[{"tags": ["javascript", "python", "html", "cgi"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482367241, "post_id": 41273855, "comment_id": 69749764, "body": "Javascript runs on the client, CGI runs on the server."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5154816"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482367398, "post_id": 41273855, "comment_id": 69749818, "body": "@ Barmar, does that mean that there is no way to get this javascript variable value in python variable?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482367460, "post_id": 41273855, "comment_id": 69749826, "body": "You can use AJAX to send it to another script."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482367517, "post_id": 41273855, "comment_id": 69749839, "body": "FYI, <code>sel.options[sel.selectedIndex].value</code> can be simplified to just <code>sel.value</code>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482367535, "post_id": 41273855, "comment_id": 69749840, "body": "And you never set the variable <code>text</code>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482367618, "post_id": 41273855, "comment_id": 69749867, "body": "When you submit the form, the selected IP will be in <code>cgi.FieldStorage[&#39;comboselect&#39;]</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5154816"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482368190, "post_id": 41273855, "comment_id": 69750006, "body": "I haven&#39;t kept submit button to avoid multiple pages. Edited the question with your suggested changes."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482368368, "post_id": 41273855, "comment_id": 69750056, "body": "If you don&#39;t want to reload the page, you need to use AJAX."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5154816"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482376485, "post_id": 41273855, "comment_id": 69751924, "body": "I am not aware of AJAX, can you please guide me further on how can I do this with AJAX? Thanks!"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5154816"}, "is_accepted": true, "score": 0, "last_activity_date": 1483591615, "creation_date": 1483591615, "answer_id": 41477470, "question_id": 41273855, "link": "https://stackoverflow.com/questions/41273855/how-to-get-value-of-javascript-variable-in-python-variable-in-python-cgi-script/41477470#41477470", "title": "How to get value of javascript variable in python variable in Python-CGI script", "body": "<p>I was able to resolve it with following code and multiple pages:</p>\n\n<pre><code># Create instance of FieldStorage\nform = cgi.FieldStorage()\nop = form.getvalue('combo')\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5154816"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 915, "favorite_count": 0, "accepted_answer_id": 41477470, "answer_count": 1, "score": 0, "last_activity_date": 1483591615, "creation_date": 1482364786, "last_edit_date": 1482368351, "question_id": 41273855, "link": "https://stackoverflow.com/questions/41273855/how-to-get-value-of-javascript-variable-in-python-variable-in-python-cgi-script", "title": "How to get value of javascript variable in python variable in Python-CGI script", "body": "<p>I want to take the value of javascript variable into python variable.</p>\n\n<p>This is Python-CGI script which displays a selection box and selected value appears on the page. But I want to take selected value in python variable.</p>\n\n<pre><code>#!/usr/bin/python2.7 -u\nimport time, sys, os\n\n# Import modules for CGI handling\nimport cgi, cgitb\n\nsys.stdout.write('Content-Type: text/html;charset=utf-8\\n')\nprint \"\\n\\n\"\nprint \"&lt;html&gt;\"\nprint \"&lt;body&gt;\"\n\nrows = ['1.1.1.1', '2.2.2.2', '3.3.3.3']\nprint \"&lt;script&gt;\"\nprint \"function showData() {\"\nprint \"var sel = document.getElementById('combo');\"\nprint \"var value = sel.value;\"\nprint \"var text = sel.options[sel.selectedIndex].text;\"\nprint \"document.getElementById('secondP').innerHTML=text;}\"\nprint \"&lt;/script&gt;\"\n\nprint '&lt;form name=\"comboform\"&gt;'\nprint '&lt;select name=\"comboselect\" onchange=\"showData()\" id=\"combo\"&gt;'\nfor row in rows:\n    print \"&lt;option value='%s'&gt;%s&lt;/option&gt;\"%(row,row)\nprint \"&lt;/select&gt;\"\nprint \"&lt;/form&gt;\"\n\nprint '&lt;p id=\"secondP\"&gt;&amp;nbsp;&lt;/p&gt;'\n\n# HERE I WANT TO TAKE VALUE OF SELECTED IP ADDRESS (var value) IN PYTHON VARIABLE\n# selected_ip_adr = value #something like this where value has selected ip address\n# NEED TO PASS THE SAME TO ANOTHER SCRIPT\n\nsys.stdout.flush()\nprint \"&lt;/body&gt;\"\nprint \"&lt;/html&gt;\"\n</code></pre>\n\n<p>It would be great if someone can suggest a work-around to achieve this.</p>\n"}, {"tags": ["javascript", "internet-explorer"], "comments": [{"owner": {"reputation": 137853, "user_id": 615754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SiiYj.jpg?s=128&g=1", "display_name": "nnnnnn", "link": "https://stackoverflow.com/users/615754/nnnnnn"}, "edited": false, "score": 0, "creation_date": 1482364925, "post_id": 41273854, "comment_id": 69749190, "body": "IE doesn&#39;t support destructuring syntax."}, {"owner": {"reputation": 353, "user_id": 6811855, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/42f0e85c5f945bd6a1ad6324f90041a5?s=128&d=identicon&r=PG&f=1", "display_name": "Jacky", "link": "https://stackoverflow.com/users/6811855/jacky"}, "reply_to_user": {"reputation": 137853, "user_id": 615754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SiiYj.jpg?s=128&g=1", "display_name": "nnnnnn", "link": "https://stackoverflow.com/users/615754/nnnnnn"}, "edited": false, "score": 0, "creation_date": 1482364952, "post_id": 41273854, "comment_id": 69749199, "body": "What other syntax can I replace it with? I am not that familiar with JavaScript"}, {"owner": {"reputation": 4891, "user_id": 2720743, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/G0chu.jpg?s=128&g=1", "display_name": "Ajay Narain Mathur", "link": "https://stackoverflow.com/users/2720743/ajay-narain-mathur"}, "edited": false, "score": 0, "creation_date": 1482365062, "post_id": 41273854, "comment_id": 69749228, "body": "<code>var key = arr.split(&#39;=&#39;)[0];  var value = arr.split(&#39;=&#39;)[1];</code>"}, {"owner": {"reputation": 4891, "user_id": 2720743, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/G0chu.jpg?s=128&g=1", "display_name": "Ajay Narain Mathur", "link": "https://stackoverflow.com/users/2720743/ajay-narain-mathur"}, "edited": false, "score": 0, "creation_date": 1482365150, "post_id": 41273854, "comment_id": 69749245, "body": "with [key, value], you assign value at 0 index to key and 1st index to value, assign them separately and it will work in ie too."}, {"owner": {"reputation": 353, "user_id": 6811855, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/42f0e85c5f945bd6a1ad6324f90041a5?s=128&d=identicon&r=PG&f=1", "display_name": "Jacky", "link": "https://stackoverflow.com/users/6811855/jacky"}, "reply_to_user": {"reputation": 4891, "user_id": 2720743, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/G0chu.jpg?s=128&g=1", "display_name": "Ajay Narain Mathur", "link": "https://stackoverflow.com/users/2720743/ajay-narain-mathur"}, "edited": false, "score": 0, "creation_date": 1482365197, "post_id": 41273854, "comment_id": 69749254, "body": "thanks @A.J, so the next line would like? how do I write it all together?"}, {"owner": {"reputation": 137853, "user_id": 615754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SiiYj.jpg?s=128&g=1", "display_name": "nnnnnn", "link": "https://stackoverflow.com/users/615754/nnnnnn"}, "edited": false, "score": 0, "creation_date": 1482365240, "post_id": 41273854, "comment_id": 69749266, "body": "You could paste your ES6 code into <a href=\"http://babeljs.io\" rel=\"nofollow noreferrer\">babeljs.io</a> and see what ES5 code it generates. By the way, it doesn&#39;t make sense to split that input string on <code>=</code>, because it contains more than one key/value pair."}, {"owner": {"reputation": 4891, "user_id": 2720743, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/G0chu.jpg?s=128&g=1", "display_name": "Ajay Narain Mathur", "link": "https://stackoverflow.com/users/2720743/ajay-narain-mathur"}, "edited": false, "score": 0, "creation_date": 1482365311, "post_id": 41273854, "comment_id": 69749293, "body": "@Jacky : I have another point are you sure about your logic because this way you get &#39;val&#39; in in key and <code>value1&amp;val2</code> in val."}, {"owner": {"reputation": 353, "user_id": 6811855, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/42f0e85c5f945bd6a1ad6324f90041a5?s=128&d=identicon&r=PG&f=1", "display_name": "Jacky", "link": "https://stackoverflow.com/users/6811855/jacky"}, "reply_to_user": {"reputation": 4891, "user_id": 2720743, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/G0chu.jpg?s=128&g=1", "display_name": "Ajay Narain Mathur", "link": "https://stackoverflow.com/users/2720743/ajay-narain-mathur"}, "edited": false, "score": 0, "creation_date": 1482365435, "post_id": 41273854, "comment_id": 69749323, "body": "@A.J, please have a look at my updated question. This code is for swapping the keys of an object in place of values based on url provided. it works fine in chrome, I don&#39;t really understand it, but I have to do maintenance for it."}, {"owner": {"reputation": 353, "user_id": 6811855, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/42f0e85c5f945bd6a1ad6324f90041a5?s=128&d=identicon&r=PG&f=1", "display_name": "Jacky", "link": "https://stackoverflow.com/users/6811855/jacky"}, "reply_to_user": {"reputation": 137853, "user_id": 615754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SiiYj.jpg?s=128&g=1", "display_name": "nnnnnn", "link": "https://stackoverflow.com/users/615754/nnnnnn"}, "edited": false, "score": 0, "creation_date": 1482365516, "post_id": 41273854, "comment_id": 69749343, "body": "@nnnnnn, I am not familiar with ES6, I am a bit familiar with just JavaScript. Here&#39;s my updated code if you have an idea"}], "answers": [{"tags": [], "owner": {"reputation": 353, "user_id": 6811855, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/42f0e85c5f945bd6a1ad6324f90041a5?s=128&d=identicon&r=PG&f=1", "display_name": "Jacky", "link": "https://stackoverflow.com/users/6811855/jacky"}, "is_accepted": false, "score": 1, "last_activity_date": 1482366652, "creation_date": 1482366652, "answer_id": 41274100, "question_id": 41273854, "link": "https://stackoverflow.com/questions/41273854/identifier-expected-while-declaring-key-value-array-in-ie-javascript/41274100#41274100", "title": "Identifier Expected while declaring key value array in IE - JavaScript", "body": "<p>The code was written in ES6 as stated in comments, so I converted the code to ES5 using transpiler, and it worked. </p>\n"}], "owner": {"reputation": 353, "user_id": 6811855, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/42f0e85c5f945bd6a1ad6324f90041a5?s=128&d=identicon&r=PG&f=1", "display_name": "Jacky", "link": "https://stackoverflow.com/users/6811855/jacky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 376, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1482366652, "creation_date": 1482364780, "last_edit_date": 1482365378, "question_id": 41273854, "link": "https://stackoverflow.com/questions/41273854/identifier-expected-while-declaring-key-value-array-in-ie-javascript", "title": "Identifier Expected while declaring key value array in IE - JavaScript", "body": "<p>I have this code: </p>\n\n<pre><code>var arr = \"val=value1&amp;val2=value2\"; //coming from query string\n var [key, val] = arr.split('=');\n return \".\" + swapped[key.toLowerCase()][val.toLowerCase()];\n</code></pre>\n\n<p>however, I am having this error on the second line: </p>\n\n<blockquote>\n  <p>Expected identifier</p>\n</blockquote>\n\n<p>I am having this issue on IE, it's working fine on chrome/firefox. </p>\n\n<p>Any ideas?</p>\n\n<p>I am doing maintenance for an existing site and they're having this issue on IE.</p>\n\n<p>Edit</p>\n\n<p>Here's the full code I have: </p>\n\n<pre><code> url = decodeURI(url);\n    var swapped = Object.keys(settings).reduce(function (obj, key) {\n        obj[key.toLowerCase()] = Object.keys(settings[key]).reduce(function (obj2, key2) {\n            obj2[settings[key][key2].toLowerCase()] = key2;\n            return obj2;\n        }, {});\n        return obj;\n    }, {});\n    return url.toLowerCase().split(/[?&amp;#]/).slice(1).map(function (arg) {\n        var [key, val] = arg.split('=');\n        return \".\" + swapped[key.toLowerCase()][val.toLowerCase()];\n    });\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "css", "html"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1106925"}, "edited": false, "score": 0, "creation_date": 1482364891, "post_id": 41273853, "comment_id": 69749179, "body": "<code>.css()</code> doesn&#39;t wait for animations and other queued activity to complete, so the last image background will be set before it even begins to animate."}, {"owner": {"reputation": 1, "user_id": 7328054, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-32Gl2SVzMmU/AAAAAAAAAAI/AAAAAAAACj8/xmbzaaW-2cw/photo.jpg?sz=128", "display_name": "Sergi Jacas Puig", "link": "https://stackoverflow.com/users/7328054/sergi-jacas-puig"}, "edited": false, "score": 0, "creation_date": 1482365306, "post_id": 41273853, "comment_id": 69749291, "body": "Oh! Perfect, thanks. But do you have any idea to solve it?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1106925"}, "edited": false, "score": 0, "creation_date": 1482365381, "post_id": 41273853, "comment_id": 69749310, "body": "Yes, don&#39;t iterate immediately, but instead use the callback parameter of <code>.animate()</code> to progress to the next image."}], "answers": [{"tags": [], "owner": {"reputation": 85990, "user_id": 104380, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/00eb0dd8c3cd1298b05f09661f0c2b45?s=128&d=identicon&r=PG", "display_name": "vsync", "link": "https://stackoverflow.com/users/104380/vsync"}, "is_accepted": false, "score": 1, "last_activity_date": 1482588598, "creation_date": 1482588598, "answer_id": 41313971, "question_id": 41273853, "link": "https://stackoverflow.com/questions/41273853/just-show-me-tree-png/41313971#41313971", "title": "Just show me tree.png", "body": "<p>This is the worst way to do what I am thinking you are trying to do. <br>\nYou are seeing <code>tree</code> 3 times because <code>tree</code> is the <strong>last item</strong> in the array and is set as background for <code>$('#imagesContainer')</code>, regardless of any items in the array before it. (think of it as it all happens immediately, so of course the last item will be the thing you will see) </p>\n\n<p>You need to come up with a different logic, perhaps consider using <code>setInterval</code> or <code>settimeout</code> technique to change between images.</p>\n"}], "owner": {"reputation": 1, "user_id": 7328054, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-32Gl2SVzMmU/AAAAAAAAAAI/AAAAAAAACj8/xmbzaaW-2cw/photo.jpg?sz=128", "display_name": "Sergi Jacas Puig", "link": "https://stackoverflow.com/users/7328054/sergi-jacas-puig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482588598, "creation_date": 1482364765, "last_edit_date": 1482365010, "question_id": 41273853, "link": "https://stackoverflow.com/questions/41273853/just-show-me-tree-png", "title": "Just show me tree.png", "body": "<p>Someone can help me to find the problem of this code which only shows me three times the same image, tree.png ??</p>\n\n<pre><code>var bankImages = [\"troyano\", \"backup\", \"tree\"];\n\njQuery.each( bankImages, function( i, val ) {                \n    $('#imagesContainer').css(\"background-image\",\"url(../images/\" + val + \".png)\")\n                         .animate({width: \"show\"})\n                         .delay(500)\n                         .animate({width: \"hide\"});\n});\n</code></pre>\n"}, {"tags": ["javascript", "c++", "textures", "game-engine", "babylonjs"], "comments": [{"owner": {"reputation": 7466, "user_id": 2146682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7120fc7548c43237662da906e3c84f43?s=128&d=identicon&r=PG", "display_name": "MrEricSir", "link": "https://stackoverflow.com/users/2146682/mrericsir"}, "edited": false, "score": 0, "creation_date": 1482366910, "post_id": 41273825, "comment_id": 69749684, "body": "I mean, once the .BMP file is loaded, the software can display it any way it wants to. If it wants to display red as green, there&#39;s nothing stopping it from doing so."}, {"owner": {"reputation": 2689, "user_id": 1687639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5a6dd18900e2bfd6dffec21ee358f31?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Oicles", "link": "https://stackoverflow.com/users/1687639/christopher-oicles"}, "edited": false, "score": 0, "creation_date": 1482371890, "post_id": 41273825, "comment_id": 69750863, "body": "If the .bmp file contains 32-bit data, each pixel is defined by 4 bytes of component levels: red, green, blue and alpha.  Alpha may be interpreted as the pixel&#39;s transparency level.  Unfortunately, the image you linked has been converted to .png, and without the original data I can&#39;t draw any conclusions about its format."}, {"owner": {"reputation": 14671, "user_id": 2317490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ypoen.png?s=128&g=1", "display_name": "dandavis", "link": "https://stackoverflow.com/users/2317490/dandavis"}, "edited": false, "score": 0, "creation_date": 1482381642, "post_id": 41273825, "comment_id": 69753200, "body": "you can loop though the pixels and change that black to transparent."}, {"owner": {"reputation": 161, "user_id": 4932363, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/975395335834526/picture?type=large", "display_name": "Kajcioch", "link": "https://stackoverflow.com/users/4932363/kajcioch"}, "reply_to_user": {"reputation": 2689, "user_id": 1687639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5a6dd18900e2bfd6dffec21ee358f31?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Oicles", "link": "https://stackoverflow.com/users/1687639/christopher-oicles"}, "edited": false, "score": 0, "creation_date": 1482393455, "post_id": 41273825, "comment_id": 69757998, "body": "@Christopher Oicles I can link original file to some file sharing site"}], "owner": {"reputation": 161, "user_id": 4932363, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/975395335834526/picture?type=large", "display_name": "Kajcioch", "link": "https://stackoverflow.com/users/4932363/kajcioch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1482364576, "creation_date": 1482364576, "question_id": 41273825, "link": "https://stackoverflow.com/questions/41273825/defining-transpency-in-bmp-files", "title": "Defining transpency in bmp files", "body": "<p>A game I'm currently researching, has some textures on interface. Those textures in-game are transparent. This game is honestly really old (1999) and those textures are saved as <code>.BMP</code>. Here is a sample texture file:</p>\n\n<p><a href=\"https://i.stack.imgur.com/bRMss.png\" rel=\"nofollow noreferrer\">Sample texture interface file</a></p>\n\n<p>This game is written in C++.</p>\n\n<p>Here's my question: how is that possible, that a game understands some parts of <code>.BMP</code>, which are definitely <strong>black</strong>, as a transparent surface? Can you give me an idea, how to define one as well? I'm currently working in canvas (Javascript, <a href=\"http://babylonjs.com/\" rel=\"nofollow noreferrer\">BabylonJS</a>), but I need an idea, not code.</p>\n"}, {"tags": ["javascript", "dart", "dart-js-interop"], "comments": [{"owner": {"reputation": 1189, "user_id": 3931609, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/4n2cW.jpg?s=128&g=1", "display_name": "Kul", "link": "https://stackoverflow.com/users/3931609/kul"}, "edited": false, "score": 1, "creation_date": 1482409401, "post_id": 41273787, "comment_id": 69767818, "body": "can you create a small example which demonstrates this issue? It&#39;ll be easier to help if there&#39;s something to debug"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1482426088, "post_id": 41273787, "comment_id": 69778816, "body": "preferred using <a href=\"https://dartpad.dartlang.org/\" rel=\"nofollow noreferrer\">dartpad.dartlang.org</a>"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1482426155, "post_id": 41273787, "comment_id": 69778862, "body": "<a href=\"https://pub.dartlang.org/packages/js\" rel=\"nofollow noreferrer\">pub.dartlang.org/packages/js</a> is now a better option than <code>dart:js</code> for dart-js-interop"}, {"owner": {"reputation": 120, "user_id": 5927655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62b4f833552d89de0570b8b6e3b61dca?s=128&d=identicon&r=PG&f=1", "display_name": "ahirschberg", "link": "https://stackoverflow.com/users/5927655/ahirschberg"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1482427745, "post_id": 41273787, "comment_id": 69779742, "body": "@G&#252;nterZ&#246;chbauer unfortunately I still get the issue even when importing only &#39;package:js/js.dart&#39;"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1482438149, "post_id": 41273787, "comment_id": 69784721, "body": "Just importing another package is not enough. Read the readme of the package <a href=\"https://pub.dartlang.org/packages/js\" rel=\"nofollow noreferrer\">pub.dartlang.org/packages/js</a> about how to use it."}, {"owner": {"reputation": 5738, "user_id": 2118226, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/SgUMa.jpg?s=128&g=1", "display_name": "matanlurey", "link": "https://stackoverflow.com/users/2118226/matanlurey"}, "edited": false, "score": 1, "creation_date": 1482438348, "post_id": 41273787, "comment_id": 69784818, "body": "I&#39;ll help you out - let me just clone your package."}, {"owner": {"reputation": 120, "user_id": 5927655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62b4f833552d89de0570b8b6e3b61dca?s=128&d=identicon&r=PG&f=1", "display_name": "ahirschberg", "link": "https://stackoverflow.com/users/5927655/ahirschberg"}, "edited": false, "score": 0, "creation_date": 1482438573, "post_id": 41273787, "comment_id": 69784936, "body": "Would you mind taking a look at my javascript and dart facade files? <a href=\"https://github.com/ahirschberg/dart-js-interop-toy/blob/master/web/toy.js\" rel=\"nofollow noreferrer\">github.com/ahirschberg/dart-js-interop-toy/blob/master/web/&hellip;</a> and <a href=\"https://github.com/ahirschberg/dart-js-interop-toy/blob/master/web/toy_facade.dart\" rel=\"nofollow noreferrer\">github.com/ahirschberg/dart-js-interop-toy/blob/master/web/&hellip;</a> ? Reading through the readme, nothing jumps out to me as obviously incorrect, although its definitely possible I&#39;m missing something."}], "answers": [{"tags": [], "owner": {"reputation": 5738, "user_id": 2118226, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/SgUMa.jpg?s=128&g=1", "display_name": "matanlurey", "link": "https://stackoverflow.com/users/2118226/matanlurey"}, "is_accepted": true, "score": 8, "last_activity_date": 1482440018, "creation_date": 1482440018, "answer_id": 41291503, "question_id": 41273787, "link": "https://stackoverflow.com/questions/41273787/getting-an-arbitrary-property-from-a-javascript-object-in-dart/41291503#41291503", "title": "Getting an arbitrary property from a JavaScript object in Dart", "body": "<p>Ok, this was a fun one, happy holidays :)</p>\n\n<p>It looks like <code>Map</code> is not a supported auto-conversion for <code>package:js</code>. So a couple of things:</p>\n\n<ol>\n<li>Filed <a href=\"https://github.com/dart-lang/sdk/issues/28194\" rel=\"noreferrer\">https://github.com/dart-lang/sdk/issues/28194</a></li>\n<li>Sent your a <a href=\"https://github.com/ahirschberg/dart-js-interop-toy/pull/1\" rel=\"noreferrer\">PR introducing a workaround</a> </li>\n</ol>\n\n<p>For interested parties, we can use the browser-native <code>Object.keys</code>:</p>\n\n<pre><code>@JS()\nlibrary example;\n\nimport 'package:js/js.dart';\n\n/// A workaround to converting an object from JS to a Dart Map.\nMap jsToMap(jsObject) {\n  return new Map.fromIterable(\n    _getKeysOfObject(jsObject),\n    value: (key) =&gt; getProperty(jsObject, key),\n  );\n}\n\n// Both of these interfaces exist to call `Object.keys` from Dart.\n//\n// But you don't use them directly. Just see `jsToMap`.\n@JS('Object.keys')\nexternal List&lt;String&gt; _getKeysOfObject(jsObject);\n</code></pre>\n\n<p>And call it once we have an arbitrary JavaScript object:</p>\n\n<pre><code>var properties = jsToMap(toy.getData());\nprint(properties);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 96, "user_id": 6228880, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ejxzCzUSjSs/AAAAAAAAAAI/AAAAAAAADkU/ZENRQPVbdsg/photo.jpg?sz=128", "display_name": "Vladimir Goldobin", "link": "https://stackoverflow.com/users/6228880/vladimir-goldobin"}, "is_accepted": false, "score": 0, "last_activity_date": 1606684748, "creation_date": 1606684748, "answer_id": 65065292, "question_id": 41273787, "link": "https://stackoverflow.com/questions/41273787/getting-an-arbitrary-property-from-a-javascript-object-in-dart/65065292#65065292", "title": "Getting an arbitrary property from a JavaScript object in Dart", "body": "<p>I had to modify @matanlurey solution so it works on dart 2.12 and is recursive.</p>\n<pre><code>import 'dart:js';\n\n/// A workaround to deep-converting an object from JS to a Dart Object.\nObject jsToDart(jsObject) {\n  if (jsObject is JsArray || jsObject is Iterable) {\n    return jsObject.map(jsToDart).toList();\n  }\n  if (jsObject is JsObject) {\n    return Map.fromIterable(\n      getObjectKeys(jsObject),\n      value: (key) =&gt; jsToDart(jsObject[key]),\n    );\n  }\n  return jsObject;\n}\n\nList&lt;String&gt; getObjectKeys(JsObject object) =&gt; context['Object']\n    .callMethod('getOwnPropertyNames', [object])\n    .toList()\n    .cast&lt;String&gt;();\n</code></pre>\n"}], "owner": {"reputation": 120, "user_id": 5927655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62b4f833552d89de0570b8b6e3b61dca?s=128&d=identicon&r=PG&f=1", "display_name": "ahirschberg", "link": "https://stackoverflow.com/users/5927655/ahirschberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1515, "favorite_count": 0, "accepted_answer_id": 41291503, "answer_count": 2, "score": 4, "last_activity_date": 1606684748, "creation_date": 1482364255, "last_edit_date": 1482437410, "question_id": 41273787, "link": "https://stackoverflow.com/questions/41273787/getting-an-arbitrary-property-from-a-javascript-object-in-dart", "title": "Getting an arbitrary property from a JavaScript object in Dart", "body": "<p>Edit: <a href=\"https://github.com/ahirschberg/dart-js-interop-toy\" rel=\"nofollow noreferrer\">Here is a minimal project that illustrates my issue.</a> You can see the error described by serving it to the browser: <code>pub get</code> and then either <code>pub serve</code> (dartium) or <code>pub build --mode=debug</code> (other browsers).</p>\n\n<p>How can I access an arbitrary JavaScript property from Dart through a JsObjectImpl? I am using the ace.js library with an interop to Dart that I've adapted from a typescript interface, and the method I am calling returns a plain javascript object with key-value pairs.</p>\n\n<p>Dart gives me a JsObjectImpl, which cannot be casted to a Map or a JsObject, both of which have [] accessors. It confusingly seems to inherit from the deprecated JSObject (note the 's' is capitalized in the latter) which does not have the [] accessor, so I can't get the data out.</p>\n\n<p>Some error messages:</p>\n\n<ol>\n<li><p>When attempting a cast from JsObjectImpl to JsObject:<br/>\n<code>ORIGINAL EXCEPTION: type 'JSObjectImpl' is not a subtype of type 'JsObject' of 'obj' where\nJSObjectImpl is from dart:js\nJsObject is from dart:js</code>. I get a similar message when using <code>Map</code> as well.</p></li>\n<li><p>Looking at the object in the debugger, I can frustratingly see the property in JS view but <strong>not</strong> in the Dart object: <br/><a href=\"https://i.stack.imgur.com/M2Dwv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M2Dwv.png\" alt=\"Chrome debugger showing a property with the key &quot;4&quot;\"></a><br/> The <code>4: Object</code> is the data I want.</p></li>\n</ol>\n"}, {"tags": ["javascript", "ruby-on-rails", "html", "ruby-on-rails-5"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7328019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1063e82dc15f7cf783a78420029c66e6?s=128&d=identicon&r=PG&f=1", "display_name": "JLE", "link": "https://stackoverflow.com/users/7328019/jle"}, "edited": false, "score": 0, "creation_date": 1482859506, "post_id": 41273904, "comment_id": 69900586, "body": "thank you chester, I updated the code to reflect your code, it does not throw any errors, but also does not work... could it be that the &#39;onchange&#39; call itself does not work?  is there a way I can test that out?  or debug it in a way."}, {"owner": {"reputation": 183, "user_id": 4907078, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/M9vNX.jpg?s=128&g=1", "display_name": "chester", "link": "https://stackoverflow.com/users/4907078/chester"}, "reply_to_user": {"reputation": 11, "user_id": 7328019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1063e82dc15f7cf783a78420029c66e6?s=128&d=identicon&r=PG&f=1", "display_name": "JLE", "link": "https://stackoverflow.com/users/7328019/jle"}, "edited": false, "score": 0, "creation_date": 1482875182, "post_id": 41273904, "comment_id": 69907048, "body": "@JLE, I updated the answer - I missed a few thing in your erb file. I don&#39;t think the <code>onchange</code> function was firing before because it was not passed to the <code>select</code> helper correctly. Take a look at the actual html rendered and I&#39;ll bet that <code>onchange=&quot;manageEvent();&quot;</code> was not present in your <code>select</code> element."}, {"owner": {"reputation": 183, "user_id": 4907078, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/M9vNX.jpg?s=128&g=1", "display_name": "chester", "link": "https://stackoverflow.com/users/4907078/chester"}, "reply_to_user": {"reputation": 11, "user_id": 7328019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1063e82dc15f7cf783a78420029c66e6?s=128&d=identicon&r=PG&f=1", "display_name": "JLE", "link": "https://stackoverflow.com/users/7328019/jle"}, "edited": false, "score": 0, "creation_date": 1482875416, "post_id": 41273904, "comment_id": 69907123, "body": "As far as debugging, you could throw a <code>console.log()</code> into your function to print out a variable a run-time. Or better yet,  try using the developer tools in Chrome, or whatever browser you are using, to add breakpoints to you code in order to see whats going on during execution (or to see if your code is being executed at all)."}], "tags": [], "owner": {"reputation": 183, "user_id": 4907078, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/M9vNX.jpg?s=128&g=1", "display_name": "chester", "link": "https://stackoverflow.com/users/4907078/chester"}, "is_accepted": false, "score": 0, "last_activity_date": 1482874839, "last_edit_date": 1482874839, "creation_date": 1482365133, "answer_id": 41273904, "question_id": 41273786, "link": "https://stackoverflow.com/questions/41273786/ror-rails-f-select-onchange-of-value-making-portions-of-html-visible/41273904#41273904", "title": "RoR rails, f.select onchange of value, making portions of html visible", "body": "<p>It looks like you aren't declaring <code>selection</code> -- you are setting the variable <code>checkbox</code> instead.</p>\n\n<p>Also, you should use <code>.value</code> instead of <code>.val()</code>.</p>\n\n<p>Try this:</p>\n\n<pre><code>function manageEvent(){\n\n    // change checkbox to selection\n    var selection = document.getElementById('chk_event');\n\n    // changed selection.val() to selection.value\n    if (selection.value == \"yes\"){\n        document.getElementById(\"event_blk\").style.display = \"block\";\n    } else {\n        document.getElementById(\"event_blk\").style.display = \"none\";\n    }\n}\n</code></pre>\n\n<p><b>Update:</b></p>\n\n<p>You will also need to fix your <code>select</code> helper. If you check out the <a href=\"http://apidock.com/rails/ActionView/Helpers/FormOptionsHelper/select\" rel=\"nofollow noreferrer\">documentation</a>, you will find that the last two arguments accepted by the <code>select</code> helper are the <code>options</code> hash and the <code>html_options</code> hash. You need to pass <code>:onchange</code> in the <code>html_options</code> hash. Also, Rails will default to <code>[model_name]_[attribute_name]</code> as the <code>id</code> for the <code>select</code> element, so you will also need to pass <code>:id =&gt; \"chk_event\"</code> in the <code>html_options</code> hash if you want to use that string as the <code>id</code>:</p>\n\n<pre><code>&lt;div class=\"row\"&gt; \n  &lt;div class=\"col-md-4\"&gt;\n    &lt;div class=\"field\"&gt;\n      &lt;%= f.label :event %&gt;\n      &lt;!-- &lt; f.check_box :event, :id =&gt; \"chk_event\", :onclick =&gt; \"manageEvent();\" &gt; --&gt;\n      &lt;%= f.select :event, \n                   [['Unkown', 'unk'], ['yes', 'yes'], ['no', 'no']],\n                   {}, #empty options hash\n                   { :id =&gt; \"chk_event\", :onchange =&gt; \"manageEvent();\" } %&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7328019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1063e82dc15f7cf783a78420029c66e6?s=128&d=identicon&r=PG&f=1", "display_name": "JLE", "link": "https://stackoverflow.com/users/7328019/jle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 563, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1482874839, "creation_date": 1482364254, "question_id": 41273786, "link": "https://stackoverflow.com/questions/41273786/ror-rails-f-select-onchange-of-value-making-portions-of-html-visible", "title": "RoR rails, f.select onchange of value, making portions of html visible", "body": "<p>I am fairly new to Rails. \nI was able to correctly get the onclick to function for a f.checkbox.</p>\n\n<p>Now I am trying to do something similar for a f.select in a _form. </p>\n\n<p>here is my working code for a checkbox\nerb portion :</p>\n\n<pre><code>&lt;div class=\"row\"&gt; \n  &lt;div class=\"col-md-4\"&gt;\n    &lt;div class=\"field\"&gt;\n      &lt;%= f.label :air? %&gt;\n      &lt;%= f.check_box :air, :id =&gt; \"chk_air\", :onclick =&gt; \"manageAirDisp();\" %&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n\n  &lt;% if request.air? %&gt;\n    &lt;div class=\"col-md-4\", id=\"MultiButton\", style=\"display: block\"&gt;\n  &lt;% else %&gt;\n    &lt;div class=\"col-md-4\", id=\"MultiButton\", style=\"display: none\"&gt;\n  &lt;% end %&gt;\n      &lt;button onclick=\"showAirMulti(); return false;\", class=\"btn-custom-normal\"&gt;Show/Hide Multi-Destinations&lt;/button&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>on top of the _frm the corresponding script portion:</p>\n\n<pre><code>function manageAirDisp (){\n  var checkbox = document.getElementById('chk_air');\n  // this check below checks if checkbox is checked or not.\n  if (checkbox.checked){\n    document.getElementById(\"air_div\").style.display = \"block\";\n    document.getElementById(\"MultiButton\").style.display = \"block\";\n  } else {\n    document.getElementById(\"air_div\").style.display = \"none\";\n    document.getElementById(\"MultiButton\").style.display = \"none\";\n  }\n\n}\n</code></pre>\n\n<p>Now what I cannot get to work with a dorp down selection instead:\nthe erb portion:</p>\n\n<pre><code>&lt;div class=\"row\"&gt; \n  &lt;div class=\"col-md-4\"&gt;\n    &lt;div class=\"field\"&gt;\n      &lt;%= f.label :event %&gt;\n      &lt;!-- &lt; f.check_box :event, :id =&gt; \"chk_event\", :onclick =&gt; \"manageEvent();\" &gt; --&gt;\n      &lt;%= f.select :event, [['Unkown', 'unk'], ['yes', 'yes'], ['no', 'no']], :onchange =&gt; \"manageEvent();\" } %&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"row\",  id=\"event_blk\", style=\"display: none\"&gt;\n  &lt;div class=\"col-md-4\"&gt;\n    &lt;div class=\"field\"&gt;\n      &lt;%= f.label :registration, \"addQuestion?\" %&gt;\n      &lt;%= f.check_box :addquestion %&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;  \n</code></pre>\n\n<p>and now the corresponding script portion that I canot get to work:</p>\n\n<pre><code>function manageEvent(){\n  var checkbox = document.getElementById('chk_event');\n  // this check below checks if checkbox is checked or not.\n  if (selection.val() = \"yes\"){\n    document.getElementById(\"event_blk\").style.display = \"block\";\n  } else {\n    document.getElementById(\"event_blk\").style.display = \"none\";\n  }\n   // to check on value instead it should look as follows:\n  // if (checkbox.val() = \"something\") {  then do something }\n\n}\n</code></pre>\n\n<p>So what I want to do is to have the section event_blk to become visible when the user select \"yes\" and that as soon as they have it selected, or make it invisible as soon as they select no or unk</p>\n\n<p>Thanks for any help </p>\n"}, {"tags": ["javascript", "arrays"], "answers": [{"comments": [{"owner": {"reputation": 3443, "user_id": 2392358, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8ad7bd74326036ddaa3c20139424b2e1?s=128&d=identicon&r=PG", "display_name": "HattrickNZ", "link": "https://stackoverflow.com/users/2392358/hattricknz"}, "edited": false, "score": 0, "creation_date": 1482364679, "post_id": 41273791, "comment_id": 69749113, "body": "tks but Object.assign gives me an object I want an array <code>var array_2 = Object.assign({}, dfg); array_2 Object { 0=[6],  1=[6]}</code>"}, {"owner": {"reputation": 3443, "user_id": 2392358, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8ad7bd74326036ddaa3c20139424b2e1?s=128&d=identicon&r=PG", "display_name": "HattrickNZ", "link": "https://stackoverflow.com/users/2392358/hattricknz"}, "edited": false, "score": 0, "creation_date": 1482364810, "post_id": 41273791, "comment_id": 69749148, "body": "extend does the same <code>var array_3 = $.extend({},true,dfg); array_3 Object { 0=[6],  1=[6]}</code>"}, {"owner": {"reputation": 5936, "user_id": 1735653, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/KSGfY.jpg?s=128&g=1", "display_name": "Lee Brindley", "link": "https://stackoverflow.com/users/1735653/lee-brindley"}, "reply_to_user": {"reputation": 3443, "user_id": 2392358, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8ad7bd74326036ddaa3c20139424b2e1?s=128&d=identicon&r=PG", "display_name": "HattrickNZ", "link": "https://stackoverflow.com/users/2392358/hattricknz"}, "edited": false, "score": 0, "creation_date": 1482364810, "post_id": 41273791, "comment_id": 69749149, "body": "Did you try jquery extend?"}, {"owner": {"reputation": 5936, "user_id": 1735653, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/KSGfY.jpg?s=128&g=1", "display_name": "Lee Brindley", "link": "https://stackoverflow.com/users/1735653/lee-brindley"}, "reply_to_user": {"reputation": 3443, "user_id": 2392358, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8ad7bd74326036ddaa3c20139424b2e1?s=128&d=identicon&r=PG", "display_name": "HattrickNZ", "link": "https://stackoverflow.com/users/2392358/hattricknz"}, "edited": false, "score": 0, "creation_date": 1482365111, "post_id": 41273791, "comment_id": 69749238, "body": "Are you doing the manipulation on the cloned array? Your first array shouldn&#39;t be affected if you are"}, {"owner": {"reputation": 3443, "user_id": 2392358, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8ad7bd74326036ddaa3c20139424b2e1?s=128&d=identicon&r=PG", "display_name": "HattrickNZ", "link": "https://stackoverflow.com/users/2392358/hattricknz"}, "edited": false, "score": 0, "creation_date": 1482365594, "post_id": 41273791, "comment_id": 69749359, "body": "tried jquery extend, but that returns an object of arrays. maybe if I create another array from that object it will not reference the original?"}], "tags": [], "owner": {"reputation": 5936, "user_id": 1735653, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/KSGfY.jpg?s=128&g=1", "display_name": "Lee Brindley", "link": "https://stackoverflow.com/users/1735653/lee-brindley"}, "is_accepted": false, "score": 3, "last_activity_date": 1482364799, "last_edit_date": 1482364799, "creation_date": 1482364294, "answer_id": 41273791, "question_id": 41273735, "link": "https://stackoverflow.com/questions/41273735/how-do-i-copy-an-array-of-arrays-of-objects-and-be-able-to-manipulate-the-copied/41273791#41273791", "title": "How do I copy an array of arrays of objects and be able to manipulate the copied array and not affect the original array", "body": "<p>Clone the array? That way you'll have a copy of the original array which is not an array of references to the original.</p>\n\n<p>If you're using jquery then you can use .extend </p>\n\n<pre><code>var array_1 = [{},{},{}];\n\nvar array_2 = $.extend({}, true, array_1); // deep clone \n</code></pre>\n\n<p>Or you could use some new JavaScript. Although this only performs a shallow copy so is probably not fit for your use-case, I'm on the mobile app so can't play with your code..</p>\n\n<pre><code>var array_2 = Object.assign({}, array_1); \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3443, "user_id": 2392358, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8ad7bd74326036ddaa3c20139424b2e1?s=128&d=identicon&r=PG", "display_name": "HattrickNZ", "link": "https://stackoverflow.com/users/2392358/hattricknz"}, "edited": false, "score": 0, "creation_date": 1482365310, "post_id": 41273907, "comment_id": 69749292, "body": "tks, pretty sure I tried a variant of that but will give that a go."}, {"owner": {"reputation": 1070, "user_id": 3709602, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/nAlMK.jpg?s=128&g=1", "display_name": "NoobSter", "link": "https://stackoverflow.com/users/3709602/noobster"}, "reply_to_user": {"reputation": 3443, "user_id": 2392358, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8ad7bd74326036ddaa3c20139424b2e1?s=128&d=identicon&r=PG", "display_name": "HattrickNZ", "link": "https://stackoverflow.com/users/2392358/hattricknz"}, "edited": false, "score": 0, "creation_date": 1482365523, "post_id": 41273907, "comment_id": 69749345, "body": "NP. Hope the answer works out for you. I&#39;ve run into similar use cases recently ."}], "tags": [], "owner": {"reputation": 1070, "user_id": 3709602, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/nAlMK.jpg?s=128&g=1", "display_name": "NoobSter", "link": "https://stackoverflow.com/users/3709602/noobster"}, "is_accepted": true, "score": 1, "last_activity_date": 1482370180, "last_edit_date": 1482370180, "creation_date": 1482365150, "answer_id": 41273907, "question_id": 41273735, "link": "https://stackoverflow.com/questions/41273735/how-do-i-copy-an-array-of-arrays-of-objects-and-be-able-to-manipulate-the-copied/41273907#41273907", "title": "How do I copy an array of arrays of objects and be able to manipulate the copied array and not affect the original array", "body": "<p>You can clone the object of the array. </p>\n\n<p>for instance: </p>\n\n<pre><code>var arr = [{'one': 1}, {'two': 2}];\n\nvar arr2 = [];\n\narr2.push(JSON.parse(JSON.stringify(arr[0])));\n</code></pre>\n\n<p>arr2 will now have an independent copy of arr[0], using JSON.parse w/ JSON.stringify. You could use a for loop, for each, or map to copy all objects in the original array. </p>\n"}], "owner": {"reputation": 3443, "user_id": 2392358, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8ad7bd74326036ddaa3c20139424b2e1?s=128&d=identicon&r=PG", "display_name": "HattrickNZ", "link": "https://stackoverflow.com/users/2392358/hattricknz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 755, "favorite_count": 0, "accepted_answer_id": 41273907, "answer_count": 2, "score": 1, "last_activity_date": 1482370180, "creation_date": 1482363830, "last_edit_date": 1495540799, "question_id": 41273735, "link": "https://stackoverflow.com/questions/41273735/how-do-i-copy-an-array-of-arrays-of-objects-and-be-able-to-manipulate-the-copied", "title": "How do I copy an array of arrays of objects and be able to manipulate the copied array and not affect the original array", "body": "<p>This is my dataset:</p>\n\n<pre><code>dfg= [[{\"key\":\"Product_Description\",\"value\":\"$49.95 Plan\"},{\"key\":\"&gt;20MB/30\",\"value\":44555},{\"key\":\"&gt;200MB/30\",\"value\":36599},{\"key\":\"&gt;2048MB/30\",\"value\":16173},{\"key\":\"&gt;5120MB/30\",\"value\":6380},{\"key\":\"&gt;10240MB/30\",\"value\":2178}],[{\"key\":\"Product_Description\",\"value\":\"$39.95 Plan\"},{\"key\":\"&gt;20MB/30\",\"value\":54832},{\"key\":\"&gt;200MB/30\",\"value\":42988},{\"key\":\"&gt;2048MB/30\",\"value\":14826},{\"key\":\"&gt;5120MB/30\",\"value\":4742},{\"key\":\"&gt;10240MB/30\",\"value\":1567}]]\n</code></pre>\n\n<p>I want to pass it through this function so that I change the values in the above into percentage of the total value for 'Product Description'</p>\n\n<pre><code>//funtion to format data for percent values \nfunction format_data_to_percent(d){\n\nvar data = d\ndata.map(function(a){ \n    var sum = a.slice(1).map(function(a){ return a.value; }).reduce(function(a,b){return a*1+b*1},0); \n    //console.log(\"sum\",sum); \n\n    a.slice(1).filter(function(a){\n        //console.log(a)\n        a.value=a.value/sum\n        //console.log(a)\n    }); \n\n    return a;\n})\n\n\n//START TEST \n// create a test case for it // make this better\nvals=data_p[0].slice(1).map(function(a){ return a.value; })\n//[\"11\", \"33\", \"10\", \"55\", \"10\"]\nsum = data_p[0].slice(1).map(function(a){ return a.value; }).reduce(function(a, b){return a*1+b*1},0);\n//119\nvals2=vals.map(function(a){ return a/sum})\n//[0.09243697478991597, 0.2773109243697479, 0.08403361344537816, 0.46218487394957986, 0.08403361344537816]\n\n\nconsole.log(\"test1--&gt; \",data[0][1].value == vals2[0])\nconsole.log(\"test2--&gt; \",data[0][2].value == vals2[1])\nconsole.log(\"test3--&gt; \",data[0][3].value == vals2[2])\nconsole.log(\"test4--&gt; \",data[0][4].value == vals2[3])\nconsole.log(\"test5--&gt; \",data[0][5].value == vals2[4])\n//END TEST \n\n    return data\n}\n\ndfg2=format_data_to_percent(dfg) //format my dataset \n</code></pre>\n\n<p>and this is what I get which is what I want</p>\n\n<pre><code>[[{\"key\":\"Product_Description\",\"value\":\"$49.95 Plan\"},{\"key\":\"&gt;20MB/30\",\"value\":0.42078670255465833},{\"key\":\"&gt;200MB/30\",\"value\":0.345648581007697},{\"key\":\"&gt;2048MB/30\",\"value\":0.15274118147046323},{\"key\":\"&gt;5120MB/30\",\"value\":0.06025404920432545},{\"key\":\"&gt;10240MB/30\",\"value\":0.02056948576285593}],[{\"key\":\"Product_Description\",\"value\":\"$39.95 Plan\"},{\"key\":\"&gt;20MB/30\",\"value\":0.4609474170904964},{\"key\":\"&gt;200MB/30\",\"value\":0.3613803539153461},{\"key\":\"&gt;2048MB/30\",\"value\":0.12463536631499307},{\"key\":\"&gt;5120MB/30\",\"value\":0.03986381404732882},{\"key\":\"&gt;10240MB/30\",\"value\":0.013173048631835568}]]\n</code></pre>\n\n<p>but dfg is also equal to df2, I want dfg to remain as it was with the numbers and dfg2 to have the percentages. </p>\n\n<p>What I am doing my not be best practice. I understand, although not as complete as I would like the objects in the array are all the same reference. <strong>But is there a way I can achieve dfg with the number values and dfg2 with the percentage values?</strong></p>\n\n<p>I have come accross <a href=\"https://stackoverflow.com/questions/15722433/javascript-copy-array-to-new-array\">this</a>, and this copies the array by slicing the original. I have tried this, but it does not work in my case, maybe in there example there is no objects, whereas I have objects inside my array.</p>\n\n<p><strong>Edit1</strong>\npossible duplication <a href=\"https://stackoverflow.com/questions/27136139/copying-an-array-of-objects-and-then-modifying-the-original-without-affecting-th\">here</a> but this is more java.\n<a href=\"https://stackoverflow.com/questions/25408799/create-a-duplicate-of-an-array-and-manipulate-the-original\">This</a> might be what I want </p>\n\n<blockquote>\n  <p>when you assign an array directly, it is a reference assignment in\n  javascript. This means that any changes will be reflected in both. To\n  copy an array, you will need to call array.slice().</p>\n  \n  <p>note: this will still be an assignment on a multi-dimensional array,\n  so you will need to write something recursive to copy an array that\n  has more than one dimension (at any element, e.g. [1, 2, ['some',\n  'inner', 'array'], 3])</p>\n</blockquote>\n\n<hr>\n\n<h2>EDIT2</h2>\n\n<p>tks to anser below: \njust for ref here is full log from my browser </p>\n\n<pre><code>dfg\n[[Object { key=\"Product_Description\",  value=\"$100.83 Business Select Plan excl GST\"}, Object { key=\"&gt;20MB/30\",  value=1480}, Object { key=\"&gt;200MB/30\",  value=1234}, 3 more...], [Object { key=\"Product_Description\",  value=\"$119.95 Business Share Everything Plan\"}, Object { key=\"&gt;20MB/30\",  value=66}, Object { key=\"&gt;200MB/30\",  value=57}, 3 more...]]\nvar arr2 = []\nundefined\narr2.push(JSON.parse(JSON.stringify(dfg[0])))\n1\narr2.push(JSON.parse(JSON.stringify(dfg[1])))\n2\narr2\n[[Object { key=\"Product_Description\",  value=\"$100.83 Business Select Plan excl GST\"}, Object { key=\"&gt;20MB/30\",  value=1480}, Object { key=\"&gt;200MB/30\",  value=1234}, 3 more...], [Object { key=\"Product_Description\",  value=\"$119.95 Business Share Everything Plan\"}, Object { key=\"&gt;20MB/30\",  value=66}, Object { key=\"&gt;200MB/30\",  value=57}, 3 more...]]\n//funtion to format data for percent values  func...alue == vals2[4])   //END TEST              return data }\nundefined\nvar arr3 = format_data_to_percent(arr2)\ntest1--&gt; true\ntest2--&gt; true\ntest3--&gt; true\ntest4--&gt; true\ntest5--&gt; true\nundefined\narr3\n[[Object { key=\"Product_Description\",  value=\"$100.83 Business Select Plan excl GST\"}, Object { key=\"&gt;20MB/30\",  value=0.37336024217961655}, Object { key=\"&gt;200MB/30\",  value=0.3113017154389506}, 3 more...], [Object { key=\"Product_Description\",  value=\"$119.95 Business Share Everything Plan\"}, Object { key=\"&gt;20MB/30\",  value=0.3815028901734104}, Object { key=\"&gt;200MB/30\",  value=0.32947976878612717}, 3 more...]]\ndfg\n[[Object { key=\"Product_Description\",  value=\"$100.83 Business Select Plan excl GST\"}, Object { key=\"&gt;20MB/30\",  value=1480}, Object { key=\"&gt;200MB/30\",  value=1234}, 3 more...], [Object { key=\"Product_Description\",  value=\"$119.95 Business Share Everything Plan\"}, Object { key=\"&gt;20MB/30\",  value=66}, Object { key=\"&gt;200MB/30\",  value=57}, 3 more...]]\n</code></pre>\n"}, {"tags": ["javascript", "function", "prototype"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1482364467, "post_id": 41273733, "comment_id": 69749070, "body": "wouldn&#39;t you pass <code>someObject</code> as the second argument <code>debounce</code> - like <code>}.debounce(300, someObject)();</code>"}, {"owner": {"reputation": 11391, "user_id": 7055233, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cXjzj.jpg?s=128&g=1", "display_name": "Aruna", "link": "https://stackoverflow.com/users/7055233/aruna"}, "edited": false, "score": 0, "creation_date": 1482364664, "post_id": 41273733, "comment_id": 69749110, "body": "What do you want the <code>this</code> should refer and <code>scope</code> should refer here?"}, {"owner": {"reputation": 913, "user_id": 5973519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/101d9183b8ab54ebf930e090a463ec8d?s=128&d=identicon&r=PG", "display_name": "Eliott Robson", "link": "https://stackoverflow.com/users/5973519/eliott-robson"}, "edited": false, "score": 0, "creation_date": 1482364706, "post_id": 41273733, "comment_id": 69749122, "body": "I did add the scope parameter to try and implement that but imagine this is being passed off to a 3rd party library which is calling: (function() { ... }.debounce(300)). I don&#39;t know what the someObject will be."}, {"owner": {"reputation": 913, "user_id": 5973519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/101d9183b8ab54ebf930e090a463ec8d?s=128&d=identicon&r=PG", "display_name": "Eliott Robson", "link": "https://stackoverflow.com/users/5973519/eliott-robson"}, "reply_to_user": {"reputation": 11391, "user_id": 7055233, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cXjzj.jpg?s=128&g=1", "display_name": "Aruna", "link": "https://stackoverflow.com/users/7055233/aruna"}, "edited": false, "score": 0, "creation_date": 1482364831, "post_id": 41273733, "comment_id": 69749154, "body": "@Aruna Ideally there should be a way to access the bound object AND the bound object from the debounced function at call time."}, {"owner": {"reputation": 913, "user_id": 5973519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/101d9183b8ab54ebf930e090a463ec8d?s=128&d=identicon&r=PG", "display_name": "Eliott Robson", "link": "https://stackoverflow.com/users/5973519/eliott-robson"}, "edited": false, "score": 0, "creation_date": 1482365057, "post_id": 41273733, "comment_id": 69749224, "body": "I have added an example to try and explain."}], "answers": [{"comments": [{"owner": {"reputation": 913, "user_id": 5973519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/101d9183b8ab54ebf930e090a463ec8d?s=128&d=identicon&r=PG", "display_name": "Eliott Robson", "link": "https://stackoverflow.com/users/5973519/eliott-robson"}, "edited": false, "score": 0, "creation_date": 1482365424, "post_id": 41273916, "comment_id": 69749320, "body": "Perfect, thanks! Been banging my head against the wall on this for ages!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1106925"}, "edited": false, "score": 0, "creation_date": 1482365776, "post_id": 41273916, "comment_id": 69749408, "body": "You could drop <code>args</code> and use <code>arguments</code> in the ES2015 version since arrow functions don&#39;t include either one."}, {"owner": {"reputation": 913, "user_id": 5973519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/101d9183b8ab54ebf930e090a463ec8d?s=128&d=identicon&r=PG", "display_name": "Eliott Robson", "link": "https://stackoverflow.com/users/5973519/eliott-robson"}, "edited": false, "score": 0, "creation_date": 1482365979, "post_id": 41273916, "comment_id": 69749458, "body": "@squint I get the typescript error &quot;The &#39;arguments&#39; object cannot be referenced in an arrow function in ES3 and ES5.&quot; when I do that."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1482366233, "post_id": 41273916, "comment_id": 69749515, "body": "<code>arrow function in ES3 and ES5</code> ... that makes no sense, ES3 and ES5 didn&#39;t have arrow function!"}, {"owner": {"reputation": 913, "user_id": 5973519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/101d9183b8ab54ebf930e090a463ec8d?s=128&d=identicon&r=PG", "display_name": "Eliott Robson", "link": "https://stackoverflow.com/users/5973519/eliott-robson"}, "edited": false, "score": 0, "creation_date": 1482366307, "post_id": 41273916, "comment_id": 69749538, "body": "Probably just a dodgy version of the Typescript compiler I have then :D Thanks for the help guys :)"}], "tags": [], "owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "is_accepted": true, "score": 1, "last_activity_date": 1482366332, "last_edit_date": 1482366332, "creation_date": 1482365240, "answer_id": 41273916, "question_id": 41273733, "link": "https://stackoverflow.com/questions/41273733/why-is-this-scope-wrong-in-a-defined-property/41273916#41273916", "title": "Why is &quot;this&quot; scope wrong in a defined property?", "body": "<p>You need to use the <code>this</code> of <code>debounced</code> when <code>debounced</code> is called</p>\n\n<p>in old school JS</p>\n\n<pre><code>Object.defineProperty(Function.prototype, \"debounce\", {\n    value: function value(ms) {\n        var fn = this,\n            time = ms,\n            timer;\n        function debounced() {\n            var _this = this;\n            var args = arguments;\n            if (timer) clearTimeout(timer);\n            timer = setTimeout(function () {\n                return fn.apply(_this, args);\n            }, time);\n        }\n        return debounced;\n    }\n});\n</code></pre>\n\n<p>or simpler in ES2015+</p>\n\n<pre><code>Object.defineProperty(Function.prototype, \"debounce\", {\n    value: function(ms) {\n        var fn = this,\n            time = ms,\n            timer;\n        function debounced() {\n            if (timer) clearTimeout(timer);\n            timer = setTimeout(() =&gt; fn.apply(this, arguments), time);\n        }\n        return debounced;\n    }\n});\n</code></pre>\n\n<p>You can also remove enumerable:false, writable:false as false is the default value for these properties - makes the code a little smaller :p</p>\n"}], "owner": {"reputation": 913, "user_id": 5973519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/101d9183b8ab54ebf930e090a463ec8d?s=128&d=identicon&r=PG", "display_name": "Eliott Robson", "link": "https://stackoverflow.com/users/5973519/eliott-robson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 1, "accepted_answer_id": 41273916, "answer_count": 1, "score": 2, "last_activity_date": 1482366332, "creation_date": 1482363826, "last_edit_date": 1482365012, "question_id": 41273733, "link": "https://stackoverflow.com/questions/41273733/why-is-this-scope-wrong-in-a-defined-property", "title": "Why is &quot;this&quot; scope wrong in a defined property?", "body": "<p>I am creating a debounce function in my code, I have made a really simple example however when using it in combination with Object.defineProperty the value of \"this\" is questionable.</p>\n\n<p>This is the code:</p>\n\n<pre><code>// Debounce a function call\nObject.defineProperty(Function.prototype, \"debounce\", {\n    enumerable: false,\n    writable: false,\n    value: function(ms, scope) {\n        var fn = this,\n            time = ms,\n            timer;\n        function debounced() {\n            var args = arguments;\n            if (timer) clearTimeout(timer);\n            timer = setTimeout(function() { fn.apply(scope, args); }, time);\n        }\n        return debounced;\n    }\n});\n</code></pre>\n\n<p>And it is called with (where the .bind... is done as part of an external library):</p>\n\n<pre><code>function() {\n    console.log(this.something);\n}.debounce(300).bind(someObject)();\n</code></pre>\n\n<p>And it works, but the value of \"this\" cannot be used. Within the value function \"this\" points to the original function. Is there anyway I can get the bound scope with this design style?</p>\n\n<h1>Example</h1>\n\n<pre><code>var a = {\n    b: function() {\n        console.log(this.something);\n    }.debounce(300),\n};\n\nvar c = {\n    something: true,\n};\n\n// I can't control this code -&gt; 3rd party library\na.b.bind(c)();\n</code></pre>\n"}, {"tags": ["javascript", "wordpress", "alt"], "comments": [{"owner": {"reputation": 4891, "user_id": 2720743, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/G0chu.jpg?s=128&g=1", "display_name": "Ajay Narain Mathur", "link": "https://stackoverflow.com/users/2720743/ajay-narain-mathur"}, "edited": false, "score": 2, "creation_date": 1482364006, "post_id": 41273705, "comment_id": 69748965, "body": "Which image are we talking about ? I inspected the images in the strip at bottom of the page and they don&#39;t have alt attribute."}, {"owner": {"reputation": 2349, "user_id": 3681236, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JAhxe.jpg?s=128&g=1", "display_name": "Aeolingamenfel", "link": "https://stackoverflow.com/users/3681236/aeolingamenfel"}, "edited": false, "score": 0, "creation_date": 1482364222, "post_id": 41273705, "comment_id": 69749024, "body": "Can you provide the code?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7328015, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N0JboRAFMHk/AAAAAAAAAAI/AAAAAAAAHKQ/XlrRnZfGIT8/photo.jpg?sz=128", "display_name": "Etti Photography", "link": "https://stackoverflow.com/users/7328015/etti-photography"}, "edited": false, "score": 0, "creation_date": 1482372298, "post_id": 41273755, "comment_id": 69750956, "body": "Thank you for your reply, I can&#39;t see Fotorama plugin in my admin (under plugins), Am I missing something?  Please elaborate ..."}, {"owner": {"reputation": 2210, "user_id": 4992551, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d9c6daf14c364f4fa6d36ae719c3059e?s=128&d=identicon&r=PG&f=1", "display_name": "dave", "link": "https://stackoverflow.com/users/4992551/dave"}, "reply_to_user": {"reputation": 1, "user_id": 7328015, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N0JboRAFMHk/AAAAAAAAAAI/AAAAAAAAHKQ/XlrRnZfGIT8/photo.jpg?sz=128", "display_name": "Etti Photography", "link": "https://stackoverflow.com/users/7328015/etti-photography"}, "edited": false, "score": 1, "creation_date": 1482372794, "post_id": 41273755, "comment_id": 69751050, "body": "Fotorama appears to be a jQuery library for creating galleries. Some plugin or theme you have is using it to create the gallery, and that plugin or theme isn&#39;t adding the alt tags."}, {"owner": {"reputation": 1, "user_id": 7328015, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N0JboRAFMHk/AAAAAAAAAAI/AAAAAAAAHKQ/XlrRnZfGIT8/photo.jpg?sz=128", "display_name": "Etti Photography", "link": "https://stackoverflow.com/users/7328015/etti-photography"}, "edited": false, "score": 0, "creation_date": 1482379230, "post_id": 41273755, "comment_id": 69752573, "body": "Thank you Dave, I&#39;ll pass this information to the tech guy, I hope he can understand how to solve it."}], "tags": [], "owner": {"reputation": 2210, "user_id": 4992551, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d9c6daf14c364f4fa6d36ae719c3059e?s=128&d=identicon&r=PG&f=1", "display_name": "dave", "link": "https://stackoverflow.com/users/4992551/dave"}, "is_accepted": false, "score": 0, "last_activity_date": 1482364014, "creation_date": 1482364014, "answer_id": 41273755, "question_id": 41273705, "link": "https://stackoverflow.com/questions/41273705/wordpress-image-alt-doesnt-work-on-wordpress-galleries/41273755#41273755", "title": "Wordpress - Image Alt doesn&#39;t work on Wordpress galleries", "body": "<p>The Fotorama plugin you are using is not retrieving the alt values from WordPress. You may need to use a different plugin in order to get the alt tags to display in a gallery.</p>\n"}], "owner": {"reputation": 1, "user_id": 7328015, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N0JboRAFMHk/AAAAAAAAAAI/AAAAAAAAHKQ/XlrRnZfGIT8/photo.jpg?sz=128", "display_name": "Etti Photography", "link": "https://stackoverflow.com/users/7328015/etti-photography"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 141, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482366106, "creation_date": 1482363603, "last_edit_date": 1482366106, "question_id": 41273705, "link": "https://stackoverflow.com/questions/41273705/wordpress-image-alt-doesnt-work-on-wordpress-galleries", "title": "Wordpress - Image Alt doesn&#39;t work on Wordpress galleries", "body": "<p>I tried to use the search but couldn't find any solution.\nFor some reason my alt values not working under my website (WordPress) galleries, for example:\n<a href=\"http://www.ettiphotography.com/gallery/las-vegas-wedding-photographer/\" rel=\"nofollow noreferrer\">http://www.ettiphotography.com/gallery/las-vegas-wedding-photographer/</a></p>\n\n<p>On homepage or blog it does work.\nOf course all the images has ALT values.</p>\n\n<p>Please help me find the solution for this problem ...</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["javascript", "jquery", "html", "twitter-bootstrap"], "comments": [{"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 0, "creation_date": 1482363785, "post_id": 41273697, "comment_id": 69748906, "body": "Though I would encourage you not to use event attributes, It works for me. What browser are you using?"}, {"owner": {"reputation": 156, "user_id": 5522724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07b2b2336ff92fa13edff9682131c653?s=128&d=identicon&r=PG&f=1", "display_name": "J.C", "link": "https://stackoverflow.com/users/5522724/j-c"}, "edited": false, "score": 0, "creation_date": 1482363832, "post_id": 41273697, "comment_id": 69748921, "body": "place your keypress function on input box."}, {"owner": {"reputation": 457, "user_id": 6949353, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/713a400d13af5d62bbf647e2eff87888?s=128&d=identicon&r=PG&f=1", "display_name": "AlexT", "link": "https://stackoverflow.com/users/6949353/alext"}, "edited": false, "score": 0, "creation_date": 1482363844, "post_id": 41273697, "comment_id": 69748923, "body": "I&#39;m using Google Chrome"}, {"owner": {"reputation": 457, "user_id": 6949353, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/713a400d13af5d62bbf647e2eff87888?s=128&d=identicon&r=PG&f=1", "display_name": "AlexT", "link": "https://stackoverflow.com/users/6949353/alext"}, "reply_to_user": {"reputation": 156, "user_id": 5522724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07b2b2336ff92fa13edff9682131c653?s=128&d=identicon&r=PG&f=1", "display_name": "J.C", "link": "https://stackoverflow.com/users/5522724/j-c"}, "edited": false, "score": 0, "creation_date": 1482363940, "post_id": 41273697, "comment_id": 69748945, "body": "@J.C I tried that but it doesn&#39;t change anything..."}], "answers": [{"comments": [{"owner": {"reputation": 457, "user_id": 6949353, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/713a400d13af5d62bbf647e2eff87888?s=128&d=identicon&r=PG&f=1", "display_name": "AlexT", "link": "https://stackoverflow.com/users/6949353/alext"}, "edited": false, "score": 0, "creation_date": 1482364147, "post_id": 41273744, "comment_id": 69749005, "body": "I added the onsubmit attribute to the form tag and it worked! Thank you!"}], "tags": [], "owner": {"reputation": 99, "user_id": 3692009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9719e5b1570e8c99bf3cf0c78bd7865?s=128&d=identicon&r=PG&f=1", "display_name": "Giuliano", "link": "https://stackoverflow.com/users/3692009/giuliano"}, "is_accepted": true, "score": 1, "last_activity_date": 1482363917, "creation_date": 1482363917, "answer_id": 41273744, "question_id": 41273697, "link": "https://stackoverflow.com/questions/41273697/onkeypress-function-not-working-on-bootstrap-input-box/41273744#41273744", "title": "Onkeypress function not working on bootstrap input box", "body": "<p>What's happening is simple, you have a \"form\" tag, so when you hit enter, \"onkeypress\" is firing the event and the function \"enter\" that you created is handling that event, but having a \"form\" tag it just submitting a form.</p>\n\n<p>To avoid that, just remove the \"form\" tag or just replace it for the following:</p>\n\n<pre><code>&lt;form onsubmit=\"event.preventDefault();\"&gt;\n</code></pre>\n\n<p>Also, you have to add the protocol if you want to redirect to a different page, like:</p>\n\n<pre><code>document.location.href = \"http://newpage.com\";\n</code></pre>\n\n<p>I hope it helps :)</p>\n"}], "owner": {"reputation": 457, "user_id": 6949353, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/713a400d13af5d62bbf647e2eff87888?s=128&d=identicon&r=PG&f=1", "display_name": "AlexT", "link": "https://stackoverflow.com/users/6949353/alext"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 655, "favorite_count": 0, "accepted_answer_id": 41273744, "answer_count": 1, "score": 1, "last_activity_date": 1482363917, "creation_date": 1482363548, "question_id": 41273697, "link": "https://stackoverflow.com/questions/41273697/onkeypress-function-not-working-on-bootstrap-input-box", "title": "Onkeypress function not working on bootstrap input box", "body": "<p>I've been trying to code a function that goes to a different page when the user hits the enter key into a certain input box. Here's the code:</p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n        &lt;div class=\"row\"&gt;\n            &lt;form&gt;\n            &lt;div id=\"search\" onkeypress=\"enter(event)\" &gt;\n                &lt;div class=\"input-group col-md-offset-8 col-md-3\"&gt;\n                    &lt;input type=\"text\" class=\"form-control\"&gt;\n                    &lt;div class=\"input-group-btn\"&gt;\n                        &lt;a href=\"mylink.com\" tab-index=\"-1\" class=\"btn btn-default\" type=\"submit\"&gt;&lt;i class=\"glyphicon glyphicon-search\"&gt;&lt;/i&gt;&lt;/a&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;/form&gt;\n        &lt;/div&gt;\n&lt;/div&gt;\n\n    &lt;script&gt;\n            function enter(event){\n                if (event.keyCode == 13){\n                    document.location.href = \"newpage.com\";\n                }\n            }\n    &lt;/script&gt;\n</code></pre>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["javascript", "angularjs", "single-page-application", "ngroute"], "comments": [{"owner": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "edited": false, "score": 1, "creation_date": 1482369299, "post_id": 41273669, "comment_id": 69750231, "body": "you can&#39;t use <code>html5Mode</code> with Python SimpleHttpServer without writing your own subclass for it, eg. <a href=\"https://gist.github.com/RyanBalfanz/ee579e5dec2d843acff1646943d7e96b\" rel=\"nofollow noreferrer\">gist.github.com/RyanBalfanz/ee579e5dec2d843acff1646943d7e96b</a>"}, {"owner": {"reputation": 1103, "user_id": 4394770, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/796c17052c28e50e678f40bb227545da?s=128&d=identicon&r=PG&f=1", "display_name": "Saber Alex", "link": "https://stackoverflow.com/users/4394770/saber-alex"}, "reply_to_user": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "edited": false, "score": 0, "creation_date": 1482370541, "post_id": 41273669, "comment_id": 69750536, "body": "ah!! the problem is with the simpleHttpServer? Thanks for this"}, {"owner": {"reputation": 14671, "user_id": 2317490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ypoen.png?s=128&g=1", "display_name": "dandavis", "link": "https://stackoverflow.com/users/2317490/dandavis"}, "edited": false, "score": 0, "creation_date": 1482381851, "post_id": 41273669, "comment_id": 69753257, "body": "you should use &quot;real&quot; urls if you want to show such urls, so that users can bookmark and resume tabs; that means you need actual pages at every location you give out a url to. it can be a common error page, or you can work with a server to server the actual eventual content, boosting SEO."}], "answers": [{"comments": [{"owner": {"reputation": 1103, "user_id": 4394770, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/796c17052c28e50e678f40bb227545da?s=128&d=identicon&r=PG&f=1", "display_name": "Saber Alex", "link": "https://stackoverflow.com/users/4394770/saber-alex"}, "edited": false, "score": 0, "creation_date": 1482366917, "post_id": 41274117, "comment_id": 69749685, "body": "how do I did that?"}, {"owner": {"reputation": 2364, "user_id": 193460, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f26782a055f09b697561f6de769e6129?s=128&d=identicon&r=PG", "display_name": "Teppic", "link": "https://stackoverflow.com/users/193460/teppic"}, "reply_to_user": {"reputation": 1103, "user_id": 4394770, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/796c17052c28e50e678f40bb227545da?s=128&d=identicon&r=PG&f=1", "display_name": "Saber Alex", "link": "https://stackoverflow.com/users/4394770/saber-alex"}, "edited": false, "score": 0, "creation_date": 1482367246, "post_id": 41274117, "comment_id": 69749769, "body": "I have just updated my answer with some more information. I haven&#39;t used python myself so I can&#39;t provide specifics unfortunately."}], "tags": [], "owner": {"reputation": 2364, "user_id": 193460, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f26782a055f09b697561f6de769e6129?s=128&d=identicon&r=PG", "display_name": "Teppic", "link": "https://stackoverflow.com/users/193460/teppic"}, "is_accepted": false, "score": 0, "last_activity_date": 1482366959, "last_edit_date": 1482366959, "creation_date": 1482366784, "answer_id": 41274117, "question_id": 41273669, "link": "https://stackoverflow.com/questions/41273669/how-to-properly-routing-for-spa-using-angular-1-5/41274117#41274117", "title": "How to properly routing for SPA using Angular 1.5?", "body": "<p>Given you have enabled html5 mode I think you may need to set your server up so that regardless of the path it will return your index.html file. </p>\n\n<p>For example, when your server receives a request for a resource at localhost:8000/testing it will return index.html.</p>\n\n<p>From the AngularJS documentation:</p>\n\n<blockquote>\n  <p>Using this mode requires URL rewriting on server side, basically you\n  have to rewrite all your links to entry point of your application\n  (e.g. index.html). Requiring a  tag is also important for this\n  case, as it allows Angular to differentiate between the part of the\n  url that is the application base and the path that should be handled\n  by the application.</p>\n</blockquote>\n"}], "owner": {"reputation": 1103, "user_id": 4394770, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/796c17052c28e50e678f40bb227545da?s=128&d=identicon&r=PG&f=1", "display_name": "Saber Alex", "link": "https://stackoverflow.com/users/4394770/saber-alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 179, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482366959, "creation_date": 1482363314, "question_id": 41273669, "link": "https://stackoverflow.com/questions/41273669/how-to-properly-routing-for-spa-using-angular-1-5", "title": "How to properly routing for SPA using Angular 1.5?", "body": "<p>I'm new to angular. I create a blog for showing my profile. \nIn my website, I have several component and my app.module has a configuration for the routing, as shown:</p>\n\n<pre><code>app.config(function($locationProvider, $routeProvider){\n  $locationProvider.html5Mode({\n    enabled:true,\n    requireBase: false\n  })\n\n  $routeProvider.\n    when(\"/\", {\n      template: \"&lt;research-overview&gt;&lt;/research-overview&gt;\"\n    }).\n    when(\"/research-interests\", {\n      template: \"&lt;research-interests&gt;&lt;/research-interests&gt;\"\n    }).\n    otherwise({\n      redirectTo: \"/\"\n    })\n });\n</code></pre>\n\n<p>Here is an example of my component:</p>\n\n<pre><code>angular.module('researchOverview', [])\n  .component('researchOverview', {\n     templateUrl: '/templates/research-overview.html',\n});\n</code></pre>\n\n<p>I tried to locally run the server using <code>python -m SimpleHttpServer</code>\nso that I can access my local website using browser to <code>localhost:8000</code>, When I click a link from my homepage, the page is correctly loaded. However, when I initially access my website using different urls (e.g. <code>localhost:8000/testing</code>) Angular route doesn't seem to work properly.\nI get this error instead, </p>\n\n<p><a href=\"https://i.stack.imgur.com/EFM99.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EFM99.png\" alt=\"enter image description here\"></a></p>\n\n<p>How do I set the router so that those urls can be redirected to my homepage?</p>\n"}, {"tags": ["javascript", "php", "html", "mysql"], "answers": [{"comments": [{"owner": {"reputation": 164, "user_id": 6328066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9fe566e680aa2006252ed53cf3365d5a?s=128&d=identicon&r=PG", "display_name": "eBourgess", "link": "https://stackoverflow.com/users/6328066/ebourgess"}, "edited": false, "score": 0, "creation_date": 1482363990, "post_id": 41273702, "comment_id": 69748961, "body": "ah so basically I just need to add the brackets in my code? interesting, thank you!"}, {"owner": {"reputation": 53434, "user_id": 5037551, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/BYnIO.jpg?s=128&g=1", "display_name": "Dekel", "link": "https://stackoverflow.com/users/5037551/dekel"}, "reply_to_user": {"reputation": 164, "user_id": 6328066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9fe566e680aa2006252ed53cf3365d5a?s=128&d=identicon&r=PG", "display_name": "eBourgess", "link": "https://stackoverflow.com/users/6328066/ebourgess"}, "edited": false, "score": 1, "creation_date": 1482364125, "post_id": 41273702, "comment_id": 69748997, "body": "Yes, this is exactly what you need to do :)"}], "tags": [], "owner": {"reputation": 53434, "user_id": 5037551, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/BYnIO.jpg?s=128&g=1", "display_name": "Dekel", "link": "https://stackoverflow.com/users/5037551/dekel"}, "is_accepted": true, "score": 1, "last_activity_date": 1482363574, "creation_date": 1482363574, "answer_id": 41273702, "question_id": 41273655, "link": "https://stackoverflow.com/questions/41273655/how-can-i-take-data-from-a-dynamic-table-row-by-row-using-php/41273702#41273702", "title": "how can I take data from a dynamic table row by row using php", "body": "<p>You can use array-notation, and this way when you post the values to the server - php will treat them as array:</p>\n\n<pre><code>&lt;table&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;input type=\"text\" name=\"foo[]\"&gt; &lt;/td&gt;\n&lt;td&gt;&lt;input type=\"text\" name=\"bar[]\"&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;input type=\"text\" name=\"foo[]\"&gt; &lt;/td&gt;\n&lt;td&gt;&lt;input type=\"text\" name=\"bar[]\"&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;input type=\"text\" name=\"foo[]\"&gt; &lt;/td&gt;\n&lt;td&gt;&lt;input type=\"text\" name=\"bar[]\"&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>In your php code you will get</p>\n\n<pre><code>$_POST['foo'][0] = 'text1';\n$_POST['foo'][1] = 'text2';\n$_POST['foo'][2] = 'text3';\n</code></pre>\n\n<p>And this way you can have as many values as you want.</p>\n"}], "owner": {"reputation": 164, "user_id": 6328066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9fe566e680aa2006252ed53cf3365d5a?s=128&d=identicon&r=PG", "display_name": "eBourgess", "link": "https://stackoverflow.com/users/6328066/ebourgess"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 41273702, "answer_count": 1, "score": 2, "last_activity_date": 1482363574, "creation_date": 1482363214, "question_id": 41273655, "link": "https://stackoverflow.com/questions/41273655/how-can-i-take-data-from-a-dynamic-table-row-by-row-using-php", "title": "how can I take data from a dynamic table row by row using php", "body": "<p>So basically I am looking for a way to take data from a dynamic table that is filled by the user and put it in a mysql database. The only part I am finding hard is reading row by row. Since this is a responsive dynamic table that lets the user add and delete rows, the name of the input tags remains the same row by row. Here is a sample of my code.</p>\n\n<pre><code>    &lt;table&gt;\n    &lt;tr&gt;\n    &lt;td&gt;&lt;input type=\"text\" name=\"foo\"&gt; &lt;/td&gt;\n    &lt;td&gt;&lt;input type=\"text\" name=\"bar\"&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n    &lt;td&gt;&lt;input type=\"text\" name=\"foo\"&gt; &lt;/td&gt;\n    &lt;td&gt;&lt;input type=\"text\" name=\"bar\"&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n    &lt;td&gt;&lt;input type=\"text\" name=\"foo\"&gt; &lt;/td&gt;\n    &lt;td&gt;&lt;input type=\"text\" name=\"bar\"&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;/table&gt;\n</code></pre>\n\n<p>Thank you</p>\n"}, {"tags": ["javascript", "php", "mysql", "svg"], "comments": [{"owner": {"reputation": 6275, "user_id": 1690217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h01XY.png?s=128&g=1", "display_name": "Chris Schaller", "link": "https://stackoverflow.com/users/1690217/chris-schaller"}, "edited": false, "score": 0, "creation_date": 1482372042, "post_id": 41273651, "comment_id": 69750906, "body": "Please provide some detail or an example of the source file that provides these &#39;d&#39; codes, it will greatly affect the solution that we provide to you. At this point I am not convinced you not are asking us to screen scrape data for you :)"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 6248116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X88Yb.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/6248116/daniel"}, "edited": false, "score": 0, "creation_date": 1482363672, "post_id": 41273664, "comment_id": 69748875, "body": "Would you mind sharing a tiny bit of code, please? Thank you."}, {"owner": {"reputation": 101196, "user_id": 1038015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d912dac5c74b47bbaff7164f5f8bb8?s=128&d=identicon&r=PG", "display_name": "Robert Longson", "link": "https://stackoverflow.com/users/1038015/robert-longson"}, "reply_to_user": {"reputation": 15, "user_id": 6248116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X88Yb.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/6248116/daniel"}, "edited": false, "score": 0, "creation_date": 1482364448, "post_id": 41273664, "comment_id": 69749068, "body": "@Daniel that&#39;s not how this site works. Write your solution and if and when you get stuck ask a question about it."}], "tags": [], "owner": {"reputation": 496, "user_id": 1237570, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/jhfHS.png?s=128&g=1", "display_name": "Illuminati", "link": "https://stackoverflow.com/users/1237570/illuminati"}, "is_accepted": true, "score": 0, "last_activity_date": 1482390592, "last_edit_date": 1482390592, "creation_date": 1482363301, "answer_id": 41273664, "question_id": 41273651, "link": "https://stackoverflow.com/questions/41273651/svg-how-to-collect-all-the-d-codes/41273664#41273664", "title": "(SVG) How to collect all the &#39;d&#39; codes?", "body": "<p>Javascript can navigate the DOM and pull out the data from the element, then use AJAX to send it to your server.</p>\n\n<pre><code>var paths = $('path[class=\"COUNTRYNAME\"]');\n$.each(paths, function(index, current){\n    //loop through each found\n    var d = $(this).attr('d').val();\n    var params = \"d=\" + d;\n    $.post(\"/script.php\", params, function(response){\n        //handle response here\n    });\n});\n</code></pre>\n\n<p>If you are trying to crawl someone elses website, then I recommend a headless browser or making custom a web crawler.</p>\n"}, {"tags": [], "owner": {"reputation": 64, "user_id": 2501477, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hPCob.jpg?s=128&g=1", "display_name": "Galcha", "link": "https://stackoverflow.com/users/2501477/galcha"}, "is_accepted": false, "score": 0, "last_activity_date": 1482364803, "creation_date": 1482364803, "answer_id": 41273859, "question_id": 41273651, "link": "https://stackoverflow.com/questions/41273651/svg-how-to-collect-all-the-d-codes/41273859#41273859", "title": "(SVG) How to collect all the &#39;d&#39; codes?", "body": "<p>Like said, we can't provide the full program. Here are some hints : </p>\n\n<p>You may want to use jQuery, which allows easier DOM manipulation. You can then iterate through all items with \"d\" attribute : </p>\n\n<p><code>var data=[];\n$(\"div[d]\").each(function(){\ndata[]=$(this).attr(\"d\")\n}</code></p>\n\n<p>You can store their data in an array, and then throw that info to a PHP script that will handle the storage. You have to use <code>$.ajax()</code> for this.</p>\n"}], "owner": {"reputation": 15, "user_id": 6248116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X88Yb.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/6248116/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 41273664, "answer_count": 2, "score": -2, "last_activity_date": 1482390592, "creation_date": 1482363176, "last_edit_date": 1482390198, "question_id": 41273651, "link": "https://stackoverflow.com/questions/41273651/svg-how-to-collect-all-the-d-codes", "title": "(SVG) How to collect all the &#39;d&#39; codes?", "body": "<p>I am trying to create an interactive map of the world.</p>\n\n<p>Users will be assigned a nation. </p>\n\n<p>To do this, I want to insert all the <code>d=''</code> codes into a database.</p>\n\n<p>It is currently consisted of tens of bits of code like this:</p>\n\n<pre><code>&lt;path class=\"COUNTRYNAME\" d=\"123.123.123\"&gt;&lt;/path&gt;\n</code></pre>\n\n<p>Ideally, I would like a program that would be able to select the <code>d=''</code> codes and insert them into my database, using PHP/JS/SQL preferably. </p>\n\n<p>Is this possible?</p>\n\n<p><strong>What I have tried:</strong></p>\n\n<p>Manually copying and pasting the <code>d=''</code> into the database. It works but is incredibly time consuming.</p>\n"}, {"tags": ["javascript", "jquery", "html"], "answers": [{"comments": [{"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 2, "creation_date": 1482364779, "post_id": 41273719, "comment_id": 69749142, "body": "Afaik, load does not exist on the $ namespace.  It exists on the $.fn namespace.  Also the use of insertAfter() off of an async method like load() is most likely non-functioning logic."}], "tags": [], "owner": {"reputation": 1058, "user_id": 1945927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28c24a7f9f6a3ec84c43cdf1456c5cae?s=128&d=identicon&r=PG", "display_name": "Piou", "link": "https://stackoverflow.com/users/1945927/piou"}, "is_accepted": false, "score": 0, "last_activity_date": 1482363745, "creation_date": 1482363745, "answer_id": 41273719, "question_id": 41273648, "link": "https://stackoverflow.com/questions/41273648/jquery-appending-multiple-elements-from-load-after-the-last-occurrence-of-a/41273719#41273719", "title": "jQuery: Appending multiple elements from .load() after the last occurrence of a specific class element on a page", "body": "<blockquote>\n  <p>Load documntation:</p>\n  \n  <p>Description: Load data from the server and place the returned HTML into the matched element.</p>\n</blockquote>\n\n<pre><code>$(\".vehicleListing\").after().last()\n</code></pre>\n\n<p>Targets the last <code>vehicleListing</code> div.</p>\n\n<p>You can try smething like:</p>\n\n<pre><code>$.load('page2url' + ' .vehicleListing').insertAfter(\".vehicleListing:last\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "is_accepted": false, "score": 0, "last_activity_date": 1482364635, "creation_date": 1482364635, "answer_id": 41273833, "question_id": 41273648, "link": "https://stackoverflow.com/questions/41273648/jquery-appending-multiple-elements-from-load-after-the-last-occurrence-of-a/41273833#41273833", "title": "jQuery: Appending multiple elements from .load() after the last occurrence of a specific class element on a page", "body": "<p>Your probably going to have to go about this differently.  As mentioned, load() takes the response and loads it into the element it is operating upon.  Since it replaces the contents, it doesn't really fit what you are trying to do which is to append additional content to an existing element.  Your best bet is to probably use an ajax method instead.</p>\n\n<pre><code>$.get('page2url' + ' .vehicleListing', function(data){\n    $(\".vehicleListing\").last().after(data);\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 340, "user_id": 4739541, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3281c8e4133098e21e4d829206ac14b4?s=128&d=identicon&r=PG&f=1", "display_name": "Josh979", "link": "https://stackoverflow.com/users/4739541/josh979"}, "edited": false, "score": 0, "creation_date": 1482365558, "post_id": 41273835, "comment_id": 69749353, "body": "This does exactly what I was trying to do. Thank you!"}], "tags": [], "owner": {"reputation": 828, "user_id": 6053879, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SaQTM.jpg?s=128&g=1", "display_name": "B. Assem", "link": "https://stackoverflow.com/users/6053879/b-assem"}, "is_accepted": true, "score": 2, "last_activity_date": 1482364641, "creation_date": 1482364641, "answer_id": 41273835, "question_id": 41273648, "link": "https://stackoverflow.com/questions/41273648/jquery-appending-multiple-elements-from-load-after-the-last-occurrence-of-a/41273835#41273835", "title": "jQuery: Appending multiple elements from .load() after the last occurrence of a specific class element on a page", "body": "<p>Here is what worked for me:\nAdd an empty div after the last <strong>vehicleListing</strong> in your first file</p>\n\n<pre><code>&lt;div class=\"overview-feature-1\"&gt;\n    &lt;div class=\"vehicleListing\"&gt;1&lt;/div&gt;\n    &lt;div class=\"vehicleListing\"&gt;2&lt;/div&gt;\n    &lt;div class=\"vehicleListing\"&gt;3&lt;/div&gt;\n    &lt;div class=\"vehicleListing\"&gt;4&lt;/div&gt;\n    &lt;div class=\"vehicleListing\"&gt;5&lt;/div&gt;\n    &lt;div class=\"vehicleListing\"&gt;6&lt;/div&gt;\n\n    &lt;div id=\"container\"&gt;&lt;/div&gt;\n\n    &lt;div class=\"controls\"&gt;&lt;/div&gt;\n    &lt;div class=\"additional-controls\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And change your JS</p>\n\n<pre><code>  $(\"#container\").load('http://aba.bbtj.dev/test2.html' + ' .vehicleListing', function(){\n    $('#container').replaceWith(function() {\n     return $('.vehicleListing', this);\n    });\n    $( '&lt;div id=\"container\"&gt;&lt;/div&gt;' ).insertAfter( \".vehicleListing:last\" );\n  });\n</code></pre>\n\n<p>This will load the new vehicles in the empty div, and then remove that div and keep the new vehicles (using the replaceWith function).</p>\n\n<p>Then we re-add the empty div to be able to add more vehicule.</p>\n"}], "owner": {"reputation": 340, "user_id": 4739541, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3281c8e4133098e21e4d829206ac14b4?s=128&d=identicon&r=PG&f=1", "display_name": "Josh979", "link": "https://stackoverflow.com/users/4739541/josh979"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 41273835, "answer_count": 3, "score": 1, "last_activity_date": 1482364641, "creation_date": 1482363157, "question_id": 41273648, "link": "https://stackoverflow.com/questions/41273648/jquery-appending-multiple-elements-from-load-after-the-last-occurrence-of-a", "title": "jQuery: Appending multiple elements from .load() after the last occurrence of a specific class element on a page", "body": "<p>I'm working on a listing page and I am trying to create a \"Load More Items\" functionality. I'm attempting to use .load() to append all \".vehicleListing\" elements from another page url (the second listing page) and add them after the last occurrence of a a div with the class of \"vehicleListing\".</p>\n\n<p>Page 1:</p>\n\n<pre><code>&lt;div class=\"overview-feature-1\"&gt;\n    &lt;div class=\"vehicleListing\"&gt;1&lt;/div&gt;\n    &lt;div class=\"vehicleListing\"&gt;2&lt;/div&gt;\n    &lt;div class=\"vehicleListing\"&gt;3&lt;/div&gt;\n    &lt;div class=\"vehicleListing\"&gt;4&lt;/div&gt;\n    &lt;div class=\"vehicleListing\"&gt;5&lt;/div&gt;\n    &lt;div class=\"vehicleListing\"&gt;6&lt;/div&gt;\n\n    &lt;div class=\"controls\"&gt;&lt;/div&gt;\n    &lt;div class=\"additional-controls\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Page 2:</p>\n\n<pre><code>&lt;div class=\"overview-feature-1\"&gt;\n    &lt;div class=\"vehicleListing\"&gt;7&lt;/div&gt;\n    &lt;div class=\"vehicleListing\"&gt;8&lt;/div&gt;\n    &lt;div class=\"vehicleListing\"&gt;9&lt;/div&gt;\n    &lt;div class=\"vehicleListing\"&gt;10&lt;/div&gt;\n    &lt;div class=\"vehicleListing\"&gt;11&lt;/div&gt;\n    &lt;div class=\"vehicleListing\"&gt;12&lt;/div&gt;\n\n    &lt;div class=\"controls\"&gt;&lt;/div&gt;\n    &lt;div class=\"additional-controls\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Desired Result:\nPage 1 after \"Load More\" functionality is executed:</p>\n\n<pre><code>&lt;div class=\"overview-feature-1\"&gt;\n    &lt;div class=\"vehicleListing\"&gt;1&lt;/div&gt;\n    &lt;div class=\"vehicleListing\"&gt;2&lt;/div&gt;\n    &lt;div class=\"vehicleListing\"&gt;3&lt;/div&gt;\n    &lt;div class=\"vehicleListing\"&gt;4&lt;/div&gt;\n    &lt;div class=\"vehicleListing\"&gt;5&lt;/div&gt;\n    &lt;div class=\"vehicleListing\"&gt;6&lt;/div&gt;\n    &lt;div class=\"vehicleListing\"&gt;7&lt;/div&gt;\n    &lt;div class=\"vehicleListing\"&gt;8&lt;/div&gt;\n    &lt;div class=\"vehicleListing\"&gt;9&lt;/div&gt;\n    &lt;div class=\"vehicleListing\"&gt;10&lt;/div&gt;\n    &lt;div class=\"vehicleListing\"&gt;11&lt;/div&gt;\n    &lt;div class=\"vehicleListing\"&gt;12&lt;/div&gt;\n\n    &lt;div class=\"controls\"&gt;&lt;/div&gt;\n    &lt;div class=\"additional-controls\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This is what I have so far, but it keeps adding it inside the last vehicleListing div instead of after it.</p>\n\n<pre><code>$(\".vehicleListing\").after().last().load('page2url' + ' .vehicleListing');\n</code></pre>\n\n<p>Can someone point out why it's inserting inside the last div instead of after it, and how I can correct this?</p>\n"}, {"tags": ["javascript", "node.js", "mongodb", "express", "ejs"], "comments": [{"owner": {"reputation": 2844, "user_id": 1470950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d7b6bf6804a4725ce6a98ed48c23354?s=128&d=identicon&r=PG&f=1", "display_name": "Cody Guldner", "link": "https://stackoverflow.com/users/1470950/cody-guldner"}, "edited": false, "score": 0, "creation_date": 1482364520, "post_id": 41273640, "comment_id": 69749076, "body": "What are your dependencies? I&#39;ve often gotten this error from including a package like Mongoose and not actually starting the mongodb server. So either comment out/remove the package, or start mongodb"}, {"owner": {"reputation": 21, "user_id": 1768964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ab0e6a44da8fa1c9ea605e48bdbe81c?s=128&d=identicon&r=PG", "display_name": "Guilherme Falc&#227;o", "link": "https://stackoverflow.com/users/1768964/guilherme-falc%c3%a3o"}, "reply_to_user": {"reputation": 2844, "user_id": 1470950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d7b6bf6804a4725ce6a98ed48c23354?s=128&d=identicon&r=PG&f=1", "display_name": "Cody Guldner", "link": "https://stackoverflow.com/users/1470950/cody-guldner"}, "edited": false, "score": 0, "creation_date": 1482431677, "post_id": 41273640, "comment_id": 69781711, "body": "@CodyGuldner  var express = require(&#39;express&#39;),   router = express.Router(),   mongoose = require(&#39;mongoose&#39;),   Article = mongoose.model(&#39;Article&#39;); var ebay = require(&#39;ebay-api&#39;);"}, {"owner": {"reputation": 2844, "user_id": 1470950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d7b6bf6804a4725ce6a98ed48c23354?s=128&d=identicon&r=PG&f=1", "display_name": "Cody Guldner", "link": "https://stackoverflow.com/users/1470950/cody-guldner"}, "edited": false, "score": 0, "creation_date": 1482805971, "post_id": 41273640, "comment_id": 69879387, "body": "Well make sure your mongo client is started, or you will get the error"}], "answers": [{"comments": [{"owner": {"reputation": 2521, "user_id": 6254875, "user_type": "registered", "profile_image": "https://graph.facebook.com/1021244534597925/picture?type=large", "display_name": "Antonio Val", "link": "https://stackoverflow.com/users/6254875/antonio-val"}, "edited": false, "score": 0, "creation_date": 1513133341, "post_id": 41273995, "comment_id": 82530908, "body": "I wonder why this answer has a negative vote and no comments, if something is wrong please write it here~"}], "tags": [], "owner": {"reputation": 2521, "user_id": 6254875, "user_type": "registered", "profile_image": "https://graph.facebook.com/1021244534597925/picture?type=large", "display_name": "Antonio Val", "link": "https://stackoverflow.com/users/6254875/antonio-val"}, "is_accepted": false, "score": -1, "last_activity_date": 1482371301, "last_edit_date": 1482371301, "creation_date": 1482365926, "answer_id": 41273995, "question_id": 41273640, "link": "https://stackoverflow.com/questions/41273640/can-i-call-a-promise-with-a-loop-inside-another-promise/41273995#41273995", "title": "Can I call a promise (with a loop) inside another promise?", "body": "<p>Looking at the code we can't know why that Mongo error is happening.</p>\n\n<p>But answering the answer in the title, the function <code>getItemTransactions</code> is wrong. You are calling <code>resolve</code> for each item in the array, but Promises can only be resolved once, so it will only give back the first item it resolves.</p>\n\n<p>I would organize it in two functions:</p>\n\n<pre><code>function getItemTransaction (item) {\n    return Promise(function (resolve, reject) {\n        ebay.xmlRequest({\n            serviceName: 'Trading',\n            opType: 'GetItemTransactions',\n\n            // app/environment\n            devId: 'xxxxxxx',\n            certId: 'xxxxxxx',\n            appId: 'xxxxxxx',\n            sandbox: false,\n\n            // per user\n            authToken: 'xxxxxxx',\n\n            params: {\n                'ItemID': item.itemId,\n                'NumberOfDays': 30\n            }\n        }, function (error, results) {\n            if (error) {\n                return reject(error);\n            }\n            resolve(results);\n          });\n    });\n}\n\n\nfunction getItemTransactions(items) {\n    var promises = items.map(function(item) {\n        return getItemTransaction(item);\n    });\n    // Promise.all waits for all the promises to get resolved\n    // and return an array of resolved promises\n    return Promise.all(promises);\n}\n</code></pre>\n\n<p>The second function might not be necessary, if you do that operation in your main code:</p>\n\n<pre><code>findItemsByKeywords('iphone')\n    .then(items =&gt; {\n        return Promise.all(items.map(item =&gt; getItemTransaction(item));\n    })\n    .then(test =&gt; console.log(test));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 99, "user_id": 3692009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9719e5b1570e8c99bf3cf0c78bd7865?s=128&d=identicon&r=PG&f=1", "display_name": "Giuliano", "link": "https://stackoverflow.com/users/3692009/giuliano"}, "is_accepted": true, "score": -2, "last_activity_date": 1482366322, "creation_date": 1482366322, "answer_id": 41274055, "question_id": 41273640, "link": "https://stackoverflow.com/questions/41273640/can-i-call-a-promise-with-a-loop-inside-another-promise/41274055#41274055", "title": "Can I call a promise (with a loop) inside another promise?", "body": "<p>That's right. The loop finish before the ebay api returns a value, so the resolve will return an incomplete array (list).</p>\n\n<pre><code>function getItemTransactions(items) {\n\n  return new Promise((resolve, reject) =&gt; {\n    var list = [];\n    items.forEach(function (item) {\n\n      ebay.xmlRequest({\n        serviceName: 'Trading',\n        opType: 'GetItemTransactions',\n\n        // app/environment\n        devId: 'xxxxxxx',\n        certId: 'xxxxxxx',\n        appId: 'xxxxxxx',\n        sandbox: false,\n\n        // per user\n        authToken: 'xxxxxxx',\n\n        params: {\n          'ItemID': item.itemId,\n          'NumberOfDays': 30\n        }\n      }, function (error, results) {\n        list.push(results)\n        if (list.length == items.length) {\n          resolve(list);\n        }\n      });\n    })\n  });\n\n}\n</code></pre>\n\n<p>This is what I change, I'm resolving when the list array is completed:</p>\n\n<pre><code>if (list.length == items.length) {\n    resolve(list);\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 1768964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ab0e6a44da8fa1c9ea605e48bdbe81c?s=128&d=identicon&r=PG", "display_name": "Guilherme Falc&#227;o", "link": "https://stackoverflow.com/users/1768964/guilherme-falc%c3%a3o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 618, "favorite_count": 0, "accepted_answer_id": 41274055, "answer_count": 2, "score": -2, "last_activity_date": 1482371301, "creation_date": 1482363106, "question_id": 41273640, "link": "https://stackoverflow.com/questions/41273640/can-i-call-a-promise-with-a-loop-inside-another-promise", "title": "Can I call a promise (with a loop) inside another promise?", "body": "<p>I'm trying to consume 2 services from Ebay API:\n<code>findItemsByKeywords(keyword)</code>: return a list of items(object);\n<code>getItemTransactions(itemId)</code>: return a list of item's transactions(object);</p>\n\n<p>After calling <code>findItemsByKeywords</code> and get the returned items list, I need to call <code>getItemTransactions</code> and get the transactions for each one of that items and create a new list with them.</p>\n\n<p>I'm using Node.js, Express, Ejs and MongoDB</p>\n\n<p>My code works for one interaction only. </p>\n\n<pre><code>Error:\nError: unable to connect to database at mongodb://localhost/simplysell-development\n    at NativeConnection.&lt;anonymous&gt; (/Users/guilhermefalcao/workspace/simplysell/app.js:11:9)\n    at emitOne (events.js:96:13)\n    at NativeConnection.emit (events.js:188:7)\n    at Db.&lt;anonymous&gt; (/Users/guilhermefalcao/workspace/simplysell/node_modules/mongoose/lib/drivers/node-mongodb-native/connection.js:169:10)\n    at emitTwo (events.js:106:13)\n    at Db.emit (events.js:191:7)\n    at Server.listener (/Users/guilhermefalcao/workspace/simplysell/node_modules/mongodb/lib/db.js:1786:14)\n    at emitOne (events.js:96:13)\n    at Server.emit (events.js:188:7)\n    at Server.&lt;anonymous&gt; (/Users/guilhermefalcao/workspace/simplysell/node_modules/mongodb/lib/server.js:274:14)\n    at emitOne (events.js:96:13)\n    at Server.emit (events.js:188:7)\n    at Pool.&lt;anonymous&gt; (/Users/guilhermefalcao/workspace/simplysell/node_modules/mongodb-core/lib/topologies/server.js:334:12)\n    at emitOne (events.js:96:13)\n    at Pool.emit (events.js:188:7)\n    at Connection.&lt;anonymous&gt; (/Users/guilhermefalcao/workspace/simplysell/node_modules/mongodb-core/lib/connection/pool.js:270:12)\n</code></pre>\n\n<p>I'm not trying to access the database, I don't know why this error.</p>\n\n<p>I'm sorry about the code and english quality, <strong><em>I'm starting now</em></strong>.</p>\n\n<p>Here is some code:</p>\n\n<pre><code>router.get('/bestsellers', (req, res, next) =&gt; {\n  var i = 0;\n  var findItemsByKeywordsPromise = findItemsByKeywords('iphone');\n  findItemsByKeywordsPromise.then(items =&gt; {\n    var getItemTransactionsPromise = getItemTransactions(items);\n    return getItemTransactionsPromise;\n  }).then(test =&gt; console.log(test))\n\n});\n\nfunction getItemTransactions(items) {\n\n  return new Promise((resolve, reject) =&gt; {\n    var list = [];\n    items.forEach(function (item) {\n\n      ebay.xmlRequest({\n        serviceName: 'Trading',\n        opType: 'GetItemTransactions',\n\n        // app/environment\n        devId: 'xxxxxxx',\n        certId: 'xxxxxxx',\n        appId: 'xxxxxxx',\n        sandbox: false,\n\n        // per user\n        authToken: 'xxxxxxx',\n\n        params: {\n          'ItemID': item.itemId,\n          'NumberOfDays': 30\n        }\n      }, function (error, results) {\n        list.push(results)\n        resolve(list);\n      });\n    })\n  });\n\n}\n\nfunction findItemsByKeywords(keywords) {\n\n  return new Promise((resolve, reject) =&gt; {\n\n    var params = {\n      keywords: [keywords],\n    };\n\n    ebay.xmlRequest({\n      serviceName: 'Finding',\n      opType: 'findItemsByKeywords',\n      appId: 'xxxx',      // FILL IN YOUR OWN APP KEY, GET ONE HERE: https://publisher.ebaypartnernetwork.com/PublisherToolsAPI\n      params: params,\n      parser: ebay.parseResponseJson    // (default)\n    },\n      // gets all the items together in a merged array\n      function itemsCallback(error, itemsResponse) {\n        if (error) reject(error);\n\n        console.log('findItemsByKeywords called');\n\n        var items = itemsResponse.searchResult.item;\n\n        console.log('Found', items.length, 'items');\n        resolve(items);\n      }\n    );\n  });\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "rxjs"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1482363350, "post_id": 41273599, "comment_id": 69748807, "body": "Nope, that&#39;s the whole point of observables (and promises before them). The value you&#39;d want to return is not necessarily available when the call finishes."}, {"owner": {"reputation": 5931, "user_id": 1354934, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/6428552a6061416e628aaef84edfd425?s=128&d=identicon&r=PG", "display_name": "user1354934", "link": "https://stackoverflow.com/users/1354934/user1354934"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1482363396, "post_id": 41273599, "comment_id": 69748815, "body": "Is there a way I can refactor then to return the token in my getToken()?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 3, "creation_date": 1482363472, "post_id": 41273599, "comment_id": 69748832, "body": "No, there isn&#39;t. The process of getting the token is asynchronous. Instead you should return an observable (or convert it to a promise), return that and let the <i>caller</i> subscribe to it. See my advice to someone else with a similar problem: <a href=\"http://stackoverflow.com/questions/41271214/how-to-get-a-global-http-get-request-for-use-everywhere?noredirect=1#comment69743655_41271214\" title=\"how to get a global http get request for use everywhere\">stackoverflow.com/questions/41271214/&hellip;</a>"}, {"owner": {"reputation": 5931, "user_id": 1354934, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/6428552a6061416e628aaef84edfd425?s=128&d=identicon&r=PG", "display_name": "user1354934", "link": "https://stackoverflow.com/users/1354934/user1354934"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1482363600, "post_id": 41273599, "comment_id": 69748861, "body": "Thanks.  The issue I&#39;m facing is that because this is async, I have some other requests firing off which depend on the token, and since the token is undefined until getToken() completes, it fails"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1482363811, "post_id": 41273599, "comment_id": 69748912, "body": "Then you need to use the other methods rxjs offers, like <code>map</code>, which allow you to chain async actions."}, {"owner": {"reputation": 5931, "user_id": 1354934, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/6428552a6061416e628aaef84edfd425?s=128&d=identicon&r=PG", "display_name": "user1354934", "link": "https://stackoverflow.com/users/1354934/user1354934"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1482364163, "post_id": 41273599, "comment_id": 69749009, "body": "Thanks.  Please correct me if I&#39;m wrong but I don&#39;t think I can use <code>map</code> because I&#39;m getting headers back.  I am getting Authorization header"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1482394052, "post_id": 41273599, "comment_id": 69758285, "body": "You are wrong, you can absolutely use it to extract the headers from the response."}], "answers": [{"comments": [{"owner": {"reputation": 5931, "user_id": 1354934, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/6428552a6061416e628aaef84edfd425?s=128&d=identicon&r=PG", "display_name": "user1354934", "link": "https://stackoverflow.com/users/1354934/user1354934"}, "edited": false, "score": 0, "creation_date": 1482426862, "post_id": 41277085, "comment_id": 69779237, "body": "Thanks Sergey!  Do you think it is advisable to do this in the app.component and just propagate the key down to any components which need it for making HTTP requests?"}, {"owner": {"reputation": 2503, "user_id": 1010664, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/96adf9a826b9d98a2faf793443dbfbf4?s=128&d=identicon&r=PG", "display_name": "Sergey Sokolov", "link": "https://stackoverflow.com/users/1010664/sergey-sokolov"}, "reply_to_user": {"reputation": 5931, "user_id": 1354934, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/6428552a6061416e628aaef84edfd425?s=128&d=identicon&r=PG", "display_name": "user1354934", "link": "https://stackoverflow.com/users/1354934/user1354934"}, "edited": false, "score": 0, "creation_date": 1482428918, "post_id": 41277085, "comment_id": 69780365, "body": "@user1354934, I would rather put it into a service, like you did with <code>authService</code>. But there is a catch, if you use it as it is and subscribe to <code>getToken</code> multiple times it will do http call on every subscription! To avoid this you need to cache the result."}, {"owner": {"reputation": 5931, "user_id": 1354934, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/6428552a6061416e628aaef84edfd425?s=128&d=identicon&r=PG", "display_name": "user1354934", "link": "https://stackoverflow.com/users/1354934/user1354934"}, "edited": false, "score": 0, "creation_date": 1482429908, "post_id": 41277085, "comment_id": 69780839, "body": "What would be the best way to do that?  Also, can you tell me if my reasoning is wrong?  I put the subscribe into app.component because that is the component that will load first and it loads my other router components.  Only the router components (parent components) have http calls they make in ngOnInit, so they can use the data I pass them."}, {"owner": {"reputation": 5931, "user_id": 1354934, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/6428552a6061416e628aaef84edfd425?s=128&d=identicon&r=PG", "display_name": "user1354934", "link": "https://stackoverflow.com/users/1354934/user1354934"}, "edited": false, "score": 0, "creation_date": 1482429984, "post_id": 41277085, "comment_id": 69780873, "body": "What I don&#39;t understand about using the service is - how can I get that data without first subscribing to getToken somewhere?  For instance, I have a <code>recent-photos.service.ts</code> in which I&#39;ve got a getRecentPhotos() that needs this key.  How can I use my AuthService inside this service?"}, {"owner": {"reputation": 2503, "user_id": 1010664, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/96adf9a826b9d98a2faf793443dbfbf4?s=128&d=identicon&r=PG", "display_name": "Sergey Sokolov", "link": "https://stackoverflow.com/users/1010664/sergey-sokolov"}, "reply_to_user": {"reputation": 5931, "user_id": 1354934, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/6428552a6061416e628aaef84edfd425?s=128&d=identicon&r=PG", "display_name": "user1354934", "link": "https://stackoverflow.com/users/1354934/user1354934"}, "edited": false, "score": 0, "creation_date": 1482477343, "post_id": 41277085, "comment_id": 69796128, "body": "@user1354934, Check the answer"}, {"owner": {"reputation": 5931, "user_id": 1354934, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/6428552a6061416e628aaef84edfd425?s=128&d=identicon&r=PG", "display_name": "user1354934", "link": "https://stackoverflow.com/users/1354934/user1354934"}, "edited": false, "score": 0, "creation_date": 1482510221, "post_id": 41277085, "comment_id": 69812000, "body": "Thanks.  This works but to be honest I don&#39;t really understand what is going on.  For now, I&#39;ve got another way I figured out of doing this via using AuthGuard and calling the auth service there if there&#39;s no token.  However, I will study your solution as well because it is really cool.  Thanks"}], "tags": [], "owner": {"reputation": 2503, "user_id": 1010664, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/96adf9a826b9d98a2faf793443dbfbf4?s=128&d=identicon&r=PG", "display_name": "Sergey Sokolov", "link": "https://stackoverflow.com/users/1010664/sergey-sokolov"}, "is_accepted": true, "score": 2, "last_activity_date": 1482477329, "last_edit_date": 1482477329, "creation_date": 1482388504, "answer_id": 41277085, "question_id": 41273599, "link": "https://stackoverflow.com/questions/41273599/is-there-a-way-to-pass-data-out-of-the-subscribe-in-my-angular2-service/41277085#41277085", "title": "Is there a way to pass data out of the .subscribe in my angular2 service?", "body": "<p>If you need to do some other action when token is available you can do the following:</p>\n\n<pre><code>getToken() {\n  return this.http.post('myAuthEndpoint', { credentials })\n  .map((res) =&gt; {\n    const token = res.headers.get('Authorization')\n    return token;\n  })\n  .do((token) =&gt; {\n    localStorage.setItem('id_token', token);\n  });\n}\n\n// some other part of app\nauthService.getToken()\n  .switchMap((token) =&gt; {\n    // perform any desired action\n  })\n  .subscribe((result) =&gt; ...);\n</code></pre>\n\n<p>But beware that in this case calling <code>getToken()</code> without subsequent <code>subscribe</code> won't do anything.</p>\n\n<p><strong>Answer to comments</strong></p>\n\n<p>You have two services one provides token and other consumes it:</p>\n\n<pre><code>export class AuthService {\n  private tokenSource = new ReplaySubject(1);\n  private token$ = this.tokenSource.asObservable();\n\n  constructor(private http: Http) {\n    return this.http.post('myAuthEndpoint', { credentials })\n    .map((res) =&gt; {\n      let token = res.headers.get('Authorization')\n      return token;\n    })\n    .do((token) =&gt; {\n      localStorage.setItem('id_token', token);\n    })\n    .subscribe(this.tokenSource);\n  }\n\n  getToken() {\n    return this.token$;\n  }\n}\n\nexport class RecentPhotosService {\n  constructor(private authService: AuthService) {\n    this.authService.getToken()\n      .switchMap(token =&gt; {\n        return this.getRecentPhotos(token);\n      })\n      .subscribe(photos =&gt; {...});\n  }\n\n  ...\n}\n</code></pre>\n"}], "owner": {"reputation": 5931, "user_id": 1354934, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/6428552a6061416e628aaef84edfd425?s=128&d=identicon&r=PG", "display_name": "user1354934", "link": "https://stackoverflow.com/users/1354934/user1354934"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 41277085, "answer_count": 1, "score": 2, "last_activity_date": 1482477329, "creation_date": 1482362853, "question_id": 41273599, "link": "https://stackoverflow.com/questions/41273599/is-there-a-way-to-pass-data-out-of-the-subscribe-in-my-angular2-service", "title": "Is there a way to pass data out of the .subscribe in my angular2 service?", "body": "<p>I've got the following function in my AuthService:</p>\n\n<pre><code>getToken() {\n  this.http.post('myAuthEndpoint', { credentials })\n  .subscribe((res) =&gt; {\n    const token = res.headers.get('Authorization')\n    localStorage.setItem('id_token', token);\n  });\n}\n</code></pre>\n\n<p>I want to return from <code>getToken()</code> the actual token value that I get back in the <code>.subscribe</code>.  Is there a way to do that?</p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 6930, "user_id": 1287643, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/58fbf4309ed8205b568a28342105f31f?s=128&d=identicon&r=PG", "display_name": "rishat", "link": "https://stackoverflow.com/users/1287643/rishat"}, "edited": false, "score": 1, "creation_date": 1482364052, "post_id": 41273569, "comment_id": 69748977, "body": "There&#39;s <a href=\"https://github.com/w3c/editing/issues/150\" rel=\"nofollow noreferrer\">a discussion around undo/redo stack</a> which gives a bit of insight into how your case might be implemented. The idea would be to suppress default Cmd+Z or Ctrl+Z behavior and implement a custom input change history."}, {"owner": {"reputation": 48230, "user_id": 192729, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/lh74Q.jpg?s=128&g=1", "display_name": "Andr&#233; Pena", "link": "https://stackoverflow.com/users/192729/andr%c3%a9-pena"}, "reply_to_user": {"reputation": 6930, "user_id": 1287643, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/58fbf4309ed8205b568a28342105f31f?s=128&d=identicon&r=PG", "display_name": "rishat", "link": "https://stackoverflow.com/users/1287643/rishat"}, "edited": false, "score": 0, "creation_date": 1482364799, "post_id": 41273569, "comment_id": 69749145, "body": "@RishatMuhametshin, thanks for the link. That&#39;s frustrating but thanks anyway :)"}], "answers": [{"tags": [], "owner": {"reputation": 48230, "user_id": 192729, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/lh74Q.jpg?s=128&g=1", "display_name": "Andr&#233; Pena", "link": "https://stackoverflow.com/users/192729/andr%c3%a9-pena"}, "is_accepted": false, "score": 2, "last_activity_date": 1482368877, "last_edit_date": 1495541321, "creation_date": 1482368553, "answer_id": 41274320, "question_id": 41273569, "link": "https://stackoverflow.com/questions/41273569/how-to-enable-ctrl-z-when-you-change-an-input-text-dynamically-with-react/41274320#41274320", "title": "How to enable Ctrl + Z when you change an input text dynamically with React?", "body": "<p>I didn't solve the problem but it's possibly the best I can do to without re-implementing history as @Rishat mentioned (If I'm mistaken, please let me know).</p>\n\n<p>Thanks to <a href=\"https://stackoverflow.com/a/27028331/192729\">this answer</a>, I got to understand this command:</p>\n\n<pre><code>document.execCommand(\"insertText\", false, text);\n</code></pre>\n\n<p>This basically inserts <code>text</code> in the currently focused input in the current caret position (that's why you don't pass the input as a parameter). And, of course, this function updates the history accordingly.</p>\n\n<p>If I wanted, I could coordinate every insert (like the <code>**</code> mentioned in the question) in such a way that everything would be in the history.  However, that would be too complicated because each markdown command has a different behavior. It would be too laborious.</p>\n\n<p><strong>Solution:</strong></p>\n\n<p>The following code has to be on <code>componentDidUpdate</code>, and should only be executed <strong>after the text is changed programatically</strong>:</p>\n\n<pre><code>// In order to minimize the history problem with inputs, we're doing some tricks:\n//  - Set focus on the textarea\n//  - Set the value back to its previous value.\n//  - Select the whole text (that's the problem)\n//  - Insert the new value\nthis.refs.textarea.focus();\nthis.refs.textarea.value = previousText;\nsetSelection(this.refs.textarea, 0, previousText.length);\ndocument.execCommand(\"insertText\", false, text);\n</code></pre>\n\n<p><strong>Effect</strong></p>\n\n<p>The Ctrl + Z works perfectly, but if you keep going back until the time the input was changed programatically, it will select the whole text. I mean, the history is preserved but at the cost of messing up with the selection if you go back enough. I believe it's good enough, better than re-implementing the input history.</p>\n\n<p><a href=\"https://andrerpena.github.io/react-mde/\" rel=\"nofollow noreferrer\">Demo</a>.</p>\n"}], "owner": {"reputation": 48230, "user_id": 192729, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/lh74Q.jpg?s=128&g=1", "display_name": "Andr&#233; Pena", "link": "https://stackoverflow.com/users/192729/andr%c3%a9-pena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2233, "favorite_count": 2, "answer_count": 1, "score": 8, "last_activity_date": 1482368877, "creation_date": 1482362582, "last_edit_date": 1482368630, "question_id": 41273569, "link": "https://stackoverflow.com/questions/41273569/how-to-enable-ctrl-z-when-you-change-an-input-text-dynamically-with-react", "title": "How to enable Ctrl + Z when you change an input text dynamically with React?", "body": "<p>I'm trying to create a simple <a href=\"https://github.com/andrerpena/react-mde\" rel=\"nofollow noreferrer\">React markdown editor</a>. </p>\n\n<p><img src=\"https://i.imgur.com/ExwIV3R.png\" alt=\"editor\"></p>\n\n<p>The component is completely controlled. The problem is: If the user selects <code>abc</code> in the textarea and clicks the <strong>B</strong> button, I need to call <code>onchange()</code> with <code>**abc**</code>. I need to surround the text with these asterisks.</p>\n\n<p>This difference between what I pass on the <code>onchange()</code> and what the user has actually typed causes the textarea history to become inconsistent. Ctrl + Z doesn't work anymore.</p>\n\n<p><a href=\"https://andrerpena.github.io/react-mde/\" rel=\"nofollow noreferrer\">Demo</a>. [EDIT: This demo has the fix implemented. It's not as it was when I asked the question]</p>\n\n<p>How can I trigger <code>onchange()</code> on React with an arbitrary text and keep the Ctrl  + Z consistent?</p>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "comments": [{"owner": {"reputation": 5936, "user_id": 1735653, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/KSGfY.jpg?s=128&g=1", "display_name": "Lee Brindley", "link": "https://stackoverflow.com/users/1735653/lee-brindley"}, "edited": false, "score": 0, "creation_date": 1482363223, "post_id": 41273539, "comment_id": 69748778, "body": "Have you tried setting max-width: 100% and height: auto; on the images?"}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 5314983, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10153678315909756/picture?type=large", "display_name": "Tiago Kotryk", "link": "https://stackoverflow.com/users/5314983/tiago-kotryk"}, "edited": false, "score": 0, "creation_date": 1482364828, "post_id": 41273727, "comment_id": 69749153, "body": "Hi h3raldo, thanks for your answer! I changed to &quot;max-width:100%&quot; as you said, but now I face another problem, the image is not on the center and there are a blank background on it. Have a look: <a href=\"https://s29.postimg.org/rpbb5h91j/Sem_t_tulo.png\" rel=\"nofollow noreferrer\">s29.postimg.org/rpbb5h91j/Sem_t_tulo.png</a>"}, {"owner": {"reputation": 27, "user_id": 5314983, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10153678315909756/picture?type=large", "display_name": "Tiago Kotryk", "link": "https://stackoverflow.com/users/5314983/tiago-kotryk"}, "edited": false, "score": 0, "creation_date": 1482364851, "post_id": 41273727, "comment_id": 69749161, "body": "About the &quot;[&quot; it was not supposed to be there, my mistake."}, {"owner": {"reputation": 167, "user_id": 6296653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30fb9499f0ac6003366af9e907df07c7?s=128&d=identicon&r=PG&f=1", "display_name": "heraldo", "link": "https://stackoverflow.com/users/6296653/heraldo"}, "reply_to_user": {"reputation": 27, "user_id": 5314983, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10153678315909756/picture?type=large", "display_name": "Tiago Kotryk", "link": "https://stackoverflow.com/users/5314983/tiago-kotryk"}, "edited": false, "score": 0, "creation_date": 1482366762, "post_id": 41273727, "comment_id": 69749654, "body": "@TiagoKotryk, I&#39;ve updated the answer so you can fix those two problems. Let me know if that works for ya!"}, {"owner": {"reputation": 27, "user_id": 5314983, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10153678315909756/picture?type=large", "display_name": "Tiago Kotryk", "link": "https://stackoverflow.com/users/5314983/tiago-kotryk"}, "edited": false, "score": 0, "creation_date": 1482369555, "post_id": 41273727, "comment_id": 69750292, "body": "Thank you so much for your help, my problem with this lightbox is almost fixed, the only issue remaining is this one: <a href=\"https://s29.postimg.org/8uw3yz3jb/Sem_t_tulo.png\" rel=\"nofollow noreferrer\">s29.postimg.org/8uw3yz3jb/Sem_t_tulo.png</a> any help with that would be great!"}, {"owner": {"reputation": 27, "user_id": 5314983, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10153678315909756/picture?type=large", "display_name": "Tiago Kotryk", "link": "https://stackoverflow.com/users/5314983/tiago-kotryk"}, "edited": false, "score": 0, "creation_date": 1482371756, "post_id": 41273727, "comment_id": 69750833, "body": "Nevermind, my code on my computer was missconf. Hahaha but do you know how to i can change the oppacity of the background?"}, {"owner": {"reputation": 167, "user_id": 6296653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30fb9499f0ac6003366af9e907df07c7?s=128&d=identicon&r=PG&f=1", "display_name": "heraldo", "link": "https://stackoverflow.com/users/6296653/heraldo"}, "reply_to_user": {"reputation": 27, "user_id": 5314983, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10153678315909756/picture?type=large", "display_name": "Tiago Kotryk", "link": "https://stackoverflow.com/users/5314983/tiago-kotryk"}, "edited": false, "score": 0, "creation_date": 1482393521, "post_id": 41273727, "comment_id": 69758039, "body": "Sure, just use <code>opacity: .5</code>, or whatever setting you&#39;d like. If this answer worked for you, don&#39;t forget to mark it as accepted!"}], "tags": [], "owner": {"reputation": 167, "user_id": 6296653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30fb9499f0ac6003366af9e907df07c7?s=128&d=identicon&r=PG&f=1", "display_name": "heraldo", "link": "https://stackoverflow.com/users/6296653/heraldo"}, "is_accepted": true, "score": 0, "last_activity_date": 1482366740, "last_edit_date": 1482366740, "creation_date": 1482363778, "answer_id": 41273727, "question_id": 41273539, "link": "https://stackoverflow.com/questions/41273539/how-to-auto-correct-images-size-in-this-lightbox/41273727#41273727", "title": "How to auto correct images size in this lightbox?", "body": "<p>I see that on all of the images, you have a width of 100%:</p>\n\n<pre><code>&lt;img src=\"https://s30.postimg.org/5n4uwjuvh/tab_gallery_img_2.jpg\" style=\"width:100%\"&gt;\n</code></pre>\n\n<p>Setting the width to 100% is forcing the image to expand to the size of the container. Changing this to <strong>max-width</strong> should fix that issue while also making sure the image doesn't go past the container.</p>\n\n<pre><code>&lt;img src=\"https://s30.postimg.org/5n4uwjuvh/tab_gallery_img_2.jpg\" style=\"max-width:100%\"&gt;\n</code></pre>\n\n<p>After that, you can look into centering the image and making it look nice when it's small.</p>\n\n<p>Side note: I noticed on some of the image URLs, there's a <code>[</code>, I'm guessing it's a typo?</p>\n\n<p>UPDATE: To get the images aligned to the center and the background \"removed\":</p>\n\n<p>Add the following CSS:</p>\n\n<pre><code>.mySlides{\n    background: black;\n    text-align: center;\n}\n</code></pre>\n\n<p>This'll set the background to black so that it won't look bad and align the picture to the center.</p>\n"}], "owner": {"reputation": 27, "user_id": 5314983, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10153678315909756/picture?type=large", "display_name": "Tiago Kotryk", "link": "https://stackoverflow.com/users/5314983/tiago-kotryk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 41273727, "answer_count": 1, "score": 0, "last_activity_date": 1482503197, "creation_date": 1482362351, "last_edit_date": 1482503197, "question_id": 41273539, "link": "https://stackoverflow.com/questions/41273539/how-to-auto-correct-images-size-in-this-lightbox", "title": "How to auto correct images size in this lightbox?", "body": "<p>I'm trying to make <a href=\"http://www.w3schools.com/howto/howto_js_lightbox.asp\" rel=\"nofollow noreferrer\">this lightbox</a> work on my website, but the images are not being displayed with their original sizes, <a href=\"http://damontanha.com.br/Escalada-em-Rocha.html\" rel=\"nofollow noreferrer\">as you can see here</a> (Click on \"Galeria de fotos\"). How can I write the following codes to correct this issue?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function openModal() {\r\n  document.getElementById('myModal').style.display = \"block\";\r\n}\r\n\r\nfunction closeModal() {\r\n  document.getElementById('myModal').style.display = \"none\";\r\n}\r\n\r\nvar slideIndex = 1;\r\nshowSlides(slideIndex);\r\n\r\nfunction plusSlides(n) {\r\n  showSlides(slideIndex += n);\r\n}\r\n\r\nfunction currentSlide(n) {\r\n  showSlides(slideIndex = n);\r\n}\r\n\r\nfunction showSlides(n) {\r\n  var i;\r\n  var slides = document.getElementsByClassName(\"mySlides\");\r\n  var dots = document.getElementsByClassName(\"demo\");\r\n  var captionText = document.getElementById(\"caption\");\r\n  if (n &gt; slides.length) {slideIndex = 1}\r\n  if (n &lt; 1) {slideIndex = slides.length}\r\n  for (i = 0; i &lt; slides.length; i++) {\r\n    slides[i].style.display = \"none\";\r\n  }\r\n  for (i = 0; i &lt; dots.length; i++) {\r\n    dots[i].className = dots[i].className.replace(\" active\", \"\");\r\n  }\r\n  slides[slideIndex-1].style.display = \"block\";\r\n  dots[slideIndex-1].className += \" active\";\r\n  captionText.innerHTML = dots[slideIndex-1].alt;\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.row &gt; .column {\r\n  padding: 0 8px;\r\n}\r\n\r\n.row:after {\r\n  content: \"\";\r\n  display: table;\r\n  clear: both;\r\n}\r\n\r\n.column {\r\n  float: left;\r\n  width: 33.3%;\r\n}\r\n\r\n/* The Modal (background) */\r\n.modal {\r\n  display: none;\r\n  position: fixed;\r\n  z-index: 1;\r\n  padding-top: 100px;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: auto;\r\n  background-color: black;\r\n}\r\n\r\n/* Modal Content */\r\n.modal-content {\r\n  position: relative;\r\n  background-color: #fefefe;\r\n  margin: auto;\r\n  padding: 0;\r\n  width: 90%;\r\n  max-width: 1200px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div role=\"tabpanel\" class=\"tab-pane\" id=\"messages\"&gt;\r\n&lt;div class=\"trip-tab-gallery\"&gt;\r\n&lt;ul&gt;\r\n  &lt;div class=\"column\"&gt;\r\n    &lt;li&gt;&lt;img src=\"images/tab-gallery-img-1.jpg\" onclick=\"openModalhttps://s30.postimg.org/rxspwis5p/tab_gallery_img_1.jpgover-shadow\"&gt;\r\n  &lt;/li&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=\"column\"&gt;\r\n    &lt;li&gt;&lt;img src=\"]https://s30.postimg.org/5n4uwjuvh/tab_gallery_img_2.jpg\" onclick=\"openModal();currentSlide(2)\" class=\"hover-shadow\"&gt;\r\n  &lt;/li&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=\"column\"&gt;\r\n    &lt;li&gt;&lt;img src=\"https://s30.postimg.org/h0vzlhurx/tab_gallery_img_3.jpg\" onclick=\"openModal();currentSlide(3)\" class=\"hover-shadow\"&gt;\r\n  &lt;/li&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=\"column\"&gt;\r\n    &lt;li&gt;&lt;img src=\"https://s30.postimg.org/eku67ncp9/tab_gallery_img_4.jpg\" onclick=\"openModal();currentSlide(4)\" class=\"hover-shadow\"&gt;\r\n  &lt;/li&gt;\r\n  &lt;/div&gt;\r\n  &lt;/ul&gt;\r\n\r\n&lt;div id=\"myModal\" class=\"modal\"&gt;\r\n  &lt;span class=\"close cursor\" onclick=\"closeModal()\"&gt;&amp;times;&lt;/span&gt;\r\n  &lt;div class=\"modal-content\"&gt;\r\n\r\n    &lt;div class=\"mySlides\"&gt;\r\n      &lt;div class=\"numbertext\"&gt;1 / 4&lt;/div&gt;\r\n        &lt;img src=\"https://s30.postimg.org/rxspwis5p/tab_gallery_img_1.jpg\" style=\"width:100%\"&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=\"mySlides\"&gt;\r\n      &lt;div class=\"numbertext\"&gt;2 / 4&lt;/div&gt;\r\n        &lt;img src=\"]https://s30.postimg.org/5n4uwjuvh/tab_gallery_img_2.jpg\" style=\"width:100%\"&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=\"mySlides\"&gt;\r\n      &lt;div class=\"numbertext\"&gt;3 / 4&lt;/div&gt;\r\n        &lt;img src=\"https://s30.postimg.org/h0vzlhurx/tab_gallery_img_3.jpg\" style=\"width:100%\"&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=\"mySlides\"&gt;\r\n      &lt;div class=\"numbertext\"&gt;4 / 4&lt;/div&gt;\r\n        &lt;img src=\"https://s30.postimg.org/eku67ncp9/tab_gallery_img_4.jpg\" style=\"width:100%\"&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;a class=\"prev\" onclick=\"plusSlides(-1)\"&gt;&amp;#10094;&lt;/a&gt;\r\n    &lt;a class=\"next\" onclick=\"plusSlides(1)\"&gt;&amp;#10095;&lt;/a&gt;\r\n\r\n    &lt;div class=\"caption-container\"&gt;\r\n      &lt;p id=\"caption\"&gt;&lt;/p&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=\"column\"&gt;\r\n      &lt;img class=\"demo\" src=\"https://s30.postimg.org/rxspwis5p/tab_gallery_img_1.jpg\" onclick=\"currentSlide(1)\" alt=\"Nature\"&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=\"column\"&gt;\r\n      &lt;img class=\"demo\" src=\"]https://s30.postimg.org/5n4uwjuvh/tab_gallery_img_2.jpg\" onclick=\"currentSlide(2)\" alt=\"Trolltunga\"&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=\"column\"&gt;\r\n      &lt;img class=\"demo\" src=\"https://s30.postimg.org/h0vzlhurx/tab_gallery_img_3.jpg\" onclick=\"currentSlide(3)\" alt=\"Mountains\"&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=\"column\"&gt;\r\n      &lt;img class=\"demo\" src=\"https://s30.postimg.org/eku67ncp9/tab_gallery_img_4.jpg\" onclick=\"currentSlide(4)\" alt=\"Lights\"&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "java", "sockets", "networking", "websocket"], "answers": [{"comments": [{"owner": {"reputation": 894, "user_id": 5070552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-2Xo1h4e-Zpg/AAAAAAAAAAI/AAAAAAAAACQ/2vxAWb-LHNo/photo.jpg?sz=128", "display_name": "Samuel Kodytek", "link": "https://stackoverflow.com/users/5070552/samuel-kodytek"}, "edited": false, "score": 0, "creation_date": 1482363268, "post_id": 41273633, "comment_id": 69748787, "body": "ok thanks :) so my best bet is to find a java library for a communication with js websockets? right?"}, {"owner": {"reputation": 4121, "user_id": 19674, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5057291c386d12733d4123a1e277384e?s=128&d=identicon&r=PG", "display_name": "Jon Trauntvein", "link": "https://stackoverflow.com/users/19674/jon-trauntvein"}, "reply_to_user": {"reputation": 894, "user_id": 5070552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-2Xo1h4e-Zpg/AAAAAAAAAAI/AAAAAAAAACQ/2vxAWb-LHNo/photo.jpg?sz=128", "display_name": "Samuel Kodytek", "link": "https://stackoverflow.com/users/5070552/samuel-kodytek"}, "edited": false, "score": 1, "creation_date": 1482363581, "post_id": 41273633, "comment_id": 69748858, "body": "You&#39;ll need to go one step further and find a web server environment/library that supports web sockets."}], "tags": [], "owner": {"reputation": 4121, "user_id": 19674, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5057291c386d12733d4123a1e277384e?s=128&d=identicon&r=PG", "display_name": "Jon Trauntvein", "link": "https://stackoverflow.com/users/19674/jon-trauntvein"}, "is_accepted": true, "score": 3, "last_activity_date": 1482363080, "creation_date": 1482363080, "answer_id": 41273633, "question_id": 41273502, "link": "https://stackoverflow.com/questions/41273502/java-socket-and-js-websocket/41273633#41273633", "title": "Java Socket and JS WebSocket", "body": "<p>A web socket server is not the same thing as a simple socket server.  A server that offers web sockets must first offer HTTP or HTTPS services because the web socket is established when a web client sends an HTTP request with an Upgrade option and special fields for establishing the web socket.  Even after the web socket is established, the connection still does not behave exactly like a regular socket.  The Web Socket protocol uses frames to send or receive data.  This is all considerably different from what you seem to expect.</p>\n\n<p>One other thing that you should be aware of is that the browser will enforce the rule that the web socket must come from the same host as the page that is attempting to establish the web socket (the same protocol, address, and TCP port).</p>\n"}], "owner": {"reputation": 894, "user_id": 5070552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-2Xo1h4e-Zpg/AAAAAAAAAAI/AAAAAAAAACQ/2vxAWb-LHNo/photo.jpg?sz=128", "display_name": "Samuel Kodytek", "link": "https://stackoverflow.com/users/5070552/samuel-kodytek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1142, "favorite_count": 0, "accepted_answer_id": 41273633, "answer_count": 1, "score": 0, "last_activity_date": 1482363080, "creation_date": 1482362113, "question_id": 41273502, "link": "https://stackoverflow.com/questions/41273502/java-socket-and-js-websocket", "title": "Java Socket and JS WebSocket", "body": "<p>So I am trying to make some sort of connection between my Java app and my Web app, I looked up websockets and they look really simple and easy to use :). And I created myself a Java Server, which uses the ServerSocket class. </p>\n\n<p>Now the problem is I am able to connect to the server from the web, with the websocket, but I am unable to send data to the server... but when I tried to send data from a Java Client it worked fine... what might be the problem?</p>\n\n<p>My Java/Scala (I followed this tutorial: <a href=\"https://www.tutorialspoint.com/java/java_networking.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/java/java_networking.htm</a>) server:</p>\n\n<pre><code>class Server(val port: Int) extends Thread {\n\n  private val serverSocket = new ServerSocket(port)\n\n  override def run(): Unit = {\n    try {\n      while(true) {\n        println(\"Waiting for client on port: \" + serverSocket.getLocalPort)\n        val server = serverSocket.accept()\n\n        println(server.getRemoteSocketAddress)\n        val in = new DataInputStream(server.getInputStream())\n        println(in.readUTF())\n        val out = new DataOutputStream(server.getOutputStream())\n        out.writeUTF(\"Hello world!\")\n        server.close()\n      }\n    } catch {\n      case s: SocketTimeoutException =&gt; println(\"Connection timed out!\");\n      case e: Exception =&gt; e.printStackTrace()\n    }\n  }\n}\n</code></pre>\n\n<p>My web js (I followed <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_client_applications\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_client_applications</a> ):</p>\n\n<pre><code>/**\n * Created by samuelkodytek on 20/12/2016.\n */\nvar conn = new WebSocket('ws://127.0.0.1:8080');\n\nconn.onopen = function(e) {\n    console.log(\"Connection established!\");\n    conn.send(\"Hello!\");\n};\n\nconn.onmessage = function(e) {\n    console.log(e.data);\n};\n</code></pre>\n"}, {"tags": ["javascript", "xml", "eclipse"], "comments": [{"owner": {"reputation": 7331, "user_id": 2296199, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/nJpLu.jpg?s=128&g=1", "display_name": "SaintLike", "link": "https://stackoverflow.com/users/2296199/saintlike"}, "edited": false, "score": 0, "creation_date": 1482362063, "post_id": 41273479, "comment_id": 69748442, "body": "Can you please add some prints so we can have an idea of what you want? Aligned with what, centered where?"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1482362910, "post_id": 41273479, "comment_id": 69748689, "body": "What paragraph? You have an XML Document which does not translate to anything."}, {"owner": {"reputation": 1, "user_id": 7327942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70dde212cdbfbc3ed60c8e2ad492a407?s=128&d=identicon&r=PG", "display_name": "HichamEmpire", "link": "https://stackoverflow.com/users/7327942/hichamempire"}, "edited": false, "score": 0, "creation_date": 1482363401, "post_id": 41273479, "comment_id": 69748817, "body": "Okay sir   this how it looks <a href=\"http://i.imgur.com/fFzOTdY.png\" rel=\"nofollow noreferrer\">i.imgur.com/fFzOTdY.png</a>  and this is how i want it to look <a href=\"http://i.imgur.com/KEHjTUX.png\" rel=\"nofollow noreferrer\">i.imgur.com/KEHjTUX.png</a>"}, {"owner": {"reputation": 1068, "user_id": 2125802, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bd84962823581c3c103d14c88f4c38b9?s=128&d=identicon&r=PG", "display_name": "Marcelo", "link": "https://stackoverflow.com/users/2125802/marcelo"}, "edited": false, "score": 0, "creation_date": 1482370075, "post_id": 41273479, "comment_id": 69750419, "body": "How are you loading that XML... what language are you using?"}, {"owner": {"reputation": 17233, "user_id": 27905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54c977d97a90429c73f3323dc59532a?s=128&d=identicon&r=PG&f=1", "display_name": "nitind", "link": "https://stackoverflow.com/users/27905/nitind"}, "edited": false, "score": 0, "creation_date": 1482374188, "post_id": 41273479, "comment_id": 69751389, "body": "@HichamEmpire Those look like the same image. How do you get from this XML to those images?"}], "answers": [{"tags": [], "owner": {"reputation": 76, "user_id": 7314556, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/itMIf.png?s=128&g=1", "display_name": "MIS", "link": "https://stackoverflow.com/users/7314556/mis"}, "is_accepted": false, "score": 0, "last_activity_date": 1482380939, "creation_date": 1482380939, "answer_id": 41275814, "question_id": 41273479, "link": "https://stackoverflow.com/questions/41273479/how-to-centre-a-text-in-xml-file/41275814#41275814", "title": "How to centre a text in xml file", "body": "<p>Whatever method you are using to load the XML with and put it on the page, the containing element should be one that you style with CSS or inline styles to fit in the space you have designated, and adhere to the font, width, and centering rules you intend.</p>\n"}], "owner": {"reputation": 1, "user_id": 7327942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70dde212cdbfbc3ed60c8e2ad492a407?s=128&d=identicon&r=PG", "display_name": "HichamEmpire", "link": "https://stackoverflow.com/users/7327942/hichamempire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 0, "answer_count": 1, "score": -8, "last_activity_date": 1482397179, "creation_date": 1482361910, "last_edit_date": 1482393169, "question_id": 41273479, "link": "https://stackoverflow.com/questions/41273479/how-to-centre-a-text-in-xml-file", "title": "How to centre a text in xml file", "body": "<p>How to make this paragraph aligned and centered ?</p>\n\n<pre><code>&lt;dict&gt;\n  &lt;key&gt;value&lt;/key&gt;\n  &lt;string&gt;this is the text that i want to change and align &lt;/string&gt;\n&lt;/dict&gt; \n</code></pre>\n\n<p>This is how it works:</p>\n\n<p><a href=\"https://i.stack.imgur.com/sSKeh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sSKeh.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is what it should look like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Z2Dru.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z2Dru.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular2-template", "angular2-directives"], "comments": [{"owner": {"reputation": 4080, "user_id": 3547482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f93615ed584db10b4cc59daa1437b7e1?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Leonov", "link": "https://stackoverflow.com/users/3547482/alexander-leonov"}, "edited": false, "score": 0, "creation_date": 1482364567, "post_id": 41273455, "comment_id": 69749085, "body": "I&#39;m facing the same issue. You&#39;re right, context is never passed. This is because template that you&#39;re passing as content to &lt;my-component&gt; is actually bound to the context of &lt;my-component&gt;&#39;s host. I&#39;d like to get this working as well, but I don&#39;t see any way yet."}, {"owner": {"reputation": 1351, "user_id": 2008950, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/bb05f9ec4614bf1a99e4bb9748e02eba?s=128&d=identicon&r=PG", "display_name": "Tukkan", "link": "https://stackoverflow.com/users/2008950/tukkan"}, "reply_to_user": {"reputation": 4080, "user_id": 3547482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f93615ed584db10b4cc59daa1437b7e1?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Leonov", "link": "https://stackoverflow.com/users/3547482/alexander-leonov"}, "edited": false, "score": 0, "creation_date": 1482367719, "post_id": 41273455, "comment_id": 69749891, "body": "@AlexanderLeonov Look my answer. I&#39;ve found it."}], "answers": [{"tags": [], "owner": {"reputation": 1351, "user_id": 2008950, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/bb05f9ec4614bf1a99e4bb9748e02eba?s=128&d=identicon&r=PG", "display_name": "Tukkan", "link": "https://stackoverflow.com/users/2008950/tukkan"}, "is_accepted": true, "score": 30, "last_activity_date": 1506440798, "last_edit_date": 1506440798, "creation_date": 1482367662, "answer_id": 41274221, "question_id": 41273455, "link": "https://stackoverflow.com/questions/41273455/passing-context-to-template-through-ngoutletcontext-in-angular2/41274221#41274221", "title": "Passing context to template through ngOutletContext in Angular2", "body": "<p>After a long time, I made it.</p>\n\n<p>Example with single value:</p>\n\n<pre><code>@Component({\n  selector: 'my-component',\n  providers: [],\n  template: `\n    &lt;template [ngTemplateOutlet]=\"templ\" [ngOutletContext]=\"{isVisible: true}\"&gt;\n    &lt;/template&gt;\n  `\n})\nexport class MyElementComponent implements OnInit {\n    @ContentChild(TemplateRef) templ;\n    constructor(){}\n}\n\n&lt;my-component&gt;\n    &lt;template let-isVisible=\"isVisible\"&gt;\n        {{isVisible ? 'yes!' : 'no'}}\n    &lt;/template&gt;\n&lt;/my-component&gt;\n</code></pre>\n\n<p>Example with loop:</p>\n\n<pre><code>@Component({\n  selector: 'my-component',\n  providers: [],\n  template: `\n    &lt;div *ngFor=\"let element of data\"&gt;\n        &lt;template [ngTemplateOutlet]=\"templ\" [ngOutletContext]=\"{element: element}\"&gt;\n        &lt;/template&gt;\n    &lt;/div&gt;\n  `\n})\nexport class MyElementComponent implements OnInit {\n    @ContentChild(TemplateRef) templ;\n    constructor(){\n        this.data = [{name:'John'}, {name:'Jacob'}];\n    }\n}\n\n--- \n\n&lt;my-component&gt;\n    &lt;template let-element=\"element\"&gt;\n        {{element.name}}\n    &lt;/template&gt;\n&lt;/my-component&gt;\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>&lt;div&gt;John&lt;/div&gt;\n&lt;div&gt;Jacob&lt;/div&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 319, "user_id": 6110290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce6473132f0d0fde0b37464ae3399c85?s=128&d=identicon&r=PG", "display_name": "Acker Apple", "link": "https://stackoverflow.com/users/6110290/acker-apple"}, "edited": false, "score": 2, "creation_date": 1509722977, "post_id": 47077689, "comment_id": 81148406, "body": "So why was this down voted? Just because I didn&#39;t short format the CHANGELOG link? Should I not post helpful information? Please help me understand as I am turned off to helping further"}, {"owner": {"reputation": 319, "user_id": 6110290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce6473132f0d0fde0b37464ae3399c85?s=128&d=identicon&r=PG", "display_name": "Acker Apple", "link": "https://stackoverflow.com/users/6110290/acker-apple"}, "edited": false, "score": 0, "creation_date": 1510242791, "post_id": 47077689, "comment_id": 81361118, "body": "My original comment has since been up voted. Encouraged to help again!"}], "tags": [], "owner": {"reputation": 319, "user_id": 6110290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce6473132f0d0fde0b37464ae3399c85?s=128&d=identicon&r=PG", "display_name": "Acker Apple", "link": "https://stackoverflow.com/users/6110290/acker-apple"}, "is_accepted": false, "score": 14, "last_activity_date": 1509635537, "last_edit_date": 1509635537, "creation_date": 1509632805, "answer_id": 47077689, "question_id": 41273455, "link": "https://stackoverflow.com/questions/41273455/passing-context-to-template-through-ngoutletcontext-in-angular2/47077689#47077689", "title": "Passing context to template through ngOutletContext in Angular2", "body": "<p>Heads up ngOutletContext is deprecated and renamed as ngTemplateOutletContext.</p>\n\n<p>Search the change log for \"NgTemplateOutlet#ngTemplateOutletContext\"</p>\n\n<p><a href=\"https://github.com/angular/angular/blob/master/CHANGELOG.md\" rel=\"noreferrer\">CHANGELOG</a> </p>\n"}], "owner": {"reputation": 1351, "user_id": 2008950, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/bb05f9ec4614bf1a99e4bb9748e02eba?s=128&d=identicon&r=PG", "display_name": "Tukkan", "link": "https://stackoverflow.com/users/2008950/tukkan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12046, "favorite_count": 5, "accepted_answer_id": 41274221, "answer_count": 2, "score": 15, "last_activity_date": 1509635537, "creation_date": 1482361744, "question_id": 41273455, "link": "https://stackoverflow.com/questions/41273455/passing-context-to-template-through-ngoutletcontext-in-angular2", "title": "Passing context to template through ngOutletContext in Angular2", "body": "<p>I have a component to which I am passing a template. Inside of this component I would like to pass context so that I could display data.</p>\n\n<pre><code>@Component({\n  selector: 'my-component',\n  providers: [],\n  template: `\n    &lt;template [ngTemplateOutlet]=\"templ\" [ngOutletContext]=\"{isVisible: true}\"&gt;\n    &lt;/template&gt;\n  `\n})\nexport class MyElementComponent implements OnInit {\n    @ContentChild(TemplateRef) templ;\n    constructor(){}\n}\n</code></pre>\n\n<p>Now when using component inside of other component:</p>\n\n<pre><code>&lt;my-component&gt;\n    &lt;template&gt;\n        {{isVisible ? 'yes!' : 'no'}}\n    &lt;/template&gt;\n&lt;/my-component&gt;\n</code></pre>\n\n<p>So in <code>my-component</code> I am passing a template which is handled in it's class by <code>@ContentChild</code> with name <code>templ</code>. </p>\n\n<p>Then, in <code>my-component</code>'s template i am passing <code>templ</code> to <code>ngTemplateOutlet</code> and additionally, I am passing context using <code>ngOutletContext</code> which has <code>isVisible</code> set to <code>true</code>.</p>\n\n<p>we should see <code>yes!</code> on the screen but it seems that context is never passed.</p>\n\n<p>My angular version:</p>\n\n<pre><code>\"@angular/common\": \"^2.3.1\",\n\"@angular/compiler\": \"^2.3.1\",\n\"@angular/core\": \"^2.3.1\",\n</code></pre>\n"}, {"tags": ["javascript", "3d", "three.js", "resize"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 7327946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea9e980bf9d59c1f55e7d5774b1ba0a1?s=128&d=identicon&r=PG&f=1", "display_name": "b-insh", "link": "https://stackoverflow.com/users/7327946/b-insh"}, "edited": false, "score": 0, "creation_date": 1482366025, "post_id": 41274009, "comment_id": 69749470, "body": "but please let me know if anyone has any other comments/suggestions!"}], "tags": [], "owner": {"reputation": 21, "user_id": 7327946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea9e980bf9d59c1f55e7d5774b1ba0a1?s=128&d=identicon&r=PG&f=1", "display_name": "b-insh", "link": "https://stackoverflow.com/users/7327946/b-insh"}, "is_accepted": false, "score": 0, "last_activity_date": 1482365994, "creation_date": 1482365994, "answer_id": 41274009, "question_id": 41273451, "link": "https://stackoverflow.com/questions/41273451/how-to-continue-to-resize-3dobject-on-click-in-three-js-is-there-another-method/41274009#41274009", "title": "How to continue to resize 3DObject on click in Three.js, is there another method for resizing other than scale.set?", "body": "<p>I FIGURED IT OUT!! I used</p>\n\n<pre><code>mango.scale.multiplyScalar(1.2);\n</code></pre>\n\n<p>instead and it works. PHEW! </p>\n"}], "owner": {"reputation": 21, "user_id": 7327946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea9e980bf9d59c1f55e7d5774b1ba0a1?s=128&d=identicon&r=PG&f=1", "display_name": "b-insh", "link": "https://stackoverflow.com/users/7327946/b-insh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1482365994, "creation_date": 1482361726, "question_id": 41273451, "link": "https://stackoverflow.com/questions/41273451/how-to-continue-to-resize-3dobject-on-click-in-three-js-is-there-another-method", "title": "How to continue to resize 3DObject on click in Three.js, is there another method for resizing other than scale.set?", "body": "<p>My first question on StackOverflow!</p>\n\n<p>I am creating a javascript interactive game and I want the mango to become bigger/smaller/different color/etc every time an event happens to it. I'm testing and I've put an event listener on the mango and it resizes, but only once, using scale.set in my callback. Is there another way to do this? I want it to continue to increase in size until a certain, yet undetermined, size. I tried using percentages which just resulted in the same thing plus my linter yelling at me. Here is my relevant code: </p>\n\n<pre><code>const Mango = function() {\n  this.mesh = new THREE.Object3D();\n  const geom = new THREE.BoxGeometry(8, 16, 5, 8, 8, 8);\n\n  // making the box round\n  for (let i = 0; i&lt; geom.vertices.length; i++) {\n    geom.vertices[i].normalize().multiplyScalar(16);\n  }\n\n  for (let i = 0; i &lt; geom.faces.length; i ++) {\n    let face = geom.faces[i];\n\n    face.vertexNormals[0].copy( geom.vertices[face.a] ).normalize();\n    face.vertexNormals[1].copy( geom.vertices[face.b] ).normalize();\n    face.vertexNormals[2].copy( geom.vertices[face.c] ).normalize();\n  }\n\n  // making it oblong\n  geom.applyMatrix( new THREE.Matrix4().makeScale(1.0, 1.3, 0.6));\n\n  // adding mango skin\n  const loader = new THREE.TextureLoader();\n  const mangoMap = loader.load(\"images/mangoMap.jpg\");\n  const mat = new THREE.MeshPhongMaterial({\n    color: 0xffd507,\n    shininess: 40,\n    map: mangoMap,\n  });\n  const mango = new THREE.Mesh(geom, mat);\n\n  // adding eventlistener\n  const domEvents = new THREEx.DomEvents(camera, renderer.domElement);\n  domEvents.addEventListener(mango, 'click', function increaseMangoSize(e) {\n     mango.scale.set(1.2, 1.2, 1.2);\n  });\n\n  this.mesh.add(mango);\n\n};\n</code></pre>\n\n<p>Also, if you see anything else in my code that you'd like to comment on or helpfully critique, please let me know! I've only just started working with Three.js today and have a lot to learn.</p>\n"}, {"tags": ["javascript", "asp.net-mvc", "twitter-bootstrap", "internet-explorer-11"], "answers": [{"comments": [{"owner": {"reputation": 5511, "user_id": 1017065, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/4yZUh.jpg?s=128&g=1", "display_name": "FLICKER", "link": "https://stackoverflow.com/users/1017065/flicker"}, "edited": false, "score": 0, "creation_date": 1482610822, "post_id": 41281395, "comment_id": 69836896, "body": "It&#39;s not working. I added &quot;@section MyCustomScripts { &lt;script src=&quot;<a href=\"https://code.jquery.com/jquery-1.12.4.js&quot;&gt;&lt;/script\" rel=\"nofollow noreferrer\">code.jquery.com/jquery-1.12.4.js&quot;&gt;&lt;/script</a>&gt; &lt;script src=&quot;<a href=\"https://code.jquery.com/ui/1.12.1/jquery-ui.js&quot;&gt;&lt;/script\" rel=\"nofollow noreferrer\">code.jquery.com/ui/1.12.1/jquery-ui.js&quot;&gt;&lt;/script</a>&gt; &lt;script&gt;   $( function() {     $( &quot;#About&quot; ).resizable();   } ); &lt;/script&gt; }&quot; in the beginning of my view, but I got error and it did not work. I&#39;m using MVC 5"}, {"owner": {"reputation": 5511, "user_id": 1017065, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/4yZUh.jpg?s=128&g=1", "display_name": "FLICKER", "link": "https://stackoverflow.com/users/1017065/flicker"}, "edited": false, "score": 0, "creation_date": 1482779928, "post_id": 41281395, "comment_id": 69873365, "body": "This is my code : ~{     ViewBag.Title = &quot;Edit&quot;; }  &lt;link href=&quot;/plugins/fileInput/css/fileinput.min.css&quot; media=&quot;all&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt; &lt;script src=&quot;/plugins/fileInput/js/fileinput.min.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;  ~section MyCustomScripts{     &lt;script src=&quot;~/Scripts/jquery-3.1.1.min.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;     &lt;script&gt; $( function() { $( &quot;#About&quot; ).resizable(); } ); &lt;/script&gt; } }            replace ~ with @                     ~Html.TextAreaFor(model =&gt; model.About, 10, 300, new { htmlAttributes = new { ~class = &quot;form-control&quot; } })"}, {"owner": {"reputation": 5511, "user_id": 1017065, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/4yZUh.jpg?s=128&g=1", "display_name": "FLICKER", "link": "https://stackoverflow.com/users/1017065/flicker"}, "edited": false, "score": 0, "creation_date": 1482780042, "post_id": 41281395, "comment_id": 69873398, "body": "and I get error : Object doesn&#39;t support property or method &#39;resizable&#39;"}, {"owner": {"reputation": 670, "user_id": 435803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JsJLM.jpg?s=128&g=1", "display_name": "KevDevMan", "link": "https://stackoverflow.com/users/435803/kevdevman"}, "reply_to_user": {"reputation": 5511, "user_id": 1017065, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/4yZUh.jpg?s=128&g=1", "display_name": "FLICKER", "link": "https://stackoverflow.com/users/1017065/flicker"}, "edited": false, "score": 0, "creation_date": 1482869292, "post_id": 41281395, "comment_id": 69904746, "body": "ok,  can see why its not working. here is a poly fill you can try <a href=\"https://www.npmjs.com/package/resize-polyfill\" rel=\"nofollow noreferrer\">npmjs.com/package/resize-polyfill</a>"}], "tags": [], "owner": {"reputation": 670, "user_id": 435803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JsJLM.jpg?s=128&g=1", "display_name": "KevDevMan", "link": "https://stackoverflow.com/users/435803/kevdevman"}, "is_accepted": false, "score": 0, "last_activity_date": 1482403793, "creation_date": 1482403793, "answer_id": 41281395, "question_id": 41273424, "link": "https://stackoverflow.com/questions/41273424/bootstrap-textarea-is-not-re-sizable-in-ie11/41281395#41281395", "title": "Bootstrap TextArea is NOT re-sizable in IE11", "body": "<p>Use jQueryUI Resizable for textareas.</p>\n\n<p>Include jQuery UI library in your project</p>\n\n<pre><code>&lt;script src=\"//code.jquery.com/ui/1.11.4/jquery-ui.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>then in your jquery code call the line below</p>\n\n<pre><code>$(\"#MyTextAreaId\").resizable({ });\n</code></pre>\n"}], "owner": {"reputation": 5511, "user_id": 1017065, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/4yZUh.jpg?s=128&g=1", "display_name": "FLICKER", "link": "https://stackoverflow.com/users/1017065/flicker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1033, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1482436338, "creation_date": 1482361582, "last_edit_date": 1495535433, "question_id": 41273424, "link": "https://stackoverflow.com/questions/41273424/bootstrap-textarea-is-not-re-sizable-in-ie11", "title": "Bootstrap TextArea is NOT re-sizable in IE11", "body": "<p>I'm implementing a MVC web application in ASP.NET. </p>\n\n<p>Generating the View, gives me </p>\n\n<pre><code>@Html.EditorFor(model =&gt; model.Bio, \n                         new { htmlAttributes = new { @class = \"form-control\" } }\n)\n</code></pre>\n\n<p>I want to have TextArea so I changed it to </p>\n\n<pre><code>@Html.TextAreaFor(model =&gt; model.Bio, \n                  new { htmlAttributes = new { @class = \"form-control\" } }\n)\n</code></pre>\n\n<p>The problem is the text area is no resizable in IE11.\nThere is not issue on Chrome, FireFox and Opera.</p>\n\n<p>I also have tried solution: <a href=\"https://stackoverflow.com/questions/5893171/html-textareafor-in-asp-net-mvc\">This Q/A</a></p>\n\n<p>Please advise.</p>\n"}, {"tags": ["javascript", "event-listener"], "comments": [{"owner": {"reputation": 49711, "user_id": 367401, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/b864b7510b2cb4ed4a96befe513fbb83?s=128&d=identicon&r=PG", "display_name": "BenM", "link": "https://stackoverflow.com/users/367401/benm"}, "edited": false, "score": 2, "creation_date": 1482361659, "post_id": 41273423, "comment_id": 69748319, "body": "Please share your event binding code in the answer."}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 2, "creation_date": 1482361748, "post_id": 41273423, "comment_id": 69748347, "body": "No, do not put code that belongs in the question in an answer. You can always edit your question to include additional information."}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1482361908, "post_id": 41273423, "comment_id": 69748394, "body": "^ By clicking the <a href=\"https://stackoverflow.com/posts/41273423/edit\">edit</a> link in your question. You can either a) make your code work so that event handlers have only be bound once when the page loads b) unbind any existing event handlers when a new game is started c) destroy all the elements to which event handlers are bound. I recommend (a)."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1482362258, "post_id": 41273423, "comment_id": 69748490, "body": "You can call <code>removeEventListener()</code> to remove the event binding (if you created it with <code>addEventListener()</code>). Or you can check a global variable, and return from the function if it&#39;s set."}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1482362986, "post_id": 41273423, "comment_id": 69748712, "body": "So add a Boolean and check if the game is running before running it again. If it is running exit."}, {"owner": {"reputation": 11, "user_id": 5473721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/235d94771142f1083f8edfddcfaf244d?s=128&d=identicon&r=PG&f=1", "display_name": "maxquinn", "link": "https://stackoverflow.com/users/5473721/maxquinn"}, "reply_to_user": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1482364524, "post_id": 41273423, "comment_id": 69749077, "body": "@FelixKling Could you please take a look at the edited question. As you can see the Event Listener is bound once the drawMaze() function is called so I assumed that calling it for a second time would simply override the original listener. Am I wrong in thinking this?"}, {"owner": {"reputation": 11, "user_id": 5473721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/235d94771142f1083f8edfddcfaf244d?s=128&d=identicon&r=PG&f=1", "display_name": "maxquinn", "link": "https://stackoverflow.com/users/5473721/maxquinn"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482370927, "post_id": 41273423, "comment_id": 69750650, "body": "@Barmar Adding <code>removeEventLister()</code> to the function doesn&#39;t seem to make any difference"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482371102, "post_id": 41273423, "comment_id": 69750687, "body": "@dmt You can&#39;t use anonymous functions if you want to remove them with <code>removeEventListener()</code>. You need to use a named function so you can remove the same function you added."}, {"owner": {"reputation": 11, "user_id": 5473721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/235d94771142f1083f8edfddcfaf244d?s=128&d=identicon&r=PG&f=1", "display_name": "maxquinn", "link": "https://stackoverflow.com/users/5473721/maxquinn"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482371687, "post_id": 41273423, "comment_id": 69750819, "body": "@Barmar Yes I have changed the anonymous functions to named ones. Still has no effect. Where should I be removing the event listener? on the button click event?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482371870, "post_id": 41273423, "comment_id": 69750860, "body": "Yes. If you do <code>startButton.addEventListener(&#39;click&#39;, startApplication)</code>, then <code>startApplication</code> should contain <code>startButton.removeEventListener(&#39;click&#39;, startApplication)</code>"}, {"owner": {"reputation": 11, "user_id": 5473721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/235d94771142f1083f8edfddcfaf244d?s=128&d=identicon&r=PG&f=1", "display_name": "maxquinn", "link": "https://stackoverflow.com/users/5473721/maxquinn"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482372809, "post_id": 41273423, "comment_id": 69751055, "body": "@Barmar I don&#39;t actually want to remove the button functionality. The problem is that when the button is clicked multiple times there seem to be more than once instance of the game running even though you cant see the other one."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482372972, "post_id": 41273423, "comment_id": 69751090, "body": "Then just have the function check whether the game is already running, and return immediately if it is."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482372995, "post_id": 41273423, "comment_id": 69751097, "body": "<code>if (game_running) { return; } else { game_running = true; }</code>"}, {"owner": {"reputation": 11, "user_id": 5473721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/235d94771142f1083f8edfddcfaf244d?s=128&d=identicon&r=PG&f=1", "display_name": "maxquinn", "link": "https://stackoverflow.com/users/5473721/maxquinn"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482373242, "post_id": 41273423, "comment_id": 69751153, "body": "@Barmar ok I can do that but what about if I want to stop the current game from running and replace it with the new one when the button is clicked?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482373877, "post_id": 41273423, "comment_id": 69751319, "body": "Then do that. Just put whatever you need to do in the <code>if</code> statement."}, {"owner": {"reputation": 11, "user_id": 5473721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/235d94771142f1083f8edfddcfaf244d?s=128&d=identicon&r=PG&f=1", "display_name": "maxquinn", "link": "https://stackoverflow.com/users/5473721/maxquinn"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482374382, "post_id": 41273423, "comment_id": 69751434, "body": "@Barmar sorry to bother you but I&#39;m not still sure how to stop the function from running in the if statement. Is there any reference material you can direct me to?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482374836, "post_id": 41273423, "comment_id": 69751538, "body": "There shouldn&#39;t be a function running. Javascript applications are event-driven, you don&#39;t stay in a function. So there are just a bunch of variables and DOM elements that contain the current state of the application, and your event handlers make use of them. All you need to do is set everything back to its initial state."}], "owner": {"reputation": 11, "user_id": 5473721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/235d94771142f1083f8edfddcfaf244d?s=128&d=identicon&r=PG&f=1", "display_name": "maxquinn", "link": "https://stackoverflow.com/users/5473721/maxquinn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1482362985, "creation_date": 1482361581, "last_edit_date": 1482362985, "question_id": 41273423, "link": "https://stackoverflow.com/questions/41273423/stopping-more-than-one-instance-of-a-function-running-at-a-time", "title": "Stopping more than one instance of a function running at a time", "body": "<p>I am fairly new to JavaScript and have searched everywhere for an answer to my question and cant seem to find anything related at all. This tells me that I'm missing something with my understanding of how my program works.</p>\n\n<p>I have written a small game where the player navigates through a randomly generated maze using a gameloop that checks keydown events every x milliseconds. The game has a difficulty dropdown menu and then the game is started my clicking a button that calls a function to create a canvas where the game is drawn.</p>\n\n<p>My problem is that when the button is clicked again to create a new maze without reloading the page, the gameloop for the original maze is still running and so key events are registered twice. This is causing some unexpected behavior. It's as though every time the button is clicked, a new instance of the function is running. Is there some way that each time the button is clicked I can set it to stop the previous game function?</p>\n\n<pre><code>var canvas;\nvar div;\nvar mazeGenButton;\n\n$(document).ready(function () {\n    canvas = null;\n    div = document.getElementById('canvascontainer');;\n\n    mazeGenButton = document.getElementById(\"mazeGenButton\");\n    mazeGenButton.onclick = createInstance;\n});\n\nfunction createInstance() {\n    if (canvas != null) {\n        div.removeChild(document.getElementById(\"myCanvas\"));\n    }\n    canvas = document.createElement('canvas');\n    canvas.id = \"myCanvas\";\n    canvas.width = 1000;\n    canvas.height = 1000;\n    div.appendChild(canvas);\n    drawMaze();\n};\n\nvar drawMaze = function () {\n\n//code here to create the game(not posted)\n\n//here is the Key listener - not sure if it's related\nvar keyState = {};\n    window.addEventListener('keydown', function (e) {\n        keyState[e.keyCode || e.which] = true;\n    }, true);\n    window.addEventListener('keyup', function (e) {\n        keyState[e.keyCode || e.which] = false;\n    }, true);\n\n    function gameLoop() {\n        //left\n        if (keyState[37] || keyState[65]) {\n            if (isLegalMove(playerXPos - 1, playerYPos)) {\n                grid[playerXPos][playerYPos].removePlayerCell();\n                playerXPos -= 1;\n                grid[playerXPos][playerYPos].setPlayerCell();\n            }\n        }\n        //right\n        if (keyState[39] || keyState[68]) {\n            if (isLegalMove(playerXPos + 1, playerYPos)) {\n                grid[playerXPos][playerYPos].removePlayerCell();\n                playerXPos += 1;\n                grid[playerXPos][playerYPos].setPlayerCell();\n            }\n        }\n        //up\n        if (keyState[38] || keyState[87]) {\n            if (isLegalMove(playerXPos, playerYPos - 1)) {\n                grid[playerXPos][playerYPos].removePlayerCell();\n                playerYPos -= 1;\n                grid[playerXPos][playerYPos].setPlayerCell();\n            }\n        }\n        //down\n        if (keyState[40] || keyState[83]) {\n            if (isLegalMove(playerXPos, playerYPos + 1)) {\n                grid[playerXPos][playerYPos].removePlayerCell();\n                playerYPos += 1;\n                grid[playerXPos][playerYPos].setPlayerCell();\n            }\n        }\n\n        drawSurroundingCells();\n\n        setTimeout(gameLoop, 50);\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "audio", "html5-audio"], "comments": [{"owner": {"reputation": 456, "user_id": 1906873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24e6a026d4333487b6bd1bc832e6d79b?s=128&d=identicon&r=PG", "display_name": "Jesse Hufstetler", "link": "https://stackoverflow.com/users/1906873/jesse-hufstetler"}, "edited": false, "score": 0, "creation_date": 1483538283, "post_id": 41273389, "comment_id": 70136596, "body": "I originally asked this question because I was thinking of doing stereo audio processing in javascript in a raspberry pi using chromium."}], "answers": [{"tags": [], "owner": {"reputation": 456, "user_id": 1906873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24e6a026d4333487b6bd1bc832e6d79b?s=128&d=identicon&r=PG", "display_name": "Jesse Hufstetler", "link": "https://stackoverflow.com/users/1906873/jesse-hufstetler"}, "is_accepted": false, "score": 0, "last_activity_date": 1482417101, "creation_date": 1482417101, "answer_id": 41285465, "question_id": 41273389, "link": "https://stackoverflow.com/questions/41273389/is-it-possible-to-get-a-stereo-audio-feed-into-chrome/41285465#41285465", "title": "Is it possible to get a stereo audio feed into Chrome?", "body": "<p>I think it's actually not possible to get stereo audio into Chrome. According to the following URL: <a href=\"https://bugs.chromium.org/p/chromium/issues/detail?id=453876\" rel=\"nofollow noreferrer\">https://bugs.chromium.org/p/chromium/issues/detail?id=453876</a></p>\n\n<blockquote>\n  <p>Unfortunately we don't support [...] multiple devices at the moment.</p>\n</blockquote>\n"}], "owner": {"reputation": 456, "user_id": 1906873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24e6a026d4333487b6bd1bc832e6d79b?s=128&d=identicon&r=PG", "display_name": "Jesse Hufstetler", "link": "https://stackoverflow.com/users/1906873/jesse-hufstetler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1486147563, "creation_date": 1482361362, "last_edit_date": 1486147563, "question_id": 41273389, "link": "https://stackoverflow.com/questions/41273389/is-it-possible-to-get-a-stereo-audio-feed-into-chrome", "title": "Is it possible to get a stereo audio feed into Chrome?", "body": "<p>For instance, if I have a stereo audio interface/sound card, could I get the left and right channels separately into javascript for realtime-ish audio processing of stereo audio?</p>\n"}, {"tags": ["javascript", "loops", "asynchronous", "google-maps-api-3"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482362516, "post_id": 41273373, "comment_id": 69748569, "body": "Where is the loop in this code?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482362819, "post_id": 41273373, "comment_id": 69748661, "body": "There&#39;s way too much code at the fiddle to try to find the problem, but I&#39;ll bet it&#39;s something like <a href=\"http://stackoverflow.com/questions/1451009/javascript-infamous-loop-issue\" title=\"javascript infamous loop issue\">stackoverflow.com/questions/1451009/&hellip;</a>"}, {"owner": {"reputation": 88, "user_id": 3154484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4b51ed2181c66e89edadc7b64182a0e?s=128&d=identicon&r=PG", "display_name": "Berto", "link": "https://stackoverflow.com/users/3154484/berto"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482363577, "post_id": 41273373, "comment_id": 69748856, "body": "@Barmar Yes, it is a bit complicated. The loop is on line 183 to 189."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482363685, "post_id": 41273373, "comment_id": 69748880, "body": "I don&#39;t see a loop there. There&#39;s no <code>for</code> or <code>while</code> statement, or a call to <code>forEach()</code>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482363742, "post_id": 41273373, "comment_id": 69748894, "body": "Ahh, now I see the call to <code>.map()</code>."}, {"owner": {"reputation": 88, "user_id": 3154484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4b51ed2181c66e89edadc7b64182a0e?s=128&d=identicon&r=PG", "display_name": "Berto", "link": "https://stackoverflow.com/users/3154484/berto"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482364032, "post_id": 41273373, "comment_id": 69748971, "body": "I thought it may be Closures, but if you see the console logs on the console, it displays the correct index. That is what is throwing me off  If it makes it easier, just focus on the lines that I added in the question itself. That includes the loop, and the code the loop affects.  Either way, I really appreciate the help."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482364223, "post_id": 41273373, "comment_id": 69749026, "body": "I&#39;m not really sure what I&#39;m seeing there. Another thing to remember is that objects displayed with <code>console.log()</code> are live. If you modify the object after logging it, and then expand the object in the log, you&#39;ll see its new contents. To avoid this problem, use <code>console.log(JSON.stringify(object))</code>, then you&#39;ll get a snapshot of it."}, {"owner": {"reputation": 88, "user_id": 3154484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4b51ed2181c66e89edadc7b64182a0e?s=128&d=identicon&r=PG", "display_name": "Berto", "link": "https://stackoverflow.com/users/3154484/berto"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482364775, "post_id": 41273373, "comment_id": 69749140, "body": "Oh, ok. sorry. Records before and Records after shows the object saved on line 226, the address key, and the charger key. The address key is the one we are concerned with. It is the one that we are looping through.  I added that basically to show how it changes after that call. That is the part where I got stuck. It shows the correct index number, but it records the correct number and other numbers too."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482365808, "post_id": 41273373, "comment_id": 69749417, "body": "You&#39;re assigning to <code>addresses[address_key]</code>. But you&#39;re logging <code>addresses[0]</code> in the <code>Records before</code> and <code>Records after</code> log messages."}, {"owner": {"reputation": 88, "user_id": 3154484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4b51ed2181c66e89edadc7b64182a0e?s=128&d=identicon&r=PG", "display_name": "Berto", "link": "https://stackoverflow.com/users/3154484/berto"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482379821, "post_id": 41273373, "comment_id": 69752726, "body": "Well, the problem is that addresses[0] gets assigned the correct value at first, but gets assigned the value for addresses[1] the next loop around.  The end result is [0] and [1] have the result for [1],  [2] and [3] have the result for [3]. and [4] has the result for [4].  I set addresses[0], so I can try to see why it changes from the correct value the second time around."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482389646, "post_id": 41273373, "comment_id": 69756117, "body": "I haven&#39;t figured out why, but the problem is that when it&#39;s processing response #1, <code>addresses[1].nearest[0]</code> is the same object as <code>addresses[0].nearest[0]</code>. But the containing objects aren&#39;t the same, so the problem has to do with where <code>nearest[0]</code> comes from -- it&#39;s assigning a reference to an object that has been used before, instead of a new object."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482389828, "post_id": 41273373, "comment_id": 69756209, "body": "The way to debug this isn&#39;t with lots of console.log statements. Set breakpoints in the Javascript debugger, single-step through the program, and examine objects in the console. I found this by setting a breakpoint in <code>process_distance_matrix</code> and typing <code>addresses[1].nearest[0] == addresses[0].nearest[0]</code>, and it said they&#39;re equal."}], "answers": [{"comments": [{"owner": {"reputation": 88, "user_id": 3154484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4b51ed2181c66e89edadc7b64182a0e?s=128&d=identicon&r=PG", "display_name": "Berto", "link": "https://stackoverflow.com/users/3154484/berto"}, "edited": false, "score": 0, "creation_date": 1482433721, "post_id": 41277721, "comment_id": 69782670, "body": "Thank you, Barmar! That worked! You are a code Jedi!!! I will help spread the word of your amazing skills and the good deed you have done today!  Thanks again!!"}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 3, "last_activity_date": 1482391705, "last_edit_date": 1482391705, "creation_date": 1482391289, "answer_id": 41277721, "question_id": 41273373, "link": "https://stackoverflow.com/questions/41273373/looping-through-an-array-asynchronously-changes-values-for-different-indexes/41277721#41277721", "title": "Looping through an array asynchronously changes values for different indexes", "body": "<p>I think the problem is here in <code>process_addresses</code>:</p>\n\n<pre><code>addresses[address_key].nearest = charger_data.sort( sort_by_closest( addresses[address_key].geo ) );\n    // Takes the top results based on the number of results wanted.\naddresses[address_key].nearest = addresses[address_key].nearest.slice(0, $('#number_of_results').val() );\n</code></pre>\n\n<p>If the same charger is near multiple addresses, that charger will be in the <code>nearest</code> array for all of them. So when you add the driving directions to the charger from one address, you're replacing the directions from the previous address.</p>\n\n<p>There are two solutions:</p>\n\n<p>The simplest is to clone the charger objects before putting them into the <code>nearest</code> array.</p>\n\n<pre><code>addresses[address_key].nearest = addresses[address_key].nearest.slice(0, $('#number_of_results').val()).map(function(charger) {\n    return $.extend({}, charger);\n});\n</code></pre>\n\n<p>Another way is to use a different object to hold the directions, and make the charger a property of it:</p>\n\n<pre><code>addresses[address_key].nearest = addresses[address_key].nearest.slice(0, $('#number_of_results').val()).map(function(charger) {\n    return { charger: charger };\n});\n</code></pre>\n\n<p>This is an application of Wheeler's famous aphorism: \"All problems in computer science can be solved by another level of indirection\"</p>\n\n<p><a href=\"https://jsfiddle.net/barmar/cqyyLh27/1/\" rel=\"nofollow noreferrer\">Modified fiddle</a> (using the first solution)</p>\n"}], "owner": {"reputation": 88, "user_id": 3154484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4b51ed2181c66e89edadc7b64182a0e?s=128&d=identicon&r=PG", "display_name": "Berto", "link": "https://stackoverflow.com/users/3154484/berto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 41277721, "answer_count": 1, "score": 0, "last_activity_date": 1482391705, "creation_date": 1482361262, "last_edit_date": 1482365262, "question_id": 41273373, "link": "https://stackoverflow.com/questions/41273373/looping-through-an-array-asynchronously-changes-values-for-different-indexes", "title": "Looping through an array asynchronously changes values for different indexes", "body": "<p>I have an asynchronous loop that sends the index value to save the results. However, for some reason, the first time this item loops, it records the value properly. The second time it loops. it changes the value in the first loop and the value in the second loop, and so forth and so on. It seems to do this inconsistently depending on the input.</p>\n\n<p>Below is the code</p>\n\n<pre><code>promises[address_key] = addresses[address_key].nearest.map(function(currentValue, charger_key) { // This loops through items creating promises\n  return new Promise(function(resolve) {\n    addresses[address_key].nearest[charger_key].directions = get_driving_directions(addresses[address_key].nearest[charger_key]);\n    addresses[address_key].nearest[charger_key].map_img = get_static_map_url(addresses[address_key].nearest[charger_key]);\n    get_driving_distance(address_key, charger_key, resolve); // this calls the get_driving_distance function below\n  });\n});\n/* more code here */\n// Calls distance matrix from Google's api. \nfunction get_driving_distance(address_key, charger_key, resolve) {\n    var distance_matrix = new google.maps.DistanceMatrixService();\n    distance_matrix.getDistanceMatrix( // calls distance matrix in Google API\n      {\n        origins: [addresses[address_key].address],\n        destinations: [new google.maps.LatLng(addresses[address_key].nearest[charger_key].latitude, addresses[address_key].nearest[charger_key].longitude)],\n        unitSystem: google.maps.UnitSystem.IMPERIAL,\n        travelMode: 'DRIVING'\n      }, process_distance_matrix(address_key, charger_key, resolve) // calls process_distance_matrix function sending over variables necessary.\n    );\n  }\n  // processes data from the distance matrix in the function get_driving_distance\n\nfunction process_distance_matrix(address_key, charger_key, callback) {\n  return function(response, status) {\n    if (response.rows[0].elements[0].status == 'OK') {\n      console.log(\"response\", response, 'status', status, 'address_key', address_key, 'charger_key', charger_key);\n      console.log(\"Records before:\", addresses[0].nearest[0].distance, response.rows[0].elements[0].distance.text, 'address_key', address_key, 'charger_key', charger_key);\n      // Update the global variable with the distance data. This is recording data in wrong fields.\n      addresses[address_key].nearest[charger_key].distance = {\n        'text': response.rows[0].elements[0].distance.text,\n        'number': response.rows[0].elements[0].distance.value / 1609.344,\n        'over_limit': (max_driving_distance ? (response.rows[0].elements[0].distance.value / 1609.344 &gt; max_driving_distance) : false)\n      };\n      console.log(\"Records after:\", addresses[0].nearest[0].distance, response.rows[0].elements[0].distance.text, 'address_key', address_key, 'charger_key', charger_key);\n    } else {\n      display_error(address_key + ') ' + addresses[address_key].address + ' - Error getting driving distance');\n      addresses[address_key].errors.push('Error getting driving distance');\n      progress_status.error++;\n    }\n    callback();\n  }\n}\n</code></pre>\n\n<p>The rest of the code is too much to post, so here is a link to the rest of the code: <a href=\"https://jsfiddle.net/RobertoMejia/cqyyLh27/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/RobertoMejia/cqyyLh27/</a></p>\n\n<p>The original loop is a for loop on line 68. This loops through addresses and passes address_key to refer to the global object.</p>\n\n<p>There is a second loop on line 183. It is a .map loop. This runs through chargers, and passes charger_key to refer to the global object.</p>\n\n<p>Notice the console.logs in the middle of the function. Those are to show how the variable changes where it shouldn't. The display the object in question before and after the declaration each time. It also shows the address key and the charger key at the time of execution.</p>\n\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["javascript", "html", "css", "animation"], "comments": [{"owner": {"reputation": 2349, "user_id": 3681236, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JAhxe.jpg?s=128&g=1", "display_name": "Aeolingamenfel", "link": "https://stackoverflow.com/users/3681236/aeolingamenfel"}, "edited": false, "score": 0, "creation_date": 1482361175, "post_id": 41273319, "comment_id": 69748126, "body": "You&#39;re not actually toggling the class in <code>test()</code>...is that intentional?"}, {"owner": {"reputation": 2349, "user_id": 3681236, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JAhxe.jpg?s=128&g=1", "display_name": "Aeolingamenfel", "link": "https://stackoverflow.com/users/3681236/aeolingamenfel"}, "edited": false, "score": 0, "creation_date": 1482361187, "post_id": 41273319, "comment_id": 69748130, "body": "Also can we see the <code>buzz-out</code> animation code?"}, {"owner": {"reputation": 1646, "user_id": 2803557, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c8c84bc0a82c8788ca865e69e93fb81?s=128&d=identicon&r=PG&f=1", "display_name": "Skyyy", "link": "https://stackoverflow.com/users/2803557/skyyy"}, "reply_to_user": {"reputation": 2349, "user_id": 3681236, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JAhxe.jpg?s=128&g=1", "display_name": "Aeolingamenfel", "link": "https://stackoverflow.com/users/3681236/aeolingamenfel"}, "edited": false, "score": 0, "creation_date": 1482361488, "post_id": 41273319, "comment_id": 69748264, "body": "@aeolingamenfel i removed toggling class code as it was not working... and i have updated question with buzz-out animation code"}, {"owner": {"reputation": 2349, "user_id": 3681236, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JAhxe.jpg?s=128&g=1", "display_name": "Aeolingamenfel", "link": "https://stackoverflow.com/users/3681236/aeolingamenfel"}, "edited": false, "score": 0, "creation_date": 1482361527, "post_id": 41273319, "comment_id": 69748278, "body": "Thanks. Can you whip up a JS fiddle <i>with</i> the class toggling code?"}], "answers": [{"tags": [], "owner": {"reputation": 167, "user_id": 6296653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30fb9499f0ac6003366af9e907df07c7?s=128&d=identicon&r=PG&f=1", "display_name": "heraldo", "link": "https://stackoverflow.com/users/6296653/heraldo"}, "is_accepted": false, "score": 0, "last_activity_date": 1482366339, "creation_date": 1482366339, "answer_id": 41274059, "question_id": 41273319, "link": "https://stackoverflow.com/questions/41273319/not-able-to-restart-animation/41274059#41274059", "title": "Not able to restart animation", "body": "<p>I'm not too clear on what part you need help with so I've made a working JSfiddle that shows all of it working.</p>\n\n<p>I created an event listener for changes in the div and adds the class \"content-active\" to the div. This class adds the animation name and sets the display to block. Then the class is removed and re-added to restart the animation. To get the animation to restart, I set a 10ms delay. (You can also clone the div if you'd like)</p>\n\n<p><a href=\"https://jsfiddle.net/heraldo/zyjuoLt1/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/heraldo/zyjuoLt1/</a></p>\n\n<p>JS:</p>\n\n<pre><code>// watch for changes in the DOM\n$('#content').bind(\"DOMSubtreeModified\",function(){\n    // clear any previous animation\n    $(\"#p1\").removeClass(\"content-active\");\n  // setting a timeout allows the animation to restart\n  // NOTE, you can also clone the element and re-add it to do\n  // the same thing.\n  setTimeout(function(){ $(\"#p1\").addClass(\"content-active\"); }, 10);\n});\n\n// simply adds text to the status &lt;p&gt;\n$('#modify').click(function(){\n    $(\".person\").append('text ');\n});\n</code></pre>\n\n<p>CSS:</p>\n\n<pre><code>#content {\n  position: relative;\n}\n\n.content {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  display: none;\n  animation-duration: 1s;\n  animation-timing-function: linear;\n  animation-iteration-count: 1;\n  animation-direction: alternate;\n  animation-fill-mode: forwards;\n}\n\n.content-active{\n  display: block;\n  animation-name: buzzOut;\n}\n\n\n\n@keyframes buzzOut {\n  10% {\n    -webkit-transform: translateX(3px) rotate(2deg);\n    transform: translateX(3px) rotate(2deg);\n  }\n  20% {\n    -webkit-transform: translateX(-3px) rotate(-2deg);\n    transform: translateX(-3px) rotate(-2deg);\n  }\n  30% {\n    -webkit-transform: translateX(3px) rotate(2deg);\n    transform: translateX(3px) rotate(2deg);\n  }\n  40% {\n    -webkit-transform: translateX(-3px) rotate(-2deg);\n    transform: translateX(-3px) rotate(-2deg);\n  }\n  50% {\n    -webkit-transform: translateX(2px) rotate(1deg);\n    transform: translateX(2px) rotate(1deg);\n  }\n  60% {\n    -webkit-transform: translateX(-2px) rotate(-1deg);\n    transform: translateX(-2px) rotate(-1deg);\n  }\n  70% {\n    -webkit-transform: translateX(2px) rotate(1deg);\n    transform: translateX(2px) rotate(1deg);\n  }\n  80% {\n    -webkit-transform: translateX(-2px) rotate(-1deg);\n    transform: translateX(-2px) rotate(-1deg);\n  }\n  90% {\n    -webkit-transform: translateX(1px) rotate(0deg);\n    transform: translateX(1px) rotate(0deg);\n  }\n  100% {\n    -webkit-transform: translateX(-1px) rotate(0deg);\n    transform: translateX(-1px) rotate(0deg);\n  }\n}\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;!-- simply adds text to the div --&gt;\n&lt;button id=\"modify\"&gt;Add Text&lt;/button&gt; \n\n&lt;div id=\"content\"&gt;\n  &lt;div class=\"content\" id=\"p1\"&gt;\n    &lt;div class=\"person\"&gt;&lt;/div&gt;\n    &lt;p class=\"status\"&gt;&lt;/p&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Let me know if this works for you!</p>\n"}], "owner": {"reputation": 1646, "user_id": 2803557, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c8c84bc0a82c8788ca865e69e93fb81?s=128&d=identicon&r=PG&f=1", "display_name": "Skyyy", "link": "https://stackoverflow.com/users/2803557/skyyy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1482366339, "creation_date": 1482361003, "last_edit_date": 1482361431, "question_id": 41273319, "link": "https://stackoverflow.com/questions/41273319/not-able-to-restart-animation", "title": "Not able to restart animation", "body": "<p>I am trying to restart css animation when contents of div is changed. I have tried all method i can find googling none of them seems to work. I have tried </p>\n\n<blockquote>\n  <p>JQUERY</p>\n</blockquote>\n\n<pre><code>$(\"p1\").removeClass(\"content\");\n$(\"p1\").addClass(\"content\");\n</code></pre>\n\n<blockquote>\n  <p>JAVASCRIPT</p>\n</blockquote>\n\n<pre><code>var elm = this,\nvar newone = elm.cloneNode(true);\nelm.parentNode.replaceChild(newone, elm);\n</code></pre>\n\n<p>and some other methods like setting display to none and then block or changing animationName</p>\n\n<p>Here is my code</p>\n\n<blockquote>\n  <p>HTML</p>\n</blockquote>\n\n<pre><code>&lt;div id=\"content\"&gt;\n    &lt;div class=\"content\" id=\"p1\"&gt;\n        &lt;div class=\"person\"&gt;&lt;/div&gt;\n        &lt;img src=\"img/saying.png\" class=\"statusclound\"/&gt;\n        &lt;p class=\"status\"&gt;&lt;/p&gt;\n        &lt;img class=\"frame\" src=\"img/splash_1.png\" id=\"frame_1\"/&gt;\n\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<blockquote>\n  <p>CSS</p>\n</blockquote>\n\n<pre><code>.content {\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n            display: none;\n\n            animation-duration: 1s;\n            animation-timing-function: linear;\n            animation-iteration-count: 1;\n            animation-direction: alternate;\n            animation-fill-mode: forwards;\n        }\n\n@keyframes buzz-out {\n            10% {\n                -webkit-transform: translateX(3px) rotate(2deg);\n                transform: translateX(3px) rotate(2deg);\n            }\n            20% {\n                -webkit-transform: translateX(-3px) rotate(-2deg);\n                transform: translateX(-3px) rotate(-2deg);\n            }\n            30% {\n                -webkit-transform: translateX(3px) rotate(2deg);\n                transform: translateX(3px) rotate(2deg);\n            }\n            40% {\n                -webkit-transform: translateX(-3px) rotate(-2deg);\n                transform: translateX(-3px) rotate(-2deg);\n            }\n            50% {\n                -webkit-transform: translateX(2px) rotate(1deg);\n                transform: translateX(2px) rotate(1deg);\n            }\n            60% {\n                -webkit-transform: translateX(-2px) rotate(-1deg);\n                transform: translateX(-2px) rotate(-1deg);\n            }\n            70% {\n                -webkit-transform: translateX(2px) rotate(1deg);\n                transform: translateX(2px) rotate(1deg);\n            }\n            80% {\n                -webkit-transform: translateX(-2px) rotate(-1deg);\n                transform: translateX(-2px) rotate(-1deg);\n            }\n            90% {\n                -webkit-transform: translateX(1px) rotate(0deg);\n                transform: translateX(1px) rotate(0deg);\n            }\n            100% {\n                -webkit-transform: translateX(-1px) rotate(0deg);\n                transform: translateX(-1px) rotate(0deg);\n            }\n        }\n</code></pre>\n\n<blockquote>\n  <p>JAVASCRIPT</p>\n</blockquote>\n\n<pre><code>function test() {\n        var currentPatch = document.getElementById(\"p\" + patchTurn);           \n\n        currentPatch.getElementsByClassName(\"person\")[0].style.backgroundImage = \"url(http://localhost:80/slingshot/uploads/\" + jsonData[3] + \")\";\n        currentPatch.getElementsByClassName(\"status\")[0].innerHTML = jsonData[2];\n        currentPatch.getElementsByClassName(\"frame\")[0].src = \"img/splash_\" + randomFrame + \".png\";\n        currentPatch.style.animationName = \"buzz-out\";\n        currentPatch.style.display = \"block\";\n    }\n</code></pre>\n\n<p>So when the page loads div is disabled and <code>test()</code> function runs and div animates but when i change some content inside that div and re-run <code>test()</code> function it doesn't animate.</p>\n"}, {"tags": ["javascript", "mysql", "node.js", "express"], "comments": [{"owner": {"reputation": 5936, "user_id": 1735653, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/KSGfY.jpg?s=128&g=1", "display_name": "Lee Brindley", "link": "https://stackoverflow.com/users/1735653/lee-brindley"}, "edited": false, "score": 1, "creation_date": 1482361603, "post_id": 41273305, "comment_id": 69748304, "body": "You don&#39;t need to put &quot;.js&quot; in your requires \ud83d\ude03"}, {"owner": {"reputation": 885, "user_id": 6383445, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10206362179841345/picture?type=large", "display_name": "Miha Jamsek", "link": "https://stackoverflow.com/users/6383445/miha-jamsek"}, "reply_to_user": {"reputation": 5936, "user_id": 1735653, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/KSGfY.jpg?s=128&g=1", "display_name": "Lee Brindley", "link": "https://stackoverflow.com/users/1735653/lee-brindley"}, "edited": false, "score": 0, "creation_date": 1482489847, "post_id": 41273305, "comment_id": 69801997, "body": "heh, i know, i wanted to be more verbose, however that is hardly the problem :D"}, {"owner": {"reputation": 5936, "user_id": 1735653, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/KSGfY.jpg?s=128&g=1", "display_name": "Lee Brindley", "link": "https://stackoverflow.com/users/1735653/lee-brindley"}, "edited": false, "score": 0, "creation_date": 1482489887, "post_id": 41273305, "comment_id": 69802018, "body": "No, just a comment \ud83d\ude03"}, {"owner": {"reputation": 5568, "user_id": 4166367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c9P3c.jpg?s=128&g=1", "display_name": "Sergeon", "link": "https://stackoverflow.com/users/4166367/sergeon"}, "edited": false, "score": 0, "creation_date": 1484651889, "post_id": 41273305, "comment_id": 70587332, "body": "When you say it doesn&#39;t work... what is happening? Error is thrown? db module silently fails? You got errors logged? Can you get <code>mysql</code> to work with that configuration without splitting code in modules?"}], "answers": [{"tags": [], "owner": {"reputation": 963, "user_id": 3756843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72736de26488d821751a89bde0f1d968?s=128&d=identicon&r=PG", "display_name": "Paul Rey", "link": "https://stackoverflow.com/users/3756843/paul-rey"}, "is_accepted": false, "score": 0, "last_activity_date": 1484651523, "creation_date": 1484651523, "answer_id": 41695636, "question_id": 41273305, "link": "https://stackoverflow.com/questions/41273305/export-object-with-module-exports-with-callback-functions/41695636#41695636", "title": "Export object with module.exports with callback functions", "body": "<p>The first advice I'll give is the following, you can use your callback like this in your <code>person.js</code>:</p>\n\n\n\n<pre><code>Person.prototype.writeToDatabase = function (callback) {\n    db.query(\"INSERT INTO Person_table(NAME, AGE) VALUES(?,?)\",\n      [this.name, this.age],\n      callback // Since you do nothing with `err` or `rows`\n    );\n}\n</code></pre>\n\n<p>Why ? Because you handle the callback in your <code>app.js</code> file :).</p>\n\n<p>Next, I think it doesn't work because you don't wait for your function <code>conn.getConnection</code> to end, and moreover, you don't use the return of this function ! Check the documentation <a href=\"https://github.com/mysqljs/mysql#pooling-connections\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>You should reorganize your code like:</p>\n\n<p><strong>db.js</strong></p>\n\n\n\n<pre><code>var mysql = require('mysql');\n\nmodule.exports = mysql.createPool({\n    host : 'localhost',\n    database: 'db_name',\n    user: 'user_name',\n    password : 'pass',\n    multipleStatement: true,\n    connectionLimit : 10\n});\n</code></pre>\n\n<p><strong>person.js</strong></p>\n\n\n\n<pre><code>module.exports = function (connection) { // You need the connection to query your database.\n\n    function Person(n, a) {\n        this.name = n;\n        this.age = a;\n    }\n\n    Person.prototype.writeToDatabase = function (callback) {\n        // The connection is used here.\n        connection.query(\"INSERT INTO Person_table(NAME, AGE) VALUES(?,?)\",\n            [this.name, this.age],\n            callback\n        );\n    }\n\n    return Person;\n};\n</code></pre>\n\n<p><strong>app.js</strong></p>\n\n\n\n<pre><code>var db = require('./db');\n\ndb.getConnection(function (err, connection) { // Once you're connected to the database, you can start using your app.\n\n    var Person = require('./person')(connection); // Since we export a function with a parameter, we need to require the person.js like this.\n\n    var p = new Person(\"John\", 22);\n\n    p.writeToDatabase(function(err, rows) {\n        if(err) console.log(err);\n        else console.log(\"written to DB\");\n    });\n});\n</code></pre>\n\n<p>If I'm not clear, you can ask for more details :). If the pattern I show you doesn't fit with your expectation you can do the job in other ways ;)</p>\n"}, {"tags": [], "owner": {"reputation": 885, "user_id": 6383445, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10206362179841345/picture?type=large", "display_name": "Miha Jamsek", "link": "https://stackoverflow.com/users/6383445/miha-jamsek"}, "is_accepted": true, "score": 0, "last_activity_date": 1484780946, "creation_date": 1484780946, "answer_id": 41731082, "question_id": 41273305, "link": "https://stackoverflow.com/questions/41273305/export-object-with-module-exports-with-callback-functions/41731082#41731082", "title": "Export object with module.exports with callback functions", "body": "<p>I figured out the problem. My example is working perfectly, I had just one totally not related problem.</p>\n\n<p>At the end of my short program i had <code>process.exit()</code> so that my app would end when it would finish the task. However I haven't taken into account the asynchronous nature of node.js so, my <code>process.exit()</code> executed before my write to database was completed, therefore it failed.</p>\n\n<p>Thanks for help anyway!</p>\n"}], "owner": {"reputation": 885, "user_id": 6383445, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10206362179841345/picture?type=large", "display_name": "Miha Jamsek", "link": "https://stackoverflow.com/users/6383445/miha-jamsek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1211, "favorite_count": 0, "accepted_answer_id": 41731082, "answer_count": 2, "score": 0, "last_activity_date": 1484780946, "creation_date": 1482360953, "last_edit_date": 1484646907, "question_id": 41273305, "link": "https://stackoverflow.com/questions/41273305/export-object-with-module-exports-with-callback-functions", "title": "Export object with module.exports with callback functions", "body": "<p>I am trying to learn how to write my own modules for nodejs, specifically to implement various objects, with which I could then work throughout the app.</p>\n\n<p>I want to use result something like this:</p>\n\n<pre><code>//assuming i have database:\nPerson_table(ID int A_I, NAME varchar, AGE int)\n//code:\nvar p = new Person(\"John\", 22);\np.writeToDatabase();\n//the object is now written in database\n</code></pre>\n\n<p>I have tried the following, but for some reason beyond my understanding it doesn't work.\nI have declared three files: db.js , person.js , app.js</p>\n\n<p><strong>db.js</strong></p>\n\n<pre><code>var mysql = require('mysql');\nvar conn = mysql.createPool({\n    host : 'localhost',\n    database: 'db_name',\n    user: 'user_name',\n    password : 'pass',\n    multipleStatement: true,\n    connectionLimit : 10\n});\n\nconn.getConnection(function(err){\n    if(err) throw err;\n});\n\nmodule.exports = conn;\n</code></pre>\n\n<p><strong>person.js</strong></p>\n\n<pre><code>var db = require('./db.js');\n\nfunction Person(n, a) {\n    this.name = n;\n    this.age = a;\n}\n\nPerson.prototype.writeToDatabase = function (callback) {\n    db.query(\"INSERT INTO Person_table(NAME, AGE) VALUES(?,?)\", [this.name, this.age], function (err, rows) {\n        if (err) return callback(err);\n        else return callback(null, rows);\n    });\n}\n\nmodule.exports = Person;\n</code></pre>\n\n<p><strong>app.js</strong></p>\n\n<pre><code>var Person = require('./person.js')\n\nvar p = new Person(\"John\", 22);\n\np.writeToDatabase(function(err, rows){\n    if(err) console.log(err);\n    else console.log(\"written to DB\");\n});\n</code></pre>\n\n<p>I would appreciate the help on what is wrong with the code.\nAs a bonus, I would like to ask any good literature on subject of module exporting and object prototypes to create layered nodejs app.</p>\n"}, {"tags": ["javascript", "angularjs"], "comments": [{"owner": {"reputation": 3741, "user_id": 5063031, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a10284924bd77f292510557382276fb1?s=128&d=identicon&r=PG&f=1", "display_name": "Jeb50", "link": "https://stackoverflow.com/users/5063031/jeb50"}, "edited": false, "score": 0, "creation_date": 1482383061, "post_id": 41273289, "comment_id": 69753630, "body": "According to the ui-grid team, .css file may not be loaded. F12 shows &quot;Uncaught SyntaxError: Invalid or unexpected token: ui-grid.css: 5&quot;, which is the first line: #ui-grid-twbs #ui-grid-twbs .form-horizontal .form-group:before,  If I take it out, it continues complaining the next line. Hmm"}], "answers": [{"tags": [], "owner": {"reputation": 3741, "user_id": 5063031, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a10284924bd77f292510557382276fb1?s=128&d=identicon&r=PG&f=1", "display_name": "Jeb50", "link": "https://stackoverflow.com/users/5063031/jeb50"}, "is_accepted": true, "score": 0, "last_activity_date": 1482383568, "creation_date": 1482383568, "answer_id": 41276188, "question_id": 41273289, "link": "https://stackoverflow.com/questions/41273289/data-placed-outside-of-angular-ui-grid/41276188#41276188", "title": "Data placed outside of Angular ui-grid", "body": "<p>Stupid me, I was loading .css using  tag. \nSo this line </p>\n\n<pre><code>&lt;script src=\"/Content/ui-grid.css\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>should be this instead:</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"/Content/ui-grid.css\"&gt;\n</code></pre>\n\n<p>It's been working as expected.</p>\n"}], "owner": {"reputation": 3741, "user_id": 5063031, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a10284924bd77f292510557382276fb1?s=128&d=identicon&r=PG&f=1", "display_name": "Jeb50", "link": "https://stackoverflow.com/users/5063031/jeb50"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "accepted_answer_id": 41276188, "answer_count": 1, "score": 0, "last_activity_date": 1482383568, "creation_date": 1482360849, "question_id": 41273289, "link": "https://stackoverflow.com/questions/41273289/data-placed-outside-of-angular-ui-grid", "title": "Data placed outside of Angular ui-grid", "body": "<p>We have plenty of server-side data grid controls, would like to replace them w/ generic clientside Angular. But data is always placed outside of the grid. To find out the cause, I followed the <a href=\"http://ui-grid.info/docs/#/tutorial/101_intro\" rel=\"nofollow noreferrer\">official demo/tutorial</a>, combine .js and .css into local.html, still the same result.<a href=\"https://i.stack.imgur.com/F6FjC.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>Visual Studio 2015 w/ Update, NuGet installed ui-grid(v3.2.9 - 2016-09-21). Must be something missing or the demo has problem.</p>\n\n<p>Here is local.html:</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html ng-app=\"app\"&gt;\n&lt;head&gt;\n    &lt;script src=\"http://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"http://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular-touch.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"http://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular-animate.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"http://ui-grid.info/docs/grunt-scripts/csv.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"http://ui-grid.info/docs/grunt-scripts/pdfmake.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"http://ui-grid.info/docs/grunt-scripts/vfs_fonts.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"/Scripts/ui-grid.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"/Content/ui-grid.css\"&gt;&lt;/script&gt;\n\n    &lt;style&gt;\n        .grid {  width: 500px;  height: 250px;}\n    &lt;/style&gt;\n\n    &lt;script&gt;\n        var app = angular.module('app', ['ngTouch', 'ui.grid']);\n\n        app.controller('MainCtrl', ['$scope', function ($scope) {\n\n            $scope.myData = [\n              {\n                  \"firstName\": \"Cox\",\n                  \"lastName\": \"Carney\",\n                  \"company\": \"Enormo\",\n                  \"employed\": true\n              },\n              {\n                  \"firstName\": \"Lorraine\",\n                  \"lastName\": \"Wise\",\n                  \"company\": \"Comveyer\",\n                  \"employed\": false\n              },\n              {\n                  \"firstName\": \"Nancy\",\n                  \"lastName\": \"Waters\",\n                  \"company\": \"Fuelton\",\n                  \"employed\": false\n              }\n            ];\n        }]);\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div ng-controller=\"MainCtrl\"&gt;\n        &lt;div id=\"grid1\" ui-grid=\"{ data: myData }\" class=\"grid\"&gt;&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["javascript", "angularjs", "dropbox-api"], "comments": [{"owner": {"reputation": 13778, "user_id": 1305693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da01d21aaa750b4cca96f2eb6017ce94?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/1305693/greg"}, "edited": false, "score": 0, "creation_date": 1482364349, "post_id": 41273258, "comment_id": 69749050, "body": "[Cross-linking for reference: <a href=\"https://www.dropboxforum.com/t5/API-support/Get-the-URL-path-from-a-link-bookmark-url-file/m-p/199000#M9218\" rel=\"nofollow noreferrer\">dropboxforum.com/t5/API-support/&hellip;</a> ]"}], "answers": [{"comments": [{"owner": {"reputation": 13778, "user_id": 1305693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da01d21aaa750b4cca96f2eb6017ce94?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/1305693/greg"}, "edited": false, "score": 0, "creation_date": 1482364688, "post_id": 41273259, "comment_id": 69749118, "body": "By the way, it may be a good idea to parse the data fully, as opposed to relying on the desired URL data starting at position 32, since it looks like there are other things that may potentially be included. E.g., see this unofficial guide: <a href=\"http://www.lyberty.com/encyc/articles/tech/dot_url_format_-_an_unofficial_guide.html\" rel=\"nofollow noreferrer\">lyberty.com/encyc/articles/tech/&hellip;</a>"}], "tags": [], "owner": {"reputation": 113, "user_id": 823927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f01e551087013722daad22b624dda1fd?s=128&d=identicon&r=PG", "display_name": "astanley86", "link": "https://stackoverflow.com/users/823927/astanley86"}, "is_accepted": true, "score": 0, "last_activity_date": 1482360675, "creation_date": 1482360675, "answer_id": 41273259, "question_id": 41273258, "link": "https://stackoverflow.com/questions/41273258/read-downloaded-blob-from-dropbox-api-using-http/41273259#41273259", "title": "Read downloaded blob from dropbox API using HTTP", "body": "<p>Here is what needs to go into an Angular 1 factory.  To use this, you would just call the downloadFile function from a controller and provide the path to the file in your dropbox account.  </p>\n\n<pre><code> function downloadFile(filePath) {\n            if (!filePath) {\n                console.error('Cannot download file because no file was specified.');\n                return;\n            }\n            return $q(function(fulfill, reject) {\n                $http({\n                    url: 'https://content.dropboxapi.com/2/files/download',\n                    method: 'POST',\n                    headers: {\n                        'Authorization': 'Bearer {{access-token-goes-here}}',\n                        'Dropbox-API-Arg': `{\"path\": \"${filePath}\"}`\n                    },\n                    responseType: 'blob'\n                }).then(\n                    results =&gt; {\n                        // data received from dropbox is binary data saved as a blob\n                        // The FileReader object lets web applications asynchronously read the contents of files\n                        // https://developer.mozilla.org/en-US/docs/Web/API/FileReader\n                        var fileReader = new FileReader();\n                         // function will run after successfully reading the file\n                        fileReader.onload = function() {\n                            var string = this.result; // store the file contents\n                            string = encodeURI(string); // get rid of the paragraph return characters\n                            var endPosition = string.indexOf('%0D%0A', 32); // find the end of the URL, startPosition is 32\n                            var actualURL = string.substring(32, endPosition); // grab only the characters between start and end positions\n                            fulfill(actualURL);\n                        };\n                        fileReader.readAsText(results.data);                           \n                    },\n                    error =&gt; reject(error));\n            });\n        }\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 823927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f01e551087013722daad22b624dda1fd?s=128&d=identicon&r=PG", "display_name": "astanley86", "link": "https://stackoverflow.com/users/823927/astanley86"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 985, "favorite_count": 0, "accepted_answer_id": 41273259, "answer_count": 1, "score": 0, "last_activity_date": 1482360675, "creation_date": 1482360675, "question_id": 41273258, "link": "https://stackoverflow.com/questions/41273258/read-downloaded-blob-from-dropbox-api-using-http", "title": "Read downloaded blob from dropbox API using HTTP", "body": "<p>Using dropbox you can create a shortcut by dragging and dropping a URL into your Dropbox folder.  This will be saved like this:\n<a href=\"https://i.stack.imgur.com/owuku.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/owuku.png\" alt=\"example of a url in dropbox\"></a></p>\n\n<p>Using the <a href=\"https://www.dropbox.com/developers/documentation/http/documentation#files-download\" rel=\"nofollow noreferrer\">/2/files/download</a> HTTP API from dropbox will return an XHR response that looks something like this:\n<a href=\"https://i.stack.imgur.com/gCKOU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gCKOU.png\" alt=\"raw data returned from dropbox\"></a></p>\n\n<p>How do you parse this response so that you can grab only the URL and make that a clickable link? </p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular2-testing"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1482360697, "post_id": 41273244, "comment_id": 69747938, "body": "Altering passing tests and having them still pass isn&#39;t necessarily useful - what happens if you take a <i>failing</i> test using <code>async</code> and remove that call? Does it still fail?"}, {"owner": {"reputation": 251, "user_id": 2042765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T0EIJ.jpg?s=128&g=1", "display_name": "Johannes Hoppe", "link": "https://stackoverflow.com/users/2042765/johannes-hoppe"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1482361213, "post_id": 41273244, "comment_id": 69748145, "body": "first example is basically wrong, <code>expect(&quot;THIS TEST IS FALSE POSITIVE&quot;).toEqual(false);</code> should never be green. it would work, if the code would run async. but it does not (anymore)."}, {"owner": {"reputation": 1407, "user_id": 8210113, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/NXFR5.jpg?s=128&g=1", "display_name": "Phil Huhn", "link": "https://stackoverflow.com/users/8210113/phil-huhn"}, "edited": false, "score": 0, "creation_date": 1498828211, "post_id": 41273244, "comment_id": 76681434, "body": "I propose that the <b><i>mockResponse</i></b> is synchronous, but <b><i>MockConnection</i></b> does not seem to be synchronous. I added a second test to each test (reducing it to 2 videos, and the synchronous one failed and the async passed."}], "answers": [{"tags": [], "owner": {"reputation": 8363, "user_id": 1531806, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/FkpTG.jpg?s=128&g=1", "display_name": "Pascal Precht", "link": "https://stackoverflow.com/users/1531806/pascal-precht"}, "is_accepted": true, "score": 5, "last_activity_date": 1482420385, "creation_date": 1482420385, "answer_id": 41286502, "question_id": 41273244, "link": "https://stackoverflow.com/questions/41273244/angular-testing-http-with-mockbackend-is-async-really-required/41286502#41286502", "title": "Angular: Testing HTTP with MockBackend, is async() really required?", "body": "<p>you're completely right with your assumption, that <code>MockConnection.mockRespond()</code> emits synchronous. <code>async()</code> is not needed in this particular test.</p>\n\n<p>I'm the author of the article you've referred to in your question and I've updated it accordingly.</p>\n\n<p>Thank you so much for pointing this out!</p>\n"}], "owner": {"reputation": 251, "user_id": 2042765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T0EIJ.jpg?s=128&g=1", "display_name": "Johannes Hoppe", "link": "https://stackoverflow.com/users/2042765/johannes-hoppe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 856, "favorite_count": 0, "accepted_answer_id": 41286502, "answer_count": 1, "score": 5, "last_activity_date": 1504003205, "creation_date": 1482360613, "last_edit_date": 1504003205, "question_id": 41273244, "link": "https://stackoverflow.com/questions/41273244/angular-testing-http-with-mockbackend-is-async-really-required", "title": "Angular: Testing HTTP with MockBackend, is async() really required?", "body": "<p>I'm using <code>MockBackend</code> to test code that depends in <code>@angular/http</code>.<br>\nAll the examples around the web use an asynchronous test setup, like here:<br>\n<a href=\"http://blog.thoughtram.io/angular/2016/11/28/testing-services-with-http-in-angular-2.html#making-the-test-asynchronous\" rel=\"nofollow noreferrer\">thoughtram: Testing Services with Http in Angular</a></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>describe('getVideos()', () =&gt; {\n\n  it('should return an Observable&lt;Array&lt;Video&gt;&gt;',\n      async(inject([VideoService, MockBackend], (videoService, mockBackend) =&gt; {\n\n      videoService.getVideos().subscribe((videos) =&gt; {\n        expect(videos.length).toBe(4);\n        expect(videos[0].name).toEqual('Video 0');\n        expect(videos[1].name).toEqual('Video 1');\n        expect(videos[2].name).toEqual('Video 2');\n        expect(videos[3].name).toEqual('Video 3');\n\n        expect(\"THIS TEST IS FALSE POSITIVE\").toEqual(false); \n      });\n\n      const mockResponse = {\n        data: [\n          { id: 0, name: 'Video 0' },\n          { id: 1, name: 'Video 1' },\n          { id: 2, name: 'Video 2' },\n          { id: 3, name: 'Video 3' }\n        ]\n      };\n\n      mockBackend.connections.subscribe((connection) =&gt; {\n        connection.mockRespond(new Response(new ResponseOptions({\n          body: JSON.stringify(mockResponse)\n        })));\n      });\n  })));\n});\n</code></pre>\n\n<p>However, I tried that out and I\u2019m pretty sure that MockBackend executes completely synchronous:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>describe('getVideos()', () =&gt; {\n\n  it('should return an Observable&lt;Array&lt;Video&gt;&gt;',\n    inject([VideoService, MockBackend], (videoService, mockBackend) =&gt; {\n\n      const mockResponse = {\n        data: [\n          { id: 0, name: 'Video 0' },\n          { id: 1, name: 'Video 1' },\n          { id: 2, name: 'Video 2' },\n          { id: 3, name: 'Video 3' },\n        ]\n      };\n\n      mockBackend.connections.subscribe((connection) =&gt; {\n        connection.mockRespond(new Response(new ResponseOptions({\n          body: JSON.stringify(mockResponse)\n        })));\n      });\n\n      let videos;\n      videoService.getVideos().subscribe(v =&gt; videos = v);\n\n      // synchronous code!?\n      expect(videos.length).toBe(4);\n      expect(videos[0].name).toEqual('Video 0');\n      expect(videos[1].name).toEqual('Video 1');\n      expect(videos[2].name).toEqual('Video 2');\n      expect(videos[3].name).toEqual('Video 3');\n    }));\n});\n</code></pre>\n\n<p>I created a full example on plunker here:\n<a href=\"https://plnkr.co/edit/I3N9zL?p=preview\" rel=\"nofollow noreferrer\">https://plnkr.co/edit/I3N9zL?p=preview</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/4leLL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4leLL.png\" alt=\"enter image description here\"></a></p>\n\n<p>Something must have been changed since those articles were written.\nCan somebody point me to that breaking change? Or did I missed an important fact?</p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1482360155, "post_id": 41273123, "comment_id": 69747743, "body": "Where do you set <code>brick</code>, <code>wood</code>, and <code>stone</code>? Did you mean for those to be literal strings? Then you need to quote them."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482360341, "post_id": 41273123, "comment_id": 69747821, "body": "Check your Javascript console for error messages."}, {"owner": {"reputation": 3620, "user_id": 3407923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bkwg8.png?s=128&g=1", "display_name": "myfunkyside", "link": "https://stackoverflow.com/users/3407923/myfunkyside"}, "edited": false, "score": 0, "creation_date": 1482360868, "post_id": 41273123, "comment_id": 69748016, "body": "<code>if (user == brick) {</code> is not equal to <code>onClick=&quot;choose(&#39;Bricks&#39;)</code>. Change <code>brick</code> to <code>&#39;brick&#39;</code> (add quotes) in the if-clause, and change <code>&#39;Bricks&#39;</code> also to <code>&#39;brick&#39;</code> (loose capital &#39;B&#39; and &#39;s&#39;) in the onclick. Same for <code>stone</code> and <code>wood</code>."}], "answers": [{"tags": [], "owner": {"reputation": 202, "user_id": 5838521, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Orw4v.jpg?s=128&g=1", "display_name": "Steve B", "link": "https://stackoverflow.com/users/5838521/steve-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1482369375, "last_edit_date": 1482369375, "creation_date": 1482360745, "answer_id": 41273272, "question_id": 41273123, "link": "https://stackoverflow.com/questions/41273123/change-variable-value-with-radio-buttons/41273272#41273272", "title": "Change Variable Value with Radio Buttons", "body": "<p>To answer your part about LocalStorage, just set/get your variables like a regular Javascript object. More info: <a href=\"http://mrkdown.io/t32iomd\" rel=\"nofollow noreferrer\">mrkdown.io/t32iomd</a></p>\n"}, {"comments": [{"owner": {"reputation": 303, "user_id": 7299792, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-7L2dg2f6-AY/AAAAAAAAAAI/AAAAAAAAAFY/cUCNqBYU4KQ/photo.jpg?sz=128", "display_name": "Nathan Chan", "link": "https://stackoverflow.com/users/7299792/nathan-chan"}, "edited": false, "score": 0, "creation_date": 1482362609, "post_id": 41273401, "comment_id": 69748592, "body": "Do I have to set the localstorage variable at the end when the user presses the button and goes to the next page?"}, {"owner": {"reputation": 828, "user_id": 6053879, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SaQTM.jpg?s=128&g=1", "display_name": "B. Assem", "link": "https://stackoverflow.com/users/6053879/b-assem"}, "reply_to_user": {"reputation": 303, "user_id": 7299792, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-7L2dg2f6-AY/AAAAAAAAAAI/AAAAAAAAAFY/cUCNqBYU4KQ/photo.jpg?sz=128", "display_name": "Nathan Chan", "link": "https://stackoverflow.com/users/7299792/nathan-chan"}, "edited": false, "score": 0, "creation_date": 1482362819, "post_id": 41273401, "comment_id": 69748660, "body": "@NathanChan keeping the line <code>localStorage.setItem(&quot;chanceoflive&quot;, chanceoflive)</code> at the end of the <b>changechanceoflive</b> is just fine, you can see that it is setted properly with the alert in the <b>test</b> function."}, {"owner": {"reputation": 828, "user_id": 6053879, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SaQTM.jpg?s=128&g=1", "display_name": "B. Assem", "link": "https://stackoverflow.com/users/6053879/b-assem"}, "reply_to_user": {"reputation": 303, "user_id": 7299792, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-7L2dg2f6-AY/AAAAAAAAAAI/AAAAAAAAAFY/cUCNqBYU4KQ/photo.jpg?sz=128", "display_name": "Nathan Chan", "link": "https://stackoverflow.com/users/7299792/nathan-chan"}, "edited": false, "score": 0, "creation_date": 1482362934, "post_id": 41273401, "comment_id": 69748698, "body": "You are Welcome :)"}], "tags": [], "owner": {"reputation": 828, "user_id": 6053879, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SaQTM.jpg?s=128&g=1", "display_name": "B. Assem", "link": "https://stackoverflow.com/users/6053879/b-assem"}, "is_accepted": true, "score": 2, "last_activity_date": 1482361429, "creation_date": 1482361429, "answer_id": 41273401, "question_id": 41273123, "link": "https://stackoverflow.com/questions/41273123/change-variable-value-with-radio-buttons/41273401#41273401", "title": "Change Variable Value with Radio Buttons", "body": "<p>I fixed your code:</p>\n\n<pre><code>&lt;ul&gt;\n&lt;li&gt;\n  &lt;input type=\"radio\" id=\"brick-option\" name=\"material\" value=\"1\" onClick=\"choose('bricks')\"&gt;\n  &lt;label for=\"brick-option\"&gt;Bricks&lt;/label&gt;\n\n  &lt;div class=\"check\"&gt;&lt;/div&gt;\n&lt;/li&gt;\n\n&lt;li&gt;\n  &lt;input type=\"radio\" id=\"wood-option\" name=\"material\" value=\"3\" onClick=\"choose('wood')\"&gt;\n  &lt;label for=\"wood-option\"&gt;Wood&lt;/label&gt;\n\n  &lt;div class=\"check\"&gt;\n    &lt;div class=\"inside\"&gt;&lt;/div&gt;\n  &lt;/div&gt;\n&lt;/li&gt;\n\n&lt;li&gt;\n  &lt;input type=\"radio\" id=\"stone-option\" name=\"material\" value=\"2\" onClick=\"choose('stone')\"&gt;\n  &lt;label for=\"stone-option\"&gt;Stone&lt;/label&gt;\n\n  &lt;div class=\"check\"&gt;\n    &lt;div class=\"inside\"&gt;&lt;/div&gt;\n  &lt;/div&gt;\n&lt;/li&gt;\n</code></pre>\n\n<p></p>\n\n<p>JS</p>\n\n<pre><code>var chanceoflive = 0;\nvar user;\nfunction choose(choice){\n    user = choice;\n}\n\nfunction changechanceoflive(){\n    if (user == 'bricks') {\n        chanceoflive += 1;\n    }\n    else if (user == 'wood') {\n        chanceoflive +=3\n    }\n    else if (user == 'stone') {\n        chanceoflive += 2\n    }\n    localStorage.setItem(\"chanceoflive\", chanceoflive);\n}\n\nfunction test(click){\n    alert(chanceoflive);\n    alert(localStorage.chanceoflive);\n}\n</code></pre>\n\n<p>But with your code, if the user reload the page and then didn't select any radio, the localStorage variable will be reset to 0 because your have </p>\n\n<blockquote>\n  <p>var chanceoflive = 0;</p>\n</blockquote>\n\n<p>If you want to keep the last saved value, you must replace that line by:</p>\n\n<blockquote>\n  <p>var chanceoflive = localStorage.chanceoflive;</p>\n</blockquote>\n"}], "owner": {"reputation": 303, "user_id": 7299792, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-7L2dg2f6-AY/AAAAAAAAAAI/AAAAAAAAAFY/cUCNqBYU4KQ/photo.jpg?sz=128", "display_name": "Nathan Chan", "link": "https://stackoverflow.com/users/7299792/nathan-chan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2021, "favorite_count": 0, "accepted_answer_id": 41273401, "answer_count": 2, "score": 1, "last_activity_date": 1482369375, "creation_date": 1482360021, "last_edit_date": 1482360104, "question_id": 41273123, "link": "https://stackoverflow.com/questions/41273123/change-variable-value-with-radio-buttons", "title": "Change Variable Value with Radio Buttons", "body": "<p>I want a variable (chanceoflive) to be <strong>stored with localStorage</strong>. Then, I have radio buttons. I want it so that depending on which radio button is selected, the variable chanceoflive will be changed. This is what I have:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var chanceoflive = 0;\r\nvar user;\r\nfunction choose(choice){\r\n    user = choice;\r\n}\r\n\r\nfunction changechanceoflive(){\r\n    if (user == brick) {\r\n        chanceoflive += 1;\r\n    }\r\n    else if (user == wood) {\r\n        chanceoflive +=3\r\n    }\r\n    else if (user == stone) {\r\n        chanceoflive +=2\r\n    }\r\n    localStorage.setItem(\"chanceoflive\", chanceoflive);\r\n}\r\n\r\nfunction test(click){\r\n    alert(chanceoflive);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"radiobuttons\" class=\"container\" name=\"buttons\" align=center&gt;\r\n\r\n  &lt;h2&gt;I Want my Building to be Made of:&lt;/h2&gt;\r\n\r\n  &lt;ul&gt;\r\n    &lt;li&gt;\r\n      &lt;input type=\"radio\" id=\"brick-option\" name=\"material\" value=\"1\" onClick=\"choose('Bricks')\"&gt;\r\n      &lt;label for=\"brick-option\"&gt;Bricks&lt;/label&gt;\r\n\r\n      &lt;div class=\"check\"&gt;&lt;/div&gt;\r\n    &lt;/li&gt;\r\n\r\n    &lt;li&gt;\r\n      &lt;input type=\"radio\" id=\"wood-option\" name=\"material\" value=\"3\" onClick=\"choose('Wood')\"&gt;\r\n      &lt;label for=\"wood-option\"&gt;Wood&lt;/label&gt;\r\n\r\n      &lt;div class=\"check\"&gt;\r\n        &lt;div class=\"inside\"&gt;&lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/li&gt;\r\n\r\n    &lt;li&gt;\r\n      &lt;input type=\"radio\" id=\"stone-option\" name=\"material\" value=\"2\" onClick=\"choose('Stone')\"&gt;\r\n      &lt;label for=\"stone-option\"&gt;Stone&lt;/label&gt;\r\n\r\n      &lt;div class=\"check\"&gt;\r\n        &lt;div class=\"inside\"&gt;&lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/li&gt;\r\n  &lt;/ul&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;form action=\"chooseheight.html\"&gt;\r\n  &lt;div class=\"wrapper\"&gt;\r\n    &lt;button class=\"button\" onClick=\"test();changechanceoflive()\" align=center&gt;Submit&lt;/button&gt;\r\n  &lt;/div&gt;\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Although, it always just alerts 0. Is it a problem with localStorage or something else?</p>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 5715217, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-j18aX_t0sY8/AAAAAAAAAAI/AAAAAAAAAI0/TQwDSwk5ND0/photo.jpg?sz=128", "display_name": "doulmi", "link": "https://stackoverflow.com/users/5715217/doulmi"}, "edited": false, "score": 0, "creation_date": 1482446324, "post_id": 41273189, "comment_id": 69788128, "body": "It works, thanks so much! This problem made me crazy in these days."}], "tags": [], "owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "is_accepted": true, "score": 0, "last_activity_date": 1482360345, "creation_date": 1482360345, "answer_id": 41273189, "question_id": 41273120, "link": "https://stackoverflow.com/questions/41273120/in-react-component-how-to-make-span-in-a-clickabel-and-call-the-function-of-t/41273189#41273189", "title": "In React component, how to make &lt;span&gt; in a clickabel and call the function of this react component?", "body": "<p>You should use <strong>event delegation</strong>. Bind the event handler to the container where you render the markdown into and then check whether the event originates on a <code>&lt;span&gt;</code> element. E.g.</p>\n\n<pre><code>function handler(event) {\n  if (event.target.tagName === 'SPAN') {\n    console.log(event);\n  }\n}\n\nfunction MyComp({html}) {\n  return &lt;div onClick={handler} dangerouslySetInnerHTML={{ __html: html }} /&gt;\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5715217, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-j18aX_t0sY8/AAAAAAAAAAI/AAAAAAAAAI0/TQwDSwk5ND0/photo.jpg?sz=128", "display_name": "doulmi", "link": "https://stackoverflow.com/users/5715217/doulmi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 362, "favorite_count": 0, "accepted_answer_id": 41273189, "answer_count": 1, "score": 1, "last_activity_date": 1482360364, "creation_date": 1482360006, "last_edit_date": 1482360364, "question_id": 41273120, "link": "https://stackoverflow.com/questions/41273120/in-react-component-how-to-make-span-in-a-clickabel-and-call-the-function-of-t", "title": "In React component, how to make &lt;span&gt; in a clickabel and call the function of this react component?", "body": "<p>In a react component MyComp, \nI have a parsed markdown text, I want to make all span in this text clickable and call a function of MyComp.</p>\n\n<p>I use this sentence to achieve it, but it can only call a global javascript function.\n<code>\nlet clickableSub = sub.replace(/&lt;span&gt;/g, '&lt;span onclick=\"showDict(this)\"&gt;')\n</code></p>\n"}, {"tags": ["javascript", "ios", "ipad", "safari"], "comments": [{"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1482360280, "post_id": 41273115, "comment_id": 69747797, "body": "Replace <code>window.location.href</code> with just <code>window.location</code>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1482360505, "post_id": 41273115, "comment_id": 69747883, "body": "@ScottMarcus When you convert <code>window.location</code> to a string, it&#39;s the same as <code>window.location.href</code>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482360611, "post_id": 41273115, "comment_id": 69747918, "body": "If <code>url</code> contains <code>&quot;21&quot;</code>, then <code>url.indexOf(&quot;playground&quot;) == -1</code>, so it shouldn&#39;t run the code."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1482360677, "post_id": 41273115, "comment_id": 69747932, "body": "Did you mean to say that <code>indexOf()</code> returns 21?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482360751, "post_id": 41273115, "comment_id": 69747956, "body": "It&#39;s very unlikely that <code>if</code> doesn&#39;t work, that would break nearly every Javascript site. My guess is you&#39;re getting an error when it tries to call <code>toggleDisplay()</code>. Are there any errors in the console?"}, {"owner": {"reputation": 198, "user_id": 4507851, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b5372d3073e09b6b6918c3ff0629fef9?s=128&d=identicon&r=PG&f=1", "display_name": "Rumple", "link": "https://stackoverflow.com/users/4507851/rumple"}, "edited": false, "score": 0, "creation_date": 1482360889, "post_id": 41273115, "comment_id": 69748025, "body": "I did mean to say that indexOf is returning 21, not the variable itself. I am not able to check the console since it is on an iPad."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482362076, "post_id": 41273115, "comment_id": 69748444, "body": "<a href=\"http://osxdaily.com/2012/05/07/enable-safari-debug-console-ios/\" rel=\"nofollow noreferrer\">How to enable Safari console in iOS</a>"}], "owner": {"reputation": 198, "user_id": 4507851, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b5372d3073e09b6b6918c3ff0629fef9?s=128&d=identicon&r=PG&f=1", "display_name": "Rumple", "link": "https://stackoverflow.com/users/4507851/rumple"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1482362031, "creation_date": 1482359995, "last_edit_date": 1482362031, "question_id": 41273115, "link": "https://stackoverflow.com/questions/41273115/if-statement-not-working-for-safari-on-ipad", "title": "If statement not working for Safari on iPad", "body": "<p>Here is the code, which is working fine on desktop browsers, but for some reason is breaking when I use it on Safari on my iPad.</p>\n\n<pre><code>var url = window.location.href;\nif(url.indexOf(\"playground\") != -1)\n{\n    toggleDisplay(0);\n    alert(\"pgroud\");\n}\n</code></pre>\n\n<p>The <code>url.indexOf(\"playground\")</code> is returning <code>21</code>, I checked on iPad, so the code should be working, but the function and the alert are not being called.</p>\n"}, {"tags": ["javascript", "rxjs", "observable", "rxjs5", "subject-observer"], "answers": [{"comments": [{"owner": {"reputation": 369, "user_id": 1678348, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/78e83bec232163e52b34d0645fdb1ea7?s=128&d=identicon&r=PG", "display_name": "Adam Arthur", "link": "https://stackoverflow.com/users/1678348/adam-arthur"}, "edited": false, "score": 0, "creation_date": 1482370907, "post_id": 41273724, "comment_id": 69750642, "body": "Appreciate the answer! Unfortunately I&#39;m not working in a Typescript environment. Is there a valid, non-hacky use case for accessing the source from the consumer of an observable? That should be an explicit opt in.  It&#39;s totally possible to encapsulate state in JS, so I don&#39;t buy that the source has to be exposed, or at least that the default mechanism for exposing observables to consumers should expose it."}, {"owner": {"reputation": 15213, "user_id": 1518765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YUfY8.jpg?s=128&g=1", "display_name": "olsn", "link": "https://stackoverflow.com/users/1518765/olsn"}, "reply_to_user": {"reputation": 369, "user_id": 1678348, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/78e83bec232163e52b34d0645fdb1ea7?s=128&d=identicon&r=PG", "display_name": "Adam Arthur", "link": "https://stackoverflow.com/users/1678348/adam-arthur"}, "edited": false, "score": 0, "creation_date": 1482389161, "post_id": 41273724, "comment_id": 69755900, "body": "That is absolutely correct that there are valid ways in JS to do that - i your best bet would be to open a github issue. From what I know is that rxjs5 was built with TS in mind, but this gets opinionated very quickly, which this is the wrong place for."}], "tags": [], "owner": {"reputation": 15213, "user_id": 1518765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YUfY8.jpg?s=128&g=1", "display_name": "olsn", "link": "https://stackoverflow.com/users/1518765/olsn"}, "is_accepted": true, "score": 1, "last_activity_date": 1482363767, "creation_date": 1482363767, "answer_id": 41273724, "question_id": 41273093, "link": "https://stackoverflow.com/questions/41273093/how-to-create-observable-from-subject-without-exposing-the-subject-to-consumers/41273724#41273724", "title": "How to create Observable from Subject without exposing the Subject to consumers in RxJs v5", "body": "<p>The only way, that I know of, to <strong>truly</strong> encapsulate this would be to subscribe to the subject inside your function and and have another (either subject or custom obervable) returned that emits those value(s).</p>\n\n<p>But any operator (even the creation-operators like <code>Observable.combineLatest(subject)</code>) has <em>some</em> way to access the source.</p>\n\n<p>Another way to \"solve\" this would be to use Typescript, because the TS-compiler would tell you, that you cannot access a protected property <code>source</code> on <code>Observable</code>, since it is not a public attribute: <a href=\"https://github.com/ReactiveX/rxjs/blob/master/src/Observable.ts#L30\" rel=\"nofollow noreferrer\">https://github.com/ReactiveX/rxjs/blob/master/src/Observable.ts#L30</a> - of course in ES5 there is no such thing as \"protected\" and therefor it will be still accessible through the console e.g.</p>\n"}], "owner": {"reputation": 369, "user_id": 1678348, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/78e83bec232163e52b34d0645fdb1ea7?s=128&d=identicon&r=PG", "display_name": "Adam Arthur", "link": "https://stackoverflow.com/users/1678348/adam-arthur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1290, "favorite_count": 0, "accepted_answer_id": 41273724, "answer_count": 1, "score": 3, "last_activity_date": 1482369853, "creation_date": 1482359849, "last_edit_date": 1482369853, "question_id": 41273093, "link": "https://stackoverflow.com/questions/41273093/how-to-create-observable-from-subject-without-exposing-the-subject-to-consumers", "title": "How to create Observable from Subject without exposing the Subject to consumers in RxJs v5", "body": "<p>I'm trying to return an observable from a function that uses Rx.Subject internally. Of course, as with any good API, the implementation details should be entirely abstracted from the consumer. However, using Subject.asObservable() it appears possible for any consumer to issue new values to all observers. </p>\n\n<p>Example:</p>\n\n<pre><code>const subject = new Rx.Subject();\nconst observable = subject.asObservable();\n\nobservable.source === subject; // true\n\nobservable.forEach(value =&gt; console.log(value));\nobservable.source.next('Hello'); \n// Causes the forEach above to print \"Hello\"\n</code></pre>\n\n<p>So my question is, is there a <em>built-in</em> way to expose an Observable to consumers without giving them access to the original subject? If not this is clearly bad design on RxJs' part.</p>\n\n<p>NOTE: This is for RxJS v5</p>\n"}, {"tags": ["javascript", "selenium", "selenium-webdriver", "protractor", "cucumber"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 5286111, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206874334153251/picture?type=large", "display_name": "paolinni", "link": "https://stackoverflow.com/users/5286111/paolinni"}, "edited": false, "score": 0, "creation_date": 1482362402, "post_id": 41273309, "comment_id": 69748533, "body": "Yes, that seems to the most feasible route for what I&#39;m trying to accomplish. I&#39;ll see if I can work it inside the step."}], "tags": [], "owner": {"reputation": 983, "user_id": 6744397, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-T_RLenB3xeA/AAAAAAAAAAI/AAAAAAAAAoQ/3Bq9Qa_5yNQ/photo.jpg?sz=128", "display_name": "Anish Pillai", "link": "https://stackoverflow.com/users/6744397/anish-pillai"}, "is_accepted": false, "score": 1, "last_activity_date": 1482360969, "creation_date": 1482360969, "answer_id": 41273309, "question_id": 41273085, "link": "https://stackoverflow.com/questions/41273085/is-it-possible-to-run-cucumber-steps-conditionally-in-the-same-scenario/41273309#41273309", "title": "Is it possible to run cucumber steps conditionally in the same scenario?", "body": "<p>There's one more approach you can try for this case - </p>\n\n<p>Keep a single step in Cucumber like this: </p>\n\n<pre><code>When user clicks logout link\nThen user will be logged out\n</code></pre>\n\n<p>Within the code for this step, add an if condition where you can call either mobile or desktop related function based on the flag you pass from config file?</p>\n"}, {"tags": [], "owner": {"reputation": 8275, "user_id": 4512398, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yjm4v.jpg?s=128&g=1", "display_name": "Grasshopper", "link": "https://stackoverflow.com/users/4512398/grasshopper"}, "is_accepted": true, "score": 0, "last_activity_date": 1482392359, "creation_date": 1482392359, "answer_id": 41278019, "question_id": 41273085, "link": "https://stackoverflow.com/questions/41273085/is-it-possible-to-run-cucumber-steps-conditionally-in-the-same-scenario/41278019#41278019", "title": "Is it possible to run cucumber steps conditionally in the same scenario?", "body": "<p>Use a <code>Scenario Outline</code> and put in two <code>Examples</code> tables and tag them. Use the tag you want in the filter to run your test. The tag you put in will be run other will be ignored.</p>\n\n<pre><code>Scenario Outline: Steps will run conditionally if tagged\n  Given user is logged in\n  When user clicks &lt;link&gt;\n  Then user will be logged out\n\n@mobile\nExamples: \n| link |\n| logout link on mobile |\n\n@desktop\nExamples:\n| link |\n| logout link on desktop |\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 5286111, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206874334153251/picture?type=large", "display_name": "paolinni", "link": "https://stackoverflow.com/users/5286111/paolinni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1191, "favorite_count": 1, "accepted_answer_id": 41278019, "answer_count": 2, "score": 1, "last_activity_date": 1482392359, "creation_date": 1482359811, "question_id": 41273085, "link": "https://stackoverflow.com/questions/41273085/is-it-possible-to-run-cucumber-steps-conditionally-in-the-same-scenario", "title": "Is it possible to run cucumber steps conditionally in the same scenario?", "body": "<p>So basically I want to be able to use the same feature file and run two separate tests, one tagged with @mobile and the other with @desktop. This way I don't have to duplicate another feature file for just a single step.</p>\n\n<p>So something like this:</p>\n\n<pre><code>Scenario: Steps will run conditionally if tagged\n  Given user is logged in\n  @mobile\n  When user clicks \"logout link on mobile\"\n  @desktop\n  When user clicks \"logout link on desktop\"\n  Then user will be logged out\n</code></pre>\n\n<p>When I run the mobile test (I will have @~desktop in the config file), I want it to ignore the @desktop step and vice versa.</p>\n"}, {"tags": ["javascript", "angularjs", "promise"], "comments": [{"owner": {"reputation": 2489, "user_id": 2652883, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ee801449f10d68835921e687e60e1c1?s=128&d=identicon&r=PG&f=1", "display_name": "Muli Yulzary", "link": "https://stackoverflow.com/users/2652883/muli-yulzary"}, "edited": false, "score": 0, "creation_date": 1482359592, "post_id": 41272992, "comment_id": 69747526, "body": "Why sequentially? are they depending on each other?"}, {"owner": {"reputation": 1070, "user_id": 4279257, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9e35a1def43b0730198d92fc8653c3ee?s=128&d=identicon&r=PG&f=1", "display_name": "Koushik Ravulapelli", "link": "https://stackoverflow.com/users/4279257/koushik-ravulapelli"}, "reply_to_user": {"reputation": 2489, "user_id": 2652883, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ee801449f10d68835921e687e60e1c1?s=128&d=identicon&r=PG&f=1", "display_name": "Muli Yulzary", "link": "https://stackoverflow.com/users/2652883/muli-yulzary"}, "edited": false, "score": 0, "creation_date": 1482359796, "post_id": 41272992, "comment_id": 69747612, "body": "Yes these are dependent on each other"}, {"owner": {"reputation": 2489, "user_id": 2652883, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ee801449f10d68835921e687e60e1c1?s=128&d=identicon&r=PG&f=1", "display_name": "Muli Yulzary", "link": "https://stackoverflow.com/users/2652883/muli-yulzary"}, "edited": false, "score": 1, "creation_date": 1482360033, "post_id": 41272992, "comment_id": 69747690, "body": "<code>$q.all([...])</code> fails if either one fails however they run in parallel. In order to run sequentially you must chain them via <code>.then()</code>."}], "answers": [{"comments": [{"owner": {"reputation": 183, "user_id": 4907078, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/M9vNX.jpg?s=128&g=1", "display_name": "chester", "link": "https://stackoverflow.com/users/4907078/chester"}, "edited": false, "score": 0, "creation_date": 1482360575, "post_id": 41273203, "comment_id": 69747906, "body": "won&#39;t that <code>doSomething()</code> on the chain of promises, as your are building it?"}, {"owner": {"reputation": 2489, "user_id": 2652883, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ee801449f10d68835921e687e60e1c1?s=128&d=identicon&r=PG&f=1", "display_name": "Muli Yulzary", "link": "https://stackoverflow.com/users/2652883/muli-yulzary"}, "reply_to_user": {"reputation": 183, "user_id": 4907078, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/M9vNX.jpg?s=128&g=1", "display_name": "chester", "link": "https://stackoverflow.com/users/4907078/chester"}, "edited": false, "score": 0, "creation_date": 1482360897, "post_id": 41273203, "comment_id": 69748031, "body": "The first one does. the others one only happens when the callback gets called IE - the previous promise has finished."}, {"owner": {"reputation": 183, "user_id": 4907078, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/M9vNX.jpg?s=128&g=1", "display_name": "chester", "link": "https://stackoverflow.com/users/4907078/chester"}, "edited": false, "score": 2, "creation_date": 1482361891, "post_id": 41273203, "comment_id": 69748390, "body": "Maybe I&#39;m missing something, but during the first loop in <code>reduce</code>, isn&#39;t <code>a</code> a resolved promise? Doesn&#39;t <code>reduce</code> need to return <code>a.then(function(){ return doSomething(b) });</code> ?"}], "tags": [], "owner": {"reputation": 2489, "user_id": 2652883, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ee801449f10d68835921e687e60e1c1?s=128&d=identicon&r=PG&f=1", "display_name": "Muli Yulzary", "link": "https://stackoverflow.com/users/2652883/muli-yulzary"}, "is_accepted": true, "score": 2, "last_activity_date": 1482365345, "last_edit_date": 1482365345, "creation_date": 1482360416, "answer_id": 41273203, "question_id": 41272992, "link": "https://stackoverflow.com/questions/41272992/angularjs-chain-promises-sequentially-within-for-loop/41273203#41273203", "title": "AngularJS chain promises sequentially within for loop", "body": "<p>Here's what I came up with. You'll need to reduce the array into a single promise.</p>\n\n<pre><code>var results = [...];\nvar sequentialPromise = results.reduce(function(a, b) {\n  return a.then(function(){\n   return doSomething(b);\n  });\n}, $q.resolve());\n\nsequentialPromise.then(function(){...});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1070, "user_id": 4279257, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9e35a1def43b0730198d92fc8653c3ee?s=128&d=identicon&r=PG&f=1", "display_name": "Koushik Ravulapelli", "link": "https://stackoverflow.com/users/4279257/koushik-ravulapelli"}, "edited": false, "score": 0, "creation_date": 1482362847, "post_id": 41273333, "comment_id": 69748665, "body": "Does this work for the services? or does it work for both factory and services?"}, {"owner": {"reputation": 2489, "user_id": 2652883, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ee801449f10d68835921e687e60e1c1?s=128&d=identicon&r=PG&f=1", "display_name": "Muli Yulzary", "link": "https://stackoverflow.com/users/2652883/muli-yulzary"}, "edited": false, "score": 0, "creation_date": 1482365401, "post_id": 41273333, "comment_id": 69749312, "body": "This will work however you need to specify a callback function in the <code>.then()</code>"}, {"owner": {"reputation": 1070, "user_id": 4279257, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9e35a1def43b0730198d92fc8653c3ee?s=128&d=identicon&r=PG&f=1", "display_name": "Koushik Ravulapelli", "link": "https://stackoverflow.com/users/4279257/koushik-ravulapelli"}, "edited": false, "score": 0, "creation_date": 1482368686, "post_id": 41273333, "comment_id": 69750112, "body": "I&#39;m getting error near <code>var result=$q();</code> I have injected in my function like <code>ServiceB.inject=[&#39;$q&#39;]</code>."}, {"owner": {"reputation": 1070, "user_id": 4279257, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9e35a1def43b0730198d92fc8653c3ee?s=128&d=identicon&r=PG&f=1", "display_name": "Koushik Ravulapelli", "link": "https://stackoverflow.com/users/4279257/koushik-ravulapelli"}, "edited": false, "score": 0, "creation_date": 1482369646, "post_id": 41273333, "comment_id": 69750311, "body": "Error in the console: <code>TypeError: [$q:norslvr] Expected resolverFn, got &#39;undefined&#39;</code>"}, {"owner": {"reputation": 3253, "user_id": 599602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f7b588702af77398ca11f1af97a3e87?s=128&d=identicon&r=PG", "display_name": "Zaptree", "link": "https://stackoverflow.com/users/599602/zaptree"}, "edited": false, "score": 0, "creation_date": 1482416264, "post_id": 41273333, "comment_id": 69772090, "body": "hmm looks like $q requires a resolver which is pretty silly: <a href=\"https://docs.angularjs.org/error/$q/norslvr\" rel=\"nofollow noreferrer\">docs.angularjs.org/error/$q/norslvr</a> you can do $q.when() instead I believe."}], "tags": [], "owner": {"reputation": 3253, "user_id": 599602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f7b588702af77398ca11f1af97a3e87?s=128&d=identicon&r=PG", "display_name": "Zaptree", "link": "https://stackoverflow.com/users/599602/zaptree"}, "is_accepted": false, "score": 0, "last_activity_date": 1482416293, "last_edit_date": 1482416293, "creation_date": 1482361052, "answer_id": 41273333, "question_id": 41272992, "link": "https://stackoverflow.com/questions/41272992/angularjs-chain-promises-sequentially-within-for-loop/41273333#41273333", "title": "AngularJS chain promises sequentially within for loop", "body": "<p>So here is an example on how you would do the sequential promises with Q, also some improvements on how to do your promises so you can properly catch errors thrown at any point in your promise chain. You must always make sure to return a promise on any method that uses them. Also avoid pyramid code by not nesting the .then to make your code cleaner:</p>\n\n<pre><code>ServiceA.login()\n    .then(function(response){\n        // you must always return your promise\n        return ServiceA.sync()\n\n    })\n    // don't nest the .then make them flat like this\n    .then(function(response){\n\n    })\n    .catch(function(){\n        // if you made sure to always return your promises this catch will catch any errors throws in your promise chain including errors thrown by doSomething()\n    });\n\nfunction sync(){\n    // you must always return your promise\n    return ServiceB.complete()\n        .then(function(){\n\n            var result = $q.when();\n            angular.forEach(response, function (value) {\n                result = result.then(doSomething(value));\n            });\n            return result;\n        })\n        .then(function(){\n            // the array of promises has run sequentially and is completed\n        });\n\n}\n</code></pre>\n"}], "owner": {"reputation": 1070, "user_id": 4279257, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9e35a1def43b0730198d92fc8653c3ee?s=128&d=identicon&r=PG&f=1", "display_name": "Koushik Ravulapelli", "link": "https://stackoverflow.com/users/4279257/koushik-ravulapelli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2092, "favorite_count": 0, "accepted_answer_id": 41273203, "answer_count": 2, "score": 1, "last_activity_date": 1482508931, "creation_date": 1482359397, "last_edit_date": 1482508931, "question_id": 41272992, "link": "https://stackoverflow.com/questions/41272992/angularjs-chain-promises-sequentially-within-for-loop", "title": "AngularJS chain promises sequentially within for loop", "body": "<p>How do i chain promises sequentially within for loop, i have seen lot of examples on google to do this but i couldn't implement for my case:\ni have gone through this <a href=\"http://www.codeducky.org/q-serial/\" rel=\"nofollow noreferrer\">link</a> for sequential chaining of Promises. </p>\n\n<p>What I'm trying to acheive:<br>\nPromise1: login();<br>\nPromise2: sync();  </p>\n\n<p>sync function calls another service complete() for an array of elements. These array of elements must be done sequentially.   </p>\n\n<pre><code>ServiceA.login().  \n      then(function(response){\n                   ServiceA.sync()\n                        .then(function(response){\n\n                         })\n      })\n\nfunction sync(){\n     ServiceB.complete()\n                    .then(function(){\n                               var promises = [];\n                               angular.forEach(response, function (value) {\n                    // The below service call doSomething() must be done sequentially for each \"value\"\n                                  promises.push(doSomething(value));\n                               });\n                               $q.all(promises).then(function () {\n\n\n                                        });\n                                    });\n\n                      })\n}\n</code></pre>\n\n<p>How do I capture the error occuring in each Promise?  </p>\n\n<p><strong>Update:</strong><br>\nI have tried the approach suggested by @zaptree with the following code:  </p>\n\n<pre><code>ServiceA.login()\n.then(function(response){\n    // you must always return your promise\n    return ServiceA.sync()\n\n})\n// don't nest the .then make them flat like this\n.then(function(response){\n\n})\n.catch(function(){\n    // if you made sure to always return your promises this catch will catch any errors throws in your promise chain including errors thrown by doSomething()\n});\n\nfunction sync(){\n// you must always return your promise\nreturn ServiceB.complete()\n    .then(function(){\n\n        var result = $q.when();\n        angular.forEach(response, function (value) {\n            result = result.then(doSomething(value)); // problem is here that doSomething function is being called before the first call it is resolved\n// doSomething is a http call.\n        });\n        return result;\n    })\n    .then(function(){\n        // the array of promises has run sequentially and is completed\n    });\n</code></pre>\n\n<p>}</p>\n\n<pre><code> function doSomething(data){\n      return $http({\n            method: 'POST',\n            url: '/api/do',\n            data: data,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        }).then(function (response) {\n\n        }, function (error) {\n\n        });\n  }\n</code></pre>\n\n<p>If the response in the near the for each loop has 2 values (valuea, valueb) in it, the code is behaving as follows:<br>\n1. calling doSomething(valuea)<br>\n2. calling doSomething(valueb) before the above promise is resolved.<br>\nExpected behaviour:<br>\nafter the POST method has succesfully completed by the call doSOmething(valuea), then the another POST call should happend i.e., soSomething(valueb). </p>\n"}, {"tags": ["javascript", "node.js", "windows", "server", "path"], "answers": [{"comments": [{"owner": {"reputation": 699, "user_id": 7225171, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/OE57v.jpg?s=128&g=1", "display_name": "Serob_b", "link": "https://stackoverflow.com/users/7225171/serob-b"}, "edited": false, "score": 0, "creation_date": 1482364217, "post_id": 41273261, "comment_id": 69749022, "body": "Thanks for answer. win32 didn&#39;t help. Moreover - path uses win32 in my case, because there are such lines in path&#39;s source code:    <code>if (process.platform === &#39;win32&#39;)   module.exports = win32; else   module.exports = posix;</code>"}], "tags": [], "owner": {"reputation": 4266, "user_id": 1878958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/874d197c1351f287a94039c0576da350?s=128&d=identicon&r=PG&f=1", "display_name": "Santanu Biswas", "link": "https://stackoverflow.com/users/1878958/santanu-biswas"}, "is_accepted": false, "score": 1, "last_activity_date": 1482360695, "creation_date": 1482360695, "answer_id": 41273261, "question_id": 41272977, "link": "https://stackoverflow.com/questions/41272977/nodejs-path-resolve-doesnt-work-as-expected/41273261#41273261", "title": "NodeJS path.resolve doesn&#39;t work as expected", "body": "<p>Node.js <a href=\"https://nodejs.org/api/path.html#path_path_resolve_paths\" rel=\"nofollow noreferrer\">documentation</a> mentions:</p>\n\n<blockquote>\n  <p>If after processing all given path segments an absolute path has not\n  yet been generated, the current working directory is used.</p>\n</blockquote>\n\n<p>I am not sure but I think issue is because you are trying it on windows. You can try <a href=\"https://nodejs.org/api/path.html#path_path_win32\" rel=\"nofollow noreferrer\">path.win32</a></p>\n"}], "owner": {"reputation": 699, "user_id": 7225171, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/OE57v.jpg?s=128&g=1", "display_name": "Serob_b", "link": "https://stackoverflow.com/users/7225171/serob-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 275, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534203896, "creation_date": 1482359304, "last_edit_date": 1534203896, "question_id": 41272977, "link": "https://stackoverflow.com/questions/41272977/nodejs-path-resolve-doesnt-work-as-expected", "title": "NodeJS path.resolve doesn&#39;t work as expected", "body": "<p>When I call <code>path.resolve(\"D:\")</code>, it returns my Node.js project's root directory, which is <code>D:\\Docs\\NodeJS\\DBTest</code> in my case, and it seems <strong>strange</strong> to me. </p>\n\n<p>But <code>path.resolve(\"C:\")</code> returns <code>C:\\</code> as expected. <code>path.resolve(\"D:/other_folder\")</code>  also works normally.</p>\n\n<p>What can cause such a strange behavior?</p>\n"}, {"tags": ["javascript", "firebase", "firebase-realtime-database", "firebase-authentication", "firebase-security"], "comments": [{"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1482360084, "post_id": 41272968, "comment_id": 69747711, "body": "Anonymously authenticated users <i>are</i> authenticated users. If that&#39;s not working for you, please provide the <a href=\"http://stackoverflow.com/help/mcve\">minimal, complete code (rules + code as text) that reproduces the problem</a>."}, {"owner": {"reputation": 53, "user_id": 7326031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kzeRK.png?s=128&g=1", "display_name": "Ken", "link": "https://stackoverflow.com/users/7326031/ken"}, "reply_to_user": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1482360909, "post_id": 41272968, "comment_id": 69748033, "body": "That&#39;s hopeful, thanks Frank. Edited to show code."}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 7326031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kzeRK.png?s=128&g=1", "display_name": "Ken", "link": "https://stackoverflow.com/users/7326031/ken"}, "edited": false, "score": 0, "creation_date": 1482412088, "post_id": 41273612, "comment_id": 69769368, "body": "Didn&#39;t work as above due to my unholy mix of versions.  I still needed to change the <code>new Firebase</code> call to <code>firebase.database().ref()</code> . Thanks Frank!"}], "tags": [], "owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "is_accepted": true, "score": 2, "last_activity_date": 1482362912, "creation_date": 1482362912, "answer_id": 41273612, "question_id": 41272968, "link": "https://stackoverflow.com/questions/41272968/firebase-rule-for-user-signed-in-anonymously/41273612#41273612", "title": "Firebase rule for user signed in anonymously", "body": "<p>Your code is attaching a listener before the user is signed in. The Firebase Database server immediately checks the permission when the listener is first attached, so it immediately rejects the unauthorized listen.</p>\n\n<p>The solution is to wait until the user is authenticated before attaching the listener:</p>\n\n<pre><code>$(document).ready(function () {\n    var config = {\n        apiKey: \"&lt;my api key&gt;\",\n        authDomain: \"&lt;my firebase&gt;.firebaseapp.com\",\n        databaseURL: \"https://&lt;my firebase&gt;.firebaseio.com\",\n        storageBucket: \"&lt;my firebase&gt;.appspot.com\"\n    };\n    firebase.initializeApp(config);\n    firebase.auth().onAuthStateChanged(function (user) {\n        if (user) {\n            var ref = new Firebase(\"https://&lt;my firebase&gt;.firebaseio.com/offices/some_office\");\n            ref.on(\"value\", function (snapshot) {\n                var name = snapshot.child(\"title\").val();\n                console.log(snapshot.val());\n            }, function (errorObject) {\n                console.log(\"The read failed: \" + errorObject.code);\n            });\n        } else {\n            firebase.auth().signInAnonymously();\n        }\n    });\n});\n</code></pre>\n\n<p>By the way: I highly recommend that you also update your code for the Firebase Database to version 3.x.</p>\n"}], "owner": {"reputation": 53, "user_id": 7326031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kzeRK.png?s=128&g=1", "display_name": "Ken", "link": "https://stackoverflow.com/users/7326031/ken"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1501, "favorite_count": 0, "accepted_answer_id": 41273612, "answer_count": 1, "score": 3, "last_activity_date": 1482362924, "creation_date": 1482359263, "last_edit_date": 1482362924, "question_id": 41272968, "link": "https://stackoverflow.com/questions/41272968/firebase-rule-for-user-signed-in-anonymously", "title": "Firebase rule for user signed in anonymously", "body": "<p>My data on Firebase should only be readable in the context of my web page and not, for example, by opening a Firebase URL. </p>\n\n<p>For users that are not already registered, I use signInAnonymously() which gives them a user.uid but they still do not appear to be authenticated. Thus, the rule <code>\".read\": \"auth != null\"</code> results in PERMISSION_DENIED for these users, even though they have a user object.</p>\n\n<p>Here's my JavaScript:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>$(document).ready(function () {\n\n    var config = {\n        apiKey: \"&lt;my api key&gt;\",\n        authDomain: \"&lt;my firebase&gt;.firebaseapp.com\",\n        databaseURL: \"https://&lt;my firebase&gt;.firebaseio.com\",\n        storageBucket: \"&lt;my firebase&gt;.appspot.com\"\n    };\n    firebase.initializeApp(config);\n    firebase.auth().onAuthStateChanged(function (user) {\n        if (user) {} else {\n            firebase.auth().signInAnonymously();\n        }\n    });\n\n    var ref = new Firebase(\"https://&lt;my firebase&gt;.firebaseio.com/offices/some_office\");\n    ref.on(\"value\", function (snapshot) {\n\n        var name = snapshot.child(\"title\").val();\n        console.log(snapshot.val());\n\n\n    }, function (errorObject) {\n        console.log(\"The read failed: \" + errorObject.code);\n    });\n\n});\n</code></pre>\n\n<p>and the corresponding rule:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    \"offices\": {\n      \"$office_id\": {\n        \".read\": \"auth != null\",\n        \".write\": \"auth != null\"\n      }\n    },\n</code></pre>\n\n<p>It works when I change the read permission to true.</p>\n\n<p>What rule can I use to allow only signed in anonymous users (and registered logged-in users) to read my data?</p>\n"}, {"tags": ["javascript", "events"], "comments": [{"owner": {"reputation": 805, "user_id": 3113569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/828562349570aa477d3f1404cd4b5b98?s=128&d=identicon&r=PG&f=1", "display_name": "Pixxl", "link": "https://stackoverflow.com/users/3113569/pixxl"}, "edited": false, "score": 0, "creation_date": 1482359346, "post_id": 41272946, "comment_id": 69747410, "body": "Can I ask what the overall goal is here? This seems like a very weird interaction between the page and code."}, {"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 0, "creation_date": 1482359374, "post_id": 41272946, "comment_id": 69747423, "body": "I think this is actually a duplicate of a question I had asked before <a href=\"http://stackoverflow.com/questions/33045624/turning-off-specific-click-event\" title=\"turning off specific click event\">stackoverflow.com/questions/33045624/&hellip;</a>"}, {"owner": {"reputation": 7, "user_id": 7327837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb0feb0ffacc73780f24a37b26db057a?s=128&d=identicon&r=PG&f=1", "display_name": "Rey Garcia", "link": "https://stackoverflow.com/users/7327837/rey-garcia"}, "reply_to_user": {"reputation": 805, "user_id": 3113569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/828562349570aa477d3f1404cd4b5b98?s=128&d=identicon&r=PG&f=1", "display_name": "Pixxl", "link": "https://stackoverflow.com/users/3113569/pixxl"}, "edited": false, "score": 0, "creation_date": 1482360259, "post_id": 41272946, "comment_id": 69747788, "body": "@ManBearPixel the overall goal is to intercept an event I have no control of and introduce a required user input to proceed."}], "answers": [{"tags": [], "owner": {"reputation": 805, "user_id": 3113569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/828562349570aa477d3f1404cd4b5b98?s=128&d=identicon&r=PG&f=1", "display_name": "Pixxl", "link": "https://stackoverflow.com/users/3113569/pixxl"}, "is_accepted": true, "score": 0, "last_activity_date": 1482360867, "last_edit_date": 1495541785, "creation_date": 1482360867, "answer_id": 41273292, "question_id": 41272946, "link": "https://stackoverflow.com/questions/41272946/removing-javascript-events/41273292#41273292", "title": "Removing Javascript Events", "body": "<p>Building on top of a <a href=\"https://stackoverflow.com/questions/33045624/turning-off-specific-click-event\">previous SO answer</a> that discussed namespaces in JavaScript event setup and assuming you are using jQuery (as seen in your question) this code snippet should be useful for your situation. The first click on <code>.target</code> will stop default event propagations, run your code, and then remove the click event handler that was setup:</p>\n\n<pre><code>$('.target').on('click.stopDefault', function(event){ \n  event.preventDefault();\n  event.stopImmediatePropagation();  \n\n  console.log('Your code executed here...');\n\n  $('.target').off('click.stopDefault');\n\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 680, "user_id": 1072776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a4c2635e592e976f140716a03e7aa0b?s=128&d=identicon&r=PG", "display_name": "jubalm", "link": "https://stackoverflow.com/users/1072776/jubalm"}, "is_accepted": false, "score": 0, "last_activity_date": 1482366296, "creation_date": 1482366296, "answer_id": 41274046, "question_id": 41272946, "link": "https://stackoverflow.com/questions/41272946/removing-javascript-events/41274046#41274046", "title": "Removing Javascript Events", "body": "<p>You can always use a clone to do your stuff and leave the original button, as you didn't want to tamper with it anyways, hiding it until needed.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(function() {\r\n  var $original = $('#original');\r\n  var $dupe = $original.clone(false);\r\n  \r\n  // just something that'll hold a response\r\n  var $response = $('#response').find('span');\r\n  \r\n  // position the clone with the original\r\n  $original.after($dupe);\r\n  // hide the original button\r\n  $original.hide();\r\n  \r\n  // assign the clone something to do\r\n  $dupe.on('click', function(e) {\r\n    e.preventDefault();\r\n    // clone stuff here\r\n    $response.text('attack of the clone!');\r\n    // when clone finished doing its thing, \r\n    // simply hide it and show the original button\r\n    $dupe.hide();\r\n    $original.show();\r\n  });\r\n  \r\n  // nothing here, say the original got clicked...\r\n  $original.on('click', function(e) {\r\n    e.preventDefault();\r\n    $response.text('original clicked!');\r\n  });\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;a id=\"original\" href=\"#\"&gt;click me&lt;/a&gt;\r\n&lt;p id=\"response\"&gt;response: &lt;span&gt;&lt;/span&gt;\r\n&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 7, "user_id": 7327837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb0feb0ffacc73780f24a37b26db057a?s=128&d=identicon&r=PG&f=1", "display_name": "Rey Garcia", "link": "https://stackoverflow.com/users/7327837/rey-garcia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 41273292, "answer_count": 2, "score": 0, "last_activity_date": 1482366296, "creation_date": 1482359143, "question_id": 41272946, "link": "https://stackoverflow.com/questions/41272946/removing-javascript-events", "title": "Removing Javascript Events", "body": "<p>So I have a element that has an existing Click Event Handler and I am trying to </p>\n\n<ul>\n<li>Add <strong>second</strong> Click Event Handler(Item.executeSelectClick) that will prevent the <strong>first</strong> Click Handler</li>\n<li>Then if the user Clicks Proceed $('#out-of-policy').find('#c-modal-proceed').click</li>\n<li>Remove my second Click Event Handler(Item.executeSelectClick) and proceed with the original Event Handler. \n\n<ul>\n<li>button.removeEventListener('click', Item.executeSelectClick);</li>\n<li>setTimeout(function(){$(button).click()}, 3000);</li>\n</ul></li>\n</ul>\n\n<p>Please note I don't have a reference first Click Handler and I will not be able to get one.</p>\n\n<pre><code>Item.executeSelectClick = function(event){\n    var button = event.target;\n\n    $('#out-of-policy').find('#c-modal-proceed').click(function(){\n        $('#out-of-policy').css('display', 'none');\n        button.removeEventListener('click', Item.executeSelectClick);\n        setTimeout(function(){$(button).click()}, 3000);\n    });\n\n    $('#out-of-policy').show();\n\n    event.preventDefault();\n    event.stopImmediatePropagation();\n    return false;\n}\n</code></pre>\n\n<p>Currently what is happening is the <strong>second</strong> Event Handler is not being remove and when I click the button setTimeout(function(){$(button).click()}, 3000); the <strong>second</strong> Click Event Handler continues to intercept the request.</p>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "comments": [{"owner": {"reputation": 584, "user_id": 2696062, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/bhtR4.jpg?s=128&g=1", "display_name": "rawatdeepesh", "link": "https://stackoverflow.com/users/2696062/rawatdeepesh"}, "edited": false, "score": 1, "creation_date": 1482364881, "post_id": 41272920, "comment_id": 69749175, "body": "Please look into this fiddle if it works as per your requirement : <a href=\"https://jsfiddle.net/rawatdeepesh/gtbxpmej/5/\" rel=\"nofollow noreferrer\">jsfiddle.net/rawatdeepesh/gtbxpmej/5</a>"}], "answers": [{"tags": [], "owner": {"reputation": 850, "user_id": 7252531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Imb0t.png?s=128&g=1", "display_name": "gbeaven", "link": "https://stackoverflow.com/users/7252531/gbeaven"}, "is_accepted": true, "score": 3, "last_activity_date": 1482360569, "creation_date": 1482360569, "answer_id": 41273233, "question_id": 41272920, "link": "https://stackoverflow.com/questions/41272920/how-to-mouse-hover-this-button-to-open-a-menu-instead-of-clicking/41273233#41273233", "title": "How to mouse hover this button to open a menu instead of clicking", "body": "<p>You're looking for .hover()</p>\n\n<p>Leaving your .switcher class in your selector will give you some strange behavior because you would be firing your hover on the child a tag inside of your div. Removing that class fires your hover method on the parent div (your menu slider).</p>\n\n<p>Line 13 of your JavaScript like this would give the behavior described above:</p>\n\n<pre><code>$('#custumize-style .switcher').hover(function(e) {\n</code></pre>\n\n<p>Try something like this instead:</p>\n\n<pre><code>$('#custumize-style').hover(function(e) {\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 7183694, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/UFcvJ.jpg?s=128&g=1", "display_name": "Pedro", "link": "https://stackoverflow.com/users/7183694/pedro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 1, "accepted_answer_id": 41273233, "answer_count": 1, "score": 0, "last_activity_date": 1482360569, "creation_date": 1482359004, "question_id": 41272920, "link": "https://stackoverflow.com/questions/41272920/how-to-mouse-hover-this-button-to-open-a-menu-instead-of-clicking", "title": "How to mouse hover this button to open a menu instead of clicking", "body": "<p>I have this kinda animated button that opens a menu on click, \nIs it possible to mouse hover the button to open it, instead of clicking?</p>\n\n<p>I'm not sure if it's with css or javascript, but here's the <a href=\"https://jsfiddle.net/pedrovil/gtbxpmej/2/\" rel=\"nofollow noreferrer\">fiddle link</a> with the button i want to mouse hover.</p>\n\n<p>Thanks in advance!</p>\n\n<p><strong>Javascript</strong></p>\n\n<pre><code>    jQuery(document).ready(function($) {\n\n    var colors = '';\n    var server_url = ''; \n    var folder_url = 'colors/'; \n\n    // Style switcher\n    $(\".hide-color\").show(1000);\n    $('#custumize-style').animate({\n        left: '-134px'\n    });\n\n    $('#custumize-style .switcher').click(function(e) {\n        e.preventDefault();\n        var div = $('#custumize-style');\n        if (div.css('left') === '-134px') {\n            $('#custumize-style').animate({\n                left: '0px'\n            });\n\n            // open switcher and add class open\n            $(this).addClass('open');\n            $(this).removeClass('closed');\n\n        } else {\n            $('#custumize-style').animate({\n                left: '-134px'\n            });\n\n            // close switcher and add closed\n            $(this).addClass('closed');\n            $(this).removeClass('open');\n        }\n    })\n});\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "xmlhttprequest", "redux", "react-redux"], "comments": [{"owner": {"reputation": 141, "user_id": 3636034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92941b7193e652e45f5a525c055ab497?s=128&d=identicon&r=PG", "display_name": "Oleksii Markhovskyi", "link": "https://stackoverflow.com/users/3636034/oleksii-markhovskyi"}, "edited": false, "score": 1, "creation_date": 1482361283, "post_id": 41272892, "comment_id": 69748175, "body": "In order not to fall into general advises, just asking:  1. What profiling points to? I&#39;d guess, some internals of &quot;store.dispatch()&quot; or it&#39;s wrappers.  2. Are <a href=\"http://redux.js.org/docs/faq/Performance.html\" rel=\"nofollow noreferrer\">redux.js.org/docs/faq/Performance.html</a> and it&#39;s links (such as <a href=\"https://github.com/markerikson/react-redux-links/blob/master/react-performance.md\" rel=\"nofollow noreferrer\">github.com/markerikson/react-redux-links/blob/master/&hellip;</a>) helpful? Some of those are quite well-structured"}, {"owner": {"reputation": 117, "user_id": 4725028, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/eac013e3468e117ab195e80a57d4097d?s=128&d=identicon&r=PG&f=1", "display_name": "goodOldFashioned", "link": "https://stackoverflow.com/users/4725028/goodoldfashioned"}, "reply_to_user": {"reputation": 141, "user_id": 3636034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92941b7193e652e45f5a525c055ab497?s=128&d=identicon&r=PG", "display_name": "Oleksii Markhovskyi", "link": "https://stackoverflow.com/users/3636034/oleksii-markhovskyi"}, "edited": false, "score": 0, "creation_date": 1482434925, "post_id": 41272892, "comment_id": 69783274, "body": "I did look through most of those links. The closest thing I could find to the problem I am having is <a href=\"https://github.com/reactjs/redux/issues/1751\" rel=\"nofollow noreferrer\">github.com/reactjs/redux/issues/1751</a> and that person&#39;s problem seemed to be with the validation function. However running Timeline within Chrome Dev Tools points to <code>dispatch</code> as you just mentioned and nothing to do with the PropTypes validation functions."}], "owner": {"reputation": 117, "user_id": 4725028, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/eac013e3468e117ab195e80a57d4097d?s=128&d=identicon&r=PG&f=1", "display_name": "goodOldFashioned", "link": "https://stackoverflow.com/users/4725028/goodoldfashioned"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 210, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1482358877, "creation_date": 1482358877, "question_id": 41272892, "link": "https://stackoverflow.com/questions/41272892/issuing-many-redux-dispatch-calls-from-callbacks-in-xhr-requests-gradually-slows", "title": "Issuing many Redux dispatch calls from callbacks in XHR requests gradually slows React application", "body": "<p>I am working on a React application that is able to write many files at a time to a server. To upload these files I am using bluebird's Promise.map and uploading each file using XmlHttpRequests within a promise with a concurrency of 3 at a time. There is an event listener on each XHR request\nthat calls the callback like this:</p>\n\n<pre><code>xhr.upload.addEventListener('progress', function (oEvent) {\n  if (oEvent.lengthComputable) {\n    progressCallback(fileName, oEvent.loaded / oEvent.total);\n  }\n});\n</code></pre>\n\n<p>The progress callback looks like this:</p>\n\n<pre><code>function progressCallback(file, percentage){\n    dispatch(updateFileInfo(file, percentage));\n}\n</code></pre>\n\n<p>The dispatch call creates a new state with the new percentage information on one of the file nodes. There are connected (with react-redux) progress bar components associated with each file that re-render on each percentage change that has to do with the file they are associated with. There are container components that are connected to state as well but I have implemented shallow checks on those to ensure they don't redraw when that specific dispatch call is triggered. </p>\n\n<p>The problem is that ~200 files or more, the entire application starts to slow to a crawl or even freezes the browser when the number of files gets large enough. My original thinking was that it was due to the constant rerendering or even just the logic in each progress bar's <code>mapStateToProps</code> function. However - removing the progress bars does not seem to make much of a difference at all. The issue seems to be in the many frequent dispatch calls and not due to the DOM redrawing. When I remove the dispatch calls from the callbacks the problem goes away. </p>\n\n<p>My question is: is there an efficient way in Redux to issue thousands of dispatch calls (some of them asynchronously) in short succession that won't significantly slow down the application to the point that it is unusable?</p>\n\n<p>Please let me know if there is any information that I have left out that would be helpful in solving this issue, thank you!</p>\n"}, {"tags": ["javascript", "checkbox", "background-position"], "comments": [{"owner": {"reputation": 10467, "user_id": 2045185, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/wO2Jd.jpg?s=128&g=1", "display_name": "sinisake", "link": "https://stackoverflow.com/users/2045185/sinisake"}, "edited": false, "score": 1, "creation_date": 1482358967, "post_id": 41272867, "comment_id": 69747245, "body": "How you call your function? You didn&#39;t invoked function at all?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1482359325, "post_id": 41272867, "comment_id": 69747401, "body": "Add <code>onclick=&quot;Check()&quot;</code> to the checkbox."}, {"owner": {"reputation": 3237, "user_id": 4859669, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155524331445564/picture?type=large", "display_name": "Korgrue", "link": "https://stackoverflow.com/users/4859669/korgrue"}, "edited": false, "score": 1, "creation_date": 1482359569, "post_id": 41272867, "comment_id": 69747518, "body": "Check() is never being called."}], "answers": [{"comments": [{"owner": {"reputation": 8550, "user_id": 3504007, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/8ksWq.png?s=128&g=1", "display_name": "Kraang Prime", "link": "https://stackoverflow.com/users/3504007/kraang-prime"}, "edited": false, "score": 1, "creation_date": 1482359823, "post_id": 41272998, "comment_id": 69747623, "body": "Updated the code so it is embedded on this post, as well as corrected an error with the intended toggle value for the background. (checked when checked,  clear when unchecked).  The other code had it do nothing on first check, then it was checked when the box was unchecked."}, {"owner": {"reputation": 539, "user_id": 5510690, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5EFha.jpg?s=128&g=1", "display_name": "Eliezer Wohl", "link": "https://stackoverflow.com/users/5510690/eliezer-wohl"}, "edited": false, "score": 0, "creation_date": 1482359886, "post_id": 41272998, "comment_id": 69747645, "body": "I&#39;m new to answering questions, thanks for the edit."}, {"owner": {"reputation": 13754, "user_id": 586051, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uoI4g.jpg?s=128&g=1", "display_name": "Rahul Desai", "link": "https://stackoverflow.com/users/586051/rahul-desai"}, "edited": false, "score": 0, "creation_date": 1482359960, "post_id": 41272998, "comment_id": 69747667, "body": "This answer looks better :)"}, {"owner": {"reputation": 8550, "user_id": 3504007, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/8ksWq.png?s=128&g=1", "display_name": "Kraang Prime", "link": "https://stackoverflow.com/users/3504007/kraang-prime"}, "reply_to_user": {"reputation": 13754, "user_id": 586051, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uoI4g.jpg?s=128&g=1", "display_name": "Rahul Desai", "link": "https://stackoverflow.com/users/586051/rahul-desai"}, "edited": false, "score": 1, "creation_date": 1482360057, "post_id": 41272998, "comment_id": 69747702, "body": "@RahulDesai - I was just going to ask you to add that (the MDN link), as it was the one thing you provided in your solution that this one didn&#39;t have and could use :)"}], "tags": [], "owner": {"reputation": 539, "user_id": 5510690, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5EFha.jpg?s=128&g=1", "display_name": "Eliezer Wohl", "link": "https://stackoverflow.com/users/5510690/eliezer-wohl"}, "is_accepted": false, "score": 3, "last_activity_date": 1482360009, "last_edit_date": 1482360009, "creation_date": 1482359425, "answer_id": 41272998, "question_id": 41272867, "link": "https://stackoverflow.com/questions/41272867/javascript-checkbox-to-change-background-not-working/41272998#41272998", "title": "Javascript checkbox to change background not working", "body": "<p>You don't have an eventlistener or onclick in your code.</p>\n\n<pre><code>document.getElementById(\"checkboz\").addEventListener(\"click\", Check);\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>x=false;\r\nfunction Check(){\r\n  x=!x;\r\n  if(x){    \r\n    document.getElementById(\"checkboz\").style.backgroundPosition='0 0';\r\n    document.getElementById(\"checkboz\").style.backgroundPosition='-28px 0';\r\n  }\r\n  else{\r\n    document.getElementById(\"checkboz\").style.backgroundPosition='none'; \r\n    document.getElementById(\"checkboz\").style.backgroundPosition='0 0';   \r\n  }\r\n\r\n\r\n}\r\ndocument.getElementById(\"checkboz\").addEventListener(\"click\", Check);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#checkboz{\r\n  background: url(http://movimientomore.com/images/2016/12/21/sprite-check-01.png);\r\n  background-size: 55px;\r\n  background-repeat: no-repeat;\r\n  width: 28px;\r\n  height: 28px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"checkboz\" class=\"checkbox\"&gt;\r\n  &lt;label for=\"modlgn-remember\"&gt;&lt;input id=\"modlgn-remember\" name=\"remember\" class=\"inputbox\" value=\"yes\" type=\"checkbox\"&gt;Recordarme&lt;/label&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Or view on <a href=\"https://jsfiddle.net/y25ddb1r/\" rel=\"nofollow noreferrer\">jsfiddle.net</a></p>\n\n<p>Read up: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\" rel=\"nofollow noreferrer\"><code>EventTarget.addEventListener()</code> - Web APIs | MDN</a></p>\n"}, {"tags": [], "owner": {"reputation": 640, "user_id": 2019084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ber8q.jpg?s=128&g=1", "display_name": "Robert Fines", "link": "https://stackoverflow.com/users/2019084/robert-fines"}, "is_accepted": false, "score": 0, "last_activity_date": 1482360793, "creation_date": 1482360793, "answer_id": 41273279, "question_id": 41272867, "link": "https://stackoverflow.com/questions/41272867/javascript-checkbox-to-change-background-not-working/41273279#41273279", "title": "Javascript checkbox to change background not working", "body": "<p>I have updated your fiddle to show a working version of the functionality you are seeking.</p>\n\n<p><a href=\"https://jsfiddle.net/kchqhntf/8/\" rel=\"nofollow noreferrer\">Your fiddle</a></p>\n\n<p>Like others have said in the comments, the Check function was never being called, but additionally, it is better to swap classes out on the elements instead of trying to manually manipulate the styles.</p>\n\n<pre><code>    var element = document.getElementById('modlgn-remember');\n    element.addEventListener('click', function(e) { \n        console.log(element.checked)\n        Check(element.checked);\n    }, false);\n    x=false;\n    function Check(checked){\n      console.log(x);\n      var $el = document.getElementById(\"checkboz\")\n      if(checked){\n        $el.className = $el.className.replace(' remove-background- position-1 remove-background-position-2', '');  \n        $el.className += ' add-background-position-1 add-background-position-2';\n       x=false;\n      } else {\n        var cn = $el.className;\n        cn = $el.className.replace(' add-background-position-1 add-background-position-2', '');  \n        $el.className = cn;\n        $el.className += ' remove-background-position-1 remove-background-position-2';\n        x=true;    \n      }  \n   }\n</code></pre>\n\n<p>With the following css classes:</p>\n\n<pre><code>    .add-background-position-1 {\n      background-position: 0 0 !important;\n    }\n\n    .add-background-position-2 {\n      background-position: -28px 0 !important;\n    }\n    .remove-background-position-1 {\n      background-position: inherit !important;\n    }\n    .remove-background-position-2 {\n      background-position: 0 0 !important;\n    }\n</code></pre>\n\n<p>without the !important on the css classes the existing background style will take precedence over the new classes.</p>\n\n<p>I hope that help!</p>\n"}], "owner": {"reputation": 11, "user_id": 2400324, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KMOOm.jpg?s=128&g=1", "display_name": "jvelezr", "link": "https://stackoverflow.com/users/2400324/jvelezr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1482360793, "creation_date": 1482358744, "last_edit_date": 1482359235, "question_id": 41272867, "link": "https://stackoverflow.com/questions/41272867/javascript-checkbox-to-change-background-not-working", "title": "Javascript checkbox to change background not working", "body": "<p>I'm trying to change the background position of an element using a checkbox, but is not working. </p>\n\n<p>Here is the code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>x = false;\r\n\r\nfunction Check() {\r\n  if (x) {\r\n    document.getElementById(\"checkboz\").style.backgroundPosition = '0 0';\r\n    document.getElementById(\"checkboz\").style.backgroundPosition = '-28px 0';\r\n    x = false;\r\n  } else {\r\n    document.getElementById(\"checkboz\").style.backgroundPosition = 'none';\r\n    document.getElementById(\"checkboz\").style.backgroundPosition = '0 0';\r\n    x = true;\r\n  }\r\n\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#checkboz {\r\n  background: url(http://movimientomore.com/images/2016/12/21/sprite-check-01.png);\r\n  background-size: 55px;\r\n  background-repeat: no-repeat;\r\n  width: 28px;\r\n  height: 28px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"checkboz\" class=\"checkbox\"&gt;\r\n  &lt;label for=\"modlgn-remember\"&gt;\r\n    &lt;input id=\"modlgn-remember\" name=\"remember\" class=\"inputbox\" value=\"yes\" type=\"checkbox\"&gt;Recordarme&lt;/label&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Thank you so much for your help :)</p>\n"}, {"tags": ["javascript", "reactjs", "webpack"], "answers": [{"comments": [{"owner": {"reputation": 2026, "user_id": 244178, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3682a576671239ab36936000390ce225?s=128&d=identicon&r=PG", "display_name": "Spencer Carnage", "link": "https://stackoverflow.com/users/244178/spencer-carnage"}, "edited": false, "score": 0, "creation_date": 1482371485, "post_id": 41274315, "comment_id": 69750774, "body": "I got the extract text part down, however I don&#39;t know how the get the view to load the necessary <code>&lt;link&gt;</code> tag along with the JS. We&#39;re using PHP on the back-end if that makes a difference."}], "tags": [], "owner": {"reputation": 28166, "user_id": 44041, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ef09ee2a5aaee27f3630e1842f30fbac?s=128&d=identicon&r=PG", "display_name": "Filip Dupanovi\u0107", "link": "https://stackoverflow.com/users/44041/filip-dupanovi%c4%87"}, "is_accepted": false, "score": 0, "last_activity_date": 1482368535, "creation_date": 1482368535, "answer_id": 41274315, "question_id": 41272864, "link": "https://stackoverflow.com/questions/41272864/lazy-load-stylesheet-with-webpack-2/41274315#41274315", "title": "Lazy load Stylesheet with Webpack 2", "body": "<p>You can try creating a custom HTML template with <a href=\"https://github.com/ampedandwired/html-webpack-plugin\" rel=\"nofollow noreferrer\"><code>html-webpack-plugin</code></a>. You'll have access to all the assets that have been produced with the compilation and can reference the one's your interested with via <code>link</code> tags in the output. The next important bit would be to use <a href=\"https://github.com/webpack/extract-text-webpack-plugin\" rel=\"nofollow noreferrer\"><code>extract-text-webpack-plugin</code></a> to configure Webpack to emit separate stylesheets in the assets.</p>\n\n<p>Alternatively, if you'd like to work with forward-facing tech, you can mix in <a href=\"https://github.com/NekR/offline-plugin\" rel=\"nofollow noreferrer\"><code>offline-plugin</code></a> and use a service worker for pre-loading assets the user might need. This might be helpful if you have trouble splitting your stylesheets, as you can simply revert to letting Webpack figure out how to split your application into chunks (CSS sources included) and the plugin will make sure these are prefetched in advance.</p>\n"}], "owner": {"reputation": 2026, "user_id": 244178, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3682a576671239ab36936000390ce225?s=128&d=identicon&r=PG", "display_name": "Spencer Carnage", "link": "https://stackoverflow.com/users/244178/spencer-carnage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1207, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1482368535, "creation_date": 1482358733, "question_id": 41272864, "link": "https://stackoverflow.com/questions/41272864/lazy-load-stylesheet-with-webpack-2", "title": "Lazy load Stylesheet with Webpack 2", "body": "<p>I would like to lazy load CSS via a <code>&lt;link&gt;</code> for my React app that is built with Webpack 2. I understand that with <code>style-loader</code> you can have <code>import 'foo.css'</code> be inlined in a <code>&lt;style&gt;</code> tag but I'm looking for a solution that allows for it to use a <code>link</code> tag that can lazy-loaded, much like the new <code>import()</code> does for code splitting with React Router.</p>\n\n<p>Is there an existing loader that can do this? </p>\n"}, {"tags": ["javascript", "jquery", "html", "css", "frontend"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 7327775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a712b931ff7e7f305b025f8166dadb6?s=128&d=identicon&r=PG&f=1", "display_name": "Preston Gull", "link": "https://stackoverflow.com/users/7327775/preston-gull"}, "edited": false, "score": 0, "creation_date": 1482385035, "post_id": 41273409, "comment_id": 69754323, "body": "Genius. Absolutely terrific. Thanks for the help!"}], "tags": [], "owner": {"reputation": 662, "user_id": 6603253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/swdE0.jpg?s=128&g=1", "display_name": "pttsky", "link": "https://stackoverflow.com/users/6603253/pttsky"}, "is_accepted": true, "score": 1, "last_activity_date": 1482394491, "last_edit_date": 1482394491, "creation_date": 1482361462, "answer_id": 41273409, "question_id": 41272832, "link": "https://stackoverflow.com/questions/41272832/achieving-a-slick-initial-transition-to-3d-transform-with-parallax-effect/41273409#41273409", "title": "Achieving a slick initial transition to 3D transform with parallax effect", "body": "<p>I tried to decrease angles of picture rotation depending on progress of picture scaling, check it out: <a href=\"https://codepen.io/pitetsky/pen/qqwOvB\" rel=\"nofollow noreferrer\">https://codepen.io/pitetsky/pen/qqwOvB</a>. </p>\n\n<p>Sorry for not the most optimal code without comments. That code is a product of little experimenting. So, in a nutshell about what I've did.</p>\n\n<p>It would be the best to multiply <code>rotateX</code> and <code>rotateY</code> by quotient of progress of pic-center scaling. A tough point is that scaling of pic is made via CSS <code>transition</code>.</p>\n\n<p>Since CSS transitions work slighter in browsers than JS animations without special libs, I didn't move scaling of images to JS. </p>\n\n<p>Instead, on every <code>mouseenter</code> into a picture I slightly change value of <code>scaleTransitionProgress</code> from 0 to 1 during 0.4 secs, same as css transtition length. And similarly from 1 to 0 on <code>mouseleave</code>. And then, when tracking <code>mousemove</code>, I adjust dampening depending on this value.</p>\n\n<p>Other code serves for the elimination of some problems occured when mouseentering to other picture while previous was still in progress, or when mouseleave was still in progress.</p>\n\n<p>Ask me in case of any questions.</p>\n"}], "owner": {"reputation": 23, "user_id": 7327775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a712b931ff7e7f305b025f8166dadb6?s=128&d=identicon&r=PG&f=1", "display_name": "Preston Gull", "link": "https://stackoverflow.com/users/7327775/preston-gull"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "accepted_answer_id": 41273409, "answer_count": 1, "score": 2, "last_activity_date": 1482394491, "creation_date": 1482358557, "question_id": 41272832, "link": "https://stackoverflow.com/questions/41272832/achieving-a-slick-initial-transition-to-3d-transform-with-parallax-effect", "title": "Achieving a slick initial transition to 3D transform with parallax effect", "body": "<p>I've been experimenting with this effect here:</p>\n\n<p><a href=\"https://codepen.io/PressOnThis/pen/NbmGPR\" rel=\"nofollow noreferrer\">https://codepen.io/PressOnThis/pen/NbmGPR</a></p>\n\n<p>The idea is there, but you'll notice the initial transition (or lack of, at this point) is blocky when the cursor enters the div. (I've set the background to magenta to highlight those flaws) I've tried a few things so far, like a timeout before it starts indefinitely capturing the mouse position, but I'm still struggling to achieve that slick transition. A CSS transition is obviously useless here, as it needs to capture the mouse position on <code>mousemove</code>.</p>\n\n<p>How can I achieve this?</p>\n"}, {"tags": ["javascript", "json", "node.js", "express", "ejs"], "answers": [{"comments": [{"owner": {"reputation": 1713, "user_id": 3749128, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/e4kNk.jpg?s=128&g=1", "display_name": "rakeshdas", "link": "https://stackoverflow.com/users/3749128/rakeshdas"}, "edited": false, "score": 0, "creation_date": 1482451899, "post_id": 41274607, "comment_id": 69789746, "body": "Would I have to create the SocketIO app in Python? Or could I write it in Node, which would be server side?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7126329"}, "reply_to_user": {"reputation": 1713, "user_id": 3749128, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/e4kNk.jpg?s=128&g=1", "display_name": "rakeshdas", "link": "https://stackoverflow.com/users/3749128/rakeshdas"}, "edited": false, "score": 0, "creation_date": 1482455728, "post_id": 41274607, "comment_id": 69790607, "body": "You can. There is a <a href=\"https://github.com/miguelgrinberg/python-socketio/\" rel=\"nofollow noreferrer\">package</a> for SocketIO in Python. A package for Flask and SocketIO integration is available too."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user7126329"}, "is_accepted": true, "score": 2, "last_activity_date": 1482372201, "last_edit_date": 1482372201, "creation_date": 1482370953, "answer_id": 41274607, "question_id": 41272772, "link": "https://stackoverflow.com/questions/41272772/when-getting-json-data-via-nodejs-how-would-i-update-my-ejs-template-via-expres/41274607#41274607", "title": "When getting JSON data via NodeJS, how would I update my EJS template via ExpressJS?", "body": "<p>I think you're doing it wrong. If you need real-time behavior, just use the right tools for that. For this need, I would use <a href=\"https://www.npmjs.com/package/socket.io\" rel=\"nofollow noreferrer\">SocketIO</a>. If you need old browser support you can do it through simply ajax too, but the benefit of web sockets over ajax is big.</p>\n\n<h3>Socket.io</h3>\n\n<p>This is a simple SocketIO server that send data to all clients every 1 minute.</p>\n\n<pre><code>import socketio from 'socket.io';\nimport { DataRepository } from 'repositories';\n\n\nconst server = http.createServer();\nconst io = socketio(server);\n\nio.on('connection', (client) =&gt; {\n  ((interval = 60000, io) =&gt; {\n    setInterval(() =&gt; {\n      const data = DataRepository.fetch();\n      client.emit('new', data);\n    }, interval);\n  })();\n});\n</code></pre>\n\n<p>All clients just need to create an instance of SocketIO and listen for <code>new</code>:</p>\n\n<pre><code>const socket = io('http://yoursite.com:port');\nsocket.on('emit', data =&gt; {\n  updateView(data);\n});\n\nfunction updateView ({ plLoopTimes, pl54Times}) {\n  plLoopTimes.forEach(t =&gt; {\n    // update things\n  });\n  pl54Times.forEach(t =&gt; {\n    // update things\n  });\n}\n</code></pre>\n\n<hr>\n\n<h3>Fallback</h3>\n\n<p>Another approach -more classic- is for the interval to be defined on the client instead of the server. So, every time that clients request a <em>new version of the view</em> the server <strong>render the view to string</strong> and send back to the client.</p>\n\n<p>Here we only need to define a simple route to point a view:</p>\n\n<pre><code>router\n  .get('/looptimes', (req, res) =&gt; {\n    const { plLoopTimes, pl54Times } = DataRepository.fetch();\n    // render the file 'looptimes.ejs' to string\n    const view = ejs.render('looptimes', {\n      plLoopTimes, pl54Times\n    });\n    res.type('.html');\n    res.send(view);\n  });\n</code></pre>\n\n<p>In the frontend you only need to update the HTML.</p>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 7327397, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CF2ZJOGLdl8/AAAAAAAAAAI/AAAAAAAAAN4/pvaVOTia0AU/photo.jpg?sz=128", "display_name": "Josh L", "link": "https://stackoverflow.com/users/7327397/josh-l"}, "edited": false, "score": 0, "creation_date": 1482371915, "post_id": 41274695, "comment_id": 69750868, "body": "Sorry.. completely missed the point of the question.. if you want to update the code in real time like that you&#39;ll either need to use something like guzgarcia suggested to push the data to the client or use AJAX on the client side to request the new data from your server."}], "tags": [], "owner": {"reputation": 53, "user_id": 7327397, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CF2ZJOGLdl8/AAAAAAAAAAI/AAAAAAAAAN4/pvaVOTia0AU/photo.jpg?sz=128", "display_name": "Josh L", "link": "https://stackoverflow.com/users/7327397/josh-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1482371737, "creation_date": 1482371737, "answer_id": 41274695, "question_id": 41272772, "link": "https://stackoverflow.com/questions/41272772/when-getting-json-data-via-nodejs-how-would-i-update-my-ejs-template-via-expres/41274695#41274695", "title": "When getting JSON data via NodeJS, how would I update my EJS template via ExpressJS?", "body": "<p>You've got most of it right, assuming that you aren't running into a race condition where the json isn't actually ready when you receive a request for the page. To access plLoopTimes and pl54Times in your template if you're passing them to res.render() like that you just need to do something like:</p>\n\n<pre><code>&lt;%= pl54Times.some.property %&gt;\n</code></pre>\n\n<p>Or if you want to loop over an array of items in that json you can do this:</p>\n\n<pre><code>&lt;% for(var i=0; i &lt; arrayName.length; i++) { %&gt;\n    &lt;div&gt;&lt;%= arrayName[i].some.property.to.display %&gt;&lt;/div&gt;\n&lt;% } %&gt;\n</code></pre>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 1713, "user_id": 3749128, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/e4kNk.jpg?s=128&g=1", "display_name": "rakeshdas", "link": "https://stackoverflow.com/users/3749128/rakeshdas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 874, "favorite_count": 0, "accepted_answer_id": 41274607, "answer_count": 2, "score": 3, "last_activity_date": 1482372201, "creation_date": 1482358274, "question_id": 41272772, "link": "https://stackoverflow.com/questions/41272772/when-getting-json-data-via-nodejs-how-would-i-update-my-ejs-template-via-expres", "title": "When getting JSON data via NodeJS, how would I update my EJS template via ExpressJS?", "body": "<p>I am calling some APIs using NodeJS and passing them to my EJS template via ExpressJS with this code:</p>\n\n<pre><code>app.get('/', function (req, res) {\nres.render('routes/index', {\n    plLoopTimes: plLoopTimes,\n    pl54Times: pl54Times\n})\n});\n</code></pre>\n\n<p>In this instance, <code>plLoopTimes</code> and <code>pl54Times</code> are arrays that have been populated by the JSON that I got from the APIs. In my EJS template, I can simply get the data by running <code>forEach</code> on both arrays. The issue that I am facing is when I am starting my node server for the first time, I get fresh data from the APIs, and that fresh data gets fed into the EJS template, but I want to poll the APIs every minute and get fresh data. Now, I do use <code>setInterval()</code> on my server-side script to call the API every minute, but I can't figure out how to pass that fresh data into the EJS template without refreshing the entire page, which I don't want to do. I have attempted to create a client-side script to change the <code>innerHTML</code> of the element I want to display the data, but if I enter EJS syntax into the script file and pass that into <code>innerHTML</code>, the EJS template does not express that syntax and instead, my script just outputs the EJS string into the page. So, does anyone have any suggestions as to how to update the variables from the server-side code into the EJS template on the client-side?</p>\n"}, {"tags": ["javascript", "api", "geolocation"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7267112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f04a839dec9e84ab23ba2e7f3c74c360?s=128&d=identicon&r=PG&f=1", "display_name": "Court", "link": "https://stackoverflow.com/users/7267112/court"}, "is_accepted": false, "score": 0, "last_activity_date": 1482363773, "creation_date": 1482363773, "answer_id": 41273725, "question_id": 41272766, "link": "https://stackoverflow.com/questions/41272766/javascript-location-name-is-not-changing-but-data-is/41273725#41273725", "title": "Javascript: Location name is not changing but data is", "body": "<p>Have you stepped through it in a debugger to see where the failure is? If not comfortable with a debugger, perhaps you could add a few lines of console.log to check the value in the essential variables, or to document if the map.setCenter(pos) is even being triggered in the use case you're asking about.</p>\n"}], "owner": {"reputation": 325, "user_id": 3040414, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/a64ab5a41c5564359c87dce73d1590f5?s=128&d=identicon&r=PG&f=1", "display_name": "illywilly", "link": "https://stackoverflow.com/users/3040414/illywilly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1482363773, "creation_date": 1482358253, "question_id": 41272766, "link": "https://stackoverflow.com/questions/41272766/javascript-location-name-is-not-changing-but-data-is", "title": "Javascript: Location name is not changing but data is", "body": "<p>I am using the google maps api and the dark skys api to create a weather app. Initially when the app is fired up from localhost (i'm just using a python simple server)the browser gets the users location and prints it to the screen with the it's corresponding data. </p>\n\n<p>However, when I type in another location and hit search the weather data changes but the location stays the same.</p>\n\n<p>Any help would be much appreciated. </p>\n\n<p>JS</p>\n\n<pre><code>// Global Variables\nvar geoLocation = {lat: 40.7127837, lng: -74.0059413};\nvar city = 'New York City';\n\n$(document).ready(function(){\n  $('#selected-city').keypress(function(e){\n    if(e.which == 13){\n      ajaxReqForLatLon();\n      setTimeout(function(){\n        initMap(geoLocation);\n      }, 500);\n    }\n  });\n  // console.log(ajaxReqForLatLon);\n  $('#search-button').on('click', function(){\n    ajaxReqForLatLon();\n  });\n  $('.btn.btn-success.btn-block').on('click', function(){\n    $('#selected-city').val(\"\").focus();\n  });\n\n  // Traffic\n  // Google Maps\n  function ajaxReqForLatLon(){\n    var userRequestedLocation = selectedCity();\n    var googleApiURL = 'https://maps.googleapis.com/maps/api/geocode/json?address=';\n    googleApiURL += userRequestedLocation;\n    googleApiURL += '&amp;key=API_KEY';\n\n    $.ajax({\n      type: 'GET',\n      url: googleApiURL,\n      success: function(response){\n        geoLocation = googleApiSuccessHandler(response);\n        weatherData();\n      },\n      error: function(jqXHR, textStatus, errorThrown){\n        console.log(errorThrown);\n      }\n    });\n  }\n\n  // take response from ajax and take the geolocation\n  function googleApiSuccessHandler(response){\n    var geoLocation = response.results[0].geometry.location;\n    return geoLocation;\n  }\n\n  function selectedCity(){\n    city = $('#selected-city').val().trim();\n    if(city.length === 0){\n      $('#selected-city').addClass('animated shake');\n      $('#selected-city').one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){\n        $('#selected-city').removeClass('animated shake');\n      });\n      return;\n    };\n    return city;\n  }\n\n  $('#selected-city').keypress(function(e){\n    if(e.which == 13){\n      ajaxReqForLatLon();\n      setTimeout(function(){\n        initMap(geoLocation);\n      }, 500);\n    }\n  });\n\n  // Map on page load\n  setTimeout(function(){\n    initMap(geoLocation);\n  }, 500);\n\n  var triggerOnce = true;\n  function initMap(geoLocation){\n    var map = new google.maps.Map(document.getElementById('map'),{\n      zoom: 12,\n      center: geoLocation,\n      scrollWheel: false\n    });\n\n    var marker = new google.maps.Marker({map : map});\n\n    if(triggerOnce){\n      triggerOnce = false;\n\n      if(navigator.geolocation){\n        navigator.geolocation.getCurrentPosition(function(position){\n          geoLocation.lat = position.coords.latitude;\n          geoLocation.lng = position.coords.longitude;\n          var pos = {\n            lat : position.coords.latitude,\n            lng : position.coords.longitude\n          };\n          reverseGeocode();\n          weatherData();\n          setTimeout(function(){\n            $(\".location\").html(city);\n          }, 500);\n          marker.setPosition(pos);\n          map.setCenter(pos);\n        }, function(){\n          handleLocationError(true, marker, map.getCenter());\n        });\n      } else {\n        handleLocationError(false, marker, map.getCenter());\n      }\n    }\n\n    function handleLocationError(browserHasGeolocation, marker, pos){\n      marker.setPosition(pos);\n      weatherData();\n    }\n    var trafficLayer = new google.maps.TrafficLayer();\n    trafficLayer.setMap(map);\n  }\n\n  // Reverse Geocode \n  function reverseGeocode(){\n    var googleRevGeoApiURL = 'https://maps.googleapis.com/maps/api/geocode/json?latlng=';\n    googleRevGeoApiURL += geoLocation.lat + ',' + geoLocation.lng;\n    googleRevGeoApiURL += '&amp;key=AIzaSyCh5Q8_EFHuuQKVb4O3esOvemg-nFe6X0U';\n\n    $.ajax({\n      type: 'GET',\n      url: googleRevGeoApiURL,\n      success: function(response){\n        city = response.results[0].address_components[2].long_name;\n      },\n      error: function(jqXHR, textStatus, errorThrown){\n        console.log(errorThrown);\n      }\n    });\n  }\n\n  // Weather\n  var weatherData = function(){\n    var geoLocLat = geoLocation.lat;\n    var geoLocLon = geoLocation.lng;\n    var forecastURL = 'https://api.forecast.io/forecast/80b1dfb6da9003b42f0dd846a0f08703/' + geoLocLat + ',' + geoLocLon;\n    var data;\n    $.getJSON(forecastURL + '?callback=?', function(data){\n      $('#weather').html('Today: ' + data.currently.summary + '&lt;br&gt;' + 'Currently: ' + data.currently.temperature.toFixed(0) + '&amp;deg; F' + '&lt;br&gt;' + 'High: ' + data.daily.data[1].temperatureMax.toFixed(0) + '&amp;deg; F');\n    });\n  };\n});\n</code></pre>\n\n<p>HTML</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;title&gt;&lt;/title&gt;\n  &lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css\" integrity=\"sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7\" crossorigin=\"anonymous\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div class=\"container\"&gt;\n  &lt;br&gt;\n  &lt;input type=\"search\" id=\"selected-city\" class=\"form-control\" placeholder=\"Enter City\" autofocus&gt;\n  &lt;button id=\"search-button\" class=\"btn btn-success btn-block\" type=\"submit\"&gt;Search&lt;/button&gt;\n  &lt;br&gt;\n  &lt;h2 class=\"location\"&gt;&lt;/h2&gt;\n  &lt;h4 id=\"weather\"&gt;&lt;/h4&gt;\n  &lt;div id=\"map\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyCh5Q8_EFHuuQKVb4O3esOvemg-nFe6X0U&amp;signed_in=true&amp;callback=initMap\" async defer&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"meteocast.js\"&gt;&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["javascript", "angularjs", "angular-ui-router"], "comments": [{"owner": {"reputation": 16010, "user_id": 373655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/79ecfbfc7d0e81e22528daa8755e540a?s=128&d=identicon&r=PG", "display_name": "rob", "link": "https://stackoverflow.com/users/373655/rob"}, "edited": false, "score": 0, "creation_date": 1482358537, "post_id": 41272757, "comment_id": 69747082, "body": "do you get your template when you hit <code>localhost:1337&#47;js&#47;timer&#47;timer.template.html</code> ?"}, {"owner": {"reputation": 69, "user_id": 3672652, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f5a3244257b156bfc1a482695574b646?s=128&d=identicon&r=PG&f=1", "display_name": "sam4444", "link": "https://stackoverflow.com/users/3672652/sam4444"}, "reply_to_user": {"reputation": 16010, "user_id": 373655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/79ecfbfc7d0e81e22528daa8755e540a?s=128&d=identicon&r=PG", "display_name": "rob", "link": "https://stackoverflow.com/users/373655/rob"}, "edited": false, "score": 0, "creation_date": 1482358631, "post_id": 41272757, "comment_id": 69747120, "body": "No I don&#39;t, the index.html file is loaded and the <code>1+2=3</code> is displayed"}, {"owner": {"reputation": 16010, "user_id": 373655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/79ecfbfc7d0e81e22528daa8755e540a?s=128&d=identicon&r=PG", "display_name": "rob", "link": "https://stackoverflow.com/users/373655/rob"}, "edited": false, "score": 0, "creation_date": 1482358769, "post_id": 41272757, "comment_id": 69747170, "body": "right. so that&#39;s your problem. You need to change your server or build process such that the url you are specifying for a template actually loads the template"}, {"owner": {"reputation": 69, "user_id": 3672652, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f5a3244257b156bfc1a482695574b646?s=128&d=identicon&r=PG&f=1", "display_name": "sam4444", "link": "https://stackoverflow.com/users/3672652/sam4444"}, "reply_to_user": {"reputation": 16010, "user_id": 373655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/79ecfbfc7d0e81e22528daa8755e540a?s=128&d=identicon&r=PG", "display_name": "rob", "link": "https://stackoverflow.com/users/373655/rob"}, "edited": false, "score": 0, "creation_date": 1482358818, "post_id": 41272757, "comment_id": 69747187, "body": "Got it. Thank you"}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 3672652, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f5a3244257b156bfc1a482695574b646?s=128&d=identicon&r=PG&f=1", "display_name": "sam4444", "link": "https://stackoverflow.com/users/3672652/sam4444"}, "edited": false, "score": 0, "creation_date": 1482358763, "post_id": 41272840, "comment_id": 69747168, "body": "Got it. But then what should I do then if I ever have a bunch of folders each containing a state, controller and template html file, do I need to serve each of them up statically or is it better to put all my html files in one folder separate from their controllers and state js files"}, {"owner": {"reputation": 2489, "user_id": 2652883, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ee801449f10d68835921e687e60e1c1?s=128&d=identicon&r=PG&f=1", "display_name": "Muli Yulzary", "link": "https://stackoverflow.com/users/2652883/muli-yulzary"}, "reply_to_user": {"reputation": 69, "user_id": 3672652, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f5a3244257b156bfc1a482695574b646?s=128&d=identicon&r=PG&f=1", "display_name": "sam4444", "link": "https://stackoverflow.com/users/3672652/sam4444"}, "edited": false, "score": 0, "creation_date": 1482358855, "post_id": 41272840, "comment_id": 69747200, "body": "The example above works recursively so any directory and files nested in <code>&#47;public</code> will be statically exported."}], "tags": [], "owner": {"reputation": 2489, "user_id": 2652883, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ee801449f10d68835921e687e60e1c1?s=128&d=identicon&r=PG&f=1", "display_name": "Muli Yulzary", "link": "https://stackoverflow.com/users/2652883/muli-yulzary"}, "is_accepted": true, "score": 1, "last_activity_date": 1482358783, "last_edit_date": 1482358783, "creation_date": 1482358590, "answer_id": 41272840, "question_id": 41272757, "link": "https://stackoverflow.com/questions/41272757/loading-a-html-file-through-angulars-ui-router-using-templateurl/41272840#41272840", "title": "Loading a html file through angular&#39;s ui-router using templateUrl", "body": "<p>Yes your last paragraph gave away what is happening.\nNode can't match the path <code>js/timer/timer.template.html</code> to any route so the catch all gets executed (returns the index instead of the actual file).</p>\n\n<p>Here's an example of how to configure Express for html5mode:</p>\n\n<pre><code>//Look for statics first - this is important!\nvar oneHour = 3600 * 1000;\napp.use(express.static(path.join(__dirname, 'public'), {maxAge: oneHour}));\n//Return the index for any other GET request\napp.get('/*', function (req, res) {\n    res.sendFile('index.html', {root: path.join(__dirname, 'public')});\n});\n</code></pre>\n\n<p>So yes, basically you have to serve the templates as you do with js and css files.</p>\n"}], "owner": {"reputation": 69, "user_id": 3672652, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f5a3244257b156bfc1a482695574b646?s=128&d=identicon&r=PG&f=1", "display_name": "sam4444", "link": "https://stackoverflow.com/users/3672652/sam4444"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1723, "favorite_count": 0, "accepted_answer_id": 41272840, "answer_count": 1, "score": 3, "last_activity_date": 1482358783, "creation_date": 1482358210, "last_edit_date": 1482358545, "question_id": 41272757, "link": "https://stackoverflow.com/questions/41272757/loading-a-html-file-through-angulars-ui-router-using-templateurl", "title": "Loading a html file through angular&#39;s ui-router using templateUrl", "body": "<p>I'm using the Angular UI-Router to declare states. My states are set up correctly and angular is working on my page but the template html file is not being loaded correctly. When I do</p>\n\n<pre><code>template: 'template: 'js/timer/timer.template.html'\n</code></pre>\n\n<p>in my controller, the text (the path above) is rendered as expected but when I switch it to </p>\n\n<pre><code>templateUrl: 'js/timer/timer.template.html',\n</code></pre>\n\n<p>the timer.template.html file is not being rendered. What does happen though is my index.html file seems to be loaded twice. Once as expected and a second time where it is copied and injected into the <code>&lt;ui-view&gt; &lt;/ui-view&gt;</code>\nhere is my index.html file:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;base href=\"/\"&gt;\n        &lt;link rel=\"stylesheet\" href=\"index.css\"&gt;\n\n        &lt;script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"https://unpkg.com/angular-ui-router@0.3.2/release/angular-ui-router.min.js\"&gt; &lt;/script&gt;\n        &lt;script src=\"main.js\"&gt; &lt;/script&gt;\n    &lt;/head&gt;\n\n    &lt;body ng-app='PomodoroTimer'&gt;\n        &lt;ui-view&gt; &lt;/ui-view&gt;\n        &lt;p&gt;1+2={{1+2}}&lt;/p&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>When I go to localhost:1337/timer (the state that I have set up) this index.html file seems to get twice, once as expected and then again in the ui-view, 1+2=3 is displayed twice.</p>\n\n<p>This is my timer.state.js file. I have tried using different paths but nothing seems to point to the right html file.</p>\n\n<pre><code>app.config(function($stateProvider) {\n    $stateProvider.state('timer', {\n        url: '/timer',\n        templateUrl: 'js/timer/timer.template.html',\n        controller: 'TimerCtrl'\n    });\n});\n</code></pre>\n\n<p>Is there something I'm missing about UI-Router or templateUrl or something I don't have set up correctly? I'm using express to handle routing but just send all requests to /* to the index.html file so that UI-Router can take over. Do I have to serve the template html files statically through express like you would for css files?</p>\n\n<p>Here is the timer.template.html where timerMessage is defined on the <code>$scope</code> of the controller</p>\n\n<pre><code>&lt;p&gt;This is the timer state and message is: {{timerMessage}}&lt;/p&gt;\n</code></pre>\n\n<p>Here's the github link: <a href=\"http://github.com/sbernheim4/pomodoro-timer\" rel=\"nofollow noreferrer\">github.com/sbernheim4/pomodoro-timer</a></p>\n"}, {"tags": ["javascript", "firebase", "promise", "firebase-realtime-database"], "answers": [{"tags": [], "owner": {"reputation": 1372, "user_id": 3183170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c61a5a5b406e6209d0e8b1f845830259?s=128&d=identicon&r=PG", "display_name": "adrice727", "link": "https://stackoverflow.com/users/3183170/adrice727"}, "is_accepted": true, "score": 12, "last_activity_date": 1482360832, "creation_date": 1482360832, "answer_id": 41273285, "question_id": 41272734, "link": "https://stackoverflow.com/questions/41272734/returning-promise-after-firebase-query/41273285#41273285", "title": "Returning Promise after Firebase Query", "body": "<p>I think <code>CheckIfFriendsPending</code> should return a <code>Promise</code>:</p>\n\n<pre><code>export function CheckIfFriendsPending(id2) {\n  return new Promise(function (resolve, reject) {\n    var userID = getFirebase().auth().currentUser.uid;\n    var indicator = false;\n    getFirebase().database().ref('members/' + userID + '/PendingFR').once('value')\n      .then(function (snap) {\n        function userMatch(user) {\n          if (!!user.From &amp;&amp; user.From === userID &amp;&amp; (user.To === id2 || user.To === userID)) {\n            return resolve();\n          }\n        }\n        snap.forEach(function (childSnapshot) {\n          var childObject = childSnapshot.val();\n          userMatch(childObject);\n        });\n        return reject();\n      });\n  });\n}\n</code></pre>\n\n<p>Then you can call:</p>\n\n<pre><code>CheckIfFriendsPending(id2)\n  .then(function() { console.log('Yes'); })\n  .catch(function() { console.log('No'); });\n</code></pre>\n\n<p>Here's a simple working <a href=\"https://jsfiddle.net/ocjxrqL9/7/\" rel=\"noreferrer\">example</a>.</p>\n"}], "owner": {"reputation": 1469, "user_id": 1421659, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f92825e0ea44cf5bed741a9d9369e91f?s=128&d=identicon&r=PG", "display_name": "Joe Caraccio", "link": "https://stackoverflow.com/users/1421659/joe-caraccio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13819, "favorite_count": 1, "accepted_answer_id": 41273285, "answer_count": 1, "score": 5, "last_activity_date": 1482360832, "creation_date": 1482358077, "last_edit_date": 1482359914, "question_id": 41272734, "link": "https://stackoverflow.com/questions/41272734/returning-promise-after-firebase-query", "title": "Returning Promise after Firebase Query", "body": "<p>Trying to make this as general so it can help other people. This question is more me struggling with the concepts of promises.</p>\n\n<p>So I have a function that returns the value of a boolean variable. My idea is to pull some data off of Firebase, and then I was looping through the values... to then set the variable to true if found.</p>\n\n<p>The issue that I was running into was that the value would be returned regardless of if the ForEach loop and the query were complete. I attempted to use some sort of promise resolving (in the code snippit below) to return it properly</p>\n\n<pre><code>export function CheckIfFriendsPending(id2){\n    var userID = getFirebase().auth().currentUser.uid\n    var indicator = false\n\n     var retri = function()\n    {   \n           getFirebase().database().ref('members/' + userID + '/PendingFR').once('value').then(function(snap) {\n                    console.log(\"~~~~~~~~~~~~~~~~~~go\")\n\n                    //if(result.hasOwnProperty('install_type'))\n                    snap.forEach(function(childSnapshot) {\n\n                        var childObject = childSnapshot.val()\n                        if(childObject.hasOwnProperty('From')){\n                            alert(\"OKAY\")\n                            if(childObject.From == userID &amp;&amp; childObject.To == id2){\n                                indicator = true\n                            } else if(childObject.From == id2 &amp;&amp; childObject.To == userID){\n                                indicator = true\n\n                            }\n                        }\n\n                    });\n\n\n                })                          \n    } // end retri\n\n    Promise.all(retri).then(function() {\n        return indicator\n    })\n}\n</code></pre>\n\n<p>Anyone have any idea for how to approach this? I guess a <strong>summarized version</strong> question is how to create a promise within a function that already returns a promise (which I believe the firebase database querys do). I guess it would have to wait for \"ForEach\" loop to resolve completely as well.</p>\n"}, {"tags": ["javascript", "angularjs", "angular", "observable", "rxjs5"], "comments": [{"owner": {"reputation": 7666, "user_id": 1241193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0331e5e748a0ac3860b68f6cac130ef1?s=128&d=identicon&r=PG", "display_name": "Bob Dalgleish", "link": "https://stackoverflow.com/users/1241193/bob-dalgleish"}, "edited": false, "score": 1, "creation_date": 1482358310, "post_id": 41272692, "comment_id": 69746981, "body": "A subscription finishes as soon as there is an error. You have to either filter out the error and retry somehow, or resubscribe."}], "answers": [{"comments": [{"owner": {"reputation": 312, "user_id": 2049132, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/yWhj7.jpg?s=128&g=1", "display_name": "nissim_dev", "link": "https://stackoverflow.com/users/2049132/nissim-dev"}, "edited": false, "score": 1, "creation_date": 1506334674, "post_id": 41274553, "comment_id": 79762767, "body": "PS. Your solution fixed my problem but i don&#39;t undertand.   I had a similar problem, but in my case i wasn&#39;t using the catch at all, I was just using the 2nd argument in subscribe to handle the error. It worked fine for the first event i.e first change in value. But didn&#39;t work subsequently after the error had occured. Do you know the precise reason why this is happens?"}, {"owner": {"reputation": 303, "user_id": 3147767, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/380f62582599ac6092c1b364d626e362?s=128&d=identicon&r=PG&f=1", "display_name": "Looted", "link": "https://stackoverflow.com/users/3147767/looted"}, "edited": false, "score": 2, "creation_date": 1516979690, "post_id": 41274553, "comment_id": 83921498, "body": "Error handler in the subscriber works as completion, so the the observable stops working. This is by design. If you want you observable to keep emitting despite errors, you have to handle the errors in a catch block and emit Observable of something that is not error."}], "tags": [], "owner": {"reputation": 4763, "user_id": 473923, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/VCdUV.jpg?s=128&g=1", "display_name": "David Cruwys", "link": "https://stackoverflow.com/users/473923/david-cruwys"}, "is_accepted": false, "score": 6, "last_activity_date": 1482370580, "creation_date": 1482370580, "answer_id": 41274553, "question_id": 41272692, "link": "https://stackoverflow.com/questions/41272692/valuechanges-stops-working-as-soon-as-an-error-occurs-in-an-rx-observable/41274553#41274553", "title": "ValueChanges stops working as soon as an error occurs in an Rx.Observable", "body": "<p>Figured out my issue, the <code>.catch()</code> that I had hanging of the <code>.switchMap()</code> really needed to be hanging of the <code>this.getGitHubUser$(userName)</code></p>\n\n<pre><code>this.userNameControl\n    .valueChanges\n    .do(r =&gt; {\n            // As soon as a 404 status is thrown from getGitHuybUser$, all value change (keyup) events stop working\n            console.log(r);\n        }\n    )\n    .switchMap(userName =&gt; {\n        console.log('GET GIT HUB USER');\n\n        return this.getGitHubUser$(userName)\n            .catch(err =&gt; {\n                console.log('CATCH INNER');\n                console.log(err);\n                return Observable.of(err)\n            })\n    })\n    // .catch(err =&gt; {\n    //     // THIS CODE IS NOT NEEDED\n    //     console.log('CATCH');\n    //     console.log(err);\n    //     return Observable.never(); // Observable.of(err)\n    // })\n    .subscribe(v =&gt; {\n            console.log('SUCCESS');\n            console.log(v);\n        },\n        (err) =&gt; {\n            console.log('ERROR');\n            console.log(err);\n        },\n        () =&gt; {\n            console.log('COMPLETE');\n        });\n</code></pre>\n"}], "owner": {"reputation": 4763, "user_id": 473923, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/VCdUV.jpg?s=128&g=1", "display_name": "David Cruwys", "link": "https://stackoverflow.com/users/473923/david-cruwys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1609, "favorite_count": 2, "answer_count": 1, "score": 8, "last_activity_date": 1482370580, "creation_date": 1482357894, "last_edit_date": 1482370444, "question_id": 41272692, "link": "https://stackoverflow.com/questions/41272692/valuechanges-stops-working-as-soon-as-an-error-occurs-in-an-rx-observable", "title": "ValueChanges stops working as soon as an error occurs in an Rx.Observable", "body": "<p>I am following some Rx.Observable tutorials from an Angular 2 application and using an AutoComplete style of system.</p>\n\n<p>As I type into a field, the valueChanges event fires from the Angular 2 FormControl.</p>\n\n<p>This is chained through to Observable that is making a HTTP request against a JSON endpoint.</p>\n\n<p>The moment the endpoint returns a 404 Status, the valueChanges event stops working.</p>\n\n<p>I can see the error in my subscribe method, but not really sure what the best technique is to recover and keep going.</p>\n\n<p>I am also a little confused why the KeyUp or ValueChange event would stop firing.</p>\n\n<p><strong>Sample Value Change - Observable Chain</strong></p>\n\n<pre><code>this.userNameControl\n    .valueChanges\n    .do(r =&gt; {\n            // As soon as a 404 status is thrown from getGitHuybUser$, all value change (keyup) events stop working\n            console.log\n        }\n    )\n    .switchMap(userName =&gt; {\n        return this.getGitHubUser$(userName);\n    })\n    .catch(err =&gt; {\n        return Observable.of(err)\n    })\n    .subscribe(v =&gt; {\n            console.log(v);\n        },\n        (err) =&gt; {\n            // As soon ass there is a 404 status, I end up here\n            console.log(err);\n        },\n        () =&gt; {\n            console.log('Complete');\n        });\n\ngetGitHubUser$(username) {\n    return this.http\n        .get(`https://api.github.com/users/${username}`)\n}\n</code></pre>\n\n<p><strong>HTML Form Control</strong></p>\n\n<pre><code>&lt;input type=\"text\" [value]=\"userName\" [formControl]=\"userNameControl\" /&gt;\n</code></pre>\n\n<p><strong>I tried returning Observable.empty() and Observable.never() in the catch</strong></p>\n\n<pre><code>.catch(err =&gt; {\n    // Observable.of(err)\n    // return Observable.empty();\n    return Observable.never();\n})\n</code></pre>\n\n<p>And the result was that the <code>subscribe</code> method called my <code>complete</code> method and still and so the valueChanges still do not fire.</p>\n"}, {"tags": ["javascript", "jquery", "string", "session-cookies", "persistent"], "comments": [{"owner": {"reputation": 1072, "user_id": 6913895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/209a818ccbb188d9c37c38df1c13f0de?s=128&d=identicon&r=PG&f=1", "display_name": "mrogers", "link": "https://stackoverflow.com/users/6913895/mrogers"}, "edited": false, "score": 0, "creation_date": 1482358109, "post_id": 41272660, "comment_id": 69746888, "body": "Might help out with part of your question: <a href=\"http://stackoverflow.com/questions/1458724/how-do-i-set-unset-cookie-with-jquery?rq=1\" title=\"how do i set unset cookie with jquery\">stackoverflow.com/questions/1458724/&hellip;</a>"}, {"owner": {"reputation": 2206, "user_id": 1842482, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7590b13969f30417e5964db210908bb9?s=128&d=identicon&r=PG", "display_name": "chaoluo", "link": "https://stackoverflow.com/users/1842482/chaoluo"}, "edited": false, "score": 0, "creation_date": 1482369804, "post_id": 41272660, "comment_id": 69750350, "body": "If the cookie is signed &#39;HttpOnly&#39;, you can&#39;t get it by javascript."}], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 2, "last_activity_date": 1482358440, "creation_date": 1482358440, "answer_id": 41272808, "question_id": 41272660, "link": "https://stackoverflow.com/questions/41272660/how-to-read-a-cookie-value-in-jquery-and-create-another-cookie-with-same-value/41272808#41272808", "title": "How to read a cookie value in Jquery and create another cookie with same value", "body": "<p>Parse the JSON string in the cookie, then get the <code>id</code> property from it. You can then store this in the new cookie.</p>\n\n<pre><code>var obj = JSON.parse(res);\n$.cookie('banana', obj.id, { expires: 10 });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7101551, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208009102245563/picture?type=large", "display_name": "Joshua Mata", "link": "https://stackoverflow.com/users/7101551/joshua-mata"}, "is_accepted": false, "score": 0, "last_activity_date": 1482369277, "last_edit_date": 1482369277, "creation_date": 1482358601, "answer_id": 41272843, "question_id": 41272660, "link": "https://stackoverflow.com/questions/41272660/how-to-read-a-cookie-value-in-jquery-and-create-another-cookie-with-same-value/41272843#41272843", "title": "How to read a cookie value in Jquery and create another cookie with same value", "body": "<p>Check the usage section in the readme here: <a href=\"https://github.com/carhartl/jquery-cookie#usage\" rel=\"nofollow noreferrer\">https://github.com/carhartl/jquery-cookie#usage</a></p>\n\n<hr>\n\n<blockquote>\n  <h2>Usage</h2>\n  \n  <p>Create session cookie:</p>\n\n<pre><code>$.cookie('name', 'value');\n</code></pre>\n  \n  <p>Create expiring cookie, 7 days from then:</p>\n\n<pre><code>$.cookie('name', 'value', { expires: 7 });\n</code></pre>\n  \n  <p>Create expiring cookie, valid across entire site:</p>\n\n<pre><code>$.cookie('name', 'value', { expires: 7, path: '/' });\n</code></pre>\n  \n  <p>Read cookie:</p>\n\n<pre><code>$.cookie('name'); // =&gt; \"value\"\n$.cookie('nothing'); // =&gt; undefined\n</code></pre>\n  \n  <p>Read all available cookies:</p>\n\n<pre><code>$.cookie(); // =&gt; { \"name\": \"value\" }\n</code></pre>\n  \n  <p>Delete cookie:</p>\n\n<pre><code>// Returns true when cookie was successfully deleted, otherwise false\n$.removeCookie('name'); // =&gt; true\n$.removeCookie('nothing'); // =&gt; false\n\n// Need to use the same attributes (path, domain) as what the cookie was written with\n$.cookie('name', 'value', { path: '/' });\n// This won't work!\n$.removeCookie('name'); // =&gt; false\n// This will work!\n$.removeCookie('name', { path: '/' }); // =&gt; true\n</code></pre>\n  \n  <p><em>Note: when deleting a cookie, you must pass the exact same path, domain and secure options that were used to set the cookie, unless\n  you're relying on the default options that is.</em></p>\n</blockquote>\n"}], "owner": {"reputation": 1, "user_id": 6079315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5243a565465b5145262de0e8bb0ef7a?s=128&d=identicon&r=PG&f=1", "display_name": "Boomer", "link": "https://stackoverflow.com/users/6079315/boomer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1473, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1482369277, "creation_date": 1482357757, "last_edit_date": 1482358293, "question_id": 41272660, "link": "https://stackoverflow.com/questions/41272660/how-to-read-a-cookie-value-in-jquery-and-create-another-cookie-with-same-value", "title": "How to read a cookie value in Jquery and create another cookie with same value", "body": "<p>How do i get value of \"id\" from a session cookie \"apple\": Decoded below as </p>\n\n<pre><code>\"{logo:\"Y\",id:\"5555555555\"}\"\n</code></pre>\n\n<ol>\n<li>I want to get value of <code>id =\"5555555555\"</code> from <code>apple</code> </li>\n<li>create another persistent cookie named <code>banana</code> and place this value \"id\" into it which expires in 10 days.</li>\n</ol>\n\n<p>Pasted My code below:</p>\n\n<pre><code>Var res = $.cookie(\"apple\");\n\n&lt;&lt;Code to split it and get \"id\"&gt;&gt;\n\n$.cookie('id', 'the_value', { expires: 10});\n</code></pre>\n\n<p>I am new to Jquery and i am trying hard to get the basics . Please help!</p>\n"}, {"tags": ["javascript", "html", "css", "canvas"], "comments": [{"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 0, "creation_date": 1482412160, "post_id": 41272621, "comment_id": 69769426, "body": "You know you can modify the parameters passed in drawImage ? <a href=\"http://jsfiddle.net/cjafru1m/8/\" rel=\"nofollow noreferrer\">jsfiddle.net/cjafru1m/8</a> Also, as I already told you on your previous question, you would be better just to style the container with CSS, or even do everything with the canvas API : <a href=\"http://jsfiddle.net/cjafru1m/11/\" rel=\"nofollow noreferrer\">jsfiddle.net/cjafru1m/11</a> And finally, to avoid the problems while drawing your svg, fix its bounding box with the <code>viewBox</code> attribute so that there is no top or bottom margin."}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 1773603, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh6.googleusercontent.com/-UZXqQyyTv38/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucmjtkpUxrj9UY16bqdK3OfqQoGwmw/photo.jpg?sz=128", "display_name": "youpilat13", "link": "https://stackoverflow.com/users/1773603/youpilat13"}, "edited": false, "score": 0, "creation_date": 1482359525, "post_id": 41272724, "comment_id": 69747497, "body": "thanks, I didn&#39;t know that I had to add again into CSS the width and height of values set into &lt;canvas width=&quot;400&quot; height=&quot;400&quot; id=&quot;textbox&quot;&gt; tag. A last comment : why the padding of top (above the equations) is larger than left padding ? and how to fix it in order to have the same padding for both ? regards"}, {"owner": {"reputation": 1738, "user_id": 3321016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2282720cdf4fc64b92ea5cb1663c1988?s=128&d=identicon&r=PG&f=1", "display_name": "Alex K", "link": "https://stackoverflow.com/users/3321016/alex-k"}, "reply_to_user": {"reputation": 49, "user_id": 1773603, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh6.googleusercontent.com/-UZXqQyyTv38/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucmjtkpUxrj9UY16bqdK3OfqQoGwmw/photo.jpg?sz=128", "display_name": "youpilat13", "link": "https://stackoverflow.com/users/1773603/youpilat13"}, "edited": false, "score": 0, "creation_date": 1482372145, "post_id": 41272724, "comment_id": 69750929, "body": "@youpilat13 the padding is the same on all sides - you can verify that <a href=\"https://jsfiddle.net/cjafru1m/\" rel=\"nofollow noreferrer\">HERE</a>. However, you are drawing the image as 300x300, which is not the original aspect ratio, so the image appears distorted. You can see how it looks with the correct aspect ratio <a href=\"https://jsfiddle.net/tcn1y6yL/\" rel=\"nofollow noreferrer\">HERE</a>. Hope my answer solves your issues!"}, {"owner": {"reputation": 49, "user_id": 1773603, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh6.googleusercontent.com/-UZXqQyyTv38/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucmjtkpUxrj9UY16bqdK3OfqQoGwmw/photo.jpg?sz=128", "display_name": "youpilat13", "link": "https://stackoverflow.com/users/1773603/youpilat13"}, "edited": false, "score": 0, "creation_date": 1482411509, "post_id": 41272724, "comment_id": 69768974, "body": "AlexK: The solution given by AlexK doesn&#39;t precisely solve my issue. you can see <a href=\"http://jsfiddle.net/ysis81/cjafru1m/2\" rel=\"nofollow noreferrer\">jsfiddle.net/ysis81/cjafru1m/2</a> where I have added the math equations, you will notice that equations are centered vertically and horizontally inside green square but what I would like to get is to put the block of equations (I mean from the first line of block equations) at the top left corner of green square."}, {"owner": {"reputation": 1738, "user_id": 3321016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2282720cdf4fc64b92ea5cb1663c1988?s=128&d=identicon&r=PG&f=1", "display_name": "Alex K", "link": "https://stackoverflow.com/users/3321016/alex-k"}, "reply_to_user": {"reputation": 49, "user_id": 1773603, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh6.googleusercontent.com/-UZXqQyyTv38/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucmjtkpUxrj9UY16bqdK3OfqQoGwmw/photo.jpg?sz=128", "display_name": "youpilat13", "link": "https://stackoverflow.com/users/1773603/youpilat13"}, "edited": false, "score": 0, "creation_date": 1482421009, "post_id": 41272724, "comment_id": 69775344, "body": "@youpilat13, you are drawing the image at the wrong aspect ratio, so it is getting stretched. See my updated answer."}, {"owner": {"reputation": 49, "user_id": 1773603, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh6.googleusercontent.com/-UZXqQyyTv38/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucmjtkpUxrj9UY16bqdK3OfqQoGwmw/photo.jpg?sz=128", "display_name": "youpilat13", "link": "https://stackoverflow.com/users/1773603/youpilat13"}, "edited": false, "score": 0, "creation_date": 1482426755, "post_id": 41272724, "comment_id": 69779176, "body": "Thanks, I am going to test it"}, {"owner": {"reputation": 49, "user_id": 1773603, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh6.googleusercontent.com/-UZXqQyyTv38/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucmjtkpUxrj9UY16bqdK3OfqQoGwmw/photo.jpg?sz=128", "display_name": "youpilat13", "link": "https://stackoverflow.com/users/1773603/youpilat13"}, "edited": false, "score": 0, "creation_date": 1482430350, "post_id": 41272724, "comment_id": 69781053, "body": "This seems to be good. Just a last question : how did you find the values 378 for width and 150 for height (for dimension of equations block) ? It has been taken randomly or you computed them from SVG file ? thanks"}, {"owner": {"reputation": 1738, "user_id": 3321016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2282720cdf4fc64b92ea5cb1663c1988?s=128&d=identicon&r=PG&f=1", "display_name": "Alex K", "link": "https://stackoverflow.com/users/3321016/alex-k"}, "reply_to_user": {"reputation": 49, "user_id": 1773603, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh6.googleusercontent.com/-UZXqQyyTv38/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucmjtkpUxrj9UY16bqdK3OfqQoGwmw/photo.jpg?sz=128", "display_name": "youpilat13", "link": "https://stackoverflow.com/users/1773603/youpilat13"}, "edited": false, "score": 0, "creation_date": 1482436734, "post_id": 41272724, "comment_id": 69784110, "body": "@youpilat13, I inspected the SVG in the browser to get the dimensions."}, {"owner": {"reputation": 49, "user_id": 1773603, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh6.googleusercontent.com/-UZXqQyyTv38/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucmjtkpUxrj9UY16bqdK3OfqQoGwmw/photo.jpg?sz=128", "display_name": "youpilat13", "link": "https://stackoverflow.com/users/1773603/youpilat13"}, "edited": false, "score": 0, "creation_date": 1482444123, "post_id": 41272724, "comment_id": 69787345, "body": "I am sorry but I didn&#39;t find these values into the SVG, maybe you have done a small computation with &quot;width=&quot;26.383ex&quot; height=&quot;10.509ex&quot; style=&quot;vertical-align: -4.366ex;&quot; viewBox=&quot;0 -2513.6 11359.3 4524.8&quot; values (header of SVG) ?"}], "tags": [], "owner": {"reputation": 1738, "user_id": 3321016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2282720cdf4fc64b92ea5cb1663c1988?s=128&d=identicon&r=PG&f=1", "display_name": "Alex K", "link": "https://stackoverflow.com/users/3321016/alex-k"}, "is_accepted": true, "score": 1, "last_activity_date": 1508818439, "last_edit_date": 1508818439, "creation_date": 1482358050, "answer_id": 41272724, "question_id": 41272621, "link": "https://stackoverflow.com/questions/41272621/set-padding-into-canvas-container-with-box-sizing-border-box/41272724#41272724", "title": "Set padding into canvas container with box-sizing: border-box", "body": "<p>Set the <code>width</code> and <code>height</code> <strong>CSS</strong> properties, as well as their HTML attribute counterparts. Note that you'll want to keep the same aspect ratio, or the image will appear distorted.</p>\n\n<p><strong>Update:</strong> draw the image in its original aspect ratio too, or it will be stretched!</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var textCanvas = document.getElementById('textbox');\r\nvar contextTextBox = textCanvas.getContext('2d');\r\n\r\ncontextTextBox.fillStyle = \"green\";\r\ncontextTextBox.fillRect(0, 0, 400, 400);\r\n\r\nvar img = new Image;\r\nimg.onload = function() {\r\n  contextTextBox.drawImage(img, 0, 0, 378, 150);\r\n};\r\nimg.src = \"http://example.com/test_last/formulaWhite.svg\";</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#textbox {\r\n  position: absolute;\r\n  padding: 60px;\r\n  box-sizing: border-box;\r\n  background-color: #333333;\r\n  border: 2px solid #428bca;\r\n  z-index: 100;\r\n  height: 400px;\r\n  width: 400px;\r\n}\r\n#containerCanvas {\r\n  position: relative;\r\n  top: 0;\r\n  left: 0;\r\n  margin: 20px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"containerCanvas\"&gt;\r\n  &lt;canvas width=\"400\" height=\"400\" id=\"textbox\"&gt;&lt;/canvas&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The <strong>HTML</strong> <code>height</code> and <code>width</code> properties control the resolution of your drawing space - they allow you to fit more or less content in the drawing area. The <strong>CSS</strong> dimensions will scale the canvas to occupy a certain amount of space on-screen.</p>\n\n<p>Here's an example with more \"drawing area\", yet takes up the same 400x400 pixels on-screen.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var textCanvas = document.getElementById('textbox');\r\nvar contextTextBox = textCanvas.getContext('2d');\r\n\r\ncontextTextBox.fillStyle = \"green\";\r\ncontextTextBox.fillRect(0, 0, 756, 756);\r\n\r\nvar img = new Image;\r\nimg.onload = function() {\r\n  contextTextBox.drawImage(img, 0, 0, 378, 150);\r\n  contextTextBox.drawImage(img, 378, 0, 378, 150);\r\n  contextTextBox.drawImage(img, 0, 150, 378, 150);\r\n  contextTextBox.drawImage(img, 378, 150, 378, 150);\r\n};\r\nimg.src = \"http://example.com/test_last/formulaWhite.svg\";</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#textbox {\r\n  position: absolute;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n  background-color: #333333;\r\n  border: 2px solid #428bca;\r\n  z-index: 100;\r\n  width: 400px;\r\n  height: 400px;\r\n  padding: 60px;\r\n}\r\n\r\n#containerCanvas {\r\n  position: relative;\r\n  top: 0;\r\n  left: 0;\r\n  margin: 20px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"containerCanvas\"&gt;\r\n  &lt;canvas width=\"756\" height=\"756\" id=\"textbox\"&gt;&lt;/canvas&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 49, "user_id": 1773603, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh6.googleusercontent.com/-UZXqQyyTv38/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucmjtkpUxrj9UY16bqdK3OfqQoGwmw/photo.jpg?sz=128", "display_name": "youpilat13", "link": "https://stackoverflow.com/users/1773603/youpilat13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8906, "favorite_count": 0, "accepted_answer_id": 41272724, "answer_count": 1, "score": 1, "last_activity_date": 1508818439, "creation_date": 1482357601, "last_edit_date": 1482411413, "question_id": 41272621, "link": "https://stackoverflow.com/questions/41272621/set-padding-into-canvas-container-with-box-sizing-border-box", "title": "Set padding into canvas container with box-sizing: border-box", "body": "<p>I try to insert an SVG element into a canvas. I would like to add padding for math equations inside the canvas.</p>\n\n<p>You can see the first result without padding on <a href=\"https://jsfiddle.net/ysis81/932d8q4w/8/\" rel=\"nofollow noreferrer\">this link</a></p>\n\n<p>Now, if I take a positive value for padding, the dimensions (width and length) are increasing. For example, with a padding equal to <code>20px</code>, I get the following result : <a href=\"https://jsfiddle.net/ysis81/932d8q4w/7/\" rel=\"nofollow noreferrer\">link for <code>padding: 20px</code></a>.</p>\n\n<p>Finally, If I take a larger value (<code>padding: 60px</code>), I get this result :</p>\n\n<p><a href=\"https://jsfiddle.net/ysis81/932d8q4w/6/\" rel=\"nofollow noreferrer\">link for <code>padding: 60px</code></a></p>\n\n<p>You can notice for each of these 3 cases that I put \"<code>box-sizing: border-box;</code>\" for \"<code>&lt;canvas width=\"400px\" height=\"400px\" id=\"textbox\"&gt;&lt;/canvas&gt;</code>\"</p>\n\n<pre><code>#textbox {\nposition: absolute;\npadding: 60px;\nbox-sizing: border-box;\nbackground-color: #333333;\nborder: 2px solid #428bca;\nz-index: 100;\n}\n</code></pre>\n\n<p>I would like to set padding for math equations without changing the size of canvas : I thought that <code>box-sizing: border-box;</code> could allow me to get this result.</p>\n\n<p>Anyone could see where the problem comes from ?</p>\n\n<p>Thanks</p>\n\n<p><strong>UPDATE 1 :</strong></p>\n\n<p>The solution given by AlexK doesn't precisely solve my issue. you can see <a href=\"http://jsfiddle.net/ysis81/cjafru1m/2\" rel=\"nofollow noreferrer\">this link</a> where I have added the math equations, you will notice that equations are centered vertically and horizontally inside green square but what I would like to get is to put the block of equations (I mean from the first line of block equations) at the top left corner of green square. </p>\n"}, {"tags": ["javascript", "flowtype"], "comments": [{"owner": {"reputation": 5276, "user_id": 268083, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d13f3ef11ebc4310a602acdd8ebd103b?s=128&d=identicon&r=PG", "display_name": "Jesse", "link": "https://stackoverflow.com/users/268083/jesse"}, "edited": false, "score": 1, "creation_date": 1482735888, "post_id": 41272588, "comment_id": 69858693, "body": "Definitely looks wrong. It works if you replace <code>mixed</code> with one of the parent classes of <code>HTMLElement</code> (<code>Element</code>, <code>Node</code>, <code>EventTarget</code>), but not <code>Object</code>, for some reason. I would submit it to <a href=\"https://github.com/facebook/flow/issues\" rel=\"nofollow noreferrer\">github.com/facebook/flow/issues</a>"}], "owner": {"reputation": 13995, "user_id": 177511, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/701586486b117227002bcd1dc9af5cb1?s=128&d=identicon&r=PG", "display_name": "bluepnume", "link": "https://stackoverflow.com/users/177511/bluepnume"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 128, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1490205343, "creation_date": 1482357449, "last_edit_date": 1490205343, "question_id": 41272588, "link": "https://stackoverflow.com/questions/41272588/type-refinement-not-working-with-instanceof", "title": "Type refinement not working with instanceof", "body": "<p>I have the following code:</p>\n\n<pre><code>function getBar(foo : mixed) {\n  if (foo instanceof HTMLElement) {\n    return foo.bar;\n  }\n}\n\nfunction getBar2(foo : HTMLElement) {\n  return foo.bar2;\n}\n</code></pre>\n\n<p><code>getBar</code> passes, while <code>getBar2</code> fails...</p>\n\n<pre><code>10:   return foo.bar2;\n                 ^ property `bar2`. Property not found in\n10:   return foo.bar2;\n             ^ HTMLInputElement\n</code></pre>\n\n<p>Surely both of these should fail the type check?</p>\n\n<p>According to the docs, <a href=\"https://flowtype.org/docs/dynamic-type-tests.html#a-instanceof-b\" rel=\"nofollow noreferrer\">an instanceof check should refine the type</a> of <code>foo</code> in this case, no?</p>\n"}, {"tags": ["javascript", "angularjs", "ionic-framework"], "comments": [{"owner": {"reputation": 2489, "user_id": 2652883, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ee801449f10d68835921e687e60e1c1?s=128&d=identicon&r=PG&f=1", "display_name": "Muli Yulzary", "link": "https://stackoverflow.com/users/2652883/muli-yulzary"}, "edited": false, "score": 0, "creation_date": 1482357808, "post_id": 41272546, "comment_id": 69746760, "body": "I see only one big object on the scope. You can however have 2 different objects on the same scope."}, {"owner": {"reputation": 4277, "user_id": 1080425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R0tp0.jpg?s=128&g=1", "display_name": "Hosar", "link": "https://stackoverflow.com/users/1080425/hosar"}, "edited": false, "score": 1, "creation_date": 1482358562, "post_id": 41272546, "comment_id": 69747093, "body": "@C&#233;dricDourin you can put whatever json object you want into a scope variable. Inside one json object you can nest other json objects. What you have in <code>$scope.Lorem</code> is an <b>array</b>."}], "answers": [{"tags": [], "owner": {"reputation": 630, "user_id": 1602244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c8890d2536fe3e3b8c05d7afb368047?s=128&d=identicon&r=PG", "display_name": "aconnelly", "link": "https://stackoverflow.com/users/1602244/aconnelly"}, "is_accepted": false, "score": 0, "last_activity_date": 1482357759, "creation_date": 1482357759, "answer_id": 41272662, "question_id": 41272546, "link": "https://stackoverflow.com/questions/41272546/angularjs-ionic-two-objects-in-one-scope/41272662#41272662", "title": "AngularJS &amp; Ionic: Two Objects in one Scope?", "body": "<p>You can get cards by using $scope.Lorem.cards[x].* Where x is the index of the object you want to access and * is the key you want to access.</p>\n"}, {"tags": [], "owner": {"reputation": 1828, "user_id": 4736703, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-BsEmwWNYFGw/AAAAAAAAAAI/AAAAAAAAAHk/bfHIDskerb8/photo.jpg?sz=128", "display_name": "Sa E Chowdary", "link": "https://stackoverflow.com/users/4736703/sa-e-chowdary"}, "is_accepted": false, "score": 0, "last_activity_date": 1482386477, "creation_date": 1482386477, "answer_id": 41276656, "question_id": 41272546, "link": "https://stackoverflow.com/questions/41272546/angularjs-ionic-two-objects-in-one-scope/41276656#41276656", "title": "AngularJS &amp; Ionic: Two Objects in one Scope?", "body": "<p>hoping that the below is your requirement </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html ng-app=\"plunker\"&gt;\r\n\r\n  &lt;head&gt;\r\n    &lt;meta charset=\"utf-8\" /&gt;\r\n    &lt;title&gt;AngularJS Plunker&lt;/title&gt;\r\n    &lt;script&gt;document.write('&lt;base href=\"' + document.location + '\" /&gt;');&lt;/script&gt;\r\n    &lt;link rel=\"stylesheet\" href=\"style.css\" /&gt;\r\n    &lt;script data-require=\"angular.js@1.4.x\" src=\"https://code.angularjs.org/1.4.12/angular.js\" data-semver=\"1.4.9\"&gt;&lt;/script&gt;\r\n    &lt;script src=\"app.js\"&gt;&lt;/script&gt;\r\n  &lt;/head&gt;\r\n\r\n  &lt;body ng-controller=\"MainCtrl\"&gt;\r\n    &lt;div&gt;{{Lorem[0].title}}&lt;/div&gt;\r\n     &lt;div&gt;{{Lorem[0].text}}&lt;/div&gt;\r\n    &lt;div ng-repeat=\"x in Lorem[0].cards\"&gt;\r\n    &lt;p&gt;{{x.title_cards}}&lt;/p&gt;\r\n    &lt;p&gt;{{x.desc_cards}}&lt;/p&gt;\r\n    &lt;/div&gt;\r\n  &lt;/body&gt;\r\n&lt;script&gt;\r\n  var app = angular.module('plunker', []);\r\n\r\napp.controller('MainCtrl', function($scope) {\r\n  $scope.name = 'World';\r\n  $scope.Lorem = [\r\n    { title: 'Ipsum', \r\n      text: 'Lorem ipsum dolor sit amet consetetur sadipscing elitr', \r\n      cards: [{\r\n                title_cards: 'Title1',\r\n                desc_cards: 'desc1',\r\n            },\r\n            {\r\n                title_cards: 'Title2',\r\n                desc_cards: 'desc3',\r\n            }\r\n        ]},\r\n        ];\r\n        \r\n});\r\n&lt;/script&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 6401, "user_id": 2528083, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/0bsQI.jpg?s=128&g=1", "display_name": "Atul Sharma", "link": "https://stackoverflow.com/users/2528083/atul-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1482386679, "creation_date": 1482386679, "answer_id": 41276699, "question_id": 41272546, "link": "https://stackoverflow.com/questions/41272546/angularjs-ionic-two-objects-in-one-scope/41276699#41276699", "title": "AngularJS &amp; Ionic: Two Objects in one Scope?", "body": "<p>You can access it like normal object </p>\n\n<p><code>$scope.Lorem[0].cards[0].title_cards</code> in js and <code>Lorem[0].cards[0].title_cards</code>in html. </p>\n"}], "owner": {"reputation": 11, "user_id": 7325113, "user_type": "registered", "profile_image": "https://graph.facebook.com/1157236674374096/picture?type=large", "display_name": "C&#233;dric Dourin", "link": "https://stackoverflow.com/users/7325113/c%c3%a9dric-dourin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1482386679, "creation_date": 1482357275, "question_id": 41272546, "link": "https://stackoverflow.com/questions/41272546/angularjs-ionic-two-objects-in-one-scope", "title": "AngularJS &amp; Ionic: Two Objects in one Scope?", "body": "<p>I'm new to Angular / Ionic and have a short question. Is it possible to put two Objects in one scope? Like this:</p>\n\n<pre><code>$scope.Lorem = [\n    { title: 'Ipsum', \n      text: 'Lorem ipsum dolor sit amet consetetur sadipscing elitr', \n      cards: [{\n                title_cards: 'Title1',\n                desc_cards: 'desc1',\n            },\n            {\n                title_cards: 'Title2',\n                desc_cards: 'desc3',\n            }\n        ]},\n        ];\n</code></pre>\n\n<p>If yes: How can I get the data from \"cards\"? If no: Is there any other possibility to \"connect\" a scope with an object from another one? </p>\n\n<p>Hope you can help me! Thanks. </p>\n"}, {"tags": ["javascript", "php", "html", "curl", "post"], "comments": [{"owner": {"reputation": 795, "user_id": 1721875, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PUHSL.jpg?s=128&g=1", "display_name": "Robert Dickey", "link": "https://stackoverflow.com/users/1721875/robert-dickey"}, "edited": false, "score": 1, "creation_date": 1482358144, "post_id": 41272545, "comment_id": 69746908, "body": "Very Vague question - Do you have any examples of what you have already tried?"}, {"owner": {"reputation": 75, "user_id": 4313278, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000569822670/picture?type=large", "display_name": "Matt Klaver", "link": "https://stackoverflow.com/users/4313278/matt-klaver"}, "reply_to_user": {"reputation": 795, "user_id": 1721875, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PUHSL.jpg?s=128&g=1", "display_name": "Robert Dickey", "link": "https://stackoverflow.com/users/1721875/robert-dickey"}, "edited": false, "score": 0, "creation_date": 1482358302, "post_id": 41272545, "comment_id": 69746977, "body": "I have no clue how to start. I know how to create a webpage, I just don&#39;t know how to get the data out of a post to put in the page itself."}], "answers": [{"tags": [], "owner": {"reputation": 795, "user_id": 1721875, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PUHSL.jpg?s=128&g=1", "display_name": "Robert Dickey", "link": "https://stackoverflow.com/users/1721875/robert-dickey"}, "is_accepted": true, "score": 0, "last_activity_date": 1482358819, "creation_date": 1482358819, "answer_id": 41272877, "question_id": 41272545, "link": "https://stackoverflow.com/questions/41272545/html-javascript-auto-updating-post-request-listener/41272877#41272877", "title": "HTML / JavaScript auto-updating POST request listener", "body": "<p>You could use something like this as a start</p>\n\n<pre><code>$curl = curl_init($url);\ncurl_setopt($curl, CURLOPT_HTTPHEADER,array('username: ','api_key: '));\ncurl_setopt($curl, CURLOPT_RETURNTRANSFER, true);\ncurl_setopt($curl, CURLOPT_POST, true);\ncurl_setopt($curl, CURLOPT_POSTFIELDS, $content);\n\n$json_response = curl_exec($curl);\n\ncurl_close($curl);\n header('Location: index.php');\n</code></pre>\n\n<p>Notice the header('Location: index.php'); That redirects you to a different page after the curl is executed. If you are going to a location on the same site, you can use this and GET commands to do what you would like. If they are on separate domains I would consider doing more research into CURL.</p>\n"}], "owner": {"reputation": 75, "user_id": 4313278, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000569822670/picture?type=large", "display_name": "Matt Klaver", "link": "https://stackoverflow.com/users/4313278/matt-klaver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 41272877, "answer_count": 1, "score": 0, "last_activity_date": 1482360387, "creation_date": 1482357274, "last_edit_date": 1482360387, "question_id": 41272545, "link": "https://stackoverflow.com/questions/41272545/html-javascript-auto-updating-post-request-listener", "title": "HTML / JavaScript auto-updating POST request listener", "body": "<p>Edited for ease of reading:</p>\n\n<p>Looking to write a webpage on my server. The use of the page is this:\nI will be creating USB drives with an auto run script to simply call out to my server with the name of the user who's currently logged into the machine that the drive is plugged into. Here's the predicament: I don't know how to code the webpage to display the data it receives from the scripts sending the usernames. Any assistance is appreciated, I'll include what I'm envisioning the webpage to look like below. \n<code>\nCallback Users:\n</code>\n<code>username 1\n</code>\n<code>username 2</code></p>\n"}, {"tags": ["javascript", "node.js"], "comments": [{"owner": {"reputation": 5444, "user_id": 2618653, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/59HNR.png?s=128&g=1", "display_name": "Craicerjack", "link": "https://stackoverflow.com/users/2618653/craicerjack"}, "edited": false, "score": 0, "creation_date": 1482357632, "post_id": 41272544, "comment_id": 69746667, "body": "have you looked at the breaking changes in node between versions? <a href=\"https://github.com/nodejs/node/wiki/Breaking-changes-between-v5-and-v6\" rel=\"nofollow noreferrer\">github.com/nodejs/node/wiki/Breaking-changes-between-v5-and-&zwnj;&#8203;v6</a>"}, {"owner": {"reputation": 92373, "user_id": 2050455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b1255d2cb06adc4d0b48adf1d90e847?s=128&d=identicon&r=PG", "display_name": "mscdex", "link": "https://stackoverflow.com/users/2050455/mscdex"}, "edited": false, "score": 0, "creation_date": 1482357656, "post_id": 41272544, "comment_id": 69746679, "body": "Are you using the latest version of socket.io?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 7327739, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YrUFsAQ6N90/AAAAAAAAAAI/AAAAAAAAABY/C4P8jZREKsM/photo.jpg?sz=128", "display_name": "Diaconu Florin", "link": "https://stackoverflow.com/users/7327739/diaconu-florin"}, "edited": false, "score": 0, "creation_date": 1482361978, "post_id": 41272666, "comment_id": 69748408, "body": "Yes it was a strange situation with some old versions, i have updated npm and socket.io and now everything seems to work just fine."}], "tags": [], "owner": {"reputation": 92373, "user_id": 2050455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b1255d2cb06adc4d0b48adf1d90e847?s=128&d=identicon&r=PG", "display_name": "mscdex", "link": "https://stackoverflow.com/users/2050455/mscdex"}, "is_accepted": true, "score": 1, "last_activity_date": 1482357774, "creation_date": 1482357774, "answer_id": 41272666, "question_id": 41272544, "link": "https://stackoverflow.com/questions/41272544/node-js-not-working-after-update/41272666#41272666", "title": "Node js not working after update", "body": "<p>It sounds like you have an older version of <code>socket.io</code> installed. By upgrading to the latest version, that should update <code>engine.io</code> which will update <code>ws</code> which will update its <code>ultron</code> dependency to 1.0.2, where <a href=\"https://github.com/unshiftio/ultron/issues/9\" rel=\"nofollow noreferrer\">the issue</a> is fixed.</p>\n"}], "owner": {"reputation": 3, "user_id": 7327739, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YrUFsAQ6N90/AAAAAAAAAAI/AAAAAAAAABY/C4P8jZREKsM/photo.jpg?sz=128", "display_name": "Diaconu Florin", "link": "https://stackoverflow.com/users/7327739/diaconu-florin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 306, "favorite_count": 0, "accepted_answer_id": 41272666, "answer_count": 1, "score": 0, "last_activity_date": 1482365347, "creation_date": 1482357268, "last_edit_date": 1482365347, "question_id": 41272544, "link": "https://stackoverflow.com/questions/41272544/node-js-not-working-after-update", "title": "Node js not working after update", "body": "<p>After I updated to 6.9.2 from 4.4.0, my node.js file is crashing on client disconnect with something like:</p>\n\n<pre><code>this.ee._events.hasOwnProperty undefined at ultron\\index.js:80 at process._tickCallback (internal/process/next_tick.js:98:9)\n</code></pre>\n\n<p>If I rollback to 4.4.0, it works correctly again. I am running this from nodemon server on Windows OS.</p>\n\n<pre><code>var server = require('http').createServer();\nvar io = require('socket.io')(server);\nvar http = require('http');\nvar querystring = require('qs');    \n\nio.on('connection', function(client){\n    var host = client.request.headers.host.split(':');\n    client.host = host[0];\n    console.log('new connection');\n\n    client.on('call', function(socketData){\n        if(socketData == \"undefined\" || !socketData.controller) {\n            return;\n        }\n\n        var path = stripHostFromPath(client.host, socketData.controller);\n\n        requestData(client.host, path, client.request.headers.cookie, 'GET', \n                     function (body) {\n            var controllerSlices = socketData.controller.split('/');\n            var controller = controllerSlices[controllerSlices.length -1].replace('?', \"\");\n            var controllerObj = querystring.parse(controller);\n            var data = IsJsonString(body);//return json if true\n\n            if (controllerObj &amp;&amp; controllerObj.f == 'updateUser') {\n                if (data != false) {\n                    client.user_id = data.userId;\n                    io.sockets.sockets['user_id'] = client.user_id;\n                }\n            }\n\n            if (data != false) {\n                if (data.broadcast) {\n                    for (var i=0;i&lt;data.broadcast.length;i++) {\n                        //check if the user is connected\n                        for (var k=0;k&lt;io.sockets.sockets.length;k++) {\n                            if (io.sockets.sockets[k]['user_id'] == data.broadcast[i]) {\n                                io.sockets.sockets[k].emit(data.broadcastEvent, data.broadcastData);\n                            }\n                        }\n                    }\n                }\n            }\n        });\n    });\n\n    client.on('disconnect', function(){\n        console.log('client disconected');\n    });\n});\n\nconsole.log('server listed on port 3000');\nserver.listen(3000);\n\nfunction requestData(host, path, cookie, method, callbacks, postData) {\n    if (!method) method = 'POST';\n    if (!cookie) cookie = '';\n\n    var options = {\n        host: host,\n        port: '80',\n        path: path,\n        method: method,\n        headers: {\n            'Content-Type': 'application/x-www-form-urlencoded',\n            'Cookie': cookie\n        }\n    };\n\n    if (postData) {\n        postData = querystring.stringify( JSON.parse(postData) );\n        options.headers['Content-Length'] = Buffer.byteLength(postData);\n    }\n\n    try {\n        var req = http.request(options, function (res) {\n            // response is here\n            //console.log(res.statusCode);\n            //check if request was ok.\n            var body = '';\n\n            res.setEncoding('utf8');\n            res.on('data', function (chunk) {\n                body += chunk;\n            });\n            res.on('end', function () {\n                callbacks(body);\n            });\n            res.on('error', function(e){\n                console.log(e);\n            });\n        });\n\n        if (postData) {\n            req.write(postData);\n        }\n        req.end();\n    }\n    catch(e) {\n        console.log('requestData error:');\n        console.log(e);\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html", "css", "semantic-ui"], "comments": [{"owner": {"reputation": 1766, "user_id": 5630288, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/jXsYc.jpg?s=128&g=1", "display_name": "Teuta Koraqi", "link": "https://stackoverflow.com/users/5630288/teuta-koraqi"}, "edited": false, "score": 0, "creation_date": 1482357370, "post_id": 41272492, "comment_id": 69746535, "body": "Take a look at this JQuery Plugin, it is very easy to use and customize: <a href=\"https://silviomoreto.github.io/bootstrap-select/\" rel=\"nofollow noreferrer\">silviomoreto.github.io/bootstrap-select</a>"}, {"owner": {"reputation": 65, "user_id": 7148646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2e025428cba6c4fca026e562c183b7c?s=128&d=identicon&r=PG&f=1", "display_name": "Thinh Cao", "link": "https://stackoverflow.com/users/7148646/thinh-cao"}, "reply_to_user": {"reputation": 1766, "user_id": 5630288, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/jXsYc.jpg?s=128&g=1", "display_name": "Teuta Koraqi", "link": "https://stackoverflow.com/users/5630288/teuta-koraqi"}, "edited": false, "score": 0, "creation_date": 1482359075, "post_id": 41272492, "comment_id": 69747293, "body": "Thank you so much for the reply. I do want to know why my code wasn&#39;t working though. Also, I am using Semantic UI for the whole application so I would like to keep it consistent. Thank you again!"}, {"owner": {"reputation": 1766, "user_id": 5630288, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/jXsYc.jpg?s=128&g=1", "display_name": "Teuta Koraqi", "link": "https://stackoverflow.com/users/5630288/teuta-koraqi"}, "edited": false, "score": 0, "creation_date": 1482359283, "post_id": 41272492, "comment_id": 69747384, "body": "You should provide a fiddle or a snippet, in that way we could see the functionality of your code. In this way, I could see what is not working with your code."}, {"owner": {"reputation": 1766, "user_id": 5630288, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/jXsYc.jpg?s=128&g=1", "display_name": "Teuta Koraqi", "link": "https://stackoverflow.com/users/5630288/teuta-koraqi"}, "edited": false, "score": 0, "creation_date": 1482359423, "post_id": 41272492, "comment_id": 69747454, "body": "As for informing you, value attribute is not valid on div element! You could use data-value=&quot;&quot; instead."}, {"owner": {"reputation": 1766, "user_id": 5630288, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/jXsYc.jpg?s=128&g=1", "display_name": "Teuta Koraqi", "link": "https://stackoverflow.com/users/5630288/teuta-koraqi"}, "edited": false, "score": 0, "creation_date": 1482361230, "post_id": 41272492, "comment_id": 69748150, "body": "I read some documentation in Semantic Ui, there is a callback &quot;onChange(value, text, $choice)&quot;, this takes as a parameter the value of a selected element. Hope this helps!"}, {"owner": {"reputation": 65, "user_id": 7148646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2e025428cba6c4fca026e562c183b7c?s=128&d=identicon&r=PG&f=1", "display_name": "Thinh Cao", "link": "https://stackoverflow.com/users/7148646/thinh-cao"}, "reply_to_user": {"reputation": 1766, "user_id": 5630288, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/jXsYc.jpg?s=128&g=1", "display_name": "Teuta Koraqi", "link": "https://stackoverflow.com/users/5630288/teuta-koraqi"}, "edited": false, "score": 0, "creation_date": 1482412123, "post_id": 41272492, "comment_id": 69769395, "body": "Thank you for the replies! I have added the jsfiddle"}, {"owner": {"reputation": 1766, "user_id": 5630288, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/jXsYc.jpg?s=128&g=1", "display_name": "Teuta Koraqi", "link": "https://stackoverflow.com/users/5630288/teuta-koraqi"}, "edited": false, "score": 0, "creation_date": 1482412632, "post_id": 41272492, "comment_id": 69769725, "body": "Look at this fiddle: <a href=\"https://jsfiddle.net/7hw9txns/9/\" rel=\"nofollow noreferrer\">jsfiddle.net/7hw9txns/9</a>"}, {"owner": {"reputation": 65, "user_id": 7148646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2e025428cba6c4fca026e562c183b7c?s=128&d=identicon&r=PG&f=1", "display_name": "Thinh Cao", "link": "https://stackoverflow.com/users/7148646/thinh-cao"}, "reply_to_user": {"reputation": 1766, "user_id": 5630288, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/jXsYc.jpg?s=128&g=1", "display_name": "Teuta Koraqi", "link": "https://stackoverflow.com/users/5630288/teuta-koraqi"}, "edited": false, "score": 0, "creation_date": 1482417137, "post_id": 41272492, "comment_id": 69772701, "body": "Thank you so much @TeutaKoraqi"}, {"owner": {"reputation": 1766, "user_id": 5630288, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/jXsYc.jpg?s=128&g=1", "display_name": "Teuta Koraqi", "link": "https://stackoverflow.com/users/5630288/teuta-koraqi"}, "edited": false, "score": 0, "creation_date": 1482417306, "post_id": 41272492, "comment_id": 69772824, "body": "U are welcome! :)"}, {"owner": {"reputation": 65, "user_id": 7148646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2e025428cba6c4fca026e562c183b7c?s=128&d=identicon&r=PG&f=1", "display_name": "Thinh Cao", "link": "https://stackoverflow.com/users/7148646/thinh-cao"}, "reply_to_user": {"reputation": 1766, "user_id": 5630288, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/jXsYc.jpg?s=128&g=1", "display_name": "Teuta Koraqi", "link": "https://stackoverflow.com/users/5630288/teuta-koraqi"}, "edited": false, "score": 0, "creation_date": 1482424704, "post_id": 41272492, "comment_id": 69777919, "body": "@TeutaKoraqi but do you know why the method I used was not working though ? It is from the official Semantic document guide"}], "answers": [{"tags": [], "owner": {"reputation": 1766, "user_id": 5630288, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/jXsYc.jpg?s=128&g=1", "display_name": "Teuta Koraqi", "link": "https://stackoverflow.com/users/5630288/teuta-koraqi"}, "is_accepted": true, "score": 2, "last_activity_date": 1482432655, "creation_date": 1482432655, "answer_id": 41289897, "question_id": 41272492, "link": "https://stackoverflow.com/questions/41272492/getting-selected-option-to-display-with-semantic-ui-dropdown-menu/41289897#41289897", "title": "Getting selected option to display with Semantic UI dropdown menu", "body": "<p>I realized that your code was ok, but it was not working, because you did not call that behavior on your <code>dropdown</code> id, but you called in a general name (<code>ui.dropdown</code>). <br>\nI read in that <code>plugin</code> that:</p>\n\n<p><code>Get value</code>(<strong>behavior</strong>) - Returns current dropdown input value <br>\n <em>In this case, it only returns two letters of the selected option.</em></p>\n\n<p><code>Get text</code> (<strong>behavior</strong>) - Returns current dropdown text <br>\n  <em>In this case, it returns the whole selected text to each item on <code>dropdown</code></em>.</p>\n\n<p>Finally, here is the fiddle I changed: <a href=\"https://jsfiddle.net/7hw9txns/12/\" rel=\"nofollow noreferrer\">fiddle link</a></p>\n\n<p>Hope I've been clear!</p>\n"}], "owner": {"reputation": 65, "user_id": 7148646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2e025428cba6c4fca026e562c183b7c?s=128&d=identicon&r=PG&f=1", "display_name": "Thinh Cao", "link": "https://stackoverflow.com/users/7148646/thinh-cao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5384, "favorite_count": 2, "accepted_answer_id": 41289897, "answer_count": 1, "score": 1, "last_activity_date": 1482432655, "creation_date": 1482357088, "last_edit_date": 1482412809, "question_id": 41272492, "link": "https://stackoverflow.com/questions/41272492/getting-selected-option-to-display-with-semantic-ui-dropdown-menu", "title": "Getting selected option to display with Semantic UI dropdown menu", "body": "<p>I am having some problems with Semantic UI dropdown menus: </p>\n\n<ol>\n<li><p>I cannot seem to get jquery to work on it. I tried to add the class named \"tagline\" to it, which will trigger an alert when it is clicked, but it does not work. The class \"tagline\" when added to other elements, however, works just fine</p></li>\n<li><p>I cannot get the selected value from the menu option to be displayed. When I tried: <code>$('#idDropDown').dropdown('get value'));</code>, it gives me the result \"object Object\". Here is the code:</p></li>\n</ol>\n\n<p>show.ejs:</p>\n\n<pre><code>&lt;% include ../partials/header %&gt;\n&lt;div class = \"container-fluid text-center\" style = \"margin-top: 100px;\"&gt;\n    &lt;h1 class = \"student-title\"&gt;Student's homepage&lt;/h1&gt;\n&lt;/div&gt;\n\n&lt;!-- Testing --&gt;\n&lt;div class = \"container text-center student-list\"&gt;\n    &lt;div id = \"dropdownMenu\" class=\"ui fluid search selection dropdown\"&gt;\n        &lt;input type=\"hidden\" name=\"student\"&gt;\n        &lt;i class=\"dropdown icon\"&gt;&lt;/i&gt;\n        &lt;div class=\"default text\"&gt;Select a student&lt;/div&gt;\n        &lt;div class=\"menu\"&gt;\n            &lt;% students.forEach(function(student) { %&gt;\n                &lt;div class = \"item\" value = \"&lt;%=student._id%&gt;\" &gt;\n                    &lt;%= student.name.first %&gt; &lt;%= student.name.last %&gt;\n                &lt;/div&gt;\n            &lt;% }); %&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt; \n&lt;!-- End of div--&gt;\n\n\n&lt;% include ../partials/footer %&gt;\n</code></pre>\n\n<p>main.js</p>\n\n<pre><code>/* global $ */\n\n$(document).ready(function(){\n    $('.ui.dropdown').dropdown();\n});\n\n$(\".tagline\").on(\"click\", function() {\n    getValue();\n    // console.log(test);\n});\n\n$('.message .close').on('click', function() {\n  $(this).closest('.message').fadeOut();\n});\n\n\n\nfunction getValue(){\n    alert($('ui.dropdown').dropdown('get value'));\n}\n</code></pre>\n\n<p>I am using Semantic UI for the first time since it is a lot more customizable and has a lot more components (I think). Any help would be greatly appreciated. Thank you so much!</p>\n\n<p>EDIT: </p>\n\n<ol>\n<li>Here is the jsfiddle:</li>\n</ol>\n\n<p><a href=\"https://jsfiddle.net/7hw9txns/1/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/7hw9txns/1/</a></p>\n\n<ol start=\"2\">\n<li>Regarding my question 1, jQuery is working just fine here, but it isn't working in my application in Cloud9 IDE (jQuery works with any other components in any page of my application, just not this specific page and dropdown menu)</li>\n</ol>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 1124, "user_id": 2110100, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/gJLSV.jpg?s=128&g=1", "display_name": "Four_lo", "link": "https://stackoverflow.com/users/2110100/four-lo"}, "edited": false, "score": 0, "creation_date": 1482380047, "post_id": 41272443, "comment_id": 69752783, "body": "The chart needs to be redrawn after the class is switched"}], "answers": [{"tags": [], "owner": {"reputation": 67, "user_id": 7116818, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/h8Jkr.gif?s=128&g=1", "display_name": "Tripy", "link": "https://stackoverflow.com/users/7116818/tripy"}, "is_accepted": false, "score": 0, "last_activity_date": 1482391339, "creation_date": 1482391339, "answer_id": 41277731, "question_id": 41272443, "link": "https://stackoverflow.com/questions/41272443/js-chart-width-changed-after-drop-down-selection/41277731#41277731", "title": "JS: Chart width changed after Drop Down Selection", "body": "<p>Thanks a lot, that work for me.</p>\n\n<p>Here is modified part of code.</p>\n\n<pre><code>    document\n            .getElementById('target')\n            .addEventListener('change', function () {\n                    'use strict';\n                    var vis = document.querySelector('.vis'),\n                            target = document.getElementById(this.value);\n                    if (vis !== null) {\n                            vis.className = 'inv';\n                    }\n                    if (target !== null ) {\n                            target.className = 'vis';\n                                    drawChart();\n                                    drawChart1();\n                                    drawChart2();\n                    }\n            });\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 7116818, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/h8Jkr.gif?s=128&g=1", "display_name": "Tripy", "link": "https://stackoverflow.com/users/7116818/tripy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482391339, "creation_date": 1482356854, "last_edit_date": 1482391251, "question_id": 41272443, "link": "https://stackoverflow.com/questions/41272443/js-chart-width-changed-after-drop-down-selection", "title": "JS: Chart width changed after Drop Down Selection", "body": "<p>I added DropDown Selection option to select between different chart datasets (for same graph type) and selection menu it is working properly, however chart width somehow shrink at selection of options that are by default \"invisible\".</p>\n\n<p>I'm struggling to find an error with no success in following code.</p>\n\n<p>HTML:</p>\n\n<pre><code> &lt;select id=\"target\"&gt;\n            &lt;option value=\"sankey_1\"&gt;Option 1&lt;/option&gt;\n            &lt;option value=\"sankey_2\"&gt;Option 2&lt;/option&gt;\n            &lt;option value=\"sankey_3\"&gt;Option 3&lt;/option&gt;\n        &lt;/select&gt;\n\n        &lt;div id=\"sankey_1\"; class=\"vis\"&gt;&lt;/div&gt;\n        &lt;div id=\"sankey_2\"; class=\"inv\"&gt;&lt;/div&gt;\n        &lt;div id=\"sankey_3\"; class=\"inv\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>CSS:</p>\n\n<pre><code>.inv {\n  display: none;\n}\n.vis {\n  width: 100%;\n  height: 500px;\n}\n</code></pre>\n\n<p>JavaScript:</p>\n\n<pre><code>google.charts.load('current', {'packages':['sankey']});\n      google.charts.setOnLoadCallback(drawChart);\n\n      function drawChart() {\n        var data = new google.visualization.DataTable();\n        data.addColumn('string', 'From');\n        data.addColumn('string', 'To');\n        data.addColumn('number', 'Weight');\n        data.addRows([\n          [ 'A', 'X', 5 ],\n          [ 'A', 'Y', 7 ],\n          [ 'A', 'Z', 6 ],\n          [ 'B', 'X', 2 ],\n          [ 'B', 'Y', 9 ],\n          [ 'B', 'Z', 4 ]\n        ]);\n\n\n        // Instantiates and draws our chart, passing in some options.\n        var chart = new google.visualization.Sankey(document.getElementById('sankey_1'));\n        chart.draw(data);\n      }\n\n      google.charts.load('current', {'packages':['sankey']});\n      google.charts.setOnLoadCallback(drawChart1);\n\n      function drawChart1() {\n        var data = new google.visualization.DataTable();\n        data.addColumn('string', 'From');\n        data.addColumn('string', 'To');\n        data.addColumn('number', 'Weight');\n        data.addRows([\n          [ 'A', 'X', 5 ],\n          [ 'A', 'Y', 7 ],\n          [ 'A', 'Z', 6 ],\n          [ 'B', 'X', 2 ],\n          [ 'B', 'Y', 9 ],\n          [ 'B', 'Z', 4 ]\n        ]);\n\n\n        // Instantiates and draws our chart, passing in some options.\n        var chart = new google.visualization.Sankey(document.getElementById('sankey_2'));\n        chart.draw(data);\n      }\n\n      google.charts.load('current', {'packages':['sankey']});\n      google.charts.setOnLoadCallback(drawChart2);\n\n      function drawChart2() {\n        var data = new google.visualization.DataTable();\n        data.addColumn('string', 'From');\n        data.addColumn('string', 'To');\n        data.addColumn('number', 'Weight');\n        data.addRows([\n          [ 'A', 'X', 5 ],\n          [ 'A', 'Y', 7 ],\n          [ 'A', 'Z', 6 ],\n          [ 'B', 'X', 2 ],\n          [ 'B', 'Y', 9 ],\n          [ 'B', 'Z', 4 ]\n        ]);\n\n\n        // Instantiates and draws our chart, passing in some options.\n        var chart = new google.visualization.Sankey(document.getElementById('sankey_3'));\n        chart.draw(data);\n      }\n\n\n      $(window).resize(function(){\n        drawChart();\n        drawChart1();\n        drawChart2();\n\n      });\n\n              document\n                .getElementById('target')\n                .addEventListener('change', function () {\n                        'use strict';\n                        var vis = document.querySelector('.vis'),\n                                target = document.getElementById(this.value);\n                        if (vis !== null) {\n                                vis.className = 'inv';\n                        }\n                        if (target !== null ) {\n                                target.className = 'vis';\n                        }\n                });\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "sum"], "comments": [{"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1482357045, "post_id": 41272425, "comment_id": 69746389, "body": "You don&#39;t have an <code>arrayList</code> (they don&#39;t exist in JavaScript), That&#39;s simply a bunch of unrelated object literals."}, {"owner": {"reputation": 13, "user_id": 3213081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fbb251d41a4c2a9f00aea6a0e807dd?s=128&d=identicon&r=PG&f=1", "display_name": "user3213081", "link": "https://stackoverflow.com/users/3213081/user3213081"}, "reply_to_user": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1482357093, "post_id": 41272425, "comment_id": 69746403, "body": "aaah I see! thank you."}, {"owner": {"reputation": 13, "user_id": 3213081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fbb251d41a4c2a9f00aea6a0e807dd?s=128&d=identicon&r=PG&f=1", "display_name": "user3213081", "link": "https://stackoverflow.com/users/3213081/user3213081"}, "reply_to_user": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1482357132, "post_id": 41272425, "comment_id": 69746427, "body": "Would you be able to advise how I could construct the second array that holds the sums?"}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1482357185, "post_id": 41272425, "comment_id": 69746452, "body": "I&#39;m working on it, but it wouldn&#39;t be the <i>second</i> array as you don&#39;t have <i>any</i> arrays so far. Again, you have <i>objects</i>, which are not <i>arrays</i>."}], "answers": [{"tags": [], "owner": {"reputation": 25823, "user_id": 24468, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PWl6C.png?s=128&g=1", "display_name": "akuhn", "link": "https://stackoverflow.com/users/24468/akuhn"}, "is_accepted": false, "score": 0, "last_activity_date": 1482357486, "last_edit_date": 1482357486, "creation_date": 1482357145, "answer_id": 41272506, "question_id": 41272425, "link": "https://stackoverflow.com/questions/41272425/aggregate-property-value-of-corresponding-objects/41272506#41272506", "title": "Aggregate Property Value of Corresponding Objects", "body": "<p>Create an <code>{}</code> for the results, where the keys are the subject names and the values are the sums. Then enumerate over your list and sum them up. Use <code>(res[each['subj']] || 0)</code> to catch the case of new keys.</p>\n\n<pre><code>var res = {};\nlist.forEach(function(each) { \n  res[each['subj']] = (res[each['subj']] || 0) + each['resp']; \n});\nconsole.log(res);\n</code></pre>\n\n<p>This prints</p>\n\n<pre><code>{\n  \"1481645153775\": 0,\n  \"1481645035859\": 0,\n  \"1481645377779\": 0,\n  \"1481654705832\": -2,\n  \"1481667464470\": 2\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": true, "score": 0, "last_activity_date": 1482357765, "last_edit_date": 1482357765, "creation_date": 1482357280, "answer_id": 41272547, "question_id": 41272425, "link": "https://stackoverflow.com/questions/41272425/aggregate-property-value-of-corresponding-objects/41272547#41272547", "title": "Aggregate Property Value of Corresponding Objects", "body": "<p>You could use a hash table for grouping the result.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var results = [{ id: 136073, date: \"2016-12-13 16:06:55\", user: \"test1\", expt: \"ex3\", subj: \"1481645153775\", cond: \"Male,Yes\", stim: \"Peace\", resp: 0 }, { id: 136075, date: \"2016-12-13 16:07:04\", user: \"test1\", expt: \"ex3\", subj: \"1481645035859\", cond: \"Male,Yes\", stim: \"Marriage\", resp: 0 }, { id: 136077, date: \"2016-12-13 16:09:55\", user: \"test1\", expt: \"ex3\", subj: \"1481645377779\", cond: \"Male,Yes\", stim: \"Alone\", resp: 0 }, { id: 136079, date: \"2016-12-13 16:11:41\", user: \"test1\", expt: \"ex3\", subj: \"1481645377779\", cond: \"Male,Yes\", stim: \"Peace\", resp: 0 }, { id: 136145, date: \"2016-12-13 18:49:22\", user: \"test1\", expt: \"ex3\", subj: \"1481654705832\", cond: \"Male,No\", stim: \"Alone\", resp: -2 }, { id: 136147, date: \"2016-12-13 18:49:36\", user: \"test1\", expt: \"ex3\", subj: \"1481654705832\", cond: \"Male,No\", stim: \"Peace\", resp: 0 }, { id: 136771, date: \"2016-12-13 22:19:01\", user: \"test1\", expt: \"ex3\", subj: \"1481667464470\", cond: \"Male,Yes\", stim: \"Alone\", resp: 2 }],\r\n    grouped = [];\r\n\r\nresults.forEach(function (a) {\r\n    if (!this[a.subj]) {\r\n        this[a.subj] = { subj: a.subj, resp: 0 };\r\n        grouped.push(this[a.subj]);\r\n    }\r\n    this[a.subj].resp += a.resp;\r\n}, Object.create(null));\r\n\r\nconsole.log(grouped);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 13, "user_id": 3213081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fbb251d41a4c2a9f00aea6a0e807dd?s=128&d=identicon&r=PG&f=1", "display_name": "user3213081", "link": "https://stackoverflow.com/users/3213081/user3213081"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 41272547, "answer_count": 2, "score": 1, "last_activity_date": 1482357765, "creation_date": 1482356787, "last_edit_date": 1482357690, "question_id": 41272425, "link": "https://stackoverflow.com/questions/41272425/aggregate-property-value-of-corresponding-objects", "title": "Aggregate Property Value of Corresponding Objects", "body": "<p>I have an a set of objects as follows:</p>\n\n<pre><code>{\"id\":136073,\"date\":\"2016-12-13 16:06:55\",\"user\":\"test1\",\"expt\":\"ex3\",\"subj\":\"1481645153775\",\"cond\":\"Male,Yes\",\"stim\":\"Peace\",\"resp\":0}\n{\"id\":136075,\"date\":\"2016-12-13 16:07:04\",\"user\":\"test1\",\"expt\":\"ex3\",\"subj\":\"1481645035859\",\"cond\":\"Male,Yes\",\"stim\":\"Marriage\",\"resp\":0}\n{\"id\":136077,\"date\":\"2016-12-13 16:09:55\",\"user\":\"test1\",\"expt\":\"ex3\",\"subj\":\"1481645377779\",\"cond\":\"Male,Yes\",\"stim\":\"Alone\",\"resp\":0}\n{\"id\":136079,\"date\":\"2016-12-13 16:11:41\",\"user\":\"test1\",\"expt\":\"ex3\",\"subj\":\"1481645377779\",\"cond\":\"Male,Yes\",\"stim\":\"Peace\",\"resp\":0}\n{\"id\":136145,\"date\":\"2016-12-13 18:49:22\",\"user\":\"test1\",\"expt\":\"ex3\",\"subj\":\"1481654705832\",\"cond\":\"Male,No\",\"stim\":\"Alone\",\"resp\":-2}\n{\"id\":136147,\"date\":\"2016-12-13 18:49:36\",\"user\":\"test1\",\"expt\":\"ex3\",\"subj\":\"1481654705832\",\"cond\":\"Male,No\",\"stim\":\"Peace\",\"resp\":0}\n{\"id\":136771,\"date\":\"2016-12-13 22:19:01\",\"user\":\"test1\",\"expt\":\"ex3\",\"subj\":\"1481667464470\",\"cond\":\"Male,Yes\",\"stim\":\"Alone\",\"resp\":2}\n</code></pre>\n\n<p>I would like to group them into an array called <code>results</code>.</p>\n\n<p>I want to aggregate the value of the <code>resp</code> property for objects with the same <code>subj</code> property value.</p>\n\n<p>What I have doe so far is to create a unique list of subjects to look up and I want to store the sums next to them.</p>\n\n<pre><code>for (var i=0;i&lt;results.length;i++) {\n\n  // console.log(JSON.stringify(results[i].subj))\n\n  if (i&gt;0 &amp;&amp; test.includes(results[i].subj)){ \n\n  } else {  \n    var total  = test.push(results[i].subj)\n    //  var total2  = test.push(results.resp)\n    // console.log(JSON.stringify(test))\n  }\n}\n\nconsole.log(test) \n</code></pre>\n\n<p>I have my array of subjects through this.</p>\n\n<p>How do I go about </p>\n\n<p>1- finding all the corresponding resp's</p>\n\n<p>2- summing them</p>\n\n<p>3- storing them next to the subject?</p>\n"}, {"tags": ["javascript", "arrays", "algorithm"], "comments": [{"owner": {"reputation": 8395, "user_id": 6567275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e298067d69d9ef222a00222374549af1?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/6567275/thomas"}, "edited": false, "score": 3, "creation_date": 1482356903, "post_id": 41272407, "comment_id": 69746308, "body": "<code>var uniqueNames = fruits.filter((value,index,array) =&gt; !index || value !== array[index-1]);</code>"}, {"owner": {"reputation": 19602, "user_id": 1291428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/85d9cc8609ffd73e99a31a1120ccfdaa?s=128&d=identicon&r=PG", "display_name": "Sebas", "link": "https://stackoverflow.com/users/1291428/sebas"}, "reply_to_user": {"reputation": 8395, "user_id": 6567275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e298067d69d9ef222a00222374549af1?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/6567275/thomas"}, "edited": false, "score": 0, "creation_date": 1482357210, "post_id": 41272407, "comment_id": 69746467, "body": "@Thomas, this is a correct answer"}, {"owner": {"reputation": 13, "user_id": 7326923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/758e5cbcdc09cb43ccc396abf96b78ae?s=128&d=identicon&r=PG&f=1", "display_name": "pawndev", "link": "https://stackoverflow.com/users/7326923/pawndev"}, "edited": false, "score": 0, "creation_date": 1482357313, "post_id": 41272407, "comment_id": 69746510, "body": "My gosh, it works. You&#39;ve saved me an headache. Thank you so much !"}], "answers": [{"tags": [], "owner": {"reputation": 18798, "user_id": 4543207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ed6f11c827fa7cef811f141a84cc14b?s=128&d=identicon&r=PG&f=1", "display_name": "Redu", "link": "https://stackoverflow.com/users/4543207/redu"}, "is_accepted": false, "score": 0, "last_activity_date": 1482357298, "creation_date": 1482357298, "answer_id": 41272550, "question_id": 41272407, "link": "https://stackoverflow.com/questions/41272407/merging-nearby-duplicate-values-only-in-an-array-with-javascript/41272550#41272550", "title": "Merging nearby duplicate values only in an array with javascript", "body": "<p>I guess you may do as follows with pure JS</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var arrs = [[\"foo\"],[\"foo\"],[\"bar\"],[\"bar\"],[\"bar\"],[\"foo\"],[\"somethingelse\"]],\r\n  result = arrs.reduce((p,c,i,a) =&gt; i ? c[0] !== a[i-1][0] ? (p.push(c),p) : p\r\n                                      : (p.push(c),p),[]);\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 44162, "user_id": 752843, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dfab97c10311207545414b6d7d9bde93?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/752843/richard"}, "is_accepted": true, "score": 0, "last_activity_date": 1482357416, "creation_date": 1482357416, "answer_id": 41272580, "question_id": 41272407, "link": "https://stackoverflow.com/questions/41272407/merging-nearby-duplicate-values-only-in-an-array-with-javascript/41272580#41272580", "title": "Merging nearby duplicate values only in an array with javascript", "body": "<p>You can do this with straight-forward, pure JS in <code>O(N)</code> as follows:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var RemoveDuplicates = function(arr){\r\n  if(arr.length&lt;2)               //Array is too short to have duplicates\r\n    return arr\r\n  var ret = [arr[0]]             //First item cannot be a duplicate\r\n  for(var i=1;i&lt;arr.length;i++){ //Loop over all other items\r\n    if(arr[i-1]!=arr[i])         //If previous item is the same, ignore this item\r\n      ret.push(arr[i]);          //Previous item was different, so keep current\r\n  }\r\n  return ret;\r\n}\r\n\r\narr = [\"foo\",\"foo\",\"bar\",\"bar\",\"bar\",\"foo\",\"somethingelse\"]\r\narr = RemoveDuplicates(arr)\r\nconsole.log(arr)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 13, "user_id": 7326923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/758e5cbcdc09cb43ccc396abf96b78ae?s=128&d=identicon&r=PG&f=1", "display_name": "pawndev", "link": "https://stackoverflow.com/users/7326923/pawndev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 1, "accepted_answer_id": 41272580, "answer_count": 2, "score": 1, "last_activity_date": 1482359342, "creation_date": 1482356730, "last_edit_date": 1482359342, "question_id": 41272407, "link": "https://stackoverflow.com/questions/41272407/merging-nearby-duplicate-values-only-in-an-array-with-javascript", "title": "Merging nearby duplicate values only in an array with javascript", "body": "<p>I have an array which is generated from <code>$('.player').each(function()</code> which looks like this :  </p>\n\n<pre><code>[\"foo\"]\n[\"foo\"]\n[\"bar\"]\n[\"bar\"]\n[\"bar\"]\n[\"foo\"]\n[\"somethingelse\"]\n</code></pre>\n\n<p>I'd want this array to merge the nearby values only (the first two <code>foo</code>s but not the last one since there are no <code>foo</code>s above and below its index): </p>\n\n<pre><code>[\"foo\"]\n[\"bar\"]\n[\"foo\"]\n[\"somethingelse\"]\n</code></pre>\n\n<p>Can anyone point me to the right direction on how to merge duplicate values (if near the same value) within an array?</p>\n\n<p>So far, the only thing I have is this, but sadly it merges values no matter what indexes they are at.</p>\n\n<pre><code>var uniqueNames = [];\n$.each(fruits, function(i, el){\n    if($.inArray(el, uniqueNames) === -1) uniqueNames.push(el);\n});\nconsole.log(uniqueNames);\n</code></pre>\n\n<p>EDIT : \nThank you your codes work flawlessly. Just for my knowledge, what if I wanted the two foos to be merged and renamed (as foo2) ?</p>\n"}, {"tags": ["javascript", "typescript", "ecmascript-6"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 2, "creation_date": 1482356642, "post_id": 41272375, "comment_id": 69746213, "body": "Can&#39;t you just pass a <code>new AssignedTestType</code> instance as the first argument?"}, {"owner": {"reputation": 14296, "user_id": 2539720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V6F3N.jpg?s=128&g=1", "display_name": "putvande", "link": "https://stackoverflow.com/users/2539720/putvande"}, "edited": false, "score": 1, "creation_date": 1482356931, "post_id": 41272375, "comment_id": 69746321, "body": "Lodash <code>cloneDeep</code>?"}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1482357009, "post_id": 41272375, "comment_id": 69746364, "body": "It can&#39;t copy what&#39;s not there. Type assertion affects type checking only, it does not add any actual properties to <code>{}</code> - <code>{} as AssignedTestType</code> is still an empty object at runtime. You have to provide something that implements all the methods you want to start with."}, {"owner": {"reputation": 9977, "user_id": 401643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89503845649598e0ea21e8e9d5b5f9ca?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/401643/pascal"}, "edited": false, "score": 0, "creation_date": 1482357172, "post_id": 41272375, "comment_id": 69746443, "body": "No that would be too easy ;-) I have an editable test types table where each tr-tag has a reset/cancel button. Not making a copy and just passing the instance would break the reset/clear button."}, {"owner": {"reputation": 9977, "user_id": 401643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89503845649598e0ea21e8e9d5b5f9ca?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/401643/pascal"}, "reply_to_user": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1482357230, "post_id": 41272375, "comment_id": 69746472, "body": "@artem the newTestType instance has the implementation of both functions."}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1482357360, "post_id": 41272375, "comment_id": 69746530, "body": "Can you provide a reproducible sample of code"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 1, "creation_date": 1482357510, "post_id": 41272375, "comment_id": 69746606, "body": "It&#39;s iteration through prototypes and doing <code>assign</code>. It can also be <code>$.clone</code> or <code>_.cloneDeep</code>. It makes sense to explain why deep clone is required here. As it was already said, some code is desirable."}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 1, "creation_date": 1482357701, "post_id": 41272375, "comment_id": 69746707, "body": "@Pascal Maybe these functions are defined in the class of newTestType, that is, in its prototype? <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\" rel=\"nofollow noreferrer\">The Object.assign() method only copies enumerable and own properties from a source object to a target object</a>. Try <code>Object.create(newTestType) as AssignedTestType</code> then."}, {"owner": {"reputation": 9977, "user_id": 401643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89503845649598e0ea21e8e9d5b5f9ca?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/401643/pascal"}, "reply_to_user": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1482359017, "post_id": 41272375, "comment_id": 69747262, "body": "@artem that seemed to work but now my button reset feature is broken and I must investigate..."}], "answers": [{"comments": [{"owner": {"reputation": 9977, "user_id": 401643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89503845649598e0ea21e8e9d5b5f9ca?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/401643/pascal"}, "edited": false, "score": 0, "creation_date": 1482358526, "post_id": 41272664, "comment_id": 69747077, "body": "Its not about properties. Functions() do not get copied!"}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "reply_to_user": {"reputation": 9977, "user_id": 401643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89503845649598e0ea21e8e9d5b5f9ca?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/401643/pascal"}, "edited": false, "score": 0, "creation_date": 1482359473, "post_id": 41272664, "comment_id": 69747479, "body": "@Pascal There is no difference between &quot;functions&quot; and properties. Functions in JS are first class objects, you simply assign them to a property of an object to create methods."}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "reply_to_user": {"reputation": 9977, "user_id": 401643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89503845649598e0ea21e8e9d5b5f9ca?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/401643/pascal"}, "edited": false, "score": 1, "creation_date": 1482359569, "post_id": 41272664, "comment_id": 69747517, "body": "As I mentioned in my answer, the properties that are not being copied (which you say contain functions), are probably on the prototype of the object, and hence will not ignored by <code>Object.assign</code>."}, {"owner": {"reputation": 9977, "user_id": 401643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89503845649598e0ea21e8e9d5b5f9ca?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/401643/pascal"}, "edited": false, "score": 0, "creation_date": 1482360844, "post_id": 41272664, "comment_id": 69748006, "body": "The properties/functions I look for are directly put in the implementation of the newTestType instance of type AssignedTestType. Thus you mean they should get copied?"}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "reply_to_user": {"reputation": 9977, "user_id": 401643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89503845649598e0ea21e8e9d5b5f9ca?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/401643/pascal"}, "edited": false, "score": 1, "creation_date": 1482361104, "post_id": 41272664, "comment_id": 69748096, "body": "@Pascal You can&#39;t &quot;implement&quot; an instance, you can only instantiate one. Please show your actual code, because otherwise it is impossible to decipher what you are doing. As naomik has demonstrated in his answer, <code>Object.assign</code> works just fine with own properties that are functions."}, {"owner": {"reputation": 9977, "user_id": 401643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89503845649598e0ea21e8e9d5b5f9ca?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/401643/pascal"}, "edited": false, "score": 0, "creation_date": 1482361426, "post_id": 41272664, "comment_id": 69748236, "body": "I have not said that I implement an instance. The instance is the implementation during runtime ;-) I can not put the code here as its too much. it would take days then to comment each line that you understand each feature that not each of your advise would break any of those..."}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "reply_to_user": {"reputation": 9977, "user_id": 401643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89503845649598e0ea21e8e9d5b5f9ca?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/401643/pascal"}, "edited": false, "score": 1, "creation_date": 1482361554, "post_id": 41272664, "comment_id": 69748282, "body": "@Pascal You said, &quot;are directly put in the implementation of the newTestType instance&quot;. As I said earlier, it makes no sense to speak of the implementation of an instance because instances are not something one &quot;implements&quot;. It would be more useful for you to simply provide a reproducible snippet of code instead of fencing with people trying to help you."}], "tags": [], "owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "is_accepted": false, "score": 7, "last_activity_date": 1482357767, "creation_date": 1482357767, "answer_id": 41272664, "question_id": 41272375, "link": "https://stackoverflow.com/questions/41272375/object-assign-does-not-copy-functions/41272664#41272664", "title": "object.assign does not copy functions", "body": "<p>If the properties you're looking to copy are in the prototype of <code>newTestType</code>, they will not be copied, since <code>Object.assign</code> only copies an object instance's <em>own</em> properties. </p>\n\n<p>The alternatives are to either instantiate whatever constructor you used to create <code>newTestType</code>, and assign the resulting instance to <code>this.selected</code>, or to create an empty object and set its prototype to <code>newTestType</code>. In either case, <code>Object.assign</code> is the wrong tool to use here.</p>\n"}, {"comments": [{"owner": {"reputation": 9977, "user_id": 401643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89503845649598e0ea21e8e9d5b5f9ca?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/401643/pascal"}, "edited": false, "score": 3, "creation_date": 1482361553, "post_id": 41272667, "comment_id": 69748281, "body": "Although the answer does not help me, I mark it as solution as it is theoretically correct. Just my code which I can not put on the table here behaves bogus..."}], "tags": [], "owner": {"reputation": 106013, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "is_accepted": true, "score": 8, "last_activity_date": 1482357775, "creation_date": 1482357775, "answer_id": 41272667, "question_id": 41272375, "link": "https://stackoverflow.com/questions/41272375/object-assign-does-not-copy-functions/41272667#41272667", "title": "object.assign does not copy functions", "body": "<blockquote>\n  <p>object.assign does not copy functions</p>\n</blockquote>\n\n<p>That's untrue</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let x = {a: y =&gt; y * 2}\r\nlet z = Object.assign({}, x)\r\nconsole.log(z.a(5)); // 10</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<blockquote>\n  <p>the selected instance does not own that functions which are in the type AssignedTestType.</p>\n</blockquote>\n\n<p>Now this part is true. <code>Object.assign</code> will only do a shallow copy and will only enumerate own props</p>\n"}, {"tags": [], "owner": {"reputation": 45777, "user_id": 38522, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/4LCcx.png?s=128&g=1", "display_name": "Ben Aston", "link": "https://stackoverflow.com/users/38522/ben-aston"}, "is_accepted": false, "score": 1, "last_activity_date": 1482360241, "creation_date": 1482360241, "answer_id": 41273170, "question_id": 41272375, "link": "https://stackoverflow.com/questions/41272375/object-assign-does-not-copy-functions/41273170#41273170", "title": "object.assign does not copy functions", "body": "<p>How much effort you spend on cloning an object will depend on what you want to do.</p>\n\n<p>First port of call should be <a href=\"https://lodash.com/docs/#clone\" rel=\"nofollow noreferrer\"><em>.clone</a> or <a href=\"https://lodash.com/docs/#cloneDeep\" rel=\"nofollow noreferrer\"></em>.cloneDeep</a>.</p>\n\n<p>Also, based on the discussion you might be talking about copying references to functions on the prototype. In that case the solution might be as simple as:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class MyClass { foo() {} }\r\nclass MyOtherClass extends MyClass {}\r\nconsole.log(new MyOtherClass().__proto__.foo); // foo from MyClass</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If you want to see a hacky clone function, this is a (untested) start (but they can get complex quite fast depending on your requirements):</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function clone(o) {\r\n    if(!isObject(o)) {\r\n        throw 'o must be a a non-function object';\r\n    }    \r\n    return (function inner(a, b = {}) {\r\n        Object.keys(a).forEach(k =&gt; {\r\n          isObject(a[k])? b[k] = inner(a[k]) : b[k] = a[k];\r\n        });    \r\n        return b;\r\n    }(o));\r\n}\r\n\r\nfunction isObject(o) {\r\n    return o !== null &amp;&amp; typeof o === 'object'\r\n}\r\n\r\nvar a = {\r\n    foo: 'foo',\r\n    bar: () =&gt; { console.log('bar'); },\r\n    bat: {\r\n        baz: () =&gt; { console.log('baz'); }\r\n    }\r\n};\r\n\r\nconsole.log(clone(a));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 57, "user_id": 3913394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32026277ebe7f08067c8fc3288843bd3?s=128&d=identicon&r=PG&f=1", "display_name": "Farshad Bayat", "link": "https://stackoverflow.com/users/3913394/farshad-bayat"}, "is_accepted": false, "score": 0, "last_activity_date": 1595087709, "last_edit_date": 1595087709, "creation_date": 1595082522, "answer_id": 62969704, "question_id": 41272375, "link": "https://stackoverflow.com/questions/41272375/object-assign-does-not-copy-functions/62969704#62969704", "title": "object.assign does not copy functions", "body": "<p>Fast clone complex object:</p>\n<p><strong>Code</strong></p>\n<pre><code>public static deepClone&lt;T&gt;(obj: any) {\nif ( obj === null || obj === undefined) {\n  return obj;\n} else if ( Array.isArray(obj)) {\n  const array: T[] = [];\n  obj.forEach( item =&gt; array.push( this.deepClone&lt;typeof item&gt;(item) ));\n  return array as T[];\n} else {\n  const c = Object.assign({} as T, obj);\n  const fields: string[] = Object.getOwnPropertyNames(obj);\n  fields.forEach( f =&gt; {\n    const field = obj[f];\n    if ( typeof field === 'object' ) {\n      c[f] = this.deepClone&lt;typeof field&gt;(field);\n    }\n  });\n  return Object.assign({}, obj);\n}\n</code></pre>\n<p>}</p>\n<p><strong>Example:</strong></p>\n<pre><code>const x = {myProp: 'befor change value', c: {a: 1 , b: 2}, d: [1, 2, 3], func: () =&gt; {console.log('befor change function'); }};\nconst y = Object.assign(x);\nconst z = Utils.deepClone&lt;any&gt;(x);\nconsole.log(x, y, z);\nx.c.a = 12;\nx.myProp = 'after change value';\nx.func = () =&gt; console.log('after change function');\nconsole.log(x, y, z);\n</code></pre>\n"}], "owner": {"reputation": 9977, "user_id": 401643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89503845649598e0ea21e8e9d5b5f9ca?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/401643/pascal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9691, "favorite_count": 0, "closed_date": 1603544570, "accepted_answer_id": 41272667, "answer_count": 4, "score": 6, "last_activity_date": 1595087709, "creation_date": 1482356585, "question_id": 41272375, "link": "https://stackoverflow.com/questions/41272375/object-assign-does-not-copy-functions", "closed_reason": "Duplicate", "title": "object.assign does not copy functions", "body": "<p>I have a common typescript class with some functions.</p>\n\n<p>When I do  <code>this.selected = Object.assign({} as AssignedTestType, newTestType);</code></p>\n\n<p>the selected instance does not own that <strong>functions</strong> which are in the <code>type AssignedTestType</code>.</p>\n\n<p>How can I make a 'deep' copy with object.assign? or any alternative method?</p>\n"}, {"tags": ["javascript", "arrays", "string", "match"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1482356455, "post_id": 41272330, "comment_id": 69746117, "body": "If you want the entry in <code>filenames</code> that goes with the key, it&#39;s just <code>filenames[key]</code>"}], "answers": [{"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": true, "score": 1, "last_activity_date": 1482356860, "last_edit_date": 1482356860, "creation_date": 1482356557, "answer_id": 41272369, "question_id": 41272330, "link": "https://stackoverflow.com/questions/41272330/matching-a-string-to-an-array/41272369#41272369", "title": "Matching a string to an array", "body": "<p>You could switch from</p>\n\n<pre><code>str.indexOf(key)\n</code></pre>\n\n<p>to</p>\n\n<pre><code>key.indexOf(str)\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function test() {\r\n    var str = \"OTHER-REQUEST-ASFA\",\r\n        filenames = {\r\n            \"OTHER-REQUEST-ASF\": \"ASF\",\r\n            \"OTHER-REQUEST-ASFA\": \"ASFA\",\r\n            \"OTHER-REQUEST-ASFB\": \"ASFB\",\r\n            \"OTHER-REQUEST-ASFC\": \"ASFC\",\r\n            \"OTHER-REQUEST-ASFE\": \"ASFE\" \r\n        },\r\n        key;\r\n\r\n    for (key in filenames) {\r\n        if (key.indexOf(str) != -1) {\r\n            console.log(filenames[key]);\r\n        }\r\n    }\r\n}\r\n\r\ntest();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 2511, "user_id": 3541881, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bBmQb.png?s=128&g=1", "display_name": "\u1515\u15ba\u160e\u154a", "link": "https://stackoverflow.com/users/3541881/%e1%94%95%e1%96%ba%e1%98%8e%e1%95%8a"}, "is_accepted": false, "score": 1, "last_activity_date": 1482356582, "creation_date": 1482356582, "answer_id": 41272374, "question_id": 41272330, "link": "https://stackoverflow.com/questions/41272330/matching-a-string-to-an-array/41272374#41272374", "title": "Matching a string to an array", "body": "<p>To answer why it's not working as you want...</p>\n\n<p>You've got:</p>\n\n<pre><code>str.indexOf(key)\n</code></pre>\n\n<p>This checks for the first instance of <code>key</code> in <code>str</code>.</p>\n\n<p>So in your loop, <code>key</code> first equals <code>OTHER-REQUEST-ASF</code> which is part of <code>OTHER-REQUEST-ASFA</code>, so the condition is true.</p>\n\n<hr>\n\n<p>However, to do what you <em>want</em> to do, if you know the pattern is always going to be <code>OTHER-REQUEST-XYZ</code>, the easiest way is to use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/split\" rel=\"nofollow noreferrer\"><code>split()</code></a>:</p>\n\n<pre><code>str.split('-')[2]\n</code></pre>\n\n<p>will always return the last section after the last <code>-</code></p>\n"}, {"tags": [], "owner": {"reputation": 155, "user_id": 4949901, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1fa3ae1c839d31817010feac23f9e446?s=128&d=identicon&r=PG&f=1", "display_name": "gimbup", "link": "https://stackoverflow.com/users/4949901/gimbup"}, "is_accepted": false, "score": 0, "last_activity_date": 1482356748, "creation_date": 1482356748, "answer_id": 41272412, "question_id": 41272330, "link": "https://stackoverflow.com/questions/41272330/matching-a-string-to-an-array/41272412#41272412", "title": "Matching a string to an array", "body": "<p>cause \"OTHER-REQUEST-ASFA\".indexOf(\"OTHER-REQUEST-ASF\") will not return -1, so it will show \"ASF\"</p>\n"}, {"tags": [], "owner": {"reputation": 3759, "user_id": 5253239, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/e9xkj.jpg?s=128&g=1", "display_name": "kevin ternet", "link": "https://stackoverflow.com/users/5253239/kevin-ternet"}, "is_accepted": false, "score": 0, "last_activity_date": 1482357727, "creation_date": 1482357727, "answer_id": 41272646, "question_id": 41272330, "link": "https://stackoverflow.com/questions/41272330/matching-a-string-to-an-array/41272646#41272646", "title": "Matching a string to an array", "body": "<p>You can also use static method Object.keys() to abtain array of keys</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var test = () =&gt;{\r\n  var str = \"OTHER-REQUEST-ASFA\"\r\n\r\n  var filenames = {\r\n    \"OTHER-REQUEST-ASF\": \"ASF\",\r\n    \"OTHER-REQUEST-ASFA\": \"ASFA\",\r\n    \"OTHER-REQUEST-ASFB\": \"ASFB\",\r\n    \"OTHER-REQUEST-ASFC\": \"ASFC\",\r\n    \"OTHER-REQUEST-ASFE\": \"ASFE\"\r\n  }\r\n  Object.keys(filenames).forEach(x =&gt; {\r\n    if ( x.indexOf(str) !== -1) \r\n      console.log(filenames[str]);\r\n  });\r\n}\r\ntest();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1231, "user_id": 3724302, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7d9d215bd94d56b9bcde5c9a11d2a486?s=128&d=identicon&r=PG&f=1", "display_name": "BobbyJones", "link": "https://stackoverflow.com/users/3724302/bobbyjones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 41272369, "answer_count": 4, "score": 1, "last_activity_date": 1482357727, "creation_date": 1482356397, "question_id": 41272330, "link": "https://stackoverflow.com/questions/41272330/matching-a-string-to-an-array", "title": "Matching a string to an array", "body": "<p>I need your your help,</p>\n\n<p>For some strange reason, when my <code>var str</code> is set to \"<code>OTHER-REQUEST-ASFA</code>\" the matched key comes back as \"<code>ASF</code>\" as opposed to \"<code>ASFA</code>\"</p>\n\n<p>How can I get the returned output key of \"<code>ASFA</code>\" when my str is \"<code>OTHER-REQUEST-ASFA</code>\"</p>\n\n<pre><code>function test() {\n\n    var str = \"OTHER-REQUEST-ASFA\"\n\n    var filenames = {\n        \"OTHER-REQUEST-ASF\": \"ASF\",\n        \"OTHER-REQUEST-ASFA\": \"ASFA\",\n        \"OTHER-REQUEST-ASFB\": \"ASFB\",\n        \"OTHER-REQUEST-ASFC\": \"ASFC\",\n        \"OTHER-REQUEST-ASFE\": \"ASFE\" \n    }\n\n    for (var key in filenames) {\n        if (str.indexOf(key) != -1) { alert(filenames[key]) }\n    }\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "angularjs"], "answers": [{"comments": [{"owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "reply_to_user": {"reputation": 311858, "user_id": 6782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dc8c4ddd99b446c28d2e1546c457e508?s=128&d=identicon&r=PG", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6782/alnitak"}, "edited": false, "score": 0, "creation_date": 1482361116, "post_id": 41273255, "comment_id": 69748103, "body": "Correct; I just realised that the factory needs evaluating as well."}, {"owner": {"reputation": 6825, "user_id": 1054937, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6b85a31d8e69d0ce9fe80df2ed567969?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/1054937/jon"}, "edited": false, "score": 0, "creation_date": 1482423549, "post_id": 41273255, "comment_id": 69777091, "body": "Any way to do it without <code>eval()</code>?"}, {"owner": {"reputation": 311858, "user_id": 6782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dc8c4ddd99b446c28d2e1546c457e508?s=128&d=identicon&r=PG", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6782/alnitak"}, "reply_to_user": {"reputation": 6825, "user_id": 1054937, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6b85a31d8e69d0ce9fe80df2ed567969?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/1054937/jon"}, "edited": false, "score": 0, "creation_date": 1482425475, "post_id": 41273255, "comment_id": 69778402, "body": "@Jon yeah - see the other answer ;)"}], "tags": [], "owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "is_accepted": false, "score": -1, "last_activity_date": 1482361098, "last_edit_date": 1482361098, "creation_date": 1482360656, "answer_id": 41273255, "question_id": 41272283, "link": "https://stackoverflow.com/questions/41272283/calling-factory-function-from-string/41273255#41273255", "title": "Calling Factory/Function From String", "body": "<p>It looks like you'd need to evaluate the strings first:</p>\n\n<p><code>eval(factory[functionName])();</code></p>\n\n<p>Hope this helps :)</p>\n"}, {"tags": [], "owner": {"reputation": 311858, "user_id": 6782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dc8c4ddd99b446c28d2e1546c457e508?s=128&d=identicon&r=PG", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6782/alnitak"}, "is_accepted": true, "score": 1, "last_activity_date": 1482425682, "last_edit_date": 1482425682, "creation_date": 1482361108, "answer_id": 41273342, "question_id": 41272283, "link": "https://stackoverflow.com/questions/41272283/calling-factory-function-from-string/41273342#41273342", "title": "Calling Factory/Function From String", "body": "<p>If the functions are just normally scoped functions, you can do a one-off creation of a lookup map from name to function reference to avoid the long <code>switch</code> statement:</p>\n\n<pre><code>var funcMap = {\n    TelemetryFactory: TelemetryFactory,\n    DebugFactory: DebugFactory\n};\n</code></pre>\n\n<p>or to avoid the (potentially error-prone) repetition, by using each function's <code>.name</code> property and constructing the map from an array of function references:</p>\n\n<pre><code>// build lookup map\nvar funcs = [ TelemetryFactory, DebugFactory ];\nvar funcMap = {};\nfuncs.forEach(function(f) {\n    funcMap[f.name] = f;\n});\n</code></pre>\n\n<p>In ES6 it becomes even simpler, because ES6 has an object literal syntax where you can pass the name of a variable (or function) and it automatically creates a key with that variable's name and value:</p>\n\n<pre><code>let funcMap = { TelemetryFactory, DebugFactory };\n</code></pre>\n\n<p>Whichever of the three methods above you use to build the map, dispatch is then a trivial operation via the map:</p>\n\n<pre><code>funcMap[factoryName]();\n</code></pre>\n"}], "owner": {"reputation": 6825, "user_id": 1054937, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6b85a31d8e69d0ce9fe80df2ed567969?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/1054937/jon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 41273342, "answer_count": 2, "score": 0, "last_activity_date": 1482425682, "creation_date": 1482356155, "question_id": 41272283, "link": "https://stackoverflow.com/questions/41272283/calling-factory-function-from-string", "title": "Calling Factory/Function From String", "body": "<p>I am reading a config file which contains a mapping of Angular Factories/Function names. The Factory/Function names are stores as strings in the mapping. I am wondering how would I be able to execute the Factory/Function I have read from config?</p>\n\n<p>None of these factories are accessible on <code>window</code> otherwise I could call <code>window[factory][functionName]()</code>.</p>\n\n<p>Would I have to resort to something like:</p>\n\n<pre><code>var factory;\nvar factoryName = getFactory(config.sendTelemetry);\n\nif (factoryName === 'TelemetryFactory') {\n    factory = TelemetryFactory;\n} else if (factoryName === 'DebugFactory') {\n    factory = DebugFactory;\n}\n\nfactory[functionName]();\n</code></pre>\n\n<p>Sample config file:</p>\n\n<pre><code>// Sample config file\nvar config = {\n    'sendTelemetry': {\n        'factory': 'TelemetryFactory',\n        'functionName': 'sendTelemetry'\n    },\n    'logDebug': {\n        'factory': 'DebugFactory',\n        'functionName': 'logDebug'\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "android", "react-native"], "answers": [{"tags": [], "owner": {"reputation": 141, "user_id": 1893089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oe8gn.jpg?s=128&g=1", "display_name": "spodell", "link": "https://stackoverflow.com/users/1893089/spodell"}, "is_accepted": false, "score": 0, "last_activity_date": 1508441878, "last_edit_date": 1508441878, "creation_date": 1508441427, "answer_id": 46837502, "question_id": 41272204, "link": "https://stackoverflow.com/questions/41272204/how-to-fix-oauthmanager-authorize-call-on-android-device/46837502#46837502", "title": "How to fix OAuthManager authorize call on android device?", "body": "<p>I solved this by...</p>\n\n<p>On the <a href=\"https://developers.facebook.com/\" rel=\"nofollow noreferrer\">https://developers.facebook.com/</a> site.\nOn the \"Facebook Login\" tab and in the the \"Valid OAuth redirect URIs\" list,</p>\n\n<p>I added \"<a href=\"http://localhost/facebook\" rel=\"nofollow noreferrer\">http://localhost/facebook</a>\" and I immediately started receiving the redirect.  </p>\n\n<p>I didn't need to do anything like this for iOS on the developers.facebook.com  site.</p>\n"}], "owner": {"reputation": 391, "user_id": 1167937, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/b9d5d841962ce0d3dc8f391ed2016c13?s=128&d=identicon&r=PG", "display_name": "user1167937", "link": "https://stackoverflow.com/users/1167937/user1167937"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1508441878, "creation_date": 1482355830, "question_id": 41272204, "link": "https://stackoverflow.com/questions/41272204/how-to-fix-oauthmanager-authorize-call-on-android-device", "title": "How to fix OAuthManager authorize call on android device?", "body": "<p>I am writing my first react-native application and trying to get fullstackreact/react-native-oauth facebook login to work. It works ok and login succeeds on android emulator but when run on device a small all white dialog appears and <code>manager.authorize('facebook')</code> method never resolves.</p>\n\n<p>code:</p>\n\n<pre><code>login_facebook() {\nconst config = {\n  facebook: {\n    client_id: '****',\n    client_secret: '****'\n  }\n}\nconst manager = new OAuthManager('***dev');\nmanager.configure(config);\n\nconsole.log('one');\nmanager.authorize('facebook')\n       .then(data =&gt; {\n          console.log('two');\n          console.log(data);\n       })\n       .catch(err =&gt; {\n          console.log('three');\n          console.log(err)\n       });\n</code></pre>\n\n<p>}</p>\n\n<p>adb -s device_id logcat | grep -E 'ReactNativeJS|OAuthManager':</p>\n\n<pre><code>I/OAuthManager(28552): configureProvider for facebook\nI/ReactNativeJS(28552): one\n</code></pre>\n\n<p>Any ideas what might be the problem or how to debug it further?</p>\n"}, {"tags": ["javascript", "jquery", "html"], "comments": [{"owner": {"reputation": 333, "user_id": 4656713, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Dt6u2.jpg?s=128&g=1", "display_name": "Thomas Juranek", "link": "https://stackoverflow.com/users/4656713/thomas-juranek"}, "edited": false, "score": 0, "creation_date": 1482355803, "post_id": 41272168, "comment_id": 69745812, "body": "Do you want to see if the text from .one exists in .two? Or if a div is inside of another div?"}, {"owner": {"reputation": 25823, "user_id": 24468, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PWl6C.png?s=128&g=1", "display_name": "akuhn", "link": "https://stackoverflow.com/users/24468/akuhn"}, "edited": false, "score": 0, "creation_date": 1482356076, "post_id": 41272168, "comment_id": 69745929, "body": "Do you want to match the <code>+</code> patterns?"}, {"owner": {"reputation": 781, "user_id": 2605183, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7f7ca3dc5246b862f67b1ca8c02217cb?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmad Asjad", "link": "https://stackoverflow.com/users/2605183/ahmad-asjad"}, "edited": false, "score": 0, "creation_date": 1482356152, "post_id": 41272168, "comment_id": 69745969, "body": "yes, it&#39;s possible. I&#39;m giving you an example sooner"}, {"owner": {"reputation": 2789, "user_id": 2196069, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C3Zq2.jpg?s=128&g=1", "display_name": "haltersweb", "link": "https://stackoverflow.com/users/2196069/haltersweb"}, "edited": false, "score": 0, "creation_date": 1482356387, "post_id": 41272168, "comment_id": 69746093, "body": "are you trying to match patterns in your raw code with the line breaks or in your rendered code -- i.e. this: + +++ +  inside of this:  + + ++++ + ++ + + + + ++ +++ + +++ ++ + +++ + ++ + + ++ + + + + ++"}, {"owner": {"reputation": 23845, "user_id": 1136062, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d17fbd5a00696222388a6d3c17adc99e?s=128&d=identicon&r=PG", "display_name": "Om3ga", "link": "https://stackoverflow.com/users/1136062/om3ga"}, "edited": false, "score": 1, "creation_date": 1482356540, "post_id": 41272168, "comment_id": 69746163, "body": "I want to check the + pattern."}, {"owner": {"reputation": 1176, "user_id": 5936814, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kXAuR.jpg?s=128&g=1", "display_name": "Flying Gambit", "link": "https://stackoverflow.com/users/5936814/flying-gambit"}, "edited": false, "score": 0, "creation_date": 1482846033, "post_id": 41272168, "comment_id": 69894265, "body": "@2619 I checked Shub&#39;s answer and I changed the pattern a bit so that we can use <code>indexOf</code>. Check my answer for details"}], "answers": [{"comments": [{"owner": {"reputation": 23845, "user_id": 1136062, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d17fbd5a00696222388a6d3c17adc99e?s=128&d=identicon&r=PG", "display_name": "Om3ga", "link": "https://stackoverflow.com/users/1136062/om3ga"}, "edited": false, "score": 0, "creation_date": 1482357231, "post_id": 41272478, "comment_id": 69746474, "body": "can you look at this <a href=\"https://jsfiddle.net/12eqhs7L/4/\" rel=\"nofollow noreferrer\">jsfiddle.net/12eqhs7L/4</a>. When I change the <code>.one</code> pattern then it still works which it shouldn&#39;t."}, {"owner": {"reputation": 781, "user_id": 2605183, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7f7ca3dc5246b862f67b1ca8c02217cb?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmad Asjad", "link": "https://stackoverflow.com/users/2605183/ahmad-asjad"}, "reply_to_user": {"reputation": 23845, "user_id": 1136062, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d17fbd5a00696222388a6d3c17adc99e?s=128&d=identicon&r=PG", "display_name": "Om3ga", "link": "https://stackoverflow.com/users/1136062/om3ga"}, "edited": false, "score": 0, "creation_date": 1482357642, "post_id": 41272478, "comment_id": 69746672, "body": "my fiddle was just for that pettern, you can build a logic based on this."}, {"owner": {"reputation": 781, "user_id": 2605183, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7f7ca3dc5246b862f67b1ca8c02217cb?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmad Asjad", "link": "https://stackoverflow.com/users/2605183/ahmad-asjad"}, "reply_to_user": {"reputation": 23845, "user_id": 1136062, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d17fbd5a00696222388a6d3c17adc99e?s=128&d=identicon&r=PG", "display_name": "Om3ga", "link": "https://stackoverflow.com/users/1136062/om3ga"}, "edited": false, "score": 0, "creation_date": 1482357813, "post_id": 41272478, "comment_id": 69746761, "body": "And the thing you are looking it&#39;s also possible, first let you try, it you couldn&#39;t let me know."}, {"owner": {"reputation": 23845, "user_id": 1136062, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d17fbd5a00696222388a6d3c17adc99e?s=128&d=identicon&r=PG", "display_name": "Om3ga", "link": "https://stackoverflow.com/users/1136062/om3ga"}, "edited": false, "score": 0, "creation_date": 1482358126, "post_id": 41272478, "comment_id": 69746897, "body": "Well the thing is that in <code>.two</code> the text is not displayed in that same pattern(in fiddle) I showed in question. That might be the reason?"}, {"owner": {"reputation": 781, "user_id": 2605183, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7f7ca3dc5246b862f67b1ca8c02217cb?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmad Asjad", "link": "https://stackoverflow.com/users/2605183/ahmad-asjad"}, "reply_to_user": {"reputation": 23845, "user_id": 1136062, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d17fbd5a00696222388a6d3c17adc99e?s=128&d=identicon&r=PG", "display_name": "Om3ga", "link": "https://stackoverflow.com/users/1136062/om3ga"}, "edited": false, "score": 0, "creation_date": 1482358708, "post_id": 41272478, "comment_id": 69747148, "body": "check again earlier there&#39;re some error. there is one pattern available in .two as you can see by eye as well while matching."}, {"owner": {"reputation": 23845, "user_id": 1136062, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d17fbd5a00696222388a6d3c17adc99e?s=128&d=identicon&r=PG", "display_name": "Om3ga", "link": "https://stackoverflow.com/users/1136062/om3ga"}, "edited": false, "score": 0, "creation_date": 1482359066, "post_id": 41272478, "comment_id": 69747287, "body": "<a href=\"https://jsfiddle.net/12eqhs7L/6/\" rel=\"nofollow noreferrer\">jsfiddle.net/12eqhs7L/6</a> I tried this but this does not seem to be what I want. Because the top <code>+</code> is first checked in line 1 which is true in several places. Let me know if you could help me in this further."}, {"owner": {"reputation": 23845, "user_id": 1136062, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d17fbd5a00696222388a6d3c17adc99e?s=128&d=identicon&r=PG", "display_name": "Om3ga", "link": "https://stackoverflow.com/users/1136062/om3ga"}, "edited": false, "score": 0, "creation_date": 1482359482, "post_id": 41272478, "comment_id": 69747481, "body": "Moreover, the pattern in <code>.one</code> could be any other pattern. Not just this one."}, {"owner": {"reputation": 781, "user_id": 2605183, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7f7ca3dc5246b862f67b1ca8c02217cb?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmad Asjad", "link": "https://stackoverflow.com/users/2605183/ahmad-asjad"}, "reply_to_user": {"reputation": 23845, "user_id": 1136062, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d17fbd5a00696222388a6d3c17adc99e?s=128&d=identicon&r=PG", "display_name": "Om3ga", "link": "https://stackoverflow.com/users/1136062/om3ga"}, "edited": false, "score": 0, "creation_date": 1482359541, "post_id": 41272478, "comment_id": 69747504, "body": "My answer as if it&#39;s static content as it&#39;s right now is fine. But if you want to check dynamically like .one content exist in .two or not, you&#39;ll have to do following: take first line of .one and search it in .two, if found, search for second line in the line after that at same column, etc...."}, {"owner": {"reputation": 23845, "user_id": 1136062, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d17fbd5a00696222388a6d3c17adc99e?s=128&d=identicon&r=PG", "display_name": "Om3ga", "link": "https://stackoverflow.com/users/1136062/om3ga"}, "edited": false, "score": 0, "creation_date": 1482359737, "post_id": 41272478, "comment_id": 69747590, "body": "That is exactly what I am doing in my solution which I put in my comment above."}], "tags": [], "owner": {"reputation": 781, "user_id": 2605183, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7f7ca3dc5246b862f67b1ca8c02217cb?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmad Asjad", "link": "https://stackoverflow.com/users/2605183/ahmad-asjad"}, "is_accepted": false, "score": 2, "last_activity_date": 1482358621, "last_edit_date": 1482358621, "creation_date": 1482357036, "answer_id": 41272478, "question_id": 41272168, "link": "https://stackoverflow.com/questions/41272168/compare-text-inside-2-div-elements-using-javascript-or-jquery/41272478#41272478", "title": "compare text inside 2 div elements using javascript or jquery", "body": "<p>your jquery code will look something like this. You can play more with this logic</p>\n\n<pre><code>    jQuery().ready(function(){\nvar lines = $(\".two\").text().split(\"\\n\");\nfor(i=1;i&lt;=lines[1].length;i++){\n    if(lines[1][i]=='+' \n  &amp;&amp; lines[2][i-1]!='undefined' &amp;&amp; lines[1][i]==lines[2][i-1] \n  &amp;&amp; lines[2][i]!='undefined' &amp;&amp; lines[1][i]==lines[2][i] \n  &amp;&amp; lines[2][i+1]!='undefined' &amp;&amp; lines[1][i]==lines[2][i+1]\n  &amp;&amp; lines[3][i]!='undefined' &amp;&amp; lines[1][i]==lines[3][i] \n  ){\n  console.log('exists');\n  }\n}\n});\n</code></pre>\n\n<p>Here is the fiddle:<a href=\"https://jsfiddle.net/ahmadasjad/12eqhs7L/5/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/ahmadasjad/12eqhs7L/5/</a></p>\n"}, {"comments": [{"owner": {"reputation": 2550, "user_id": 3386807, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uG9Cl.jpg?s=128&g=1", "display_name": "Clomp", "link": "https://stackoverflow.com/users/3386807/clomp"}, "edited": false, "score": 0, "creation_date": 1482533219, "post_id": 41308339, "comment_id": 69820323, "body": "At first glance this code example appears to work... because all of the data uses &quot;+&quot; plus signs. If the data is turned into letters, then this code example won&#39;t match the vertical &amp; horizontal pattern which the OP is asking for. It&#39;s attempting to select the horizontal pluses on either side of the middle &quot;+++&quot; &amp; not the + above nor below that."}, {"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "reply_to_user": {"reputation": 2550, "user_id": 3386807, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uG9Cl.jpg?s=128&g=1", "display_name": "Clomp", "link": "https://stackoverflow.com/users/3386807/clomp"}, "edited": false, "score": 1, "creation_date": 1482534026, "post_id": 41308339, "comment_id": 69820545, "body": "@Clomp - I see what you mean. If you are right, the OP wants to match the pattern given in the markup, not in the rendered HTML (which answers the question asked by haltersweb in the comments)."}, {"owner": {"reputation": 2550, "user_id": 3386807, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uG9Cl.jpg?s=128&g=1", "display_name": "Clomp", "link": "https://stackoverflow.com/users/3386807/clomp"}, "edited": false, "score": 0, "creation_date": 1482545534, "post_id": 41308339, "comment_id": 69822734, "body": "If the data will contain identical data elements where each + occurs at then your code would work, but that&#39;s risky because we don&#39;t know if the data will be identical or different. The OP did mention:  &quot;The pattern has to be in that same order in .two&quot;. So I wrote an answer that would do that for different data. Either way, we&#39;re both trying to help him out. :)"}], "tags": [], "owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "is_accepted": false, "score": 3, "last_activity_date": 1482548036, "last_edit_date": 1495541392, "creation_date": 1482530857, "answer_id": 41308339, "question_id": 41272168, "link": "https://stackoverflow.com/questions/41272168/compare-text-inside-2-div-elements-using-javascript-or-jquery/41308339#41308339", "title": "compare text inside 2 div elements using javascript or jquery", "body": "<p>The code snippet below finds all occurrences of the \"one\" pattern in the \"two\" div, as written in the markup. The results are reported in the console output (line index and position in line).</p>\n\n<p>Credits : </p>\n\n<ol>\n<li>Clomp's comments helped me to understand that the question was about the markup pattern</li>\n<li>I borrowed <code>getIndicesOf</code> from <a href=\"https://stackoverflow.com/a/3410557/1009922\">this answer</a> by <a href=\"https://stackoverflow.com/users/96100/tim-down\">Tim Down</a></li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function find() {\r\n    var i, j, k;\r\n    var txtOne = $('.one').text();\r\n    var txtTwo = $('.two').text();\r\n    var linesOne = txtOne.split(\"\\n\");\r\n  \r\n    // Get search patterns from \"one\"\r\n    var patterns = getSearchPatterns(linesOne);\r\n\r\n    // Get content lines from \"two\"\r\n    var linesTwo = txtTwo.split(\"\\n\");\r\n    while (linesTwo.length &gt; 0 &amp;&amp; !linesTwo[0]) {\r\n        linesTwo.shift();\r\n    }\r\n\r\n    // Get all the positions of all patterns in all lines\r\n    var searchResults = [];\r\n    var patternInLines, positionsInLine;\r\n    for (i = 0; i &lt; patterns.length; i++) {\r\n        patternInLines = [];\r\n        for (j = 0; j &lt; linesTwo.length; j++) {\r\n            positionsInLine = getIndicesOf(patterns[i], linesTwo[j], true);\r\n            patternInLines.push(positionsInLine);\r\n        }\r\n        searchResults.push(patternInLines);\r\n    }\r\n\r\n    // Get the occurrences of all patterns at the same position on consecutive lines\r\n    var results = [];\r\n    var firstPatternInLine, firstPatternPosition, patternInLine, found;\r\n    var firstPattern = searchResults[0];\r\n    for (j = 0; j &lt; linesTwo.length - patterns.length; j++) {\r\n        firstPatternInLine = firstPattern[j];\r\n        for (k = 0; k &lt; firstPatternInLine.length; k++) {\r\n            firstPatternPosition = firstPatternInLine[k];\r\n            found = true;\r\n            for (i = 1; i &lt; patterns.length; i++) {\r\n                patternInLine = searchResults[i][j + i];\r\n                if (patternInLine.indexOf(firstPatternPosition) &lt; 0) {\r\n                    found = false;\r\n                    break;\r\n                }\r\n            }\r\n            if (found) {\r\n                results.push({\r\n                    line: j,\r\n                    position: firstPatternPosition\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    // Display results\r\n    for (i = 0; i &lt; results.length; i++) {\r\n        console.log(results[i]);\r\n    }\r\n    if (results.length &lt; 1) {\r\n        console.log(\"No occurrence found\");\r\n    }\r\n}\r\n\r\n// Trim the search lines to get the minimal search \"block\"\r\nfunction getSearchPatterns(lines) {\r\n    var items = [];\r\n    var result = [];\r\n    var i, txt, offset, item;\r\n    var minOffset = 1000000;\r\n    var maxLength = 0;\r\n    for (i = 0; i &lt; lines.length; i++) {\r\n        txt = lines[i].trim();\r\n        if (txt) {\r\n            offset = lines[i].indexOf(txt);\r\n            items.push({\r\n                str: txt,\r\n                offset: offset\r\n            });\r\n            minOffset = Math.min(offset, minOffset);\r\n        }\r\n    }\r\n    for (i = 0; i &lt; items.length; i++) {\r\n        item = items[i];\r\n        item.offset -= minOffset;\r\n        maxLength = Math.max(item.offset + item.str.length, maxLength);\r\n    }\r\n    for (i = 0; i &lt; items.length; i++) {\r\n        item = items[i];\r\n        result.push(paddRight(paddLeft(item.str, item.offset), maxLength));\r\n    }\r\n    return result;\r\n}\r\n\r\nfunction paddLeft(str, count) {\r\n    var padding = \"\";\r\n    for (var i = 0; i &lt; count; i++) {\r\n        padding += \" \";\r\n    }\r\n    return padding + str;\r\n}\r\n\r\nfunction paddRight(str, length) {\r\n    var result = str;\r\n    while (result.length &lt; length) {\r\n        result += \" \";\r\n    }\r\n    return result;\r\n}\r\n\r\n// Find all positions of search string in string\r\n// By Tim Down at https://stackoverflow.com/a/3410557/1009922\r\nfunction getIndicesOf(searchStr, str, caseSensitive) {\r\n    var searchStrLen = searchStr.length;\r\n    if (searchStrLen == 0) {\r\n        return [];\r\n    }\r\n    var startIndex = 0, index, indices = [];\r\n    if (!caseSensitive) {\r\n        str = str.toLowerCase();\r\n        searchStr = searchStr.toLowerCase();\r\n    }\r\n    while ((index = str.indexOf(searchStr, startIndex)) &gt;= 0) {\r\n        indices.push(index);\r\n        startIndex = index + searchStrLen;\r\n    }\r\n    return indices;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"one\"&gt;\r\n     a\r\n    bcd\r\n     e\r\n&lt;/div&gt;\r\n&lt;div class=\"two\"&gt;\r\n    ++ + ++ ++++ + ++ + + + a \r\n    + +   ++++  a ++  + + +bcd\r\n    + a  +++ + bcd ++ + +++ e \r\n    +bcd + + ++ e + + + ++ ++\r\n    + e ++++++++++++++++++++++\r\n&lt;/div&gt;\r\n&lt;button onclick=\"find()\"&gt;Test!&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 2550, "user_id": 3386807, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uG9Cl.jpg?s=128&g=1", "display_name": "Clomp", "link": "https://stackoverflow.com/users/3386807/clomp"}, "is_accepted": true, "score": 19, "last_activity_date": 1482544718, "last_edit_date": 1482544718, "creation_date": 1482534081, "answer_id": 41308741, "question_id": 41272168, "link": "https://stackoverflow.com/questions/41272168/compare-text-inside-2-div-elements-using-javascript-or-jquery/41308741#41308741", "title": "compare text inside 2 div elements using javascript or jquery", "body": "<p><strong>Part 1:</strong></p>\n\n<p>To see how the data would match, you may want to try turning this into letters, instead of pluses.</p>\n\n<pre><code>&lt;div class=\"one\"&gt;\n    g\n   tuv\n    J\n&lt;/div&gt;\n\n&lt;div class=\"two\"&gt;\n    a b   cdef  g hi  j k l\n    m no pqr s tuv wx y zAB\n    C DE F G HI J K L M NO \n&lt;/div&gt;\n</code></pre>\n\n<p>You'd have to do something like this:</p>\n\n<p>Since: one.innerText = g \\n tuv \\n J</p>\n\n<p>It would need to be turned into a regular expression like: /g|tuv|J/g</p>\n\n<p>To see the cross matching, copy &amp; paste the contents of class two into this site &amp; delete the spacing before \"a\", \"m\" &amp; \"C\": <a href=\"http://regexr.com/3eumc\" rel=\"nofollow noreferrer\">http://regexr.com/3eumc</a></p>\n\n<p><strong>Part 2</strong></p>\n\n<p>The problem is if \"tuv\" moves around in string 2, it wouldn't be locked with \"g\" above \"u\" above \"J\".</p>\n\n<p>To fix that \"g\" above \"u\" above \"J\" problem, we'd have to think of this as a 2-dimensional dataset for a game board. That means turning the string into a matrix (array of arrays), where each letter plus each space gets dropped into an array slot. Like so:</p>\n\n<pre><code>var matrix = [\n  // 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 = columns. Remember to add +10, +20!\n    [a| |b| | | |c|d|e|f| | |g| |h|i| | |j| |k| |l], // row 0\n    [m| |n|o| |p|q|r| |s| |t|u|v| |w|x| |y| |z|A|B], // row 1\n    [C| |D|E| |F| |G| |H|I| |J| |K| |L| |M| |N|O]    // row 2\n];\n</code></pre>\n\n<p>Now you can check to see if:</p>\n\n<pre><code>if ((matrix[0][13] === 'g') \n    &amp;&amp; (matrix[1][12] === 't') &amp;&amp; (matrix[1][13] === 'u') &amp;&amp; (matrix[1][14] === 'v') \n    &amp;&amp; (matrix[2][13] === 'J')) {\n    /* SUCCESS when all 5 letters appear &amp; \"g\" is above \"u\" &amp; \"u\" is above \"J\".\n    The entire cross can move left or right, but lines 1, 2 &amp; 3 can't shift \n    independently of the other 3 lines. Otherwise it should fail.\n    */\n} else {\n    // FAIL\n}\n</code></pre>\n\n<p><strong>Part 3...</strong> </p>\n\n<p>I've solved this matrix search puzzle. See my jsFiddle at <a href=\"https://jsfiddle.net/briankueck/pern32vv/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/briankueck/pern32vv/</a></p>\n\n<p>Here is the core of how the code looks. Turn on the debugging switch at that jsFiddle link to see how it runs. :)</p>\n\n<pre><code>function getMatrix(cssSelector, canTrim) {\n    // Built by, Clomp! @briankueck http://www.clomp.com\n    var obj = $(cssSelector);\n    if (obj) {\n        var matrix = obj.text()\n\n        /* Makes sure that we are selecting 3 lines, not 5 \n         * as the example has a \\n after &lt;div ...&gt;\\n and before \\n&lt;/div&gt;\n         */\n        if (canTrim) {\n            matrix = matrix.trim();\n        }\n\n        // Now split those 3 lines.\n        matrix = matrix.split(/\\n/);\n\n        /* Trims each array in the matrix. Note: matrix[row] is a string, \n         * but we can treat a string as an array of characters.\n         */\n        if (canTrim) {\n            // Trims each row, if desired.\n            for (var row = 0; row &lt; matrix.length; row++) {\n                matrix[row] = matrix[row].trim();\n            }\n        } else {\n            // Gets rid of spaces before matrix 1 in this demo.\n            var maxLength = 0;\n            var space = ' '; // You can also use a period here to see how it works.\n            var tempMatrix = [];\n            for (var row = 0; row &lt; matrix.length; row++) {\n                // This cuts the rows down (vertically) from 5 to 3.\n                if (matrix[row].trim().length &gt; 0) {\n                    matrix[row] = matrix[row].replace(/\\s/g, space);\n                    matrix[row] = matrix[row].replace(/\\t/g, space);\n                    tempMatrix.push(matrix[row]);\n\n                    if (matrix[row].length &gt; maxLength) {\n                        maxLength = matrix[row].length;\n                    }\n                }\n            }\n\n            /* This loops those 3 rows (horizontally) &amp; slices the 1st character off \n             * each array if they are all identical &amp; only contain spaces, which we are \n             * tracking with the period character '.' as dots.\n             */\n            var charactersToStrip = 0;\n            for (var column = 0; column &lt;= maxLength; column++) {\n                for (var row = 0; row &lt; tempMatrix.length; row++) {\n                    if (tempMatrix[row][column] !== space) {\n                        break;\n                    } else if (row === (tempMatrix.length - 1)) {\n                        charactersToStrip++;\n                    }\n                }\n            }\n\n            /* Strips characters, without removing the space before \"g\" \n             * and the space before \"J\".\n             */\n            for (var column = 0; column &lt; charactersToStrip; column++) {\n                for (var row = 0; row &lt; tempMatrix.length; row++) {\n                    tempMatrix[row] = tempMatrix[row].substring(1);\n                }\n            }\n            matrix = tempMatrix;\n        }\n    }\n\n    return matrix;\n}\n\nfunction matrixSearch(matrixOne, matrixTwo) {\n    // Built by, Clomp! @briankueck http://www.clomp.com\n    var space = ' '; // You can also use a period here to see how it works.\n\n    // This is for \" g\". First we trim it, as we only want the \"g\" character.\n    var searchChar = matrixOne[0].trim();\n\n    // Next we find the lock position.\n    var firstCharPosition = matrixTwo[0].indexOf(searchChar);\n\n    var matchingRows = -1;\n    if (firstCharPosition &gt; -1) {\n\n        // This should be 1 &amp; not 0.\n        var matchingCharInMatrixOne = matrixOne[0].indexOf(searchChar);\n\n        // Now we can find the starting index of character 0 in each row of matrixTwo:\n        var startIndex = firstCharPosition - matchingCharInMatrixOne;\n\n        // This simultaneously scans rows 1, 2 &amp; 3 in both matricies.\n        var matchingRows = 0;\n        for (var row = 0; row &lt; matrixOne.length; row++) {\n            /* We now know both the startIndex = 11 &amp; the lock position = 12. \n             * So let's use them for \"tuv\" and \" J\".\n             */\n            var endIndex = startIndex + matrixOne[row].length;\n            var i = -1;\n            for (var column = startIndex; column &lt; endIndex; column++) {\n                i++;\n                if (matrixOne[row][i] !== space) {\n                    var matrixOneCharacter = matrixOne[row][i];\n                    var matrixTwoCharacter = matrixTwo[row][column];\n                    if (matrixOneCharacter !== matrixTwoCharacter) {\n                        break;\n                    } else if (column === (endIndex - 1)) {\n                        // Found it!\n                        matchingRows++;\n                    }\n                }\n            }\n        }\n    }\n\n    // Now we can find it:\n    var isFoundInMatrixTwo = ((matchingRows &gt; -1) \n        &amp;&amp; (matchingRows === matrixTwo.length)) ? true : false;\n\n    return isFoundInMatrixTwo;\n}\n\nvar cssSelector1 = '.one';\nvar cssSelector2 = '.two';\n\nvar matrixOne = getMatrix(cssSelector1, false);\nvar matrixTwo = getMatrix(cssSelector2, true);\n\nvar isFound = matrixSearch(matrixOne, matrixTwo);\nconsole.log('Is matrix 1 in matrix 2? ', isFound);\n</code></pre>\n\n<p>Enjoy!</p>\n\n<p>Btw, Merry Christmas Stack Overflow community from Clomp!</p>\n"}, {"tags": [], "owner": {"reputation": 10467, "user_id": 2045185, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/wO2Jd.jpg?s=128&g=1", "display_name": "sinisake", "link": "https://stackoverflow.com/users/2045185/sinisake"}, "is_accepted": false, "score": 8, "last_activity_date": 1482584210, "creation_date": 1482584210, "answer_id": 41313460, "question_id": 41272168, "link": "https://stackoverflow.com/questions/41272168/compare-text-inside-2-div-elements-using-javascript-or-jquery/41313460#41313460", "title": "compare text inside 2 div elements using javascript or jquery", "body": "<p>Well, we already have great answers here, but... here is one approach more. :)</p>\n\n<p>Basically: filter input, get clean pattern/matrix (assumption is that there will be two spaces at the start - have to fix this!), test it against another pattern (actually - make HTML structure and arrays from both => compare them) </p>\n\n<p>Visual representation of what's happening is there, too.</p>\n\n<p>Code is attrocity, can and <strong>should</strong> be cleaned up (but it kinda works, lol):</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>spacer='-';\r\n\r\npattern=$('.one').text().replace(/ /g,spacer).split('\\n');\r\n\r\npatt=pattern.filter(function(val){\r\n   if(val.indexOf('+')&gt;=1) {\r\n   \r\n   \r\n return val;\r\n   }\r\n});\r\npatt = patt.map(function(x){\r\n   return x.slice(2);\r\n});\r\n\r\n\r\nvar lgth = 0;\r\nvar longest;\r\n\r\nfor(var i=0; i &lt; patt.length; i++){ // http://stackoverflow.com/questions/6521245/finding-longest-string-in-array \r\n    if(patt[i].length &gt; lgth){\r\n        var lgth = patt[i].length;\r\n        longest = patt[i];\r\n    }      \r\n} \r\n\r\n \r\n//console.log(longest.length);\r\nlongest_sequence=longest.trim().length;\r\n\r\nmatrix=[];\r\n\r\nfor(j=0;j&lt;patt.length;j++) {\r\n//\r\nif(patt[j]!=longest) {\r\n\r\n\r\ncleaned=patt[j]+spacer.repeat(longest.length-patt[j].length);\r\ncleaned=cleaned.substr(-longest_sequence);\r\n}\r\nelse {\r\ncleaned=longest.trim();\r\n}\r\nmatrix.push(cleaned);\r\n}\r\n//console.log(matrix.join('\\n'));\r\n\r\n\r\ncells=[];\r\nfor(i=0;i&lt;matrix.length;i++)  {\r\n\r\n\r\ncells.push(matrix[i].split(''));\r\n$('table.small').append('&lt;tr&gt;');\r\n}\r\n\r\n$( \"table.small tr\" ).each(function( index ) {\r\nfor(j=0;j&lt;cells[index].length;j++) {\r\n$(this).append('&lt;td&gt;'+cells[index][j]+'&lt;/td&gt;');\r\n }\r\n});\r\n\r\n\r\n\r\ndata=$('.two').text().replace(/ /g,spacer).split('\\n');\r\ndata=data.filter(function(val){\r\n   if(val.indexOf('+')&gt;=1) {\r\n   return val;\r\n   }\r\n});\r\n\r\ndata = data.map(function(x){\r\n   return x.slice(2);\r\n});\r\n\r\n//console.log(data);\r\n//console.log(data.join('\\n'));\r\n\r\ncells=[];\r\nfor(i=0;i&lt;data.length;i++)  {\r\n\r\n\r\ncells.push(data[i].split(''));\r\n$('table.big').append('&lt;tr&gt;');\r\n}\r\n\r\n$( \"table.big tr\" ).each(function( index ) {\r\nfor(j=0;j&lt;cells[index].length;j++) {\r\n$(this).append('&lt;td&gt;'+cells[index][j]+'&lt;/td&gt;');\r\n }\r\n});\r\n\r\n//comparing!!!\r\npattern_arr=[];\r\n$(\"table.small tr\").each(function() {\r\npattern_arr.push($(this).children().text().trim())\r\n});\r\nfunction arraysEqual(a1,a2) {\r\n    /* WARNING: arrays must not contain {objects} or behavior may be undefined */\r\n   // console.log(JSON.stringify(a1)+':'+JSON.stringify(a2));\r\n   // console.log('________________________________________');\r\n    return JSON.stringify(a1)==JSON.stringify(a2);\r\n}\r\n\r\ncount=-1;\r\ntimer=setInterval(function(){ \r\ncount++;\r\nsliced_arr=[];\r\nslices=[];\r\n$( \"table.big tr\" ).each(function( index ) { \r\n$(this).children('td').removeClass('search');\r\nsliced=$(this).children('td').slice( count,count+longest_sequence );\r\nslices.push(sliced);\r\n$(sliced).addClass('search');\r\n\r\n\r\n\r\nsliced_arr.push($(sliced).text().trim());\r\n\r\n\r\n\r\n\r\nif(arraysEqual(pattern_arr,sliced_arr)) {\r\n\r\n\r\n\r\n//$(sliced).addClass('found').removeClass('search');\r\n\r\n$.each( slices, function( key, value ) {\r\n$(this).addClass('found').removeClass('search');\r\n});\r\n//$(slices).addClass('found').removeClass('search');\r\n\r\n$('#status').text('Found!');\r\n\r\n\r\n\r\n\r\n\r\nclearInterval(timer);\r\n }\r\n \r\nfor(i=0;i&lt;sliced_arr.length;i++)\r\n if(sliced_arr[i]==\"\") {\r\n\r\n  clearInterval(timer);\r\n\r\n$('#status').text('Not found!');\r\n break;\r\n\r\n }\r\n\r\n\r\n\r\n});\r\n}, 1000);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.one, .two {\r\n  font-size:22px;\r\n}\r\n\r\ntable.big {\r\n  border:1px solid #666;\r\npadding:0;\r\n  border-collapse:collapse;\r\n}\r\ntable.big td {\r\n  border:1px solid #666;\r\n \r\n  padding:5px;\r\n  margin:0;\r\n}\r\n\r\ntable.small {\r\n  border:1px solid red;\r\npadding:0;\r\n  border-collapse:collapse;\r\n}\r\ntable.small td {\r\n  border:1px solid red;\r\n \r\n  padding:5px;\r\n  margin:0;\r\n}\r\n\r\n.found {\r\n  font-weight:bold;\r\n  color:white;\r\n  background:green;\r\n}\r\n.search {\r\n  font-weight:bold;\r\n  color:white;\r\n  background:orange;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"one\"&gt;&lt;pre&gt;\r\n   +\r\n  +++\r\n   +\r\n &lt;/pre&gt;&lt;/div&gt;\r\n&lt;table class=\"small\"&gt;\r\n\r\n&lt;/table&gt;\r\n&lt;div class=\"two\"&gt;&lt;pre&gt;\r\n  + +   ++++  + ++  + + +\r\n  + ++ +++ + +++ ++ + +++\r\n  + ++ + + ++ + + + + ++ \r\n&lt;/pre&gt;&lt;/div&gt;\r\n\r\n&lt;table class=\"big\"&gt;\r\n\r\n&lt;/table&gt;\r\n&lt;div id=\"status\"&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 6586, "user_id": 1204332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6db13ff0cb90fe19cb10c4f61c28d7d?s=128&d=identicon&r=PG", "display_name": "Ivan Chaer", "link": "https://stackoverflow.com/users/1204332/ivan-chaer"}, "is_accepted": false, "score": 8, "last_activity_date": 1482949145, "last_edit_date": 1495540011, "creation_date": 1482589875, "answer_id": 41314131, "question_id": 41272168, "link": "https://stackoverflow.com/questions/41272168/compare-text-inside-2-div-elements-using-javascript-or-jquery/41314131#41314131", "title": "compare text inside 2 div elements using javascript or jquery", "body": "<p>@2619's <a href=\"https://stackoverflow.com/questions/41201026/bliffoscope-data-analysis-solution-using-javascript\">previous post</a> shows interest for the <em>Bliffoscope problem</em>. Given that the text contents of <code>div.one</code> and <code>div.two</code>, in fixed-width font, ascii art style, are pictures pieced together from <code>+</code>, meaning an <strong>active</strong> pixel,  and \"<code></code>\" (space) <strong>inactive</strong>. The idea is to find in which position we could place <code>div.one</code> over <code>div.two</code>, so that the two patterns form more intersections. I'm only considering the intersection of the coordinates of the <strong>active</strong> pixels of two given images.</p>\n\n<p>In this example, <code>+</code> is replaced by <code>o</code> to highlight the intersections of each match. A simplified version that uses <code>canvas</code> can be found <a href=\"https://fiddle.jshell.net/ivanchaer/hksb3kss/\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>In the below <em>SO snippet</em> and in the <a href=\"https://jsfiddle.net/ivanchaer/jkLm70ce/\" rel=\"nofollow noreferrer\">JSFiddle demo</a>, click the <code>Next</code> and <code>Previous</code> links, or press the arrow buttons of the keyboard, to navigate through the matches. </p>\n\n<p><code>_main.best_positions()</code> returns the number of intersections for every possible superposition, with any degree of tolerance for error, sorted by number of intersections (more matches first).</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var PatternFinder;\r\n\r\nPatternFinder = (function(win, doc, undefined) {\r\n  'use strict';\r\n\r\n  var _main = {\r\n\r\n    selectors: {\r\n      object_1_pattern: \".one\",\r\n      background_pattern: \".two\",\r\n      results: \".three\",\r\n      next_button: \".next\",\r\n      previous_button: \".previous\",\r\n      match_score: \".intersecting_coords\",\r\n      match_nr: \".match_nr\",\r\n    },\r\n    cache: {\r\n      object_text_string: '',\r\n      context_text_string: ''\r\n    },\r\n    init: function() {\r\n\r\n      _main.cache.object_text_string = $(_main.selectors.object_1_pattern).text();\r\n      _main.cache.context_text_string = $(_main.selectors.background_pattern).text();\r\n\r\n      // Parse our images from the text strings.\r\n      _main.serialized_context = _main.serialize_map(_main.cache.context_text_string);\r\n      _main.serialized_object = _main.serialize_map(_main.cache.object_text_string);\r\n\r\n      // Find the position of the object with larger amount of intersecting coordinates\r\n      _main.best_positions = _main.get_best_position(_main.serialized_context, _main.serialized_object);\r\n      _main.current_result = _main.best_positions.length - 1;\r\n\r\n      // Draw initial results\r\n      _main.print_output(_main.current_result);\r\n\r\n      // Handle user input\r\n      $(_main.selectors.next_button).click(function() {\r\n        _main.current_result -= 1;\r\n        _main.print_output();\r\n      });\r\n      $(_main.selectors.previous_button).click(function() {\r\n        _main.current_result += 1;\r\n        _main.print_output();\r\n      });\r\n      // Keyboard: Arrow keys\r\n      $(document).keydown(function(e) {\r\n        switch (e.which) {\r\n          case 37:\r\n            { // left\r\n              _main.current_result += 1;\r\n              _main.print_output();\r\n              break;\r\n            }\r\n          case 39:\r\n            { // right\r\n              _main.current_result -= 1;\r\n              _main.print_output();\r\n              break;\r\n            }\r\n          default:\r\n            return;\r\n        }\r\n        e.preventDefault(); // prevent the default action (scroll / move caret)\r\n      });\r\n    },\r\n\r\n    // Highlight an intersection.\r\n    // Replace \"+\" by \"o\" in coords _x, _y.\r\n    highlight_match: function(_x, _y, background) {\r\n      var x = 0,\r\n        y = 0,\r\n        i = 0,\r\n        output = \"\",\r\n        c;\r\n      for (i = 0; i &lt; background.length; i += 1) {\r\n        c = background[i];\r\n        if (c == \"+\" &amp;&amp; x == _x &amp;&amp; y == _y) {\r\n          output = output + \"o\";\r\n        } else {\r\n          output = output + c;\r\n        }\r\n        x += 1;\r\n        if (c == \"\\n\") {\r\n          x = 0;\r\n          y += 1;\r\n        }\r\n      }\r\n\r\n      return output;\r\n    },\r\n\r\n    // Receive the translated serialized object,\r\n    // and the original text string for the background.\r\n    // Return the background text string, with the matches \r\n    // between it and serialized_object highlighted.\r\n    merge_and_deserialize: function(serialized_object, background) {\r\n      var i;\r\n      for (i = serialized_object.length - 1; i &gt;= 0; i--) {\r\n        background = _main.highlight_match(serialized_object[i][0], serialized_object[i][1], background);\r\n      }\r\n      return background;\r\n    },\r\n\r\n    // Receive a text string like the one from the Stack Overflow ticket, \r\n    // return an array of coordinates of filled in pixels (+ or space).\r\n    serialize_map: function(char_map) {\r\n      var x = 0,\r\n        y = 0,\r\n        c,\r\n        i,\r\n        map = [];\r\n      for (i = 0; i &lt; char_map.length; i += 1) {\r\n        c = char_map[i];\r\n        if (c == \"+\") {\r\n          map.push([x, y]);\r\n        }\r\n        x += 1;\r\n        if (c == \"\\n\") {\r\n          x = 0;\r\n          y += 1;\r\n        }\r\n      }\r\n      return map;\r\n    },\r\n\r\n    // Find number of intersections between two images (that's where the magic happens).\r\n    // Found here: https://gist.github.com/lovasoa/3361645\r\n    array_intersect: function() {\r\n      var a, d, b, e, h = [],\r\n        l = [],\r\n        f = {},\r\n        g;\r\n      g = arguments.length - 1;\r\n      b = arguments[0].length;\r\n      for (a = d = 0; a &lt;= g; a += 1) {\r\n        e = arguments[a].length, e &lt; b &amp;&amp; (d = a, b = e);\r\n      }\r\n      for (a = 0; a &lt;= g; a += 1) {\r\n        e = a === d ? 0 : a || d;\r\n        b = arguments[e].length;\r\n        for (l = 0; l &lt; b; l += 1) {\r\n          var k = arguments[e][l];\r\n          f[k] === a - 1 ? a === g ? (h.push(k), f[k] = 0) : f[k] = a : 0 === a &amp;&amp; (f[k] = 0);\r\n        }\r\n      }\r\n      return h;\r\n    },\r\n\r\n    // Translate the coordinates of a serialized image.\r\n    translate: function(coords, ix, iy) {\r\n      return [coords[0] + ix, coords[1] + iy];\r\n    },\r\n\r\n    // Find in which position the object has more intersections with the background.\r\n    get_best_position: function(context, object) {\r\n\r\n      // Calculate image dimensions\r\n      var context_width = context.sort(function(a, b) {\r\n          return b[0] - a[0];\r\n        })[0][0],\r\n        context_height = context.sort(function(a, b) {\r\n          return b[1] - a[1];\r\n        })[0][1],\r\n        object_width = object.sort(function(a, b) {\r\n          return b[0] - a[0];\r\n        })[0][0],\r\n        object_height = object.sort(function(a, b) {\r\n          return b[1] - a[1];\r\n        })[0][1];\r\n      // Swipe context, store amount of matches for each patch position.\r\n      var similaritudes = [],\r\n        cx, cy, intersection, translated_object;\r\n\r\n      for (cx = -object_width; cx &lt; context_width; cx += 1) {\r\n        for (cy = -object_height; cy &lt; context_height; cy += 1) {\r\n          translated_object = object.map(function(coords) {\r\n            return _main.translate(coords, cx, cy);\r\n          });\r\n\r\n          intersection = _main.array_intersect(context, translated_object);\r\n\r\n          if (intersection.length &gt; 0) {\r\n            similaritudes.push({\r\n              coords: [cx, cy],\r\n              similaritudes: intersection.length\r\n            });\r\n          }\r\n\r\n        }\r\n      }\r\n      // Return coords,\r\n      // sorted by those for which number of matches was greater.\r\n      return similaritudes.sort(function(a, b) {\r\n        return a.similaritudes - b.similaritudes;\r\n      });\r\n    },\r\n\r\n    print_output: function() {\r\n\r\n      var positioned_object;\r\n\r\n      // Get the coordinates of one of our matches.\r\n      _main.current_result = Math.max(_main.current_result, 1);\r\n      _main.current_result = Math.min(_main.current_result, _main.best_positions.length - 1);\r\n\r\n      var score = _main.best_positions.slice(_main.current_result)[0].similaritudes;\r\n      var best_position = _main.best_positions.slice(_main.current_result)[0].coords;\r\n\r\n      // Translate our image patch to the position defined by _main.current_result.\r\n      positioned_object = _main.serialized_object.map(function(coords) {\r\n        return _main.translate(coords, best_position[0], best_position[1]);\r\n      });\r\n\r\n      // Produce merged images (background after replace).\r\n      var final_image = _main.merge_and_deserialize(positioned_object, _main.cache.context_text_string);\r\n      // Print image and information\r\n      $(_main.selectors.results).text(final_image);\r\n      $(_main.selectors.match_score).text(score);\r\n      $(_main.selectors.match_nr).text(_main.best_positions.length - _main.current_result);\r\n    }\r\n\r\n  };\r\n\r\n  // Expose methods\r\n  _main.public_methods = {\r\n    init: _main.init,\r\n  };\r\n  return _main.public_methods;\r\n\r\n}(window, document));\r\n\r\nPatternFinder.init();</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.one,\r\n.two {\r\n  display: none;\r\n}\r\n.three {\r\n  white-space: pre;\r\n  font-family: \"Lucida Console\", Monaco, \"Courier New\", Courier, monospace;\r\n  margin: 0 0 20px 0;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"one\"&gt;\r\n    +\r\n   +++\r\n    +\r\n&lt;/div&gt;\r\n&lt;div class=\"two\"&gt;\r\n    + +   ++++  + ++  + + +\r\n    + ++ +++ + +++ ++ + +++\r\n    + ++ + + ++ + + + + ++ \r\n&lt;/div&gt;\r\n&lt;h3&gt;Match: &lt;span class=\"match_nr\"&gt;&lt;/span&gt;&lt;/h3&gt; \r\n&lt;h5&gt;Intersecting coordinates: &lt;span class=\"intersecting_coords\"&gt;&lt;/span&gt;&lt;/h5&gt;\r\n&lt;div class=\"three\"&gt;&lt;/div&gt;\r\n&lt;nav&gt;\r\n&lt;a class=\"previous\" href=\"#\"&gt;Previous&lt;/a&gt;\r\n&lt;a class=\"next\" href=\"#\"&gt;Next&lt;/a&gt;\r\n&lt;/nav&gt;\r\n&lt;p&gt;&lt;sub&gt;Click Next and Previous or use the keyboard arrows to see other possible matches.&lt;/sub&gt;&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 5389, "user_id": 5437621, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/FTt9D.png?s=128&g=1", "display_name": "mrid", "link": "https://stackoverflow.com/users/5437621/mrid"}, "is_accepted": false, "score": 1, "last_activity_date": 1482659599, "creation_date": 1482659599, "answer_id": 41320172, "question_id": 41272168, "link": "https://stackoverflow.com/questions/41272168/compare-text-inside-2-div-elements-using-javascript-or-jquery/41320172#41320172", "title": "compare text inside 2 div elements using javascript or jquery", "body": "<p>Just a suggestion, but you can hash the content to compare them. This code uses CryptoJS library to generate MD5 hash </p>\n\n<pre><code>&lt;script src=\"http://crypto-js.googlecode.com/svn/tags/3.0.2/build/rollups/md5.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n    var div1 = CryptoJS.MD5( $('.one').text() );\n    var div2 = CryptoJS.MD5( $('.two').text() );\n    if(div1 === div2) {\n        // your code here\n   }\n&lt;/script&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5790, "user_id": 4545506, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f3c51b2c3b7f4c741798f2a7dd80605e?s=128&d=identicon&r=PG&f=1", "display_name": "ykaragol", "link": "https://stackoverflow.com/users/4545506/ykaragol"}, "edited": false, "score": 4, "creation_date": 1482753997, "post_id": 41330373, "comment_id": 69864930, "body": "Welcome to Stackoverflow! What is <code>diffString</code>? Which library supports it? Also you should better to format your code as code."}, {"owner": {"reputation": 1933, "user_id": 214420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5381970adfe013005d8f9f0eb2850c9?s=128&d=identicon&r=PG", "display_name": "Alireza Eliaderani", "link": "https://stackoverflow.com/users/214420/alireza-eliaderani"}, "reply_to_user": {"reputation": 5790, "user_id": 4545506, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f3c51b2c3b7f4c741798f2a7dd80605e?s=128&d=identicon&r=PG&f=1", "display_name": "ykaragol", "link": "https://stackoverflow.com/users/4545506/ykaragol"}, "edited": false, "score": 1, "creation_date": 1482836200, "post_id": 41330373, "comment_id": 69889647, "body": "@ykaragol +1 for your nice comment"}], "tags": [], "owner": {"reputation": 21, "user_id": 7324584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7325d9d9d2a1cacf6fb22a9ef57779be?s=128&d=identicon&r=PG&f=1", "display_name": "Suganya Shanker", "link": "https://stackoverflow.com/users/7324584/suganya-shanker"}, "is_accepted": false, "score": 1, "last_activity_date": 1493115010, "last_edit_date": 1493115010, "creation_date": 1482750729, "answer_id": 41330373, "question_id": 41272168, "link": "https://stackoverflow.com/questions/41272168/compare-text-inside-2-div-elements-using-javascript-or-jquery/41330373#41330373", "title": "compare text inside 2 div elements using javascript or jquery", "body": "<pre><code>$('.one').diffString($('.two').html());\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1176, "user_id": 5936814, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kXAuR.jpg?s=128&g=1", "display_name": "Flying Gambit", "link": "https://stackoverflow.com/users/5936814/flying-gambit"}, "edited": false, "score": 0, "creation_date": 1483159185, "post_id": 41346191, "comment_id": 70013970, "body": "@Downvoter please explain why ? Just down voting and leaving does not help anyone"}], "tags": [], "owner": {"reputation": 1176, "user_id": 5936814, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kXAuR.jpg?s=128&g=1", "display_name": "Flying Gambit", "link": "https://stackoverflow.com/users/5936814/flying-gambit"}, "is_accepted": false, "score": 0, "last_activity_date": 1482903796, "last_edit_date": 1482903796, "creation_date": 1482845647, "answer_id": 41346191, "question_id": 41272168, "link": "https://stackoverflow.com/questions/41272168/compare-text-inside-2-div-elements-using-javascript-or-jquery/41346191#41346191", "title": "compare text inside 2 div elements using javascript or jquery", "body": "<p>This solution won't work if the number of lines of the <code>test pattern</code> and  <code>source pattern</code> are different.</p>\n\n<p>The idea is to create a string of sequential columns of the pattern. Then we can easily check if the pattern exists using <code>indexOf</code></p>\n\n<p>Example, a pattern like this:</p>\n\n<pre><code>1 2 3\n+   +\n  + \n+ + +\n</code></pre>\n\n<p>becomes <code>\"+ + +++ +\";  // equivalent of [\"+ +\",\" ++\",\"+ +\"].join(\"\");</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/sD2Cm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sD2Cm.png\" alt=\"enter image description here\"></a>\nHere is the fiddle <a href=\"https://jsfiddle.net/flyinggambit/vcav3c46/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/flyinggambit/vcav3c46/</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function getVerticalPattern(pattern){\r\n  // split the pattern in to an array, each item represents each line\r\n  var pattern = pattern.split(\"\\n\"); \r\n  var numLines = pattern.length; // Find the number of lines\r\n\r\n  // Find the longest string\r\n  var longestString = 0;\r\n  for(var i=0; i&lt;pattern.length; ++i){\r\n      longestString = pattern[i].length;\r\n  }\r\n\r\n  // Rearrange the pattern\r\n  var newPattern = [];\r\n  for (var i=0; i&lt;longestString; i++){\r\n      for (var j=0; j&lt;numLines; j++){\r\n          if(pattern[j] &amp;&amp; pattern[j].length){ // sometimes the split was creating empty strings \"\"\r\n            newPattern.push(pattern[j][i]);\r\n          }\r\n      }   \r\n  }\r\n  return newPattern.join(\"\");\r\n}\r\n\r\nfunction findPattern(testPattern, srcPattern){\r\n  return (getVerticalPattern(srcPattern)).indexOf(getVerticalPattern(testPattern));\r\n}\r\n\r\nvar srcPattern = document.getElementsByClassName(\"two\")[0].innerHTML;\r\nvar testPattern = document.getElementsByClassName(\"one\")[0].innerHTML;\r\nvar result = findPattern(testPattern, srcPattern);\r\n\r\nif(result !== -1){\r\n  console.log(\"pattern found\");\r\n}else{\r\n  console.log(\"pattern not found\");\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;pre class=\"one\"&gt;\r\n    +\r\n   +++\r\n    +\r\n&lt;/pre&gt;\r\n\r\n\r\n&lt;pre class=\"two\"&gt;\r\n    + +   ++++  + ++  + + +\r\n    + ++ +++ + +++ ++ + +++\r\n    + ++ + + ++ + + + + ++ \r\n&lt;/pre&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>It was thrilling and fun to answer this question :)</p>\n"}, {"tags": [], "owner": {"reputation": 21010, "user_id": 2019247, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/MnZYd.jpg?s=128&g=1", "display_name": "31piy", "link": "https://stackoverflow.com/users/2019247/31piy"}, "is_accepted": false, "score": 1, "last_activity_date": 1483099993, "creation_date": 1483099993, "answer_id": 41396086, "question_id": 41272168, "link": "https://stackoverflow.com/questions/41272168/compare-text-inside-2-div-elements-using-javascript-or-jquery/41396086#41396086", "title": "compare text inside 2 div elements using javascript or jquery", "body": "<p>Assuming that the number of rows are same in both, the following solution keeps it simple to find the pattern.</p>\n\n<p><strong>Preconditions:</strong></p>\n\n<p>This solution needs the pattern, and the target to be formed as the follows:</p>\n\n<pre><code>var pattern = [\n  ' + ',\n  '+++',\n  ' + '\n];\n\nvar target = [\n  '+ +   ++++  + ++  + + +',\n  '+ ++ +++ + +++ ++ + +++',\n  '+ ++ + + ++ + + + + ++ '\n];\n</code></pre>\n\n<p>I think a simple javascript operation can do that -- reading the HTML row-by-row, and appending it to an array. If needed, I can provide that code as well.</p>\n\n<p><strong>How it works:</strong></p>\n\n<p>The code first decides the width of <code>pattern</code>, and then continues to find patterns of such width column-by-column in the <code>target</code> array. The loop stops when a pattern of lower width is detected, or a match is found.</p>\n\n<p><strong>The code:</strong></p>\n\n<pre><code>// Our core function\nfunction matches(target, pattern) {\n\n  if (pattern.length &gt; target.length) {\n    return false;\n  }\n\n  var patternWidth = findPatternWidth(pattern);\n  var startIndex = 0;\n  var currentPattern = getNextPattern(target, startIndex, patternWidth);\n\n  while (patternValid(currentPattern, patternWidth)) {\n    if (identicalArrays(currentPattern, pattern)) {\n      return true;\n    }\n\n    startIndex++;\n    currentPattern = getNextPattern(target, startIndex, patternWidth);\n  }\n\n  return false;\n}\n\n// -*-*-*-*-*- HELPER FUNCTIONS -*-*-*-*-*-*\n\n// Finds the width of the pattern we want to match\nfunction findPatternWidth(pattern) {\n  var maxWidth = 0;\n\n  for (var i = 0; i &lt; pattern.length; i++) {\n    if (pattern[i].length &gt; maxWidth) {\n      maxWidth = pattern[i].length;\n    }\n  }\n\n  return maxWidth;\n}\n\n// Finds the next suitable pattern, starting with an index, of a maximum width\nfunction getNextPattern(target, startIndex, maxWidth) {\n  var result = [];\n\n  for (var i = 0; i &lt; target.length; i++) {\n    result.push(target[i].substr(startIndex, maxWidth));\n  }\n\n  return result;\n}\n\n// Checks if two non-nested arrays are identical\nfunction identicalArrays(source, target) {\n  if (source.length !== target.length) {\n    return false;\n  }\n\n  for (var i = 0; i &lt; source.length; i++) {\n    if (source[i] !== target[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n// Checks if a given pattern is of given width\nfunction patternValid(pattern, maxWidth) {\n  for (var i = 0; i &lt; pattern.length; i++) {\n    if (pattern[i].length &lt; maxWidth) {\n      return false;\n    }\n  }\n\n  return true;\n}\n</code></pre>\n\n<p>I believe that this approach can be extended to get rid of this assumption <code>the number of rows are same in both</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1145, "user_id": 7106958, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154634271027836/picture?type=large", "display_name": "Max Vorobjev", "link": "https://stackoverflow.com/users/7106958/max-vorobjev"}, "is_accepted": false, "score": 2, "last_activity_date": 1483128563, "last_edit_date": 1483128563, "creation_date": 1483125476, "answer_id": 41401551, "question_id": 41272168, "link": "https://stackoverflow.com/questions/41272168/compare-text-inside-2-div-elements-using-javascript-or-jquery/41401551#41401551", "title": "compare text inside 2 div elements using javascript or jquery", "body": "<p>There are quite interesting ideas in previous posts, I like to add functional approach which is more compact (it uses lodash). Main idea is to trim matching text and compare it with shifting window(<em>cut</em>) on the target text. On top of that function also returns position where match is found from the left. <a href=\"https://jsfiddle.net/dunnock/1ddsu5jk/2/\" rel=\"nofollow noreferrer\">See working Fiddle</a>:</p>\n\n<pre><code>function findText(text, search) {\n  const width = maxWidth(search)-minTrim(search);\n  const matcher = cut(search, minTrim(search),width).join('');\n  return _.range(text[1].length) // create array of possible matches\n            .map(col=&gt;cut(text, col, width).join(''))\n            .indexOf(matcher)+1; // and match with matcher\n}\n\n// Returns left padding size, e.g. 3 in the example\nfunction minTrim(t) {\n  return _.min(t.filter(s=&gt;!!s).map(s=&gt;s.length-_.trimStart(s).length))\n}\n\n// Returns window within $text at $start position with $width\nfunction cut(text, start, width) {\n  return text.map(s=&gt;_.padEnd(s.substr(start,width),width))\n}\n\n// Returns maximum width of the line within text\nfunction maxWidth(text) {\n  return _.max(text.map(s=&gt;s.length))\n}\n</code></pre>\n\n<p>Function findText can be used like this:</p>\n\n<pre><code>const two=document.getElementsByClassName(\"two\")[0].innerHTML.split('\\n');\nconst one=document.getElementsByClassName(\"one\")[0].innerHTML.split('\\n');\nalert((pos=findText(two,one)) ? `found at position ${pos}` : \"not found\");\n</code></pre>\n\n<p><strong>Option 2</strong> if string consist only of '+' and length is not more than 64 characters we can convert above function to bit mask matching. E.g. convert every string to the binary digit, then shift target string, applying search mask (e.g. window in the above example) and comparing numbers. <a href=\"https://jsfiddle.net/dunnock/c66q9vds/1/\" rel=\"nofollow noreferrer\">See working fiddle</a>:</p>\n\n<pre><code>function findTextBin(text,search) {\n  const toBin=str=&gt;str.split('')\n          .reduce((res,c)=&gt;res&lt;&lt;1|(c==='+'?1:0),0)\n  let one=search.map(toBin)\n  let mask=toBin(_.max(one).toString(2).split('').map(c=&gt;'+').join(''))\n  let two=text.map(toBin)\n  let length=_.max(text.map(str=&gt;str.length))\n  for(let i=length; i; i--,two=two.map(num=&gt;num&gt;&gt;1))\n    if(two.every((num,row)=&gt;(num&amp;mask)===one[row]))\n      return i-mask.toString(2).length;\n  return false;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 373, "user_id": 3220986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChgPF.png?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/3220986/david"}, "is_accepted": false, "score": 1, "last_activity_date": 1483128283, "creation_date": 1483128283, "answer_id": 41402063, "question_id": 41272168, "link": "https://stackoverflow.com/questions/41272168/compare-text-inside-2-div-elements-using-javascript-or-jquery/41402063#41402063", "title": "compare text inside 2 div elements using javascript or jquery", "body": "<p>To find the pattern in another string, the position of the pluses relative to each other is first found; then the pluses in the second string are checked if they are in the same relative positions.</p>\n\n<p>The <code>findCoordinates</code> function finds the position of the pluses in the pattern relative to the first plus in the pattern string. For the pattern,</p>\n\n<pre><code> +\n+++\n +\n</code></pre>\n\n<p>the <code>+</code> in the top row is at (0,0). The first <code>+</code> in the second row is at (-1,1) since it is one row below and one place to the left of the first <code>+</code>. Similarly, the other pluses are at (0,1), (1,1), and (0,2) respectively.</p>\n\n<p>The <code>hasPattern</code> function uses the relative coordinates to check if the pattern is present in the second string. For each <code>+</code> in the second string, it checks if there are other <code>+</code> characters at the corresponding positions to match the pattern. For the example pattern, the function would check if a character is a plus. If it is a <code>+</code>, then it checks the characters below to the left, directly below, below to the right, and two rows below. If those characters are also pluses, then the function returns true.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function findCoordinates(string) {\r\n  var rows = string.split('\\n');\r\n  var coordinates = [];\r\n  var first = null;\r\n\r\n  for (var i = 0; i &lt; rows.length; i++) {\r\n    for (var j = 0; j &lt; rows[i].length; j++) {\r\n      if (rows[i][j] === '+') {\r\n        if (first === null) {\r\n          first = {x:j, y:i};\r\n        }\r\n        coordinates.push({x:j-first.x, y:i-first.y});\r\n      }\r\n    }\r\n  }\r\n\r\n  return coordinates;\r\n}\r\n\r\nfunction hasPattern(string, coordinates)\r\n{\r\n  var rows = string.split('\\n');\r\n  var matches = 0;\r\n  var coordinate = null;\r\n\r\n  for (var i = 0; i &lt; rows.length; i++) {\r\n    for (var j = 0; j &lt; rows[i].length; j++) {\r\n      if (rows[i][j] === '+') {\r\n        matches = 0;\r\n        for (var k = 0; k &lt; coordinates.length; k++) {\r\n          coordinate = coordinates[k];\r\n          if (rows[i + coordinate.y] &amp;&amp; rows[i + coordinate.y][j + coordinate.x] === '+') {\r\n            matches++;\r\n          }\r\n        }\r\n        if (matches === coordinates.length) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\nvar one = document.querySelector('.one');\r\nvar two = document.querySelector('.two');\r\n\r\nconsole.log(hasPattern(two.textContent, findCoordinates(one.textContent)));</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>div {\r\n  font-family: monospace;\r\n  white-space: pre;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"one\"&gt;\r\n    +\r\n   +++\r\n    +\r\n&lt;/div&gt;\r\n\r\n&lt;div class=\"two\"&gt;\r\n    + +   ++++  + ++  + + +\r\n    + ++ +++ + +++ ++ + +++\r\n    + ++ + + ++ + + + + ++ \r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1329, "user_id": 7353636, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMsZA.jpg?s=128&g=1", "display_name": "Mirko Vuku\u0161i\u0107", "link": "https://stackoverflow.com/users/7353636/mirko-vuku%c5%a1i%c4%87"}, "is_accepted": false, "score": 0, "last_activity_date": 1483131309, "creation_date": 1483131309, "answer_id": 41402583, "question_id": 41272168, "link": "https://stackoverflow.com/questions/41272168/compare-text-inside-2-div-elements-using-javascript-or-jquery/41402583#41402583", "title": "compare text inside 2 div elements using javascript or jquery", "body": "<p>This is quick and ugly, still some error checking and optimization left to be done... but enough to show the concept:</p>\n\n<pre><code>var pattern = [\n  '+ + ',\n  '+ ++',\n  '+ ++'\n];\n\nvar target = [\n  '+ +   ++++  + ++  + + +',\n  '+ ++ +++ + +++ ++ + +++',\n  '+ ++ + + ++ + + + + ++ '\n];\n\nfunction getAllIndexes(arr, val) {\n    var indexes = [], i = -1;\n    while ((i = arr.indexOf(val, i+1)) != -1){\n        indexes.push(i);\n    }\n    return indexes;\n}\n\nfunction checkNextRow(pattern, target, pRow, tRow) {\n  var matchePos = target[i].indexOf(pattern[0]);\n}\n\n\nfunction test(pattern, target) {\n  //get pattern hights for later\n  var pH = pattern.length;\n  var tH = target.length;\n\n  //target should have equal or more rows\n  if (tH &lt; pH) return 'not found';\n\n  //which is the lowest row of the target where top row of the pattern can be matched?\n  tLastTop = tH - pH;\n\n\n  //function to check row of pattern\n  function checkRest(pRow, tRow, hPosMatch) {\n    console.log('searching for '+pattern[pRow]+' in '+target[tRow]);\n    var matchPos = target[tRow].indexOf(pattern[pRow], hPosMatch);\n\n    console.log('search result&gt;&gt;&gt;&gt;'+matchPos);\n    if (matchPos &gt;= 0 &amp;&amp; matchPos === hPosMatch) {\n      if (pRow === pH-1) {\n        console.log('last row of pattern matched');\n        return true; //last row of pattern matched\n      } else {\n        console.log('calling checkRow from itself');\n        return checkRest(pRow+1, tRow+1, hPosMatch);\n      }\n    } else {\n      console.log('pattern not found in row, returning false',hPosMatch, matchPos);\n      return false;\n    }\n  }\n\n  //search for top row of pattern\n  for (i = 0; i &lt;= tLastTop; i++) {\n    //get all accurance indexes of patern's first row\n    var matches = getAllIndexes(target[i], pattern[0]);\n    console.log(\"matches\",matches);\n    if (matches.length &lt;= 0) continue;\n\n    //try other rows for each accurance position\n    for (h = 0; h &lt;= matches.length; h++) {\n      var hPosMatch = matches[h];\n      console.log('calling checkRow from iterator');\n      var result = checkRest(1,i+1,hPosMatch);\n      if (result) return true;\n    }\n  }\n  return false;\n\n\n}\n\nconsole.log(test(pattern, target));\n</code></pre>\n\n<p>I skipped loading DIV content into pattern/target vars as it seems trivial. Also I assumed spaces are also important for pattern, meaning '<code>+ +</code>' does not match '<code>+++</code>'</p>\n\n<p>JSBin is here: <a href=\"http://jsbin.com/kayeyi/edit?js,console\" rel=\"nofollow noreferrer\">http://jsbin.com/kayeyi/edit?js,console</a></p>\n"}, {"tags": [], "owner": {"reputation": 1412, "user_id": 4412979, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0cfb152d27769d6a04b7ec0707da22a5?s=128&d=identicon&r=PG", "display_name": "Vasily Liaskovsky", "link": "https://stackoverflow.com/users/4412979/vasily-liaskovsky"}, "is_accepted": false, "score": 0, "last_activity_date": 1483137672, "creation_date": 1483137672, "answer_id": 41403599, "question_id": 41272168, "link": "https://stackoverflow.com/questions/41272168/compare-text-inside-2-div-elements-using-javascript-or-jquery/41403599#41403599", "title": "compare text inside 2 div elements using javascript or jquery", "body": "<p>To not overcomplicate things I made some assumptions on the inputs:</p>\n\n<ol>\n<li>Number of lines in inputs are equal</li>\n<li>Any empty line from inputs can be omitted</li>\n<li>Every non-empty line of inputs should contain whitespace characters at \"missing\" places</li>\n<li>The whitespace character in both inputs is the same and it's NOT a line break</li>\n</ol>\n\n<p>Besides of collecting data from the DOM the solution goes through following steps:</p>\n\n<ol>\n<li>Both pattern and input are converted into arrays of strings, each string for a line. Arrays must have same length (<em>assumption 1</em>)</li>\n<li>For each pair of lines list of possible matches are collected - list of all indices in input string on which pattern string is included</li>\n<li>Result lists are flattened into single list and all indices are counted. Now for each possible index we have number of lines where match is successful</li>\n<li>Filter the result to leave only indices with maximum count</li>\n</ol>\n\n<p>There is also a <a href=\"https://jsfiddle.net/blr_Oliver/m1f92sm8/\" rel=\"nofollow noreferrer\">working fiddle</a> of the solution</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function indexOf(pattern, input){\r\n\tif(pattern.length !== input.length) throw 'Works only for same number of lines';\r\n\tvar counts = [].concat(...input.map((s,i) =&gt; allMatches(pattern[i],s))).reduce((r,e) =&gt; (r[e] = (r[e] || 0) + 1, r), {}); //find all matches for all lines and flatten the result\r\n  var stops = Object.keys(counts).filter(k =&gt; counts[k] === pattern.length); //get only those that span across all the lines\r\n  return stops[0] || -1; //first found or -1 if empty\r\n}\r\nfunction allMatches(substr, str){\r\n\tvar result = [], index = 0;\r\n  while(~(index = str.indexOf(substr, index))) // ~(-1) is falsy\r\n  \tresult.push(index++);\r\n  return result;\r\n}\r\nfunction readContent(element){\r\n\treturn (element.value || element.textContent).split(/[\\r\\n]+/).filter(s =&gt; s.length); //get all non-empty lines\r\n}\r\nfunction showResult(pattern, input){\r\n\tvar chars = Array(input[0].length).fill('\\xa0'); // &amp;nbsp;\r\n\tchars[indexOf(pattern, input)] = '^';\r\n  document.querySelector('.result').textContent = chars.join('');\r\n}\r\nfunction updater(){\r\n\tshowResult(\treadContent(document.querySelector('.one')),\r\n\t\t\t\t\t\t\treadContent(document.querySelector('.two'))\r\n\t);\r\n}\r\ndocument.querySelector('.one').addEventListener('input', updater);\r\ndocument.querySelector('.two').addEventListener('input', updater);\r\nupdater();</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.one, .two, .result{\r\n  padding: 0;\r\n  margin: 0;\r\n  font-family: monospace;\r\n  width: 100%;\r\n  font-size: 1rem;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;textarea class=\"one\" rows=\"4\"&gt;\r\n + \r\n+++\r\n + \r\n&lt;/textarea&gt;\r\n&lt;textarea class=\"two\" rows=\"4\"&gt;\r\n+ +   ++++  + ++  + + +\r\n+ ++ +++ + +++ ++ + +++\r\n+ ++ + + ++ + + + + ++ \r\n&lt;/textarea&gt;\r\n&lt;div class=\"result\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 23845, "user_id": 1136062, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d17fbd5a00696222388a6d3c17adc99e?s=128&d=identicon&r=PG", "display_name": "Om3ga", "link": "https://stackoverflow.com/users/1136062/om3ga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2349, "favorite_count": 9, "accepted_answer_id": 41308741, "answer_count": 13, "score": 38, "last_activity_date": 1493115010, "creation_date": 1482355705, "last_edit_date": 1482356985, "question_id": 41272168, "link": "https://stackoverflow.com/questions/41272168/compare-text-inside-2-div-elements-using-javascript-or-jquery", "title": "compare text inside 2 div elements using javascript or jquery", "body": "<p>I have following 2 div tags</p>\n\n<pre><code>&lt;div class=\"one\"&gt;\n    +\n   +++\n    +\n&lt;/div&gt;\n</code></pre>\n\n<p>second div tag</p>\n\n<pre><code>&lt;div class=\"two\"&gt;\n    + +   ++++  + ++  + + +\n    + ++ +++ + +++ ++ + +++\n    + ++ + + ++ + + + + ++ \n&lt;/div&gt;\n</code></pre>\n\n<p>Now what I want to find if <code>.one</code> is exist in <code>.two</code>. Is it possible if yes how can we do it in javascript?</p>\n\n<p><strong>Update</strong></p>\n\n<p>I want to check the <code>+</code> pattern. I mean does </p>\n\n<p><code>+\n+++\n +</code></p>\n\n<p>exist in <code>.two</code>? The pattern has to be in that same order in <code>.two</code>.</p>\n\n<p>@shub answer does not seem to be working. Here is <a href=\"https://jsfiddle.net/6L99q3a7/\">JSFiddle</a> of that answer.</p>\n"}, {"tags": ["javascript", "google-chrome", "google-chrome-extension", "content-script"], "owner": {"reputation": 21, "user_id": 7303021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ddb3ee17165ae100146ec979c869cae?s=128&d=identicon&r=PG&f=1", "display_name": "sanjukgowda", "link": "https://stackoverflow.com/users/7303021/sanjukgowda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 369, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1482355666, "creation_date": 1482355666, "question_id": 41272159, "link": "https://stackoverflow.com/questions/41272159/how-to-read-from-a-local-file-and-run-a-script-on-the-current-open-page-and-disp", "title": "How to read from a local file and run a script on the current open page and display file content on the text field using chrome extension", "body": "<p>Problem statement:\n1. I want to read a local file based on user selection \n2. Display the file content on the Text field of the current active page</p>\n\n<p>Manifest</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>{\r\n  \"manifest_version\": 2,\r\n\r\n  \"name\": \"Click to execute\",\r\n  \"description\": \"Testing read file\",\r\n  \"version\": \"1.0\",\r\n\r\n  \"icons\": {\r\n    \"48\": \"icon.png\"\r\n  },\r\n\r\n  \"permissions\": [\r\n    \"tabs\",\"all_urls\",\"activeTab\"\r\n  ],\r\n\r\n  \"browser_action\": {\r\n    \"default_icon\": \"icon.png\",\r\n    \"default_popup\": \"popup.html\"\r\n  },\r\n\r\n  \"background\": {\r\n    \"scripts\": [\"background.js\"],\r\n    \"persistent\": false\r\n  },\r\n  \r\n  \"content_scripts\": [\r\n    {\r\n    \"matches\": [\r\n        \"http://*/*\",\r\n        \"https://*/*\"\r\n        ],\r\n    \"js\": [\"content.js\"],\r\n\t \"run_at\": \"document_end\"\r\n    }\r\n]\r\n  \r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>popup.js</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> \r\n  function openfile1(event) {\r\n    var input = event.target;\r\n\t    var reader = new FileReader();\r\n    reader.onload = function(){\r\n      var text = reader.result;\r\n      console.log(reader.result.substring(0, 200));\r\n\t  displayintext(text);\r\n\t // alert(\"File Content----\"+reader.result.substring(0, 500));\r\n    };\r\n\t    reader.readAsText(input.files[0]);\r\n};\r\n \r\nfunction displayintext(finalvalue)\r\n{\r\n\tvar f1 = finalvalue;\r\n\talert(\"finalvalue   \"+ f1);\r\n\t//chrome.tabs.executeScript(null, {code: \"var Sbonus= getTextInControl(\"AH_5fOTHER_5fBONUS_5fGRAND_5fTOTAL\"); alert(Sbonus);\"}); \t \r\n}\r\n  document.getElementById('opentest').addEventListener('change', openfile1, false);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Content.js\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>/*\r\nvar Sbonus= getTextInControl(\"AH_5fOTHER_5fBONUS_5fGRAND_5fTOTAL\");  \r\nvar SpliAmt = Sbonus /4;  \r\nconsole.log(Sbonus);\r\nsetTextInControl(\"AH_5fOFFER_5fOTHER_5fBONUS_5fAMT_5f1\",SpliAmt); \r\nsetTextInControl(\"AH_5fOFFER_5fOTHER_5fBONUS_5fAMT_5f2\",SpliAmt); \r\nsetTextInControl(\"AH_5fOFFER_5fOTHER_5fBONUS_5fAMT_5f3\",SpliAmt); \r\nsetTextInControl(\"AH_5fOFFER_5fOTHER_5fBONUS_5fAMT_5f4\",SpliAmt); \r\nconsole.log(SpliAmt);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>i am completely new to chrome extension development. i am unable to get the code to working. the extension is able to read the file and display the content on the alert.</p>\n\n<p>Now, i want to execute the content script to read the value of a text field from the current active page which is in <code>content.js</code> and paste the value from the previous file content on one of the text field.</p>\n\n<p>Any help is greatly appreciated.</p>\n"}, {"tags": ["javascript", "jquery", "ajax", "django", "checkbox"], "answers": [{"tags": [], "owner": {"reputation": 20905, "user_id": 3897775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/STmqq.jpg?s=128&g=1", "display_name": "Rounin", "link": "https://stackoverflow.com/users/3897775/rounin"}, "is_accepted": true, "score": 1, "last_activity_date": 1482360377, "last_edit_date": 1482360377, "creation_date": 1482359926, "answer_id": 41273107, "question_id": 41272153, "link": "https://stackoverflow.com/questions/41272153/django-retrieve-values-of-checkboxes/41273107#41273107", "title": "Django - Retrieve Values of Checkboxes", "body": "<p>You can:</p>\n\n<ol>\n<li>Test the boolean <code>checked</code> property for each checkbox (in either jQuery or in native javascript);</li>\n<li>Build an array from the results;</li>\n<li>Optionally convert the array into a conventional object (javascript arrays are already objects); and then</li>\n<li>Convert either the conventional object or the array into JSON (which you can then send via Ajax).</li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function(){\r\n\r\n    var checkedCheckboxes = [];\r\n\r\n    $('button').click(function(){\r\n        $('input').each(function(){\r\n            if ($(this).is(':checked')) {\r\n                checkedCheckboxes.push($(this).val())  \r\n            }\r\n        });\r\n\r\n    // Now we have an array\r\n    console.log('JS Array: ');\r\n    console.log(checkedCheckboxes);\r\n\r\n    // Convert array to standard Javascript Object Literal\r\n    var checkedCheckboxesObject = $.extend({}, checkedCheckboxes);\r\n    console.log('JS Object: ');\r\n    console.log(checkedCheckboxesObject);\r\n\r\n    // Convert Object Literal to JSON\r\n    var checkedCheckboxesJSON = JSON.stringify(checkedCheckboxesObject);\r\n    console.log('JSON: ');\r\n    console.log(checkedCheckboxesJSON);\r\n\r\n    });\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;form&gt;\r\n&lt;input type=\"checkbox\" value=\"document_1\" name=\"checkbox_1\"&gt;\r\n&lt;input type=\"checkbox\" value=\"document_2\" name=\"checkbox_1\"&gt;\r\n&lt;input type=\"checkbox\" value=\"document_3\" name=\"checkbox_1\"&gt;\r\n&lt;button type=\"button\"&gt;Submit&lt;/button&gt;\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 78, "user_id": 6351304, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--myTh7nJMh8/AAAAAAAAAAI/AAAAAAAAAl8/JA0ONnv8ueI/photo.jpg?sz=128", "display_name": "arstj", "link": "https://stackoverflow.com/users/6351304/arstj"}, "is_accepted": false, "score": 0, "last_activity_date": 1482393157, "creation_date": 1482393157, "answer_id": 41278207, "question_id": 41272153, "link": "https://stackoverflow.com/questions/41272153/django-retrieve-values-of-checkboxes/41278207#41278207", "title": "Django - Retrieve Values of Checkboxes", "body": "<p>Try to surround it with a form:</p>\n\n<pre><code>&lt;form method=\"post\" id=\"list-action\"&gt;\n&lt;input type=\"checkbox\" value=\"document_1\" name=\"checkbox_1\"&gt;\n&lt;input type=\"checkbox\" value=\"document_2\" name=\"checkbox_1\"&gt;\n&lt;input type=\"checkbox\" value=\"document_3\" name=\"checkbox_1\"&gt;\n&lt;button type=\"button\" class=\"js-use-selected\"&gt;Submit&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>and then in your ajax, do this:</p>\n\n<pre><code>$(\".js-use-selected\").click(function () {\n  $.ajax({\n    url: '/path/to/',\n    data: $(\"#list-action\").serialize(),\n    dataType: 'json',\n    type: 'post',\n    success: function (data) {\n\n    }\n  });\n});\n</code></pre>\n\n<p>In your <code>views.py</code> you can get a list of the \"checkbox_1\" values by the name of checkbox elements:</p>\n\n<pre><code>values = request.POST.getlist('checkbox_1')\n</code></pre>\n\n<p>if it doesn't work, try this:</p>\n\n<pre><code>values = request.POST.getlist('checkbox_1[]')\n</code></pre>\n\n<p>And then, for example:</p>\n\n<pre><code>MyModel.objects.filter(fieldname__in=values)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1192, "user_id": 4040307, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100000593567425/picture?type=large", "display_name": "Pulkit Pahwa", "link": "https://stackoverflow.com/users/4040307/pulkit-pahwa"}, "is_accepted": false, "score": 0, "last_activity_date": 1482400858, "creation_date": 1482400858, "answer_id": 41280413, "question_id": 41272153, "link": "https://stackoverflow.com/questions/41272153/django-retrieve-values-of-checkboxes/41280413#41280413", "title": "Django - Retrieve Values of Checkboxes", "body": "<pre><code>&lt;form action=\"\"&gt;\n    &lt;input type=\"checkbox\" name=\"checkbox_1\" value=\"checkbox_1\" class=\"checkbox\"&gt;\n    &lt;input type=\"checkbox\" name=\"checkbox_1\" value=\"checkbox_2\" class=\"checkbox\"&gt;\n    &lt;input type=\"checkbox\" name=\"checkbox_1\" value=\"checkbox_3\" class=\"checkbox\"&gt;\n    &lt;input type=\"checkbox\" name=\"checkbox_1\" value=\"checkbox_4\" class=\"checkbox\"&gt;\n    &lt;button type=\"button\" id=\"submit-button\"&gt;Send data to server&lt;/button&gt;\n&lt;/form&gt;\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n$(document).ready(function(){\n    var selected_items = [];\n    $(\".checkbox\").click(function(){\n        var selected_item = $(this).val();\n        var index = selected_items.indexOf(selected_item);\n        if(index == -1)\n        {\n           selected_items.push(selected_item);\n        }\n        else{\n           selected_items.splice(index, 1);\n        }\n    });\n    $(\"#submit-button\").click(function(){\n        $.ajax({\n            url: '/path/to/',\n            data: {'checkboxes': selected_items.join(\",\"), 'csrfmiddlewaretoken': {{csrfmiddlewaretoken}} },\n            dataType: 'json',\n            type: 'post',\n            success: function (data) {\n            }\n        });\n    });\n})\n&lt;/script&gt;\n</code></pre>\n\n<p>In django views, you can get the value of checkboxes using <code>request.POST['checkboxes']</code>. Applying <code>split(',')</code> method to this value will separate values of every checkbox.</p>\n"}], "owner": {"reputation": 1124, "user_id": 5199096, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/7121c9c8b95b9b4ba519af1d02515dff?s=128&d=identicon&r=PG&f=1", "display_name": "mk8efz", "link": "https://stackoverflow.com/users/5199096/mk8efz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2410, "favorite_count": 1, "accepted_answer_id": 41273107, "answer_count": 3, "score": 2, "last_activity_date": 1482400858, "creation_date": 1482355631, "question_id": 41272153, "link": "https://stackoverflow.com/questions/41272153/django-retrieve-values-of-checkboxes", "title": "Django - Retrieve Values of Checkboxes", "body": "<p>How do I retrieve the values of multiple html checkboxes and send it back to my view? The checkboxes have the same name:</p>\n\n<pre><code>&lt;input type=\"checkbox\" value=\"document_1\" name=\"checkbox_1\"&gt;\n&lt;input type=\"checkbox\" value=\"document_2\" name=\"checkbox_1\"&gt;\n&lt;input type=\"checkbox\" value=\"document_3\" name=\"checkbox_1\"&gt;\n</code></pre>\n\n<p>I'm trying to give the user the option the select multiple checkboxes and then send that data back to a Django view.</p>\n\n<p>My hope is to send the data back to a Django view as a list of all the selected values with Ajax, although I'm just working out a regular form right now. </p>\n\n<p>So If I selected the first and last checkbox, I would send this back to the view:</p>\n\n<pre><code>data = [\"document_1\", \"document_3]\n</code></pre>\n\n<p>I have tried setting a variable like this: </p>\n\n<pre><code>var data = $('.checkbox_1:checked').val()\n</code></pre>\n\n<p>and I'm still working on the Ajax but haven't been able to make much progress. </p>\n"}, {"tags": ["javascript", "angularjs", "svg", "angularjs-components"], "answers": [{"tags": [], "owner": {"reputation": 45931, "user_id": 2341938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3hLri.png?s=128&g=1", "display_name": "gkalpak", "link": "https://stackoverflow.com/users/2341938/gkalpak"}, "is_accepted": true, "score": 1, "last_activity_date": 1482407050, "last_edit_date": 1482407050, "creation_date": 1482397329, "answer_id": 41279278, "question_id": 41272150, "link": "https://stackoverflow.com/questions/41272150/error-when-using-svg-in-the-component-template/41279278#41279278", "title": "Error when using SVG in the component template", "body": "<p>This is because there are restrictions on the values that are considered valid for certain attributes. This is why Angular has <code>ngAttr</code> (<a href=\"https://docs.angularjs.org/guide/interpolation#-ngattr-for-binding-to-arbitrary-attributes\" rel=\"nofollow noreferrer\">docs</a>). You need to change your code like this:</p>\n\n<pre><code>&lt;path ... ng-attr-d=\"M 100,{{$ctrl.test}} L 180,160 L 20,160 z\" /&gt;\n</code></pre>\n"}], "owner": {"reputation": 287, "user_id": 4643339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QhtMM.gif?s=128&g=1", "display_name": "raciasolvo", "link": "https://stackoverflow.com/users/4643339/raciasolvo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "accepted_answer_id": 41279278, "answer_count": 1, "score": 0, "last_activity_date": 1482407050, "creation_date": 1482355622, "question_id": 41272150, "link": "https://stackoverflow.com/questions/41272150/error-when-using-svg-in-the-component-template", "title": "Error when using SVG in the component template", "body": "<p>In this example, the error appears in the console: <code>Error: &lt;path&gt; attribute d: Expected number, \"M 100,{{$ctrl.test}} L\u2026\".   angular.js:3505</code>\nSee this error in the browser console (I use last stable Chrome).\nThe SVG is displayed correctly.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>'use strict';\r\n\r\nvar MyExampleTemplate = {\r\n    template:   '&lt;svg width=\"200\" height=\"180\"&gt;' +\r\n                    '&lt;path stroke=\"orange\" stroke-width=\"10\" fill=\"gold\" ' +\r\n                        'd=\"M 100,{{$ctrl.test}} L 180,160 ' +\r\n                        'L 20,160 z\"/&gt;' +\r\n                '&lt;/svg&gt;',\r\n    controller: MyExampleController\r\n};\r\n\r\nfunction MyExampleController() {\r\n    var vm = this;\r\n\r\n    vm.test = 0;\r\n    vm.$onInit = init;\r\n    console.log('Ctrl: %s', vm.test);\r\n\r\n    function init() {\r\n        vm.test = 20;\r\n        console.log('Init: %s', vm.test);\r\n    }\r\n}\r\n\r\nangular\r\n    .module('app', [])\r\n    .component('myExample', MyExampleTemplate);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;body ng-app=\"app\"&gt;\r\n    &lt;my-example&gt;&lt;/my-example&gt;\r\n\r\n    &lt;script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.6.0/angular.min.js\"&gt;&lt;/script&gt;\r\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>In this example, I'm trying to change another attribute. No error. The SVG is displayed correctly too.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>'use strict';\r\n\r\nvar MyExampleTemplate = {\r\n    template:   '&lt;svg width=\"200\" height=\"180\"&gt;' +\r\n                    '&lt;path stroke=\"orange\" stroke-width=\"{{$ctrl.test}}0\" fill=\"gold\" ' +\r\n                        'd=\"M 100,20 L 180,160 ' +\r\n                        'L 20,160 z\"/&gt;' +\r\n                '&lt;/svg&gt;',\r\n    controller: MyExampleController\r\n};\r\n\r\nfunction MyExampleController() {\r\n    var vm = this;\r\n\r\n    vm.test = 0;\r\n    vm.$onInit = init;\r\n    console.log('Ctrl: %s', vm.test);\r\n\r\n    function init() {\r\n        vm.test = 1;\r\n        console.log('Init: %s', vm.test);\r\n    }\r\n}\r\n\r\nangular\r\n    .module('app', [])\r\n    .component('myExample', MyExampleTemplate);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;body ng-app=\"app\"&gt;\r\n    &lt;my-example&gt;&lt;/my-example&gt;\r\n\r\n    &lt;script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.6.0/angular.min.js\"&gt;&lt;/script&gt;\r\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Is it a bug or I can not use the SVG in such a way? How do I fix the error?</p>\n"}, {"tags": ["javascript", "function", "display", "dice"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482355645, "post_id": 41272123, "comment_id": 69745744, "body": "<code>.val()</code> is a jQuery method. In regular Javascript it&#39;s <code>.value</code>."}], "answers": [{"tags": [], "owner": {"reputation": 333, "user_id": 4656713, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Dt6u2.jpg?s=128&g=1", "display_name": "Thomas Juranek", "link": "https://stackoverflow.com/users/4656713/thomas-juranek"}, "is_accepted": false, "score": 0, "last_activity_date": 1482355672, "creation_date": 1482355672, "answer_id": 41272162, "question_id": 41272123, "link": "https://stackoverflow.com/questions/41272123/how-to-print-function-result-on-html-body/41272162#41272162", "title": "How to print function result on html body?", "body": "<p>You are using .val() which isn't a function, but .value() is. </p>\n\n<pre><code>var x = parseInt(document.getElementById(\"amount\").value());\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 133, "user_id": 6764056, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3de4d6c72b3d3ed9968f633acdd85891?s=128&d=identicon&r=PG&f=1", "display_name": "FeCH", "link": "https://stackoverflow.com/users/6764056/fech"}, "edited": false, "score": 0, "creation_date": 1482356212, "post_id": 41272249, "comment_id": 69745997, "body": "Works now.  Thanks."}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 1, "last_activity_date": 1482356029, "creation_date": 1482356029, "answer_id": 41272249, "question_id": 41272123, "link": "https://stackoverflow.com/questions/41272123/how-to-print-function-result-on-html-body/41272249#41272249", "title": "How to print function result on html body?", "body": "<p>The way to get the value of an input element is with <code>.value</code>, not <code>.val()</code> (that's a jQuery method).</p>\n\n<p>Your <code>while()</code> loop never ends because you never modify <code>x</code> during the loop. <code>x + 4</code> should be <code>x += 4</code>, and <code>x - 1</code> should be <code>x -= 1</code> or <code>x--</code>.</p>\n\n<p>And you need to increment <code>y</code> and decrement <code>x</code> inside the loop, not at the end.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function playLoop() {\r\n  var x = parseInt(document.getElementById(\"amount\").value);\r\n  var y = 0;\r\n  while (x &gt; 0) {\r\n    var die1 = Math.floor((Math.random() * 6) + 1);\r\n    var die2 = Math.floor((Math.random() * 6) + 1);\r\n    if (die1 + die2 == 7) {\r\n      x += 4;\r\n    } else {\r\n      x--;\r\n    }\r\n    y++;\r\n    x--;\r\n  }\r\n\r\n  document.getElementById(\"result\").innerHTML = y;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"container\"&gt;\r\n  &lt;label&gt;Starting Bet:&lt;/label&gt;\r\n  &lt;input id=\"amount\" type=\"text\"&gt;\r\n  &lt;button onclick=\"playLoop()\"&gt;Play&lt;/button&gt;\r\n  &lt;span id=\"result\"&gt;&lt;/span&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 133, "user_id": 6764056, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3de4d6c72b3d3ed9968f633acdd85891?s=128&d=identicon&r=PG&f=1", "display_name": "FeCH", "link": "https://stackoverflow.com/users/6764056/fech"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 773, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1482356029, "creation_date": 1482355460, "last_edit_date": 1482355591, "question_id": 41272123, "link": "https://stackoverflow.com/questions/41272123/how-to-print-function-result-on-html-body", "title": "How to print function result on html body?", "body": "<p>I need to display the result of y on span.  </p>\n\n<p>Currently when I click on the play button it doesn't do anything for me.\nThere might be more issues with my code.</p>\n\n<p>What I need the function to do is to take the number user typed inside input box , convert it into int, and store it inside the \"x\".\nY is to store the amount of time this loop happens.\nWhile x is bigger than 0, roll the dice and get the sum.</p>\n\n<p>x+4 if sum is exactly 7, otherwise x-1.\nEverytime this function loops, x-1.</p>\n\n<p>Thanks.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function playLoop() {\r\n  var x = parseInt(document.getElementById(\"amount\").val());\r\n  var y = 0;\r\n  while (x &gt; 0) {\r\n    var die1 = Math.floor((Math.random() * 6) + 1);\r\n    var die2 = Math.floor((Math.random() * 6) + 1);\r\n    if (die1 + die2 == 7) {\r\n      x + 4;\r\n    } else {\r\n      x - 1;\r\n    }\r\n  }\r\n  x--\r\n  y++\r\n  document.getElementById(\"result\").innerHTML = y;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"container\"&gt;\r\n  &lt;label&gt;Starting Bet:&lt;/label&gt;\r\n  &lt;input id=\"amount\" type=\"text\"&gt;\r\n  &lt;button onclick=\"playLoop()\"&gt;Play&lt;/button&gt;\r\n  &lt;span id=\"result\"&gt;&lt;/span&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "function"], "comments": [{"owner": {"reputation": 1801, "user_id": 1556245, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a6fab271c3ab819fd368272e145da05?s=128&d=identicon&r=PG", "display_name": "Shawn Erquhart", "link": "https://stackoverflow.com/users/1556245/shawn-erquhart"}, "edited": false, "score": 1, "creation_date": 1482355557, "post_id": 41272121, "comment_id": 69745698, "body": "Your third line is returning a function, you&#39;re just not executing it. Try <code>createDrinkOrder(passenger)()</code>."}, {"owner": {"reputation": 975, "user_id": 3040381, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a8c7ea05856e157f3c5dbecf794de437?s=128&d=identicon&r=PG&f=1", "display_name": "Abdul", "link": "https://stackoverflow.com/users/3040381/abdul"}, "edited": false, "score": 0, "creation_date": 1482355591, "post_id": 41272121, "comment_id": 69745717, "body": "The function you&#39;re trying to call doesn&#39;t exist till you execute the function that creates it"}], "answers": [{"tags": [], "owner": {"reputation": 2847, "user_id": 5225503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rOcmH.jpg?s=128&g=1", "display_name": "nibnut", "link": "https://stackoverflow.com/users/5225503/nibnut"}, "is_accepted": false, "score": 4, "last_activity_date": 1482355582, "creation_date": 1482355582, "answer_id": 41272143, "question_id": 41272121, "link": "https://stackoverflow.com/questions/41272121/returning-functions-from-functions-in-javascript/41272143#41272143", "title": "Returning functions from functions in JavaScript", "body": "<p>Absolutely - because you only get back the function - you never actually call it... Try this instead:</p>\n\n<pre><code>createDrinkOrder(passenger)();\n</code></pre>\n\n<p>Hope this helps!</p>\n"}, {"comments": [{"owner": {"reputation": 199, "user_id": 6461918, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3a91336c1498488c54074444937df10c?s=128&d=identicon&r=PG", "display_name": "Maria Blair", "link": "https://stackoverflow.com/users/6461918/maria-blair"}, "edited": false, "score": 0, "creation_date": 1482359862, "post_id": 41272145, "comment_id": 69747636, "body": "Thank you, akuhn!  I understand now what this syntax mean.  It works both ways now."}, {"owner": {"reputation": 25823, "user_id": 24468, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PWl6C.png?s=128&g=1", "display_name": "akuhn", "link": "https://stackoverflow.com/users/24468/akuhn"}, "reply_to_user": {"reputation": 199, "user_id": 6461918, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3a91336c1498488c54074444937df10c?s=128&d=identicon&r=PG", "display_name": "Maria Blair", "link": "https://stackoverflow.com/users/6461918/maria-blair"}, "edited": false, "score": 0, "creation_date": 1482360130, "post_id": 41272145, "comment_id": 69747729, "body": "@mariablair glad to hear! If my answer was helpful, consider accepting it with the checkmark."}], "tags": [], "owner": {"reputation": 25823, "user_id": 24468, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PWl6C.png?s=128&g=1", "display_name": "akuhn", "link": "https://stackoverflow.com/users/24468/akuhn"}, "is_accepted": false, "score": 5, "last_activity_date": 1482355588, "creation_date": 1482355588, "answer_id": 41272145, "question_id": 41272121, "link": "https://stackoverflow.com/questions/41272121/returning-functions-from-functions-in-javascript/41272145#41272145", "title": "Returning functions from functions in JavaScript", "body": "<p>You must call both <code>createDrinkOrder</code> and the function that it created, try this</p>\n\n<pre><code>(createDrinkOrder(passenger))();\n</code></pre>\n\n<p>Let's go through this step by step</p>\n\n<ul>\n<li><code>createDrinkOrder(passenger)</code> calls <code>createDrinkOrder</code> which returns an anonymous function</li>\n<li><code>(...)()</code> calls that anonymous function</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 5528, "user_id": 1905944, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c5d8a67410398610516a9424e5387957?s=128&d=identicon&r=PG", "display_name": "Brandon Anzaldi", "link": "https://stackoverflow.com/users/1905944/brandon-anzaldi"}, "is_accepted": false, "score": 3, "last_activity_date": 1482355606, "creation_date": 1482355606, "answer_id": 41272147, "question_id": 41272121, "link": "https://stackoverflow.com/questions/41272121/returning-functions-from-functions-in-javascript/41272147#41272147", "title": "Returning functions from functions in JavaScript", "body": "<p>You don't. Your problem is that the function you call returns another function, but the function that actually logs the text isn't called. If you call the returned function like this: <code>createDrinkOrder(passenger)()</code>, it will call both functions. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var passengers = [\r\n    { name: \"Jane\", ticket: \"coach\" },\r\n    { name: \"Evel\", ticket: \"firstclass\" },\r\n    { name: \"John\", ticket: \"coach\" },\r\n    { name: \"Bob\", ticket: \"premium\"}\r\n];\r\n\r\nfunction createDrinkOrder(passenger) {\r\n    var orderFunction;\r\n    if (passenger.ticket === 'firstclass') {\r\n        orderFunction = function() {\r\n            console.log(passenger.name + ', would you like wine or cocktail?');\r\n        };\r\n    } else if (passenger.ticket === 'premium') {\r\n        orderFunction = function() {\r\n            console.log(passenger.name + ', would you like some wine?');\r\n        };\r\n    } else {\r\n        orderFunction = function() {\r\n            console.log(passenger.name + ', soda or water?');\r\n        };\r\n    }\r\n    return orderFunction;\r\n}\r\n\r\nfunction serveOnePassenger(passenger) {\r\n    // var getDrinkOrderFunction = createDrinkOrder(passenger); // Because this returns an anonymous function\r\n    // getDrinkOrderFunction(); // It must be executed to have the expected result\r\n    createDrinkOrder(passenger)(); // This line both returns the function, and executes it.\r\n}\r\n\r\n// General function to serve passengers:\r\nfunction servePassengers(passengers) {\r\n    for (var i = 0; i &lt; passengers.length; i++) {\r\n        serveOnePassenger(passengers[i]);\r\n    }\r\n}\r\n\r\nservePassengers(passengers);  </code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 199, "user_id": 6461918, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3a91336c1498488c54074444937df10c?s=128&d=identicon&r=PG", "display_name": "Maria Blair", "link": "https://stackoverflow.com/users/6461918/maria-blair"}, "edited": false, "score": 1, "creation_date": 1482360027, "post_id": 41272155, "comment_id": 69747687, "body": "Thank you, it make total sense now!  I saw this syntax before but I didn&#39;t know what it meant."}], "tags": [], "owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "is_accepted": true, "score": 3, "last_activity_date": 1482355639, "creation_date": 1482355639, "answer_id": 41272155, "question_id": 41272121, "link": "https://stackoverflow.com/questions/41272121/returning-functions-from-functions-in-javascript/41272155#41272155", "title": "Returning functions from functions in JavaScript", "body": "<p>Your own question title is basically the answer: you've written the <code>createDrinkOrder()</code> function as something that <strong>returns</strong> another function. If you make a function but never call it, the function won't do anything.</p>\n\n<p>You don't need a variable involved as in your <code>serveOnePassenger()</code> function. You could create the function and call it with one statement:</p>\n\n<pre><code>  createDrinkOrder(passenger)();\n</code></pre>\n\n<p>That calls <code>createDrinkOrder()</code> and then immediately uses the returned value as a function.</p>\n"}, {"tags": [], "owner": {"reputation": 226, "user_id": 5455480, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JPFqqeOxF14/AAAAAAAAAAI/AAAAAAAAAGk/QOFrBHa4oK0/photo.jpg?sz=128", "display_name": "Brian Parry", "link": "https://stackoverflow.com/users/5455480/brian-parry"}, "is_accepted": false, "score": 1, "last_activity_date": 1482355908, "creation_date": 1482355908, "answer_id": 41272219, "question_id": 41272121, "link": "https://stackoverflow.com/questions/41272121/returning-functions-from-functions-in-javascript/41272219#41272219", "title": "Returning functions from functions in JavaScript", "body": "<p><code>createDrinkOrder</code>is returning a function object.  The third line of code calls <code>createDrinkOrder</code> which returns a function, but never calls the returned function.  You don't necessarily need assign the value returned by <code>createDrinkOrder</code> to a variable, but you do need to make sure that the function it returns gets called.  You could do it like this without using a variable: <code>createDrinkOrder(passenger)();</code></p>\n"}], "owner": {"reputation": 199, "user_id": 6461918, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3a91336c1498488c54074444937df10c?s=128&d=identicon&r=PG", "display_name": "Maria Blair", "link": "https://stackoverflow.com/users/6461918/maria-blair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 41272155, "answer_count": 5, "score": 3, "last_activity_date": 1482355908, "creation_date": 1482355435, "question_id": 41272121, "link": "https://stackoverflow.com/questions/41272121/returning-functions-from-functions-in-javascript", "title": "Returning functions from functions in JavaScript", "body": "<p>I'm learning how to return functions from other functions in JavaScript.  Here is my code that works: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var passengers = [\r\n    { name: \"Jane\", ticket: \"coach\" },\r\n    { name: \"Evel\", ticket: \"firstclass\" },\r\n    { name: \"John\", ticket: \"coach\" },\r\n    { name: \"Bob\", ticket: \"premium\"}\r\n];\r\n\r\nfunction createDrinkOrder(passenger) {\r\n    var orderFunction;\r\n    if (passenger.ticket === 'firstclass') {\r\n        orderFunction = function() {\r\n            console.log(passenger.name + ', would you like wine or cocktail?');\r\n        };\r\n    } else if (passenger.ticket === 'premium') {\r\n        orderFunction = function() {\r\n            console.log(passenger.name + ', would you like some wine?');\r\n        };\r\n    } else {\r\n        orderFunction = function() {\r\n            console.log(passenger.name + ', soda or water?');\r\n        };\r\n    }\r\n    return orderFunction;\r\n}\r\n\r\nfunction serveOnePassenger(passenger) {\r\n    var getDrinkOrderFunction = createDrinkOrder(passenger);\r\n    getDrinkOrderFunction();\r\n    // createDrinkOrder(passenger);\r\n}\r\n\r\n// General function to serve passengers:\r\nfunction servePassengers(passengers) {\r\n    for (var i = 0; i &lt; passengers.length; i++) {\r\n        serveOnePassenger(passengers[i]);\r\n    }\r\n}\r\n\r\nservePassengers(passengers);  </code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>My question is about 'serverOnePassenger' function: when I comment out the first 2 lines in this function and uncomment the 3rd line instead, nothing happens in the console anymore. Why do I have to declare a variable and then assign a function to it, and only then call this var in order for this code to work? Thanks!</p>\n"}, {"tags": ["javascript", "json", "firefox-addon", "firefox-addon-webextensions"], "comments": [{"owner": {"reputation": 27492, "user_id": 3773011, "user_type": "moderator", "profile_image": "https://i.stack.imgur.com/Hmfxy.jpg?s=128&g=1", "display_name": "Makyen", "link": "https://stackoverflow.com/users/3773011/makyen"}, "edited": false, "score": 0, "creation_date": 1482355813, "post_id": 41272094, "comment_id": 69745816, "body": "What, <i>exactly</i>, was shown in the <a href=\"https://developer.mozilla.org/en-US/docs/Tools/Browser_Console\" rel=\"nofollow noreferrer\">Browser Console</a> (Ctrl-Shift-J, or Cmd-Shift-J on OSX) when you tried to install and use the extension? Please show the exact output you now get and show what you actually want to achieve."}, {"owner": {"reputation": 320, "user_id": 7327040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b71168b97af05663549a3397b0792149?s=128&d=identicon&r=PG&f=1", "display_name": "Cam U", "link": "https://stackoverflow.com/users/7327040/cam-u"}, "reply_to_user": {"reputation": 27492, "user_id": 3773011, "user_type": "moderator", "profile_image": "https://i.stack.imgur.com/Hmfxy.jpg?s=128&g=1", "display_name": "Makyen", "link": "https://stackoverflow.com/users/3773011/makyen"}, "edited": false, "score": 0, "creation_date": 1482370557, "post_id": 41272094, "comment_id": 69750542, "body": "@Makyen, I don&#39;t yet have enough reputation points to be able to post images. I have a screencap at imgur with code fwwIGST that shows the ouput currently being generated by the code I posted already. I want the format to be just like the output for (B), except it needs to include the https:// with the rest of the link text, but no hyperlink and no quotation marks."}, {"owner": {"reputation": 320, "user_id": 7327040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b71168b97af05663549a3397b0792149?s=128&d=identicon&r=PG&f=1", "display_name": "Cam U", "link": "https://stackoverflow.com/users/7327040/cam-u"}, "reply_to_user": {"reputation": 27492, "user_id": 3773011, "user_type": "moderator", "profile_image": "https://i.stack.imgur.com/Hmfxy.jpg?s=128&g=1", "display_name": "Makyen", "link": "https://stackoverflow.com/users/3773011/makyen"}, "edited": false, "score": 0, "creation_date": 1482370585, "post_id": 41272094, "comment_id": 69750550, "body": "(Aside from that, is there a way to suppress automatic hyperlinking of urls in stackoverflow question posts?)"}, {"owner": {"reputation": 27492, "user_id": 3773011, "user_type": "moderator", "profile_image": "https://i.stack.imgur.com/Hmfxy.jpg?s=128&g=1", "display_name": "Makyen", "link": "https://stackoverflow.com/users/3773011/makyen"}, "edited": false, "score": 0, "creation_date": 1482373273, "post_id": 41272094, "comment_id": 69751165, "body": "Anything in code format will not be automatically interpreted as something else. Code format: short: enclose in back-ticks <code>`</code>; long: precede by blank line and indent by 4 spaces. Your image location redirected to a statement that it was removed. While an image may be appropriate, depending on what you are trying to show, it is usually <i>much</i> better to copy and paste the contents of the console into the question as text and put the information in code format (usually indented by 4 spaces). There should be a <code>?</code> in the upper right corner of the edit window linked to markdown syntax help."}, {"owner": {"reputation": 320, "user_id": 7327040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b71168b97af05663549a3397b0792149?s=128&d=identicon&r=PG&f=1", "display_name": "Cam U", "link": "https://stackoverflow.com/users/7327040/cam-u"}, "reply_to_user": {"reputation": 27492, "user_id": 3773011, "user_type": "moderator", "profile_image": "https://i.stack.imgur.com/Hmfxy.jpg?s=128&g=1", "display_name": "Makyen", "link": "https://stackoverflow.com/users/3773011/makyen"}, "edited": false, "score": 0, "creation_date": 1482436472, "post_id": 41272094, "comment_id": 69783988, "body": "I edited the question to add the output copied from Firefox console.log()."}], "owner": {"reputation": 320, "user_id": 7327040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b71168b97af05663549a3397b0792149?s=128&d=identicon&r=PG&f=1", "display_name": "Cam U", "link": "https://stackoverflow.com/users/7327040/cam-u"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1482378036, "creation_date": 1482355269, "last_edit_date": 1482378036, "question_id": 41272094, "link": "https://stackoverflow.com/questions/41272094/how-to-get-url-as-string-from-json-when-sending-messages-in-firefox-or-chrome", "title": "How to get url as string from JSON when sending messages in Firefox or Chrome?", "body": "<p>For a Firefox (or Chrome) addon, I want a content script to send messages containing text IDs and urls to a background script. I want the background script to output the IDs and urls as simple strings using console.log(), but the urls are coming out with quotes and hyperlinks.</p>\n\n<p>How can I get the urls to be output as simple strings?</p>\n\n<p>Here's, for example, what I am aiming for console.log() to output:</p>\n\n<blockquote>\n  <p>The url is: h!!ps://upload.wikimedia.org/wikipedia/commons/c/c6/Sirius.jpg</p>\n</blockquote>\n\n<p>Content script:</p>\n\n<pre><code>// content-script.js\n\nvar identifier = \"Sirius\";\nvar link = \"https://upload.wikimedia.org/wikipedia/commons/c/c6/Sirius.jpg\";\nvar strippedLink = \"upload.wikimedia.org/wikipedia/commons/c/c6/Sirius.jpg\";\n\nvar myPort = browser.runtime.connect({name:\"port-from-cs\"});\nmyPort.postMessage({theId: identifier, theUrl: link, theStripped: strippedLink});\n</code></pre>\n\n<p>Background script:</p>\n\n<pre><code>// background-script.js\n\nvar portFromCS;\n\nfunction connected(p) {\n  portFromCS = p;\n  portFromCS.onMessage.addListener(function(m) {\n    var ident = m.theId; \n    var url = m.theUrl;\n    var altUrl = m.theStripped;\n\n    // (A)\n    console.log(\"(A) The ID is: \" + ident);\n\n    // (B)\n    console.log(\"(B) The stripped url is: \" + altUrl);\n\n    // (C)\n    console.log(\"(C) The url is: \" + url);\n\n    // (D)\n    console.log(\"(D) The url is: \");\n    console.log(url);\n  });\n};\n\n\nbrowser.runtime.onConnect.addListener(connected);\n</code></pre>\n\n<p>(A) outputs the format I am aiming for (except A doesn't have any urls).</p>\n\n<p>(B) is also ok, except that I would want to be able to include the protocol (http or https) in the original string that is sent in the message.</p>\n\n<p>(C), and (D) result in hyperlinks and quotes.</p>\n\n<p>edit:</p>\n\n<p>What I want is</p>\n\n<p><code>The url is: https://upload.wikimedia.org/wikipedia/commons/c/c6/Sirius.jpg</code></p>\n\n<p>copy/paste from console follows (references to code lines removed):</p>\n\n<p>(A) The ID is: Sirius  </p>\n\n<p>(B) The stripped url is: upload.wikimedia.org/wikipedia/commons/c/c6/Sirius.jpg  </p>\n\n<p>\"(C) The url is: <a href=\"https://upload.wikimedia.org/wikipedia/commons/c/c6/Sirius.jpg\" rel=\"nofollow noreferrer\">https://upload.wikimedia.org/wikipedia/commons/c/c6/Sirius.jpg</a>\"    </p>\n\n<p>(D) The url is:<br>\n\"<a href=\"https://upload.wikimedia.org/wikipedia/commons/c/c6/Sirius.jpg\" rel=\"nofollow noreferrer\">https://upload.wikimedia.org/wikipedia/commons/c/c6/Sirius.jpg</a>\"</p>\n"}, {"tags": ["javascript", "html", "url", "dom"], "answers": [{"tags": [], "owner": {"reputation": 25823, "user_id": 24468, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PWl6C.png?s=128&g=1", "display_name": "akuhn", "link": "https://stackoverflow.com/users/24468/akuhn"}, "is_accepted": true, "score": 1, "last_activity_date": 1482355348, "creation_date": 1482355348, "answer_id": 41272105, "question_id": 41272072, "link": "https://stackoverflow.com/questions/41272072/javascript-detect-url-with-no-hash/41272105#41272105", "title": "Javascript detect url with no hash", "body": "<p>The URL changes when a new document is loaded, you can listen to the unload event of the current document to learn when that happens.</p>\n\n<pre><code>&lt;body onunload=\"myFunction()\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 621, "user_id": 4046073, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4046cf650f4da310f76284ba6bb320df?s=128&d=identicon&r=PG&f=1", "display_name": "user4046073", "link": "https://stackoverflow.com/users/4046073/user4046073"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "accepted_answer_id": 41272105, "answer_count": 1, "score": 1, "last_activity_date": 1482355348, "creation_date": 1482355178, "question_id": 41272072, "link": "https://stackoverflow.com/questions/41272072/javascript-detect-url-with-no-hash", "title": "Javascript detect url with no hash", "body": "<p>Is there a way to detect the page's url change without using onhashchange? Because the url I'm trying to detect does not contain a hash. I tried add a listener on the window, like below, but it did not work. Many thanks! </p>\n\n<pre><code> &lt;script type=\"text/javascript\"&gt;\n\n window.addEventListener(\"onpageshow\", myFunction); //this does not detect url change for me\n    function myFunction() {   \n    console.log(\"url  changed \" );\n    }\n  &lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript", "ajax", "postgresql", "csv", "export"], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 5885268, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/023b8000073ebaf114b9e5ba36d2c6d0?s=128&d=identicon&r=PG&f=1", "display_name": "Jukebox", "link": "https://stackoverflow.com/users/5885268/jukebox"}, "edited": false, "score": 0, "creation_date": 1482356243, "post_id": 41272119, "comment_id": 69746013, "body": "Thanks for the response Patrick. This works like a charm.  However - how do i populate data with my SQL query to postgresql? It works perfectly using the hardcoded values provided in the example  var data = [[&quot;name1&quot;, &quot;city1&quot;, &quot;some other info&quot;], [&quot;name2&quot;, &quot;city2&quot;, &quot;more info&quot;]];"}, {"owner": {"reputation": 255, "user_id": 7112353, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c41458708147b7d8ec93bf9b618f0d07?s=128&d=identicon&r=PG", "display_name": "T Patrick", "link": "https://stackoverflow.com/users/7112353/t-patrick"}, "reply_to_user": {"reputation": 79, "user_id": 5885268, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/023b8000073ebaf114b9e5ba36d2c6d0?s=128&d=identicon&r=PG&f=1", "display_name": "Jukebox", "link": "https://stackoverflow.com/users/5885268/jukebox"}, "edited": false, "score": 0, "creation_date": 1482417662, "post_id": 41272119, "comment_id": 69773025, "body": "@Jukebox I&#39;m not sure I understand your question...are you having a problem running the SQL query on your database?  Or a problem parsing the response of the query?"}, {"owner": {"reputation": 79, "user_id": 5885268, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/023b8000073ebaf114b9e5ba36d2c6d0?s=128&d=identicon&r=PG&f=1", "display_name": "Jukebox", "link": "https://stackoverflow.com/users/5885268/jukebox"}, "edited": false, "score": 0, "creation_date": 1483274004, "post_id": 41272119, "comment_id": 70035057, "body": "@T Patrick ... I run the SQL query fine and I can see the response in the browser inspect window. In the example you had provided the &quot;data&quot; variable which populates the csv is set statically - is there anyway to set the &quot;data&quot; variable to the information coming back from my SQL query"}, {"owner": {"reputation": 255, "user_id": 7112353, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c41458708147b7d8ec93bf9b618f0d07?s=128&d=identicon&r=PG", "display_name": "T Patrick", "link": "https://stackoverflow.com/users/7112353/t-patrick"}, "reply_to_user": {"reputation": 79, "user_id": 5885268, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/023b8000073ebaf114b9e5ba36d2c6d0?s=128&d=identicon&r=PG&f=1", "display_name": "Jukebox", "link": "https://stackoverflow.com/users/5885268/jukebox"}, "edited": false, "score": 0, "creation_date": 1483456887, "post_id": 41272119, "comment_id": 70099676, "body": "@Jukebox From your example, you should be able to get your response from the <code>success</code> callback, for example: <code>Ext.Ajax.request({                     url: &#39;data.php&#39;,                     async: true,                     params: {                         action: &#39;export-csv&#39;,                         id: me.currentRecord.data.id,                         type: &#39;Carrier&#39;                     },                     success: function(d) {                       var data = d; &#47;&#47; Then proceed with csv code                     }                 });</code>"}, {"owner": {"reputation": 79, "user_id": 5885268, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/023b8000073ebaf114b9e5ba36d2c6d0?s=128&d=identicon&r=PG&f=1", "display_name": "Jukebox", "link": "https://stackoverflow.com/users/5885268/jukebox"}, "edited": false, "score": 0, "creation_date": 1483475884, "post_id": 41272119, "comment_id": 70110267, "body": "@T Patrick I&#39;ve added the success function however now when I execute it via my GUI it returns the following error - do you have any ideas? &quot;Ext.JSON.decode(): You&#39;re trying to decode an invalid JSON String:&quot; followed by a comma separated list of values that my SQL returned"}], "tags": [], "owner": {"reputation": 255, "user_id": 7112353, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c41458708147b7d8ec93bf9b618f0d07?s=128&d=identicon&r=PG", "display_name": "T Patrick", "link": "https://stackoverflow.com/users/7112353/t-patrick"}, "is_accepted": false, "score": 1, "last_activity_date": 1482355433, "last_edit_date": 1495535436, "creation_date": 1482355433, "answer_id": 41272119, "question_id": 41272048, "link": "https://stackoverflow.com/questions/41272048/ajax-request-to-database-download-csv-file/41272119#41272119", "title": "AJAX request to database - download .csv file", "body": "<p>I think what you're looking for can be accomplished by following the steps in the <a href=\"https://stackoverflow.com/questions/14964035/how-to-export-javascript-array-info-to-csv-on-client-side\">accepted answer for this question</a>.  </p>\n\n<p>Assuming you have your data formatted correctly (including <code>data:text/csv;charset=utf-8</code> before the csv data), to download it you can make a hidden link and emulate a click</p>\n\n<pre><code>var encodedUri = encodeURI(csvContent);\nvar link = document.createElement(\"a\");\nlink.setAttribute(\"href\", encodedUri);\nlink.setAttribute(\"download\", \"my_data.csv\");\ndocument.body.appendChild(link); // Required for FF\n\nlink.click(); // This will download the data file named \"my_data.csv\".\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 5885268, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/023b8000073ebaf114b9e5ba36d2c6d0?s=128&d=identicon&r=PG&f=1", "display_name": "Jukebox", "link": "https://stackoverflow.com/users/5885268/jukebox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1739, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1483475810, "creation_date": 1482355075, "last_edit_date": 1483475810, "question_id": 41272048, "link": "https://stackoverflow.com/questions/41272048/ajax-request-to-database-download-csv-file", "title": "AJAX request to database - download .csv file", "body": "<p>I have a button which calls an exportCSV function. This function preforms a select statement against my postgres database and returns the results via AJAX request. </p>\n\n<p>How can I get the contents of the response served back through the browser to the client as a .csv file? Currently the code only serves a response back in the browsers console. Any advice would be greatly appreciated. Once the php kicks off there is a smarthandler class which takes care of the database interaction.</p>\n\n<p><strong>exportCSV function</strong></p>\n\n<pre><code>exportCSV: function () {\n    var me = this;\n    var message = 'Are you sure you want to generate the CSV?';\n    var icon = Ext.Msg.QUESTION;\n\n    Ext.Msg.show({\n        title: 'Confirm Execution',\n        message: message,\n        buttons: Ext.Msg.YESNO,\n        icon: icon,\n        fn: function(btn) {\n            if(btn === 'yes') {\n                // TODO: Probably should handle an error here.\n                Ext.Ajax.request({\n                    url: 'data.php',\n                    async: true,\n                    params: {\n                        action: 'export-csv',\n                        id: me.currentRecord.data.id,\n                        type: 'Carrier'\n                    },\n                    success: function(response,opts) {\n                        var data = Ext.decode(response.responseText);\n                        var csvContent = \"data:text/csv;charset=utf-8,\";\n                        data.forEach(function(infoArray, index){\n                            dataString = infoArray.join(\",\");\n                            csvContent += index &lt; data.length ? dataString+ \"\\n\" : dataString;\n                        });\n                        var encodedUri = encodeURI(csvContent);\n                        var link = document.createElement(\"a\");\n                        link.setAttribute(\"href\", encodedUri);\n                        link.setAttribute(\"download\", \"carrier_profile.csv\");\n                        document.body.appendChild(link); // Required for FF\n\n                        link.click(); // This will download the data file named \"carrier_profile.csv\".\n                    }\n                });\n            }\n        }\n\n    });\n}\n</code></pre>\n\n<p><strong>PHP</strong></p>\n\n<pre><code>else if($action == 'export-csv') {\n// Create an array of filters.\n$parsedFilters = array();\n// TODO: Sanitize the properties better.\nif(isset($_REQUEST['filter'])) {\n    $filters = json_decode($_REQUEST['filter']);\n    foreach($filters as $record)\n        array_push($parsedFilters,array($record-&gt;property =&gt; $record-&gt;value));\n}\n\n// Convert a request for a specific ID into a filter.\nif(isset($_REQUEST['id']))\n    array_push($parsedFilters,array('id' =&gt; $_REQUEST['id']));\n\n$objectHandler = new SmarterHandler($typeDefinition);\n$records = $objectHandler-&gt;read($type,$parsedFilters);\n\nheader('Content-type: text/csv');\nheader('Content-disposition: attachment;filename=file.csv');\n\nif(count($records) &gt; 0) {\n    $record = $records[0];\n    $headings = array();\n    foreach($record as $key =&gt; $value) {\n        if(is_scalar($value)) {\n            $headings[] = $key;\n            echo $key.\",\";\n        }\n    }\n\n    echo \"\\r\\n\";\n\n    foreach($records as $record) {\n        foreach($headings as $key) {\n            echo $record[$key].\",\";\n        }\n\n        echo \"\\r\\n\";\n    }\n}\n\nexit();\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["javascript", "jquery", "html", "css", "twitter-bootstrap"], "answers": [{"comments": [{"owner": {"reputation": 261, "user_id": 1008919, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a3fab9a8226939884d01adeb6d1b1784?s=128&d=identicon&r=PG", "display_name": "sinrise", "link": "https://stackoverflow.com/users/1008919/sinrise"}, "edited": false, "score": 0, "creation_date": 1482356411, "post_id": 41272199, "comment_id": 69746100, "body": "Thanks! That&#39;s almost it. Unfortunately, your solution doesn&#39;t fix the initial collapsed state issue. The arrow is pointing the wrong way on the panel that is collapsed initially..."}, {"owner": {"reputation": 8672, "user_id": 555946, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OTX0B.jpg?s=128&g=1", "display_name": "Mohammed Swillam", "link": "https://stackoverflow.com/users/555946/mohammed-swillam"}, "reply_to_user": {"reputation": 261, "user_id": 1008919, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a3fab9a8226939884d01adeb6d1b1784?s=128&d=identicon&r=PG", "display_name": "sinrise", "link": "https://stackoverflow.com/users/1008919/sinrise"}, "edited": false, "score": 0, "creation_date": 1482356551, "post_id": 41272199, "comment_id": 69746169, "body": "this is not an issue to fix because the way you are adding the icon by is kinda static. &quot;^&quot;. so I think it&#39;s beyond the solution ability (maybe there is a better fix to get this arrow correct, but I can&#39;t think of it) :)"}, {"owner": {"reputation": 8672, "user_id": 555946, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OTX0B.jpg?s=128&g=1", "display_name": "Mohammed Swillam", "link": "https://stackoverflow.com/users/555946/mohammed-swillam"}, "reply_to_user": {"reputation": 261, "user_id": 1008919, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a3fab9a8226939884d01adeb6d1b1784?s=128&d=identicon&r=PG", "display_name": "sinrise", "link": "https://stackoverflow.com/users/1008919/sinrise"}, "edited": false, "score": 0, "creation_date": 1482356697, "post_id": 41272199, "comment_id": 69746229, "body": "cause you are on the CSS level assigning the &quot;^&quot; character, so regardless of the panel state, it will follow your command and assign it.  consider this example: <a href=\"http://codepen.io/anon/pen/bBJVgg\" rel=\"nofollow noreferrer\">codepen.io/anon/pen/bBJVgg</a> all panels are open so your charachter &quot;^&quot; is pointing correctly. hope you get my point."}, {"owner": {"reputation": 261, "user_id": 1008919, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a3fab9a8226939884d01adeb6d1b1784?s=128&d=identicon&r=PG", "display_name": "sinrise", "link": "https://stackoverflow.com/users/1008919/sinrise"}, "edited": false, "score": 0, "creation_date": 1482357706, "post_id": 41272199, "comment_id": 69746713, "body": "Thanks again. I posted my solution below. You helped me figure out my mistake. I updated the pen so you can see the working example. I used a &#39;v&#39; and a &#39;^&#39; because the key is to have different icons/characters for the different initial state."}, {"owner": {"reputation": 8672, "user_id": 555946, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OTX0B.jpg?s=128&g=1", "display_name": "Mohammed Swillam", "link": "https://stackoverflow.com/users/555946/mohammed-swillam"}, "reply_to_user": {"reputation": 261, "user_id": 1008919, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a3fab9a8226939884d01adeb6d1b1784?s=128&d=identicon&r=PG", "display_name": "sinrise", "link": "https://stackoverflow.com/users/1008919/sinrise"}, "edited": false, "score": 0, "creation_date": 1482358501, "post_id": 41272199, "comment_id": 69747061, "body": "This is exactly what I was trying to say, that you need to modify the icon logic, not just handle it with only &quot;^&quot;  in use. Glade that you could fix your problem."}], "tags": [], "owner": {"reputation": 8672, "user_id": 555946, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OTX0B.jpg?s=128&g=1", "display_name": "Mohammed Swillam", "link": "https://stackoverflow.com/users/555946/mohammed-swillam"}, "is_accepted": false, "score": 0, "last_activity_date": 1482355819, "creation_date": 1482355819, "answer_id": 41272199, "question_id": 41272037, "link": "https://stackoverflow.com/questions/41272037/collapsing-panels-with-initial-states/41272199#41272199", "title": "Collapsing panels with initial states", "body": "<p>so as you have expected, it was just a small change to the code. :)</p>\n\n<p>here is a working one (except for the icon, you should place whatever icon you want)\n<a href=\"http://codepen.io/anon/pen/ZBZbEa\" rel=\"nofollow noreferrer\">http://codepen.io/anon/pen/ZBZbEa</a></p>\n\n<p>and here is the whole snippet for reference</p>\n\n<pre><code>function setCollapsableHeaders() {\n$.each($(\".collapse-header\"), function () {\n    var $this = $(this);\n    var tar = $($this.attr(\"data-target\"));\n    $this.on(\"click\", function () {\n        $this.toggleClass(\"rotate-icon\");\n        //tar.toggleClass(\"collapsed\");\n        tar.animate({\n            height: \"toggle\",\n            paddingTop: \"toggle\",\n            paddingBottom: \"toggle\"\n        }, 500, function () {\n        });\n    });\n});\n};\n\n$(function(){\n      setCollapsableHeaders();\n});\n</code></pre>\n\n<p>the only changed this is this commented line</p>\n\n<pre><code>//tar.toggleClass(\"collapsed\");\n</code></pre>\n\n<p>because initially you were messing up the logic and then ding the same thing with code, so your first click was actually setting the correct class (either added or removed) then subsequent clicks were fine.</p>\n\n<p>I hope this helps</p>\n"}, {"tags": [], "owner": {"reputation": 261, "user_id": 1008919, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a3fab9a8226939884d01adeb6d1b1784?s=128&d=identicon&r=PG", "display_name": "sinrise", "link": "https://stackoverflow.com/users/1008919/sinrise"}, "is_accepted": false, "score": 0, "last_activity_date": 1482357302, "creation_date": 1482357302, "answer_id": 41272552, "question_id": 41272037, "link": "https://stackoverflow.com/questions/41272037/collapsing-panels-with-initial-states/41272552#41272552", "title": "Collapsing panels with initial states", "body": "<p><strong>Solution</strong>:</p>\n\n<p>Thanks to everyone for your input. It helped me figure out how to solve this. So the icon thing caused some confusion. I'm using a glyphicon chevron. So, what I did instead was to create a couple of CSS classes:</p>\n\n<pre><code>.collapse-icon-up:after {\n    content: \"\\E602\";\n}\n\n.collapse-icon-down:after {\n    content: \"\\E601\";\n}\n</code></pre>\n\n<p>Which uses a different glyphicon depending on the initial state. This works well with my js and CSS animation toggles. I commented out:</p>\n\n<pre><code>tar.toggleClass(\"collapsed\");\n</code></pre>\n\n<p>as suggested by Mohammed ElSayed. Thank you :)</p>\n\n<p>Then I added:</p>\n\n<pre><code>if (tar.hasClass(\"collapsed\")) {\n    $this.addClass(\"collapse-icon-down\");\n} else {\n    $this.addClass(\"collapse-icon-up\");\n}\n</code></pre>\n\n<p>To the js each loop in order to set the initial direction of the icon.</p>\n\n<p>As I suspected, it was something simple and just a logic puzzle. It seems to be working perfectly now! Thanks again for your help! :D</p>\n"}], "owner": {"reputation": 261, "user_id": 1008919, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a3fab9a8226939884d01adeb6d1b1784?s=128&d=identicon&r=PG", "display_name": "sinrise", "link": "https://stackoverflow.com/users/1008919/sinrise"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 379, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1482357302, "creation_date": 1482354995, "question_id": 41272037, "link": "https://stackoverflow.com/questions/41272037/collapsing-panels-with-initial-states", "title": "Collapsing panels with initial states", "body": "<p>I'm trying to get my collapsing panels working with an initial state of collapsed (or not). Without the initial state feature, it works fine but when I introduce that, the initial click is goofy, and the indicator icon is inverted. I'm sure this is just a logic puzzle I'm failing to see clearly but the fact is I'm stumped.</p>\n\n<p>Using jQuery and Bootstrap. The code is slightly modified for the purposes of this post, which is why it's in its own function (normally it's an export function with TypeScript but that shouldn't matter here) and the icon is using an icon font so I substituted a '^' for simplicity.</p>\n\n<p>To be clear, the 'icon' should point down when the panel is collapsed, and up when expanded, indicating what action will happen when you click it (as opposed to indicating its current state (that caused some confusion between my engineers and designers, lol!) I need to be able to apply a class of 'collapsed' to the target so it's initial state is collapsed.</p>\n\n<p><a href=\"http://codepen.io/sinrise/pen/eBoNPE\" rel=\"nofollow noreferrer\">http://codepen.io/sinrise/pen/eBoNPE</a></p>\n\n<p>HTML</p>\n\n<pre><code>&lt;div class=\"container\" style=\"padding-top: 30px;\"&gt;\n  &lt;div class=\"row\"&gt;\n    &lt;div class=\"col-md-12\"&gt;\n      &lt;div class=\"panel panel-default\"&gt;\n        &lt;div class=\"panel-heading collapse-header\" data-target=\"#test-panel1\"&gt;Heading&lt;/div&gt;\n        &lt;div class=\"panel-body collapsed\" id=\"test-panel1\"&gt;\n          &lt;p&gt;some content&lt;/p&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=\"panel panel-default\"&gt;\n        &lt;div class=\"panel-heading collapse-header\" data-target=\"#test-panel2\"&gt;Heading&lt;/div&gt;\n        &lt;div class=\"panel-body\" id=\"test-panel2\"&gt;\n          &lt;p&gt;some content&lt;/p&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;  \n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>CSS</p>\n\n<pre><code>.collapse-header + .collapsed { display: none; }\n\n.collapse-header {\n    position: relative;\n    &amp;:hover { cursor: pointer; }\n    &amp;:after {\n        position: absolute;\n        font-family: \"Sans-serif\";\n        content: \"^\";\n        transform: rotateZ(0deg);\n        right: 15px;\n        transition: all 0.5s linear;\n    }\n    &amp;.rotate-icon {\n        &amp;:after {\n            transform: rotateZ(180deg);\n            transition: all 0.5s linear;\n        }\n    }\n}\n</code></pre>\n\n<p>JS/jQuery</p>\n\n<pre><code>function setCollapsableHeaders() {\n    $.each($(\".collapse-header\"), function () {\n        var $this = $(this);\n        var tar = $($this.attr(\"data-target\"));\n        $this.on(\"click\", function () {\n            $this.toggleClass(\"rotate-icon\");\n            tar.toggleClass(\"collapsed\");\n            tar.animate({\n                height: \"toggle\",\n                paddingTop: \"toggle\",\n                paddingBottom: \"toggle\"\n            }, 500, function () {\n            });\n        });\n    });\n};\n\n$(function(){\n  setCollapsableHeaders();\n});\n</code></pre>\n"}, {"tags": ["javascript", "css", "reactjs"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6731369"}, "edited": false, "score": 0, "creation_date": 1482355180, "post_id": 41271996, "comment_id": 69745519, "body": "className should be a string. I think it probably thinks className is undefined since showInvalid is undefined."}, {"owner": {"reputation": 19524, "user_id": 1705266, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/eV8wY.png?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1705266/sam"}, "edited": false, "score": 0, "creation_date": 1482355330, "post_id": 41271996, "comment_id": 69745587, "body": "See my update. Looks like it should not go into the className."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6731369"}, "edited": false, "score": 0, "creation_date": 1482355406, "post_id": 41271996, "comment_id": 69745616, "body": "Ah some reason I brain farted... Didn&#39;t see the psuedo. My bad"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6731369"}, "edited": false, "score": 0, "creation_date": 1482355524, "post_id": 41271996, "comment_id": 69745680, "body": "It looks like you can&#39;t use pseudo classes in inline style. Which is basically what you are doing. <a href=\"http://stackoverflow.com/questions/28269669/css-pseudo-elements-in-react\" title=\"css pseudo elements in react\">stackoverflow.com/questions/28269669/&hellip;</a>.  Never had that come up"}, {"owner": {"reputation": 19524, "user_id": 1705266, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/eV8wY.png?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1705266/sam"}, "edited": false, "score": 0, "creation_date": 1482355701, "post_id": 41271996, "comment_id": 69745758, "body": "Unfortunately, I&#39;m coming to that conclusion as well! Bummer!"}, {"owner": {"reputation": 17691, "user_id": 2119757, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/CnYqu.png?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/2119757/robert"}, "edited": false, "score": 0, "creation_date": 1482356599, "post_id": 41271996, "comment_id": 69746193, "body": "look at <a href=\"http://stackoverflow.com/questions/30187781/react-js-disable-button-when-input-is-empty\" title=\"react js disable button when input is empty\">stackoverflow.com/questions/30187781/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 19524, "user_id": 1705266, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/eV8wY.png?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1705266/sam"}, "edited": false, "score": 0, "creation_date": 1482355376, "post_id": 41272075, "comment_id": 69745605, "body": "See my update. Research shows me that pseudo-classes are not used in class names."}], "tags": [], "owner": {"reputation": 648, "user_id": 3032156, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a4911ca441fa8321e48d43a8c3d07cf2?s=128&d=identicon&r=PG&f=1", "display_name": "jmac", "link": "https://stackoverflow.com/users/3032156/jmac"}, "is_accepted": false, "score": 0, "last_activity_date": 1482355181, "creation_date": 1482355181, "answer_id": 41272075, "question_id": 41271996, "link": "https://stackoverflow.com/questions/41271996/using-pseudo-classes-in-react-component/41272075#41272075", "title": "Using pseudo-classes in React component", "body": "<p>If I understand correctly, that is what you're looking for</p>\n\n<pre><code>className={`${this.state.showInvalid} ? 'invalidCssClassName' : 'nonInvalidCssClassName'`}\n</code></pre>\n\n<p>That means you should store somewhere (state or props) the value which will be responsible for evaluating the class name. In that case when <code>showInvalid</code> is evaluated to true, CSS class will be <code>invalidCssClassName</code> otherwise <code>nonInvalidCssClassName</code></p>\n"}, {"comments": [{"owner": {"reputation": 19524, "user_id": 1705266, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/eV8wY.png?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1705266/sam"}, "edited": false, "score": 0, "creation_date": 1482356932, "post_id": 41272379, "comment_id": 69746322, "body": "This is an interesting idea! I&#39;ll give it a try and let you know. Thanks!"}, {"owner": {"reputation": 13442, "user_id": 4878695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gyj5i.jpg?s=128&g=1", "display_name": "DavidDomain", "link": "https://stackoverflow.com/users/4878695/daviddomain"}, "reply_to_user": {"reputation": 19524, "user_id": 1705266, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/eV8wY.png?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1705266/sam"}, "edited": false, "score": 0, "creation_date": 1482356972, "post_id": 41272379, "comment_id": 69746339, "body": "Sure, no problem."}, {"owner": {"reputation": 19524, "user_id": 1705266, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/eV8wY.png?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1705266/sam"}, "edited": false, "score": 0, "creation_date": 1482357548, "post_id": 41272379, "comment_id": 69746625, "body": "I couldn&#39;t get it to work but it should. We simply put a regex into pattern, right? For example if I want to make sure it&#39;s a number with two decimal points, I should be able to use pattern=&quot;/^[0-9]+(\\.[0-9][0-9]?)?$/&quot;, correct?"}, {"owner": {"reputation": 13442, "user_id": 4878695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gyj5i.jpg?s=128&g=1", "display_name": "DavidDomain", "link": "https://stackoverflow.com/users/4878695/daviddomain"}, "reply_to_user": {"reputation": 19524, "user_id": 1705266, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/eV8wY.png?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1705266/sam"}, "edited": false, "score": 0, "creation_date": 1482357806, "post_id": 41272379, "comment_id": 69746758, "body": "I&#39;ve made an update to the fiddle using an <code>input</code> with <code>type</code> set to <code>number</code>, allowing up to two decimal places."}, {"owner": {"reputation": 13442, "user_id": 4878695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gyj5i.jpg?s=128&g=1", "display_name": "DavidDomain", "link": "https://stackoverflow.com/users/4878695/daviddomain"}, "reply_to_user": {"reputation": 19524, "user_id": 1705266, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/eV8wY.png?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1705266/sam"}, "edited": false, "score": 0, "creation_date": 1482358125, "post_id": 41272379, "comment_id": 69746896, "body": "Sorry, my first pattern was wrong, this should work <code>[0-9]+([\\,|\\.][0-9]+)?</code>. Check out the code snippet."}, {"owner": {"reputation": 19524, "user_id": 1705266, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/eV8wY.png?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1705266/sam"}, "edited": false, "score": 0, "creation_date": 1482362088, "post_id": 41272379, "comment_id": 69748451, "body": "This is working nicely. My CSS file was cached so the invalid pseudo-class that I had added wasn&#39;t coming through. I think this is a nice and clean approach because it&#39;s all CSS based."}], "tags": [], "owner": {"reputation": 13442, "user_id": 4878695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gyj5i.jpg?s=128&g=1", "display_name": "DavidDomain", "link": "https://stackoverflow.com/users/4878695/daviddomain"}, "is_accepted": true, "score": 0, "last_activity_date": 1482357757, "last_edit_date": 1592644375, "creation_date": 1482356605, "answer_id": 41272379, "question_id": 41271996, "link": "https://stackoverflow.com/questions/41271996/using-pseudo-classes-in-react-component/41272379#41272379", "title": "Using pseudo-classes in React component", "body": "<p>You could just use the <code>pattern</code> attribute on the <code>input</code> elements.</p>\n<blockquote>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Forms/Data_form_validation#When_an_element_is_invalid\" rel=\"nofollow noreferrer\"><strong>When an element is invalid</strong></a></p>\n<p><em>The element matches the :invalid CSS pseudo-class; this will let you apply a specific style to invalid elements. Similarly, valid elements match the :valid pseudo-class....</em></p>\n<p><em>...All <code>&lt;input&gt;</code>  elements can be validated using the pattern attribute. This attribute expects a case sensitive Regular Expression as its value...</em></p>\n</blockquote>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var NumberInput = React.createClass({\n  render: function() {\n    return &lt;input type=\"number\" pattern=\"[0-9]+([\\,|\\.][0-9]+)?\" step=\"0.01\" title=\"This should be a number with up to 2 decimal places.\" placeholder=\"Price\" /&gt;;\n  }\n});\n\nReactDOM.render(\n  &lt;NumberInput /&gt;,\n  document.getElementById('container')\n);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>input:invalid {\n  background-color: #ff3333;\n}\n\ninput:valid {\n  background-color: transparent;\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react-dom.min.js\"&gt;&lt;/script&gt;\n\n&lt;div id=\"container\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 19524, "user_id": 1705266, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/eV8wY.png?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1705266/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1931, "favorite_count": 0, "accepted_answer_id": 41272379, "answer_count": 2, "score": 2, "last_activity_date": 1482357757, "creation_date": 1482354767, "last_edit_date": 1482355304, "question_id": 41271996, "link": "https://stackoverflow.com/questions/41271996/using-pseudo-classes-in-react-component", "title": "Using pseudo-classes in React component", "body": "<p>In my React component, I have a form with multiple input fields. In the CSS classes that I'm working with, there's an \"invalid\" pseudo-class that should highlight the field if its value is invalid. Currently, the input fields do not have any classes defined in my component. They're using the default styling that comes from the CSS file.</p>\n\n<pre><code>class MyForm extends Component {\n\n   render() {\n\n      return(\n\n         // There's more code here. Not showing to keep things simple\n\n         &lt;input type=\"text\" name=\"someProperty\" value={myObject.someProperty} onChange={e =&gt; this.someFunction(e)} /&gt;\n\n      );\n   }\n\n}\n</code></pre>\n\n<p>How do I actually use this -- meaning, how do I set the input field to invalid? I tried simply adding \"invalid\" to its CSS class but it didn't work.</p>\n\n<p>This is what I tried with no results:</p>\n\n<pre><code>&lt;input type=\"text\" name=\"someProperty\" className={showInvalid} value={myObject.someProperty} onChange={e =&gt; this.someFunction(e)} /&gt;\n</code></pre>\n\n<p>UPDATE:</p>\n\n<p>Doing a bit more research on pseudo-classes, they do NOT go into the class. So in HTML, the input field would simply appear as below:</p>\n\n<pre><code>&lt;input name\"someProperty\" invalid /&gt;\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "angularjs", "angular-ui-bootstrap"], "comments": [{"owner": {"reputation": 2376, "user_id": 4224497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/811f4093e4e7bae2b92066fc155dfe86?s=128&d=identicon&r=PG&f=1", "display_name": "rckrd", "link": "https://stackoverflow.com/users/4224497/rckrd"}, "edited": false, "score": 0, "creation_date": 1482355255, "post_id": 41271985, "comment_id": 69745554, "body": "Please include code samples here."}, {"owner": {"reputation": 2093, "user_id": 5357758, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/266d83febb1a6e98f03837ea1ad3c411?s=128&d=identicon&r=PG&f=1", "display_name": "yavg", "link": "https://stackoverflow.com/users/5357758/yavg"}, "reply_to_user": {"reputation": 2376, "user_id": 4224497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/811f4093e4e7bae2b92066fc155dfe86?s=128&d=identicon&r=PG&f=1", "display_name": "rckrd", "link": "https://stackoverflow.com/users/4224497/rckrd"}, "edited": false, "score": 0, "creation_date": 1482355745, "post_id": 41271985, "comment_id": 69745789, "body": "@rckrd ok. it is ready!"}], "answers": [{"tags": [], "owner": {"reputation": 2376, "user_id": 4224497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/811f4093e4e7bae2b92066fc155dfe86?s=128&d=identicon&r=PG&f=1", "display_name": "rckrd", "link": "https://stackoverflow.com/users/4224497/rckrd"}, "is_accepted": true, "score": 1, "last_activity_date": 1482356342, "last_edit_date": 1482356342, "creation_date": 1482356039, "answer_id": 41272251, "question_id": 41271985, "link": "https://stackoverflow.com/questions/41271985/close-all-dialog-boxes-in-angular-js-with-bootstrap/41272251#41272251", "title": "Close all dialog boxes in angular.js with bootstrap", "body": "<p>You need to keep track of the modals you are creating. Here is a quick example were the modals are kept in an array. There are probably much better solutions, but this gives you a hint on how to solve your problem.</p>\n\n<pre><code>    var modalInstances = [];\n    var modalScope = $scope.$new();\n\n    $scope.close = function (ok, hide) {\n        if(ok) {\n            //alert('ok');\n        } else {\n            //alert('cancel');\n        }\n        if(modalInstances.length &gt; 0){\n          modalInstances[modalInstances.length-1].dismiss();\n          modalInstances.pop();\n        }\n\n    };\n\n\n    $scope.showModal = function() {    \n         modalInstances.push($modal.open({\n             templateUrl: 'myModal.html',\n             scope: modalScope\n         }));\n    }\n\n    $scope.otherModal = function() {    \n         modalInstances.push($modal.open({\n             templateUrl: 'myModal2.html',\n             scope: modalScope\n         }));\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3335, "user_id": 4812515, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh6.googleusercontent.com/-fxpyA0DpmoE/AAAAAAAAAAI/AAAAAAAAABY/XTBU5YBFdW8/photo.jpg?sz=128", "display_name": "alphapilgrim", "link": "https://stackoverflow.com/users/4812515/alphapilgrim"}, "is_accepted": false, "score": 0, "last_activity_date": 1482356431, "creation_date": 1482356431, "answer_id": 41272337, "question_id": 41271985, "link": "https://stackoverflow.com/questions/41271985/close-all-dialog-boxes-in-angular-js-with-bootstrap/41272337#41272337", "title": "Close all dialog boxes in angular.js with bootstrap", "body": "<p>You can give them a different variable name and then pass them into your close function in the template. Then conditionally dismiss them, please see below. </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>angular.module(\"myApp\", ['ui.bootstrap'])\n  .controller(\"MyCtrl\", function($scope, $modal) {\n\n    var modalInstanceOne,\n      modalInstanceTwo;\n    var modalScope = $scope.$new();\n\n    $scope.close = function(modal) {\n      return (modal === 'modalInstanceOne') ? modalInstanceOne.dismiss() : modalInstanceTwo.dismiss();\n    };\n\n\n    $scope.showModal = function() {\n      modalInstanceOne = $modal.open({\n        templateUrl: 'myModal.html',\n        scope: modalScope\n      });\n    }\n\n    $scope.otherModal = function() {\n      modalInstanceTwo = $modal.open({\n        templateUrl: 'myModal2.html',\n        scope: modalScope\n      });\n    }\n  });\n</code></pre>\n\n\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div ng-app=\"myApp\"&gt;\n\n  &lt;!-- FIRST MODAL --&gt;\n  &lt;script type=\"text/ng-template\" id=\"myModal.html\"&gt;\n    &lt;div class=\"modal-header\"&gt;\n      &lt;h3 class=\"modal-title\"&gt;Modal title&lt;/h3&gt;\n    &lt;/div&gt;\n    &lt;div class=\"modal-body\"&gt;\n      &lt;button type='button' ng-click='otherModal()'&gt;open other modal&lt;/button&gt;\n    &lt;/div&gt;\n    &lt;div class=\"modal-footer\"&gt;\n      &lt;button class=\"btn btn-primary\" ng-click=\"close(true)\"&gt;OK&lt;/button&gt;\n      &lt;button class=\"btn btn-warning\" ng-click=\"close('modalInstanceOne')\"&gt;Cancel&lt;/button&gt;\n    &lt;/div&gt;\n  &lt;/script&gt;\n\n  &lt;!-- SECOND MODAL --&gt;\n\n  &lt;script type=\"text/ng-template\" id=\"myModal2.html\"&gt;\n    &lt;div class=\"modal-header\"&gt;\n      &lt;h3 class=\"modal-title\"&gt;OTHER MODAL&lt;/h3&gt;\n    &lt;/div&gt;\n    &lt;div class=\"modal-body\"&gt;\n      Modal content\n    &lt;/div&gt;\n    &lt;div class=\"modal-footer\"&gt;\n      &lt;button class=\"btn btn-primary\" ng-click=\"close(true)\"&gt;OK&lt;/button&gt;\n      &lt;button class=\"btn btn-warning\" ng-click=\"close('modalInstanceTwo')\"&gt;Cancel&lt;/button&gt;\n    &lt;/div&gt;\n  &lt;/script&gt;\n\n\n  &lt;div ng-controller=\"MyCtrl\"&gt;\n    &lt;input type=\"button\" value=\"Show modal\" ng-click=\"showModal()\" /&gt;\n  &lt;/div&gt;\n</code></pre>\n\n\n"}], "owner": {"reputation": 2093, "user_id": 5357758, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/266d83febb1a6e98f03837ea1ad3c411?s=128&d=identicon&r=PG&f=1", "display_name": "yavg", "link": "https://stackoverflow.com/users/5357758/yavg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 652, "favorite_count": 0, "accepted_answer_id": 41272251, "answer_count": 2, "score": 0, "last_activity_date": 1482356431, "creation_date": 1482354732, "last_edit_date": 1482355308, "question_id": 41271985, "link": "https://stackoverflow.com/questions/41271985/close-all-dialog-boxes-in-angular-js-with-bootstrap", "title": "Close all dialog boxes in angular.js with bootstrap", "body": "<p>I have an example in which a dialog box is generated, by clicking on the \"show modal\" button, here the dialog box is loaded, then if I click on the button of this modal called \"open other modal\", the second dialog Box is open. I need it when I click the cancel button of any modal, close the dialog box. Currently having the second dialog box open, if I click cancel, only the second is closed, when I try to click cancel in the first dialog box, it will not close. What I can do?</p>\n\n<pre><code>var modalInstance = null;\nvar modalScope = $scope.$new();\n\n$scope.close = function (ok, hide) {\n    if(ok) {\n        //alert('ok');\n    } else {\n        //alert('cancel');\n    }\n    modalInstance.dismiss();\n};\n\n$scope.showModal = function() {    \n     modalInstance = $modal.open({\n         templateUrl: 'myModal.html',\n         scope: modalScope\n     });\n}\n\n$scope.otherModal = function() {    \n     modalInstance = $modal.open({\n         templateUrl: 'myModal2.html',\n         scope: modalScope\n     });\n}\n</code></pre>\n\n<p><a href=\"http://fiddle.jshell.net/9bum7snh/\" rel=\"nofollow noreferrer\">http://fiddle.jshell.net/9bum7snh/</a></p>\n"}, {"tags": ["javascript", "jquery", "node.js", "nightmare"], "comments": [{"owner": {"reputation": 7, "user_id": 7327598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0af69aaa82570e90de43c4f130e6978e?s=128&d=identicon&r=PG&f=1", "display_name": "kev rabe", "link": "https://stackoverflow.com/users/7327598/kev-rabe"}, "edited": false, "score": 0, "creation_date": 1482438708, "post_id": 41271981, "comment_id": 69784990, "body": "Someone to helpe me? :)"}], "answers": [{"tags": [], "owner": {"reputation": 2398, "user_id": 1139700, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2d0e224620fb2ea5dba708981c6805bc?s=128&d=identicon&r=PG", "display_name": "Ross", "link": "https://stackoverflow.com/users/1139700/ross"}, "is_accepted": false, "score": 0, "last_activity_date": 1483486049, "creation_date": 1483486049, "answer_id": 41453943, "question_id": 41271981, "link": "https://stackoverflow.com/questions/41271981/linkedin-bot-by-adding-people-automatically/41453943#41453943", "title": "linkedin bot by adding people automatically", "body": "<p>You're hitting two common pitfalls with Nightmare.  First, variable lifting - like you're attempting to do with the <code>urls</code> array - does not work like you might think.  Variables from the enclosing scope are not available to a scope inside an <code>.evaluate()</code> because of how the <code>.evaluate()</code>d function is passed to Electron.  Fixing this is reasonably easy: return the array from the evaluated function and have an intermediate call to <code>.then()</code>.  Something like (edited for brevity):</p>\n\n<pre><code>.evaluate(function () {\n    var link = [];\n    $('.primary-action-button.label').each(function(i, item) {\n      link.push($(item).attr('href'));\n    })\n    return link;\n })\n .then(function(urls){\n    nightmare.goto(urls[0]) ...\n })\n</code></pre>\n\n<p>For a more in-depth explanation, you may want to read <a href=\"https://github.com/rosshinkley/nightmare-examples/blob/master/docs/common-pitfalls/variable-lifting.md\" rel=\"nofollow noreferrer\">Variable Lifting and <code>.evaluate()</code></a>.</p>\n\n<p>The second issue you're almost immediately going to hit is looping over something and using a Nightmare instance to execute some command.  By design, Nightmare is asynchronous, and as such looping as you have it will not work.  You will also probably want to give <a href=\"https://github.com/rosshinkley/nightmare-examples/blob/master/docs/common-pitfalls/async-operations-loops.md\" rel=\"nofollow noreferrer\">Async Operations and Loops</a> a read.  Lifted relevant vanilla JS example from there:</p>\n\n<pre><code>var urls = ['http://example1.com', 'http://example2.com', 'http://example3.com'];\nurls.reduce(function(accumulator, url) {\n  return accumulator.then(function(results) {\n    return nightmare.goto(url)\n      .wait('body')\n      .title()\n      .then(function(result){\n        results.push(result);\n        return results;\n      });\n  });\n}, Promise.resolve([])).then(function(results){\n    console.dir(results);\n});\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 7327598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0af69aaa82570e90de43c4f130e6978e?s=128&d=identicon&r=PG&f=1", "display_name": "kev rabe", "link": "https://stackoverflow.com/users/7327598/kev-rabe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 499, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1613475824, "creation_date": 1482354712, "last_edit_date": 1613475824, "question_id": 41271981, "link": "https://stackoverflow.com/questions/41271981/linkedin-bot-by-adding-people-automatically", "title": "linkedin bot by adding people automatically", "body": "<p>I try to learn the web scraping by using nodejs and nightmarejs.</p>\n<p>I wanted to create a bot that can connect to my linkedin account, then look for a technology, as javascript for example, then add the link of each profile in the sheet into a table, and with this table, I wanted to use a loop with &quot;for&quot; to click on the each link. At the end I send an invitation for each profile on the sheet.</p>\n<p>Here my code :</p>\n<pre><code>var Nightmare = require('nightmare');\nvar nightmare = Nightmare({ show: true })\n\n var langage = process.argv[2];\n\n var urls = [];\n nightmare\n    .viewport(1000, 720)\n    .goto('https://www.linkedin.com/')\n    .type('#login-email', '**********@gmail.com')\n    .type('#login-password', '*********')\n    .click('#login-submit')\n    .wait(3000)\n    .type('#main-search-box', langage)\n    .wait(3000)\n    .click('.search-button')\n    .wait(2000)\n    .click('a[data-li-vertical-type=&quot;people&quot;]')\n    .wait()\n    .evaluate(function () {\n var link = [];\n    $('.primary-action-button.label').each(function(i, item) {\n    link.push($(item).attr('href'));\n    urls = link;\n})\n\n    }\n})\n\n.run(function (err, nightmare) {\nif (err) return console.log(err);\nconsole.log('Done!');\n\n\nfor (var i = 0; i&lt; urls.length; i++ ) {\nnightmare\n    .goto(urls[i])\n    .click('#IF-reason-iweReconnect')\n    .wait()\n    .click('.btn-primary')\n}    \n\n\n  });\n</code></pre>\n<p>I type node script.js 'jquery' into the console and it told me that 'urls is not defined', and I don't undestand where is my mistake.\nIf you can help me, it would be really helpful :)\nThank you,</p>\n<p>Kev</p>\n"}, {"tags": ["javascript", "angularjs", "angular-ui-router", "state"], "answers": [{"tags": [], "owner": {"reputation": 96, "user_id": 2953780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e1ZDZ.jpg?s=128&g=1", "display_name": "crani", "link": "https://stackoverflow.com/users/2953780/crani"}, "is_accepted": false, "score": 1, "last_activity_date": 1539391059, "creation_date": 1539391059, "answer_id": 52788532, "question_id": 41271974, "link": "https://stackoverflow.com/questions/41271974/angular-ui-router-1-0-0-prevent-route-load-with-transitions-onbefore/52788532#52788532", "title": "Angular UI Router 1.0.0 - prevent route load with $transitions.onBefore", "body": "<p>Just for people who are still landing here.</p>\n\n<p>You can return a promisse to prevent the site from loading.</p>\n\n<pre><code>$transitions.onBefore({}, function(transition) {\n      return new Promise((resolve) =&gt; { \n      // Do auth.. \n      return Access.hasORRoles(['admin']);\n   });\n});\n</code></pre>\n"}], "owner": {"reputation": 10574, "user_id": 507624, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3b844b90364d964c2daa05d99cd7d68?s=128&d=identicon&r=PG", "display_name": "Growler", "link": "https://stackoverflow.com/users/507624/growler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1001, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1539391059, "creation_date": 1482354692, "last_edit_date": 1482356039, "question_id": 41271974, "link": "https://stackoverflow.com/questions/41271974/angular-ui-router-1-0-0-prevent-route-load-with-transitions-onbefore", "title": "Angular UI Router 1.0.0 - prevent route load with $transitions.onBefore", "body": "<p>I upgraded to UI Router 1.0.0, which has changed from <code>.$on($stateChangeX</code> to <code>$transitions.onX(</code> (<a href=\"https://ui-router.github.io/docs/latest/classes/transition.transition-1.html\" rel=\"noreferrer\">see $transitions here</a>).</p>\n\n<p>I need to resolve the user's profile and their access BEFORE navigation to the page (e.g. the user should never see the page they're attempting to transition to). Before, I was able to use a <code>resolve</code> directly in the <code>state</code> and pass thru things I need sequentially, as such:</p>\n\n<pre><code>state('my-state', {\n        ...\n        resolve : {\n            ProfileLoaded : ['$rootScope', function ($rootScope) {\n                return $rootScope.loadProfile();\n            }],\n            access: ['Access', 'ProfileLoaded', function (Access, ProfileLoaded) {\n                return Access.hasORRoles(['admin']); //either $q.reject(status code); or \"200\"\n            }]\n        }\n    })\n</code></pre>\n\n<p>Then I could easily retrieve the error type in <code>$stateChangeError</code>:</p>\n\n<pre><code>app.run(...\n    $rootScope.$on('$stateChangeError', function (event, toState, toParams, fromState, fromParams, error) {\n\n       if (error === 401) {\n           $state.go('home');\n       }\n       ...\n</code></pre>\n\n<hr>\n\n<p>With <code>$transitions</code>, I'm trying to do the same thing...</p>\n\n<pre><code>.state('user.my-page', {\n  ...\n  data: {\n    loadProfile: true,\n    roles: [\n      'admin'\n    ]\n  }\n});\n\n\napp.run(...\n\n  $transitions.onBefore({to: profile}, function(trans) {\n    return loadProfile().then(function (prof) {\n      var substate = trans.to();\n      return Access.hasORRoles(substate.data.roles); //either $q.reject(status code); or \"200\"\n    });\n  });\n\n  $transitions.onError({}, function(trans) {\n    var error = trans &amp;&amp; trans._error;\n\n    if (error == 401) {\n      $state.go('home');\n    }\n    ...\n</code></pre>\n\n<p><strong>So my question is:</strong></p>\n\n<p>Does <code>onBefore</code> do the same thing as <code>resolve</code> in terms of ensuring the user can't navigate before data is checked? The page is still loading and THEN redirecting with <code>$state.go</code> after the page loads.</p>\n"}, {"tags": ["javascript", "html", "video"], "answers": [{"tags": [], "owner": {"reputation": 6977, "user_id": 1569675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d38db823058012e58e2517188b9f9bc0?s=128&d=identicon&r=PG", "display_name": "Offbeatmammal", "link": "https://stackoverflow.com/users/1569675/offbeatmammal"}, "is_accepted": false, "score": 0, "last_activity_date": 1482358980, "creation_date": 1482358980, "answer_id": 41272912, "question_id": 41271973, "link": "https://stackoverflow.com/questions/41271973/how-can-i-manipulate-the-full-screen-button-in-javascript/41272912#41272912", "title": "How can I manipulate the full-screen button in JavaScript?", "body": "<p>What you'll want to do is track the event that fires when the mode changes. At the moment it's not totally simple as there seem to be three browser specific events, but this code will let you track what's happening:</p>\n\n<pre><code>document.addEventListener('webkitfullscreenchange', tog, false);\ndocument.addEventListener('fullscreenchange', tog, false);\ndocument.addEventListener('mozfullscreenchange', tog, false);\ndocument.addEventListener('MSFullscreenChange', tog, false);\n\nfunction tog(e) {\n    var state = document.fullScreen || document.mozFullScreen || document.webkitIsFullScreen;\n    var event = state ? 'FullscreenOn' : 'FullscreenOff';\n\n    // Now react to the event\n    console.log('Event: ' + event); \n\n    if (event == \"FullscreenOn\") {\n        video.src = \"video1.mp4\";\n    } else {\n        video.src = \"video2.mp4\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 383, "user_id": 3353167, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/e13038763c7f19ef1041d4fe0c749576?s=128&d=identicon&r=PG&f=1", "display_name": "user3353167", "link": "https://stackoverflow.com/users/3353167/user3353167"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482358980, "creation_date": 1482354691, "question_id": 41271973, "link": "https://stackoverflow.com/questions/41271973/how-can-i-manipulate-the-full-screen-button-in-javascript", "title": "How can I manipulate the full-screen button in JavaScript?", "body": "<p>How can I manipulate the button on full-screen size so that I can change the source of the video?\nThe objective is to have 2 videos, a cropped one and a full size one. When the video is not in full screen (custom commands), it will show the cropped video, when it's full screen (default HTML5 commands) it will change the source to the full size video. \nThe problem is that when I click this button:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ir9cb.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ir9cb.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>The source will not change. This is the relevant code:</p>\n\n<pre><code>var video = document.getElementById(\"video1\");\nfunction fullScreen(){\n     if (!document.webkitFullScreen){\n        if (video.webkitRequestFullScreen) \n           video.src = \"video1.mp4\";\n     } else {\n        if (document.webkitCancelFullScreen())\n           video.src = \"video2.mp4\";\n</code></pre>\n\n<p>So the first bit of the code works. When in full screen, the source of the video is changed. But on exiting Full Screen, the source of the video remains the same. I think it might be because I don't click the same button I used to enter full screen, so it won't go to the else statement. Anyone knows how to invoke the fullscreen function indicated in the picture and use it as my condition statement?</p>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"comments": [{"owner": {"reputation": 12818, "user_id": 350080, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8dbcaa49802612c858ebf97742639a4b?s=128&d=identicon&r=PG", "display_name": "Himmators", "link": "https://stackoverflow.com/users/350080/himmators"}, "edited": false, "score": 0, "creation_date": 1482355173, "post_id": 41271988, "comment_id": 69745517, "body": "Cool, do I have to put the method inline like that or could I make an external reference?"}, {"owner": {"reputation": 30525, "user_id": 3187556, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/40119dd76422b3d9c696051014ae6ff3?s=128&d=identicon&r=PG", "display_name": "Scimonster", "link": "https://stackoverflow.com/users/3187556/scimonster"}, "reply_to_user": {"reputation": 12818, "user_id": 350080, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8dbcaa49802612c858ebf97742639a4b?s=128&d=identicon&r=PG", "display_name": "Himmators", "link": "https://stackoverflow.com/users/350080/himmators"}, "edited": false, "score": 0, "creation_date": 1482355230, "post_id": 41271988, "comment_id": 69745541, "body": "You should be able to make it external, as long as the onclick function exists when it gets rendered."}], "tags": [], "owner": {"reputation": 30525, "user_id": 3187556, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/40119dd76422b3d9c696051014ae6ff3?s=128&d=identicon&r=PG", "display_name": "Scimonster", "link": "https://stackoverflow.com/users/3187556/scimonster"}, "is_accepted": true, "score": 0, "last_activity_date": 1482354740, "creation_date": 1482354740, "answer_id": 41271988, "question_id": 41271917, "link": "https://stackoverflow.com/questions/41271917/can-i-set-onclickevents-that-are-not-yet-defined/41271988#41271988", "title": "Can I set onClickevents that are not yet defined?", "body": "<p>If you put it in a function, it won't get executed until it gets clicked, and the methods should exist by then:</p>\n\n<pre><code> &lt;Thumbnail src={stripUrl(url)} onClick={()=&gt;this.flky.someMethod(index)} /&gt;\n</code></pre>\n"}], "owner": {"reputation": 12818, "user_id": 350080, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8dbcaa49802612c858ebf97742639a4b?s=128&d=identicon&r=PG", "display_name": "Himmators", "link": "https://stackoverflow.com/users/350080/himmators"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 41271988, "answer_count": 1, "score": 1, "last_activity_date": 1482354740, "creation_date": 1482354442, "last_edit_date": 1482354541, "question_id": 41271917, "link": "https://stackoverflow.com/questions/41271917/can-i-set-onclickevents-that-are-not-yet-defined", "title": "Can I set onClickevents that are not yet defined?", "body": "<p>I have a component that looks like this:</p>\n\n<pre><code>const ProductCarousel = React.createClass({\n  componentDidMount: function () {\n    this.flky = new Flickity('.carousel', flickityOptions)\n    //here\n  },\n  render: function () {\n    const item = this.props.item\n    return (\n      &lt;div&gt;\n        &lt;div className='carousel'&gt;\n          {item.get('images').map((url, i) =&gt; (\n            &lt;img key={i.toString()} src={stripUrl(url)} width={520} /&gt;\n          ))}\n        &lt;/div&gt;\n        &lt;div style={{marginTop: '20px', display: 'flex'}}&gt;\n          {item.get('images').map((url, index) =&gt;\n            &lt;div style={{flexGrow: 1, margin: '0 1em 0 1em'}} className='hidden-xs' key={url}&gt;\n              &lt;Thumbnail src={stripUrl(url)} /&gt;\n            &lt;/div&gt;\n          )}\n        &lt;/div&gt;\n      &lt;/div&gt;\n    )\n  }\n})\n</code></pre>\n\n<p>the place where it says \"here\", I would like to define funcitons for <code>&lt;Thumbnail onClick /&gt;</code>. Theese functions are methods for <code>this.flky</code>, so I can't create them before <code>componentDidMount</code>, but I would like to set them in the thumbnail and pass the thumbnails index to them. Is there something like a promise I could use?</p>\n"}, {"tags": ["javascript", "arrays", "object", "ecmascript-6"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482354413, "post_id": 41271883, "comment_id": 69745112, "body": "Loop over each element of the array. Get <code>element.field</code> and <code>element.value</code> and use them as the name and value of a new property in the result object. What part of this is hard to do?"}, {"owner": {"reputation": 3621, "user_id": 6188402, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/a8bdb7cbe81f5544f0ddc6ded12a23f1?s=128&d=identicon&r=PG&f=1", "display_name": "Washington Guedes", "link": "https://stackoverflow.com/users/6188402/washington-guedes"}, "edited": false, "score": 2, "creation_date": 1482354533, "post_id": 41271883, "comment_id": 69745182, "body": "<code>var result = array.reduce((final, obj) =&gt; (final[obj.field] = obj.value, final), {});</code>"}, {"owner": {"reputation": 597, "user_id": 6319993, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/561199092555/picture?type=large", "display_name": "Sam Matthews", "link": "https://stackoverflow.com/users/6319993/sam-matthews"}, "edited": false, "score": 0, "creation_date": 1482354586, "post_id": 41271883, "comment_id": 69745211, "body": "I guess just the implementation, would I use Object.assign and then a map loop inside that? Also if this is a duplicate could you please point out the original question i couldn&#39;t find it? Thanks"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1482354623, "post_id": 41271883, "comment_id": 69745229, "body": "That&#39;s the use case for <code>reduce</code>, as it was suggested in the comment above."}, {"owner": {"reputation": 597, "user_id": 6319993, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/561199092555/picture?type=large", "display_name": "Sam Matthews", "link": "https://stackoverflow.com/users/6319993/sam-matthews"}, "reply_to_user": {"reputation": 3621, "user_id": 6188402, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/a8bdb7cbe81f5544f0ddc6ded12a23f1?s=128&d=identicon&r=PG&f=1", "display_name": "Washington Guedes", "link": "https://stackoverflow.com/users/6188402/washington-guedes"}, "edited": false, "score": 0, "creation_date": 1482354987, "post_id": 41271883, "comment_id": 69745425, "body": "Thanks @Guedes, yeah that works. Does anyone know why a lot of people seem to prefer the Object.assign method now with ES6? I rarely see reduce being mentioned in this context?"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1482443101, "post_id": 41271883, "comment_id": 69786900, "body": "Not sure who&#39;s those &#39;a lot of people&#39;. <code>reduce</code> is quite straightforward and basically <i>reduces</i> an array to an object with a single method. While the accepted answer creates n objects. It&#39;s just a neater one-liner version of <code>for</code>/<code>forEach</code> iteration, <code>var final = {}; for(var { field, value } of arr) final[field] = value</code>. <code>for</code> may be read a bit better but once you&#39;ve accustomed with <code>reduce</code> it looks fine too."}, {"owner": {"reputation": 597, "user_id": 6319993, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/561199092555/picture?type=large", "display_name": "Sam Matthews", "link": "https://stackoverflow.com/users/6319993/sam-matthews"}, "edited": false, "score": 0, "creation_date": 1482462711, "post_id": 41271883, "comment_id": 69792010, "body": "Hey thanks for the explanation. Yeah I&#39;m starting to see the different mechanics of each. Sorry I just meant that I see Object.assign used all over the place and I was wondering if there were any kind of subtle differences that may make one preferable over another e.g fat arrow functions compared to classic function calls having slightly different functionalities (For example I thought the Object.assign difference might have something to do with the way objects are passed by reference... but it&#39;s all still slightly muddy in my head)"}], "answers": [{"tags": [], "owner": {"reputation": 3759, "user_id": 5253239, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/e9xkj.jpg?s=128&g=1", "display_name": "kevin ternet", "link": "https://stackoverflow.com/users/5253239/kevin-ternet"}, "is_accepted": false, "score": 1, "last_activity_date": 1482354554, "creation_date": 1482354554, "answer_id": 41271937, "question_id": 41271883, "link": "https://stackoverflow.com/questions/41271883/make-a-new-object-from-an-array-of-objects/41271937#41271937", "title": "Make a new object from an array of objects", "body": "<p>you could map array into object like this</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var array = [\r\n { field: 'name', value: 'sam', isRequired: true },\r\n { field: 'email', value: 'sam@dummyemail.net', isRequired: true },\r\n { field: 'message', value: 'hey', isRequired: false },\r\n];\r\nvar object = {};\r\narray.forEach(x =&gt; {\r\n  object[x.field] = x.value;\r\n});\r\nconsole.log(object);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 597, "user_id": 6319993, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/561199092555/picture?type=large", "display_name": "Sam Matthews", "link": "https://stackoverflow.com/users/6319993/sam-matthews"}, "edited": false, "score": 0, "creation_date": 1482354815, "post_id": 41271938, "comment_id": 69745334, "body": "Thanks this is the approach i was trying to achieve, just wasn&#39;t so sure about how to actually implement Object.assign e,g with the empty object and the spread operator. Thanks!"}], "tags": [], "owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "is_accepted": true, "score": 2, "last_activity_date": 1482354557, "creation_date": 1482354557, "answer_id": 41271938, "question_id": 41271883, "link": "https://stackoverflow.com/questions/41271883/make-a-new-object-from-an-array-of-objects/41271938#41271938", "title": "Make a new object from an array of objects", "body": "<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\" rel=\"nofollow noreferrer\"><code>Array#map</code></a> each object in the array into a new object with <code>field</code> as the key of a property, and value, well, the value of the property. Then combine the new objects array to object using the <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Operators/Spread_operator\" rel=\"nofollow noreferrer\">spread syntax</a> and  <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\" rel=\"nofollow noreferrer\"><code>Object#assign</code></a>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const arr = [\r\n { field: 'name', value: 'sam', isRequired: true },\r\n { field: 'email', value: 'sam@dummyemail.net', isRequired: true },\r\n { field: 'message', value: 'hey', isRequired: false },\r\n];\r\n  \r\nconst result = Object.assign({}, ...arr.map(({ field, value }) =&gt; ({ [field]: value })));\r\n\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 597, "user_id": 6319993, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/561199092555/picture?type=large", "display_name": "Sam Matthews", "link": "https://stackoverflow.com/users/6319993/sam-matthews"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "closed_date": 1482354469, "accepted_answer_id": 41271938, "answer_count": 2, "score": 1, "last_activity_date": 1482354557, "creation_date": 1482354273, "question_id": 41271883, "link": "https://stackoverflow.com/questions/41271883/make-a-new-object-from-an-array-of-objects", "closed_reason": "Duplicate", "title": "Make a new object from an array of objects", "body": "<p>This is possibly a duplicate, but everywhere I search I can only seem to find people wanting to create an array of objects. \nBasically I'm trying to achieve the opposite, pull certain values of an array of objects out into an object. It's twisting my head a little so any of you JS gurus out there if you could give me a hand it would be very very appreciated!</p>\n\n<p>Basically I have an array of objects like this:</p>\n\n<pre><code>[\n { field: 'name', value: 'sam', isRequired: true },\n { field: 'email', value: 'sam@dummyemail.net', isRequired: true },\n { field: 'message', value: 'hey', isRequired: false },\n]\n</code></pre>\n\n<p>They're split up this way because I go through the fields for validation. </p>\n\n<p>After the validation phase I want to map the field and value properties to name value pairs within a new object e.g:</p>\n\n<pre><code>{\n name: 'sam',\n email: 'sam@dummyemail.net',\n message: 'hey',\n}\n</code></pre>\n\n<p>Like I said any help would be amazing! Cheers.</p>\n"}, {"tags": ["javascript", "css", "ruby-on-rails"], "comments": [{"owner": {"reputation": 1515, "user_id": 7189767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c979c9b4f88620e8ddbf74fb6a83824?s=128&d=identicon&r=PG&f=1", "display_name": "Fallenhero", "link": "https://stackoverflow.com/users/7189767/fallenhero"}, "edited": false, "score": 0, "creation_date": 1482354465, "post_id": 41271866, "comment_id": 69745141, "body": "Do you mean by link an onclick/onchange event? HTML select elements cannot contain a link."}, {"owner": {"reputation": 33, "user_id": 7207339, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/fxAPe.jpg?s=128&g=1", "display_name": "Daniel Gomez Firmat", "link": "https://stackoverflow.com/users/7207339/daniel-gomez-firmat"}, "reply_to_user": {"reputation": 1515, "user_id": 7189767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c979c9b4f88620e8ddbf74fb6a83824?s=128&d=identicon&r=PG&f=1", "display_name": "Fallenhero", "link": "https://stackoverflow.com/users/7189767/fallenhero"}, "edited": false, "score": 0, "creation_date": 1482355007, "post_id": 41271866, "comment_id": 69745433, "body": "@Fallenhero thanks for your answer, so what I meant was to have a list with all the possible topic categories, with links to those topics (depending on their categories). This is to be displayed on my home page, so people can click on them and only see those topics categories they have clicked on."}, {"owner": {"reputation": 2276, "user_id": 4164651, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/100004012909097/picture?type=large", "display_name": "Edmund Lee", "link": "https://stackoverflow.com/users/4164651/edmund-lee"}, "edited": false, "score": 0, "creation_date": 1482355735, "post_id": 41271866, "comment_id": 69745783, "body": "just pass it in as a query param and create a <code>where</code> query should do the trick"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 7207339, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/fxAPe.jpg?s=128&g=1", "display_name": "Daniel Gomez Firmat", "link": "https://stackoverflow.com/users/7207339/daniel-gomez-firmat"}, "edited": false, "score": 0, "creation_date": 1482356916, "post_id": 41272180, "comment_id": 69746313, "body": "What I&#39;m trying to achieve is something like I show in Edit 1"}], "tags": [], "owner": {"reputation": 181, "user_id": 1313979, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DROE.jpg?s=128&g=1", "display_name": "ewassef", "link": "https://stackoverflow.com/users/1313979/ewassef"}, "is_accepted": false, "score": -1, "last_activity_date": 1482355739, "creation_date": 1482355739, "answer_id": 41272180, "question_id": 41271866, "link": "https://stackoverflow.com/questions/41271866/how-to-display-and-link-an-certain-attribute-of-an-object/41272180#41272180", "title": "How to display and link an certain attribute of an object", "body": "<p>You can add a link inside your <code>&lt;option&gt;</code> tag... ie.</p>\n\n<pre><code>    &lt;option&gt;&lt;a href=\"www.something.com\"&gt;Art&lt;/a&gt;&lt;/option&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 7207339, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/fxAPe.jpg?s=128&g=1", "display_name": "Daniel Gomez Firmat", "link": "https://stackoverflow.com/users/7207339/daniel-gomez-firmat"}, "edited": false, "score": 0, "creation_date": 1482356861, "post_id": 41272300, "comment_id": 69746295, "body": "thanks for your comment, I have added an Edit 1, the code you proposed does it a similar thing?"}, {"owner": {"reputation": 2276, "user_id": 4164651, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/100004012909097/picture?type=large", "display_name": "Edmund Lee", "link": "https://stackoverflow.com/users/4164651/edmund-lee"}, "reply_to_user": {"reputation": 33, "user_id": 7207339, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/fxAPe.jpg?s=128&g=1", "display_name": "Daniel Gomez Firmat", "link": "https://stackoverflow.com/users/7207339/daniel-gomez-firmat"}, "edited": false, "score": 0, "creation_date": 1482357109, "post_id": 41272300, "comment_id": 69746412, "body": "@Eltorero1992 my answer would allow you to show topics of different category by updating the current page without redirecting the user to a different page. similar to how a filter in most ecommerce website would do. Then constructing the link to the topic is simply either returning the url from the controller, or just use the id, and construct it in javascript."}, {"owner": {"reputation": 2276, "user_id": 4164651, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/100004012909097/picture?type=large", "display_name": "Edmund Lee", "link": "https://stackoverflow.com/users/4164651/edmund-lee"}, "reply_to_user": {"reputation": 33, "user_id": 7207339, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/fxAPe.jpg?s=128&g=1", "display_name": "Daniel Gomez Firmat", "link": "https://stackoverflow.com/users/7207339/daniel-gomez-firmat"}, "edited": false, "score": 0, "creation_date": 1482358071, "post_id": 41272300, "comment_id": 69746870, "body": "@Eltorero1992 added edit that will do what you need."}, {"owner": {"reputation": 33, "user_id": 7207339, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/fxAPe.jpg?s=128&g=1", "display_name": "Daniel Gomez Firmat", "link": "https://stackoverflow.com/users/7207339/daniel-gomez-firmat"}, "edited": false, "score": 0, "creation_date": 1482359018, "post_id": 41272300, "comment_id": 69747263, "body": "Exactly what I needed thanks! but now I having another problem as I need to modify show in the topics controller any so to display only those project, any ideas?"}, {"owner": {"reputation": 2276, "user_id": 4164651, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/100004012909097/picture?type=large", "display_name": "Edmund Lee", "link": "https://stackoverflow.com/users/4164651/edmund-lee"}, "reply_to_user": {"reputation": 33, "user_id": 7207339, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/fxAPe.jpg?s=128&g=1", "display_name": "Daniel Gomez Firmat", "link": "https://stackoverflow.com/users/7207339/daniel-gomez-firmat"}, "edited": false, "score": 0, "creation_date": 1482359177, "post_id": 41272300, "comment_id": 69747335, "body": "@Eltorero1992 just rolled back my answer. the second part should do it."}, {"owner": {"reputation": 33, "user_id": 7207339, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/fxAPe.jpg?s=128&g=1", "display_name": "Daniel Gomez Firmat", "link": "https://stackoverflow.com/users/7207339/daniel-gomez-firmat"}, "edited": false, "score": 0, "creation_date": 1482398289, "post_id": 41272300, "comment_id": 69760694, "body": "I&#39;m still trying to get it right.. but it doesn&#39;t work please see my edit 2!"}], "tags": [], "owner": {"reputation": 2276, "user_id": 4164651, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/100004012909097/picture?type=large", "display_name": "Edmund Lee", "link": "https://stackoverflow.com/users/4164651/edmund-lee"}, "is_accepted": true, "score": 0, "last_activity_date": 1482359340, "last_edit_date": 1592644375, "creation_date": 1482356223, "answer_id": 41272300, "question_id": 41271866, "link": "https://stackoverflow.com/questions/41271866/how-to-display-and-link-an-certain-attribute-of-an-object/41272300#41272300", "title": "How to display and link an certain attribute of an object", "body": "<p>Based on your new edit</p>\n<p>In the controller:</p>\n<pre><code>def index\n  @topics_count = Topic.group(:category).count\n  # this will give you something like this { 'Art' =&gt; 10, 'Business' =&gt; 15' }\nend\n</code></pre>\n<p>on the html page:</p>\n<pre><code>&lt;div id='topics'&gt;\n  &lt;% @topics_count.each do |topic, count| %&gt;\n    &lt;a class='topic-link' href='topic_show_url?category=&lt;%= topic %&gt;'&gt; &lt;%= topic %&gt; (&lt;%= count %&gt;)&lt;/a&gt;\n  &lt;% end %&gt;\n&lt;/div&gt;\n</code></pre>\n<p>You don't need to (and shouldn't) load all the topics because you are just showing the count, and at large scale, loading the entire table will likely crash your site.</p>\n<h3>This will take care of your second request, showing the topic the user picks when the link is clicked.</h3>\n<p>on the page, send ajax request when user select one of those options.</p>\n<pre><code>$('#topics').on('click', '.topic-link', function (e) {\n  e.preventDefault();\n  var category = $(e.currentTarget).val();\n  var queryUrl = $(e).href + '?category=' + category;\n  $.get(queryUrl, function(resp) {\n    if (resp.success) {\n      // select the div or whatever node on the DOM you are displaying the result, and change it.\n    }\n  });\n});\n</code></pre>\n<p>in the controller</p>\n<pre><code>def you_define_this_method\n  category = params[:category]\n  topics = Topic.where(category: category)\n\n  render json: { success: true, topics: topics }\nend\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 7207339, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/fxAPe.jpg?s=128&g=1", "display_name": "Daniel Gomez Firmat", "link": "https://stackoverflow.com/users/7207339/daniel-gomez-firmat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 41272300, "answer_count": 2, "score": 0, "last_activity_date": 1482398210, "creation_date": 1482354206, "last_edit_date": 1482398210, "question_id": 41271866, "link": "https://stackoverflow.com/questions/41271866/how-to-display-and-link-an-certain-attribute-of-an-object", "title": "How to display and link an certain attribute of an object", "body": "<p>I'm trying to display all the topics that are being discussed on my application, so I created a dropdown menu (btw if there is a better way of doing this please feel free to share it):</p>\n\n<pre><code>&lt;div class=\"form-group\"&gt;\n        &lt;label for=\"topic_category\"&gt;Category&lt;/label&gt;\n          &lt;select id=\"topic_category\" name=\"topic[category]\" class=\"form-control\"&gt;\n\n            &lt;option&gt;Art&lt;/option&gt;\n            &lt;option&gt;Business&lt;/option&gt;\n            &lt;option&gt;Books&lt;/option&gt;\n            &lt;option&gt;Charity&lt;/option&gt;\n            &lt;option&gt;Coding&lt;/option&gt;\n            &lt;option&gt;Cooking&lt;/option&gt;\n            &lt;option&gt;Dance&lt;/option&gt;\n            &lt;option&gt;Design&lt;/option&gt;\n            &lt;option&gt;DIY&lt;/option&gt;\n            &lt;option&gt;Engineering&lt;/option&gt;\n            &lt;option&gt;Fashion&lt;/option&gt; etc...\n\n\n          &lt;/select&gt;\n      &lt;/div&gt;\n</code></pre>\n\n<p>What I'm trying to do is to create links to each single category and also display how many topics are active through something like </p>\n\n\n\n<p>----- Edit 1 -----</p>\n\n<p>what I'm trying to achieve is something like this:</p>\n\n<pre><code>&lt;div class=\"row\"&gt;\n  &lt;div class=\"col-md-6\" style =\"padding-top: 10px; border-right: 1px solid #ccc;\"&gt;\n    &lt;h4 style=\"text-align: center;\"&gt;Topics&lt;/h4&gt;\n      &lt;link_to project.category(Art)&gt; (project.category(art).count)\n  &lt;/div&gt;\n</code></pre>\n\n<p>I know that is wrong but is the closest I get to explaining what I'm trying to achieve</p>\n\n<p>---- Edit 2 -----</p>\n\n<p>So I'm still trying to get it right, this is probably because I'm a newbie. So following your answers I implemented the code which looks something like this.</p>\n\n<p>static_pages controller.</p>\n\n<pre><code> def home\n    if logged_in?\n      @user = current_user\n      @topics_count = Topic.group(:category).count\n      end\n    end\n\n    def categoryselection\n      category = params[:category]\n      topics = Topic.where(category: category)\n\n      render json: { success: true, Topics: topics }\n    end\n\n\ndef help\nend\n\ndef about\nend\n\ndef contact\nend\n\nend\n</code></pre>\n\n<p>home view</p>\n\n<pre><code>   .......\n    &lt;% if logged_in? %&gt;\n\n  &lt;div class=\"row\"&gt;\n        &lt;%= render 'shared/sidebar_right' %&gt;\n      &lt;div class=\"col-md-8\" style = \"align-content: right\"&gt;\n        &lt;%= render 'shared/feed' %&gt;\n      &lt;/div&gt;\n\n  &lt;/div&gt;\n\n&lt;% else %&gt;\n .....\n</code></pre>\n\n<p>Sidebar_right view</p>\n\n<pre><code>            ......\n            &lt;div id='topics'&gt;\n            &lt;% @topics_count.each do |topic, count| %&gt;\n            &lt;a class ='project-link' href='topic_path?category=&lt;%= topic %&gt;'&gt; &lt;%= topic %&gt; (&lt;%= count %&gt;)&lt;/a&gt;\n            &lt;% end %&gt;\n            ......\n\n&lt;script type&gt;\n\n$('#topics').on('change', '.topic-link' function (e) {\n  e.preventDefault();\n  var category = $(e.currentTarget).val();\n  var queryUrl = $(e).href + '?category=' + category;\n  $.get(queryUrl, function(resp) {\n    if (resp.success) {redirect_to topic_path \n      // select the div or whatever node on the DOM you are displaying the result, and change it.\n    }\n  });\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>Topics Controller</p>\n\n<pre><code>class TopicsController &lt; ApplicationController\n\n.....\n\ndef index\nend\n\ndef show\n  @user = current_user\n    @topic = Topic.find(params[:id])\n\nend\n\n.....\n</code></pre>\n\n<p>The error I'm getting is no routes match [GET] topic_path, and I've checked on my routes and it does exit it actually refers to \"show\", is this happening because the page I'm using is home rather than the topics page?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "comments": [{"owner": {"reputation": 1766, "user_id": 5630288, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/jXsYc.jpg?s=128&g=1", "display_name": "Teuta Koraqi", "link": "https://stackoverflow.com/users/5630288/teuta-koraqi"}, "edited": false, "score": 0, "creation_date": 1482354707, "post_id": 41271791, "comment_id": 69745267, "body": "I found the script file he is using to achieve that: <a href=\"http://lorenzwoehr.com/assets/scripts/slide.js\" rel=\"nofollow noreferrer\">lorenzwoehr.com/assets/scripts/slide.js</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7327618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/159075e7f1b462c440f910ea552fc1a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tricky Man", "link": "https://stackoverflow.com/users/7327618/tricky-man"}, "edited": false, "score": 0, "creation_date": 1482354462, "post_id": 41271859, "comment_id": 69745140, "body": "I do already know how to make the scrollbar hidden, but the thing is, if you check on his site, when you have scrolled down (or pressed the arrow) the scrollbar thumb is displayed in the very top."}, {"owner": {"reputation": 19184, "user_id": 5561605, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ZvuJE.png?s=128&g=1", "display_name": "sol", "link": "https://stackoverflow.com/users/5561605/sol"}, "reply_to_user": {"reputation": 1, "user_id": 7327618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/159075e7f1b462c440f910ea552fc1a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tricky Man", "link": "https://stackoverflow.com/users/7327618/tricky-man"}, "edited": false, "score": 0, "creation_date": 1482354606, "post_id": 41271859, "comment_id": 69745218, "body": "Yes, he&#39;s changing the css on the body once you have scrolled down. Overflow: hidden is removed. And you can see the scrollbar again."}, {"owner": {"reputation": 19184, "user_id": 5561605, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ZvuJE.png?s=128&g=1", "display_name": "sol", "link": "https://stackoverflow.com/users/5561605/sol"}, "reply_to_user": {"reputation": 1, "user_id": 7327618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/159075e7f1b462c440f910ea552fc1a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tricky Man", "link": "https://stackoverflow.com/users/7327618/tricky-man"}, "edited": false, "score": 0, "creation_date": 1482354679, "post_id": 41271859, "comment_id": 69745255, "body": "This is the plugin he&#39;s using: <a href=\"http://www.slidesjs.com\" rel=\"nofollow noreferrer\">slidesjs.com</a> ... there are a lot of similar plugins."}, {"owner": {"reputation": 1, "user_id": 7327618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/159075e7f1b462c440f910ea552fc1a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tricky Man", "link": "https://stackoverflow.com/users/7327618/tricky-man"}, "edited": false, "score": 0, "creation_date": 1482354948, "post_id": 41271859, "comment_id": 69745401, "body": "So would that make the thumb of the scrollbar appear on the very top after scrolling down, or it would just hide and show the scrollbar?"}, {"owner": {"reputation": 19184, "user_id": 5561605, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ZvuJE.png?s=128&g=1", "display_name": "sol", "link": "https://stackoverflow.com/users/5561605/sol"}, "reply_to_user": {"reputation": 1, "user_id": 7327618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/159075e7f1b462c440f910ea552fc1a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tricky Man", "link": "https://stackoverflow.com/users/7327618/tricky-man"}, "edited": false, "score": 0, "creation_date": 1482362584, "post_id": 41271859, "comment_id": 69748583, "body": "I&#39;m not sure what the difference is. This plugin might be more suitable: <a href=\"http://alvarotrigo.com/fullPage/\" rel=\"nofollow noreferrer\">alvarotrigo.com/fullPage</a>. There are options for displaying and hiding the scrollbar. You could hide it for the first section of your site, and then display it for the remaining sections. There are a lot of options, the documentation is very good and the developer is active here on this site. There might be better alternatives but it seems a reasonable place to start."}], "tags": [], "owner": {"reputation": 19184, "user_id": 5561605, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ZvuJE.png?s=128&g=1", "display_name": "sol", "link": "https://stackoverflow.com/users/5561605/sol"}, "is_accepted": false, "score": 0, "last_activity_date": 1482354173, "creation_date": 1482354173, "answer_id": 41271859, "question_id": 41271791, "link": "https://stackoverflow.com/questions/41271791/set-the-thumb-position-of-the-browser-scrollbar/41271859#41271859", "title": "Set the thumb position of the browser scrollbar", "body": "<p>When the page scrolls the body changes from </p>\n\n<pre><code>overflow: hidden;\n</code></pre>\n\n<p>to </p>\n\n<pre><code>overflow: auto;\n</code></pre>\n\n<p><code>overflow: hidden</code> is the reason the scrollbar is hidden. You can use Javascript to detect scroll, or page position, and then make this style change to the body. There are also many scrolling plugins that will help you achieve this or similar. </p>\n"}], "owner": {"reputation": 1, "user_id": 7327618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/159075e7f1b462c440f910ea552fc1a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tricky Man", "link": "https://stackoverflow.com/users/7327618/tricky-man"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 437, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482354173, "creation_date": 1482353903, "question_id": 41271791, "link": "https://stackoverflow.com/questions/41271791/set-the-thumb-position-of-the-browser-scrollbar", "title": "Set the thumb position of the browser scrollbar", "body": "<p>I've been working on a site that combines anchored scrolling with the normal scrolling, and so I've decided to have a part with a hidden scrollbar, and past a certain point have it be revealed. While I've managed to do this, the thumb of the scrollbar is not in the very top, as I'd like to, since of course the user has scrolled down. </p>\n\n<p>Although, I know for certain this is possible as seen <a href=\"http://lorenzwoehr.com%20here\" rel=\"nofollow noreferrer\">here</a>, but checking out the javascript &amp; css I don't really see how he's doing it.</p>\n\n<p>Thus I've come down to 2 options, one being hiding the scrollbar altogether and replacing it with a custom-made one, and the other one being having the anchored scroll section in fact be right over the normal scroll section and simply move away through some javascript animation (Might be hard to understand what I mean, but basically if you check out the link above it'll make more sense).</p>\n\n<p>Hope anyone can help give some insight on the matter!</p>\n"}, {"tags": ["javascript", "three.js"], "comments": [{"owner": {"reputation": 739, "user_id": 2748766, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/348286ccf0d5282c5bfaecfa5a075f60?s=128&d=identicon&r=PG&f=1", "display_name": "steveOw", "link": "https://stackoverflow.com/users/2748766/steveow"}, "edited": false, "score": 0, "creation_date": 1482845592, "post_id": 41271770, "comment_id": 69894078, "body": "i&#39;m not familiar with composers and without code or a jsfiddle even an expert is unlikely to be able to help you. But as a wild guess I think you may be having a timing problem e.g. a downstream operation is attempting to read data before an upstream operation has finished writing it.  This can be solved by outputting upstream texture to a mesh in a (hidden) scene with an orthographic camera and rendering to a buffer. Then on the next animation step read the buffer data into the downstream operation.  I am hazy on details but you can search related stack overflow posts."}, {"owner": {"reputation": 33, "user_id": 7197153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a44c0bacd4dd5c51809a33f4d953c00c?s=128&d=identicon&r=PG&f=1", "display_name": "mxl", "link": "https://stackoverflow.com/users/7197153/mxl"}, "reply_to_user": {"reputation": 739, "user_id": 2748766, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/348286ccf0d5282c5bfaecfa5a075f60?s=128&d=identicon&r=PG&f=1", "display_name": "steveOw", "link": "https://stackoverflow.com/users/2748766/steveow"}, "edited": false, "score": 0, "creation_date": 1483114781, "post_id": 41271770, "comment_id": 70000432, "body": "Hey steve, I haven&#39;t included any code here because I wasn&#39;t sure which path to choose at the time I wrote this. However: I created a Forum post here (<a href=\"http://www.html5gamedevs.com/topic/27318-threejs-webglrendertargettexture-as-uniform/\" rel=\"nofollow noreferrer\">html5gamedevs.com/topic/&hellip;</a>) where I explain the problem in a more detailed way. But I&#39;ll update my post on here later. Thanks for the reply."}], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 7197153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a44c0bacd4dd5c51809a33f4d953c00c?s=128&d=identicon&r=PG&f=1", "display_name": "mxl", "link": "https://stackoverflow.com/users/7197153/mxl"}, "is_accepted": true, "score": -1, "last_activity_date": 1489168442, "last_edit_date": 1489168442, "creation_date": 1483370890, "answer_id": 41429433, "question_id": 41271770, "link": "https://stackoverflow.com/questions/41271770/effectcomposer-access-the-image-created-by-the-composer/41429433#41429433", "title": "EffectComposer - Access the image created by the Composer", "body": "<p>Aaaaaaand we're done!</p>\n\n<p>After testing around and finally, creating another issue on github, I was able to solve this issue.</p>\n\n<p>I stuck with this for now, since it works like a absolute charm.</p>\n\n<p>This is the code that I use to create my texture:</p>\n\n<pre><code>var firstOutput = document.getElementById(\"CanvasOne\"); //Get the filled canvas;\nvar tmpTxt = new THREE.CanvasTexture(firstOutput); //Create the texture;\n\n//Set both min- and magFilter to the correct filtering;\ntmpTxt.magFilter = THREE.LinearFilter;\ntmpTxt.minFilter = THREE.LinearFilter;\ntmpTxt.generateMipmaps = false; //Set this to resolve the image dstortion;\n</code></pre>\n\n<p>Afterwards, I was able to use <code>tmpTxt</code> as a uniform.</p>\n"}], "owner": {"reputation": 33, "user_id": 7197153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a44c0bacd4dd5c51809a33f4d953c00c?s=128&d=identicon&r=PG&f=1", "display_name": "mxl", "link": "https://stackoverflow.com/users/7197153/mxl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 230, "favorite_count": 1, "accepted_answer_id": 41429433, "answer_count": 1, "score": 2, "last_activity_date": 1489168442, "creation_date": 1482353847, "last_edit_date": 1489168422, "question_id": 41271770, "link": "https://stackoverflow.com/questions/41271770/effectcomposer-access-the-image-created-by-the-composer", "title": "EffectComposer - Access the image created by the Composer", "body": "<p>I've got a question/problem regarding the EffectComposer.</p>\n\n<p>What I'm trying to do:\nI try to split up all of the post-processing used in my App between multiple EffectComposers.\nI would like to be able to calculate e.g. 5 shaders in <em>EffectComposer1</em>, then take the image created by this composer and pass it back into a uniform in e.g. <em>EffectComposer2</em>. \nBoth the geometry and the texture used in EffectComposer1 are suitable (in terms of their pixel-size) to be used as a uniform in <em>EffectComposer2</em>.</p>\n\n<p>AFAIK, the EffectComposers write/readBuffer should hold the texture that would get rendered to screen if no effect is set to <code>renderToScreen = true;</code>.</p>\n\n<p>If there are any more informations needed in order to resolve this issue, please let me know.</p>\n\n<p>Regards,\nMichael</p>\n\n<p>Using three.js r82</p>\n"}, {"tags": ["javascript", "php", "alert"], "comments": [{"owner": {"reputation": 746, "user_id": 6281155, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zTYOP.jpg?s=128&g=1", "display_name": "Rafael Shkembi", "link": "https://stackoverflow.com/users/6281155/rafael-shkembi"}, "edited": false, "score": 0, "creation_date": 1482354124, "post_id": 41271736, "comment_id": 69744967, "body": "you can make an error condition if (!$stmt ) { echo &quot;error&quot;;)}"}, {"owner": {"reputation": 998, "user_id": 4819945, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/EVB7O.jpg?s=128&g=1", "display_name": "Rataiczak24", "link": "https://stackoverflow.com/users/4819945/rataiczak24"}, "reply_to_user": {"reputation": 746, "user_id": 6281155, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zTYOP.jpg?s=128&g=1", "display_name": "Rafael Shkembi", "link": "https://stackoverflow.com/users/6281155/rafael-shkembi"}, "edited": false, "score": 0, "creation_date": 1482354320, "post_id": 41271736, "comment_id": 69745050, "body": "I added that and i dont see anything being echoed at all. I dont get an error but i also dont see anything being echoed"}, {"owner": {"reputation": 746, "user_id": 6281155, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zTYOP.jpg?s=128&g=1", "display_name": "Rafael Shkembi", "link": "https://stackoverflow.com/users/6281155/rafael-shkembi"}, "edited": false, "score": 0, "creation_date": 1482354432, "post_id": 41271736, "comment_id": 69745120, "body": "maybe you have no errors. Test the query, you can change the table name with one invalid name. try that"}, {"owner": {"reputation": 998, "user_id": 4819945, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/EVB7O.jpg?s=128&g=1", "display_name": "Rataiczak24", "link": "https://stackoverflow.com/users/4819945/rataiczak24"}, "reply_to_user": {"reputation": 746, "user_id": 6281155, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zTYOP.jpg?s=128&g=1", "display_name": "Rafael Shkembi", "link": "https://stackoverflow.com/users/6281155/rafael-shkembi"}, "edited": false, "score": 0, "creation_date": 1482354504, "post_id": 41271736, "comment_id": 69745164, "body": "I should have an error. In the console, it says &quot;Row failed to insert&quot; but nothing is being echoed for the user to see"}, {"owner": {"reputation": 746, "user_id": 6281155, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zTYOP.jpg?s=128&g=1", "display_name": "Rafael Shkembi", "link": "https://stackoverflow.com/users/6281155/rafael-shkembi"}, "edited": false, "score": 0, "creation_date": 1482354577, "post_id": 41271736, "comment_id": 69745204, "body": "this script is a part of ajax?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557846"}, "edited": false, "score": 0, "creation_date": 1482354642, "post_id": 41271736, "comment_id": 69745237, "body": "there&#39;s a lot of relevant code missing from this question"}, {"owner": {"reputation": 998, "user_id": 4819945, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/EVB7O.jpg?s=128&g=1", "display_name": "Rataiczak24", "link": "https://stackoverflow.com/users/4819945/rataiczak24"}, "edited": false, "score": 0, "creation_date": 1482354680, "post_id": 41271736, "comment_id": 69745256, "body": "No, there is no ajax...my column name in my database is unique so if i enter a non-unique value, then it wont work, which is what i want....so i need an alert to let me know it didnt work since the user isnt going to have their console up"}, {"owner": {"reputation": 746, "user_id": 6281155, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zTYOP.jpg?s=128&g=1", "display_name": "Rafael Shkembi", "link": "https://stackoverflow.com/users/6281155/rafael-shkembi"}, "edited": false, "score": 0, "creation_date": 1482354857, "post_id": 41271736, "comment_id": 69745360, "body": "please post the code of your javascript"}, {"owner": {"reputation": 998, "user_id": 4819945, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/EVB7O.jpg?s=128&g=1", "display_name": "Rataiczak24", "link": "https://stackoverflow.com/users/4819945/rataiczak24"}, "edited": false, "score": 0, "creation_date": 1482354951, "post_id": 41271736, "comment_id": 69745403, "body": "Added my javascript"}, {"owner": {"reputation": 746, "user_id": 6281155, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zTYOP.jpg?s=128&g=1", "display_name": "Rafael Shkembi", "link": "https://stackoverflow.com/users/6281155/rafael-shkembi"}, "edited": false, "score": 0, "creation_date": 1482355106, "post_id": 41271736, "comment_id": 69745477, "body": "wich of the functions is related to the php code?"}, {"owner": {"reputation": 998, "user_id": 4819945, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/EVB7O.jpg?s=128&g=1", "display_name": "Rataiczak24", "link": "https://stackoverflow.com/users/4819945/rataiczak24"}, "edited": false, "score": 0, "creation_date": 1482355217, "post_id": 41271736, "comment_id": 69745535, "body": "Okay I misspoke on your comment about ajax...the <code>Add Vendor</code> function of the javascript has an ajax function that calls insert.php"}, {"owner": {"reputation": 746, "user_id": 6281155, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zTYOP.jpg?s=128&g=1", "display_name": "Rafael Shkembi", "link": "https://stackoverflow.com/users/6281155/rafael-shkembi"}, "edited": false, "score": 0, "creation_date": 1482355446, "post_id": 41271736, "comment_id": 69745634, "body": "ok at the success: function(data){} add a if condition. if(data == &quot;Row failed to insert&quot;){ alert(&quot;insert not successfull&quot;); }"}, {"owner": {"reputation": 998, "user_id": 4819945, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/EVB7O.jpg?s=128&g=1", "display_name": "Rataiczak24", "link": "https://stackoverflow.com/users/4819945/rataiczak24"}, "edited": false, "score": 0, "creation_date": 1482355692, "post_id": 41271736, "comment_id": 69745755, "body": "that isnt the function that goes to the insert.php page though....the ajax that calls the insert is halfway down in the addvendor function"}, {"owner": {"reputation": 998, "user_id": 4819945, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/EVB7O.jpg?s=128&g=1", "display_name": "Rataiczak24", "link": "https://stackoverflow.com/users/4819945/rataiczak24"}, "edited": false, "score": 0, "creation_date": 1482355873, "post_id": 41271736, "comment_id": 69745838, "body": "okay I got it, I just added an alert right inside the else statement...i was just looking in the wrong place to write the code.....so whenever the alert pops up and i press okay, the dialog box exits....is there a way to keep the box up to allow me to enter a new number without having to press the add button again?"}], "owner": {"reputation": 998, "user_id": 4819945, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/EVB7O.jpg?s=128&g=1", "display_name": "Rataiczak24", "link": "https://stackoverflow.com/users/4819945/rataiczak24"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1482355627, "creation_date": 1482353674, "last_edit_date": 1482355627, "question_id": 41271736, "link": "https://stackoverflow.com/questions/41271736/alert-window-after-insert-statement-on-success-fail", "title": "Alert Window after Insert Statement on Success/Fail", "body": "<p>I have a dialog box that can will add a row to a database on submit. However, if there is an error with the insert, I want an alert window to display so that the user knows it didnt work. I tried to use javascript in my php but that returned an error and whenever I try something this is the error I always get: <code>Uncaught SyntaxError: Unexpected token E in JSON</code>.</p>\n\n<p>How can I get around this and display an alert on submit?</p>\n\n<p>Here is what my original Insert.php code looks like...</p>\n\n<pre><code>&lt;?php\n\n  $MR_ID = $_POST['MR_ID'];\n  $Supp_ID = $_POST['Supp_ID'];\n\n  $host=\"xxxxxxxxx\"; \n  $dbName=\"xxxx\"; \n  $dbUser=\"xxxxxxxxxxx\"; \n  $dbPass=\"xxxxxxxxx\";\n\n  $pdo = new PDO(\"sqlsrv:server=\".$host.\";Database=\".$dbName, $dbUser, $dbPass);\n\n  $sql = \"INSERT INTO Stage_Rebate_Index (MR_ID, Supp_ID) VALUES (?, ?)\";\n  $stmt = $pdo-&gt;prepare($sql);\n  $result = $stmt-&gt;execute(array($MR_ID, $Supp_ID));\n  echo json_encode($result);\n\n?&gt;\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>JavaScript code:</p>\n\n<pre><code>// ----- Dialog Box for adding mr id and supplier id -----\n\n$( function() {\n\n\n    $(\"#insertButton\").on('click', function(e){\n    e.preventDefault();\n  });   \n\n    var dialog, form,\n\n      mr_id_dialog = $( \"#mr_id_dialog\" ),\n      supplier_id = $( \"#supplier_id\" ),\n      allFields = $( [] ).add( mr_id_dialog ).add( supplier_id ),\n      tips = $( \".validateTips\" );\n  console.log(allFields);\n\n    function updateTips( t ) {\n      tips\n        .text( t )\n        .addClass( \"ui-state-highlight\" );\n      setTimeout(function() {\n        tips.removeClass( \"ui-state-highlight\", 1500 );\n      }, 500 );\n    }\n\n    function checkRegexp( o, regexp, n ) {\n      if ( !( regexp.test( o.val() ) ) ) {\n        o.addClass( \"ui-state-error\" );\n        updateTips( n );\n        return false;\n      } else {\n        return true;\n      }\n    }\n\n   function addVendor() {\n      var valid = true;\n      allFields.removeClass( \"ui-state-error\" );\n// ----- Validation for each input in add row dialog box -----\n      //valid = valid &amp;&amp; checkRegexp( mr_id_dialog, /^(0|[1-9][0-9]*)$/, \"Please enter a valid MR ID\" );\n      valid = valid &amp;&amp; checkRegexp( supplier_id, /^(0|[1-9][0-9]*)$/, \"Please enter a valid Supplier ID\" );\n      console.log(allFields);\n      if ( valid ) {\n        var $tr = $( \"#index_table tbody tr\" ).eq(0).clone();\n        var dict = {};\n        var errors = \"\";\n        $.each(allFields, function(){\n          $tr.find('.' + $(this).attr('id')).html( $(this).val()+\"-\"+supplier_id );\n          var type = $(this).attr('id');\n          var value = $(this).val();\n          console.log(type + \" : \" + value);\n          // ----- Switch statement that provides validation for each table cell -----\n          switch (type) {\n            case \"mr_id_dialog\":\n                dict[\"MR_ID\"] = parseInt(value);\n                console.log(dict['MR_ID']);\n              break;\n            case \"supplier_id\":\n                dict[\"Supp_ID\"] = value;\n              break;\n            }\n        });\n        $( \"#index_table tbody\" ).append($tr);\n        dialog.dialog( \"close\" );\n        console.log(dict);\n\n        var request = $.ajax({\n          type: \"POST\",\n          url: \"insert.php\",\n          data: dict\n        });\n\n        request.done(function (response, textStatus, jqXHR){\n          if(JSON.parse(response) == true){\n            console.log(\"row inserted\");\n          } else {\n            console.log(\"row failed to insert\");\n            console.log(response);\n          }\n        });\n\n        // Callback handler that will be called on failure\n        request.fail(function (jqXHR, textStatus, errorThrown){\n            console.error(\n                \"The following error occurred: \"+\n                textStatus, errorThrown\n            );\n        });\n\n        // Callback handler that will be called regardless\n        // if the request failed or succeeded\n        request.always(function () {\n\n        });\n\n\n      }\n      return valid;\n    }\n\n    var dialog = $( \"#dialog-form\" ).dialog({\n      autoOpen: false,\n      height: 400,\n      width: 350,\n      modal: true,\n      buttons: {\n        \"Add Supplier ID\": addVendor,\n        Cancel: function() {\n          dialog.dialog( \"close\" );\n        }\n      },\n      close: function() {\n        form[ 0 ].reset();\n        allFields.removeClass( \"ui-state-error\" );\n      }\n    });\n\n    form = dialog.find( \"form\" ).on( \"submit\", function( event ) {\n      event.preventDefault();\n      addVendor();\n    });\n\n    $( \"#insertButton\" ).button().on( \"click\", function() {\n      dialog.dialog({\n          position: ['center', 'top'],\n          show: 'blind',\n          hide: 'blind'\n      });\n      dialog.dialog(\"open\");\n    });\n});\n</code></pre>\n"}, {"tags": ["javascript", "html", "arrays", "css"], "comments": [{"owner": {"reputation": 1818, "user_id": 1086525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6d261261425b72bba389146c4cf2d2e?s=128&d=identicon&r=PG", "display_name": "Whothehellisthat", "link": "https://stackoverflow.com/users/1086525/whothehellisthat"}, "edited": false, "score": 1, "creation_date": 1482353816, "post_id": 41271719, "comment_id": 69744812, "body": "You should just create the new one as a DOM node, and append that to #node_div."}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 7327135, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10154851533786100/picture?type=large", "display_name": "Liad Goren", "link": "https://stackoverflow.com/users/7327135/liad-goren"}, "edited": false, "score": 0, "creation_date": 1482355172, "post_id": 41271840, "comment_id": 69745514, "body": "it just creates another div and posts all the notes there, leavin the first notes created at their place, and they all still get the fade in effect globally."}, {"owner": {"reputation": 1818, "user_id": 1086525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6d261261425b72bba389146c4cf2d2e?s=128&d=identicon&r=PG", "display_name": "Whothehellisthat", "link": "https://stackoverflow.com/users/1086525/whothehellisthat"}, "reply_to_user": {"reputation": 111, "user_id": 7327135, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10154851533786100/picture?type=large", "display_name": "Liad Goren", "link": "https://stackoverflow.com/users/7327135/liad-goren"}, "edited": false, "score": 0, "creation_date": 1482355329, "post_id": 41271840, "comment_id": 69745584, "body": "This work? It was tricky figuring out what&#39;s a note and what&#39;s not ;P"}, {"owner": {"reputation": 111, "user_id": 7327135, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10154851533786100/picture?type=large", "display_name": "Liad Goren", "link": "https://stackoverflow.com/users/7327135/liad-goren"}, "edited": false, "score": 0, "creation_date": 1482355523, "post_id": 41271840, "comment_id": 69745679, "body": "Not trying to be mean! thanks for the help!!!! it just creates anoter div section below the first notes and recreates the whole array there+new note"}, {"owner": {"reputation": 1818, "user_id": 1086525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6d261261425b72bba389146c4cf2d2e?s=128&d=identicon&r=PG", "display_name": "Whothehellisthat", "link": "https://stackoverflow.com/users/1086525/whothehellisthat"}, "reply_to_user": {"reputation": 111, "user_id": 7327135, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10154851533786100/picture?type=large", "display_name": "Liad Goren", "link": "https://stackoverflow.com/users/7327135/liad-goren"}, "edited": false, "score": 0, "creation_date": 1482355558, "post_id": 41271840, "comment_id": 69745699, "body": "Right. Could you make a jsFiddle so I can see what&#39;s going on?"}, {"owner": {"reputation": 1818, "user_id": 1086525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6d261261425b72bba389146c4cf2d2e?s=128&d=identicon&r=PG", "display_name": "Whothehellisthat", "link": "https://stackoverflow.com/users/1086525/whothehellisthat"}, "reply_to_user": {"reputation": 111, "user_id": 7327135, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10154851533786100/picture?type=large", "display_name": "Liad Goren", "link": "https://stackoverflow.com/users/7327135/liad-goren"}, "edited": false, "score": 0, "creation_date": 1482358624, "post_id": 41271840, "comment_id": 69747114, "body": "Basically, I removed the loop, and made a ShowNote function, which accepts any note data object. This way, it can be used to show the existing notes when the page loads, as well as add new ones later on. The Deletion code had to be changed to remove the HTML element, rather than rewrite the whole div, also."}, {"owner": {"reputation": 111, "user_id": 7327135, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10154851533786100/picture?type=large", "display_name": "Liad Goren", "link": "https://stackoverflow.com/users/7327135/liad-goren"}, "edited": false, "score": 0, "creation_date": 1482359453, "post_id": 41271840, "comment_id": 69747469, "body": "OMG IT WORKSSSS but one last thing,  1st, is it possible to add the text into an input type =  text ? Also, when I delete the notes they don&#39;t get deleted from the local storage so when I refresh they are still there :O..."}, {"owner": {"reputation": 111, "user_id": 7327135, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10154851533786100/picture?type=large", "display_name": "Liad Goren", "link": "https://stackoverflow.com/users/7327135/liad-goren"}, "edited": false, "score": 0, "creation_date": 1482359666, "post_id": 41271840, "comment_id": 69747564, "body": "Scratch that, only the delete thing from the local storage.. its ok in a &lt;p&gt;"}, {"owner": {"reputation": 1818, "user_id": 1086525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6d261261425b72bba389146c4cf2d2e?s=128&d=identicon&r=PG", "display_name": "Whothehellisthat", "link": "https://stackoverflow.com/users/1086525/whothehellisthat"}, "reply_to_user": {"reputation": 111, "user_id": 7327135, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10154851533786100/picture?type=large", "display_name": "Liad Goren", "link": "https://stackoverflow.com/users/7327135/liad-goren"}, "edited": false, "score": 0, "creation_date": 1482359804, "post_id": 41271840, "comment_id": 69747616, "body": "I&#39;ve tweaked the deletion function to save. Also created a save() function so you don&#39;t have to rewrite the code every time. <a href=\"https://jsfiddle.net/640kxd0d/2/\" rel=\"nofollow noreferrer\">jsFiddle</a>"}, {"owner": {"reputation": 111, "user_id": 7327135, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10154851533786100/picture?type=large", "display_name": "Liad Goren", "link": "https://stackoverflow.com/users/7327135/liad-goren"}, "edited": false, "score": 0, "creation_date": 1482402327, "post_id": 41271840, "comment_id": 69763336, "body": "Dude thank you so much . I learned so much from this I went through the code so many times. Helped me a bunch and saved my ass as my project is due today."}], "tags": [], "owner": {"reputation": 1818, "user_id": 1086525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6d261261425b72bba389146c4cf2d2e?s=128&d=identicon&r=PG", "display_name": "Whothehellisthat", "link": "https://stackoverflow.com/users/1086525/whothehellisthat"}, "is_accepted": false, "score": 0, "last_activity_date": 1482355308, "last_edit_date": 1482355308, "creation_date": 1482354107, "answer_id": 41271840, "question_id": 41271719, "link": "https://stackoverflow.com/questions/41271719/create-an-array-in-for-loop-without-running-over-the-array/41271840#41271840", "title": "Create an Array in For loop without running over the array", "body": "<p>There's no real need to split this functionality over multiple functions.</p>\n\n<p>All you need to do is create the new note and append it to the DOM, instead of recreating all the HTML every time.</p>\n\n<pre><code>function AddNote (){\n    var input = document.getElementById(\"txt\").value;\n    var date = d.getDate() + \" \" + months[d.getMonth()] + \" \" + d.getFullYear();\n    var time = d.getHours() + \":\" + d.getMinutes();\n    var n = new NoteCrt(input,time,date);\n    notes.push(n);\n\n    // store\n    notes_j = JSON.stringify(notes, null, \" \");\n    localStorage.setItem(\"NOTE\",notes_j);\n    notes_p = JSON.parse(notes_j);\n    console.log(notes_p);\n\n    // show\n    for (var i = 0 ; i &lt; notes.length ; i++) {\n       var new_note = document.createElement(\"span\");\n       new_note.id=\"fade\"; new_note.class=\"note_input\";\n       new_note.innerHTML += \"&lt;div class='flow' &gt;&lt;p&gt;\"+notes[i].input+\"&lt;/p&gt;&lt;/div&gt;&lt;/br&gt;\" + \"&lt;/br&gt;\" +\"Time:  \"+ notes[i].time + \"&lt;/br&gt;\" +\"Date:  \"+ notes[i].date;\n    }\n    document.getElementById(\"note_div\").appendChild(new_note);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 111, "user_id": 7327135, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10154851533786100/picture?type=large", "display_name": "Liad Goren", "link": "https://stackoverflow.com/users/7327135/liad-goren"}, "edited": false, "score": 0, "creation_date": 1482357359, "post_id": 41272253, "comment_id": 69746529, "body": "OMG THIS WORKS!!! but how do I then get the data from the local storage? I am supposed to make sure my notes appear even if the tab is closed, by taking them out of the storage? I added"}, {"owner": {"reputation": 111, "user_id": 7327135, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10154851533786100/picture?type=large", "display_name": "Liad Goren", "link": "https://stackoverflow.com/users/7327135/liad-goren"}, "edited": false, "score": 0, "creation_date": 1482357452, "post_id": 41272253, "comment_id": 69746584, "body": "I think i have to do it in 2 different functions !... can you split it up?"}], "tags": [], "owner": {"reputation": 124, "user_id": 3241484, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6dec7193821a8619dc61f4ee6c60e854?s=128&d=identicon&r=PG&f=1", "display_name": "tengbretson", "link": "https://stackoverflow.com/users/3241484/tengbretson"}, "is_accepted": false, "score": 0, "last_activity_date": 1482356046, "creation_date": 1482356046, "answer_id": 41272253, "question_id": 41271719, "link": "https://stackoverflow.com/questions/41271719/create-an-array-in-for-loop-without-running-over-the-array/41272253#41272253", "title": "Create an Array in For loop without running over the array", "body": "<pre><code>function AddNote (){\n  var input = document.getElementById(\"txt\").value;\n  var date = d.getDate() + \" \" + months[d.getMonth()] + \" \" + d.getFullYear();\n  var time = d.getHours() + \":\" + d.getMinutes();\n  var n = new NoteCrt(input, time, date);\n\n  var notes = JSON.parse(localStorage.getItem(\"NOTE\")) || [];\n  notes.push(n);\n  console.log(notes);\n  localStorage.setItem(\"NOTE\", JSON.stringify(notes, null, \" \"));\n\n  var node_div = document.getElementById(\"note_div\");\n  var el = document.createElement('span');\n\n  el.id = \"fade\";\n  el.classList.add('note_input');\n  el.innerHTML =\n    \"&lt;div class='flow'&gt;\" +\n      \"&lt;p&gt;\" + n.input + \"&lt;/p&gt;\" +\n    \"&lt;/div&gt;\" +\n    \"&lt;/br&gt;\" +\n    \"&lt;/br&gt;\" +\n    \"Time:  \" + n.time +\n    \"&lt;/br&gt;\" +\n    \"Date:  \" + n.date;\n  node_div.appendChild(el);\n}\n</code></pre>\n\n<p>You should note that it appears that you are assigning the id <code>fade</code> to multiple spans. If that is the case, you should consider making it a class.</p>\n"}], "owner": {"reputation": 111, "user_id": 7327135, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10154851533786100/picture?type=large", "display_name": "Liad Goren", "link": "https://stackoverflow.com/users/7327135/liad-goren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1482356698, "creation_date": 1482353576, "question_id": 41271719, "link": "https://stackoverflow.com/questions/41271719/create-an-array-in-for-loop-without-running-over-the-array", "title": "Create an Array in For loop without running over the array", "body": "<p>I'm trying to do a college project.\nI'm supposed to create 'Notes' add them to an array and keep them in my local storage.\nNow the notes should be created with a Fade in effect (transition) using CSS3.\nEverything works perfectly until I create the second note at which point my whole array is run over again which makes all the notes to appear in fade.</p>\n\n<p>CSS: </p>\n\n<pre><code>.note_input {\n    height:255px;\n    width:200px;\n    background-image:url('../img/notebg.png');\n    padding-top:25px;\n    padding-left:10px;\n    display:inline-block;\n    animation: fadein 0.3s; \n    -webkit-animation: fadein 0.3s;\n}\n    @keyframes fadein {\n        from {\n            opacity:0;\n        }\n        to {\n            opacity:1;\n        }\n    }\n    @-webkit-keyframes fadein { \n        from {\n            opacity:0;\n        }\n        to {\n            opacity:1;\n        }\n    }\n</code></pre>\n\n<p>And this is my JS to create the Array + Note itself:</p>\n\n<pre><code>function AddNote (){\n    var input = document.getElementById(\"txt\").value;\n    var date = d.getDate() + \" \" + months[d.getMonth()] + \" \" + d.getFullYear();\n    var time = d.getHours() + \":\" + d.getMinutes();\n    var n = new NoteCrt(input,time,date);\n    notes.push(n);\n    Note();\n}\nfunction Note(){\n    var note_d = \"&lt;div&gt;\";\n    for (var i = 0 ; i &lt; notes.length ; i++) {\n        note_d += \"&lt;span id='fade' class='note_input'&gt;\" + \"&lt;div class='flow' &gt;&lt;p&gt;\"+notes[i].input+\"&lt;/p&gt;&lt;/div&gt;&lt;/br&gt;\" + \"&lt;/br&gt;\" +\"Time:  \"+ notes[i].time + \"&lt;/br&gt;\" +\"Date:  \"+ notes[i].date;\n        note_d +=  \"&lt;/span&gt;\";\n    }\n    note_d += \"&lt;/div&gt;\";\n    document.getElementById(\"note_div\").innerHTML = note_d;\n    notes_j = JSON.stringify(notes, null, \" \");\n    localStorage.setItem(\"NOTE\",notes_j);\n    notes_p = JSON.parse(notes_j);\n    console.log(notes_p);\n}\n</code></pre>\n\n<p>What happens is that all the notes that are present are recreated with a fade in effect every time...\nAny help?</p>\n"}, {"tags": ["javascript", "node.js", "mongodb", "express", "mongoose"], "comments": [{"owner": {"reputation": 1374, "user_id": 593186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a69c3211fe5e6130070aa252b857ecd?s=128&d=identicon&r=PG", "display_name": "Cole Erickson", "link": "https://stackoverflow.com/users/593186/cole-erickson"}, "edited": false, "score": 0, "creation_date": 1482361732, "post_id": 41271692, "comment_id": 69748338, "body": "It seems almost like your schema should instead be <code>[{type: String}]</code>, so that you&#39;re not fighting against the library the whole way.  Is there any reason you need ObjectIds in the schema but strings actually being saved?"}], "answers": [{"tags": [], "owner": {"reputation": 4266, "user_id": 1878958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/874d197c1351f287a94039c0576da350?s=128&d=identicon&r=PG&f=1", "display_name": "Santanu Biswas", "link": "https://stackoverflow.com/users/1878958/santanu-biswas"}, "is_accepted": false, "score": 0, "last_activity_date": 1482359612, "creation_date": 1482359612, "answer_id": 41273042, "question_id": 41271692, "link": "https://stackoverflow.com/questions/41271692/mongoose-populate-array-with-reference-property/41273042#41273042", "title": "Mongoose - Populate Array With Reference Property", "body": "<p>You can make use of 'post' <a href=\"http://mongoosejs.com/docs/middleware.html\" rel=\"nofollow noreferrer\">Query Middleware</a> function. This function will be triggered before the actual data is returned by Model.find() or Model.findOne() query. Inside the function you can use Array.map to transform the data to required format.</p>\n\n<pre><code>schema.post('findOne', function(doc) {\n    // Transform the doc here.\n    // Example: \n    // doc.tags = doc.tags.map(tag =&gt; tag.name);\n});\n</code></pre>\n\n<p>You could also do the same for handling Model.find().</p>\n\n<pre><code>schema.post('find', function(docs) {\n    // Transform the doc here.\n    // Example: \n    // docs = docs.map(doc =&gt; {\n    //     doc.tags = doc.tags.map(tag =&gt; tag.name);\n    //     return doc;\n    // });\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 205, "user_id": 1626812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe24dd99be3f5b516ba7adce034aa84?s=128&d=identicon&r=PG", "display_name": "ztrange", "link": "https://stackoverflow.com/users/1626812/ztrange"}, "is_accepted": false, "score": 0, "last_activity_date": 1482373462, "creation_date": 1482373462, "answer_id": 41274897, "question_id": 41271692, "link": "https://stackoverflow.com/questions/41271692/mongoose-populate-array-with-reference-property/41274897#41274897", "title": "Mongoose - Populate Array With Reference Property", "body": "<p>You can use a virtual that returns a reduction of the tags array:</p>\n\n<pre><code>schema.virtual('plainTags').get(function () {\n  // first, validate if the 'tags' path is populated\n  if (!this.populated('tags')) {\n    return this.tags\n  }\n  return this.tags.reduce(function(col, Tag) {\n    col.push(Tag.name) return col\n  }, [])\n})\n</code></pre>\n"}], "owner": {"reputation": 10054, "user_id": 2734369, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f7e946bedea673c57bb40d2a8c1e6557?s=128&d=identicon&r=PG", "display_name": "pizzarob", "link": "https://stackoverflow.com/users/2734369/pizzarob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 586, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1482373462, "creation_date": 1482353493, "question_id": 41271692, "link": "https://stackoverflow.com/questions/41271692/mongoose-populate-array-with-reference-property", "title": "Mongoose - Populate Array With Reference Property", "body": "<p>I have an array of Tags in my Post schema:</p>\n\n<p><code>tags: [ { type: Schema.Types.ObjectId, ref: 'Tag' } ],</code></p>\n\n<p>Tag looks like this:</p>\n\n<p><code>{ name: String }</code></p>\n\n<p>When I populate the <code>tags</code> array it is of course populated with tag object literals.</p>\n\n<p>Is there a way I can instead have mongoose populate the array with only the <code>name</code> string from the tag? </p>\n\n<p>I have tried only specifying the name, but then <code>name</code> is returned within an object literal.</p>\n\n<p>Currently the population outputs:</p>\n\n<p><code>[ { name: 'React' }, { name: 'JavaScript' } ]</code></p>\n\n<p>But I would like it to be:</p>\n\n<p><code>[ 'React', 'JavaScript']</code></p>\n\n<p>Is there a way to do this with Mongoose ? </p>\n"}, {"tags": ["javascript", "mobile", "menu"], "comments": [{"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 1, "creation_date": 1482353267, "post_id": 41271605, "comment_id": 69744509, "body": "Can you be more specific so we can effectively help you? What does &quot;doesn&#39;t work&quot; mean? Did you get an error? If so, what line is it on and what is the exact error message?"}, {"owner": {"reputation": 1158, "user_id": 4946681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0jj94.gif?s=128&g=1", "display_name": "Nate", "link": "https://stackoverflow.com/users/4946681/nate"}, "edited": false, "score": 1, "creation_date": 1482354036, "post_id": 41271605, "comment_id": 69744910, "body": "You aren&#39;t including jQuery (so you can&#39;t <code>slideToggle</code>) AND your select will only find the <code>nav</code> and not the <code>.sub-menu</code>, you also can&#39;t use <code>next</code>, but even if you did include jQuery, next searches subsequent siblings whereas the <code>nav</code> element is prior to <code>this</code>."}], "answers": [{"tags": [], "owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "is_accepted": true, "score": 1, "last_activity_date": 1482359226, "last_edit_date": 1482359226, "creation_date": 1482353890, "answer_id": 41271784, "question_id": 41271605, "link": "https://stackoverflow.com/questions/41271605/javascript-on-mobile-menu-doesnt-seem-to-work/41271784#41271784", "title": "Javascript on mobile menu doesn&#39;t seem to work", "body": "<p>You haven't specified what \"doesn't work\" about your code, but I do see this:</p>\n\n<pre><code>$this.attr( 'aria-pressed', function( index, value ) {\n    return 'false' === value ? 'true' : 'false';\n});\n</code></pre>\n\n<p>Here, you are setting the value of the <code>aria-pressed</code> attribute to a function (as if this were an event handler, which it is not). The function will not actually execute in this scenario - the entire function simply becomes the value of the attribute.</p>\n\n<p>According to the <a href=\"https://www.w3.org/TR/wai-aria/states_and_properties\" rel=\"nofollow noreferrer\">W3C Spec</a>, this attribute can have the following values:</p>\n\n<ul>\n<li><strong>true/false</strong> : Value representing either true or false, with a default\n\"false\" value.</li>\n<li><strong>tristate</strong> : Value representing true or false, with an intermediate\n\"mixed\" value. Default value is \"false\" unless otherwise specified.</li>\n<li><strong>true/false/undefined</strong> : Value representing true or false, with > a\ndefault \"undefined\" value indicating the state or property is not \nrelevant.</li>\n<li><strong>ID reference</strong> : Reference to the ID of another element in the same\ndocument</li>\n<li><strong>ID reference</strong> : list A list of one or more ID references.</li>\n<li><strong>integer</strong> : A numerical value without a fractional component.</li>\n<li><strong>number</strong> : Any real numerical value. string Unconstrained value type.</li>\n<li><strong>token</strong> : One of a limited set of allowed values.</li>\n<li><strong>token list</strong> : A list of one or more tokens.</li>\n</ul>\n\n<p>As you can see, a function is not acceptable as the value.</p>\n\n<p>I think what you want is the <strong>result</strong> of the body of your function (which will return <code>true</code> or <code>false</code>, both acceptable values), but not a function itself:</p>\n\n<pre><code>$this.attr( 'aria-pressed', ('false' === value ? 'true' : 'false'));\n</code></pre>\n"}], "owner": {"reputation": 202, "user_id": 1645535, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5e7c949543055e8be3922efca2a658c0?s=128&d=identicon&r=PG", "display_name": "Stefaan", "link": "https://stackoverflow.com/users/1645535/stefaan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 41271784, "answer_count": 1, "score": 0, "last_activity_date": 1482359226, "creation_date": 1482353162, "question_id": 41271605, "link": "https://stackoverflow.com/questions/41271605/javascript-on-mobile-menu-doesnt-seem-to-work", "title": "Javascript on mobile menu doesn&#39;t seem to work", "body": "<p>I have a problem with a mobile menu toggle not working on this site: <a href=\"http://www.toscanzahoeve.be\" rel=\"nofollow noreferrer\">http://www.toscanzahoeve.be</a></p>\n\n<p>The mobile menu toggle (displays below 975 px) doesn't work. The javascript works for the toggle itself (gets the class 'activated') but not for the 'nav' element below (which style should switch from 'display: none' to 'display: block').</p>\n\n<p>This is a site where it does work: <a href=\"http://downloadaproduct.com/\" rel=\"nofollow noreferrer\">http://downloadaproduct.com/</a></p>\n\n<p>And this is the javascript code:</p>\n\n<pre><code>( function( window, $, undefined ) {\n'use strict';\n\n$( 'nav' ).before( '&lt;button class=\"menu-toggle\" role=\"button\" aria-pressed=\"false\"&gt;&lt;/button&gt;' ); // Add toggles to menus\n$( 'nav .sub-menu' ).before( '&lt;button class=\"sub-menu-toggle\" role=\"button\" aria-pressed=\"false\"&gt;&lt;/button&gt;' ); // Add toggles to sub menus\n\n// Show/hide the navigation\n$( '.menu-toggle, .sub-menu-toggle' ).on( 'click', function() {\n    var $this = $( this );\n    $this.attr( 'aria-pressed', function( index, value ) {\n        return 'false' === value ? 'true' : 'false';\n    });\n\n    $this.toggleClass( 'activated' );\n    $this.next( 'nav, .sub-menu' ).slideToggle( 'fast' );\n\n});\n\n})( this, jQuery );\n</code></pre>\n\n<p>I spent hours trying to resolve this, any help would be greatly appreciated!</p>\n\n<p>Thanks,\nStefaan</p>\n"}, {"tags": ["javascript", "sql", "node.js", "oracle", "node-oracledb"], "answers": [{"tags": [], "owner": {"reputation": 4054, "user_id": 3010084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62d96a62b3f31cb7fd44f92f32108b7b?s=128&d=identicon&r=PG", "display_name": "Dan McGhan", "link": "https://stackoverflow.com/users/3010084/dan-mcghan"}, "is_accepted": false, "score": 0, "last_activity_date": 1482364479, "creation_date": 1482364479, "answer_id": 41273810, "question_id": 41271582, "link": "https://stackoverflow.com/questions/41271582/node-js-oracledb-get-one-record-per-group-with-an-array/41273810#41273810", "title": "node.js oracledb - Get one record per group with an array", "body": "<p>The output you've specified could be done directly when nested cursor expressions are supported. You can see that others are looking for the same thing here:\n<a href=\"https://github.com/oracle/node-oracledb/issues/565\" rel=\"nofollow noreferrer\">https://github.com/oracle/node-oracledb/issues/565</a></p>\n\n<p>In the mean time, here's an example of some code that could do this in Node.js once you get the result set:</p>\n\n<pre><code>var resultRowsIdx;\nvar resultRows = [{\n    RECORD_ID: 1000, COMMENT: \"Comment 1\", DEVICE_ID: 2000, DEVICE_NAME: \"iPhone 6\"\n},\n{\n    RECORD_ID: 1000, COMMENT: \"Comment 1\", DEVICE_ID: 2001, DEVICE_NAME: \"iPhone 7\"\n},\n{\n    RECORD_ID: 1001, COMMENT: \"Comment 2\", DEVICE_ID: 2003, DEVICE_NAME: \"Samsung Galaxy S6\"\n},\n{\n    RECORD_ID: 1001, COMMENT: \"Comment 2\", DEVICE_ID: 2004, DEVICE_NAME: \"Samsung Galaxy S7\"\n}];\nvar records = [];\nvar recordsMap = {};\nvar currentRecordId;\n\nfor (resultRowsIdx = 0; resultRowsIdx &lt; resultRows.length; resultRowsIdx += 1) {\n  currentRecordId = resultRows[resultRowsIdx].RECORD_ID;\n\n  if (!recordsMap[currentRecordId]) {\n    recordsMap[currentRecordId] = {};\n    recordsMap[currentRecordId].RECORD_ID = currentRecordId;\n    recordsMap[currentRecordId].COMMENT = resultRows[resultRowsIdx].COMMENT;\n    recordsMap[currentRecordId].DEVICES = [];\n\n    records.push(recordsMap[currentRecordId]);\n  }\n\n  recordsMap[currentRecordId].DEVICES.push({\n    DEVICE_ID: resultRows[resultRowsIdx].DEVICE_ID,\n    DEVICE_NAME: resultRows[resultRowsIdx].DEVICE_NAME\n  });\n}\n\nconsole.log(records);\n</code></pre>\n"}], "owner": {"reputation": 731, "user_id": 1220169, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6f8a2d971f9672011792f043709b6765?s=128&d=identicon&r=PG", "display_name": "user1220169", "link": "https://stackoverflow.com/users/1220169/user1220169"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 292, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1602753848, "creation_date": 1482353049, "last_edit_date": 1602753848, "question_id": 41271582, "link": "https://stackoverflow.com/questions/41271582/node-js-oracledb-get-one-record-per-group-with-an-array", "title": "node.js oracledb - Get one record per group with an array", "body": "<p>I'm using node.js and OracleDB to join 2 tables, with a one to many relationship.</p>\n\n<p>For Example:</p>\n\n<pre><code>RECORDS Table:\nRECORD_ID   COMMENTS\n1000        Comment 1\n1001        Comment 2\n</code></pre>\n\n<p>DEVICE Table:</p>\n\n<pre><code>DEVICE_ID   REF_RECORD_ID   DEVICE_NAME\n2000        1000            iPhone 6\n2001        1000            iPhone 7\n2003        1001            Samsung Galaxy S6\n2004        1001            Samsung Galaxy S7\n</code></pre>\n\n<p>I can retrieve a join using</p>\n\n<pre><code>SELECT A.RECORD_ID, A.COMMENT, B.DEVICE_ID, B.DEVICE_NAME FROM RECORDS A, DEVICES B WHERE A.RECORD_ID = B.REF_RECORD_ID;\n</code></pre>\n\n<p>Current Result: </p>\n\n<pre><code>[{\n    RECORD_ID: 1000, COMMENT: \"Comment 1\", DEVICE_ID: 2000, DEVICE_NAME: \"iPhone 6\"\n},\n{\n    RECORD_ID: 1000, COMMENT: \"Comment 1\", DEVICE_ID: 2001, DEVICE_NAME: \"iPhone 7\"\n},\n{\n    RECORD_ID: 1001, COMMENT: \"Comment 2\", DEVICE_ID: 2003, DEVICE_NAME: \"Samsung Galaxy S6\"\n},\n{\n    RECORD_ID: 1001, COMMENT: \"Comment 2\", DEVICE_ID: 2004, DEVICE_NAME: \"Samsung Galaxy S7\"\n}]\n</code></pre>\n\n<p>But I would like a result as shown below:</p>\n\n<pre><code>[{\n    RECORD_ID: 1000, COMMENT: \"Comment 1\",\n    DEVICES: [{ DEVICE_ID: 2000, DEVICE_NAME: \"iPhone 6\" }, { DEVICE_ID: 2001, DEVICE_NAME: \"iPhone 7\" }]\n},\n{\n    RECORD_ID: 1001, COMMENT: \"Comment 2\",\n    DEVICES: [{ DEVICE_ID: 2003, DEVICE_NAME: \"Samsung Galaxy S6\" }, { DEVICE_ID: 2004, DEVICE_NAME: \"Samsung Galaxy S7\" }]\n}]\n</code></pre>\n\n<p>Is there a better way to do this rather than looping through the array of objects and then finding duplicate RECORD_ID's and creating an array to push the sub items?</p>\n"}, {"tags": ["javascript", "android", "meteor"], "comments": [{"owner": {"reputation": 7125, "user_id": 3975309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r5v7W.jpg?s=128&g=1", "display_name": "Mikkel", "link": "https://stackoverflow.com/users/3975309/mikkel"}, "edited": false, "score": 0, "creation_date": 1482377523, "post_id": 41271571, "comment_id": 69752195, "body": "Have you got the Android SDK up and running? Have you created an AVD?"}, {"owner": {"reputation": 3768, "user_id": 4043633, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1827d17914e1b7241542c31fe27588fb?s=128&d=identicon&r=PG&f=1", "display_name": "Cameron Sima", "link": "https://stackoverflow.com/users/4043633/cameron-sima"}, "reply_to_user": {"reputation": 7125, "user_id": 3975309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r5v7W.jpg?s=128&g=1", "display_name": "Mikkel", "link": "https://stackoverflow.com/users/3975309/mikkel"}, "edited": false, "score": 0, "creation_date": 1482427438, "post_id": 41271571, "comment_id": 69779551, "body": "Yes, I use Android Studio frequently"}], "owner": {"reputation": 3768, "user_id": 4043633, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1827d17914e1b7241542c31fe27588fb?s=128&d=identicon&r=PG&f=1", "display_name": "Cameron Sima", "link": "https://stackoverflow.com/users/4043633/cameron-sima"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 152, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1482352996, "creation_date": 1482352996, "question_id": 41271571, "link": "https://stackoverflow.com/questions/41271571/meteor-deploying-with-android-build-error", "title": "Meteor deploying with Android build Error", "body": "<p>I'm trying to follow instructions on the Meteor tutorial page located here <a href=\"https://www.meteor.com/tutorials/blaze/running-on-mobile\" rel=\"nofollow noreferrer\">https://www.meteor.com/tutorials/blaze/running-on-mobile</a> to get an app running on the Android emulator. I've started a new blank test app, but when I run <code>meteor run android</code> I get the following errors:</p>\n\n<pre><code>=&gt; Started proxy.                             \n=&gt; Started MongoDB.                           \n=&gt; Started your app.                          \n\n=&gt; App running at: http://localhost:3000/     \n=&gt; Errors executing Cordova commands:         \n\n   While running Cordova app for platform Android with options --emulator:\n   Error: Command failed:                     \n   /home/cameron/Projects/Meteor/simple-todos/.meteor/local/cordova-build/platforms/android/cordova/run\n   --emulator\n   { [Error:\n   /home/cameron/Projects/Meteor/simple-todos/.meteor/local/cordova-build/platforms/android/gradlew:\n   Command failed with exit code 1] code: 1 } 'Error:\n   /home/cameron/Projects/Meteor/simple-todos/.meteor/local/cordova-build/platforms/android/gradlew:\n   Command failed with exit code 1\\n    at ChildProcess.whenDone\n   (/home/cameron/Projects/Meteor/simple-todos/.meteor/local/cordova-build/platforms/android/cordova/node_modules/cordova-common/src/superspawn.js:169:23)\\n\n   at emitTwo (events.js:87:13)\\n    at ChildProcess.emit\n   (events.js:172:7)\\n    at maybeClose (internal/child_process.js:854:16)\\n\n   at Socket.&lt;anonymous&gt; (internal/child_process.js:330:11)\\n    at emitOne\n   (events.js:77:13)\\n    at Socket.emit (events.js:169:7)\\n    at\n   Pipe._onclose (net.js:487:12)'\n   at ChildProcess.exitCallback (/tools/utils/processes.js:151:23)\n   at emitTwo (events.js:87:13)\n   at ChildProcess.emit (events.js:172:7)\n   at Process.ChildProcess._handle.onexit (internal/child_process.js:211:12)\n   =&gt; awaited here:\n   at Function.Promise.await\n   (/home/cameron/.meteor/packages/meteor-tool/.1.4.2_3.17tso1e++os.linux.x86_64+web.browser+web.cordova/mt-os.linux.x86_64/isopackets/cordova-support/npm/node_modules/meteor/promise/node_modules/meteor-promise/promise_server.js:35:12)\n   at CordovaProject.runCommands (/tools/cordova/project.js:715:22)\n   at CordovaProject.run$ (/tools/cordova/project.js:261:10)\n   at tryCatch\n   (/home/cameron/.meteor/packages/meteor-tool/.1.4.2_3.17tso1e++os.linux.x86_64+web.browser+web.cordova/mt-os.linux.x86_64/dev_bundle/lib/node_modules/regenerator-runtime/runtime.js:63:40)\n   at GeneratorFunctionPrototype.invoke [as _invoke]\n   (/home/cameron/.meteor/packages/meteor-tool/.1.4.2_3.17tso1e++os.linux.x86_64+web.browser+web.cordova/mt-os.linux.x86_64/dev_bundle/lib/node_modules/regenerator-runtime/runtime.js:337:22)\n   at GeneratorFunctionPrototype.prototype.(anonymous function) [as next]\n   (/home/cameron/.meteor/packages/meteor-tool/.1.4.2_3.17tso1e++os.linux.x86_64+web.browser+web.cordova/mt-os.linux.x86_64/dev_bundle/lib/node_modules/regenerator-runtime/runtime.js:96:21)\n   at tryCatch\n   (/home/cameron/.meteor/packages/meteor-tool/.1.4.2_3.17tso1e++os.linux.x86_64+web.browser+web.cordova/mt-os.linux.x86_64/dev_bundle/lib/node_modules/regenerator-runtime/runtime.js:63:40)\n   at invoke\n   (/home/cameron/.meteor/packages/meteor-tool/.1.4.2_3.17tso1e++os.linux.x86_64+web.browser+web.cordova/mt-os.linux.x86_64/dev_bundle/lib/node_modules/regenerator-runtime/runtime.js:139:20)\n   at\n   /home/cameron/.meteor/packages/meteor-tool/.1.4.2_3.17tso1e++os.linux.x86_64+web.browser+web.cordova/mt-os.linux.x86_64/dev_bundle/lib/node_modules/regenerator-runtime/runtime.js:184:11\n   at callInvokeWithMethodAndArg\n   (/home/cameron/.meteor/packages/meteor-tool/.1.4.2_3.17tso1e++os.linux.x86_64+web.browser+web.cordova/mt-os.linux.x86_64/dev_bundle/lib/node_modules/regenerator-runtime/runtime.js:183:16)\n   at AsyncIterator.enqueue\n   (/home/cameron/.meteor/packages/meteor-tool/.1.4.2_3.17tso1e++os.linux.x86_64+web.browser+web.cordova/mt-os.linux.x86_64/dev_bundle/lib/node_modules/regenerator-runtime/runtime.js:206:13)\n   at AsyncIterator.prototype.(anonymous function) [as next]\n   (/home/cameron/.meteor/packages/meteor-tool/.1.4.2_3.17tso1e++os.linux.x86_64+web.browser+web.cordova/mt-os.linux.x86_64/dev_bundle/lib/node_modules/regenerator-runtime/runtime.js:96:21)\n   at Object.runtime.async\n   (/home/cameron/.meteor/packages/meteor-tool/.1.4.2_3.17tso1e++os.linux.x86_64+web.browser+web.cordova/mt-os.linux.x86_64/dev_bundle/lib/node_modules/regenerator-runtime/runtime.js:226:14)\n   at\n   /home/cameron/.meteor/packages/meteor-tool/.1.4.2_3.17tso1e++os.linux.x86_64+web.browser+web.cordova/mt-os.linux.x86_64/isopackets/cordova-support/npm/node_modules/meteor/promise/node_modules/meteor-promise/fiber_pool.js:32:39\n\n/home/cameron/.meteor/packages/meteor-tool/.1.4.2_3.17tso1e++os.linux.x86_64+web.browser+web.cordova/mt-os.linux.x86_64/isopackets/cordova-support/npm/node_modules/meteor/promise/node_modules/meteor-promise/promise_server.js:190\n      throw error;\n      ^\nundefined\n =&gt; awaited here:\n    at Function.Promise.await (/home/cameron/.meteor/packages/meteor-tool/.1.4.2_3.17tso1e++os.linux.x86_64+web.browser+web.cordova/mt-os.linux.x86_64/isopackets/cordova-support/npm/node_modules/meteor/promise/node_modules/meteor-promise/promise_server.js:35:12)\n    at /tools/cordova/runner.js:98:17\n    at /tools/utils/buildmessage.js:271:13\n    at [object Object].withValue (/tools/utils/fiber-helpers.js:89:14)\n    at /tools/utils/buildmessage.js:264:29\n    at [object Object].withValue (/tools/utils/fiber-helpers.js:89:14)\n    at /tools/utils/buildmessage.js:262:18\n    at [object Object].withValue (/tools/utils/fiber-helpers.js:89:14)\n    at /tools/utils/buildmessage.js:253:23\n    at [object Object].withValue (/tools/utils/fiber-helpers.js:89:14)\n    at Object.capture (/tools/utils/buildmessage.js:252:19)\n    at CordovaRunner.startRunTargets (/tools/cordova/runner.js:97:37)\n    at AppRunner._runOnce (/tools/runners/run-app.js:763:21)\n    at AppRunner._fiber (/tools/runners/run-app.js:876:28)\n    at /tools/runners/run-app.js:403:12\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "asp.net", "onclick", "fieldset"], "comments": [{"owner": {"reputation": 1401, "user_id": 5111850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gJe6h.jpg?s=128&g=1", "display_name": "DominicValenciana", "link": "https://stackoverflow.com/users/5111850/dominicvalenciana"}, "edited": false, "score": 2, "creation_date": 1482352974, "post_id": 41271498, "comment_id": 69744351, "body": "Can you provide more information when I run the code provided in jsfiddle I get no issues. <a href=\"https://jsfiddle.net/fq56bxzz/\" rel=\"nofollow noreferrer\">jsfiddle.net/fq56bxzz</a>"}, {"owner": {"reputation": 1058, "user_id": 1945927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28c24a7f9f6a3ec84c43cdf1456c5cae?s=128&d=identicon&r=PG", "display_name": "Piou", "link": "https://stackoverflow.com/users/1945927/piou"}, "edited": false, "score": 1, "creation_date": 1482353096, "post_id": 41271498, "comment_id": 69744423, "body": "Are you sure don&#39;t have another set of <code>input[name=rating]</code> somewhere else, maybe hidden, on the page ?"}, {"owner": {"reputation": 3263, "user_id": 6400908, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1190440477641121/picture?type=large", "display_name": "User987", "link": "https://stackoverflow.com/users/6400908/user987"}, "reply_to_user": {"reputation": 1401, "user_id": 5111850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gJe6h.jpg?s=128&g=1", "display_name": "DominicValenciana", "link": "https://stackoverflow.com/users/5111850/dominicvalenciana"}, "edited": false, "score": 0, "creation_date": 1482353104, "post_id": 41271498, "comment_id": 69744426, "body": "@DominicValenciana Yes , on top of this HTML I&#39;m using CSS classes to turn these radio buttons into stars... I&#39;ll update my question in a sec to show u"}, {"owner": {"reputation": 3263, "user_id": 6400908, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1190440477641121/picture?type=large", "display_name": "User987", "link": "https://stackoverflow.com/users/6400908/user987"}, "reply_to_user": {"reputation": 1058, "user_id": 1945927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28c24a7f9f6a3ec84c43cdf1456c5cae?s=128&d=identicon&r=PG", "display_name": "Piou", "link": "https://stackoverflow.com/users/1945927/piou"}, "edited": false, "score": 0, "creation_date": 1482353139, "post_id": 41271498, "comment_id": 69744445, "body": "@Piou 100% certain, this is the only input that has class rating"}, {"owner": {"reputation": 1401, "user_id": 5111850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gJe6h.jpg?s=128&g=1", "display_name": "DominicValenciana", "link": "https://stackoverflow.com/users/5111850/dominicvalenciana"}, "edited": false, "score": 1, "creation_date": 1482353164, "post_id": 41271498, "comment_id": 69744456, "body": "@User987 Perfect, It may be that css is some how blocking elements. I&#39;ve had this issue a few times my self."}, {"owner": {"reputation": 3263, "user_id": 6400908, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1190440477641121/picture?type=large", "display_name": "User987", "link": "https://stackoverflow.com/users/6400908/user987"}, "reply_to_user": {"reputation": 1401, "user_id": 5111850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gJe6h.jpg?s=128&g=1", "display_name": "DominicValenciana", "link": "https://stackoverflow.com/users/5111850/dominicvalenciana"}, "edited": false, "score": 0, "creation_date": 1482353312, "post_id": 41271498, "comment_id": 69744537, "body": "@DominicValenciana Is any of these causing the issue ?"}, {"owner": {"reputation": 1401, "user_id": 5111850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gJe6h.jpg?s=128&g=1", "display_name": "DominicValenciana", "link": "https://stackoverflow.com/users/5111850/dominicvalenciana"}, "edited": false, "score": 1, "creation_date": 1482353347, "post_id": 41271498, "comment_id": 69744548, "body": "@User987 I added the css and I am getting the issue now. I&#39;ll have an answer helping you out in a moment :)"}, {"owner": {"reputation": 1058, "user_id": 1945927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28c24a7f9f6a3ec84c43cdf1456c5cae?s=128&d=identicon&r=PG", "display_name": "Piou", "link": "https://stackoverflow.com/users/1945927/piou"}, "edited": false, "score": 1, "creation_date": 1482353355, "post_id": 41271498, "comment_id": 69744552, "body": "I think the pseudo elements are messing around"}, {"owner": {"reputation": 3263, "user_id": 6400908, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1190440477641121/picture?type=large", "display_name": "User987", "link": "https://stackoverflow.com/users/6400908/user987"}, "reply_to_user": {"reputation": 1058, "user_id": 1945927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28c24a7f9f6a3ec84c43cdf1456c5cae?s=128&d=identicon&r=PG", "display_name": "Piou", "link": "https://stackoverflow.com/users/1945927/piou"}, "edited": false, "score": 0, "creation_date": 1482353573, "post_id": 41271498, "comment_id": 69744668, "body": "@Piou, Dominic amazing you guys, thanks I got the clue now what causes the issue, i&#39;ve fixed it. You guys saved me from a lot of time spent looking into the wrong thing, thanks !! :)"}], "answers": [{"tags": [], "owner": {"reputation": 63230, "user_id": 4281779, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a29d596b0af040d7def18d1801340a8b?s=128&d=identicon&r=PG", "display_name": "Zakaria Acharki", "link": "https://stackoverflow.com/users/4281779/zakaria-acharki"}, "is_accepted": true, "score": 2, "last_activity_date": 1482353433, "last_edit_date": 1482353433, "creation_date": 1482353097, "answer_id": 41271589, "question_id": 41271498, "link": "https://stackoverflow.com/questions/41271498/fieldset-onclick-getting-radio-button-clicked-value/41271589#41271589", "title": "Fieldset onclick getting radio button clicked value", "body": "<p>You may attaching another event to the <code>checkbox</code>'s somewhere else but you could check the working snippet below based on your OP code shows that the <code>console.log</code> fire just one time on click.</p>\n\n<p>I suggest to attach the click to the input directly the get the current checked value using just :</p>\n\n<pre><code>$(this).val();\n</code></pre>\n\n<p>Hope this helps.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('#ratingSystem input').click(function () {\r\n  console.log($(this).val());\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>fieldset, label { margin: 0; padding: 0; }\r\nbody{ margin: 20px; }\r\nh1 { font-size: 1.5em; margin: 10px; }\r\n\r\n/****** Style Star Rating Widget *****/\r\n\r\n.rating { \r\n  border: none;\r\n  float: left;\r\n}\r\n\r\n.rating &gt; input { display: none; } \r\n.rating &gt; label:before { \r\n  margin: 5px;\r\n  font-size: 1.25em;\r\n  font-family: FontAwesome;\r\n  display: inline-block;\r\n  content: \"\\f005\";\r\n}\r\n\r\n.rating &gt; .half:before { \r\n  content: \"\\f089\";\r\n  position: absolute;\r\n}\r\n\r\n.rating &gt; label { \r\n  color: #ddd; \r\n  float: right; \r\n}\r\n\r\n/***** CSS Magic to Highlight Stars on Hover *****/\r\n\r\n.rating &gt; input:checked ~ label, /* show gold star when clicked */\r\n.rating:not(:checked) &gt; label:hover, /* hover current star */\r\n.rating:not(:checked) &gt; label:hover ~ label { color: #FFD700;  } /* hover previous stars in list */\r\n\r\n.rating &gt; input:checked + label:hover, /* hover current star when changing rating */\r\n.rating &gt; input:checked ~ label:hover,\r\n.rating &gt; label:hover ~ input:checked ~ label, /* lighten current selection */\r\n.rating &gt; input:checked ~ label:hover ~ label { color: #FFED85;  } </code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;fieldset class=\"rating\" id=\"ratingSystem\"&gt;\r\n  &lt;input type=\"radio\" id=\"star5\" name=\"rating\" value=\"5\" /&gt;&lt;label class=\"full\" for=\"star5\" title=\"Awesome - 5 stars\"&gt;&lt;/label&gt;\r\n  &lt;input type=\"radio\" id=\"star4\" name=\"rating\" value=\"4\" /&gt;&lt;label class=\"full\" for=\"star4\" title=\"Pretty good - 4 stars\"&gt;&lt;/label&gt;\r\n  &lt;input type=\"radio\" id=\"star3\" name=\"rating\" value=\"3\" /&gt;&lt;label class=\"full\" for=\"star3\" title=\"Meh - 3 stars\"&gt;&lt;/label&gt;\r\n  &lt;input type=\"radio\" id=\"star2\" name=\"rating\" value=\"2\" /&gt;&lt;label class=\"full\" for=\"star2\" title=\"Kinda bad - 2 stars\"&gt;&lt;/label&gt;\r\n  &lt;input type=\"radio\" id=\"star1\" name=\"rating\" value=\"1\" /&gt;&lt;label class=\"full\" for=\"star1\" title=\"Sucks big time - 1 star\"&gt;&lt;/label&gt;\r\n&lt;/fieldset&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 14395, "user_id": 1344961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b7ad173373ce2a48950108f5adc4b6d?s=128&d=identicon&r=PG", "display_name": "SLePort", "link": "https://stackoverflow.com/users/1344961/sleport"}, "is_accepted": false, "score": 3, "last_activity_date": 1482353665, "last_edit_date": 1482353665, "creation_date": 1482353307, "answer_id": 41271647, "question_id": 41271498, "link": "https://stackoverflow.com/questions/41271498/fieldset-onclick-getting-radio-button-clicked-value/41271647#41271647", "title": "Fieldset onclick getting radio button clicked value", "body": "<p>Try to attach your event to each <code>input</code> elements:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('#ratingSystem input').click(function() {\r\n  console.log($(this).val());\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;fieldset class=\"rating\" id=\"ratingSystem\"&gt;\r\n  &lt;input type=\"radio\" id=\"star5\" name=\"rating\" value=\"5\" /&gt;\r\n  &lt;label class=\"full\" for=\"star5\" title=\"Awesome - 5 stars\"&gt;&lt;/label&gt;\r\n  &lt;input type=\"radio\" id=\"star4\" name=\"rating\" value=\"4\" /&gt;\r\n  &lt;label class=\"full\" for=\"star4\" title=\"Pretty good - 4 stars\"&gt;&lt;/label&gt;\r\n  &lt;input type=\"radio\" id=\"star3\" name=\"rating\" value=\"3\" /&gt;\r\n  &lt;label class=\"full\" for=\"star3\" title=\"Meh - 3 stars\"&gt;&lt;/label&gt;\r\n  &lt;input type=\"radio\" id=\"star2\" name=\"rating\" value=\"2\" /&gt;\r\n  &lt;label class=\"full\" for=\"star2\" title=\"Kinda bad - 2 stars\"&gt;&lt;/label&gt;\r\n  &lt;input type=\"radio\" id=\"star1\" name=\"rating\" value=\"1\" /&gt;\r\n  &lt;label class=\"full\" for=\"star1\" title=\"Sucks big time - 1 star\"&gt;&lt;/label&gt;\r\n&lt;/fieldset&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 3263, "user_id": 6400908, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1190440477641121/picture?type=large", "display_name": "User987", "link": "https://stackoverflow.com/users/6400908/user987"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2939, "favorite_count": 0, "accepted_answer_id": 41271589, "answer_count": 2, "score": 1, "last_activity_date": 1482353675, "creation_date": 1482352624, "last_edit_date": 1482353675, "question_id": 41271498, "link": "https://stackoverflow.com/questions/41271498/fieldset-onclick-getting-radio-button-clicked-value", "title": "Fieldset onclick getting radio button clicked value", "body": "<p>I have a fieldset in my HTML which basically represents 5 star rating system like following:</p>\n\n<pre><code>&lt;fieldset class=\"rating\" id=\"ratingSystem\"&gt;\n    &lt;input type=\"radio\" id=\"star5\" name=\"rating\" value=\"5\" /&gt;&lt;label class=\"full\" for=\"star5\" title=\"Awesome - 5 stars\"&gt;&lt;/label&gt;\n    &lt;input type=\"radio\" id=\"star4\" name=\"rating\" value=\"4\" /&gt;&lt;label class=\"full\" for=\"star4\" title=\"Pretty good - 4 stars\"&gt;&lt;/label&gt;\n    &lt;input type=\"radio\" id=\"star3\" name=\"rating\" value=\"3\" /&gt;&lt;label class=\"full\" for=\"star3\" title=\"Meh - 3 stars\"&gt;&lt;/label&gt;\n    &lt;input type=\"radio\" id=\"star2\" name=\"rating\" value=\"2\" /&gt;&lt;label class=\"full\" for=\"star2\" title=\"Kinda bad - 2 stars\"&gt;&lt;/label&gt;\n    &lt;input type=\"radio\" id=\"star1\" name=\"rating\" value=\"1\" /&gt;&lt;label class=\"full\" for=\"star1\" title=\"Sucks big time - 1 star\"&gt;&lt;/label&gt;\n&lt;/fieldset&gt;\n</code></pre>\n\n<p>And I've defined an onclick event which defines when user clicks on some of the star ratings (radio buttons) then I'd simply for testing purposes display the clicked value, but I always get double values displayed instead of the displayed one...</p>\n\n<p>For instance if I clicked on 5 I get displayed  in console: </p>\n\n<pre><code>undefined  \n5\n</code></pre>\n\n<p>Second time I click on 4 I get values:</p>\n\n<pre><code>5\n4\n</code></pre>\n\n<p>The code I use for it is:</p>\n\n<pre><code>$('#ratingSystem').click(function () {\n        console.log($('input[name=rating]:checked').val());\n    });\n</code></pre>\n\n<p>What am I doing wrong here?</p>\n\n<p>Edit, these are the CSS classes that I use to turn the radio buttons into stars so that it looks like star rating system: </p>\n\n<pre><code>fieldset, label { margin: 0; padding: 0; }\nbody{ margin: 20px; }\nh1 { font-size: 1.5em; margin: 10px; }\n\n/****** Style Star Rating Widget *****/\n\n.rating { \n  border: none;\n  float: left;\n}\n\n.rating &gt; input { display: none; } \n.rating &gt; label:before { \n  margin: 5px;\n  font-size: 1.25em;\n  font-family: FontAwesome;\n  display: inline-block;\n  content: \"\\f005\";\n}\n\n.rating &gt; .half:before { \n  content: \"\\f089\";\n  position: absolute;\n}\n\n.rating &gt; label { \n  color: #ddd; \n float: right; \n}\n\n/***** CSS Magic to Highlight Stars on Hover *****/\n\n.rating &gt; input:checked ~ label, /* show gold star when clicked */\n.rating:not(:checked) &gt; label:hover, /* hover current star */\n.rating:not(:checked) &gt; label:hover ~ label { color: #FFD700;  } /* hover previous stars in list */\n\n.rating &gt; input:checked + label:hover, /* hover current star when changing rating */\n.rating &gt; input:checked ~ label:hover,\n.rating &gt; label:hover ~ input:checked ~ label, /* lighten current selection */\n.rating &gt; input:checked ~ label:hover ~ label { color: #FFED85;  } \n</code></pre>\n\n<p>Could any of these classes be the source of the issue?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 10010, "user_id": 1894021, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/JXt2j.jpg?s=128&g=1", "display_name": "Isaac", "link": "https://stackoverflow.com/users/1894021/isaac"}, "edited": false, "score": 1, "creation_date": 1482352450, "post_id": 41271444, "comment_id": 69744063, "body": "yes? I&#39;m not sure I know what your question is? It looks like you&#39;ve already done that with <code>myTeam.theName =  person;</code>"}, {"owner": {"reputation": 333, "user_id": 4656713, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Dt6u2.jpg?s=128&g=1", "display_name": "Thomas Juranek", "link": "https://stackoverflow.com/users/4656713/thomas-juranek"}, "edited": false, "score": 0, "creation_date": 1482352464, "post_id": 41271444, "comment_id": 69744077, "body": "Do you have more code?"}, {"owner": {"reputation": 31483, "user_id": 502381, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/74b99e687909be449e0130a50950eac7?s=128&d=identicon&r=PG&f=1", "display_name": "JJJ", "link": "https://stackoverflow.com/users/502381/jjj"}, "edited": false, "score": 0, "creation_date": 1482352497, "post_id": 41271444, "comment_id": 69744103, "body": "He wants to do <code>myTeam[theName] = person</code>. No more code is needed."}, {"owner": {"reputation": 223101, "user_id": 1529630, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/10bce2713c926168c985bfa9695c825d?s=128&d=identicon&r=PG", "display_name": "Oriol", "link": "https://stackoverflow.com/users/1529630/oriol"}, "reply_to_user": {"reputation": 31483, "user_id": 502381, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/74b99e687909be449e0130a50950eac7?s=128&d=identicon&r=PG&f=1", "display_name": "JJJ", "link": "https://stackoverflow.com/users/502381/jjj"}, "edited": false, "score": 0, "creation_date": 1482352571, "post_id": 41271444, "comment_id": 69744153, "body": "@JJJ That&#39;s a reasonable assumption, but not completely clear. Don&#39;t know what to vote."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 223101, "user_id": 1529630, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/10bce2713c926168c985bfa9695c825d?s=128&d=identicon&r=PG", "display_name": "Oriol", "link": "https://stackoverflow.com/users/1529630/oriol"}, "edited": false, "score": 2, "creation_date": 1482352644, "post_id": 41271444, "comment_id": 69744190, "body": "@Oriol I think it&#39;s obviously what he wants. <code>theName</code> is a parameter to the function, so it&#39;s a variable, not a literal property name."}, {"owner": {"reputation": 57, "user_id": 5348446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o0em1.jpg?s=128&g=1", "display_name": "Martin Andersen", "link": "https://stackoverflow.com/users/5348446/martin-andersen"}, "edited": false, "score": 0, "creation_date": 1482352720, "post_id": 41271444, "comment_id": 69744220, "body": "Jackpot: myTeam[theName] = person"}, {"owner": {"reputation": 57, "user_id": 5348446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o0em1.jpg?s=128&g=1", "display_name": "Martin Andersen", "link": "https://stackoverflow.com/users/5348446/martin-andersen"}, "edited": false, "score": 0, "creation_date": 1482352768, "post_id": 41271444, "comment_id": 69744240, "body": "Jackpot: myTeam[theName] = person  Thanks, that did it! My first time working with objects.. ;)"}], "owner": {"reputation": 57, "user_id": 5348446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o0em1.jpg?s=128&g=1", "display_name": "Martin Andersen", "link": "https://stackoverflow.com/users/5348446/martin-andersen"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "closed_date": 1482352613, "answer_count": 0, "score": 0, "last_activity_date": 1482354323, "creation_date": 1482352382, "last_edit_date": 1482354323, "question_id": 41271444, "link": "https://stackoverflow.com/questions/41271444/javascript-object-dynamic-set", "closed_reason": "Duplicate", "title": "javascript object Dynamic set?", "body": "<p>How can I dynamically set <code>theName</code> and change it?  Is there  a way to do that?</p>\n\n<pre><code>var myTeam = new Object ();\n\n function AddObject(theName) {\n\n   var person = new Object();\n   person.firstName = \"John\";\n   person.lastName = \"Doe\";\n   person.age = 50;\n   person.eyeColor = \"blue\";\n\n  myTeam.theName =  person;\n}\n\nAddObject(\"Example1\");\nAddObject(\"Example2\");\nAddObject(\"Example3\");\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "browser", "integration", "legacy"], "comments": [{"owner": {"reputation": 15670, "user_id": 1030087, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7330ab60c4c3039d45b5089bc6bfbc8e?s=128&d=identicon&r=PG", "display_name": "ffflabs", "link": "https://stackoverflow.com/users/1030087/ffflabs"}, "edited": false, "score": 0, "creation_date": 1482353222, "post_id": 41271419, "comment_id": 69744487, "body": "I don&#39;t use webpack, but using <code>jspm</code> or <code>rollup</code> you can build your script as UMD, so it can be used as global, AMD and Commonjs via feature detection."}], "answers": [{"comments": [{"owner": {"reputation": 555, "user_id": 1588877, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b089d8ebaf25f6a93b2e4e9a95562fe5?s=128&d=identicon&r=PG", "display_name": "user1588877", "link": "https://stackoverflow.com/users/1588877/user1588877"}, "edited": false, "score": 0, "creation_date": 1482563612, "post_id": 41275389, "comment_id": 69825616, "body": "This doesn&#39;t appear to address my problem, so I need to work on stating my problem more clearly. Imagine I have 4 (legacy) scripts concatenated together into a single script. Say I take script #2 and copy it to another project, create a Node module out of it, and publish it via npm. Now I want to replace the #2 script in my legacy code with, effectively, a require call. Or are you saying I would somehow include the new script file from the node project, assuming I write it using a UMD pattern? If so, how to access it from the npm module?"}, {"owner": {"reputation": 26597, "user_id": 172363, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/eb96a4dcb7314d7c9993cbc824123be0?s=128&d=identicon&r=PG", "display_name": "Andrew Eisenberg", "link": "https://stackoverflow.com/users/172363/andrew-eisenberg"}, "reply_to_user": {"reputation": 555, "user_id": 1588877, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b089d8ebaf25f6a93b2e4e9a95562fe5?s=128&d=identicon&r=PG", "display_name": "user1588877", "link": "https://stackoverflow.com/users/1588877/user1588877"}, "edited": false, "score": 0, "creation_date": 1482596674, "post_id": 41275389, "comment_id": 69833259, "body": "Yes. The idea is that you can use <i>exactly</i> the same file in node (ie- as a commonJS module) as well as in a script tag (ie- in a global context). Presumably, you will publish the UMD variant of the file as an npm module. After you install it, you will most likely want to create a build step (using gulp, grunt, npm scripts or your favorite task runner) that will copy the desired UMD file into the proper place in your web app. Since you are using the UMD pattern, you will be able to access globals from your script #2 directly."}, {"owner": {"reputation": 26597, "user_id": 172363, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/eb96a4dcb7314d7c9993cbc824123be0?s=128&d=identicon&r=PG", "display_name": "Andrew Eisenberg", "link": "https://stackoverflow.com/users/172363/andrew-eisenberg"}, "reply_to_user": {"reputation": 555, "user_id": 1588877, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b089d8ebaf25f6a93b2e4e9a95562fe5?s=128&d=identicon&r=PG", "display_name": "user1588877", "link": "https://stackoverflow.com/users/1588877/user1588877"}, "edited": false, "score": 0, "creation_date": 1482596743, "post_id": 41275389, "comment_id": 69833277, "body": "I see that you are saying that the scripts are concatenated, but your question above uses separate script tags. It doesn&#39;t really matter. If they are concatenated, you just need to make sure that you grab the proper file from the npm module for concatenation."}, {"owner": {"reputation": 555, "user_id": 1588877, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b089d8ebaf25f6a93b2e4e9a95562fe5?s=128&d=identicon&r=PG", "display_name": "user1588877", "link": "https://stackoverflow.com/users/1588877/user1588877"}, "edited": false, "score": 0, "creation_date": 1483473618, "post_id": 41275389, "comment_id": 70109187, "body": "Sorry if the example was confusing - in the example, library.js is a concatenation of four scripts, and app.js is dependent on that library. But it&#39;s the library script I&#39;m trying to assemble, which now shares a script with a NodeJS module. So I guess what I need to figure out is, how to include that script from a node module, which needs to be written using the UMD pattern. Correct?"}, {"owner": {"reputation": 26597, "user_id": 172363, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/eb96a4dcb7314d7c9993cbc824123be0?s=128&d=identicon&r=PG", "display_name": "Andrew Eisenberg", "link": "https://stackoverflow.com/users/172363/andrew-eisenberg"}, "reply_to_user": {"reputation": 555, "user_id": 1588877, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b089d8ebaf25f6a93b2e4e9a95562fe5?s=128&d=identicon&r=PG", "display_name": "user1588877", "link": "https://stackoverflow.com/users/1588877/user1588877"}, "edited": false, "score": 0, "creation_date": 1483476359, "post_id": 41275389, "comment_id": 70110512, "body": "Yes, but to do that is simple. Since you are using a UMD pattern, you can just concatenate as-is. That is the goal behind UMD. It can be used in different module contexts."}], "tags": [], "owner": {"reputation": 26597, "user_id": 172363, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/eb96a4dcb7314d7c9993cbc824123be0?s=128&d=identicon&r=PG", "display_name": "Andrew Eisenberg", "link": "https://stackoverflow.com/users/172363/andrew-eisenberg"}, "is_accepted": false, "score": 0, "last_activity_date": 1482377584, "creation_date": 1482377584, "answer_id": 41275389, "question_id": 41271419, "link": "https://stackoverflow.com/questions/41271419/how-to-integrate-legacy-javascript-with-nodejs-in-the-browser/41275389#41275389", "title": "How to integrate legacy JavaScript with NodeJS in the browser", "body": "<p>Your best bet is to use a <a href=\"https://github.com/umdjs/umd\" rel=\"nofollow noreferrer\">UMD pattern</a> to ensure that the module can be used both as a global and in commonJS (ie- node) systems.</p>\n\n<p>The pattern that would fit best for you is <a href=\"https://github.com/umdjs/umd/blob/master/templates/returnExports.js\" rel=\"nofollow noreferrer\">returnExports</a>. This ensures that all exported properties are either applied to the global object (ie- window) or to the module object in node.</p>\n\n<p>Since you are not using AMD, you can simplify the pattern somewhat and remove the first chunk of the if statements on lines 18 and 42.</p>\n\n<p>This will require you to reorganize your code so that it fits in with the pattern.</p>\n\n<p>There are other patterns that you may use, such as <a href=\"https://github.com/umdjs/umd/blob/master/templates/commonjsStrictGlobal.js\" rel=\"nofollow noreferrer\">commonJsStrictGlobal</a>, but I personally prefer returnExports.</p>\n"}], "owner": {"reputation": 555, "user_id": 1588877, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b089d8ebaf25f6a93b2e4e9a95562fe5?s=128&d=identicon&r=PG", "display_name": "user1588877", "link": "https://stackoverflow.com/users/1588877/user1588877"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 731, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1482377584, "creation_date": 1482352258, "question_id": 41271419, "link": "https://stackoverflow.com/questions/41271419/how-to-integrate-legacy-javascript-with-nodejs-in-the-browser", "title": "How to integrate legacy JavaScript with NodeJS in the browser", "body": "<p>Hypothetical legacy scenario:</p>\n\n<p>Say I have 4 scripts that simply get concatenated together as a single script for deployment to provide a utility library with a global namespace in the browser.\nI then have 1 separate application script that utilizes the library.\nSomething like:</p>\n\n<pre><code>&lt;script src=\"library.js\"&gt;&lt;/script&gt;\n&lt;script src=\"app.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>In my app.js script, calls are made to the library methods through its namespace, like</p>\n\n<pre><code>var id = lib.id(prefix);\n</code></pre>\n\n<p>I see that 1 of the 4 library scripts is a useful utility that I want to turn into a Node module. I copy it and create a package and publish it to npm to use in new development.</p>\n\n<p>Problem: Now I have two versions of this script to maintain - one for Node and one for the legacy library.</p>\n\n<p><strong>Is there a way to have one common file that I can include in both the Node module and the legacy library? Or am I stuck maintaining two versions of the file until we phase out the legacy code?</strong></p>\n\n<p>Additional info:</p>\n\n<p>I looked at browserify and webpack, thinking they might be useful, but both suffer from a problem I don't know how to get around. Unless the end module defines global variables, I can't use the module in legacy code, as there is no require command available. In other words, I can't browserify a Node module, then drop it into a legacy web page and use it in my existing app.js, because I can't call <code>var mymodule = require('mymodule')</code>. Is there any way to get browserify or webpack to define and expose a require function to let me access my new Node module from a legacy codebase? Surely, this is not a unique scenario.</p>\n"}, {"tags": ["javascript", "html", "arrays", "radio-group"], "answers": [{"tags": [], "owner": {"reputation": 997, "user_id": 1766561, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/17ecb5da273e1f90bc55790ea2d1001c?s=128&d=identicon&r=PG", "display_name": "Joshua Hysong", "link": "https://stackoverflow.com/users/1766561/joshua-hysong"}, "is_accepted": true, "score": 0, "last_activity_date": 1482353839, "creation_date": 1482353839, "answer_id": 41271768, "question_id": 41271413, "link": "https://stackoverflow.com/questions/41271413/javascript-array-to-pass-default-value-for-html-radio/41271768#41271768", "title": "JavaScript array to pass default value for HTML radio", "body": "<p>You need to add a function to an onload event.</p>\n\n<p>For example, in your body declaration you could add the following</p>\n\n<pre><code>&lt;body onload=\"RadioCheck()\"&gt;\n</code></pre>\n\n<p>When the page loads the function RadioCheck will run populating your form.</p>\n\n<p>You can find more information on the onload event here: <a href=\"http://www.w3schools.com/jsref/event_onload.asp\" rel=\"nofollow noreferrer\">http://www.w3schools.com/jsref/event_onload.asp</a></p>\n"}], "owner": {"reputation": 191, "user_id": 7327467, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0432e659687f041c49b779b3ec6e27a2?s=128&d=identicon&r=PG&f=1", "display_name": "Energizem", "link": "https://stackoverflow.com/users/7327467/energizem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 41271768, "answer_count": 1, "score": 1, "last_activity_date": 1482353839, "creation_date": 1482352225, "question_id": 41271413, "link": "https://stackoverflow.com/questions/41271413/javascript-array-to-pass-default-value-for-html-radio", "title": "JavaScript array to pass default value for HTML radio", "body": "<p>i have an issue with quiz application. I am newbie and my problem is that i don't know how to give input type radio default value from JS array. So when page loads you can already see array[0] postion values as options.</p>\n\n<p>HTML code:</p>\n\n<pre><code>&lt;p&gt;\n&lt;p id=\"question\"&gt;&lt;/p&gt;\n&lt;/p&gt;\n  &lt;input type=\"radio\" name=\"quiz\" id=\"ans1\" &gt;\n   &lt;br&gt;\n  &lt;input type=\"radio\" name=\"quiz\" id=\"ans2\"&gt;\n  &lt;br&gt;\n  &lt;input type=\"radio\" name=\"quiz\" id=\"ans3\"&gt;\n  &lt;br&gt;\n  &lt;input type=\"radio\" name=\"quiz\" id=\"ans4\"&gt;\n  &lt;br&gt;\n&lt;input type=\"submit\" value=\"Start\" onClick=\"RadioCheck()\"&gt;\n&lt;/form&gt; \n</code></pre>\n\n<p>JS Code:</p>\n\n<pre><code>&lt;script language=\"javascript\"&gt;\n\nvar allQuestions = [{\n    question: \"Question1?\", \n    choices: [\"Answer1\", \"Answer2\", \"Answer3\", \"Answer4\"],\n    CorrectAnswer:0},\n    {\n    question: \"Question2?\", \n    choices: [\"Answer1\", \"Answer2\", \"Answer3\", \"Answer4\"],\n    CorrectAnswer:0},\n    {\n    question: \"Question3?\", \n    choices: [\"Answer1\", \"Answer2\", \"Answer3\", \"Answer4\"],\n    CorrectAnswer:0},\n    {\n    question: \"Question4?\", \n    choices: [\"Answer1\", \"Answer2\", \"Answer3\", \"Answer4\"],\n    CorrectAnswer:0}\n    ];\n\nvar currentQuestion=0;\nvar CorrectAnswer=0;\n\n\nfunction RadioCheck() {\n//populate question in HTML\n    var question = document.getElementById(\"question\");\n    question.nextSibling.data = allQuestions[currentQuestion].question;\n\n//populate answers in HTML\n    var ans1 = document.getElementById(\"ans1\");\n    ans1.nextSibling.data = allQuestions[currentQuestion].choices[0];\n\n    var ans2 = document.getElementById(\"ans2\");\n    ans2.nextSibling.data = allQuestions[currentQuestion].choices[1];\n\n    var ans3 = document.getElementById(\"ans3\");\n    ans3.nextSibling.data = allQuestions[currentQuestion].choices[2];\n\n    var ans4 = document.getElementById(\"ans4\");\n    ans4.nextSibling.data = allQuestions[currentQuestion].choices[3];\n\n    var selection = document.getElementsByTagName('input')\n\n    if(selection[allQuestions[currentQuestion].CorrectAnswer].checked == true ){\n      CorrectAnswer ++;\n    } \n\n     currentQuestion ++;\n} \n\n&lt;/script&gt;\n</code></pre>\n\n<p>This works when i click Start button 1st time, but i want to show Question1 and answers as soon as page loads.</p>\n"}, {"tags": ["javascript", "object", "ecmascript-6"], "comments": [{"owner": {"reputation": 134258, "user_id": 785065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qAbxM.jpg?s=128&g=1", "display_name": "loganfsmyth", "link": "https://stackoverflow.com/users/785065/loganfsmyth"}, "edited": false, "score": 2, "creation_date": 1482352546, "post_id": 41271412, "comment_id": 69744135, "body": "Could you expand your question? I don&#39;t feel like it is entirely clear what you are asking."}, {"owner": {"reputation": 730, "user_id": 6949187, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/7KqAI.jpg?s=128&g=1", "display_name": "Murad Sofiyev", "link": "https://stackoverflow.com/users/6949187/murad-sofiyev"}, "reply_to_user": {"reputation": 134258, "user_id": 785065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qAbxM.jpg?s=128&g=1", "display_name": "loganfsmyth", "link": "https://stackoverflow.com/users/785065/loganfsmyth"}, "edited": false, "score": 0, "creation_date": 1482352847, "post_id": 41271412, "comment_id": 69744289, "body": "Ok  first question  class Name{     constructor(name)     {       this.name = name     } }  let Max = new Name(&quot;Maxi&quot;) let Max = Reflect.construct(Name,[&#39;Maxi&#39;]) what is difference ?"}, {"owner": {"reputation": 18798, "user_id": 4543207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ed6f11c827fa7cef811f141a84cc14b?s=128&d=identicon&r=PG&f=1", "display_name": "Redu", "link": "https://stackoverflow.com/users/4543207/redu"}, "edited": false, "score": 0, "creation_date": 1482352913, "post_id": 41271412, "comment_id": 69744324, "body": "What you are doing is like <code>var Max = new greet(&quot;Maxi&quot;);</code> That&#39;s all it is. You are just using the <code>greet</code> function as a constructor and passing the values in the array argument (the second argument) as arguments to the <code>greet</code> function."}, {"owner": {"reputation": 730, "user_id": 6949187, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/7KqAI.jpg?s=128&g=1", "display_name": "Murad Sofiyev", "link": "https://stackoverflow.com/users/6949187/murad-sofiyev"}, "edited": false, "score": 0, "creation_date": 1482353184, "post_id": 41271412, "comment_id": 69744470, "body": "Why use it? and why Max.__proto__ == greet.prototype return true and can i use greet method in Max object?"}, {"owner": {"reputation": 18798, "user_id": 4543207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ed6f11c827fa7cef811f141a84cc14b?s=128&d=identicon&r=PG&f=1", "display_name": "Redu", "link": "https://stackoverflow.com/users/4543207/redu"}, "edited": false, "score": 0, "creation_date": 1482353356, "post_id": 41271412, "comment_id": 69744554, "body": "In order to use the <code>greet</code> method in Max object you should not fiddle with the Reflect object at all. Just do <code>Name.prototype.greet = n =&gt; &quot;Hello&quot; + n;</code> instead of defining the <code>greet</code> function solely like that. Then <code>let Max = new Name(&quot;Maxi&quot;)</code>"}, {"owner": {"reputation": 134258, "user_id": 785065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qAbxM.jpg?s=128&g=1", "display_name": "loganfsmyth", "link": "https://stackoverflow.com/users/785065/loganfsmyth"}, "edited": false, "score": 0, "creation_date": 1482353529, "post_id": 41271412, "comment_id": 69744650, "body": "<code>Why use it?</code> The average person has zero reason to use <code>Reflect.construct</code>."}, {"owner": {"reputation": 730, "user_id": 6949187, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/7KqAI.jpg?s=128&g=1", "display_name": "Murad Sofiyev", "link": "https://stackoverflow.com/users/6949187/murad-sofiyev"}, "edited": false, "score": 0, "creation_date": 1482353737, "post_id": 41271412, "comment_id": 69744768, "body": "this method  let Max = Reflect.construct(Name,[&quot;Maxi&quot;],greet); same  Name.prototype.greet = n =&gt; &quot;Hello&quot; + n; Did I get right?"}, {"owner": {"reputation": 730, "user_id": 6949187, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/7KqAI.jpg?s=128&g=1", "display_name": "Murad Sofiyev", "link": "https://stackoverflow.com/users/6949187/murad-sofiyev"}, "edited": false, "score": 0, "creation_date": 1482354453, "post_id": 41271412, "comment_id": 69745135, "body": "Where is it used?"}, {"owner": {"reputation": 134258, "user_id": 785065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qAbxM.jpg?s=128&g=1", "display_name": "loganfsmyth", "link": "https://stackoverflow.com/users/785065/loganfsmyth"}, "edited": false, "score": 0, "creation_date": 1482355647, "post_id": 41271412, "comment_id": 69745745, "body": "Primarily you&#39;d use this when defining custom <code>Proxy</code> objects."}], "answers": [{"comments": [{"owner": {"reputation": 730, "user_id": 6949187, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/7KqAI.jpg?s=128&g=1", "display_name": "Murad Sofiyev", "link": "https://stackoverflow.com/users/6949187/murad-sofiyev"}, "edited": false, "score": 0, "creation_date": 1482354963, "post_id": 41271829, "comment_id": 69745408, "body": "and last question  how i call someConstructor with result object  function someConstructor() {   return &quot;hello&quot;; } var result = Reflect.construct(Array, [], someConstructor);"}], "tags": [], "owner": {"reputation": 18798, "user_id": 4543207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ed6f11c827fa7cef811f141a84cc14b?s=128&d=identicon&r=PG&f=1", "display_name": "Redu", "link": "https://stackoverflow.com/users/4543207/redu"}, "is_accepted": false, "score": 0, "last_activity_date": 1482354078, "creation_date": 1482354078, "answer_id": 41271829, "question_id": 41271412, "link": "https://stackoverflow.com/questions/41271412/reflect-construct-why-it-is-necessary-override-object-prototype/41271829#41271829", "title": "Reflect.construct() Why it is necessary override object prototype?", "body": "<p>I believe this is one way for you to achieve what you would like to do with the classes of ES6;</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class Name{\r\n    constructor(name)\r\n    {\r\n      this.name = name;\r\n    }\r\n    greet(n){return \"Hello \" + n;}\r\n}\r\n\r\n\r\nvar Max = new Name(\"Maxi\");\r\nconsole.log(Max.greet(\"John\"));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 730, "user_id": 6949187, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/7KqAI.jpg?s=128&g=1", "display_name": "Murad Sofiyev", "link": "https://stackoverflow.com/users/6949187/murad-sofiyev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 308, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482354078, "creation_date": 1482352221, "last_edit_date": 1482352253, "question_id": 41271412, "link": "https://stackoverflow.com/questions/41271412/reflect-construct-why-it-is-necessary-override-object-prototype", "title": "Reflect.construct() Why it is necessary override object prototype?", "body": "<pre><code>class Name{\n    constructor(name)\n    {\n      this.name = name\n    }\n}\n\n\nfunction greet()\n{\n  return \"Hello World\"\n}\n\nlet Max = Reflect.construct(Name,[\"Maxi\"],greet);\nconsole.log(Max.__proto__ == greet.prototype); //true \n</code></pre>\n\n<p>Why it is necessary override object prototype </p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 14296, "user_id": 2539720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V6F3N.jpg?s=128&g=1", "display_name": "putvande", "link": "https://stackoverflow.com/users/2539720/putvande"}, "edited": false, "score": 0, "creation_date": 1482356583, "post_id": 41271398, "comment_id": 69746182, "body": "Your HTML is really invalid. <code>&lt;li&gt;</code>s need a <code>&lt;ul&gt;</code> as their parent. And a <code>&lt;ul&gt;</code> can also only have a <code>&lt;li&gt;</code> as its child."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 7327548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f554d55f6c0db3e110e329def80b4b97?s=128&d=identicon&r=PG&f=1", "display_name": "Guliverkel", "link": "https://stackoverflow.com/users/7327548/guliverkel"}, "edited": false, "score": 0, "creation_date": 1482352649, "post_id": 41271456, "comment_id": 69744192, "body": "not like that, the other way. Well, in that case I can just switch it. Thanks for your help!"}, {"owner": {"reputation": 1890, "user_id": 2647442, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e6b031faf3be7a6673b0c7ac113e6c77?s=128&d=identicon&r=PG", "display_name": "Marie", "link": "https://stackoverflow.com/users/2647442/marie"}, "edited": false, "score": 0, "creation_date": 1482352759, "post_id": 41271456, "comment_id": 69744238, "body": "You are appending the parent list to the child list item and you dont need to wrap <code>this</code>, append/appendTo accept DOM elements"}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1482354333, "post_id": 41271456, "comment_id": 69745059, "body": "Updated so the LI&#39;s are being appended to ULs"}, {"owner": {"reputation": 1890, "user_id": 2647442, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e6b031faf3be7a6673b0c7ac113e6c77?s=128&d=identicon&r=PG", "display_name": "Marie", "link": "https://stackoverflow.com/users/2647442/marie"}, "edited": false, "score": 1, "creation_date": 1482354805, "post_id": 41271456, "comment_id": 69745330, "body": "You dont need to use the attribute-selector for ID, either. You can just use <code>&quot;.result ul#&quot; + id</code>"}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1482356127, "post_id": 41271456, "comment_id": 69745959, "body": "Thanks, that is a great idea."}], "tags": [], "owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "is_accepted": true, "score": -1, "last_activity_date": 1482356140, "last_edit_date": 1482356140, "creation_date": 1482352445, "answer_id": 41271456, "question_id": 41271398, "link": "https://stackoverflow.com/questions/41271398/jquery-order-li-with-the-value-under-ul-with-the-same-id-value/41271456#41271456", "title": "jQuery order li with the value under ul with the same id value", "body": "<p>Minor update</p>\n\n<p><a href=\"https://jsfiddle.net/jmvw2fop/1/\" rel=\"nofollow noreferrer\">JsFiddle</a>.</p>\n\n<pre><code>$(\".result li[data-value='\"+id+\"']\").each(function () {\n    var id =  $(this).data('value');   \n    $(\".result ul#\" + id).append($(this));\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1890, "user_id": 2647442, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e6b031faf3be7a6673b0c7ac113e6c77?s=128&d=identicon&r=PG", "display_name": "Marie", "link": "https://stackoverflow.com/users/2647442/marie"}, "is_accepted": false, "score": 0, "last_activity_date": 1482353154, "last_edit_date": 1482353154, "creation_date": 1482352702, "answer_id": 41271508, "question_id": 41271398, "link": "https://stackoverflow.com/questions/41271398/jquery-order-li-with-the-value-under-ul-with-the-same-id-value/41271508#41271508", "title": "jQuery order li with the value under ul with the same id value", "body": "<p>You have a few problems in your demo. </p>\n\n<p>The first is that you are missing a quote at the end of your second selector (inside of the <code>appendTo</code> call.)</p>\n\n<p>Next your selectors are incorrect. When selecting an attribute in jQuery you need to use <code>[attr='val']</code>, not <code>attr['val']</code>. </p>\n\n<p>Finally you are trying to grab the relevant unordered list by the <code>data-value</code> attribute but the unordered lists do not have that attribute, they use the ID. </p>\n\n<p>jQuerys <code>.each</code> sets the current context as the DOM element it is iterating over. This means that your <code>this</code> variable inside of the each is one of <code>.result ul</code>. <code>append</code>/<code>appendTo</code> accept a DOM element directly so you can just <code>appendTo</code> <code>this</code> to append the selected list items to the current list.</p>\n\n<p>With these changes you are left with </p>\n\n<pre><code>$(\".result ul\").each(function () {    //loop over each list item\n    var datas= $(this).attr('id');   \n    $(\".result li[data-value='\"+datas+\"']\").appendTo(this);\n});\n</code></pre>\n\n<p>As a side note, you don't really need to wrap <code>this</code> as a jQuery object for the ID, either. DOM objects expose the ID directly by property.</p>\n\n<p>So instead of</p>\n\n<pre><code>var datas= $(this).attr('id'); \n</code></pre>\n\n<p>You can do </p>\n\n<pre><code>this.id\n</code></pre>\n\n<p>If you include this you can trim your code down to </p>\n\n<pre><code>$(\".result ul\").each(function () {    //loop over each list item  \n    $(\".result li[data-value='\" + this.id + \"']\").appendTo(this);\n});\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 7327548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f554d55f6c0db3e110e329def80b4b97?s=128&d=identicon&r=PG&f=1", "display_name": "Guliverkel", "link": "https://stackoverflow.com/users/7327548/guliverkel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 41271456, "answer_count": 2, "score": 2, "last_activity_date": 1482356140, "creation_date": 1482352173, "question_id": 41271398, "link": "https://stackoverflow.com/questions/41271398/jquery-order-li-with-the-value-under-ul-with-the-same-id-value", "title": "jQuery order li with the value under ul with the same id value", "body": "<p>I'm trying to order the list of elements with the specific <code>data-value</code> under the  tag with the same <code>id</code> value. All <code>&lt;li&gt;</code> tags with <code>data-value=\"742\"</code> should append to <code>&lt;ul id=\"742\" class=\"fieldrow\"&gt;</code></p>\n\n<pre><code>&lt;div class=\"result\"&gt;\n   &lt;p&gt;&lt;/p&gt;\n   &lt;h2&gt;The list of libraries:&lt;/h2&gt;\n   &lt;p&gt;&lt;/p&gt;\n   &lt;li class=\"fieldrow\" data-value=\"742\"&gt;North Olmsted Branch (742)&lt;/li&gt;\n   &lt;li class=\"fieldrow\" data-value=\"7143\"&gt;Birch Primary School (QuickStart) (7143)&lt;/li&gt;\n   &lt;li class=\"fieldrow\" data-value=\"2060\"&gt;Westlake Porter Public Library (2060)&lt;/li&gt;\n   &lt;li class=\"fieldrow\" data-value=\"6223\"&gt;Westlake High School (6223)&lt;/li&gt;\n   &lt;li class=\"fieldrow\" data-value=\"742\"&gt;Fairview Park Branch (742)&lt;/li&gt;\n   &lt;li class=\"fieldrow\" data-value=\"742\"&gt;Olmsted Falls Branch (742)&lt;/li&gt;\n   &lt;li class=\"fieldrow\" data-value=\"6520\"&gt;North Ridgeville City Schools (6520)&lt;/li&gt;\n   &lt;li class=\"fieldrow\" data-value=\"742\"&gt;Berea Branch (742)&lt;/li&gt;\n   &lt;li class=\"fieldrow\" data-value=\"5435\"&gt;Rocky River High School (5435)&lt;/li&gt;\n   &lt;li class=\"fieldrow\" data-value=\"742\"&gt;Bay Village Branch (742)&lt;/li&gt;\n   &lt;hr&gt;\n   &lt;ul id=\"742\" class=\"fieldrow\"&gt;Cuyahoga County Public Library&lt;/ul&gt;\n   &lt;ul id=\"2060\" class=\"fieldrow\"&gt;Westlake Porter Public Library&lt;/ul&gt;\n   &lt;ul id=\"5435\" class=\"fieldrow\"&gt;Rocky River High School&lt;/ul&gt;\n   &lt;ul id=\"6223\" class=\"fieldrow\"&gt;Westlake High School&lt;/ul&gt;\n   &lt;ul id=\"6520\" class=\"fieldrow\"&gt;North Ridgeville City Schools&lt;/ul&gt;\n   &lt;ul id=\"7143\" class=\"fieldrow\"&gt;Birch Primary School (QuickStart)&lt;/ul&gt;\n&lt;/div&gt;\n&lt;script&gt;\n$(\".result ul\").each(function () {    //loop over each list item\n    datas= $(this).attr('id');   \n    $(\".result li data-value['\"+datas+\"']\").appendTo(\".result ul data-value['\"+datas+\"']);\n\n});&lt;/script&gt;\n</code></pre>\n\n<p><a href=\"https://jsfiddle.net/301ppm78/2/\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}, {"tags": ["javascript", "html", "null", "polymer", "undefined"], "answers": [{"comments": [{"owner": {"reputation": 48, "user_id": 4631153, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/38be8f7d79f2fce3534538032d07c7e8?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Bayerl", "link": "https://stackoverflow.com/users/4631153/alexander-bayerl"}, "edited": false, "score": 0, "creation_date": 1482354385, "post_id": 41271697, "comment_id": 69745092, "body": "oh the first typo, happened because I cut some of the code, it is correct in my original one."}, {"owner": {"reputation": 48, "user_id": 4631153, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/38be8f7d79f2fce3534538032d07c7e8?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Bayerl", "link": "https://stackoverflow.com/users/4631153/alexander-bayerl"}, "edited": false, "score": 0, "creation_date": 1482354422, "post_id": 41271697, "comment_id": 69745115, "body": "Implemented your changes, still throws an error: &quot;my-view1.html:156 Uncaught TypeError: Cannot read property &#39;_alertColor&#39; of null&quot;"}, {"owner": {"reputation": 4638, "user_id": 585967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f650564b574f1a4c998fb4cba1f91f89?s=128&d=identicon&r=PG", "display_name": "geekonaut", "link": "https://stackoverflow.com/users/585967/geekonaut"}, "reply_to_user": {"reputation": 48, "user_id": 4631153, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/38be8f7d79f2fce3534538032d07c7e8?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Bayerl", "link": "https://stackoverflow.com/users/4631153/alexander-bayerl"}, "edited": false, "score": 0, "creation_date": 1482354607, "post_id": 41271697, "comment_id": 69745219, "body": "Could you post a full sample that works on jsfiddle / jsbin / codepen or the like?"}, {"owner": {"reputation": 48, "user_id": 4631153, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/38be8f7d79f2fce3534538032d07c7e8?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Bayerl", "link": "https://stackoverflow.com/users/4631153/alexander-bayerl"}, "edited": false, "score": 0, "creation_date": 1482354740, "post_id": 41271697, "comment_id": 69745284, "body": "to fire &quot;color-picker-selected&quot;: click the &quot;karte&quot; button, click continue, choose a country(doesn&#39;t matter which), continue, click on Farbe in Hex, there&#39;s the color chooser"}, {"owner": {"reputation": 48, "user_id": 4631153, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/38be8f7d79f2fce3534538032d07c7e8?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Bayerl", "link": "https://stackoverflow.com/users/4631153/alexander-bayerl"}, "edited": false, "score": 0, "creation_date": 1482354784, "post_id": 41271697, "comment_id": 69745310, "body": "It is my first project in polymer and a big change for me as I&#39;ve been using php and plain html for the past"}, {"owner": {"reputation": 4638, "user_id": 585967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f650564b574f1a4c998fb4cba1f91f89?s=128&d=identicon&r=PG", "display_name": "geekonaut", "link": "https://stackoverflow.com/users/585967/geekonaut"}, "reply_to_user": {"reputation": 48, "user_id": 4631153, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/38be8f7d79f2fce3534538032d07c7e8?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Bayerl", "link": "https://stackoverflow.com/users/4631153/alexander-bayerl"}, "edited": false, "score": 0, "creation_date": 1482355102, "post_id": 41271697, "comment_id": 69745475, "body": "No worries, I&#39;m happy to help :)"}, {"owner": {"reputation": 48, "user_id": 4631153, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/38be8f7d79f2fce3534538032d07c7e8?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Bayerl", "link": "https://stackoverflow.com/users/4631153/alexander-bayerl"}, "edited": false, "score": 0, "creation_date": 1482355865, "post_id": 41271697, "comment_id": 69745836, "body": "Thank you, I really appreciate you helping me! :)  Your answer makes a lot of sense and should work, but I&#39;m still getting &quot;my-view1.html:149 Uncaught TypeError: Cannot read property &#39;addEventListener&#39; of undefined&quot; :/"}, {"owner": {"reputation": 4638, "user_id": 585967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f650564b574f1a4c998fb4cba1f91f89?s=128&d=identicon&r=PG", "display_name": "geekonaut", "link": "https://stackoverflow.com/users/585967/geekonaut"}, "reply_to_user": {"reputation": 48, "user_id": 4631153, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/38be8f7d79f2fce3534538032d07c7e8?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Bayerl", "link": "https://stackoverflow.com/users/4631153/alexander-bayerl"}, "edited": false, "score": 0, "creation_date": 1482356170, "post_id": 41271697, "comment_id": 69745976, "body": "You are missing the id &quot;colorpicker&quot; on line 20 in my-view1.html, see the edited answer  &lt;paper-swatch-picker id=&quot;colorpicker&quot;&gt;&lt;/paper-swatch-picker&gt;"}, {"owner": {"reputation": 48, "user_id": 4631153, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/38be8f7d79f2fce3534538032d07c7e8?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Bayerl", "link": "https://stackoverflow.com/users/4631153/alexander-bayerl"}, "edited": false, "score": 0, "creation_date": 1482356331, "post_id": 41271697, "comment_id": 69746064, "body": "Oooh, stupid of me, thank you, really, been working on this for at least an hour before posting!"}, {"owner": {"reputation": 4638, "user_id": 585967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f650564b574f1a4c998fb4cba1f91f89?s=128&d=identicon&r=PG", "display_name": "geekonaut", "link": "https://stackoverflow.com/users/585967/geekonaut"}, "reply_to_user": {"reputation": 48, "user_id": 4631153, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/38be8f7d79f2fce3534538032d07c7e8?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Bayerl", "link": "https://stackoverflow.com/users/4631153/alexander-bayerl"}, "edited": false, "score": 0, "creation_date": 1482356386, "post_id": 41271697, "comment_id": 69746092, "body": "You&#39;re welcome - by the way: <a href=\"https://www.dpunkt.de/buecher/12286/9783864903861-web-components-mit-polymer.html\" rel=\"nofollow noreferrer\">dpunkt.de/buecher/12286/&hellip;</a> ;-)"}, {"owner": {"reputation": 48, "user_id": 4631153, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/38be8f7d79f2fce3534538032d07c7e8?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Bayerl", "link": "https://stackoverflow.com/users/4631153/alexander-bayerl"}, "edited": false, "score": 0, "creation_date": 1482356490, "post_id": 41271697, "comment_id": 69746138, "body": "Thanks :) Certainly tempted buying it"}], "tags": [], "owner": {"reputation": 4638, "user_id": 585967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f650564b574f1a4c998fb4cba1f91f89?s=128&d=identicon&r=PG", "display_name": "geekonaut", "link": "https://stackoverflow.com/users/585967/geekonaut"}, "is_accepted": true, "score": 0, "last_activity_date": 1482355609, "last_edit_date": 1482355609, "creation_date": 1482353504, "answer_id": 41271697, "question_id": 41271379, "link": "https://stackoverflow.com/questions/41271379/polymer-document-queryselector-always-returning-null-undefined/41271697#41271697", "title": "Polymer - document.querySelector always returning null/undefined", "body": "<p>First things first, I think there is a typo in your code:</p>\n\n<pre><code>Polymer({\n  is: 'my-view1',\n  },\n  _alertColor: function(event) {\n    this.selectedColor = \"works\";\n    this.$.copiedColor.open();\n  }\n});\n</code></pre>\n\n<p>should probably be:</p>\n\n<pre><code>Polymer({\n  is: 'my-view1',\n  _alertColor: function(event) {\n    this.selectedColor = \"works\";\n    this.$.copiedColor.open();\n  }\n});\n</code></pre>\n\n<p>Also: You are defining the element but you are not using it anywhere in your code. You need to create an instance of that element to be able to use its methods:</p>\n\n<pre><code>&lt;!-- define the element --&gt;\n&lt;dom-module id=\"my-view1\"&gt;\n  &lt;template id=\"methodScope\"&gt;\n    &lt;paper-dialog id=\"modal1\"&gt;\n      &lt;paper-swatch-picker&gt;&lt;/paper-swatch-picker&gt;\n      &lt;paper-button dialog-confirm autofocus&gt;Fertig&lt;/paper-button&gt;\n    &lt;/paper-dialog&gt;\n    &lt;paper-toast id=\"copiedColor\" text=\"Farbe in die Zwischenablage kopiert!\"&gt;&lt;/paper-toast&gt;\n  &lt;/template&gt;\n  &lt;script&gt;\n    Polymer({\n      is: 'my-view1',\n      _alertColor: function(event) {\n        this.selectedColor = \"works\";\n        this.$.copiedColor.open();\n      }\n    });\n  &lt;/script&gt;\n&lt;/dom-module&gt;\n\n&lt;!-- use the element --&gt;\n&lt;my-view1&gt;&lt;/my-view1&gt;\n\n  &lt;script&gt;\n  HTMLImports.whenReady(function() {\n    var t = document.querySelector('my-view1');\n    document.addEventListener('color-picker-selected', function(e) {\n      t._alertColor();\n    });\n  });\n&lt;/script&gt;\n</code></pre>\n\n<p>In a real world application that is more complex, you want to make sure that the element has been inserted into the document.</p>\n\n<p>On your website, for instance, the element is only inserted into the document when you reach the second step and click on the \"Farbe in Hex\".</p>\n\n<p>This is what <a href=\"https://www.polymer-project.org/1.0/docs/devguide/registering-elements#lifecycle-callbacks\" rel=\"nofollow noreferrer\">lifecycle callbacks</a> are for, in your case most likely the \"attached\" callback:</p>\n\n<pre><code>&lt;dom-module id=\"my-view1\"&gt;\n  &lt;template id=\"methodScope\"&gt;\n    &lt;paper-dialog id=\"modal1\"&gt;\n      &lt;paper-swatch-picker id=\"colorpicker\"&gt;&lt;/paper-swatch-picker&gt;\n      &lt;paper-button dialog-confirm autofocus&gt;Fertig&lt;/paper-button&gt;\n    &lt;/paper-dialog&gt;\n    &lt;paper-toast id=\"copiedColor\" text=\"Farbe in die Zwischenablage kopiert!\"&gt;&lt;/paper-toast&gt;\n  &lt;/template&gt;\n  &lt;script&gt;\n    Polymer({\n      is: 'my-view1',\n      _alertColor: function(event) {\n        this.selectedColor = \"works\";\n        this.$.copiedColor.open();\n      },\n      attached: function() {\n        //this code is running when the element is put into the DOM\n        var self = this\n        this.$.colorpicker.addEventListener('color-picker-selected', function() {\n          self._alertColor()\n        })\n      }\n    });\n  &lt;/script&gt;\n&lt;/dom-module&gt;\n</code></pre>\n"}], "owner": {"reputation": 48, "user_id": 4631153, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/38be8f7d79f2fce3534538032d07c7e8?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Bayerl", "link": "https://stackoverflow.com/users/4631153/alexander-bayerl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 644, "favorite_count": 0, "accepted_answer_id": 41271697, "answer_count": 1, "score": 0, "last_activity_date": 1482355609, "creation_date": 1482352100, "question_id": 41271379, "link": "https://stackoverflow.com/questions/41271379/polymer-document-queryselector-always-returning-null-undefined", "title": "Polymer - document.querySelector always returning null/undefined", "body": "<p>Here is my code:</p>\n\n<pre><code>&lt;dom-module id=\"my-view1\"&gt;\n  &lt;template id=\"methodScope\"&gt;\n    &lt;paper-dialog id=\"modal1\"&gt;\n      &lt;paper-swatch-picker&gt;&lt;/paper-swatch-picker&gt;\n      &lt;paper-button dialog-confirm autofocus&gt;Fertig&lt;/paper-button&gt;\n    &lt;/paper-dialog&gt;\n    &lt;paper-toast id=\"copiedColor\" text=\"Farbe in die Zwischenablage kopiert!\"&gt;&lt;/paper-toast&gt;\n  &lt;/template&gt;\n\n\n  &lt;script&gt;\n    Polymer({\n      is: 'my-view1',\n      },\n      _alertColor: function(event) {\n        this.selectedColor = \"works\";\n        this.$.copiedColor.open();\n      }\n    });\n  &lt;/script&gt;\n  &lt;script&gt;\n      HTMLImports.whenReady(function() {\n        var t = document.querySelector('#methodScope');\n        document.addEventListener('color-picker-selected', function(e) {\n          t._alertColor();\n        });\n      });\n    &lt;/script&gt;\n&lt;/dom-module&gt;\n</code></pre>\n\n<p>No matter what I try, all efforts using this.$ or document.querySelector end up in returning undefined or null, be it an element or function.</p>\n\n<p>How would I be able to correctly execute the _alertColor function in the Javascript outside of the Polymer script?</p>\n\n<p>Also tried it using document.querySelector('#my-view1');</p>\n"}, {"tags": ["javascript", "angular", "angular2-template", "angular2-forms", "angular2-services"], "comments": [{"owner": {"reputation": 333, "user_id": 4656713, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Dt6u2.jpg?s=128&g=1", "display_name": "Thomas Juranek", "link": "https://stackoverflow.com/users/4656713/thomas-juranek"}, "edited": false, "score": 0, "creation_date": 1482352092, "post_id": 41271354, "comment_id": 69743846, "body": "Possible duplicate: <a href=\"http://stackoverflow.com/questions/7295843/allow-only-numbers-to-be-typed-in-a-textbox\" title=\"allow only numbers to be typed in a textbox\">stackoverflow.com/questions/7295843/&hellip;</a>"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 3, "creation_date": 1482352209, "post_id": 41271354, "comment_id": 69743926, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/995183/how-to-allow-only-numeric-0-9-in-html-inputbox-using-jquery\">How to allow only numeric (0-9) in HTML  inputbox using jQuery?</a>"}, {"owner": {"reputation": 1970, "user_id": 5628927, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/75dff10069cd20c0b917b3b42bd35d44?s=128&d=identicon&r=PG&f=1", "display_name": "RohanArihant", "link": "https://stackoverflow.com/users/5628927/rohanarihant"}, "edited": false, "score": 1, "creation_date": 1482352789, "post_id": 41271354, "comment_id": 69744248, "body": "i am not using jQuery. Is there any solution in typescript-angular2 by making any service.."}, {"owner": {"user_type": "does_not_exist", "display_name": "user663031"}, "edited": false, "score": 0, "creation_date": 1482355189, "post_id": 41271354, "comment_id": 69745525, "body": "This has nothing to do with Angular. Anyway, do not take over the keyboard from the user and prevent keys from working and make him think his keyboard is broken. Use standard HTML5 techniques such as <code>type=&quot;number&quot;</code>, or <code>pattern</code>, to control and validate input. This will also properly handle situations which your code does not, such as autofill, or dragging and dropping text into the input box."}], "answers": [{"tags": [], "owner": {"reputation": 10248, "user_id": 268396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4220afde4dd928ef33648797c7415ada?s=128&d=identicon&r=PG", "display_name": "user268396", "link": "https://stackoverflow.com/users/268396/user268396"}, "is_accepted": false, "score": 0, "last_activity_date": 1482355011, "creation_date": 1482355011, "answer_id": 41272041, "question_id": 41271354, "link": "https://stackoverflow.com/questions/41271354/how-to-restrict-input-textbox-to-enter-numbers-only-in-angular2-form/41272041#41272041", "title": "How to restrict input textbox to enter numbers only in Angular2 form?", "body": "<p>Backspace will not work because: <code>event.charCode</code> will not map to one of the digits <code>0-9</code> for the backspace key.</p>\n\n<p>You need to whitelist the backspace (i.e. keyCode = 8). Something like this (off the top of my head):</p>\n\n<pre><code>if(event.keyCode != 8 &amp;&amp; !pattern.test(inputChar)) {\n   event.preventDefault();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1970, "user_id": 5628927, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/75dff10069cd20c0b917b3b42bd35d44?s=128&d=identicon&r=PG&f=1", "display_name": "RohanArihant", "link": "https://stackoverflow.com/users/5628927/rohanarihant"}, "is_accepted": true, "score": 0, "last_activity_date": 1482445912, "last_edit_date": 1482445912, "creation_date": 1482356755, "answer_id": 41272416, "question_id": 41271354, "link": "https://stackoverflow.com/questions/41271354/how-to-restrict-input-textbox-to-enter-numbers-only-in-angular2-form/41272416#41272416", "title": "How to restrict input textbox to enter numbers only in Angular2 form?", "body": "<p>my answer is :-\nform.html:</p>\n\n<p></p>\n\n<p>form.component.ts</p>\n\n<pre><code>restrictNumeric = function (e) {\n     var input;\n     if (e.metaKey || e.ctrlKey) {\n        return true;\n     }\n     if (e.which === 32) {\n        return false;\n     }\n     if (e.which === 0) {\n        return true;\n     }\n     if (e.which &lt; 33) {\n        return true;\n     }\n     input = String.fromCharCode(e.which);\n     return !!/[\\d\\s]/.test(input);\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4978, "user_id": 6381711, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PGoWq.jpg?s=128&g=1", "display_name": "nyedidikeke", "link": "https://stackoverflow.com/users/6381711/nyedidikeke"}, "is_accepted": false, "score": 1, "last_activity_date": 1482362124, "creation_date": 1482362124, "answer_id": 41273505, "question_id": 41271354, "link": "https://stackoverflow.com/questions/41271354/how-to-restrict-input-textbox-to-enter-numbers-only-in-angular2-form/41273505#41273505", "title": "How to restrict input textbox to enter numbers only in Angular2 form?", "body": "<p>You can achieve that using regex the following way:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var numbersOnly = document.getElementById(\"numbersOnly\");\r\nnumbersOnly.onkeyup = function myFunction() {\r\n    numbersOnly.value = numbersOnly.value.replace(/[^0-9]/g, '');\r\n};</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input id=\"numbersOnly\" minlength=\"8\" maxlength=\"15\" required&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 5691029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d2199805bce0104154ba51c67147d8a?s=128&d=identicon&r=PG&f=1", "display_name": "spambo01", "link": "https://stackoverflow.com/users/5691029/spambo01"}, "is_accepted": false, "score": 1, "last_activity_date": 1493211246, "creation_date": 1493211246, "answer_id": 43634842, "question_id": 41271354, "link": "https://stackoverflow.com/questions/41271354/how-to-restrict-input-textbox-to-enter-numbers-only-in-angular2-form/43634842#43634842", "title": "How to restrict input textbox to enter numbers only in Angular2 form?", "body": "<p>How about using the html5 tag?\n<code>&lt;input type=\"number\"&gt;</code><br>\nIt 's  supported from all browsers.</p>\n\n<p><a href=\"https://www.w3schools.com/html/html_form_input_types.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/html/html_form_input_types.asp</a></p>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 5750733, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1044404025602135/picture?type=large", "display_name": "Ayush Gupta", "link": "https://stackoverflow.com/users/5750733/ayush-gupta"}, "is_accepted": false, "score": 1, "last_activity_date": 1504188682, "last_edit_date": 1504188682, "creation_date": 1504187602, "answer_id": 45983194, "question_id": 41271354, "link": "https://stackoverflow.com/questions/41271354/how-to-restrict-input-textbox-to-enter-numbers-only-in-angular2-form/45983194#45983194", "title": "How to restrict input textbox to enter numbers only in Angular2 form?", "body": "<p>you can use this way too</p>\n\n<pre><code>keyPress(event: any) {\n\n        const pattern = /[0-9\\+\\-\\ ]/;\n        let inputChar = String.fromCharCode(event.charCode);\n\n            if (!pattern.test(inputChar) &amp;&amp; event.charCode != '0') {\n                event.preventDefault();\n            }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2546, "user_id": 4077981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2db9f47b39e6dda1c6bd7bf5de198760?s=128&d=identicon&r=PG&f=1", "display_name": "Lars", "link": "https://stackoverflow.com/users/4077981/lars"}, "is_accepted": false, "score": 0, "last_activity_date": 1516870821, "creation_date": 1516870821, "answer_id": 48439061, "question_id": 41271354, "link": "https://stackoverflow.com/questions/41271354/how-to-restrict-input-textbox-to-enter-numbers-only-in-angular2-form/48439061#48439061", "title": "How to restrict input textbox to enter numbers only in Angular2 form?", "body": "<p>Please do not use String.fromCharCode(event.keyCode) any longer, it is marked deprecated <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key\" rel=\"nofollow noreferrer\">MDN</a> and it seems to not working right in Firefox 58. A simple function, tested on Chrome &amp; Firefox:</p>\n\n<pre><code>onKeypress(event: any) {\n  const keyChar = event.key;\n\n  let allowCharacter: boolean;\n  if (keyChar === \"-\" &amp;&amp; event.target.selectionStart !== 0) {\n    allowCharacter = false;\n  }\n  else if (\n    keyChar === \"Tab\" ||\n    keyChar === \"Enter\" ||\n    keyChar === \"Backspace\" ||\n    keyChar === \"ArrowLeft\" ||\n    keyChar === \"ArrowRight\" ||\n    keyChar === \"Delete\") {\n    allowCharacter = true;\n  }\n  else {\n    allowCharacter = (keyChar &gt;= '0' &amp;&amp; keyChar &lt;= '9');\n  }\n\n  if (!allowCharacter) {\n    event.preventDefault();\n  }\n}\n</code></pre>\n\n<p>I'm also not happy with this code and hope there exists a better library for this in Angular.</p>\n"}, {"tags": [], "owner": {"reputation": 471, "user_id": 10429146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1DV3b.jpg?s=128&g=1", "display_name": "Dhanika", "link": "https://stackoverflow.com/users/10429146/dhanika"}, "is_accepted": false, "score": 1, "last_activity_date": 1538560227, "creation_date": 1538560227, "answer_id": 52624288, "question_id": 41271354, "link": "https://stackoverflow.com/questions/41271354/how-to-restrict-input-textbox-to-enter-numbers-only-in-angular2-form/52624288#52624288", "title": "How to restrict input textbox to enter numbers only in Angular2 form?", "body": "<p>I created a directive that will only allow you to type numbers only.</p>\n\n<pre><code>import { Directive, ElementRef, HostListener, Input,OnInit,Renderer } from '@angular/core';\n\n\n@Directive({\n   selector: 'input[app-numeric-field]'\n})\nexport class NumericValidatorDirective implements OnInit {\n  @Input('app-numeric-field') maxLength: string;\n\n  constructor(private elementRef: ElementRef,private _renderer: Renderer) {}\n\n  ngOnInit(): void {\n     this._renderer.setElementAttribute(this.elementRef.nativeElement, 'maxlength', this.maxLength);\n  }\n\n  @HostListener('keydown', ['$event']) onKeyDown(event) {\n     let e = &lt;KeyboardEvent&gt; event;\n        if ([46, 8, 9, 27, 13, 110].indexOf(e.keyCode) !== -1 ||\n           // Allow: Ctrl+A\n           (e.keyCode === 65 &amp;&amp; (e.ctrlKey || e.metaKey)) ||\n           // Allow: Ctrl+C\n           (e.keyCode === 67 &amp;&amp; (e.ctrlKey || e.metaKey)) ||\n           // Allow: Ctrl+V\n           (e.keyCode === 86 &amp;&amp; (e.ctrlKey || e.metaKey)) ||\n           // Allow: Ctrl+X\n           (e.keyCode === 88 &amp;&amp; (e.ctrlKey || e.metaKey)) ||\n           // Allow: home, end, left, right\n           (e.keyCode &gt;= 35 &amp;&amp; e.keyCode &lt;= 39)) {\n           // let it happen, don't do anything\n         return;\n       }\n         // Ensure that it is a number and stop the keypress\n       if ((e.shiftKey || (e.keyCode &lt; 48 || e.keyCode &gt; 57)) &amp;&amp; (e.keyCode &lt; 96 || e.keyCode &gt; 105)) {\n           e.preventDefault();\n       }\n    }\n}\n</code></pre>\n\n<p>Then you can use it like this.</p>\n\n<pre><code>&lt;input matInput app-numeric-field&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 136, "user_id": 1381167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e52c4f6fce30ecea8cf9f160c6981ef8?s=128&d=identicon&r=PG", "display_name": "jinavar1", "link": "https://stackoverflow.com/users/1381167/jinavar1"}, "is_accepted": false, "score": 2, "last_activity_date": 1578938374, "last_edit_date": 1578938374, "creation_date": 1578929122, "answer_id": 59719496, "question_id": 41271354, "link": "https://stackoverflow.com/questions/41271354/how-to-restrict-input-textbox-to-enter-numbers-only-in-angular2-form/59719496#59719496", "title": "How to restrict input textbox to enter numbers only in Angular2 form?", "body": "<p>I made a directive to prevent specific input, similar to others posted here and in other posts. I based mine in <a href=\"https://codeburst.io/digit-only-directive-in-angular-3db8a94d80c3\" rel=\"nofollow noreferrer\">this article</a>, but made a few changes to avoid using the deprecated <code>keyCode</code> attribute, among other things.</p>\n\n<p>I also lifted the restriction on the allowed keyboard commands (any combination of keys containing <code>Ctrl</code>, <code>Command</code>, <code>Shift</code> or <code>Alt</code>) because it may lead to unintended restrictions (like being unable to execute the undo/redo command).</p>\n\n<p>Here is the directive:</p>\n\n<pre><code>import { Directive, HostListener } from '@angular/core';\n\n@Directive({\n  selector: '[inputDigitsOnly]',\n})\nexport class InputDigitsOnlyDirective {\n  private static readonly allowedKeyCodes = [\n    \"Backspace\",\n    \"Delete\",\n    \"Insert\",\n    \"ArrowUp\",\n    \"ArrowRight\",\n    \"ArrowDown\",\n    \"ArrowLeft\",\n    \"Tab\",\n    \"Home\",\n    \"End\",\n    \"Enter\",\n    \"Digit1\",\n    \"Digit2\",\n    \"Digit3\",\n    \"Digit4\",\n    \"Digit5\",\n    \"Digit6\",\n    \"Digit7\",\n    \"Digit8\",\n    \"Digit9\",\n    \"Digit0\",\n    \"Numpad0\",\n    \"Numpad1\",\n    \"Numpad2\",\n    \"Numpad3\",\n    \"Numpad4\",\n    \"Numpad5\",\n    \"Numpad6\",\n    \"Numpad7\",\n    \"Numpad8\",\n    \"Numpad9\",\n  ];\n\n  @HostListener('keydown', ['$event'])\n  onKeyDown(e: KeyboardEvent) {\n    // This condition checks whether a keyboard control key was pressed.\n    // I've left this 'open' on purpose, because I don't want to restrict which commands\n    // can be executed in the browser. For example, It wouldn't make sense for me to prevent\n    // a find command (Ctrl + F or Command + F) just for having the focus on the input with\n    // this directive.\n    const isCommandExecution = e.ctrlKey || e.metaKey || e.shiftKey || e.altKey;\n    const isKeyAllowed = InputDigitsOnlyDirective.allowedKeyCodes.indexOf(e.code) !== -1;\n\n    if (!isCommandExecution &amp;&amp; !isKeyAllowed) {\n      e.preventDefault();\n      return;  // let it happen, don't do anything\n    }\n  }\n}\n</code></pre>\n\n<p>Then you just need to add the directive in the input:</p>\n\n<pre><code>&lt;input type=\"text\" inputDigitsOnly&gt;\n</code></pre>\n\n<p>You can change it to fit your needs. You can <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/code/code_values\" rel=\"nofollow noreferrer\">check the list of available key codes here</a>.</p>\n\n<p>Hope it helps.</p>\n"}], "owner": {"reputation": 1970, "user_id": 5628927, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/75dff10069cd20c0b917b3b42bd35d44?s=128&d=identicon&r=PG&f=1", "display_name": "RohanArihant", "link": "https://stackoverflow.com/users/5628927/rohanarihant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21062, "favorite_count": 1, "accepted_answer_id": 41272416, "answer_count": 8, "score": 2, "last_activity_date": 1578938374, "creation_date": 1482352009, "last_edit_date": 1482352531, "question_id": 41271354, "link": "https://stackoverflow.com/questions/41271354/how-to-restrict-input-textbox-to-enter-numbers-only-in-angular2-form", "title": "How to restrict input textbox to enter numbers only in Angular2 form?", "body": "<p>I have to restrict user to enter only numbers in a field in Angular2->form \nI have solution but backspace is not working in input field \nCan anybody have proper solution for that?</p>\n\n<p>form.html</p>\n\n<p><code>&lt;input (keypress)=\"keyPress($event)\" minlength=\"8\" maxlength=\"15\" required /&gt;</code></p>\n\n<p>form.component.ts</p>\n\n<pre><code>keyPress(event: any) {\n    const pattern = /[0-9\\+\\-\\ ]/;\n    let inputChar = String.fromCharCode(event.charCode);\n    // console.log(inputChar, e.charCode);\n       if (!pattern.test(inputChar)) {\n       // invalid character, prevent input\n           event.preventDefault();\n      }\n }\n</code></pre>\n\n<p>On kepress event it restrict user to enter only numbers but problem with this code is backspace, tab keys are not working.So, this code is not as per my expectation...</p>\n"}, {"tags": ["javascript", "asp.net", "validation"], "answers": [{"tags": [], "owner": {"reputation": 462, "user_id": 5531716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d13a93b5c890662ee4578a71b4fa8ec?s=128&d=identicon&r=PG&f=1", "display_name": "Baskar Rao", "link": "https://stackoverflow.com/users/5531716/baskar-rao"}, "is_accepted": false, "score": 0, "last_activity_date": 1482353338, "creation_date": 1482353338, "answer_id": 41271652, "question_id": 41271302, "link": "https://stackoverflow.com/questions/41271302/code-always-runs-even-if-the-validation-fails/41271652#41271652", "title": "Code always runs, even if the validation fails", "body": "<p>Your javascript should use explicitly \"return true\" and \"return false\" instead of return keyword.</p>\n"}], "owner": {"reputation": 33, "user_id": 7327528, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1290937600968641/picture?type=large", "display_name": "Noam Shamgar", "link": "https://stackoverflow.com/users/7327528/noam-shamgar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482353338, "creation_date": 1482351802, "last_edit_date": 1482353094, "question_id": 41271302, "link": "https://stackoverflow.com/questions/41271302/code-always-runs-even-if-the-validation-fails", "title": "Code always runs, even if the validation fails", "body": "<p>Register Page(some of it is in Hebrew, don't mind the names)</p>\n\n<p>&nbsp;</p>\n\n<pre><code>&lt;asp:RegularExpressionValidator ID=\"RegularExpressionValidator1\" runat=\"server\"\n    ErrorMessage=\"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9 \u05d1\u05e2\u05d1\u05e8\u05d9\u05ea \u05d1\u05d9\u05df 2-10 \u05ea\u05d5\u05d5\u05d9\u05dd\" ValidationExpression=\"[\u05d0-\u05ea]{2,10}\" ControlToValidate=\"FnameReg\"&gt;&amp;nbsp;&lt;/asp:RegularExpressionValidator&gt;\n\n\n&lt;!-- \u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4 !--&gt;\n\n&lt;asp:RequiredFieldValidator ID=\"RequiredFieldValidator2\" runat=\"server\"\n    ErrorMessage=\"\u05d4\u05e7\u05dc\u05d3 \u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4\" ControlToValidate=\"LnameReg\"&gt;&amp;nbsp;&lt;/asp:RequiredFieldValidator&gt;\n\n&lt;asp:RegularExpressionValidator ID=\"RegularExpressionValidator3\" runat=\"server\"\n    ErrorMessage=\"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4 \u05d1\u05e2\u05d1\u05e8\u05d9\u05ea \u05d1\u05d9\u05df 2-12 \u05ea\u05d5\u05d5\u05d9\u05dd\" ValidationExpression=\"[\u05d0-\u05ea-]{2,12}\" ControlToValidate=\"LnameReg\"&gt;&amp;nbsp;&lt;/asp:RegularExpressionValidator&gt;\n\n&lt;!-- \u05d0\u05d9\u05de\u05d9\u05d9\u05dc !--&gt;\n\n&lt;asp:RequiredFieldValidator ID=\"RequiredFieldValidator3\" runat=\"server\"\n    ErrorMessage=\"\u05d4\u05e7\u05dc\u05d3 \u05d0\u05d9\u05de\u05d9\u05d9\u05dc\" ControlToValidate=\"EmailReg\"&gt;&amp;nbsp;&lt;/asp:RequiredFieldValidator&gt;\n\n&lt;asp:RegularExpressionValidator ID=\"RegularExpressionValidatorADDANUMBERHERE\" runat=\"server\"\n    ErrorMessage=\"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc \u05dc\u05d0 \u05ea\u05e7\u05d9\u05df\" ControlToValidate=\"EmailReg\"\n    ValidationExpression=\"\\w+\\@\\w+\\.com\"&gt;&amp;nbsp;&lt;/asp:RegularExpressionValidator&gt;\n\n\n&lt;!-- \u05e1\u05d9\u05e1\u05de\u05d0 !--&gt;\n&lt;asp:RequiredFieldValidator ID=\"RequiredFieldValidator4\" runat=\"server\"\n    ErrorMessage=\"\u05d4\u05e7\u05dc\u05d3 \u05e1\u05d9\u05e1\u05de\u05d0\" ControlToValidate=\"PassReg\"&gt;&amp;nbsp;&lt;/asp:RequiredFieldValidator&gt;\n\n&lt;asp:RegularExpressionValidator ID=\"RegularExpressionValidator2\" runat=\"server\"\n    ErrorMessage=\"\u05e1\u05d9\u05e1\u05de\u05d0 \u05d1\u05d9\u05df 4-10 \u05ea\u05d5\u05d5\u05d9\u05dd \u05d1\u05e2\u05d1\u05e8\u05d9\u05ea \u05d5\u05de\u05e1\u05e4\u05e8\u05d9\u05dd \u05d1\u05dc\u05d1\u05d3\" ControlToValidate=\"PassReg\"\n    ValidationExpression=\"[0-9\u05d0-\u05ea]{4,10}\"&gt;&amp;nbsp;&lt;/asp:RegularExpressionValidator&gt;\n\n\n&lt;!-- \u05d0\u05d9\u05de\u05d5\u05ea \u05e1\u05d9\u05e1\u05de\u05d0 !--&gt;\n\n&lt;asp:RequiredFieldValidator ID=\"RequiredFieldValidator5\" runat=\"server\"\n    ErrorMessage=\"\u05d4\u05e7\u05dc\u05d3 \u05d0\u05d9\u05de\u05d5\u05ea \u05e1\u05d9\u05e1\u05de\u05d0\" ControlToValidate=\"ValPassReg\"&gt;&amp;nbsp;&lt;/asp:RequiredFieldValidator&gt;\n\n&lt;asp:CompareValidator ID=\"CompareValidator1\" runat=\"server\"\n    ErrorMessage=\"\u05d0\u05d9\u05de\u05d5\u05ea \u05e1\u05d9\u05e1\u05de\u05d0 \u05e9\u05d2\u05d5\u05d9\"\n    ControlToCompare=\"PassReg\" ControlToValidate=\"ValPassReg\"&gt;&amp;nbsp;&lt;/asp:CompareValidator&gt;\n\n&lt;!--  \u05de\u05d2\u05d3\u05e8   !--&gt;\n&lt;asp:RequiredFieldValidator ID=\"RequiredFieldValidator6\" runat=\"server\"\n    ErrorMessage=\"\u05d1\u05d7\u05e8 \u05de\u05d2\u05d3\u05e8\" ControlToValidate=\"GenderList\"&gt;&amp;nbsp;&lt;/asp:RequiredFieldValidator&gt;\n\n&lt;!--  \u05ea\u05d7\u05d1\u05d9\u05d1\u05d9\u05dd   !--&gt;\n&lt;asp:CustomValidator ID=\"CustomValidator1\" runat=\"server\" ClientValidationFunction=\"CheckHobbies\"\n    ErrorMessage=\"\u05d1\u05d7\u05e8 \u05ea\u05d7\u05d1\u05d9\u05d1\u05d9\u05dd\"&gt;&amp;nbsp&lt;/asp:CustomValidator&gt;\n\n    &lt;!--  \u05de\u05e1\u05e4\u05e8 \u05e4\u05dc\u05d0\u05e4\u05d5\u05df   !--&gt;\n&lt;asp:RequiredFieldValidator ID=\"RequiredFieldValidator8\" ControlToValidate=\"CellPhoneReg\" runat=\"server\" \n    ErrorMessage=\"\u05d4\u05db\u05e0\u05e1 \u05de\u05e1\u05e4\u05e8 \u05e4\u05dc\u05d0\u05e4\u05d5\u05df\"&gt;&amp;nbsp&lt;/asp:RequiredFieldValidator&gt;\n\n&lt;asp:RequiredFieldValidator ID=\"RequiredFieldValidator9\" InitialValue=\"-1\" ControlToValidate=\"PreCellPhoneReg\" runat=\"server\"\n     ErrorMessage=\"\u05d1\u05d7\u05e8 \u05e7\u05d9\u05d3\u05d5\u05de\u05ea \u05e4\u05dc\u05d0\u05e4\u05d5\u05df\"&gt;&amp;nbsp&lt;/asp:RequiredFieldValidator&gt;\n\n&lt;asp:RegularExpressionValidator ID=\"RegularExpressionValidator5\" ControlToValidate=\"CellPhoneReg\"\n     ValidationExpression=\"[0-9]{7}\" runat=\"server\" ErrorMessage=\"\u05e4\u05dc\u05d0\u05e4\u05d5\u05df \u05dc\u05d0 \u05ea\u05e7\u05d9\u05df\"&gt;&amp;nbsp&lt;/asp:RegularExpressionValidator&gt;\n\n    &lt;!--  \u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d9\u05d3\u05d4   !--&gt;\n&lt;asp:RequiredFieldValidator ID=\"RequiredFieldValidator11\" ControlToValidate=\"BirthReg\" runat=\"server\" ErrorMessage=\"\u05d4\u05db\u05e0\u05e1 \u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d9\u05d3\u05d4\"&gt;&amp;nbsp&lt;/asp:RequiredFieldValidator&gt;\n\n&lt;asp:RegularExpressionValidator ID=\"RegularExpressionValidator7\" ValidationExpression=\"\\d+\\/\\d+\\/\\d+\" runat=\"server\" ControlToValidate=\"BirthReg\" ErrorMessage=\"\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d9\u05d3\u05d4 \u05dc\u05d0 \u05ea\u05e7\u05d9\u05df\"&gt;&amp;nbsp&lt;/asp:RegularExpressionValidator&gt;\n\n&lt;!--  \u05e2\u05d9\u05e8 \u05de\u05d2\u05d5\u05e8\u05d9\u05dd   !--&gt;\n&lt;asp:RequiredFieldValidator ID=\"RequiredFieldValidator7\" ControlToValidate=\"CityList\" InitialValue=\"-1\" runat=\"server\" ErrorMessage=\"\u05d1\u05d7\u05e8 \u05e2\u05d9\u05e8\"&gt;&amp;nbsp&lt;/asp:RequiredFieldValidator&gt;\n\n    &lt;!--  \u05db\u05ea\u05d5\u05d1\u05ea   !--&gt;\n\n&lt;asp:RequiredFieldValidator ID=\"RequiredFieldValidator10\" ControlToValidate=\"AdressReg\" runat=\"server\" ErrorMessage=\"\u05d4\u05db\u05e0\u05e1 \u05db\u05ea\u05d5\u05d1\u05ea\"&gt;&amp;nbsp&lt;/asp:RequiredFieldValidator&gt;\n\n&lt;asp:RegularExpressionValidator ID=\"RegularExpressionValidator6\" ControlToValidate=\"AdressReg\" runat=\"server\" ValidationExpression=\"[\u05d0-\u05ea0-9]{3,8}\" ErrorMessage=\"\u05db\u05ea\u05d5\u05d1\u05ea \u05d1\u05e2\u05d1\u05e8\u05d9\u05ea \u05d5\u05de\u05e1\u05e4\u05e8\u05d9\u05dd \"&gt;&amp;nbsp&lt;/asp:RegularExpressionValidator&gt;\n&lt;!--  \u05d4\u05e2\u05e8\u05d5\u05ea   !--&gt;\n\n&lt;asp:RegularExpressionValidator ID=\"RegularExpressionValidator4\" runat=\"server\"\n    ErrorMessage=\"\u05d4\u05e2\u05e8\u05d5\u05ea \u05e2\u05d3 70 \u05ea\u05d5\u05d5\u05d9\u05dd \u05d5\u05d1\u05e2\u05d1\u05e8\u05d9\u05ea\" ControlToValidate=\"CommentReg\" ValidationExpression=\"[0-9\u05d0-\u05ea]{0,70}\"&gt;&amp;nbsp&lt;/asp:RegularExpressionValidator&gt;\n</code></pre>\n\n<p></p>\n\n<p><strong>JavaScript Code:</strong></p>\n\n<p></p>\n\n<pre><code>&lt;script type=\"text/javascript\" lang=\"javascript\"&gt;\n\n    function CheckHobbies(source, arguments) {\n        var Hobbies = document.getElementById('&lt;%= HobbiesList.ClientID %&gt;');\n    var HobbiesItems = Hobbies.getElementsByTagName('input');\n\n    arguments.IsValid = false;\n    for (var i = 0; i &lt; HobbiesItems.length; i++) {\n        if (HobbiesItems[i].checked == true) {\n            arguments.IsValid = true;\n            return;\n        }\n    }\n    return;\n\n}\n&lt;/script&gt;\n</code></pre>\n\n<p></p>\n\n<p>Somehow,  it will run, even when it fails to pass the validation.\nWhy is this happening?</p>\n\n<p>Besides that, the JavaScript function is supposed to check if any button on the <code>CheckboxList</code> is checked, and it doesn't work for some reason.\nWhy is this?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 3, "creation_date": 1482351921, "post_id": 41271293, "comment_id": 69743743, "body": "This is why you should use semicolons, at least until you fully understand JS syntax."}, {"owner": {"reputation": 217, "user_id": 6858999, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9NthnvHunDs/AAAAAAAAAAI/AAAAAAAAADI/jYDj8q4O5js/photo.jpg?sz=128", "display_name": "TrojanByAccident", "link": "https://stackoverflow.com/users/6858999/trojanbyaccident"}, "reply_to_user": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1482351999, "post_id": 41271293, "comment_id": 69743787, "body": "@SLaks I hate semicolons, but perhaps you mean brackets?"}, {"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "reply_to_user": {"reputation": 217, "user_id": 6858999, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9NthnvHunDs/AAAAAAAAAAI/AAAAAAAAADI/jYDj8q4O5js/photo.jpg?sz=128", "display_name": "TrojanByAccident", "link": "https://stackoverflow.com/users/6858999/trojanbyaccident"}, "edited": false, "score": 1, "creation_date": 1482352038, "post_id": 41271293, "comment_id": 69743807, "body": "@Saiid: No; I mean semicolons (although braces would also help).  You can&#39;t rely on ASI until you fully understand how JS syntax works."}, {"owner": {"reputation": 217, "user_id": 6858999, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9NthnvHunDs/AAAAAAAAAAI/AAAAAAAAADI/jYDj8q4O5js/photo.jpg?sz=128", "display_name": "TrojanByAccident", "link": "https://stackoverflow.com/users/6858999/trojanbyaccident"}, "edited": false, "score": 0, "creation_date": 1482352155, "post_id": 41271293, "comment_id": 69743888, "body": "The semicolons aren&#39;t the problem, though. If they had used the brackets in the if/else, it wouldn&#39;t be doing the same thing."}], "answers": [{"tags": [], "owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "is_accepted": false, "score": 4, "last_activity_date": 1482351903, "creation_date": 1482351903, "answer_id": 41271328, "question_id": 41271293, "link": "https://stackoverflow.com/questions/41271293/both-if-and-else-statements-running-javascript/41271328#41271328", "title": "Both if and else statements running JavaScript", "body": "<p>Your <code>else</code> syntax is completely wrong.</p>\n\n<p>If you want <code>else if</code>, you need to write that.</p>\n\n<p>Your code is parsed using automatic semicolon insertion as</p>\n\n<pre><code>if (option ==1)\n    start()\nelse\n    (option ==2);\ninstructions()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": true, "score": 0, "last_activity_date": 1482351906, "creation_date": 1482351906, "answer_id": 41271331, "question_id": 41271293, "link": "https://stackoverflow.com/questions/41271293/both-if-and-else-statements-running-javascript/41271331#41271331", "title": "Both if and else statements running JavaScript", "body": "<p>You are missing an <code>if</code></p>\n\n<pre><code>else if (option == 2)\n//   ^^\n</code></pre>\n\n<p>Better to use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/block\" rel=\"nofollow noreferrer\">block statement <code>{ /* ... */ }</code></a>, like</p>\n\n<pre><code>if (option == 1) {\n    start();\n} else if (option == 2) {\n    instructions();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4184, "user_id": 3176270, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d7cc49b0d3c7cf426749422c7886a297?s=128&d=identicon&r=PG", "display_name": "Mohammad Kermani", "link": "https://stackoverflow.com/users/3176270/mohammad-kermani"}, "is_accepted": false, "score": 0, "last_activity_date": 1482746948, "creation_date": 1482746948, "answer_id": 41329582, "question_id": 41271293, "link": "https://stackoverflow.com/questions/41271293/both-if-and-else-statements-running-javascript/41329582#41329582", "title": "Both if and else statements running JavaScript", "body": "<p>First I think for not getting confusing, or making your teammates confused about your code, it is better to use block statement (I mean if you think in the future you may want to add more lines of codes in the if statement.</p>\n\n<p>You can't have parentheses after <code>else. if you say</code>else (x==y)`, you will get the error:</p>\n\n<blockquote>\n  <p>Uncaught SyntaxError: Unexpected token {</p>\n</blockquote>\n\n<hr>\n\n<p>It should be:</p>\n\n<pre><code>if (option == 1) {\n    start();\n} else if (option == 2) {\n    instructions()\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 7165440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfb7a98ab12eafce01eebce5b950921e?s=128&d=identicon&r=PG&f=1", "display_name": "Desole11", "link": "https://stackoverflow.com/users/7165440/desole11"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 41271331, "answer_count": 3, "score": 0, "last_activity_date": 1495019510, "creation_date": 1482351777, "last_edit_date": 1495019510, "question_id": 41271293, "link": "https://stackoverflow.com/questions/41271293/both-if-and-else-statements-running-javascript", "title": "Both if and else statements running JavaScript", "body": "<p>When i press 1 to go to \"Start\" it runs start BUT it also runs \"instructions\".\nSo after it says \"Welcoe22222\" it would say \"HAHAHAH\" right after it but i only want the \"start\" function.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n\n\nalert(\"Welcome to the BattleShip Game!!!\")\nname = prompt(\"What is your name: \")\nalert(\"Welcome \"+name)\noption = prompt(\"1. Start Game \\n \\n 2. Instructions \\n \\n Select: \")\nif (option ==1)\n    start()\nelse (option ==2)\n    instructions()\n\nfunction start() {\n\n    alert(\"Welcoe22222\")\n\n}\n\nfunction instructions() {\n\n    alert(\"HAHAHAH\")\n\n}\n\n&lt;/script&gt;\n</code></pre>\n"}]