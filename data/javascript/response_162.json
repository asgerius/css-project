[{"tags": ["javascript", "node.js", "require"], "comments": [{"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 2, "creation_date": 1518652635, "post_id": 48798137, "comment_id": 84598870, "body": "&quot;<i>Which doesn&#39;t work</i>&quot; - why? What&#39;s the problem? Do you get any errors?"}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1518653411, "post_id": 48798137, "comment_id": 84599096, "body": "See also <a href=\"https://stackoverflow.com/q/40770665/1048572\">stackoverflow.com/q/40770665/1048572</a>"}], "answers": [{"comments": [{"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1518653448, "post_id": 48798255, "comment_id": 84599108, "body": "That&#39;s <a href=\"https://stackoverflow.com/q/3034941/1048572\">pretty much equivalent</a> to the <code>var ow = new (require(&#39;.&#47;ourWidget&#39;))</code> which the OP was already using"}, {"owner": {"reputation": 3514, "user_id": 811329, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f9f35495cca243080d34ce375594d366?s=128&d=identicon&r=PG", "display_name": "delliottg", "link": "https://stackoverflow.com/users/811329/delliottg"}, "edited": false, "score": 0, "creation_date": 1518736631, "post_id": 48798255, "comment_id": 84639639, "body": "Actually making the change to this syntax worked perfectly.  Thank you!"}], "tags": [], "owner": {"reputation": 4879, "user_id": 3213172, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/9h5GT.jpg?s=128&g=1", "display_name": "djfdev", "link": "https://stackoverflow.com/users/3213172/djfdev"}, "is_accepted": true, "score": 3, "last_activity_date": 1518653306, "creation_date": 1518653306, "answer_id": 48798255, "question_id": 48798137, "link": "https://stackoverflow.com/questions/48798137/is-there-a-way-to-create-a-new-node-object-from-a-require-in-one-line/48798255#48798255", "title": "Is there a way to create a new Node object from a require in one line?", "body": "<p>You can achieve this by shifting the function call to outside of the wrapping parens:</p>\n\n<pre><code>var ow = new (require('./ourWidget'))()\n</code></pre>\n\n<p>But keep in mind you now have no way of accessing the original widget constructor (this may or may not be a bad thing in your case).</p>\n"}], "owner": {"reputation": 3514, "user_id": 811329, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f9f35495cca243080d34ce375594d366?s=128&d=identicon&r=PG", "display_name": "delliottg", "link": "https://stackoverflow.com/users/811329/delliottg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "closed_date": 1610835501, "accepted_answer_id": 48798255, "answer_count": 1, "score": 2, "last_activity_date": 1518653306, "creation_date": 1518652513, "question_id": 48798137, "link": "https://stackoverflow.com/questions/48798137/is-there-a-way-to-create-a-new-node-object-from-a-require-in-one-line", "closed_reason": "Duplicate", "title": "Is there a way to create a new Node object from a require in one line?", "body": "<p>We have a Node.js widget that gets exported like so: </p>\n\n<p><code>module.exports = ourWidget;</code></p>\n\n<p>I then import it into our server.js like so:</p>\n\n<pre><code>var ourWidget = require('./ourWidget');\nvar ow = new ourWidget;\n</code></pre>\n\n<p>This works as expected, <strong>but could it be done in a single line?</strong> EG:  </p>\n\n<pre><code>var ow = new (require('./ourWidget'));\n</code></pre>\n\n<p>Which doesn't work, I've also tried this:</p>\n\n<p><code>var ow = new (require('./ourWidget')());</code></p>\n\n<p>Both of which resembles the code in this SO question:  <a href=\"https://stackoverflow.com/questions/17604497/how-does-require-work-with-new-operator-in-node-js\">How does require work with new operator in node.js?</a>, but both fail as soon as I try to run the code.</p>\n"}, {"tags": ["javascript", "firebase", "ionic-framework", "firebase-realtime-database", "ionic3"], "answers": [{"comments": [{"owner": {"reputation": 1323, "user_id": 4672157, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/b6Esk.jpg?s=128&g=1", "display_name": "ksa_coder", "link": "https://stackoverflow.com/users/4672157/ksa-coder"}, "edited": false, "score": 0, "creation_date": 1518652893, "post_id": 48798168, "comment_id": 84598951, "body": "Thanks a lot! that worked smoothly. I will make sure to read more to fully understand my options in such a scenario."}], "tags": [], "owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "is_accepted": true, "score": 1, "last_activity_date": 1518652715, "creation_date": 1518652715, "answer_id": 48798168, "question_id": 48798109, "link": "https://stackoverflow.com/questions/48798109/ionic-javascript-how-to-create-promise-with-firebase/48798168#48798168", "title": "Ionic + Javascript: How to create promise with Firebase", "body": "<p>Two things:</p>\n\n<ul>\n<li>Return your promise from <code>checkUsernameReserved</code></li>\n<li>Put code that must run after the check in the <code>.then</code> of that promise.</li>\n</ul>\n\n<p>So:</p>\n\n<pre><code>doRegisterUser() {\n    var self = this;\n    /*Step A - Check username provided by user is taken or not. If no username taken, create random username*/\n    console.log(\"Before checkUsernameReserved() execution\");\n    self.firebaseProvider.checkUsernameReserved(self.username).then(() =&gt; {\n        // Put code that must run after the check in here...\n        console.log(\"After checkUsernameReserved() execution\");\n    }); \n}\n\ncheckUsernameReserved(username:string): any{\n    /*Check usernamesTaken table for provided username*/\n    // !! note the return !!\n    return firebase.database().ref('/usernames_taken/' + username).once('value').then(function(snapshot) {\n\n        /*Check if username is taken.*/\n        if(snapshot.val() != null &amp;&amp; snapshot.val() != \"\") {\n            console.log(\"Username Taken\");\n        } else {\n            console.log(\"Username Available\");\n        }\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 1323, "user_id": 4672157, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/b6Esk.jpg?s=128&g=1", "display_name": "ksa_coder", "link": "https://stackoverflow.com/users/4672157/ksa-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 48798168, "answer_count": 1, "score": 0, "last_activity_date": 1518693115, "creation_date": 1518652351, "last_edit_date": 1518693115, "question_id": 48798109, "link": "https://stackoverflow.com/questions/48798109/ionic-javascript-how-to-create-promise-with-firebase", "title": "Ionic + Javascript: How to create promise with Firebase", "body": "<p>I have the simple function of doRegisterUser() which basically uses a function defined in a provider to check if username already registered or not. In the following code, I print to console, call provider's function and then print to console. Simply I am doing this just to observe the sequence of execution. What I want is to have checkUsernameReserved() execute and then any the console print to happen. </p>\n\n<p>How can this be accomplished?</p>\n\n<pre><code>doRegisterUser() {\n        var self = this;\n        /*Step A - Check username provided by user is taken or not. If no username taken, create random username*/\n        console.log(\"Before checkUsernameReserved() execution\");\n\n\n\n        self.firebaseProvider.checkUsernameReserved(self.username);\n\n\n\n        console.log(\"After checkUsernameReserved() execution\");\n    }\n</code></pre>\n\n<p>and this is the provider function which uses the firebase:</p>\n\n<pre><code>checkUsernameReserved(username:string): any{\n    /*Check usernamesTaken table for provided username*/\n    firebase.database().ref('/usernames_taken/' + username).once('value').then(function(snapshot) {\n\n      /*Check if username is taken.*/\n      if(snapshot.val() != null &amp;&amp; snapshot.val() != \"\")\n      {\n        console.log(\"Username Taken\");\n      }else{\n        console.log(\"Username Available\");\n      }\n    })\n  }\n</code></pre>\n\n<p>The current output I am getting in console is:</p>\n\n<ul>\n<li>Before checkUsernameReserved() execution</li>\n<li>After checkUsernameReserved() execution</li>\n<li>Username Taken</li>\n</ul>\n"}, {"tags": ["javascript", "ecmascript-6"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 1, "creation_date": 1518652833, "post_id": 48798107, "comment_id": 84598934, "body": "by the way, isn&#39;t <code>mytag.apply(null, [[&#39;hello&#39;, &#39;, how are &#39;, &#39;&#39;], &#39;world&#39;, &#39;you&#39;]);</code> simply <code>mytag([&#39;hello&#39;, &#39;, how are &#39;, &#39;&#39;], &#39;world&#39;, &#39;you&#39;);</code>?"}, {"owner": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "edited": false, "score": 1, "creation_date": 1518653374, "post_id": 48798107, "comment_id": 84599090, "body": "To parse an untagged template literal you need a javascript compiler (i.e. <code>eval</code>)."}, {"owner": {"reputation": 4015, "user_id": 189347, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/576a2f51dff709f002e417b32c197edc?s=128&d=identicon&r=PG", "display_name": "anthonator", "link": "https://stackoverflow.com/users/189347/anthonator"}, "reply_to_user": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "edited": false, "score": 0, "creation_date": 1518653606, "post_id": 48798107, "comment_id": 84599145, "body": "@georg I&#39;m not wanting to evaluate the template literal. I want to get it&#39;s &quot;decompiled&quot; representation."}, {"owner": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "edited": false, "score": 0, "creation_date": 1518653949, "post_id": 48798107, "comment_id": 84599238, "body": "@anthonator: yep, and this is what the compiler does. JS is not Lisp, you have no access to the program&#39;s AST from within the program. So it&#39;s either eval or Esprima or your own JS compiler."}, {"owner": {"reputation": 134258, "user_id": 785065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qAbxM.jpg?s=128&g=1", "display_name": "loganfsmyth", "link": "https://stackoverflow.com/users/785065/loganfsmyth"}, "edited": false, "score": 0, "creation_date": 1518654529, "post_id": 48798107, "comment_id": 84599403, "body": "What specifically are you looking at that compiles it down to that? It is more complicated that your snippet. It would help, are you trying to clarify how to get all this without using a tag on the template?"}, {"owner": {"reputation": 4015, "user_id": 189347, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/576a2f51dff709f002e417b32c197edc?s=128&d=identicon&r=PG", "display_name": "anthonator", "link": "https://stackoverflow.com/users/189347/anthonator"}, "reply_to_user": {"reputation": 134258, "user_id": 785065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qAbxM.jpg?s=128&g=1", "display_name": "loganfsmyth", "link": "https://stackoverflow.com/users/785065/loganfsmyth"}, "edited": false, "score": 0, "creation_date": 1518656293, "post_id": 48798107, "comment_id": 84599890, "body": "@loganfsmyth outputting the arguments passed to a tag gave me the array representation I used in my question. Yes, I&#39;d like to get the array representation without the use of a tag."}, {"owner": {"reputation": 134258, "user_id": 785065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qAbxM.jpg?s=128&g=1", "display_name": "loganfsmyth", "link": "https://stackoverflow.com/users/785065/loganfsmyth"}, "edited": false, "score": 0, "creation_date": 1518657819, "post_id": 48798107, "comment_id": 84600259, "body": "Then that is not possible. You can use a tag to get the array representation like you&#39;re doing, and then pass that to a different tag later, but you&#39;d still need a tag on the original literal."}], "answers": [{"comments": [{"owner": {"reputation": 134258, "user_id": 785065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qAbxM.jpg?s=128&g=1", "display_name": "loganfsmyth", "link": "https://stackoverflow.com/users/785065/loganfsmyth"}, "edited": false, "score": 2, "creation_date": 1518654571, "post_id": 48798398, "comment_id": 84599415, "body": "You might as well use <code>...args</code> for <i>all</i> of the arguments and just <code>return args;</code>, e.g. <code>const mytag = (...args) =&gt; args;</code>"}], "tags": [], "owner": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "is_accepted": false, "score": 1, "last_activity_date": 1518655317, "last_edit_date": 1518655317, "creation_date": 1518654451, "answer_id": 48798398, "question_id": 48798107, "link": "https://stackoverflow.com/questions/48798107/es6-template-literal-to-decompiled-array-representation/48798398#48798398", "title": "ES6 template literal to &quot;decompiled&quot; array representation", "body": "<p>Check this out:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const mytag = (...args) =&gt; args;\r\nconsole.log(mytag`my name is ${'Jason'}`);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "is_accepted": false, "score": 3, "last_activity_date": 1518656538, "last_edit_date": 1518656538, "creation_date": 1518654652, "answer_id": 48798436, "question_id": 48798107, "link": "https://stackoverflow.com/questions/48798107/es6-template-literal-to-decompiled-array-representation/48798436#48798436", "title": "ES6 template literal to &quot;decompiled&quot; array representation", "body": "<p>You could just make</p>\n\n<pre><code>function templateValues(...args) {\n    return args;\n}\n</code></pre>\n\n<p>and call it as</p>\n\n<pre><code>console.log(templateValues `my name is ${'Anthony'}`)\nconsole.log(templateValues `hello ${'world'}, how are ${'you'}`;\n</code></pre>\n\n<blockquote>\n  <p>I'd like to get the array representation without the use of a tag</p>\n\n<pre><code>const myliteral = `my  name is ${() =&gt; 'Anthony'}`;\n// would \"decompile\" to [['my name is'], f]\nmytag.apply(null, fnToGetDecompiledRep(myliteral));\n</code></pre>\n</blockquote>\n\n<p>No, that cannot work. <code>myLiteral</code> would be assigned string value that the literal expression creates here. You cannot \"decompile\" it afterwards. You need to use</p>\n\n<pre><code>const myParts = templateValues `my  name is ${() =&gt; 'Anthony'}`;\n// same as  \u2026 = [['my name is'], () =&gt; 'Anthony'];\nmyTag.apply(null, myParts); // or myTag(...myParts)\n</code></pre>\n\n<p>There is no way around a tag to get the template values instead of a string.</p>\n"}], "owner": {"reputation": 4015, "user_id": 189347, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/576a2f51dff709f002e417b32c197edc?s=128&d=identicon&r=PG", "display_name": "anthonator", "link": "https://stackoverflow.com/users/189347/anthonator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290, "favorite_count": 2, "answer_count": 2, "score": 3, "last_activity_date": 1518656538, "creation_date": 1518652348, "last_edit_date": 1518656181, "question_id": 48798107, "link": "https://stackoverflow.com/questions/48798107/es6-template-literal-to-decompiled-array-representation", "title": "ES6 template literal to &quot;decompiled&quot; array representation", "body": "<p>Template literals, when used with tags, seem to get compiled down to an array containing the strings and the substitutions.</p>\n\n<p>For example:</p>\n\n<pre><code>mytag `my name is ${'Anthony'}`\n</code></pre>\n\n<p>seems to get compiled down to something representing:</p>\n\n<pre><code>mytag.apply(null, [['my name is '], 'Anthony'])\n</code></pre>\n\n<p>My question is, how could I take <code>`my name is ${'Anthony'}`</code> and get the <code>[['my name is '], 'Anthony']</code> \"decompiled\" representation?</p>\n\n<p>I've included a snippet to demonstrate the above is true.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function mytag(a, ...b) {\r\n  for (let i = 0; i &lt; a.length; i++) {\r\n    console.log(a[i]);\r\n    console.log(b[i]);\r\n  }\r\n}\r\n\r\nmytag`hello ${'world'}, how are ${'you'}`;\r\n\r\nmytag.apply(null, [['hello', ', how are ', ''], 'world', 'you']);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>Edit</strong></p>\n\n<p>Just to clarify my overall goal.</p>\n\n<p>I'd like to have the ability to pass a template literal into a tag.</p>\n\n<p>Here is a slightly more complicated example,</p>\n\n<pre><code>const myliteral = `my  name is ${() =&gt; 'Anthony'}`;\n// would \"decompile\" to [['my name is'], f]\n\nmytag.apply(null, fnToGetDecompiledRep(myliteral));\n</code></pre>\n\n<p>I'm using a function in <code>myliteral</code> to demonstrate that the function does not get evaluated. You can assume <code>mytag</code> has logic to evaluate functions.</p>\n"}, {"tags": ["javascript", "html", "css", "dictionary", "popup"], "comments": [{"owner": {"reputation": 474, "user_id": 5488863, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/IUwWQ.png?s=128&g=1", "display_name": "Nicholas Smith", "link": "https://stackoverflow.com/users/5488863/nicholas-smith"}, "edited": false, "score": 0, "creation_date": 1518652306, "post_id": 48798069, "comment_id": 84598787, "body": "No need to be so sorry, everyone has to start somewhere."}, {"owner": {"reputation": 844, "user_id": 1431067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a78d2b6cd5e548af1227ad6600830252?s=128&d=identicon&r=PG", "display_name": "unicorn2", "link": "https://stackoverflow.com/users/1431067/unicorn2"}, "edited": false, "score": 0, "creation_date": 1518652639, "post_id": 48798069, "comment_id": 84598872, "body": "Why do you need two myFunction() functions?"}, {"owner": {"reputation": 49, "user_id": 9362484, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QyNJdk_r7mM/AAAAAAAAAAI/AAAAAAAAAgk/IgkNIDJ9jm8/photo.jpg?sz=128", "display_name": "inarisound inarisound", "link": "https://stackoverflow.com/users/9362484/inarisound-inarisound"}, "edited": false, "score": 0, "creation_date": 1518652946, "post_id": 48798069, "comment_id": 84598968, "body": "owww that is extremely embarrassing... This is clearly one of the mistakes I was talking about.... (essentially I duplicated it because I thought it would return the different text... but now I see that I don&#39;t need to create the same exact function! thank you! )"}], "answers": [{"tags": [], "owner": {"reputation": 4716, "user_id": 1580610, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/eMtFG.jpg?s=128&g=1", "display_name": "Vinnie James", "link": "https://stackoverflow.com/users/1580610/vinnie-james"}, "is_accepted": true, "score": 0, "last_activity_date": 1518653499, "creation_date": 1518653499, "answer_id": 48798281, "question_id": 48798069, "link": "https://stackoverflow.com/questions/48798069/how-to-make-popup-text-when-you-click-on-the-link-item/48798281#48798281", "title": "How to make popup text when you click on the link/item?", "body": "<p>You should be <a href=\"https://jsfiddle.net/hzvc6s5n/3/\" rel=\"nofollow noreferrer\">passing in the context of <code>this</code></a> to your onclick handler </p>\n\n<p><code>onclick=\"myFunction(this)</code></p>\n\n<pre><code>function myFunction(el) {\nconsole.log(el);\n    var popup = el;\n    popup.classList.toggle(\"show\");\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 49, "user_id": 9362484, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QyNJdk_r7mM/AAAAAAAAAAI/AAAAAAAAAgk/IgkNIDJ9jm8/photo.jpg?sz=128", "display_name": "inarisound inarisound", "link": "https://stackoverflow.com/users/9362484/inarisound-inarisound"}, "is_accepted": false, "score": 0, "last_activity_date": 1518654096, "creation_date": 1518654096, "answer_id": 48798352, "question_id": 48798069, "link": "https://stackoverflow.com/questions/48798069/how-to-make-popup-text-when-you-click-on-the-link-item/48798352#48798352", "title": "How to make popup text when you click on the link/item?", "body": "<p>Thank you so much unicorn2! </p>\n\n<p>Now if I create separate function for different dialogs it will work just fine...</p>\n\n<p>Here is how I do it now...\nFirst I create different classes for different positions: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>.popup .popuptext1 {\r\n    visibility: hidden;\r\n    width: 160px;\r\n    background-color: #555;\r\n    color: #fff;\r\n    text-align: center; \r\n    border-radius: 6px;\r\n    padding: 8px 0;\r\n    position: absolute;\r\n    z-index: 1;\r\n    bottom: 125%;\r\n    left: 50%;\r\n    margin-left: -810px;  \r\n    margin-bottom: 320px; \r\n}\r\n\r\n\r\n.popup .popuptext2 {\r\n    visibility: hidden;\r\n    width: 160px;\r\n    background-color: #555;\r\n    color: #fff;\r\n    text-align: center; \r\n    border-radius: 6px;\r\n    padding: 8px 0;\r\n    position: absolute;\r\n    z-index: 1;\r\n    bottom: 125%;\r\n    left: 50%;\r\n    margin-left: -520px;  \r\n    margin-bottom: 300px;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Then I create functions for different dialogs </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>function dialog1() {\r\n    var popup = document.getElementById(\"dialog1\");\r\n    popup.classList.toggle(\"show\");\r\n\r\n    \r\n}\r\nfunction dialog2() {\r\n    var popup = document.getElementById(\"dialog2\");\r\n    popup.classList.toggle(\"show\");\r\n\r\n    \r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And after that I apply it to the image</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"popup\" onclick=\"dialog1()\"&gt;\r\n  &lt;span class=\"popuptext1\" id=\"dialog1\"&gt;&lt;strong&gt;Header 1&lt;/strong&gt;&lt;br&gt; Text that is different from the second one!&lt;/span&gt;\r\n\r\n &lt;area alt=\"Header\" title=\"Header\" shape=\"poly\" coords=\"122,200,125,184,94,159,63,129,42,91,31,59,38,40,59,10,89,10,111,12,132,24,140,38,153,25,174,15,210,18,230,28,245,55,246,87,224,124,178,161\" /&gt;\r\n&lt;/div&gt;\r\n\r\n\r\n\r\n\r\n\r\n&lt;div class=\"popup\" onclick=\"dialog2()\"&gt;\r\n  &lt;span class=\"popuptext2\" id=\"dialog2\"&gt;&lt;strong&gt;Header 2&lt;/strong&gt;&lt;br&gt;Thext that is not the same as the first one&lt;/span&gt;\r\n &lt;area alt=\"Header2\" title=\"Header2\" shape=\"poly\" coords=\"417,200,419,183,389,160,336,97,327,61,339,26,356,14,380,11,404,13,418,20,432,34,450,28,477,17,508,19,535,41,536,81,525,112\" /&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I wish I knew some better slick way of doing it... than creating different functions for different dialogs... but I am too unexperienced  yet. </p>\n\n<p>Thank you &lt;3 \nI hope this will help some newbies like me in future! </p>\n"}], "owner": {"reputation": 49, "user_id": 9362484, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QyNJdk_r7mM/AAAAAAAAAAI/AAAAAAAAAgk/IgkNIDJ9jm8/photo.jpg?sz=128", "display_name": "inarisound inarisound", "link": "https://stackoverflow.com/users/9362484/inarisound-inarisound"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 424, "favorite_count": 0, "accepted_answer_id": 48798281, "answer_count": 2, "score": 1, "last_activity_date": 1518654096, "creation_date": 1518652129, "last_edit_date": 1518653610, "question_id": 48798069, "link": "https://stackoverflow.com/questions/48798069/how-to-make-popup-text-when-you-click-on-the-link-item", "title": "How to make popup text when you click on the link/item?", "body": "<p>I am sorry for extremely straight forward question for web developers...  would really appreciate your help here!</p>\n\n<p>I have an image that I split into sections using <code>&lt;\\map&gt;</code></p>\n\n<p>Example: </p>\n\n<pre><code>&lt;map name=\"guessing_game\"&gt;\n\n&lt;area alt=\"\" title=\"\" href=\"#1\" shape=\"poly\" coords=\"709,202,714,187,687,161,655,138,628,90,621,59,630,35,640,19,661,12,686,12,705,17,722,31,729,36,751,22,774,18,801,26,817,33,832,65,821,109\" /&gt;\n\n\n &lt;area alt=\"\" title=\"\" href=\"#2\" shape=\"poly\" coords=\"275,363,280,350,240,317,202,268,189,227,200,193,219,178,247,178,264,175,285,193,295,204,313,189,342,183,369,186,392,202,400,231,395,267,363,309\" /&gt;\n\n&lt;area alt=\"\" title=\"\" href=\"#3\" shape=\"poly\" coords=\"554,364,557,351,520,318,473,260,468,227,471,203,481,187,506,178,521,174,548,180,562,189,569,203,579,201,594,186,626,182,651,186,668,207,676,235,668,263,646,299\" /&gt;\n&lt;/map&gt;\n</code></pre>\n\n<p>I would like to make a popup effect the same as in <a href=\"https://www.w3schools.com/howto/tryit.asp?filename=tryhow_js_popup\" rel=\"nofollow noreferrer\">this example</a></p>\n\n<p>So if someone will click on the link/aria they will get a different dialog.... with different position of the popup bubble.</p>\n\n<p>Unfortunately I ran into the issue that if I try to use multiple text variations.... using the example above it will always return the same text no matter what link/aria I will click on. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;style&gt;\r\n/* Popup container - can be anything you want */\r\n.popup {\r\n    position: relative;\r\n    display: inline-block;\r\n    cursor: pointer;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n/* The actual popup */\r\n.popup .popuptext1 {\r\n    visibility: hidden;\r\n    width: 160px;\r\n    background-color: #555;\r\n    color: #fff;\r\n    text-align: center; \r\n    border-radius: 6px;\r\n    padding: 8px 0;\r\n    position: absolute;\r\n    z-index: 1;\r\n    bottom: 125%;\r\n    left: 50%;\r\n    margin-left: -810px;  \r\n    margin-bottom: 320px; \r\n}\r\n\r\n\r\n.popup .popuptext2 {\r\n    visibility: hidden;\r\n    width: 160px;\r\n    background-color: #555;\r\n    color: #fff;\r\n    text-align: center; \r\n    border-radius: 6px;\r\n    padding: 8px 0;\r\n    position: absolute;\r\n    z-index: 1;\r\n    bottom: 125%;\r\n    left: 50%;\r\n    margin-left: -520px;  \r\n    margin-bottom: 300px;\r\n}\r\n\r\n\r\n\r\n/* Popup arrow */\r\n.popup .popuptext::after {\r\n    content: \"\";\r\n    position: absolute;\r\n    top: 100%;\r\n    left: 50%;\r\n    margin-left: -5px;\r\n    border-width: 5px;\r\n    border-style: solid;\r\n    border-color: #555 transparent transparent transparent;\r\n}\r\n\r\n/* Toggle this class - hide and show the popup */\r\n.popup .show {\r\n    visibility: visible;\r\n    -webkit-animation: fadeIn 1s;\r\n    animation: fadeIn 1s;\r\n}\r\n\r\n/* Add animation (fade in the popup) */\r\n@-webkit-keyframes fadeIn {\r\n    from {opacity: 0;} \r\n    to {opacity: 1;}\r\n}\r\n\r\n@keyframes fadeIn {\r\n    from {opacity: 0;}\r\n    to {opacity:1 ;}\r\n}\r\n&lt;/style&gt;\r\n\r\n\r\n&lt;script&gt;\r\n// When the user clicks on div, open the popup\r\nfunction myFunction() {\r\n    var popup = document.getElementById(\"myPopup\");\r\n    popup.classList.toggle(\"show\");\r\n}\r\n\r\n\r\nfunction myFunction() {\r\n    var popup = document.getElementById(\"myPopup2\");\r\n    popup.classList.toggle(\"show\");\r\n}\r\n\r\n\r\n&lt;/script&gt;\r\n\r\n\r\n\r\n\r\n&lt;img src=\"./image.jpg\" alt=\"Picture\" style=\"width:auto;max-width:100%\" usemap=\"#guessing_game\"&gt;\r\n\r\n\r\n&lt;map name=\"guessing_game\"&gt;\r\n\r\n\r\n&lt;div class=\"popup\" onclick=\"myFunction()\"&gt;\r\n  &lt;span class=\"popuptext1\" id=\"myPopup\"&gt;&lt;strong&gt;Header&lt;/strong&gt;&lt;br&gt; First variation&lt;/span&gt;\r\n\r\n &lt;area alt=\"Header\" title=\"Header\" shape=\"poly\" coords=\"122,200,125,184,94,159,63,129,42,91,31,59,38,40,59,10,89,10,111,12,132,24,140,38,153,25,174,15,210,18,230,28,245,55,246,87,224,124,178,161\" /&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div class=\"popup\" onclick=\"myFunction()\"&gt;\r\n  &lt;span class=\"popuptext2\" id=\"myPopup2\"&gt;&lt;strong&gt;Header 2&lt;/strong&gt;&lt;br&gt;Second text variation &lt;/span&gt;\r\n &lt;area alt=\"Header 2\" title=\"Header 2\" shape=\"poly\" coords=\"417,200,419,183,389,160,336,97,327,61,339,26,356,14,380,11,404,13,418,20,432,34,450,28,477,17,508,19,535,41,536,81,525,112\" /&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>please help... I am extremely sorry for such a basic question... I am sure there is a huge and simple mistake in the CSS or javascript function </p>\n"}, {"tags": ["javascript", "html", "meta-tags"], "answers": [{"tags": [], "owner": {"reputation": 82286, "user_id": 1591669, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/oh6VZ.png?s=128&g=1", "display_name": "unor", "link": "https://stackoverflow.com/users/1591669/unor"}, "is_accepted": true, "score": 1, "last_activity_date": 1518655206, "last_edit_date": 1518655206, "creation_date": 1518654771, "answer_id": 48798451, "question_id": 48798045, "link": "https://stackoverflow.com/questions/48798045/added-meta-tags-not-picked-up-by-metatagscheck-com/48798451#48798451", "title": "Added meta tags not picked up by metatagscheck.com", "body": "<p>The tool <a href=\"http://www.metatagscheck.com/\" rel=\"nofollow noreferrer\">http://www.metatagscheck.com/</a> likely\u00b9 doesn\u2019t execute JavaScript on the page it tests. This is common for many tools (example: <a href=\"https://validator.w3.org/nu/\" rel=\"nofollow noreferrer\">W3C\u2019s HTML5 validator</a>).</p>\n\n<p>If you add the meta tags as HTML to the document (instead of adding them via JavaScript), the tool should be able to read them. Like it does read the <code>title</code>\u00b2.</p>\n\n<hr>\n\n<p>\u00b9 We can only guess here, as its source code doesn\u2019t seem to be published.</p>\n\n<p>\u00b2 The <code>title</code> element is different from the <code>meta</code>-<code>title</code> element. A <a href=\"https://webmasters.stackexchange.com/a/71880/17633\"><code>meta</code>-<code>title</code> element is invalid in HTML5</a> (it <a href=\"https://stackoverflow.com/a/16207631/1591669\">isn\u2019t registered</a>, so it\u2019s not allowed to use it).</p>\n"}], "owner": {"reputation": 1329, "user_id": 2564566, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/48180fafb78cb916699757a25ff6e90a?s=128&d=identicon&r=PG", "display_name": "Jake He", "link": "https://stackoverflow.com/users/2564566/jake-he"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 48798451, "answer_count": 1, "score": 0, "last_activity_date": 1518655206, "creation_date": 1518652007, "last_edit_date": 1518655073, "question_id": 48798045, "link": "https://stackoverflow.com/questions/48798045/added-meta-tags-not-picked-up-by-metatagscheck-com", "title": "Added meta tags not picked up by metatagscheck.com", "body": "<p>I have added <code>title</code> and <code>description</code> meta tags to the top of my <code>head</code> tag. After the page is loaded I can see the meta tags added in the source page. </p>\n\n<p>However when I check it using <a href=\"http://www.metatagscheck.com/\" rel=\"nofollow noreferrer\">http://www.metatagscheck.com/</a>, the tags are not there. </p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;script type='text/javascript'&gt;\n    var title=document.createElement('meta');\n    title.name=\"title\";\n    title.content=\"Wholesale Prices of Manufacture, Distributors, Traders, Suppliers for GCC &amp;amp; Africa\";\n\n    var description=document.createElement('meta');\n    description.name=\"description\";\n    description.content=\"Find quality products over the world to get it at your place in GCC and Africa sourced through Manufacturers, Suppliers, Wholesalers, from the UAE, India, China, Turkey, Europe and US.\";\n    document.head.insertBefore(description, document.head.firstElementChild);\n    document.head.insertBefore(title, document.head.firstElementChild);\n&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript", "jquery"], "answers": [{"tags": [], "owner": {"reputation": 52738, "user_id": 5641669, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6880a3612ebd3c531f43587a05f3a964?s=128&d=identicon&r=PG&f=1", "display_name": "Johannes", "link": "https://stackoverflow.com/users/5641669/johannes"}, "is_accepted": true, "score": 1, "last_activity_date": 1518652095, "creation_date": 1518652095, "answer_id": 48798062, "question_id": 48797991, "link": "https://stackoverflow.com/questions/48797991/getting-a-standalone-foward-slash-to-be-replaced-surrounded-by-span-tags/48798062#48798062", "title": "Getting a standalone foward slash to be replaced, surrounded by span tags", "body": "<p>You should put it into a <code>$('document').ready(function() { ... });</code>:</p>\n\n<p>(Note: I added a background color to the <code>span</code> to make the working replacement more obvious)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('document').ready(function() {\r\n  var div = $('h1');\r\n  div.html(div.html().replace(/\\//g, '&lt;span class=\"slash\"&gt;/&lt;/span&gt;'));\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>h1 {\r\n  font-size: 24px;\r\n}\r\n\r\nspan.slash {\r\n  display: inline-block;\r\n  width: auto;\r\n  margin: 0 17px;\r\n  background: yellow;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;h1&gt;\r\n  Sector: Hospitality / Year: 2018 / Review: October 2018\r\n&lt;/h1&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 295, "user_id": 7186325, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4328e04e666bc1e6dbf44adabf100028?s=128&d=identicon&r=PG&f=1", "display_name": "cmp", "link": "https://stackoverflow.com/users/7186325/cmp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "accepted_answer_id": 48798062, "answer_count": 1, "score": 0, "last_activity_date": 1518652095, "creation_date": 1518651615, "last_edit_date": 1518651963, "question_id": 48797991, "link": "https://stackoverflow.com/questions/48797991/getting-a-standalone-foward-slash-to-be-replaced-surrounded-by-span-tags", "title": "Getting a standalone foward slash to be replaced, surrounded by span tags", "body": "<p>I wish to be able to detect a \" / \" within a <code>h1</code> tag, and replace it surrounded with <code>&lt;span class=\"slash\"&gt;&lt;/span&gt;</code>, where <code>.slash</code> will act as a separator. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var div = $('h1');\r\ndiv.html(div.html().replace(/\\//g, '&lt;span class=\"slash\"&gt;/&lt;/span&gt;'));</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>h1 {\r\n  font-size: 24px;\r\n}\r\n\r\nspan.slash {\r\n  display: inline-block;\r\n  width: auto;\r\n  margin: 0 17px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;h1&gt;\r\n   Sector: Hospitality / Year: 2018 / Review: October 2018\r\n&lt;/h1&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I thought I would be able to achieve this with a simple regex. But I get an unexpected output: </p>\n\n<pre><code>&lt;h1&gt;\n  Sector: Hospitality \n      &lt;span class=\"slash\"&gt;/ Year: 2018 \n        &lt;span class=\"slash\"&gt;/ Review: October 2018\n        &lt;/span&gt;\n      &lt;/span&gt;\n&lt;/h1&gt;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "amazon-web-services", "amazon-cognito"], "owner": {"reputation": 3895, "user_id": 4040931, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/705151302/picture?type=large", "display_name": "David Alsh", "link": "https://stackoverflow.com/users/4040931/david-alsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1518651215, "creation_date": 1518651215, "question_id": 48797948, "link": "https://stackoverflow.com/questions/48797948/aws-cognito-nodejs-how-do-i-add-my-client-secret-to-validate-my-tokens", "title": "AWS cognito &amp;&amp; nodejs - How do I add my client secret to validate my tokens?", "body": "<p>I'm trying to set up a node REST wrapper for cognito to act as auth for my web service.</p>\n\n<p>Tokens are generated from node and sent to the client via endpoints like <code>/login</code></p>\n\n<p>How do I add my client secret to the SDK?</p>\n"}, {"tags": ["javascript", "php", "jquery", "function"], "comments": [{"owner": {"reputation": 5118, "user_id": 9091485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6xICk.jpg?s=128&g=1", "display_name": "Gerardo BLANCO", "link": "https://stackoverflow.com/users/9091485/gerardo-blanco"}, "edited": false, "score": 0, "creation_date": 1518651168, "post_id": 48797918, "comment_id": 84598499, "body": "This is working for me"}, {"owner": {"reputation": 5118, "user_id": 9091485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6xICk.jpg?s=128&g=1", "display_name": "Gerardo BLANCO", "link": "https://stackoverflow.com/users/9091485/gerardo-blanco"}, "edited": false, "score": 0, "creation_date": 1518651181, "post_id": 48797918, "comment_id": 84598505, "body": "I just had to add the jQuery lib"}, {"owner": {"reputation": 5118, "user_id": 9091485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6xICk.jpg?s=128&g=1", "display_name": "Gerardo BLANCO", "link": "https://stackoverflow.com/users/9091485/gerardo-blanco"}, "edited": false, "score": 0, "creation_date": 1518651198, "post_id": 48797918, "comment_id": 84598511, "body": "Do you want me to post the answer?"}, {"owner": {"reputation": 11506, "user_id": 186808, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/81e48a450b7108d5b6f4867fd1d094ba?s=128&d=identicon&r=PG", "display_name": "bobber205", "link": "https://stackoverflow.com/users/186808/bobber205"}, "edited": false, "score": 0, "creation_date": 1518651200, "post_id": 48797918, "comment_id": 84598512, "body": "Where did u copy this from lol"}, {"owner": {"reputation": 68, "user_id": 9265662, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh5.googleusercontent.com/-gZlDbHESBMQ/AAAAAAAAAAI/AAAAAAAAAFY/Q7vs9srh7h0/photo.jpg?sz=128", "display_name": "kerry sun", "link": "https://stackoverflow.com/users/9265662/kerry-sun"}, "reply_to_user": {"reputation": 11506, "user_id": 186808, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/81e48a450b7108d5b6f4867fd1d094ba?s=128&d=identicon&r=PG", "display_name": "bobber205", "link": "https://stackoverflow.com/users/186808/bobber205"}, "edited": false, "score": 1, "creation_date": 1518651345, "post_id": 48797918, "comment_id": 84598557, "body": "@bobber205 its a combination of various sources, me meddling and adding to the code and tailoring it a bit to what I need for a contact list."}, {"owner": {"reputation": 4008, "user_id": 2960971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YGf2S.png?s=128&g=1", "display_name": "IncredibleHat", "link": "https://stackoverflow.com/users/2960971/incrediblehat"}, "edited": false, "score": 1, "creation_date": 1518651900, "post_id": 48797918, "comment_id": 84598691, "body": "Please don&#39;t ask multiple different questions in a single SO posting. Your main question is &quot;why doesn&#39;t it work&quot;, which has been answered. The rest is off topic and derailing your main issue."}], "answers": [{"comments": [{"owner": {"reputation": 163228, "user_id": 383904, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/qCWYU.jpg?s=128&g=1", "display_name": "Roko C. Buljan", "link": "https://stackoverflow.com/users/383904/roko-c-buljan"}, "edited": false, "score": 0, "creation_date": 1518651447, "post_id": 48797947, "comment_id": 84598587, "body": "Can you suggest any improvement to that ugly code? Making it simpler? Perhaps using <code>data-*</code> attribute?"}, {"owner": {"reputation": 68, "user_id": 9265662, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh5.googleusercontent.com/-gZlDbHESBMQ/AAAAAAAAAAI/AAAAAAAAAFY/Q7vs9srh7h0/photo.jpg?sz=128", "display_name": "kerry sun", "link": "https://stackoverflow.com/users/9265662/kerry-sun"}, "reply_to_user": {"reputation": 163228, "user_id": 383904, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/qCWYU.jpg?s=128&g=1", "display_name": "Roko C. Buljan", "link": "https://stackoverflow.com/users/383904/roko-c-buljan"}, "edited": false, "score": 1, "creation_date": 1518651542, "post_id": 48797947, "comment_id": 84598606, "body": "You&#39;re a legend haha! Working fine now. @RokoC.Buljan it is quite ugly, but its been less than a week of me working with code :)"}, {"owner": {"reputation": 5118, "user_id": 9091485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6xICk.jpg?s=128&g=1", "display_name": "Gerardo BLANCO", "link": "https://stackoverflow.com/users/9091485/gerardo-blanco"}, "reply_to_user": {"reputation": 163228, "user_id": 383904, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/qCWYU.jpg?s=128&g=1", "display_name": "Roko C. Buljan", "link": "https://stackoverflow.com/users/383904/roko-c-buljan"}, "edited": false, "score": 0, "creation_date": 1518651666, "post_id": 48797947, "comment_id": 84598633, "body": "@RokoC.Buljan Maybe one or two jajaja. First one of the radio should be preselected. Second i would make a function for each case to make <code>listenForInputChanges()</code> a little shorter. I wouldnt change the logic. Each programmer has its own logic jajaja"}, {"owner": {"reputation": 5118, "user_id": 9091485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6xICk.jpg?s=128&g=1", "display_name": "Gerardo BLANCO", "link": "https://stackoverflow.com/users/9091485/gerardo-blanco"}, "reply_to_user": {"reputation": 68, "user_id": 9265662, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh5.googleusercontent.com/-gZlDbHESBMQ/AAAAAAAAAAI/AAAAAAAAAFY/Q7vs9srh7h0/photo.jpg?sz=128", "display_name": "kerry sun", "link": "https://stackoverflow.com/users/9265662/kerry-sun"}, "edited": false, "score": 0, "creation_date": 1518651712, "post_id": 48797947, "comment_id": 84598643, "body": "@kerrysun glas that it helped. Dont forget selecting the answer if it help you"}], "tags": [], "owner": {"reputation": 5118, "user_id": 9091485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6xICk.jpg?s=128&g=1", "display_name": "Gerardo BLANCO", "link": "https://stackoverflow.com/users/9091485/gerardo-blanco"}, "is_accepted": true, "score": 5, "last_activity_date": 1518651709, "last_edit_date": 1518651709, "creation_date": 1518651210, "answer_id": 48797947, "question_id": 48797918, "link": "https://stackoverflow.com/questions/48797918/jquery-function-not-responsive-for-radio-buttons/48797947#48797947", "title": "JQuery function not responsive for radio buttons", "body": "<p>You were missing the jQuery lib. Remember to add it in the <code>&lt;head&gt;</code> section of your page:</p>\n\n<pre><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n  listenForInputChanges();\r\n})\r\n\r\nfunction listenForInputChanges() {\r\n  $('#contactType &gt;input').change(function() {\r\n    console.log('val is ' + $(this).val())\r\n    switch ($(this).val()) {\r\n      case 'individual':\r\n        $('#nameDiv').show();\r\n        $('#companyDiv').show();\r\n        $('#titleDiv').show();\r\n        $('#phoneDiv').show();\r\n        $('#emailDiv').show();\r\n        $('#addressDiv').show();\r\n        break;\r\n\r\n      case 'team':\r\n        $('#nameDiv').show();\r\n        $('#companyDiv').show();\r\n        $('#titleDiv').hide();\r\n        $('#phoneDiv').show();\r\n        $('#emailDiv').show();\r\n        $('#addressDiv').show();\r\n        break;\r\n\r\n      case 'company':\r\n        $('#nameDiv').hide();\r\n        $('#companyDiv').show();\r\n        $('#titleDiv').hide();\r\n        $('#phoneDiv').show();\r\n        $('#emailDiv').show();\r\n        $('#addressDiv').show();\r\n        break;\r\n    }\r\n  })\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n\r\n&lt;head&gt;\r\n  &lt;title&gt;Create new contact&lt;/title&gt;\r\n  &lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" integrity=\"sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u\" crossorigin=\"anonymous\"&gt;\r\n  &lt;script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\"&gt;\r\n  &lt;/script&gt;\r\n\r\n\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n  &lt;div class=\"container\"&gt;\r\n    &lt;div class=\"row\"&gt;\r\n      &lt;form method=\"post\" class=\"form-horizontal col-md-6 col-md-offset-3\"&gt;\r\n        &lt;h2&gt;Motoko Insurance Contacts&lt;/h2&gt;\r\n\r\n\r\n        &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;\r\n        &lt;/script&gt;\r\n        &lt;link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css\" rel=\"stylesheet\" /&gt;\r\n\r\n        &lt;div class=\"form-group\"&gt;\r\n          &lt;label for=\"input\" class=\"col-sm-6 control-label\"&gt;What type of contact are you adding?&lt;/label&gt;\r\n          &lt;div id=\"contactType\" class=\"col-sm-10\"&gt;\r\n            &lt;input type=\"radio\" name=\"Contact_type\" value=\"individual\"&gt; Individual\r\n            &lt;input type=\"radio\" name=\"Contact_type\" value=\"team\"&gt; Team\r\n            &lt;input type=\"radio\" name=\"Contact_type\" value=\"company\"&gt; Company&lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\n\r\n        &lt;div id=\"nameDiv\" class=\"form-group\"&gt;\r\n          &lt;label for=\"input1\" class=\"col-sm-2 control-label\"&gt;Name&lt;/label&gt;\r\n          &lt;div class=\"col-sm-10\"&gt;\r\n            &lt;input type=\"text\" name=\"name\" class=\"form-control\" id=\"input1\" placeholder=\"Name\" /&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div id=\"companyDiv\" class=\"form-group\"&gt;\r\n          &lt;label for=\"input1\" class=\"col-sm-2 control-label\"&gt;Company&lt;/label&gt;\r\n          &lt;div class=\"col-sm-10\"&gt;\r\n            &lt;input type=\"text\" name=\"comp\" class=\"form-control\" id=\"input1\" placeholder=\"Company\" /&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div id=\"titleDiv\" class=\"form-group\"&gt;\r\n          &lt;label for=\"input1\" class=\"col-sm-2 control-label\"&gt;Title&lt;/label&gt;\r\n          &lt;div class=\"col-sm-10\"&gt;\r\n            &lt;input type=\"text\" name=\"title\" class=\"form-control\" id=\"input1\" placeholder=\"Title\" /&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div id=\"phoneDiv\" class=\"form-group\"&gt;\r\n          &lt;label for=\"input1\" class=\"col-sm-2 control-label\"&gt;Phone&lt;/label&gt;\r\n          &lt;div class=\"col-sm-10\"&gt;\r\n            &lt;input type=\"int\" name=\"urstel\" class=\"form-control\" id=\"input1\" placeholder=\"Phone\" /&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div id=\"emailDiv\" class=\"form-group\"&gt;\r\n          &lt;label for=\"input1\" class=\"col-sm-2 control-label\"&gt;E-Mail&lt;/label&gt;\r\n          &lt;div class=\"col-sm-10\"&gt;\r\n            &lt;input type=\"email\" name=\"email\" class=\"form-control\" id=\"input1\" placeholder=\"E-mail\" /&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div id=\"addressDiv\" class=\"form-group\"&gt;\r\n          &lt;label for=\"input1\" class=\"col-sm-2 control-label\"&gt;Address&lt;/label&gt;\r\n          &lt;div class=\"col-sm-10\"&gt;\r\n            &lt;input type=\"text\" name=\"location\" class=\"form-control\" id=\"input1\" placeholder=\"Address\" /&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\n\r\n        &lt;input type=\"submit\" class=\"btn btn-primary col-md-2 col-md-offset-10\" value=\"submit\" /&gt;\r\n      &lt;/form&gt;\r\n\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 163228, "user_id": 383904, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/qCWYU.jpg?s=128&g=1", "display_name": "Roko C. Buljan", "link": "https://stackoverflow.com/users/383904/roko-c-buljan"}, "edited": false, "score": 2, "creation_date": 1518651642, "post_id": 48797992, "comment_id": 84598628, "body": "How does this answers OP&#39;s issue?"}, {"owner": {"reputation": 260, "user_id": 7159820, "user_type": "registered", "profile_image": "https://graph.facebook.com/1176428412442135/picture?type=large", "display_name": "Jeroen Groenveld", "link": "https://stackoverflow.com/users/7159820/jeroen-groenveld"}, "reply_to_user": {"reputation": 163228, "user_id": 383904, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/qCWYU.jpg?s=128&g=1", "display_name": "Roko C. Buljan", "link": "https://stackoverflow.com/users/383904/roko-c-buljan"}, "edited": false, "score": 1, "creation_date": 1518651757, "post_id": 48797992, "comment_id": 84598652, "body": "He asked if he could put the javascript in a seperate file: Could I use a index.js file instead to make it easier? And if so, how to do link the index.js? Is it just"}, {"owner": {"reputation": 163228, "user_id": 383904, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/qCWYU.jpg?s=128&g=1", "display_name": "Roko C. Buljan", "link": "https://stackoverflow.com/users/383904/roko-c-buljan"}, "edited": false, "score": 1, "creation_date": 1518651797, "post_id": 48797992, "comment_id": 84598668, "body": "Even if he did it would not help :)"}, {"owner": {"reputation": 260, "user_id": 7159820, "user_type": "registered", "profile_image": "https://graph.facebook.com/1176428412442135/picture?type=large", "display_name": "Jeroen Groenveld", "link": "https://stackoverflow.com/users/7159820/jeroen-groenveld"}, "reply_to_user": {"reputation": 163228, "user_id": 383904, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/qCWYU.jpg?s=128&g=1", "display_name": "Roko C. Buljan", "link": "https://stackoverflow.com/users/383904/roko-c-buljan"}, "edited": false, "score": 1, "creation_date": 1518651883, "post_id": 48797992, "comment_id": 84598689, "body": "You&#39;re right, but it does answer 1 of his questions."}, {"owner": {"reputation": 4008, "user_id": 2960971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YGf2S.png?s=128&g=1", "display_name": "IncredibleHat", "link": "https://stackoverflow.com/users/2960971/incrediblehat"}, "edited": false, "score": 1, "creation_date": 1518651973, "post_id": 48797992, "comment_id": 84598705, "body": "Too many questions leads to too many valid answers, where only one is to be chosen. OP broke from SO guidelines. Not your fault Jeroen."}], "tags": [], "owner": {"reputation": 260, "user_id": 7159820, "user_type": "registered", "profile_image": "https://graph.facebook.com/1176428412442135/picture?type=large", "display_name": "Jeroen Groenveld", "link": "https://stackoverflow.com/users/7159820/jeroen-groenveld"}, "is_accepted": false, "score": 1, "last_activity_date": 1518651804, "last_edit_date": 1518651804, "creation_date": 1518651615, "answer_id": 48797992, "question_id": 48797918, "link": "https://stackoverflow.com/questions/48797918/jquery-function-not-responsive-for-radio-buttons/48797992#48797992", "title": "JQuery function not responsive for radio buttons", "body": "<p>To put your JavaScript in a separate file, just create a javascript file in the same directory as you .html file(For example: 'index.js'). After that put your Javascript that you have made in that file. Now you can include it using script tags:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"index.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>src points the path of the index.js file relative to your .html file.</p>\n"}], "owner": {"reputation": 68, "user_id": 9265662, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh5.googleusercontent.com/-gZlDbHESBMQ/AAAAAAAAAAI/AAAAAAAAAFY/Q7vs9srh7h0/photo.jpg?sz=128", "display_name": "kerry sun", "link": "https://stackoverflow.com/users/9265662/kerry-sun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 48797947, "answer_count": 2, "score": 0, "last_activity_date": 1518717007, "creation_date": 1518651013, "last_edit_date": 1518717007, "question_id": 48797918, "link": "https://stackoverflow.com/questions/48797918/jquery-function-not-responsive-for-radio-buttons", "title": "JQuery function not responsive for radio buttons", "body": "<p>This has been a very tricky one for me (or I'm just downright dumb). Trying to use a JQuery function to make it that when the user selects a certain radio button, the form below changes accordingly (e.g. an individual sees name, company, title, phone, email and address. company only sees company, phone, email and address. But currently clicking the radio buttons have no effect. </p>\n\n<p>I would also like to ask if: \n1) is my function $('#contactType>input'). in the right place (within the ) or should it be somewhere else? \n2) Could I use a index.js file instead to make it easier? And if so, how to do link the index.js? Is it just  </p>\n\n<p>Cheers. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n  listenForInputChanges();\r\n})\r\n\r\nfunction listenForInputChanges() {\r\n  $('#contactType &gt;input').change(function() {\r\n    console.log('val is ' + $(this).val())\r\n    switch ($(this).val()) {\r\n      case 'individual':\r\n        $('#nameDiv').show();\r\n        $('#companyDiv').show();\r\n        $('#titleDiv').show();\r\n        $('#phoneDiv').show();\r\n        $('#emailDiv').show();\r\n        $('#addressDiv').show();\r\n        break;\r\n\r\n      case 'team':\r\n        $('#nameDiv').show();\r\n        $('#companyDiv').show();\r\n        $('#titleDiv').hide();\r\n        $('#phoneDiv').show();\r\n        $('#emailDiv').show();\r\n        $('#addressDiv').show();\r\n        break;\r\n\r\n      case 'company':\r\n        $('#nameDiv').hide();\r\n        $('#companyDiv').show();\r\n        $('#titleDiv').hide();\r\n        $('#phoneDiv').show();\r\n        $('#emailDiv').show();\r\n        $('#addressDiv').show();\r\n        break;\r\n    }\r\n  })\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n\r\n&lt;head&gt;\r\n  &lt;title&gt;Create new contact&lt;/title&gt;\r\n  &lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" integrity=\"sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u\" crossorigin=\"anonymous\"&gt;\r\n  &lt;script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\"&gt;\r\n  &lt;/script&gt;\r\n\r\n\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n  &lt;div class=\"container\"&gt;\r\n    &lt;div class=\"row\"&gt;\r\n      &lt;form method=\"post\" class=\"form-horizontal col-md-6 col-md-offset-3\"&gt;\r\n        &lt;h2&gt;Motoko Insurance Contacts&lt;/h2&gt;\r\n\r\n\r\n        &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;\r\n        &lt;/script&gt;\r\n        &lt;link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css\" rel=\"stylesheet\" /&gt;\r\n\r\n        &lt;div class=\"form-group\"&gt;\r\n          &lt;label for=\"input\" class=\"col-sm-6 control-label\"&gt;What type of contact are you adding?&lt;/label&gt;\r\n          &lt;div id=\"contactType\" class=\"col-sm-10\"&gt;\r\n            &lt;input type=\"radio\" name=\"Contact_type\" value=\"individual\"&gt; Individual\r\n            &lt;input type=\"radio\" name=\"Contact_type\" value=\"team\"&gt; Team\r\n            &lt;input type=\"radio\" name=\"Contact_type\" value=\"company\"&gt; Company&lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\n\r\n        &lt;div id=\"nameDiv\" class=\"form-group\"&gt;\r\n          &lt;label for=\"input1\" class=\"col-sm-2 control-label\"&gt;Name&lt;/label&gt;\r\n          &lt;div class=\"col-sm-10\"&gt;\r\n            &lt;input type=\"text\" name=\"name\" class=\"form-control\" id=\"input1\" placeholder=\"Name\" /&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div id=\"companyDiv\" class=\"form-group\"&gt;\r\n          &lt;label for=\"input1\" class=\"col-sm-2 control-label\"&gt;Company&lt;/label&gt;\r\n          &lt;div class=\"col-sm-10\"&gt;\r\n            &lt;input type=\"text\" name=\"comp\" class=\"form-control\" id=\"input1\" placeholder=\"Company\" /&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div id=\"titleDiv\" class=\"form-group\"&gt;\r\n          &lt;label for=\"input1\" class=\"col-sm-2 control-label\"&gt;Title&lt;/label&gt;\r\n          &lt;div class=\"col-sm-10\"&gt;\r\n            &lt;input type=\"text\" name=\"title\" class=\"form-control\" id=\"input1\" placeholder=\"Title\" /&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div id=\"phoneDiv\" class=\"form-group\"&gt;\r\n          &lt;label for=\"input1\" class=\"col-sm-2 control-label\"&gt;Phone&lt;/label&gt;\r\n          &lt;div class=\"col-sm-10\"&gt;\r\n            &lt;input type=\"int\" name=\"urstel\" class=\"form-control\" id=\"input1\" placeholder=\"Phone\" /&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div id=\"emailDiv\" class=\"form-group\"&gt;\r\n          &lt;label for=\"input1\" class=\"col-sm-2 control-label\"&gt;E-Mail&lt;/label&gt;\r\n          &lt;div class=\"col-sm-10\"&gt;\r\n            &lt;input type=\"email\" name=\"email\" class=\"form-control\" id=\"input1\" placeholder=\"E-mail\" /&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div id=\"addressDiv\" class=\"form-group\"&gt;\r\n          &lt;label for=\"input1\" class=\"col-sm-2 control-label\"&gt;Address&lt;/label&gt;\r\n          &lt;div class=\"col-sm-10\"&gt;\r\n            &lt;input type=\"text\" name=\"location\" class=\"form-control\" id=\"input1\" placeholder=\"Address\" /&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\n\r\n        &lt;input type=\"submit\" class=\"btn btn-primary col-md-2 col-md-offset-10\" value=\"submit\" /&gt;\r\n      &lt;/form&gt;\r\n\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "node.js", "mongodb", "mongoose", "mongoose-schema"], "comments": [{"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1518650468, "post_id": 48797799, "comment_id": 84598293, "body": "There is no spread <a href=\"http://ecma-international.org/ecma-262/8.0/#sec-unary-operators\" rel=\"nofollow noreferrer\"><i>operator</i></a>, there is <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax\" rel=\"nofollow noreferrer\"><i>spread syntax</i></a>."}, {"owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "reply_to_user": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1518651419, "post_id": 48797799, "comment_id": 84598579, "body": "@RobG Spread operator is accepted as well.  Companys use Spread Operator phrase on their tutorials."}, {"owner": {"reputation": 63390, "user_id": 2683814, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16a4c2fb341c51388d5cdfcf0e956f6c?s=128&d=identicon&r=PG&f=1", "display_name": "s7vr", "link": "https://stackoverflow.com/users/2683814/s7vr"}, "edited": false, "score": 2, "creation_date": 1518657477, "post_id": 48797799, "comment_id": 84600183, "body": "Try <code>User.findOneAndUpdate({ _id: new ObjectID(req.body.userID)},      req.body.employee,       { overwrite: true }     );</code>"}, {"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "reply_to_user": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 0, "creation_date": 1518663424, "post_id": 48797799, "comment_id": 84601501, "body": "@Ele\u2014your unnamed sources are wrong, see <a href=\"https://stackoverflow.com/questions/44934828/is-foo-an-operator-or-syntax\"><i>Is \u2026foo an operator or syntax?</i></a>"}, {"owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "reply_to_user": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1518703577, "post_id": 48797799, "comment_id": 84621464, "body": "@RobG for example <a href=\"https://github.com/reactjs/redux\" rel=\"nofollow noreferrer\">Redux js</a> - <a href=\"https://redux.js.org/docs/recipes/UsingObjectSpreadOperator.html\" rel=\"nofollow noreferrer\">Tutorial with Spread operator</a> -  <a href=\"https://www.eventbrite.com/engineering/learning-es6-rest-spread-operators/\" rel=\"nofollow noreferrer\">Eventbrite - Rest &amp; Spread Operators</a>"}, {"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "reply_to_user": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 0, "creation_date": 1518753869, "post_id": 48797799, "comment_id": 84643536, "body": "@Ele\u2014please see in the comments section for the <a href=\"https://stackoverflow.com/questions/44934828/is-foo-an-operator-or-syntax\"><i>post I linked to</i></a>. If contributors like <a href=\"https://stackoverflow.com/users/1048572/bergi\">Bergi</a> (+300k rep) and <a href=\"https://stackoverflow.com/users/218196/felix-kling\">Felix Kling</a> (+480k rep) agree that it&#39;s not an operator, you&#39;ll need to come up with a reference of greater authority. ;-)"}, {"owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "reply_to_user": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1518761147, "post_id": 48797799, "comment_id": 84645381, "body": "@RobG reduxjs? Eventbrite? Real solutions used by thousands in the industry vs two contributors in SO? Anyway, have a good day :-)"}, {"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "reply_to_user": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 0, "creation_date": 1518771632, "post_id": 48797799, "comment_id": 84649755, "body": "@Ele\u2014sorry, but contributions from individuals (who do not represent the platforms referenced) don&#39;t trump the language specification whose authors (<a href=\"https://github.com/tc39/ecma262#ecmascript\" rel=\"nofollow noreferrer\"><i>TC39</i></a>) are people like Brendan Eich who invented the language, or MDN, which has thousands of contributors. Your choice though I guess. You might discuss it on the <a href=\"https://esdiscuss.org/\" rel=\"nofollow noreferrer\">ES-Discuss mailing list</a>."}], "owner": {"reputation": 55, "user_id": 5141496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e0bdbe31176c80a2d67a163092de2a2?s=128&d=identicon&r=PG&f=1", "display_name": "Cooper Brown", "link": "https://stackoverflow.com/users/5141496/cooper-brown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 698, "favorite_count": 2, "answer_count": 0, "score": 1, "last_activity_date": 1518652615, "creation_date": 1518650163, "last_edit_date": 1518652615, "question_id": 48797799, "link": "https://stackoverflow.com/questions/48797799/how-to-update-all-of-an-objects-properties-with-spread-syntax-with-mongoose-and", "title": "How to update all of an object&#39;s properties with spread syntax with Mongoose and Node", "body": "<p>Thank you in advance, Im really stuck on this! </p>\n\n<p>I have a User object in the database like such:\n<pre><code>{\n    \"_id\": {\n        \"$oid\": \"5a83470e722c1e00142e2216\"\n    },\n    \"first_name\": \"Test\",\n    \"last_name\": \"User\",\n    \"password\": \"$2a$10$FdsPkcjeLOpwfCRCHOSg6eqVDrDlbpi330tyG/Z.XPl3dKzX5K3s.\",\n    \"email\": \"test.com\",\n    \"role\": 3\n}</pre></code></p>\n\n<p>So I'm calling a function that is supposed to update an object, like a user just edited their profile.\nThis is the body of my request:\n<pre><code>\n{\n    \"userID\": \"5a83470e722c1e00142e2216\",\n    \"employee\": {\n        \"first_name\": \"TestNEW\",\n        \"last_name\": \"UserNEW\",\n        \"password\": \"$2a$10$FdsPkcjeLOpwfCRCHOSg6eqVDrDlbpi330tyG/Z.XPl3dKzX5K3s.\",\n        \"email\": \"NEWUSER.com\",\n        \"role\": 3\n    }\n}\n</pre></code></p>\n\n<p>When I update the object, I want to $set or $update the entire user object, except for the _id. So, Im using this:\n<pre><code>User.findOneAndUpdate({ _id: new ObjectID(req.body.userID)},\n { $set: { ...req.body.employee } }, function(err, user)...etc etc</pre></code></p>\n\n<p>But that doesnt work of course! So Im wondering how I can $set or $update (not sure which) all of the properties on the Object except for its _id, without using brute force like <pre><code>{ $set: { first_name: req.body.employee.firstName, last_name: req.body.employee.lastName, ...etc etc etc } }</pre></code> \nI know this way works, but I want to do it in a cooler way of course, can anybody help? Thank you!</p>\n"}, {"tags": ["javascript", "html", "function", "validation"], "comments": [{"owner": {"reputation": 3744, "user_id": 2417483, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FYmKn.jpg?s=128&g=1", "display_name": "jeff", "link": "https://stackoverflow.com/users/2417483/jeff"}, "edited": false, "score": 0, "creation_date": 1518651474, "post_id": 48797791, "comment_id": 84598593, "body": "ANY syntax error in your JavaScript will cause the form to submit. The first error is &#39;if (name_length&lt;10)&#39; because name_length is not defined. Since you are learning then also learn how to use the browser dev tools especially console and source. Also learn breakpoints and single stepping through your code."}, {"owner": {"reputation": 196, "user_id": 6588003, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-P5IhC_jHYC0/AAAAAAAAAAI/AAAAAAAAA8c/uI5m9GAyDm8/photo.jpg?sz=128", "display_name": "Karan Asthana", "link": "https://stackoverflow.com/users/6588003/karan-asthana"}, "reply_to_user": {"reputation": 3744, "user_id": 2417483, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FYmKn.jpg?s=128&g=1", "display_name": "jeff", "link": "https://stackoverflow.com/users/2417483/jeff"}, "edited": false, "score": 0, "creation_date": 1518724454, "post_id": 48797791, "comment_id": 84634243, "body": "Thanks @jeff . Learnt about console. Makes things so easier."}], "answers": [{"comments": [{"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1518650800, "post_id": 48797845, "comment_id": 84598388, "body": "This still throws errors for me, an only seems to check the name input."}], "tags": [], "owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "is_accepted": false, "score": 1, "last_activity_date": 1518650984, "last_edit_date": 1518650984, "creation_date": 1518650484, "answer_id": 48797845, "question_id": 48797791, "link": "https://stackoverflow.com/questions/48797791/basic-html-javascript-based-form-validation/48797845#48797845", "title": "Basic HTML-Javascript based form validation", "body": "<p>You're trying to get the length of name as follow: <code>name_length</code> this is a typo, however, you have another error:  a <code>continue</code> keyword</p>\n\n<pre><code>if((/(\\w|\\d|.)/).test(before_at))\n    continue;\n    ^\nelse\n</code></pre>\n\n<p><strong>Changed to:</strong></p>\n\n<pre><code>if((/(\\w|\\d|.)/).test(before_at)) {\n    //continue; You need to modify this part.\n} else {\n    alert(\"Please enter a valid email address\");\n    return false;\n}\n</code></pre>\n\n<p>You need to understand that <code>continue</code> keyword must be placed within a loop, i.e: <code>for-loop</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;title&gt; My first web app &lt;/title&gt;\r\n&lt;script type=\"text/javascript\"&gt;\r\nfunction validate(e){\r\n\r\n    var name=document.getElementById('name_id').value;\r\n    var email=document.getElementById('email_id').value;\r\n    var age=document.getElementById('age_id').value;\r\n    var state=document.getElementById('state_id').value;\r\n    var address=document.getElementById('address_id').value;\r\n\r\n    //checking conditions for name\r\n    if (name.length&lt;10)\r\n    {\r\n      alert('Please enter name correctly!');\r\n        return false;\r\n    }\r\n    if(!(/\\w \\w/.test(name2)))\r\n    {\r\n        alert(\"Please enter name correctly!\");\r\n        return false;\r\n    }\r\n    if(/\\d/.test(name2))\r\n    {\r\n        alert(\"Name cannot contain digits\");\r\n        return false;\r\n    }\r\n\r\n    //checking conditions for email\r\n    var index_of_at = name.indexOf('@');\r\n    if(index_of_at == -1)\r\n    {\r\n        alert(\"Please enter a valid email address\");\r\n        return false;\r\n    }\r\n    else\r\n    {\r\n            var befor_at = email.substring(0,index_of_at);\r\n            var after_at =email.substring(index_of_at+1,email.length);\r\n            if(!(/[!-$?]/.test(before_at)))\r\n            {\r\n                if((/(\\w|\\d|.)/).test(before_at)) {\r\n                    //continue;\r\n                } else\r\n                {\r\n                alert(\"Please enter a valid email address\");\r\n                return false;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            alert(\"Please enter a valid email address\");\r\n            return false;\r\n        }\r\n\r\n\r\n} \r\n\r\n//checking conditions for age\r\nif(/\\w/.test(age))\r\n{\r\n    alert(\"Please enter a valid Age\");\r\n    return false;\r\n}\r\nelse\r\n{\r\n    if(age&gt;100 || age&lt;0)\r\n    {\r\n        alert(\"Please enter age btetween 0 and 100\");\r\n        return false;\r\n    }\r\n}\r\nreturn false;\r\n}\r\n&lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;h1 style = \"text-align : center;\"&gt; Enter Details &lt;/h1&gt;\r\n&lt;form action = \"C:\\Users\\hp\\Documents\\Orgzit Project\\handle.html\"     method=\"post\" onsubmit=\"return validate(event);\"&gt;\r\n  Name:&lt;br&gt;\r\n  &lt;input type=\"text\" name=\"name\" id=\"name_id\"&gt;&lt;br&gt;\r\n  Email:&lt;br&gt;\r\n  &lt;input type=\"text\" name=\"email\" id=\"email_id\"&gt;&lt;br&gt;\r\n  Age:&lt;br&gt;\r\n  &lt;input type=\"text\" name=\"age\" id=\"age_id\"&gt;&lt;br&gt;\r\n  State:&lt;br&gt;\r\n  &lt;input type=\"text\" name=\"state\" id=\"state_id\"&gt;&lt;br&gt;\r\n  Address:&lt;br&gt;\r\n  &lt;input type=\"text\" name=\"address\" id=\"address_id\"&gt;&lt;br&gt;\r\n  Photo: &lt;br&gt;\r\n  &lt;input type=\"img\" name=\"display-picture\" id=photo_id&gt;  \r\n  &lt;br&gt; &lt;br&gt; &lt;br&gt;\r\n  &lt;input type=\"submit\" value =\"Submit\"&gt;\r\n&lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 196, "user_id": 6588003, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-P5IhC_jHYC0/AAAAAAAAAAI/AAAAAAAAA8c/uI5m9GAyDm8/photo.jpg?sz=128", "display_name": "Karan Asthana", "link": "https://stackoverflow.com/users/6588003/karan-asthana"}, "edited": false, "score": 0, "creation_date": 1518724759, "post_id": 48798077, "comment_id": 84634415, "body": "Thanks Akansh. Could you please explain me as to what does the $(&#39;#userForm&#39;) do? And how exactly does it link the form to the function in the script?"}, {"owner": {"reputation": 66, "user_id": 1650900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5e9a6a870ce1b25deb51f467c341f2c?s=128&d=identicon&r=PG", "display_name": "Akansh Braj", "link": "https://stackoverflow.com/users/1650900/akansh-braj"}, "reply_to_user": {"reputation": 196, "user_id": 6588003, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-P5IhC_jHYC0/AAAAAAAAAAI/AAAAAAAAA8c/uI5m9GAyDm8/photo.jpg?sz=128", "display_name": "Karan Asthana", "link": "https://stackoverflow.com/users/6588003/karan-asthana"}, "edited": false, "score": 0, "creation_date": 1518724919, "post_id": 48798077, "comment_id": 84634497, "body": "Sure, $(&quot;#userForm&quot;) select your form as an  DOM object for jquery so that you can perform the validation, action, event .. etc..."}], "tags": [], "owner": {"reputation": 66, "user_id": 1650900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5e9a6a870ce1b25deb51f467c341f2c?s=128&d=identicon&r=PG", "display_name": "Akansh Braj", "link": "https://stackoverflow.com/users/1650900/akansh-braj"}, "is_accepted": false, "score": 0, "last_activity_date": 1518652164, "creation_date": 1518652164, "answer_id": 48798077, "question_id": 48797791, "link": "https://stackoverflow.com/questions/48797791/basic-html-javascript-based-form-validation/48798077#48798077", "title": "Basic HTML-Javascript based form validation", "body": "<p>If you want to start learning web development with html and javascript, i suggest learn shortest way to do it. For javascript validation check this <a href=\"https://jqueryvalidation.org/\" rel=\"nofollow noreferrer\">jquery validation</a></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt; My first web app &lt;/title&gt;\n&lt;script type=\"text/javascript\" src=\"https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"https://cdn.jsdelivr.net/npm/jquery-validation@1.17.0/dist/jquery.validate.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n &lt;h1 style = \"text-align : center;\"&gt; Enter Details &lt;/h1&gt;\n &lt;form action = \"C:\\Users\\hp\\Documents\\Orgzit Project\\handle.html\" name=\"userForm\" id=\"userForm\" method=\"post\"&gt;\n Name:&lt;br&gt;\n &lt;input type=\"text\" name=\"name\" id=\"name_id\"&gt;&lt;br&gt;\n Email:&lt;br&gt;\n &lt;input type=\"text\" name=\"email\" id=\"email_id\"&gt;&lt;br&gt;\n Age:&lt;br&gt;\n &lt;input type=\"text\" name=\"age\" id=\"age_id\"&gt;&lt;br&gt;\n State:&lt;br&gt;\n &lt;input type=\"text\" name=\"state\" id=\"state_id\"&gt;&lt;br&gt;\n Address:&lt;br&gt;\n &lt;input type=\"text\" name=\"address\" id=\"address_id\"&gt;&lt;br&gt;\n Photo: &lt;br&gt;\n &lt;input type=\"img\" name=\"display-picture\" id=photo_id&gt;  \n &lt;br&gt; &lt;br&gt; &lt;br&gt;\n &lt;input type=\"submit\" value =\"Submit\"&gt;\n &lt;/form&gt;\n&lt;script type=\"text/javascript\"&gt;\n$('#userForm').validate({\n    rules: {\n        name :{\n            required : true\n        },\n        email: {\n            required : true,\n            email : true,\n        },\n        age: {\n            required: true,\n            minlength:18, // Can define minimum age  \n            maxlength:60  // max page\n        }\n    },\n    submitHandler: function(form) {\n        alert(\"All Well\") ; \n        $(\"#userForm\").submit(); // form tag id to sumit the form\n        return false ;\n    }\n});\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>With jquery validation you can lots too much work with very short hand code.</p>\n\n<p>Hope this will help, All the best.</p>\n"}], "owner": {"reputation": 196, "user_id": 6588003, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-P5IhC_jHYC0/AAAAAAAAAAI/AAAAAAAAA8c/uI5m9GAyDm8/photo.jpg?sz=128", "display_name": "Karan Asthana", "link": "https://stackoverflow.com/users/6588003/karan-asthana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 295, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1518652164, "creation_date": 1518650131, "question_id": 48797791, "link": "https://stackoverflow.com/questions/48797791/basic-html-javascript-based-form-validation", "title": "Basic HTML-Javascript based form validation", "body": "<p>I am very new to js and html, could someone help me understand as to why my page is getting redirected to the next page even if the validation fails and my \"validate()\" function returns only FALSE!</p>\n\n<p>I have created a form that takes name, age, email, state etc as input and it should ideally validate them and then proceed towards the next page.</p>\n\n<p>Here is the code :</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt; My first web app &lt;/title&gt;\n&lt;script type=\"text/javascript\"&gt;\nfunction validate(){\n    var name=document.getElementById('name_id').value;\n    var email=document.getElementById('email_id').value;\n    var age=document.getElementById('age_id').value;\n    var state=document.getElementById('state_id').value;\n    var address=document.getElementById('address_id').value;\n\n    //checking conditions for name\n    if (name_length&lt;10)\n    {\n        return false;\n    }\n    if(!(/\\w \\w/.test(name2)))\n    {\n        alert(\"Please enter name correctly!\");\n        return false;\n    }\n    if(/\\d/.test(name2))\n    {\n        alert(\"Name cannot contain digits\");\n        return false;\n    }\n\n    //checking conditions for email\n    var index_of_at = name.indexOf('@');\n    if(index_of_at == -1)\n    {\n        alert(\"Please enter a valid email address\");\n        return false;\n    }\n    else\n    {\n            var befor_at = email.substring(0,index_of_at);\n            var after_at =email.substring(index_of_at+1,email.length);\n            if(!(/[!-$?]/.test(before_at)))\n            {\n                if((/(\\w|\\d|.)/).test(before_at))\n                    continue;\n                else\n                {\n                alert(\"Please enter a valid email address\");\n                return false;\n            }\n        }\n        else\n        {\n            alert(\"Please enter a valid email address\");\n            return false;\n        }\n\n\n} \n\n//checking conditions for age\nif(/\\w/.test(age))\n{\n    alert(\"Please enter a valid Age\");\n    return false;\n}\nelse\n{\n    if(age&gt;100 || age&lt;0)\n    {\n        alert(\"Please enter age btetween 0 and 100\");\n        return false;\n    }\n}\nreturn false;\n}\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1 style = \"text-align : center;\"&gt; Enter Details &lt;/h1&gt;\n&lt;form action = \"C:\\Users\\hp\\Documents\\Orgzit Project\\handle.html\"     method=\"post\" onsubmit=\"return validate();\"&gt;\n  Name:&lt;br&gt;\n  &lt;input type=\"text\" name=\"name\" id=\"name_id\"&gt;&lt;br&gt;\n  Email:&lt;br&gt;\n  &lt;input type=\"text\" name=\"email\" id=\"email_id\"&gt;&lt;br&gt;\n  Age:&lt;br&gt;\n  &lt;input type=\"text\" name=\"age\" id=\"age_id\"&gt;&lt;br&gt;\n  State:&lt;br&gt;\n  &lt;input type=\"text\" name=\"state\" id=\"state_id\"&gt;&lt;br&gt;\n  Address:&lt;br&gt;\n  &lt;input type=\"text\" name=\"address\" id=\"address_id\"&gt;&lt;br&gt;\n  Photo: &lt;br&gt;\n  &lt;input type=\"img\" name=\"display-picture\" id=photo_id&gt;  \n  &lt;br&gt; &lt;br&gt; &lt;br&gt;\n  &lt;input type=\"submit\" value =\"Submit\"&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Could somebody please help me with why my code redirects directly to handle.html without checking for validations?</p>\n"}, {"tags": ["javascript", "button", "getelementbyid", "alphabet"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1518650057, "post_id": 48797765, "comment_id": 84598169, "body": "You should start solving this by finding out whether you really need to copy and paste 26 buttons into your document. All of this code is a grave violation of the DRY principle. Shelve this for now and learn about how to properly use functions and avoid duplicate code."}, {"owner": {"reputation": 311858, "user_id": 6782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dc8c4ddd99b446c28d2e1546c457e508?s=128&d=identicon&r=PG", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6782/alnitak"}, "edited": false, "score": 0, "creation_date": 1518650133, "post_id": 48797765, "comment_id": 84598188, "body": "avoiding inline event handlers would help, too..."}, {"owner": {"reputation": 7, "user_id": 4622252, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/db6a710f4c6483f3380e9058b72f5ee4?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Tang", "link": "https://stackoverflow.com/users/4622252/andy-tang"}, "edited": false, "score": 0, "creation_date": 1518650290, "post_id": 48797765, "comment_id": 84598227, "body": "Chris,the recommendation you gave is the the question we asked."}, {"owner": {"reputation": 311858, "user_id": 6782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dc8c4ddd99b446c28d2e1546c457e508?s=128&d=identicon&r=PG", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6782/alnitak"}, "edited": false, "score": 0, "creation_date": 1518650386, "post_id": 48797765, "comment_id": 84598262, "body": "If you code works, but is inefficiently coded, you should probably be asking on codereview.stackexchange.com"}, {"owner": {"reputation": 7, "user_id": 4622252, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/db6a710f4c6483f3380e9058b72f5ee4?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Tang", "link": "https://stackoverflow.com/users/4622252/andy-tang"}, "edited": false, "score": 0, "creation_date": 1518650551, "post_id": 48797765, "comment_id": 84598319, "body": "Alnitak, it works. But two buttons are not what we want. We try to use one button, but it did not work well. I will post the code not working."}, {"owner": {"reputation": 311858, "user_id": 6782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dc8c4ddd99b446c28d2e1546c457e508?s=128&d=identicon&r=PG", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6782/alnitak"}, "edited": false, "score": 1, "creation_date": 1518650703, "post_id": 48797765, "comment_id": 84598358, "body": "Right, it wasn&#39;t completely clear that your problem is how to use one button <i>instead of two</i>."}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 4622252, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/db6a710f4c6483f3380e9058b72f5ee4?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Tang", "link": "https://stackoverflow.com/users/4622252/andy-tang"}, "edited": false, "score": 0, "creation_date": 1518652904, "post_id": 48798021, "comment_id": 84598957, "body": "Alnitak, the code you gave is very succinct. Thank you very much!"}, {"owner": {"reputation": 311858, "user_id": 6782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dc8c4ddd99b446c28d2e1546c457e508?s=128&d=identicon&r=PG", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6782/alnitak"}, "reply_to_user": {"reputation": 7, "user_id": 4622252, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/db6a710f4c6483f3380e9058b72f5ee4?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Tang", "link": "https://stackoverflow.com/users/4622252/andy-tang"}, "edited": false, "score": 0, "creation_date": 1518652951, "post_id": 48798021, "comment_id": 84598971, "body": "@AndyTang I just shortened the <code>addEventListener</code> line too."}], "tags": [], "owner": {"reputation": 311858, "user_id": 6782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dc8c4ddd99b446c28d2e1546c457e508?s=128&d=identicon&r=PG", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6782/alnitak"}, "is_accepted": false, "score": 1, "last_activity_date": 1518653524, "last_edit_date": 1518653524, "creation_date": 1518651817, "answer_id": 48798021, "question_id": 48797765, "link": "https://stackoverflow.com/questions/48797765/how-do-you-use-one-button-to-switch-upper-case-and-lower-case-by-using-javascrip/48798021#48798021", "title": "How do you use one button to switch upper case and lower case by using javascript", "body": "<p>This should do it:</p>\n\n<pre><code>(function() { // closure to encapsulate the toggle state\n\n  // choose the initial case\n  var is_upper = true;\n\n  // get the toggle button's ID\n  var toggle = document.getElementById('myBtn_toggle');\n\n  // helper function that sets the buttons how you want\n  function update() {\n    toggle.value = is_upper ? '\\u21E9' : '\\u21E7';\n    for (var c = 1; c &lt;= 26; ++c) {\n      var lc = String.fromCharCode(96 + c);\n      var uc = String.fromCharCode(64 + c);\n      var el = document.getElementById('myBtn_' + lc);\n      if (!el) continue;\n      el.value = is_upper ? uc : lc;\n    }  \n  }\n\n  // add an event handler _properly_, without inline handlers\n  toggle.addEventListener('click', function() {\n    is_upper = !is_upper; // flip the case\n    update();             // update the buttons\n  });\n\n  update();               // make sure the page starts how you want\n\n})(); // execute the above closure immediately\n</code></pre>\n\n<p>Demo at <a href=\"https://jsfiddle.net/alnitak/1c5x76uf/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/alnitak/1c5x76uf/</a></p>\n"}], "owner": {"reputation": 7, "user_id": 4622252, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/db6a710f4c6483f3380e9058b72f5ee4?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Tang", "link": "https://stackoverflow.com/users/4622252/andy-tang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1518653524, "creation_date": 1518649929, "last_edit_date": 1518652179, "question_id": 48797765, "link": "https://stackoverflow.com/questions/48797765/how-do-you-use-one-button-to-switch-upper-case-and-lower-case-by-using-javascrip", "title": "How do you use one button to switch upper case and lower case by using javascript", "body": "<p>We need one button to switch upper case and lower case of 26 alphabet by using JavaScript, just like android input method did. The code of using two button is as below. In order to save space, we just gave 3 alphabet button.</p>\n\n<p>Any help is appreciated!</p>\n\n<pre><code>&lt;input type=\"button\" id=\"myBtn_q\" onclick=\"myFunctionTest(this.value)\" value=\"q\"&gt; \n&lt;input type=\"button\" id=\"myBtn_w\" onclick=\"myFunctionTest(this.value)\" value=\"w\"&gt;\n&lt;input type=\"button\" id=\"myBtn_e\" onclick=\"myFunctionTest(this.value)\" value=\"e\"&gt;\n&lt;input type=\"button\" id=\"myBtn_upperCase\" onclick=\"myFunctionupperCase()\" value=\"upperCase\"&gt;\n&lt;input type=\"button\" id=\"myBtn_lowerCase\" onclick=\"myFunctionlowerCase()\" value=\"lowerCase\"&gt;\n\nfunction myFunctionupperCase() {\n    if(document.getElementById(\"myBtn_a\").value==\"a\"){\n     alert(document.getElementById(\"myBtn_a\").value);\n     var controller=97;\n        for (controller=97; controller &lt; 123; controller++) { \n            var id_code=\"myBtn_\"+String.fromCharCode(controller);\n            //alert(id_code);\n            document.getElementById(id_code).value=String.fromCharCode(controller-32);\n            }\n    }\n}\nfunction myFunctionlowerCase() {\n    if(document.getElementById(\"myBtn_a\").value==\"A\"){\n     alert(document.getElementById(\"myBtn_a\").value);\n        var controller=65;\n        for (controller=65; controller &lt; 91; controller++) { \n            var id_code=\"myBtn_\"+String.fromCharCode(controller).toLowerCase();\n            //alert(id_code);\n            document.getElementById(id_code).value=String.fromCharCode(controller+32);\n            }\n    }\n}\n</code></pre>\n\n<p>We attempt to combine two button's code into one button. However, it did not works. The code is as below.</p>\n\n<pre><code>&lt;input type=\"button\" id=\"myBtn_caseChange\" onclick=\"myFunctioncaseChange()\" value=\"caseChange\"&gt;\n\nfunction myFunctioncaseChange() {\n    if(document.getElementById(\"myBtn_a\").value==\"a\"){\n        document.getElementById(\"myBtn_caseChange\").value==\"Lower Case\"\n        alert(document.getElementById(\"myBtn_a\").value);\n        var controller=97;\n        for (controller=97; controller &lt; 123; controller++) { \n            var id_code=\"myBtn_\"+String.fromCharCode(controller);\n                document.getElementById(id_code).value=String.fromCharCode(controller-32);\n            }\n    }\n    if(document.getElementById(\"myBtn_a\").value==\"A\"){\n        document.getElementById(\"myBtn_caseChange\").value==\"Upper Case\"\n        alert(document.getElementById(\"myBtn_a\").value);\n        var controller=65;\n        for (controller=65; controller &lt; 91; controller++) { \n            var id_code=\"myBtn_\"+String.fromCharCode(controller).toLowerCase();\n                document.getElementById(id_code).value=String.fromCharCode(controller+32);\n            }\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "microsoft-edge", "indexeddb"], "answers": [{"comments": [{"owner": {"reputation": 7972, "user_id": 786644, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9d5e64181fe1ce8507a0e9894ccf6447?s=128&d=identicon&r=PG", "display_name": "dumbmatter", "link": "https://stackoverflow.com/users/786644/dumbmatter"}, "edited": false, "score": 1, "creation_date": 1518733276, "post_id": 48798990, "comment_id": 84638463, "body": "If you&#39;d rather use getAll, here is a shim <a href=\"https://github.com/dumbmatter/IndexedDB-getAll-shim\" rel=\"nofollow noreferrer\">github.com/dumbmatter/IndexedDB-getAll-shim</a> - the implementation is basically the same as your code, but it would allow you to transparently use the native implementation of getAll in non-Edge browsers, which will be faster."}], "tags": [], "owner": {"reputation": 114, "user_id": 9339712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40f36a603ca64f59f2d3acbb5a0a30bd?s=128&d=identicon&r=PG&f=1", "display_name": "Maciej21592", "link": "https://stackoverflow.com/users/9339712/maciej21592"}, "is_accepted": false, "score": 0, "last_activity_date": 1518659659, "creation_date": 1518659659, "answer_id": 48798990, "question_id": 48797756, "link": "https://stackoverflow.com/questions/48797756/indexeddb-microsoft-edge-getall-method/48798990#48798990", "title": "IndexedDB - Microsoft Edge .getAll method", "body": "<p>Alright, I am officialy a dummie, found the solution <a href=\"https://stackoverflow.com/questions/41940722/how-to-get-multiple-key-value-from-indexeddb-objectstore\">here</a>, I have absolutely no clue how I managed to miss it when searching for the solution earlier. Use <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/IDBCursor\" rel=\"nofollow noreferrer\">IDBCursor</a> interface instead. Here is the solution in code in case someone had a similar issue.</p>\n\n<pre><code>var retrievedItems = [];\n    db.transaction('object').objectStore('object').openCursor().onsuccess = function(event) {\n    var cursor = event.target.result;\n    if(cursor) {\n        retrievedItems.push(cursor.value);\n        cursor.continue();\n    } else {\n        // no more keys remaining\n        console.log(retrievedItems);\n    }\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15856, "user_id": 2204759, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/DqQca.jpg?s=128&g=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/2204759/josh"}, "is_accepted": true, "score": 0, "last_activity_date": 1518666773, "last_edit_date": 1518666773, "creation_date": 1518666342, "answer_id": 48799660, "question_id": 48797756, "link": "https://stackoverflow.com/questions/48797756/indexeddb-microsoft-edge-getall-method/48799660#48799660", "title": "IndexedDB - Microsoft Edge .getAll method", "body": "<p>The error message suggests that the handler variable is null. Are you sure you are waiting to start a new transaction until after the upgrade handler completed? One way to be sure would be to ensure the database open request has settled. From the looks of it, your code doesn't do that. To wait, do something like:</p>\n\n<pre><code>var openRequest = indexedDB.open...;\nopenRequest.onsuccess = function() {\n  var db = openRequest.result;\n  var handle = db.transaction...;\n  // ...\n};\n</code></pre>\n\n<p>Actually, I have no idea why are you calling handler.get in that manner. There is no IDBTransaction.prototype.get method.</p>\n\n<p>Also, you might want to look into promises to help you structure the flow more clearly. Here is an example:</p>\n\n<pre><code> function open(name, version, upgradeHandler) {\n   return new Promise(function(resolve, reject) {\n      var request = indexedDB.open(name,version);\n      request.onupgradeneeded = upgradeHandler;\n      request.onsuccess = () =&gt; resolve(request.result);\n      request.onerror = () =&gt; reject(request.error);\n   });\n }\n\n function myUgpradeHandler(event) {\n   var db = event.target.result;\n   var store = db.createObjectStore(...);\n }\n\n function getItems(db) {\n   return new Promise(function(resolve, reject) {\n      var tx = db.transaction(...);\n      var request = tx.getAll();\n      request.onsuccess = () =&gt; resolve(request.result);\n      request.onerror = () =&gt; reject(request.error);\n   });\n }\n\n async function foo() {\n   var db = await open(name, version, myUpgradeHandler);\n   var items = await getItems(db);\n   for(var item of items) {\n     console.log(item);\n   }\n }\n</code></pre>\n"}], "owner": {"reputation": 114, "user_id": 9339712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40f36a603ca64f59f2d3acbb5a0a30bd?s=128&d=identicon&r=PG&f=1", "display_name": "Maciej21592", "link": "https://stackoverflow.com/users/9339712/maciej21592"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1418, "favorite_count": 0, "accepted_answer_id": 48799660, "answer_count": 2, "score": -1, "last_activity_date": 1519767186, "creation_date": 1518649870, "last_edit_date": 1519767186, "question_id": 48797756, "link": "https://stackoverflow.com/questions/48797756/indexeddb-microsoft-edge-getall-method", "title": "IndexedDB - Microsoft Edge .getAll method", "body": "<p>Just recently I have been playing around with IndexedDB - using primarily Google Chrome as my debugging tool. Unfortunately enough I have pretty quickly stumbled upon an issue related strictly to incompatibility between browsers - Edge does not seem to support <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/IDBObjectStore/getAll\" rel=\"nofollow noreferrer\">.getAll method</a> on IDBObjectStore interface, \nheck the .get method seems to be pretty tricky too - all my attempts so far have resulted in the following error message:</p>\n\n<blockquote>\n  <p>Unable to get property 'message' of undefined or null reference</p>\n</blockquote>\n\n<p>Using the below code:</p>\n\n<pre><code>var db;\nfunction estabilishConnection(callback) {\n    var req = indexedDB.open('database', 1);\n    req.onsuccess = function (evt) {\n        db = evt.target.result;\n        callback();\n    }\n    req.onupgradeneeded = function (evt) {\n        var target = evt.currentTarget;\n        var store = target.result.createObjectStore('object', {autoIncrement: true});\n        store.add(\"sample1\");\n        store.add(\"sample2\");\n        store.add(\"sample3\");\n    }\n}\n\nfunction retrieveItems() {\n    var transaction = db.transaction(\"object\", \"readonly\");\n    var handler = transaction.objectStore(\"object\");\n\n    var countRequest = handler.count();\n    var total; \n    countRequest.onsuccess = function() {\n        total = countRequest.result;\n        for (var i = 0; i &lt; total; i++) {\n            var get = handler.get(i);\n            console.log(get);\n        }\n    }\n}\n\nestabilishConnection(function(evt) {\n    retrieveItems()\n});\n</code></pre>\n\n<p>My questions would be:</p>\n\n<p>a) what would be the most appropriate way to implement the .getAll method without having to rely on third party libraries such as Dexie.js? I assume that even if iterating through all the available objects had worked, it still would not have been the wisest idea in terms of performance.</p>\n\n<p>b) how to get the get method to work in Edge\n-- resolved it already alone, somehow the following snippet worked out, getting all values though remains, as for now, a mystery to me :|</p>\n\n<pre><code>db.transaction('object').objectStore('object').get(1).onsuccess = function(event) {\n    console.log(event.target.result);\n};\n</code></pre>\n"}, {"tags": ["javascript", "cookies"], "comments": [{"owner": {"reputation": 14148, "user_id": 4604701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8cb75b7c39263de208e368e72ad3ad1?s=128&d=identicon&r=PG&f=1", "display_name": "fubar", "link": "https://stackoverflow.com/users/4604701/fubar"}, "edited": false, "score": 1, "creation_date": 1518649971, "post_id": 48797732, "comment_id": 84598139, "body": "What error do you get? Which part doesn&#39;t work?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1518650888, "post_id": 48797732, "comment_id": 84598415, "body": "The <code>while</code> loop in <code>getCookie</code> can be replaced with <code>c = c.trim();</code>"}, {"owner": {"reputation": 27, "user_id": 9362459, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-3G4roqelcXc/AAAAAAAAAAI/AAAAAAAAADU/7t5-sMsEILY/photo.jpg?sz=128", "display_name": "frraj", "link": "https://stackoverflow.com/users/9362459/frraj"}, "edited": false, "score": 0, "creation_date": 1518704679, "post_id": 48797732, "comment_id": 84622226, "body": "The prompt message appear but the value is never stored. Each time it ask me again to enter the name"}], "owner": {"reputation": 27, "user_id": 9362459, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-3G4roqelcXc/AAAAAAAAAAI/AAAAAAAAADU/7t5-sMsEILY/photo.jpg?sz=128", "display_name": "frraj", "link": "https://stackoverflow.com/users/9362459/frraj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518704641, "creation_date": 1518649705, "last_edit_date": 1518704641, "question_id": 48797732, "link": "https://stackoverflow.com/questions/48797732/cookie-operations-dont-work-in-opera-or-chrome", "title": "Cookie operations don&#39;t work in Opera or Chrome", "body": "<p>I am trying to write a code which will ask a visitor of the website to enter his name, then i will store that name in a variable, next time he enter the page there will be a message saying \"hello ...\" \n... = whatever name he put. </p>\n\n<p>the code works in safari/IE/firefox but not in opera/chrome, i don't know why!! \nThe prompt message appear but the value is never stored. Each time it ask me again to enter the name\nhere is the code</p>\n\n<pre><code>function setCookie(cname, cvalue, exdays) {\n    var d = new Date();\n    d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));\n    var expires = \"expires=\"+d.toUTCString();\n    document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\n}\nfunction getCookie(cname) {\n    var name = cname + \"=\";\n    var ca = document.cookie.split(';');\n    for(var i = 0; i &lt; ca.length; i++) {\n        var c = ca[i];\n        while (c.charAt(0) == ' ') {\n            c = c.substring(1);\n        }\n        if (c.indexOf(name) == 0) {\n            return c.substring(name.length, c.length);\n        }\n    }\n    return \"\";\n}\nfunction checkCookie() {\n    var name = getCookie(\"username\");\n    if (name != \"\") {\n        document.getElementById('name').innerHTML = \"Welcome again \" + name;\n    } \n    else {\n        name = prompt(\"Please enter your name:\", \"\");\n        if (name != \"\" &amp;&amp; name != null) {\n            setCookie(\"username\", name, 365);\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "react-redux-form"], "answers": [{"tags": [], "owner": {"reputation": 19434, "user_id": 509344, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3e8fbb1b0d7f6a4fd68676e1a344b23f?s=128&d=identicon&r=PG", "display_name": "shaunhusain", "link": "https://stackoverflow.com/users/509344/shaunhusain"}, "is_accepted": true, "score": 0, "last_activity_date": 1518657414, "creation_date": 1518657414, "answer_id": 48798779, "question_id": 48797727, "link": "https://stackoverflow.com/questions/48797727/whats-the-difference-between-actions-submit-and-actions-submitfields/48798779#48798779", "title": "What&#39;s the difference between actions.submit and actions.submitFields?", "body": "<p>Appears from the ts docs that the fields one deals with validation/errors on a field by field basis whereas the regular submit does validation/error addition on the entire form as a whole:</p>\n\n<pre><code>/**\n * Waits for a submission promise to be completed, then, if successful:\n * * Sets .submitted property of form for model to true\n * * Sets .validity property of form for model to the response (or true if the response is undefined).\n *\n * If the promise fails, the action will:\n * * set .submitFailed property of form for model to true\n * * set .errors property of form for model to the response\n *\n * @param model The top-level model form key of the data to submit.\n * @param promise The promise that the submit action will wait to be resolved or rejected\n */\nsubmit: (model: string | ModelGetterFn, promise?: Promise&lt;any&gt; | undefined, options?: any) =&gt; ActionThunk;\n\n/**\n * Waits for a submission promise to be completed, then, if successful:\n * * Sets .submitted property of form for model to true\n * * Each key in the response, which represents a sub-model (e.g., \"name\" for users.name) will have its .validity set to its value.\n *\n * If the promise fails, the action will:\n *\n * * set .submitFailed property of form for model to true\n * * Each key in the response, which represents a sub-model (e.g., \"name\" for users.name) will have its .errors set to its value. (See example)\n *\n * @param model (String | Function): the model to be submitted\n * @param promise (Promise): the promise that the submit action will wait to be resolved or rejected\n */\nsubmitFields: (model: string | ModelGetterFn, promise: Promise&lt;any&gt;) =&gt; ActionThunk;\n</code></pre>\n\n<p><a href=\"https://github.com/davidkpiano/react-redux-form/blob/684f75342a43a3e8bd46b07d1baf8248ae23db98/react-redux-form.d.ts#L949\" rel=\"nofollow noreferrer\">https://github.com/davidkpiano/react-redux-form/blob/684f75342a43a3e8bd46b07d1baf8248ae23db98/react-redux-form.d.ts#L949</a></p>\n"}], "owner": {"reputation": 752, "user_id": 3814557, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/f3240009169c86f952ae51b5905b198e?s=128&d=identicon&r=PG&f=1", "display_name": "johnwick0831", "link": "https://stackoverflow.com/users/3814557/johnwick0831"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 48798779, "answer_count": 1, "score": 0, "last_activity_date": 1518677284, "creation_date": 1518649663, "last_edit_date": 1518677284, "question_id": 48797727, "link": "https://stackoverflow.com/questions/48797727/whats-the-difference-between-actions-submit-and-actions-submitfields", "title": "What&#39;s the difference between actions.submit and actions.submitFields?", "body": "<p>What's the difference between actions.submit() and actions.submitFields in react-redux-forms? The documentation isn't very clear on this matter unfortunately.</p>\n\n<p>I've tested the two functions - my form is called 'feature' and has only firstName and lastName input boxes.</p>\n\n<p>This is what I've done:</p>\n\n<p><strong>1) actions.submit('feature.firstName', somePromise)</strong></p>\n\n<p>Appears to not do anything apart from dispatching a rrf/addIntent action that looks like this:</p>\n\n<p>type(pin): \"rrf/addIntent\"\nmodel(pin): \"feature.lastName\"\ntype(pin): \"submit\"</p>\n\n<p><strong>2) actions.submit('feature')</strong> </p>\n\n<p>This actually submits the form which has the exact same behavior of my button </p>\n\n<pre><code>&lt;button type=\"submit\"&gt;\n    submit me!\n&lt;/button&gt;\n</code></pre>\n\n<p><strong>3) actions.submitFields('feature.firstName', somePromise)</strong></p>\n\n<p>same as 1)</p>\n\n<p><strong>4) actions.submitFields('feature')</strong></p>\n\n<p>same as 2)</p>\n\n<p>As far as I can tell, actions.submit and actions.submitFields are exactly the same.</p>\n\n<p>And actions.submit is provided so you can dispatch that action so you can submit the form without clicking a button to submit. </p>\n\n<p>Any I missing anything?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "php", "image", "png"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1518649786, "post_id": 48797703, "comment_id": 84598059, "body": "You can position a <code>&lt;div&gt;</code> on top of the image and color its background. You can also use <code>&lt;canvas&gt;</code> drawing, or create an image on the fly with PHP image commands. Bottom line is, you&#39;re posting here way too early."}, {"owner": {"reputation": 199, "user_id": 3915625, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/cc84697bfcda3e0b8e88bc6cf5209ce6?s=128&d=identicon&r=PG&f=1", "display_name": "dtx", "link": "https://stackoverflow.com/users/3915625/dtx"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1518650461, "post_id": 48797703, "comment_id": 84598289, "body": "I&#39;m using this image in canvas composition. I don&#39;t want to change the background of the tranasparent area, but only the visible part of the image. How can I achieve this by PHP? I think that i have to calculate where the transparent area is visible, and fill with color everything what is not transparent. Could you tell me which PHP methods are available to do this?"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1518654350, "post_id": 48797703, "comment_id": 84599350, "body": "To color the opaque pixels, you can use the <code>imageData</code> object of a <code>&lt;canvas&gt;</code> context. The data is a huge array, with each group of four values representing one pixel&#39;s R, G, B and A channels. Use the A channel to determine opaqueness, then change RGB according to the color. Again, SO isn&#39;t a &quot;how do I do X?&quot; site. You&#39;re supposed to do the research, implement a solution, then ask a question when you get really, really stuck."}, {"owner": {"reputation": 27168, "user_id": 7355741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6CMNt.jpg?s=128&g=1", "display_name": "fmw42", "link": "https://stackoverflow.com/users/7355741/fmw42"}, "edited": false, "score": 0, "creation_date": 1518666482, "post_id": 48797703, "comment_id": 84602135, "body": "Please post the actual transparent png, not one with a checkerboard pattern in its place."}, {"owner": {"reputation": 199, "user_id": 3915625, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/cc84697bfcda3e0b8e88bc6cf5209ce6?s=128&d=identicon&r=PG&f=1", "display_name": "dtx", "link": "https://stackoverflow.com/users/3915625/dtx"}, "reply_to_user": {"reputation": 27168, "user_id": 7355741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6CMNt.jpg?s=128&g=1", "display_name": "fmw42", "link": "https://stackoverflow.com/users/7355741/fmw42"}, "edited": false, "score": 0, "creation_date": 1518693861, "post_id": 48797703, "comment_id": 84614781, "body": "@fmw42 Thank you for the response. Here is a transparent png: <a href=\"https://imgur.com/9TxcJbj\" rel=\"nofollow noreferrer\">imgur.com/9TxcJbj</a> It is possible to change color only of presented tshirt?"}], "answers": [{"comments": [{"owner": {"reputation": 907, "user_id": 2515526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/cc2475efe2a90c898afa1efc62c57467?s=128&d=identicon&r=PG", "display_name": "tverghis", "link": "https://stackoverflow.com/users/2515526/tverghis"}, "edited": false, "score": 1, "creation_date": 1518654086, "post_id": 48797902, "comment_id": 84599272, "body": "Could you provide reasons as to why you think the Imagick class is the best way to proceed? Maybe a small example to illustrate how you would achieve what the OP is looking for advice on? Thanks!"}, {"owner": {"reputation": 708, "user_id": 9359945, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Raphael Deiana", "link": "https://stackoverflow.com/users/9359945/raphael-deiana"}, "reply_to_user": {"reputation": 907, "user_id": 2515526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/cc2475efe2a90c898afa1efc62c57467?s=128&d=identicon&r=PG", "display_name": "tverghis", "link": "https://stackoverflow.com/users/2515526/tverghis"}, "edited": false, "score": 0, "creation_date": 1518743829, "post_id": 48797902, "comment_id": 84641470, "body": "I just added an example to my post."}, {"owner": {"reputation": 708, "user_id": 9359945, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Raphael Deiana", "link": "https://stackoverflow.com/users/9359945/raphael-deiana"}, "reply_to_user": {"reputation": 907, "user_id": 2515526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/cc2475efe2a90c898afa1efc62c57467?s=128&d=identicon&r=PG", "display_name": "tverghis", "link": "https://stackoverflow.com/users/2515526/tverghis"}, "edited": false, "score": 0, "creation_date": 1518744593, "post_id": 48797902, "comment_id": 84641649, "body": "I think it&#39;s the best way because the client-side implementation is not supported by all browsers yet, and the command line solution with ImageMagick need to use the awful exec() function."}], "tags": [], "owner": {"reputation": 708, "user_id": 9359945, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Raphael Deiana", "link": "https://stackoverflow.com/users/9359945/raphael-deiana"}, "is_accepted": false, "score": 0, "last_activity_date": 1518743676, "last_edit_date": 1518743676, "creation_date": 1518650892, "answer_id": 48797902, "question_id": 48797703, "link": "https://stackoverflow.com/questions/48797703/change-png-image-color-by-php-js/48797902#48797902", "title": "Change PNG image color by PHP/JS", "body": "<p>You can use the PHP imagick library. I think it's the best way.</p>\n\n<p><a href=\"http://php.net/manual/en/class.imagick.php\" rel=\"nofollow noreferrer\">Imagick class</a></p>\n\n<p>For example :</p>\n\n<pre><code>&lt;?php\n\n$imageInPath = __DIR__. '\\\\image-before.png';\n$imageOutPath = __DIR__. '\\\\image-after.png';\n\n$overlayColor = '#F00'; // Red for example\n$fuzz = 0;\n\n$overlay = new Imagick( $imageInPath ); // Create imagick object\n$overlay-&gt;opaquePaintImage ( $overlay-&gt;getImagePixelColor(0, 0) , $overlayColor , $fuzz , true ); // Fill the opaque area\n\n$image = new Imagick($imageInPath); // Create imagick object\n$image-&gt;compositeImage($overlay, Imagick::COMPOSITE_DARKEN  , 0, 0); // Compose the original image with the overlay\n$image-&gt;writeImage( $imageOutPath ); // Save the image to the given path\n\n?&gt;\n</code></pre>\n\n<p>This snippet assumes that the first pixel (x=0, y=0) is transparent.</p>\n\n<p>You can change the way to apply the overlay on the picture by using another COMPOSITE constant. You can get the full list of imagick constants here : <a href=\"http://php.net/manual/fr/imagick.constants.php\" rel=\"nofollow noreferrer\">Imagick constants</a></p>\n\n<p>Don't forget to install Imagick library and to enable it in the php.ini file to get it work.</p>\n"}, {"tags": [], "owner": {"reputation": 4388, "user_id": 586652, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/IkTVT.png?s=128&g=1", "display_name": "Codesmith", "link": "https://stackoverflow.com/users/586652/codesmith"}, "is_accepted": false, "score": 0, "last_activity_date": 1518663116, "creation_date": 1518663116, "answer_id": 48799326, "question_id": 48797703, "link": "https://stackoverflow.com/questions/48797703/change-png-image-color-by-php-js/48799326#48799326", "title": "Change PNG image color by PHP/JS", "body": "<p>ImageMagick could be a good route to take (check out <a href=\"http://php.net/manual/en/book.imagick.php\" rel=\"nofollow noreferrer\">PHP.net's Imagick reference</a>, and <a href=\"http://phpimagick.com/\" rel=\"nofollow noreferrer\">phpimagick.com</a>), as it'll do the operation on the server, and 'theoretically' work no matter what, (e.g., even if the client's JS is turned off).</p>\n\n<p>If you're not able to use it (e.g., your hosting's limited), an option via JavaScript is to use an offscreen canvas, draw the images to it, generate a PNG from it, and then finally add it to the page.</p>\n\n<p>Here's an example of some working code:</p>\n\n<pre>\n// shirtPath: the url to the shirt\n// overlayPath: the url to the overlay image\n// callback: a callback that is given the image once it's generated\nfunction generateShirtOverlay(shirtPath,overlayPath,callback) {\n    // load the images\n    var loadedImages = 0;\n    function imageLoaded() {\n        loadedImages++;\n        if(loadedImages == 2) {\n            composeImages();\n        }\n    }\n    var shirtImage = new Image(),\n        overlayImage = new Image();\n    // set the image onload callbacks\n    shirtImage.onload = imageLoaded;\n    overlayImage.onload = imageLoaded;\n    // load the images\n    shirtImage.src = shirtPath;\n    overlayImage.src = overlayPath;\n\n    var generatedImage = new Image();\n    function composeImages() {\n        // get image sizes\n        var width = shirtImage.width,\n            height = shirtImage.height,\n            overlayWidth = overlayImage.width,\n            overlayHeight = overlayImage.height;\n\n        // create a canvas\n        var canvas = document.createElement(\"canvas\");\n        canvas.width = width;\n        canvas.height = height;\n\n        // draw the shirt to it\n        var context = canvas.getContext(\"2d\");\n        context.drawImage(shirtImage,0,0);\n\n        // set the global composite operator to multiply\n        // this overlays the image nicely, keeping the\n        // dark areas on the shirt dark\n        context.globalCompositeOperation = \"multiply\";\n        // draw the overlay image, centering it if it's\n        // not the same size\n        context.drawImage(overlayImage,\n                    (width - overlayWidth) / 2,\n                    (height - overlayHeight) / 2\n                );\n\n        // a bit of masking magic! for details, see:\n        // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation\n        context.globalCompositeOperation = \"destination-in\";\n        // draw the shirt again; this clips the overlay image\n        // at the shirt's edges\n        context.drawImage(shirtImage,0,0);\n\n        // finally, extract a PNG from the canvas\n        var png = canvas.toDataURL(\"image/png\");\n        generatedImage.onload = returnComposedImage();\n        // and load it to an image object\n        generatedImage.src = png;\n    }\n\n    function returnComposedImage() {\n        if(typeof callback == \"function\")\n            callback(generatedImage);\n    }\n}\n</pre>\n\n<p>This function could be called to generate the image. Ultimately, it'll call a callback, providing the generated image. Then, since it's an Image object, you can add it right to the page, e.g.:</p>\n\n<pre>\nfunction addImageToPage(image) {\n    document.body.appendChild(image);\n}\ngenerateShirtOverlay(\"images/shirt.png\", \"images/design1.png\", addImageToPage);\n</pre>\n\n<p>Please note, though, the disadvantage of client-side rendering is that not all browsers support all these canvas features. In addition, it's a little more overhead on the client-side. Fortunately, though, as it's not an extremely complex manipulation, this method uses only image blend modes, and doesn't need to iterate pixels.</p>\n"}, {"comments": [{"owner": {"reputation": 199, "user_id": 3915625, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/cc84697bfcda3e0b8e88bc6cf5209ce6?s=128&d=identicon&r=PG&f=1", "display_name": "dtx", "link": "https://stackoverflow.com/users/3915625/dtx"}, "edited": false, "score": 0, "creation_date": 1518697261, "post_id": 48800494, "comment_id": 84616989, "body": "The result of that command is resolving my problem, but I have to figure out how to achieve same result by PHP Imagick methods. Thank you."}, {"owner": {"reputation": 27168, "user_id": 7355741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6CMNt.jpg?s=128&g=1", "display_name": "fmw42", "link": "https://stackoverflow.com/users/7355741/fmw42"}, "reply_to_user": {"reputation": 199, "user_id": 3915625, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/cc84697bfcda3e0b8e88bc6cf5209ce6?s=128&d=identicon&r=PG&f=1", "display_name": "dtx", "link": "https://stackoverflow.com/users/3915625/dtx"}, "edited": false, "score": 1, "creation_date": 1518715921, "post_id": 48800494, "comment_id": 84629699, "body": "The first parenthesis is like colorizeImage at <a href=\"http://php.net/manual/en/imagick.colorizeimage.php\" rel=\"nofollow noreferrer\">php.net/manual/en/imagick.colorizeimage.php</a>. The second parenthesis is like separateImageChannel at <a href=\"http://php.net/manual/en/imagick.separateimagechannel.php\" rel=\"nofollow noreferrer\">php.net/manual/en/imagick.separateimagechannel.php</a> using the alpha channel. The compose multiply is like compositeImage at <a href=\"http://php.net/manual/en/imagick.compositeimage.php\" rel=\"nofollow noreferrer\">php.net/manual/en/imagick.compositeimage.php</a>"}], "tags": [], "owner": {"reputation": 27168, "user_id": 7355741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6CMNt.jpg?s=128&g=1", "display_name": "fmw42", "link": "https://stackoverflow.com/users/7355741/fmw42"}, "is_accepted": true, "score": 1, "last_activity_date": 1518672632, "creation_date": 1518672632, "answer_id": 48800494, "question_id": 48797703, "link": "https://stackoverflow.com/questions/48797703/change-png-image-color-by-php-js/48800494#48800494", "title": "Change PNG image color by PHP/JS", "body": "<p>Please post your actual transparent PNG input file. In lieu of that, in ImageMagick command line, this I think should work to colorize the white to sky-blue.</p>\n\n<pre><code>convert image.png \\\n\\( -clone 0 -alpha off -fill skyblue -colorize 100 \\) \\\n\\( -clone 0 -alpha extract \\) \\\n-compose multiply -composite \\\nresult.png\n</code></pre>\n\n<p>I do not know PHP Imagick that well. So I will leave my answer to someone to translate to Imagick.</p>\n"}], "owner": {"reputation": 199, "user_id": 3915625, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/cc84697bfcda3e0b8e88bc6cf5209ce6?s=128&d=identicon&r=PG&f=1", "display_name": "dtx", "link": "https://stackoverflow.com/users/3915625/dtx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 685, "favorite_count": 0, "accepted_answer_id": 48800494, "answer_count": 3, "score": -2, "last_activity_date": 1531703983, "creation_date": 1518649522, "last_edit_date": 1531703983, "question_id": 48797703, "link": "https://stackoverflow.com/questions/48797703/change-png-image-color-by-php-js", "title": "Change PNG image color by PHP/JS", "body": "<p>It is possible that I can change the image color of png image by php/js functions?</p>\n\n<p>I would like to change color only on non-transparent area. An example image is available here:</p>\n\n<p><img src=\"https://i.imgur.com/cmAkxec.png\" alt=\"image\"></p>\n\n<p>I would like to change colors only on the visible t-shirt not on all area.</p>\n"}, {"tags": ["javascript", "unit-testing", "jestjs", "es6-modules"], "comments": [{"owner": {"reputation": 3330, "user_id": 3507464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dgnVq.jpg?s=128&g=1", "display_name": "Albert Oliv&#233;", "link": "https://stackoverflow.com/users/3507464/albert-oliv%c3%a9"}, "edited": false, "score": 0, "creation_date": 1532415038, "post_id": 48797693, "comment_id": 89952908, "body": "Hi, Did you tried my answer? I think that&#39;s what you&#39;re looking for. Also, If it works, could you put the best answer?"}], "answers": [{"comments": [{"owner": {"reputation": 1086, "user_id": 2117153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mjUj4.png?s=128&g=1", "display_name": "bean", "link": "https://stackoverflow.com/users/2117153/bean"}, "edited": false, "score": 0, "creation_date": 1518717004, "post_id": 48798114, "comment_id": 84630308, "body": "Hi djfdev, thanks for the answer! It turns out you&#39;re right and the sample code I provided does work in my environment. What I wrote in the question turns out to be an oversimplification of the issue I&#39;m having - in my use case, the default import is a React component. Would it be worth it to edit the question to provide the actual code? Otherwise I can mark this question as answered and open a new one."}, {"owner": {"reputation": 1086, "user_id": 2117153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mjUj4.png?s=128&g=1", "display_name": "bean", "link": "https://stackoverflow.com/users/2117153/bean"}, "edited": false, "score": 0, "creation_date": 1518722292, "post_id": 48798114, "comment_id": 84633123, "body": "After thinking about this a bit more, I&#39;m going to mark your answer as correct and open a new question. Thanks again!"}, {"owner": {"reputation": 1086, "user_id": 2117153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mjUj4.png?s=128&g=1", "display_name": "bean", "link": "https://stackoverflow.com/users/2117153/bean"}, "edited": false, "score": 0, "creation_date": 1518800910, "post_id": 48798114, "comment_id": 84667466, "body": "My updated question is here: <a href=\"https://stackoverflow.com/questions/48831701/jest-how-to-mock-default-export-component-when-same-module-also-has-named-expor\" title=\"jest how to mock default export component when same module also has named expor\">stackoverflow.com/questions/48831701/&hellip;</a>"}], "tags": [], "owner": {"reputation": 4879, "user_id": 3213172, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/9h5GT.jpg?s=128&g=1", "display_name": "djfdev", "link": "https://stackoverflow.com/users/3213172/djfdev"}, "is_accepted": true, "score": 3, "last_activity_date": 1518652384, "creation_date": 1518652384, "answer_id": 48798114, "question_id": 48797693, "link": "https://stackoverflow.com/questions/48797693/jest-mock-es6-module-with-both-default-and-named-export/48798114#48798114", "title": "Jest: Mock ES6 Module with both default and named export", "body": "<p>You have a syntax error ... the <code>function</code> keyword is omitted from the default export in myModule.js. Should look like this:</p>\n\n<pre><code>import mainFunction, { utilityFunction } from './dependency';\n\nexport default function myModule() {\n    if (!utilityFunction()) return 2;\n    return mainFunction();\n}\n</code></pre>\n\n<p>I'm not sure how you got the test to run otherwise, but I just tried this out locally and it passed.</p>\n"}, {"tags": [], "owner": {"reputation": 3330, "user_id": 3507464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dgnVq.jpg?s=128&g=1", "display_name": "Albert Oliv&#233;", "link": "https://stackoverflow.com/users/3507464/albert-oliv%c3%a9"}, "is_accepted": false, "score": 18, "last_activity_date": 1532598576, "last_edit_date": 1532598576, "creation_date": 1530788264, "answer_id": 51189586, "question_id": 48797693, "link": "https://stackoverflow.com/questions/48797693/jest-mock-es6-module-with-both-default-and-named-export/51189586#51189586", "title": "Jest: Mock ES6 Module with both default and named export", "body": "<p>The other solution didn't work for me. This is how I did: </p>\n\n<pre><code>  jest.mock('../src/dependency', () =&gt; ({\n    __esModule: true,\n    utilityFunction: 'utilityFunction',\n    default: 'mainFunction'\n  }));\n</code></pre>\n\n<p>Another way to do it:</p>\n\n<pre><code>jest.unmock('../src/dependency');\n\nconst myModule = require('../src/dependency');\nmyModule.utilityFunction = 'your mock'\n</code></pre>\n"}], "owner": {"reputation": 1086, "user_id": 2117153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mjUj4.png?s=128&g=1", "display_name": "bean", "link": "https://stackoverflow.com/users/2117153/bean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8665, "favorite_count": 6, "accepted_answer_id": 48798114, "answer_count": 2, "score": 12, "last_activity_date": 1541594466, "creation_date": 1518649437, "last_edit_date": 1541594466, "question_id": 48797693, "link": "https://stackoverflow.com/questions/48797693/jest-mock-es6-module-with-both-default-and-named-export", "title": "Jest: Mock ES6 Module with both default and named export", "body": "<p>I have an ES6 module with both a default and a named export:</p>\n\n<pre><code>/** /src/dependency.js **/\n\nexport function utilityFunction() { return false; }\n\nexport default function mainFunction() { return 'foo'; }\n</code></pre>\n\n<p>Its being used by a second ES6 module:</p>\n\n<pre><code>/** /src/myModule.js **/\n\nimport mainFunction, { utilityFunction } from './dependency';\n\n// EDIT: Fixed syntax error in code sample\n// export default myModule() {\nexport default function myModule() {\n    if (!utilityFunction()) return 2;\n    return mainFunction();\n}\n</code></pre>\n\n<p>I'm trying to write a unit test for myModule.js using Jest. But when I try to mock both the named and the default import, Jest appears to only mock the named import. It continues to use the actual implementation of the default import, and doesn't allow me to mock it, even after I call .mockImplementation(). Here's the code I'm trying to use:</p>\n\n<pre><code>/** \n  * Trying to mock both named and default import. \n  * THIS DOESN'T WORK.\n  */\n\n/** /tests/myModule.test.js **/\n\nimport mainFunction, { utilityFunction } from '../src/dependency';\nimport myModule from '../src/myModule';\n\njest.mock('../src/dependency');\n\nmainFunction.mockImplementation(() =&gt; 1);\nutilityFunction.mockImplementation(() =&gt; true);\n\ndescribe('myModule', () =&gt; {\n    it('should return the return value of mainFunction when the result of utilityFunction is true', () =&gt; {\n        expect(myModule()).toEqual(1); // FAILS - actual result is 'foo'\n    });\n});\n</code></pre>\n\n<p>This behavior seems really strange to me, because when mocking JUST default imports or JUST named imports, this API works fine. For example, in the case where myModule.js only imports a default import, this is pretty easily done:</p>\n\n<pre><code>/**\n  * Trying to mock just the default import. \n  * THIS WORKS.\n  */\n\n/** /src/myModule.js **/\n\nimport mainFunction from './dependency';\n\n// EDIT: Fixed syntax error in code sample\n// export default myModule() {\nexport default function myModule() {\n    return mainFunction();\n}\n\n\n/** /tests/myModule.test.js **/\n// If only mainFunction is used by myModule.js\n\nimport mainFunction from '../src/dependency';\nimport myModule from '../src/myModule';\n\njest.mock('../src/dependency');\nmainFunction.mockImplementation(() =&gt; 1);\n\ndescribe('myModule', () =&gt; {\n    it('should return the return value of mainFunction', () =&gt; {\n        expect(myModule()).toEqual(1); // Passes\n    });\n});\n</code></pre>\n\n<p>In the case where only the named 'utilityFunction' export is used, its also pretty easy to mock the import:</p>\n\n<pre><code>/**\n  * Trying to mock both named and default import. \n  * THIS WORKS.\n  */\n/** /src/myModule.js **/\n\nimport { utililtyFunction } from './dependency';\n\n// EDIT: Fixed syntax error in code sample\n// export default myModule()\nexport default function myModule() {\n    return utilityFunction();\n}\n\n\n/** /tests/myModule.test.js **/\n// If only utilityFunction is used by myModule.js\n\nimport { utilityFunction } from '../src/dependency';\nimport myModule from '../src/myModule';\n\njest.mock('../src/dependency);\nutilityFunction.mockImplementation(() =&gt; 'bar');\n\ndescribe('myModule', () =&gt; {\n    it('should return the return value of utilityFunction', () =&gt; {\n        expect(myModule()).toEqual('bar'); // Passes\n    });\n});\n</code></pre>\n\n<p>Is it possible to mock both the named and default import using Jest? Is there a different syntax that I can use to achieve the result I want, where I import both named and default values from a module and am able to mock them both?</p>\n"}, {"tags": ["javascript", "forms", "validation"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 1, "creation_date": 1518649619, "post_id": 48797666, "comment_id": 84597990, "body": "As the name implies, <code>document.getElementsByName()</code> returns a list of elements (<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/NodeList\" rel=\"nofollow noreferrer\"><code>NodeList</code></a>). Use <code>document.getElementsByName(...)[0]</code> to grab the first one."}], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 9362460, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QxWpxDPTDC8/AAAAAAAAAAI/AAAAAAAABvg/h6oxIxVobeo/photo.jpg?sz=128", "display_name": "Anthony Chavarria", "link": "https://stackoverflow.com/users/9362460/anthony-chavarria"}, "is_accepted": true, "score": 1, "last_activity_date": 1518651344, "creation_date": 1518651344, "answer_id": 48797961, "question_id": 48797666, "link": "https://stackoverflow.com/questions/48797666/using-javascript-to-validate-select-field-on-form-statement-is-not-working/48797961#48797961", "title": "Using JavaScript to validate select field on form statement is not working", "body": "<p><strong>strong text</strong> This is the more easy form to validate this</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>&lt;script&gt;\r\n\r\n    console.log(document.forms);\r\n\r\n    function validateForm(){\r\n        var showData = document.getElementsByName(\"show\");\r\n\t\tvar show = showData[0][showData[0].selectedIndex].text;\r\n        var comments = document.getElementsByName('comments');\r\n        for (var i=0;i &lt; document.forms[0].length - 1; i++){\r\n            if (document.forms[0][i].type == 'text' &amp;&amp; document.forms[0][i].value==''){\r\n                alert('Please Enter Your Full Name');\r\n                return false;\r\n            }\r\n            else if (document.forms[0][i].type == 'radio'){\r\n                if (document.forms[0].gender[0].checked == false &amp;&amp; document.forms[0].gender[1].checked == false){\r\n                    alert('Please select gender');\r\n                    return false;\r\n                }\r\n            }\r\n            else if (document.forms[0][i].type == 'checkbox'){\r\n                var hobbies = document.getElementsByName('hobbies[]');\r\n                if (hobbies[0].checked == false &amp;&amp; hobbies[1].checked == false &amp;&amp; hobbies[2].checked == false){\r\n                    alert('Please select hobby');\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            else if (show == 'Choose Below'){\r\n                alert('Please Select a Favorite Show');\r\n                return false;\r\n            }\r\n\r\n\r\n            else if(comments[0].textContent == 'Enter Comments'|| comments.value == ''){\r\n                alert('Please provide comments');\r\n                return false;\r\n            }\r\n\r\n\r\n            console.log(document.forms[0][i].type);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    &lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 85, "user_id": 9257296, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cb1f4363b042f01660d8c25c503f2801?s=128&d=identicon&r=PG&f=1", "display_name": "Corina", "link": "https://stackoverflow.com/users/9257296/corina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "accepted_answer_id": 48797961, "answer_count": 1, "score": 0, "last_activity_date": 1518651344, "creation_date": 1518649248, "question_id": 48797666, "link": "https://stackoverflow.com/questions/48797666/using-javascript-to-validate-select-field-on-form-statement-is-not-working", "title": "Using JavaScript to validate select field on form statement is not working", "body": "<p>I am trying to use JavaScript to validate all fields on this form but am stuck on the select field and textbox validation.  The text field, radio and checkbox validations are working but I can't seem to figure out the selection and textbox and there are no errors when i run the script.... also, I need to do this without changing the HTML(no ID tags)    What am i doing wrong? Thanks as always!</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /&gt;\n&lt;title&gt;Validate me&lt;/title&gt;\n&lt;script&gt;\n\n    console.log(document.forms);\n\n    function validateForm(){\n        var show = document.getElementsByName('show').value\n        var comments = document.getElementsByName('comments');\n        for (var i=0;i &lt; document.forms[0].length - 1; i++){\n            if (document.forms[0][i].type == 'text' &amp;&amp; document.forms[0][i].value==''){\n                alert('Please Enter Your Full Name');\n                return false;\n            }\n            else if (document.forms[0][i].type == 'radio'){\n                if (document.forms[0].gender[0].checked == false &amp;&amp; document.forms[0].gender[1].checked == false){\n                    alert('Please select gender');\n                    return false;\n                }\n            }\n            else if (document.forms[0][i].type == 'checkbox'){\n                var hobbies = document.getElementsByName('hobbies[]');\n                if (hobbies[0].checked == false &amp;&amp; hobbies[1].checked == false &amp;&amp; hobbies[2].checked == false){\n                    alert('Please select hobby');\n                    return false;\n                }\n            }\n\n            else if (show == 'Choose Below'){\n                alert('Please Select a Favorite Show');\n                return false;\n            }\n\n\n            else if(comments.value == 'Enter Comments'|| comments.value == ''){\n                alert('Please provide comments');\n                return false;\n            }\n\n\n            console.log(document.forms[0][i].type);\n        }\n\n\n    }\n\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\nAt lease one piece of data has to come in from every input type.\n&lt;form action = \"form.html\" method = \"get\"&gt;&lt;br/&gt;\nName:&lt;input type = \"text\" name = \"fullname\" placeholder=\"Enter Full Name\"/&gt;&lt;br/&gt;\nGender:&lt;br/&gt;\nMale&lt;input type = \"radio\" name = \"gender\" value=\"male\"/&gt;Female&lt;input type = \"radio\" name = \"gender\" value=\"female\"/&gt;&lt;br/&gt;\nHobbies&lt;br/&gt;\nBaseball &lt;input type = \"checkbox\" name = \"hobbies[]\" value = \"baseball\" /&gt;  \nFootball &lt;input type = \"checkbox\" name = \"hobbies[]\" value = \"football\" /&gt;  \nHockey &lt;input type = \"checkbox\" name = \"hobbies[]\" value = \"hockey\" /&gt;&lt;br/&gt;\nFavorite Show &lt;select name = \"show\"&gt;\n&lt;option value = \"\"&gt;Choose Below&lt;/option&gt;\n&lt;option value = \"ATHF\"&gt;Aqua Teen Hunger Force&lt;/option&gt;\n&lt;option value = \"Family Guy\"&gt;Family Guy&lt;/option&gt;\n&lt;option value = \"Simpsons\"&gt;Simpsons&lt;/option&gt;\n&lt;/select&gt;&lt;br/&gt;\nComments&lt;br/&gt;\n&lt;textarea cols = \"50\" rows = \"6\" name = \"comments\"&gt;Enter Comments&lt;/textarea&gt;&lt;br/&gt;\n&lt;input type = \"button\" name = \"submit\" value = \"enter me\" onclick=\"return validateForm();\" /&gt;\n&lt;/form&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["javascript", "vue.js", "vuejs2"], "comments": [{"owner": {"reputation": 37731, "user_id": 392102, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/A0L1n.jpg?s=128&g=1", "display_name": "Roy J", "link": "https://stackoverflow.com/users/392102/roy-j"}, "edited": false, "score": 0, "creation_date": 1518651061, "post_id": 48797631, "comment_id": 84598469, "body": "Maybe <a href=\"https://vuejs.org/v2/guide/components.html#Dynamic-Props\" rel=\"nofollow noreferrer\">dynamic props</a> is what you&#39;re looking for? (Look for &quot;pass all the properties&quot;)"}, {"owner": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "reply_to_user": {"reputation": 37731, "user_id": 392102, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/A0L1n.jpg?s=128&g=1", "display_name": "Roy J", "link": "https://stackoverflow.com/users/392102/roy-j"}, "edited": false, "score": 0, "creation_date": 1518653211, "post_id": 48797631, "comment_id": 84599044, "body": "@RoyJ Not quite, since I can&#39;t exactly use html tags inside the <code>script</code> area. I would probably have to assign it like <code>var input = Input</code> then have <code>input</code> assign the props like <code>input.prop.example = &quot;this is an example prop&quot;</code>"}, {"owner": {"reputation": 37731, "user_id": 392102, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/A0L1n.jpg?s=128&g=1", "display_name": "Roy J", "link": "https://stackoverflow.com/users/392102/roy-j"}, "edited": false, "score": 0, "creation_date": 1518655978, "post_id": 48797631, "comment_id": 84599792, "body": "You would make the binding in the <code>template</code> area: <code>&lt;component :is=&quot;store...&quot; v-bind=&quot;somePropsObjectYouBuilt&quot;&gt;</code>"}, {"owner": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "reply_to_user": {"reputation": 37731, "user_id": 392102, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/A0L1n.jpg?s=128&g=1", "display_name": "Roy J", "link": "https://stackoverflow.com/users/392102/roy-j"}, "edited": false, "score": 0, "creation_date": 1518659852, "post_id": 48797631, "comment_id": 84600711, "body": "@RoyJ The purpose of that component is just to display the component passed in. It&#39;s a modal, so I want to be able to throw anything into there and separate the dependencies."}, {"owner": {"reputation": 37731, "user_id": 392102, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/A0L1n.jpg?s=128&g=1", "display_name": "Roy J", "link": "https://stackoverflow.com/users/392102/roy-j"}, "edited": false, "score": 0, "creation_date": 1518660061, "post_id": 48797631, "comment_id": 84600760, "body": "In your example above, what would be the prop(s) you want passed in?"}], "answers": [{"comments": [{"owner": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "edited": false, "score": 0, "creation_date": 1518661370, "post_id": 48799062, "comment_id": 84601043, "body": "Ah, I must have misunderstood you before. yeah this works great."}, {"owner": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "edited": false, "score": 0, "creation_date": 1518661586, "post_id": 48799062, "comment_id": 84601093, "body": "Although I seem to be getting a warning <code>[Vue warn]: Error in callback for watcher &quot;function () { return this._data.$$state }&quot;: &quot;Error: [vuex] Do not mutate vuex store state outside mutation handlers.&quot;</code> even though I&#39;m only calling it as a read."}, {"owner": {"reputation": 37731, "user_id": 392102, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/A0L1n.jpg?s=128&g=1", "display_name": "Roy J", "link": "https://stackoverflow.com/users/392102/roy-j"}, "reply_to_user": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "edited": false, "score": 0, "creation_date": 1518661769, "post_id": 48799062, "comment_id": 84601122, "body": "I don&#39;t have any idea what that&#39;s about. There&#39;s no watcher in the code samples you included."}, {"owner": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "edited": false, "score": 0, "creation_date": 1518661919, "post_id": 48799062, "comment_id": 84601161, "body": "Yeah I don&#39;t have watchers implemented either, which is why it&#39;s weird. Well the one <code>watch</code> that I have is in a completely unrelated file :\\ I am accessing the variable through the <code>prop</code>"}, {"owner": {"reputation": 37731, "user_id": 392102, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/A0L1n.jpg?s=128&g=1", "display_name": "Roy J", "link": "https://stackoverflow.com/users/392102/roy-j"}, "reply_to_user": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "edited": false, "score": 0, "creation_date": 1518662027, "post_id": 48799062, "comment_id": 84601191, "body": "Vuex maintains a deep watch in <a href=\"https://vuex.vuejs.org/en/strict.html\" rel=\"nofollow noreferrer\">strict mode</a> to catch inadvertent mutations. Maybe that&#39;s going on."}, {"owner": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "edited": false, "score": 0, "creation_date": 1518662235, "post_id": 48799062, "comment_id": 84601238, "body": "It&#39;s definitely caused by accessing the variable through <code>props</code>."}, {"owner": {"reputation": 37731, "user_id": 392102, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/A0L1n.jpg?s=128&g=1", "display_name": "Roy J", "link": "https://stackoverflow.com/users/392102/roy-j"}, "reply_to_user": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "edited": false, "score": 0, "creation_date": 1518663054, "post_id": 48799062, "comment_id": 84601416, "body": "Might be worth a new question. Include the code of the component you&#39;re using."}], "tags": [], "owner": {"reputation": 37731, "user_id": 392102, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/A0L1n.jpg?s=128&g=1", "display_name": "Roy J", "link": "https://stackoverflow.com/users/392102/roy-j"}, "is_accepted": true, "score": 1, "last_activity_date": 1518660423, "creation_date": 1518660423, "answer_id": 48799062, "question_id": 48797631, "link": "https://stackoverflow.com/questions/48797631/vue-js-passing-prop-through-script/48799062#48799062", "title": "vue.js passing prop through script", "body": "<p>I'd do something like</p>\n\n<pre><code>&lt;template&gt;\n    &lt;div&gt;\n        &lt;component :is=\"store.state.General.body\" v-bind=\"store.state.General.props\"&gt;&lt;/component&gt;\n    &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\n    import store from \"@/store\"\n&lt;/script&gt;\n</code></pre>\n\n<p>and have the store item look like</p>\n\n<pre><code>&lt;script&gt;\n    import Input from \"@/components/Input\"\n\n    methods: {\n        example() {\n            store.commit(\"general_set_modal\", {body: Input, props: {title: \"New \"+page}})\n    }\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 0, "accepted_answer_id": 48799062, "answer_count": 1, "score": 1, "last_activity_date": 1518660423, "creation_date": 1518649070, "question_id": 48797631, "link": "https://stackoverflow.com/questions/48797631/vue-js-passing-prop-through-script", "title": "vue.js passing prop through script", "body": "<p>So I\u2019m passing a component as a variable through the store e.g.</p>\n\n<pre><code>&lt;template&gt;\n    &lt;div&gt;\n        &lt;component :is=\"store.state.General.body\"&gt;&lt;/component&gt;\n    &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\n    import store from \"@/store\"\n&lt;/script&gt;\n</code></pre>\n\n<p>Now I was wondering how I would pass the component with props because this is how I\u2019m doing it:</p>\n\n<pre><code>&lt;script&gt;\n    import Input from \"@/components/Input\"\n\n    methods: {\n        example() {\n            store.commit(\"general_set_modal\", {body: Input, title: \"New \"+page})\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>it\u2019s being rendered properly, but just lacks the desired props.</p>\n"}, {"tags": ["javascript", "jquery", "nav"], "comments": [{"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1518649039, "post_id": 48797574, "comment_id": 84597769, "body": "document ready -&gt; <a href=\"https://developer.mozilla.org/en-US/docs/Web/Events/DOMContentLoaded\" rel=\"nofollow noreferrer\">DOMContentLoaded event</a>. <code>$(&#39;#nav-toggle&#39;)</code> -&gt; <code>document.getElementById()</code>. <code>.click</code> -&gt; <code>addEventListener</code>. <code>hasClass</code> / <code>removeClass</code> / <code>addClass</code> -&gt; <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/classList\" rel=\"nofollow noreferrer\">Element.classList</a>"}, {"owner": {"reputation": 5357, "user_id": 1030169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93b40f413b34463de22c81d35b4c1930?s=128&d=identicon&r=PG", "display_name": "jmoerdyk", "link": "https://stackoverflow.com/users/1030169/jmoerdyk"}, "edited": false, "score": 1, "creation_date": 1518649385, "post_id": 48797574, "comment_id": 84597892, "body": "What have you tried? If we do the work for you, how are you learning? Apparently you didn&#39;t learn anything the last time you asked a similar question: <a href=\"https://stackoverflow.com/questions/42592157/convert-animated-jquery-side-nav-to-vanilla-js\" title=\"convert animated jquery side nav to vanilla js\">stackoverflow.com/questions/42592157/&hellip;</a>"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1518649387, "post_id": 48797574, "comment_id": 84597893, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/978799/is-there-an-easy-way-to-convert-jquery-code-to-javascript\">Is there an easy way to convert jquery code to javascript?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1518649146, "post_id": 48797629, "comment_id": 84597808, "body": "FYI, you&#39;re missing the <i>&quot;document ready&quot;</i> part"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 1, "creation_date": 1518649229, "post_id": 48797629, "comment_id": 84597845, "body": "<code>var body = document.querySelector(&#39;body&#39;);</code> ... or just <code>var body = document.body;</code>"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 1, "creation_date": 1518649263, "post_id": 48797629, "comment_id": 84597857, "body": "no, not even with IIFE is it same as <code>$(function() { &#47;&#47; DOM Ready</code>"}, {"owner": {"reputation": 5357, "user_id": 1030169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93b40f413b34463de22c81d35b4c1930?s=128&d=identicon&r=PG", "display_name": "jmoerdyk", "link": "https://stackoverflow.com/users/1030169/jmoerdyk"}, "reply_to_user": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1518649442, "post_id": 48797629, "comment_id": 84597922, "body": "@phil some people downvote to discourage answers on lazy questions"}, {"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 2, "creation_date": 1518649445, "post_id": 48797629, "comment_id": 84597923, "body": "The whole <i>&quot;if has class, remove else add class&quot;</i> can be simplified to <code>document.body.classList.toggle(&#39;show-nav&#39;)</code>"}, {"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "reply_to_user": {"reputation": 5357, "user_id": 1030169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93b40f413b34463de22c81d35b4c1930?s=128&d=identicon&r=PG", "display_name": "jmoerdyk", "link": "https://stackoverflow.com/users/1030169/jmoerdyk"}, "edited": false, "score": 0, "creation_date": 1518649493, "post_id": 48797629, "comment_id": 84597946, "body": "@jmoerdyk seems misguided. Downvote the question, not the answer especially if there&#39;s nothing technically wrong with it"}, {"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1518649541, "post_id": 48797629, "comment_id": 84597961, "body": "@Ele eh, just a suggestion"}, {"owner": {"reputation": 5357, "user_id": 1030169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93b40f413b34463de22c81d35b4c1930?s=128&d=identicon&r=PG", "display_name": "jmoerdyk", "link": "https://stackoverflow.com/users/1030169/jmoerdyk"}, "reply_to_user": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1518649687, "post_id": 48797629, "comment_id": 84598024, "body": "@Phil meh, it&#39;s their vote to waste.  But I kind of agree that we shouldn&#39;t encourage lazy posters"}], "tags": [], "owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "is_accepted": true, "score": 0, "last_activity_date": 1518649612, "last_edit_date": 1518649612, "creation_date": 1518649057, "answer_id": 48797629, "question_id": 48797574, "link": "https://stackoverflow.com/questions/48797574/converting-jquery-sidenav-into-vanilla-js/48797629#48797629", "title": "Converting Jquery sidenav into vanilla js", "body": "<p><strong>This is the vanilla js version</strong></p>\n\n<pre><code>document.addEventListener(\"DOMContentLoaded\", function(event) {\n    document.getElementById('nav-toggle').addEventListener('click', function() {\n      this.classList.toggle(\"active\");\n\n      var body = document.querySelector('body');\n      // If sidebar is visible:\n      if (body.classList.contains('show-nav')) {\n        // Hide sidebar\n        body.classList.remove('show-nav');\n      } else { // If sidebar is hidden:\n        body.classList.add('show-nav');\n        // Display sidebar\n      }\n    });\n});\n</code></pre>\n\n<h1>Resources</h1>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/classList\" rel=\"nofollow noreferrer\"><code>Element.classList</code></a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\" rel=\"nofollow noreferrer\"><code>EventTarget.addEventListener()</code></a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementById\" rel=\"nofollow noreferrer\"><code>Document.getElementById()</code></a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/Events/DOMContentLoaded\" rel=\"nofollow noreferrer\"><code>DOMContentLoaded</code></a></li>\n</ul>\n"}], "owner": {"reputation": 69, "user_id": 6728502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef2536d6aac9b4564259cbcaff988a1a?s=128&d=identicon&r=PG&f=1", "display_name": "James G", "link": "https://stackoverflow.com/users/6728502/james-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "closed_date": 1518650273, "accepted_answer_id": 48797629, "answer_count": 1, "score": -3, "last_activity_date": 1518649612, "creation_date": 1518648832, "last_edit_date": 1518649176, "question_id": 48797574, "link": "https://stackoverflow.com/questions/48797574/converting-jquery-sidenav-into-vanilla-js", "closed_reason": "Needs more focus", "title": "Converting Jquery sidenav into vanilla js", "body": "<p>I'm pretty familiar with jquery but im trying to learn vanilla js. How would I go about converting this jquery snippet into vanilla JS?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>(function($) {\n  $(function() { // DOM Ready\n\n    // Toggle navigation\n    $('#nav-toggle').click(function() {\n      this.classList.toggle(\"active\");\n      // If sidebar is visible:\n      if ($('body').hasClass('show-nav')) {\n        // Hide sidebar\n        $('body').removeClass('show-nav');\n      } else { // If sidebar is hidden:\n        $('body').addClass('show-nav');\n        // Display sidebar\n      }\n    });\n  });\n})(jQuery);\n</code></pre>\n"}, {"tags": ["javascript", "css", "angularjs", "sass", "tooltip"], "comments": [{"owner": {"reputation": 5118, "user_id": 9091485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6xICk.jpg?s=128&g=1", "display_name": "Gerardo BLANCO", "link": "https://stackoverflow.com/users/9091485/gerardo-blanco"}, "edited": false, "score": 0, "creation_date": 1518650313, "post_id": 48797432, "comment_id": 84598236, "body": "Welcome to Stack Overflow! Questions seeking debugging help should include the desired behavior, a specific problem or error and the shortest code necessary to reproduce it within the question itself. Questions without a clear problem statement are not useful to other readers. Please see: <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>."}, {"owner": {"reputation": 2607, "user_id": 1159590, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/NWpFc.jpg?s=128&g=1", "display_name": "Edgar Quintero", "link": "https://stackoverflow.com/users/1159590/edgar-quintero"}, "reply_to_user": {"reputation": 5118, "user_id": 9091485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6xICk.jpg?s=128&g=1", "display_name": "Gerardo BLANCO", "link": "https://stackoverflow.com/users/9091485/gerardo-blanco"}, "edited": false, "score": 0, "creation_date": 1518739761, "post_id": 48797432, "comment_id": 84640489, "body": "Hey, I posted my problem, code, and even a screenshot.. don&#39;t know what else anyone would need. Regardless I solved my problem, thanks."}], "owner": {"reputation": 2607, "user_id": 1159590, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/NWpFc.jpg?s=128&g=1", "display_name": "Edgar Quintero", "link": "https://stackoverflow.com/users/1159590/edgar-quintero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 421, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518648147, "creation_date": 1518648147, "question_id": 48797432, "link": "https://stackoverflow.com/questions/48797432/perfectly-positioned-tooltips-with-position-fixed", "title": "Perfectly positioned tooltips with position: fixed", "body": "<p>I'm trying to create some very basic tooltips but I'm having trouble calculating the exact position these should go in with some JavaScript. The reason for wanting a fixed position is to make sure these work whenever there is overflow hidden and such.</p>\n\n<p>This is my code so far:</p>\n\n<pre><code>var overflowTooltip = function (elem) {\n\n    let legendRow = elem.currentTarget.getBoundingClientRect();\n    let tooltip = elem.currentTarget.children[2];\n    let topPosition;\n    let leftPosition;\n\n    if ((elem.currentTarget.offsetWidth &lt; elem.currentTarget.scrollWidth) &amp;&amp; tooltip !== undefined) {\n\n        tooltip.classList.add('total-opacity');\n\n        $timeout(function () {\n            if (tooltip.offsetHeight &gt; 35) {\n                topPosition = (legendRow.top - tooltip.offsetHeight / 4) - 65;\n            } else {\n                topPosition = legendRow.top - 65;\n            }\n\n            leftPosition = (legendRow.left + elem.currentTarget.offsetWidth) / 2;\n\n            tooltip.style.left = leftPosition + 'px';\n            tooltip.style.top = topPosition + 'px';\n\n            $timeout(function () {\n                tooltip.classList.remove('total-opacity');\n            }, 400)\n\n        }, 100);\n    } else {\n        elem.currentTarget.children[2].style.left = '-9999px';\n    }\n\n}\n</code></pre>\n\n<p>And some SASS: </p>\n\n<pre><code>    .custom-tooltip {\n        font-family: $brand-font-condensed;\n        font-size: 14px;\n        font-weight: 400;\n        position: fixed;\n        text-align: left;\n        overflow: visible !important;\n        background-color: rgba($dark-gray, 0.95);\n        color: #fff;\n        height: auto;\n        padding: 7px 10px;\n        z-index: 9000;\n        visibility: hidden;\n        opacity: 0;\n        border-radius: 2px;\n        box-shadow: 0 2px 5px 0 rgba(#000, 0.16), 0 2px 10px 0 rgba(#000, 0.12);\n        @include transition (.2s ease-in);\n        left: -9999px;\n        &amp;:hover {\n            visibility: visible;\n            opacity: 1;\n            @include transition (.2s ease-out);\n            -webkit-transition-delay: .3s;\n            transition-delay: .3s;\n        }\n    }\n</code></pre>\n\n<p>The above works but it's not perfect. if I wanna change around the position for it to appear on the left, right, bottom. I'd have to so some refactoring. If the tooltip's height is bigger or smaller, the position changes, If I scroll up or down, the tooltip stays stuck on screen for a few seconds. etc. Lots of these little details which are pretty annoying.</p>\n\n<p>Not interested in using a plugin at the moment nor jQuery. Thanks for any suggestion or feedback :)</p>\n\n<p><a href=\"https://i.stack.imgur.com/nJsAl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nJsAl.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "google-cloud-functions", "nan", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 7629, "user_id": 978005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9219975d0b744e19422761516d419f12?s=128&d=identicon&r=PG", "display_name": "Phix", "link": "https://stackoverflow.com/users/978005/phix"}, "edited": false, "score": 2, "creation_date": 1518647969, "post_id": 48797377, "comment_id": 84597347, "body": "NaN is &quot;not a number&quot;, you&#39;re trying to add <code>1</code> to something, probably <code>undefined</code>. Check the value of <code>doc.data.following_count</code>"}, {"owner": {"reputation": 1728, "user_id": 428627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d69816f34545ac97949ab9fc821bf3b1?s=128&d=identicon&r=PG", "display_name": "giorgiga", "link": "https://stackoverflow.com/users/428627/giorgiga"}, "edited": false, "score": 0, "creation_date": 1518647984, "post_id": 48797377, "comment_id": 84597353, "body": "<a href=\"https://en.wikipedia.org/wiki/NaN\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/NaN</a>"}, {"owner": {"reputation": 607, "user_id": 7803448, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3aa6ec5b8b2a914c1aa432c4436393e1?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Vanlandingham", "link": "https://stackoverflow.com/users/7803448/matthew-vanlandingham"}, "reply_to_user": {"reputation": 7629, "user_id": 978005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9219975d0b744e19422761516d419f12?s=128&d=identicon&r=PG", "display_name": "Phix", "link": "https://stackoverflow.com/users/978005/phix"}, "edited": false, "score": 0, "creation_date": 1518648700, "post_id": 48797377, "comment_id": 84597634, "body": "@Phix you&#39;re right. I am getting undefined. I suppose I am getting my value incorrectly. Back to the drawing board i suppose!"}], "answers": [{"comments": [{"owner": {"reputation": 383, "user_id": 4186208, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-kCSGfbbC2eo/AAAAAAAAAAI/AAAAAAAAAAs/sOBTZtOoX5E/photo.jpg?sz=128", "display_name": "Divya Galla", "link": "https://stackoverflow.com/users/4186208/divya-galla"}, "edited": false, "score": 0, "creation_date": 1523077417, "post_id": 48867938, "comment_id": 86421355, "body": "How to roll back the operation that sets the value to its previous value"}], "tags": [], "owner": {"reputation": 616, "user_id": 291796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89d732d57fab26c03d5ec6196fb25512?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/291796/alex"}, "is_accepted": true, "score": 1, "last_activity_date": 1519049218, "creation_date": 1519049218, "answer_id": 48867938, "question_id": 48797377, "link": "https://stackoverflow.com/questions/48797377/cloud-function-is-writing-nan-to-firestore/48867938#48867938", "title": "Cloud function is writing NaN to firestore", "body": "<p>NaN is <em><a href=\"https://en.wikipedia.org/wiki/NaN\" rel=\"nofollow noreferrer\">Not a Number</a></em>. As some commenters said (but without actually posting an answer), this is caused by operations on non-numeric input, such as undefined values or strings.</p>\n"}], "owner": {"reputation": 607, "user_id": 7803448, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3aa6ec5b8b2a914c1aa432c4436393e1?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Vanlandingham", "link": "https://stackoverflow.com/users/7803448/matthew-vanlandingham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 782, "favorite_count": 0, "accepted_answer_id": 48867938, "answer_count": 1, "score": 2, "last_activity_date": 1519049218, "creation_date": 1518647877, "question_id": 48797377, "link": "https://stackoverflow.com/questions/48797377/cloud-function-is-writing-nan-to-firestore", "title": "Cloud function is writing NaN to firestore", "body": "<p>I created a cloud Function to update a following count every time there is a new follower. However, for whatever reason, <code>NaN</code> gets written to the document instead of an incremented count. What is <code>NaN</code> and why is it getting written instead of the appropriate number? This is my code:</p>\n\n<pre><code>var transaction = db.runTransaction(t =&gt; {\n    return t.get(countRef)\n        .then(doc =&gt; {\n            var new_count = doc.data.following_count + 1;\n            t.update(countRef, { following_count: new_count });\n        });\n}).then(result =&gt; {\n    console.log('Transaction success!');\n})\n.catch(err =&gt; {\n    console.log('Transaction failure:', err);\n});\n</code></pre>\n"}, {"tags": ["javascript", "json", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 543, "user_id": 6189412, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4Dn7H.jpg?s=128&g=1", "display_name": "Nikita Marinosyan", "link": "https://stackoverflow.com/users/6189412/nikita-marinosyan"}, "edited": false, "score": 0, "creation_date": 1518649339, "post_id": 48797526, "comment_id": 84597883, "body": "Thank you! But for some reason my local server gives an ERROR in src/app/shared/services/database.service.ts(2,24): error TS2307: Cannot find module &#39;./books.json&#39;. The file is in the same folder."}, {"owner": {"reputation": 60698, "user_id": 6277151, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-IiQqGfyhC7o/AAAAAAAAAAI/AAAAAAAAAbc/VpCYOZzASQc/photo.jpg?sz=128", "display_name": "tony19", "link": "https://stackoverflow.com/users/6277151/tony19"}, "reply_to_user": {"reputation": 543, "user_id": 6189412, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4Dn7H.jpg?s=128&g=1", "display_name": "Nikita Marinosyan", "link": "https://stackoverflow.com/users/6189412/nikita-marinosyan"}, "edited": false, "score": 0, "creation_date": 1518649453, "post_id": 48797526, "comment_id": 84597924, "body": "That seems to indicate that <code>books.json</code> does not exist at <code>src&#47;app&#47;shared&#47;services&#47;</code>. Do you have a GitHub project to share?"}, {"owner": {"reputation": 543, "user_id": 6189412, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4Dn7H.jpg?s=128&g=1", "display_name": "Nikita Marinosyan", "link": "https://stackoverflow.com/users/6189412/nikita-marinosyan"}, "edited": false, "score": 0, "creation_date": 1518649637, "post_id": 48797526, "comment_id": 84598000, "body": "I do. Here is the <a href=\"https://github.com/Greatshock/Visualizer-of-the-Connections-Between-Marvel-Characters\" rel=\"nofollow noreferrer\">link</a>. Actually it is not books, but Marvel characters ^^"}, {"owner": {"reputation": 60698, "user_id": 6277151, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-IiQqGfyhC7o/AAAAAAAAAAI/AAAAAAAAAbc/VpCYOZzASQc/photo.jpg?sz=128", "display_name": "tony19", "link": "https://stackoverflow.com/users/6277151/tony19"}, "reply_to_user": {"reputation": 543, "user_id": 6189412, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4Dn7H.jpg?s=128&g=1", "display_name": "Nikita Marinosyan", "link": "https://stackoverflow.com/users/6189412/nikita-marinosyan"}, "edited": false, "score": 0, "creation_date": 1518651675, "post_id": 48797526, "comment_id": 84598635, "body": "Updated answer. See <a href=\"https://github.com/Greatshock/Visualizer-of-the-Connections-Between-Marvel-Characters/pull/1\" rel=\"nofollow noreferrer\">PR</a> for your fix."}, {"owner": {"reputation": 4799, "user_id": 2528609, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/bxEnK.jpg?s=128&g=1", "display_name": "mvermand", "link": "https://stackoverflow.com/users/2528609/mvermand"}, "edited": false, "score": 0, "creation_date": 1518678480, "post_id": 48797526, "comment_id": 84605800, "body": "Thanks for showing how to add the wildcard module definition."}, {"owner": {"reputation": 543, "user_id": 6189412, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4Dn7H.jpg?s=128&g=1", "display_name": "Nikita Marinosyan", "link": "https://stackoverflow.com/users/6189412/nikita-marinosyan"}, "edited": false, "score": 0, "creation_date": 1518682977, "post_id": 48797526, "comment_id": 84608033, "body": "@tony19 No error now, but when I try to <code>console.log(this.books)</code> Chrome console says it is undefined."}], "tags": [], "owner": {"reputation": 60698, "user_id": 6277151, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-IiQqGfyhC7o/AAAAAAAAAAI/AAAAAAAAAbc/VpCYOZzASQc/photo.jpg?sz=128", "display_name": "tony19", "link": "https://stackoverflow.com/users/6277151/tony19"}, "is_accepted": true, "score": 9, "last_activity_date": 1543359803, "last_edit_date": 1543359803, "creation_date": 1518648572, "answer_id": 48797526, "question_id": 48797363, "link": "https://stackoverflow.com/questions/48797363/json-array-from-local-file-to-typescript-array-in-angular-5/48797526#48797526", "title": "JSON array from local file to Typescript array in Angular 5", "body": "<p>You could load the file with <code>import</code>:</p>\n\n<pre><code>import data from 'path/to/data.json';\n</code></pre>\n\n<p>And assign that to an array of type <code>Book[]</code>:</p>\n\n<pre><code>@Component({...})\nclass Foo {\n   books: Book[] = data;\n}\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-hcanua?file=src%2Fapp%2Fhello.component.ts\" rel=\"noreferrer\">demo</a></p>\n\n<p>Also add a <a href=\"https://www.typescriptlang.org/docs/handbook/modules.html#wildcard-module-declarations\" rel=\"noreferrer\">wildcard module definition</a> in <code>src/typings.d.ts</code> to tell the TypeScript compiler how to import <code>*.json</code>:</p>\n\n<pre><code>declare module \"*.json\" {\n  const value: any;\n  export default value;\n}\n</code></pre>\n"}], "owner": {"reputation": 543, "user_id": 6189412, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4Dn7H.jpg?s=128&g=1", "display_name": "Nikita Marinosyan", "link": "https://stackoverflow.com/users/6189412/nikita-marinosyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9009, "favorite_count": 0, "accepted_answer_id": 48797526, "answer_count": 1, "score": 5, "last_activity_date": 1543359803, "creation_date": 1518647813, "last_edit_date": 1518655536, "question_id": 48797363, "link": "https://stackoverflow.com/questions/48797363/json-array-from-local-file-to-typescript-array-in-angular-5", "title": "JSON array from local file to Typescript array in Angular 5", "body": "<p>I am using Angular 5 to develop a web app. I have JSON file which looks like this:</p>\n\n<pre><code>[\n  {\n        \"id\": 0,\n        \"title\": \"Some title\"\n  },\n  {\n        \"id\": 1,\n        \"title\": \"Some title\"\n  },\n  ...\n]\n</code></pre>\n\n<p>This file is stored locally. I also have an interface:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export interface Book {\n  id: number;\n  title: string;\n}\n</code></pre>\n\n<p>The questions are how do I: </p>\n\n<ol>\n<li>Fetch the data from the file?</li>\n<li>Create an array of type <code>Book[]</code> from this data?</li>\n</ol>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 20565, "user_id": 2553506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jOi8K.jpg?s=128&g=1", "display_name": "David L. Walsh", "link": "https://stackoverflow.com/users/2553506/david-l-walsh"}, "edited": false, "score": 0, "creation_date": 1518649672, "post_id": 48797350, "comment_id": 84598019, "body": "What does your Timer component look like?"}, {"owner": {"reputation": 3113, "user_id": 1541609, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b489568449345d3e18dbf7aa4fa44f22?s=128&d=identicon&r=PG", "display_name": "Ewan Valentine", "link": "https://stackoverflow.com/users/1541609/ewan-valentine"}, "reply_to_user": {"reputation": 20565, "user_id": 2553506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jOi8K.jpg?s=128&g=1", "display_name": "David L. Walsh", "link": "https://stackoverflow.com/users/2553506/david-l-walsh"}, "edited": false, "score": 0, "creation_date": 1518650519, "post_id": 48797350, "comment_id": 84598310, "body": "I&#39;ve updated the original post @DavidL.Walsh"}, {"owner": {"reputation": 19434, "user_id": 509344, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3e8fbb1b0d7f6a4fd68676e1a344b23f?s=128&d=identicon&r=PG", "display_name": "shaunhusain", "link": "https://stackoverflow.com/users/509344/shaunhusain"}, "edited": false, "score": 0, "creation_date": 1518651155, "post_id": 48797350, "comment_id": 84598494, "body": "<a href=\"https://jaketrent.com/post/react-componentdidmount-not-called-server-render/\" rel=\"nofollow noreferrer\">jaketrent.com/post/&hellip;</a> &lt;-- this may help ?  With regard to didMount vs willMount with server side rendering, apparently no didMount for server side... doesn&#39;t help with the original question though"}, {"owner": {"reputation": 20565, "user_id": 2553506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jOi8K.jpg?s=128&g=1", "display_name": "David L. Walsh", "link": "https://stackoverflow.com/users/2553506/david-l-walsh"}, "edited": false, "score": 0, "creation_date": 1518651265, "post_id": 48797350, "comment_id": 84598529, "body": "Are you running this on the front-end as well as the server?"}, {"owner": {"reputation": 3113, "user_id": 1541609, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b489568449345d3e18dbf7aa4fa44f22?s=128&d=identicon&r=PG", "display_name": "Ewan Valentine", "link": "https://stackoverflow.com/users/1541609/ewan-valentine"}, "reply_to_user": {"reputation": 20565, "user_id": 2553506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jOi8K.jpg?s=128&g=1", "display_name": "David L. Walsh", "link": "https://stackoverflow.com/users/2553506/david-l-walsh"}, "edited": false, "score": 0, "creation_date": 1518653446, "post_id": 48797350, "comment_id": 84599107, "body": "@DavidL.Walsh I have react components, which I load into an express server and use renderToString to parse the component and return it as a response"}, {"owner": {"reputation": 20565, "user_id": 2553506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jOi8K.jpg?s=128&g=1", "display_name": "David L. Walsh", "link": "https://stackoverflow.com/users/2553506/david-l-walsh"}, "edited": false, "score": 0, "creation_date": 1518655959, "post_id": 48797350, "comment_id": 84599781, "body": "You need to deploy your application on the front-end, not just on the server."}], "owner": {"reputation": 3113, "user_id": 1541609, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b489568449345d3e18dbf7aa4fa44f22?s=128&d=identicon&r=PG", "display_name": "Ewan Valentine", "link": "https://stackoverflow.com/users/1541609/ewan-valentine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 260, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1518650550, "creation_date": 1518647732, "last_edit_date": 1518650550, "question_id": 48797350, "link": "https://stackoverflow.com/questions/48797350/react-timer-component-setstate-not-working", "title": "React timer component, setState not working", "body": "<p>I have the following React component: </p>\n\n<pre><code>import React from 'react';\nimport PropTypes from 'prop-types';\nimport Timer from '../Timer';\nimport moment from 'moment';\nrequire('moment-countdown');\n\nclass PageThreeInfoSection extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      date: this.getDate(),\n    };\n\n    this.getDate = this.getDate.bind(this);\n  }\n\n  getDate() {\n    return moment().countdown(\"2018-02-22\").toString();\n  }\n\n   componentWillMount() {\n     this.interval = setInterval(() =&gt; {\n       this.setState({\n         date: this.getDate(),\n       });\n     }, 1000);\n   }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  render() {\n    const { date, } = this.state;\n    const { joinedFriendNumber, } = this.props;\n    return (\n      &lt;div className=\"mt-4 mb-5 mt-sm-0 mb-sm-0\"&gt;\n        &lt;h5 id=\"scroll-title\" className=\"col-24 text-uppercase text-dark mt-4 mb-2 p-0 px-sm-3\"&gt;\n          {joinedFriendNumber} Friends Have Joined So Far\n        &lt;/h5&gt;\n        &lt;div className=\"col-24 text-light smallest mb-2\"&gt;\n          Your friends need to confirm their email to get your points\n        &lt;/div&gt;\n        &lt;div className='timer-container'&gt;\n          &lt;Timer time={date} /&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n\nPageThreeInfoSection.propTypes = {\n  joinedFriendNumber: PropTypes.number,\n};\n\nPageThreeInfoSection.defaultProps = {\n  joinedFriendNumber: 0,\n};\n\nexport default PageThreeInfoSection;\n</code></pre>\n\n<p>And the Timer component: </p>\n\n<pre><code>import React from 'react';\nimport * as PropTypes from 'prop-types';\n\nconst Timer = ({ time, }) =&gt; (\n  &lt;span className='timer'&gt;\n    {time}\n  &lt;/span&gt;\n);\n\nTimer.propTypes = {\n  time: PropTypes.string,\n};\n\nexport default Timer;\n</code></pre>\n\n<p>I'm attempting to update the timer component with a new time each second. So the DOM updates in real-time. Trouble is, <code>this.setState()</code> doesn't seem to actually update the state and cause the render function to update. </p>\n\n<p>I'm using server side rendering which means componentDidMount doesn't seem to work at all, it doesn't even get triggered. </p>\n"}, {"tags": ["javascript", "video-streaming", "html5-video", "webrtc", "peerjs"], "answers": [{"comments": [{"owner": {"reputation": 781, "user_id": 5633198, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/1e8c15da7e29bbdc5533fe6d9922f51e?s=128&d=identicon&r=PG&f=1", "display_name": "Casey", "link": "https://stackoverflow.com/users/5633198/casey"}, "edited": false, "score": 0, "creation_date": 1518713620, "post_id": 48803049, "comment_id": 84628277, "body": "Thanks for the response. Issue was that I was using <code>autoplay</code> instead of <code>autoPlay</code>. Very finicky..."}, {"owner": {"reputation": 781, "user_id": 5633198, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/1e8c15da7e29bbdc5533fe6d9922f51e?s=128&d=identicon&r=PG&f=1", "display_name": "Casey", "link": "https://stackoverflow.com/users/5633198/casey"}, "edited": false, "score": 0, "creation_date": 1518715429, "post_id": 48803049, "comment_id": 84629390, "body": "That may be the case. However when I set it to <code>autoPlay</code> it works and when I set it to <code>autoplay</code> it does not work."}, {"owner": {"reputation": 781, "user_id": 5633198, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/1e8c15da7e29bbdc5533fe6d9922f51e?s=128&d=identicon&r=PG&f=1", "display_name": "Casey", "link": "https://stackoverflow.com/users/5633198/casey"}, "edited": false, "score": 0, "creation_date": 1518715839, "post_id": 48803049, "comment_id": 84629654, "body": "It did still happen when I launched chrome with <code>--autoplay-policy=no-user-gesture-required</code>"}], "tags": [], "owner": {"reputation": 11384, "user_id": 4352772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/olHTi.jpg?s=128&g=1", "display_name": "Philipp Hancke", "link": "https://stackoverflow.com/users/4352772/philipp-hancke"}, "is_accepted": false, "score": 0, "last_activity_date": 1518684154, "creation_date": 1518684154, "answer_id": 48803049, "question_id": 48797341, "link": "https://stackoverflow.com/questions/48797341/frozen-video-feed/48803049#48803049", "title": "Frozen Video Feed", "body": "<p>This vaguely sounds like an issue with autoplay policies. This should only happen in Chrome Beta and Canary though. Does this happen if you start Chrome with --autoplay-policy=no-user-gesture-required (see <a href=\"https://bugs.chromium.org/p/chromium/issues/detail?id=804091#c13\" rel=\"nofollow noreferrer\">https://bugs.chromium.org/p/chromium/issues/detail?id=804091#c13</a>)</p>\n\n<p>You might also want to get rid of URL.createObjectURL (which is deprecated in Chrome as well now) and set the video srcObject to the stream.</p>\n"}, {"tags": [], "owner": {"reputation": 781, "user_id": 5633198, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/1e8c15da7e29bbdc5533fe6d9922f51e?s=128&d=identicon&r=PG&f=1", "display_name": "Casey", "link": "https://stackoverflow.com/users/5633198/casey"}, "is_accepted": false, "score": 0, "last_activity_date": 1518713570, "creation_date": 1518713570, "answer_id": 48812409, "question_id": 48797341, "link": "https://stackoverflow.com/questions/48797341/frozen-video-feed/48812409#48812409", "title": "Frozen Video Feed", "body": "<p>I was able to resolve the issue by changing the <code>autoplay</code> attribute on the <code>video</code> element to <code>autoPlay</code>.</p>\n"}], "owner": {"reputation": 781, "user_id": 5633198, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/1e8c15da7e29bbdc5533fe6d9922f51e?s=128&d=identicon&r=PG&f=1", "display_name": "Casey", "link": "https://stackoverflow.com/users/5633198/casey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 228, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1518713570, "creation_date": 1518647690, "last_edit_date": 1518648726, "question_id": 48797341, "link": "https://stackoverflow.com/questions/48797341/frozen-video-feed", "title": "Frozen Video Feed", "body": "<p>I build a simple video chat app using WebRTC via PeerJS with React.</p>\n\n<p>Everything seems to be working accept the video feed is frozen unless the Chrome tab with that video is selected and the user is clicking/scrolling/entering text from the keyboard. ie it seems that the video feed doesn't re-render unless the user is continuously sending events from the client. Obviously this is not the desired behavior; it should stream audio/video whether the user has selected that tab or not and whether they are scrolling or not.</p>\n\n<pre><code>import React, { Component } from 'react';\n\nimport Peer from 'peerjs';\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {};\n    }\n    componentDidMount() {\n        const peer = new Peer({key: 'lwjd5qra8257b9'});\n        console.log('peer', peer);\n        peer.on('open', (id) =&gt; {\n            //this.setState({ peer, id })\n            this.setState({ id })\n            this.peer = peer;\n        });\n        // ANSWER\n        peer.on('call', async (call) =&gt; {\n            const localStream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });\n            call.answer(localStream);\n            call.on('stream', (remoteStream) =&gt; {\n                this.setState({url: URL.createObjectURL(remoteStream)});\n            });\n        });\n    }\n    call = async (id) =&gt; {\n        const localStream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });\n        //const call = this.state.peer.call(id, localStream);\n        const call = this.peer.call(id, localStream);\n        call.on('stream', (remoteStream) =&gt; {\n            this.setState({url: URL.createObjectURL(remoteStream)});\n        });\n    } \n    submitForm = (e) =&gt; {\n        e.preventDefault();\n        const idInp = e.currentTarget.querySelector('.id');\n        const id = idInp.value;\n        idInp.value = '';\n        this.call(id);\n    }\n    render() {\n        return (\n            &lt;div className=\"App\"&gt;\n                &lt;header className=\"App-header\"&gt;\n                    &lt;h2 className=\"myId\"&gt;{ this.state.id || '' }&lt;/h2&gt;\n                &lt;/header&gt;\n                &lt;form className=\"callForm\" onSubmit={ this.submitForm }&gt;\n                    &lt;input className=\"id\" type=\"text\" name='id' /&gt;\n                    &lt;button type=\"submit\"&gt;Submit&lt;/button&gt;\n                &lt;/form&gt;\n                { this.state.url &amp;&amp; &lt;video autoplay src={this.state.url} /&gt; }\n            &lt;/div&gt;\n        );\n    }\n}\n\nexport default App;\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 1122, "user_id": 1813682, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4b7a79bc2ac4cd4914219ffad1b90390?s=128&d=identicon&r=PG", "display_name": "toto", "link": "https://stackoverflow.com/users/1813682/toto"}, "edited": false, "score": 0, "creation_date": 1518672793, "post_id": 48797331, "comment_id": 84603704, "body": "I recomended you use a &quot;FileReader&quot; and send data to server as binary or base64"}, {"owner": {"reputation": 1122, "user_id": 1813682, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4b7a79bc2ac4cd4914219ffad1b90390?s=128&d=identicon&r=PG", "display_name": "toto", "link": "https://stackoverflow.com/users/1813682/toto"}, "edited": false, "score": 0, "creation_date": 1518738066, "post_id": 48797331, "comment_id": 84640058, "body": "i assume that you need upload file using File object ? the user select the file first and send it... rigth?"}, {"owner": {"reputation": 11967, "user_id": 4936905, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-o5GQJ0wL1CU/AAAAAAAAAAI/AAAAAAAAA8A/2vXPq8k1xf4/photo.jpg?sz=128", "display_name": "Hassan Baig", "link": "https://stackoverflow.com/users/4936905/hassan-baig"}, "reply_to_user": {"reputation": 1122, "user_id": 1813682, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4b7a79bc2ac4cd4914219ffad1b90390?s=128&d=identicon&r=PG", "display_name": "toto", "link": "https://stackoverflow.com/users/1813682/toto"}, "edited": false, "score": 0, "creation_date": 1518739177, "post_id": 48797331, "comment_id": 84640340, "body": "@toto: correct. In fact, it&#39;s <code>blob</code> object (<code>file</code> object is an extension of <code>blob</code>)."}, {"owner": {"reputation": 1122, "user_id": 1813682, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4b7a79bc2ac4cd4914219ffad1b90390?s=128&d=identicon&r=PG", "display_name": "toto", "link": "https://stackoverflow.com/users/1813682/toto"}, "edited": false, "score": 0, "creation_date": 1518740106, "post_id": 48797331, "comment_id": 84640561, "body": "in Your server side you are using php, jsp ?"}, {"owner": {"reputation": 11967, "user_id": 4936905, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-o5GQJ0wL1CU/AAAAAAAAAAI/AAAAAAAAA8A/2vXPq8k1xf4/photo.jpg?sz=128", "display_name": "Hassan Baig", "link": "https://stackoverflow.com/users/4936905/hassan-baig"}, "reply_to_user": {"reputation": 1122, "user_id": 1813682, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4b7a79bc2ac4cd4914219ffad1b90390?s=128&d=identicon&r=PG", "display_name": "toto", "link": "https://stackoverflow.com/users/1813682/toto"}, "edited": false, "score": 0, "creation_date": 1518741064, "post_id": 48797331, "comment_id": 84640766, "body": "@toto: Well I&#39;m using Python (django framework), but the concepts ought to be the same"}, {"owner": {"reputation": 1122, "user_id": 1813682, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4b7a79bc2ac4cd4914219ffad1b90390?s=128&d=identicon&r=PG", "display_name": "toto", "link": "https://stackoverflow.com/users/1813682/toto"}, "edited": false, "score": 0, "creation_date": 1518742914, "post_id": 48797331, "comment_id": 84641255, "body": "You can convert base64 string to file image as example?"}, {"owner": {"reputation": 11967, "user_id": 4936905, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-o5GQJ0wL1CU/AAAAAAAAAAI/AAAAAAAAA8A/2vXPq8k1xf4/photo.jpg?sz=128", "display_name": "Hassan Baig", "link": "https://stackoverflow.com/users/4936905/hassan-baig"}, "reply_to_user": {"reputation": 1122, "user_id": 1813682, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4b7a79bc2ac4cd4914219ffad1b90390?s=128&d=identicon&r=PG", "display_name": "toto", "link": "https://stackoverflow.com/users/1813682/toto"}, "edited": false, "score": 0, "creation_date": 1518743030, "post_id": 48797331, "comment_id": 84641281, "body": "@toto: yes I can"}], "answers": [{"comments": [{"owner": {"reputation": 11967, "user_id": 4936905, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-o5GQJ0wL1CU/AAAAAAAAAAI/AAAAAAAAA8A/2vXPq8k1xf4/photo.jpg?sz=128", "display_name": "Hassan Baig", "link": "https://stackoverflow.com/users/4936905/hassan-baig"}, "edited": false, "score": 0, "creation_date": 1518731888, "post_id": 48799285, "comment_id": 84637867, "body": "Well a sprinkling of users I&#39;m dealing with (less than 1%) actually use <code>4.0.4</code> and <code>4.0.3</code>. So I thought it&#39;s worth a shot asking the question, in case there&#39;s a convenient fix for this. Seems there isn&#39;t. I suppose the best way would be to send base64 (in case of <code>v4</code>). But then it seems from your answer that it&#39;s tough to ascertain <code>v4</code> (or less) with precision. That means no real &quot;good&quot; solution exists here. But thanks for the answer, I&#39;ll mark it correct in a bit."}, {"owner": {"reputation": 11967, "user_id": 4936905, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-o5GQJ0wL1CU/AAAAAAAAAAI/AAAAAAAAA8A/2vXPq8k1xf4/photo.jpg?sz=128", "display_name": "Hassan Baig", "link": "https://stackoverflow.com/users/4936905/hassan-baig"}, "edited": false, "score": 0, "creation_date": 1518737267, "post_id": 48799285, "comment_id": 84639837, "body": "Would have been great if one could have checked whether the blob object appended correctly to the FormData object, based on which, one could have processed a fall back."}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "reply_to_user": {"reputation": 11967, "user_id": 4936905, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-o5GQJ0wL1CU/AAAAAAAAAAI/AAAAAAAAA8A/2vXPq8k1xf4/photo.jpg?sz=128", "display_name": "Hassan Baig", "link": "https://stackoverflow.com/users/4936905/hassan-baig"}, "edited": false, "score": 0, "creation_date": 1518738918, "post_id": 48799285, "comment_id": 84640286, "body": "Well if you have access to the server code, you can do the check there. If the received file is empty, let the frontside know with a special response and try again in b64."}, {"owner": {"reputation": 11967, "user_id": 4936905, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-o5GQJ0wL1CU/AAAAAAAAAAI/AAAAAAAAA8A/2vXPq8k1xf4/photo.jpg?sz=128", "display_name": "Hassan Baig", "link": "https://stackoverflow.com/users/4936905/hassan-baig"}, "edited": false, "score": 0, "creation_date": 1518739211, "post_id": 48799285, "comment_id": 84640347, "body": "Yea, you&#39;re right, that&#39;s one way to do it. Thanks."}], "tags": [], "owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "is_accepted": true, "score": 1, "last_activity_date": 1518745917, "last_edit_date": 1518745917, "creation_date": 1518662779, "answer_id": 48799285, "question_id": 48797331, "link": "https://stackoverflow.com/questions/48797331/using-formdatas-append-method-on-blob-object-on-unsupported-browser/48799285#48799285", "title": "Using FormData&#39;s append method on blob object on unsupported browser", "body": "<p>... Not an easy task... </p>\n\n<p>First question I would ask myself is if I really have to support this 7 years old browser with 0% of usage?</p>\n\n<p><strong>Feature detection:</strong></p>\n\n<p>We can now since quite recently check what a FormData contains through its <code>get()</code>, <code>has()</code>, <code>entries()</code>, <code>values()</code> etc. methods. But the first specifications and implementations didn't had these methods and hence didn't offer any mean to detect this particular flow.</p>\n\n<p>I don't have such an Android 4 browser to check, but I guess they didn't had any of these methods either...</p>\n\n<p>An other modern and a bit hackish way to check would be to use a ServiceWorker, which should be able to intercept a dummy request, letting you know if your Blob was well appended, but once again, ServiceWorkers didn't exist 7 years ago.</p>\n\n<p>This leaves us with an ugly browser identification, rather than a feature-detection (e.g <code>navigator.userAgent</code> parsing). I can't advice doing so because it's so prone to err that it might be better just letting your user know it failed in your server response.</p>\n\n<p><strong>Workaround</strong></p>\n\n<p>The ability to <a href=\"https://stackoverflow.com/questions/47119426/how-to-set-file-objects-and-length-property-at-filelist-object-where-the-files-a/47172409?noredirect=1#comment84517194_47172409\">send a generated Blob as binary through an other mean than FormData</a> has only appeared a few months ago, and currently only Blink browsers do support it natively, and FF through a bug exploit.</p>\n\n<p>This means that the only workaround for your users on Android Browser 4.xxx and for all the browsers that didn't support this method, would be to save the generated Blob on their device, and then to pick it from an <code>&lt;input&gt;</code> and send it through a normal HTML <code>&lt;form&gt;</code>, but this is assuming they will be able to even save this Blob on their device, and I can't tell for sure... </p>\n\n<p>Or you could maybe send a 30% bigger base64 representation of this data.</p>\n\n<p>Or, probably the best is to let them know they should update their browser because it's really dangerous to have such an old browser facing the web nowadays.</p>\n\n<hr>\n\n<p>So a small recap of the less bad possibilities: </p>\n\n<ol>\n<li>Check if FormData is available. Otherwise fallback to an ugly b64 in a <code>&lt;form&gt;</code></li>\n<li>Send a first time with optimal Blob as multi-part.</li>\n<li>On server: check if the received Blob is empty. In this case, let the front-side know from a custom response.</li>\n<li>If server said it failed, send again, this time as b64. Since the first time was empty, it should not have been a too heavy request anyway.</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 11967, "user_id": 4936905, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-o5GQJ0wL1CU/AAAAAAAAAAI/AAAAAAAAA8A/2vXPq8k1xf4/photo.jpg?sz=128", "display_name": "Hassan Baig", "link": "https://stackoverflow.com/users/4936905/hassan-baig"}, "edited": false, "score": 0, "creation_date": 1518744149, "post_id": 48818825, "comment_id": 84641556, "body": "This is cool, but here&#39;s a question. I also need to send other parameters alongwith user uploaded image. For instance, an image <code>caption</code> and a user <code>id</code>. Currently, I&#39;m simply using <code>form_data.append(&quot;uid&quot;, document.getElementById(&#39;user_id&#39;).value);</code> for user_id (and likewise for caption). How would that be possible via using this solution?"}, {"owner": {"reputation": 1122, "user_id": 1813682, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4b7a79bc2ac4cd4914219ffad1b90390?s=128&d=identicon&r=PG", "display_name": "toto", "link": "https://stackoverflow.com/users/1813682/toto"}, "reply_to_user": {"reputation": 11967, "user_id": 4936905, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-o5GQJ0wL1CU/AAAAAAAAAAI/AAAAAAAAA8A/2vXPq8k1xf4/photo.jpg?sz=128", "display_name": "Hassan Baig", "link": "https://stackoverflow.com/users/4936905/hassan-baig"}, "edited": false, "score": 0, "creation_date": 1518744224, "post_id": 48818825, "comment_id": 84641573, "body": "in the line: xhr.send(JSON.stringify({fileName: selectedFile.name, mimeType: selectedFile.type, extension: getFileExtension(selectedFile), contentFile: base64String})); you can add more variable to JSON object."}, {"owner": {"reputation": 1122, "user_id": 1813682, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4b7a79bc2ac4cd4914219ffad1b90390?s=128&d=identicon&r=PG", "display_name": "toto", "link": "https://stackoverflow.com/users/1813682/toto"}, "reply_to_user": {"reputation": 11967, "user_id": 4936905, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-o5GQJ0wL1CU/AAAAAAAAAAI/AAAAAAAAA8A/2vXPq8k1xf4/photo.jpg?sz=128", "display_name": "Hassan Baig", "link": "https://stackoverflow.com/users/4936905/hassan-baig"}, "edited": false, "score": 0, "creation_date": 1518744402, "post_id": 48818825, "comment_id": 84641616, "body": "i am updating an example... please wait"}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 1, "creation_date": 1518745625, "post_id": 48818825, "comment_id": 84641871, "body": "<b>Important note:</b> This should be only used as a workaround. It will send 30% more data and will also require more work server side. When available (99% of the time) send files as multipart (binary)."}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 0, "creation_date": 1518746156, "post_id": 48818825, "comment_id": 84641972, "body": "Also why are you doing the AB to b64 conversion yourself? FileReader as a <code>readAsDataURL</code> method which will make this way faster than your own implementation. All you&#39;d have to do then is <code>data = reader.result.split(&#39;,&#39;)[1]</code>"}, {"owner": {"reputation": 1122, "user_id": 1813682, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4b7a79bc2ac4cd4914219ffad1b90390?s=128&d=identicon&r=PG", "display_name": "toto", "link": "https://stackoverflow.com/users/1813682/toto"}, "edited": false, "score": 0, "creation_date": 1518748262, "post_id": 48818825, "comment_id": 84642455, "body": "Yes Kaido have a reason about the method. I will update the code."}, {"owner": {"reputation": 1122, "user_id": 1813682, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4b7a79bc2ac4cd4914219ffad1b90390?s=128&d=identicon&r=PG", "display_name": "toto", "link": "https://stackoverflow.com/users/1813682/toto"}, "edited": false, "score": 1, "creation_date": 1518748711, "post_id": 48818825, "comment_id": 84642552, "body": "Hello Hassan, I update the code. Now using: fl.readAsBinaryString(selectedFile); this is the real file length. From your side Python you need save Binary String to File. May this link help you: <a href=\"https://www.devdungeon.com/content/working-binary-data-python\" rel=\"nofollow noreferrer\">devdungeon.com/content/working-binary-data-python</a>"}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 0, "creation_date": 1518771650, "post_id": 48818825, "comment_id": 84649768, "body": "Ouch no. Don&#39;t use readAsBinaryString actually don&#39;t ever do it, it&#39;s been deprecated. This will return an utf16 version of the binary, and there are great chances some charactersbwon&#39;t pass through one or the other hand. base64 is unfortunately the best way to send a string version of binary data, but FileReader has a built in readAsDataURL method."}], "tags": [], "owner": {"reputation": 1122, "user_id": 1813682, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4b7a79bc2ac4cd4914219ffad1b90390?s=128&d=identicon&r=PG", "display_name": "toto", "link": "https://stackoverflow.com/users/1813682/toto"}, "is_accepted": false, "score": 1, "last_activity_date": 1518750197, "last_edit_date": 1518750197, "creation_date": 1518743853, "answer_id": 48818825, "question_id": 48797331, "link": "https://stackoverflow.com/questions/48797331/using-formdatas-append-method-on-blob-object-on-unsupported-browser/48818825#48818825", "title": "Using FormData&#39;s append method on blob object on unsupported browser", "body": "<p>Hello this is a little example how to send file to server as BINARY STRING.\nWith this you not requrired a formData. You can send with simple POST.\nPlease change the url uploadFile.php to your URL. And read the comments about variables example that your server should receiving.</p>\n\n<pre><code>     &lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;TODO supply a title&lt;/title&gt;\n        &lt;meta charset=\"UTF-8\"&gt;\n        &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n\n\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div&gt;\n            &lt;input id=\"btnFile\" type=\"file\" accept=\"image/*\" /&gt;\n        &lt;/div&gt;\n        &lt;div style=\"margin-top: 20px; width: 100px; border: solid 1px red\"&gt;\n            &lt;div id=\"divProgress\" style=\"background-color: red;width: 10px; height: 5px; margin: 1px\"&gt;&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div style=\"margin-top: 20px\"&gt;\n            &lt;input id=\"btnSend\" type=\"button\" value=\"Send File\" /&gt;\n            &lt;input id= \"user_id\" type=\"hidden\" value=\"123\"/&gt;\n        &lt;/div&gt;\n\n        &lt;script&gt;\n\n\n\n            var btnFile = document.getElementById(\"btnFile\");\n            var btnSend = document.getElementById(\"btnSend\");\n            var divProgress = document.getElementById(\"divProgress\");\n\n\n\n            var selectedFile = null;\n\n            //Register event on file selected or changed.\n            addEvents(btnFile, \"change\", function (event) {\n                if (event.target.files.length !== 0) {\n                    var file = event.target.files[0];\n                    //Check if the file is IMAGE.\n                    if (file.type.match(\"image.*\")) {\n                        selectedFile = file;\n                    } else {\n                        selectedFile = null;\n                        alert(\"Please select a IMAGE FILE\");\n                    }\n                } else {\n                    selectedFile = null;\n                }\n\n            });\n\n            //EVENT BTN SEND.\n            addEvents(btnSend, \"click\", function () {\n                if (selectedFile === null) {\n                    //Please select a file to upload.\n                    alert(\"Please select the file.\");\n                    return;\n                }\n\n                //File reader object.\n                var fl = new FileReader();\n\n                //Add event to read the content file.\n                addEvents(fl, \"load\", function (evt) {\n                    //alert(evt.target.result);\n                    try {\n\n\n                        //CONVERT ARRAY BUFFER TO BASE64 STRING.\n                        var binaryString = evt.target.result;\n\n                        //NOW YOU CAN SEND SIMPLE POST DATA.\n                        var xhr = new XMLHttpRequest();\n\n                        if (supportProgress(xhr)) {\n                            addEvents(xhr, \"progress\", onXHRProgress);\n                            addEvents(xhr, \"loadstart\", onXHRLoadStart);\n                            addEvents(xhr, \"abort\", onXHRAbort);\n                        }\n\n\n                        xhr.open(\"POST\", \"/uploadFile.php\", true);\n                        //xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n\n                        var user_id = document.getElementById('user_id').value;\n\n                        var myData = {\n                            uid: user_id,\n                            fileName: selectedFile.name,\n                            mimeType: selectedFile.type,\n                            extension: getFileExtension(selectedFile),\n                            contentFile: binaryString\n\n                        };\n                        xhr.send(JSON.stringify(myData));\n\n                        /*\n                         * IN YOUR SERVER SIDE YOU GET THE POST VARIABLE.\n                         * fileName = The name of the file.\n                         * mimeType = example \"image/png\"\n                         * extension = png\n                         * conentFile = Binary String of the content file and you can convert the Binary String to File in your disk according extension or mimeType\n                         */\n\n                    } catch (e) {\n\n                    }\n\n                });\n\n                //Read the file as arraybuffer.\n                fl.readAsBinaryString(selectedFile);\n            });\n\n\n            function onXHRProgress(e) {\n                var loaded = 0;\n                if (e.lengthComputable) {\n                    if (e.loaded === e.total) {\n                        loaded = 100;\n                        selectedFile = null;\n                    } else {\n                        loaded = Math.round((e.loaded * 100) / e.total);\n                    }\n\n                    //Change the progress here.\n                    divProgress.style.width = loaded + \"px\";\n                }\n            }\n\n            function onXHRLoadStart() {\n                divProgress.style.width = \"0px\";\n            }\n\n            function onXHRAbort() {\n                selectedFile = null;\n\n            }\n\n\n\n            function getFileExtension(file) {\n                var fileName = file.name;\n                var i = fileName.toString().lastIndexOf(\".\");\n                if (i !== -1) {\n                    return fileName.toString().substring((i + 1), fileName.toString().length).toLowerCase();\n                } else {\n                    return \"\";\n                }\n\n            }\n\n\n            function supportProgress(xhr) {\n                return !!(xhr &amp;&amp; ('upload' in xhr) &amp;&amp; ('onprogress' in xhr.upload));\n            }\n\n            function addEvents(obj, evtName, func) {\n                if (obj.addEventListener !== undefined &amp;&amp; obj.addEventListener !== null) {\n                    obj.addEventListener(evtName, func, false);\n                } else if (obj.attachEvent !== undefined &amp;&amp; obj.attachEvent !== null) {\n                    obj.attachEvent(evtName, func);\n                } else {\n                    if (this.getAttribute(\"on\" + evtName) !== undefined) {\n                        obj[\"on\" + evtName] = func;\n                    } else {\n                        obj[evtName] = func;\n                    }\n                }\n\n            }\n\n            function removeEvents(obj, evtName, func) {\n                if (obj.removeEventListener !== undefined &amp;&amp; obj.removeEventListener !== null) {\n                    obj.removeEventListener(evtName, func, false);\n                } else if (obj.detachEvent !== undefined &amp;&amp; obj.detachEvent !== null) {\n                    obj.detachEvent(evtName, func);\n                } else {\n                    if (this.getAttribute(\"on\" + evtName) !== undefined) {\n                        obj[\"on\" + evtName] = null;\n                    } else {\n                        obj[evtName] = null;\n                    }\n                }\n\n            }\n\n\n\n\n\n\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}], "owner": {"reputation": 11967, "user_id": 4936905, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-o5GQJ0wL1CU/AAAAAAAAAAI/AAAAAAAAA8A/2vXPq8k1xf4/photo.jpg?sz=128", "display_name": "Hassan Baig", "link": "https://stackoverflow.com/users/4936905/hassan-baig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 48799285, "answer_count": 2, "score": 1, "last_activity_date": 1518750197, "creation_date": 1518647652, "last_edit_date": 1592644375, "question_id": 48797331, "link": "https://stackoverflow.com/questions/48797331/using-formdatas-append-method-on-blob-object-on-unsupported-browser", "title": "Using FormData&#39;s append method on blob object on unsupported browser", "body": "<p>While creating an Ajax request for a user-uploaded image, I'm using a <code>FormData()</code> instance in the following manner:</p>\n<pre><code>var form_data = new FormData();\nform_data.append(img_field, img_to_send, img_name);\n</code></pre>\n<p>Note that <code>img_to_send</code> is an object of type <code>Blob</code>.</p>\n<p>My problem is this little browser compatibility caveat in the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/FormData\" rel=\"nofollow noreferrer\">FormData MDN web docs</a>:</p>\n<blockquote>\n<p>XHR in Android 4.0 sends empty content for FormData with blob.</p>\n</blockquote>\n<p>This relates to the Android browser (ver 4.0). This implies the xhr I'm attempting with <code>FormData</code> via <code>append</code> is probably going to fail in that particular browser.</p>\n<p>My question is, what kind of alternative can I utilize to ensure the said browser is able to correctly process the xhr (a requirement of mine)? It'll be great to get an illustrative example.</p>\n<p>And if there are no alternatives here, how do I write my code such that it only executes for browsers that support <code>append</code> with a <code>blob</code> object? Something like this?</p>\n<pre><code>if (window.FormData.append) {\n// xhr code comes here\n} \n</code></pre>\n<p>I'm quite unsure about that one.</p>\n<p><em>p.s. please stick to pure JS for the purposes of answering the question.</em></p>\n"}, {"tags": ["javascript", "angular", "accessibility", "wai-aria"], "comments": [{"owner": {"reputation": 2205, "user_id": 5705462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c0821d8458f0143b6b37046fa2e58c9?s=128&d=identicon&r=PG", "display_name": "sliptype", "link": "https://stackoverflow.com/users/5705462/sliptype"}, "edited": false, "score": 0, "creation_date": 1518647677, "post_id": 48797317, "comment_id": 84597236, "body": "So you don&#39;t want the text to be read when the text is updated? Can you just not update the text?"}, {"owner": {"reputation": 5950, "user_id": 3803152, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/3k2Tp.jpg?s=128&g=1", "display_name": "TheSoundDefense", "link": "https://stackoverflow.com/users/3803152/thesounddefense"}, "reply_to_user": {"reputation": 2205, "user_id": 5705462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c0821d8458f0143b6b37046fa2e58c9?s=128&d=identicon&r=PG", "display_name": "sliptype", "link": "https://stackoverflow.com/users/5705462/sliptype"}, "edited": false, "score": 0, "creation_date": 1518647864, "post_id": 48797317, "comment_id": 84597307, "body": "@sklingler93 The text is never actually changed, but it&#39;s read aloud when other things happen to the component (such as when the whole component is grayed out) and I&#39;m trying to prevent that."}, {"owner": {"reputation": 2205, "user_id": 5705462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c0821d8458f0143b6b37046fa2e58c9?s=128&d=identicon&r=PG", "display_name": "sliptype", "link": "https://stackoverflow.com/users/5705462/sliptype"}, "edited": false, "score": 0, "creation_date": 1518647926, "post_id": 48797317, "comment_id": 84597327, "body": "Can you wrap just the text in a div with <code>aria-live=assertive</code>?"}, {"owner": {"reputation": 5950, "user_id": 3803152, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/3k2Tp.jpg?s=128&g=1", "display_name": "TheSoundDefense", "link": "https://stackoverflow.com/users/3803152/thesounddefense"}, "reply_to_user": {"reputation": 2205, "user_id": 5705462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c0821d8458f0143b6b37046fa2e58c9?s=128&d=identicon&r=PG", "display_name": "sliptype", "link": "https://stackoverflow.com/users/5705462/sliptype"}, "edited": false, "score": 0, "creation_date": 1518647979, "post_id": 48797317, "comment_id": 84597351, "body": "@sklingler93 That was what we tried first; unfortunately, it keeps reading the text when we gray out the component."}], "owner": {"reputation": 5950, "user_id": 3803152, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/3k2Tp.jpg?s=128&g=1", "display_name": "TheSoundDefense", "link": "https://stackoverflow.com/users/3803152/thesounddefense"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1518648792, "creation_date": 1518647562, "last_edit_date": 1518648792, "question_id": 48797317, "link": "https://stackoverflow.com/questions/48797317/aria-angular-read-text-aloud-on-page-load-without-stealing-focus", "title": "ARIA + Angular: read text aloud on page load without stealing focus", "body": "<p>We are writing an application using Angular (2+). What I am trying to do right now is ensure that a certain piece of text is read out loud when a page loads (or when a certain component on the page is re-created) without stealing focus, and without the text being read at any other time. The initial attempt was to add this to the top of the component:</p>\n\n<pre><code>&lt;div\n    class=\"a11y\"\n    aria-live=\"assertive\"&gt;\n  Content loaded\n&lt;/div&gt;\n</code></pre>\n\n<p>With <code>a11y</code> being a class to hide the text for sighted users. It does in fact read the text aloud when the component is created or re-created; unfortunately, it also reads the text aloud in other scenarios, such as when we do a router.navigateByUrl and cover the screen in a gray loading div. I also tried setting <code>aria-relevant=text</code> and swapping out the text in the component's <code>ngOnInit()</code> function, with no luck.</p>\n\n<p>Is there any way to do what I'm trying to do?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 6268, "user_id": 8724160, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mmcTl.jpg?s=128&g=1", "display_name": "Smokey Dawson", "link": "https://stackoverflow.com/users/8724160/smokey-dawson"}, "edited": false, "score": 0, "creation_date": 1518647906, "post_id": 48797357, "comment_id": 84597319, "body": "all that does is add that to the end of the current route <code>week-1&#47;asset&#47;jiWG0Ufzlm4ccUsuYsuWQ</code> turns into <code>week-1&#47;asset&#47;jiWG0Ufzlm4ccUsuYsuWQ&#47;week-1&#47;asset&#47;jiWG0Ufzlm4c&zwnj;&#8203;cUsuYsuWQ</code> same with asset"}, {"owner": {"reputation": 3327, "user_id": 9332897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dff3c65b9320cf39522a851560633c5c?s=128&d=identicon&r=PG&f=1", "display_name": "Nikola Gavric", "link": "https://stackoverflow.com/users/9332897/nikola-gavric"}, "reply_to_user": {"reputation": 6268, "user_id": 8724160, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mmcTl.jpg?s=128&g=1", "display_name": "Smokey Dawson", "link": "https://stackoverflow.com/users/8724160/smokey-dawson"}, "edited": false, "score": 0, "creation_date": 1518648270, "post_id": 48797357, "comment_id": 84597477, "body": "Try with <code>asset&#47;</code>"}, {"owner": {"reputation": 6268, "user_id": 8724160, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mmcTl.jpg?s=128&g=1", "display_name": "Smokey Dawson", "link": "https://stackoverflow.com/users/8724160/smokey-dawson"}, "edited": false, "score": 0, "creation_date": 1518648445, "post_id": 48797357, "comment_id": 84597547, "body": "once again it only adds the new route on to the end of the current route"}, {"owner": {"reputation": 3327, "user_id": 9332897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dff3c65b9320cf39522a851560633c5c?s=128&d=identicon&r=PG&f=1", "display_name": "Nikola Gavric", "link": "https://stackoverflow.com/users/9332897/nikola-gavric"}, "reply_to_user": {"reputation": 6268, "user_id": 8724160, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mmcTl.jpg?s=128&g=1", "display_name": "Smokey Dawson", "link": "https://stackoverflow.com/users/8724160/smokey-dawson"}, "edited": false, "score": 0, "creation_date": 1518648668, "post_id": 48797357, "comment_id": 84597624, "body": "Try swapping places of those 2 routes inside of your <code>routing page</code> file?"}, {"owner": {"reputation": 3327, "user_id": 9332897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dff3c65b9320cf39522a851560633c5c?s=128&d=identicon&r=PG&f=1", "display_name": "Nikola Gavric", "link": "https://stackoverflow.com/users/9332897/nikola-gavric"}, "reply_to_user": {"reputation": 6268, "user_id": 8724160, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mmcTl.jpg?s=128&g=1", "display_name": "Smokey Dawson", "link": "https://stackoverflow.com/users/8724160/smokey-dawson"}, "edited": false, "score": 0, "creation_date": 1518648975, "post_id": 48797357, "comment_id": 84597751, "body": "Last thing that came to my mind is try changing the <code>week-1&#47;asset&#47;:id</code> inside of your <code>routing page</code> file to <code>asset&#47;:id</code> and tell us did it do the trick?"}, {"owner": {"reputation": 6268, "user_id": 8724160, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mmcTl.jpg?s=128&g=1", "display_name": "Smokey Dawson", "link": "https://stackoverflow.com/users/8724160/smokey-dawson"}, "edited": false, "score": 0, "creation_date": 1518649057, "post_id": 48797357, "comment_id": 84597778, "body": "please see updated question I dont think I was specific enough before"}], "tags": [], "owner": {"reputation": 3327, "user_id": 9332897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dff3c65b9320cf39522a851560633c5c?s=128&d=identicon&r=PG&f=1", "display_name": "Nikola Gavric", "link": "https://stackoverflow.com/users/9332897/nikola-gavric"}, "is_accepted": false, "score": 0, "last_activity_date": 1518648245, "last_edit_date": 1518648245, "creation_date": 1518647780, "answer_id": 48797357, "question_id": 48797312, "link": "https://stackoverflow.com/questions/48797312/routerlink-to-route-with-parameters-not-working/48797357#48797357", "title": "routerLink to route with parameters not working", "body": "<p>Try with this button:</p>\n\n<pre><code>&lt;button [routerLink]=\"['asset/', newId]\"&gt;click&lt;/button&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6268, "user_id": 8724160, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mmcTl.jpg?s=128&g=1", "display_name": "Smokey Dawson", "link": "https://stackoverflow.com/users/8724160/smokey-dawson"}, "edited": false, "score": 0, "creation_date": 1518648307, "post_id": 48797413, "comment_id": 84597495, "body": "if i do <code>&lt;button [routerLink]=&quot;[&#39;&#47;week-1&#47;asset&#39;, newId]&quot;&gt;click&lt;&#47;button&gt;</code>  I get the same error as posted above <code>Cannot match any routes. URL Segment: &#39;week-1&#47;asset&#47;3SrqtB4haMCI8AsoEM84w4&#39;</code> and if I dont have the forward slash in front of asset It just adds the new route to the end of the old one"}, {"owner": {"reputation": 2486, "user_id": 2255594, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/vrBrq.jpg?s=128&g=1", "display_name": "Geraint Anderson", "link": "https://stackoverflow.com/users/2255594/geraint-anderson"}, "reply_to_user": {"reputation": 6268, "user_id": 8724160, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mmcTl.jpg?s=128&g=1", "display_name": "Smokey Dawson", "link": "https://stackoverflow.com/users/8724160/smokey-dawson"}, "edited": false, "score": 0, "creation_date": 1518648839, "post_id": 48797413, "comment_id": 84597693, "body": "The forward slash at the beginning defines an absolute route, so when you leave it off the route should be appended to your current route by design. What route is your button on?"}, {"owner": {"reputation": 6268, "user_id": 8724160, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mmcTl.jpg?s=128&g=1", "display_name": "Smokey Dawson", "link": "https://stackoverflow.com/users/8724160/smokey-dawson"}, "edited": false, "score": 0, "creation_date": 1518648960, "post_id": 48797413, "comment_id": 84597745, "body": "so the button is on the asset page so /asset/a32f0f0sdfew9es right but what I want to do is on this button click is change the id on the asset page, please see updated question I dont think I was being specific enough"}, {"owner": {"reputation": 6268, "user_id": 8724160, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mmcTl.jpg?s=128&g=1", "display_name": "Smokey Dawson", "link": "https://stackoverflow.com/users/8724160/smokey-dawson"}, "edited": false, "score": 0, "creation_date": 1518651784, "post_id": 48797413, "comment_id": 84598664, "body": "This wasnt exactly what needed to happen to make it work but it did point me in the right direction to fix it thanks"}, {"owner": {"reputation": 2486, "user_id": 2255594, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/vrBrq.jpg?s=128&g=1", "display_name": "Geraint Anderson", "link": "https://stackoverflow.com/users/2255594/geraint-anderson"}, "reply_to_user": {"reputation": 6268, "user_id": 8724160, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mmcTl.jpg?s=128&g=1", "display_name": "Smokey Dawson", "link": "https://stackoverflow.com/users/8724160/smokey-dawson"}, "edited": false, "score": 0, "creation_date": 1518685811, "post_id": 48797413, "comment_id": 84609574, "body": "What the problem was in the end? I was completely stumped as to why the above didn&#39;t work so would be really interested in finding out what worked."}, {"owner": {"reputation": 6268, "user_id": 8724160, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mmcTl.jpg?s=128&g=1", "display_name": "Smokey Dawson", "link": "https://stackoverflow.com/users/8724160/smokey-dawson"}, "edited": false, "score": 0, "creation_date": 1518685970, "post_id": 48797413, "comment_id": 84609645, "body": "I have 3 different routing modules so when I was doing /asset I didnt actually have an /asset it was really app/main/week-1/asset"}], "tags": [], "owner": {"reputation": 2486, "user_id": 2255594, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/vrBrq.jpg?s=128&g=1", "display_name": "Geraint Anderson", "link": "https://stackoverflow.com/users/2255594/geraint-anderson"}, "is_accepted": true, "score": 1, "last_activity_date": 1518648015, "creation_date": 1518648015, "answer_id": 48797413, "question_id": 48797312, "link": "https://stackoverflow.com/questions/48797312/routerlink-to-route-with-parameters-not-working/48797413#48797413", "title": "routerLink to route with parameters not working", "body": "<p>The path you are trying to access is \"/asset/:id\", but your route is defined as \"/week-1/asset/:id\". So you either need to provide the full path to the router link, like this:</p>\n\n<pre><code>&lt;button [routerLink]=\"['/week-1/asset', newId]\"&gt;click&lt;/button&gt;\n</code></pre>\n\n<p>or assuming you are already at the week-1 route, you can provide a relative path by omitting the first forward slash:</p>\n\n<pre><code>&lt;button [routerLink]=\"['asset', newId]\"&gt;click&lt;/button&gt;\n</code></pre>\n"}], "owner": {"reputation": 6268, "user_id": 8724160, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mmcTl.jpg?s=128&g=1", "display_name": "Smokey Dawson", "link": "https://stackoverflow.com/users/8724160/smokey-dawson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1369, "favorite_count": 0, "accepted_answer_id": 48797413, "answer_count": 2, "score": 0, "last_activity_date": 1518649027, "creation_date": 1518647538, "last_edit_date": 1518649027, "question_id": 48797312, "link": "https://stackoverflow.com/questions/48797312/routerlink-to-route-with-parameters-not-working", "title": "routerLink to route with parameters not working", "body": "<p>I have a <code>routerLink</code> on my page that goes to a certain route but Im getting this error </p>\n\n<p>Basically I have an asset page that has a unique id then when you click the button the id changes and the route should update so asset/sa3384320402 should then change to asset/i44309509439 the new id</p>\n\n<p><a href=\"https://i.stack.imgur.com/96suU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/96suU.png\" alt=\"enter image description here\"></a></p>\n\n<p>my routerLink is as follows</p>\n\n<pre><code>&lt;button [routerLink]=\"['/asset', newId]\"&gt;click&lt;/button&gt;\n</code></pre>\n\n<p>my routing page </p>\n\n<pre><code>@NgModule({\nimports: [\n    RouterModule.forChild([\n        {\n            path: '',\n            children: [\n                { path: 'week-1', component: Week1Component },\n                { path: 'week-1/asset/:id', component: AssetPageComponent }\n            ]\n        }\n    ])\n],\n</code></pre>\n\n<p>and my asset-page.component.ts</p>\n\n<pre><code>import { Component, OnInit, AfterViewInit } from '@angular/core';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/switchMap';\nimport { ActivatedRoute, ParamMap, Router } from '@angular/router';\nimport { Entry } from 'contentful';\nimport { ContentfulService } from '../../../contentful.service';\n\nimport * as _ from 'lodash';\n\ndeclare var Player: any;\ndeclare var Vimeo: any;\n\n@Component({\n  selector: 'app-asset-page',\n  templateUrl: './asset-page.component.html',\n  styleUrls: ['./asset-page.component.scss']\n})\nexport class AssetPageComponent implements OnInit {\n  asset: Entry&lt;any&gt;[];\n  id: string;\n  videoID: string;\n\n  constructor(\n    private contentfulService: ContentfulService,\n    private route: ActivatedRoute,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n    this.route.paramMap\n    .switchMap((params: ParamMap) =&gt; this.contentfulService.getAsset(params.get('id')))\n    .subscribe((asset) =&gt; {\n      this.asset = asset;\n      console.log(this.asset);\n    });\n   }\n}    \n</code></pre>\n\n<p>Im not sure what Is going on because if I go to that route it does work just not through the routerLink?</p>\n\n<p>any help would be appreciated!</p>\n\n<p>Thanks</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I have tried the following with these results</p>\n\n<p><code>&lt;button [routerLink]=\"['/week-1/asset', newId]\"&gt;click&lt;/button&gt;</code> - same error as above</p>\n\n<p><code>&lt;button [routerLink]=\"['asset/', newId]\"&gt;click&lt;/button&gt;</code> - just adds the new route to the end of the old route</p>\n\n<p><code>&lt;button [routerLink]=\"['asset', newId]\"&gt;click&lt;/button&gt;</code> - just adds the new route to the end of the old route</p>\n"}, {"tags": ["javascript", "math", "matrix", "latex"], "answers": [{"tags": [], "owner": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "is_accepted": true, "score": 1, "last_activity_date": 1522049560, "last_edit_date": 1522049560, "creation_date": 1518647269, "answer_id": 48797282, "question_id": 48797281, "link": "https://stackoverflow.com/questions/48797281/how-do-i-compute-a-determinant-with-javascript-with-input-as-a-latex-input-form/48797282#48797282", "title": "How do I compute a determinant with JavaScript, with input as a LaTeX input format?", "body": "<p>Here is an online JavaScript solution, using <a href=\"http://mathjs.org/\" rel=\"nofollow noreferrer\">the math.js library</a>.</p>\n\n<p>Run it below, and paste this into it, it will work!</p>\n\n<pre><code>1 &amp; -2 &amp; 2 &amp; -1 \\\\ \n-2 &amp; 0 &amp; 0 &amp; 4 \\\\ \n-1 &amp; 2 &amp; -1 &amp; 3 \\\\ \n0 &amp; 1 &amp; 3 &amp; 1\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('#a').on('input', function() {\r\n    try {\r\n        var s = $('#a').val();\r\n        var t = '[[' + s.replace(/&amp;/g, ',').replace(/\\\\\\\\/g, '],[') + ']]';\r\n        var A = JSON.parse(t);\r\n        $('#b').text(t);\r\n        $('#c').text(math.det(A));\r\n        $('#d').text(math.inv(A));\r\n        $('#e').text(math.multiply(math.det(A),math.inv(A)));\r\n    } catch (err) {\r\n        $('#b').text(\"Incorrect input\");\r\n        $('#c').text(\"\");\r\n        $('#d').text(\"\");\r\n        $('#e').text(\"\");\r\n    }\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#a { width: 100% }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjs/3.20.2/math.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;input id=\"a\" placeholder=\"Paste LaTeX matrix\"&gt;&lt;/input&gt;\r\n&lt;br&gt;&lt;br&gt;Array format: &lt;div id=\"b\"&gt;&lt;/div&gt;\r\nDeterminant: &lt;div id=\"c\"&gt;&lt;/div&gt;\r\nInverse: &lt;div id=\"d\"&gt;&lt;/div&gt;\r\nDet * Inverse: &lt;div id=\"e\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 364, "favorite_count": 1, "accepted_answer_id": 48797282, "answer_count": 1, "score": 1, "last_activity_date": 1522049560, "creation_date": 1518647269, "last_edit_date": 1518665436, "question_id": 48797281, "link": "https://stackoverflow.com/questions/48797281/how-do-i-compute-a-determinant-with-javascript-with-input-as-a-latex-input-form", "title": "How do I compute a determinant with JavaScript, with input as a LaTeX input format?", "body": "<p>How do I compute a matrix determinant, with LaTeX input format, such as:</p>\n\n<pre><code>1 &amp; -2 &amp; 2 &amp; -1 \\\\ \n-2 &amp; 0 &amp; 0 &amp; 4 \\\\ \n-1 &amp; 2 &amp; -1 &amp; 3 \\\\ \n0 &amp; 1 &amp; 3 &amp; 1\n</code></pre>\n\n<p>Should one use <code>JSON.parse(...)</code> to convert this format into an array, and then use a JavaScript function to compute its determinant?</p>\n\n<p>Note: this question originally comes from <a href=\"https://math.stackexchange.com/q/2650941/109021\">Fastest way to compute a determinant from a LaTeX matrix input</a> but it's impossible to post an answer with code snippet there, thus an answer here, that can be interesting on its own.</p>\n"}, {"tags": ["javascript", "mysql", "node.js", "stored-procedures"], "comments": [{"owner": {"reputation": 319, "user_id": 1609971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb736f4539e6b2a7575276aecb82ed86?s=128&d=identicon&r=PG", "display_name": "Setherith", "link": "https://stackoverflow.com/users/1609971/setherith"}, "edited": false, "score": 0, "creation_date": 1518692906, "post_id": 48797245, "comment_id": 84614203, "body": "You also might want to consider connection pooling so that the connection is automatically released."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9362284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JwMzO.gif?s=128&g=1", "display_name": "LeadbyFaith21", "link": "https://stackoverflow.com/users/9362284/leadbyfaith21"}, "edited": false, "score": 0, "creation_date": 1518914519, "post_id": 48798963, "comment_id": 84698785, "body": "I tried that, I&#39;m getting the same error either way."}], "tags": [], "owner": {"reputation": 2485, "user_id": 3639630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rPscq.jpg?s=128&g=1", "display_name": "Wesgur", "link": "https://stackoverflow.com/users/3639630/wesgur"}, "is_accepted": false, "score": 0, "last_activity_date": 1518659337, "creation_date": 1518659337, "answer_id": 48798963, "question_id": 48797245, "link": "https://stackoverflow.com/questions/48797245/issues-calling-mysql-stored-procedure-through-node-js-function/48798963#48798963", "title": "Issues calling mySQL Stored Procedure through Node.JS function", "body": "<p>You are calling an asyncrhnous function <strong>con.connect</strong> and <strong>con.end</strong> separately. Put your <strong>con.end</strong> inside your <strong>con.query</strong> callback.  </p>\n\n<pre><code>var mysql = require('mysql');\nvar con = mysql.createConnection({\n    host: \"localhost\",\n    port: \"8080\",\n    user: \"root\",\n    password: \"pass\",\n    database: \"db\"\n});\n\ncreateNewProfile = function (firstName, lastName, type, isActive, securityClearance, location)\n{\n    var newID;\n\n    var sql = \"CALL create_new_profile_id\";\n\n    con.connect(function(err)\n    {\n        if(err) throw(err, \"Connection to database for creating new profile failed.\");\n\n        con.query(sql, function(err, results)\n        {\n            if(err){\n                console.log(err.message); \n                throw (err, \"create_new_profile_id filed.\");//this is where the error occurs\n            }//if\n\n            newID = results;\n            con.end(function(err){\n                if (err) throw err;\n                console.log(\"Connection closed.\");\n            });\n        });\n        //some more function calls to do other things with the profile\n    });//connect\n}//create new profile\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9362284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JwMzO.gif?s=128&g=1", "display_name": "LeadbyFaith21", "link": "https://stackoverflow.com/users/9362284/leadbyfaith21"}, "is_accepted": false, "score": 0, "last_activity_date": 1519684507, "creation_date": 1519684507, "answer_id": 48998193, "question_id": 48797245, "link": "https://stackoverflow.com/questions/48797245/issues-calling-mysql-stored-procedure-through-node-js-function/48998193#48998193", "title": "Issues calling mySQL Stored Procedure through Node.JS function", "body": "<p>I fixed the issue by removing the con.connect line and just having the con.query.</p>\n"}], "owner": {"reputation": 1, "user_id": 9362284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JwMzO.gif?s=128&g=1", "display_name": "LeadbyFaith21", "link": "https://stackoverflow.com/users/9362284/leadbyfaith21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 715, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1519684507, "creation_date": 1518647135, "question_id": 48797245, "link": "https://stackoverflow.com/questions/48797245/issues-calling-mysql-stored-procedure-through-node-js-function", "title": "Issues calling mySQL Stored Procedure through Node.JS function", "body": "<p>I'm trying to call a stored procedure in my mySQL database from a JavaScript function and get this error consistently when I get to the .query line: \"Cannot enqueue Query after invoking quit.\"</p>\n\n<p>Here's the function that I'm attempting to call:</p>\n\n<pre><code>var mysql = require('mysql');\nvar con = mysql.createConnection({\n    host: \"localhost\",\n    port: \"8080\",\n    user: \"root\",\n    password: \"pass\",\n    database: \"db\"\n});\n\ncreateNewProfile = function (firstName, lastName, type, isActive, securityClearance, location)\n{\n    var newID;\n\n    var sql = \"CALL create_new_profile_id\";\n\n    con.connect(function(err)\n    {\n        if(err) throw(err, \"Connection to database for creating new profile failed.\");\n\n        con.query(sql, function(err, results)\n        {\n            if(err)\n            {\n                console.log(err.message); \n                throw (err, \"create_new_profile_id filed.\");//this is where the error occurs\n            }//if\n\n            newID = results;\n        });\n\n        //some more function calls to do other things with the profile\n    });//connect\n\n    con.end(function(err){\n        if (err) throw err;\n        console.log(\"Connection closed.\");\n    });\n}//create new profile\n</code></pre>\n\n<p>The root user has all possible privileges and the sql query works just manually entering it in mysql workbench.</p>\n\n<p>Any thought on this?</p>\n"}, {"tags": ["javascript", "object", "ecmascript-6", "spread-syntax", "object-properties"], "comments": [{"owner": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 2, "creation_date": 1518647060, "post_id": 48797205, "comment_id": 84596950, "body": "Didn&#39;t you just ask <a href=\"https://stackoverflow.com/questions/48795653/merge-specific-prop-of-objects-into-one-using-es6\">this question</a>?"}, {"owner": {"reputation": 165, "user_id": 9350234, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2ebc6785d8dc1003c24b74eea453ce82?s=128&d=identicon&r=PG&f=1", "display_name": "Doe", "link": "https://stackoverflow.com/users/9350234/doe"}, "reply_to_user": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1518647103, "post_id": 48797205, "comment_id": 84596964, "body": "Yes I did, but I had changed my previous question, but the majority said to ask a new question. Please check the previous question&#39;s comments. Basically, the difference now is that we have to take care of props of nested objects @Icepickle"}, {"owner": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1518647222, "post_id": 48797205, "comment_id": 84597024, "body": "I don&#39;t see btw what a merge would do for you, you seem to want to create a linked structure between patients and doctors?"}, {"owner": {"reputation": 165, "user_id": 9350234, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2ebc6785d8dc1003c24b74eea453ce82?s=128&d=identicon&r=PG&f=1", "display_name": "Doe", "link": "https://stackoverflow.com/users/9350234/doe"}, "reply_to_user": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1518647305, "post_id": 48797205, "comment_id": 84597067, "body": "So the issue I&#39;m facing is that in reality each of these objects is very huge, and I don&#39;t want to pass everything around. I only would want few props from both objects and use that. @Icepickle"}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1518647386, "post_id": 48797205, "comment_id": 84597106, "body": "I don&#39;t get the problem. You don&#39;t have to do anything about those nested objects, do you? Your inputs and outputs are kinda confusing due to the <code>{...}</code> ellipsis and the missing comma."}, {"owner": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1518647497, "post_id": 48797205, "comment_id": 84597166, "body": "I am assuming that doctors and patients would then be used as a lookup table (probably based on a key like name) in case you have to find back data? How do you mean btw to pass a huge object around? If it&#39;s a reference then it doesn&#39;t cost you anything (or at least not nearly as much as you think it would)? At that time it would really depend on what you do in the rest of your code"}, {"owner": {"reputation": 165, "user_id": 9350234, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2ebc6785d8dc1003c24b74eea453ce82?s=128&d=identicon&r=PG&f=1", "display_name": "Doe", "link": "https://stackoverflow.com/users/9350234/doe"}, "reply_to_user": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1518647644, "post_id": 48797205, "comment_id": 84597222, "body": "@Icepickle I think your right, I usually have a reference to those objects. which I try to lookup the nested object somewhere else."}, {"owner": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1518648077, "post_id": 48797205, "comment_id": 84597401, "body": "Could it be this is an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem/66378#66378\">xy - problem</a>? I have a hard time understanding why you want to pull this object apart. Then why do you construct it in the first place? Actually, following your question history, to me it seems that your json is your &quot;db&quot; or at least that is what you are using it for, why do you want to do it in such a hard way? What is server side, what would be wrong with storing data, and retrieving per entity / screen?"}, {"owner": {"reputation": 165, "user_id": 9350234, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2ebc6785d8dc1003c24b74eea453ce82?s=128&d=identicon&r=PG&f=1", "display_name": "Doe", "link": "https://stackoverflow.com/users/9350234/doe"}, "reply_to_user": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1518699922, "post_id": 48797205, "comment_id": 84618822, "body": "@Icepickle That&#39;s exactly the problem. I have fallen into xy-problem haha! I think I&#39;ve already asked too many questions, and I feel I have annoyed the SO community. I&#39;m so sorry!"}, {"owner": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1518703097, "post_id": 48797205, "comment_id": 84621095, "body": "@Doe I get the sarcasm, I just wanted to understand better why you would have such a structure but then need to go through the trouble of separating it all. Asking questions is not a problem at all, and they will be replied to ;)"}], "answers": [{"tags": [], "owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "is_accepted": true, "score": 2, "last_activity_date": 1536280183, "last_edit_date": 1536280183, "creation_date": 1518647926, "answer_id": 48797388, "question_id": 48797205, "link": "https://stackoverflow.com/questions/48797205/merge-props-from-nested-objects-as-one-single-object-using-es6/48797388#48797388", "title": "merge props from nested objects as one single object using es6", "body": "<p>Use spread syntax <code>...</code> and <code>reduce</code> function.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const Patients = {  P1: {    \"name\": \"Person1\",    \"profession\": \"Student\",    \"gender\": \"Male\",    \"type\": \"Patient\",    \"Doctors\": {}  },  P2: {    \"name\": \"Person2\",    \"profession\": \"Student\",    \"gender\": \"Male\",    \"type\": \"Patient\",    \"Doctors\": {}  }}\r\nconst Doctors = {  D1: {    \"name\": \"Doctor1\",    \"profession\": \"Dr\",    \"gender\": \"Male\",    \"type\": \"Doctor\",    \"Patients\": {}  }}\r\n\r\nvar result = { ...Doctors.D1,\r\n  ...Object.keys(Patients).reduce((a, k) =&gt; {\r\n    a[k] = {\r\n      \"Doctors\": Patients[k].Doctors\r\n    };\r\n    return a;\r\n  }, {})\r\n};\r\n\r\ndelete result.gender;\r\ndelete result.type;\r\n\r\nconsole.log(result);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper {\r\n  max-height: 100% !important\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 165, "user_id": 9350234, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2ebc6785d8dc1003c24b74eea453ce82?s=128&d=identicon&r=PG&f=1", "display_name": "Doe", "link": "https://stackoverflow.com/users/9350234/doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 653, "favorite_count": 0, "accepted_answer_id": 48797388, "answer_count": 1, "score": 1, "last_activity_date": 1536280183, "creation_date": 1518646954, "last_edit_date": 1536280157, "question_id": 48797205, "link": "https://stackoverflow.com/questions/48797205/merge-props-from-nested-objects-as-one-single-object-using-es6", "title": "merge props from nested objects as one single object using es6", "body": "<p>Suppose we are given the following:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const Patients = {\r\n  P1: {\r\n    \"name\": \"Person1\",\r\n    \"profession\": \"Student\",\r\n    \"gender\": \"Male\",\r\n    \"type\": \"Patient\",\r\n    \"Doctors\": {...}\r\n  },\r\n  P2: {\r\n    \"name\": \"Person2\",\r\n    \"profession\": \"Student\",\r\n    \"gender\": \"Male\",\r\n    \"type\": \"Patient\",\r\n    \"Doctors\": {...}\r\n  }\r\n}\r\n\r\nconst Doctors = {\r\n  D1: {\r\n    \"name\": \"Doctor1\",\r\n    \"profession\": \"Dr\",\r\n    \"gender\": \"Male\",\r\n    \"type\": \"Doctor\",\r\n    \"Patients\": {...}\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>How can we merge the two objects (Patients &amp; Doctors) as One object so that the result is as follows:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const Result = {\r\n  \"name\": \"Doctor1\",\r\n  \"profession\": \"Dr\",\r\n  \"Patients\": {...},\r\n  P1: {\r\n    \"Doctors\": {...}\r\n  },\r\n  P2: {\r\n    \"Doctors\": {...}\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>As far as I know, I could use destruct on both objects to partially destruct and form a new object. But this makes it harder to obtain the nested object (i.e. <code>\"Doctors\": {...}</code> within P1 and P2.</p>\n\n<p>For example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let result = (({\r\n      name,\r\n      profession,\r\n      Patients\r\n    }, { /* Im not sue what to do here */ }) =&gt; ({\r\n      Patients,\r\n      /* Im not sue what to do here */ ))(Doctor, Object.values(Patients));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "arrays", "reactjs", "redux", "state"], "comments": [{"owner": {"reputation": 3347, "user_id": 1741027, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/N1hWk.jpg?s=128&g=1", "display_name": "slorenzo", "link": "https://stackoverflow.com/users/1741027/slorenzo"}, "edited": false, "score": 0, "creation_date": 1518649751, "post_id": 48797182, "comment_id": 84598045, "body": "Can you verify if payload have items on productsReducer file?"}, {"owner": {"reputation": 5881, "user_id": 2763250, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/789e54e86c54a04b78dbb818b3f82794?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/2763250/anthony"}, "edited": false, "score": 0, "creation_date": 1518650382, "post_id": 48797182, "comment_id": 84598257, "body": "have you <code>console.log()</code> the action in the <code>productsReducer</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 2564, "user_id": 497815, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7469f1aa8710d26e084c9cd3834f31a8?s=128&d=identicon&r=PG", "display_name": "Varinder", "link": "https://stackoverflow.com/users/497815/varinder"}, "reply_to_user": {"reputation": 35, "user_id": 7652346, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ff024da15557ea7f552fa2ef0c070a81?s=128&d=identicon&r=PG&f=1", "display_name": "AndrewB", "link": "https://stackoverflow.com/users/7652346/andrewb"}, "edited": false, "score": 0, "creation_date": 1518647706, "post_id": 48797204, "comment_id": 84597244, "body": "Couple more things, can you elaborate the purpose of <code>this.props.getProducts();</code> in <code>componentWillMount()</code> lifecycle event of <code>component.js</code> and also, you may want to pass <code>productsList</code> from <code>component.js</code> render method: <code>&lt;ProductList productsList={this.props.productsList} &#47;&gt;</code>"}, {"owner": {"reputation": 2564, "user_id": 497815, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7469f1aa8710d26e084c9cd3834f31a8?s=128&d=identicon&r=PG", "display_name": "Varinder", "link": "https://stackoverflow.com/users/497815/varinder"}, "reply_to_user": {"reputation": 35, "user_id": 7652346, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ff024da15557ea7f552fa2ef0c070a81?s=128&d=identicon&r=PG&f=1", "display_name": "AndrewB", "link": "https://stackoverflow.com/users/7652346/andrewb"}, "edited": false, "score": 0, "creation_date": 1518647739, "post_id": 48797204, "comment_id": 84597255, "body": "And finally, can you share code for <code>ProductList</code> component?"}, {"owner": {"reputation": 35, "user_id": 7652346, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ff024da15557ea7f552fa2ef0c070a81?s=128&d=identicon&r=PG&f=1", "display_name": "AndrewB", "link": "https://stackoverflow.com/users/7652346/andrewb"}, "edited": false, "score": 0, "creation_date": 1518648076, "post_id": 48797204, "comment_id": 84597400, "body": "Yeah...there&#39;s nothing there for now...I got stuck with not being able to update my state so as of now I render it in this component. Well, the purpose of <code>this.props.getProducts()</code> is to fire this function when component  mounts"}, {"owner": {"reputation": 2564, "user_id": 497815, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7469f1aa8710d26e084c9cd3834f31a8?s=128&d=identicon&r=PG", "display_name": "Varinder", "link": "https://stackoverflow.com/users/497815/varinder"}, "reply_to_user": {"reputation": 35, "user_id": 7652346, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ff024da15557ea7f552fa2ef0c070a81?s=128&d=identicon&r=PG&f=1", "display_name": "AndrewB", "link": "https://stackoverflow.com/users/7652346/andrewb"}, "edited": false, "score": 0, "creation_date": 1518648385, "post_id": 48797204, "comment_id": 84597529, "body": "Perhaps you can replace <code>ProductList</code> component with a simple loop for now to confirm <code>productsList</code> being retrieved correctly, I&#39;ve added <code>render</code> method code as an example"}, {"owner": {"reputation": 35, "user_id": 7652346, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ff024da15557ea7f552fa2ef0c070a81?s=128&d=identicon&r=PG&f=1", "display_name": "AndrewB", "link": "https://stackoverflow.com/users/7652346/andrewb"}, "edited": false, "score": 0, "creation_date": 1518648751, "post_id": 48797204, "comment_id": 84597652, "body": "Thanks, but the problem is redux is returning an empty array in my state"}], "tags": [], "owner": {"reputation": 2564, "user_id": 497815, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7469f1aa8710d26e084c9cd3834f31a8?s=128&d=identicon&r=PG", "display_name": "Varinder", "link": "https://stackoverflow.com/users/497815/varinder"}, "is_accepted": false, "score": 0, "last_activity_date": 1518648313, "last_edit_date": 1518648313, "creation_date": 1518646946, "answer_id": 48797204, "question_id": 48797182, "link": "https://stackoverflow.com/questions/48797182/redux-state-not-updating-array/48797204#48797204", "title": "Redux state not updating array", "body": "<p>I believe in <code>mapStateToProps</code> you're going to want to do the following:</p>\n\n<pre><code>const mapStateToProps = (state) =&gt; {\n    return {\n        productsList: state.productsList\n    };\n}\n</code></pre>\n\n<p>To confirm <code>productsList</code> being passed through, can you add in a simple loop to the <code>render</code> function of <code>component.js</code> like below:</p>\n\n<pre><code>render() {\n    const { productsList } = this.props;\n    return(\n        &lt;div&gt;\n            Home Page\n            {productsList.map((product, index) =&gt; (\n                &lt;div key={index}&gt;{product.PROPERTY_NAME_HERE}&lt;/div&gt;\n            ))}\n        &lt;/div&gt;\n    )\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 1556314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JSQ0H.jpg?s=128&g=1", "display_name": "bolan", "link": "https://stackoverflow.com/users/1556314/bolan"}, "is_accepted": false, "score": 0, "last_activity_date": 1518650245, "creation_date": 1518650245, "answer_id": 48797810, "question_id": 48797182, "link": "https://stackoverflow.com/questions/48797182/redux-state-not-updating-array/48797810#48797810", "title": "Redux state not updating array", "body": "<p>The way I do it with my reducer is</p>\n\n<pre><code>import { SHOW_PRODUCTS, SELECT_PRODUCT } from '../actions/products';\n\nconst initialState = {\n  productsList: []\n};\n\nconst productsReducer = (state = initialState, action) =&gt; {\n  switch (action.type) {\n    case SHOW_PRODUCTS:\n      let nextState = {...state};\n      nextState.productsList = action.payload\n      return nextState;\n  }\n  return state;\n}\n\nexport default productsReducer;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 7652346, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ff024da15557ea7f552fa2ef0c070a81?s=128&d=identicon&r=PG&f=1", "display_name": "AndrewB", "link": "https://stackoverflow.com/users/7652346/andrewb"}, "edited": false, "score": 0, "creation_date": 1518679696, "post_id": 48797893, "comment_id": 84606347, "body": "I have folder called actions where I also put my constants file, so it is imported correctly. That might be just a bad way of organizing my files, I don&#39;t know. if you look at the link I posted <a href=\"https://i.stack.imgur.com/bTnYh.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/bTnYh.png</a>. the action payload actually returns correct data from the action.payload"}, {"owner": {"reputation": 35, "user_id": 7652346, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ff024da15557ea7f552fa2ef0c070a81?s=128&d=identicon&r=PG&f=1", "display_name": "AndrewB", "link": "https://stackoverflow.com/users/7652346/andrewb"}, "edited": false, "score": 1, "creation_date": 1518680270, "post_id": 48797893, "comment_id": 84606663, "body": "It turns out I was importing it from a wrong path...I wasted all day trying to figure it out...just to notice it the next morning...Thanks for your help"}], "tags": [], "owner": {"reputation": 3292, "user_id": 3159293, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Vuw6V.png?s=128&g=1", "display_name": "Jose Paredes", "link": "https://stackoverflow.com/users/3159293/jose-paredes"}, "is_accepted": true, "score": 1, "last_activity_date": 1518650832, "creation_date": 1518650832, "answer_id": 48797893, "question_id": 48797182, "link": "https://stackoverflow.com/questions/48797182/redux-state-not-updating-array/48797893#48797893", "title": "Redux state not updating array", "body": "<p>You have a mistake, and I don't know if you a linter but in <code>productsReducer.js</code> you are importing <code>constants</code> from <code>actions</code> when it should be from <code>constants</code>:</p>\n\n<pre><code>import { SHOW_PRODUCTS, SELECT_PRODUCT } from '../actions/constants'; // &lt;- from constants instead\n\nconst initialState = {\n  productsList: []\n};\n\nconst productsReducer = (state = initialState, action) =&gt; {\n  switch (action.type) {\n    case SHOW_PRODUCTS: \n      return {...state, productsList: action.payload}\n  }\n  return state;\n}\n\nexport default productsReducer;\n</code></pre>\n\n<p>So your <code>reducer</code> shouldn't be actually taken the proper <code>case</code> since it is <code>undefined</code> and It will so return the initial state.</p>\n"}, {"tags": [], "owner": {"reputation": 43575, "user_id": 1880431, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/ARiD0.gif?s=128&g=1", "display_name": "meda", "link": "https://stackoverflow.com/users/1880431/meda"}, "is_accepted": false, "score": 0, "last_activity_date": 1518658007, "last_edit_date": 1518658007, "creation_date": 1518656847, "answer_id": 48798715, "question_id": 48797182, "link": "https://stackoverflow.com/questions/48797182/redux-state-not-updating-array/48798715#48798715", "title": "Redux state not updating array", "body": "<p>Try this way:</p>\n\n<pre><code>componentWillMount() {\n  this.getProducts(); \n}\n\ngetProducts() {\n  axios.get('http://localhost:5000/product/list')\n  .then((res) =&gt; {this.props.showProducts(res.data);})\n  .catch(err =&gt; console.log(err));\n}\n\nconst mapDispatchToProps = dispatch =&gt; ({\n  showProducts: (data) =&gt; {\n    dispatch(showProducts(data));\n  },\n});\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 7652346, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ff024da15557ea7f552fa2ef0c070a81?s=128&d=identicon&r=PG&f=1", "display_name": "AndrewB", "link": "https://stackoverflow.com/users/7652346/andrewb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1401, "favorite_count": 0, "accepted_answer_id": 48797893, "answer_count": 4, "score": 0, "last_activity_date": 1518658007, "creation_date": 1518646822, "last_edit_date": 1518647215, "question_id": 48797182, "link": "https://stackoverflow.com/questions/48797182/redux-state-not-updating-array", "title": "Redux state not updating array", "body": "<p>I have an issue with my redux. This is the first time I am using it in React. I have managed to successfully use it for logging and registering users. However, I have an array of objects created on backend which I am fetching with axios. Axios logs the data and my action creator also logs data in payload. However, it does not update my new state. I have no idea what I'm doing wrong as I tried it exactly the same way as with my login and register states, however these were only boolean values. I have googled and searched for a solution. I tried mapping new array, Object.assign and many others but I can't seem to get it working. Is there any special way on creating new array in state? or can I just assign it action.payload? I appreciate all help</p>\n\n<p>// store.js</p>\n\n<pre><code>import { applyMiddleware, createStore } from 'redux';\nimport logger from 'redux-logger';\nimport thunk from 'redux-thunk';\n\nimport reducer from './reducers/reducer';\n\nconst middleware = applyMiddleware(logger, thunk);\n\nexport default createStore(reducer, middleware);\n</code></pre>\n\n<p>// rootReducer.js</p>\n\n<pre><code>import { combineReducers } from 'redux';\n\nimport registerReducer from './registerReducer';\nimport loginReducer from './loginReducer';\nimport productsReducer from './products';\n\nexport default combineReducers({\n  registerReducer,\n  loginReducer,\n  productsReducer\n});\n</code></pre>\n\n<p>// productsReducer // I believe sth must be wrong here</p>\n\n<pre><code>import { SHOW_PRODUCTS, SELECT_PRODUCT } from '../actions/products';\n\nconst initialState = {\n  productsList: []\n};\n\nconst productsReducer = (state = initialState, action) =&gt; {\n  switch (action.type) {\n    case SHOW_PRODUCTS: \n      return {...state, productsList: action.payload}\n  }\n  return state;\n}\n\nexport default productsReducer;\n</code></pre>\n\n<p>// actions.js</p>\n\n<pre><code>import { SHOW_PRODUCTS, SELECT_PRODUCT } from './constants';\n\nexport function showProducts(products) {\n  return {\n    type: SHOW_PRODUCTS,\n    payload: products\n  };\n}\n</code></pre>\n\n<p>// component.js </p>\n\n<pre><code>import React, { Component } from 'react';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\n\nimport ProductsList from './ProductsList';\nimport { showProducts }  from '../actions/products';\n\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentWillMount() {\n    this.props.getProducts(); \n  }\n\n  render() {\n    return(\n      &lt;div&gt;Home Page\n        &lt;ProductsList /&gt;\n      &lt;/div&gt;\n    )\n  }\n}\n\nconst mapStateToProps = (state) =&gt; {\n  return {\n    productsList: state.productsReducer.productsList\n  };\n}\n\nconst mapDispatchToProps = (dispatch) =&gt; {\n  return {\n    getProducts: () =&gt; {\n      axios.get('http://localhost:5000/product/list')\n      .then((res) =&gt; {\n        console.log(res.data);\n        dispatch(showProducts(res.data))\n      })\n      .catch(err =&gt; console.log(err))\n    }\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n</code></pre>\n\n<p>I am also including a link to an image with my redux logger.</p>\n\n<p><a href=\"https://i.stack.imgur.com/bTnYh.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/bTnYh.png</a></p>\n\n<p>There's probably a very small, stupid mistake in here as I'm quite new to React and completely new to Redux</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 1505, "user_id": 2162330, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/1zDX6.jpg?s=128&g=1", "display_name": "TiagoBrenck", "link": "https://stackoverflow.com/users/2162330/tiagobrenck"}, "edited": false, "score": 0, "creation_date": 1518646799, "post_id": 48797131, "comment_id": 84596841, "body": "Do you want to remove the whole style tag?"}, {"owner": {"reputation": 447, "user_id": 9160753, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/2fetJ.jpg?s=128&g=1", "display_name": "AlphaX", "link": "https://stackoverflow.com/users/9160753/alphax"}, "reply_to_user": {"reputation": 1505, "user_id": 2162330, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/1zDX6.jpg?s=128&g=1", "display_name": "TiagoBrenck", "link": "https://stackoverflow.com/users/2162330/tiagobrenck"}, "edited": false, "score": 0, "creation_date": 1518647231, "post_id": 48797131, "comment_id": 84597030, "body": "You mean the whole media=screen? Yes! My page has content and many other styles, but non refering to media=screen apart from the above code that I&#39;m trying to remove."}, {"owner": {"reputation": 16793, "user_id": 4665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8f83c3e22eab30856c803b1d96e1a04f?s=128&d=identicon&r=PG", "display_name": "Jon P", "link": "https://stackoverflow.com/users/4665/jon-p"}, "edited": false, "score": 0, "creation_date": 1518650448, "post_id": 48797131, "comment_id": 84598286, "body": "How do you have access to javascript/jquery to the page and not the page itself?"}], "answers": [{"comments": [{"owner": {"reputation": 550, "user_id": 3255349, "user_type": "registered", "profile_image": "https://graph.facebook.com/1004462653/picture?type=large", "display_name": "damanptyltd", "link": "https://stackoverflow.com/users/3255349/damanptyltd"}, "edited": false, "score": 0, "creation_date": 1518650326, "post_id": 48797264, "comment_id": 84598241, "body": "I&#39;ve revised this to now properly only delete the specified style."}, {"owner": {"reputation": 550, "user_id": 3255349, "user_type": "registered", "profile_image": "https://graph.facebook.com/1004462653/picture?type=large", "display_name": "damanptyltd", "link": "https://stackoverflow.com/users/3255349/damanptyltd"}, "edited": false, "score": 0, "creation_date": 1518674295, "post_id": 48797264, "comment_id": 84604192, "body": "Pleas try my solution again, I have fixed it since you downvoted me."}], "tags": [], "owner": {"reputation": 550, "user_id": 3255349, "user_type": "registered", "profile_image": "https://graph.facebook.com/1004462653/picture?type=large", "display_name": "damanptyltd", "link": "https://stackoverflow.com/users/3255349/damanptyltd"}, "is_accepted": false, "score": -1, "last_activity_date": 1518650689, "last_edit_date": 1518650689, "creation_date": 1518647207, "answer_id": 48797264, "question_id": 48797131, "link": "https://stackoverflow.com/questions/48797131/how-to-remove-html-code-with-jquery-that-is-not-inside-div/48797264#48797264", "title": "How to remove HTML code with jquery that is not inside div", "body": "<p>Depending on how specific the tag is, you can potentially try targeting it with selectors to find it</p>\n\n<pre><code>var badStyles = $('style[type*=\"text/css\"]');\n</code></pre>\n\n<p>From here you likely want to determine if it is the correct element as you may have several style elements:</p>\n\n<pre><code>var badStyles = $('style[type*=\"text/css\"]');\nbadStyles.each(function(i) {\n    if($(this).html().indexOf('html { margin-top: 32px !important; }')&gt; 0){\n        $(this).empty();  \n    }\n});\n</code></pre>\n\n<p>.empty() will remove the contents, however .remove() will remove the entire tag if you so wish.</p>\n\n<p>To demonstrate in practice:</p>\n\n<p><a href=\"https://jsfiddle.net/z3g1Le1k/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/z3g1Le1k/</a></p>\n"}, {"tags": [], "owner": {"reputation": 1407, "user_id": 5919154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca0f83c18e982b8675e9ba617307194e?s=128&d=identicon&r=PG&f=1", "display_name": "nathan.medz", "link": "https://stackoverflow.com/users/5919154/nathan-medz"}, "is_accepted": false, "score": 0, "last_activity_date": 1518649447, "creation_date": 1518649447, "answer_id": 48797696, "question_id": 48797131, "link": "https://stackoverflow.com/questions/48797131/how-to-remove-html-code-with-jquery-that-is-not-inside-div/48797696#48797696", "title": "How to remove HTML code with jquery that is not inside div", "body": "<p>The following should do the trick</p>\n\n<pre><code>$('style[media=\"screen\"]').remove()\n</code></pre>\n\n<p>if you want it on page load then</p>\n\n<pre><code>$(document).ready(function() {\n  $('style[media=\"screen\"]').remove()\n})\n</code></pre>\n"}], "owner": {"reputation": 447, "user_id": 9160753, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/2fetJ.jpg?s=128&g=1", "display_name": "AlphaX", "link": "https://stackoverflow.com/users/9160753/alphax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1518650689, "creation_date": 1518646533, "question_id": 48797131, "link": "https://stackoverflow.com/questions/48797131/how-to-remove-html-code-with-jquery-that-is-not-inside-div", "title": "How to remove HTML code with jquery that is not inside div", "body": "<p>I have the below code on my page that I dont have access to and need to remove it. Unfortunately it doesnt sit within a specific div. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;style type=\"text/css\" media=\"screen\"&gt;\r\nhtml { margin-top: 32px !important; }\r\n* html body { margin-top: 32px !important; }\r\n@media screen and ( max-width: 782px ) {\r\nhtml { margin-top: 46px !important; }\r\n* html body { margin-top: 46px !important; }\r\n}\r\n&lt;/style&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>How could I remove this with a jquery code?</p>\n\n<p>I would really appreciate any help!! </p>\n"}, {"tags": ["javascript", "angularjs"], "comments": [{"owner": {"reputation": 819, "user_id": 2442396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef74bc85c7e8026ef1901a11c745d076?s=128&d=identicon&r=PG&f=1", "display_name": "bp4D", "link": "https://stackoverflow.com/users/2442396/bp4d"}, "edited": false, "score": 0, "creation_date": 1518646574, "post_id": 48797111, "comment_id": 84596737, "body": "Does this help? <a href=\"https://stackoverflow.com/questions/20131553/angularjs-convert-dates-in-controller\" title=\"angularjs convert dates in controller\">stackoverflow.com/questions/20131553/&hellip;</a>"}, {"owner": {"reputation": 2205, "user_id": 5705462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c0821d8458f0143b6b37046fa2e58c9?s=128&d=identicon&r=PG", "display_name": "sliptype", "link": "https://stackoverflow.com/users/5705462/sliptype"}, "edited": false, "score": 0, "creation_date": 1518646576, "post_id": 48797111, "comment_id": 84596738, "body": "What is the result of <code>console.log(&quot;Date is &quot; + JSON.stringify($scope.myResponse.startDate));</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 573, "user_id": 1499332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82e455aae51c2da3095d226f2a83afda?s=128&d=identicon&r=PG", "display_name": "Brandon Kearby", "link": "https://stackoverflow.com/users/1499332/brandon-kearby"}, "is_accepted": false, "score": 0, "last_activity_date": 1518646624, "creation_date": 1518646624, "answer_id": 48797148, "question_id": 48797111, "link": "https://stackoverflow.com/questions/48797111/js-code-to-read-the-value-from-the-object/48797148#48797148", "title": "js code to read the value from the object", "body": "<p>You can return the time in millis</p>\n\n<pre><code>     Map&lt;String, Object&gt; data = new HashMap&lt;String, Object&gt;();\n   //Timestamp ts1  = ...;//some date here\n  // Timestamp ts2  = ..;//date\n   data.put(\"startDate\",ts1.getTime());\n   data.put(\"endDate\",ts2.getTime());\n   return data;\n</code></pre>\n"}], "owner": {"reputation": 534, "user_id": 4316933, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/99247b39984746b6f0fb009214e3a8c3?s=128&d=identicon&r=PG&f=1", "display_name": "user222", "link": "https://stackoverflow.com/users/4316933/user222"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518647129, "creation_date": 1518646432, "last_edit_date": 1518647129, "question_id": 48797111, "link": "https://stackoverflow.com/questions/48797111/js-code-to-read-the-value-from-the-object", "title": "js code to read the value from the object", "body": "<p>Iam returning a Map from java to the angular controller.</p>\n\n<p>java code:</p>\n\n<p>Below is the sample object i'm returning to js code..</p>\n\n<pre><code>  Map&lt;String, Object&gt; data = new HashMap&lt;String, Object&gt;();\n   //Timestamp ts1  = ...;//some date here\n  // Timestamp ts2  = ..;//date\n   data.put(\"startDate\",ts1);\n   data.put(\"endDate\",ts2);\n   return data;\n</code></pre>\n\n<p>I have a object in my angularjs controller which has date stored in it:</p>\n\n<pre><code>    console.log(\"Date is \" + $scope.myResponse.startDate);//[object object]\n console.log(\"EndDate is \" + $scope.myResponse.endDate);//[object object]\n</code></pre>\n\n<p>How to get the date value from the above response object instead of [object object]..</p>\n"}, {"tags": ["javascript", "html", "input", "textbox"], "comments": [{"owner": {"reputation": 38258, "user_id": 560593, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99c93a3c235763708dd7263e197acdc6?s=128&d=identicon&r=PG", "display_name": "Patrick Evans", "link": "https://stackoverflow.com/users/560593/patrick-evans"}, "edited": false, "score": 0, "creation_date": 1518646866, "post_id": 48797022, "comment_id": 84596869, "body": "<code>addEventListener</code>, and <code>removeEventListener</code> take a function reference. You however are currently executing the function instead of passing it"}], "answers": [{"tags": [], "owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "is_accepted": false, "score": 2, "last_activity_date": 1518646613, "last_edit_date": 1518646613, "creation_date": 1518646287, "answer_id": 48797086, "question_id": 48797022, "link": "https://stackoverflow.com/questions/48797022/javascript-removeeventlistener-based-on-textbox-input/48797086#48797086", "title": "Javascript removeEventListener based on textbox input", "body": "<ul>\n<li>Bind the event <code>input</code> to your text field.</li>\n<li>Remove the <code>setInterval</code> and bind the <code>input</code> event.</li>\n<li>The <code>removeEventListener</code> seems unnecessary.</li>\n</ul>\n\n<p><em>You need to validate max, min, and numeric values</em></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var slider = document.getElementById(\"slider\");\r\nvar textVal = document.getElementById(\"textVal\");\r\n\r\nfunction changeVal() {\r\n  textVal.value = slider.value;\r\n}\r\n\r\nslider.addEventListener(\"input\", changeVal);\r\n\r\ntextVal.addEventListener(\"input\", function() {\r\n  slider.value = this.value;\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"text\" id=\"textVal\" /&gt;\r\n&lt;input type=\"range\" min=\"0\" max=\"100\" value=\"50\" id=\"slider\" class=\"slider\"/&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 283, "user_id": 1504923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a7e726237e6f3903051e0a6998fda6a?s=128&d=identicon&r=PG", "display_name": "DialDT", "link": "https://stackoverflow.com/users/1504923/dialdt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518647917, "creation_date": 1518645934, "last_edit_date": 1518647917, "question_id": 48797022, "link": "https://stackoverflow.com/questions/48797022/javascript-removeeventlistener-based-on-textbox-input", "title": "Javascript removeEventListener based on textbox input", "body": "<p>I have a slider that updates a textbox input value in realtime using <code>addEventListener</code>.  What I need is for the textbox input to also update the slider when the textbox value is changed by the user.</p>\n\n<p>Sample code,\nHTML:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var slider = document.getElementById(\"slider\");\r\nvar textVal = document.getElementById(\"textVal\");\r\n\r\nfunction changeVal() {\r\n  setInterval(function() {\r\n    textVal.value = slider.value;\r\n  }, 100);\r\n}\r\n\r\nfunction removeListener() {\r\n  slider.removeEventListener(\"change\", changeVal());\r\n}\r\n\r\nslider.addEventListener(\"change\", changeVal());</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"text\" id=\"textVal\" /&gt;\r\n&lt;input type=\"range\" min=\"0\" max=\"100\" value=\"50\" id=\"slider\" class=\"slider\" onfocus=\"removeListener()\" /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>JS Fiddle:</p>\n\n<p><a href=\"https://jsfiddle.net/s8csgkmk/4/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/s8csgkmk/4/</a></p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "canvas"], "comments": [{"owner": {"reputation": 311858, "user_id": 6782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dc8c4ddd99b446c28d2e1546c457e508?s=128&d=identicon&r=PG", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6782/alnitak"}, "edited": false, "score": 0, "creation_date": 1518646500, "post_id": 48796981, "comment_id": 84596701, "body": "This is unclear - what&#39;s the overlay supposed to look like?   What even <i>is</i> this overlay?"}, {"owner": {"reputation": 5754, "user_id": 1254996, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/aa033a649111ee78ff3be07dee7e3635?s=128&d=identicon&r=PG", "display_name": "Alon Shmiel", "link": "https://stackoverflow.com/users/1254996/alon-shmiel"}, "reply_to_user": {"reputation": 311858, "user_id": 6782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dc8c4ddd99b446c28d2e1546c457e508?s=128&d=identicon&r=PG", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6782/alnitak"}, "edited": false, "score": 0, "creation_date": 1518671219, "post_id": 48796981, "comment_id": 84603210, "body": "I didn&#39;t mention but the overlay needs to disable clicks.."}, {"owner": {"reputation": 5754, "user_id": 1254996, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/aa033a649111ee78ff3be07dee7e3635?s=128&d=identicon&r=PG", "display_name": "Alon Shmiel", "link": "https://stackoverflow.com/users/1254996/alon-shmiel"}, "reply_to_user": {"reputation": 311858, "user_id": 6782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dc8c4ddd99b446c28d2e1546c457e508?s=128&d=identicon&r=PG", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6782/alnitak"}, "edited": false, "score": 0, "creation_date": 1518672350, "post_id": 48796981, "comment_id": 84603540, "body": "So all elements above the overlay should be unclickable, except the element that I sent to openOverlay function."}], "answers": [{"comments": [{"owner": {"reputation": 5754, "user_id": 1254996, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/aa033a649111ee78ff3be07dee7e3635?s=128&d=identicon&r=PG", "display_name": "Alon Shmiel", "link": "https://stackoverflow.com/users/1254996/alon-shmiel"}, "edited": false, "score": 0, "creation_date": 1518672030, "post_id": 48797284, "comment_id": 84603458, "body": "Thanks but maybe I don&quot;t make the question clear.. I updated the topic.."}, {"owner": {"reputation": 2473, "user_id": 452213, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fhPov.jpg?s=128&g=1", "display_name": "sudip", "link": "https://stackoverflow.com/users/452213/sudip"}, "reply_to_user": {"reputation": 5754, "user_id": 1254996, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/aa033a649111ee78ff3be07dee7e3635?s=128&d=identicon&r=PG", "display_name": "Alon Shmiel", "link": "https://stackoverflow.com/users/1254996/alon-shmiel"}, "edited": false, "score": 0, "creation_date": 1518687277, "post_id": 48797284, "comment_id": 84610437, "body": "I see your question is changed. But, still the above solution will work. you can make the button&#39;s position absolute (or, relative) and set a higher z-index. All the other elements in the canvas won&#39;t be clickable unless they have position absolute (or, relative) and higher z-index."}], "tags": [], "owner": {"reputation": 2473, "user_id": 452213, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fhPov.jpg?s=128&g=1", "display_name": "sudip", "link": "https://stackoverflow.com/users/452213/sudip"}, "is_accepted": false, "score": 0, "last_activity_date": 1518687020, "last_edit_date": 1518687020, "creation_date": 1518647283, "answer_id": 48797284, "question_id": 48796981, "link": "https://stackoverflow.com/questions/48796981/canvas-add-overlay-except-button-that-should-be-clickable/48797284#48797284", "title": "Canvas: add overlay except button that should be clickable", "body": "<p>Set z-index for \"canvas\" to -1 :</p>\n\n<pre><code>canvas{\n  z-index: -1;\n}\n</code></pre>\n\n<p>But, the above method will make all the elements in the canvas clickable.</p>\n\n<p>So, you can set the following style on the button to make it clickable :</p>\n\n<pre><code>button{\n  position: absolute; //or, relative\n  left: 0px;\n  top: 0px;\n  z-index: 2;\n}\n</code></pre>\n\n<p>All the other elements in the canvas won't be clickable unless they have position absolute (or, relative) and higher z-index.</p>\n"}, {"tags": [], "owner": {"reputation": 2955, "user_id": 3819007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6hvpZ.png?s=128&g=1", "display_name": "visibleman", "link": "https://stackoverflow.com/users/3819007/visibleman"}, "is_accepted": false, "score": 0, "last_activity_date": 1518743131, "last_edit_date": 1518743131, "creation_date": 1518672754, "answer_id": 48800512, "question_id": 48796981, "link": "https://stackoverflow.com/questions/48796981/canvas-add-overlay-except-button-that-should-be-clickable/48800512#48800512", "title": "Canvas: add overlay except button that should be clickable", "body": "<p>First, ctx.clearRect doesn't really have any effect on the mouse click event. \nIn the future, you may be able to use canvas hit regions, but they have limited support for now. See <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/addHitRegion\" rel=\"nofollow noreferrer\">MDN AddHitRegion</a></p>\n\n<p>But for now, you can put any button that is supposed to be clickable at a higher z-index than the overlay and give it either relative or absolute positioning.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function openOverlay(elem) {\r\n\r\n  var canvas = document.createElement(\"canvas\");\r\n  canvas.className = \"highlight\";\r\n  canvas.width = window.innerWidth;\r\n  canvas.height = window.innerHeight;\r\n  canvas.zIndex = 100;\r\n  var ctx = canvas.getContext(\"2d\");\r\n  ctx.fillRect(4, 4, 300, 150);\r\n  elem.classList.add(\"clickable\");\r\n  document.body.appendChild(canvas);\r\n  window.overlayCanvas = canvas;\r\n}\r\nvar element= document.getElementById(\"button1\")\r\nopenOverlay(element)</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body{\r\n  background-color: grey;\r\n}\r\n\r\n.clickable{\r\n  position: relative;\r\n  z-index:200;\r\n}\r\ncanvas{\r\n  z-index: 100;\r\n  position: absolute;\r\n  display: block;\r\n  top: 0;\r\n  left: 0;\r\n  background-color:blue;  \r\n  opacity: 0.6;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;button id=\"button1\" onclick=\"window.alert('Clicked button1')\"&gt;Click Me&lt;/button&gt;\r\n&lt;button id=\"button2\" onclick=\"window.alert('Clicked button 2')\"&gt;Don't Click Me&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 5754, "user_id": 1254996, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/aa033a649111ee78ff3be07dee7e3635?s=128&d=identicon&r=PG", "display_name": "Alon Shmiel", "link": "https://stackoverflow.com/users/1254996/alon-shmiel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 437, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1518743131, "creation_date": 1518645693, "last_edit_date": 1518672527, "question_id": 48796981, "link": "https://stackoverflow.com/questions/48796981/canvas-add-overlay-except-button-that-should-be-clickable", "title": "Canvas: add overlay except button that should be clickable", "body": "<p>I'm trying to add an overlay using canvas. It needs to disable clicks so all elements above the overlay should be unclickable, except the element that I send to openOverlay function.</p>\n\n<p>In addition, there is a button that I want to make it clickable. This button is sent to openOverlay function.</p>\n\n<p>How can I do it?</p>\n\n<p>This is my code:</p>\n\n<p><a href=\"https://codepen.io/anon/pen/QQqQae\" rel=\"nofollow noreferrer\">https://codepen.io/anon/pen/QQqQae</a>\nThe button needs to be clickable but not the div</p>\n\n<p>I tried something like: <code>ctx.clearRect</code> in order to cut the piece that is found above the button:</p>\n\n<pre><code>function openOverlay(elem) {\n  var loc = elem.getBoundingClientRect();\n  var canvas = document.createElement(\"canvas\");\n  canvas.className = \"highlight\";\n  canvas.width = window.innerWidth;\n  canvas.height = window.innerHeight;\n  var ctx = canvas.getContext(\"2d\");\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\n  ctx.clearRect(loc.left - padding, loc.top - padding, loc.width + padding * 2, loc.height + padding * 2);\n  document.body.appendChild(canvas);\n  window.overlayCanvas = canvas;\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "template-literals"], "comments": [{"owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 1, "creation_date": 1518645741, "post_id": 48796938, "comment_id": 84596400, "body": "Would <code>cell: (row: any) =&gt; `${row[varString]}`</code> work? Maybe I have misunderstood."}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 4535402, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Thqiwol7nNg/AAAAAAAAAAI/AAAAAAAAAHM/nADjo9rGjAo/photo.jpg?sz=128", "display_name": "Vincent Maggioli", "link": "https://stackoverflow.com/users/4535402/vincent-maggioli"}, "edited": false, "score": 0, "creation_date": 1518728826, "post_id": 48797041, "comment_id": 84636387, "body": "Still pretty new to this stuff, I appreciate it!"}], "tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 6, "last_activity_date": 1518646002, "creation_date": 1518646002, "answer_id": 48797041, "question_id": 48796938, "link": "https://stackoverflow.com/questions/48796938/nesting-template-strings-in-typescript/48797041#48797041", "title": "Nesting template strings in Typescript", "body": "<p>It is same for template literals as for regular JS. Object properties can be retrieved dynamically with bracket notation, <code>row[varString]</code>.</p>\n\n<p>It will be:</p>\n\n<pre><code>cell: (row: any) =&gt; `${row[varString]}`\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 4535402, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Thqiwol7nNg/AAAAAAAAAAI/AAAAAAAAAHM/nADjo9rGjAo/photo.jpg?sz=128", "display_name": "Vincent Maggioli", "link": "https://stackoverflow.com/users/4535402/vincent-maggioli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 781, "favorite_count": 0, "accepted_answer_id": 48797041, "answer_count": 1, "score": 3, "last_activity_date": 1518646044, "creation_date": 1518645507, "last_edit_date": 1518646044, "question_id": 48796938, "link": "https://stackoverflow.com/questions/48796938/nesting-template-strings-in-typescript", "title": "Nesting template strings in Typescript", "body": "<p>I'm trying to retrieve a variable from an object.</p>\n\n<pre><code>cell: (row: any) =&gt; `${row.testcolumn}`\n</code></pre>\n\n<p>My only issue is that I don't know what 'testcolumn' is ahead of time as I'm doing this dynamically.  I'm not sure what to do, and the nested template string strategy I'm attempting will not compile.</p>\n\n<pre><code>cell: (row: any) =&gt; `${row.(`${varString}`)}`\n</code></pre>\n\n<p>I've also tried just using the variable name instead of nesting a template string, but that just looks for the varString value in the object, which doesn't exist.  Is there any way I can use a nested literal to substitute the string value into the template literal and it still look for row.testcolumn instead of row.varString?</p>\n"}, {"tags": ["javascript", "three.js", "xmlhttprequest", "collada"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 7799403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/636ecc8db28b4d5d24eea7d1265eb9fc?s=128&d=identicon&r=PG&f=1", "display_name": "jadraptor", "link": "https://stackoverflow.com/users/7799403/jadraptor"}, "edited": false, "score": 0, "creation_date": 1518663934, "post_id": 48797863, "comment_id": 84601601, "body": "Thanks for your input. I saw that three.js included many other 3d file loaders and I did consider converting the file, but I was trying to not give up too easily on making this particular loader work. I&#39;ve seen, and have other video game models that are in dae format, so I gave it my best to try and make it work. I ran out of ideas after hitting this particular wall land I couldn&#39;t find any answers online. I&#39;ll go ahead and try asking the people at the repository directly. Thank you."}, {"owner": {"reputation": 7685, "user_id": 1314762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ec8b9cd05efa622fd08e55414e63470?s=128&d=identicon&r=PG", "display_name": "Don McCurdy", "link": "https://stackoverflow.com/users/1314762/don-mccurdy"}, "reply_to_user": {"reputation": 45, "user_id": 7799403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/636ecc8db28b4d5d24eea7d1265eb9fc?s=128&d=identicon&r=PG&f=1", "display_name": "jadraptor", "link": "https://stackoverflow.com/users/7799403/jadraptor"}, "edited": false, "score": 0, "creation_date": 1518721147, "post_id": 48797863, "comment_id": 84632561, "body": "Makes sense, hopefully any issues can be fixed. \ud83d\udc4d"}], "tags": [], "owner": {"reputation": 7685, "user_id": 1314762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ec8b9cd05efa622fd08e55414e63470?s=128&d=identicon&r=PG", "display_name": "Don McCurdy", "link": "https://stackoverflow.com/users/1314762/don-mccurdy"}, "is_accepted": false, "score": 0, "last_activity_date": 1518650646, "creation_date": 1518650646, "answer_id": 48797863, "question_id": 48796931, "link": "https://stackoverflow.com/questions/48796931/why-cant-colladaloader-js-from-three-js-load-my-file/48797863#48797863", "title": "Why can&#39;t ColladaLoader.js from Three.js load my file?", "body": "<p>Your COLLADA model loads correctly in Blender, so I would assume this is a bug in THREE.ColladaLoader. You may want to file an issue on the three.js repository including this information.</p>\n\n<p>In the meantime, converting to glTF using <a href=\"https://github.com/KhronosGroup/glTF-blender-exporter\" rel=\"nofollow noreferrer\">a blender exporter</a> gives a result that does work in three.js, using THREE.GLTFLoader.</p>\n\n<p><a href=\"https://drive.google.com/open?id=1h8po_76L3AgRMpIAF8sQtdTKLntHSAQG\" rel=\"nofollow noreferrer\">glTF file in Google Drive</a></p>\n\n<p>Preview here: <a href=\"https://gltf-viewer.donmccurdy.com/\" rel=\"nofollow noreferrer\">https://gltf-viewer.donmccurdy.com/</a></p>\n\n<p>Result:</p>\n\n<p><img src=\"https://user-images.githubusercontent.com/1848368/36233452-0378a214-119b-11e8-8c2c-9e337bc7190a.png\" alt=\"screenshot of raptor model\"></p>\n"}, {"tags": [], "owner": {"reputation": 45, "user_id": 7799403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/636ecc8db28b4d5d24eea7d1265eb9fc?s=128&d=identicon&r=PG&f=1", "display_name": "jadraptor", "link": "https://stackoverflow.com/users/7799403/jadraptor"}, "is_accepted": false, "score": 0, "last_activity_date": 1536692972, "creation_date": 1536692972, "answer_id": 52282714, "question_id": 48796931, "link": "https://stackoverflow.com/questions/48796931/why-cant-colladaloader-js-from-three-js-load-my-file/52282714#52282714", "title": "Why can&#39;t ColladaLoader.js from Three.js load my file?", "body": "<p>It turned out to be a <a href=\"https://github.com/mrdoob/three.js/issues/13335\" rel=\"nofollow noreferrer\">bug</a> in the script. It wasn't parsing the xml data quite right. It would set the top most bone to \"ID8\" instead of \"ID9\". \"ID8\" pointed to the visual scene. </p>\n"}], "owner": {"reputation": 45, "user_id": 7799403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/636ecc8db28b4d5d24eea7d1265eb9fc?s=128&d=identicon&r=PG&f=1", "display_name": "jadraptor", "link": "https://stackoverflow.com/users/7799403/jadraptor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 851, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1536692972, "creation_date": 1518645458, "last_edit_date": 1536692787, "question_id": 48796931, "link": "https://stackoverflow.com/questions/48796931/why-cant-colladaloader-js-from-three-js-load-my-file", "title": "Why can&#39;t ColladaLoader.js from Three.js load my file?", "body": "<p>So, I'm trying out three.js and I'm trying to load a .dae file that I found and downloaded from Ark Survival Evolved (Raptor.dae). </p>\n\n<p>I cobbled together an html page to create a webgl scene with the raptor file, two lights, and a floor; and I cobbled together a flask server to serve the html and assets (Opening the html directly from windows explorer would cause a cross origin error that I couldn't figure out how to fix, so I made the web server).</p>\n\n<p>I know that everything works, right up until it tries to load this specific file because I can get the demo elf that three.js comes with to be served correctly. </p>\n\n<p>Here's the section of code where the raptor file is loaded.</p>\n\n<pre><code>var raptor\n// loading manager\nvar loadingManager = new THREE.LoadingManager( function() {\n    scene.add( raptor );\n} );\n// collada\nvar loader = new THREE.ColladaLoader( loadingManager );\nloader.load( './static/models/Raptor/Raptor.dae', function ( collada ) {\n    raptor = collada.scene;\n    raptor.scale.set(0.1,0.1,0.1);\n} );\nloader.setCrossOrigin( '' );\n</code></pre>\n\n<p>Here's the error I get.</p>\n\n<pre><code>Navigated to http://127.0.0.1:5000/raptor\nTHREE.WebGLRenderer 89\nTHREE.ColladaLoader: DOMParser: 4.136962890625ms\nXHR finished loading: GET \"http://127.0.0.1:5000/static/models/Raptor/Raptor.dae\".\n    load @ three.js:30874\n    load @ ColladaLoader.js:25\n    (anonymous) @ raptor:47\nTHREE.ColladaLoader: File version 1.4.1\nTHREE.ColladaLoader: Parse: 0.06298828125ms\nTHREE.ColladaLoader: Build: 0.06689453125ms\nUncaught TypeError: Cannot read property 'childNodes' of undefined\n    at getElementsByTagName (ColladaLoader.js:62)\n    at parseScene (ColladaLoader.js:3333)\n    at THREE.ColladaLoader.parse (ColladaLoader.js:3463)\n    at Object.onLoad (ColladaLoader.js:27)\n    at XMLHttpRequest.&lt;anonymous&gt; (three.js:30794)\ngetElementsByTagName @ ColladaLoader.js:62\nparseScene @ ColladaLoader.js:3333\nparse @ ColladaLoader.js:3463\n(anonymous) @ ColladaLoader.js:27\n(anonymous) @ three.js:30794\nXMLHttpRequest.send (async)\n    load @ three.js:30874\n    load @ ColladaLoader.js:25\n    (anonymous) @ raptor:47\n</code></pre>\n\n<p>Here's links to the two files mentioned in the error. </p>\n\n<p><a href=\"https://github.com/mrdoob/three.js/blob/dev/build/three.js\" rel=\"nofollow noreferrer\">three.js</a></p>\n\n<p><a href=\"https://github.com/mrdoob/three.js/blob/dev/examples/js/loaders/ColladaLoader.js\" rel=\"nofollow noreferrer\">ColladaLoader.js</a></p>\n\n<p><a href=\"https://github.com/mrdoob/three.js/tree/dev/examples/models/collada/elf\" rel=\"nofollow noreferrer\">elf.dae</a> in three.js repository</p>\n\n<p><a href=\"https://drive.google.com/drive/folders/1jR--PnBAwM6R2cgb0CvrIkGbVaD99WHI?usp=sharing\" rel=\"nofollow noreferrer\">Raptor.dae</a> on Google Drive</p>\n\n<p>I'm at a loss for what the difference between this file and the elf file is. I've opened both in Notepad++ and read through them, but I haven't figured out what exactly is causing the hang up.</p>\n\n<p>Any help or guidance would be greatly appreciated.</p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 3058, "user_id": 2481559, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/iVWj1.jpg?s=128&g=1", "display_name": "Josan Iracheta", "link": "https://stackoverflow.com/users/2481559/josan-iracheta"}, "edited": false, "score": 0, "creation_date": 1518645692, "post_id": 48796926, "comment_id": 84596373, "body": "Does getData return a string or an object?"}, {"owner": {"reputation": 1013, "user_id": 8866996, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/1160575134075689/picture?type=large", "display_name": "Ben Clarke", "link": "https://stackoverflow.com/users/8866996/ben-clarke"}, "reply_to_user": {"reputation": 3058, "user_id": 2481559, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/iVWj1.jpg?s=128&g=1", "display_name": "Josan Iracheta", "link": "https://stackoverflow.com/users/2481559/josan-iracheta"}, "edited": false, "score": 0, "creation_date": 1518646150, "post_id": 48796926, "comment_id": 84596568, "body": "@JosanIracheta String"}], "answers": [{"comments": [{"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 1, "creation_date": 1521012001, "post_id": 49270321, "comment_id": 85546321, "body": "Upvoted but actually what they don&#39;t say is that it works only with <b>one</b> custom parameter: <code>&quot;text&quot;</code>; the real MIME type <code>&quot;text&#47;plain&quot;</code> being unsupported in IE."}], "tags": [], "owner": {"reputation": 7672, "user_id": 47327, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/86b7cdf06245a61bacd18ad956341090?s=128&d=identicon&r=PG", "display_name": "Stuart Hallows", "link": "https://stackoverflow.com/users/47327/stuart-hallows"}, "is_accepted": false, "score": 2, "last_activity_date": 1521005524, "creation_date": 1521005524, "answer_id": 49270321, "question_id": 48796926, "link": "https://stackoverflow.com/questions/48796926/datatransfer-getdata-and-setdata-in-ie-edge/49270321#49270321", "title": "dataTransfer getData and setData in IE/Edge", "body": "<p><code>setData</code> and <code>getData</code> do not work with custom MIME types.</p>\n\n<p>See <a href=\"https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/8007622/\" rel=\"nofollow noreferrer\">https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/8007622/</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 3045, "user_id": 2857477, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/52f32b46663b4f8d3faa1c1469bdb8c4?s=128&d=identicon&r=PG&f=1", "display_name": "akelec", "link": "https://stackoverflow.com/users/2857477/akelec"}, "is_accepted": false, "score": 0, "last_activity_date": 1526025119, "creation_date": 1526025119, "answer_id": 50287565, "question_id": 48796926, "link": "https://stackoverflow.com/questions/48796926/datatransfer-getdata-and-setdata-in-ie-edge/50287565#50287565", "title": "dataTransfer getData and setData in IE/Edge", "body": "<p>Instead, you could pass an object as a string with <code>text</code> param in <code>setData</code>:</p>\n\n<pre><code>var obj = {'x': 5, 'y': 10};\nvar objS = JSON.stringify(obj);\ne.dataTransfer.setData(\"text\", objS);\n</code></pre>\n\n<p>On the other side, extract the data:</p>\n\n<pre><code>var obj = JSON.parse(e.dataTransfer.getData(\"text\"));\nconsole.log(\"obj:\", obj.x + \", \" + obj.y);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 354, "user_id": 4014032, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4rLyz.png?s=128&g=1", "display_name": "James Walker", "link": "https://stackoverflow.com/users/4014032/james-walker"}, "is_accepted": false, "score": 1, "last_activity_date": 1537637563, "creation_date": 1537637563, "answer_id": 52459163, "question_id": 48796926, "link": "https://stackoverflow.com/questions/48796926/datatransfer-getdata-and-setdata-in-ie-edge/52459163#52459163", "title": "dataTransfer getData and setData in IE/Edge", "body": "<p>Just a little piece of code i found in my Toolbox. Checked in EDGE.</p>\n\n<pre><code>&lt;!DOCTYPE HTML &gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;12 hour Time and Date stamp&lt;/title&gt;\n&lt;meta name=\"\" content=\"\"&gt;\n&lt;style&gt;\n    .thing {\n  width: 100px;\n  height: 2em;\n  padding: 0.5em;\n  margin: 0.5em;\n  background: rgba(0,0,0,0.8);\n  color: white;\n  font-family: sans-serif;\n }\n.col {\n  width: 130px;\n  height: 450px;\n  padding: 1em;\n  border: 1px solid;\n  border-radius: 5px;\n  position: relative;\n  float: left;\n  }\n&lt;/style&gt;\n&lt;script&gt;\nfunction allowDrop(ev) {\n    ev.preventDefault();\n}\nfunction drag(ev) {\n    ev.dataTransfer.setData(\"text\", ev.target.id);\n}\nfunction drop(ev) {\n    ev.preventDefault();\n    var data = ev.dataTransfer.getData(\"text\");\n  var origThing = document.getElementById(data);\n  var newThing = origThing.cloneNode(true);\n    ev.target.appendChild(newThing);\n}\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div class=\"col\" id=\"col1\"&gt;\n  &lt;div class=\"thing\" draggable=\"true\" ondragstart=\"drag(event)\" id=\"thing1\"&gt;THING 1&lt;/div&gt;\n  &lt;div class=\"thing\" draggable=\"true\" ondragstart=\"drag(event)\" id=\"thing2\"&gt;THING 2&lt;/div&gt;  \n  &lt;div class=\"thing\" draggable=\"true\" ondragstart=\"drag(event)\" id=\"thing3\"&gt;THING 3&lt;/div&gt;  \n  &lt;div class=\"thing\" draggable=\"true\" ondragstart=\"drag(event)\" id=\"thing4\"&gt;THING 4&lt;/div&gt;\n&lt;/div&gt;\n&lt;div class=\"col\" id=\"col2\" ondrop=\"drop(event)\" ondragover=\"allowDrop(event)\"&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt; \n</code></pre>\n\n<p>Hope it helps :)</p>\n"}], "owner": {"reputation": 1013, "user_id": 8866996, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/1160575134075689/picture?type=large", "display_name": "Ben Clarke", "link": "https://stackoverflow.com/users/8866996/ben-clarke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2341, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1537637563, "creation_date": 1518645450, "question_id": 48796926, "link": "https://stackoverflow.com/questions/48796926/datatransfer-getdata-and-setdata-in-ie-edge", "title": "dataTransfer getData and setData in IE/Edge", "body": "<p>I am developing a React Application and seem to be coming across an issue in IE and Edge whereby the follow lines of code seem to be throwing out errors:</p>\n\n<p><strong>Error (1)</strong></p>\n\n<p><strong>Message:</strong> <code>Element not found.</code></p>\n\n<p><strong>Code:</strong> </p>\n\n<pre><code>onDragStart={event =&gt; { \n    event.dataTransfer.setData('storm-diagram-node', JSON.stringify(this.props.model));\n}}\n</code></pre>\n\n<p><strong>Error (2)</strong></p>\n\n<p><strong>Message:</strong> <code>JSON.parse Error: Unexpected input at position:0</code></p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>onDrop={event =&gt; {\n    var data = JSON.parse(event.dataTransfer.getData('storm-diagram-node'));\n}}\n</code></pre>\n\n<p>Now this application works perfectly in Chrome but for some reason not IE or Edge. These both seem like the same issue and is why they are in the same question.</p>\n"}, {"tags": ["javascript", "webpack"], "answers": [{"comments": [{"owner": {"reputation": 152, "user_id": 689483, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/83b5c98938529b7c4e62a2e613a11745?s=128&d=identicon&r=PG", "display_name": "Moo3", "link": "https://stackoverflow.com/users/689483/moo3"}, "edited": false, "score": 0, "creation_date": 1518649094, "post_id": 48797326, "comment_id": 84597789, "body": "Thanks. I did end up with a solution similar to yours. I am not sure if it could called a bug coz in requirejs world these statements will behave differently."}], "tags": [], "owner": {"reputation": 621, "user_id": 2192313, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OBQF9.jpg?s=128&g=1", "display_name": "Hawkins", "link": "https://stackoverflow.com/users/2192313/hawkins"}, "is_accepted": false, "score": 1, "last_activity_date": 1518647601, "creation_date": 1518647601, "answer_id": 48797326, "question_id": 48796886, "link": "https://stackoverflow.com/questions/48796886/why-does-webpack-throw-error-when-using-this-resolve-alias-config/48797326#48797326", "title": "Why does Webpack throw error when using this resolve.alias config?", "body": "<p>I believe this has to do with how <a href=\"https://github.com/webpack/enhanced-resolve/blob/master/lib/AliasPlugin.js#L37\" rel=\"nofollow noreferrer\">webpack's enhanced-resolve <code>AliasPlugin</code></a> works. By having the other <code>base</code> be an alias and having other aliases start with <code>base/</code>, you're triggering a false positive in this logic that you didn't intend since the path isn't actually below where <code>base</code> points to (for <code>base/app</code>, <code>/src/app</code> is not below <code>/src/config</code>)</p>\n\n<p>So, you could either use another delimiter (<code>_</code>) for this one instance, or better yet set up aliases that behave how Webpack intends just to avoid breaking changes in the future.</p>\n\n<hr>\n\n<p>So you could replace the <code>/</code> with another character, like so:</p>\n\n<pre><code>alias: {\n     'base': path.resolve('src/config'),\n     'base_app': path.resolve('src/app'),\n     'base_component': path.resolve('src/component')\n}\n\n// ...\nimport app from 'base_app/module'\n</code></pre>\n\n<p>Or if that's not ideal, you could instead redefine your alias to avoid the issue altogether:</p>\n\n<pre><code>alias: {\n     'base': path.resolve('src')\n}\n\n// ...\nimport config from 'base/config'\nimport app from 'base/app/module'\n</code></pre>\n"}], "owner": {"reputation": 152, "user_id": 689483, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/83b5c98938529b7c4e62a2e613a11745?s=128&d=identicon&r=PG", "display_name": "Moo3", "link": "https://stackoverflow.com/users/689483/moo3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518647601, "creation_date": 1518645293, "question_id": 48796886, "link": "https://stackoverflow.com/questions/48796886/why-does-webpack-throw-error-when-using-this-resolve-alias-config", "title": "Why does Webpack throw error when using this resolve.alias config?", "body": "<p>Using an alias key which contains substring of another alias results in an error.</p>\n\n<pre><code>//in this given file structure\nsrc\n|--app\n|   |--module.js\n|--component\n|   |--module.js\n|--config\n    |-config.js\n\n//and config\nalias: {\n     'base': path.resolve('src/config'),\n     'base/app': path.resolve('src/app'),\n     'base/component': path.resolve('src/component')\n}\n</code></pre>\n\n<p><code>import app from 'base/config'</code> \n<br>works as expected, returns module src/config.js</p>\n\n<p><code>import app from 'base/app/module'</code> \n<br>Module not found: Error: Can't resolve 'base/app/module'</p>\n\n<p><code>import app from 'base/component/module'</code> \n<br>Module not found: Error: Can't resolve 'base/component/module'</p>\n"}, {"tags": ["javascript", "reactjs", "react-router", "react-router-v4"], "comments": [{"owner": {"reputation": 3058, "user_id": 2481559, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/iVWj1.jpg?s=128&g=1", "display_name": "Josan Iracheta", "link": "https://stackoverflow.com/users/2481559/josan-iracheta"}, "edited": false, "score": 0, "creation_date": 1518645881, "post_id": 48796869, "comment_id": 84596470, "body": "What does <code>&lt;MainCalendar &#47;&gt;</code> look like?"}, {"owner": {"reputation": 7435, "user_id": 6748913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jDo2k.jpg?s=128&g=1", "display_name": "Aaqib", "link": "https://stackoverflow.com/users/6748913/aaqib"}, "edited": false, "score": 2, "creation_date": 1518646892, "post_id": 48796869, "comment_id": 84596876, "body": "Have you tried passing <code>MainCalendar</code> as a callback , <code>&lt;Route path=&quot;&#47;calendar&#47;:month?&quot; component={ (props) =&gt; &lt; MainCalendar {...props}&#47;&gt;}</code>"}, {"owner": {"reputation": 1558, "user_id": 1529126, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9ac3ec41138f4f904e95c812c65ae20a?s=128&d=identicon&r=PG", "display_name": "Silwest", "link": "https://stackoverflow.com/users/1529126/silwest"}, "reply_to_user": {"reputation": 7435, "user_id": 6748913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jDo2k.jpg?s=128&g=1", "display_name": "Aaqib", "link": "https://stackoverflow.com/users/6748913/aaqib"}, "edited": false, "score": 0, "creation_date": 1518780739, "post_id": 48796869, "comment_id": 84655226, "body": "@Aaqib it looks like it works... Could you please provide some explanation?"}, {"owner": {"reputation": 7435, "user_id": 6748913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jDo2k.jpg?s=128&g=1", "display_name": "Aaqib", "link": "https://stackoverflow.com/users/6748913/aaqib"}, "edited": false, "score": 1, "creation_date": 1518798532, "post_id": 48796869, "comment_id": 84666039, "body": "@Silwest its one of the ways you can pass props down into the Component by giving inline callback function as every time user will come to this route that callback function will be executed with the new set of props which will passed to the component ,  spread operator is used in order to pass additional set of props that you want to pass down."}], "owner": {"reputation": 1558, "user_id": 1529126, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9ac3ec41138f4f904e95c812c65ae20a?s=128&d=identicon&r=PG", "display_name": "Silwest", "link": "https://stackoverflow.com/users/1529126/silwest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 265, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1518645203, "creation_date": 1518645203, "question_id": 48796869, "link": "https://stackoverflow.com/questions/48796869/react-router-url-is-changed-component-not-re-rendered", "title": "React-Router: URL is changed, component not re-rendered", "body": "<p>I'm new in react/react-router. I'm using react-router v4.</p>\n\n<p>Story:\nMy site looks like this:\n<a href=\"https://i.stack.imgur.com/kb7X0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kb7X0.png\" alt=\"Main Page\"></a></p>\n\n<p>In other words:\nOn main page if you'll click on <code>Link to Calendar 1</code> you're going to see <code>Calendar 1</code> with <code>Link to Calendar 2</code>. </p>\n\n<p>When you'll click on <code>Link to Calendar 2</code> you should see <code>Calendar 2</code> and here's the problem...</p>\n\n<p>The <code>url</code> is changed (is same like you would click it from main page) however the component (<code>Calendar 1</code> --> <code>Calendar 2</code>) is not re-rendered ...</p>\n\n<p>Main App:</p>\n\n<pre><code>&lt;BrowserRouter&gt;\n    &lt;App/&gt;\n&lt;/BrowserRouter&gt;\n</code></pre>\n\n<p>App contains Nav + Main:</p>\n\n<p>Main.js</p>\n\n<pre><code>&lt;Switch&gt;\n    &lt;Route path=\"/calendar/:month?\" component={MainCalendar}/&gt;\n&lt;/Switch&gt;\n</code></pre>\n\n<p>And of course I use <code>Link</code> component:</p>\n\n<pre><code>&lt;Link to={/calendar/3}&gt; Calendar&lt;/Link&gt;\n</code></pre>\n"}, {"tags": ["javascript", "memory-leaks", "es6-promise"], "comments": [{"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 2, "creation_date": 1518645463, "post_id": 48796868, "comment_id": 84596277, "body": "<a href=\"https://stackoverflow.com/q/43353087/1048572\">Don&#39;t use <code>return await</code></a>, avoid the <a href=\"https://stackoverflow.com/q/23803743/1048572?What-is-the-promise-construction-antipattern-and-how-to-avoid-it\"><code>Promise</code> constructor antipattern</a>, don&#39;t pass <code>resolve</code> around, promisify at the smallest level (<code>setTimeout</code>), and don&#39;t throw errors that are never caught!"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 3, "creation_date": 1518645505, "post_id": 48796868, "comment_id": 84596293, "body": "not sure about memory, but that code has almost every promise anti-pattern there is :p"}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1518645578, "post_id": 48796868, "comment_id": 84596329, "body": "Why are you passing a string into <code>_call</code>?"}, {"owner": {"reputation": 6182, "user_id": 10638, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/36498a2ecff4b366792d7f97ab923cdc?s=128&d=identicon&r=PG", "display_name": "DJ.", "link": "https://stackoverflow.com/users/10638/dj"}, "edited": false, "score": 0, "creation_date": 1518645642, "post_id": 48796868, "comment_id": 84596353, "body": "The question is, does it release the memory when the <code>Promise</code> is not resolved, i.e.: when <code>Error(&#39;busy&#39;)</code> was thrown? If it does, then looks like it work as it supposed to be, no memory leak there."}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1518645907, "post_id": 48796868, "comment_id": 84596480, "body": "This code should amass &quot;unhandled promise rejection&quot; errors, but it should not leak any memory of itself."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 1, "creation_date": 1518649001, "post_id": 48796868, "comment_id": 84597760, "body": "Calling yourself over and over again on a 10ms timer may not be giving the garbage collector enough time to do its normal job.  That could be partly why you see memory going up and up until the whole process is done."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1518649186, "post_id": 48796868, "comment_id": 84597828, "body": "Plus, this looks like pseudo-code or do-nothing sample code (the function <code>post()</code> has no reason to be async or return a promise) which makes it hard to suggest real solutions to a real problem.  Honestly, we do a lot better with concrete suggestions when there&#39;s real code and a real problem to solve."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 1, "creation_date": 1518652786, "post_id": 48796868, "comment_id": 84598923, "body": "FYI, here&#39;s a cleaned up version of your code that removes promise anti-patterns: <a href=\"https://jsfiddle.net/jfriend00/9349nuLs/\" rel=\"nofollow noreferrer\">jsfiddle.net/jfriend00/9349nuLs</a>"}, {"owner": {"reputation": 6740, "user_id": 1902296, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/q8jKe.jpg?s=128&g=1", "display_name": "humkins", "link": "https://stackoverflow.com/users/1902296/humkins"}, "reply_to_user": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1518703309, "post_id": 48796868, "comment_id": 84621272, "body": "@Bergi Hello, thank you for your suggestions. Though I know about Promise constructor anti-pattern I don&#39;t know how to avoid using it in my example. I&#39;ve amended my code and added some explanation what string argument of <code>_call</code> method is used for. BTW, throw error is an alternative for Promise.reject, isn&#39;t it?"}, {"owner": {"reputation": 6740, "user_id": 1902296, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/q8jKe.jpg?s=128&g=1", "display_name": "humkins", "link": "https://stackoverflow.com/users/1902296/humkins"}, "reply_to_user": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1518704482, "post_id": 48796868, "comment_id": 84622098, "body": "@jfriend00 Hello, I&#39;ve updated my code with the problem description. Now it is little more real."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 1, "creation_date": 1518705365, "post_id": 48796868, "comment_id": 84622675, "body": "Did you look at the simplified code I linked in my previous comment?  It works when I run it in node.js.  This is just way more complicated than it needs to be and part of that complication is why you are having problems with it.  For example, there&#39;s no reason that <code>post()</code> should be <code>async</code> or should return a promise.  It&#39;s a simple synchronous function."}, {"owner": {"reputation": 6740, "user_id": 1902296, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/q8jKe.jpg?s=128&g=1", "display_name": "humkins", "link": "https://stackoverflow.com/users/1902296/humkins"}, "reply_to_user": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1518718690, "post_id": 48796868, "comment_id": 84631220, "body": "@jfriend00 Yes, I&#39;ve seen it. Moreover, I&#39;ve already applied it to my project. Thank you!"}], "answers": [{"comments": [{"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1518723844, "post_id": 48810275, "comment_id": 84633932, "body": "This is all true (though the <code>async</code>/<code>await</code> code could be further simplified to use a loop instead of recursion), but it doesn&#39;t explain why the OP experienced a memory leak?"}], "tags": [], "owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "is_accepted": true, "score": 1, "last_activity_date": 1518707361, "last_edit_date": 1518707361, "creation_date": 1518707040, "answer_id": 48810275, "question_id": 48796868, "link": "https://stackoverflow.com/questions/48796868/does-promise-resolved-in-n-th-settimeout-cause-memory-leak/48810275#48810275", "title": "Does promise resolved in n-th setTimeout cause memory leak?", "body": "<p>The first time you call <code>_call()</code> in here:</p>\n\n<pre><code>async function getBalance () {\n    return new Promise((resolve, reject) =&gt; {\n        _call('/balance', null, resolve)\n    })\n}\n</code></pre>\n\n<p>It will not call the resolve callback and it will return a rejected promise and thus the <code>new Promise()</code> you have in <code>getBalance()</code> will just do nothing initially.  Remember, since <code>_call</code> is marked <code>async</code>, when you throw, that is caught and turned into a rejected promise.</p>\n\n<p>When the timer fires, it will call <code>resolve()</code> and that will resolve the <code>getBalance()</code> promise, but it will not have a value and thus you don't get your balance.  By the time you do eventually call <code>resolve(response.balance)</code>, you've already called that <code>resolve()</code> function so the promise it belongs to is latched and won't change its value.</p>\n\n<hr>\n\n<p>As others have said, there are all sorts of things wrong with this code (lots of anti-patterns).  Here's a simplified version that works when I run it in node.js or in the snippet here in the answer:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function delay(t, val) {\r\n    return new Promise(resolve =&gt; {\r\n        setTimeout(resolve.bind(null, val), t);\r\n    });\r\n}\r\n\r\n\r\nvar counter = 1;\r\n\r\nfunction post() {\r\n    console.log(`counter = ${counter}`);\r\n    // modified counter value to 100 for demo purposes here\r\n    return (counter++ &lt; 100) ? { busy: true } : { balance: 3000 };\r\n}\r\n\r\nfunction getBalance () {\r\n\r\n    async function _call() {\r\n        let response = post();\r\n\r\n        if (response.busy) {\r\n            // delay, then chain next call\r\n            await delay(10);\r\n            return _call();\r\n        } else {\r\n            return response.balance;\r\n        }\r\n    }\r\n\r\n    // start the whole process\r\n    return _call();\r\n}\r\n\r\ngetBalance()\r\n    .then(balance =&gt; console.log('balance: ', balance))\r\n    .catch(e =&gt; console.error('some err: ', e))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 6740, "user_id": 1902296, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/q8jKe.jpg?s=128&g=1", "display_name": "humkins", "link": "https://stackoverflow.com/users/1902296/humkins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 305, "favorite_count": 0, "accepted_answer_id": 48810275, "answer_count": 1, "score": 0, "last_activity_date": 1518719880, "creation_date": 1518645193, "last_edit_date": 1518719880, "question_id": 48796868, "link": "https://stackoverflow.com/questions/48796868/does-promise-resolved-in-n-th-settimeout-cause-memory-leak", "title": "Does promise resolved in n-th setTimeout cause memory leak?", "body": "<p>I can see in Chrome task manager that the tab in which following code is running eats more and more memory, and it is not released until the promise is resolved</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Main idea here is to use a single 'low level' method which would handle \"busy\" responses from the server. Other methods just pass url path with request data to it and awaiting for a valuable response.</p>\n\n<p>Some anti-patterns was removed.</p>\n\n<pre><code>var counter = 1\n\n// emulates post requests sent with ... axios\nasync function post (path, data) {\n    let response = (counter++ &lt; 1000) ? { busy: true } : { balance: 3000 }\n    return Promise.resolve(response)\n}\n\nasync function _call (path, data, resolve) {\n    let response = await post()\n\n    if (response.busy) {\n        setTimeout(() =&gt; {\n            _call(path, data, resolve)\n        }, 10)\n        throw new Error('busy')\n    }\n\n    resolve(response.balance)\n}\n\nasync function makePayment (amount) {\n    return new Promise((resolve, reject) =&gt; {\n        _call('/payment/create', {amount}, resolve)\n    })\n}\n\nasync function getBalance () {\n    return new Promise((resolve, reject) =&gt; {\n        _call('/balance', null, resolve)\n    })\n}\n\nmakePayment(500)\n    .then(() =&gt; {\n        getBalance()\n            .then(balance =&gt; console.log('balance: ', balance))\n            .catch(e =&gt; console.error('some err: ', e))\n    })\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 4, "creation_date": 1518645285, "post_id": 48796863, "comment_id": 84596203, "body": "The browser implements the DOM methods.  There is no regex magic going on.  It&#39;s processing a tree structure, not a raw string."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1518645508, "post_id": 48796863, "comment_id": 84596296, "body": "Also, you should <i>never</i> use regex to match HTML."}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1518652269, "post_id": 48796863, "comment_id": 84598779, "body": "Do you know how instances in OOP and tree data structures work?"}], "owner": {"reputation": 85, "user_id": 1724019, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/543b0a0838e9d665bfa9ebd11313f748?s=128&d=identicon&r=PG", "display_name": "Slev7n", "link": "https://stackoverflow.com/users/1724019/slev7n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "closed_date": 1518648518, "answer_count": 0, "score": 0, "last_activity_date": 1518645171, "creation_date": 1518645171, "question_id": 48796863, "link": "https://stackoverflow.com/questions/48796863/javascript-getelement-what-happens-behind-the-scene", "closed_reason": "Duplicate", "title": "Javascript getElement - what happens behind the scene?", "body": "<p>I'd like to know what goes on in the backstage when you call document.getElementById/TagName/className etc.\nIs there some regex involved? Like:</p>\n\n<pre><code>document.getElementsByTagName = function (tag) {\n    var pattern = new RegExp(\"&lt;\"+tag+\" .*&lt;\\/\"+tag+\"&gt;\", \"gi\");\n    return this.content.match(pattern);\n}\n</code></pre>\n\n<p>Or there is some more fancy stuff going on? </p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "reactjs", "airbnb", "react-dates"], "answers": [{"comments": [{"owner": {"reputation": 197, "user_id": 4379965, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b476870cdfddbc2c0bdeac1229cb388c?s=128&d=identicon&r=PG&f=1", "display_name": "Hamza", "link": "https://stackoverflow.com/users/4379965/hamza"}, "edited": false, "score": 0, "creation_date": 1518654244, "post_id": 48797563, "comment_id": 84599321, "body": "Thank you! exactly what I was looking for."}], "tags": [], "owner": {"reputation": 621, "user_id": 2192313, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OBQF9.jpg?s=128&g=1", "display_name": "Hawkins", "link": "https://stackoverflow.com/users/2192313/hawkins"}, "is_accepted": true, "score": 1, "last_activity_date": 1518648763, "creation_date": 1518648763, "answer_id": 48797563, "question_id": 48796818, "link": "https://stackoverflow.com/questions/48796818/airbnb-reactjs-react-dates-component-doesnt-allow-selection-of-dates-prior-to-c/48797563#48797563", "title": "airbnb reactjs react-dates component doesn&#39;t allow selection of dates prior to current date", "body": "<p>Just so you know, this is fully configurable and you can specify a prop to determine if a given candidate date is valid for entry (by default, this function makes dates in the past invalid, I believe)</p>\n\n<p>Just pass this prop to determine that every date is in range:</p>\n\n<pre><code>&lt;DRP isOutsideRange={() =&gt; false} /&gt;\n</code></pre>\n\n<p>For a little more context, see <a href=\"https://github.com/airbnb/react-dates/issues/985#issuecomment-361033750\" rel=\"nofollow noreferrer\">this issue</a> where I found the answer</p>\n"}], "owner": {"reputation": 197, "user_id": 4379965, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b476870cdfddbc2c0bdeac1229cb388c?s=128&d=identicon&r=PG&f=1", "display_name": "Hamza", "link": "https://stackoverflow.com/users/4379965/hamza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 48797563, "answer_count": 1, "score": 0, "last_activity_date": 1518648763, "creation_date": 1518644959, "question_id": 48796818, "link": "https://stackoverflow.com/questions/48796818/airbnb-reactjs-react-dates-component-doesnt-allow-selection-of-dates-prior-to-c", "title": "airbnb reactjs react-dates component doesn&#39;t allow selection of dates prior to current date", "body": "<p>I am using airbnb's <a href=\"http://airbnb.io/react-dates/\" rel=\"nofollow noreferrer\">DateRangePicker</a>. Its current behavior doesn't allow selection of dates prior to the present date. How do I change it to allow selection of past dates as start date? <a href=\"https://github.com/majapw/react-dates-demo/blob/master/src/App.js\" rel=\"nofollow noreferrer\">here</a> is the code being used</p>\n"}, {"tags": ["javascript", "ecmascript-6"], "comments": [{"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1518646150, "post_id": 48796806, "comment_id": 84596569, "body": "Why does <code>A.PQR</code> get transformed but <code>A.ABC</code> does not? It&#39;s pretty unclear what you want to do."}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1518646164, "post_id": 48796806, "comment_id": 84596572, "body": "And none of this has anything to do with spread syntax?"}], "answers": [{"tags": [], "owner": {"reputation": 101365, "user_id": 4620771, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/BuWrj.jpg?s=128&g=1", "display_name": "Nenad Vracar", "link": "https://stackoverflow.com/users/4620771/nenad-vracar"}, "is_accepted": false, "score": 0, "last_activity_date": 1518645451, "creation_date": 1518645451, "answer_id": 48796927, "question_id": 48796806, "link": "https://stackoverflow.com/questions/48796806/transform-a-object-into-a-new-object-object-assign/48796927#48796927", "title": "Transform a object into a new object object.assign", "body": "<p>You can do this with <code>map()</code> and <code>find()</code> methods, and if <code>key</code> matches <code>id</code> from object in other array you can use <code>Object.assign()</code> to return new object else return current object.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> const refer = [\r\n  { key: 'A.ABC', value: 'ABC', display: 'ABC' },\r\n  { key: 'A.PQR', value: 'INFOPQR', display: 'PQR' },\r\n  { key: 'Q', value: 'Q', display: 'Q'},\r\n ]\r\n\r\n const mapObj = [\r\n   {id: \"A.ABC\", name: \"other value\"},\r\n   {id: \"A.PQR\", name: \"some values\"},\r\n ]\r\nconst result = mapObj.map(o =&gt; {\r\n  const ref = refer.find(e =&gt; e.key == o.id)\r\n  return !ref ? o : Object.assign({}, o, {id: ref.value})\r\n})\r\n\r\nconsole.log(result)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 2347, "user_id": 1881309, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/t6ygi.png?s=128&g=1", "display_name": "fscore", "link": "https://stackoverflow.com/users/1881309/fscore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518676333, "creation_date": 1518644912, "last_edit_date": 1518676333, "question_id": 48796806, "link": "https://stackoverflow.com/questions/48796806/transform-a-object-into-a-new-object-object-assign", "title": "Transform a object into a new object object.assign", "body": "<p>I have 2 objects:</p>\n\n<pre><code> const refer = [\n  { key: 'A.ABC', value: 'ABC', display: 'ABC' },\n  { key: 'A.PQR', value: 'INFOPQR', display: 'PQR' },\n  { key: 'Q', value: 'Q', display: 'Q'},\n ]\n\n const mapObj = [\n   {id: \"A.ABC\", name: \"other value\"},\n   {id: \"A.PQR\", name: \"some values\"},\n ]\n</code></pre>\n\n<p>I want to return a new object by applying a transform layer to mapObject that is basically like:</p>\n\n<pre><code>  [\n   {id: \"A.ABC\", name: \"other value\"},\n   {id: \"INFOPQR\", name: \"some values\"},\n  ]\n</code></pre>\n\n<p>notice that the value from refer object should be the id in mapObj only if the key of refer matches to id of mapobj.</p>\n\n<pre><code>const transform = refer =&gt; {\n  refer.map(r =&gt; {\n    const f = mapObj.filter(d =&gt; d.id === r.id);\n\n  });\n}\n</code></pre>\n\n<p>I have the above so far. How do I use Object.assign to actually transform.</p>\n"}, {"tags": ["javascript", "json", "reactjs"], "comments": [{"owner": {"reputation": 5106, "user_id": 2430414, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/s2BPf.jpg?s=128&g=1", "display_name": "Blundering Philosopher", "link": "https://stackoverflow.com/users/2430414/blundering-philosopher"}, "edited": false, "score": 1, "creation_date": 1518646447, "post_id": 48796800, "comment_id": 84596683, "body": "In your example <code>json</code> object, you do have two sets of <code>lat</code> and <code>lon</code> keys..."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1518649826, "post_id": 48796800, "comment_id": 84598079, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/11922383/access-process-nested-objects-arrays-or-json\">Access / process (nested) objects, arrays or JSON</a>"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1518649906, "post_id": 48796800, "comment_id": 84598112, "body": "Please show us your &quot;several solutions&quot; so we know what you&#39;ve tried and can tell you where you may have gone wrong. Otherwise, it really looks like you haven&#39;t tried anything and just want us to write code for you..."}], "answers": [{"comments": [{"owner": {"reputation": 533, "user_id": 8508231, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-j85p_Yjqxpg/AAAAAAAAAAI/AAAAAAABDD4/5bje1lMjyOQ/photo.jpg?sz=128", "display_name": "Ben Ahlander", "link": "https://stackoverflow.com/users/8508231/ben-ahlander"}, "edited": false, "score": 0, "creation_date": 1518726750, "post_id": 48797665, "comment_id": 84635386, "body": "Thanks! Are you looking for a job? My company is interviewing for a javascript developer."}, {"owner": {"reputation": 586, "user_id": 8629063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/00QJV.jpg?s=128&g=1", "display_name": "Stacey Reiman", "link": "https://stackoverflow.com/users/8629063/stacey-reiman"}, "reply_to_user": {"reputation": 533, "user_id": 8508231, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-j85p_Yjqxpg/AAAAAAAAAAI/AAAAAAABDD4/5bje1lMjyOQ/photo.jpg?sz=128", "display_name": "Ben Ahlander", "link": "https://stackoverflow.com/users/8508231/ben-ahlander"}, "edited": false, "score": 0, "creation_date": 1518728775, "post_id": 48797665, "comment_id": 84636358, "body": "Part time freelancing or full time? I&#39;m in Alaska, and am a &quot;work at home&quot; mom :)"}, {"owner": {"reputation": 586, "user_id": 8629063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/00QJV.jpg?s=128&g=1", "display_name": "Stacey Reiman", "link": "https://stackoverflow.com/users/8629063/stacey-reiman"}, "reply_to_user": {"reputation": 533, "user_id": 8508231, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-j85p_Yjqxpg/AAAAAAAAAAI/AAAAAAABDD4/5bje1lMjyOQ/photo.jpg?sz=128", "display_name": "Ben Ahlander", "link": "https://stackoverflow.com/users/8508231/ben-ahlander"}, "edited": false, "score": 0, "creation_date": 1518728860, "post_id": 48797665, "comment_id": 84636403, "body": "Please note I didn&#39;t write the core function here, I found it on Github - updating a nested key is something I struggle with regularly, so I went the extra mile to find an answer to this! - <a href=\"https://github.com/gearsdigital/find-by-key\" rel=\"nofollow noreferrer\">github.com/gearsdigital/find-by-key</a>"}, {"owner": {"reputation": 533, "user_id": 8508231, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-j85p_Yjqxpg/AAAAAAAAAAI/AAAAAAABDD4/5bje1lMjyOQ/photo.jpg?sz=128", "display_name": "Ben Ahlander", "link": "https://stackoverflow.com/users/8508231/ben-ahlander"}, "edited": false, "score": 0, "creation_date": 1518736535, "post_id": 48797665, "comment_id": 84639600, "body": "my CTO sent you a linked in request. He&#39;d love to talk to you."}], "tags": [], "owner": {"reputation": 586, "user_id": 8629063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/00QJV.jpg?s=128&g=1", "display_name": "Stacey Reiman", "link": "https://stackoverflow.com/users/8629063/stacey-reiman"}, "is_accepted": true, "score": 0, "last_activity_date": 1518650432, "last_edit_date": 1518650432, "creation_date": 1518649246, "answer_id": 48797665, "question_id": 48796800, "link": "https://stackoverflow.com/questions/48796800/how-to-update-object-value-without-knowing-the-path-to-the-key/48797665#48797665", "title": "How to update object value without knowing the path to the key", "body": "<p>Here is a way to do that, but in this case all instances of the specified key will be updated - so be careful as the previous comment is correct that you have 'lon' and 'lat' twice in the data you posted.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data =  {\r\n      \"index\": {\r\n        \"queryString\": \"\",\r\n        \"filtersMap\": {},\r\n        \"selectedFilters\": [],\r\n        \"queries\": [\r\n          {\r\n            \"filtered\": {\r\n              \"filter\": {\r\n                \"bool\": {\r\n                  \"must\": [\r\n                    {\r\n                      \"term\": {\r\n                        \"listingRecordState.id\": \"3\"\r\n                      }\r\n                    },\r\n                    {\r\n                      \"geo_distance\": {\r\n                        \"distance\": \"100mi\",\r\n                        \"property.location\": {\r\n                          \"lat\": \"40.7608\",\r\n                          \"lon\": \"-444.444\"\r\n                        }\r\n                      }\r\n                    }\r\n                  ]\r\n                }\r\n              }\r\n            }\r\n          }\r\n        ],\r\n        \"filters\": [],\r\n        \"_source\": null,\r\n        \"size\": 9\r\n      },\r\n      \"query\": {\r\n        \"query\": {\r\n          \"filtered\": {\r\n            \"filter\": {\r\n              \"bool\": {\r\n                \"must\": [\r\n                  {\r\n                    \"term\": {\r\n                      \"listingRecordState.id\": \"3\"\r\n                    }\r\n                  },\r\n                  {\r\n                    \"geo_distance\": {\r\n                      \"distance\": \"100mi\",\r\n                      \"property.location\": {\r\n                        \"lat\": \"40.7608\",\r\n                        \"lon\": \"-111.8910\"\r\n                      }\r\n                    }\r\n                  }\r\n                ]\r\n              }\r\n            }\r\n          }\r\n        },\r\n        \"size\": 9\r\n      }\r\n    }\r\n    \r\nfunction updateByKey(obj, key, replace) {\r\n\r\n  var j, key = key || '',\r\n    obj = obj || {},\r\n    keys = key.split(\".\"),\r\n    sObj = [],\r\n    ssObj = [],\r\n    isSelector = !!(keys.length &gt; 0);\r\n\r\n  var findKey = function(obj, key) {\r\n    var k;\r\n    for (k in obj) {\r\n      if (k === key) {\r\n        sObj.push(obj[k]);\r\n        \r\n        if (replace) obj[k] = replace\r\n        \r\n      } else if (typeof obj[k] == 'object') {\r\n        findKey(obj[k], key);\r\n      }\r\n    }\r\n  };\r\n\r\n  if (isSelector) {\r\n    var nKey = keys.shift();\r\n    findKey(obj, nKey);\r\n\r\n    while (keys.length &gt; 0) {\r\n      nKey = keys.shift();\r\n\r\n      if (sObj.length &gt; 0) {\r\n        ssObj = sObj.slice(0), sObj = [];\r\n        for (j in ssObj) {\r\n          findKey(ssObj[j], nKey);\r\n        }\r\n      }\r\n    }\r\n  } else {\r\n    findKey(obj, key);\r\n  }\r\n\r\n  // return occurrences of key in array\r\n  return (sObj.length === 1) ? sObj.pop() : sObj;\r\n};\r\n\r\nvar keyToFind = 'lon';\r\nvar replace = 5555;\r\n\r\nconsole.log(updateByKey(data,'lon',replace))\r\nconsole.log(updateByKey(data,'lon'))</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.5/lodash.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 533, "user_id": 8508231, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-j85p_Yjqxpg/AAAAAAAAAAI/AAAAAAABDD4/5bje1lMjyOQ/photo.jpg?sz=128", "display_name": "Ben Ahlander", "link": "https://stackoverflow.com/users/8508231/ben-ahlander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "accepted_answer_id": 48797665, "answer_count": 1, "score": 0, "last_activity_date": 1518650432, "creation_date": 1518644888, "question_id": 48796800, "link": "https://stackoverflow.com/questions/48796800/how-to-update-object-value-without-knowing-the-path-to-the-key", "title": "How to update object value without knowing the path to the key", "body": "<p>I have this json object</p>\n\n<pre><code>{\n  \"index\": {\n    \"queryString\": \"\",\n    \"filtersMap\": {},\n    \"selectedFilters\": [],\n    \"queries\": [\n      {\n        \"filtered\": {\n          \"filter\": {\n            \"bool\": {\n              \"must\": [\n                {\n                  \"term\": {\n                    \"listingRecordState.id\": \"3\"\n                  }\n                },\n                {\n                  \"geo_distance\": {\n                    \"distance\": \"100mi\",\n                    \"property.location\": {\n                      \"lat\": \"40.7608\",\n                      \"lon\": \"-111.8910\"\n                    }\n                  }\n                }\n              ]\n            }\n          }\n        }\n      }\n    ],\n    \"filters\": [],\n    \"_source\": null,\n    \"size\": 9\n  },\n  \"query\": {\n    \"query\": {\n      \"filtered\": {\n        \"filter\": {\n          \"bool\": {\n            \"must\": [\n              {\n                \"term\": {\n                  \"listingRecordState.id\": \"3\"\n                }\n              },\n              {\n                \"geo_distance\": {\n                  \"distance\": \"100mi\",\n                  \"property.location\": {\n                    \"lat\": \"40.7608\",\n                    \"lon\": \"-111.8910\"\n                  }\n                }\n              }\n            ]\n          }\n        }\n      }\n    },\n    \"size\": 9\n  }\n}\n</code></pre>\n\n<p>I need to be able to update the lat and long inside this object without knowing the exact path, because the index inside each array could potentially change.</p>\n\n<p>There will only be one key of \"lat\" and one key of \"long\" so duplicate key names will not be a problem.</p>\n\n<p>I have tried several solutions using loops and recursion but have not been able to create or find something that works.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "html", "onclick"], "comments": [{"owner": {"reputation": 19688, "user_id": 3149020, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100001905387968/picture?type=large", "display_name": "Spencer Wieczorek", "link": "https://stackoverflow.com/users/3149020/spencer-wieczorek"}, "edited": false, "score": 0, "creation_date": 1518644874, "post_id": 48796732, "comment_id": 84596018, "body": "That&#39;s because <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/className\" rel=\"nofollow noreferrer\"><code>className</code></a> gets the <code>class</code> attribute value. So it would be <code>&quot;answer correct&quot;</code> rather than just <code>&quot;correct&quot;</code>. Instead you will want to see if it&#39;s in the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/classList\" rel=\"nofollow noreferrer\"><code>classList</code></a> or split by space the <code>className</code> property (<i>since this is better supported</i>)."}], "answers": [{"tags": [], "owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "is_accepted": true, "score": 3, "last_activity_date": 1518644809, "creation_date": 1518644809, "answer_id": 48796776, "question_id": 48796732, "link": "https://stackoverflow.com/questions/48796732/how-to-use-an-onclick-function-to-check-class-name-without-jquery/48796776#48796776", "title": "How To Use An onclick Function To Check Class Name Without jQuery", "body": "<p>You need to use the method <code>contains</code> from <code>classList</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var wrongMsg = \"Sorry, that's not the answer\"\r\nvar correctMsg = \"Correct!\"\r\nvar answers = document.getElementsByClassName(\"answer\");\r\n\r\nfor (var i = answers.length; i--;) {\r\n  answers[i].addEventListener('click', checkMulti);\r\n};\r\n\r\nfunction checkMulti() {\r\n  if (this.classList.contains(\"correct\")) {\r\n    console.log(correctMsg);\r\n  } else {\r\n    console.log(wrongMsg);\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;p&gt;What is 2+2?&lt;/p&gt;\r\n&lt;a href=\"#\" class=\"answer wrong\"&gt;5&lt;/a&gt;\r\n&lt;a href=\"#\" class=\"answer correct\"&gt;4&lt;/a&gt;\r\n&lt;a href=\"#\" class=\"answer wrong\"&gt;7&lt;/div&gt;\r\n&lt;a href=\"#\" class=\"answer wrong\"&gt;2&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<h1>Resource</h1>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/classList\" rel=\"nofollow noreferrer\"><code>Element.classList</code></a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 2564, "user_id": 497815, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7469f1aa8710d26e084c9cd3834f31a8?s=128&d=identicon&r=PG", "display_name": "Varinder", "link": "https://stackoverflow.com/users/497815/varinder"}, "is_accepted": false, "score": 0, "last_activity_date": 1518644844, "creation_date": 1518644844, "answer_id": 48796785, "question_id": 48796732, "link": "https://stackoverflow.com/questions/48796732/how-to-use-an-onclick-function-to-check-class-name-without-jquery/48796785#48796785", "title": "How To Use An onclick Function To Check Class Name Without jQuery", "body": "<p>I believe correct approach would you to look for <code>correct</code> classname in element's <code>classList</code> property</p>\n\n<p>like so: <code>this.classList.contains(\"correct\");</code></p>\n\n<p>more information: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/classList\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Element/classList</a></p>\n"}], "owner": {"reputation": 839, "user_id": 5854648, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9a61bb84dcbd950230b1634d7bdb6c4d?s=128&d=identicon&r=PG&f=1", "display_name": "user5854648", "link": "https://stackoverflow.com/users/5854648/user5854648"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 388, "favorite_count": 0, "accepted_answer_id": 48796776, "answer_count": 2, "score": 1, "last_activity_date": 1518644844, "creation_date": 1518644632, "question_id": 48796732, "link": "https://stackoverflow.com/questions/48796732/how-to-use-an-onclick-function-to-check-class-name-without-jquery", "title": "How To Use An onclick Function To Check Class Name Without jQuery", "body": "<p>I am looking to check if a element has a class name on click. I have the click event calling the function but nothing logs to the console. Interestingly, document.write works but no matter what I click, it logs the else even if the HTML element has the class name. </p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;p&gt;What is 2+2?&lt;/p&gt;\n&lt;a href=\"#\" class=\"answer wrong\"&gt;5&lt;/a&gt;\n&lt;a href=\"#\" class=\"answer correct\"&gt;4&lt;/a&gt;\n&lt;a href=\"#\" class=\"answer wrong\"&gt;7&lt;/div&gt;\n&lt;a href=\"#\" class=\"answer wrong\"&gt;2&lt;/div&gt;\n</code></pre>\n\n<p><strong>CSS</strong></p>\n\n<pre><code>var wrongMsg = \"Sorry, that's not the answer\"\nvar correctMsg = \"Correct!\"\nvar answers = document.getElementsByClassName(\"answer\");\n\nfor (var i=answers.length; i--;){\n    answers[i].addEventListener('click', checkMulti);\n};\n\nfunction checkMulti(){\n    if ( this.className == \"correct\" ){\n        console.log(correctMsg);\n    }else{\n        console.log(wrongMsg);\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "twitter-bootstrap", "validation", "bootstrap-4"], "comments": [{"owner": {"reputation": 293125, "user_id": 171456, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/B1qTo.jpg?s=128&g=1", "display_name": "Zim", "link": "https://stackoverflow.com/users/171456/zim"}, "edited": false, "score": 0, "creation_date": 1518646760, "post_id": 48796730, "comment_id": 84596819, "body": "Please edit the question to clarify what the problem <i>is</i>. What&#39;s not working?"}], "answers": [{"comments": [{"owner": {"reputation": 3666, "user_id": 1233300, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0bc9226b178d0b37aa2dbd9199d750a6?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/1233300/matthew"}, "edited": false, "score": 0, "creation_date": 1518661784, "post_id": 48796902, "comment_id": 84601126, "body": "thanks for the tip on my question format. I&#39;ve noticed that when adding radio button inputs, even though they don&#39;t have the <code>required</code> attribute, the <code>label</code> text foreground turns green upon form validation. Is there a way to perform no validation, or bypass validation, to stop the radio button <code>label</code>s&#39; foreground from turning green the since it is one of only two options (2 radio buttons total) by which one must be selected by default? I&#39;m just wondering why this would happen as it looks weird, especially if the <code>required</code> attribute is not placed on either radio button <code>input</code>."}, {"owner": {"reputation": 293125, "user_id": 171456, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/B1qTo.jpg?s=128&g=1", "display_name": "Zim", "link": "https://stackoverflow.com/users/171456/zim"}, "reply_to_user": {"reputation": 3666, "user_id": 1233300, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0bc9226b178d0b37aa2dbd9199d750a6?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/1233300/matthew"}, "edited": false, "score": 1, "creation_date": 1518690193, "post_id": 48796902, "comment_id": 84612409, "body": "That sounds like a separate question. Post a new question with the code example."}, {"owner": {"reputation": 3666, "user_id": 1233300, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0bc9226b178d0b37aa2dbd9199d750a6?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/1233300/matthew"}, "edited": false, "score": 0, "creation_date": 1518724046, "post_id": 48796902, "comment_id": 84634032, "body": "Posted here <a href=\"https://stackoverflow.com/questions/48815128/bootstrap-form-validation-highlighting-label-text-in-green-when-input-is-not-req\" title=\"bootstrap form validation highlighting label text in green when input is not req\">stackoverflow.com/questions/48815128/&hellip;</a>"}], "tags": [], "owner": {"reputation": 293125, "user_id": 171456, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/B1qTo.jpg?s=128&g=1", "display_name": "Zim", "link": "https://stackoverflow.com/users/171456/zim"}, "is_accepted": true, "score": 11, "last_activity_date": 1535557598, "last_edit_date": 1535557598, "creation_date": 1518645355, "answer_id": 48796902, "question_id": 48796730, "link": "https://stackoverflow.com/questions/48796730/bootstrap-4-form-validation-with-javascript-jquery/48796902#48796902", "title": "Bootstrap 4 Form Validation with Javascript /jQuery", "body": "<p>The problem is that checkValidity() exists on the <em>first</em> form node, not the form.</p>\n\n<p>Change this: <code>form.checkValidity() === false</code></p>\n\n<p>to this: <code>form[0].checkValidity() === false</code></p>\n\n<p>and it works: <a href=\"https://www.codeply.com/go/pUPBLzn6yL\" rel=\"noreferrer\">https://www.codeply.com/go/pUPBLzn6yL</a></p>\n\n<pre><code>$(document).ready(function() {\n  $(\"#submitButton\").click(function() {\n\n    //Fetch form to apply custom Bootstrap validation\n    var form = $(\"#signup-form\")\n    alert(form.prop('id')) //test to ensure calling form correctly\n\n    if (form[0].checkValidity() === false) {\n      event.preventDefault()\n      event.stopPropagation()\n    }\n    form.addClass('was-validated');\n\n    //Make ajax call here\n\n  })\n})\n</code></pre>\n\n<p><br></p>\n\n<p>More on Bootstrap 4 Validation:<br>\n<a href=\"https://stackoverflow.com/questions/45938703/cant-make-the-validation-work-in-bootstrap-4\">Can&#39;t make the validation work in Bootstrap 4</a></p>\n"}], "owner": {"reputation": 3666, "user_id": 1233300, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0bc9226b178d0b37aa2dbd9199d750a6?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/1233300/matthew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16149, "favorite_count": 2, "accepted_answer_id": 48796902, "answer_count": 1, "score": 3, "last_activity_date": 1536835440, "creation_date": 1518644625, "last_edit_date": 1518690238, "question_id": 48796730, "link": "https://stackoverflow.com/questions/48796730/bootstrap-4-form-validation-with-javascript-jquery", "title": "Bootstrap 4 Form Validation with Javascript /jQuery", "body": "<p>I am new to web development, and am trying to set up a practice form to learn form validation. I am following Bootstrap's <a href=\"https://getbootstrap.com/docs/4.0/components/forms/#validation\" rel=\"nofollow noreferrer\">doc</a> for Custom Styles to handle those with accessibility issues that use screen readers, and to standardize the validation appearance to users across different browsers.</p>\n\n<p>I have set up a basic form as well as am trying to create a JavaScript function using jQuery to handle the validation. I feel like I am almost there, but still do not have the validation working as the Bootstrap demo displays.</p>\n\n<p><strong>index.html</strong></p>\n\n<pre><code>&lt;form id=\"signup-form\" novalidate&gt;\n\n  &lt;div class=\"form-group\"&gt;\n    &lt;h1&gt;Sign Up&lt;/h1&gt;\n    &lt;p&gt;Use this form to enter your name and email to sign up.&lt;/p&gt;\n  &lt;/div&gt;\n\n  &lt;!-- Name --&gt;\n  &lt;div class=\"form-group\"&gt;\n    &lt;div class=\"row\"&gt;\n      &lt;div class=\"col\"&gt;\n        &lt;label for=\"firstNameInput\"&gt;Name&lt;/label&gt;\n        &lt;input type=\"text\" class=\"form-control\" id=\"firstNameInput\" placeholder=\"First name\" required&gt;\n        &lt;div class=\"valid-feedback\"&gt;\n          Looks good!\n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=\"col\"&gt;\n        &lt;label for=\"lastNameInput\"&gt;Last&lt;/label&gt;\n        &lt;input type=\"text\" class=\"form-control\" id=\"lastNameInput\" placeholder=\"Last name\" required&gt;\n        &lt;div class=\"valid-feedback\"&gt;\n          Looks good!\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n\n  &lt;!-- Email --&gt;\n  &lt;div class=\"form-group\"&gt;\n    &lt;label for=\"emailAddressInput\"&gt;Email address&lt;/label&gt;\n    &lt;input type=\"email\" class=\"form-control\" id=\"emailAddressInput\" aria-describedby=\"emailHelp\" placeholder=\"name@example.com\" required&gt;\n    &lt;small id=\"emailHelp\" class=\"form-text text-muted\"&gt;We'll never share your email with anyone else.&lt;/small&gt;\n    &lt;div class=\"invalid-feedback\"&gt;\n      Please provide a valid email.\n    &lt;/div&gt;\n  &lt;/div&gt;\n\n  &lt;!-- Options --&gt;\n  &lt;div class=\"form-group\"&gt;\n    &lt;div class=\"form-check\"&gt;\n      &lt;input class=\"form-check-input\" type=\"radio\" name=\"Radios\" id=\"type1RadioButton\" value=\"option1\" checked&gt;\n      &lt;label class=\"form-check-label\" for=\"type1RadioButton\"&gt;\n        Type 1 user\n      &lt;/label&gt;\n    &lt;/div&gt;\n    &lt;div class=\"form-check\"&gt;\n      &lt;input class=\"form-check-input\" type=\"radio\" name=\"Radios\" id=\"type2RadioButton\" value=\"option2\"&gt;\n      &lt;label class=\"form-check-label\" for=\"type2RadioButton\"&gt;\n        Type 2 user\n      &lt;/label&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n\n  &lt;!-- Submit Button --&gt;\n  &lt;div class=\"form-group\"&gt;\n    &lt;a href=\"#\" class=\"btn btn-primary\" id=\"submitButton\" type=\"submit\"&gt;Submit&lt;/a&gt;\n  &lt;/div&gt;\n\n&lt;/form&gt;\n</code></pre>\n\n<p><strong>script.js</strong></p>\n\n<pre><code>$(document).ready(function() {\n  $(\"#submitButton\").click(function() {\n\n    //Fetch form to apply custom Bootstrap validation\n    var form = $(\"#signup-form\")\n    //alert(form.prop('id')) //test to ensure calling form correctly\n\n    if (form.checkValidity() === false) {\n      event.preventDefault()\n      event.stopPropagation()\n    }\n    form.addClass('was-validated')\n  })\n})\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 5776, "user_id": 5323516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39708c7b863667e7a473b4c1ecce840b?s=128&d=identicon&r=PG&f=1", "display_name": "Manuel Otto", "link": "https://stackoverflow.com/users/5323516/manuel-otto"}, "edited": false, "score": 0, "creation_date": 1518644809, "post_id": 48796719, "comment_id": 84595984, "body": "Should it only return results containing all specified genres or atleast 1?"}, {"owner": {"reputation": 14148, "user_id": 4604701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8cb75b7c39263de208e368e72ad3ad1?s=128&d=identicon&r=PG&f=1", "display_name": "fubar", "link": "https://stackoverflow.com/users/4604701/fubar"}, "edited": false, "score": 0, "creation_date": 1518644976, "post_id": 48796719, "comment_id": 84596076, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/39520430/how-to-filter-array-with-array-condition\">How to filter array with array condition</a>"}, {"owner": {"reputation": 3, "user_id": 9362237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Th2BXOS2rPA/AAAAAAAAAAI/AAAAAAAAAFg/IgNQo1SpMGA/photo.jpg?sz=128", "display_name": "Broseph", "link": "https://stackoverflow.com/users/9362237/broseph"}, "reply_to_user": {"reputation": 5776, "user_id": 5323516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39708c7b863667e7a473b4c1ecce840b?s=128&d=identicon&r=PG&f=1", "display_name": "Manuel Otto", "link": "https://stackoverflow.com/users/5323516/manuel-otto"}, "edited": false, "score": 0, "creation_date": 1518738222, "post_id": 48796719, "comment_id": 84640096, "body": "@ManuelOtto Should contain all specified genres"}, {"owner": {"reputation": 3, "user_id": 9362237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Th2BXOS2rPA/AAAAAAAAAAI/AAAAAAAAAFg/IgNQo1SpMGA/photo.jpg?sz=128", "display_name": "Broseph", "link": "https://stackoverflow.com/users/9362237/broseph"}, "reply_to_user": {"reputation": 14148, "user_id": 4604701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8cb75b7c39263de208e368e72ad3ad1?s=128&d=identicon&r=PG&f=1", "display_name": "fubar", "link": "https://stackoverflow.com/users/4604701/fubar"}, "edited": false, "score": 0, "creation_date": 1518738292, "post_id": 48796719, "comment_id": 84640115, "body": "@fubar Not completely duplicated, I need a .bind function"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9362237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Th2BXOS2rPA/AAAAAAAAAAI/AAAAAAAAAFg/IgNQo1SpMGA/photo.jpg?sz=128", "display_name": "Broseph", "link": "https://stackoverflow.com/users/9362237/broseph"}, "edited": false, "score": 0, "creation_date": 1518648569, "post_id": 48796797, "comment_id": 84597588, "body": "Is there anyway to do this keeping the .bind? (for homework)"}, {"owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "reply_to_user": {"reputation": 3, "user_id": 9362237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Th2BXOS2rPA/AAAAAAAAAAI/AAAAAAAAAFg/IgNQo1SpMGA/photo.jpg?sz=128", "display_name": "Broseph", "link": "https://stackoverflow.com/users/9362237/broseph"}, "edited": false, "score": 0, "creation_date": 1518649487, "post_id": 48796797, "comment_id": 84597943, "body": "<code>movies.filter(movie =&gt; list.every(isInSet.bind(null, list)))</code> should work. Or do you need to get rid of all the arrow functions completely?"}, {"owner": {"reputation": 3, "user_id": 9362237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Th2BXOS2rPA/AAAAAAAAAAI/AAAAAAAAAFg/IgNQo1SpMGA/photo.jpg?sz=128", "display_name": "Broseph", "link": "https://stackoverflow.com/users/9362237/broseph"}, "edited": false, "score": 0, "creation_date": 1518658327, "post_id": 48796797, "comment_id": 84600381, "body": "Would probably be better to get rid of them all together but if that&#39;s asking too much don&#39;t worry about it, thank you btw"}, {"owner": {"reputation": 3, "user_id": 9362237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Th2BXOS2rPA/AAAAAAAAAAI/AAAAAAAAAFg/IgNQo1SpMGA/photo.jpg?sz=128", "display_name": "Broseph", "link": "https://stackoverflow.com/users/9362237/broseph"}, "edited": false, "score": 0, "creation_date": 1518658711, "post_id": 48796797, "comment_id": 84600478, "body": "Edit: I just tried using the .bind line and it seems to be giving me an empty array again"}], "tags": [], "owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "is_accepted": true, "score": 0, "last_activity_date": 1518644875, "creation_date": 1518644875, "answer_id": 48796797, "question_id": 48796719, "link": "https://stackoverflow.com/questions/48796719/searching-an-array-inside-of-an-object-with-another-array/48796797#48796797", "title": "Searching an Array inside of an Object with another Array", "body": "<p>Assuming that you require every genre in the list to be included in the genres of a movie for a match, you can use a combination of the array <code>.filter</code>, <code>.every</code>, and <code>.includes</code> methods to get a list of matching items:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var movies = [{  \r\n     title: \"Mission Impossible 2\",\r\n     year: 2000,\r\n     rating: 5,\r\n     genre: [\"Action\"]\r\n}, {\r\n    title: \"The Mummy\",\r\n    year: 1999,\r\n    rating: 6,\r\n    genre: [\"Action\", \"Comedy\"]\r\n}]\r\n\r\nvar list = [\"Action\", \"Comedy\"]\r\n\r\nconsole.log(movies.filter(movie =&gt; list.every(item =&gt; movie.genre.includes(item))))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9274775"}, "is_accepted": false, "score": 0, "last_activity_date": 1518644889, "creation_date": 1518644889, "answer_id": 48796802, "question_id": 48796719, "link": "https://stackoverflow.com/questions/48796719/searching-an-array-inside-of-an-object-with-another-array/48796802#48796802", "title": "Searching an Array inside of an Object with another Array", "body": "<p>Compare all the items in the search criteria against the <code>genre</code> of each movie, and return <code>true</code> if all were found.</p>\n\n<p>This can be done with <code>.every()</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var movies = [{  \r\n     title: \"Mission Impossible 2\",\r\n     year: 2000,\r\n     rating: 5,\r\n     genre: [\"Action\"]\r\n}, {\r\n    title: \"The Mummy\",\r\n    year: 1999,\r\n    rating: 6,\r\n    genre: [\"Action\", \"Comedy\"]\r\n}];\r\n\r\nvar data = [\"Action\", \"Comedy\"];\r\n\r\nvar result = movies.filter(m =&gt;\r\n    data.every(s =&gt; m.genre.includes(s))\r\n);\r\n\r\nconsole.log(result)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 3, "user_id": 9362237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Th2BXOS2rPA/AAAAAAAAAAI/AAAAAAAAAFg/IgNQo1SpMGA/photo.jpg?sz=128", "display_name": "Broseph", "link": "https://stackoverflow.com/users/9362237/broseph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 48796797, "answer_count": 2, "score": 0, "last_activity_date": 1518644889, "creation_date": 1518644555, "last_edit_date": 1518644724, "question_id": 48796719, "link": "https://stackoverflow.com/questions/48796719/searching-an-array-inside-of-an-object-with-another-array", "title": "Searching an Array inside of an Object with another Array", "body": "<pre><code>var movies = [{  \n     title: \"Mission Impossible 2\",\n     year: 2000,\n     rating: 5,\n     genre: [\"Action\"]\n}, {\n    title: \"The Mummy\",\n    year: 1999,\n    rating: 6,\n    genre: [\"Action\", \"Comedy\"]\n}]\n\nvar list = \"Action\"\nconsole.log(movies.filter(function (movie) {\n    return isInSet(list, movie);\n}))\n\nconsole.log(movies.filter(isInSet.bind(null, list)))\n\nfunction isInSet(set, item) {\n    return set.indexOf(item.genre) &gt; -1;\n}\n</code></pre>\n\n<p>This returns with mission impossible</p>\n\n<p>Now what I would like to do is change list to</p>\n\n<pre><code>var list = [\"Action\", \"Comedy\"]\n</code></pre>\n\n<p>but when I do it returns with an empty array, Can anyone help explain how to search the array of genre with the array list; to return The Mummy?</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["javascript", "json", "filepath"], "comments": [{"owner": {"reputation": 20333, "user_id": 774078, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/seSXR.png?s=128&g=1", "display_name": "Sterling Archer", "link": "https://stackoverflow.com/users/774078/sterling-archer"}, "edited": false, "score": 1, "creation_date": 1518644395, "post_id": 48796643, "comment_id": 84595809, "body": "Use a template string. <code>`url(&#39;${myObj.imageURL}&#39;)`;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8527683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c547e57bba1d8f4b4046cc5bfeea7f1d?s=128&d=identicon&r=PG&f=1", "display_name": "Tarantulino", "link": "https://stackoverflow.com/users/8527683/tarantulino"}, "edited": false, "score": 0, "creation_date": 1518644956, "post_id": 48796677, "comment_id": 84596062, "body": "Wow that was quick! Thanks a lot this works just fine! Awesome :D"}], "tags": [], "owner": {"reputation": 5776, "user_id": 5323516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39708c7b863667e7a473b4c1ecce840b?s=128&d=identicon&r=PG&f=1", "display_name": "Manuel Otto", "link": "https://stackoverflow.com/users/5323516/manuel-otto"}, "is_accepted": false, "score": 1, "last_activity_date": 1518644349, "creation_date": 1518644349, "answer_id": 48796677, "question_id": 48796643, "link": "https://stackoverflow.com/questions/48796643/how-to-use-a-variable-as-a-filepath-in-js/48796677#48796677", "title": "How to use a variable as a filepath in JS?", "body": "<p>Very close, you were ;)</p>\n\n<pre><code>newbox.style.backgroundImage = \"url(\"+myObj.imageURL+\")\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 619, "user_id": 2616440, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d5c73e78326fcf5639e6ed82c986701b?s=128&d=identicon&r=PG", "display_name": "wOOdy...", "link": "https://stackoverflow.com/users/2616440/woody"}, "is_accepted": false, "score": 0, "last_activity_date": 1518644452, "creation_date": 1518644452, "answer_id": 48796699, "question_id": 48796643, "link": "https://stackoverflow.com/questions/48796643/how-to-use-a-variable-as-a-filepath-in-js/48796699#48796699", "title": "How to use a variable as a filepath in JS?", "body": "<p>I think your string is wrong.\nUse this:</p>\n\n<pre><code>newbox.style.backgroundImage = \"url('\" + myObj.imageURL + \"')\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6413, "user_id": 1099045, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/88d35eb0f5a0f6297ed005cc4021a6f8?s=128&d=identicon&r=PG", "display_name": "Subash", "link": "https://stackoverflow.com/users/1099045/subash"}, "is_accepted": false, "score": 0, "last_activity_date": 1518645094, "creation_date": 1518645094, "answer_id": 48796849, "question_id": 48796643, "link": "https://stackoverflow.com/questions/48796643/how-to-use-a-variable-as-a-filepath-in-js/48796849#48796849", "title": "How to use a variable as a filepath in JS?", "body": "<p>This is a fully working code.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var myObj = {\r\n\timageURL: \"https://images.unsplash.com/photo-1494249465471-5655b7878482?ixlib=rb-0.3.5&amp;s=997116405ede44d63ddc54f16e2db8ce&amp;auto=format&amp;fit=crop&amp;w=1350&amp;q=80\",\r\n  Content: \"my div content\"\r\n}\r\n\r\nvar URL = JSON.stringify(myObj.imageURL);\r\n\r\nvar insert = document.getElementById(\"insert\");\r\nvar newbox = document.createElement(\"DIV\");\r\n\r\n\r\nnewbox.style.backgroundImage = `url('${myObj.imageURL}')`;\r\nnewbox.style.height = \"400px\";\r\nnewbox.innerHTML += myObj.Content;\r\nnewbox.innerHTML += myObj.imageURL;\r\ninsert.append(newbox);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"insert\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 8527683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c547e57bba1d8f4b4046cc5bfeea7f1d?s=128&d=identicon&r=PG&f=1", "display_name": "Tarantulino", "link": "https://stackoverflow.com/users/8527683/tarantulino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 877, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1518707151, "creation_date": 1518644185, "last_edit_date": 1518707151, "question_id": 48796643, "link": "https://stackoverflow.com/questions/48796643/how-to-use-a-variable-as-a-filepath-in-js", "title": "How to use a variable as a filepath in JS?", "body": "<p>While trying to build some dynamic content for a webpage, I encountered a strange problem. I did some research but I could not find anything that would help me...</p>\n\n<p>Here is my code where I try to change the background image of a div. \nThe file path for the background image is stored in an object which is received as JSON and parsed to a javascript object. When I fill the innerHTML of the div with the content of the filepath variable, the correct URL is displayed. \nAnd when I write this exact URL into the backgroundImage URL, the correct picture is displayed.\nHowever when I try to replace the file path with the variable, nothing happens.</p>\n\n<pre><code>    var myObj = JSON.parse(this.responseText);\n            var URL = JSON.stringify(myObj.imageURL);\n            newbox.style.backgroundImage = \"url('myObj.imageURL')\";\n            newbox.innerHTML += myObj.Content;\n            newbox.innerHTML += myObj.imageURL;\n            insert.append(newbox);\n</code></pre>\n\n<p>In my code you can see that I also tried to stringify the value of <code>myObj.imageURL</code> and use this as the file path. But this did not work either.</p>\n\n<p>EDIT: the filepath stored in myObj.imagURL looks like this: images/crew.jpg</p>\n\n<p>EDIT 2: The problem has been solved by Manuel Otto:</p>\n\n<pre><code>    newbox.style.backgroundImage = \"url(\"+myObj.imageURL+\")\";\n</code></pre>\n\n<p>Thanks for all the advise!</p>\n"}, {"tags": ["javascript", "html", "angular", "angular-ui-router", "asp.net-core-2.0"], "comments": [{"owner": {"reputation": 1778, "user_id": 3476981, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/dclzA.jpg?s=128&g=1", "display_name": "DrNio", "link": "https://stackoverflow.com/users/3476981/drnio"}, "edited": false, "score": 0, "creation_date": 1518644483, "post_id": 48796625, "comment_id": 84595848, "body": "do u have a registered route for <code>www.abc.com&#47;success</code> ? is this inside the angular context ?"}, {"owner": {"reputation": 75, "user_id": 1076866, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/9kPgJ.jpg?s=128&g=1", "display_name": "Sachin", "link": "https://stackoverflow.com/users/1076866/sachin"}, "reply_to_user": {"reputation": 1778, "user_id": 3476981, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/dclzA.jpg?s=128&g=1", "display_name": "DrNio", "link": "https://stackoverflow.com/users/3476981/drnio"}, "edited": false, "score": 0, "creation_date": 1518644973, "post_id": 48796625, "comment_id": 84596075, "body": "Yes when we hit www.abc.com/sucess from browser its opening page but request comes from ccaveune response call its giving above error."}, {"owner": {"reputation": 1778, "user_id": 3476981, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/dclzA.jpg?s=128&g=1", "display_name": "DrNio", "link": "https://stackoverflow.com/users/3476981/drnio"}, "edited": false, "score": 0, "creation_date": 1518645632, "post_id": 48796625, "comment_id": 84596346, "body": "let me write down what i understood: -user is somewhere in abc.com  -user clicks buy -user is redirected to external application: everything that happens there is in a 3rd party app and on success user is redirected back to the webiste abc.com/success    correct ?  where are you trying that this.http.post ? which url and which component ? can u also please provide some code snippets of the http req"}, {"owner": {"reputation": 75, "user_id": 1076866, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/9kPgJ.jpg?s=128&g=1", "display_name": "Sachin", "link": "https://stackoverflow.com/users/1076866/sachin"}, "reply_to_user": {"reputation": 1778, "user_id": 3476981, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/dclzA.jpg?s=128&g=1", "display_name": "DrNio", "link": "https://stackoverflow.com/users/3476981/drnio"}, "edited": false, "score": 0, "creation_date": 1518677755, "post_id": 48796625, "comment_id": 84605506, "body": "Yes user redirect to payment gateway site, Correct their party site response back to abc.com/success which is http response with post method, now in angular my abc.com/success is route which need to handle this post method which is not working. or i dont know how to handle this case"}, {"owner": {"reputation": 1778, "user_id": 3476981, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/dclzA.jpg?s=128&g=1", "display_name": "DrNio", "link": "https://stackoverflow.com/users/3476981/drnio"}, "edited": false, "score": 0, "creation_date": 1518684398, "post_id": 48796625, "comment_id": 84608805, "body": "<code>their party site response back to abc.com&#47;success which is http response with post method</code> &lt;- i think this is the problem you need to handle this server-side. I have no experience in .NET but i think you have to create a route in the server with .post (if the website is sending a POST to /success) and handle the request there. and then attache a .get in the /success route so angular can &quot;ask&quot; what happened. i am just doing a guess to be honest - but if you pay for that provider if i were you i would contact them for more details"}, {"owner": {"reputation": 75, "user_id": 1076866, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/9kPgJ.jpg?s=128&g=1", "display_name": "Sachin", "link": "https://stackoverflow.com/users/1076866/sachin"}, "reply_to_user": {"reputation": 1778, "user_id": 3476981, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/dclzA.jpg?s=128&g=1", "display_name": "DrNio", "link": "https://stackoverflow.com/users/3476981/drnio"}, "edited": false, "score": 0, "creation_date": 1519366493, "post_id": 48796625, "comment_id": 84890997, "body": "Thanks DrNio Yes i need to handle it from server side its not possible from client side"}, {"owner": {"reputation": 1778, "user_id": 3476981, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/dclzA.jpg?s=128&g=1", "display_name": "DrNio", "link": "https://stackoverflow.com/users/3476981/drnio"}, "edited": false, "score": 0, "creation_date": 1519383146, "post_id": 48796625, "comment_id": 84898639, "body": "great to help - posted a more general answer for future reference as comments are not very visible for most users, u can upvote it if u want"}], "answers": [{"tags": [], "owner": {"reputation": 1778, "user_id": 3476981, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/dclzA.jpg?s=128&g=1", "display_name": "DrNio", "link": "https://stackoverflow.com/users/3476981/drnio"}, "is_accepted": false, "score": 0, "last_activity_date": 1519383092, "creation_date": 1519383092, "answer_id": 48946125, "question_id": 48796625, "link": "https://stackoverflow.com/questions/48796625/handle-ccavenue-response-in-angular-js-2-0/48946125#48946125", "title": "Handle CCAvenue response in angular js 2.0", "body": "<p>As we mentioned in the comments there is no angular way or 'client-side' way to fix this. Should be handled in the backend with .post and .get routes for the status of the payment.</p>\n"}, {"tags": [], "owner": {"reputation": 151, "user_id": 10389516, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7GLQC.jpg?s=128&g=1", "display_name": "Sachin Patil", "link": "https://stackoverflow.com/users/10389516/sachin-patil"}, "is_accepted": true, "score": 2, "last_activity_date": 1568980738, "creation_date": 1568980738, "answer_id": 58027980, "question_id": 48796625, "link": "https://stackoverflow.com/questions/48796625/handle-ccavenue-response-in-angular-js-2-0/58027980#58027980", "title": "Handle CCAvenue response in angular js 2.0", "body": "<p>After publishing its plain HTML and at the end once you come to main site HTML cant identify routing mechanism. You need to implement some server-side page like PHP. </p>\n"}], "owner": {"reputation": 75, "user_id": 1076866, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/9kPgJ.jpg?s=128&g=1", "display_name": "Sachin", "link": "https://stackoverflow.com/users/1076866/sachin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 480, "favorite_count": 0, "accepted_answer_id": 58027980, "answer_count": 2, "score": 1, "last_activity_date": 1568980738, "creation_date": 1518644112, "last_edit_date": 1522893867, "question_id": 48796625, "link": "https://stackoverflow.com/questions/48796625/handle-ccavenue-response-in-angular-js-2-0", "title": "Handle CCAvenue response in angular js 2.0", "body": "<p>I am using angular js 2.0 as client side application which communicate with ASP.Net core to performer server calls. I am using ccavenue seamless integration kit where i am generating encrypted request using server call which contains \"www.abc.com/success\" as success URL. After clicking on buy button on www.abc.com site is redirecting to CCAvenue.com and perform transaction,After successful transaction from CCAvenue ,Site is redirecting to provided success URL(www.abc.com/success) where are getting \"HTTP Error 405.0 - Method Not Allowed\nThe page you are looking for cannot be displayed because an invalid method (HTTP verb) is being used.\" error.</p>\n\n<p>I am confused how to handle HTTP post response from CCAvenue in angular 2.0 application.</p>\n"}, {"tags": ["javascript", "jquery"], "answers": [{"tags": [], "owner": {"reputation": 2205, "user_id": 5705462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c0821d8458f0143b6b37046fa2e58c9?s=128&d=identicon&r=PG", "display_name": "sliptype", "link": "https://stackoverflow.com/users/5705462/sliptype"}, "is_accepted": true, "score": 1, "last_activity_date": 1518645618, "creation_date": 1518645618, "answer_id": 48796959, "question_id": 48796621, "link": "https://stackoverflow.com/questions/48796621/how-to-close-menu-by-clicking-outside-the-div-javascript-jquery/48796959#48796959", "title": "How to close menu by clicking outside the div JavaScript/Jquery", "body": "<p>You can use bind to the <code>click</code> event on body and then check that the event path does not include the nav menu:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>(function() {\r\n            var hamburger = {\r\n                navToggle: document.querySelector('.nav-toggle'),\r\n                nav: document.querySelector('nav'),\r\n\r\n                open: function (e) {\r\n                    e.preventDefault();\r\n                    this.navToggle.classList.add('expanded');\r\n                    this.nav.classList.add('expanded');\r\n                },\r\n                close: function (e) {\r\n                    e.preventDefault();\r\n                    this.navToggle.classList.remove('expanded');\r\n                    this.nav.classList.remove('expanded');\r\n                }\r\n            };\r\n\r\n            hamburger.navToggle.addEventListener('click', function (e) {\r\n                if (hamburger.nav.classList.contains('expanded')) {\r\n                  hamburger.close(e);\r\n                } else {\r\n                  hamburger.open(e);\r\n                }\r\n            });\r\n            \r\n            hamburger.nav.addEventListener('click', function (e) {\r\n                hamburger.open(e);\r\n            });\r\n            \r\n                        \r\n           document.addEventListener('click', function (e) {\r\n                if (e.path.indexOf(hamburger.navToggle) &lt; 0 &amp;&amp; e.path.indexOf(hamburger.nav) &lt; 0) {\r\n                  hamburger.close(e);\r\n                }\r\n            });\r\n\r\n    }());</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.nav2 {\r\n    -webkit-transition: left 0.5s ease;\r\n    -moz-transition: left 0.5s ease;\r\n    -ms-transition: left 0.5s ease;\r\n    -o-transition: left 0.5s ease;\r\n    transition: left 0.5s ease;\r\n    background: #000000;\r\n    color: #ff4c4d;\r\n    cursor: pointer;\r\n    font-size: 2rem;\r\n    height: 100vh;\r\n    left: -20rem;\r\n    padding: 6rem 2rem 2rem 2rem;\r\n    position: fixed;\r\n    top: 0;\r\n    width: 49vw;\r\n    z-index: 1;\r\n    opacity: 0.90;\r\n    z-index: 2;\r\n}\r\n\r\n.nav2.expanded { left: 0; }\r\n\r\n.nav2 ul {\r\n    position: absolute;\r\n    top: 40%;\r\n    -webkit-transform: translateY(-50%);\r\n    -ms-transform: translateY(-50%);\r\n    transform: translateY(-50%);\r\n    list-style: none;\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n.nav-toggle {\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    user-select: none;\r\n    cursor: pointer;\r\n    position: fixed;\r\n    top: 2rem;\r\n    width: 10vw;\r\n    z-index: 3;\r\n\r\n}\r\n\r\n.nav-toggle:hover { opacity: 0.8; }\r\n\r\n.nav-toggle .nav-toggle-bar,  .nav-toggle .nav-toggle-bar::after,  .nav-toggle .nav-toggle-bar::before {\r\n    position: absolute;\r\n    top: 50%;\r\n    -webkit-transform: translateY(-50%);\r\n    -ms-transform: translateY(-50%);\r\n    transform: translateY(-50%);\r\n    -webkit-transition: all 0.5s ease;\r\n    -moz-transition: all 0.5s ease;\r\n    -ms-transition: all 0.5s ease;\r\n    -o-transition: all 0.5s ease;\r\n    transition: all 0.5s ease;\r\n    background: #5080ff;\r\n    content: '';\r\n    height: 0.7vh;\r\n    width: 100%;\r\n    z-index: 4;\r\n}\r\n\r\n.nav-toggle .nav-toggle-bar { margin-top: 0; border-radius: 4px;}\r\n\r\n.nav-toggle .nav-toggle-bar::after { margin-top: 1.5vh; border-radius: 4px;}\r\n\r\n.nav-toggle .nav-toggle-bar::before { margin-top: -1.5vh; border-radius: 4px;}\r\n\r\n.nav-toggle.expanded .nav-toggle-bar { background: transparent; }\r\n\r\n.nav-toggle.expanded .nav-toggle-bar::after, .nav-toggle.expanded .nav-toggle-bar::before {\r\n    background: #85faff;\r\n    margin-top: 0;\r\n}\r\n\r\n.nav-toggle.expanded .nav-toggle-bar::after {\r\n    -ms-transform: rotate(45deg);\r\n    -webkit-transform: rotate(45deg);\r\n    transform: rotate(45deg);\r\n}\r\n\r\n.nav-toggle.expanded .nav-toggle-bar::before {\r\n    -ms-transform: rotate(-45deg);\r\n    -webkit-transform: rotate(-45deg);\r\n    transform: rotate(-45deg);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;body&gt;\r\n&lt;div class=\"nav-toggle\"&gt;\r\n    &lt;div class=\"nav-toggle-bar\"&gt;&lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;nav class=\"nav2\"&gt;\r\n    &lt;ul class=\"link2\"&gt;\r\n        &lt;img src=\"./assets/img/bosewhite.png\" class=\"bose-white\"&gt;\r\n        &lt;br&gt;\r\n        &lt;li&gt;&lt;a class=\"link\" href=\"#\"&gt;Home&lt;/a&gt;&lt;/li&gt;&lt;br&gt;\r\n        &lt;li&gt;&lt;a class=\"link\" href=\"#\"&gt;Portfolio&lt;/a&gt;&lt;/li&gt;&lt;br&gt;\r\n        &lt;li&gt;&lt;a class=\"link\" href=\"#\"&gt;About&lt;/a&gt;&lt;/li&gt;&lt;br&gt;\r\n        &lt;li&gt;&lt;a class=\"link\" href=\"#\"&gt;Contact&lt;/a&gt;&lt;/li&gt;&lt;br&gt;\r\n    &lt;/ul&gt;\r\n&lt;/nav&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 13, "user_id": 8902386, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jXq3e.jpg?s=128&g=1", "display_name": "Wood", "link": "https://stackoverflow.com/users/8902386/wood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 486, "favorite_count": 0, "closed_date": 1518645132, "accepted_answer_id": 48796959, "answer_count": 1, "score": 1, "last_activity_date": 1518645618, "creation_date": 1518644101, "question_id": 48796621, "link": "https://stackoverflow.com/questions/48796621/how-to-close-menu-by-clicking-outside-the-div-javascript-jquery", "closed_reason": "Duplicate", "title": "How to close menu by clicking outside the div JavaScript/Jquery", "body": "<p>i'm actually searching how to close div when clicking outside, but i have no idea how to do it.\nI have tried many things like using the attribute .removeClass with a boolean, add a removeEventListener or even with collapse but i didn't understand that one , but nothings worked for me... I'm really stucked.\nHere's my code actually :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>(function() {\r\n            var hamburger = {\r\n                navToggle: document.querySelector('.nav-toggle'),\r\n                nav: document.querySelector('nav'),\r\n\r\n                doToggle: function (e) {\r\n                    e.preventDefault();\r\n                    this.navToggle.classList.toggle('expanded');\r\n                    this.nav.classList.toggle('expanded');\r\n                }\r\n            };\r\n\r\n            hamburger.navToggle.addEventListener('click', function (e) {\r\n                hamburger.doToggle(e);\r\n            });\r\n            hamburger.nav.addEventListener('click', function (e) {\r\n                hamburger.doToggle(e);\r\n            });\r\n\r\n    }());</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.nav2 {\r\n    -webkit-transition: left 0.5s ease;\r\n    -moz-transition: left 0.5s ease;\r\n    -ms-transition: left 0.5s ease;\r\n    -o-transition: left 0.5s ease;\r\n    transition: left 0.5s ease;\r\n    background: #000000;\r\n    color: #ff4c4d;\r\n    cursor: pointer;\r\n    font-size: 2rem;\r\n    height: 100vh;\r\n    left: -20rem;\r\n    padding: 6rem 2rem 2rem 2rem;\r\n    position: fixed;\r\n    top: 0;\r\n    width: 49vw;\r\n    z-index: 1;\r\n    opacity: 0.90;\r\n    z-index: 2;\r\n}\r\n\r\n.nav2.expanded { left: 0; }\r\n\r\n.nav2 ul {\r\n    position: absolute;\r\n    top: 40%;\r\n    -webkit-transform: translateY(-50%);\r\n    -ms-transform: translateY(-50%);\r\n    transform: translateY(-50%);\r\n    list-style: none;\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n.nav-toggle {\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    user-select: none;\r\n    cursor: pointer;\r\n    position: fixed;\r\n    top: 2rem;\r\n    width: 10vw;\r\n    z-index: 3;\r\n\r\n}\r\n\r\n.nav-toggle:hover { opacity: 0.8; }\r\n\r\n.nav-toggle .nav-toggle-bar,  .nav-toggle .nav-toggle-bar::after,  .nav-toggle .nav-toggle-bar::before {\r\n    position: absolute;\r\n    top: 50%;\r\n    -webkit-transform: translateY(-50%);\r\n    -ms-transform: translateY(-50%);\r\n    transform: translateY(-50%);\r\n    -webkit-transition: all 0.5s ease;\r\n    -moz-transition: all 0.5s ease;\r\n    -ms-transition: all 0.5s ease;\r\n    -o-transition: all 0.5s ease;\r\n    transition: all 0.5s ease;\r\n    background: #5080ff;\r\n    content: '';\r\n    height: 0.7vh;\r\n    width: 100%;\r\n    z-index: 4;\r\n}\r\n\r\n.nav-toggle .nav-toggle-bar { margin-top: 0; border-radius: 4px;}\r\n\r\n.nav-toggle .nav-toggle-bar::after { margin-top: 1.5vh; border-radius: 4px;}\r\n\r\n.nav-toggle .nav-toggle-bar::before { margin-top: -1.5vh; border-radius: 4px;}\r\n\r\n.nav-toggle.expanded .nav-toggle-bar { background: transparent; }\r\n\r\n.nav-toggle.expanded .nav-toggle-bar::after, .nav-toggle.expanded .nav-toggle-bar::before {\r\n    background: #85faff;\r\n    margin-top: 0;\r\n}\r\n\r\n.nav-toggle.expanded .nav-toggle-bar::after {\r\n    -ms-transform: rotate(45deg);\r\n    -webkit-transform: rotate(45deg);\r\n    transform: rotate(45deg);\r\n}\r\n\r\n.nav-toggle.expanded .nav-toggle-bar::before {\r\n    -ms-transform: rotate(-45deg);\r\n    -webkit-transform: rotate(-45deg);\r\n    transform: rotate(-45deg);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;body&gt;\r\n&lt;div class=\"nav-toggle\"&gt;\r\n    &lt;div class=\"nav-toggle-bar\"&gt;&lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;nav class=\"nav2\"&gt;\r\n    &lt;ul class=\"link2\"&gt;\r\n        &lt;img src=\"./assets/img/bosewhite.png\" class=\"bose-white\"&gt;\r\n        &lt;br&gt;\r\n        &lt;li&gt;&lt;a class=\"link\" href=\"#\"&gt;Home&lt;/a&gt;&lt;/li&gt;&lt;br&gt;\r\n        &lt;li&gt;&lt;a class=\"link\" href=\"#\"&gt;Portfolio&lt;/a&gt;&lt;/li&gt;&lt;br&gt;\r\n        &lt;li&gt;&lt;a class=\"link\" href=\"#\"&gt;About&lt;/a&gt;&lt;/li&gt;&lt;br&gt;\r\n        &lt;li&gt;&lt;a class=\"link\" href=\"#\"&gt;Contact&lt;/a&gt;&lt;/li&gt;&lt;br&gt;\r\n    &lt;/ul&gt;\r\n&lt;/nav&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "reactjs", "react-router"], "answers": [{"comments": [{"owner": {"reputation": 377, "user_id": 8076132, "user_type": "registered", "accept_rate": 5, "profile_image": "https://www.gravatar.com/avatar/3d1ca0dd757a47cbddb2ab6dcd9fa957?s=128&d=identicon&r=PG&f=1", "display_name": "jdip88", "link": "https://stackoverflow.com/users/8076132/jdip88"}, "edited": false, "score": 0, "creation_date": 1518645096, "post_id": 48796753, "comment_id": 84596130, "body": "smh thats what happens you code for hours straight with no break, stupid mistakes, thanks"}], "tags": [], "owner": {"reputation": 569, "user_id": 7139651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OnPrX.jpg?s=128&g=1", "display_name": "salman.zare", "link": "https://stackoverflow.com/users/7139651/salman-zare"}, "is_accepted": false, "score": 1, "last_activity_date": 1518644717, "creation_date": 1518644717, "answer_id": 48796753, "question_id": 48796595, "link": "https://stackoverflow.com/questions/48796595/trying-to-block-users-from-leaving-page-before-selecting-answer-in-react/48796753#48796753", "title": "Trying to block users from leaving page before selecting answer in react", "body": "<p>@jdip88, in the first glance, I can see you have not defined initial state correctly.</p>\n\n<p>Can you please replace the following section and test it:</p>\n\n<p><code>constructor(props){\n       super(props);\n       this.state={score: '',}<br>\n}</code></p>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 7814846, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jV69xhW0hmE/AAAAAAAAAAI/AAAAAAAAAKE/9ySUhPuLJ0I/photo.jpg?sz=128", "display_name": "Julian H", "link": "https://stackoverflow.com/users/7814846/julian-h"}, "is_accepted": false, "score": 0, "last_activity_date": 1518644859, "creation_date": 1518644859, "answer_id": 48796792, "question_id": 48796595, "link": "https://stackoverflow.com/questions/48796595/trying-to-block-users-from-leaving-page-before-selecting-answer-in-react/48796792#48796792", "title": "Trying to block users from leaving page before selecting answer in react", "body": "<p>If you read the error message carefully, you can deduce that <code>this.state</code> is null, not <code>this.state.score</code> like you mentioned - it is saying that <code>score</code> is a <strong>property</strong> of null. As the other answer suggests, define an initial state in your constructor and go from there.</p>\n"}], "owner": {"reputation": 377, "user_id": 8076132, "user_type": "registered", "accept_rate": 5, "profile_image": "https://www.gravatar.com/avatar/3d1ca0dd757a47cbddb2ab6dcd9fa957?s=128&d=identicon&r=PG&f=1", "display_name": "jdip88", "link": "https://stackoverflow.com/users/8076132/jdip88"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1518644859, "creation_date": 1518643941, "question_id": 48796595, "link": "https://stackoverflow.com/questions/48796595/trying-to-block-users-from-leaving-page-before-selecting-answer-in-react", "title": "Trying to block users from leaving page before selecting answer in react", "body": "<p>I have a question component and am trying to prevent users from leaving a page before selecting an answer. this is my question component</p>\n\n<pre><code>import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nclass Questions extends Component { \n    constructor(props){\n        super(props);\n        score: ''      \n    }\n    selectScore(){\n        this.setState({\n            score: 'selected'\n        })\n    }\n\n    render(){\n        let { \n            questionCover,\n            answerSelection,\n            answer1, \n            answer2, \n            answer3, \n            answer4, \n            answer5,\n            answer6,\n            nextQuestion,\n            title1,\n            title2,\n            back,\n            questionNumber,\n            selected,\n\n        } = this.props\n        return(  \n        &lt;div&gt;\n            &lt;div className=\"questionContainer\"&gt;\n                &lt;div className=\"question\" id={questionCover} &gt;\n                    &lt;h1&gt;{title1.toUpperCase()}&lt;/h1&gt;\n        { true &amp;&amp; &lt;h1&gt;{title2}&lt;/h1&gt; }\n                &lt;/div&gt;\n                &lt;div className=\"answerContainer\"&gt;\n                    &lt;div className=\"row\"&gt;\n                        &lt;div \n                            id={answer1}\n                            className={`answers ${selected === 1 ? 'selected' : ''}`} \n                            onClick={()=&gt;{ \n                                this.props.selectedScore(1, questionNumber)\n                                this.selectScore();\n                            }}\n                            &gt;\n                        &lt;/div&gt;\n                        &lt;div \n                            id={answer2}\n                            className={`answers ${selected === 2 ? 'selected' : ''}`} \n                            onClick={()=&gt; \n                                this.props.selectedScore(2, questionNumber)\n                            }\n                            &gt;\n                        &lt;/div&gt;\n                        &lt;div \n                              id={answer3}\n                              className={`answers ${selected === 3 ? 'selected' : ''}`} \n                              onClick={()=&gt; \n                                  this.props.selectedScore(3, questionNumber)\n                              }\n                              &gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;div className=\"row\"&gt;\n                    &lt;div \n                            id={answer4}\n                            className={`answers ${selected === 4 ? 'selected' : ''}`} \n                            onClick={()=&gt; \n                                this.props.selectedScore(4, questionNumber)\n                            }\n                            &gt;\n                        &lt;/div&gt;\n                        &lt;div \n                            id={answer5}\n                            className={`answers ${selected === 5 ? 'selected' : ''}`} \n                            onClick={()=&gt; \n                                this.props.selectedScore(5, questionNumber)\n                            }\n                            &gt;\n                        &lt;/div&gt;\n                        &lt;Link to={nextQuestion} activeClassName=\"active\"\n                            onClick={(e)=&gt;{\n                                if(!this.state.score === ''){\n                                    return e.preventDefault()\n                                }\n                                }} \n                        &gt;\n                            &lt;div \n                                className=\"answers\" \n                                id={answer6}\n                                onClick={()=&gt;this.props.calculateScore()}\n                            &gt;\n                            &lt;/div&gt;\n                        &lt;/Link&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div className=\"CircleContainerAlign\"&gt;\n\n                    &lt;div className=\"circleContainer\"&gt;\n                        &lt;Link to={`/question1`} &gt;&lt;div className=\"circles\" &gt;&lt;/div&gt;&lt;/Link&gt;\n                        &lt;Link to={`/question2`} &gt;&lt;div className=\"circles\"&gt;&lt;/div&gt;&lt;/Link&gt;\n                        &lt;Link to={`/question3`} &gt;&lt;div className=\"circles\"&gt;&lt;/div&gt;&lt;/Link&gt;\n                        &lt;Link to={`/question4`} &gt;&lt;div className=\"circles\"&gt;&lt;/div&gt;&lt;/Link&gt;\n                        &lt;Link to={`/question5`} &gt;&lt;div className=\"circles\"&gt;&lt;/div&gt;&lt;/Link&gt;\n                    &lt;/div&gt;\n            &lt;Link to={`/`} activeClassName=\"active\"&gt;  &lt;div className=\"homeButton\"&gt;&lt;/div&gt;&lt;/Link&gt;\n            {(this.state.score === 'selected')?\n            &lt;Link \n                onClick={(e)=&gt;{\n                    e.preventDefault()\n                }} \n                to={back} activeClassName=\"active\"\n            &gt;\n                &lt;div className=\"back\"&gt;&lt;/div&gt;\n            &lt;/Link&gt;\n            :\n            &lt;Link to={back} activeClassName=\"active\"&gt;\n                &lt;div className=\"back\"&gt;&lt;/div&gt;\n            &lt;/Link&gt;\n            }\n            &lt;/div&gt;\n        &lt;/div&gt;\n        )\n    }\n}\n\n\nexport default Questions;\n</code></pre>\n\n<p>i have tried putting an individual onClick event on each link item with a conditional <code>e.preventDefault</code> <code>if(score === 'selected)</code>, but it wasn't stopping the event. When I don't have the conditional on it, the event is stopped and it works.</p>\n\n<p>I also tried creating a ternary that would render a link item with the onClick <code>e.preventDefault</code> but then I am getting this error</p>\n\n<p><a href=\"https://i.stack.imgur.com/QsTt8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QsTt8.png\" alt=\"enter image description here\"></a></p>\n\n<p>Not sure why <code>this.state.score</code> is coming up as null.</p>\n\n<p>Any suggestions to something I missed or another recommended method??</p>\n"}, {"tags": ["javascript", "reactjs", "mobx"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 4, "creation_date": 1518644029, "post_id": 48796574, "comment_id": 84595648, "body": "Retaining JavaScript state across multiple pages can be done using localStorage or cookies, or even url parameters. Asked and answered lots of times. Whether you should abuse React for a multi-page app is a different question (my answer would be a resounding &quot;no&quot;)"}, {"owner": {"reputation": 2564, "user_id": 497815, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7469f1aa8710d26e084c9cd3834f31a8?s=128&d=identicon&r=PG", "display_name": "Varinder", "link": "https://stackoverflow.com/users/497815/varinder"}, "edited": false, "score": 0, "creation_date": 1518644044, "post_id": 48796574, "comment_id": 84595658, "body": "Dang, if moving from one page to another involves full page refresh, you&#39;re either going to have to store state information in local storage (probably easier) or somehow communicate the state information back to server"}, {"owner": {"reputation": 590, "user_id": 1491565, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/c9d4162785ecd0199675cc49fa456473?s=128&d=identicon&r=PG", "display_name": "Showcaselfloyd", "link": "https://stackoverflow.com/users/1491565/showcaselfloyd"}, "edited": false, "score": 0, "creation_date": 1518644093, "post_id": 48796574, "comment_id": 84595682, "body": "So the answer is it can&#39;t be done in a local react component  without passing it along outside of it then?"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 1, "creation_date": 1518644138, "post_id": 48796574, "comment_id": 84595702, "body": "A ReactComponent can easily initialize its state based on <code>localStorage</code>."}, {"owner": {"reputation": 590, "user_id": 1491565, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/c9d4162785ecd0199675cc49fa456473?s=128&d=identicon&r=PG", "display_name": "Showcaselfloyd", "link": "https://stackoverflow.com/users/1491565/showcaselfloyd"}, "edited": false, "score": 0, "creation_date": 1518644188, "post_id": 48796574, "comment_id": 84595727, "body": "So localStorage is the best solution for this? If so that&#39;s cool. Just wanted to get feedback."}], "answers": [{"comments": [{"owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1518644531, "post_id": 48796707, "comment_id": 84595872, "body": "OP: &quot;Also this is not a single page app. &quot;  :)"}, {"owner": {"reputation": 171, "user_id": 5043139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kZtbE.jpg?s=128&g=1", "display_name": "eshunsharma", "link": "https://stackoverflow.com/users/5043139/eshunsharma"}, "reply_to_user": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1518644709, "post_id": 48796707, "comment_id": 84595941, "body": "@Aaron : My bad, redux / mobx should be a solution then."}, {"owner": {"reputation": 590, "user_id": 1491565, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/c9d4162785ecd0199675cc49fa456473?s=128&d=identicon&r=PG", "display_name": "Showcaselfloyd", "link": "https://stackoverflow.com/users/1491565/showcaselfloyd"}, "edited": false, "score": 0, "creation_date": 1518644927, "post_id": 48796707, "comment_id": 84596045, "body": "So the comments above recommended localStorage? Mobx would be able to handle the page refresh?"}, {"owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 1, "creation_date": 1518644988, "post_id": 48796707, "comment_id": 84596082, "body": "Redux or Mobx doesn&#39;t solve this. Localstorage does. Redux and Mobx might make using localstorage easier, such as with redux-localstorage and mobx-localstorage libraries, but they aren&#39;t necessary."}, {"owner": {"reputation": 171, "user_id": 5043139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kZtbE.jpg?s=128&g=1", "display_name": "eshunsharma", "link": "https://stackoverflow.com/users/5043139/eshunsharma"}, "edited": false, "score": 0, "creation_date": 1518645066, "post_id": 48796707, "comment_id": 84596118, "body": "Yes correct, the state tree would reload on page refresh. +1 for Localstorage."}, {"owner": {"reputation": 590, "user_id": 1491565, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/c9d4162785ecd0199675cc49fa456473?s=128&d=identicon&r=PG", "display_name": "Showcaselfloyd", "link": "https://stackoverflow.com/users/1491565/showcaselfloyd"}, "edited": false, "score": 0, "creation_date": 1518645089, "post_id": 48796707, "comment_id": 84596125, "body": "Okay, I&#39;m a little confused now.  Mobx wouldn&#39;t be able to handle the state across multiple pages, okay."}, {"owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1518645124, "post_id": 48796707, "comment_id": 84596144, "body": "No, the state will not reload on page refresh. :) At least not out of the box. There are plugins to sync your state to localstorage but that&#39;s an addon. I&#39;ll post an answer..."}, {"owner": {"reputation": 171, "user_id": 5043139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kZtbE.jpg?s=128&g=1", "display_name": "eshunsharma", "link": "https://stackoverflow.com/users/5043139/eshunsharma"}, "edited": false, "score": 0, "creation_date": 1518645235, "post_id": 48796707, "comment_id": 84596185, "body": "But again that&#39;s not pure redux, we are using localstorage there too, right? Without any addons the state tree would reload."}, {"owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1518645400, "post_id": 48796707, "comment_id": 84596240, "body": "Without addons the state tree is only in memory, so a page refresh would reset the state. If its a single-page route refresh the state tree would be preserved out of the box."}, {"owner": {"reputation": 171, "user_id": 5043139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kZtbE.jpg?s=128&g=1", "display_name": "eshunsharma", "link": "https://stackoverflow.com/users/5043139/eshunsharma"}, "reply_to_user": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1518645413, "post_id": 48796707, "comment_id": 84596251, "body": "I believe it totally depends on the usecase whether you only want to use the local storage or want to sync redux with local storage. But in any way, local storage will have to be used to handle data on page refresh. Correct me if I am wrong @Aaron."}], "tags": [], "owner": {"reputation": 171, "user_id": 5043139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kZtbE.jpg?s=128&g=1", "display_name": "eshunsharma", "link": "https://stackoverflow.com/users/5043139/eshunsharma"}, "is_accepted": false, "score": 1, "last_activity_date": 1518645086, "last_edit_date": 1518645086, "creation_date": 1518644494, "answer_id": 48796707, "question_id": 48796574, "link": "https://stackoverflow.com/questions/48796574/how-would-a-share-the-state-of-the-same-react-component-across-multiple-pages/48796707#48796707", "title": "How would a share the state of the same React component across multiple pages?", "body": "<p>If you are not moving pages (whole page refresh) and only using different components then you can simply define a state in parent component and pass it in the child components along with a function that would toggle the state.</p>\n\n<p>Function would look like this:</p>\n\n<p>ToggleState = newState => this.setState({ myState : newState });</p>\n\n<p>Pass this function as prop to child component.</p>\n\n<p>\n\n<p>Use it in child component as</p>\n\n<p>This.props.toggle(newState);</p>\n\n<p>**but if it is across multiple pages the  you can go for localstorage **</p>\n\n<p>Hope this resolves your issue. </p>\n"}, {"tags": [], "owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "is_accepted": false, "score": 4, "last_activity_date": 1518645667, "last_edit_date": 1518645667, "creation_date": 1518645336, "answer_id": 48796899, "question_id": 48796574, "link": "https://stackoverflow.com/questions/48796574/how-would-a-share-the-state-of-the-same-react-component-across-multiple-pages/48796899#48796899", "title": "How would a share the state of the same React component across multiple pages?", "body": "<blockquote>\n  <p>But I want that state to remain when the user goes from one page to the next. </p>\n</blockquote>\n\n<p>As has been said in comments probably the most straight-forward way is to just store the state to localstorage and retrieve it when the component mounts.</p>\n\n<pre><code>class Toggle extends Component {\n  componentDidMount() {\n    const storedValue = localStorage.getItem(\"my_value\");\n    if (storedValue) {\n      this.setState({ value: storedValue });\n    }\n  }\n  handleChange = e =&gt; {\n    const value = e.target.value;\n    this.setState({ value });\n    localStorage.setItem(\"my_value\", value);\n  }\n  render() {\n    return ...\n  }\n}\n</code></pre>\n\n<blockquote>\n  <p>Also this is not a single page app. Do I want Redux or Mobox or some other state management tool? Suggestions are welcomed.</p>\n</blockquote>\n\n<p>No, Redux and Mobx aren't necessary, they are state containers that have ways to persist to localstorage (for example <a href=\"https://github.com/elgerlambert/redux-localstorage\" rel=\"nofollow noreferrer\">redux-localstorage</a> and <a href=\"https://www.npmjs.com/package/mobx-localstorage\" rel=\"nofollow noreferrer\">mobx-localstorage</a>), but the key is just persisting to localstorage. </p>\n"}], "owner": {"reputation": 590, "user_id": 1491565, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/c9d4162785ecd0199675cc49fa456473?s=128&d=identicon&r=PG", "display_name": "Showcaselfloyd", "link": "https://stackoverflow.com/users/1491565/showcaselfloyd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1289, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1521646812, "creation_date": 1518643860, "last_edit_date": 1521646812, "question_id": 48796574, "link": "https://stackoverflow.com/questions/48796574/how-would-a-share-the-state-of-the-same-react-component-across-multiple-pages", "title": "How would a share the state of the same React component across multiple pages?", "body": "<p>I have a React Component with a toggle on it (on or off). The on / off state is handled by the components own state (this.state).</p>\n\n<p>But I want that state to remain when the user goes from one page to the next. For instance they are on home.html and then when user clicks to another page like about.html.</p>\n\n<p>Also this is not a single page app. Do I want Redux or Mobox or some other state management tool? Suggestions are welcomed.</p>\n"}, {"tags": ["javascript", "arrays", "local-storage", "filtering"], "comments": [{"owner": {"reputation": 2779, "user_id": 4066269, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/plvsD.png?s=128&g=1", "display_name": "Tyr", "link": "https://stackoverflow.com/users/4066269/tyr"}, "edited": false, "score": 1, "creation_date": 1518643881, "post_id": 48796550, "comment_id": 84595581, "body": "Take a look here: <a href=\"https://stackoverflow.com/questions/3138564/looping-through-localstorage-in-html5-and-javascript\" title=\"looping through localstorage in html5 and javascript\">stackoverflow.com/questions/3138564/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1633, "user_id": 3062017, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/66469839cd5f0777bccb0dfdbcbbca80?s=128&d=identicon&r=PG", "display_name": "Luca Steeb", "link": "https://stackoverflow.com/users/3062017/luca-steeb"}, "is_accepted": false, "score": 1, "last_activity_date": 1518644075, "creation_date": 1518644075, "answer_id": 48796617, "question_id": 48796550, "link": "https://stackoverflow.com/questions/48796550/json-stringifylocalstorage-filtering-by-key/48796617#48796617", "title": "JSON.stringify(localStorage) - filtering by key", "body": "<p>You should use the methods localStorage.getItem and localStorage.setItem. With those, you can write your own get &amp; set functions to easily use JSON objects:</p>\n\n<pre><code>function get(item) {\n    return JSON.parse(localStorage.getItem(item))\n}\n\nfunction set(item, value) {\n    return localStorage.setItem(item, JSON.stringify(value))\n}\n\n// use like this:\nset('foo', { bar: 1 })\nvar result = get('foo')\n// result: { bar: 1 }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 766, "user_id": 8378213, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ml1a7.jpg?s=128&g=1", "display_name": "Samir Aleido", "link": "https://stackoverflow.com/users/8378213/samir-aleido"}, "is_accepted": true, "score": 4, "last_activity_date": 1518645421, "creation_date": 1518645421, "answer_id": 48796919, "question_id": 48796550, "link": "https://stackoverflow.com/questions/48796550/json-stringifylocalstorage-filtering-by-key/48796919#48796919", "title": "JSON.stringify(localStorage) - filtering by key", "body": "<p>Try this</p>\n\n<pre><code>function filteredLS(term) {\n    var filteredObj = {};\n    Object.keys(localStorage)\n\n        .filter(function (key) {\n            return key.indexOf(term) &gt;= 0;\n        })\n\n        .map(function (key) {\n            filteredObj[key] = localStorage.getItem(key);\n        });\n\n    return JSON.stringify(filteredObj);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 319, "user_id": 679950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aeac5f97a0f940ea7f80bb8a2e22952c?s=128&d=identicon&r=PG", "display_name": "pentaphobe", "link": "https://stackoverflow.com/users/679950/pentaphobe"}, "is_accepted": false, "score": 1, "last_activity_date": 1518645875, "last_edit_date": 1518645875, "creation_date": 1518645567, "answer_id": 48796950, "question_id": 48796550, "link": "https://stackoverflow.com/questions/48796550/json-stringifylocalstorage-filtering-by-key/48796950#48796950", "title": "JSON.stringify(localStorage) - filtering by key", "body": "<p>Depending on your target browser you may want to transpile this, but for brevity I'm going with a (mostly) es6 style - this should run in modern browsers</p>\n\n<p>Filtering an object by keys:</p>\n\n<pre><code>const filterByKeys = obj =&gt; keys =&gt; Object.entries(obj)\n  // keep only the keys we care about\n  .filter( ([key, val]) =&gt; keys.includes(key) )\n  // make a new object with just the filtered keys\n  .reduce( (accum, [key, val]) =&gt; Object.assign(accum, {[key]:val} ), {} )\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>// create a function for getting select keys\nconst localStore = filterByKeys(localStorage)\n\n// call that function with a list of keys you want\nconst myValues = localStore(['foo', 'bar'])\n\n// and JSON for completeness\n\nconst localStoreJson = keys =&gt; JSON.stringify(localStore(keys))\n</code></pre>\n\n<hr>\n\n<p>Alternate option if you're transpiling or reading this in the future - using spread operator and compacting filter+reduce into one step - for your purposes this is likely unnecessary:</p>\n\n<pre><code>const filterByKeys = obj =&gt; keys =&gt; Object.entries(obj)\n  // filter and reduce in one step\n  .reduce( (accum, [key, val]) =&gt; keys.includes(key) ? {...accum, [key]:val } : accum, {} )\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 9362175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/839f93c1dfe1e7bf92c3c793e8940d5a?s=128&d=identicon&r=PG&f=1", "display_name": "Ricardo", "link": "https://stackoverflow.com/users/9362175/ricardo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 954, "favorite_count": 0, "accepted_answer_id": 48796919, "answer_count": 3, "score": 3, "last_activity_date": 1518645875, "creation_date": 1518643759, "question_id": 48796550, "link": "https://stackoverflow.com/questions/48796550/json-stringifylocalstorage-filtering-by-key", "title": "JSON.stringify(localStorage) - filtering by key", "body": "<p>I use a small code snipped to save the localStorage of my application as a string: </p>\n\n<p><code>var saveStr = JSON.stringify(localStorage);</code></p>\n\n<p>It works great at a first glance, but it basically dump the entire localStorage object, which I don't want. I'd like to stringify the localStorage, but only the keys that contains a certain string.</p>\n\n<p>For instance:\n<code>var saveStr = JSON.stringify(filteredLS(\"example\"));</code></p>\n\n<p><strong>filteredLS</strong> should return the localStorage data, but only the keys that contains the string that was passed as an argument.</p>\n\n<p>Someone knows an easy snipped to achieve this?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 4, "creation_date": 1518643700, "post_id": 48796514, "comment_id": 84595516, "body": "Probably you&#39;re getting errors.  Please share a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>"}, {"owner": {"reputation": 541, "user_id": 5013193, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EDO4U2ULZfI/AAAAAAAAAAI/AAAAAAAABcw/hGQIlpm5LOQ/photo.jpg?sz=128", "display_name": "Patrick Michaelsen", "link": "https://stackoverflow.com/users/5013193/patrick-michaelsen"}, "edited": false, "score": 1, "creation_date": 1518643820, "post_id": 48796514, "comment_id": 84595559, "body": "Your for loop is likely not running properly. In <code>overlays[overlay].style.opacity = globalOpacityValue;</code>, there is a chance that <code>overlays[overlay]</code> is <code>undefined</code>. Then you are trying to access the <code>style</code> property of <code>undefined</code>, which will throw an error."}, {"owner": {"reputation": 49, "user_id": 8927880, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f00e336a5fd38915ef96d2f5f343a1c3?s=128&d=identicon&r=PG&f=1", "display_name": "\u9ece\u8559\u6b23", "link": "https://stackoverflow.com/users/8927880/%e9%bb%8e%e8%95%99%e6%ac%a3"}, "edited": false, "score": 0, "creation_date": 1518643852, "post_id": 48796514, "comment_id": 84595568, "body": "So normally for/in loop doesn&#39;t ends a function? If that&#39;s the case I should run through my other codes."}, {"owner": {"reputation": 49, "user_id": 8927880, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f00e336a5fd38915ef96d2f5f343a1c3?s=128&d=identicon&r=PG&f=1", "display_name": "\u9ece\u8559\u6b23", "link": "https://stackoverflow.com/users/8927880/%e9%bb%8e%e8%95%99%e6%ac%a3"}, "edited": false, "score": 0, "creation_date": 1518643892, "post_id": 48796514, "comment_id": 84595589, "body": "Patrick Michaelsen: no. The things in the for/in loop is being done. But yeah, the console always said it can&#39;t access to style of undefined. But it still change the style normally so I didn&#39;t care"}], "answers": [{"tags": [], "owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "is_accepted": false, "score": 1, "last_activity_date": 1518644082, "last_edit_date": 1518644082, "creation_date": 1518643767, "answer_id": 48796552, "question_id": 48796514, "link": "https://stackoverflow.com/questions/48796514/will-for-in-loop-exit-a-function-after-the-loop/48796552#48796552", "title": "will for/in loop exit a function after the loop?", "body": "<ul>\n<li>You're trying to get an element from <code>HTMLCollection</code> using <code>in</code>.</li>\n<li>Use <code>overlay of overlays</code>.</li>\n</ul>\n\n<hr>\n\n<pre><code>function toggle() {\n    overlays = document.getElementsByClassName(\"overlay\");\n\n    if (globalOpacityValue == 0.9){\n        globalOpacityValue = 0;\n    }else{\n        globalOpacityValue = 0.9;\n    }\n    console.log(\"globalOpacityValue: \" + globalOpacityValue);\n\n    for (overlay of overlays) {\n        overlay.style.opacity = globalOpacityValue;\n    }\n    console.log(\"toggle routine done!\");\n\n    tempStoreOnChangeArtificial();\n    console.log(\"tempStoreOnChangeArtificial done!\");\n}\n</code></pre>\n\n<h1>Resources</h1>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/in\" rel=\"nofollow noreferrer\"><code>in operator</code></a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of\" rel=\"nofollow noreferrer\"><code>for...of</code></a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 2564, "user_id": 497815, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7469f1aa8710d26e084c9cd3834f31a8?s=128&d=identicon&r=PG", "display_name": "Varinder", "link": "https://stackoverflow.com/users/497815/varinder"}, "is_accepted": false, "score": 1, "last_activity_date": 1518643857, "creation_date": 1518643857, "answer_id": 48796573, "question_id": 48796514, "link": "https://stackoverflow.com/questions/48796514/will-for-in-loop-exit-a-function-after-the-loop/48796573#48796573", "title": "will for/in loop exit a function after the loop?", "body": "<p>I'm not aware that you can iterate over <code>document.getElementByClassName</code> using <code>for in</code> perhaps that's where the problem is, you may want to iterate over HTMLCollection like below:</p>\n\n<pre><code>function toggle() {\n    overlays = document.getElementsByClassName(\"overlay\");\n\n    if (globalOpacityValue == 0.9){\n        globalOpacityValue = 0;\n    }else{\n        globalOpacityValue = 0.9;\n    }\n    console.log(\"globalOpacityValue: \" + globalOpacityValue);\n\n    Array.prototype.forEach.call(overlays, function(overlay) {\n        overlay.style.opacity = globalOpacityValue;\n    });\n\n    console.log(\"toggle routine done!\");\n\n    tempStoreOnChangeArtificial();\n    console.log(\"tempStoreOnChangeArtificial done!\");\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 2, "last_activity_date": 1518644361, "last_edit_date": 1518644361, "creation_date": 1518643962, "answer_id": 48796598, "question_id": 48796514, "link": "https://stackoverflow.com/questions/48796514/will-for-in-loop-exit-a-function-after-the-loop/48796598#48796598", "title": "will for/in loop exit a function after the loop?", "body": "<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementsByClassName\" rel=\"nofollow noreferrer\"><code>document.getElementsByClassName</code></a> returns an array like object, which is not iterable with a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...in\" rel=\"nofollow noreferrer\"><code>for ... in</code> statement</a>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function toggle() {\r\n    var overlays = document.getElementsByClassName(\"overlay\"),\r\n        i;\r\n\r\n    if (globalOpacityValue == 0.9){\r\n        globalOpacityValue = 0;\r\n    }else{\r\n        globalOpacityValue = 0.9;\r\n    }\r\n    console.log(\"globalOpacityValue: \" + globalOpacityValue);\r\n\r\n    for (i = 0; i&lt; overlays.length; i++) {\r\n        overlays[i].style.opacity = globalOpacityValue;\r\n    }\r\n    console.log(\"toggle routine done!\");\r\n\r\n//    tempStoreOnChangeArtificial();\r\n    console.log(\"tempStoreOnChangeArtificial done!\");\r\n}\r\n\r\nvar globalOpacityValue = 0;\r\ntoggle();</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"overlay\"&gt;a&lt;/div&gt;\r\n&lt;div class=\"overlay\"&gt;b&lt;/div&gt;\r\n&lt;div class=\"overlay\"&gt;c&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 49, "user_id": 8927880, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f00e336a5fd38915ef96d2f5f343a1c3?s=128&d=identicon&r=PG&f=1", "display_name": "\u9ece\u8559\u6b23", "link": "https://stackoverflow.com/users/8927880/%e9%bb%8e%e8%95%99%e6%ac%a3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1518644361, "creation_date": 1518643633, "last_edit_date": 1518643756, "question_id": 48796514, "link": "https://stackoverflow.com/questions/48796514/will-for-in-loop-exit-a-function-after-the-loop", "title": "will for/in loop exit a function after the loop?", "body": "<pre><code>function toggle() {\n    overlays = document.getElementsByClassName(\"overlay\");\n\n    if (globalOpacityValue == 0.9){\n        globalOpacityValue = 0;\n    }else{\n        globalOpacityValue = 0.9;\n    }\n    console.log(\"globalOpacityValue: \" + globalOpacityValue);\n\n    for (overlay in overlays) {\n        overlays[overlay].style.opacity = globalOpacityValue;\n    }\n    console.log(\"toggle routine done!\");\n\n    tempStoreOnChangeArtificial();\n    console.log(\"tempStoreOnChangeArtificial done!\");\n}\n</code></pre>\n\n<p>It seems to me that after the for/in loop, my function ends.</p>\n\n<p>My toggle() never display \"toggle routine done!\", and obviously it doesn't run the  tempStoreOnChangeArtificial();</p>\n\n<p>But it does things in the for/in loop.</p>\n\n<p>why?</p>\n"}, {"tags": ["javascript", "shibboleth"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1518643721, "post_id": 48796502, "comment_id": 84595524, "body": "What you&#39;re looking for is called <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies\" rel=\"nofollow noreferrer\">session cookies</a>"}, {"owner": {"reputation": 91, "user_id": 5025482, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1658077af8f25764ccda25e4d706a00c?s=128&d=identicon&r=PG&f=1", "display_name": "MSkiLLz", "link": "https://stackoverflow.com/users/5025482/mskillz"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1518645144, "post_id": 48796502, "comment_id": 84596149, "body": "@Amy &quot;However, web browsers may use session restoring, which makes most session cookies permanent, as if the browser was never closed.&quot;"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1518645165, "post_id": 48796502, "comment_id": 84596162, "body": "Have you <i>tried</i> it?"}, {"owner": {"reputation": 91, "user_id": 5025482, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1658077af8f25764ccda25e4d706a00c?s=128&d=identicon&r=PG&f=1", "display_name": "MSkiLLz", "link": "https://stackoverflow.com/users/5025482/mskillz"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1518647057, "post_id": 48796502, "comment_id": 84596947, "body": "Shibboleth has a session cookie already in use within the application but that cookie isn&#39;t cleared on tab close. This is why I initially thought to manually clear it out on the client side code but it didn&#39;t work."}, {"owner": {"reputation": 2846, "user_id": 1534925, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ITOUd.jpg?s=128&g=1", "display_name": "Akshay", "link": "https://stackoverflow.com/users/1534925/akshay"}, "edited": false, "score": 0, "creation_date": 1518673585, "post_id": 48796502, "comment_id": 84603937, "body": "Other websites don&#39;t use Shibboleth so they have different session implementation.  Frankly there is no way to be sure to be logged out in Shibboleth."}], "owner": {"reputation": 91, "user_id": 5025482, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1658077af8f25764ccda25e4d706a00c?s=128&d=identicon&r=PG&f=1", "display_name": "MSkiLLz", "link": "https://stackoverflow.com/users/5025482/mskillz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518643579, "creation_date": 1518643579, "question_id": 48796502, "link": "https://stackoverflow.com/questions/48796502/logging-out-of-application-on-tab-close", "title": "Logging out of application on tab close", "body": "<p>I'm working with a Shibboleth single sign on application and I'm doing some research to find out how to successfully logout of the application if a tab is closed.  I've tried handling this event on the client side using .beforeunload to delete the coookies but that doesn't work. I'm assuming it's because the application is HttpOnly. I also tried running the logout function on tab close but that doesn't work either because the window isn't active long enough to end the sessions on the IDP and the SP.  </p>\n\n<p>The only other idea I have left is to have a window popup on tab close but I'd probably be introducing new issues to this.  How is it that banking websites like chase.com can force a user to re-login on tab close?     </p>\n"}, {"tags": ["javascript", "ajax", "pagination"], "comments": [{"owner": {"reputation": 2564, "user_id": 497815, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7469f1aa8710d26e084c9cd3834f31a8?s=128&d=identicon&r=PG", "display_name": "Varinder", "link": "https://stackoverflow.com/users/497815/varinder"}, "edited": false, "score": 0, "creation_date": 1518643523, "post_id": 48796470, "comment_id": 84595443, "body": "Perhaps moving to second page doesn not entails a full page refresh, leading to <code>onload()</code> not being called"}, {"owner": {"reputation": 69, "user_id": 9335282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/546bf501c20e93ad7c9a2c55bc6f2da7?s=128&d=identicon&r=PG&f=1", "display_name": "Ram", "link": "https://stackoverflow.com/users/9335282/ram"}, "reply_to_user": {"reputation": 2564, "user_id": 497815, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7469f1aa8710d26e084c9cd3834f31a8?s=128&d=identicon&r=PG", "display_name": "Varinder", "link": "https://stackoverflow.com/users/497815/varinder"}, "edited": false, "score": 0, "creation_date": 1518644095, "post_id": 48796470, "comment_id": 84595684, "body": "that is true. What do I do in this case?"}, {"owner": {"reputation": 2564, "user_id": 497815, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7469f1aa8710d26e084c9cd3834f31a8?s=128&d=identicon&r=PG", "display_name": "Varinder", "link": "https://stackoverflow.com/users/497815/varinder"}, "edited": false, "score": 0, "creation_date": 1518644191, "post_id": 48796470, "comment_id": 84595728, "body": "Depends on whether datatable library you&#39;re using allows <code>callbacks</code> to be attached to pagination events.. if so, perhaps you can run the <code>onload</code> logic on pagination change"}], "owner": {"reputation": 69, "user_id": 9335282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/546bf501c20e93ad7c9a2c55bc6f2da7?s=128&d=identicon&r=PG&f=1", "display_name": "Ram", "link": "https://stackoverflow.com/users/9335282/ram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 21, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518643425, "creation_date": 1518643425, "question_id": 48796470, "link": "https://stackoverflow.com/questions/48796470/ajax-call-not-being-called-for-successive-pages-for-table-spread-over-more-than", "title": "AJAX call not being called for successive pages for table spread over more than one page - javascript", "body": "<p>I have an ajax call (for updating a table column dependent on another column's value) being made on windows.onload(). The table lists search results which span over multiple pages. The ajax function works well for the first page, but moving on to the next pages, the ajax function doesn't get called for updating the column in the table. Looking for some suggestions here.</p>\n"}, {"tags": ["javascript", "jquery", "spring-mvc"], "comments": [{"owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 0, "creation_date": 1518643383, "post_id": 48796432, "comment_id": 84595380, "body": "Your jQuery code works, you need to check something else than only jquery and HTML markup."}, {"owner": {"reputation": 11, "user_id": 8728946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f94da365aefd0d388aea89d849160350?s=128&d=identicon&r=PG&f=1", "display_name": "Mounika", "link": "https://stackoverflow.com/users/8728946/mounika"}, "reply_to_user": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 0, "creation_date": 1518643977, "post_id": 48796432, "comment_id": 84595623, "body": "@Ele You are probably right. Looks like my document.ready function is not called the first time i reach this page. I&#39;ll close this question and open a new one"}], "owner": {"reputation": 11, "user_id": 8728946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f94da365aefd0d388aea89d849160350?s=128&d=identicon&r=PG&f=1", "display_name": "Mounika", "link": "https://stackoverflow.com/users/8728946/mounika"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 554, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518643272, "creation_date": 1518643272, "question_id": 48796432, "link": "https://stackoverflow.com/questions/48796432/how-to-assign-value-from-jquery-method-to-hidden-field-in-spring-mvc-form-tag", "title": "How to assign value from jQuery method to hidden field in Spring mvc form tag", "body": "<p>I need to pass browser timezone back to my controller and I'm doing this by using a hidden form field in my jsp. I set the value using jQuery val method. However, the value retrieved at the Controller is \"\". Can you please help.</p>\n\n<p>JSP - Spring form tag:\n`</p>\n\n<pre><code>&lt;div data-role=\"content\" style=\"text-align: center\"&gt;\n        &lt;form:form id=\"user\" modelAttribute=\"user\" action=\"index\"&gt;\n            &lt;form:input path=\"accountNumber\" id=\"account-number\" \n                placeholder=\"Account Number\"/&gt;\n            &lt;form:hidden path=\"timeZone\" id=\"timeZone\"  value=\"\"/&gt;\n        &lt;/form:form&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>`</p>\n\n<p>jQuery method:\n<code>$(document).ready(function() {\n    var zone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n    $(\"#timeZone\").val(zone);\n});</code></p>\n"}, {"tags": ["javascript", "reactjs", "date"], "comments": [{"owner": {"reputation": 809, "user_id": 1166645, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/637f6794c0f9f0638234201eb9b07887?s=128&d=identicon&r=PG", "display_name": "Yathi", "link": "https://stackoverflow.com/users/1166645/yathi"}, "edited": false, "score": 0, "creation_date": 1518643256, "post_id": 48796383, "comment_id": 84595309, "body": "Check the docs on the date picker.. Does it require any theme? The error basically means you are doing trying to get the property <code>theme</code> on a <code>null</code> object, like <code>null.theme</code>. So you have to find what the <code>null</code> is ."}], "answers": [{"comments": [{"owner": {"reputation": 567, "user_id": 9141338, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/867ee394a5ae75c878a7d2ccb263e879?s=128&d=identicon&r=PG&f=1", "display_name": "jammy", "link": "https://stackoverflow.com/users/9141338/jammy"}, "edited": false, "score": 0, "creation_date": 1518643320, "post_id": 48796431, "comment_id": 84595345, "body": "This worked .My bad for not not going to the correct place ."}], "tags": [], "owner": {"reputation": 2564, "user_id": 497815, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7469f1aa8710d26e084c9cd3834f31a8?s=128&d=identicon&r=PG", "display_name": "Varinder", "link": "https://stackoverflow.com/users/497815/varinder"}, "is_accepted": false, "score": 2, "last_activity_date": 1518643272, "creation_date": 1518643272, "answer_id": 48796431, "question_id": 48796383, "link": "https://stackoverflow.com/questions/48796383/typeerror-cannot-read-property-theme-of-undefined-in-react/48796431#48796431", "title": "TypeError: Cannot read property &#39;theme&#39; of undefined in React", "body": "<p>According to the <a href=\"https://github.com/airbnb/react-dates\" rel=\"nofollow noreferrer\">Readme</a>, you may want to add this <code>import 'react-dates/initialize';</code> to root of your application</p>\n"}], "owner": {"reputation": 567, "user_id": 9141338, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/867ee394a5ae75c878a7d2ccb263e879?s=128&d=identicon&r=PG&f=1", "display_name": "jammy", "link": "https://stackoverflow.com/users/9141338/jammy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1091, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518643272, "creation_date": 1518643079, "question_id": 48796383, "link": "https://stackoverflow.com/questions/48796383/typeerror-cannot-read-property-theme-of-undefined-in-react", "title": "TypeError: Cannot read property &#39;theme&#39; of undefined in React", "body": "<p>I am writing a web app in react and as soon as I use reactdate picker in my code ,it simply breaks giving me the error stated above .\nAdding these two lines breaks my webapp and throws an error .</p>\n\n<pre><code>import {SingleDatePicker} from 'react-dates';\nimport 'react-dates/lib/css/_datepicker.css';\n</code></pre>\n\n<p>I have react-dates installed in package.json file but I don't understand as how to fix this and move forward ?</p>\n"}, {"tags": ["javascript", "angularjs", "google-chrome-devtools", "electron", "nightmare"], "answers": [{"comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 143, "user_id": 3912255, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7755ce3434e12c664f2155504bb8b7ff?s=128&d=identicon&r=PG&f=1", "display_name": "casper", "link": "https://stackoverflow.com/users/3912255/casper"}, "edited": false, "score": 0, "creation_date": 1518714021, "post_id": 48797256, "comment_id": 84628525, "body": "I don&#39;t have Nightmare at hand to try this, but this is somewhat expected, because <code>evaluate</code> callback is browser scope and everything else is Node; it cannot pass the object by magic. It depends on what this data is, but generally you may want to serialize it inside <code>evaluate</code> with JSON.stringify and then deserialize with JSON.parse."}, {"owner": {"reputation": 143, "user_id": 3912255, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7755ce3434e12c664f2155504bb8b7ff?s=128&d=identicon&r=PG&f=1", "display_name": "casper", "link": "https://stackoverflow.com/users/3912255/casper"}, "edited": false, "score": 0, "creation_date": 1518714430, "post_id": 48797256, "comment_id": 84628774, "body": "Right. So when I do stringify I&#39;m return <code>&#39;{&quot;$$state&quot;:{&quot;status&quot;:0}}&#39;</code> Do you have any idea why i&#39;m not getting a status 1"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 143, "user_id": 3912255, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7755ce3434e12c664f2155504bb8b7ff?s=128&d=identicon&r=PG&f=1", "display_name": "casper", "link": "https://stackoverflow.com/users/3912255/casper"}, "edited": false, "score": 0, "creation_date": 1518715362, "post_id": 48797256, "comment_id": 84629350, "body": "It&#39;s a promise. You omitted service implementation in your question, but it&#39;s so. Chain it with <code>then</code> before serializing and returning it with <code>done</code>"}], "tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": false, "score": 1, "last_activity_date": 1518647181, "creation_date": 1518647181, "answer_id": 48797256, "question_id": 48796270, "link": "https://stackoverflow.com/questions/48796270/interacting-with-dev-tools-while-scraping-with-nightmare-js-with-evaluate/48797256#48797256", "title": "Interacting with dev tools while scraping with nightmare.js with .evaluate", "body": "<p>It's safe to assume that AngularJS application wasn't bootstrapped yet at the moment when injector is retrieved.</p>\n\n<p>A delay can be provided to the code inside <code>evaluate</code>, either manually set <code>setTimeout</code> or ready event listener:</p>\n\n<pre><code>   var result = yield nightmare.evaluate((arg, done) =&gt; {\n      angular.element(() =&gt; {\n        var api = angular.element(document.body).injector().get('apiFactory')\n        done(api.getData(arg));\n      });\n   },result);\n</code></pre>\n\n<p>Or it can wait for application bootstrap:</p>\n\n<pre><code>   var result = yield nightmare.wait('.ng-scope').evaluate((arg) =&gt; {\n      var api = angular.element(document.body).injector().get('apiFactory')\n      return api.getData(arg);     \n   },result);\n</code></pre>\n\n<p>Waiting for <code>ng-scope</code> class <a href=\"https://stackoverflow.com/questions/28688483/angularjs-class-ng-scope-is-not-being-added\">won't work in production mode</a>, in this case application-specific selectors should be waited instead.</p>\n"}], "owner": {"reputation": 143, "user_id": 3912255, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7755ce3434e12c664f2155504bb8b7ff?s=128&d=identicon&r=PG&f=1", "display_name": "casper", "link": "https://stackoverflow.com/users/3912255/casper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 226, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518647181, "creation_date": 1518642611, "question_id": 48796270, "link": "https://stackoverflow.com/questions/48796270/interacting-with-dev-tools-while-scraping-with-nightmare-js-with-evaluate", "title": "Interacting with dev tools while scraping with nightmare.js with .evaluate", "body": "<p>I am trying to automate a process that I manually perform in devtools. In the dev console I'll create a variable object: </p>\n\n<p><code>var api = angular.element(document.body).injector().get('apiFactory')</code></p>\n\n<p>and then make calls on the <code>api</code> object <code>api.getData(arg)</code> and then get returned an object <code>{}</code></p>\n\n<p>How can I get the returned object like above in nightmare's .evaluate function similarly below? </p>\n\n<pre><code>vo(run(arg)) \n   .then(function(result) {\n   console.log(result);   \n}, function(err) {\n    console.log(err);\n}); \n\nvar run = function * (arg){ \n   nightmare.goto('https://...')\n\n   var result = nightmare.evaluate((arg) =&gt; {\n      var api = angular.element(document.body).injector().get('apiFactory')\n      return api.getData(arg);     \n   },result);\n\n   yield nightmare.end();\n};\n</code></pre>\n"}, {"tags": ["javascript", "html", "google-chrome", "firefox", "video"], "comments": [{"owner": {"reputation": 779, "user_id": 4330986, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-ShiVBa_DeWc/AAAAAAAAAAI/AAAAAAAAANw/pM66h-_82ng/photo.jpg?sz=128", "display_name": "Colin", "link": "https://stackoverflow.com/users/4330986/colin"}, "edited": false, "score": 0, "creation_date": 1518643599, "post_id": 48796265, "comment_id": 84595473, "body": "Did you notice this before adding the style to the slider or after? Maybe try a % rather than a set pixel width. Just a thought..."}, {"owner": {"reputation": 25361, "user_id": 924299, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a142d1ec6b8444c9baf3ec6176e1cf61?s=128&d=identicon&r=PG&f=1", "display_name": "showdev", "link": "https://stackoverflow.com/users/924299/showdev"}, "edited": false, "score": 0, "creation_date": 1518643678, "post_id": 48796265, "comment_id": 84595509, "body": "I don&#39;t notice a problem in Firefox or Chrome. Seems smooth to me."}, {"owner": {"reputation": 3406, "user_id": 110186, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/AemXl.jpg?s=128&g=1", "display_name": "Feckmore", "link": "https://stackoverflow.com/users/110186/feckmore"}, "edited": false, "score": 0, "creation_date": 1518707497, "post_id": 48796265, "comment_id": 84624197, "body": "The slider styling doesn&#39;t seem to make a difference. I removed the width restriction on the video. Also, I posted some links to JSFiddle and CodePen where the behavior seems more pronounced than StackOverflow&#39;s (apparently superior) code snippets."}], "owner": {"reputation": 3406, "user_id": 110186, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/AemXl.jpg?s=128&g=1", "display_name": "Feckmore", "link": "https://stackoverflow.com/users/110186/feckmore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 682, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1518787600, "creation_date": 1518642592, "last_edit_date": 1518787600, "question_id": 48796265, "link": "https://stackoverflow.com/questions/48796265/scrubbing-html-video-is-jerky-in-chrome-and-firefox", "title": "Scrubbing HTML video is jerky in Chrome and Firefox", "body": "<p>HTML video is much choppier when scrubbing with range input on Chrome or Firefox than it is if viewed on Safari, Internet Explorer 11 or Edge.</p>\n\n<p>Is there any way to help Chrome &amp; Firefox be as buttery smooth as the other browsers?</p>\n\n<p>--- UPDATE ---</p>\n\n<p>Strangely, it appears smoother when running the snippet when posted, than in the snippet editor itself (and unfortunately, on the page I'm trying to use it on).</p>\n\n<p>That being said, here are a couple of examples where the different browser behaviors is more apparent: </p>\n\n<p>1) On the CodePen where that I drew inspiration from:</p>\n\n<p><a href=\"https://codepen.io/ollieRogers/pen/lfeLc\" rel=\"nofollow noreferrer\">https://codepen.io/ollieRogers/pen/lfeLc</a></p>\n\n<p>2) On JSFiddle:</p>\n\n<p><a href=\"https://jsfiddle.net/L9fdyg3j/42/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/L9fdyg3j/42/</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function(){\r\n  var vid = document.getElementById('vid'); \r\n  var playbackConst = 500; \r\n  var initialized = false;\r\n\r\n  vid.addEventListener('loadedmetadata', function() {\r\n    if (!initialized){\r\n      var slider = $('#slide');\r\n      // set slider max according to video length\r\n      var lastFrame = Math.floor(vid.duration) * playbackConst;\r\n      slider.attr('max', lastFrame);\r\n      // set slider to middle position\r\n      slider.attr('value', lastFrame/2);\r\n      // also start video in the middle\r\n      vid.currentTime  = lastFrame/(2 * playbackConst);\r\n      // Pause the video immediately ...\r\n      vid.pause();\r\n      initialized = true;\r\n    }\r\n  });\r\n\r\n  // set video to current position of the slider when slider input is modified\r\n  $(document).on('input change', 'input', function() {\r\n    vid.currentTime  = $(this).val()/playbackConst;\r\n  });\r\n\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#slide{\r\n  width: 640px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;video id=\"vid\" muted playsinline autoplay=\"true\" preload=\"auto\" &gt;\r\n    &lt;source type=\"video/mp4\" src=\"https://www.html5rocks.com/tutorials/video/basics/Chrome_ImF.mp4\"&gt;\r\n  &lt;p&gt;Your browser does not support video playback&lt;/p&gt;\r\n&lt;/video&gt;\r\n\r\n&lt;br&gt;\r\n&lt;input id=\"slide\" type=\"range\" &gt;\r\n&lt;br&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 650, "user_id": 4656297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zcelh.jpg?s=128&g=1", "display_name": "Charlie Ng", "link": "https://stackoverflow.com/users/4656297/charlie-ng"}, "edited": false, "score": 0, "creation_date": 1518642599, "post_id": 48796222, "comment_id": 84594956, "body": "why would you do x.value = x.value........ I think you messed up the variable names"}, {"owner": {"reputation": 819, "user_id": 2442396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef74bc85c7e8026ef1901a11c745d076?s=128&d=identicon&r=PG&f=1", "display_name": "bp4D", "link": "https://stackoverflow.com/users/2442396/bp4d"}, "edited": false, "score": 0, "creation_date": 1518643045, "post_id": 48796222, "comment_id": 84595200, "body": "Just modifying your code slightly.. <a href=\"https://jsbin.com/basagus/edit?html,js,output\" rel=\"nofollow noreferrer\">jsbin.com/basagus/edit?html,js,output</a>"}], "answers": [{"tags": [], "owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "is_accepted": false, "score": 2, "last_activity_date": 1518643023, "last_edit_date": 1518643023, "creation_date": 1518642610, "answer_id": 48796269, "question_id": 48796222, "link": "https://stackoverflow.com/questions/48796222/change-input-value-based-on-another-inputs-value-and-vice-versa-in-javascript/48796269#48796269", "title": "Change input value based on another input&#39;s value and vice versa in Javascript", "body": "<p>Just bind the <code>input</code> event to both input fields.</p>\n\n<ul>\n<li>Execute <code>getElementById</code> function only once to improve performance.</li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var fname = document.getElementById('fname');\r\nvar james = document.getElementById('james');\r\n\r\nfname.addEventListener('input', function() {\r\n  james.value = this.value;\r\n});\r\n\r\njames.addEventListener('input', function() {\r\n  fname.value = this.value;\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"text\" id=\"fname\"&gt;\r\n&lt;br&gt;&lt;br&gt;\r\n&lt;input type=\"text\" id=\"james\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "reply_to_user": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 0, "creation_date": 1518642904, "post_id": 48796295, "comment_id": 84595119, "body": "^ Removed, and still improving the answer :)"}], "tags": [], "owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "is_accepted": false, "score": 2, "last_activity_date": 1518642959, "last_edit_date": 1518642959, "creation_date": 1518642712, "answer_id": 48796295, "question_id": 48796222, "link": "https://stackoverflow.com/questions/48796222/change-input-value-based-on-another-inputs-value-and-vice-versa-in-javascript/48796295#48796295", "title": "Change input value based on another input&#39;s value and vice versa in Javascript", "body": "<p>The problem is that you're never setting the value of <code>x</code> to be equal to the value of <code>y</code>. And even if you were to do this, considering you're calling the same function both times, the value would immediately get overwritten.</p>\n\n<p>What you want to do is make use of two separate functions that update one another.</p>\n\n<p>Note that you're probably also looking to trigger the function on <strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/Events/input\" rel=\"nofollow noreferrer\"><code>input</code></a></strong> rather on <strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/Events/change\" rel=\"nofollow noreferrer\"><code>change</code></a></strong>.</p>\n\n<p>Finally, you'll want to extrapolate the logic, and make use of <strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\" rel=\"nofollow noreferrer\"><code>addEventListener()</code></a></strong>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>document.getElementById(\"fname\").addEventListener(\"input\", function(){\r\n    document.getElementById(\"james\").value = this.value;\r\n});\r\n\r\ndocument.getElementById(\"james\").addEventListener(\"input\", function(){\r\n    document.getElementById(\"fname\").value = this.value;\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"text\" id=\"fname\"&gt;\r\n&lt;br&gt;&lt;br&gt;\r\n&lt;input type=\"text\" id=\"james\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 0, "last_activity_date": 1518642790, "creation_date": 1518642790, "answer_id": 48796311, "question_id": 48796222, "link": "https://stackoverflow.com/questions/48796222/change-input-value-based-on-another-inputs-value-and-vice-versa-in-javascript/48796311#48796311", "title": "Change input value based on another input&#39;s value and vice versa in Javascript", "body": "<p>You actually need to detect a change:</p>\n\n<pre><code> var prev;\n\n function updateCalculator() {\n    var x = document.getElementById(\"fname\");\n    var y = document.getElementById(\"james\");\n    if(x.value != prev){\n      prev = y.value = x.value;\n    } \n    if(y.value != prev){\n      prev = x.value = y.value;\n    }           \n }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9362078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1400adcded0a3a1934aa87873e5e918?s=128&d=identicon&r=PG&f=1", "display_name": "user9362078", "link": "https://stackoverflow.com/users/9362078/user9362078"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1408, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1518643023, "creation_date": 1518642405, "question_id": 48796222, "link": "https://stackoverflow.com/questions/48796222/change-input-value-based-on-another-inputs-value-and-vice-versa-in-javascript", "title": "Change input value based on another input&#39;s value and vice versa in Javascript", "body": "<p>I need help with java script code for changing the value of one input field from another input field and vice versa.</p>\n\n<p>I am building a calculator similar to the Zillow Mortgage Calculator and when you input the down payment %, the down payment dollar amount updates, and it works vice versa, if you input the dollar amount the percentage field updates.</p>\n\n<p>zillow calculator link:  <a href=\"https://www.zillow.com/mortgage-calculator/\" rel=\"nofollow noreferrer\">https://www.zillow.com/mortgage-calculator/</a></p>\n\n<p>here is the Javascript code I am using and it only works one way not the other.\nthank you for any help.</p>\n\n<pre><code>&lt;input type=\"text\" id=\"fname\" onchange=\"myFunction()\"&gt;\n&lt;br&gt;&lt;br&gt;\n&lt;input type=\"text\" id=\"james\" onchange=\"myFunction()\"&gt;\n\n\n&lt;script&gt;\nfunction myFunction() {\nvar x = document.getElementById(\"fname\");\nx.value = x.value;\n\nvar y = document.getElementById(\"james\");\ny.value = x.value;\n\n}\n&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 2564, "user_id": 497815, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7469f1aa8710d26e084c9cd3834f31a8?s=128&d=identicon&r=PG", "display_name": "Varinder", "link": "https://stackoverflow.com/users/497815/varinder"}, "edited": false, "score": 1, "creation_date": 1518642424, "post_id": 48796196, "comment_id": 84594852, "body": "You may want to have a look at this answer: <a href=\"https://stackoverflow.com/questions/149055/how-can-i-format-numbers-as-dollars-currency-string-in-javascript\" title=\"how can i format numbers as dollars currency string in javascript\">stackoverflow.com/questions/149055/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 33261, "user_id": 1496715, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/oC5FA.jpg?s=128&g=1", "display_name": "void", "link": "https://stackoverflow.com/users/1496715/void"}, "is_accepted": false, "score": 2, "last_activity_date": 1518643090, "creation_date": 1518643090, "answer_id": 48796385, "question_id": 48796196, "link": "https://stackoverflow.com/questions/48796196/javascript-putting-comma-in-text/48796385#48796385", "title": "Javascript putting comma in text", "body": "<p>You can still do it, just first convert string to number.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var value = \"16865112.0\";\r\nvalue = +value; // convert to number\r\nvar fV = Number(value).toLocaleString();\r\nconsole.log(fV);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 51, "user_id": 9340444, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7df8033cda48fa58aa226af7796d1efc?s=128&d=identicon&r=PG&f=1", "display_name": "hypern00b", "link": "https://stackoverflow.com/users/9340444/hypern00b"}, "edited": false, "score": 0, "creation_date": 1518645153, "post_id": 48796461, "comment_id": 84596157, "body": "Thanks it worked, but when I try it on this: &#39; <code>$(&quot;#max_supply&quot;).html(data[i].max_supply == null ? &#39;\u221e&#39; : data[i].max_supply);</code> -&gt;   <code>$(&quot;#max_supply&quot;).html(Number(data[i].max_supply).toLocaleStr&zwnj;&#8203;ing(&#39;en-US&#39;) == null ? &#39;\u221e&#39; : data[i].max_supply.toLocaleString(&#39;en-US&#39;));</code> It doesnt work what did I do wrong?"}, {"owner": {"reputation": 36, "user_id": 6509627, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6vMTUuX3Pao/AAAAAAAAAAI/AAAAAAAAAkY/xHtBd9MIOuY/photo.jpg?sz=128", "display_name": "Ji\u0159&#237; \u0160ime\u010dek", "link": "https://stackoverflow.com/users/6509627/ji%c5%99%c3%ad-%c5%a0ime%c4%8dek"}, "reply_to_user": {"reputation": 51, "user_id": 9340444, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7df8033cda48fa58aa226af7796d1efc?s=128&d=identicon&r=PG&f=1", "display_name": "hypern00b", "link": "https://stackoverflow.com/users/9340444/hypern00b"}, "edited": false, "score": 0, "creation_date": 1518727608, "post_id": 48796461, "comment_id": 84635805, "body": "@hypern00b I believe you converted wrong part, try it like this: <code>$(&quot;#max_supply&quot;).html(data[i].max_supply.toLocaleString(&#39;en-&zwnj;&#8203;US&#39;) == null ? &#39;\u221e&#39; : Number(data[i].max_supply).toLocaleString(&#39;en-US&#39;));</code>"}], "tags": [], "owner": {"reputation": 36, "user_id": 6509627, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6vMTUuX3Pao/AAAAAAAAAAI/AAAAAAAAAkY/xHtBd9MIOuY/photo.jpg?sz=128", "display_name": "Ji\u0159&#237; \u0160ime\u010dek", "link": "https://stackoverflow.com/users/6509627/ji%c5%99%c3%ad-%c5%a0ime%c4%8dek"}, "is_accepted": true, "score": 2, "last_activity_date": 1518643384, "creation_date": 1518643384, "answer_id": 48796461, "question_id": 48796196, "link": "https://stackoverflow.com/questions/48796196/javascript-putting-comma-in-text/48796461#48796461", "title": "Javascript putting comma in text", "body": "<p>You are calling <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toLocaleString\" rel=\"nofollow noreferrer\">Number.toLocaleString</a> on String. You need to convert it to Number first by calling parseInt or Number() constructor (you can change your current locale too). </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$.get(\"https://api.coinmarketcap.com/v1/ticker/\", function(data, status) {\r\n  for (var i = 0; i &lt; data.length - 1; i++) {\r\n    if (data[i].id == \"bitcoin\") {\r\n     $(\"#total_supply\").html(Number(data[i].total_supply).toLocaleString('en-US'));  \r\n     }\r\n  }\r\n}); </code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"total_supply\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 51, "user_id": 9340444, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7df8033cda48fa58aa226af7796d1efc?s=128&d=identicon&r=PG&f=1", "display_name": "hypern00b", "link": "https://stackoverflow.com/users/9340444/hypern00b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "closed_date": 1518646683, "accepted_answer_id": 48796461, "answer_count": 2, "score": 1, "last_activity_date": 1518643384, "creation_date": 1518642326, "question_id": 48796196, "link": "https://stackoverflow.com/questions/48796196/javascript-putting-comma-in-text", "closed_reason": "Duplicate", "title": "Javascript putting comma in text", "body": "<p>I'm having problems with my (javascript) API. When I use the coinmarketcap API (<a href=\"https://api.coinmarketcap.com/v1/ticker\" rel=\"nofollow noreferrer\">https://api.coinmarketcap.com/v1/ticker</a>). As for \"max_supply\" for bitcoin, it gives me \"16865112.0\" in text. This is a problem. I want to automatically put comma's in the number like 16,865,112.0 normally I use <code>toLocaleString()</code> but it is marked as text and it doesnt work.</p>\n\n<pre><code>$.get(\"https://api.coinmarketcap.com/v1/ticker/\", function(data, status) {\n  for (var i = 0; i &lt; data.length - 1; i++) {\n    if (data[i].id == \"bitcoin\") {\n     $(\"#total_supply\").html(data[i].total_supply.toLocaleString());  \n     }\n  }\n}); \n</code></pre>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["javascript", "vuejs2"], "answers": [{"tags": [], "owner": {"reputation": 2462, "user_id": 4088472, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2g7J4.jpg?s=128&g=1", "display_name": "Slava Knyazev", "link": "https://stackoverflow.com/users/4088472/slava-knyazev"}, "is_accepted": false, "score": 0, "last_activity_date": 1518642309, "creation_date": 1518642309, "answer_id": 48796195, "question_id": 48796134, "link": "https://stackoverflow.com/questions/48796134/how-to-add-or-remove-class-in-vuejs-2-based-on-id/48796195#48796195", "title": "how to add or remove class in vuejs 2 based on id", "body": "<p>You have not internalized basic vuejs concepts.</p>\n\n<p><a href=\"https://vuejs.org/v2/guide/components.html\" rel=\"nofollow noreferrer\">https://vuejs.org/v2/guide/components.html</a></p>\n\n<p>Both of your elements should be separate components.</p>\n"}, {"tags": [], "owner": {"reputation": 2205, "user_id": 5705462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c0821d8458f0143b6b37046fa2e58c9?s=128&d=identicon&r=PG", "display_name": "sliptype", "link": "https://stackoverflow.com/users/5705462/sliptype"}, "is_accepted": true, "score": 3, "last_activity_date": 1518643094, "creation_date": 1518643094, "answer_id": 48796386, "question_id": 48796134, "link": "https://stackoverflow.com/questions/48796134/how-to-add-or-remove-class-in-vuejs-2-based-on-id/48796386#48796386", "title": "how to add or remove class in vuejs 2 based on id", "body": "<p>Here is an example of using components to achieve the behavior you are looking for:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// register\r\nconst clickable = Vue.component('clickable', {\r\n  props: ['msg'],\r\n  data: function() {\r\n    return {\r\n      isActive: false\r\n    }\r\n  },\r\n  template: '&lt;div :class=\"{ active: isActive }\" @click=\"isActive = !isActive\"&gt;{{ msg }}&lt;/div&gt;'\r\n})\r\n\r\nnew Vue({\r\n  el: \"#test\",\r\n  components: {\r\n    clickable\r\n  },\r\n  data: function() {\r\n    return {\r\n      msg: 'msg goes here',\r\n      isActive: false\r\n    }\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.active {\r\n  background: red\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdn.jsdelivr.net/npm/vue@2.5.13/dist/vue.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div id=\"test\"&gt;\r\n  \r\n  &lt;clickable :msg='msg'&gt;&lt;/clickable&gt;\r\n  \r\n  &lt;clickable :msg='msg'&gt;&lt;/clickable&gt;\r\n\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 15, "user_id": 3357489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e95afc30bdb30242ad1718605165838?s=128&d=identicon&r=PG&f=1", "display_name": "rgs", "link": "https://stackoverflow.com/users/3357489/rgs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3376, "favorite_count": 0, "accepted_answer_id": 48796386, "answer_count": 2, "score": 0, "last_activity_date": 1518643094, "creation_date": 1518642090, "question_id": 48796134, "link": "https://stackoverflow.com/questions/48796134/how-to-add-or-remove-class-in-vuejs-2-based-on-id", "title": "how to add or remove class in vuejs 2 based on id", "body": "<p>I want to add or remove class to an element based on id using vuejs, but this code applies the behaviour to all elements. How can I add/remove a class to the element by id? Thanks all in advance.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>new Vue({\r\nel:\"#test\",\r\ndata: {\r\nmsg: 'msg goes here',\r\nisActive: false\r\n},\r\n  methods: {\r\n    log: function(e) {\r\n    this.isActive =  ! this.isActive\r\n    //alert(e.currentTarget.id);\r\n  }\r\n}\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.active {\r\n  background: red\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdn.jsdelivr.net/npm/vue@2.5.13/dist/vue.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div id=\"test\"&gt;\r\n\r\n&lt;div id=\"1\" v-on:click=\"log($event)\" v-bind:class=\"{ active: isActive  }\"&gt;\r\n{{ msg }}\r\n&lt;/div&gt;\r\n\r\n\r\n&lt;div id=\"2\" v-on:click=\"log($event)\" v-bind:class=\"{ active: isActive }\"&gt;\r\n{{ msg }}\r\n&lt;/div&gt;\r\n\r\n\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "angularjs", "angular-ui-router"], "comments": [{"owner": {"reputation": 1459, "user_id": 3412090, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8bbc8d8b966c0dca1f3a7e7da92a38c3?s=128&d=identicon&r=PG&f=1", "display_name": "floor", "link": "https://stackoverflow.com/users/3412090/floor"}, "edited": false, "score": 0, "creation_date": 1518645223, "post_id": 48796066, "comment_id": 84596181, "body": "there is a way... but your better off just specifying a template or an html file with your component and transclude that way. But if you are bent on using component you could specify a binding: <a href=\"https://ui-router.github.io/ng1/docs/latest/interfaces/ng1.ng1statedeclaration.html#bindings\" rel=\"nofollow noreferrer\">ui-router.github.io/ng1/docs/latest/interfaces/&hellip;</a>  the binding to specify is the ngTransclude directive which you will specify in a a string the html you&#39;d like to transclude, there might be a better way  but this is what I gathered from ui routers docs and ngTransclude docs"}, {"owner": {"reputation": 2096, "user_id": 2954463, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b12033e593a98a470a964d7a93297386?s=128&d=identicon&r=PG&f=1", "display_name": "user2954463", "link": "https://stackoverflow.com/users/2954463/user2954463"}, "reply_to_user": {"reputation": 1459, "user_id": 3412090, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8bbc8d8b966c0dca1f3a7e7da92a38c3?s=128&d=identicon&r=PG&f=1", "display_name": "floor", "link": "https://stackoverflow.com/users/3412090/floor"}, "edited": false, "score": 1, "creation_date": 1518708905, "post_id": 48796066, "comment_id": 84625108, "body": "@floor hey thanks a lot! i ended up specifying it as a component, and refactoring so i didn&#39;t need to do ngTransclude."}], "owner": {"reputation": 2096, "user_id": 2954463, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b12033e593a98a470a964d7a93297386?s=128&d=identicon&r=PG&f=1", "display_name": "user2954463", "link": "https://stackoverflow.com/users/2954463/user2954463"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518641874, "creation_date": 1518641874, "question_id": 48796066, "link": "https://stackoverflow.com/questions/48796066/how-to-do-ng-transclude-with-ui-routers-component-api", "title": "how to do ng-transclude with ui router&#39;s component API", "body": "<p>I'm running AngularJS with UI Router. When I hit a certain route, I want to render a component.</p>\n\n<p>I also want to be able to pass a child component into the component via  ngTransclude.</p>\n\n<p>If I were to do this in a template, I would do something like:</p>\n\n<p>\n   \n   \n</p>\n\n<p>But now, UI router recommends i use the [<code>component</code> api].<a href=\"https://ui-router.github.io/guide/ng1/route-to-component\" rel=\"nofollow noreferrer\">1</a></p>\n\n<p>Does anyone know if it's possible to define ngTransclude options with ui router's component API? or do I have to do the old way, using template?</p>\n\n<p>Here is what I have now:</p>\n\n<pre><code>.state('builder.items.selectedItem', {\n      views: {\n        'myViews@builder': {\n          component: 'first-component', //this is the new API\n        },\n      },\n      resolve: {\n        item: /*@ngInject*/ function(dataService) {\n          return dataService.getItems()[0];\n        },\n      },\n</code></pre>\n\n<p>where my component definition is</p>\n\n<pre><code>const component = {\n  ngTransclude: true,\n  bindings: {\n    item: '&lt;',\n  },\n  controller: Blahblah,\n  template: `&lt;div&gt;\n    Hello i am inside first component and my item is {{item}}\n    &lt;ng-transclude&gt;\n    &lt;/ng-transclude&gt;\n  &lt;/div`\n}\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "froala"], "answers": [{"tags": [], "owner": {"reputation": 2945, "user_id": 76808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e70cf2864531ff65258a7e3297f440aa?s=128&d=identicon&r=PG", "display_name": "Daniel P", "link": "https://stackoverflow.com/users/76808/daniel-p"}, "is_accepted": true, "score": 1, "last_activity_date": 1518654066, "creation_date": 1518654066, "answer_id": 48798347, "question_id": 48796051, "link": "https://stackoverflow.com/questions/48796051/get-id-of-current-froala-editor/48798347#48798347", "title": "get ID of current froala editor", "body": "<p><code>this.$box.prop('id')</code></p>\n\n<p>or</p>\n\n<p><code>this.$box[0].id</code></p>\n"}], "owner": {"reputation": 2614, "user_id": 1807604, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/r7vz4.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/1807604/shawn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 505, "favorite_count": 0, "accepted_answer_id": 48798347, "answer_count": 1, "score": 1, "last_activity_date": 1518654066, "creation_date": 1518641824, "last_edit_date": 1518644956, "question_id": 48796051, "link": "https://stackoverflow.com/questions/48796051/get-id-of-current-froala-editor", "title": "get ID of current froala editor", "body": "<p>I added a custom button to my Froala editor.</p>\n\n<pre><code>  $.FroalaEditor.DefineIcon('yt', {NAME: 'plus'});\n  $.FroalaEditor.RegisterCommand('yt', {\n    title: 'make yt',\n    focus: true,\n    undo: true,\n    refreshAfterCallback: true,\n    callback: function () {\n       console.log(this);\n    }\n  });\n</code></pre>\n\n<p>when I click the button, <em>console.log(this)</em> shows</p>\n\n<pre><code>b {id: 1, opts: {\u2026}, sid: 1, shared: {\u2026}, $oel: m.fn.init(1), \u2026}\n$box:m.fn.init [div#jobEditor.fr-box.fr-basic.fr-top, context: div#jobEditor.fr-box.fr-basic.fr-top]\n$doc:m.fn.init [document, context: document]\n$el:m.fn.init [div.fr-element.fr-view]\n$oel:m.fn.init [div#jobEditor.fr-box.fr-basic.fr-top, context: di...\n(more stuff)\n</code></pre>\n\n<p>I see the ID of the DIV that I want (#jobEditor).\nHow do I extract that from \"this\"?</p>\n"}, {"tags": ["javascript", "html", "angular", "async-await", "ngx-bootstrap"], "comments": [{"owner": {"reputation": 1459, "user_id": 3412090, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8bbc8d8b966c0dca1f3a7e7da92a38c3?s=128&d=identicon&r=PG&f=1", "display_name": "floor", "link": "https://stackoverflow.com/users/3412090/floor"}, "edited": false, "score": 0, "creation_date": 1518642679, "post_id": 48796030, "comment_id": 84595001, "body": "does your api return the proper names? because the error message kinda suggests its returning null or nothing or some http error."}, {"owner": {"reputation": 586, "user_id": 2599255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b81f7abcbe1356dd6788f9d6167f8fe?s=128&d=identicon&r=PG", "display_name": "pioro90", "link": "https://stackoverflow.com/users/2599255/pioro90"}, "edited": false, "score": 0, "creation_date": 1518642759, "post_id": 48796030, "comment_id": 84595054, "body": "If you want to share your code you can use <a href=\"https://stackblitz.com\" rel=\"nofollow noreferrer\">stackblitz.com</a> instead of plunker"}, {"owner": {"reputation": 1127, "user_id": 5655767, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cI0dR.png?s=128&g=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/5655767/steven"}, "reply_to_user": {"reputation": 1459, "user_id": 3412090, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8bbc8d8b966c0dca1f3a7e7da92a38c3?s=128&d=identicon&r=PG&f=1", "display_name": "floor", "link": "https://stackoverflow.com/users/3412090/floor"}, "edited": false, "score": 0, "creation_date": 1518647041, "post_id": 48796030, "comment_id": 84596940, "body": "@floor yes, the api returns everything in style, I check that in the &lt;pre&gt; tag with the json pipe"}, {"owner": {"reputation": 1127, "user_id": 5655767, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cI0dR.png?s=128&g=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/5655767/steven"}, "reply_to_user": {"reputation": 586, "user_id": 2599255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b81f7abcbe1356dd6788f9d6167f8fe?s=128&d=identicon&r=PG", "display_name": "pioro90", "link": "https://stackoverflow.com/users/2599255/pioro90"}, "edited": false, "score": 0, "creation_date": 1518647062, "post_id": 48796030, "comment_id": 84596952, "body": "@pioro90 I will try and do that tomorrow, not in the office anymore, thank you!"}, {"owner": {"reputation": 1459, "user_id": 3412090, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8bbc8d8b966c0dca1f3a7e7da92a38c3?s=128&d=identicon&r=PG&f=1", "display_name": "floor", "link": "https://stackoverflow.com/users/3412090/floor"}, "edited": false, "score": 0, "creation_date": 1518703931, "post_id": 48796030, "comment_id": 84621697, "body": "@Steven is locations an array? because it would need to be an array."}, {"owner": {"reputation": 1127, "user_id": 5655767, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cI0dR.png?s=128&g=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/5655767/steven"}, "edited": false, "score": 0, "creation_date": 1518708800, "post_id": 48796030, "comment_id": 84625038, "body": "Hi, yes, it becomes an array when the REST call resolves itself"}, {"owner": {"reputation": 1127, "user_id": 5655767, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cI0dR.png?s=128&g=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/5655767/steven"}, "reply_to_user": {"reputation": 1459, "user_id": 3412090, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8bbc8d8b966c0dca1f3a7e7da92a38c3?s=128&d=identicon&r=PG&f=1", "display_name": "floor", "link": "https://stackoverflow.com/users/3412090/floor"}, "edited": false, "score": 0, "creation_date": 1518715970, "post_id": 48796030, "comment_id": 84629729, "body": "@floor I&#39;ve updated my question with a link to stackblitz, now it collects the dependencies just fine.  I get two errors, as described in question, the only one that concerns me is the second"}, {"owner": {"reputation": 1459, "user_id": 3412090, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8bbc8d8b966c0dca1f3a7e7da92a38c3?s=128&d=identicon&r=PG&f=1", "display_name": "floor", "link": "https://stackoverflow.com/users/3412090/floor"}, "edited": false, "score": 0, "creation_date": 1518718799, "post_id": 48796030, "comment_id": 84631283, "body": "@Steven its likely something to do with this.locations not being an array. try this.locations = []; just above where you are assigning it to an observer"}, {"owner": {"reputation": 1127, "user_id": 5655767, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cI0dR.png?s=128&g=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/5655767/steven"}, "reply_to_user": {"reputation": 1459, "user_id": 3412090, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8bbc8d8b966c0dca1f3a7e7da92a38c3?s=128&d=identicon&r=PG&f=1", "display_name": "floor", "link": "https://stackoverflow.com/users/3412090/floor"}, "edited": false, "score": 0, "creation_date": 1518718927, "post_id": 48796030, "comment_id": 84631351, "body": "@floor I have an assignment like that already:  <code>locations = [{id:1, name:&#39;trialone&#39;}];</code>  EDIT; I&#39;ve added that line regardless and it still fails with the slice error"}, {"owner": {"reputation": 1459, "user_id": 3412090, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8bbc8d8b966c0dca1f3a7e7da92a38c3?s=128&d=identicon&r=PG&f=1", "display_name": "floor", "link": "https://stackoverflow.com/users/3412090/floor"}, "edited": false, "score": 0, "creation_date": 1518719180, "post_id": 48796030, "comment_id": 84631479, "body": "@Steven try moving this.locations .... in constructor to  ngOnInit()"}, {"owner": {"reputation": 1127, "user_id": 5655767, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cI0dR.png?s=128&g=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/5655767/steven"}, "edited": false, "score": 0, "creation_date": 1518719336, "post_id": 48796030, "comment_id": 84631562, "body": "I take it you mean the whole line where I assign an observable to it?  Done it and saved in stackblitz, same error pops up"}, {"owner": {"reputation": 1459, "user_id": 3412090, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8bbc8d8b966c0dca1f3a7e7da92a38c3?s=128&d=identicon&r=PG&f=1", "display_name": "floor", "link": "https://stackoverflow.com/users/3412090/floor"}, "edited": false, "score": 0, "creation_date": 1518719484, "post_id": 48796030, "comment_id": 84631661, "body": "@Steven i cant run the stackblitz im on a phone so I am kinda just guessing. Would you mind commenting the observable part out and just assign an array of objects (more than a couple) to see if it works with a regular array"}, {"owner": {"reputation": 1127, "user_id": 5655767, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cI0dR.png?s=128&g=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/5655767/steven"}, "edited": false, "score": 0, "creation_date": 1518719579, "post_id": 48796030, "comment_id": 84631711, "body": "Yep, as soon as I comment out the observable, it takes the objects from the first declaration of locations (<code>locations = [{id:1, name:&#39;trialone&#39;}];</code>)  BTW no need to apologise, I really appreciate all the help :)"}, {"owner": {"reputation": 1127, "user_id": 5655767, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cI0dR.png?s=128&g=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/5655767/steven"}, "edited": false, "score": 0, "creation_date": 1518720781, "post_id": 48796030, "comment_id": 84632370, "body": "Tried the following: <code>searchAllSitesFromGeoNamesAPI(term: string) {      this.formService.querySitesByName(term).subscribe(        (result =&gt; { this.locations = result;         console.log(&quot;here now &quot; + this.locations);          return Observable.of(this.locations); }),          error =&gt; (this.locations = error)); }</code> Same error :("}, {"owner": {"reputation": 1127, "user_id": 5655767, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cI0dR.png?s=128&g=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/5655767/steven"}, "edited": false, "score": 0, "creation_date": 1518721167, "post_id": 48796030, "comment_id": 84632572, "body": "So, doing this it prints an unknown error + the already known slice error I&#39;ve also tried by assigning the array values, same result"}, {"owner": {"reputation": 1459, "user_id": 3412090, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8bbc8d8b966c0dca1f3a7e7da92a38c3?s=128&d=identicon&r=PG&f=1", "display_name": "floor", "link": "https://stackoverflow.com/users/3412090/floor"}, "edited": false, "score": 0, "creation_date": 1518721224, "post_id": 48796030, "comment_id": 84632598, "body": "@Steven im out of options haha i think the confusion is coming from using async await functions which return promises and a stream is not a promise. maybe you need to use something like Observable.fromPromise . And you are assigning this.locations to an observable that somewhere down the line reassigns this.locations so maybe don&#39;t assign this.locations initially and wait for the endpoint observable to assign this.locations but still have it initialized to an array."}, {"owner": {"reputation": 1127, "user_id": 5655767, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cI0dR.png?s=128&g=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/5655767/steven"}, "edited": false, "score": 0, "creation_date": 1518721300, "post_id": 48796030, "comment_id": 84632637, "body": "Yeah, I will give that some time and hope for the best, thank you for all the ideas!"}, {"owner": {"reputation": 1127, "user_id": 5655767, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cI0dR.png?s=128&g=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/5655767/steven"}, "edited": false, "score": 0, "creation_date": 1518721828, "post_id": 48796030, "comment_id": 84632892, "body": "Yeah, just need it to populate from a REST call eventually, don&#39;t really mind at all which type of functions I use"}, {"owner": {"reputation": 1459, "user_id": 3412090, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8bbc8d8b966c0dca1f3a7e7da92a38c3?s=128&d=identicon&r=PG&f=1", "display_name": "floor", "link": "https://stackoverflow.com/users/3412090/floor"}, "edited": false, "score": 0, "creation_date": 1518722091, "post_id": 48796030, "comment_id": 84633033, "body": "@Steven can the endpoint call to that external service return all the locations if you dont specify a term?"}, {"owner": {"reputation": 1127, "user_id": 5655767, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cI0dR.png?s=128&g=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/5655767/steven"}, "edited": false, "score": 0, "creation_date": 1518722395, "post_id": 48796030, "comment_id": 84633171, "body": "No, the service holds 11 milion locations, I will eventually need the query to start with a timeout that gives user time to type at least 3 characters,so it narrows down the search even more"}], "owner": {"reputation": 1127, "user_id": 5655767, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cI0dR.png?s=128&g=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/5655767/steven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 440, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518715908, "creation_date": 1518641752, "last_edit_date": 1518715908, "question_id": 48796030, "link": "https://stackoverflow.com/questions/48796030/ngx-typeahead-not-displaying-collection-from-rest-call", "title": "ngx-typeahead not displaying collection from REST call", "body": "<p>After trying with angular-material, I've gone back to ngx-typeahead</p>\n\n<p>What I'm trying to do is to have a typeahead that will make a REST call to a geolocation service once the user has typed something in the input box</p>\n\n<p>I've tried to build a <a href=\"https://plnkr.co/edit/dIoTyBVQEqkw7cSi0l4B?p=preview\" rel=\"nofollow noreferrer\">plunker</a>, but it just won't pick up the dependencies, so I gave up on that</p>\n\n<p>The issue I have is that I keep getting the following error:</p>\n\n<pre><code>TypeError: Cannot read property 'slice' of undefined\n</code></pre>\n\n<p>Here is the html implementation of the typeahead:</p>\n\n<pre><code>&lt;div class=\"col-md-10\"&gt;\n    &lt;pre class=\"card card-block card-header\"&gt;Model: {{locations | json}}&lt;/pre&gt;\n      &lt;div class=\"container\"&gt;\n           &lt;input name=\"searchBySiteName\"\n                  id=\"field_searchBySiteName\"\n                  [typeahead]=\"locations\"\n                  [(ngModel)]=\"asyncSelected\"\n                  (typeaheadOnSelect)=\"showAlert\"\n                  placeholder=\"Locations loaded with timeout\"\n                  class=\"form-control\"\n                  [typeaheadOptionsLimit]=\"7\"\n                  typeaheadOptionField=\"name\"/&gt;\n     &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The json pipe shows the results in locations just fine after the user inserts a character in the input box</p>\n\n<p>My TS code:</p>\n\n<p>AsyncSelected and locations definition:</p>\n\n<pre><code>locations: any;\nasyncSelected: string;\n</code></pre>\n\n<p>Constructor:</p>\n\n<pre><code>constructor(/*several properties*/) {\n        this.locations = Observable.create((observer: any) =&gt; {\n            observer.next(this.asyncSelected);\n        }).mergeMap((token: string) =&gt; this.searchSites(token));\n    }\n</code></pre>\n\n<p>Async methods:</p>\n\n<pre><code>waitForReturn(){\n        return Observable.of(this.locations);\n    }\n\n    async searchSites(term: string){\n        await this.searchAllSitesFromGeoNamesAPI(term);\n    }\n\n    searchAllSitesFromGeoNamesAPI(term: string){\n        this.formService.querySitesByName(term).subscribe(\n        (result) =&gt; {this.locations = result,\n            console.log('here now '+ this.locations),\n            this.waitForReturn()},\n        (error) =&gt; this.locations = error\n    );}\n</code></pre>\n\n<p>Service methods:</p>\n\n<pre><code>  private resourceQuerySitesByNameFirstHalf = 'http://api.geonames.org/searchJSON?q=';\n  private resourceQuerySitesByNameSecondHalf = '&amp;maxRows=10&amp;username=myUsername';\n\nquerySitesByName(term: string): Observable&lt;any&gt; {\n    return this.http.get(`${this.resourceQuerySitesByNameFirstHalf+term+this.resourceQuerySitesByNameSecondHalf}`);\n}\n</code></pre>\n\n<p><strong>EDIT:</strong>  I've put my code in <a href=\"https://stackblitz.com/edit/angular-zmrhv7?file=app%2Fapp.component.html\" rel=\"nofollow noreferrer\">stackblitz</a>, the demo picks up the dependencies, but fails with another error I don't understand either</p>\n\n<p><strong>EDIT 2:</strong> The app on stackblitz is generating two errors: one is because of mixed content (https environment doing call on http resource), that error is fine, the one that concerns me is the <code>TypeError: Cannot read property 'slice' of undefined</code>  This is the one that stops the data from being displayed on my dropdown</p>\n"}, {"tags": ["javascript", "html", "angular", "jhipster"], "answers": [{"tags": [], "owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "is_accepted": true, "score": 1, "last_activity_date": 1518646364, "last_edit_date": 1518646364, "creation_date": 1518645581, "answer_id": 48796956, "question_id": 48795981, "link": "https://stackoverflow.com/questions/48795981/angular-4-rendering-different-with-input-type-color-in-a-form-or-not/48796956#48796956", "title": "Angular 4 : rendering different with input type color in a form or not", "body": "<p>The problem is caused by the fact that all input elements have the same name (<code>name=\"color\"</code>). According to <a href=\"https://angular.io/api/forms/NgModel#how-to-use\" rel=\"nofollow noreferrer\">Angular documentation</a>:</p>\n\n<blockquote>\n  <p>When using the ngModel within <code>&lt;form&gt;</code> tags, you'll also need to supply\n  a name attribute so that the control can be registered with the parent\n  form under that name.</p>\n</blockquote>\n\n<p>If you make the input control names different, the color will be displayed correctly in each one, as shown in <a href=\"https://stackblitz.com/edit/template-driven-form-2-b2531l\" rel=\"nofollow noreferrer\"><strong>this stackblitz</strong></a>:</p>\n\n<pre><code>&lt;tr *ngFor=\"let ctrl of ctrlColors; let i=index\"&gt;\n    ...\n    &lt;td&gt;\n        &lt;input type=\"color\" [(ngModel)]=\"ctrl.color\" name=\"color_{{i}}\" ... /&gt;\n    &lt;/td&gt;\n    ...\n&lt;/tr&gt;\n</code></pre>\n"}], "owner": {"reputation": 586, "user_id": 6782043, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mlI8G.png?s=128&g=1", "display_name": "Neamesis", "link": "https://stackoverflow.com/users/6782043/neamesis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4065, "favorite_count": 1, "accepted_answer_id": 48796956, "answer_count": 1, "score": 1, "last_activity_date": 1518646364, "creation_date": 1518641568, "last_edit_date": 1518641872, "question_id": 48795981, "link": "https://stackoverflow.com/questions/48795981/angular-4-rendering-different-with-input-type-color-in-a-form-or-not", "title": "Angular 4 : rendering different with input type color in a form or not", "body": "<p>I'm working on an app built with JHipster and Angular 4.3. I've a problem with the use of input type color in an angular form. I need a color picker to change a color attribute. First I just displayed values of a list (ctrlColors) and a color picker, it was OK. But the users need to customize the colors, so I made a form. \nNow when I load my page, I don't have all the colors displayed, but only the last of the list (screen below)</p>\n\n<p>I've followed this simple example : <a href=\"https://codepen.io/davidsturgeon/pen/lIgEG\" rel=\"nofollow noreferrer\">input type color example with Angular</a>\nAnd I built my form with Angular.io documentation and <a href=\"https://www.sitepoint.com/angular-forms/\" rel=\"nofollow noreferrer\">this</a>.</p>\n\n<p>I've a model ControlColor.model.ts like this :</p>\n\n<pre><code>export class ControlColor implements BaseEntity {\n    constructor(\n        public id?: number,\n        public color?: string,\n        public control?: Control,\n    ) {\n    }\n}\n</code></pre>\n\n<p>In an other component I have this in MyComponent.html : </p>\n\n<pre><code>&lt;form #ctrlColorForm=\"ngForm\" (ngSubmit)=\"submitColors(ctrlColorForm.form);\"&gt;\n    &lt;table&gt;\n        &lt;tr *ngFor=\"let ctrl of ctrlColors\"&gt;\n            &lt;td&gt;{{ctrl.control}} :&lt;/td&gt;\n            &lt;td&gt;\n                &lt;input type=\"color\"\n                       [(ngModel)]=\"ctrl.color\"\n                       #nameField=\"ngModel\"\n                       name=\"color\"\n                       (ngValue)=\"ctrl.color\"\n                style=\"color-rendering: {{ctrl.color}}\"/&gt;\n            &lt;/td&gt;\n            &lt;td&gt;{{ctrl.color}}&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n    &lt;button type=\"submit\" class=\"btn btn-sm\"&gt;\n        &lt;span class=\"fa fa-pencil\"&gt;&lt;/span&gt;\n        &lt;span class=\"d-none d-md-inline\" jhiTranslate=\"entity.action.edit\"&gt;Edit&lt;/span&gt;\n    &lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>The strange part is that when I remove the <code>&lt;form&gt;</code> balise, the rendering is Ok (I have the right colors sent from my server and I can edit the colors), but when I put the form balise, I have this : </p>\n\n<p><a href=\"https://i.stack.imgur.com/ZPNRJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZPNRJ.png\" alt=\"display problem with input type color in form balise\"></a></p>\n\n<p>I have the right RGB codes (displayed on the right).\nDoes anybody have an idea ?</p>\n"}, {"tags": ["javascript", "c#", "html", "css"], "answers": [{"tags": [], "owner": {"reputation": 682, "user_id": 7383698, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/59162076a4ea88fd3a74df086deb1212?s=128&d=identicon&r=PG", "display_name": "Felix Gaebler", "link": "https://stackoverflow.com/users/7383698/felix-gaebler"}, "is_accepted": true, "score": 1, "last_activity_date": 1518642022, "creation_date": 1518642022, "answer_id": 48796113, "question_id": 48795946, "link": "https://stackoverflow.com/questions/48795946/custom-css-button-animation-not-working-in-mvc-c-partial-view/48796113#48796113", "title": "Custom CSS Button Animation Not Working in MVC C# Partial View", "body": "<p>Have a look at <a href=\"https://codepen.io/davekilljoy/pen/wHAvb\" rel=\"nofollow noreferrer\">this</a> codepen :) the first button should be your solution.\nFor any reason it does not work with an input. Just take the button tag and there you go...\nHere is the content applied to your example code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.custom-up-btn-request {\r\n        position: relative;\r\n        display: inline-block;\r\n        margin-bottom: 0;\r\n        text-align: center;\r\n        vertical-align: middle;\r\n        margin: 15px 0px;\r\n        padding: 5px 10px;\r\n        font-size: 16px;\r\n        color: blue;\r\n        border: 2px blue solid;\r\n        border-radius: 4px;\r\n        outline: 0;\r\n        overflow: hidden;\r\n        background: none;\r\n        z-index: 1;\r\n        cursor: pointer;\r\n        transition: 0.08s ease-in;\r\n        -o-transition: 0.08s ease-in;\r\n        -ms-transition: 0.08s ease-in;\r\n        -moz-transition: 0.08s ease-in;\r\n        -webkit-transition: 0.08s ease-in;\r\n    }\r\n\r\n        .custom-up-btn-request:focus {\r\n            color: blue;\r\n            text-decoration: none;\r\n        }\r\n\r\n    .up-btn-request-fill:hover {\r\n        color: lawngreen;\r\n        text-decoration: none;\r\n    }\r\n\r\n    .up-btn-request-fill:before {\r\n        content: \"\";\r\n        position: absolute;\r\n        background: blue;\r\n        bottom: 0;\r\n        left: 0;\r\n        right: 0;\r\n        top: 100%;\r\n        z-index: -1;\r\n        -webkit-transition: top 0.09s ease-in;\r\n    }\r\n\r\n    .up-btn-request-fill:hover:before {\r\n        top: 0;\r\n    }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"form-group\"&gt;\r\n        &lt;div class=\"control-label col-md-3\"&gt;&lt;b&gt;Submit Change Request&lt;/b&gt;&lt;/div&gt;\r\n        &lt;div class=\"col-md-5\"&gt;\r\n            &lt;textarea class=\"form-control\" rows=\"6\" cols=\"20\" id=\"ChangesText\" name=\"ChangesText\" \r\n                      placeholder=\"Put any changes you need.\"&gt;&lt;/textarea&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=\"col-md-4\"&gt;&lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=\"form-group\"&gt;\r\n        &lt;div class=\"col-md-offset-3 col-md-9\"&gt;\r\n            &lt;buttontype=\"submit\" class=\"custom-up-btn-request up-btn-request-fill\"/&gt;Submit Request&lt;/button\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 165, "user_id": 8132892, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6926026a0e5f43958d84175cf7c3ebe0?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/8132892/alex"}, "edited": false, "score": 0, "creation_date": 1518642648, "post_id": 48796119, "comment_id": 84594986, "body": "This is nice to know! I am still getting used the syntax and everything with C# and razor. Thanks!"}], "tags": [], "owner": {"reputation": 2564, "user_id": 497815, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7469f1aa8710d26e084c9cd3834f31a8?s=128&d=identicon&r=PG", "display_name": "Varinder", "link": "https://stackoverflow.com/users/497815/varinder"}, "is_accepted": false, "score": 1, "last_activity_date": 1518642052, "creation_date": 1518642052, "answer_id": 48796119, "question_id": 48795946, "link": "https://stackoverflow.com/questions/48795946/custom-css-button-animation-not-working-in-mvc-c-partial-view/48796119#48796119", "title": "Custom CSS Button Animation Not Working in MVC C# Partial View", "body": "<p><code>&lt;input type=\"submit\" /&gt;</code> doesn't play nice with pesudo styling <code>:before</code> and <code>:after</code> You're going to want to have to use <code>&lt;button class=\"custom-up-btn-request up-btn-request-fill\"&gt;Submit&lt;/button&gt;</code></p>\n\n<p>fiddle link: <a href=\"http://jsbin.com/wakiretaco/1/edit?html,css,output\" rel=\"nofollow noreferrer\">http://jsbin.com/wakiretaco/1/edit?html,css,output</a></p>\n"}], "owner": {"reputation": 165, "user_id": 8132892, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6926026a0e5f43958d84175cf7c3ebe0?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/8132892/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 48796113, "answer_count": 2, "score": 0, "last_activity_date": 1518650819, "creation_date": 1518641415, "last_edit_date": 1518650819, "question_id": 48795946, "link": "https://stackoverflow.com/questions/48795946/custom-css-button-animation-not-working-in-mvc-c-partial-view", "title": "Custom CSS Button Animation Not Working in MVC C# Partial View", "body": "<p>I have a custom css button that is supposed fill up from the bottom. I am working in an MVC C# project and specifically a partial view is giving me trouble. </p>\n\n<p>The custom button works on normal views but the fill on hover never gets rendered for some reason. Only the color of the text changes on hover. The css 'before' action never seems to get rendered. What am I missing? Hopefully I am missing something obvious!</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.custom-up-btn-request {\r\n        position: relative;\r\n        display: inline-block;\r\n        margin-bottom: 0;\r\n        text-align: center;\r\n        vertical-align: middle;\r\n        margin: 15px 0px;\r\n        padding: 5px 10px;\r\n        font-size: 16px;\r\n        color: blue;\r\n        border: 2px blue solid;\r\n        border-radius: 4px;\r\n        outline: 0;\r\n        overflow: hidden;\r\n        background: none;\r\n        z-index: 1;\r\n        cursor: pointer;\r\n        transition: 0.08s ease-in;\r\n        -o-transition: 0.08s ease-in;\r\n        -ms-transition: 0.08s ease-in;\r\n        -moz-transition: 0.08s ease-in;\r\n        -webkit-transition: 0.08s ease-in;\r\n    }\r\n\r\n        .custom-up-btn-request:focus {\r\n            color: blue;\r\n            text-decoration: none;\r\n        }\r\n\r\n    .up-btn-request-fill:hover {\r\n        color: lawngreen;\r\n        text-decoration: none;\r\n    }\r\n\r\n    .up-btn-request-fill:before {\r\n        content: \"\";\r\n        position: absolute;\r\n        background: blue;\r\n        bottom: 0;\r\n        left: 0;\r\n        right: 0;\r\n        top: 100%;\r\n        z-index: -1;\r\n        -webkit-transition: top 0.09s ease-in;\r\n    }\r\n\r\n    .up-btn-request-fill:hover:before {\r\n        top: 0;\r\n    }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"form-group\"&gt;\r\n        &lt;div class=\"control-label col-md-3\"&gt;&lt;b&gt;Submit Change Request&lt;/b&gt;&lt;/div&gt;\r\n        &lt;div class=\"col-md-5\"&gt;\r\n            &lt;textarea class=\"form-control\" rows=\"6\" cols=\"20\" id=\"ChangesText\" name=\"ChangesText\" \r\n                      placeholder=\"Put any changes you need.\"&gt;&lt;/textarea&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=\"col-md-4\"&gt;&lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=\"form-group\"&gt;\r\n        &lt;div class=\"col-md-offset-3 col-md-9\"&gt;\r\n            &lt;input type=\"submit\" value=\"Submit Request\" class=\"custom-up-btn-request up-btn-request-fill\" /&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["javascript", "promise"], "comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 1, "creation_date": 1518641737, "post_id": 48795934, "comment_id": 84594518, "body": "Imagine a coffee machine. You put a cup under it. You start the machine. You look into the cup. It is indeed still empty. The machine starts working. The coffee is done. Now you can look at it again and see the coffee. However there is no way to get the coffee before the machine run."}, {"owner": {"reputation": 1517, "user_id": 3103548, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fc5d2ec8ea51202fa67b95400ef14a89?s=128&d=identicon&r=PG&f=1", "display_name": "Dale Nguyen", "link": "https://stackoverflow.com/users/3103548/dale-nguyen"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1518642387, "post_id": 48795934, "comment_id": 84594829, "body": "It sounds quite true about the coffee and the machine. I still don&#39;t understand how the value can&#39;t be returned from the main function. I should read the other duplicate question then."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1518642479, "post_id": 48795934, "comment_id": 84594887, "body": "definetly. You cant read a value (the coffee) synchronously, but you need to wait asynchronously until the Promise (the machine) is done"}], "answers": [{"comments": [{"owner": {"reputation": 1517, "user_id": 3103548, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fc5d2ec8ea51202fa67b95400ef14a89?s=128&d=identicon&r=PG&f=1", "display_name": "Dale Nguyen", "link": "https://stackoverflow.com/users/3103548/dale-nguyen"}, "edited": false, "score": 0, "creation_date": 1518642210, "post_id": 48796067, "comment_id": 84594737, "body": "Thanks Vitaly, the result can be gotten by console, but it won&#39;t work when you want to return it."}, {"owner": {"reputation": 4650, "user_id": 844039, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/hvZXx.jpg?s=128&g=1", "display_name": "Vitaly Menchikovsky", "link": "https://stackoverflow.com/users/844039/vitaly-menchikovsky"}, "reply_to_user": {"reputation": 1517, "user_id": 3103548, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fc5d2ec8ea51202fa67b95400ef14a89?s=128&d=identicon&r=PG&f=1", "display_name": "Dale Nguyen", "link": "https://stackoverflow.com/users/3103548/dale-nguyen"}, "edited": false, "score": 0, "creation_date": 1518692065, "post_id": 48796067, "comment_id": 84613665, "body": "what do you mean? if this working on a console it should work on your code... what not working what error? you need to give more details..."}, {"owner": {"reputation": 1517, "user_id": 3103548, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fc5d2ec8ea51202fa67b95400ef14a89?s=128&d=identicon&r=PG&f=1", "display_name": "Dale Nguyen", "link": "https://stackoverflow.com/users/3103548/dale-nguyen"}, "edited": false, "score": 0, "creation_date": 1518791112, "post_id": 48796067, "comment_id": 84661410, "body": "I mean that although the function can show the result in the console, it can&#39;t return it as a function."}], "tags": [], "owner": {"reputation": 4650, "user_id": 844039, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/hvZXx.jpg?s=128&g=1", "display_name": "Vitaly Menchikovsky", "link": "https://stackoverflow.com/users/844039/vitaly-menchikovsky"}, "is_accepted": false, "score": 0, "last_activity_date": 1518641878, "creation_date": 1518641878, "answer_id": 48796067, "question_id": 48795934, "link": "https://stackoverflow.com/questions/48795934/return-a-result-from-a-promise/48796067#48796067", "title": "Return a result from a promise", "body": "<p>see example below...</p>\n\n<pre><code>new Promise(function(resolve, reject) {\n    // A mock async action using setTimeout\n    setTimeout(function() { resolve(10); }, 3000);\n})\n.then(function(result) {\n    console.log(result);\n});\n</code></pre>\n"}], "owner": {"reputation": 1517, "user_id": 3103548, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fc5d2ec8ea51202fa67b95400ef14a89?s=128&d=identicon&r=PG&f=1", "display_name": "Dale Nguyen", "link": "https://stackoverflow.com/users/3103548/dale-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "closed_date": 1518641618, "answer_count": 1, "score": 0, "last_activity_date": 1518641878, "creation_date": 1518641352, "question_id": 48795934, "link": "https://stackoverflow.com/questions/48795934/return-a-result-from-a-promise", "closed_reason": "Duplicate", "title": "Return a result from a promise", "body": "<p>I have a function that calls from a Promise. The mainFunc() supposes to return the value true. However, It always is a promise. </p>\n\n<pre><code>function mainFunc(){  \n  var test = promiseFunc().then(function(result){\n    return result;\n  })\n  alert(test); // should be true value\n  return test;\n}\n\nfunction promiseFunc(){\n  return new Promise(function(resolve, reject){\n    alert(1);\n    resolve(true);\n  })\n}\n\nmainFunc();\n</code></pre>\n\n<p>Do you know how to return the value from a Promise function in the right way?</p>\n\n<p>You can take a look at the code here: <a href=\"https://jsfiddle.net/vxtmumqz/6/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/vxtmumqz/6/</a></p>\n\n<p>Thanks,</p>\n"}, {"tags": ["javascript", "angular", "webpack", "sass", "storybook"], "answers": [{"tags": [], "owner": {"reputation": 572, "user_id": 6638223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ef1ef5d4960f1f3c19054607b44917c?s=128&d=identicon&r=PG&f=1", "display_name": "VagrantAI", "link": "https://stackoverflow.com/users/6638223/vagrantai"}, "is_accepted": false, "score": 0, "last_activity_date": 1518643819, "creation_date": 1518643819, "answer_id": 48796564, "question_id": 48795872, "link": "https://stackoverflow.com/questions/48795872/storybook-angular-cannot-load-scss-file-on-stories-index/48796564#48796564", "title": "@storybook/angular cannot load scss file on stories index", "body": "<p>All style imports must be in Component metadata (specifically in styles or styleUrls field). You're trying to import style file as js file, which is wrong.</p>\n"}, {"tags": [], "owner": {"reputation": 128, "user_id": 3492786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1161d524b813c1a20da8f172fcdc4234?s=128&d=identicon&r=PG&f=1", "display_name": "Than", "link": "https://stackoverflow.com/users/3492786/than"}, "is_accepted": false, "score": 2, "last_activity_date": 1540978183, "creation_date": 1540978183, "answer_id": 53080168, "question_id": 48795872, "link": "https://stackoverflow.com/questions/48795872/storybook-angular-cannot-load-scss-file-on-stories-index/53080168#53080168", "title": "@storybook/angular cannot load scss file on stories index", "body": "<p>You are trying to import an scss file from your typescript. You must include it from your scss.</p>\n\n<p>Please remove : </p>\n\n<pre><code>//This scss it is not loaded\nimport '../src/styles.scss';\n</code></pre>\n\n<p>In your scss file add :</p>\n\n<pre><code>@import \"styles.scss\";\n</code></pre>\n\n<p>In you angular.json add :</p>\n\n<pre><code>\"styles\": [\n     \"src/styles.scss\",\n ],\n \"stylePreprocessorOptions\": {\n      \"includePaths\": [\n          \"src/\" // maybe not required in your case\n        ]\n  },\n</code></pre>\n\n<p>In you .storybook/webpack.config.js please try : </p>\n\n<pre><code>const path = require(\"path\");\n\nmodule.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.scss$/,\n        loaders: [\"sass-loader\"],\n        include: path.resolve(__dirname, \"../src/\")\n      }\n    ]\n  }\n};\n</code></pre>\n\n<p>Otherwise there is the possibility to add an alias as Xdecus said here <a href=\"https://github.com/storybooks/storybook/issues/3814#issuecomment-401756776\" rel=\"nofollow noreferrer\">https://github.com/storybooks/storybook/issues/3814#issuecomment-401756776</a></p>\n\n<pre><code>const path = require('path');\n\nmodule.exports = {\n    resolve: {\n        alias: {\n            styles: path.resolve(__dirname, '../src/')\n        }\n    }\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 295, "user_id": 5146920, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e6c00a486d4775dab55d5d4f16e184df?s=128&d=identicon&r=PG&f=1", "display_name": "ot954", "link": "https://stackoverflow.com/users/5146920/ot954"}, "edited": false, "score": 0, "creation_date": 1596605803, "post_id": 58512596, "comment_id": 111861277, "body": "I have tried same but, it did not work for me. I have a custom scss file at root level which imports other scss, few mixins and angular material typography. Although I was not getting error,. but styles are not getting applied! Here you can find details <a href=\"https://stackoverflow.com/questions/63247632/how-to-load-global-scss-files-in-storybook-for-angular-app\" title=\"how to load global scss files in storybook for angular app\">stackoverflow.com/questions/63247632/&hellip;</a>"}], "tags": [], "owner": {"reputation": 211, "user_id": 6326743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VjeOl.jpg?s=128&g=1", "display_name": "Eric Gibby", "link": "https://stackoverflow.com/users/6326743/eric-gibby"}, "is_accepted": false, "score": 3, "last_activity_date": 1571779959, "creation_date": 1571779959, "answer_id": 58512596, "question_id": 48795872, "link": "https://stackoverflow.com/questions/48795872/storybook-angular-cannot-load-scss-file-on-stories-index/58512596#58512596", "title": "@storybook/angular cannot load scss file on stories index", "body": "<p>I assume that, like me, you're looking for a way to load global styles from SASS files into an Angular Storybook. I know it's been a while since you asked, but I came across this solution while searching for a way to accomplish this: <a href=\"https://github.com/storybookjs/storybook/issues/6364#issuecomment-485651328\" rel=\"nofollow noreferrer\">https://github.com/storybookjs/storybook/issues/6364#issuecomment-485651328</a>.</p>\n\n<p>Basically, you can load your global styles in the Storybook config file. However, you need to use inline webpack loaders in the import path so Storybook will load them properly.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import '!style-loader!css-loader!sass-loader!../src/styles.scss';\n</code></pre>\n\n<p>That did the trick for me. In the end I didn't have to bother with the custom webpack config. Hopefully that solves your problem!</p>\n"}], "owner": {"reputation": 3173, "user_id": 2593900, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/6jkz8.jpg?s=128&g=1", "display_name": "Gonzalo Pincheira Arancibia", "link": "https://stackoverflow.com/users/2593900/gonzalo-pincheira-arancibia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2113, "favorite_count": 1, "answer_count": 3, "score": 4, "last_activity_date": 1571779959, "creation_date": 1518641076, "question_id": 48795872, "link": "https://stackoverflow.com/questions/48795872/storybook-angular-cannot-load-scss-file-on-stories-index", "title": "@storybook/angular cannot load scss file on stories index", "body": "<p>I have been trying to use storybook for my angular project and I use this guide <a href=\"https://storybook.js.org/basics/guide-angular/\" rel=\"nofollow noreferrer\">https://storybook.js.org/basics/guide-angular/</a>\nI use the recommended config for webpack for sass loader for scss files and the scss file related to the project works fine, but if I import a scss file in the stories index.ts file, this file it is not loaded.</p>\n\n<p><strong>stories/index.ts</strong></p>\n\n<pre><code>import { storiesOf } from '@storybook/angular';\nimport { action } from '@storybook/addon-actions';\nimport { VideoPosterComponent } from '../src/app/modules/ui-common/video-poster/video-poster.component';\n//This scss it is not loaded\nimport '../src/styles.scss';\n\nstoriesOf('Video Poster component', module)\n  .add('Video Poster with author data', () =&gt; ({\n    component: VideoPosterComponent,\n    props: {\n        title: \"Cinemagraph With Custom title\",\n        subtitle: \"This is a custom subtitle!\"\n    }\n  }))\n  .add('Video Poster without author data', () =&gt; ({\n    component: VideoPosterComponent,\n    props: {}\n  }));\n</code></pre>\n\n<p><strong>.storybook/webpack.config.js</strong> (recommended in here --> <a href=\"https://storybook.js.org/basics/guide-angular/#configure-style-rules\" rel=\"nofollow noreferrer\">https://storybook.js.org/basics/guide-angular/#configure-style-rules</a>)</p>\n\n<pre><code>const genDefaultConfig = require('@storybook/angular/dist/server/config/defaults/webpack.config.js');\n\nmodule.exports = (baseConfig, env) =&gt; {\n  const config = genDefaultConfig(baseConfig, env);\n\n  // Overwrite .css rule\n  const cssRule = config.module.rules.find(rule =&gt; rule.test &amp;&amp; rule.test.toString() === '/\\\\.css$/');\n  if (cssRule) {\n    cssRule.exclude = /\\.component\\.css$/;\n  }\n\n  // Add .scss rule\n  config.module.rules.unshift({\n    test: /\\.scss$/,\n    loaders: ['raw-loader', 'sass-loader'],\n  });\n\n  return config;\n};\n</code></pre>\n\n<p>And, the scss file for my component was loaded without problems</p>\n\n<p><strong>src/app/modules/ui-common/video-poster/video-poster.component.ts</strong></p>\n\n<pre><code>import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'app-video-poster',\n  templateUrl: './video-poster.component.html',\n  styleUrls: ['./video-poster.component.scss'] // this were loaded without problems\n})\nexport class VideoPosterComponent implements OnInit {\n  private hostUrl = 'https://s3-eu-west-1.amazonaws.com/video.gallereplay.com/portfolio/clients';\n  private baseUrl = `${this.hostUrl}/jaegermeister/Cinemagraph_plain/1920x1080`;\n\n  @Input()\n  public videoUrls = {\n    poster: `${this.baseUrl}/cinemagraph.jpg`,\n    mp4: `${this.baseUrl}/cinemagraph.mp4`,\n    webm: `${this.baseUrl}/cinemagraph.webm`,\n  }\n  @Input() public title = 'Custom Cinemagraph Productions';\n  @Input() public subtitle = 'Exclusive Content for Businesses';\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n</code></pre>\n\n<p>Repository:\n<a href=\"https://github.com/gpincheiraa/storybook-components-sample\" rel=\"nofollow noreferrer\">https://github.com/gpincheiraa/storybook-components-sample</a></p>\n\n<p>run <code>npm install &amp;&amp; npm run storybook</code> for check storybook running.</p>\n\n<p><strong>What I am doing wrong??</strong></p>\n"}, {"tags": ["javascript", "php", "spring", "rest", "jsp"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 9262780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/166c57b469ecf5296a6268ff582907d7?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Walzer", "link": "https://stackoverflow.com/users/9262780/brian-walzer"}, "edited": false, "score": 0, "creation_date": 1518641653, "post_id": 48795877, "comment_id": 84594478, "body": "I removed it but I am still getting the blank screen for some reason. It is not accessing the javascript code. @Michael Hodgins"}, {"owner": {"reputation": 33, "user_id": 1606466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49c6a13f4caf5a0e15fdee38edad30c5?s=128&d=identicon&r=PG", "display_name": "Michael Hodgins", "link": "https://stackoverflow.com/users/1606466/michael-hodgins"}, "reply_to_user": {"reputation": 21, "user_id": 9262780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/166c57b469ecf5296a6268ff582907d7?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Walzer", "link": "https://stackoverflow.com/users/9262780/brian-walzer"}, "edited": false, "score": 0, "creation_date": 1518730130, "post_id": 48795877, "comment_id": 84637055, "body": "Can you see if any HTML is being delivered to the browser and are there any error messages in the browser&#39;s console?"}], "tags": [], "owner": {"reputation": 33, "user_id": 1606466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49c6a13f4caf5a0e15fdee38edad30c5?s=128&d=identicon&r=PG", "display_name": "Michael Hodgins", "link": "https://stackoverflow.com/users/1606466/michael-hodgins"}, "is_accepted": false, "score": 0, "last_activity_date": 1518641100, "creation_date": 1518641100, "answer_id": 48795877, "question_id": 48795834, "link": "https://stackoverflow.com/questions/48795834/using-php-in-a-jsp-file-to-access-the-full-calendar-plugin/48795877#48795877", "title": "Using php in a jsp file to access the Full Calendar Plugin", "body": "<p>The code you've placed in the PHP tags isn't PHP - it's JavaScript. Just remove the <code>&lt;?php</code> and <code>?&gt;</code> tags, and you should be good to go.</p>\n"}], "owner": {"reputation": 21, "user_id": 9262780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/166c57b469ecf5296a6268ff582907d7?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Walzer", "link": "https://stackoverflow.com/users/9262780/brian-walzer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 216, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1518642427, "creation_date": 1518640898, "last_edit_date": 1518642427, "question_id": 48795834, "link": "https://stackoverflow.com/questions/48795834/using-php-in-a-jsp-file-to-access-the-full-calendar-plugin", "title": "Using php in a jsp file to access the Full Calendar Plugin", "body": "<p>I have been trying to implement the Full Calendar plugin into a spring maven project. I have been using php and JavaScript to access the plugin. The JavaScript code is a jsp file which is shown below. The jsp file is being accessed through the controller class. When I run the program the HTML code works but the php part of the file will not show. </p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.4.0/fullcalendar.css\" /&gt;\n\n&lt;link href=\"${contextPath}/resources/css/bootstrap.min.css\"\n    rel=\"stylesheet\"&gt;\n\n    &lt;link href=\"${contextPath}/resources/css/custom.css\"\n    rel=\"stylesheet\"&gt;\n\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.4.0/fullcalendar.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n\n&lt;?php\n $(document).ready(function() {\n  var date = new Date();\n  var d = date.getDate();\n  var m = date.getMonth();\n  var y = date.getFullYear();\n\n\n  var calendar = $('#calendar').fullCalendar({\n   editable: true,\n   header: {\n    left: 'prev,next today',\n    center: 'title',\n    right: 'month,agendaWeek,agendaDay'\n   },\n\n\n   events: \"events.php\",\n\n\n   eventRender: function(event, element, view) {\n    if (event.allDay === 'true') {\n     event.allDay = true;\n    } else {\n     event.allDay = false;\n    }\n   },\n   selectable: true,\n   selectHelper: true,\n   select: function(start, end, allDay) {\n   var title = prompt('Event Title:');\n\n\n   if (title) {\n   var start = $.fullCalendar.formatDate(start, \"Y-MM-DD HH:mm:ss\");\n   var end = $.fullCalendar.formatDate(end, \"Y-MM-DD HH:mm:ss\");\n   $.ajax({\n       url: 'add_events.php',\n       data: 'title='+ title+'&amp;start='+ start +'&amp;end='+ end,\n       type: \"POST\",\n       success: function(json) {\n       alert('Added Successfully');\n       }\n   });\n   calendar.fullCalendar('renderEvent',\n   {\n       title: title,\n       start: start,\n       end: end,\n       allDay: allDay\n   },\n   true\n   );\n   }\n   calendar.fullCalendar('unselect');\n   },\n\n\n   editable: true,\n   eventDrop: function(event, delta) {\n   var start = $.fullCalendar.formatDate(event.start, \"Y-MM-DD HH:mm:ss\");\n   var end = $.fullCalendar.formatDate(event.end, \"Y-MM-DD HH:mm:ss\");\n   $.ajax({\n       url: 'update_events.php',\n       data: 'title='+ event.title+'&amp;start='+ start +'&amp;end='+ end +'&amp;id='+ event.id ,\n       type: \"POST\",\n       success: function(json) {\n        alert(\"Updated Successfully\");\n       }\n   });\n   },\n   eventClick: function(event) {\n    var decision = confirm(\"Do you really want to do that?\"); \n    if (decision) {\n    $.ajax({\n        type: \"POST\",\n        url: \"delete_event.php\",\n        data: \"&amp;id=\" + event.id,\n         success: function(json) {\n             $('#calendar').fullCalendar('removeEvents', event.id);\n              alert(\"Updated Successfully\");}\n    });\n    }\n    },\n   eventResize: function(event) {\n       var start = $.fullCalendar.formatDate(event.start, \"yyyy-MM-dd HH:mm:ss\");\n       var end = $.fullCalendar.formatDate(event.end, \"yyyy-MM-dd HH:mm:ss\");\n       $.ajax({\n        url: 'update_events.php',\n        data: 'title='+ event.title+'&amp;start='+ start +'&amp;end='+ end +'&amp;id='+ event.id ,\n        type: \"POST\",\n        success: function(json) {\n         alert(\"Updated Successfully\");\n        }\n       });\n    }\n\n  });\n\n });\n?&gt;\n\n&lt;/script&gt;\n&lt;style&gt;\n body {\n  margin-top: 40px;\n  text-align: center;\n  font-size: 14px;\n  font-family: \"Lucida Grande\",Helvetica,Arial,Verdana,sans-serif;\n  }\n #calendar {\n  width: 650px;\n  margin: 0 auto;\n  }\n&lt;/style&gt;\n&lt;/head&gt;\n</code></pre>\n\n<p>When I call it in the Controller class the javascript portion will not work:</p>\n\n<pre><code>@Controller\npublic class EventController { \n\n  @RequestMapping(value = \"/event\", method = RequestMethod.GET)\n  public String event() {\n      return \"index\";\n  }\n}\n</code></pre>\n\n<p>I have tried to use a php file instead of a jsp file but that has just been giving me 404 errors no matter what I have tried. Any help would be appreciated.</p>\n"}, {"tags": ["javascript", "html", "json"], "answers": [{"comments": [{"owner": {"reputation": 519, "user_id": 4713326, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh5.googleusercontent.com/-LbGltzw5RQ4/AAAAAAAAAAI/AAAAAAAAD3s/zc4jqyQt5NY/photo.jpg?sz=128", "display_name": "Kevin Mee", "link": "https://stackoverflow.com/users/4713326/kevin-mee"}, "edited": false, "score": 0, "creation_date": 1518641497, "post_id": 48795920, "comment_id": 84594410, "body": "I was thinking about that but then wasnt too happy with all the reused code in the json (ie: USA used 50 times)"}, {"owner": {"reputation": 2205, "user_id": 5705462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c0821d8458f0143b6b37046fa2e58c9?s=128&d=identicon&r=PG", "display_name": "sliptype", "link": "https://stackoverflow.com/users/5705462/sliptype"}, "reply_to_user": {"reputation": 519, "user_id": 4713326, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh5.googleusercontent.com/-LbGltzw5RQ4/AAAAAAAAAAI/AAAAAAAAD3s/zc4jqyQt5NY/photo.jpg?sz=128", "display_name": "Kevin Mee", "link": "https://stackoverflow.com/users/4713326/kevin-mee"}, "edited": false, "score": 1, "creation_date": 1518642210, "post_id": 48795920, "comment_id": 84594735, "body": "I&#39;ve posted an alternate solution that avoids duplicating the countries"}], "tags": [], "owner": {"reputation": 2205, "user_id": 5705462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c0821d8458f0143b6b37046fa2e58c9?s=128&d=identicon&r=PG", "display_name": "sliptype", "link": "https://stackoverflow.com/users/5705462/sliptype"}, "is_accepted": true, "score": 1, "last_activity_date": 1518641279, "creation_date": 1518641279, "answer_id": 48795920, "question_id": 48795825, "link": "https://stackoverflow.com/questions/48795825/fill-in-dropdown-after-a-different-dropdown-gets-selected/48795920#48795920", "title": "Fill in dropdown after a different dropdown gets selected", "body": "<p>You could make an object that maps from state/province to country:</p>\n\n<pre><code>const countryOfState = {\n  'Alabama' : 'USA',\n  'Alberta' : 'CAN'\n};\n\nlet state = $('#state').val();\n\nif (countryOfState[state] === 'USA') {\n...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2205, "user_id": 5705462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c0821d8458f0143b6b37046fa2e58c9?s=128&d=identicon&r=PG", "display_name": "sliptype", "link": "https://stackoverflow.com/users/5705462/sliptype"}, "is_accepted": false, "score": 1, "last_activity_date": 1518642171, "creation_date": 1518642171, "answer_id": 48796154, "question_id": 48795825, "link": "https://stackoverflow.com/questions/48795825/fill-in-dropdown-after-a-different-dropdown-gets-selected/48796154#48796154", "title": "Fill in dropdown after a different dropdown gets selected", "body": "<p>You can use <code>indexOf</code> to check if an element exists in an array like so:</p>\n\n<pre><code>const states = {\n  'USA': ['Alabama'],\n  'CAN': ['Alberta']\n};\n\nfunction getCountry(state) {\n  for (let country in states) {\n    if (states[country].indexOf(state) &gt;= 0) {\n      return country;\n    }\n  }\n\n  return null;\n}\n\nconsole.log(getCountry('Alberta')); //CAN\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16793, "user_id": 4665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8f83c3e22eab30856c803b1d96e1a04f?s=128&d=identicon&r=PG", "display_name": "Jon P", "link": "https://stackoverflow.com/users/4665/jon-p"}, "is_accepted": false, "score": 1, "last_activity_date": 1518644961, "last_edit_date": 1518644961, "creation_date": 1518643921, "answer_id": 48796589, "question_id": 48795825, "link": "https://stackoverflow.com/questions/48795825/fill-in-dropdown-after-a-different-dropdown-gets-selected/48796589#48796589", "title": "Fill in dropdown after a different dropdown gets selected", "body": "<p>Here's a slightly sideways approach using <code>optgroup</code> which I think works better for your data anyway. I've also utilised <a href=\"https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes\" rel=\"nofollow noreferrer\">data attributes</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('#state').change(function() {\r\n  var optGroup = $(this.options[this.selectedIndex]).closest('optgroup');\r\n  var label = $(optGroup).prop('label');\r\n  var cCode = $(optGroup).data('countrycode');\r\n  $('#country').html('&lt;option value=\"'+ cCode  + '\"&gt;' + label + '&lt;/option&gt;');\r\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;select name=\"formState\" class=\"form-control modeldropdown\" id=\"state\" required&gt;\r\n    &lt;option value=\"\"&gt;State / Province&lt;/option&gt;\r\n    &lt;optgroup label=\"United States\" data-countryCode=\"USA\"&gt;\r\n       &lt;option value=\"AL\"&gt;Alabama - AL&lt;/option&gt;\r\n       &lt;!-- ... --&gt;\r\n       &lt;option value=\"MH\"&gt;Marshall Islands - MH&lt;/option&gt;\r\n    &lt;/optgroup&gt;\r\n    &lt;optgroup label=\"Canada\" data-countryCode=\"CA\"&gt;\r\n       &lt;option value=\"AB\"&gt;Alberta - AB&lt;/option&gt;\r\n       &lt;option value=\"BC\"&gt;British Columbia - BC&lt;/option&gt;\r\n    &lt;/optgroup&gt;\r\n&lt;/select&gt;\r\n&lt;select id=\"country\" name=\"country\"&gt;&lt;option disabled selected&gt;Please Select State&lt;/option&gt;&lt;/select&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 519, "user_id": 4713326, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh5.googleusercontent.com/-LbGltzw5RQ4/AAAAAAAAAAI/AAAAAAAAD3s/zc4jqyQt5NY/photo.jpg?sz=128", "display_name": "Kevin Mee", "link": "https://stackoverflow.com/users/4713326/kevin-mee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 48795920, "answer_count": 3, "score": 1, "last_activity_date": 1518644961, "creation_date": 1518640881, "question_id": 48795825, "link": "https://stackoverflow.com/questions/48795825/fill-in-dropdown-after-a-different-dropdown-gets-selected", "title": "Fill in dropdown after a different dropdown gets selected", "body": "<p>I am trying to come up with a way that would automatically populate a drop down based on the value selected in a different drop down.</p>\n\n<p>Lets say I have a drop down for State / Province. Depending which value gets selected it would fill in the Country drop down to be USA / CAN.</p>\n\n<pre><code>&lt;select name=\"formState\" class=\"form-control modeldropdown\" id=\"state\" required&gt;\n    &lt;option value=\"\"&gt;State / Province&lt;/option&gt;\n    &lt;option value=\"\"&gt;--- United States  ---&lt;/option&gt;\n    &lt;option value=\"AL\"&gt;Alabama - AL&lt;/option&gt;\n    ...\n    &lt;option value=\"MH\"&gt;Marshall Islands - MH&lt;/option&gt;\n    &lt;option value=\"\"&gt;--- Canada ---&lt;/option&gt;\n    &lt;option value=\"AB\"&gt;Alberta - AB&lt;/option&gt;\n    &lt;option value=\"BC\"&gt;British Columbia - BC&lt;/option&gt;\n    ...\n&lt;/select&gt;\n</code></pre>\n\n<p>It would be easier to do it the reversed way (select a country then it filters) -- for that I would do something like this</p>\n\n<pre><code>   var jsonText = '{\"USA\":{ '\n        + '\"Alabama\": \"Alabama\",'\n        + '\"Alaska\": \"Alaska\",'\n        + '},'\n        + '\"CAN\":{'\n        + '\"Alberta\": \"Alberta\",'\n        + '}}';\n    var json = JSON.parse(jsonText);\n</code></pre>\n\n<p>And then filter it based on which Country was selected, but is there an easy way to do the reversed?</p>\n\n<p>The only way I can think to do this is by checking the value to see if it is:</p>\n\n<pre><code>var state = $('#state').val();\n\nif ( state == 'Alabama' || state == 'Alaska'...)\n...\n</code></pre>\n"}, {"tags": ["javascript", "mysql", "sequelize.js", "feathersjs", "feathers-sequelize"], "comments": [{"owner": {"reputation": 41727, "user_id": 120513, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a14850281f19396480bdba4aab2d52ef?s=128&d=identicon&r=PG", "display_name": "Daff", "link": "https://stackoverflow.com/users/120513/daff"}, "edited": false, "score": 0, "creation_date": 1518800939, "post_id": 48795811, "comment_id": 84667484, "body": "You are not defining <code>post_status</code> in your model. It will probably work if you do (you may also want to synchronize the table with the model)."}], "answers": [{"tags": [], "owner": {"reputation": 352, "user_id": 1588706, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/e3nEc.jpg?s=128&g=1", "display_name": "Robert Deniszczyc", "link": "https://stackoverflow.com/users/1588706/robert-deniszczyc"}, "is_accepted": true, "score": 0, "last_activity_date": 1518889468, "creation_date": 1518889468, "answer_id": 48844122, "question_id": 48795811, "link": "https://stackoverflow.com/questions/48795811/feathersjs-rest-return-records-with-specific-value/48844122#48844122", "title": "FeathersJS REST return records with specific value", "body": "<p>I resolved this by using a where clause in the find method on the service, see below complete code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const path = require('path');\r\nconst feathers = require('@feathersjs/feathers');\r\nconst express = require('@feathersjs/express');\r\nconst socketio = require('@feathersjs/socketio');\r\n\r\nconst Sequelize = require('sequelize');\r\nconst service = require('feathers-sequelize');\r\n\r\nconst sequelize = new Sequelize('sandbox', 'sandbox', 'secretpassword', {\r\n  host: 'localhost',\r\n  dialect: 'mysql',\r\n\r\n  pool: {\r\n    max: 5,\r\n    min: 0,\r\n    acquire: 30000,\r\n    idle: 10000\r\n  },\r\n\r\n  operatorsAliases: false\r\n});\r\n\r\nconst Post = sequelize.define('posts', {\r\n  post_title: Sequelize.STRING,\r\n  post_status: Sequelize.STRING\r\n  \r\n},\r\n{\r\n  timestamps: false,\r\n  underscored: true,\r\n});\r\n\r\n// Create an Express compatible Feathers application instance.\r\nconst app = express(feathers());\r\n\r\n// Turn on JSON parser for REST services\r\napp.use(express.json());\r\n// Turn on URL-encoded parser for REST services\r\napp.use(express.urlencoded({ extended: true }));\r\n// Enable REST services\r\napp.configure(express.rest());\r\n// Enable Socket.io services\r\napp.configure(socketio());\r\n\r\n\r\napp.use(express.errorHandler());\r\n\r\n\r\nconst myService = {\r\n  find(params) {\r\n    let posts = Post.findAll({\r\n      where: {\r\n        post_status: 'published'\r\n      }\r\n    });\r\n\r\n    return Promise.resolve(posts);\r\n  },\r\n  get(id, params) {},\r\n  create(data, params) {},\r\n  update(id, data, params) {},\r\n  patch(id, data, params) {},\r\n  remove(id, params) {},\r\n  setup(app, path) {}\r\n}\r\n\r\napp.use('/posts', myService);\r\n\r\n// Start the server\r\nconst port = 3030;\r\n\r\napp.listen(port, () =&gt; {\r\n  console.log(`Feathers server listening on port ${port}`);\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 352, "user_id": 1588706, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/e3nEc.jpg?s=128&g=1", "display_name": "Robert Deniszczyc", "link": "https://stackoverflow.com/users/1588706/robert-deniszczyc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 0, "accepted_answer_id": 48844122, "answer_count": 1, "score": 0, "last_activity_date": 1518889468, "creation_date": 1518640851, "last_edit_date": 1518641453, "question_id": 48795811, "link": "https://stackoverflow.com/questions/48795811/feathersjs-rest-return-records-with-specific-value", "title": "FeathersJS REST return records with specific value", "body": "<p>I have a MySQL database with a table named 'posts' I'm reading from via <a href=\"https://docs.feathersjs.com/\" rel=\"nofollow noreferrer\">FeathersJS</a> and <a href=\"https://github.com/feathersjs-ecosystem/feathers-sequelize\" rel=\"nofollow noreferrer\">feathers-sequelize</a>. Currently I have a working prototype with the following code which returns the desired result but only to the console, and also the entire contents of the posts table to the /posts route, however I only want to return a specific set of records from the table to /posts.</p>\n\n<p>The table has a column called post_status, in which a post could be 'published' or 'draft'. I only want to return the 'published' records to /posts, but want to achieve this serverside as opposed to /posts?status=published. How can this be achieved?</p>\n\n<p>See below code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const path = require('path');\r\nconst feathers = require('@feathersjs/feathers');\r\nconst express = require('@feathersjs/express');\r\nconst socketio = require('@feathersjs/socketio');\r\n\r\nconst Sequelize = require('sequelize');\r\nconst service = require('feathers-sequelize');\r\n\r\nconst sequelize = new Sequelize('sandbox', 'sandbox', 'secretpassword', {\r\n  host: 'localhost',\r\n  dialect: 'mysql',\r\n\r\n  pool: {\r\n    max: 5,\r\n    min: 0,\r\n    acquire: 30000,\r\n    idle: 10000\r\n  },\r\n\r\n  operatorsAliases: false\r\n});\r\n\r\nconst Post = sequelize.define('posts', {\r\n  post_title: Sequelize.STRING\r\n},\r\n{\r\n  timestamps: false,\r\n  underscored: true,\r\n});\r\n\r\n// Create an Express compatible Feathers application instance.\r\nconst app = express(feathers());\r\n\r\n// Turn on JSON parser for REST services\r\napp.use(express.json());\r\n// Turn on URL-encoded parser for REST services\r\napp.use(express.urlencoded({ extended: true }));\r\n// Enable REST services\r\napp.configure(express.rest());\r\n// Enable Socket.io services\r\napp.configure(socketio());\r\n\r\n\r\napp.use(express.errorHandler());\r\n\r\n//This works fine to return to the console but not to /posts\r\nPost.findAll({\r\nwhere: {\r\n  post_status: 'published'\r\n}\r\n}) .then(posts =&gt; {\r\n    console.log(JSON.stringify(posts));\r\n  });\r\n\r\n//This returns the entire contents of the posts table to /posts\r\napp.use('/posts', service({\r\n  Model: Post,\r\n  paginate: {\r\n    default: 10,\r\n    max: 100\r\n  },\r\n}));\r\n\r\n// Start the server\r\nconst port = 3030;\r\n\r\napp.listen(port, () =&gt; {\r\n  console.log(`Feathers server listening on port ${port}`);\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I tried the 'where' from the findAll method in the service but this did not change the output, or produce any error.</p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1518640939, "post_id": 48795792, "comment_id": 84594138, "body": "Please fix the formattig. Thats not readable at all"}, {"owner": {"reputation": 168, "user_id": 9356240, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xbcF474QyrQ/AAAAAAAAAAI/AAAAAAAAAFA/Gc4aIib3-0w/photo.jpg?sz=128", "display_name": "Tim Han", "link": "https://stackoverflow.com/users/9356240/tim-han"}, "edited": false, "score": 1, "creation_date": 1518641416, "post_id": 48795792, "comment_id": 84594373, "body": "Your <code>addItem</code> method is resetting the state of tasks as a string. You can use the spread operator. <code>this.setState({tasks: [...this.state.task, this.state.inputText]})</code>"}], "answers": [{"comments": [{"owner": {"reputation": 19434, "user_id": 509344, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3e8fbb1b0d7f6a4fd68676e1a344b23f?s=128&d=identicon&r=PG", "display_name": "shaunhusain", "link": "https://stackoverflow.com/users/509344/shaunhusain"}, "reply_to_user": {"reputation": 4975, "user_id": 2859367, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/zKUEv.jpg?s=128&g=1", "display_name": "Mario Tacke", "link": "https://stackoverflow.com/users/2859367/mario-tacke"}, "edited": false, "score": 0, "creation_date": 1518650732, "post_id": 48795928, "comment_id": 84598367, "body": "@MarioTacke yes it does?  concat will create a new array attaching the elements from the original array to the array provided as an argument... not sure what is missing?"}, {"owner": {"reputation": 1658, "user_id": 5948566, "user_type": "registered", "accept_rate": 85, "profile_image": "https://lh5.googleusercontent.com/-Y5jhr7XSce0/AAAAAAAAAAI/AAAAAAAABPM/vHCZdNgTKJY/photo.jpg?sz=128", "display_name": "Alex Fallenstedt", "link": "https://stackoverflow.com/users/5948566/alex-fallenstedt"}, "edited": false, "score": 0, "creation_date": 1518653228, "post_id": 48795928, "comment_id": 84599053, "body": "You should never mutate state directly. you are mutating the state value inside ref callback method to store the node ref."}, {"owner": {"reputation": 19434, "user_id": 509344, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3e8fbb1b0d7f6a4fd68676e1a344b23f?s=128&d=identicon&r=PG", "display_name": "shaunhusain", "link": "https://stackoverflow.com/users/509344/shaunhusain"}, "reply_to_user": {"reputation": 1658, "user_id": 5948566, "user_type": "registered", "accept_rate": 85, "profile_image": "https://lh5.googleusercontent.com/-Y5jhr7XSce0/AAAAAAAAAAI/AAAAAAAABPM/vHCZdNgTKJY/photo.jpg?sz=128", "display_name": "Alex Fallenstedt", "link": "https://stackoverflow.com/users/5948566/alex-fallenstedt"}, "edited": false, "score": 0, "creation_date": 1518654011, "post_id": 48795928, "comment_id": 84599255, "body": "@AlexFallenstedt .concat doesn&#39;t modify the original array it returns a new array... guess to be more complete I could add the setState part?"}, {"owner": {"reputation": 19434, "user_id": 509344, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3e8fbb1b0d7f6a4fd68676e1a344b23f?s=128&d=identicon&r=PG", "display_name": "shaunhusain", "link": "https://stackoverflow.com/users/509344/shaunhusain"}, "reply_to_user": {"reputation": 1658, "user_id": 5948566, "user_type": "registered", "accept_rate": 85, "profile_image": "https://lh5.googleusercontent.com/-Y5jhr7XSce0/AAAAAAAAAAI/AAAAAAAABPM/vHCZdNgTKJY/photo.jpg?sz=128", "display_name": "Alex Fallenstedt", "link": "https://stackoverflow.com/users/5948566/alex-fallenstedt"}, "edited": false, "score": 0, "creation_date": 1518654048, "post_id": 48795928, "comment_id": 84599259, "body": "Not sure why everyone wants to hate this answer but you&#39;re the third to come by and down vote or leave a review mark on this without giving a clear reason why..."}, {"owner": {"reputation": 1658, "user_id": 5948566, "user_type": "registered", "accept_rate": 85, "profile_image": "https://lh5.googleusercontent.com/-Y5jhr7XSce0/AAAAAAAAAAI/AAAAAAAABPM/vHCZdNgTKJY/photo.jpg?sz=128", "display_name": "Alex Fallenstedt", "link": "https://stackoverflow.com/users/5948566/alex-fallenstedt"}, "edited": false, "score": 0, "creation_date": 1518656232, "post_id": 48795928, "comment_id": 84599878, "body": "@shaunhausin While it is technically possible to alter state by writing to this.state directly, it will not lead to the Component re-rendering with new data, and generally lead to state inconsistency. The fact that setState causes reconciliation(the process of re-rendering the components tree) is base of the next property\u200a\u2014\u200asetState is asynchronous. This allows us to have multiple calls to setState in a single scope and not trigger not needed re-renders of the whole tree."}, {"owner": {"reputation": 19434, "user_id": 509344, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3e8fbb1b0d7f6a4fd68676e1a344b23f?s=128&d=identicon&r=PG", "display_name": "shaunhusain", "link": "https://stackoverflow.com/users/509344/shaunhusain"}, "reply_to_user": {"reputation": 1658, "user_id": 5948566, "user_type": "registered", "accept_rate": 85, "profile_image": "https://lh5.googleusercontent.com/-Y5jhr7XSce0/AAAAAAAAAAI/AAAAAAAABPM/vHCZdNgTKJY/photo.jpg?sz=128", "display_name": "Alex Fallenstedt", "link": "https://stackoverflow.com/users/5948566/alex-fallenstedt"}, "edited": false, "score": 0, "creation_date": 1518656553, "post_id": 48795928, "comment_id": 84599943, "body": "@AlexFallenstedt right I understand that what I&#39;m saying is concat doesn&#39;t modify the original array no mutation occurs here... I&#39;ll add the setState call for clarification <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/concat\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 1658, "user_id": 5948566, "user_type": "registered", "accept_rate": 85, "profile_image": "https://lh5.googleusercontent.com/-Y5jhr7XSce0/AAAAAAAAAAI/AAAAAAAABPM/vHCZdNgTKJY/photo.jpg?sz=128", "display_name": "Alex Fallenstedt", "link": "https://stackoverflow.com/users/5948566/alex-fallenstedt"}, "edited": false, "score": 0, "creation_date": 1518656656, "post_id": 48795928, "comment_id": 84599968, "body": "Please read: <a href=\"https://reactjs.org/docs/state-and-lifecycle.html#using-state-correctly\" rel=\"nofollow noreferrer\">reactjs.org/docs/state-and-lifecycle.html#using-state-correc&zwnj;&#8203;tly</a>  @shaunhusain"}, {"owner": {"reputation": 19434, "user_id": 509344, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3e8fbb1b0d7f6a4fd68676e1a344b23f?s=128&d=identicon&r=PG", "display_name": "shaunhusain", "link": "https://stackoverflow.com/users/509344/shaunhusain"}, "reply_to_user": {"reputation": 1658, "user_id": 5948566, "user_type": "registered", "accept_rate": 85, "profile_image": "https://lh5.googleusercontent.com/-Y5jhr7XSce0/AAAAAAAAAAI/AAAAAAAABPM/vHCZdNgTKJY/photo.jpg?sz=128", "display_name": "Alex Fallenstedt", "link": "https://stackoverflow.com/users/5948566/alex-fallenstedt"}, "edited": false, "score": 0, "creation_date": 1518656864, "post_id": 48795928, "comment_id": 84600020, "body": "What does that have to do with what&#39;s in my answer?"}, {"owner": {"reputation": 19434, "user_id": 509344, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3e8fbb1b0d7f6a4fd68676e1a344b23f?s=128&d=identicon&r=PG", "display_name": "shaunhusain", "link": "https://stackoverflow.com/users/509344/shaunhusain"}, "reply_to_user": {"reputation": 1658, "user_id": 5948566, "user_type": "registered", "accept_rate": 85, "profile_image": "https://lh5.googleusercontent.com/-Y5jhr7XSce0/AAAAAAAAAAI/AAAAAAAABPM/vHCZdNgTKJY/photo.jpg?sz=128", "display_name": "Alex Fallenstedt", "link": "https://stackoverflow.com/users/5948566/alex-fallenstedt"}, "edited": false, "score": 0, "creation_date": 1518660648, "post_id": 48795928, "comment_id": 84600896, "body": "@AlexFallenstedt also from what I understand setState can run synchronously or asynchronously but should be treated as async, using either the function as a first param or callback to handle anything that needs to happen after the state actually changes... still I wasn&#39;t mutating anything in the first place."}], "tags": [], "owner": {"reputation": 19434, "user_id": 509344, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3e8fbb1b0d7f6a4fd68676e1a344b23f?s=128&d=identicon&r=PG", "display_name": "shaunhusain", "link": "https://stackoverflow.com/users/509344/shaunhusain"}, "is_accepted": false, "score": 1, "last_activity_date": 1518656573, "last_edit_date": 1518656573, "creation_date": 1518641326, "answer_id": 48795928, "question_id": 48795792, "link": "https://stackoverflow.com/questions/48795792/how-to-add-to-state-array-in-react/48795928#48795928", "title": "How to add to state array in React", "body": "<p>FTFY better to just use comments in the code, regarding the problem(s) you want to get the tasks array then can concat the stuff to get a new array.</p>\n\n<p><code>setState({tasks:this.state.tasks.concat([this.state.inputText])})</code></p>\n\n<p>Wouldn't hurt to clean up the code some too... learning react myself the book \"the road to learning react\" has some good tips on how to set things up to be a bit more readable.</p>\n\n<hr>\n\n<p>Edit actually put the right code here now...</p>\n"}, {"comments": [{"owner": {"reputation": 125, "user_id": 8407973, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh6.googleusercontent.com/-jFEmUFHQJgQ/AAAAAAAAAAI/AAAAAAAAIwI/8Unoe5gj3fw/photo.jpg?sz=128", "display_name": "Usman", "link": "https://stackoverflow.com/users/8407973/usman"}, "edited": false, "score": 0, "creation_date": 1518649479, "post_id": 48795932, "comment_id": 84597938, "body": "How can I get the entire array to show in the html paragraph element?"}, {"owner": {"reputation": 4173, "user_id": 7428434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1348497625208827/picture?type=large", "display_name": "Shanon Jackson", "link": "https://stackoverflow.com/users/7428434/shanon-jackson"}, "reply_to_user": {"reputation": 125, "user_id": 8407973, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh6.googleusercontent.com/-jFEmUFHQJgQ/AAAAAAAAAAI/AAAAAAAAIwI/8Unoe5gj3fw/photo.jpg?sz=128", "display_name": "Usman", "link": "https://stackoverflow.com/users/8407973/usman"}, "edited": false, "score": 0, "creation_date": 1518652357, "post_id": 48795932, "comment_id": 84598799, "body": "&lt;p&gt;{this.state.tasks}&lt;/p&gt; ? or if you want each one in an individual paragraph tag {this.state.tasks.map((task, i) =&gt; &lt;p key={i}&gt; {task} &lt;/p&gt;} (in markup)"}, {"owner": {"reputation": 125, "user_id": 8407973, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh6.googleusercontent.com/-jFEmUFHQJgQ/AAAAAAAAAAI/AAAAAAAAIwI/8Unoe5gj3fw/photo.jpg?sz=128", "display_name": "Usman", "link": "https://stackoverflow.com/users/8407973/usman"}, "edited": false, "score": 0, "creation_date": 1518653632, "post_id": 48795932, "comment_id": 84599155, "body": "Hi Yes I&#39;d like to get each in a individual tag, however I think your syntax is a little off because I&#39;m getting an error at the ending bracket.  EDIT: I have fixed the problem, missing parentheses."}, {"owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1551201757, "post_id": 48795932, "comment_id": 96550876, "body": "Never use <code>setState()</code> with input from <code>this.state</code>, as <code>this.state</code> may be outdated. Use the callback form when the state update depends previous state: <code>setState(prevState =&gt; ({ triggerAnimation: &#39;fadein&#39;, tasks: prevState.tasks.concat(prevState.inputText) }))</code>"}], "tags": [], "owner": {"reputation": 4173, "user_id": 7428434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1348497625208827/picture?type=large", "display_name": "Shanon Jackson", "link": "https://stackoverflow.com/users/7428434/shanon-jackson"}, "is_accepted": true, "score": 4, "last_activity_date": 1518641649, "last_edit_date": 1518641649, "creation_date": 1518641345, "answer_id": 48795932, "question_id": 48795792, "link": "https://stackoverflow.com/questions/48795792/how-to-add-to-state-array-in-react/48795932#48795932", "title": "How to add to state array in React", "body": "<p>Seems like what you want is this..</p>\n\n<pre><code>addItem() {\ndocument.querySelector(\"#textfield1\").value = \"\"\nthis.setState({\n            triggerAnimation: 'fadein',\n            tasks: this.state.tasks.concat(this.state.inputText)}) \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2564, "user_id": 497815, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7469f1aa8710d26e084c9cd3834f31a8?s=128&d=identicon&r=PG", "display_name": "Varinder", "link": "https://stackoverflow.com/users/497815/varinder"}, "is_accepted": false, "score": 0, "last_activity_date": 1518641354, "creation_date": 1518641354, "answer_id": 48795935, "question_id": 48795792, "link": "https://stackoverflow.com/questions/48795792/how-to-add-to-state-array-in-react/48795935#48795935", "title": "How to add to state array in React", "body": "<p>With react, you're almost always going to have to store form field information in state (controlled components) so, how about turning todo task input field into a controlled component, like so:</p>\n\n<pre><code>import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            inputText: '',\n            triggerAnimation: '',\n            tasks: []\n        }\n\n        this.onInputChange = this.onInputChange.bind(this);\n        this.onInputKeyPress = this.onInputKeyPress.bind(this);\n        this.addItem = this.addItem.bind(this);\n    }\n\n    onInputChange(e) {\n        this.setState({ inputText: e.target.value });\n    }\n\n    onInputKeyPress(e) {\n        if (e.key === \"Enter\") {\n            this.addItem();\n        }\n    }\n\n    addItem() {\n        const itemToAdd = this.state.inputText;\n        const tasks = this.state.tasks;\n        this.setState({\n            inputText: \"\",\n            tasks: tasks.concat(itemToAdd);\n        });\n    }\n\n    render() {\n        const { inputText } = this.state;\n        return(\n            &lt;div&gt;\n                &lt;input type=\"text\" className=\"inputclass\" id=\"textfield1\" placeholder='Enter a task.' \n                   value={inputText} onChange={this.onInputChange} onKeyPress={this.onInputKeyPress} /&gt;\n                &lt;br /&gt;\n                &lt;br /&gt;\n                &lt;button className=\"button\" onClick={this.addItem} data-\n                toggle='fadein' data-target='list'&gt;+&lt;/button&gt;\n            &lt;/div&gt;\n        );\n    }\n}\n</code></pre>\n\n<p>Notice how input state is controlled via component state</p>\n"}, {"tags": [], "owner": {"reputation": 134, "user_id": 6156919, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Rb3EFPUfGXc/AAAAAAAAAAI/AAAAAAAABLI/2BYNIdPD4N8/photo.jpg?sz=128", "display_name": "Fadi Quader", "link": "https://stackoverflow.com/users/6156919/fadi-quader"}, "is_accepted": false, "score": 1, "last_activity_date": 1518641603, "creation_date": 1518641603, "answer_id": 48795987, "question_id": 48795792, "link": "https://stackoverflow.com/questions/48795792/how-to-add-to-state-array-in-react/48795987#48795987", "title": "How to add to state array in React", "body": "<p>try this</p>\n\n<pre><code>import React from 'react';\n\nclass Todo extends React.Component {\n  constructor(props) {\n    super();\n    this.state = {\n      value: '',\n      items: []\n    }\n  }\n\n  onChange = e =&gt; this.setState({ value: e.target.value })\n\n  onEnter = e =&gt; {\n    if(e.charCode !== 13) return;\n    this.addItem();\n  };\n\n  onClick = e =&gt; {\n    this.addItem()\n  };\n\n  addItem = () =&gt; {\n    const { value } = this.state;\n    if(!!value.trim()) return;\n    this.setState(prev =&gt; ({ items: [...prev.items, value], value: '' }))\n  };\n\n  render() {\n    const { value } = this.state\n    return (\n      &lt;div&gt;\n        &lt;div&gt;\n          &lt;input\n            type=\"text\"\n            value={value}\n            name=\"abc\"\n            onChange={this.onChange}\n            onKeyPress={this.onEnter}\n          /&gt;\n        &lt;/div&gt;\n        &lt;button onClick={this.onClick}&gt;Add&lt;/button&gt;\n      &lt;/div&gt;\n    )\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "is_accepted": false, "score": 7, "last_activity_date": 1518641702, "creation_date": 1518641702, "answer_id": 48796009, "question_id": 48795792, "link": "https://stackoverflow.com/questions/48795792/how-to-add-to-state-array-in-react/48796009#48796009", "title": "How to add to state array in React", "body": "<blockquote>\n  <p>However I don't know how to update the tasks state (which is an array) to push the new tasks.</p>\n</blockquote>\n\n<p>Probably the cleanest way to \"push to an array\" in state is to use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax\" rel=\"noreferrer\">ES6 array spread</a>. The best practice would also be to use the <a href=\"https://reactjs.org/docs/react-component.html#setstate\" rel=\"noreferrer\"><code>setState</code> callback syntax</a> to ensure the correct state is committed before you push the new task:</p>\n\n<pre><code>this.setState(prevState =&gt; ({\n  tasks: [...prevState.tasks, newTask] \n}));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12919, "user_id": 5535040, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pcrdYg3eoyo/AAAAAAAAAAI/AAAAAAAAAGY/NXQ5lVKswiU/photo.jpg?sz=128", "display_name": "Chase DeAnda", "link": "https://stackoverflow.com/users/5535040/chase-deanda"}, "edited": false, "score": 1, "creation_date": 1518645122, "post_id": 48796024, "comment_id": 84596143, "body": "<code>.concat</code> expects an Array as the argument. You should change it to: <code>this.state.tasks.concat([&quot;new value&quot;])</code>"}, {"owner": {"reputation": 125, "user_id": 8407973, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh6.googleusercontent.com/-jFEmUFHQJgQ/AAAAAAAAAAI/AAAAAAAAIwI/8Unoe5gj3fw/photo.jpg?sz=128", "display_name": "Usman", "link": "https://stackoverflow.com/users/8407973/usman"}, "edited": false, "score": 1, "creation_date": 1518649001, "post_id": 48796024, "comment_id": 84597759, "body": "I get the error  Cannot read property &#39;bind&#39; of undefined  when adding this.addTask = this.addTask.bind(this) to my constructor."}, {"owner": {"reputation": 1658, "user_id": 5948566, "user_type": "registered", "accept_rate": 85, "profile_image": "https://lh5.googleusercontent.com/-Y5jhr7XSce0/AAAAAAAAAAI/AAAAAAAABPM/vHCZdNgTKJY/photo.jpg?sz=128", "display_name": "Alex Fallenstedt", "link": "https://stackoverflow.com/users/5948566/alex-fallenstedt"}, "reply_to_user": {"reputation": 125, "user_id": 8407973, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh6.googleusercontent.com/-jFEmUFHQJgQ/AAAAAAAAAAI/AAAAAAAAIwI/8Unoe5gj3fw/photo.jpg?sz=128", "display_name": "Usman", "link": "https://stackoverflow.com/users/8407973/usman"}, "edited": false, "score": 0, "creation_date": 1518651288, "post_id": 48796024, "comment_id": 84598537, "body": "@Usman :) It&#39;s because <code>addTask</code> is not defined. You have a function called <code>addItem</code>. I used <code>addTask</code>. Try binding to the function that adds your items."}], "tags": [], "owner": {"reputation": 1658, "user_id": 5948566, "user_type": "registered", "accept_rate": 85, "profile_image": "https://lh5.googleusercontent.com/-Y5jhr7XSce0/AAAAAAAAAAI/AAAAAAAABPM/vHCZdNgTKJY/photo.jpg?sz=128", "display_name": "Alex Fallenstedt", "link": "https://stackoverflow.com/users/5948566/alex-fallenstedt"}, "is_accepted": false, "score": 3, "last_activity_date": 1518646757, "last_edit_date": 1518646757, "creation_date": 1518641742, "answer_id": 48796024, "question_id": 48795792, "link": "https://stackoverflow.com/questions/48795792/how-to-add-to-state-array-in-react/48796024#48796024", "title": "How to add to state array in React", "body": "<p>You can use <code>.concat</code> method to create copy of your array with new data:</p>\n\n<pre><code>  addTask() {\n    this.setState({tasks: this.state.tasks.concat([\"new value\"])})\n  }\n</code></pre>\n\n<p>You also need to bind <code>this</code> to <code>addTask</code> in your constructor: </p>\n\n<p><code>this.addTask = this.addTask.bind(this)</code></p>\n\n<p>See my example:</p>\n\n<p><a href=\"https://jsfiddle.net/69z2wepo/103069/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/69z2wepo/103069/</a></p>\n\n<p>Documentation: <a href=\"https://reactjs.org/docs/react-component.html#setstate\" rel=\"nofollow noreferrer\">https://reactjs.org/docs/react-component.html#setstate</a></p>\n"}], "owner": {"reputation": 125, "user_id": 8407973, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh6.googleusercontent.com/-jFEmUFHQJgQ/AAAAAAAAAAI/AAAAAAAAIwI/8Unoe5gj3fw/photo.jpg?sz=128", "display_name": "Usman", "link": "https://stackoverflow.com/users/8407973/usman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13136, "favorite_count": 2, "accepted_answer_id": 48795932, "answer_count": 6, "score": 5, "last_activity_date": 1518656573, "creation_date": 1518640739, "last_edit_date": 1518645717, "question_id": 48795792, "link": "https://stackoverflow.com/questions/48795792/how-to-add-to-state-array-in-react", "title": "How to add to state array in React", "body": "<p>I am making a simple to-do list app in React. I have 3 states, inputText (the task the user enters), triggerAnimation(to trigger animations), and tasks (the list of tasks user has entered). However I don't know how to update the tasks state (which is an array) to push the new tasks. Here is the code. </p>\n\n<pre><code>import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      inputText: '',\n      triggerAnimation: '',\n      tasks: []\n    }\n  }\n\n//The function triggered by button which sends the task the user has entered to the tasks array state:\n\n  addItem() {\n    document.querySelector(\"#textfield1\").value = \"\"\n    this.setState({ \n      triggerAnimation: 'fadein', tasks: \n      this.state.inputText \n    }) \n  }\n\n\n\n  render() {\n    //Where User enters task:\n    return (\n      &lt;div className=\"App\"&gt;\n        &lt;main&gt;\n          &lt;div className=\"enterTask\"&gt;\n            &lt;input type=\"text\" className=\"inputclass\" id=\"textfield1\" \n              placeholder='Enter a task.' \n              onChange={event =&gt; this.setState({ \n                inputText: event.target.value })} \n              onKeyPress={event =&gt; {\n                if(event.key === 'Enter') {\n                  this.addItem();\n                }\n               }} \n             /&gt;\n            &lt;br /&gt;\n            &lt;br /&gt;\n            &lt;button className=\"button\" \n              onClick={() =&gt; this.addItem()} data-\n                toggle='fadein' data-target='list'&gt;+\n            &lt;/button&gt;\n         &lt;/div&gt;\n\n\n    &lt;!-- Where tasks will appear: --&gt;\n\n         &lt;div className=\"log\"&gt;\n           &lt;p className='list'&gt;\n             &lt;span class={this.state.triggerAnimation}&gt;  \n               {this.state.tasks}\n             &lt;/span&gt;\n           &lt;/p&gt;\n           &lt;button className=\"button\"&gt;-&lt;/button&gt;\n         &lt;/div&gt;\n       &lt;/main&gt;\n     &lt;/div&gt;\n    )\n  }\n}  \n\nexport default App;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "reactjs", "react-native", "react-redux"], "comments": [{"owner": {"reputation": 1421, "user_id": 923342, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/de0f77e3e92a81ef8df7a33e832bd2db?s=128&d=identicon&r=PG", "display_name": "Leonel Machava", "link": "https://stackoverflow.com/users/923342/leonel-machava"}, "edited": false, "score": 0, "creation_date": 1518642365, "post_id": 48795763, "comment_id": 84594818, "body": "Which bundler are you using? Is it webpack?"}, {"owner": {"reputation": 41, "user_id": 9354989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a05559bdbf617df353cc4bdfc197482a?s=128&d=identicon&r=PG&f=1", "display_name": "saran", "link": "https://stackoverflow.com/users/9354989/saran"}, "reply_to_user": {"reputation": 1421, "user_id": 923342, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/de0f77e3e92a81ef8df7a33e832bd2db?s=128&d=identicon&r=PG", "display_name": "Leonel Machava", "link": "https://stackoverflow.com/users/923342/leonel-machava"}, "edited": false, "score": 0, "creation_date": 1518666469, "post_id": 48795763, "comment_id": 84602129, "body": "yes iam using webpack . tell me with and without webpack please"}, {"owner": {"reputation": 2301, "user_id": 1168212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oayHK.jpg?s=128&g=1", "display_name": "Alex Yu", "link": "https://stackoverflow.com/users/1168212/alex-yu"}, "edited": false, "score": 0, "creation_date": 1518763681, "post_id": 48795763, "comment_id": 84646196, "body": "You mentioned 3 different operations: a)&quot;load the file&quot; b)&quot;use isomorphic fetch&quot;, c) sort.  Each of operation is simple,  but you must clarify:  a) do you want load file from filesystem  b) or you want fetch data from service"}, {"owner": {"reputation": 41, "user_id": 9354989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a05559bdbf617df353cc4bdfc197482a?s=128&d=identicon&r=PG&f=1", "display_name": "saran", "link": "https://stackoverflow.com/users/9354989/saran"}, "edited": false, "score": 0, "creation_date": 1519127581, "post_id": 48795763, "comment_id": 84773826, "body": "I mean i need to fetch the data from the item.json  mentioned in folder structure. and sort the data in reverse alphabetical oder"}], "owner": {"reputation": 41, "user_id": 9354989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a05559bdbf617df353cc4bdfc197482a?s=128&d=identicon&r=PG&f=1", "display_name": "saran", "link": "https://stackoverflow.com/users/9354989/saran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 342, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1518762343, "creation_date": 1518640591, "last_edit_date": 1518762343, "question_id": 48795763, "link": "https://stackoverflow.com/questions/48795763/how-to-fetch-data-from-example-json-file-from-react-isomorphic-fetch", "title": "how to fetch data from example.json file from react isomorphic fetch", "body": "<p>I have an item.json file in my react project folder which contains a list of items.</p>\n\n<p>How to load the file and get the date using isomorphic fetch from react and sort the data in reverse alphabetical order?</p>\n\n<p>The folder structure is: </p>\n\n<pre><code>|node modules\n|public\n|src\n  |App.js\n  |index.js\n|package.json\n|item.json\n</code></pre>\n"}, {"tags": ["javascript", "datatables"], "answers": [{"comments": [{"owner": {"reputation": 3931, "user_id": 214935, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9ed081baf5421548a1947e062167a407?s=128&d=identicon&r=PG", "display_name": "DShultz", "link": "https://stackoverflow.com/users/214935/dshultz"}, "edited": false, "score": 0, "creation_date": 1518646928, "post_id": 48796206, "comment_id": 84596889, "body": "Awesome - had to play with the static columns&#39; background-color (the white cells were transparent and &quot;hidden&quot; columns&#39; data was showing through) and set the z-index up on the static column headers for the same reason, but works great."}, {"owner": {"reputation": 548, "user_id": 1747356, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1d07494f29f65444527b4cd2b4d6b745?s=128&d=identicon&r=PG", "display_name": "Jitendra Sawant", "link": "https://stackoverflow.com/users/1747356/jitendra-sawant"}, "edited": false, "score": 0, "creation_date": 1590082344, "post_id": 48796206, "comment_id": 109552560, "body": "For me, to solve overlapping scrolling columns problem, setting background color for static column headers and cells worked. Thanks!"}], "tags": [], "owner": {"reputation": 5776, "user_id": 5323516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39708c7b863667e7a473b4c1ecce840b?s=128&d=identicon&r=PG&f=1", "display_name": "Manuel Otto", "link": "https://stackoverflow.com/users/5323516/manuel-otto"}, "is_accepted": true, "score": 2, "last_activity_date": 1518642364, "creation_date": 1518642364, "answer_id": 48796206, "question_id": 48795732, "link": "https://stackoverflow.com/questions/48795732/datatables-horizontal-scrolling-for-only-certain-columns/48796206#48796206", "title": "Datatables - horizontal scrolling for only certain columns", "body": "<p>You could achieve this by changing the relative position of each cell based on the <code>scrollLeft</code> value.</p>\n\n<pre><code>$('.dataTables_scrollBody').scroll(function (){\n    var cols = 2 // how many columns should be fixed\n    var container = $(this)\n    var offset = container.scrollLeft()\n    container.add(container.prev()).find('tr').each(function (index,row){ // .add(container.prev()) to include the header\n        $(row).find('td, th').each(function (index,cell){\n            if(index&gt;=cols) return\n            $(cell).css({position:'relative',left:offset+'px'})\n        })\n    })\n})\n</code></pre>\n"}], "owner": {"reputation": 3931, "user_id": 214935, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9ed081baf5421548a1947e062167a407?s=128&d=identicon&r=PG", "display_name": "DShultz", "link": "https://stackoverflow.com/users/214935/dshultz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 889, "favorite_count": 0, "accepted_answer_id": 48796206, "answer_count": 1, "score": 1, "last_activity_date": 1518642364, "creation_date": 1518640423, "question_id": 48795732, "link": "https://stackoverflow.com/questions/48795732/datatables-horizontal-scrolling-for-only-certain-columns", "title": "Datatables - horizontal scrolling for only certain columns", "body": "<p>The scrollX option in Datatables allows the user to scroll the grid horizontally - however, in my table, I am needing to keep the first two columns in place, but allow the next x columns scroll horizontally. I'm not seeing any good examples of how to do this.</p>\n\n<p>Example:\n<a href=\"https://datatables.net/examples/basic_init/scroll_x.html\" rel=\"nofollow noreferrer\">https://datatables.net/examples/basic_init/scroll_x.html</a></p>\n"}, {"tags": ["javascript", "character-encoding", "html-entities", "html-encode"], "comments": [{"owner": {"reputation": 8395, "user_id": 6567275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e298067d69d9ef222a00222374549af1?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/6567275/thomas"}, "edited": false, "score": 0, "creation_date": 1518641167, "post_id": 48795667, "comment_id": 84594248, "body": "As far as I understand it, the text has already been wrongfully encoded <b>twice</b> into html-entities when it ends up in JS. I have no experience with perl, and it&#39;s been forever since I dealt with xslt, but I&#39;d recommend you to check that pipeline, and why and where the code gets encoded"}, {"owner": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "reply_to_user": {"reputation": 8395, "user_id": 6567275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e298067d69d9ef222a00222374549af1?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/6567275/thomas"}, "edited": false, "score": 0, "creation_date": 1518645034, "post_id": 48795667, "comment_id": 84596101, "body": "@Thomas Yeh but technically if the text has been encoded once than the second one will be non mattering. im keeping it for design purposes to ensure all xslt xml elements usr that function but its just an empty call i suppose."}, {"owner": {"reputation": 8395, "user_id": 6567275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e298067d69d9ef222a00222374549af1?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/6567275/thomas"}, "edited": false, "score": 0, "creation_date": 1518649330, "post_id": 48795667, "comment_id": 84597879, "body": "It matters, when it re-encodes the <code>&amp;</code> of an entity as <code>&amp;amp;</code> so that <code>&amp;acirc;&amp;#128;&amp;#153;</code> becomes <code>&amp;amp;acirc;&amp;amp;#128;&amp;amp;#153;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 10593, "user_id": 1347953, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/315f975f0f6f3b02f09ba70a366f05d7?s=128&d=identicon&r=PG", "display_name": "S&#233;bastien", "link": "https://stackoverflow.com/users/1347953/s%c3%a9bastien"}, "is_accepted": true, "score": 0, "last_activity_date": 1518641354, "creation_date": 1518641354, "answer_id": 48795936, "question_id": 48795667, "link": "https://stackoverflow.com/questions/48795667/javascript-equivalent-for-converting-character-entities/48795936#48795936", "title": "Javascript equivalent for converting character entities", "body": "<p>Your text seems to have been mangled already, probably incorrectly double encoded.</p>\n\n<p>You could just remove all HTML entities with a regex:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var str = 'New Comment on xxxx - WTF, if the dancers don&amp;amp;acirc;&amp;amp;#128;&amp;amp;#153;t come in until 4ish';\r\nconsole.log(str.replace(/&amp;[^\\s]*;/g, ''));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Note that this is pretty aggressive and might remove more text than you wish if your text is really badly encoded, with missing <code>;</code> for instance.</p>\n"}], "owner": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 48795936, "answer_count": 1, "score": 0, "last_activity_date": 1518641354, "creation_date": 1518640153, "question_id": 48795667, "link": "https://stackoverflow.com/questions/48795667/javascript-equivalent-for-converting-character-entities", "title": "Javascript equivalent for converting character entities", "body": "<p>I have the following html snippet with javascript embedded one-lined.</p>\n\n<pre><code>&lt;div class=\"social_icon twitter\" onclick=\"shareSocialWall('twitter','New Comment on xxxx - WTF, if the dancers don&amp;amp;acirc;&amp;amp;#128;&amp;amp;#153;t come in until 4ish','https:/xxxx')\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>As you can see, theres an <code>onclick</code> event thats firing <code>shareSocialWall</code>. What's important here is the text <code>dancers don&amp;amp;acirc;&amp;amp;#128;&amp;amp;#153;t</code>. </p>\n\n<p>When the text gets passed to the function <code>shareSocialWall</code>, heres what happens:</p>\n\n<pre><code> location='https://twitter.com/intent/tweet?text='+text+'&amp;url='+encodeURIComponent(url);\n</code></pre>\n\n<p>The problem is that the text is breaking the call to perform this <code>tweet</code>. Is there a way to encode this text inside the javascript so it does not break the text.</p>\n\n<p>The path for this text is:</p>\n\n<pre><code>- perl =&gt; encodes entities on comment text as xml node\n- xslt =&gt; passes xml text to javascript function (uses disable output encoding which does nothing for this apparently)\n- js =&gt; handles the text inside the shareSocialWall Function\n</code></pre>\n"}, {"tags": ["javascript", "object", "merge", "ecmascript-6", "object-properties"], "comments": [{"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1518640247, "post_id": 48795653, "comment_id": 84593764, "body": "where is your specific problem?"}, {"owner": {"reputation": 165, "user_id": 9350234, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2ebc6785d8dc1003c24b74eea453ce82?s=128&d=identicon&r=PG&f=1", "display_name": "Doe", "link": "https://stackoverflow.com/users/9350234/doe"}, "reply_to_user": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1518640432, "post_id": 48795653, "comment_id": 84593874, "body": "I&#39;ve updated my question @NinaScholz"}, {"owner": {"reputation": 9517, "user_id": 3194372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f89cc5d5ba3695c96e02e9ffc9b61f59?s=128&d=identicon&r=PG", "display_name": "Jason Cust", "link": "https://stackoverflow.com/users/3194372/jason-cust"}, "edited": false, "score": 0, "creation_date": 1518642154, "post_id": 48795653, "comment_id": 84594710, "body": "@doe for future reference, once your original question has been answered (it was), do not edit it to ask a different question rendering the original answers no longer valid. Just accept and ask a new question."}, {"owner": {"reputation": 165, "user_id": 9350234, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2ebc6785d8dc1003c24b74eea453ce82?s=128&d=identicon&r=PG&f=1", "display_name": "Doe", "link": "https://stackoverflow.com/users/9350234/doe"}, "reply_to_user": {"reputation": 9517, "user_id": 3194372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f89cc5d5ba3695c96e02e9ffc9b61f59?s=128&d=identicon&r=PG", "display_name": "Jason Cust", "link": "https://stackoverflow.com/users/3194372/jason-cust"}, "edited": false, "score": 0, "creation_date": 1518642275, "post_id": 48795653, "comment_id": 84594774, "body": "Sorry guys. My fault. Would my question be closed due to the similarity? @JasonCust"}, {"owner": {"reputation": 9517, "user_id": 3194372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f89cc5d5ba3695c96e02e9ffc9b61f59?s=128&d=identicon&r=PG", "display_name": "Jason Cust", "link": "https://stackoverflow.com/users/3194372/jason-cust"}, "edited": false, "score": 0, "creation_date": 1518655128, "post_id": 48795653, "comment_id": 84599545, "body": "@doe You should give it a try yourself first and when/if you get stuck then post and include what you have tried and where you are stuck."}], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 9350234, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2ebc6785d8dc1003c24b74eea453ce82?s=128&d=identicon&r=PG&f=1", "display_name": "Doe", "link": "https://stackoverflow.com/users/9350234/doe"}, "edited": false, "score": 0, "creation_date": 1518640516, "post_id": 48795709, "comment_id": 84593919, "body": "Is it possible to do it dynamically? Currently I see that I will have to create the Result object myself and assigning static keys"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 165, "user_id": 9350234, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2ebc6785d8dc1003c24b74eea453ce82?s=128&d=identicon&r=PG&f=1", "display_name": "Doe", "link": "https://stackoverflow.com/users/9350234/doe"}, "edited": false, "score": 0, "creation_date": 1518640590, "post_id": 48795709, "comment_id": 84593957, "body": "@doe how can you &quot;dynamically&quot; decide which keys go into the resulting object?"}, {"owner": {"reputation": 165, "user_id": 9350234, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2ebc6785d8dc1003c24b74eea453ce82?s=128&d=identicon&r=PG&f=1", "display_name": "Doe", "link": "https://stackoverflow.com/users/9350234/doe"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1518640651, "post_id": 48795709, "comment_id": 84593998, "body": "This can be seen in @Jonas answer"}], "tags": [], "owner": {"reputation": 2564, "user_id": 497815, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7469f1aa8710d26e084c9cd3834f31a8?s=128&d=identicon&r=PG", "display_name": "Varinder", "link": "https://stackoverflow.com/users/497815/varinder"}, "is_accepted": false, "score": 0, "last_activity_date": 1518640341, "creation_date": 1518640341, "answer_id": 48795709, "question_id": 48795653, "link": "https://stackoverflow.com/questions/48795653/merge-specific-prop-of-objects-into-one-using-es6/48795709#48795709", "title": "Merge specific prop of objects into one using es6?", "body": "<p>If you're aware of what properties the merged object should have (in your case <code>name, type, age, dob</code>)</p>\n\n<p>How about defining them like so:</p>\n\n<pre><code>const P1 = {\n    \"name\"          : \"Person1\",\n    \"profession\"    : \"Student\",\n    \"gender\"        : \"Male\",\n    \"type\"          : \"Patient\",\n}\n\nconst E1 = {\n    \"age\"           : \"30\",\n    \"dob\"           : \"20/12/1970\",\n    \"address\"       : \"122 Harrow Street\",\n    \"contactNumber\" : \"07473033312\",\n}\n\nconst Result = {\n    \"name\"          : P1.name || E1.name,\n    \"type\"          : P1.type || E1.type,\n    \"age\"           : P1.age || E1.age,\n    \"dob\"           : P1.dob || E1.dob,\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 165, "user_id": 9350234, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2ebc6785d8dc1003c24b74eea453ce82?s=128&d=identicon&r=PG&f=1", "display_name": "Doe", "link": "https://stackoverflow.com/users/9350234/doe"}, "edited": false, "score": 0, "creation_date": 1518641336, "post_id": 48795737, "comment_id": 84594332, "body": "Entirely my fault. Your answer is acceptable. However, how would this be applied if we had an array of objects instead of just P1 and E1?"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 165, "user_id": 9350234, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2ebc6785d8dc1003c24b74eea453ce82?s=128&d=identicon&r=PG&f=1", "display_name": "Doe", "link": "https://stackoverflow.com/users/9350234/doe"}, "edited": false, "score": 0, "creation_date": 1518642091, "post_id": 48795737, "comment_id": 84594676, "body": "@doe you did not update, you changed it completely. Why havent you given that earlier?? Ok, i think it would be the best to simply ask a new question with your new code."}, {"owner": {"reputation": 165, "user_id": 9350234, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2ebc6785d8dc1003c24b74eea453ce82?s=128&d=identicon&r=PG&f=1", "display_name": "Doe", "link": "https://stackoverflow.com/users/9350234/doe"}, "edited": false, "score": 0, "creation_date": 1518642175, "post_id": 48795737, "comment_id": 84594722, "body": "Apologies, entirely my fault. I have forgotten that I had nested objects instead of single. Apologies again."}], "tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": true, "score": 2, "last_activity_date": 1518640461, "creation_date": 1518640461, "answer_id": 48795737, "question_id": 48795653, "link": "https://stackoverflow.com/questions/48795653/merge-specific-prop-of-objects-into-one-using-es6/48795737#48795737", "title": "Merge specific prop of objects into one using es6?", "body": "<pre><code> const result = (({name, type}, {age, dob}) =&gt; ({name, type, age, dob}))(P1, P2);\n</code></pre>\n\n<p>Just partially destruct P1 and P2 and build up a new object.</p>\n"}, {"tags": [], "owner": {"reputation": 479, "user_id": 1050311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4c6097d5a3e35fb7a65eba2c676731f?s=128&d=identicon&r=PG", "display_name": "Keegan Brown", "link": "https://stackoverflow.com/users/1050311/keegan-brown"}, "is_accepted": false, "score": 1, "last_activity_date": 1518640629, "creation_date": 1518640629, "answer_id": 48795774, "question_id": 48795653, "link": "https://stackoverflow.com/questions/48795653/merge-specific-prop-of-objects-into-one-using-es6/48795774#48795774", "title": "Merge specific prop of objects into one using es6?", "body": "<p>Since you're looking for an ES6 way, I'd say using deconstruction is the way to go:</p>\n\n<pre><code>const P1 = {\n    \"name\"          : \"Person1\",\n    \"profession\"    : \"Student\",\n    \"gender\"        : \"Male\",\n    \"type\"          : \"Patient\",\n}\n\nconst E1 = {\n    \"age\"           : \"30\",\n    \"dob\"           : \"20/12/1970\",\n    \"address\"       : \"122 Harrow Street\",\n    \"contactNumber\" : \"07473033312\",\n}\n\nconst { name, type } = P1;\nconst { age, dob } = E2;\nconst Result = { name, type, age, dob };\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 0, "creation_date": 1518641857, "post_id": 48795983, "comment_id": 84594563, "body": "You&#39;re looping."}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "reply_to_user": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 1, "creation_date": 1518641938, "post_id": 48795983, "comment_id": 84594601, "body": "i like looping."}, {"owner": {"reputation": 165, "user_id": 9350234, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2ebc6785d8dc1003c24b74eea453ce82?s=128&d=identicon&r=PG&f=1", "display_name": "Doe", "link": "https://stackoverflow.com/users/9350234/doe"}, "edited": false, "score": 0, "creation_date": 1518642092, "post_id": 48795983, "comment_id": 84594678, "body": "@NinaScholz Haha! That is a pleasant answer. Could you please check my updated question. There seems to be correct answers here, but the solution I&#39;d prefer is different. Thanks ;)"}], "tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 1, "last_activity_date": 1518641578, "creation_date": 1518641578, "answer_id": 48795983, "question_id": 48795653, "link": "https://stackoverflow.com/questions/48795653/merge-specific-prop-of-objects-into-one-using-es6/48795983#48795983", "title": "Merge specific prop of objects into one using es6?", "body": "<p>You could use a complete dynamic approach by using an array for the wanted properties and another for the objects.</p>\n\n<p>Then build a new object out of the found objects.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var p1 = { name: \"Person1\", profession:\"Student\", gender:\"Male\", type:\"Patient\" },\r\n    e1 = { age: \"30\", dob:\"20/12/1970\", address:\"122 Harrow Street\", contactNumber:\"07473033312\" },\r\n    keys = ['name', 'profession', 'age', 'dob'],\r\n    objects = [p1, e1],\r\n    merged = Object.assign(...keys.map(k =&gt; ({ [k]: objects.find(o =&gt; k in o)[k] })));\r\n\r\nconsole.log(merged);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "is_accepted": false, "score": 1, "last_activity_date": 1518642386, "last_edit_date": 1518642386, "creation_date": 1518641806, "answer_id": 48796045, "question_id": 48795653, "link": "https://stackoverflow.com/questions/48795653/merge-specific-prop-of-objects-into-one-using-es6/48796045#48796045", "title": "Merge specific prop of objects into one using es6?", "body": "<p>I guess your best bet is to unpack and then pack it again:</p>\n\n<pre><code>let {name, type, age, dob} = {...P1, ...E1};\nresult = {name, type, age, dob}\n</code></pre>\n\n<p>This is silly, but that's all we've got in ES6.</p>\n\n<p>An alternative would be a function like lodash's <code>_.pick</code>.</p>\n\n<p>If you have an array of source objects, replace <code>{...P1, ...E1}</code> with spreaded <code>Object.assign</code>:</p>\n\n<pre><code>let {name, type, age, dob} = Object.assign({}, ...a);\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 9350234, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2ebc6785d8dc1003c24b74eea453ce82?s=128&d=identicon&r=PG&f=1", "display_name": "Doe", "link": "https://stackoverflow.com/users/9350234/doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 48795737, "answer_count": 5, "score": 1, "last_activity_date": 1518642386, "creation_date": 1518640086, "last_edit_date": 1518642108, "question_id": 48795653, "link": "https://stackoverflow.com/questions/48795653/merge-specific-prop-of-objects-into-one-using-es6", "title": "Merge specific prop of objects into one using es6?", "body": "<p>This is by far the most common question asked in SO, however, all in all, the questions asked refers to merging two whole objects.</p>\n\n<p>In my case, it's quite different.</p>\n\n<p>Suppose I'm given:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const P1 = {\r\n  \"name\"          : \"Person1\",\r\n  \"profession\"    : \"Student\",\r\n  \"gender\"        : \"Male\",\r\n  \"type\"          : \"Patient\",\r\n}\r\n\r\nconst E1 = {\r\n  \"age\"           : \"30\",\r\n  \"dob\"           : \"20/12/1970\",\r\n  \"address\"       : \"122 Harrow Street\",\r\n  \"contactNumber\" : \"07473033312\",\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>and I want to merge these two to give me the following:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const Result = {\r\n  \"name\"          : \"Person1\",\r\n  \"type\"          : \"Patient\",\r\n  \"age\"           : \"30\",\r\n  \"dob\"           : \"20/12/1970\",\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The issue is, I don't want to merge two whole projects. I want to merge specific props without looping.</p>\n\n<p>Currently, we can achieve the merge by using the spread like so:</p>\n\n<p><code>const data = [...P1, ...E1];</code>.</p>\n\n<p>But this merges both, which I don't want.</p>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 33261, "user_id": 1496715, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/oC5FA.jpg?s=128&g=1", "display_name": "void", "link": "https://stackoverflow.com/users/1496715/void"}, "edited": false, "score": 1, "creation_date": 1518641859, "post_id": 48795605, "comment_id": 84594565, "body": "I would still suggest a better approach <a href=\"https://stackoverflow.com/a/48796000/1496715\">stackoverflow.com/a/48796000/1496715</a>"}], "answers": [{"comments": [{"owner": {"reputation": 601, "user_id": 4223749, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/895a3e50a4188f3dce19eb25927b19f9?s=128&d=identicon&r=PG&f=1", "display_name": "dtrckd", "link": "https://stackoverflow.com/users/4223749/dtrckd"}, "edited": false, "score": 0, "creation_date": 1579900134, "post_id": 48795698, "comment_id": 105934384, "body": "Great answer, thx. What is the purpose of the <code>media=&quot;all&quot; </code> entry ?"}], "tags": [], "owner": {"reputation": 706, "user_id": 2309192, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1c6b69923d8d87f3f4445f6915712f2d?s=128&d=identicon&r=PG", "display_name": "Facyo Kouch", "link": "https://stackoverflow.com/users/2309192/facyo-kouch"}, "is_accepted": false, "score": 2, "last_activity_date": 1518642093, "last_edit_date": 1518642093, "creation_date": 1518640297, "answer_id": 48795698, "question_id": 48795605, "link": "https://stackoverflow.com/questions/48795605/switching-websites-theme-css-file/48795698#48795698", "title": "Switching website&#39;s theme/css file", "body": "<p>You can switch the theme on runtime by setting an ID to the link tag, like so:</p>\n\n<p>In your HTML file:</p>\n\n<pre><code>&lt;link type=\"text/css\" rel=\"stylesheet\" media=\"all\" href=\"../light.css\" id=\"theme_css\" /&gt;\n</code></pre>\n\n<p>JS</p>\n\n<pre><code>&lt;button onclick=\"switchTheme()\"&gt;Switch Theme&lt;/button&gt;\n\n&lt;script&gt;\nfunction switchTheme() {\n  var check = document\n  .getElementById('theme_css')\n  .classList[0] === 'light';\n\n  var element = document.getElementById('theme_css');\n\n\n  if (check) {\n   element.href = '../dark.css';\n   element.classList.remove('light')\n   element.classList.add('dark');\n  } else {\n   element.href = '../light.css';\n   element.classList.remove('dark')\n   element.classList.add('light');\n  }\n\n}\n&lt;/script&gt;\n</code></pre>\n\n<hr>\n\n<p>Update.</p>\n\n<p>I've updated my solution to make it more dynamic. You use one button to toggle button the light and dark theme.</p>\n"}, {"comments": [{"owner": {"reputation": 33261, "user_id": 1496715, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/oC5FA.jpg?s=128&g=1", "display_name": "void", "link": "https://stackoverflow.com/users/1496715/void"}, "edited": false, "score": 0, "creation_date": 1518641836, "post_id": 48795706, "comment_id": 84594559, "body": "Don&#39;t you think using this approach, the style transition could be abrupt. Also, it will take some time to fetch the new CSS file then the user might need to wait before he sees the transition? Check my answer here <a href=\"https://stackoverflow.com/a/48796000/1496715\">stackoverflow.com/a/48796000/1496715</a>"}, {"owner": {"reputation": 19230, "user_id": 1444609, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/bgWmu.jpg?s=128&g=1", "display_name": "I wrestled a bear once.", "link": "https://stackoverflow.com/users/1444609/i-wrestled-a-bear-once"}, "reply_to_user": {"reputation": 33261, "user_id": 1496715, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/oC5FA.jpg?s=128&g=1", "display_name": "void", "link": "https://stackoverflow.com/users/1496715/void"}, "edited": false, "score": 0, "creation_date": 1518642182, "post_id": 48795706, "comment_id": 84594725, "body": "@void - that probably is a better way to do it, there are a lot of things that could be improved upon with my given approach, it&#39;s just the simplest answer i could come up with in 5 minutes.. +1"}, {"owner": {"reputation": 33261, "user_id": 1496715, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/oC5FA.jpg?s=128&g=1", "display_name": "void", "link": "https://stackoverflow.com/users/1496715/void"}, "edited": false, "score": 0, "creation_date": 1518642281, "post_id": 48795706, "comment_id": 84594777, "body": "yea totally agree..."}], "tags": [], "owner": {"reputation": 19230, "user_id": 1444609, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/bgWmu.jpg?s=128&g=1", "display_name": "I wrestled a bear once.", "link": "https://stackoverflow.com/users/1444609/i-wrestled-a-bear-once"}, "is_accepted": true, "score": 2, "last_activity_date": 1518640327, "creation_date": 1518640327, "answer_id": 48795706, "question_id": 48795605, "link": "https://stackoverflow.com/questions/48795605/switching-websites-theme-css-file/48795706#48795706", "title": "Switching website&#39;s theme/css file", "body": "<p>Give your stylesheet link an id..</p>\n\n<pre><code>&lt;link rel=stylesheet href=mycss.css id=shtylesheet&gt;\n</code></pre>\n\n<p>Then you can change it with javascript</p>\n\n<pre><code>function changeStylesheet(newstylesheet){\n    document.getElementById('shtylesheet').setAttribute('href', newstylesheet);\n}\n</code></pre>\n\n<p>Then if you wanna do buttons or something</p>\n\n<pre><code>&lt;button onclick=\"changeStylesheet('light.css')\"&gt;Lights on&lt;/button&gt;\n&lt;button onclick=\"changeStylesheet('dark.css')\"&gt;Lights off&lt;/button&gt;\n</code></pre>\n"}], "owner": {"reputation": 616, "user_id": 6920681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SwZWN.jpg?s=128&g=1", "display_name": "atalantus", "link": "https://stackoverflow.com/users/6920681/atalantus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 632, "favorite_count": 2, "closed_date": 1518641389, "accepted_answer_id": 48795706, "answer_count": 2, "score": 1, "last_activity_date": 1518697232, "creation_date": 1518639825, "last_edit_date": 1518697232, "question_id": 48795605, "link": "https://stackoverflow.com/questions/48795605/switching-websites-theme-css-file", "closed_reason": "Duplicate", "title": "Switching website&#39;s theme/css file", "body": "<p>for my website, I have two different CSS files. One for showing the website in a dark theme and the other one in a light theme.</p>\n\n<p>Now I would like to let the user switch between the two themes. But I don't know how I could implement this. I would prefer not to create two HTML files, where the only difference is that one has a link tag to the light theme and the other one to the dark theme.</p>\n\n<p>The best solution would be that the user simply clicks on a button and the theme changes without reloading.</p>\n\n<p>Is this possible?</p>\n\n<p>Thanks!</p>\n\n<h1>Edit</h1>\n\n<p>Decided to go with <a href=\"https://stackoverflow.com/a/48796000/1496715\"><strong>this</strong></a> answer. Thanks @void </p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1518639652, "post_id": 48795509, "comment_id": 84593410, "body": "It looks like you are repeating bindings, with different internal conditionals and changes.  Nothing says you can&#39;t perform all the conditionals and logic within one single binding."}, {"owner": {"reputation": 11687, "user_id": 1680836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7bb9af77981f04237f59efd6826d949?s=128&d=identicon&r=PG", "display_name": "War10ck", "link": "https://stackoverflow.com/users/1680836/war10ck"}, "edited": false, "score": 0, "creation_date": 1518642947, "post_id": 48795509, "comment_id": 84595147, "body": "Could you post a snippet of the relevant HTML? We may be able to use some sibling selectors or <code>.closest()</code> in some cases to keep the parser from re-traversing the DOM each time. However for this to work, we&#39;ll need to know the structure of your carousel..."}], "answers": [{"comments": [{"owner": {"reputation": 4761, "user_id": 1272394, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7042761222560992a2d2421c5063f9c7?s=128&d=identicon&r=PG", "display_name": "Drewness", "link": "https://stackoverflow.com/users/1272394/drewness"}, "edited": false, "score": 0, "creation_date": 1518643740, "post_id": 48796505, "comment_id": 84595530, "body": "It won&#39;t be &quot;cached&quot;, the DOM will have already rendered so it will not update until something cause it to be rendered again."}, {"owner": {"reputation": 431, "user_id": 2476452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xkvMH.jpg?s=128&g=1", "display_name": "Mike K", "link": "https://stackoverflow.com/users/2476452/mike-k"}, "reply_to_user": {"reputation": 4761, "user_id": 1272394, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7042761222560992a2d2421c5063f9c7?s=128&d=identicon&r=PG", "display_name": "Drewness", "link": "https://stackoverflow.com/users/1272394/drewness"}, "edited": false, "score": 0, "creation_date": 1518643882, "post_id": 48796505, "comment_id": 84595582, "body": "i&#39;m not sure i understand your comment Drewness but I have removed my reference to the word &#39;cached&#39; to make my intent more clear"}, {"owner": {"reputation": 4761, "user_id": 1272394, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7042761222560992a2d2421c5063f9c7?s=128&d=identicon&r=PG", "display_name": "Drewness", "link": "https://stackoverflow.com/users/1272394/drewness"}, "edited": false, "score": 0, "creation_date": 1518644340, "post_id": 48796505, "comment_id": 84595789, "body": "Read <a href=\"https://stackoverflow.com/questions/24053838/store-jquery-selector-in-variable\">this</a> over, it should clear things up."}, {"owner": {"reputation": 131, "user_id": 6906675, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/ea6af35b3afb6016a9b6150ead8d380f?s=128&d=identicon&r=PG&f=1", "display_name": "AaronS", "link": "https://stackoverflow.com/users/6906675/aarons"}, "edited": false, "score": 0, "creation_date": 1518714949, "post_id": 48796505, "comment_id": 84629077, "body": "I saw what you mean and I tried a couple other things, and i get no console errors, but it does not work."}, {"owner": {"reputation": 431, "user_id": 2476452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xkvMH.jpg?s=128&g=1", "display_name": "Mike K", "link": "https://stackoverflow.com/users/2476452/mike-k"}, "edited": false, "score": 0, "creation_date": 1518748549, "post_id": 48796505, "comment_id": 84642518, "body": "Yep, that page says the same thing as what I&#39;ve described above: if you create the jQuery object early, then it will contain elements matching your selector at the time the jQuery object is created, and not contain items that were added later."}], "tags": [], "owner": {"reputation": 431, "user_id": 2476452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xkvMH.jpg?s=128&g=1", "display_name": "Mike K", "link": "https://stackoverflow.com/users/2476452/mike-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1518643790, "last_edit_date": 1518643790, "creation_date": 1518643591, "answer_id": 48796505, "question_id": 48795509, "link": "https://stackoverflow.com/questions/48795509/multiple-selectors-with-same-jquery/48796505#48796505", "title": "Multiple Selectors with same jquery", "body": "<p>You <em>could</em> precompute the jquery objects at the top of your work:</p>\n\n<pre><code>var $scrollArrowIcon = $('.scroll-arrow i');\n</code></pre>\n\n<p>And then use that for things like</p>\n\n<pre><code>$scrollArrowIcon.addClass('whatever');\n$scrollArrowIcon.removeClass('something_else');\n</code></pre>\n\n<p>One risk here though is that by the time your click handlers run, the actual set of elements that match that selector might have changed, and your jQuery object will only contain the DOM elements that were present at the time you created it.</p>\n\n<p>You can improve your existing code by taking advantage of jquery chaining ( <a href=\"http://www.jquery-tutorial.net/introduction/method-chaining/\" rel=\"nofollow noreferrer\">http://www.jquery-tutorial.net/introduction/method-chaining/</a> )... for example</p>\n\n<pre><code>$('.fade-carousel').on('init', function() {\n  ... do something\n}).on('click', function() {\n  ... something else\n}).on('beforeChange', function() {\n  ... something else again\n});\n</code></pre>\n\n<p>When you have the \"if x, add class Y, else remove class Y\", you can reduce repetition with:</p>\n\n<pre><code>$('#header').toggleClass(\n  'transparent-header',\n  $('.slick-active .slide-container div').hasClass('intro-bg')\n);\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 6906675, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/ea6af35b3afb6016a9b6150ead8d380f?s=128&d=identicon&r=PG&f=1", "display_name": "AaronS", "link": "https://stackoverflow.com/users/6906675/aarons"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518646419, "creation_date": 1518639487, "last_edit_date": 1518646419, "question_id": 48795509, "link": "https://stackoverflow.com/questions/48795509/multiple-selectors-with-same-jquery", "title": "Multiple Selectors with same jquery", "body": "<p>I have written some simple jquery for a few elements that are close together. Each one works just fine, but I was hoping to get some help making my jquery more efficient, and smaller in order to place in a seperate JS file. I am newer to jQuery and do not really know how to combine what I have written. Any help is greatly appreciated! My code is below:</p>\n\n<pre><code>$('.fade-carousel').on('init', function(event, slick, currentSlide, nextSlide) {\n  if ($('.slick-active .slide-container div').hasClass('intro-bg')) {\n    $('#header').addClass('transparent-header')\n  } else {\n    $('#header').removeClass('transparent-header');\n  }\n  $('.fade-carousel').on('beforeChange', function(event, slick, currentSlide, nextSlide) {\n    if ($('.slide-container:eq(' + nextSlide + ') &gt; div').hasClass('intro-bg')) {\n      $('#header').addClass('transparent-header')\n    } else {\n      $('#header').removeClass('transparent-header');\n    }\n\n  });\n});\n$('.fade-carousel').on('init', function(event, slick, currentSlide, nextSlide) {\n  if ($('.slick-active .slide-container div').hasClass('intro-bg')) {\n    $('.slick-arrow').removeClass('black-arrow')\n  } else {\n    $('.slick-arrow').addClass('black-arrow')\n  }\n  $('.fade-carousel').on('beforeChange', function(event, slick, currentSlide, nextSlide) {\n    if ($('.slide-container:eq(' + nextSlide + ') &gt; div').hasClass('intro-bg')) {\n      $('.slick-arrow').removeClass('black-arrow')\n    } else {\n      $('.slick-arrow').addClass('black-arrow');\n    }\n  });\n});\n$('.fade-carousel').on('init', function(event, slick, currentSlide, nextSlide) {\n  if ($('.slick-active .slide-container div').hasClass('intro-bg')) {\n    $('.scroll-arrow i').removeClass('black-arrow')\n  } else {\n    $('.scroll-arrow i').addClass('black-arrow')\n  }\n  $('.fade-carousel').on('beforeChange', function(event, slick, currentSlide, nextSlide) {\n    if ($('.slide-container:eq(' + nextSlide + ') &gt; div').hasClass('intro-bg')) {\n      $('.scroll-arrow i').removeClass('black-arrow')\n    } else {\n      $('.scroll-arrow i').addClass('black-arrow');\n    }\n  });\n});\n$('.fade-carousel').on('init', function(event, slick, currentSlide, nextSlide) {\n  if ($('.slick-active .slide-container div').hasClass('video-intro')) {\n    $('#header').addClass('transparent-header')\n  }\n  $('.fade-carousel').on('beforeChange', function(event, slick, currentSlide, nextSlide) {\n    if ($('.slide-container:eq(' + nextSlide + ') &gt; div').hasClass('video-intro')) {\n      $('#header').addClass('transparent-header')\n    }\n  });\n});\n</code></pre>\n"}, {"tags": ["javascript", "java", "websocket", "netty", "bytebuffer"], "answers": [{"comments": [{"owner": {"reputation": 682, "user_id": 7383698, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/59162076a4ea88fd3a74df086deb1212?s=128&d=identicon&r=PG", "display_name": "Felix Gaebler", "link": "https://stackoverflow.com/users/7383698/felix-gaebler"}, "edited": false, "score": 0, "creation_date": 1518713244, "post_id": 48807427, "comment_id": 84628052, "body": "can you maybe add some example code? e.g. hat are the parameters of readBytes"}], "tags": [], "owner": {"reputation": 21435, "user_id": 1074097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e521627c18ed3feaf9db41e754a79483?s=128&d=identicon&r=PG", "display_name": "Norman Maurer", "link": "https://stackoverflow.com/users/1074097/norman-maurer"}, "is_accepted": true, "score": 2, "last_activity_date": 1518698059, "creation_date": 1518698059, "answer_id": 48807427, "question_id": 48795488, "link": "https://stackoverflow.com/questions/48795488/upload-file-via-websocket-binarywebsocketframe-and-netty/48807427#48807427", "title": "Upload file via WebSocket (BinaryWebSocketFrame) and Netty", "body": "<p>The <code>BinaryWebSocketFrame.content()</code> method returns a <code>ByteBuf</code>. The ByteBuf methods has a <code>readBytes(...)</code> method that takes an <code>OutputStream</code> which you could use to write to a file. </p>\n"}, {"tags": [], "owner": {"reputation": 682, "user_id": 7383698, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/59162076a4ea88fd3a74df086deb1212?s=128&d=identicon&r=PG", "display_name": "Felix Gaebler", "link": "https://stackoverflow.com/users/7383698/felix-gaebler"}, "is_accepted": false, "score": 2, "last_activity_date": 1518811740, "creation_date": 1518811740, "answer_id": 48834138, "question_id": 48795488, "link": "https://stackoverflow.com/questions/48795488/upload-file-via-websocket-binarywebsocketframe-and-netty/48834138#48834138", "title": "Upload file via WebSocket (BinaryWebSocketFrame) and Netty", "body": "<p>I found it out... here is an code example in addition</p>\n\n<pre><code>BinaryWebSocketFrame frame = (BinaryWebSocketFrame) msg;\nByteBuf buffer = frame.content().retain();\nFileOutputStream outputStream = new FileOutputStream(new File(\"test.png\"));\n\ntry {\n\n    if (buffer.isReadable()) {\n        buffer.readBytes(outputStream, buffer.readableBytes());\n    }\n\n} finally {\n    outputStream.close();\n}\n</code></pre>\n"}], "owner": {"reputation": 682, "user_id": 7383698, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/59162076a4ea88fd3a74df086deb1212?s=128&d=identicon&r=PG", "display_name": "Felix Gaebler", "link": "https://stackoverflow.com/users/7383698/felix-gaebler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 654, "favorite_count": 1, "accepted_answer_id": 48807427, "answer_count": 2, "score": 1, "last_activity_date": 1518811740, "creation_date": 1518639400, "question_id": 48795488, "link": "https://stackoverflow.com/questions/48795488/upload-file-via-websocket-binarywebsocketframe-and-netty", "title": "Upload file via WebSocket (BinaryWebSocketFrame) and Netty", "body": "<p>I'm trying to upload a file via websockets with the following code:</p>\n\n<pre><code>let file = e.target.files[0]\nlet ws = new WebSocket(\"ws://127.0.0.1:8080/\")\nws.binaryType = \"arraybuffer\";\n\nvar reader = new FileReader();\nvar rawData = new ArrayBuffer();\n\nws.onopen = () =&gt; {\n\n    reader.loadend = function() {}\n\n    reader.onload = function(e) {\n        rawData = e.target.result;\n        ws.send(rawData);\n        console.log(\"Transfer complete.\")\n    }\n\n    reader.readAsArrayBuffer(file);\n\n}\n</code></pre>\n\n<p>The websocket works with texts well, and the connection is definitly not the problem. But coming to the <em>very detailed</em> netty documentation, I cannot find anything how to handle the recieved BinaryWebSocketFrame. Here the java code:</p>\n\n<pre><code>public class SocketHandler extends SimpleChannelInboundHandler&lt;Object&gt; {\n\n    @Override\n    public void messageReceived(ChannelHandlerContext ctx, Object msg) throws Exception {\n\n        if (msg instanceof WebSocketFrame) {\n\n            if (msg instanceof BinaryWebSocketFrame) {\n\n                System.out.println(\"BinaryWebSocketFrame Received : \");\n                BinaryWebSocketFrame frame = (BinaryWebSocketFrame) msg;\n\n                //This is nothing more than an echo.. It is received by the client successfully.\n                ctx.writeAndFlush(new BinaryWebSocketFrame(frame.isFinalFragment(), frame.rsv(), frame.content()));\n\n            } else if (msg instanceof TextWebSocketFrame) {\n\n                System.out.println(\"TextWebSocketFrame Received : \" + ((TextWebSocketFrame) msg).text());\n\n            }\n\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>My problem is the BinaryWebSocketFrame.. how can I store it to a file now? Or what is contained in this bytebuf? Can I store the path where the file should be stored inside the buf?\nI'm not good with ByteBuffers, so please go in detail.. there is no documentation on this things happening in netty.</p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 147, "user_id": 7964733, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cb7ac45748e55dbcbc214287b7047fca?s=128&d=identicon&r=PG&f=1", "display_name": "Alison", "link": "https://stackoverflow.com/users/7964733/alison"}, "reply_to_user": {"reputation": 165, "user_id": 5351510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9281a250c3935f29af7c8f055ca7ffec?s=128&d=identicon&r=PG", "display_name": "Gordon Kushner", "link": "https://stackoverflow.com/users/5351510/gordon-kushner"}, "edited": false, "score": 0, "creation_date": 1518639508, "post_id": 48795427, "comment_id": 84593335, "body": "@GordonKushner thanks! used it before, but does not work. When using that, I get the timestamp aswell with the Wed Feb 14 2018"}, {"owner": {"reputation": 86, "user_id": 4759636, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eb33p.jpg?s=128&g=1", "display_name": "Sajid Hasan Apon", "link": "https://stackoverflow.com/users/4759636/sajid-hasan-apon"}, "edited": false, "score": 0, "creation_date": 1518639579, "post_id": 48795427, "comment_id": 84593368, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/1643320/get-month-name-from-date\">Get month name from Date</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2092, "user_id": 7314155, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/julUZ.jpg?s=128&g=1", "display_name": "John Pavek", "link": "https://stackoverflow.com/users/7314155/john-pavek"}, "is_accepted": false, "score": 6, "last_activity_date": 1518639625, "creation_date": 1518639625, "answer_id": 48795547, "question_id": 48795427, "link": "https://stackoverflow.com/questions/48795427/how-to-get-the-full-date-with-javascript/48795547#48795547", "title": "How to get the full date with javascript?", "body": "<p>You're actually looking for the <code>toLocaleString</code> function, <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleDateString#Syntax\" rel=\"noreferrer\">as it can be customized pretty heavily without losing your date object</a>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>window.onload = function() {\r\n  var date = new Date();\r\n\r\n  document.getElementById(\"date\").innerHTML = date.toLocaleString('en-US', {weekday: 'long', month: 'long', year: 'numeric'});\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"date\"&gt; &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 684, "user_id": 7770814, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/AdIsY.jpg?s=128&g=1", "display_name": "Sahin Erbay", "link": "https://stackoverflow.com/users/7770814/sahin-erbay"}, "is_accepted": false, "score": 0, "last_activity_date": 1518639933, "creation_date": 1518639933, "answer_id": 48795627, "question_id": 48795427, "link": "https://stackoverflow.com/questions/48795427/how-to-get-the-full-date-with-javascript/48795627#48795627", "title": "How to get the full date with javascript?", "body": "<p>If you are looking for native date methods:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function dateConvert(){\r\n      let date = new Date();\r\n      let year = date.getFullYear();\r\n      let month= date.getMonth();\r\n      let day = date.getDay();\r\n  \r\n      let months = ['January','February','March','April','May','June','July','August','September','October','November','December'];\r\n      let days = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];\r\n  \r\n      return converted_date = `${days[day]} ${months[month]}  ${year}`;\r\n    }\r\n    \r\ndocument.write(dateConvert());</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 9517, "user_id": 3194372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f89cc5d5ba3695c96e02e9ffc9b61f59?s=128&d=identicon&r=PG", "display_name": "Jason Cust", "link": "https://stackoverflow.com/users/3194372/jason-cust"}, "is_accepted": false, "score": 0, "last_activity_date": 1518716857, "last_edit_date": 1518716857, "creation_date": 1518639956, "answer_id": 48795630, "question_id": 48795427, "link": "https://stackoverflow.com/questions/48795427/how-to-get-the-full-date-with-javascript/48795630#48795630", "title": "How to get the full date with javascript?", "body": "<p>As you have noticed, the native <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date\" rel=\"nofollow noreferrer\">Date methods</a> are a bit limited. There are a handful of roll-your-own approaches and if this is all you need then that is probably what you should use. If you need something more robust I would recommend a library to avoid running over many pitfalls in attempting to handle the craziness of formatting time correctly.</p>\n\n<p>A very popular library is called <a href=\"http://momentjs.com/\" rel=\"nofollow noreferrer\">momentjs</a>. A very simple solution for your issue is to use their <a href=\"http://momentjs.com/docs/#/displaying/format/\" rel=\"nofollow noreferrer\"><code>format</code> method</a>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const date = new Date();\r\n\r\ndocument.getElementById(\"date\").innerHTML = moment().format(\"dddd MMMM YYYY\");</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/moment.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"date\"&gt; &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 147, "user_id": 7964733, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cb7ac45748e55dbcbc214287b7047fca?s=128&d=identicon&r=PG&f=1", "display_name": "Alison", "link": "https://stackoverflow.com/users/7964733/alison"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1518716857, "creation_date": 1518639087, "last_edit_date": 1518639216, "question_id": 48795427, "link": "https://stackoverflow.com/questions/48795427/how-to-get-the-full-date-with-javascript", "title": "How to get the full date with javascript?", "body": "<p>I am trying to get the full date with my function. Right now my results are \"Wed Feb 14 2018\", but I would like it to say \"Wednesday February 2018\". I want it to say the whole day and whole month. I could not find a \"get fullDate\" method unfortunately.. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>window.onload = function() {\r\n  var date = new Date();\r\n\r\n  document.getElementById(\"date\").innerHTML = date.toDateString();\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"date\"&gt; &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "function"], "comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1518639176, "post_id": 48795422, "comment_id": 84593201, "body": "<code>return</code> outside of the loop. Otherwise its fine."}, {"owner": {"reputation": 1, "user_id": 9278143, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hb8YF.png?s=128&g=1", "display_name": "Sakyun", "link": "https://stackoverflow.com/users/9278143/sakyun"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1518639507, "post_id": 48795422, "comment_id": 84593333, "body": "Could you elaborate? (Very new to coding and not everything comes easily)"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1518639773, "post_id": 48795422, "comment_id": 84593483, "body": "If you <code>return</code> inside the loop, the loop will only iterate over the first element, then it will return. I think thats not what you are looking for."}], "answers": [{"tags": [], "owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "is_accepted": false, "score": 0, "last_activity_date": 1518647158, "last_edit_date": 1518647158, "creation_date": 1518646851, "answer_id": 48797187, "question_id": 48795422, "link": "https://stackoverflow.com/questions/48795422/use-function-to-optimize-code/48797187#48797187", "title": "Use function to optimize code?", "body": "<p>It makes no sense to put these things in a loop, they always assign to the same variables. At best, those would qualify as <code>if (\u2026.length &gt; 0)</code> statements, and we should assume that those are not necessary.</p>\n\n<p>Next, please notice that variable names have absolutely no significance. You can name them anything you want, as long as every reference to the variable in its scope does use the same name. You also cannot pass variable names as parameters, you can only pass values. So the parameters <code>b</code>, <code>c</code> and <code>f</code> should be dropped from your function. Instead, use generic names that could refer to the calories of either veggies or proteins or carbs or anything, some for grams and item names.</p>\n\n<p>Since you cannot assign to dynamically choosable outer-scope variables, you will  instead want to use return values from your function. You basically need the grams and the name. Since you cannot return two values, you will need to combine them inside the function. You could put them in an object that is returned, but since you are only going to put them in that string anyway you can do that immediately.</p>\n\n<p>So your function should look like this:</p>\n\n<pre><code>function rdmMeal(categoryItems, portion)  {\n  var rdm = Math.floor(Math.random() * categoryItems.length);\n  var name = categoryItems[rdm].name;\n  var calories = portion * categoryItems[rdm].calories;\n  var grams = Math.floor((calories * categoryItems[rdm].weight)/meals);\n  return grams+\"g of \"+name;\n}\n</code></pre>\n\n<p>and you'd use it like this:</p>\n\n<pre><code>for (var i = 0; i &lt; meals; i++) {\n  var veggie = rdmMeal(veggies, vegPortion);\n  var carb = rdmMeal(carbs, carbPortion);\n  var protein = rdmMeal(proteins, protPortion);\n\n  var listItem = document.createElement(\"li\");\n  var text = document.createTextNode(carb+\", \"+veggie+\" and \"+protein);\n  listItem.appendChild(text);\n  insdiv3.appendChild(listItem);\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9278143, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hb8YF.png?s=128&g=1", "display_name": "Sakyun", "link": "https://stackoverflow.com/users/9278143/sakyun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1518647158, "creation_date": 1518639074, "last_edit_date": 1518640290, "question_id": 48795422, "link": "https://stackoverflow.com/questions/48795422/use-function-to-optimize-code", "title": "Use function to optimize code?", "body": "<p>I Want to know how to optimize my code to get less lines overall.</p>\n\n<p>I have the following :</p>\n\n<pre><code>for (var i = 0; i &lt; meals; i++){\nfor (var x = 0; x &lt; veggies.length; x++)\n{\n  rdm = Math.floor(Math.random()*veggies.length);\n  var veggie = veggies[rdm]['name'];\n  var veggieCal = vegPortion * veggies[rdm][\"calories\"];\n  var veggieGrams = Math.floor((veggieCal * veggies[rdm][\"weight\"])/meals);\n  console.log(veggieGrams);\n}\n\nfor (var x = 0; x &lt; carbs.length; x++)\n{\n  rdm = Math.floor(Math.random()*carbs.length);\n  var carb = carbs[rdm]['name'];\n  var carbCal = carbPortion * carbs[rdm][\"calories\"];\n  var carbGrams = Math.floor((carbCal * carbs[rdm][\"weight\"])/meals);\n  console.log(carbGrams);\n}\n\nfor (var x = 0; x &lt; proteins.length; x++)\n{\n  rdm = Math.floor(Math.random()*proteins.length);\n  var protein = proteins[rdm]['name'];\n  var protCal = protPortion * proteins[rdm][\"calories\"];\n  var protGrams = Math.floor((protCal * proteins[rdm][\"weight\"])/meals);\n  console.log(protGrams);\n}\n\nvar ListItem = document.createElement(\"li\");\nvar text= document.createTextNode(carbGrams+\"g of \"+carb+\", \"+veggieGrams+\"g of \"+veggie+\" and \"+protGrams+\"g of \"+protein);\nListItem.appendChild(text);\ninsdiv3.appendChild(ListItem);\n</code></pre>\n\n<p>}</p>\n\n<p>As we can see my 3 for blocks are essentially the same. I want to write a function that gives the same syntax as my for where i use 5 parameters that i'll replace when calling the function like so :</p>\n\n<pre><code>  function rdmMeal(a,b,c,d,f)  {\nfor (var x = 0; x &lt; a.length; x++)\n{\n  rdm = Math.floor(Math.random()*a.length);\n  var b = a[rdm]['name'];\n  var c = d * a[rdm][\"calories\"];\n  var f = Math.floor((c * a[rdm][\"weight\"])/meals);\n}\n}\n</code></pre>\n\n<p>Where i can then just call the function and add my parameters : </p>\n\n<pre><code>//THIS IS WHAT I WANT MY CODE TO LOOK LIKE\nfor (var i = 0; i &lt; meals; i++){\nrdmMeal(veggies,veggie,veggieCal,vegPortion,veggieGrams);\nrdmMeal(proteins,protein,protCal,protPortion,protGrams);\nrdmMeal(carbs,carb,carbCal,carbPortion,carbGrams);}\n</code></pre>\n\n<p>Thus the parameters are replaced with my variables, essentially optimizing the code, how do i go about with this? Is what i wrote the right syntax or is there a different way i'm suppose to go with this?</p>\n"}, {"tags": ["javascript", "promise", "settimeout"], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 1254723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/664bd90d8632cb022e1f7aa5cb9b9316?s=128&d=identicon&r=PG", "display_name": "user1254723", "link": "https://stackoverflow.com/users/1254723/user1254723"}, "edited": false, "score": 0, "creation_date": 1518639686, "post_id": 48795468, "comment_id": 84593427, "body": "Wow it works now!!  I will study this more to understand.  I have used setTimeout many times without this problem.  Thanks so much!"}, {"owner": {"reputation": 13456, "user_id": 6053654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/7RcDF.png?s=128&g=1", "display_name": "Commercial Suicide", "link": "https://stackoverflow.com/users/6053654/commercial-suicide"}, "reply_to_user": {"reputation": 141, "user_id": 1254723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/664bd90d8632cb022e1f7aa5cb9b9316?s=128&d=identicon&r=PG", "display_name": "user1254723", "link": "https://stackoverflow.com/users/1254723/user1254723"}, "edited": false, "score": 0, "creation_date": 1518639739, "post_id": 48795468, "comment_id": 84593458, "body": "@user1254723, cheers!"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1518640301, "post_id": 48795468, "comment_id": 84593795, "body": "<code>Jonas W. provided more elegant way, I upvote him, but my example is working too, but not so elegant.</code> :) ... i appreciate that, however this is not really mandatory just saying..."}, {"owner": {"reputation": 13456, "user_id": 6053654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/7RcDF.png?s=128&g=1", "display_name": "Commercial Suicide", "link": "https://stackoverflow.com/users/6053654/commercial-suicide"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1518647407, "post_id": 48795468, "comment_id": 84597116, "body": "@Jonas W., got it, the answer is updated =)"}], "tags": [], "owner": {"reputation": 13456, "user_id": 6053654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/7RcDF.png?s=128&g=1", "display_name": "Commercial Suicide", "link": "https://stackoverflow.com/users/6053654/commercial-suicide"}, "is_accepted": false, "score": 1, "last_activity_date": 1518647310, "last_edit_date": 1518647310, "creation_date": 1518639339, "answer_id": 48795468, "question_id": 48795404, "link": "https://stackoverflow.com/questions/48795404/why-does-this-code-execute-instantly-when-i-add-in-promise-code/48795468#48795468", "title": "Why does this code execute instantly when I add in Promise code?", "body": "<p><code>setTimeout</code> accepts a callback function as first parameter and one of possible solutions will be to wrap your function invocation inside an anonymous function like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function calculatesomething(resolve) {\r\n  console.log(\"calculating\");\r\n\r\n  setTimeout(function() {\r\n    results(resolve,3);\r\n  }, 4000)\r\n}\r\n\r\nvar answer=0;\r\nfunction results(resolve,n) {\r\n  console.log(\"got results\");\r\n\r\n  answer=1;\r\n  resolve(answer+n);\r\n}\r\n\r\n\r\n\r\nfunction doingstuff() {\r\n  console.log(\"starting\");\r\n\r\n  var promise1 = new Promise(function(resolve) {\r\n    setTimeout(function() {\r\n      calculatesomething(resolve)\r\n    }, 4000);\r\n  });\r\n\r\n  promise1.then(function(value) {\r\n    console.log(\"done: \"+value);\r\n  });\r\n        \r\n  console.log(\"regular execution\");\r\n}\r\n\r\ndoingstuff();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 84240, "user_id": 283863, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vItjB.png?s=128&g=1", "display_name": "Derek \u6715\u6703\u529f\u592b", "link": "https://stackoverflow.com/users/283863/derek-%e6%9c%95%e6%9c%83%e5%8a%9f%e5%a4%ab"}, "edited": false, "score": 1, "creation_date": 1518639519, "post_id": 48795479, "comment_id": 84593340, "body": "TIL you can pass the parameters in with <code>setTimeout</code>."}, {"owner": {"reputation": 13456, "user_id": 6053654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/7RcDF.png?s=128&g=1", "display_name": "Commercial Suicide", "link": "https://stackoverflow.com/users/6053654/commercial-suicide"}, "edited": false, "score": 0, "creation_date": 1518639804, "post_id": 48795479, "comment_id": 84593503, "body": "Pretty elegant solution, upvote"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 84240, "user_id": 283863, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vItjB.png?s=128&g=1", "display_name": "Derek \u6715\u6703\u529f\u592b", "link": "https://stackoverflow.com/users/283863/derek-%e6%9c%95%e6%9c%83%e5%8a%9f%e5%a4%ab"}, "edited": false, "score": 0, "creation_date": 1518639963, "post_id": 48795479, "comment_id": 84593600, "body": "@derek just spent 10 minutes each in writing <a href=\"https://stackoverflow.com/questions/48780927/javascript-when-and-when-not-to-use-this/48790252#48790252\">this</a> and <a href=\"https://stackoverflow.com/questions/48794471/general-solution-for-pre-emptive-background-work-scheduling-on-javascript/48795175#48795175\">this</a> answer and i get 5 upvotes for such a common mistake, that is well documented everywhere... :/ And you didnt know this? That surprises me..."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 13456, "user_id": 6053654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/7RcDF.png?s=128&g=1", "display_name": "Commercial Suicide", "link": "https://stackoverflow.com/users/6053654/commercial-suicide"}, "edited": false, "score": 0, "creation_date": 1518640002, "post_id": 48795479, "comment_id": 84593625, "body": "@commercial suicide thanks :)"}, {"owner": {"reputation": 84240, "user_id": 283863, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vItjB.png?s=128&g=1", "display_name": "Derek \u6715\u6703\u529f\u592b", "link": "https://stackoverflow.com/users/283863/derek-%e6%9c%95%e6%9c%83%e5%8a%9f%e5%a4%ab"}, "edited": false, "score": 0, "creation_date": 1518643787, "post_id": 48795479, "comment_id": 84595548, "body": "@JonasW. Even as an experienced developer, JavaScript still gives me surprises every now and then ;)"}], "tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 6, "last_activity_date": 1518639366, "creation_date": 1518639366, "answer_id": 48795479, "question_id": 48795404, "link": "https://stackoverflow.com/questions/48795404/why-does-this-code-execute-instantly-when-i-add-in-promise-code/48795479#48795479", "title": "Why does this code execute instantly when I add in Promise code?", "body": "<p>The very fundamental thing is this:</p>\n\n<pre><code> setTimeout(results(resolve,3),4000);\n</code></pre>\n\n<p>You dont need to call the function directly and pass the returned value, but rather pass the function reference:</p>\n\n<pre><code> setTimeout(results, 4000, /*args:*/ resolve, 4);\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 1254723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/664bd90d8632cb022e1f7aa5cb9b9316?s=128&d=identicon&r=PG", "display_name": "user1254723", "link": "https://stackoverflow.com/users/1254723/user1254723"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 1, "closed_date": 1518647537, "answer_count": 2, "score": 2, "last_activity_date": 1518647310, "creation_date": 1518639006, "last_edit_date": 1518639772, "question_id": 48795404, "link": "https://stackoverflow.com/questions/48795404/why-does-this-code-execute-instantly-when-i-add-in-promise-code", "closed_reason": "Duplicate", "title": "Why does this code execute instantly when I add in Promise code?", "body": "<p>In the code below I would expect two 4 second delays.  But if you run the code you will see it executes instantly.  Obviously I don't understand something very fundamental or I am a stupid error I can't see.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function calculatesomething(resolve) {\r\n  console.log(\"calculating\");\r\n\r\n  setTimeout(results(resolve,3),4000);\r\n}\r\n\r\nvar answer=0;\r\nfunction results(resolve,n) {\r\n  console.log(\"got results\");\r\n\r\n  answer=1;\r\n  resolve(answer+n);\r\n}\r\n\r\n\r\n\r\nfunction doingstuff() {\r\n  console.log(\"starting\");\r\n\r\n  var promise1 = new Promise(function(resolve) {\r\n    setTimeout(calculatesomething(resolve),4000);\r\n  });\r\n\r\n  promise1.then(function(value) {\r\n    console.log(\"done: \"+value);\r\n  });\r\n\r\n  console.log(\"regular execution\");\r\n}\r\n\r\ndoingstuff();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>(sorry about the indenting here.  I have no idea why its not respecting the tabs.)</p>\n"}, {"tags": ["javascript", "performance", "prototype", "v8", "javascript-engine"], "comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 1, "creation_date": 1518640222, "post_id": 48795346, "comment_id": 84593752, "body": "This is actually one of the questions that is in my mind since a long time... i think the V8 team definetly needs to share more of their optimization effort, its somehow like a blackbox (an awesome fast blackbox)   ..."}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 2, "creation_date": 1518641025, "post_id": 48795346, "comment_id": 84594174, "body": "Hey, bacon <i>is</i> always a good reason!"}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1518641248, "post_id": 48795346, "comment_id": 84594289, "body": "I&#39;m hoping for an expert answer by <a href=\"https://stackoverflow.com/users/6036428/jmrk\">jmrk</a>, but I&#39;m pretty sure that the optimiser never gives up and eventually everything will recover."}], "answers": [{"comments": [{"owner": {"reputation": 7338, "user_id": 1333004, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IWtm4.jpg?s=128&g=1", "display_name": "GregRos", "link": "https://stackoverflow.com/users/1333004/gregros"}, "edited": false, "score": 0, "creation_date": 1518652743, "post_id": 48798032, "comment_id": 84598906, "body": "Great answer! Thank you. Is there any written material that lists those optimizations, which you don&#39;t mention?"}, {"owner": {"reputation": 18838, "user_id": 6036428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b632c15ba23e78e466c8d33d657378fe?s=128&d=identicon&r=PG&f=1", "display_name": "jmrk", "link": "https://stackoverflow.com/users/6036428/jmrk"}, "reply_to_user": {"reputation": 7338, "user_id": 1333004, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IWtm4.jpg?s=128&g=1", "display_name": "GregRos", "link": "https://stackoverflow.com/users/1333004/gregros"}, "edited": false, "score": 0, "creation_date": 1518654114, "post_id": 48798032, "comment_id": 84599281, "body": "I&#39;m only aware of the source code; and as I said, it keeps changing as the team works on it."}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1518655302, "post_id": 48798032, "comment_id": 84599586, "body": "I guess array indices are a special case, but doesn&#39;t every optimised (named) property access do a hidden class check? (I&#39;ll assume that these checks are what needs to be invalidated when the prototype object of a hidden class is mutated)"}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1518655652, "post_id": 48798032, "comment_id": 84599703, "body": "Also I&#39;m curious about <code>Object.setPrototypeOf</code> specifically. What assumptions does it actually break that lead to code being thrown away? Sure, when I call it on a prototype object then that counts as a mutation, but when I call it upon a fresh instance shouldn&#39;t it just change the hidden class of that particular object?"}, {"owner": {"reputation": 7338, "user_id": 1333004, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IWtm4.jpg?s=128&g=1", "display_name": "GregRos", "link": "https://stackoverflow.com/users/1333004/gregros"}, "reply_to_user": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1518704054, "post_id": 48798032, "comment_id": 84621764, "body": "@Bergi I think it does no harm to change the prototype of a newly created object, since it hasn&#39;t been used in any code so no code has been optimized for it. I guess at some point the object is marked &quot;optimized&quot;, and when it is, then changing the prototype would do nasty stuff."}, {"owner": {"reputation": 18838, "user_id": 6036428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b632c15ba23e78e466c8d33d657378fe?s=128&d=identicon&r=PG&f=1", "display_name": "jmrk", "link": "https://stackoverflow.com/users/6036428/jmrk"}, "edited": false, "score": 1, "creation_date": 1518716990, "post_id": 48798032, "comment_id": 84630294, "body": "Yes, all property accesses do hidden class checks, and since changing prototypes changes hidden classes, those checks will fail afterwards. There are additional mechanisms, the &quot;has anyone ever modified the <code>Array</code> prototype chain&quot; bit I mentioned in my answer is one of them. -- Yes, changing the prototype of a recently created object has less impact than doing it later. Objects don&#39;t get optimized, code does; optimized code can have baked-in assumptions/dependencies about various objects&#39; shape."}], "tags": [], "owner": {"reputation": 18838, "user_id": 6036428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b632c15ba23e78e466c8d33d657378fe?s=128&d=identicon&r=PG&f=1", "display_name": "jmrk", "link": "https://stackoverflow.com/users/6036428/jmrk"}, "is_accepted": true, "score": 9, "last_activity_date": 1518651913, "creation_date": 1518651913, "answer_id": 48798032, "question_id": 48795346, "link": "https://stackoverflow.com/questions/48795346/will-a-javascript-environment-eventually-recover-after-changing-the-prototype/48798032#48798032", "title": "Will a JavaScript environment eventually recover after changing the [[Prototype]] of an object?", "body": "<p>V8 developer here. This question does not have a simple answer.</p>\n\n<p><em>Most</em> optimizations will \"come back\" (at the cost of spending additional CPU time, of course). For example, optimized code that had to be thrown away will eventually get recompiled.</p>\n\n<p><em>Some</em> optimizations will remain disabled forever. For example, V8 skips certain checks when (and as long as) it knows that prototype chains have not been mucked with. If it sees an app modify prototype chains, it plays it safe from then on.</p>\n\n<p>To make things even more complicated, the details can and will change over time. (Which is why there's not much point in listing more specific circumstances here, sorry.)</p>\n\n<p>Background:</p>\n\n<p>There are many places in JavaScript where code <em>might</em> do a certain thing, which the JavaScript engine must check for, but most code doesn't do it. (Take, for example, inheriting missing elements from an array's prototype: <code>['a', ,'c'][1]</code> almost always returns <code>undefined</code>, <em>except</em> if someone did <code>Array.prototype[1] = 'b'</code> or <code>Object.prototype[1] = 'b'</code>.) So when generating optimized code for a function, the engine has to decide between two options:</p>\n\n<p>(A) Always check for the thing in question (in the example: walk the array's prototype chain and check every prototype to see if it has an element at that index). Let's say executing this code will take 2 time units.</p>\n\n<p>(B) Optimistically assume that array prototypes have no elements, and skip the check (in the example: don't even look at prototypes, just return <code>undefined</code>). Let's say this brings execution time down to 1 time unit (twice as fast, yay!). However, in order to be correct, the engine must now keep a close eye on the prototype chains of all arrays, and if any elements show up anywhere, all code based on this assumption must be found and thrown away, at a cost of 1000 time units.</p>\n\n<p>Given this tradeoff, it makes sense that the engine at first follows the fast-but-risky strategy (B), but when that fails even just once, it switches to the safer strategy (A), in order to avoid the risk of having to pay the 1000-time-unit penalty again.</p>\n\n<p>You can argue whether \"even just once\" is the best threshold, or whether a site should get 2, 3, or even more free passes before giving up on (B), but that doesn't change the fundamental tradeoff.</p>\n"}], "owner": {"reputation": 7338, "user_id": 1333004, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IWtm4.jpg?s=128&g=1", "display_name": "GregRos", "link": "https://stackoverflow.com/users/1333004/gregros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 5, "accepted_answer_id": 48798032, "answer_count": 1, "score": 9, "last_activity_date": 1518651913, "creation_date": 1518638753, "question_id": 48795346, "link": "https://stackoverflow.com/questions/48795346/will-a-javascript-environment-eventually-recover-after-changing-the-prototype", "title": "Will a JavaScript environment eventually recover after changing the [[Prototype]] of an object?", "body": "<p>So, I've read the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf\" rel=\"noreferrer\">MDN disclaimers and warnings</a>, I've read a <a href=\"https://stackoverflow.com/questions/23807805/why-is-mutating-the-prototype-of-an-object-bad-for-performance\">great answer on the subject</a>, but there's still something I want to know. This question actually came from an answer I gave to another question, <a href=\"https://stackoverflow.com/a/48794349/1333004\">here</a>.</p>\n\n<p>Let's say I decide to do the dirty deed. Something that I will regret for the rest of my life. Something that will stain me with shame forever and dishonor my family name. A purposeful, deliberate ending of --</p>\n\n<p>Alright, enough of that. Anyway, here it is:</p>\n\n<pre><code>let proto = Object.getPrototypeOf(Function.prototype);\n\nObject.setPrototypeOf(Function.prototype, {\n  iBetterHaveAGoodReasonForDoingThis : \"Bacon!\"\n});\n\n//just to prove it actually worked\nlet f = (function(){});\nconsole.log(f.iBetterHaveAGoodReasonForDoingThis);\n\n// Quick, hide the evidence!!\nObject.setPrototypeOf(Function.prototype, proto);\n</code></pre>\n\n<p>Basically, what I did there, was change the prototype of <code>Function.prototype</code>, an object that impacts pretty much every piece of JavaScript code you could write. Then I changed it back.</p>\n\n<p>I wanted to illustrate a big change in the prototype chain that would impact a lot of code and cause a lot of optimizations to go down the drain. I don't expect changing it back would fix anything (if anything, I expect it would make things worse performance-wise). I'd love to know if it would or wouldn't, but if it does, that wasn't my intention.</p>\n\n<p>I just want to know if, after a change like this, will the JavaScript environment begin to recover and starting optimizing things again? Or will it just give up forever and run everything in deoptimized mode? Are there optimizations that will never be achieved because of this? Can I trust that, eventually, after a period of recovery, it will return to its regular state?</p>\n\n<p>For context, I'm talking about engines like the most recent version of V8, not the primitive crap used by stuff like Internet Explorers. I understand the answer could be different in different systems, but I hope there is some commonality among them.</p>\n"}, {"tags": ["javascript", "promise", "es6-promise", "map-function"], "comments": [{"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 1, "creation_date": 1518639199, "post_id": 48795331, "comment_id": 84593208, "body": "Yes, it is absolutely possible to perform asynchronous actions inside of a map. However, at best, the result you will get is an array of promises. You then have to use that array to get the results. It isn&#39;t possible for the map to return the results directly because the map returns before the results exist."}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1518639325, "post_id": 48795331, "comment_id": 84593266, "body": "Related: <a href=\"https://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call\" title=\"how do i return the response from an asynchronous call\">stackoverflow.com/questions/14220321/&hellip;</a>"}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1518639512, "post_id": 48795331, "comment_id": 84593336, "body": "Aslo related: <a href=\"https://stackoverflow.com/questions/46626610/array-of-promises\">stackoverflow.com/questions/46626610/array-of-promises</a>"}, {"owner": {"reputation": 18898, "user_id": 903011, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6a8f2f5f292c75c5e81a6607530a0ab6?s=128&d=identicon&r=PG", "display_name": "WoJ", "link": "https://stackoverflow.com/users/903011/woj"}, "reply_to_user": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1518639753, "post_id": 48795331, "comment_id": 84593468, "body": "@KevinB: I belive the second &quot;related&quot; link is exactly my problem. I am still digesting it but it really looks so. Thanks!"}, {"owner": {"reputation": 2149, "user_id": 5451765, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/23a05338bedcaca844e9c2e2c56e1db8?s=128&d=identicon&r=PG&f=1", "display_name": "doubleOrt", "link": "https://stackoverflow.com/users/5451765/doubleort"}, "edited": false, "score": 0, "creation_date": 1518640312, "post_id": 48795331, "comment_id": 84593803, "body": "<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/then\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1778, "user_id": 3476981, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/dclzA.jpg?s=128&g=1", "display_name": "DrNio", "link": "https://stackoverflow.com/users/3476981/drnio"}, "edited": false, "score": 0, "creation_date": 1518638907, "post_id": 48795372, "comment_id": 84593081, "body": "an example would be great"}, {"owner": {"reputation": 171, "user_id": 5043139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kZtbE.jpg?s=128&g=1", "display_name": "eshunsharma", "link": "https://stackoverflow.com/users/5043139/eshunsharma"}, "reply_to_user": {"reputation": 1778, "user_id": 3476981, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/dclzA.jpg?s=128&g=1", "display_name": "DrNio", "link": "https://stackoverflow.com/users/3476981/drnio"}, "edited": false, "score": 1, "creation_date": 1518639892, "post_id": 48795372, "comment_id": 84593555, "body": "Edited the original answer @DrNio"}, {"owner": {"reputation": 1778, "user_id": 3476981, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/dclzA.jpg?s=128&g=1", "display_name": "DrNio", "link": "https://stackoverflow.com/users/3476981/drnio"}, "edited": false, "score": 0, "creation_date": 1518640052, "post_id": 48795372, "comment_id": 84593652, "body": "cool - i would add a .catch also. i don&#39;t know why it is downvoted - maybe that person can explain why."}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 1778, "user_id": 3476981, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/dclzA.jpg?s=128&g=1", "display_name": "DrNio", "link": "https://stackoverflow.com/users/3476981/drnio"}, "edited": false, "score": 0, "creation_date": 1518640531, "post_id": 48795372, "comment_id": 84593928, "body": "@DrNio It&#39;s downvoted because it <i>doesn&#39;t</i> work. Have a timeout in <code>p</code> (instead of immediate resolution) and it falls apart."}, {"owner": {"reputation": 1778, "user_id": 3476981, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/dclzA.jpg?s=128&g=1", "display_name": "DrNio", "link": "https://stackoverflow.com/users/3476981/drnio"}, "edited": false, "score": 0, "creation_date": 1518640675, "post_id": 48795372, "comment_id": 84594008, "body": "ok thanks for noticing!"}], "tags": [], "owner": {"reputation": 171, "user_id": 5043139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kZtbE.jpg?s=128&g=1", "display_name": "eshunsharma", "link": "https://stackoverflow.com/users/5043139/eshunsharma"}, "is_accepted": false, "score": -1, "last_activity_date": 1518639874, "last_edit_date": 1518639874, "creation_date": 1518638856, "answer_id": 48795372, "question_id": 48795331, "link": "https://stackoverflow.com/questions/48795331/how-to-combine-a-map-with-a-promise/48795372#48795372", "title": "How to combine a .map() with a promise?", "body": "<p>Edit: here's a code that works the way you want it to work:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let p = new Promise((resolve, reject) =&gt; resolve('x'))\r\nlet a = ['a', 'b']\r\nlet c =[]\r\nPromise.resolve(a.map(x =&gt; p.then(y =&gt; c.push(x + y)))).then(() =&gt; console.log(c))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Since p.then returns an empty object your map will return an array of empty objects.</p>\n\n<p>PS: You can refactor the code, It's a little too late in my country so would go to sleep now.</p>\n"}, {"comments": [{"owner": {"reputation": 1778, "user_id": 3476981, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/dclzA.jpg?s=128&g=1", "display_name": "DrNio", "link": "https://stackoverflow.com/users/3476981/drnio"}, "edited": false, "score": 0, "creation_date": 1518640255, "post_id": 48795647, "comment_id": 84593770, "body": "cool - missing <code>.catch</code> statements though"}, {"owner": {"reputation": 1778, "user_id": 3476981, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/dclzA.jpg?s=128&g=1", "display_name": "DrNio", "link": "https://stackoverflow.com/users/3476981/drnio"}, "edited": false, "score": 0, "creation_date": 1518640321, "post_id": 48795647, "comment_id": 84593808, "body": "upvoted though :) looks clean"}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 1778, "user_id": 3476981, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/dclzA.jpg?s=128&g=1", "display_name": "DrNio", "link": "https://stackoverflow.com/users/3476981/drnio"}, "edited": false, "score": 0, "creation_date": 1518640389, "post_id": 48795647, "comment_id": 84593854, "body": "@DrNio You mean every promise chain should be ended with an error handler? Added."}, {"owner": {"reputation": 18898, "user_id": 903011, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6a8f2f5f292c75c5e81a6607530a0ab6?s=128&d=identicon&r=PG", "display_name": "WoJ", "link": "https://stackoverflow.com/users/903011/woj"}, "edited": false, "score": 0, "creation_date": 1518640409, "post_id": 48795647, "comment_id": 84593859, "body": "This is it, thanks. It also matches the &quot;related&quot; link in KevinB&#39;s comment (I flagged myself as duplicate)"}, {"owner": {"reputation": 1778, "user_id": 3476981, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/dclzA.jpg?s=128&g=1", "display_name": "DrNio", "link": "https://stackoverflow.com/users/3476981/drnio"}, "edited": false, "score": 0, "creation_date": 1518640535, "post_id": 48795647, "comment_id": 84593932, "body": "yes @Bergi in the end of a promise-call we should add .catch statements"}, {"owner": {"reputation": 2149, "user_id": 5451765, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/23a05338bedcaca844e9c2e2c56e1db8?s=128&d=identicon&r=PG&f=1", "display_name": "doubleOrt", "link": "https://stackoverflow.com/users/5451765/doubleort"}, "edited": false, "score": 1, "creation_date": 1518640548, "post_id": 48795647, "comment_id": 84593937, "body": "Why would you care about such things in such a trivial example ?"}], "tags": [], "owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "is_accepted": true, "score": 5, "last_activity_date": 1518640367, "last_edit_date": 1518640367, "creation_date": 1518640057, "answer_id": 48795647, "question_id": 48795331, "link": "https://stackoverflow.com/questions/48795331/how-to-combine-a-map-with-a-promise/48795647#48795647", "title": "How to combine a .map() with a promise?", "body": "<blockquote>\n  <p>I expected a new array <code>['ax', 'bx']</code>, but what I get instead is an array of Promises</p>\n</blockquote>\n\n<p>This is exactly what <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/all\" rel=\"nofollow noreferrer\"><code>Promise.all</code></a> was made for. Of course it doesn't produce a plain array but rather a promise for it, but you cannot avoid that when you're doing anything asynchronous.</p>\n\n<pre><code>const promises = a.map(x =&gt; p.then(y =&gt; x + y))\nPromise.all(promises).then(console.log, console.error)\n</code></pre>\n"}], "owner": {"reputation": 18898, "user_id": 903011, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6a8f2f5f292c75c5e81a6607530a0ab6?s=128&d=identicon&r=PG", "display_name": "WoJ", "link": "https://stackoverflow.com/users/903011/woj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7574, "favorite_count": 0, "closed_date": 1518640548, "accepted_answer_id": 48795647, "answer_count": 2, "score": -2, "last_activity_date": 1518640367, "creation_date": 1518638655, "question_id": 48795331, "link": "https://stackoverflow.com/questions/48795331/how-to-combine-a-map-with-a-promise", "closed_reason": "Duplicate", "title": "How to combine a .map() with a promise?", "body": "<p>I have an array and I need, for each element of this array, to <code>fetch</code> some data (dependent on the element) and add this data to the element in the array.</p>\n\n<p>To set an example, I will simulate the <code>fetch</code> with a Promise (in real life, this will be the answer of a webservice):</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let p = new Promise((resolve, reject) =&gt; resolve('x'))\r\nlet a = ['a', 'b']\r\na = a.map(x =&gt; p.then(y =&gt; x + y))\r\nconsole.log(a)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>What I expected is to have for the first element (<code>a</code>) <code>p</code> being called, and upon resolution the result added to <code>a</code> (giving <code>ax</code>). Same for <code>b</code>.</p>\n\n<p>Ultimately I expected a new array <code>['ax', 'bx']</code>.</p>\n\n<p>What I get instead is an array of Promises</p>\n\n<p>Being quite new to Promises (which I find in theory wonderful) I have a hard time understanding what went wrong here. <strong>Is it possible to combine <code>.map()</code> and asynchronous actions within?</strong></p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1518640735, "post_id": 48795306, "comment_id": 84594041, "body": "Can you edit your question and include a working example of the issue?  You can hit Ctrl+M to brin up the on site code editor.  I&#39;ve tried this logic without the stop and it works fine.  What version of jQuery are you using?"}, {"owner": {"reputation": 1886, "user_id": 5547573, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U3lEB.jpg?s=128&g=1", "display_name": "kblau", "link": "https://stackoverflow.com/users/5547573/kblau"}, "edited": false, "score": 0, "creation_date": 1518651308, "post_id": 48795306, "comment_id": 84598547, "body": "Can you please tell me if this fiddle helps <a href=\"https://jsfiddle.net/kblau237/bodu7242/\" rel=\"nofollow noreferrer\">jsfiddle.net/kblau237/bodu7242</a>"}], "owner": {"user_type": "does_not_exist", "display_name": "user8705663"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1531902626, "creation_date": 1518638552, "last_edit_date": 1531902626, "question_id": 48795306, "link": "https://stackoverflow.com/questions/48795306/eventlistener-alert-in-jquery", "title": "Eventlistener-alert in jQuery", "body": "<p>I tried to alert \"Hello\" when clicking on a div with the ID <code>navBtnContainer</code>. This event listener should work for but at first it always says <code>Uncaught TypeError: $(...).stop is not a function</code> and if I remove the <code>.stop()</code> it does not work either:</p>\n\n<pre><code>$('#navBtnContainer').stop().on('click', function() {\n    alert(\"Hello\");\n});\n</code></pre>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 3022, "user_id": 2027839, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f0cdfc83802dff15a73a5c273c1b4154?s=128&d=identicon&r=PG", "display_name": "Mike Warren", "link": "https://stackoverflow.com/users/2027839/mike-warren"}, "edited": false, "score": 0, "creation_date": 1518638757, "post_id": 48795284, "comment_id": 84593016, "body": "Should this be done in native JavaScript or are you able to leverage an API like jQuery (one of the most popular JavaScript libraries ever)?"}, {"owner": {"reputation": 3022, "user_id": 2027839, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f0cdfc83802dff15a73a5c273c1b4154?s=128&d=identicon&r=PG", "display_name": "Mike Warren", "link": "https://stackoverflow.com/users/2027839/mike-warren"}, "edited": false, "score": 0, "creation_date": 1518639020, "post_id": 48795284, "comment_id": 84593136, "body": "Also, your code compares the lexicographic order of <b>strings</b>, not numbers. You can, for string like this: <code>var money = &#39;$300.00&#39;</code>, extract its value into a <code>Number</code> like this: <code>var moneyAmount = Number(money.substring(1))</code>, or even better: <code>var moneyAmount = Number(money.substring(money.indexOf(&#39;$&#39;)).trim())</code> . The former just extracts from the second character and converts that to number, whereas the latter finds the <code>&#39;$&#39;</code>, extracts from the character after, trims surrounding whitespace, and then converts to number."}, {"owner": {"reputation": 3022, "user_id": 2027839, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f0cdfc83802dff15a73a5c273c1b4154?s=128&d=identicon&r=PG", "display_name": "Mike Warren", "link": "https://stackoverflow.com/users/2027839/mike-warren"}, "edited": false, "score": 0, "creation_date": 1518639578, "post_id": 48795284, "comment_id": 84593366, "body": "Last but not least, I notice your code simply does linear walk through the list of <code>&lt;tr&gt;</code>s containing data, and swaps <code>&lt;tr&gt;</code> at index <code>k</code> with <code>&lt;tr&gt;</code> at index <code>k+1</code>, for k integer between 1 and <code>rows.length - 2</code>, inclusive. This does <b>not</b> sort a list. You should look into either the different sorting algorithms (bubble, insertion, quick, heap, ... ), or leverage the <code>Array.prototype.sort()</code> method to do the sorting for you, based on criteria.   More information on the latter: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3022, "user_id": 2027839, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f0cdfc83802dff15a73a5c273c1b4154?s=128&d=identicon&r=PG", "display_name": "Mike Warren", "link": "https://stackoverflow.com/users/2027839/mike-warren"}, "edited": false, "score": 0, "creation_date": 1518639635, "post_id": 48795496, "comment_id": 84593396, "body": "You call that sorted?!"}, {"owner": {"reputation": 5118, "user_id": 9091485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6xICk.jpg?s=128&g=1", "display_name": "Gerardo BLANCO", "link": "https://stackoverflow.com/users/9091485/gerardo-blanco"}, "reply_to_user": {"reputation": 3022, "user_id": 2027839, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f0cdfc83802dff15a73a5c273c1b4154?s=128&d=identicon&r=PG", "display_name": "Mike Warren", "link": "https://stackoverflow.com/users/2027839/mike-warren"}, "edited": false, "score": 0, "creation_date": 1518639700, "post_id": 48795496, "comment_id": 84593434, "body": "@MikeWarren pliss click on the <code>Amount1</code> header. I didnt design this table and you should check the code before adding a rude comment :)"}, {"owner": {"reputation": 3022, "user_id": 2027839, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f0cdfc83802dff15a73a5c273c1b4154?s=128&d=identicon&r=PG", "display_name": "Mike Warren", "link": "https://stackoverflow.com/users/2027839/mike-warren"}, "edited": false, "score": 0, "creation_date": 1518639926, "post_id": 48795496, "comment_id": 84593584, "body": "I missed the <code>onclick</code>. My bad."}, {"owner": {"reputation": 5118, "user_id": 9091485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6xICk.jpg?s=128&g=1", "display_name": "Gerardo BLANCO", "link": "https://stackoverflow.com/users/9091485/gerardo-blanco"}, "reply_to_user": {"reputation": 3022, "user_id": 2027839, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f0cdfc83802dff15a73a5c273c1b4154?s=128&d=identicon&r=PG", "display_name": "Mike Warren", "link": "https://stackoverflow.com/users/2027839/mike-warren"}, "edited": false, "score": 1, "creation_date": 1518639960, "post_id": 48795496, "comment_id": 84593599, "body": "@MikeWarren no worrys. Did you like the solution? Or should i change something?"}, {"owner": {"reputation": 3022, "user_id": 2027839, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f0cdfc83802dff15a73a5c273c1b4154?s=128&d=identicon&r=PG", "display_name": "Mike Warren", "link": "https://stackoverflow.com/users/2027839/mike-warren"}, "edited": false, "score": 0, "creation_date": 1518640210, "post_id": 48795496, "comment_id": 84593742, "body": "The solution is nice in that it works while minimizing changes. I just didn&#39;t know the use case for the sorting. I do have solution that I believe is more concise, but I don&#39;t know if the person asking the question would make use of it."}], "tags": [], "owner": {"reputation": 5118, "user_id": 9091485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6xICk.jpg?s=128&g=1", "display_name": "Gerardo BLANCO", "link": "https://stackoverflow.com/users/9091485/gerardo-blanco"}, "is_accepted": true, "score": 1, "last_activity_date": 1518639432, "creation_date": 1518639432, "answer_id": 48795496, "question_id": 48795284, "link": "https://stackoverflow.com/questions/48795284/javascript-column-sort-for-currency-on-html-table/48795496#48795496", "title": "javascript column sort for currency on html table", "body": "<p>I added the next if to extraxt the values depending on the column</p>\n\n<pre><code>   if (n == 0) {\n        xText = x.innerHTML.toLowerCase();\n        yText = y.innerHTML.toLowerCase();\n      } else {\n        xText = parseFloat(x.innerHTML.split('$')[1].replace(/,/g, ''));\n        yText = parseFloat(y.innerHTML.split('$')[1].replace(/,/g, ''));\n      }\n</code></pre>\n\n<p>I also replace <code>x.innerHTML.toLowerCase()</code> and <code>y.innerHTML.toLowerCase()</code> for <code>xText</code> and <code>yText</code> this to make an easy change of values depending on the column</p>\n\n<p>Finishing with <code>parseFloat(y.innerHTML.split('$')[1].replace(/,/g, ''));</code> to extract the float value and delete both the $ sign and the commas</p>\n\n<p>Hope this is what you were looking for :)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function sortTable(n) {\r\n  var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;\r\n  table = document.getElementById(\"CarTable\");\r\n  switching = true;\r\n\r\n  dir = \"asc\";\r\n\r\n  while (switching) {\r\n\r\n    switching = false;\r\n    rows = table.getElementsByTagName(\"TR\");\r\n\r\n    for (i = 1; i &lt; (rows.length - 1); i++) {\r\n\r\n      shouldSwitch = false;\r\n\r\n      x = rows[i].getElementsByTagName(\"TD\")[n];\r\n      y = rows[i + 1].getElementsByTagName(\"TD\")[n];\r\n\r\n\r\n      if (n == 0) {\r\n        xText = x.innerHTML.toLowerCase();\r\n        yText = y.innerHTML.toLowerCase();\r\n      } else {\r\n        xText = parseFloat(x.innerHTML.split('$')[1].replace(/,/g, ''));\r\n        yText = parseFloat(y.innerHTML.split('$')[1].replace(/,/g, ''));\r\n      }\r\n\r\n      if (dir == \"asc\") {\r\n        if (xText &gt; yText) {\r\n          shouldSwitch = true;\r\n          break;\r\n        }\r\n      } else if (dir == \"desc\") {\r\n        if (xText &lt; yText) {\r\n          shouldSwitch = true;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    if (shouldSwitch) {\r\n\r\n      rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);\r\n      switching = true;\r\n\r\n      switchcount++;\r\n    } else {\r\n\r\n      if (switchcount == 0 &amp;&amp; dir == \"asc\") {\r\n        dir = \"desc\";\r\n        switching = true;\r\n      }\r\n    }\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>table {\r\n  border-spacing: 0;\r\n  width: 100%;\r\n  border: 1px solid #ddd;\r\n}\r\n\r\nth {\r\n  cursor: pointer;\r\n}\r\n\r\nth,\r\ntd {\r\n  text-align: left;\r\n  padding: 16px;\r\n}\r\n\r\ntr:nth-child(even) {\r\n  background-color: #f2f2f2\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;html&gt;\r\n\r\n&lt;head&gt;\r\n\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n\r\n\r\n  &lt;table id=\"CarTable\"&gt;\r\n    &lt;tr&gt;\r\n\r\n      &lt;th onclick=\"sortTable(0)\"&gt;Name&lt;/th&gt;\r\n      &lt;th onclick=\"sortTable(1)\"&gt;Amount1&lt;/th&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n      &lt;td&gt;Mustang&lt;/td&gt;\r\n      &lt;td&gt;$2,000.00&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n      &lt;td&gt;Charger&lt;/td&gt;\r\n      &lt;td&gt;$300.00&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n      &lt;td&gt;Corvette&lt;/td&gt;\r\n      &lt;td&gt;$225.00&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n      &lt;td&gt;Firebird&lt;/td&gt;\r\n      &lt;td&gt;$2,600.00&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n      &lt;td&gt;GTO&lt;/td&gt;\r\n      &lt;td&gt;$260.00&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n      &lt;td&gt;Camaro&lt;/td&gt;\r\n      &lt;td&gt;$1,000.22&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n      &lt;td&gt;Barracuda&lt;/td&gt;\r\n      &lt;td&gt;$52.00&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n      &lt;td&gt;Impala&lt;/td&gt;\r\n      &lt;td&gt;$25.00&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/table&gt;\r\n\r\n\r\n\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 91, "user_id": 6088753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bCq8J.jpg?s=128&g=1", "display_name": "BorisNZ", "link": "https://stackoverflow.com/users/6088753/borisnz"}, "edited": false, "score": 0, "creation_date": 1592823130, "post_id": 48795566, "comment_id": 110552679, "body": "Perfect - the fix works great for columns that are either currency OR alphabetic except my currency balance column also has some rows with text &quot;Not Available&quot; in them - so unless we change the text to $0.00 the fixed sort still doesn&#39;t work?     Anyone got any suggestions?"}], "tags": [], "owner": {"reputation": 5776, "user_id": 5323516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39708c7b863667e7a473b4c1ecce840b?s=128&d=identicon&r=PG&f=1", "display_name": "Manuel Otto", "link": "https://stackoverflow.com/users/5323516/manuel-otto"}, "is_accepted": false, "score": 1, "last_activity_date": 1518639716, "creation_date": 1518639716, "answer_id": 48795566, "question_id": 48795284, "link": "https://stackoverflow.com/questions/48795284/javascript-column-sort-for-currency-on-html-table/48795566#48795566", "title": "javascript column sort for currency on html table", "body": "<p>All you need to do is replace the comparing logic. I took the liberty of changing this part in your code with a function that accepts a <code>mode</code> parameter. You can extend it easily.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function sortTable(n,mode) {\r\n  var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;\r\n  table = document.getElementById(\"CarTable\");\r\n  switching = true;\r\n\r\n  dir = \"asc\";\r\n\r\n  while (switching) {\r\n\r\n    switching = false;\r\n    rows = table.getElementsByTagName(\"TR\");\r\n\r\n    for (i = 1; i &lt; (rows.length - 1); i++) {\r\n\r\n      shouldSwitch = false;\r\n\r\n      x = rows[i].getElementsByTagName(\"TD\")[n];\r\n      y = rows[i + 1].getElementsByTagName(\"TD\")[n];\r\n\r\n      if (dir == \"asc\") {\r\n        if (compareValues(x.innerHTML,y.innerHTML,mode)==1) {\r\n\r\n          shouldSwitch= true;\r\n          break;\r\n        }\r\n      } else if (dir == \"desc\") {\r\n        if (compareValues(x.innerHTML,y.innerHTML,mode)==-1) {\r\n\r\n          shouldSwitch= true;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    if (shouldSwitch) {\r\n\r\n      rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);\r\n      switching = true;\r\n\r\n      switchcount ++;\r\n    } else {\r\n\r\n      if (switchcount == 0 &amp;&amp; dir == \"asc\") {\r\n        dir = \"desc\";\r\n        switching = true;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction compareValues(x,y,mode){\r\n  x = parseValue(x,mode)\r\n  y = parseValue(y,mode)\r\n  if(x&lt;y)\r\n    return -1\r\n  if(x&gt;y)\r\n    return 1\r\n  return 0\r\n}\r\n\r\nfunction parseValue(val,mode){\r\n  switch(mode){\r\n    case 'alphabet':\r\n      return val.toLowerCase()\r\n    break\r\n    case 'currency':\r\n      return parseFloat(val.slice(1).replace(',',''))\r\n    return\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>table {\r\n    border-spacing: 0;\r\n    width: 100%;\r\n    border: 1px solid #ddd;\r\n}\r\n\r\nth {\r\n    cursor: pointer;\r\n}\r\n\r\nth, td {\r\n    text-align: left;\r\n    padding: 16px;\r\n}\r\n\r\ntr:nth-child(even) {\r\n    background-color: #f2f2f2\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;html&gt;\r\n&lt;head&gt;\r\n\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n\r\n&lt;table id=\"CarTable\"&gt;\r\n  &lt;tr&gt;\r\n\r\n    &lt;th onclick=\"sortTable(0,'alphabet')\"&gt;Name&lt;/th&gt;\r\n    &lt;th onclick=\"sortTable(1,'currency')\"&gt;Amount1&lt;/th&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;Mustang&lt;/td&gt;\r\n    &lt;td&gt;$2,000.00&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;Charger&lt;/td&gt;\r\n    &lt;td&gt;$300.00&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;Corvette&lt;/td&gt;\r\n    &lt;td&gt;$225.00&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;Firebird&lt;/td&gt;\r\n    &lt;td&gt;$2,600.00&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;GTO&lt;/td&gt;\r\n    &lt;td&gt;$260.00&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;Camaro&lt;/td&gt;\r\n    &lt;td&gt;$1,000.22&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;Barracuda&lt;/td&gt;\r\n    &lt;td&gt;$52.00&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;Impala&lt;/td&gt;\r\n    &lt;td&gt;$25.00&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n&lt;/table&gt;\r\n\r\n\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 9, "user_id": 9361844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7110d66d34fbae53cada4f9e53351ce?s=128&d=identicon&r=PG&f=1", "display_name": "DGOU182", "link": "https://stackoverflow.com/users/9361844/dgou182"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 672, "favorite_count": 0, "accepted_answer_id": 48795496, "answer_count": 2, "score": 0, "last_activity_date": 1518639716, "creation_date": 1518638461, "question_id": 48795284, "link": "https://stackoverflow.com/questions/48795284/javascript-column-sort-for-currency-on-html-table", "title": "javascript column sort for currency on html table", "body": "<p>I have the code below that I'm using to sort the columns on an html table. It works fine for sorting alphabetically. It also works for sorting when the numbers are single digit. </p>\n\n<p>When I try to sort a column that contains a currency then the sort function doesn't sort the numbers in the correct order. </p>\n\n<p>What would I need to change so it would sort the currency column correctly? </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function sortTable(n) {\r\n  var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;\r\n  table = document.getElementById(\"CarTable\");\r\n  switching = true;\r\n\r\n  dir = \"asc\";\r\n\r\n  while (switching) {\r\n\r\n    switching = false;\r\n    rows = table.getElementsByTagName(\"TR\");\r\n\r\n    for (i = 1; i &lt; (rows.length - 1); i++) {\r\n\r\n      shouldSwitch = false;\r\n\r\n      x = rows[i].getElementsByTagName(\"TD\")[n];\r\n      y = rows[i + 1].getElementsByTagName(\"TD\")[n];\r\n\r\n      if (dir == \"asc\") {\r\n        if (x.innerHTML.toLowerCase() &gt; y.innerHTML.toLowerCase()) {\r\n\r\n          shouldSwitch= true;\r\n          break;\r\n        }\r\n      } else if (dir == \"desc\") {\r\n        if (x.innerHTML.toLowerCase() &lt; y.innerHTML.toLowerCase()) {\r\n\r\n          shouldSwitch= true;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    if (shouldSwitch) {\r\n\r\n      rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);\r\n      switching = true;\r\n\r\n      switchcount ++;\r\n    } else {\r\n\r\n      if (switchcount == 0 &amp;&amp; dir == \"asc\") {\r\n        dir = \"desc\";\r\n        switching = true;\r\n      }\r\n    }\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>table {\r\n    border-spacing: 0;\r\n    width: 100%;\r\n    border: 1px solid #ddd;\r\n}\r\n\r\nth {\r\n    cursor: pointer;\r\n}\r\n\r\nth, td {\r\n    text-align: left;\r\n    padding: 16px;\r\n}\r\n\r\ntr:nth-child(even) {\r\n    background-color: #f2f2f2\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;html&gt;\r\n&lt;head&gt;\r\n\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n\r\n&lt;table id=\"CarTable\"&gt;\r\n  &lt;tr&gt;\r\n\r\n    &lt;th onclick=\"sortTable(0)\"&gt;Name&lt;/th&gt;\r\n    &lt;th onclick=\"sortTable(1)\"&gt;Amount1&lt;/th&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;Mustang&lt;/td&gt;\r\n    &lt;td&gt;$2,000.00&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;Charger&lt;/td&gt;\r\n    &lt;td&gt;$300.00&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;Corvette&lt;/td&gt;\r\n    &lt;td&gt;$225.00&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;Firebird&lt;/td&gt;\r\n    &lt;td&gt;$2,600.00&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;GTO&lt;/td&gt;\r\n    &lt;td&gt;$260.00&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;Camaro&lt;/td&gt;\r\n    &lt;td&gt;$1,000.22&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;Barracuda&lt;/td&gt;\r\n    &lt;td&gt;$52.00&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;Impala&lt;/td&gt;\r\n    &lt;td&gt;$25.00&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n&lt;/table&gt;\r\n\r\n\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 1176, "user_id": 4313043, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VkCgIga9yIw/AAAAAAAAAAI/AAAAAAAAAME/P86Tdcri8mI/photo.jpg?sz=128", "display_name": "Hargo", "link": "https://stackoverflow.com/users/4313043/hargo"}, "edited": false, "score": 1, "creation_date": 1518638662, "post_id": 48795272, "comment_id": 84592976, "body": "This question isn&#39;t readily answerable in its current form. You&#39;d be better off adding a complete code sample showing what you have so far (try to keep it brief, edit it down if necessary). And state very clearly what you&#39;re expecting to see and what you are actually seeing."}, {"owner": {"reputation": 33, "user_id": 8183858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86f3283b0e95feb3b2b9549568adb563?s=128&d=identicon&r=PG", "display_name": "James Kerrane", "link": "https://stackoverflow.com/users/8183858/james-kerrane"}, "reply_to_user": {"reputation": 1176, "user_id": 4313043, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VkCgIga9yIw/AAAAAAAAAAI/AAAAAAAAAME/P86Tdcri8mI/photo.jpg?sz=128", "display_name": "Hargo", "link": "https://stackoverflow.com/users/4313043/hargo"}, "edited": false, "score": 0, "creation_date": 1518639310, "post_id": 48795272, "comment_id": 84593261, "body": "@Hargobind I hopefully have edited the question enough to clarify the question. Thank you"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 8183858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86f3283b0e95feb3b2b9549568adb563?s=128&d=identicon&r=PG", "display_name": "James Kerrane", "link": "https://stackoverflow.com/users/8183858/james-kerrane"}, "edited": false, "score": 0, "creation_date": 1518639145, "post_id": 48795371, "comment_id": 84593186, "body": "Instead of getting the first array <code>[1,2,3,1,2,3]</code> I want to get the parts after the array: [1,2,3,1,2,3] <b>,2,3</b>"}, {"owner": {"reputation": 35, "user_id": 979283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f47525fdbfe1ea0e1eda7b986652fa3f?s=128&d=identicon&r=PG", "display_name": "Mohamed Magdy", "link": "https://stackoverflow.com/users/979283/mohamed-magdy"}, "reply_to_user": {"reputation": 33, "user_id": 8183858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86f3283b0e95feb3b2b9549568adb563?s=128&d=identicon&r=PG", "display_name": "James Kerrane", "link": "https://stackoverflow.com/users/8183858/james-kerrane"}, "edited": false, "score": 0, "creation_date": 1518639790, "post_id": 48795371, "comment_id": 84593495, "body": "try this :function destroyer(){var arr = []; arr.push(arguments[1]);arr.push(arguments[2]); return arr};"}], "tags": [], "owner": {"reputation": 35, "user_id": 979283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f47525fdbfe1ea0e1eda7b986652fa3f?s=128&d=identicon&r=PG", "display_name": "Mohamed Magdy", "link": "https://stackoverflow.com/users/979283/mohamed-magdy"}, "is_accepted": false, "score": 0, "last_activity_date": 1518641824, "last_edit_date": 1518641824, "creation_date": 1518638841, "answer_id": 48795371, "question_id": 48795272, "link": "https://stackoverflow.com/questions/48795272/how-to-navigate-and-pull-from-an-object-in-javascript/48795371#48795371", "title": "How to navigate and pull from an object in JavaScript", "body": "<p>try use <strong><em>arguments</em></strong>\nexample</p>\n\n<pre><code>function destroyer(){var arr = []; arr.push(arguments[1]);arr.push(arguments[2]); return arr};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1176, "user_id": 4313043, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VkCgIga9yIw/AAAAAAAAAAI/AAAAAAAAAME/P86Tdcri8mI/photo.jpg?sz=128", "display_name": "Hargo", "link": "https://stackoverflow.com/users/4313043/hargo"}, "is_accepted": true, "score": 1, "last_activity_date": 1518639984, "creation_date": 1518639984, "answer_id": 48795634, "question_id": 48795272, "link": "https://stackoverflow.com/questions/48795272/how-to-navigate-and-pull-from-an-object-in-javascript/48795634#48795634", "title": "How to navigate and pull from an object in JavaScript", "body": "<p>You're <code>destroyer</code> function is only taking one argument, but you're passing it 3.</p>\n\n<p>You have two options:</p>\n\n<ol>\n<li><strong>Use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/arguments\" rel=\"nofollow noreferrer\"><code>arguments</code></a> to get an array-like of all the passed arguments</strong>, you'll then need to combine that with a method like <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice\" rel=\"nofollow noreferrer\"><code>slice</code></a> to get only the second and third arguments. Additionaly since <code>arguments</code> isn't technically an array, you need to convert it to one before you can call a method like <code>slice</code>. My example uses <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from\" rel=\"nofollow noreferrer\"><code>Array.from</code></a> however that is only available on newer browsers.</li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function destroyer(arr) {\r\n  return Array.from(arguments).slice(1,3);\r\n}\r\n\r\nconsole.log('Result: ', destroyer([1, 2, 3, 1, 2, 3],2,3));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<ol start=\"2\">\n<li><strong>Add additional parameters to your function definition.</strong> This is probably easier if you <em>know</em> you'll have exactly 3 arguments. And there are far fewer gotchas compared to using the magic <code>arguments</code> variable.</li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function destroyer(a, b, c) {\r\n  return [b, c];\r\n}\r\n\r\nconsole.log('Result: ', destroyer([1, 2, 3, 1, 2, 3], 2, 3));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 33, "user_id": 8183858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86f3283b0e95feb3b2b9549568adb563?s=128&d=identicon&r=PG", "display_name": "James Kerrane", "link": "https://stackoverflow.com/users/8183858/james-kerrane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 48795634, "answer_count": 2, "score": -3, "last_activity_date": 1518641824, "creation_date": 1518638417, "last_edit_date": 1518638988, "question_id": 48795272, "link": "https://stackoverflow.com/questions/48795272/how-to-navigate-and-pull-from-an-object-in-javascript", "title": "How to navigate and pull from an object in JavaScript", "body": "<p>I am being given the function call <code>destroyer([1, 2, 3, 1, 2, 3], 2, 3);</code>. <strong>I want to be able to pull from the last <code>2, 3</code> part after the initial object</strong>, but I do not know how to go about this. </p>\n\n<p><code>return arr[6];</code> and <code>return arr[1][0]</code> both return nothing. I am expecting to see <code>2</code> or <code>2, 3</code> (Last two numbers)</p>\n\n<p>I tried researching <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Property_Accessors\" rel=\"nofollow noreferrer\">Property Accessors</a>, but I think I was looking in the wrong place for my answer.</p>\n\n<p>Here's my full code:</p>\n\n<pre><code>    function destroyer(arr) {\n  return arr;\n}\n\ndestroyer([1, 2, 3, 1, 2, 3], 2, 3);\n</code></pre>\n\n<p>Instead of getting the first array <code>[1,2,3,1,2,3]</code> \nI want to get the parts after the array: </p>\n\n<p>[1,2,3,1,2,3]<strong>,2,3</strong></p>\n"}, {"tags": ["javascript", "jquery"], "answers": [{"comments": [{"owner": {"reputation": 477, "user_id": 7143457, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/06721b829ae33597d11184e74caad1fb?s=128&d=identicon&r=PG&f=1", "display_name": "chris cozzens", "link": "https://stackoverflow.com/users/7143457/chris-cozzens"}, "edited": false, "score": 0, "creation_date": 1518641022, "post_id": 48795824, "comment_id": 84594173, "body": "thank you sir.  much appreciated! This has been killing me for way too long."}], "tags": [], "owner": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "is_accepted": true, "score": 1, "last_activity_date": 1518640881, "creation_date": 1518640881, "answer_id": 48795824, "question_id": 48795267, "link": "https://stackoverflow.com/questions/48795267/looping-through-object-and-mapping-to-a-new-object-in-a-specific-order/48795824#48795824", "title": "looping through object and mapping to a new object in a specific order", "body": "<ol>\n<li>Iterate the array while you still have space in your inventory</li>\n<li>Check that the current item still has quantity</li>\n<li>If it doesn't, skip it</li>\n<li>If it does, decrement the item's quantity and add that item to inventory</li>\n<li>Return the inventory</li>\n</ol>\n\n<p>Consider this code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const objList = [{\r\n    variantId: \"1111\",\r\n    quantity: 1\r\n  },\r\n  {\r\n    variantId: \"222222\",\r\n    quantity: 2\r\n  },\r\n  {\r\n    variantId: \"333333\",\r\n    quantity: 2\r\n  },\r\n  {\r\n    variantId: \"44444\",\r\n    quantity: 1\r\n  }\r\n];\r\n\r\nfunction distribute(list, count) {\r\n  // Track our distributed items\r\n  const ret = [];\r\n  // Clone and reverse the array input the array for good measure\r\n  let clone = list\r\n    .map(item =&gt; Object.assign({}, item))\r\n    .reverse();\r\n  // Start idx at the \"begining\"\r\n  let idx = clone.length - 1;\r\n  // Iterate through the inventory while we have room and items\r\n  while (count-- &amp;&amp; clone.length) {\r\n    // Push the current item\r\n    ret.push(clone[idx].variantId);\r\n    // Decrement the quantity of items\r\n    clone[idx].quantity--;\r\n    // If we are out of the item, remove it\r\n    if (!clone[idx].quantity) {\r\n      clone.splice(idx, 1);\r\n    }\r\n    // Go to the next item\r\n    idx--;\r\n    // If we reach the \"end\" of the inventory\r\n    if (!idx) {\r\n      // Go back to the \"begining\"\r\n      idx = clone.length - 1;\r\n    }\r\n  }\r\n  // Return our parceled items\r\n  return ret;\r\n}\r\n\r\n// Test it\r\nconsole.log(distribute(objList, 5))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 477, "user_id": 7143457, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/06721b829ae33597d11184e74caad1fb?s=128&d=identicon&r=PG&f=1", "display_name": "chris cozzens", "link": "https://stackoverflow.com/users/7143457/chris-cozzens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 48795824, "answer_count": 1, "score": -1, "last_activity_date": 1518640881, "creation_date": 1518638402, "question_id": 48795267, "link": "https://stackoverflow.com/questions/48795267/looping-through-object-and-mapping-to-a-new-object-in-a-specific-order", "title": "looping through object and mapping to a new object in a specific order", "body": "<p>I have a variable that looks like this:</p>\n\n<pre><code>var objList = [{variantId: \"1111\", quantity: 2},\n{variantId: \"222222\", quantity: 2},\n{variantId: \"333333\", quantity: 2},\n{variantId: \"44444\", quantity: 1}]\n</code></pre>\n\n<p>I am looking to write a function that takes in a number between 1 and all of the quantities added together ( in this example 7 ) then it will contstruct a new variable that has a total quantity of the input</p>\n\n<p>Items will be added in this order:</p>\n\n<ol>\n<li><p>variantId:1111 - add one of these to the new variable</p>\n\n<p>variantId:2222 - add one of these \"\"</p>\n\n<p>variantId:3333 - add on of these \"\"</p>\n\n<p>variantID:4444 - add the only one of these </p>\n\n<p>variantID:1111 - add the second one of these to new variable</p>\n\n<p>variantID:2222 - add the second one of these \"\"</p>\n\n<p>variantID:3333 - add the second one of these \"\"</p></li>\n</ol>\n\n<p>the function will look something like this. </p>\n\n<pre><code>function(x){\n    var newObj = [];\n    var i=0; \n    while(i&lt;x){\n     //logic to add the necessary item from the objList\n     // really struggling here\n     i++;\n\n    }\n    return newObj;\n}\n</code></pre>\n"}, {"tags": ["javascript", "microsoft-edge"], "comments": [{"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1518639938, "post_id": 48795264, "comment_id": 84593591, "body": "Do you get any error?"}, {"owner": {"reputation": 721, "user_id": 7404996, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/Vhaf0.gif?s=128&g=1", "display_name": "Giacomo Ciampoli", "link": "https://stackoverflow.com/users/7404996/giacomo-ciampoli"}, "reply_to_user": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1518640103, "post_id": 48795264, "comment_id": 84593682, "body": "Nope, in console everything ok"}, {"owner": {"reputation": 619, "user_id": 638153, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/874598ea25faedca2bf415f06a1c96c0?s=128&d=identicon&r=PG", "display_name": "Keith DC", "link": "https://stackoverflow.com/users/638153/keith-dc"}, "edited": false, "score": 0, "creation_date": 1522471258, "post_id": 48795264, "comment_id": 86176641, "body": "The problem I&#39;m seeing is with <code>replace()</code>. When stepping through my own (problematic) code, MS Edge shows <code>SCRIPT438: Object doesn&#39;t support property or method &#39;replace&#39;</code>. On the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/classList\" rel=\"nofollow noreferrer\">MDN page</a> it shows <code>replace</code> as <code>?</code> with a tooltip of <code>Compatibility unknown; please update this.</code>."}], "owner": {"reputation": 721, "user_id": 7404996, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/Vhaf0.gif?s=128&g=1", "display_name": "Giacomo Ciampoli", "link": "https://stackoverflow.com/users/7404996/giacomo-ciampoli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 213, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518639711, "creation_date": 1518638396, "last_edit_date": 1518639711, "question_id": 48795264, "link": "https://stackoverflow.com/questions/48795264/classlist-remove-seems-not-working-in-edge", "title": "ClassList Remove seems not working in Edge", "body": "<p>I have implemented this animated tabs in my app, following <a href=\"https://codepen.io/Gillispeare/pen/bLWREr\" rel=\"nofollow noreferrer\">this setup</a> on codepen.\nNow, instead of jquery I wanted use vanilla Javascript, this is what I wrote:</p>\n\n<pre><code>&lt;div class=\"slides\"&gt;\n              &lt;div class=\"slides__slide\"&gt;\n                &lt;span class=\"slide-title\"&gt;\n                  &lt;a href=\"#\"&gt;yoga coaching&lt;/a&gt;\n                  &lt;i class=\"ion-chevron-down\"&gt;&lt;/i&gt;\n                &lt;/span&gt;\n                  &lt;div class=\"experience__content\"&gt;\n                    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Excepturi rem ab voluptate provident voluptatum\n                    veniam cupiditate beatae expedita veritatis aliquid officia doloribus dolore maiores doloremque mollitia! A ducimus autem ut!\n                    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ducimus obcaecati velit autem tenetur doloribus perferendis esse odit\n                    animi quasi deserunt recusandae perspiciatis a sapiente aliquam qui libero dolor officiis assumenda.\n                  &lt;/div&gt;\n                &lt;/div&gt;\n</code></pre>\n\n<p>this is the javascript:</p>\n\n<pre><code>const slideTitles = Array.from(document.querySelectorAll('.slide-title'));\nlet activeClasses = []\nslideTitles.forEach(function(el){\n  el.addEventListener('click',function(){\n    if(activeClasses.length&gt;0){\n      activeClasses[0].classList.remove('active')\n      activeClasses[0].firstElementChild.getElementsByTagName('i')[0].classList.replace('ion-chevron-up','ion-chevron-down')\n      //activeClasses[0].firstElementChild.lastElementChild.classList.replace('ion-chevron-up','ion-chevron-down')\n      activeClasses = []\n    }\n    this.parentElement.classList.add('active')\n    this.lastElementChild.classList.replace('ion-chevron-down','ion-chevron-up')\n    activeClasses.push(this.parentElement)\n  })\n})\n</code></pre>\n\n<p>This implementation works well in chrome, firefox opera (I cannot test it on Safari at the moment) but in Edge I have some problem: first of all, when a slide is clicked, the width is incremented first, and then the position (with no transition effect apparently), this happens also in the codepen, but in my implementetion also the remove classList function seems not works: because if i click to another card, the one that is previously selected remains in an active position, and does not go up.</p>\n\n<p>The classList implementation seems work in Edge, and also the code I wrote works in another browser..</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 33816, "user_id": 9664, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/34d380684d276ce51be4e13fecca03cd?s=128&d=identicon&r=PG", "display_name": "Metro Smurf", "link": "https://stackoverflow.com/users/9664/metro-smurf"}, "edited": false, "score": 0, "creation_date": 1518638993, "post_id": 48795241, "comment_id": 84593125, "body": "More info on <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions\" rel=\"nofollow noreferrer\">MDN Functions</a>."}], "answers": [{"tags": [], "owner": {"reputation": 6698, "user_id": 2212031, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/08b0e0e51adbb9af4a0ec4f06301b6ef?s=128&d=identicon&r=PG", "display_name": "Quentin Roy", "link": "https://stackoverflow.com/users/2212031/quentin-roy"}, "is_accepted": false, "score": 1, "last_activity_date": 1518640772, "last_edit_date": 1518640772, "creation_date": 1518639251, "answer_id": 48795455, "question_id": 48795241, "link": "https://stackoverflow.com/questions/48795241/confusion-regarding-function-keyword-in-javascript/48795455#48795455", "title": "Confusion regarding function keyword in Javascript", "body": "<p><code>new Function</code> creates a new function using the function constructor (the function called 'Function' with a capitalized 'F').</p>\n\n<p>The confusion comes from the fact that in javascript, constructors are defined just like any other functions (they actually are normal functions).</p>\n\n<p><code>const o = new function(){ this.foo = \"bar\"; };</code> defines an anonymous function (that happens to assign stuffs to <code>this</code> so we could call it a constructor), and uses it to initialize a new object (just created by the <code>new</code> keyword). It is similar to:</p>\n\n<pre><code>function A(){ /* ... */ };\nconst apple = new A;  // or `new A()` but the parentheses are facultative if\n                      // there is no arguments\n</code></pre>\n\n<p>The only difference is that in your case, the function A has no name and is used only once, immediately after being created.</p>\n\n<p>Your example above is (almost) similar to:</p>\n\n<pre><code>var apple = {\n  type: \"macintosh\",\n  color: \"red\",\n  getInfo () {\n    return this.color + ' ' + this.type + ' apple';\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6127, "user_id": 2236921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfceb3e027563f0e5dd8ec8d45b70d63?s=128&d=identicon&r=PG", "display_name": "Lennholm", "link": "https://stackoverflow.com/users/2236921/lennholm"}, "is_accepted": false, "score": 0, "last_activity_date": 1518640578, "last_edit_date": 1518640578, "creation_date": 1518639835, "answer_id": 48795606, "question_id": 48795241, "link": "https://stackoverflow.com/questions/48795241/confusion-regarding-function-keyword-in-javascript/48795606#48795606", "title": "Confusion regarding function keyword in Javascript", "body": "<p>The <code>new</code> keyword is used with a constructor to create an object instance. Constructors ARE functions, and functions are a type of objects. </p>\n\n<p>By convention, constructors are named with a capital letter first. <code>new Function()</code> uses the <code>Function</code> constructor to create a new function object. It's not extremely useful, but it can be used to dynamically create runnable code (which also means it comes with many potential risks).<br>\nJust like with any object created with <code>new</code>, the result <em>is an instance</em> of its constructor, in this case <code>Function</code>.</p>\n\n<p><code>new function() {}</code> simply uses an anonymous function as the constructor. Inside the function body <code>this</code> will be the new object instance being created. This doesn't make a lot of sense since the purpose of instantiating an object is to make it have a recognizable \"type\" and get properties from a <code>prototype</code>, neither of which is possible with an anonymous function as the constructor.</p>\n\n<p><code>var getRectArea = function(width, height) { return width * height; }</code> is simply creating a function and assigning it to a variable named <code>getRectArea</code>. The function could be intended to be used as a constructor, but in this case it's just a regular function that returns a value.<br>\nThe function is still an instance of <code>Function</code>, so in theory it can be seen as a shorthand for using the <code>new Function</code> constructor, but in reality it means that the function is interpreted before runtime so that the Javascript interpreter can syntax check it and optimize it, which would be deferred to runtime if it was written as <code>new Function(\"width\", \"height\", \"return width * height\")</code></p>\n"}], "owner": {"reputation": 9, "user_id": 9361869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79a5cb6b64017627c19c7ec7aabdbffa?s=128&d=identicon&r=PG&f=1", "display_name": "Junior", "link": "https://stackoverflow.com/users/9361869/junior"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "closed_date": 1518640575, "answer_count": 2, "score": 0, "last_activity_date": 1518640772, "creation_date": 1518638312, "last_edit_date": 1518638669, "question_id": 48795241, "link": "https://stackoverflow.com/questions/48795241/confusion-regarding-function-keyword-in-javascript", "closed_reason": "Duplicate", "title": "Confusion regarding function keyword in Javascript", "body": "<p>I have been learning JavaScript on my own and i came across the use of function keyword function in JavaScript. To be more specific here three different examples of its use. Especially <code>new function</code> in the second example confuses me why new and why not capital <code>F</code></p>\n\n<pre><code>var sum = new Function('a', 'b', 'return a + b');\n\nconsole.log(sum(2, 6));\n// expected output: 8\n\n\n----------------------------------------------------------------\n\nvar apple = new function () {\n    this.type = \"macintosh\";\n    this.color = \"red\";\n    this.getInfo = function () {\n        return this.color + ' ' + this.type + ' apple';\n    };\n}\n\n\napple.color = \"reddish\";\nconsole.log(apple.getInfo());\n// expected output: \"reddish macintosh apple\"\n--------------------------------------------------------------------\n\n\nvar getRectArea = function(width, height) {\n    return width * height;\n}\n\nconsole.log(getRectArea(3,4));\n// expected output: 12\n\n\n\n-------------------------------------------------------------------------- \n</code></pre>\n"}, {"tags": ["javascript", "asynchronous", "promise"], "answers": [{"tags": [], "owner": {"reputation": 7202, "user_id": 3068233, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cbb28ff8b495b305b288cfa61247ad21?s=128&d=identicon&r=PG", "display_name": "Ulad Kasach", "link": "https://stackoverflow.com/users/3068233/ulad-kasach"}, "is_accepted": false, "score": 0, "last_activity_date": 1518717782, "last_edit_date": 1518717782, "creation_date": 1518638288, "answer_id": 48795237, "question_id": 48795236, "link": "https://stackoverflow.com/questions/48795236/how-to-add-a-custom-property-or-method-to-a-promise/48795237#48795237", "title": "How to add a custom property or method to a promise?", "body": "<p>If you know the properties you wish to add in advance you can simply append a property to the promise like you would any other object:</p>\n\n<pre><code>view_loader.load = function(path){\n    return this.then((view_loader)=&gt;{\n        return view_loader.load(path)\n    })\n}\nview_loader.load(...) // now works!\n</code></pre>\n\n<p>Here's a function that does this for a dynamic set of properties:</p>\n\n<pre><code>function modify_orig_promise(original_promise, properties_to_append){\n    var blacklist = [\"then\", \"catch\", \"spread\"];\n    var function_keys = Object.keys(properties_to_append);\n    for(var i = 0; i &lt; function_keys.length; i++){\n        var function_key = function_keys[i];\n        if(blacklist.indexOf(function_key) &gt; -1) {\n            console.warn(\"properties_to_append in require(__, {functions : {} }) included a blacklisted function name : `\"+key+\"`. skipping this property.\")\n        } else {\n            var requested_function = properties_to_append[function_key];\n            original_promise[function_key] = requested_function; // append the function to the promise\n        }\n    }\n    return original_promise;\n}\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>var properties_to_append = {\n    load : function(path){\n        return this.then((view_loader)=&gt;{ return view_loader.load(path)}) \n    }\n}\nmodified_require = modify_orig_promise(require(\"clientside-view-loader\"), properties_to_append);\nmodified_require.load(\"clientside-view-modal-login_signup\") // Works\n</code></pre>\n\n<hr>\n\n<p>If you dont know the properties in advance (e.g., the properties are determined from a promise) you'll need to use a proxy that waits until that promise resolves to respond. This is answered here: <a href=\"https://stackoverflow.com/questions/48812252/how-to-add-properties-to-a-promise-asynchronously\">How to add properties to a promise asynchronously?</a></p>\n"}, {"comments": [{"owner": {"reputation": 7202, "user_id": 3068233, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cbb28ff8b495b305b288cfa61247ad21?s=128&d=identicon&r=PG", "display_name": "Ulad Kasach", "link": "https://stackoverflow.com/users/3068233/ulad-kasach"}, "edited": false, "score": 0, "creation_date": 1518711232, "post_id": 48796190, "comment_id": 84626740, "body": "Is there anyway that I can &quot;resolve&quot; this builder class <code>ClientSideViewLoader</code> from a promise? e.g., <code>require(&quot;clientside-view-loader&quot;)</code> resolves <code>ClientSideViewLoader.init()</code>?   My problem is that the <code>load</code> and <code>generate</code> methods are defined asynchronously."}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 7202, "user_id": 3068233, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cbb28ff8b495b305b288cfa61247ad21?s=128&d=identicon&r=PG", "display_name": "Ulad Kasach", "link": "https://stackoverflow.com/users/3068233/ulad-kasach"}, "edited": false, "score": 0, "creation_date": 1518712257, "post_id": 48796190, "comment_id": 84627432, "body": "@UladKasach Of course you can make a module that directly returns a builder instance. But I&#39;m not sure what you mean by &quot;asynchronously&quot; - no, the builder methods must be defined from the get go, otherwise the builder calls would need to be placed inside a promise chain - quite pointless."}, {"owner": {"reputation": 7202, "user_id": 3068233, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cbb28ff8b495b305b288cfa61247ad21?s=128&d=identicon&r=PG", "display_name": "Ulad Kasach", "link": "https://stackoverflow.com/users/3068233/ulad-kasach"}, "edited": false, "score": 0, "creation_date": 1518713106, "post_id": 48796190, "comment_id": 84627970, "body": "I&#39;ve clarified my question at <a href=\"https://stackoverflow.com/questions/48812252/how-to-add-properties-to-a-promise-asynchronously\" title=\"how to add properties to a promise asynchronously\">stackoverflow.com/questions/48812252/&hellip;</a>,  since i was too general in the original question on this thread. Could you take a look?"}], "tags": [], "owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "is_accepted": true, "score": 4, "last_activity_date": 1518642285, "creation_date": 1518642285, "answer_id": 48796190, "question_id": 48795236, "link": "https://stackoverflow.com/questions/48795236/how-to-add-a-custom-property-or-method-to-a-promise/48796190#48796190", "title": "How to add a custom property or method to a promise?", "body": "<blockquote>\n  <p>How can we modify a promise to attach a custom property so that we can convert the above into the following?</p>\n</blockquote>\n\n<p>You don't modify promises at all. You just implement the builder pattern for the above promise chain.</p>\n\n<pre><code>class ClientSideViewLoader {\n  constructor(p = Promise.resolve()) {\n    this.promise = p;\n  }\n  static init() {\n    return new this(require(\"clientside-view-loader\"));\n  }\n  load(x) {\n    return new this.constructor(this.promise.then(view =&gt;\n      view.load(x)\n    ));\n  }\n  generate() {\n    return new this.constructor(this.promise.then(compiler =&gt; \n      compiler.generate()\n    ));\n  }\n  then(...args) {\n    return this.promise.then(...args);\n  }\n}\n\nClientSideViewLoader.init()\n.load(\"clientside-view-modal-login_signup\")\n.generate()\n.then(modal =&gt; {\n  document.body.appendChild(modal);\n  modal.show(\"login\");\n})\n</code></pre>\n\n<p>No need to do anything complicated like subclassing <code>Promise</code>. If you want, you can also dynamically generate all these methods.</p>\n\n<blockquote>\n  <p>This is UGLY!</p>\n</blockquote>\n\n<p>Well, if you were looking for beautiful promise code, you would simply use modern <code>async</code>/<code>await</code> syntax instead of <code>then</code> callbacks:</p>\n\n<pre><code>const view = await require(\"clientside-view-loader\");\nconst compiler = await view.load(\"clientside-view-modal-login_signup\");\nconst modal = await compiler.generate();\ndocument.body.appendChild(modal);\nmodal.show(\"login\");\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 29842, "user_id": 1641941, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Q8zet.png?s=128&g=1", "display_name": "HMR", "link": "https://stackoverflow.com/users/1641941/hmr"}, "edited": false, "score": 1, "creation_date": 1518664835, "post_id": 48796650, "comment_id": 84601797, "body": "If arrow functions need to return an object literal however you need to use parentheses: <code>x=&gt;({someProp:x})</code>"}], "tags": [], "owner": {"reputation": 25126, "user_id": 578288, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5b2b185c814bb25f2f95a1152e58f033?s=128&d=identicon&r=PG", "display_name": "Rory O&#39;Kane", "link": "https://stackoverflow.com/users/578288/rory-okane"}, "is_accepted": false, "score": 1, "last_activity_date": 1518644247, "creation_date": 1518644247, "answer_id": 48796650, "question_id": 48795236, "link": "https://stackoverflow.com/questions/48795236/how-to-add-a-custom-property-or-method-to-a-promise/48796650#48796650", "title": "How to add a custom property or method to a promise?", "body": "<p>Your initial code can be made shorter and more readable simply by using different syntax for your <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\" rel=\"nofollow noreferrer\">arrow functions</a>. These two rules of arrow function syntax are relevant:</p>\n\n<ul>\n<li>parentheses are optional around the only argument of single-argument functions</li>\n<li>single-statement functions that return a value can have the <code>{}</code> and the <code>return</code> removed</li>\n</ul>\n\n<p>Thus, you could write your code like this, with the short form <code>view =&gt; \u2026</code> instead of <code>(view) =&gt; { return \u2026; }</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>require(\"clientside-view-loader\")\n    .then(view =&gt; view.load(\"clientside-view-modal-login_signup\"))\n    .then(compiler =&gt; compiler.generate())\n    .then(modal =&gt; {\n        document.body.appendChild(modal);\n        modal.show(\"login\");\n    });\n</code></pre>\n"}], "owner": {"reputation": 7202, "user_id": 3068233, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cbb28ff8b495b305b288cfa61247ad21?s=128&d=identicon&r=PG", "display_name": "Ulad Kasach", "link": "https://stackoverflow.com/users/3068233/ulad-kasach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1411, "favorite_count": 0, "accepted_answer_id": 48796190, "answer_count": 3, "score": 1, "last_activity_date": 1518717782, "creation_date": 1518638288, "question_id": 48795236, "link": "https://stackoverflow.com/questions/48795236/how-to-add-a-custom-property-or-method-to-a-promise", "title": "How to add a custom property or method to a promise?", "body": "<p>Regular promises have the beloved <code>.then()</code> and <code>.catch()</code> functions.</p>\n\n<p>When <code>promising</code> to retrieve an object that itself has properties that return promises we find chains of promises such as the following:</p>\n\n<pre><code>require(\"clientside-view-loader\")\n    .then((view)=&gt;\n        return view.load(\"clientside-view-modal-login_signup\");\n    })\n    .then((compiler)=&gt;{\n        return compiler.generate()\n    })\n    .then((modal)=&gt;{\n        document.body.appendChild(modal);\n        modal.show(\"login\");\n    })\n</code></pre>\n\n<p>This is UGLY!</p>\n\n<p>How can we modify a promise to attach a custom property so that we can convert the above into the following?</p>\n\n<pre><code>require(\"clientside-view-loader\")\n    .load(\"clientside-view-modal-login_signup\")\n    .generate()\n    .then((modal)=&gt;{\n        document.body.appendChild(modal);\n        modal.show(\"login\");\n    })\n</code></pre>\n\n<p><em>note, these examples use the <a href=\"https://npmjs.com/package/clientside-require\" rel=\"nofollow noreferrer\"><code>clientside-require</code></a> <code>require</code> and not the <code>nodejs</code> <code>require</code></em></p>\n"}, {"tags": ["javascript", "svg", "microsoft-edge"], "comments": [{"owner": {"reputation": 101196, "user_id": 1038015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d912dac5c74b47bbaff7164f5f8bb8?s=128&d=identicon&r=PG", "display_name": "Robert Longson", "link": "https://stackoverflow.com/users/1038015/robert-longson"}, "edited": false, "score": 0, "creation_date": 1518644208, "post_id": 48795206, "comment_id": 84595736, "body": "Perhaps Edge doesn&#39;t support ~ I&#39;m actually surprised that anything does really."}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 1, "creation_date": 1518660476, "post_id": 48795206, "comment_id": 84600856, "body": "What if you try to reset your object&#39;s data after you attached th event handler? (<code>svgImg.addEventListener( .... }); svgImg.data = svgImg.data;</code>). Safari <a href=\"https://stackoverflow.com/questions/34677628/load-event-not-fired-on-safari-when-reloading-page/34678969#34678969\">had a <i>bug</i></a> (which wasn&#39;t really one according to specs...) where they fired the event even before you had a chance to attach it. Maybe Edge does the same."}, {"owner": {"reputation": 297, "user_id": 6655485, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/771eacba9044231e4f1125821f2aa6f6?s=128&d=identicon&r=PG&f=1", "display_name": "starx207", "link": "https://stackoverflow.com/users/6655485/starx207"}, "reply_to_user": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 0, "creation_date": 1518700987, "post_id": 48795206, "comment_id": 84619552, "body": "@Kaiido, you should post that as an answer, because that fixed it right up for me!"}], "owner": {"reputation": 297, "user_id": 6655485, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/771eacba9044231e4f1125821f2aa6f6?s=128&d=identicon&r=PG&f=1", "display_name": "starx207", "link": "https://stackoverflow.com/users/6655485/starx207"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 191, "favorite_count": 0, "closed_date": 1518705607, "answer_count": 0, "score": 1, "last_activity_date": 1518644147, "creation_date": 1518638181, "last_edit_date": 1518644147, "question_id": 48795206, "link": "https://stackoverflow.com/questions/48795206/svg-onload-event-listener-doesnt-seem-to-fire-in-edge", "closed_reason": "Duplicate", "title": "SVG onload event listener doesn&#39;t seem to fire in Edge", "body": "<p>I have an SVG image on my website that gets customized with information from the server when the page loads. I've included the image using an <code>&lt;object&gt;</code> tag. I then use javascript to change the text in the svg when it loads:</p>\n\n<pre><code>&lt;body&gt;\n\n...\n\n&lt;object id=\"svg-img\" data=\"~/Images/svg-img.svg\" type=\"image/svg+xml\"&gt;&lt;/object&gt;\n\n...\n\n&lt;script&gt;\n    var svgImg = document.getElementById(\"svg-img\");\n\n    svgImg.addEventListener(\"load\", function () {\n        var svgDoc = svgImg.contentDocument;\n        svgDoc.getElementById(\"element-to-change\").textContent = \"New content received by the server\";\n    }, false);\n&lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>This works exactly as expected on all browsers except Microsoft Edge. When I debug using the Edge developer tools and set a breakpoint inside the event listener, it never hits the breakpoint; leading me to believe the event isn't firing. Is there something different I need to do to get this to work in Edge?</p>\n"}, {"tags": ["javascript", "node.js", "promise", "es6-promise", "firefox-addon-webextensions"], "answers": [{"comments": [{"owner": {"reputation": 321, "user_id": 8895827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26a0a9da048a615648128aaeb621bafc?s=128&d=identicon&r=PG&f=1", "display_name": "Charles Bisbee", "link": "https://stackoverflow.com/users/8895827/charles-bisbee"}, "edited": false, "score": 0, "creation_date": 1519022572, "post_id": 48795266, "comment_id": 84724540, "body": "This did it.  Thanks to all who answered.  I had a &quot;work around&quot; using await but tried that approach for something else and it is not working."}], "tags": [], "owner": {"reputation": 6698, "user_id": 2212031, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/08b0e0e51adbb9af4a0ec4f06301b6ef?s=128&d=identicon&r=PG", "display_name": "Quentin Roy", "link": "https://stackoverflow.com/users/2212031/quentin-roy"}, "is_accepted": false, "score": 3, "last_activity_date": 1518638709, "last_edit_date": 1518638709, "creation_date": 1518638401, "answer_id": 48795266, "question_id": 48795187, "link": "https://stackoverflow.com/questions/48795187/returning-a-promise-from-the-then-of-another-promise/48795266#48795266", "title": "returning a promise from the then of another promise", "body": "<p><code>level2</code> does not return anything when <code>testError</code> is true.</p>\n\n<p>The thenable (the function given to <code>then</code>) is a function. The return statement inside the thenable only concern the thenable itself (just like any function).</p>\n\n<p>Change to </p>\n\n<pre><code>function level2() {\n  if (testError) {\n    return new Promise((resolve, reject) =&gt; {\n      resolve(\"Level 2\");\n    }).then(() =&gt; {\n      return level3();\n    });\n  }\n  return level3();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1176, "user_id": 4313043, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VkCgIga9yIw/AAAAAAAAAAI/AAAAAAAAAME/P86Tdcri8mI/photo.jpg?sz=128", "display_name": "Hargo", "link": "https://stackoverflow.com/users/4313043/hargo"}, "is_accepted": false, "score": 0, "last_activity_date": 1518638411, "creation_date": 1518638411, "answer_id": 48795271, "question_id": 48795187, "link": "https://stackoverflow.com/questions/48795187/returning-a-promise-from-the-then-of-another-promise/48795271#48795271", "title": "returning a promise from the then of another promise", "body": "<p>You need to <code>return</code> the <code>new Promise</code> you create in the <code>level2</code> function.</p>\n"}, {"tags": [], "owner": {"reputation": 2897, "user_id": 3925120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1570dc8babc3c9f39ba3867da94d14e4?s=128&d=identicon&r=PG", "display_name": "Max Shenfield", "link": "https://stackoverflow.com/users/3925120/max-shenfield"}, "is_accepted": true, "score": 1, "last_activity_date": 1518665088, "last_edit_date": 1518665088, "creation_date": 1518638444, "answer_id": 48795278, "question_id": 48795187, "link": "https://stackoverflow.com/questions/48795187/returning-a-promise-from-the-then-of-another-promise/48795278#48795278", "title": "returning a promise from the then of another promise", "body": "<p>I think it's as simple as adding a <code>return</code> before <code>new Promise...</code> in line 12. Revised code:</p>\n\n<pre><code>function topLevel() {\n  level2()\n  .then(() =&gt; {\n    console.log(\"topLevel resolved\")\n  })\n}\n\nlet testError = true;\n\nfunction level2() {\n  if(testError) {\n    // Added \"return\" here\n    return new Promise((resolve, reject) =&gt; {\n      resolve(\"Level 2\");\n    })\n    .then(() =&gt; {\n      return (level3());\n    })\n  }\n  else {\n    return (level3());\n  }\n}\n\nfunction level3() {\n  return (new Promise((resolve, reject) =&gt; {\n    resolve(\"Level 3\");\n  }));\n}\n</code></pre>\n"}], "owner": {"reputation": 321, "user_id": 8895827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26a0a9da048a615648128aaeb621bafc?s=128&d=identicon&r=PG&f=1", "display_name": "Charles Bisbee", "link": "https://stackoverflow.com/users/8895827/charles-bisbee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5398, "favorite_count": 1, "accepted_answer_id": 48795278, "answer_count": 3, "score": 5, "last_activity_date": 1518665088, "creation_date": 1518638122, "question_id": 48795187, "link": "https://stackoverflow.com/questions/48795187/returning-a-promise-from-the-then-of-another-promise", "title": "returning a promise from the then of another promise", "body": "<p>i am a little new at this.  Please help</p>\n\n<p>I am trying to return a promise from a function.  This seems to work well until I try to return the promise in the then of an existing promise.</p>\n\n<p>I am trying to do this in a FireFox extension.  The code below is written for node.js as I thought it might give more explanation.  I cannot figure out how to make it work.</p>\n\n<p>function topLevel calls function level2.  level2 waits for a promise to resolve and then returns a promise to level1.  level1 logs in its .then.</p>\n\n<p>level2 calls level3 after its internal promise is resolved and returns a new promise</p>\n\n<p>In the example all promises resolve immediately.  The example is paired down to the essentials</p>\n\n<pre><code>function topLevel() {\n  level2()\n  .then(() =&gt; {\n      console.log(\"topLevel resolved\")\n    })\n}\n\nlet testError=true;\n\nfunction level2() {\n  if(testError) {\n    new Promise((resolve, reject) =&gt; {\n      resolve(\"Level 2\");\n    })\n      .then(() =&gt; {\n        return (level3());\n      })\n  }\n  else {\n    return (level3());\n  }\n}\n\n\nfunction level3(){\n  return (new Promise((resolve, reject) =&gt; {\n    resolve(\"Level 3\");\n  }));\n\n\n}\n\n\ntopLevel();\n</code></pre>\n\n<p>there is a variable \"testError\" which changes the behavior of level 2.  When set to \"true\"  level2 waits for a promise and returns a promise from level3 in that promises then statement.  level3 is run but the console.log in level1 never executes and an error results. When set to false everything works (promise from level3 is returned directly rather than in .then.  The error is Cannot read property 'then' of undefined in toplevel .then.</p>\n\n<p>The firefox webextension code from a background script is below</p>\n\n<pre><code>browser.browserAction.onClicked.addListener(topLevel);\n\n\nfunction topLevel() {\n  level2()\n  .then(() =&gt; {\n      console.log(\"topLevel resolved\")\n    })\n}\n\n\nfunction level2() {\n  new Promise((resolve, reject) =&gt; {\n    resolve(\"Level 2\");\n  })\n    .then(() =&gt; {\n      return (level3());\n    })\n}\n\n\nfunction level3(){\n\n  return (new Promise((resolve, reject) =&gt; {\n    resolve(\"Level 3\");\n  }));\n\n\n}\n</code></pre>\n\n<p>It causes a warning in level2 between the .then and return statements that \n\"level2 is undefined\".  and again the log in level one never happens.</p>\n\n<p>Any way to make this work??  I need to rely on this pattern</p>\n"}, {"tags": ["javascript", "design-patterns", "functional-programming"], "comments": [{"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1518638167, "post_id": 48795166, "comment_id": 84592733, "body": "So you understand the syntax of the arrow functions? And you could produce the code for <code>test</code> with <code>function</code>?"}, {"owner": {"reputation": 18897, "user_id": 8059459, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9f0fc0fd607fc44a4597cacb7f034ba6?s=128&d=identicon&r=PG&f=1", "display_name": "Willem van der Veen", "link": "https://stackoverflow.com/users/8059459/willem-van-der-veen"}, "reply_to_user": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1518638198, "post_id": 48795166, "comment_id": 84592752, "body": "yes, they are declaring other functions"}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1518638285, "post_id": 48795166, "comment_id": 84592792, "body": "What in particular is vague? Would it help to introduce a temporary variable for the <code>test(&#39;foo&#39;)</code> part of the expression?"}, {"owner": {"reputation": 130214, "user_id": 772035, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/jAEqI.jpg?s=128&g=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/772035/paul"}, "edited": false, "score": 1, "creation_date": 1518638390, "post_id": 48795166, "comment_id": 84592849, "body": "<code>test</code> references an arrow function that when called returns another arrow function. <code>&#39;foo&#39;</code> is being passed in as an argument to <code>test</code> which only has one parameter named <code>fn</code> and that is probably not the best name for a variable holding a string and could be contributing to your confusion."}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1518638396, "post_id": 48795166, "comment_id": 84592854, "body": "Did you have a look at <a href=\"https://stackoverflow.com/q/32782922/1048572\">What do multiple arrow functions mean in javascript?</a>"}, {"owner": {"reputation": 18897, "user_id": 8059459, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9f0fc0fd607fc44a4597cacb7f034ba6?s=128&d=identicon&r=PG&f=1", "display_name": "Willem van der Veen", "link": "https://stackoverflow.com/users/8059459/willem-van-der-veen"}, "edited": false, "score": 0, "creation_date": 1518638437, "post_id": 48795166, "comment_id": 84592875, "body": "Got it now after rewriting, sorry kind of bad question"}], "answers": [{"tags": [], "owner": {"reputation": 17910, "user_id": 3963067, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1e536542e9baa5c52499d61fb64f51d3?s=128&d=identicon&r=PG&f=1", "display_name": "gmoniava", "link": "https://stackoverflow.com/users/3963067/gmoniava"}, "is_accepted": true, "score": 2, "last_activity_date": 1518638276, "creation_date": 1518638276, "answer_id": 48795233, "question_id": 48795166, "link": "https://stackoverflow.com/questions/48795166/javascript-function-inside-functions/48795233#48795233", "title": "Javascript function inside functions", "body": "<p>Let's rewrite this in a way which maybe more understandable for you</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const test = function(fn){\r\n\r\n  return function (){\r\n  \r\n   console.log(fn);\r\n   \r\n  }\r\n\r\n} \r\ntest('foo')();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Do you understand it now? If yes this is same as your example just uses normal function instead of arrow functions.</p>\n\n<p>You also need to know what a closure is to understand this.</p>\n"}, {"comments": [{"owner": {"reputation": 130214, "user_id": 772035, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/jAEqI.jpg?s=128&g=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/772035/paul"}, "edited": false, "score": 1, "creation_date": 1518644864, "post_id": 48795303, "comment_id": 84596013, "body": "ES5 doesn&#39;t have <code>const</code>."}, {"owner": {"reputation": 168, "user_id": 9356240, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xbcF474QyrQ/AAAAAAAAAAI/AAAAAAAAAFA/Gc4aIib3-0w/photo.jpg?sz=128", "display_name": "Tim Han", "link": "https://stackoverflow.com/users/9356240/tim-han"}, "reply_to_user": {"reputation": 130214, "user_id": 772035, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/jAEqI.jpg?s=128&g=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/772035/paul"}, "edited": false, "score": 0, "creation_date": 1518645028, "post_id": 48795303, "comment_id": 84596099, "body": "Yes you&#39;re totally right. I copied the code from the question and completely forgot about that. Thank you!"}], "tags": [], "owner": {"reputation": 168, "user_id": 9356240, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xbcF474QyrQ/AAAAAAAAAAI/AAAAAAAAAFA/Gc4aIib3-0w/photo.jpg?sz=128", "display_name": "Tim Han", "link": "https://stackoverflow.com/users/9356240/tim-han"}, "is_accepted": false, "score": 1, "last_activity_date": 1518645037, "last_edit_date": 1518645037, "creation_date": 1518638546, "answer_id": 48795303, "question_id": 48795166, "link": "https://stackoverflow.com/questions/48795166/javascript-function-inside-functions/48795303#48795303", "title": "Javascript function inside functions", "body": "<p>So this is basic concept of closure in JavaScript. If you rewrite the code in ES5:</p>\n\n<pre><code>var test = function(fn){\n  return function(){\n    console.log(fn);\n  };\n}\n\ntest('foo')();\n</code></pre>\n\n<p>So the inner function has access to the argument that was passed into the outer function. So that's why you are getting <code>\"foo\"</code></p>\n"}, {"tags": [], "owner": {"reputation": 3700, "user_id": 8339141, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f00f93d54fda2f5c1fbe9b21b48f5c95?s=128&d=identicon&r=PG&f=1", "display_name": "Roman", "link": "https://stackoverflow.com/users/8339141/roman"}, "is_accepted": false, "score": 2, "last_activity_date": 1518698465, "last_edit_date": 1518698465, "creation_date": 1518696919, "answer_id": 48807068, "question_id": 48795166, "link": "https://stackoverflow.com/questions/48795166/javascript-function-inside-functions/48807068#48807068", "title": "Javascript function inside functions", "body": "<p>As the answers already mentioned you are creating a closure.</p>\n\n<p>In my answer, I want to say <strong>what it is a closure good for</strong>:  </p>\n\n<p>Imagin you want to greet three persons and two of them are your frinds and one is your boss. You want to greet your frinds with <em>\"Hi\"</em> but your boss with <em>\"Hello\"</em>.</p>\n\n<pre><code>const greet = greetingWord =&gt; name =&gt;\n    `${greetingWord}, ${name}`\n\nconst greetFrind = greet('Hi')\nconst greetBoss = greet('Hello')\n</code></pre>\n\n<p>We create a function <code>greet</code> which takes one arguement an will return a new function with one argument too (<code>greet = greetingWord =&gt; name</code>). Once we implement it we can define a greeter for our frinds and for the boss.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const greet = greetingWord =&gt; name =&gt;\r\n  `${greetingWord}, ${name}`\r\n\r\nconst greetFrind = greet('Hi')\r\nconst greetBoss = greet('Hello')\r\n\r\nconsole.log(greetFrind('Paul'))\r\nconsole.log(greetFrind('Julia'))\r\nconsole.log(greetBoss('Mr. Paker'))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 18897, "user_id": 8059459, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9f0fc0fd607fc44a4597cacb7f034ba6?s=128&d=identicon&r=PG&f=1", "display_name": "Willem van der Veen", "link": "https://stackoverflow.com/users/8059459/willem-van-der-veen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 48795233, "answer_count": 3, "score": 0, "last_activity_date": 1544548153, "creation_date": 1518638051, "last_edit_date": 1544548153, "question_id": 48795166, "link": "https://stackoverflow.com/questions/48795166/javascript-function-inside-functions", "title": "Javascript function inside functions", "body": "<p>Today I observed the following syntax (simplified example):</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const test = fn =&gt; () =&gt; console.log(fn)\t\r\ntest('foo')();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Having a hard time wrapping my head around this but it still remains vague to me. What exactly happens step by step? </p>\n"}, {"tags": ["javascript", "css", "reactjs"], "comments": [{"owner": {"reputation": 24098, "user_id": 99777, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/851524689a35bd68e0ccd953997c99db?s=128&d=identicon&r=PG", "display_name": "joeytwiddle", "link": "https://stackoverflow.com/users/99777/joeytwiddle"}, "edited": false, "score": 0, "creation_date": 1522649847, "post_id": 48795157, "comment_id": 86219171, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/31402576/enable-focus-only-on-keyboard-use-or-tab-press\">Enable :focus only on keyboard use (or tab press)</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1089, "user_id": 648851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/142db8573338c747bb8a73435d553969?s=128&d=identicon&r=PG", "display_name": "Sitian Liu", "link": "https://stackoverflow.com/users/648851/sitian-liu"}, "is_accepted": false, "score": 0, "last_activity_date": 1518646509, "creation_date": 1518646509, "answer_id": 48797124, "question_id": 48795157, "link": "https://stackoverflow.com/questions/48795157/show-focus-outline-only-on-tabbing-not-on-mouse-click/48797124#48797124", "title": "Show focus outline only on tabbing not on mouse click", "body": "<p>There is already an excellent answer to this question:\n<a href=\"https://stackoverflow.com/questions/31402576/enable-focus-only-on-keyboard-use-or-tab-press\">Enable :focus only on keyboard use (or tab press)</a></p>\n\n<p>Take a look, the answer is very detailed. have fun coding.</p>\n"}], "owner": {"reputation": 83, "user_id": 5046136, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/b076ef08bd7cb8e65b1cdb07c8105f47?s=128&d=identicon&r=PG&f=1", "display_name": "Apple Pie", "link": "https://stackoverflow.com/users/5046136/apple-pie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 192, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518646509, "creation_date": 1518638034, "last_edit_date": 1518639855, "question_id": 48795157, "link": "https://stackoverflow.com/questions/48795157/show-focus-outline-only-on-tabbing-not-on-mouse-click", "title": "Show focus outline only on tabbing not on mouse click", "body": "<p>I am working on ReactJS web app, and I am adding specific outline style, but the outline shows up when a user clicks on it using a mouse. How can I make the outline to appear only for tabbing?</p>\n\n<pre><code>const Test = styled.div`\n &amp;:focus {\n  outline: 1px solid red;\n }\n`;\n</code></pre>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 630, "user_id": 9361705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3480b01ac2475fdc98d6d64b1f1d6143?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/9361705/john-doe"}, "edited": false, "score": 0, "creation_date": 1518638126, "post_id": 48795126, "comment_id": 84592720, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/25387081/javascript-read-radio-button-value-in-ie-and-firefox\">JavaScript read radio button value in IE and FireFox</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1975, "user_id": 2280332, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/njp6j.jpg?s=128&g=1", "display_name": "Felix Maxime", "link": "https://stackoverflow.com/users/2280332/felix-maxime"}, "edited": false, "score": 0, "creation_date": 1518638396, "post_id": 48795167, "comment_id": 84592856, "body": "Ah. That makes sense.  Perhaps we could all get together and collectively murder internet explorer?"}, {"owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 1975, "user_id": 2280332, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/njp6j.jpg?s=128&g=1", "display_name": "Felix Maxime", "link": "https://stackoverflow.com/users/2280332/felix-maxime"}, "edited": false, "score": 1, "creation_date": 1518639993, "post_id": 48795167, "comment_id": 84593616, "body": "Internet Explorer is already dead. It&#39;s just that some of its users haven&#39;t realised that yet."}], "tags": [], "owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": 3, "last_activity_date": 1518638053, "creation_date": 1518638053, "answer_id": 48795167, "question_id": 48795126, "link": "https://stackoverflow.com/questions/48795126/document-forms-value-returning-undefined-only-in-ie/48795167#48795167", "title": "document.forms.value returning &quot;undefined&quot; only in IE", "body": "<p>You have multiple elements with the same name.</p>\n\n<p><code>document.forms[\"imageSubmit\"][\"mature\"]</code> is a collection, not a single element.</p>\n\n<p>You need to loop over it (like an array) until you one the one with the true <code>checked</code> property.</p>\n\n<p>In HTML 5, <a href=\"https://html.spec.whatwg.org/multipage/common-dom-interfaces.html#radionodelist\" rel=\"nofollow noreferrer\">radio buttons are special cased</a> so a collection of them will have its own <code>value</code> property representing the currently checked radio button. Internet Explorer is too old to support this feature.</p>\n"}], "owner": {"reputation": 1975, "user_id": 2280332, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/njp6j.jpg?s=128&g=1", "display_name": "Felix Maxime", "link": "https://stackoverflow.com/users/2280332/felix-maxime"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 358, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518640068, "creation_date": 1518637894, "last_edit_date": 1518640068, "question_id": 48795126, "link": "https://stackoverflow.com/questions/48795126/document-forms-value-returning-undefined-only-in-ie", "title": "document.forms.value returning &quot;undefined&quot; only in IE", "body": "<p>So I've got a form. In this form I've got a radio button:</p>\n\n<pre><code>&lt;span&gt;\n    &lt;label&gt;\n      &lt;input type=\"radio\" name=\"mature\" value=\"0\"&gt;\n        All Ages\n      &lt;span class=\"checkmark\"&gt;&lt;/span&gt;\n    &lt;/label&gt;\n\n    &lt;label&gt;\n     &lt;input type=\"radio\" name=\"mature\" value=\"1\"&gt;\n        18+\n      &lt;span class=\"checkmark\"&gt;&lt;/span&gt;\n    &lt;/label&gt;    \n&lt;/span&gt;     \n</code></pre>\n\n<p>However, in my JS validation for this form, I noticed that in Internet Explorer, this radio button would always return an error.</p>\n\n<pre><code>if (document.forms[\"imageSubmit\"][\"mature\"].value == \"\" || document.forms[\"imageSubmit\"][\"mature\"].value == null) {\n    alert(document.forms[\"imageSubmit\"][\"mature\"].value);\n    return false;\n}   \n</code></pre>\n\n<p>So for example in this case, the alert will always return \"undefined\". But, again, only in internet explorer. </p>\n\n<p>Why is this happening?</p>\n\n<p>Edit:</p>\n\n<p>Thank you for the redirect. I've adjusted my code like so:</p>\n\n<pre><code>var mature = document.getElementsByName('mature');\nvar matureValue = false;\n\nfor(var i=0; i&lt;mature.length;i++){\n    if(mature[i].checked == true){\n        matureValue = true;    \n    }\n}\nif(!matureValue){\n    alert(\"Please fill the Viewing Restrictions field.\");\n    return false;\n}\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "firebase", "firebase-authentication"], "comments": [{"owner": {"reputation": 7023, "user_id": 1009750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03fb022490e92b64f35847758b42e2e8?s=128&d=identicon&r=PG", "display_name": "Panther", "link": "https://stackoverflow.com/users/1009750/panther"}, "edited": false, "score": 0, "creation_date": 1518671799, "post_id": 48795112, "comment_id": 84603383, "body": "A logical mistake ?? Your success call to <code>swal</code> after the <code>if (user.phoneNumber)</code> condition should be wrapped inside an <code>else</code> block. But it seems to be outside and executes regardless of the <code>phoneNumber</code> condition!!"}, {"owner": {"reputation": 3328, "user_id": 8551819, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-1cx48kbaLFg/AAAAAAAAAAI/AAAAAAAAABc/DNhDZ3EGIKA/photo.jpg?sz=128", "display_name": "Taylor Austin", "link": "https://stackoverflow.com/users/8551819/taylor-austin"}, "reply_to_user": {"reputation": 7023, "user_id": 1009750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03fb022490e92b64f35847758b42e2e8?s=128&d=identicon&r=PG", "display_name": "Panther", "link": "https://stackoverflow.com/users/1009750/panther"}, "edited": false, "score": 0, "creation_date": 1518723667, "post_id": 48795112, "comment_id": 84633840, "body": "Sorry for the late response, I will try this out and see if it works!"}, {"owner": {"reputation": 3328, "user_id": 8551819, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-1cx48kbaLFg/AAAAAAAAAAI/AAAAAAAAABc/DNhDZ3EGIKA/photo.jpg?sz=128", "display_name": "Taylor Austin", "link": "https://stackoverflow.com/users/8551819/taylor-austin"}, "reply_to_user": {"reputation": 7023, "user_id": 1009750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03fb022490e92b64f35847758b42e2e8?s=128&d=identicon&r=PG", "display_name": "Panther", "link": "https://stackoverflow.com/users/1009750/panther"}, "edited": false, "score": 0, "creation_date": 1518730730, "post_id": 48795112, "comment_id": 84637326, "body": "@Panther that did not fix the problem, although I should include the if there, I will try to be a little more specific of what is going on."}], "answers": [{"tags": [], "owner": {"reputation": 3328, "user_id": 8551819, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-1cx48kbaLFg/AAAAAAAAAAI/AAAAAAAAABc/DNhDZ3EGIKA/photo.jpg?sz=128", "display_name": "Taylor Austin", "link": "https://stackoverflow.com/users/8551819/taylor-austin"}, "is_accepted": true, "score": 0, "last_activity_date": 1518735884, "creation_date": 1518735884, "answer_id": 48817711, "question_id": 48795112, "link": "https://stackoverflow.com/questions/48795112/user-being-signed-in-with-phone-number-even-if-they-dont-provide-the-sms-code-i/48817711#48817711", "title": "User being signed in with phone number even if they don&#39;t provide the sms code in firebase with react", "body": "<p>Turns out the problem was that after this scenario happened:</p>\n\n<p><code>User signs in and has a phone number with sms enabled, puts in wrong verification code...</code> (Look in the question for more information about the matter)</p>\n\n<p>The <code>appVerifier</code> was invalid because the captcha had not been reset after a fail. So technically there was a valid captcha just not a new one I suppose and this was causing the sms part of the code to just not happen. I'm not sure why it wasn't throwing an error, but anyhow, in the <code>catch</code> block of <code>signInWithPhone</code> promise I just needed to add:</p>\n\n<pre><code>window.recaptchaVerifier.render().then(widgetId =&gt; {\n  window.recaptchaVerifier.reset(widgetId);\n});\n</code></pre>\n\n<p>This fixed it.</p>\n"}], "owner": {"reputation": 3328, "user_id": 8551819, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-1cx48kbaLFg/AAAAAAAAAAI/AAAAAAAAABc/DNhDZ3EGIKA/photo.jpg?sz=128", "display_name": "Taylor Austin", "link": "https://stackoverflow.com/users/8551819/taylor-austin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 48817711, "answer_count": 1, "score": 0, "last_activity_date": 1518735884, "creation_date": 1518637836, "last_edit_date": 1518730984, "question_id": 48795112, "link": "https://stackoverflow.com/questions/48795112/user-being-signed-in-with-phone-number-even-if-they-dont-provide-the-sms-code-i", "title": "User being signed in with phone number even if they don&#39;t provide the sms code in firebase with react", "body": "<p>I am running into a little bit of a problem here. Everything works fine in these scenarios for me:</p>\n\n<ol>\n<li><p>User signs in and has a phone number with sms enabled, gets the verification code and puts in the right code. User is signed in.</p></li>\n<li><p>User signs in and has a phone number with sms disabled. User is signed in without any sms process.</p></li>\n<li><p>User signs in and has no phone number. User is signed in without any sms process.</p></li>\n</ol>\n\n<p>what is not working correctly:</p>\n\n<ol>\n<li>User signs in and has a phone number with sms enabled, puts in wrong verification code. User is not signed in. This is how I want it to work. Now if the user stays on the login page and signs in with his/her email and password it is as if the entire phone process is skipped and it logs them in. However it does not act as if it goes though with the <code>signInWithPhoneNumber</code> process.</li>\n</ol>\n\n<p>For example in this scenario the user should be redirected to the home page through <code>this.setPage('home')</code>, but it nevers gets there, like I said it is as if it is being canceled out somehow, but the user is logged in.</p>\n\n<hr>\n\n<p><strong>EDIT :</strong></p>\n\n<p>A little more detail about this problem. If you look at the code you can see that no matter what the scenario a user will be alerted, whether he is logged in with or without sms. Also any errors are also alerts through the catch block. The reason it is hard for me to find this error is because there is no alert to the screen, it is as if it goes through the login with <code>signInWithPhoneNumber</code>, but the promise is just canceled and nothing else happens. </p>\n\n<p>Two things should happen when a user is logged in, one a user should get a popup of whether they logged in with or without sms, second a user should be redirected to the home page. Both of these work in all the top 3 scenarios, but what happens for this 4th senario is no popup and no redirect. It is as if the code is being stopped some where after a user is logged in.</p>\n\n<hr>\n\n<p>swal means sweetalert.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>login(event) {\n    event.preventDefault();\n    const email = this.loginEmail.value;\n    const password = this.loginPsw.value;\n    const appVerifier = window.recaptchaVerifier;\n\n    if (!this.verify) {\n      swal({\n        title: 'Oops...',\n        text: 'You forgot to complete the reCAPTCHA',\n        icon: 'error'\n      });\n\n      return;\n    }\n\n    fire\n      .auth()\n      .signInWithEmailAndPassword(email, password)\n      .then(user =&gt; {\n        if (user.phoneNumber) {\n          fire\n            .database()\n            .ref('2FA/' + user.uid)\n            .once('value', snap =&gt; {\n             // --&gt; even if snap.val() is true after user puts in wrong sms \n             // this value does not matter it passes true , \n             // but then I do not see any of the promise sequence happen from \n             // signInWithPhoneNumber\n              if (snap.val() === true) {\n                fire\n                  .auth()\n                  .signInWithPhoneNumber(`${user.phoneNumber}`, appVerifier)\n                  .then(confirmationResult =&gt; {\n                    if (confirmationResult) {\n                      swal({\n                        closeOnClickOutside: false,\n                        closeOnEsc: false,\n                        title: 'Success',\n                        text: 'Please provide use the verification code to continue',\n                        icon: 'success',\n                        buttons: true,\n                        dangerMode: false,\n                        content: {\n                          element: 'input',\n                          attributes: {\n                            placeholder: 'Confirmation code here',\n                            type: 'text'\n                          }\n                        }\n                      })\n                        .then(value =&gt; {\n                          if (!value) {\n                            throw new Error('Must provide a code to login.');\n                            return;\n                          }\n\n                          return confirmationResult.confirm(value);\n                        })\n                        .then(response =&gt; {\n                          return fire.auth().signInWithEmailAndPassword(email, password);\n                        })\n                        .then(user =&gt; {\n                          swal({\n                            title: 'Sucess',\n                            text: `${user.email} signed in with sms verification`,\n                            icon: 'success'\n                          });\n\n                          this.props.setPage('home');\n                        })\n                        .catch(err =&gt; {\n                          fire.auth().signOut();\n                          this.loginForm.reset();\n\n                          swal({ title: 'Oops...', text: `${err}`, icon: 'error' });\n                        });\n                    }\n                  })\n                  .catch(err =&gt; {\n                    fire.auth().signOut();\n                    this.loginForm.reset();\n\n                    swal({ title: 'Oops...', text: `${err}`, icon: 'error' });\n                  });\n              }\n            });\n\n          return;\n        }\n        swal({\n          title: 'Success',\n          text: `${user.email} signed in without sms verification.`,\n          icon: 'success'\n        });\n        this.props.setPage('home');\n      })\n      .catch(err =&gt; {\n        fire.auth().signOut();\n\n        swal({\n          title: 'Oops...',\n          text: `${err}`,\n          icon: 'error'\n        });\n      });\n  }\n</code></pre>\n"}]