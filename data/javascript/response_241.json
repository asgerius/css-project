[{"tags": ["javascript", "html", "button", "time"], "comments": [{"owner": {"reputation": 39296, "user_id": 560299, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c38fe465734e8428048585e0acf6174f?s=128&d=identicon&r=PG", "display_name": "Ibu", "link": "https://stackoverflow.com/users/560299/ibu"}, "edited": false, "score": 3, "creation_date": 1566431810, "post_id": 57600471, "comment_id": 101658112, "body": "When you run your code, check the web console. It should show you that you have some errors. You are calling <code>getElementById</code> before the elements are rendered on the page. Also, tell us what happens when the button is clicked currently."}, {"owner": {"reputation": 460, "user_id": 2804993, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ef2a254bec477bd2266241b76787257d?s=128&d=identicon&r=PG", "display_name": "Philippe", "link": "https://stackoverflow.com/users/2804993/philippe"}, "edited": false, "score": 0, "creation_date": 1566433819, "post_id": 57600471, "comment_id": 101658413, "body": "it appears you are using a variable called now that isn&#39;t defined, do you mean <code>Date.now().getHours()</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 604, "user_id": 11728928, "user_type": "registered", "profile_image": "https://graph.facebook.com/2397435613656409/picture?type=large", "display_name": "Fabio Assuncao", "link": "https://stackoverflow.com/users/11728928/fabio-assuncao"}, "is_accepted": true, "score": 1, "last_activity_date": 1566434327, "creation_date": 1566434327, "answer_id": 57600682, "question_id": 57600471, "link": "https://stackoverflow.com/questions/57600471/how-can-i-alter-an-html-buttons-output-based-on-time-of-day/57600682#57600682", "title": "How can I alter an HTML button&#39;s output based on time of day?", "body": "<p>I did this with your javascript and it worked for me.</p>\n\n<pre><code>let Slot1Cntr = \"\";\nlet Slot2Cntr = \"\";\nlet Slot3Cntr = \"\";\n\nwindow.onload=function(){\n      Slot1Cntr = document.getElementById('SL1').innerHTML;\n      Slot2Cntr = document.getElementById('SL2').innerHTML;\n      Slot3Cntr = document.getElementById('SL3').innerHTML;\n    }    \n\n    function addCntS1(){\n            Slot1Cntr++;\n            document.getElementById('SL1').innerHTML = Slot1Cntr;  \n    };\n    function addCnt2(){\n            Slot2Cntr++;\n            document.getElementById('SL2').innerHTML = Slot2Cntr;  \n    };\n    function addCnt3(){\n            Slot3Cntr++;\n            document.getElementById('SL3').innerHTML = Slot3Cntr;  \n    };\n\n    var now = new Date();\n\n    const timeN = now.getHours() === 19;\n    const timeNN = now.getHours() === 20; \n\n    function switchCounter() {\n            if (timeN) {\n                return addCntS1();\n            } else if (timeNN) {\n                return addCntS2();\n            } else {\n                return addCnt3();\n            };\n        };\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 10958314, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ac7ztMCrzbI/AAAAAAAAAAI/AAAAAAAAAcg/rwSS-eTm5v0/photo.jpg?sz=128", "display_name": "Jason B", "link": "https://stackoverflow.com/users/10958314/jason-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 57600682, "answer_count": 1, "score": 0, "last_activity_date": 1566434327, "creation_date": 1566431658, "question_id": 57600471, "link": "https://stackoverflow.com/questions/57600471/how-can-i-alter-an-html-buttons-output-based-on-time-of-day", "title": "How can I alter an HTML button&#39;s output based on time of day?", "body": "<p>I have click counters set to work during different times of day. I'm trying to have the counters all respond from the same HTML input, in my case it's a button. Essentially if the button is pressed during timeN (shown below), it should output via Slot 1. If it's not clicked during that period, it should output via Slot 3. </p>\n\n<p>I already have the code for different counters, and the times of day set to variables. I try calling them similarly to what's shown in my example below:</p>\n\n<pre><code>&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n&lt;title&gt;Document&lt;/title&gt;\n&lt;script type=\"text/javascript\"&gt;\n\n    let Slot1Cntr = document.getElementById('SL1').innerHTML;\n    let Slot2Cntr = document.getElementById('SL2').innerHTML;\n    let Slot3Cntr = document.getElementById('SL3').innerHTML;\n\n    function addCntS1(){\n            Slot1Cntr++;\n            document.getElementById('SL1').innerHTML = Slot1Cntr;  \n    };\n    function addCnt2(){\n            Slot2Cntr++;\n            document.getElementById('SL2').innerHTML = Slot2Cntr;  \n    };\n    function addCnt3(){\n            Slot3Cntr++;\n            document.getElementById('SL3').innerHTML = Slot3Cntr;  \n    };\n\n    const timeN = now.getHours() === 19;\n    const timeNN = now.getHours() === 20; \n\n    function switchCounter() {\n            if (timeN) {\n                return addCntS1();\n            } else if (timeNN) {\n                return addCntS2();\n            } else {\n                return addCnt3();\n            };\n        };\n\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div&gt;\n        &lt;button onClick=\"switchCounter()\" type=\"submit\"&gt;Destruct Earth&lt;/button&gt;\n            &lt;h1&gt;&lt;i&gt;Slot 1&lt;/i&gt;&lt;/h1&gt;\n            &lt;h1&gt;&lt;span id=\"SL1\"&gt;0&lt;/span&gt;&lt;/h1&gt;\n\n            &lt;h1&gt;&lt;i&gt;Slot 2&lt;/i&gt;&lt;/h1&gt;\n            &lt;h1&gt;&lt;span id=\"SL2\"&gt;0&lt;/span&gt;&lt;/h1&gt;\n\n            &lt;h1&gt;&lt;i&gt;Slot 3&lt;/i&gt;&lt;/h1&gt;\n            &lt;h1&gt;&lt;span id=\"SL3\"&gt;0&lt;/span&gt;&lt;/h1&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I'd like it if a press of the Destruct Earth button yields to \"Slot 3\" unless the time is aligned with const's timeN and timeNN, which would be 7 &amp; 8 PM respectively. Any feedback would be appreciated</p>\n"}, {"tags": ["javascript", "arrays", "object", "ecmascript-6", "counting"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1566431508, "post_id": 57600433, "comment_id": 101658061, "body": "You should use <code>reduce</code>. <code>map</code> always returns an array with the same number of elements, but you want to combine equivalent elements."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1566431557, "post_id": 57600433, "comment_id": 101658067, "body": "<code>i === item</code> isn&#39;t going to work with objects. It requires the objects to be the same, not just have equivalent properties. See <a href=\"https://stackoverflow.com/questions/201183/how-to-determine-equality-for-two-javascript-objects\" title=\"how to determine equality for two javascript objects\">stackoverflow.com/questions/201183/&hellip;</a>"}, {"owner": {"reputation": 823, "user_id": 5734187, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/kWzRW.png?s=128&g=1", "display_name": "kemakino", "link": "https://stackoverflow.com/users/5734187/kemakino"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1566502166, "post_id": 57600433, "comment_id": 101686830, "body": "@Barmar Indeed I haven&#39;t checked well if this code worked fine. I understood that I need further to remove the duplicates after the <code>map</code>. Thanks for your suggestion anyways."}], "answers": [{"tags": [], "owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": false, "score": 4, "last_activity_date": 1566431674, "creation_date": 1566431674, "answer_id": 57600473, "question_id": 57600433, "link": "https://stackoverflow.com/questions/57600433/summarize-the-frequency-of-array-of-objects/57600473#57600473", "title": "Summarize the frequency of array of objects", "body": "<p>Reduce into an object whose keys uniquely represent an object, whose values are the object (with <code>x</code>, <code>y</code>, and <code>f</code> properties). On each iteration, increment the appropriate key's <code>f</code> property, or create the key on the accumulator if it doesn't exist yet:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = [\r\n  { x: 1, y: 1 },\r\n  { x: 2, y: 2 },\r\n  { x: 3, y: 3 },\r\n  { x: 2, y: 2 },\r\n  { x: 1, y: 1 },\r\n  { x: 1, y: 2 },\r\n  { x: 1, y: 1 }\r\n];\r\nconst countObj = data.reduce((a, obj) =&gt; {\r\n  const objString = obj.x + '_' + obj.y;\r\n  if (!a[objString]) {\r\n    a[objString] = { ...obj, f: 1 };\r\n  } else {\r\n    a[objString].f++;\r\n  }\r\n  return a;\r\n}, {});\r\nconst output = Object.values(countObj);\r\nconsole.log(output);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "is_accepted": false, "score": 2, "last_activity_date": 1566431734, "creation_date": 1566431734, "answer_id": 57600480, "question_id": 57600433, "link": "https://stackoverflow.com/questions/57600433/summarize-the-frequency-of-array-of-objects/57600480#57600480", "title": "Summarize the frequency of array of objects", "body": "<p>Don't use <code>map</code> - you're better off using <code>reduce</code> like so:</p>\n\n<pre><code>const summary = Object.values(data.reduce((a, { x, y }) =&gt; {\n  a[`${x}-${y}`] = a[`${x}-${y}`] || { x, y, f: 0 };\n  a[`${x}-${y}`].f++;\n  return a;\n}, {}));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26112, "user_id": 8526705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buwQ5.jpg?s=128&g=1", "display_name": "Dacre Denny", "link": "https://stackoverflow.com/users/8526705/dacre-denny"}, "is_accepted": false, "score": 1, "last_activity_date": 1566431935, "creation_date": 1566431935, "answer_id": 57600506, "question_id": 57600433, "link": "https://stackoverflow.com/questions/57600433/summarize-the-frequency-of-array-of-objects/57600506#57600506", "title": "Summarize the frequency of array of objects", "body": "<p>A simple solution based on <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\" rel=\"nofollow noreferrer\">Array#reduce</a> would be as detailed below:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = [\r\n  { x: 1, y: 1 },\r\n  { x: 2, y: 2 },\r\n  { x: 3, y: 3 },\r\n  { x: 2, y: 2 },\r\n  { x: 1, y: 1 },\r\n  { x: 1, y: 2 },\r\n  { x: 1, y: 1 }\r\n];\r\n\r\nconst summary = data.reduce((frequencySummary, item) =&gt; {\r\n  \r\n  /* Find a match for current item in current list of frequency summaries */\r\n  const itemMatch = frequencySummary.find(i =&gt; i.x === item.x &amp;&amp; i.y === item.y)\r\n  \r\n  if(!itemMatch) {\r\n    \r\n    /* If no match found, add a new item with inital frequency of 1 to the result */\r\n    frequencySummary.push({ ...item, f : 1 });\r\n  }\r\n  else {\r\n    \r\n    /* If match found, increment the frequency count of that match */\r\n    itemMatch.f ++;\r\n  }\r\n  \r\n  return frequencySummary;\r\n\r\n}, []);\r\n\r\nconsole.log(summary)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 683, "user_id": 6923695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cf910dfedaffbb54ee21ef3b3ad4224?s=128&d=identicon&r=PG&f=1", "display_name": "Glen K", "link": "https://stackoverflow.com/users/6923695/glen-k"}, "is_accepted": false, "score": 1, "last_activity_date": 1566432098, "creation_date": 1566432098, "answer_id": 57600516, "question_id": 57600433, "link": "https://stackoverflow.com/questions/57600433/summarize-the-frequency-of-array-of-objects/57600516#57600516", "title": "Summarize the frequency of array of objects", "body": "<p>I know using reduce is probably better, but I tend to use forEach and findIndex for better readability.</p>\n\n<pre><code>var data = [\n  { x: 1, y: 1 },\n  { x: 2, y: 2 },\n  { x: 3, y: 3 },\n  { x: 2, y: 2 },\n  { x: 1, y: 1 },\n  { x: 1, y: 2 },\n  { x: 1, y: 1 }\n];\n\nvar summary = [];\n\ndata.forEach(function(d){\n  var idx = summary.findIndex(function(i){\n    return i.x === d.x &amp;&amp; i.y === d.y;\n  });\n\n  if(idx &lt; 0){\n    var sum = Object.assign({}, d);\n    sum.f = 1;\n    summary.push(sum);\n  } else {\n    summary[idx].f = summary[idx].f + 1;\n  }\n});\n\nconsole.log(summary);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 1, "last_activity_date": 1566432511, "creation_date": 1566432511, "answer_id": 57600544, "question_id": 57600433, "link": "https://stackoverflow.com/questions/57600433/summarize-the-frequency-of-array-of-objects/57600544#57600544", "title": "Summarize the frequency of array of objects", "body": "<p>Create nested objects. The outer object uses <code>x</code> values as keys, the nested object contains <code>y</code> values as keys, and the values are the frequencies.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>data = [\r\n  { x: 1, y: 1 },\r\n  { x: 2, y: 2 },\r\n  { x: 3, y: 3 },\r\n  { x: 2, y: 2 },\r\n  { x: 1, y: 1 },\r\n  { x: 1, y: 2 },\r\n  { x: 1, y: 1 }\r\n];\r\n\r\nconst nested = data.reduce((a, {x, y}) =&gt; {\r\n  a[x] = a[x] || {};\r\n  a[x][y] = a[x][y] ? a[x][y] + 1 : 1\r\n  return a;\r\n}, {});\r\nconst summary = [];\r\nObject.keys(nested).forEach(x =&gt; Object.keys(nested[x]).forEach(y =&gt; summary.push({x, y, f: nested[x][y]})));\r\n\r\nconsole.log(summary);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "is_accepted": false, "score": 1, "last_activity_date": 1566438614, "creation_date": 1566438614, "answer_id": 57601072, "question_id": 57600433, "link": "https://stackoverflow.com/questions/57600433/summarize-the-frequency-of-array-of-objects/57601072#57601072", "title": "Summarize the frequency of array of objects", "body": "<p>You can use <code>reduce</code> and <code>Map</code>, club the use x and y as key, on every iteration check if the same key is already present on Map than just increase <code>f</code> count by <code>1</code> if not than set it to <code>1</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = [{ x: 1, y: 1 },{ x: 2, y: 2 },{ x: 3, y: 3 },{ x: 2, y: 2 },{ x: 1, y: 1 },{ x: 1, y: 2 },{ x: 1, y: 1 }];\r\n\r\nconst countObj = data.reduce((a, obj) =&gt; {\r\n  const objString = obj.x + '_' + obj.y;\r\n  let value = a.get(objString) || obj\r\n  let f = value &amp;&amp; value.f  || 0\r\n  a.set(objString, { ...value, f: f+1 })\r\n  return a;\r\n}, new Map());\r\n\r\nconsole.log([...countObj.values()]);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 823, "user_id": 5734187, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/kWzRW.png?s=128&g=1", "display_name": "kemakino", "link": "https://stackoverflow.com/users/5734187/kemakino"}, "edited": false, "score": 0, "creation_date": 1566502730, "post_id": 57610282, "comment_id": 101687053, "body": "This seemed the most elegant and universal approach for me, so I have given the check to you. But it&#39;s nice to see many nice ideas from all you have posted an answer, thank you :)"}], "tags": [], "owner": {"reputation": 56, "user_id": 4825276, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-G7qO3csX0-M/AAAAAAAAAAI/AAAAAAAAD7I/LxmfZutuO_M/photo.jpg?sz=128", "display_name": "ugliest", "link": "https://stackoverflow.com/users/4825276/ugliest"}, "is_accepted": true, "score": 1, "last_activity_date": 1566479834, "creation_date": 1566479834, "answer_id": 57610282, "question_id": 57600433, "link": "https://stackoverflow.com/questions/57600433/summarize-the-frequency-of-array-of-objects/57610282#57610282", "title": "Summarize the frequency of array of objects", "body": "<pre><code>Object.values(data.reduce((sum, i) =&gt; {\n    i_str = JSON.stringify(i); // objects can't be keys\n    sum[i_str] = Object.assign({}, i, {f: sum[i_str] ? sum[i_str].f+1 : 1});\n    return sum;\n}, {}));\n</code></pre>\n\n<p>Note:</p>\n\n<ol>\n<li>This snippet will work on an array of any arbitrary objects, as long as they are stringifiable.</li>\n<li>Results are not ordered, since object keys aren\u2019t ordered.  If this is an issue, sort at will.</li>\n<li>What you\u2019re doing, is counting the times an object exists in an array.  You probably want results external to the objects, as opposed to embedded in them.  Something along these lines might be more manageable, returning a mapping of descriptions of the objects to a count:</li>\n</ol>\n\n<pre><code>data.reduce((sum, i) =&gt; {\n    i_str = JSON.stringify(i); // objects can't be keys\n    sum[i_str] = sum[i_str] ? sum[i_str]+1 : 1;\n    return sum;\n}, {});\n</code></pre>\n"}], "owner": {"reputation": 823, "user_id": 5734187, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/kWzRW.png?s=128&g=1", "display_name": "kemakino", "link": "https://stackoverflow.com/users/5734187/kemakino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 57610282, "answer_count": 7, "score": 4, "last_activity_date": 1566479834, "creation_date": 1566431254, "last_edit_date": 1566431901, "question_id": 57600433, "link": "https://stackoverflow.com/questions/57600433/summarize-the-frequency-of-array-of-objects", "title": "Summarize the frequency of array of objects", "body": "<p>Assume I have the following array of objects.</p>\n\n<pre><code>data = [\n  { x: 1, y: 1 },\n  { x: 2, y: 2 },\n  { x: 3, y: 3 },\n  { x: 2, y: 2 },\n  { x: 1, y: 1 },\n  { x: 1, y: 2 },\n  { x: 1, y: 1 }\n]\n</code></pre>\n\n<p>what I need is to summarize the frequency of identical object in the array. The output will look like:</p>\n\n<pre><code>summary = [\n  { x: 1, y: 1, f: 3 },\n  { x: 1, y: 2, f: 1 },\n  { x: 2, y: 2, f: 2 },\n  { x: 3, y: 3, f: 1 }\n]\n</code></pre>\n\n<p>For now I have this code</p>\n\n<pre><code>const summary = data.map((item, index, array) =&gt; {\n  return { x: item.x, y: item.y, f: array.filter(i =&gt; i === item).length };\n});\n</code></pre>\n\n<p>But I suppose I can do better by using <code>reduce</code> or <code>includes</code>. Any ideas?</p>\n"}, {"tags": ["javascript", "reactjs"], "owner": {"reputation": 53, "user_id": 11903756, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VT87DLFm4wA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rexudMTHGcGzmh4qg8Iee6JtQr0ZQ/photo.jpg?sz=128", "display_name": "Patrick Hayden", "link": "https://stackoverflow.com/users/11903756/patrick-hayden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1566430957, "creation_date": 1566430957, "question_id": 57600403, "link": "https://stackoverflow.com/questions/57600403/how-could-i-edit-a-users-from-this-api-in-local-state", "title": "How could I edit a users from this API in local state?", "body": "<p>I need to have an edit button to edit the users first name, last name from the api but only update the input in local state. I've done a lot of research but can't find exactly what I'm looking for. I'm trying not to bring in other libraries (other than lodash possibly?). I've found a lot of other examples but its bringing in other libraries. Any suggestions would help (even on the code I have currently to help clean it up a bit.)  </p>\n\n<pre><code>import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport User from './User'\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: [],\n      searchTerm: '',\n      alphabetical: 'az'\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    axios.get(\"https://randomuser.me/api/?results=20\")\n      .then(response =&gt; {\n        console.log(response.data.results);\n        this.setState({ users: response.data.results });\n      })\n      .catch(error =&gt; {\n        console.log(error);\n      });\n  }\n\n  handleChange(event) {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    this.setState({\n      [name]: value\n    });\n  }\n\n  render() {\n    let sortedUsers;\n    if (this.state.alphabetical === \"az\") {\n      console.log(\"sorted\");\n      sortedUsers = this.state.users.sort((a, b) =&gt;\n        a.name.first &gt; b.name.first ? 1 : -1\n      );\n    }\n\n    let filteredUsers = sortedUsers;\n\n    if (this.state.searchTerm)\n      filteredUsers = this.state.users.filter(u =&gt;\n        u.name.first.startsWith(this.state.searchTerm) || u.name.last.startsWith(this.state.searchTerm)\n      );\n\n    const userNames = filteredUsers.map(u =&gt; {\n      return &lt;User\n        key={u.email}\n        name={u.name.first}\n        last={u.name.last}\n        image={u.picture.medium}\n        email={u.email}\n        city={u.location.city}\n        state={u.location.state}\n        cell={u.cell}\n      /&gt;;\n    });\n    return (\n      &lt;div&gt;\n        &lt;form onSubmit={this.handleSubmit}&gt;\n          &lt;label&gt;\n            Search for user:\n              &lt;input\n              type=\"text\"\n              name=\"searchTerm\"\n              value={this.state.searchTerm}\n              onChange={this.handleChange}\n            /&gt;\n          &lt;/label&gt;\n          &lt;input type=\"submit\" value=\"Submit\" /&gt;\n        &lt;/form&gt;\n        &lt;select\n          name=\"alphabetical\"\n          value={this.state.alphabetical}\n          onChange={this.handleChange}&gt;\n          &lt;option selected value=\"az\"&gt;\n            A to Z\n          &lt;/option&gt;\n          &lt;option value=\"za\"&gt;Z to A&lt;/option&gt;\n        &lt;/select&gt;\n        {userNames}\n      &lt;/div&gt;\n    );\n  }\n}\nexport default App\n</code></pre>\n"}, {"tags": ["javascript", "angularjs", "sqlite", "electron"], "answers": [{"comments": [{"owner": {"reputation": 76, "user_id": 10914570, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xi1RD.jpg?s=128&g=1", "display_name": "gxvr", "link": "https://stackoverflow.com/users/10914570/gxvr"}, "edited": false, "score": 1, "creation_date": 1566432915, "post_id": 57600467, "comment_id": 101658281, "body": "Thank you so much. that solved the error, spend all day trying to figure this out"}], "tags": [], "owner": {"reputation": 375, "user_id": 2430459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZOv3.jpg?s=128&g=1", "display_name": "Fl&#225;vio Diniz Rossetto Junior", "link": "https://stackoverflow.com/users/2430459/fl%c3%a1vio-diniz-rossetto-junior"}, "is_accepted": true, "score": 2, "last_activity_date": 1566431585, "last_edit_date": 1592644375, "creation_date": 1566431585, "answer_id": 57600467, "question_id": 57600383, "link": "https://stackoverflow.com/questions/57600383/angularjs-sqlite-electron-unknown-provider-dbserviceprovider/57600467#57600467", "title": "AngularJS / Sqlite / Electron - Unknown provider: $dbServiceProvider", "body": "<p>Try changing the declaration of your controller to</p>\n<pre><code>app.controller(&quot;salesController&quot;, function ($scope, $location, dbService) {\n</code></pre>\n<p>Your dbService factory it's not an AngularJS API's, which has <code>$</code>prefix, that's why it can't inject it.</p>\n<p>Please, refer to <a href=\"https://docs.angularjs.org/guide/concepts#angular_namespace\" rel=\"nofollow noreferrer\">https://docs.angularjs.org/guide/concepts#angular_namespace</a></p>\n<blockquote>\n<p>$' Prefix Naming Convention\nYou can create your own services, and in fact we will do exactly that in step 11. As a naming convention, angular's built-in services, Scope methods and a few other angular APIs have a '$' prefix in front of the name. Don't use a '$' prefix when naming your services and models, in order to avoid any possible naming collisions.</p>\n<p>Angular Namespace\nTo prevent accidental name collision, Angular prefixes names of objects which could potentially collide with $. Please do not use the $ prefix in your code as it may accidentally collide with Angular code.</p>\n</blockquote>\n"}], "owner": {"reputation": 76, "user_id": 10914570, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xi1RD.jpg?s=128&g=1", "display_name": "gxvr", "link": "https://stackoverflow.com/users/10914570/gxvr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 57600467, "answer_count": 1, "score": 1, "last_activity_date": 1566436033, "creation_date": 1566430743, "last_edit_date": 1566436033, "question_id": 57600383, "link": "https://stackoverflow.com/questions/57600383/angularjs-sqlite-electron-unknown-provider-dbserviceprovider", "title": "AngularJS / Sqlite / Electron - Unknown provider: $dbServiceProvider", "body": "<p>I am trying to build electron app which display/retrieve items on the table from SQL database that I created but I get Unknown provider error.</p>\n\n<p>I've tried to follow some solutions on the web but the problem still persist and I don't know where am doing wrong</p>\n\n<p>Here is my angular service which connects to the database (dbService.js)</p>\n\n<pre><code>app.factory(\"dbService\", function ($http) {\n    var sqlite = require('sqlite-sync');\n    var db = sqlite.connect('model/database.db');\n    return db;\n});\n</code></pre>\n\n<p>Here is my controller (salesController.js)</p>\n\n<pre><code>app.controller(\"salesController\", function ($scope, $location, $dbService) {\n    $scope.sub = {\n        'title': 'Sales Management'\n    }\n\n    $scope.listSales = function () {\n        dbService.runAsync(\"SELECT * FROM sales WHERE active = 1\", function (data) {\n            $scope.sales = data;\n        });\n    }\n\n});\n</code></pre>\n\n<p>And here is my module (app.js)</p>\n\n<pre><code>var app = angular.module('bpApp', ['ui.router', 'angularUtils.directives.dirPagination']);\n</code></pre>\n\n<p>Lastly I added this code to display data to my table (sales.html)</p>\n\n<pre><code>....\n&lt;tbody&gt;\n &lt;tr class=\"bz-tablecell\" dir-paginate=\"sale in   sales|filter:search|itemsPerPage:8\"&gt;\n     &lt;td id=\"table-checkbox\"&gt;&lt;input type=\"checkbox\"&gt;&lt;/td&gt;\n                &lt;td style=\"font-weight: 600\"&gt;{{sale.name}}&lt;/td&gt;\n                &lt;td&gt;{{sale.amount}}&lt;/td&gt;\n                &lt;td&gt;{{sale.quantity}}&lt;/td&gt;\n                &lt;td&gt;&lt;a href=\"#\"&gt;{{sale.customer}}&lt;/a&gt;&lt;/td&gt;\n                &lt;td&gt;{{sale.date}}&lt;/td&gt;\n                &lt;td class=\"export-ignore\"&gt;&lt;span class=\"approved\" style=\"border-radius: 0 !important;\"&gt;{{sale.status}}&lt;/span&gt;&lt;/td&gt;\n                &lt;td class=\"export-ignore\"&gt;&lt;a href=\"#\"&gt;Manage&lt;/a&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/tbody&gt;\n...\n</code></pre>\n\n<p>I've include all the files needed on my index.html which then loads sale.html via ui-view, loads the view okay but data are not retrieved from my database and I keep getting the error:</p>\n\n<pre><code>Error: [$injector:unpr] Unknown provider: $dbServiceProvider &lt;- $dbService &lt;- salesController\n</code></pre>\n\n<p>Please help me to solve it...</p>\n"}, {"tags": ["javascript", "angular", "reactjs", "typescript", "redux"], "comments": [{"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 1, "creation_date": 1566433418, "post_id": 57600358, "comment_id": 101658351, "body": "Using <code>==</code> or <code>===</code> makes no difference in this case. You need to post actual code. If you have <code>X = {a:{b:{c:true}}}</code> and <code>Y = {a:{b:{...X.a.b.c, c:false}}}</code> then <code>X===Y</code> and <code>X==Y</code> will be false, as you are comparing two distinct objects, not two references to the same object."}], "answers": [{"tags": [], "owner": {"reputation": 215, "user_id": 11236148, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ze05mm_g50A/AAAAAAAAAAI/AAAAAAAAAB8/QgqpLqiXWdA/photo.jpg?sz=128", "display_name": "Aphrem Thomas", "link": "https://stackoverflow.com/users/11236148/aphrem-thomas"}, "is_accepted": false, "score": 0, "last_activity_date": 1566452041, "last_edit_date": 1566452041, "creation_date": 1566451498, "answer_id": 57602534, "question_id": 57600358, "link": "https://stackoverflow.com/questions/57600358/does-changing-reference-of-nested-object-is-changing-reference-to-root-object/57602534#57602534", "title": "Does changing reference of nested object is changing reference to root object?", "body": "<p>To compare two nested objects, we should do deep comparison. === will only check for equality of reference of the objects. For deep comparison we can use loadash's isEqual function.<code>_.isEqual(X, Y);</code> it will return true if they are equal.</p>\n\n<p>Or you can just stringify both objects and compare them  <code>JSON.stringify(X) === JSON.stringify(Y)</code></p>\n"}, {"tags": [], "owner": {"reputation": 75, "user_id": 7266012, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QqL_FizD6eM/AAAAAAAAAAI/AAAAAAAAAGk/HMuC6ANNmTA/photo.jpg?sz=128", "display_name": "Raj Kumar Boddu", "link": "https://stackoverflow.com/users/7266012/raj-kumar-boddu"}, "is_accepted": false, "score": 0, "last_activity_date": 1568809889, "creation_date": 1568809889, "answer_id": 57992902, "question_id": 57600358, "link": "https://stackoverflow.com/questions/57600358/does-changing-reference-of-nested-object-is-changing-reference-to-root-object/57992902#57992902", "title": "Does changing reference of nested object is changing reference to root object?", "body": "<p>There is a mistake in the part of code where you are using spread operator (...X.a.b.c).</p>\n\n<p>X.a.b.c is holding a primitive value. So, if we try to use spread operator on a primitive, it won't result anything.</p>\n\n<p>For Example,</p>\n\n<pre><code>let a = {\n  x: 2\n};\n\nlet b = {\n  ...a.x\n};\n\nlet c = {\n  x: 2\n}\n\nlet e = a;\n\nconsole.log(b); // Logs {} to the console\nconsole.log(a===c); // Logs false to the console\nconsole.log(a==c); // Logs false to the console\nconsole.log(a==e); // Logs true to the console\n</code></pre>\n\n<blockquote>\n  <p>In comparison part, if we compare two variables which hold reference to\n  two different objects then it will return <code>false</code> but if we compare\n  two variables which hold reference to the same object then it will\n  return <code>true</code>.</p>\n</blockquote>\n\n<p>Refer the below MDN docs for <code>Object.is</code> function for more information on different ways to compare objects and primitives.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is</a></p>\n"}], "owner": {"reputation": 633, "user_id": 6540869, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1041194359305348/picture?type=large", "display_name": "Oskar Wo\u017aniak", "link": "https://stackoverflow.com/users/6540869/oskar-wo%c5%baniak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1568809889, "creation_date": 1566430499, "question_id": 57600358, "link": "https://stackoverflow.com/questions/57600358/does-changing-reference-of-nested-object-is-changing-reference-to-root-object", "title": "Does changing reference of nested object is changing reference to root object?", "body": "<p>I'm not fully sure how I can test that - Please advise</p>\n\n<p>Lets say that we have object X</p>\n\n<pre><code>{\n    a: {\n        b: {\n            c: true\n        }\n    }\n}\n</code></pre>\n\n<p>Then we are mutating it so we are having object Y</p>\n\n<pre><code>{\n    a: {\n        b: {\n            ...X.a.b.c, \n            c: false\n        }\n    }\n}\n</code></pre>\n\n<p>Question if we compare X === Y (using strict equal) it will return true because the reference of compared objects is the same but not for child objects?</p>\n"}, {"tags": ["javascript", "specifications", "ecma"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1566431339, "post_id": 57600352, "comment_id": 101658034, "body": "No, the EcmaScript specification is not meant to be machine-readable (&quot;<i>read by the compiler</i>&quot;)."}, {"owner": {"reputation": 272, "user_id": 2094159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60fa42d388d49ec3af7f2cab141597e8?s=128&d=identicon&r=PG", "display_name": "Deathkamp Drone", "link": "https://stackoverflow.com/users/2094159/deathkamp-drone"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1566431833, "post_id": 57600352, "comment_id": 101658118, "body": "@TylerRoper I&#39;ve tried before, but I could not make much sense of it. I did not know if that was because I don&#39;t enough prerequisite knowledge or experience yet to understand what it is saying."}], "answers": [{"comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 3, "creation_date": 1566431684, "post_id": 57600409, "comment_id": 101658090, "body": "I wouldn&#39;t say &quot;how it works&quot;. That depends a lot on the actual implementation. The spec only details the precise semantics of how code is interpreted and how builtins behave, the rules that an implementation needs to follow."}], "tags": [], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "is_accepted": true, "score": 3, "last_activity_date": 1566431810, "last_edit_date": 1566431810, "creation_date": 1566431051, "answer_id": 57600409, "question_id": 57600352, "link": "https://stackoverflow.com/questions/57600352/are-js-developers-expected-to-read-the-ecmascript-specification/57600409#57600409", "title": "Are JS developers expected to read the ECMAScript specification?", "body": "<p>Nobody is ever <em>expected</em> to read the specification. You'd probably need to at some point or another to try to understand certain methods and their behaviors, but no - the only thing most people use is documentation, especially MDN.</p>\n\n<p>The specification is only really useful if you try to understand how JavaScript is interpreted (thanks Bergi), rather than just how to use it. Up to you if you want to read it or not, but no - you're most certainly <strong>not expected</strong> to read the specification, or anything for that matter - sometimes, self-learning is the most effective method.</p>\n"}], "owner": {"reputation": 272, "user_id": 2094159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60fa42d388d49ec3af7f2cab141597e8?s=128&d=identicon&r=PG", "display_name": "Deathkamp Drone", "link": "https://stackoverflow.com/users/2094159/deathkamp-drone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "closed_date": 1566439614, "accepted_answer_id": 57600409, "answer_count": 1, "score": 0, "last_activity_date": 1566431887, "creation_date": 1566430469, "last_edit_date": 1566431887, "question_id": 57600352, "link": "https://stackoverflow.com/questions/57600352/are-js-developers-expected-to-read-the-ecmascript-specification", "closed_reason": "Opinion-based", "title": "Are JS developers expected to read the ECMAScript specification?", "body": "<p>Some things, like modern assembly languages, are meant to be easily read by the computer, and not by developers.</p>\n\n<p>I'm wondering if the ECMAScript specification is similar in this sense, that is, it something meant to be read only by the compiler or by someone who wants to implement said compiler. Is that the case?</p>\n\n<p>Or is it not the case, and much like the users of a tool (such as React JS) are expected to read its documentation, are developers who use JavaScript expected to read the ECMAScript specification?</p>\n\n<p>I don't want this question to sound opinion-based, so perhaps a slight rewording: Is the ECMAScript specification meant to be developer-readable, in general?</p>\n"}, {"tags": ["javascript", "object", "ecmascript-6"], "comments": [{"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 3, "creation_date": 1566430801, "post_id": 57600349, "comment_id": 101657939, "body": "Your code works fine. It logs <code>undefined</code> because you&#39;re logging the result of <code>removeItem</code> (which doesn&#39;t return anything), but if you log <code>comments</code> after <code>removeItem(comments)</code>, you&#39;ll see that the first item is no longer there. The <i>&quot;<code>comments</code> is already declared&quot;</i> error you describe is not present in the code you&#39;ve shared."}, {"owner": {"reputation": 1845, "user_id": 2551591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HhCx2.png?s=128&g=1", "display_name": "Sweet Chilly Philly", "link": "https://stackoverflow.com/users/2551591/sweet-chilly-philly"}, "edited": false, "score": 1, "creation_date": 1566430906, "post_id": 57600349, "comment_id": 101657960, "body": "Console.log out the comments array after you have called removeItem and it will look how you want it"}], "answers": [{"tags": [], "owner": {"reputation": 683, "user_id": 6923695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cf910dfedaffbb54ee21ef3b3ad4224?s=128&d=identicon&r=PG&f=1", "display_name": "Glen K", "link": "https://stackoverflow.com/users/6923695/glen-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1566430896, "creation_date": 1566430896, "answer_id": 57600401, "question_id": 57600349, "link": "https://stackoverflow.com/questions/57600349/how-to-delete-an-item-from-an-object-of-ids/57600401#57600401", "title": "How to delete an item from an object of ids", "body": "<p>if you want to delete a specific id, and i am hoping that your object key will be the same as the id it has, you can change the remove item to accept the id parameter and modify the function a little bit so it will delete the object according to the key property.</p>\n\n<pre><code>var comments = {\n    1: { id: '1', text: 'please add code examples' },\n    2: { id: '2', text: 'examples would be great for this article' },\n    3: { id: '3', text: 'hi there' },\n  };\n\nvar removeItem = (items, id) =&gt; {\n    delete items[id];\n};\n\nremoveItem(comments, 1);\n\nconsole.log(comments);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "is_accepted": false, "score": 0, "last_activity_date": 1566430912, "creation_date": 1566430912, "answer_id": 57600402, "question_id": 57600349, "link": "https://stackoverflow.com/questions/57600349/how-to-delete-an-item-from-an-object-of-ids/57600402#57600402", "title": "How to delete an item from an object of ids", "body": "<p>Using <code>delete</code> as you've done there is exactly what you want to do - but if you're confused as to why you're getting <code>undefined</code>, that's because you're not returning anything from the <code>removeItem</code> function. Try returning <code>items</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const comments = {\r\n  '1': { id: '1', text: 'please add code examples' },\r\n  '2': { id: '2', text: 'examples would be great for this article' },\r\n  '3': { id: '3', text: 'hi there' },\r\n};\r\n\r\nconst removeItem = items =&gt; {\r\n  delete items[1];\r\n  return items;\r\n};\r\n\r\nconsole.log(removeItem(comments));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 4010, "user_id": 2825551, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/vCq8n.jpg?s=128&g=1", "display_name": "Jhecht", "link": "https://stackoverflow.com/users/2825551/jhecht"}, "edited": false, "score": 0, "creation_date": 1566431606, "post_id": 57600408, "comment_id": 101658079, "body": "the way your remove item function is setup it would only ever delete the item in the <code>1</code> key."}, {"owner": {"reputation": 1845, "user_id": 2551591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HhCx2.png?s=128&g=1", "display_name": "Sweet Chilly Philly", "link": "https://stackoverflow.com/users/2551591/sweet-chilly-philly"}, "reply_to_user": {"reputation": 4010, "user_id": 2825551, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/vCq8n.jpg?s=128&g=1", "display_name": "Jhecht", "link": "https://stackoverflow.com/users/2825551/jhecht"}, "edited": false, "score": 0, "creation_date": 1566436056, "post_id": 57600408, "comment_id": 101658757, "body": "this is what has been asked"}], "tags": [], "owner": {"reputation": 1845, "user_id": 2551591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HhCx2.png?s=128&g=1", "display_name": "Sweet Chilly Philly", "link": "https://stackoverflow.com/users/2551591/sweet-chilly-philly"}, "is_accepted": false, "score": 0, "last_activity_date": 1566431045, "creation_date": 1566431045, "answer_id": 57600408, "question_id": 57600349, "link": "https://stackoverflow.com/questions/57600349/how-to-delete-an-item-from-an-object-of-ids/57600408#57600408", "title": "How to delete an item from an object of ids", "body": "<p>Your code works fine, but you need to console log out the correct thing after you have done your working.    </p>\n\n<pre><code>const comments = {\n  '1': { id: '1', text: 'please add code examples' },\n  '2': { id: '2', text: 'examples would be great for this article' },\n  '3': { id: '3', text: 'hi there' },\n};\n\nconst removeItem = items =&gt; {\n  delete items[1];\n};\n\nremoveItem(comments);\n\nconsole.log(comments);\n</code></pre>\n\n<p>Your comments array looks like this after running removeItem:</p>\n\n<pre><code>comments\n    2: {id: \"2\", text: \"examples would be great for this article\"}\n    3: {id: \"3\", text: \"hi there\"}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2346, "user_id": 1024000, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/a8e4ae7cc50033cde38b561b649f6ccc?s=128&d=identicon&r=PG&f=1", "display_name": "deej", "link": "https://stackoverflow.com/users/1024000/deej"}, "is_accepted": false, "score": 0, "last_activity_date": 1566431302, "creation_date": 1566431302, "answer_id": 57600438, "question_id": 57600349, "link": "https://stackoverflow.com/questions/57600349/how-to-delete-an-item-from-an-object-of-ids/57600438#57600438", "title": "How to delete an item from an object of ids", "body": "<p>There are two ways you can do this:</p>\n\n<p>A) When you want to remove an item from <code>comments</code> (variable or constant) only</p>\n\n<pre><code>var comments = {\n    '1': { id: '1', text: 'Text A' },\n    '2': { id: '2', text: 'Text B' },\n    '3': { id: '3', text: 'Text C' },\n  };\nvar removeComment = (n) =&gt; {\n    // validation or check\n    delete comments[n];\n};\nconsole.log(removeComment(1));\n</code></pre>\n\n<p>B) If you want it to take an object as an argument along with index (n):</p>\n\n<pre><code>var comments = {\n    '1': { id: '1', text: 'Text A' },\n    '2': { id: '2', text: 'Text B' },\n    '3': { id: '3', text: 'Text C' },\n  };\nvar removeItem = (items, n) =&gt; {\n    delete items[n];\n};\nconsole.log(removeItem(comments, 1));\n</code></pre>\n\n<p>You are getting error already declared as you would have used <code>comments</code> for other constant or variable in your code somewhere in global namespace. Try using <code>var</code> (variable) instead of <code>const</code> and above code should work for you.</p>\n"}, {"tags": [], "owner": {"reputation": 2829, "user_id": 6388552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJiGS.jpg?s=128&g=1", "display_name": "ths", "link": "https://stackoverflow.com/users/6388552/ths"}, "is_accepted": false, "score": 0, "last_activity_date": 1566431907, "creation_date": 1566431907, "answer_id": 57600500, "question_id": 57600349, "link": "https://stackoverflow.com/questions/57600349/how-to-delete-an-item-from-an-object-of-ids/57600500#57600500", "title": "How to delete an item from an object of ids", "body": "<p>You may create a function that gets the comments and the wanted comment <code>ID</code> then it deletes that comment if found.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const comments = {\r\n    '1': {\r\n      id: '1',\r\n      text: 'please add code examples'\r\n    },\r\n    '2': {\r\n      id: '2',\r\n      text: 'examples would be great for this article'\r\n    },\r\n    '3': {\r\n      id: '3',\r\n      text: 'hi there'\r\n    },\r\n  },\r\n  removeItem = (cmts, id) =&gt; {\r\n    cmts[id] &amp;&amp; (delete cmts[id]);\r\n    return cmts;\r\n  };\r\nconsole.log(removeItem(comments, 3)); /** deletes the comment with ID=3 **/\r\nconsole.log('*** second call ****')\r\nconsole.log(removeItem(comments, 55)); /** nothing happens and the same data is returned **/</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 469, "user_id": 11183052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3njk.jpg?s=128&g=1", "display_name": "Ada", "link": "https://stackoverflow.com/users/11183052/ada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 5, "score": 1, "last_activity_date": 1566431907, "creation_date": 1566430417, "last_edit_date": 1566430924, "question_id": 57600349, "link": "https://stackoverflow.com/questions/57600349/how-to-delete-an-item-from-an-object-of-ids", "title": "How to delete an item from an object of ids", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const comments = {\r\n  '1': { id: '1', text: 'please add code examples' },\r\n  '2': { id: '2', text: 'examples would be great for this article' },\r\n  '3': { id: '3', text: 'hi there' },\r\n};\r\n\r\nconst removeItem = items =&gt; {\r\n  delete items[1];\r\n};\r\n\r\nconsole.log(removeItem(comments));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I need to delete an item based on its unique identifier. This reads <code>comments</code> is already declared</p>\n"}, {"tags": ["javascript", "node.js", "angular", "express", "socket.io"], "answers": [{"tags": [], "owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "is_accepted": true, "score": 1, "last_activity_date": 1566439718, "last_edit_date": 1566439718, "creation_date": 1566431420, "answer_id": 57600450, "question_id": 57600348, "link": "https://stackoverflow.com/questions/57600348/cant-emit-current-serverstate-with-socket-io-during-shell-exec/57600450#57600450", "title": "Can&#39;t emit current serverstate with socket.io during shell exec", "body": "<p>You're using synchronous operations and they block the event loop so asynchronous operations (such as networking) may not proceed until the event loop is available.</p>\n\n<p>You can fix it by getting rid of your synchronous operations (rewriting with asynchronous operations) so that the event loop is allowed to operate during your loop.</p>\n\n<p>Here's a way to code with asynchronous I/O and uses <code>async/await</code> to more easily make the loop work:</p>\n\n<pre><code>const express = require('express');\nconst app = express();\nconst socketIO = require('socket.io');\nconst exec = require('child_process').exec;\nconst promisify = require('util').promisify;\nconst fsp = require('fs').promises;\n\nconst execP = promisify(exec);\n\napp.post('/bootupserver', async function(req, res) {\n  progress = [];\n  io.emit('update', getCurrentServerState());\n\n  try {\n\n      const filePath = path.join(__dirname, 'bootserver.json');\n      const file = await fsp.readFile(filePath, { encoding: 'utf-8' });\n\n      progress = Object.values(JSON.parse(file));\n      for (let line of progress) {\n          line[0] = 1;\n          io.emit('update', getCurrentServerState());\n          await execP(line[2]);\n          line[0] = 2;\n      }\n      io.emit('update', getCurrentServerState());\n\n      res.sendStatus(200);\n  } catch(e) {\n      res.sendStatus(500);\n  }\n});\n</code></pre>\n\n<blockquote>\n  <p>I would expect, that there is a mechanism to flush/force the emit to straight update my frontend. Is there some kind of that?</p>\n</blockquote>\n\n<p>Not directly.  You'd have to put each iterations of your loop into a <code>setTimeout()</code> (and thus couldn't use a regular <code>for</code> or <code>.forEach()</code> loop) in order to give other things a chance to run before running the next iteration of your loop.  The better option is to just switch to an asynchronous design so everything can cooperatively run together.  This is how node.js is designed to work.</p>\n\n<hr>\n\n<p>In case you're curious, <code>util.promisify()</code> treats <code>exec()</code> specially so that its callback that looks like <code>(err, stdio, stderr)</code> rather than the standard async callback of <code>(err, value)</code> will still work properly (it changes the two results internally to <code>{stdio, stderr}</code> so it's one value that can come out of the promise).  You're not using those returned values so it doesn't matter here, but if you were they could still work properly.</p>\n"}], "owner": {"reputation": 47, "user_id": 8363258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/909726538f6698c07dad37d105780e7e?s=128&d=identicon&r=PG&f=1", "display_name": "Jinairu", "link": "https://stackoverflow.com/users/8363258/jinairu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 57600450, "answer_count": 1, "score": 0, "last_activity_date": 1566439718, "creation_date": 1566430417, "question_id": 57600348, "link": "https://stackoverflow.com/questions/57600348/cant-emit-current-serverstate-with-socket-io-during-shell-exec", "title": "Can&#39;t emit current serverstate with socket.io during shell exec", "body": "<p>I want to execute a shell build script and emit the current execution state to the angular client. The problem is, that emit is not executed immediately after call. The program waits for completing the whole function and send those emits all together afterwards.</p>\n\n<pre><code>const express = require('express');\nconst app = express();\nconst socketIO = require('socket.io');\nconst execSync = require('child_process').execSync;\n\n[...]\n\napp.post('/bootupserver', function(req, res) {\n  progress = [];\n  io.emit('update', getCurrentServerState());\n\n  const filePath = path.join(__dirname, 'bootserver.json');\n  const file = fs.readFileSync(filePath, { encoding: 'utf-8' });\n\n  progress = Object.values(JSON.parse(file));\n  progress.forEach(line =&gt; {\n      line[0] = 1;\n      io.emit('update', getCurrentServerState());\n      execSync(line[2]);\n      line[0] = 2;\n  });\n  io.emit('update', getCurrentServerState());\n\n  res.sendStatus(200);\n});\n\n[...]\n</code></pre>\n\n<p>To understand the forEach here is my dummy bootserver.json. One array contains three values: state (0=wait, 1=wip, 2=done) , name and command. </p>\n\n<pre><code>{\n  \"0\": [2, \"0\", \"sleep 2\"],\n  \"1\": [2, \"A\", \"sleep 1\"],\n  \"2\": [1, \"b\", \"sleep 0.2\"],\n  \"3\": [0, \"C\", \"sleep 1\"],\n  \"4\": [0, \"d\", \"sleep 0.2\"],\n  \"5\": [0, \"E\", \"sleep 1\"],\n  \"6\": [0, \"f\", \"sleep 5\"],\n  \"7\": [0, \"G\", \"sleep 2\"],\n}\n\n</code></pre>\n\n<p>Here is my angular code to listen for messages:</p>\n\n<pre><code>const observable = new Observable&lt;string&gt;((observer: any) =&gt; {\n  io(url, { secure: true }).on('update', (msg: string) =&gt; {\n    observer.next(msg);\n  });\n});\n</code></pre>\n\n<p>I would expect, that there is a mechanism to flush/force the emit to straight update my frontend. Is there some kind of that?</p>\n"}, {"tags": ["javascript", "visual-studio-code", "jsdoc"], "owner": {"reputation": 7510, "user_id": 227332, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b1ae2268c7a69c4bb180a2665736a804?s=128&d=identicon&r=PG", "display_name": "Bruno Brant", "link": "https://stackoverflow.com/users/227332/bruno-brant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1566430116, "creation_date": 1566430116, "question_id": 57600317, "link": "https://stackoverflow.com/questions/57600317/jsdoc-for-dynamic-attached-properties-vscode", "title": "JSDoc for dynamic attached properties (VSCode)", "body": "<p>I have a constructor for a class that adds dynamic properties based on a parameter:</p>\n\n<pre><code>class Foo {\n    constructor(attach) {\n        for (const key in attach) {\n            this[key] = attach[key];\n        }\n    }\n}\n\nclass Bar {\n    getBar() { return \"bar\"; }\n}\n\n\nconst foo = new Foo({\n    bar: new Bar()\n})\n\nconsole.log(foo.bar.getBar());\n</code></pre>\n\n<p>The properties are just a shorthand for the properties which are injected.</p>\n\n<p>I wanted to document Foo somehow so that callsites can get decent autocompletion.</p>\n\n<p>I tried some variations of the code below, but VSCode still can't find the properties of T in the instance of Foo:</p>\n\n<pre><code>/**\n * Foogler\n * @template {{[key:string]: Bar}} T\n * @type {Foo &amp; T}\n */\nclass Foo {\n    /**\n     * Creates a new Foo\n     * @param {T} attach\n     */\n    constructor(attach) {\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "dictionary", "for-loop", "syntax-error"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 1, "creation_date": 1566429708, "post_id": 57600272, "comment_id": 101657699, "body": "That code won&#39;t work in any case, but I don&#39;t see how it could cause that error."}, {"owner": {"reputation": 6288, "user_id": 235146, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a2ffcadce1f8df6419084de7e0aad6a0?s=128&d=identicon&r=PG", "display_name": "Glycerine", "link": "https://stackoverflow.com/users/235146/glycerine"}, "edited": false, "score": 0, "creation_date": 1566429928, "post_id": 57600272, "comment_id": 101657758, "body": "That error sounds MS specific. Are you running this in IE? And if so; are you checking for cross-compatibility of your files? This error wasn&#39;t caused by this exact code. The snippet you&#39;ve given is syntactically correct."}], "answers": [{"comments": [{"owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "edited": false, "score": 2, "creation_date": 1566430574, "post_id": 57600336, "comment_id": 101657887, "body": "<code>[&#39;ENG&#39;, &#39;JAP&#39;, &#39;CHI&#39;, &#39;RUS&#39;].includes(key);</code> would be a more preferred way of doing it."}], "tags": [], "owner": {"reputation": 658, "user_id": 7699428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cyG9L.jpg?s=128&g=1", "display_name": "N. Djokic", "link": "https://stackoverflow.com/users/7699428/n-djokic"}, "is_accepted": false, "score": 2, "last_activity_date": 1566430293, "creation_date": 1566430293, "answer_id": 57600336, "question_id": 57600272, "link": "https://stackoverflow.com/questions/57600272/javascript-syntaxerror-unexpected-end-of-input/57600336#57600336", "title": "JavaScript SyntaxError: Unexpected end of input", "body": "<p>Problem is with statment:</p>\n\n<pre><code>(key === ('ENG' || 'JAP' || 'CHI' || 'RUS'))\n</code></pre>\n\n<p>You should compare key separately with each string:</p>\n\n<pre><code>(key === 'ENG' || key === 'JAP' || key === 'CHI' || key === 'RUS')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 734, "user_id": 7558480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28b7dcedfb2beba94fcc93370f644783?s=128&d=identicon&r=PG", "display_name": "Richard Haddad", "link": "https://stackoverflow.com/users/7558480/richard-haddad"}, "is_accepted": false, "score": 0, "last_activity_date": 1566430676, "creation_date": 1566430676, "answer_id": 57600377, "question_id": 57600272, "link": "https://stackoverflow.com/questions/57600272/javascript-syntaxerror-unexpected-end-of-input/57600377#57600377", "title": "JavaScript SyntaxError: Unexpected end of input", "body": "<p>@N. Djokic gave a solution.</p>\n\n<p>But you can also use an array:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>if (['ENG', 'JAP', 'CHI', 'RUS'].includes(key)) {}\n</code></pre>\n\n<p>If you choose this solution, which is more maintable, be carefull to initialize your array earlier in your code, not in your loop.</p>\n"}, {"tags": [], "owner": {"reputation": 74, "user_id": 11953530, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oRZgtsihX2w/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reEgIrkbIDPLXP1kf_6WkDl-BAWIg/photo.jpg?sz=128", "display_name": "tripleplayj", "link": "https://stackoverflow.com/users/11953530/tripleplayj"}, "is_accepted": false, "score": 0, "last_activity_date": 1566436534, "creation_date": 1566436534, "answer_id": 57600889, "question_id": 57600272, "link": "https://stackoverflow.com/questions/57600272/javascript-syntaxerror-unexpected-end-of-input/57600889#57600889", "title": "JavaScript SyntaxError: Unexpected end of input", "body": "<p>Agreed above with @Richard. Ideally you initialize the array before the loop. This also helps if the array is bound to change or if you use the array in multiple places.</p>\n\n<pre><code>let languageArray = this.langList.keys();\n...\n\nif (languageArray.includes(key)) {\n   this.langListFiltered.set(key, value);\n}\n</code></pre>\n"}], "owner": {"reputation": 106, "user_id": 2874141, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o5yYv.jpg?s=128&g=1", "display_name": "Greg. O Hajdu", "link": "https://stackoverflow.com/users/2874141/greg-o-hajdu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1566436534, "creation_date": 1566429591, "question_id": 57600272, "link": "https://stackoverflow.com/questions/57600272/javascript-syntaxerror-unexpected-end-of-input", "title": "JavaScript SyntaxError: Unexpected end of input", "body": "<p>I've been getting an \"Unexpected end of input\" error message when running my program, but however long I keep looking at the code where it occurs. \nI just simply can't figure out where I might be missing something.</p>\n\n<pre><code>for (let [key, value] of this.langList) {\n  if (key === ('ENG' || 'JAP' || 'CHI' || 'RUS')) {\n     this.langListFiltered.set(key, value);\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "html"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 11959539, "user_type": "registered", "profile_image": "https://graph.facebook.com/3016915021713575/picture?type=large", "display_name": "Jamie Haworth-Duff", "link": "https://stackoverflow.com/users/11959539/jamie-haworth-duff"}, "edited": false, "score": 0, "creation_date": 1566438917, "post_id": 57600499, "comment_id": 101659218, "body": "Thank you, almost perfect, just had to change a couple of bits."}], "tags": [], "owner": {"reputation": 1395, "user_id": 756514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2MHda.jpg?s=128&g=1", "display_name": "Jon B", "link": "https://stackoverflow.com/users/756514/jon-b"}, "is_accepted": true, "score": 0, "last_activity_date": 1566431907, "creation_date": 1566431907, "answer_id": 57600499, "question_id": 57600234, "link": "https://stackoverflow.com/questions/57600234/fix-an-icon-that-can-lead-you-to-different-websites-based-on-platform/57600499#57600499", "title": "Fix an icon that can lead you to different websites based on platform", "body": "<p>So I think this is what you are asking, you can check that it is working by changing the user agent in Chrome under \"Network Conditions\". Just uncheck set automatically and change to emulate the device you want to test.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var uagent = navigator.userAgent.toLowerCase();\r\nconsole.log(uagent)\r\n\r\nfunction detectDevice() {\r\n  if (uagent.indexOf(\"iphone\") !== -1) {\r\n    return \"iphone\"\r\n  }\r\n  if (uagent.indexOf(\"ipad\") !== -1) {\r\n    return \"ipad\"\r\n  }\r\n  if (uagent.indexOf(\"android\") !== -1) {\r\n    return \"android\"\r\n  }\r\n  return \"desktop browser\" \r\n}\r\n\r\nfunction setLink(element) {\r\n  const device = detectDevice()\r\n  console.log(device)\r\n  switch(device) {\r\n    case \"iphone\":\r\n      element.href=\"/iphone\"\r\n      break;\r\n    case \"ipad\":\r\n      element.href=\"/ipad\"\r\n      break;\r\n    case \"android\":\r\n      element.href=\"/android\"\r\n      break;\r\n    default:\r\n      element.href=\"/desktop\"\r\n      break;\r\n  }\r\n  console.log(element.href)\r\n}\r\n\r\nconst element = document.getElementById(\"fb\")\r\nsetLink(element)</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;p class=\"fab fa-facebook-square\"&gt;\r\n  &lt;a id=\"fb\" href=\"/fb\"&gt;FB&lt;/a&gt;\r\n&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 13, "user_id": 11959539, "user_type": "registered", "profile_image": "https://graph.facebook.com/3016915021713575/picture?type=large", "display_name": "Jamie Haworth-Duff", "link": "https://stackoverflow.com/users/11959539/jamie-haworth-duff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 57600499, "answer_count": 1, "score": 1, "last_activity_date": 1566431907, "creation_date": 1566429180, "question_id": 57600234, "link": "https://stackoverflow.com/questions/57600234/fix-an-icon-that-can-lead-you-to-different-websites-based-on-platform", "title": "Fix an icon that can lead you to different websites based on platform", "body": "<pre><code>&lt;html&gt;\n&lt;body&gt;\n\n&lt;p class=\"fab fa-facebook-square\" id=\"fb\"&gt;&lt;/p&gt;\n\n&lt;script&gt;\nvar uagent = navigator.userAgent.toLowerCase();{\nfunction Detect();\n{if (uagent.search(\"iphone\"));\nGetElementById(\"fb\").href = \"#\";\nelse if (uagent.search(\"android\");\nGetElementById(\"fb\").href = \"#\";\nelse (uagent.search(\"Mozilla/5.0 (X11; Linux x86_64) \nAppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 \nSafari/537.36\");\nGetElementId(\"fb\").href = \"#\";\n}\n&lt;/script&gt; \n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>i'm trying to get to different dites depending upon the platform. Basically the plan was to create an icon that would eithertake you to the website version of a page, or launch an app and open the page.</p>\n"}, {"tags": ["javascript", "php", "reactjs", "laravel"], "comments": [{"owner": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "edited": false, "score": 0, "creation_date": 1566429182, "post_id": 57600212, "comment_id": 101657584, "body": "The <code>resources</code> directory is not for public-facing files. That&#39;s why you have a <code>public</code> directory. Just move the file."}, {"owner": {"reputation": 71, "user_id": 10558264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05f5243b4fd251a352c3042edb6be9d3?s=128&d=identicon&r=PG&f=1", "display_name": "csanchez", "link": "https://stackoverflow.com/users/10558264/csanchez"}, "reply_to_user": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "edited": false, "score": 0, "creation_date": 1566429539, "post_id": 57600212, "comment_id": 101657662, "body": "Tried that but when I compile with &quot;sudo npm run dev&quot; it erases the file and replaces with some node backend. And that&#39;s when I get the error"}, {"owner": {"reputation": 14231, "user_id": 1218980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75c6b54df38abce7b1c35f499a1d4a67?s=128&d=identicon&r=PG", "display_name": "Emile Bergeron", "link": "https://stackoverflow.com/users/1218980/emile-bergeron"}, "edited": false, "score": 0, "creation_date": 1566443612, "post_id": 57600212, "comment_id": 101659959, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/29739734/how-to-include-css-in-laravel-5-running-with-artisan\">How to include CSS in laravel 5 running with artisan?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 658, "user_id": 7699428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cyG9L.jpg?s=128&g=1", "display_name": "N. Djokic", "link": "https://stackoverflow.com/users/7699428/n-djokic"}, "is_accepted": true, "score": 1, "last_activity_date": 1566434886, "creation_date": 1566434886, "answer_id": 57600738, "question_id": 57600212, "link": "https://stackoverflow.com/questions/57600212/react-and-php-wrong-file/57600738#57600738", "title": "React and php wrong file", "body": "<p>Take a look at this question and answers given:\n<a href=\"https://stackoverflow.com/questions/29739734/how-to-include-css-in-laravel-5-running-with-artisan?rq=1\">How to include CSS in laravel 5 running with artisan?</a></p>\n\n<p>Basically your asset files should be in public folder as your public folder is root folder when you run your server with serve command. </p>\n"}], "owner": {"reputation": 71, "user_id": 10558264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05f5243b4fd251a352c3042edb6be9d3?s=128&d=identicon&r=PG&f=1", "display_name": "csanchez", "link": "https://stackoverflow.com/users/10558264/csanchez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 57600738, "answer_count": 1, "score": 0, "last_activity_date": 1566434886, "creation_date": 1566428966, "question_id": 57600212, "link": "https://stackoverflow.com/questions/57600212/react-and-php-wrong-file", "title": "React and php wrong file", "body": "<p>Well, honestly I didn't know how to make the question, sorry. But the thing is. I'm making something with react and php backend, but when I run the server with \"sudo php artisan serve\" nothing appears, that is because it's taking a wrong \"app.js\" this is some of my code:</p>\n\n<p>app.js </p>\n\n<pre><code>require('./bootstrap');\nimport React from 'react';\nimport {render} from 'react-dom';\nimport {Router, Route, browserHistory} from 'react-router';\nimport Master from './components/Master';\nimport CreateProduct from './components/CreateProduct';\nimport DisplayProduct from './components/DisplayProduct';\nimport UpdateProduct from './components/UpdateProduct';\n\nrender(\n  &lt;Router history={browserHistory}&gt;\n      &lt;Route path=\"/\" component={Master} &gt;\n        &lt;Route path=\"/add-item\" component={CreateProduct} /&gt;\n        &lt;Route path=\"/display-item\" component={DisplayProduct} /&gt;\n        &lt;Route path=\"/edit/:id\" component={UpdateProduct} /&gt;\n      &lt;/Route&gt;\n    &lt;/Router&gt;,\n        document.getElementById('crud-app'));\n</code></pre>\n\n<p>welcome.blade.php</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"utf-8\"&gt;\n        &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"&gt;\n        &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n        &lt;title&gt;Laravel 5.5 ReactJS CRUD&lt;/title&gt;\n        &lt;!-- &lt;link href=\"{{asset('css/app.css')}}\" rel=\"stylesheet\" type=\"text/css\"&gt; --&gt;\n    &lt;/head&gt;\n\n    &lt;body&gt;\n        &lt;div id=\"crud-app\"&gt;&lt;/div&gt;\n        &lt;script src=\"{{asset('js/app.js')}}\" &gt;&lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>as I say when I run the server it takes a \"app.js\" that is in \"proyect/public/js/app.js\" however the file I want to appear is in \"proyect/resources/js/app.js\" how can I do to get the file I want?</p>\n"}, {"tags": ["javascript", "api", "ibm-datapower"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11959515, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-SbmB2E-Qqm8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdGazKK7SB0l0SSwswkJjD8DDH2pA/photo.jpg?sz=128", "display_name": "Avinash Athreya", "link": "https://stackoverflow.com/users/11959515/avinash-athreya"}, "edited": false, "score": 0, "creation_date": 1566432460, "post_id": 57600287, "comment_id": 101658202, "body": "Just tried with the snippet provided am getting undefined in my logs. Does the same code fit into IBM Gateway script?"}, {"owner": {"reputation": 1135, "user_id": 7537454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57a54dbe03841caee00dfe5dc2adf918?s=128&d=identicon&r=PG&f=1", "display_name": "Noob", "link": "https://stackoverflow.com/users/7537454/noob"}, "reply_to_user": {"reputation": 1, "user_id": 11959515, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-SbmB2E-Qqm8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdGazKK7SB0l0SSwswkJjD8DDH2pA/photo.jpg?sz=128", "display_name": "Avinash Athreya", "link": "https://stackoverflow.com/users/11959515/avinash-athreya"}, "edited": false, "score": 0, "creation_date": 1566433418, "post_id": 57600287, "comment_id": 101658352, "body": "@AvinashAthreya  no, i provided you an example of  how to parse your string and get values based on  requirements stated above."}], "tags": [], "owner": {"reputation": 1135, "user_id": 7537454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57a54dbe03841caee00dfe5dc2adf918?s=128&d=identicon&r=PG&f=1", "display_name": "Noob", "link": "https://stackoverflow.com/users/7537454/noob"}, "is_accepted": false, "score": 0, "last_activity_date": 1566430242, "last_edit_date": 1566430242, "creation_date": 1566429801, "answer_id": 57600287, "question_id": 57600183, "link": "https://stackoverflow.com/questions/57600183/return-a-selected-part-of-string-using-ibm-gateway-script/57600287#57600287", "title": "Return a selected part of string using IBM Gateway script", "body": "<p>It can be done this way: </p>\n\n<pre><code>let a  = '&amp;username=user&amp;password=pass&amp;client_id=cid&amp;client_secret=secret&amp;grant_type=password'.split('&amp;')\nlet user, passwordData\nfor(let i=0; i&lt;a.length; i++){\n  if (a[i].includes('username=')){\n    user= a[i].substr(9)\n  }\n  if (a[i].includes('password=')){\n    passwordData= a[i].substr(9)\n  }\n}\n\nconsole.log(user, passwordData) // logs values\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18769, "user_id": 965146, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vSVWj.jpg?s=128&g=1", "display_name": "Shree", "link": "https://stackoverflow.com/users/965146/shree"}, "is_accepted": false, "score": 0, "last_activity_date": 1566461632, "last_edit_date": 1566461632, "creation_date": 1566449752, "answer_id": 57602274, "question_id": 57600183, "link": "https://stackoverflow.com/questions/57600183/return-a-selected-part-of-string-using-ibm-gateway-script/57602274#57602274", "title": "Return a selected part of string using IBM Gateway script", "body": "<p>Use RegEx to split your string and get value like below.\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let str = '&amp;username=user&amp;password=pass&amp;client_id=cid&amp;client_secret=secret&amp;grant_type=password';\r\n\r\nfunction getResult() {\r\n  let arr = {};\r\n  let KeyValueResult = str.replace(/[&amp;]+([^=&amp;]+)=([^&amp;]*)/gi, function(m, key, value) {\r\n    arr[key] = value;\r\n  });\r\n  return arr;\r\n}\r\nlet username = getResult()[\"username\"];\r\nlet password = getResult()[\"password\"];\r\nlet client_id = getResult()[\"client_id\"];\r\nlet client_secret = getResult()[\"client_secret\"];\r\nlet grant_type = getResult()[\"grant_type\"];\r\n\r\nconsole.log('username: ' + username + ' password: ' + password + ' client_id:  ' + client_id + ' client_secret: ' + client_secret + ' grant_type: ' + grant_type);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Function doesn't care about order. Just call with key it's give desire value. </p>\n"}, {"comments": [{"owner": {"reputation": 1329, "user_id": 678780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7b6c47a1f7c9ed5772842377735277?s=128&d=identicon&r=PG", "display_name": "EliSherer", "link": "https://stackoverflow.com/users/678780/elisherer"}, "edited": false, "score": 0, "creation_date": 1569405854, "post_id": 57609051, "comment_id": 102583980, "body": "you meant  <code>const qs = querystring.parse(&#39;usern...</code>"}], "tags": [], "owner": {"reputation": 1980, "user_id": 1254707, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e00eb667569f2686c7656f9707f105f6?s=128&d=identicon&r=PG", "display_name": "Anders", "link": "https://stackoverflow.com/users/1254707/anders"}, "is_accepted": false, "score": 0, "last_activity_date": 1566475761, "creation_date": 1566475761, "answer_id": 57609051, "question_id": 57600183, "link": "https://stackoverflow.com/questions/57600183/return-a-selected-part-of-string-using-ibm-gateway-script/57609051#57609051", "title": "Return a selected part of string using IBM Gateway script", "body": "<p>Well, it actaully easier than that as DataPower ships the QueryString Module out-of-the-box...</p>\n\n<pre><code>const querystring = require ('querystring');\nconst qs = querystring.stringify('username=user&amp;password=pass&amp;client_id=cid&amp;client_secret=secret&amp;grant_type=password');\n// returns {username: 'user' , password: 'pass', ... }\nconsole.log('username: ' + qs.username + ' password: ' + qs.password);\n</code></pre>\n\n<p>Read the full documentation here: <a href=\"https://www.ibm.com/support/knowledgecenter/SS9H2Y_7.5.0/com.ibm.dp.doc/querystring_js.html\" rel=\"nofollow noreferrer\">https://www.ibm.com/support/knowledgecenter/SS9H2Y_7.5.0/com.ibm.dp.doc/querystring_js.html</a></p>\n"}], "owner": {"reputation": 1, "user_id": 11959515, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-SbmB2E-Qqm8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdGazKK7SB0l0SSwswkJjD8DDH2pA/photo.jpg?sz=128", "display_name": "Avinash Athreya", "link": "https://stackoverflow.com/users/11959515/avinash-athreya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 731, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1566475761, "creation_date": 1566428747, "last_edit_date": 1566452068, "question_id": 57600183, "link": "https://stackoverflow.com/questions/57600183/return-a-selected-part-of-string-using-ibm-gateway-script", "title": "Return a selected part of string using IBM Gateway script", "body": "<p>How do I extract certain parts of a string from a whole string? </p>\n\n<p>My string looks like:</p>\n\n<pre><code>&amp;username=user&amp;password=pass&amp;client_id=cid&amp;client_secret=secret&amp;grant_type=password  \n</code></pre>\n\n<p>I want to extract the <code>username</code> and <code>password</code> values into 2 variables. </p>\n\n<p>These values can appear in any order in the string. </p>\n"}, {"tags": ["javascript", "graphics", "fabricjs", "matrix-transform"], "owner": {"reputation": 3555, "user_id": 1713208, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vbQQH.jpg?s=128&g=1", "display_name": "JSmith", "link": "https://stackoverflow.com/users/1713208/jsmith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 277, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1566428553, "creation_date": 1566428553, "question_id": 57600148, "link": "https://stackoverflow.com/questions/57600148/keeping-same-object-size-while-zooming-with-same-left-origin-in-fabricjs", "title": "keeping same Object size while zooming with same left origin in fabricJS", "body": "<p>I've seen <a href=\"https://stackoverflow.com/questions/48578974/maintaining-object-size-while-zooming-in-fabric-js\">this post</a> and tried to do my own function using only the X scaling.</p>\n\n<pre><code>fabric.Object.prototype.transform = function (ctx){\n      var m;\n      if (this.group &amp;&amp; !this.group._transformDone) {\n        m = this.calcTransformMatrix();\n        ctx.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n        return;\n      }\n      else {\n        m = this.calcOwnMatrix();\n        //code I've wrote\n        if (this.my &amp;&amp; this.my.ignoreZoom != undefined &amp;&amp; this.my.ignoreZoom){\n            var scaleX = 1.0 / this.canvas.viewportTransform[0];\n            ctx.transform(scaleX, 0, 0, 1, m[4] - 0.5, 0);\n            ctx.transform(m[0], m[1], m[2], m[3], 1, m[5]);\n        }\n        //end of custom code\n        else{\n          ctx.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n        }\n      }\n}\n</code></pre>\n\n<p>only problem is that the object transformation is from center. Which means if I have a square of <code>10 * 10 pixels</code> with <code>left = 0</code> and <code>top = 0</code> and zoom, I'll have no problem on <code>zoom = 1</code> but when I increase zoom let's say by 2. my object still starts at 0 but my object appears at the middle of my <code>20 * 10</code> selection.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>fabric.Object.prototype.transform = function (ctx){\r\n          var m;\r\n          if (this.group &amp;&amp; !this.group._transformDone) {\r\n            m = this.calcTransformMatrix();\r\n            ctx.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\r\n            return;\r\n          }\r\n          else {\r\n            m = this.calcOwnMatrix();\r\n            if (this.ignoreZoom){\r\n                var zoomX = 1.0 / this.canvas.viewportTransform[0];\r\n                ctx.transform(zoomX, 0, 0, 1, m[4] - 0.5, 0);\r\n                ctx.transform(m[0], m[1], m[2], m[3], 1, m[5]);\r\n            }\r\n            else if (this.ignoreZoomHLine){\r\n                var zoomX = 1.0 / this.canvas.viewportTransform[0];\r\n                ctx.transform(zoomX, 0, 0, 1, m[4], 0);\r\n                ctx.transform(m[0], m[1], m[2], m[3], 1, m[5]);\r\n            }\r\n            else{\r\n              ctx.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\r\n            }\r\n          }\r\n}\r\nvar canvas = new fabric.Canvas('c') ;\r\n\r\nvar line1 = new fabric.Line([0, 5, 20, 15],{\r\n  strokeWidth: 1,\r\n  stroke: 'black',\r\n  ignoreZoomHLine: true\r\n});\r\n\r\nvar line2 = new fabric.Line([0, 0, 0, 50],{\r\n  strokeWidth: 1,\r\n  stroke: 'black',\r\n  ignoreZoom: true\r\n});\r\n\r\ncanvas.add(line1, line2) ;\r\n$('#zoomIn').click(function(){\r\n        var vpt = canvas.viewportTransform;\r\n        var scaleX = vpt[0] + 1;\r\n        canvas.setViewportTransform([scaleX, 0, 0, 1, 0, 0]);\r\n    }) ;\r\n    \r\n$('#zoomOut').click(function(){\r\n        var vpt = canvas.viewportTransform;\r\n        var scaleX = (vpt[0] - 1) &lt; 1 ? 1 : vpt[0] - 1; \r\n        canvas.setViewportTransform([scaleX, 0, 0, 1, 0, 0]) ;\r\n    });</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/fabric.js/3.3.2/fabric.min.js\" integrity=\"sha256-tzYSKRkV1Ga9YrVBiNHG44eEQyRcwtNrqOMh2+CTlec=\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\r\n&lt;button id=\"zoomIn\"&gt;+&lt;/button&gt;\r\n&lt;button id=\"zoomOut\"&gt;-&lt;/button&gt;\r\n&lt;div id=\"canvasContainer\"&gt;\r\n    &lt;canvas id=\"c\" width=\"400\" height=\"400\"&gt;&lt;/canvas&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>this snippet speaks for itself. At the beginning all lines are joined together. but after transform the object is separated.</p>\n\n<p>Any help is greatly appreciated</p>\n"}, {"tags": ["javascript", "arrays", "object", "filter"], "answers": [{"comments": [{"owner": {"reputation": 964, "user_id": 3550183, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/b641c307007e973d90e33737c2d3a48f?s=128&d=identicon&r=PG&f=1", "display_name": "Doug", "link": "https://stackoverflow.com/users/3550183/doug"}, "edited": false, "score": 0, "creation_date": 1566429808, "post_id": 57600186, "comment_id": 101657733, "body": "I guess this is the best way to do it."}], "tags": [], "owner": {"reputation": 447, "user_id": 4194293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cz0qH.png?s=128&g=1", "display_name": "Jose Nuno", "link": "https://stackoverflow.com/users/4194293/jose-nuno"}, "is_accepted": true, "score": 3, "last_activity_date": 1566428755, "creation_date": 1566428755, "answer_id": 57600186, "question_id": 57600147, "link": "https://stackoverflow.com/questions/57600147/cant-filter-object-out-of-array/57600186#57600186", "title": "Can&#39;t filter object out of array", "body": "<p>This would work:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const foo = [{foo: 'bar'}, {baz: 'bar'}];\r\nconst bar = foo.filter(function(i) {\r\n  return i.foo !== 'bar'\r\n});\r\n\r\nconsole.log(bar);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You should compare the property 'foo' itself instead of comparing both objects</p>\n"}, {"tags": [], "owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "is_accepted": false, "score": 2, "last_activity_date": 1566429862, "last_edit_date": 1566429862, "creation_date": 1566428778, "answer_id": 57600188, "question_id": 57600147, "link": "https://stackoverflow.com/questions/57600147/cant-filter-object-out-of-array/57600188#57600188", "title": "Can&#39;t filter object out of array", "body": "<p>Almost, <code>i</code> is the actual object. So you just need to compare <code>i.foo</code> to the string <code>bar</code> instead. Doing a comparison against an object like <code>i === {}</code> will never work. You would need to compare all of the properties in <code>i</code> and your <code>object</code>. There are plenty of deep compare helpers / examples out there if you were wanting that sort of thing.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\" rel=\"nofollow noreferrer\">Array.filter</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>/*\r\nfoo = [{foo: 'bar'}, {baz: 'bar'}];\r\nbar = foo.filter(function(i) {\r\n  return i !== {foo: 'bar'} // &lt;-- You can't compare i to an object like this\r\n})\r\n*/\r\n\r\n/**\r\n* Array.filter will provide you with each object in your array.\r\n* `i` is already the object in which you're trying to compare\r\n* so you just need to access the property you want to compare (foo)\r\n* and then compare if to the string 'bar'. i !== { prop: 'val' }\r\n* will not give you accurate results\r\n*/\r\nfoo = [{foo: 'bar'}, {baz: 'bar'}];\r\nbar = foo.filter(function(i) {\r\n  return i.foo !== 'bar'; // i is already the object. Access the property and then compare\r\n});\r\nconsole.log(bar);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If you think you need to run a deep compare, take a look at this: <a href=\"https://stackoverflow.com/questions/1068834/object-comparison-in-javascript\">Object comparison in JavaScript</a></p>\n"}, {"comments": [{"owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "edited": false, "score": 0, "creation_date": 1566429743, "post_id": 57600201, "comment_id": 101657714, "body": "(Didn&#39;t down vote you). I like your catch on comparing the property AND value. but I think op is strictly after the object where the property foo is equal to bar"}], "tags": [], "owner": {"reputation": 73217, "user_id": 379235, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qSUBs.png?s=128&g=1", "display_name": "daydreamer", "link": "https://stackoverflow.com/users/379235/daydreamer"}, "is_accepted": false, "score": -1, "last_activity_date": 1566428867, "creation_date": 1566428867, "answer_id": 57600201, "question_id": 57600147, "link": "https://stackoverflow.com/questions/57600147/cant-filter-object-out-of-array/57600201#57600201", "title": "Can&#39;t filter object out of array", "body": "<p>You need to open up the object for the comparison. Something like this would work</p>\n\n<pre><code>foo = [{foo: 'bar'}, {baz: 'bar'}];\nbar = foo.filter(function(i) {\n   const [key, value] = Object.entries(i)[0];\n   return key === 'foo' &amp;&amp; value === 'bar'\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1938, "user_id": 9272040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rYjVg.jpg?s=128&g=1", "display_name": "Udo E.", "link": "https://stackoverflow.com/users/9272040/udo-e"}, "is_accepted": false, "score": 0, "last_activity_date": 1566429159, "creation_date": 1566429159, "answer_id": 57600231, "question_id": 57600147, "link": "https://stackoverflow.com/questions/57600147/cant-filter-object-out-of-array/57600231#57600231", "title": "Can&#39;t filter object out of array", "body": "<p>Using a shorter notation</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let foo = [{foo: 'bar'}, {baz: 'bar'}];\r\nlet bar = foo.filter(i =&gt; i.foo !== 'bar');\r\n\r\nconsole.log(bar);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 964, "user_id": 3550183, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/b641c307007e973d90e33737c2d3a48f?s=128&d=identicon&r=PG&f=1", "display_name": "Doug", "link": "https://stackoverflow.com/users/3550183/doug"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 57600186, "answer_count": 4, "score": 1, "last_activity_date": 1566429862, "creation_date": 1566428552, "question_id": 57600147, "link": "https://stackoverflow.com/questions/57600147/cant-filter-object-out-of-array", "title": "Can&#39;t filter object out of array", "body": "<p>I'm trying to use the following to filter an object out of an array:</p>\n\n<pre><code>foo = [{foo: 'bar'}, {baz: 'bar'}];\nbar = foo.filter(function(i) {\n  return i !== {foo: 'bar'}\n})\n</code></pre>\n\n<p>When I log <code>bar</code> afterwards, I get the full array.</p>\n\n<p>The following code</p>\n\n<pre><code>foo.filter(function(i) {\n  console.log(i === {foo: 'bar'});\n  console.log(i);\n  console.log({foo: 'bar'});\n  return i !== {foo: 'bar'}\n})\n</code></pre>\n\n<p>returns: </p>\n\n<pre><code>false\n{ foo: 'bar' }\n{ foo: 'bar' }\nfalse\n{ baz: 'bar' }\n{ foo: 'bar' }\n[ { foo: 'bar' }, { baz: 'bar' } ]\n</code></pre>\n\n<p>What am I missing here??</p>\n"}, {"tags": ["javascript", "css", "reactjs"], "comments": [{"owner": {"reputation": 73217, "user_id": 379235, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qSUBs.png?s=128&g=1", "display_name": "daydreamer", "link": "https://stackoverflow.com/users/379235/daydreamer"}, "edited": false, "score": 0, "creation_date": 1566428479, "post_id": 57600122, "comment_id": 101657430, "body": "Where is the code for <code>Day</code> Component?"}, {"owner": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "edited": false, "score": 0, "creation_date": 1566429213, "post_id": 57600122, "comment_id": 101657594, "body": "Most likely you are rendering a <code>&lt;div&gt;</code> for the day component. This is a block level element and default layout is full width. You can either put <code>display: inline-block;</code> as the override for the way it should be displayed or you can use flex or css grid to arrange the days from a parent element"}], "answers": [{"tags": [], "owner": {"reputation": 26112, "user_id": 8526705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buwQ5.jpg?s=128&g=1", "display_name": "Dacre Denny", "link": "https://stackoverflow.com/users/8526705/dacre-denny"}, "is_accepted": false, "score": 1, "last_activity_date": 1566429125, "last_edit_date": 1566429125, "creation_date": 1566428741, "answer_id": 57600181, "question_id": 57600122, "link": "https://stackoverflow.com/questions/57600122/how-to-render-a-state-list-on-one-line/57600181#57600181", "title": "How to render a State List on one line?", "body": "<p>One option would be to \"wrap\" your <code>&lt;Day /&gt;</code> components in a container that is displayed with flex-box so that the <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Flexible_Box_Layout/Basic_Concepts_of_Flexbox#The_main_axis\" rel=\"nofollow noreferrer\">layout axis of that container's children are horizontal</a>. </p>\n\n<p>The wrapper could be introduced into the render result of <code>&lt;DayList /&gt;</code>, to cause this horizontal arrangement of the <code>&lt;Day/&gt;</code> child components. </p>\n\n<p>So for example, by adding the following CSS and JSX to your project you could achieve the desired result:</p>\n\n<p><strong>CSS</strong></p>\n\n<pre><code>.horizontal-layout {\n    display:flex;\n    flex-direction:row;\n}\n</code></pre>\n\n<p><strong>DayList.js</strong></p>\n\n<pre><code>render() {\n\n    const props = /* ... from somewhere in your code ... */\n\n    /* \n    Cause the \"Day\" children of \"DayList\" to be wrapped in a container styled\n    with flex-box that produces a horizontal layout\n    */\n    return &lt;div className=\"horizontal-layout\"&gt;{ props.days.map(() =&gt; &lt;Day /&gt;)&lt;/div&gt;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 65, "user_id": 1301939, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Frpa4.jpg?s=128&g=1", "display_name": "Musadiq Khan", "link": "https://stackoverflow.com/users/1301939/musadiq-khan"}, "is_accepted": false, "score": 0, "last_activity_date": 1566430498, "creation_date": 1566430498, "answer_id": 57600357, "question_id": 57600122, "link": "https://stackoverflow.com/questions/57600122/how-to-render-a-state-list-on-one-line/57600357#57600357", "title": "How to render a State List on one line?", "body": "<p>It is more of a styling job. Give your div className='horizontal-layout' and you can do something like this.</p>\n\n<pre><code>.horizontal-layout {\n  display: grid;\n  grid-template-columns: auto auto auto auto auto auto auto;\n  grid-gap: 10px;\n  padding: 10px;\n}\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 7039611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2c076a258d28e47d96b9b8391d377e1?s=128&d=identicon&r=PG&f=1", "display_name": "johntc121", "link": "https://stackoverflow.com/users/7039611/johntc121"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1566430498, "creation_date": 1566428347, "question_id": 57600122, "link": "https://stackoverflow.com/questions/57600122/how-to-render-a-state-list-on-one-line", "title": "How to render a State List on one line?", "body": "<p>I have 3 files, App.js, Day.js, DayList.js and I'm trying to render the DayList all on one line.</p>\n\n<p>Its set up like this:</p>\n\n<p>App.js</p>\n\n<pre><code>state: [\n  days: {day1, day2, day3...}\n]\n\nrender() {\n  return(\n      &lt;DayList /&gt;\n   )}\n</code></pre>\n\n<p>DayList.js</p>\n\n<pre><code>props.days.map(...\n    &lt;Day /&gt;...)\n</code></pre>\n\n<p>Instead of App.js rendering it like:</p>\n\n<pre><code>Head\nDay1\nDay2\nDay3\n</code></pre>\n\n<p>I would like it to be rendered like:</p>\n\n<pre><code>Head\nDay1 Day2 Day3\n</code></pre>\n\n<p>But I cant figure it out for some reason...Any help?</p>\n"}, {"tags": ["javascript", "html", "css", "reactjs"], "comments": [{"owner": {"reputation": 39296, "user_id": 560299, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c38fe465734e8428048585e0acf6174f?s=128&d=identicon&r=PG", "display_name": "Ibu", "link": "https://stackoverflow.com/users/560299/ibu"}, "edited": false, "score": 0, "creation_date": 1566432813, "post_id": 57600023, "comment_id": 101658267, "body": "loop through the images and set a timer (setTimeout) for when you want them to fade in."}], "answers": [{"comments": [{"owner": {"reputation": 2310, "user_id": 7624223, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/4A2dN.png?s=128&g=1", "display_name": "Joji", "link": "https://stackoverflow.com/users/7624223/joji"}, "edited": false, "score": 0, "creation_date": 1566928770, "post_id": 57600646, "comment_id": 101806753, "body": "Hi thank you so much for you answer. However there was one problem. Please take a look at this question : <a href=\"https://stackoverflow.com/questions/57671489/react-trying-to-achieve-a-sequential-fade-in-effect-with-a-masonry-layout-but-i\" title=\"react trying to achieve a sequential fade in effect with a masonry layout but i\">stackoverflow.com/questions/57671489/&hellip;</a>"}], "tags": [], "owner": {"reputation": 843, "user_id": 7644199, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jduliVbLPXM/AAAAAAAAAAI/AAAAAAAAAL8/ppXNXXAGXMg/photo.jpg?sz=128", "display_name": "joseluismurillorios", "link": "https://stackoverflow.com/users/7644199/joseluismurillorios"}, "is_accepted": true, "score": 1, "last_activity_date": 1566433777, "creation_date": 1566433777, "answer_id": 57600646, "question_id": 57600023, "link": "https://stackoverflow.com/questions/57600023/how-can-i-achieve-this-sequential-fade-in-effect/57600646#57600646", "title": "How can I achieve this sequential fade-in effect?", "body": "<p>I edited your code a little bit, let me explain what I've done:</p>\n\n<p>First we need to start with zero opacity images till those are loaded, we can also add a delay transition based on the index of the image.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>&lt;Image\n  pose={pose}\n  {...props}\n  style={{\n    opacity: this.state.opacity,\n    transition: \"opacity 2s cubic-bezier(0.25,0.46,0.45,0.94)\",\n    transitionDelay: `${props.index * 0.5}s`\n  }}\n/&gt;\n</code></pre>\n\n<p>We also need to add a setter function to change the opacity state via refs:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>toggleOpacity = o =&gt; {\n  this.setState({ opacity: o });\n};\n</code></pre>\n\n<p>The tricky part was to track the images refs, this is how it looks, we also removed all keyframes since those are no longer necessary:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const Gallery = () =&gt; {\n  const [isSelected, setIsSelected] = useState(null);\n  const refs = {};\n\n  let images = [];\n  for (let i = 0; i &lt; 10; i++) {\n    refs[i] = useRef(null);\n    let height = Math.floor(Math.random() * 400 + 400);\n    let width = Math.floor(Math.random() * 400 + 400);\n    images.push(\n      &lt;PicContainer index={i} key={i} selected={isSelected}&gt;\n        &lt;ZoomImg\n          src={`https://source.unsplash.com/random/${height}x${width}`}\n          onLoad={() =&gt; {\n            // Calling ref function\n            refs[i].current.toggleOpacity(1);\n          }}\n          // Setting ref\n          ref={refs[i]}\n          index={i}\n          setIsSelected={setIsSelected}\n        /&gt;\n      &lt;/PicContainer&gt;\n    );\n  }\n\n  return (\n    &lt;Mansory gap={\"15em\"} minWidth={600}&gt;\n      {images.map(image =&gt; image)}\n    &lt;/Mansory&gt;\n  );\n};\n</code></pre>\n\n<p><a href=\"https://codesandbox.io/s/suspicious-sky-kpovb\" rel=\"nofollow noreferrer\">Here is the full example</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 208, "user_id": 11956194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466587ae55d5c06efa8c9e1ee713282b?s=128&d=identicon&r=PG&f=1", "display_name": "Himali Patel", "link": "https://stackoverflow.com/users/11956194/himali-patel"}, "is_accepted": false, "score": 1, "last_activity_date": 1566452913, "creation_date": 1566452913, "answer_id": 57602737, "question_id": 57600023, "link": "https://stackoverflow.com/questions/57600023/how-can-i-achieve-this-sequential-fade-in-effect/57602737#57602737", "title": "How can I achieve this sequential fade-in effect?", "body": "<p>Here's an example. The HTML requires a div to be wrapped around the whole of the body content if you want it to fade in all at once. Look for this:</p>\n\n<pre><code>&lt;div class=\"wrapper fade-in\"&gt;\n</code></pre>\n\n<p>There's a lot of stuff you can do with CSS, I've been using it for years and I still learn something new every once in a while.</p>\n\n<p>All the animation commands will appear in your CSS like so:</p>\n\n<pre><code>@keyframes fadeIn\n  to { \n     opacity: 1; }\n</code></pre>\n\n<p>Then your divs are going to have a class that calls the animation (@keyframes):</p>\n\n<pre><code>.fade-in {\n  animation: fadeIn 1.0s ease forwards;\n  [other div properties can be included here]\n}\n</code></pre>\n\n<p>The HTML will look like this:</p>\n\n<pre><code>&lt;div class=\"fade-in\"&gt;\n[content]\n&lt;/div&gt;\n</code></pre>\n\n<p>Finally, you'll need to make sure you include the vendor codes to make it compatible with all browsers [which adds a fair amount of code, which is why jQuery can be a better option for this stuff]:</p>\n\n<pre><code>@keyframes fadeIn{\n  0% {\n    opacity:0;\n  }\n  100% {\n    opacity:1;\n  }\n}\n\n@-moz-keyframes fadeIn {\n  0% {\n    opacity:0;\n  }\n  100% {\n    opacity:1;\n  }\n}\n\n@-webkit-keyframes fadeIn {\n  0% {\n    opacity:0;\n  }\n  100% {\n    opacity:1;\n  }\n}\n\n@-o-keyframes fadeIn {\n  0% {\n    opacity:0;\n  }\n  100% {\n    opacity:1;\n  }\n}\n\n@-ms-keyframes fadeIn {\n  0% {\n    opacity:0;\n  }\n  100% {\n    opacity:1;\n  }\n}\n</code></pre>\n\n<p>The vendor codes will have to be duplicated again in your div class in the CSS:</p>\n\n<pre><code>.fade-in {\n  animation: fadeIn ease 5s;\n  -webkit-animation: fadeIn ease 5s;\n  -moz-animation: fadeIn ease 5s;\n  -o-animation: fadeIn ease 5s;\n  -ms-animation: fadeIn ease 5s;\n}\n</code></pre>\n"}], "owner": {"reputation": 2310, "user_id": 7624223, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/4A2dN.png?s=128&g=1", "display_name": "Joji", "link": "https://stackoverflow.com/users/7624223/joji"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 57600646, "answer_count": 2, "score": 0, "last_activity_date": 1566452913, "creation_date": 1566427428, "question_id": 57600023, "link": "https://stackoverflow.com/questions/57600023/how-can-i-achieve-this-sequential-fade-in-effect", "title": "How can I achieve this sequential fade-in effect?", "body": "<p>I came across this page <a href=\"https://pepecph.com/\" rel=\"nofollow noreferrer\">https://pepecph.com/</a> and thought the fade in effect of the pictures were really cool.</p>\n\n<p>I tried to imitate that effect with <code>styled-component</code> to pass each picture's index as a way to separate them when they are all fading in.</p>\n\n<pre><code>-webkit-animation: ${props =&gt;\n    `fadein ${props.index}s`}; /* Safari, Chrome and Opera &gt; 12.1 */\n\n  @keyframes fadein {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n</code></pre>\n\n<p>Here is the demo: <a href=\"https://codesandbox.io/s/focused-clarke-eduf1\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/focused-clarke-eduf1</a></p>\n\n<p>However it is not quite doing what that page seems to be doing, no matter how I adjust the time of fade-in. On the original page(<a href=\"https://pepecph.com/\" rel=\"nofollow noreferrer\">https://pepecph.com/</a>), every picture is showing up fast and <strong>delayed</strong> differently for some time. And I inspect the image element of the original page, it has this line of css </p>\n\n<pre><code>transition: top 70ms cubic-bezier(0.25,0.46,0.45,0.94),left 70ms cubic-bezier(0.25,0.46,0.45,0.94),transform 70ms cubic-bezier(0.25,0.46,0.45,0.94),height 150ms cubic-bezier(0.25,0.46,0.45,0.94) 70ms,-webkit-transform 70ms cubic-bezier(0.25,0.46,0.45,0.94)\n</code></pre>\n\n<p>I am not good at css so I don't know if this has something to do with that visual effect.</p>\n"}, {"tags": ["javascript", "php", "jquery", "countdown", "countdowntimer"], "comments": [{"owner": {"reputation": 224, "user_id": 4839724, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Htek5axP53k/AAAAAAAAAAI/AAAAAAAARfs/kY9oFyG6pNM/photo.jpg?sz=128", "display_name": "Steve", "link": "https://stackoverflow.com/users/4839724/steve"}, "edited": false, "score": 0, "creation_date": 1566429999, "post_id": 57600021, "comment_id": 101657775, "body": "You have the same id attribute for each span tag. The id attribute needs to be unique for each element in the DOM."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 6822160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a161ea2308ad0574dea9b9c5dafe691e?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan Mayes", "link": "https://stackoverflow.com/users/6822160/nathan-mayes"}, "edited": false, "score": 0, "creation_date": 1566469790, "post_id": 57601488, "comment_id": 101670056, "body": "This worked exactly how I needed it to, thank you so much for the help!"}], "tags": [], "owner": {"reputation": 130, "user_id": 6903630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t1lKU.jpg?s=128&g=1", "display_name": "N. Alcuino", "link": "https://stackoverflow.com/users/6903630/n-alcuino"}, "is_accepted": true, "score": 1, "last_activity_date": 1566443228, "last_edit_date": 1566443228, "creation_date": 1566442774, "answer_id": 57601488, "question_id": 57600021, "link": "https://stackoverflow.com/questions/57600021/multiuse-and-reusable-javascript-countdown-timer/57601488#57601488", "title": "Multiuse and reusable JavaScript countdown timer", "body": "<p>I hope it helps.\nI used Jquery and class instead of ids.\nNote you can't use the same ids and it only rendered only 1 id.</p>\n\n<pre><code>&lt;span class=\"countdown_timer_sm\" endtime=\"4567425139\"&gt;TIMERTEST&lt;/span&gt;&lt;br/&gt;\n&lt;span class=\"countdown_timer_sm\" endtime=\"1567425139\"&gt;TIMERTEST&lt;/span&gt;&lt;br/&gt;\n&lt;span class=\"countdown_timer_sm\" endtime=\"3567425139\"&gt;TIMERTEST&lt;/span&gt;&lt;br/&gt;\n&lt;span class=\"countdown_timer_sm\" endtime=\"2567425139\"&gt;TIMERTEST&lt;/span&gt;\n\n&lt;script\nsrc=\"https://code.jquery.com/jquery-3.4.1.min.js\"\nintegrity=\"sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=\"\ncrossorigin=\"anonymous\"&gt;&lt;/script&gt;\n\n$(function(){\n\n$('.countdown_timer_sm').each(function(){\n    $endTime = $(this).attr('endtime');\n    $span = $(this);\n    interval($endTime,$span);\n  });\n\n  function interval($endTime,$span){\n    setInterval(\n      function(){\n        timer($endTime, $span);\n      }, 1000);\n  }\n\n    function timer($endTime, $thisSpan){\n      var timeInSeconds = Math.floor(Date.now() / 1000);\n      var timeRemaining = $endTime - timeInSeconds; \n      var hours   = Math.floor(timeRemaining / 3600);\n      var minutes = Math.floor((timeRemaining - (hours * 3600)) / 60);\n      var seconds = timeRemaining - (hours * 3600) - (minutes * 60);\n      if(seconds &lt; 10) { seconds = \"0\" + seconds; } else { seconds = seconds; }\n      if(minutes &lt; 10) { minutes = \"0\" + minutes; } else { minutes = minutes; }\n      if(hours &lt; 10) { hours = \"0\" + hours; } else { hours = hours; }\n      //console.log($thisSpan);\n      $thisSpan.html(hours + \":\" + minutes + \":\" + seconds);\n\n        if($endTime &lt;= timeInSeconds) { \n          clearInterval(); location.reload(); \n        }\n      };\n\n})\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 6822160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a161ea2308ad0574dea9b9c5dafe691e?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan Mayes", "link": "https://stackoverflow.com/users/6822160/nathan-mayes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 302, "favorite_count": 0, "accepted_answer_id": 57601488, "answer_count": 1, "score": 1, "last_activity_date": 1566443228, "creation_date": 1566427393, "question_id": 57600021, "link": "https://stackoverflow.com/questions/57600021/multiuse-and-reusable-javascript-countdown-timer", "title": "Multiuse and reusable JavaScript countdown timer", "body": "<p>I am trying to create a countdown timer that can be used for an infinate number of uses on a page, and one I can reuse just by add a class to a span called 'timer'. </p>\n\n<p>I have the following countdown timer which works a treat, but I have to copy the code of the timer for every timer I need (which isn't great programming) and makes it impossible to reuse as much times as I need.</p>\n\n<pre><code>&lt;script&gt;\n\n    $(document).ready(function() {\n\n        timer();\n\n        function timer() {\n            var endTime = \"&lt;?php echo $planet-&gt;constructionarray[$i]['end_time']; ?&gt;\";\n            var timeInSeconds = Math.floor(Date.now() / 1000);\n            var timeRemaining = endTime - timeInSeconds; \n\n            var hours   = Math.floor(timeRemaining / 3600);\n            var minutes = Math.floor((timeRemaining - (hours * 3600)) / 60);\n            var seconds = timeRemaining - (hours * 3600) - (minutes * 60);\n\n            if(seconds &lt; 10) { seconds = \"0\" + seconds; } else { seconds = seconds; }\n            if(minutes &lt; 10) { minutes = \"0\" + minutes; } else { minutes = minutes; }\n            if(hours &lt; 10) { hours = \"0\" + hours; } else { hours = hours; }\n\n            $(\"#timer&lt;?php echo $i; ?&gt;\").text(hours + \":\" + minutes + \":\" + seconds);\n\n            if(endTime &lt;= timeInSeconds) { clearInterval(interval); location.reload(); }\n\n         };\n\n    interval = setInterval(timer, 1000);\n\n      })(jQuery);\n\n&lt;/script&gt;\n</code></pre>\n\n<p>I have tried creating a new timer with the following code, this works, but only works on the first span on the page.</p>\n\n<pre><code>&lt;span id=\"countdown_timer_sm\" endtime=\"1567425139\"&gt;TIMERTEST&lt;/span&gt;&lt;br/&gt;\n&lt;span id=\"countdown_timer_sm\" endtime=\"1567425139\"&gt;TIMERTEST&lt;/span&gt;&lt;br/&gt;\n&lt;span id=\"countdown_timer_sm\" endtime=\"1567425139\"&gt;TIMERTEST&lt;/span&gt;&lt;br/&gt;\n&lt;span id=\"countdown_timer_sm\" endtime=\"1567925139\"&gt;TIMERTEST&lt;/span&gt;\n\n$(document).ready(function() {\n    timer();\n\n    function timer() {\n\n            var endTime = document.getElementById('countdown_timer_sm').getAttribute(\"endtime\");        \n            var timeInSeconds = Math.floor(Date.now() / 1000);\n            var timeRemaining = endTime - timeInSeconds; \n\n            var hours   = Math.floor(timeRemaining / 3600);\n            var minutes = Math.floor((timeRemaining - (hours * 3600)) / 60);\n            var seconds = timeRemaining - (hours * 3600) - (minutes * 60);\n\n            if(seconds &lt; 10) { seconds = \"0\" + seconds; } else { seconds = seconds; }\n            if(minutes &lt; 10) { minutes = \"0\" + minutes; } else { minutes = minutes; }\n            if(hours &lt; 10) { hours = \"0\" + hours; } else { hours = hours; }\n\n            document.getElementById('countdown_timer_sm').innerHTML = (hours + \":\" + minutes + \":\" + seconds);\n\n            if(endTime &lt;= timeInSeconds) { clearInterval(interval); location.reload(); }\n\n    };\n\n        interval = setInterval(timer, 1000);            \n\n})(jQuery);\n\n</code></pre>\n\n<p>Could anyone give me some guidance please?</p>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 2829, "user_id": 6388552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJiGS.jpg?s=128&g=1", "display_name": "ths", "link": "https://stackoverflow.com/users/6388552/ths"}, "edited": false, "score": 0, "creation_date": 1566427599, "post_id": 57600015, "comment_id": 101657254, "body": "<code>&#39;flexWrap&#39; in document.body.style</code> build on it maybe..."}, {"owner": {"reputation": 2023, "user_id": 7448536, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/--Yrr18KVHdU/AAAAAAAAAAI/AAAAAAAABMw/wlxMIzKkAck/photo.jpg?sz=128", "display_name": "Wendelin", "link": "https://stackoverflow.com/users/7448536/wendelin"}, "edited": false, "score": 0, "creation_date": 1566427623, "post_id": 57600015, "comment_id": 101657261, "body": "do you need to know it in css or in js?"}, {"owner": {"reputation": 3840, "user_id": 2235287, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/056906762f11a6e50b59087b9d5cbafd?s=128&d=identicon&r=PG", "display_name": "Cheese", "link": "https://stackoverflow.com/users/2235287/cheese"}, "reply_to_user": {"reputation": 2023, "user_id": 7448536, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/--Yrr18KVHdU/AAAAAAAAAAI/AAAAAAAABMw/wlxMIzKkAck/photo.jpg?sz=128", "display_name": "Wendelin", "link": "https://stackoverflow.com/users/7448536/wendelin"}, "edited": false, "score": 0, "creation_date": 1566427732, "post_id": 57600015, "comment_id": 101657287, "body": "@Wendelin i want to have info in JS, to swap a template used"}, {"owner": {"reputation": 3840, "user_id": 2235287, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/056906762f11a6e50b59087b9d5cbafd?s=128&d=identicon&r=PG", "display_name": "Cheese", "link": "https://stackoverflow.com/users/2235287/cheese"}, "reply_to_user": {"reputation": 2829, "user_id": 6388552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJiGS.jpg?s=128&g=1", "display_name": "ths", "link": "https://stackoverflow.com/users/6388552/ths"}, "edited": false, "score": 0, "creation_date": 1566427865, "post_id": 57600015, "comment_id": 101657314, "body": "@ths your suggestion also returns true"}, {"owner": {"reputation": 2023, "user_id": 7448536, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/--Yrr18KVHdU/AAAAAAAAAAI/AAAAAAAABMw/wlxMIzKkAck/photo.jpg?sz=128", "display_name": "Wendelin", "link": "https://stackoverflow.com/users/7448536/wendelin"}, "edited": false, "score": 3, "creation_date": 1566427881, "post_id": 57600015, "comment_id": 101657320, "body": "@Cheese have you tried <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CSS/supports\" rel=\"nofollow noreferrer\">CSS.supports()</a>? <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/@supports\" rel=\"nofollow noreferrer\">CSS Feature queries</a> Might also help you"}, {"owner": {"reputation": 2829, "user_id": 6388552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJiGS.jpg?s=128&g=1", "display_name": "ths", "link": "https://stackoverflow.com/users/6388552/ths"}, "edited": false, "score": 0, "creation_date": 1566427919, "post_id": 57600015, "comment_id": 101657330, "body": "@Cheese is the <code>flex-wrap</code> applied when inspecting the page ?"}, {"owner": {"reputation": 3840, "user_id": 2235287, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/056906762f11a6e50b59087b9d5cbafd?s=128&d=identicon&r=PG", "display_name": "Cheese", "link": "https://stackoverflow.com/users/2235287/cheese"}, "reply_to_user": {"reputation": 2023, "user_id": 7448536, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/--Yrr18KVHdU/AAAAAAAAAAI/AAAAAAAABMw/wlxMIzKkAck/photo.jpg?sz=128", "display_name": "Wendelin", "link": "https://stackoverflow.com/users/7448536/wendelin"}, "edited": false, "score": 0, "creation_date": 1566428429, "post_id": 57600015, "comment_id": 101657425, "body": "@Wendelin tries the CSS.supports(&quot;flex-wrap&quot;, &quot;wrap&quot;) - returns true also... strange, because CSS.supports in this android browser is not supported =) It should have failed..."}, {"owner": {"reputation": 3840, "user_id": 2235287, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/056906762f11a6e50b59087b9d5cbafd?s=128&d=identicon&r=PG", "display_name": "Cheese", "link": "https://stackoverflow.com/users/2235287/cheese"}, "reply_to_user": {"reputation": 2829, "user_id": 6388552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJiGS.jpg?s=128&g=1", "display_name": "ths", "link": "https://stackoverflow.com/users/6388552/ths"}, "edited": false, "score": 0, "creation_date": 1566428623, "post_id": 57600015, "comment_id": 101657450, "body": "@ths Yes, it is applied"}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1566429277, "post_id": 57600015, "comment_id": 101657603, "body": "If you know your target is Android 4.4.2, and <a href=\"https://caniuse.com/#search=flex-wrap\" rel=\"nofollow noreferrer\">you know that it supports flex-wrap</a>, why do you need to detect support? The fact that you&#39;re getting <code>true</code> is correct: Android 4.4.2 supports flex-wrap just fine, so are you <i>sure</i> that&#39;s where your error is?"}, {"owner": {"reputation": 3840, "user_id": 2235287, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/056906762f11a6e50b59087b9d5cbafd?s=128&d=identicon&r=PG", "display_name": "Cheese", "link": "https://stackoverflow.com/users/2235287/cheese"}, "reply_to_user": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1566429563, "post_id": 57600015, "comment_id": 101657665, "body": "@Mike&#39;Pomax&#39;Kamermans if you will read the &quot;Can i use&quot; more carefully, it says supports on 4.4.3 - 4.4.4 NOT the 4.4.2"}, {"owner": {"reputation": 12065, "user_id": 367865, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/78bdafae5cf469e2abebad372bb4e222?s=128&d=identicon&r=PG", "display_name": "Ouroborus", "link": "https://stackoverflow.com/users/367865/ouroborus"}, "edited": false, "score": 0, "creation_date": 1566442308, "post_id": 57600015, "comment_id": 101659752, "body": "modernizr works by checking that the particular <code>.style</code> property is defined and can be set to the specific value. Known <code>.style</code> properties usually refuse to set if you try to set them to something invalid. Known style properties also have a default value, often <code>&quot;&quot;</code>, while unknown style properties are generally <code>undefined</code>. But it seems like that browser/version isn&#39;t behaving that way. Maybe there&#39;s a way to take advantage of that."}, {"owner": {"reputation": 3512, "user_id": 6656062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d3f221ab82d208a398f3da614b247328?s=128&d=identicon&r=PG&f=1", "display_name": "cjl750", "link": "https://stackoverflow.com/users/6656062/cjl750"}, "edited": false, "score": 0, "creation_date": 1566458501, "post_id": 57600015, "comment_id": 101664221, "body": "Are you using the Samsung browser when checking this? It&#39;s possible that the property is supported but just implemented poorly. I&#39;ve noticed flexbox bugs in the Samsung browser before. That would explain why the styles are applied when you inspect it and all your tests keep coming back true but your page still looks wrong."}, {"owner": {"reputation": 3840, "user_id": 2235287, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/056906762f11a6e50b59087b9d5cbafd?s=128&d=identicon&r=PG", "display_name": "Cheese", "link": "https://stackoverflow.com/users/2235287/cheese"}, "reply_to_user": {"reputation": 3512, "user_id": 6656062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d3f221ab82d208a398f3da614b247328?s=128&d=identicon&r=PG&f=1", "display_name": "cjl750", "link": "https://stackoverflow.com/users/6656062/cjl750"}, "edited": false, "score": 0, "creation_date": 1566498609, "post_id": 57600015, "comment_id": 101685382, "body": "@cjl750 you are right it is Samsung..."}], "answers": [{"comments": [{"owner": {"reputation": 3840, "user_id": 2235287, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/056906762f11a6e50b59087b9d5cbafd?s=128&d=identicon&r=PG", "display_name": "Cheese", "link": "https://stackoverflow.com/users/2235287/cheese"}, "edited": false, "score": 0, "creation_date": 1566498579, "post_id": 57604624, "comment_id": 101685373, "body": "Again - i need a JS solution"}], "tags": [], "owner": {"reputation": 61, "user_id": 11926961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef5846b875e119de7e91d9938927347b?s=128&d=identicon&r=PG&f=1", "display_name": "christiaansnoei", "link": "https://stackoverflow.com/users/11926961/christiaansnoei"}, "is_accepted": false, "score": 0, "last_activity_date": 1566460695, "creation_date": 1566460695, "answer_id": 57604624, "question_id": 57600015, "link": "https://stackoverflow.com/questions/57600015/detecting-if-flex-wrap-is-supported/57604624#57604624", "title": "Detecting if flex wrap is supported", "body": "<p>You can use <code>@supports</code> if you want, this way you don't have to rely on Modernizr. See example for a demo, you can find more info about <code>@supports</code> <a href=\"https://css-tricks.com/how-supports-works/\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.test {\r\n  display: -webkit-box;\r\n  display: -webkit-flex;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  width: 420px;\r\n  padding: 10px 5px 0 5px;\r\n  background: green;\r\n\r\n}\r\n\r\n.test div {\r\n  width: 50px;\r\n  height: 50px;\r\n  margin: 0 5px 10px 5px;\r\n  background: black;\r\n  -webkit-box-flex: 0;\r\n  -webkit-flex: 1 0 auto;\r\n  -ms-flex: 1 0 auto;\r\n  flex: 1 0 auto;\r\n}\r\n\r\n@supports (flex-wrap: wrap) {\r\n  .test {\r\n    -webkit-flex-wrap: wrap;\r\n    -ms-flex-wrap: wrap;\r\n    flex-wrap: wrap;\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"test\"&gt;\r\n  &lt;div&gt;&lt;/div&gt;\r\n  &lt;div&gt;&lt;/div&gt;\r\n  &lt;div&gt;&lt;/div&gt;\r\n  &lt;div&gt;&lt;/div&gt;\r\n  &lt;div&gt;&lt;/div&gt;\r\n  &lt;div&gt;&lt;/div&gt;\r\n  &lt;div&gt;&lt;/div&gt;\r\n  &lt;div&gt;&lt;/div&gt;\r\n  &lt;div&gt;&lt;/div&gt;\r\n  &lt;div&gt;&lt;/div&gt;\r\n&lt;/div&gt;\r\n  </code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 3840, "user_id": 2235287, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/056906762f11a6e50b59087b9d5cbafd?s=128&d=identicon&r=PG", "display_name": "Cheese", "link": "https://stackoverflow.com/users/2235287/cheese"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1566460695, "creation_date": 1566427360, "question_id": 57600015, "link": "https://stackoverflow.com/questions/57600015/detecting-if-flex-wrap-is-supported", "title": "Detecting if flex wrap is supported", "body": "<p>There have been many questions on this. But, i have an old Samsung S2 mini with android 4.4.2 on it.</p>\n\n<p>I have a flexbox on my suite, like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.test {\r\n  \r\n  width: 420px;\r\n  background: green;\r\n      display: -webkit-box;\r\n    display: -webkit-flex;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -webkit-flex-wrap: wrap;\r\n    -ms-flex-wrap: wrap;\r\n    flex-wrap: wrap;\r\n    padding: 10px 5px 0 5px;\r\n  \r\n}\r\n\r\n.test div {\r\n  \r\n  width: 50px;\r\n  height: 50px;\r\n  background: black;\r\n    -webkit-box-flex: 0;\r\n    -webkit-flex: 1 0 auto;\r\n    -ms-flex: 1 0 auto;\r\n    flex: 1 0 auto;\r\n    margin: 0 5px 10px 5px;\r\n  \r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"test\"&gt;\r\n  &lt;div&gt;&lt;/div&gt;\r\n  &lt;div&gt;&lt;/div&gt;\r\n  &lt;div&gt;&lt;/div&gt;\r\n  &lt;div&gt;&lt;/div&gt;\r\n  &lt;div&gt;&lt;/div&gt;\r\n  &lt;div&gt;&lt;/div&gt;\r\n  &lt;div&gt;&lt;/div&gt;\r\n  &lt;div&gt;&lt;/div&gt;\r\n  &lt;div&gt;&lt;/div&gt;\r\n  &lt;div&gt;&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>So, when i open my suite - the items are displayed in 1 line ( no wrapping ).</p>\n\n<p>I need to detect if wrapping is not supported - and change the items display template.</p>\n\n<p>So i have used:</p>\n\n<p>Modernizr = for all properties returns true ( like supported ).\n<a href=\"https://stackoverflow.com/questions/26761298/detecting-flex-wrap-support-in-browsers\">Detecting flex-wrap support in browsers</a> - returns true for all ( like supported )\n<a href=\"https://github.com/ergcode/ergonomic.detect_flex\" rel=\"nofollow noreferrer\">https://github.com/ergcode/ergonomic.detect_flex</a> - returns all true ( like supported )</p>\n\n<p>Any ideas how to really achieve this detection?</p>\n"}, {"tags": ["javascript", "node.js", "express", "path"], "comments": [{"owner": {"reputation": 31, "user_id": 5258526, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZQCSHhlMb54/AAAAAAAAAAI/AAAAAAAAAO0/EDMtHo3Dt6g/photo.jpg?sz=128", "display_name": "IAF", "link": "https://stackoverflow.com/users/5258526/iaf"}, "edited": false, "score": 0, "creation_date": 1566428123, "post_id": 57599962, "comment_id": 101657365, "body": "SIDE NOTE: I also already know that it is not wise to include the file extension in public folders due to security risks but this is a close environment and only two users for the application."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1566428293, "post_id": 57599962, "comment_id": 101657400, "body": "The error seems pretty clear that <code>C:\\Sites\\CRM\\public\\uploads\\5d56ebd88f6b3b09f0068f5c\\5d56ece&zwnj;&#8203;48f6b3b09f0068f60\\te&zwnj;&#8203;mpfile</code> does not appear to exist at the exact point in time you are calling <code>fs.renameSync()</code>.  That&#39;s what the error is telling you.  Also, note that with <code>fs.renameSync()</code> there is no third argument for a callback.  That callback argument is only with <code>fs.rename()</code>."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1566428466, "post_id": 57599962, "comment_id": 101657428, "body": "And, <code>correctPath1 = String(correctPath1);</code> is completely unnecessary - accomplishes nothing."}, {"owner": {"reputation": 31, "user_id": 5258526, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZQCSHhlMb54/AAAAAAAAAAI/AAAAAAAAAO0/EDMtHo3Dt6g/photo.jpg?sz=128", "display_name": "IAF", "link": "https://stackoverflow.com/users/5258526/iaf"}, "reply_to_user": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1566437439, "post_id": 57599962, "comment_id": 101659001, "body": "Thanks for the input jfriend00, I do understand what it is reporting back. That is unfortunately not the issue. The path does work in time when I am using it keyed out as a direct string. When I do it with path.normalize I&#39;m attempting to switch it from a pass by reference variable to a pass by value variable. Didn&#39;t know if that was what was causing the error. May of been overkill but also tried the same logic by ensuring it was converted to a unique string not referencing another memory location."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1566438794, "post_id": 57599962, "comment_id": 101659196, "body": "Strings are immutable in Javascript so there&#39;s no need to copy a string to keep it from getting changed.  Every operation that changes a string returns a new string - they never actually change the original.  Further, strings are ALWAYS passed by pointer (not a true reference)."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1566439003, "post_id": 57599962, "comment_id": 101659231, "body": "So, something else  is going on here besides what you show us.  I think we need to see more of the real code in order to help.  By the time you call the <code>fs.rename()</code> either the source file no longer exists or there&#39;s an access permission or rights issue.  ENOENT usually means the source file wasn&#39;t found.  You can try a temporary <code>console.log(fs.existsSync(correctPath1))</code> on the line right before the <code>fs.rename()</code> as a diagnostic."}, {"owner": {"reputation": 31, "user_id": 5258526, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZQCSHhlMb54/AAAAAAAAAAI/AAAAAAAAAO0/EDMtHo3Dt6g/photo.jpg?sz=128", "display_name": "IAF", "link": "https://stackoverflow.com/users/5258526/iaf"}, "reply_to_user": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1566441553, "post_id": 57599962, "comment_id": 101659642, "body": "No luck. Updated above with path confirmation. The directory is there. As I said, it works fine when I use only characters in the string. As soon as I use any variables it no longer works so it rules out admin rights and file not being there. Have also confirmed the paths are exactly the same by console logging the paths as shown in the original code above."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1566442714, "post_id": 57599962, "comment_id": 101659811, "body": "The <b><i>directory</i></b> is there?  <code>fs.rename()</code> is for renaming files, not directories.  Nothing more I can do without a reproducible case to debug."}, {"owner": {"reputation": 31, "user_id": 5258526, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZQCSHhlMb54/AAAAAAAAAAI/AAAAAAAAAO0/EDMtHo3Dt6g/photo.jpg?sz=128", "display_name": "IAF", "link": "https://stackoverflow.com/users/5258526/iaf"}, "reply_to_user": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1566443217, "post_id": 57599962, "comment_id": 101659901, "body": "My apologies, I meant the entire string returned true, both directory path and the file."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1566443516, "post_id": 57599962, "comment_id": 101659945, "body": "Any chance some other code/process still has the file open, preventing you from renaming it?  Can you rename it manually from an OS shell command line?"}, {"owner": {"reputation": 31, "user_id": 5258526, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZQCSHhlMb54/AAAAAAAAAAI/AAAAAAAAAO0/EDMtHo3Dt6g/photo.jpg?sz=128", "display_name": "IAF", "link": "https://stackoverflow.com/users/5258526/iaf"}, "reply_to_user": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1566444383, "post_id": 57599962, "comment_id": 101660080, "body": "Nope, and have already been able to confirm it works as intended when using the string with no variables. Was successfully able to rename <code>tempfile</code> to <code>tempfile1</code>. That doesn&#39;t work though because there are ~500 files it&#39;s going to run through. The filename needs to be a variable and rename works, just not currently with the string containing variables... :/"}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1566445420, "post_id": 57599962, "comment_id": 101660222, "body": "Didn&#39;t know you were doing this in a giant loop.  That opens up new possible issues - see my answer below now that I can see more of your code."}], "answers": [{"comments": [{"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1566446135, "post_id": 57601743, "comment_id": 101660341, "body": "@IAF - If you haven&#39;t seen, I added several more things to my answer, including a simple demo of the type of problem."}, {"owner": {"reputation": 31, "user_id": 5258526, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZQCSHhlMb54/AAAAAAAAAAI/AAAAAAAAAO0/EDMtHo3Dt6g/photo.jpg?sz=128", "display_name": "IAF", "link": "https://stackoverflow.com/users/5258526/iaf"}, "edited": false, "score": 0, "creation_date": 1566446465, "post_id": 57601743, "comment_id": 101660409, "body": "Thank you very much @jfriend00! Will report back after I update."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "reply_to_user": {"reputation": 31, "user_id": 5258526, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZQCSHhlMb54/AAAAAAAAAAI/AAAAAAAAAO0/EDMtHo3Dt6g/photo.jpg?sz=128", "display_name": "IAF", "link": "https://stackoverflow.com/users/5258526/iaf"}, "edited": false, "score": 1, "creation_date": 1566446653, "post_id": 57601743, "comment_id": 101660436, "body": "@IAF - Please let this be a reminder that witholding the larger context of the actual code can make it a lot harder for you to get an answer and certainly makes it a lot harder for us to help you.  It also eliminates our ability to point you in solution directions that you haven&#39;t even though of asking about.  I spend a lot of time here and this happens a lot.  Probably would have seen your issue in 5-10 minutes if we had the larger block of code from the start."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "reply_to_user": {"reputation": 31, "user_id": 5258526, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZQCSHhlMb54/AAAAAAAAAAI/AAAAAAAAAO0/EDMtHo3Dt6g/photo.jpg?sz=128", "display_name": "IAF", "link": "https://stackoverflow.com/users/5258526/iaf"}, "edited": false, "score": 0, "creation_date": 1566446735, "post_id": 57601743, "comment_id": 101660449, "body": "@IAF - Also, please use <code>let</code> instead of <code>var</code> as that contains the variable scope to block level which also makes conflicts less likely."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "reply_to_user": {"reputation": 31, "user_id": 5258526, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZQCSHhlMb54/AAAAAAAAAAI/AAAAAAAAAO0/EDMtHo3Dt6g/photo.jpg?sz=128", "display_name": "IAF", "link": "https://stackoverflow.com/users/5258526/iaf"}, "edited": false, "score": 0, "creation_date": 1566447921, "post_id": 57601743, "comment_id": 101660652, "body": "@AIF - And, <code>throw err</code> inside an async callback does nothing useful."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "reply_to_user": {"reputation": 31, "user_id": 5258526, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZQCSHhlMb54/AAAAAAAAAAI/AAAAAAAAAO0/EDMtHo3Dt6g/photo.jpg?sz=128", "display_name": "IAF", "link": "https://stackoverflow.com/users/5258526/iaf"}, "edited": false, "score": 1, "creation_date": 1566448051, "post_id": 57601743, "comment_id": 101660681, "body": "@AIF - And, I notice you&#39;re using <code>mkdirp()</code>, presumably to make sure a whole path is properly created, but it&#39;s async and you&#39;re not waiting for it to complete before continuing.  That probably will cause problems the first time if the whole directory doesn&#39;t already exist."}, {"owner": {"reputation": 31, "user_id": 5258526, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZQCSHhlMb54/AAAAAAAAAAI/AAAAAAAAAO0/EDMtHo3Dt6g/photo.jpg?sz=128", "display_name": "IAF", "link": "https://stackoverflow.com/users/5258526/iaf"}, "edited": false, "score": 0, "creation_date": 1566448999, "post_id": 57601743, "comment_id": 101660881, "body": "Understood and will do in the future. Narrowed down the issue to fs.writeFileSync and fs.rename are not allowing me to use the original file name. <code>2019-08-16T10:50.wav</code> As soon as I remove the <code>&quot;:&quot;</code> the script ran correctly."}], "tags": [], "owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "is_accepted": true, "score": 1, "last_activity_date": 1566446224, "last_edit_date": 1566446224, "creation_date": 1566445112, "answer_id": 57601743, "question_id": 57599962, "link": "https://stackoverflow.com/questions/57599962/renamesync-not-working-when-referencing-variables/57601743#57601743", "title": "renameSync not working when referencing variables", "body": "<p>Just saw the new code you added.  </p>\n\n<p>This looks to me like shared variables inside a loop using async operations.  </p>\n\n<p>Your loop is going to conflict with itself.  The <code>.forEach()</code> doesn't wait for your async operations to finish so you'll have multiple iterations of the loop running and trying to use the same variables.  You can fix by either stopping the parallel running of operations in the loop or  by very carefully defining variables with <code>let</code> so they are unqiue to each iteration of the loop and using NO shared variables that are ever modified.</p>\n\n<p>The reason there's a problem when you assign to a variable is that variable is in a shared scope and ALL the iterations of the loop are trying to use the same variable, some of them conflicting with one another.</p>\n\n<p>All variables modified inside the <code>.forEach()</code> need to be declared internally to the <code>.forEach()</code> so they are unique and separate for each iteration of the loop.  None of them should be declared at a higher scope.</p>\n\n<p>The variable <code>tempFile</code> is part of the problem.  It will be overwritten by subsequent iterations of the <code>.forEach()</code> loop BEFORE some of your asynchronous operations try to use it.  You have so many nested async operations, I haven't studied every single variabled used inside an async callback to see which other ones may have this same issue.</p>\n\n<p>So, the point where you do this:</p>\n\n<pre><code>var unprocessedPath1 = (__dirname + `/../public/uploads/${tempFile.metadata.parent}/${tempId}/tempfile`);\n</code></pre>\n\n<p><code>tempfile</code> may well have been overwritten by the next iteration of the loop because this happens in deeply nested asynchronous callbacks that will get called after the <code>.forEach()</code> loop has already completed and other values have been potentially written to <code>tempfile</code>.</p>\n\n<p>FYI, you show no declaration at all for the <code>tempFile</code> variable so perhaps its declared at a higher scope or an accidental module level variable.  Just declaring it as:</p>\n\n<pre><code>let tempFile = file;\n</code></pre>\n\n<p>at the top of your <code>.forEach()</code> callback will give each invocation of the loop it's own copy of that variable and will fix at least this first issue.</p>\n\n<hr>\n\n<p>As a simplified example of the problem, run this snippet:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = [1,2,3,4];\r\nconst base = \"base\";\r\nlet tempFile;\r\n\r\ndata.forEach(function(num) {\r\n    tempFile = base + num;\r\n    setTimeout(function() {\r\n       console.log(tempFile);\r\n    }, 1);\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I use <code>setTimeout()</code> here for simplicity's sake as a simple asynchronous callback, but the issue is the same in your code because you're assigning to <code>tempFile</code> at each invocation of the loop and then referencing it in asynchronous callbacks.</p>\n\n<p><code>console.log(tempFile);</code> does not show the desired value because the <code>.forEach()</code> loop runs to its completion before a single async callback gets called (a product of the node.js event loop and how asynchronous operations use it).</p>\n\n<hr>\n\n<p>Whereas, if you move the declaration of <code>tempFile</code> into the loop itself, there's a separate copy of that variable unique to each iteration of the loop and you get the desired output:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = [1,2,3,4];\r\nconst base = \"base\";\r\n\r\ndata.forEach(function(num) {\r\n    let tempFile = base + num;\r\n    setTimeout(function() {\r\n       console.log(tempFile);\r\n    }, 1);\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 31, "user_id": 5258526, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZQCSHhlMb54/AAAAAAAAAAI/AAAAAAAAAO0/EDMtHo3Dt6g/photo.jpg?sz=128", "display_name": "IAF", "link": "https://stackoverflow.com/users/5258526/iaf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 57601743, "answer_count": 1, "score": -1, "last_activity_date": 1566446224, "creation_date": 1566426927, "last_edit_date": 1566444238, "question_id": 57599962, "link": "https://stackoverflow.com/questions/57599962/renamesync-not-working-when-referencing-variables", "title": "renameSync not working when referencing variables", "body": "<p>I have created a script to migrate a file from gridfs to the new local C: drive and then rename the file since I am unable to use variables with writeFileSync to dynamically name the file with its extension included. </p>\n\n<p>The issue I am running into is that when I am using any variables in the location path variable it will return an error no such file or directory. When I explicitly write out the string and use no variables, it will find it with no issue and rename the file correctly. Same path, just two different methods for how the path is created. Might be an issue caused by javascript's pass by reference and pass by value? No idea at this point.</p>\n\n<p>I am debugging by console logging all paths as I go to confirm that the final destination string is correct and have already verified that it is exactly the same when using referenced variables as it is when written specifically as a single string. </p>\n\n<pre><code>fs.writeFileSync(__dirname + `/../public/uploads/${tempFile.metadata.parent}/${tempId}/tempfile`, data);\n\n\nunprocessedPath1 = (__dirname + `/../public/uploads/${tempFile.metadata.parent}/${tempId}/tempfile`); //DOES NOT WORK\nunprocessedPath2 = (__dirname + `/../public/uploads/${tempFile.metadata.parent}/${tempId}/${tempFile.filename}`); //DOES NOT WORK\n//RETURNS: C:\\Sites\\CRM\\public\\uploads\\5d56ebd88f6b3b09f0068f5c\\5d56ece48f6b3b09f0068f60\\tempfile\n//RETURNS: C:\\Sites\\CRM\\public\\uploads\\5d56ebd88f6b3b09f0068f5c\\5d56ece48f6b3b09f0068f60\\tempfile1\n\n// unprocessedPath1 = `C:/Sites/CRM/public/uploads/5d56ebd88f6b3b09f0068f5c/5d56ece48f6b3b09f0068f60/tempfile`; // WORKS\n// unprocessedPath2 = `C:/Sites/CRM/public/uploads/5d56ebd88f6b3b09f0068f5c/5d56ece48f6b3b09f0068f60/tempfile1`; // WORKS\n//RETURNS: C:\\Sites\\CRM\\public\\uploads\\5d56ebd88f6b3b09f0068f5c\\5d56ece48f6b3b09f0068f60\\tempfile\n//RETURNS: C:\\Sites\\CRM\\public\\uploads\\5d56ebd88f6b3b09f0068f5c\\5d56ece48f6b3b09f0068f60\\tempfile1\n\nvar correctPath1 = path.normalize(unprocessedPath1);\nvar correctPath2 = path.normalize(unprocessedPath2);\n\nfs.renameSync(correctPath1, correctPath2, function(err) {\n    if ( err ) console.log('RENAME ERROR: ' + err);\n});\n\n\nRENAME ERROR: Error: ENOENT: no such file or directory, rename 'C:\\Sites\\CRM\\public\\uploads\\5d56ebd88f6b3b09f0068f5c\\5d56ece48f6b3b09f0068f60\\tempfile' -&gt; 'C:\\Sites\\CRM\\public\\uploads\\5d56ebd88f6b3b09f0068f5c\\5d56ece48f6b3b09f0068f60\\2019-08-16T10:50.wav'\n</code></pre>\n\n<p>EDIT: Confirmed that file exists at the destination before rename attempt. Added a <code>console.log(fs.existsSync(correctPath1))</code> line before rename.</p>\n\n<pre><code>true\nRENAME ERROR: Error: ENOENT: no such file or directory, rename 'C:\\Sites\\CRM\\public\\uploads\\5d56ebd88f6b3b09f0068f5c\\5d56ece48f6b3b09f0068f60\\tempfile' -&gt; 'C:\\Sites\\CRM\\public\\uploads\\5d56ebd88f6b3b09f0068f5c\\5d56ece48f6b3b09f0068f60\\2019-08-16T10:50.wav'\n</code></pre>\n\n<p>EDIT: Here is the entire request.</p>\n\n<pre><code>//DOWNLOAD GRIDFS DATABASE'S OLD FILES AND SAVE TO LOCAL DRIVE\nrouter.get('/export/gridfs', middleware.isLoggedIn, (req, res) =&gt; {\ngfs = Grid(conn.db, mongoose.mongo);\ngfs.collection('uploads').find().toArray((err, files) =&gt; {\n\n    console.log(\"OPENING FILES OBJECT: \");    \n    console.log(util.inspect(files, false, null, true /* enable colors */));\n\n    files.forEach(file =&gt; {\n        console.log(\"FOR EACH FILE\");\n        tempFile = file;\n\n        console.log(\"CREATING FILE PRE SAVE\");\n        File.create(tempFile, function(err, file){\n            console.log(\"FILE PRE CREATED\");\n            if(err){\n                console.log(\"ERROR OCCURED: \" + err);\n                console.log(\"SKIPPING FILE\");\n            } else {\n                console.log(\"NO ERROR\");\n                console.log(util.inspect(file, false, null, true /* enable colors */))\n                console.log(util.inspect(tempFile, false, null, true /* enable colors */))\n                console.log(\"MAKING NEW FOLDER IN LEAD ID USING FILE ID\");\n                console.log('public/uploads/' + tempFile.metadata.parent +\"/\"+ file._id);\n                mkdirp('public/uploads/' + tempFile.metadata.parent +\"/\"+ file._id, function() {});\n                console.log(\"FOLDER CREATED\");\n\n                console.log(\"File Before\");\n                console.log(file);\n\n                console.log(\"OPENING file OBJECT: \");\n                console.log(util.inspect(file, {showHidden: false, depth: null}))\n                console.log(\"OPENING tempfile OBJECT: \");\n                console.log(util.inspect(tempFile, false, null, true /* enable colors */))\n\n                file.filename = tempFile.filename;\n                file.contentType = tempFile.mimetype;\n                file.fileLocation = `/public/uploads/${tempFile.metadata.parent}/${file._id}/${tempFile.filename}`;                    \n                file.metadata = { parent: tempFile.metadata.parent };\n                file.createdAt = tempFile.uploadDate;\n                console.log(\"filename: \" + file.filename);\n                console.log(\"contentType\" + file.contentType);\n                console.log(\"fileLocation\" + file.fileLocation);\n                console.log(\"metadata: \" + file.metadata);\n\n                console.log(\"File After\");\n                console.log(\"FILE: \" + file);\n                console.log(\"tempFile: \" + tempFile);\n\n\n                console.log(tempFile.newFileName);\n                console.log(tempFile.originalname);\n                console.log(tempFile.mimetype);\n                console.log(tempFile.contentType);\n\n                console.log(\"File After\");\n                console.log(file);\n\n                //save note\n                file.save();\n                console.log(\"File Saved\");\n\n                const tempId = file._id; \n                console.log(\"tempId: \" + tempId);\n\n                console.log(\"OPENING tempId OBJECT: \");\n                console.log(util.inspect(tempId, false, null, true /* enable colors */));\n\n\n                console.log(\"PROCESSING FILE\");\n                console.log(util.inspect(file, false, null, true /* enable colors */));\n\n                console.log(\"Starting gridfs stream\");\n\n                gfs.files.find({ _id: new ObjectId(file._id) }, (err, file) =&gt; {\n                    // Check if file\n                    console.log(\"CHECKING FOR FILE ENTRY\");\n                    if (!file || file.length === 0) {\n                        return res.status(404).json({\n                            err: 'No file exists'\n                        });\n                    }\n\n                    console.log(\"FILE ENTRY FOUND\");\n\n                    let data = [];\n                    let readstream = gfs.createReadStream({\n                        filename: tempFile.filename\n                    });\n\n                    console.log(\"Creating read stream\");\n                    readstream.on('data', function(chunk) {\n                        console.log(\"PUSHING CHUNK\");\n                        console.log(chunk);\n                        data.push(chunk);\n                        console.log(\"PUSHED CHUNK\");\n                    });\n\n                    readstream.on('end', function() {\n                        console.log(\"ENDING STREAM\");\n                        data = Buffer.concat(data);\n                        console.log(\"WRITING TO LOCAL DRIVE\");\n\n                        var fileExt = path.extname(tempFile.filename);\n                        console.log(fileExt)\n\n\n                        fs.writeFileSync(__dirname + `/../public/uploads/${tempFile.metadata.parent}/${tempId}/tempfile`, data);\n                        console.log(\"RETURNING FILE TO CLIENT\");\n\n                        console.log(\"RENAMING FILE AT LOCATION WITH EXTENSION\");\n\n                        var unprocessedPath1 = (__dirname + `/../public/uploads/${tempFile.metadata.parent}/${tempId}/tempfile`);\n                        var unprocessedPath1String = `C:/Sites/CRM/public/uploads/5d56ebd88f6b3b09f0068f5c/5d56ece48f6b3b09f0068f60/tempfile`; //works\n                        console.log(\"Path1: \" + unprocessedPath1);\n                        console.log(\"Path1String: \" + unprocessedPath1String);\n\n                        var unprocessedPath2 = (__dirname + `/../public/uploads/${tempFile.metadata.parent}/${tempId}/${tempFile.filename}`);\n                        // unprocessedPath2 = `C:/Sites/CRM/public/uploads/5d56ebd88f6b3b09f0068f5c/5d56ece48f6b3b09f0068f60/tempfile1`; //works\n                        console.log(\"Path2: \" + unprocessedPath2);\n\n                        var correctPath1 = path.normalize(unprocessedPath1);\n                        console.log(\"NORMALIZED Path1: \"+ correctPath1);\n                        var correctPath2 = path.normalize(unprocessedPath2);\n                        console.log(\"NORMALIZED Path2: \" + correctPath2);\n\n                        // correctPath1 = String(correctPath1);\n                        // correctPath2 = String(correctPath2);\n\n                        console.log(fs.existsSync(correctPath1))\n                        console.log(fs.existsSync(unprocessedPath1String))\n\n                        fs.rename(correctPath1, correctPath2, function(err) {\n                            if ( err ) console.log('RENAME ERROR: ' + err);\n                            console.log(\"RENAME COMPLETE\");\n                        });\n\n                    });\n\n                    readstream.on('error', function(err) {\n                        console.log('An error occured!', err);\n                        throw err;\n                    });\n\n\n                    res.send(\"EXPORTED\");\n\n                });\n\n            }\n        });\n\n    });\n});\n});\n</code></pre>\n\n<p>EDIT: And here is the log.</p>\n\n<pre><code>OPENING FILES OBJECT: \n[ { _id: 5d56ece48f6b3b09f0068f60,\n    length: 221228,\n    chunkSize: 261120,\n    uploadDate: 2019-08-16T17:50:30.212Z,\n    filename: '2019-08-16T10:50.wav',\n    md5: '47fbec41801f73efc53d7e8f73b4e596',\n    contentType: 'audio/wav',\n    metadata: { parent: '5d56ebd88f6b3b09f0068f5c' } } ]\nFOR EACH FILE\nCREATING FILE PRE SAVE\nFILE PRE CREATED\nNO ERROR\n{ _id: 5d56ece48f6b3b09f0068f60,\n  filename: '2019-08-16T10:50.wav',\n  contentType: 'audio/wav',\n  metadata: { parent: '5d56ebd88f6b3b09f0068f5c' },\n  createdAt: 2019-08-22T02:50:55.594Z,\n  __v: 0 }\n{ _id: 5d56ece48f6b3b09f0068f60,\n  length: 221228,\n  chunkSize: 261120,\n  uploadDate: 2019-08-16T17:50:30.212Z,\n  filename: '2019-08-16T10:50.wav',\n  md5: '47fbec41801f73efc53d7e8f73b4e596',\n  contentType: 'audio/wav',\n  metadata: { parent: '5d56ebd88f6b3b09f0068f5c' } }\nMAKING NEW FOLDER IN LEAD ID USING FILE ID\npublic/uploads/5d56ebd88f6b3b09f0068f5c/5d56ece48f6b3b09f0068f60\nFOLDER CREATED\nFile Before\n{ _id: 5d56ece48f6b3b09f0068f60,\n  filename: '2019-08-16T10:50.wav',\n  contentType: 'audio/wav',\n  metadata: { parent: '5d56ebd88f6b3b09f0068f5c' },\n  createdAt: 2019-08-22T02:50:55.594Z,\n  __v: 0 }\nOPENING file OBJECT: \n{ _id: 5d56ece48f6b3b09f0068f60,\n  filename: '2019-08-16T10:50.wav',\n  contentType: 'audio/wav',\n  metadata: { parent: '5d56ebd88f6b3b09f0068f5c' },\n  createdAt: 2019-08-22T02:50:55.594Z,\n  __v: 0 }\nOPENING tempfile OBJECT: \n{ _id: 5d56ece48f6b3b09f0068f60,\n  length: 221228,\n  chunkSize: 261120,\n  uploadDate: 2019-08-16T17:50:30.212Z,\n  filename: '2019-08-16T10:50.wav',\n  md5: '47fbec41801f73efc53d7e8f73b4e596',\n  contentType: 'audio/wav',\n  metadata: { parent: '5d56ebd88f6b3b09f0068f5c' } }\nfilename: 2019-08-16T10:50.wav\ncontentTypeundefined\nfileLocation/public/uploads/5d56ebd88f6b3b09f0068f5c/5d56ece48f6b3b09f0068f60/2019-08-16T10:50.wav\nmetadata: { parent: '5d56ebd88f6b3b09f0068f5c' }\nFile After\nFILE: { _id: 5d56ece48f6b3b09f0068f60,\n  filename: '2019-08-16T10:50.wav',\n  metadata: { parent: '5d56ebd88f6b3b09f0068f5c' },\n  createdAt: 2019-08-16T17:50:30.212Z,\n  __v: 0,\n  fileLocation: '/public/uploads/5d56ebd88f6b3b09f0068f5c/5d56ece48f6b3b09f0068f60/2019-08-16T10:50.wav' }\ntempFile: [object Object]\nundefined\nundefined\nundefined\naudio/wav\nFile After\n{ _id: 5d56ece48f6b3b09f0068f60,\n  filename: '2019-08-16T10:50.wav',\n  metadata: { parent: '5d56ebd88f6b3b09f0068f5c' },\n  createdAt: 2019-08-16T17:50:30.212Z,\n  __v: 0,\n  fileLocation: '/public/uploads/5d56ebd88f6b3b09f0068f5c/5d56ece48f6b3b09f0068f60/2019-08-16T10:50.wav' }\nFile Saved\ntempId: 5d56ece48f6b3b09f0068f60\nOPENING tempId OBJECT:\n5d56ece48f6b3b09f0068f60\nPROCESSING FILE\n{ _id: 5d56ece48f6b3b09f0068f60,\n  filename: '2019-08-16T10:50.wav',\n  metadata: { parent: '5d56ebd88f6b3b09f0068f5c' },\n  createdAt: 2019-08-16T17:50:30.212Z,\n  __v: 0,\n  fileLocation: '/public/uploads/5d56ebd88f6b3b09f0068f5c/5d56ece48f6b3b09f0068f60/2019-08-16T10:50.wav' }\nStarting gridfs stream\nCHECKING FOR FILE ENTRY\nFILE ENTRY FOUND\nCreating read stream\n(node:3008) DeprecationWarning: GridStore is deprecated, and will be removed in a future version. Please use GridFSBucket instead\nPUSHING CHUNK\n&lt;Buffer 52 49 46 46 24 60 03 00 57 41 56 45 66 6d 74 20 10 00 00 00 01 00 01 00 80 bb 00 00 00 ee 02 00 02 00 10 00 64 61 74 61 00 60 03 00 00 00 00 00 00 00 ... &gt;\nPUSHED CHUNK\n(node:3008) DeprecationWarning: GridStore is deprecated, and will be removed in a future version. Please use GridFSBucket instead\nPUSHING CHUNK\n&lt;Buffer 52 49 46 46 24 60 03 00 57 41 56 45 66 6d 74 20 10 00 00 00 01 00 01 00 80 bb 00 00 00 ee 02 00 02 00 10 00 64 61 74 61 00 60 03 00 00 00 00 00 00 00 ... &gt;\nPUSHED CHUNK\nPUSHING CHUNK\n&lt;Buffer 52 49 46 46 24 60 03 00 57 41 56 45 66 6d 74 20 10 00 00 00 01 00 01 00 80 bb 00 00 00 ee 02 00 02 00 10 00 64 61 74 61 00 60 03 00 00 00 00 00 00 00 ... &gt;\nPUSHED CHUNK\nENDING STREAM\nWRITING TO LOCAL DRIVE\n.wav\nRETURNING FILE TO CLIENT\nRENAMING FILE AT LOCATION WITH EXTENSION\nPath1: C:\\Sites\\CRM\\routes/../public/uploads/5d56ebd88f6b3b09f0068f5c/5d56ece48f6b3b09f0068f60/tempfile\nPath1String: C:/Sites/CRM/public/uploads/5d56ebd88f6b3b09f0068f5c/5d56ece48f6b3b09f0068f60/tempfile\nPath2: C:\\Sites\\CRM\\routes/../public/uploads/5d56ebd88f6b3b09f0068f5c/5d56ece48f6b3b09f0068f60/2019-08-16T10:50.wav\nNORMALIZED Path1: C:\\Sites\\CRM\\public\\uploads\\5d56ebd88f6b3b09f0068f5c\\5d56ece48f6b3b09f0068f60\\tempfile\nNORMALIZED Path2: C:\\Sites\\CRM\\public\\uploads\\5d56ebd88f6b3b09f0068f5c\\5d56ece48f6b3b09f0068f60\\2019-08-16T10:50.wav\ntrue\ntrue\nRENAME ERROR: Error: ENOENT: no such file or directory, rename 'C:\\Sites\\CRM\\public\\uploads\\5d56ebd88f6b3b09f0068f5c\\5d56ece48f6b3b09f0068f60\\tempfile' -&gt; 'C:\\Sites\\CRM\\public\\uploads\\5d56ebd88f6b3b09f0068f5c\\5d56ece48f6b3b09f0068f60\\2019-08-16T10:50.wav'\nRENAME COMPLETE\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "redux", "react-redux"], "comments": [{"owner": {"reputation": 316, "user_id": 9734216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62961d54bc3244f8c5d2a41314b91787?s=128&d=identicon&r=PG&f=1", "display_name": "Hamza", "link": "https://stackoverflow.com/users/9734216/hamza"}, "edited": false, "score": 0, "creation_date": 1566426842, "post_id": 57599919, "comment_id": 101657073, "body": "In your text area, change the onChange event to this: onChange={this.props.onChangeText} This should pass the event automatically."}, {"owner": {"reputation": 13, "user_id": 8213159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51e2ada691c6193693e36646f05c100d?s=128&d=identicon&r=PG&f=1", "display_name": "dougofi", "link": "https://stackoverflow.com/users/8213159/dougofi"}, "reply_to_user": {"reputation": 316, "user_id": 9734216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62961d54bc3244f8c5d2a41314b91787?s=128&d=identicon&r=PG&f=1", "display_name": "Hamza", "link": "https://stackoverflow.com/users/9734216/hamza"}, "edited": false, "score": 0, "creation_date": 1566427124, "post_id": 57599919, "comment_id": 101657156, "body": "Noted.Thank You"}], "answers": [{"tags": [], "owner": {"reputation": 316, "user_id": 9734216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62961d54bc3244f8c5d2a41314b91787?s=128&d=identicon&r=PG&f=1", "display_name": "Hamza", "link": "https://stackoverflow.com/users/9734216/hamza"}, "is_accepted": false, "score": 0, "last_activity_date": 1566427644, "creation_date": 1566427644, "answer_id": 57600044, "question_id": 57599919, "link": "https://stackoverflow.com/questions/57599919/how-do-you-dispatch-an-action-along-with-a-dom-event/57600044#57600044", "title": "How do you dispatch an action along with a DOM event?", "body": "<p>In the reducer, try this: </p>\n\n<pre><code>switch(action.type){\n    case 'OnChangeText':\n        // To make sure you are getting the correct value\n        console.log(action.event.target.value)\n\n        return {\n         ...state,\n         text: action.event.target.value\n         }\n     default: \n     return state\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 562, "user_id": 10749443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eb9OH.png?s=128&g=1", "display_name": "Nemer", "link": "https://stackoverflow.com/users/10749443/nemer"}, "is_accepted": true, "score": 0, "last_activity_date": 1566428369, "last_edit_date": 1566428369, "creation_date": 1566427968, "answer_id": 57600077, "question_id": 57599919, "link": "https://stackoverflow.com/questions/57599919/how-do-you-dispatch-an-action-along-with-a-dom-event/57600077#57600077", "title": "How do you dispatch an action along with a DOM event?", "body": "<p>in the reducer your case 'OnChangeText' start with uppercase and dispatch({type: 'onChangeText',event} ) with lowercase,so ideally to be like:</p>\n\n<pre><code>const mapDispatchToProps = (dispatch) =&gt; {\n return{\n   onChangeText: (event) =&gt; dispatch({type: 'ON_CHANGE_TEXT',payload: event.target.value} )\n\n }\n} \n</code></pre>\n\n<p>and in the reducer:</p>\n\n<pre><code> case 'ON_CHANGE_TEXT':\n        return {\n           ...state,\n           text: action.payload\n         }\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8213159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51e2ada691c6193693e36646f05c100d?s=128&d=identicon&r=PG&f=1", "display_name": "dougofi", "link": "https://stackoverflow.com/users/8213159/dougofi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 354, "favorite_count": 0, "accepted_answer_id": 57600077, "answer_count": 2, "score": 0, "last_activity_date": 1566428369, "creation_date": 1566426635, "last_edit_date": 1592644375, "question_id": 57599919, "link": "https://stackoverflow.com/questions/57599919/how-do-you-dispatch-an-action-along-with-a-dom-event", "title": "How do you dispatch an action along with a DOM event?", "body": "<p>I'm picking up working with react and redux, while handling state locally I am able to pass events along with onChange handlers so as to access the value with event.target.value and set them to state. Unfortunately, I am unable to pass the event to MapDispatchToProps</p>\n<p>I have tried passing the event along with the prop assigned to the onChange handler</p>\n<h1>This is my component</h1>\n<pre><code>import React from 'react';\nimport { connect } from 'react-redux';\n\nclass MarkDownBox extends React.Component{\n    render(){\n        return(\n            &lt;div className=&quot;markedContainer&quot;&gt;\n                &lt;div className=&quot;markedHeader&quot; &gt;&lt;h1&gt;Raw Mark Down&lt;/h1&gt;&lt;/div&gt;\n                &lt;textarea name=&quot;markdownarea&quot; id=&quot;markdownarea&quot; value={this.props.message} onChange={this.props.onChangeText}&gt;&lt;/textarea&gt;\n            &lt;/div&gt;\n        )\n    }\n}\n\nconst mapStateToProps = (state) =&gt; {\n    return{\n      message: state.text\n    }\n  }\n  \n  const mapDispatchToProps = (dispatch) =&gt; {\n    return{\n      onChangeText: (event) =&gt; dispatch({type: 'onChangeText',event} )\n    \n    }\n  }\n  \n  export default connect(mapStateToProps,mapDispatchToProps)(MarkDownBox);\n</code></pre>\n<h2>This is my reducer</h2>\n<pre><code>const initialState = {\n    text: 'Sample text'\n}\n\n\nconst reducer = (state = initialState, action) =&gt; {\n    const newState = {...state}\n    switch(action.type){\n        case 'OnChangeText':\n            newState.text = action.event.target.value;\n            return newState    \n         default: \n         return state\n    }\n}\n\n\nexport default reducer;\n</code></pre>\n<p>MapStateToProps works fine as it sets the value of the text field. The text field, however, does not record any changes.</p>\n"}, {"tags": ["javascript", "html", "timer"], "answers": [{"tags": [], "owner": {"reputation": 2023, "user_id": 7448536, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/--Yrr18KVHdU/AAAAAAAAAAI/AAAAAAAABMw/wlxMIzKkAck/photo.jpg?sz=128", "display_name": "Wendelin", "link": "https://stackoverflow.com/users/7448536/wendelin"}, "is_accepted": true, "score": 2, "last_activity_date": 1566427536, "last_edit_date": 1566427536, "creation_date": 1566427211, "answer_id": 57599998, "question_id": 57599908, "link": "https://stackoverflow.com/questions/57599908/display-a-message-for-a-while-at-the-end-of-a-timer/57599998#57599998", "title": "Display a message for a while at the end of a timer", "body": "<p>I'd do this by stopping the interval once the time has reached zero and restarting it after one minute using <code>setTimeout</code></p>\n\n<p>By the way, your code has a little bug, the callback provided for <code>setInterval</code> does not run when the interval starts, but only after one interval (one second in your case). I've fixed that here.</p>\n\n<p>Also I have adjusted the times to reduce waiting.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function startTimer(duration, display, pause) {\r\n    var timer = duration, minutes, seconds;\r\n    const updateTime = function () {\r\n        minutes = parseInt(timer / 60, 10);\r\n        seconds = parseInt(timer % 60, 10);\r\n\r\n        minutes = minutes &lt; 10 ? \"0\" + minutes : minutes;\r\n        seconds = seconds &lt; 10 ? \"0\" + seconds : seconds;\r\n\r\n        display.textContent = minutes + \":\" + seconds;\r\n\r\n        if (--timer &lt; 0) {\r\n            timer = duration;\r\n            display.textContent = \"wait...\";\r\n            clearInterval(intervalId);\r\n            setTimeout(function () {\r\n                startTimer(duration, display, pause)\r\n            }, pause*1000)\r\n        }\r\n    }\r\n    const intervalId = setInterval(updateTime, 1000);\r\n    updateTime();\r\n}\r\n\r\nwindow.onload = function () {\r\n    var interval = 4,\r\n        display = document.querySelector('#time');\r\n    startTimer(interval, display, 2);\r\n};</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div&gt;&lt;span id=\"time\"&gt;XX:XX&lt;/span&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 117, "user_id": 10037844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7766839ef798afb1b68191cd760b49d7?s=128&d=identicon&r=PG&f=1", "display_name": "Quentin", "link": "https://stackoverflow.com/users/10037844/quentin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 57599998, "answer_count": 1, "score": 2, "last_activity_date": 1566427536, "creation_date": 1566426588, "question_id": 57599908, "link": "https://stackoverflow.com/questions/57599908/display-a-message-for-a-while-at-the-end-of-a-timer", "title": "Display a message for a while at the end of a timer", "body": "<p>I would have liked to know how to display a message at the end of my timer for a certain time (1 minutes) and then loop again.</p>\n\n<p>Example of the desired process:</p>\n\n<ul>\n<li>Start of timer 2 minutes (\"02:00\")</li>\n<li>Timer replaced by a message (\"wait...\") at the end once it is finished for 1 minute and all this done in a loop</li>\n</ul>\n\n<p>Thanks you, Quentin S.</p>\n\n<p>I have already realized the timer but I miss more than the monitor tag is replaced by the message I want to put for 1 minute before starting the process from the beginning</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div&gt;&lt;span id=\"time\"&gt;02:00&lt;/span&gt;&lt;/div&gt;\n</code></pre>\n\n<pre><code>function startTimer(duration, display) {\n    var timer = duration, minutes, seconds;\n    setInterval(function () {\n        minutes = parseInt(timer / 60, 10);\n        seconds = parseInt(timer % 60, 10);\n\n        minutes = minutes &lt; 10 ? \"0\" + minutes : minutes;\n        seconds = seconds &lt; 10 ? \"0\" + seconds : seconds;\n\n        display.textContent = minutes + \":\" + seconds;\n\n        if (--timer &lt; 0) {\n            timer = duration;\n        }\n        }, 1000);\n    }\n\n    window.onload = function () {\n        var twoMinutes = 60 * 2,\n            display = document.querySelector('#time');\n        startTimer(twoMinutes, display);\n    };\n</code></pre>\n"}, {"tags": ["javascript", "ruby-on-rails", "webpack", "ecmascript-6", "babeljs"], "comments": [{"owner": {"reputation": 184, "user_id": 3431720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/debd1f9144646ee5c74b4d65b74a73ae?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan Pinn", "link": "https://stackoverflow.com/users/3431720/dylan-pinn"}, "edited": false, "score": 0, "creation_date": 1566427909, "post_id": 57599902, "comment_id": 101657326, "body": "What version of Rails are you using? Have you looked at <a href=\"https://github.com/rails/webpacker\" rel=\"nofollow noreferrer\">github.com/rails/webpacker</a>"}, {"owner": {"reputation": 969, "user_id": 326242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35cde28dc376b1403cf4de6cbebc80e5?s=128&d=identicon&r=PG", "display_name": "Andrew Koster", "link": "https://stackoverflow.com/users/326242/andrew-koster"}, "reply_to_user": {"reputation": 184, "user_id": 3431720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/debd1f9144646ee5c74b4d65b74a73ae?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan Pinn", "link": "https://stackoverflow.com/users/3431720/dylan-pinn"}, "edited": false, "score": 0, "creation_date": 1566428141, "post_id": 57599902, "comment_id": 101657373, "body": "I was using Rails 5.2. Someone offsite told me that Rails 6 (released 5 days ago) comes with Webpacker built in, so I&#39;m exploring that."}, {"owner": {"reputation": 184, "user_id": 3431720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/debd1f9144646ee5c74b4d65b74a73ae?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan Pinn", "link": "https://stackoverflow.com/users/3431720/dylan-pinn"}, "edited": false, "score": 1, "creation_date": 1566428244, "post_id": 57599902, "comment_id": 101657391, "body": "It looks like you should be able to use it with your version of Rails. That way you can run all of JS through Webpacker and styles through Sprockets or webpack if you wish."}, {"owner": {"reputation": 969, "user_id": 326242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35cde28dc376b1403cf4de6cbebc80e5?s=128&d=identicon&r=PG", "display_name": "Andrew Koster", "link": "https://stackoverflow.com/users/326242/andrew-koster"}, "edited": false, "score": 0, "creation_date": 1566431227, "post_id": 57599902, "comment_id": 101658015, "body": "I&#39;ve tried both <code>config.assets.js_compressor = Uglifier.new(harmony: true)</code> and the alternate syntax where you just do <code>{harmony: true}</code> in one place and <code>:uglifier</code> in the other place. Neither syntax had any visible effect."}], "owner": {"reputation": 969, "user_id": 326242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35cde28dc376b1403cf4de6cbebc80e5?s=128&d=identicon&r=PG", "display_name": "Andrew Koster", "link": "https://stackoverflow.com/users/326242/andrew-koster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 476, "favorite_count": 1, "answer_count": 0, "score": 5, "last_activity_date": 1566431263, "creation_date": 1566426505, "question_id": 57599902, "link": "https://stackoverflow.com/questions/57599902/whats-the-straightforward-supported-stable-way-of-using-es6-syntax-and-javasc", "title": "What&#39;s the straightforward, supported, stable way of using ES6 syntax and Javascript minification with Rails?", "body": "<p>I'm trying to use ES6 syntax in my Javascript files, in a Rails project. I also need to minify the Javascript files (mine, and the ones included by libraries like <code>rails-ujs</code>) for performance reasons.</p>\n\n<p>When I first generated the project and ran it locally, it worked fine. However, this is because the environment configurations are different for <code>development</code> vs. <code>production</code>. In the <code>development</code> configuration, there is no minification. In the <code>production</code> configuration, Uglifier is used to minify Javascript.</p>\n\n<p>Once I tried to deploy to production, Uglifier and ExecJS started throwing up all kinds of syntax errors, such as not recognizing the <code>const</code> keyword or not recognizing the <code>&gt;</code> in the <code>=&gt;</code> operator of arrow functions.</p>\n\n<p>After spending a few hours searching for a fix, I resorted to simply disabling Uglifier so that I could deploy successfully. However, now that my site is in production and working, I would like to make this optimization work.</p>\n\n<p>I'm familiar with Babel and Webpack, and I've used them in other projects (along with some custom scripts) to generate browser-ready ES5 code (for Internet Explorer) and browser-ready ES6 code (for every other browser). If I wasn't using Rails, this would be trivial for me to solve.</p>\n\n<p>However, since I'm using Rails, I need to figure out how to do this in the context of the Rails Asset Pipeline. Surprisingly, there doesn't seem to be any standard way to do this, despite ES6 being 4 years old and supported by every modern browser. It's really weird that Microsoft Edge is way ahead of Rails on this one.</p>\n\n<p>Here's a few suggestions that I've seen, and the problems with them.</p>\n\n<ul>\n<li><p><a href=\"https://github.com/babel/ruby-babel-transpiler\" rel=\"noreferrer\">https://github.com/babel/ruby-babel-transpiler</a></p>\n\n<ul>\n<li>Has no documentation indicating how it should be used in the Rails Asset Pipeline.</li>\n</ul></li>\n<li><p><a href=\"https://www.rubydoc.info/gems/uglifier\" rel=\"noreferrer\">https://www.rubydoc.info/gems/uglifier</a></p>\n\n<ul>\n<li>Included by default in Rails, but doesn't support ES6 syntax.</li>\n<li>Mentions \"experimental ES6 syntax support\", but it doesn't work, even when you enable \"Harmony mode\".</li>\n<li>It uses the word \"experimental\", and I'm trying to use this in a production app. Any serious Javascript tool should have stable support for ES6 by now.</li>\n</ul></li>\n<li><p><a href=\"https://github.com/fnando/babel-schmooze-sprockets\" rel=\"noreferrer\">https://github.com/fnando/babel-schmooze-sprockets</a></p>\n\n<ul>\n<li>Unclear documentation, includes a lot of caveats about having to do weird nonstandard things like call <code>.default()</code> on all of your imports.</li>\n</ul></li>\n<li><p><a href=\"https://nandovieira.com/using-es2015-with-asset-pipeline-on-ruby-on-rails\" rel=\"noreferrer\">https://nandovieira.com/using-es2015-with-asset-pipeline-on-ruby-on-rails</a></p>\n\n<ul>\n<li>Mentions having to use a \"pre-release version\" of Sprockets. I'm trying to use this in a production app, and I don't think that I'm being unreasonable by expecting to be able to do this with stable versions of libraries. The article is 3 years old, but I can't find a more recent version.</li>\n</ul></li>\n<li><p><a href=\"https://stackoverflow.com/questions/42460626/how-do-i-use-es6-es2015-in-a-ruby-on-rails-app\">How do I use ES6 (ES2015) in a ruby on rails app?</a></p>\n\n<ul>\n<li>Has a few suggestions, but none of them are self-contained solutions, and this is almost 3 years old. I expect that there's a specific, stable way to do it by now?</li>\n</ul></li>\n<li><p><a href=\"https://revs.runtime-revolution.com/want-to-use-es6-with-rails-right-now-webpack-to-the-rescue-ebefb2004e9e\" rel=\"noreferrer\">https://revs.runtime-revolution.com/want-to-use-es6-with-rails-right-now-webpack-to-the-rescue-ebefb2004e9e</a></p>\n\n<ul>\n<li>This is pretty much what I'd do if I had to do all of my ES6 support outside of the Rails Asset Pipeline. Surely, there's a way to do this without stepping outside of Rails and compiling my Javascript code manually?</li>\n</ul></li>\n<li><p><a href=\"https://github.com/babel/minify\" rel=\"noreferrer\">https://github.com/babel/minify</a></p>\n\n<ul>\n<li>Still in beta. I'm trying to use this for a production site.</li>\n</ul></li>\n</ul>\n"}, {"tags": ["javascript", "node.js", "visual-studio-code", "jsdoc"], "comments": [{"owner": {"reputation": 447, "user_id": 10316673, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xhZ3Y09vud8/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMYCXogeYqzm-kxTsIHC9HFAvLv4w/mo/photo.jpg?sz=128", "display_name": "M-N", "link": "https://stackoverflow.com/users/10316673/m-n"}, "edited": false, "score": 0, "creation_date": 1566435211, "post_id": 57599864, "comment_id": 101658607, "body": "If you <code>require(&#39;discord.js&#39;)</code> and assign that to a variable, say <code>discord</code>, then you should be able to use <code>@param {discord.Client} client</code> to get your type hinting."}, {"owner": {"reputation": 2023, "user_id": 7448536, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/--Yrr18KVHdU/AAAAAAAAAAI/AAAAAAAABMw/wlxMIzKkAck/photo.jpg?sz=128", "display_name": "Wendelin", "link": "https://stackoverflow.com/users/7448536/wendelin"}, "reply_to_user": {"reputation": 447, "user_id": 10316673, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xhZ3Y09vud8/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMYCXogeYqzm-kxTsIHC9HFAvLv4w/mo/photo.jpg?sz=128", "display_name": "M-N", "link": "https://stackoverflow.com/users/10316673/m-n"}, "edited": false, "score": 0, "creation_date": 1566476945, "post_id": 57599864, "comment_id": 101674010, "body": "This does work but I&#39;d rather not have to <code>require(&#39;discord.js&#39;)</code> because of the overhead and I would not use the variable <code>discord</code> anywhere in my code. (<code>discord</code> would be an unused variable)"}, {"owner": {"reputation": 6091, "user_id": 1167956, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/abf8f3075db041c8120327394baa1d89?s=128&d=identicon&r=PG", "display_name": "Graham P Heath", "link": "https://stackoverflow.com/users/1167956/graham-p-heath"}, "edited": false, "score": 0, "creation_date": 1566487368, "post_id": 57599864, "comment_id": 101680352, "body": "If you&#39;re using Closure Compiler than you&#39;d want to define an <code>extern</code> for discord.js. With regard to defining but not using <code>require(&#39;discord.js)</code>; I agree this is the right solution, and that you should use some sort of tree shaking, whether it be Closure Compiler&#39;s &quot;Advanced Optimizations&quot; or Rollup, or a WebPack config, to avoid the file being bundled."}, {"owner": {"reputation": 2023, "user_id": 7448536, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/--Yrr18KVHdU/AAAAAAAAAAI/AAAAAAAABMw/wlxMIzKkAck/photo.jpg?sz=128", "display_name": "Wendelin", "link": "https://stackoverflow.com/users/7448536/wendelin"}, "edited": false, "score": 1, "creation_date": 1566507214, "post_id": 57599864, "comment_id": 101688696, "body": "I think I can get this work this way, however I am still interested if there is a &quot;better&quot; solution that does not require <code>require(&#39;discord.js&#39;)</code>"}], "owner": {"reputation": 2023, "user_id": 7448536, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/--Yrr18KVHdU/AAAAAAAAAAI/AAAAAAAABMw/wlxMIzKkAck/photo.jpg?sz=128", "display_name": "Wendelin", "link": "https://stackoverflow.com/users/7448536/wendelin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 518, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1566426239, "creation_date": 1566426239, "question_id": 57599864, "link": "https://stackoverflow.com/questions/57599864/vs-code-js-type-hint-reference-type-from-node-module", "title": "VS Code JS type hint, reference type from node module", "body": "<p>I want to document a type that is defined in a node module <em>(<code>discord.js</code> in my case)</em> so that VS Code can help me with autocompletion.</p>\n\n<p>VS Code supports type hints with JSDoc and this should be the correct way to document the type of the parameter <code>client</code>. Yet VS Code, when I hover over the parameter, says that it is of type <code>any</code>.</p>\n\n<blockquote>\n  <p>(parameter) client: any</p>\n</blockquote>\n\n<p>This is my code so far</p>\n\n<pre><code>module.exports = class Receiver {\n    /**\n     * @param {module:\"discord.js\".Client} client\n     */\n    constructor(client) {\n        this.client = client\n    }\n}\n\n</code></pre>\n\n<p>How can I make VS Code understand the correct type of the parameter? It should not be <code>any</code> but <code>Client</code> instead.</p>\n\n<p>PS: I have installed the <code>discord.js</code> module and can successfully use it.</p>\n"}, {"tags": ["javascript", "gatsby"], "answers": [{"tags": [], "owner": {"reputation": 5315, "user_id": 3689364, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/1wGCo.jpg?s=128&g=1", "display_name": "EliteRaceElephant", "link": "https://stackoverflow.com/users/3689364/eliteraceelephant"}, "is_accepted": false, "score": 0, "last_activity_date": 1566455811, "creation_date": 1566455811, "answer_id": 57603306, "question_id": 57599830, "link": "https://stackoverflow.com/questions/57599830/why-gatsby-js-doesnt-prerender-the-blog-starter/57603306#57603306", "title": "Why Gatsby.js doesn&#39;t prerender the blog starter?", "body": "<p>I downloaded and <code>gatsby build</code> the project. For me all the content is there. The build is located in <code>gatsbyBlog/public/index.html</code>. Try to access the file manually via the file system and open in a text editor, not in the browser. The html code should be there.</p>\n\n<p>Gatsby does a lot of code splitting and needs javascript to put together the actual html code for the browser. Maybe a browser plugin intercepted loading the rest of the html because of the script tags? I know that I got a lot of these messages when I used stuff like NoScript.</p>\n"}, {"tags": [], "owner": {"reputation": 313, "user_id": 6650701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b26fbd263ecf4554fd90857ecd55d207?s=128&d=identicon&r=PG&f=1", "display_name": "stef", "link": "https://stackoverflow.com/users/6650701/stef"}, "is_accepted": false, "score": 0, "last_activity_date": 1586388260, "creation_date": 1586388260, "answer_id": 61111575, "question_id": 57599830, "link": "https://stackoverflow.com/questions/57599830/why-gatsby-js-doesnt-prerender-the-blog-starter/61111575#61111575", "title": "Why Gatsby.js doesn&#39;t prerender the blog starter?", "body": "<p>Also, see if the Gatsby offline plugin is enabled. If so, I noticed that on a soft reload or via the back button of the browser, a different, js-based version of the index page is loaded. This might be what you are seeing.</p>\n"}], "owner": {"reputation": 21, "user_id": 1717284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5035e72507c63e5e32dcfc9ce3595ff1?s=128&d=identicon&r=PG", "display_name": "user1717284", "link": "https://stackoverflow.com/users/1717284/user1717284"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 314, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1586388260, "creation_date": 1566425957, "question_id": 57599830, "link": "https://stackoverflow.com/questions/57599830/why-gatsby-js-doesnt-prerender-the-blog-starter", "title": "Why Gatsby.js doesn&#39;t prerender the blog starter?", "body": "<p>I want to move my Wordpress blog to staticaly generated one.I've decided to use Gatsby.js, but have problems with lack of content on prerendered pages.\nI start with blog starter:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>gatsby new gatsbyBlog https://github.com/gatsbyjs/gatsby-starter-blog\ncd gatsbyBlog \n</code></pre>\n\n<p>then i build a project:</p>\n\n<pre><code>gatsby build\n</code></pre>\n\n<p>When I look into generated index.html HTML I see no posts in the body, all i can see is:</p>\n\n<pre><code>&lt;noscript id=\"gatsby-noscript\"&gt;This app works best with JavaScript enabled.&lt;/noscript&gt;\n</code></pre>\n\n<p>I need my blog to be crawlable without JS.</p>\n\n<p>I would expect a body HTML code of different pages to contain the content of the page. Just like on this Gatsby website: \n<a href=\"https://snipcart.github.io/gatsby-pwa-demo/all-about-weapons\" rel=\"nofollow noreferrer\">https://snipcart.github.io/gatsby-pwa-demo/all-about-weapons</a></p>\n\n<p>I expected it would be available out of the box. How can I enable it?</p>\n"}, {"tags": ["javascript", "jquery", "regex"], "answers": [{"comments": [{"owner": {"reputation": 1516, "user_id": 11461177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cpz9d.png?s=128&g=1", "display_name": "Souleste", "link": "https://stackoverflow.com/users/11461177/souleste"}, "edited": false, "score": 1, "creation_date": 1566426812, "post_id": 57599900, "comment_id": 101657068, "body": "I didn&#39;t realize that you could put multiple searches inside of a replace. Can you explain to me how the <code>$</code> work with regex?"}, {"owner": {"reputation": 1516, "user_id": 11461177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cpz9d.png?s=128&g=1", "display_name": "Souleste", "link": "https://stackoverflow.com/users/11461177/souleste"}, "edited": false, "score": 0, "creation_date": 1566589118, "post_id": 57599900, "comment_id": 101717708, "body": "I have a question about this, say I have this: <code>[something] [something](link)</code>, the first capture group captures everything between the very first bracket and the very last bracket. how would I fix that?"}], "tags": [], "owner": {"reputation": 1171, "user_id": 3768784, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3c60961e51be30f3e65c78ab5f1d52db?s=128&d=identicon&r=PG&f=1", "display_name": "Bee", "link": "https://stackoverflow.com/users/3768784/bee"}, "is_accepted": false, "score": 2, "last_activity_date": 1566596401, "last_edit_date": 1566596401, "creation_date": 1566426484, "answer_id": 57599900, "question_id": 57599818, "link": "https://stackoverflow.com/questions/57599818/regex-make-labeled-hyperlink/57599900#57599900", "title": "Regex make labeled hyperlink", "body": "<h1>Solution</h1>\n\n<p>This regex should do what you want.</p>\n\n<p><code>/\\[(.*?)\\]\\((.*?)\\)/g</code></p>\n\n<p>This regex also takes care about input strings like <code>[something] [something](link)</code>.</p>\n\n<p><code>\\[([^\\[]*?)\\]\\((.*?)\\)</code></p>\n\n<h1>Explanation</h1>\n\n<p>This regex matches everything within square brackets into capture group 1 directly followed by a curved brackets pair which contents go into capture group 2. Capture groups are defined by a curved bracket pair. Afterwards those capture groups can be accessed by using $1 and $2.</p>\n\n<p>The regex also covering the input string <code>[something] [something](link)</code> does not match everything within a bracket pair but instead matches everything except opening brackets. </p>\n\n<h1>Example</h1>\n\n<p>Here is the updated snippet which you posted.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(function() {\r\n\r\n  var editor = $('.editor');\r\n\r\n  $('.output').html(\r\n    editor.html().replace(/\\[(.*?)\\]\\((.*?)\\)/g, '&lt;a href=\"$2\"&gt;$1&lt;/a&gt;')\r\n  );\r\n\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div contenteditable class=\"editor\"&gt;\r\n  [something](link)\r\n&lt;/div&gt;\r\n&lt;div class=\"output\"&gt;\r\n\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 1516, "user_id": 11461177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cpz9d.png?s=128&g=1", "display_name": "Souleste", "link": "https://stackoverflow.com/users/11461177/souleste"}, "edited": false, "score": 0, "creation_date": 1566427009, "post_id": 57599949, "comment_id": 101657119, "body": "So the <code>$</code> things represent which &quot;in between these characters&quot; ?"}, {"owner": {"reputation": 2829, "user_id": 6388552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJiGS.jpg?s=128&g=1", "display_name": "ths", "link": "https://stackoverflow.com/users/6388552/ths"}, "reply_to_user": {"reputation": 1516, "user_id": 11461177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cpz9d.png?s=128&g=1", "display_name": "Souleste", "link": "https://stackoverflow.com/users/11461177/souleste"}, "edited": false, "score": 1, "creation_date": 1566427082, "post_id": 57599949, "comment_id": 101657139, "body": "@Souleste answer edited : <i>$n where n is the capturing group position in the regular expression...</i>."}, {"owner": {"reputation": 1516, "user_id": 11461177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cpz9d.png?s=128&g=1", "display_name": "Souleste", "link": "https://stackoverflow.com/users/11461177/souleste"}, "edited": false, "score": 0, "creation_date": 1566589425, "post_id": 57599949, "comment_id": 101717800, "body": "I have a question about this, say I have this: [something] [something](link), the first capture group captures everything between the very first bracket and the very last bracket. how would I fix that?"}, {"owner": {"reputation": 2829, "user_id": 6388552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJiGS.jpg?s=128&g=1", "display_name": "ths", "link": "https://stackoverflow.com/users/6388552/ths"}, "reply_to_user": {"reputation": 1516, "user_id": 11461177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cpz9d.png?s=128&g=1", "display_name": "Souleste", "link": "https://stackoverflow.com/users/11461177/souleste"}, "edited": false, "score": 1, "creation_date": 1566594178, "post_id": 57599949, "comment_id": 101719283, "body": "@Souleste see updated answer, used <code>&#47;\\[([^\\[]+)\\]\\((.+)\\)&#47;</code> so <code>[something] [something](link)</code> produces <code>[something] &lt;a href=&quot;link&quot;&gt;something&lt;&#47;a&gt;</code> (the first [something] is ignored as it doesn&#39;t respect the pattern)."}], "tags": [], "owner": {"reputation": 2829, "user_id": 6388552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJiGS.jpg?s=128&g=1", "display_name": "ths", "link": "https://stackoverflow.com/users/6388552/ths"}, "is_accepted": true, "score": 2, "last_activity_date": 1566594073, "last_edit_date": 1566594073, "creation_date": 1566426841, "answer_id": 57599949, "question_id": 57599818, "link": "https://stackoverflow.com/questions/57599818/regex-make-labeled-hyperlink/57599949#57599949", "title": "Regex make labeled hyperlink", "body": "<p>You can use <code>/\\[(.+)\\]\\((.+)\\)/g</code> and then use <code>$1</code> to get the link's text and <code>$2</code> to get the link's <code>href</code> attribute :</p>\n\n<blockquote>\n  <p><code>$n</code> where <code>n</code> is the capturing group position in the regular expression (a number) : the first capturing group is <code>$1</code>, the second is <code>$2</code> and so on.</p>\n</blockquote>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(() =&gt; {\r\n  const editor = $('.editor');\r\n  $('.output').html(editor.html().replace(/\\[([^\\[]+)\\]\\((.+)\\)/g, '&lt;a href=\"$2\"&gt;$1&lt;/a&gt;'));\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div contenteditable class=\"editor\"&gt;\r\n  [a link](https://example.com)\r\n&lt;/div&gt;\r\n&lt;div class=\"output\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1516, "user_id": 11461177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cpz9d.png?s=128&g=1", "display_name": "Souleste", "link": "https://stackoverflow.com/users/11461177/souleste"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 3, "accepted_answer_id": 57599949, "answer_count": 2, "score": 1, "last_activity_date": 1566596401, "creation_date": 1566425877, "question_id": 57599818, "link": "https://stackoverflow.com/questions/57599818/regex-make-labeled-hyperlink", "title": "Regex make labeled hyperlink", "body": "<p>I am trying to make a labeled hyperlink from \"[something](link)\".</p>\n\n<p>How can I convert the string to something like this: <a href=\"https://stackoverflow.com/questions/ask\">something</a>, the way it is done in forums?</p>\n\n<p>Here is what I have tried, but I don't know regex very well:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(function() {\r\n\r\n  var editor = $('.editor');\r\n\r\n  $('.output').html(\r\n    // editor.html().replace(/\\[(.*)\\)/g, '&lt;a href=\"'+$1.replace(/\\((.*)\\)/g)+'\"&gt;$1&lt;/a&gt;')\r\n    editor.html().replace(/\\[(.*)\\)/g, '&lt;a href=\"\"&gt;$1&lt;/a&gt;')\r\n  );\r\n\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div contenteditable class=\"editor\"&gt;\r\n  [something](link)\r\n&lt;/div&gt;\r\n&lt;div class=\"output\"&gt;\r\n\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "photoshop"], "comments": [{"owner": {"reputation": 239, "user_id": 11383650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4d193b6027b6608f125cb9f19549127?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.Online", "link": "https://stackoverflow.com/users/11383650/mr-online"}, "edited": false, "score": 0, "creation_date": 1566464896, "post_id": 57599817, "comment_id": 101667364, "body": "what you want to achieve by reading PNG files :D I&#39;ve made a extension which can preview any layer by drag and drop basis and it works fine! i just loaded images from div rather than storing it as code :D"}, {"owner": {"reputation": 21, "user_id": 2635953, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/02hUi.jpg?s=128&g=1", "display_name": "Anthony Ramirez", "link": "https://stackoverflow.com/users/2635953/anthony-ramirez"}, "reply_to_user": {"reputation": 239, "user_id": 11383650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4d193b6027b6608f125cb9f19549127?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.Online", "link": "https://stackoverflow.com/users/11383650/mr-online"}, "edited": false, "score": 0, "creation_date": 1566486012, "post_id": 57599817, "comment_id": 101679607, "body": "@DesignPhoenix I send the images from Photoshop to a remote endpoint. The images themselves are generated by the built-in PS Generator plugin. I&#39;ve already solved the issue of creating, loading and moving the images to where I need them to go. Unfortunately this error is specifically related to reading 64kb+ PNGs from the file system."}, {"owner": {"reputation": 239, "user_id": 11383650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4d193b6027b6608f125cb9f19549127?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.Online", "link": "https://stackoverflow.com/users/11383650/mr-online"}, "edited": false, "score": 0, "creation_date": 1566788504, "post_id": 57599817, "comment_id": 101752918, "body": "well then it seems a WEIRD issue though. at first we can think that 64 KB is limit but if that is so but jpg is working fine as well as in developer tools too. can it be some sort of  CEP/CEF  issues from csInterface.js?"}, {"owner": {"reputation": 21, "user_id": 2635953, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/02hUi.jpg?s=128&g=1", "display_name": "Anthony Ramirez", "link": "https://stackoverflow.com/users/2635953/anthony-ramirez"}, "reply_to_user": {"reputation": 239, "user_id": 11383650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4d193b6027b6608f125cb9f19549127?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.Online", "link": "https://stackoverflow.com/users/11383650/mr-online"}, "edited": false, "score": 0, "creation_date": 1566954173, "post_id": 57599817, "comment_id": 101813709, "body": "As the issue occurs regardless of whether I am using CEP or node.js to read the file, it seems unlikely that it&#39;s specific to csinterface.js. Definitely a weird issue!"}, {"owner": {"reputation": 239, "user_id": 11383650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4d193b6027b6608f125cb9f19549127?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.Online", "link": "https://stackoverflow.com/users/11383650/mr-online"}, "edited": false, "score": 0, "creation_date": 1566961680, "post_id": 57599817, "comment_id": 101814857, "body": "I&#39;ll highly recommend you to post question in github directory to attract the devs :)"}], "owner": {"reputation": 21, "user_id": 2635953, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/02hUi.jpg?s=128&g=1", "display_name": "Anthony Ramirez", "link": "https://stackoverflow.com/users/2635953/anthony-ramirez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1566425870, "creation_date": 1566425870, "question_id": 57599817, "link": "https://stackoverflow.com/questions/57599817/why-does-reading-a-large-png-file-fail-inside-photoshop-panel", "title": "Why does reading a large PNG file fail inside Photoshop panel?", "body": "<p>Inside of a custom Photoshop panel extension I've created, I am attempting to read the data from a PNG file that is larger than 64kb on the local file system. Using the CEP readfile, nodejs readfile or createReadStream, results in a buffer length of zero, or no data, as if the file was empty. This does not trigger any errors by any of the mentioned methods.</p>\n\n<p>I've attempted to read the file in several formats that are available through the readfile methods. Reading the buffer directly and counting the length, reading as Base64, UTF8, etc. This doesn't make a difference. If the PNG file is above 64kb, it soft-fails to read the file, instead indicating it believes the file <em>has</em> no data.</p>\n\n<p>Some additional details I've uncovered:</p>\n\n<ul>\n<li>This never throws an actual error from any of the above mentioned methods.</li>\n<li>The PNG file size has to be above 64kb to trigger the issue.</li>\n<li>JPGs can be any size and don't have the same problem. I tested JPG files as large as 1mb without issue.</li>\n<li>Changing the file format read by the stream does not make a difference.</li>\n<li>Doing a read of the large PNG immediately after reading a JPG in the same folder location <strong>causes this problem to not occur</strong>.</li>\n<li>This only happens with PNGs generated by Photoshop. I duplicated a PNG using a separate method, re-ran the program, and the error no longer occurred.</li>\n</ul>\n\n<p>Code Sample:</p>\n\n<pre><code>var node_fs = require( 'fs' );  \nvar data = node_fs.createReadStream( pathToTheLocalFile, 'base64' );  \n\ndata.on( 'readable', () =&gt; {  \n     var info = data.read();  \n     b64 += info;\n} );  \n\n// This event never fires, which seems unusual.\ndata.on( 'error', () =&gt; {  \n     for ( var p in arguments ) {  \n          console.log( arguments[p] );  \n     }  \n} );  \n\n// Once the read is done, this fires, and has no data.\ndata.on( 'end', () =&gt; {  \n     // do stuff with the b64\n};\n</code></pre>\n\n<p>If the file is unreadable, I would have expected an error message. That doesn't happen. Ideally, I would be able to read the contents of the file and manipulate that data as I need.</p>\n\n<p>One final unusual note: if you attempt to recreate this and have the localhost panel developer tools open, the file read will work without issue. It only happens when DevTools is closed. Which is another strange phenomenon.</p>\n"}, {"tags": ["javascript", "reduce"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1566426692, "post_id": 57599789, "comment_id": 101657037, "body": "why would you use reduce? It is not equivalent. Equivalent is .every()"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1566426931, "post_id": 57599789, "comment_id": 101657095, "body": "There are forEach, map, every, some, find, findIndex ... reduce is just one among those, and in this case <i>its the wrong tool for the job</i> What&#39;s wrong with <code>[10, -20, 30].every(greaterThan5)</code> ?"}, {"owner": {"reputation": 11, "user_id": 10930716, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZKDokm65dwg/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZnx2Cq0IYy1PwnMpfdcret2rbGDA/mo/photo.jpg?sz=128", "display_name": "sungdo1004", "link": "https://stackoverflow.com/users/10930716/sungdo1004"}, "edited": false, "score": 0, "creation_date": 1566429242, "post_id": 57599789, "comment_id": 101657597, "body": "It was part of the interview for a bootcamp"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 10930716, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZKDokm65dwg/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZnx2Cq0IYy1PwnMpfdcret2rbGDA/mo/photo.jpg?sz=128", "display_name": "sungdo1004", "link": "https://stackoverflow.com/users/10930716/sungdo1004"}, "edited": false, "score": 0, "creation_date": 1566429200, "post_id": 57599823, "comment_id": 101657590, "body": "Thank you very much"}, {"owner": {"reputation": 154038, "user_id": 462627, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f0285ad1973e938e2d2f40254c247f6f?s=128&d=identicon&r=PG", "display_name": "Praveen Kumar Purushothaman", "link": "https://stackoverflow.com/users/462627/praveen-kumar-purushothaman"}, "reply_to_user": {"reputation": 11, "user_id": 10930716, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZKDokm65dwg/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZnx2Cq0IYy1PwnMpfdcret2rbGDA/mo/photo.jpg?sz=128", "display_name": "sungdo1004", "link": "https://stackoverflow.com/users/10930716/sungdo1004"}, "edited": false, "score": 0, "creation_date": 1566467667, "post_id": 57599823, "comment_id": 101668861, "body": "@sungdo1004 Would you like to accept my answer by clicking on the tick button please?"}], "tags": [], "owner": {"reputation": 154038, "user_id": 462627, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f0285ad1973e938e2d2f40254c247f6f?s=128&d=identicon&r=PG", "display_name": "Praveen Kumar Purushothaman", "link": "https://stackoverflow.com/users/462627/praveen-kumar-purushothaman"}, "is_accepted": true, "score": 0, "last_activity_date": 1566425934, "creation_date": 1566425934, "answer_id": 57599823, "question_id": 57599789, "link": "https://stackoverflow.com/questions/57599789/how-to-refactor-this-higher-order-function/57599823#57599823", "title": "How to refactor this higher order function", "body": "<p>I would do something like this:</p>\n\n<pre><code>function every(array, callback) {\n  return array.reduce(function(acc, cur) {\n    if (acc) {\n      return callback(cur);\n    }\n    return false;\n  }, true);\n}\n</code></pre>\n\n<p>The only difference is, the first solution will stop at the first <code>false</code> while the one with <code>reduce()</code> will go on until all the array elements are checked.</p>\n\n<p><strong>Tests</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function every(array, callback) {\r\n  return array.reduce(function(acc, cur) {\r\n    if (acc) {\r\n      return callback(cur);\r\n    }\r\n    return false;\r\n  }, true);\r\n}\r\n\r\nconsole.log(every([1,2,3,4], (n) =&gt; n &lt; 5));\r\nconsole.log(every([1,2,5,4], (n) =&gt; n &lt; 5));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Within <code>reduce()</code> it doesn't stop after <code>false</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function every(array, callback) {\r\n  return array.reduce(function(acc, cur) {\r\n    console.log(\"Checking \" + cur + \"...\");\r\n    if (acc) {\r\n      return callback(cur);\r\n    }\r\n    return false;\r\n  }, true);\r\n}\r\n\r\nconsole.log(every([1,2,3,4], (n) =&gt; n &lt; 5));\r\nconsole.log(every([1,2,5,4], (n) =&gt; n &lt; 5));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 11, "user_id": 10930716, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZKDokm65dwg/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZnx2Cq0IYy1PwnMpfdcret2rbGDA/mo/photo.jpg?sz=128", "display_name": "sungdo1004", "link": "https://stackoverflow.com/users/10930716/sungdo1004"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 57599823, "answer_count": 1, "score": -1, "last_activity_date": 1566425934, "creation_date": 1566425704, "question_id": 57599789, "link": "https://stackoverflow.com/questions/57599789/how-to-refactor-this-higher-order-function", "title": "How to refactor this higher order function", "body": "<p>I am having some trouble trying to refactor this \"every\" function so that it uses a built-in \"reduce\" method.</p>\n\n<p>This is Javascript</p>\n\n<pre><code>const greaterThan5 = num =&gt; true ? num &gt; 5 : false;\n\nfunction every(array, callback) {\n    for (let element of array) {\n        if (callback(element) === false) return false\n      }\n    return true;\n}\n\nfunction every (array, callback) {\n    return array.reduce(function (acc, cur){\n     // IDK what to put here\n    }, callback(array[0]) \n}\n\nconsole.log('expected : false', every([10, -20, 30], greaterThan5))\nconsole.log('expected : true', every([10, 20, 30], greaterThan5))\n</code></pre>\n"}, {"tags": ["javascript", "sqlite", "angular6", "nativescript", "nativescript-angular"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1566426451, "post_id": 57599759, "comment_id": 101656982, "body": "Does this <code>execSQL</code> function execute <i>all</i> statements in its argument or just the first one? Double check the documentation."}, {"owner": {"reputation": 3502, "user_id": 1261752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OjAfn.png?s=128&g=1", "display_name": "C Perkins", "link": "https://stackoverflow.com/users/1261752/c-perkins"}, "edited": false, "score": 0, "creation_date": 1566428582, "post_id": 57599759, "comment_id": 101657444, "body": "The code also shows nothing in the error action.  How are you determining whether or not the code is actually committed without error?  If there is an error, how are you properly rolling back the transaction?  Unless you show otherwise, I assume that the code allows the connection to terminate while possibly inside an uncommitted transaction with an unknown error.  In that case, the column would certainly not be deleted since the entire transaction would be discarded."}, {"owner": {"reputation": 3502, "user_id": 1261752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OjAfn.png?s=128&g=1", "display_name": "C Perkins", "link": "https://stackoverflow.com/users/1261752/c-perkins"}, "edited": false, "score": 0, "creation_date": 1566428932, "post_id": 57599759, "comment_id": 101657519, "body": "The question title and question details really don&#39;t match. The details do not describe any problem with transactions as implied in the title. Do you need to add more details or edit the title to match the actual problem? You should also submit two separate questions for each issue unless they are somehow related.  Add more explanation if needed, since to me they seem like completely separate issues."}, {"owner": {"reputation": 3502, "user_id": 1261752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OjAfn.png?s=128&g=1", "display_name": "C Perkins", "link": "https://stackoverflow.com/users/1261752/c-perkins"}, "edited": false, "score": 0, "creation_date": 1566429049, "post_id": 57599759, "comment_id": 101657549, "body": "When you get around to posing separate a separate questions, you definitely should post the DDL (i.e. CREATE TABLE statements) for the tables that you listed. It is not sufficient to simply say that they exist. We need to see the actual definition of the primary and foreign keys. Also show a sample DELETE statement that is failing. Even better would be to show example data of the primary record and the child record which is causing the error. Otherwise you will likely just receive guesses at what&#39;s causing the error."}, {"owner": {"reputation": 9, "user_id": 4734263, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jV8KdnGzrkU/AAAAAAAAAAI/AAAAAAAAAJw/yHrzSOfHqNI/photo.jpg?sz=128", "display_name": "Faiz Khalid", "link": "https://stackoverflow.com/users/4734263/faiz-khalid"}, "reply_to_user": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1566496935, "post_id": 57599759, "comment_id": 101684657, "body": "@Shawn that was the issue the execSQL command did not take multiple queries. If you see fitting to post it as an answer I will vote it up and mark it. Thanks."}, {"owner": {"reputation": 9, "user_id": 4734263, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jV8KdnGzrkU/AAAAAAAAAAI/AAAAAAAAAJw/yHrzSOfHqNI/photo.jpg?sz=128", "display_name": "Faiz Khalid", "link": "https://stackoverflow.com/users/4734263/faiz-khalid"}, "reply_to_user": {"reputation": 3502, "user_id": 1261752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OjAfn.png?s=128&g=1", "display_name": "C Perkins", "link": "https://stackoverflow.com/users/1261752/c-perkins"}, "edited": false, "score": 0, "creation_date": 1566496992, "post_id": 57599759, "comment_id": 101684684, "body": "@CPerkins thank you for the input I will try to be more descriptive next time posting here"}, {"owner": {"reputation": 3502, "user_id": 1261752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OjAfn.png?s=128&g=1", "display_name": "C Perkins", "link": "https://stackoverflow.com/users/1261752/c-perkins"}, "edited": false, "score": 0, "creation_date": 1566510429, "post_id": 57599759, "comment_id": 101689702, "body": "@FaizKhalid  I hope that my comments help.  However, the intention is that you <b>edit the current question and improve it</b> by filling in gap and clarifying confusing details mentioned in comments.  The comments are not mere suggestions for &quot;next time&quot;.  If you do not edit the question and improve it, you are less likely to get a good answer."}], "owner": {"reputation": 9, "user_id": 4734263, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jV8KdnGzrkU/AAAAAAAAAAI/AAAAAAAAAJw/yHrzSOfHqNI/photo.jpg?sz=128", "display_name": "Faiz Khalid", "link": "https://stackoverflow.com/users/4734263/faiz-khalid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 164, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566425535, "creation_date": 1566425535, "question_id": 57599759, "link": "https://stackoverflow.com/questions/57599759/sqlite-db-not-doing-transactions-when-using-pragma-foreign-keys-off", "title": "SQLite DB not doing transactions when using PRAGMA foreign_keys = off", "body": "<p>We have an nativescript-angular app that uses nativescript-sqlite to communicate with a local SQLite DB. The Following are issues we are facing:</p>\n\n<p>ISSUE 1: \nThere is a table with a composite primary key(Table A). There are few tables that use those primary keys as foreign keys(Table B,C,D). When attempting to delete rows from Table B,C,D I am getting a foreign key mismatch error.</p>\n\n<p>ISSUE 2:\nSQLite does not delete Columns from Tables. The work around is to create a new temp table, insert the data, delete old table, rename temp table. I have implemented like the code attached. The code runs fine and give no errors but when I check the DB the Column is still present.</p>\n\n<p>Any help would be greatly appreciated.</p>\n\n<pre><code>this.databaseService.getdbConnection().then(db =&gt; {\n  db.execSQL(`\n  PRAGMA foreign_keys=off;\n  BEGIN TRANSACTION;\n  CREATE TABLE IF NOT EXISTS new_table( \n     column_definition,\n     ...\n  );\n  INSERT INTO new_table(column_list)\n  SELECT column_list\n  FROM table;\n\n  DROP TABLE table;\n\n  ALTER TABLE new_table RENAME TO table; \n\n  COMMIT;\n\n  PRAGMA foreign_keys=on;\n  `).then(id =&gt; {\n\n  }, error =&gt; { \n\n  });\n});\n</code></pre>\n\n<p>Issue1: allow deleting the rows from table that are using the foreign keys (TABLE B,C,D)</p>\n\n<p>Issue2: The column from the table should be deleted</p>\n"}, {"tags": ["javascript", "mpeg-dash", "media-source"], "answers": [{"tags": [], "owner": {"reputation": 613, "user_id": 6718124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b88287d370c0c993040f1428672f442?s=128&d=identicon&r=PG&f=1", "display_name": "Anonymous Coward", "link": "https://stackoverflow.com/users/6718124/anonymous-coward"}, "is_accepted": false, "score": 1, "last_activity_date": 1567091021, "creation_date": 1567091021, "answer_id": 57712987, "question_id": 57599755, "link": "https://stackoverflow.com/questions/57599755/initialization-segment-misses-expected-aac-track-even-audio-initial-segment-i/57712987#57712987", "title": "&quot;Initialization segment misses expected aac track.&quot; even audio initial segment is appended", "body": "<p>A single SourceBuffer created for multiplexed content requires a single initialisation segment containing initialisation information for both tracks - you have two initialisation segments each with a single track, so you get this error.</p>\n\n<p>You need to have seperate SourceBuffers - one for each adaptationset.</p>\n"}], "owner": {"reputation": 511, "user_id": 6422117, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0vgDThy_ZEA/AAAAAAAAAAI/AAAAAAAAAAk/dqEGpntQs_I/photo.jpg?sz=128", "display_name": "Feihua Fang", "link": "https://stackoverflow.com/users/6422117/feihua-fang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1567091021, "creation_date": 1566425528, "question_id": 57599755, "link": "https://stackoverflow.com/questions/57599755/initialization-segment-misses-expected-aac-track-even-audio-initial-segment-i", "title": "&quot;Initialization segment misses expected aac track.&quot; even audio initial segment is appended", "body": "<p>I am currently working on playing media using DASH and met a problem when playing 2-track (video &amp; audio) media.</p>\n\n<p>Now I have a dash manifest like this:</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;MPD xmlns=\"urn:mpeg:dash:schema:mpd:2011\" xx xx&gt;\n  &lt;Period id=\"0\" start=\"PT0S\"&gt;\n    &lt;AdaptationSet segmentAlignment=\"true\" mimeType=\"video/mp4\" startWithSAP=\"1\"&gt;\n      &lt;SegmentTemplate initialization=\"videoInitialFragmentUrl\" timescale=\"1000\" startNumber=\"19\" media=\"someTemplateUrl\"&gt;\n        &lt;SegmentTimeline&gt;\n          &lt;S t=\"37968\" d=\"1994\" /&gt;\n          &lt;S d=\"2067\" /&gt;\n        &lt;/SegmentTimeline&gt;\n      &lt;/SegmentTemplate&gt;\n      &lt;Representation id=\"video\" bandwidth=\"492421\" width=\"1920\" height=\"1080\" frameRate=\"14.99\" codecs=\"avc1.4d4028\" scanType=\"progressive\"/&gt;\n    &lt;/AdaptationSet&gt;\n    &lt;AdaptationSet segmentAlignment=\"true\" mimeType=\"audio/mp4\" startWithSAP=\"1\"&gt;\n      &lt;SegmentTemplate initialization=\"audioInitialFragmentUrl\" timescale=\"1000\" startNumber=\"19\" media=\"someTemplateUrl\"&gt;\n        &lt;SegmentTimeline&gt;\n          &lt;S t=\"37968\" d=\"1994\"/&gt;\n          &lt;S d=\"2067\" /&gt;\n        &lt;/SegmentTimeline&gt;\n      &lt;/SegmentTemplate&gt;\n      &lt;Representation id=\"audio\" bandwidth=\"64633\" audioSamplingRate=\"8000\" codecs=\"alaw\"&gt;\n        &lt;AudioChannelConfiguration xx xx/&gt;\n      &lt;/Representation&gt;\n    &lt;/AdaptationSet&gt;\n  &lt;/Period&gt;\n&lt;/MPD&gt;\n</code></pre>\n\n<p>I initialize the souceBuffer with following steps:</p>\n\n<ol>\n<li>create a mediaSouce with mimeType \"video/mp4; codecs=\navc1.4d0020, mp4a.40.2\"</li>\n<li>create a sourceBuffer and add it to the mediaSource</li>\n<li>fetch ArrayBuffer from audioInitialFragmentUrl &amp; audioInitialFragmentUrl, and concatenate them.</li>\n<li>append the buffer to sourceBuffer</li>\n</ol>\n\n<p>And then I got the error \"Initialization segment misses expected aac track\" but I am pretty sure the buffer contains audio part I fetched from audioInitialFragmentUrl.\nAny help about reason?</p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 19440, "user_id": 6275103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KDDMj.jpg?s=128&g=1", "display_name": "MrGeek", "link": "https://stackoverflow.com/users/6275103/mrgeek"}, "edited": false, "score": 4, "creation_date": 1566425161, "post_id": 57599678, "comment_id": 101656617, "body": "Because <code>&quot;sqlentry&quot; !== &quot;sqlEntry&quot;</code>."}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1566425474, "post_id": 57599678, "comment_id": 101656711, "body": "Error in the console is a hint <code>message&quot;: &quot;Uncaught TypeError: Cannot read property &#39;value&#39; of null&quot;,</code>"}, {"owner": {"reputation": 11071, "user_id": 358435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b6a07b64e50a331ba65e6d5b9b410199?s=128&d=identicon&r=PG&f=1", "display_name": "karthick", "link": "https://stackoverflow.com/users/358435/karthick"}, "edited": false, "score": 1, "creation_date": 1566425481, "post_id": 57599678, "comment_id": 101656713, "body": "you need to add event listeners. and listen to the change and then alert it. And also sqlentry typo"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6762146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1c9eb1acb1597e7731ad752f2094175?s=128&d=identicon&r=PG&f=1", "display_name": "dthillsr", "link": "https://stackoverflow.com/users/6762146/dthillsr"}, "edited": false, "score": 0, "creation_date": 1566425670, "post_id": 57599764, "comment_id": 101656768, "body": "Thanks, I am working now."}], "tags": [], "owner": {"reputation": 79, "user_id": 11736399, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-puIIaPz0-Oc/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXxKdSBdQI5HWqe0UbFxOeFdH0RQw/mo/photo.jpg?sz=128", "display_name": "heinrichpauli", "link": "https://stackoverflow.com/users/11736399/heinrichpauli"}, "is_accepted": true, "score": 0, "last_activity_date": 1566425569, "creation_date": 1566425569, "answer_id": 57599764, "question_id": 57599678, "link": "https://stackoverflow.com/questions/57599678/why-doesnt-this-code-return-the-number-value/57599764#57599764", "title": "Why doesn&#39;t this code return the number value?", "body": "<p>pay attention to large and lower case</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var doc_repo = document.getElementById(\"sqlentry\").value;\nalert(doc_repo)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2829, "user_id": 6388552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJiGS.jpg?s=128&g=1", "display_name": "ths", "link": "https://stackoverflow.com/users/6388552/ths"}, "is_accepted": false, "score": 1, "last_activity_date": 1566426109, "creation_date": 1566426109, "answer_id": 57599847, "question_id": 57599678, "link": "https://stackoverflow.com/questions/57599678/why-doesnt-this-code-return-the-number-value/57599847#57599847", "title": "Why doesn&#39;t this code return the number value?", "body": "<p>Some mistakes you went into :</p>\n\n<ul>\n<li>it's <code>sqlentry</code> not <code>sqlEntry</code> as the <code>getElementById</code> method's selector is case-sensitive.</li>\n<li>\"<em>I enter a number in the field but when I click the button to get the value I get nothing</em>\" I don't see any <code>button</code> in your code and you'll need a click event listener (attached to the <code>button</code>) if you want to get the value after a button click.</li>\n</ul>\n\n<p>Here's a demo :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>/**\r\n* @const doc_repo the input element.\r\n* @const btn the button on which you click to get the input's value.\r\n**/\r\nconst doc_repo = document.getElementById(\"sqlentry\"),\r\n  btn = document.getElementById(\"btn\");\r\n\r\n/** attach click event listener to the button **/\r\nbtn.addEventListener('click', () =&gt; console.log(doc_repo.value)); /** log the value **/\r\n\r\n/** you could use \"alert\" method instead of \"console.log\", I didn't use it to maintain a better user experience on this SO page **/</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"number\" id=\"sqlentry\" name=\"repository\" /&gt;\r\n&lt;button id=\"btn\"&gt;get value&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This does the trick but you'll get an empty result if the <code>input</code> is empty ! To bypass that we can check if the <code>input</code> has a value otherwise we print <code>0</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const doc_repo = document.getElementById(\"sqlentry\"),\r\n  btn = document.getElementById(\"btn\");\r\n\r\nbtn.addEventListener('click', () =&gt; console.log(doc_repo.value || 0));\r\n/** \r\n * the \"||\" operator returns the left operand if it's true otherwise it returns the right operand\r\n * as empty string is falsy the \"||\" operator returns 0 when the input is empty. \r\n **/</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"number\" id=\"sqlentry\" name=\"repository\" /&gt;\r\n&lt;button id=\"btn\"&gt;get value&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 6762146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1c9eb1acb1597e7731ad752f2094175?s=128&d=identicon&r=PG&f=1", "display_name": "dthillsr", "link": "https://stackoverflow.com/users/6762146/dthillsr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "closed_date": 1566451153, "accepted_answer_id": 57599764, "answer_count": 2, "score": -4, "last_activity_date": 1566426109, "creation_date": 1566425023, "last_edit_date": 1566425207, "question_id": 57599678, "link": "https://stackoverflow.com/questions/57599678/why-doesnt-this-code-return-the-number-value", "closed_reason": "Not suitable for this site", "title": "Why doesn&#39;t this code return the number value?", "body": "<p>I am trying to retrieve a value from a number text box and cannot get the value entered.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var doc_repo = \"TEST\"\r\nalert(doc_repo)</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"number\" id=\"sqlentry\" name=\"repository\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This will return TEST</p>\n\n<p>I enter a number in the field but when I click the button to get the value I get nothing.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var doc_repo = document.getElementById(\"sqlEntry\").value;\r\nalert(doc_repo)</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"number\" id=\"sqlentry\" name=\"repository\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I am expecting to get a number displayed but I get nothing.</p>\n"}, {"tags": ["javascript", "arrays", "d3.js", "promise"], "comments": [{"owner": {"reputation": 4879, "user_id": 3213172, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/9h5GT.jpg?s=128&g=1", "display_name": "djfdev", "link": "https://stackoverflow.com/users/3213172/djfdev"}, "edited": false, "score": 1, "creation_date": 1566425290, "post_id": 57599677, "comment_id": 101656650, "body": "Is this your actual code? You&#39;ve initialized the <code>Loaded_Data</code> array with three inner arrays, so you should not be getting that error with the current code posted here."}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1566425373, "post_id": 57599677, "comment_id": 101656676, "body": "Show the actual code block...."}, {"owner": {"reputation": 2359, "user_id": 4326715, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/5f74p.jpg?s=128&g=1", "display_name": "Asleepace", "link": "https://stackoverflow.com/users/4326715/asleepace"}, "edited": false, "score": 0, "creation_date": 1566425374, "post_id": 57599677, "comment_id": 101656677, "body": "Try adding <code>console.log(typeof Loaded_data[0]);</code> somewhere to debug"}, {"owner": {"reputation": 63, "user_id": 11854539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e75edb3cadb8530260a909530bbd743?s=128&d=identicon&r=PG&f=1", "display_name": "HAZRD", "link": "https://stackoverflow.com/users/11854539/hazrd"}, "reply_to_user": {"reputation": 4879, "user_id": 3213172, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/9h5GT.jpg?s=128&g=1", "display_name": "djfdev", "link": "https://stackoverflow.com/users/3213172/djfdev"}, "edited": false, "score": 0, "creation_date": 1566425531, "post_id": 57599677, "comment_id": 101656730, "body": "@djfdev This is my actual code with paths hidden"}, {"owner": {"reputation": 63, "user_id": 11854539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e75edb3cadb8530260a909530bbd743?s=128&d=identicon&r=PG&f=1", "display_name": "HAZRD", "link": "https://stackoverflow.com/users/11854539/hazrd"}, "reply_to_user": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1566425560, "post_id": 57599677, "comment_id": 101656737, "body": "@epascarello  This is my actual code with paths hidden"}, {"owner": {"reputation": 4879, "user_id": 3213172, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/9h5GT.jpg?s=128&g=1", "display_name": "djfdev", "link": "https://stackoverflow.com/users/3213172/djfdev"}, "edited": false, "score": 0, "creation_date": 1566425656, "post_id": 57599677, "comment_id": 101656765, "body": "OK. What do you get when you run <code>console.log(Loaded_Data)</code> at the beginning of the <code>then</code> callback function?"}, {"owner": {"reputation": 63, "user_id": 11854539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e75edb3cadb8530260a909530bbd743?s=128&d=identicon&r=PG&f=1", "display_name": "HAZRD", "link": "https://stackoverflow.com/users/11854539/hazrd"}, "reply_to_user": {"reputation": 2359, "user_id": 4326715, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/5f74p.jpg?s=128&g=1", "display_name": "Asleepace", "link": "https://stackoverflow.com/users/4326715/asleepace"}, "edited": false, "score": 0, "creation_date": 1566425688, "post_id": 57599677, "comment_id": 101656778, "body": "@Asleepace Typeof is object for somereason? running that right after my array init"}, {"owner": {"reputation": 2359, "user_id": 4326715, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/5f74p.jpg?s=128&g=1", "display_name": "Asleepace", "link": "https://stackoverflow.com/users/4326715/asleepace"}, "edited": false, "score": 0, "creation_date": 1566425757, "post_id": 57599677, "comment_id": 101656794, "body": "@HAZRD that&#39;s correct array will return object, what does it show if you just <code>console.log(Loaded_Data[0]);</code>"}, {"owner": {"reputation": 2359, "user_id": 4326715, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/5f74p.jpg?s=128&g=1", "display_name": "Asleepace", "link": "https://stackoverflow.com/users/4326715/asleepace"}, "edited": false, "score": 0, "creation_date": 1566425820, "post_id": 57599677, "comment_id": 101656815, "body": "@HAZRD also run it inside the callback of the then statement"}, {"owner": {"reputation": 2064, "user_id": 1898688, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cb15741a2864c82a70537e9b82a19780?s=128&d=identicon&r=PG", "display_name": "tic", "link": "https://stackoverflow.com/users/1898688/tic"}, "edited": false, "score": 0, "creation_date": 1566425824, "post_id": 57599677, "comment_id": 101656817, "body": "Do <code>var myVariable = [];</code> rather than <code>myVariable = [];</code> otherwise you are using global scope and who knows what it will be then!"}, {"owner": {"reputation": 63, "user_id": 11854539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e75edb3cadb8530260a909530bbd743?s=128&d=identicon&r=PG&f=1", "display_name": "HAZRD", "link": "https://stackoverflow.com/users/11854539/hazrd"}, "reply_to_user": {"reputation": 2359, "user_id": 4326715, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/5f74p.jpg?s=128&g=1", "display_name": "Asleepace", "link": "https://stackoverflow.com/users/4326715/asleepace"}, "edited": false, "score": 0, "creation_date": 1566425927, "post_id": 57599677, "comment_id": 101656841, "body": "@Asleepace I cant get my code to get inside the .then().  My console errors out before it logs anything"}, {"owner": {"reputation": 2359, "user_id": 4326715, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/5f74p.jpg?s=128&g=1", "display_name": "Asleepace", "link": "https://stackoverflow.com/users/4326715/asleepace"}, "edited": false, "score": 0, "creation_date": 1566426015, "post_id": 57599677, "comment_id": 101656867, "body": "@HAZRD add a <code>.catch(error =&gt; console.log(error))</code> after the then (before the semicolon), it may be another issue"}, {"owner": {"reputation": 63, "user_id": 11854539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e75edb3cadb8530260a909530bbd743?s=128&d=identicon&r=PG&f=1", "display_name": "HAZRD", "link": "https://stackoverflow.com/users/11854539/hazrd"}, "reply_to_user": {"reputation": 2064, "user_id": 1898688, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cb15741a2864c82a70537e9b82a19780?s=128&d=identicon&r=PG", "display_name": "tic", "link": "https://stackoverflow.com/users/1898688/tic"}, "edited": false, "score": 0, "creation_date": 1566426103, "post_id": 57599677, "comment_id": 101656893, "body": "@tic adding var to my array declaration causes my code to just pass through?? no errors not console.log"}], "answers": [{"tags": [], "owner": {"reputation": 63, "user_id": 11854539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e75edb3cadb8530260a909530bbd743?s=128&d=identicon&r=PG&f=1", "display_name": "HAZRD", "link": "https://stackoverflow.com/users/11854539/hazrd"}, "is_accepted": false, "score": -2, "last_activity_date": 1566426826, "creation_date": 1566426826, "answer_id": 57599943, "question_id": 57599677, "link": "https://stackoverflow.com/questions/57599677/how-to-push-into-an-array-of-arrays/57599943#57599943", "title": "How to .push into an array of arrays", "body": "<p>Looks like dumb me going from one instance to the recursive forgot to include an iterator and i was getting essentially a ... wait for it ... STACK OVERFLOW!!! .</p>\n\n<p>I was explaining my code to my rubber ducky and found it. what a waste of 2 hours.\n<em>facepalm</em> </p>\n"}], "owner": {"reputation": 63, "user_id": 11854539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e75edb3cadb8530260a909530bbd743?s=128&d=identicon&r=PG&f=1", "display_name": "HAZRD", "link": "https://stackoverflow.com/users/11854539/hazrd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "closed_date": 1566427395, "answer_count": 1, "score": 0, "last_activity_date": 1566426826, "creation_date": 1566425001, "question_id": 57599677, "link": "https://stackoverflow.com/questions/57599677/how-to-push-into-an-array-of-arrays", "closed_reason": "Duplicate", "title": "How to .push into an array of arrays", "body": "<p>Reading 3 sets of files recursively by date to load into one array of arrays of objects to send to a graphing function</p>\n\n<p>This worked previously when I didn't have a promise all and I was just pushing into one spot of Loaded_Data: </p>\n\n<p>i.e.:</p>\n\n<pre><code>Loaded_Data = [];\n\n d3.tsv(\"location.txt\").then( { data =&gt; data.forEach( d =&gt; {Loaded_data.push(d);}) } );\n</code></pre>\n\n<p>works fine.</p>\n\n<p>When I try to change \"Loaded_Data=[];\" to:</p>\n\n<pre><code>Loaded_Data = [[],[],[]];  //empty the array from previous load\n\nPromise.all([d3.tsv(\"location.txt\"), d3.tsv(\"location2.txt\"), d3.tsv(\"location3.txt\")])\n.then( data =&gt; {\n    data[0].forEach( d =&gt;  { Loaded_Data[0].push(d);})\n    data[1].forEach( d =&gt;  { Loaded_Data[1].push(d);})\n    data[2].forEach( d =&gt;  { Loaded_Data[2].push(d);})\n});\n</code></pre>\n\n<p>when i console.log(Loaded_Data) i expect:</p>\n\n<pre><code>[[{object1a},{o2a},{o3a},{...}],[{object1b},{o2b},o3b},{...}],[{object1c},{o2c},{o3c}]]\n</code></pre>\n\n<p>But I get the error: \"Loaded_Data[0].push(d) is not a function\"</p>\n\n<p>Isn't this the correct way to access my array of arrays of objects?</p>\n"}, {"tags": ["javascript", "c#", "ajax", "asp.net-core"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1566426543, "post_id": 57599639, "comment_id": 101657003, "body": "<code>FileGuid</code>  !== <code>fileGuid</code> and similarly for <code>FileName</code> !== <code>fileName</code> - javascript is <i>case sensitive</i> about these things ... i.e. <code>window.location = &#39;Download?fileGuid=&#39; + element.fileGuid                             + &#39;&amp;filename=&#39; + element.fileName;</code>"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1566426717, "post_id": 57599639, "comment_id": 101657046, "body": "<code>I&#39;m not totally sure if it would end up calling the Download file</code> well, I know nothing about asp, but based on the code you have shown, it seems you may want <code>&#39;@Url.Action(&quot;Download&quot;)?etc&#39;</code> - given how your AJAX request is <code>&#39;@Url.Action(&quot;CreateCsvFile&quot;)&#39;</code> - again, total speculation on my part"}], "answers": [{"tags": [], "owner": {"reputation": 14390, "user_id": 10158551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/45RCc.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10158551/ryan"}, "is_accepted": false, "score": 0, "last_activity_date": 1566450803, "creation_date": 1566450803, "answer_id": 57602435, "question_id": 57599639, "link": "https://stackoverflow.com/questions/57599639/need-help-getting-ajax-call-to-download-file/57602435#57602435", "title": "Need help getting AJAX call to download file", "body": "<p>Since you could see the data as <code>{\"fileGuid\":\"0123\",\"fileName\":\"newreport.csv\"}</code> using <code>console.log(element)</code> in ajax success, then you also need to use same key <code>element.fileGuid</code> instead of <code>element.FileGuid</code>:</p>\n\n<pre><code>success: function (data) {            \n            if (data) {\n                var element = data;\n                console.log(element);\n                window.location = 'Download?fileGuid=' + element.fileGuid\n                       + '&amp;fileName=' + element.fileName;\n            }\n        }\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 10242035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8a1c40873183a938da3397b5f67d9d3?s=128&d=identicon&r=PG&f=1", "display_name": "Warbler", "link": "https://stackoverflow.com/users/10242035/warbler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 237, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566450803, "creation_date": 1566424813, "question_id": 57599639, "link": "https://stackoverflow.com/questions/57599639/need-help-getting-ajax-call-to-download-file", "title": "Need help getting AJAX call to download file", "body": "<p>So I am working on a website page where the user selects some elements to make a specific report. I then have them click on a button, which makes an ajax call. This call (correctly) calls a method in the controller that creates a .csv file based off of the parameters. </p>\n\n<p>However, the hard part is that, after I create this file, I want the user to download it in the usual manner-with the whole popup and putting it in the download folder and all that.</p>\n\n<p>I found <a href=\"https://stackoverflow.com/questions/16670209/download-excel-file-via-ajax-mvc\">this</a> stack overflow question that is more or less doing what I am now. Except it was written pre-ASP.NET Core, and it's not really working with my code. Here is my code right now:</p>\n\n<pre><code>&lt;div class=\"mybutton\"&gt;\n    &lt;button type=\"button\" class=\"btn btn-info\" style=\"background-color:#587992\" id=\"CreateExcel\" onclick=\"CreateFile()\"&gt; Create an Excel File for this Data &lt;/button&gt;\n&lt;/div&gt;\n\n...\n\n&lt;script&gt;\n...\n\nfunction CreateFile(){\n   array = getParameters();\n    $.ajax({\n            type: \"POST\",\n\n            data: { 'array': array },\n            cache: false,\n            traditional: true,\n\n            url: '@Url.Action(\"CreateCsvFile\")',\n            success: function (data) {\n                if (data) {\n                    var element = data;\n                    window.location = 'Download?fileGuid=' + element.FileGuid \n                           + '&amp;filename=' + element.FileName;\n                }\n            }\n        });\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>And then here is my controller code:</p>\n\n<pre><code>public ActionResult CreateCsvFile(string[] array)\n        {\n            List&lt;OperatorInterventions&gt; TempList = new List&lt;OperatorInterventions&gt;();\n\n            //Logic to apply the List to the passed in parameters in this line...\n\n            var memoryStream = new MemoryStream();\n            using (var writer = new StreamWriter(memoryStream, Encoding.UTF8, 1024, true))\n\n            using (var csv = new CsvWriter(writer))\n            {\n                csv.WriteRecords(TempList);\n\n            }\n            string handle = Guid.NewGuid().ToString();\n            memoryStream.Position = 0;\n            TempData[handle] = memoryStream.ToArray();\n\n            //return File(memoryStream, \"text/csv\", \"clients.csv\");\n            return new JsonResult(new { FileGuid = handle, FileName = \"newreport.csv\" });\n\n\n        }\n\n\n        [HttpGet]\n        public virtual ActionResult Download(string fileGuid, string fileName)\n        {\n            if (TempData[fileGuid] != null)\n            {\n                byte[] data = TempData[fileGuid] as byte[];\n                return File(data, \"text/csv\", fileName);\n            }\n            else\n            {\n                // Problem - Log the error, generate a blank file,\n                //           redirect to another controller action - whatever fits with your application\n                return new EmptyResult();\n            }\n        }\n</code></pre>\n\n<p>Right now, when I return from the Ajax call to CreateCsvFile, I attempt to handle data. When I step through the call, I can see that data/element contains something like <code>\"{\"fileGuid\":\"0123\",\"fileName\":\"newreport.csv\"}\"</code>, but in the URL call that window.location uses, it element.FileGuid and element.FileName end up being \"undefined\". I previously had <code>JSON.parse(data)</code> in there, but that caused an error, and <code>JSON.stringify(data)</code> did nothing.</p>\n\n<p>Additionally, I suspect that even if I managed to get fileGuid and fileName to not be undefined in the url, I'm not totally sure if it would end up calling the Download file.</p>\n\n<p>Is there a way to fix the undefined? Is there a better way to do this Ajax call-to-download in general?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript"], "answers": [{"tags": [], "owner": {"reputation": 542, "user_id": 11886299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/095e6f3f268850b0a190dddd0d740b5f?s=128&d=identicon&r=PG&f=1", "display_name": "Mickey", "link": "https://stackoverflow.com/users/11886299/mickey"}, "is_accepted": false, "score": 0, "last_activity_date": 1566425403, "creation_date": 1566425403, "answer_id": 57599741, "question_id": 57599629, "link": "https://stackoverflow.com/questions/57599629/formatting-string-dates-to-always-follow-yyyy-mm-dd-format-non-epoch/57599741#57599741", "title": "Formatting string dates to always follow yyyy-mm-dd format (non-epoch)", "body": "<p>If you know that's the only formatting issue you can expect, you could just make a function to shove a zero at the start of any digit smaller than 10, and another to split the string so you can parse the day and month values.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let goodDate = \"2019-08-09\";\r\nlet badDate = \"2019-8-9\";\r\n\r\nfunction paddedZero(str){\r\n  return parseInt(str) &gt; 9 ? str : `0${parseInt(str)}`;\r\n}\r\n\r\nfunction formatDateStr(str){\r\n  let [year, month, day] = str.split(\"-\");\r\n  return `${year}-${paddedZero(month)}-${paddedZero(day)}`;\r\n}\r\n\r\nconsole.log(formatDateStr(goodDate));\r\nconsole.log(formatDateStr(badDate));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 986, "user_id": 2443300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a1abd2a8240bed4e8dc963b1004a8ada?s=128&d=identicon&r=PG", "display_name": "N Alex", "link": "https://stackoverflow.com/users/2443300/n-alex"}, "is_accepted": false, "score": 0, "last_activity_date": 1566425680, "creation_date": 1566425680, "answer_id": 57599784, "question_id": 57599629, "link": "https://stackoverflow.com/questions/57599629/formatting-string-dates-to-always-follow-yyyy-mm-dd-format-non-epoch/57599784#57599784", "title": "Formatting string dates to always follow yyyy-mm-dd format (non-epoch)", "body": "<p>I would do it like this:</p>\n\n<pre><code>function padZero(str) {\n  return str.length === 1 ? '0' + str : str;\n}\n\nfunction checkDateFormat(date){\n    date = date.split(\"-\");\n    date[1] = padZero(date[1]);\n    date[2] = padZero(date[2]);\n    return date.join(\"-\");\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 10916500, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xlsSqbvGzCQ/AAAAAAAAAAI/AAAAAAAAABE/xZrG2HFptsk/photo.jpg?sz=128", "display_name": "Ashley Sanders", "link": "https://stackoverflow.com/users/10916500/ashley-sanders"}, "edited": false, "score": 0, "creation_date": 1566522154, "post_id": 57599840, "comment_id": 101691888, "body": "Cleanest and simplest solution"}], "tags": [], "owner": {"reputation": 19920, "user_id": 1383168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atB67.png?s=128&g=1", "display_name": "Slai", "link": "https://stackoverflow.com/users/1383168/slai"}, "is_accepted": true, "score": 0, "last_activity_date": 1566426060, "creation_date": 1566426060, "answer_id": 57599840, "question_id": 57599629, "link": "https://stackoverflow.com/questions/57599629/formatting-string-dates-to-always-follow-yyyy-mm-dd-format-non-epoch/57599840#57599840", "title": "Formatting string dates to always follow yyyy-mm-dd format (non-epoch)", "body": "<p>Simple regular expression replace would be enough :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>console.log( '2000-1-2'.replace(/\\b\\d\\b/g, '0$&amp;') )</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 10916500, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xlsSqbvGzCQ/AAAAAAAAAAI/AAAAAAAAABE/xZrG2HFptsk/photo.jpg?sz=128", "display_name": "Ashley Sanders", "link": "https://stackoverflow.com/users/10916500/ashley-sanders"}, "edited": false, "score": 0, "creation_date": 1566522017, "post_id": 57600162, "comment_id": 101691860, "body": "Promise was due to requiring the resolve on my end, should have edited for the question but thanks for the answer, short but sweet"}], "tags": [], "owner": {"reputation": 22073, "user_id": 1262551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dfbdbd848157f859c7b80d3bf5d3675?s=128&d=identicon&r=PG", "display_name": "ZER0", "link": "https://stackoverflow.com/users/1262551/zer0"}, "is_accepted": false, "score": 0, "last_activity_date": 1566428622, "creation_date": 1566428622, "answer_id": 57600162, "question_id": 57599629, "link": "https://stackoverflow.com/questions/57599629/formatting-string-dates-to-always-follow-yyyy-mm-dd-format-non-epoch/57600162#57600162", "title": "Formatting string dates to always follow yyyy-mm-dd format (non-epoch)", "body": "<p>First of all, I'm not sure why you need a Promise here since I can't see any real async code, but anyway, the core part would be:</p>\n\n<pre><code>const ensureDateFormat = (date) =&gt; \n  new Date(date).toISOString().substr(0, 10);\n</code></pre>\n\n<p>If you want to return a promise, you could always return a resolved promise:</p>\n\n<pre><code>const ensureDateFormat = (date) =&gt; \n  Promise.resolve(new Date(date).toISOString().substr(0, 10));\n</code></pre>\n\n<p><strong>Notice</strong> that this is assume you don't have year prior 0 or after 9999. See <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/ISO_8601</a></p>\n"}], "owner": {"reputation": 13, "user_id": 10916500, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xlsSqbvGzCQ/AAAAAAAAAAI/AAAAAAAAABE/xZrG2HFptsk/photo.jpg?sz=128", "display_name": "Ashley Sanders", "link": "https://stackoverflow.com/users/10916500/ashley-sanders"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 57599840, "answer_count": 4, "score": 1, "last_activity_date": 1566428622, "creation_date": 1566424715, "question_id": 57599629, "link": "https://stackoverflow.com/questions/57599629/formatting-string-dates-to-always-follow-yyyy-mm-dd-format-non-epoch", "title": "Formatting string dates to always follow yyyy-mm-dd format (non-epoch)", "body": "<p>I have 3 different clients (Android, iOS and Web) all hitting the same endpoint parsing a date string which needs to be stored as yyyy-mm-dd. Android and iOS date pickers both seem to be parsing the correct format but excluding the zeros for months and days in the single digits i.e 2019-8-9 instead of 2019-08-09. </p>\n\n<p>Moment.js does't seem to have a solution to this. I would like a solution that can be handled server side in vanilla js so as to not need updates to be made to the Android and iOS apps functions that parse the data.</p>\n\n<p>This is my current solution. Works as it should. Curious to see if anyone can come up with a cleaner/leaner solution.</p>\n\n<pre><code>function checkDateFormat(date){\n    return new Promise (resolve=&gt;{\n        if(date.length == 8){\n            // Both month and day are single digits and should be fixed\n            var firstFix = date.substr(0, 5) + \"0\" + date.substr(5);\n            var secondFix = firstFix .substr(0, 8) + \"0\" + firstFix.substr(8);\n            resolve(secondFix);\n        } else if (date.length == 9){    \n            if(date.substr(6,1) == \"-\"){\n                // Month is single digit and should be fixed\n                var monthFix = date.substr(0, 5) + \"0\" + date.substr(5);\n                resolve(monthFix);\n            } else {\n                // Day is single digit and should be fixed\n                var dayFix = date.substr(0, 8) + \"0\" + date.substr(8);\n                resolve(dayFix);\n            }            \n        } else {\n            resolve(date);\n        }        \n    });\n}\n</code></pre>\n\n<p>Should resolve string consistently as yyyy-mm-dd and never yyyy-m-dd or yyyy-mm-d</p>\n"}, {"tags": ["javascript", "class", "memory"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 11959334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96060941ce66d30eb4015b272eb65208?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/11959334/john-doe"}, "edited": false, "score": 0, "creation_date": 1566431191, "post_id": 57599988, "comment_id": 101658012, "body": "That&#39;s weird. I thought primitive values don&#39;t refer to memory. When you change <code>str</code> variable the others don&#39;t change. It means they don&#39;t refer and don&#39;t share the same memory, do they?"}, {"owner": {"reputation": 4515, "user_id": 4808079, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/hXTld.jpg?s=128&g=1", "display_name": "Seph Reed", "link": "https://stackoverflow.com/users/4808079/seph-reed"}, "reply_to_user": {"reputation": 41, "user_id": 11959334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96060941ce66d30eb4015b272eb65208?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/11959334/john-doe"}, "edited": false, "score": 0, "creation_date": 1566488717, "post_id": 57599988, "comment_id": 101681034, "body": "So JS acts like strings are pass by value.  But (asfaict) how it actually implements it on the inside is optimized.  That&#39;s kind of what makes JS a scripting language, and not a real language.  In JS, there&#39;s very clear definitions of what something should do in effect, but how it actually manages that is arbitrary.  Conversely, compiled languages do exactly as you say, exactly as you say it, even when it&#39;s a bad idea (minus some well documented optimizations)."}, {"owner": {"reputation": 41, "user_id": 11959334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96060941ce66d30eb4015b272eb65208?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/11959334/john-doe"}, "edited": false, "score": 0, "creation_date": 1566503409, "post_id": 57599988, "comment_id": 101687329, "body": "Do they share the memory until any string is changed? After that, it assigns memory to new string. For example: <code>var a = &quot;a&quot;; var b = a; &#47;&#47; same memory as **var a**; var b = &quot;b&quot; &#47;&#47; now both variables have different memory</code> Am I right?"}, {"owner": {"reputation": 4515, "user_id": 4808079, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/hXTld.jpg?s=128&g=1", "display_name": "Seph Reed", "link": "https://stackoverflow.com/users/4808079/seph-reed"}, "reply_to_user": {"reputation": 41, "user_id": 11959334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96060941ce66d30eb4015b272eb65208?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/11959334/john-doe"}, "edited": false, "score": 0, "creation_date": 1566504037, "post_id": 57599988, "comment_id": 101687579, "body": "I can&#39;t tell you for sure, but something performant appears to be happening when you run tests.  You&#39;d have to look at the source code to know what.  I only cared enough to check it wasn&#39;t doing things the slow way."}], "tags": [], "owner": {"reputation": 4515, "user_id": 4808079, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/hXTld.jpg?s=128&g=1", "display_name": "Seph Reed", "link": "https://stackoverflow.com/users/4808079/seph-reed"}, "is_accepted": false, "score": 0, "last_activity_date": 1566427138, "creation_date": 1566427138, "answer_id": 57599988, "question_id": 57599615, "link": "https://stackoverflow.com/questions/57599615/memory-management-with-javascript-static-classes-and-methods/57599988#57599988", "title": "Memory management with Javascript static classes and methods", "body": "<p>tl;dr Native implementations are wacky and situational, and almost always as efficient as can be imagined.  They don't do what you say, they do what you mean.</p>\n\n<p>This can vary between JavaScript engines, but let's assume you're talking about the v8 engine or an extension of it.  </p>\n\n<p>Telling exactly what it does is difficult without looking at the source code, but I've run jsperf tests on string copies before and found that v8 appears to do as little copying of strings as possible.  You can call substr all you want and have no performance hit.  You can copy strings all over the place and it'll act like nothing happened.  But the moment you modify a string even a little, performance drops dramatically.</p>\n\n<p>What I glean from this is that it does not copy a string to a new place in memory until you modify it.  Which is to say, all of these should access the same string in memory, with at most a start index and length differing:</p>\n\n<pre><code>const str = \"string\";\nconst str2 = str; // same memory\nconst str3 = str2; // same memory\nconst snip = str.slice(1,3); // different start position and length, same memory\n\nconst diff = str.replace(\"i\", \"o\"); // potentially some shared memory, but performance drops would indicate a copy happens\n</code></pre>\n\n<p>If you really want to know exactly when things are copied vs when a reference is used, you'd have to look at the source code for v8 (<a href=\"https://github.com/v8/v8\" rel=\"nofollow noreferrer\">https://github.com/v8/v8</a>).</p>\n\n<p>Further, how browsers actually implement the javascript can vary a lot depending on the situation.  For instance, it might copy in a case like this: <code>\"hat\".replace(\"a\", \"o\")</code> because \"hat\" is short, but then chain string snippets together in a case like this <code>\"Imagine a whole book here\".replace(\"a phrase that happens once\", \"CENSORED\")</code>.  It would definitely be most efficient to check the length of the modified string and amount of replacing, and either copy or chain snippets depending on those variables.</p>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 11959334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96060941ce66d30eb4015b272eb65208?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/11959334/john-doe"}, "edited": false, "score": 0, "creation_date": 1566470597, "post_id": 57600002, "comment_id": 101670493, "body": "I learned how to test it. I create snaphost before calling any static method and after calling about 100 times static method in Test class. The memory (counts) of object is just increasing. Does Garbage collection do its work immediately?"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 41, "user_id": 11959334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96060941ce66d30eb4015b272eb65208?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/11959334/john-doe"}, "edited": false, "score": 0, "creation_date": 1566470887, "post_id": 57600002, "comment_id": 101670657, "body": "It depends. The engines usually do have multiple garbage collectors: (1) The most optimal case is if a variable has a point of no return, then the engine will immeadiately collect it then, (2) there are a lot of &quot;short living&quot; objects in JS, there is a garbagge collector that keeps track of them and removes them, (3) there is a garbagge collector for long living objects."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 41, "user_id": 11959334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96060941ce66d30eb4015b272eb65208?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/11959334/john-doe"}, "edited": false, "score": 0, "creation_date": 1566470951, "post_id": 57600002, "comment_id": 101670697, "body": "The general rule of garbagge collection is: It doesn&#39;t make sense to spend a lot of time to free memory if the memory is not needed at all. Thereforeif you want to see the garbagge collector in action you have to <i>fill up the memory a lot</i>."}], "tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 0, "last_activity_date": 1566427241, "creation_date": 1566427241, "answer_id": 57600002, "question_id": 57599615, "link": "https://stackoverflow.com/questions/57599615/memory-management-with-javascript-static-classes-and-methods/57600002#57600002", "title": "Memory management with Javascript static classes and methods", "body": "<blockquote>\n  <p>Does browser assign another part of memory when I call it more than one?</p>\n</blockquote>\n\n<p>Very likely, yes\u00b2. It has to allocate the string <code>\"bob\"</code>, and it creates a local variable <code>name</code>. Both consume memory. As you do neither create a closure or store the string somewhere, all references to it will be lost after every of these calls, thus garbage collection might free the memory directly afterwards.</p>\n\n<p><sub>\u00b2 modern js engines do a lot of clever optimizations though, maybe they optimize things away ...</sub></p>\n"}], "owner": {"reputation": 41, "user_id": 11959334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96060941ce66d30eb4015b272eb65208?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/11959334/john-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1566427241, "creation_date": 1566424649, "question_id": 57599615, "link": "https://stackoverflow.com/questions/57599615/memory-management-with-javascript-static-classes-and-methods", "title": "Memory management with Javascript static classes and methods", "body": "<p>I wanna know how these things works.</p>\n\n<pre><code>class Test {\n    whatIsMyName(name) {\n        this.name = name;\n    }\n    tellMyName() {\n        return this.name;\n    }\n}\n\nlet a = new Test();\na.whatIsMyName(\"Bob\");\na.tellMyName(); // \"Bob\"\n</code></pre>\n\n<blockquote>\n  <p>Browser assigns a part of memory to variable <code>a</code>.<br>\n  Browser keeps the memory until I refresh the website.</p>\n</blockquote>\n\n<pre><code>class Test {\n    static whatIsMyName() {\n        const name = \"Bob\";\n        return name;\n    }\n    static tellMyName() {\n        return Test.whatIsMyName();\n    }\n}\n\nTest.whatIsMyName(); // \"Bob\"\nTest.whatIsMyName(); // \"Bob\"\nTest.tellMyName(); // \"Bob\"\n</code></pre>\n\n<blockquote>\n  <p>Does browser assign another part of memory when I call it more than one?</p>\n</blockquote>\n"}, {"tags": ["javascript", "jquery", "ajax", "forms"], "comments": [{"owner": {"reputation": 1938, "user_id": 9272040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rYjVg.jpg?s=128&g=1", "display_name": "Udo E.", "link": "https://stackoverflow.com/users/9272040/udo-e"}, "edited": false, "score": 0, "creation_date": 1566425131, "post_id": 57599613, "comment_id": 101656609, "body": "Can you include code for your form?"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1566425669, "post_id": 57599613, "comment_id": 101656767, "body": "frm.submit(function(e) {}) &lt;--- that does NOT submit a form, that binds an event listener..... get rid of the <code>frm.submit(function(e) {</code> part.... just run the ajax code since you do not want to submit the form."}], "answers": [{"comments": [{"owner": {"reputation": 3288, "user_id": 3128796, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/a938da1334bd8a4de72edfe2740ac6e0?s=128&d=identicon&r=PG", "display_name": "asdfkjasdfjk", "link": "https://stackoverflow.com/users/3128796/asdfkjasdfjk"}, "edited": false, "score": 0, "creation_date": 1566499110, "post_id": 57599838, "comment_id": 101685570, "body": "I actually want to submit the form. Your code does not submit it. So how can I submit it? I need to submit the call using ajax call"}, {"owner": {"reputation": 3288, "user_id": 3128796, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/a938da1334bd8a4de72edfe2740ac6e0?s=128&d=identicon&r=PG", "display_name": "asdfkjasdfjk", "link": "https://stackoverflow.com/users/3128796/asdfkjasdfjk"}, "edited": false, "score": 0, "creation_date": 1566499794, "post_id": 57599838, "comment_id": 101685865, "body": "why the ajax request is happening?"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "reply_to_user": {"reputation": 3288, "user_id": 3128796, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/a938da1334bd8a4de72edfe2740ac6e0?s=128&d=identicon&r=PG", "display_name": "asdfkjasdfjk", "link": "https://stackoverflow.com/users/3128796/asdfkjasdfjk"}, "edited": false, "score": 0, "creation_date": 1566501276, "post_id": 57599838, "comment_id": 101686469, "body": "The form has NOTHING to do with the Ajax request....so not sure why you think you need to submit the form."}], "tags": [], "owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "is_accepted": false, "score": 1, "last_activity_date": 1566426040, "creation_date": 1566426040, "answer_id": 57599838, "question_id": 57599613, "link": "https://stackoverflow.com/questions/57599613/ajax-forms-partially-works/57599838#57599838", "title": "AJAX forms partially works", "body": "<p>The two codes are complete opposites. frm.submit(function(e) {}) assigns a function to the form submission so you would need to submit the form again.</p>\n\n<p>You just want to run the Ajax code so just run the code. </p>\n\n<pre><code>$(document).on('click', '#someLink', function(e) {\n  var frm = $('#myCustomForm');\n  $.ajax({\n      ...\n  });\n  e.preventDefault();\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3288, "user_id": 3128796, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/a938da1334bd8a4de72edfe2740ac6e0?s=128&d=identicon&r=PG", "display_name": "asdfkjasdfjk", "link": "https://stackoverflow.com/users/3128796/asdfkjasdfjk"}, "edited": false, "score": 0, "creation_date": 1566499123, "post_id": 57600017, "comment_id": 101685574, "body": "I actually want to submit the form. Your code does not submit it. So how can I submit it? I need to submit the call using ajax call"}, {"owner": {"reputation": 3288, "user_id": 3128796, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/a938da1334bd8a4de72edfe2740ac6e0?s=128&d=identicon&r=PG", "display_name": "asdfkjasdfjk", "link": "https://stackoverflow.com/users/3128796/asdfkjasdfjk"}, "edited": false, "score": 0, "creation_date": 1566499829, "post_id": 57600017, "comment_id": 101685878, "body": "why the ajax request is happening to url <code>&#47;comments&#47;new&#47;</code>? There is no ajax request happening at all."}, {"owner": {"reputation": 1938, "user_id": 9272040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rYjVg.jpg?s=128&g=1", "display_name": "Udo E.", "link": "https://stackoverflow.com/users/9272040/udo-e"}, "reply_to_user": {"reputation": 3288, "user_id": 3128796, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/a938da1334bd8a4de72edfe2740ac6e0?s=128&d=identicon&r=PG", "display_name": "asdfkjasdfjk", "link": "https://stackoverflow.com/users/3128796/asdfkjasdfjk"}, "edited": false, "score": 0, "creation_date": 1566502020, "post_id": 57600017, "comment_id": 101686767, "body": "@asdfkjasdfjk, if you get any alert (did you?) then ajax request request happened. It&#39;s an asynchronous request. So the page doesn&#39;t refresh like a normal submit"}], "tags": [], "owner": {"reputation": 1938, "user_id": 9272040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rYjVg.jpg?s=128&g=1", "display_name": "Udo E.", "link": "https://stackoverflow.com/users/9272040/udo-e"}, "is_accepted": false, "score": 0, "last_activity_date": 1566503266, "last_edit_date": 1566503266, "creation_date": 1566427365, "answer_id": 57600017, "question_id": 57599613, "link": "https://stackoverflow.com/questions/57599613/ajax-forms-partially-works/57600017#57600017", "title": "AJAX forms partially works", "body": "<p>You can attach your event handlers when the <code>document</code> is ready. Plus, <code>return false;</code> is enough for your <code>submit</code> handler.</p>\n\n<pre class=\"lang-javascript prettyprint-override\"><code>$(document).ready(function() {\n  var frm = $('#myCustomForm');\n  frm.on('submit', function() {\n    $.ajax({\n      type: 'POST',\n      url: '/comments/new/',\n      dataType: 'application/json',\n      data: frm.serialize(),\n      success: function(data) {\n        alert('successful');\n      },\n      error: function(data) {\n        alert('something went wrong');\n      }\n    });\n    return false;\n  });\n});\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I think you should take a careful look at your url <code>/comments/new/</code> to make sure it's correct. Better still, simply get the <code>action</code> attribute of your form as the url instead.</p>\n\n<pre><code>url: frm.attr('action'),\n</code></pre>\n\n<p>Change that and see if it works.</p>\n"}], "owner": {"reputation": 3288, "user_id": 3128796, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/a938da1334bd8a4de72edfe2740ac6e0?s=128&d=identicon&r=PG", "display_name": "asdfkjasdfjk", "link": "https://stackoverflow.com/users/3128796/asdfkjasdfjk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1566503266, "creation_date": 1566424645, "last_edit_date": 1566425525, "question_id": 57599613, "link": "https://stackoverflow.com/questions/57599613/ajax-forms-partially-works", "title": "AJAX forms partially works", "body": "<p>I can submit a form like this and it works:</p>\n\n<pre><code>$(document).on('click', '#someLink', function() {\n  var frm = $('#myCustomForm');\n  frm.submit();\n});\n</code></pre>\n\n<p>However, when I submit the same form like below, the form is not being submitted:</p>\n\n<pre><code>$(document).on('click', '#someLink', function() {\n  var frm = $('#myCustomForm');\n  frm.submit(function(e) {\n    $.ajax({\n      type: 'POST',\n      url: '/comments/new/',\n      dataType: 'application/json',\n      data: frm.serialize(),\n      success: function(data) {\n        alert('successful');\n      },\n      error: function(data) {\n        alert('something went wrong');\n      }\n    });\n    e.preventDefault();\n    return false;\n  });\n});\n</code></pre>\n\n<p>What am I doing wrong here?</p>\n"}, {"tags": ["javascript", "async-await", "iteration"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1566424828, "post_id": 57599587, "comment_id": 101656522, "body": "&quot;<i>without using Promise.all (), for ... of.</i>&quot; - why that artificial limitation? And no, it&#39;s not possible to do it properly without those. <code>forEach</code> cannot be used for asynchronous iteration at all, and <code>map</code> requires <code>Promise.all</code> as a supplement."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11852115"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1566425403, "post_id": 57599587, "comment_id": 101656687, "body": "@Bergi Maybe there\u2019s a way. You just don&#39;t know.And this is not a duplicate."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11749073"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1566425873, "post_id": 57599587, "comment_id": 101656827, "body": "@Bergi  maybe there is a solution"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1566425886, "post_id": 57599587, "comment_id": 101656831, "body": "Believe me, I know them. I even do know others, but I doubt they&#39;re the ones you are looking for, so I didn&#39;t mention them. Your question isn&#39;t really specific about what kind of &quot;asynchronous iteration&quot; you are looking for - there are multiple alternatives. How do you want it to work? If the code is exactly what you want, why not just use it - and if it is not exactly what you want, how does it differ from your expectations? This lack of detail made me assume that you don&#39;t know of the fine distinctions, and a standard solution is the best choice. If it is not, you need to tell us why."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11852115"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1566426764, "post_id": 57599587, "comment_id": 101657057, "body": "@Bergi If I ask you this question.How can you rewrite this code without using  Promise.all (), for ... of.The answer will be no way.?"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1566426970, "post_id": 57599587, "comment_id": 101657107, "body": "@ForestDeath I could rewrite it by implementing the <code>Promise.all</code> functionality by hand, or by using recursion. But again, please <a href=\"https://stackoverflow.com/posts/57599587/edit\">edit</a> your question to tell us why the simple solutions don&#39;t work for you, so that we could suggest an appropriate non-standard solution. As it stands, the question is not really answerable, and the duplicate has the best resources on the general topic. I&#39;m happy to reopen when you provide details for what you need."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11852115"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1566428013, "post_id": 57599587, "comment_id": 101657347, "body": "@Bergi I read this <a href=\"https://lavrton.com/javascript-loops-how-to-handle-async-await-6252dd3c795/\" rel=\"nofollow noreferrer\">article</a>.The third paragraph says that it is not always correct to use Promise.all.That&#39;s why I&#39;m looking for Another way."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1566429362, "post_id": 57599587, "comment_id": 101657623, "body": "@ForestDeath It doesn&#39;t say that it&#39;s wrong to use <code>Promise.all</code>. For what situation exactly are you looking for a different way? All that it says is that the concurrent version is not always better than the sequential - either because you don&#39;t want them to happen all at once, or because the kind of asynchronous task is not well suited to run in parallel. That&#39;s when you would usually go for the sequential solution, or something like limited concurrency (no more than X running tasks at the same time)."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11852115"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1566429654, "post_id": 57599587, "comment_id": 101657687, "body": "@Bergi Thank you for the answer."}], "owner": {"user_type": "does_not_exist", "display_name": "user11852115"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 21, "favorite_count": 0, "closed_date": 1566424761, "answer_count": 0, "score": 0, "last_activity_date": 1566424539, "creation_date": 1566424539, "question_id": 57599587, "link": "https://stackoverflow.com/questions/57599587/how-to-do-asynchronous-iteration-in-map-foreach", "closed_reason": "Duplicate", "title": "How to do asynchronous iteration in map, forEach", "body": "<p>This is my code</p>\n\n<pre><code>const someIDs = [1, 2, 3];\n\nconst users = someIDs.map(async(ID) =&gt; {\n    const user = await getUser(ID);\n    return user;\n});\n\ncosnole.log(users);\n</code></pre>\n\n<p>This is a simple example in which I wanted to show what I want.\nHow to do asynchronous iteration in map, forEach. without using Promise.all (), for ... of.</p>\n"}, {"tags": ["javascript", "html", "reactjs", "styled-components"], "comments": [{"owner": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "edited": false, "score": 1, "creation_date": 1566425105, "post_id": 57599584, "comment_id": 101656600, "body": "the issue is probably the <code>key</code>. I&#39;ve answered other questions where the input loses the cursor while typing.. its related to the <code>key</code>. Essentially the element gets removed and then replaced every render cycle, which is why you would lose focus. This happens when the key changes frequently. Try to give each textarea you are rendering a specific unique identifier, and reference that as the key."}, {"owner": {"reputation": 307, "user_id": 10802635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b978f4d72ad0aee16afb1b3e163fa112?s=128&d=identicon&r=PG&f=1", "display_name": "KamSami", "link": "https://stackoverflow.com/users/10802635/kamsami"}, "reply_to_user": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "edited": false, "score": 0, "creation_date": 1566425788, "post_id": 57599584, "comment_id": 101656802, "body": "@JohnRuddell Thanks for the response! I have the key value set to 1 when rendering in the top example and not other elements have the key={1}. Is using that as a key inappropriate? I tried changing it to other unique values but still had the same issue."}, {"owner": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "edited": false, "score": 0, "creation_date": 1566426229, "post_id": 57599584, "comment_id": 101656931, "body": "Could you replicate the issue on a codesandbox or something so I can take a look? I would probably put the key to something like <code>key=&quot;rejection-modal-textarea&quot;</code>"}, {"owner": {"reputation": 756, "user_id": 9246344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3dd441d2676da67b36940c63938dca?s=128&d=identicon&r=PG&f=1", "display_name": "Azer", "link": "https://stackoverflow.com/users/9246344/azer"}, "edited": false, "score": 1, "creation_date": 1566447503, "post_id": 57599584, "comment_id": 101660577, "body": "I&#39;m not 100% sure if this is what causes your issue, but I&#39;ve had similar problems with inputs from setting a <code>value</code> on the element. I was able to solve my issues by changing <code>value</code> to <code>defaultValue</code>.  Using <code>value</code> on elements can have unexpected results."}], "owner": {"reputation": 307, "user_id": 10802635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b978f4d72ad0aee16afb1b3e163fa112?s=128&d=identicon&r=PG&f=1", "display_name": "KamSami", "link": "https://stackoverflow.com/users/10802635/kamsami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 270, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1566424516, "creation_date": 1566424516, "question_id": 57599584, "link": "https://stackoverflow.com/questions/57599584/textarea-loses-focus-while-typing-when-inside-a-modal", "title": "Textarea loses focus while typing when inside a modal?", "body": "<p>I have a textarea and modal I created using styled-components. When I type in one letter in the textarea loses focus.I'm not sure if my css is the issue or if it's how I'm rendering it. It works normally when it's not in the modal. </p>\n\n<p>In my render</p>\n\n<pre><code>    &lt;ModalMessage show={this.state.showRejectModal}\n                          onClose={() =&gt; this.setState({showRejectModal: false})}\n                          content={[&lt;p key={'rejectionMessage'}&gt;Are you sure you want to reject?&lt;/p&gt;,\n                              &lt;TextArea key={1}\n                                     type={'text'}\n                                        onChange={(e) =&gt; this.setState({reasonForRejection: e.target.value})}\n                                        name={'reasonForRejection'}\n                                        placeholder={'Reason for rejection'}\n                                        value={this.state.reasonForRejection || ''}/&gt;]}/&gt;\n\n</code></pre>\n\n<p>Modal Component which is taking in the textarea as props.content</p>\n\n<pre><code>const ModalMessage = (props) =&gt; {\n\n    const ModalWrapper = styled.div`\n    position: fixed;\n    z-index: 1;\n    left: 0;\n    top: 0;\n    width: 100%; \n    height: 100%; \n    overflow: auto; \n    background-color: rgb(0,0,0);\n    background-color: rgba(0,0,0,0.4);\n    `;\n\n    const ModalContent = styled.div`\n    background-color: ${modalBackgroundColor};\n    margin: 15% auto; \n    padding: 20px;\n    //border: 1px solid #888;\n    width: 30%;\n    `;\n\n    const ModalCloseButton = styled.span`\n    color: #aaa;\n    float: right;\n    font-size: 28px;\n    font-weight: bold;\n\n    :hover, focus{\n    color: black;\n    text-decoration: none;\n    cursor: pointer;\n    }\n    `;\n\n    const HideScroll = createGlobalStyle`\n    body{\n        overflow: hidden;    \n    }\n    `;\n\n    return (\n        &lt;React.Fragment&gt;\n            {props.show ? &lt;ModalWrapper&gt;\n                &lt;ModalContent&gt;\n                    &lt;HideScroll/&gt;\n                    {props.noClose ? null : &lt;ModalCloseButton onClick={props.onClose}&gt;&amp;times;&lt;/ModalCloseButton&gt;}\n                    {props.cancel ? &lt;FontAwesomeIcon icon={faMinusCircle} size='6x' style={{color: '#96aff5'}}/&gt; :\n                        &lt;FontAwesomeIcon icon={faCheckCircle} size='6x' style={{color: '#96aff5'}}/&gt;}&lt;br/&gt;\n                    {props.content}\n                &lt;/ModalContent&gt;\n            &lt;/ModalWrapper&gt; : null}\n        &lt;/React.Fragment&gt;\n    );\n};\n</code></pre>\n\n<p>The textarea</p>\n\n<pre><code>export const TextArea = styled.textarea`\n    box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    outline: none;\n    display: block;\n    width: 100%;\n    padding: 7px;\n    border: none;\n    border-bottom: 1px solid #ddd;\n    background: transparent;\n    margin-bottom: 10px;\n    font: 16px Arial, Helvetica, sans-serif;\n    height: 45px;\n    overflow: hidden;\n    margin-left: 2px;\n    color: #808080;\n\n    ::placeholder {\n       color: #808080;\n       opacity: 1;\n    }\n    `;\n\n</code></pre>\n"}, {"tags": ["javascript", "callback"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1566426820, "post_id": 57599578, "comment_id": 101657071, "body": "Closely related: <a href=\"https://stackoverflow.com/a/45448272/1048572\">How not to forget using await everywhere in Javascript?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3241, "user_id": 2075630, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/8e938535dfc85999055798b79dd803dc?s=128&d=identicon&r=PG", "display_name": "kdb", "link": "https://stackoverflow.com/users/2075630/kdb"}, "edited": false, "score": 0, "creation_date": 1566465746, "post_id": 57600257, "comment_id": 101667816, "body": "For clarification: In this particular case, the Tampermonkey script displays a &quot;post-it note&quot;, when it finds a pattern such as <code>http:&#47;&#47;exaple.com&#47;hello-world#xnote=TEXT</code>. But the note is also editable, and editing should update the hash. And whenever either one changes, the title of the tab should also be updated. Hence the code had grown into containing <code>updateTitleFromText</code>. In hindsight it would have been better for the two functions to be more independent, but given time constraints (in this case &quot;a few minutes before going to bed, every coupld of days&quot;) ..."}, {"owner": {"reputation": 3241, "user_id": 2075630, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/8e938535dfc85999055798b79dd803dc?s=128&d=identicon&r=PG", "display_name": "kdb", "link": "https://stackoverflow.com/users/2075630/kdb"}, "edited": false, "score": 0, "creation_date": 1566465877, "post_id": 57600257, "comment_id": 101667878, "body": "... a clean solution may not be attainable in terms of &quot;cost vs utility&quot;. In commercial project the constraint would more likely be &quot;I&#39;ve inherited thousands of lines of code, and I need the asynchronous value in this one synchronous function. Can I get a working solution until the next meeting, or do I need to justify a seemingly small change requring major refactoring?&quot;"}, {"owner": {"reputation": 3241, "user_id": 2075630, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/8e938535dfc85999055798b79dd803dc?s=128&d=identicon&r=PG", "display_name": "kdb", "link": "https://stackoverflow.com/users/2075630/kdb"}, "edited": false, "score": 0, "creation_date": 1566466563, "post_id": 57600257, "comment_id": 101668260, "body": "I added the constraint to the question."}, {"owner": {"reputation": 709, "user_id": 11947123, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hkR4rdDtiDQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf7INwybVIUsxBMUhz_7tL8UnqEOA/photo.jpg?sz=128", "display_name": "David Sampson", "link": "https://stackoverflow.com/users/11947123/david-sampson"}, "reply_to_user": {"reputation": 3241, "user_id": 2075630, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/8e938535dfc85999055798b79dd803dc?s=128&d=identicon&r=PG", "display_name": "kdb", "link": "https://stackoverflow.com/users/2075630/kdb"}, "edited": false, "score": 1, "creation_date": 1566482116, "post_id": 57600257, "comment_id": 101677220, "body": "I added some other options you might find helpful. Unfortunately the single threaded nature of JS makes it more or less impossible to strictly wait for asynchronous code without blocking other code from running."}, {"owner": {"reputation": 3241, "user_id": 2075630, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/8e938535dfc85999055798b79dd803dc?s=128&d=identicon&r=PG", "display_name": "kdb", "link": "https://stackoverflow.com/users/2075630/kdb"}, "edited": false, "score": 0, "creation_date": 1566545099, "post_id": 57600257, "comment_id": 101697188, "body": "<i>&quot;more or less impossible to strictly wait for asynchronous code without blocking other code&quot;</i> I suspect that this may not strictly be true (e.g. when a synchronous function is called as event handler), but that implementing the ability might have come at a high performance cost; A synchronous function that can use await would probably be equivalent to an asynchronous function that is await&#39;ed by default."}], "tags": [], "owner": {"reputation": 709, "user_id": 11947123, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hkR4rdDtiDQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf7INwybVIUsxBMUhz_7tL8UnqEOA/photo.jpg?sz=128", "display_name": "David Sampson", "link": "https://stackoverflow.com/users/11947123/david-sampson"}, "is_accepted": false, "score": 1, "last_activity_date": 1566482027, "last_edit_date": 1566482027, "creation_date": 1566429442, "answer_id": 57600257, "question_id": 57599578, "link": "https://stackoverflow.com/questions/57599578/avoid-knock-on-refactoring-when-a-synchronous-function-suddenly-needs-an-asynch/57600257#57600257", "title": "Avoid knock-on refactoring, when a synchronous function suddenly needs an asynchronous value?", "body": "<p>There's a couple of general practices here that would minimize the effect of the problems you are having.</p>\n\n<p>One thing is to try to write code that is not as dependent on happening in a specific order in the first place -- it can lead to a lot of headaches, as you see here.</p>\n\n<pre><code>async function updateFromHash(){\n    await updateTextFromHash();\n    updateTitleFromText();\n}\n</code></pre>\n\n<p>Here you update some text in a global variable somewhere (more on that later), and then you call a function that goes and looks at that variable, and updates some other variable based on that. Obviously, if one has not finished happening, the other will not work properly.</p>\n\n<p>But what if, instead, you retrieved the asynchronous data in a single place, and then dispatched both the <code>update</code> calls with the data they need as a function argument? Also, you can use <code>.then</code> chaining to deal with asynchronous data without having to make the function asynchronous.</p>\n\n<pre><code>async getHash(){\n  return new Promise((accept,reject)=&gt;GM_getTab(accept))\n}\nfunction setText(text){\n  DISPLAY_AREA.innerText = text;\n}\nfunction setTitle(text){\n  // make some modifications to the 'text' variable\n\n  TITLE.innerText = myModifiedText // or whatever\n}\n\nfunction updateFromHash(){\n  getHash()\n     .then(text =&gt; {\n               setText(text);\n               setTitle(text); \n     // You could also call setTitle first, since they aren't dependent on each other\n     });\n} \n</code></pre>\n\n<p>Another improvement you could make is that, broadly speaking, it's often a good idea to keep your functions pure where possible -- the only things that they should modify on are things you pass in as arguments, and the only effects you expect from them are things that they <code>return</code>. Impurities must exist, for various reasons, but try to keep them on the sidelines of your code.</p>\n\n<p>So in your example, you have a function that modifies a global variable, and then another function that presumably goes and looks at that variable, and changes <em>another</em> variable based on that information. This implicitly binds those two variables together, except it's not clear to the casual observer why that should be the case, and so it makes tracing bugs harder. One way you might handle your situation:</p>\n\n<pre><code>function createTitleFromText(text){\n  // modify the text passed in to get the title you want\n  return myModifiedText;\n  // this function is pure\n}\n\nfunction updateContent(text){\n  // This is now the ONLY function that modifies state\n  // It also has nothing to do with *how* the text is retrieved\n  TITLE_EL.innerText = createTitleFromText(text);\n  DISPLAY_AREA.innerText = text;\n}\n\nasync function getTextFromHash(){\n  return new Promise((accept,reject)=&gt;GM_getTab(accept))\n}\n\n// Then, somewhere else in your code\nupdateContent(await getTextFromHash());\n</code></pre>\n\n<p>It also might be a good idea to sprinkle in some object orientedness to this to make it more clear what owns what, and handle some of the ordering for you.</p>\n\n<pre><code>class Content {\n  constructor(textEl, titleEl){\n    this.textEl = textEl;\n    this.titleEl = titleEl;\n  }\n  static createTitleFromText(text){\n    //make modifications\n     return myTitle;\n  } \n  update(text){\n    this.textEl.innerText = text;\n    this.titleEl.innerText = Content.createTitleFromText(text);\n  }\n}\n\nlet myContent = new Content(DISPLAY_AREA, TITLE_EL);\n\n// Later\n\nmyContent.update(await getTextFromHash());\n</code></pre>\n\n<p>There's not one right or wrong way, but these are some ideas you can play with.</p>\n\n<p>As for stopping asynchronicity from bubbling up, using <code>.then</code> chaining is probably your best bet. Taking your original example:</p>\n\n<pre><code>// -- After\nfunction updateFromHash(){\n    updateTextFromHash()\n      .then(updateTitleFromText);\n\n}\n\nasync function updateTextFromHash(){\n    DISPLAY_AREA.innerText = getTextFromHash()\n        || await new Promise((accept,reject)=&gt;GM_getTab(accept));        \n}\n</code></pre>\n\n<p>Now <code>updateFromHash</code> can stay synchronous, but keep in mind that <code>updateFromHash</code> completing does NOT mean that <code>updateTitleFromText</code> is finished, or even that <code>updateTextFromHash</code> is finished. So you'll need to let the asynchronicity bubble up as far as is necessary to deal with any ordered effects.</p>\n\n<p>There is unfortunately no way to synchronously <code>await</code>, due to the JS engine's single threaded nature -- if a synchronous function is waiting for something to finish, nothing else can run.</p>\n\n<p>For particular cases though, you might be able to replicate that functionality synchronously, but it will also involve lots of refactoring.</p>\n\n<p>You could, for example, define a property <code>DISPLAY_AREA.isValid = true</code>, and then in <code>updateTextFromHash</code></p>\n\n<pre><code>DISPLAY_AREA.isValid = false;\nDISPLAY_AREA.innerText = getTextFromHash()\n        || await new Promise((accept,reject)=&gt;GM_getTab(accept));\nDISPLAY_AREA.isValid = true;\n</code></pre>\n\n<p>Then, in any code that needs <code>DISPLAY_AREA.innerText</code>, first check to see if that data is valid, and if it isn't, then <code>setTimeout</code> for some period of time and then check again.</p>\n\n<p>Alternatively, you could also define a <code>DISPLAY_AREA.queuedActions = []</code>, and then your other functions can check the validity of <code>DISPLAY_AREA</code> and if it is false, add a callback to the <code>queuedActions</code>. Then <code>updateTextFromHash</code> looks like:</p>\n\n<pre><code>DISPLAY_AREA.isValid = false;\nDISPLAY_AREA.innerText = getTextFromHash()\n        || await new Promise((accept,reject)=&gt;GM_getTab(accept));\nfor(var cb of DISPLAY_AREA.queuedActions){\n  cb()\n}\nDISPLAY_AREA.isValid = true;\n</code></pre>\n\n<p>Of course, in most cases this would just lead to your invalidation logic bubbling up the way async/await does, but in some circumstances it might work out cleanly.</p>\n"}], "owner": {"reputation": 3241, "user_id": 2075630, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/8e938535dfc85999055798b79dd803dc?s=128&d=identicon&r=PG", "display_name": "kdb", "link": "https://stackoverflow.com/users/2075630/kdb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1566482027, "creation_date": 1566424451, "last_edit_date": 1566466537, "question_id": 57599578, "link": "https://stackoverflow.com/questions/57599578/avoid-knock-on-refactoring-when-a-synchronous-function-suddenly-needs-an-asynch", "title": "Avoid knock-on refactoring, when a synchronous function suddenly needs an asynchronous value?", "body": "<p>While using javascript I keep running into situations, where previously synchronous code suddenly requires a value, that can only be obtained asynchronously.</p>\n\n<p>For instance, I am working on a TamperMonkey script, where I have a function that operates on a string parsed from <code>location.hash</code>. Now I want to change the code to enable persistence across URL changes in a tab, by using the <code>GM_getTab(callback)</code> interface.</p>\n\n<p>Since I need a couple of functions to be executed in unchanged order, a knock-on effect occurs, since I need to <code>await</code> the value and I suddenly end up refactoring several functions along the call-stack into <code>async</code> functions, until I reach a point, where the order needs no longer be guaranteed.</p>\n\n<p>More importantly however, promises needing to be explicitly <code>await</code>ed, can lead to unexpected behavior, when an await is forgotten: E.g. <code>if(condition())</code> may suddenly always evaluate to <code>true</code>, and <code>'Hello '+getUserName()</code> may suddenly result in <code>Hello [object Promise]</code>.</p>\n\n<p>Is there some way to avoid this \"refactoring hell\"?</p>\n\n<h2>Simplified example</h2>\n\n<p>Subsequently, I present a heavily simplified example of what happened: Needing an <code>await</code> down the callstack, while needing to preserve the execution order lead to refactoring all the way up to the event callback <code>updateFromHash</code>.</p>\n\n<pre><code>// -- Before\nfunction updateFromHash(){\n    updateTextFromHash();\n    updateTitleFromText();\n}\n\nfunction updateTextFromHash(){\n    DISPLAY_AREA.innerText = getTextFromHash();\n}\n\n// -- After\nasync function updateFromHash(){\n    await updateTextFromHash();\n    updateTitleFromText();\n}\n\nasync function updateTextFromHash(){\n    DISPLAY_AREA.innerText = getTextFromHash()\n        || await new Promise((accept,reject)=&gt;GM_getTab(accept));        \n}\n</code></pre>\n\n<p>In this case it is relatively simple, but I have previously seen the asynchronicity bubble up much farther in the call stack and cause unexpected behaviour, when an <code>await</code> was missed. The worst case I've seen was, when I suddenly needed the \"DEBUG\" flag to depend on an asynchronously stored user setting.</p>\n\n<h2>Time Constraints</h2>\n\n<p>As pointed out by @DavidSampson, it would probably have been better in the example for the functions not to depend on mutable global state in the first place.</p>\n\n<p>However, in practice code is written under time constraints, often by other people, and then you need a \"small change\" \u2013 but if that small change involves asynchrnous data in a formerly synchronous function, it would be desirable to minimize the refactoring effort. The solution needs to work <em>now</em>, cleaning up the design problem may have to wait until the next project meeting.</p>\n\n<p>In the example given, refactoring is feasible, since it is a small, private TamperMonkey script. It ultimately only serves to illustrate the problem, but under commercial-project scenarios, cleaning up the code may not be feasible within a given project scope.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1566425016, "post_id": 57599576, "comment_id": 101656576, "body": "&quot;<i>Nothing in the spec indicates that this should fail</i>&quot; - in contrast, it indicates that this should work! Indeed, this is the standard way to cast something to uint32."}, {"owner": {"reputation": 2684, "user_id": 784519, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/8ed38b4892e7d5f106d8dfde7a4df4fe?s=128&d=identicon&r=PG", "display_name": "davidkomer", "link": "https://stackoverflow.com/users/784519/davidkomer"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1566425532, "post_id": 57599576, "comment_id": 101656731, "body": "Ah - and you&#39;re right, it is a duplicate, whups!"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1566425946, "post_id": 57599576, "comment_id": 101656851, "body": "One that is admittedly hard to find :-)"}], "answers": [{"tags": [], "owner": {"reputation": 1623, "user_id": 3263719, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a3aff3452a5b060165118cd3a18f5e54?s=128&d=identicon&r=PG&f=1", "display_name": "c1moore", "link": "https://stackoverflow.com/users/3263719/c1moore"}, "is_accepted": true, "score": 2, "last_activity_date": 1566472206, "last_edit_date": 1566472206, "creation_date": 1566424736, "answer_id": 57599632, "question_id": 57599576, "link": "https://stackoverflow.com/questions/57599576/is-it-legal-to-0-in-order-to-keep-bitwise-operations-as-unsigned-32-bit/57599632#57599632", "title": "Is it legal to &gt;&gt;&gt; 0 in order to keep bitwise operations as unsigned 32-bit?", "body": "<p>According to <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators#%3E%3E%3E_(Zero-fill_right_shift)\" rel=\"nofollow noreferrer\">MDN</a> (emphasis mine):</p>\n\n<blockquote>\n  <p>This operator shifts the first operand the specified number of bits to the right. Excess bits shifted off to the right are discarded. Zero bits are shifted in from the left. <strong>The sign bit becomes 0, so the result is always non-negative.  Unlike the other bitwise operators, zero-fill right shift returns an unsigned 32-bit integer</strong>.</p>\n</blockquote>\n\n<p>So it sounds like you can count on that always working.</p>\n\n<p>Also from the <a href=\"https://www.ecma-international.org/ecma-262/9.0/index.html#sec-unsigned-right-shift-operator\" rel=\"nofollow noreferrer\">ECMAScript specs</a> Section 12.9.5.1 #8 (again emphasis is mine):</p>\n\n<blockquote>\n  <p>Return the result of performing a zero-filling right shift of lnum by shiftCount bits. Vacated bits are filled with zero. <strong>The result is an unsigned 32-bit integer</strong>.</p>\n</blockquote>\n"}], "owner": {"reputation": 2684, "user_id": 784519, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/8ed38b4892e7d5f106d8dfde7a4df4fe?s=128&d=identicon&r=PG", "display_name": "davidkomer", "link": "https://stackoverflow.com/users/784519/davidkomer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "closed_date": 1566424938, "accepted_answer_id": 57599632, "answer_count": 1, "score": 1, "last_activity_date": 1566472206, "creation_date": 1566424430, "last_edit_date": 1566424731, "question_id": 57599576, "link": "https://stackoverflow.com/questions/57599576/is-it-legal-to-0-in-order-to-keep-bitwise-operations-as-unsigned-32-bit", "closed_reason": "Duplicate", "title": "Is it legal to &gt;&gt;&gt; 0 in order to keep bitwise operations as unsigned 32-bit?", "body": "<p>For example, this is <code>-1</code> a.k.a. <code>0xFFFFFFFF</code> as a signed 32-bit:</p>\n\n<pre><code>0xFFFFF000 | 0xFFF\n</code></pre>\n\n<p>However, this is this is <code>4294967295</code> a.k.a. <code>0xFFFFFFFF</code> as an unsigned 32-bit:</p>\n\n<pre><code>(0xFFFFF000 | 0xFFF) &gt;&gt;&gt; 0\n</code></pre>\n\n<p>Can I rely on using this <code>&gt;&gt;&gt; 0</code> trick to keep my bitwise operations as unsigned 32-bit?</p>\n\n<p>Nothing in the spec[1] indicates that this should fail, and it seems to work fine in a few simple tests...</p>\n\n<p>[1] <a href=\"https://www.ecma-international.org/ecma-262/9.0/index.html#sec-unsigned-right-shift-operator\" rel=\"nofollow noreferrer\">https://www.ecma-international.org/ecma-262/9.0/index.html#sec-unsigned-right-shift-operator</a></p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 348, "user_id": 6670005, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fDdkL.png?s=128&g=1", "display_name": "FelizNaveedad", "link": "https://stackoverflow.com/users/6670005/feliznaveedad"}, "edited": false, "score": 0, "creation_date": 1566424553, "post_id": 57599550, "comment_id": 101656451, "body": "I think there is something missing from this snippet. Based on the code you provided, it works as expected when i copy / pasted into <a href=\"https://jsfiddle.net/naveedn/ozmkru9x/\" rel=\"nofollow noreferrer\">jsfiddle.net/naveedn/ozmkru9x</a>. I think in your actual code, you might be attempting to do this operation on the first element of the array, which is a string. That would be the only reason why the first three characters of the first element in the array are getting printed. Hopefully that helps."}], "answers": [{"tags": [], "owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "is_accepted": false, "score": 1, "last_activity_date": 1566424819, "last_edit_date": 1566424819, "creation_date": 1566424651, "answer_id": 57599616, "question_id": 57599550, "link": "https://stackoverflow.com/questions/57599550/the-output-of-this-code-must-be-john-james-and-rose-but-j-o-h-appears-at-the-out/57599616#57599616", "title": "the output of this code must be john james and rose.but j o h appears at the output.why?", "body": "<p>It's because you use the word <code>name</code> as a variable, which is <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name\" rel=\"nofollow noreferrer\">a reserved word</a>.</p>\n\n<p>If you change your variable (to say, <code>names</code>), then your function works as expected:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var names = [\"john\", \"james\", \"rose\"];\r\nvar ul = document.getElementById('name-list');\r\nfor (var i = 0; i &lt; 3; i++) {\r\n  var span = document.createElement('li');\r\n  span.textContent = names[i];\r\n  ul.appendChild(span);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;ul id=\"name-list\"&gt;&lt;/ul&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 11, "user_id": 11902659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2213e6e1adfe89ce34e4769604b4771?s=128&d=identicon&r=PG&f=1", "display_name": "Emad Joudaki", "link": "https://stackoverflow.com/users/11902659/emad-joudaki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1566424819, "creation_date": 1566424253, "last_edit_date": 1566424533, "question_id": 57599550, "link": "https://stackoverflow.com/questions/57599550/the-output-of-this-code-must-be-john-james-and-rose-but-j-o-h-appears-at-the-out", "title": "the output of this code must be john james and rose.but j o h appears at the output.why?", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var name = [\"john\", \"james\", \"rose\"];\r\nvar ul = document.getElementById('name-list');\r\nfor (var i = 0; i &lt; 3; i++) {\r\n    var span = document.createElement('li');\r\n    span.textContent = name[i];\r\n    ul.appendChild(span);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;ul id=\"name-list\"&gt;&lt;/ul&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>the output of this code must be john james and rose.but j o h appears at the output.why??</p>\n"}, {"tags": ["javascript", "html", "css", "google-maps"], "answers": [{"tags": [], "owner": {"reputation": 147337, "user_id": 1210329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d432c94998d9fb0a28f6bf2af22cdf96?s=128&d=identicon&r=PG", "display_name": "geocodezip", "link": "https://stackoverflow.com/users/1210329/geocodezip"}, "is_accepted": true, "score": 0, "last_activity_date": 1610721062, "last_edit_date": 1610721062, "creation_date": 1566426652, "answer_id": 57599924, "question_id": 57599534, "link": "https://stackoverflow.com/questions/57599534/how-to-change-js-in-order-to-get-places-and-address-autocomplete/57599924#57599924", "title": "how to change js in order to get places and address autocomplete?", "body": "<p>Remove the <code>types: '(cities)'</code>.  Per <a href=\"https://developers.google.com/places/supported_types#table3\" rel=\"nofollow noreferrer\">the documentation</a>, put that value in the <code>type</code> field (<code>types</code> is deprecated):</p>\n<blockquote>\n<p>The (cities) type collection instructs the Places service to return results that match locality or administrative_area_level_3.</p>\n</blockquote>\n<p>Remove the <code>type</code> (or <code>types</code>) from the options to get both establishments and addresses.</p>\n<pre><code>// Create autocomplete objects for all inputs\nvar options = {};\n\nvar input1 = document.getElementById(&quot;location-1&quot;);\nvar autocomplete1 = new google.maps.places.Autocomplete(input1, options);\n\nvar input2 = document.getElementById(&quot;location-2&quot;);\nvar autocomplete2 = new google.maps.places.Autocomplete(input2, options);\n</code></pre>\n<p><a href=\"https://jsfiddle.net/geocodezip/xnt57fqs/4/\" rel=\"nofollow noreferrer\">proof of concept fiddle</a></p>\n<p><a href=\"https://i.stack.imgur.com/4UjyO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4UjyO.png\" alt=\"screenshot of resulting map\" /></a></p>\n<p><strong>code snippet:</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var myLatLng = {\n  lat: 38.736946,\n  lng: -9.142685\n};\nvar mapOptions = {\n  center: myLatLng,\n  zoom: 1,\n  mapTypeId: google.maps.MapTypeId.ROADMAP\n};\n\n// Hide result box\ndocument.getElementById(\"output\").style.display = \"none\";\n\n// Create/Init map\nvar map = new google.maps.Map(document.getElementById('google-map'), mapOptions);\n\n// Create a DirectionsService object to use the route method and get a result for our request\nvar directionsService = new google.maps.DirectionsService();\n\n// Create a DirectionsRenderer object which we will use to display the route\nvar directionsDisplay = new google.maps.DirectionsRenderer();\n\n// Bind the DirectionsRenderer to the map\ndirectionsDisplay.setMap(map);\n\n\n// Define calcRoute function\nfunction calcRoute() {\n  //create request\n  var request = {\n    origin: document.getElementById(\"location-1\").value,\n    destination: document.getElementById(\"location-2\").value,\n    travelMode: google.maps.TravelMode.DRIVING,\n    unitSystem: google.maps.UnitSystem.METRIC\n  }\n\n  // Routing\n  directionsService.route(request, function(result, status) {\n    if (status == google.maps.DirectionsStatus.OK) {\n\n      //Get distance and time            \n\n      $(\"#output\").html(\"&lt;div class='result-table'&gt; Driving distance: \" + result.routes[0].legs[0].distance.text + \".&lt;br /&gt;Duration: \" + result.routes[0].legs[0].duration.text + \".&lt;/div&gt;\");\n      document.getElementById(\"output\").style.display = \"block\";\n\n      //display route\n      directionsDisplay.setDirections(result);\n    } else {\n      //delete route from map\n      directionsDisplay.setDirections({\n        routes: []\n      });\n      //center map in London\n      map.setCenter(myLatLng);\n\n      //Show error message           \n\n      alert(\"Can't find road! Please try again!\");\n      clearRoute();\n    }\n  });\n\n}\n\n// Clear results\n\nfunction clearRoute() {\n  document.getElementById(\"output\").style.display = \"none\";\n  document.getElementById(\"location-1\").value = \"\";\n  document.getElementById(\"location-2\").value = \"\";\n  directionsDisplay.setDirections({\n    routes: []\n  });\n\n}\n\n// Create autocomplete objects for all inputs\nvar options = {};\n\nvar input1 = document.getElementById(\"location-1\");\nvar autocomplete1 = new google.maps.places.Autocomplete(input1, options);\n\nvar input2 = document.getElementById(\"location-2\");\nvar autocomplete2 = new google.maps.places.Autocomplete(input2, options);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>* {\n  margin: auto;\n  box-sizing: border-box;\n}\n\nhtml {\n  font-size: 62.5%;\n  height: 100%;\n}\n\nbody {\n  height: 100%;\n  background-image: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);\n  background-size: cover;\n  background-position: top;\n  font-family: \"Lato\", sans-serif;\n  font-weight: 400;\n  line-height: 1.7;\n  color: #000;\n}\n\n\n/* Clearfix */\n\n.row::after {\n  content: \"\";\n  display: table;\n  clear: both;\n}\n\n.header {\n  display: block;\n  font-size: 1.2rem;\n  font-weight: 400;\n  padding: 1rem;\n  margin: 2rem auto;\n}\n\n.header h1 {\n  color: #19244e;\n  text-align: center;\n  text-transform: uppercase;\n  text-decoration: none;\n}\n\n.container {\n  width: 65vw;\n  height: 100%;\n  border-radius: 1rem;\n  background-color: #fff;\n  padding: 2rem;\n}\n\n.location-label {\n  font-size: 1.6rem;\n  float: left;\n  width: 25%;\n  margin-top: .6rem;\n}\n\n.location-input {\n  float: left;\n  width: 75%;\n  margin-top: .6rem;\n}\n\n.location-input::-webkit-input-placeholder {\n  color: #465caa;\n}\n\n::-moz-placeholder {\n  color: #465caa;\n}\n\n::-ms-placeholder {\n  color: #465caa;\n}\n\n::placeholder {\n  color: #465caa;\n}\n\n.button {\n  background-image: linear-gradient(to top, #48c6ef 0%, #6f86d6 100%);\n  text-transform: uppercase;\n  text-decoration: none;\n  outline: none;\n  color: white;\n  padding: 1.2rem 2.2rem;\n  border: none;\n  border-radius: 1rem;\n  cursor: pointer;\n  float: right;\n  margin-bottom: 1rem;\n  margin-right: .5rem;\n  transition: ease-in-out .1s;\n}\n\n.button:hover {\n  background-image: linear-gradient(-225deg, #A445B2 0%, #D41872 52%, #FF0066 100%);\n  transform: scale(1.015);\n  transition: ease-in .1s;\n}\n\n.result-table {\n  font-size: 1.6rem;\n  border-collapse: collapse;\n  border-spacing: 0;\n  width: 100%;\n  height: 10rem;\n  /* Animation */\n  animation-name: moveIn;\n  animation-duration: 1s;\n  animation-timing-function: ease-out;\n}\n\n.container-map {\n  width: 100%;\n  height: 20rem;\n  margin: 1rem auto;\n}\n\n\n/* Animations */\n\n@keyframes moveIn {\n  0% {\n    opacity: 0;\n    transform: translateY(-.5rem);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"header\"&gt;\n  &lt;div class=\"row\"&gt;\n    &lt;h1&gt;Calculate driving distance between two cities&lt;/h1&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"container\"&gt;\n  &lt;form&gt;\n    &lt;!-- Location 1 --&gt;\n    &lt;div class=\"row\"&gt;\n      &lt;div class=\"location-label\"&gt;\n        &lt;label&gt;Origin: &lt;/label&gt;\n      &lt;/div&gt;\n      &lt;div class=\"location-input\"&gt;\n        &lt;input type=\"text\" id=\"location-1\" name=\"origin\" placeholder=\"Enter a start location...\"&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;!-- Location 2 --&gt;\n    &lt;div class=\"row\"&gt;\n      &lt;div class=\"location-label\"&gt;\n        &lt;label&gt;Destination: &lt;/label&gt;\n      &lt;/div&gt;\n      &lt;div class=\"location-input\"&gt;\n        &lt;input type=\"text\" id=\"location-2\" name=\"destination\" placeholder=\"Enter a last location...\"&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;!-- Submit button --&gt;\n    &lt;div class=\"row\"&gt;\n      &lt;button class=\"button\" type=\"button\" onclick=\"clearRoute();\"&gt;Clear&lt;/button&gt;\n      &lt;button class=\"button\" type=\"button\" onclick=\"calcRoute();\"&gt;Submit&lt;/button&gt;\n    &lt;/div&gt;\n\n    &lt;!-- Stats table --&gt;\n    &lt;div id=\"output\" class=\"result-table\"&gt;&lt;/div&gt;\n  &lt;/form&gt;\n\n  &lt;div class=\"container-map\" id=\"google-map\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;script src=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyCkUOdZ5y7hMm0yrcCQoCvLwzdM6M8s5qk&amp;libraries=places\"&gt;&lt;/script&gt;\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 3, "user_id": 11959373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-B40Y09ooS_c/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdFpAGtIxe1YEIKiLA09GZvdLMF3A/photo.jpg?sz=128", "display_name": "deio da", "link": "https://stackoverflow.com/users/11959373/deio-da"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "closed_date": 1566465924, "accepted_answer_id": 57599924, "answer_count": 1, "score": -1, "last_activity_date": 1610721062, "creation_date": 1566424115, "question_id": 57599534, "link": "https://stackoverflow.com/questions/57599534/how-to-change-js-in-order-to-get-places-and-address-autocomplete", "closed_reason": "Duplicate", "title": "how to change js in order to get places and address autocomplete?", "body": "<p>I have this piece of code wich asks origin city and destination city as user input, it makes autocomplete and calculates time and km distance between 2 points , I would like to change it as instead of only accept city it could accept adresses and places to (with autocomplete). note that in order to use it you need to provide your own google api.</p>\n\n<p>here is the snippet <a href=\"https://codepen.io/luiscunha96/pen/GRKNYpw\" rel=\"nofollow noreferrer\">https://codepen.io/luiscunha96/pen/GRKNYpw</a></p>\n\n<pre><code> var myLatLng = { lat: 38.736946, lng: -9.142685 };\nvar mapOptions = {\n    center: myLatLng,\n    zoom: 1,\n    mapTypeId: google.maps.MapTypeId.ROADMAP\n};\n\n// Hide result box\ndocument.getElementById(\"output\").style.display = \"none\";\n\n// Create/Init map\nvar map = new google.maps.Map(document.getElementById('google-map'), mapOptions);\n\n// Create a DirectionsService object to use the route method and get a result for our request\nvar directionsService = new google.maps.DirectionsService();\n\n// Create a DirectionsRenderer object which we will use to display the route\nvar directionsDisplay = new google.maps.DirectionsRenderer();\n\n// Bind the DirectionsRenderer to the map\ndirectionsDisplay.setMap(map);\n\n\n// Define calcRoute function\nfunction calcRoute() {\n    //create request\n    var request = {\n        origin: document.getElementById(\"location-1\").value,\n        destination: document.getElementById(\"location-2\").value,\n        travelMode: google.maps.TravelMode.DRIVING,\n        unitSystem: google.maps.UnitSystem.METRIC\n    }\n\n    // Routing\n    directionsService.route(request, function (result, status) {\n        if (status == google.maps.DirectionsStatus.OK) {\n\n            //Get distance and time            \n\n            $(\"#output\").html(\"&lt;div class='result-table'&gt; Driving distance: \" + result.routes[0].legs[0].distance.text + \".&lt;br /&gt;Duration: \" + result.routes[0].legs[0].duration.text + \".&lt;/div&gt;\");\n            document.getElementById(\"output\").style.display = \"block\";\n\n            //display route\n            directionsDisplay.setDirections(result);\n        } else {\n            //delete route from map\n            directionsDisplay.setDirections({ routes: [] });\n            //center map in London\n            map.setCenter(myLatLng);\n\n            //Show error message           \n\n            alert(\"Can't find road! Please try again!\");\n            clearRoute();\n        }\n    });\n\n}\n\n// Clear results\n\nfunction clearRoute(){\n    document.getElementById(\"output\").style.display = \"none\";\n    document.getElementById(\"location-1\").value = \"\";\n    document.getElementById(\"location-2\").value = \"\";\n    directionsDisplay.setDirections({ routes: [] });\n\n}\n\n// Create autocomplete objects for all inputs\n\nvar options = {\n    types: ['(cities)']\n    //types: ['(regions)']\n    //types: ['postal-code']\n}\n\n\nvar input1 = document.getElementById(\"location-1\");\nvar autocomplete1 = new google.maps.places.Autocomplete(input1, options);\n\nvar input2 = document.getElementById(\"location-2\");\nvar autocomplete2 = new google.maps.places.Autocomplete(input2, options);\n</code></pre>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"tags": [], "owner": {"reputation": 542, "user_id": 11886299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/095e6f3f268850b0a190dddd0d740b5f?s=128&d=identicon&r=PG&f=1", "display_name": "Mickey", "link": "https://stackoverflow.com/users/11886299/mickey"}, "is_accepted": false, "score": 0, "last_activity_date": 1566423730, "creation_date": 1566423730, "answer_id": 57599468, "question_id": 57599439, "link": "https://stackoverflow.com/questions/57599439/how-to-pass-arguments-to-function-and-still-access-event-to-prevent-default/57599468#57599468", "title": "How to pass arguments to function and still access event to prevent default", "body": "<p>Just pass the event to the handler</p>\n\n<pre><code>&lt;form onSubmit={(evt) =&gt; addItem(evt, list.id)}&gt;\n\nconst addItem = (event, listId) =&gt; {\n  event.preventDefault();\n  console.log(listId);\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1587, "user_id": 2612640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ahRvd.jpg?s=128&g=1", "display_name": "Sgnl", "link": "https://stackoverflow.com/users/2612640/sgnl"}, "is_accepted": false, "score": 0, "last_activity_date": 1566423820, "creation_date": 1566423820, "answer_id": 57599490, "question_id": 57599439, "link": "https://stackoverflow.com/questions/57599439/how-to-pass-arguments-to-function-and-still-access-event-to-prevent-default/57599490#57599490", "title": "How to pass arguments to function and still access event to prevent default", "body": "<p>something like this:</p>\n\n<pre><code>&lt;form onSubmit={(event) =&gt; addItem(list.id, event)}&gt;\n\n// And the function\nconst addItem = (listId, event) =&gt; {\n  event.preventDefault();\n  console.log(listId);\n};\n</code></pre>\n\n<p>an alternative i used, I like to use an \"options\" object as the last argument to a function for misc values or functions to use:</p>\n\n<pre><code>&lt;form onSubmit={(event) =&gt; addItem(list.id, { event })}&gt;\n\n// And the function\nconst addItem = (listId, { event }) =&gt; {\n  event.preventDefault();\n  console.log(listId);\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 9982333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yCIL4.jpg?s=128&g=1", "display_name": "Ibaeni", "link": "https://stackoverflow.com/users/9982333/ibaeni"}, "edited": false, "score": 1, "creation_date": 1566425281, "post_id": 57599514, "comment_id": 101656647, "body": "This worked great and the second example is very clean. Thanks for the quick help!"}], "tags": [], "owner": {"reputation": 15224, "user_id": 7328218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69d338eadf83deb112f919f4c8a6052a?s=128&d=identicon&r=PG&f=1", "display_name": "Taki", "link": "https://stackoverflow.com/users/7328218/taki"}, "is_accepted": true, "score": 1, "last_activity_date": 1566423949, "creation_date": 1566423949, "answer_id": 57599514, "question_id": 57599439, "link": "https://stackoverflow.com/questions/57599439/how-to-pass-arguments-to-function-and-still-access-event-to-prevent-default/57599514#57599514", "title": "How to pass arguments to function and still access event to prevent default", "body": "<p>You can keep the currying and call <code>addItem</code> like this :</p>\n\n<pre><code>&lt;form onSubmit={addItem(list.id)}&gt;\n</code></pre>\n\n<p>and :</p>\n\n<pre><code>const addItem = listId =&gt; {\n    return event =&gt; {\n      event.preventDefault();\n\n      console.log(\"Add item\");\n    }\n  };\n</code></pre>\n\n<p>Or </p>\n\n<pre><code>const addItem = listId =&gt; event =&gt; {\n  event.preventDefault();\n  console.log(\"Add item\", listId);\n};\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 9982333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yCIL4.jpg?s=128&g=1", "display_name": "Ibaeni", "link": "https://stackoverflow.com/users/9982333/ibaeni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 166, "favorite_count": 0, "accepted_answer_id": 57599514, "answer_count": 3, "score": 2, "last_activity_date": 1566423949, "creation_date": 1566423519, "last_edit_date": 1566423726, "question_id": 57599439, "link": "https://stackoverflow.com/questions/57599439/how-to-pass-arguments-to-function-and-still-access-event-to-prevent-default", "title": "How to pass arguments to function and still access event to prevent default", "body": "<p>I have a simple function to create an item in a project management app. When submitting a form, I want to call this function which I want to pass an ID into, but I still want to preventDefault on the event. </p>\n\n<p>Here's what my code looks like right now</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>&lt;form onSubmit={() =&gt; addItem(list.id)}&gt;\n\n// And the function\n  const addItem = listId =&gt; {\n    event.preventDefault();\n    console.log(listId);\n  };\n</code></pre>\n\n<p>I've also tried returning another function within the addItem function like so</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>  const addItem = listId =&gt; {\n    return event =&gt; {\n      event.preventDefault();\n\n      console.log(\"Add item\");\n    }\n  };\n</code></pre>\n\n<p>I would like to access event but am not sure who to set up the parameters correctly.</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 11071, "user_id": 358435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b6a07b64e50a331ba65e6d5b9b410199?s=128&d=identicon&r=PG&f=1", "display_name": "karthick", "link": "https://stackoverflow.com/users/358435/karthick"}, "edited": false, "score": 0, "creation_date": 1566423024, "post_id": 57599365, "comment_id": 101656008, "body": "can you add your html"}, {"owner": {"reputation": 19508, "user_id": 3731614, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/PAIKr.jpg?s=128&g=1", "display_name": "Reborn", "link": "https://stackoverflow.com/users/3731614/reborn"}, "edited": false, "score": 0, "creation_date": 1566423263, "post_id": 57599365, "comment_id": 101656090, "body": "try adding quotes around <code>name</code> like this <code>$(&quot;input:radio[name=&#39;&quot;+name+&quot;&#39;]:checked&quot;)</code> or add your html"}, {"owner": {"reputation": 229718, "user_id": 82548, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/db5a61382c2ba7309071c323edb4013b?s=128&d=identicon&r=PG", "display_name": "David says reinstate Monica", "link": "https://stackoverflow.com/users/82548/david-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1566423442, "post_id": 57599365, "comment_id": 101656152, "body": "Please don\u2019t remove relevant code from your question. Further, please look at what the <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/label\" rel=\"nofollow noreferrer\"><code>&lt;label&gt;</code></a> element is for, and what it\u2019s <code>for</code> attribute should be."}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1566423659, "post_id": 57599365, "comment_id": 101656219, "body": "only downside to your solution is you are checking the groups over and over again"}, {"owner": {"reputation": 621, "user_id": 1392897, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/77a81abd065fa0dc8e572021aad71ec2?s=128&d=identicon&r=PG", "display_name": "user1392897", "link": "https://stackoverflow.com/users/1392897/user1392897"}, "reply_to_user": {"reputation": 229718, "user_id": 82548, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/db5a61382c2ba7309071c323edb4013b?s=128&d=identicon&r=PG", "display_name": "David says reinstate Monica", "link": "https://stackoverflow.com/users/82548/david-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1566437996, "post_id": 57599365, "comment_id": 101659082, "body": "@DavidThomas I am using the &lt;label&gt; element as described by <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/label\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/HTML/Element/label</a>. What do you think needs to be changed?"}], "answers": [{"comments": [{"owner": {"reputation": 621, "user_id": 1392897, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/77a81abd065fa0dc8e572021aad71ec2?s=128&d=identicon&r=PG", "display_name": "user1392897", "link": "https://stackoverflow.com/users/1392897/user1392897"}, "edited": false, "score": 0, "creation_date": 1566423360, "post_id": 57599419, "comment_id": 101656118, "body": "Thanks that was it"}], "tags": [], "owner": {"reputation": 19508, "user_id": 3731614, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/PAIKr.jpg?s=128&g=1", "display_name": "Reborn", "link": "https://stackoverflow.com/users/3731614/reborn"}, "is_accepted": true, "score": 2, "last_activity_date": 1566423367, "last_edit_date": 1566423367, "creation_date": 1566423335, "answer_id": 57599419, "question_id": 57599365, "link": "https://stackoverflow.com/questions/57599365/checking-if-any-radio-groups-do-not-have-a-selection/57599419#57599419", "title": "Checking if any radio groups do not have a selection", "body": "<p>You rare missing quotes around the <code>name</code></p>\n\n<p>change </p>\n\n<pre><code>$(\"input:radio[name=\"+name+\"]:checked\")\n</code></pre>\n\n<p>to</p>\n\n<pre><code>$(\"input:radio[name='\"+name+\"']:checked\")\n</code></pre>\n\n<p>Your full code should look like this</p>\n\n<pre><code>$(\"input:radio\").each(function() {\n  var name = $(this).attr(\"name\");\n  if($(\"input:radio[name='\"+name+\"']:checked\").length == 0) {\n    incomplete = true;\n  }\n});\n</code></pre>\n"}], "owner": {"reputation": 621, "user_id": 1392897, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/77a81abd065fa0dc8e572021aad71ec2?s=128&d=identicon&r=PG", "display_name": "user1392897", "link": "https://stackoverflow.com/users/1392897/user1392897"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 57599419, "answer_count": 1, "score": -1, "last_activity_date": 1566423420, "creation_date": 1566422904, "last_edit_date": 1566423420, "question_id": 57599365, "link": "https://stackoverflow.com/questions/57599365/checking-if-any-radio-groups-do-not-have-a-selection", "title": "Checking if any radio groups do not have a selection", "body": "<p>I am trying to throw an alert if a user attempts to submit a form without providing a selection for any of the radio groups. The form is dynamic as are the names of the radio inputs.</p>\n\n<p>I have come up with the following solution:</p>\n\n<pre><code>$(\"input:radio\").each(function() {\n  var name = $(this).attr(\"name\");\n  if($(\"input:radio[name=\"+name+\"]:checked\").length == 0) {\n    incomplete = true;\n  }\n});\n</code></pre>\n\n<p>However I am receiving the following console error:</p>\n\n<pre><code>Error: Syntax error, unrecognized expression: input:radio[name=response_text[11898]]\n</code></pre>\n\n<p>What is syntactically invalid here?</p>\n\n<p>Edit: HTML added as requested</p>\n\n<pre><code>&lt;div class='form-group'&gt;\n  &lt;label for='11899'&gt;2. The earth is flat&lt;/label&gt;\n    &lt;ol class='answers' id='11899' tabindex='2'&gt;\n        &lt;li class='answer'&gt;\n            &lt;input type='radio' name='response_text[11899]' value='766' id='766'&gt;\n      &lt;label for='766' class='answer-text'&gt;True&lt;/label&gt;\n     &lt;/li&gt;\n     &lt;li class='answer'&gt;\n          &lt;input type='radio' name='response_text[11899]' value='767' id='767'&gt;\n          &lt;label for='767' class='answer-text'&gt;False&lt;/label&gt;\n     &lt;/li&gt;\n    &lt;/ol&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "ruby", "ruby-on-rails-3"], "comments": [{"owner": {"reputation": 19508, "user_id": 3731614, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/PAIKr.jpg?s=128&g=1", "display_name": "Reborn", "link": "https://stackoverflow.com/users/3731614/reborn"}, "edited": false, "score": 0, "creation_date": 1566423624, "post_id": 57599348, "comment_id": 101656208, "body": "add your images to the html from your server side code and just initialize the slider why do you think you need to insert the images into the slider after the page has loaded ? are they coming from any ajax request or api ?"}, {"owner": {"reputation": 297, "user_id": 9100910, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155886857833433/picture?type=large", "display_name": "Angela Inniss", "link": "https://stackoverflow.com/users/9100910/angela-inniss"}, "reply_to_user": {"reputation": 19508, "user_id": 3731614, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/PAIKr.jpg?s=128&g=1", "display_name": "Reborn", "link": "https://stackoverflow.com/users/3731614/reborn"}, "edited": false, "score": 0, "creation_date": 1566424558, "post_id": 57599348, "comment_id": 101656454, "body": "@MuhammadOmerAslam hmm well my images are uploaded by the user and the user can upload more than one image at a time. When the images are uploaded they are stored in <code>@service.images</code> so I am looking for a way to get the images from there and insert them into each slide on my carousel does that make sense?"}, {"owner": {"reputation": 19508, "user_id": 3731614, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/PAIKr.jpg?s=128&g=1", "display_name": "Reborn", "link": "https://stackoverflow.com/users/3731614/reborn"}, "edited": false, "score": 0, "creation_date": 1566424913, "post_id": 57599348, "comment_id": 101656546, "body": "yes that makes sense and that would require you to use javascript or jquery, i am more a <code>php</code> guy not familiar  with ruby so dont know if <code>@service.images</code> is a location that can be accessed via server side code? and return the urls of the images via ajax call to insert into the slider using javascript/jquery"}, {"owner": {"reputation": 297, "user_id": 9100910, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155886857833433/picture?type=large", "display_name": "Angela Inniss", "link": "https://stackoverflow.com/users/9100910/angela-inniss"}, "reply_to_user": {"reputation": 19508, "user_id": 3731614, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/PAIKr.jpg?s=128&g=1", "display_name": "Reborn", "link": "https://stackoverflow.com/users/3731614/reborn"}, "edited": false, "score": 0, "creation_date": 1566425252, "post_id": 57599348, "comment_id": 101656638, "body": "@MuhammadOmerAslam ok i&#39;m glad I was on the right path. I think what I need to do is a for each loop and then for each image i need to use JavaScript or something to insert each image into the carousel slide. The problem is I am a junior coder and I&#39;m not sure how to write this yet. I&#39;ll wait for a bit longer to see if any other Rubyists know! Thank you. Also yes <code>@service.images</code> is the array that I am iterating over extract the image and display it to my FE."}, {"owner": {"reputation": 19508, "user_id": 3731614, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/PAIKr.jpg?s=128&g=1", "display_name": "Reborn", "link": "https://stackoverflow.com/users/3731614/reborn"}, "edited": false, "score": 0, "creation_date": 1566425402, "post_id": 57599348, "comment_id": 101656685, "body": "you should check if the slider api provides you any method for adding a slide on runtime? if not, you might have to add child nodes in the parent container of the slider/carousel html and <code>destroy()</code> and then <code>initialize()</code> the slider again, most of the javascript libraries do provide an option to destrory the plugin"}, {"owner": {"reputation": 297, "user_id": 9100910, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155886857833433/picture?type=large", "display_name": "Angela Inniss", "link": "https://stackoverflow.com/users/9100910/angela-inniss"}, "reply_to_user": {"reputation": 19508, "user_id": 3731614, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/PAIKr.jpg?s=128&g=1", "display_name": "Reborn", "link": "https://stackoverflow.com/users/3731614/reborn"}, "edited": false, "score": 0, "creation_date": 1566476868, "post_id": 57599348, "comment_id": 101673964, "body": "hey @MuhammadOmerAslam this is way over my head as im just a beginner. Is there no easier way to do this? I will research about the slider api and see what I find!"}, {"owner": {"reputation": 19508, "user_id": 3731614, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/PAIKr.jpg?s=128&g=1", "display_name": "Reborn", "link": "https://stackoverflow.com/users/3731614/reborn"}, "edited": false, "score": 0, "creation_date": 1566480486, "post_id": 57599348, "comment_id": 101676216, "body": "which slider are you using can you provide the link ?"}, {"owner": {"reputation": 297, "user_id": 9100910, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155886857833433/picture?type=large", "display_name": "Angela Inniss", "link": "https://stackoverflow.com/users/9100910/angela-inniss"}, "reply_to_user": {"reputation": 19508, "user_id": 3731614, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/PAIKr.jpg?s=128&g=1", "display_name": "Reborn", "link": "https://stackoverflow.com/users/3731614/reborn"}, "edited": false, "score": 0, "creation_date": 1566481120, "post_id": 57599348, "comment_id": 101676624, "body": "Something similar to this: <a href=\"https://getbootstrap.com/docs/4.0/components/carousel/\" rel=\"nofollow noreferrer\">getbootstrap.com/docs/4.0/components/carousel</a> the one that says &quot;with indicators&quot;"}, {"owner": {"reputation": 19508, "user_id": 3731614, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/PAIKr.jpg?s=128&g=1", "display_name": "Reborn", "link": "https://stackoverflow.com/users/3731614/reborn"}, "edited": false, "score": 0, "creation_date": 1566485533, "post_id": 57599348, "comment_id": 101679349, "body": "you just need to append the html to the <code>&lt;div class=&quot;carousel-inner&quot;&gt;</code>  and it will automatically pick it up no need to re-initialize or destroy it just prepare your html and use <code>$(&#39;.carousel-inner&#39;).append()</code> to add a new slide to the slider and it will pick it up automatically"}, {"owner": {"reputation": 297, "user_id": 9100910, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155886857833433/picture?type=large", "display_name": "Angela Inniss", "link": "https://stackoverflow.com/users/9100910/angela-inniss"}, "reply_to_user": {"reputation": 19508, "user_id": 3731614, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/PAIKr.jpg?s=128&g=1", "display_name": "Reborn", "link": "https://stackoverflow.com/users/3731614/reborn"}, "edited": false, "score": 0, "creation_date": 1566498894, "post_id": 57599348, "comment_id": 101685493, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/198327/discussion-between-angela-inniss-and-muhammad-omer-aslam\">continue this discussion in chat</a>."}], "owner": {"reputation": 297, "user_id": 9100910, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155886857833433/picture?type=large", "display_name": "Angela Inniss", "link": "https://stackoverflow.com/users/9100910/angela-inniss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 173, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566422752, "creation_date": 1566422752, "question_id": 57599348, "link": "https://stackoverflow.com/questions/57599348/extracting-image-index-from-array-in-order-to-insert-image-into-a-bootstrap-caro", "title": "Extracting image index from array in order to insert image into a bootstrap carousel", "body": "<p>I have an array of images which I can iterate over and display on my page however this is not what I want. I would like to find the index of each image in my array so that (on each loop) I can insert one of the images into my bootstrap carousel slides.</p>\n\n<p>Will I need Javascript to do this? I am unsure and hope someone can point me in the right direction.</p>\n\n<p>To start I tried to do a for each with index loop and extract the index but I was not able to :(</p>\n\n<p>This is the bootstrap carousel. So far you can see that I have put my iteration into the first slide which means all 3 images are showing on the first slide:</p>\n\n<pre><code>&lt;div class=\"carousel-inner\" role=\"listbox\"&gt;\n    &lt;div class=\"carousel-item active\"&gt;\n     &lt;!--  &lt;img class=\"d-block w-100\" src=\"https://mdbootstrap.com/img/Photos/Slides/img%20(88).jpg\"\n       alt=\"First slide\"&gt; --&gt;\n      &lt;!-- app/views/posts/show.html.erb --&gt;\n     &lt;% if @service.images.attached? %&gt;\n      &lt;% @service.images.each do |image| %&gt;\n        &lt;%= image_tag(image) %&gt;\n        &lt;% end %&gt;\n     &lt;% end %&gt;\n    &lt;/div&gt;\n     &lt;div class=\"carousesl-item\"&gt;\n   &lt;!--   &lt;img class=\"d-block w-100\" src=\"https://mdbootstrap.com/img/Photos/Slides/img%20(121).jpg\"\n    alt=\"Second slide\"&gt; --&gt;\n    &lt;/div&gt;\n    &lt;div class=\"carousel-item\"&gt;\n   &lt;!--    &lt;img class=\"d-block w-100\" src=\"https://mdbootstrap.com/img/Photos/Slides/img%20(31).jpg\"\n     alt=\"Third slide\"&gt; --&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;!--/.Slides--&gt;\n  &lt;!--Controls--&gt;\n  &lt;a class=\"carousel-control-prev\" href=\"#carousel-thumb\" role=\"button\" data-slide=\"prev\"&gt;\n    &lt;span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"&gt;&lt;/span&gt;\n    &lt;span class=\"sr-only\"&gt;Previous&lt;/span&gt;\n  &lt;/a&gt;\n  &lt;a class=\"carousel-control-next\" href=\"#carousel-thumb\" role=\"button\" data-slide=\"next\"&gt;\n    &lt;span class=\"carousel-control-next-icon\" aria-hidden=\"true\"&gt;&lt;/span&gt;\n    &lt;span class=\"sr-only\"&gt;Next&lt;/span&gt;\n  &lt;/a&gt;\n  &lt;!--/.Controls--&gt;\n  &lt;ol class=\"carousel-indicators\"&gt;\n    &lt;li data-target=\"#carousel-thumb\" data-slide-to=\"0\" class=\"active\"&gt;\n      &lt;img src=\"https://mdbootstrap.com/img/Photos/Others/Carousel-thumbs/img%20(88).jpg\" width=\"100\"&gt;\n    &lt;/li&gt;\n    &lt;li data-target=\"#carousel-thumb\" data-slide-to=\"1\"&gt;\n      &lt;img src=\"https://mdbootstrap.com/img/Photos/Others/Carousel-thumbs/img%20(121).jpg\" width=\"100\"&gt;\n    &lt;/li&gt;\n    &lt;li data-target=\"#carousel-thumb\" data-slide-to=\"2\"&gt;\n      &lt;img src=\"https://mdbootstrap.com/img/Photos/Others/Carousel-thumbs/img%20(31).jpg\" width=\"100\"&gt;\n    &lt;/li&gt;\n  &lt;/ol&gt;\n&lt;/div&gt;\n&lt;!--/.Carousel Wrapper--&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "algorithm", "sorting"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1566422949, "post_id": 57599347, "comment_id": 101655989, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/13304543/javascript-sort-array-based-on-another-array\">Javascript - sort array based on another array</a>"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1566423395, "post_id": 57599347, "comment_id": 101656133, "body": "You have to sort <i>both arrays</i>, not just one. Otherwise the arrays start to missmatch and you get chaos"}, {"owner": {"reputation": 9909, "user_id": 5225844, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hKnPb.jpg?s=128&g=1", "display_name": "Naga Sai A", "link": "https://stackoverflow.com/users/5225844/naga-sai-a"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1566423746, "post_id": 57599347, "comment_id": 101656238, "body": "@JonasWilms if second array is derived from first ,  then sorting arr1 alone works -  <a href=\"https://codepen.io/nagasai/pen/WNeoaEv?editors=1010\" rel=\"nofollow noreferrer\">codepen.io/nagasai/pen/WNeoaEv?editors=1010</a>"}, {"owner": {"reputation": 121669, "user_id": 56778, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/34b152ef95a49568ce45df38cd87e54b?s=128&d=identicon&r=PG", "display_name": "Jim Mischel", "link": "https://stackoverflow.com/users/56778/jim-mischel"}, "edited": false, "score": 0, "creation_date": 1566423818, "post_id": 57599347, "comment_id": 101656262, "body": "Why not just supply a comparison function and compute the &quot;weight&quot; during the sort?"}], "answers": [{"tags": [], "owner": {"reputation": 130214, "user_id": 772035, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/jAEqI.jpg?s=128&g=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/772035/paul"}, "is_accepted": true, "score": 2, "last_activity_date": 1566423802, "creation_date": 1566423802, "answer_id": 57599485, "question_id": 57599347, "link": "https://stackoverflow.com/questions/57599347/sorting-using-two-arrays/57599485#57599485", "title": "Sorting using two arrays", "body": "<p>You can just calculate the weight on the fly while sorting:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const arr = [56,65,100,89,180,90];\r\n\r\narr.sort( (a,b) =&gt; \r\n  (a + '').split( '' ).reduce( (sum,x) =&gt; sum + +x, 0 ) -\r\n  (b + '').split( '' ).reduce( (sum,x) =&gt; sum + +x, 0 )\r\n);\r\n\r\nconsole.log( arr );</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 9948089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81eb5528a4004bd7f4e098f37fa22be2?s=128&d=identicon&r=PG&f=1", "display_name": "\u041d\u0438\u043a\u0438\u0442\u0430 \u041a\u043e\u0432\u0430\u043b\u0451\u0432", "link": "https://stackoverflow.com/users/9948089/%d0%9d%d0%b8%d0%ba%d0%b8%d1%82%d0%b0-%d0%9a%d0%be%d0%b2%d0%b0%d0%bb%d1%91%d0%b2"}, "edited": false, "score": 0, "creation_date": 1566425112, "post_id": 57599503, "comment_id": 101656603, "body": "My thanks! I just feel a little bit weak in arrow functions, so I need more practice."}], "tags": [], "owner": {"reputation": 9909, "user_id": 5225844, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hKnPb.jpg?s=128&g=1", "display_name": "Naga Sai A", "link": "https://stackoverflow.com/users/5225844/naga-sai-a"}, "is_accepted": false, "score": 0, "last_activity_date": 1566423876, "creation_date": 1566423876, "answer_id": 57599503, "question_id": 57599347, "link": "https://stackoverflow.com/questions/57599347/sorting-using-two-arrays/57599503#57599503", "title": "Sorting using two arrays", "body": "<p>To achieve expected result, use below option of sorrting arr1 with logic mentioned in question </p>\n\n<ol>\n<li>Sort <strong>arr1</strong> bycomparing sum of digits </li>\n<li>Convert number to string and split it to array</li>\n<li>Use reduce sum all the digits and compare with the array elements</li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var arr1 = [56, 65, 100, 89, 180, 90];\r\nvar arr2 = [11, 11, 1, 17, 9, 9];\r\n\r\nconsole.log(\r\n  arr1.sort(\r\n    (a, b) =&gt;\r\n      a\r\n        .toString()\r\n        .split(\"\")\r\n        .reduce((acc, v) =&gt; parseInt(acc) + parseInt(v)) -\r\n      b\r\n        .toString()\r\n        .split(\"\")\r\n        .reduce((acc, v) =&gt; parseInt(acc) + parseInt(v))\r\n  )\r\n);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>codepen - <a href=\"https://codepen.io/nagasai/pen/WNeoaEv?editors=1010\" rel=\"nofollow noreferrer\">https://codepen.io/nagasai/pen/WNeoaEv?editors=1010</a></p>\n"}], "owner": {"reputation": 23, "user_id": 9948089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81eb5528a4004bd7f4e098f37fa22be2?s=128&d=identicon&r=PG&f=1", "display_name": "\u041d\u0438\u043a\u0438\u0442\u0430 \u041a\u043e\u0432\u0430\u043b\u0451\u0432", "link": "https://stackoverflow.com/users/9948089/%d0%9d%d0%b8%d0%ba%d0%b8%d1%82%d0%b0-%d0%9a%d0%be%d0%b2%d0%b0%d0%bb%d1%91%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 57599485, "answer_count": 2, "score": 1, "last_activity_date": 1566426193, "creation_date": 1566422751, "last_edit_date": 1566426193, "question_id": 57599347, "link": "https://stackoverflow.com/questions/57599347/sorting-using-two-arrays", "title": "Sorting using two arrays", "body": "<p>There are two arrays:\nThe first one contain numbers, and the second one contains \"weight\" of the first array values.</p>\n\n<p>It works like this:</p>\n\n<pre><code>arr1 = [56,65,100,89,180,90];\n</code></pre>\n\n<p>\"Weight\" of the numbers are calculated in this way:</p>\n\n<pre><code> 56 = 5+6 = 11;\n 65 = 6+5 = 11;\n 100 = 1+0+0 = 1; and so on..\n</code></pre>\n\n<p>So, <code>arr2 = [11,11,1,17,9,9];</code></p>\n\n<p>My question is how can I sort the values of the <code>arr1</code> according to values of <code>arr2</code>?</p>\n\n<p>I tried to modify simple bubble sort for this problem, but nothing changed.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function bubble(arr1, arr2) {\r\n  var len = arr1.length;\r\n  for (var i = 0; i &lt; len; i++) {\r\n    for (var j = 0; j &lt; len - i - 1; j++) {\r\n      if (arr2[j] &gt; arr2[j + 1]) {\r\n        var temp = arr1[j];\r\n        arr1[j] = arr1[j + 1];\r\n        arr1[j + 1] = temp;\r\n      }\r\n    }\r\n  }\r\n  return arr1;\r\n}\r\n\r\narr1 = [56, 65, 100, 89, 180, 90];\r\n\r\narr2 = [11, 11, 1, 17, 9, 9];\r\n\r\nconsole.log(bubble(arr1, arr2));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I expect the output of the bubble function to be <code>[100,180,90,56,65,89]</code>. \nThis is why:</p>\n\n<pre><code>FirstArray -          [56,65,100,89,180,90] - arr1\n\"Weight of the values\"[11,11, 1, 17, 9, 9 ] - arr2\nOutput                [100,180,90,56,65,89]\n                      [1,  9,  9 ,11,11,17]\n</code></pre>\n"}, {"tags": ["javascript", "regex"], "comments": [{"owner": {"reputation": 807, "user_id": 1119495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba0034aa54032112668f1857ebbc9c28?s=128&d=identicon&r=PG", "display_name": "Ariel Alvarado", "link": "https://stackoverflow.com/users/1119495/ariel-alvarado"}, "edited": false, "score": 0, "creation_date": 1566422740, "post_id": 57599302, "comment_id": 101655919, "body": "You can try with <b>[\\w\\.\\\\n!]+</b>, but you need to know all special characters that you want to include."}], "answers": [{"comments": [{"owner": {"reputation": 2829, "user_id": 6388552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJiGS.jpg?s=128&g=1", "display_name": "ths", "link": "https://stackoverflow.com/users/6388552/ths"}, "edited": false, "score": 1, "creation_date": 1566423400, "post_id": 57599360, "comment_id": 101656135, "body": "<i>What should I do to include all the special characters like (.) and (!) etc and &#39;\\n&#39; too in my result? ...</i> what to do so these special chars can also be treated as separate results ? Thanks."}, {"owner": {"reputation": 1136, "user_id": 8434189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gawtn.jpg?s=128&g=1", "display_name": "mahmoudafer", "link": "https://stackoverflow.com/users/8434189/mahmoudafer"}, "reply_to_user": {"reputation": 2829, "user_id": 6388552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJiGS.jpg?s=128&g=1", "display_name": "ths", "link": "https://stackoverflow.com/users/6388552/ths"}, "edited": false, "score": 0, "creation_date": 1566423493, "post_id": 57599360, "comment_id": 101656176, "body": "@ths if you want separate results, learn more about regex capturing groups"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 2829, "user_id": 6388552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJiGS.jpg?s=128&g=1", "display_name": "ths", "link": "https://stackoverflow.com/users/6388552/ths"}, "edited": false, "score": 1, "creation_date": 1566423506, "post_id": 57599360, "comment_id": 101656179, "body": "@ths That is not what OP needs, see the expected result: <code>[&#39;This&#39;, &#39;is&#39;, &#39;a&#39;, &#39;test.&#39;, &#39;\\n&#39;, &#39;\\n&#39;, &#39;Another&#39;, &#39;Sentence.&#39;, &#39;\\n&#39;, &#39;Hello!&#39;]</code>. Of course, <code>str.match(&#47;\\w+|\\W&#47;g)</code> or <code>str.match(&#47;\\w+|\\W+&#47;g)</code> would tokenize it more."}, {"owner": {"reputation": 10208, "user_id": 1892802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KG1Yi.png?s=128&g=1", "display_name": "ug_", "link": "https://stackoverflow.com/users/1892802/ug"}, "edited": false, "score": 0, "creation_date": 1566423587, "post_id": 57599360, "comment_id": 101656199, "body": "You could make the expression a non capturing group using <code>?:</code>. EG: <code>(?:\\S+|\\n)</code> this will make it match but not capture the resulting group giving you the results you want."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 10208, "user_id": 1892802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KG1Yi.png?s=128&g=1", "display_name": "ug_", "link": "https://stackoverflow.com/users/1892802/ug"}, "edited": false, "score": 0, "creation_date": 1566423793, "post_id": 57599360, "comment_id": 101656253, "body": "@ug_ No need for a non-capturing group. <code>&#47;(?:a|b)&#47;</code> = <code>&#47;a|b&#47;</code>."}, {"owner": {"reputation": 2829, "user_id": 6388552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJiGS.jpg?s=128&g=1", "display_name": "ths", "link": "https://stackoverflow.com/users/6388552/ths"}, "edited": false, "score": 0, "creation_date": 1566423862, "post_id": 57599360, "comment_id": 101656270, "body": "Thank you all for your comments, I don&#39;t mean to be unkind or something but I do know how to solve this but I saw the OP&#39;s last line on his post so I asked  @WiktorStribi\u017cew for, let&#39;s say, a deeper answer (as he (@WiktorStribi\u017cew ) seems to be way more familiar with regex than me) seeking to get a better solution than the one on my mind."}], "tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 5, "last_activity_date": 1566422833, "creation_date": 1566422833, "answer_id": 57599360, "question_id": 57599302, "link": "https://stackoverflow.com/questions/57599302/regex-match-word-and-n-literally/57599360#57599360", "title": "Regex match word and \\n literally", "body": "<p>You may use</p>\n\n<pre><code>/\\S+|\\n/g\n</code></pre>\n\n<p>See the <a href=\"https://regex101.com/r/opnv72/1\" rel=\"noreferrer\">regex demo</a>. It matches 1+ non-whitespace chars or a newline char, as many times as there are such chunks in the input string (due to <code>g</code> modifier).</p>\n\n<p>JS demo:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var str = \"This is a test.\\n\\nAnother Sentence.\\nHello!\";\r\nconsole.log(str.match(/\\S+|\\n/g));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 2425, "user_id": 1929111, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/15084ab517f76aa1684b40e9067bba8a?s=128&d=identicon&r=PG", "display_name": "Srikanth Bandaru", "link": "https://stackoverflow.com/users/1929111/srikanth-bandaru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 57599360, "answer_count": 1, "score": 2, "last_activity_date": 1566422833, "creation_date": 1566422474, "question_id": 57599302, "link": "https://stackoverflow.com/questions/57599302/regex-match-word-and-n-literally", "title": "Regex match word and \\n literally", "body": "<p>I have a string.</p>\n\n<pre><code>const str = \"This is a test.\\n\\nAnother Sentence.\\nHello!\";\n</code></pre>\n\n<p>I want the result</p>\n\n<pre><code>// ['This', 'is', 'a', 'test.', '\\n', '\\n', 'Another', 'Sentence.', '\\n', 'Hello!']\n</code></pre>\n\n<p>I'm doing </p>\n\n<pre><code>const arr = str.match(/\\w+/g);\n// [\"This\", \"is\", \"a\", \"test\", \"Another\", \"Sentence\", \"Hello\"]\n</code></pre>\n\n<p>What should I do to include all the special characters like (.) and (!) etc and '\\n' too in my result? Could you please help? </p>\n"}, {"tags": ["javascript", "google-apps-script", "google-sheets"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 1, "creation_date": 1566422442, "post_id": 57599289, "comment_id": 101655840, "body": "What is the <b>exact</b> value of <code>emailTo</code>?"}, {"owner": {"reputation": 23873, "user_id": 1595451, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/08TCi.jpg?s=128&g=1", "display_name": "Rub&#233;n", "link": "https://stackoverflow.com/users/1595451/rub%c3%a9n"}, "edited": false, "score": 0, "creation_date": 1566423561, "post_id": 57599289, "comment_id": 101656193, "body": "Please add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}], "answers": [{"tags": [], "owner": {"reputation": 23873, "user_id": 1595451, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/08TCi.jpg?s=128&g=1", "display_name": "Rub&#233;n", "link": "https://stackoverflow.com/users/1595451/rub%c3%a9n"}, "is_accepted": false, "score": 2, "last_activity_date": 1566426836, "creation_date": 1566426836, "answer_id": 57599947, "question_id": 57599289, "link": "https://stackoverflow.com/questions/57599289/why-is-my-array-working-for-emailing-but-not-sharing/57599947#57599947", "title": "Why is my array working for emailing but not sharing", "body": "<p>The problem is that the <code>emailTo</code> variable was declared <strong>after</strong> it was called.</p>\n\n<p>Move the following code lines after <code>var emailTo = contacts.getRange(2, 2, numRows, 1).getValues();</code></p>\n\n<pre><code>var sheetCopy = ss.copy(filename);\nsheetCopy.addViewers(emailTo)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 32101, "user_id": 8404453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/616cb81bb678bb5b17869511b2a41367?s=128&d=identicon&r=PG&f=1", "display_name": "TheMaster", "link": "https://stackoverflow.com/users/8404453/themaster"}, "edited": false, "score": 1, "creation_date": 1566427124, "post_id": 57599959, "comment_id": 101657157, "body": "In addition to what Ruben <a href=\"https://stackoverflow.com/a/57599947\">said</a> :)"}, {"owner": {"reputation": 35, "user_id": 11907893, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-eAj8HD5p3jI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcMTrxqSHl_Z55qVI7bbtVcvLt5MA/photo.jpg?sz=128", "display_name": "Tom Adams", "link": "https://stackoverflow.com/users/11907893/tom-adams"}, "edited": false, "score": 0, "creation_date": 1566672277, "post_id": 57599959, "comment_id": 101733105, "body": "I&#39;m sorry this is still coming up with invalid email. I have also moved where email to is declared"}, {"owner": {"reputation": 32101, "user_id": 8404453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/616cb81bb678bb5b17869511b2a41367?s=128&d=identicon&r=PG&f=1", "display_name": "TheMaster", "link": "https://stackoverflow.com/users/8404453/themaster"}, "reply_to_user": {"reputation": 35, "user_id": 11907893, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-eAj8HD5p3jI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcMTrxqSHl_Z55qVI7bbtVcvLt5MA/photo.jpg?sz=128", "display_name": "Tom Adams", "link": "https://stackoverflow.com/users/11907893/tom-adams"}, "edited": false, "score": 1, "creation_date": 1566675876, "post_id": 57599959, "comment_id": 101733760, "body": "@Tom Edit your question to reflect the latest code or ask a new question."}, {"owner": {"reputation": 23873, "user_id": 1595451, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/08TCi.jpg?s=128&g=1", "display_name": "Rub&#233;n", "link": "https://stackoverflow.com/users/1595451/rub%c3%a9n"}, "reply_to_user": {"reputation": 35, "user_id": 11907893, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-eAj8HD5p3jI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcMTrxqSHl_Z55qVI7bbtVcvLt5MA/photo.jpg?sz=128", "display_name": "Tom Adams", "link": "https://stackoverflow.com/users/11907893/tom-adams"}, "edited": false, "score": 1, "creation_date": 1566676124, "post_id": 57599959, "comment_id": 101733833, "body": "@TomAdams Another problem on the question code is <code>contacts.getRange(2, 2, numRows, 1).getValues()</code>. One way to fix it is <code>contacts.getRange(2, 2, numRows - 1, 1).getValues()</code>;"}], "tags": [], "owner": {"reputation": 32101, "user_id": 8404453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/616cb81bb678bb5b17869511b2a41367?s=128&d=identicon&r=PG&f=1", "display_name": "TheMaster", "link": "https://stackoverflow.com/users/8404453/themaster"}, "is_accepted": false, "score": 1, "last_activity_date": 1566426896, "last_edit_date": 1592644375, "creation_date": 1566426896, "answer_id": 57599959, "question_id": 57599289, "link": "https://stackoverflow.com/questions/57599289/why-is-my-array-working-for-emailing-but-not-sharing/57599959#57599959", "title": "Why is my array working for emailing but not sharing", "body": "<h3>Issue:</h3>\n<p><a href=\"https://developers.google.com/apps-script/reference/spreadsheet/spreadsheet#addViewers(String)\" rel=\"nofollow noreferrer\"><code>Spreadsheet#addViewers(String[])</code></a> accepts <code>String[]</code> (1 dimensional array of strings) as argument, while <code>Range#getValues()</code> returns <code>Object[][]</code>(2 dimensional array of objects).</p>\n<h3>Solution:</h3>\n<ul>\n<li>Convert 2D array to 1D array</li>\n<li>Convert object to string type</li>\n</ul>\n<h3>Snippet:</h3>\n<pre><code>sheetCopy.addViewers(emailTo.map(function(row){\n  return String(row[0]);\n}))\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 11907893, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-eAj8HD5p3jI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcMTrxqSHl_Z55qVI7bbtVcvLt5MA/photo.jpg?sz=128", "display_name": "Tom Adams", "link": "https://stackoverflow.com/users/11907893/tom-adams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1566426896, "creation_date": 1566422373, "last_edit_date": 1566424837, "question_id": 57599289, "link": "https://stackoverflow.com/questions/57599289/why-is-my-array-working-for-emailing-but-not-sharing", "title": "Why is my array working for emailing but not sharing", "body": "<p>I have an array of email address that works for MailApp.SendEmail but not for addViewers</p>\n\n<p>Can anyone shed some light on this? </p>\n\n<pre><code>function exportSpreadsheet() {\n  var ss = SpreadsheetApp.getActiveSpreadsheet();\n  var filename = \"Copy\" + ss.getName();\n  var sheetCopy = ss.copy(filename);\n  sheetCopy.addViewers(emailTo)\n  var message = \"yyyyyyyyyyyyyyyyyyy\";  \n  var subject = \"xxxx\"    \n  var contacts = ss.getSheetByName(\"Contacts\");\n  var numRows = contacts.getLastRow();\n  var emailTo = contacts.getRange(2, 2, numRows, 1).getValues();\n  MailApp.sendEmail(emailTo, subject, message);\n}\n\n</code></pre>\n\n<p>The whole script attaches the file to the email but I have removed this as I don't think it affects anything.</p>\n\n<p>The emailTo array is on sheet \"Contacts\" B2:B and all contacts are receiving the email but I cannot find a way to make this work for addViewer? </p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 56338, "user_id": 4265352, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lzAUc5pYb24/AAAAAAAAAAI/AAAAAAAAAGQ/q3h7bZUnqrs/photo.jpg?sz=128", "display_name": "axiac", "link": "https://stackoverflow.com/users/4265352/axiac"}, "edited": false, "score": 0, "creation_date": 1566422591, "post_id": 57599265, "comment_id": 101655871, "body": "Make sure you don&#39;t reach <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_SAFE_INTEGER\" rel=\"nofollow noreferrer\">the largest integer that can be safely represented using the floating point notation</a> used by JavaScript to represent the numbers. Beyond it, <code>i++</code> doesn&#39;t work and the loop becomes infinite."}, {"owner": {"reputation": 15, "user_id": 11573545, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JfMExhQ9ne0/AAAAAAAAAAI/AAAAAAAAAEg/izFuC-Ig0NY/photo.jpg?sz=128", "display_name": "Mahdi Archin", "link": "https://stackoverflow.com/users/11573545/mahdi-archin"}, "reply_to_user": {"reputation": 56338, "user_id": 4265352, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lzAUc5pYb24/AAAAAAAAAAI/AAAAAAAAAGQ/q3h7bZUnqrs/photo.jpg?sz=128", "display_name": "axiac", "link": "https://stackoverflow.com/users/4265352/axiac"}, "edited": false, "score": 0, "creation_date": 1566423393, "post_id": 57599265, "comment_id": 101656132, "body": "@axiac should I wrap it in BigInt like BigInt(i) ?"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 1, "creation_date": 1566423522, "post_id": 57599265, "comment_id": 101656182, "body": "What is <code>n</code> ? It seems it isn&#39;t defined"}, {"owner": {"reputation": 15, "user_id": 11573545, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JfMExhQ9ne0/AAAAAAAAAAI/AAAAAAAAAEg/izFuC-Ig0NY/photo.jpg?sz=128", "display_name": "Mahdi Archin", "link": "https://stackoverflow.com/users/11573545/mahdi-archin"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1566423759, "post_id": 57599265, "comment_id": 101656243, "body": "@JonasWilms sorry, I fixed it"}, {"owner": {"reputation": 3375, "user_id": 1977182, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0329819d1cfd8d00c4bddc535abe1c94?s=128&d=identicon&r=PG", "display_name": "B M", "link": "https://stackoverflow.com/users/1977182/b-m"}, "edited": false, "score": 0, "creation_date": 1566423955, "post_id": 57599265, "comment_id": 101656289, "body": "Several issues: <code>n</code> should be <code>num</code> and <code>i &lt;= n</code> can be <code>i &lt;= Math.ceil(n &#47; 2)</code>. Also what is <code>b</code>? Other than that your code looks fine! Using a large number library might be a good idea."}, {"owner": {"reputation": 15, "user_id": 11573545, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JfMExhQ9ne0/AAAAAAAAAAI/AAAAAAAAAEg/izFuC-Ig0NY/photo.jpg?sz=128", "display_name": "Mahdi Archin", "link": "https://stackoverflow.com/users/11573545/mahdi-archin"}, "reply_to_user": {"reputation": 3375, "user_id": 1977182, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0329819d1cfd8d00c4bddc535abe1c94?s=128&d=identicon&r=PG", "display_name": "B M", "link": "https://stackoverflow.com/users/1977182/b-m"}, "edited": false, "score": 0, "creation_date": 1566424186, "post_id": 57599265, "comment_id": 101656332, "body": "@BM thanks for the tip but why change <code>i &lt;= num</code> to <code>i &lt;= Math.ceil(num &#47; 2)</code> ? I don&#39;t get this part"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1566424343, "post_id": 57599265, "comment_id": 101656374, "body": "I think the trick here is with Maths, not JS. <a href=\"https://en.wikipedia.org/wiki/Divisor_function\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Divisor_function</a> Also you should use the sum formula of Gauss: <a href=\"https://en.wikipedia.org/wiki/Triangular_number\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Triangular_number</a>"}, {"owner": {"reputation": 3375, "user_id": 1977182, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0329819d1cfd8d00c4bddc535abe1c94?s=128&d=identicon&r=PG", "display_name": "B M", "link": "https://stackoverflow.com/users/1977182/b-m"}, "edited": false, "score": 0, "creation_date": 1566424350, "post_id": 57599265, "comment_id": 101656378, "body": "It does not change the result, but optimize the speed. A natural number larger than half of another natural number cannot be its divisor. Thus no need to test."}, {"owner": {"reputation": 15, "user_id": 11573545, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JfMExhQ9ne0/AAAAAAAAAAI/AAAAAAAAAEg/izFuC-Ig0NY/photo.jpg?sz=128", "display_name": "Mahdi Archin", "link": "https://stackoverflow.com/users/11573545/mahdi-archin"}, "reply_to_user": {"reputation": 3375, "user_id": 1977182, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0329819d1cfd8d00c4bddc535abe1c94?s=128&d=identicon&r=PG", "display_name": "B M", "link": "https://stackoverflow.com/users/1977182/b-m"}, "edited": false, "score": 0, "creation_date": 1566424585, "post_id": 57599265, "comment_id": 101656463, "body": "@BM Good point!"}, {"owner": {"reputation": 15, "user_id": 11573545, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JfMExhQ9ne0/AAAAAAAAAAI/AAAAAAAAAEg/izFuC-Ig0NY/photo.jpg?sz=128", "display_name": "Mahdi Archin", "link": "https://stackoverflow.com/users/11573545/mahdi-archin"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1566424695, "post_id": 57599265, "comment_id": 101656495, "body": "@JonasWilms I consider not use that formula but add to the previous number, same results but less code."}, {"owner": {"reputation": 3375, "user_id": 1977182, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0329819d1cfd8d00c4bddc535abe1c94?s=128&d=identicon&r=PG", "display_name": "B M", "link": "https://stackoverflow.com/users/1977182/b-m"}, "edited": false, "score": 0, "creation_date": 1566424790, "post_id": 57599265, "comment_id": 101656508, "body": "There might be an analytic divisor function, but nevertheless the approach to write a recursive algorithm instead is not usually wrong. It should work but might hit platform or language limitations. Thus the task might very well be designed so that no consumer hardware can be used to solve it this way, making an analytic approach necessary."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 11573545, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JfMExhQ9ne0/AAAAAAAAAAI/AAAAAAAAAEg/izFuC-Ig0NY/photo.jpg?sz=128", "display_name": "Mahdi Archin", "link": "https://stackoverflow.com/users/11573545/mahdi-archin"}, "edited": false, "score": 0, "creation_date": 1566423803, "post_id": 57599424, "comment_id": 101656258, "body": "I think that&#39;s not gonna work, consider the question one more time :)"}], "tags": [], "owner": {"reputation": 144, "user_id": 11587342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48c47e5d5733b7e9c5c61b483784dd10?s=128&d=identicon&r=PG&f=1", "display_name": "Arturas", "link": "https://stackoverflow.com/users/11587342/arturas"}, "is_accepted": false, "score": -1, "last_activity_date": 1566423423, "creation_date": 1566423423, "answer_id": 57599424, "question_id": 57599265, "link": "https://stackoverflow.com/questions/57599265/problem-on-finding-number-with-more-than-500-factors/57599424#57599424", "title": "Problem on finding number with more than 500 factors", "body": "<p>If my calculation is not wrong, you add one more to each next divisor from previous divisor and you get final result.</p>\n\n<pre><code>let prev = 0;\n\nfor(let i=0; i &lt; 500; i++) {\n    prev = prev + i;\n}\nconsole.log(\"AA \", prev);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2062, "user_id": 1182899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a928914efec3608e929fabbc8e9a25e?s=128&d=identicon&r=PG", "display_name": "Vasil Dininski", "link": "https://stackoverflow.com/users/1182899/vasil-dininski"}, "is_accepted": false, "score": 1, "last_activity_date": 1566424703, "creation_date": 1566424703, "answer_id": 57599626, "question_id": 57599265, "link": "https://stackoverflow.com/questions/57599265/problem-on-finding-number-with-more-than-500-factors/57599626#57599626", "title": "Problem on finding number with more than 500 factors", "body": "<p>As you might have noticed, this algorithm might be a bit brute-force. A better one would be combine a few things. Let's assume the number we're looking for is \"n\":</p>\n\n<ol>\n<li>Find all prime numbers in the range [1, square root of n]. You will\nbe iterating over <code>n</code>, so the <a href=\"https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes\" rel=\"nofollow noreferrer\">sieve of\neratosthenes</a>\nwill help in terms of efficiency (you can memoize primes you've already found)</li>\n<li>Given that any number can be expressed as a prime number to some power, multiplied by a prime number to some power, etc. you can find all the combinations of those primes to a power, which are divisors of <code>n</code>.</li>\n</ol>\n\n<p>This would be a more efficient, albeit a more complicated way to find them. You can take a look at this quora answer for more details: <a href=\"https://www.quora.com/What-is-an-efficient-algorithm-to-find-divisors-of-any-number\" rel=\"nofollow noreferrer\">https://www.quora.com/What-is-an-efficient-algorithm-to-find-divisors-of-any-number</a></p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 11953016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb74ec719dca17697d6dc0a78b9154b2?s=128&d=identicon&r=PG&f=1", "display_name": "Paku580", "link": "https://stackoverflow.com/users/11953016/paku580"}, "is_accepted": true, "score": 1, "last_activity_date": 1566471741, "last_edit_date": 1566471741, "creation_date": 1566430327, "answer_id": 57600339, "question_id": 57599265, "link": "https://stackoverflow.com/questions/57599265/problem-on-finding-number-with-more-than-500-factors/57600339#57600339", "title": "Problem on finding number with more than 500 factors", "body": "<p>This code is not very efficient as @Vasil Dininski pointed out but you won't reach the max Integer you just have to wait a while for your program to calculate.</p>\n\n<p>I would recommend to optimize your code e.g. by writing a simple function which returns your number of divisors for your current number.</p>\n\n<p>This could look similar to this:</p>\n\n<pre><code>function numberOfDivisors(num) {\n  var numOfDivisors = 0;\n  var sqrtOfNum = Math.sqrt(num);\n\n  for(var i = 1; i &lt;= sqrtOfNum; i++) {\n    if(num % i == 0) {\n      numOfDivisors += 2;\n    }\n  }\n  // if your number is a perfect square you have to reduce it by one\n  if(sqrtOfNum * sqrtOfNum == num) {\n    numOfDivisors--;\n  }\n  return numOfDivisors;\n}\n</code></pre>\n\n<p>Then you could use this method in your while loop like this:</p>\n\n<pre><code>var maxNumOfDivisors = 500;\nvar num = 0;\nvar i = 1;\n\nwhile(numberOfDivisors(num) &lt; maxNumOfDivisors) {\n  num += i;\n  i++;\n}\n</code></pre>\n\n<p>which would return you the correct triangular number.</p>\n\n<p>Please also note that triangular numbers start at 0 which is why my num is 0.</p>\n"}], "owner": {"reputation": 15, "user_id": 11573545, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JfMExhQ9ne0/AAAAAAAAAAI/AAAAAAAAAEg/izFuC-Ig0NY/photo.jpg?sz=128", "display_name": "Mahdi Archin", "link": "https://stackoverflow.com/users/11573545/mahdi-archin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 57600339, "answer_count": 3, "score": 1, "last_activity_date": 1566471741, "creation_date": 1566422141, "last_edit_date": 1566424003, "question_id": 57599265, "link": "https://stackoverflow.com/questions/57599265/problem-on-finding-number-with-more-than-500-factors", "title": "Problem on finding number with more than 500 factors", "body": "<p>well this is problem number 12 on projecteuler website: </p>\n\n<p>The sequence of triangle numbers is generated by adding the natural numbers. So the 7th triangle number would be 1 + 2 + 3 + 4 + 5 + 6 + 7 = 28. The first ten terms would be:</p>\n\n<p>1, 3, 6, 10, 15, 21, 28, 36, 45, 55, ...</p>\n\n<p>Let us list the factors of the first seven triangle numbers:</p>\n\n<pre><code> 1: 1\n 3: 1,3\n 6: 1,2,3,6\n10: 1,2,5,10\n15: 1,3,5,15\n21: 1,3,7,21\n28: 1,2,4,7,14,28\n</code></pre>\n\n<p>We can see that 28 is the first triangle number to have over five divisors.</p>\n\n<p>What is the value of the first triangle number to have over five hundred divisors?</p>\n\n<p>and here's my code (I'm new to Javascript)</p>\n\n<pre><code>let num = 1;\nlet add= 1;\nlet divisors = [];\n\nwhile (divisors.length &lt; 500){\n  divisors = []\n\n  for(let i = 1; i &lt;= num; i++){\n    if(num % i == 0){\n      divisors.push(i);\n    }\n  }\n\n  add ++;\n  num += add;\n}\nconsole.log(num - add)\n</code></pre>\n\n<p>this code run fine when I change the while loop condition to 300 or less. \nand this code running on Intel i7 Q740 1.75GHz. \nwhen I try it nothing shows up on console and my question is that's because of my CPU and lack of power or my code has issue? I wait about 20 mins and still nothing as result.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 854, "user_id": 1001286, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtSyu.png?s=128&g=1", "display_name": "Pitt", "link": "https://stackoverflow.com/users/1001286/pitt"}, "edited": false, "score": 1, "creation_date": 1566424302, "post_id": 57599264, "comment_id": 101656364, "body": "this QA on Javascript closures may be useful -&gt; <a href=\"https://stackoverflow.com/questions/111102/how-do-javascript-closures-work?rq=1\" title=\"how do javascript closures work\">stackoverflow.com/questions/111102/&hellip;</a>"}, {"owner": {"reputation": 2167, "user_id": 10504469, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MomS5.jpg?s=128&g=1", "display_name": "Jin Lee", "link": "https://stackoverflow.com/users/10504469/jin-lee"}, "edited": false, "score": 2, "creation_date": 1566434314, "post_id": 57599264, "comment_id": 101658485, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/111102/how-do-javascript-closures-work\">How do JavaScript closures work?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 14030, "user_id": 8475054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbf41c4b5aecb1a949936e06368a7c2?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Zigmond", "link": "https://stackoverflow.com/users/8475054/robin-zigmond"}, "is_accepted": false, "score": 1, "last_activity_date": 1566423221, "creation_date": 1566423221, "answer_id": 57599402, "question_id": 57599264, "link": "https://stackoverflow.com/questions/57599264/are-nested-function-and-closure-different-or-same/57599402#57599402", "title": "Are nested function and closure different or same?", "body": "<p>A nested function is necessary to have a closure, but it isn't itself enough. There has to be a variable in the scope of the outer function that the inner function makes use of, and further there has to be a means by which the inner function can be called from somewhere not in the scope of the outer function. One simple way this can happen is by returning the inner function from the outer one:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function makeAdder(x) {\r\n    return function(y) {\r\n        return x + y;\r\n    }\r\n}\r\n\r\nvar addOne = makeAdder(1);\r\nvar addTwo = makeAdder(2);\r\n\r\nconsole.log(addOne(2));\r\nconsole.log(addTwo(2));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Here, in this fairly trivial example, the inner function is said to \"close\" over the outer variable <code>x</code>. Once <code>makeAdder</code> has finished executing, the <code>x</code> variable by the usual rules of scope should have been thrown away - but the value it had when <code>makeAdder</code> was called is \"remembered\", in a sense, by the returned functions <code>addOne</code> and <code>addTwo</code>. This \"remembering\" of a variable is exactly what closure is.</p>\n\n<p>Closure arises all over Javascript programs, often without the developer even necessarily being aware of it. Functions being passed as callbacks to other functions (eg. <code>setTimeout</code>, event handlers, Ajax callbacks...) are a very common feature of the language, and all can naturally lead to closures being formed.</p>\n\n<p>In every case, a nested function is there, as you can't have a closure without one - but a common-or-garden nested function, like:</p>\n\n<pre><code>function f() {\n    ....\n    function g() {\n\n    }\n    ....\n}\n</code></pre>\n\n<p>does not necessarily lead to a closure. (At least, not as the term is usually used. Some would say that technically closure is still happening, but I don't think that use is helpful.) Closure only really arises in this example when the following two conditions also hold:</p>\n\n<ul>\n<li><code>g</code> can be called from outside the scope of <code>f</code></li>\n<li>there is some variable in the scope of <code>f</code> which <code>g</code> accesses and/or alters</li>\n</ul>\n\n<p>I highly recommend you read <a href=\"https://github.com/getify/You-Dont-Know-JS/blob/master/scope%20%26%20closures/ch5.md\" rel=\"nofollow noreferrer\">this</a> for an excellent and detailed overview of what closures are and how they can be used.</p>\n"}], "owner": {"reputation": 1, "user_id": 11959271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/839a1e8e1070c038a1d3ddd15817c704?s=128&d=identicon&r=PG&f=1", "display_name": "akki", "link": "https://stackoverflow.com/users/11959271/akki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "closed_date": 1566538990, "answer_count": 1, "score": 0, "last_activity_date": 1566423221, "creation_date": 1566422126, "question_id": 57599264, "link": "https://stackoverflow.com/questions/57599264/are-nested-function-and-closure-different-or-same", "closed_reason": "Needs more focus", "title": "Are nested function and closure different or same?", "body": "<p>Nested function can also access outer function variables and parameter and same for closure than what is exact diff between them?</p>\n"}, {"tags": ["javascript", "html", "morris.js"], "answers": [{"tags": [], "owner": {"reputation": 1136, "user_id": 8434189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gawtn.jpg?s=128&g=1", "display_name": "mahmoudafer", "link": "https://stackoverflow.com/users/8434189/mahmoudafer"}, "is_accepted": true, "score": 3, "last_activity_date": 1566422287, "creation_date": 1566422287, "answer_id": 57599284, "question_id": 57599250, "link": "https://stackoverflow.com/questions/57599250/error-uncaught-referenceerror-morris-is-not-defined/57599284#57599284", "title": "Error Uncaught ReferenceError: Morris is not defined", "body": "<p>you forgot to add one script line:</p>\n\n<pre><code>&lt;script src=\"//cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>see getting started: <a href=\"https://morrisjs.github.io/morris.js/\" rel=\"nofollow noreferrer\">https://morrisjs.github.io/morris.js/</a></p>\n"}], "owner": {"reputation": 27, "user_id": 11853654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08355cad94116f07c7979bca6ef1a1ab?s=128&d=identicon&r=PG&f=1", "display_name": "Morquecho", "link": "https://stackoverflow.com/users/11853654/morquecho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2246, "favorite_count": 0, "accepted_answer_id": 57599284, "answer_count": 1, "score": 1, "last_activity_date": 1566422287, "creation_date": 1566422032, "question_id": 57599250, "link": "https://stackoverflow.com/questions/57599250/error-uncaught-referenceerror-morris-is-not-defined", "title": "Error Uncaught ReferenceError: Morris is not defined", "body": "<p>I'm trying to imply morris.js but I get the following error:</p>\n\n<p>I tried to implement seeing some tutorials, it really is very easy but so far I get the following</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>new Morris.Line({\r\n  element: 'myfirstchart',\r\n  data: [\r\n    { year: '2008', value: 20 },\r\n    { year: '2009', value: 10 },\r\n    { year: '2010', value: 5 },\r\n    { year: '2011', value: 5 },\r\n    { year: '2012', value: 20 }\r\n  ],\r\n  xkey: 'year',\r\n  ykeys: ['value'],\r\n  labels: ['Value']\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=\"utf-8\"&gt;\r\n    &lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js\"&gt;&lt;/script&gt;\r\n    &lt;script src=\"http://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js\"&gt;&lt;/script&gt;\r\n    &lt;link rel=\"stylesheet\" href=\"~/js/morris.css\"&gt;\r\n    &lt;script src=\"~/js/sweetalert.min.js\" charset=\"utf-8\"&gt;&lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;div class=\"container\"&gt;\r\n        &lt;h2&gt;Costos por proyecto&lt;/h2&gt;\r\n        &lt;hr&gt;\r\n        &lt;div class=\"col-lg-6\"&gt;\r\n            &lt;h2&gt;Costos&lt;/h2&gt;\r\n            &lt;hr&gt;\r\n            &lt;div id=\"myfirstchart\"&gt;&lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=\"col-lg-6\"&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;script src=\"~/js/graficas.js\" charset=\"utf-8\"&gt;&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I get the following error:</p>\n\n<blockquote>\n  <p>Uncaught ReferenceError: Morris is not defined</p>\n</blockquote>\n"}, {"tags": ["javascript", "closures", "pouchdb", "iife"], "comments": [{"owner": {"reputation": 14030, "user_id": 8475054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbf41c4b5aecb1a949936e06368a7c2?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Zigmond", "link": "https://stackoverflow.com/users/8475054/robin-zigmond"}, "edited": false, "score": 1, "creation_date": 1566423465, "post_id": 57599226, "comment_id": 101656161, "body": "what exactly is the error message? <code>boatNumber</code> is certainly in scope everywhere it is used in the code you&#39;ve shown."}, {"owner": {"reputation": 166606, "user_id": 3333, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/99660662e89949a4b53cd97bc199ead1?s=128&d=identicon&r=PG", "display_name": "Paul Tomblin", "link": "https://stackoverflow.com/users/3333/paul-tomblin"}, "reply_to_user": {"reputation": 14030, "user_id": 8475054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbf41c4b5aecb1a949936e06368a7c2?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Zigmond", "link": "https://stackoverflow.com/users/8475054/robin-zigmond"}, "edited": false, "score": 0, "creation_date": 1566424790, "post_id": 57599226, "comment_id": 101656509, "body": "@RobinZigmond updated in question."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1566425029, "post_id": 57599226, "comment_id": 101656579, "body": "I do have the feeling that <code>mymap</code> gets stringified, sent somewhere else, and evaluated there. I guess it has to be pure"}], "answers": [{"comments": [{"owner": {"reputation": 166606, "user_id": 3333, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/99660662e89949a4b53cd97bc199ead1?s=128&d=identicon&r=PG", "display_name": "Paul Tomblin", "link": "https://stackoverflow.com/users/3333/paul-tomblin"}, "edited": false, "score": 0, "creation_date": 1566425934, "post_id": 57599792, "comment_id": 101656845, "body": "The documentation states that I&#39;d need to install another plugin for that. I was hoping to avoid complicating this more than I had to. (By the way, well done for spotting this was a PouchDB problem even though I forgot to tag it as such)."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 166606, "user_id": 3333, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/99660662e89949a4b53cd97bc199ead1?s=128&d=identicon&r=PG", "display_name": "Paul Tomblin", "link": "https://stackoverflow.com/users/3333/paul-tomblin"}, "edited": false, "score": 0, "creation_date": 1566426208, "post_id": 57599792, "comment_id": 101656927, "body": "Well, I just used MongoDB so far (the queries are heavily inspired by that), but IMO it&#39;s really strange that you have to load another library for queries. I mean thats what DBs are all about ... But nevertheless running some JS over a lot of entries seems a very bad idea performance wise, so I&#39;d really try to work with a real db query somehow"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1566426351, "post_id": 57599792, "comment_id": 101656955, "body": "It has to be pure <i>and not close over anything</i>."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1566426426, "post_id": 57599792, "comment_id": 101656973, "body": "@bergi with &quot;pure&quot; I meant &quot;access nothing else except the parameters and the builtins provided by the environment&quot; (I had to dig through quite a lot of documentation just to find <i>nothing</i>."}, {"owner": {"reputation": 166606, "user_id": 3333, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/99660662e89949a4b53cd97bc199ead1?s=128&d=identicon&r=PG", "display_name": "Paul Tomblin", "link": "https://stackoverflow.com/users/3333/paul-tomblin"}, "edited": false, "score": 0, "creation_date": 1566426437, "post_id": 57599792, "comment_id": 101656977, "body": "Oh, and the instructions for installing pouchdb-find are wrong: <code>npm install pouchdb-find</code> returns ENOTFOUND."}, {"owner": {"reputation": 166606, "user_id": 3333, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/99660662e89949a4b53cd97bc199ead1?s=128&d=identicon&r=PG", "display_name": "Paul Tomblin", "link": "https://stackoverflow.com/users/3333/paul-tomblin"}, "edited": false, "score": 0, "creation_date": 1566426706, "post_id": 57599792, "comment_id": 101657040, "body": "I&#39;m running this totally locally, not talking to CouchDB or any back end yet."}], "tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": true, "score": 1, "last_activity_date": 1566426782, "last_edit_date": 1566426782, "creation_date": 1566425713, "answer_id": 57599792, "question_id": 57599226, "link": "https://stackoverflow.com/questions/57599226/iife-returns-map-function-map-cant-use-var/57599792#57599792", "title": "IIFE returns map function, map can&#39;t use var", "body": "<p>The function passed to <code>query</code> gets stringified and sent to the database. Then it gets evaluated there. Thus you cannot access anything from the outside, it has to be pure, so in other words you can only access the <code>doc</code> passed and the <a href=\"https://docs.couchdb.org/en/2.2.0/query-server/javascript.html\" rel=\"nofollow noreferrer\">builtin methods</a> (yes, the docs should really mention that).</p>\n\n<p>As it seems, what you want to do can be done trivially with a regular <code>find()</code>query:</p>\n\n<pre><code>    var boatNumber = $('#add_result_boat_number').val();\n    ro.pdb.find({\n     selector: {\n       boatnumber: boatNumber,\n     },\n     fields: [\"boatClass\", \"p1name\", \"p2name\"]\n    }).then(...)\n</code></pre>\n"}], "owner": {"reputation": 166606, "user_id": 3333, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/99660662e89949a4b53cd97bc199ead1?s=128&d=identicon&r=PG", "display_name": "Paul Tomblin", "link": "https://stackoverflow.com/users/3333/paul-tomblin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 57599792, "answer_count": 1, "score": 0, "last_activity_date": 1566426782, "creation_date": 1566421919, "last_edit_date": 1566425789, "question_id": 57599226, "link": "https://stackoverflow.com/questions/57599226/iife-returns-map-function-map-cant-use-var", "title": "IIFE returns map function, map can&#39;t use var", "body": "<p>I have a function I want to use in a map operation, which compares a local variable with the doc returned from the map. I tried it directly, and I tried it as an IIFE, and both ways it's complaining that map can't find a variable named <code>boatNumber</code>:</p>\n\n<pre><code>   var mymap = (function() {\n        var boatNumber = $('#add_result_boat_number').val();\n        return function(doc) {\n            if (doc.boatnumber == boatNumber) {\n                emit(doc._id, {boatClass: doc.boatClass, p1name: doc.p1name, p2name: doc.p2name});\n            }\n        }\n    })();\n\n    ro.pdb.query(mymap).then(function(response) {\n        var results = response.rows;\n        // do stuff later\n    }).catch(function(error) {\n        ro.reporter(error);\n    });\n</code></pre>\n\n<p>If I replace <code>boatNumber</code> with a constant in the <code>==</code> it works fine. So how do I get the <code>boatNumber</code> to be recognized in the map function?</p>\n\n<p><strong>Update</strong></p>\n\n<pre><code>Error messages are:\nThe user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function.\n</code></pre>\n\n<p>followed by </p>\n\n<pre><code>ReferenceError: \"boatNumber is not defined\"\n    anonymous file:///Users/ptomblin/Dropbox/KayakResults/js/pouchdb-7.1.1.min.js line 7 &gt; Function:5\n    Zn file:///Users/ptomblin/Dropbox/KayakResults/js/pouchdb-7.1.1.min.js:7\n    n file:///Users/ptomblin/Dropbox/KayakResults/js/pouchdb-7.1.1.min.js:7\n    e file:///Users/ptomblin/Dropbox/KayakResults/js/pouchdb-7.1.1.min.js:7\n</code></pre>\n"}, {"tags": ["javascript", "html", "reactjs", "ecmascript-6"], "comments": [{"owner": {"reputation": 2699, "user_id": 5623543, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/41af61a1ad9d740c509d42044e710269?s=128&d=identicon&r=PG&f=1", "display_name": "inertia", "link": "https://stackoverflow.com/users/5623543/inertia"}, "edited": false, "score": 0, "creation_date": 1566421971, "post_id": 57599173, "comment_id": 101655698, "body": "Try this method: <a href=\"https://stackoverflow.com/questions/45167565/does-react-js-support-html5-datalist\" title=\"does react js support html5 datalist\">stackoverflow.com/questions/45167565/&hellip;</a>"}, {"owner": {"reputation": 2699, "user_id": 5623543, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/41af61a1ad9d740c509d42044e710269?s=128&d=identicon&r=PG&f=1", "display_name": "inertia", "link": "https://stackoverflow.com/users/5623543/inertia"}, "edited": false, "score": 0, "creation_date": 1566421998, "post_id": 57599173, "comment_id": 101655708, "body": "Perhaps using onChange instead of onInput"}, {"owner": {"reputation": 1268, "user_id": 8577350, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Em8st.jpg?s=128&g=1", "display_name": "Null isTrue", "link": "https://stackoverflow.com/users/8577350/null-istrue"}, "reply_to_user": {"reputation": 2699, "user_id": 5623543, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/41af61a1ad9d740c509d42044e710269?s=128&d=identicon&r=PG&f=1", "display_name": "inertia", "link": "https://stackoverflow.com/users/5623543/inertia"}, "edited": false, "score": 0, "creation_date": 1566422187, "post_id": 57599173, "comment_id": 101655772, "body": "I tried onChange no dice. I&#39;m wondering how to refactor from the working vanilla JS ex I posted to React."}, {"owner": {"reputation": 2699, "user_id": 5623543, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/41af61a1ad9d740c509d42044e710269?s=128&d=identicon&r=PG&f=1", "display_name": "inertia", "link": "https://stackoverflow.com/users/5623543/inertia"}, "edited": false, "score": 0, "creation_date": 1566422414, "post_id": 57599173, "comment_id": 101655832, "body": "Set the output to a state and output using the state."}], "answers": [{"comments": [{"owner": {"reputation": 1268, "user_id": 8577350, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Em8st.jpg?s=128&g=1", "display_name": "Null isTrue", "link": "https://stackoverflow.com/users/8577350/null-istrue"}, "edited": false, "score": 0, "creation_date": 1566486416, "post_id": 57599407, "comment_id": 101679866, "body": "thanks a lot for the explanation and working example. I really appreciate it."}], "tags": [], "owner": {"reputation": 854, "user_id": 1001286, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtSyu.png?s=128&g=1", "display_name": "Pitt", "link": "https://stackoverflow.com/users/1001286/pitt"}, "is_accepted": true, "score": 2, "last_activity_date": 1566423248, "creation_date": 1566423248, "answer_id": 57599407, "question_id": 57599173, "link": "https://stackoverflow.com/questions/57599173/react-input-range-with-default-step-as-an-array-of-values/57599407#57599407", "title": "React - input range with default step as an array of values", "body": "<p>In this case you can make use of <a href=\"https://reactjs.org/docs/state-and-lifecycle.html\" rel=\"nofollow noreferrer\"><code>state</code> in React</a> to store the current index of your stepped input component, rather than finding the output DOM node and changing it's inner HTML. </p>\n\n<p>Which would makes your <code>handleInputChange</code> function: </p>\n\n<pre><code>handleInputChange = e =&gt; {\n    this.setState({ currentStep: e.currentTarget.value });\n  };\n</code></pre>\n\n<p>React operates on it's own virtual DOM, it changes the names of the HTML attributes on the DOM nodes to a React equivalent -> <a href=\"https://reactjs.org/docs/dom-elements.html\" rel=\"nofollow noreferrer\">https://reactjs.org/docs/dom-elements.html</a>.\nWhich means you'll need to change <code>oninput</code> to <code>onInput</code> in your component.</p>\n\n<p>Here is one possible working version of your React component:</p>\n\n<pre><code>import React from \"react\";\nimport { render } from \"react-dom\";\n\nclass App extends React.Component {\n  values = [10, 25, 50, 75, 100];\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentStepIndex: 0\n    };\n  }\n\n  handleInputChange = e =&gt; {\n    this.setState({ currentStepIndex: e.currentTarget.value });\n  };\n\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;input\n          onInput={this.handleInputChange}\n          type=\"range\"\n          min=\"0\"\n          value={this.state.currentStepIndex}\n          max=\"4\"\n          step=\"1\"\n          list=\"tick-list\"\n        /&gt;\n        &lt;datalist id=\"tick-list\"&gt;\n          &lt;option&gt;0&lt;/option&gt;\n          &lt;option&gt;1&lt;/option&gt;\n          &lt;option&gt;2&lt;/option&gt;\n          &lt;option&gt;3&lt;/option&gt;\n          &lt;option&gt;4&lt;/option&gt;\n        &lt;/datalist&gt;\n        &lt;span id=\"output\"&gt;{this.values[this.state.currentStepIndex]}&lt;/span&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n\nrender(&lt;App /&gt;, document.getElementById(\"root\"));\n</code></pre>\n\n<p><a href=\"https://codesandbox.io/s/blazing-cookies-vc9u8?fontsize=14\" rel=\"nofollow noreferrer\">code sandbox</a></p>\n"}, {"comments": [{"owner": {"reputation": 1268, "user_id": 8577350, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Em8st.jpg?s=128&g=1", "display_name": "Null isTrue", "link": "https://stackoverflow.com/users/8577350/null-istrue"}, "edited": false, "score": 0, "creation_date": 1566486347, "post_id": 57599479, "comment_id": 101679820, "body": "thank you so much for the working solution and codebox example. This is exactly what I was seeking after. I accepted Pitt answer since he posted a bit before."}], "tags": [], "owner": {"reputation": 7965, "user_id": 6242613, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/X5cUu.jpg?s=128&g=1", "display_name": "V. Sambor", "link": "https://stackoverflow.com/users/6242613/v-sambor"}, "is_accepted": false, "score": 2, "last_activity_date": 1566423783, "creation_date": 1566423783, "answer_id": 57599479, "question_id": 57599173, "link": "https://stackoverflow.com/questions/57599173/react-input-range-with-default-step-as-an-array-of-values/57599479#57599479", "title": "React - input range with default step as an array of values", "body": "<p>Here is a working example for your react range: </p>\n\n<pre><code>class App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      rangeValues: [10, 25, 50, 75, 100],\n      currentRangeValue: 0\n    };\n\n    this.handleInputChange = this.handleInputChange.bind(this);\n  }\n\n  handleInputChange = (e) =&gt; {\n    this.setState({ currentRangeValue: e.target.value });\n  };\n\n\n  render() {\n    const { rangeValues, currentRangeValue } = this.state\n    return (\n      &lt;div&gt;\n        &lt;input\n          onChange={this.handleInputChange}\n          type={\"range\"}\n          min={0}\n          defaultValue={0}\n          max={4}\n          step={1}\n          list={\"tick-list\"} /&gt;\n        &lt;datalist id=\"tick-list\"&gt;\n          &lt;option&gt;0&lt;/option&gt;\n          &lt;option&gt;1&lt;/option&gt;\n          &lt;option&gt;2&lt;/option&gt;\n          &lt;option&gt;3&lt;/option&gt;\n          &lt;option&gt;4&lt;/option&gt;\n        &lt;/datalist&gt;\n        &lt;span id=\"output\"&gt;{rangeValues[currentRangeValue]}&lt;/span&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>\n\n<p>Check it here: <a href=\"https://codesandbox.io/s/morning-water-z6fjv?fontsize=14\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/morning-water-z6fjv?fontsize=14</a></p>\n"}], "owner": {"reputation": 1268, "user_id": 8577350, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Em8st.jpg?s=128&g=1", "display_name": "Null isTrue", "link": "https://stackoverflow.com/users/8577350/null-istrue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3439, "favorite_count": 1, "accepted_answer_id": 57599407, "answer_count": 2, "score": -1, "last_activity_date": 1566423783, "creation_date": 1566421603, "last_edit_date": 1566422834, "question_id": 57599173, "link": "https://stackoverflow.com/questions/57599173/react-input-range-with-default-step-as-an-array-of-values", "title": "React - input range with default step as an array of values", "body": "<p>While working on a React Component, I'm trying to set a specific range of values to determine the <code>step</code> on a type range input.</p>\n\n<p>I'm able to reproduce the desired behavior with vanilla HTML and JS i.e.</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;!-- custom step range --&gt;\n&lt;div class=\"step\"&gt;\n  &lt;input id=\"input\" type=\"range\" min=\"0\" value=\"0\" max=\"4\" step=\"1\" list=\"tick-list\"&gt;\n  &lt;datalist id=\"tick-list\"&gt;\n    &lt;option&gt;0&lt;/option&gt;\n    &lt;option&gt;1&lt;/option&gt;\n    &lt;option&gt;2&lt;/option&gt;\n    &lt;option&gt;3&lt;/option&gt;\n    &lt;option&gt;4&lt;/option&gt;\n&lt;/datalist&gt;\n  &lt;span id=\"output\"&gt;&lt;/span&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p>JS</p>\n\n<pre><code>var values = [10,25,50, 75, 100];\n\nvar input = document.getElementById('input'),\n   output = document.getElementById('output');\ninput.oninput = function(){\n    output.innerHTML = values[this.value];\n};\ninput.oninput();\n</code></pre>\n\n<p>see codepen <a href=\"https://codepen.io/tonkihonks/pen/qBWqMNZ\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>However, not able to achieve the same results when trying to wire this same functionality to React. </p>\n\n<p>i.e.</p>\n\n<pre><code>class App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      values : [10, 25, 50, 75, 100]\n    };\n  }\n\n  handleInputChange = () =&gt; {\n    const input = document.querySelector('input'),\n    const output = document.getElementById('output');\n    output = this.state.values;\n  };\n\n\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;input\n          oninput={this.handleInputChange()}\n          type=\"range\"\n          min=\"0\"\n          value=\"0\"\n          max=\"4\"\n          step=\"1\"\n          list=\"tick-list\" /&gt;\n        &lt;datalist id=\"tick-list\"&gt;\n          &lt;option value=\"0\" /&gt;\n          &lt;option value=\"1\" /&gt;\n          &lt;option value=\"2\" /&gt;\n          &lt;option value=\"3\" /&gt;\n          &lt;option value=\"4\" /&gt;\n        &lt;/datalist&gt;\n        &lt;span id=\"output\"&gt;{this.state.values}&lt;/span&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n\nrender(&lt;App /&gt;, document.getElementById('root'));\n\n</code></pre>\n\n<p>The above doesn't let me move the slide nor outputs the steps one at time.</p>\n\n<p><strong>How could I wire this properly using React JS?</strong>\nPs: Feel free to provide an example as a functional component rather than a class.</p>\n"}, {"tags": ["javascript", "arrays", "hashmap", "javascript-objects"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1566424257, "post_id": 57599161, "comment_id": 101656353, "body": "No. JavaScript arrays are JavaScript objects, that&#39;s true. But how these are represented under the hood is decided by the engine implementation, they could be arrays, hash maps, or records. (And usually are, for performance optimisation reasons)."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1566425530, "post_id": 57599161, "comment_id": 101656729, "body": "possible duplicate of <a href=\"https://stackoverflow.com/q/20321047/1048572\">How are JavaScript arrays represented in physical memory?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1566424623, "post_id": 57599279, "comment_id": 101656472, "body": "Arrays don&#39;t really have numbers as keys. Keys are still only strings or symbols. Arrays are just exotic objects that treat <a href=\"https://stackoverflow.com/q/27537677/1048572\">some (numeric) strings</a> specially."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1566424714, "post_id": 57599279, "comment_id": 101656496, "body": "Also, I doubt arrays are represented as linked lists. Did you mean arraylists/vectors?"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1566424728, "post_id": 57599279, "comment_id": 101656498, "body": "@Bergi ah right, thats one of the design decisions I never understood ... and yeah, that statement is quite a vague claim, better to remove it"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1566425297, "post_id": 57599279, "comment_id": 101656654, "body": "I would guess it just emerged from the principles &quot;everything is an object&quot;, &quot;an object has string property names&quot;, and &quot;lets coerce types so that programming is easier&quot;. And now it&#39;s too late to change. (Although engines of course do optimise unnecessary casting roundtrips away)."}], "tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 4, "last_activity_date": 1566424767, "last_edit_date": 1566424767, "creation_date": 1566422200, "answer_id": 57599279, "question_id": 57599161, "link": "https://stackoverflow.com/questions/57599161/does-there-exist-an-array-list-in-javascript-under-the-hood/57599279#57599279", "title": "Does there exist an array/list in JavaScript under the hood?", "body": "<p>JavaScript is an <em>interpreted language</em>. You could write a valid JS engine in many different languages, and thus the specification itself provides a very abstract memory model. That means that objects are <em>A collection of key-value pairs</em> that provide ways to access these pairs, and arrays are <em>exotic objects, that treat numeric keys differently</em>. That's it, the specification doesn't define anything else, thus how this is actually represented in the memory is totally up to the engine.</p>\n\n<p>You are right though that it really makes sense to implement objects as hashtables internally (in some situations), and arrays as real arrays or lists. Most engines use different underlying implementations depending on the way you use the objects / arrays though.</p>\n\n<p>Worth reading:</p>\n\n<p><a href=\"https://v8.dev/blog/elements-kinds\" rel=\"nofollow noreferrer\">Element kinds in v8</a></p>\n\n<p><a href=\"https://v8.dev/blog/fast-properties\" rel=\"nofollow noreferrer\">Fast properties in v8</a></p>\n"}], "owner": {"reputation": 31, "user_id": 11959230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/945eab3e0accea630b79465207580bce?s=128&d=identicon&r=PG&f=1", "display_name": "WhatIsJavaScript", "link": "https://stackoverflow.com/users/11959230/whatisjavascript"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1566424767, "creation_date": 1566421541, "question_id": 57599161, "link": "https://stackoverflow.com/questions/57599161/does-there-exist-an-array-list-in-javascript-under-the-hood", "title": "Does there exist an array/list in JavaScript under the hood?", "body": "<p>I want to understand if there exists a list/Array in JavaScript as opposed to an Array like Object. If there are some resources or info on this I would love that.</p>\n\n<p>So to my understanding, arrays in JavaScript are just objects with the index of the array being a key in the object. But objects are hash maps correct? In which case hash maps takes a key, hashes it to a index and then stores that value at the index in a list/array. This way if we ever need to access a key in the object, we can easy hash the key and go to the array to access the value in constant time.\nBut arrays don't really exist in JavaScript, so is there some array/list like data structure under the hood in JavaScript that we just don't have access to?</p>\n"}, {"tags": ["javascript"], "answers": [{"comments": [{"owner": {"reputation": 332, "user_id": 10718664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8420877cb56311a25c8232e5595e4fa?s=128&d=identicon&r=PG&f=1", "display_name": "Jansindl3r", "link": "https://stackoverflow.com/users/10718664/jansindl3r"}, "edited": false, "score": 0, "creation_date": 1566463399, "post_id": 57599533, "comment_id": 101666645, "body": "Thanks, I understand a bit more! it works. I it still very complex but I will implement it once I understand it. I found out that false in <code>xmlhttp.open(&quot;GET&quot;, xmlFiles[i], false)</code> loads it chronologically it gets the job done as well."}, {"owner": {"reputation": 880, "user_id": 5658702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o95DS.jpg?s=128&g=1", "display_name": "The Witness", "link": "https://stackoverflow.com/users/5658702/the-witness"}, "reply_to_user": {"reputation": 332, "user_id": 10718664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8420877cb56311a25c8232e5595e4fa?s=128&d=identicon&r=PG&f=1", "display_name": "Jansindl3r", "link": "https://stackoverflow.com/users/10718664/jansindl3r"}, "edited": false, "score": 0, "creation_date": 1566464551, "post_id": 57599533, "comment_id": 101667185, "body": "Maybe <code>fetch</code>, which returns Promise by design, would allow you to simplify your code."}], "tags": [], "owner": {"reputation": 880, "user_id": 5658702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o95DS.jpg?s=128&g=1", "display_name": "The Witness", "link": "https://stackoverflow.com/users/5658702/the-witness"}, "is_accepted": true, "score": 3, "last_activity_date": 1566424107, "creation_date": 1566424107, "answer_id": 57599533, "question_id": 57599152, "link": "https://stackoverflow.com/questions/57599152/how-to-load-multiple-local-files-in-pure-js/57599533#57599533", "title": "How to load multiple local files in pure JS", "body": "<p><code>Promise.all</code> allows to pass an array of promises, and when all are resolved then inside <code>then</code> an array with resolved values is passed.</p>\n\n<p>Below, <code>load</code> function doesn\u2019t run a loop, instead file is passed as a param. Then each file is loaded and resolved, and <code>xmlData</code>\u2014now a local variable for <code>then</code> handler\u2014should have what you\u2019re expecting.</p>\n\n<p>For the <code>Promise.all</code> argument we\u2019re mapping each of <code>xmlFiles</code> to a promise with <code>load</code> function. (This could be even <code>Promise.all(xmlFiles.map(load))</code> but I left it more verbose.)</p>\n\n<pre><code>const xmlFiles = ['font.ufo/glyphs/A_.glif', 'font.ufo/glyphs/B.glif']\n\nconst load = (file) =&gt; new Promise((resolve) =&gt; {\n  const request = new XMLHttpRequest()\n  request.open(\"GET\", file)\n  request.onload = function() {\n    resolve(request.responseText);\n  }\n  request.send();\n})\n\nPromise\n  .all(xmlFiles.map((file) =&gt; load(file)))\n  .then(function(xmlData){\n    console.log(xmlData, xmlData.length)\n    console.log('This is printData function')\n  })\n</code></pre>\n\n<p>I wrote this without testing but this should give you an idea at least.</p>\n"}], "owner": {"reputation": 332, "user_id": 10718664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8420877cb56311a25c8232e5595e4fa?s=128&d=identicon&r=PG&f=1", "display_name": "Jansindl3r", "link": "https://stackoverflow.com/users/10718664/jansindl3r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 57599533, "answer_count": 1, "score": 0, "last_activity_date": 1566424559, "creation_date": 1566421476, "question_id": 57599152, "link": "https://stackoverflow.com/questions/57599152/how-to-load-multiple-local-files-in-pure-js", "title": "How to load multiple local files in pure JS", "body": "<p>I am trying to load multiple xml files into variables. Ideally I would like to have list of containing content of unknown number of files. something like this <code>files = [file1.content, file2.content...]</code> I would like to keep it pure JavaScript if possible, but searching through the internet it seems very difficult. It is previewer of xml files that would be run locally and most likely in modern browsers</p>\n\n<pre><code>const xmlFiles = ['font.ufo/glyphs/A_.glif', 'font.ufo/glyphs/B.glif']\nlet xmlData = []\n\nconst load = new Promise(function(printData) {\n  for (i in xmlFiles) {\n    const request = new XMLHttpRequest()\n    request.open(\"GET\",xmlFiles[i])\n    request.onload=function(){\n        xmlData.push(request.responseText)\n    }\n  request.send()\n  }\n  printData()\n})\n\nload.then(function(){\n  console.log(xmlData, xmlData.length)\n  console.log('This is printData function')\n})\n</code></pre>\n\n<p>Now I receive only empty list. Though when I open the console, I see the content. When I ask for length of the list in the then function, it says zero.\nI don't know if I chose the right approach, I very hope so.. please I will appreciate any tips. THANKS!</p>\n"}, {"tags": ["javascript", "window.open", "window.location"], "answers": [{"tags": [], "owner": {"reputation": 19, "user_id": 9918216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/995328d2ab2201c7b23082d010e6bf2f?s=128&d=identicon&r=PG", "display_name": "MKKirk", "link": "https://stackoverflow.com/users/9918216/mkkirk"}, "is_accepted": false, "score": 0, "last_activity_date": 1567105356, "creation_date": 1567105356, "answer_id": 57716407, "question_id": 57599150, "link": "https://stackoverflow.com/questions/57599150/opening-the-same-page-multiple-times-in-different-tabs-using-window-open/57716407#57716407", "title": "Opening the same page multiple times in different tabs using window.open", "body": "<p>Ok, I found a somewhat hacky solution:</p>\n\n<pre><code>var allLinks = document.links; \n$('body').click(function(){\nwindow.open(allLinks.item(12));\nwindow.open(allLinks.item(13));\nwindow.open(allLinks.item(14));\nwindow.open(allLinks.item(14));\n});\n</code></pre>\n\n<p>This opens the 4 necessary links in the tool I am using on just one click.\nNote that the numbers of the links (12-14) are specific to the page in my tool.</p>\n"}], "owner": {"reputation": 19, "user_id": 9918216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/995328d2ab2201c7b23082d010e6bf2f?s=128&d=identicon&r=PG", "display_name": "MKKirk", "link": "https://stackoverflow.com/users/9918216/mkkirk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 523, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567105356, "creation_date": 1566421466, "question_id": 57599150, "link": "https://stackoverflow.com/questions/57599150/opening-the-same-page-multiple-times-in-different-tabs-using-window-open", "title": "Opening the same page multiple times in different tabs using window.open", "body": "<p>I am trying to automate a very manual workflow. To that end, I need to open a specific page containing </p>\n\n<pre><code>workflow_history\n</code></pre>\n\n<p>in the URL. I need to open it 4 times in 4 different tabs. </p>\n\n<p>I want to automate this in a Tampermonkey script to reduce clicking. </p>\n\n<p>I can't simply save these for links in a bookmark bar folder and open all the links using right-click > open all. The links are always different (entries in a database), but they do always contain</p>\n\n<pre><code>workflow_history\n</code></pre>\n\n<p>This is what I have:</p>\n\n<pre><code>(function() {\n'use strict';\nvar isWorkflow = /workflow_history/.test(window.location.href);\nif (isWorkflow) {\nwindow.open(location.href)\n}\n})();\n</code></pre>\n\n<p>The above code results in an endless loop where more and more tabs open until the browser crashes. </p>\n\n<p>I need the script to only open the same page 4 times. How can I stop the loop after 4 iterations?</p>\n"}, {"tags": ["javascript", "reactjs", "scroll"], "comments": [{"owner": {"reputation": 200, "user_id": 1376233, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/62aaa6b7ec0a186c8427b6e11bd1b550?s=128&d=identicon&r=PG", "display_name": "asotog", "link": "https://stackoverflow.com/users/1376233/asotog"}, "edited": false, "score": 0, "creation_date": 1566423021, "post_id": 57599109, "comment_id": 101656007, "body": "scroll speeds depends on your system settings, seems like you need a custom scroll component for specific dom elements"}], "answers": [{"tags": [], "owner": {"reputation": 200, "user_id": 6919130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/900352adabda7298696769fb1250cb37?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Richter", "link": "https://stackoverflow.com/users/6919130/daniel-richter"}, "is_accepted": true, "score": 0, "last_activity_date": 1566430885, "creation_date": 1566430885, "answer_id": 57600399, "question_id": 57599109, "link": "https://stackoverflow.com/questions/57599109/how-to-change-document-scroll-speed-in-react-without-jquery/57600399#57600399", "title": "how to change document scroll speed in react without jquery", "body": "<p>Checkout the answer here: <a href=\"https://stackoverflow.com/questions/42261524/how-to-window-scrollto-with-a-smooth-effect\">How to window.scrollTo() with a smooth effect</a></p>\n\n<pre><code>const btn = document.getElementById('elem');\n\nbtn.addEventListener('click', () =&gt; window.scrollTo({\n  top: 400,\n  behavior: 'smooth',\n}));\n</code></pre>\n"}], "owner": {"reputation": 117, "user_id": 11647219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d1a78542d49b4310963c0012f374a74?s=128&d=identicon&r=PG&f=1", "display_name": "mango", "link": "https://stackoverflow.com/users/11647219/mango"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1710, "favorite_count": 0, "accepted_answer_id": 57600399, "answer_count": 1, "score": 2, "last_activity_date": 1566430885, "creation_date": 1566421187, "question_id": 57599109, "link": "https://stackoverflow.com/questions/57599109/how-to-change-document-scroll-speed-in-react-without-jquery", "title": "how to change document scroll speed in react without jquery", "body": "<p>Is it possible to slow down the scroll speed on certain divs or even just the whole page by using just react?</p>\n\n<p>use refs</p>\n"}, {"tags": ["javascript", "jquery"], "answers": [{"tags": [], "owner": {"reputation": 39660, "user_id": 3880585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8pfp3.png?s=128&g=1", "display_name": "gaetanoM", "link": "https://stackoverflow.com/users/3880585/gaetanom"}, "is_accepted": false, "score": 0, "last_activity_date": 1566421217, "creation_date": 1566421217, "answer_id": 57599115, "question_id": 57599067, "link": "https://stackoverflow.com/questions/57599067/how-to-highlight-all-instances-of-replaced-text/57599115#57599115", "title": "How to highlight all instances of replaced text", "body": "<p>You can use <a href=\"https://api.jquery.com/html/#html-function\" rel=\"nofollow noreferrer\">.html( function )</a> plus <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp\" rel=\"nofollow noreferrer\">new RegExp(pattern[, flags])</a>:</p>\n\n<p>where <strong>g</strong>: stands for global match; find all matches rather than stopping after the first match</p>\n\n<p>The snippet:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let text = \"Lorem ipsum\";\r\nlet newText = \"Lorem ipsum\";\r\n\r\n$(\"div\").html(function(i, str) {\r\n    return str.replace(new RegExp(text, 'g'), \"&lt;span class='highlight'&gt;\"+newText+\"&lt;/span&gt;\");\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.highlight {\r\n    background-color: yellow;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n\r\n&lt;div&gt;\r\n    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\r\n    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 862, "user_id": 4409834, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-G015Bz1NxeA/AAAAAAAAAAI/AAAAAAAAAEc/3QFP2KQPfyQ/photo.jpg?sz=128", "display_name": "Vishnu", "link": "https://stackoverflow.com/users/4409834/vishnu"}, "is_accepted": true, "score": 1, "last_activity_date": 1566421739, "creation_date": 1566421739, "answer_id": 57599191, "question_id": 57599067, "link": "https://stackoverflow.com/questions/57599067/how-to-highlight-all-instances-of-replaced-text/57599191#57599191", "title": "How to highlight all instances of replaced text", "body": "<p>you may do like:-</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(function(){\r\n  \r\nlet textCurrent = $(\"div\").html().trim();\r\nlet text = \"Lorem ipsum\";\r\nlet newText = \"Lorem ipsum\";\r\nlet replaceText = \"&lt;span class='highlight'&gt;\"+newText+\"&lt;/span&gt;\";\r\n  \r\ntextCurrent = textCurrent.replace(new RegExp(text, 'g'), replaceText);\r\n\r\n$(\"div\").html(textCurrent);\r\n  \r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.highlight {\r\n  background:yellow;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div&gt;\r\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\r\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 3074, "user_id": 7253451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIjsy.jpg?s=128&g=1", "display_name": "G.aziz", "link": "https://stackoverflow.com/users/7253451/g-aziz"}, "is_accepted": false, "score": 0, "last_activity_date": 1566481707, "last_edit_date": 1566481707, "creation_date": 1566422526, "answer_id": 57599313, "question_id": 57599067, "link": "https://stackoverflow.com/questions/57599067/how-to-highlight-all-instances-of-replaced-text/57599313#57599313", "title": "How to highlight all instances of replaced text", "body": "<p>using only <code>javascript</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const t = document.querySelector(\".text\");\r\n\r\nt.innerHTML = t.innerText.replace(/ipsum/g, match =&gt; `&lt;span class=\"red\"&gt;${match}&lt;/span&gt;`);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.red {\r\n  color: red;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"text\"&gt;\r\n  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor\r\n  in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Lorem ipsum dolor sit amet, consectetur adipiscing elit,\r\n  sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore\r\n  eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 79, "user_id": 11326108, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tHlwXgdhttQ/AAAAAAAAAAI/AAAAAAAAACE/loERnoknCVc/photo.jpg?sz=128", "display_name": "Carson D", "link": "https://stackoverflow.com/users/11326108/carson-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 57599191, "answer_count": 3, "score": 0, "last_activity_date": 1566481707, "creation_date": 1566420864, "question_id": 57599067, "link": "https://stackoverflow.com/questions/57599067/how-to-highlight-all-instances-of-replaced-text", "title": "How to highlight all instances of replaced text", "body": "<p>I'm trying to highlight all instances within a <code>div</code> that match a string of text. Here's the div: </p>\n\n<pre><code>&lt;div&gt;\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n&lt;/div&gt;\n</code></pre>\n\n<p>I want the string <code>\"Lorem ipsum\"</code> to be highlighted twice, so I use this code:</p>\n\n<pre><code>let textCurrent = $(\"div\").html().trim();\nlet text = \"Lorem ipsum\";\nlet newText = \"Lorem ipsum\";\n\ntextCurrent = textCurrent.replace(text, \"&lt;span class='highlight'&gt;\"+newText+\"&lt;/span&gt;\");\n$(\"div\").html(textCurrent);\n</code></pre>\n\n<p>It highlights the first instance of \"Lorem ipsum\", but the problem is that it ONLY highlights the first instance of \"Lorem ipsum\", not both instances. When I replace the variables <code>text</code> and <code>newText</code> with the actual strings, like so:</p>\n\n<pre><code>textCurrent = textCurrent.replace(/'Lorem ipsum'/g, \"&lt;span class='highlight'&gt;Lorem ipsum&lt;/span&gt;\");\n$(\"div\").html(textCurrent);\n</code></pre>\n\n<p>It works. But how do I highlight all instances while using variables such as <code>text</code> and <code>newText</code>?</p>\n\n<p><a href=\"https://jsfiddle.net/crduling/zmyxtd79/7/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/crduling/zmyxtd79/7/</a></p>\n\n<p>`</p>\n"}, {"tags": ["javascript", "nuxt.js"], "comments": [{"owner": {"reputation": 4010, "user_id": 2825551, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/vCq8n.jpg?s=128&g=1", "display_name": "Jhecht", "link": "https://stackoverflow.com/users/2825551/jhecht"}, "edited": false, "score": 0, "creation_date": 1566421027, "post_id": 57599063, "comment_id": 101655394, "body": "out of sheer &quot;want-to-know&quot;, why do you need to support IE11?"}, {"owner": {"reputation": 14517, "user_id": 239354, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e77a08f46144e1af3354f980911a94c9?s=128&d=identicon&r=PG", "display_name": "Aldarund", "link": "https://stackoverflow.com/users/239354/aldarund"}, "edited": false, "score": 0, "creation_date": 1566423254, "post_id": 57599063, "comment_id": 101656086, "body": "Your first option is exactly what you look for"}, {"owner": {"reputation": 1593, "user_id": 9598207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wOUJ9.jpg?s=128&g=1", "display_name": "Death Waltz", "link": "https://stackoverflow.com/users/9598207/death-waltz"}, "edited": false, "score": 0, "creation_date": 1572358633, "post_id": 57599063, "comment_id": 103529151, "body": "Good job adding the javascript tag to your post. Many newer users are just putting the library they use, not the language itself. Keep that up my man."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 5795285, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hs84TYuNh5A/AAAAAAAAAAI/AAAAAAAAABo/qlViL4G8F4s/photo.jpg?sz=128", "display_name": "zhangchen915", "link": "https://stackoverflow.com/users/5795285/zhangchen915"}, "is_accepted": false, "score": 0, "last_activity_date": 1572358447, "creation_date": 1572358447, "answer_id": 58609198, "question_id": 57599063, "link": "https://stackoverflow.com/questions/57599063/why-isnt-nuxt-transpiling-vendors-app-js/58609198#58609198", "title": "Why isn&#39;t Nuxt transpiling vendors.app.js?", "body": "<p>The reason why is that webpack does nothing transpiling about <code>optimization.splitChunks.cacheGroups</code>.\nSo make sure your dependencies is exported by es5.</p>\n\n<p><a href=\"https://github.com/nuxt/nuxt.js/blob/ff6e6ef6773d8fd732f16de5dfc12adb4d06dbde/packages/webpack/src/config/client.js#L56\" rel=\"nofollow noreferrer\">nuxt splitChunks config</a></p>\n"}], "owner": {"reputation": 53, "user_id": 7402067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6605cf71c6fa44872049756ef151fa56?s=128&d=identicon&r=PG&f=1", "display_name": "Snuglas", "link": "https://stackoverflow.com/users/7402067/snuglas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 872, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572358447, "creation_date": 1566420850, "question_id": 57599063, "link": "https://stackoverflow.com/questions/57599063/why-isnt-nuxt-transpiling-vendors-app-js", "title": "Why isn&#39;t Nuxt transpiling vendors.app.js?", "body": "<p>I'm having some trouble with Nuxt/Webpack transipiling the code that gets bundled in <code>vendors.app.js</code>. Arrow functions and <code>let/const</code> are still being shipped to the browser in this file if they're present in the original lib in <code>node_modules</code>. This is an issue because we need to support IE11.</p>\n\n<p>I've searched everywhere and haven't found a solution. I've tried:</p>\n\n<p>1) <a href=\"https://nuxtjs.org/api/configuration-build/#transpile\" rel=\"nofollow noreferrer\">https://nuxtjs.org/api/configuration-build/#transpile</a></p>\n\n<p>2) <a href=\"https://github.com/nuxt/nuxt.js/issues/3485\" rel=\"nofollow noreferrer\">https://github.com/nuxt/nuxt.js/issues/3485</a></p>\n\n<p>3) Opting out of <code>@nuxt/babel-preset-app</code> and trying my own babel preset/plugin overrides in <code>nuxt.config.js</code></p>\n\n<p>What else can I try?</p>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "comments": [{"owner": {"reputation": 6209, "user_id": 6268914, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-k_sESkabFb4/AAAAAAAAAAI/AAAAAAAAABs/I6HLlmXBUs4/photo.jpg?sz=128", "display_name": "Bryce Howitson", "link": "https://stackoverflow.com/users/6268914/bryce-howitson"}, "edited": false, "score": 1, "creation_date": 1566421012, "post_id": 57599051, "comment_id": 101655390, "body": "Welcome to SO. Would you please update your question with a better description of what you hope will happen? For example, should the element grow/shrink in relation to how far down the page you&#39;ve scrolled? Does it just animate after a specific number of pixels?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11959184, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBGN-11VwuF1hhIWu7Tn5mcEAeeZI2RIFm-7Sh7vQ=k-s128", "display_name": "Adam Leyva", "link": "https://stackoverflow.com/users/11959184/adam-leyva"}, "edited": false, "score": 0, "creation_date": 1566511719, "post_id": 57599331, "comment_id": 101689985, "body": "this actually works great! i see what you mean about it reacting too fast, i&#39;ll play around with it to get it where it looks right. Thanks!"}], "tags": [], "owner": {"reputation": 151, "user_id": 11934035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hQ39v.jpg?s=128&g=1", "display_name": "Marian", "link": "https://stackoverflow.com/users/11934035/marian"}, "is_accepted": true, "score": 0, "last_activity_date": 1566430009, "last_edit_date": 1566430009, "creation_date": 1566422661, "answer_id": 57599331, "question_id": 57599051, "link": "https://stackoverflow.com/questions/57599051/how-can-i-use-scroll-to-modify-css-transform-scale/57599331#57599331", "title": "How can I use scroll to modify CSS transform scale?", "body": "<p>Try this:</p>\n\n<pre><code>let scroll = $(window).scrollTop() / 30 /* Is the ratio */;\nbutton.css(\"transform\", \"scale(\"+ scroll +\", \"+ scroll +\")\");\n</code></pre>\n\n<p>You need to add a ratio because the scale 2 is like double the size and the scroll position is too big.</p>\n"}], "owner": {"reputation": 1, "user_id": 11959184, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBGN-11VwuF1hhIWu7Tn5mcEAeeZI2RIFm-7Sh7vQ=k-s128", "display_name": "Adam Leyva", "link": "https://stackoverflow.com/users/11959184/adam-leyva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 613, "favorite_count": 0, "accepted_answer_id": 57599331, "answer_count": 1, "score": -1, "last_activity_date": 1566452514, "creation_date": 1566420772, "last_edit_date": 1566452514, "question_id": 57599051, "link": "https://stackoverflow.com/questions/57599051/how-can-i-use-scroll-to-modify-css-transform-scale", "title": "How can I use scroll to modify CSS transform scale?", "body": "<p>I want to scale a div using the scroll function. </p>\n\n<p>I can get it to modify the width causing images to get larger but not the scale inside the transform function which is what i need for my design.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n  $(window).scroll(function() {\r\n\r\n      var scroll = $(window).scrollTop();\r\n      $('.layer1').css({\r\n          what goes here to modify transform: scale() ?\r\n        }\r\n\r\n\r\n      })\r\n  });\r\n\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"layer1\"&gt;\r\n  &lt;div class=\"image1\"&gt;\r\n    &lt;img src=\"resources/images/bg/01.jpg\" alt=\"\"&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=\"image2\"&gt;\r\n    &lt;img src=\"resources/images/bg/02.jpg\" alt=\"\"&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=\"image3\"&gt;\r\n    &lt;img src=\"resources/images/bg/03.jpg\" alt=\"\"&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I want the div \"layer1\" to scale dependent on the scroll function but i can't tie it to the scale function alone.</p>\n"}, {"tags": ["javascript", "d3.js", "path"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 1859295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72f6abb03842e3a7ff27051dc12b9df1?s=128&d=identicon&r=PG", "display_name": "user1859295", "link": "https://stackoverflow.com/users/1859295/user1859295"}, "edited": false, "score": 0, "creation_date": 1566500209, "post_id": 57602391, "comment_id": 101686040, "body": "Hi, and thank you for your answer. What I didn&#39;t tell, is that I want my paths to be from point[i] to point[i+1], so make as much 2 points straight lines as my array contains points."}, {"owner": {"reputation": 33, "user_id": 1859295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72f6abb03842e3a7ff27051dc12b9df1?s=128&d=identicon&r=PG", "display_name": "user1859295", "link": "https://stackoverflow.com/users/1859295/user1859295"}, "edited": false, "score": 0, "creation_date": 1566500272, "post_id": 57602391, "comment_id": 101686066, "body": "What made the trick for me is to reduce my data to get an array of two points array by element. But your approche seems to be more in the clean d3 way of doing things"}, {"owner": {"reputation": 33, "user_id": 1859295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72f6abb03842e3a7ff27051dc12b9df1?s=128&d=identicon&r=PG", "display_name": "user1859295", "link": "https://stackoverflow.com/users/1859295/user1859295"}, "edited": false, "score": 0, "creation_date": 1566500831, "post_id": 57602391, "comment_id": 101686295, "body": "like so ... <code>room.selectAll(&#39;path&#39;)         .data(blocks =&gt; blocks.points.reduce((array, current, i) =&gt; {             array[i] = [current]             if (i-1 &gt;= 0) {                 array[i-1].push(current)             }             if (i == blocks.points.length-1) {                 array[i].push(blocks.points[0])             }             return array         },[]))         .enter()         .append(&#39;path&#39;)         .attr(&#39;d&#39;, d =&gt; </code>M${d[0][0]} ${d[0][1]} L${d[1][0]} ${d[1][1]}<code>)         .attr(&#39;stroke&#39;, &#39;yellow&#39;)         .attr(&#39;stroke-width&#39;, 5)</code>"}], "tags": [], "owner": {"reputation": 90540, "user_id": 5768908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wf0PS.jpg?s=128&g=1", "display_name": "Gerardo Furtado", "link": "https://stackoverflow.com/users/5768908/gerardo-furtado"}, "is_accepted": false, "score": 1, "last_activity_date": 1566450464, "creation_date": 1566450464, "answer_id": 57602391, "question_id": 57598991, "link": "https://stackoverflow.com/questions/57598991/data-manipulation-how-can-i-append-path-from-my-data-array/57602391#57602391", "title": "Data manipulation : How can I append path from my data array?", "body": "<p>You only need 2 things:</p>\n\n<ul>\n<li>A line generator;</li>\n<li>Passing the whole <code>points</code> array as the data of each <code>&lt;path&gt;</code>.</li>\n</ul>\n\n<p>Since you have an array of arrays, not objects, the line generator can be as simple as:</p>\n\n<pre><code>const lineGenerator = d3.line();\n</code></pre>\n\n<p>Also, for the <code>data</code> method, we can put all <code>points</code> array inside a single array:</p>\n\n<pre><code>blocks.map(d=&gt;d.points)\n</code></pre>\n\n<p>Here is the demo using your data:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const blocks = [\r\n    { name: 'chambre', x: 0, y: 0, points: [[0,0], [100,100], [245, 45], [63,55]] },\r\n    { name: 'salon', x: 0, y: 0, points: [[50,50], [150,150], [255, 455], [63,555]] },\r\n  ];\r\n  \r\nconst svg = d3.select(\"svg\");\r\n\r\nconst lineGenerator = d3.line();\r\n\r\nconst lines = svg.selectAll(null)\r\n\t.data(blocks.map(d=&gt;d.points))\r\n  .enter()\r\n  .append(\"path\")\r\n  .attr(\"d\", lineGenerator);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>path {\r\n  fill: none;\r\n  stroke: black;\r\n  stroke-width: 2px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.min.js\"&gt;&lt;/script&gt;\r\n&lt;svg width=\"300\" height=\"600\"&gt;&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Have in mind that, for a proper line chart, the data array must be <strong>sorted</strong>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const blocks = [\r\n    { name: 'chambre', x: 0, y: 0, points: [[0,0], [100,100], [245, 45], [63,55]] },\r\n    { name: 'salon', x: 0, y: 0, points: [[50,50], [150,150], [255, 455], [63,555]] },\r\n  ];\r\n  \r\nconst svg = d3.select(\"svg\");\r\n\r\nconst lineGenerator = d3.line();\r\n\r\nconst lines = svg.selectAll(null)\r\n\t.data(blocks.map(d=&gt;d.points.sort((a,b)=&gt; a[0] - b[0])))\r\n  .enter()\r\n  .append(\"path\")\r\n  .attr(\"d\", lineGenerator)\r\n  .style(\"stroke\", (_,i)=&gt; i ? \"red\" : \"blue\")</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>path {\r\n  fill: none;\r\n  stroke-width: 2px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.min.js\"&gt;&lt;/script&gt;\r\n&lt;svg width=\"300\" height=\"600\"&gt;&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 33, "user_id": 1859295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72f6abb03842e3a7ff27051dc12b9df1?s=128&d=identicon&r=PG", "display_name": "user1859295", "link": "https://stackoverflow.com/users/1859295/user1859295"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1566450516, "creation_date": 1566420434, "last_edit_date": 1566450516, "question_id": 57598991, "link": "https://stackoverflow.com/questions/57598991/data-manipulation-how-can-i-append-path-from-my-data-array", "title": "Data manipulation : How can I append path from my data array?", "body": "<p>I want to append paths to a d3.selection. So I use <code>selection.data()</code> to bind the data to the new elements. No problem with that. My data is an array of object, with a key named 'points, which is an array of [x, y] coordinates.\nI can draw circles because circle need only one point (of course) but as soon as I go for path, where more than one point is needed, I don't know how to do. Because the data() returns only one point. I need a way to get the previous data()</p>\n\n<p>index.html</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;head&gt;\n  &lt;meta charset=\"utf-8\"&gt;\n  &lt;link rel=\"stylesheet\" href=\"style.css\"&gt;\n\n  &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"https://d3js.org/d3-dispatch.v1.min.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"https://d3js.org/d3-selection.v1.min.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"https://d3js.org/d3-drag.v1.min.js\"&gt;&lt;/script&gt;\n\n\n&lt;script src=\"https://d3js.org/d3-color.v1.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://d3js.org/d3-dispatch.v1.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://d3js.org/d3-ease.v1.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://d3js.org/d3-interpolate.v1.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://d3js.org/d3-selection.v1.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://d3js.org/d3-timer.v1.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://d3js.org/d3-transition.v1.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://d3js.org/d3-zoom.v1.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://d3js.org/d3-polygon.v1.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://d3js.org/d3-path.v1.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://d3js.org/d3-shape.v1.min.js\"&gt;&lt;/script&gt;\n\n\n\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;script src=\"init.js\"&gt;&lt;/script&gt;\n&lt;script src=\"drawIt.js\"&gt;&lt;/script&gt;\n&lt;script src=\"functions.js\"&gt;&lt;/script&gt;\n&lt;script src=\"polygons.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>polygons.js</p>\n\n<pre><code>blocks = [\n    { name: 'chambre', x: 0, y: 0, points: [[0,0], [100,100], [245, 45], [63,55]] },\n    { name: 'salon', x: 0, y: 0, points: [[50,50], [150,150], [255, 455], [63,555]] },\n  ];\n\n  drag = d3.drag()\n    .on(\"drag\", function(d) {\n      d.x = d3.event.x;\n      d.y = d3.event.y;\n      draw();\n    });\n\n  function draw() {\n    console.log(this)\n    g = plan.selectAll(\"g\")\n      .data(blocks);\n\n    room = g.enter().append(\"g\")\n      .call(drag);\n\n    g.attr(\"transform\", function(d) { return \"translate(\"+d.x+\",\"+d.y+\")\"; });\n\n    room.append(\"polygon\")\n        .attr(\"points\",function(d) { \n            return d.points.map(function(d) {\n                return [d[0],d[1]].join(\",\")\n            }).join(\" \")\n        })\n      .attr(\"fill\", \"pink\")\n      .attr('stroke', 'black')\n\n    room.selectAll('path')\n        .data(blocks =&gt; blocks.points)\n        .enter()\n      .append('circle')\n        .attr('cx', d =&gt; d[0])\n        .attr('cy', d =&gt; d[1])\n        .attr('r', 3)\n        .attr('stroke', 'red')\n        .attr('stroke-width', 5)\n    }\n\n  draw()\n\n\n\n\n\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 823, "user_id": 9157032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be5efaf026881ab3eecab1df1e023f3d?s=128&d=identicon&r=PG&f=1", "display_name": "TimB", "link": "https://stackoverflow.com/users/9157032/timb"}, "edited": false, "score": 2, "creation_date": 1566421075, "post_id": 57598940, "comment_id": 101655412, "body": "How about using setTimeout(function() { // remove the message from the page }, 300000); ?"}, {"owner": {"reputation": 1, "user_id": 11959170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5d2bd31519093af922b036208ba96c7?s=128&d=identicon&r=PG&f=1", "display_name": "Vk12", "link": "https://stackoverflow.com/users/11959170/vk12"}, "reply_to_user": {"reputation": 823, "user_id": 9157032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be5efaf026881ab3eecab1df1e023f3d?s=128&d=identicon&r=PG&f=1", "display_name": "TimB", "link": "https://stackoverflow.com/users/9157032/timb"}, "edited": false, "score": 0, "creation_date": 1566485415, "post_id": 57598940, "comment_id": 101679287, "body": "Hi, I am pretty new to javascript, not exactly sure how I would incorporate that setTimeout function correctly into the code. Do you mind helping out please?"}, {"owner": {"reputation": 823, "user_id": 9157032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be5efaf026881ab3eecab1df1e023f3d?s=128&d=identicon&r=PG&f=1", "display_name": "TimB", "link": "https://stackoverflow.com/users/9157032/timb"}, "edited": false, "score": 0, "creation_date": 1566488391, "post_id": 57598940, "comment_id": 101680864, "body": "Will do later, please be patient."}, {"owner": {"reputation": 823, "user_id": 9157032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be5efaf026881ab3eecab1df1e023f3d?s=128&d=identicon&r=PG&f=1", "display_name": "TimB", "link": "https://stackoverflow.com/users/9157032/timb"}, "edited": false, "score": 0, "creation_date": 1566494817, "post_id": 57598940, "comment_id": 101683763, "body": "Okay... This is a suggestion: <code>if(failureMsg) { var failureParagraph = document.createElement(&quot;P&quot;); failureParagraph.setAttribute(&quot;id&quot;, &quot;failureP&quot;); failureParagraph.appendChild(failureMsg); document.getElementById(&quot;main&quot;).appendChild(failureParagraph&zwnj;&#8203;); setTimeout(function() { document.getElementById(&quot;main&quot;).removeChild(document.getElem&zwnj;&#8203;entById(&quot;failureP&quot;))&zwnj;&#8203;; }, 300000); }</code>"}, {"owner": {"reputation": 823, "user_id": 9157032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be5efaf026881ab3eecab1df1e023f3d?s=128&d=identicon&r=PG&f=1", "display_name": "TimB", "link": "https://stackoverflow.com/users/9157032/timb"}, "edited": false, "score": 0, "creation_date": 1566495199, "post_id": 57598940, "comment_id": 101683902, "body": "First checks if failureMsg is not a value considered false, aka null, 0, &quot;&quot;, false, undefined... if so, creates a new paragraph with the errorMsg as text body and id failureP. This gets appended to an element with the id main, but could get inserted anywhere basically. Then setTimeout() gets called. It&#39;ll wait 300000 ms, so 300 seconds or 5 minutes, then will call the function passed as first parameter, deleting the paragraph. Note: You could also use the timeout variable as parameter two instead of a hardcoded value."}, {"owner": {"reputation": 1, "user_id": 11959170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5d2bd31519093af922b036208ba96c7?s=128&d=identicon&r=PG&f=1", "display_name": "Vk12", "link": "https://stackoverflow.com/users/11959170/vk12"}, "reply_to_user": {"reputation": 823, "user_id": 9157032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be5efaf026881ab3eecab1df1e023f3d?s=128&d=identicon&r=PG&f=1", "display_name": "TimB", "link": "https://stackoverflow.com/users/9157032/timb"}, "edited": false, "score": 0, "creation_date": 1566574544, "post_id": 57598940, "comment_id": 101712111, "body": "I tried adding your portion of the code to the end of the script and still no success :("}, {"owner": {"reputation": 823, "user_id": 9157032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be5efaf026881ab3eecab1df1e023f3d?s=128&d=identicon&r=PG&f=1", "display_name": "TimB", "link": "https://stackoverflow.com/users/9157032/timb"}, "edited": false, "score": 0, "creation_date": 1566578449, "post_id": 57598940, "comment_id": 101713936, "body": "My code is just a suggestion. As your code snippet is pretty brief and I&#39;m unsure where exactly you want the failureMsg to appear, it&#39;s hard to deliver more precise code. However, looking at your code once again, I guess you&#39;d have to look at the qequest attribute msg at the page you redirect to instead of at the variable failure Msg if I get this correctly. Also, have you tested with a shorter interval as well?"}, {"owner": {"reputation": 1, "user_id": 11959170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5d2bd31519093af922b036208ba96c7?s=128&d=identicon&r=PG&f=1", "display_name": "Vk12", "link": "https://stackoverflow.com/users/11959170/vk12"}, "reply_to_user": {"reputation": 823, "user_id": 9157032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be5efaf026881ab3eecab1df1e023f3d?s=128&d=identicon&r=PG&f=1", "display_name": "TimB", "link": "https://stackoverflow.com/users/9157032/timb"}, "edited": false, "score": 0, "creation_date": 1566581878, "post_id": 57598940, "comment_id": 101715316, "body": "Here is the beginning part"}, {"owner": {"reputation": 1, "user_id": 11959170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5d2bd31519093af922b036208ba96c7?s=128&d=identicon&r=PG&f=1", "display_name": "Vk12", "link": "https://stackoverflow.com/users/11959170/vk12"}, "reply_to_user": {"reputation": 823, "user_id": 9157032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be5efaf026881ab3eecab1df1e023f3d?s=128&d=identicon&r=PG&f=1", "display_name": "TimB", "link": "https://stackoverflow.com/users/9157032/timb"}, "edited": false, "score": 0, "creation_date": 1566581973, "post_id": 57598940, "comment_id": 101715344, "body": "var REDIRECT_WEBCLOCK = true var defaultEmployee = &quot;WORKFORCE&quot;;  Only used if there is an error and want to display the failureMsg var inactiveUserRole = &quot;TERMINATED_EMPLOYEE_GENERAL&quot;; var failureMsg = &quot;You do not have access to the Time &amp; Attendance system.  If you have any questions, please contact your local Human Resources department.&quot;; var customParameter;                // Used for a custom request parameter var CompanyName = &quot;&quot;; var timeout=600; var ENC_METHOD = &quot;SSO&quot;; DEBUG = true;  // set to true for extra debugging messages in server_log.txt (Recommend false)"}, {"owner": {"reputation": 1, "user_id": 11959170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5d2bd31519093af922b036208ba96c7?s=128&d=identicon&r=PG&f=1", "display_name": "Vk12", "link": "https://stackoverflow.com/users/11959170/vk12"}, "reply_to_user": {"reputation": 823, "user_id": 9157032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be5efaf026881ab3eecab1df1e023f3d?s=128&d=identicon&r=PG&f=1", "display_name": "TimB", "link": "https://stackoverflow.com/users/9157032/timb"}, "edited": false, "score": 0, "creation_date": 1566581999, "post_id": 57598940, "comment_id": 101715359, "body": "if (DEBUG) {   includePolicy(&quot;SSO_DEBUG_LIBRARY&quot;); }  var authValid = false; var processor = new SSOProcessor(ENC_METHOD);   if( processor.validateSSOURL()){   try{     processor.parseRequest(timeout, CompanyName, customParameter);     if( !processor.isValid )       throw &quot;Error parsing request: &quot; + processor.invalidMessage;      cat.info(&quot;Processing request for user: &quot; + processor.user);       var userInfo = new UserInfo()      if( ! userInfo.getUserSSO(processor.user)) throw &quot;User not found&quot;;     if( ! userInfo.isAbleToLogin())            throw &quot;User not able to login&quot;;"}, {"owner": {"reputation": 1, "user_id": 11959170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5d2bd31519093af922b036208ba96c7?s=128&d=identicon&r=PG&f=1", "display_name": "Vk12", "link": "https://stackoverflow.com/users/11959170/vk12"}, "reply_to_user": {"reputation": 823, "user_id": 9157032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be5efaf026881ab3eecab1df1e023f3d?s=128&d=identicon&r=PG&f=1", "display_name": "TimB", "link": "https://stackoverflow.com/users/9157032/timb"}, "edited": false, "score": 0, "creation_date": 1566582013, "post_id": 57598940, "comment_id": 101715364, "body": "authValid = true;     results.put(&quot;result&quot;, processor.user );"}, {"owner": {"reputation": 823, "user_id": 9157032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be5efaf026881ab3eecab1df1e023f3d?s=128&d=identicon&r=PG&f=1", "display_name": "TimB", "link": "https://stackoverflow.com/users/9157032/timb"}, "edited": false, "score": 0, "creation_date": 1566582645, "post_id": 57598940, "comment_id": 101715608, "body": "I see. As far as I can tell, you&#39;re creating a Single Sign On service; maybe by including a library. After the user signed on, you&#39;re redirecting to a page; the results from sign on (be it success or otherwise) get stored in a... dictionary? You&#39;d have to check if the dictionary key msg exists. And if so somewhere add the value of msg (aka failureMsg) somewhere in your html. Then call setTimeout, to make JavaScript remove it after 5 minutes. You&#39;ll have to modify my example above to suit your code but the functionality is there as far as I can tell."}], "owner": {"reputation": 1, "user_id": 11959170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5d2bd31519093af922b036208ba96c7?s=128&d=identicon&r=PG&f=1", "display_name": "Vk12", "link": "https://stackoverflow.com/users/11959170/vk12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566429141, "creation_date": 1566420092, "last_edit_date": 1566429141, "question_id": 57598940, "link": "https://stackoverflow.com/questions/57598940/how-to-display-a-message-for-a-controlled-amount-of-time-like-5-minutes", "title": "how to display a message for a controlled amount of time like 5 minutes", "body": "<p>I would like the message below to display for 5 minutes.</p>\n\n<p>\"You do not have access to the Time &amp; Attendance system.  If you have any questions, please contact your local Human Resources department.\"</p>\n\n<p>I have tried increasing the timeout variable to 300000. </p>\n\n<pre><code>    var failureMsg = \"You do not have access to the Time &amp; Attendance system.  If you have any questions, please contact your local Human Resources department.\";\n    var customParameter;                // Used for a custom request parameter\n    var CompanyName = \"\";\n    var timeout=600;\n\n\n        if(userInfo.isWebClock())  //If webclock employee, then direct to webclock\n          (REDIRECT_WEBCLOCK) ? results.put(\"action\", \"WebClock\") : results.put(\"action\", \"ApplicationMainPage\");\n        else\n          results.put(\"action\", \"ApplicationMainPage\"); \n        } catch(error){\n          cat.error(\"Unexpected error in SSO script:\" + error  );\n        } finally {\n          if(! authValid){\n              cat.error(\"** Information does not pass validation\"  );\n              if(defaultEmployee != \"\"){  \n                results.put(\"result\", defaultEmployee);\n                request.setAttribute(\"msg\", failureMsg );\n                results.put(\"action\", \"failureWithMsg\");\n\n              }\n          }\n        }\n    }\n</code></pre>\n\n<p>If the failure message is true, the user should see this message for 5 minutes -\"You do not have access to the Time &amp; Attendance system.  If you have any questions, please contact your local Human Resources <code>enter code here</code> department.\";</p>\n"}, {"tags": ["javascript", "canvas", "html5-canvas"], "answers": [{"comments": [{"owner": {"reputation": 579, "user_id": 3094783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13974587bd73a2e45f9b8c4040fa2639?s=128&d=identicon&r=PG", "display_name": "Synthetx", "link": "https://stackoverflow.com/users/3094783/synthetx"}, "edited": false, "score": 0, "creation_date": 1566437443, "post_id": 57600702, "comment_id": 101659003, "body": "Great answer but wouldn&#39;t it be better to use save() and restore() instead of manually resetting just in case &#39;default&#39; isn&#39;t the previous state..."}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "reply_to_user": {"reputation": 579, "user_id": 3094783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13974587bd73a2e45f9b8c4040fa2639?s=128&d=identicon&r=PG", "display_name": "Synthetx", "link": "https://stackoverflow.com/users/3094783/synthetx"}, "edited": false, "score": 0, "creation_date": 1566438206, "post_id": 57600702, "comment_id": 101659114, "body": "@Synthetx <code>save()</code> saves all the properties of the context, that is a big object, <code>restore</code> will reapply them all, that&#39;s a lot of side-effects. I never use <code>save()</code> and <code>restore()</code> and always prefer setting only the properties I used and cleaning right after my code. This improves greatly the perfs. The only use case for save and restore is to handle clipping areas, but even this I almost never use and prefer dealing with compositing instead."}, {"owner": {"reputation": 2645, "user_id": 796611, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/37zJw.png?s=128&g=1", "display_name": "Shan Robertson", "link": "https://stackoverflow.com/users/796611/shan-robertson"}, "edited": false, "score": 0, "creation_date": 1566491246, "post_id": 57600702, "comment_id": 101682294, "body": "really great answer, thank you! This version performs a lot better too!"}, {"owner": {"reputation": 579, "user_id": 3094783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13974587bd73a2e45f9b8c4040fa2639?s=128&d=identicon&r=PG", "display_name": "Synthetx", "link": "https://stackoverflow.com/users/3094783/synthetx"}, "edited": false, "score": 0, "creation_date": 1566506553, "post_id": 57600702, "comment_id": 101688453, "body": "@Kaiido Good to know! Thanks for clarifying."}], "tags": [], "owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "is_accepted": true, "score": 5, "last_activity_date": 1566434550, "creation_date": 1566434550, "answer_id": 57600702, "question_id": 57598915, "link": "https://stackoverflow.com/questions/57598915/canvas-pixelation-adjust-pixel-size/57600702#57600702", "title": "Canvas Pixelation - Adjust pixel size", "body": "<p>The best for this kind of effect is to simply use <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/drawImage\" rel=\"noreferrer\"><code>drawImage</code></a> and let the browser handle the pixelation thanks to the nearest-neighbor anti-aliasing algorithm that can be set by changing the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/imageSmoothingEnabled\" rel=\"noreferrer\"><code>imageSmoothingEnabled</code></a> property to false.</p>\n\n<p>It then becomes a two step process to pixelate an image at any <em>pixel_size</em>: </p>\n\n<ul>\n<li><p>draw the full quality image (or canvas / video ...) at its original size / <em>pixel_size</em>.<br>\nAt this stage, each \"pixel\" is one pixel large.</p></li>\n<li><p>draw this small image again but up-scaled by pixel_size. To do so, you just need to draw the canvas over itself.<br>\nEach pixel is now <em>pixel_size</em> large.</p></li>\n</ul>\n\n<p>Instead of dealing with hard to read many parameters of drawImage, we can deal the scaling quite easily by just using <code>ctx.scale()</code> method.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const canvas = document.getElementById('canvas');\r\nconst ctx = canvas.getContext('2d');\r\n\r\nfunction drawPixelated( source, pixel_size ) {\r\n  // scale down\r\n  ctx.scale(1 / pixel_size, 1 / pixel_size)\r\n  ctx.drawImage(source, 0, 0);\r\n  // make next drawing erase what's currently on the canvas\r\n  ctx.globalCompositeOperation = 'copy';\r\n  // nearest-neighbor\r\n  ctx.imageSmoothingEnabled = false;\r\n  // scale up\r\n  ctx.setTransform(pixel_size, 0, 0, pixel_size, 0, 0);\r\n  ctx.drawImage(canvas, 0, 0);\r\n  \r\n  // reset all to defaults\r\n  ctx.setTransform(1, 0, 0, 1, 0, 0);\r\n  ctx.globalCompositeOperation = 'source-over';\r\n  ctx.imageSmoothingEnabled = true;\r\n}\r\n\r\nconst img = new Image();\r\nimg.onload = animeLoop;\r\nimg.src = \"https://upload.wikimedia.org/wikipedia/commons/4/47/PNG_transparency_demonstration_1.png\";\r\n\r\nlet size = 1;\r\nlet speed = 0.1;\r\nfunction animeLoop() {\r\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n  size += speed;\r\n  if(size &gt; 30 || size &lt;= 1) {\r\n    speed *= -1\r\n  }\r\n\r\n  drawPixelated( img, size );\r\n\r\n  requestAnimationFrame(animeLoop);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id=\"canvas\" width=\"800\" height=\"600\"&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Now for the ones that come with a real need to use an ImageData, for instance because they are <em>generating</em> pixel-art, then know that you can simply use the same technique:</p>\n\n<ul>\n<li>put your ImageData with each pixel being 1 pixel large.</li>\n<li>scale your context to pixel_size</li>\n<li>draw your canvas over itself upscaled</li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const canvas = document.getElementById('canvas');\r\nconst ctx = canvas.getContext('2d');\r\n\r\nfunction putPixelated( imageData, pixel_size ) {\r\n  ctx.putImageData(imageData, 0, 0);\r\n  // make next drawing erase what's currently on the canvas\r\n  ctx.globalCompositeOperation = 'copy';\r\n  // nearest-neighbor\r\n  ctx.imageSmoothingEnabled = false;\r\n  // scale up\r\n  ctx.setTransform(pixel_size, 0, 0, pixel_size, 0, 0);\r\n  ctx.drawImage(canvas, 0, 0);\r\n  \r\n  // reset all to defaults\r\n  ctx.setTransform(1, 0, 0, 1, 0, 0);\r\n  ctx.globalCompositeOperation = 'source-over';\r\n  ctx.imageSmoothingEnabled = true;\r\n}\r\n\r\nconst img = new ImageData(16, 16);\r\ncrypto.getRandomValues(img.data);\r\n\r\nlet size = 1;\r\nlet speed = 0.1;\r\n\r\nanimeLoop();\r\n\r\nfunction animeLoop() {\r\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n  size += speed;\r\n  if(size &gt; 30 || size &lt;= 1) {\r\n    speed *= -1\r\n  }\r\n\r\n  putPixelated( img, size );\r\n\r\n  requestAnimationFrame(animeLoop);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id=\"canvas\" width=\"800\" height=\"600\"&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 2645, "user_id": 796611, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/37zJw.png?s=128&g=1", "display_name": "Shan Robertson", "link": "https://stackoverflow.com/users/796611/shan-robertson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 57600702, "answer_count": 1, "score": 2, "last_activity_date": 1566434550, "creation_date": 1566419972, "question_id": 57598915, "link": "https://stackoverflow.com/questions/57598915/canvas-pixelation-adjust-pixel-size", "title": "Canvas Pixelation - Adjust pixel size", "body": "<p>I've got a script that cycle's through images. The images start pixelated and then when they are in view, become unpixelated. I achieve that by calling this function <code>x</code> amount of times with <code>requestAnimationFrame</code></p>\n\n<pre><code>Images.prototype.setPixels = function() {\n    var sw          = this.imageWidth,\n        sh          = this.imageHeight,\n        imageData   = this.context.getImageData( 0, 0, sw, sh ),\n        data        = imageData.data,\n        y, x, n, m;\n\n    for ( y = 0; y &lt; sh; y += this.pixelation ) {\n        for ( x = 0; x &lt; sw; x += this.pixelation ) {\n\n            var red = data[((sw * y) + x) * 4];\n            var green = data[((sw * y) + x) * 4 + 1];\n            var blue = data[((sw * y) + x) * 4 + 2];\n\n            for ( n = 0; n &lt; this.pixelation; n++ ) {\n                for ( m = 0; m &lt; this.pixelation; m++ ) {\n                    if ( x + m &lt; sw ) {\n                        data[((sw * (y + n)) + (x + m)) * 4] = red;\n                        data[((sw * (y + n)) + (x + m)) * 4 + 1] = green;\n                        data[((sw * (y + n)) + (x + m)) * 4 + 2] = blue;\n                    }\n                }\n            }\n        }\n    }\n\n    this.context.putImageData( imageData, 0, 0 );\n}\n</code></pre>\n\n<p><strong>Question: How can I make the individual pixels larger blocks than they are right now.</strong> Right now they are pretty small, and the effect is a little jarring. I'm hoping to fix this by having less pixel blocks on the screen, by making them bigger. </p>\n\n<p>I hope this makes sense, I'm fairly green with canvas, so anything you could do to point me in the right direction would be great!</p>\n"}, {"tags": ["javascript", "html", "css", "angular"], "comments": [{"owner": {"reputation": 1138, "user_id": 6798006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/237d47b9e57a0ddd2493ab5b400dc5dc?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan Anlezark", "link": "https://stackoverflow.com/users/6798006/dylan-anlezark"}, "edited": false, "score": 0, "creation_date": 1566425804, "post_id": 57598910, "comment_id": 101656809, "body": "Looks like your filepath is incorrect, try: assuming your in navbar.component,ts ../assets/img/intro.jpg"}, {"owner": {"reputation": 27, "user_id": 10641312, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L3ryk.png?s=128&g=1", "display_name": "Erick91", "link": "https://stackoverflow.com/users/10641312/erick91"}, "reply_to_user": {"reputation": 1138, "user_id": 6798006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/237d47b9e57a0ddd2493ab5b400dc5dc?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan Anlezark", "link": "https://stackoverflow.com/users/6798006/dylan-anlezark"}, "edited": false, "score": 0, "creation_date": 1566480762, "post_id": 57598910, "comment_id": 101676404, "body": "I already tried to put the route like this and he claims me for the <b>&quot;..&quot;</b>"}, {"owner": {"reputation": 1138, "user_id": 6798006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/237d47b9e57a0ddd2493ab5b400dc5dc?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan Anlezark", "link": "https://stackoverflow.com/users/6798006/dylan-anlezark"}, "edited": false, "score": 0, "creation_date": 1566512269, "post_id": 57598910, "comment_id": 101690105, "body": "have you tried wrapping your path in &#39;&#39; so it would be: &#39;../assets/img/intro.jpg&#39;"}, {"owner": {"reputation": 27, "user_id": 10641312, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L3ryk.png?s=128&g=1", "display_name": "Erick91", "link": "https://stackoverflow.com/users/10641312/erick91"}, "reply_to_user": {"reputation": 1138, "user_id": 6798006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/237d47b9e57a0ddd2493ab5b400dc5dc?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan Anlezark", "link": "https://stackoverflow.com/users/6798006/dylan-anlezark"}, "edited": false, "score": 0, "creation_date": 1566568007, "post_id": 57598910, "comment_id": 101708756, "body": "I found the correct path was: <b>&quot;../../../assets/img/intro.jpg&quot;</b>, but it still doesn&#39;t show the image as background"}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 10641312, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L3ryk.png?s=128&g=1", "display_name": "Erick91", "link": "https://stackoverflow.com/users/10641312/erick91"}, "edited": false, "score": 0, "creation_date": 1566421538, "post_id": 57598989, "comment_id": 101655561, "body": "When you remove the <b>&quot;/&quot;</b> you claim that you do not own it before the route assets/img/intro.jpg"}], "tags": [], "owner": {"reputation": 117, "user_id": 7916213, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209390167577227/picture?type=large", "display_name": "Pablo", "link": "https://stackoverflow.com/users/7916213/pablo"}, "is_accepted": false, "score": 0, "last_activity_date": 1566420431, "creation_date": 1566420431, "answer_id": 57598989, "question_id": 57598910, "link": "https://stackoverflow.com/questions/57598910/angular-doesnt-recognize-the-static-path-of-an-image-from-css3/57598989#57598989", "title": "Angular doesn&#39;t recognize the static path of an image from css3", "body": "<p>Try</p>\n\n<pre><code>.home-inner {\n  background-image: url(assets/img/intro.jpg);\n}\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 10641312, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L3ryk.png?s=128&g=1", "display_name": "Erick91", "link": "https://stackoverflow.com/users/10641312/erick91"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566420431, "creation_date": 1566419936, "question_id": 57598910, "link": "https://stackoverflow.com/questions/57598910/angular-doesnt-recognize-the-static-path-of-an-image-from-css3", "title": "Angular doesn&#39;t recognize the static path of an image from css3", "body": "<p>I have tried to assign an image to a div through css style, the problem is that I tried to reach the path of the static file but it is not possible to recognize the route that I indicated... the css code is as follows:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.home-inner {\r\n  background-image: url(./assets/img/intro.jpg)\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This is an image of the project in which the path of the assets folder appears and where the image is stored..</p>\n\n<p><a href=\"https://i.stack.imgur.com/MxFoJ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>I have been trying in many ways to add the image with the background-image but I am not sure why it does not recognize the path of that image</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 39660, "user_id": 3880585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8pfp3.png?s=128&g=1", "display_name": "gaetanoM", "link": "https://stackoverflow.com/users/3880585/gaetanom"}, "edited": false, "score": 5, "creation_date": 1566419873, "post_id": 57598891, "comment_id": 101654953, "body": "....double it: \\\\"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11244441"}, "reply_to_user": {"reputation": 39660, "user_id": 3880585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8pfp3.png?s=128&g=1", "display_name": "gaetanoM", "link": "https://stackoverflow.com/users/3880585/gaetanom"}, "edited": false, "score": 0, "creation_date": 1566419977, "post_id": 57598891, "comment_id": 101654995, "body": "Can you edit it?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11244441"}, "reply_to_user": {"reputation": 39660, "user_id": 3880585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8pfp3.png?s=128&g=1", "display_name": "gaetanoM", "link": "https://stackoverflow.com/users/3880585/gaetanom"}, "edited": false, "score": 1, "creation_date": 1566420115, "post_id": 57598891, "comment_id": 101655039, "body": "Thanks..Working good"}], "answers": [{"comments": [{"owner": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "edited": false, "score": 0, "creation_date": 1566420017, "post_id": 57598920, "comment_id": 101655011, "body": "For latest browser versions, yes. And unless you&#39;re using IE. :-/"}], "tags": [], "owner": {"reputation": 3074, "user_id": 7253451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIjsy.jpg?s=128&g=1", "display_name": "G.aziz", "link": "https://stackoverflow.com/users/7253451/g-aziz"}, "is_accepted": true, "score": 2, "last_activity_date": 1566420093, "last_edit_date": 1566420093, "creation_date": 1566419994, "answer_id": 57598920, "question_id": 57598891, "link": "https://stackoverflow.com/questions/57598891/how-to-add-symbol-in-a-string-using-javascript/57598920#57598920", "title": "How to add symbol in a string using javascript", "body": "<p>you can do it this way</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var jhon= \"michel\";\r\nvar test= `${jhon}\\\\robert`;\r\n\r\n//for old browsers\r\n\r\nvar test2 =jhon +\"\\\\\"+ \"robert\"; \r\n\r\nconsole.log(test)\r\nconsole.log(test2)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 4916, "user_id": 1507691, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/NRfxQ.jpg?s=128&g=1", "display_name": "Zak", "link": "https://stackoverflow.com/users/1507691/zak"}, "is_accepted": false, "score": 2, "last_activity_date": 1566420016, "creation_date": 1566420016, "answer_id": 57598926, "question_id": 57598891, "link": "https://stackoverflow.com/questions/57598891/how-to-add-symbol-in-a-string-using-javascript/57598926#57598926", "title": "How to add symbol in a string using javascript", "body": "<p><code>\\</code> is reserved as an <code>escape</code> character -- You you have to, in essence, escape the escape character. IE</p>\n\n<pre><code>var test=jhon +\"\\\\\"+ \"robert\"; \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2829, "user_id": 6388552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJiGS.jpg?s=128&g=1", "display_name": "ths", "link": "https://stackoverflow.com/users/6388552/ths"}, "is_accepted": false, "score": 2, "last_activity_date": 1566420096, "creation_date": 1566420096, "answer_id": 57598941, "question_id": 57598891, "link": "https://stackoverflow.com/questions/57598891/how-to-add-symbol-in-a-string-using-javascript/57598941#57598941", "title": "How to add symbol in a string using javascript", "body": "<p>By doing <code>test=jhon +\"\\\"+ \"robert\"</code> you're just escaping the <code>\"</code> character (which generates an error in that case). Instead, you should write the <code>\\</code> two times.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var jhon = \"michel\",\r\n  test = jhon + \"\\\\\" + \"robert\";\r\n\r\nconsole.log(test); /** output: michel\\robert **/</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11244441"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 57598920, "answer_count": 3, "score": -1, "last_activity_date": 1566420096, "creation_date": 1566419838, "last_edit_date": 1566419937, "question_id": 57598891, "link": "https://stackoverflow.com/questions/57598891/how-to-add-symbol-in-a-string-using-javascript", "title": "How to add symbol in a string using javascript", "body": "<p>I am trying to add \\ in a string but not working.</p>\n\n<pre><code>var jhon=\"michel\";\nvar test=jhon +\"\\\"+ \"robert\";\n\nalert(test)\n</code></pre>\n\n<p>How to resolve this issue?</p>\n"}, {"tags": ["javascript", "node.js", "axios", "gfycat"], "answers": [{"tags": [], "owner": {"reputation": 1457, "user_id": 5132456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3b3bb3a7e7ee0a331e74bd428a434401?s=128&d=identicon&r=PG&f=1", "display_name": "wotanii", "link": "https://stackoverflow.com/users/5132456/wotanii"}, "is_accepted": false, "score": 0, "last_activity_date": 1576493758, "creation_date": 1576493758, "answer_id": 59355193, "question_id": 57598866, "link": "https://stackoverflow.com/questions/57598866/uploading-a-video-to-gfycat-using-node-js-returns-notfoundo-from-the-gfycat-ap/59355193#59355193", "title": "Uploading a video to Gfycat using node.js returns `NotFoundo` from the Gfycat API", "body": "<p>It may be a bug with gfycat. I often get it during rush-hours when I think their servers are overloaded. </p>\n\n<p>My solution: Start all over a couple of times after waiting a short time-out. That's what \"works\" for me. </p>\n\n<p>Also you may want to try a different video. Maybe they can't decode your file. </p>\n"}], "owner": {"reputation": 157, "user_id": 5900486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35eb0f96ddbeb9c7e5c314e766ead3fc?s=128&d=identicon&r=PG", "display_name": "Sidewinder", "link": "https://stackoverflow.com/users/5900486/sidewinder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576493758, "creation_date": 1566419738, "question_id": 57598866, "link": "https://stackoverflow.com/questions/57598866/uploading-a-video-to-gfycat-using-node-js-returns-notfoundo-from-the-gfycat-ap", "title": "Uploading a video to Gfycat using node.js returns `NotFoundo` from the Gfycat API", "body": "<p>I'm building a node app that uses <a href=\"http://developers.gfycat.com/api/?curl#checking-the-status-of-your-upload\" rel=\"nofollow noreferrer\">Gfycat's API</a> to upload a local MP4 to it and give me the URL of the converted gif. Here's what I have so far:</p>\n\n<pre><code>const fs = require(\"fs\");\nconst axios = require(\"axios\");\n\nasync function main() {\n  const res = await axios({\n    method: \"POST\",\n    url: \"https://api.gfycat.com/v1/gfycats\",\n    data: { title: \"test\" }\n  });\n\n  const name = res.data.gfyname;\n  console.log(`The key name is: ${name}`)\n\n  const stream = fs.createReadStream(\"./Video.mp4\");\n  const { size } = fs.statSync(\"./Video.mp4\");\n\n  stream.on(\"error\", console.warn);\n\n  const sendResult = await axios({\n    method: \"PUT\",\n    url: `https://filedrop.gfycat.com/${name}`,\n    data: stream,\n    headers: {\n      \"Content-Type\": \"video/mp4\",\n      \"Content-Length\": size\n    }\n  });\n\n  // Check the status of the encoding every n seconds until it says complete. When complete, return the gfyname.\n  await waitTillPosted(name);\n\n  return gfyname = checkResult.data.gfyname;\n}\n\n// Basic GET API request to check the encoding status of the gif\nasync function isPosted(name) {\n  var checkResult = await axios({\n    method: \"GET\",\n    url: `https://api.gfycat.com/v1/gfycats/fetch/status/${name}`,\n  });\n  console.log(`Current status: ${checkResult.data.task}`)\n\n  if (checkResult.data.task == \"complete\") {\n    return true;\n  }\n  throw new Error('The gif is still encoding.');\n}\n\n// Generic sleep function\nfunction sleep(ms) {\n  console.log(`Sleeping for ${ms} ms.`)\n  return new Promise(resolve =&gt; setTimeout(resolve, ms));\n}\n\n// If the gif is not done encoding, sleep 30s\nasync function waitTillPosted(name) {\n  return isPosted(name).catch(() =&gt; sleep(30e3).then(waitTillPosted));\n}\n\n// ======================================================\n\nmain()\n  .then(name =&gt; {\n    console.log(`https://gfycat.com/${gfyname}`);\n  })\n  .catch(err =&gt; {\n    console.error(err);\n  });\n</code></pre>\n\n<p>According to the API, you can check the status of the conversion task with <code>GET https://api.gfycat.com/v1/gfycats/fetch/status/gfyname</code>.</p>\n\n<p>When I run this app, the first <code>GET</code> request it makes reports <code>encoding</code>, as expected. I'm making a <code>GET</code> request every 30s until eventually, I expect it to say <code>complete</code>, where I'll return the Gfycat URL. However I'm get a <code>NotFoundo</code> instead.</p>\n\n<p>I took one of the key names I got in my testing and checked the status with a <code>GET</code> request separately, and I got a proper <code>complete</code> response with the details of the gif. It works and the gif exists at the URL.</p>\n\n<p>Why am I getting a <code>NotFoundo</code> when I do the same check as part of my main function?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-material"], "answers": [{"tags": [], "owner": {"reputation": 6304, "user_id": 9739129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1264b7591b5bd70e6284cc120b5c0d96?s=128&d=identicon&r=PG&f=1", "display_name": "nash11", "link": "https://stackoverflow.com/users/9739129/nash11"}, "is_accepted": true, "score": 2, "last_activity_date": 1566421263, "last_edit_date": 1566421263, "creation_date": 1566419899, "answer_id": 57598902, "question_id": 57598865, "link": "https://stackoverflow.com/questions/57598865/angular-material-data-table-not-sorting/57598902#57598902", "title": "Angular Material Data Table not sorting?", "body": "<p>The <code>ViewChild</code> for <code>MatSort</code> is <code>undefined</code> at <code>ngOnInit</code> since the view has not yet been initialized. To resolve this, set the <code>MatSort</code> on your <code>dataSource</code> after the view has initialized by using the <code>ngAfterViewInit</code> lifecycle hook.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>ngAfterViewInit() {\n    this.dataSource.sort = this.sort;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1566421390, "post_id": 57599107, "comment_id": 101655506, "body": "We have to wait until <code>AfterViewInit</code> in order to make sure that the <code>sortDirective</code> has been fully initialized."}], "tags": [], "owner": {"reputation": 11, "user_id": 8533825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ho2jH.jpg?s=128&g=1", "display_name": "Ouss", "link": "https://stackoverflow.com/users/8533825/ouss"}, "is_accepted": false, "score": 1, "last_activity_date": 1566421173, "creation_date": 1566421173, "answer_id": 57599107, "question_id": 57598865, "link": "https://stackoverflow.com/questions/57598865/angular-material-data-table-not-sorting/57599107#57599107", "title": "Angular Material Data Table not sorting?", "body": "<p>I had the same issue, you need to set the MatSort.\n This is how I fixed it </p>\n\n<pre><code>@ViewChild(MatSort, {static: false}) set  sortMeeting (ms: MatSort){\nthis._sort = ms;\nthis.renewDataSource(); }\n</code></pre>\n\n<p>............................................</p>\n\n<pre><code>ngOnInit(){\nthis.dataSource = new MatTableDataSource(todos);\nthis.renewDataSource();\n}\n\n\nrenewDataSource() {\nthis.dataSource.sort = this._sort;\n}\n</code></pre>\n\n<p>I hope it helps. :)</p>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 715, "favorite_count": 0, "accepted_answer_id": 57598902, "answer_count": 2, "score": 2, "last_activity_date": 1566421263, "creation_date": 1566419732, "question_id": 57598865, "link": "https://stackoverflow.com/questions/57598865/angular-material-data-table-not-sorting", "title": "Angular Material Data Table not sorting?", "body": "<p><a href=\"https://stackblitz.com/edit/angular-minimal-material-table-demo-with-sorting\" rel=\"nofollow noreferrer\">[STACKBLITS LINK] I'm attempting a minimal angular material data table with sorting</a>.</p>\n\n<p>I've added the MatSortModule, implemented <code>@ViewChild</code> in the class, added the directives, set the dataSource.sort property etc. and I get the arrow on the table when I mouse hover, but the data does not sort.</p>\n\n<p>Thoughts?</p>\n\n<pre><code>    import { Component, OnInit, ViewChild } from '@angular/core';\n    import { MatTableDataSource, MatSort } from \"@angular/material\";\n\n    class Todo {\n      id: string;\n      description: string;\n      complete: boolean;\n    }\n    @Component({\n      selector: 'my-app',\n      templateUrl: './app.component.html',\n      styleUrls: ['./app.component.css']\n    })\n    export class AppComponent implements OnInit {\n      @ViewChild(MatSort, {static: false}) sort: MatSort;\n\n      /**\n      * Control column ordering and which columns are displayed.\n      */\n      displayedColumns:string[] =  ['id'];\n      dataSource: MatTableDataSource&lt;Todo&gt;;\n\n      ngOnInit() {\n        const todos: Todo[] = [\n          { id: '123', description: 'Complete me!', complete: false },\n          { id: '321', description: 'You Completed me!', complete: true }];\n        this.dataSource = new MatTableDataSource(todos);\n        this.dataSource.sort = this.sort;\n      }\n    }\n\n\n    &lt;mat-table class=\"mat-elevation-z8\" [dataSource]=\"dataSource\" matSort&gt;\n      &lt;ng-container matColumnDef=\"id\"&gt;\n        &lt;mat-header-cell *matHeaderCellDef mat-sort-header&gt;ID&lt;/mat-header-cell&gt;\n        &lt;mat-cell *matCellDef=\"let row;\"&gt;{{row.id}}&lt;/mat-cell&gt;\n      &lt;/ng-container&gt;\n      &lt;mat-header-row *matHeaderRowDef=\"displayedColumns\"&gt;\n      &lt;/mat-header-row&gt;\n      &lt;mat-row *matRowDef=\"let row; columns: displayedColumns\"&gt;&lt;/mat-row&gt;\n    &lt;/mat-table&gt;\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "jestjs", "tsconfig", "ts-jest"], "answers": [{"tags": [], "owner": {"reputation": 643, "user_id": 7389957, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FG7DGj1ia7s/AAAAAAAAAAI/AAAAAAAAArw/dqXW_DJKl4s/photo.jpg?sz=128", "display_name": "Daniel Varela", "link": "https://stackoverflow.com/users/7389957/daniel-varela"}, "is_accepted": false, "score": 3, "last_activity_date": 1566429280, "creation_date": 1566429280, "answer_id": 57600242, "question_id": 57598855, "link": "https://stackoverflow.com/questions/57598855/typescript-i-cant-compile-project-with-jest-types-jest-and-ts-jest/57600242#57600242", "title": "Typescript - I can&#39;t compile project with jest, @types/jest and ts-jest", "body": "<p>One solution is to skip checking typings from outside projects. In your <code>tsconfig.json</code>:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        ....\n        \"skipLibCheck\": true\n    }\n}\n</code></pre>\n\n<p>See all compiler options here: <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/compiler-options.html</a></p>\n"}], "owner": {"reputation": 629, "user_id": 7116039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://lh6.googleusercontent.com/-W1XRU2i8SxQ/AAAAAAAAAAI/AAAAAAAAAHs/ceXJf5aD9w4/photo.jpg?sz=128", "display_name": "olegario", "link": "https://stackoverflow.com/users/7116039/olegario"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2121, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1576903220, "creation_date": 1566419668, "question_id": 57598855, "link": "https://stackoverflow.com/questions/57598855/typescript-i-cant-compile-project-with-jest-types-jest-and-ts-jest", "title": "Typescript - I can&#39;t compile project with jest, @types/jest and ts-jest", "body": "<p>I'm trying to use jest to mock my <code>axios</code> requests. This is my test:</p>\n\n<pre><code>// External imports\nimport axios, { AxiosPromise } from 'axios'\n\n// Personal imports\nimport { getProgramApplications } from '#stores'\nimport { programItem } from '../fixtures/zanox'\n\ndescribe('Zanox sales', async function () {\n    describe('Get program applications', async function () {\n        it('should get program applications', async function () {\n            const program = programItem()\n            const mock = jest.spyOn(axios, 'get')\n            mock.mockReturnValueOnce({ data: [program] } as unknown as AxiosPromise&lt;unknown&gt;)\n            getProgramApplications(process.env.ZANOX_ADSPACE!)\n        })\n    })\n})\n</code></pre>\n\n<p>This is my <code>package.json</code>:</p>\n\n<pre><code>{\n    \"name\": \"zanox\",\n    \"version\": \"1.0.0\",\n    \"main\": \"index.js\",\n    \"license\": \"MIT\",\n    \"requireRewrite\": {\n        \"map\": [\n            [\n                \"#database\",\n                \"dist/src/setup/database\"\n            ],\n            [\n                \"#models/*\",\n                \"dist/src/models/*\"\n            ],\n            [\n                \"#sales\",\n                \"dist/src/sales/index\"\n            ],\n            [\n                \"#stores\",\n                \"dist/src/stores/index\"\n            ],\n            [\n                \"#stores/\",\n                \"dist/src/stores/\"\n            ],\n            [\n                \"#utils\",\n                \"dist/src/utils/index\"\n            ],\n            [\n                \"#utils/\",\n                \"dist/src/utils/\"\n            ],\n            [\n                \"#zanox/\",\n                \"dist/src/zanox/\"\n            ]\n        ]\n    },\n    \"scripts\": {\n        \"build\": \"yarn run tsc\",\n        \"clean\": \"rm -rf dist\",\n        \"doc\": \"./node_modules/typedoc/bin/typedoc --out docs/\",\n        \"lint\": \"tslint -c tslint.json -p tsconfig.json\",\n        \"lint-fix\": \"tslint -c tslint.json -p tsconfig.json --fix\",\n        \"test\": \"yarn clean &amp;&amp; yarn run build &amp;&amp; find dist/tests -name '*test.js' | xargs mocha --exit --timeout 10000 -R spec\",\n        \"test-no-build\": \"find dist/tests -name '*test.js' | xargs mocha --exit --timeout 10000 -R spec\",\n        \"watch\": \"concurrently -k -p \\\"[{name}]\\\" -n \\\"TypeScript,Node\\\" -c \\\"cyan.bold,green.bold\\\" \\\"yarn run watch-ts\\\" \\\"yarn run serve\\\"\",\n        \"watch-debug\": \"concurrently -k -p \\\"[{name}]\\\" -n \\\"TypeScript,Node\\\" -c \\\"cyan.bold,green.bold\\\" \\\"yarn run watch-ts\\\" \\\"npm run serve-debug\\\"\",\n        \"watch-ts\": \"tsc -w\"\n    },\n    \"engines\": {\n        \"node\": \"&gt;=10.0\",\n        \"yarn\": \"&gt;=1.7.0\"\n    },\n    \"devDependencies\": {\n        \"@types/axios\": \"^0.14.0\",\n        \"@types/faker\": \"^4.1.5\",\n        \"@types/jest\": \"^24.0.18\",\n        \"@types/luxon\": \"^1.4.1\",\n        \"@types/mocha\": \"^5.2.7\",\n        \"@types/nock\": \"^10.0.3\",\n        \"@types/node\": \"^12.6.8\",\n        \"@types/pg\": \"^7.4.11\",\n        \"@types/uuid\": \"^3.4.4\",\n        \"@types/winston\": \"^2.4.4\",\n        \"faker\": \"^4.1.0\",\n        \"jest\": \"^24.9.0\",\n        \"mocha\": \"^6.2.0\",\n        \"nock\": \"^10.0.6\",\n        \"prettier\": \"^1.15.3\",\n        \"ts-jest\": \"^24.0.2\",\n        \"ttypescript\": \"^1.5.5\",\n        \"typescript\": \"^3.5.3\"\n    },\n    \"dependencies\": {\n        \"@types/dotenv-safe\": \"^5.0.3\",\n        \"@types/source-map-support\": \"^0.5.0\",\n        \"aws-sdk\": \"^2.401.0\",\n        \"axios\": \"^0.18.0\",\n        \"db-migrate\": \"^0.11.5\",\n        \"db-migrate-pg\": \"^0.4.0\",\n        \"dotenv\": \"^6.2.0\",\n        \"dotenv-safe\": \"^6.1.0\",\n        \"io-ts\": \"^1.6.1\",\n        \"js-joda\": \"^1.9.2\",\n        \"luxon\": \"^1.10.0\",\n        \"pg\": \"^7.8.0\",\n        \"require-rewrite\": \"^1.0.2\",\n        \"source-map-support\": \"^0.5.10\",\n        \"tslint\": \"^5.18.0\",\n        \"tslint-eslint-rules\": \"^5.4.0\",\n        \"typedoc\": \"^0.15.0\",\n        \"utility-types\": \"^3.7.0\",\n        \"uuid\": \"^3.3.2\"\n    }\n}\n</code></pre>\n\n<p>And finally, this is my <code>tsconfig.json</code>:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"baseUrl\": \".\",\n        \"diagnostics\": false,\n        \"esModuleInterop\": true,\n        \"forceConsistentCasingInFileNames\": true,\n        \"module\": \"CommonJS\",\n        \"moduleResolution\": \"node\",\n        \"noErrorTruncation\": true,\n        \"noFallthroughCasesInSwitch\": true,\n        \"noImplicitReturns\": false,\n        \"noUnusedLocals\": true,\n        \"noUnusedParameters\": false,\n        \"outDir\": \"./dist/\",\n        \"resolveJsonModule\": true,\n        \"sourceMap\": true,\n        \"strict\": true,\n        \"target\": \"es6\",\n        \"lib\": [\n            \"es5\",\n            \"es6\",\n            \"dom\",\n            \"es2017\"\n        ],\n        \"paths\": {\n            \"#database\": [\n                \"src/setup/database\"\n            ],\n            \"#models/*\": [\n                \"src/models/*\"\n            ],\n            \"#sales\": [\n                \"src/sales/index\"\n            ],\n            \"#stores\": [\n                \"src/stores/index\"\n            ],\n            \"#stores/*\": [\n                \"src/stores/*\"\n            ],\n            \"#utils\": [\n                \"src/utils/index\"\n            ],\n            \"#utils/*\": [\n                \"src/utils/*\"\n            ],\n            \"#zanox/*\": [\n                \"src/zanox/*\"\n            ],\n            \"*\": [\n                \"node_modules/*\",\n                \"src/_vendor/*\"\n            ]\n        }\n    },\n    \"include\": [\n        \"src/**/*\",\n        \"tests/**/*\"\n    ]\n}\n</code></pre>\n\n<p>The problem is: when I try to compile my project, the terminal says:</p>\n\n<pre><code>$ /home/olegario/hotsites/monorepo-hotsites/zanox/node_modules/.bin/tsc\nnode_modules/@types/mocha/index.d.ts:2680:13 - error TS2403: Subsequent variable declarations must have the same type.  Variable 'beforeEach' must be of type 'Lifecycle', but here has type 'HookFunction'.\n\n2680 declare var beforeEach: Mocha.HookFunction;\n                 ~~~~~~~~~~\n\n  node_modules/@types/jest/index.d.ts:32:13\n    32 declare var beforeEach: jest.Lifecycle;\n                   ~~~~~~~~~~\n    'beforeEach' was also declared here.\n\nnode_modules/@types/mocha/index.d.ts:2698:13 - error TS2403: Subsequent variable declarations must have the same type.  Variable 'afterEach' must be of type 'Lifecycle', but here has type 'HookFunction'.\n\n2698 declare var afterEach: Mocha.HookFunction;\n                 ~~~~~~~~~\n\n  node_modules/@types/jest/index.d.ts:34:13\n    34 declare var afterEach: jest.Lifecycle;\n                   ~~~~~~~~~\n    'afterEach' was also declared here.\n\nnode_modules/@types/mocha/index.d.ts:2714:13 - error TS2403: Subsequent variable declarations must have the same type.  Variable 'describe' must be of type 'Describe', but here has type 'SuiteFunction'.\n\n2714 declare var describe: Mocha.SuiteFunction;\n                 ~~~~~~~~\n\n  node_modules/@types/jest/index.d.ts:35:13\n    35 declare var describe: jest.Describe;\n                   ~~~~~~~~\n    'describe' was also declared here.\n\nnode_modules/@types/mocha/index.d.ts:2735:13 - error TS2403: Subsequent variable declarations must have the same type.  Variable 'xdescribe' must be of type 'Describe', but here has type 'PendingSuiteFunction'.\n\n2735 declare var xdescribe: Mocha.PendingSuiteFunction;\n                 ~~~~~~~~~\n\n  node_modules/@types/jest/index.d.ts:37:13\n    37 declare var xdescribe: jest.Describe;\n                   ~~~~~~~~~\n    'xdescribe' was also declared here.\n\nnode_modules/@types/mocha/index.d.ts:2749:13 - error TS2403: Subsequent variable declarations must have the same type.  Variable 'it' must be of type 'It', but here has type 'TestFunction'.\n\n2749 declare var it: Mocha.TestFunction;\n                 ~~\n\n  node_modules/@types/jest/index.d.ts:38:13\n    38 declare var it: jest.It;\n                   ~~\n    'it' was also declared here.\n\nnode_modules/@types/mocha/index.d.ts:2763:13 - error TS2403: Subsequent variable declarations must have the same type.  Variable 'test' must be of type 'It', but here has type 'TestFunction'.\n\n2763 declare var test: Mocha.TestFunction;\n                 ~~~~\n\n  node_modules/@types/jest/index.d.ts:41:13\n    41 declare var test: jest.It;\n                   ~~~~\n    'test' was also declared here.\n\nnode_modules/@types/mocha/index.d.ts:2770:13 - error TS2403: Subsequent variable declarations must have the same type.  Variable 'xit' must be of type 'It', but here has type 'PendingTestFunction'.\n\n2770 declare var xit: Mocha.PendingTestFunction;\n                 ~~~\n\n  node_modules/@types/jest/index.d.ts:40:13\n    40 declare var xit: jest.It;\n                   ~~~\n    'xit' was also declared here.\n\n\nFound 7 errors.\n\nerror Command failed with exit code 2.\ninfo Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\n</code></pre>\n\n<p>Most part of the discussions I found about it said to upgrade the <code>typescript</code> version and to remove the <code>jasmine</code> from the project. As you can see, there is no <code>jasmine</code> in my project and also my <code>typescript</code> version is the most recently one. Why this is happening?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 2829, "user_id": 6388552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJiGS.jpg?s=128&g=1", "display_name": "ths", "link": "https://stackoverflow.com/users/6388552/ths"}, "edited": false, "score": 0, "creation_date": 1566419691, "post_id": 57598803, "comment_id": 101654893, "body": "so, what that entity you have to move exactly is ? I mean is it some arrays content or something."}], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 0, "last_activity_date": 1566419689, "creation_date": 1566419689, "answer_id": 57598859, "question_id": 57598803, "link": "https://stackoverflow.com/questions/57598803/allow-users-to-move-items-that-dont-equal-to-the-value-stated-in-a-function/57598859#57598859", "title": "allow users to move items that don&#39;t equal to the value stated in a function", "body": "<p>Limit the move count to the number of apples using <code>Math.min()</code>.</p>\n\n<pre><code>var move_count = parseInt($(this).val()) || 1;\nmove_count = Math.min(move_count, number_of_apples);\nnumber_of_apples -= move_count;\n</code></pre>\n\n<p>or subtract the move count and then set the number of apples to zero if it's below zero.</p>\n\n<pre><code>var move_count = parseInt($(this).val()) || 1;\nnumber_of_apples -= move_count;\nif (number_of_apples &lt; 0) {\n  number_of_apples = 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 10199631, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0Ew5szbUMec/AAAAAAAAAAI/AAAAAAAAAEc/__dyPKnSjf0/photo.jpg?sz=128", "display_name": "Premises", "link": "https://stackoverflow.com/users/10199631/premises"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 57598859, "answer_count": 1, "score": 0, "last_activity_date": 1581412538, "creation_date": 1566419317, "last_edit_date": 1581412538, "question_id": 57598803, "link": "https://stackoverflow.com/questions/57598803/allow-users-to-move-items-that-dont-equal-to-the-value-stated-in-a-function", "title": "allow users to move items that don&#39;t equal to the value stated in a function", "body": "<p>I have searched google and unable to find the logic for what I am trying to achieve, the easiest way I am able to explain this over text is with an example let's say you have 5 apples and you say to the 'move box you want to move 6 apples but instead of the 'move box' throwing an error because the amount of items you want to move doesn't equal in the value (6) in the 'movebox' it takes all 5 items and disregards the extra value that's left another example you have 10 apples you put into the move box you want to move 4, and instead of the move box throwing an error because the value doesn't match it will just take 4 apples and leave 6. right now if I want to move an item i have to make sure that I have the same amount of item that I enter into the move box like if I want to move 7 and I have 6 I will not move them becasue the item value doesn't match the move box value, if you me need to explain more I am happy to do so. </p>\n\n<p>right now the block of code that deals with the number of items that will be moved is </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>if ($(this).val() == \"\") {\n            $(this).val(\"1\") \n</code></pre>\n\n<p>with the default move value set at 1, I haven't tried anything except search through google because I simply don't know the logic for the problem I'm facing.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>$(document).ready(function () {\n    $(\"#count\").focus(function () {\n        $(this).val(\"\")\n    }).blur(function () {\n        if ($(this).val() == \"\") {\n            $(this).val(\"1\")\n        }\n    });\n</code></pre>\n"}, {"tags": ["javascript", "tabulator"], "comments": [{"owner": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "edited": false, "score": 0, "creation_date": 1566428650, "post_id": 57598792, "comment_id": 101657459, "body": "Please put working code demo in JSfiddle"}, {"owner": {"reputation": 45, "user_id": 6922947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/427d69f69467d5ee405983217b3d8370?s=128&d=identicon&r=PG&f=1", "display_name": "andrewlis", "link": "https://stackoverflow.com/users/6922947/andrewlis"}, "reply_to_user": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "edited": false, "score": 0, "creation_date": 1566489648, "post_id": 57598792, "comment_id": 101681525, "body": "dota2pro here it is: <a href=\"https://jsfiddle.net/andreylisovskiy/b9o61jwv/#&amp;togetherjs=1dSfU0ax7E\" rel=\"nofollow noreferrer\">jsfiddle.net/andreylisovskiy/b9o61jwv/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 6922947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/427d69f69467d5ee405983217b3d8370?s=128&d=identicon&r=PG&f=1", "display_name": "andrewlis", "link": "https://stackoverflow.com/users/6922947/andrewlis"}, "edited": false, "score": 0, "creation_date": 1567097371, "post_id": 57643128, "comment_id": 101871247, "body": "dota2pro i have accepted your answer because it really does solve that particular problem. However, for my use case I was hoping for Tabulator to offer it natively, and for it to be position based and not attached to data. Because I was going to use that for scrolling to row at position 1,5,8 etc and once you sort by some column the current solution breaks. I know that what I want can be done with javascript/jqeury but did not want to reinvent the wheel."}, {"owner": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "reply_to_user": {"reputation": 45, "user_id": 6922947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/427d69f69467d5ee405983217b3d8370?s=128&d=identicon&r=PG&f=1", "display_name": "andrewlis", "link": "https://stackoverflow.com/users/6922947/andrewlis"}, "edited": false, "score": 0, "creation_date": 1567097537, "post_id": 57643128, "comment_id": 101871324, "body": "Just raise a new question where you can pin point the new problem"}], "tags": [], "owner": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "is_accepted": true, "score": 0, "last_activity_date": 1566705425, "creation_date": 1566705425, "answer_id": 57643128, "question_id": 57598792, "link": "https://stackoverflow.com/questions/57598792/tabulator-table-getrow-returns-false-even-though-there-is-data-in-the-table/57643128#57643128", "title": "tabulator table.getRow() returns false even though there is data in the table", "body": "<p>Assign Ids to the table data</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var table = new Tabulator(\"#table_1\", {\r\n  height: \"fitData\",\r\n  layout: \"fitData\",\r\n  movableRows: true, //enable user movable rows\r\n  movableColumns: true, //enable user movable columns\r\n  columns: [ //define the table columns\r\n    {\r\n      title: \"Col1\",\r\n      field: \"col1\",\r\n      editor: true\r\n    },\r\n    {\r\n      title: \"Col2\",\r\n      field: \"col2\",\r\n      editor: true\r\n    },\r\n    {\r\n      title: \"Col3\",\r\n      field: \"col3\",\r\n      editor: true\r\n    },\r\n  ],\r\n  rowFormatter: function(row) {\r\n    var data = row.getData(); //get data object for row\r\n  },\r\n}); // Build Tabulator:\r\n\r\nvar tabledata = [{\r\n    'id': 1,\r\n    'col1': 'data1',\r\n    'col2': 'data2',\r\n    'col3': 'data3'\r\n  },\r\n  {\r\n    'id': 2,\r\n    'col1': 'data1',\r\n    'col2': 'data2',\r\n    'col3': 'data3'\r\n  },\r\n  {\r\n    'id': 3,\r\n    'col1': 'data1',\r\n    'col2': 'data2',\r\n    'col3': 'data3'\r\n  },\r\n];\r\n\r\ntable.setData(tabledata);\r\ntable.setSort(\"col1\", \"asc\");\r\n\r\nrow_1 = table.getRow(1);\r\nconsole.log(row_1.getData());</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n  background: #20262E;\r\n  padding: 20px;\r\n  font-family: Helvetica;\r\n}\r\n\r\n#banner-message {\r\n  background: #fff;\r\n  border-radius: 4px;\r\n  padding: 20px;\r\n  font-size: 25px;\r\n  text-align: center;\r\n  transition: all 0.2s;\r\n  margin: 0 auto;\r\n  width: 300px;\r\n}\r\n\r\nbutton {\r\n  background: #0084ff;\r\n  border: none;\r\n  border-radius: 5px;\r\n  padding: 8px 14px;\r\n  font-size: 15px;\r\n  color: #fff;\r\n}\r\n\r\n#banner-message.alt {\r\n  background: #0084ff;\r\n  color: #fff;\r\n  margin-top: 40px;\r\n  width: 200px;\r\n}\r\n\r\n#banner-message.alt button {\r\n  background: #fff;\r\n  color: #000;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link href=\"https://unpkg.com/tabulator-tables@4.4.1/dist/css/tabulator.min.css\" rel=\"stylesheet\"&gt;\r\n&lt;!--Tabulator table here:--&gt;\r\n&lt;div style=\"float: left; margin-left: 1%; margin-top: 20px; padding: 0; width: fit-content; max-width: 98%; height: 500px; text-align: left; display: inline-block;\"&gt;\r\n  &lt;button class=\"btn btn-primary\" type=\"button\" id=\"column_toggle\" style=\"width: 30px; height: 30px; padding: 0; margin-bottom: 5px; position:relative; float: right;\" hidden&gt;\r\n      &lt;/button&gt;\r\n  &lt;div id=\"table_1\" style=\"display: contents;\" class=\"noselect\"&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;script type=\"text/javascript\" src=\"https://unpkg.com/tabulator-tables@4.4.1/dist/js/tabulator.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 45, "user_id": 6922947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/427d69f69467d5ee405983217b3d8370?s=128&d=identicon&r=PG&f=1", "display_name": "andrewlis", "link": "https://stackoverflow.com/users/6922947/andrewlis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1088, "favorite_count": 0, "accepted_answer_id": 57643128, "answer_count": 1, "score": 1, "last_activity_date": 1566705425, "creation_date": 1566419265, "last_edit_date": 1566489993, "question_id": 57598792, "link": "https://stackoverflow.com/questions/57598792/tabulator-table-getrow-returns-false-even-though-there-is-data-in-the-table", "title": "tabulator table.getRow() returns false even though there is data in the table", "body": "<p>I want to get row component of the row in the table using index like so:</p>\n\n<pre><code>    row_1 = table.getRow(1);\n    console.log(row_1);\n</code></pre>\n\n<p>But it produces a warning: \"Find Error - No matching row found: 1\" console logs \"false\", even though I have like 50 rows being currently displayed in that table.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var table = new Tabulator(\"#table_1\", {\r\n  height:\"fitData\",\r\n  layout:\"fitData\",\r\n  movableRows: true, //enable user movable rows\r\n  movableColumns: true, //enable user movable columns\r\n  columns:[                 //define the table columns\r\n\t\t{title:\"Col1\", field:\"col1\", editor:true},\r\n    {title:\"Col2\", field:\"col2\", editor:true},\r\n    {title:\"Col3\", field:\"col3\", editor:true},\r\n\t],\r\n  rowFormatter:function(row){\r\n    var data = row.getData(); //get data object for row\r\n  },\r\n});         // Build Tabulator:\r\n\r\nvar tabledata = [{'col1': 'data1', 'col2': 'data2', 'col3': 'data3'},\r\n                {'col1': 'data1', 'col2': 'data2', 'col3': 'data3'},\r\n                {'col1': 'data1', 'col2': 'data2', 'col3': 'data3'},\r\n\t\t\t\t\t\t\t\t];\r\n\r\ntable.setData(tabledata);\r\ntable.setSort(\"col1\", \"asc\");\r\n\r\nrow_1 = table.getRow(1);\r\nconsole.log(row_1);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n  background: #20262E;\r\n  padding: 20px;\r\n  font-family: Helvetica;\r\n}\r\n\r\n#banner-message {\r\n  background: #fff;\r\n  border-radius: 4px;\r\n  padding: 20px;\r\n  font-size: 25px;\r\n  text-align: center;\r\n  transition: all 0.2s;\r\n  margin: 0 auto;\r\n  width: 300px;\r\n}\r\n\r\nbutton {\r\n  background: #0084ff;\r\n  border: none;\r\n  border-radius: 5px;\r\n  padding: 8px 14px;\r\n  font-size: 15px;\r\n  color: #fff;\r\n}\r\n\r\n#banner-message.alt {\r\n  background: #0084ff;\r\n  color: #fff;\r\n  margin-top: 40px;\r\n  width: 200px;\r\n}\r\n\r\n#banner-message.alt button {\r\n  background: #fff;\r\n  color: #000;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link href=\"https://unpkg.com/tabulator-tables@4.4.1/dist/css/tabulator.min.css\" rel=\"stylesheet\"&gt;\r\n&lt;!--Tabulator table here:--&gt;\r\n&lt;div style=\"float: left; margin-left: 1%; margin-top: 20px; padding: 0; width: fit-content; max-width: 98%; height: 500px; text-align: left; display: inline-block;\"&gt;\r\n  &lt;button class=\"btn btn-primary\" type=\"button\" id=\"column_toggle\" style=\"width: 30px; height: 30px; padding: 0; margin-bottom: 5px; position:relative; float: right;\" hidden&gt;\r\n  &lt;/button&gt;\r\n  &lt;div id=\"table_1\" style=\"display: contents;\" class=\"noselect\"&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;script type=\"text/javascript\" src=\"https://unpkg.com/tabulator-tables@4.4.1/dist/js/tabulator.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "d3.js"], "answers": [{"comments": [{"owner": {"reputation": 3575, "user_id": 2533275, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5a4fa72ff6c3aa516eada41a184dab38?s=128&d=identicon&r=PG", "display_name": "JamesE", "link": "https://stackoverflow.com/users/2533275/jamese"}, "edited": false, "score": 0, "creation_date": 1566427087, "post_id": 57599195, "comment_id": 101657141, "body": "That did it!  Thanks so much for the solution and the explanation"}], "tags": [], "owner": {"reputation": 2086, "user_id": 4632557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc79d8087a66fda55e905285f96df8a?s=128&d=identicon&r=PG&f=1", "display_name": "TheGentleman", "link": "https://stackoverflow.com/users/4632557/thegentleman"}, "is_accepted": true, "score": 1, "last_activity_date": 1566474089, "last_edit_date": 1566474089, "creation_date": 1566421765, "answer_id": 57599195, "question_id": 57598752, "link": "https://stackoverflow.com/questions/57598752/d3-area-stacked-line-chart/57599195#57599195", "title": "d3 area stacked line chart", "body": "<p>When using axes in d3, you actually need to use the axis variable to calculate scaling factors. The functions that do this calculation are returned by the <code>scale*()</code> methods. In your code you have this for the x-axis:</p>\n\n<pre><code>  var x = d3.scaleTime().range([0, width]);\n</code></pre>\n\n<p>As such, the variable <code>x</code> now contains a function that will do interpolation for you. this is what your <code>areaGenerator</code> function should look like:</p>\n\n<pre><code>var areaGenerator = d3.area()\n  .x(function(d, i) {\n      return x(d.data.hour);\n  })\n  .y0(function(d) {\n      return y(d[0]);\n  })\n  .y1(function(d) {\n      return y(d[1]);\n  });\n</code></pre>\n\n<p>The only thing you need to remember is that when calculating the value you need to use the same variable that the axis is based on. I.e. your x-axis is a time axis so you need to calculate the interpolation using the time variable (<code>d.data.hour</code>).</p>\n\n<p>As to where 100 comes from in the example, you are essentially correct. In that block the value of 100 is more or less arbitrary. It was likely chosen because the chart looks reasonably good at that scale.  By choosing 100, each \"tick\" is spaced 100px apart and since there is no x-axis to be judged against it doesn't actually matter what is used as long as it changes for each data point. </p>\n"}], "owner": {"reputation": 3575, "user_id": 2533275, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5a4fa72ff6c3aa516eada41a184dab38?s=128&d=identicon&r=PG", "display_name": "JamesE", "link": "https://stackoverflow.com/users/2533275/jamese"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 600, "favorite_count": 0, "accepted_answer_id": 57599195, "answer_count": 1, "score": 1, "last_activity_date": 1566474089, "creation_date": 1566419021, "question_id": 57598752, "link": "https://stackoverflow.com/questions/57598752/d3-area-stacked-line-chart", "title": "d3 area stacked line chart", "body": "<p>I'm working on modifying this stacked line chart example: <a href=\"https://bl.ocks.org/d3indepth/e4efd402b4d9fdb2088ccdf3135745c3\" rel=\"nofollow noreferrer\">https://bl.ocks.org/d3indepth/e4efd402b4d9fdb2088ccdf3135745c3</a></p>\n\n<p>I'm adding a time x axis, but I'm struggling with this block of code:</p>\n\n<pre><code>var areaGenerator = d3.area()\n  .x(function(d, i) {\n      // return i * 100;\n      return i * 253.5;\n  })\n  .y0(function(d) {\n      return y(d[0]);\n  })\n  .y1(function(d) {\n      return y(d[1]);\n  });\n</code></pre>\n\n<p>The original example has the <code>.x</code> accessor as <code>i * 100</code> which seems to be a random value.  When I add the X axis the stacked line chart does not line up correctly with the date ticks.  I can manually force it to line up by returning <code>i * 253.5</code> but that is not ideal.  I don't really understand how this area function is working - any help would be appreciated.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let height = 600;\r\nlet width  = 800;\r\nconst yMax = 4000;\r\n//var hEach  = 40;\r\n\r\nlet margin = {top: 20, right: 15, bottom: 25, left: 25};\r\n\r\nwidth  =    width - margin.left - margin.right;\r\nheight =    height - margin.top - margin.bottom;\r\n\r\nvar svg = d3.select('body').append(\"svg\")\r\n  .attr(\"width\",  width + margin.left + margin.right)\r\n  .attr(\"height\", height + margin.top + margin.bottom)\r\n  .append(\"g\")\r\n  .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\r\n\r\nlet formatDate = d3.timeFormat(\"%b-%Y\")\r\nlet parseTime = d3.timeParse(\"%Y-%m-%d\");\r\n\r\n\r\nlet data = [\r\n  {\r\n    \"host_count\": 2553,\r\n    \"container_count\": 875,\r\n    \"hour\": \"2019-01-31\",\r\n    \"apm_host_count\": 0,\r\n    \"agent_host_count\": 2208,\r\n    \"gcp_host_count\": 0,\r\n    \"aws_host_count\": 345\r\n  },\r\n  {\r\n    \"host_count\": 1553,\r\n    \"container_count\": 675,\r\n    \"hour\": \"2019-02-01\",\r\n    \"apm_host_count\": 0,\r\n    \"agent_host_count\": 1208,\r\n    \"gcp_host_count\": 0,\r\n    \"aws_host_count\": 445\r\n  },\r\n  {\r\n    \"host_count\": 716,\r\n    \"container_count\": 6234,\r\n    \"hour\": \"2019-02-02\",\r\n    \"apm_host_count\": 0,\r\n    \"agent_host_count\": 479,\r\n    \"gcp_host_count\": 0,\r\n    \"aws_host_count\": 237\r\n  },\r\n  {\r\n    \"host_count\": 516,\r\n    \"container_count\": 4234,\r\n    \"hour\": \"2019-02-03\",\r\n    \"apm_host_count\": 0,\r\n    \"agent_host_count\": 679,\r\n    \"gcp_host_count\": 0,\r\n    \"aws_host_count\": 137\r\n  }\r\n];\r\n\r\n  // format the data\r\n  data.forEach(function(d) {\r\n      d.hour = parseTime(d.hour);\r\n  });\r\n\r\n  // set the ranges\r\n  var x = d3.scaleTime().range([0, width]);\r\n\r\n  x.domain(d3.extent(data, function(d) { return d.hour; }));\r\n\r\n  var xAxis = d3.axisBottom(x).ticks(11).tickFormat(d3.timeFormat(\"%y-%b-%d\")).tickValues(data.map(d=&gt;d.hour));\r\n\r\n\r\n  var y = d3.scaleLinear()\r\n    .domain([0, yMax])\r\n    .range([height, 0]);\r\n\r\n  var areaGenerator = d3.area()\r\n  \t.x(function(d, i) {\r\n      console.log(d);\r\n  \t\treturn i * 100;\r\n  \t})\r\n  \t.y0(function(d) {\r\n  \t\treturn y(d[0]);\r\n  \t})\r\n  \t.y1(function(d) {\r\n  \t\treturn y(d[1]);\r\n  \t});\r\n\r\n  var colors = ['#FBB65B', '#513551', '#de3163']\r\n\r\n  var stack = d3.stack()\r\n    .keys(['agent_host_count', 'aws_host_count', 'container_count']);\r\n\r\n  var stackedSeries = stack(data);\r\n\r\n  d3.select('g')\r\n  \t.selectAll('path')\r\n  \t.data(stackedSeries)\r\n  \t.enter()\r\n  \t.append('path')\r\n  \t.style('fill', function(d, i) {\r\n  \t\treturn colors[i];\r\n  \t})\r\n  \t.attr('d', areaGenerator)\r\n\r\n  svg.append(\"g\")\r\n          .attr(\"class\", \"x axis\")\r\n          .attr(\"transform\", \"translate(0,\" + height + \")\")\r\n          .call(xAxis);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!doctype html&gt;\r\n&lt;html lang=\"en\"&gt;\r\n  &lt;head&gt;\r\n    &lt;title&gt;Usage&lt;/title&gt;\r\n  &lt;/head&gt;\r\n  &lt;body&gt;\r\n\r\n    &lt;div id=\"svg\"&gt;&lt;/div&gt;\r\n\r\n    &lt;script src=\"https://d3js.org/d3.v5.min.js\"&gt;&lt;/script&gt;\r\n\r\n  &lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 11071, "user_id": 358435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b6a07b64e50a331ba65e6d5b9b410199?s=128&d=identicon&r=PG&f=1", "display_name": "karthick", "link": "https://stackoverflow.com/users/358435/karthick"}, "edited": false, "score": 0, "creation_date": 1566419070, "post_id": 57598704, "comment_id": 101654658, "body": "enemycount is not a property in Enemy it&#39;s in window scope. so just do enemycount--; in your die() function. And check if the enemy count is 0 inside the same function and reload"}, {"owner": {"reputation": 23, "user_id": 11959073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e4a93c4b5a6ffa5f55af2cc7227cd78?s=128&d=identicon&r=PG&f=1", "display_name": "jccoding", "link": "https://stackoverflow.com/users/11959073/jccoding"}, "reply_to_user": {"reputation": 11071, "user_id": 358435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b6a07b64e50a331ba65e6d5b9b410199?s=128&d=identicon&r=PG&f=1", "display_name": "karthick", "link": "https://stackoverflow.com/users/358435/karthick"}, "edited": false, "score": 0, "creation_date": 1566420105, "post_id": 57598704, "comment_id": 101655034, "body": "@karthick so closer to something like this?"}, {"owner": {"reputation": 11071, "user_id": 358435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b6a07b64e50a331ba65e6d5b9b410199?s=128&d=identicon&r=PG&f=1", "display_name": "karthick", "link": "https://stackoverflow.com/users/358435/karthick"}, "edited": false, "score": 0, "creation_date": 1566420200, "post_id": 57598704, "comment_id": 101655076, "body": "Yes. But change this.enemycount--; =&gt; enemycount--;"}, {"owner": {"reputation": 23, "user_id": 11959073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e4a93c4b5a6ffa5f55af2cc7227cd78?s=128&d=identicon&r=PG&f=1", "display_name": "jccoding", "link": "https://stackoverflow.com/users/11959073/jccoding"}, "reply_to_user": {"reputation": 11071, "user_id": 358435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b6a07b64e50a331ba65e6d5b9b410199?s=128&d=identicon&r=PG&f=1", "display_name": "karthick", "link": "https://stackoverflow.com/users/358435/karthick"}, "edited": false, "score": 0, "creation_date": 1566420540, "post_id": 57598704, "comment_id": 101655219, "body": "@karthick thanks for your help, the pop up works.  now i am just having trouble having the game recognize anything related to the reload.  This is what I have in the if statement for what I am looking to do for the reload. \tconfirm(&#39;Congrats \\n Level Complete!!! \\n Play Again&#39;)window.reload();"}, {"owner": {"reputation": 11071, "user_id": 358435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b6a07b64e50a331ba65e6d5b9b410199?s=128&d=identicon&r=PG&f=1", "display_name": "karthick", "link": "https://stackoverflow.com/users/358435/karthick"}, "edited": false, "score": 0, "creation_date": 1566420821, "post_id": 57598704, "comment_id": 101655330, "body": "I don&#39;t understand what you meant by &quot;game recognize anything related to reload&quot;. Do you want to preserve the game state such that enemycount is 0 ?"}, {"owner": {"reputation": 23, "user_id": 11959073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e4a93c4b5a6ffa5f55af2cc7227cd78?s=128&d=identicon&r=PG&f=1", "display_name": "jccoding", "link": "https://stackoverflow.com/users/11959073/jccoding"}, "reply_to_user": {"reputation": 11071, "user_id": 358435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b6a07b64e50a331ba65e6d5b9b410199?s=128&d=identicon&r=PG&f=1", "display_name": "karthick", "link": "https://stackoverflow.com/users/358435/karthick"}, "edited": false, "score": 0, "creation_date": 1566421064, "post_id": 57598704, "comment_id": 101655408, "body": "@karthick so when I had the alert it popped up.  I was looking to do a confirm.  I keep getting SyntaxError not recognizing anything after the confirm.  ie  \tconfirm(&#39;Congrats \\n Level Complete!!! \\n Play Again&#39;)window.reload(); This gives me a &quot;SyntaxError unexpected identifier &#39;window&#39; &quot; when I remove it I get unexpected identifier reload."}, {"owner": {"reputation": 23, "user_id": 11959073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e4a93c4b5a6ffa5f55af2cc7227cd78?s=128&d=identicon&r=PG&f=1", "display_name": "jccoding", "link": "https://stackoverflow.com/users/11959073/jccoding"}, "reply_to_user": {"reputation": 11071, "user_id": 358435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b6a07b64e50a331ba65e6d5b9b410199?s=128&d=identicon&r=PG&f=1", "display_name": "karthick", "link": "https://stackoverflow.com/users/358435/karthick"}, "edited": false, "score": 0, "creation_date": 1566421634, "post_id": 57598704, "comment_id": 101655593, "body": "@ karthick Got it, I added confirm to a var and wrapped the reload around an if statement.  Thanks again for your help"}], "answers": [{"tags": [], "owner": {"reputation": 51813, "user_id": 860099, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/125k3.jpg?s=128&g=1", "display_name": "Kamil Kie\u0142czewski", "link": "https://stackoverflow.com/users/860099/kamil-kie%c5%82czewski"}, "is_accepted": false, "score": 0, "last_activity_date": 1566419888, "creation_date": 1566419888, "answer_id": 57598900, "question_id": 57598704, "link": "https://stackoverflow.com/questions/57598704/how-do-i-add-a-counter-that-would-later-be-used-for-an-if-statement-to-perform-a/57598900#57598900", "title": "How do I add a Counter that would later be used for an if statement to perform a reload", "body": "<p>Use <code>setInterval</code> which will periodically check page-reload condition </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>enemycount = 10;\r\n\r\nsetInterval(() =&gt; {\r\n  if(enemycount &lt;=0) location='https://example.com';\r\n  console.log('check', enemycount);\r\n  enemycount--;\r\n}, 500)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 11071, "user_id": 358435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b6a07b64e50a331ba65e6d5b9b410199?s=128&d=identicon&r=PG&f=1", "display_name": "karthick", "link": "https://stackoverflow.com/users/358435/karthick"}, "is_accepted": true, "score": 0, "last_activity_date": 1566421722, "creation_date": 1566421722, "answer_id": 57599188, "question_id": 57598704, "link": "https://stackoverflow.com/questions/57598704/how-do-i-add-a-counter-that-would-later-be-used-for-an-if-statement-to-perform-a/57599188#57599188", "title": "How do I add a Counter that would later be used for an if statement to perform a reload", "body": "<p>The enemycount value is in global scope. Change this.enemycount ==> enemycount;</p>\n\n<p>And you need to check the response of the confirm prompt that you are triggering.</p>\n\n<p>Ideally you need to so something like this</p>\n\n<pre><code>var enemycount = 5;\n\n    document.getElementById('counter').addEventListener('click',function(){\n        enemycount--;\n      die();\n    })\n\n    function die() {\n      if(enemycount === 0){\n        doContinue();\n      }\n    }\n\n    function doContinue() {\n        var resp = confirm('Congratulations You Win \\n Play Again?') \n      if (resp) {\n        window.location.reload();\n      } else {\n        //stay in the same window\n      }\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 11959073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e4a93c4b5a6ffa5f55af2cc7227cd78?s=128&d=identicon&r=PG&f=1", "display_name": "jccoding", "link": "https://stackoverflow.com/users/11959073/jccoding"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 57599188, "answer_count": 2, "score": 2, "last_activity_date": 1566421722, "creation_date": 1566418790, "last_edit_date": 1566420081, "question_id": 57598704, "link": "https://stackoverflow.com/questions/57598704/how-do-i-add-a-counter-that-would-later-be-used-for-an-if-statement-to-perform-a", "title": "How do I add a Counter that would later be used for an if statement to perform a reload", "body": "<p>I am unsure how to properly set up a game so I am counting enemies.  If I can count the enemies I believe I can set up my code so I can do a confirm that would make it so I can reload the page and potentially make more enemies</p>\n\n<p>I think my problem is based around my enemycount variable.  I am unsure how to count down to get to zero. I also believe my problem might be related to not having a function based around enemycount.   </p>\n\n<pre><code>//This is the Variables that I have used for code as well as the codes based around the enemies.//  \nvar canvasBg =document.getElementById(\"canvasBg\"),\n    ctxBg = canvasBg.getContext(\"2d\"),\n    canvasEntities =document.getElementById(\"canvasEntities\"),\n    ctxEntities = canvasEntities.getContext(\"2d\"),\n    canvasWidth = canvasBg.width,\n    canvasHeight = canvasBg.height,\n    player1 = new Player(),\n    enemies = [],\n    numEnemies = 5,\n    enemycount = numEnemies,\n    obstacles = [],\n    isPlaying = false,\n\nfunction Enemy(){\n    this.srcX = 140;\n    this.srcY = 600;\n    this.width = 45;\n    this.height = 54;\n    this.drawX = randomRange(0, canvasWidth - this.width);\n    this.drawY = randomRange(0, canvasHeight - this.height);\n    this.centerX = this.drawX + (this.width / 2);\n    this.centerY = this.drawY + (this.height / 2);\n    this.targetX = this.centerX;\n    this.targetY = this.centerY;\n    this.randomMoveTime + randomRange(4000, 10000);\n    this.speed = 1;\n    var that = this;\n    this.moveInterval =setInterval(function(){that.setTargetLocation();}, that.randomMoveTime);\n    this.isDead = false;\n}\n\nEnemy.prototype.update = function (){\n    this.centerX = this.drawX + (this.width / 2);\n    this.centerY = this.drawY + (this.height / 2);\n    this.checkDirection();\n};\n\nEnemy.prototype.draw = function(){\n    ctxEntities.drawImage(imgSprite, this.srcX, this.srcY, this.width, this.height, this.drawX, this.drawY, this.width, this.height);\n\n\n};\n\n\n\nfunction initEnemies(){\n    for(var i = 0; i &lt; numEnemies; i++){\n        enemies[enemies.length] = new Enemy();\n    }\n}\n\nfunction updateAllEnemies(){\n    for(var i = 0; i &lt; enemies.length; i++){\n        enemies[i].update();\n    }\n}\nfunction drawAllEnemies(){\n    for(var i = 0; i &lt; enemies.length; i++){\n        enemies[i].draw();\n    }\n}\n\n\nEnemy.prototype.setTargetLocation = function(){\n    this.randomMoveTime = randomRange(4000, 10000);\n    var minX = this.centerX - 50, \n        maxX = this.centerX + 50,\n        minY = this.centerY - 50,\n        maxY = this.centerY + 50;\n    //no ghosts off canvas\n    if(minX &lt; 0){\n        minX = 0;\n    }\n    if(maxX &gt; canvasWidth){\n        maxX = canvasWidth;\n    }\n    if(minY &lt; 0){\n        minY = 0;\n    }\n    if(maxY &gt; canvasHeight){\n        maxY = canvasHeight;\n    }\n    this.targetX = randomRange(minX, maxX);\n    this.targetY = randomRange(minY, maxY);\n};\n\nEnemy.prototype.checkDirection = function(){\n    if(this.centerX &lt; this.targetX){\n        this.drawX += this.speed;\n    }else if(this.centerX &gt; this.targetX){\n        this.drawX -= this.speed;\n    }\n    if(this.centerY &lt; this.targetY){\n        this.drawY += this.speed;\n    }else if(this.centerY &gt; this.targetY){\n        this.drawY -= this.speed;\n    }\n};\n\nEnemy.prototype.die = function (){\n    var soundEffect = new Audio(\"audio/dying.wav\");\n    soundEffect.play();\n    clearInterval(this.moveInterval);\n    this.srcX = 185;\n    this.isDead = true;\n    //this.enemycount -=;\n};\n\nfunction collision(a, b){\n    return a.drawX &lt;= b.drawX + b.width &amp;&amp;\n        a.drawX &gt;= b.drawX &amp;&amp;\n        a.drawY &lt;= b.drawY + b.height &amp;&amp;\n        a.drawY &gt; b.drawY;\n}\n\nif (enemycount == 0){\n    alert(\"WELL DONE\");\n\n    // confirm('Congrats \\n Level Complete!!! \\n Play Again')location.reload();\n}\n</code></pre>\n\n<p>What I am looking to do is when the there are no more enemies I was looking to add an if statement similar to: <code>if(enemycount === 0){confirm('Congratulations You Win \\n Play Again?') window.location.reload();}</code></p>\n"}, {"tags": ["javascript", "jquery", "html"], "comments": [{"owner": {"reputation": 1532, "user_id": 6113960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c1166defd66f28cce815ecb42cbf55?s=128&d=identicon&r=PG&f=1", "display_name": "Yasser Mas", "link": "https://stackoverflow.com/users/6113960/yasser-mas"}, "edited": false, "score": 0, "creation_date": 1566419091, "post_id": 57598703, "comment_id": 101654666, "body": "function previewImages declared twice so you have to change the name for input file 2"}, {"owner": {"reputation": 53, "user_id": 6335288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b17a53143d9958fc6c31400fed4dcb0c?s=128&d=identicon&r=PG&f=1", "display_name": "Drilldoge", "link": "https://stackoverflow.com/users/6335288/drilldoge"}, "reply_to_user": {"reputation": 1532, "user_id": 6113960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c1166defd66f28cce815ecb42cbf55?s=128&d=identicon&r=PG&f=1", "display_name": "Yasser Mas", "link": "https://stackoverflow.com/users/6113960/yasser-mas"}, "edited": false, "score": 0, "creation_date": 1566419509, "post_id": 57598703, "comment_id": 101654830, "body": "thanks that worked. I would like to create a function that would apply for all the file inputs instead of copy pasting. For that I will need to pass file Input Id and div ID to the function which will be different for different file inputs. How would I be able to pass that into a function?"}], "answers": [{"tags": [], "owner": {"reputation": 1532, "user_id": 6113960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c1166defd66f28cce815ecb42cbf55?s=128&d=identicon&r=PG&f=1", "display_name": "Yasser Mas", "link": "https://stackoverflow.com/users/6113960/yasser-mas"}, "is_accepted": false, "score": 1, "last_activity_date": 1566419368, "creation_date": 1566419368, "answer_id": 57598812, "question_id": 57598703, "link": "https://stackoverflow.com/questions/57598703/image-preview-for-two-different-file-input-form-appear-in-same-div-despite-havin/57598812#57598812", "title": "Image preview for two different file input form appear in same div despite having different ids", "body": "<p>function previewImages declared twice, the second function will override the first, so you have to change function name for input file 2 </p>\n"}, {"tags": [], "owner": {"reputation": 937, "user_id": 6857253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dfc7c7e7460d19e1aa991c9dd42909c?s=128&d=identicon&r=PG&f=1", "display_name": "SegFault", "link": "https://stackoverflow.com/users/6857253/segfault"}, "is_accepted": false, "score": 1, "last_activity_date": 1566419564, "creation_date": 1566419564, "answer_id": 57598842, "question_id": 57598703, "link": "https://stackoverflow.com/questions/57598703/image-preview-for-two-different-file-input-form-appear-in-same-div-despite-havin/57598842#57598842", "title": "Image preview for two different file input form appear in same div despite having different ids", "body": "<p>You have defined the same function to preview both images (<code>function previewImages()</code>).</p>\n\n<p>At least, you should rename the second function declaration to <code>function previewImages2()</code></p>\n\n<p>Then update your event handlers to the corresponding functions:</p>\n\n<pre><code>$('#inputGroupFile').on(\"change\", previewImages);\n</code></pre>\n\n<p>and</p>\n\n<pre><code>$('#inputGroupFile2').on(\"change\", previewImages2);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 6335288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b17a53143d9958fc6c31400fed4dcb0c?s=128&d=identicon&r=PG&f=1", "display_name": "Drilldoge", "link": "https://stackoverflow.com/users/6335288/drilldoge"}, "edited": false, "score": 1, "creation_date": 1566420256, "post_id": 57598846, "comment_id": 101655099, "body": "Exactly what I was looking for!! Thanks"}], "tags": [], "owner": {"reputation": 39660, "user_id": 3880585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8pfp3.png?s=128&g=1", "display_name": "gaetanoM", "link": "https://stackoverflow.com/users/3880585/gaetanom"}, "is_accepted": true, "score": 2, "last_activity_date": 1566419980, "last_edit_date": 1566419980, "creation_date": 1566419601, "answer_id": 57598846, "question_id": 57598703, "link": "https://stackoverflow.com/questions/57598703/image-preview-for-two-different-file-input-form-appear-in-same-div-despite-havin/57598846#57598846", "title": "Image preview for two different file input form appear in same div despite having different ids", "body": "<p>You have duplicated IDs: inputGroupFileAddon. </p>\n\n<p>You have duplicated functions.</p>\n\n<p>Your main issue is how you refer to the preview div:</p>\n\n<pre><code> $('#preview')\n</code></pre>\n\n<p>You can change that to:</p>\n\n<pre><code>$(this).closest('.row').find('[id^=\"preview\"]')\n</code></pre>\n\n<p>...Go up till the row ancestor and find the element with an id starting with <strong>preview</strong></p>\n\n<p>In this way you do not need anymore two different functions.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('#inputGroupFile, #inputGroupFile2').on(\"change\", function(e) {\r\n  var $preview = $(this).closest('.row').find('[id^=\"preview\"]').empty();\r\n  if (this.files) $.each(this.files, readAndPreview);\r\n  function readAndPreview(i, file) {\r\n      if (!/\\.(jpe?g|png|gif)$/i.test(file.name)){\r\n          return alert(file.name +\" is not an image\");\r\n      } // else...\r\n      var reader = new FileReader();\r\n      $(reader).on(\"load\", function() {\r\n          $preview.append($(\"&lt;img/&gt;\", {src:this.result, height:100}));\r\n      });\r\n      reader.readAsDataURL(file);\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js\"&gt;&lt;/script&gt;\r\n\r\n\r\n&lt;div class=\"container py-4\"&gt;\r\n    &lt;div class=\"row\"&gt;\r\n        &lt;div class=\"col-sm-12 mx-auto\"&gt;\r\n\r\n            &lt;div class=\"input-group mb-3\"&gt;\r\n                &lt;div class=\"custom-file\"&gt;\r\n                    &lt;input type=\"file\" class=\"custom-file-input\" id=\"inputGroupFile\" multiple&gt;\r\n                    &lt;label class=\"custom-file-label\" for=\"inputGroupFile\" aria-describedby=\"inputGroupFileAddon\"&gt;Choose image&lt;/label&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=\"input-group-append\"&gt;\r\n                    &lt;span class=\"input-group-text\" id=\"inputGroupFileAddon1\"&gt;Upload&lt;/span&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n\r\n            &lt;div id=\"preview\"&gt;&lt;/div&gt;\r\n\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"row\"&gt;\r\n        &lt;div class=\"col-sm-12 mx-auto\"&gt;\r\n\r\n            &lt;div class=\"input-group mb-3\"&gt;\r\n                &lt;div class=\"custom-file\"&gt;\r\n                    &lt;input type=\"file\" class=\"custom-file-input\" id=\"inputGroupFile2\" multiple&gt;\r\n                    &lt;label class=\"custom-file-label\" for=\"inputGroupFile2\" aria-describedby=\"inputGroupFileAddon\"&gt;Choose image&lt;/label&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=\"input-group-append\"&gt;\r\n                    &lt;span class=\"input-group-text\" id=\"inputGroupFileAddon2\"&gt;Upload&lt;/span&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n\r\n            &lt;div id=\"preview2\"&gt;&lt;/div&gt;\r\n\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 53, "user_id": 6335288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b17a53143d9958fc6c31400fed4dcb0c?s=128&d=identicon&r=PG&f=1", "display_name": "Drilldoge", "link": "https://stackoverflow.com/users/6335288/drilldoge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 57598846, "answer_count": 3, "score": 0, "last_activity_date": 1566419980, "creation_date": 1566418785, "last_edit_date": 1566419135, "question_id": 57598703, "link": "https://stackoverflow.com/questions/57598703/image-preview-for-two-different-file-input-form-appear-in-same-div-despite-havin", "title": "Image preview for two different file input form appear in same div despite having different ids", "body": "<p>I have run into a small problem again. I know this is not the most elegant question to ask but I am stuck and need real help.</p>\n\n<p>I am trying to display image preview of the files selected in File input form. I have a small jQuery snippet that reads the files and previews them. The code was working fine with one file input but I decided to add another one just below it and copied pasted the jQuery script changing the file input ID and preview div ID for the second input. But the the preview for the both file Input seems to be appearing in the same div. I am new to this so I am hard time debugging. Help me resolve this issue.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function(){\r\n    bsCustomFileInput.init();\r\n    function previewImages() {\r\n\r\n        var $preview = $('#preview').empty();\r\n        if (this.files) $.each(this.files, readAndPreview);\r\n      \r\n        function readAndPreview(i, file) {\r\n          \r\n          if (!/\\.(jpe?g|png|gif)$/i.test(file.name)){\r\n            return alert(file.name +\" is not an image\");\r\n          } // else...\r\n          \r\n          var reader = new FileReader();\r\n      \r\n          $(reader).on(\"load\", function() {\r\n            $preview.append($(\"&lt;img/&gt;\", {src:this.result, height:100}));\r\n          });\r\n      \r\n          reader.readAsDataURL(file);\r\n          \r\n        }\r\n      \r\n      }\r\n      \r\n      $('#inputGroupFile').on(\"change\", previewImages);\r\n\r\n      function previewImages() {\r\n\r\n        var $preview = $('#preview2').empty();\r\n        if (this.files) $.each(this.files, readAndPreview);\r\n      \r\n        function readAndPreview(i, file) {\r\n          \r\n          if (!/\\.(jpe?g|png|gif)$/i.test(file.name)){\r\n            return alert(file.name +\" is not an image\");\r\n          } // else...\r\n          \r\n          var reader = new FileReader();\r\n      \r\n          $(reader).on(\"load\", function() {\r\n            $preview.append($(\"&lt;img/&gt;\", {src:this.result, height:100}));\r\n          });\r\n      \r\n          reader.readAsDataURL(file);\r\n          \r\n        }\r\n      \r\n      }\r\n      \r\n      $('#inputGroupFile2').on(\"change\", previewImages);\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!doctype html&gt;\r\n&lt;html lang=\"en\"&gt;\r\n  &lt;head&gt;\r\n    &lt;!-- Required meta tags --&gt;\r\n    &lt;meta charset=\"utf-8\"&gt;\r\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\"&gt;\r\n\r\n    &lt;!-- Bootstrap CSS --&gt;\r\n    &lt;link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\" integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\" crossorigin=\"anonymous\"&gt;\r\n\r\n    &lt;title&gt;Hello, world!&lt;/title&gt;\r\n  &lt;/head&gt;\r\n  &lt;body&gt;\r\n    &lt;div class=\"container py-4\"&gt;\r\n        &lt;div class=\"row\"&gt;\r\n            &lt;div class=\"col-sm-12 mx-auto\"&gt;\r\n    \r\n                &lt;div class=\"input-group mb-3\"&gt;\r\n                    &lt;div class=\"custom-file\"&gt;\r\n                        &lt;input type=\"file\" class=\"custom-file-input\" id=\"inputGroupFile\" multiple&gt;\r\n                        &lt;label class=\"custom-file-label\" for=\"inputGroupFile\" aria-describedby=\"inputGroupFileAddon\"&gt;Choose image&lt;/label&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=\"input-group-append\"&gt;\r\n                        &lt;span class=\"input-group-text\" id=\"inputGroupFileAddon\"&gt;Upload&lt;/span&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n                \r\n               &lt;div id=\"preview\"&gt;&lt;/div&gt;\r\n    \r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=\"row\"&gt;\r\n            &lt;div class=\"col-sm-12 mx-auto\"&gt;\r\n    \r\n                &lt;div class=\"input-group mb-3\"&gt;\r\n                    &lt;div class=\"custom-file\"&gt;\r\n                        &lt;input type=\"file\" class=\"custom-file-input\" id=\"inputGroupFile2\" multiple&gt;\r\n                        &lt;label class=\"custom-file-label\" for=\"inputGroupFile2\" aria-describedby=\"inputGroupFileAddon\"&gt;Choose image&lt;/label&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=\"input-group-append\"&gt;\r\n                        &lt;span class=\"input-group-text\" id=\"inputGroupFileAddon\"&gt;Upload&lt;/span&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n                \r\n               &lt;div id=\"preview2\"&gt;&lt;/div&gt;\r\n    \r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;!-- Optional JavaScript --&gt;\r\n    &lt;!-- jQuery first, then Popper.js, then Bootstrap JS --&gt;\r\n    &lt;script src=\"https://code.jquery.com/jquery-3.3.1.slim.min.js\" integrity=\"sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\r\n    &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js\" integrity=\"sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\r\n    &lt;script src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js\" integrity=\"sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\r\n    &lt;script src=\"https://cdn.jsdelivr.net/npm/bs-custom-file-input/dist/bs-custom-file-input.min.js\"&gt;&lt;/script&gt;\r\n    &lt;script src=\"/images.js\"&gt;&lt;/script&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 3074, "user_id": 7253451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIjsy.jpg?s=128&g=1", "display_name": "G.aziz", "link": "https://stackoverflow.com/users/7253451/g-aziz"}, "edited": false, "score": 0, "creation_date": 1566418683, "post_id": 57598645, "comment_id": 101654513, "body": "could you please add the Html"}], "answers": [{"tags": [], "owner": {"reputation": 963, "user_id": 3123404, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/747343b8c7fb5a4d60e0d4dcc45024f6?s=128&d=identicon&r=PG&f=1", "display_name": "AGoranov", "link": "https://stackoverflow.com/users/3123404/agoranov"}, "is_accepted": false, "score": 0, "last_activity_date": 1566419484, "last_edit_date": 1566419484, "creation_date": 1566418973, "answer_id": 57598741, "question_id": 57598645, "link": "https://stackoverflow.com/questions/57598645/javascript-slideshow-not-slide-when-click/57598741#57598741", "title": "Javascript: slideshow not slide when click", "body": "<p>The problem is that you are creating an interval and then never clearing it. This means that once the interval is created it will keep going on forever (currently). You can read more about intervals <a href=\"https://www.w3schools.com/jsref/met_win_setinterval.asp\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>To briefly explain how to solve it:</p>\n\n<ol>\n<li>You need to assign the interval to a variable</li>\n<li>When you want to manually change images then clear the interval</li>\n</ol>\n\n<p>Code snippet from the site:</p>\n\n<pre><code>var myVar = setInterval(myTimer, 1000);\n\nfunction myTimer() {\n  var d = new Date();\n  var t = d.toLocaleTimeString();\n  document.getElementById(\"demo\").innerHTML = t;\n}\n\nfunction myStopFunction() {\n  clearInterval(myVar);\n} \n</code></pre>\n\n<p>Inside of your code, when creating the interval you need to assign it into a variable and inside of the function <code>rightSlide()</code> you would need to clear it <code>clearInterval(&lt;yourIntervalHere&gt;);</code></p>\n\n<pre><code>var intervalVariable = setInterval(function () {\n    index = index + 1 &lt; $imageEls.length ? index + 1 : 0;\n    $imageEls.eq(index).addClass('show');\n    $imageEls.eq(index - 1).removeClass('show');\n}, 5000);\n\nfunction rightSlide() {\n    clearInterval(intervalVariable);\n    index = index + 1 &lt; $imageEls.length ? index + 1 : 0;\n    $imageEls.eq(index).addClass('show');\n    $imageEls.eq(index - 1).removeClass('show');\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 877, "user_id": 3083470, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2eaf3ff220e9b9e393be2c75694815ef?s=128&d=identicon&r=PG&f=1", "display_name": "Taxel", "link": "https://stackoverflow.com/users/3083470/taxel"}, "is_accepted": false, "score": 0, "last_activity_date": 1566420677, "creation_date": 1566420677, "answer_id": 57599032, "question_id": 57598645, "link": "https://stackoverflow.com/questions/57598645/javascript-slideshow-not-slide-when-click/57599032#57599032", "title": "Javascript: slideshow not slide when click", "body": "<p>You need to clear the interval but that's not the only problem:</p>\n\n<p>Probably, the <code>$imageEls</code> and <code>index</code> variables are not in the scope of your custom click handler. It is definitely not the cleanest solution, but for now we will add them to the global <code>window</code> object</p>\n\n<p>This is how I would write it (untested):</p>\n\n<pre><code>function cycleBackgrounds() {\n    window.index = (window.index + 1 &lt; window.$imageEls.length) ? window.index + 1 : 0;\n    window.$imageEls.eq(index).addClass('show');\n    window.$imageEls.eq(index - 1).removeClass('show');\n\n}\n\n$(function () {\n    // add the new variables to window so they are globally accessible\n    window.index = 0;\n    window.$imageEls = $('.container .slide');\n    // start sliding images\n    window.slideshow_interval = setInterval(cycleBackgrounds, 5000);\n    // register onClick handler for the button with id \"myButton\"\n    $('#myButton').on('click', function(){\n      if (window.slideshow_interval != -1){\n          clearInterval(window.slideshow_interval);\n          window.slideshow_interval = -1;\n      }\n      cycleBackgrounds();        \n    });\n});\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 11605401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49971ad34543d6a14430fc9203d80534?s=128&d=identicon&r=PG&f=1", "display_name": "Caciky", "link": "https://stackoverflow.com/users/11605401/caciky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1566420677, "creation_date": 1566418506, "last_edit_date": 1566419042, "question_id": 57598645, "link": "https://stackoverflow.com/questions/57598645/javascript-slideshow-not-slide-when-click", "title": "Javascript: slideshow not slide when click", "body": "<p>I have simple code where is slideshow which automatic slides every 5000ms. </p>\n\n<p>Now I tried to make button which when I click on this button next image will not slide every 5000ms but when I click.</p>\n\n<p>When I make code like this browser giving me errors.</p>\n\n<p>Is there any solutions or I need make ned slideshow?</p>\n\n<p><strong>This is original code:</strong></p>\n\n<pre><code>function cycleBackgrounds() {\nvar index = 0;\n\n$imageEls = $('.container .slide');\n\nsetInterval(function () {\n    index = index + 1 &lt; $imageEls.length ? index + 1 : 0;\n    $imageEls.eq(index).addClass('show');\n    $imageEls.eq(index - 1).removeClass('show');\n\n}, 5000);\n};\n\n$(function () {\n    cycleBackgrounds();\n});\n</code></pre>\n\n<p><strong>This is added code:</strong></p>\n\n<pre><code>function rightSlide() {\n    index = index + 1 &lt; $imageEls.length ? index + 1 : 0;\n    $imageEls.eq(index).addClass('show');\n    $imageEls.eq(index - 1).removeClass('show');\n  }\n</code></pre>\n\n<p><strong>EDIT added HTML</strong></p>\n\n<pre><code>&lt;section class=\"slide show\" style=\"background-image: url('https://s7img.ftdi.com/is/image/ProvideCommerce/FTD_19_EDAY_19M3_HP_HEROBANNER?$ftd-product-banner-lv$');\"&gt;\n    &lt;div class=\"slide-content-wrapper\"&gt;\n        &lt;div class=\"slide-content\"&gt;\n            &lt;h2&gt;02&lt;/h2&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/section&gt;\n&lt;section class=\"slide\" style=\"background-image: url('https://s7img.ftdi.com/is/image/ProvideCommerce/FTD_19_EDAY_19M3_HP_HEROBANNER?$ftd-product-banner-lv$');\"&gt;\n    &lt;div class=\"slide-content-wrapper right\"&gt;\n        &lt;div class=\"slide-content\"&gt;\n            &lt;h2&gt;01&lt;/h2&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/section&gt;\n</code></pre>\n"}, {"tags": ["javascript", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 1, "creation_date": 1566418610, "post_id": 57598615, "comment_id": 101654497, "body": "What is the exact value of <code>restaurant_name</code>? Log it or use a debugger to find the value at runtime."}, {"owner": {"reputation": 77, "user_id": 8848786, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ebK2tYCAyNM/AAAAAAAAAAI/AAAAAAAAGgE/g--ieMLdJn0/photo.jpg?sz=128", "display_name": "Tomi Gelo", "link": "https://stackoverflow.com/users/8848786/tomi-gelo"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1566472145, "post_id": 57598615, "comment_id": 101671378, "body": "Using <code>console.log</code> I could see that it&#39;s the same (&quot;mcdonalds&quot;) which is also reflected in the Firestore console since there is now one more document with the same ID (&quot;mcdonalds&quot;)."}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1566474022, "post_id": 57598615, "comment_id": 101672392, "body": "It&#39;s not possible to have more than one document with the same ID in a collection.  Document ID must be unique per collection.  So I&#39;m not sure what you&#39;re seeing here."}, {"owner": {"reputation": 77, "user_id": 8848786, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ebK2tYCAyNM/AAAAAAAAAAI/AAAAAAAAGgE/g--ieMLdJn0/photo.jpg?sz=128", "display_name": "Tomi Gelo", "link": "https://stackoverflow.com/users/8848786/tomi-gelo"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1566475671, "post_id": 57598615, "comment_id": 101673298, "body": "But that&#39;s what&#39;s happening! I invite you to hook this codepen to a firestore db, you should see what I am seeing (just create a &quot;mcdonalds&quot; document before adding the review): <a href=\"https://codepen.io/tgel0/pen/WNeRNPd\" rel=\"nofollow noreferrer\">codepen.io/tgel0/pen/WNeRNPd</a>"}], "owner": {"reputation": 77, "user_id": 8848786, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ebK2tYCAyNM/AAAAAAAAAAI/AAAAAAAAGgE/g--ieMLdJn0/photo.jpg?sz=128", "display_name": "Tomi Gelo", "link": "https://stackoverflow.com/users/8848786/tomi-gelo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566418388, "creation_date": 1566418388, "question_id": 57598615, "link": "https://stackoverflow.com/questions/57598615/firestore-duplicate-empty-doc-id-when-setting-doc-id-using-innerhtml", "title": "Firestore duplicate (empty) doc ID when setting doc ID using innerHTML", "body": "<p>There seems to be a difference when I set a javascript variable \"directly\" as this (option 1):</p>\n\n<pre><code>const restaurant_name = \"mcdonalds\";\n</code></pre>\n\n<p>vs reading it in from innerHTML (option 2):</p>\n\n<pre><code>const restaurant_name = restaurant_name.innerHTML;\n</code></pre>\n\n<p>What I want to do here is to use the variable in my doc_ref to create a new Firestore subcollection under the appropriate restaurant name:</p>\n\n<pre><code>const doc_ref = firestore.collection(\"restaurants\").doc(restaurant_name ).collection(\"reviews\").doc(\"user1\")\n</code></pre>\n\n<p>This works fine with option 1.</p>\n\n<p>With option 2 however, Firestore creates the subcollection under a completely new empty document with the same ID as the already existing one (\"mcdonalds\").</p>\n\n<p>Yes, you read that right - I have 2 documents with the same ID in my collection!</p>\n\n<p>Here is the full snippet:</p>\n\n<pre><code>$( document ).ready(function() {\n    const restaurant_name = restaurant_name.innerHTML;\n    const doc_ref = firestore.collection(\"restaurants\").doc(restaurant_name ).collection(\"reviews\").doc(\"user1\")\n    $('#buttonLike').on('click',function(){\n        doc_ref.set(\n            {\"rating\":'10'}\n            );\n     }\n );\n</code></pre>\n\n<p>My only idea so far was that the variable gets stored as some weird HTML-type with option 2. However, I got the same results when explicitly converting the variable with ToString.</p>\n"}, {"tags": ["javascript", "angular", "angular-ng-if"], "answers": [{"comments": [{"owner": {"reputation": 323, "user_id": 7089187, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8afb0ce633fcbd89e08c25414ec41b58?s=128&d=identicon&r=PG&f=1", "display_name": "Finalmix6", "link": "https://stackoverflow.com/users/7089187/finalmix6"}, "edited": false, "score": 1, "creation_date": 1566418560, "post_id": 57598606, "comment_id": 101654473, "body": "Oh that was that simple !! Sorry I&#39;m new to Angular.  Thank you very much.  Need to wait a little before validating your answer."}, {"owner": {"reputation": 475, "user_id": 11714668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/059c16fa2447ef8d1b968658d866c70c?s=128&d=identicon&r=PG&f=1", "display_name": "Jbluehdorn", "link": "https://stackoverflow.com/users/11714668/jbluehdorn"}, "reply_to_user": {"reputation": 323, "user_id": 7089187, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8afb0ce633fcbd89e08c25414ec41b58?s=128&d=identicon&r=PG&f=1", "display_name": "Finalmix6", "link": "https://stackoverflow.com/users/7089187/finalmix6"}, "edited": false, "score": 1, "creation_date": 1566418722, "post_id": 57598606, "comment_id": 101654529, "body": "@Finalmix6 No worries. Glad it helped!"}], "tags": [], "owner": {"reputation": 475, "user_id": 11714668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/059c16fa2447ef8d1b968658d866c70c?s=128&d=identicon&r=PG&f=1", "display_name": "Jbluehdorn", "link": "https://stackoverflow.com/users/11714668/jbluehdorn"}, "is_accepted": true, "score": 4, "last_activity_date": 1566418347, "creation_date": 1566418347, "answer_id": 57598606, "question_id": 57598568, "link": "https://stackoverflow.com/questions/57598568/angular-8-condition-show-an-else-value/57598606#57598606", "title": "Angular 8 =&gt; Condition : show an else value", "body": "<p>Maybe just include an <code>*ngIf=\"!filteredProducts.length\"</code> wherever you'd like to show your message. </p>\n\n<p>ex.</p>\n\n<pre><code>\n&lt;tr *ngFor=\"let product of filteredProducts\"&gt;\n    //Your table stuff\n&lt;/tr&gt;\n&lt;tr *ngIf=\"!filteredProducts.length\"&gt;\n     &lt;td colspan=\"6\"&gt;No data found&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 323, "user_id": 7089187, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8afb0ce633fcbd89e08c25414ec41b58?s=128&d=identicon&r=PG&f=1", "display_name": "Finalmix6", "link": "https://stackoverflow.com/users/7089187/finalmix6"}, "edited": false, "score": 0, "creation_date": 1566418953, "post_id": 57598662, "comment_id": 101654614, "body": "Thank you very much !  Sorry for this basic mistake, I&#39;m new to Angular."}], "tags": [], "owner": {"reputation": 1532, "user_id": 6113960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c1166defd66f28cce815ecb42cbf55?s=128&d=identicon&r=PG&f=1", "display_name": "Yasser Mas", "link": "https://stackoverflow.com/users/6113960/yasser-mas"}, "is_accepted": false, "score": 2, "last_activity_date": 1566418601, "creation_date": 1566418601, "answer_id": 57598662, "question_id": 57598568, "link": "https://stackoverflow.com/questions/57598568/angular-8-condition-show-an-else-value/57598662#57598662", "title": "Angular 8 =&gt; Condition : show an else value", "body": "<p>You have to add tr contains string no data found after ngfor tr</p>\n\n<pre><code>  &lt;tr *ngFor=\"let product of filteredProducts\"&gt;\n          &lt;td&gt;&lt;img *ngIf=\"showImage\" [src]=\"product.imageUrl\" [title]=\"product.productName\"\n                   [style.width.px]=\"imageWidth\" [style.margin.px]=\"imageMargin\" alt=\"\"&gt;&lt;/td&gt;\n          &lt;td&gt;{{product.productName}}&lt;/td&gt;\n          &lt;td&gt;{{product.productCode | lowercase | convertToSpaces: '-'}}&lt;/td&gt;\n          &lt;td&gt;{{product.releaseDate}}&lt;/td&gt;\n          &lt;td&gt;{{product.price | currency: 'EUR':'symbol':'2.2-2'}}&lt;/td&gt;\n          &lt;td&gt;{{product.starRating}}&lt;/td&gt;\n        &lt;/tr&gt;\n\n&lt;tr *ngIf=\"filteredProducts.length === 0 \" &gt;\n&lt;td colspan=\"6\" &gt;Your message here &lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 323, "user_id": 7089187, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8afb0ce633fcbd89e08c25414ec41b58?s=128&d=identicon&r=PG&f=1", "display_name": "Finalmix6", "link": "https://stackoverflow.com/users/7089187/finalmix6"}, "edited": false, "score": 0, "creation_date": 1566418966, "post_id": 57598687, "comment_id": 101654620, "body": "Thank you very much !  Sorry for this basic mistake, I&#39;m new to Angular."}], "tags": [], "owner": {"reputation": 1155, "user_id": 5383945, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g4y1k.jpg?s=128&g=1", "display_name": "Jazib", "link": "https://stackoverflow.com/users/5383945/jazib"}, "is_accepted": false, "score": 2, "last_activity_date": 1566418708, "creation_date": 1566418708, "answer_id": 57598687, "question_id": 57598568, "link": "https://stackoverflow.com/questions/57598568/angular-8-condition-show-an-else-value/57598687#57598687", "title": "Angular 8 =&gt; Condition : show an else value", "body": "<p>You can simply add a row that appears only when the list is empty and the search bar has any value. like this:</p>\n\n<pre><code> &lt;tr *ngFor=\"let product of filteredProducts\"&gt;...&lt;/tr&gt;\n\n &lt;tr col-span =\"6\" *ngIf=\"!filteredProducts.length &amp;&amp; listFilter.length\"&gt; uh oh, \n could not find what you searched for&lt;/tr&gt;\n\n</code></pre>\n"}], "owner": {"reputation": 323, "user_id": 7089187, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8afb0ce633fcbd89e08c25414ec41b58?s=128&d=identicon&r=PG&f=1", "display_name": "Finalmix6", "link": "https://stackoverflow.com/users/7089187/finalmix6"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4576, "favorite_count": 0, "accepted_answer_id": 57598606, "answer_count": 3, "score": 1, "last_activity_date": 1566418708, "creation_date": 1566418123, "question_id": 57598568, "link": "https://stackoverflow.com/questions/57598568/angular-8-condition-show-an-else-value", "title": "Angular 8 =&gt; Condition : show an else value", "body": "<p>I'm trying to filter a default value if no result is found on my query.</p>\n\n<p>I tried using ng-template, but I simply don't manage to do it.</p>\n\n<hr>\n\n<p><strong>Rather than writing, here are images to better understand</strong> :</p>\n\n<p><a href=\"https://i.stack.imgur.com/pxAyU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pxAyU.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/ndaeB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ndaeB.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is my successful filter : it correctly shows my datas once I filter them in the search box.</p>\n\n<hr>\n\n<p><strong>However if I try to enter an invalid data as done below</strong> :</p>\n\n<p><a href=\"https://i.stack.imgur.com/opUuZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/opUuZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>It simply returns me an empty html table.</p>\n\n<p>Which is not what I'd like to achieve. I'd like it instead to show a message saying : no data found.</p>\n\n<p>How can I do it please?</p>\n\n<hr>\n\n<p><strong>And here is my source code</strong> :</p>\n\n<p><strong>Component</strong> :</p>\n\n<pre><code>import {Component, OnInit} from '@angular/core';\nimport {IProduct} from './product';\n\n@Component({\n  selector: 'pm-products',\n  templateUrl: './product-list.component.html',\n  styleUrls: ['./product-list.component.css']\n})\n\nexport class ProductListComponent implements OnInit {\n\n  ///////////////////////////////////// PROPERTIES //////////////////////////////////////\n\n  // String Interpolation\n  pageTitle = 'Product List';\n\n  // Property binding\n  imageWidth = 50;\n  imageMargin = 2;\n\n  // Event binding\n  showImage = false;\n\n  // Two-way binding\n  // listFilter = 'cart';\n\n  // Filter products\n  private _listFilter: string;\n\n  // Filter Products Array\n  filteredProducts: IProduct[];\n\n  ///////////////////////////////////// CONSTRUCTOR //////////////////////////////////////\n\n  constructor() {\n    this.filteredProducts = this.products;\n    this.listFilter = 'cart';\n  }\n\n  /////////////////////////////////// GETTERS/SETTERS ///////////////////////////////////\n\n  get listFilter(): string {\n    return this._listFilter;\n  }\n\n  set listFilter(value: string) {\n    this._listFilter = value;\n    /***\n     * If there is a list of filtered value, show the list of the filtered values =&gt; this.performFilter(this.listFilter)\n     * Else, (if there is no filtered) return the whole set of products\n     */\n    this.filteredProducts = this.listFilter ? this.performFilter(this.listFilter) : this.products;\n  }\n\n  /////////////////////////////////////// METHODS ///////////////////////////////////////\n\n  // Get Products\n  products: IProduct[] = [\n    {\n      productId: 2,\n      productName: 'Garden Cart',\n      productCode: 'GDN-0023',\n      releaseDate: 'March 18, 2019',\n      description: '15 gallon capacity rolling garden cart',\n      price: 32.99,\n      starRating: 4.2,\n      imageUrl: 'assets/images/garden_cart.png'\n    },\n    {\n      productId: 5,\n      productName: 'Hammer',\n      productCode: 'TBX-0048',\n      releaseDate: 'May 21, 2019',\n      description: 'Curved claw steel hammer',\n      price: 8.9,\n      starRating: 4.8,\n      imageUrl: 'assets/images/hammer.png'\n    },\n  ];\n\n  performFilter(filterBy: string): IProduct[] {\n    /**\n     * filterBy result =&gt; to lower case. =&gt; case insensitive comparison.\n     * Return a new array of the filtered productS by the product name,\n     * by checking if that product name given is an index of the an element in the product array.\n     */\n    filterBy = filterBy.toLowerCase(); // 1.\n    return  this.products.filter((product: IProduct) =&gt; product.productName.toLowerCase().indexOf(filterBy) !== - 1); // 2.\n  }\n\n  toggleImage = (): void =&gt; {\n    this.showImage = !this.showImage;\n  }\n\n  ////////////////////////////////// LIFECYCLE HOOKS ///////////////////////////////////\n\n  ngOnInit(): void {\n    console.log('hello');\n  }\n}\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;div class=\"card\"&gt;\n\n  &lt;div class=\"card-header\"&gt;{{pageTitle}}&lt;/div&gt;\n\n  &lt;!-- CARD --&gt;\n  &lt;div class=\"card-body\"&gt;\n    &lt;div class=\"row\"&gt;\n      &lt;div class=\"col-md-2\"&gt; Filter by:&lt;/div&gt;\n      &lt;div class=\"col-md-4\"&gt;\n        &lt;input [(ngModel)]=\"listFilter\" type=\"text\"/&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"row\"&gt;\n      &lt;div class=\"col-md-6\"&gt;\n        &lt;h4&gt;Filtered by: {{listFilter}} &lt;/h4&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;!-- ./CARD --&gt;\n\n    &lt;!-- TABLE --&gt;\n    &lt;div class=\"table-responsive\"&gt;\n      &lt;table *ngIf=\"products &amp;&amp; products.length\" class=\"table\"&gt;\n        &lt;thead&gt;\n        &lt;tr&gt;\n          &lt;th&gt;\n            &lt;button (click)=\"toggleImage()\" class=\"btn btn-primary\"&gt;{{showImage ? \"Hide\" : \"Show\"}} image&lt;/button&gt;\n          &lt;/th&gt;\n          &lt;th&gt;Product&lt;/th&gt;\n          &lt;th&gt;Code&lt;/th&gt;\n          &lt;th&gt;Available&lt;/th&gt;\n          &lt;th&gt;Price&lt;/th&gt;\n          &lt;th&gt;5 Star Rating&lt;/th&gt;\n        &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n        &lt;tr *ngFor=\"let product of filteredProducts\"&gt;\n          &lt;td&gt;&lt;img *ngIf=\"showImage\" [src]=\"product.imageUrl\" [title]=\"product.productName\"\n                   [style.width.px]=\"imageWidth\" [style.margin.px]=\"imageMargin\" alt=\"\"&gt;&lt;/td&gt;\n          &lt;td&gt;{{product.productName}}&lt;/td&gt;\n          &lt;td&gt;{{product.productCode | lowercase | convertToSpaces: '-'}}&lt;/td&gt;\n          &lt;td&gt;{{product.releaseDate}}&lt;/td&gt;\n          &lt;td&gt;{{product.price | currency: 'EUR':'symbol':'2.2-2'}}&lt;/td&gt;\n          &lt;td&gt;{{product.starRating}}&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;/tbody&gt;\n      &lt;/table&gt;\n    &lt;/div&gt;\n    &lt;!-- ./TABLE --&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<hr>\n\n<p>Please take care of yourself.</p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 504, "user_id": 2136847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PGDwR.jpg?s=128&g=1", "display_name": "Zachary McGee", "link": "https://stackoverflow.com/users/2136847/zachary-mcgee"}, "edited": false, "score": 1, "creation_date": 1566417847, "post_id": 57598498, "comment_id": 101654206, "body": "Could you post some code? What is the api?"}, {"owner": {"reputation": 752, "user_id": 6087555, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/J0jbA.jpg?s=128&g=1", "display_name": "Karthik", "link": "https://stackoverflow.com/users/6087555/karthik"}, "edited": false, "score": 0, "creation_date": 1566417866, "post_id": 57598498, "comment_id": 101654216, "body": "Please mention in which os you are building your application and also which language and stack you are using to build the software."}, {"owner": {"reputation": 3, "user_id": 10152797, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Rx8G3AehxLs/AAAAAAAAAAI/AAAAAAAAAk0/7nmtHv1k6lM/photo.jpg?sz=128", "display_name": "Andy Guo", "link": "https://stackoverflow.com/users/10152797/andy-guo"}, "reply_to_user": {"reputation": 504, "user_id": 2136847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PGDwR.jpg?s=128&g=1", "display_name": "Zachary McGee", "link": "https://stackoverflow.com/users/2136847/zachary-mcgee"}, "edited": false, "score": 0, "creation_date": 1566417964, "post_id": 57598498, "comment_id": 101654245, "body": "@ZacharyMcGee done"}, {"owner": {"reputation": 3, "user_id": 10152797, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Rx8G3AehxLs/AAAAAAAAAAI/AAAAAAAAAk0/7nmtHv1k6lM/photo.jpg?sz=128", "display_name": "Andy Guo", "link": "https://stackoverflow.com/users/10152797/andy-guo"}, "reply_to_user": {"reputation": 752, "user_id": 6087555, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/J0jbA.jpg?s=128&g=1", "display_name": "Karthik", "link": "https://stackoverflow.com/users/6087555/karthik"}, "edited": false, "score": 0, "creation_date": 1566417992, "post_id": 57598498, "comment_id": 101654255, "body": "@KarthikSKumar Windows, Electron, Puppeteer, html/css"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10152797, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Rx8G3AehxLs/AAAAAAAAAAI/AAAAAAAAAk0/7nmtHv1k6lM/photo.jpg?sz=128", "display_name": "Andy Guo", "link": "https://stackoverflow.com/users/10152797/andy-guo"}, "edited": false, "score": 0, "creation_date": 1566419360, "post_id": 57598746, "comment_id": 101654772, "body": "Thanks Karthik! But how do I read the body of the response, and how do I make it so the screen doesn&#39;t show the api response on submit?"}], "tags": [], "owner": {"reputation": 752, "user_id": 6087555, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/J0jbA.jpg?s=128&g=1", "display_name": "Karthik", "link": "https://stackoverflow.com/users/6087555/karthik"}, "is_accepted": true, "score": 0, "last_activity_date": 1566418998, "creation_date": 1566418998, "answer_id": 57598746, "question_id": 57598498, "link": "https://stackoverflow.com/questions/57598498/how-to-make-if-statement-on-product-activation/57598746#57598746", "title": "How to make if statement on product activation?", "body": "<p>You can use the following code </p>\n\n<pre><code>If(key is correct){\n  const messageBoxOptions = {\n      type: \"question\",\n      title: \"Enter valid key\",\n      message: \"License key is wrong\"\n  };\n  dialog.showMessageBox(messageBoxOptions)\n } else {\n    const remote = require('electron').remote;\n    const BrowserWindow = remote.BrowserWindow;\n    const win = new BrowserWindow({\n    height: 600,\n    width: 800\n    });\n   win.loadURL('&lt;url&gt;');\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 10152797, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Rx8G3AehxLs/AAAAAAAAAAI/AAAAAAAAAk0/7nmtHv1k6lM/photo.jpg?sz=128", "display_name": "Andy Guo", "link": "https://stackoverflow.com/users/10152797/andy-guo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "closed_date": 1566451220, "accepted_answer_id": 57598746, "answer_count": 1, "score": -5, "last_activity_date": 1566418998, "creation_date": 1566417736, "last_edit_date": 1566417881, "question_id": 57598498, "link": "https://stackoverflow.com/questions/57598498/how-to-make-if-statement-on-product-activation", "closed_reason": "Needs more focus", "title": "How to make if statement on product activation?", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form method=\"get\"  formenctype=\"text/plain\"  action=\"https://app.cryptolens.io/api/key/Activate\" &gt;\r\n      &lt;input type=\"text\"   maxlength=\"23\" size=\"80\" name=\"Key\" placeholder=\"XXXXX-XXXXX-XXXXX-XXXXX\" /&gt;\r\n      &lt;input type=\"hidden\" name=\"token\" value=\"token\" /&gt;\r\n      &lt;input type=\"hidden\"   name=\"ProductId\" value=\"XXXX\" /&gt;\r\n &lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>so I'm making a desktop app, and it will require users to activate a license key to unlock the software. </p>\n\n<p>I have a form for the user to input the key, which makes a get request to the key api. How do I make it so if the response is valid then it opens the software window, but if its invalid then it throws an exception or error box?</p>\n\n<p>Thanks for your help! </p>\n\n\n      \n      \n      \n \n\n<p>My form is above , and a sample valid response from the api is below.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>{\"licenseKey\":{\"productId\":XXXX,\"id\":71,\"key\":\"XXXXXXXXXXXXXXX\",\"created\":\"2019-08-21T01:19:24.223\",\"expires\":\"2020-02-17T01:19:51.16\",\"period\":180,\"f1\":true,\"f2\":true,\"f3\":true,\"f4\":true,\"f5\":true,\"f6\":true,\"f7\":true,\"f8\":true,\"notes\":null,\"block\":false,\"globalId\":XXXXX17,\"customer\":null,\"activatedMachines\":[{\"mid\":\"\",\"ip\":\"9XXXXXXX\",\"time\":\"2019-08-21T01:19:51.16\"}],\"trialActivation\":true,\"maxNoOfMachines\":1,\"allowedMachines\":\"\",\"dataObjects\":[],\"signDate\":\"2019-08-21T19:57:08\",\"signature\":null},\"result\":0,\"message\":\"\"}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I am using Electron.js and Puppeteer</p>\n"}, {"tags": ["javascript", "rust", "firefox-addon", "firefox-addon-webextensions", "webassembly"], "answers": [{"tags": [], "owner": {"reputation": 28156, "user_id": 1026, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ea331e778d54effc15b5fbc694bc8232?s=128&d=identicon&r=PG", "display_name": "Nickolay", "link": "https://stackoverflow.com/users/1026/nickolay"}, "is_accepted": false, "score": 2, "last_activity_date": 1566832730, "creation_date": 1566832730, "answer_id": 57660708, "question_id": 57598482, "link": "https://stackoverflow.com/questions/57598482/how-do-i-use-wasm-in-the-content-script-of-a-firefox-web-extension/57660708#57660708", "title": "How do I use Wasm in the content script of a Firefox web extension?", "body": "<p>I'm not sure how <code>import(\"../crate/pkg\")</code> works at all for you, as <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1536094\" rel=\"nofollow noreferrer\">dynamic module imports are not supported in content scripts in Firefox</a> and \"../crate/pkg\" doesn't look like a path that can work. Perhaps you're doing some preprocessing?</p>\n\n<p>Loading bare WASM (I took add.wasm from <a href=\"https://www.hellorust.com/demos/add/index.html\" rel=\"nofollow noreferrer\">this sample</a>) works fine if you have <code>\"web_accessible_resources\": [\"add.wasm\"]</code> in your manifest.json:</p>\n\n<pre><code>WebAssembly.instantiateStreaming(fetch(browser.runtime.getURL(\"add.wasm\")), {})\n.then(results =&gt; {\n  console.log(\"wasm returned\", results.instance.exports.add_one(41));\n}).catch((err) =&gt; {\n  console.error(\"Unable to instantiateStreaming\", err)\n});\n</code></pre>\n\n<p>Getting a generated JS wrapper to work in content script is a different question, which depends on the tooling and the specific mode you run in.</p>\n\n<p>If you are able to run WASM in a background script, you can <a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Content_scripts#Communicating_with_background_scripts\" rel=\"nofollow noreferrer\">communicate between the content script and the background script via sendMessage</a> to get the job done.</p>\n"}], "owner": {"reputation": 1943, "user_id": 5258172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WFgeq.jpg?s=128&g=1", "display_name": "kunicmarko20", "link": "https://stackoverflow.com/users/5258172/kunicmarko20"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 893, "favorite_count": 3, "answer_count": 1, "score": 6, "last_activity_date": 1566833039, "creation_date": 1566417651, "last_edit_date": 1566833039, "question_id": 57598482, "link": "https://stackoverflow.com/questions/57598482/how-do-i-use-wasm-in-the-content-script-of-a-firefox-web-extension", "title": "How do I use Wasm in the content script of a Firefox web extension?", "body": "<p>I am building a Firefox addon using Rust. I am trying to insert HTML and do stuff on specific pages. Apparently, a content script is the thing I want to use. My content script is:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import(\"../crate/pkg\").then(({ Addon }) =&gt; {\n    const addon = Addon.new();\n\n    console.log(addon.where_am_i());\n}).catch(e =&gt; console.error(\"Error importing:\", e));\n</code></pre>\n\n<p>The error I am getting is: </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>TypeError: \"0125c9960050e7483877.module.wasm is not a valid URL.\"\n</code></pre>\n\n<p>I tried to add to <code>manifest.json</code>:</p>\n\n<pre><code>\"web_accessible_resources\": [\n  \"0125c9960050e7483877.module.wasm\"\n]\n</code></pre>\n\n<p>I accessed it as <code>moz-extension://&lt;extension-UUID&gt;/0125c9960050e7483877.module.wasm\"</code> but then I got: </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Error importing: Error: \"Loading chunk 0 failed.\n</code></pre>\n\n<p>I also tried a background script, but that is loaded in extension context so it doesn't allow me to alter page content.</p>\n"}, {"tags": ["javascript", "jquery", "function", "variables", "html-table"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user11853168"}, "edited": false, "score": 0, "creation_date": 1566418569, "post_id": 57598495, "comment_id": 101654478, "body": "Thanks for this. I should have tried it. I already use this method, the other way around (html file to js file) but for some reason I thought it was limited to one item! I know better now. Thanks again."}], "tags": [], "owner": {"reputation": 56, "user_id": 9801755, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YbQySy1uCx4/AAAAAAAAAAI/AAAAAAAAABI/U5V3MW-9OTA/photo.jpg?sz=128", "display_name": "Pinak Saha", "link": "https://stackoverflow.com/users/9801755/pinak-saha"}, "is_accepted": true, "score": 0, "last_activity_date": 1566417721, "creation_date": 1566417721, "answer_id": 57598495, "question_id": 57598410, "link": "https://stackoverflow.com/questions/57598410/how-can-a-pass-a-variable-value-from-an-external-js-jquery-file-to-a-function-in/57598495#57598495", "title": "How can a pass a variable value from an external JS jQuery file to a function in a html file?", "body": "<p>I Jquery you can use localStorage</p>\n\n<pre><code>//set item in storage\nlocalStorage.setItem(\"foo\", \"bar\");\n// to retrive\nlocalStorage.getItem(\"foo\");\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11853168"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 57598495, "answer_count": 1, "score": -1, "last_activity_date": 1566417721, "creation_date": 1566417273, "question_id": 57598410, "link": "https://stackoverflow.com/questions/57598410/how-can-a-pass-a-variable-value-from-an-external-js-jquery-file-to-a-function-in", "title": "How can a pass a variable value from an external JS jQuery file to a function in a html file?", "body": "<p>I have a jQuery created table.\nI need to pass a column number when it is clicked to a varaible or function in the a html file.</p>\n\n<p>In the jQuery file I can run (when the header in a table is clicked):</p>\n\n<pre><code>thisSheet.delegate(\".TimeSheet-colHead\",\"mouseup.umsSheetEvent\",function(ev){   \n\n//other non-important code removed\nvar columnNum = $(this).parent().children().index($(this));\nconsole.log('Column: ' + columnNum );\nJ_timingSubmit2.click();\n</code></pre>\n\n<p>This outputs the correct column number to the console.\nThe last line clicks a hidden button in the html file which runs the function:</p>\n\n<pre><code>$(\"#J_timingSubmit2\").click(function(ev){\n</code></pre>\n\n<p>In the above function if I add the line.</p>\n\n<pre><code>console.log('Column: ' + columnNum );\n</code></pre>\n\n<p>It always returns the number 2, no matter what column I click, even if I add above it, the line:</p>\n\n<pre><code>var columnNum = $(this).parent().children().index($(this));\n</code></pre>\n\n<p>How can I pass the column number to the existing function or another function/variable in the html file?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 1, "creation_date": 1566417266, "post_id": 57598364, "comment_id": 101653994, "body": "The difference is between a &quot;traditional&quot; function (using the <code>function</code> keyword) and an &quot;arrow&quot; function (using <code>=&gt;</code>).  Calling the latter type of function does not set the value of <code>this</code>."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1566417987, "post_id": 57598364, "comment_id": 101654253, "body": "Note that <code>var expressionFunction = function () { console.log(this) }</code> would be a fairer comparison."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1566419832, "post_id": 57598364, "comment_id": 101654942, "body": "According to the JS spec, if there is no explicit <code>this</code>, <code>this</code> will be the global object (<code>global</code> on NodeJS). On the global scope however (and for a reason I don&#39;t know / understand) <code>this</code> in NodeJS points to <code>module.exports</code> (which is an empty object as long as you dont export something)."}], "answers": [{"comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1566419887, "post_id": 57598524, "comment_id": 101654960, "body": "The question is especially about NodeJS, the answer fails to take that into account"}, {"owner": {"reputation": 963, "user_id": 3123404, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/747343b8c7fb5a4d60e0d4dcc45024f6?s=128&d=identicon&r=PG&f=1", "display_name": "AGoranov", "link": "https://stackoverflow.com/users/3123404/agoranov"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1566419999, "post_id": 57598524, "comment_id": 101655005, "body": "@JonasWilms From Wikipedia Node.js is an open-source, cross-platform JavaScript run-time environment that executes JavaScript code outside of a browser. This means that Node.js simply executes JavaScript but outside of browser. Can you please elaborate why is my answer not suitable enough to deserve a downvote? <a href=\"https://en.wikipedia.org/wiki/Node.js\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Node.js</a>"}], "tags": [], "owner": {"reputation": 963, "user_id": 3123404, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/747343b8c7fb5a4d60e0d4dcc45024f6?s=128&d=identicon&r=PG&f=1", "display_name": "AGoranov", "link": "https://stackoverflow.com/users/3123404/agoranov"}, "is_accepted": false, "score": -1, "last_activity_date": 1566417825, "creation_date": 1566417825, "answer_id": 57598524, "question_id": 57598364, "link": "https://stackoverflow.com/questions/57598364/this-value-in-nodejs-prompt-declared-vs-expression-functions/57598524#57598524", "title": "&quot;this&quot; value in NodeJS prompt (declared vs expression functions)", "body": "<p>Currently you are comparing the \"standard\" way of defining JavaScript functions to the 'newer' arrow functions. You can read more about them <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>From the site:</p>\n\n<blockquote>\n  <p>An arrow function expression is a syntactically compact alternative to a     regular function expression, although without its own bindings to the this, arguments, super, or new.target keywords. Arrow function expressions are ill suited as methods, and they cannot be used as constructors.</p>\n</blockquote>\n\n<p>To sum it up, this means that while the <code>this</code> keyword in the arrow function prints an object (which is defined in your program's global scope) the standard one would print empty object (which is defined in its own scope).</p>\n\n<p>Personally, I have been using arrow functions increasingly in projects since sometimes you don't want the function to create its own scope but rather <code>this</code> to point to the main scope.</p>\n"}], "owner": {"reputation": 9, "user_id": 11958932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb5b56f7bfcea2ee0230c8213f9940f6?s=128&d=identicon&r=PG&f=1", "display_name": "LeandroBellaso", "link": "https://stackoverflow.com/users/11958932/leandrobellaso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 1, "closed_date": 1566419674, "answer_count": 1, "score": 0, "last_activity_date": 1566419697, "creation_date": 1566417080, "last_edit_date": 1566417888, "question_id": 57598364, "link": "https://stackoverflow.com/questions/57598364/this-value-in-nodejs-prompt-declared-vs-expression-functions", "closed_reason": "Duplicate", "title": "&quot;this&quot; value in NodeJS prompt (declared vs expression functions)", "body": "<p>I am struggling with the <code>this</code> keyword. I am comparing the value of <code>this</code> within a <em>declared</em> function vs within an <em>expression</em> function.</p>\n\n<pre><code>// Declared function\nfunction declaredFunction() { console.log(this); }\n\n// Expression function\nvar expressionFunction = (() =&gt; { console.log(this);\u00a0}) ;\n</code></pre>\n\n<p>I define the two of them in a <code>this.js</code> file and run it with a simple <code>node this.js</code> command.</p>\n\n<pre><code>declaredFunction();\nexpressionFunction();\n</code></pre>\n\n<p><code>declaredFunction()</code> logs the <code>global</code> object in the console :</p>\n\n<pre><code>Object [global] {\n  global: [Circular],\n  clearInterval: [Function: clearInterval],\n  clearTimeout: [Function: clearTimeout],\n  setInterval: [Function: setInterval],\n  setTimeout: [Function: setTimeout] { [Symbol(util.promisify.custom)]: [Function] },\n  queueMicrotask: [Function: queueMicrotask],\n  clearImmediate: [Function: clearImmediate],\n  setImmediate: [Function: setImmediate] {\n    [Symbol(util.promisify.custom)]: [Function]\n  }\n}\n</code></pre>\n\n<p><code>expressionFunction()</code> just logs <code>{}</code>.</p>\n\n<p>Two questions :</p>\n\n<ol>\n<li>What is <code>{}</code> (an empty object, obviously, but I don't understand what it is from a <em>semantic</em> point of view); and</li>\n<li>Why doesn't my <code>expressionFunction()</code> log the <code>global</code> object too?</li>\n</ol>\n\n<p>There is definitely something I don't understand here about how <em>declaring a function</em> differs from <em>assigning a function expression to a variable</em>.</p>\n"}, {"tags": ["javascript", "html", "var"], "comments": [{"owner": {"reputation": 504, "user_id": 2136847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PGDwR.jpg?s=128&g=1", "display_name": "Zachary McGee", "link": "https://stackoverflow.com/users/2136847/zachary-mcgee"}, "edited": false, "score": 1, "creation_date": 1566417100, "post_id": 57598345, "comment_id": 101653936, "body": "Could you try using cookies?"}, {"owner": {"reputation": 2651, "user_id": 911192, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/36d96c2e3ab4e2e5c54bf61f7658fd70?s=128&d=identicon&r=PG", "display_name": "Mordred", "link": "https://stackoverflow.com/users/911192/mordred"}, "edited": false, "score": 2, "creation_date": 1566417194, "post_id": 57598345, "comment_id": 101653965, "body": "When completing a level: <code>localStorage.setItem(&#39;lock&#39;, lock);</code>. When you need to determine what levels they have access to: <code>lock = localStorage.getItem(&#39;lock&#39;);</code>."}, {"owner": {"reputation": 101, "user_id": 6049590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f01e0c2be82576ddf8313a1feca3b221?s=128&d=identicon&r=PG&f=1", "display_name": "Monarchis", "link": "https://stackoverflow.com/users/6049590/monarchis"}, "edited": false, "score": 0, "creation_date": 1566418289, "post_id": 57598345, "comment_id": 101654357, "body": "May you could pass the variables as query params (with ?var=foo after the .html-extension). But be careful, the variables are not secure and can be modified easily."}, {"owner": {"reputation": 963, "user_id": 3123404, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/747343b8c7fb5a4d60e0d4dcc45024f6?s=128&d=identicon&r=PG&f=1", "display_name": "AGoranov", "link": "https://stackoverflow.com/users/3123404/agoranov"}, "edited": false, "score": 0, "creation_date": 1566422883, "post_id": 57598345, "comment_id": 101655967, "body": "If you feel my answer is correct could you accept it?"}], "answers": [{"comments": [{"owner": {"reputation": 159, "user_id": 10016311, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Pa6RWpIoSVs/AAAAAAAAAAI/AAAAAAAAAO4/R24emO_EUN8/photo.jpg?sz=128", "display_name": "Sabish\u012b", "link": "https://stackoverflow.com/users/10016311/sabish%c4%ab"}, "edited": false, "score": 1, "creation_date": 1566455893, "post_id": 57598458, "comment_id": 101662999, "body": "Thank you, this and finding out I had to define &quot;lock&quot; as an integer finally got the system working."}], "tags": [], "owner": {"reputation": 963, "user_id": 3123404, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/747343b8c7fb5a4d60e0d4dcc45024f6?s=128&d=identicon&r=PG&f=1", "display_name": "AGoranov", "link": "https://stackoverflow.com/users/3123404/agoranov"}, "is_accepted": true, "score": 3, "last_activity_date": 1566418098, "last_edit_date": 1566418098, "creation_date": 1566417525, "answer_id": 57598458, "question_id": 57598345, "link": "https://stackoverflow.com/questions/57598345/can-i-avoid-html-resetting-my-javascript-variable-when-i-use-location-href/57598458#57598458", "title": "Can I avoid html resetting my javascript variable when I use location.href?", "body": "<p>HTML in its nature is 'memoryless'. This means that by default it resets its variables every time the page refreshes. However, there are ways to preserve your variables. From <a href=\"https://www.w3schools.com/html/html5_webstorage.asp\" rel=\"nofollow noreferrer\">w3schools</a>, the way to achieve this is to either use </p>\n\n<ul>\n<li>window.localStorage - stores data with no expiration date</li>\n<li>window.sessionStorage - stores data for one session (data is lost when the browser tab is closed)</li>\n</ul>\n\n<p>Again from the same website:</p>\n\n<pre><code>// Store\nlocalStorage.setItem(\"lastname\", \"Smith\");\n\n// Retrieve\ndocument.getElementById(\"result\").innerHTML = localStorage.getItem(\"lastname\");\n</code></pre>\n\n<p>Please note that this is all using Vanilla JavaScript, as you haven't indicated any frameworks in your question.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 3148379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b86c904f1f7904540661c92a7c7c9d19?s=128&d=identicon&r=PG", "display_name": "rinick", "link": "https://stackoverflow.com/users/3148379/rinick"}, "is_accepted": false, "score": 0, "last_activity_date": 1566418597, "creation_date": 1566418597, "answer_id": 57598660, "question_id": 57598345, "link": "https://stackoverflow.com/questions/57598345/can-i-avoid-html-resetting-my-javascript-variable-when-i-use-location-href/57598660#57598660", "title": "Can I avoid html resetting my javascript variable when I use location.href?", "body": "<p>localStorage not only sync variable between page loading, it also sync variable between tabs.</p>\n\n<p>if you only want this behavior in one browser tab, not affecting other tabs, you should use sessionStorage instead of localStorage\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/sessionStorage\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Window/sessionStorage</a></p>\n"}], "owner": {"reputation": 159, "user_id": 10016311, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Pa6RWpIoSVs/AAAAAAAAAAI/AAAAAAAAAO4/R24emO_EUN8/photo.jpg?sz=128", "display_name": "Sabish\u012b", "link": "https://stackoverflow.com/users/10016311/sabish%c4%ab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "closed_date": 1566422203, "accepted_answer_id": 57598458, "answer_count": 2, "score": 1, "last_activity_date": 1566418597, "creation_date": 1566416995, "question_id": 57598345, "link": "https://stackoverflow.com/questions/57598345/can-i-avoid-html-resetting-my-javascript-variable-when-i-use-location-href", "closed_reason": "Duplicate", "title": "Can I avoid html resetting my javascript variable when I use location.href?", "body": "<p>My new project is a small \"puzzle\" game where you enter a room and solve a puzzle inside, then when you go back to the level select section it opens up the next level. </p>\n\n<p>I have thus far been using a single variable \"lock\" to count up once every time you beat a level and if the value of \"lock\" corresponds with the level number it would let you through.</p>\n\n<p>Problem is that it seems when I use <code>location.href</code> it resets the \"lock\" variable. </p>\n\n<p>Html for level select:</p>\n\n<pre><code>//html, link to js and some text\n&lt;h1&gt;\n&lt;img src=\"assets/Nextbutton1.png\" onclick=\"t1()\" width=\"100\" //1st level button\nheight=\"100\"&gt; &lt;br&gt;\n&lt;img src=\"assets/Nextbutton2.png\" onclick=\"t2()\" width=\"100\" //2nd level button\nheight=\"100\"&gt;\n</code></pre>\n\n<p>Win screen html</p>\n\n<pre><code>&lt;body&gt;\n&lt;h1 align=\"center\"&gt; Congratulations&lt;/h1&gt;\n&lt;button align=\"center\" onclick=\"joo()\"&gt;Back to level select&lt;/button&gt; \n</code></pre>\n\n<p>Javascript for pretty much everything</p>\n\n<pre><code>var lock;\nvar taso2;  // future stuff\nvar taso3 = 2; //future stuff\n\nfunction joo(){\n\nlocation.href='index.html'\nif (lock == 0) // if statement so you dont progress by playing 1st level over and over\n{\nlock += 1;}\n}\n\nfunction t2() {\nif (lock &gt; 0) {\nlocation.href='Taso2.html';\n}\nelse { alert(\"You have to beat the previous levels first\") }\n}\n\nfunction t1() {\nlocation.href='Taso1.html';\n}\n</code></pre>\n"}, {"tags": ["javascript", "html"], "answers": [{"tags": [], "owner": {"reputation": 145, "user_id": 8981087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4345705f754c9ff9df079a6d3db30d9c?s=128&d=identicon&r=PG&f=1", "display_name": "Juan Carlos Quiles Estruch", "link": "https://stackoverflow.com/users/8981087/juan-carlos-quiles-estruch"}, "is_accepted": false, "score": 1, "last_activity_date": 1566420409, "creation_date": 1566420409, "answer_id": 57598984, "question_id": 57598334, "link": "https://stackoverflow.com/questions/57598334/display-input-text-error-message-as-when-using-the-required-attribute/57598984#57598984", "title": "display input text error message as when using the required attribute", "body": "<p>Sorry my english is very poor.</p>\n\n<p>But you have create a several functions for check input\u00b4s contains required, if all them( input\u00b4s) not fill, the sumbit button is disable for default, when all the required input were filled, the submit button is enable.</p>\n\n<pre><code>/*\n* this function check if the form is right\n*/\nfunction checkForm(){\n\nvar texto = document.getElementById(\"texto\").innerHtml;\n\nif(texto.length&gt;0  &amp;&amp; anotherInput.length&gt;0 ){\ndocument.getElementById(\"texto\").removeAttribute(\"disabled\")\nreturn true;\n}\ndocument.getElementById(\"buttonSubmit\").setAttribute(\"disabled\",\"\");\nreturn false;\n/*\nif all the input\u00b4s are correctly you have send the form\n*/\n}  \n\n/*\n* you can make for each input a function\n*/\n&lt;input type=\"text\" id=\"myText\" onfocusout=\"checkthisInput()\"&gt;\n\n&lt;p class=\"notVisible\"&gt;Input is required&lt;/p&gt;\n\nstyle{\n\n}\n\ncheckthisInput()\n\n\n\n\n\n\nSorry my english is very poor.\n\nBut you have create a several functions for check input\u00b4s contains required, if all them( input\u00b4s) not fill, the sumbit button is disable for default, when all the required input were filled, the submit button is enable.\n\n/* * this function check if the form is right */ function checkForm(){\n\nvar texto = document.getElementById(\"texto\").innerHtml;\n\nif(texto.length&gt;0 &amp;&amp; anotherInput.length&gt;0 ){ document.getElementById(\"texto\").removeAttribute(\"disabled\") return true; } document.getElementById(\"buttonSubmit\").setAttribute(\"disabled\",\"\"); return false; /* if all the input\u00b4s are correctly you have send the form */ }\n\n/* * you can make for each input a function */\n\n    &lt;p class=\"notVisible\" id=\"myTextAlert\"&gt;Input is required&lt;/p&gt;\n    style{\n    .notVisible()\n    }\n\n    checkthisInput(){\n    if (document.getElementById('myText').innerHtml.length&gt;0){\n     document.getElementById('myTextAlert').removeAttribute(\"class\");\n//or\n//document.getElementById('myTextAlert').classList.remove(\"notVisible\");\n}else{\ndocument.getElementById('myTextAlert').classList.add(\"notVisible\");\n}\n\n}\n\n}\n</code></pre>\n\n<p>I hope to be helpfull. \nBest Regards.</p>\n"}], "owner": {"reputation": 21, "user_id": 11952777, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--kldeK7LwRk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfJSwKXpT3atTtOoFvpRxPq1gVFDw/photo.jpg?sz=128", "display_name": "VINCENZO BOVINO", "link": "https://stackoverflow.com/users/11952777/vincenzo-bovino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "closed_date": 1566425571, "answer_count": 1, "score": -3, "last_activity_date": 1566420409, "creation_date": 1566416926, "question_id": 57598334, "link": "https://stackoverflow.com/questions/57598334/display-input-text-error-message-as-when-using-the-required-attribute", "closed_reason": "Needs more focus", "title": "display input text error message as when using the required attribute", "body": "<p>I would like to know if you can create a javascript function that allows you to activate and then display an error message around the input text as when you do submit leaving the input blank and you have the required attribute.</p>\n\n<p>a message is displayed when a certain condition occurs. is this possible?</p>\n"}, {"tags": ["javascript", "firebase", "asynchronous"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1566418490, "post_id": 57598323, "comment_id": 101654446, "body": "I think you should show exactly what you&#39;re doing to give myTimeStamp a value.  Abbreviating it as you have it now removes a bunch of very important details."}], "answers": [{"tags": [], "owner": {"reputation": 1617, "user_id": 5693245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fQpa.jpg?s=128&g=1", "display_name": "chrismclarke", "link": "https://stackoverflow.com/users/5693245/chrismclarke"}, "is_accepted": false, "score": 0, "last_activity_date": 1566417910, "creation_date": 1566417910, "answer_id": 57598535, "question_id": 57598323, "link": "https://stackoverflow.com/questions/57598323/firebase-query-requires-a-variable-before-it-can-execute-but-the-variable-is-gen/57598535#57598535", "title": "Firebase query requires a variable before it can execute but the variable is generated asynchronously", "body": "<p>If the <code>loadTimeStamp()</code> function is asynchronous (e.g. loading from a database) then you will need to use promises or async/await to first get the value before running your query.</p>\n\n<p>You may also want to check if your <code>loadTimeStamp()</code> function does return a correct value ever (add console logs or other testing)</p>\n\n<p>assuming both the function is asynchronous and working something more along the lines of:</p>\n\n<pre><code>async function queryCollectionByTimestamp(){\n  const myTimeStamp = await loadTimeStamp()\n  const ref = db.collection('whatever')\n  const query = ref.where('timestamp','&lt;',myTimeStamp)\n  const snapshot = await query.get()\n  const data = snapshot.map(doc=&gt;doc.data())\n  return data\n}\n\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 5633058, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/435880079938687/picture?type=large", "display_name": "Jake Xia", "link": "https://stackoverflow.com/users/5633058/jake-xia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "closed_date": 1566489209, "answer_count": 1, "score": 0, "last_activity_date": 1566417910, "creation_date": 1566416894, "question_id": 57598323, "link": "https://stackoverflow.com/questions/57598323/firebase-query-requires-a-variable-before-it-can-execute-but-the-variable-is-gen", "closed_reason": "Duplicate", "title": "Firebase query requires a variable before it can execute but the variable is generated asynchronously", "body": "<p>I am trying to query for all documents before a given timestamp, but that timestamp may not exist at the time of the query. I keep getting this error. </p>\n\n<pre><code>FirebaseError: Function Query.where() requires a valid third argument, but it was undefined.\n</code></pre>\n\n<p>I've looked at using promises, async and await, but I'm still a bit lost. </p>\n\n<pre><code>var myTimeStamp; //might not have a value yet\n\nfunction loadTimeStamp(){...};\n\nloadTimeStamp(); //function is called give myTimeStamp a value\n\n//firebase onSnapshot call throws error \nref.where('timestamp', '&lt;', myTimeStamp).onSnapshot(snapshot =&gt;{ ... }); \n\n</code></pre>\n\n<p>I'm probably missing something very simple. Any help is greatly appreciated!</p>\n"}, {"tags": ["javascript", "node.js", "mongodb", "rest", "api"], "comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1566419957, "post_id": 57598302, "comment_id": 101654987, "body": "Do you really need a &quot;Positions&quot; collection if there is only a name in it? Wouldn&#39;t &quot;position: { type: String }` be enough in the user entry?"}, {"owner": {"reputation": 15, "user_id": 11948277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09f9bab6cb6070b602dc943c25045640?s=128&d=identicon&r=PG&f=1", "display_name": "DavidL", "link": "https://stackoverflow.com/users/11948277/davidl"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1566420610, "post_id": 57598302, "comment_id": 101655246, "body": "Hi, well i add a position collection because, the users can have more than one position."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1566420833, "post_id": 57598302, "comment_id": 101655334, "body": "Then it could be an array of strings. Having a Collection of positions would make sense though if the users can manage positions (create / delete etc.)"}, {"owner": {"reputation": 15, "user_id": 11948277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09f9bab6cb6070b602dc943c25045640?s=128&d=identicon&r=PG&f=1", "display_name": "DavidL", "link": "https://stackoverflow.com/users/11948277/davidl"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1566421447, "post_id": 57598302, "comment_id": 101655531, "body": "True,  mi idea is that the manager can add a new position if he need it. But what sould i do with shifts collections and records, because when i do a query positions apear in everywhere and i do not know if it good"}], "answers": [{"comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1566421746, "post_id": 57599104, "comment_id": 101655628, "body": "I totally agree, but the answer might be more useful if you would apply that to the actuall OPs usecase"}, {"owner": {"reputation": 15, "user_id": 11948277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09f9bab6cb6070b602dc943c25045640?s=128&d=identicon&r=PG&f=1", "display_name": "DavidL", "link": "https://stackoverflow.com/users/11948277/davidl"}, "edited": false, "score": 0, "creation_date": 1566421832, "post_id": 57599104, "comment_id": 101655654, "body": "Good point. I will try to do it like you said. I can place records and shifts together . Thank you for your help"}], "tags": [], "owner": {"reputation": 752, "user_id": 6087555, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/J0jbA.jpg?s=128&g=1", "display_name": "Karthik", "link": "https://stackoverflow.com/users/6087555/karthik"}, "is_accepted": true, "score": 0, "last_activity_date": 1566422237, "last_edit_date": 1566422237, "creation_date": 1566421166, "answer_id": 57599104, "question_id": 57598302, "link": "https://stackoverflow.com/questions/57598302/doubts-about-design-shift-schema-in-mongodb/57599104#57599104", "title": "Doubts about design Shift schema in MongoDB", "body": "<p>From my experience too many references in MongoDB slows the MongoDB. Your design is good when you are relational database.The concept of a Document database is that it eliminates lots of joins. Try to place as much in a single document as you can. Because MongoDB documents have structure, and because you can efficiently query within that structure Also you don't have to normalise the data like you would in SQL.</p>\n"}], "owner": {"reputation": 15, "user_id": 11948277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09f9bab6cb6070b602dc943c25045640?s=128&d=identicon&r=PG&f=1", "display_name": "DavidL", "link": "https://stackoverflow.com/users/11948277/davidl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 57599104, "answer_count": 1, "score": 1, "last_activity_date": 1566422237, "creation_date": 1566416805, "last_edit_date": 1566417452, "question_id": 57598302, "link": "https://stackoverflow.com/questions/57598302/doubts-about-design-shift-schema-in-mongodb", "title": "Doubts about design Shift schema in MongoDB", "body": "<p>I am coding an API Rest for a small project about Shifts for the employees but I am stuck in how to design the models. I found a way to design it but I have doubts if it is the best way.</p>\n\n<p>My collections are:</p>\n\n<ul>\n<li>Users: (Employees)</li>\n<li>Positions: (Employee Position)</li>\n<li>Shift: ( start - end time based on the employee position.)</li>\n<li>Record: (day of the shift, shift and employees) </li>\n<li>Rota: (information about rota) </li>\n</ul>\n\n<p>Users can have more than one position.</p>\n\n<p>The shifts only have one position.</p>\n\n<p>Records collect the shifting the array of employees and references about rota.</p>\n\n<p>I will simplify my code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const User = Schema({\n   name: {type: String},\n   position: [{type: Schema.Types.ObjectID, ref 'Positions'}]\n\n});\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>const positions = Schema({\n   name: {type: String}\n});\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>const Shifts = Schema({\n   start_time: {type: Date},\n   end_time : {type: Date},\n   position: {type: Schema.Type.ObjectID, ref 'Positions'}\n});\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>const Records = Schema({\n   start_date: {type: Date},\n   end_date : {type: Date},\n   shift: {type: Schema.Type.ObjectID, ref 'Shifts'},\n   employees:[{type: Schema.Type.ObjectID, ref 'Users'}]\n\n});\n</code></pre>\n\n<p>Do you think it is a good design to develop the schema or not?</p>\n\n<p>Anything to improve? or something to change?</p>\n"}, {"tags": ["javascript", "node.js", "mongodb", "mongoose"], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 11148083, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O7H66.jpg?s=128&g=1", "display_name": "Rahul kumar", "link": "https://stackoverflow.com/users/11148083/rahul-kumar"}, "edited": false, "score": 0, "creation_date": 1567143215, "post_id": 57603583, "comment_id": 101882889, "body": "first you need to get reference of that key"}], "tags": [], "owner": {"reputation": 91, "user_id": 11148083, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O7H66.jpg?s=128&g=1", "display_name": "Rahul kumar", "link": "https://stackoverflow.com/users/11148083/rahul-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1566456908, "creation_date": 1566456908, "answer_id": 57603583, "question_id": 57598272, "link": "https://stackoverflow.com/questions/57598272/building-nested-maps-in-mongoose-db/57603583#57603583", "title": "Building Nested Maps in Mongoose DB", "body": "<pre><code>user.accounts.set(institutionName,user.accounts.get(institutionName).set(accountId, account))\n</code></pre>\n\n<p>try this line.</p>\n"}], "owner": {"reputation": 365, "user_id": 3746699, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/87002a5facf4c9a8b3dceb35f73b09d4?s=128&d=identicon&r=PG&f=1", "display_name": "ZarifS", "link": "https://stackoverflow.com/users/3746699/zarifs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 415, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1566456908, "creation_date": 1566416608, "question_id": 57598272, "link": "https://stackoverflow.com/questions/57598272/building-nested-maps-in-mongoose-db", "title": "Building Nested Maps in Mongoose DB", "body": "<p>I am trying to create a simple nested JSON structure for accounts. The accounts Map will hold keys related to the institution, for example \"TD\", then \"TD\" will be a map of key value pair for each account where the key will be the accountId. </p>\n\n<p>PS: I know that this could be also done with having a array instead of a map, but I am giving this example for simplicity as the question is more geared for how to handle any nested map structure like the following in Mongoose, or if its possible at all or any workarounds.</p>\n\n<p>An example of what the object would be: </p>\n\n<pre><code>accounts: {\n\n \"TD\": {\n    \"abcsd1234\": {\n      \"name\": \"Chequing Account\",\n      \"balance\": 1224\n     },\n    \"dsadv1234\": {\n      \"name\": \"Savings Account\",\n      \"balance\": 22001\n     }\n    ...\n  },\n\n \"RBC\": {\n   ...\n  }\n ...\n\n}\n\n</code></pre>\n\n<p>What I tried to do was have a schema setup like the following:</p>\n\n<pre><code>UserSchema = new mongoose.Schema({\n ... // other properties\n\n accounts: {\n  type: Map\n  of: AccountsSchema\n }\n\n...\n})\n\nAccountsSchema = new mongoose.Schema({\n accounts: {\n  type: Map, \n  of: BalanceSchema\n }\n})\n\nBalanceSchema = new mongoose.Schema({\n name: String,\n balance: Number\n ...\n})\n\n</code></pre>\n\n<p>Then when I wanted to access or change this schema I began to run into problems.</p>\n\n<p>An example of what I tried doing to access this setup was:</p>\n\n<pre><code>\nlet institutionName = 'TD' // Would be dynamic\nlet accountId =  'someId'\nlet account = {..} // A BalanceSchema object\n\nuser.accounts.set(institutionName, {accountId, account} \n\n</code></pre>\n\n<p>This would make user.accounts.TD => {}. A empty map so the accounts isn't being populated in the map.</p>\n\n<p>I also tried to figure out if I could do something like </p>\n\n<pre><code>user.accounts.institutionName.set(accountId, account)\n\n</code></pre>\n\n<p>But institutionName is dynamic so I couldn't work it out.</p>\n\n<p>How can I set the items in the nested map properly with Mongoose? What is the best method for accessing, setting and working with maps that are nested multiple levels down?</p>\n\n<p>What are other work arounds to achieve similar use cases?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["javascript", "javascript-objects"], "comments": [{"owner": {"reputation": 963, "user_id": 3123404, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/747343b8c7fb5a4d60e0d4dcc45024f6?s=128&d=identicon&r=PG&f=1", "display_name": "AGoranov", "link": "https://stackoverflow.com/users/3123404/agoranov"}, "edited": false, "score": 0, "creation_date": 1566418695, "post_id": 57598261, "comment_id": 101654518, "body": "I would agree with the answer and I want to add that it&#39;d be good if you look into 2 topics, namely passing by value and by reference (which works in the same way). The question here may be useful <a href=\"https://stackoverflow.com/questions/6605640/javascript-by-reference-vs-by-value\" title=\"javascript by reference vs by value\">stackoverflow.com/questions/6605640/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3083, "user_id": 3586594, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f9753f5f4224802a5687e4f99e367892?s=128&d=identicon&r=PG&f=1", "display_name": "Jack A.", "link": "https://stackoverflow.com/users/3586594/jack-a"}, "is_accepted": true, "score": 2, "last_activity_date": 1566417401, "last_edit_date": 1566417401, "creation_date": 1566416983, "answer_id": 57598344, "question_id": 57598261, "link": "https://stackoverflow.com/questions/57598261/why-the-value-of-my-function-does-not-update-with-the-value-of-my-object/57598344#57598344", "title": "Why the value of my function does not update with the value of my object", "body": "<p>This line:</p>\n\n<pre><code>var move = rover.direction\n</code></pre>\n\n<p>is copying the <em>value</em> of <code>rover.direction</code> into the variable named <code>move</code>, it does not create a reference to <code>rover.direction</code>. When you do something like this:</p>\n\n<pre><code>move = 'W'\n</code></pre>\n\n<p>it only updates the <code>move</code> variable, it does <em>not</em> update <code>rover.direction</code>.</p>\n\n<p>To fix this, you can either add a line like:</p>\n\n<pre><code>rover.direction = move;\n</code></pre>\n\n<p>after your <code>switch</code> statement, or you can get rid of the <code>move</code> variable and work directly on <code>rover.direction</code>.</p>\n\n<p>Also, a couple notes/suggestions:</p>\n\n<ol>\n<li><p>You are defining <code>move</code> outside of the <code>moveLeft</code> function. That creates another global variable in addition to the global <code>rover</code> variable. In general, you want to limit the number of global variables to be as few as possible.</p></li>\n<li><p>Your <code>moveLeft</code> function takes a <code>who</code> parameter that you are not currently using within the function. From your description, it looks like you intend to pass the <code>rover</code> variable in that parameter. In that case, you probably want to remove all references to <code>move</code> and just work with <code>who.direction</code> within your function.</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 0, "last_activity_date": 1566420616, "creation_date": 1566420616, "answer_id": 57599024, "question_id": 57598261, "link": "https://stackoverflow.com/questions/57598261/why-the-value-of-my-function-does-not-update-with-the-value-of-my-object/57599024#57599024", "title": "Why the value of my function does not update with the value of my object", "body": "<p><sub>(the other answer already covered why your current work doesn't work as expected)</sub></p>\n\n<p>I'd write it as:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const turns = [\"N\", \"W\", \"S\", \"E\"]; // We can easily look up the direction to the right or left here\r\n\r\nfunction turnLeft(rover) {\r\n  console.log(`Rover is facing ${rover.direction}`);\r\n  \r\n  const pos = turns.indexOf(rover.direction); // get the current position, e.g. E =&gt; 3\r\n  rover.direction = turns[(pos + 1) % turns.length]; // Increase the position by 1 (=&gt; 0), make sure it's inside the turns arrays indices by starting again from 0 (=&gt; 0), then look that up =&gt; \"N\"\r\n  \r\n  console.log(`Rover is facing now ${rover.direction}`)\r\n}\r\n\r\n\r\nconst rover = { direction: \"E\" };\r\nturnLeft(rover);\r\nturnLeft(rover);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 13, "user_id": 11958906, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAr53uC9wriQlKkQKzO1lO8rEPh3jrmqF0gxs24GQ=k-s128", "display_name": "Veronica Donoso", "link": "https://stackoverflow.com/users/11958906/veronica-donoso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 57598344, "answer_count": 2, "score": 1, "last_activity_date": 1566420616, "creation_date": 1566416559, "question_id": 57598261, "link": "https://stackoverflow.com/questions/57598261/why-the-value-of-my-function-does-not-update-with-the-value-of-my-object", "title": "Why the value of my function does not update with the value of my object", "body": "<p>I'm doing an exercise about rover in Mars I have the object rover that has direction as property and default value 'N' (north), he needs first turn before to go forward, it means that if the rover wants to move to the left, it\u2019s first move must be a turn, next move will then be a step forward. when I run the function to moveLeft(rover) The results are as expected. He turns perfect!! BUT the value of property direction is never updated, and I need this value update to the next step... I'm going to paste a part of my code. Thank you!</p>\n\n<pre><code>  direction: 'E',\n  x: 0,\n  y: 0,\n  path: { x: 0, y: 0 },\n  travelLog: []\n}\nvar move = rover.direction\n\nfunction moveLeft (who) {\n  console.log(`Rover is facing ${move}`)\n  switch (move) {\n    case 'N':\n      move = 'W'\n      console.log(`Rover is facing now ${move}`)\n      break;\n    case 'W':\n      move = 'S'\n      console.log(`Rover is facing now ${move}`)\n      break;\n    case 'S':\n      move = 'E'\n      console.log(`Rover is facing now ${move}`)\n      break;\n    case 'E':\n      move = 'N'\n      console.log(`Rover is facing now ${move}`)\n      break;\n    default:\n      console.log(`Please insert the correct directions`)\n  }\n  console.log('turnLeft was called!')\n}\n</code></pre>\n\n<p>This is my output</p>\n\n<pre><code>Rover is facing E\nRover is facing now N\nturnLeft was called!\n\nconsole.log(rover)\n{direction: \"E\", x: 0, y: 0, path: {\u2026}, travelLog: Array(0)}\n\nconsole.log(move)\nW\n\nconsole.log(rover.direction)\nE\n\nI expect the output of rover.direction to be the same of move\n</code></pre>\n"}, {"tags": ["javascript", "html", "css", "jsp"], "comments": [{"owner": {"reputation": 117, "user_id": 5410800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u6bom.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5410800/rob"}, "edited": false, "score": 0, "creation_date": 1566417078, "post_id": 57598248, "comment_id": 101653930, "body": "Are you including jQuery as a library in your page? The code snippet you provided is using jQuery (a JavaScript library) instead of JavaScript."}, {"owner": {"reputation": 117, "user_id": 11091847, "user_type": "registered", "profile_image": "https://graph.facebook.com/2173500342685406/picture?type=large", "display_name": "J&#250;lio C&#233;sar Bindandi", "link": "https://stackoverflow.com/users/11091847/j%c3%balio-c%c3%a9sar-bindandi"}, "reply_to_user": {"reputation": 117, "user_id": 5410800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u6bom.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5410800/rob"}, "edited": false, "score": 0, "creation_date": 1566417887, "post_id": 57598248, "comment_id": 101654221, "body": "I don&#39;t think so. Do I include or use a javascript code?"}, {"owner": {"reputation": 5766, "user_id": 2798367, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/W1Cqc.png?s=128&g=1", "display_name": "ne1410s", "link": "https://stackoverflow.com/users/2798367/ne1410s"}, "edited": false, "score": 0, "creation_date": 1566418313, "post_id": 57598248, "comment_id": 101654367, "body": "My first thought is that I need to see some html!  But possibly the &quot;home.do&quot; link is actually a routed shortcut, like /~ or just /, or is a url re-write or similar...  Either of these would explain why the Painel text is not being highlighted in red as the URL would not match the <code>a [href]</code> value."}, {"owner": {"reputation": 117, "user_id": 11091847, "user_type": "registered", "profile_image": "https://graph.facebook.com/2173500342685406/picture?type=large", "display_name": "J&#250;lio C&#233;sar Bindandi", "link": "https://stackoverflow.com/users/11091847/j%c3%balio-c%c3%a9sar-bindandi"}, "reply_to_user": {"reputation": 5766, "user_id": 2798367, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/W1Cqc.png?s=128&g=1", "display_name": "ne1410s", "link": "https://stackoverflow.com/users/2798367/ne1410s"}, "edited": false, "score": 0, "creation_date": 1566418608, "post_id": 57598248, "comment_id": 101654492, "body": "@ne1410 Updated, and now?"}, {"owner": {"reputation": 5766, "user_id": 2798367, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/W1Cqc.png?s=128&g=1", "display_name": "ne1410s", "link": "https://stackoverflow.com/users/2798367/ne1410s"}, "edited": false, "score": 0, "creation_date": 1566419066, "post_id": 57598248, "comment_id": 101654655, "body": "Hmm ok, well that seems to match the URL bar, and presumably the location.href... I wonder if you put a line like this <code>console.log(location.href);</code> inside your <code>document.ready</code> method, as the first line - what kind of entries you see (pressing F12 in your browser &gt; Console - to view the console)."}, {"owner": {"reputation": 1886, "user_id": 5578773, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-l_1zd0-u7V8/AAAAAAAAAAI/AAAAAAAAAK4/pt6IIe-G62s/photo.jpg?sz=128", "display_name": "YellowAfterlife", "link": "https://stackoverflow.com/users/5578773/yellowafterlife"}, "edited": false, "score": 0, "creation_date": 1566484762, "post_id": 57598248, "comment_id": 101678889, "body": "Ideally it should be your backend that marks a link as &quot;current&quot; (by giving it an extra class), not frontend code."}, {"owner": {"reputation": 117, "user_id": 11091847, "user_type": "registered", "profile_image": "https://graph.facebook.com/2173500342685406/picture?type=large", "display_name": "J&#250;lio C&#233;sar Bindandi", "link": "https://stackoverflow.com/users/11091847/j%c3%balio-c%c3%a9sar-bindandi"}, "reply_to_user": {"reputation": 1886, "user_id": 5578773, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-l_1zd0-u7V8/AAAAAAAAAAI/AAAAAAAAAK4/pt6IIe-G62s/photo.jpg?sz=128", "display_name": "YellowAfterlife", "link": "https://stackoverflow.com/users/5578773/yellowafterlife"}, "edited": false, "score": 0, "creation_date": 1566580424, "post_id": 57598248, "comment_id": 101714787, "body": "@YellowAfterlife I can&#39;t imagine, can you show me an example?"}, {"owner": {"reputation": 1886, "user_id": 5578773, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-l_1zd0-u7V8/AAAAAAAAAAI/AAAAAAAAAK4/pt6IIe-G62s/photo.jpg?sz=128", "display_name": "YellowAfterlife", "link": "https://stackoverflow.com/users/5578773/yellowafterlife"}, "edited": false, "score": 0, "creation_date": 1566585814, "post_id": 57598248, "comment_id": 101716661, "body": "When you form the page response on the backend, you would check that the URL of the <code>nav-item</code>, and give it an extra class, suppose <code>&lt;li class=&quot;nav-item current&quot;&gt;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 123, "user_id": 8532303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c997e2ba9215380c0207a37d0c24c6a7?s=128&d=identicon&r=PG&f=1", "display_name": "Miral Kumbhani", "link": "https://stackoverflow.com/users/8532303/miral-kumbhani"}, "is_accepted": true, "score": 1, "last_activity_date": 1566889952, "creation_date": 1566889952, "answer_id": 57669421, "question_id": 57598248, "link": "https://stackoverflow.com/questions/57598248/how-to-mark-the-selected-item/57669421#57669421", "title": "How to mark the selected item?", "body": "<p>You can use the <code>active</code> class for your first <code>&lt;li&gt;</code> i.e. Painel and give the desired CSS to it. This will solve your problem. </p>\n"}], "owner": {"reputation": 117, "user_id": 11091847, "user_type": "registered", "profile_image": "https://graph.facebook.com/2173500342685406/picture?type=large", "display_name": "J&#250;lio C&#233;sar Bindandi", "link": "https://stackoverflow.com/users/11091847/j%c3%balio-c%c3%a9sar-bindandi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 57669421, "answer_count": 1, "score": 1, "last_activity_date": 1566889952, "creation_date": 1566416506, "last_edit_date": 1566418439, "question_id": 57598248, "link": "https://stackoverflow.com/questions/57598248/how-to-mark-the-selected-item", "title": "How to mark the selected item?", "body": "<p>I'm building a page with html, css and javascript... using backend java, jsp.</p>\n\n<p>I have a header that fits all pages... I \"include\" it.</p>\n\n<p>How do I mark the item referring to the page that opens differently(\"activity\")?</p>\n\n<p>My javascript knowledge is almost nil... I tried like this.</p>\n\n<pre><code>$(document).ready(function () {\n  $(\"li a[href='\" + location.href.substring(location.href.lastIndexOf(\"/\") + 1, 255) + \"']\").addClass(\"itemActive\");\n});\n</code></pre>\n\n<p>CSS:</p>\n\n<pre><code>.itemActive {\n    color: red;\n}\n</code></pre>\n\n<p>The home page is not marked as active... after clicks on other pages the code works... when I click on the home again does not work.</p>\n\n<p><a href=\"https://i.stack.imgur.com/cUFCK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cUFCK.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/VOV9Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VOV9Y.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/iCg3Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iCg3Y.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>&lt;ul class=\"navbar-nav mr-auto\"&gt;\n                &lt;li class=\"nav-item\"&gt;&lt;a href=\"home.do\"&gt;Painel&lt;/a&gt;&lt;/li&gt;\n                &lt;li class=\"nav-item\"&gt;&lt;a href=\"gerencardapio.do\"&gt;Cardapio&lt;/a&gt;&lt;/li&gt;\n                &lt;li class=\"nav-item\"&gt;&lt;a href=\"integracao.do\"&gt;Integra\u00e7\u00e3o&lt;/a&gt;&lt;/li&gt;\n            &lt;/ul&gt;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "reactjs", "mongodb"], "comments": [{"owner": {"reputation": 27093, "user_id": 5189811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FzPWr.png?s=128&g=1", "display_name": "Oluwafemi Sule", "link": "https://stackoverflow.com/users/5189811/oluwafemi-sule"}, "edited": false, "score": 0, "creation_date": 1566416845, "post_id": 57598192, "comment_id": 101653841, "body": "The log file for the run may have more information to diagnose the error. You can look in the log file and if it doesn&#39;t point at what could be missing in your setup uploaded it as a Paste and share the link here in your question so that other persons can give it another look"}, {"owner": {"reputation": 12437, "user_id": 5587552, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bI4wm.jpg?s=128&g=1", "display_name": "Colin Ricardo", "link": "https://stackoverflow.com/users/5587552/colin-ricardo"}, "edited": false, "score": 0, "creation_date": 1566417545, "post_id": 57598192, "comment_id": 101654084, "body": "Have you looked at this? <a href=\"https://stackoverflow.com/questions/28624686/get-spawn-cmd-enoent-when-try-to-build-cordova-application-event-js85\" title=\"get spawn cmd enoent when try to build cordova application event js85\">stackoverflow.com/questions/28624686/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 43, "user_id": 11885518, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VnVjR8z6nsA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reE8Hh1_3Y7VDGikrAuGKoD-5XihQ/photo.jpg?sz=128", "display_name": "Aleksandra E\u015bka", "link": "https://stackoverflow.com/users/11885518/aleksandra-e%c5%9bka"}, "is_accepted": true, "score": 0, "last_activity_date": 1566418666, "creation_date": 1566418666, "answer_id": 57598680, "question_id": 57598192, "link": "https://stackoverflow.com/questions/57598192/spawn-cmd-enoent-err-when-trying-to-run-npm-start-after-installing-mongodb/57598680#57598680", "title": "spawn CMD enoent ERR when trying to run &quot;npm start&quot;, after installing MongoDB", "body": "<blockquote>\n  <p>Have you looked at this? stackoverflow.com/questions/28624686/\u2026 \u2013 Colin Ricardo</p>\n</blockquote>\n\n<p>Oh my God, can't believe it was so easy. Adding C:\\Windows\\System32\\ to PATH solved the problem immediately, I must have deleted it when adding Mongo. Thanks!</p>\n"}], "owner": {"reputation": 43, "user_id": 11885518, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VnVjR8z6nsA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reE8Hh1_3Y7VDGikrAuGKoD-5XihQ/photo.jpg?sz=128", "display_name": "Aleksandra E\u015bka", "link": "https://stackoverflow.com/users/11885518/aleksandra-e%c5%9bka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 751, "favorite_count": 0, "accepted_answer_id": 57598680, "answer_count": 1, "score": 0, "last_activity_date": 1566418666, "creation_date": 1566416177, "last_edit_date": 1566418060, "question_id": 57598192, "link": "https://stackoverflow.com/questions/57598192/spawn-cmd-enoent-err-when-trying-to-run-npm-start-after-installing-mongodb", "title": "spawn CMD enoent ERR when trying to run &quot;npm start&quot;, after installing MongoDB", "body": "<p>I used to be able to use \"create-react-app\" without any problems, but then I installed MongoDB and added a PATH of it. Ever since every time I try to create a react app, I get an error. </p>\n\n<p>I tried different solutions:\n- I cleaned the PATH\n- I tried a different Node version\n- I tried installing with \"npm install react-scripts@2.1.8\"</p>\n\n<p>Nothing works. I don't know if the problem is MongoDB, or the change in the Path.</p>\n\n<p>I use Windows 7.</p>\n\n<pre><code>C:\\Users\\user\\react-apps\\mern-todo&gt;npm start\n\n&gt; mern-todo@0.1.0 start C:\\Users\\user\\react-apps\\mern-todo\n&gt; react-scripts start\n\nStarting the development server...\n\nevents.js:174\n      throw er; // Unhandled 'error' event\n      ^\n\nError: spawn cmd ENOENT\n    at Process.ChildProcess._handle.onexit (internal/child_process.js:240:19)\n    at onErrorNT (internal/child_process.js:415:16)\n    at process._tickCallback (internal/process/next_tick.js:63:19)\nEmitted 'error' event at:\n    at Process.ChildProcess._handle.onexit (internal/child_process.js:246:12)\n    at onErrorNT (internal/child_process.js:415:16)\n    at process._tickCallback (internal/process/next_tick.js:63:19)\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! mern-todo@0.1.0 start: `react-scripts start`\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the mern-todo@0.1.0 start script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     C:\\Users\\user\\AppData\\Roaming\\npm-cache\\_logs\\2019-08-21T19_28_08_965Z-debug.log\n\nC:\\Users\\user\\react-apps\\mern-todo&gt;\n</code></pre>\n\n<p>Here's the complete LOG file:</p>\n\n<pre><code>0 info it worked if it ends with ok\n1 verbose cli [ 'C:\\\\Program Files\\\\nodejs\\\\node.exe',\n1 verbose cli   'C:\\\\Program Files\\\\nodejs\\\\node_modules\\\\npm\\\\bin\\\\npm-cli.js',\n1 verbose cli   'start' ]\n2 info using npm@6.9.0\n3 info using node@v10.16.3\n4 verbose run-script [ 'prestart', 'start', 'poststart' ]\n5 info lifecycle mern-todo@0.1.0~prestart: mern-todo@0.1.0\n6 info lifecycle mern-todo@0.1.0~start: mern-todo@0.1.0\n7 verbose lifecycle mern-todo@0.1.0~start: unsafe-perm in lifecycle true\n8 verbose lifecycle mern-todo@0.1.0~start: PATH: C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\npm-lifecycle\\node-gyp-bin;C:\\Users\\user\\react-apps\\mern-todo\\node_modules\\.bin;C:\\Program Files\\MongoDB\\Server\\4.2\\bin;C:\\Program Files (x86)\\nodejs\\npm.cmd;C:\\Program Files\\nodejs\\;C:\\Users\\user\\AppData\\Roaming\\npm;C:\\Users\\user\\AppData\\Local\\Programs\\Microsoft VS Code\\bin\n9 verbose lifecycle mern-todo@0.1.0~start: CWD: C:\\Users\\user\\react-apps\\mern-todo\n10 silly lifecycle mern-todo@0.1.0~start: Args: [ '/d /s /c', 'react-scripts start' ]\n11 silly lifecycle mern-todo@0.1.0~start: Returned: code: 1  signal: null\n12 info lifecycle mern-todo@0.1.0~start: Failed to exec start script\n13 verbose stack Error: mern-todo@0.1.0 start: `react-scripts start`\n13 verbose stack Exit status 1\n13 verbose stack     at EventEmitter.&lt;anonymous&gt; (C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\npm-lifecycle\\index.js:301:16)\n13 verbose stack     at EventEmitter.emit (events.js:198:13)\n13 verbose stack     at ChildProcess.&lt;anonymous&gt; (C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\npm-lifecycle\\lib\\spawn.js:55:14)\n13 verbose stack     at ChildProcess.emit (events.js:198:13)\n13 verbose stack     at maybeClose (internal/child_process.js:982:16)\n13 verbose stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:259:5)\n14 verbose pkgid mern-todo@0.1.0\n15 verbose cwd C:\\Users\\user\\react-apps\\mern-todo\n16 verbose Windows_NT 6.1.7601\n17 verbose argv \"C:\\\\Program Files\\\\nodejs\\\\node.exe\" \"C:\\\\Program Files\\\\nodejs\\\\node_modules\\\\npm\\\\bin\\\\npm-cli.js\" \"start\"\n18 verbose node v10.16.3\n19 verbose npm  v6.9.0\n20 error code ELIFECYCLE\n21 error errno 1\n22 error mern-todo@0.1.0 start: `react-scripts start`\n22 error Exit status 1\n23 error Failed at the mern-todo@0.1.0 start script.\n23 error This is probably not a problem with npm. There is likely additional logging output above.\n24 verbose exit [ 1, true ]\n</code></pre>\n\n<p>Do you guys have any idea why is this happening? I'm giving up...</p>\n"}, {"tags": ["javascript", "angular"], "answers": [{"comments": [{"owner": {"reputation": 649, "user_id": 7565577, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XRXwR.jpg?s=128&g=1", "display_name": "x7R5fQ", "link": "https://stackoverflow.com/users/7565577/x7r5fq"}, "edited": false, "score": 0, "creation_date": 1566428144, "post_id": 57598267, "comment_id": 101657375, "body": "<code>then you will need to import it into your project.</code> where exactly I import it?"}], "tags": [], "owner": {"reputation": 1, "user_id": 9780810, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Demetrius Lewis", "link": "https://stackoverflow.com/users/9780810/demetrius-lewis"}, "is_accepted": false, "score": 0, "last_activity_date": 1566416597, "creation_date": 1566416597, "answer_id": 57598267, "question_id": 57598179, "link": "https://stackoverflow.com/questions/57598179/cannot-find-module-git-host-info-js/57598267#57598267", "title": "Cannot find module &#39;./git-host-info.js&#39;", "body": "<p>git-host-info.js will let you identify and transform various git hosts URLs between protocols. It also can tell you what the URL is for the raw path for particular file for direct access without git.</p>\n\n<p>you can run \"npm i hosted-git-info\" from Nodejs and then you will need to import it into your project.</p>\n\n<p>Hope this answers your question.</p>\n"}, {"comments": [{"owner": {"reputation": 649, "user_id": 7565577, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XRXwR.jpg?s=128&g=1", "display_name": "x7R5fQ", "link": "https://stackoverflow.com/users/7565577/x7r5fq"}, "edited": false, "score": 0, "creation_date": 1566427938, "post_id": 57598321, "comment_id": 101657334, "body": "the two commands did not help. The problem still exist! I will try to reinstall node and npm."}], "tags": [], "owner": {"reputation": 292, "user_id": 1876629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cS5Dr.jpg?s=128&g=1", "display_name": "tarik", "link": "https://stackoverflow.com/users/1876629/tarik"}, "is_accepted": false, "score": 0, "last_activity_date": 1566416893, "creation_date": 1566416893, "answer_id": 57598321, "question_id": 57598179, "link": "https://stackoverflow.com/questions/57598179/cannot-find-module-git-host-info-js/57598321#57598321", "title": "Cannot find module &#39;./git-host-info.js&#39;", "body": "<p>Generally this error means that your <code>node_modules</code> are corrupted and you need to reinstall them. </p>\n\n<pre><code>npm cache clean\nnpm install\n</code></pre>\n\n<p>In some cases, you need to reinstall node and npm, or so I've heard, but I've always been able to get things working by just deleting my <code>node_modules</code>, updating node and npm and re-installing.</p>\n\n<p>This is true whether or not you want to use the global Angular install.</p>\n"}], "owner": {"reputation": 649, "user_id": 7565577, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XRXwR.jpg?s=128&g=1", "display_name": "x7R5fQ", "link": "https://stackoverflow.com/users/7565577/x7r5fq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 341, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1566416893, "creation_date": 1566416143, "last_edit_date": 1566416599, "question_id": 57598179, "link": "https://stackoverflow.com/questions/57598179/cannot-find-module-git-host-info-js", "title": "Cannot find module &#39;./git-host-info.js&#39;", "body": "<p>I am following the official angular update instructions here <a href=\"https://update.angular.io/#6.0:7.0\" rel=\"nofollow noreferrer\">6.0 to 7.0</a>. However, I get this error</p>\n\n<blockquote>\n  <p>Your global Angular CLI version (8.2.2) is greater than your local\n  version (6.0.8). The local Angular CLI version is used.</p>\n  \n  <p>To disable this warning use \"ng config -g cli.warnings.versionMismatch\n  false\". Cannot find module './git-host-info.js`</p>\n</blockquote>\n\n<p>I am not concerned about updating angular CLI at the moment.\nCan anyone tell me what is this file `git-host-info.js' and why this error is showing up?</p>\n"}, {"tags": ["javascript", "google-apps-script", "google-drive-api", "google-docs-api"], "answers": [{"tags": [], "owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "is_accepted": true, "score": 2, "last_activity_date": 1566424895, "creation_date": 1566424895, "answer_id": 57599658, "question_id": 57598117, "link": "https://stackoverflow.com/questions/57598117/google-apps-script-cannot-find-function-inserttext-in-object-document/57599658#57599658", "title": "Google Apps Script: Cannot find function insertText in object Document", "body": "<ul>\n<li>You want to put a text using <code>insertText()</code>.</li>\n</ul>\n\n<p>If my understanding is correct, how about this modification?</p>\n\n<h3>Pattern 1:</h3>\n\n<p>When you want to put the text to the body, please modify as follows.</p>\n\nFrom:\n\n<pre><code>form.insertText(0, 'Inserted text.\\n');\n</code></pre>\n\nTo:\n\n<pre><code>form.getBody().editAsText().insertText(0, 'Inserted text.\\n');\n</code></pre>\n\n<h3>Pattern 2:</h3>\n\n<p>When you want to put the text to the paragraph, please modify as follows.</p>\n\nFrom:\n\n<pre><code>form.insertText(0, 'Inserted text.\\n');\n</code></pre>\n\nTo:\n\n<pre><code>form.getBody().getParagraphs()[0].insertText(0, 'Inserted text.\\n');\n</code></pre>\n\n<ul>\n<li>In this case, the text is put to the first paragraph.</li>\n</ul>\n\n<h3>References:</h3>\n\n<ul>\n<li><a href=\"https://developers.google.com/apps-script/reference/document/text#inserttextoffset-text\" rel=\"nofollow noreferrer\">insertText() of Class Text</a></li>\n<li><a href=\"https://developers.google.com/apps-script/reference/document/paragraph#inserttextchildindex-text\" rel=\"nofollow noreferrer\">insertText() of Class Paragraph</a></li>\n</ul>\n\n<p>If I misunderstood your question and this was not the result you want, I apologize.</p>\n"}], "owner": {"reputation": 358, "user_id": 10057504, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-m1X2YQTV9hE/AAAAAAAAAAI/AAAAAAAAbv4/vRyHE-2DVqE/photo.jpg?sz=128", "display_name": "Leonard Niehaus", "link": "https://stackoverflow.com/users/10057504/leonard-niehaus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 57599658, "answer_count": 1, "score": 2, "last_activity_date": 1566424895, "creation_date": 1566415828, "question_id": 57598117, "link": "https://stackoverflow.com/questions/57598117/google-apps-script-cannot-find-function-inserttext-in-object-document", "title": "Google Apps Script: Cannot find function insertText in object Document", "body": "<p>I'd like to copy a Google Docs document and add text to the copy. This is my code:</p>\n\n<pre><code>function main() {\n    var template = DriveApp.getFileById(TEMPLATE_DOC_ID);\n    var copy = template.makeCopy('copied file');\n    var form = DocumentApp.openById(copy.getId());\n    form.insertText(0, 'Inserted text.\\n');\n  }\n</code></pre>\n\n<p>When I run main(), I get the following error: <code>TypeError: Cannot find function insertText in object Document. (line 5, file \"Code\")</code></p>\n"}, {"tags": ["javascript", "jquery", "html", "ajax"], "comments": [{"owner": {"reputation": 1542, "user_id": 5000465, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/23bb922d394c0def2fe868eec8315510?s=128&d=identicon&r=PG&f=1", "display_name": "TRose", "link": "https://stackoverflow.com/users/5000465/trose"}, "edited": false, "score": 1, "creation_date": 1566415932, "post_id": 57598098, "comment_id": 101653425, "body": "Are you sure there isn&#39;t some other snippet of code checking the folder for changes after the page has loaded? What I&#39;m seeing doesn&#39;t completely make sense to me."}, {"owner": {"reputation": 780, "user_id": 8596503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bce9f7506e1936b2082dae6df806a6fd?s=128&d=identicon&r=PG", "display_name": "sanketd617", "link": "https://stackoverflow.com/users/8596503/sanketd617"}, "edited": false, "score": 1, "creation_date": 1566416141, "post_id": 57598098, "comment_id": 101653535, "body": "Mention how you detect change in files."}, {"owner": {"reputation": 4217, "user_id": 9029328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3hFz.png?s=128&g=1", "display_name": "AuxTaco", "link": "https://stackoverflow.com/users/9029328/auxtaco"}, "edited": false, "score": 0, "creation_date": 1566416308, "post_id": 57598098, "comment_id": 101653621, "body": "There&#39;s nothing in the code you&#39;ve provided that would ever reload the page. Are you serving the page from a server that also monitors its folder for changes, like browsersync?"}, {"owner": {"reputation": 11, "user_id": 11958868, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mC4CIwIEQNOciKrQaRX2egga8DCsO9PEfFtqrKOhd4=k-s128", "display_name": "Chaitanya Katulwar", "link": "https://stackoverflow.com/users/11958868/chaitanya-katulwar"}, "reply_to_user": {"reputation": 4217, "user_id": 9029328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3hFz.png?s=128&g=1", "display_name": "AuxTaco", "link": "https://stackoverflow.com/users/9029328/auxtaco"}, "edited": false, "score": 0, "creation_date": 1566538288, "post_id": 57598098, "comment_id": 101694833, "body": "@AuxTaco I am creating a local server using visual studio code i.e. the &quot;Open with Live Server&quot;. Is that doing the monitoring?"}], "owner": {"reputation": 11, "user_id": 11958868, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mC4CIwIEQNOciKrQaRX2egga8DCsO9PEfFtqrKOhd4=k-s128", "display_name": "Chaitanya Katulwar", "link": "https://stackoverflow.com/users/11958868/chaitanya-katulwar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566416141, "creation_date": 1566415726, "question_id": 57598098, "link": "https://stackoverflow.com/questions/57598098/how-to-update-page-without-reloading-when-folder-gets-a-new-item", "title": "How to update page without reloading when folder gets a new item?", "body": "<p>I'm using ajax to fetch data from a folder (images) and append each image into HTML. It works, <strong>but when the folder gets a new image added to it (manually via copy and paste), the page reloads and updates, instead of updating dynamically.</strong></p>\n\n<pre><code>var folder = \"./images/\"\n\n$.ajax({\n    url : folder,\n    success : function(data) {\n        let a  = $(data).find(\".icon-image\"); //returns the list of images\n        for(let i=0; i&lt;a.length; i++){\n            $('.view').append(\"&lt;img src='./images\" + a[i].title + \"'&gt;\");\n        };\n    };\n});\n</code></pre>\n\n<p>OUTPUT - The code displays all, let's say 5 images from a folder, but if I delete an image from the folder, the page reloads and displays 4 images.</p>\n\n<p>DESIRED OUTPUT - ^The code displays all...delete an image from the folder, <strong>the page displays 4 images without reloading itself.</strong></p>\n"}, {"tags": ["javascript", "arrays", "ecmascript-6", "ecmascript-2017"], "comments": [{"owner": {"reputation": 625, "user_id": 7755665, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PhvCoVhEXJM/AAAAAAAAAAI/AAAAAAAAAAo/IZp1ulBz1Dc/photo.jpg?sz=128", "display_name": "Alireza", "link": "https://stackoverflow.com/users/7755665/alireza"}, "edited": false, "score": 0, "creation_date": 1566414884, "post_id": 57597926, "comment_id": 101652946, "body": "<code>map</code> can&#39;t do that but you can achieve that with <code>reduce</code> or <code>filter</code>"}, {"owner": {"reputation": 81, "user_id": 11867807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5279bb36620bac63ebefb1fe8a4ffb60?s=128&d=identicon&r=PG&f=1", "display_name": "Jonas", "link": "https://stackoverflow.com/users/11867807/jonas"}, "reply_to_user": {"reputation": 625, "user_id": 7755665, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PhvCoVhEXJM/AAAAAAAAAAI/AAAAAAAAAAo/IZp1ulBz1Dc/photo.jpg?sz=128", "display_name": "Alireza", "link": "https://stackoverflow.com/users/7755665/alireza"}, "edited": false, "score": 0, "creation_date": 1566415323, "post_id": 57597926, "comment_id": 101653166, "body": "@Alireza can you please make a simple array and apply this function"}, {"owner": {"reputation": 625, "user_id": 7755665, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PhvCoVhEXJM/AAAAAAAAAAI/AAAAAAAAAAo/IZp1ulBz1Dc/photo.jpg?sz=128", "display_name": "Alireza", "link": "https://stackoverflow.com/users/7755665/alireza"}, "edited": false, "score": 0, "creation_date": 1566415370, "post_id": 57597926, "comment_id": 101653185, "body": "You mean <code>reduce</code> and <code>filter</code>?"}, {"owner": {"reputation": 1283, "user_id": 8076386, "user_type": "registered", "profile_image": "https://graph.facebook.com/1443794742352611/picture?type=large", "display_name": "Rohit Kashyap", "link": "https://stackoverflow.com/users/8076386/rohit-kashyap"}, "edited": false, "score": 0, "creation_date": 1566415578, "post_id": 57597926, "comment_id": 101653276, "body": "Why not just map the whole array till the 5th index with a combination of <code>slice</code> and <code>map</code>?"}, {"owner": {"reputation": 51813, "user_id": 860099, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/125k3.jpg?s=128&g=1", "display_name": "Kamil Kie\u0142czewski", "link": "https://stackoverflow.com/users/860099/kamil-kie%c5%82czewski"}, "edited": false, "score": 0, "creation_date": 1566415826, "post_id": 57597926, "comment_id": 101653381, "body": "Actually you can stop execution using <code>[1,2,3,4,5,6,7,8,9,10].map((x,i) =&gt; { if(i&gt;=5) throw 0; console.log(x**2) })</code> - however throw exception will slow down your code and they are not designed for break loops in normal situations"}, {"owner": {"reputation": 81, "user_id": 11867807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5279bb36620bac63ebefb1fe8a4ffb60?s=128&d=identicon&r=PG&f=1", "display_name": "Jonas", "link": "https://stackoverflow.com/users/11867807/jonas"}, "reply_to_user": {"reputation": 625, "user_id": 7755665, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PhvCoVhEXJM/AAAAAAAAAAI/AAAAAAAAAAo/IZp1ulBz1Dc/photo.jpg?sz=128", "display_name": "Alireza", "link": "https://stackoverflow.com/users/7755665/alireza"}, "edited": false, "score": 0, "creation_date": 1566416006, "post_id": 57597926, "comment_id": 101653465, "body": "@Alireza please try best one , actually I want to solve my problem"}, {"owner": {"reputation": 1035, "user_id": 5471957, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9ab5dd64f5bb608b4a5c788135931350?s=128&d=identicon&r=PG&f=1", "display_name": "SpeedOfRound", "link": "https://stackoverflow.com/users/5471957/speedofround"}, "edited": false, "score": 0, "creation_date": 1566416067, "post_id": 57597926, "comment_id": 101653498, "body": "What ever requirement you have to accomplish this for is nonsense"}, {"owner": {"reputation": 625, "user_id": 7755665, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PhvCoVhEXJM/AAAAAAAAAAI/AAAAAAAAAAo/IZp1ulBz1Dc/photo.jpg?sz=128", "display_name": "Alireza", "link": "https://stackoverflow.com/users/7755665/alireza"}, "edited": false, "score": 0, "creation_date": 1566416245, "post_id": 57597926, "comment_id": 101653582, "body": "<code>[1,2,3,4,5,6,7].slice(5)</code> or <code>[1,2,3,4,5,6,7].filter((el,i) =&gt; i &lt;5)</code> slice is the one for this job. If you need to transform only the first 5 elements chain <code>slice</code> with map."}], "owner": {"reputation": 81, "user_id": 11867807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5279bb36620bac63ebefb1fe8a4ffb60?s=128&d=identicon&r=PG&f=1", "display_name": "Jonas", "link": "https://stackoverflow.com/users/11867807/jonas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "closed_date": 1566414894, "answer_count": 0, "score": 0, "last_activity_date": 1566414828, "creation_date": 1566414828, "question_id": 57597926, "link": "https://stackoverflow.com/questions/57597926/how-to-stop-executing-map-function-on-array-index-5-in-javascript", "closed_reason": "Duplicate", "title": "How to stop executing map function on array index 5 in javascript", "body": "<p>I have array of 10 elements, I am mapping to extract array data . I want to stop array executing when compile reached to array index 5 . I know it possible with for loop but I need it in map function. Please help me </p>\n"}, {"tags": ["javascript", "java", "reactjs", "react-router", "dropwizard"], "comments": [{"owner": {"reputation": 1900, "user_id": 1424833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00623dff0c06eceb6bd8bf809fd170d3?s=128&d=identicon&r=PG", "display_name": "Matt Holland", "link": "https://stackoverflow.com/users/1424833/matt-holland"}, "edited": false, "score": 0, "creation_date": 1566429622, "post_id": 57597835, "comment_id": 101657679, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/45560374/configuration-changes-in-dropwizard-application-to-work-with-react-browserhistor\">Configuration changes in dropwizard application to work with react browserHistory</a>"}], "owner": {"reputation": 77, "user_id": 11954373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d13858d64552d6800ddb4f5a49607169?s=128&d=identicon&r=PG&f=1", "display_name": "BlahZayBlahZay", "link": "https://stackoverflow.com/users/11954373/blahzayblahzay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 227, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1566414384, "creation_date": 1566414384, "question_id": 57597835, "link": "https://stackoverflow.com/questions/57597835/serving-react-with-dropwizard-where-there-are-react-routers", "title": "Serving React with DropWizard where there are React-Routers?", "body": "<p>In my App.js:</p>\n\n<pre><code>  render() {\n    return (\n      &lt;Router&gt;\n        &lt;div className=\"App\"&gt;\n          &lt;Header /&gt;\n          &lt;div className=\"App-body\"&gt;\n            &lt;Route\n              exact path='/set/employees'\n              render={(props) =&gt; (\n                ...\n              )}\n            /&gt;\n            &lt;Route\n              exact path='/set/om'\n              render={(props) =&gt; (\n                ...\n              )}\n            /&gt;\n            &lt;Route\n              exact path='/set/legal'\n              render={(props) =&gt; (\n                ...\n              )}\n            /&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/Router&gt;\n    );\n  }\n</code></pre>\n\n<p>In the Application class for my DropWizard project:</p>\n\n<pre><code>  public void initialize(final Bootstrap&lt;lspireConfiguration&gt; bootstrap) {\n        bootstrap.addBundle(new AssetsBundle(\"/assets/build/\", \"/\"));\n\n    }\n</code></pre>\n\n<p>As you can see, I'm serving at localhost:8080/index.html, which renders the App.js page. However, I want to implement with React-Router so if I go to the path I set in a Route i.e. /set/legal, it would render those components inside. Not sure how to accomplish that and what routes I'd even be hitting.</p>\n"}, {"tags": ["javascript", "angular"], "comments": [{"owner": {"reputation": 1532, "user_id": 6113960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c1166defd66f28cce815ecb42cbf55?s=128&d=identicon&r=PG&f=1", "display_name": "Yasser Mas", "link": "https://stackoverflow.com/users/6113960/yasser-mas"}, "edited": false, "score": 0, "creation_date": 1566415038, "post_id": 57597813, "comment_id": 101653024, "body": "What about adding await for exportAsExcelFile function and return XLSX.writeFile ;;  public async exportAsExcelFile ... return XLSX.writeFile(workbook....}  this._excelExporterService.exportAsExcelFile(this.data,&#39;file&zwnj;&#8203;&#39;).then(d =&gt;{ this.loading = false }).catch(e=&gt;{})"}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1566415268, "post_id": 57597813, "comment_id": 101653142, "body": "Edited the answer to include an alternative."}], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 9675730, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bylGTh6c8_M/AAAAAAAAAAI/AAAAAAAAFQc/mF4f10zwfZc/photo.jpg?sz=128", "display_name": "Thrilok Kumar Pallaki", "link": "https://stackoverflow.com/users/9675730/thrilok-kumar-pallaki"}, "is_accepted": false, "score": 0, "last_activity_date": 1566414820, "creation_date": 1566414820, "answer_id": 57597924, "question_id": 57597813, "link": "https://stackoverflow.com/questions/57597813/how-to-implement-observable-in-function/57597924#57597924", "title": "How to implement Observable in function", "body": "<p>In the service <br>\n<code>import { of } from 'rxjsx;</code>\nIn the function:<br>\nreturn of(true) ;`</p>\n"}, {"comments": [{"owner": {"reputation": 146, "user_id": 7763772, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ysu_i0KvyG0/AAAAAAAAAAI/AAAAAAAAAC8/1-w6j3SHRJM/photo.jpg?sz=128", "display_name": "justme", "link": "https://stackoverflow.com/users/7763772/justme"}, "edited": false, "score": 0, "creation_date": 1566463094, "post_id": 57598372, "comment_id": 101666511, "body": "Is seems that writeFileAsync is missing. Could you provide full example?"}], "tags": [], "owner": {"reputation": 66, "user_id": 7420509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26b27e7762b8bb9cd039ea765e6ae6e3?s=128&d=identicon&r=PG", "display_name": "elcordova", "link": "https://stackoverflow.com/users/7420509/elcordova"}, "is_accepted": false, "score": 0, "last_activity_date": 1566417109, "creation_date": 1566417109, "answer_id": 57598372, "question_id": 57597813, "link": "https://stackoverflow.com/questions/57597813/how-to-implement-observable-in-function/57598372#57598372", "title": "How to implement Observable in function", "body": "<p><a href=\"https://www.npmjs.com/package/xlsx#writing-functions\" rel=\"nofollow noreferrer\">documentation</a>\nyou can use:</p>\n\n<pre><code>public exportAsExcelFile(json: any[], excelFileName: string): Observable&lt;boolean&gt; {\n    return new Observable((obs)=&gt; { \n        const worksheet: XLSX.WorkSheet = XLSX.utils.json_to_sheet(json);\n        const workbook: XLSX.WorkBook = {Sheets: {'data': worksheet}, SheetNames: ['data']};\n        obs.next(true);\n        XLSX.writeFileAsync(excelFileName, workbook, () =&gt; {\n            obs.next(false);\n        });\n    });\n}\nexportAsExcelFile(json_any, 'testName').subscribe((resp:boolean)=&gt;{\n    loadind(resp);\n});\n</code></pre>\n"}], "owner": {"reputation": 146, "user_id": 7763772, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ysu_i0KvyG0/AAAAAAAAAAI/AAAAAAAAAC8/1-w6j3SHRJM/photo.jpg?sz=128", "display_name": "justme", "link": "https://stackoverflow.com/users/7763772/justme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1566417109, "creation_date": 1566414235, "question_id": 57597813, "link": "https://stackoverflow.com/questions/57597813/how-to-implement-observable-in-function", "title": "How to implement Observable in function", "body": "<p>According to <strong>luwojtaszek</strong> answer in this topic:\n<a href=\"https://stackoverflow.com/questions/39177183/how-to-export-json-to-csv-or-excel-angular-2\">How to Export JSON to CSV or Excel - Angular 2</a>\nI implemented a pice of code:</p>\n\n<pre><code>  public exportAsExcelFile(json: any[], excelFileName: string): void {\n    const worksheet: XLSX.WorkSheet = XLSX.utils.json_to_sheet(json);\n    const workbook: XLSX.WorkBook = {Sheets: {'data': worksheet}, SheetNames: ['data']};\n    XLSX.writeFile(workbook, ExcelService.toExportFileName(excelFileName));\n  }\n}\n</code></pre>\n\n<p>Above code works fine and eventually generates an excel file.\nBecause of size of data it takes few seconds to generate a file (almost 10 MB).\nI would like to show some fancy animation to notify user, that it is in progress.\nThe problem is I can't return an observable, or I don't know how to use it properly.</p>\n\n<p>I created a service that I inject through constructor and then I subscribe to function this way:</p>\n\n<pre><code>this.loading = true;      \nreturn this._excelExporterService.exportAsExcelFile(this.data,'file').subscribe(x=&gt; {\n    if(x)\n    this.loading = false;\n})\n</code></pre>\n\n<p>and this is how my service looks:</p>\n\n<pre><code>  public exportAsExcelFile(json: any[], excelFileName: string): Observable&lt;boolean&gt; {\n    const worksheet: XLSX.WorkSheet = XLSX.utils.json_to_sheet(json);\n    const workbook: XLSX.WorkBook = {Sheets: {'data': worksheet}, SheetNames: ['data']};\n    let x: boolean;\n    XLSX.writeFile(workbook, ExcelExporterService.toExportFileName(excelFileName));\n    return Observable.of(true);\n\n  }\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "ecmascript-6"], "comments": [{"owner": {"reputation": 1852, "user_id": 2604041, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/1ez58.jpg?s=128&g=1", "display_name": "Ante Gulin", "link": "https://stackoverflow.com/users/2604041/ante-gulin"}, "edited": false, "score": 1, "creation_date": 1566414593, "post_id": 57597800, "comment_id": 101652831, "body": "Please indent your code, it looks very messy."}], "answers": [{"comments": [{"owner": {"reputation": 1266, "user_id": 9158178, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/MfiyI.png?s=128&g=1", "display_name": "tour travel", "link": "https://stackoverflow.com/users/9158178/tour-travel"}, "edited": false, "score": 0, "creation_date": 1566415516, "post_id": 57597883, "comment_id": 101653244, "body": "And it return: <code>TypeError: Cannot read property &#39;current&#39; of undefined</code>"}, {"owner": {"reputation": 30563, "user_id": 711206, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pmkDv.jpg?s=128&g=1", "display_name": "Federkun", "link": "https://stackoverflow.com/users/711206/federkun"}, "reply_to_user": {"reputation": 1266, "user_id": 9158178, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/MfiyI.png?s=128&g=1", "display_name": "tour travel", "link": "https://stackoverflow.com/users/9158178/tour-travel"}, "edited": false, "score": 0, "creation_date": 1566415831, "post_id": 57597883, "comment_id": 101653383, "body": "you may need to share your attempt. current can be undefined, because it is set later"}, {"owner": {"reputation": 91, "user_id": 7104346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5b392a59fd1cdadcf01378aac6a81bf?s=128&d=identicon&r=PG", "display_name": "farbod", "link": "https://stackoverflow.com/users/7104346/farbod"}, "edited": false, "score": 0, "creation_date": 1566415980, "post_id": 57597883, "comment_id": 101653454, "body": "Everything is right. but need one change to work. Just remove .current from this.requestValidatorRef.current.validator(e)"}, {"owner": {"reputation": 1266, "user_id": 9158178, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/MfiyI.png?s=128&g=1", "display_name": "tour travel", "link": "https://stackoverflow.com/users/9158178/tour-travel"}, "edited": false, "score": 0, "creation_date": 1566416131, "post_id": 57597883, "comment_id": 101653530, "body": "No, it is my mistake, it call function, but my code inside the function return nothing, so this problem solved, thanks"}, {"owner": {"reputation": 91, "user_id": 7104346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5b392a59fd1cdadcf01378aac6a81bf?s=128&d=identicon&r=PG", "display_name": "farbod", "link": "https://stackoverflow.com/users/7104346/farbod"}, "edited": false, "score": 0, "creation_date": 1566416392, "post_id": 57597883, "comment_id": 101653658, "body": "By the way document.getElementById(&#39;myinput&#39;) is not react syntax. react using ref for this."}, {"owner": {"reputation": 13341, "user_id": 10030970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23e57ef36f01ce7924715bdc240cebae?s=128&d=identicon&r=PG", "display_name": "Cool Guy", "link": "https://stackoverflow.com/users/10030970/cool-guy"}, "edited": false, "score": 0, "creation_date": 1566416643, "post_id": 57597883, "comment_id": 101653755, "body": "Nice answer :)!"}], "tags": [], "owner": {"reputation": 30563, "user_id": 711206, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pmkDv.jpg?s=128&g=1", "display_name": "Federkun", "link": "https://stackoverflow.com/users/711206/federkun"}, "is_accepted": true, "score": 2, "last_activity_date": 1566415782, "last_edit_date": 1566415782, "creation_date": 1566414623, "answer_id": 57597883, "question_id": 57597800, "link": "https://stackoverflow.com/questions/57597800/reactjs-pass-variable-to-function-from-another-class/57597883#57597883", "title": "Reactjs pass variable to function from another class", "body": "<p>You can do that using <code>ref</code>. You create one in your parent component:</p>\n\n<pre><code>class Request extends React.Component {\n    constructor(props) {\n        super(props)\n        this.requestValidatorRef = React.createRef();\n    }\n</code></pre>\n\n<p>then you pass it to the child component:</p>\n\n<pre><code>&lt;RequestValidator ref={this.requestValidatorRef} /&gt;\n</code></pre>\n\n<p>at this point you should be able to call your method like this:</p>\n\n<pre><code>getForm(e) {\n  this.requestValidatorRef.current.validator(e) // ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5988566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78b76356f0b960713a7ea972996b7f55?s=128&d=identicon&r=PG&f=1", "display_name": "unfixedbug", "link": "https://stackoverflow.com/users/5988566/unfixedbug"}, "is_accepted": false, "score": 0, "last_activity_date": 1566418191, "creation_date": 1566418191, "answer_id": 57598579, "question_id": 57597800, "link": "https://stackoverflow.com/questions/57597800/reactjs-pass-variable-to-function-from-another-class/57598579#57598579", "title": "Reactjs pass variable to function from another class", "body": "<p>If you want to pass parameter to another class in reactjs you should use props. Also variable in requestvalidator class have to use prop name. But in your case RequestValidator and Input components are different.\nIn main component class call like this:</p>\n\n<pre><code>  &lt;UserInput\n         titles={this.state.titles}\n    /&gt;\n</code></pre>\n\n<p>In UserInput component use this prop like this:</p>\n\n<pre><code>class UserInput extends React.Component {\n      componentDidMount() {\n        console.log(\" titles from main class:\", this.props.titles);\n      }\n}\n</code></pre>\n"}], "owner": {"reputation": 1266, "user_id": 9158178, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/MfiyI.png?s=128&g=1", "display_name": "tour travel", "link": "https://stackoverflow.com/users/9158178/tour-travel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 645, "favorite_count": 0, "accepted_answer_id": 57597883, "answer_count": 2, "score": 0, "last_activity_date": 1566418191, "creation_date": 1566414174, "last_edit_date": 1566415618, "question_id": 57597800, "link": "https://stackoverflow.com/questions/57597800/reactjs-pass-variable-to-function-from-another-class", "title": "Reactjs pass variable to function from another class", "body": "<p><strong>Request.js</strong></p>\n\n<pre><code>export default class Request extends React.Component {\ngetForm(e) {\n  let v = validator(document.getElementById('myinput')); // here is should call function from another class\n}\nrender(){\n  return(\n      &lt;form onSubmit={this.getForm.bind(this)}&gt;\n        &lt;RequestValidator/&gt; // here is I called second class\n        &lt;Input id=\"myinput\" value=\"65\"/&gt;\n      &lt;/form&gt;\n    }\n  }\n}\n</code></pre>\n\n<p><strong>RequestValidator.js</strong></p>\n\n<pre><code>export default class RequestValidator extends React.Component {\n  validator = (e) =&gt; { // here is the target function\n    console.log(e.value);\n  }\n}\n</code></pre>\n\n<p>What I want to do is, pass a variable (<code>#myinput</code> value) from <code>Request</code> compontent class to a function (<code>validator</code>) in another compontent class (<code>RequestValidator</code>).</p>\n\n<p>What I have done so far is above codes, but I got error:</p>\n\n<blockquote>\n  <p>'validator' is not defined  no-undef</p>\n</blockquote>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 11162, "user_id": 11619647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0MnDA.jpg?s=128&g=1", "display_name": "Emiel Zuurbier", "link": "https://stackoverflow.com/users/11619647/emiel-zuurbier"}, "edited": false, "score": 0, "creation_date": 1566420667, "post_id": 57597784, "comment_id": 101655272, "body": "I&#39;m afraid that isn&#39;t possible <a href=\"https://stackoverflow.com/questions/53759070/how-to-get-path-directory-from-filereader\">How to get path directory from FileReader()?</a>"}, {"owner": {"reputation": 137, "user_id": 4138732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bIAfI.jpg?s=128&g=1", "display_name": "DRW", "link": "https://stackoverflow.com/users/4138732/drw"}, "reply_to_user": {"reputation": 11162, "user_id": 11619647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0MnDA.jpg?s=128&g=1", "display_name": "Emiel Zuurbier", "link": "https://stackoverflow.com/users/11619647/emiel-zuurbier"}, "edited": false, "score": 0, "creation_date": 1566426836, "post_id": 57597784, "comment_id": 101657072, "body": "Not trying to get the path , trying to put the base64 encode into an array so i can then use the repeat function of lit-element to render the image out to the browser. I never said anything about getting the file path ."}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 1, "creation_date": 1566541898, "post_id": 57597784, "comment_id": 101695912, "body": "Note that you absolutely don&#39;t need the FileReader here, nor any asynchronous scripting: <code>imageDrop(e) { e.stopPropagation(); e.preventDefault(); this.imageFiles.push.apply(this.imageFiles, ( [...e.dataTransfer.files].map( (f) =&gt; ({ name: f.name, data: URL.createObjectURL(f), type: f.type }) )  ) ); }</code> is all you need: <a href=\"https://jsfiddle.net/8va0r4tw/\" rel=\"nofollow noreferrer\">jsfiddle.net/8va0r4tw</a>"}], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 4138732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bIAfI.jpg?s=128&g=1", "display_name": "DRW", "link": "https://stackoverflow.com/users/4138732/drw"}, "edited": false, "score": 0, "creation_date": 1566494963, "post_id": 57606003, "comment_id": 101683818, "body": "With some minor changes it does work as expected I had to change the dt.files.name to file.name and same with type and it all worked out. Thank you for your help"}, {"owner": {"reputation": 11162, "user_id": 11619647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0MnDA.jpg?s=128&g=1", "display_name": "Emiel Zuurbier", "link": "https://stackoverflow.com/users/11619647/emiel-zuurbier"}, "reply_to_user": {"reputation": 137, "user_id": 4138732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bIAfI.jpg?s=128&g=1", "display_name": "DRW", "link": "https://stackoverflow.com/users/4138732/drw"}, "edited": false, "score": 0, "creation_date": 1566495428, "post_id": 57606003, "comment_id": 101684002, "body": "You are welcome. I&#39;ve added your minor change to the answer."}, {"owner": {"reputation": 137, "user_id": 4138732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bIAfI.jpg?s=128&g=1", "display_name": "DRW", "link": "https://stackoverflow.com/users/4138732/drw"}, "edited": false, "score": 0, "creation_date": 1566523030, "post_id": 57606003, "comment_id": 101692046, "body": "I did some more testing, I am able to process one image at a time, but when I do multiple images it only collects data from the last file that was dropped and processes it the number of times as files that I dropped in .  sometimes I get 2 sometimes I get one but it is all the same data    0: {name: &quot;ashes-of-creation-title copy.jpg&quot;, data: &quot;&quot;, type: &quot;image/jpeg&quot;}  1: {name: &quot;ashes-of-creation-title copy.jpg&quot;, data: &quot;data:image/jpeg;base64,/9j/4RTIRXhpZgAATU0AKgAAAAg...,  2: {name: &quot;ashes-of-creation-title copy.jpg&quot;, data: &quot;data:image/jpeg;base64,/9j/4RTIRXhpZgAATU0AKgAAAA..."}, {"owner": {"reputation": 11162, "user_id": 11619647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0MnDA.jpg?s=128&g=1", "display_name": "Emiel Zuurbier", "link": "https://stackoverflow.com/users/11619647/emiel-zuurbier"}, "reply_to_user": {"reputation": 137, "user_id": 4138732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bIAfI.jpg?s=128&g=1", "display_name": "DRW", "link": "https://stackoverflow.com/users/4138732/drw"}, "edited": false, "score": 0, "creation_date": 1566540985, "post_id": 57606003, "comment_id": 101695582, "body": "I&#39;ve added a closure to the <code>load</code> event handler. Try it out and let me know if it works."}, {"owner": {"reputation": 11162, "user_id": 11619647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0MnDA.jpg?s=128&g=1", "display_name": "Emiel Zuurbier", "link": "https://stackoverflow.com/users/11619647/emiel-zuurbier"}, "reply_to_user": {"reputation": 137, "user_id": 4138732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bIAfI.jpg?s=128&g=1", "display_name": "DRW", "link": "https://stackoverflow.com/users/4138732/drw"}, "edited": false, "score": 0, "creation_date": 1566542628, "post_id": 57606003, "comment_id": 101696162, "body": "Using <code>const file = dt.files[i];</code> instead of <code>var</code> might also solve the problem."}, {"owner": {"reputation": 137, "user_id": 4138732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bIAfI.jpg?s=128&g=1", "display_name": "DRW", "link": "https://stackoverflow.com/users/4138732/drw"}, "edited": false, "score": 0, "creation_date": 1566580237, "post_id": 57606003, "comment_id": 101714699, "body": "had to make some minor changes again,  had to add t as a parameter then this with the file, reader and then the array to t.imageFiles and it all works correctly I get all the images that are dropped and the data .. thanks again for your help .."}, {"owner": {"reputation": 11162, "user_id": 11619647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0MnDA.jpg?s=128&g=1", "display_name": "Emiel Zuurbier", "link": "https://stackoverflow.com/users/11619647/emiel-zuurbier"}, "reply_to_user": {"reputation": 137, "user_id": 4138732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bIAfI.jpg?s=128&g=1", "display_name": "DRW", "link": "https://stackoverflow.com/users/4138732/drw"}, "edited": false, "score": 0, "creation_date": 1566580399, "post_id": 57606003, "comment_id": 101714776, "body": "Great to hear. I realized that the closure changed the context of <code>this</code> and tried another approach which uses <code>const</code> and should have the same result. Answer is based on <a href=\"https://decembersoft.com/posts/understanding-javascript-closures-in-for-loops/\" rel=\"nofollow noreferrer\">this</a> article."}], "tags": [], "owner": {"reputation": 11162, "user_id": 11619647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0MnDA.jpg?s=128&g=1", "display_name": "Emiel Zuurbier", "link": "https://stackoverflow.com/users/11619647/emiel-zuurbier"}, "is_accepted": true, "score": 0, "last_activity_date": 1566580142, "last_edit_date": 1566580142, "creation_date": 1566465631, "answer_id": 57606003, "question_id": 57597784, "link": "https://stackoverflow.com/questions/57597784/trying-to-get-filereader-readasdataurl-into-an-object-array-so-that-i-can-displa/57606003#57606003", "title": "Trying to get filereader.readAsDataURL into an object array so that I can display the image from the drag and drop event", "body": "<p>The problem lies in your <code>onload</code> callback function and the <code>array</code> <code>push</code> that follows. The push to the array occurs first and so the values are added to the array without the <code>data</code> property, because at that time, there is no value. That value can be retrieved from within the <code>onload</code> callback.</p>\n\n<p>You'll want to have the image added to the array whenever the image has been decoded into a <code>base64</code> string.</p>\n\n<p>You can do that by moving the <code>this.imageFiles.push</code> into the <code>load</code> event callback. When the <code>load</code> event is called the <code>reader.result</code> value has been updated and now contains the <code>base64</code> string you require.</p>\n\n<p>I assume that this is a method of a class you are writing because you are referring to <code>this</code>. So I've used an <code>arrow function</code> to make <code>this</code> refer to the context of the class.</p>\n\n<pre><code>imageDrop(e) {\n    e.stopPropagation();\n    e.preventDefault();\n    let dt = e.dataTransfer;\n    for(var i = 0, n = dt.files.length; i &lt; n; i++){\n        const file = dt.files[i];\n        const reader = new FileReader();\n        reader.addEventListener('load', () =&gt; {\n            this.imageFiles.push({\n                name: file.name,\n                data: reader.result,\n                type: file.type\n            });\n        }, {once: true});\n        reader.readAsDataURL(file)\n    }\n}\n</code></pre>\n\n<p>Try it out and I hope it fixes your problem.</p>\n"}], "owner": {"reputation": 137, "user_id": 4138732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bIAfI.jpg?s=128&g=1", "display_name": "DRW", "link": "https://stackoverflow.com/users/4138732/drw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 236, "favorite_count": 0, "closed_date": 1566541136, "accepted_answer_id": 57606003, "answer_count": 1, "score": 0, "last_activity_date": 1566581066, "creation_date": 1566414128, "last_edit_date": 1566581066, "question_id": 57597784, "link": "https://stackoverflow.com/questions/57597784/trying-to-get-filereader-readasdataurl-into-an-object-array-so-that-i-can-displa", "closed_reason": "Duplicate", "title": "Trying to get filereader.readAsDataURL into an object array so that I can display the image from the drag and drop event", "body": "<p>I have a Drag and Drop event that is connected to my imageDrop function. I am trying to get the dataurl into an array so that I can display images via a slider view or a grid view. I am able to get the name of the file and the type I just need help figuring out how to get it to display the image. </p>\n\n<p>I have tried setting up the reader.onload but when i run the page it does not output the expected values </p>\n\n<pre><code>  imageDrop(e) {\n        e.stopPropagation();\n        e.preventDefault();\n        let dt = e.dataTransfer;\n        for(var i = 0, n= dt.files.length; i &lt; n; i++){\n            var file = dt.files[i];\n            var reader = new FileReader();\n            reader.onload = (function(f){\n                return function(e){\n                    e.target.result;\n                }\n            });(file)\n            this.imageFiles.push({\n                name: dt.files[i].name,\n                data: reader.readAsDataURL(file),\n                type: dt.files[i].type\n            });\n        }\n   }\n</code></pre>\n\n<p>What I am expecting is to get the name of the file, the type and the dataurl to display the image into the imageFiles array.</p>\n"}, {"tags": ["javascript", "arrays", "filter"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 1, "creation_date": 1566414103, "post_id": 57597750, "comment_id": 101652607, "body": "<code>.filter()</code> <i>always</i> creates a new array. Your code doesn&#39;t work because the assignment to <code>array</code> in the function is an assignment to the parameter and JavaScript is a pass-by-value language."}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1566414213, "post_id": 57597750, "comment_id": 101652657, "body": "To actually achieve what the question title requests you&#39;d have to write a function to &quot;smush&quot; the array in place to get rid of filtered-out entries."}, {"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 1, "creation_date": 1566414264, "post_id": 57597750, "comment_id": 101652678, "body": "<a href=\"https://stackoverflow.com/a/26610095/3082296\">Pass Variables by Reference in Javascript</a>"}, {"owner": {"reputation": 1698, "user_id": 9342544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d28d5bc1e5d8cc97ca08957458ae8a61?s=128&d=identicon&r=PG&f=1", "display_name": "Neel Rathod", "link": "https://stackoverflow.com/users/9342544/neel-rathod"}, "edited": false, "score": 0, "creation_date": 1566415340, "post_id": 57597750, "comment_id": 101653171, "body": "The function <code>.filter()</code> is doesn&#39;t like a <code>for</code> loop, This function actually apply the filter on array entities and return a new filtered array, It doesn&#39;t make changes on a actual array like <code>for</code> loop, So when you need to filter any array then you must need to take a variable which holds filtered array result or just use <code>for</code> loop and remove unsatisfied entries from the array which affects on original array elements"}], "answers": [{"comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 3, "creation_date": 1566414256, "post_id": 57597778, "comment_id": 101652673, "body": "This works of course but it doesn&#39;t satisfy the &quot;without another array&quot; part of the question."}, {"owner": {"reputation": 1415, "user_id": 7630984, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-p11M8IHr9Xk/AAAAAAAAAAI/AAAAAAAAABU/KHPI59FWR2A/photo.jpg?sz=128", "display_name": "Robert Hovhannisyan", "link": "https://stackoverflow.com/users/7630984/robert-hovhannisyan"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1566415371, "post_id": 57597778, "comment_id": 101653186, "body": "That was a pretty smart way to filter an array but I agree with @Pointy in this case. But Thank You anyway for Your good answer!"}], "tags": [], "owner": {"reputation": 19440, "user_id": 6275103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KDDMj.jpg?s=128&g=1", "display_name": "MrGeek", "link": "https://stackoverflow.com/users/6275103/mrgeek"}, "is_accepted": false, "score": 4, "last_activity_date": 1566414177, "last_edit_date": 1566414177, "creation_date": 1566414115, "answer_id": 57597778, "question_id": 57597750, "link": "https://stackoverflow.com/questions/57597750/how-to-filter-an-array-without-another-array-javascript/57597778#57597778", "title": "How to filter an array without another array javascript", "body": "<p>You need to return the new filtered array and assign it to a variable (such as <code>arr</code> itself):</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function filterRangeInPlace(array, min, max){\r\n  return array.filter(item =&gt; (item &gt;= min &amp;&amp; item &lt;= max));\r\n}\r\n\r\nlet arr = [5, 3, 8, 1];\r\n\r\narr = filterRangeInPlace(arr, 1, 4);\r\n\r\nconsole.log(arr);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 1415, "user_id": 7630984, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-p11M8IHr9Xk/AAAAAAAAAAI/AAAAAAAAABU/KHPI59FWR2A/photo.jpg?sz=128", "display_name": "Robert Hovhannisyan", "link": "https://stackoverflow.com/users/7630984/robert-hovhannisyan"}, "edited": false, "score": 0, "creation_date": 1566415449, "post_id": 57597801, "comment_id": 101653219, "body": "That interesting and short answer. Thank You for Your effort!"}], "tags": [], "owner": {"reputation": 475, "user_id": 11714668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/059c16fa2447ef8d1b968658d866c70c?s=128&d=identicon&r=PG&f=1", "display_name": "Jbluehdorn", "link": "https://stackoverflow.com/users/11714668/jbluehdorn"}, "is_accepted": false, "score": 3, "last_activity_date": 1566414175, "creation_date": 1566414175, "answer_id": 57597801, "question_id": 57597750, "link": "https://stackoverflow.com/questions/57597750/how-to-filter-an-array-without-another-array-javascript/57597801#57597801", "title": "How to filter an array without another array javascript", "body": "<p>Return the value and set it equal to itself. </p>\n\n<pre><code>function filterRangeInPlace(array, min, max) {\n  return array.filter(item =&gt; (item &gt;= min &amp;&amp; item &lt;= max));\n}\n\nlet arr = [5, 3, 8, 1];\n\narr = filterRangeInPlace(arr, 1, 4);\n\nconsole.log(arr);\n</code></pre>\n\n<p>Or you could of course omit the function entirely with:</p>\n\n<pre><code>let arr = [5, 3, 8, 1];\n\narr = arr.filter(item =&gt; (item &gt;= min &amp;&amp; item &lt;= max));\n\nconsole.log(arr);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1566415028, "post_id": 57597862, "comment_id": 101653018, "body": "You do if you use <code>array.splice()</code>. I guess you could go forward and decrement <code>i</code>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1566415046, "post_id": 57597862, "comment_id": 101653029, "body": "But you can&#39;t use <code>forEach</code>, it doesn&#39;t provide a way to back up."}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 2, "creation_date": 1566415091, "post_id": 57597862, "comment_id": 101653055, "body": "I&#39;d do what I wrote in my answer because somewhere in my head I&#39;m still a C programmer on a pdp-11."}, {"owner": {"reputation": 1415, "user_id": 7630984, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-p11M8IHr9Xk/AAAAAAAAAAI/AAAAAAAAABU/KHPI59FWR2A/photo.jpg?sz=128", "display_name": "Robert Hovhannisyan", "link": "https://stackoverflow.com/users/7630984/robert-hovhannisyan"}, "edited": false, "score": 0, "creation_date": 1566415728, "post_id": 57597862, "comment_id": 101653337, "body": "That was an awesome solution. Thank You very much for Your code!"}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 3, "last_activity_date": 1566414529, "creation_date": 1566414529, "answer_id": 57597862, "question_id": 57597750, "link": "https://stackoverflow.com/questions/57597750/how-to-filter-an-array-without-another-array-javascript/57597862#57597862", "title": "How to filter an array without another array javascript", "body": "<p>You can't use <code>.filter()</code> for this, since it returns a new array rather than modifying the original array. You can loop over the array yourself, removing elements that don't match the condition.</p>\n\n<p>You need to do the loop in descending order of index, because removing an element shifts the indexes of all the remaining elements down and you'll end up skipping the next element if you do it in increasing order. This also means you can't use a built-in function like <code>.forEach()</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function filterRangeInPlace(array, min, max) {\r\n  for (let i = array.length-1; i &gt;= 0; i--) {\r\n    if (array[i] &lt; min || array[i] &gt; max) {\r\n      array.splice(i, 1);\r\n    }\r\n  }\r\n}\r\n\r\nlet arr = [5, 3, 8, 1];\r\nfilterRangeInPlace(arr, 1, 4);\r\nconsole.log(arr);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 1415, "user_id": 7630984, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-p11M8IHr9Xk/AAAAAAAAAAI/AAAAAAAAABU/KHPI59FWR2A/photo.jpg?sz=128", "display_name": "Robert Hovhannisyan", "link": "https://stackoverflow.com/users/7630984/robert-hovhannisyan"}, "edited": false, "score": 0, "creation_date": 1566415220, "post_id": 57597930, "comment_id": 101653117, "body": "Thank You for Your awesome answer, this is what I looking for - fast and cheap (for memory) way to filter an array."}, {"owner": {"reputation": 1415, "user_id": 7630984, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-p11M8IHr9Xk/AAAAAAAAAAI/AAAAAAAAABU/KHPI59FWR2A/photo.jpg?sz=128", "display_name": "Robert Hovhannisyan", "link": "https://stackoverflow.com/users/7630984/robert-hovhannisyan"}, "edited": false, "score": 0, "creation_date": 1566462082, "post_id": 57597930, "comment_id": 101666013, "body": "Please, can You add Your version of <code>fn</code> for completeness of the answer? Thank You"}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "reply_to_user": {"reputation": 1415, "user_id": 7630984, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-p11M8IHr9Xk/AAAAAAAAAAI/AAAAAAAAABU/KHPI59FWR2A/photo.jpg?sz=128", "display_name": "Robert Hovhannisyan", "link": "https://stackoverflow.com/users/7630984/robert-hovhannisyan"}, "edited": false, "score": 1, "creation_date": 1566477446, "post_id": 57597930, "comment_id": 101674306, "body": "@RobertHovhannisyan Well <code>fn</code> can be any function, just like a function you&#39;d pass to <code>.filter()</code>.  If it returns <code>true</code> then the value is included in the final array, otherwise it isn&#39;t."}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "reply_to_user": {"reputation": 1415, "user_id": 7630984, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-p11M8IHr9Xk/AAAAAAAAAAI/AAAAAAAAABU/KHPI59FWR2A/photo.jpg?sz=128", "display_name": "Robert Hovhannisyan", "link": "https://stackoverflow.com/users/7630984/robert-hovhannisyan"}, "edited": false, "score": 1, "creation_date": 1566477598, "post_id": 57597930, "comment_id": 101674382, "body": "@RobertHovhannisyan answer extended."}, {"owner": {"reputation": 1415, "user_id": 7630984, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-p11M8IHr9Xk/AAAAAAAAAAI/AAAAAAAAABU/KHPI59FWR2A/photo.jpg?sz=128", "display_name": "Robert Hovhannisyan", "link": "https://stackoverflow.com/users/7630984/robert-hovhannisyan"}, "edited": false, "score": 0, "creation_date": 1566479913, "post_id": 57597930, "comment_id": 101675863, "body": "Oh, that&#39;s great. Now everything is clear. Thank You again!"}], "tags": [], "owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "is_accepted": true, "score": 4, "last_activity_date": 1566477590, "last_edit_date": 1566477590, "creation_date": 1566414851, "answer_id": 57597930, "question_id": 57597750, "link": "https://stackoverflow.com/questions/57597750/how-to-filter-an-array-without-another-array-javascript/57597930#57597930", "title": "How to filter an array without another array javascript", "body": "<p>If it's actually important to do the filtering in-place without creating another array, you have to go sort-of old school and iterate through the array with two indexes, copying values along the way. Every time you hit an element that fails the filter test, you increment one of the indexes but not the other one. At the end of that, you reset the array <code>.length</code> to the trailing index:</p>\n\n<pre><code>function filterInPlace(array, fn) {\n  let from = 0, to = 0;\n  while (from &lt; array.length) {\n    if (fn(array[from])) {\n      array[to] = array[from];\n      to++;\n    }\n    from++;\n  }\n  array.length = to;\n}\n</code></pre>\n\n<p>This has the advantage of being O(n), with just one pass over the array, while the solutions involving <code>.splice()</code> are O(n<sup>2</sup>).</p>\n\n<p>To do your \"range check\", you could write another function to create a filter predicate given a minimum and a maximum value:</p>\n\n<pre><code>function rangePredicate(min, max) {\n  return n =&gt; n &gt;= min &amp;&amp; n &lt;= max;\n}\n</code></pre>\n\n<p>Then you can pass the return value of that to the filter function:</p>\n\n<pre><code>var arr = [1, 2, 3, ... ];\nfilterInPlace(arr, rangePredicate(0, 10));\n</code></pre>\n"}], "owner": {"reputation": 1415, "user_id": 7630984, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-p11M8IHr9Xk/AAAAAAAAAAI/AAAAAAAAABU/KHPI59FWR2A/photo.jpg?sz=128", "display_name": "Robert Hovhannisyan", "link": "https://stackoverflow.com/users/7630984/robert-hovhannisyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2926, "favorite_count": 0, "accepted_answer_id": 57597930, "answer_count": 4, "score": 6, "last_activity_date": 1566477590, "creation_date": 1566413972, "last_edit_date": 1566414116, "question_id": 57597750, "link": "https://stackoverflow.com/questions/57597750/how-to-filter-an-array-without-another-array-javascript", "title": "How to filter an array without another array javascript", "body": "<p>So far I tried this but it returns unfiltered array:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function filterRangeInPlace(array, min, max) {\r\n  array = array.filter(item =&gt; (item &gt;= min &amp;&amp; item &lt;= max));\r\n  console.log(array);\r\n}\r\n\r\nlet arr = [5, 3, 8, 1];\r\n\r\nfilterRangeInPlace(arr, 1, 4);\r\n\r\nconsole.log(arr);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "css"], "comments": [{"owner": {"reputation": 23, "user_id": 10620145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2042fea8cd4ab5c8929b507bad003766?s=128&d=identicon&r=PG", "display_name": "Kilroy", "link": "https://stackoverflow.com/users/10620145/kilroy"}, "edited": false, "score": 0, "creation_date": 1566417962, "post_id": 57597702, "comment_id": 101654243, "body": "im 3/3 for posts with 0 comments on this site, what is wrong with this post exactly?"}, {"owner": {"reputation": 6091, "user_id": 933198, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/25a22103fd3210fdfa142843c7777ff1?s=128&d=identicon&r=PG", "display_name": "Lee Taylor", "link": "https://stackoverflow.com/users/933198/lee-taylor"}, "edited": false, "score": 0, "creation_date": 1566425121, "post_id": 57597702, "comment_id": 101656607, "body": "You&#39;ve created an html node inside your svg. This is not allowed."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 10620145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2042fea8cd4ab5c8929b507bad003766?s=128&d=identicon&r=PG", "display_name": "Kilroy", "link": "https://stackoverflow.com/users/10620145/kilroy"}, "edited": false, "score": 1, "creation_date": 1566436013, "post_id": 57599881, "comment_id": 101658750, "body": "Thanks for the help! Sadly i cant make the text word wrap this way but I&#39;ll create multiple lines instead"}], "tags": [], "owner": {"reputation": 6091, "user_id": 933198, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/25a22103fd3210fdfa142843c7777ff1?s=128&d=identicon&r=PG", "display_name": "Lee Taylor", "link": "https://stackoverflow.com/users/933198/lee-taylor"}, "is_accepted": true, "score": 1, "last_activity_date": 1566426365, "creation_date": 1566426365, "answer_id": 57599881, "question_id": 57597702, "link": "https://stackoverflow.com/questions/57597702/how-do-i-get-a-div-to-follow-a-transform/57599881#57599881", "title": "How do I get a DIV to follow a transform", "body": "<p>You need to use <code>two</code>'s text functionality instead of using DOM related functions. It appears that in this context, <code>two</code> renders to an SVG format, thus adding HTML tags won't work.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var two = new Two({fullscreen: true, autostart: true}).appendTo(document.body);\r\nconst card = two.makeRoundedRectangle(230/2, two.height/2, 230, 130, 10);\r\n\r\nvar styles = { size: 24, family: 'Calibri' }; \r\nvar text = new Two.Text(\"This is text.\", 120, 100, styles);\r\n\r\nvar group = two.makeGroup(card, text);\r\n\r\ntwo.update(); // this needs to be here to add to the dom \r\n\r\ncard._renderer.elem.style.cssText = 'position:relative;width:230px;height:130px;'; \t\t\r\n\r\ntwo.bind('update', function (framNum)\r\n{\r\n\tgroup.translation.x += 1\r\n\tif (group.translation.x &gt; two.width - 230/2)\r\n\t{\r\n\tgroup.translation.x = 230/2\r\n\t}\r\n\t\r\n}).play()</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://two.js.org/third-party/two.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 23, "user_id": 10620145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2042fea8cd4ab5c8929b507bad003766?s=128&d=identicon&r=PG", "display_name": "Kilroy", "link": "https://stackoverflow.com/users/10620145/kilroy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 57599881, "answer_count": 1, "score": 0, "last_activity_date": 1566426365, "creation_date": 1566413694, "last_edit_date": 1566414170, "question_id": 57597702, "link": "https://stackoverflow.com/questions/57597702/how-do-i-get-a-div-to-follow-a-transform", "title": "How do I get a DIV to follow a transform", "body": "<p>Long story short, I'm trying to put text inside a box that is animated with javascript. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var two = new Two({\r\n  fullscreen: true,\r\n  autostart: true\r\n}).appendTo(document.body);\r\nconst card = two.makeRoundedRectangle(230/2, two.height/2, 230, 130, 10);\r\n\r\n\r\n\r\nconst div = document.createElement(\"div\"); \t\t\t\t\t\t\t\t\t\t// THIS IS THE IMPORTANT STUFF\r\nconst text = document.createTextNode(\"This is text.\");\t\t\t\t//\r\ndiv.appendChild(text);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// THIS IS THE IMPORTANT STUFF\r\n\r\ntwo.update(); // this needs to be here to add to the dom \r\n\r\ncard._renderer.elem.style.cssText = 'position:relative;width:230px;height:130px;'; \t\t\t// THIS IS THE IMPORTANT STUFF\r\ndiv.style.cssText = 'position:absolute;width:200px;height:200px;';\t\t\t\t\t\t\t\t\t\t\t// \r\ncard._renderer.elem.appendChild(div); \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// THIS IS THE IMPORTANT STUFF\r\n\r\ntwo.bind('update', function (framNum)\r\n{\r\n\tcard.translation.x += 1\r\n\tif (card.translation.x &gt; two.width - 230/2)\r\n\t{\r\n\tcard.translation.x = 230/2\r\n\t}\r\n\t\r\n}).play()</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://two.js.org/third-party/two.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>here's what I've tried. I'm trying to put <code>document.createTextNode(\"This is text.\");</code> inside a parent that is moving</p>\n\n<p><strong>I was expecting the to see the text, or even a div with the inspector, but its not highlighting.</strong></p>\n\n<p>Any help would be greatly appreciated</p>\n"}, {"tags": ["javascript", "jquery", "currency", "masking"], "comments": [{"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1566413914, "post_id": 57597701, "comment_id": 101652532, "body": "so, uhm.. what&#39;s this mask supposed to actually do?"}, {"owner": {"reputation": 433, "user_id": 5141198, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/7J1p3.jpg?s=128&g=1", "display_name": "Josh Whitlow", "link": "https://stackoverflow.com/users/5141198/josh-whitlow"}, "reply_to_user": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1566413997, "post_id": 57597701, "comment_id": 101652567, "body": "Its supposed to mask a typed number as currency. So that when you start typing 100000, it will automatically format the number as you type to 1,000.00"}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 1, "creation_date": 1566414142, "post_id": 57597701, "comment_id": 101652626, "body": "use keyup instead."}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1566414226, "post_id": 57597701, "comment_id": 101652661, "body": "What makes the whole thing weird is that you&#39;re typing at the last position the moment your code does anything to the input because you&#39;re entirely replacing the value."}, {"owner": {"reputation": 433, "user_id": 5141198, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/7J1p3.jpg?s=128&g=1", "display_name": "Josh Whitlow", "link": "https://stackoverflow.com/users/5141198/josh-whitlow"}, "reply_to_user": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1566415615, "post_id": 57597701, "comment_id": 101653290, "body": "@KevinB, I modified it so that it starts from the beginning instead of the end. <code>if (this.value != &#39;&#39; &amp;&amp; this.value.length &gt;= 3) {      this.value = this.value.replace(&#47;[^\\d]&#47;g, &#39;&#39;).replace(&#47;(\\d{2}$)&#47;, &#39;.$1&#39;).replace(&#47;(\\d)(?=(\\d\\d\\d)+(?!\\d))&#47;g, &#39;$1,&#39;);     }</code> Is that a bit more intelligible? Also, your &#39;keyup&#39; comment resolved the issue, although I&#39;m not totally sure why."}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1566416085, "post_id": 57597701, "comment_id": 101653507, "body": "My second comment, alludes more to the action of modifying the number after the fact. Regardless of how you change the value, if you&#39;re changing it at all while the input is still focused, it impacts the usability of the input because it will change the insertion point in one way or another. I prefer changing it after the fact rather than live as to not interfere with the user&#39;s input. for example, on blur."}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1566416150, "post_id": 57597701, "comment_id": 101653540, "body": "I suspect keyup works due to timing related to when the value changes relative to the event occuring. (i&#39;m not entirely sure, which is why i didn&#39;t post an answer. Feel free to do so once you&#39;ve done the research!)"}, {"owner": {"reputation": 821, "user_id": 5437379, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lJ4wYoN_P_c/AAAAAAAAAAI/AAAAAAAAACg/k5IUBa1SU7o/photo.jpg?sz=128", "display_name": "Hero Qu", "link": "https://stackoverflow.com/users/5437379/hero-qu"}, "edited": false, "score": 0, "creation_date": 1566416429, "post_id": 57597701, "comment_id": 101653671, "body": "why not use a simple line:  this.value = ParseFloat(`00${this.value.replace(/[^\\d]/g, &#39;&#39;)}`)/100;"}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1566416580, "post_id": 57597701, "comment_id": 101653734, "body": "or... <code>(+this.value).toFixed(2)</code>, if you&#39;re looking for simple."}, {"owner": {"reputation": 821, "user_id": 5437379, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lJ4wYoN_P_c/AAAAAAAAAAI/AAAAAAAAACg/k5IUBa1SU7o/photo.jpg?sz=128", "display_name": "Hero Qu", "link": "https://stackoverflow.com/users/5437379/hero-qu"}, "edited": false, "score": 0, "creation_date": 1566416731, "post_id": 57597701, "comment_id": 101653791, "body": "Yes, Kevin B is right. I would edit my suggestion to result in a string: this.value = (ParseFloat(&#39;00&#39; + this.value.replace(/[^\\d]/g, &#39;&#39;))/100).toFixed(2);  ( Get rid of back ticks as they get swallowed in a comment somehow...)"}], "answers": [{"tags": [], "owner": {"reputation": 433, "user_id": 5141198, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/7J1p3.jpg?s=128&g=1", "display_name": "Josh Whitlow", "link": "https://stackoverflow.com/users/5141198/josh-whitlow"}, "is_accepted": false, "score": 0, "last_activity_date": 1566418121, "creation_date": 1566418121, "answer_id": 57598567, "question_id": 57597701, "link": "https://stackoverflow.com/questions/57597701/extra-number-during-currency-masking-in-javascript/57598567#57598567", "title": "Extra Number during Currency Masking in Javascript", "body": "<p>After some discussion, some testing, and a bit of research. I changed my code a bit and resolved the issue as mentioned by <a href=\"https://stackoverflow.com/users/400654/kevin-b\">Kevin B</a> about <code>keyup</code> vs <code>keypress</code>.</p>\n\n<p>After some research it appears the <code>keypress</code> triggers when \"The key is pressed down\" while\n<code>keyup</code> is triggered when \"The key is released\". <a href=\"https://www.w3schools.com/jquery/event_keypress.asp\" rel=\"nofollow noreferrer\">-W3 Schools</a> </p>\n\n<p>Because of that, I opted for <code>keyup</code> instead.</p>\n\n<p>In addition, <a href=\"https://stackoverflow.com/users/400654/kevin-b\">Kevin B</a> said: </p>\n\n<blockquote>\n  <p>What makes the whole thing weird is that you're typing at the last position the moment your code does anything to the input because you're entirely replacing the value.</p>\n</blockquote>\n\n<p>So I changed the code so that the user is typing at the beginning instead of the end. He also mentioned:</p>\n\n<blockquote>\n  <p>Regardless of how you change the value, if you're changing it at all while the input is still focused, it impacts the usability of the input because it will change the insertion point in one way or another. I prefer changing it after the fact rather than live as to not interfere with the user's input. for example, on blur.</p>\n</blockquote>\n\n<p>This part here is definitely preference. I brought an admin over to my desk just now and asked which one they liked more. Most of them don't like ones that change after the fact. They find it confusing and to them, the whole point of the currency mask is to clearly see what they are typing as they are typing it.</p>\n\n<p>To be clear, there isn't a 'wrong' way to do it. You can do <code>.blur</code> instead and that works too. This is more about what our specific users prefer. </p>\n\n<p>Here is my updated code below:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>currencyMask(\"#test\");\r\n\r\nfunction currencyMask(fieldID) {\r\n  $(fieldID).keyup(function() {\r\n    if (this.value != '' &amp;&amp; this.value.length &gt;= 3) {\r\n     this.value = this.value.replace(/[^\\d]/g, '').replace(/(\\d{2}$)/, '.$1').replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, '$1,');\r\n    }\r\n  });\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;input id='test'&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 433, "user_id": 5141198, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/7J1p3.jpg?s=128&g=1", "display_name": "Josh Whitlow", "link": "https://stackoverflow.com/users/5141198/josh-whitlow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1566418121, "creation_date": 1566413684, "last_edit_date": 1566413939, "question_id": 57597701, "link": "https://stackoverflow.com/questions/57597701/extra-number-during-currency-masking-in-javascript", "title": "Extra Number during Currency Masking in Javascript", "body": "<p>I am trying to make a quick function for currency masking without the use of a jquery plugin. The environment I am in is using requirejs and any attempt to add plugins typically results in this problem:</p>\n\n<p><a href=\"https://requirejs.org/docs/errors.html\" rel=\"nofollow noreferrer\">MISMATCHED ANONYMOUS DEFINE() MODULES</a></p>\n\n<p>Regardless, here is my code below, I am trying to get rid of the 3rd digit after the decimal so that there is only 2 digits after the decimal but for the life me can't figure out why nothing I'm doing is making it go away.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>currencyMask(\"#test\");\r\n\r\nfunction currencyMask(fieldID) {\r\n  $(fieldID).on('keypress click', function() {\r\n    if (this.value != '') {\r\n      if (this.value.length == 1) {\r\n        this.value = '0' + this.value\r\n      }\r\n      \r\n      this.value = parseFloat(this.value.replace(/[^\\d]/g, '').replace(/(\\d\\d?)$/, '.$1')).toFixed(2).replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, '$1,').replace(/(\\d{2})(\\d$)/, '$1');\r\n    }\r\n  });\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;input id='test'&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "arrays", "function"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 2, "creation_date": 1566413729, "post_id": 57597677, "comment_id": 101652465, "body": "<code>var newArray = milTime[e] + 1;</code> ???? No clue what you are expecting, what is the final outcome when the code is done running?"}], "answers": [{"tags": [], "owner": {"reputation": 51813, "user_id": 860099, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/125k3.jpg?s=128&g=1", "display_name": "Kamil Kie\u0142czewski", "link": "https://stackoverflow.com/users/860099/kamil-kie%c5%82czewski"}, "is_accepted": true, "score": 0, "last_activity_date": 1566414060, "creation_date": 1566414060, "answer_id": 57597767, "question_id": 57597677, "link": "https://stackoverflow.com/questions/57597677/adding-military-times-to-object/57597767#57597767", "title": "Adding military times to object", "body": "<p>Try</p>\n\n<pre><code>function array1(person) {\n  var milTime = [700, 800, 900, 1000, 1100, 1200, 1300, 1400, 1500, 1600, 1700, 1800, 1900]\n                .map(x=&gt;(x+1+'').padStart(4,'0'));\n\n  person.forEach(p =&gt; p.time = p.time==\"ANYTIME\" ? milTime.join` \u2022 ` : p.time )\n}\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const person = [{\r\n    name: \"John Doe\",\r\n    address: \"1234 Driven St\",\r\n    id: \"DF11111\",\r\n    time: \"ANYTIME\"\r\n  },\r\n  {\r\n    name: \"Jane Doe\",\r\n    address: \"555 Crank St\",\r\n    id: \"HA22222\",\r\n    time: \"ANYTIME\"\r\n  }\r\n];\r\n\r\nfunction array1(person) {\r\n  var milTime = [700, 800, 900, 1000, 1100, 1200, 1300, 1400, 1500, 1600, 1700, 1800, 1900]\r\n                .map(x=&gt;(x+1+'').padStart(4,'0'));\r\n\r\n  person.forEach(p =&gt; p.time = p.time==\"ANYTIME\" ? milTime.join` \u2022 ` : p.time )\r\n}\r\n\r\narray1(person);\r\n\r\nconsole.log(person);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 625, "user_id": 7755665, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PhvCoVhEXJM/AAAAAAAAAAI/AAAAAAAAAAo/IZp1ulBz1Dc/photo.jpg?sz=128", "display_name": "Alireza", "link": "https://stackoverflow.com/users/7755665/alireza"}, "is_accepted": false, "score": 1, "last_activity_date": 1566414554, "creation_date": 1566414554, "answer_id": 57597868, "question_id": 57597677, "link": "https://stackoverflow.com/questions/57597677/adding-military-times-to-object/57597868#57597868", "title": "Adding military times to object", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>   const persons = [{\r\n        name: \"John Doe\",\r\n        address: \"1234 Driven St\",\r\n        id: \"DF11111\",\r\n        time: \"ANYTIME\"\r\n      },\r\n      {\r\n        name: \"Jane Doe\",\r\n        address: \"555 Crank St\",\r\n        id: \"HA22222\",\r\n        time: \"ANYTIME\"\r\n      }\r\n    ];\r\n    let increment = 1;\r\n    function setTime() {\r\n      var milTime = [700, 800, 900, 1000, 1100, 1200, 1300, 1400, 1500, 1600, 1700, 1800, 1900];\r\n      persons.forEach(person =&gt; {\r\n      if (person.time == \"ANYTIME\") {\r\n        person.time = []\r\n        milTime.forEach(time =&gt; {\r\n          person.time.push((\"0\" + (time + increment)).substr(-4))\r\n        })\r\n      }\r\n      increment++;\r\n      })\r\n    }\r\n\r\n    setTime();\r\n    console.log(persons)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 13, "user_id": 11580042, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-F9De87mPwqw/AAAAAAAAAAI/AAAAAAAAApg/_9C6x8p2t8g/photo.jpg?sz=128", "display_name": "IEatGreens", "link": "https://stackoverflow.com/users/11580042/ieatgreens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 57597767, "answer_count": 2, "score": 0, "last_activity_date": 1566414554, "creation_date": 1566413528, "last_edit_date": 1566414257, "question_id": 57597677, "link": "https://stackoverflow.com/questions/57597677/adding-military-times-to-object", "title": "Adding military times to object", "body": "<p>I need to convert the word in object to a series of repeated records where the value in the object is replaced with hourly military format time triggers (no colon) starting at 7am and ending at 7pm.  Also I want increment the time by one minute for each successive object.  Retain all other values in the other columns (just repeat them), so the only value that\u2019s changing is the time.</p>\n\n<p>So the ANYTIME value in the persons object (John Doe) would look like:</p>\n\n<p>\u2022   0700\n\u2022   0800\n\u2022   0900\n\u2022   1000\n\u2022   1100\n\u2022   1200\n\u2022   1300\n\u2022   1400\n\u2022   1500\n\u2022   1600\n\u2022   1700\n\u2022   1800\n\u2022   1900</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const person = [{\r\n    name: \"John Doe\",\r\n    address: \"1234 Driven St\",\r\n    id: \"DF11111\",\r\n    time: \"ANYTIME\"\r\n  },\r\n  {\r\n    name: \"Jane Doe\",\r\n    address: \"555 Crank St\",\r\n    id: \"HA22222\",\r\n    time: \"ANYTIME\"\r\n  }\r\n];\r\n\r\nfunction array1() {\r\n  var milTime = [700, 800, 900, 1000, 1100, 1200, 1300, 1400, 1500, 1600, 1700, 1800, 1900];\r\n\r\n  if (person.time == \"ANYTIME\") {\r\n    for (var e = 0; e &lt; milTime.length; e++) {\r\n      var newArray = milTime[e] + 1;\r\n    }\r\n  }\r\n}\r\n\r\narray1();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}]