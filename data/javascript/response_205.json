[{"tags": ["javascript", "jquery", "html", "datatables"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 8803149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pPeuP.jpg?s=128&g=1", "display_name": "austinclamon", "link": "https://stackoverflow.com/users/8803149/austinclamon"}, "is_accepted": false, "score": 0, "last_activity_date": 1544719844, "creation_date": 1544719844, "answer_id": 53766582, "question_id": 53753196, "link": "https://stackoverflow.com/questions/53753196/populate-modal-with-values-from-tr/53766582#53766582", "title": "Populate modal with values from &lt;tr&gt;", "body": "<p>I was able to solve this after sleeping on it. I used jquery closest and find to get the values of td. Code is below:</p>\n\n<pre><code>&lt;script&gt;\n$(function(){\n    $('#infoModal').modal({\n        keyboard: true,\n        backdrop: \"static\",\n        show:false,\n\n    }).on('show.bs.modal', function(){\n          var getIdFromRow = $(event.target).closest('tr').data('id');\n          var name = $(event.target).closest('tr').find('td:eq( 0 )').html();\n          var pos = $(event.target).closest('tr').find('td:eq( 1 )').html();\n        //make your ajax call populate items or what even you need\n        $(this).find('#orderDetails').html($('&lt;b&gt; Order Id selected: ' + getIdFromRow  + '&lt;/b&gt;'));\n        $(this).find('#name').text(name);\n        $(this).find('#pos').text(pos);\n    });\n\n});\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 8803149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pPeuP.jpg?s=128&g=1", "display_name": "austinclamon", "link": "https://stackoverflow.com/users/8803149/austinclamon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 324, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544719844, "creation_date": 1544659199, "last_edit_date": 1544670058, "question_id": 53753196, "link": "https://stackoverflow.com/questions/53753196/populate-modal-with-values-from-tr", "title": "Populate modal with values from &lt;tr&gt;", "body": "<p>I have a HTML table using DataTables.</p>\n\n<p>I have code that gives each <code>&lt;tr&gt;</code> a <code>data-id</code> attribute. When the <code>&lt;tr&gt;</code> is clicked it opens a modal that corresponds to the <code>data-id</code>. I want to take the values of the  elements for the selected  and use them to populate fields in the modal. However, I have not been able to figure out how to get the values of the  elements. My code:</p>\n\n<pre><code>&lt;table id=\"customers\" class=\"table table-hover\" cellspacing=\"0\" width=\"100%\"&gt;\n   &lt;thead&gt;\n      &lt;tr&gt;\n         &lt;th&gt;Name&lt;/th&gt;\n         &lt;th&gt;Position&lt;/th&gt;\n         &lt;th&gt;Office&lt;/th&gt;\n         &lt;th&gt;Age&lt;/th&gt;\n         &lt;th&gt;Start date&lt;/th&gt;\n         &lt;th&gt;Salary&lt;/th&gt;\n      &lt;/tr&gt;\n   &lt;/thead&gt;\n   &lt;tfoot&gt;\n      &lt;tr&gt;\n         &lt;th&gt;Name&lt;/th&gt;\n         &lt;th&gt;Position&lt;/th&gt;\n         &lt;th&gt;Office&lt;/th&gt;\n         &lt;th&gt;Age&lt;/th&gt;\n         &lt;th&gt;Start date&lt;/th&gt;\n         &lt;th&gt;Salary&lt;/th&gt;\n      &lt;/tr&gt;\n   &lt;/tfoot&gt;\n&lt;/table&gt;\n&lt;script&gt;\n   var data = [\n   [\n   \"Austin\",\n   \"System Architect\",\n   \"Edinburgh\",\n   \"5421\",\n   \"2011/04/25\",\n   \"$3,120\"\n   ],\n   [\n   \"Garrett Winters\",\n   \"Director\",\n   \"Edinburgh\",\n   \"8422\",\n   \"2011/07/25\",\n   \"$5,300\"\n   ]\n   ]\n&lt;/script&gt;\n&lt;!-- Modal --&gt;\n&lt;div class=\"modal fade slide-up disable-scroll\" id=\"infoModal\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"false\"&gt;\n   &lt;div class=\"modal-dialog \"&gt;\n      &lt;div class=\"modal-content-wrapper\"&gt;\n         &lt;div class=\"modal-content\"&gt;\n            &lt;div class=\"modal-header clearfix text-left\"&gt;\n               &lt;button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\"&gt;&lt;i class=\"pg-close fs-14\"&gt;&lt;/i&gt;\n               &lt;/button&gt;\n               &lt;h5 id=\"orderDetails\"&gt;&lt;/h5&gt;\n               &lt;p class=\"p-b-10\"&gt;some text will go here&lt;/p&gt;\n            &lt;/div&gt;\n            &lt;div class=\"modal-body\"&gt;\n               &lt;div class=\"row\"&gt;\n                  &lt;div class=\"col-md-12\"&gt;\n                  &lt;/div&gt;\n               &lt;/div&gt;\n            &lt;/div&gt;\n         &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;!-- /.modal-content --&gt;\n   &lt;/div&gt;\n&lt;/div&gt;\n&lt;!-- /.modal-dialog --&gt;\n&lt;!-- END PLACE PAGE CONTENT HERE --&gt;\n&lt;/div&gt;\n&lt;!-- END CONTAINER FLUID --&gt;\n&lt;/div&gt;\n&lt;!-- END PAGE CONTENT --&gt;\n&lt;? include 'includes/footer.php'; ?&gt;\n&lt;/div&gt;\n&lt;!-- END PAGE CONTENT WRAPPER --&gt;\n&lt;/div&gt;\n&lt;!-- END PAGE CONTAINER --&gt;\n&lt;? include 'includes/scripts.php'; ?&gt;\n&lt;!-- Activate Customer Data Table --&gt;\n&lt;script&gt;\n   $(function(){\n        $('#customers').DataTable({\n          data: data,\n          'createdRow': function( row, data, dataIndex ) {\n                $(row).attr('data-toggle', 'modal');\n             $(row).attr('data-id', + dataIndex);\n             $(row).attr('data-target', '#infoModal');\n            }\n        });\n   });\n&lt;/script&gt;\n&lt;script&gt;\n   $(function(){\n       $('#infoModal').modal({\n           keyboard: true,\n           backdrop: \"static\",\n           show:false,\n\n       }).on('show.bs.modal', function(){\n             var getIdFromRow = $(event.target).closest('tr').data('id');\n           //make your ajax call populate items or what even you need\n           $(this).find('#orderDetails').html($('&lt;b&gt; Order Id selected: ' + getIdFromRow  + '&lt;/b&gt;'));\n       });\n\n   });\n&lt;/script&gt;\n</code></pre>\n\n<p>Here is some code that I found that does what I want but I cannot figure out how to implement it.</p>\n\n<pre><code>$('#data-table').on('click', 'tr', function() {\n    var first = $(this).find('td:eq(0)').text();\n    var second = $(this).find('td:eq(1)').text();\n\n    alert(first);\n    alert(second);\n});\n</code></pre>\n\n<p>I know that there are several posts with information on how to get the values of a  in a  but I cannot figure out how to implement them in this specific case.</p>\n"}, {"tags": ["javascript", "php", "html", "json", "xmlhttprequest"], "comments": [{"owner": {"reputation": 3609, "user_id": 3635330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abff48870a28cbfb32156d95e3f2c0ae?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph_J", "link": "https://stackoverflow.com/users/3635330/joseph-j"}, "edited": false, "score": 0, "creation_date": 1544659204, "post_id": 53753176, "comment_id": 94359233, "body": "Please post your php code in your question."}, {"owner": {"reputation": 1353, "user_id": 10102373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31b22d0d1aefebd2de74f7d54025f0fc?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/10102373/peter"}, "edited": false, "score": 0, "creation_date": 1544659252, "post_id": 53753176, "comment_id": 94359247, "body": "What does <code>DOM_SAVE.php</code> look like?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1544659495, "post_id": 53753176, "comment_id": 94359319, "body": "You can&#39;t send <code>DataList</code> directly, you need to serialize it with <code>JSON.stringify()</code>."}, {"owner": {"reputation": 3, "user_id": 10557127, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bYPEqUjbKBM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCbthrGEI9y80XTE_bIsVkJMXR1kw/mo/photo.jpg?sz=128", "display_name": "user011717", "link": "https://stackoverflow.com/users/10557127/user011717"}, "edited": false, "score": 0, "creation_date": 1544660623, "post_id": 53753176, "comment_id": 94359550, "body": "Code updated pls see"}, {"owner": {"reputation": 3, "user_id": 10557127, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bYPEqUjbKBM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCbthrGEI9y80XTE_bIsVkJMXR1kw/mo/photo.jpg?sz=128", "display_name": "user011717", "link": "https://stackoverflow.com/users/10557127/user011717"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1544660917, "post_id": 53753176, "comment_id": 94359627, "body": "Will I serialize the whole DataList array? @Barmar"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1544661014, "post_id": 53753176, "comment_id": 94359649, "body": "If that&#39;s what you want to send to PHP, yes."}, {"owner": {"reputation": 3, "user_id": 10557127, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bYPEqUjbKBM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCbthrGEI9y80XTE_bIsVkJMXR1kw/mo/photo.jpg?sz=128", "display_name": "user011717", "link": "https://stackoverflow.com/users/10557127/user011717"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1544661096, "post_id": 53753176, "comment_id": 94359667, "body": "If so, how will my php code be able to receive the data? @Barmar"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10557127, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bYPEqUjbKBM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCbthrGEI9y80XTE_bIsVkJMXR1kw/mo/photo.jpg?sz=128", "display_name": "user011717", "link": "https://stackoverflow.com/users/10557127/user011717"}, "edited": false, "score": 0, "creation_date": 1544661394, "post_id": 53753390, "comment_id": 94359712, "body": "Should I use a submit button like this? &lt;input type = &quot;submit&quot; name = &quot;submit&quot; value = &quot;Submit&quot; onclick = &quot;SaveData()&quot;&gt; @Barmar"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 3, "user_id": 10557127, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bYPEqUjbKBM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCbthrGEI9y80XTE_bIsVkJMXR1kw/mo/photo.jpg?sz=128", "display_name": "user011717", "link": "https://stackoverflow.com/users/10557127/user011717"}, "edited": false, "score": 0, "creation_date": 1544661431, "post_id": 53753390, "comment_id": 94359722, "body": "Use <code>type=&quot;button&quot;</code>, so it won&#39;t perform a normal form submission."}, {"owner": {"reputation": 3, "user_id": 10557127, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bYPEqUjbKBM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCbthrGEI9y80XTE_bIsVkJMXR1kw/mo/photo.jpg?sz=128", "display_name": "user011717", "link": "https://stackoverflow.com/users/10557127/user011717"}, "edited": false, "score": 0, "creation_date": 1544661529, "post_id": 53753390, "comment_id": 94359742, "body": "my var_dump value is null @Barmar"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 3, "user_id": 10557127, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bYPEqUjbKBM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCbthrGEI9y80XTE_bIsVkJMXR1kw/mo/photo.jpg?sz=128", "display_name": "user011717", "link": "https://stackoverflow.com/users/10557127/user011717"}, "edited": false, "score": 0, "creation_date": 1544661947, "post_id": 53753390, "comment_id": 94359840, "body": "Yuo shouldn&#39;t send the AJAX request in the loop, do it after the loop."}, {"owner": {"reputation": 3, "user_id": 10557127, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bYPEqUjbKBM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCbthrGEI9y80XTE_bIsVkJMXR1kw/mo/photo.jpg?sz=128", "display_name": "user011717", "link": "https://stackoverflow.com/users/10557127/user011717"}, "edited": false, "score": 0, "creation_date": 1544662272, "post_id": 53753390, "comment_id": 94359895, "body": "Should I put the ajax request into another function to be called? Im sorry Im so lost, Im new to this things @Barmar"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 3, "user_id": 10557127, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bYPEqUjbKBM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCbthrGEI9y80XTE_bIsVkJMXR1kw/mo/photo.jpg?sz=128", "display_name": "user011717", "link": "https://stackoverflow.com/users/10557127/user011717"}, "edited": false, "score": 0, "creation_date": 1544662368, "post_id": 53753390, "comment_id": 94359912, "body": "There&#39;s nothing wrong with putting it in <code>SaveData</code>. Just put it at the end of the loop, as I showed in my answer."}, {"owner": {"reputation": 3, "user_id": 10557127, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bYPEqUjbKBM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCbthrGEI9y80XTE_bIsVkJMXR1kw/mo/photo.jpg?sz=128", "display_name": "user011717", "link": "https://stackoverflow.com/users/10557127/user011717"}, "edited": false, "score": 0, "creation_date": 1544662897, "post_id": 53753390, "comment_id": 94360001, "body": "My php is in another file, should I include it on my html/javascript file or should I combine my php and html/javascript in one file? Because it still shows null value @Barmar"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 3, "user_id": 10557127, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bYPEqUjbKBM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCbthrGEI9y80XTE_bIsVkJMXR1kw/mo/photo.jpg?sz=128", "display_name": "user011717", "link": "https://stackoverflow.com/users/10557127/user011717"}, "edited": false, "score": 0, "creation_date": 1544663035, "post_id": 53753390, "comment_id": 94360022, "body": "You can organize things however you like. But if you have them in the same file, you need to add checks that detect whether the file was loaded by the browser or from an AJAX request. It&#39;s easier to have them in separate files."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 3, "user_id": 10557127, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bYPEqUjbKBM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCbthrGEI9y80XTE_bIsVkJMXR1kw/mo/photo.jpg?sz=128", "display_name": "user011717", "link": "https://stackoverflow.com/users/10557127/user011717"}, "edited": false, "score": 0, "creation_date": 1544663134, "post_id": 53753390, "comment_id": 94360038, "body": "What do you see from <code>console.log(DataList)</code> in the browser?"}, {"owner": {"reputation": 3, "user_id": 10557127, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bYPEqUjbKBM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCbthrGEI9y80XTE_bIsVkJMXR1kw/mo/photo.jpg?sz=128", "display_name": "user011717", "link": "https://stackoverflow.com/users/10557127/user011717"}, "edited": false, "score": 0, "creation_date": 1544663273, "post_id": 53753390, "comment_id": 94360074, "body": "The selected values in array. But in var_dump[DataList] is shows null @Barmar"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 3, "user_id": 10557127, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bYPEqUjbKBM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCbthrGEI9y80XTE_bIsVkJMXR1kw/mo/photo.jpg?sz=128", "display_name": "user011717", "link": "https://stackoverflow.com/users/10557127/user011717"}, "edited": false, "score": 0, "creation_date": 1544663553, "post_id": 53753390, "comment_id": 94360124, "body": "I&#39;m not sure why that&#39;s happening. Turn on PHP error reporting with <code>error_reporting(E_ALL);</code>. What does <code>echo json_last_error();</code> show in PHP?"}, {"owner": {"reputation": 3, "user_id": 10557127, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bYPEqUjbKBM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCbthrGEI9y80XTE_bIsVkJMXR1kw/mo/photo.jpg?sz=128", "display_name": "user011717", "link": "https://stackoverflow.com/users/10557127/user011717"}, "edited": false, "score": 0, "creation_date": 1544663871, "post_id": 53753390, "comment_id": 94360177, "body": "Can we talk in a private chat so I can show the whole code to you? @Barmar"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 3, "user_id": 10557127, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bYPEqUjbKBM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCbthrGEI9y80XTE_bIsVkJMXR1kw/mo/photo.jpg?sz=128", "display_name": "user011717", "link": "https://stackoverflow.com/users/10557127/user011717"}, "edited": false, "score": 0, "creation_date": 1544663963, "post_id": 53753390, "comment_id": 94360189, "body": "You don&#39;t have enough rep to chat."}, {"owner": {"reputation": 3, "user_id": 10557127, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bYPEqUjbKBM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCbthrGEI9y80XTE_bIsVkJMXR1kw/mo/photo.jpg?sz=128", "display_name": "user011717", "link": "https://stackoverflow.com/users/10557127/user011717"}, "edited": false, "score": 0, "creation_date": 1544664033, "post_id": 53753390, "comment_id": 94360202, "body": "I see. I&#39;ll borrow an account, been debugging this for weeks. Glad you could help @Barmar"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 3, "user_id": 10557127, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bYPEqUjbKBM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCbthrGEI9y80XTE_bIsVkJMXR1kw/mo/photo.jpg?sz=128", "display_name": "user011717", "link": "https://stackoverflow.com/users/10557127/user011717"}, "edited": false, "score": 0, "creation_date": 1544664246, "post_id": 53753390, "comment_id": 94360233, "body": "My full code accidentally block left out <code>JSON.stringify()</code>, did you remember to keep that? I just fixed it in the answer."}, {"owner": {"reputation": 3, "user_id": 10557127, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bYPEqUjbKBM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCbthrGEI9y80XTE_bIsVkJMXR1kw/mo/photo.jpg?sz=128", "display_name": "user011717", "link": "https://stackoverflow.com/users/10557127/user011717"}, "edited": false, "score": 0, "creation_date": 1544664582, "post_id": 53753390, "comment_id": 94360302, "body": "Yes I&#39;ve added JSON.stringify(), can we have chat using my other account 1vehvehveh7? I have atleast 26 rep there"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 3, "user_id": 10557127, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bYPEqUjbKBM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCbthrGEI9y80XTE_bIsVkJMXR1kw/mo/photo.jpg?sz=128", "display_name": "user011717", "link": "https://stackoverflow.com/users/10557127/user011717"}, "edited": false, "score": 0, "creation_date": 1544664664, "post_id": 53753390, "comment_id": 94360318, "body": "I&#39;m embarassed to say that I don&#39;t actually know how to start a chat, I only do them when SO automatically offers to move comments to chat when they&#39;ve gone on too long."}, {"owner": {"reputation": 3, "user_id": 10557127, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bYPEqUjbKBM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCbthrGEI9y80XTE_bIsVkJMXR1kw/mo/photo.jpg?sz=128", "display_name": "user011717", "link": "https://stackoverflow.com/users/10557127/user011717"}, "edited": false, "score": 0, "creation_date": 1544665020, "post_id": 53753390, "comment_id": 94360399, "body": "I also dont knoow how to. Im so noob at these @Barmar"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 3, "user_id": 10557127, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bYPEqUjbKBM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCbthrGEI9y80XTE_bIsVkJMXR1kw/mo/photo.jpg?sz=128", "display_name": "user011717", "link": "https://stackoverflow.com/users/10557127/user011717"}, "edited": false, "score": 0, "creation_date": 1544665444, "post_id": 53753390, "comment_id": 94360491, "body": "I created a chatroom and sent an invite to your other account"}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 0, "last_activity_date": 1544666454, "last_edit_date": 1544666454, "creation_date": 1544661106, "answer_id": 53753390, "question_id": 53753176, "link": "https://stackoverflow.com/questions/53753176/send-json-array-from-javascript-and-receive-values-in-php/53753390#53753390", "title": "Send JSON array from Javascript and receive values in php", "body": "<p>You need to serialize the <code>DataList</code> array:</p>\n\n<pre><code>request.send(JSON.stringify(DataList));\n</code></pre>\n\n<p>And you shouldn't be sending the request inside the <code>for</code> loop. Construct the entire <code>DataList</code> in the loop, then send the AJAX request at the end.</p>\n\n<p>And if you want to send an array of objects with named properties, you shouldn't use an array as the elements. Change</p>\n\n<pre><code>var item = [];\n</code></pre>\n\n<p>to</p>\n\n<pre><code>var item = {};\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function SaveData() {\r\n\r\n  var DataList = [];\r\n  var table = document.getElementById(\"bod\");\r\n  var rowLength = table.rows.length;\r\n\r\n  //loops through rows    \r\n  for (i = 0; i &lt; rowLength; i++) {\r\n\r\n    //gets cells of current row  \r\n    var oCells = table.rows.item(i).cells;\r\n\r\n    //gets amount of cells of current row\r\n    //var cellLength = oCells.length-2;\r\n\r\n    //loops through each cell in current row\r\n    var item = {};\r\n    item[\"destination\"] = oCells.item(0).innerHTML;\r\n    item[\"criteria\"] = oCells.item(1).innerHTML;\r\n    item[\"material\"] = oCells.item(2).innerHTML;\r\n\r\n    DataList.push(item)\r\n\r\n\r\n  }\r\n  var request = new XMLHttpRequest()\r\n  request.open(\"POST\", \"DOM_SAVE.php\", true)\r\n  request.setRequestHeader(\"Content-type\", \"application/json\")\r\n  request.send(JSON.stringify(DataList));\r\n\r\n  console.log(DataList);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>In PHP, you'll want to decode it:</p>\n\n<pre><code>$DataList = json_decode(file_get_contents(\"php://input\"), true);\nvar_dump($DataList);\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 10557127, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bYPEqUjbKBM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCbthrGEI9y80XTE_bIsVkJMXR1kw/mo/photo.jpg?sz=128", "display_name": "user011717", "link": "https://stackoverflow.com/users/10557127/user011717"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 53753390, "answer_count": 1, "score": -3, "last_activity_date": 1544666454, "creation_date": 1544659081, "last_edit_date": 1544661780, "question_id": 53753176, "link": "https://stackoverflow.com/questions/53753176/send-json-array-from-javascript-and-receive-values-in-php", "title": "Send JSON array from Javascript and receive values in php", "body": "<p>I am trying to send JSON array from Javascript to Php to be inserted into the database. I can see the array being display on the console log but what I do not know is how to receive it in Php. The JSON array will be used in my cascading option list where the chosen values are going to be displayed in a table. That is where the function SaveData will get the value to be sent in Php. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var ModelArray = {\r\n  \"Mammals\": {\r\n    \"Dog\": {\r\n      \"Dog Food\": [\"Milk\"]\r\n    },\r\n    \"Cat\": {\r\n      \"Cat food\": [\"Milk\"]\r\n    },\r\n    \"Tiger\": {\r\n      \"Meat\": [\"Water\"]\r\n    },\r\n    \"Monkey\": {\r\n      \"Banana\": [\"Water\"]\r\n    }\r\n  },\r\n  \"Reptiles\": {\r\n    \"Snake\": {\r\n      \"Rat\": [\"None\"]\r\n    },\r\n    \"Turtle\": {\r\n      \"Plant\": [\"Water\"]\r\n    },\r\n    \"Lizard\": {\r\n      \"Insects\": [\"None\"]\r\n    },\r\n    \"Crocodile\": {\r\n      \"Meat\": [\"Water\"]\r\n    }\r\n  }\r\n}\r\n\r\n\r\nfunction SaveData() {\r\n\r\n  var DataList = [];\r\n  var table = document.getElementById(\"bod\");\r\n  var rowLength = table.rows.length;\r\n\r\n  //loops through rows    \r\n  for (i = 0; i &lt; rowLength; i++) {\r\n\r\n    //gets cells of current row  \r\n    var oCells = table.rows.item(i).cells;\r\n\r\n    //gets amount of cells of current row\r\n    //var cellLength = oCells.length-2;\r\n\r\n    //loops through each cell in current row\r\n    var item = [];\r\n    item[\"destination\"] = oCells.item(0).innerHTML;\r\n    item[\"criteria\"] = oCells.item(1).innerHTML;\r\n    item[\"material\"] = oCells.item(2).innerHTML;\r\n\r\n    DataList.push(item)\r\n\r\n    request = new XMLHttpRequest()\r\n    request.open(\"POST\", \"DOM_SAVE.php\", true)\r\n    request.setRequestHeader(\"Content-type\", \"application/json\")\r\n    request.send(DataList);\r\n\r\n  }\r\n  console.log(DataList);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>PHP CODE</p>\n\n<pre><code>&lt;?php\n\n$DataList = file_get_contents('php://input');\necho '$DataList';\n\n  ?&gt;\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "jquery-ui", "jquery-ui-datepicker"], "comments": [{"owner": {"reputation": 1012, "user_id": 6495164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cvPRo.png?s=128&g=1", "display_name": "danielarend", "link": "https://stackoverflow.com/users/6495164/danielarend"}, "edited": false, "score": 0, "creation_date": 1544658873, "post_id": 53753116, "comment_id": 94359132, "body": "innerHTML usually is a bad idea. Use createElement and appendChild instead."}, {"owner": {"reputation": 5357, "user_id": 1030169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93b40f413b34463de22c81d35b4c1930?s=128&d=identicon&r=PG", "display_name": "jmoerdyk", "link": "https://stackoverflow.com/users/1030169/jmoerdyk"}, "edited": false, "score": 1, "creation_date": 1544659408, "post_id": 53753116, "comment_id": 94359297, "body": "Please include the relevant code as formatted text within the question, not as an image."}, {"owner": {"reputation": 23103, "user_id": 463319, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PV2Te.jpg?s=128&g=1", "display_name": "Twisty", "link": "https://stackoverflow.com/users/463319/twisty"}, "edited": false, "score": 0, "creation_date": 1544667821, "post_id": 53753116, "comment_id": 94361020, "body": "Please provide a Minimal, Complete, and Verifiable example: <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}], "answers": [{"tags": [], "owner": {"reputation": 460, "user_id": 8754098, "user_type": "registered", "profile_image": "https://graph.facebook.com/100006187173660/picture?type=large", "display_name": "Kirby L. Wallace", "link": "https://stackoverflow.com/users/8754098/kirby-l-wallace"}, "is_accepted": true, "score": 0, "last_activity_date": 1544713732, "creation_date": 1544713732, "answer_id": 53764771, "question_id": 53753116, "link": "https://stackoverflow.com/questions/53753116/dynamically-inserting-html-div-destroys-jquery-datepicker-on-the-page/53764771#53764771", "title": "Dynamically inserting HTML DIV destroys jQuery DatePicker on the page", "body": "<p>Instead of using:</p>\n\n<pre><code>e.innerHTML += clc_div;\n</code></pre>\n\n<p>I used:</p>\n\n<pre><code>e.insertAdjacentHTML(\"beforeend\", clc_div);\n</code></pre>\n\n<p>Problem solved.</p>\n"}], "owner": {"reputation": 460, "user_id": 8754098, "user_type": "registered", "profile_image": "https://graph.facebook.com/100006187173660/picture?type=large", "display_name": "Kirby L. Wallace", "link": "https://stackoverflow.com/users/8754098/kirby-l-wallace"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 53764771, "answer_count": 1, "score": 0, "last_activity_date": 1544713732, "creation_date": 1544658667, "question_id": 53753116, "link": "https://stackoverflow.com/questions/53753116/dynamically-inserting-html-div-destroys-jquery-datepicker-on-the-page", "title": "Dynamically inserting HTML DIV destroys jQuery DatePicker on the page", "body": "<p>I have a single HTML page app, that contains a text input bound to a jQuery datepicker.  It is initialised/bound on startup, and it functions just fine.</p>\n\n<p>The page has an inner container DIV, beneath the datepicker text input field, on the same page.</p>\n\n<p>I am inlcuding an image, because I need to obscure some info:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Gtz6X.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gtz6X.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>When I dynamically insert a popup FORM into this inner container, it becomes visible, centered, floating over the container DIV.</p>\n\n<pre><code>&lt;div id=\"CLC_Form\"&gt;...&lt;/div&gt;\nvar e = document.getElementById(\"contentDIV\");\ne.innerHTML += clc_div;\n</code></pre>\n\n<p>However, it also destroys the datepicker, clearing out the selected date, and making the datepicker field dead/unbound and unresponsive when I remove the added FORM (when the user clicks \"Save\" button on the popup FORM).</p>\n\n<pre><code>var e = document.getElementById(\"CLC_Form\");\ne.parentElement.removeChild(e);\n</code></pre>\n\n<p>Any ideas?  Please feel free to ask for additional info if I have not been thorough enough.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "html", "canvas", "viewport"], "answers": [{"tags": [], "owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "is_accepted": true, "score": 2, "last_activity_date": 1544702322, "creation_date": 1544702322, "answer_id": 53761375, "question_id": 53753090, "link": "https://stackoverflow.com/questions/53753090/making-the-canvas-viewport-move-and-enlarge-slither-io/53761375#53761375", "title": "making the canvas viewport move and enlarge (slither.io)", "body": "<p>You can use <code>translate</code> to move the entire canvas around by a number of pixels. All elements on the canvas will move along with it.</p>\n\n<p>This answer uses the WASD keys to move. But instead of moving the player, the entire canvas is displaced. To keep the player appearing in the center, we keep track of X and Y variables that are the opposite of the displacement of the canvas.</p>\n\n<p>You could also use <code>transform</code> to scale the entire canvas.\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const canvas = document.getElementById('canvas');\r\nconst ctx = canvas.getContext('2d');\r\n\r\nlet playerX = 130;\r\nlet playerY = 90;\r\n\r\n// by using translate we move the entire world\r\nfunction moveWorld(key){\r\n  switch (key) {\r\n    case \"a\" : \r\n      ctx.translate(10, 0);\r\n      playerX -= 10;\r\n      break;\r\n    case \"d\" : \r\n      ctx.translate(-10, 0);\r\n      playerX += 10;\r\n      break;\r\n    case \"w\" : \r\n      ctx.translate(0, 10);\r\n      playerY -= 10;\r\n      break;\r\n    case \"s\" : \r\n      ctx.translate(0, -10);\r\n      playerY += 10;\r\n      break;\r\n  }\r\n  drawWorld();\r\n}\r\n\r\n// the world elements have fixed positions\r\nfunction drawWorld(){\r\n  ctx.clearRect(0, 0, 600, 400);\r\n  // world\r\n  ctx.fillStyle = 'red';\r\n  ctx.fillRect(10, 10, 50, 50);\r\n  ctx.fillRect(110, 30, 50, 50);\r\n  // player\r\n  ctx.fillStyle = 'green';\r\n  ctx.fillRect(playerX, playerY, 20, 20);\r\n}\r\n\r\ndocument.addEventListener('keydown', (event) =&gt; {\r\n  moveWorld(event.key);\r\n});\r\n\r\ndrawWorld();</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id=\"canvas\" width=\"600\" height=\"400\"&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1440, "user_id": 805548, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c4c74eea65e254ddbda2d3a148b766aa?s=128&d=identicon&r=PG", "display_name": "Robolisk", "link": "https://stackoverflow.com/users/805548/robolisk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 53761375, "answer_count": 1, "score": 1, "last_activity_date": 1544702322, "creation_date": 1544658382, "last_edit_date": 1544668876, "question_id": 53753090, "link": "https://stackoverflow.com/questions/53753090/making-the-canvas-viewport-move-and-enlarge-slither-io", "title": "making the canvas viewport move and enlarge (slither.io)", "body": "<p>I'm learning how to use canvas and I thought it'd be fun making a simple game similar in style to slither.io (not the online, but how the map moves and the character stays in the center).</p>\n\n<p>I've created a canvas and draw a box in the center </p>\n\n<pre><code>function init () {\n    e = document.getElementById (\"mycanv\");\n    var canvas = document.getElementById('mycanv');\n    var context = canvas.getContext('2d');\n    drawCircle(canvas); \n}\n</code></pre>\n\n<p>but I can't wrap my brain around how I would create a similar style that to slither.io where the viewport of the canvas is only a portion of the whole map. </p>\n\n<p>Do I start by setting a large background image and then positing my 'player' in the center? </p>\n\n<p>I've been able to create a player that I can move with the 'WASD' key's but then what? </p>\n\n<p>Anyone have any suggestions? </p>\n"}, {"tags": ["javascript", "angular", "promise", "observable", "stripe-payments"], "comments": [{"owner": {"reputation": 458, "user_id": 3919495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BbhE1.jpg?s=128&g=1", "display_name": "Jaime", "link": "https://stackoverflow.com/users/3919495/jaime"}, "edited": false, "score": 0, "creation_date": 1544736959, "post_id": 53753026, "comment_id": 94392681, "body": "Take a look to this: <a href=\"https://www.npmjs.com/package/ng-stripe-checkout\" rel=\"nofollow noreferrer\">npmjs.com/package/ng-stripe-checkout</a>"}, {"owner": {"reputation": 18374, "user_id": 3478010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y4DTM.png?s=128&g=1", "display_name": "Roamer-1888", "link": "https://stackoverflow.com/users/3478010/roamer-1888"}, "edited": false, "score": 0, "creation_date": 1544737176, "post_id": 53753026, "comment_id": 94392771, "body": "Is <code>handler.open()</code> not synchronous? Promisifying it only makes sense if it is asynchronous. As far as I can tell, the token exposed by <code>StripCheckout.configure()</code> (more spefically <code>token.id</code>) is typically set as the value of a hidden form field. See <a href=\"https://stackoverflow.com/a/42142780/3478010\">this</a>, for example."}, {"owner": {"reputation": 572, "user_id": 6074455, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/9535da1e462730fa6a168e2b74ec2b16?s=128&d=identicon&r=PG&f=1", "display_name": "MichaelE", "link": "https://stackoverflow.com/users/6074455/michaele"}, "reply_to_user": {"reputation": 18374, "user_id": 3478010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y4DTM.png?s=128&g=1", "display_name": "Roamer-1888", "link": "https://stackoverflow.com/users/3478010/roamer-1888"}, "edited": false, "score": 0, "creation_date": 1544802617, "post_id": 53753026, "comment_id": 94417293, "body": "@Roamer-1888  StripeCheckout.configure() has a callback where  the token is accessible. What I am concern about is conducting all the remaining operations to create a subscription in that callback which is in ngOnInit.   I need a better way of doing this."}, {"owner": {"reputation": 572, "user_id": 6074455, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/9535da1e462730fa6a168e2b74ec2b16?s=128&d=identicon&r=PG&f=1", "display_name": "MichaelE", "link": "https://stackoverflow.com/users/6074455/michaele"}, "reply_to_user": {"reputation": 458, "user_id": 3919495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BbhE1.jpg?s=128&g=1", "display_name": "Jaime", "link": "https://stackoverflow.com/users/3919495/jaime"}, "edited": false, "score": 0, "creation_date": 1544803100, "post_id": 53753026, "comment_id": 94417534, "body": "@Jaime This looks promising (pun intended) but I am not sure I can use it in production!"}, {"owner": {"reputation": 18374, "user_id": 3478010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y4DTM.png?s=128&g=1", "display_name": "Roamer-1888", "link": "https://stackoverflow.com/users/3478010/roamer-1888"}, "edited": false, "score": 0, "creation_date": 1544895000, "post_id": 53753026, "comment_id": 94440867, "body": "@MichaelE, I&#39;m not sure I share your concern. But assuming there&#39;s some merit in it, if you conduct the remaining operations somewhere other than the ngOnInit callback then <code>token.id</code> needs to be made available to some handler that fires in response to some later event, in which case the id can&#39;t be passed through; it needs to be stored.  Your design options are to store the id in the DOM, in a closure, in a cookie or in local storage. As far as I can tell, the standard approach is for the callback to which the token is revealed to store <code>token.id</code> in a hidden form field."}], "owner": {"reputation": 572, "user_id": 6074455, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/9535da1e462730fa6a168e2b74ec2b16?s=128&d=identicon&r=PG&f=1", "display_name": "MichaelE", "link": "https://stackoverflow.com/users/6074455/michaele"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1544657940, "creation_date": 1544657940, "question_id": 53753026, "link": "https://stackoverflow.com/questions/53753026/how-to-pass-the-stripe-checkout-token-in-a-thenable-manner", "title": "how to pass the stripe checkout token in a thenable manner", "body": "<p>I am using the stripe checkout api to capture user credit card info for creating a stripe customer and a subscription. In my ngOnInit I am initializing the api popup handler:</p>\n\n<pre><code>this.handler = StripeCheckout.configure({\n          key: stripePubKey,\n          image:  '../../assets/images/logo.png',\n          locale: 'auto',\n          token: token =&gt; token;\n          }\n         });\n   }\n</code></pre>\n\n<p>and then calling it like this which doesn't work but I want to pass on the token to the next function which includes update the db:</p>\n\n<pre><code>this.handler.open({\n                     name: 'Test',\n                     excerpt: 'Sample ....',\n                     amount: 1000\n                  }).then((token) =&gt; {\n</code></pre>\n\n<p>The popular way to do this is to send the request to the backend in the ngOnInit. I am just not comfortable with making a call from ngOnInit to do all this work which include creating the customer and subscription on Stripe. How can I configure this so that this.handler.open is thenable?</p>\n"}, {"tags": ["javascript", "asp.net", "webforms", "requiredfieldvalidator"], "answers": [{"tags": [], "owner": {"reputation": 504, "user_id": 3288376, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/saTwS.jpg?s=128&g=1", "display_name": "behruz", "link": "https://stackoverflow.com/users/3288376/behruz"}, "is_accepted": false, "score": 1, "last_activity_date": 1544659756, "creation_date": 1544659756, "answer_id": 53753258, "question_id": 53752994, "link": "https://stackoverflow.com/questions/53752994/enable-requiredfield-validator-based-on-a-dropdown-value/53753258#53753258", "title": "Enable requiredfield validator based on a dropdown value", "body": "<p>you can have two elements. one with required attribute and one without required attribute.\nbased on the value of your drop down append the proper element to your container.</p>\n\n<pre><code>if(value){\n$( \"#container\" ).append( \"&lt;input type='text' required&gt;\" );\nelse $( \"#container\" ).append( \"&lt;input type='text'&gt;\" ); \n</code></pre>\n"}], "owner": {"reputation": 967, "user_id": 4539385, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/29be607a88cff96db2b54dd68abada43?s=128&d=identicon&r=PG&f=1", "display_name": "Programmerzzz", "link": "https://stackoverflow.com/users/4539385/programmerzzz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1544659756, "creation_date": 1544657710, "question_id": 53752994, "link": "https://stackoverflow.com/questions/53752994/enable-requiredfield-validator-based-on-a-dropdown-value", "title": "Enable requiredfield validator based on a dropdown value", "body": "<p>I have a dropdown and two user controls in an .aspx page where the requiredfield validation for these two user controls is controlled by the dropdown value.</p>\n\n<p>For Eg: if the dropdown value is \"YES\" I need to enable the Requiredfield validation for these two user controls, if drop down value is \"NO\", I need to disable these two fields and disable the validation control as well on these two.</p>\n\n<p>I am not sure how to enable/disable the required field validator from Javascript/jquery in ASP.Net Webforms application.</p>\n"}, {"tags": ["javascript", "android", "css", "reactjs", "react-native"], "comments": [{"owner": {"reputation": 2758, "user_id": 5580240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uFDJs.png?s=128&g=1", "display_name": "Mohammed Ashfaq", "link": "https://stackoverflow.com/users/5580240/mohammed-ashfaq"}, "edited": false, "score": 0, "creation_date": 1544678732, "post_id": 53752983, "comment_id": 94363405, "body": "you can give a try to this package <a href=\"https://github.com/oblador/react-native-animatable\" rel=\"nofollow noreferrer\">github.com/oblador/react-native-animatable</a>"}], "answers": [{"comments": [{"owner": {"reputation": 7577, "user_id": 2907751, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9ixLi.jpg?s=128&g=1", "display_name": "jose920405", "link": "https://stackoverflow.com/users/2907751/jose920405"}, "edited": false, "score": 0, "creation_date": 1571754056, "post_id": 53758463, "comment_id": 103340950, "body": "Thanks @dentemm. Works perfect.. in my case i don&#39;t want an infinite loop, so i put  <code>{ iterations: 3 }</code> as a second param of <code>Animated.loop</code>."}, {"owner": {"reputation": 444, "user_id": 14582741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bcb3f2e390947d08efc73b37143fb80?s=128&d=identicon&r=PG&f=1", "display_name": "kd12345", "link": "https://stackoverflow.com/users/14582741/kd12345"}, "edited": false, "score": 0, "creation_date": 1618731616, "post_id": 53758463, "comment_id": 118686795, "body": "Hi can you please have a look at my question ? <a href=\"https://stackoverflow.com/questions/67145737/react-native-custom-passcode-screen\" title=\"react native custom passcode screen\">stackoverflow.com/questions/67145737/&hellip;</a>"}], "tags": [], "owner": {"reputation": 5150, "user_id": 5068574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75744c36ce5324c7831298fe9a80cecf?s=128&d=identicon&r=PG&f=1", "display_name": "dentemm", "link": "https://stackoverflow.com/users/5068574/dentemm"}, "is_accepted": true, "score": 9, "last_activity_date": 1544692575, "creation_date": 1544692575, "answer_id": 53758463, "question_id": 53752983, "link": "https://stackoverflow.com/questions/53752983/how-to-make-shaking-image-animation-in-react-native/53758463#53758463", "title": "How to make shaking image animation in React Native?", "body": "<p>You are actually pretty close. I will provide a full example below for a single wiggle rotation and then you can just add additional animations according your requirements:</p>\n\n<pre><code>const backgroundImage = require('./components/images/baby-sleep.jpg')\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props)\n    this.animatedValue = new Animated.Value(0)\n  }\n\n  handleAnimation = () =&gt; {\n    // A loop is needed for continuous animation\n    Animated.loop(\n      // Animation consists of a sequence of steps\n      Animated.sequence([\n        // start rotation in one direction (only half the time is needed)\n        Animated.timing(this.animatedValue, {toValue: 1.0, duration: 150, easing: Easing.linear, useNativeDriver: true}),\n        // rotate in other direction, to minimum value (= twice the duration of above)\n        Animated.timing(this.animatedValue, {toValue: -1.0, duration: 300, easing: Easing.linear, useNativeDriver: true}),\n        // return to begin position\n        Animated.timing(this.animatedValue, {toValue: 0.0, duration: 150, easing: Easing.linear, useNativeDriver: true})\n      ])\n    ).start(); \n  }\n}\n</code></pre>\n\n<p>And then to add this rotation to the Image component:</p>\n\n<pre><code>&lt;Animated.Image\n  source={backgroundImage}\n  resizeMode='contain'\n  style={{\n    transform: [{\n      rotate: this.animatedValue.interpolate({\n        inputRange: [-1, 1],\n        outputRange: ['-0.1rad', '0.1rad']\n      })\n    }]\n  }}\n/&gt;\n</code></pre>\n"}], "owner": {"reputation": 219, "user_id": 10935763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C4lBm.png?s=128&g=1", "display_name": "Tri", "link": "https://stackoverflow.com/users/10935763/tri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5914, "favorite_count": 0, "accepted_answer_id": 53758463, "answer_count": 1, "score": 5, "last_activity_date": 1544701959, "creation_date": 1544657621, "last_edit_date": 1544701959, "question_id": 53752983, "link": "https://stackoverflow.com/questions/53752983/how-to-make-shaking-image-animation-in-react-native", "title": "How to make shaking image animation in React Native?", "body": "<p>I want to make a shaking image animation in React Native when i press a <strong>TouchableOpacity</strong>.</p>\n\n<p>so far i have make an animation image with this code bellow:</p>\n\n<pre><code>const backgroundImage = require('./components/images/baby-sleep.jpg')\n\nclass App extends Component {\n\n    constructor(props) {\n        super(props)\n        this.animatedValue = new Animated.Value(0)\n    }\n\n    handleAnimation = () =&gt; {\n        Animated.timing(this.animatedValue, {\n            toValue: 1,\n            duration: 1000,\n            easing: Easing.ease\n        }).start()\n\n    }\n</code></pre>\n\n<p>This is the code where i call <strong>handleAnimation()</strong> in <strong>TouchableOpacity</strong>:</p>\n\n<pre><code>&lt;TouchableOpacity onPress={this.handleAnimation}&gt;\n   &lt;Text style={{fontSize: 24, fontWeight: 'bold'}}&gt;Play&lt;/Text&gt;\n&lt;/TouchableOpacity&gt;\n</code></pre>\n\n<p>and this the code where i make animated image:</p>\n\n<pre><code>&lt;Animated.Image\n    source={backgroundImage}\n    resizeMode='contain'\n    style={{\n\n    transform: [\n        {\n            translateX: this.animatedValue.interpolate({\n            inputRange: [0, 1],\n            outputRange: [0, 120]\n            })\n        },\n        {\n            translateY: this.animatedValue.interpolate({\n            inputRange: [0, 1],\n            outputRange: [0, 230]\n            })\n        },\n        {\n            scaleX: this.animatedValue.interpolate({\n            inputRange: [0, 1],\n            outputRange: [1, 15]\n            })\n        },\n        {\n            scaleY: this.animatedValue.interpolate({\n            inputRange: [0, 9],\n            outputRange: [1, 150.5]\n            })\n        }\n    ]\n    }}\n/&gt;\n</code></pre>\n\n<p>that code has make an animation when i press the <strong>TouchableOpacity</strong>, but now i'm really not sure how to make the image be shaking animation when i press the <strong>TouchableOpacity</strong></p>\n"}, {"tags": ["javascript", "google-apps-script", "inspect-element", "view-source"], "comments": [{"owner": {"reputation": 688, "user_id": 4648586, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/XlHgj.png?s=128&g=1", "display_name": "Bagus Tesa", "link": "https://stackoverflow.com/users/4648586/bagus-tesa"}, "edited": false, "score": 0, "creation_date": 1544657330, "post_id": 53752880, "comment_id": 94358731, "body": "<i>UrlFetchApp.fetch grabs the &#39;View Source&#39;</i> hmm, this is hard, the reason for the &#39;Inspect Element&#39; part differs is that Inspect Element shows the DOM as it modified by javascript. not sure if google apps had something like <code>Selenium</code> to see those.. people already asked and no answer yet, see <a href=\"https://stackoverflow.com/questions/49486774/can-google-apps-script-be-used-for-browser-automation-form-filling-clicking-bu\">this</a>.. also try on <a href=\"https://webapps.stackexchange.com/\">WebApps Stackexchange</a>."}, {"owner": {"reputation": 1, "user_id": 10730194, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-76UMuQz63-g/AAAAAAAAAAI/AAAAAAAAILE/Llg3J2eWaPg/photo.jpg?sz=128", "display_name": "Austin Kugler", "link": "https://stackoverflow.com/users/10730194/austin-kugler"}, "reply_to_user": {"reputation": 688, "user_id": 4648586, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/XlHgj.png?s=128&g=1", "display_name": "Bagus Tesa", "link": "https://stackoverflow.com/users/4648586/bagus-tesa"}, "edited": false, "score": 0, "creation_date": 1544657536, "post_id": 53752880, "comment_id": 94358793, "body": "I actually looked at Selenium...If I can&#39;t get this to work on google apps script I may just have to recede it on that platform instead. Thanks for the help!"}], "owner": {"reputation": 1, "user_id": 10730194, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-76UMuQz63-g/AAAAAAAAAAI/AAAAAAAAILE/Llg3J2eWaPg/photo.jpg?sz=128", "display_name": "Austin Kugler", "link": "https://stackoverflow.com/users/10730194/austin-kugler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1544656791, "creation_date": 1544656791, "question_id": 53752880, "link": "https://stackoverflow.com/questions/53752880/google-scripts-retreive-urlfetchapp-fetch-after-javascript-edited-the-page", "title": "Google Scripts - Retreive UrlFetchApp.fetch after javascript edited the page", "body": "<p>I am trying to fetch a page (rotoql.com) using Google App Script's UrlFetchApp.fetch, but the rotoql.com is different in the 'Inspect Element' of a browser than it is in the 'View Source'. Unfortunately, UrlFetchApp.fetch grabs the 'View Source' version of rotoql.com as opposed to the 'Inspect Element' version.</p>\n\n<p>How would I go about getting the version of a website that JavaScript had already edited (Or the 'Inspect Element' version) instead of the website's source code?</p>\n"}, {"tags": ["javascript", "json"], "comments": [{"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 2, "creation_date": 1544657404, "post_id": 53752878, "comment_id": 94358752, "body": "<code>JSON.parse()</code> produces an <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object\" rel=\"nofollow noreferrer\"><code>Object</code></a>. Attempting to <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/toString#Description\" rel=\"nofollow noreferrer\">display an <code>Object</code> as a string</a> produces <code>[object Object]</code>"}, {"owner": {"reputation": 1332, "user_id": 4274008, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wlGv1qIeYZ4/AAAAAAAAAAI/AAAAAAAAAF8/n9h_cnh6BO8/photo.jpg?sz=128", "display_name": "markmoxx", "link": "https://stackoverflow.com/users/4274008/markmoxx"}, "edited": false, "score": 0, "creation_date": 1544657428, "post_id": 53752878, "comment_id": 94358759, "body": "What are you actually trying to achieve? What do you want to print in your <code>&lt;p id=&quot;demo&quot;&gt;</code> element?"}], "answers": [{"comments": [{"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 3, "creation_date": 1544657326, "post_id": 53752904, "comment_id": 94358730, "body": "Or just skip parsing the response in the first place"}], "tags": [], "owner": {"reputation": 1332, "user_id": 4274008, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wlGv1qIeYZ4/AAAAAAAAAAI/AAAAAAAAAF8/n9h_cnh6BO8/photo.jpg?sz=128", "display_name": "markmoxx", "link": "https://stackoverflow.com/users/4274008/markmoxx"}, "is_accepted": false, "score": 1, "last_activity_date": 1544656925, "creation_date": 1544656925, "answer_id": 53752904, "question_id": 53752878, "link": "https://stackoverflow.com/questions/53752878/xmlhttprequest-to-get-the-content-of-a-json-file-but-it-returns-object-object/53752904#53752904", "title": "XMLHttpRequest to get the content of a JSON file but it returns [object object]", "body": "<p>If you want to print the received JSON object to the DOM, you'll need to turn it into a string. To do this, use <code>JSON.stringify(responseText)</code>.</p>\n"}], "owner": {"reputation": 321, "user_id": 3116151, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e52c19e70d0e69a54df69015b3e47fbb?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie_lee", "link": "https://stackoverflow.com/users/3116151/jamie-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1544656925, "creation_date": 1544656781, "question_id": 53752878, "link": "https://stackoverflow.com/questions/53752878/xmlhttprequest-to-get-the-content-of-a-json-file-but-it-returns-object-object", "title": "XMLHttpRequest to get the content of a JSON file but it returns [object object]", "body": "<p>I am following a guide from w3schools trying to understand JSON better.</p>\n\n<p>This is their code\n<a href=\"https://www.w3schools.com/js/tryit.asp?filename=tryjson_ajax\" rel=\"nofollow noreferrer\">https://www.w3schools.com/js/tryit.asp?filename=tryjson_ajax</a></p>\n\n<p>This is their sample JSON file\n<a href=\"https://www.w3schools.com/js/json_demo.txt\" rel=\"nofollow noreferrer\">https://www.w3schools.com/js/json_demo.txt</a></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\n\n&lt;h2&gt;Use the XMLHttpRequest to get the content of a file.&lt;/h2&gt;\n&lt;p&gt;The content is written in JSON format, and can easily be converted into a JavaScript object.&lt;/p&gt;\n\n&lt;p id=\"demo\"&gt;&lt;/p&gt;\n\n&lt;script&gt;\nvar xmlhttp = new XMLHttpRequest();\nxmlhttp.onreadystatechange = function() {\n  if (this.readyState == 4 &amp;&amp; this.status == 200) {\n    var myObj = JSON.parse(this.responseText);\n    document.getElementById(\"demo\").innerHTML = myObj.name;\n  }\n};\nxmlhttp.open(\"GET\", \"json_demo.txt\", true);\nxmlhttp.send();\n&lt;/script&gt;\n\n&lt;p&gt;Take a look at &lt;a href=\"json_demo.txt\" target=\"_blank\"&gt;json_demo.txt&lt;/a&gt;&lt;/p&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I have another example JSON file here that I want to use\n<a href=\"https://raw.githubusercontent.com/dwyl/english-words/master/words_dictionary.json\" rel=\"nofollow noreferrer\">https://raw.githubusercontent.com/dwyl/english-words/master/words_dictionary.json</a></p>\n\n<p>Using the same code, apart from changing </p>\n\n<blockquote>\n  <p>document.getElementById(\"demo\").innerHTML = myObj.name;</p>\n</blockquote>\n\n<p>to</p>\n\n<blockquote>\n  <p>document.getElementById(\"demo\").innerHTML = myObj;</p>\n</blockquote>\n\n<p>It doesn't seem to bring back anything apart from [object object] and I cannot understand why, Could someone please help, thanks</p>\n\n<pre><code>  &lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\n\n\n\n&lt;p id=\"demo\"&gt;&lt;/p&gt;\n&lt;script&gt;\nvar xmlhttp = new XMLHttpRequest();\nxmlhttp.onreadystatechange = function() {\n  if (this.readyState == 4 &amp;&amp; this.status == 200) {\n    var myObj = JSON.parse(this.responseText);\n    document.getElementById(\"demo\").innerHTML = myObj;\n  }\n};\nxmlhttp.open(\"GET\", \"https://raw.githubusercontent.com/dwyl/english-words/master/words_dictionary.json\", true);\nxmlhttp.send();\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "firebase", "google-cloud-functions", "google-sheets-api"], "answers": [{"comments": [{"owner": {"reputation": 172, "user_id": 10434847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdb7753d0abab2bd796562c828582a00?s=128&d=identicon&r=PG&f=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/10434847/josh"}, "edited": false, "score": 1, "creation_date": 1559574255, "post_id": 53770380, "comment_id": 99454412, "body": "What kind of information is in the token variable? I&#39;m having similar issues."}], "tags": [], "owner": {"reputation": 278, "user_id": 4057608, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/DpUDg.jpg?s=128&g=1", "display_name": "Utku Ufuk", "link": "https://stackoverflow.com/users/4057608/utku-ufuk"}, "is_accepted": false, "score": 1, "last_activity_date": 1544736696, "creation_date": 1544736696, "answer_id": 53770380, "question_id": 53752861, "link": "https://stackoverflow.com/questions/53752861/reading-google-sheets-from-firebase-cloud-functions-using-javascript-promises/53770380#53770380", "title": "Reading Google Sheets from Firebase cloud functions using javascript promises", "body": "<p>I managed to solve the problem by replacing the line</p>\n\n<pre><code>const sheets = google.sheets({version: 'v4', oAuth2Client});\n</code></pre>\n\n<p>with</p>\n\n<pre><code>const sheets = google.sheets('v4');\n</code></pre>\n\n<p>and passing the auth client directly to <code>sheets.spreadsheets.values.get</code> function.</p>\n\n<p>So it became like this:</p>\n\n<pre><code>exports.test = functions.https.onRequest((request, response) =&gt; {\n    let tokenPromise = db.doc('config/token').get();\n    let spreadsheetPromise = db.doc('config/spreadsheet').get();\n    return Promise.all([tokenPromise, spreadsheetPromise]).then(results =&gt; {\n        const token = results[0].data();\n        const ssheetId = results[1].data().id;\n        const oAuth2Client = new google.auth.OAuth2(token.client_id, token.client_secret);\n        oAuth2Client.setCredentials(token);\n        const sheets = google.sheets('v4');\n        return new Promise((resolve, reject) =&gt; {\n            sheets.spreadsheets.values.get({spreadsheetId: ssheetId,\n                                            auth: oAuth2Client,\n                                            range: \"MySheet!A1:A2\"}, (err, result) =&gt; {\n                if (err) {\n                    reject(err);\n                }\n                resolve(result);\n            });\n        })\n    })\n    .then(result =&gt; {\n        console.log(result.data.values[0][0]);\n        return response.status(200).end();\n    })\n    .catch(err =&gt; {\n        console.error(err);\n        return response.status(500).end();\n    });\n});\n</code></pre>\n"}], "owner": {"reputation": 278, "user_id": 4057608, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/DpUDg.jpg?s=128&g=1", "display_name": "Utku Ufuk", "link": "https://stackoverflow.com/users/4057608/utku-ufuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1576, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1544736696, "creation_date": 1544656672, "question_id": 53752861, "link": "https://stackoverflow.com/questions/53752861/reading-google-sheets-from-firebase-cloud-functions-using-javascript-promises", "title": "Reading Google Sheets from Firebase cloud functions using javascript promises", "body": "<p>For hours I've been struggling with a problem involving Firebase Cloud Functions &amp; Google Sheets API. I'm simply trying to read some cells in my spreadsheet upon a <code>POST</code> request to my Cloud Function.</p>\n\n<p>The following code, where I read from the spreadsheet using a function <code>readCells</code> works just fine:</p>\n\n<pre><code>const {google} = require('googleapis');\nconst functions = require('firebase-functions');\nconst admin = require('firebase-admin');\nadmin.initializeApp(functions.config().firebase);\nvar db = admin.firestore();\n\n// magic function (?)\nfunction readCells(auth, ssheetId) {\n    const sheets = google.sheets({version: 'v4', auth});\n    return new Promise((resolve, reject) =&gt; {\n        sheets.spreadsheets.values.get({spreadsheetId:ssheetId,\n                                        range:'MySheet!A1:A2'},\n                                        (err, result) =&gt; {\n            if (err) {\n                reject(err);\n            }\n            resolve(result);\n        });\n    });\n}\n\nexports.test = functions.https.onRequest((request, response) =&gt; {\n    // read auth token &amp; spreadsheet ID from Cloud Firestore        \n    let tokenPromise = db.doc('config/token').get();\n    let spreadsheetPromise = db.doc('config/spreadsheet').get();\n\n    // read from spreadsheet\n    return Promise.all([tokenPromise, spreadsheetPromise]).then(results =&gt; {\n        const token = results[0].data();\n        const ssheetId = results[1].data().id;\n        const oAuth2Client = new google.auth.OAuth2(token.client_id, token.client_secret, \"\");\n        oAuth2Client.setCredentials(token);\n        return readCells(oAuth2Client, ssheetId);\n    })\n    .then(result =&gt; {\n        console.log(result.data.values);\n        return response.status(200).end();\n    })\n    .catch(err =&gt; {\n        console.error(err);\n        return response.status(500).end();\n    });\n});\n</code></pre>\n\n<p>Then I get rid of <code>readCells</code> and do everything in the <code>HTTPS</code> cloud function <code>test</code>:</p>\n\n<pre><code>exports.test = functions.https.onRequest((request, response) =&gt; {\n    // read auth token &amp; spreadsheet ID from Cloud Firestore\n    let tokenPromise = db.doc('config/token').get();\n    let spreadsheetPromise = db.doc('config/spreadsheet').get();\n\n    // read from spreadsheet\n    return Promise.all([tokenPromise, spreadsheetPromise]).then(results =&gt; {\n        const token = results[0].data();\n        const ssheetId = results[1].data().id;\n        const oAuth2Client = new google.auth.OAuth2(token.client_id, token.client_secret, \"\");\n        oAuth2Client.setCredentials(token);\n        const sheets = google.sheets({version: 'v4', oAuth2Client});\n        return new Promise((resolve, reject) =&gt; {\n            sheets.spreadsheets.values.get({spreadsheetId:ssheetId,\n                                            range:'MySheet!A1:A2'},\n                                            (err, result) =&gt; {\n                if (err) {\n                    reject(err);\n                }\n                resolve(result);\n            });\n        });\n    })\n    .then(result =&gt; {\n        console.log(result.data.values);\n        return response.status(200).end();\n    })\n    .catch(err =&gt; {\n        console.error(err);\n        return response.status(500).end();\n    });\n});\n</code></pre>\n\n<p>But I get the following error:</p>\n\n<pre><code>error: { Error: The request is missing a valid API key.\n    at createError (/&lt;path_to_functions&gt;/node_modules/axios/lib/core/createError.js:16:15)\n    at settle (/&lt;path_to_functions&gt;/node_modules/axios/lib/core/settle.js:18:12)\n    at IncomingMessage.handleStreamEnd (/&lt;path_to_functions&gt;/node_modules/axios/lib/adapters/http.js:201:11)\n    at emitNone (events.js:111:20)\n    at IncomingMessage.emit (events.js:208:7)\n    at endReadableNT (_stream_readable.js:1064:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)\n    ...\n    more stuff\n    ...\n</code></pre>\n\n<p>And also:</p>\n\n<pre><code>error: (node:3308) UnhandledPromiseRejectionWarning: \nUnhandled promise rejection. This error originated either by throwing\ninside of an async function without a catch block,\nor by rejecting a promise which was not handled with .catch(). (rejection id: 2)\n(node:3308) [DEP0018] DeprecationWarning: Unhandled promise rejections\nare deprecated. In the future, promise rejections that are not handled\nwill terminate the Node.js process with a non-zero exit code.\n</code></pre>\n\n<p>I don't understand this behaviour at all. I do the same thing only without using a function. I'm not very experienced in Javascript or Node.js; any help would be appreciated.</p>\n"}, {"tags": ["javascript", "lightbox2"], "comments": [{"owner": {"reputation": 3442, "user_id": 4279496, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kGeVd.jpg?s=128&g=1", "display_name": "brooksrelyt", "link": "https://stackoverflow.com/users/4279496/brooksrelyt"}, "edited": false, "score": 1, "creation_date": 1544656795, "post_id": 53752859, "comment_id": 94358555, "body": "Can you please provide your code?"}, {"owner": {"reputation": 1, "user_id": 10783382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1fa97fa6753251d9798c6974a3abc0d?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/10783382/j-doe"}, "reply_to_user": {"reputation": 3442, "user_id": 4279496, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kGeVd.jpg?s=128&g=1", "display_name": "brooksrelyt", "link": "https://stackoverflow.com/users/4279496/brooksrelyt"}, "edited": false, "score": 0, "creation_date": 1549482174, "post_id": 53752859, "comment_id": 95921804, "body": "I added it to the question. Sorry for this long response time."}], "owner": {"reputation": 1, "user_id": 10783382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1fa97fa6753251d9798c6974a3abc0d?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/10783382/j-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1549482142, "creation_date": 1544656644, "last_edit_date": 1549482142, "question_id": 53752859, "link": "https://stackoverflow.com/questions/53752859/lightbox2-horizontal-images-minimized", "title": "Lightbox2 | Horizontal images minimized", "body": "<p>I have a problem with lightbox2: in the same page, higher than wide images are displayed correctly when cliked, but the wider than the tall ones are minimized. Would someone have a solution?</p>\n\n<p>Thanks!</p>\n\n<p>The page is visible here: <a href=\"https://fabiengranjon.eu/photographies/\" rel=\"nofollow noreferrer\">https://fabiengranjon.eu/photographies/</a></p>\n\n<p>And here is the code:</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" type=\"text/css\" media=\"all\" href=\"/wp-content/js/lightbox/css/lightbox.min.css\"&gt;\n&lt;h2&gt;C'est (tr\u00e8s) en vrac&amp;nbsp;!&lt;/h2&gt;\n&lt;h5&gt;NYC, Rennes, Londres, Cancale, Lisbonne, Le Cotentin, Paris, Goux, Amsterdam, Sorano, Saint-Malo, Montr\u00e9al, Istanbul, Portbou, Arles, etc.&lt;/h5&gt;\n&lt;a href=\"/wp-content/uploads/2018/12/32350058_10213293354783031_3926162921058467840_o.jpg\" data-lightbox=\"image-1\"&gt;&lt;img class=\"alignnone size-medium wp-image-2998\" src=\"/wp-content/uploads/2018/12/32350058_10213293354783031_3926162921058467840_o-300x199.jpg\" alt=\"\" width=\"300\" height=\"199\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/32399288_10213293351302944_8510532801454407680_o.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2999\" src=\"/wp-content/uploads/2018/12/32399288_10213293351302944_8510532801454407680_o-199x300.jpg\" alt=\"\" width=\"199\" height=\"300\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/32349753_10213293349102889_7229431442462212096_o.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2997\" src=\"/wp-content/uploads/2018/12/32349753_10213293349102889_7229431442462212096_o-199x300.jpg\" alt=\"\" width=\"199\" height=\"300\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/32349078_10213293351982961_1688827290210795520_o.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2996\" src=\"/wp-content/uploads/2018/12/32349078_10213293351982961_1688827290210795520_o-300x199.jpg\" alt=\"\" width=\"300\" height=\"199\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/32327693_10213293353623002_6659132495054766080_o.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2995\" src=\"/wp-content/uploads/2018/12/32327693_10213293353623002_6659132495054766080_o-199x300.jpg\" alt=\"\" width=\"199\" height=\"300\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/32313875_10213293353142990_2050811342985625600_o.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2994\" src=\"/wp-content/uploads/2018/12/32313875_10213293353142990_2050811342985625600_o-300x199.jpg\" alt=\"\" width=\"300\" height=\"199\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/32313301_10213293352342970_3609728473926467584_o.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2993\" src=\"/wp-content/uploads/2018/12/32313301_10213293352342970_3609728473926467584_o-199x300.jpg\" alt=\"\" width=\"199\" height=\"300\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/32313268_10213293354343020_2583599648052609024_o.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2992\" src=\"/wp-content/uploads/2018/12/32313268_10213293354343020_2583599648052609024_o-199x300.jpg\" alt=\"\" width=\"199\" height=\"300\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/32313239_10213293350582926_2253638278731268096_o.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2991\" src=\"/wp-content/uploads/2018/12/32313239_10213293350582926_2253638278731268096_o-199x300.jpg\" alt=\"\" width=\"199\" height=\"300\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/32290864_10213293352222967_686614826515955712_o.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2990\" src=\"/wp-content/uploads/2018/12/32290864_10213293352222967_686614826515955712_o-300x199.jpg\" alt=\"\" width=\"300\" height=\"199\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/32286598_10213293349622902_5610853436208709632_o.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2989\" src=\"/wp-content/uploads/2018/12/32286598_10213293349622902_5610853436208709632_o-199x300.jpg\" alt=\"\" width=\"199\" height=\"300\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/32283807_10213293350542925_6258268439811457024_o.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2988\" src=\"/wp-content/uploads/2018/12/32283807_10213293350542925_6258268439811457024_o-199x300.jpg\" alt=\"\" width=\"199\" height=\"300\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/32264180_10213293352542975_8332722508314705920_o.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2987\" src=\"/wp-content/uploads/2018/12/32264180_10213293352542975_8332722508314705920_o-199x300.jpg\" alt=\"\" width=\"199\" height=\"300\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/13937993_10208074331070700_88344000744246522_o.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2986\" src=\"/wp-content/uploads/2018/12/13937993_10208074331070700_88344000744246522_o-199x300.jpg\" alt=\"\" width=\"199\" height=\"300\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/13937982_10208074362431484_3858773296779722414_o.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2985\" src=\"/wp-content/uploads/2018/12/13937982_10208074362431484_3858773296779722414_o-199x300.jpg\" alt=\"\" width=\"199\" height=\"300\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/13925966_10208074363071500_9195310606966083837_o.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2984\" src=\"/wp-content/uploads/2018/12/13925966_10208074363071500_9195310606966083837_o-199x300.jpg\" alt=\"\" width=\"199\" height=\"300\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/13925602_10208074333750767_762800376347890794_o.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2983\" src=\"/wp-content/uploads/2018/12/13925602_10208074333750767_762800376347890794_o-199x300.jpg\" alt=\"\" width=\"199\" height=\"300\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/13923691_10208074367991623_6533130278133574977_o.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2982\" src=\"/wp-content/uploads/2018/12/13923691_10208074367991623_6533130278133574977_o-199x300.jpg\" alt=\"\" width=\"199\" height=\"300\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/13920396_10208074336430834_8377681038634171945_o.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2981\" src=\"/wp-content/uploads/2018/12/13920396_10208074336430834_8377681038634171945_o-199x300.jpg\" alt=\"\" width=\"199\" height=\"300\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/13913968_10208074330830694_5680934256552376769_o.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2980\" src=\"/wp-content/uploads/2018/12/13913968_10208074330830694_5680934256552376769_o-199x300.jpg\" alt=\"\" width=\"199\" height=\"300\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/13668704_10208074344391033_2376846719903442422_o.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2979\" src=\"/wp-content/uploads/2018/12/13668704_10208074344391033_2376846719903442422_o-199x300.jpg\" alt=\"\" width=\"199\" height=\"300\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/13662202_10208074335350807_6040311643828343594_o.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2978\" src=\"/wp-content/uploads/2018/12/13662202_10208074335350807_6040311643828343594_o-199x300.jpg\" alt=\"\" width=\"199\" height=\"300\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/13653477_10208074331710716_8793880860774293438_o.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2977\" src=\"/wp-content/uploads/2018/12/13653477_10208074331710716_8793880860774293438_o-199x300.jpg\" alt=\"\" width=\"199\" height=\"300\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/12779205_10206885401988216_4265500163307200419_o.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2976\" src=\"/wp-content/uploads/2018/12/12779205_10206885401988216_4265500163307200419_o-225x300.jpg\" alt=\"\" width=\"225\" height=\"300\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/11188230_10204917185624037_5914574035601282326_n.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2975\" src=\"/wp-content/uploads/2018/12/11188230_10204917185624037_5914574035601282326_n-300x225.jpg\" alt=\"\" width=\"300\" height=\"225\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/11156305_10204917186784066_8732496800111152691_n.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2974\" src=\"/wp-content/uploads/2018/12/11156305_10204917186784066_8732496800111152691_n-300x225.jpg\" alt=\"\" width=\"300\" height=\"225\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/11115599_10204917184624012_5186227445729535554_n.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2973\" src=\"/wp-content/uploads/2018/12/11115599_10204917184624012_5186227445729535554_n-225x300.jpg\" alt=\"\" width=\"225\" height=\"300\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/11008543_10204917182143950_3985294221319220750_n.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2972\" src=\"/wp-content/uploads/2018/12/11008543_10204917182143950_3985294221319220750_n-300x225.jpg\" alt=\"\" width=\"300\" height=\"225\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/10641272_10204917182823967_8958287521015797611_n.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2971\" src=\"/wp-content/uploads/2018/12/10641272_10204917182823967_8958287521015797611_n-300x225.jpg\" alt=\"\" width=\"300\" height=\"225\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/10400736_1093342008409_1330_n.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2970\" src=\"/wp-content/uploads/2018/12/10400736_1093342008409_1330_n-240x300.jpg\" alt=\"\" width=\"240\" height=\"300\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/10400736_1093341968408_789_n.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2969\" src=\"/wp-content/uploads/2018/12/10400736_1093341968408_789_n-225x300.jpg\" alt=\"\" width=\"225\" height=\"300\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/10400736_1093341128387_9581_n.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2968\" src=\"/wp-content/uploads/2018/12/10400736_1093341128387_9581_n-225x300.jpg\" alt=\"\" width=\"225\" height=\"300\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/10400736_1093341088386_8996_n.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2967\" src=\"/wp-content/uploads/2018/12/10400736_1093341088386_8996_n-300x225.jpg\" alt=\"\" width=\"300\" height=\"225\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/10400736_1093341048385_8385_n.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2966\" src=\"/wp-content/uploads/2018/12/10400736_1093341048385_8385_n-300x225.jpg\" alt=\"\" width=\"300\" height=\"225\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/10400736_1093341008384_7813_n.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2965\" src=\"/wp-content/uploads/2018/12/10400736_1093341008384_7813_n-300x267.jpg\" alt=\"\" width=\"300\" height=\"267\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/10400736_1093335848255_9946_n.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2964\" src=\"/wp-content/uploads/2018/12/10400736_1093335848255_9946_n-225x300.jpg\" alt=\"\" width=\"225\" height=\"300\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/10400736_1093335808254_9381_n.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2963\" src=\"/wp-content/uploads/2018/12/10400736_1093335808254_9381_n-225x300.jpg\" alt=\"\" width=\"225\" height=\"300\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/10370454_10202584303503442_3834517868031262520_n.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2962\" src=\"/wp-content/uploads/2018/12/10370454_10202584303503442_3834517868031262520_n-300x225.jpg\" alt=\"\" width=\"300\" height=\"225\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/10363781_10202584300783374_4849001022641501147_n.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2961\" src=\"/wp-content/uploads/2018/12/10363781_10202584300783374_4849001022641501147_n-225x300.jpg\" alt=\"\" width=\"225\" height=\"300\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/10320587_10202584302383414_7644699844920519743_n.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2960\" src=\"/wp-content/uploads/2018/12/10320587_10202584302383414_7644699844920519743_n-225x300.jpg\" alt=\"\" width=\"225\" height=\"300\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/10294348_10202584302903427_5416093495756050636_n.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2959\" src=\"/wp-content/uploads/2018/12/10294348_10202584302903427_5416093495756050636_n-225x300.jpg\" alt=\"\" width=\"225\" height=\"300\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/10289797_10202584304383464_8320358882470980161_n.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2958\" src=\"/wp-content/uploads/2018/12/10289797_10202584304383464_8320358882470980161_n-225x300.jpg\" alt=\"\" width=\"225\" height=\"300\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/10273752_10202584304823475_8834331820865903272_n.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;\n\n[\u2026]\n\n&lt;img class=\"alignnone size-medium wp-image-2777\" src=\"/wp-content/uploads/2018/12/1778_1066897307308_442_n-300x225.jpg\" alt=\"\" width=\"300\" height=\"225\"&gt;&lt;/a&gt; &lt;a href=\"/wp-content/uploads/2018/12/1778_1066897267307_9900_n.jpg\" data-lightbox=\"image-1\" data-title=\"\" style=\"color:#ddd;text-decoration:none;\"&gt;&lt;img class=\"alignnone size-medium wp-image-2776\" src=\"/wp-content/uploads/2018/12/1778_1066897267307_9900_n-300x225.jpg\" alt=\"\" width=\"300\" height=\"225\"&gt;&lt;/a&gt;\n\n&lt;script src=\"/wp-content/js/lightbox/lightbox.js\"&gt;&lt;br /&gt;\n&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html", "css", "font-awesome"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 2, "creation_date": 1544656494, "post_id": 53752797, "comment_id": 94358473, "body": "How about <code>test_data.forEach(function (item) { ... });</code>? Now simply use <code>item.id</code> and <code>item.test_rating</code> in your function. (if you&#39;re wondering how to get the index, it is passed as second param to your callback)"}, {"owner": {"reputation": 127, "user_id": 7757504, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74479bbc4b5bc25a6029b499ceccc8d4?s=128&d=identicon&r=PG&f=1", "display_name": "Jay1995", "link": "https://stackoverflow.com/users/7757504/jay1995"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1544657086, "post_id": 53752797, "comment_id": 94358644, "body": "@ChrisG yeah thats got them perfectly beside each other :-) As number though"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1544657132, "post_id": 53752797, "comment_id": 94358664, "body": "So is your actual question how to turn a number into a bunch of stars? How about a loop?"}, {"owner": {"reputation": 127, "user_id": 7757504, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74479bbc4b5bc25a6029b499ceccc8d4?s=128&d=identicon&r=PG&f=1", "display_name": "Jay1995", "link": "https://stackoverflow.com/users/7757504/jay1995"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1544662677, "post_id": 53752797, "comment_id": 94359964, "body": "Yes but from within <code>test_data.forEach(function(item) { \t\t$(&quot;#idList&quot;).append(&#39;&lt;li&gt;&lt;a href=&quot;#&quot;&gt;&#39; + item.id+ &#39;&lt;&#47;a&gt;&lt;div class=&quot;fa fa-star&quot;&gt;&#39;+ item.test_rating+ &quot;&lt;&#47;div&gt;&lt;&#47;li&gt;&quot;); \t})</code> How would I do that? the rating results shown as stars like in the picture above? Using the font-awesome with a <code>class=&quot;fa fa-star</code>"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1544693725, "post_id": 53752797, "comment_id": 94369633, "body": "Did you take a look at <a href=\"https://stackoverflow.com/a/53752879/5734311\">ic3b3rg&#39;s answer</a>? My take: <a href=\"https://jsfiddle.net/khrismuc/84py2dLg/\" rel=\"nofollow noreferrer\">jsfiddle.net/khrismuc/84py2dLg</a>"}], "answers": [{"tags": [], "owner": {"reputation": 13514, "user_id": 753237, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/caa0cf52d736fd96586b6f14705633dd?s=128&d=identicon&r=PG", "display_name": "ic3b3rg", "link": "https://stackoverflow.com/users/753237/ic3b3rg"}, "is_accepted": false, "score": 3, "last_activity_date": 1544656785, "creation_date": 1544656785, "answer_id": 53752879, "question_id": 53752797, "link": "https://stackoverflow.com/questions/53752797/javascript-how-to-get-star-rating-from-object-array-field-rating/53752879#53752879", "title": "Javascript - How to get star rating from object array field rating?", "body": "<p>Something like this?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const test_data = [    \r\n  {\r\n    \"id\" : \"Test01\",\r\n    \"test_info\"  : \"This is the test information\",\r\n    \"test_rating\" : 5\r\n  },\r\n  {\r\n    \"id\" : \"Test02\",\r\n    \"test_info\"  : \"This is the test information\",\r\n    \"test_rating\" : 2\r\n  }\r\n];\r\n\r\ntest_data.forEach(({id, test_rating}) =&gt; {\r\n  $(\"#idList\").append(`&lt;li&gt;&lt;a href=\"#\"&gt;${id}&lt;/a&gt; ${'*'.repeat(test_rating)}&lt;/li&gt;`);\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;ul id=\"idList\" /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 127, "user_id": 7757504, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74479bbc4b5bc25a6029b499ceccc8d4?s=128&d=identicon&r=PG&f=1", "display_name": "Jay1995", "link": "https://stackoverflow.com/users/7757504/jay1995"}, "edited": false, "score": 1, "creation_date": 1544659322, "post_id": 53752882, "comment_id": 94359263, "body": "You know of how to do it while using the font-awesome library? Like as you&#39;ve done here which is great, but to use the font-awesome to get them appearing as stars like in the image above"}, {"owner": {"reputation": 886, "user_id": 3112241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/664d930d0d19b2e3d9bbe4c2f7edb7fa?s=128&d=identicon&r=PG", "display_name": "ack_inc", "link": "https://stackoverflow.com/users/3112241/ack-inc"}, "reply_to_user": {"reputation": 127, "user_id": 7757504, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74479bbc4b5bc25a6029b499ceccc8d4?s=128&d=identicon&r=PG&f=1", "display_name": "Jay1995", "link": "https://stackoverflow.com/users/7757504/jay1995"}, "edited": false, "score": 0, "creation_date": 1544671164, "post_id": 53752882, "comment_id": 94361783, "body": "Do <code>rating_str += &#39;&lt;span class=&quot;fas fa-star&quot;&gt;&lt;&#47;span&gt;&#39;</code> inside the for loop above"}, {"owner": {"reputation": 127, "user_id": 7757504, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74479bbc4b5bc25a6029b499ceccc8d4?s=128&d=identicon&r=PG&f=1", "display_name": "Jay1995", "link": "https://stackoverflow.com/users/7757504/jay1995"}, "edited": false, "score": 0, "creation_date": 1544672204, "post_id": 53752882, "comment_id": 94362005, "body": "<code>test_data.forEach(function(data) { \t\tconst rating_str = &#39;&#39;; \t\tfor (let i = 0; i &lt; data.rating; i++) rating_str += &#39;&lt;span class=&quot;fas fa-star&quot;&gt;&lt;&#47;span&gt;&#39;; \t\t$(&quot;#idList&quot;).append(&#39;&lt;li&gt;&lt;a href=&quot;#&quot;&gt;&#39; + data.id +&quot; &quot;+ &quot;&lt;&#47;a&gt;&lt;span&gt;&quot; + rating_str + &quot;&lt;&#47;span&gt;&lt;&#47;li&gt;&quot;);  \t});</code> I assume you mean like this? and that just gives this &quot;Uncaught TypeError: Assignment to constant variable.&quot;"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 1, "creation_date": 1544693648, "post_id": 53752882, "comment_id": 94369591, "body": "you need to replace <code>const</code> with <code>var</code> (and learn to read and understand error messages)"}, {"owner": {"reputation": 886, "user_id": 3112241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/664d930d0d19b2e3d9bbe4c2f7edb7fa?s=128&d=identicon&r=PG", "display_name": "ack_inc", "link": "https://stackoverflow.com/users/3112241/ack-inc"}, "edited": false, "score": 0, "creation_date": 1544718641, "post_id": 53752882, "comment_id": 94384361, "body": "Oh yeah, missed that I was re-assigning to a const. Edited the code in my solution"}], "tags": [], "owner": {"reputation": 886, "user_id": 3112241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/664d930d0d19b2e3d9bbe4c2f7edb7fa?s=128&d=identicon&r=PG", "display_name": "ack_inc", "link": "https://stackoverflow.com/users/3112241/ack-inc"}, "is_accepted": true, "score": 1, "last_activity_date": 1544718591, "last_edit_date": 1544718591, "creation_date": 1544656795, "answer_id": 53752882, "question_id": 53752797, "link": "https://stackoverflow.com/questions/53752797/javascript-how-to-get-star-rating-from-object-array-field-rating/53752882#53752882", "title": "Javascript - How to get star rating from object array field rating?", "body": "<p>You need to build up the 'star rating' from the input, like below:</p>\n\n<pre><code>test_data.forEach(function(data) {\n    let rating_str = '';\n    for (let i = 0; i &lt; data.rating; i++) rating_str += '*';\n    $(\"#idList\").append('&lt;li&gt;&lt;a href=\"#\"&gt;' + data.id +\" \"+ \"&lt;/a&gt;&lt;span&gt;\" + rating_str + \"&lt;/span&gt;&lt;/li&gt;\"); \n});\n</code></pre>\n\n<p>If your 'star' is some image, instead of just '*' like in my code example, you can do <code>rating_str += '&lt;img src=\"...\" /&gt;'</code></p>\n"}], "owner": {"reputation": 127, "user_id": 7757504, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74479bbc4b5bc25a6029b499ceccc8d4?s=128&d=identicon&r=PG&f=1", "display_name": "Jay1995", "link": "https://stackoverflow.com/users/7757504/jay1995"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 899, "favorite_count": 0, "accepted_answer_id": 53752882, "answer_count": 2, "score": 0, "last_activity_date": 1544718591, "creation_date": 1544656266, "last_edit_date": 1544663284, "question_id": 53752797, "link": "https://stackoverflow.com/questions/53752797/javascript-how-to-get-star-rating-from-object-array-field-rating", "title": "Javascript - How to get star rating from object array field rating?", "body": "<p>I have this object array:</p>\n\n<pre><code>var test_data = [    \n                {\n                    \"id\" : \"Test01\", //Has to be a string form ID\n                    \"test_info\"  : \"This is the test information\",\n                    \"test_rating\" : 5\n                },\n                {\n                    \"id\" : \"Test02\", //Has to be a string form ID\n                    \"test_info\"  : \"This is the test information\",\n                    \"test_rating\" : 2\n                }\n</code></pre>\n\n<p>As it stands I am using the following to populate a unordered list (but it is only populating the id)</p>\n\n<pre><code>fieldOutputId.forEach(function(id) {\n    $(\"#idList\").append('&lt;li&gt;&lt;a href=\"#\"&gt;' + id +\" \"+ \"&lt;/a&gt;&lt;/li&gt;\"); \n});\n</code></pre>\n\n<p>I am wondering how to get Stars appearing to the right with the value of <code>test_rating</code> that's stored in <code>fieldOutputRating</code> like showing up like this picture (Stars being the red text)</p>\n\n<p>Fig1 :<a href=\"https://i.stack.imgur.com/Y0eBj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y0eBj.png\" alt=\"Star Rating\"></a></p>\n\n<p><strong>-----EDIT-----</strong></p>\n\n<p>Thanks to @ChrisG this gets it inline, id &amp; test_rating:</p>\n\n<pre><code>test_data.forEach(function(item) { $(\"#idList\").append('&lt;li&gt;&lt;a href=\"#\"&gt;' + item.id+ '&lt;/a&gt;&lt;div class=\"fa fa-star\"&gt;'+ item.test_rating+ \"&lt;/div&gt;&lt;/li&gt;\"); })\n</code></pre>\n\n<p>With the above code I am trying to get the stars to appear in-line (done) and as stars using font-awesome library with a <code>class=\"fa fa-star</code></p>\n\n<p>This is what the above is giving:</p>\n\n<p><a href=\"https://i.stack.imgur.com/7uzJl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7uzJl.png\" alt=\"Not Working Star Rating\"></a></p>\n\n<p>So its getting the test_rating but not giving any stars for it. \nAny help is appreciated??</p>\n"}, {"tags": ["javascript", "node.js", "express", "web", "server"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1544656703, "post_id": 53752794, "comment_id": 94358530, "body": "What stops being sent? <code>skaterSummary.json</code>? Did you check the browser console?"}, {"owner": {"reputation": 67, "user_id": 1889006, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/153e63075c4d9b0cb9008d1ca5204817?s=128&d=identicon&r=PG", "display_name": "davidhin", "link": "https://stackoverflow.com/users/1889006/davidhin"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1544658265, "post_id": 53752794, "comment_id": 94358983, "body": "Yes, skaterSummary.json stops being sent. Only when its sent I get the json in the browser console."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1544658974, "post_id": 53752794, "comment_id": 94359172, "body": "I&#39;d add <code>if (err) throw err;</code> to your <code>connection.query</code> callback."}, {"owner": {"reputation": 67, "user_id": 1889006, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/153e63075c4d9b0cb9008d1ca5204817?s=128&d=identicon&r=PG", "display_name": "davidhin", "link": "https://stackoverflow.com/users/1889006/davidhin"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1544659541, "post_id": 53752794, "comment_id": 94359329, "body": "I thought this fixed it! Was working for a while but then the same thing happened again :("}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1544693286, "post_id": 53752794, "comment_id": 94369400, "body": "It&#39;s not supposed to fix anything, it&#39;s supposed to display an error if an error occurs, as opposed to doing nothing."}, {"owner": {"reputation": 74735, "user_id": 82586, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/HfVKA.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/82586/james"}, "edited": false, "score": 0, "creation_date": 1548390341, "post_id": 53752794, "comment_id": 95532319, "body": "Did my answer help solve your problem?"}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 1889006, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/153e63075c4d9b0cb9008d1ca5204817?s=128&d=identicon&r=PG", "display_name": "davidhin", "link": "https://stackoverflow.com/users/1889006/davidhin"}, "edited": false, "score": 0, "creation_date": 1544662842, "post_id": 53753434, "comment_id": 94359993, "body": "Sorry, I&#39;m not too clear on what to do from this. Should the default Express error handler be able to handle this error? Because the requests eventually still stall.  I&#39;m not too sure how to write a custom one. Also, there don&#39;t seem to be any console messages about the error."}, {"owner": {"reputation": 74735, "user_id": 82586, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/HfVKA.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/82586/james"}, "reply_to_user": {"reputation": 67, "user_id": 1889006, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/153e63075c4d9b0cb9008d1ca5204817?s=128&d=identicon&r=PG", "display_name": "davidhin", "link": "https://stackoverflow.com/users/1889006/davidhin"}, "edited": false, "score": 0, "creation_date": 1544680842, "post_id": 53753434, "comment_id": 94364028, "body": "@davidhin the default Express error handler will end the request, but also just realised that this is an AJAX response and as such you&#39;ll want to to be returning a JSON response so you would want a custom handler in this case. However, if you are saying there are zero errors then clearly that isn&#39;t the problem, how many refreshes are we talking about here? Could you be exhausting your DB connection pool? Even then I&#39;d still expect an error..."}, {"owner": {"reputation": 74735, "user_id": 82586, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/HfVKA.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/82586/james"}, "reply_to_user": {"reputation": 67, "user_id": 1889006, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/153e63075c4d9b0cb9008d1ca5204817?s=128&d=identicon&r=PG", "display_name": "davidhin", "link": "https://stackoverflow.com/users/1889006/davidhin"}, "edited": false, "score": 0, "creation_date": 1544681037, "post_id": 53753434, "comment_id": 94364108, "body": "Also FWIW, you are aware of <a href=\"https://api.jquery.com/jquery.get/\" rel=\"nofollow noreferrer\">$.get</a>? Would really simplify your client-side code."}], "tags": [], "owner": {"reputation": 74735, "user_id": 82586, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/HfVKA.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/82586/james"}, "is_accepted": false, "score": 0, "last_activity_date": 1544661910, "last_edit_date": 1544661910, "creation_date": 1544661548, "answer_id": 53753434, "question_id": 53752794, "link": "https://stackoverflow.com/questions/53752794/express-node-js-page-refresh-issue/53753434#53753434", "title": "Express/Node.js Page Refresh Issue", "body": "<p>So the issue is most likely an error coming back from either DB request, throwing the error (particularly in an asynchronous callback) won't do anything, it won't be propagated therefore can't be handled, meaning any pending requests will simply hang until they eventually timeout.</p>\n\n<p>The best way of handling this is to call <code>next</code> and pass the error to Express, you can then add your own custom error handler or leverage the default one from Express</p>\n\n<pre><code>router.get('/skaterSummary.json', function(req, res, next) {\n  req.pool.getConnection(function(err, connection) {\n    if (err) {\n      console.error(err); // log the DB error internally\n      return next(new Error('Server Error')); // return a client error\n    }\n\n    var query = \"SELECT * from Summary;\";\n    connection.query(query, function(err, results) {\n      if (err) { \n        console.error(err);\n        return next(new Error('Server Error')); \n      }\n\n      res.json(results); // send response\n    });\n  });\n});\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 1889006, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/153e63075c4d9b0cb9008d1ca5204817?s=128&d=identicon&r=PG", "display_name": "davidhin", "link": "https://stackoverflow.com/users/1889006/davidhin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1016, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544661910, "creation_date": 1544656245, "question_id": 53752794, "link": "https://stackoverflow.com/questions/53752794/express-node-js-page-refresh-issue", "title": "Express/Node.js Page Refresh Issue", "body": "<p>I'm a beginner in anything to do with web development with servers (only took one course in uni). I have a weird issue relating to a GET request where if I refresh too many times, it just stops being sent. Here is the output from npm start when it does work: </p>\n\n<pre><code>GET / 304 0.350 ms - -\nGET /stylesheets/styles.css 404 28.359 ms - 1132\nGET /javascripts/scripts.js 304 0.244 ms - -\nGET /favicon.ico 404 11.692 ms - 1132\nGET /skaterSummary.json 304 51.770 ms - -\n</code></pre>\n\n<p>After spamming refresh a lot, the output becomes like this:</p>\n\n<pre><code>GET /skaterSummary.json - - ms - -\nGET / 304 0.676 ms - -\nGET /stylesheets/styles.css 404 28.628 ms - 1132\nGET /javascripts/scripts.js 304 0.599 ms - -\nGET /favicon.ico 404 20.098 ms - 1132\n</code></pre>\n\n<p><strong>Code: routes/index.js</strong></p>\n\n<pre><code>// Database Testing\nrouter.get('/skaterSummary.json', function(req, res, next) {\n    req.pool.getConnection(function(err, connection) {\n        if (err) throw err;\n        var query = \"SELECT * from Summary;\";\n        connection.query(query, function(err, results) {\n            res.json(results); // send response\n        });\n    });\n});\n</code></pre>\n\n<p><strong>Code: scripts.js</strong></p>\n\n<pre><code>$(document).ready(function() {\n    'use strict';\n\n    let xhttp = new XMLHttpRequest();\n\n    xhttp.open('GET', 'skaterSummary.json', true);\n    xhttp.setRequestHeader('Content-type', 'application/json');\n    xhttp.send();\n\n    xhttp.onreadystatechange = function() {\n        if (this.readyState == 4 &amp;&amp; this.status == 200) {\n            console.log(\"Success\");\n            console.log(JSON.parse(xhttp.responseText));\n        }\n    };\n});\n</code></pre>\n\n<p>Thanks for any pointers :)</p>\n"}, {"tags": ["javascript", "html", "bootstrap-4", "wysiwyg", "summernote"], "comments": [{"owner": {"reputation": 4326, "user_id": 3281014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIpXo.jpg?s=128&g=1", "display_name": "Nawed Khan", "link": "https://stackoverflow.com/users/3281014/nawed-khan"}, "edited": false, "score": 0, "creation_date": 1544656777, "post_id": 53752775, "comment_id": 94358549, "body": "seems like the second paragraph had lots of styling already applied to it. can you see the html source before merging them?"}, {"owner": {"reputation": 23, "user_id": 5821165, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153905037264044/picture?type=large", "display_name": "giorgioscia", "link": "https://stackoverflow.com/users/5821165/giorgioscia"}, "reply_to_user": {"reputation": 4326, "user_id": 3281014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIpXo.jpg?s=128&g=1", "display_name": "Nawed Khan", "link": "https://stackoverflow.com/users/3281014/nawed-khan"}, "edited": false, "score": 0, "creation_date": 1544657430, "post_id": 53752775, "comment_id": 94358760, "body": "@NawedKhan html source of two paragraphs before merging is identical to first code block in original question :)"}], "answers": [{"tags": [], "owner": {"reputation": 616, "user_id": 4714972, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153720580223047/picture?type=large", "display_name": "Sachi Cortes", "link": "https://stackoverflow.com/users/4714972/sachi-cortes"}, "is_accepted": false, "score": 1, "last_activity_date": 1559811063, "creation_date": 1559811063, "answer_id": 56474032, "question_id": 53752775, "link": "https://stackoverflow.com/questions/53752775/summernote-adding-span-after-merging-paragraphs/56474032#56474032", "title": "Summernote adding span after merging paragraphs", "body": "<p>I had the same problem, I solved by adding css rules to note-editable class:</p>\n\n<pre><code>.note-editable * {\n    line-height: inherit!important;\n    font-size: 14px!important;\n    font-family: 'Open Sans';\n }\n</code></pre>\n\n<p>This fixed it for me.</p>\n"}], "owner": {"reputation": 23, "user_id": 5821165, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153905037264044/picture?type=large", "display_name": "giorgioscia", "link": "https://stackoverflow.com/users/5821165/giorgioscia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 886, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559811063, "creation_date": 1544656129, "last_edit_date": 1544826249, "question_id": 53752775, "link": "https://stackoverflow.com/questions/53752775/summernote-adding-span-after-merging-paragraphs", "title": "Summernote adding span after merging paragraphs", "body": "<p>I'm attempting to build a content authoring application around Summernote (BS4) and have bumped into a feature that's not very helpful.</p>\n\n<p>Given two paragraphs:</p>\n\n<pre><code>&lt;p&gt;The quick brown fox jumps over the lazy dog.&lt;/p&gt;\n&lt;p&gt;One, two, three, four.&lt;/p&gt;\n</code></pre>\n\n<p>If in the editor I use backspace to merge the two paragraphs, I would be expecting a result like...</p>\n\n<pre><code>&lt;p&gt;The quick brown fox jumps over the lazy dog.One, two, three, four.&lt;/p&gt;\n</code></pre>\n\n<p>This is exactly what you get if you try out the example implementation on <a href=\"https://summernote.org/\" rel=\"nofollow noreferrer\">Summernote's homepage</a></p>\n\n<p>But instead I am getting...</p>\n\n<pre><code>&lt;p&gt;The quick brown fox jumps over the lazy dog.&lt;span style=\"background-color: rgb(255, 255, 255); font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, &amp;quot;Helvetica Neue&amp;quot;, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1rem;\"&gt;One, two, three, four.&lt;/span&gt;&lt;/p&gt;\n</code></pre>\n\n<p>(ie: a <code>&lt;span&gt;</code> element with lots of styling, surrounding what was the second paragraph)</p>\n\n<p>Would really appreciate an explanation of what's going on here, and how I can prevent it.</p>\n\n<p>Many thanks!</p>\n\n<p>CDNs:</p>\n\n<pre><code>&lt;script src=\"https://code.jquery.com/jquery-3.3.1.js\" integrity=\"sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n&lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css\" integrity=\"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm\" crossorigin=\"anonymous\"&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js\" integrity=\"sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n&lt;script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js\" integrity=\"sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n\n&lt;link href=\"https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.11/summernote-bs4.css\" rel=\"stylesheet\"&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.11/summernote-bs4.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div id=\"summernote\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>jQuery:</p>\n\n<pre><code>$('#summernote').summernote();\n</code></pre>\n\n<hr>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I've noticed that if I use summernote-lite instead of summernote-bs4 and remove the BS4 CDNs, the problem no longer persists.</p>\n\n<p>If I stick with summernote-lite but reintroduce BS4 then the problem returns!</p>\n\n<p>CDNs without problem:</p>\n\n<pre><code>&lt;script src=\"https://code.jquery.com/jquery-3.3.1.js\" integrity=\"sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js\" integrity=\"sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n\n&lt;link href=\"https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.11/summernote-lite.css\" rel=\"stylesheet\"&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.11/summernote-lite.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>CDNs with problem:</p>\n\n<pre><code>&lt;script src=\"https://code.jquery.com/jquery-3.3.1.js\" integrity=\"sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n&lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css\" integrity=\"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm\" crossorigin=\"anonymous\"&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js\" integrity=\"sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n&lt;script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js\" integrity=\"sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n\n&lt;link href=\"https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.11/summernote-lite.css\" rel=\"stylesheet\"&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.11/summernote-lite.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Leading me to believe this is a Bootstrap related issue...</p>\n\n<hr>\n\n<p><strong>UPDATE 2:</strong></p>\n\n<p>This does in fact appear to be a Summernote issue which can in fact be replicated on their BS4 example found <a href=\"https://summernote.org/getting-started/#for-bootstrap-4\" rel=\"nofollow noreferrer\">here</a>, which I've now reported on Github <a href=\"https://github.com/summernote/summernote/issues/3088\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"tags": ["javascript", "jquery", "html", "css", "bootstrap-4"], "answers": [{"comments": [{"owner": {"reputation": 1283, "user_id": 7299313, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/3fed28acbbea3d47344e5fca960d6cf9?s=128&d=identicon&r=PG&f=1", "display_name": "Robert C. Holland", "link": "https://stackoverflow.com/users/7299313/robert-c-holland"}, "edited": false, "score": 0, "creation_date": 1544661981, "post_id": 53753425, "comment_id": 94359849, "body": "Working perfectly, spent so many hours on this, thank you very much!"}, {"owner": {"reputation": 1283, "user_id": 7299313, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/3fed28acbbea3d47344e5fca960d6cf9?s=128&d=identicon&r=PG&f=1", "display_name": "Robert C. Holland", "link": "https://stackoverflow.com/users/7299313/robert-c-holland"}, "edited": false, "score": 0, "creation_date": 1544668266, "post_id": 53753425, "comment_id": 94361132, "body": "After doing some testing, this doesn&#39;t seem to work on opera browser"}, {"owner": {"reputation": 1283, "user_id": 7299313, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/3fed28acbbea3d47344e5fca960d6cf9?s=128&d=identicon&r=PG&f=1", "display_name": "Robert C. Holland", "link": "https://stackoverflow.com/users/7299313/robert-c-holland"}, "edited": false, "score": 0, "creation_date": 1544670274, "post_id": 53753425, "comment_id": 94361551, "body": "Sorry about repeated notification, I had some mistakes in testing. This actually works perfectly on opera too."}], "tags": [], "owner": {"reputation": 905, "user_id": 5330050, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4New3.jpg?s=128&g=1", "display_name": "Iskandar Reza", "link": "https://stackoverflow.com/users/5330050/iskandar-reza"}, "is_accepted": true, "score": 1, "last_activity_date": 1544661442, "creation_date": 1544661442, "answer_id": 53753425, "question_id": 53752697, "link": "https://stackoverflow.com/questions/53752697/bootstrap-column-how-to-scroll-on-overflow/53753425#53753425", "title": "Bootstrap column, how to scroll on overflow?", "body": "<p>You can do this by creating your own <code>video-chat-row</code> class. Note that by using the <code>embed-responsive-16by9</code> class, you cannot expect the <code>row</code> and <code>col-x</code> classes to work normally. You got to create your own overrides.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.video-chat-row {\r\n  display: flex;\r\n  width: 100%;\r\n  position: relative;\r\n}\r\n\r\n\r\n#video_container {\r\n  flex: 0 0 75%;\r\n  background-color: black;\r\n}\r\n\r\n#chat_container {\r\n  position: absolute;\r\n  width: 25%;\r\n  left: 75%;\r\n  top: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  overflow-y: scroll;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link href=\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/css/bootstrap.min.css\" rel=\"stylesheet\"/&gt;\r\n&lt;body class='container-fluid mx-auto' style='width: 95%'&gt;\r\n&lt;div class='video-chat-row'&gt;\r\n\r\n&lt;div\r\n    id='video_container'\r\n    class='\r\n        embed-responsive\r\n        embed-responsive-16by9\r\n        card card-body rounded-0 border-0' &gt;\r\n    &lt;div id='player'&gt;&lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div\r\n    id='chat_container'\r\n    class='card card-body rounded-0'&gt;\r\n    &lt;p&gt;Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem. Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? Quis autem vel eum iure reprehenderit qui in ea voluptate velit esse quam nihil molestiae consequatur, vel illum qui dolorem eum fugiat quo voluptas nulla pariatur?\"&lt;/p&gt;\r\n    &lt;p&gt;Proin tincidunt aliquam efficitur. Cras laoreet in nulla id porttitor. Aliquam gravida, ex vulputate aliquam placerat, enim orci maximus turpis, ac lobortis quam urna eget nulla. In vel elit diam. Pellentesque fermentum a dolor sed venenatis. Praesent sit amet vulputate purus, vitae laoreet leo. Vivamus sed volutpat nunc. Nam nunc ex, auctor quis purus at, vulputate interdum enim. Maecenas non tincidunt purus, eget imperdiet lacus. Proin in dictum enim, vitae sodales tortor. Vivamus gravida finibus viverra. Nulla tempor vestibulum lorem. Morbi placerat blandit iaculis. Mauris cursus ex nibh, ornare gravida velit porta commodo. In sit amet mattis leo, at congue magna. Maecenas eu consectetur nulla.&lt;/p&gt;\r\n    &lt;p&gt;Quisque et lorem vitae nisi efficitur vehicula id vel nibh. Sed in felis tellus. Nulla viverra augue vel pretium tempus. Proin laoreet lectus ac nisl consectetur, sed mollis sem malesuada. Vivamus id lacinia erat, vel mollis eros. Ut aliquam pretium diam, ac efficitur ipsum aliquam ut. Nullam vel elit orci. Cras in malesuada nunc. Suspendisse elit lectus, tincidunt eu purus ac, consequat faucibus lacus. Sed aliquet risus ut ligula gravida, a lobortis massa pellentesque. In molestie ut sapien nec mollis. Proin a mattis diam, ut imperdiet risus. Donec id nulla massa. Donec nec mi non lacus ultricies pharetra. Morbi magna odio, sollicitudin ut lobortis at, tempus nec sem. Aliquam non ligula nec ante pharetra dapibus eu sed augue.&lt;/p&gt;\r\n    \r\n&lt;/div&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1283, "user_id": 7299313, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/3fed28acbbea3d47344e5fca960d6cf9?s=128&d=identicon&r=PG&f=1", "display_name": "Robert C. Holland", "link": "https://stackoverflow.com/users/7299313/robert-c-holland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 53753425, "answer_count": 1, "score": 1, "last_activity_date": 1544661442, "creation_date": 1544655616, "last_edit_date": 1544655988, "question_id": 53752697, "link": "https://stackoverflow.com/questions/53752697/bootstrap-column-how-to-scroll-on-overflow", "title": "Bootstrap column, how to scroll on overflow?", "body": "<pre><code>&lt;body class='container-fluid mx-auto' style='width: 95%'&gt;\n&lt;div class='row'&gt;\n\n&lt;div\n    id='video_container'\n    class='\n        embed-responsive\n        embed-responsive-16by9\n        card card-body rounded-0 border-0\n        col-9'&gt;\n    &lt;div id='player'&gt;&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div\n    id='chat_container'\n    class='card card-body rounded-0 col-3'\n    style='overflow-y: scroll'&gt;\n&lt;/div&gt;\n\n&lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>I want everything to remain responsive as it is now (where <code>video_container</code> is responsively in proper ratio and both <code>video_container</code> and <code>chat_container</code> are same height). but I don't want <code>chat_container</code> to expand further below in height when chats fill up the space. Instead I want it to scroll. How can it be done ?</p>\n\n<p>I did set <code>overflow-y: scroll</code> to id <code>chat_container</code> in <code>&lt;style&gt;&lt;/style&gt;</code> because somehow <code>style</code> attribute disappears when added directly to the element(???) but that does nothing.</p>\n\n<p>In the head I have (serving locally from downloaded copy) :</p>\n\n<pre><code>&lt;link rel='stylesheet' href='bootstrap.min.css'&gt;\n&lt;script src='jquery-3.3.1.slim.min.js'&gt;&lt;/script&gt;\n&lt;script src='bootstrap.min.js'&gt;&lt;/script&gt;\n&lt;script src='popper.min.js'&gt;&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "monaco-editor"], "comments": [{"owner": {"reputation": 1894, "user_id": 6786876, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IE5o.png?s=128&g=1", "display_name": "Alexander Leithner", "link": "https://stackoverflow.com/users/6786876/alexander-leithner"}, "edited": false, "score": 0, "creation_date": 1546793153, "post_id": 53752694, "comment_id": 94960499, "body": "Just an educated guess, but you set <code>noLib</code> to <code>true</code>. Does it work when you change it to <code>false</code> (or leave it out completely)? Might be related to <code>addExtraLib ()</code>..."}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 4081621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f32782490d8daf88ae5a19346f14254?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Matute", "link": "https://stackoverflow.com/users/4081621/gabriel-matute"}, "is_accepted": false, "score": 1, "last_activity_date": 1554110166, "creation_date": 1554110166, "answer_id": 55451692, "question_id": 53752694, "link": "https://stackoverflow.com/questions/53752694/how-to-get-jquery-code-completion-in-monaco-editor/55451692#55451692", "title": "How to get JQuery Code Completion in Monaco Editor?", "body": "<p>So I just ran into this problem, after digging into the <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/jquery\" rel=\"nofollow noreferrer\">DefinitelyTyped</a> definitions, I noticed that <code>index.d.ts</code> is just aggregates the content from four different files (<code>JQueryStatic</code>, <code>JQuery</code>, <code>misc</code>, <code>legacy</code>). Adding the content of all of these files by repeatedly using <code>addExtraLib</code> should work! Otherwise, not sure how <code>monaco</code> could find the contents.</p>\n"}], "owner": {"reputation": 11, "user_id": 10783321, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YzkSA17ege0/AAAAAAAAAAI/AAAAAAAA2GI/CyR5rXuDqYk/photo.jpg?sz=128", "display_name": "Taylor Earl", "link": "https://stackoverflow.com/users/10783321/taylor-earl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 299, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554110166, "creation_date": 1544655599, "last_edit_date": 1544660680, "question_id": 53752694, "link": "https://stackoverflow.com/questions/53752694/how-to-get-jquery-code-completion-in-monaco-editor", "title": "How to get JQuery Code Completion in Monaco Editor?", "body": "<p>I'm new to Monaco and Typescript in general. I'm trying to get JQuery code completion to work on my editor. I've tried just about every example I've been able to find on how to accomplish this. I think I'm pretty close,  but probably missing something fundamental.</p>\n\n<p>From the DefinitelyTyped folks, I've gotten their jquery directory and included it in my web project. In the file that is creating my Monaco editor I have the following.</p>\n\n<pre><code>const path = \"/jslib/monaco/types/jquery/index.d.ts\";\nconst typings = readTextFile(path);\nmonaco.languages.typescript.javascriptDefaults.addExtraLib(typings, path);\n</code></pre>\n\n<p><code>readTextFile()</code> is just a little function I'm using to get the contents of index.d.ts (which I can confirm is working). Here is the rest of my monaco setup.</p>\n\n<pre><code>monaco.languages.typescript.typescriptDefaults.setCompilerOptions({\n                target: \nmonaco.languages.typescript.ScriptTarget.ES2016,\n                allowNonTsExtensions: true,\n                module: monaco.languages.typescript.ModuleKind.System,\n                noEmit: true,\n                typeRoots: [\"/jslib/monaco/types\"],\n                noLib: true\n          });\n\n\nwindow.editor = monaco.editor.create(document.getElementById('monacodiv'), {\n                value: $(\"#formula\").val(),\n                language: 'javascript',\n                theme: \"vs-dark\",\n                autoIndent: true,\n                dragAndDrop: true,\n                tabCompletion: true,\n                fontFamily: \"monospace\",\n                scrollBeyondLastLine: false\n            });\n</code></pre>\n\n<p>If anyone could let me know what I'm doing wrong, that would be awesome!</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 1, "creation_date": 1544655506, "post_id": 53752663, "comment_id": 94358148, "body": "you, by definition, need a new object each time. you can&#39;t have one object that has two different values for <code>label</code> based on which index in the array it is at."}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1544655661, "post_id": 53752663, "comment_id": 94358205, "body": "One way or the other a second object needs to be created. You cannot have one object have different property values at the same time. In JavaScript, objects are reference-type values, so assigning a new value to a property does not create a copy of the object, it mutates the exiting object."}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1544655831, "post_id": 53752663, "comment_id": 94358255, "body": "Put another way, if you want your array to contain two objects, you need to, at the very least, create two objects. Otherwise, your array will instead just refer to the same object twice."}], "answers": [{"comments": [{"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 1, "creation_date": 1544660189, "post_id": 53752733, "comment_id": 94359474, "body": "You are mixing &quot;pass <b>by</b> reference&quot; with passing <b>a</b> reference. These are not the same things. JavaScript is a &quot;pass by <i>value</i>&quot; language that implements objects as <i>reference-type</i> values. <a href=\"https://en.wikipedia.org/wiki/Evaluation_strategy\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Evaluation_strategy</a> , <a href=\"https://en.wikipedia.org/wiki/Value_type_and_reference_type\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Value_type_and_reference_type</a> . Or in other words: You are using the wrong terminology for the behavior your are describing."}], "tags": [], "owner": {"reputation": 2412, "user_id": 1363799, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2cb5cff49b61fed325a6feb9d2a905aa?s=128&d=identicon&r=PG", "display_name": "terales", "link": "https://stackoverflow.com/users/1363799/terales"}, "is_accepted": false, "score": -1, "last_activity_date": 1544660329, "last_edit_date": 1544660329, "creation_date": 1544655852, "answer_id": 53752733, "question_id": 53752663, "link": "https://stackoverflow.com/questions/53752663/setting-values-without-instantiating-a-new-object/53752733#53752733", "title": "Setting values without instantiating a new object", "body": "<p>In JavaScript objects are reference-type values, so there is no way to pass object value except for creating a new object, so you're limited to <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\" rel=\"nofollow noreferrer\"><code>Object.assign</code></a> option. The approach below would change desired properties and copy other ones:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var optionsArr = new Array();\r\nvar labelObj = new Object();\r\n\r\nlabelObj.label = 'Pink';\r\nlabelObj.value = \"Pink1\";\r\noptionsArr.push(labelObj);\r\n\r\n// Use Object.assign() to update only some of properties\r\noptionsArr.push(Object.assign({}, labelObj, {\r\n  label: 'Green',\r\n  value: 'Green2'\r\n}));\r\n\r\n// Original object would remain unchaged\r\noptionsArr.push(labelObj);\r\n\r\nconsole.log('optionsArr' + JSON.stringify(optionsArr));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1544660087, "post_id": 53752753, "comment_id": 94359444, "body": "Or even better: <code>var obj = [{&quot;label&quot; : &quot;Pink&quot;,&quot;value&quot; : &quot;Pink1&quot;}, {&quot;label&quot; : &quot;Green&quot;,&quot;value&quot; : &quot;Green1&quot;}]</code>."}, {"owner": {"reputation": 10669, "user_id": 3684265, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4f365ab1670c41f5e966ef9abecf9903?s=128&d=identicon&r=PG", "display_name": "imvain2", "link": "https://stackoverflow.com/users/3684265/imvain2"}, "reply_to_user": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1544713775, "post_id": 53752753, "comment_id": 94381356, "body": "@FelixKling I guess the best solution is based on how the OP is generating this information. If it&#39;s in a loop or if its manually entered in."}, {"owner": {"reputation": 319, "user_id": 1404273, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/250eb3053b0f4d3baad1c6c4b0e0a920?s=128&d=identicon&r=PG", "display_name": "MCHam", "link": "https://stackoverflow.com/users/1404273/mcham"}, "edited": false, "score": 0, "creation_date": 1544724818, "post_id": 53752753, "comment_id": 94387475, "body": "So this is exactly what i&#39;m kind of looking for. Thanks."}], "tags": [], "owner": {"reputation": 10669, "user_id": 3684265, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4f365ab1670c41f5e966ef9abecf9903?s=128&d=identicon&r=PG", "display_name": "imvain2", "link": "https://stackoverflow.com/users/3684265/imvain2"}, "is_accepted": true, "score": 0, "last_activity_date": 1544656005, "creation_date": 1544656005, "answer_id": 53752753, "question_id": 53752663, "link": "https://stackoverflow.com/questions/53752663/setting-values-without-instantiating-a-new-object/53752753#53752753", "title": "Setting values without instantiating a new object", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var obj = [];\r\nobj[0] = {\"label\" : \"Pink\",\"value\" : \"Pink1\"};\r\nobj[1] = {\"label\" : \"Green\",\"value\" : \"Green1\"};\r\n\r\nalert(JSON.stringify(obj));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>OR the more proper way to handle an array:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var obj = [];\r\n\r\nobj.push({\r\n  label: 'Green',\r\n  value: 'Green2'\r\n});\r\n\r\nobj.push({\r\n  label: 'Pink',\r\n  value: 'Pink1'\r\n});\r\n\r\nalert(JSON.stringify(obj));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 319, "user_id": 1404273, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/250eb3053b0f4d3baad1c6c4b0e0a920?s=128&d=identicon&r=PG", "display_name": "MCHam", "link": "https://stackoverflow.com/users/1404273/mcham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 53752753, "answer_count": 2, "score": 0, "last_activity_date": 1544660329, "creation_date": 1544655425, "question_id": 53752663, "link": "https://stackoverflow.com/questions/53752663/setting-values-without-instantiating-a-new-object", "title": "Setting values without instantiating a new object", "body": "<p>What I am trying to do is be easily explain from the code.</p>\n\n<p>How can I achieve in getting the correct result without creating a new object every time?</p>\n\n<pre><code>    var optionsArr = new Array();\n    var labelObj = new Object();\n    labelObj.label = 'Pink';\n    labelObj.value = \"Pink1\";\n    optionsArr.push(labelObj);\n\n    labelObj.label = 'Green';\n    labelObj.value = \"Green2\";\n    optionsArr.push(labelObj);\n\n    console.log('optionsArr' + JSON.stringify(optionsArr));\n\nexpected result :  {\"label\":\"Pink\",\"value\":\"Pink1\"},{\"label\":\"Green\",\"value\":\"Green2\"}\n\n\nactual result :  {\"label\":\"Green\",\"value\":\"Green2\"},{\"label\":\"Green\",\"value\":\"Green2\"}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "dependency-injection", "decorator", "aurelia"], "comments": [{"owner": {"reputation": 4532, "user_id": 4450187, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4bd15ffbc419f4b78e83d561b028bb66?s=128&d=identicon&r=PG&f=1", "display_name": "messerbill", "link": "https://stackoverflow.com/users/4450187/messerbill"}, "edited": false, "score": 0, "creation_date": 1544657152, "post_id": 53752649, "comment_id": 94358670, "body": "I do not really understand your questionyou want to set the return type of <code>GetControl</code> to <code>Control</code>?"}, {"owner": {"reputation": 1217, "user_id": 4975275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nyaRN.png?s=128&g=1", "display_name": "Kenneth Moore", "link": "https://stackoverflow.com/users/4975275/kenneth-moore"}, "reply_to_user": {"reputation": 4532, "user_id": 4450187, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4bd15ffbc419f4b78e83d561b028bb66?s=128&d=identicon&r=PG&f=1", "display_name": "messerbill", "link": "https://stackoverflow.com/users/4450187/messerbill"}, "edited": false, "score": 0, "creation_date": 1544657992, "post_id": 53752649, "comment_id": 94358905, "body": "No, that I know how to do. <code>GetControl</code> also takes in the same function parameters as <code>Control.constructor</code> and I was hoping I could derive the type definition for <code>GetControl</code> from <code>Control</code>. If I use <code>public GetControl: &lt;Control&gt;()=&gt;{}</code> it will compile but I have no idea why."}], "answers": [{"comments": [{"owner": {"reputation": 1217, "user_id": 4975275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nyaRN.png?s=128&g=1", "display_name": "Kenneth Moore", "link": "https://stackoverflow.com/users/4975275/kenneth-moore"}, "edited": false, "score": 0, "creation_date": 1544661088, "post_id": 53753337, "comment_id": 94359663, "body": "Perfect!!! This is what I was looking for. Any chance you could explain how the conditional/infer part works in more detail?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 1217, "user_id": 4975275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nyaRN.png?s=128&g=1", "display_name": "Kenneth Moore", "link": "https://stackoverflow.com/users/4975275/kenneth-moore"}, "edited": false, "score": 0, "creation_date": 1544661385, "post_id": 53753337, "comment_id": 94359711, "body": "@KennethMoore I&#39;ll add a short explanation , the full explanation is in the links I reference."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 1217, "user_id": 4975275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nyaRN.png?s=128&g=1", "display_name": "Kenneth Moore", "link": "https://stackoverflow.com/users/4975275/kenneth-moore"}, "edited": false, "score": 0, "creation_date": 1544661627, "post_id": 53753337, "comment_id": 94359766, "body": "@KennethMoore added an explanation, let me know if it makes sense :)"}, {"owner": {"reputation": 1217, "user_id": 4975275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nyaRN.png?s=128&g=1", "display_name": "Kenneth Moore", "link": "https://stackoverflow.com/users/4975275/kenneth-moore"}, "edited": false, "score": 0, "creation_date": 1544702861, "post_id": 53753337, "comment_id": 94374777, "body": "the explanation makes sense and it is helpful. Thanks for this solution."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1544738534, "last_edit_date": 1544738534, "creation_date": 1544660556, "answer_id": 53753337, "question_id": 53752649, "link": "https://stackoverflow.com/questions/53752649/how-to-set-a-factory-function-to-implement-the-parameter-call-signature-of-the-c/53753337#53753337", "title": "How to Set a Factory Function to Implement the Parameter Call Signature of the Class it Generates in Typescript?", "body": "<p>As of TypeScript 2.8, we can get the type of <code>GetControl</code> from the class using tuples in rest parameters (read <a href=\"https://github.com/Microsoft/TypeScript/pull/24897\" rel=\"nofollow noreferrer\">here</a>) and conditional types (<a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">docs</a>).</p>\n\n<pre><code>class Control {\n  constructor(\n    options: {\n      tabIndex?: number\n    },\n    callbacks: {\n      onChange?: (event: any) =&gt; void,\n    }\n  ) {\n\n  }\n}\n\n// Create a function with the same return type and parameters as a constructor\ntype Factory&lt;T extends new (...a: any[]) =&gt; any&gt; =\n  T extends new (...a: infer A) =&gt; infer R ? (...a: A) =&gt; R : never;\n\nclass Form {\n  ;\n  public control: Control;\n  // Shorthand field definition, same as your code but shorter :)\n  constructor(public GetControl: Factory&lt;typeof Control&gt;) {\n  }\n  build() {\n    this.control = this.GetControl({ tabIndex: 0 }, null);\n  }\n}\n</code></pre>\n\n<p>The type <code>Factory</code> transforms a constructor to a function with the same arguments. The way we do this is using the inference behavior of conditional types. If <code>T</code> extends a constructor type (which it does because of the type constraint) we ask the compiler to put in <code>A</code> a tuple containing the types of all parameters (<code>...a: infer A</code>) and in <code>R</code> the return type of the constructor ( <code>=&gt; infer R</code>, this will be the class instance type). </p>\n\n<p>Using <code>A</code> and <code>R</code> we can define the wanted function, with the return type <code>R</code> and we spread the arguments of the constructor to the arguments of the function (<code>(...a: A) =&gt; R</code>)</p>\n"}], "owner": {"reputation": 1217, "user_id": 4975275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nyaRN.png?s=128&g=1", "display_name": "Kenneth Moore", "link": "https://stackoverflow.com/users/4975275/kenneth-moore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 53753337, "answer_count": 1, "score": 1, "last_activity_date": 1544738534, "creation_date": 1544655321, "question_id": 53752649, "link": "https://stackoverflow.com/questions/53752649/how-to-set-a-factory-function-to-implement-the-parameter-call-signature-of-the-c", "title": "How to Set a Factory Function to Implement the Parameter Call Signature of the Class it Generates in Typescript?", "body": "<p>I am not even sure if what I want to do is possible. I am using a framework that provides decorators for dependency injection and it is very messy to properly type the code example below:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class Control {\r\n  constructor(\r\n    options: {\r\n      tabIndex?: number\r\n    },\r\n    callbacks: {\r\n      onChange?: (event: any) =&gt; void,\r\n    }\r\n  ) {\r\n  \r\n  }\r\n}\r\n\r\n@inject(Factory.of(Control))\r\nclass Form {\r\n  public GetControl: any;\r\n  public control: Control;\r\n  \r\n  constructor(GetControl: any) {\r\n    this.GetControl = GetControl;\r\n  }\r\n  build() {\r\n    this.control = this.GetControl({tabIndex: 0}, null);\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Is there a way that I can set the type of <code>GetControl</code> without having to duplicate the parameter definitions in the Control Class like this: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public GetControl: (\r\n    options: {\r\n      tabIndex?: number\r\n    },\r\n    callbacks: {\r\n      onChange?: (event: any) =&gt; void,\r\n    }\r\n  ) =&gt; Control;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "three.js"], "comments": [{"owner": {"reputation": 329, "user_id": 4873743, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-j5H_Ry_48Tw/AAAAAAAAAAI/AAAAAAAAAC8/opImKNIxY88/photo.jpg?sz=128", "display_name": "Valimo Ral", "link": "https://stackoverflow.com/users/4873743/valimo-ral"}, "edited": false, "score": 0, "creation_date": 1544691877, "post_id": 53752621, "comment_id": 94368681, "body": "This is caused by my camera up vector which is not correct for &#39;top&#39; and &#39;bottom&#39; view. I have to set it to vector3(0,0,1)"}], "owner": {"reputation": 329, "user_id": 4873743, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-j5H_Ry_48Tw/AAAAAAAAAAI/AAAAAAAAAC8/opImKNIxY88/photo.jpg?sz=128", "display_name": "Valimo Ral", "link": "https://stackoverflow.com/users/4873743/valimo-ral"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1544763668, "creation_date": 1544655162, "last_edit_date": 1544763668, "question_id": 53752621, "link": "https://stackoverflow.com/questions/53752621/threejs-trackballcontroil-top-and-bottom-view-not-working", "title": "Threejs TrackBallControil top and bottom view not working", "body": "<p>I made a top,back,left,right,front,back views with my Trackballcontrol camera.\nBefore switching to another view, I call TrackBallControll reset method then I set my new position of my camera.\nIt works for all view except for top and back views. For this two last views, I cannot rotate my camera anymore.\nThis is my code:</p>\n\n<pre><code>function changeView(type) {\ncontrols.reset();\nif (type === 'front') {\n    camera.position.x = 0;\n    camera.position.y = 0;\n    camera.position.z = 500;\n} else if (type == 'back') {\n    camera.position.x = 0;\n    camera.position.y = 0;\n    camera.position.z = -500;\n} else if (type == 'top') {\n    camera.position.x = 0;\n    camera.position.y = 500;\n    camera.position.z = 0;\n} else if (type == 'bottom') {\n    camera.position.x = 0;\n    camera.position.y = -500;\n    camera.position.z = 0;\n} else if (type == 'right') {\n    camera.position.x = 500;\n    camera.position.y = 0;\n    camera.position.z = 0;\n} else if (type == 'left') {\n    camera.position.x = -500;\n    camera.position.y = 0;\n    camera.position.z = 0;\n}\ncamera.lookAt(scene.position);\n</code></pre>\n\n<p>}</p>\n\n<p>Why it behaves like that?</p>\n"}, {"tags": ["javascript", "testing", "dependency-injection"], "answers": [{"comments": [{"owner": {"reputation": 7109, "user_id": 1068446, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/F5uzH.jpg?s=128&g=1", "display_name": "dwjohnston", "link": "https://stackoverflow.com/users/1068446/dwjohnston"}, "edited": false, "score": 0, "creation_date": 1544656085, "post_id": 53752754, "comment_id": 94358340, "body": "But then I have to always pass an array as an argument."}, {"owner": {"reputation": 2176, "user_id": 5402401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dPV49.jpg?s=128&g=1", "display_name": "0.sh", "link": "https://stackoverflow.com/users/5402401/0-sh"}, "reply_to_user": {"reputation": 7109, "user_id": 1068446, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/F5uzH.jpg?s=128&g=1", "display_name": "dwjohnston", "link": "https://stackoverflow.com/users/1068446/dwjohnston"}, "edited": false, "score": 0, "creation_date": 1544656125, "post_id": 53752754, "comment_id": 94358351, "body": "then you should use our old friend <code>arguments</code>"}], "tags": [], "owner": {"reputation": 2176, "user_id": 5402401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dPV49.jpg?s=128&g=1", "display_name": "0.sh", "link": "https://stackoverflow.com/users/5402401/0-sh"}, "is_accepted": false, "score": 0, "last_activity_date": 1544656009, "creation_date": 1544656009, "answer_id": 53752754, "question_id": 53752586, "link": "https://stackoverflow.com/questions/53752586/dependency-injection-rest-and-default-function-parameters-for-the-same-function/53752754#53752754", "title": "Dependency injection: rest and default function parameters for the same function?", "body": "<p>rest parameters can only work as the last argument accepted by a function, it captures all argumets that were not declared in the function parameter. You can actually let go of the rest parameter and pass in an array</p>\n\n<pre><code>function a(numbers, _b = b) {\n   return numbers.map(n =&gt; _b(n)); \n}\n\nfunction b(n) {\n   return n+1; \n}\n\nconsole.log(a([1,2,3,4], f =&gt; f * 1));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7109, "user_id": 1068446, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/F5uzH.jpg?s=128&g=1", "display_name": "dwjohnston", "link": "https://stackoverflow.com/users/1068446/dwjohnston"}, "is_accepted": true, "score": 0, "last_activity_date": 1544675468, "last_edit_date": 1544675468, "creation_date": 1544656027, "answer_id": 53752757, "question_id": 53752586, "link": "https://stackoverflow.com/questions/53752586/dependency-injection-rest-and-default-function-parameters-for-the-same-function/53752757#53752757", "title": "Dependency injection: rest and default function parameters for the same function?", "body": "<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind\" rel=\"nofollow noreferrer\"><code>Function.prototype.bind()</code></a> (kinda) solves this!</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//The convention we will use here is that developers shouldn't use the \r\n// _underscore methods in production. \r\n\r\nexport const _a = function(_b, ...numbers) {\r\n return numbers.map(n =&gt; _b(n)); \r\n}; \r\n\r\nexport const b = function(n) {\r\n  return n+1; \r\n}\r\n\r\nexport const a = _a.bind(null, b); \r\n\r\nconsole.log(a(1,2,3)) //[2,3,4]</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This also has the advantage of that you're hiding the injected function from the developer. </p>\n\n<p>Now how would you test this? </p>\n\n<p>You have to test the _underscore method, so something like: </p>\n\n<pre><code>import { _a } from \"../functions\";\n\ndescribe(\"_a\", () =&gt; {\n\n    it(\"_a(1,2,3) calls _b three times.\", () =&gt; {\n        const mockFn = jest.fn();\n        const a = _a.bind(null, mockFn);\n\n        a(1, 2, 3);\n\n        expect(mockFn.mock.calls).toHaveLength(3);\n    })\n\n}); \n</code></pre>\n\n<p>If you're interested - I've started a <a href=\"https://github.com/dwjohnston/testing_with_jest/tree/master/dependencyInjection\" rel=\"nofollow noreferrer\">Github repo with a more fleshed out example of this approach here</a>. </p>\n\n<p>If anyone has a tidier way of doing this - I'm all ears. </p>\n"}], "owner": {"reputation": 7109, "user_id": 1068446, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/F5uzH.jpg?s=128&g=1", "display_name": "dwjohnston", "link": "https://stackoverflow.com/users/1068446/dwjohnston"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 53752757, "answer_count": 2, "score": -1, "last_activity_date": 1544675468, "creation_date": 1544654956, "question_id": 53752586, "link": "https://stackoverflow.com/questions/53752586/dependency-injection-rest-and-default-function-parameters-for-the-same-function", "title": "Dependency injection: rest and default function parameters for the same function?", "body": "<p>Say I have some code like this: </p>\n\n<pre><code>function a(...numbers) {\n   return numbers.map(n =&gt; b(n)); \n}\n\nfunction b(n) {\n   return n+1; \n}\n</code></pre>\n\n<p>I've been looking at ways I would test like code like this, specifically to test the functionality of <code>a</code> without actually calling <code>b</code>. </p>\n\n<p>One option is to use dependency injection, and to pass function b as a parameter. </p>\n\n<p>ie. </p>\n\n<pre><code>function a(...numbers, _b=b) {\n   return numbers.map(n =&gt; _b(n)); \n}\n</code></pre>\n\n<p>But of course, the rest operator won't allow me to tack an argument on the end. </p>\n\n<p>And I don't want to put the function argument  first - because then the developer is having to have to pass function b in every time, or whatever, or pass a null value or similar. </p>\n\n<p>Is there a way you could achieve this functionality? </p>\n"}, {"tags": ["javascript", "html", "css"], "answers": [{"tags": [], "owner": {"reputation": 595, "user_id": 7823264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a7353c901e5e176c53fa7f143b12f39?s=128&d=identicon&r=PG", "display_name": "Geat", "link": "https://stackoverflow.com/users/7823264/geat"}, "is_accepted": false, "score": 0, "last_activity_date": 1544655512, "creation_date": 1544655512, "answer_id": 53752677, "question_id": 53752585, "link": "https://stackoverflow.com/questions/53752585/is-there-any-way-i-can-make-this-two-boxes-slide-in-from-each-side-when-scroll-d/53752677#53752677", "title": "Is there any way i can make this two boxes slide in from each side when scroll down?", "body": "<p>Would you consider using a library? There's some great ones out there like <a href=\"http://scrollmagic.io/\" rel=\"nofollow noreferrer\">http://scrollmagic.io/</a> that allow you to trigger events based on the scroll position.</p>\n"}, {"tags": [], "owner": {"reputation": 132, "user_id": 9236408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65d27073450f7eb65613c7be3707e13f?s=128&d=identicon&r=PG&f=1", "display_name": "DMVerfurth", "link": "https://stackoverflow.com/users/9236408/dmverfurth"}, "is_accepted": false, "score": 1, "last_activity_date": 1544659015, "last_edit_date": 1544659015, "creation_date": 1544658337, "answer_id": 53753079, "question_id": 53752585, "link": "https://stackoverflow.com/questions/53752585/is-there-any-way-i-can-make-this-two-boxes-slide-in-from-each-side-when-scroll-d/53753079#53753079", "title": "Is there any way i can make this two boxes slide in from each side when scroll down?", "body": "<p>So, you wanted to move two elements in from opposite sides as the user scrolls down using html, css, and javascript. First we will need to set up the divs (or whatever element) in our html file:</p>\n\n<p><strong>Index.html</strong></p>\n\n<pre><code>&lt;html&gt;\n  &lt;head&gt;\n    &lt;link rel='stylesheet' href='style.css'&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;div class='txt_1' id='txt_1'&gt;Left&lt;/div&gt;\n    &lt;div class='txt_2' id='txt_2'&gt;Right&lt;/div&gt;\n    &lt;script src='script.js'&gt;&lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Next we will have to set up out CSS, we will be using CSS transitions so that we don't have to deal with messy javascript animations.</p>\n\n<p><strong>Style.css</strong></p>\n\n<pre><code>.txt_1 {\n\n  width: 500px; /* or whatever you want */\n  height: 100px; /* or whatever you want */\n  background-color: red; /* so you can see it */\n  position: absolute; /* allows to set the position of the element */\n  top: 5000px; /* this is most likely off your screen */\n  left: -500px; /* the width of the element with a \"-\" sign before it :3 */\n  transition: 0.5s; /* a generic way of css animation (I was too lazy to put webkit stuffs) */\n\n}\n\n.txt_2 {\n\n  width: 500px; /* or whatever you want */\n  height: 100px; /* or whatever you want */\n  background-color: orange; /* so you can see it */\n  position: absolute; /* allows to set the position of the element */\n  top: 4000px /* because its not 5000px */\n  right: 500px; /* the width of the element*/\n  transition: 0.5s; /* a generic way of css animation (I was too lazy to put webkit stuffs) */\n\n}\n</code></pre>\n\n<p>Next we will have to simply use some logic to change the elements position when the user scrolls.</p>\n\n<p><strong>Script.js</strong></p>\n\n<pre><code>document.body.onscroll = function () {\n  // scroll height + height of window &gt; txt_1 Y position (parseInt(document.getElementById('txt_1').style.top, 10))\n  if (window.scrollY + window.innerHeight &gt; 5000) {\n\n    // top of div is on screen, if you add or subtract numbers to the first part of the if statement, you will change the offset at wich is slides in\n    // gives div new position of right on screen border (or float left)\n    document.getElementById('txt_1').style.left = 0;\n\n  }\n\n  // scroll height + height of window &gt; txt_2 Y position (document.getElementById('txt_2').style.top)\n  if (window.scrollY + window.innerHeight &gt; 4000) {\n\n    // top of div is on screen, if you add or subtract numbers to the first part of the if statement, you will change the offset at wich is slides in\n    // gives div new position of right on screen border (or float right)\n    document.getElementById('txt_2').style.right = 0;\n\n  }\n\n}\n</code></pre>\n\n<p>That should answer your question (How do I get an element slide in on scroll?). The code should work, but I wrote it on the fly so... it have an error or two. <em>Any errors should be an easy fix e.g add a semicolon</em></p>\n"}], "owner": {"reputation": 83, "user_id": 10740762, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Lw4iVskFjWI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jio5gXBMPRLWSW0tauBeFV99E9mA/mo/photo.jpg?sz=128", "display_name": "Adnan Cejvan", "link": "https://stackoverflow.com/users/10740762/adnan-cejvan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1544659015, "creation_date": 1544654955, "question_id": 53752585, "link": "https://stackoverflow.com/questions/53752585/is-there-any-way-i-can-make-this-two-boxes-slide-in-from-each-side-when-scroll-d", "title": "Is there any way i can make this two boxes slide in from each side when scroll down?", "body": "<p>Im trying to make this two boxes slide in from each side like an animation when i scroll down the page. Could someone show me how, i have been trying to look it up on google but dont find it.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.row{ \r\ndisplay: inline-block;\r\nmargin-top: 60px;\r\n}\r\n.image-happy {\r\n\theight: 300px;\r\n\twidth: 455px;\r\n\tfloat: left;\r\n\t background: url(/TeknikSnabben/assets/image/happy.jpg);\r\n\t border-radius: 50px 20px;\r\n}\r\n.text-happy {\r\n\tfloat: left;\r\n\twidth: 450px;\r\n\theight: 300px;\r\n\tmargin: 20px;\r\n\t\tfont-size: 14px;\r\n\t\tfont-weight: 300; \r\n\t\tfont-family: 'Open Sans', sans-serif;\r\n}\r\n.text-happy p{\r\n\t\tfont-size: 18px;\r\n\t\tfont-weight: 300; \r\n\t\tfont-family: 'Open Sans', sans-serif;\r\n\t\topacity: 0.6;\r\n}\r\n.text-happy h3{\r\n\t\tfont-size: 23px;\r\n\t\tfont-weight: 400px; \r\n\t\tfont-family: 'Open Sans', sans-serif;\r\n\t\topacity: 0.5;\r\n}\r\n\t\t</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>\t\t\t&lt;div class=\"row\"&gt;\r\n            &lt;div class=\"image-happy\"&gt;&lt;/div&gt;\r\n            &lt;div class=\"text-happy\"&gt;&lt;h3&gt;N\u00d6JDA KUNDER&lt;hr width=\"200px\"&gt;&lt;/h3&gt;&lt;p&gt; m\u00f6jligt sa ser vi till att ge det en chans.&lt;/p&gt;&lt;/div&gt;\r\n            &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><a href=\"https://i.stack.imgur.com/auDis.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/auDis.png\" alt=\"image\"></a></p>\n"}, {"tags": ["javascript", "parsing"], "comments": [{"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1544655068, "post_id": 53752584, "comment_id": 94358007, "body": "What does the <i>correct</i> output look like? Are you trying to tokenize your string so that you have numbers and operators?"}, {"owner": {"reputation": 1418, "user_id": 8964160, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wMXwl.png?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/8964160/jack"}, "reply_to_user": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1544655070, "post_id": 53752584, "comment_id": 94358008, "body": "The second array (`[&quot;+10x&quot;, &quot;+10&quot;])"}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1544655097, "post_id": 53752584, "comment_id": 94358017, "body": "&quot;But it doesn&#39;t work&quot; What happens when you run this code? And how does it differ from what you want?"}, {"owner": {"reputation": 1418, "user_id": 8964160, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wMXwl.png?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/8964160/jack"}, "edited": false, "score": 0, "creation_date": 1544655194, "post_id": 53752584, "comment_id": 94358053, "body": "It runs through if I put just one character <code>6</code> but as soon as I put <code>+ - *</code> or <code>&#47;</code> it messes up the script and says <code>function not defined</code> when I run it again"}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 2, "creation_date": 1544655209, "post_id": 53752584, "comment_id": 94358062, "body": "I also suggest you research different parsing techniques. If you want to parse an arbitrary mathematical expression (or even just a polynomial), you will need to use more sophisticated techniques."}, {"owner": {"reputation": 1178, "user_id": 6363273, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fe42bbac197395210bccc4a68df10102?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Gibbs", "link": "https://stackoverflow.com/users/6363273/ryan-gibbs"}, "edited": false, "score": 2, "creation_date": 1544655547, "post_id": 53752584, "comment_id": 94358166, "body": "The &quot;&#39;statment&#39; is not defined&quot; error is because you misspelled statement twice and the compiler is not finding the variable &#39;statment&#39; as there is only one called &#39;statement&#39;."}], "answers": [{"comments": [{"owner": {"reputation": 1418, "user_id": 8964160, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wMXwl.png?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/8964160/jack"}, "edited": false, "score": 0, "creation_date": 1544657372, "post_id": 53752815, "comment_id": 94358741, "body": "Thanks but this doesn&#39;t keep the symbol"}], "tags": [], "owner": {"reputation": 756, "user_id": 10731197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MMlHg.jpg?s=128&g=1", "display_name": "Kresimir", "link": "https://stackoverflow.com/users/10731197/kresimir"}, "is_accepted": false, "score": 0, "last_activity_date": 1544656387, "creation_date": 1544656387, "answer_id": 53752815, "question_id": 53752584, "link": "https://stackoverflow.com/questions/53752584/split-string-with-numbers/53752815#53752815", "title": "Split string with numbers", "body": "<p>Keep in mind that <code>Array.prototype.split()</code> can take a regular expressions: </p>\n\n<pre><code>let str = \"10x + 10\";\nlet arr = str.split(/[+|-|\\*|/]/);\nconsole.log(arr); // output: [\"10x \", \" 10\"];\n</code></pre>\n\n<p>This is not a good way to parse arithmetical expressions, though. To do that, I recommend the <a href=\"https://en.wikipedia.org/wiki/Shunting-yard_algorithm\" rel=\"nofollow noreferrer\">Shunting-yard algorithm</a>.</p>\n"}], "owner": {"reputation": 1418, "user_id": 8964160, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wMXwl.png?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/8964160/jack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544656387, "creation_date": 1544654954, "last_edit_date": 1544655096, "question_id": 53752584, "link": "https://stackoverflow.com/questions/53752584/split-string-with-numbers", "title": "Split string with numbers", "body": "<p>I've been trying to split a string by numbers. Basically I have a string such as:</p>\n\n<pre><code>\"10x + 10\"\n</code></pre>\n\n<p>JS splits it and gets:</p>\n\n<pre><code>[\"+10x\", \"+10\"]\n</code></pre>\n\n<p>I've tried doing this a few times but haven't hit success. If I understand it right I just need to split it by <code>+ - / *</code>. My best attempt was this:</p>\n\n<pre><code>var statement = [\"10x + 10\"]\nvar spliters = ['+', '-', '*', '/'];\n\nfor (i = 0; i &lt; spliters.length; i++) {\n    for (o = 0; o &lt; statement.length; o++) {\n        statement[o] = statment[o].split(spliters[i]);\n        for (p = 0; p &lt; statment[o].length - 1; p++) {\n            statement[o][p] = spliters[i] + statement[o][p];\n        }\n        statement = flatten(statement);\n    }\n}\n</code></pre>\n\n<p>But it doesn't work. Also I only want <code>+</code> and <code>-</code> to be in front on the array elements and not <code>*</code> and <code>/</code>. If anyone could help me with this is would be much appreciated.</p>\n"}, {"tags": ["javascript", "html"], "answers": [{"tags": [], "owner": {"reputation": 3227, "user_id": 1290373, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a192b12a19435b146cdbbdd4be2dfd75?s=128&d=identicon&r=PG&f=1", "display_name": "Dave Salomon", "link": "https://stackoverflow.com/users/1290373/dave-salomon"}, "is_accepted": true, "score": 2, "last_activity_date": 1544655174, "creation_date": 1544655174, "answer_id": 53752623, "question_id": 53752566, "link": "https://stackoverflow.com/questions/53752566/apply-change-text-color-to-specific-header-style/53752623#53752623", "title": "Apply change text color to specific header style", "body": "<p>Just amend your selector to only select elements within <code>.header_home</code>.</p>\n\n<pre><code>$(\".header_home .pcnav.navlinks\").addClass(\"navblacktext\");\n</code></pre>\n"}], "owner": {"reputation": 301, "user_id": 10610647, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jIc00gOWUY0/AAAAAAAAAAI/AAAAAAAAAZg/fK0-7fdgzvw/photo.jpg?sz=128", "display_name": "JTR", "link": "https://stackoverflow.com/users/10610647/jtr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19, "favorite_count": 0, "accepted_answer_id": 53752623, "answer_count": 1, "score": 0, "last_activity_date": 1544655174, "creation_date": 1544654859, "last_edit_date": 1544654969, "question_id": 53752566, "link": "https://stackoverflow.com/questions/53752566/apply-change-text-color-to-specific-header-style", "title": "Apply change text color to specific header style", "body": "<p>Hi does anyone know how to word this script so that it specifically targets my home header style and not the global header style,</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    $(document).ready(function(){       \r\n    var scroll_pos = 0;\r\n    $(document).scroll(function() { \r\n        scroll_pos = $(this).scrollTop();\r\n        if(scroll_pos &gt; 50) {\r\n            $(\".pcnav.navlinks\").addClass(\"navblacktext\");\r\n            \r\n        } \r\n        else {\r\n            $(\".pcnav.navlinks\").removeClass(\"navblacktext\");\r\n            \r\n        } \r\n    });\r\n    });</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;header class=\"header_home\"&gt;\r\n\r\n    &lt;div class=\"topnav\" id=\"myTopnav\"&gt;&lt;div&gt;&lt;img src=\"IMAGES/Logo- \r\n    Icon.png\" class=\"logo\" width=\"48px\"&gt;&lt;/div&gt;\r\n\r\n    &lt;div class=\"navwrap\"&gt;\r\n    &lt;a class=\"pcnav navlinks\" href=\"#\"&gt;Home&lt;/a&gt;\r\n    &lt;a class=\"pcnav navlinks\" href=\"#services-target\"&gt;Capabilities&lt;/a&gt;\r\n    &lt;a class=\"pcnav navlinks\" href=\"Portfolio.html\"&gt;Portfolio&lt;/a&gt;\r\n    &lt;a class=\"pcnav navlinks\" id=\"aboutus\" href=\"about-us.html\"&gt;About&lt;/a&gt;\r\n    &lt;a class=\"pcnav navlinks\" href=\"#contact-target\"&gt;Contact&lt;/a&gt;\r\n\r\n    &lt;a href=\"javascript:void(0);\" class=\"icon\" onclick=\"myFunction()\"&gt;\r\n\r\n    &lt;button class=\"hamburger hamburger--collapse is-active\" \r\n    type=\"button\"&gt;\r\n    &lt;span class=\"hamburger-box\"&gt;&lt;span class=\"hamburger-inner\"&gt;&lt;/span&lt;/span&gt;\r\n    &lt;/button&gt;\r\n    &lt;/a&gt;\r\n    &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;/header&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Would appreciate any help! the other headers are wrapped in \"header_global\" instead of \"header_home\".</p>\n"}, {"tags": ["javascript", "jquery", "html", "audio", "playback"], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 10783296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bca38067d5e92f95349672778783215c?s=128&d=identicon&r=PG&f=1", "display_name": "Nikola Zaykov", "link": "https://stackoverflow.com/users/10783296/nikola-zaykov"}, "is_accepted": true, "score": 1, "last_activity_date": 1544655595, "creation_date": 1544655595, "answer_id": 53752692, "question_id": 53752499, "link": "https://stackoverflow.com/questions/53752499/jquery-html5-audio-move-step-back-or-jump-forward-shortcut/53752692#53752692", "title": "jQuery html5 audio move step back or jump forward shortcut", "body": "<p>Your js need to look like this</p>\n\n<pre><code>var video = document.getElementById(\"myAudio\");\n$(document).keypress(function(e) {\n    // \\\n    if ((e.which == 92) || (e.keyCode==92)) {\n        if (video.paused)\n            video.play();\n        else\n            video.pause();\n    }\n});\n\n$(document).keydown(function(e) {\n    if ((e.which == 37) || (e.keyCode == 37)) {\n        if (video.currentTime - 5 &gt; 0) {\n            video.currentTime -= 5;\n        }\n    }\n\n    if ((e.which == 39) || (e.keyCode == 39)) {\n        if (video.currentTime + 5 &lt; video.duration) {\n            video.currentTime += 5;\n        }\n    }\n});\n</code></pre>\n\n<p>Arrow keys are triggered by keydown not keypress function.</p>\n"}], "owner": {"reputation": 1295, "user_id": 1114465, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/422d1bf1bbe6494156963f01ae0e619b?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/1114465/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 0, "accepted_answer_id": 53752692, "answer_count": 1, "score": 0, "last_activity_date": 1544655595, "creation_date": 1544654555, "question_id": 53752499, "link": "https://stackoverflow.com/questions/53752499/jquery-html5-audio-move-step-back-or-jump-forward-shortcut", "title": "jQuery html5 audio move step back or jump forward shortcut", "body": "<p>I am using the following code to play/pause html5 audio player using the button <code>\\</code>:</p>\n\n<pre><code>$(document).keypress(function(e) {\n\n                var video = document.getElementById(\"myAudio\");\n                // \\\n                if ((e.which == 92) || (e.keyCode==92)) {\n                    if (video.paused)\n                        video.play();\n                    else\n                        video.pause();\n                }\n            });\n</code></pre>\n\n<p>I want to add keyboard shortcuts to step back 5 seconds (using ctrl+left arrow) or jump forward 5 seconds (using ctrl+right arrow) from the current location.</p>\n\n<p>I have a script, but I am not sure how to edit it to do that:</p>\n\n<pre><code>let toggleChecked, toggleEnabled, observer, dirVideo, settings = {\n    skip:      5,\n};\n\n    skipLeft: function(v,key,ctrl){\n            v.currentTime -= settings.skip;\n    },\n\n    skipRight: function(v,key,ctrl){\n            v.currentTime += settings.skip;\n    },\n</code></pre>\n\n<p>Here is a jsfiddle with the first script: <a href=\"https://jsfiddle.net/12jpk4L0/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/12jpk4L0/</a></p>\n"}, {"tags": ["javascript", "jquery", "html", "html5-video"], "comments": [{"owner": {"reputation": 173187, "user_id": 128165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cdef5bd2099545a776ee86fb8049bdc6?s=128&d=identicon&r=PG", "display_name": "Gabriele Petrioli", "link": "https://stackoverflow.com/users/128165/gabriele-petrioli"}, "edited": false, "score": 0, "creation_date": 1544654807, "post_id": 53752489, "comment_id": 94357912, "body": "There is no <code>#iphoneStick</code> element in you code. You should  set the <code>src</code> property on <code>#iphonevideo</code>."}, {"owner": {"reputation": 119, "user_id": 7304424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee220d0ec8e7aaa3d30f36e5184244ef?s=128&d=identicon&r=PG&f=1", "display_name": "Iv&#225;n ", "link": "https://stackoverflow.com/users/7304424/iv%c3%a1n"}, "reply_to_user": {"reputation": 173187, "user_id": 128165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cdef5bd2099545a776ee86fb8049bdc6?s=128&d=identicon&r=PG", "display_name": "Gabriele Petrioli", "link": "https://stackoverflow.com/users/128165/gabriele-petrioli"}, "edited": false, "score": 0, "creation_date": 1544655393, "post_id": 53752489, "comment_id": 94358115, "body": "Sorry, it was a mistake. Edited but still not work."}], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 7304424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee220d0ec8e7aaa3d30f36e5184244ef?s=128&d=identicon&r=PG&f=1", "display_name": "Iv&#225;n ", "link": "https://stackoverflow.com/users/7304424/iv%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1544658486, "post_id": 53752942, "comment_id": 94359038, "body": "Thanks, now I&#39;m able to change videos. Now the problem is only it is checked the viewport once, so the video 1 is not played again once the headline 1 is visible.  I think the js logic is wrong. Any suggestions?"}], "tags": [], "owner": {"reputation": 113, "user_id": 7420765, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tP72c9pQ1_g/AAAAAAAAAAI/AAAAAAAAAR0/hw4KF1Y670Q/photo.jpg?sz=128", "display_name": "Kley Andromorfia", "link": "https://stackoverflow.com/users/7420765/kley-andromorfia"}, "is_accepted": false, "score": 1, "last_activity_date": 1544666782, "last_edit_date": 1544666782, "creation_date": 1544657241, "answer_id": 53752942, "question_id": 53752489, "link": "https://stackoverflow.com/questions/53752489/change-html-5-autoplayed-video-source-dynamically/53752942#53752942", "title": "Change HTML 5 autoplayed video source dynamically", "body": "<p>Check the page, it's not the viewport ()</p>\n\n<p>I could tell you that you are changing the src every time you scroll while it is visible, this is causing the video to restart. You must make a validation, if it has already been changed the src should not be changed again.</p>\n\n<p>Note that # headline2 is not visible when # headline3 is a bit up.</p>\n\n<p>you have to scroll down until the end of the page to enter this condition.</p>\n\n<p>You could use another smaller element at the beginning of each #headline to do this validation.</p>\n\n<p>you could use the first p of the #headline</p>\n\n<p>For example:</p>\n\n<pre><code>$(window).on('resize scroll', function() {\n   var player = document.getElementById('iphonevideo2');\n   if ($('#headline2 p').eq(0).isInViewport()) {\n\n      var source = document.getElementById('video1');\n      var url = \"assets/img/iphone-video-1.mp4\";\n      var src = $(source).attr(\"src\");\n      // validate if you already have the src\n      if(src==url) return; // if exists src leaves function\n\n      $(source).attr(\"src\", url);\n      player.pause();\n      player.load();\n\n  } else if ($('#headline3 p').eq(0).isInViewport()) {\n\n      var source = document.getElementById('video1');\n      var src = $(source).attr(\"src\");\n      var url = \"assets/img/iphone-video.mp4\";\n      // validate if you already have the src\n      if(src==url) return; // if exists src leaves function\n\n      $(source).attr(\"src\", url);\n      player.pause();\n      player.load();\n\n  }\n})\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 7304424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee220d0ec8e7aaa3d30f36e5184244ef?s=128&d=identicon&r=PG&f=1", "display_name": "Iv&#225;n ", "link": "https://stackoverflow.com/users/7304424/iv%c3%a1n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544666782, "creation_date": 1544654490, "last_edit_date": 1544658677, "question_id": 53752489, "link": "https://stackoverflow.com/questions/53752489/change-html-5-autoplayed-video-source-dynamically", "title": "Change HTML 5 autoplayed video source dynamically", "body": "<p>On my website <a href=\"https://cravydev.netlify.com\" rel=\"nofollow noreferrer\">https://cravydev.netlify.com</a> I'm trying to change the video dynamically when the different headlines are in viewport.</p>\n\n<p>I'm using a div with HTML 5 autoplay and loop properties, but not able yet to change the video source and load again when the specific headline is on screen. Here are the details.</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;div class=\"iphone-sticky\"&gt;&lt;/div&gt;\n  &lt;div class=\"iphone-video\"&gt;\n     &lt;video autoplay loop muted poster=\"assets/img/poster.png\" id=\"iphonevideo\"&gt;\n       &lt;source id=\"video1\" src=\"assets/img/iphone-video.mp4\" type=\"video/mp4\"&gt;\n       &lt;source id=\"video2\" src=\"assets/img/iphone-video-1.mp4\" type=\"video/mp4\"&gt;\n       &lt;/video&gt; \n</code></pre>\n\n<p>JS</p>\n\n<pre><code>//Detect is element is in viewport\n$(window).on('resize scroll', function() {\nvar player = document.getElementById('iphonevideo2');\nif ($('#headline2').isInViewport()) {\n    var source = document.getElementById('video1');\n    $(source).attr(\"src\", \"assets/img/iphone-video-1.mp4\");\n    player.pause();\n    player.load();\n} else if ($('#headline3').isInViewport()) {\n    var source = document.getElementById('video1');\n    $(source).attr(\"src\", \"assets/img/iphone-video.mp4\");\n    player.pause();\n    player.load();\n} \n</code></pre>\n\n<p>});</p>\n\n<p>EDIT</p>\n\n<p>I have been able to solve it thanks to Kley comment. Now the problem is that the js logic does not check constantly the viewport visibility of headlines, only once. Also, the video is played while scrolling and the poster image appears, making the whole experience a little bit weird.</p>\n\n<p>Any suggestion to solve that?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "html", "css", "bootstrap-4"], "comments": [{"owner": {"reputation": 555, "user_id": 5073308, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1022561461088373/picture?type=large", "display_name": "Rick Sibley", "link": "https://stackoverflow.com/users/5073308/rick-sibley"}, "edited": false, "score": 0, "creation_date": 1544654932, "post_id": 53752437, "comment_id": 94357964, "body": "Missing some stuff. Your form does not have and opening tag, same with the table."}, {"owner": {"reputation": 1863, "user_id": 1739000, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ZZjEi.png?s=128&g=1", "display_name": "NH.", "link": "https://stackoverflow.com/users/1739000/nh"}, "edited": false, "score": 0, "creation_date": 1544655712, "post_id": 53752437, "comment_id": 94358224, "body": "Can you try turning it into a <a href=\"https://stackoverflow.blog/2014/09/16/introducing-runnable-javascript-css-and-html-code-snippets/\">StackSnippet</a>?"}], "answers": [{"tags": [], "owner": {"reputation": 25691, "user_id": 1675954, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zZXdA.jpg?s=128&g=1", "display_name": "Rachel Gallen", "link": "https://stackoverflow.com/users/1675954/rachel-gallen"}, "is_accepted": true, "score": 0, "last_activity_date": 1544663822, "creation_date": 1544663822, "answer_id": 53753699, "question_id": 53752437, "link": "https://stackoverflow.com/questions/53752437/date-range-picker-and-calculator/53753699#53753699", "title": "date range picker and calculator", "body": "<p>To begin, I inserted a beginning  tag after the end of the table, and inserted the missing closing <code>&lt;div&gt;</code> tag at the end of your form-groups. The inputs that you have noted to accept dates were set to type \"text\". I changed these two to <code>input type=\"date\"</code>\nNow the calendar dropdown shows on both inputs. You can use js to <a href=\"https://www.htmlgoodies.com/html5/javascript/calculating-the-difference-between-two-dates-in-javascript.html\" rel=\"nofollow noreferrer\">calculate the difference between the two selected dates</a>, and calculate according to the relevant prices. \nAlternatively you could use something like the open-source <a href=\"http://www.daterangepicker.com/\" rel=\"nofollow noreferrer\">daterangepicker</a> tool by Dan Grossman if you would prefer to choose both dates in one picking.</p>\n\n<p>Hope this helps.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>update_amounts();\r\n$('select').change(update_amounts);\r\n\r\nfunction update_amounts() {\r\n  var sum = 0.0;\r\n  $('#tickets &gt; tbody  &gt; tr').each(function() {\r\n    var qty = $(this).find('option:selected').val();\r\n    var price = $(this).find('.price').text().replace(/[^\\d.]/, '');\r\n    var amount = (qty * price);\r\n    sum += amount;\r\n    $(this).find('.subtotal').text('$' + amount);\r\n  });\r\n  $('#total').val('$' + sum);\r\n  $('#total').val('$')\r\n};</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;body&gt;\r\n  &lt;table&gt;\r\n\r\n    &lt;tbody&gt;\r\n      &lt;tr&gt;\r\n        &lt;td&gt;&lt;strong&gt;Adult&lt;/strong&gt;&lt;a href=\"#\" class=\"tooltip-1\" data-placement=\"top\" title=\"\" data-original-title=\"16 - 65 years old\"&gt;&lt;sup class=\"icon-info-4\"&gt;&lt;/sup&gt;&lt;/a&gt;\r\n          &lt;span class=\"price\"&gt;3,400&lt;/span&gt;\r\n        &lt;/td&gt;\r\n        &lt;td&gt;\r\n          &lt;div class=\"styled-select\"&gt;\r\n            &lt;select class=\"form-control\" name=\"adults\" id=\"adults\"&gt;\r\n              &lt;option value=\"\"&gt;Select&lt;/option&gt;\r\n              &lt;option value=\"0\"&gt;0&lt;/option&gt;\r\n              &lt;option value=\"1\"&gt;1&lt;/option&gt;\r\n              &lt;option value=\"2\"&gt;2&lt;/option&gt;\r\n\r\n            &lt;/select&gt;\r\n          &lt;/div&gt;\r\n        &lt;/td&gt;\r\n        &lt;td class=\"text-center\"&gt;&lt;span class=\"subtotal\"&gt;ksh 0&lt;/span&gt;\r\n        &lt;/td&gt;\r\n      &lt;/tr&gt;\r\n      &lt;tr&gt;\r\n        &lt;td&gt;&lt;strong&gt;Senior&lt;/strong&gt;&lt;a href=\"#\" class=\"tooltip-1\" data-placement=\"top\" title=\"\" data-original-title=\"Over 65 years old\"&gt;&lt;sup class=\"icon-info-4\"&gt;\r\n    \r\n                                                &lt;/sup&gt;&lt;/a&gt;&lt;span class=\"price\"&gt;3,400&lt;/span&gt;\r\n        &lt;/td&gt;\r\n        &lt;td&gt;\r\n          &lt;div class=\"styled-select\"&gt;\r\n            &lt;select class=\"form-control\" name=\"senior\" id=\"senior\"&gt;\r\n              &lt;option value=\"\"&gt;Select&lt;/option&gt;\r\n              &lt;option value=\"0\"&gt;0&lt;/option&gt;\r\n              &lt;option value=\"1\"&gt;1&lt;/option&gt;\r\n              &lt;option value=\"2\"&gt;2&lt;/option&gt;\r\n\r\n            &lt;/select&gt;\r\n          &lt;/div&gt;\r\n        &lt;/td&gt;\r\n        &lt;td class=\"text-center\"&gt;&lt;span class=\"subtotal\"&gt;$0&lt;/span&gt;\r\n        &lt;/td&gt;\r\n      &lt;/tr&gt;\r\n      &lt;tr&gt;\r\n        &lt;td&gt;&lt;strong&gt;Student &gt;15 yrs&lt;/strong&gt; &lt;span class=\"price\"&gt;2,000&lt;/span&gt; &lt;/td&gt;\r\n        &lt;td&gt;\r\n          &lt;div class=\"styled-select\"&gt;\r\n            &lt;select class=\"form-control\" name=\"student\" id=\"student\"&gt;\r\n              &lt;option value=\"\"&gt;Select&lt;/option&gt;\r\n              &lt;option value=\"0\"&gt;0&lt;/option&gt;\r\n              &lt;option value=\"1\"&gt;1&lt;/option&gt;\r\n              &lt;option value=\"2\"&gt;2&lt;/option&gt;\r\n\r\n            &lt;/select&gt;\r\n          &lt;/div&gt;\r\n        &lt;/td&gt;\r\n        &lt;td class=\"text-center\"&gt;&lt;span class=\"subtotal\"&gt;$0&lt;/span&gt;\r\n        &lt;/td&gt;\r\n      &lt;/tr&gt;\r\n    &lt;/tbody&gt;\r\n  &lt;/table&gt;\r\n\r\n  &lt;form&gt;\r\n    &lt;div class=\"form-group\"&gt;\r\n      &lt;label&gt;From?&lt;/label&gt;\r\n      &lt;input type=\"date\" class=\"form-control\" id=\"date_pick\" name=\"date_pick\" data-date-format=\"M d, D\" placeholder=\"Select a date\"&gt;\r\n      &lt;div class=\"form-group\"&gt;\r\n        &lt;label&gt;To?&lt;/label&gt;\r\n        &lt;input type=\"date\" class=\"form-control\" id=\"date_pick\" name=\"date_pick\" data-date-format=\"M d, D\" placeholder=\"Select a date\"&gt;\r\n      &lt;/div&gt;\r\n      &lt;div class=\"form-group\"&gt;\r\n        &lt;label&gt;Name and Lastname&lt;/label&gt;\r\n        &lt;input type=\"text\" class=\"form-control\" id=\"name_lastname_booking\" name=\"name_lastname_booking\" placeholder=\"Name and Lastname\"&gt;\r\n      &lt;/div&gt;\r\n      &lt;div class=\"form-group\"&gt;\r\n        &lt;label&gt;Email&lt;/label&gt;\r\n        &lt;input type=\"email\" class=\"form-control\" id=\"email_booking\" name=\"email_booking\" placeholder=\"Email\"&gt;\r\n      &lt;/div&gt;\r\n      &lt;div class=\"form-group\"&gt;\r\n        &lt;label&gt;Telephone&lt;/label&gt;\r\n        &lt;input type=\"text\" class=\"form-control\" id=\"telephone_booking\" name=\"telephone_booking\" placeholder=\"Telephone\"&gt;\r\n      &lt;/div&gt;\r\n      &lt;div class=\"form-group add_bottom_30\"&gt;\r\n\r\n      &lt;/div&gt;\r\n      &lt;div class=\"form-group\"&gt;\r\n        &lt;input type=\"submit\" value=\"Book now\" class=\"btn_full\" id=\"submit-booking\"&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n  &lt;/form&gt;\r\n\r\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 11, "user_id": 9856409, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-pYeqBVCh5uQ/AAAAAAAAAAI/AAAAAAAAABk/jCYWbH-To8E/photo.jpg?sz=128", "display_name": "Charles", "link": "https://stackoverflow.com/users/9856409/charles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "accepted_answer_id": 53753699, "answer_count": 1, "score": 1, "last_activity_date": 1544663822, "creation_date": 1544654223, "last_edit_date": 1544662849, "question_id": 53752437, "link": "https://stackoverflow.com/questions/53752437/date-range-picker-and-calculator", "title": "date range picker and calculator", "body": "<p>I have a hotel booking form that calculates the prices per person depending on number of adults, seniors and students. I want to include a date range picker that will calculate the total cost depending on number of days selected but the when i include a second calendar, it does not show (no drop down). How can I include the second calendar that will allow selection of the end date and calculate the total cost?      </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>update_amounts();\r\n$('select').change(update_amounts);\r\n\r\nfunction update_amounts() {\r\n  var sum = 0.0;\r\n  $('#tickets &gt; tbody  &gt; tr').each(function() {\r\n    var qty = $(this).find('option:selected').val();\r\n    var price = $(this).find('.price').text().replace(/[^\\d.]/, '');\r\n    var amount = (qty * price);\r\n    sum += amount;\r\n    $(this).find('.subtotal').text('$' + amount);\r\n  });\r\n  $('#total').val('$' + sum);\r\n  $('#total').val('$')\r\n};</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;body&gt;\r\n  &lt;table&gt;\r\n\r\n    &lt;tbody&gt;\r\n      &lt;tr&gt;\r\n        &lt;td&gt;&lt;strong&gt;Adult&lt;/strong&gt;&lt;a href=\"#\" class=\"tooltip-1\" data-placement=\"top\" title=\"\" data-original-title=\"16 - 65 years old\"&gt;&lt;sup class=\"icon-info-4\"&gt;&lt;/sup&gt;&lt;/a&gt;\r\n          &lt;span class=\"price\"&gt;3,400&lt;/span&gt;\r\n        &lt;/td&gt;\r\n        &lt;td&gt;\r\n          &lt;div class=\"styled-select\"&gt;\r\n            &lt;select class=\"form-control\" name=\"adults\" id=\"adults\"&gt;\r\n              &lt;option value=\"\"&gt;Select&lt;/option&gt;\r\n              &lt;option value=\"0\"&gt;0&lt;/option&gt;\r\n              &lt;option value=\"1\"&gt;1&lt;/option&gt;\r\n              &lt;option value=\"2\"&gt;2&lt;/option&gt;\r\n\r\n            &lt;/select&gt;\r\n          &lt;/div&gt;\r\n        &lt;/td&gt;\r\n        &lt;td class=\"text-center\"&gt;&lt;span class=\"subtotal\"&gt;ksh 0&lt;/span&gt;\r\n        &lt;/td&gt;\r\n      &lt;/tr&gt;\r\n      &lt;tr&gt;\r\n        &lt;td&gt;&lt;strong&gt;Senior&lt;/strong&gt;&lt;a href=\"#\" class=\"tooltip-1\" data-placement=\"top\" title=\"\" data-original-title=\"Over 65 years old\"&gt;&lt;sup class=\"icon-info-4\"&gt;\r\n    \r\n                                                &lt;/sup&gt;&lt;/a&gt;&lt;span class=\"price\"&gt;3,400&lt;/span&gt;\r\n        &lt;/td&gt;\r\n        &lt;td&gt;\r\n          &lt;div class=\"styled-select\"&gt;\r\n            &lt;select class=\"form-control\" name=\"senior\" id=\"senior\"&gt;\r\n              &lt;option value=\"\"&gt;Select&lt;/option&gt;\r\n              &lt;option value=\"0\"&gt;0&lt;/option&gt;\r\n              &lt;option value=\"1\"&gt;1&lt;/option&gt;\r\n              &lt;option value=\"2\"&gt;2&lt;/option&gt;\r\n\r\n            &lt;/select&gt;\r\n          &lt;/div&gt;\r\n        &lt;/td&gt;\r\n        &lt;td class=\"text-center\"&gt;&lt;span class=\"subtotal\"&gt;$0&lt;/span&gt;\r\n        &lt;/td&gt;\r\n      &lt;/tr&gt;\r\n      &lt;tr&gt;\r\n        &lt;td&gt;&lt;strong&gt;Student &gt;15 yrs&lt;/strong&gt; &lt;span class=\"price\"&gt;2,000&lt;/span&gt; &lt;/td&gt;\r\n        &lt;td&gt;\r\n          &lt;div class=\"styled-select\"&gt;\r\n            &lt;select class=\"form-control\" name=\"student\" id=\"student\"&gt;\r\n              &lt;option value=\"\"&gt;Select&lt;/option&gt;\r\n              &lt;option value=\"0\"&gt;0&lt;/option&gt;\r\n              &lt;option value=\"1\"&gt;1&lt;/option&gt;\r\n              &lt;option value=\"2\"&gt;2&lt;/option&gt;\r\n\r\n            &lt;/select&gt;\r\n          &lt;/div&gt;\r\n        &lt;/td&gt;\r\n        &lt;td class=\"text-center\"&gt;&lt;span class=\"subtotal\"&gt;$0&lt;/span&gt;\r\n        &lt;/td&gt;\r\n      &lt;/tr&gt;\r\n    &lt;/tbody&gt;\r\n  &lt;/table&gt;\r\n\r\n\r\n  &lt;div class=\"form-group\"&gt;\r\n    &lt;label&gt;From?&lt;/label&gt;\r\n    &lt;input type=\"text\" class=\"form-control\" id=\"date_pick\" name=\"date_pick\" data-date-format=\"M d, D\" placeholder=\"Select a date\"&gt;\r\n    &lt;div class=\"form-group\"&gt;\r\n      &lt;label&gt;To?&lt;/label&gt;\r\n      &lt;input type=\"text\" class=\"form-control\" id=\"date_pick\" name=\"date_pick\" data-date-format=\"M d, D\" placeholder=\"Select a date\"&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"form-group\"&gt;\r\n      &lt;label&gt;Name and Lastname&lt;/label&gt;\r\n      &lt;input type=\"text\" class=\"form-control\" id=\"name_lastname_booking\" name=\"name_lastname_booking\" placeholder=\"Name and Lastname\"&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"form-group\"&gt;\r\n      &lt;label&gt;Email&lt;/label&gt;\r\n      &lt;input type=\"email\" class=\"form-control\" id=\"email_booking\" name=\"email_booking\" placeholder=\"Email\"&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"form-group\"&gt;\r\n      &lt;label&gt;Telephone&lt;/label&gt;\r\n      &lt;input type=\"text\" class=\"form-control\" id=\"telephone_booking\" name=\"telephone_booking\" placeholder=\"Telephone\"&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"form-group add_bottom_30\"&gt;\r\n\r\n    &lt;/div&gt;\r\n    &lt;div class=\"form-group\"&gt;\r\n      &lt;input type=\"submit\" value=\"Book now\" class=\"btn_full\" id=\"submit-booking\"&gt;\r\n    &lt;/div&gt;\r\n\r\n\r\n    &lt;/form&gt;\r\n\r\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript"], "answers": [{"tags": [], "owner": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "is_accepted": true, "score": 1, "last_activity_date": 1544655695, "creation_date": 1544655695, "answer_id": 53752706, "question_id": 53752432, "link": "https://stackoverflow.com/questions/53752432/keyboard-events-keyup-give-unconsistent-behaviour/53752706#53752706", "title": "keyboard events: Keyup give unconsistent behaviour", "body": "<p>It returns false for <code>)</code> because the range you are comparing against doesn't include that character, and you aren't checking for it in your list of extra characters (which also inlcudes some redundant characters). You have a lower bound of <code>'0'</code>, which is <code>48</code> and an upper bound of <code>Z</code>, which is <code>90</code>. That range includes the following characters: <code>0123456789:;&lt;=&gt;?@ABCDEFGHIJKLMNOPQRSTUVWXYZ</code></p>\n\n<p><code>)</code> has a character code of <code>41</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let chars = ''\r\nlet start = '0'.charCodeAt(0)\r\nlet end = 'Z'.charCodeAt(0)\r\nconsole.log(`Starting at: ${start}`)\r\nconsole.log(`Ending at: ${end}`)\r\nfor (let i = start; i &lt;= end; i++)\r\n{\r\n  chars += String.fromCharCode(i)\r\n}\r\nconsole.log(chars)\r\nconsole.log(`Value of ')': ${')'.charCodeAt(0)}`)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 572, "user_id": 5928838, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c96d2122f1e89b2fae51a4edefce1d1f?s=128&d=identicon&r=PG&f=1", "display_name": "pi.314", "link": "https://stackoverflow.com/users/5928838/pi-314"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "accepted_answer_id": 53752706, "answer_count": 1, "score": 0, "last_activity_date": 1544655695, "creation_date": 1544654178, "question_id": 53752432, "link": "https://stackoverflow.com/questions/53752432/keyboard-events-keyup-give-unconsistent-behaviour", "title": "keyboard events: Keyup give unconsistent behaviour", "body": "<p>I have an issue with keyboard key-up events in Javascript (checked on chrome).</p>\n\n<p>Presented below 4 parts are pleaced in four  different files, attach together. And it works quite fine but has one strange behaviour. </p>\n\n<p>Look at the code and please <strong>focus on marked line</strong>:</p>\n\n<p>MAIN.JS</p>\n\n<pre><code>document.addEventListener(\"DOMContentLoaded\", function() {\n    document.onkeyup = function(event){\n        EVENT_KEYBOARD(event);\n    }\n}\n</code></pre>\n\n<p>EVENTS:</p>\n\n<pre><code>function EVENT_KEYBOARD(event) {\n    LOG_DEBUG(\"key pressed.\" + event.key + \" code\"+event.keyCode);\n    main_controller.event_keyboard_click(event);\n}\n</code></pre>\n\n<p>CONTROLLER:</p>\n\n<pre><code>this.event_keyboard_click = function(event) {\n    keyCode = event.keyCode;\n    key = event.key;\n    if(keyCode == 44){ myCanvas.abond_for_a_while(3000);}// PRINT SCREEN\n    else if(keyCode == 27){ myConsolas.cursorEscape();} // ESCAPE\n    ...\n    else if(key == \"Delete\"){myConsolas.cursorDelete();}\n    else {myConsolas.workForMe(event);}\n}\n</code></pre>\n\n<p>CONSOLAS.JS :</p>\n\n<pre><code>this.workForMe = function(event) {\n    key=event.key.toUpperCase();\n// THIS LINE BELOW:\n    if((key.length==1&amp;&amp;key&gt;='0'&amp;&amp;key&lt;='Z') || \",*-_ ;\\'\".includes(event.key)){\n        ...\n    }\n}\n</code></pre>\n\n<p>And now lets consider four chars which are pleaced on two buttons on my (phisical) keyboard:</p>\n\n<ul>\n<li>key 1:   \"0\"  or \")\"  when pressed with Shift </li>\n<li>key 2:   \";\"  or \":\"  when pressed with Shift</li>\n</ul>\n\n<p>when i press <strong>0</strong> and <strong>)</strong> - then LOG_DEBUG prints:\n - <em>key pressed.0 code48</em>\n - <em>key pressed.) code48</em></p>\n\n<p>and when i press <strong>;</strong> and <strong>:</strong> then LOG_DEBUG prints:\n - <em>key pressed.; code186</em>\n - <em>key pressed.: code186</em></p>\n\n<p>Finally: condition</p>\n\n<pre><code>if((key.length==1&amp;&amp;key&gt;='0'&amp;&amp;key&lt;='Z') || \",*-_ ;\\'\".includes(event.key))\n</code></pre>\n\n<p>is TRUE for <strong>: ; 0</strong>\nbut is FALSE for <strong>)</strong> -- why? why? why?</p>\n"}, {"tags": ["javascript", "google-chrome", "video", "html5-video"], "comments": [{"owner": {"reputation": 5428, "user_id": 1253298, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/h0lmg.jpg?s=128&g=1", "display_name": "BBaysinger", "link": "https://stackoverflow.com/users/1253298/bbaysinger"}, "reply_to_user": {"reputation": 14671, "user_id": 2317490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ypoen.png?s=128&g=1", "display_name": "dandavis", "link": "https://stackoverflow.com/users/2317490/dandavis"}, "edited": false, "score": 0, "creation_date": 1544654395, "post_id": 53752429, "comment_id": 94357764, "body": "I&#39;m not clear on what you are asking. What is a video URL page?"}, {"owner": {"reputation": 14671, "user_id": 2317490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ypoen.png?s=128&g=1", "display_name": "dandavis", "link": "https://stackoverflow.com/users/2317490/dandavis"}, "edited": false, "score": 1, "creation_date": 1544654487, "post_id": 53752429, "comment_id": 94357799, "body": "videos can only autoplay in chrome as a result of user-action, like a click. pasting a url is not a user-action."}, {"owner": {"reputation": 5428, "user_id": 1253298, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/h0lmg.jpg?s=128&g=1", "display_name": "BBaysinger", "link": "https://stackoverflow.com/users/1253298/bbaysinger"}, "reply_to_user": {"reputation": 14671, "user_id": 2317490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ypoen.png?s=128&g=1", "display_name": "dandavis", "link": "https://stackoverflow.com/users/2317490/dandavis"}, "edited": false, "score": 0, "creation_date": 1544654562, "post_id": 53752429, "comment_id": 94357827, "body": "Ah, so the click from the previous page would be considered the user interaction for the target page in order to start the video. No workaround?"}, {"owner": {"reputation": 14671, "user_id": 2317490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ypoen.png?s=128&g=1", "display_name": "dandavis", "link": "https://stackoverflow.com/users/2317490/dandavis"}, "edited": false, "score": 0, "creation_date": 1544654634, "post_id": 53752429, "comment_id": 94357850, "body": "if they work but simply don&#39;t auto-play, afaik, there&#39;s nothing you can do to force a play. the &quot;click authentication&quot; persisting across page loads is relatively new thing; don&#39;t be surprised if the behavior changes in chrome or other browsers in the future."}, {"owner": {"reputation": 5428, "user_id": 1253298, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/h0lmg.jpg?s=128&g=1", "display_name": "BBaysinger", "link": "https://stackoverflow.com/users/1253298/bbaysinger"}, "reply_to_user": {"reputation": 14671, "user_id": 2317490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ypoen.png?s=128&g=1", "display_name": "dandavis", "link": "https://stackoverflow.com/users/2317490/dandavis"}, "edited": false, "score": 0, "creation_date": 1544654789, "post_id": 53752429, "comment_id": 94357904, "body": "I just added the &#39;muted&#39; attribute, as suggested by a colleague. They autoplay now."}, {"owner": {"reputation": 14671, "user_id": 2317490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ypoen.png?s=128&g=1", "display_name": "dandavis", "link": "https://stackoverflow.com/users/2317490/dandavis"}, "edited": false, "score": 1, "creation_date": 1544654878, "post_id": 53752429, "comment_id": 94357945, "body": "nice to know, thanks for the follow-up; i&#39;ll keep it in mind. at first i thought you were loading the video url as the tab url, which should work obviously, unless the server discriminates against the different request params of a video tag vs a tab, sorry for the mixup..."}, {"owner": {"reputation": 5428, "user_id": 1253298, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/h0lmg.jpg?s=128&g=1", "display_name": "BBaysinger", "link": "https://stackoverflow.com/users/1253298/bbaysinger"}, "reply_to_user": {"reputation": 14671, "user_id": 2317490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ypoen.png?s=128&g=1", "display_name": "dandavis", "link": "https://stackoverflow.com/users/2317490/dandavis"}, "edited": false, "score": 0, "creation_date": 1544654907, "post_id": 53752429, "comment_id": 94357953, "body": "Thanks for the help."}], "answers": [{"tags": [], "owner": {"reputation": 5428, "user_id": 1253298, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/h0lmg.jpg?s=128&g=1", "display_name": "BBaysinger", "link": "https://stackoverflow.com/users/1253298/bbaysinger"}, "is_accepted": true, "score": 0, "last_activity_date": 1544721438, "creation_date": 1544721438, "answer_id": 53767016, "question_id": 53752429, "link": "https://stackoverflow.com/questions/53752429/inline-videos-dont-play-when-direct-urls-are-pasted-into-url-bar-in-google-chro/53767016#53767016", "title": "Inline-videos don&#39;t play when direct URLs are pasted into URL bar in Google Chrome", "body": "<p>For video elements without sound disabled, they wont play without a user interaction. A click from a previous page is apparently considered a user interaction that should allow video to play. For my example, I just had to add the 'muted' to meet this criteria so the video would autoplay.</p>\n"}], "owner": {"reputation": 5428, "user_id": 1253298, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/h0lmg.jpg?s=128&g=1", "display_name": "BBaysinger", "link": "https://stackoverflow.com/users/1253298/bbaysinger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 53767016, "answer_count": 1, "score": 0, "last_activity_date": 1544721438, "creation_date": 1544654156, "question_id": 53752429, "link": "https://stackoverflow.com/questions/53752429/inline-videos-dont-play-when-direct-urls-are-pasted-into-url-bar-in-google-chro", "title": "Inline-videos don&#39;t play when direct URLs are pasted into URL bar in Google Chrome", "body": "<p>If I link from another page in my site, they play. They look like this:</p>\n\n<pre><code>&lt;video playsinline autoplay loop class=\"vf-video\"&gt;\n    &lt;source src=\"/assets/video/the-video.mp4\" type=\"video/mp4\"&gt;\n&lt;/video&gt;\n</code></pre>\n\n<p>When I paste in the URL and hit enter, they do not play. I even added this jQuery in a <code>DOMContentLoaded</code> listener:</p>\n\n<pre><code>setTimeout(function () {\n    $(\"video[autoplay]\").each(function () {\n        console.log(this);\n        this.play();\n    });\n}, 3000);\n</code></pre>\n\n<p>Still will not play. They play fine in FireFox. Using latest Google Chrome on OS X.</p>\n"}, {"tags": ["javascript", "c#", "razor", "asp.net-core"], "comments": [{"owner": {"reputation": 1114, "user_id": 10633285, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Nathan Champion", "link": "https://stackoverflow.com/users/10633285/nathan-champion"}, "edited": false, "score": 1, "creation_date": 1544654874, "post_id": 53752384, "comment_id": 94357944, "body": "Razor is going to generate static HTML.  Is that modal in a partial view or something separate from the for loop?"}, {"owner": {"reputation": 566, "user_id": 343311, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/da3722055d4beffcf55fb066dd10da85?s=128&d=identicon&r=PG", "display_name": "duckwizzle", "link": "https://stackoverflow.com/users/343311/duckwizzle"}, "reply_to_user": {"reputation": 1114, "user_id": 10633285, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Nathan Champion", "link": "https://stackoverflow.com/users/10633285/nathan-champion"}, "edited": false, "score": 0, "creation_date": 1544655663, "post_id": 53752384, "comment_id": 94358207, "body": "It is just at the bottom of the page after the for loop ends."}, {"owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "edited": false, "score": 3, "creation_date": 1544656371, "post_id": 53752384, "comment_id": 94358439, "body": "<code>onclick=&quot;@Model.ClickedId=@item.Id&quot;</code> Razor will evaluate that on the server before anything is rendered to the client. But the <code>onclick</code> is a client-side event handler. You cannot mix that. If you want your client-side modal to do something, you will have to use client-side logic for that."}, {"owner": {"reputation": 1114, "user_id": 10633285, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Nathan Champion", "link": "https://stackoverflow.com/users/10633285/nathan-champion"}, "edited": false, "score": 1, "creation_date": 1544660806, "post_id": 53752384, "comment_id": 94359602, "body": "If you&#39;re bundling in Jquery I&#39;d probably fire off an AJAX call with the ID and return the modal body as a partial view.  But, there&#39;s plenty of ways to approach this."}], "answers": [{"comments": [{"owner": {"reputation": 566, "user_id": 343311, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/da3722055d4beffcf55fb066dd10da85?s=128&d=identicon&r=PG", "display_name": "duckwizzle", "link": "https://stackoverflow.com/users/343311/duckwizzle"}, "edited": false, "score": 0, "creation_date": 1544722678, "post_id": 53753370, "comment_id": 94386427, "body": "After a few minor tweaks I was able to get the first way working - thank you very much!!"}], "tags": [], "owner": {"reputation": 335, "user_id": 236339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooMsg.jpg?s=128&g=1", "display_name": "Kelvin", "link": "https://stackoverflow.com/users/236339/kelvin"}, "is_accepted": true, "score": 1, "last_activity_date": 1544660894, "creation_date": 1544660894, "answer_id": 53753370, "question_id": 53752384, "link": "https://stackoverflow.com/questions/53752384/change-a-variable-when-a-link-is-clicked/53753370#53753370", "title": "Change a variable when a link is clicked", "body": "<p>There are a couple of ways I've done this in the past. Either:</p>\n\n<ol>\n<li>Get all the information that all rows need and dump it on the page (maybe in hidden elements), then when the user interacts with your rows show/hide the relevant extra information. Depending on how much extra info you need there can be a bit of overhead with this.</li>\n</ol>\n\n<p>Put the 'StackTraceErrorMessage' on the page somewhere like</p>\n\n<pre><code>&lt;td class=\"open-modal\" data-itemId=\"@item.Id\"&gt;\n    View\n    &lt;input type=\"hidden\" value=\"@item.StackTraceErrorMessage\" /&gt;\n&lt;/td&gt;\n</code></pre>\n\n<p>Then in JS look for when the 'View' text is clicked, move the StackTraceErrorMessage from the hidden area to the modal html and display the modal html</p>\n\n<pre><code>$(document).ready(function() {\n    $(\".open-modal\").click(function() {\n        // get the item id from the clicked on element\n        var itemId = $(this).data(\"itemId\");\n        // get the relevant StackTraceErrorMessage and put in the modal html\n        var message = $(this).find('input').val();\n        $('.modal-body').html(message);\n        // show the modal html (presumably this has styles associated to make it look like a dialog)\n        $('.modal).show();\n    });\n)};\n</code></pre>\n\n<ol start=\"2\">\n<li>The second options is, put the basic information on the page and then when the user interacts with it go back to the server-side to request more details and then display that. There's a bit more back-and-forth and setup for this method.</li>\n</ol>\n\n<p>The link in your row would look something like this:</p>\n\n<pre><code>&lt;td data-itemId=\"@item.Id\" class=\"show-row-details\"&gt;View&lt;/td&gt;\n</code></pre>\n\n<p>Where the item id is stored as an attribute in the element and a class is attached so we can watch for clicks.\nIn your js you would then look for any clicks like :</p>\n\n<pre><code>$(document).ready(function() {\n    $(\".show-row-details\").click(function() {\n        // get the item id from the clicked on element\n        var itemId = $(this).data(\"itemId\");\n        // make a request to the backend for more info\n        $.ajax({\n          url: baseUrl + \"YourController/YourAction\",\n          data: { itemId : itemId  },\n          success: function (data) {\n             // put the data returned into the popup element on our page and make it visible\n             $('#popup').html(data);\n             $('#popup').show();\n          }\n        })\n    });\n)};\n</code></pre>\n\n<p>So to support this on your page you would need an elment ready to recieve data from the backend</p>\n\n<pre><code>&lt;div id=\"popup\" style=\"display:none\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>and also you would need a controller and action on your backend that is going to return the Html that you want to display in the popup div (pretty much just an action that loads a partial view (i.e. no layout) with your 'modal code' in it).</p>\n\n<p>Note: I haven't actually tried the above code, so there may be some syntax errors etc</p>\n"}], "owner": {"reputation": 566, "user_id": 343311, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/da3722055d4beffcf55fb066dd10da85?s=128&d=identicon&r=PG", "display_name": "duckwizzle", "link": "https://stackoverflow.com/users/343311/duckwizzle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 53753370, "answer_count": 1, "score": 0, "last_activity_date": 1544660894, "creation_date": 1544653892, "question_id": 53752384, "link": "https://stackoverflow.com/questions/53752384/change-a-variable-when-a-link-is-clicked", "title": "Change a variable when a link is clicked", "body": "<p>I have a page that loads the last 25 rows from a database and displays them in a table. I want to be able to click a link and have a modal popup that contains more information. I've got everything working except for knowing which row Id was clicked. Below is currently what I have. <code>Model.ClickedId</code> never changes from the default value so the popup has the same message everytime.</p>\n\n<p>How can I make it so <code>ClickedId</code> on the backend is set to <code>item.Id</code> when the link is clicked?</p>\n\n<p>Backend:</p>\n\n<pre><code>public int ClickedId { get; set; } = 0;\n</code></pre>\n\n<p>Front end:</p>\n\n<pre><code>@foreach (var item in Model.SFException)\n   {\n      &lt;tr&gt;\n         &lt;td&gt;\n            &lt;a href=\"#\" data-toggle=\"modal\" data-target=\"#exampleModalCenter\" onclick=\"@Model.ClickedId=@item.Id\"&gt;View&lt;/a&gt; &lt;!-- Set ID to item.ID? --&gt;\n         &lt;/td&gt;\n         &lt;td&gt;\n            @Html.DisplayFor(modelItem =&gt; item.ObjectType)\n         &lt;/td&gt;\n         &lt;td&gt;\n            @Html.DisplayFor(modelItem =&gt; item.ObjectKeyProperty)\n         &lt;/td&gt;\n         &lt;td&gt;\n            @Html.DisplayFor(modelItem =&gt; item.ObjectKeyValue)\n         &lt;/td&gt;\n          ...\n</code></pre>\n\n<p>And the modal code where I am trying to display more information:</p>\n\n<pre><code>&lt;div class=\"modal fade\" id=\"exampleModalCenter\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\"&gt;\n    &lt;div class=\"modal-dialog modal-dialog-centered\" role=\"document\"&gt;\n        &lt;div class=\"modal-content\"&gt;\n            &lt;div class=\"modal-header\"&gt;\n                &lt;h5 class=\"modal-title\" id=\"exampleModalCenterTitle\"&gt;Exception Details&lt;/h5&gt;\n                &lt;button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"&gt;\n                    &lt;span aria-hidden=\"true\"&gt;&amp;times;&lt;/span&gt;\n                &lt;/button&gt;\n            &lt;/div&gt;\n            &lt;div class=\"modal-body\"&gt;\n                @Html.DisplayFor(model =&gt; model.SFException[Model.ClickedId].StackTraceErrorMessage)\n            &lt;/div&gt;\n            &lt;div class=\"modal-footer\"&gt;\n                &lt;button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\"&gt;Close&lt;/button&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "rounding", "bigint"], "answers": [{"comments": [{"owner": {"reputation": 74246, "user_id": 80911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e9b4f80c65dc6076d74cd421084e4fc?s=128&d=identicon&r=PG", "display_name": "Evert", "link": "https://stackoverflow.com/users/80911/evert"}, "edited": false, "score": 0, "creation_date": 1544656755, "post_id": 53752808, "comment_id": 94358542, "body": "This is a great solution. Getting closer, but still failing for negative numbers. I&#39;m trying to figure it out based on your result. I appreciate the help so far!"}, {"owner": {"reputation": 886, "user_id": 3112241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/664d930d0d19b2e3d9bbe4c2f7edb7fa?s=128&d=identicon&r=PG", "display_name": "ack_inc", "link": "https://stackoverflow.com/users/3112241/ack-inc"}, "reply_to_user": {"reputation": 74246, "user_id": 80911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e9b4f80c65dc6076d74cd421084e4fc?s=128&d=identicon&r=PG", "display_name": "Evert", "link": "https://stackoverflow.com/users/80911/evert"}, "edited": false, "score": 0, "creation_date": 1544657089, "post_id": 53752808, "comment_id": 94358648, "body": "Perhaps you could do the division on the absolute values, and then apply the negation (if not cancelled out by both a and b being negative) to the final result"}, {"owner": {"reputation": 74246, "user_id": 80911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e9b4f80c65dc6076d74cd421084e4fc?s=128&d=identicon&r=PG", "display_name": "Evert", "link": "https://stackoverflow.com/users/80911/evert"}, "edited": false, "score": 1, "creation_date": 1544657564, "post_id": 53752808, "comment_id": 94358799, "body": "Good idea. I just updated your answer with that suggestion. This passes all my test cases, thank you!"}], "tags": [], "owner": {"reputation": 886, "user_id": 3112241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/664d930d0d19b2e3d9bbe4c2f7edb7fa?s=128&d=identicon&r=PG", "display_name": "ack_inc", "link": "https://stackoverflow.com/users/3112241/ack-inc"}, "is_accepted": true, "score": 2, "last_activity_date": 1544657472, "last_edit_date": 1544657472, "creation_date": 1544656317, "answer_id": 53752808, "question_id": 53752370, "link": "https://stackoverflow.com/questions/53752370/ecmascript-bigint-round-to-even/53752808#53752808", "title": "Ecmascript bigint, round to even", "body": "<p>Banker's rounding only affects divisions where the remainder is exactly half the divisor. All other cases get normal rounding.</p>\n\n<p>I think your function should be modified as follows:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function divide(a, b) {\r\n\r\n  // Make A and B positive\r\n  const aAbs = a &gt; 0 ? a : -a;\r\n  const bAbs = b &gt; 0 ? b : -b;\r\n\r\n  let result = aAbs/bAbs;\r\n  const rem = aAbs % bAbs;\r\n  // if remainder &gt; half divisor, should have rounded up instead of down, so add 1\r\n  if (rem * 2n &gt; bAbs) {\r\n      result ++;\r\n  } else if (rem * 2n === bAbs) {\r\n      // Add 1 if result is odd to get an even return value\r\n      if (result % 2n === 1n) result++;\r\n  }\r\n\r\n  if (a &gt; 0 !== b &gt; 0) {\r\n    // Either a XOR b is negative, so the result has to be\r\n    // negative as well.\r\n    return -result;\r\n  } else {\r\n    return result;\r\n  }\r\n}\r\nconsole.log(divide(3000n, 1578n));\r\nconsole.log(divide(7n, 2n));\r\nconsole.log(divide(-7n, 2n));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 74246, "user_id": 80911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e9b4f80c65dc6076d74cd421084e4fc?s=128&d=identicon&r=PG", "display_name": "Evert", "link": "https://stackoverflow.com/users/80911/evert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 53752808, "answer_count": 1, "score": 2, "last_activity_date": 1544657472, "creation_date": 1544653823, "question_id": 53752370, "link": "https://stackoverflow.com/questions/53752370/ecmascript-bigint-round-to-even", "title": "Ecmascript bigint, round to even", "body": "<p>I'm using the <code>bigint</code> feature from ESNext. When doing division, <code>bigint</code> rounds to 0. Take the following example:</p>\n\n<p>With numbers:</p>\n\n<pre><code>&gt; 3000 / 1578\n1.9011406844106464\n</code></pre>\n\n<p>With bigint:</p>\n\n<pre><code>3000n / 1578n\n1n\n</code></pre>\n\n<p>Instead of rounding to 0, I would like to write a function that can do division but use bankers rounding (round to even).</p>\n\n<p>Example</p>\n\n<pre><code>function divide(a, b) {\n  return a/b;\n}\n</code></pre>\n\n<p>I'm just a little stumped how I can write my <code>divide</code> function, and use the remainder to round to even. This is what I tried:</p>\n\n<pre><code>function divide(a, b) {\n  let result = a/b;\n  // if modulo is over half the divisor\n  if ((a % b) * 2n &gt; b) {\n     // Add 1 if result is odd\n     if (result % 2n === 1n) result++;\n  } else {\n     // Remove 1 if result is even\n     if (result % 2n !== 1n) result--;\n  }\n  return result;\n}\n</code></pre>\n\n<p>This gives me the right result for <code>divide(3000n, 1578n)</code>, but I noticed that this will give me an incorrect result for <code>divide(7n, 2n)</code>, which I expected to round to <code>4n</code>.</p>\n"}, {"tags": ["javascript", "taffydb"], "answers": [{"tags": [], "owner": {"reputation": 2614, "user_id": 1807604, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/r7vz4.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/1807604/shawn"}, "is_accepted": true, "score": 1, "last_activity_date": 1544654603, "creation_date": 1544654603, "answer_id": 53752514, "question_id": 53752355, "link": "https://stackoverflow.com/questions/53752355/search-multiple-terms-in-taffydb/53752514#53752514", "title": "search multiple terms in taffydb", "body": "<p>from the TaffyDB <a href=\"http://taffydb.com/writing_queries.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<pre><code>customerDB([ {\"custName\":{likenocase:request.term}},\n               {\"custCity\":{likenocase:request.term}}, \n               {\"custID\":{likenocase:request.term}} ] \n             ).each(function (record,recordnumber) {    \n</code></pre>\n\n<p>this is treaded like a logical \"OR\"</p>\n"}], "owner": {"reputation": 2614, "user_id": 1807604, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/r7vz4.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/1807604/shawn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 53752514, "answer_count": 1, "score": 1, "last_activity_date": 1544654603, "creation_date": 1544653740, "last_edit_date": 1544654101, "question_id": 53752355, "link": "https://stackoverflow.com/questions/53752355/search-multiple-terms-in-taffydb", "title": "search multiple terms in taffydb", "body": "<p>If I make a TAFFYDB database like this:</p>\n\n<pre><code>customerDB.insert({\n   \"custID\":\"JONMI\",\n   \"custName\": \"MIKE JONES\",\n   \"custCity\": \"CHICAGO\"\n});\n</code></pre>\n\n<p>I can query by each individual term, like customer name:</p>\n\n<pre><code>var cName=\"MIKE\";\ncustomerDB({ \"custName\":{like:cName}}).each(function (record,recordnumber) { \n</code></pre>\n\n<p>but is there a way to search by any term in a single query?\nBy that I mean if I search by MIKE or CHICAGO or JONMI it would find a match.</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 11081, "user_id": 10669010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LsWex.png?s=128&g=1", "display_name": "Mister Jojo", "link": "https://stackoverflow.com/users/10669010/mister-jojo"}, "edited": false, "score": 2, "creation_date": 1544654114, "post_id": 53752332, "comment_id": 94357654, "body": "because you use jQuery wrapAll. Dom element are changed and eventListener for your dblclick are no more effecient."}, {"owner": {"reputation": 415, "user_id": 10617531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/beca3b99df5a6ae331403736d7bd9a2a?s=128&d=identicon&r=PG&f=1", "display_name": "mr.abdo", "link": "https://stackoverflow.com/users/10617531/mr-abdo"}, "reply_to_user": {"reputation": 11081, "user_id": 10669010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LsWex.png?s=128&g=1", "display_name": "Mister Jojo", "link": "https://stackoverflow.com/users/10669010/mister-jojo"}, "edited": false, "score": 0, "creation_date": 1544654184, "post_id": 53752332, "comment_id": 94357684, "body": "I got, the problem is that if I don&#39;t add the class article-post, I lost the design of the page. Any suggestion? Tku so much"}, {"owner": {"reputation": 415, "user_id": 10617531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/beca3b99df5a6ae331403736d7bd9a2a?s=128&d=identicon&r=PG&f=1", "display_name": "mr.abdo", "link": "https://stackoverflow.com/users/10617531/mr-abdo"}, "reply_to_user": {"reputation": 11081, "user_id": 10669010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LsWex.png?s=128&g=1", "display_name": "Mister Jojo", "link": "https://stackoverflow.com/users/10669010/mister-jojo"}, "edited": false, "score": 0, "creation_date": 1544654345, "post_id": 53752332, "comment_id": 94357742, "body": "I deleted the wrapAll, but stil not working."}, {"owner": {"reputation": 11081, "user_id": 10669010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LsWex.png?s=128&g=1", "display_name": "Mister Jojo", "link": "https://stackoverflow.com/users/10669010/mister-jojo"}, "edited": false, "score": 1, "creation_date": 1544654449, "post_id": 53752332, "comment_id": 94357783, "body": "may be use $(&quot;span.artigo&quot;).on(&quot;dblclick&quot;, &quot;sub element&#39;&#39;, function() { ..."}], "answers": [{"comments": [{"owner": {"reputation": 2412, "user_id": 1253504, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1ba0b6bef219b34fa4f2d014046ff987?s=128&d=identicon&r=PG", "display_name": "kasperite", "link": "https://stackoverflow.com/users/1253504/kasperite"}, "reply_to_user": {"reputation": 415, "user_id": 10617531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/beca3b99df5a6ae331403736d7bd9a2a?s=128&d=identicon&r=PG&f=1", "display_name": "mr.abdo", "link": "https://stackoverflow.com/users/10617531/mr-abdo"}, "edited": false, "score": 1, "creation_date": 1544654809, "post_id": 53752465, "comment_id": 94357914, "body": "glad it helped :)"}], "tags": [], "owner": {"reputation": 2412, "user_id": 1253504, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1ba0b6bef219b34fa4f2d014046ff987?s=128&d=identicon&r=PG", "display_name": "kasperite", "link": "https://stackoverflow.com/users/1253504/kasperite"}, "is_accepted": true, "score": 3, "last_activity_date": 1544654400, "creation_date": 1544654400, "answer_id": 53752465, "question_id": 53752332, "link": "https://stackoverflow.com/questions/53752332/after-sort-the-dblclick-function-stop-working/53752465#53752465", "title": "After sort, the dblclick function stop working", "body": "<p><code>$(\"#container-artigos\").html(ordenadoDiv)</code> replaces existing DOM content, effectively removes all associated event listeners. See <a href=\"https://api.jquery.com/html/#html-htmlString\" rel=\"nofollow noreferrer\">https://api.jquery.com/html/#html-htmlString</a> for explaination.</p>\n\n<p>Register event listener on document will prevent that </p>\n\n<pre><code>$(document).on(\"dblclick\", \"span.artigo\", function(e) {\n  ....\n});\n</code></pre>\n\n<p>Wanna see if it works?</p>\n"}], "owner": {"reputation": 415, "user_id": 10617531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/beca3b99df5a6ae331403736d7bd9a2a?s=128&d=identicon&r=PG&f=1", "display_name": "mr.abdo", "link": "https://stackoverflow.com/users/10617531/mr-abdo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 53752465, "answer_count": 1, "score": 0, "last_activity_date": 1544654400, "creation_date": 1544653592, "question_id": 53752332, "link": "https://stackoverflow.com/questions/53752332/after-sort-the-dblclick-function-stop-working", "title": "After sort, the dblclick function stop working", "body": "<p>I have a function that set yellow in the background of the paragraph when occurs a double click.\nIt works fine until I call a function that sort those paragraphs.\nAfter sort it, the dblclick doesn't works when the user click twice again.</p>\n\n<p>The html page:</p>\n\n<pre><code>   &lt;div class=\"row row-artigo\"&gt;\n     &lt;div class=\"col-md-10 text-justify\"&gt;\n       &lt;span class=\"artigo  highlight\"&gt;                           \n           I - Loren Ipsun Dolor;\n       &lt;/span&gt;\n     &lt;/div&gt;\n     &lt;div class=\"col-md-2 text-right\"&gt;\n      &lt;div class=\"botoes\"&gt;\n        &lt;span class=\"qtd-voto\"&gt;1&lt;/span&gt;                           \n      &lt;/div&gt; \n     &lt;/div&gt; \n   &lt;/div&gt;\n</code></pre>\n\n<p><code>highligh</code> is the class added after double click. The dbl click function:</p>\n\n<pre><code>$(\"span.artigo\").on(\"dblclick\",(function(e){    \n    if ($(this).hasClass( \"highlight\" )){\n        $(this).removeClass(\"highlight\");\n        is_marcado = 0;\n    }else{\n        $(this).addClass(\"highlight\");\n        is_marcado = 1;\n    }\n}));\n</code></pre>\n\n<p>The sort is based on the class <code>qtd-voto</code> as follow:</p>\n\n<pre><code>$(\"a#ordenacao\").on(\"click\",(function(e){    \n    var $divs = $(\".row-artigo\");\n     var ordenadoDiv = $divs.sort(function (a, b) {                \n         return $(b).find('.qtd-voto').text() - $(a).find('.qtd-voto').text();\n     });\n     $(\"#container-artigos\").html(ordenadoDiv);       \n     $(\".row-artigo\").wrapAll($('&lt;div class=\"article-post\"&gt;'));    \n}));\n</code></pre>\n\n<p>Any idea why is it happening?</p>\n"}, {"tags": ["javascript", "jquery", "knockout.js"], "comments": [{"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1544653784, "post_id": 53752331, "comment_id": 94357518, "body": "Did you try <code>slice</code>? See the <a href=\"https://knockoutjs.com/documentation/observableArrays.html\" rel=\"nofollow noreferrer\">docs</a>"}, {"owner": {"reputation": 1463, "user_id": 3446142, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/4914034632838ffcc99f4980a082e8a6?s=128&d=identicon&r=PG&f=1", "display_name": "Avinash", "link": "https://stackoverflow.com/users/3446142/avinash"}, "reply_to_user": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1544653974, "post_id": 53752331, "comment_id": 94357589, "body": "First of all i could not able to search the results. Can you tell me How can i search the KnockoutObservableArray?"}, {"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1544654205, "post_id": 53752331, "comment_id": 94357691, "body": "I see, you want to find the first 5 elements that match some criteria. Could you perhaps show a more complete sample of your code?"}, {"owner": {"reputation": 1463, "user_id": 3446142, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/4914034632838ffcc99f4980a082e8a6?s=128&d=identicon&r=PG&f=1", "display_name": "Avinash", "link": "https://stackoverflow.com/users/3446142/avinash"}, "reply_to_user": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1544657239, "post_id": 53752331, "comment_id": 94358695, "body": "I want to search it first. I am not able to search the KnockoutObservableArray."}], "answers": [{"tags": [], "owner": {"reputation": 335, "user_id": 236339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooMsg.jpg?s=128&g=1", "display_name": "Kelvin", "link": "https://stackoverflow.com/users/236339/kelvin"}, "is_accepted": false, "score": 0, "last_activity_date": 1544662306, "creation_date": 1544662306, "answer_id": 53753516, "question_id": 53752331, "link": "https://stackoverflow.com/questions/53752331/how-to-search-and-retrieve-array-of-results-from-knockoutobservablearraystring/53753516#53753516", "title": "How to search and retrieve array of results from KnockoutObservableArray&lt;string&gt;", "body": "<p>Not totally sure what you mean by searching the array. If you want to apply some sort of test to the array items and only retrieve the items that pass then <a href=\"http://www.knockmeout.net/2011/04/utility-functions-in-knockoutjs.html\" rel=\"nofollow noreferrer\">ko.utils.arrayFilter</a>  is the way to go.</p>\n\n<p>An example that filters an array and only returns values that match the value held in another observable:</p>\n\n<pre><code>self.KeyWorkerFilter = ko.observable('');\n\nself.KeyWorkersFiltered = ko.computed(function () {\n    // if the filter is blank then just return the whole collection\n    if (!self.KeyWorkerFilter || self.KeyWorkerFilter() === '') {\n        return self.TpwKeyWorkers();\n    }\n    var filteredKeyWorkers = ko.utils.arrayFilter(self.TpwKeyWorkers(), function (item) {\n        var name = item.name.toLowerCase();\n        return name.includes(self.KeyWorkerFilter().toLowerCase());\n    });\n    return filteredKeyWorkers;\n});\n</code></pre>\n\n<p>so in your case you might be doing something like</p>\n\n<pre><code>var.peopleFilter = ko.computed(function() {\n    return ko.utils.arrayFilter(this.people, function(item) {\n        // whatever your test is\n        // example: only return array items that are equal to \"aaa\"\n        item === \"aaa\";\n    });\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "is_accepted": false, "score": 0, "last_activity_date": 1544691025, "creation_date": 1544691025, "answer_id": 53758069, "question_id": 53752331, "link": "https://stackoverflow.com/questions/53752331/how-to-search-and-retrieve-array-of-results-from-knockoutobservablearraystring/53758069#53758069", "title": "How to search and retrieve array of results from KnockoutObservableArray&lt;string&gt;", "body": "<p>You can create a <a href=\"http://knockoutjs.com/documentation/computedObservables.html\" rel=\"nofollow noreferrer\"><code>computed</code></a> property like this which will <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\" rel=\"nofollow noreferrer\"><code>filter</code></a> the array based on the <code>searchText</code>. Then use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice\" rel=\"nofollow noreferrer\"><code>slice</code></a> to get the first 5 results:</p>\n\n<p>Search for \"a\" in the input and you'll only be able to see the results till \"ae\".</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let viewModel = function() {\r\n  let self = this;\r\n\r\n  self.people = ko.observableArray([\"aa\", \"ab\", \"ac\", \"ad\", \"ae\", \"af\", \"ag\"]);\r\n  self.searchText = ko.observable('');\r\n\r\n  // When \"searchText\" or \"people\" changes, this gets computed again\r\n  self.filteredPeople = ko.computed(function() {\r\n    if (!self.searchText() || !self.searchText().trim()) {\r\n      return [];\r\n    } else {\r\n      return self.people()\r\n        .filter(p =&gt; p.toLowerCase().indexOf(self.searchText().toLowerCase()) &gt; -1)\r\n        .slice(0, 5);\r\n    }\r\n  });\r\n};\r\n\r\nko.applyBindings(new viewModel());</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.2/knockout-min.js\"&gt;&lt;/script&gt;\r\n&lt;input type=\"text\" data-bind=\"value: searchText, valueUpdate: 'keyup'\" placeholder=\"Search...\"&gt;\r\n\r\n&lt;div data-bind=\"foreach:filteredPeople\"&gt;\r\n  &lt;span data-bind=\"text:$data\"&gt;&lt;/span&gt;&lt;br&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1463, "user_id": 3446142, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/4914034632838ffcc99f4980a082e8a6?s=128&d=identicon&r=PG&f=1", "display_name": "Avinash", "link": "https://stackoverflow.com/users/3446142/avinash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1544697266, "creation_date": 1544653592, "last_edit_date": 1544697266, "question_id": 53752331, "link": "https://stackoverflow.com/questions/53752331/how-to-search-and-retrieve-array-of-results-from-knockoutobservablearraystring", "title": "How to search and retrieve array of results from KnockoutObservableArray&lt;string&gt;", "body": "<p>I have below KnockoutObservableArray. I want to search and retrieve the only first 5 results from this array.</p>\n\n<pre><code>var people: KnockoutObservableArray&lt;string&gt;;\n    this.people.push(\"abc\");\n    this.people.push(\"aaa\");\n    this.people.push(\"xyz\");\n    ...\n</code></pre>\n\n<p>I tried multiple options using people.filter method but could not find exactly what i required.</p>\n\n<p>Can someone please help me here.</p>\n"}, {"tags": ["javascript", "arrays", "reactjs", "enzyme"], "answers": [{"comments": [{"owner": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "edited": false, "score": 0, "creation_date": 1544654217, "post_id": 53752376, "comment_id": 94357693, "body": "Just to clarify, <code>.length</code> doesn&#39;t exist on <i>this</i> object, but it most certainly <b>can</b> exist on objects (just not by default)."}, {"owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "reply_to_user": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "edited": false, "score": 1, "creation_date": 1544654292, "post_id": 53752376, "comment_id": 94357722, "body": "@Herohtar Agreed, <code>Object.prototype</code> is much more accurate term."}], "tags": [], "owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "is_accepted": false, "score": 0, "last_activity_date": 1544654253, "last_edit_date": 1544654253, "creation_date": 1544653845, "answer_id": 53752376, "question_id": 53752325, "link": "https://stackoverflow.com/questions/53752325/test-case-failing-due-to-map-is-not-a-function-error/53752376#53752376", "title": "test case failing due to .map is not a function error", "body": "<p>In a brief: <strong>you can't map over an object</strong>.</p>\n\n<p><code>expenses</code> is an array of objects, so <code>expenses[0]</code> is an object.</p>\n\n<p>Condition  <code>expenses.length === 0</code> evaluates to <code>false</code>, since obviously <code>.length</code> property <strong>does not exist</strong> on <code>Object.prototype</code>, so the <code>else</code> condition takes place - your function tries to <code>map</code> over an object.</p>\n"}, {"comments": [{"owner": {"reputation": 74, "user_id": 2458315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36ac3d1d2e38e432389a45fa8b056ff7?s=128&d=identicon&r=PG", "display_name": "Shivakumar H.G", "link": "https://stackoverflow.com/users/2458315/shivakumar-h-g"}, "edited": false, "score": 0, "creation_date": 1544654514, "post_id": 53752380, "comment_id": 94357812, "body": "hi thanks for your answer, what would be the alternate option to get this done?"}, {"owner": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "reply_to_user": {"reputation": 74, "user_id": 2458315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36ac3d1d2e38e432389a45fa8b056ff7?s=128&d=identicon&r=PG", "display_name": "Shivakumar H.G", "link": "https://stackoverflow.com/users/2458315/shivakumar-h-g"}, "edited": false, "score": 0, "creation_date": 1544654564, "post_id": 53752380, "comment_id": 94357828, "body": "@ShivakumarH.G Take a look at <a href=\"https://stackoverflow.com/questions/4775722/check-if-object-is-an-array\">this question</a> for options."}], "tags": [], "owner": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "is_accepted": false, "score": 2, "last_activity_date": 1544653874, "creation_date": 1544653874, "answer_id": 53752380, "question_id": 53752325, "link": "https://stackoverflow.com/questions/53752325/test-case-failing-due-to-map-is-not-a-function-error/53752380#53752380", "title": "test case failing due to .map is not a function error", "body": "<p>The problem is with <code>if (expenses.length === 0)</code> and the test case that uses <code>selectExpensesTotal(expenses[0])</code>:</p>\n\n<p><code>expenses[0]</code> passes an object, which has no <code>length</code> property, so in the function being tested, <code>expenses.length</code> returns <code>undefined</code>. However, <code>undefined === 0</code> evaluates to <code>false</code> so your code goes into the <code>else</code> block tries to use <code>.map</code> on the object, which doesn't have that function, thus it throws an error.</p>\n"}, {"tags": [], "owner": {"reputation": 83, "user_id": 6712940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e63097bb48f7b975d5c3a6fbb8f2b1b?s=128&d=identicon&r=PG&f=1", "display_name": "Limyandi Vico Trico", "link": "https://stackoverflow.com/users/6712940/limyandi-vico-trico"}, "is_accepted": false, "score": 0, "last_activity_date": 1544659289, "creation_date": 1544659289, "answer_id": 53753209, "question_id": 53752325, "link": "https://stackoverflow.com/questions/53752325/test-case-failing-due-to-map-is-not-a-function-error/53753209#53753209", "title": "test case failing due to .map is not a function error", "body": "<p>The problem is that expenses[0] is an object (you probably expected it to be an array) and an object does not have a map function. A quick hack would be to add another ifs into the loop to check if expenses is actually an object. So that:</p>\n\n<pre><code>export default (expenses=[]) =&gt; {\n  if (expenses.length === 0) {\n    return 0;\n  } else {\n    if (typeof expenses === 'object') {\n      return expenses.amount\n    } else {\n    return expenses\n      .map(expense =&gt; expense.amount)\n      .reduce((sum, val) =&gt; sum + val, 0);\n    }\n  }\n};\n</code></pre>\n\n<p>I hope this help.</p>\n"}], "owner": {"reputation": 74, "user_id": 2458315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36ac3d1d2e38e432389a45fa8b056ff7?s=128&d=identicon&r=PG", "display_name": "Shivakumar H.G", "link": "https://stackoverflow.com/users/2458315/shivakumar-h-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1464, "favorite_count": 0, "answer_count": 3, "score": -3, "last_activity_date": 1544659289, "creation_date": 1544653579, "last_edit_date": 1544655077, "question_id": 53752325, "link": "https://stackoverflow.com/questions/53752325/test-case-failing-due-to-map-is-not-a-function-error", "title": "test case failing due to .map is not a function error", "body": "<p>Hi i have a react component <strong>expenses-total.js</strong> and a corresponding test case <strong>expenses-total.test.js</strong> as shown below.</p>\n\n<p>expenses-total.js</p>\n\n<pre><code>     export default (expenses=[]) =&gt; {\n      if (expenses.length === 0) {\n        return 0;\n      } else {\n        return expenses\n          .map(expense =&gt; expense.amount)\n          .reduce((sum, val) =&gt; sum + val, 0);\n      }\n    };\n</code></pre>\n\n<p>expenses-total.test.js</p>\n\n<pre><code>import selectExpensesTotal from '../../selectors/expenses-total';\nconst expenses = [\n    {\n      id: \"1\",\n      description: \"gum\",\n      amount: 321,\n      createdAt: 1000,\n      note: \"\"\n    },\n    {\n      id: \"2\",\n      description: \"rent\",\n      amount: 3212,\n      createdAt: 4000,\n      note: \"\"\n    },\n    {\n      id: \"3\",\n      description: \"Coffee\",\n      amount: 3214,\n      createdAt: 5000,\n      note: \"\"\n    }\n  ];\n\ntest('Should return 0 if no expenses', ()=&gt;{\n    const res = selectExpensesTotal([]);\n    expect(res).toBe(0);\n});\n\ntest('Should correctly add up a single expense', ()=&gt;{\n    const res = selectExpensesTotal(expenses[0]);\n    expect(res).toBe(321);\n});\n\ntest('Should correctly add up multiple expenses',()=&gt;{\n    const res = selectExpensesTotal(expenses);\n    expect(res).toBe(6747);\n});\n</code></pre>\n\n<p>when i run the test case, its getting failed by giving an error</p>\n\n<pre><code>TypeError: expenses.map is not a function\n</code></pre>\n\n<p>I know the test case is correct but dont know what is wrong with thecomponent.\nCould anyone please help me in fixing this error?</p>\n"}, {"tags": ["javascript", "discord.js"], "comments": [{"owner": {"reputation": 5489, "user_id": 3670132, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f1c25213978ce9fc6a9b8b60f5d780b4?s=128&d=identicon&r=PG", "display_name": "Seblor", "link": "https://stackoverflow.com/users/3670132/seblor"}, "edited": false, "score": 4, "creation_date": 1544653686, "post_id": 53752304, "comment_id": 94357474, "body": "Have you looked at the documentation ? <a href=\"https://discord.js.org/#/docs/main/stable/class/Guild?scrollTo=fetchMembers\" rel=\"nofollow noreferrer\">discord.js.org/#/docs/main/stable/class/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 429, "user_id": 6446602, "user_type": "registered", "accept_rate": 47, "profile_image": "https://lh6.googleusercontent.com/-iIx89M7zrrI/AAAAAAAAAAI/AAAAAAAAXvE/iEKUvl3VXGU/photo.jpg?sz=128", "display_name": "kmindspark", "link": "https://stackoverflow.com/users/6446602/kmindspark"}, "edited": false, "score": 0, "creation_date": 1544656303, "post_id": 53752501, "comment_id": 94358416, "body": "Thanks. Should this line of code work to first get the guild members? var mems = client.guilds.get(&quot;My channel id&quot;).members;"}, {"owner": {"reputation": 614, "user_id": 10322565, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qEAt3aVMwUQ/AAAAAAAAAAI/AAAAAAAAD2I/CtDRQBbae6M/photo.jpg?sz=128", "display_name": "Nimish Gupta", "link": "https://stackoverflow.com/users/10322565/nimish-gupta"}, "reply_to_user": {"reputation": 429, "user_id": 6446602, "user_type": "registered", "accept_rate": 47, "profile_image": "https://lh6.googleusercontent.com/-iIx89M7zrrI/AAAAAAAAAAI/AAAAAAAAXvE/iEKUvl3VXGU/photo.jpg?sz=128", "display_name": "kmindspark", "link": "https://stackoverflow.com/users/6446602/kmindspark"}, "edited": false, "score": 2, "creation_date": 1544658032, "post_id": 53752501, "comment_id": 94358918, "body": "So here you are provided guilds not channels, therefore <code>var mems = client.guilds.get(&quot;Your guild id&quot;).members</code> to get the collection of members."}, {"owner": {"reputation": 429, "user_id": 6446602, "user_type": "registered", "accept_rate": 47, "profile_image": "https://lh6.googleusercontent.com/-iIx89M7zrrI/AAAAAAAAAAI/AAAAAAAAXvE/iEKUvl3VXGU/photo.jpg?sz=128", "display_name": "kmindspark", "link": "https://stackoverflow.com/users/6446602/kmindspark"}, "edited": false, "score": 0, "creation_date": 1544658383, "post_id": 53752501, "comment_id": 94359009, "body": "Oh yes, meant to say guild id not channel id :) It works now, thanks."}, {"owner": {"reputation": 2424, "user_id": 6258290, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ezugX_8QRd4/AAAAAAAAAAI/AAAAAAAAACs/zXbXiIQOsj8/photo.jpg?sz=128", "display_name": "PLASMA chicken", "link": "https://stackoverflow.com/users/6258290/plasma-chicken"}, "edited": false, "score": 0, "creation_date": 1544732152, "post_id": 53752501, "comment_id": 94390677, "body": "But watch out Guild#members only Container chached members"}], "tags": [], "owner": {"reputation": 614, "user_id": 10322565, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qEAt3aVMwUQ/AAAAAAAAAAI/AAAAAAAAD2I/CtDRQBbae6M/photo.jpg?sz=128", "display_name": "Nimish Gupta", "link": "https://stackoverflow.com/users/10322565/nimish-gupta"}, "is_accepted": true, "score": 4, "last_activity_date": 1544717026, "last_edit_date": 1544717026, "creation_date": 1544654557, "answer_id": 53752501, "question_id": 53752304, "link": "https://stackoverflow.com/questions/53752304/how-to-get-list-of-users-in-a-server/53752501#53752501", "title": "How to get list of users in a server", "body": "<p><a href=\"https://discord.js.org/#/docs/main/stable/class/Guild?scrollTo=member\" rel=\"nofollow noreferrer\"><code>Guild.members</code></a> is a <code>Collection&lt;Snowflake, GuildMember&gt;</code> which extends Map so you should be able to iterate through the key values like this</p>\n\n<pre><code>for (let [snowflake, guildMember] of mems) {\n  console.log('snowflake: ' + snowflake);\n  console.log('id: ' + guildMember.id);\n  console.log('user id: ' + guildMember.user.id);\n}\n</code></pre>\n"}], "owner": {"reputation": 429, "user_id": 6446602, "user_type": "registered", "accept_rate": 47, "profile_image": "https://lh6.googleusercontent.com/-iIx89M7zrrI/AAAAAAAAAAI/AAAAAAAAXvE/iEKUvl3VXGU/photo.jpg?sz=128", "display_name": "kmindspark", "link": "https://stackoverflow.com/users/6446602/kmindspark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2601, "favorite_count": 1, "accepted_answer_id": 53752501, "answer_count": 1, "score": 0, "last_activity_date": 1544717026, "creation_date": 1544653459, "last_edit_date": 1544716908, "question_id": 53752304, "link": "https://stackoverflow.com/questions/53752304/how-to-get-list-of-users-in-a-server", "title": "How to get list of users in a server", "body": "<p>I'm wondering how to obtain a list of user ids in my server when using discord.js. I've been searching around a lot but couldn't find anything that really worked. Would appreciate anyone's help.</p>\n"}, {"tags": ["javascript", "google-tag-manager"], "answers": [{"tags": [], "owner": {"reputation": 29201, "user_id": 761212, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/6980d628cf95cf2e91658b89a29bdd63?s=128&d=identicon&r=PG&f=1", "display_name": "Eike Pierstorff", "link": "https://stackoverflow.com/users/761212/eike-pierstorff"}, "is_accepted": true, "score": 0, "last_activity_date": 1544658291, "creation_date": 1544658291, "answer_id": 53753070, "question_id": 53752301, "link": "https://stackoverflow.com/questions/53752301/target-search-results-number-in-variable/53753070#53753070", "title": "Target search results number in variable", "body": "<p>You would probably get away with a custom Javascript variable like this:</p>\n\n<pre><code>function() {\nreturn document.querySelector('.search-results-text strong').innerText.split(\" \")[0];\n}\n</code></pre>\n\n<p>The querySelector with the CSS selector gets the Element, innerText is the text without the markup, the split splits the string up by whitespace, which gives you an array, and the first element of that array is your number (array are index starting with zero, so [0] refers to the first element).</p>\n\n<p>This is not particularly elegant (for one you probably want to add some sort of error handling), and you could actually replace <code>document.querySelector('.search-results-text strong').innerText</code> with a DOM type variable in GTM (which by default returns the text of the element). </p>\n\n<p>I don't think you can get the number with CSS selectors alone.</p>\n"}], "owner": {"reputation": 50, "user_id": 897488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ba68b52271b2cf481c99209d623e028?s=128&d=identicon&r=PG", "display_name": "Reid Dossinger", "link": "https://stackoverflow.com/users/897488/reid-dossinger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17, "favorite_count": 0, "accepted_answer_id": 53753070, "answer_count": 1, "score": 0, "last_activity_date": 1544658291, "creation_date": 1544653456, "question_id": 53752301, "link": "https://stackoverflow.com/questions/53752301/target-search-results-number-in-variable", "title": "Target search results number in variable", "body": "<p>I'm trying to target the number of search results on our website for each search term so that I can see how many results each one pulls in. </p>\n\n<p>I'm working off of <a href=\"https://mixedanalytics.com/blog/number-search-results-google-analytics-gtm/\" rel=\"nofollow noreferrer\">this article</a>, but I can't get the javascript function correct to pull out the number (which could be as high as 2000) and put it into a variable.</p>\n\n<pre><code>&lt;div class=\"search-results-text\"&gt;&lt;strong&gt;732 results&lt;/strong&gt; found for \u2018&lt;strong&gt;search term&lt;/strong&gt;\u2019&lt;/div&gt;\n</code></pre>\n\n<p>Hoping someone can help me out with the javascript function that would grab that number before \"results\". Thanks!</p>\n"}, {"tags": ["javascript", "if-statement", "checkbox"], "comments": [{"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1544653675, "post_id": 53752299, "comment_id": 94357468, "body": "<code>if( checkbox.checked</code> But you never defined a variable named <code>checkbox</code>"}], "answers": [{"tags": [], "owner": {"reputation": 12696, "user_id": 2827407, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/U7Ybe.jpg?s=128&g=1", "display_name": "APAD1", "link": "https://stackoverflow.com/users/2827407/apad1"}, "is_accepted": true, "score": 0, "last_activity_date": 1544653732, "creation_date": 1544653732, "answer_id": 53752350, "question_id": 53752299, "link": "https://stackoverflow.com/questions/53752299/javascript-checkbox-if-condition/53752350#53752350", "title": "Javascript checkbox if condition", "body": "<p>You're checking to see if the <code>input</code> assigned to variable <code>checkbox</code> is checked, but you didn't define that variable.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Out-Projekt: &lt;input type= \"checkbox\" id= \"OUT\"&gt; &lt;br&gt; &lt;br&gt;\r\n &lt;button  class = \"buttonz\" onclick = \"berechnung()\"&gt;Berechnen &lt;/button&gt;          \r\n\r\n&lt;script&gt;\r\nfunction berechnung() {\r\n  var checkbox = document.getElementById(\"OUT\");\r\n\r\n  if( checkbox.checked === true){\r\n    console.log('checked');\r\n  } else { \r\n    console.log('not checked');\r\n  }\r\n}\r\n&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 107, "user_id": 9439103, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "DuB loxx", "link": "https://stackoverflow.com/users/9439103/dub-loxx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 53752350, "answer_count": 1, "score": 0, "last_activity_date": 1544653732, "creation_date": 1544653450, "question_id": 53752299, "link": "https://stackoverflow.com/questions/53752299/javascript-checkbox-if-condition", "title": "Javascript checkbox if condition", "body": "<p>I wanted to trigger an if condition based on a checked or unchecked checkbox, by clicking a button.\nThe code segments of interest are: </p>\n\n<pre><code> Out-Projekt: &lt;input type= \"checkbox\" id= \"OUT\"&gt; &lt;br&gt; &lt;br&gt;\n &lt;button  class = \"buttonz\" onclick = \"berechnung()\"&gt;Berechnen &lt;/button&gt;          \n\n&lt;script&gt;\n function berechnung() {\n var OUT = parseInt(document.getElementById(\"OUT\").checked);\n\nif( checkbox.checked == true){ code}\n else { code }\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>For some reason, it does not work. I read other topics regarding this but found nothing suitable. Hope someone can help</p>\n"}, {"tags": ["javascript", "vue.js", "youtube", "vuejs2"], "comments": [{"owner": {"reputation": 37731, "user_id": 392102, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/A0L1n.jpg?s=128&g=1", "display_name": "Roy J", "link": "https://stackoverflow.com/users/392102/roy-j"}, "edited": false, "score": 0, "creation_date": 1544654227, "post_id": 53752281, "comment_id": 94357696, "body": "Can you make the <code>key</code> something like <code>item.id</code> rather than the item object?"}], "answers": [{"comments": [{"owner": {"reputation": 680, "user_id": 1197169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/425a59a1217743f7c9ac05325903446d?s=128&d=identicon&r=PG", "display_name": "xelblch", "link": "https://stackoverflow.com/users/1197169/xelblch"}, "edited": false, "score": 0, "creation_date": 1544694560, "post_id": 53753658, "comment_id": 94370078, "body": "Why it happens only when block moved down?"}, {"owner": {"reputation": 26792, "user_id": 734040, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/p1dqF.jpg?s=128&g=1", "display_name": "Decade Moon", "link": "https://stackoverflow.com/users/734040/decade-moon"}, "reply_to_user": {"reputation": 680, "user_id": 1197169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/425a59a1217743f7c9ac05325903446d?s=128&d=identicon&r=PG", "display_name": "xelblch", "link": "https://stackoverflow.com/users/1197169/xelblch"}, "edited": false, "score": 0, "creation_date": 1544694804, "post_id": 53753658, "comment_id": 94370224, "body": "It depends on how Vue moves DOM elements around when patching the DOM after a render. Perhaps when you move the block down Vue moves the element down, but when you move the block up it&#39;s the same as if you moved the previous block down so the block doesn&#39;t actually get moved by Vue (it just shifts up in the DOM because the previous element was shifted down)."}, {"owner": {"reputation": 680, "user_id": 1197169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/425a59a1217743f7c9ac05325903446d?s=128&d=identicon&r=PG", "display_name": "xelblch", "link": "https://stackoverflow.com/users/1197169/xelblch"}, "edited": false, "score": 0, "creation_date": 1544695467, "post_id": 53753658, "comment_id": 94370582, "body": "Seems like you right. I updated demo with two videos and tested - it behaves exactly like you explained. Thank you."}], "tags": [], "owner": {"reputation": 26792, "user_id": 734040, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/p1dqF.jpg?s=128&g=1", "display_name": "Decade Moon", "link": "https://stackoverflow.com/users/734040/decade-moon"}, "is_accepted": true, "score": 3, "last_activity_date": 1544664199, "last_edit_date": 1544664199, "creation_date": 1544663451, "answer_id": 53753658, "question_id": 53752281, "link": "https://stackoverflow.com/questions/53752281/embedded-youtube-video-reloads-inside-component-rendered-with-v-for-when-movin/53753658#53753658", "title": "Embedded Youtube video reloads inside component, rendered with v-for, when moving array items", "body": "<p>This isn't necessarily a Vue issue; <a href=\"https://stackoverflow.com/questions/8318264/how-to-move-an-iframe-in-the-dom-without-losing-its-state\">it's impossible to move an iframe around in the DOM without it reloading</a>.</p>\n\n<p>Even if you use <code>key</code> to preserve the iframe element, when Vue moves it around in the DOM it'll reload.</p>\n\n<p>Try using CSS flexbox order to move the items around instead: <a href=\"https://codepen.io/anon/pen/LMpdyo\" rel=\"nofollow noreferrer\">updated demo</a>.</p>\n"}], "owner": {"reputation": 680, "user_id": 1197169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/425a59a1217743f7c9ac05325903446d?s=128&d=identicon&r=PG", "display_name": "xelblch", "link": "https://stackoverflow.com/users/1197169/xelblch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 53753658, "answer_count": 1, "score": 3, "last_activity_date": 1544664199, "creation_date": 1544653304, "question_id": 53752281, "link": "https://stackoverflow.com/questions/53752281/embedded-youtube-video-reloads-inside-component-rendered-with-v-for-when-movin", "title": "Embedded Youtube video reloads inside component, rendered with v-for, when moving array items", "body": "<p><strong>Background:</strong></p>\n\n<p>I'm working on Vue-based project - content editor page, where user able to insert different kind of blocks like text-block, image-block, video-block, together resulting in a complete page.</p>\n\n<p>My solution is to have array of blocks, which I simply render using v-for and it works perfect.</p>\n\n<p>Sometimes, my users need to re-order blocks, so I have two buttons on it, to move block Up and Down. It also works without any issues, except for <strong>video</strong> block.</p>\n\n<p>This video-block includes YouTube embedded iframe.</p>\n\n<p><strong>The problem:</strong></p>\n\n<p>Every time I move video-block down - closer to array's end - video reloads. If it's moved up - it stays playing and not reloaded.</p>\n\n<p>So basically I have array rendered via v-for and YouTube video inside one of the blocks:</p>\n\n<pre><code>&lt;div v-for=\"item in items\" v-bind:key=\"item\" class=\"block\"&gt;\n</code></pre>\n\n<p>To demonstrate the issue, I prepared this <a href=\"https://codepen.io/xelblch/pen/WLQjaw?editors=1010\" rel=\"nofollow noreferrer\">demo</a>.</p>\n\n<p><em>Steps to reproduce issue:</em></p>\n\n<ul>\n<li>Run video inside block number 2</li>\n<li>Move it Up, and you will see it still plays</li>\n<li>Move it Down, and it will be reloaded</li>\n</ul>\n\n<p>It looks like Vue re-creates this piece of DOM when block moved down.</p>\n\n<p><strong>Solutions tried:</strong></p>\n\n<p>I thought that this is because I used <a href=\"https://github.com/sampotts/plyr\" rel=\"nofollow noreferrer\">3rd party library</a> to embed video, but no - the issue persist even if I embed iframe directly.</p>\n\n<p>I also tried to render my list of blocks without animation, and it also does not help.</p>\n\n<p>I tried to re-write method which I used to re-order items in array, I actually have two versions in the demo, but both works in the same way.</p>\n\n<p>So I have no idea why it happens and maybe someone can give me an advice or explain what happens under the hood?</p>\n"}, {"tags": ["javascript", "node.js"], "answers": [{"comments": [{"owner": {"reputation": 1844, "user_id": 238074, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3fed50cc653f3ea8c50eb4c227237840?s=128&d=identicon&r=PG", "display_name": "Kevin Buchs", "link": "https://stackoverflow.com/users/238074/kevin-buchs"}, "edited": false, "score": 0, "creation_date": 1546439403, "post_id": 53755063, "comment_id": 94852764, "body": "Your first sentence is the answer. However, I dug into the async/await code you provided, but it didn&#39;t work. The promise is never resolved. I worked on it further, but didn&#39;t get it fully working. Here is the code:"}, {"owner": {"reputation": 1844, "user_id": 238074, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3fed50cc653f3ea8c50eb4c227237840?s=128&d=identicon&r=PG", "display_name": "Kevin Buchs", "link": "https://stackoverflow.com/users/238074/kevin-buchs"}, "edited": false, "score": 0, "creation_date": 1546439551, "post_id": 53755063, "comment_id": 94852838, "body": "const shelljs_exec = require(&#39;shelljs.exec&#39;); const locks = require(&#39;locks&#39;); var mutex = locks.createMutex();  function got_lock() {     console.log(&#39;got_lock: got the lock&#39;);     mutex.unlock(); }  function promise_cb(resolve, reject) {    console.log(&#39;promise_cb: resolve = &#39; + resolve);    mutex.lock(got_lock);    console.log(&#39;promise_cb: after mutex.lock&#39;); }"}, {"owner": {"reputation": 1844, "user_id": 238074, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3fed50cc653f3ea8c50eb4c227237840?s=128&d=identicon&r=PG", "display_name": "Kevin Buchs", "link": "https://stackoverflow.com/users/238074/kevin-buchs"}, "edited": false, "score": 0, "creation_date": 1546439572, "post_id": 53755063, "comment_id": 94852851, "body": "// and... async function await_lock(cmds) {    await (new Promise(promise_cb));    console.log(&#39;done with await&#39;);    try {        let results = await shelljs_exec(cmds);        return results;    } catch {        mutex.unlock();    } }"}], "tags": [], "owner": {"reputation": 67048, "user_id": 388787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f786b1ad349a30e02802ae61b4518fc?s=128&d=identicon&r=PG", "display_name": "Dan D.", "link": "https://stackoverflow.com/users/388787/dan-d"}, "is_accepted": true, "score": 0, "last_activity_date": 1544675713, "creation_date": 1544675713, "answer_id": 53755063, "question_id": 53752279, "link": "https://stackoverflow.com/questions/53752279/avoiding-simultaneous-execution-of-shell-command-with-node-js-shelljs/53755063#53755063", "title": "avoiding simultaneous execution of shell command with node.js &amp; shelljs", "body": "<p>If <code>shelljs_exec</code> is synchronous, no need. </p>\n\n<p>If it is not. If it takes a callback wrap it in a Promise constructor so that it can be awaited. I would suggest properly wrapping the <code>mutex.lock</code> in a promise that gets resolved when the lock is acquired. The try finally is needed to ensure that the <code>mutex</code> is unlocked if <code>shelljs_exec</code> throws an exception.</p>\n\n<pre><code>async function await_lock(shell_commands) {\n  await (new Promise(function(resolve, reject) {\n    mutex.lock(resolve);\n  }));\n  try {\n    let exec_results = await shelljs_exec(commands);\n    return exec_results;\n  } finally {\n    mutex.unlock();\n  }\n}\n</code></pre>\n\n<p>Untested. But it looks like it should work.</p>\n"}], "owner": {"reputation": 1844, "user_id": 238074, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3fed50cc653f3ea8c50eb4c227237840?s=128&d=identicon&r=PG", "display_name": "Kevin Buchs", "link": "https://stackoverflow.com/users/238074/kevin-buchs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 53755063, "answer_count": 1, "score": 0, "last_activity_date": 1544675713, "creation_date": 1544653298, "question_id": 53752279, "link": "https://stackoverflow.com/questions/53752279/avoiding-simultaneous-execution-of-shell-command-with-node-js-shelljs", "title": "avoiding simultaneous execution of shell command with node.js &amp; shelljs", "body": "<p>Using nodejs 8.12 on Gnu/Linux CentOS 7. Using the built-in web server, require('https'), for a simple application. </p>\n\n<p>I understand that nodejs is single threaded (single process) and there is no actual parallel execution of code. Based on my understanding, I think the http/https server will process one http request and run the handler through all synchronous statements and set up asynchronous statements to be executed later before it will return to process a subsequent request. However, with http/https libraries, you have an asynchronous code that is used to assemble the body of the request. So, we already have one callback which is executed when the body is ready ('end' event). This fact makes me think it might be possible to be in the middle of processing two or more requests simultaneously.</p>\n\n<p>As part of handling the requests, I need to execute a string of shell commands and I use the shelljs.exec library to do that. It runs synchronously, waiting until complete before returning. So, example code would look like:</p>\n\n<pre><code>const shelljs_exec = require('shelljs.exec');\nfunction process() {\n   // bunch of shell commands in string\n   var command_str = 'command1; command2; command3';\n   var exec_results = shelljs_exec(command_str);\n   console.log('just executed shelljs_exec command');\n   var proc_results = process_results(exec_results);\n   console.log(proc_results);\n   // and return the response... \n}\n</code></pre>\n\n<p>So node.js runs the shelljs_exec() and waits for completion. While it's waiting, can another request be worked on, such that there is a risk, slight, of two or more shelljs.exec invocations running at the same time? Since that could be a problem, I need to ensure only one shelljs.exec statement can be in progress at a given time. </p>\n\n<p>If that is not a correct understanding, then I was thinking I need to do something with mutex locks. Like this:</p>\n\n<pre><code>const shelljs_exec = require('shelljs.exec');\nconst locks = require('locks');\n\n// Need this in global scope - so we are all dealing with the same one.\nvar mutex = locks.createMutex();\n\nfunction await_lock(shell_commands) {\n  var commands = shell_commands;\n  return new Promise(getting_lock =&gt; {\n    mutex.lock(got_lock_and_execute);\n  });\n\n  function got_lock_and_execute() {\n    var exec_results = shelljs_exec(commands);\n    console.log('just executed shelljs_exec command');\n    mutex.unlock();\n    return exec_results;\n  }\n}\n\nasync function process() {\n  // bunch of shell commands in string\n  var command_str = 'command1; command2; command3';\n  exec_results = await await_lock(command_str);\n  var proc_results = process_results(exec_results);\n  console.log(proc_results);\n}\n</code></pre>\n"}, {"tags": ["javascript", "cookies", "cross-browser", "cross-platform", "ttl"], "owner": {"reputation": 65, "user_id": 6735626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K5KHH.jpg?s=128&g=1", "display_name": "Jake", "link": "https://stackoverflow.com/users/6735626/jake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 14, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1544653156, "creation_date": 1544653156, "question_id": 53752252, "link": "https://stackoverflow.com/questions/53752252/do-browser-sessions-cookies-expire-when-a-window-is-closed-if-there-is-no-expira", "title": "Do browser sessions cookies expire when a window is closed if there is no expiration value set?", "body": "<p>I realize there is a difference between a browser closing and a window closing. And it is well documented that a browser being formally 'quit' will clear a cookie that has no set expiration value.</p>\n\n<p>However, depending on the OS and Browser the threshold for what user actions constitute 'quiting' the browser application likely varies.</p>\n\n<p>I've seen some similar questions, but none of the answers really discuss the nuance of cross OS/Browser behavior for cookies in detail, and the potential impacts on UX.</p>\n\n<p>There is a related question posted here touches on firefox behavior, but none of the answers are OS specific or include any details outside of possible firefox behavior.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/3869271/do-session-cookies-expire-when-the-browser-is-closed\">Do session cookies expire when the browser is closed?</a></p>\n"}, {"tags": ["javascript", "jquery", "html", "form-data"], "comments": [{"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 1, "creation_date": 1544653177, "post_id": 53752236, "comment_id": 94357282, "body": "Create a <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Blob/Blob\" rel=\"nofollow noreferrer\">Blob</a> and pass that as the second parameter to append, as is supports <code>Blob</code> or <code>File</code>."}], "answers": [{"tags": [], "owner": {"reputation": 2258, "user_id": 4705221, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cEecftAf1DQ/AAAAAAAAAAI/AAAAAAAAACM/LLt-m2bDNZw/photo.jpg?sz=128", "display_name": "Patrick Murphy", "link": "https://stackoverflow.com/users/4705221/patrick-murphy"}, "is_accepted": false, "score": 2, "last_activity_date": 1544653273, "creation_date": 1544653273, "answer_id": 53752274, "question_id": 53752236, "link": "https://stackoverflow.com/questions/53752236/converting-a-img-src-to-a-input-file-in-javascript-or-jquery/53752274#53752274", "title": "Converting a img src to a input file in javascript or jquery", "body": "<p>Try using a base 64 convert like this post:\n<a href=\"https://stackoverflow.com/questions/22172604/convert-image-url-to-base64\">CONVERT Image url to Base64</a></p>\n\n<pre><code>function getBase64Image(img) {\n  var canvas = document.createElement(\"canvas\");\n  canvas.width = img.width;\n  canvas.height = img.height;\n  var ctx = canvas.getContext(\"2d\");\n  ctx.drawImage(img, 0, 0);\n  var dataURL = canvas.toDataURL(\"image/png\");\n  return dataURL.replace(/^data:image\\/(png|jpg);base64,/, \"\");\n}\n\nvar base64 = getBase64Image(document.getElementById(\"webcamImageToCropFront\"));\n</code></pre>\n\n<p>Then pass your base64 string to the form as it contains all of the image data!</p>\n\n<p>Hope that helps.</p>\n"}], "owner": {"reputation": 10525, "user_id": 1186050, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1aeaf46e73772e9f9c7784bf0ee0705c?s=128&d=identicon&r=PG", "display_name": "user1186050", "link": "https://stackoverflow.com/users/1186050/user1186050"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3953, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1544653273, "creation_date": 1544653047, "question_id": 53752236, "link": "https://stackoverflow.com/questions/53752236/converting-a-img-src-to-a-input-file-in-javascript-or-jquery", "title": "Converting a img src to a input file in javascript or jquery", "body": "<p>How do I convert from a img src to a input of type file?</p>\n\n<p>I'm using webcamjs and it gives me a data_uri for an image src that looks like this</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Webcam.snap(function(data_uri) {\r\n  document.getElementById('my_result_front').innerHTML \r\n      = '&lt;img id=\"webcamImageToCropFront\" src=\"' + data_uri + '\"/&gt;';\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>and now I need to convert the image source into a file that I can pass to my form like this</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = new FormData();\r\ndata.append('file', document.querySelector('#id-file').files[0]);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>where #id-file is a input of type file like this</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"file\" id=\"id-file\" name=\"id-file\" accept=\".jpeg,.jpg,.png\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "svg", "html2canvas"], "answers": [{"comments": [{"owner": {"reputation": 18, "user_id": 4945458, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ejSMQHisQfc/AAAAAAAAAAI/AAAAAAAALBs/AmFvXgMkJQw/photo.jpg?sz=128", "display_name": "Enrique", "link": "https://stackoverflow.com/users/4945458/enrique"}, "edited": false, "score": 0, "creation_date": 1546960669, "post_id": 53790480, "comment_id": 95021715, "body": "Thank you again for your answer Marc, but i have problems with Safari.   As you can check also in your example, the first time Safari generates the image is not showing the background image. The second and following tries, it draws the base64 image without problems.   I don&#39;t know is something about Safari cache or similar, any help will be appreciated."}], "tags": [], "owner": {"reputation": 1341, "user_id": 999375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13234e8a90dd18a8bdaefd300cc875dd?s=128&d=identicon&r=PG", "display_name": "Marc Nuri", "link": "https://stackoverflow.com/users/999375/marc-nuri"}, "is_accepted": true, "score": 1, "last_activity_date": 1546989501, "last_edit_date": 1546989501, "creation_date": 1544859255, "answer_id": 53790480, "question_id": 53752220, "link": "https://stackoverflow.com/questions/53752220/html2canvas-download-image-with-background-image-on-svg/53790480#53790480", "title": "html2canvas download image with background image on SVG", "body": "<p>I don't really understand your question. I think you're asking two things here (Images appear strange, download is not possible due to tainted canvas).</p>\n\n<p>For the first question you should clarify what you're really asking (What does strange mean? what do you want to achieve?...)</p>\n\n<p>For the second (Tainted canvas), you are dealing with a security problem:</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image\" rel=\"nofollow noreferrer\">Allowing cross-origin use of images and canvas</a></p>\n\n<p>The above link explains in depth the problem you are facing.</p>\n\n<p>You should try to use one of the approaches suggested in the link.</p>\n\n<p>I can easily overcome the security problem by using an embedded image data URI within your canvas so that it's no longer tainted. I basically replaced your external image URL with a dataURI. <em>Please try to find a better solution that suits your problem.</em></p>\n\n<p><a href=\"http://jsfiddle.net/tvwgkuz8/\" rel=\"nofollow noreferrer\">Working version of your fiddle (download canvas is possible)</a></p>\n\n<p>Here is the affected code and what I replaced to make it work (truncated):</p>\n\n<pre><code>/* ... */\n            &lt;g id=\"svgPoly4\" clip-path=\"url(#d)\" class=\"droppable\"&gt;\n              &lt;image width=\"500\" height=\"500\" xlink:href=\"data:image/png;base64,iVBORw0KGgoAAAA....ggg==\"&gt;&lt;/image&gt;\n        &lt;/g&gt;\n/* ... */\n</code></pre>\n\n<h2>Update 1 // 2019-01-08</h2>\n\n<p>Sorry, in the original answer I should have been more clear about the security issue you are facing.</p>\n\n<p>Basically you are trying to get a screenshot of a foreign image reformatted/redesigned within an SVG composition. This means that a malicious entity could use this technique to hijack sensitive information (images) from a user in case the browser didn't prevent it.</p>\n\n<p>What you should <strong>really</strong> do to overcome your problem is serve the images embedded in the SVG from the same origin as the rest of the page. If for some reason/use case you require to fetch foreign images for the composition, these images should be proxied by your back-end.</p>\n\n<p>Anyway, I've tweaked a little more your fiddle and now it's usable from Chrome, Firefox and Safari. Edge won't work (but given your initial implementation I guess you haven't tried it yet).</p>\n\n<p><a href=\"http://jsfiddle.net/mvjuhkwq/\" rel=\"nofollow noreferrer\">Upgraded jsFiddle version</a></p>\n\n<p>This version highlights what you should <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image\" rel=\"nofollow noreferrer\">do to replace the image in your SVG</a>.</p>\n\n<p>Note: The image has been previously uploaded to a server that allows cross origin access to resources (it adds <code>Access-Control-Allow-Origin</code> header)</p>\n\n<p>The SVG html is loaded as a template string where the data URL will be replaced when the image is loaded.</p>\n\n<p>Image is loaded:</p>\n\n<pre><code>var downloadedImg = new Image;\ndownloadedImg.crossOrigin = \"Anonymous\";\ndownloadedImg.addEventListener(\"load\", imageReceived, false);\ndownloadedImg.src = \"https://i.imgur.com/szhc74z.png\";\n</code></pre>\n\n<p>Data URL is replaced in template SVG html string:</p>\n\n<pre><code>var svg = svgTemplate.replace('${imageUrl}', dataUrl);\ndocument.getElementById('rootSvg').innerHTML = svg;\n</code></pre>\n\n<p>Additional workaround for Safari:</p>\n\n<p>It appears that there's some kind of issue with html2canvas and the way it \"re-renders\" the SVG.</p>\n\n<p>To mitigate this, <code>html2canvas</code> function is invoked once the SVG is added to the document. This will \"warm up\" the procedure for the \"real\" invocations. </p>\n\n<p>The intention of my fiddle is just to demonstrate that the feat can be accomplished, but <strong>please</strong> try to use the back-end proxy approach or a different design to solve your problem.</p>\n"}], "owner": {"reputation": 18, "user_id": 4945458, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ejSMQHisQfc/AAAAAAAAAAI/AAAAAAAALBs/AmFvXgMkJQw/photo.jpg?sz=128", "display_name": "Enrique", "link": "https://stackoverflow.com/users/4945458/enrique"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1301, "favorite_count": 0, "accepted_answer_id": 53790480, "answer_count": 1, "score": 0, "last_activity_date": 1546989501, "creation_date": 1544652993, "last_edit_date": 1544653437, "question_id": 53752220, "link": "https://stackoverflow.com/questions/53752220/html2canvas-download-image-with-background-image-on-svg", "title": "html2canvas download image with background image on SVG", "body": "<p>Hi html2canvas &amp; SVG masters maybe you can help me, im trying to download an image from a SVG where the user sets images on the SVG areas, but when i generate the image with html2canvas the background images appears strange and to download the generated file, i get an error:\n\"Uncaught (in promise) DOMException: Failed to execute 'toDataURL' on \n'HTMLCanvasElement': Tainted canvases may not be exported.\"</p>\n\n<p>I made an example to better understanding:\n<a href=\"http://jsfiddle.net/equerol/sodofkcs/5711/\" rel=\"nofollow noreferrer\">http://jsfiddle.net/equerol/sodofkcs/5711/</a></p>\n\n<pre><code>  html2canvas(document.getElementById(\"svgContainer\"), {\n    logging: true,\n    allowTaint: true,\n  }).then(function(canvas) {\n    document.body.appendChild(canvas);\n    var myImage = canvas.toDataURL(\"image/png\");\n    downloadURI(\"data:\" + myImage, \"yourImage.png\");\n  });\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"tags": ["javascript", "uikit", "accordion"], "answers": [{"tags": [], "owner": {"reputation": 5030, "user_id": 864908, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/05755c1e63536dfe8e985588c36ce7af?s=128&d=identicon&r=PG", "display_name": "neokio", "link": "https://stackoverflow.com/users/864908/neokio"}, "is_accepted": true, "score": 0, "last_activity_date": 1544719647, "creation_date": 1544719647, "answer_id": 53766521, "question_id": 53752206, "link": "https://stackoverflow.com/questions/53752206/how-do-you-close-any-open-uikit-nav-accordions-via-js/53766521#53766521", "title": "How do you close any open UIkit nav accordions via JS?", "body": "<p>My workaround is here ... <strong><a href=\"https://codepen.io/neokio/pen/OrMNZY\" rel=\"nofollow noreferrer\">https://codepen.io/neokio/pen/OrMNZY</a></strong> ... which basically involves finding the index via ...</p>\n\n<pre><code>var open_index = $('#left-col &gt; div &gt; ul &gt; li.uk-open').index('.uk-parent');\n</code></pre>\n\n<p>... and then UIkit's native toggle method ...</p>\n\n<pre><code>UIkit.nav('.uk-nav-default').toggle(open_index, true);\n</code></pre>\n\n<p>Thanks to @zzseba78 on gitter.im for helping me refine the index.</p>\n"}], "owner": {"reputation": 5030, "user_id": 864908, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/05755c1e63536dfe8e985588c36ce7af?s=128&d=identicon&r=PG", "display_name": "neokio", "link": "https://stackoverflow.com/users/864908/neokio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 746, "favorite_count": 0, "accepted_answer_id": 53766521, "answer_count": 1, "score": 1, "last_activity_date": 1544719647, "creation_date": 1544652947, "last_edit_date": 1544719257, "question_id": 53752206, "link": "https://stackoverflow.com/questions/53752206/how-do-you-close-any-open-uikit-nav-accordions-via-js", "title": "How do you close any open UIkit nav accordions via JS?", "body": "<p>By default, clicking a UIkit nav accordion submenu row will close any already open submenu as it opens its own. But if you click a non-submenu nav row, it does NOT close already open submenus. The docs (<a href=\"https://getuikit.com/docs/nav#accordion\" rel=\"nofollow noreferrer\">https://getuikit.com/docs/nav#accordion</a>) perform the same way.</p>\n\n<p>I find this behavior inconsistent and undesirable. Ideally there's be be a <code>UIkit.nav(element).reset();</code> method to close all open menu items, but none seems to exist.</p>\n\n<p>My guess is that I need to use the built-in <code>click</code> event, but I have no idea how to approach this. UIkit JS docs and examples are few and far between, adding to the challenge.</p>\n"}, {"tags": ["javascript"], "answers": [{"tags": [], "owner": {"reputation": 1949, "user_id": 382140, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/238346376d9643f60c34635fad6f9517?s=128&d=identicon&r=PG", "display_name": "pithhelmet", "link": "https://stackoverflow.com/users/382140/pithhelmet"}, "is_accepted": true, "score": 0, "last_activity_date": 1544718072, "creation_date": 1544718072, "answer_id": 53766071, "question_id": 53752190, "link": "https://stackoverflow.com/questions/53752190/populating-properties-at-runtime/53766071#53766071", "title": "Populating properties at runtime", "body": "<p>The answer to the question is....   it is a unicode issue, javascript does not represent unicode into a string as i was expecting it.  So i found a quick fiddle\nfrom \nuser4322543 \non this thread...\n<a href=\"https://stackoverflow.com/questions/17267329/converting-unicode-character-to-string-format\">Converting unicode character to string format</a></p>\n\n<p>While adding the inline code to correct the unicode into a regular string..</p>\n\n<pre><code>        color: this._defCallLocColor,\n        text: unicodeToCharIgnoreCap(this._defCallLocIcon),\n        font: {\n          size: this._defCallLocSize,\n</code></pre>\n\n<p>Provided a solution that works.</p>\n"}], "owner": {"reputation": 1949, "user_id": 382140, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/238346376d9643f60c34635fad6f9517?s=128&d=identicon&r=PG", "display_name": "pithhelmet", "link": "https://stackoverflow.com/users/382140/pithhelmet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 53766071, "answer_count": 1, "score": 0, "last_activity_date": 1544718072, "creation_date": 1544652841, "question_id": 53752190, "link": "https://stackoverflow.com/questions/53752190/populating-properties-at-runtime", "title": "Populating properties at runtime", "body": "<p>I have an view object (esri, javascript 4.9) and i am trying to populate the properties.</p>\n\n<p>The code block works fine when i hard code in the values, but it is failing when i try to use a string variable at runtime.</p>\n\n<p>Here is the code, populated with hard coded values</p>\n\n<pre><code>    view.graphics.add({\n      id: \"centers\",\n      symbol: {\n        type: \"text\",\n        color: \"black\",\n        text: \"\\ue62f\",\n        font: {\n          size: this._defCallLocSize,\n          family: \"CalciteWebCoreIcons\"\n        }\n      },\n      geometry: {\n        type: \"point\",\n        latitude: parseFloat(_lat),\n        longitude: parseFloat(_lon)\n      },\n      popupTemplate: {\n        title: \"\",\n        content: \"\"\n      }\n    });\n</code></pre>\n\n<p>And here is the code with the global variable</p>\n\n<pre><code>    view.graphics.add({\n      id: \"centers\",\n      symbol: {\n        type: \"text\",\n        color: this._defCallLocColor,\n        text: this._defCallLocIcon,\n        font: {\n          size: this._defCallLocSize,\n          family: \"CalciteWebCoreIcons\"\n        }\n      },\n      geometry: {\n        type: \"point\",\n        latitude: parseFloat(_lat),\n        longitude: parseFloat(_lon)\n      },\n      popupTemplate: {\n        title: \"\",\n        content: \"\"\n      }\n    });\n</code></pre>\n\n<p>The this._defCallLocColor, when looked at in the debugger, acts like a string (  \"black\"  )\nbut during runtime, the color is being displayed as white (default esri)</p>\n\n<p>Now to add a little more to the mix...   the lat and lon are working correctly, using global _lat and _lon</p>\n\n<p>So the primary question is this,  why is the global variable this._defCallLocColor  not being seen as a string when being placed into the object?</p>\n"}, {"tags": ["javascript", "jquery", "html", "mysql"], "answers": [{"tags": [], "owner": {"reputation": 704, "user_id": 1346741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e0757b21d7bc22ce0c5621101e8d3f7?s=128&d=identicon&r=PG", "display_name": "Harvey A. Ramer", "link": "https://stackoverflow.com/users/1346741/harvey-a-ramer"}, "is_accepted": false, "score": 0, "last_activity_date": 1544654335, "creation_date": 1544654335, "answer_id": 53752457, "question_id": 53752176, "link": "https://stackoverflow.com/questions/53752176/is-there-anyway-to-connect-and-edit-mysql-in-vsc/53752457#53752457", "title": "Is there anyway to connect and edit MySql in VSC?", "body": "<p>Welcome to Stack Overflow Andreas! Querying MySQL requires a server, and is not possible from HTML/JS alone.</p>\n\n<p>Typically, a web application is comprised of a client application using HTML/CSS and Javascript that calls API endpoints provided by a back-end server (you may be most comfortable <a href=\"https://code.visualstudio.com/docs/nodejs/nodejs-tutorial\" rel=\"nofollow noreferrer\">learning NodeJS with Express</a>).</p>\n\n<p>Querying MySQL from Node is done using an npm package such as <a href=\"https://www.npmjs.com/package/mysql\" rel=\"nofollow noreferrer\">mysql</a>.</p>\n\n<p>As you continue your learning journey, please try to be very specific regarding what aspect of the technology stack you are addressing. The more specific your question, the better your answers will be.</p>\n"}], "owner": {"reputation": 1, "user_id": 10688341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9195e9074c84d43e3de94ae8e0c0d090?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/10688341/andreas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1544655199, "creation_date": 1544652772, "last_edit_date": 1544655199, "question_id": 53752176, "link": "https://stackoverflow.com/questions/53752176/is-there-anyway-to-connect-and-edit-mysql-in-vsc", "title": "Is there anyway to connect and edit MySql in VSC?", "body": "<p>I'm completely new to this database stuff and I have looked everywhere for the answer to this question. </p>\n\n<p>I'm trying to practice MySql and thought it would be cool if I could connect my database to VSC and use it with CSS to style and add Jquery/JS to my tables.</p>\n\n<p>I have looked everywhere, but can only figure out how to make queries with the help from MySql plugin, is there anyway to connect it to my code?</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1544653097, "post_id": 53752157, "comment_id": 94357240, "body": "As soon as a top category doesn&#39;t match the search, it gets hidden. Along with its children. Type for instance &quot;ho&quot; into the search field, and it &quot;works&quot;, because that&#39;s in all levels."}, {"owner": {"reputation": 253, "user_id": 2589198, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/265b9516ec68235991c1e1d14818424d?s=128&d=identicon&r=PG", "display_name": "dchadney", "link": "https://stackoverflow.com/users/2589198/dchadney"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1544654085, "post_id": 53752157, "comment_id": 94357642, "body": "Yes but what I want to happen is that the children don&#39;t get hidden. I want everything to show that is relevant to search. So if I type &#39;car&#39; I will get cars on first and second levels and carrots on the third level."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1544654309, "post_id": 53752157, "comment_id": 94357731, "body": "I know. You were asking what you are doing wrong, and I told you. Now it&#39;s your job to fix it, for instance by hiding the &lt;label&gt;s instead of the &lt;li&gt;s. If you get stuck, put your edited code in the question."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1544708667, "post_id": 53752157, "comment_id": 94378087, "body": "I&#39;m not seeing any aggression or rudeness in my previous comment. Anyway, your question does not read <i>at all</i> as if you already knew what the problem was (<code>I can&#39;t for the life of me figure out why they are not showing.</code>), or you would&#39;ve asked how to prevent the children from getting hidden along with the parents from the start. So naturally I interpreted your comment as pretending to already know what I just told you, and repeating my &quot;the problem is X&quot; statement back at me. So excuse me for not being extremely friendly in my reply to that."}], "answers": [{"tags": [], "owner": {"reputation": 253, "user_id": 2589198, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/265b9516ec68235991c1e1d14818424d?s=128&d=identicon&r=PG", "display_name": "dchadney", "link": "https://stackoverflow.com/users/2589198/dchadney"}, "is_accepted": true, "score": 0, "last_activity_date": 1544706519, "creation_date": 1544706519, "answer_id": 53762602, "question_id": 53752157, "link": "https://stackoverflow.com/questions/53752157/search-filter-with-nested-list-children-jquery-javascript/53762602#53762602", "title": "Search filter with nested list / children - jQuery JavaScript", "body": "<p>I've come up with a different and simpler approach to this...</p>\n\n<pre><code>  function searchFunction(elm, list) {\n    var input = $(\"#input-search\");\n\n    $(input).keyup(function() {\n      var searchTerms = $(this).val();\n\n      $('li').each(function() {\n\n        var hasMatch = searchTerms.length == 0 ||\n          $(this).text().toLowerCase().indexOf(searchTerms.toLowerCase()) &gt; 0;\n            $(this).toggle(hasMatch);\n\n      });\n    });\n  }\n</code></pre>\n"}], "owner": {"reputation": 253, "user_id": 2589198, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/265b9516ec68235991c1e1d14818424d?s=128&d=identicon&r=PG", "display_name": "dchadney", "link": "https://stackoverflow.com/users/2589198/dchadney"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 434, "favorite_count": 0, "accepted_answer_id": 53762602, "answer_count": 1, "score": -1, "last_activity_date": 1544706519, "creation_date": 1544652663, "question_id": 53752157, "link": "https://stackoverflow.com/questions/53752157/search-filter-with-nested-list-children-jquery-javascript", "title": "Search filter with nested list / children - jQuery JavaScript", "body": "<p>I have a checkbox tree structure that I am using to make selections - but I also want to be able to filter what is shown. If you type in the search box the items that don't match will be hidden. However this isn't working for the items in the nested lists. They are just ignored. I can't for the life of me figure out why they are not showing. I've tried multiple selectors and parent/child variations but nothing is working. </p>\n\n<p>Here is my jsfiddle showing what I currently have:\n<a href=\"http://jsfiddle.net/7p2avm56/2/\" rel=\"nofollow noreferrer\">fiddle</a></p>\n\n<p>Here is the bit of code that is handling the search filter:</p>\n\n<pre><code>    function searchFunction() {\n\n      var input, filter, ul, li, div, i, heading;\n\n      input = document.getElementById(\"input-search\");\n\n      filter = input.value.toUpperCase();\n\n      ul = document.getElementById(\"treeview\");\n\n      li = $('#treeview .list-group-wrapper li');\n\n      for (i = 0; i &lt; li.length; i++) {\n        div = li[i].getElementsByClassName(\"custom-control-label\")[0];\n        if (div.innerHTML.toUpperCase().indexOf(filter) &gt; -1) {\n          li[i].style.display = \"\";\n        } else {\n          li[i].style.display = \"none\";\n        }\n      }\n\n    }\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["javascript", "forms", "google-apps-script", "web-applications"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 4, "creation_date": 1544652654, "post_id": 53752143, "comment_id": 94357070, "body": "when it &quot;doesn&#39;t work&quot;, what happens instead?"}, {"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1544653032, "post_id": 53752143, "comment_id": 94357216, "body": "@JaromandaX &quot;doesn&#39;t work&quot; obviously means, that the alert is not being displayed... because it has no single other function than being displayed."}, {"owner": {"reputation": 101, "user_id": 9801434, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ME5kK.jpg?s=128&g=1", "display_name": "ldoucette", "link": "https://stackoverflow.com/users/9801434/ldoucette"}, "edited": false, "score": 0, "creation_date": 1544653199, "post_id": 53752143, "comment_id": 94357291, "body": "Nothing.  I check on the execution list of GSuite Developer Hub and nothing happens there."}, {"owner": {"reputation": 101, "user_id": 9801434, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ME5kK.jpg?s=128&g=1", "display_name": "ldoucette", "link": "https://stackoverflow.com/users/9801434/ldoucette"}, "edited": false, "score": 0, "creation_date": 1544653271, "post_id": 53752143, "comment_id": 94357312, "body": "If I delete the alert statement nothing happens, it only works if the alert is there."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "reply_to_user": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1544654062, "post_id": 53752143, "comment_id": 94357631, "body": "@MartinZeitler - clearly if the alert isn&#39;t there it isn&#39;t displayed"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 1, "creation_date": 1544654119, "post_id": 53752143, "comment_id": 94357656, "body": "the issue is probably how you&#39;re calling submitForm function - does <code>function submitForm(e) { e.prevendDefault(); ... rest of your code }</code> help?"}, {"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1544654424, "post_id": 53752143, "comment_id": 94357774, "body": "@JaromandaX the UI has it&#39;s own client-side scripts queued - and as my answer suggests, that alert should be pushed into that server-side queue with <code>google.script.run</code>, which runs these client-side scripts; else changes are good it may interfere."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1544654621, "post_id": 53752143, "comment_id": 94357844, "body": "oh ... didnt&#39; see that this was some google stuff - my bad"}, {"owner": {"reputation": 101, "user_id": 9801434, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ME5kK.jpg?s=128&g=1", "display_name": "ldoucette", "link": "https://stackoverflow.com/users/9801434/ldoucette"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 1, "creation_date": 1544655257, "post_id": 53752143, "comment_id": 94358079, "body": "I did your e.preventDefault() @JaromandaX ... it&#39;s working!  You can put that on the answer so that I can vote on it.  Thank you!"}, {"owner": {"reputation": 32101, "user_id": 8404453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/616cb81bb678bb5b17869511b2a41367?s=128&d=identicon&r=PG&f=1", "display_name": "TheMaster", "link": "https://stackoverflow.com/users/8404453/themaster"}, "reply_to_user": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1544656907, "post_id": 53752143, "comment_id": 94358581, "body": "@Martin It&#39;s not client side web-app. This is a remote web-app script(running @ <a href=\"http://localhost\" rel=\"nofollow noreferrer\">localhost</a> ?) posting to a published gas-webapp. Jaromanda is right."}, {"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "reply_to_user": {"reputation": 32101, "user_id": 8404453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/616cb81bb678bb5b17869511b2a41367?s=128&d=identicon&r=PG&f=1", "display_name": "TheMaster", "link": "https://stackoverflow.com/users/8404453/themaster"}, "edited": false, "score": 0, "creation_date": 1544656989, "post_id": 53752143, "comment_id": 94358612, "body": "@TheMaster the <code>$</code> clearly hints for jQuery... which is client-side <i>script</i>."}, {"owner": {"reputation": 32101, "user_id": 8404453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/616cb81bb678bb5b17869511b2a41367?s=128&d=identicon&r=PG&f=1", "display_name": "TheMaster", "link": "https://stackoverflow.com/users/8404453/themaster"}, "reply_to_user": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1544657117, "post_id": 53752143, "comment_id": 94358655, "body": "@Martin Yes. Jquery running in local host/OP&#39;s own website... client side is not at script.google.com and there&#39;s no <code>google.script.run</code>"}, {"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "reply_to_user": {"reputation": 32101, "user_id": 8404453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/616cb81bb678bb5b17869511b2a41367?s=128&d=identicon&r=PG&f=1", "display_name": "TheMaster", "link": "https://stackoverflow.com/users/8404453/themaster"}, "edited": false, "score": 0, "creation_date": 1544662269, "post_id": 53752143, "comment_id": 94359893, "body": "@TheMaster think you didn&#39;t read the question too well; it is tagged <code>google-app-script</code>. that jQuery script runs in an <code>iframe</code> sidebar or modal dialog - nevertheless it is being displayed with GAS and that name-space is available; the situation commonly are two client-side scripts running side-by-side - which can interact through the backend with <code>google.script.run</code>."}, {"owner": {"reputation": 32101, "user_id": 8404453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/616cb81bb678bb5b17869511b2a41367?s=128&d=identicon&r=PG&f=1", "display_name": "TheMaster", "link": "https://stackoverflow.com/users/8404453/themaster"}, "reply_to_user": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 1, "creation_date": 1544694959, "post_id": 53752143, "comment_id": 94370309, "body": "@Martin The GAS is a published web-app (with no client side in this case). You can POST to a GAS url from anywhere in the world. That&#39;s my point. See <a href=\"https://developers.google.com/apps-script/guides/content\" rel=\"nofollow noreferrer\">here</a> : <code>doGet()and doPost() are invoked whenever a request is made to the script&#39;s URL</code> Here, A POST request is made to the script&#39;s published url remotely from localhost/ another website. The script posted above doesn&#39;t run in a <code>iframe</code>(Although that&#39;s more common)"}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 9801434, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ME5kK.jpg?s=128&g=1", "display_name": "ldoucette", "link": "https://stackoverflow.com/users/9801434/ldoucette"}, "edited": false, "score": 0, "creation_date": 1544659103, "post_id": 53753057, "comment_id": 94359207, "body": "I customized my function call to have the event parameter.  Thanks!"}], "tags": [], "owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "is_accepted": false, "score": 1, "last_activity_date": 1544658196, "creation_date": 1544658196, "answer_id": 53753057, "question_id": 53752143, "link": "https://stackoverflow.com/questions/53752143/post-works-with-alert-message-but-doesnt-without-it/53753057#53753057", "title": "POST works with alert message but doesn&#39;t without it", "body": "<p>You haven't shown exactly how that function is called, but it's likely to be because, if this is truly a \"form submit\" action, the result of submitting a form is to \"load a new page\" (which can be the same page you're on, and is so by default with no <code>action</code> attribute in the form tag</p>\n\n<p>Since you want to perform AJAX on form submit, you need to \"prevent\" the \"default\" form submit action - this can be achieved as shown in the second and third lines below</p>\n\n<pre><code> var url =\"MY WEBAPP EXEC\"\n function submitForm(e) { // if this function is called using an event handler, it gets an event as the first and only argument\n    e.preventDefault(); // prevent the \"default\" form submit action\n    var postRequest = {}\n    postRequest.name = $(\"#inputName\").val();\n    postRequest.email = $(\"#inputEmail1\").val();\n    postRequest.message = $(\"#inputMessage\").val();\n\n    alert(JSON.stringify(postRequest));  // this alert\n\n    $.post(url, postRequest, function(data,status){\n       alert('success')\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 9801434, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ME5kK.jpg?s=128&g=1", "display_name": "ldoucette", "link": "https://stackoverflow.com/users/9801434/ldoucette"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1544658196, "creation_date": 1544652574, "last_edit_date": 1544657711, "question_id": 53752143, "link": "https://stackoverflow.com/questions/53752143/post-works-with-alert-message-but-doesnt-without-it", "title": "POST works with alert message but doesn&#39;t without it", "body": "<p>I am making a post request to google app script with the code below </p>\n\n<pre><code>    var url =\"MY WEBAPP EXEC\"\n\n     function submitForm() {\n        var postRequest = {}\n        postRequest.name = $(\"#inputName\").val();\n        postRequest.email = $(\"#inputEmail1\").val();\n        postRequest.message = $(\"#inputMessage\").val();\n\n        alert(JSON.stringify(postRequest));  // this alert\n\n        $.post(url, postRequest, function(data,status){\n           alert('success')\n        });\n    }\n</code></pre>\n\n<p>I am very confused why the post is working with the alert but doesn't work without it.  Thank you.</p>\n\n<p>===\nOK I guess my question was not clear enough sorry.</p>\n\n<p>I have a form accessing GAS remotely.  I assumed the url implied that I was accessing GAS remotely.  At the moment I am working on my localhost and on my JS above it works if the alert statement is present and does not do anything if alert is not there.</p>\n\n<p>I was watching the execution list on GSuite Developer Hub to see if the request failed or completed.  I observed if the alert statement is in the script the execution status is completed but if the alert statement is not there nothing happens.  I assume that my post script is not working if alert is not there.  Any idea why?</p>\n"}, {"tags": ["javascript", "import", "global-variables"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1544652701, "post_id": 53752106, "comment_id": 94357090, "body": "Are you positive you&#39;re running <code>getData()</code> <i>after</i> the server received the message?"}, {"owner": {"reputation": 305, "user_id": 10470351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1c3a80bf4b74b300e9c43eb0c5606de?s=128&d=identicon&r=PG&f=1", "display_name": "AustinFoss", "link": "https://stackoverflow.com/users/10470351/austinfoss"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1544652789, "post_id": 53752106, "comment_id": 94357119, "body": "Woops, I started with the title intended as a different question, over the course of writing this the title isn&#39;t accurate anymore. Would like to change to &quot;Javascript: sharing a class object between scripts&quot;  Don&#39;t know how to change it. That is my bad."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1544652842, "post_id": 53752106, "comment_id": 94357141, "body": "Click on &quot;edit&quot; and edit the title."}, {"owner": {"reputation": 305, "user_id": 10470351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1c3a80bf4b74b300e9c43eb0c5606de?s=128&d=identicon&r=PG&f=1", "display_name": "AustinFoss", "link": "https://stackoverflow.com/users/10470351/austinfoss"}, "edited": false, "score": 0, "creation_date": 1544652893, "post_id": 53752106, "comment_id": 94357163, "body": "Thanks!, still semi-new to learning where everything is located in the UX"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1544652937, "post_id": 53752106, "comment_id": 94357174, "body": "As @ChrisG suggested, the problem is that you&#39;re updating <code>ceres1</code> asynchronously, but <code>test.js</code> is printing it synchronously."}, {"owner": {"reputation": 305, "user_id": 10470351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1c3a80bf4b74b300e9c43eb0c5606de?s=128&d=identicon&r=PG&f=1", "display_name": "AustinFoss", "link": "https://stackoverflow.com/users/10470351/austinfoss"}, "edited": false, "score": 0, "creation_date": 1544652994, "post_id": 53752106, "comment_id": 94357196, "body": "I used to have a <code>get stats() {}</code> method within the constructor and was getting errors. That was my original starting point and be playing with this question for an hour so I&#39;m now taking this approach."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1544653336, "post_id": 53752106, "comment_id": 94357347, "body": "Also, how exactly are you running this? If you do <code>node server.js</code> in one terminal window, and <code>node test.js</code> in another, they won&#39;t share data."}, {"owner": {"reputation": 305, "user_id": 10470351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1c3a80bf4b74b300e9c43eb0c5606de?s=128&d=identicon&r=PG&f=1", "display_name": "AustinFoss", "link": "https://stackoverflow.com/users/10470351/austinfoss"}, "edited": false, "score": 0, "creation_date": 1544653394, "post_id": 53752106, "comment_id": 94357373, "body": "I&#39;m not sure my question has been correctly marked as duplicate. The response posted by the moderator doesn&#39;t seem relevant. The code in test.js shouldn&#39;t have to be run asynchronous with the server.js file because it&#39;s a manual trigger. The server is simply looping and saving updated data to the class object every 5seconds. The test.js file is simply meant to ask what values are saved to that object every time I trigger it manually."}, {"owner": {"reputation": 305, "user_id": 10470351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1c3a80bf4b74b300e9c43eb0c5606de?s=128&d=identicon&r=PG&f=1", "display_name": "AustinFoss", "link": "https://stackoverflow.com/users/10470351/austinfoss"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1544653469, "post_id": 53752106, "comment_id": 94357403, "body": "@Chris G, yes, two terminal windows...... As I read your question there it became exceedingly obvious why this would be. Derp"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1544654393, "post_id": 53752106, "comment_id": 94357762, "body": "Do you want me to reopen this? Or are you done with the question for now?"}], "owner": {"reputation": 305, "user_id": 10470351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1c3a80bf4b74b300e9c43eb0c5606de?s=128&d=identicon&r=PG&f=1", "display_name": "AustinFoss", "link": "https://stackoverflow.com/users/10470351/austinfoss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 14, "favorite_count": 0, "closed_date": 1544652960, "answer_count": 0, "score": 0, "last_activity_date": 1544652854, "creation_date": 1544652417, "last_edit_date": 1544652854, "question_id": 53752106, "link": "https://stackoverflow.com/questions/53752106/javascript-sharing-a-class-object-between-scripts", "closed_reason": "Duplicate", "title": "Javascript: Sharing a class object between scripts", "body": "<p>I'm sure this is a simple syntax thing that I'm just not getting but here's my code. The purpose of which is to have an object that is shared between two other scripts.</p>\n\n<p>The object saved as canStat.js</p>\n\n<pre><code>class cCan {\n  constructor() {\n    this.tmp = 0;\n    this.hum = 0;\n    this.isRelay1 = false;\n    this.isRelay2 = false;\n    this.isRelay3 = false;\n    this.isRelay4 = false;\n  }\n}\n\nmodule.exports = cCan;\n</code></pre>\n\n<p>next door to that file I have a script listening for data to be received, <code>server.js</code> which it is successfully over UDP, that should be saved to that object as follows.</p>\n\n<pre><code>const dgram = require('dgram');\nconst listener = dgram.createSocket('udp4');\n\nconst cCan = require('./canStat');\n\nvar ceres1 = new cCan();\n\nlistener.on('message', (msg, rinfo) =&gt; {\n\n  if (msg.readUInt8(0) == 1 ) {\n\n    console.log(\"Received Packet\");\n    console.log(\"IP: \", `${rinfo.address}`);\n    console.log(\"Port: \", `${rinfo.port}`);\n    console.log(\"Byte Size: \", `${rinfo.size}`);\n    console.log(\"Humidity: \", msg.readUInt8(2), \"%\");\n    console.log(\"Temperature: \", msg.readUInt8(1), \"C\");\n\n    ceres1.tmp = msg.readUInt8(1);\n    ceres1.hum = msg.readUInt8(2);\n\n\n    if (msg.readUInt8(3) == 0) {\n      ceres1.isRelay1 = true;\n      console.log(\"Cooler Relay is On\");\n    } else {\n      ceres1.isRelay1 = false;\n      console.log(\"Cooler Relay is Off\")\n    }\n\n    if (msg.readUInt8(4) == 0) {\n      ceres1.isRelay2 = true;\n      console.log(\"Humidifier Relay is On\");\n    } else {\n      ceres1.isRelay2 = false;\n      console.log(\"Humidifier Relay is Off\")\n    }\n\n    if (msg.readUInt8(5) == 0) {\n      ceres1.isRelay3 = true;\n      console.log(\"Fan Relay is On\");\n    } else {\n      ceres1.isRelay3 = false;\n      console.log(\"Fan Relay is Off\")\n    }\n\n    if (msg.readUInt8(6) == 0) {\n      ceres1.isRelay4 = true;\n      console.log(\"Lighting Relay is On\");\n    } else {\n      ceres1.isRelay4 = false;\n      console.log(\"Lighting Relay is Off\")\n    }\n\n    console.log(\n      ceres1.tmp,\n      ceres1.hum,\n      ceres1.isRelay1,\n      ceres1.isRelay2,\n      ceres1.isRelay3,\n      ceres1.isRelay4\n    );\n\n  }\n\n});\n\nmodule.exports = ceres1;\n</code></pre>\n\n<p>Two folders down from these two (within the master \"app\" folder) is located (<code>app/api/routes/test.js</code>), test.js</p>\n\n<pre><code>var ceres1 = require('../../server');\n\n// Get data\nfunction getData() {\n\n  console.log(\n    ceres1.tmp,\n    ceres1.hum,\n    ceres1.isRelay1,\n    ceres1.isRelay2,\n    ceres1.isRelay3,\n    ceres1.isRelay4\n  );\n\n}\n\ngetData();\n</code></pre>\n\n<p>However this is doesn't appear to be saving to a common class object and is returning the constructor function values (0, 0, false, false, false, false), where as the first console.log in the <code>server.js</code> reports that the values are being saved to the object <code>ceres1</code>.</p>\n\n<p>What do I have to do to have to have these two scripts, <code>server.js</code> &amp; <code>test.js</code>, to share the same class object? Thanks!</p>\n"}, {"tags": ["javascript", "next.js"], "answers": [{"comments": [{"owner": {"reputation": 1371, "user_id": 1796381, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/VZmXs.png?s=128&g=1", "display_name": "MoHo", "link": "https://stackoverflow.com/users/1796381/moho"}, "edited": false, "score": 0, "creation_date": 1544856958, "post_id": 53756426, "comment_id": 94431649, "body": "is that answer helped you?"}], "tags": [], "owner": {"reputation": 1371, "user_id": 1796381, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/VZmXs.png?s=128&g=1", "display_name": "MoHo", "link": "https://stackoverflow.com/users/1796381/moho"}, "is_accepted": false, "score": 0, "last_activity_date": 1544685695, "last_edit_date": 1544685695, "creation_date": 1544683840, "answer_id": 53756426, "question_id": 53752057, "link": "https://stackoverflow.com/questions/53752057/what-is-the-best-way-to-do-a-route-in-next-js/53756426#53756426", "title": "What is the best way to do a route in next.js", "body": "<p><strong>Next.js</strong> will give you routing out of the box with putting your file in <code>pages</code> directory</p>\n\n<p>Let's say you have <code>pages/index.js</code></p>\n\n<pre><code>    import Link from 'next/link'\n\nfunction getSitemaps () {\n  return [\n    {\n      id:\"1\",\n      title: \"sitemap-providers-location-procedure\",\n      s: \"providers\",\n      abbr: \"by_procedure\",\n    },\n    {\n      id:\"2\",\n      title: \"sitemap-specialties-location-city\",\n      s: \"specialties\",\n      abbr: \"by_city\",\n    }\n  ]\n}\n\nconst SitemapLink = ({post}) =&gt; (\n  &lt;li&gt;\n    &lt;Link as={`/sitemap/${post.s}/by_location/${post.abbr}`} href={`/sitemap?title=${post.title}`}&gt;\n      &lt;a&gt;{post.title}&lt;/a&gt;\n    &lt;/Link&gt;\n  &lt;/li&gt;\n)\n\nexport default () =&gt; (\n&lt;div&gt;\n  &lt;h1&gt;Links&lt;/h1&gt;\n  &lt;ul&gt;\n    {getSitemaps().map((sitemap) =&gt; (\n      &lt;SitemapLink key={sitemap.id} post={sitemap}/&gt;\n    ))}\n  &lt;/ul&gt;\n&lt;/div&gt;\n)\n</code></pre>\n\n<p>and there is another file<code>pages/sitemap.js</code></p>\n\n<pre><code>    import {withRouter} from 'next/router'\n\nconst Page = withRouter((props) =&gt; (\n  &lt;div&gt;\n    &lt;h1&gt;{props.router.query.title}&lt;/h1&gt;\n    &lt;p&gt;This is the page content.&lt;/p&gt;\n  &lt;/div&gt;\n))\n\nexport default Page\n</code></pre>\n\n<p>Now you have that dynamic routes.</p>\n\n<p>You don't need any magic or pattern in next.js to create route.</p>\n"}], "owner": {"reputation": 11, "user_id": 7681188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e9f62fdeb5fb0919a8a18057e6736dc?s=128&d=identicon&r=PG&f=1", "display_name": "Lauren Grapstein", "link": "https://stackoverflow.com/users/7681188/lauren-grapstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 403, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1544685695, "creation_date": 1544652176, "question_id": 53752057, "link": "https://stackoverflow.com/questions/53752057/what-is-the-best-way-to-do-a-route-in-next-js", "title": "What is the best way to do a route in next.js", "body": "<p>I'm a bit of a beginner at javascript but I am using next routes which uses path-to-regexp under the hood.</p>\n\n<p>I have a page that has a list of links. The route for this page is <code>/locations/s-:specialty-providers</code> with \"specialty\" being the only dynamic part.</p>\n\n<p>When I click on one of the links on the page, it reroutes me to <code>/locations/s-s-:specialty-providers/:abbr</code> (where both specialty and abbr are dynamic) when it should be rerouting to <code>/locations/s-:specialty-providers/:abbr</code>.</p>\n\n<p>Routes file:</p>\n\n<p><code>{\n    name: 'sitemap-providers-location-procedure',\n    page: 'sitemap/providers/by_location/by_procedure',\n    pattern: '/locations/:procedure-providers'\n  },\n  {\n    name: 'sitemap-specialties-location-city',\n    page: 'sitemap/specialties/by_location/by_city',\n    pattern: '/locations/s-:specialty-providers/:abbr'\n  },</code></p>\n"}, {"tags": ["javascript", "reactjs", "babeljs", "babel-register"], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 3523583, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/79c002d59a786536a72a29beb4a14088?s=128&d=identicon&r=PG&f=1", "display_name": "user3523583", "link": "https://stackoverflow.com/users/3523583/user3523583"}, "edited": false, "score": 0, "creation_date": 1544696973, "post_id": 53752600, "comment_id": 94371463, "body": "Thanks a lot for your input. I tried with the escaping but still the same unsuccessful result"}], "tags": [], "owner": {"reputation": 348, "user_id": 4647867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afc2951daf80c29f4b6f0cd732cf3035?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Skubicki", "link": "https://stackoverflow.com/users/4647867/thomas-skubicki"}, "is_accepted": false, "score": 0, "last_activity_date": 1544655019, "creation_date": 1544655019, "answer_id": 53752600, "question_id": 53752056, "link": "https://stackoverflow.com/questions/53752056/what-is-the-right-regex-pattern-for-ignore-in-babel-register/53752600#53752600", "title": "What is the right regex pattern for ignore in @babel/register", "body": "<p>Those forward slashes in that regex may need to be escaped</p>\n\n<pre><code> 'node_modules\\/(?!(ol)\\/)'\n</code></pre>\n\n<p>That regex throws errors in regex101.com</p>\n"}, {"tags": [], "owner": {"reputation": 93, "user_id": 3523583, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/79c002d59a786536a72a29beb4a14088?s=128&d=identicon&r=PG&f=1", "display_name": "user3523583", "link": "https://stackoverflow.com/users/3523583/user3523583"}, "is_accepted": false, "score": 0, "last_activity_date": 1544728566, "creation_date": 1544728566, "answer_id": 53768649, "question_id": 53752056, "link": "https://stackoverflow.com/questions/53752056/what-is-the-right-regex-pattern-for-ignore-in-babel-register/53768649#53768649", "title": "What is the right regex pattern for ignore in @babel/register", "body": "<p>So, thanks to @Thomas Skubicki, the regex slashes had to be escaped, two more slashes had to be put at the beginning and end of the reg expression and single quotes had to be removed, this is the correct working version of the <code>babel-register.js</code> file.</p>\n\n<pre><code>require(\"@babel/polyfill\");\nrequire(\"@babel/register\")({\n    // Array of ignore conditions, either a regex or a function. (Optional)\n    ignore: [\n      // When a file path matches this regex then it is **not** compiled\n      /node_modules\\/(?!(ol)\\/)/\n\n      // The file's path is also passed to any ignore functions. It will\n      // **not** be compiled if `true` is returned.\n      //function(filepath) {\n        //return filepath !== \"/path/to/es6-file.js\";\n      //},\n    ],\n\n    presets : [\"react-app\"],\n    plugins : [\n        \"@babel/plugin-transform-modules-commonjs\", \n        \"inline-react-svg\",\n    ],\n\n    //root: __dirname,\n\n    // Optional only regex - if any filenames **don't** match this regex then they\n    // aren't compiled\n    //only: /my_es6_folder/,\n\n    // Setting this will remove the currently hooked extensions of `.es6`, `.es`, `.jsx`, `.mjs`\n    // and .js so you'll have to add them back if you want them to be used again.\n    extensions: [\".es6\", \".es\", \".jsx\", \".js\", \".mjs\"],\n\n    // Setting this to false will disable the cache.\n    cache: false,\n  });\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 3523583, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/79c002d59a786536a72a29beb4a14088?s=128&d=identicon&r=PG&f=1", "display_name": "user3523583", "link": "https://stackoverflow.com/users/3523583/user3523583"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 940, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1544728566, "creation_date": 1544652176, "question_id": 53752056, "link": "https://stackoverflow.com/questions/53752056/what-is-the-right-regex-pattern-for-ignore-in-babel-register", "title": "What is the right regex pattern for ignore in @babel/register", "body": "<p>I am running mocha on some React components that contain openlayers, the new update <a href=\"https://www.npmjs.com/package/ol\" rel=\"nofollow noreferrer\">ol modules</a> are all written only in ES6 and they have to be transpiled before being passed to mocha for testing. </p>\n\n<p>I am using <code>@babel/register</code> and I am requiring a <code>babel-register.js</code> file in which I require @babel/register and input all the options and presets/plugins. I does not transpile and I get the error you will see down below. All I would like is requiring only the node_modules/ol and recursively all files and subfolders to transpile is the regex correct? Is there anything else wrong? My babel-register.js is as follows:</p>\n\n<pre><code>require(\"@babel/polyfill\");\nrequire(\"@babel/register\")({\n    ignore: [\n      // When a file path matches this regex then it is **not** compiled\n      'node_modules/(?!(ol)/)'\n    ],\n\npresets : [\"react-app\", \"@babel/preset-env\"],\nplugins : [\n    \"@babel/plugin-transform-modules-commonjs\", \n    \"inline-react-svg\",\n    \"@babel/plugin-syntax-dynamic-import\",\n    \"@babel/plugin-transform-runtime\"\n],\n\n//root: __dirname,\nextensions: [\".es6\", \".es\", \".jsx\", \".js\", \".mjs\"],\n\n// Setting this to false will disable the cache.\ncache: false,\n});\n</code></pre>\n\n<p>Below is the error message I get from transiplation (I am not sure is because of regex):</p>\n\n<pre><code>/home/Development/test-openlayers/node_modules/@babel/runtime/helpers/typeof.js:8\n  if (typeof Symbol === \"function\" &amp;&amp; (0, _typeof4.default)(Symbol.iterator) === \"symbol\") {\n                                                           ^\n\nTypeError: (0 , _typeof4.default) is not a function\n    at _typeof2 (/home/alessandro/Development/test-openlayers/node_modules/@babel/runtime/helpers/typeof.js:1:62)\n    at _typeof2 (/home/alessandro/Development/test-openlayers/node_modules/@babel/runtime/helpers/typeof.js:4:39)\n    at Object.&lt;anonymous&gt; (/home/alessandro/Development/test-openlayers/node_modules/lodash.sortby/index.js:95:18)\n    at Module._compile (internal/modules/cjs/loader.js:688:30)\n    at Module._compile (/home/alessandro/Development/test-openlayers/node_modules/pirates/lib/index.js:83:24)\n    at Module._extensions..js (internal/modules/cjs/loader.js:699:10)\n    at Object.newLoader [as .js] (/home/alessandro/Development/test-openlayers/node_modules/pirates/lib/index.js:88:7)\n    at Module.load (internal/modules/cjs/loader.js:598:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:537:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:529:3)\n    at Module.require (internal/modules/cjs/loader.js:636:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.require (/home/alessandro/Development/test-openlayers/node_modules/whatwg-url/lib/URLSearchParams-impl.js:2:22)\n    at Module._compile (internal/modules/cjs/loader.js:688:30)\n    at Module._compile (/home/alessandro/Development/test-openlayers/node_modules/pirates/lib/index.js:83:24)\n    at Module._extensions..js (internal/modules/cjs/loader.js:699:10)\n    at Object.newLoader [as .js] (/home/alessandro/Development/test-openlayers/node_modules/pirates/lib/index.js:88:7)\n    at Module.load (internal/modules/cjs/loader.js:598:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:537:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:529:3)\n    at Module.require (internal/modules/cjs/loader.js:636:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.require (/home/alessandro/Development/test-openlayers/node_modules/whatwg-url/lib/URLSearchParams.js:432:14)\n    at Module._compile (internal/modules/cjs/loader.js:688:30)\n    at Module._compile (/home/alessandro/Development/test-openlayers/node_modules/pirates/lib/index.js:83:24)\n    at Module._extensions..js (internal/modules/cjs/loader.js:699:10)\n    at Object.newLoader [as .js] (/home/alessandro/Development/test-openlayers/node_modules/pirates/lib/index.js:88:7)\n    at Module.load (internal/modules/cjs/loader.js:598:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:537:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:529:3)\n    at Module.require (internal/modules/cjs/loader.js:636:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.require (/home/alessandro/Development/test-openlayers/node_modules/whatwg-url/lib/URL-impl.js:4:25)\n    at Module._compile (internal/modules/cjs/loader.js:688:30)\n    at Module._compile (/home/alessandro/Development/test-openlayers/node_modules/pirates/lib/index.js:83:24)\n    at Module._extensions..js (internal/modules/cjs/loader.js:699:10)\n    at Object.newLoader [as .js] (/home/alessandro/Development/test-openlayers/node_modules/pirates/lib/index.js:88:7)\n    at Module.load (internal/modules/cjs/loader.js:598:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:537:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:529:3)\n    at Module.require (internal/modules/cjs/loader.js:636:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.require (/home/alessandro/Development/test-openlayers/node_modules/whatwg-url/lib/URL.js:335:14)\n    at Module._compile (internal/modules/cjs/loader.js:688:30)\n    at Module._compile (/home/alessandro/Development/test-openlayers/node_modules/pirates/lib/index.js:83:24)\n    at Module._extensions..js (internal/modules/cjs/loader.js:699:10)\n    at Object.newLoader [as .js] (/home/alessandro/Development/test-openlayers/node_modules/pirates/lib/index.js:88:7)\n    at Module.load (internal/modules/cjs/loader.js:598:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:537:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:529:3)\n    at Module.require (internal/modules/cjs/loader.js:636:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.require (/home/alessandro/Development/test-openlayers/node_modules/whatwg-url/lib/public-api.js:3:15)\n    at Module._compile (internal/modules/cjs/loader.js:688:30)\n    at Module._compile (/home/alessandro/Development/test-openlayers/node_modules/pirates/lib/index.js:83:24)\n    at Module._extensions..js (internal/modules/cjs/loader.js:699:10)\n    at Object.newLoader [as .js] (/home/alessandro/Development/test-openlayers/node_modules/pirates/lib/index.js:88:7)\n    at Module.load (internal/modules/cjs/loader.js:598:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:537:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:529:3)\n    at Module.require (internal/modules/cjs/loader.js:636:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.require (/home/alessandro/Development/test-openlayers/node_modules/jsdom/lib/api.js:7:19)\n    at Module._compile (internal/modules/cjs/loader.js:688:30)\n    at Module._compile (/home/alessandro/Development/test-openlayers/node_modules/pirates/lib/index.js:83:24)\n    at Module._extensions..js (internal/modules/cjs/loader.js:699:10)\n    at Object.newLoader [as .js] (/home/alessandro/Development/test-openlayers/node_modules/pirates/lib/index.js:88:7)\n    at Module.load (internal/modules/cjs/loader.js:598:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:537:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:529:3)\n    at Module.require (internal/modules/cjs/loader.js:636:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.require (/home/alessandro/Development/test-openlayers/setup.js:1:19)\n    at Module._compile (internal/modules/cjs/loader.js:688:30)\n    at Module._compile (/home/alessandro/Development/test-openlayers/node_modules/pirates/lib/index.js:83:24)\n    at Module._extensions..js (internal/modules/cjs/loader.js:699:10)\n    at Object.newLoader [as .js] (/home/alessandro/Development/test-openlayers/node_modules/pirates/lib/index.js:88:7)\n    at Module.load (internal/modules/cjs/loader.js:598:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:537:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:529:3)\n    at Module.require (internal/modules/cjs/loader.js:636:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at requires.forEach.mod (/home/alessandro/Development/test-openlayers/node_modules/mocha/bin/_mocha:511:3)\n    at Array.forEach (&lt;anonymous&gt;)\n    at Object.&lt;anonymous&gt; (/home/alessandro/Development/test-openlayers/node_modules/mocha/bin/_mocha:510:10)\n    at Module._compile (internal/modules/cjs/loader.js:688:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:699:10)\n    at Module.load (internal/modules/cjs/loader.js:598:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:537:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:529:3)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:741:12)\n    at startup (internal/bootstrap/node.js:285:19)\n    at bootstrapNodeJSCore (internal/bootstrap/node.js:739:3)\n</code></pre>\n"}, {"tags": ["javascript", "react-native"], "answers": [{"tags": [], "owner": {"reputation": 975, "user_id": 8008107, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/07c31d2a5d74b9f26c10af09f2b9a7f4?s=128&d=identicon&r=PG&f=1", "display_name": "Pierre Capo", "link": "https://stackoverflow.com/users/8008107/pierre-capo"}, "is_accepted": true, "score": 0, "last_activity_date": 1544653746, "creation_date": 1544653746, "answer_id": 53752356, "question_id": 53752043, "link": "https://stackoverflow.com/questions/53752043/why-is-argument-passed-in-parenthesis-in-react-natives-renderitem-function-a/53752356#53752356", "title": "Why is argument passed in {} parenthesis in React Native&#39;s renderItem function associated with Flat List", "body": "<p>It's a feature of ES6 called <strong>Destructuring</strong></p>\n\n<blockquote>\n  <p>The destructuring assignment syntax is a JavaScript expression that\n  makes it possible to unpack values from arrays, or properties from\n  objects, into distinct variables.</p>\n</blockquote>\n\n<p><em><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment#Object_destructuring\" rel=\"nofollow noreferrer\">Source</a></em></p>\n\n<p>Basically it's a shortcut syntax to directly get access to a key inside an object passed as parameter of a function.</p>\n\n<p><strong>Example</strong> :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const foo = {\r\n  bar: \"hello world\"\r\n};\r\n\r\nfunction basic(arg) {\r\n  const bar = arg.bar;\r\n  console.log(bar);\r\n};\r\n\r\nfunction destructuring({bar}) {\r\n// no need to define a bar variable here, bar is already avalaible !\r\n  console.log(bar);\r\n};\r\n\r\nbasic(foo);\r\ndestructuring(foo);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 5, "user_id": 7685646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25d35c6068430636520f5626db5f345a?s=128&d=identicon&r=PG&f=1", "display_name": "Abrar Hassan", "link": "https://stackoverflow.com/users/7685646/abrar-hassan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 53752356, "answer_count": 1, "score": 0, "last_activity_date": 1544653746, "creation_date": 1544652081, "question_id": 53752043, "link": "https://stackoverflow.com/questions/53752043/why-is-argument-passed-in-parenthesis-in-react-natives-renderitem-function-a", "title": "Why is argument passed in {} parenthesis in React Native&#39;s renderItem function associated with Flat List", "body": "<p>In this particular example</p>\n\n<pre><code>   const rows = [\n  {id: 0, text: 'View'},\n  {id: 1, text: 'Text'},\n  {id: 2, text: 'Image'},\n  {id: 3, text: 'ScrollView'},\n  {id: 4, text: 'ListView'},\n]\n\nconst extractKey = ({id}) =&gt; id\n\nexport default class App extends Component {\n\n  renderItem = ({item}) =&gt; {\n    return (\n      &lt;Text style={styles.row}&gt;\n        {item.text}\n      &lt;/Text&gt;\n    )\n  }\n\n  render() {\n    return (\n      &lt;FlatList\n        style={styles.container}\n        data={rows}\n        renderItem={this.renderItem}\n        keyExtractor={extractKey}\n      /&gt;\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    marginTop: 20,\n    flex: 1,\n  },\n  row: {\n    padding: 15,\n    marginBottom: 5,\n    backgroundColor: 'skyblue',\n  },\n})\n</code></pre>\n\n<p>provided at <a href=\"http://www.reactnativeexpress.com/flatlist\" rel=\"nofollow noreferrer\">http://www.reactnativeexpress.com/flatlist</a>,</p>\n\n<p>Why is the renderItem being assigned a function that take ({item}) instead of just (item)? \nAren't arrow function supposed to work by taking arguments in \"()\"? Whats the significance of \"{}\" here? Removing them causes the text in each FlastList item to be empty. </p>\n"}, {"tags": ["javascript", "arrays", "foreach"], "comments": [{"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1544652057, "post_id": 53752018, "comment_id": 94356799, "body": "If you are going to remove items in a loop, you need to loop over the array backwards otherwise use filter."}], "answers": [{"tags": [], "owner": {"reputation": 19133, "user_id": 269581, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/bae1a5b37ddff9c72cc85450edf503a4?s=128&d=identicon&r=PG", "display_name": "tkone", "link": "https://stackoverflow.com/users/269581/tkone"}, "is_accepted": true, "score": 1, "last_activity_date": 1544652320, "last_edit_date": 1544652320, "creation_date": 1544652133, "answer_id": 53752048, "question_id": 53752018, "link": "https://stackoverflow.com/questions/53752018/javascript-foreach-skips-items/53752048#53752048", "title": "Javascript forEach() skips items", "body": "<p>You could use <code>Array.prototype.filter</code> instead:</p>\n\n<pre><code>const undone = todo.filter((item) =&gt; !item.completed)\nconst completed = todo.filter((item) =&gt; item.completed)\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 10783131, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-W_HumghKMkc/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jBVIPvYmBL9DYnxWBcMW15ui4G0g/mo/photo.jpg?sz=128", "display_name": "bugra", "link": "https://stackoverflow.com/users/10783131/bugra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "closed_date": 1544652106, "accepted_answer_id": 53752048, "answer_count": 1, "score": 0, "last_activity_date": 1544652320, "creation_date": 1544651978, "question_id": 53752018, "link": "https://stackoverflow.com/questions/53752018/javascript-foreach-skips-items", "closed_reason": "Duplicate", "title": "Javascript forEach() skips items", "body": "<p>I am new to javascript. Simply i want to remove all objects with completed: true.</p>\n\n<p>But my function doesn't do that. What am i missing ?</p>\n\n<pre><code>const todo = [{\n    title: 'do this',\n    completed: true\n},{\n    title: 'do this',\n    completed: true\n},{\n    title: 'do this',\n    completed: true\n},{\n    title: 'do this',\n    completed: true\n}]\n\nconst remove = function(todo){\n    todo.forEach(function(item,index){      \n\n        if(item.completed){            \n            todo.splice(index,1)        \n        }\n    })\n\n}\n\nremove(todo)\nconsole.log(todo)\n</code></pre>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "edited": false, "score": 0, "creation_date": 1544652537, "post_id": 53752012, "comment_id": 94357018, "body": "I&#39;m not sure I understand what the problem is. The <code>&lt;FirstTier&gt;</code> component is being updated when the state updates, and the state updates after the <code>fetch</code> triggered by the menu click completes... so the only potential I see for issues is some delayed, possibly out of order updating if you have a <i>really</i> bad internet connection and click multiple items in rapid succession. Otherwise, it&#39;s not clear how &quot;everything&quot; becomes &quot;broken&quot; due to what you show here."}, {"owner": {"reputation": 4660, "user_id": 4556423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dafcfc51c18a4c97540e884a7ddba5?s=128&d=identicon&r=PG&f=1", "display_name": "Rikin", "link": "https://stackoverflow.com/users/4556423/rikin"}, "edited": false, "score": 0, "creation_date": 1544654053, "post_id": 53752012, "comment_id": 94357628, "body": "May be you want to set <code>self.setState({currentData: []});</code> as blank <code>[]</code> before making the call and to API and then set it once API call returns."}, {"owner": {"reputation": 57, "user_id": 3131268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Ueaj.jpg?s=128&g=1", "display_name": "sloth_eyes", "link": "https://stackoverflow.com/users/3131268/sloth-eyes"}, "edited": false, "score": 0, "creation_date": 1544711156, "post_id": 53752012, "comment_id": 94379642, "body": "Rikin, That worked! I don&#39;t know why I didn&#39;t think of it myself. Thank you!"}], "answers": [{"comments": [{"owner": {"reputation": 5627, "user_id": 1866584, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15837d4eab2c874e746a56673f5ec7e7?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Ambruzs", "link": "https://stackoverflow.com/users/1866584/peter-ambruzs"}, "edited": false, "score": 0, "creation_date": 1544654027, "post_id": 53752338, "comment_id": 94357616, "body": "Are you sure two type of url is enough in initFirstTier?"}], "tags": [], "owner": {"reputation": 5627, "user_id": 1866584, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15837d4eab2c874e746a56673f5ec7e7?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Ambruzs", "link": "https://stackoverflow.com/users/1866584/peter-ambruzs"}, "is_accepted": false, "score": 0, "last_activity_date": 1544653663, "creation_date": 1544653663, "answer_id": 53752338, "question_id": 53752012, "link": "https://stackoverflow.com/questions/53752012/react-how-to-prevent-child-from-rendering-until-state-is-updated/53752338#53752338", "title": "React how to prevent child from rendering until state is updated", "body": "<p>You might introduce a loading state.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      currentData:[],\r\n      loading: false\r\n    }\r\n  }\r\n\r\ninitFirstTier(type){\r\n    let url=\"\";\r\n    let self= this;\r\n    if (type==\"Closed-End\"){\r\n       url=\"{one url here}\"\r\n    }\r\n    else {\r\n      url={another url here}\r\n    }\r\n\r\n  this.setState({loading: true});\r\n  fetch(url)\r\n    .then(function(response){\r\n      response.json().then(function(data){\r\n        self.setState({currentData:data, loading: false});\r\n      })\r\n    })\r\n}\r\n\r\nrender(){\r\n return(\r\n         &lt;div&gt;\r\n              &lt;ul&gt;\r\n                    &lt;li onClick={() =&gt; {this.initFirstTier('Mutual Fund')}}&gt;           \r\n                      &lt;a href=\"javascript:;\"&gt;Mutual Fund&lt;/a&gt;         \r\n                    &lt;/li&gt;          \r\n                    &lt;li onClick={() =&gt; {this.initFirstTier('VPS')}}&gt;\r\n                      &lt;a href=\"javascript:;\"&gt;VPS&lt;/a&gt;           \r\n                    &lt;/li&gt;         \r\n                    &lt;li onClick={() =&gt; {this.initFirstTier('Closed-End')}}&gt;             \r\n                      &lt;a href=\"javascript:;\"&gt;Closed-End Fund&lt;/a&gt;          \r\n                    &lt;/li&gt;                 \r\n             &lt;/ul&gt;\r\n\r\n             {/* ********************Tier 1********************/}\r\n\r\n          {this.state.currentData.length !==0 ? \r\n              (this.state.loading ? &lt;div&gt;Loading...&lt;/div&gt; : &lt;FirstTier currentData = {this.state.currentData} /&gt;) \r\n              : null}\r\n     &lt;/div&gt;\r\n     )\r\n     }\r\n }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 57, "user_id": 3131268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Ueaj.jpg?s=128&g=1", "display_name": "sloth_eyes", "link": "https://stackoverflow.com/users/3131268/sloth-eyes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 446, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544653663, "creation_date": 1544651938, "question_id": 53752012, "link": "https://stackoverflow.com/questions/53752012/react-how-to-prevent-child-from-rendering-until-state-is-updated", "title": "React how to prevent child from rendering until state is updated", "body": "<p>I'm working on navigation that shows the second tier once you click on the menu item. </p>\n\n<p>I have approximately this code:</p>\n\n<pre><code>class App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentData:[]\n    }\n  }\n\ninitFirstTier(type){\n    let url=\"\";\n    let self= this;\n    if (type==\"Closed-End\"){\n       url=\"{one url here}\"\n    }\n    else {\n      url={another url here}\n    }\n\n\n  fetch(url)\n    .then(function(response){\n      response.json().then(function(data){\n        self.setState({currentData:data});\n      })\n    })\n}\n\nrender(){\n return(\n         &lt;div&gt;\n              &lt;ul&gt;\n                    &lt;li onClick={() =&gt; {this.initFirstTier('Mutual Fund')}}&gt;           \n                      &lt;a href=\"javascript:;\"&gt;Mutual Fund&lt;/a&gt;         \n                    &lt;/li&gt;          \n                    &lt;li onClick={() =&gt; {this.initFirstTier('VPS')}}&gt;\n                      &lt;a href=\"javascript:;\"&gt;VPS&lt;/a&gt;           \n                    &lt;/li&gt;         \n                    &lt;li onClick={() =&gt; {this.initFirstTier('Closed-End')}}&gt;             \n                      &lt;a href=\"javascript:;\"&gt;Closed-End Fund&lt;/a&gt;          \n                    &lt;/li&gt;                 \n             &lt;/ul&gt;\n\n             {/* ********************Tier 1********************/}\n\n          {this.state.currentData.length !==0 ? &lt;FirstTier currentData = {this.state.currentData} /&gt; : null}\n     &lt;/div&gt;\n     )\n     }\n }\n</code></pre>\n\n<p>Here's the problem I'm having. For example, If I click on \"VPS\" menu item, the parent component calls the api and sends data to the child component - works as expected. However, if next I click on \"Closed-End\", which calls a different api, I still get the console log with data from the VPS api call in the child component, which I'm not supposed to get. And then I get the console.log with correct data, but everything is already broken by the time I get the correct data. How do I prevent React from sending old data to the child? I need to send it only once the state has been updated with the new api call.</p>\n"}, {"tags": ["javascript", "mysql", "node.js", "string", "server"], "comments": [{"owner": {"reputation": 3491, "user_id": 3522957, "user_type": "registered", "profile_image": "https://graph.facebook.com/1439386163/picture?type=large", "display_name": "Eriks Klotins", "link": "https://stackoverflow.com/users/3522957/eriks-klotins"}, "edited": false, "score": 0, "creation_date": 1544651552, "post_id": 53751902, "comment_id": 94356572, "body": "Could you please show the exact result of your formatting code? What is the resulting sql?"}, {"owner": {"reputation": 26, "user_id": 4854732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f7461e3a3e7bd5a62fa00b96a178b1e?s=128&d=identicon&r=PG&f=1", "display_name": "Gonez", "link": "https://stackoverflow.com/users/4854732/gonez"}, "reply_to_user": {"reputation": 3491, "user_id": 3522957, "user_type": "registered", "profile_image": "https://graph.facebook.com/1439386163/picture?type=large", "display_name": "Eriks Klotins", "link": "https://stackoverflow.com/users/3522957/eriks-klotins"}, "edited": false, "score": 0, "creation_date": 1544652118, "post_id": 53751902, "comment_id": 94356826, "body": "There is no resulting SQL because the node js script never executes, but I may be misunderstanding your question. Do you just want to see the rest of the script?"}], "answers": [{"comments": [{"owner": {"reputation": 26, "user_id": 4854732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f7461e3a3e7bd5a62fa00b96a178b1e?s=128&d=identicon&r=PG&f=1", "display_name": "Gonez", "link": "https://stackoverflow.com/users/4854732/gonez"}, "edited": false, "score": 0, "creation_date": 1544652162, "post_id": 53751991, "comment_id": 94356851, "body": "Not sure how the &quot;.toString()&quot; made it into this post, I removed that already and still receiving the same error. My apologies on that"}], "tags": [], "owner": {"reputation": 793, "user_id": 7546163, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/db9ff2e30394189c03247342f23d748b?s=128&d=identicon&r=PG&f=1", "display_name": "Roi", "link": "https://stackoverflow.com/users/7546163/roi"}, "is_accepted": false, "score": 0, "last_activity_date": 1544651820, "creation_date": 1544651820, "answer_id": 53751991, "question_id": 53751902, "link": "https://stackoverflow.com/questions/53751902/node-js-mysql-insert-query-of-multiple-variables-er-parse-error/53751991#53751991", "title": "Node JS MySQL Insert Query of Multiple Variables ER_PARSE_ERROR", "body": "<p>I guess the issue is around this code:</p>\n\n<pre><code>VALUES (\"+timestamp.toString()+\"\n</code></pre>\n\n<p>Could you try to escape those double quoute characters?</p>\n"}, {"tags": [], "owner": {"reputation": 1153, "user_id": 4374176, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FEcvS.jpg?s=128&g=1", "display_name": "Paurian", "link": "https://stackoverflow.com/users/4374176/paurian"}, "is_accepted": false, "score": 0, "last_activity_date": 1544652328, "creation_date": 1544652328, "answer_id": 53752089, "question_id": 53751902, "link": "https://stackoverflow.com/questions/53751902/node-js-mysql-insert-query-of-multiple-variables-er-parse-error/53752089#53752089", "title": "Node JS MySQL Insert Query of Multiple Variables ER_PARSE_ERROR", "body": "<p>My first suggestion is to make a stored procedure that takes parameters instead of opening yourself up to SQL Injection.</p>\n\n<p>My second suggestion is normalize your tables. If you're adding both ID and Name for more than the table's key data, it's a bad design.</p>\n\n<p>Other than that, Roi is right. You need to wrap several of your values in escaped quotes:</p>\n\n<p>var sql = \"INSERT INTO cms (`ts`, `orgid`, `orgname`, `deviceid`, `devicename`, `event`, `setid`, `setname`, `viewid`, `viewname`, `duration`, `hotspotid`, `hotspotname`, `playlistid`, `playlistname`, `playlisttype`, `playlistassetid`, `playlisttitle`) VALUES ('\"+timestamp.toString()+\"', \"+orgid+\", '\"+orgname+\"', \"+deviceid+\", '\"+devicename+\"', '\"+eventname+\"', \"+setid+\", '\"+setname+\"', \"+viewid+\", '\"+viewname+\"', \"+duration+\", \"+hotspotid+\", '\"+hotspotname+\"', \"+playlistid+\", '\"+playlistname+\"', '\"+playlisttype+\"', \"+playlistassetid+\", '\"+playlisttitle+\"')\"</p>\n"}, {"tags": [], "owner": {"reputation": 793, "user_id": 7546163, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/db9ff2e30394189c03247342f23d748b?s=128&d=identicon&r=PG&f=1", "display_name": "Roi", "link": "https://stackoverflow.com/users/7546163/roi"}, "is_accepted": false, "score": 0, "last_activity_date": 1544653158, "creation_date": 1544653158, "answer_id": 53752253, "question_id": 53751902, "link": "https://stackoverflow.com/questions/53751902/node-js-mysql-insert-query-of-multiple-variables-er-parse-error/53752253#53752253", "title": "Node JS MySQL Insert Query of Multiple Variables ER_PARSE_ERROR", "body": "<p>I would do something like this instead. </p>\n\n<pre><code>var sql = `INSERT INTO 'cms'('ts', 'orgid', 'orgname', 'deviceid', 'devicename', 'event', 'setid', 'setname', 'viewid', 'viewname', 'duration', 'hotspotid', 'hotspotname', 'playlistid', 'playlistname', 'playlisttype', 'playlistassetid', 'playlisttitle') VALUES (\"${timestamp}\", \"${orgid}\" ...)`;\n</code></pre>\n"}], "owner": {"reputation": 26, "user_id": 4854732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f7461e3a3e7bd5a62fa00b96a178b1e?s=128&d=identicon&r=PG&f=1", "display_name": "Gonez", "link": "https://stackoverflow.com/users/4854732/gonez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 451, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1544653158, "creation_date": 1544651372, "last_edit_date": 1544652199, "question_id": 53751902, "link": "https://stackoverflow.com/questions/53751902/node-js-mysql-insert-query-of-multiple-variables-er-parse-error", "title": "Node JS MySQL Insert Query of Multiple Variables ER_PARSE_ERROR", "body": "<p>I have created a webhook to receive some data here using Node.JS. I am storing my data using MySQL and so far the server is able to connect to the database, receive client data, and respond appropriately upon receiving data. I am just having issues formatting the query string for MySQL.</p>\n\n<p>I have tried a variety of quotation configurations such as not wrapping the column names in single quotes, not wrapping the table name, and switching between double and single quotes on each section in the query string.</p>\n\n<p>Any suggestions would be appreciated! Thank you!</p>\n\n<p>My Query:</p>\n\n<pre><code>var sql = \"INSERT INTO 'cms'('ts', 'orgid', 'orgname', 'deviceid', 'devicename', 'event', 'setid', 'setname', 'viewid', 'viewname', 'duration', 'hotspotid', 'hotspotname', 'playlistid', 'playlistname', 'playlisttype', 'playlistassetid', 'playlisttitle') VALUES (\"+timestamp+\", \"+orgid+\", \"+orgname+\", \"+deviceid+\", \"+devicename+\", \"+eventname+\", \"+setid+\", \"+setname+\", \"+viewid+\", \"+viewname+\", \"+duration+\", \"+hotspotid+\", \"+hotspotname+\", \"+playlistid+\", \"+playlistname+\", \"+playlisttype+\", \"+playlistassetid+\", \"+playlisttitle+\")\";\n                            con.query(sql, function (err, result) { //Queries String with MySQL connection variable con\n                                    if (err) throw err;\n                                    var date = new Date();\n                                    var currHour = date.getHours();\n                                    console.log(\"Record Inserted at \" + currHour); //Logs time of db insertion on console\n                            });\n</code></pre>\n\n<p>Here is the error too:</p>\n\n<pre><code>Error: ER_PARSE_ERROR: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''cms'('ts', 'orgid', 'orgname', 'deviceid', 'devicename', 'event', 'setid', 'set' at line 1\nat Query.Sequence._packetToError (/home/webhook/httpHandler/node_modules/mysql/lib/protocol/sequences/Sequence.js:47:14)\nat Query.ErrorPacket (/home/webhook/httpHandler/node_modules/mysql/lib/protocol/sequences/Query.js:77:18)\nat Protocol._parsePacket (/home/webhook/httpHandler/node_modules/mysql/lib/protocol/Protocol.js:278:23)\nat Parser.write (/home/webhook/httpHandler/node_modules/mysql/lib/protocol/Parser.js:76:12)\nat Protocol.write (/home/webhook/httpHandler/node_modules/mysql/lib/protocol/Protocol.js:38:16)\nat Socket.&lt;anonymous&gt; (/home/webhook/httpHandler/node_modules/mysql/lib/Connection.js:91:28)\nat Socket.&lt;anonymous&gt; (/home/webhook/httpHandler/node_modules/mysql/lib/Connection.js:502:10)\nat emitOne (events.js:116:13)\nat Socket.emit (events.js:211:7)\nat addChunk (_stream_readable.js:263:12)\n--------------------\nat Protocol._enqueue (/home/webhook/httpHandler/node_modules/mysql/lib/protocol/Protocol.js:144:48)\nat Connection.query (/home/webhook/httpHandler/node_modules/mysql/lib/Connection.js:200:25)\nat IncomingMessage.&lt;anonymous&gt; (/home/webhook/httpHandler/server.js:70:9)\nat emitNone (events.js:106:13)\nat IncomingMessage.emit (events.js:208:7)\nat endReadableNT (_stream_readable.js:1064:12)\nat _combinedTickCallback (internal/process/next_tick.js:139:11)\nat process._tickCallback (internal/process/next_tick.js:181:9)\n</code></pre>\n"}, {"tags": ["javascript", "java", "arrays", "node.js"], "comments": [{"owner": {"reputation": 2176, "user_id": 5402401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dPV49.jpg?s=128&g=1", "display_name": "0.sh", "link": "https://stackoverflow.com/users/5402401/0-sh"}, "edited": false, "score": 0, "creation_date": 1544653875, "post_id": 53751855, "comment_id": 94357550, "body": "<a href=\"https://stackoverflow.com/questions/12332002/how-to-store-a-byte-array-in-javascript\" title=\"how to store a byte array in javascript\">stackoverflow.com/questions/12332002/&hellip;</a>"}, {"owner": {"reputation": 757, "user_id": 1366937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c96c0f10312f84ed2253d57737be8877?s=128&d=identicon&r=PG", "display_name": "Perdi Estaquel", "link": "https://stackoverflow.com/users/1366937/perdi-estaquel"}, "edited": false, "score": 0, "creation_date": 1544656505, "post_id": 53751855, "comment_id": 94358476, "body": "That should be documented in the NPM Java library you mention. What&#39;s that library?"}], "owner": {"reputation": 77, "user_id": 6159212, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3ab68ff65d7cbcbfbaad7426ffe39a96?s=128&d=identicon&r=PG&f=1", "display_name": "BGrossman", "link": "https://stackoverflow.com/users/6159212/bgrossman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 170, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1544651129, "creation_date": 1544651129, "question_id": 53751855, "link": "https://stackoverflow.com/questions/53751855/make-byte-arrays-from-files-in-node-js-for-use-in-java", "title": "Make byte arrays (from files) in Node.js for use in Java", "body": "<p>I have a Node.js project that is going to make a call to a Java application using the NPM Java library. The Java app will be looking for images and PDFs in the form of byte arrays. Assuming I have some sort of blob or buffer on the Node side, is there a way to create a byte array usable by Java before passing it over?</p>\n"}, {"tags": ["javascript", "php", "laravel", "chart.js"], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 10272410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cc6544d674146a7b4e010a7034cf1d2?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/10272410/nick"}, "edited": false, "score": 0, "creation_date": 1544713193, "post_id": 53764442, "comment_id": 94380997, "body": "I believe i tried that and it didn&#39;t work. However I will try again later and let you know."}], "tags": [], "owner": {"reputation": 163, "user_id": 2303256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61192272b4ccaa7393b7130c3970a038?s=128&d=identicon&r=PG", "display_name": "Francisco Fernandes", "link": "https://stackoverflow.com/users/2303256/francisco-fernandes"}, "is_accepted": false, "score": 0, "last_activity_date": 1544712499, "creation_date": 1544712499, "answer_id": 53764442, "question_id": 53751796, "link": "https://stackoverflow.com/questions/53751796/chartjs-not-showing-chart/53764442#53764442", "title": "Chartjs not showing chart", "body": "<p>You need to add {!! $chart->script() !!} to your view.</p>\n"}], "owner": {"reputation": 37, "user_id": 10272410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cc6544d674146a7b4e010a7034cf1d2?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/10272410/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 494, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1544727019, "creation_date": 1544650860, "last_edit_date": 1544727019, "question_id": 53751796, "link": "https://stackoverflow.com/questions/53751796/chartjs-not-showing-chart", "title": "Chartjs not showing chart", "body": "<p>Here is my view, where I'm trying to render chart:</p>\n\n<pre><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.min.js\" charset=\"utf-8\"&gt;&lt;/script&gt;\n\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/Chart.js/0.2.0/Chart.min.js\" type=\"text/javascript\"&gt;\n&lt;script src=\"bower_components/Chart.js/Chart.js\" language=\"javascript\"&gt;&lt;/script&gt;&lt;div&gt;&lt;canvas id=\"countries\" width=\"600\" height=\"400\"&gt;&lt;/canvas&gt;&lt;/div&gt;\n&lt;div class=\"container\"&gt;\n    &lt;div class=\"row\"&gt;\n        &lt;div style=\"width:75%;\"&gt;{!! $chart-&gt;container() !!}\n&lt;/div&gt;          \n</code></pre>\n\n<p></p>\n\n<p>My controller, with the most simple test example:</p>\n\n<pre><code>$chart = new CandidatesAgeChart;\n$chart-&gt;labels(['2 days ago', 'Yesterday', 'Today']);\n$chart-&gt;dataset('My dataset', 'line', [$variable1, $variable2, $variable3]);\n\nreturn view('chart', compact('chart'));\n</code></pre>\n\n<p>and lastly, CandidateAgeChart, left as created.</p>\n\n<pre><code>&lt;?php\n\nnamespace App\\Charts;\n\nuse ConsoleTVs\\Charts\\Classes\\Chartjs\\Chart;\n\nclass CandidatesAgeChart extends Chart\n{\n    /**\n     * Initializes the chart.\n     *\n     * @return void\n     */\n    public function __construct()\n    {\n        parent::__construct();\n    }\n}\n</code></pre>\n\n<p>When I go to this specific view, chart is not being shown. I'm not sure what exactly I need to amend in order to get this to work, and documentation did not gave me the answer. <a href=\"https://i.stack.imgur.com/OvWLD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OvWLD.png\" alt=\"loading chart but not rendered\"></a></p>\n"}, {"tags": ["javascript", "node.js", "mongodb", "mongoose"], "comments": [{"owner": {"reputation": 1926, "user_id": 2653120, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/chsmu.jpg?s=128&g=1", "display_name": "amir", "link": "https://stackoverflow.com/users/2653120/amir"}, "edited": false, "score": 1, "creation_date": 1544651816, "post_id": 53751761, "comment_id": 94356673, "body": "what is the error?"}, {"owner": {"reputation": 886, "user_id": 3112241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/664d930d0d19b2e3d9bbe4c2f7edb7fa?s=128&d=identicon&r=PG", "display_name": "ack_inc", "link": "https://stackoverflow.com/users/3112241/ack-inc"}, "edited": false, "score": 1, "creation_date": 1544653949, "post_id": 53751761, "comment_id": 94357575, "body": "Your question statement talks about a field called priority_data that is nowhere to be found in your code snippet. Does your schema also have a field called &quot;disk_info&quot;?"}, {"owner": {"reputation": 15562, "user_id": 155819, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yXygz.jpg?s=128&g=1", "display_name": "Akrion", "link": "https://stackoverflow.com/users/155819/akrion"}, "edited": false, "score": 1, "creation_date": 1544656030, "post_id": 53751761, "comment_id": 94358324, "body": "Add your schema and you exception please."}, {"owner": {"reputation": 19, "user_id": 10100245, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NT-kzao9PaM/AAAAAAAAAAI/AAAAAAAAAXk/-IJN5aUaQ4s/photo.jpg?sz=128", "display_name": "M3nBeR SuReS", "link": "https://stackoverflow.com/users/10100245/m3nber-sures"}, "edited": false, "score": 0, "creation_date": 1544715094, "post_id": 53751761, "comment_id": 94382234, "body": "sorry the array is priority_data"}, {"owner": {"reputation": 19, "user_id": 10100245, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NT-kzao9PaM/AAAAAAAAAAI/AAAAAAAAAXk/-IJN5aUaQ4s/photo.jpg?sz=128", "display_name": "M3nBeR SuReS", "link": "https://stackoverflow.com/users/10100245/m3nber-sures"}, "edited": false, "score": 0, "creation_date": 1544715787, "post_id": 53751761, "comment_id": 94382692, "body": "when im doing doc.priority_data[1] = &#39;Office Document&#39;; and after doc.save(); The index 1 of the array is not changed in my database"}, {"owner": {"reputation": 19, "user_id": 10100245, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NT-kzao9PaM/AAAAAAAAAAI/AAAAAAAAAXk/-IJN5aUaQ4s/photo.jpg?sz=128", "display_name": "M3nBeR SuReS", "link": "https://stackoverflow.com/users/10100245/m3nber-sures"}, "edited": false, "score": 0, "creation_date": 1544715947, "post_id": 53751761, "comment_id": 94382802, "body": "and the error was my mistakes the data expect an object but he receive string."}], "answers": [{"tags": [], "owner": {"reputation": 67, "user_id": 4825261, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6lesAtFul_M/AAAAAAAAAAI/AAAAAAAABTA/UcjG7_L4Ox8/photo.jpg?sz=128", "display_name": "Sai Reddy", "link": "https://stackoverflow.com/users/4825261/sai-reddy"}, "is_accepted": false, "score": 1, "last_activity_date": 1544697900, "creation_date": 1544697900, "answer_id": 53760074, "question_id": 53751761, "link": "https://stackoverflow.com/questions/53751761/update-array-value-a-given-index-mongoose-mongodb/53760074#53760074", "title": "Update array value a given index (mongoose, mongodb)", "body": "<pre><code>await Disk.update(\n    {_id: id},\n    {$set:{\"priority_data.1\":\"Office Document\"}}\n)\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 10100245, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NT-kzao9PaM/AAAAAAAAAAI/AAAAAAAAAXk/-IJN5aUaQ4s/photo.jpg?sz=128", "display_name": "M3nBeR SuReS", "link": "https://stackoverflow.com/users/10100245/m3nber-sures"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1544697900, "creation_date": 1544650718, "last_edit_date": 1544662446, "question_id": 53751761, "link": "https://stackoverflow.com/questions/53751761/update-array-value-a-given-index-mongoose-mongodb", "title": "Update array value a given index (mongoose, mongodb)", "body": "<p>In my <strong>database</strong>, I have in my schema a field: <code>priority_data: [ String ]</code>\nThis is an <strong>array</strong> of <strong>priority</strong> data. </p>\n\n<p>Here is an example what that field can contain : \n<code>\"priority_data\": [\"Photo\",\"Video\",\"Music\"]</code></p>\n\n<p>And I want to <strong>update</strong> for example only the <strong>index 2</strong>.</p>\n\n<p>I try to proceed with the following <strong>code</strong>:</p>\n\n<pre><code>await Disk.findOne({_id: id})\n   .then(doc =&gt; {\n   doc.disk_info[1] = 'Office Document';\n   doc.save()\n   .then(() =&gt; {\n   res.status(200).json({\n  message: 'ok'\n})  \n})\n})\n</code></pre>\n\n<p>But that throws me an <strong>error</strong>.</p>\n\n<p>Can anyone help?</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1544651741, "post_id": 53751651, "comment_id": 94356643, "body": "I vote to close this question: it is a mere typo: <code>==</code> should be <code>=</code> (for assignment)"}, {"owner": {"reputation": 707, "user_id": 8623722, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/678ec35aecfb4b5e6073bc68556dd59c?s=128&d=identicon&r=PG&f=1", "display_name": "jbrehr", "link": "https://stackoverflow.com/users/8623722/jbrehr"}, "reply_to_user": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1544657954, "post_id": 53751651, "comment_id": 94358895, "body": "@medyas demonstrated clearly that the problem was not a typo. They also provided a response which clarified the problem in my code logic and provided a solution."}], "answers": [{"comments": [{"owner": {"reputation": 707, "user_id": 8623722, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/678ec35aecfb4b5e6073bc68556dd59c?s=128&d=identicon&r=PG&f=1", "display_name": "jbrehr", "link": "https://stackoverflow.com/users/8623722/jbrehr"}, "edited": false, "score": 0, "creation_date": 1544651338, "post_id": 53751797, "comment_id": 94356467, "body": "I added the index  <code>[0]</code> to the code in the original post per your suggestion, but it doesn&#39;t change the outcome. Snippet runs an error.I may not fully understand what you intended to say...thanks."}, {"owner": {"reputation": 707, "user_id": 8623722, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/678ec35aecfb4b5e6073bc68556dd59c?s=128&d=identicon&r=PG&f=1", "display_name": "jbrehr", "link": "https://stackoverflow.com/users/8623722/jbrehr"}, "edited": false, "score": 0, "creation_date": 1544652125, "post_id": 53751797, "comment_id": 94356827, "body": "In fact running the snippet embedded above will show the errors directly inline, but here it is: <code>{   &quot;message&quot;: &quot;Uncaught TypeError: Cannot read property &#39;textContent&#39; of undefined&quot;,   &quot;filename&quot;: &quot;https:&#47;&#47;stacksnippets.net&#47;js&quot;,   &quot;lineno&quot;: 147,   &quot;colno&quot;: 93 }</code>"}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "reply_to_user": {"reputation": 707, "user_id": 8623722, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/678ec35aecfb4b5e6073bc68556dd59c?s=128&d=identicon&r=PG&f=1", "display_name": "jbrehr", "link": "https://stackoverflow.com/users/8623722/jbrehr"}, "edited": false, "score": 0, "creation_date": 1544653150, "post_id": 53751797, "comment_id": 94357264, "body": "So, the error has told you the problem <code>document.getElementById(respdiv).getElementsByClassName(&#39;en&#39;&zwnj;&#8203;)</code> is not returning any nodes in its node list, so <code>[0]</code> doesn&#39;t find anything."}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "reply_to_user": {"reputation": 707, "user_id": 8623722, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/678ec35aecfb4b5e6073bc68556dd59c?s=128&d=identicon&r=PG&f=1", "display_name": "jbrehr", "link": "https://stackoverflow.com/users/8623722/jbrehr"}, "edited": false, "score": 0, "creation_date": 1544653366, "post_id": 53751797, "comment_id": 94357359, "body": "Don&#39;t know why this answer is down voted. It correctly states why <code>.textContent</code> won&#39;t work on the result of <code>getElementsByClassName()</code>."}], "tags": [], "owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "is_accepted": false, "score": -2, "last_activity_date": 1544650875, "creation_date": 1544650875, "answer_id": 53751797, "question_id": 53751651, "link": "https://stackoverflow.com/questions/53751651/javascript-jquery-updating-textcontent-based-on-element-and-class/53751797#53751797", "title": "JavaScript/jQuery : updating textContent based on element and class", "body": "<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementsByClassName\" rel=\"nofollow noreferrer\"><code>getElementsByClassName()</code></a> returns a node list. Node lists don't have a <code>textContent</code> property, individual nodes do. So this:</p>\n\n<pre><code>document.getElementById(respdiv).getElementsByClassName('en').textContent == \"show list\";\n</code></pre>\n\n<p>won't work;</p>\n\n<p>You'll need to isolate one of the nodes from the node list.</p>\n\n<p>You can do that by passing an index:</p>\n\n<pre><code>document.getElementById(respdiv).getElementsByClassName('en')[0].textContent == \"show list\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 707, "user_id": 8623722, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/678ec35aecfb4b5e6073bc68556dd59c?s=128&d=identicon&r=PG&f=1", "display_name": "jbrehr", "link": "https://stackoverflow.com/users/8623722/jbrehr"}, "edited": false, "score": 0, "creation_date": 1544651994, "post_id": 53751959, "comment_id": 94356756, "body": "Works brilliant, thanks! Also, thanks very much for the helpful understanding the errors in the code I wrote - it helps me a lot."}], "tags": [], "owner": {"reputation": 876, "user_id": 8738574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16f2749b0f68000de2ab26739e2b0e23?s=128&d=identicon&r=PG&f=1", "display_name": "medyas", "link": "https://stackoverflow.com/users/8738574/medyas"}, "is_accepted": true, "score": 1, "last_activity_date": 1544651678, "creation_date": 1544651678, "answer_id": 53751959, "question_id": 53751651, "link": "https://stackoverflow.com/questions/53751651/javascript-jquery-updating-textcontent-based-on-element-and-class/53751959#53751959", "title": "JavaScript/jQuery : updating textContent based on element and class", "body": "<p>it is easier to use jQuery for this, you select the element then find sub element. Also in you function your trying to find the span with class 'button_entitypeople' which your using the 'respdiv' variable but you already replaced the button with div so its not valid, you will have to find the element with the 'clicked_id' then find the span with 'en' class.</p>\n\n<pre><code>function toggleentitylist(clicked_id)\n        {\n            var respdiv\n            respdiv = clicked_id.replace(\"button\",\"div\");\n            if (!document.getElementById(respdiv).style.display | document.getElementById(respdiv).style.display == \"none\"){\n\n                    document.getElementById(respdiv).style.display = \"inline\"; \n                    $(\"#\"+clicked_id).find($(\".\"+'en')).text(\"Hide list\");\n                }\n            else {\n                document.getElementById(respdiv).style.display = \"none\";\n                    $(\"#\"+clicked_id).find($(\".\"+'en')).text(\"Show list\");\n            }\n        }\n</code></pre>\n"}], "owner": {"reputation": 707, "user_id": 8623722, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/678ec35aecfb4b5e6073bc68556dd59c?s=128&d=identicon&r=PG&f=1", "display_name": "jbrehr", "link": "https://stackoverflow.com/users/8623722/jbrehr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 53751959, "answer_count": 2, "score": -1, "last_activity_date": 1544651678, "creation_date": 1544650194, "last_edit_date": 1544651241, "question_id": 53751651, "link": "https://stackoverflow.com/questions/53751651/javascript-jquery-updating-textcontent-based-on-element-and-class", "title": "JavaScript/jQuery : updating textContent based on element and class", "body": "<p>I am trying to update the text of child element of an HTML element based on a click event. The user clicks on a span:</p>\n\n<pre><code>&lt;span id=\"button_entitypeople\" onclick=\"toggleentitylist(this.id)\" class=\"fake_link\"&gt;\n    &lt;span class=\"en\"&gt;view list&lt;/span&gt;\n&lt;/span&gt;\n</code></pre>\n\n<p>..it displays a div. On doing so, I am trying to get it to rename the <code>.textContent</code> of the span from <code>view list</code> to <code>hide list</code> using <code>document.getElementById(respdiv).getElementsByClassName('en').textContent</code>:</p>\n\n<pre><code>    function toggleentitylist(clicked_id)\n            {{\n                var respdiv\n                respdiv = clicked_id.replace(\"button\",\"div\");\n                if (!document.getElementById(respdiv).style.display | document.getElementById(respdiv).style.display == \"none\")\n                    {{document.getElementById(respdiv).style.display = \"inline\"; \n                        document.getElementById(respdiv).getElementsByClassName('en')[0].textContent == \"hide list\";}}\n                else {{document.getElementById(respdiv).style.display = \"none\";\n                        document.getElementById(respdiv).getElementsByClassName('en')[0].textContent == \"show list\";}}\n            }}\n</code></pre>\n\n<p>While the div is displaying and hiding correctly, the text is not updating.</p>\n\n<p>NB: I have to use <code>getElementsByClassName</code> as I will be introducing several different languages.</p>\n\n<p>Many thanks in advance.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function toggleentitylist(clicked_id)\r\n                {{\r\n                    var respdiv\r\n                    respdiv = clicked_id.replace(\"button\",\"div\");\r\n                    if (!document.getElementById(respdiv).style.display | document.getElementById(respdiv).style.display == \"none\")\r\n                        {{document.getElementById(respdiv).style.display = \"inline\"; \r\n                            document.getElementById(respdiv).getElementsByClassName('en')[0].textContent == \"hide list\";}}\r\n                    else {{document.getElementById(respdiv).style.display = \"none\";\r\n                            document.getElementById(respdiv).getElementsByClassName('en')[0].textContent == \"show list\";}}\r\n                }}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#div_entitypeople{\r\n    display: none;\r\n}\r\n\r\n#div_entityplaces{\r\n    display: none;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;span id=\"button_entitypeople\" onclick=\"toggleentitylist(this.id)\" class=\"fake_link\"&gt;&lt;span class=\"en\"&gt;view list&lt;/span&gt;&lt;/span&gt;\r\n&lt;div id=\"div_entitypeople\"&gt;\r\n                                    &lt;ul&gt;\r\n                                        &lt;li id=\"Arnald_de_Pencha_MSP-AU\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Arnald de Pencha&lt;/li&gt;\r\n                                        &lt;li id=\"Arnald_Roger_PER-AR\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Arnald Roger&lt;/li&gt;\r\n                                        &lt;li id=\"Ava_Sanci_MPX-AR\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Ava Sanci&lt;/li&gt;\r\n                                        &lt;li id=\"B_de_Rochafort_SRZ-TA\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;B de Rochafort&lt;/li&gt;\r\n                                        &lt;li id=\"Bernard_Chap_Ladinhac\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Bernard, magister, chaplain of Ladinhac&lt;/li&gt;\r\n                                        &lt;li id=\"Bernard_de_Caux_OP\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Bernard de Caux, OP&lt;/li&gt;\r\n                                        &lt;li id=\"Bernard_de_Quiders_senior_MSP-AU\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Bernard de Quiders senior&lt;/li&gt;\r\n                                        &lt;li id=\"Bernard_de_Saint-Esteve_CAZ-AU\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Bernard de Saint-Esteve&lt;/li&gt;\r\n                                        &lt;li id=\"Bertrand_de_Quiders_MSP-AU\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Bertrand de Quiders&lt;/li&gt;\r\n                                        &lt;li id=\"Bertrand_Marti_H\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Bertrand Marti&lt;/li&gt;\r\n                                        &lt;li id=\"Braida_de_Mont_Server_SRZ-TA\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Braida de Mont Server&lt;/li&gt;\r\n                                        &lt;li id=\"Cecilia_Roger_nee_de_Mont_Server_PER-AR\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Cecilia Roger&lt;/li&gt;\r\n                                        &lt;li id=\"Corba_de_Pereille_PER-AR\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Corba de Pereille&lt;/li&gt;\r\n                                        &lt;li id=\"Dominic_de_Catalonia\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Dominic de Catalonia&lt;/li&gt;\r\n                                        &lt;li id=\"Ermengarde_de_Caucer_MSP-AU\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Ermengarde de Caucer&lt;/li&gt;\r\n                                        &lt;li id=\"Ermengarde_de_Mazerol_GAJ-AU\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Ermengarde de Mazerol&lt;/li&gt;\r\n                                        &lt;li id=\"Estolt_de_Rochavila_MSP-AU\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Estolt de Rochavila&lt;/li&gt;\r\n                                        &lt;li id=\"Fauressa_del_Mas_MSP-AU\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Fauressa del Mas&lt;/li&gt;\r\n                                        &lt;li id=\"Ferrier_OP\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Ferrier, OP&lt;/li&gt;\r\n                                        &lt;li id=\"Francesca_de_la_Ylha_MPX-AR\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Francesca de la Ylha&lt;/li&gt;\r\n                                        &lt;li id=\"Galharda_de_Romengos_RMG-AR\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Galharda de Romengos&lt;/li&gt;\r\n                                        &lt;li id=\"Galharda_del_Mas_MSP-AU\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Galharda del Mas&lt;/li&gt;\r\n                                        &lt;li id=\"Geralda_de_Rochafort_SRZ-TA\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Geralda de Rochafort&lt;/li&gt;\r\n                                        &lt;li id=\"Guilabert_de_Castres_H\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Guilabert de Castres&lt;/li&gt;\r\n                                        &lt;li id=\"Guilhelma_Canast_de_Paracol_MSP-AU\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Guilhelma Canast de Paracol&lt;/li&gt;\r\n                                        &lt;li id=\"Guilhelma_Meta_nee_del_Mas_MSP-AU\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Guilhelma Meta n\u00e9e del Mas&lt;/li&gt;\r\n                                        &lt;li id=\"Guilhem_Canast-Brus_MSP-AU\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Guilhem Canast-Brus&lt;/li&gt;\r\n                                        &lt;li id=\"Guilhem_de_la_Ylha_MPX-AR\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Guilhem de la Ylha&lt;/li&gt;\r\n                                        &lt;li id=\"Guilhem_de_Rochafort_SRZ-TA\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Guilhem de Rochafort&lt;/li&gt;\r\n                                        &lt;li id=\"Guilhem_del_Mas_Junior_MSP-AU\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Guilhem del Mas junior&lt;/li&gt;\r\n                                        &lt;li id=\"Guilhem_del_Mas_Senior_MSP-AU\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Guilhem del Mas senior&lt;/li&gt;\r\n                                        &lt;li id=\"heretics_not_named\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;heretics not named&lt;/li&gt;\r\n                                        &lt;li id=\"heretics_unknown_2f\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;2 unknown female heretics&lt;/li&gt;\r\n                                        &lt;li id=\"heretics_unknown_3f\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;3 unknown female heretics&lt;/li&gt;\r\n                                        &lt;li id=\"heretics_unknown_m\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;unknown male heretics&lt;/li&gt;\r\n                                        &lt;li id=\"Johan_Cambiaire_MSP-AU\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Johan Cambiaire&lt;/li&gt;\r\n                                        &lt;li id=\"Maria_de_Quiders_MSP-AU\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Maria de Quiders&lt;/li&gt;\r\n                                        &lt;li id=\"Marquesa_de_Rochafort_SRZ-TA\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Marquesa de Rochafort&lt;/li&gt;\r\n                                        &lt;li id=\"mother_of_Dominic_de_Catalonia\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;mother of Dominic de Catalonia&lt;/li&gt;\r\n                                        &lt;li id=\"Na_Fornier_de_Pereille_PER-AR\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Na Fornier de Pereille&lt;/li&gt;\r\n                                        &lt;li id=\"Na_Laureta_MPX-AR\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Na Laureta&lt;/li&gt;\r\n                                        &lt;li id=\"others_unrecalled\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;many others unrecalled&lt;/li&gt;\r\n                                        &lt;li id=\"P_Audoys_MPX-AR\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;P Audoys&lt;/li&gt;\r\n                                        &lt;li id=\"P_Bernard_MSP-AU\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;P Bernard&lt;/li&gt;\r\n                                        &lt;li id=\"P_de_las_Combas_QLE-AR\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;P de las Combas&lt;/li&gt;\r\n                                        &lt;li id=\"P_Raimund_Roi_MPX-AR\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;P. Raimund Roi&lt;/li&gt;\r\n                                        &lt;li id=\"Peire_de_Fogars_LAV-AR\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Peire de Fogars&lt;/li&gt;\r\n                                        &lt;li id=\"Peire_de_Mazerol_GAJ-AU\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Peire de Mazerol&lt;/li&gt;\r\n                                        &lt;li id=\"Peire_Faure_MSP-AU\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Peire Faure&lt;/li&gt;\r\n                                        &lt;li id=\"Peire_Fresapa_NOT\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Peire Fresapa, notary&lt;/li&gt;\r\n                                        &lt;li id=\"Pelegrina_de_Mont_Server_nee_del_Mas_MSP-AU\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Pelegrina de Mont Server n\u00e9e del Mas&lt;/li&gt;\r\n                                        &lt;li id=\"Ponca_de_Vilar_QLE-AR\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Ponca de Vilar&lt;/li&gt;\r\n                                        &lt;li id=\"Raimund_Canast_MSP-AU\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Raimund Canast&lt;/li&gt;\r\n                                        &lt;li id=\"Raimund_de_Pereille_PER-AR\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Raimund de Pereille&lt;/li&gt;\r\n                                        &lt;li id=\"Raimund_Sanci_MPX-AR\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Raimund Sanci&lt;/li&gt;\r\n                                        &lt;li id=\"Raimunda_de_Cuc_CMS-AU\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Raimunda de Cuc&lt;/li&gt;\r\n                                        &lt;li id=\"Raimunda_de_Mont_Server_SRZ-TA\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Raimunda de Mont Server&lt;/li&gt;\r\n                                        &lt;li id=\"Ransana_de_Fanjeaux_FJX-AU\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Ransana de Fanjeaux&lt;/li&gt;\r\n                                        &lt;li id=\"Sylvestre_Chap_Verfeil\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Sylvestre, chaplain of Verfeil&lt;/li&gt;\r\n                                        &lt;li id=\"W_de_Mirepoix_PAM-AR\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;W de Mirepoix&lt;/li&gt;\r\n                                        &lt;li id=\"Ysarn_de_Fanjeaux_FJX-AU\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Ysarn de Fanjeaux&lt;/li&gt;\r\n                                        &lt;li id=\"Ysarn_de_Mont_Server_SRZ-TA\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Ysarn de Mont Server&lt;/li&gt;\r\n                                        &lt;li id=\"Ysarn_de_Vilar_QLE-AR\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;Ysarn de Vilar&lt;/li&gt;\r\n                                    &lt;/ul&gt;\r\n                                &lt;/div&gt;\r\n&lt;br/&gt;                            \r\n&lt;span id=\"button_entityplaces\" onclick=\"toggleentitylist(this.id)\" class=\"fake_link\"&gt;&lt;span class=\"en\"&gt;view list&lt;/span&gt;&lt;/span&gt;\r\n               &lt;div id=\"div_entityplaces\"&gt;\r\n                                    &lt;ul&gt;\r\n                                        &lt;li id=\"home_in_Queille\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;\r\n                                            &lt;name&gt;&lt;span class=\"en\"&gt;domus in Queill\u00e9&lt;/span&gt;&lt;span class=\"fr\"&gt;domus \u00e0 Queill\u00e9&lt;/span&gt;&lt;/name&gt;\r\n                                        &lt;/li&gt;\r\n                                        &lt;li id=\"home_of_Dominic_de_Catalonia\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;\r\n                                            &lt;name&gt;&lt;span class=\"en\"&gt;domus of Dominic de Catalonia&lt;/span&gt;&lt;span class=\"fr\"&gt;domus de Dominic de Catalonia&lt;/span&gt;&lt;/name&gt;\r\n                                        &lt;/li&gt;\r\n                                        &lt;li id=\"home_of_Guilabert_de_Castre\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;\r\n                                            &lt;name&gt;&lt;span class=\"en\"&gt;domus of Guilabert de Castre&lt;/span&gt;&lt;span class=\"fr\"&gt;domus de Guilabert de Castre&lt;/span&gt;&lt;/name&gt;\r\n                                        &lt;/li&gt;\r\n                                        &lt;li id=\"home_of_Guilhem_Canast-Brus\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;\r\n                                            &lt;name&gt;&lt;span class=\"en\"&gt;domus of Guilhem Canast-Brus&lt;/span&gt;&lt;span class=\"fr\"&gt;domus de Guilhem Canast-Brus&lt;/span&gt;&lt;/name&gt;\r\n                                        &lt;/li&gt;\r\n                                        &lt;li id=\"home_of_Guilhem_del_Mas_Sr_MSP\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;\r\n                                            &lt;name&gt;&lt;span class=\"en\"&gt;domus of Guilhem del Mas senior&lt;/span&gt;&lt;span class=\"fr\"&gt;domus de Guilhem del Mas senior&lt;/span&gt;&lt;/name&gt;\r\n                                        &lt;/li&gt;\r\n                                        &lt;li id=\"home_of_Na_Fornier_de_Pereille\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;\r\n                                            &lt;name&gt;&lt;span class=\"en\"&gt;domus of Na Fornier de Pereille&lt;/span&gt;&lt;span class=\"fr\"&gt;domus de Na Fornier de Pereille&lt;/span&gt;&lt;/name&gt;\r\n                                        &lt;/li&gt;\r\n                                        &lt;li id=\"home_of_Na_Laureta\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;\r\n                                            &lt;name&gt;&lt;span class=\"en\"&gt;domus of Na Laureta&lt;/span&gt;&lt;span class=\"fr\"&gt;domus de Na Laureta&lt;/span&gt;&lt;/name&gt;\r\n                                        &lt;/li&gt;\r\n                                        &lt;li id=\"home_of_P_de_las_Combas\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;\r\n                                            &lt;name&gt;&lt;span class=\"en\"&gt;domus of P. de las Comabas&lt;/span&gt;&lt;span class=\"fr\"&gt;domus de P. de las Comabas&lt;/span&gt;&lt;/name&gt;\r\n                                        &lt;/li&gt;\r\n                                        &lt;li id=\"home_of_Peire_Faure_MSP\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;\r\n                                            &lt;name&gt;&lt;span class=\"en\"&gt;domus of Peire Faure&lt;/span&gt;&lt;span class=\"fr\"&gt;domus de Peire Faure&lt;/span&gt;&lt;/name&gt;\r\n                                        &lt;/li&gt;\r\n                                        &lt;li id=\"home_of_Raimund_Canast_MSP-AU\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;\r\n                                            &lt;name&gt;&lt;span class=\"en\"&gt;domus of Bernard and Raimund Canast&lt;/span&gt;&lt;span class=\"fr\"&gt;domus de Bernard et Raimund Canast&lt;/span&gt;&lt;/name&gt;\r\n                                        &lt;/li&gt;\r\n                                        &lt;li id=\"Lavelanet_Ariege\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;\r\n                                            &lt;name&gt;&lt;span&gt;Lavelanet&lt;/span&gt;&lt;/name&gt;\r\n                                        &lt;/li&gt;\r\n                                        &lt;li id=\"Mirepoix_Ariege\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;\r\n                                            &lt;name&gt;&lt;span&gt;Mirepoix&lt;/span&gt;&lt;/name&gt;\r\n                                        &lt;/li&gt;\r\n                                        &lt;li id=\"Montsegur_Ariege\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;\r\n                                            &lt;name&gt;&lt;span&gt;Monts\u00e9gur&lt;/span&gt;&lt;/name&gt;\r\n                                        &lt;/li&gt;\r\n                                        &lt;li id=\"Pamiers_Ariege\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;\r\n                                            &lt;name&gt;&lt;span&gt;Pamiers&lt;/span&gt;&lt;/name&gt;\r\n                                        &lt;/li&gt;\r\n                                        &lt;li id=\"Pereille_Ariege\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;\r\n                                            &lt;name&gt;&lt;span&gt;P\u00e9reille&lt;/span&gt;&lt;/name&gt;\r\n                                        &lt;/li&gt;\r\n                                        &lt;li id=\"Saissac_Aude\" class=\"highlight-entities\" onclick=\"highlightEntities(this)\"&gt;\r\n                                            &lt;name&gt;&lt;span&gt;Saissac&lt;/span&gt;&lt;/name&gt;\r\n                                        &lt;/li&gt;\r\n                                    &lt;/ul&gt;\r\n                                &lt;/div&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "knex.js"], "comments": [{"owner": {"reputation": 2223, "user_id": 1913185, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4265c02c85f885f6725adada17579253?s=128&d=identicon&r=PG", "display_name": "technogeek1995", "link": "https://stackoverflow.com/users/1913185/technogeek1995"}, "edited": false, "score": 0, "creation_date": 1544650260, "post_id": 53751587, "comment_id": 94355962, "body": "Can you post your full knex query?"}], "answers": [{"tags": [], "owner": {"reputation": 2223, "user_id": 1913185, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4265c02c85f885f6725adada17579253?s=128&d=identicon&r=PG", "display_name": "technogeek1995", "link": "https://stackoverflow.com/users/1913185/technogeek1995"}, "is_accepted": false, "score": 20, "last_activity_date": 1544650501, "creation_date": 1544650501, "answer_id": 53751713, "question_id": 53751587, "link": "https://stackoverflow.com/questions/53751587/knex-js-or-inside-where/53751713#53751713", "title": "Knex JS &quot;OR&quot; Inside .where()?", "body": "<p>If you check the documentation for <code>where</code> clauses with Knex, you'll see a grouped chain where, if you're trying to have multiple where clauses, but only want to <code>or</code> the two you listed, then something like this would work.</p>\n\n<pre><code>knex('something')\n.where(function() {\n  this.where('state', BOOKING_STATE.ACCEPTED ).orWhere('state', BOOKING_STATE.WAITING_LIST)\n})\n.andWhere('something', something_else)\n...;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1512, "user_id": 2920617, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/7oqRC.jpg?s=128&g=1", "display_name": "Joel Brewer", "link": "https://stackoverflow.com/users/2920617/joel-brewer"}, "is_accepted": false, "score": 5, "last_activity_date": 1544650533, "creation_date": 1544650533, "answer_id": 53751718, "question_id": 53751587, "link": "https://stackoverflow.com/questions/53751587/knex-js-or-inside-where/53751718#53751718", "title": "Knex JS &quot;OR&quot; Inside .where()?", "body": "<p>You should be able to use a combination of <code>where() and orWhere()</code>:</p>\n\n<pre><code>knex('something')\n  .where({ state: BOOKING_STATE.ACCEPTED })\n  .orWhere({state: BOOKING_STATE.WAITING_LIST })\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 9653852, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hkJ_tCd2nto/AAAAAAAAAAI/AAAAAAAAAdI/q18YdKADKis/photo.jpg?sz=128", "display_name": "NettySocket", "link": "https://stackoverflow.com/users/9653852/nettysocket"}, "is_accepted": false, "score": 1, "last_activity_date": 1601494682, "creation_date": 1601494682, "answer_id": 64144615, "question_id": 53751587, "link": "https://stackoverflow.com/questions/53751587/knex-js-or-inside-where/64144615#64144615", "title": "Knex JS &quot;OR&quot; Inside .where()?", "body": "<p>As you can see on the <a href=\"https://knexjs.org/#Builder-where\" rel=\"nofollow noreferrer\">Knex.js Documentation</a>, it has functions for <code>where</code>, <code>andWhere</code> and <code>orWhere</code>. So you can easily chain your <code>WHERE</code> queries by calling</p>\n<pre class=\"lang-js prettyprint-override\"><code>knex('something')\n    .where({ state: BOOKING_STATE.ACCEPTED })\n    .orWhere({ state: BOOKING_STATE.WAITING_LIST })\n</code></pre>\n<hr />\n<p>You can also use:</p>\n<pre class=\"lang-js prettyprint-override\"><code>knex.select('some_field').from('some_table')\n.where({ state: BOOKING_STATE.ACCEPTED })\n.orWhere({ state: BOOKING_STATE.WAITING_LIST })\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 10302042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/228f429e00cbfc26ee942f189417ee2c?s=128&d=identicon&r=PG&f=1", "display_name": "TempAcct4Stack", "link": "https://stackoverflow.com/users/10302042/tempacct4stack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9190, "favorite_count": 1, "answer_count": 3, "score": 7, "last_activity_date": 1601494682, "creation_date": 1544649871, "question_id": 53751587, "link": "https://stackoverflow.com/questions/53751587/knex-js-or-inside-where", "title": "Knex JS &quot;OR&quot; Inside .where()?", "body": "<p>Does anyone have any ideea how to write an OR logic like the ' || ' operator in JS\nI tried inside my knex to do it like that -></p>\n\n<pre><code>knex('something')\n  .where({ state: BOOKING_STATE.ACCEPTED } || { state: BOOKING_STATE.WAITING_LIST})\n</code></pre>\n\n<p>however it fails and i can't find anything about it in the docs</p>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 1161, "user_id": 1565472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb7a859443a9ab16aa6e79c9c3df5da4?s=128&d=identicon&r=PG", "display_name": "Saqib Amin", "link": "https://stackoverflow.com/users/1565472/saqib-amin"}, "edited": false, "score": 0, "creation_date": 1545733570, "post_id": 53751579, "comment_id": 94684827, "body": "So in short only images named specifically, like &#39;spritesheet.png&#39; should be visible and other names should be hidden, right?"}], "owner": {"reputation": 9, "user_id": 10731953, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7ePUN_FNfUI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jmj41-H2t8Qps7CXW7BYrDE_RBdg/mo/photo.jpg?sz=128", "display_name": "Jerry O Brien", "link": "https://stackoverflow.com/users/10731953/jerry-o-brien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1545733374, "creation_date": 1544649846, "last_edit_date": 1545733374, "question_id": 53751579, "link": "https://stackoverflow.com/questions/53751579/trying-to-have-a-window-where-the-row-of-sevens-are-visible-and-rest-is-hidden", "title": "Trying to have a window where the row of sevens are visible and rest is hidden - images are spritesheet.png in div tags", "body": "<p>Trying to have a window where the row of sevens are visible and the rest of them arent for my website as it for a slot machine and i want the rest is hidden - images are spritesheet.png in div tags. Any ideas? \nhere is a image of my website with containers - <a href=\"https://i.stack.imgur.com/KRayb.jpg\" rel=\"nofollow noreferrer\">1</a> \nThanks for the help \nand here is my tags i used.</p>\n\n<pre><code>&lt;div class=\"outerbox\"&gt;\n    &lt;div class=\"container\"&gt;\n        &lt;div class=\"column\"&gt;\n            &lt;img src=\"images/spritesheet.png\"&gt;\n        &lt;/div&gt;\n        &lt;div class=\"column\"&gt;\n            &lt;img src=\"images/spritesheet.png\"&gt;\n        &lt;/div&gt;\n        &lt;div class=\"column\"&gt;\n            &lt;img src=\"images/spritesheet.png\"&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "express"], "comments": [{"owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "edited": false, "score": 2, "creation_date": 1544649735, "post_id": 53751541, "comment_id": 94355720, "body": "<code>Hello world</code>?? Well, it&#39;s just a string, your imagination is the only limit :)"}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1544649783, "post_id": 53751541, "comment_id": 94355738, "body": "Could mean &quot;production&quot; mode is on..."}, {"owner": {"reputation": 793, "user_id": 7546163, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/db9ff2e30394189c03247342f23d748b?s=128&d=identicon&r=PG&f=1", "display_name": "Roi", "link": "https://stackoverflow.com/users/7546163/roi"}, "edited": false, "score": 4, "creation_date": 1544649815, "post_id": 53751541, "comment_id": 94355757, "body": "That&#39;s the planet Earth. Often referred to as the &quot;world&quot;."}, {"owner": {"reputation": 2849, "user_id": 6496264, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4GXZ7-7uHNc/AAAAAAAAAAI/AAAAAAAAAFM/ax4-x7Z13Ew/photo.jpg?sz=128", "display_name": "Sami Hult", "link": "https://stackoverflow.com/users/6496264/sami-hult"}, "edited": false, "score": 1, "creation_date": 1544649848, "post_id": 53751541, "comment_id": 94355767, "body": "More information on that character: <a href=\"https://www.compart.com/en/unicode/U+1F30E\" rel=\"nofollow noreferrer\">compart.com/en/unicode/U+1F30E</a>"}, {"owner": {"reputation": 7368, "user_id": 3479456, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zuJYi.png?s=128&g=1", "display_name": "pushkin", "link": "https://stackoverflow.com/users/3479456/pushkin"}, "edited": false, "score": 1, "creation_date": 1544650252, "post_id": 53751541, "comment_id": 94355959, "body": "something having to do with the Illuminati most likely"}], "answers": [{"tags": [], "owner": {"reputation": 9862, "user_id": 2757916, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/y2HgZ.jpg?s=128&g=1", "display_name": "Govind Rai", "link": "https://stackoverflow.com/users/2757916/govind-rai"}, "is_accepted": false, "score": 2, "last_activity_date": 1544650107, "last_edit_date": 1544650107, "creation_date": 1544649809, "answer_id": 53751573, "question_id": 53751541, "link": "https://stackoverflow.com/questions/53751541/meaning-of-the-symbol-in-server-js-for-full-stack-apps/53751573#53751573", "title": "Meaning of the symbol &#127758; in server.js for full stack apps", "body": "<p>It's just another unicode character like any other character you type (in this case, the character translates to an Earth emoji). </p>\n\n<p>Whoever wrote that example is just logging that \"the server is now accessible to the world wide web through the port number.\" </p>\n\n<p>Just try running the code. It'll appear in your console.</p>\n"}], "owner": {"reputation": 31, "user_id": 9386547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcc3c8a406a305e568308c2e0a17489d?s=128&d=identicon&r=PG&f=1", "display_name": "Saad Mourtada", "link": "https://stackoverflow.com/users/9386547/saad-mourtada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1544650107, "creation_date": 1544649675, "question_id": 53751541, "link": "https://stackoverflow.com/questions/53751541/meaning-of-the-symbol-in-server-js-for-full-stack-apps", "title": "Meaning of the symbol &#127758; in server.js for full stack apps", "body": "<p>Does somebody know what does the symbol \ud83c\udf0e means in server.js for full stack (javascript) apps?.</p>\n\n<p>for example :</p>\n\n<pre><code>app.listen(PORT, () =&gt; {console.log(`\ud83c\udf0e ==&gt; Server now on port ${PORT}!`)});\n</code></pre>\n\n<p>Thank you!</p>\n"}, {"tags": ["javascript", "asynchronous", "async-await", "synchronous"], "answers": [{"comments": [{"owner": {"reputation": 3277, "user_id": 5490549, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/hwaF6.png?s=128&g=1", "display_name": "IntoTheDeep", "link": "https://stackoverflow.com/users/5490549/intothedeep"}, "edited": false, "score": 0, "creation_date": 1544649889, "post_id": 53751572, "comment_id": 94355786, "body": "How to use await outside of async function?"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 3277, "user_id": 5490549, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/hwaF6.png?s=128&g=1", "display_name": "IntoTheDeep", "link": "https://stackoverflow.com/users/5490549/intothedeep"}, "edited": false, "score": 0, "creation_date": 1544649949, "post_id": 53751572, "comment_id": 94355813, "body": "You can&#39;t. Why would you want to?"}, {"owner": {"reputation": 3277, "user_id": 5490549, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/hwaF6.png?s=128&g=1", "display_name": "IntoTheDeep", "link": "https://stackoverflow.com/users/5490549/intothedeep"}, "edited": false, "score": 0, "creation_date": 1544650057, "post_id": 53751572, "comment_id": 94355869, "body": "You use await in non async method"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 3277, "user_id": 5490549, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/hwaF6.png?s=128&g=1", "display_name": "IntoTheDeep", "link": "https://stackoverflow.com/users/5490549/intothedeep"}, "edited": false, "score": 0, "creation_date": 1544650284, "post_id": 53751572, "comment_id": 94355974, "body": "@TeodorKolev <code>resolvePersons</code> is declared as an <code>async function</code>, and the <code>await</code> in a loop is exactly what you want for sequential processing. What makes you think it&#39;s not a good idea?"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 3277, "user_id": 5490549, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/hwaF6.png?s=128&g=1", "display_name": "IntoTheDeep", "link": "https://stackoverflow.com/users/5490549/intothedeep"}, "edited": false, "score": 0, "creation_date": 1544650644, "post_id": 53751572, "comment_id": 94356127, "body": "@TeodorKolev That rule is causing so much confusion, they&#39;d rather drop it. Too many people take it much too serious, instead of a friendly linter hint. It does not apply in your situation: <a href=\"https://eslint.org/docs/rules/no-await-in-loop#when-not-to-use-it\" rel=\"nofollow noreferrer\">eslint.org/docs/rules/no-await-in-loop#when-not-to-use-it</a>."}], "tags": [], "owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "is_accepted": true, "score": 2, "last_activity_date": 1544649956, "last_edit_date": 1544649956, "creation_date": 1544649807, "answer_id": 53751572, "question_id": 53751459, "link": "https://stackoverflow.com/questions/53751459/get-previous-item-in-async-function/53751572#53751572", "title": "Get previous item in async function", "body": "<p>Don't use <code>Promise.all</code> and <code>map</code> if you don't want the iterations to run concurrently. Just write a normal loop that <code>await</code>s something:</p>\n\n<pre><code>async function resolvePersons(persons) {\n    const result = [];\n    for (const [i, person] of persons.entries()) {\n        const data = await getSomePersonData(person);\n        const prevValue = i == 0 ? null : result[i-1].value;\n        const value = await getValue(prevValue);\n        result.push({ data, value });\n    }\n    return result;\n}\n</code></pre>\n"}], "owner": {"reputation": 3277, "user_id": 5490549, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/hwaF6.png?s=128&g=1", "display_name": "IntoTheDeep", "link": "https://stackoverflow.com/users/5490549/intothedeep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 53751572, "answer_count": 1, "score": 1, "last_activity_date": 1544649956, "creation_date": 1544649321, "last_edit_date": 1544649708, "question_id": 53751459, "link": "https://stackoverflow.com/questions/53751459/get-previous-item-in-async-function", "title": "Get previous item in async function", "body": "<p>I have three records. In order to update every record I need to take previous record's value. Problem is when method is async record three starts to update before record two finish and gets value of null. How can I handle this?</p>\n\n<pre><code>const resolvePersons = async (persons) =&gt; {\n      return Promise.all(persons.map(async (person) =&gt; {\n        const data = await getSomePersonData(person);\n        const value = await getValue(persons); // first person value is statically set\n        return { data, value };\n      }));\n};\n\nfunction getSomePersonData(person) {\n    return new Promise((resolve, reject) =&gt; setTimeout(() =&gt; resolve({data: someData}), 100);\n}\n\nfunction getValue(persons) {\n    return new Promise((resolve, reject) =&gt; setTimeout(() =&gt; resolve(persons[index - 1].value), 100);\n}\n</code></pre>\n"}, {"tags": ["javascript", "angularjs", "google-cloud-platform", "google-cloud-functions", "firebase-hosting"], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 7250791, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3L2k-CBLivw/AAAAAAAAAAI/AAAAAAAAAGg/pjA6jU8IDEk/photo.jpg?sz=128", "display_name": "MUHAMMAD SIDDIQ", "link": "https://stackoverflow.com/users/7250791/muhammad-siddiq"}, "is_accepted": true, "score": 0, "last_activity_date": 1544721012, "creation_date": 1544721012, "answer_id": 53766911, "question_id": 53751430, "link": "https://stackoverflow.com/questions/53751430/firebase-hosting-in-express-with-angularjs-server-side-rendering-is-not-workin/53766911#53766911", "title": "firebase hosting in express with angularjs - server side rendering is not working", "body": "<p>to configure the hosting route, you have to change the hosting rule on file firebase.json</p>\n\n<pre><code>\"hosting\": {\n\"public\": \"public\",\n\"ignore\": [\n  \"firebase.json\",\n  \"**/.*\",\n  \"**/node_modules/**\"\n]}\n</code></pre>\n\n<p>then change to this</p>\n\n<pre><code>\"hosting\": {\n\"public\": \"public\",\n\"ignore\": [\n  \"firebase.json\",\n  \"**/.*\",\n  \"**/node_modules/**\"\n],\n\"rewrites\": [\n  {\n    \"source\": \"**\",\n    \"function\": \"app\"\n  }\n]}\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 7250791, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3L2k-CBLivw/AAAAAAAAAAI/AAAAAAAAAGg/pjA6jU8IDEk/photo.jpg?sz=128", "display_name": "MUHAMMAD SIDDIQ", "link": "https://stackoverflow.com/users/7250791/muhammad-siddiq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "accepted_answer_id": 53766911, "answer_count": 1, "score": 0, "last_activity_date": 1544783305, "creation_date": 1544649188, "last_edit_date": 1544783305, "question_id": 53751430, "link": "https://stackoverflow.com/questions/53751430/firebase-hosting-in-express-with-angularjs-server-side-rendering-is-not-workin", "title": "firebase hosting in express with angularjs - server side rendering is not working", "body": "<p>i have a firebase App, with express as backend and angularjs as frontend.\nthis app have admin dashboard and client page, with directory structure like this</p>\n\n<pre><code>App - functions\n       --admin\n          ---app\n          ---controllers\n          ---views\n       --client\n          ---app\n          ---controllers\n          ---views\n       --index.js\n    -public\n      --assets\n        ---images\n        ---stylesheets\n        ---javascripts\n</code></pre>\n\n<p>and this my index.js for express </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const functions           = require('firebase-functions');\r\nconst admin\t\t\t\t  = require('firebase-admin');\r\nconst express\t\t\t  = require('express');\r\nconst path   \t\t\t  = require('path');\r\nconst bodyParser \t\t  = require('body-parser');\r\nconst cookieParser\t\t  = require('cookie-parser');\r\nconst serviceAccount \t  = require('./service_account.json');\r\n\r\nconst app\t\t          = express();\r\nconst firebaseApp\t      = admin.initializeApp({\r\n        credential: admin.credential.cert(serviceAccount),\r\n        databaseURL: \"https://lelangawi.firebaseio.com\"\r\n    });\r\n\r\napp.use(bodyParser.json()); // for parsing application/json\r\napp.use(bodyParser.urlencoded({ extended: true })); // for parsing\r\napp.use(cookieParser());\r\n\r\napp.set('views', __dirname);\r\napp.use('/assets', express.static(path.join(__dirname + '../../public/assets')));\r\napp.use('/admin/app', express.static(path.join(__dirname + '../../functions/admin/app')));\r\napp.use('/client/app', express.static(path.join(__dirname + '../../functions/client/app')));\r\napp.use('/admin/controllers', express.static(path.join(__dirname + '../../functions/admin/controllers')));\r\napp.use('/client/controllers', express.static(path.join(__dirname + '../../functions/client/controllers')));\r\n\r\n\r\napp.engine('html', require('ejs').renderFile);\r\n\r\n// CORS Support\r\napp.use(function(req, res, next) {\r\n    res.header('Access-Control-Allow-Origin', '*');\r\n    res.header('Access-Control-Allow-Methods', 'GET,PUT,POST,DELETE');\r\n    res.header('Access-Control-Allow-Headers', 'Content-Type');\r\n    next();\r\n});\r\n\r\napp.get('/admin', function (req, res) {\r\n    res.set('Cache-Control', 'public, max-age=300, s-maxage=600');\r\n    res.render('admin/views/index.html');\r\n});\r\n\r\napp.get('/', function (req, res) {\r\n    res.set('Cache-Control', 'public, max-age=300, s-maxage=600');\r\n    res.render('client/views/index.html');\r\n});\r\n\r\napp.get('/admin/partials/:name', function (req, res) {\r\n    res.set('Cache-Control', 'public, max-age=300, s-maxage=600');\r\n    res.render('admin/views/partials/' + req.params.name);\r\n});\r\n\r\napp.get('/client/partials/:name', function (req, res) {\r\n    res.set('Cache-Control', 'public, max-age=300, s-maxage=600');\r\n    res.render('client/views/partials/' + req.params.name);\r\n});\r\n\r\n\r\n\r\nexports.app = functions.https.onRequest(app);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>and everytime i run command firebase serve in console, it get error : cannot get the url. but it works from the app url</p>\n\n<p>this the hosting url: <a href=\"http://localhost:5000\" rel=\"nofollow noreferrer\">http://localhost:5000</a></p>\n\n<p>and this the fungtions url : <a href=\"http://localhost:5001/lelangawi/us-central1/app/\" rel=\"nofollow noreferrer\">http://localhost:5001/lelangawi/us-central1/app/</a></p>\n"}, {"tags": ["javascript", "google-chrome-extension", "dom-events", "zoho"], "comments": [{"owner": {"reputation": 5995, "user_id": 5995040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wp8l0.png?s=128&g=1", "display_name": "Mr.Rebot", "link": "https://stackoverflow.com/users/5995040/mr-rebot"}, "edited": false, "score": 0, "creation_date": 1544705833, "post_id": 53751429, "comment_id": 94376347, "body": "Based on this old <a href=\"https://bugs.chromium.org/p/chromium/issues/detail?id=114890\" rel=\"nofollow noreferrer\">reported issue</a>, &quot;add an event listener for load that uses setTimeout to register a deferred function. This should guarantee that the deferred function will run after all onload event handlers.&quot;"}, {"owner": {"reputation": 66485, "user_id": 934239, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f6278534f82406052d8aac1da327b84c?s=128&d=identicon&r=PG", "display_name": "Xan", "link": "https://stackoverflow.com/users/934239/xan"}, "edited": false, "score": 0, "creation_date": 1544712901, "post_id": 53751429, "comment_id": 94380771, "body": "How do you define &quot;fully loaded&quot;? Usually, there&#39;s not really such a state, e.g. if the page lazy-loads more content later. You will need to monitor for changes."}, {"owner": {"reputation": 66485, "user_id": 934239, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f6278534f82406052d8aac1da327b84c?s=128&d=identicon&r=PG", "display_name": "Xan", "link": "https://stackoverflow.com/users/934239/xan"}, "edited": false, "score": 0, "creation_date": 1544713080, "post_id": 53751429, "comment_id": 94380911, "body": "See this question for a strategy: <a href=\"https://stackoverflow.com/questions/2844565/is-there-a-javascript-jquery-dom-change-listener/\" title=\"is there a javascript jquery dom change listener\">stackoverflow.com/questions/2844565/&hellip;</a>"}], "owner": {"reputation": 1, "user_id": 10782979, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oHZZo4SCQlk/AAAAAAAAAAI/AAAAAAAAAEM/J7W3axdHY9U/photo.jpg?sz=128", "display_name": "Francisco Ribeiro", "link": "https://stackoverflow.com/users/10782979/francisco-ribeiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1607196059, "creation_date": 1544649187, "last_edit_date": 1607196059, "question_id": 53751429, "link": "https://stackoverflow.com/questions/53751429/zoho-crm-hide-fields", "title": "Zoho CRM Hide Fields", "body": "<p>If searched the <a href=\"https://help.zoho.com/portal/community\" rel=\"nofollow noreferrer\">https://help.zoho.com/portal/community</a> site\nAnd it seems that you can only hide some fields if you have the enterprise edition.</p>\n<p>I'm not looking for a Security solution, I only want cleaner interface so I think the only ways is to develop a chrome extension.</p>\n<p>I've already stared to develop it in\n<a href=\"https://github.com/fmmribeiro/scZohoHideElements\" rel=\"nofollow noreferrer\">https://github.com/fmmribeiro/scZohoHideElements</a></p>\n<p>But using a &quot;Content Script&quot; the extension is fired before the page is fully loaded (zoho uses some kind of async content loading)</p>\n<p><strong>HOW do I execute my Content Script after the page is fully loaded?</strong></p>\n<p>Ps: By now the only way to bypass this problem is to click the Chrome extension button (background script)</p>\n"}, {"tags": ["javascript", "arrays", "promise"], "comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1544649241, "post_id": 53751416, "comment_id": 94355543, "body": "<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/all\" rel=\"nofollow noreferrer\">Promise.all</a>"}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1544649246, "post_id": 53751416, "comment_id": 94355545, "body": "You should put the promises in <code>Promise.all()</code> and once they all resolve then create the array. This is similar to the forEach issue."}, {"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 0, "creation_date": 1544649290, "post_id": 53751416, "comment_id": 94355561, "body": "<code>return X = await Y;</code> can have some funky behavior. Try doing <code>let X = await Y; return X;</code>"}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "reply_to_user": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 0, "creation_date": 1544649339, "post_id": 53751416, "comment_id": 94355585, "body": "@Abion47 how is it different?"}, {"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1544649407, "post_id": 53751416, "comment_id": 94355607, "body": "@zerkms I&#39;m not sure of the exact reason but it&#39;s happened to me before where doing it the first way wasn&#39;t working where the second way did. It&#39;s also encouraged to do it that way by many style guides anyway, so I don&#39;t argue."}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "reply_to_user": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 0, "creation_date": 1544649730, "post_id": 53751416, "comment_id": 94355716, "body": "@Abion47 <a href=\"https://jsfiddle.net/hr6o09px/\" rel=\"nofollow noreferrer\">jsfiddle.net/hr6o09px</a> \ud83e\udd37"}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 1, "creation_date": 1544659994, "post_id": 53751416, "comment_id": 94359427, "body": "You get <code>Promise</code> because an <code>async</code> function always returns a promise."}], "answers": [{"tags": [], "owner": {"reputation": 3661, "user_id": 3623866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W0EfX.jpg?s=128&g=1", "display_name": "Jordan Soltman", "link": "https://stackoverflow.com/users/3623866/jordan-soltman"}, "is_accepted": false, "score": 2, "last_activity_date": 1544649300, "creation_date": 1544649300, "answer_id": 53751453, "question_id": 53751416, "link": "https://stackoverflow.com/questions/53751416/make-result-from-an-array-map-add-into-one-array/53751453#53751453", "title": "Make result from an Array.map() add into one array", "body": "<pre><code>Promise.all(results).then(function(urls) {\n  console.log(urls);\n});\n</code></pre>\n\n<p>You need to wait for all of the promises to resolve, then you can work with them.</p>\n"}], "owner": {"reputation": 141, "user_id": 7738704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/09yXS.jpg?s=128&g=1", "display_name": "Kleav James", "link": "https://stackoverflow.com/users/7738704/kleav-james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "closed_date": 1544710241, "answer_count": 1, "score": 5, "last_activity_date": 1544660174, "creation_date": 1544649127, "last_edit_date": 1544659881, "question_id": 53751416, "link": "https://stackoverflow.com/questions/53751416/make-result-from-an-array-map-add-into-one-array", "closed_reason": "Duplicate", "title": "Make result from an Array.map() add into one array", "body": "<p>I have an array of strings <code>['string1', 'string2']</code> and I want to transform each one of them into (example: <code>blob:http://something-new</code>) but i get a result of <code>(2) [Promise, Promise]</code>. How to get the resolved value? </p>\n\n<p><strong>here is the code</strong></p>\n\n<pre><code>const results = id.map(async assetId =&gt; {\n    const responseIds = await API.assets.getAssetFileById(assetId);\n    let asset = responseIds.data.asset;\n    const urlCreator = window.URL || window.webkitURL;\n    const blobFile = await file_helper.dataUrlToBlob(asset.file);\n\n    return asset.file = await urlCreator.createObjectURL(blobFile);\n});\n\nconsole.log(results) // (2) [Promise, Promise]\n</code></pre>\n\n<p><strong>Expected output:</strong></p>\n\n<pre><code>console.log(results) // (2) ['blob:http://something-new1', 'blob:http://something-new2']\n</code></pre>\n"}, {"tags": ["javascript", "html", "css", "scroll", "js-scrollintoview"], "answers": [{"comments": [{"owner": {"reputation": 21408, "user_id": 209113, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/R8ORs.jpg?s=128&g=1", "display_name": "MegaMatt", "link": "https://stackoverflow.com/users/209113/megamatt"}, "edited": false, "score": 0, "creation_date": 1544650113, "post_id": 53751511, "comment_id": 94355902, "body": "Thanks. This is certainly reasonable, but it means the scrolled to tag is always on the very left most part of the container. I&#39;d hoped to allow keyboard navigation through the tags in almost a &quot;page-by-page&quot; fashion, which <code>scrollIntoView()</code> allowed me to do to some extent, by using the &quot;center&quot; value for the &quot;inline&quot; option you can provide to it, per MDN. To get the same behavior with <code>scrollLeft</code>, I&#39;m just not sure how I&#39;d do it."}, {"owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "reply_to_user": {"reputation": 21408, "user_id": 209113, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/R8ORs.jpg?s=128&g=1", "display_name": "MegaMatt", "link": "https://stackoverflow.com/users/209113/megamatt"}, "edited": false, "score": 0, "creation_date": 1544652315, "post_id": 53751511, "comment_id": 94356922, "body": "@MegaMatt, you might use <code>container.offsetWidth</code> and <code>tag[i].offsetWidth</code> to adjust the scrolling position. E.g. <code>container.scrollLeft=tags[i].offsetLeft+(container.offsetWid&zwnj;&#8203;th-tags[i].offsetWid&zwnj;&#8203;th)&#47;2;</code> would center the <code>tag[i]</code> within the <code>container</code>."}], "tags": [], "owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "is_accepted": true, "score": 2, "last_activity_date": 1544649593, "creation_date": 1544649593, "answer_id": 53751511, "question_id": 53751393, "link": "https://stackoverflow.com/questions/53751393/scroll-element-into-view-within-container-but-not-in-browser-window/53751511#53751511", "title": "Scroll element into view within container, but not in browser window", "body": "<p>Consider changing <code>container.scrollLeft</code> value:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function scrollToLast() {\r\n  var container = document.getElementById('container');\r\n  var tags = container.getElementsByTagName('span');\r\n  container.scrollLeft = tags[tags.length-1].offsetLeft;\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n  text-align: center;\r\n}\r\n\r\n#container {\r\n  border: 1px solid;\r\n  margin: 100px auto 20px;\r\n  overflow: hidden;\r\n  padding: 10px;\r\n  text-align: left;\r\n  white-space: nowrap;\r\n  width: 75%;\r\n  scroll-behavior: smooth;\r\n}\r\n\r\n#container &gt; span {\r\n  border: 1px solid grey;\r\n  display: inline-block;\r\n  margin-right: 5px;\r\n  padding: 3px;\r\n}\r\n\r\nbutton {\r\n  margin-bottom: 100px;\r\n}\r\n\r\n.extra-content-on-page:before {\r\n  content: 'Simulates more content';\r\n}\r\n\r\n.extra-content-on-page {\r\n  background: #f2f2f2;\r\n  height: 100px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"extra-content-on-page\"&gt;&lt;/div&gt;\r\n\r\n&lt;div id=\"container\"&gt;\r\n  &lt;span&gt;Tag 1&lt;/span&gt;\r\n  &lt;span&gt;Tag 2&lt;/span&gt;\r\n  &lt;span&gt;Tag 3&lt;/span&gt;\r\n  &lt;span&gt;Tag 4&lt;/span&gt;\r\n  &lt;span&gt;Tag 5&lt;/span&gt;\r\n  &lt;span&gt;Tag 6&lt;/span&gt;\r\n  &lt;span&gt;Tag 7&lt;/span&gt;\r\n  &lt;span&gt;Tag 8&lt;/span&gt;\r\n  &lt;span&gt;Tag 9&lt;/span&gt;\r\n  &lt;span&gt;Tag 10&lt;/span&gt;\r\n  &lt;span&gt;Tag 11&lt;/span&gt;\r\n  &lt;span&gt;Tag 12&lt;/span&gt;\r\n  &lt;span&gt;Tag 13&lt;/span&gt;\r\n  &lt;span&gt;Tag 14&lt;/span&gt;\r\n  &lt;span&gt;Tag 15&lt;/span&gt;\r\n  &lt;span&gt;Tag 16&lt;/span&gt;\r\n  &lt;span&gt;Tag 17&lt;/span&gt;\r\n  &lt;span&gt;Tag 18&lt;/span&gt;\r\n  &lt;span&gt;Tag 19&lt;/span&gt;\r\n  &lt;span&gt;Tag 20&lt;/span&gt;\r\n  &lt;span&gt;Tag 21&lt;/span&gt;\r\n  &lt;span&gt;Tag 22&lt;/span&gt;\r\n  &lt;span&gt;Tag 23&lt;/span&gt;\r\n  &lt;span&gt;Tag 24&lt;/span&gt;\r\n  &lt;span&gt;Tag 25&lt;/span&gt;\r\n  &lt;span&gt;Tag 26&lt;/span&gt;\r\n  &lt;span&gt;Tag 27&lt;/span&gt;\r\n  &lt;span&gt;Tag 28&lt;/span&gt;\r\n  &lt;span&gt;Tag 29&lt;/span&gt;\r\n  &lt;span&gt;Tag 30&lt;/span&gt;\r\n  &lt;span&gt;Tag 31&lt;/span&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;button onClick=\"scrollToLast()\"&gt;Scroll to Tag 31&lt;/button&gt;\r\n\r\n&lt;div class=\"extra-content-on-page\"&gt;&lt;/div&gt;\r\n&lt;div class=\"extra-content-on-page\"&gt;&lt;/div&gt;\r\n&lt;div class=\"extra-content-on-page\"&gt;&lt;/div&gt;\r\n&lt;div class=\"extra-content-on-page\"&gt;&lt;/div&gt;\r\n&lt;div class=\"extra-content-on-page\"&gt;&lt;/div&gt;\r\n&lt;div class=\"extra-content-on-page\"&gt;&lt;/div&gt;\r\n&lt;div class=\"extra-content-on-page\"&gt;&lt;/div&gt;\r\n&lt;div class=\"extra-content-on-page\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 21408, "user_id": 209113, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/R8ORs.jpg?s=128&g=1", "display_name": "MegaMatt", "link": "https://stackoverflow.com/users/209113/megamatt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1029, "favorite_count": 0, "accepted_answer_id": 53751511, "answer_count": 1, "score": 1, "last_activity_date": 1544649593, "creation_date": 1544649033, "question_id": 53751393, "link": "https://stackoverflow.com/questions/53751393/scroll-element-into-view-within-container-but-not-in-browser-window", "title": "Scroll element into view within container, but not in browser window", "body": "<p>I have a container with tags that line up horizontally. See example below.</p>\n\n<p>The container has <code>overflow:hidden</code> and <code>white-space:nowrap</code>, so the tags can potentially go out to the right forever. I'd like to programatically horizontal scroll to a given tag, provided I have its HTML element in Javascript.</p>\n\n<p>In my test component, I'd been using <code>el.scrollIntoView()</code>, which seemed to be working perfectly. But then I integrated the component into a larger HTML page that scrolled vertically, and I noticed each time I called <code>el.scrollIntoView</code>, it would still scroll into view horizontally within its container, but the whole page would also jump to where the container was right in line with the top of the browser window. It's this second behavior that I obviously don't want.</p>\n\n<p>Is there some way to scroll into view only within a container, and not have the browser window also jump? I'd like to use vanilla JS, if possible.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function scrollToLast() {\r\n  var container = document.getElementById('container');\r\n  var tags = container.getElementsByTagName('span');\r\n  tags[tags.length-1].scrollIntoView()\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n  text-align: center;\r\n}\r\n\r\n#container {\r\n  border: 1px solid;\r\n  margin: 100px auto 20px;\r\n  overflow: hidden;\r\n  padding: 10px;\r\n  text-align: left;\r\n  white-space: nowrap;\r\n  width: 75%\r\n}\r\n\r\n#container &gt; span {\r\n  border: 1px solid grey;\r\n  display: inline-block;\r\n  margin-right: 5px;\r\n  padding: 3px;\r\n}\r\n\r\nbutton {\r\n  margin-bottom: 100px;\r\n}\r\n\r\n.extra-content-on-page:before {\r\n  content: 'Simulates more content';\r\n}\r\n\r\n.extra-content-on-page {\r\n  background: #f2f2f2;\r\n  height: 100px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"extra-content-on-page\"&gt;&lt;/div&gt;\r\n\r\n&lt;div id=\"container\"&gt;\r\n  &lt;span&gt;Tag 1&lt;/span&gt;\r\n  &lt;span&gt;Tag 2&lt;/span&gt;\r\n  &lt;span&gt;Tag 3&lt;/span&gt;\r\n  &lt;span&gt;Tag 4&lt;/span&gt;\r\n  &lt;span&gt;Tag 5&lt;/span&gt;\r\n  &lt;span&gt;Tag 6&lt;/span&gt;\r\n  &lt;span&gt;Tag 7&lt;/span&gt;\r\n  &lt;span&gt;Tag 8&lt;/span&gt;\r\n  &lt;span&gt;Tag 9&lt;/span&gt;\r\n  &lt;span&gt;Tag 10&lt;/span&gt;\r\n  &lt;span&gt;Tag 11&lt;/span&gt;\r\n  &lt;span&gt;Tag 12&lt;/span&gt;\r\n  &lt;span&gt;Tag 13&lt;/span&gt;\r\n  &lt;span&gt;Tag 14&lt;/span&gt;\r\n  &lt;span&gt;Tag 15&lt;/span&gt;\r\n  &lt;span&gt;Tag 16&lt;/span&gt;\r\n  &lt;span&gt;Tag 17&lt;/span&gt;\r\n  &lt;span&gt;Tag 18&lt;/span&gt;\r\n  &lt;span&gt;Tag 19&lt;/span&gt;\r\n  &lt;span&gt;Tag 20&lt;/span&gt;\r\n  &lt;span&gt;Tag 21&lt;/span&gt;\r\n  &lt;span&gt;Tag 22&lt;/span&gt;\r\n  &lt;span&gt;Tag 23&lt;/span&gt;\r\n  &lt;span&gt;Tag 24&lt;/span&gt;\r\n  &lt;span&gt;Tag 25&lt;/span&gt;\r\n  &lt;span&gt;Tag 26&lt;/span&gt;\r\n  &lt;span&gt;Tag 27&lt;/span&gt;\r\n  &lt;span&gt;Tag 28&lt;/span&gt;\r\n  &lt;span&gt;Tag 29&lt;/span&gt;\r\n  &lt;span&gt;Tag 30&lt;/span&gt;\r\n  &lt;span&gt;Tag 31&lt;/span&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;button onClick=\"scrollToLast()\"&gt;Scroll to Tag 31&lt;/button&gt;\r\n\r\n&lt;div class=\"extra-content-on-page\"&gt;&lt;/div&gt;\r\n&lt;div class=\"extra-content-on-page\"&gt;&lt;/div&gt;\r\n&lt;div class=\"extra-content-on-page\"&gt;&lt;/div&gt;\r\n&lt;div class=\"extra-content-on-page\"&gt;&lt;/div&gt;\r\n&lt;div class=\"extra-content-on-page\"&gt;&lt;/div&gt;\r\n&lt;div class=\"extra-content-on-page\"&gt;&lt;/div&gt;\r\n&lt;div class=\"extra-content-on-page\"&gt;&lt;/div&gt;\r\n&lt;div class=\"extra-content-on-page\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "node.js", "mongodb", "discord", "discord.js"], "comments": [{"owner": {"reputation": 27093, "user_id": 5189811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FzPWr.png?s=128&g=1", "display_name": "Oluwafemi Sule", "link": "https://stackoverflow.com/users/5189811/oluwafemi-sule"}, "edited": false, "score": 0, "creation_date": 1544650386, "post_id": 53751383, "comment_id": 94356021, "body": "Using the same name for a function and its parameter is a recipe for error"}, {"owner": {"reputation": 367, "user_id": 1739440, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/844b1efe593ab4e9d564920dbf7ba74c?s=128&d=identicon&r=PG&f=1", "display_name": "paintball247", "link": "https://stackoverflow.com/users/1739440/paintball247"}, "reply_to_user": {"reputation": 27093, "user_id": 5189811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FzPWr.png?s=128&g=1", "display_name": "Oluwafemi Sule", "link": "https://stackoverflow.com/users/5189811/oluwafemi-sule"}, "edited": false, "score": 0, "creation_date": 1544655577, "post_id": 53751383, "comment_id": 94358170, "body": "thats a great callout! Thx.. Still doesn&#39;t resolve the initial issue, but super helpful for me to remember"}, {"owner": {"reputation": 3141, "user_id": 5793873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/meUde.jpg?s=128&g=1", "display_name": "T. Dirks", "link": "https://stackoverflow.com/users/5793873/t-dirks"}, "edited": false, "score": 0, "creation_date": 1544687094, "post_id": 53751383, "comment_id": 94366432, "body": "On what line exactly do you get the error?"}, {"owner": {"reputation": 367, "user_id": 1739440, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/844b1efe593ab4e9d564920dbf7ba74c?s=128&d=identicon&r=PG&f=1", "display_name": "paintball247", "link": "https://stackoverflow.com/users/1739440/paintball247"}, "reply_to_user": {"reputation": 3141, "user_id": 5793873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/meUde.jpg?s=128&g=1", "display_name": "T. Dirks", "link": "https://stackoverflow.com/users/5793873/t-dirks"}, "edited": false, "score": 0, "creation_date": 1544714125, "post_id": 53751383, "comment_id": 94381568, "body": "hi @T.Dirks I went and added error at the bottom. Basically channels is undefined from hello.js and i can&#39;t figure out why when i run start that is server.js"}, {"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 0, "creation_date": 1544714463, "post_id": 53751383, "comment_id": 94381786, "body": "Your parameter the wrapper function (client) shadows the outer var. Then when you call it from the other file since you don&#39;t pass any args <code>client</code> is undefined in the function."}, {"owner": {"reputation": 367, "user_id": 1739440, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/844b1efe593ab4e9d564920dbf7ba74c?s=128&d=identicon&r=PG&f=1", "display_name": "paintball247", "link": "https://stackoverflow.com/users/1739440/paintball247"}, "reply_to_user": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 0, "creation_date": 1544715172, "post_id": 53751383, "comment_id": 94382293, "body": "@JaredSmith if possible could you provide an example? A bit unclear about what you mean with wrapper shadowing and putting a second args ."}, {"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 1, "creation_date": 1544715353, "post_id": 53751383, "comment_id": 94382415, "body": "<code>exports.wrapper = async(client, message) =&gt; {</code> means that the function expects to have <code>client</code> passed in. That parameter declaration shadows the <code>client</code> defined at the top of the file (meaning it&#39;s invisible inside the function). So when you call it in the other file like so <code>sayHello.wrapper();</code> with <b>no</b> arguments, kaboom."}, {"owner": {"reputation": 367, "user_id": 1739440, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/844b1efe593ab4e9d564920dbf7ba74c?s=128&d=identicon&r=PG&f=1", "display_name": "paintball247", "link": "https://stackoverflow.com/users/1739440/paintball247"}, "edited": false, "score": 0, "creation_date": 1544716481, "post_id": 53751383, "comment_id": 94383119, "body": "Thank you so much! I don&#39;t believe I can give you the &#39;accepted answer&#39; checkbox b/c you only made a comment. Happy to do so"}, {"owner": {"reputation": 367, "user_id": 1739440, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/844b1efe593ab4e9d564920dbf7ba74c?s=128&d=identicon&r=PG&f=1", "display_name": "paintball247", "link": "https://stackoverflow.com/users/1739440/paintball247"}, "reply_to_user": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 0, "creation_date": 1544723026, "post_id": 53751383, "comment_id": 94386572, "body": "@JaredSmith just tagging you in case you didn&#39;t see my response! Thanks again!"}, {"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 0, "creation_date": 1544723551, "post_id": 53751383, "comment_id": 94386818, "body": "@paintball247 posted an answer, thanks"}], "answers": [{"tags": [], "owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "is_accepted": true, "score": 1, "last_activity_date": 1544723528, "creation_date": 1544723528, "answer_id": 53767560, "question_id": 53751383, "link": "https://stackoverflow.com/questions/53751383/node-js-discord-bot-typeerror-cannot-read-property-message-of-undefined/53767560#53767560", "title": "Node.js Discord Bot : TypeError: Cannot read property &#39;message&#39; of undefined", "body": "<p>In JavaScript (and pretty much every other programming language) variable declarations in inner scopes shadow (think override) declarations with the same names in an outer scope:</p>\n\n<pre><code>var foo = 3;\nvar bar = 5;\nvar f = (foo) =&gt; {\n  var bar = 1;\n  return [foo, bar];\n};\n\nvar results = f(0);\nconsole.log(results); // [0, 1]\n</code></pre>\n\n<p>N.B. you don't get <code>[3, 5]</code>. So in your code:</p>\n\n<pre><code>exports.wrapper = async(client, message) =&gt; { \n</code></pre>\n\n<p>means that the function expects to have client passed in. That parameter declaration shadows the client defined at the top of the file (meaning it's invisible inside the function). So when you call it in the other file like so </p>\n\n<pre><code>sayHello.wrapper(); \n</code></pre>\n\n<p>with no arguments, kaboom.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 10771669, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XBtp9BrjCy8/AAAAAAAAAAI/AAAAAAAAAr8/G9i-YbI0ua0/photo.jpg?sz=128", "display_name": "Tyler Berger", "link": "https://stackoverflow.com/users/10771669/tyler-berger"}, "is_accepted": false, "score": 1, "last_activity_date": 1544798930, "creation_date": 1544798930, "answer_id": 53781941, "question_id": 53751383, "link": "https://stackoverflow.com/questions/53751383/node-js-discord-bot-typeerror-cannot-read-property-message-of-undefined/53781941#53781941", "title": "Node.js Discord Bot : TypeError: Cannot read property &#39;message&#39; of undefined", "body": "<p>Use <code>message.guild</code> instead. It should work.</p>\n"}], "owner": {"reputation": 367, "user_id": 1739440, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/844b1efe593ab4e9d564920dbf7ba74c?s=128&d=identicon&r=PG&f=1", "display_name": "paintball247", "link": "https://stackoverflow.com/users/1739440/paintball247"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3891, "favorite_count": 0, "accepted_answer_id": 53767560, "answer_count": 2, "score": -1, "last_activity_date": 1544798930, "creation_date": 1544648997, "last_edit_date": 1544714084, "question_id": 53751383, "link": "https://stackoverflow.com/questions/53751383/node-js-discord-bot-typeerror-cannot-read-property-message-of-undefined", "title": "Node.js Discord Bot : TypeError: Cannot read property &#39;message&#39; of undefined", "body": "<p>I'm still in the process of learning discord.js but I'm struggling with passing a discord message send function from one .js file to another. Below I stripped out all the complex stuff, and just left it with the barebones, in hopes someone can understand it, and provide guidance!\nThe idea is, (eventually) when there is a new update on <code>'true'</code>, it sends the message 'hello world' to all discord servers. Right now for debug purposes I have it using my developer discord channel. \nEverything is ran via <code>nf run npm start</code></p>\n\n<p><strong>Hello.js</strong></p>\n\n<pre><code>const Discord = require('discord.js');\nconst client = new Discord.Client();\nconst disconfig = require(\"./config/default.json\");\n\n// new function\nfunction message(message) {\n     const messageInfoEmbed = new Discord.RichEmbed()\n        .addField('Hey:')\n        .addField('Testing: ')\n       .addField('NoWorries: ')\n\n    return messageInfoEmbed\n}\n\n// Function OnUpdate() {\n// if (updatedcontent === true) {\n\n\nexports.wrapper = async(client, message) =&gt; {\nclient.channels.get(\"519344197078220804\").send(message(message));\n\n}\n//}\n//}\n</code></pre>\n\n<p><strong>Server.js</strong></p>\n\n<pre><code>const Discord = require('discord.js')\nconst client = new Discord.Client()\nconst disconfig = require(\"./config/default.json\");\n\nclient.on(\"ready\", () =&gt; {\nclient.user.setActivity(`Serving ${client.guilds.size} servers`);\nvar sayHello = require('./hello');\nsayHello.wrapper(); // \"Hello World! Message via Discord\"\n});\nclient.on(\"message\", async(message) =&gt; {\n        if (message.author.bot) return;\n        if (message.content.indexOf(disconfig.prefix) !== 0) return;\n        const args = \n          message.content.slice(disconfig.prefix.length).trim().split(/ +/g);\n        const command = args.shift().toLowerCase();\n\n        if (command === \"test?\") {\n\n\n        }\n}\nclient.login(disconfig.token);\n</code></pre>\n\n<p><strong>error</strong></p>\n\n<p><code>UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'channels' of undefined\n    at Object.exports.wrapper (X:\\xxx\\xxx\\xxx\\xxx\\app\\hello.js:20:8)</code></p>\n"}, {"tags": ["javascript", "ruby-on-rails", "reactjs", "carrierwave"], "answers": [{"tags": [], "owner": {"reputation": 809, "user_id": 431211, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/ea9f3f355c67f0835b3dd3141e3cafc2?s=128&d=identicon&r=PG", "display_name": "Luke Griffiths", "link": "https://stackoverflow.com/users/431211/luke-griffiths"}, "is_accepted": true, "score": 0, "last_activity_date": 1544668042, "creation_date": 1544668042, "answer_id": 53754204, "question_id": 53751364, "link": "https://stackoverflow.com/questions/53751364/react-get-and-show-attached-files-in-rails/53754204#53754204", "title": "React get and show attached files in Rails", "body": "<p>The HTML <code>image</code> tag uses an attribute named <code>src</code>, not <code>source</code>.  That's your problem.  </p>\n\n<p>Aside: Consider this snippet of your code:  </p>\n\n<pre><code>this.setState({\n  attachments: json.attachments,        // OK, keep  \n\n  image: json.attachments.image,        // bad path into the object  \n  thumb: json.attachments.image.thumb,  // bad path into the object  \n  url: json.attachments.thumb.url       // bad path into the object\n});\n</code></pre>\n\n<p>The three lines starting with <code>image</code>, <code>thumb</code>, and <code>attachment</code> should be deleted.  </p>\n\n<p>The result of using the code without deleting those lines will be that your state looks like:  </p>\n\n<pre><code>{\n  attachments:  &lt;an array of attachments&gt;,  // correct, wanted, should keep  \n  image: undefined,\n  thumb: undefined,  \n  url: undefined\n}\n</code></pre>\n\n<p>This is because <code>json.attachments</code> is an array so it does not have any data at the paths you are calling.  By \"path into the object\" I merely mean a sequence of keys to call in sequence of dot notation.  </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9157191"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 309, "favorite_count": 0, "accepted_answer_id": 53754204, "answer_count": 1, "score": 1, "last_activity_date": 1544668042, "creation_date": 1544648886, "question_id": 53751364, "link": "https://stackoverflow.com/questions/53751364/react-get-and-show-attached-files-in-rails", "title": "React get and show attached files in Rails", "body": "<p>seems a simple problem but, i don't know why this is causing a little stress, anyway.</p>\n\n<p>here is situation:</p>\n\n<p>after get the attachments on the Post.show in rails</p>\n\n<pre><code>  async getAttachments() {\n    // this.setState({showProgress: true})\n    let auth_token = window.localStorage.getItem(\"auth_token\");\n    let post_id = this.props.match.params.id;\n    fetch(`/posts/${post_id}/attachments`, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Access: auth_token\n      }\n    })\n      .then(response =&gt; response.json())\n      .then(json =&gt; {\n        this.setState({\n          attachments: json.attachments,\n\n          image: json.attachments.image,\n          thumb: json.attachments.image.thumb,\n          url: json.attachments.thumb.url\n        });\n      })\n      .catch(error =&gt; {\n        console.error(error);\n      });\n  }\n</code></pre>\n\n<p>i decide to render it as usual</p>\n\n<p>with <code>{this.state.attachments}</code></p>\n\n<p>but did not rendered.</p>\n\n<p>so i tried to map and then i tried </p>\n\n<pre><code>   var attachments = this.state.attachments.map(a =&gt; {\n      return (\n        &lt;div key={a.id}&gt;\n          &lt;img source={a.thumb} /&gt;\n\n          &lt;img source={a.url}&gt;{a.url}&lt;/img&gt;\n        &lt;/div&gt;\n      );\n    });\n</code></pre>\n\n<p>the thing is ever rails carrierwave attachment/files. create a object inside the array and many people still have doubt how to grab and render these files.</p>\n\n<p><a href=\"https://i.stack.imgur.com/wbdI1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wbdI1.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "parameters", "react-redux", "action", "reducers"], "comments": [{"owner": {"reputation": 1274, "user_id": 5689384, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/DESj1.jpg?s=128&g=1", "display_name": "The Dembinski", "link": "https://stackoverflow.com/users/5689384/the-dembinski"}, "edited": false, "score": 0, "creation_date": 1544649006, "post_id": 53751339, "comment_id": 94355442, "body": "What issue are experiencing? I see a series of &quot;problems&quot; here - but I dunno how to help your specific question"}, {"owner": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "edited": false, "score": 0, "creation_date": 1544649053, "post_id": 53751339, "comment_id": 94355459, "body": "The issue is <code>&lt;button onClick={this.props.removeTodo}&gt;X&lt;&#47;button&gt;</code>. Try logging what gets passed into <code>removeTodo()</code>. It&#39;s not an <code>id</code>, it&#39;s the native click event object."}, {"owner": {"reputation": 57, "user_id": 10559296, "user_type": "registered", "profile_image": "https://graph.facebook.com/1868929789850089/picture?type=large", "display_name": "Cole Gonzales", "link": "https://stackoverflow.com/users/10559296/cole-gonzales"}, "edited": false, "score": 0, "creation_date": 1544652018, "post_id": 53751339, "comment_id": 94356768, "body": "The Dembinski what other issues do you see that I should address?"}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 10559296, "user_type": "registered", "profile_image": "https://graph.facebook.com/1868929789850089/picture?type=large", "display_name": "Cole Gonzales", "link": "https://stackoverflow.com/users/10559296/cole-gonzales"}, "edited": false, "score": 0, "creation_date": 1544649485, "post_id": 53751419, "comment_id": 94355635, "body": "Ok can we discuss this a little more maybe tomorrow? I have to get to work now, but I REALLY would like to understand this better. I&#39;ve read docs and stuff but for some reason I just can&#39;t wrap my head around this and it&#39;s kinda driving me crazy lol"}, {"owner": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "reply_to_user": {"reputation": 57, "user_id": 10559296, "user_type": "registered", "profile_image": "https://graph.facebook.com/1868929789850089/picture?type=large", "display_name": "Cole Gonzales", "link": "https://stackoverflow.com/users/10559296/cole-gonzales"}, "edited": false, "score": 0, "creation_date": 1544650595, "post_id": 53751419, "comment_id": 94356099, "body": "@ColeGonzales This is described exactly in <a href=\"https://reactjs.org/docs/handling-events.html\" rel=\"nofollow noreferrer\">Handling Events</a>. DOM events such as those coming from <code>onClick</code>, <code>onSubmit</code>, etc passes an event (<a href=\"https://reactjs.org/docs/events.html\" rel=\"nofollow noreferrer\">SyntheticEvent</a>) to specified handler. So you either need to use an arrow function as the answer describes <code>onClick</code> or created an intermediary handler on <code>TodoItem</code> thats triggered on click and explicitly calls <code>removeTodo()</code> prop function with the <code>id</code> passed to it."}], "tags": [], "owner": {"reputation": 1274, "user_id": 5689384, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/DESj1.jpg?s=128&g=1", "display_name": "The Dembinski", "link": "https://stackoverflow.com/users/5689384/the-dembinski"}, "is_accepted": false, "score": 1, "last_activity_date": 1544649149, "creation_date": 1544649149, "answer_id": 53751419, "question_id": 53751339, "link": "https://stackoverflow.com/questions/53751339/removetodo-action-not-working-cannot-figure-this-out-but-i-know-its-a-passing/53751419#53751419", "title": "removeTodo action not working, cannot figure this out, but I know it&#39;s a passing mistake", "body": "<p>You need to wrap your remove handler in an expression that can be evaluated at \"click time\" and use the todo id from the closure:</p>\n\n<pre><code>class TodoItem extends Component {\n  render() {\n    const todoId = uuid();\n    return (\n      &lt;div id={todoId}&gt;\n        {this.props.title}\n        &lt;button onClick={this.props.removeTodo}&gt;X&lt;/button&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>\n\n<p>Should be something like...</p>\n\n<pre><code>class TodoItem extends Component {\n  render() {\n    const todoId = uuid();\n    return (\n      &lt;div id={todoId}&gt;\n        {this.props.title}\n        &lt;button onClick={() =&gt; this.props.removeTodo(todoId)}&gt;X&lt;/button&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 57, "user_id": 10559296, "user_type": "registered", "profile_image": "https://graph.facebook.com/1868929789850089/picture?type=large", "display_name": "Cole Gonzales", "link": "https://stackoverflow.com/users/10559296/cole-gonzales"}, "is_accepted": false, "score": 0, "last_activity_date": 1544650830, "creation_date": 1544650830, "answer_id": 53751790, "question_id": 53751339, "link": "https://stackoverflow.com/questions/53751339/removetodo-action-not-working-cannot-figure-this-out-but-i-know-its-a-passing/53751790#53751790", "title": "removeTodo action not working, cannot figure this out, but I know it&#39;s a passing mistake", "body": "<p>Along the lines of what @The Dembinski was saying, it works when I change my TodoList component to look like this:</p>\n\n<pre><code>import React, { Component } from 'react';\nimport TodoItem from './TodoItem';\nimport { removeTodo } from '../actions';\nimport { connect } from 'react-redux';\n\nconst mapDispatchToProps = dispatch =&gt; {\n  return {\n      removeTodo: id =&gt; dispatch(removeTodo(id))\n    };\n  };\n\nconst mapStateToProps = state =&gt; {\n  return {todos: [...state.todos]};\n};\n\nclass List extends Component {\n  render() {\n    const mappedTodos = this.props.todos.map((todo, index) =&gt; (\n      &lt;TodoItem \n      title={todo.title}\n      key={index}\n      removeTodo={() =&gt; this.props.removeTodo(todo.id)}\n      /&gt;\n    ));\n    return (\n      mappedTodos\n    );\n  }\n}\n\nconst TodoList = connect(mapStateToProps, mapDispatchToProps) (List)\nexport default TodoList; \n</code></pre>\n\n<p>Changing my removeTodo prop in the map here DID fix the issue and now deletes properly. However, if anyone could help me understand this better either by further discussion, or just by pointing my in the right direction as to what I should be researching. Would be greatly appreciated. I'm not after answers, I'm after learning.</p>\n"}], "owner": {"reputation": 57, "user_id": 10559296, "user_type": "registered", "profile_image": "https://graph.facebook.com/1868929789850089/picture?type=large", "display_name": "Cole Gonzales", "link": "https://stackoverflow.com/users/10559296/cole-gonzales"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1544650830, "creation_date": 1544648757, "question_id": 53751339, "link": "https://stackoverflow.com/questions/53751339/removetodo-action-not-working-cannot-figure-this-out-but-i-know-its-a-passing", "title": "removeTodo action not working, cannot figure this out, but I know it&#39;s a passing mistake", "body": "<p>I've asked a similar-ish question here before, however my code has changed quite a bit and I can not figure this out. I am certain it's an issue with what I am passing to my action/reducer. I would seriously appreciate it if someone could explain what I am doing wrong here. I really want to get this, just having a hard time with it.</p>\n\n<p>actions.js</p>\n\n<pre><code>import { ADD_TODO, REMOVE_TODO } from '../constants/action-types';\n\nexport const addTodo = (todo) =&gt; (\n  {\n    type: ADD_TODO,\n    payload: todo\n  }\n);\n\nexport const removeTodo = (id) =&gt; (\n  {\n    type: REMOVE_TODO,\n    payload: id\n  }\n)\n</code></pre>\n\n<p>reducers.js</p>\n\n<pre><code>import { ADD_TODO, REMOVE_TODO, ADD_OPTIONS } from '../constants/action-types'; \nimport uuidv1 from 'uuid';\n\nconst initialState = {\n  todos: []\n};\n\nconst rootReducer = (state = initialState, action) =&gt; {\n  switch (action.type) {\n    case ADD_TODO:\n    return {\n        ...state,\n        todos: [...state.todos,\n          {\n            title: action.payload.inputValue,\n            id: uuidv1(),\n            createdAt: Date(),\n            priority: '',\n            deadline: '',\n            isClicked: false\n          }]\n    }\n\n    case REMOVE_TODO:\n    return {\n      ...state,\n      todos: [...state.todos.filter(todo =&gt; todo.id  !== action.payload)]\n    }\n\n    case ADD_OPTIONS:\n    return {\n      ...state,\n      todos: [...state.todos,\n      {\n        isClicked: false\n      }]\n    }\n\n    default:\n      return state;\n  }\n}\n\nexport default rootReducer;\n</code></pre>\n\n<p>TodoList.js</p>\n\n<pre><code>import React, { Component } from 'react';\nimport TodoItem from './TodoItem';\nimport { removeTodo } from '../actions';\nimport { connect } from 'react-redux';\n\nconst mapDispatchToProps = dispatch =&gt; {\n  return {\n      removeTodo: id =&gt; dispatch(removeTodo(id))\n    };\n  };\n\nconst mapStateToProps = state =&gt; {\n  return {todos: [...state.todos]};\n};\n\nclass List extends Component {\n  render() {\n    const mappedTodos = this.props.todos.map((todo, index) =&gt; (\n      &lt;TodoItem \n      title={todo.title}\n      key={index}\n      removeTodo={this.props.removeTodo}\n      /&gt;\n    ));\n    return (\n      mappedTodos\n    );\n  }\n}\n\nconst TodoList = connect(mapStateToProps, mapDispatchToProps) (List)\nexport default TodoList; \n</code></pre>\n\n<p>TodoItem.js</p>\n\n<pre><code>import React, { Component } from 'react';\nimport uuid from 'uuid';\nimport '../../css/Todo.css';\n\n\n\nclass TodoItem extends Component {\n  render() {\n    const todoId = uuid();\n    return (\n      &lt;div id={todoId}&gt;\n        {this.props.title}\n        &lt;button onClick={this.props.removeTodo}&gt;X&lt;/button&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n\nexport default TodoItem;\n</code></pre>\n"}, {"tags": ["javascript", "jquery"], "answers": [{"comments": [{"owner": {"reputation": 337, "user_id": 9829517, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "learn groovy", "link": "https://stackoverflow.com/users/9829517/learn-groovy"}, "edited": false, "score": 0, "creation_date": 1544670889, "post_id": 53751956, "comment_id": 94361709, "body": "I&#39;m trying like this camelize(this.object.name) but this shows all in lowercase not in camelcase"}, {"owner": {"reputation": 331, "user_id": 6793922, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Y5BAAUjz2V0/AAAAAAAAAAI/AAAAAAAAABE/uRjF9W5Vi9g/photo.jpg?sz=128", "display_name": "hifebriansyah", "link": "https://stackoverflow.com/users/6793922/hifebriansyah"}, "reply_to_user": {"reputation": 337, "user_id": 9829517, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "learn groovy", "link": "https://stackoverflow.com/users/9829517/learn-groovy"}, "edited": false, "score": 0, "creation_date": 1544696362, "post_id": 53751956, "comment_id": 94371121, "body": "yes because it will only camelize if separated by space chek my updated image. however, in your case you can do like this camelize(this.object.name +&quot; &quot;+this.object.lname)."}], "tags": [], "owner": {"reputation": 331, "user_id": 6793922, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Y5BAAUjz2V0/AAAAAAAAAAI/AAAAAAAAABE/uRjF9W5Vi9g/photo.jpg?sz=128", "display_name": "hifebriansyah", "link": "https://stackoverflow.com/users/6793922/hifebriansyah"}, "is_accepted": false, "score": 0, "last_activity_date": 1544696175, "last_edit_date": 1544696175, "creation_date": 1544651665, "answer_id": 53751956, "question_id": 53751304, "link": "https://stackoverflow.com/questions/53751304/how-to-create-camelcase-fake-in-mocker-data-generator/53751956#53751956", "title": "how to create camelCase fake in mocker-data-generator", "body": "<p>i read some documentation, it stated that you actually can use a custom function, so add camelize() function and called in your cat variable.</p>\n\n<p>please checkout my snippet. have a nice day!</p>\n\n<pre><code>var cat = {\n    id: {\n        chance: 'guid'\n    },\n    name: {\n        faker: 'name.firstName'\n    },\n    lname: {\n        faker: 'name.lastName'\n    },\n    camelText: {\n        function: function() {\n            return (\n                camelize(\n                    \"my name is \"+this.object.name\n                )\n            )\n        }\n    }\n\n};\n\nmocker()\n    .schema('cat', cat, 2)\n\n\nfunction camelize(str) {\n  return str.replace(/(?:^\\w|[A-Z]|\\b\\w)/g, function(letter, index) {\n    return index === 0 ? letter.toLowerCase() : letter.toUpperCase();\n  }).replace(/\\s+/g, '');\n}\n</code></pre>\n\n<p>owh also don't forget to test it by yourself at <a href=\"https://danibram.github.io/mocker-data-generator\" rel=\"nofollow noreferrer\">https://danibram.github.io/mocker-data-generator</a></p>\n\n<p>EDIT: check the camelText value.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Zpo8F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zpo8F.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 337, "user_id": 9829517, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "learn groovy", "link": "https://stackoverflow.com/users/9829517/learn-groovy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544696175, "creation_date": 1544648614, "last_edit_date": 1544649238, "question_id": 53751304, "link": "https://stackoverflow.com/questions/53751304/how-to-create-camelcase-fake-in-mocker-data-generator", "title": "how to create camelCase fake in mocker-data-generator", "body": "<p>I'm using this online utility to create the mock data, I need an help to create the data in camelCase letter. How to do that? </p>\n\n<p>Mock Data Generator: <a href=\"https://danibram.github.io/mocker-data-generator/\" rel=\"nofollow noreferrer\">https://danibram.github.io/mocker-data-generator/</a></p>\n\n<p><a href=\"https://github.com/danibram/mocker-data-generator\" rel=\"nofollow noreferrer\">https://github.com/danibram/mocker-data-generator</a></p>\n\n<p>This is my script:</p>\n\n<pre><code>var cat = {\n    id: {\n        chance: 'guid'\n    },\n    name: {\n        faker: 'name.firstName'\n    },\n    lname: {\n        faker: 'name.lastName'\n    }\n\n};\n\nmocker()\n    .schema('cat', cat, 2)\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "twitter", "unicode"], "comments": [{"owner": {"reputation": 27093, "user_id": 5189811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FzPWr.png?s=128&g=1", "display_name": "Oluwafemi Sule", "link": "https://stackoverflow.com/users/5189811/oluwafemi-sule"}, "edited": false, "score": 0, "creation_date": 1544651958, "post_id": 53751301, "comment_id": 94356737, "body": "Use the unicode representation_e.g_. <code>\\1F64E</code>.  See <a href=\"https://www.unicode.org/charts/PDF/Unicode-11.0/U110-1F600.pdf\" rel=\"nofollow noreferrer\">reference</a>"}, {"owner": {"reputation": 135, "user_id": 5303982, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Mtj-swtXbs4/AAAAAAAAAAI/AAAAAAAAACs/JPfAmC85oeQ/photo.jpg?sz=128", "display_name": "Ruben Gonzalez", "link": "https://stackoverflow.com/users/5303982/ruben-gonzalez"}, "reply_to_user": {"reputation": 27093, "user_id": 5189811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FzPWr.png?s=128&g=1", "display_name": "Oluwafemi Sule", "link": "https://stackoverflow.com/users/5189811/oluwafemi-sule"}, "edited": false, "score": 0, "creation_date": 1544653851, "post_id": 53751301, "comment_id": 94357541, "body": "@OluwafemiSule Just tried, didn&#39;t worked"}], "answers": [{"tags": [], "owner": {"reputation": 135, "user_id": 5303982, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Mtj-swtXbs4/AAAAAAAAAAI/AAAAAAAAACs/JPfAmC85oeQ/photo.jpg?sz=128", "display_name": "Ruben Gonzalez", "link": "https://stackoverflow.com/users/5303982/ruben-gonzalez"}, "is_accepted": true, "score": 1, "last_activity_date": 1544666476, "creation_date": 1544666476, "answer_id": 53754023, "question_id": 53751301, "link": "https://stackoverflow.com/questions/53751301/how-to-post-emojis-with-the-twitter-api-in-nodejs/53754023#53754023", "title": "How to post emojis with the twitter api in Nodejs", "body": "<p>I ended copying the emojis characters directly into the code \ud83c\udfc6 and it worked</p>\n"}], "owner": {"reputation": 135, "user_id": 5303982, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Mtj-swtXbs4/AAAAAAAAAAI/AAAAAAAAACs/JPfAmC85oeQ/photo.jpg?sz=128", "display_name": "Ruben Gonzalez", "link": "https://stackoverflow.com/users/5303982/ruben-gonzalez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 487, "favorite_count": 0, "accepted_answer_id": 53754023, "answer_count": 1, "score": 0, "last_activity_date": 1544666476, "creation_date": 1544648593, "question_id": 53751301, "link": "https://stackoverflow.com/questions/53751301/how-to-post-emojis-with-the-twitter-api-in-nodejs", "title": "How to post emojis with the twitter api in Nodejs", "body": "<p>I can post tweets using the Twit library: <a href=\"https://github.com/ttezel/twit\" rel=\"nofollow noreferrer\">https://github.com/ttezel/twit</a> but i'm not being able to post emojis, i tried writing &amp;#xe131 and decodeURIComponent('&amp;#xe131') but it doesn't work, how should I write the codes for twitter to recognize them as emojis?. (semicolons were omitted here)</p>\n"}, {"tags": ["javascript", "html", "iframe"], "comments": [{"owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "edited": false, "score": 1, "creation_date": 1544649224, "post_id": 53751276, "comment_id": 94355534, "body": "Is this external content maintained by you, or is it third-party? If it&#39;s the former, there are measures you can take. If it&#39;s the latter, you&#39;ll face an uphill battle since of course the security models that are in place are there to protect the interests of the site owner."}, {"owner": {"reputation": 951, "user_id": 4207055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LYMqh.png?s=128&g=1", "display_name": "Guy Louzon", "link": "https://stackoverflow.com/users/4207055/guy-louzon"}, "reply_to_user": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "edited": false, "score": 0, "creation_date": 1544649387, "post_id": 53751276, "comment_id": 94355597, "body": "the latter. If the external content was my own, I could control the entire process. The thing is, it&#39;s not..."}, {"owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "edited": false, "score": 0, "creation_date": 1544649466, "post_id": 53751276, "comment_id": 94355629, "body": "Are you in a partnership with the owners of the external content? If so, they can whitelist your site&#39;s origin. If you&#39;re using their content without permission on your site, hopefully you can see the conflict."}, {"owner": {"reputation": 951, "user_id": 4207055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LYMqh.png?s=128&g=1", "display_name": "Guy Louzon", "link": "https://stackoverflow.com/users/4207055/guy-louzon"}, "reply_to_user": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "edited": false, "score": 0, "creation_date": 1544649629, "post_id": 53751276, "comment_id": 94355684, "body": "Tye external sites are multiple... the idea is to refer users to external content on the web, but I don&#39;t want to draw them off my site. using a iframe, the external content owner receives a new visitor with his ads displayed, etc. of course, the security issues rise, hence my question"}, {"owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "edited": false, "score": 1, "creation_date": 1544651041, "post_id": 53751276, "comment_id": 94356311, "body": "Makes sense. I&#39;m not sure there&#39;s any great solutions for you. Perhaps you could provide a link near the iframe for the user to open it in a new window in case the frame doesn&#39;t work. The other option would be to proxy the request through your server and fetch the external page from your back-end. If the user&#39;s cookies for that external site matter, of course that would have its own limitations."}, {"owner": {"reputation": 951, "user_id": 4207055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LYMqh.png?s=128&g=1", "display_name": "Guy Louzon", "link": "https://stackoverflow.com/users/4207055/guy-louzon"}, "reply_to_user": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "edited": false, "score": 0, "creation_date": 1544651319, "post_id": 53751276, "comment_id": 94356458, "body": "@Jacob I have a link to the direct page and the external eebsite&#39;s main page. passing the content via server creates a whole new set of issues... I practically want to use iframes for one of their original purposes"}], "owner": {"reputation": 951, "user_id": 4207055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LYMqh.png?s=128&g=1", "display_name": "Guy Louzon", "link": "https://stackoverflow.com/users/4207055/guy-louzon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1544648484, "creation_date": 1544648484, "question_id": 53751276, "link": "https://stackoverflow.com/questions/53751276/showing-external-content-on-site-without-security-issues", "title": "Showing external content on site, without security issues", "body": "<p>I have a website, in which I refer to external content, that is, in other websites\nI would like to have the content shown to the fullest extent, but I do not wish to through the user away from my website</p>\n\n<p>The current solution I have for this issue is a menu bar and an iframe, that takes most of the screen.</p>\n\n<p>The thing is, that more and more websites are preventing from their content being displayed inside iframes, for security risks</p>\n\n<p>A JavaScript type solution might encounter CORS issue, essentially not bypassing the main issue</p>\n\n<p>Is there a \"correct\" way of displaying external content without trigggering security issues, with html5 standards, JavaScript, etc. ?</p>\n"}, {"tags": ["javascript", "reactjs", "material-design", "material-ui"], "answers": [{"comments": [{"owner": {"reputation": 675, "user_id": 8672443, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/5nJJX.jpg?s=128&g=1", "display_name": "ZpfSysn", "link": "https://stackoverflow.com/users/8672443/zpfsysn"}, "edited": false, "score": 1, "creation_date": 1544653625, "post_id": 53751644, "comment_id": 94357452, "body": "Yeah i figured that out right after I posted this. I am using the same method that you suggested. Thanks"}], "tags": [], "owner": {"reputation": 97, "user_id": 5129089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iG9Fw.png?s=128&g=1", "display_name": "emir-alicic", "link": "https://stackoverflow.com/users/5129089/emir-alicic"}, "is_accepted": true, "score": 1, "last_activity_date": 1544650176, "creation_date": 1544650176, "answer_id": 53751644, "question_id": 53751273, "link": "https://stackoverflow.com/questions/53751273/react-save-multiple-similar-inputfields-in-one-state/53751644#53751644", "title": "React: Save multiple similar inputfields in one state", "body": "<p>With a little guess, I would say that array is natural approach. There is just part of code, and I might be wrong.</p>\n\n<p>IMO, you could do this:</p>\n\n<pre><code>this.state = {\n    textmasks: [\"( \u2000\u2000) \u2000\u2000\u2000-\u2000\u2000\u2000\u2000\", \"( \u2000\u2000) \u2000\u2000\u2000-\u2000\u2000\u2000\u2000\", \"( \u2000\u2000) \u2000\u2000\u2000-\u2000\u2000\u2000\u2000\"]\n}\n</code></pre>\n\n<p>as you mentioned already. Now, in your render method, something like this:</p>\n\n<pre><code>const phoneInputs = [];\nfor (let i = 0; i &lt; 3; i++) {\n       phoneInputs.push(&lt;div key={i}&gt;\n            &lt;FormLabel&gt;Phone&lt;/FormLabel&gt;\n            &lt;div&gt;\n                &lt;OutlinedInput\n                    value={this.state.textmasks[i]}\n                    onChange={this.handlePhoneNumber.bind(this, i)}\n                    inputComponent={this.RenderTextMask}\n                    labelWidth={200}\n                /&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;);\n}\n</code></pre>\n\n<p>So, for this to work, you use this.state.textmasks[i] (input index) to catch appropriate mask. Also, to method this.handlePhoneNumber, you are binding index \"i\".</p>\n\n<p>I wrote \"this.state.textmasks[i]\" and \"this.handlePhoneNumber.bind(this, i)\", just because I assumed that your implementation depends on phone number input index (not only to store to appropriate place, but to do some additional logic also).</p>\n\n<p>If you will only use one text mask and only store list of phone numbers (I assume in handlePhoneNumber method), then you most likely should have:</p>\n\n<pre><code>const textMask = \"( \u2000\u2000) \u2000\u2000\u2000-\u2000\u2000\u2000\u2000\";\nthis.state = {\n    phoneNumbers: []\n};\n</code></pre>\n\n<p>This way, textMask wouldn't even be state/index dependent (what most likely is your business case) and phoneNumbers would be handled in onChange trigger (handlePhoneNumber method) which takes index as first parameter, so it can update appropriate phoneNumbers index.</p>\n"}], "owner": {"reputation": 675, "user_id": 8672443, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/5nJJX.jpg?s=128&g=1", "display_name": "ZpfSysn", "link": "https://stackoverflow.com/users/8672443/zpfsysn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 53751644, "answer_count": 1, "score": 0, "last_activity_date": 1544650369, "creation_date": 1544648467, "question_id": 53751273, "link": "https://stackoverflow.com/questions/53751273/react-save-multiple-similar-inputfields-in-one-state", "title": "React: Save multiple similar inputfields in one state", "body": "<p>I have three same input fields that are masked to have phone format text. All input fields are exactly the same(Phone input field).now I have three states, with three <code>handlePhoneNumber</code> methods. This is not a good practice since all these fields are exactly the same basically.</p>\n\n<p>The UI library I used is <code>Material-UI</code> and i used <code>React-Text-Mask</code> library for my mask component.</p>\n\n<p>What I have so far:</p>\n\n<pre><code>this.state = {\n    textmask: \"( \u2000\u2000) \u2000\u2000\u2000-\u2000\u2000\u2000\u2000\",\n    textmask2: \"( \u2000\u2000) \u2000\u2000\u2000-\u2000\u2000\u2000\u2000\",\n    textmask3: \"( \u2000\u2000) \u2000\u2000\u2000-\u2000\u2000\u2000\u2000\",\n}\n\nRenderTextMask(props){\n    const { inputRef, ...other } = props;\n    return (\n      &lt;MaskedInput\n        {...other}\n        ref={inputRef}\n        mask={['(', /[1-9]/, /\\d/, /\\d/, ')', ' ', /\\d/, /\\d/, /\\d/, '-', /\\d/, /\\d/, /\\d/, /\\d/]}\n        guide={true}\n        showMask\n      /&gt;\n    );\n}\n</code></pre>\n\n<p>My OutlienInput component(from material-UI), looks like this:</p>\n\n<pre><code>        &lt;div&gt;\n            &lt;FormLabel&gt;Phone&lt;/FormLabel&gt;\n            &lt;div&gt;\n                &lt;OutlinedInput\n                    value={this.state.textmask}\n                    onChange={this.handlePhoneNumber}\n                    inputComponent={this.RenderTextMask}\n                    labelWidth={200}\n                /&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n            &lt;FormLabel&gt;Phone&lt;/FormLabel&gt;\n            &lt;div&gt;\n                &lt;OutlinedInput\n                    value={this.state.textmask2}\n                    onChange={this.handlePhoneNumber2}\n                    inputComponent={this.RenderTextMask}\n                    labelWidth={200}\n                /&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n            &lt;FormLabel&gt;Phone&lt;/FormLabel&gt;\n            &lt;div&gt;\n                &lt;OutlinedInput\n                    value={this.state.textmask3}\n                    onChange={this.handlePhoneNumber3}\n                    inputComponent={this.RenderTextMask}\n                    labelWidth={200}\n                /&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n</code></pre>\n\n<p><strong>What the problem is:</strong> \nSo far I need one state and one handle method for every phone field that I have. As you can see, as the app grows, the code is not really maintainable.</p>\n\n<p><strong>What I want to achieve:</strong>\nI want to have one state and one handle method that handles all three fields(possibly more fields in the future). Or something better than what I currently have. So in the future, if I have to add more fields, i don't have to modify state and add new method every time.</p>\n\n<p><strong>What I have tried so far</strong>\nI tried to have array testmask as state. The problem is that since I used <code>react-text-mask</code> as my mask library. it only accepts String. If I change \"<code>textmask</code>\" into array of strings, it will prompts error.</p>\n"}, {"tags": ["javascript", "vue.js"], "comments": [{"owner": {"reputation": 386, "user_id": 2608326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/279740f72c0ee57bc7440b6a53fbcd7c?s=128&d=identicon&r=PG", "display_name": "PHP_Developer", "link": "https://stackoverflow.com/users/2608326/php-developer"}, "edited": false, "score": 0, "creation_date": 1544649085, "post_id": 53751269, "comment_id": 94355471, "body": "why do you want to stop triggering? on first look I think you may be looking for a different hook, like <code>mounted</code>."}, {"owner": {"reputation": 2878, "user_id": 2395282, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/5288e264f59cd7f38e4faca92a1fc5fc?s=128&d=identicon&r=PG", "display_name": "vimuth", "link": "https://stackoverflow.com/users/2395282/vimuth"}, "reply_to_user": {"reputation": 386, "user_id": 2608326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/279740f72c0ee57bc7440b6a53fbcd7c?s=128&d=identicon&r=PG", "display_name": "PHP_Developer", "link": "https://stackoverflow.com/users/2608326/php-developer"}, "edited": false, "score": 0, "creation_date": 1544649443, "post_id": 53751269, "comment_id": 94355622, "body": "to be honest I need to trigger update for all data elements other than items since this does number of unwanted axios back-end requests. Mounted will not do the trick sadly"}], "answers": [{"tags": [], "owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "is_accepted": true, "score": 1, "last_activity_date": 1544649388, "creation_date": 1544649388, "answer_id": 53751474, "question_id": 53751269, "link": "https://stackoverflow.com/questions/53751269/vue-js-prevent-one-data-element-from-trigger-update/53751474#53751474", "title": "vue.js prevent one data element from trigger update", "body": "<p>How about grouping your input variables into a single <code>input</code> and then set up a watcher and update <code>items</code> only when the <code>input</code> changes ?</p>\n\n<pre><code>var vm = new Vue({\n  el: '#el',\n  data: {\n    input: {\n      cap: \"\",\n      radius: \"\",\n      var1: \"\",\n      var2: \"\",\n      var3: \"\"\n    },\n    items: null,\n  },\n  watch: {\n    input: {\n      handler (newInput) {\n        axios.post('{{ url('car_result') }}', { data: newInput })\n          .then(response =&gt; {\n            this.items = response.data;\n          });\n      },\n      deep: true\n    }\n  }\n});\n</code></pre>\n\n<p>In your template:</p>\n\n<pre><code>&lt;div id=\"el\"&gt;\n  &lt;input v-model=\"input.cap\" type=\"text\"&gt;\n  &lt;input v-model=\"input.radius\" type=\"text\"&gt;\n  &lt;input v-model=\"input.var1\" type=\"text\"&gt;\n  &lt;input v-model=\"input.var2\" type=\"text\"&gt;\n  &lt;input v-model=\"input.vat3\" type=\"text\"&gt;\n\n  &lt;div class=\"item\" v-for=\"item in items\"&gt;\n    {{ item.id }}\n  &lt;/div&gt;\n&lt;/div&gt; \n</code></pre>\n"}], "owner": {"reputation": 2878, "user_id": 2395282, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/5288e264f59cd7f38e4faca92a1fc5fc?s=128&d=identicon&r=PG", "display_name": "vimuth", "link": "https://stackoverflow.com/users/2395282/vimuth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 53751474, "answer_count": 1, "score": 0, "last_activity_date": 1544649388, "creation_date": 1544648429, "last_edit_date": 1544648928, "question_id": 53751269, "link": "https://stackoverflow.com/questions/53751269/vue-js-prevent-one-data-element-from-trigger-update", "title": "vue.js prevent one data element from trigger update", "body": "<p>Hi is there a way to stop triggering updated method in vue instance only for one element?. Here is my code,</p>\n\n<p>vue instance..</p>\n\n<pre><code>           var vm = new Vue({\n                el: '#el',\n                data: {\n                    cap: \"\",\n                    radius: \"\",\n                    var1: \"\",\n                    var2: \"\",\n                    var3: \"\",\n                    items: null,\n                }\n                updated: function () {\n                    axios.post('{{ url('car_result') }}', {data: this.$data})\n                           .then(response =&gt; {\n                            this.items = response.data;\n                        });\n                }\n            });\n</code></pre>\n\n<p>This is my dom.</p>\n\n<pre><code>              &lt;div id=\"el\"&gt;\n                    &lt;input v-model=\"cap\" type=\"text\"&gt;\n                    &lt;input v-model=\"radius\" type=\"text\"&gt;\n                    &lt;input v-model=\"var1\" type=\"text\"&gt;\n                    &lt;input v-model=\"var2\" type=\"text\"&gt;\n                    &lt;input v-model=\"vat3\" type=\"text\"&gt;\n\n                    &lt;div class=\"item\" v-for=\"item in items\"&gt;\n                        {{ item.id }}\n                    &lt;/div&gt;\n                &lt;/div&gt; \n</code></pre>\n\n<p>Here I need to <strong>stop triggering updated method when items changed</strong> </p>\n"}, {"tags": ["javascript", "arrays", "object"], "comments": [{"owner": {"reputation": 9909, "user_id": 5225844, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hKnPb.jpg?s=128&g=1", "display_name": "Naga Sai A", "link": "https://stackoverflow.com/users/5225844/naga-sai-a"}, "edited": false, "score": 0, "creation_date": 1544648486, "post_id": 53751239, "comment_id": 94355223, "body": "please share html code as well"}, {"owner": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1544648722, "post_id": 53751239, "comment_id": 94355317, "body": "So what is specific problem with code shown? Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10768139"}, "edited": false, "score": 0, "creation_date": 1544649239, "post_id": 53751239, "comment_id": 94355540, "body": "i have added an event listener to a button called &quot;add to cart&quot; which take three values from HTML (Name,price and path for image) with the help of DOM. after taking these values it saves those three values in an array called &quot;cartarray&quot; now problem is that every time i click &quot;ad to cart&quot; it saves three values for that product which i clicked, and when i click on next product it simply updates previous values of &quot;cartarray&quot; with new ones. all i want is to save all three values of every product that i click in array &quot;cartarray&quot;"}, {"owner": {"reputation": 2176, "user_id": 5402401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dPV49.jpg?s=128&g=1", "display_name": "0.sh", "link": "https://stackoverflow.com/users/5402401/0-sh"}, "edited": false, "score": 0, "creation_date": 1544651535, "post_id": 53751239, "comment_id": 94356566, "body": "put <code>const catarray = []</code> definition before the <code>cartbtn.forEach</code>"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10768139"}, "edited": false, "score": 1, "creation_date": 1544649682, "post_id": 53751420, "comment_id": 94355703, "body": "No the Code does not give any kind of error. and HTML file is very long i don&#39;t think i can post that here."}], "tags": [], "owner": {"reputation": 368, "user_id": 10347353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d89c90f51be0821bd34ef7a95b6d6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Iulian", "link": "https://stackoverflow.com/users/10347353/iulian"}, "is_accepted": false, "score": 0, "last_activity_date": 1544649150, "creation_date": 1544649150, "answer_id": 53751420, "question_id": 53751239, "link": "https://stackoverflow.com/questions/53751239/how-to-add-multiple-objects-in-array-in-javascript/53751420#53751420", "title": "How to add multiple Objects in Array in JavaScript?", "body": "<p>I leave an answer rather than a comment because I still don't have the reputation to leave a comment. Provide the HTML code, as my colleagues said and we'll be able to answer. \nSomething 'fishy' I notice that may stop your code to work are these two lines of code:</p>\n\n<pre><code>const cartbtn = document.querySelectorAll(\".add_to_cart_button\"); \nif (event.target.parentElement.classList.contains(\"add_to_cart_button\"))\n</code></pre>\n\n<p>It may be the '.' in the first line, or missing in the second line which stops your code working. I may be wrong, it's just an assumption without seeing your full code</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10768139"}, "edited": false, "score": 0, "creation_date": 1544651361, "post_id": 53751657, "comment_id": 94356476, "body": "thank you very much but it still is doing same. i want to save every product i click in same Array so that i can save it in Local Storage. but method you describe still save every product i click in different array."}, {"owner": {"reputation": 2176, "user_id": 5402401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dPV49.jpg?s=128&g=1", "display_name": "0.sh", "link": "https://stackoverflow.com/users/5402401/0-sh"}, "edited": false, "score": 0, "creation_date": 1544651371, "post_id": 53751657, "comment_id": 94356483, "body": "<code>new product</code> when you are using factory design pattern"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10768139"}, "edited": false, "score": 0, "creation_date": 1544651578, "post_id": 53751657, "comment_id": 94356581, "body": "SORRY MY BAD. i was doing something wrong . your method worked. Thank You very much!!"}], "tags": [], "owner": {"reputation": 1314, "user_id": 4111862, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cOlXPBpekeM/AAAAAAAAAAI/AAAAAAAAANw/1umku9E38X4/photo.jpg?sz=128", "display_name": "seantunwin", "link": "https://stackoverflow.com/users/4111862/seantunwin"}, "is_accepted": true, "score": -1, "last_activity_date": 1544650215, "creation_date": 1544650215, "answer_id": 53751657, "question_id": 53751239, "link": "https://stackoverflow.com/questions/53751239/how-to-add-multiple-objects-in-array-in-javascript/53751657#53751657", "title": "How to add multiple Objects in Array in JavaScript?", "body": "<p><code>cartarray</code> should be declared outside of the <code>addEventListener</code> in order for the items in the cart to be persistent.</p>\n\n<p>I would also suggest to place the creation of the product outside as well, although technically this is not required.</p>\n\n<p>See the following as an example where the <code>for</code> loop is simulating your button clicks:</p>\n\n\n\n<pre><code>const cartarray = [];\nconst product = function(name, price, img) {\n  return {\n    name: name,\n    price: price,\n    img: img\n  }\n};\n\nfor (let x = 1; x &lt; 6; x++) {\n  cartarray.push(new product('p' + x, x + '.00', 'path/to/img' + x + 'png'));  \n}\n\n\nconsole.log(cartarray);\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10768139"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1534, "favorite_count": 0, "accepted_answer_id": 53751657, "answer_count": 2, "score": 2, "last_activity_date": 1553102377, "creation_date": 1544648325, "last_edit_date": 1553102377, "question_id": 53751239, "link": "https://stackoverflow.com/questions/53751239/how-to-add-multiple-objects-in-array-in-javascript", "title": "How to add multiple Objects in Array in JavaScript?", "body": "<p>Every time I click the \"Add to Cart button\" it will update the <code>cartarray[]</code>. What I want to do is to add a new object in the cart for every click so that I can have multiple objects for every different Cart item.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>(function() {\r\n  const cartbtn = document.querySelectorAll(\".add_to_cart_button\");\r\n\r\n  cartbtn.forEach(function(btn) {\r\n    btn.addEventListener(\"click\", function(event) {\r\n      if (event.target.parentElement.classList.contains(\"add_to_cart_button\")) {\r\n        let fullpath = event.target.parentElement.previousElementSibling.children[0].children[0].src;\r\n        const item = {};\r\n        item.img = fullpath;\r\n        let name = event.target.parentElement.previousElementSibling.children[3].children[0].textContent;\r\n        item.name = name;\r\n        let price = event.target.parentElement.previousElementSibling.children[3].children[1].textContent;\r\n        let finalprice = price.slice(1).trim();\r\n        item.price = finalprice;\r\n        const cartarray = [];\r\n        var product = function(name, price, img) {\r\n          this.name = name\r\n          this.price = price\r\n          this.img = img\r\n        };\r\n        cartarray.push(new product(name, finalprice, fullpath));\r\n        console.log(cartarray);\r\n\r\n      }\r\n    });\r\n  });\r\n})();</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"product-item men\"&gt;\r\n  &lt;div class=\"product discount product_filter\"&gt;\r\n    &lt;div class=\"product_image\"&gt;\r\n      &lt;img src=\"images/product_1.png\" alt=\"\"&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"favorite favorite_left\"&gt;&lt;/div&gt;\r\n    &lt;div class=\"product_bubble product_bubble_right product_bubble_red d-flex flex-column align-items-center\"&gt;&lt;span&gt;-$20&lt;/span&gt;&lt;/div&gt;\r\n    &lt;div class=\"product_info\"&gt;\r\n      &lt;h6 id=\"item-name\" class=\"product_name\"&gt;&lt;a href=\"single.html\"&gt;Fujifilm X100T 16 MP Digital Camera (Silver)&lt;/a&gt;&lt;/h6&gt;\r\n      &lt;div class=\"product_price\"&gt;$520.00&lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=\"red_button add_to_cart_button\"&gt;&lt;a href=\"#/\"&gt;add to cart&lt;/a&gt;&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "arrays", "angular", "loops", "ngfor"], "comments": [{"owner": {"reputation": 4660, "user_id": 4556423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dafcfc51c18a4c97540e884a7ddba5?s=128&d=identicon&r=PG&f=1", "display_name": "Rikin", "link": "https://stackoverflow.com/users/4556423/rikin"}, "edited": false, "score": 0, "creation_date": 1544648507, "post_id": 53751163, "comment_id": 94355235, "body": "Not going in details of your code, but constructor initializes once so you always stay on the same value which happens to be <code>[0]</code> in your case. You may want to move your constructor code to <code>ngOnInit</code> and then probably re-assign questions/answers in <code>ngOnChanges</code>"}, {"owner": {"reputation": 777, "user_id": 2396545, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0e974a765469c18a1cb8386c93f3bc18?s=128&d=identicon&r=PG", "display_name": "Limpuls", "link": "https://stackoverflow.com/users/2396545/limpuls"}, "reply_to_user": {"reputation": 4660, "user_id": 4556423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dafcfc51c18a4c97540e884a7ddba5?s=128&d=identicon&r=PG&f=1", "display_name": "Rikin", "link": "https://stackoverflow.com/users/4556423/rikin"}, "edited": false, "score": 0, "creation_date": 1544648841, "post_id": 53751163, "comment_id": 94355367, "body": "@Rikin Thanks, I didn&#39;t know that. But that still doesn&#39;t help. In docs for <code>ngOnChanges</code> it says <code>called when any data-bound property of a directive changes</code>. I don&#39;t use directives. Only this in my component.ts <code>this.questions = this.questionnaire.theQuestion[this.incremental];</code> so it&#39;s not gonna work for me. Any ideas?"}, {"owner": {"reputation": 4660, "user_id": 4556423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dafcfc51c18a4c97540e884a7ddba5?s=128&d=identicon&r=PG&f=1", "display_name": "Rikin", "link": "https://stackoverflow.com/users/4556423/rikin"}, "edited": false, "score": 0, "creation_date": 1544649055, "post_id": 53751163, "comment_id": 94355460, "body": "in your <code>nextQuestion</code> you would need to reassign <code>this.questions</code> and <code>this.answers</code> to next set so that your component can re-render using new value."}, {"owner": {"reputation": 777, "user_id": 2396545, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0e974a765469c18a1cb8386c93f3bc18?s=128&d=identicon&r=PG", "display_name": "Limpuls", "link": "https://stackoverflow.com/users/2396545/limpuls"}, "reply_to_user": {"reputation": 4660, "user_id": 4556423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dafcfc51c18a4c97540e884a7ddba5?s=128&d=identicon&r=PG&f=1", "display_name": "Rikin", "link": "https://stackoverflow.com/users/4556423/rikin"}, "edited": false, "score": 0, "creation_date": 1544649327, "post_id": 53751163, "comment_id": 94355577, "body": "@Rikin thanks, it works. And no need for <code>ngOnChanges</code>, I think it serves different purpose. You should post this as an answer, I will accept it. And any idea regarding the radio buttons having no text next to them? It works binding the value, I can see in the console, but in the browser there are just 3 radio buttons next to each other."}, {"owner": {"reputation": 4660, "user_id": 4556423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dafcfc51c18a4c97540e884a7ddba5?s=128&d=identicon&r=PG&f=1", "display_name": "Rikin", "link": "https://stackoverflow.com/users/4556423/rikin"}, "edited": false, "score": 0, "creation_date": 1544649810, "post_id": 53751163, "comment_id": 94355754, "body": "<code>{{answer}}</code> I think that&#39;s because your ngFor&#39;s scope is limited to your input. By moving up should do it. Try ng-container"}, {"owner": {"reputation": 777, "user_id": 2396545, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0e974a765469c18a1cb8386c93f3bc18?s=128&d=identicon&r=PG", "display_name": "Limpuls", "link": "https://stackoverflow.com/users/2396545/limpuls"}, "reply_to_user": {"reputation": 4660, "user_id": 4556423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dafcfc51c18a4c97540e884a7ddba5?s=128&d=identicon&r=PG&f=1", "display_name": "Rikin", "link": "https://stackoverflow.com/users/4556423/rikin"}, "edited": false, "score": 0, "creation_date": 1544650140, "post_id": 53751163, "comment_id": 94355918, "body": "@Rikin Yeah it worked right away. Just out of curiosity, have you already heard/read about this ngFor scope thing and knew that might be a problem or you just came up with this solution yourself by using common logic? Because I&#39;m still pretty fresh to angular and I have no idea about things like ngFor scope and would never think about that. None of the beginners books even cover such a things. I should rather probably start reading docs start to finish instead."}, {"owner": {"reputation": 4660, "user_id": 4556423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dafcfc51c18a4c97540e884a7ddba5?s=128&d=identicon&r=PG&f=1", "display_name": "Rikin", "link": "https://stackoverflow.com/users/4556423/rikin"}, "edited": false, "score": 1, "creation_date": 1544650276, "post_id": 53751163, "comment_id": 94355968, "body": "Yeah that&#39;s kinda advanced topic I guess. I knew it from Angular 1 but if you look at the markup closely you can tell that ngFor is running on a HTML and in your case happens to be input which self closes so outside of it, internal scope value is not available from which you are trying to get <code>answer</code>. Hope that clarifies."}, {"owner": {"reputation": 4660, "user_id": 4556423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dafcfc51c18a4c97540e884a7ddba5?s=128&d=identicon&r=PG&f=1", "display_name": "Rikin", "link": "https://stackoverflow.com/users/4556423/rikin"}, "edited": false, "score": 0, "creation_date": 1544650459, "post_id": 53751163, "comment_id": 94356057, "body": "So in your case <code>{{answer}}</code> rendered to <code>{{undefined}}</code> thus it got ignored. Think of it as accessing <code>let i</code> value from <code>for loop</code> outside of javascript for-loop and you get ReferenceError"}, {"owner": {"reputation": 777, "user_id": 2396545, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0e974a765469c18a1cb8386c93f3bc18?s=128&d=identicon&r=PG", "display_name": "Limpuls", "link": "https://stackoverflow.com/users/2396545/limpuls"}, "reply_to_user": {"reputation": 4660, "user_id": 4556423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dafcfc51c18a4c97540e884a7ddba5?s=128&d=identicon&r=PG&f=1", "display_name": "Rikin", "link": "https://stackoverflow.com/users/4556423/rikin"}, "edited": false, "score": 0, "creation_date": 1544650904, "post_id": 53751163, "comment_id": 94356245, "body": "Yeah, now I get it. Actually I noticed that <code>&lt;input&gt;</code> was self closing and <code>{{answer}}</code> interpolation was being called outside the input, but it didn&#39;t get to me that this might actually be a problem. Well, now I will know. Danke."}], "answers": [{"tags": [], "owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "is_accepted": false, "score": 1, "last_activity_date": 1544649136, "creation_date": 1544649136, "answer_id": 53751418, "question_id": 53751163, "link": "https://stackoverflow.com/questions/53751163/index-incremental-function-bind-to-a-button-in-angular-doesnt-increment-the-ind/53751418#53751418", "title": "Index incremental function bind to a button in Angular doesn&#39;t increment the index and do not iterate through array", "body": "<p>Try a getter. The getter will execute each time Angular's change detection kicks in and regets the data for the page.</p>\n\n<pre><code>export class QuostionnaireComponent implements OnInit {\n\n  get questions(): any{\n    return this.questionnaire.theQuestion[this.incremental];\n  }\n\n  get answers(): any{\n    return this.questionnaire.theChoices[this.incremental];\n  }      \n  correstAnswers:any;\n  incremental: number = 0;\n  constructor(private questionnaire: QuestionnaireService) { }\n   nextQuestion():void {\n     this.incremental++;\n   }\n\n  ngOnInit() {\n\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4660, "user_id": 4556423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dafcfc51c18a4c97540e884a7ddba5?s=128&d=identicon&r=PG&f=1", "display_name": "Rikin", "link": "https://stackoverflow.com/users/4556423/rikin"}, "is_accepted": true, "score": 0, "last_activity_date": 1544649466, "creation_date": 1544649466, "answer_id": 53751494, "question_id": 53751163, "link": "https://stackoverflow.com/questions/53751163/index-incremental-function-bind-to-a-button-in-angular-doesnt-increment-the-ind/53751494#53751494", "title": "Index incremental function bind to a button in Angular doesn&#39;t increment the index and do not iterate through array", "body": "<p>Your issue was you never incremented to next set of question/answers from your service.\nIn your <code>nextQuestion</code> you would need to reassign <code>this.questions</code> and <code>this.answers</code> to next set so that your component can re-render using new value.</p>\n"}], "owner": {"reputation": 777, "user_id": 2396545, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0e974a765469c18a1cb8386c93f3bc18?s=128&d=identicon&r=PG", "display_name": "Limpuls", "link": "https://stackoverflow.com/users/2396545/limpuls"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "accepted_answer_id": 53751494, "answer_count": 2, "score": 0, "last_activity_date": 1544649466, "creation_date": 1544647958, "question_id": 53751163, "link": "https://stackoverflow.com/questions/53751163/index-incremental-function-bind-to-a-button-in-angular-doesnt-increment-the-ind", "title": "Index incremental function bind to a button in Angular doesn&#39;t increment the index and do not iterate through array", "body": "<p>Index incremental function bind to a button in Angular doesn't increment the index and do not iterate through array on the button click. No matter how many times I keep clicking the button, I see the same first <code>[0]</code> question from array. Why is so?</p>\n\n<p><strong><em>component.html</em></strong></p>\n\n<pre><code>&lt;div class=\"card-body\"&gt;\n    &lt;h5 class=\"card-title\"&gt;{{questions}}&lt;/h5&gt;\n    &lt;input *ngFor=\"let answer of answers\"\n    type=\"radio\" name=\"ans\" [value]=\"answer\"&gt; {{answer}}&lt;br&gt;\n    &lt;button class=\"btn btn-primary\" (click)=\"nextQuestion()\"&gt;Go somewhere&lt;/button&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p><strong><em>component.ts</em></strong></p>\n\n<pre><code>export class QuostionnaireComponent implements OnInit {\n  questions:any;\n  answers:any;\n  correstAnswers:any;\n  incremental:Observable = 0;\n  constructor(private questionnaire: QuestionnaireService) {\n        this.questions = this.questionnaire.theQuestion[this.incremental];\n        this.answers = this.questionnaire.theChoices[this.incremental];\n   }\n   nextQuestion():void {\n     this.incremental++;\n   }\n\n  ngOnInit() {\n\n  }\n}\n</code></pre>\n\n<p>How can I iterate through array of questions and answers on button click correctly? </p>\n\n<p>Also in my radio buttons, values work fine and I get all three answer options bind to <code>[value]</code> but there are no words next to a radio button, it's like my <code>&gt; {{answer}}&lt;br&gt;</code> gets ignored. No errors, though. Thanks for the help.</p>\n"}, {"tags": ["javascript", "ionic-framework", "highcharts", "ionic3"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5546024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd1112db247ace2a53a19f3a92f79119?s=128&d=identicon&r=PG&f=1", "display_name": "Keeper", "link": "https://stackoverflow.com/users/5546024/keeper"}, "edited": false, "score": 0, "creation_date": 1545037731, "post_id": 53764667, "comment_id": 94472128, "body": "I tried getting this to work, but I&#39;m not sure if it&#39;s possible to do it your way in an ionic project. Really appreciate the answer though!"}], "tags": [], "owner": {"reputation": 6757, "user_id": 10077925, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dLnp6.jpg?s=128&g=1", "display_name": "Wojciech Chmiel", "link": "https://stackoverflow.com/users/10077925/wojciech-chmiel"}, "is_accepted": false, "score": 1, "last_activity_date": 1544713315, "creation_date": 1544713315, "answer_id": 53764667, "question_id": 53751156, "link": "https://stackoverflow.com/questions/53751156/accessing-functions-in-a-highcharts-click-event-in-an-ionic-project/53764667#53764667", "title": "Accessing functions in a highcharts click event in an ionic project", "body": "<p>Firstly I encourage you to use <code>highcharts-angular</code> wrapper. It can be downloaded here: <a href=\"https://github.com/highcharts/highcharts-angular\" rel=\"nofollow noreferrer\">https://github.com/highcharts/highcharts-angular</a>.\n<br><br></p>\n\n<blockquote>\n  <p>I'm trying to access some variables and functions within the point\n  click event</p>\n</blockquote>\n\n<p>To access properties and methods from your component object you can follow this approach: </p>\n\n<p>In the constructor save component reference which you will use later in the chart options object defined below it. You will also need to save chart reference to the component property because you use it in other methods like nextDay() for example (Docs: <a href=\"https://github.com/highcharts/highcharts-angular#chart-instance\" rel=\"nofollow noreferrer\">https://github.com/highcharts/highcharts-angular#chart-instance</a>). Check demo I posted below.</p>\n\n<p><strong>chart.component.html :</strong></p>\n\n<pre><code>&lt;div&gt;\n  &lt;highcharts-chart \n    [Highcharts]=\"Highcharts\"\n    [constructorType]=\"chartConstructor\"\n    [options]=\"chartOptions\"\n    [callbackFunction]=\"chartCallback\"\n    [(update)]=\"updateFlag\"\n    [oneToOne]=\"oneToOneFlag\"\n    [runOutsideAngular]=\"runOutsideAngularFlag\"\n  &gt;&lt;/highcharts-chart&gt;\n&lt;/div&gt;\n&lt;button (click)=\"onNextDay()\"&gt;Next point&lt;/button&gt;\n</code></pre>\n\n<p><strong>chart.component.ts :</strong></p>\n\n<pre><code>import { Component, OnChanges, OnInit } from '@angular/core';\nimport * as Highcharts from 'highcharts';\n\n@Component({\n  selector: 'app-chart',\n  templateUrl: './chart.component.html',\n  styleUrls: ['./chart.component.scss']\n})\nexport class ChartComponent implements OnChanges, OnInit {\n  private Highcharts = Highcharts;\n  private chartConstructor = 'chart';\n  private updateFlag = false;\n  private oneToOneFlag = true;\n  private runOutsideAngular = false;\n  private chartOptions: any;\n  private chartCallback: any;\n  private day = 0;\n  private chart: any;\n  private y: any = 0;\n  public userData: any;\n\n  constructor() {\n    const self = this;\n\n    self.chartCallback = chart =&gt; {\n      self.chart = chart;\n    };\n\n    self.userData = [\n      18, 14, 15, 15, 15, 13, 13, 12, 14, 14, 14, 14, 14, 14, 15\n    ];\n    self.y = self.userData[self.day];\n\n    self.chartOptions = {\n      xAxis: {\n        crosshair: true\n      },\n      plotOptions: {\n        series: {\n          dataLabels: {\n            enabled: true\n          },\n          point: {\n            events: {\n              click() {\n                console.log(this);\n                self.day = this.category;\n                this.series.data[self.day].select();\n              }\n            }\n          }\n        }\n      },\n      series: [{\n        name: 'Line attempt',\n        data: [\n          {x: 0, y: 16},\n          {x: 20, y: 16}\n        ],\n        color: 'red'\n      }, {\n        name: 'User defined',\n        data: self.userData.slice(),\n        allowPointSelect: true,\n        color: 'green'\n      }]\n    };\n  }\n\n  ngOnChanges() {\n    console.log('updated');\n  }\n\n  ngOnInit() {\n    console.log(this);\n  }\n\n  onNextDay() {\n    if (this.day !== this.chart.series[1].data.length - 1) {\n      this.day++;\n      this.chart.series[1].data[this.day].select();\n      this.dataUpdater();\n    }\n    console.log(this);\n   }\n\n  onVariablePlus() {\n\n  }\n\n  dataUpdater() {\n    this.y = this.userData[this.day].y;\n  }\n}\n</code></pre>\n\n<p><strong>Demo:</strong>\n<a href=\"https://codesandbox.io/s/p54w049677\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/p54w049677</a></p>\n"}], "owner": {"reputation": 23, "user_id": 5546024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd1112db247ace2a53a19f3a92f79119?s=128&d=identicon&r=PG&f=1", "display_name": "Keeper", "link": "https://stackoverflow.com/users/5546024/keeper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 435, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1544713315, "creation_date": 1544647917, "question_id": 53751156, "link": "https://stackoverflow.com/questions/53751156/accessing-functions-in-a-highcharts-click-event-in-an-ionic-project", "title": "Accessing functions in a highcharts click event in an ionic project", "body": "<p>I'm trying to access some variables and functions within the point click event, but I can't get it to work because of scoping, I assume. I've tried defining a variable for the class so it's accessible, but that's not compatible with my other variable. Same goes for function.</p>\n\n<p><strong>This is messy.</strong> I need to clarify that userData is initialized as an array, but as each point is selected, it turns into an object because the select() function is called. This is because the chart data is not a copy of userData[] but is <strong>is</strong> userData[].</p>\n\n<p>Alright, so I have a few functions here with different functionality. </p>\n\n<p><strong>nextDay()</strong> increases x value by 1 and selects the point</p>\n\n<p><strong>variablePlus()</strong> increases the y value(s) by 1</p>\n\n<p><strong>dataUpdater()</strong> updates the local y value to match the value in the userData list and displays the value on the HTML page.</p>\n\n<p><strong>relevant code from chart.ts:</strong>   </p>\n\n<pre><code>export class ChartPage {\n\n private day = 0;\n private chart: any;\n public userData: any;\n private y: any;\n private static day: number; // Not used \n\n constructor(public navCtrl: NavController, public navParams: NavParams) {\n\n  this.userData = [18,14,15,15,15,13,13,12,14,14,14,14,14,14,15];\n  this.y = this.userData[this.day];\n\n }\n\n nextDay() {\n  if (this.day == this.chart.series[3].data.length){\n    return\n  }\n  else {\n    this.day++;\n    this.chart.series[3].data[this.day].select();\n    this.dataUpdater();\n    }\n }\n\n variablePlus() {\n  this.y++;\n  this.chart.series[3].data[this.day].update({\n    y:this.y\n  });\n  console.log(this.y);\n  this.dataUpdater();\n }\n\n dataUpdater() {\n this.y = this.userData[this.day].y;\n\n let dayText = document.querySelector('#dayNum');\n dayText.textContent = (this.chart.series[3].data[this.day].x) + 1;\n }\n\n\n // Chart constructed on load\n ionViewDidLoad() {\n  console.log('ionViewDidLoad ChartPage');\n  this.chart = HighCharts.chart('container', {\n        chart: {\n            type: 'line',\n            margin: [0,0,0,0]\n        },\n        legend: {\n            enabled: false\n        },\n        title: {\n            text: ''\n        },\n        xAxis: {\n            categories: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],\n            crosshair: true\n        },\n        yAxis: {\n            title: {\n                text: 'Y data'\n            }\n        },\n        plotOptions: {\n            series: {\n                dataLabels: {\n                    enabled: true\n                },\n                point: {\n                    events: {\n                        click: function() {\n                            // Defined a day-variable for the class cause of scoping\n                            // Doesn't matter since variablePlus() still works off other variable\n                            // ChartPage.day = this.category;\n                            // this.series.data[ChartPage.day].select();\n                            // want to run dataUpdater() and update local day value\n                        }\n                    }\n                }\n            },\n            line: {\n                dataLabels: {\n                    enabled: true\n                }\n            }\n        },\n        series: [{\n            name: this.typeData.name,\n            data: this.typeData.data,\n            color: 'blue'\n        }, {\n            name: this.otherData.name,\n            data: this.otherData.data,\n            color: 'orange'\n        }, {\n            name: 'Line attempt',\n            data: [{x: 0, y: 16}, {x: 20, y: 16}],\n            color: 'red'\n        },{\n            name: 'User defined',\n            data: this.userData,\n            allowPointSelect: true,\n            color: 'green'\n        }]\n    });\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "angular6"], "comments": [{"owner": {"reputation": 5977, "user_id": 5683579, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/8c263738dccc90304c0ac71ed8ed505b?s=128&d=identicon&r=PG", "display_name": "joh04667", "link": "https://stackoverflow.com/users/5683579/joh04667"}, "edited": false, "score": 2, "creation_date": 1544647894, "post_id": 53751091, "comment_id": 94355000, "body": "well, <code>reader.result</code> is a <code>string | ArrayBuffer</code> and <code>this.imagePreview</code> is a <code>string</code>. You haven&#39;t provided enough information for anyone to know what <code>reader</code> is. If it&#39;s a <code>ReadbleStream</code> or similar, make sure it&#39;s finished reading and either dump it to string or force its typing to string: <code>reader.result as string</code>"}, {"owner": {"reputation": 119, "user_id": 9315543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82dac097de84044d3c8c827a23f3d1b3?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.Flatman", "link": "https://stackoverflow.com/users/9315543/mr-flatman"}, "reply_to_user": {"reputation": 5977, "user_id": 5683579, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/8c263738dccc90304c0ac71ed8ed505b?s=128&d=identicon&r=PG", "display_name": "joh04667", "link": "https://stackoverflow.com/users/5683579/joh04667"}, "edited": false, "score": 0, "creation_date": 1544648359, "post_id": 53751091, "comment_id": 94355176, "body": "@joh04667 I changed a little now, now the line has the form <code>this.imagePreview = reader.result as string</code> Yes, now it does not give an error, but the problem is that the variable <code>imagePreview</code> it transmits empty, and must transmit a link to the image"}, {"owner": {"reputation": 5977, "user_id": 5683579, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/8c263738dccc90304c0ac71ed8ed505b?s=128&d=identicon&r=PG", "display_name": "joh04667", "link": "https://stackoverflow.com/users/5683579/joh04667"}, "edited": false, "score": 0, "creation_date": 1544648868, "post_id": 53751091, "comment_id": 94355381, "body": "Sounds like it&#39;s still an <code>ArrayBuffer</code>, hence the tuple typing. You need to decode it first"}, {"owner": {"reputation": 119, "user_id": 9315543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82dac097de84044d3c8c827a23f3d1b3?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.Flatman", "link": "https://stackoverflow.com/users/9315543/mr-flatman"}, "reply_to_user": {"reputation": 5977, "user_id": 5683579, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/8c263738dccc90304c0ac71ed8ed505b?s=128&d=identicon&r=PG", "display_name": "joh04667", "link": "https://stackoverflow.com/users/5683579/joh04667"}, "edited": false, "score": 0, "creation_date": 1544649186, "post_id": 53751091, "comment_id": 94355515, "body": "@joh04667 With this difficult, I just started to study, I will try to update the question now and add the code that is responsible for downloading pictures"}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 7452866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cHefL.png?s=128&g=1", "display_name": "Rabindra Kumar Mahato", "link": "https://stackoverflow.com/users/7452866/rabindra-kumar-mahato"}, "is_accepted": false, "score": 1, "last_activity_date": 1582304363, "last_edit_date": 1582304363, "creation_date": 1582303192, "answer_id": 60342923, "question_id": 53751091, "link": "https://stackoverflow.com/questions/53751091/type-arraybuffer-is-not-assignable-to-type-string/60342923#60342923", "title": "Type &#39;ArrayBuffer&#39; is not assignable to type &#39;string&#39;", "body": "<p>ArrayBuffer as string may result in data truncation (would have to test).<br>\nSo you have to explicitly cast it, as to tell the compiler \"<em>I know what I am doing</em>\".</p>\n\n<p>Try this, it works for me:</p>\n\n<pre><code>reader.onload = () =&gt; {\n    this.imagePreview = reader.result as string;\n}\n\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 9315543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82dac097de84044d3c8c827a23f3d1b3?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.Flatman", "link": "https://stackoverflow.com/users/9315543/mr-flatman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1895, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1582304363, "creation_date": 1544647631, "last_edit_date": 1544649578, "question_id": 53751091, "link": "https://stackoverflow.com/questions/53751091/type-arraybuffer-is-not-assignable-to-type-string", "title": "Type &#39;ArrayBuffer&#39; is not assignable to type &#39;string&#39;", "body": "<p>Applications using angular6 and node.js ran into a problem, which is now writing the part that is responsible for uploading pictures on the server, created the imagePreview = \"\" variable (yes, it is empty by default)</p>\n\n<p><code>ERROR in src/app/categories-page/categories-form/categories-form.component.ts(74,7): error TS2322: Type 'string | ArrayBuffer' is not assignable to type 'string'.\n[1]   Type 'ArrayBuffer' is not assignable to type 'string'.</code></p>\n\n<p>That's what I have on line 74, I don\u2019t understand where the error is (WebStorm emphasizes <code>reader.result</code>)</p>\n\n<pre><code>reader.onload = () =&gt; {\n      this.imagePreview = reader.result\n    }\n</code></pre>\n\n<p>Please tell me how to fix</p>\n\n<p>The code of the component that is responsible for downloading images:</p>\n\n<pre><code>import {Component, ElementRef, OnInit, ViewChild} from '@angular/core';\nimport {ActivatedRoute, Params} from \"@angular/router\";\nimport {FormControl, FormGroup, Validators} from \"@angular/forms\";\nimport {CategoriesService} from \"../../shared/services/categories.service\";\nimport {switchMap} from \"rxjs/operators\";\nimport {of} from \"rxjs\";\nimport {MaterialService} from \"../../shared/classes/material.service\";\nimport {Category} from \"../../shared/interfaces\";\n\n@Component({\n  selector: 'app-categories-form',\n  templateUrl: './categories-form.component.html',\n  styleUrls: ['./categories-form.component.css']\n})\nexport class CategoriesFormComponent implements OnInit {\n\n  @ViewChild('input') inputRef: ElementRef\n  form: FormGroup\n  image: File\n  imagePreview=''\n  isNew= true\n  category: Category\n\n  constructor(private route: ActivatedRoute,\n              private categoriesService: CategoriesService) { }\n\n  ngOnInit() {\n    this.form=new FormGroup({\n      name:new FormControl(null, Validators.required)\n    })\n\n    this.form.disable()\n\n    this.route.params\n      .pipe(\n        switchMap(\n          (params: Params)=&gt;{\n            if(params['id']){\n              this.isNew=false\n              return this.categoriesService.getById(params['id'])\n            }\n            return of (null)\n          }\n        )\n      )\n      .subscribe(\n        (category: Category)=&gt;{\n          if(category){\n            this.category = category\n            this.form.patchValue({\n              name: category.name\n            })\n            this.imagePreview=category.imageSrc\n            MaterialService.updateTextInputs()\n          }\n\n          this.form.enable()\n        },\n        error=&gt;MaterialService.toast(error.error.message)\n      )\n  }\n\n  triggerClick(){\n    this.inputRef.nativeElement.click()\n  }\n\n  onFileUpload(event: any){\n    const file = event.target.files[0]\n    this.image = file\n\n    const reader = new FileReader()\n\n    reader.onload = () =&gt; {\n      this.imagePreview = reader.result as string\n    }\n\n    reader.readAsDataURL(file)\n  }\n\n  onSubmit(){\n\n    let obs$\n\n    this.form.disable()\n\n    if(this.isNew){\n      obs$ = this.categoriesService.create(this.form.value.name, this.image)\n    } else {\n      obs$ = this.categoriesService.update(this.category._id, this.form.value.name, this.image)\n    }\n\n    obs$.subscribe(\n      category =&gt;{\n        this.category = category\n        MaterialService.toast('\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b!')\n        this.form.enable()\n      },\n\n      error=&gt;{\n        MaterialService.toast(error.error.message)\n        this.form.enable()\n      }\n    )\n  }\n}\n</code></pre>\n\n<p>Create and edit</p>\n\n<pre><code>create(name: string, image?:File) : Observable&lt;Category&gt;{\n    const fd = new FormData()\n\n    if(image){\n      fd.append('image', image.name)\n    }\n\n    fd.append('name', name)\n    return this.http.post&lt;Category&gt;('/api/category', fd)\n  }\n\n  update(id: string, name: string, image?:File) : Observable&lt;Category&gt;{\n\n    const fd= new FormData()\n    if(image){\n      fd.append('image', image.name)\n    }\n    fd.append('name', name)\n    return this.http.patch&lt;Category&gt;(`/api/category/${id}`, fd)\n  }\n</code></pre>\n"}, {"tags": ["javascript", "date"], "comments": [{"owner": {"reputation": 16131, "user_id": 1985032, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/66248ce349dee952883fa5ff02972cef?s=128&d=identicon&r=PG", "display_name": "abc123", "link": "https://stackoverflow.com/users/1985032/abc123"}, "edited": false, "score": 5, "creation_date": 1544647285, "post_id": 53750989, "comment_id": 94354728, "body": "i recommend looking at <a href=\"https://momentjs.com/\" rel=\"nofollow noreferrer\">moment.js</a>"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 6, "creation_date": 1544647425, "post_id": 53750989, "comment_id": 94354787, "body": "4. forgot <code>new</code> before <code>Date()</code>"}, {"owner": {"reputation": 299695, "user_id": 507674, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6801bf30e40c9f7972987d67e2d5e4f2?s=128&d=identicon&r=PG", "display_name": "Niet the Dark Absol", "link": "https://stackoverflow.com/users/507674/niet-the-dark-absol"}, "edited": false, "score": 2, "creation_date": 1544647490, "post_id": 53750989, "comment_id": 94354816, "body": "&quot;No timezone&quot; is incorrect. The <code>Z</code> designates UTC."}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1544647620, "post_id": 53750989, "comment_id": 94354874, "body": "2) <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/setDate\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1544647711, "post_id": 53750989, "comment_id": 94354923, "body": "3) there is no need to do this..... do not override newdate"}, {"owner": {"reputation": 13514, "user_id": 753237, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/caa0cf52d736fd96586b6f14705633dd?s=128&d=identicon&r=PG", "display_name": "ic3b3rg", "link": "https://stackoverflow.com/users/753237/ic3b3rg"}, "edited": false, "score": 0, "creation_date": 1544647721, "post_id": 53750989, "comment_id": 94354929, "body": "I also recommend moment - it&#39;s as easy as <code>moment().startOf(&#39;month&#39;)</code>"}, {"owner": {"reputation": 3570, "user_id": 5173560, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8f7b0947ce0b265b5d08b6766acc0510?s=128&d=identicon&r=PG&f=1", "display_name": "cssBlaster21895", "link": "https://stackoverflow.com/users/5173560/cssblaster21895"}, "edited": false, "score": 0, "creation_date": 1544647771, "post_id": 53750989, "comment_id": 94354946, "body": "I also recommend dayjs, lighter alternative to moment.js"}], "answers": [{"comments": [{"owner": {"reputation": 751, "user_id": 5259380, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/YfU8j.png?s=128&g=1", "display_name": "Orionis", "link": "https://stackoverflow.com/users/5259380/orionis"}, "edited": false, "score": 0, "creation_date": 1544690184, "post_id": 53751114, "comment_id": 94367782, "body": "I understand now my errors with object/string. Fixing these function run as expected. As far as moments.js is concerned, I realize that could help, but the very little goal of my function does not justify it, in my opinion. I accepted iagowp answer because is the most concise and easy to understand for a non Englih person."}], "tags": [], "owner": {"reputation": 1982, "user_id": 3170151, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/38207faa73f40f487c7e7b5da9617a76?s=128&d=identicon&r=PG&f=1", "display_name": "iagowp", "link": "https://stackoverflow.com/users/3170151/iagowp"}, "is_accepted": true, "score": 1, "last_activity_date": 1544648058, "last_edit_date": 1544648058, "creation_date": 1544647731, "answer_id": 53751114, "question_id": 53750989, "link": "https://stackoverflow.com/questions/53750989/javascript-dates-a-nightmare/53751114#53751114", "title": "Javascript dates: a nightmare", "body": "<p>I do recommend using moment.js</p>\n\n<p>But there are 2 problems with your code:</p>\n\n<p>1-</p>\n\n<pre><code>newdate = newdate.setDate(1);\n</code></pre>\n\n<p>setDate mutates newDate in place, and return it in miliseconds, not a new Date object. If you just want to set the date, do this instead:</p>\n\n<pre><code>newdate.setDate(1);\n</code></pre>\n\n<p>2-</p>\n\n<pre><code>newdate=Date(newdate);\n</code></pre>\n\n<p>Not realy sure why you are trying to get a new Date object, but you need the new, otherwise it will just be a string</p>\n\n<pre><code>newdate= new Date(newdate);\n</code></pre>\n\n<p>Fixing problem 1 should eliminate the need for the code of problem 2</p>\n"}, {"comments": [{"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1544667648, "post_id": 53751172, "comment_id": 94360977, "body": "I strongly disagree with &quot;<i>JavaScript&#39;s date functions are pretty messy</i>&quot;. They are very straight forward. The OP&#39;s problem is apparent ignorance of the Date constructor and instances, and calling <i>Date</i> as a function instead of as a constructor."}], "tags": [], "owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "is_accepted": false, "score": 3, "last_activity_date": 1544648943, "last_edit_date": 1544648943, "creation_date": 1544648010, "answer_id": 53751172, "question_id": 53750989, "link": "https://stackoverflow.com/questions/53750989/javascript-dates-a-nightmare/53751172#53751172", "title": "Javascript dates: a nightmare", "body": "<p>Regarding line 1, the <code>Z</code> at the end is the timezone designation for UTC in ISO 8601 (see <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Coordinated_Universal_Time_(UTC)\" rel=\"nofollow noreferrer\">Wikipedia</a>).</p>\n\n<blockquote>\n  <p>If the time is in UTC, add a Z directly after the time without a space. Z is the zone designator for the zero UTC offset. \"09:30 UTC\" is therefore represented as \"09:30Z\" or \"0930Z\". \"14:45:15 UTC\" would be \"14:45:15Z\" or \"144515Z\". </p>\n</blockquote>\n\n<p>Regarding line 2 see the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/setDate\" rel=\"nofollow noreferrer\">MDN</a> article on <code>setDate</code> (emphasis mine):</p>\n\n<blockquote>\n  <p>The number of milliseconds between 1 January 1970 00:00:00 UTC and the given date (<strong>the <code>Date</code> object is also changed in place</strong>).</p>\n</blockquote>\n\n<p>So you can see the 'correct' behavior you probably expect simply by ignoring the return value:</p>\n\n<pre><code>var newdate = new Date(); //1: 2018-12-12T21:00:20.099Z\nnewdate.setDate(1);       //2: 1543698020099\nconsole.log(newdate);     //3: 2018-12-01T21:00:20.099Z\n</code></pre>\n\n<p>Regarding line 3, see <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date\" rel=\"nofollow noreferrer\">MDN</a> article on <code>Date</code> (emphasis mine):</p>\n\n<blockquote>\n  <p><em>Note</em>: JavaScript <code>Date</code> objects can only be instantiated by calling\n  JavaScript <code>Date</code> as a constructor: calling it as a regular function\n  (i.e. without the <code>new</code> operator) will <strong>return a string rather than a</strong>\n  <strong><code>Date</code> object</strong>; unlike other JavaScript object types, JavaScript <code>Date</code>\n  objects have no literal syntax.</p>\n</blockquote>\n\n<p>Regarding line 4, the above also explains this error, since <code>newdate</code> is now a string rather than a <code>Date</code> object.</p>\n\n<hr>\n\n<p>For what it's worth, I agree with the other commenters. JavaScript's date functions are pretty messy compared to many other modern languages. I strongly recommend using a library like <a href=\"https://momentjs.com/\" rel=\"nofollow noreferrer\">moment</a>, <a href=\"https://moment.github.io/luxon/\" rel=\"nofollow noreferrer\">luxon</a>, or <a href=\"https://date-fns.org/\" rel=\"nofollow noreferrer\">date-fns</a>. It'll make your life much easier.</p>\n"}, {"tags": [], "owner": {"reputation": 23752, "user_id": 1118978, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/2rloq.jpg?s=128&g=1", "display_name": "Dervi\u015f Kay\u0131mba\u015f\u0131o\u011flu", "link": "https://stackoverflow.com/users/1118978/dervi%c5%9f-kay%c4%b1mba%c5%9f%c4%b1o%c4%9flu"}, "is_accepted": false, "score": 0, "last_activity_date": 1544649161, "creation_date": 1544649161, "answer_id": 53751422, "question_id": 53750989, "link": "https://stackoverflow.com/questions/53750989/javascript-dates-a-nightmare/53751422#53751422", "title": "Javascript dates: a nightmare", "body": "<pre><code>var newdate   = new Date();  // 1\nconsole.log(typeof newdate, newdate); // object Wed Dec 12 2018 23:00:44 GMT+0200 (Eastern European Standard Time)\nnewdate = newdate.setDate(1); // 2    \nconsole.log(typeof newdate, newdate); //number 1543698085383\nnewdate=Date(newdate);        //3       \nconsole.log(typeof newdate, newdate);  //string Wed Dec 12 2018 23:04:44 GMT+0200 (Eastern European Standard Time)\nvar d = newdate.getDate();       // 4\nconsole.log(typeof d, d); // \n</code></pre>\n\n<ol>\n<li>Date type is assigned to the object.</li>\n<li>number is assigned to newdate. which is ticks</li>\n<li>returns string</li>\n<li>string.getDate() is not defined, so undefined.</li>\n</ol>\n\n<p>hope it helps.</p>\n"}], "owner": {"reputation": 751, "user_id": 5259380, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/YfU8j.png?s=128&g=1", "display_name": "Orionis", "link": "https://stackoverflow.com/users/5259380/orionis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 230, "favorite_count": 0, "accepted_answer_id": 53751114, "answer_count": 3, "score": 1, "last_activity_date": 1544650804, "creation_date": 1544647166, "question_id": 53750989, "link": "https://stackoverflow.com/questions/53750989/javascript-dates-a-nightmare", "title": "Javascript dates: a nightmare", "body": "<p>I understand that dealing with dates, in any environment, could be quite confusing, but I'm in a nightmare with a function that should be a trivial job.\nI want to manipulate in different ways some dates, but I get errors or wrong results.<br>\nI report hereafter a very simple example made to test the execution; the goal here is to get the current month beginning date, just to show what happens:</p>\n\n<pre><code>function DateAdjust() {\nvar newdate   = new Date();         //1: 2018-12-12T21:00:20.099Z\nnewdate = newdate.setDate(1);       //2: 1543698020099\nnewdate=Date(newdate);                  //3: Wed Dec 12 2018 21:01:43 GMT+0000 (Ora standard dell\u2019Europa occidentale)\nvar d = newdate.getDate();          //4: newdate.getDate is not a function\n</code></pre>\n\n<p>}</p>\n\n<p>4 lines, 3 unexpected results (as shown by Firefox's debugger):<br>\n1. the starting date has no day-of-week and no timezone<br>\n2. setting the day, result is transformed in milliseconds (why?); I do not know if it is correct.<br>\n3. reconverting in string gives the original date, unmodified (why?) but with week day and timezone<br>\n4. trying to get the day value an error is thrown (why?)  </p>\n\n<p>My environment:<br>\nWin 7 32bits SP1<br>\nFirefox 63.0.3 (32 bit)<br>\njquery-2.2.4.min.js  </p>\n\n<p>I know these questions are boring, but hope someone will find few minutes to clear my mind.</p>\n"}, {"tags": ["javascript", "mysql", "node.js", "sequelize.js"], "answers": [{"tags": [], "owner": {"reputation": 112, "user_id": 10768827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed6e6c34da55ba88027b87cd62094d4a?s=128&d=identicon&r=PG&f=1", "display_name": "Farnoosh", "link": "https://stackoverflow.com/users/10768827/farnoosh"}, "is_accepted": true, "score": 0, "last_activity_date": 1544667623, "creation_date": 1544667623, "answer_id": 53754163, "question_id": 53750929, "link": "https://stackoverflow.com/questions/53750929/why-are-my-associations-not-being-recognized-and-causing-a-sequelizeeagerloading/53754163#53754163", "title": "Why are my Associations not being recognized and causing a SequelizeEagerLoadingError?", "body": "<p>Problem Resolved: \nfor the purposes of what I was trying to do I had to define my Associations as below:</p>\n\n<p>Party Model: </p>\n\n<pre><code>   Party.associate = function(models) {\nParty.hasMany(models.Attendee, {\n  foreignKey: {\n    allowNull: false\n  },\n  onDelete: \"cascade\"\n });\n};\n</code></pre>\n\n<p>Attendee Model: </p>\n\n<pre><code>   Attendee.associate = function(models) {\n     Attendee.hasMany(models.Item, {\n       foreignKey: \"attendeeAuthenticationId\",\n       allowNull: false,\n       onDelete: \"cascade\"\n     });\n   };\n</code></pre>\n\n<p>Item Model: </p>\n\n<pre><code>    Item.associate = function(models) {\n     Item.belongsTo(models.Attendee, {\n      foreignKey: \"attendeeAuthenticationId\"\n     });\n    };\n</code></pre>\n\n<p>And my query was changed to: </p>\n\n<pre><code> db.Party.findOne({\n  where: { id: req.params.id },\n  include: [\n    {\n      model: db.Attendee,\n      include: [\n        {\n          model: db.Item\n        }\n      ]\n    }\n  ]\n})\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 112, "user_id": 10768827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed6e6c34da55ba88027b87cd62094d4a?s=128&d=identicon&r=PG&f=1", "display_name": "Farnoosh", "link": "https://stackoverflow.com/users/10768827/farnoosh"}, "edited": false, "score": 0, "creation_date": 1544728422, "post_id": 53756088, "comment_id": 94389033, "body": "You&#39;re right Vivek! one was overwriting the other.  However my overall approach in the associations was incorrect.   Loren Stewart has written a great article on this topic including examples which I found very useful. Thanks for taking the time to reply.  I&#39;ve pasted the working changes below.   <a href=\"https://lorenstewart.me/2016/09/12/sequelize-table-associations-joins/\" rel=\"nofollow noreferrer\">lorenstewart.me/2016/09/12/sequelize-table-associations-join&zwnj;&#8203;s</a>"}], "tags": [], "owner": {"reputation": 45843, "user_id": 2349407, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/GLI4g.png?s=128&g=1", "display_name": "Vivek Doshi", "link": "https://stackoverflow.com/users/2349407/vivek-doshi"}, "is_accepted": false, "score": 0, "last_activity_date": 1544682300, "creation_date": 1544682300, "answer_id": 53756088, "question_id": 53750929, "link": "https://stackoverflow.com/questions/53750929/why-are-my-associations-not-being-recognized-and-causing-a-sequelizeeagerloading/53756088#53756088", "title": "Why are my Associations not being recognized and causing a SequelizeEagerLoadingError?", "body": "<p>Real issue is this :</p>\n\n<pre><code>Attendee.associate = function(models) {\n    Attendee.hasMany(models.Item, {\n        foreignKey: {\n            allowNull: false\n        },\n        onDelete: \"cascade\"\n    });\n};\n\nAttendee.associate = function(models) { // &lt;---- This will override the upper one\n    Attendee.belongsTo(models.Party, {\n        foreignKey: {\n            allowNull: false\n        },\n        onDelete: \"cascade\"\n    });\n};\n</code></pre>\n\n<p>Solution : </p>\n\n<pre><code>Attendee.associate = = function(models) { \n\n    Attendee.hasMany(models.Item, {\n        foreignKey: {\n            allowNull: false\n        },\n        onDelete: \"cascade\"\n    });\n\n    Attendee.belongsTo(models.Party, {\n        foreignKey: {\n            allowNull: false\n        },\n        onDelete: \"cascade\"\n    });\n};\n</code></pre>\n"}], "owner": {"reputation": 112, "user_id": 10768827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed6e6c34da55ba88027b87cd62094d4a?s=128&d=identicon&r=PG&f=1", "display_name": "Farnoosh", "link": "https://stackoverflow.com/users/10768827/farnoosh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 53754163, "answer_count": 2, "score": 0, "last_activity_date": 1544682300, "creation_date": 1544646890, "last_edit_date": 1544658961, "question_id": 53750929, "link": "https://stackoverflow.com/questions/53750929/why-are-my-associations-not-being-recognized-and-causing-a-sequelizeeagerloading", "title": "Why are my Associations not being recognized and causing a SequelizeEagerLoadingError?", "body": "<p>I'm trying to design my models in a way to have association from the party table to both the Attendee and Item tables.  This way I could query both tables using the Party_Id.</p>\n\n<p>Clearly I'm not going upon this the right way...Any thoughts on where I'm going wrong with this?</p>\n\n<p>Thanks in advance! </p>\n\n<p>Party Model</p>\n\n<pre><code>module.exports = function(sequelize, DataTypes) {\nvar Party = sequelize.define(\"Party\", {\neventName: {\n  type: DataTypes.STRING,\n  allowNull: false,\n  validate: {\n    len: [1]\n  }\n},\nAuthenticationId: {\n  type: DataTypes.STRING,\n  allowNull: false,\n  validate: {\n    len: [1]\n  }\n},\neventAddress: {\n  type: DataTypes.STRING,\n  allowNull: false,\n  validate: {\n    len: [1]\n  }\n},\neventDate: {\n  type: DataTypes.STRING,\n  allowNull: false,\n  validate: {\n    len: [1]\n  }\n},\neventTime: {\n  type: DataTypes.STRING,\n  allowNull: false,\n  validate: {\n    len: [1]\n  }\n},\neventDescription: {\n  type: DataTypes.STRING,\n  allowNull: false,\n  validate: {\n    len: [1]\n  }\n},\ndisplayName: {\n  type: DataTypes.STRING,\n  allowNull: false,\n  validate: {\n    len: [1]\n  }\n}\n});\n\nParty.associate = function(models) {\nParty.hasMany(models.Attendee, {\n  foreignKey: {\n    allowNull: false\n  },\n  onDelete: \"cascade\"\n});\n};\n\nreturn Party;\n};\n</code></pre>\n\n<p>Attendee Model:</p>\n\n<pre><code>module.exports = function(sequelize, DataTypes) {\nvar Attendee = sequelize.define(\"Attendee\", {\nAuthenticationId: {\n  type: DataTypes.STRING,\n  allowNull: false,\n  validate: {\n    len: [1]\n  }\n},\ndisplayName: {\n  type: DataTypes.STRING,\n  allowNull: false,\n  validate: {\n    len: [1]\n  }\n }\n});\n\nAttendee.associate = function(models) {\n Attendee.hasMany(models.Item, {\n  foreignKey: {\n    allowNull: false\n  },\n  onDelete: \"cascade\"\n });\n};\n\nAttendee.associate = function(models) {\n Attendee.belongsTo(models.Party, {\n  foreignKey: {\n    allowNull: false\n  },\n  onDelete: \"cascade\"\n });\n };\n\nreturn Attendee;\n};\n</code></pre>\n\n<p>Item Model </p>\n\n<pre><code>    module.exports = function(sequelize, DataTypes) {\n      var Item = sequelize.define(\"Item\", {\n        itemName: {\n          type: DataTypes.STRING,\n          allowNull: false,\n          validate: {\n            len: [1]\n          }\n        },\n        qtyRequested: {\n          type: DataTypes.INTEGER,\n          allowNull: false,\n          validate: {\n            len: [1]\n          }\n        },\n        qtyCommited: {\n          type: DataTypes.INTEGER,\n          allowNull: true,\n          validate: {\n            len: [1]\n          }\n        },\n        hostAdded: {\n          type: DataTypes.BOOLEAN,\n          allowNull: true,\n          validate: {\n            len: [1]\n          }\n        },\n        AuthenticationId: {\n          type: DataTypes.STRING,\n          allowNull: false,\n          validate: {\n            len: [1]\n          }\n        },\n        displayName: {\n          type: DataTypes.STRING,\n          allowNull: false,\n          validate: {\n            len: [1]\n          }\n        }\n      });\n\n      Item.associate = function(models) {\n        Item.belongsTo(models.Attendee, {\n          foreignKey: {\n            allowNull: false\n          },\n          onDelete: \"cascade\"\n        });\n      };\n\n      return Item;\n    };\n</code></pre>\n\n<p>This is the query which is returning the error:</p>\n\n<pre><code>app.get(\"/parties/:id\", (req, res) =&gt; {\n db.Party.findOne({\n  where: { id: req.params.id },\n    include: [\n    {\n      model: db.Attendee,\n       include: [\n        {\n          model: db.Item\n        }\n      ]\n    }\n  ]\n})\n  .then(party =&gt; {\n    console.log(party)\n  })\n  .catch(function(error) {\n    console.log(error);\n  });\n});\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>   SequelizeEagerLoadingError: Item is not associated to Attendee!\n</code></pre>\n"}, {"tags": ["javascript", "google-apps-script", "google-api", "google-classroom"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1531971"}, "edited": false, "score": 0, "creation_date": 1544647064, "post_id": 53750921, "comment_id": 94354651, "body": "It&#39;s time to debug! What is at line 22? Work backwards from there. The error message is well discussed here and on the greater unwashed web. Use this information to work from the known to the unknown."}], "answers": [{"tags": [], "owner": {"reputation": 34507, "user_id": 7215091, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/2pNI4.jpg?s=128&g=1", "display_name": "MetaMan", "link": "https://stackoverflow.com/users/7215091/metaman"}, "is_accepted": false, "score": 1, "last_activity_date": 1544680228, "last_edit_date": 1544680228, "creation_date": 1544679814, "answer_id": 53755614, "question_id": 53750921, "link": "https://stackoverflow.com/questions/53750921/using-google-apps-script-to-list-assignments-through-google-classroom-api-using/53755614#53755614", "title": "Using Google Apps Script to list assignments through Google Classroom API using course.coursework.list", "body": "<p>This line: <code>var info = Classroom.Courses.CourseWork.list(listArgs);</code></p>\n\n<p>Should be: <code>Classroom.Courses.CourseWork.list(courseId, optionalArgs)</code></p>\n\n<p>Or this: <code>Classroom.Courses.CourseWork.list(courseId)</code></p>\n\n<p>The point is that courseId is required.</p>\n\n<p>You can try it on the API Explorer <a href=\"https://developers.google.com/classroom/reference/rest/v1/courses.courseWork/list\" rel=\"nofollow noreferrer\">Here</a>.</p>\n\n<p>So the code should look something like this:</p>\n\n<pre><code>function listCourses() {\n  var optionalArgs = {pageSize: 100};\n  var listArgs = { pageSize: 10 };\n  var response = Classroom.Courses.list(optionalArgs);\n  var courses = response.courses;\n  if (courses &amp;&amp; courses.length &gt; 0) {\n    for (i = 0; i &lt; courses.length; i++) {\n      var course = courses[i];\n      Logger.log('%s (%s)', course.name, course.id);\n      var info = Classroom.Courses.CourseWork.list(course.id, listArgs)\n      var works = info.works;\n      if (works &amp;&amp; work.length &gt; 0) {\n        for (i = 0; i &lt; works.length; i++) {\n          var work = works[i];\n          Logger.log('%s (%s)', work.title, work.creationTime);\n        }     \n      }\n    }\n  }\n}\n</code></pre>\n\n<p>But check it out carefully because this is the first time I've ever enabled the Classroom API.</p>\n"}], "owner": {"reputation": 11, "user_id": 10727362, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NNbU83o1a6Q/AAAAAAAAAAI/AAAAAAAAADw/BexSi1g6CHA/photo.jpg?sz=128", "display_name": "Mr Scott", "link": "https://stackoverflow.com/users/10727362/mr-scott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 657, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1544680228, "creation_date": 1544646849, "question_id": 53750921, "link": "https://stackoverflow.com/questions/53750921/using-google-apps-script-to-list-assignments-through-google-classroom-api-using", "title": "Using Google Apps Script to list assignments through Google Classroom API using course.coursework.list", "body": "<p>Inexperienced at this - please forgive any wrong choices of words...</p>\n\n<p>I'm trying to use Google Apps Script to get a list of assignments set within different classrooms. I <em>believe</em> I have all the appropriate APIs, credentials and scopes required. I followed the tutorial for setting up a simple class list, which worked, then edited to try to list the assignments within each class as below:</p>\n\n<pre><code>/**  \n * Lists 100 course names and ids.\n */\nfunction listCourses() \n{\n  var optionalArgs = {\n    pageSize: 100\n  };\n  var listArgs = {\n    pageSize: 10\n  };\n  var response = Classroom.Courses.list(optionalArgs);\n  var courses = response.courses;\n  if (courses &amp;&amp; courses.length &gt; 0) \n  {\n    for (i = 0; i &lt; courses.length; i++) \n    {\n      var course = courses[i];\n\n      Logger.log('%s (%s)', course.name, course.id);\n\n      var info = Classroom.Courses.CourseWork.list(listArgs);\n      var works = info.works;\n      if (works &amp;&amp; work.length &gt; 0) \n      {\n        for (i = 0; i &lt; works.length; i++) \n        {\n          var work = works[i];\n\n          Logger.log('%s (%s)', work.title, work.creationTime);\n        }     \n      }\n    }\n  }\n}\n</code></pre>\n\n<p>Error was: Requested entity was not found. (line 22, file \"Code\")<br>\n*Line 22: var info = Classroom.Courses.CourseWork.list(listArgs);</p>\n\n<p>Any ideas appreciated, thanks</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 145537, "user_id": 362536, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/da5816365344305a614343a4065a2786?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/362536/brad"}, "reply_to_user": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 1, "creation_date": 1544646850, "post_id": 53750866, "comment_id": 94354558, "body": "@JackBashford Nonsense...  <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/click\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/HTMLElement/click</a>"}, {"owner": {"reputation": 1, "user_id": 10597758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2da8911ed1dd22ce70a9c38a2e91b87a?s=128&d=identicon&r=PG&f=1", "display_name": "BrainBusted", "link": "https://stackoverflow.com/users/10597758/brainbusted"}, "reply_to_user": {"reputation": 145537, "user_id": 362536, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/da5816365344305a614343a4065a2786?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/362536/brad"}, "edited": false, "score": 0, "creation_date": 1544646930, "post_id": 53750866, "comment_id": 94354591, "body": "Yes I want to simulate click event but I cannot change the existing code. Any suggestions on how to do this?"}, {"owner": {"reputation": 19848, "user_id": 1090206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BVW9D.jpg?s=128&g=1", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/1090206/chris-w"}, "edited": false, "score": 0, "creation_date": 1544647059, "post_id": 53750866, "comment_id": 94354647, "body": "<code>document.getElementById(&#39;3c6b35f223e5f624a7587ba1f9b5c5f5_li&zwnj;&#8203;st_2&#39;).click()</code>"}], "answers": [{"tags": [], "owner": {"reputation": 2210, "user_id": 7233016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BwvWe.jpg?s=128&g=1", "display_name": "Daniel Sixl", "link": "https://stackoverflow.com/users/7233016/daniel-sixl"}, "is_accepted": false, "score": 0, "last_activity_date": 1544647103, "creation_date": 1544647103, "answer_id": 53750978, "question_id": 53750866, "link": "https://stackoverflow.com/questions/53750866/how-to-click-event-using-javascript/53750978#53750978", "title": "How to click event using Javascript", "body": "<p>You could use <code>document.getElementById(\"3c6b35f223e5f624a7587ba1f9b5c5f5_list_2\").click();</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>document.getElementById(\"3c6b35f223e5f624a7587ba1f9b5c5f5_list_2\").click(); </code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"TetherComponent---sailcontents appian-context-browser-ie11 DropdownWidget---tether_dropdown tether-abutted tether-abutted-left tether-element-attached-left tether-target-attached-left tether-element-attached-top tether-target-attached-bottom tether-enabled\"\r\n  style=\"left: 0px; top: 0px; position: absolute; transform: translateX(225px) translateY(223px) translateZ(0px);\"&gt;\r\n  &lt;div data-reactroot=\"\"&gt;\r\n\r\n    &lt;ul tabindex=\"0\" class=\"MenuWidget---listbox MenuWidget---relative MenuWidget---default_direction MenuWidget---inDropdownWidget DropdownWidget---dropdown_list DropdownWidget---open\" id=\"3c6b35f223e5f624a7587ba1f9b5c5f5_list\" role=\"listbox\" style=\"width: 732.11px !important; min-width: 0px !important; max-width: none !important;\"\r\n      unselectable=\"on\"&gt;\r\n      &lt;li tabindex=\"-1\" class=\"MenuWidgetItem---default_direction\" id=\"3c6b35f223e5f624a7587ba1f9b5c5f5_list_0\" role=\"option\" aria-selected=\"true\"&gt;\r\n        &lt;div&gt;COMPANY1&lt;/div&gt;\r\n      &lt;/li&gt;\r\n      &lt;li tabindex=\"-1\" class=\"MenuWidgetItem---default_direction\" id=\"3c6b35f223e5f624a7587ba1f9b5c5f5_list_1\" role=\"option\" aria-selected=\"false\"&gt;\r\n        &lt;div&gt;COMPANY1&lt;/div&gt;\r\n      &lt;/li&gt;\r\n      &lt;li tabindex=\"-1\" class=\"MenuWidgetItem---default_direction\" id=\"3c6b35f223e5f624a7587ba1f9b5c5f5_list_2\" role=\"option\" aria-selected=\"false\"&gt;\r\n        &lt;div&gt;COMPANY2&lt;/div&gt;\r\n      &lt;/li&gt;\r\n      &lt;li tabindex=\"-1\" class=\"MenuWidgetItem---active MenuWidgetItem---default_direction\" id=\"3c6b35f223e5f624a7587ba1f9b5c5f5_list_3\" role=\"option\" aria-selected=\"false\"&gt;\r\n        &lt;div&gt;COMPANY3&lt;/div&gt;\r\n      &lt;/li&gt;\r\n    &lt;/ul&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 10597758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2da8911ed1dd22ce70a9c38a2e91b87a?s=128&d=identicon&r=PG&f=1", "display_name": "BrainBusted", "link": "https://stackoverflow.com/users/10597758/brainbusted"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "closed_date": 1544646860, "answer_count": 1, "score": -2, "last_activity_date": 1544647103, "creation_date": 1544646595, "question_id": 53750866, "link": "https://stackoverflow.com/questions/53750866/how-to-click-event-using-javascript", "closed_reason": "Duplicate", "title": "How to click event using Javascript", "body": "<p>I see the following code on the page in Internet Explorer.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>&lt;div class=\"TetherComponent---sailcontents appian-context-browser-ie11 DropdownWidget---tether_dropdown tether-abutted tether-abutted-left tether-element-attached-left tether-target-attached-left tether-element-attached-top tether-target-attached-bottom tether-enabled\" style=\"left: 0px; top: 0px; position: absolute; transform: translateX(225px) translateY(223px) translateZ(0px);\"&gt;&lt;div data-reactroot=\"\"&gt;\r\n\r\n&lt;ul tabindex=\"0\" class=\"MenuWidget---listbox MenuWidget---relative MenuWidget---default_direction MenuWidget---inDropdownWidget DropdownWidget---dropdown_list DropdownWidget---open\" id=\"3c6b35f223e5f624a7587ba1f9b5c5f5_list\" role=\"listbox\" style=\"width: 732.11px !important; min-width: 0px !important; max-width: none !important;\" unselectable=\"on\"&gt;\r\n&lt;li tabindex=\"-1\" class=\"MenuWidgetItem---default_direction\" id=\"3c6b35f223e5f624a7587ba1f9b5c5f5_list_0\" role=\"option\" aria-selected=\"true\"&gt;&lt;div&gt;COMPANY1&lt;/div&gt;&lt;/li&gt;\r\n&lt;li tabindex=\"-1\" class=\"MenuWidgetItem---default_direction\" id=\"3c6b35f223e5f624a7587ba1f9b5c5f5_list_1\" role=\"option\" aria-selected=\"false\"&gt;&lt;div&gt;COMPANY1&lt;/div&gt;&lt;/li&gt;\r\n&lt;li tabindex=\"-1\" class=\"MenuWidgetItem---default_direction\" id=\"3c6b35f223e5f624a7587ba1f9b5c5f5_list_2\" role=\"option\" aria-selected=\"false\"&gt;&lt;div&gt;COMPANY2&lt;/div&gt;&lt;/li&gt;\r\n&lt;li tabindex=\"-1\" class=\"MenuWidgetItem---active MenuWidgetItem---default_direction\" id=\"3c6b35f223e5f624a7587ba1f9b5c5f5_list_3\" role=\"option\" aria-selected=\"false\"&gt;&lt;div&gt;COMPANY3&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>How can I click on the id=3c6b35f223e5f624a7587ba1f9b5c5f5_list_2 in this list using JavaScript?</p>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "comments": [{"owner": {"reputation": 3132, "user_id": 3960815, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/QKWIX.jpg?s=128&g=1", "display_name": "basic", "link": "https://stackoverflow.com/users/3960815/basic"}, "edited": false, "score": 1, "creation_date": 1544646777, "post_id": 53750856, "comment_id": 94354529, "body": "You are never clearing that .textDiv after you update it the first time. Also you are appending another textDiv each click, you aren&#39;t overwriting the content. So everytime you update it you are just appending the same data over and over again."}, {"owner": {"reputation": 1202, "user_id": 2314347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CqPgA.jpg?s=128&g=1", "display_name": "Kurohige", "link": "https://stackoverflow.com/users/2314347/kurohige"}, "edited": false, "score": 0, "creation_date": 1544646913, "post_id": 53750856, "comment_id": 94354581, "body": "$(&#39;.mainContainer&#39;).html(&#39;&#39;); before append"}], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 8328235, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/HLgA3.jpg?s=128&g=1", "display_name": "Adam W.", "link": "https://stackoverflow.com/users/8328235/adam-w"}, "edited": false, "score": 0, "creation_date": 1544775376, "post_id": 53750986, "comment_id": 94402672, "body": "So i changed the js to what you gave and i works great! Thanks for you&#39;re time and help:D"}, {"owner": {"reputation": 3132, "user_id": 3960815, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/QKWIX.jpg?s=128&g=1", "display_name": "basic", "link": "https://stackoverflow.com/users/3960815/basic"}, "reply_to_user": {"reputation": 89, "user_id": 8328235, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/HLgA3.jpg?s=128&g=1", "display_name": "Adam W.", "link": "https://stackoverflow.com/users/8328235/adam-w"}, "edited": false, "score": 0, "creation_date": 1544793906, "post_id": 53750986, "comment_id": 94412426, "body": "No worries! Just make sure to understand the changes I listed, don&#39;t just copy paste ;)"}], "tags": [], "owner": {"reputation": 3132, "user_id": 3960815, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/QKWIX.jpg?s=128&g=1", "display_name": "basic", "link": "https://stackoverflow.com/users/3960815/basic"}, "is_accepted": true, "score": 0, "last_activity_date": 1546347635, "last_edit_date": 1546347635, "creation_date": 1544647139, "answer_id": 53750986, "question_id": 53750856, "link": "https://stackoverflow.com/questions/53750856/clicking-multiple-times-on-the-thumbnail-bugs-the-site-out-why/53750986#53750986", "title": "Clicking multiple times on the thumbnail bugs the site out. Why?", "body": "<p>As I mentioned in my comment, you are adding things in the wrong place. You need to be updating the html of the item, not appending over and over again. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function(){\r\n\r\n    var $enterTheWuTang = [\r\n        'Bring Da Ruckus',\r\n        'Shame On A Nigga',\r\n        'Clan In Da Front',\r\n        'Wu-Tang: 7th Chamber',\r\n        'Can It Be All So Simple',\r\n        'Da Mystery of Chessboxin',\r\n        'Wu-Tang Clan Aint Nuthing Ta F Wit',\r\n        'C.R.E.A.M.',\r\n        'Method Man',\r\n        'Protect Ya Neck',\r\n        'Tearz',\r\n        'Wu-Tang: 7th Chamber - Part II',\r\n        'Method Man (Skun Mix)',\r\n        'Conclusion'\r\n    ];\r\n    \r\n    //UPDATED HERE - ADD THE DIV ONCE AND DON'T KEEP ADDING IT\r\n    $('.mainContainer').append('&lt;div class=\"textDiv\"&gt;&lt;/div&gt;');\r\n    $('.album:nth-child(1)').on('click', function(){\r\n        $('.album:nth-child(1)').removeClass('album');\r\n        $('.album').hide();\r\n        $('.checked').fadeIn(2000);\r\n\r\n        //UPDATED HERE - CREATE A SINGLE DIV ELEMENT TO APPEND TO\r\n        var elemList = $('&lt;div&gt;', {\r\n          class: 'textAreaDiv'\r\n        });\r\n        \r\n        for(i=0;i&lt;=$enterTheWuTang.length-1;i++){\r\n        \r\n        //UPDATED HERE - APPEND THE LIST ELEMENT TO YOUR DIV FROM ABOVE\r\n            $(elemList).append('&lt;div class=\"textAreaDiv\"&gt;'+ (i+1) + '.' +$enterTheWuTang[i]+'&lt;/div&gt;');\r\n        }\r\n        \r\n        //UPDATED HERE - UPDATE THE HTML FOR THAT DIV.\r\n        $('.textDiv').html(elemList);\r\n\r\n    });\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>::-webkit-scrollbar {\r\n    display: none;\r\n}\r\nbody{\r\n    margin:0;\r\n    padding: 0;\r\n    background-color: black;\r\n    font-family: 'Montserrat', sans-serif;\r\n}\r\n.container{\r\n    width:100%;\r\n    height:100%;\r\n}\r\nheader{\r\n    background-color:black;\r\n    width:100%;\r\n    height: 250px;\r\n    text-align: center;\r\n}\r\nheader .logo{\r\n    width:100%;\r\n    height: 250px;\r\n}\r\nheader .logo img{\r\n    text-align: center;\r\n    margin-top:25px;\r\n    width:250px;\r\n    height:200px;\r\n}\r\nmain{\r\n    width:100%;\r\n}\r\nmain .mainContainer{\r\n    padding-top:50px;\r\n    max-width:700px;\r\n    height:700px;\r\n    display:flex;\r\n    justify-content: space-around;\r\n    flex-wrap:wrap;\r\n    margin:0 auto;\r\n}\r\nmain .mainContainer article{\r\n    width:200px;\r\n    height: 200px;\r\n    text-align: center;\r\n    color:yellow;\r\n}\r\nmain .mainContainer article img{\r\n    width:200px;\r\n    height:200px;\r\n}\r\n.textDiv{\r\n    color:yellow;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head lang=\"pl\"&gt;\r\n    &lt;meta charset=\"utf-8\" /&gt;\r\n    &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"&gt;\r\n    &lt;title&gt;Wu-Tang Dyskografia&lt;/title&gt;\r\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\r\n\r\n    &lt;!-- Google Fonts --&gt;\r\n        &lt;link href=\"https://fonts.googleapis.com/css?family=Montserrat\" rel=\"stylesheet\"&gt;\r\n    &lt;!-- Google Fonts --&gt;\r\n\r\n    &lt;!-- CSS --&gt;\r\n    &lt;link rel=\"stylesheet\" type=\"text/css\" media=\"screen\" href=\"css/style.css\" /&gt;\r\n    &lt;!-- CSS --&gt;\r\n\r\n    &lt;!-- JavaScript --&gt;\r\n    &lt;script src=\"javascript/jquery.js\"&gt;&lt;/script&gt;\r\n    &lt;script src=\"javascript/script.js\"&gt;&lt;/script&gt;\r\n    &lt;!-- JavaScript --&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;div class=\"container\"&gt;\r\n        &lt;header&gt;\r\n            &lt;div class=\"logo\"&gt;\r\n                &lt;img src=\"images/logo.jpg\"/&gt;\r\n            &lt;/div&gt;\r\n        &lt;/header&gt;\r\n        &lt;main&gt;\r\n            &lt;div class=\"mainContainer\"&gt;\r\n            &lt;article class=\"album\"&gt;\r\n                &lt;div&gt;\r\n                    &lt;img src=\"images/covers/cover1.jpg\"/&gt;\r\n                    &lt;span&gt;Enter The Wu-Tang (36 chambers)&lt;/span&gt;\r\n                &lt;/div&gt;\r\n            &lt;/article&gt;\r\n\r\n            &lt;article class=\"album\"&gt;\r\n                &lt;div&gt;\r\n                    &lt;img src=\"images/covers/cover2.jpg\"/&gt;\r\n                    &lt;span&gt;Wu-Tang Forever&lt;/span&gt;\r\n                &lt;/div&gt;\r\n            &lt;/article&gt;\r\n\r\n            &lt;article class=\"album\"&gt;\r\n                &lt;div&gt;\r\n                    &lt;img src=\"images/covers/cover3.jpg\"/&gt;\r\n                    &lt;span&gt;The W&lt;/span&gt;\r\n                &lt;/div&gt;\r\n            &lt;/article&gt;\r\n\r\n            &lt;article class=\"album\"&gt;\r\n                &lt;div&gt;\r\n                    &lt;img src=\"images/covers/cover4.jpg\"/&gt;\r\n                    &lt;span&gt;Iron Flag&lt;/span&gt;\r\n                &lt;/div&gt;\r\n            &lt;/article&gt;\r\n\r\n            &lt;article class=\"album\"&gt;\r\n                &lt;div&gt;\r\n                    &lt;img src=\"images/covers/cover5.jpg\"/&gt;\r\n                    &lt;span&gt;8 Diagrams&lt;/span&gt;\r\n                &lt;/div&gt;\r\n            &lt;/article&gt;\r\n\r\n            &lt;article class=\"album\"&gt;\r\n                &lt;div&gt;\r\n                    &lt;img src=\"images/covers/cover6.jpg\"/&gt;\r\n                    &lt;span&gt;A Better Tomorrow&lt;/span&gt;\r\n                &lt;/div&gt;\r\n            &lt;/article&gt;\r\n        &lt;/div&gt;\r\n        &lt;/main&gt;\r\n    &lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>So basically, I updated your click function to do 3 different things. </p>\n\n<ol>\n<li><p>Add the div before you start appending things, this stops the elment from being added over and over again. </p></li>\n<li><p>Create a new element that we will append to. This creates a clean element start from.  </p></li>\n<li><p>Add the element outside of the for-loop once to append it once and for all. </p></li>\n</ol>\n"}], "owner": {"reputation": 89, "user_id": 8328235, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/HLgA3.jpg?s=128&g=1", "display_name": "Adam W.", "link": "https://stackoverflow.com/users/8328235/adam-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 53750986, "answer_count": 1, "score": 0, "last_activity_date": 1546347640, "creation_date": 1544646537, "last_edit_date": 1546347640, "question_id": 53750856, "link": "https://stackoverflow.com/questions/53750856/clicking-multiple-times-on-the-thumbnail-bugs-the-site-out-why", "title": "Clicking multiple times on the thumbnail bugs the site out. Why?", "body": "<p>I have this problem with the first thumbnail (top left). When i click on it, it shows the list of tracks in the album (as it should), but when i click one more time, while it's showing the list, the list shows one more time overlaping the first list. I've tried everything, sites, turorials, etc, bit i can't seem to fix this bug. Please help.</p>\n\n<p>PS.School project - please go easy:D</p>\n\n<p>Site code:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head lang=\"pl\"&gt;\n    &lt;meta charset=\"utf-8\" /&gt;\n    &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"&gt;\n    &lt;title&gt;Wu-Tang Dyskografia&lt;/title&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n\n    &lt;!-- Google Fonts --&gt;\n        &lt;link href=\"https://fonts.googleapis.com/css?family=Montserrat\" rel=\"stylesheet\"&gt;\n    &lt;!-- Google Fonts --&gt;\n\n    &lt;!-- CSS --&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" media=\"screen\" href=\"css/style.css\" /&gt;\n    &lt;!-- CSS --&gt;\n\n    &lt;!-- JavaScript --&gt;\n    &lt;script src=\"javascript/jquery.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"javascript/script.js\"&gt;&lt;/script&gt;\n    &lt;!-- JavaScript --&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=\"container\"&gt;\n        &lt;header&gt;\n            &lt;div class=\"logo\"&gt;\n                &lt;img src=\"images/logo.jpg\"/&gt;\n            &lt;/div&gt;\n        &lt;/header&gt;\n        &lt;main&gt;\n            &lt;div class=\"mainContainer\"&gt;\n            &lt;article class=\"album\"&gt;\n                &lt;div&gt;\n                    &lt;img src=\"images/covers/cover1.jpg\"/&gt;\n                    &lt;span&gt;Enter The Wu-Tang (36 chambers)&lt;/span&gt;\n                &lt;/div&gt;\n            &lt;/article&gt;\n\n            &lt;article class=\"album\"&gt;\n                &lt;div&gt;\n                    &lt;img src=\"images/covers/cover2.jpg\"/&gt;\n                    &lt;span&gt;Wu-Tang Forever&lt;/span&gt;\n                &lt;/div&gt;\n            &lt;/article&gt;\n\n            &lt;article class=\"album\"&gt;\n                &lt;div&gt;\n                    &lt;img src=\"images/covers/cover3.jpg\"/&gt;\n                    &lt;span&gt;The W&lt;/span&gt;\n                &lt;/div&gt;\n            &lt;/article&gt;\n\n            &lt;article class=\"album\"&gt;\n                &lt;div&gt;\n                    &lt;img src=\"images/covers/cover4.jpg\"/&gt;\n                    &lt;span&gt;Iron Flag&lt;/span&gt;\n                &lt;/div&gt;\n            &lt;/article&gt;\n\n            &lt;article class=\"album\"&gt;\n                &lt;div&gt;\n                    &lt;img src=\"images/covers/cover5.jpg\"/&gt;\n                    &lt;span&gt;8 Diagrams&lt;/span&gt;\n                &lt;/div&gt;\n            &lt;/article&gt;\n\n            &lt;article class=\"album\"&gt;\n                &lt;div&gt;\n                    &lt;img src=\"images/covers/cover6.jpg\"/&gt;\n                    &lt;span&gt;A Better Tomorrow&lt;/span&gt;\n                &lt;/div&gt;\n            &lt;/article&gt;\n        &lt;/div&gt;\n        &lt;/main&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>CSS:</p>\n\n<pre><code>::-webkit-scrollbar {\n    display: none;\n}\nbody{\n    margin:0;\n    padding: 0;\n    background-color: black;\n    font-family: 'Montserrat', sans-serif;\n}\n.container{\n    width:100%;\n    height:100%;\n}\nheader{\n    background-color:black;\n    width:100%;\n    height: 250px;\n    text-align: center;\n}\nheader .logo{\n    width:100%;\n    height: 250px;\n}\nheader .logo img{\n    text-align: center;\n    margin-top:25px;\n    width:250px;\n    height:200px;\n}\nmain{\n    width:100%;\n}\nmain .mainContainer{\n    padding-top:50px;\n    max-width:700px;\n    height:700px;\n    display:flex;\n    justify-content: space-around;\n    flex-wrap:wrap;\n    margin:0 auto;\n}\nmain .mainContainer article{\n    width:200px;\n    height: 200px;\n    text-align: center;\n    color:yellow;\n}\nmain .mainContainer article img{\n    width:200px;\n    height:200px;\n}\n.textDiv{\n    color:yellow;\n}\n</code></pre>\n\n<p>JS:</p>\n\n<pre><code>$(document).ready(function(){\n\n    var $enterTheWuTang = [\n        'Bring Da Ruckus',\n        'Shame On A Nigga',\n        'Clan In Da Front',\n        'Wu-Tang: 7th Chamber',\n        'Can It Be All So Simple',\n        'Da Mystery of Chessboxin',\n        'Wu-Tang Clan Aint Nuthing Ta F Wit',\n        'C.R.E.A.M.',\n        'Method Man',\n        'Protect Ya Neck',\n        'Tearz',\n        'Wu-Tang: 7th Chamber - Part II',\n        'Method Man (Skun Mix)',\n        'Conclusion'\n    ];\n\n    $('.album:nth-child(1)').on('click', function(){\n        $('.album:nth-child(1)').removeClass('album');\n        $('.album').hide();\n        $('.checked').fadeIn(2000);\n\n        $('.mainContainer').append('&lt;div class=\"textDiv\"&gt;&lt;/div&gt;');\n\n        for(i=0;i&lt;=$enterTheWuTang.length-1;i++){\n            $('.textDiv').append('&lt;div class=\"textAreaDiv\"&gt;'+ (i+1) + '.' +$enterTheWuTang[i]+'&lt;/div&gt;');\n        }\n\n    });\n});\n</code></pre>\n"}, {"tags": ["javascript", "google-apps-script", "google-sheets"], "comments": [{"owner": {"reputation": 23873, "user_id": 1595451, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/08TCi.jpg?s=128&g=1", "display_name": "Rub&#233;n", "link": "https://stackoverflow.com/users/1595451/rub%c3%a9n"}, "edited": false, "score": 0, "creation_date": 1544648533, "post_id": 53750822, "comment_id": 94355249, "body": "The post is too broad as it includes two question. This site requieres one question per post. Ref. <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. By the other hand, it&#39;s unclear as it doesn&#39;t clearly state where you are stuck. If you get an error message include it textually."}, {"owner": {"reputation": 33, "user_id": 9980458, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-SsA184Jplsw/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq1EAhI2s7X373cuUFYn45qAgyycaA/mo/photo.jpg?sz=128", "display_name": "Leilani", "link": "https://stackoverflow.com/users/9980458/leilani"}, "reply_to_user": {"reputation": 23873, "user_id": 1595451, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/08TCi.jpg?s=128&g=1", "display_name": "Rub&#233;n", "link": "https://stackoverflow.com/users/1595451/rub%c3%a9n"}, "edited": false, "score": 0, "creation_date": 1544649607, "post_id": 53750822, "comment_id": 94355676, "body": "@Rub&#233;n I have excluded the second half and added more details. Hopefully it will be more clear now."}, {"owner": {"reputation": 3992, "user_id": 1330560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d4869869f3ab6b5c0dd7d4affddf113?s=128&d=identicon&r=PG&f=1", "display_name": "Tedinoz", "link": "https://stackoverflow.com/users/1330560/tedinoz"}, "edited": false, "score": 0, "creation_date": 1545889344, "post_id": 53750822, "comment_id": 94719855, "body": "@Leilani How about <code>var currentCell = sheet.getCurrentCell();var currentRow = currentCell.getRow();var currentColumn = currentCell.getColumn();</code>? then take it from there."}], "owner": {"reputation": 33, "user_id": 9980458, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-SsA184Jplsw/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq1EAhI2s7X373cuUFYn45qAgyycaA/mo/photo.jpg?sz=128", "display_name": "Leilani", "link": "https://stackoverflow.com/users/9980458/leilani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1544721051, "creation_date": 1544646386, "last_edit_date": 1544721051, "question_id": 53750822, "link": "https://stackoverflow.com/questions/53750822/change-a-google-sheet-move-script-from-on-edit-to-manual", "title": "Change a google sheet move script from on edit to manual", "body": "<p>I am trying to change an OnEdit Script into a manually run script. </p>\n\n<p>The google script below works on Edit for copying a specific range of data (B:AJ) based on a \"Y\" being placed on AK to another spreadsheet with \"BZ\" spliced in, then moving the original row to another sheet within the same workbook. With it being based onEdit, it is causing the user to wait for the script to run before putting a \"Y\" in the next row. I would like to convert it to a manually run script that uses the menu function I already have available. </p>\n\n<p>OnEdit Script:</p>\n\n<pre><code>function myFunction(e) {\n  var sourceSheetName = \"Bretts Calendar with Accounting\";\n  var destinationSpreadsheetId = '1dSJOOw_oLVc6Nf-C0MY9715tZGuh69kR6-j_m8EJ-So';\n  var destinationSheetName = \"Unprocessed Acct Data\";\n\n  if (e.source.getSheetName() == sourceSheetName &amp;&amp; e.range.getColumn() == 37 &amp;&amp; e.value.toUpperCase() == \"Y\") {\n  var row = e.range.getRow();\n    var sourceValues = e.source.getRange(\"B\" + row + \":AK\" + row).getValues()[0];\n  var values = [sourceValues.slice(0, 35)];\n  values[0].unshift(\"BZ\");\n  var tss = SpreadsheetApp.openById(destinationSpreadsheetId);\n  var ts = tss.getSheetByName(destinationSheetName);\n  ts.getRange(ts.getLastRow() + 1, 2, values.length, values[0].length).setValues(values);\n  e.range.setValue(\"Copied\");\n  var destSheetName = \"Reviewed Bretts Calendar with Accounting\";\n  var destSheet = e.source.getSheetByName(destSheetName);\n  e.source.getActiveSheet().getRange(e.range.getRow(), 1, 1, e.source.getActiveSheet().getLastColumn()).moveTo(destSheet.getRange(destSheet.getLastRow() + 1 , 1, 1, e.source.getActiveSheet().getLastColumn()));\n    var destinationRange = ts.getRange(\"A2:AK\");\n    destinationRange.sort([{column: 6, ascending: true}, {column: 7, ascending: true}]); \n    e.source.getActiveSheet().deleteRow(e.range.getRow());  \n}\n}\n</code></pre>\n\n<p>I know how to add the script to a drop down menu which allows it to be manually run but I am lost on how to reference which row(s) for the script to grab as it is no longer on edit and if I need to loop the script so it catches all the lines 1 by 1 or if it has the ability to see all the rows and handle the copy, and move all at once. </p>\n\n<pre><code>function onOpen() {\n  var spreadsheet = SpreadsheetApp.getActive();\n  var menuItems = [\n    {name: 'Send Data', functionName: 'sendData_'},\n         ];\n  spreadsheet.addMenu('Click Me', menuItems);\n}\n\nfunction sendData_(){\n    var s = SpreadsheetApp.getActive().getSheetByName('Bretts Calendar with Accounting');\n    var destinationSpreadsheetId = '1dSJOOw_oLVc6Nf-C0MY9715tZGuh69kR6-j_m8EJ-So';\n    var destinationSheetName = \"Unprocessed Acct Data\";\n    s.getRange('B:AK').getValues().forEach(function (r,i){\n    if (r[36] == \"y\" || r[36] == \"Y\") {\n    var row = e.range.getRow();\n    var sourceValues = e.source.getRange(\"B\" + row + \":AK\" + row).getValues()[0];\n  var values = [sourceValues.slice(0, 35)];\n  values[0].unshift(\"BZ\");\n\n  var tss = SpreadsheetApp.openById(destinationSpreadsheetId);\n  var ts = tss.getSheetByName(destinationSheetName);\n  ts.getRange(ts.getLastRow() + 1, 2, values.length, values[0].length).setValues(values);\n  e.range.setValue(\"Copied\");\n  var destSheetName = \"Reviewed Bretts Calendar with Accounting\";\n  var destSheet = e.source.getSheetByName(destSheetName);\n  e.source.getActiveSheet().getRange(e.range.getRow(), 1, 1, e.source.getActiveSheet().getLastColumn()).moveTo(destSheet.getRange(destSheet.getLastRow() + 1 , 1, 1, e.source.getActiveSheet().getLastColumn()));\n    var destinationRange = ts.getRange(\"A2:AK\");\n    destinationRange.sort([{column: 6, ascending: true}, {column: 7, ascending: true}]); \n    e.source.getActiveSheet().deleteRow(e.range.getRow());  \n}\n    }\n  }\n</code></pre>\n\n<p>I have created to links to help: </p>\n\n<p><a href=\"https://docs.google.com/spreadsheets/d/1Qv9UidR5WJY6wDMli8yC1jY6gX1FROrgfHZKsdmOfI0/edit?usp=sharing\" rel=\"nofollow noreferrer\">Calendar</a></p>\n\n<p><a href=\"https://docs.google.com/spreadsheets/d/15r1WyUjjURr0KlsSU_GsuR3GOivBi37pEWXjIxKI5zw/edit?usp=sharing\" rel=\"nofollow noreferrer\">Acct</a></p>\n"}, {"tags": ["javascript", "node.js", "typescript", "backend", "nestjs"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10782728, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jsy_86OJSSc/AAAAAAAAAAI/AAAAAAAAADc/z_6Jp5jOdEI/photo.jpg?sz=128", "display_name": "Yariel Rojas Gonzalez", "link": "https://stackoverflow.com/users/10782728/yariel-rojas-gonzalez"}, "is_accepted": true, "score": 0, "last_activity_date": 1545337359, "creation_date": 1545337359, "answer_id": 53875523, "question_id": 53750806, "link": "https://stackoverflow.com/questions/53750806/celebrate-npm-package-with-nest-framework/53875523#53875523", "title": "celebrate npm package with Nest Framework", "body": "<p>The solution:</p>\n\n<p>In a file dedicated to the validations create the <code>middleware</code> with the <code>scheme</code> to use by <code>celebrate</code> (this would be a simple example for an authentication):</p>\n\n<pre><code>import { celebrate, Joi } from 'celebrate';\n\nexport const authenticate = celebrate({\n    headers: Joi.object().keys({\n        client: Joi.string().required(),\n        application: Joi.string().required(),\n    }).unknown(),\n    body: Joi.object().keys({\n        email: Joi.string().email().required(),\n        password: Joi.string().required(),\n    }),\n});\n</code></pre>\n\n<p>How to use it later? Import it in the module and apply it as a <code>middleware</code>, since <code>celebrate</code> returns a function of type <code>function (req, res, next)</code>:</p>\n\n<pre><code>import { Module, NestModule, MiddlewareConsumer, RequestMethod } from '@nestjs/common';\n// Others imports ...\nimport { authenticate } from './validations/authenticate.validation';\n\n\n@Module({\n    imports: [ // Your imports... ],\n    controllers: [ // Your controllers... ],\n    providers: [ // Your providers... ],\n})\nexport class AuthenticationModule implements NestModule {\n    configure(consumer: MiddlewareConsumer) {\n        // Validate Login.\n        consumer.apply(authenticate).forRoutes({ path: 'security/login', method: RequestMethod.POST });\n    }\n}\n</code></pre>\n\n<p>The <code>path</code> defined in the configuration must obviously match the <code>endpoint</code> of the controller:</p>\n\n<pre><code>import {\n    Body,\n    Post,\n    Headers,\n    Controller,\n} from '@nestjs/common';\n\n@Controller('security')\nexport class AuthenticationController {\n\n    @Post('login')\n    async authenticate(\n        @Body('email') email: string,\n        @Body('password') password: string,\n        @Headers('application') application: string): Promise&lt;any&gt; {\n\n        // Autenticate user\n    }\n}\n</code></pre>\n\n<p>References: </p>\n\n<p><a href=\"https://docs.nestjs.com/middleware\" rel=\"nofollow noreferrer\">https://docs.nestjs.com/middleware</a></p>\n\n<p><a href=\"https://www.npmjs.com/package/celebrate\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/celebrate</a></p>\n"}], "owner": {"reputation": 1, "user_id": 10782728, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jsy_86OJSSc/AAAAAAAAAAI/AAAAAAAAADc/z_6Jp5jOdEI/photo.jpg?sz=128", "display_name": "Yariel Rojas Gonzalez", "link": "https://stackoverflow.com/users/10782728/yariel-rojas-gonzalez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 285, "favorite_count": 0, "accepted_answer_id": 53875523, "answer_count": 1, "score": 0, "last_activity_date": 1545337359, "creation_date": 1544646266, "last_edit_date": 1544646738, "question_id": 53750806, "link": "https://stackoverflow.com/questions/53750806/celebrate-npm-package-with-nest-framework", "title": "celebrate npm package with Nest Framework", "body": "<p>Is there some way to use <a href=\"https://www.npmjs.com/package/celebrate\" rel=\"nofollow noreferrer\">celebrate NPM package</a> with <a href=\"https://nestjs.com/\" rel=\"nofollow noreferrer\">Nest Framework</a>? In the documentation they only refer to <a href=\"https://www.npmjs.com/package/class-validator\" rel=\"nofollow noreferrer\">class-validator</a>, but although this has many advantages I have used with Express and other frameworks the celebrate middleware to validate the request. In the case of Nest, the middleware configuration is done in the app.module.ts file, but in others as <a href=\"https://github.com/typestack/routing-controllers\" rel=\"nofollow noreferrer\">routing-controllers</a> the decorator @UseBefore is used for the middleware in the controllers, that is why I would appreciate any explanation, example or documentation how to use this middleware with Nest. Thanks!!</p>\n"}, {"tags": ["javascript", "sequelize.js", "sequelize-typescript"], "comments": [{"owner": {"reputation": 5341, "user_id": 8597510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I3rOM.jpg?s=128&g=1", "display_name": "Tsvetan Ganev", "link": "https://stackoverflow.com/users/8597510/tsvetan-ganev"}, "edited": false, "score": 0, "creation_date": 1544647484, "post_id": 53750801, "comment_id": 94354814, "body": "Why don&#39;t you use DataType.BOOLEAN?"}, {"owner": {"reputation": 9, "user_id": 5367575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04a683ce7f1f4ae9f9aac38639be08bd?s=128&d=identicon&r=PG&f=1", "display_name": "user5367575", "link": "https://stackoverflow.com/users/5367575/user5367575"}, "reply_to_user": {"reputation": 5341, "user_id": 8597510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I3rOM.jpg?s=128&g=1", "display_name": "Tsvetan Ganev", "link": "https://stackoverflow.com/users/8597510/tsvetan-ganev"}, "edited": false, "score": 0, "creation_date": 1544657461, "post_id": 53750801, "comment_id": 94358768, "body": "It&#39;s legacy code and database"}], "answers": [{"tags": [], "owner": {"reputation": 9, "user_id": 5367575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04a683ce7f1f4ae9f9aac38639be08bd?s=128&d=identicon&r=PG&f=1", "display_name": "user5367575", "link": "https://stackoverflow.com/users/5367575/user5367575"}, "is_accepted": false, "score": 0, "last_activity_date": 1544811815, "creation_date": 1544811815, "answer_id": 53785031, "question_id": 53750801, "link": "https://stackoverflow.com/questions/53750801/sequelize-call-getters-inside-where-operator/53785031#53785031", "title": "Sequelize: call getters inside where operator", "body": "<p>As a result, I use beforeFind hook</p>\n\n<pre><code>function propagateRequired(instance) {\n    // or add another operators (in, like)\n    instance.where.IsBoolean = !!instance.where.IsBoolean;\n}\n\nhooks: {\n  beforeFind: propagateRequired\n}\n</code></pre>\n\n<p>For getters/setters I can use </p>\n\n<ul>\n<li><p><code>getterMethods</code> and <code>setterMethods</code> in the model options</p></li>\n<li><p>or get/set (see my question) inside each field definition.</p></li>\n</ul>\n"}], "owner": {"reputation": 9, "user_id": 5367575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04a683ce7f1f4ae9f9aac38639be08bd?s=128&d=identicon&r=PG&f=1", "display_name": "user5367575", "link": "https://stackoverflow.com/users/5367575/user5367575"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544811815, "creation_date": 1544646231, "last_edit_date": 1544647058, "question_id": 53750801, "link": "https://stackoverflow.com/questions/53750801/sequelize-call-getters-inside-where-operator", "title": "Sequelize: call getters inside where operator", "body": "<p>I have Database with <code>IsBoolean</code> field.<br>\nIsBoolean can be <code>1</code> or <code>0</code>.<br>\nBut in Javascript/Typescript I have <code>true</code> or <code>false</code>. It's more convenient.<br></p>\n\n<p>I added getter to use pure boolean in Javascript.<br>\nI added setter to convert into 0/1 for Database.<br></p>\n\n<p>Model:</p>\n\n<pre><code>const Employee = function(sequelize, DataTypes) {\n    return sequelize.define('employee', {\n        // ...Id...\n        IsBoolean: {\n            type: DataTypes.INTEGER, // Bit: 0 or 1\n            allowNull: false,\n            get() {\n                const value = this.getDataValue('IsBoolean');\n                return !!value; // from number to boolean\n            },\n            set(value) {\n                // from boolean to number\n                this.setDataValue('IsBoolean', +value);\n            },\n        },\n    }, {\n        tableName: 'employee'\n    });\n};\n</code></pre>\n\n<p>Now I search instance:</p>\n\n<pre><code>Employee.findOne(\n    {\n        where: {\n            // getter is not being invoked\n            // IsBoolean: true, // doesn't work, Conversion failed\n            IsBoolean: 1, // works because I pass number\n        },\n    },\n).then((data) =&gt; {\n    const result = data.get({ plain: true }); // getter works\n});\n\n// setter works\nEmployee.update(\n        { IsBoolean: false },\n        { where: {Id: 100} },\n);\n</code></pre>\n\n<p>Getter works when I use <code>get({ plain: true })</code>.<br>\nSetter works for <code>update(..)</code> operation.<br>\nBut getter doesn't work inside <code>where</code> (and another operators).<br></p>\n\n<p>Is there any way to fire getters inside <code>where</code>?</p>\n\n<p><hr>\nAs variant I can use BeforeFind hook:</p>\n\n<pre><code>function propagateRequired(instance) {\n    instance.where.IsBoolean = !!instance.where.IsBoolean;\n}\n\nhooks: {\n  beforeFind: propagateRequired\n}\n</code></pre>\n\n<p>But I think it's too difficult.<br></p>\n"}, {"tags": ["javascript", "arrays", "json", "cascadingdropdown"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 10782777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8a3bd0971252eb16c9e1432763c46cb?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/10782777/sean"}, "is_accepted": true, "score": 2, "last_activity_date": 1544721175, "creation_date": 1544721175, "answer_id": 53766950, "question_id": 53750800, "link": "https://stackoverflow.com/questions/53750800/cascade-dropdown-json/53766950#53766950", "title": "Cascade Dropdown JSON", "body": "<p>Not elegant, but figured it out. Since it works I will close this. If anyone sees a way I can improve my code, by all means post your recommendations here.</p>\n\n<pre><code>$('#productcode').change(function() {\n\n                var lineval = $('#line').val();\n                var productcodeval = $(\"#productcode\").val();\n\n                var specSelected = jQuery.grep(specData, function(element, index) {\n\n                    if (element.linevalue == lineval) {\n\n                        return element.productcodelist;\n\n                    }\n                });\n\n                $('#tablename')\n                .find('option')\n                .remove()\n                .end();\n\n                $('#tablename')\n                .append('&lt;option&gt;Select Product Code&lt;/option&gt;')\n\n                for (productcodelist in specSelected) {\n                    for (tablenamelist in specSelected[productcodelist]) {\n                        for (productcodevalue in specSelected[productcodelist][tablenamelist]) {\n                            if(specSelected[productcodelist][tablenamelist][productcodevalue].productcodevalue == productcodeval) {\n                                for (tablenamevalue in specSelected[productcodelist][tablenamelist][productcodevalue]) {\n                                        $.each(specSelected[productcodelist][tablenamelist][productcodevalue][tablenamevalue], function(k, v) {\n                                            $('#tablename')\n                                                .append($('&lt;option&gt;', {value: v.tablenamevalue})\n                                                .text(v.tablenamevalue));\n\n                                        });\n                                }           \n                            }\n                        }\n                    }\n                }\n\n        });\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 10782777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8a3bd0971252eb16c9e1432763c46cb?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/10782777/sean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 327, "favorite_count": 0, "accepted_answer_id": 53766950, "answer_count": 1, "score": 1, "last_activity_date": 1544721175, "creation_date": 1544646227, "last_edit_date": 1544651376, "question_id": 53750800, "link": "https://stackoverflow.com/questions/53750800/cascade-dropdown-json", "title": "Cascade Dropdown JSON", "body": "<p>Yes, this has been posted many times. But I am unable to locate the assistance I need in the other posts. I have a JSON which I am using to populate cascading dropdowns. The initial population of the first dropdown works great, but I am unable to have the other two populate. I believe it is due to the nested arrays in JSON of which I have tried looping, nested looping etc......</p>\n\n<p>Here is my JSON:</p>\n\n<pre><code>\"DATA\": [\n    {\n      \"productcodelist\": [\n        {\n          \"tablenamelist\": [\n            {\n              \"tablenamevalue\": \"FryLineProcessGrading\"\n            }\n          ],\n          \"productcodevalue\": 10055440000148\n        },\n        {\n          \"tablenamelist\": [\n            {\n              \"tablenamevalue\": \"FryLineProcessGrading\"\n            }\n          ],\n          \"productcodevalue\": 10071179018124\n        },\n        {\n          \"tablenamelist\": [\n            {\n              \"tablenamevalue\": \"FryLineProcessGrading\"\n            },\n            {\n              \"tablenamevalue\": \"ProcessGradingFry\"\n            },\n            {\n              \"tablenamevalue\": \"UODrying\"\n            },\n            {\n              \"tablenamevalue\": \"UOFreezing\"\n            }\n          ],\n          \"productcodevalue\": 10071179036432\n        },\n        {\n          \"tablenamelist\": [\n            {\n              \"tablenamevalue\": \"FryLineProcessGrading\"\n            },\n            {\n              \"tablenamevalue\": \"ProcessGradingFry\"\n            },\n            {\n              \"tablenamevalue\": \"UODrying\"\n            },\n            {\n              \"tablenamevalue\": \"UOFreezing\"\n            }\n          ],\n          \"productcodevalue\": 10071179037545\n        },\n        {\n          \"tablenamelist\": [\n            {\n              \"tablenamevalue\": \"FryLineProcessGrading\"\n            },\n            {\n              \"tablenamevalue\": \"ProcessGradingFry\"\n            },\n            {\n              \"tablenamevalue\": \"UODrying\"\n            },\n            {\n              \"tablenamevalue\": \"UOFreezing\"\n            }\n          ],\n          \"productcodevalue\": 10071179037613\n        },\n        {\n          \"tablenamelist\": [\n            {\n              \"tablenamevalue\": \"FryLineProcessGrading\"\n            },\n            {\n              \"tablenamevalue\": \"ProcessGradingFry\"\n            },\n            {\n              \"tablenamevalue\": \"UODrying\"\n            },\n            {\n              \"tablenamevalue\": \"UOFreezing\"\n            }\n          ],\n          \"productcodevalue\": 10071179462033\n        }\n      ],\n      \"linevalue\": 1\n    },\n    {\n      \"productcodelist\": [\n        {\n          \"tablenamelist\": [\n            {\n              \"tablenamevalue\": \"HalverSizeCounts\"\n            }\n          ],\n          \"productcodevalue\": 10071179036449\n        }\n      ],\n      \"linevalue\": 2\n    },\n    {\n      \"productcodelist\": [\n        {\n          \"tablenamelist\": [\n            {\n              \"tablenamevalue\": \"MetalDetectorCheckSheet\"\n            }\n          ],\n          \"productcodevalue\": 10071179036432\n        }\n      ],\n      \"linevalue\": 10\n    }\n  ]\n}\n</code></pre>\n\n<p>Here is my JavaScript code:</p>\n\n<pre><code>    $(document).ready(function(){ \n\n    var specData = [];\n    var lineCategory = $('#line').val();\n    var productcodeCategory = $('#productcode').val();\n\n    $.ajax(\n        {\n        type: \"get\",\n        url: \"index.cfm?controller=ProcessSpecs&amp;Action=getSpecData\",\n        dataType: \"json\",\n        success: function(objResponse) {\n\n                    if (objResponse.SUCCESS == true) {\n                        specData = objResponse.DATA;\n\n                        $('#line')\n                            .append('&lt;option&gt;Select Lines&lt;/option&gt;')                \n\n                        $.each(specData, function(k, v) {\n                            $('#line')\n                                .append($('&lt;option&gt;', {value : v.linevalue})\n                                .text(v.linevalue))\n                        }); \n\n                        $('#line').val(linevalue).trigger('change');\n\n\n                    } else {\n\n                    }               \n                },\n\n                error: function(objRequest, strError) {\n\n                }\n        });\n\n    $('#line').change(function() {\n\n            var val = $(this).val();\n\n            var specSelected = jQuery.grep(specData, function(element, index) {\n\n                if (element.linevalue == val) {\n\n                    return element.productcodelist;\n\n                }\n            });\n\n            $('#productcode')\n                .find('option')\n                .remove()\n                .end();\n\n            $.each(specData.productcodelist, function(k, v) {\n                $('#productcode')\n                    .append($('&lt;option&gt;', {value: v.productcodevalue})\n                    .text(v.productcodevalue));         \n            });\n\n        });\n\n});\n</code></pre>\n\n<p>The #line change function will start but I am unable to get the productcodevalue to be created and populated in the productcode dropdown. The following code does work to get the JSON data that is associated with a specific line.</p>\n\n<pre><code>var specSelected = jQuery.grep(specData, function(element, index) {\n\n                if (element.linevalue == val) {\n\n                    return element.productcodelist;\n\n                }\n            });\n</code></pre>\n\n<p>Verified by adding:</p>\n\n<pre><code>alert(JSON.stringify(specSelected));\n</code></pre>\n\n<p>But after that anything I have tried or plagiarized has not worked in populating the productcodevalue into the #productcode select box.</p>\n\n<pre><code>&lt;form name=\"getSpecData\"&gt;\n        &lt;select name=\"line\" id=\"line\"&gt;\n\n        &lt;/select&gt;\n        &lt;select name=\"productcode\" id=\"productcode\"&gt;\n\n        &lt;/select&gt;\n        &lt;select name=\"tablename\" id=\"tablename\"&gt;\n\n        &lt;/select&gt;\n        &lt;input type=\"Submit\" value=\"Get Specs\" /&gt;\n    &lt;/form&gt;\n</code></pre>\n\n<p>Any advice, assistance, and or guidance is appreciated.</p>\n\n<p>Update: I have figured out how to populate the #productcode select. Not elegant, but workable.</p>\n\n<pre><code>$('#line').change(function() {\n\n            var val = $(this).val();\n\n            var specSelected = jQuery.grep(specData, function(element, index) {\n\n                if (element.linevalue == val) {\n\n                    return element.productcodelist;\n\n                }\n            });\n\n            $('#productcode')\n                .find('option')\n                .remove()\n                .end();\n\n            $('#productcode')\n                .append('&lt;option&gt;Select Product Code&lt;/option&gt;')\n\n            $('#tablename')\n                .append('&lt;option&gt;Select Product Code First&lt;/option&gt;')   \n\n            for (productcodelist in specSelected) {\n              for (tablenamelist in specSelected[productcodelist]) {\n                $.each(specSelected[productcodelist][tablenamelist], function(k, v) {\n                    $('#productcode')\n                        .append($('&lt;option&gt;', {value: v.productcodevalue})\n                        .text(v.productcodevalue));         \n                });\n              }\n            }\n        });\n</code></pre>\n\n<p>Still seeking advice on the third dropdown for tablename since it is a nested array that will need to equal the line and productcode dropdowns.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-material2"], "comments": [{"owner": {"reputation": 3465, "user_id": 4661771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/772656d123cd3d69c5a70cf2d95d5b4f?s=128&d=identicon&r=PG", "display_name": "Batajus", "link": "https://stackoverflow.com/users/4661771/batajus"}, "edited": false, "score": 0, "creation_date": 1544646317, "post_id": 53750722, "comment_id": 94354334, "body": "Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to ask</a> to improve your question."}, {"owner": {"reputation": 4660, "user_id": 4556423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dafcfc51c18a4c97540e884a7ddba5?s=128&d=identicon&r=PG&f=1", "display_name": "Rikin", "link": "https://stackoverflow.com/users/4556423/rikin"}, "edited": false, "score": 0, "creation_date": 1544647451, "post_id": 53750722, "comment_id": 94354801, "body": "please try to recreate your scenario may be on stackblitz: <a href=\"https://stackblitz.com/angular/ymoobndeelb\" rel=\"nofollow noreferrer\">stackblitz.com/angular/ymoobndeelb</a> so that people can look and help out further"}, {"owner": {"reputation": 3095, "user_id": 666490, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/31rKK.jpg?s=128&g=1", "display_name": "Gullu", "link": "https://stackoverflow.com/users/666490/gullu"}, "edited": false, "score": 0, "creation_date": 1544649690, "post_id": 53750722, "comment_id": 94355705, "body": "Sorry I am having hard time to recreate the issue in a sample. Sample works fine. Will delete this question if I am not able to post sample."}, {"owner": {"reputation": 3095, "user_id": 666490, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/31rKK.jpg?s=128&g=1", "display_name": "Gullu", "link": "https://stackoverflow.com/users/666490/gullu"}, "reply_to_user": {"reputation": 4660, "user_id": 4556423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dafcfc51c18a4c97540e884a7ddba5?s=128&d=identicon&r=PG&f=1", "display_name": "Rikin", "link": "https://stackoverflow.com/users/4556423/rikin"}, "edited": false, "score": 0, "creation_date": 1544650069, "post_id": 53750722, "comment_id": 94355873, "body": "@Rikin, finally able to reproduce. Here you go. <a href=\"https://stackblitz.com/edit/angular-table-sort-not-working\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-table-sort-not-working</a>"}, {"owner": {"reputation": 4660, "user_id": 4556423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dafcfc51c18a4c97540e884a7ddba5?s=128&d=identicon&r=PG&f=1", "display_name": "Rikin", "link": "https://stackoverflow.com/users/4556423/rikin"}, "edited": false, "score": 0, "creation_date": 1544651299, "post_id": 53750722, "comment_id": 94356446, "body": "@Gullu here&#39;s working example: <a href=\"https://stackblitz.com/angular/drqkekyagre\" rel=\"nofollow noreferrer\">stackblitz.com/angular/drqkekyagre</a>"}, {"owner": {"reputation": 3095, "user_id": 666490, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/31rKK.jpg?s=128&g=1", "display_name": "Gullu", "link": "https://stackoverflow.com/users/666490/gullu"}, "reply_to_user": {"reputation": 4660, "user_id": 4556423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dafcfc51c18a4c97540e884a7ddba5?s=128&d=identicon&r=PG&f=1", "display_name": "Rikin", "link": "https://stackoverflow.com/users/4556423/rikin"}, "edited": false, "score": 0, "creation_date": 1544651464, "post_id": 53750722, "comment_id": 94356524, "body": "@Rikin, please read my question. I have to load data on ngonchanges(). When you have an input param to any component and when that param changes..onchanges is fired."}], "answers": [{"comments": [{"owner": {"reputation": 4660, "user_id": 4556423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dafcfc51c18a4c97540e884a7ddba5?s=128&d=identicon&r=PG&f=1", "display_name": "Rikin", "link": "https://stackoverflow.com/users/4556423/rikin"}, "edited": false, "score": 0, "creation_date": 1544652160, "post_id": 53751980, "comment_id": 94356850, "body": "OP&#39;s question is that empty header displays and if OP applies <code>*ngIf=&quot;dataSource.data&quot;</code> sorting breaks."}, {"owner": {"reputation": 8042, "user_id": 6581173, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WPmod.png?s=128&g=1", "display_name": "Marshal", "link": "https://stackoverflow.com/users/6581173/marshal"}, "reply_to_user": {"reputation": 4660, "user_id": 4556423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dafcfc51c18a4c97540e884a7ddba5?s=128&d=identicon&r=PG&f=1", "display_name": "Rikin", "link": "https://stackoverflow.com/users/4556423/rikin"}, "edited": false, "score": 0, "creation_date": 1544652197, "post_id": 53751980, "comment_id": 94356871, "body": "Please see revision."}, {"owner": {"reputation": 3095, "user_id": 666490, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/31rKK.jpg?s=128&g=1", "display_name": "Gullu", "link": "https://stackoverflow.com/users/666490/gullu"}, "edited": false, "score": 0, "creation_date": 1544653153, "post_id": 53751980, "comment_id": 94357268, "body": "@Marshal, works exactly like i want and answers question. But what the heck is &quot;setTimeout() to establish the link on the digest cycle&quot;. Is there any link online to read up on this. What should I google for ? Thanks"}, {"owner": {"reputation": 8042, "user_id": 6581173, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WPmod.png?s=128&g=1", "display_name": "Marshal", "link": "https://stackoverflow.com/users/6581173/marshal"}, "reply_to_user": {"reputation": 3095, "user_id": 666490, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/31rKK.jpg?s=128&g=1", "display_name": "Gullu", "link": "https://stackoverflow.com/users/666490/gullu"}, "edited": false, "score": 0, "creation_date": 1544654004, "post_id": 53751980, "comment_id": 94357604, "body": "@Gullu please see revision with further detail"}], "tags": [], "owner": {"reputation": 8042, "user_id": 6581173, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WPmod.png?s=128&g=1", "display_name": "Marshal", "link": "https://stackoverflow.com/users/6581173/marshal"}, "is_accepted": true, "score": 3, "last_activity_date": 1544654534, "last_edit_date": 1544654534, "creation_date": 1544651789, "answer_id": 53751980, "question_id": 53750722, "link": "https://stackoverflow.com/questions/53750722/datasource-sort-broken-when-ngif-is-applied-on-table-to-fix-flicker/53751980#53751980", "title": "dataSource.sort broken when *ngIf is applied on table to fix flicker", "body": "<p><strong>Please Note:</strong> You have to wrap <code>this.dataSource.sort = this.sort</code> in a <code>setTimeout()</code> to establish the link on the digest cycle, without it, the <code>@ViewChild(MatSort) sort: MatSort</code> is undefined due to the <code>*ngIf</code>.</p>\n\n<pre><code>ngOnChanges() {\n    const ELEMENT_DATA1: PeriodicElement[] = [\n      { position: 1, name: 'Hydrogen', weight: 1.0079, symbol: 'H' },\n      { position: 2, name: 'Helium', weight: 4.0026, symbol: 'He' },\n      { position: 3, name: 'Lithium', weight: 6.941, symbol: 'Li' },\n      { position: 4, name: 'Beryllium', weight: 9.0122, symbol: 'Be' },\n      { position: 5, name: 'Boron', weight: 10.811, symbol: 'B' },\n      { position: 6, name: 'Carbon', weight: 12.0107, symbol: 'C' },\n      { position: 7, name: 'Nitrogen', weight: 14.0067, symbol: 'N' },\n      { position: 8, name: 'Oxygen', weight: 15.9994, symbol: 'O' },\n      { position: 9, name: 'Fluorine', weight: 18.9984, symbol: 'F' },\n      { position: 10, name: 'Neon', weight: 20.1797, symbol: 'Ne' },\n\n    ];\n    this.dataSource.data = ELEMENT_DATA1;\n\n    console.log(this.sort) //undefined\n    setTimeout(() =&gt; {\n      console.log(this.sort) //not undefined\n      this.dataSource.sort = this.sort; \n    })\n\n  }\n</code></pre>\n\n<p><strong>Stackblitz</strong></p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-table-sort-not-working-pv8yap?embed=1&amp;file=app/table-sorting-example.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-table-sort-not-working-pv8yap?embed=1&amp;file=app/table-sorting-example.ts</a></p>\n\n<hr>\n\n<p>Digest Cycle is a term defined in the AngularJS days... see this SO answer for more information.... Believe it is now more commonly referred to as <code>Change Detection</code></p>\n\n<blockquote>\n  <p>Angular defines a concept of a so called digest cycle. This cycle can\n  be considered as a loop, during which Angular checks if there are any\n  changes to all the variables watched by all the $scopes. So if you\n  have $scope.myVar defined in your controller and this variable was\n  marked for being watched, then you are explicitly telling Angular to\n  monitor the changes on myVar in each iteration of the loop.</p>\n</blockquote>\n\n<p><a href=\"https://stackoverflow.com/questions/42247443/angular-what-triggers-the-digest-cycle-for-2-way-data-bindings\">Angular - what triggers the digest cycle for 2 way data bindings?</a></p>\n\n<hr>\n\n<p>See this non Angular specific answer for why <code>setTmiout()</code> works.</p>\n\n<blockquote>\n  <p>A browser has to do a number of things pretty much all at once, and\n  just one of those is execute JavaScript. But one of the things\n  JavaScript is very often used for is to ask the browser to build a\n  display element. This is often assumed to be done synchronously\n  (particularly as JavaScript is not executed in parallel) but there is\n  no guarantee this is the case and JavaScript does not have a\n  well-defined mechanism for waiting.</p>\n  \n  <p>The solution is to \"pause\" the JavaScript execution to let the\n  rendering threads catch up. And this is the effect that setTimeout()\n  with a timeout of 0 does. It is like a thread/process yield in C.\n  Although it seems to say \"run this immediately\" it actually gives the\n  browser a chance to finish doing some non-JavaScript things that have\n  been waiting to finish before attending to this new piece of\n  JavaScript.</p>\n</blockquote>\n\n<p><a href=\"https://stackoverflow.com/questions/779379/why-is-settimeoutfn-0-sometimes-useful\">Why is setTimeout(fn, 0) sometimes useful?</a></p>\n\n<hr>\n\n<p><strong>In Summary</strong></p>\n\n<p>Digest Cycle/Change Detection commonly refers to the non-Angular browser related task such as rendering a view item etc... in this example, your <code>ngOnchange()</code> was not waiting for the rendering threads, created by your <code>*ngIf</code> becoming true, to complete in the browser... and was trying to bind the <code>@ViewChild</code> view reference before it was actually there on the DOM... </p>\n\n<ul>\n<li>Reason one console.log was undefined </li>\n<li>And the other inside of the <code>setTimeout()</code> was not</li>\n</ul>\n\n<p>Wrapping that line of code in the <code>setTimeout()</code> made it wait for the browser to finish its rendering task created by your <code>*ngIf</code>.</p>\n"}], "owner": {"reputation": 3095, "user_id": 666490, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/31rKK.jpg?s=128&g=1", "display_name": "Gullu", "link": "https://stackoverflow.com/users/666490/gullu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 829, "favorite_count": 0, "accepted_answer_id": 53751980, "answer_count": 1, "score": 0, "last_activity_date": 1544654534, "creation_date": 1544645844, "last_edit_date": 1544653102, "question_id": 53750722, "link": "https://stackoverflow.com/questions/53750722/datasource-sort-broken-when-ngif-is-applied-on-table-to-fix-flicker", "title": "dataSource.sort broken when *ngIf is applied on table to fix flicker", "body": "<p>Regarding material table in angular 2 . In my ngonit() I have this.mydatasource.sort = this.sort. The sorting works but while the data is loading  I briefly see the table header (flicker) and then whole table appears. As soon as I do a table ngif=\"mytabledata\" the header flicker goes away and the whole table with data appears at once like I want but now the sort does not work since when it hits ngonit my data is not loaded. (data is loaded on ngonchanges that is fired when input param changes). How can I fix this conundrum ? </p>\n"}, {"tags": ["javascript", "webpack"], "comments": [{"owner": {"reputation": 2155, "user_id": 6348157, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/rwyJ2.png?s=128&g=1", "display_name": "Jalal", "link": "https://stackoverflow.com/users/6348157/jalal"}, "edited": false, "score": 0, "creation_date": 1544647793, "post_id": 53750504, "comment_id": 94354956, "body": "still not good idea to bundle dependencies with your package."}, {"owner": {"reputation": 1647, "user_id": 1827242, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/be67316df5ef531cc3fc58a0c0394a98?s=128&d=identicon&r=PG", "display_name": "Daniel San", "link": "https://stackoverflow.com/users/1827242/daniel-san"}, "reply_to_user": {"reputation": 2155, "user_id": 6348157, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/rwyJ2.png?s=128&g=1", "display_name": "Jalal", "link": "https://stackoverflow.com/users/6348157/jalal"}, "edited": false, "score": 0, "creation_date": 1544650999, "post_id": 53750504, "comment_id": 94356290, "body": "My package is a web application so it make sense to bundle all dependencies in it"}], "answers": [{"comments": [{"owner": {"reputation": 1647, "user_id": 1827242, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/be67316df5ef531cc3fc58a0c0394a98?s=128&d=identicon&r=PG", "display_name": "Daniel San", "link": "https://stackoverflow.com/users/1827242/daniel-san"}, "edited": false, "score": 0, "creation_date": 1544650493, "post_id": 53750951, "comment_id": 94356071, "body": "The package x contains a umd file referenced in main field and a es2015 entry point referenced in module field of package.json.  The packages y, z might use browser resolve by default. If I set webpack to resolve to main by default, x will work but y and z might not (in this case y and z are lot of dependencies and not just two. And I dont like the idea of testing the application manually to see if any dependency that is now resolved as main fails. Because main is supposed to be for node, and the application is web)"}, {"owner": {"reputation": 8186, "user_id": 2127277, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/ciCPW.png?s=128&g=1", "display_name": "Dimitri Kopriwa", "link": "https://stackoverflow.com/users/2127277/dimitri-kopriwa"}, "reply_to_user": {"reputation": 1647, "user_id": 1827242, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/be67316df5ef531cc3fc58a0c0394a98?s=128&d=identicon&r=PG", "display_name": "Daniel San", "link": "https://stackoverflow.com/users/1827242/daniel-san"}, "edited": false, "score": 0, "creation_date": 1544651420, "post_id": 53750951, "comment_id": 94356500, "body": "<code>main</code> is not supposed to be for node. <code>main</code> is the entrypoint by default for all npm packages. Read <a href=\"https://docs.npmjs.com/files/package.json#main\" rel=\"nofollow noreferrer\">docs.npmjs.com/files/package.json#main</a>"}, {"owner": {"reputation": 1647, "user_id": 1827242, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/be67316df5ef531cc3fc58a0c0394a98?s=128&d=identicon&r=PG", "display_name": "Daniel San", "link": "https://stackoverflow.com/users/1827242/daniel-san"}, "edited": false, "score": 0, "creation_date": 1544651808, "post_id": 53750951, "comment_id": 94356668, "body": "browser is browser specific, main is a general entry point and finally module is a newer format used in case the bundler works with ES modules (webpack does). The point is if some dependency other than x uses browser as entry point because main is used just for node, then I have a problem there"}, {"owner": {"reputation": 8186, "user_id": 2127277, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/ciCPW.png?s=128&g=1", "display_name": "Dimitri Kopriwa", "link": "https://stackoverflow.com/users/2127277/dimitri-kopriwa"}, "reply_to_user": {"reputation": 1647, "user_id": 1827242, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/be67316df5ef531cc3fc58a0c0394a98?s=128&d=identicon&r=PG", "display_name": "Daniel San", "link": "https://stackoverflow.com/users/1827242/daniel-san"}, "edited": false, "score": 0, "creation_date": 1544652478, "post_id": 53750951, "comment_id": 94356988, "body": "I am using webpack 4, module and main. You should not worry about if the ESM version is used. Webpack will try to use the ESM build and if it fail, it will use the main. ESM is experimental, I&#39;ve been exporting both, ESM (using rollup) and CJS, webpack can handle that without additional setup"}, {"owner": {"reputation": 1647, "user_id": 1827242, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/be67316df5ef531cc3fc58a0c0394a98?s=128&d=identicon&r=PG", "display_name": "Daniel San", "link": "https://stackoverflow.com/users/1827242/daniel-san"}, "edited": false, "score": 0, "creation_date": 1544653065, "post_id": 53750951, "comment_id": 94357229, "body": "Yo mean with a loader?"}, {"owner": {"reputation": 8186, "user_id": 2127277, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/ciCPW.png?s=128&g=1", "display_name": "Dimitri Kopriwa", "link": "https://stackoverflow.com/users/2127277/dimitri-kopriwa"}, "reply_to_user": {"reputation": 1647, "user_id": 1827242, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/be67316df5ef531cc3fc58a0c0394a98?s=128&d=identicon&r=PG", "display_name": "Daniel San", "link": "https://stackoverflow.com/users/1827242/daniel-san"}, "edited": false, "score": 0, "creation_date": 1544677989, "post_id": 53750951, "comment_id": 94363187, "body": "No, loader are another concept of Webpack and that&#39;s totally unrelated."}], "tags": [], "owner": {"reputation": 8186, "user_id": 2127277, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/ciCPW.png?s=128&g=1", "display_name": "Dimitri Kopriwa", "link": "https://stackoverflow.com/users/2127277/dimitri-kopriwa"}, "is_accepted": false, "score": 0, "last_activity_date": 1544725514, "last_edit_date": 1544725514, "creation_date": 1544646969, "answer_id": 53750951, "question_id": 53750504, "link": "https://stackoverflow.com/questions/53750504/how-to-transpile-node-module-dependencies-coming-as-es-module/53750951#53750951", "title": "How to transpile node_module dependencies coming as ES module?", "body": "<p>Some package writers distributes their ES6 sources, some other don't.</p>\n\n<p>If you can figure out what \"modern JavaScript syntax\" the dependency is using, In general, the standard format for distributing a module is called <strong>CJS</strong> or <strong>Common JS</strong>.</p>\n\n<p>If the author of the package you are trying to use did not export <strong>CJS</strong> from it's bundle (in 99% they do), then you don't need to transpile anything.</p>\n\n<p>What do you mean by \"the other ones\"?</p>\n\n<p>Be sure to import the right sources.</p>\n"}], "owner": {"reputation": 1647, "user_id": 1827242, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/be67316df5ef531cc3fc58a0c0394a98?s=128&d=identicon&r=PG", "display_name": "Daniel San", "link": "https://stackoverflow.com/users/1827242/daniel-san"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 167, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1544725514, "creation_date": 1544644767, "last_edit_date": 1544725335, "question_id": 53750504, "link": "https://stackoverflow.com/questions/53750504/how-to-transpile-node-module-dependencies-coming-as-es-module", "title": "How to transpile node_module dependencies coming as ES module?", "body": "<p>A dependency package that I'm using only has <code>module</code> and <code>main</code> as entry points. By default, the webpack version I'm using resolves to module entry point first. If I set <code>resolve.mainFields</code> to <code>main</code> in webpack configuration, I might affect other dependencies that were being resolved by 'browser' entry point by default. </p>\n\n<p>So, the question is, how can I transpile a dependency like that and have it bundled in my bundle in ES5?</p>\n"}, {"tags": ["javascript", "html", "css", "electron"], "comments": [{"owner": {"reputation": 756, "user_id": 10731197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MMlHg.jpg?s=128&g=1", "display_name": "Kresimir", "link": "https://stackoverflow.com/users/10731197/kresimir"}, "edited": false, "score": 1, "creation_date": 1544646318, "post_id": 53750490, "comment_id": 94354335, "body": "Electron does not seem to work nice with windows scaling set to 150%. <a href=\"https://github.com/electron/electron/issues/8062\" rel=\"nofollow noreferrer\">github.com/electron/electron/issues/8062</a>"}], "answers": [{"tags": [], "owner": {"reputation": 73, "user_id": 9160027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93fa9af075aedde223a61d856d01a197?s=128&d=identicon&r=PG&f=1", "display_name": "Chad Plourde", "link": "https://stackoverflow.com/users/9160027/chad-plourde"}, "is_accepted": false, "score": 0, "last_activity_date": 1544648076, "creation_date": 1544648076, "answer_id": 53751190, "question_id": 53750490, "link": "https://stackoverflow.com/questions/53750490/viewheight-units-in-electron-inconsistent-with-windows-scaling-on-two-different/53751190#53751190", "title": "Viewheight units in Electron inconsistent with Windows scaling on two different laptops with the same resolution", "body": "<p>This ended up being an oversight on my end, and was actually an Electron issue (not css). I had a minimum window size defined that was meant to be commented out, so since there weren't enough pixels for the height of the screen the window itself was being stretched outside of the screen.</p>\n"}], "owner": {"reputation": 73, "user_id": 9160027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93fa9af075aedde223a61d856d01a197?s=128&d=identicon&r=PG&f=1", "display_name": "Chad Plourde", "link": "https://stackoverflow.com/users/9160027/chad-plourde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 139, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544655378, "creation_date": 1544644726, "last_edit_date": 1544655378, "question_id": 53750490, "link": "https://stackoverflow.com/questions/53750490/viewheight-units-in-electron-inconsistent-with-windows-scaling-on-two-different", "title": "Viewheight units in Electron inconsistent with Windows scaling on two different laptops with the same resolution", "body": "<p>CSS:    </p>\n\n<pre><code>body {\n      margin: 0;\n      padding: 0;\n      width: 100vw;\n      height: 100vh;\n      position: relative;\n    }\n\n    .example {\n      position: absolute;\n      width: 60px;\n      left: calc(50vw - 30px);\n      bottom: 20px;\n    }\n</code></pre>\n\n<p>On my personal laptop and most laptops I've tested on so far (1920x1080 resolution), the .example div is positioned correctly 20px from the bottom of the window.</p>\n\n<p>However my bosses laptop is shows the example cut off on the bottom of the screen. It's lower than it should be. </p>\n\n<p>The body size is taller than the 100vh when Window's built in window scaling is enabled. He has the scaling set to 150%.</p>\n\n<p>When I use the exact same settings on my laptop (1080p, 150% scaling), everything looks as it should.</p>\n\n<p>Are there any other factors that could be at play here? I'm not sure what else I could be missing. Please let me know if you need more information. Thank you.</p>\n\n<p>edit: this is in an Electron based app that is fullscreen with no frame, if that's useful for anything.</p>\n"}, {"tags": ["javascript", "google-apps-script", "google-sheets"], "answers": [{"comments": [{"owner": {"reputation": 406, "user_id": 10782727, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XZ_uZZmJMXw/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iUA5-Hy0Wnxe12ZN1Y_EhmKcqzSA/mo/photo.jpg?sz=128", "display_name": "Matthew Wolman", "link": "https://stackoverflow.com/users/10782727/matthew-wolman"}, "edited": false, "score": 0, "creation_date": 1544646565, "post_id": 53750649, "comment_id": 94354425, "body": "This answer also worked! I went to <a href=\"https://script.google.com/home/my\" rel=\"nofollow noreferrer\">script.google.com/home/my</a> and the &#39;My Triggers&#39; button brought me to the same page that pnuts lead me to. Thank you for your help!"}], "tags": [], "owner": {"reputation": 58, "user_id": 5725275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c91c552e8d77954094ccd8ed92e5966e?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/5725275/eric"}, "is_accepted": false, "score": 0, "last_activity_date": 1544645495, "creation_date": 1544645495, "answer_id": 53750649, "question_id": 53750470, "link": "https://stackoverflow.com/questions/53750470/track-down-google-apps-script-that-sends-e-mail/53750649#53750649", "title": "track down google apps script that sends e-mail", "body": "<p>(I don't have the minimum reputation to put a comment)</p>\n\n<p>It sounds like there are a lot of moving pieces going on here. Without narrowing down your search criteria it may be difficult to easily isolate the file in question. It may be possible to put some kind of unique stamp in the emails that can be correlated with the underlying file in question.</p>\n\n<p>You may be able to go to <a href=\"https://script.google.com/home/my\" rel=\"nofollow noreferrer\">https://script.google.com/home/my</a> and on the right side of the page opening the settings for each project you can click on \"Executions\" to start digging into the scripts that are running.</p>\n"}, {"comments": [{"owner": {"reputation": 406, "user_id": 10782727, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XZ_uZZmJMXw/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iUA5-Hy0Wnxe12ZN1Y_EhmKcqzSA/mo/photo.jpg?sz=128", "display_name": "Matthew Wolman", "link": "https://stackoverflow.com/users/10782727/matthew-wolman"}, "edited": false, "score": 1, "creation_date": 1544646468, "post_id": 53750658, "comment_id": 94354392, "body": "Tools &gt; Script Editor &gt; Edit &gt; All your triggers is exactly what I needed! I tried to vote this answer as the best answer but it wouldn&#39;t let me. Thank you mate! This page lists all of the functions that were run by a trigger. It shows the file name on the left hand side and the name of the trigger on the right hand side. Fortunately for me, I named the function appropriately so when I scanned through the functions I found it! Thank you again!"}], "tags": [], "owner": {"reputation": 54586, "user_id": 1505120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f49dbeced705687b92e851736d48f208?s=128&d=identicon&r=PG", "display_name": "pnuts", "link": "https://stackoverflow.com/users/1505120/pnuts"}, "is_accepted": true, "score": 1, "last_activity_date": 1544645978, "last_edit_date": 1544645978, "creation_date": 1544645548, "answer_id": 53750658, "question_id": 53750470, "link": "https://stackoverflow.com/questions/53750470/track-down-google-apps-script-that-sends-e-mail/53750658#53750658", "title": "track down google apps script that sends e-mail", "body": "<p><code>Last run</code> in My Triggers (Tools > Script Editor > Edit > Current project's triggers or All your triggers) should narrow you search.</p>\n\n<p>Tools > File Open offers <code>My Projects</code> on the left.</p>\n"}], "owner": {"reputation": 406, "user_id": 10782727, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XZ_uZZmJMXw/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iUA5-Hy0Wnxe12ZN1Y_EhmKcqzSA/mo/photo.jpg?sz=128", "display_name": "Matthew Wolman", "link": "https://stackoverflow.com/users/10782727/matthew-wolman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 53750658, "answer_count": 2, "score": 1, "last_activity_date": 1544645978, "creation_date": 1544644645, "question_id": 53750470, "link": "https://stackoverflow.com/questions/53750470/track-down-google-apps-script-that-sends-e-mail", "title": "track down google apps script that sends e-mail", "body": "<p>I tried looking at other questions and didn't find anything specific enough to help me in my situation.</p>\n\n<p>I have main google sheets that I work off of and I am constantly writing new codes in the script tool to help my team and provide information to our customers. Something that I started doing (which is probably a bad practice in hindsight) is creating new google sheets and using SpreadsheetApp.openByUrl() to manipulate the sheets we work off of without writing thousands of line of code into the original sheets code file. I've been doing this for a while and due to lack of organization, I can't seem to find a google sheet I created that runs through one of my main sheets and sends an e-mail to one of our customers. </p>\n\n<p>I send myself the e-mail as well, so I get the e-mail every day. No where in the e-mail is there anything that traces back to the file that the code is ran off of. I realized that the code never does anything on it's own file, so that file does not get pushed up to the top of my file list when I sort by last edited (in Drive).</p>\n\n<p>Does anyone know of any way I can track down this file? Is there a way to get a list of all code projects I have in my account? Please let me know. Thank you!</p>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 153, "user_id": 10634638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JJGEM.jpg?s=128&g=1", "display_name": "bestinamir", "link": "https://stackoverflow.com/users/10634638/bestinamir"}, "edited": false, "score": 0, "creation_date": 1544644971, "post_id": 53750444, "comment_id": 94353763, "body": "Why do you need 2 forms listForm and myForm? Cannot find either form in your html source (only in your JavaScript).."}, {"owner": {"reputation": 29, "user_id": 10527681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ad450308b188b83f4eaf5613646a398?s=128&d=identicon&r=PG&f=1", "display_name": "iDrax", "link": "https://stackoverflow.com/users/10527681/idrax"}, "reply_to_user": {"reputation": 153, "user_id": 10634638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JJGEM.jpg?s=128&g=1", "display_name": "bestinamir", "link": "https://stackoverflow.com/users/10634638/bestinamir"}, "edited": false, "score": 0, "creation_date": 1544645737, "post_id": 53750444, "comment_id": 94354085, "body": "To reset those 2 inputs"}, {"owner": {"reputation": 153, "user_id": 10634638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JJGEM.jpg?s=128&g=1", "display_name": "bestinamir", "link": "https://stackoverflow.com/users/10634638/bestinamir"}, "edited": false, "score": 0, "creation_date": 1544646042, "post_id": 53750444, "comment_id": 94354215, "body": "The submit buttons need to be inside form tag.."}], "owner": {"reputation": 29, "user_id": 10527681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ad450308b188b83f4eaf5613646a398?s=128&d=identicon&r=PG&f=1", "display_name": "iDrax", "link": "https://stackoverflow.com/users/10527681/idrax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1544644611, "creation_date": 1544644509, "last_edit_date": 1544644611, "question_id": 53750444, "link": "https://stackoverflow.com/questions/53750444/analize-and-match-comments-with-words-via-a-for-loop-function", "title": "Analize and match comments with words via a for loop function", "body": "<p>So i want to analize the first already inserted comment too, and match those 4 words with the comment(if they match, the comment will be bordered with blue line). The problem is, when i want to match them something is going wrong. the function is ignoring the first comment and shows error with inpuText.textContent. When i add a new comment and i want to match that new comment with a new inserted word that works fine. The final process is: To take all the words(already existed, or input words), all the comments and match them, independently of numbers of comments and words. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function myFunction() {\r\n  document.getElementById(\"myForm\").reset();\r\n}\r\n\r\n\r\nfunction createparagraph() {\r\n  var commentdiv = document.createElement(\"div\");\r\n  commentdiv.id = \"comment\";\r\n  commentdiv.className = \"col-md-12 bordered commentdiv\"\r\n  var imagediv = document.createElement(\"div\");\r\n  imagediv.id = \"imagediv\";\r\n  imagediv.className = \"col-md-2 bordered logo\";\r\n  var logoimg = document.createElement(\"img\");\r\n  logoimg.id = \"logoimage\";\r\n  logoimg.setAttribute(\"src\", \"logo.jpg\");\r\n  var paragraphdiv = document.createElement(\"div\");\r\n  paragraphdiv.id = \"paragraphdiv\"\r\n  paragraphdiv.className = \"col-md-10 para bordered paragraphdiv\";\r\n  var inputtext = document.getElementById(\"textarea\").value;\r\n  var createp = document.createElement(\"P\");\r\n  createp.className = \"commentpgraph\";\r\n  createp.id = \"commentparagraph\";\r\n  var it = document.createTextNode(inputtext);\r\n  var area = document.getElementById(\"pgraf\");\r\n  createp.appendChild(it);\r\n  commentdiv.appendChild(imagediv);\r\n  commentdiv.appendChild(paragraphdiv);\r\n  paragraphdiv.appendChild(createp);\r\n  imagediv.appendChild(logoimg);\r\n  document.getElementById(\"commentsec\").appendChild(commentdiv);\r\n  var list = document.getElementsByClassName(\"commentdiv\");\r\n  for (var i = 0; i &lt; list.length; i++) {\r\n    list[i].setAttribute(\"id\", \"comment\" + i);\r\n  }\r\n  var pgraph = document.getElementsByClassName(\"commentpgraph\");\r\n  for (var i = 0; i &lt; pgraph.length; i++) {\r\n    pgraph[i].setAttribute(\"id\", \"commentparagraph\" + i);\r\n  }\r\n  var paragraphdiv = document.getElementsByClassName(\"paragraphdiv\");\r\n  for (var i = 0; i &lt; paragraphdiv.length; i++) {\r\n    paragraphdiv[i].setAttribute(\"id\", \"paragraphdiv\" + i);\r\n  }\r\n  myFunction();\r\n\r\n}\r\n\r\nfunction listFunction() {\r\n  document.getElementById(\"listForm\").reset();\r\n}\r\n\r\nfunction creatediv() {\r\n  var newdiv = document.createElement(\"div\");\r\n  newdiv.id = \"blacklisttab\" + i;\r\n  newdiv.className = \"col-md-10 col-md-offset-1 bordered bl blacklisttab\";\r\n  var innerdiv = document.createElement(\"div\");\r\n  innerdiv.id = \"torles\";\r\n  innerdiv.className = \"col-md-10 bordered selectborder fragment\";\r\n  var newspan = document.createElement(\"span\");\r\n  newspan.id = \"closebutn\";\r\n  newspan.onclick = function() {\r\n    this.parentNode.style.display = 'none';\r\n  };\r\n  newspan.innerHTML = \"x\";\r\n  var textdiv = document.createElement(\"div\");\r\n  textdiv.id = \"blacklistitem\";\r\n  textdiv.className = \"blacklistitem\";\r\n  var inputtext = document.getElementById(\"littletext\").value;\r\n  var createp = document.createElement(\"P\");\r\n  createp.className = \"blacklistitempgraph\";\r\n  createp.id = \"blacklistitempgraph\";\r\n  var it = document.createTextNode(inputtext);\r\n  var area = document.getElementById(\"blacklistitem\");\r\n  newdiv.appendChild(innerdiv);\r\n  innerdiv.appendChild(newspan);\r\n  innerdiv.appendChild(textdiv);\r\n  createp.appendChild(it);\r\n  textdiv.appendChild(createp);\r\n  document.getElementById(\"blacklist\").appendChild(newdiv);\r\n  var tabs = document.getElementsByClassName(\"blacklisttab\");\r\n  var items = document.getElementsByClassName(\"blacklistitem\")\r\n  var blacklistitempgraph = document.getElementsByClassName(\"blacklistitempgraph\");\r\n  for (var i = 0; i &lt; tabs.length; i++) {\r\n    tabs[i].setAttribute(\"id\", \"blacklisttab\" + i);\r\n    items[i].setAttribute(\"id\", \"blacklistitem\" + i);\r\n    blacklistitempgraph[i].setAttribute(\"id\", \"blacklistitempgraph\" + i);\r\n  }\r\n  listFunction();\r\n\r\n  bordering1();\r\n\r\n}\r\n\r\nfunction bordering1() {\r\n  var blitems = document.getElementsByClassName(\"blacklisttab\");\r\n  for (var i = 0; i &lt; blitems.length; i++) {\r\n    var text = document.getElementById(\"blacklistitempgraph\" + i).textContent;\r\n  };\r\n  var n = document.getElementsByClassName(\"paragraphdiv\");\r\n  for (var i = 0; i &lt; n.length; i++) {\r\n    var inputText = document.getElementById(\"commentparagraph\" + i);\r\n    var innerHTML = inputText.textContent;\r\n    var index = n[i].innerHTML.indexOf(text);\r\n    if (index &gt; 0) {\r\n      n[i].setAttribute(\"style\", \"border: 1px solid blue;\");\r\n\r\n    }\r\n  }\r\n};</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.abutton {\r\n  padding: 10px;\r\n}\r\n\r\n.para {\r\n  padding-bottom: 25px;\r\n}\r\n\r\n.textarea {\r\n  padding-top: 25px;\r\n}\r\n\r\n.fragment {\r\n  font-size: 12px;\r\n  font-family: tahoma;\r\n  height: 20px;\r\n  border: px solid blue;\r\n  color: blue;\r\n  display: block;\r\n  box-sizing: border-box;\r\n  text-decoration: none;\r\n}\r\n\r\n#close {\r\n  float: right;\r\n  display: inline-block;\r\n  padding: 1px 5px;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n}\r\n\r\n.bl {\r\n  padding-bottom: 5px;\r\n}\r\n\r\n.closebtn {\r\n  float: right;\r\n  display: inline-block;\r\n  padding: 1px 5px;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n}\r\n\r\n#textarea {\r\n  resize: none;\r\n  outline: none;\r\n  background: url(bc.jpg) center center no-repeat;\r\n  border: 1px solid rgba(0, 0, 0, .3);\r\n}\r\n\r\n.textplace {\r\n  word-wrap: break-word;\r\n}\r\n\r\n#littletext {\r\n  resize: none;\r\n  outline: none;\r\n  background: url(bc.jpg) center center no-repeat;\r\n  border: 1px solid rgba(0, 0, 255, .3);\r\n}\r\n\r\n#closebutn {\r\n  float: right;\r\n  display: inline-block;\r\n  padding: 1px 5px;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n}\r\n\r\n.highlight {\r\n  border-style: solid;\r\n}\r\n\r\n#commentsec {\r\n  font-weight: bold;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"col-md-4 col-md-offset-1 bordered blacklist listform\"&gt;\r\n  &lt;div class=\"col-md-12 bordered blacklist\" id=\"blacklist\"&gt;\r\n    &lt;div class=\"col-md-10 col-md-offset-1 bordered bl blacklisttab\" id=\"listtab\"&gt;\r\n      &lt;div class=\"col-md-10 bordered selectborder fragment\" id=\"bltab\"&gt;\r\n        &lt;span onclick=\"this.parentNode.style.display = 'none';\" class=\"closebtn\"&gt;x&lt;/span&gt;\r\n        &lt;div class=\"blacklistitem\" id=\"blacklistitem\"&gt;\r\n          &lt;p class=\"blacklistitempgraph\" id=\"blacklistitempgraph\"&gt;DNFB&lt;/p&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"col-md-10 col-md-offset-1 bordered bl blacklisttab\" id=\"listtab\"&gt;\r\n      &lt;div class=\"col-md-10 bordered selectborder fragment\" id=\"bltab\"&gt;\r\n        &lt;span onclick=\"this.parentNode.style.display = 'none';\" class=\"closebtn\"&gt;x&lt;/span&gt;\r\n        &lt;div class=\"blacklistitem\" id=\"blacklistitem\"&gt;\r\n          &lt;p class=\"blacklistitempgraph\" id=\"blacklistitempgraph\"&gt;HIM&lt;/p&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"col-md-10 col-md-offset-1 bordered bl blacklisttab\" id=\"listtab\"&gt;\r\n      &lt;div class=\"col-md-10 bordered selectborder fragment\" id=\"bltab\"&gt;\r\n        &lt;span onclick=\"this.parentNode.style.display = 'none';\" class=\"closebtn\"&gt;x&lt;/span&gt;\r\n        &lt;div class=\"blacklistitem\" id=\"blacklistitem\"&gt;\r\n          &lt;p class=\"blacklistitempgraph\" id=\"blacklistitempgraph\"&gt;CFO&lt;/p&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"col-md-10 col-md-offset-1 bordered bl blacklisttab\" id=\"listtab\"&gt;\r\n      &lt;div class=\"col-md-10 bordered selectborder fragment\" id=\"bltab\"&gt;\r\n        &lt;span onclick=\"this.parentNode.style.display = 'none';\" class=\"closebtn\"&gt;x&lt;/span&gt;\r\n        &lt;div class=\"blacklistitem\" id=\"blacklistitem\"&gt;\r\n          &lt;p class=\"blacklistitempgraph\" id=\"blacklistitempgraph\"&gt;Reduce&lt;/p&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n\r\n  &lt;div class=\"col-md-8 col-md-offset-1 bordered\"&gt;\r\n    &lt;form id=\"listForm\"&gt;\r\n      &lt;textarea name=\"littletext\" id=\"littletext\" rows=\"1\" style=\"width: 105%;\"&gt;&lt;/textarea&gt;\r\n    &lt;/form&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=\"col-md-2 col-md-offset-1 bordered\"&gt;\r\n    &lt;input type=\"Submit\" name=\"Submit\" id=\"Submit\" value=\"Submit\" onclick=\"creatediv()\"&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;div class=\"col-md-12 bordered bottom\"&gt;\r\n  &lt;div class=\"col-md-8 col-md-offset-2 bordered commentsec\" id=\"commentsec\"&gt;\r\n    &lt;div class=\"col-md-12 bordered commentdiv\" id=\"comment\"&gt;\r\n\r\n      &lt;div class=\"col-md-10 para bordered paragraphdiv\" id=\"paragraphdiv\"&gt;\r\n        &lt;p class=\"commentpgraph\" id=\"commentparagraph\"&gt;Significantly Reduce Costs and Improve Quality with an Experienced, Professional Global Coding Solution. Health Information Management (HIM) Directors and CFOs are seeking innovative ways to reduce expenses, maintain DNFB goals, and increase overall\r\n          coder quality.&lt;/p&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=\"col-md-8 col-md-offset-2 bordered textarea\"&gt;\r\n    &lt;form id=\"myForm\"&gt;\r\n      &lt;textarea id=\"textarea\" style=\"width: 100%;\" cols=\"30\" rows=\"5\"&gt;&lt;/textarea&gt;\r\n    &lt;/form&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=\"col-md-2 col-md-offset-8 bordered abutton\"&gt;\r\n    &lt;center&gt;&lt;input type=\"Submit\" id=\"button1\" value=\"Submit\" onclick=\"createparagraph();\"&gt;&lt;/center&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "json", "axios", "ethereum", "web3"], "answers": [{"comments": [{"owner": {"reputation": 517, "user_id": 6815505, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/10154170376623612/picture?type=large", "display_name": "Hanley Soilsmith", "link": "https://stackoverflow.com/users/6815505/hanley-soilsmith"}, "edited": false, "score": 0, "creation_date": 1544655493, "post_id": 53750847, "comment_id": 94358146, "body": "Unfortunately the first code block is not working as intended because it is supposed to log res.data, and it is not. Thank you for taking the time to respond! Any other ideas of what could be going on?"}, {"owner": {"reputation": 4660, "user_id": 4556423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dafcfc51c18a4c97540e884a7ddba5?s=128&d=identicon&r=PG&f=1", "display_name": "Rikin", "link": "https://stackoverflow.com/users/4556423/rikin"}, "reply_to_user": {"reputation": 517, "user_id": 6815505, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/10154170376623612/picture?type=large", "display_name": "Hanley Soilsmith", "link": "https://stackoverflow.com/users/6815505/hanley-soilsmith"}, "edited": false, "score": 0, "creation_date": 1544666264, "post_id": 53750847, "comment_id": 94360678, "body": "@HanleySoilsmith try to open Network tab and see if API call is getting triggered. If it is then insert breakpoint on the response handler function. If you cant then add <code>debugger</code> in the function and inspect <code>res</code> value."}, {"owner": {"reputation": 517, "user_id": 6815505, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/10154170376623612/picture?type=large", "display_name": "Hanley Soilsmith", "link": "https://stackoverflow.com/users/6815505/hanley-soilsmith"}, "edited": false, "score": 0, "creation_date": 1544675660, "post_id": 53750847, "comment_id": 94362648, "body": "Thank you. I feel a little out of my depth here as <code>breakpoint</code> and <code>add debugger</code> are not familiar concepts. I will do some research and try to figure out what you are suggesting :)  The API is triggering, <code>console.log(res.data)</code> is returning a blank value to the console. I actually think the issue is with the server not returning the json object. That code looks like this:   <code>web3.eth     .sendSignedTransaction(&quot;0x&quot; + serializedTx.toString(&quot;hex&quot;))     .on(&quot;receipt&quot;, console.log, res.json());</code>"}], "tags": [], "owner": {"reputation": 4660, "user_id": 4556423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dafcfc51c18a4c97540e884a7ddba5?s=128&d=identicon&r=PG&f=1", "display_name": "Rikin", "link": "https://stackoverflow.com/users/4556423/rikin"}, "is_accepted": false, "score": 1, "last_activity_date": 1544646510, "creation_date": 1544646510, "answer_id": 53750847, "question_id": 53750439, "link": "https://stackoverflow.com/questions/53750439/how-to-await-a-json-return-value-the-return-takes-at-least-30-seconds-before-l/53750847#53750847", "title": "How to await a json return value (the return takes at least 30 seconds) before logging it? javascript/react/express", "body": "<p>First block of code seems working, may be you want to attach <code>.catch</code> to it as error handler.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>axios.get('https://jsonplaceholder.typicode.com/todos/1')\r\n  .then(response =&gt; console.log(response.data))\r\n  .catch(function(error) {\r\n    console.log(error);\r\n  });</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://unpkg.com/axios/dist/axios.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>In second part I think you are doing <code>await</code> wrong. You are awaiting on a function which never gets called. Await is supposed to be listening on something that gets called in below instance a promise returned by <code>axios</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const samplePayload = {\r\n  \"userId\": 100,\r\n  \"id\": 100,\r\n  \"title\": \"sunt aut facere repellat provident occaecati excepturi optio reprehenderit\",\r\n  \"body\": \"quia et suscipit\\nsuscipit recusandae consequuntur expedita et cum\\nreprehenderit molestiae ut ut quas totam\\nnostrum rerum est autem sunt rem eveniet architecto\"\r\n};\r\n\r\n\r\n// Using GET here for demo but you can swap it with POST\r\nconst onSuccess = async payment =&gt; {\r\n  return await axios.get(\r\n    \"https://jsonplaceholder.typicode.com/posts\", samplePayload\r\n  ).then(res =&gt; {\r\n    console.log(res.data);\r\n  });\r\n}\r\n\r\nconsole.log(onSuccess());</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://unpkg.com/axios/dist/axios.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I hope that clarifies.</p>\n"}, {"comments": [{"owner": {"reputation": 517, "user_id": 6815505, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/10154170376623612/picture?type=large", "display_name": "Hanley Soilsmith", "link": "https://stackoverflow.com/users/6815505/hanley-soilsmith"}, "edited": false, "score": 0, "creation_date": 1544655392, "post_id": 53750955, "comment_id": 94358114, "body": "Thank you for taking the time to answer. The first code does not log <code>res.data</code>....I wish it did :D"}, {"owner": {"reputation": 1982, "user_id": 3170151, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/38207faa73f40f487c7e7b5da9617a76?s=128&d=identicon&r=PG&f=1", "display_name": "iagowp", "link": "https://stackoverflow.com/users/3170151/iagowp"}, "reply_to_user": {"reputation": 517, "user_id": 6815505, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/10154170376623612/picture?type=large", "display_name": "Hanley Soilsmith", "link": "https://stackoverflow.com/users/6815505/hanley-soilsmith"}, "edited": false, "score": 0, "creation_date": 1544657789, "post_id": 53750955, "comment_id": 94358847, "body": "@HanleySoilsmith, did you try the catch? Also, did you try my code?"}, {"owner": {"reputation": 517, "user_id": 6815505, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/10154170376623612/picture?type=large", "display_name": "Hanley Soilsmith", "link": "https://stackoverflow.com/users/6815505/hanley-soilsmith"}, "edited": false, "score": 0, "creation_date": 1544658253, "post_id": 53750955, "comment_id": 94358977, "body": "I did a .catch for error handling. I will do some research on what .catch does and if it will be helpful. Appreciate it :)"}], "tags": [], "owner": {"reputation": 1982, "user_id": 3170151, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/38207faa73f40f487c7e7b5da9617a76?s=128&d=identicon&r=PG&f=1", "display_name": "iagowp", "link": "https://stackoverflow.com/users/3170151/iagowp"}, "is_accepted": false, "score": 0, "last_activity_date": 1544646988, "creation_date": 1544646988, "answer_id": 53750955, "question_id": 53750439, "link": "https://stackoverflow.com/questions/53750439/how-to-await-a-json-return-value-the-return-takes-at-least-30-seconds-before-l/53750955#53750955", "title": "How to await a json return value (the return takes at least 30 seconds) before logging it? javascript/react/express", "body": "<p>Your second is wrong, you are never getting the response</p>\n\n<pre><code>const onSuccess = async payment =&gt; {\n  const res = await axios.post(\n    \"http://ec2-54-67-28-69.us-west-1.compute.amazonaws.com:3000/users\",\n    {\n    value: \"value\",\n    fileName: \"fileName\",\n    hash: \"hash\"\n    }\n  );\n  console.log(res.data);\n  return res.data\n}\n</code></pre>\n\n<p>Also, as Rikin said, your first code seems ok. Try adding the <code>.catch</code></p>\n"}], "owner": {"reputation": 517, "user_id": 6815505, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/10154170376623612/picture?type=large", "display_name": "Hanley Soilsmith", "link": "https://stackoverflow.com/users/6815505/hanley-soilsmith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1544646988, "creation_date": 1544644491, "question_id": 53750439, "link": "https://stackoverflow.com/questions/53750439/how-to-await-a-json-return-value-the-return-takes-at-least-30-seconds-before-l", "title": "How to await a json return value (the return takes at least 30 seconds) before logging it? javascript/react/express", "body": "<p>This is a follow up to these threads:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/53749081/how-to-set-state-of-a-react-component-with-a-specific-item-from-a-returned-json/53749329?noredirect=1#comment94352691_53749329\">How to set state of a react component with a specific item from a returned json object?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/53737568/how-to-return-json-data-to-a-react-state\">How to return json data to a react state?</a></p>\n\n<p>I am using <code>web3</code> to sign a transaction on <code>Ethereum</code>, which then sends a <code>json</code> object with transaction data. The <code>json</code> takes at least 30 seconds to return. </p>\n\n<p>I am trying to <code>console.log()</code> the data with the following code:</p>\n\n<pre><code>axios.post(\n    \"http://compute.amazonaws.com:3000/users\", \n    {\n        value: \"value\",\n        fileName: \"fileName\",\n        hash: \"hash\"\n    }\n)\n.then(res =&gt; { console.log(res.data);});\n</code></pre>\n\n<p>There is no log appearing in the console.</p>\n\n<p>The above is actually part of a bigger function, which I have made <code>async</code> and added <code>await</code>. This did not produce any results or errors:</p>\n\n<pre><code>const onSuccess = async payment =&gt; {\n      axios.post(\n        \"http://ec2-54-67-28-69.us-west-1.compute.amazonaws.com:3000/users\",\n        {\n        value: \"value\",\n        fileName: \"fileName\",\n        hash: \"hash\"\n        }\n      );\n      await (res =&gt; {\n        console.log(res.data);\n      });\n</code></pre>\n\n<p>I think the issue is that <code>Ethereum</code> takes some time to mine the transaction. I need to wait for the <code>json</code> response before logging it.</p>\n\n<p>My <code>express</code> server is having no issues, the <code>json</code> is successfully logged on the server.</p>\n\n<p>Any ideas? Thanks!</p>\n"}, {"tags": ["javascript", "promise"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1544645785, "post_id": 53750390, "comment_id": 94354100, "body": "Your <code>doStuff</code> function should <i><code>return</code></i> the promise that it creates"}], "answers": [{"tags": [], "owner": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "is_accepted": false, "score": -1, "last_activity_date": 1544645181, "last_edit_date": 1544645181, "creation_date": 1544644619, "answer_id": 53750465, "question_id": 53750390, "link": "https://stackoverflow.com/questions/53750390/calling-a-function-when-promise-returns-success-or-failure/53750465#53750465", "title": "Calling a function when promise returns success or failure", "body": "<p>Have doStuff return the promise, and then use that promise to chain additional .then calls. You've got a catch in doStuff, so that will get first crack at handling errors. If there's anything you fail to handle, you can rethrow it</p>\n\n<pre><code>function doStuff() {\n  return axios.get(\"/api/endpoint\").then(response =&gt; {\n    // do App1.js-specific stuff\n  }).catch(error =&gt; {\n    // do App1.js-specific error handling\n    return Promise.reject(error); // if not handled\n  });\n}\n\n//...\n\nfunction invokeStuff(){\n  doStuff()\n    .then(doSomethingOnSuccess)\n    .catch(doSomethingOnFailure)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 130214, "user_id": 772035, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/jAEqI.jpg?s=128&g=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/772035/paul"}, "is_accepted": true, "score": 1, "last_activity_date": 1544644692, "creation_date": 1544644692, "answer_id": 53750482, "question_id": 53750390, "link": "https://stackoverflow.com/questions/53750390/calling-a-function-when-promise-returns-success-or-failure/53750482#53750482", "title": "Calling a function when promise returns success or failure", "body": "<p>If you can't fully handle the error inside <code>doStuff</code>, you should rethrow it (or throw a new Error):</p>\n\n<pre><code>function doStuff() {\n  return axios.get(\"/api/endpoint\").then(response =&gt; {\n    // do App1.js-specific stuff\n  }).catch(error =&gt; {\n    // do App1.js-specific error handling\n    throw error; // rethrow\n  });\n}\n</code></pre>\n\n<p>App2.js :</p>\n\n<pre><code>function invokeStuff(){\n  doStuff().then(doSomethingOnSuccess, doSomethingOnFailue);\n}\n\nfunction doSomethingOnSuccess(){...}\nfunction doSomethingOnFailure(){...}\n</code></pre>\n"}], "owner": {"reputation": 513, "user_id": 1930938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/235746eabbfd07a9774e6eba400f447d?s=128&d=identicon&r=PG", "display_name": "Cog", "link": "https://stackoverflow.com/users/1930938/cog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 53750482, "answer_count": 2, "score": 0, "last_activity_date": 1544645550, "creation_date": 1544644258, "last_edit_date": 1544645550, "question_id": 53750390, "link": "https://stackoverflow.com/questions/53750390/calling-a-function-when-promise-returns-success-or-failure", "title": "Calling a function when promise returns success or failure", "body": "<p>Let's say I have code set up like so:</p>\n\n<p><strong>App1.js</strong></p>\n\n<pre><code>function doStuff() {\n  axios.get(\"/api/endpoint\").then(response =&gt; {\n    // do App1.js-specific stuff\n  }).catch(error =&gt; {\n    // do App1.js-specific error handling\n  });\n}\n</code></pre>\n\n<p><strong>App2.js</strong></p>\n\n<pre><code>function invokeStuff(){\n  doStuff();\n}\n\nfunction doSomethingOnSuccess(){...}\nfunction doSomethingOnFailure(){...}\n</code></pre>\n\n<p>In App2.js <strong>I want to be able to invoke doSomethingOnSuccess() or doSomethingOnFailure() as soon as the axios call from App1 returns</strong>. How can I structure my code to achieve this assuming those two functions cannot be moved into App1.js?</p>\n"}, {"tags": ["javascript", "arrays", "for-loop", "if-statement"], "comments": [{"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1544644325, "post_id": 53750380, "comment_id": 94353494, "body": "please add the wanted result as well (which direction?)."}], "answers": [{"comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 1, "creation_date": 1544645413, "post_id": 53750507, "comment_id": 94353943, "body": "would have failed my interview, what if the max number is not greater than zero? Initialization should be based off first index, not 0."}, {"owner": {"reputation": 151, "user_id": 10583445, "user_type": "registered", "profile_image": "https://graph.facebook.com/713673865662335/picture?type=large", "display_name": "Adag89", "link": "https://stackoverflow.com/users/10583445/adag89"}, "edited": false, "score": 0, "creation_date": 1544645533, "post_id": 53750507, "comment_id": 94353995, "body": "Perfect, thank you!  This is what my answer looked like, before i tried adding in if(counter &gt; x) {         x = counter;         if(temp[j] &lt; x) {           continue;"}, {"owner": {"reputation": 151, "user_id": 10583445, "user_type": "registered", "profile_image": "https://graph.facebook.com/713673865662335/picture?type=large", "display_name": "Adag89", "link": "https://stackoverflow.com/users/10583445/adag89"}, "reply_to_user": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1544645608, "post_id": 53750507, "comment_id": 94354028, "body": "@epascarello  This was my original strategy, i&#39;ll be sure to go with this in the future, thanks for your input."}, {"owner": {"reputation": 14459, "user_id": 1215133, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/zzQPB.jpg?s=128&g=1", "display_name": "Elliot B.", "link": "https://stackoverflow.com/users/1215133/elliot-b"}, "reply_to_user": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 2, "creation_date": 1544646034, "post_id": 53750507, "comment_id": 94354210, "body": "@epascarello I am assuming the data set is positive whole numbers. I am also assuming that the parent array only contains arrays, and those child arrays only contain numbers, not strings, objects, etc. The point here is to help the OP make the next small improvement in his code, understand what he was doing wrong, and to learn. The point of my answer is not to catch every single possible edge case or completely re-write his code with something more efficient/elegant."}], "tags": [], "owner": {"reputation": 14459, "user_id": 1215133, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/zzQPB.jpg?s=128&g=1", "display_name": "Elliot B.", "link": "https://stackoverflow.com/users/1215133/elliot-b"}, "is_accepted": true, "score": 2, "last_activity_date": 1544645129, "last_edit_date": 1544645129, "creation_date": 1544644771, "answer_id": 53750507, "question_id": 53750380, "link": "https://stackoverflow.com/questions/53750380/return-largest-number-from-nested-arrays-without-math-max/53750507#53750507", "title": "Return largest number from nested arrays without math.max", "body": "<p>Are you expecting an output of <code>[5, 27, 39, 1001]</code>?</p>\n\n<p>If so, these minor adjustments to your inner loop will do the job:</p>\n\n<pre><code>function largestOfFour(arr) {\n    let newArr = [];\n\n    for(let i = 0; i &lt; arr.length; i++) {\n        let temp = arr[i];\n        let x = 0;\n        for(let j = 0; j &lt; temp.length; j++) {\n\n            if(temp[j] &gt; x) {\n                x = temp[j];\n            }\n        }\n\n        newArr.push(x);\n        //console.log(arr[i])\n    }\n    console.log(newArr);\n}\n\nlargestOfFour([[4, 5, 1, 3], [13, 27, 18, 26], [32, 35, 37, 39], [1000, 1001, 857, 1]]);\n</code></pre>\n\n<p>You were on the right track, but you want to avoid pushing the highest value for the sub-array on to <code>newArr</code> until the inner loop has finished iterating over that sub-array. Until it's done iterating, you don't know which value is the highest for the sub-array.</p>\n"}, {"comments": [{"owner": {"reputation": 151, "user_id": 10583445, "user_type": "registered", "profile_image": "https://graph.facebook.com/713673865662335/picture?type=large", "display_name": "Adag89", "link": "https://stackoverflow.com/users/10583445/adag89"}, "edited": false, "score": 0, "creation_date": 1544646408, "post_id": 53750542, "comment_id": 94354367, "body": "I didn&#39;t realize that this was a FCC basic algorithm challenge (the section i happen to be at), so I tried my solution, and it didn&#39;t work for -1.  Your strategy of initializing to -Infinity makes sense now, Thanks!"}, {"owner": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "edited": false, "score": 0, "creation_date": 1544649983, "post_id": 53750542, "comment_id": 94355830, "body": "You could simply initialize with <code>temp[0]</code> and start looping from 1."}, {"owner": {"reputation": 151, "user_id": 10583445, "user_type": "registered", "profile_image": "https://graph.facebook.com/713673865662335/picture?type=large", "display_name": "Adag89", "link": "https://stackoverflow.com/users/10583445/adag89"}, "reply_to_user": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "edited": false, "score": 0, "creation_date": 1544659893, "post_id": 53750542, "comment_id": 94359414, "body": "@georg That was what I originally did, but it just didn&#39;t look right to me haha."}, {"owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "edited": false, "score": 0, "creation_date": 1544680150, "post_id": 53750542, "comment_id": 94363824, "body": "And this plays nicely with refactoring to two functions, and destructuring. See updated 2nd answer."}], "tags": [], "owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "is_accepted": false, "score": 1, "last_activity_date": 1544680122, "last_edit_date": 1544680122, "creation_date": 1544644976, "answer_id": 53750542, "question_id": 53750380, "link": "https://stackoverflow.com/questions/53750380/return-largest-number-from-nested-arrays-without-math-max/53750542#53750542", "title": "Return largest number from nested arrays without math.max", "body": "<p>In your code, you need to get the largest number in the inner loop, and then push it:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function largestOfFour(arr) {\r\n  let newArr = [];\r\n\r\n  for (let i = 0; i &lt; arr.length; i++) {\r\n    let temp = arr[i];\r\n    let res = -Infinity; // initialize the res with lowest number\r\n    for (let j = 0; j &lt; temp.length; j++) {\r\n      if (temp[j] &gt; res) { // if a number is greater than res, assign it to res\r\n        res = temp[j];\r\n      }\r\n    }\r\n    newArr.push(res); // push res to the result arr\r\n  }\r\n  return newArr;\r\n}\r\n\r\nconst result = largestOfFour([[4, 5, 1, 3], [13, 27, 18, 26], [32, 35, 37, 39], [1000, 1001, 857, 1]]);\r\n\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>It would be easier if you'll refactor the maximum logic to an external function:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const getArrayMax = ([first, ...arr]) =&gt; {\r\n  let mx = first;\r\n  \r\n  for (const cur of arr)\r\n    if (cur &gt; mx)\r\n      mx = cur;\r\n  \r\n  return mx;\r\n}\r\n\r\nfunction largestOfSubarrays(arr) {\r\n  const newArr = [];\r\n\r\n  for (let i = 0; i &lt; arr.length; i++) {\r\n    newArr.push(getArrayMax(arr[i])); // push res to the result arr\r\n  }\r\n  \r\n  return newArr;\r\n}\r\n\r\nconst result = largestOfSubarrays([[4, 5, 1, 3], [13, 27, 18, 26], [32, 35, 37, 39], [1000, 1001, 857, 1]]);\r\n\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "edited": false, "score": 0, "creation_date": 1544649929, "post_id": 53750590, "comment_id": 94355800, "body": "It would be better to omit the initializer (&quot;0&quot;) to make it work with negative numbers."}, {"owner": {"reputation": 4660, "user_id": 4556423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dafcfc51c18a4c97540e884a7ddba5?s=128&d=identicon&r=PG&f=1", "display_name": "Rikin", "link": "https://stackoverflow.com/users/4556423/rikin"}, "reply_to_user": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "edited": false, "score": 0, "creation_date": 1544650008, "post_id": 53750590, "comment_id": 94355845, "body": "Yeah by default it should take <code>0</code> as value if not provided"}, {"owner": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "edited": false, "score": 0, "creation_date": 1544650089, "post_id": 53750590, "comment_id": 94355887, "body": "nope, if you don&#39;t provide the init value, reduce takes the first elem as init and starts with the second."}], "tags": [], "owner": {"reputation": 4660, "user_id": 4556423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dafcfc51c18a4c97540e884a7ddba5?s=128&d=identicon&r=PG&f=1", "display_name": "Rikin", "link": "https://stackoverflow.com/users/4556423/rikin"}, "is_accepted": false, "score": 2, "last_activity_date": 1544645198, "creation_date": 1544645198, "answer_id": 53750590, "question_id": 53750380, "link": "https://stackoverflow.com/questions/53750380/return-largest-number-from-nested-arrays-without-math-max/53750590#53750590", "title": "Return largest number from nested arrays without math.max", "body": "<p>@Elliot B.'s answer is probably what you are looking for as explaination of what went wrong where.</p>\n\n<p>Alternate solution using Map/Reduce on Array</p>\n\n<p>Solution taken from here: <a href=\"https://medium.freecodecamp.org/three-ways-to-return-largest-numbers-in-arrays-in-javascript-5d977baa80a1\" rel=\"nofollow noreferrer\">https://medium.freecodecamp.org/three-ways-to-return-largest-numbers-in-arrays-in-javascript-5d977baa80a1</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function largestOfFour(mainArray) {\r\n  return mainArray.map(function (subArray){\r\n    return subArray.reduce(function (previousLargestNumber, currentLargestNumber) {\r\n      return (currentLargestNumber &gt; previousLargestNumber) ? currentLargestNumber : previousLargestNumber;\r\n    }, 0);\r\n  });\r\n}\r\n//largestOfFour([[4, 5, 1, 3], [13, 27, 18, 26], [32, 35, 37, 39], [1000, 1001, 857, 1]]);\r\n\r\n\r\nconst result = largestOfFour([\r\n  [4, 5, 1, 3],\r\n  [13, 27, 18, 26],\r\n  [32, 35, 37, 39],\r\n  [1000, 1001, 857, 1]\r\n]);\r\n\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 15562, "user_id": 155819, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yXygz.jpg?s=128&g=1", "display_name": "Akrion", "link": "https://stackoverflow.com/users/155819/akrion"}, "is_accepted": false, "score": 0, "last_activity_date": 1544648735, "creation_date": 1544648735, "answer_id": 53751331, "question_id": 53750380, "link": "https://stackoverflow.com/questions/53750380/return-largest-number-from-nested-arrays-without-math-max/53751331#53751331", "title": "Return largest number from nested arrays without math.max", "body": "<p>You could also simply sort the arrays in <code>desc</code> order and get the first element:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const largestOfFour = arr =&gt; arr.map(x =&gt; x.sort((a,b) =&gt; b-a)[0])\r\n\r\nconsole.log(largestOfFour([[4, 5, 1, 3], [13, 27, 18, 26], [32, 35, 37, 39], [1000, 1001, 857, 1]]))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 151, "user_id": 10583445, "user_type": "registered", "profile_image": "https://graph.facebook.com/713673865662335/picture?type=large", "display_name": "Adag89", "link": "https://stackoverflow.com/users/10583445/adag89"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "accepted_answer_id": 53750507, "answer_count": 4, "score": 1, "last_activity_date": 1544680122, "creation_date": 1544644220, "question_id": 53750380, "link": "https://stackoverflow.com/questions/53750380/return-largest-number-from-nested-arrays-without-math-max", "title": "Return largest number from nested arrays without math.max", "body": "<p>I'm trying to return the largest number from each subarray to a new array.  I feel like I'm really close, and I feel like <code>if(temp[j] &lt; x) {continue;}</code> is out of place.  What am I doing wrong?  P.S. I know I can probably just use math.max() and save a lot of code, but i'm trying to get comfortable with for loops and arrays.</p>\n\n<pre><code>  function largestOfFour(arr) {\n  let newArr = [];\n\n  for(let i = 0; i &lt; arr.length; i++) {\n    let temp = arr[i];\n    let counter = 0;\n    for(let j = 0; j &lt; temp.length; j++) {\n      let x = 0;\n      if(temp[j] &gt; counter) {\n      counter = temp[j];\n      if(counter &gt; x) {\n        x = counter;\n        if(temp[j] &lt; x) {\n          continue;\n        }\n      }\n      newArr.push(temp[j]);\n\n      }\n\n    }\n    console.log(arr[i])\n  }\n  console.log(newArr);\n}\n\nlargestOfFour([[4, 5, 1, 3], [13, 27, 18, 26], [32, 35, 37, 39], [1000, 1001, 857, 1]]);\n</code></pre>\n"}, {"tags": ["javascript", "rxjs", "rxjs6", "reactivex"], "comments": [{"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1544692183, "post_id": 53750358, "comment_id": 94368848, "body": "I don&#39;t think this is what happens. Completing one merged Observable doesn&#39;t complete the whole stream."}, {"owner": {"reputation": 11, "user_id": 5410352, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206629878962828/picture?type=large", "display_name": "Rama Jakaria", "link": "https://stackoverflow.com/users/5410352/rama-jakaria"}, "reply_to_user": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1544762593, "post_id": 53750358, "comment_id": 94398663, "body": "@martin yes, after I check again the status$ doesn&#39;t trigger complete function on subscription. Sorry, I am new to this, should I create a new question or just edit this question?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5410352, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206629878962828/picture?type=large", "display_name": "Rama Jakaria", "link": "https://stackoverflow.com/users/5410352/rama-jakaria"}, "edited": false, "score": 0, "creation_date": 1544673661, "post_id": 53754410, "comment_id": 94362262, "body": "Thanks for the answer! So you are implying that the timer couldn&#39;t be completed with takeUntil?"}, {"owner": {"reputation": 592, "user_id": 7907134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZK4pH.jpg?s=128&g=1", "display_name": "t7yang", "link": "https://stackoverflow.com/users/7907134/t7yang"}, "reply_to_user": {"reputation": 11, "user_id": 5410352, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206629878962828/picture?type=large", "display_name": "Rama Jakaria", "link": "https://stackoverflow.com/users/5410352/rama-jakaria"}, "edited": false, "score": 0, "creation_date": 1544676878, "post_id": 53754410, "comment_id": 94362924, "body": "you can make it completed if your status$ not going to switch between on and off"}], "tags": [], "owner": {"reputation": 592, "user_id": 7907134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZK4pH.jpg?s=128&g=1", "display_name": "t7yang", "link": "https://stackoverflow.com/users/7907134/t7yang"}, "is_accepted": false, "score": 1, "last_activity_date": 1544669739, "creation_date": 1544669739, "answer_id": 53754410, "question_id": 53750358, "link": "https://stackoverflow.com/questions/53750358/timer-with-merge-stop-emitting-value-even-though-the-parent-source-stream-still/53754410#53754410", "title": "Timer with merge stop emitting value even though the parent source stream still emit new ones", "body": "<pre><code>// assume a isConnect stream which return a boolean indicate connection status\nlet isConnect$ = new BehaviorSubject(false);\n\n// assume a behavior subject to store a auth status\nlet isAuth$ = new BehaviorSubject(false);\n\ndisconnect$.subscribe(() =&gt; this.isConnect$.next(false));\n\nconnect$.subscribe(() =&gt; this.isConnect$.next(true));\n\n// combine isConnect and isAuth together\nlet status$ = combineLatest(isConnect$, isAuth$).pipe(\n  map(() =&gt; (isAuth ? statusEnum.AUTHENTICATED : isConnect ? statusEnum.ON : statusEnum.OFF)),\n);\n\n// a timer for sending auth every 3 secs and only send if status is statusEnum.ON;\nlet auth$ = timer(0, 3000)\n  .pipe(\n    switchMapTo(status$),\n    filter(status =&gt; status === statusEnum.ON),\n  )\n  .subscribe(() =&gt; this.sendAuth());\n\n// in this.sendAuth, after successfully get auth, you have to make isAuth$.next(true);\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5410352, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206629878962828/picture?type=large", "display_name": "Rama Jakaria", "link": "https://stackoverflow.com/users/5410352/rama-jakaria"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544765919, "creation_date": 1544644095, "last_edit_date": 1544765919, "question_id": 53750358, "link": "https://stackoverflow.com/questions/53750358/timer-with-merge-stop-emitting-value-even-though-the-parent-source-stream-still", "title": "Timer with merge stop emitting value even though the parent source stream still emit new ones", "body": "<p>I try to merge 3 stream status of my app to 1. The cycle is disconnect &lt;-> connect &lt;-> authed. So whenever the app only connected to the server, it will try to send auth every 3 second. Unless it is disconnected or already authenticated.</p>\n\n<p>I am using rxjs timer to send auth on to-be-merged stream and takeUntil to stop sending the auth if the it has been authenticated. But the problem is instead of completing the sendAuth stream, merged auth$ stops emitting new response even though to-be-merged auth$ still emitting response. Here's the code:</p>\n\n<pre><code>this._response$ = fromEvent&lt;string&gt;(this._socket, \"response\")\n  .pipe(map(data =&gt; JSON.parse(data)));\n\nconst disconnect$ = fromEvent(this._socket, \"disconnect\");\nconst connect$ = fromEvent(this._socket, \"connect\");\nconst auth$ = this._response$.pipe(\n  // this stream still emitting even if takeUntil is declared on connect$.\n  filter(res =&gt; res.action === \"authentication\" &amp;&amp; res.type === \"success\"),\n);\n\nstatus$ = merge(\n  disconnect$.pipe(\n    map(() =&gt; {\n      this._status = statusEnum.OFF;\n      return this._status;\n    })\n  ),\n  connect$.pipe(\n    // will send auth each 3s after connected\n    // until it is authenticated or disconnected\n    switchMap(() =&gt; timer(0, 3000).pipe(\n      tap(() =&gt; console.log('Sending auth right after connect')),\n      map(() =&gt; this._sendAuth()),\n      // completing the status$ stream instead of switchMap\n      takeUntil(auth$),\n    )),\n    map(() =&gt; {\n      this._status = statusEnum.ON;\n      return this._status;\n    }),\n  ),\n  auth$.pipe(\n    // this stream stop emitting if takeUntil is declared on connect$.\n    map(() =&gt; {\n      this._status = statusEnum.AUTHENTICATED;\n      return this._status;\n    })\n  ),\n);\n</code></pre>\n\n<p><strong>EDIT</strong>:\nMerged auth$ start emitting value again after adding share operator to to-be-merged auth pipeline.</p>\n\n<pre><code>const auth$ = this._response$.pipe(\n  // this stream still emitting even if takeUntil is declared on connect$.\n  filter(res =&gt; res.action === \"authentication\" &amp;&amp; res.type === \"success\"),\n  share(),\n);\n</code></pre>\n"}, {"tags": ["javascript", "iframe", "youtube", "youtube-api", "sandbox"], "comments": [{"owner": {"reputation": 1183, "user_id": 1183895, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/gekpp.png?s=128&g=1", "display_name": "Zach M.", "link": "https://stackoverflow.com/users/1183895/zach-m"}, "edited": false, "score": 0, "creation_date": 1544646387, "post_id": 53750348, "comment_id": 94354358, "body": "Is this code that you wrote? Or is this something provided to you by youtube?"}, {"owner": {"reputation": 21, "user_id": 7366849, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iJ2jIbs1vVI/AAAAAAAAAAI/AAAAAAAAADw/bazjbLflZdI/photo.jpg?sz=128", "display_name": "Grant Evans", "link": "https://stackoverflow.com/users/7366849/grant-evans"}, "reply_to_user": {"reputation": 1183, "user_id": 1183895, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/gekpp.png?s=128&g=1", "display_name": "Zach M.", "link": "https://stackoverflow.com/users/1183895/zach-m"}, "edited": false, "score": 0, "creation_date": 1544648142, "post_id": 53750348, "comment_id": 94355087, "body": "@ZachM. This is something that is provided by youtube. Behind the scenes, youtube is making a network request to <a href=\"https://www.youtube.com/iframe_api\" rel=\"nofollow noreferrer\">youtube.com/iframe_api</a>, which then in turn makes a network request to <a href=\"https://s.ytimg.com/yts/jsbin/www-widgetapi-vflxGrywa/www-widgetapi.js\" rel=\"nofollow noreferrer\">s.ytimg.com/yts/jsbin/www-widgetapi-vflxGrywa/www-widgetapi.&zwnj;&#8203;js</a>, which is where this code is from."}, {"owner": {"reputation": 2374, "user_id": 10105321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X354S.gif?s=128&g=1", "display_name": "jess", "link": "https://stackoverflow.com/users/10105321/jess"}, "edited": false, "score": 0, "creation_date": 1544694847, "post_id": 53750348, "comment_id": 94370244, "body": "Have you tried this code format? <code>&lt;iframe allowfullscreen=&quot;&quot; frameborder=&quot;0&quot; height=&quot;360&quot; src=&quot;https:&#47;&#47;www.youtube.com&#47;embed&#47;{VIDEOID}?rel=0&amp;html5=1&quot; width=&quot;480&quot; sandbox=&quot;allow-scripts&quot;&gt;&lt;&#47;iframe&gt;</code>."}, {"owner": {"reputation": 21, "user_id": 7366849, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iJ2jIbs1vVI/AAAAAAAAAAI/AAAAAAAAADw/bazjbLflZdI/photo.jpg?sz=128", "display_name": "Grant Evans", "link": "https://stackoverflow.com/users/7366849/grant-evans"}, "reply_to_user": {"reputation": 2374, "user_id": 10105321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X354S.gif?s=128&g=1", "display_name": "jess", "link": "https://stackoverflow.com/users/10105321/jess"}, "edited": false, "score": 0, "creation_date": 1545167382, "post_id": 53750348, "comment_id": 94530473, "body": "@jess This works yeah, but if I do it this way, I lose the functionality to control the onError callback, which is required for my application."}], "owner": {"reputation": 21, "user_id": 7366849, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iJ2jIbs1vVI/AAAAAAAAAAI/AAAAAAAAADw/bazjbLflZdI/photo.jpg?sz=128", "display_name": "Grant Evans", "link": "https://stackoverflow.com/users/7366849/grant-evans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1544644047, "creation_date": 1544644047, "question_id": 53750348, "link": "https://stackoverflow.com/questions/53750348/youtube-api-is-bound-to-window-instead-of-inside-sandbox-iframe", "title": "youtube api is bound to window instead of inside sandbox iframe", "body": "<p>I am trying to wrap the youtube api inside of a sandboxed iframe and giving it only the required permissions.</p>\n\n<p>I am using the react-frame-component package to wrap a youtube player component in a sandboxed iframe. I have debugged it to the point where I know why the video is not showing up, but can't figure out why it's happening.</p>\n\n<p>When it gets to the point for the youtube-api to replace the original html element with the youtube iframe, the youtube api can't find the specified element because it is inside of a sandboxed iframe. The code below is some of the youtube code that gets fetched and executed. I have placed a comment explaining what what I changed for the youtube code to work, but the issue is that the youtube api isn't running in the context of the sandboxed iframe.</p>\n\n<pre><code>function W(a, b, c) {\n    this.h = this.a = this.b = null;\n    this.g = this[r] || (this[r] = ++t);\n    this.c = 0;\n    this.A = !1;\n    this.s = [];\n    this.f = null;\n    this.l = c;\n    this.m = {};\n    c = document;\n\n    // Here, the document is not the document of the iframe, but the\n    // document of the entire page. I need this to be something like\n    // window.frames[\"myIframe\"].contentDocument.getElementById(a)\n\n    if (a = l(a) ? c.getElementById(a) : a)\n        if (c = \"iframe\" == a.tagName.toLowerCase(),\n        b.host || (b.host = c ? Ba(a.src) : \"https://www.youtube.com\"),\n        this.b = new Wa(b),\n        c || (b = Ya(this, a),\n        this.h = a,\n        (c = a.parentNode) &amp;&amp; c.replaceChild(b, a),\n        a = b),\n        this.a = a,\n        this.a.id || (a = b = this.a,\n        a = a[r] || (a[r] = ++t),\n        b.id = \"widget\" + a),\n        R[this.a.id] = this,\n        window.postMessage) {\n            this.f = new M;\n            Za(this);\n            b = V(this.b, \"events\");\n            for (var d in b)\n                b.hasOwnProperty(d) &amp;&amp; this.addEventListener(d, b[d]);\n            for (var e in Sa)\n                $a(this, e)\n        }\n}\n</code></pre>\n"}, {"tags": ["javascript", "ruby-on-rails", "ajax"], "comments": [{"owner": {"reputation": 3119, "user_id": 4842949, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0agpj31wtZ8/AAAAAAAAAAI/AAAAAAAAAAA/mSolbNN-zIY/photo.jpg?sz=128", "display_name": "Joseph Cho", "link": "https://stackoverflow.com/users/4842949/joseph-cho"}, "edited": false, "score": 0, "creation_date": 1544644350, "post_id": 53750335, "comment_id": 94353503, "body": "This one is a tough question to answer since there&#39;s a lot of boilerplate code involved in writing this solution. I would ask around till you find a good tutorial to approach this."}, {"owner": {"reputation": 9132, "user_id": 4140, "user_type": "moderator", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/05cd0c924cba660419d5a8ad2a2a107e?s=128&d=identicon&r=PG", "display_name": "Sara Chipps", "link": "https://stackoverflow.com/users/4140/sara-chipps"}, "edited": false, "score": 0, "creation_date": 1544644812, "post_id": 53750335, "comment_id": 94353690, "body": "To be clear, when you land on your view file, you need to reload the view before you can see &quot;add friend&quot; or &quot;cancel request&quot;?"}, {"owner": {"reputation": 21, "user_id": 10204906, "user_type": "registered", "profile_image": "https://graph.facebook.com/10217636956900567/picture?type=large", "display_name": "Max", "link": "https://stackoverflow.com/users/10204906/max"}, "reply_to_user": {"reputation": 3119, "user_id": 4842949, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0agpj31wtZ8/AAAAAAAAAAI/AAAAAAAAAAA/mSolbNN-zIY/photo.jpg?sz=128", "display_name": "Joseph Cho", "link": "https://stackoverflow.com/users/4842949/joseph-cho"}, "edited": false, "score": 0, "creation_date": 1544644951, "post_id": 53750335, "comment_id": 94353753, "body": "@JosephCho Thank you for your comment, I will keep finding for a solution!"}, {"owner": {"reputation": 21, "user_id": 10204906, "user_type": "registered", "profile_image": "https://graph.facebook.com/10217636956900567/picture?type=large", "display_name": "Max", "link": "https://stackoverflow.com/users/10204906/max"}, "reply_to_user": {"reputation": 9132, "user_id": 4140, "user_type": "moderator", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/05cd0c924cba660419d5a8ad2a2a107e?s=128&d=identicon&r=PG", "display_name": "Sara Chipps", "link": "https://stackoverflow.com/users/4140/sara-chipps"}, "edited": false, "score": 0, "creation_date": 1544645121, "post_id": 53750335, "comment_id": 94353822, "body": "@SaraChipps Initially, I can see &#39;add friend&#39; and when I click &#39;add friend&#39; it  turns into &#39;cancel request&#39; but when I click &#39;cancel request&#39;, it doesn&#39;t work. After I reload the entire page and click it again, it turns into &#39;add friend&#39;. I am trying to make it work without reloading the entire page."}, {"owner": {"reputation": 9132, "user_id": 4140, "user_type": "moderator", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/05cd0c924cba660419d5a8ad2a2a107e?s=128&d=identicon&r=PG", "display_name": "Sara Chipps", "link": "https://stackoverflow.com/users/4140/sara-chipps"}, "edited": false, "score": 0, "creation_date": 1544652034, "post_id": 53750335, "comment_id": 94356779, "body": "It sounds like you may need an AJAX request. AJAX stands for asynchronous JS and XML, it is for sending and receiving data without reloading the page. I would recommend checking out some tutorials on AJAX and Rails."}, {"owner": {"reputation": 3201, "user_id": 2892779, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uvM8S.jpg?s=128&g=1", "display_name": "Jay Dorsey", "link": "https://stackoverflow.com/users/2892779/jay-dorsey"}, "edited": false, "score": 0, "creation_date": 1544674307, "post_id": 53750335, "comment_id": 94362383, "body": "@Max are you using turbolinks (you mentioned you know of it, but didn&#39;t say you were using it)? It might be worth adding a <code>data-turbolinks=&quot;false&quot;</code> attribute to each link (on your <code>js.erb</code> fields and your view file) just to rule out it&#39;s not a caching/reload issue with turbolinks. What you have looks like it <i>should</i> work and the fact that one event is working, and then not the other is interesting."}, {"owner": {"reputation": 21, "user_id": 10204906, "user_type": "registered", "profile_image": "https://graph.facebook.com/10217636956900567/picture?type=large", "display_name": "Max", "link": "https://stackoverflow.com/users/10204906/max"}, "edited": false, "score": 0, "creation_date": 1544687109, "post_id": 53750335, "comment_id": 94366444, "body": "I&#39;ve already tried data-turbolinks=&quot;false&quot; but it&#39;s not working. Maybe I need to study more about AJAX and turbolinks. Thanks guys!"}], "owner": {"reputation": 21, "user_id": 10204906, "user_type": "registered", "profile_image": "https://graph.facebook.com/10217636956900567/picture?type=large", "display_name": "Max", "link": "https://stackoverflow.com/users/10204906/max"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1544643990, "creation_date": 1544643990, "question_id": 53750335, "link": "https://stackoverflow.com/questions/53750335/friend-unfriend-doesnt-work-unless-the-page-is-reloaded", "title": "Friend/Unfriend doesn&#39;t work unless the page is reloaded", "body": "<p>Before everything, I beg you to understand the fact that I am very new to rails. I am trying to make Friend/Unfriend function and I've made it until here.</p>\n\n<p>I made add_friend.js.erb and added the code below.</p>\n\n<pre><code>$(\".grid-box.c a\").text(\"Cancel Friend Request\");\n$(\".grid-box.c a\").attr(\"href\", \"http://localhost:3000/friends/&lt;%= @user.id %&gt;/cancel_friend?friend_id=&lt;%= @user.id %&gt;\");\n</code></pre>\n\n<p>I also made cancel_friend.js.erb and did the same.</p>\n\n<pre><code>$(\".grid-box.c a\").text(\"Add Friend!\");\n$(\".grid-box.c a\").attr(\"href\", \"http://localhost:3000/friends/&lt;%= @user1.id %&gt;/add_friend?friend_id=&lt;%= @user1.id %&gt;\");\n</code></pre>\n\n<p>The view file is as below.</p>\n\n<pre><code>&lt;% if current_user.sent_friend(@user) == true %&gt;\n  &lt;%= link_to \"Cancel Friend Request\", cancel_friend_path(:friend_id =&gt; @user.id), method: 'delete', remote: true %&gt;\n&lt;% elsif current_user.is_friend(@user) == false %&gt;\n  &lt;%= link_to \"Add Friend!\", add_friend_path(:friend_id =&gt; @user.id), method: 'get', remote: true %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>Some of you might have already noticed that in this way, it won't work unless the page gets reloaded. I've spent several hours on google to find out how to solve the problem and yes I know that this is related with something like Ajax and Turbolinks, and I also know that there are similar questions and answers about this issue, but since I have a little knowledge of Rails, I found it hard to understand. I would really appreciate if you get down to my level and explain how I would be able to overcome this crisis. Thank you!</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 1, "creation_date": 1544644026, "post_id": 53750305, "comment_id": 94353357, "body": "Do you know how an <code>if</code> statement is structured?  What have you tried?"}, {"owner": {"reputation": 189597, "user_id": 616443, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/907798bf02efdaf6f9d07d3c0552868f?s=128&d=identicon&r=PG", "display_name": "j08691", "link": "https://stackoverflow.com/users/616443/j08691"}, "edited": false, "score": 1, "creation_date": 1544644049, "post_id": 53750305, "comment_id": 94353367, "body": "I&#39;m curious what the advantage is over the ternary"}], "answers": [{"tags": [], "owner": {"reputation": 3510, "user_id": 574722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Sxyd.jpg?s=128&g=1", "display_name": "bhmahler", "link": "https://stackoverflow.com/users/574722/bhmahler"}, "is_accepted": false, "score": 1, "last_activity_date": 1544644194, "creation_date": 1544644194, "answer_id": 53750376, "question_id": 53750305, "link": "https://stackoverflow.com/questions/53750305/how-to-transform-and-operations-in-if-and-else/53750376#53750376", "title": "How to transform ? and : operations in IF and ELSE?", "body": "<p>Lets start off by saying that the way it is written is just as easy to understand and IMO is the preferred method.  That being said, if you really want to change it to an if else statement here is an example</p>\n\n<pre><code>var $gallery = $('#slideshow'),\n    $active = $gallery.find('img:visible'),\n    $next;\nif($active.next().length){\n    $next = $active.next();\n} else {\n    $next = $gallery.find('img').first();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9132, "user_id": 4140, "user_type": "moderator", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/05cd0c924cba660419d5a8ad2a2a107e?s=128&d=identicon&r=PG", "display_name": "Sara Chipps", "link": "https://stackoverflow.com/users/4140/sara-chipps"}, "is_accepted": false, "score": 0, "last_activity_date": 1544644235, "creation_date": 1544644235, "answer_id": 53750386, "question_id": 53750305, "link": "https://stackoverflow.com/questions/53750305/how-to-transform-and-operations-in-if-and-else/53750386#53750386", "title": "How to transform ? and : operations in IF and ELSE?", "body": "<p>Like this:</p>\n\n<pre><code>if ($active.next().length)\n{\n  $next = $active.next();\n}\nelse\n{\n  $next = $gallery.find('img').first();\n}\n</code></pre>\n"}], "owner": {"reputation": 3147, "user_id": 5317298, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/401be6c325351c75350647a26067f2b3?s=128&d=identicon&r=PG&f=1", "display_name": "RGS", "link": "https://stackoverflow.com/users/5317298/rgs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1588488439, "creation_date": 1544643854, "last_edit_date": 1588488439, "question_id": 53750305, "link": "https://stackoverflow.com/questions/53750305/how-to-transform-and-operations-in-if-and-else", "title": "How to transform ? and : operations in IF and ELSE?", "body": "<p>I have this jquery:</p>\n\n<pre><code>var $gallery = $('#slideshow'),\n    $active = $gallery.find('img:visible'),\n    $next = $active.next().length ? $active.next() : $gallery.find('img').first();\n</code></pre>\n\n<p>To be easier to understand, how do I transform the third line into an if/else statement?</p>\n"}, {"tags": ["javascript", "angular"], "comments": [{"owner": {"reputation": 21922, "user_id": 4855306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a6aabb85641845de100ab0b0b87463a?s=128&d=identicon&r=PG&f=1", "display_name": "bryan60", "link": "https://stackoverflow.com/users/4855306/bryan60"}, "edited": false, "score": 0, "creation_date": 1544643800, "post_id": 53750243, "comment_id": 94353244, "body": "Can you invert this and make the angular app call a function on the window when it logs in?"}, {"owner": {"reputation": 982, "user_id": 7511690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/932d47d0df3e363c5439fd6d4d799bae?s=128&d=identicon&r=PG&f=1", "display_name": "Gilsdav", "link": "https://stackoverflow.com/users/7511690/gilsdav"}, "edited": false, "score": 0, "creation_date": 1544643942, "post_id": 53750243, "comment_id": 94353311, "body": "To execute code when you leave a page you can use <code>onDestroy</code> lifecycle, or <code>canDeactivate</code> guard. But why don&#39;t you just do you stuff before redirecting ?"}, {"owner": {"reputation": 2918, "user_id": 3979823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/azljt.png?s=128&g=1", "display_name": "ABOS", "link": "https://stackoverflow.com/users/3979823/abos"}, "edited": false, "score": 0, "creation_date": 1544643985, "post_id": 53750243, "comment_id": 94353332, "body": "OP said it is 3rd party app, so he might have no control over the inside code or simply don&#39;t want to touch"}, {"owner": {"reputation": 385, "user_id": 2804966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/162e0bd31ba855d392d1888d8a2d28af?s=128&d=identicon&r=PG&f=1", "display_name": "lalo", "link": "https://stackoverflow.com/users/2804966/lalo"}, "edited": false, "score": 0, "creation_date": 1544644281, "post_id": 53750243, "comment_id": 94353477, "body": "I suggest listening to events but that requires having control over the Angular application."}, {"owner": {"reputation": 67, "user_id": 4913051, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/r6uL2.jpg?s=128&g=1", "display_name": "Caio Tsubake", "link": "https://stackoverflow.com/users/4913051/caio-tsubake"}, "reply_to_user": {"reputation": 2918, "user_id": 3979823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/azljt.png?s=128&g=1", "display_name": "ABOS", "link": "https://stackoverflow.com/users/3979823/abos"}, "edited": false, "score": 0, "creation_date": 1544644399, "post_id": 53750243, "comment_id": 94353519, "body": "Yes, @ABOS is right. I have no control over the Angular code, unfortunately. My code is placed in the webpage after is rendered and lives there."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 4913051, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/r6uL2.jpg?s=128&g=1", "display_name": "Caio Tsubake", "link": "https://stackoverflow.com/users/4913051/caio-tsubake"}, "edited": false, "score": 1, "creation_date": 1544648990, "post_id": 53750395, "comment_id": 94355433, "body": "I did a quick test, and this seems to work just fine. Thank you very much (PS: I had no idea the onhashchange existed. Learn something new today)"}], "tags": [], "owner": {"reputation": 5032, "user_id": 2528234, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/xfLKr.jpg?s=128&g=1", "display_name": "Mike Feltman", "link": "https://stackoverflow.com/users/2528234/mike-feltman"}, "is_accepted": true, "score": 0, "last_activity_date": 1544649041, "last_edit_date": 1544649041, "creation_date": 1544644275, "answer_id": 53750395, "question_id": 53750243, "link": "https://stackoverflow.com/questions/53750243/detecting-angular-page-change/53750395#53750395", "title": "Detecting Angular page change", "body": "<p>Kind of an external solution to angular, but maybe using window.onhashchange will work in this scenario for you.</p>\n\n<pre><code>function YouAreGoingPlaces() {\n    alert(\"Welcome to \" + location.hash)\n}\nwindow.onhashchange = YouAreGoingPlaces() {\n   your custom actions here.\n}\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 4913051, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/r6uL2.jpg?s=128&g=1", "display_name": "Caio Tsubake", "link": "https://stackoverflow.com/users/4913051/caio-tsubake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 352, "favorite_count": 0, "accepted_answer_id": 53750395, "answer_count": 1, "score": 0, "last_activity_date": 1544649041, "creation_date": 1544643584, "question_id": 53750243, "link": "https://stackoverflow.com/questions/53750243/detecting-angular-page-change", "title": "Detecting Angular page change", "body": "<p>I am working with a third-party website that uses Angular.<br>\nI need to perform some actions when the user logs into the customer page, that means whenever the user goes from the log-in page, to his logged area. (Both are on the same website and use Angular).<br>\nThis used to work before, since the actions happen on page reload, but since we are in an SPA, the page reload does not happen when the page changes.  </p>\n\n<p>My code lives on the page, but is not \"inside\" the Angular application and I have never used Angular before, so I only have visible to me the elements of the webpage that are global.</p>\n\n<p>One way to solve the problem is to monitor the URL of the current page and detect when it changes from: <code>https://somedomain/#/loginpage</code> to <code>https://somedomain/#/loggedArea</code> using the <code>window.location</code> object:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var previousHash; //This will store the hash of the page we were in before\r\n\r\n\r\n// Then we would have to constantly check if the URL has changed\r\nif(previousHash == \"#/login\" &amp;&amp; window.location.hash == \"#/loggedArea\"){\r\n  callOnLoadActions()\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>but that seems a little brittle and hacky to me.</p>\n\n<p>Is there an \"official\", or at least better way of listening to when the page gets updated?</p>\n"}]