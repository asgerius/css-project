[{"tags": ["javascript"], "comments": [{"owner": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "edited": false, "score": 4, "creation_date": 1576108958, "post_id": 59295849, "comment_id": 104796106, "body": "Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal, Reproducible Example</a>"}, {"owner": {"reputation": 357, "user_id": 10691455, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-yItW4sNJ09U/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gYjgoAFcsxTrigPI-1yzRN8rBk5g/mo/photo.jpg?sz=128", "display_name": "Mr PizzaGuy", "link": "https://stackoverflow.com/users/10691455/mr-pizzaguy"}, "edited": false, "score": 1, "creation_date": 1576111418, "post_id": 59295849, "comment_id": 104796615, "body": "Please include that you have researched. If you haven&#39;t, I strongly suggest you do that now."}], "answers": [{"tags": [], "owner": {"reputation": 10458, "user_id": 1242389, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/174b77913a44ff5cdf586ca4330ee818?s=128&d=identicon&r=PG", "display_name": "rafaelcastrocouto", "link": "https://stackoverflow.com/users/1242389/rafaelcastrocouto"}, "is_accepted": false, "score": 1, "last_activity_date": 1576111913, "last_edit_date": 1576111913, "creation_date": 1576111102, "answer_id": 59296121, "question_id": 59295849, "link": "https://stackoverflow.com/questions/59295849/javascript-double-click-card/59296121#59296121", "title": "JavaScript Double Click Card", "body": "<p>You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\" rel=\"nofollow noreferrer\"><code>addEventListener</code></a> and the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/dblclick_event\" rel=\"nofollow noreferrer\"><code>dlbclick event</code></a> to handle double clicks </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var id = 1;\r\ndocument.getElementById(\"c\" + id).addEventListener('dblclick', function () {\r\n  this.classList.toggle('dblclick');\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.card { \r\n  padding: 1em; \r\n  background: #ddd;\r\n  width: 5em;\r\n  height: 8em;\r\n  user-select: none;\r\n}\r\n.card.dblclick {\r\n  background: tomato;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"c1\" class=\"card\"&gt;\r\n  &lt;h3&gt;A card&lt;/h3&gt;\r\n  &lt;p&gt;Double click me&lt;/p&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user12521516"}, "edited": false, "score": 0, "creation_date": 1576162873, "post_id": 59296393, "comment_id": 104816953, "body": "i have tried the code but it wont hide back the card"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12521516"}, "edited": false, "score": 0, "creation_date": 1576167788, "post_id": 59296393, "comment_id": 104820045, "body": "Plus when  I define the var id=1; it adds the score. because the id is the number of the image"}, {"owner": {"reputation": 372, "user_id": 1227197, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/391ebd18a7aa6add5f836d5281b3def3?s=128&d=identicon&r=PG", "display_name": "Maude", "link": "https://stackoverflow.com/users/1227197/maude"}, "edited": false, "score": 0, "creation_date": 1578413894, "post_id": 59296393, "comment_id": 105426693, "body": "If you want to hide the card, you can simply add a &quot;else&quot; to the clickCard function.     }else{ \t\tthis.style.backgroundImage = &quot;url(imagens/capa.jpg)&quot;; \t}  However, I just re-read your question and it seems like I misunderstood what you needed. You want to be able to click on a card, see the content, but then have to click on ANOTHER card (and not the same one), right?"}], "tags": [], "owner": {"reputation": 372, "user_id": 1227197, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/391ebd18a7aa6add5f836d5281b3def3?s=128&d=identicon&r=PG", "display_name": "Maude", "link": "https://stackoverflow.com/users/1227197/maude"}, "is_accepted": false, "score": 0, "last_activity_date": 1576113477, "creation_date": 1576113477, "answer_id": 59296393, "question_id": 59295849, "link": "https://stackoverflow.com/questions/59295849/javascript-double-click-card/59296393#59296393", "title": "JavaScript Double Click Card", "body": "<p>The title of the question seems to be misleading. What I believe Rajesh wants, is to force the user to only be able to click once on a card. </p>\n\n<p>How about using a <a href=\"https://www.w3schools.com/tags/att_global_data.asp\" rel=\"nofollow noreferrer\">data-*</a>?</p>\n\n<pre><code>var id = 1;\nfunction init(){\n    // You probably want querySelectorAll and a loop here to add events to all cards\n    document.getElementById(\"c\" + id).addEventListener('click', clickCard);\n}\n\n\nfunction clickCard() {\n    if (this.getAttribute(\"data-firstTime\") == null){\n        this.setAttribute(\"data-firstTime\", \"done\");\n        console.log(\"do normal game stuff, first time this card is clicked!\");\n    }\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", init);\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user12521516"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1576113740, "creation_date": 1576108511, "last_edit_date": 1576113740, "question_id": 59295849, "link": "https://stackoverflow.com/questions/59295849/javascript-double-click-card", "title": "JavaScript Double Click Card", "body": "<p>This is a memory card game that I am doing I hope it can be successful.\nHow can I make it so I can't click more than once in a card?\nWhy isn't it working?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var board = Array(1, 2, 3, 4, 5, 1, 2, 3, 4, 5);\nvar firstcard = true;\nvar num1, pos1\nvar num2, pos2\nvar good1 = 0;\nvar bad1 = 0;\nvar lockboard = false\n\n\n\nfunction shuffle(num) {\n  for (i = 1; i &lt;= num; i++) {\n    n1 = parseInt(Math.random() * 10); // posi\u00e7\u00e3o 1\n    n2 = parseInt(Math.random() * 10); // posi\u00e7\u00e3o 2\n    temp = board[n1]; // 3\u00aa var\n    board[n1] = board[n2];\n    board[n2] = temp;\n  }\n}\n\nfunction hide(id) {\n  document.getElementById(\"c\" + id).style.backgroundImage = \"url(imagens/capa.jpg)\";\n\n}\n\n\nfunction play(id) {\n  document.getElementById(\"c\" + id).style.backgroundImage = \"url('imagens/\" + tabuleiro[id] + \".jpg')\";\n\n  if (firstcard == true) {\n    num1 = tabuleiro[id];\n    pos1 = id;\n    removeEventListener('firstclick')\n    else {\n      num2 = tabuleiro[id];\n      pos2 = id;\n    }\n\n    if (firstcard == false)\n\n\n      if (num1 == num2) {\n        good1 = good1 + 1;\n        document.getElementById('good').innerHTML = good1;\n\n        if (good1 == 5)\n          document.getElementById('next').style.visibility = \"visible\";\n        if (good1 == 5)\n          alert(\"Nivel Completo. Prossiga para o pr\u00f3ximo\")\n      }\n    else {\n      bad1 = bad1 + 1;\n\n      setTimeout('hide(' + pos1 + ')', 500);\n      setTimeout('hide(' + pos2 + ')', 500);\n      document.getElementById('bad').innerHTML = bad1;\n\n\n    }\n\n\n    firstcard = !firstcard;\n\n  }\n</code></pre>\n\n<p>If you have any suggestions to add I would consider them thankfully and open mind.</p>\n"}, {"tags": ["javascript", "firefox", "blob", "filesaver.js"], "comments": [{"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 1, "creation_date": 1576109578, "post_id": 59295845, "comment_id": 104796244, "body": "Is the document the same origin as the URI?"}, {"owner": {"reputation": 119, "user_id": 6154432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee48153166d6f0ec3ff13e1f0abd93ab?s=128&d=identicon&r=PG&f=1", "display_name": "trimtosize", "link": "https://stackoverflow.com/users/6154432/trimtosize"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1576136197, "post_id": 59295845, "comment_id": 104802670, "body": "Yes, they are. Note that <code>alert(&quot;zipBlob size = &quot; + zipBlob.size)</code> returns <code>zipBlob size = 5556200</code> no matter whether the server is localhost or is on another address. But, in the second case, <code>FileSaver.saveAs</code> creates a file with accurate file name but of length 0. On localhost it saves a file of a size of 5.3 MB and that&#39;s OK."}, {"owner": {"reputation": 119, "user_id": 6154432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee48153166d6f0ec3ff13e1f0abd93ab?s=128&d=identicon&r=PG&f=1", "display_name": "trimtosize", "link": "https://stackoverflow.com/users/6154432/trimtosize"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 2, "creation_date": 1576164807, "post_id": 59295845, "comment_id": 104818180, "body": "I edited original post with the issue resolution."}], "owner": {"reputation": 119, "user_id": 6154432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee48153166d6f0ec3ff13e1f0abd93ab?s=128&d=identicon&r=PG&f=1", "display_name": "trimtosize", "link": "https://stackoverflow.com/users/6154432/trimtosize"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 231, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1576228464, "creation_date": 1576108472, "last_edit_date": 1576228464, "question_id": 59295845, "link": "https://stackoverflow.com/questions/59295845/saving-blob-with-javascript-always-saves-an-empty-file", "title": "Saving blob with JavaScript always saves an empty file", "body": "<p>The most intriguing part of the following code is that it works perfectly when the server is run as localhost, but it doesn't when the server is on a remote computer. The received blob size is accurate but saving blob to a file with FileSaver.saveAs produces an empty file. Can't figure out where the problem is?</p>\n\n<pre><code>function downloadResultsZip(id, reqDelay) {\nlet uri = `https://etc...`;\nlet delay = 0;\nlet timerId = setTimeout(function request() {\n    fetch(uri).then(function (response) {\n        if (response.status === 202) { // Request accepted.\n            delay = reqDelay;\n            timerId = setTimeout(request, delay);\n        } else if (response.status === 200) { // OK\n            let zipFileName = response.headers.get('Content-Disposition').match(/.*\"(.*)\".*/)[1];\n            //\n            response.blob().then(function (zipBlob) {\n                clearTimeout(timerId);\n                //alert(\"zipBlob size = \" + zipBlob.size); // ok, accurate\n                FileSaver.saveAs(zipBlob, zipFileName); // Problem!\n            });\n        } else {\n            if (response.status === 400) { // Bad Request\n                alert('Server responded with an error: \\\"input parameters are not valid\\\".');\n            } else {\n                alert('Error! Server calculation has failed.');\n            }\n            clearTimeout(timerId);\n        }\n    });\n}, delay);\n</code></pre>\n\n<p>}</p>\n\n<p>1st EDIT.</p>\n\n<p>I've just found out that the source code is correct but doesn't work as expected only in Firefox 71. In Chrome 79 and Edge 44 (EdgeHTML 18) works without issues. Since I'm quite new to JS I'm wondering how to overcame this issue. I've also tried the basic approach with creating  tag and href attribute pointing to URI service and then clicking on that link, but I succeeded to save only approx 1 KB of data, not 5.3 MB as was expected.</p>\n"}, {"tags": ["javascript", "php", "html"], "comments": [{"owner": {"reputation": 434, "user_id": 8423413, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4f57b743cbaaa979c28461a929ffaf16?s=128&d=identicon&r=PG&f=1", "display_name": "manishk", "link": "https://stackoverflow.com/users/8423413/manishk"}, "edited": false, "score": 0, "creation_date": 1576108771, "post_id": 59295807, "comment_id": 104796064, "body": "Hello. Have you tried out something yet? Please share here."}], "answers": [{"tags": [], "owner": {"reputation": 604, "user_id": 11728928, "user_type": "registered", "profile_image": "https://graph.facebook.com/2397435613656409/picture?type=large", "display_name": "Fabio Assuncao", "link": "https://stackoverflow.com/users/11728928/fabio-assuncao"}, "is_accepted": false, "score": 0, "last_activity_date": 1576108788, "creation_date": 1576108788, "answer_id": 59295871, "question_id": 59295807, "link": "https://stackoverflow.com/questions/59295807/how-to-change-text-colour-and-font-weight-if-checkbox-is-checked-with-javascript/59295871#59295871", "title": "How to change text colour and font weight if checkbox is checked with javascript?", "body": "<p>I do not have your code but I am supposing what you need is something like this.</p>\n\n<p>you gonna have your HTML like this</p>\n\n<pre><code>    &lt;p style=\"color: #FF0000; font-weight: bold;\" id='termsText'&gt;\nI have read and agree to the terms and conditions\n&lt;input type=\"checkbox\" name=\"termsChkbx\"&gt;&lt;/p&gt;\n</code></pre>\n\n<p>And your javascript should be something like this.</p>\n\n<pre><code>var input1=document.getElementsByName('termsChkbx')[0];\ninput1.onclick=function(){\n    if(input1.checked){\n    document.getElementById('termsText').style=\"color:black; font-weight: bold;\";\n    }else{\n    document.getElementById('termsText').style=\"color:red; font-weight: bold;\";\n  }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12521518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6898ef255a931471f3c2dac66f83da3b?s=128&d=identicon&r=PG&f=1", "display_name": "Gokul", "link": "https://stackoverflow.com/users/12521518/gokul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 115, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576120601, "creation_date": 1576108268, "last_edit_date": 1576120601, "question_id": 59295807, "link": "https://stackoverflow.com/questions/59295807/how-to-change-text-colour-and-font-weight-if-checkbox-is-checked-with-javascript", "title": "How to change text colour and font weight if checkbox is checked with javascript?", "body": "<p>Make the text saying \u201cI have read and agree to the terms and conditions\u201d change to the colour black and remove the bold if the user checks the terms and conditions checkbox, and return to the original formatting if they uncheck the checkbox</p>\n\n<p>Code from php file</p>\n\n<pre><code>&lt;p style=\"color: #FF0000; font-weight: bold;\" id='termsText'&gt;I have read and agree to the terms and conditions &lt;input type=\"checkbox\" name=\"termsChkbx\"&gt;&lt;/p&gt;\n</code></pre>\n\n<p>what should be the javascript file code should be by using document.getElementById</p>\n\n<p><a href=\"https://i.stack.imgur.com/qLht1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qLht1.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "paypal", "paypal-rest-sdk"], "answers": [{"tags": [], "owner": {"reputation": 14625, "user_id": 2069605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06d4b7148dd01f17ac266a6d0ca523de?s=128&d=identicon&r=PG", "display_name": "Preston PHX", "link": "https://stackoverflow.com/users/2069605/preston-phx"}, "is_accepted": true, "score": 2, "last_activity_date": 1576724087, "creation_date": 1576724087, "answer_id": 59402715, "question_id": 59295783, "link": "https://stackoverflow.com/questions/59295783/remove-billing-address-fields-in-paypal-checkout/59402715#59402715", "title": "Remove billing address fields in PayPal Checkout", "body": "<p>Billing fields are used for payment processing by PayPal, as they are necessary for communication with credit card companies for example. They are not returned to you or included as part of the transaction that you see. You cannot remove them.</p>\n"}], "owner": {"reputation": 532, "user_id": 3908460, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/7279c6d5e9c8c01e02b7035395dd25cc?s=128&d=identicon&r=PG&f=1", "display_name": "gab06", "link": "https://stackoverflow.com/users/3908460/gab06"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1787, "favorite_count": 0, "accepted_answer_id": 59402715, "answer_count": 1, "score": 2, "last_activity_date": 1576724087, "creation_date": 1576108104, "question_id": 59295783, "link": "https://stackoverflow.com/questions/59295783/remove-billing-address-fields-in-paypal-checkout", "title": "Remove billing address fields in PayPal Checkout", "body": "<p>I'm currently using this code to accept payments on my website using PayPal Express Checkout. I removed the shipping fields using the 'NO_SHIPPING' option. Since I'm selling digital goods, I would also like to remove the billing address fields (firstname, lastname, zip, phone, email) or at least any of them. How to do that?</p>\n\n<pre><code>&lt;script src=\"https://www.paypal.com/sdk/js?client-id={client-id}\"&gt;&lt;/script&gt;\n&lt;script&gt;\n    render_paypal_button();\n\n    function render_paypal_button() {\n        paypal.Buttons({\n            createOrder: function(data, actions) {\n              return actions.order.create({\n                purchase_units: [{\n                  amount: {\n                    value: 1.00\n                  }\n                }],\n                application_context: {\n                    shipping_preference: 'NO_SHIPPING'\n                }\n              });\n            },\n            onApprove: function(data, actions) {\n              return actions.order.capture().then(function(details) {\n              });\n            }\n          }).render('#paypal-button-container');\n  &lt;/script&gt;  \n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "react-hooks", "react-props"], "comments": [{"owner": {"reputation": 475, "user_id": 2345512, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/p4zhv.jpg?s=128&g=1", "display_name": "RodCardenas", "link": "https://stackoverflow.com/users/2345512/rodcardenas"}, "edited": false, "score": 0, "creation_date": 1576113270, "post_id": 59295782, "comment_id": 104796962, "body": "in <code>const [allBands, setAllBands] = useState(bandList)</code>, where is <code>bandList</code> coming from?"}, {"owner": {"reputation": 475, "user_id": 2345512, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/p4zhv.jpg?s=128&g=1", "display_name": "RodCardenas", "link": "https://stackoverflow.com/users/2345512/rodcardenas"}, "edited": false, "score": 0, "creation_date": 1576113606, "post_id": 59295782, "comment_id": 104797016, "body": "What I meant was that <code>bandList</code> is not defined within <code>Band</code> and the parameter within <code>useState</code> should be the initial value for that hook. If you need the bandList, you should pass it in as a prop and then use it for the initial value. I would say each Band probably doesn&#39;t need to know the state of all Bands, but that goes beyond the question."}], "owner": {"reputation": 1203, "user_id": 11401460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/442924dbecfe090e125cb9fdd1b7faa4?s=128&d=identicon&r=PG&f=1", "display_name": "uber", "link": "https://stackoverflow.com/users/11401460/uber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576113308, "creation_date": 1576108098, "last_edit_date": 1576113308, "question_id": 59295782, "link": "https://stackoverflow.com/questions/59295782/how-to-properly-pass-down-props-to-change-a-key-in-a-json-file", "title": "How to properly pass down props to change a key in a JSON file?", "body": "<p>I am trying to create a function that flips a value from false to true and vice versa in a JSON file. This is the JSON file, which has 4 of these:</p>\n\n<pre><code>[\n  {\n    \"id\": \"0\",\n    \"name\": \"Led Zeppelin\",\n    \"isFavorite\": false\n  },\n[...]\n</code></pre>\n\n<p>This is the component used to show each of the bands:</p>\n\n<pre><code>const Options = () =&gt; {\n  const bandElements = bandList.map(band =&gt; (\n    &lt;Band\n      key={band.id}\n      id={band.id}\n      isFavorite={band.isFavorite}\n      name={band.name}\n    /&gt;\n  ));\n\n  return (\n    &lt;div&gt;\n      &lt;ul&gt;{bandElements}&lt;/ul&gt;\n    &lt;/div&gt;\n  );\n};\n\nexport default Options;\n</code></pre>\n\n<p>And finally, the component in which I am trying to toggle that isFavorite property:</p>\n\n<pre><code>const Band = props =&gt; {\n  const [hovered, setHovered] = useState(false);\n  const [allBands, setAllBands] = useState(bandList);\n\n  function toggleFavorite(id) {\n    const newArr = allBands.map(band =&gt; {\n      if (band.id === id) {\n        return { ...band, isFavorite: !band.isFavorite };\n      }\n      return band;\n    });\n    setAllBands(newArr);\n  }\n\n  const isSelected = props.isFavorite ? (\n    &lt;h3&gt;OK&lt;/h3&gt;\n  ) : (\n    hovered &amp;&amp; &lt;i className=\"icon-fix\"&gt;&amp;#128946;&lt;/i&gt;\n  );\n\n  return (\n    &lt;&gt;\n      &lt;li\n        onMouseEnter={() =&gt; setHovered(true)}\n        onMouseLeave={() =&gt; setHovered(false)}\n        onClick={() =&gt; toggleFavorite(props.id)}\n      &gt;\n        {props.name}\n      &lt;/li&gt;\n      {isSelected}\n    &lt;/&gt;\n  );\n};\n\nexport default Band;\n</code></pre>\n"}, {"tags": ["javascript", "sails.js"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 12521486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/635f47b46ab329a228feaa52135e5643?s=128&d=identicon&r=PG&f=1", "display_name": "jsmallwood", "link": "https://stackoverflow.com/users/12521486/jsmallwood"}, "edited": false, "score": 0, "creation_date": 1577373718, "post_id": 59475153, "comment_id": 105154868, "body": "Thanks for confirming, after multiple attempts I&#39;ve concluded that as well but did find that it&#39;ll only include files based on specific extensions. So I came up with a working solution I&#39;ll post in another comment."}], "tags": [], "owner": {"reputation": 495, "user_id": 5823893, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GIHms2pRCno/AAAAAAAAAAI/AAAAAAAABFQ/fZhyIrJgTLw/photo.jpg?sz=128", "display_name": "Nathan Hawks", "link": "https://stackoverflow.com/users/5823893/nathan-hawks"}, "is_accepted": false, "score": 0, "last_activity_date": 1577246860, "creation_date": 1577246860, "answer_id": 59475153, "question_id": 59295775, "link": "https://stackoverflow.com/questions/59295775/is-there-a-way-to-skip-loading-certain-config-files-in-sails-js-app/59475153#59475153", "title": "Is there a way to skip loading certain config files in sails.js app?", "body": "<p>No. If they're in the <code>config</code> folder or any subfolder, they will be loaded. However, once you've put them in a new folder, you can conditionally require them in your <code>config/custom.js</code> logic.</p>\n\n<p>If sails isn't woken-up enough yet (during config-loading) to accommodate your logic, you can set the config vars at any time:</p>\n\n<pre><code>sails.config.custom.test = 'wut';\nconsole.log(sails.config.custom.test);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 12521486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/635f47b46ab329a228feaa52135e5643?s=128&d=identicon&r=PG&f=1", "display_name": "jsmallwood", "link": "https://stackoverflow.com/users/12521486/jsmallwood"}, "is_accepted": true, "score": 1, "last_activity_date": 1577374291, "creation_date": 1577374291, "answer_id": 59490419, "question_id": 59295775, "link": "https://stackoverflow.com/questions/59295775/is-there-a-way-to-skip-loading-certain-config-files-in-sails-js-app/59490419#59490419", "title": "Is there a way to skip loading certain config files in sails.js app?", "body": "<p>You cannot stop Sails from loading certain files, however there is still a solution.</p>\n\n<p>Based on additional research and @nathanhawks answer it does appear Sails.js will automatically load any .js files in the /config folder &amp; subfolders...there is no way to tell Sails to skip anything. However, it <em>will</em> skip extensions it doesn't recognize so this offers an opportunity to still use the /config folder but control what you're loading. Here's what I did:</p>\n\n<p>/config/custom.js &lt;- this file has my logic for loading all my own custom config files<br>\n/config/custom/settings1.config &lt;- this is a regular module file, just renamed with extension \".config\" and put in a subfolder called \"custom\". You can divide up your settings into as many files as needed. Because Sails.js doesn't recognize .config it skips during the automatic load of the config files. However, it will load your main custom.js file and this is where you can load the .config files on your own.</p>\n\n<p>In custom.js you can do this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let set1 = require('./custom/settings1.config');\nlet set2 = require('./custom/settings2.config');\nlet set3 = require('./custom/settings3.config');\n\nlet mySettings = {\n   mySettings1 : set1,\n   mySettings2 : set2,\n   mySettings3 : set3,\n   myFunction : function() {\n      // can add custom functions to your custom config object, like special getter/setters or anything else\n   }\n}\nmodule.exports = mySettings;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12521486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/635f47b46ab329a228feaa52135e5643?s=128&d=identicon&r=PG&f=1", "display_name": "jsmallwood", "link": "https://stackoverflow.com/users/12521486/jsmallwood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 59490419, "answer_count": 2, "score": 0, "last_activity_date": 1577374291, "creation_date": 1576108012, "question_id": 59295775, "link": "https://stackoverflow.com/questions/59295775/is-there-a-way-to-skip-loading-certain-config-files-in-sails-js-app", "title": "Is there a way to skip loading certain config files in sails.js app?", "body": "<p>Is there a way to put .js files in the sails.js  /config directory and instruct sails to skip them? i.e. NOT automatically load them when lifting?</p>\n\n<p>I want to utilize the sails.js <em>config.custom</em> features. However, my app has a tremendous number of custom settings so I want to split them into separate files (i.e. custom1.js, custom2.js, etc) However, I need the custom settings loaded in a specific order because the settings refer to each other and because code being executed as the settings are created.</p>\n\n<p>What I was thinking was using the custom.js file to load my settings modules as needed so I can control how it is built. Maybe do something like this:</p>\n\n<pre><code>let customSettings1 = require('./custom1.js');\nlet customSettings2 = require('./custom2.js');\nlet settings = {\n    cust1:customSettings1,\n    cust2:customSettings2\n}\nmodule.exports.custom = settings;\n</code></pre>\n\n<p>However this approach means I need to instruct sails.js to ignore my subset custom modules because custom1.js will be loaded automatically once it exists in the /config folder. Is there a way to do this?</p>\n"}, {"tags": ["javascript", "google-tag-manager", "facebook-pixel", "google-datalayer"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 9775651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af6770089caa59f3667a765c4ea996c7?s=128&d=identicon&r=PG&f=1", "display_name": "Alaa", "link": "https://stackoverflow.com/users/9775651/alaa"}, "edited": false, "score": 0, "creation_date": 1576129421, "post_id": 59296184, "comment_id": 104800354, "body": "Thank you, Beck. I have dynamic parameters in <code>advancedMatching</code>. Can you help me to write the helper function? I am more to marketing than development."}, {"owner": {"reputation": 1091, "user_id": 1146518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/026dde5c5ed48e30d006ac075410871e?s=128&d=identicon&r=PG", "display_name": "Beck Johnson", "link": "https://stackoverflow.com/users/1146518/beck-johnson"}, "reply_to_user": {"reputation": 21, "user_id": 9775651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af6770089caa59f3667a765c4ea996c7?s=128&d=identicon&r=PG&f=1", "display_name": "Alaa", "link": "https://stackoverflow.com/users/9775651/alaa"}, "edited": false, "score": 0, "creation_date": 1576560399, "post_id": 59296184, "comment_id": 104929394, "body": "function GetFBParameters() {         return dataLayer.find(function(i) {             if (i.hasOwnProperty(&quot;advancedMatching&quot;)) {                 return i;             }         })[&quot;advancedMatching&quot;];     }  fbq(&#39;init&#39;, &#39;pixel id&#39;, GetFBParameters());"}, {"owner": {"reputation": 21, "user_id": 9775651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af6770089caa59f3667a765c4ea996c7?s=128&d=identicon&r=PG&f=1", "display_name": "Alaa", "link": "https://stackoverflow.com/users/9775651/alaa"}, "edited": false, "score": 0, "creation_date": 1576751290, "post_id": 59296184, "comment_id": 105003122, "body": "Unfortunately, this doesn&#39;t work. Thank you anyway, Beck."}], "tags": [], "owner": {"reputation": 1091, "user_id": 1146518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/026dde5c5ed48e30d006ac075410871e?s=128&d=identicon&r=PG", "display_name": "Beck Johnson", "link": "https://stackoverflow.com/users/1146518/beck-johnson"}, "is_accepted": false, "score": 1, "last_activity_date": 1576111726, "creation_date": 1576111726, "answer_id": 59296184, "question_id": 59295694, "link": "https://stackoverflow.com/questions/59295694/cannot-pull-data-layer-variable-in-google-tag-manager/59296184#59296184", "title": "Cannot pull Data Layer Variable in Google Tag Manager", "body": "<p>I think you have to parse the values of the <code>advancedMatching</code> object yourself in the FB pixel, like </p>\n\n<pre><code>fbq('init', 'pixel id', {\n    em: advancedMatching.em,\n    fn: advancedMatching.fn,\n    ln: advancedMatching.ln\n});\n</code></pre>\n\n<p>You could probably write a helper function to map this for you, if you have dynamic tracking parameters in <code>advancedMatching</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 9775651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af6770089caa59f3667a765c4ea996c7?s=128&d=identicon&r=PG&f=1", "display_name": "Alaa", "link": "https://stackoverflow.com/users/9775651/alaa"}, "edited": false, "score": 0, "creation_date": 1576364265, "post_id": 59317729, "comment_id": 104877303, "body": "I already tried it, but not working. I get this:  <code>fbq(&#39;init&quot;, &#39;pixel id&#39;, google_tag_manager [GTM-XXXX].macro...</code>"}], "tags": [], "owner": {"reputation": 4425, "user_id": 9424962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4571da81567610b151ee8af7c4b795?s=128&d=identicon&r=PG&f=1", "display_name": "XTOTHEL", "link": "https://stackoverflow.com/users/9424962/xtothel"}, "is_accepted": false, "score": 0, "last_activity_date": 1576221010, "creation_date": 1576221010, "answer_id": 59317729, "question_id": 59295694, "link": "https://stackoverflow.com/questions/59295694/cannot-pull-data-layer-variable-in-google-tag-manager/59317729#59317729", "title": "Cannot pull Data Layer Variable in Google Tag Manager", "body": "<p>You just need to modify your pixel code to remove the quotes around like so:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>&lt;!-- Facebook Pixel Code --&gt;\r\n&lt;script&gt;\r\n...\r\nfbq('init', 'pixel id',\r\n  {{AdvancedMatchingVariable}}\r\n);\r\n&lt;/script&gt;\r\n&lt;!-- End Facebook Pixel Code --&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 21, "user_id": 9775651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af6770089caa59f3667a765c4ea996c7?s=128&d=identicon&r=PG&f=1", "display_name": "Alaa", "link": "https://stackoverflow.com/users/9775651/alaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1576221010, "creation_date": 1576107349, "question_id": 59295694, "link": "https://stackoverflow.com/questions/59295694/cannot-pull-data-layer-variable-in-google-tag-manager", "title": "Cannot pull Data Layer Variable in Google Tag Manager", "body": "<p>I want to implement <a href=\"https://developers.facebook.com/docs/facebook-pixel/advanced/advanced-matching/\" rel=\"nofollow noreferrer\">Facebook Advanced Matching Manually</a> using Google Tag Manager. I did the following: </p>\n\n<p><strong>On GTM, I did the following:</strong> </p>\n\n<ol>\n<li>Created a variable named <code>AdvancedMatchingVariable</code> of the type Data\nLayer Variable with Variable Name <code>advancedMatching</code></li>\n<li>I Updated Facebook Base Code Tag to include the new variable as follows:</li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>&lt;!-- Facebook Pixel Code --&gt;\r\n&lt;script&gt;\r\n...\r\nfbq('init', 'pixel id',\r\n  '{{AdvancedMatchingVariable}}'\r\n);\r\n&lt;/script&gt;\r\n&lt;!-- End Facebook Pixel Code --&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>On my Website, I added this code:</strong> </p>\n\n<pre><code>dataLayer.push({\n  'advancedMatching': {\n      'em': '$email',\n      'fn': '$fname',\n      'ln': '$lname'\n     }\n});\n</code></pre>\n\n<p>However, It didn't work. I get Object Object in the facebook pixel base code. As the following:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>&lt;!-- Facebook Pixel Code --&gt;\r\n&lt;script&gt;\r\nfbq('init', '*ID*', \r\n    Object Object\r\n  );\r\n&lt;/script&gt;\r\n&lt;!-- End Facebook Pixel Code --&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>So please what is the problem with my code? I have been searching and trying to fix it for hours! </p>\n"}, {"tags": ["javascript", "mustache"], "comments": [{"owner": {"reputation": 1329, "user_id": 867945, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/A0Sp8.jpg?s=128&g=1", "display_name": "Ty Kroll", "link": "https://stackoverflow.com/users/867945/ty-kroll"}, "edited": false, "score": 0, "creation_date": 1576659152, "post_id": 59295675, "comment_id": 104967329, "body": "Can you sketch use the output you want from that array? I don&#39;t understand the nested key 2 with sub-selects with one item each."}, {"owner": {"reputation": 1460, "user_id": 928666, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-HnXaAC-fOno/AAAAAAAAAAI/AAAAAAAAB0s/0JVDHyWDm20/photo.jpg?sz=128", "display_name": "steros", "link": "https://stackoverflow.com/users/928666/steros"}, "reply_to_user": {"reputation": 1329, "user_id": 867945, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/A0Sp8.jpg?s=128&g=1", "display_name": "Ty Kroll", "link": "https://stackoverflow.com/users/867945/ty-kroll"}, "edited": false, "score": 0, "creation_date": 1576663604, "post_id": 59295675, "comment_id": 104969494, "body": "It&#39;s just like a file tree. Files you can select, folders you can go one level deeper. Does that help? Key1, 3 &amp; key4 are folders that have selectable files in them. Key2 is a folder that has subfolders."}, {"owner": {"reputation": 1460, "user_id": 928666, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-HnXaAC-fOno/AAAAAAAAAAI/AAAAAAAAB0s/0JVDHyWDm20/photo.jpg?sz=128", "display_name": "steros", "link": "https://stackoverflow.com/users/928666/steros"}, "reply_to_user": {"reputation": 1329, "user_id": 867945, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/A0Sp8.jpg?s=128&g=1", "display_name": "Ty Kroll", "link": "https://stackoverflow.com/users/867945/ty-kroll"}, "edited": false, "score": 0, "creation_date": 1576727898, "post_id": 59295675, "comment_id": 104994899, "body": "I made a wireframe here: <a href=\"https://wireframe.cc/wzpuw3\" rel=\"nofollow noreferrer\">wireframe.cc/wzpuw3</a>"}], "answers": [{"tags": [], "owner": {"reputation": 14808, "user_id": 8053274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3b63d7d92b7c13a683e3763941972e7?s=128&d=identicon&r=PG&f=1", "display_name": "User863", "link": "https://stackoverflow.com/users/8053274/user863"}, "is_accepted": true, "score": 1, "last_activity_date": 1576755386, "last_edit_date": 1576755386, "creation_date": 1576754772, "answer_id": 59408796, "question_id": 59295675, "link": "https://stackoverflow.com/questions/59295675/create-dynamic-dropdowns-with-mustache/59408796#59408796", "title": "create dynamic dropdown(s) with mustache", "body": "<p><a href=\"https://github.com/janl/mustache.js/\" rel=\"nofollow noreferrer\">Mustache</a> is a <code>logic-less</code> template syntax because there are no if statements, else clauses, or for loops. Instead, there are only tags. Some tags are replaced with a value, some nothing, and others a series of values.</p>\n\n<p>So you cant update the rendered HTML based on the selected value with <code>mustache</code>. </p>\n\n<p>Here I'm using <code>onchange</code> event to dynamically create the select based on the previous selected value using plain Javascript without <code>mustache</code> template </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data = {\r\n  \"key 1\": [\"val1\", \"val2\", \"val3\"],\r\n  \"key 2\": {\r\n    \"key 3\": [\"val4\"],\r\n    \"key 4\": [\"val5\"]\r\n  }\r\n}\r\n\r\nfunction renderSelect(obj) {\r\n  var array = Array.isArray(obj) ? obj : Object.keys(obj)\r\n  var options = ['Choose', ...array].map(i =&gt; \"&lt;option&gt;\" + i + \"&lt;/option&gt;\").join('')\r\n\r\n  var select = document.createElement('select')\r\n  select.innerHTML = options\r\n  if (!Array.isArray(obj)) {\r\n    select.onchange = function() {\r\n      // remove next siblings\r\n      var sib = [], el = this\r\n      while (el = el.nextElementSibling) sib.push(el)\r\n      sib.forEach(el =&gt; el.remove())\r\n      // render select based on value\r\n      renderSelect(obj[this.value])\r\n    }\r\n  }\r\n\r\n  document.querySelector('form').insertAdjacentElement('beforeend', select);\r\n}\r\n\r\nrenderSelect(data)</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form&gt;&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 40, "user_id": 12416248, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--CAf0LxOvEc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rewCbwjBo4HEpDfwkjrBa11Vkqcvg/photo.jpg?sz=128", "display_name": "Sarah Sundar", "link": "https://stackoverflow.com/users/12416248/sarah-sundar"}, "is_accepted": false, "score": -1, "last_activity_date": 1576833615, "last_edit_date": 1576833615, "creation_date": 1576756987, "answer_id": 59409413, "question_id": 59295675, "link": "https://stackoverflow.com/questions/59295675/create-dynamic-dropdowns-with-mustache/59409413#59409413", "title": "create dynamic dropdown(s) with mustache", "body": "<pre><code>&lt;script&gt;\nfunction process() {\n  var template, data, html;\n  template = $('#template').val();\n  eval( $('#data').val() );\n  html = Mustache.render( template, data );\n  $('#html').text( html );\n  $('#result').html( html );\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>Now attach this plugin</p>\n\n<pre><code>  &lt;link rel=\"stylesheet\" href=\"style.css\" /&gt;\n  &lt;script type=\"text/javascript\" src=\"http://code.jquery.com/jquery-1.7.1.min.js\"&gt;&lt;/script&gt;\n  &lt;script type=\"text/javascript\" src=\"mustache.js\"&gt;&lt;/script&gt;\n  &lt;script type=\"text/javascript\" src=\"mustache-demos.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<ol>\n<li>Extracts #template textarea. </li>\n<li>Calls eval() with data object. </li>\n<li>Calls Mustache.render() </li>\n<li>Inserts #html textarea.</li>\n</ol>\n\n<p>Output</p>\n\n<p><a href=\"https://i.stack.imgur.com/vQIO4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vQIO4.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1460, "user_id": 928666, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-HnXaAC-fOno/AAAAAAAAAAI/AAAAAAAAB0s/0JVDHyWDm20/photo.jpg?sz=128", "display_name": "steros", "link": "https://stackoverflow.com/users/928666/steros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 199, "favorite_count": 0, "accepted_answer_id": 59408796, "answer_count": 2, "score": 1, "last_activity_date": 1576833615, "creation_date": 1576107208, "last_edit_date": 1576727968, "question_id": 59295675, "link": "https://stackoverflow.com/questions/59295675/create-dynamic-dropdowns-with-mustache", "title": "create dynamic dropdown(s) with mustache", "body": "<p>I have the following structure:</p>\n\n<pre><code>[\n \"key 1\": [ \"val1\", \"val2\", \"val3\" ],\n \"key 2\": [\n  \"key 3\": [ \"val4\" ],\n  \"key 4\": [ \"val5\" ]\n ]\n]\n</code></pre>\n\n<p>I want to generate dropdowns from this. \"key 1\"...would be the selectable names, \"val1\"... the values.\nIf there is a sub array on the selected key I want to dynamically create another dropdown with those values until the sub arrays just have one value. (like in case \"key 2\")</p>\n\n<p>I have no idea how to go on this with mustache.\nI can get all the keys of the first level into a flat array with <code>Object.keys</code> but I can't even generate the first dropdown. Let alone that I have any idea how to go with the other part.</p>\n\n<p>It would be nice to get a general direction as to how it could be done.</p>\n\n<p>Here is some sample code:</p>\n\n<pre><code>  const view = {\n    files: getFiles(),\n    \"keys\": function() {\n      return Object.keys(this);\n    }\n  };\n\n    &lt;form&gt;\n      &lt;select id=\"selector\"&gt;\n        &lt;option&gt;choose...&lt;/option&gt;\n        {{#files}}\n          {{#keys}}\n          &lt;option value=\"\"&gt;{{.}}&lt;/option&gt;\n          {{/keys}}\n        {{/files}}\n      &lt;/select&gt;\n    &lt;/form&gt;\n</code></pre>\n\n<p>Here is a wireframe, the top is the first case when selecting <code>key1</code>, the bottom is when selecting <code>key2</code>.\n<a href=\"https://i.stack.imgur.com/Omt6q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Omt6q.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "android", "nativescript", "nativescript-vue"], "answers": [{"tags": [], "owner": {"reputation": 501, "user_id": 3043340, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oVbpm.png?s=128&g=1", "display_name": "touchmx", "link": "https://stackoverflow.com/users/3043340/touchmx"}, "is_accepted": true, "score": 2, "last_activity_date": 1576127549, "creation_date": 1576127549, "answer_id": 59298084, "question_id": 59295644, "link": "https://stackoverflow.com/questions/59295644/nativescript-application-dont-open-file-chooser-on-webview/59298084#59298084", "title": "Nativescript application dont open file chooser on WebView", "body": "<p>The problem is that WebView is very limited. But, you can use a plugin to call a file chooser. \nIn my solution i used the <a href=\"https://github.com/NativeScript/nativescript-imagepicker\" rel=\"nofollow noreferrer\">imagepicker plugin</a>\nThe complete code is:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>fileCallback(filePathCallback) {\n        console.log(\"fileCallback\");\n        let context = imagePicker.create({\n          mode: \"single\",\n          mediaType: imagePicker.ImagePickerMediaType.Any\n        });\n        return this.startSelection(context, filePathCallback);\n      },\n      startSelection(context, filePathCallback) {\n        console.log(\"startSelection\");\n        let abc = context.authorize().then(() =&gt; {\n          return context.present();\n        })\n          .then((selection) =&gt; {\n            selection.forEach((selected) =&gt; {\n              let path = selected.android;\n              let file = fs.File.fromPath(path);\n              this.file_path = file.path;\n              this.file_path = \"file://\" + this.file_path;\n              let results = Array.create(android.net.Uri, 1);\n              results[0] = android.net.Uri.parse(this.file_path);\n              filePathCallback.onReceiveValue(results);\n            });\n          }).catch(function (e) {\n            console.log(e);\n          });\n      }\n\n     let TNSWebChromeClient = android.webkit.WebChromeClient.extend({\n          onShowFileChooser: function (view, valueCallback, fileChooserParams) {\n            console.log(\"onShowFileChooser\");\n            _this.fileCallback(valueCallback);\n            return true;\n          }\n        });\n    let thsWebChromeClient = new TNSWebChromeClient();\n     webview.android.setWebChromeClient(thsWebChromeClient);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2879, "user_id": 11082165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b73f08b7fb69386c5dc56497ff2ca58?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/11082165/brian"}, "edited": false, "score": 0, "creation_date": 1587674630, "post_id": 61395756, "comment_id": 108612247, "body": "Hello! While this code may solve the question, <a href=\"https://meta.stackexchange.com/q/114762\">including an explanation</a> of how and why this solves the problem would really help to improve the quality of your post, and probably result in more up-votes. Remember that you are answering the question for readers in the future, not just the person asking now. Please <a href=\"https://stackoverflow.com/posts/61395756/edit\">edit</a> your answer to add explanations and give an indication of what limitations and assumptions apply."}], "tags": [], "owner": {"reputation": 1, "user_id": 6912777, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FsjYXn3fWvg/AAAAAAAAAAI/AAAAAAAAAHk/u1Ud07VdCT8/photo.jpg?sz=128", "display_name": "\u041d\u0438\u043a\u043e\u043b\u0430\u0439 \u042f\u043c\u0431\u0440\u043e\u0441\u044c\u043a\u0438\u043d", "link": "https://stackoverflow.com/users/6912777/%d0%9d%d0%b8%d0%ba%d0%be%d0%bb%d0%b0%d0%b9-%d0%af%d0%bc%d0%b1%d1%80%d0%be%d1%81%d1%8c%d0%ba%d0%b8%d0%bd"}, "is_accepted": false, "score": 0, "last_activity_date": 1587671391, "creation_date": 1587671391, "answer_id": 61395756, "question_id": 59295644, "link": "https://stackoverflow.com/questions/59295644/nativescript-application-dont-open-file-chooser-on-webview/61395756#61395756", "title": "Nativescript application dont open file chooser on WebView", "body": "<pre><code> webViewLoaded(args: EventData): any {\n        const webView: WebView = &lt;WebView&gt;args.object;\n\n        if (webView.android) {\n\n\n            const filechooser = 1;\n            let message = null;\n            let activity = application.android.context;\n            const onActivityResult = (requestCode, resultCode, data) =&gt; {\n\n            }\n            // @ts-ignore\n            let myChrome = android.webkit.WebChromeClient.extend({\n                onShowFileChooser: (webView, filePathCallback, fileChooserParams) =&gt; {\n                    openfile(webView, filePathCallback, fileChooserParams).then(value =&gt; {\n                        console.log(value)\n                    })\n                    return true;\n                }\n            });\n            webView.android.setWebChromeClient(new myChrome());\n        }\n    }\n\n\nfunction openfile(webView, filePathCallback, fileChooserParams) {\n    return new Promise(function(resolve, reject) {\n        try {\n            const filechooser = 1;\n\n            let intent = fileChooserParams.createIntent();\n            intent.addCategory(\"android.intent.category.OPENABLE\");\n            // @ts-ignore\n            let chooser = android.content.Intent.createChooser(intent, \"File Chooser\")\n\n            application.android.foregroundActivity.startActivityForResult(chooser, filechooser);\n\n            var activity =\n                application.android.foregroundActivity || application.android.startActivity;\n\n            activity.onActivityResult = function(requestCode, resultCode, data) {\n                // Check which request we're responding to\n                if (requestCode === filechooser) {\n                    // @ts-ignore\n                    if (resultCode === android.app.Activity.RESULT_OK) {\n                        if (data != null &amp;&amp; requestCode == filechooser &amp;&amp; filePathCallback != null) {\n\n                            // @ts-ignore\n                            let value = android.webkit.WebChromeClient.FileChooserParams.parseResult(resultCode, data);\n                            filePathCallback.onReceiveValue(value);\n                        }\n\n                        return resolve({\n                            response: 'success'\n                        });\n                        // @ts-ignore\n                    } else if (resultCode === android.app.Activity.RESULT_CANCELED) {\n                        return resolve({\n                            response: 'cancelled'\n                        });\n                    } else {\n                        return resolve({\n                            response: 'failed'\n                        });\n                    }\n                }\n            };\n        } catch (ex) {\n            reject(ex.toString());\n        }\n    });\n}\n\n</code></pre>\n\n<p>i hope it helps anything ...))</p>\n"}], "owner": {"reputation": 501, "user_id": 3043340, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oVbpm.png?s=128&g=1", "display_name": "touchmx", "link": "https://stackoverflow.com/users/3043340/touchmx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 341, "favorite_count": 0, "accepted_answer_id": 59298084, "answer_count": 2, "score": 0, "last_activity_date": 1587671391, "creation_date": 1576106985, "question_id": 59295644, "link": "https://stackoverflow.com/questions/59295644/nativescript-application-dont-open-file-chooser-on-webview", "title": "Nativescript application dont open file chooser on WebView", "body": "<p>I have an application Nativescript with a WebView. These WebView open a url, and this url have a input type file.\nWhen i touch in this input, nothing happens.\nI've trying extend the WebChromeClient class and the method onShowFileChooser is called, but nothing happens.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let myWebChromeClientClass = android.webkit.WebChromeClient.extend({\n          onShowFileChooser: function (WebView, ValueCallback, FileChooserParams) {\n            console.log(\"onShowFileChooser\");\n           // What i have to do here?\n          }\n        });\n        let myWebChromeClient = new myWebChromeClientClass();\n webview.android.setWebChromeClient(myWebChromeClient);\n</code></pre>\n\n<p>I dont know what i have to do.</p>\n"}, {"tags": ["javascript", "reactjs", "create-react-app"], "comments": [{"owner": {"reputation": 2646, "user_id": 6308685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73d4e8cd4bfec537fda6e26c9ea2d430?s=128&d=identicon&r=PG&f=1", "display_name": "alex067", "link": "https://stackoverflow.com/users/6308685/alex067"}, "edited": false, "score": 0, "creation_date": 1576107461, "post_id": 59295620, "comment_id": 104795740, "body": "can you try npm instead of npx"}, {"owner": {"reputation": 862, "user_id": 11755375, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TelJT.png?s=128&g=1", "display_name": "Michael Mayo", "link": "https://stackoverflow.com/users/11755375/michael-mayo"}, "edited": false, "score": 0, "creation_date": 1576109802, "post_id": 59295620, "comment_id": 104796289, "body": "If you still have a global install of <code>create-react-app</code> this may be the problem.  If so, I would suggest running <code>npm un -g create-react-app</code> and then trying to run <code>npx create-react-app myapp</code>"}, {"owner": {"reputation": 145, "user_id": 11100445, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IIPJV_iWgu0/AAAAAAAAAAI/AAAAAAAAAIg/Q1cQdJRc5yg/photo.jpg?sz=128", "display_name": "seattleguy", "link": "https://stackoverflow.com/users/11100445/seattleguy"}, "edited": false, "score": 0, "creation_date": 1576193810, "post_id": 59295620, "comment_id": 104830105, "body": "npm un -g create-react-app and doing it again and it didn&#39;t work. I&#39;m pretty perplexed here."}], "owner": {"reputation": 145, "user_id": 11100445, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IIPJV_iWgu0/AAAAAAAAAAI/AAAAAAAAAIg/Q1cQdJRc5yg/photo.jpg?sz=128", "display_name": "seattleguy", "link": "https://stackoverflow.com/users/11100445/seattleguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576109321, "creation_date": 1576106828, "last_edit_date": 1592644375, "question_id": 59295620, "link": "https://stackoverflow.com/questions/59295620/create-react-app-works-but-gives-no-starter-code", "title": "create react app works but gives no starter code", "body": "<p>I think I must have messed something up on my computer, but I'm not sure what. I did</p>\n<pre><code>npx create-react-app myapp\n</code></pre>\n<p>everything works fine but I don't get and starter code. All I'm getting is the node modules and the package.json</p>\n<p>// package.json</p>\n<pre><code>{\n  &quot;name&quot;: &quot;myapp&quot;,\n  &quot;version&quot;: &quot;0.1.0&quot;,\n  &quot;private&quot;: true,\n  &quot;dependencies&quot;: {\n    &quot;react&quot;: &quot;^16.12.0&quot;,\n    &quot;react-dom&quot;: &quot;^16.12.0&quot;,\n    &quot;react-scripts&quot;: &quot;3.3.0&quot;\n  }\n}\n</code></pre>\n<p>anyone know how to reset it all so it gives me the starter code again?</p>\n<p><a href=\"https://i.stack.imgur.com/SMvOi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SMvOi.png\" alt=\"enter image description here\" /></a></p>\n"}, {"tags": ["javascript", "typescript", "promise"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1576106753, "post_id": 59295592, "comment_id": 104795554, "body": "You cannot call a promise, you can only call a function."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1576106769, "post_id": 59295592, "comment_id": 104795558, "body": "You will want to use <code>await</code> inside that <code>while</code> condition"}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1576107691, "post_id": 59295592, "comment_id": 104795811, "body": "<code>setInterval()</code> might be your friend."}, {"owner": {"reputation": 4918, "user_id": 496136, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/41d66a16c5e8fb777ebe398396e0f22f?s=128&d=identicon&r=PG", "display_name": "reza", "link": "https://stackoverflow.com/users/496136/reza"}, "edited": false, "score": 0, "creation_date": 1576107704, "post_id": 59295592, "comment_id": 104795814, "body": "but the function isBatchRequestCompleted is not a promise"}], "answers": [{"tags": [], "owner": {"reputation": 17307, "user_id": 1814486, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/G0mb9.png?s=128&g=1", "display_name": "nicholaswmin", "link": "https://stackoverflow.com/users/1814486/nicholaswmin"}, "is_accepted": true, "score": 1, "last_activity_date": 1578649178, "last_edit_date": 1578649178, "creation_date": 1576107944, "answer_id": 59295766, "question_id": 59295592, "link": "https://stackoverflow.com/questions/59295592/how-to-call-a-promise-on-a-set-frequency/59295766#59295766", "title": "How to call a promise on a set frequency?", "body": "<p>I'd do it using <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setInterval\" rel=\"nofollow noreferrer\"><code>setInterval</code></a>, which <em>repeatedly</em> calls a  function with a fixed time delay between calls.</p>\n\n<p>After submitting a work order, create a timer using <code>setInterval</code> which fires requests to check the status of that work order. When it's status is completed, fetch the work order, clear the check status timer and resolve the outermost Promise.</p>\n\n<p>This is a basic example of <a href=\"https://en.wikipedia.org/wiki/Polling_(computer_science)\" rel=\"nofollow noreferrer\">polling</a>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Mock functions, simulate HTTP calls to submit and fetch a work order.\r\nconst submitWorkOrder = () =&gt; Promise.resolve()\r\nconst getWorkOrder = () =&gt; Promise.resolve({ results: 'foo' })\r\n\r\n// - Mock function, simulates HTTP call to check work order status, \r\n//   after 5 tries it resolves status = 'completed'.\r\nlet i = 0\r\nconst checkWorkOrderStatus = () =&gt; \r\n  Promise.resolve({ status: ++i &lt;= 5 ? 'pending' : 'completed' })\r\n\r\n// Submit work order, poll and wait for completion and \r\n// resolve the work order when completed.\r\nsubmitWorkOrder().then(() =&gt; {\r\n  return new Promise((resolve, reject) =&gt; {\r\n    const timer = setInterval(() =&gt; {\r\n      checkWorkOrderStatus().then(result =&gt; {\r\n        console.log('checked status which is', result.status)\r\n\r\n        if (result.status === 'completed') {\r\n          clearInterval(timer)\r\n          getWorkOrder().then(resolve).catch(reject)\r\n        }\r\n      })\r\n      .catch(err =&gt; {\r\n        // make sure we also clear timer if \r\n        // checkOrderStatus rejects.\r\n        clearInterval(timer)\r\n        reject(err)\r\n      })\r\n    }, 400) // check status every 400ms.\r\n  })\r\n})\r\n.then(result =&gt; {\r\n  console.log('Work order is complete', result)    \r\n})</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This is not TypeScript btw, but I assume it's easy to translate.</p>\n"}, {"tags": [], "owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "is_accepted": false, "score": 2, "last_activity_date": 1576109039, "last_edit_date": 1576109039, "creation_date": 1576108410, "answer_id": 59295831, "question_id": 59295592, "link": "https://stackoverflow.com/questions/59295592/how-to-call-a-promise-on-a-set-frequency/59295831#59295831", "title": "How to call a promise on a set frequency?", "body": "<p>You can create a <code>poll</code> function that accept a <code>checkCompletion</code>, and <code>resultRequest</code> functions (both should return a promise). If <code>checkCompletion</code> is resolved with <code>false</code>, the <code>delay()</code> function is called, and then it invokes <code>poll()</code> again:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const delay = (time) =&gt; new Promise(resolve =&gt; setTimeout(resolve, time))\r\n\r\nconst poll = (checkCompletion, resultsRequest) =&gt;     \r\n  checkCompletion() // check for completion\r\n    .then(r =&gt; r ?\r\n      resultsRequest() : // if true get the results\r\n      delay(1000).then(() =&gt; poll(checkCompletion, resultsRequest)) // if false delay and call poll again\r\n    )\r\n\r\nfunction isBatchRequestCompleted() {\r\n  let i = 0 // used to mock multiple requests\r\n  return poll(\r\n    () =&gt; console.log(i) || Promise.resolve(i++ &gt; 3), // the function you use to check completion\r\n    () =&gt; Promise.resolve('result') // the function you use to get the results of the job\r\n  );\r\n}\r\n\r\nisBatchRequestCompleted().then(console.log)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And the same idea with async/await:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const delay = (time) =&gt; new Promise(resolve =&gt; setTimeout(resolve, time))\r\n\r\nconst poll = async (checkCompletion, resultsRequest) =&gt; {\r\n  let done;\r\n  \r\n  do {\r\n    done = await checkCompletion() // check for completion\r\n  \r\n    if(!done) await delay(1000) // delay if not done\r\n  } while(!done) // continue loop if not done\r\n  \r\n  return resultsRequest() // return the results of calling the request\r\n}\r\n\r\nasync function isBatchRequestCompleted() {\r\n  let i = 0 // used to mock multiple requests\r\n  return poll(\r\n    () =&gt; console.log(i) || Promise.resolve(i++ &gt; 3), // the function you use to check completion\r\n    () =&gt; Promise.resolve('result') // the function you use to get the results of the job\r\n  );\r\n}\r\n\r\nisBatchRequestCompleted().then(console.log)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 4918, "user_id": 496136, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/41d66a16c5e8fb777ebe398396e0f22f?s=128&d=identicon&r=PG", "display_name": "reza", "link": "https://stackoverflow.com/users/496136/reza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 59295766, "answer_count": 2, "score": 1, "last_activity_date": 1578649178, "creation_date": 1576106569, "last_edit_date": 1576108437, "question_id": 59295592, "link": "https://stackoverflow.com/questions/59295592/how-to-call-a-promise-on-a-set-frequency", "title": "How to call a promise on a set frequency?", "body": "<p>Here is what I need to solve.</p>\n\n<ul>\n<li>I make an HTTP call to submit a work order (request) to a remote web server.</li>\n<li>As a response, I get a Guid response back.</li>\n<li>This work order will complete at some point in time may be hours.</li>\n</ul>\n\n<p>To check for work order completion, I need to periodically check for the completion status.</p>\n\n<p>So every few seconds or minutes, I need to make another HTTP call to get the work status. If completed, I am done, I will ask for the results. If incomplete, I will call again in the next time slice.</p>\n\n<p>What I currently have is not working correctly, I have hard coded the function to always return false so I can see the code working.</p>\n\n<p>The code is as follows:</p>\n\n<pre><code>function isBatchRequestCompleted(method: string = 'POST', route: string, batchId: number): boolean {\ntimerPromise.then(result =&gt; {\n    CheckESN.sendRequest('POST', 'api/batch/result', batchId)\n        .then(result =&gt; {\n            return false;\n\n        })\n        .catch(err =&gt; {\n            console.error(err);\n        });\n})\n    .catch(err =&gt; {\n        console.error(err);\n    });\nreturn false;\n</code></pre>\n\n<p>}</p>\n\n<pre><code>const timerPromise = new Promise(function(resolve, reject) {\n    setTimeout(() =&gt; resolve(() =&gt; {\n        console.log(\"timer\");\n        return 1;\n    }), 3000);\n});\n</code></pre>\n\n<p>Essentially wait 3s and check for status and the status check always return false</p>\n\n<p>the calling code looks as follows:</p>\n\n<pre><code>    do {\n             console.log('checking ...')\n    }   while  (isBatchRequestCompleted('POST', 'api/batch/submit', +BatchId)  == false);\n</code></pre>\n\n<p>what I see is one \"checking...\" and no other console.logs.</p>\n\n<p>Anyone sees how this is incorrect?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 1, "creation_date": 1576106523, "post_id": 59295538, "comment_id": 104795490, "body": "Problem is your code needs to match exactly. So what you have to do is break it up into an array and check for each item."}], "answers": [{"comments": [{"owner": {"reputation": 10320, "user_id": 818326, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/ace3174f4519bdd2a622e1f14b2ebbae?s=128&d=identicon&r=PG", "display_name": "symlink", "link": "https://stackoverflow.com/users/818326/symlink"}, "edited": false, "score": 0, "creation_date": 1576110496, "post_id": 59295614, "comment_id": 104796435, "body": "You might want to add code in there that doesn&#39;t include empty strings"}, {"owner": {"reputation": 13, "user_id": 8954287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6ca4573ae1d041ab90e5d4a40bc38f9?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/8954287/nathan"}, "edited": false, "score": 1, "creation_date": 1576169429, "post_id": 59295614, "comment_id": 104820882, "body": "I added all my needed if statements within the for(values in arraye){ and it woked perfect. I know very little about javascript but was able to get this to work perfect."}], "tags": [], "owner": {"reputation": 854, "user_id": 1978210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f122d35000067535ffd1f41df595ddc?s=128&d=identicon&r=PG&f=1", "display_name": "JonoJames", "link": "https://stackoverflow.com/users/1978210/jonojames"}, "is_accepted": true, "score": 0, "last_activity_date": 1576106769, "creation_date": 1576106769, "answer_id": 59295614, "question_id": 59295538, "link": "https://stackoverflow.com/questions/59295538/javascript-if-string-contains-part-of-another-string/59295614#59295614", "title": "Javascript if string contains part of another string", "body": "<p>The esiest way to compare them is to convert both into an array Then check one array against another run a for loop in loop</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var e = \"MT, MI, OH, DC, \";\r\nvar TFF = \"MT, WY, ND, SD, NE, MN, IA, WI, KS, MO, OK, AR, LA, TX, \";\r\n\r\nvar arraye = e.split(\",\");\r\nvar arrayTiff = TFF.split(\",\");\r\n\r\nfor(values in arraye){\r\n\r\n  //console.log(arraye[values])\r\n\r\n for (value2 in arrayTiff)\r\n\r\n  {\r\n    if(arraye[values]==arrayTiff[value2])\r\n    console.log(arraye[values])\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 10320, "user_id": 818326, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/ace3174f4519bdd2a622e1f14b2ebbae?s=128&d=identicon&r=PG", "display_name": "symlink", "link": "https://stackoverflow.com/users/818326/symlink"}, "is_accepted": false, "score": 0, "last_activity_date": 1576110265, "last_edit_date": 1576110265, "creation_date": 1576107011, "answer_id": 59295649, "question_id": 59295538, "link": "https://stackoverflow.com/questions/59295538/javascript-if-string-contains-part-of-another-string/59295649#59295649", "title": "Javascript if string contains part of another string", "body": "<p>First break the strings into arrays and strip out the whitespace for each element. Then use a <code>filter()</code> function to filter out non-matching values:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const e = \"MT, MI, OH, DC, \";\r\nconst TFF = \"MT, WY, ND, SD, NE, MN, IA, WI, KS, MO, OK, AR, LA, TX, \";\r\n\r\nlet arr1 = e.split(\",\");\r\nlet arr2 = TFF.split(\",\");\r\n\r\narr1 = arr1.map(val =&gt; val.trim()).filter(val =&gt; val !== \"\");\r\narr2 = arr2.map(val =&gt; val.trim()).filter(val =&gt; val !== \"\");\r\n\r\nconst res = arr2.filter(val =&gt; arr1.includes(val)); \r\nconsole.log(res);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>Update:</strong> </p>\n\n<p>With regular expressions:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const e = \"MT, MI, OH, DC, \";\r\nconst TFF = \"MT, WY, ND, SD, NE, MN, IA, WI, KS, MO, OK, AR, LA, TX, \";\r\n\r\nconst re = /[A-Z]{2}/g;\r\nconst res = TFF.match(re).filter(val =&gt; e.match(re).includes(val));\r\n\r\nconsole.log(res);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 8954287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6ca4573ae1d041ab90e5d4a40bc38f9?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/8954287/nathan"}, "edited": false, "score": 0, "creation_date": 1576167363, "post_id": 59295668, "comment_id": 104819789, "body": "I get an error stating the &quot;arrow function syntax is only available in ES6&quot; I tried adding the version at the top but that still does not work  /*jshint esversion: 6 */ var e = &quot;MI, MT, &quot;; var twofourfive = [&quot;MT&quot;, &quot;WY&quot;, &quot;ND&quot;, &quot;SD&quot;, &quot;NE&quot;, &quot;MN&quot;, &quot;IA&quot;, &quot;WI&quot;, &quot;KS&quot;, &quot;MO&quot;, &quot;OK&quot;, &quot;AR&quot;, &quot;LA&quot;, &quot;TX&quot;];  if (e.some(x =&gt; twofourfive.includes(x))) console.log(&quot;Test 1&quot;); // or if (twofourfive.some(x =&gt; e.includes(x))) console.log(&quot;Test 1&quot;);  if (e.some(x =&gt; x === &quot;MI&quot;)) console.log(&quot;Test 2&quot;); // or if (e.includes(&quot;MI&quot;)) console.log(&quot;Test 2&quot;);"}, {"owner": {"reputation": 6587, "user_id": 3133418, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ncB92.png?s=128&g=1", "display_name": "nick zoum", "link": "https://stackoverflow.com/users/3133418/nick-zoum"}, "reply_to_user": {"reputation": 13, "user_id": 8954287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6ca4573ae1d041ab90e5d4a40bc38f9?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/8954287/nathan"}, "edited": false, "score": 0, "creation_date": 1576223627, "post_id": 59295668, "comment_id": 104837114, "body": "You need to add the <code>&quot;esversion&quot;: 6</code> property in your <code>.jshintrc</code> file. You could also just replace the arrow functions with normal functions (I only used to make the example shorter and clearer). <code>x =&gt; tff.includes(x)</code> can be replaced by <code>function(x){return tff.includes(x);}</code>"}], "tags": [], "owner": {"reputation": 6587, "user_id": 3133418, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ncB92.png?s=128&g=1", "display_name": "nick zoum", "link": "https://stackoverflow.com/users/3133418/nick-zoum"}, "is_accepted": false, "score": 0, "last_activity_date": 1576107594, "last_edit_date": 1576107594, "creation_date": 1576107139, "answer_id": 59295668, "question_id": 59295538, "link": "https://stackoverflow.com/questions/59295538/javascript-if-string-contains-part-of-another-string/59295668#59295668", "title": "Javascript if string contains part of another string", "body": "<p>You should convert the strings to arrays (either by hand or using <code>String#split</code>).</p>\n\n<p>Examples:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var TFF = \"MT, WY, ND, SD, NE, MN, IA, WI, KS, MO, OK, AR, LA, TX, \";\r\n\r\nvar temp = TFF.split(/,\\s+/);\r\nconsole.log(temp.filter(Boolean));\r\n// or\r\ntemp.pop();\r\nconsole.log(temp);\r\n// or\r\nconsole.log(JSON.parse(\"[\\\"\" + TFF.replace(/,\\s+/g, \"\\\",\\\"\").replace(/,\"$/, \"\") + \"]\"));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Then check if any of the strings is contained in the other array.</p>\n\n<p>Example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var e = [\"MT\", \"MI\", \"OH\", \"DC\"];\r\nvar tff = [\"MT\", \"WY\", \"ND\", \"SD\", \"NE\", \"MN\", \"IA\", \"WI\", \"KS\", \"MO\", \"OK\", \"AR\", \"LA\", \"TX\"];\r\nvar other = [\"DC\", \"DE\", \"MD\", \"PA\", \"VA\", \" WV\"];\r\n\r\nif (e.some(x =&gt; tff.includes(x))) console.log(\"Test 1\");\r\n// or\r\nif (tff.some(x =&gt; e.includes(x))) console.log(\"Test 1\");\r\n\r\nif (e.some(x =&gt; x === \"MI\")) console.log(\"Test 2\");\r\n// or\r\nif (e.includes(\"MI\")) console.log(\"Test 2\");\r\n\r\nif (e.some(x =&gt; other.includes(x))) console.log(\"Test 3\");\r\n// or\r\nif (other.some(x =&gt; e.includes(x))) console.log(\"Test 3\");</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1845, "user_id": 7366526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TYJhA.jpg?s=128&g=1", "display_name": "Ernesto", "link": "https://stackoverflow.com/users/7366526/ernesto"}, "is_accepted": false, "score": -1, "last_activity_date": 1576108709, "creation_date": 1576108709, "answer_id": 59295865, "question_id": 59295538, "link": "https://stackoverflow.com/questions/59295538/javascript-if-string-contains-part-of-another-string/59295865#59295865", "title": "Javascript if string contains part of another string", "body": "<pre class=\"lang-js prettyprint-override\"><code>const eArr = e.split(\u201c,\u201d).sort();\nconst fttArr = ftt.stplit(\u201c,\u201d).sort();\nlet found =0;\nfor (let i =0; i &lt;= eArr.lengt; ++I) { \n  if (eArr[i] === fttArr[i]) ++found;\n}\n\nfound === eArr.length\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8954287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6ca4573ae1d041ab90e5d4a40bc38f9?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/8954287/nathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 59295614, "answer_count": 4, "score": 1, "last_activity_date": 1576110265, "creation_date": 1576106121, "last_edit_date": 1576106439, "question_id": 59295538, "link": "https://stackoverflow.com/questions/59295538/javascript-if-string-contains-part-of-another-string", "title": "Javascript if string contains part of another string", "body": "<p>Not sure the best way to explain it but I need to have javascript search one string to see if part of that string matches another. With the below code var e lists some state abbreviations. I then tried several different if statements. The first statement I tried the search statement instead of \"indexof\". that does not work. The second if statement works only because there is one value in the variable. The third statement does not work because once again there are multiple values in the varable.</p>\n\n<p>I need the statement to run if the state abbreviation appears in both strings.</p>\n\n<pre><code>var e = \"MT, MI, OH, DC, \";\nvar TFF = \"MT, WY, ND, SD, NE, MN, IA, WI, KS, MO, OK, AR, LA, TX, \";\nif (e.search(TFF) === -1) {\n  document.getElementById(\"test1\").style.display = \"block\";\n} else {}\nif (e.indexOf(\"MI\") &gt;= 0) {\n  document.getElementById(\"test2\").style.display = \"block\";\n} else {}\nif (e.indexOf(\"DC DE MD PA VA WV\") &gt;= 0) {\n  document.getElementById(\"test3\").style.display = \"block\";\n} else {}\n</code></pre>\n"}, {"tags": ["javascript", "module"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1576110778, "post_id": 59295535, "comment_id": 104796499, "body": "There is no such thing as a &quot;public variable&quot;. What you should do is just use the <code>_module.publicVariable</code> property everywhere in place of the <code>_pretendsToBePublic</code>  local variable."}], "answers": [{"comments": [{"owner": {"reputation": 467, "user_id": 1128677, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/f258696551ce7e50f2238a49c4f50bc1?s=128&d=identicon&r=PG", "display_name": "user1128677", "link": "https://stackoverflow.com/users/1128677/user1128677"}, "edited": false, "score": 0, "creation_date": 1576107655, "post_id": 59295548, "comment_id": 104795799, "body": "I think i got it, just got confused by this example <a href=\"https://addyosmani.com/resources/essentialjsdesignpatterns/book/#revealingmodulepatternjavascript\" rel=\"nofollow noreferrer\">addyosmani.com/resources/essentialjsdesignpatterns/book/&hellip;</a> by Addy Osmany, when he is exposing publicvar in such way i did...  But its just a assign-by-value. Ty sir for making it clear to me"}], "tags": [], "owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": true, "score": 1, "last_activity_date": 1576106196, "creation_date": 1576106196, "answer_id": 59295548, "question_id": 59295535, "link": "https://stackoverflow.com/questions/59295535/javascript-revealing-module-pattern-variable-doest-change/59295548#59295548", "title": "Javascript revealing module pattern - variable doest change", "body": "<p>If you want the <em>plain reference</em> <code>MyModule.publicVariable</code> to return the private <code>_pretendsToBePublic</code>, you'll need to make it a <em>getter</em> instead:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const MyModule = (function () {\r\n    let _pretendsToBePublic = '';\r\n\r\n    const _module = {\r\n        get publicVariable() {\r\n          return _pretendsToBePublic;\r\n        },\r\n        init() {\r\n            _pretendsToBePublic = 2;\r\n        },\r\n        change(val) {\r\n            _pretendsToBePublic = val;\r\n        }\r\n    };\r\n    return _module;\r\n})();\r\nMyModule.init();\r\nconsole.log(MyModule.publicVariable) // 2\r\nMyModule.change(333);\r\nconsole.log(MyModule.publicVariable) // 333</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Or you could turn it into a standard function, which makes it clearer to the consumer that you're invoking functionality, rather than just retrieving a plain property:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const MyModule = (function () {\r\n    let _pretendsToBePublic = '';\r\n\r\n    const _module = {\r\n        getPublicVariable() {\r\n          return _pretendsToBePublic;\r\n        },\r\n        init() {\r\n            _pretendsToBePublic = 2;\r\n        },\r\n        change(val) {\r\n            _pretendsToBePublic = val;\r\n        }\r\n    };\r\n    return _module;\r\n})();\r\nMyModule.init();\r\nconsole.log(MyModule.getPublicVariable()) // 2\r\nMyModule.change(333);\r\nconsole.log(MyModule.getPublicVariable()) // 333</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 467, "user_id": 1128677, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/f258696551ce7e50f2238a49c4f50bc1?s=128&d=identicon&r=PG", "display_name": "user1128677", "link": "https://stackoverflow.com/users/1128677/user1128677"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 59295548, "answer_count": 1, "score": 1, "last_activity_date": 1576144919, "creation_date": 1576106092, "last_edit_date": 1576144919, "question_id": 59295535, "link": "https://stackoverflow.com/questions/59295535/javascript-revealing-module-pattern-variable-doest-change", "title": "Javascript revealing module pattern - variable doest change", "body": "<p>im using slightly modified revealing module pattern and have some issue with getting public variable value after changing it inside the module. Let's take a look.\nSimple module:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const MyModule = (function() {\r\n  let _pretendsToBePublic = '';\r\n\r\n  const _module = {\r\n    publicVariable: _pretendsToBePublic,\r\n    init() {\r\n      _pretendsToBePublic = 2;\r\n    },\r\n    change(val) {\r\n      _pretendsToBePublic = val;\r\n    }\r\n  };\r\n  return _module;\r\n})();\r\nMyModule.init();\r\nconsole.log(MyModule.publicVariable); // ''\r\nMyModule.change(333); //still ''\r\nconsole.log(MyModule.publicVariable);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Did i miss something?</p>\n"}, {"tags": ["javascript", "html", "google-apps-script", "google-apps", "email-validation"], "comments": [{"owner": {"reputation": 34507, "user_id": 7215091, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/2pNI4.jpg?s=128&g=1", "display_name": "MetaMan", "link": "https://stackoverflow.com/users/7215091/metaman"}, "edited": false, "score": 0, "creation_date": 1576110106, "post_id": 59295525, "comment_id": 104796359, "body": "Take a look at this <a href=\"https://www.the-art-of-web.com/html/html5-form-validation/\" rel=\"nofollow noreferrer\">the-art-of-web.com/html/html5-form-validation</a>"}], "answers": [{"tags": [], "owner": {"reputation": 460, "user_id": 6626461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/trAYb.jpg?s=128&g=1", "display_name": "heyitsvajid", "link": "https://stackoverflow.com/users/6626461/heyitsvajid"}, "is_accepted": false, "score": 1, "last_activity_date": 1576110345, "creation_date": 1576110345, "answer_id": 59296042, "question_id": 59295525, "link": "https://stackoverflow.com/questions/59295525/email-and-phone-number-validation-app-script/59296042#59296042", "title": "Email and Phone Number validation App Script", "body": "<p>You should not try to use them both Type=\"email\" or pattern at the same time as this might induce a clash in browsers that support both features. Using type=\"email\" has the advantage that it is semantically correct both using the pattern attribute has the advantage that there are several easy-to-use polyfills on the web which ensures support for a greater range of audience.\nTry this with improved regex:</p>\n\n<pre><code>&lt;input pattern=\"/^[a-zA-Z0-9.!#$%&amp;'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/\" required /&gt;\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>&lt;input type=\"email\" /&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 34507, "user_id": 7215091, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/2pNI4.jpg?s=128&g=1", "display_name": "MetaMan", "link": "https://stackoverflow.com/users/7215091/metaman"}, "is_accepted": false, "score": 0, "last_activity_date": 1576110431, "creation_date": 1576110431, "answer_id": 59296049, "question_id": 59295525, "link": "https://stackoverflow.com/questions/59295525/email-and-phone-number-validation-app-script/59296049#59296049", "title": "Email and Phone Number validation App Script", "body": "<p>I think that you just need to put slashes around it like this:</p>\n\n<pre><code>\"/^[a-zA-Z0-9.!#$%&amp;'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/+\"\n</code></pre>\n\n<p><a href=\"https://html5-tutorial.net/form-validation/validating-email/\" rel=\"nofollow noreferrer\">Found here</a> \n\"self validating email html\" google search</p>\n"}], "owner": {"reputation": 27, "user_id": 12469664, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAosnKn3S69Tnuc-U4J8_XFzVpUCxXQlry942TU=k-s128", "display_name": "Moustafa", "link": "https://stackoverflow.com/users/12469664/moustafa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1576110431, "creation_date": 1576105981, "question_id": 59295525, "link": "https://stackoverflow.com/questions/59295525/email-and-phone-number-validation-app-script", "title": "Email and Phone Number validation App Script", "body": "<p>I am using this to validate email address from html page for a web app in Google Scripts. It is not validating and allowing wrong email entry.</p>\n\n<pre><code>&lt;input id=\"email\" type=\"email\" pattern=\"^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$\" class=\"validate valid\" required&gt;\n</code></pre>\n\n<p>What should I do?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 4125, "user_id": 3088508, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wJTxp.png?s=128&g=1", "display_name": "Ethan", "link": "https://stackoverflow.com/users/3088508/ethan"}, "edited": false, "score": 2, "creation_date": 1576105864, "post_id": 59295483, "comment_id": 104795323, "body": "Your JSFiddle, seems to work fine for me with no errors, can you double-check the error still happens in your JSFiddle? If not, can you update it to have the error? Thanks."}, {"owner": {"reputation": 131, "user_id": 12143300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73b4193237f1924110a19279f9994ccb?s=128&d=identicon&r=PG&f=1", "display_name": "octaviandd", "link": "https://stackoverflow.com/users/12143300/octaviandd"}, "reply_to_user": {"reputation": 4125, "user_id": 3088508, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wJTxp.png?s=128&g=1", "display_name": "Ethan", "link": "https://stackoverflow.com/users/3088508/ethan"}, "edited": false, "score": 0, "creation_date": 1576106110, "post_id": 59295483, "comment_id": 104795385, "body": "console gives me the error at : document.querySelector(&#39;#book-form&#39;).addEventListener(&#39;submi&zwnj;&#8203;t&#39;, (e) =&gt; {} (basically, its telling me that when I select the form, its null.)"}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1576108145, "post_id": 59295483, "comment_id": 104795925, "body": "Ok but we can&#39;t reproduce that, so we can&#39;t fix it. There must be some difference between your code and the JSFiddle version. maybe in your code, you&#39;re placing this JavaScript before the form element, so it doesn&#39;t exist when you try to add the event listener to it? Just a guess, but that&#39;s quite a common cause of this sort of issue."}], "owner": {"reputation": 131, "user_id": 12143300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73b4193237f1924110a19279f9994ccb?s=128&d=identicon&r=PG&f=1", "display_name": "octaviandd", "link": "https://stackoverflow.com/users/12143300/octaviandd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576105652, "creation_date": 1576105652, "question_id": 59295483, "link": "https://stackoverflow.com/questions/59295483/getting-input-from-form-results-in-null-error", "title": "Getting input from form results in null error", "body": "<p>I'm trying to figure out why it gives me a null error for this code. Basically I want to get the input from a form and do some javascript with it.</p>\n\n<p>Here is jsfiddle:</p>\n\n<p><a href=\"https://jsfiddle.net/2rz7wjd9/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/2rz7wjd9/</a></p>\n\n<p>The error is at line 56 or here at the querySelector line. Cannot read property of null.</p>\n\n<pre><code>document.querySelector('#book-form').addEventListener('submit', (e) =&gt; {\n  const title = document.querySelector('#book-name').value;\n  const author = document.querySelector('#book-author').value;\n  const pages = document.querySelector('#book-pages').value;\n\n\n  const book = new Book(title,author,pages);\n\n  console.log(book);\n})\n</code></pre>\n"}, {"tags": ["javascript", "image", "performance", "timing", "preload"], "answers": [{"comments": [{"owner": {"reputation": 458, "user_id": 9593181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K0hP0.png?s=128&g=1", "display_name": "gaspar", "link": "https://stackoverflow.com/users/9593181/gaspar"}, "edited": false, "score": 0, "creation_date": 1576160531, "post_id": 59300348, "comment_id": 104815480, "body": "Thanks so much for yet another super answer! Yeah sure I know it&#39;s not perfect, but it&#39;s good enough when there is nothing else. Anyway, your solution looks great, but I still have a question. I don&#39;t see any opacity changes in your code: does this mean that the styles that I give for the image become irrelevant in your solution? I deleted all style properties (of <code>images[filename]</code>) from the code and everything seems to work just the same."}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "reply_to_user": {"reputation": 458, "user_id": 9593181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K0hP0.png?s=128&g=1", "display_name": "gaspar", "link": "https://stackoverflow.com/users/9593181/gaspar"}, "edited": false, "score": 1, "creation_date": 1576160874, "post_id": 59300348, "comment_id": 104815732, "body": "Yes my snippet don&#39;t use the styles at all. If you need to show nothing at some point then use ctx.clearRect method as I did at the beginning of image_display. The point being that you keep whole control of what is displayed and when using the canvas as the sole renderer."}], "tags": [], "owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "is_accepted": true, "score": 2, "last_activity_date": 1576139019, "creation_date": 1576139019, "answer_id": 59300348, "question_id": 59295476, "link": "https://stackoverflow.com/questions/59295476/image-preload-and-sequential-display-in-javascript/59300348#59300348", "title": "Image preload and sequential display in JavaScript", "body": "<p>One problem is that officially, <code>onload</code> only tells us about the network status (+ metadata decoding).  </p>\n\n<p>There may still be some other operations that the browser has to perform before being able to render it on the screen, like fully decoding it to a bitmap that can be moved to the GPU so it finally gets presented to the screen.</p>\n\n<p>This can be seen at least <strong>in Firefox</strong> by drawing your images on a canvas using the synchronous <code>drawImage</code> method; with big images this <code>drawImage()</code> call can take a few ms even after your code ran, showing that they didn't yet completely decoded it:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var preload = ['https://upload.wikimedia.org/wikipedia/commons/c/cf/Black_hole_-_Messier_87.jpg'];\r\nvar promises = [];\r\nvar images = {};\r\n// the function below preloads images; its completion is detected by the function at the end of this script\r\nfor (var i = 0; i &lt; preload.length; i++) {\r\n  (function(url, promise) {\r\n    var filename = url.split('/').pop().split('#')[0].split('?')[0];\r\n    images[filename] = new Image();\r\n    images[filename].id = filename; // i need an id to later change its opacity\r\n    images[filename].style.opacity = 0;\r\n    images[filename].style.willChange = 'opacity';\r\n    images[filename].style['max-height'] = '15%';\r\n    images[filename].style['max-width'] = '15%';\r\n    images[filename].onload = function() {\r\n      promise.resolve();\r\n    };\r\n    images[filename].onerror = promise.reject;\r\n    images[filename].src = url;\r\n  })(preload[i] + '?r='+Math.random(), promises[i] = $.Deferred());\r\n}\r\n\r\n// the function below does the actual display\r\nfunction image_display(img_name, current_div) {\r\n  window.warmup_needed = true;\r\n  document.getElementById(current_div).innerHTML = ''; // remove previous images\r\n  document.getElementById(current_div).appendChild(images[img_name]); // append new image (invisible; opacity == 0)\r\n  chromeWorkaroundLoop(); // part of the timing mechanism\r\n  setTimeout(function() {\r\n    document.getElementById(img_name).style.opacity = 1;\r\n    const c = document.createElement('canvas');\r\n    c.width = document.getElementById(img_name).width\r\n    c.height = document.getElementById(img_name).height;\r\n    console.time('paint1');    c.getContext(\"2d\").drawImage(document.getElementById(img_name),0,0);\r\n    console.timeEnd('paint1');\r\n\r\n    console.time('paint2');    c.getContext(\"2d\").drawImage(document.getElementById(img_name),0,0);\r\n    console.timeEnd('paint2');\r\n\r\n    // HERE i make the image visible\r\n    requestPostAnimationFrame(function() {\r\n      window.stim_start = now(); // HERE i catch the time of display (image painted on screen)\r\n      warmup_needed = false;\r\n    });\r\n  }, 100); // time needed for raF timing \"warmup\"\r\n}\r\n\r\n\r\n// below are functions for precise timing; see https://stackoverflow.com/questions/50895206/\r\nfunction monkeyPatchRequestPostAnimationFrame() {\r\n  const channel = new MessageChannel();\r\n  const callbacks = [];\r\n  let timestamp = 0;\r\n  let called = false;\r\n  channel.port2.onmessage = e =&gt; {\r\n    called = false;\r\n    const toCall = callbacks.slice();\r\n    callbacks.length = 0;\r\n    toCall.forEach(fn =&gt; {\r\n      try {\r\n        fn(timestamp);\r\n      } catch (e) {}\r\n    });\r\n  };\r\n  window.requestPostAnimationFrame = function(callback) {\r\n    if (typeof callback !== 'function') {\r\n      throw new TypeError('Argument 1 is not callable');\r\n    }\r\n    callbacks.push(callback);\r\n    if (!called) {\r\n      requestAnimationFrame((time) =&gt; {\r\n        timestamp = time;\r\n        channel.port1.postMessage('');\r\n      });\r\n      called = true;\r\n    }\r\n  };\r\n}\r\nif (typeof requestPostAnimationFrame !== 'function') {\r\n  monkeyPatchRequestPostAnimationFrame();\r\n}\r\n\r\nfunction chromeWorkaroundLoop() {\r\n  if (warmup_needed) {\r\n    requestAnimationFrame(chromeWorkaroundLoop);\r\n  }\r\n}\r\n\r\n\r\n\r\n// below i execute some example displays after preloading is complete\r\n\r\n$.when.apply($, promises).done(function() {\r\n  console.log(\"All images ready!\");\r\n  // now i can display images\r\n  // e.g.:\r\n  image_display('Black_hole_-_Messier_87.jpg', 'my_div');\r\n}).catch(console.error);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;h4&gt;run this snippet in Firefox&lt;/h4&gt;\r\n&lt;script src=\"https://code.jquery.com/jquery-3.4.1.slim.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id='my_div'&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>On my FF I get </p>\n\n<blockquote>\n  <p>All images ready!<br>\n  paint1: 665.000ms<br>\n  paint2: 0.000ms  </p>\n</blockquote>\n\n<p>This means that with this huge image, the screen would be empty for 650ms after you start measuring my response time.</p>\n\n<hr>\n\n<p>There is a <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement/decode\" rel=\"nofollow noreferrer\"><code>.decode()</code></a> method that has been added to the HTMLImageElement interface, and which should get us closer to the painting time, but if you read correctly the introduction of this answer, we already found a better solution:</p>\n\n<p><strong><em><code>CanvasRenderingContext2D.drawImage()</code> is synchronous.</em></strong></p>\n\n<p>Instead of presenting different <code>&lt;img&gt;</code>, risking a complete page reflow, triggering of CSS transitions or what else that could delay the display of your images, stay at low level, use a single visible DOM element, and use synchronous painting methods. In other words, <strong>use an HTMLCanvasElement</strong>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var canvas = document.getElementById('mycanvas');\r\nvar ctx = canvas.getContext('2d');\r\n\r\n// modified version of image_display function\r\nfunction image_display(img_name, current_div) {\r\n  window.warmup_needed = true;\r\n  chromeWorkaroundLoop(); // part of the timing mechanism\r\n  setTimeout(function() {\r\n    // clear previous\r\n    ctx.clearRect( 0, 0, canvas.width, canvas.height );\r\n    // request the painting to canvas\r\n    // synchronous decoding + conversion to bitmap\r\n    var img = images[img_name];\r\n    // probably better to use a fixed sized canvas\r\n    // but if you wish you could also change its width and height attrs\r\n    var ratio = img.naturalHeight / img.naturalWidth;\r\n    ctx.drawImage( img, 0, 0, canvas.width, canvas.width * ratio );\r\n    // at this point it's been painted to the canvas,\r\n    // remains only passing it to the screen\r\n    requestPostAnimationFrame(function() {\r\n      window.stim_start = performance.now();\r\n      warmup_needed = false;\r\n    });\r\n  }, 100); // time needed for raF timing \"warmup\"\r\n}\r\n\r\n\r\n// preloading is kept the same\r\nvar preload = ['https://www.gstatic.com/webp/gallery/1.jpg', 'https://www.gstatic.com/webp/gallery3/1.png', 'https://www.gstatic.com/webp/gallery/4.jpg', 'https://www.gstatic.com/webp/gallery3/5.png'];\r\nvar promises = [];\r\nvar images = {};\r\n// the function below preloads images; its completion is detected by the function at the end of this script\r\nfor (var i = 0; i &lt; preload.length; i++) {\r\n  (function(url, promise) {\r\n    var filename = url.split('/').pop().split('#')[0].split('?')[0];\r\n    images[filename] = new Image();\r\n    images[filename].id = filename; // i need an id to later change its opacity\r\n    images[filename].style.opacity = 0;\r\n    images[filename].style.willChange = 'opacity';\r\n    images[filename].style['max-height'] = '15%';\r\n    images[filename].style['max-width'] = '15%';\r\n    images[filename].onload = function() {\r\n      promise.resolve();\r\n    };\r\n    images[filename].src = url;\r\n  })(preload[i], promises[i] = $.Deferred());\r\n}\r\n\r\n\r\n\r\n\r\n// below are functions for precise timing; see https://stackoverflow.com/questions/50895206/\r\nfunction monkeyPatchRequestPostAnimationFrame() {\r\n  const channel = new MessageChannel();\r\n  const callbacks = [];\r\n  let timestamp = 0;\r\n  let called = false;\r\n  channel.port2.onmessage = e =&gt; {\r\n    called = false;\r\n    const toCall = callbacks.slice();\r\n    callbacks.length = 0;\r\n    toCall.forEach(fn =&gt; {\r\n      try {\r\n        fn(timestamp);\r\n      } catch (e) {}\r\n    });\r\n  };\r\n  window.requestPostAnimationFrame = function(callback) {\r\n    if (typeof callback !== 'function') {\r\n      throw new TypeError('Argument 1 is not callable');\r\n    }\r\n    callbacks.push(callback);\r\n    if (!called) {\r\n      requestAnimationFrame((time) =&gt; {\r\n        timestamp = time;\r\n        channel.port1.postMessage('');\r\n      });\r\n      called = true;\r\n    }\r\n  };\r\n}\r\nif (typeof requestPostAnimationFrame !== 'function') {\r\n  monkeyPatchRequestPostAnimationFrame();\r\n}\r\n\r\nfunction chromeWorkaroundLoop() {\r\n  if (warmup_needed) {\r\n    requestAnimationFrame(chromeWorkaroundLoop);\r\n  }\r\n}\r\n\r\n\r\n\r\n// below i execute some example displays after preloading is complete\r\n\r\n$.when.apply($, promises).done(function() {\r\n  console.log(\"All images ready!\");\r\n  // now i can display images\r\n  // e.g.:\r\n  image_display('1.jpg', 'my_div');\r\n\r\n  // then, e.g. 1 sec later another one\r\n\r\n  setTimeout(function() {\r\n    image_display('5.png', 'my_div');\r\n  }, 1000);\r\n\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>canvas {\r\n  max-width: 15%;\r\n  max-height: 15%\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://code.jquery.com/jquery-3.4.1.slim.min.js\"&gt;&lt;/script&gt;\r\n&lt;canvas id=\"mycanvas\" width=\"500\" height=\"500\"&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<p>Now beware, a web browser is far from being the perfect tool for what you are trying to do. They prefer UI responsiveness and low memory usage over response time accuracy.  </p>\n"}], "owner": {"reputation": 458, "user_id": 9593181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K0hP0.png?s=128&g=1", "display_name": "gaspar", "link": "https://stackoverflow.com/users/9593181/gaspar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "accepted_answer_id": 59300348, "answer_count": 1, "score": 3, "last_activity_date": 1576161901, "creation_date": 1576105613, "last_edit_date": 1576161901, "question_id": 59295476, "link": "https://stackoverflow.com/questions/59295476/image-preload-and-sequential-display-in-javascript", "title": "Image preload and sequential display in JavaScript", "body": "<p>What I want is the following:</p>\n\n<ol>\n<li>Preload images (up to 40-50), and do callback (e.g. alert) when this is done (this part is already fine I think)</li>\n<li>Main point: display images one after the other in the same <code>div</code>, recording display time as precisely as possible (also, any image may be displayed multiple time)</li>\n<li>Display the same images in another <code>div</code> (this should be fairly easy if I have point 2)</li>\n</ol>\n\n<p>For more context: this is a response time experiment where online participants see the pictures and make key responses to them (and their response time is measured). (Also, there is at least 200-500 ms between displays, so it is no problem if the preparation takes a little time before each display.)</p>\n\n<p>I already have a full working code for this, which I put together from various previous answers: could someone verify that my code makes sense, and that there is nothing else I could do to make it more efficient?</p>\n\n<p>One particular thing that confuses me is what \"appendChild\" exactly does in the browser. (In other words: I get that the element will be added to the page, but I don't know what that means for the browser.) Currently I'm appending the image just a little (100 ms) before I actually display it, which I then achieve by setting opacity from 0 to 1 (<a href=\"https://link.springer.com/article/10.3758%2Fs13428-019-01321-2\" rel=\"nofollow noreferrer\">which is presumed to be the most optimal method for precise timing</a>). Then I remove the image (empty the <code>div</code>) before displaying the next image. But I wonder if there is any point to doing it like that. For example, what if I appended all images already in the \"preloading phase\" and just set their opacity to 0 whenever they are not needed? How does that affect performance? Or otherwise, what if (though I'd rather not do this) I append them right before the opacity change? Does \"appending\" require any time, or can it in any way affect the timing of the upcoming opacity change? (EDIT: Now I have the answer to the main question, but it would still be nice to get an explanation about this point.)</p>\n\n<p>The obvious problem is that I cannot really measure the display time precisely (without external hardware), so I have to rely on what \"seems to make sense\".</p>\n\n<p>In any case, below is my code.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var preload = ['https://www.gstatic.com/webp/gallery/1.jpg', 'https://www.gstatic.com/webp/gallery3/1.png', 'https://www.gstatic.com/webp/gallery/4.jpg', 'https://www.gstatic.com/webp/gallery3/5.png'];\r\nvar promises = [];\r\nvar images = {};\r\n// the function below preloads images; its completion is detected by the function at the end of this script\r\nfor (var i = 0; i &lt; preload.length; i++) {\r\n  (function(url, promise) {\r\n    var filename = url.split('/').pop().split('#')[0].split('?')[0];\r\n    images[filename] = new Image();\r\n    images[filename].id = filename; // i need an id to later change its opacity\r\n    images[filename].style.opacity = 0;\r\n    images[filename].style.willChange = 'opacity';\r\n    images[filename].style['max-height'] = '15%';\r\n    images[filename].style['max-width'] = '15%';\r\n    images[filename].onload = function() {\r\n      promise.resolve();\r\n    };\r\n    images[filename].src = url;\r\n  })(preload[i], promises[i] = $.Deferred());\r\n}\r\n\r\n// the function below does the actual display\r\nfunction image_display(img_name, current_div) {\r\n  window.warmup_needed = true;\r\n  document.getElementById(current_div).innerHTML = ''; // remove previous images\r\n  document.getElementById(current_div).appendChild(images[img_name]); // append new image (invisible; opacity == 0)\r\n  chromeWorkaroundLoop(); // part of the timing mechanism\r\n  setTimeout(function() {\r\n    document.getElementById(img_name).style.opacity = 1; // HERE i make the image visible\r\n    requestPostAnimationFrame(function() {\r\n      window.stim_start = now(); // HERE i catch the time of display (image painted on screen)\r\n      warmup_needed = false;\r\n    });\r\n  }, 100); // time needed for raF timing \"warmup\"\r\n}\r\n\r\n\r\n// below are functions for precise timing; see https://stackoverflow.com/questions/50895206/\r\nfunction monkeyPatchRequestPostAnimationFrame() {\r\n  const channel = new MessageChannel();\r\n  const callbacks = [];\r\n  let timestamp = 0;\r\n  let called = false;\r\n  channel.port2.onmessage = e =&gt; {\r\n    called = false;\r\n    const toCall = callbacks.slice();\r\n    callbacks.length = 0;\r\n    toCall.forEach(fn =&gt; {\r\n      try {\r\n        fn(timestamp);\r\n      } catch (e) {}\r\n    });\r\n  };\r\n  window.requestPostAnimationFrame = function(callback) {\r\n    if (typeof callback !== 'function') {\r\n      throw new TypeError('Argument 1 is not callable');\r\n    }\r\n    callbacks.push(callback);\r\n    if (!called) {\r\n      requestAnimationFrame((time) =&gt; {\r\n        timestamp = time;\r\n        channel.port1.postMessage('');\r\n      });\r\n      called = true;\r\n    }\r\n  };\r\n}\r\nif (typeof requestPostAnimationFrame !== 'function') {\r\n  monkeyPatchRequestPostAnimationFrame();\r\n}\r\n\r\nfunction chromeWorkaroundLoop() {\r\n  if (warmup_needed) {\r\n    requestAnimationFrame(chromeWorkaroundLoop);\r\n  }\r\n}\r\n\r\n\r\n\r\n// below i execute some example displays after preloading is complete\r\n\r\n$.when.apply($, promises).done(function() {\r\n  console.log(\"All images ready!\");\r\n  // now i can display images\r\n  // e.g.:\r\n  image_display('1.jpg', 'my_div');\r\n\r\n  // then, e.g. 1 sec later another one\r\n\r\n  setTimeout(function() {\r\n    image_display('5.png', 'my_div');\r\n  }, 1000);\r\n\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://code.jquery.com/jquery-3.4.1.slim.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id='my_div'&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "answers": [{"tags": [], "owner": {"reputation": 1458, "user_id": 10168933, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WMT_FFdAJmg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oD8KVD7f4EXwf9gn9mXuiXdPlziQ/mo/photo.jpg?sz=128", "display_name": "Murali Nepalli", "link": "https://stackoverflow.com/users/10168933/murali-nepalli"}, "is_accepted": false, "score": 1, "last_activity_date": 1576107539, "last_edit_date": 1576107539, "creation_date": 1576106847, "answer_id": 59295623, "question_id": 59295420, "link": "https://stackoverflow.com/questions/59295420/jquery-element-draggable-but-not-resizable/59295623#59295623", "title": "jquery element draggable but not resizable", "body": "<p>You were missing the jquery-ui \"css\" file, So include that in your html file. <a href=\"https://jsfiddle.net/sdebxwm0/5/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/sdebxwm0/5/</a></p>\n\n<pre><code>&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.css\"\"/&gt;\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(\"#html\").draggable({cursor:\"move\", containment: \"#htmlWrap\"});  \r\n  $(\"#html\").resizable();</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#html{\r\n    width: 50%;\r\n    position: absolute;   \r\n    border: 2px solid red;\r\n    overflow: hidden;\r\n    font-family: 'Roboto', sans-serif;\r\n    height: 40%;\r\n    margin: 4px;\r\n}\r\n\r\n#htmlWrap{\r\n    border: 5px solid black;\r\n    position: absolute;\r\n    top: 10px;\r\n    margin-left: 10px;\r\n    width: calc(100% - 360px);\r\n    height: calc(100% - 180px);\r\n    overflow-y: scroll;\r\n    overflow-x: hidden;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.css\"\"/&gt;\r\n&lt;script src=\"https://code.jquery.com/jquery-1.12.4.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://code.jquery.com/ui/1.12.1/jquery-ui.js\"&gt;&lt;/script&gt;\r\n\r\n &lt;div id=\"htmlWrap\"&gt;\r\n    &lt;div id=\"html\" class=\"ui-widget-content\"&gt;\r\n        &lt;div id=\"aheadWrap\"&gt;\r\n            &lt;h2&gt;Title&lt;/h2&gt;\r\n            &lt;div id=\"htsub\"&gt;Interesting subtitle&lt;/div&gt;\r\n            &lt;div id=\"htlogoWrap\"&gt;&lt;img id=\"htlogo\" src=\"https://cdn.pixabay.com/photo/2017/01/14/22/49/bison-1980589_960_720.png\"&gt;&lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 65, "user_id": 12349163, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mB0OdIsp1hJsnrknC2vuF6Fllx6W9a-gu-CTly2=k-s128", "display_name": "Filtered", "link": "https://stackoverflow.com/users/12349163/filtered"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1576111433, "creation_date": 1576105244, "last_edit_date": 1576111433, "question_id": 59295420, "link": "https://stackoverflow.com/questions/59295420/jquery-element-draggable-but-not-resizable", "title": "jquery element draggable but not resizable", "body": "<p>Thank you for taking the time for reading my question.\n<br>\n<br>\nSo I'm new to using jQuery and I was trying to make a <code>div</code> that I can drag and resize. So I followed the steps on the jQuery website. The problem was, the div was only draggable. I thought that it might be because I combined two functions. I then just tried to make it resizable but it still didn't work. So I scrapped the code followed a youtube video and still, the div was only draggable and not resizable. If I had to guess, the problem is not due to the javascript but the HTML or CSS.</p>\n\n<p>Here is the HTML:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div id=\"htmlWrap\"&gt;\n    &lt;div id=\"html\" class=\"ui-widget-content\"&gt;\n        &lt;div id=\"aheadWrap\"&gt;\n            &lt;h2&gt;Title&lt;/h2&gt;\n            &lt;div id=\"htsub\"&gt;Interesting subtitle&lt;/div&gt;\n            &lt;div id=\"htlogoWrap\"&gt;&lt;img id=\"htlogo\" src=\"https://cdn.pixabay.com/photo/2017/01/14/22/49/bison-1980589_960_720.png\"&gt;&lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Here is the CSS</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>#html{\n    width: 80%;\n    position: absolute;\n    top: 10px;\n    left: 10px;\n    border: 2px solid red;\n    overflow: hidden;\n    font-family: 'Roboto', sans-serif;\n    height: 80%;\n    margin: 4px;\n}\n\n#htmlWrap{\n    border: 5px solid black;\n    position: absolute;\n    top: 150px;\n    margin-left: 340px;\n    width: calc(100% - 360px);\n    height: calc(100% - 180px);\n    overflow-y: scroll;\n    overflow-x: hidden;\n}\n</code></pre>\n\n<p>here is the javascript</p>\n\n<pre><code>    $(\"#html\").draggable({cursor:\"move\", containment: \"#htmlWrap\"});\n    $(\"#html\").resizable({handles: \"n,s,e,w\"});\n});\n</code></pre>\n\n<p>and if the links I used would be helpful</p>\n\n<pre><code>&lt;script src=\"https://code.jquery.com/jquery-1.12.4.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://code.jquery.com/ui/1.12.1/jquery-ui.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>I don't have the first clue why this is not working as I followed the instructions as closely as I could and tried to debug it for a long time. Knowing me I probably made a simple mistake but again, I think that the styling that I applied to it might play a role in the underlying problem.</p>\n\n<p>And again thank you for reading my question!</p>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 12238062, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bRSsr.jpg?s=128&g=1", "display_name": "Pedro", "link": "https://stackoverflow.com/users/12238062/pedro"}, "edited": false, "score": 0, "creation_date": 1576107662, "post_id": 59295432, "comment_id": 104795800, "body": "Thank for your help, but now it&#39;s returning another error &quot; TypeError: Cannot read property &#39;image&#39; of undefined &quot; do you know how can I fix it ?"}, {"owner": {"reputation": 21528, "user_id": 1179377, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/35c050eac0eab06a8c3b6fec8c2bb5c0?s=128&d=identicon&r=PG", "display_name": "Izhaki", "link": "https://stackoverflow.com/users/1179377/izhaki"}, "reply_to_user": {"reputation": 25, "user_id": 12238062, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bRSsr.jpg?s=128&g=1", "display_name": "Pedro", "link": "https://stackoverflow.com/users/12238062/pedro"}, "edited": false, "score": 0, "creation_date": 1576143410, "post_id": 59295432, "comment_id": 104805942, "body": "<code>text</code> is undefined. Just <code>console.log</code> at various places to see where you have there and where things went wrong."}], "tags": [], "owner": {"reputation": 21528, "user_id": 1179377, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/35c050eac0eab06a8c3b6fec8c2bb5c0?s=128&d=identicon&r=PG", "display_name": "Izhaki", "link": "https://stackoverflow.com/users/1179377/izhaki"}, "is_accepted": false, "score": 1, "last_activity_date": 1576106098, "last_edit_date": 1576106098, "creation_date": 1576105323, "answer_id": 59295432, "question_id": 59295415, "link": "https://stackoverflow.com/questions/59295415/how-to-display-information-by-props-from-an-array-of-objects-in-a-component-in-r/59295432#59295432", "title": "how to display information by props from an array of objects in a component in React JS", "body": "<p>You haven't defined any props here:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function CardCurses() { ... }\n</code></pre>\n\n<p>You need:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function CardCurses(props) { ... }\n</code></pre>\n\n<p>Also, you are mixing function and class components. Function component have no <code>this</code>. So:</p>\n\n<pre><code>function CardCurses(props) {\n   return (\n     &lt;Card\n        hoverable\n        style={{ width: 200, height: 240, padding: \"10px\" }}\n        cover={&lt;img alt=\"example\" src={props.text.image} /&gt;}\n     &gt;\n        &lt;Meta\n           title={props.text.title}\n           description={props.text.descricao}\n        /&gt;\n     &lt;/Card&gt;\n  );\n}\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>const CardCurses = ({ text }) =&gt; (\n  &lt;Card\n    hoverable\n    style={{ width: 200, height: 240, padding: '10px' }}\n    cover={&lt;img alt=\"example\" src={text.image} /&gt;}&gt;\n    &lt;Meta title={text.title} description={text.descricao} /&gt;\n  &lt;/Card&gt;\n);\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>const CardCurses = ({ text: { image, title, descricao} }) =&gt; (\n  &lt;Card\n    hoverable\n    style={{ width: 200, height: 240, padding: '10px' }}\n    cover={&lt;img alt=\"example\" src={image} /&gt;}&gt;\n    &lt;Meta title={title} description={descricao} /&gt;\n  &lt;/Card&gt;\n);\n</code></pre>\n\n<hr>\n\n<p>An unrelated note. This</p>\n\n<pre><code>() =&gt; { return whatever }\n</code></pre>\n\n<p>Is the same as:</p>\n\n<pre><code>() =&gt; whatever\n</code></pre>\n\n<p>So you could:</p>\n\n<pre><code>const returnCurses = cursos.map((curse, i) =&gt; (\n  &lt;div key={i}&gt;\n    &lt;Card text={curse} /&gt;\n  &lt;/div&gt;\n));\n</code></pre>\n\n<p>Note that index (<code>i</code>) is not a good key and anything but a loose linter will complain about this. If items in your array are added or removed, indices change, so the same key may refer to different items - not good.</p>\n\n<p>Lastly, take <code>cursos</code> out the <code>ListCurses</code>. It's a const and doesn't change, yet you reallocate it on every render.</p>\n"}], "owner": {"reputation": 25, "user_id": 12238062, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bRSsr.jpg?s=128&g=1", "display_name": "Pedro", "link": "https://stackoverflow.com/users/12238062/pedro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1576106098, "creation_date": 1576105213, "question_id": 59295415, "link": "https://stackoverflow.com/questions/59295415/how-to-display-information-by-props-from-an-array-of-objects-in-a-component-in-r", "title": "how to display information by props from an array of objects in a component in React JS", "body": "<p>I have two files, ListCurses and CardCurses, in the ListCurses a have an array of objects and I'm trying to run it and display the information in another component (CardCurses) by props, but the page returns this error message \" TypeError: Cannot read property 'props' of undefined \". If anyone can help me I will be grateful, thanks !</p>\n\n<p>CardCurses.jsx</p>\n\n<pre><code>import React, { Component } from \"react\";\nimport { Card } from \"antd\";\n\nconst { Meta } = Card;\n\nfunction CardCurses() {\n   return (\n     &lt;Card\n        hoverable\n        style={{ width: 200, height: 240, padding: \"10px\" }}\n        cover={&lt;img alt=\"example\" src={this.props.text.image} /&gt;}\n     &gt;\n        &lt;Meta\n           title={this.props.text.title}\n           description={this.props.text.descricao}\n        /&gt;\n     &lt;/Card&gt;\n  );\n}\n\nexport default CardCurses;\n</code></pre>\n\n<p>ListCurses</p>\n\n<pre><code>import React from \"react\";\nimport Card from \"../CardCurses/CardCurses\";\n\nfunction ListCurses() {\n   const cursos = [\n    {\n      title: \"React JS\",\n      descricao: \"React \u00e9 legal\",\n      image: \"https://pt-br.reactjs.org/logo-og.png\"\n    },\n    {\n      title: \"React Native\",\n      descricao: \"React Native \u00e9 legal\",\n      image: \"https://miro.medium.com/max/1000/1*GkR93AAlILkmE_3QQf88Ug.png\"\n    },\n    {\n      title: \"Antd\",\n      descricao: \"Antd \u00e9 legal\",\n      image: \"https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg\"\n    }\n  ];\n\n  const returnCurses = cursos.map((curse, i) =&gt; {\n  return (\n      &lt;div key={i}&gt;\n        &lt;Card text={curse} /&gt;\n      &lt;/div&gt;\n    );\n  });\n  return &lt;div&gt;{returnCurses}&lt;/div&gt;;\n}\n\n\nexport default ListCurses;\n</code></pre>\n"}, {"tags": ["javascript", "ethereum", "web3"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1576105199, "post_id": 59295405, "comment_id": 104795115, "body": "yikes with that code. I see major issue with infamous for loop when <code>i</code> is not what you think it is"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1576105273, "post_id": 59295405, "comment_id": 104795133, "body": "<a href=\"https://stackoverflow.com/questions/750486/javascript-closure-inside-loops-simple-practical-example\" title=\"javascript closure inside loops simple practical example\">stackoverflow.com/questions/750486/&hellip;</a>"}, {"owner": {"reputation": 43, "user_id": 12450853, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA1AeXMQtpRMQpMw52xCp92CjGKgZp7Ng8t1wZqvw=k-s128", "display_name": "RokasPo", "link": "https://stackoverflow.com/users/12450853/rokaspo"}, "reply_to_user": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1576105359, "post_id": 59295405, "comment_id": 104795159, "body": "yeah when the loop ends i is then the maximum value, I think the solution would be to avoid loops all together, but I just can&#39;t figure out how to do that"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1576105480, "post_id": 59295405, "comment_id": 104795198, "body": "The link above shows you how to fix that problem. My question as a developer is WHY is there so many asynchronous calls? It is code smell which is not good."}, {"owner": {"reputation": 2646, "user_id": 6308685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73d4e8cd4bfec537fda6e26c9ea2d430?s=128&d=identicon&r=PG&f=1", "display_name": "alex067", "link": "https://stackoverflow.com/users/6308685/alex067"}, "edited": false, "score": 0, "creation_date": 1576105651, "post_id": 59295405, "comment_id": 104795256, "body": "The structure is all wrong. Why are there individual async calls just to get their first and last name? This is like, fetching the first name from mongodb, then making another query to fetch the last name."}, {"owner": {"reputation": 43, "user_id": 12450853, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA1AeXMQtpRMQpMw52xCp92CjGKgZp7Ng8t1wZqvw=k-s128", "display_name": "RokasPo", "link": "https://stackoverflow.com/users/12450853/rokaspo"}, "edited": false, "score": 0, "creation_date": 1576105699, "post_id": 59295405, "comment_id": 104795274, "body": "well didn&#39;t know any way to put it into reality, but if only we remove the comparison of <code>ans</code> and <code>answer</code> and the first overlapping function that calls for the address, everything works like a charm. Edited to clarify what I mean"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 12450853, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA1AeXMQtpRMQpMw52xCp92CjGKgZp7Ng8t1wZqvw=k-s128", "display_name": "RokasPo", "link": "https://stackoverflow.com/users/12450853/rokaspo"}, "edited": false, "score": 0, "creation_date": 1576106240, "post_id": 59295520, "comment_id": 104795416, "body": "Oh that really looks and feels a lot better, I will try to do more research into the await function, but the numOfCert line is still problematic."}, {"owner": {"reputation": 8797, "user_id": 12270289, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f90bXHFopV0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfStPF8S5OWF3hBzDu-oJeTx3xOfQ/photo.jpg?sz=128", "display_name": "Klaycon", "link": "https://stackoverflow.com/users/12270289/klaycon"}, "reply_to_user": {"reputation": 43, "user_id": 12450853, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA1AeXMQtpRMQpMw52xCp92CjGKgZp7Ng8t1wZqvw=k-s128", "display_name": "RokasPo", "link": "https://stackoverflow.com/users/12450853/rokaspo"}, "edited": false, "score": 0, "creation_date": 1576106331, "post_id": 59295520, "comment_id": 104795442, "body": "@RokasPo Yeah, my bad, misplaced a parenthesis. I&#39;ve edited it, should work now."}, {"owner": {"reputation": 43, "user_id": 12450853, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA1AeXMQtpRMQpMw52xCp92CjGKgZp7Ng8t1wZqvw=k-s128", "display_name": "RokasPo", "link": "https://stackoverflow.com/users/12450853/rokaspo"}, "edited": false, "score": 0, "creation_date": 1576106779, "post_id": 59295520, "comment_id": 104795561, "body": "Thank you a lot, I also might want to add that I don&#39;t intend to break after the first finding, but you&#39;ve been a huge help!"}, {"owner": {"reputation": 8797, "user_id": 12270289, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f90bXHFopV0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfStPF8S5OWF3hBzDu-oJeTx3xOfQ/photo.jpg?sz=128", "display_name": "Klaycon", "link": "https://stackoverflow.com/users/12270289/klaycon"}, "reply_to_user": {"reputation": 43, "user_id": 12450853, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA1AeXMQtpRMQpMw52xCp92CjGKgZp7Ng8t1wZqvw=k-s128", "display_name": "RokasPo", "link": "https://stackoverflow.com/users/12450853/rokaspo"}, "edited": false, "score": 1, "creation_date": 1576106877, "post_id": 59295520, "comment_id": 104795593, "body": "@RokasPo Glad to be of help, as to the break statement I must have misinterpreted your question title. Edited it out so it&#39;s only the relevant stuff left."}], "tags": [], "owner": {"reputation": 8797, "user_id": 12270289, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f90bXHFopV0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfStPF8S5OWF3hBzDu-oJeTx3xOfQ/photo.jpg?sz=128", "display_name": "Klaycon", "link": "https://stackoverflow.com/users/12270289/klaycon"}, "is_accepted": true, "score": 3, "last_activity_date": 1576106852, "last_edit_date": 1576106852, "creation_date": 1576105907, "answer_id": 59295520, "question_id": 59295405, "link": "https://stackoverflow.com/questions/59295405/stopping-javascript-loops-in-async-programming/59295520#59295520", "title": "Stopping javascript loops in async programming", "body": "<p>Use promises the way they were intended. That code is frankly nightmarish to look at when it could be so much simpler with ES6 <code>async/await</code> and template literals:</p>\n\n<pre><code>loopforCetrs : async function() {\n    const account = web3.currentProvider.selectedAddress;\n    const numOfCert = await (await App.contracts.StudentState.deployed()).showNumOfContracts());\n    const wrapper = document.getElementById(\"myHTMLWrapper\");\n\n    for (let i = 0; i &lt; numOfCert; i++) {\n        if((await App.ShowAddress(i)) == account) {\n            //alert(ans+' Hello'); no more ans\n            alert(account+' Hi');\n            wrapper.innerHTML += `&lt;span class=\"test\"&gt;Name: ${await App.ShowFName(i)} &lt;/span&gt;&lt;br/&gt;&lt;br/&gt;`;\n            wrapper.innerHTML += `&lt;span class=\"test\"&gt;Surname: ${await App.ShowLName(i)} &lt;/span&gt;&lt;br/&gt;&lt;br/&gt;`;\n            wrapper.innerHTML += `&lt;span class=\"test\"&gt;Institutions name: ${await App.ShowInstName(i)} &lt;/span&gt;&lt;br/&gt;&lt;br/&gt;`;\n            wrapper.innerHTML += `&lt;span class=\"test\"&gt;Users address: ${await App.ShowAddress(i)} &lt;/span&gt;&lt;br/&gt;&lt;br/&gt;`;\n            wrapper.innerHTML += `&lt;span class=\"test\"&gt;Course name: ${await App.ShowCourseName(i)} &lt;/span&gt;&lt;br/&gt;&lt;br/&gt;`;\n            wrapper.innerHTML += `&lt;span class=\"test\"&gt;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;`;\n        }\n    }\n}\n</code></pre>\n\n<p>This way, you won't run into issues with <code>i</code> being the wrong value when the callbacks have resolved since everything is awaited and is guaranteed to fully resolve with in that loop iteration before <code>i</code> has changed values.</p>\n\n<p>There's still a lot of redundancy but my preferred way to fix that would be to add methods to <code>App</code> that return more than a measly single piece of information. Have one that returns all relevant information instead and you reduce another 5 lines of redundant code and greatly improve performance and efficiency.</p>\n"}], "owner": {"reputation": 43, "user_id": 12450853, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA1AeXMQtpRMQpMw52xCp92CjGKgZp7Ng8t1wZqvw=k-s128", "display_name": "RokasPo", "link": "https://stackoverflow.com/users/12450853/rokaspo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 59295520, "answer_count": 1, "score": 1, "last_activity_date": 1576106852, "creation_date": 1576105122, "last_edit_date": 1576105867, "question_id": 59295405, "link": "https://stackoverflow.com/questions/59295405/stopping-javascript-loops-in-async-programming", "title": "Stopping javascript loops in async programming", "body": "<p>I know that javascript is asynchronous and if i make a for loop after <code>.then</code> then the loop ends and only then do the object promise become clear, but I can't for the life of me fix this code snippet, maybe someone can help me. My goal is to loop and check if variable <code>ans</code>, which I take from a function is equal to variable <code>account</code> and if so then print out information that I get from other functions.</p>\n\n<pre><code>loopforCetrs : function() {\n        var num;\n        var account = web3.currentProvider.selectedAddress;\n\n        App.contracts.StudentState.deployed().then(function (instance) {\n        return instance.showNumOfContracts();\n      }).then(function (numOfCert) {\n          num = numOfCert;\n\n            var wrapper = document.getElementById(\"myHTMLWrapper\");\n\n            for (var i = 0; i &lt; num; i++) {\n                App.ShowAddress(i).then(function (ans) {\n\n                    if(ans == account) {\n                        alert(ans+' Hello');\n                        alert(account+' Hi')\n                        App.ShowFName(i).then(function (ans) {\n                            wrapper.innerHTML += '&lt;span class=\"test\"&gt;Name: ' + ans + ' &lt;/span&gt;&lt;br/&gt;&lt;br/&gt;';\n                        })\n\n                        App.ShowLName(i).then(function (ans) {\n                            wrapper.innerHTML += '&lt;span class=\"test\"&gt;Surname: ' + ans + ' &lt;/span&gt;&lt;br/&gt;&lt;br/&gt;';\n                        })\n\n                        App.ShowInstName(i).then(function (ans) {\n                            wrapper.innerHTML += '&lt;span class=\"test\"&gt;Institutions name: ' + ans + ' &lt;/span&gt;&lt;br/&gt;&lt;br/&gt;';\n                        })\n\n                        App.ShowAddress(i).then(function (ans) {\n                            wrapper.innerHTML += '&lt;span class=\"test\"&gt;Users address: ' + ans + ' &lt;/span&gt;&lt;br/&gt;&lt;br/&gt;';\n                        })\n\n                        App.ShowCourseName(i).then(function (ans) {\n                            wrapper.innerHTML += '&lt;span class=\"test\"&gt;Course name: ' + ans + ' &lt;/span&gt;&lt;br/&gt;&lt;br/&gt;';\n                            wrapper.innerHTML += '&lt;span class=\"test\"&gt;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;';\n                        })\n                    }\n                })\n\n            }\n\n      })\n    },\n</code></pre>\n\n<p>EDIT 1: This was the code i used before and it did the job, but now I wanted to add 1 thing and hit a wall.</p>\n\n<pre><code>loopforCetrs : function() {\n        var num;\n        var account = web3.currentProvider.selectedAddress;\n\n        App.contracts.StudentState.deployed().then(function (instance) {\n        return instance.showNumOfContracts();\n      }).then(function (numOfCert) {\n          num = numOfCert;\n\n            var wrapper = document.getElementById(\"myHTMLWrapper\");\n\n            for (var i = 0; i &lt; num; i++) {\n\n                App.ShowFName(i).then(function (ans) {\n                    wrapper.innerHTML += '&lt;span class=\"test\"&gt;Name: ' + ans + ' &lt;/span&gt;&lt;br/&gt;&lt;br/&gt;';\n                })\n\n                App.ShowLName(i).then(function (ans) {\n                    wrapper.innerHTML += '&lt;span class=\"test\"&gt;Surname: ' + ans + ' &lt;/span&gt;&lt;br/&gt;&lt;br/&gt;';\n                })\n\n                App.ShowInstName(i).then(function (ans) {\n                    wrapper.innerHTML += '&lt;span class=\"test\"&gt;Institutions name: ' + ans + ' &lt;/span&gt;&lt;br/&gt;&lt;br/&gt;';\n                })\n\n                App.ShowAddress(i).then(function (ans) {\n                    wrapper.innerHTML += '&lt;span class=\"test\"&gt;Users address: ' + ans + ' &lt;/span&gt;&lt;br/&gt;&lt;br/&gt;';\n                })\n\n                App.ShowCourseName(i).then(function (ans) {\n                    wrapper.innerHTML += '&lt;span class=\"test\"&gt;Course name: ' + ans + ' &lt;/span&gt;&lt;br/&gt;&lt;br/&gt;';\n                    wrapper.innerHTML += '&lt;span class=\"test\"&gt;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;';\n                })\n            }\n\n      })\n    },\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "multidimensional-array"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user12076510"}, "edited": false, "score": 0, "creation_date": 1576105405, "post_id": 59295392, "comment_id": 104795177, "body": "does it not tell you that <code>childArray</code> and <code>emptyArray</code> is undefined? you&#39;re not using a keyword to define them. <code>var</code>, <code>let</code>, or <code>const</code>"}], "answers": [{"tags": [], "owner": {"reputation": 4125, "user_id": 3088508, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wJTxp.png?s=128&g=1", "display_name": "Ethan", "link": "https://stackoverflow.com/users/3088508/ethan"}, "is_accepted": false, "score": 1, "last_activity_date": 1576105401, "creation_date": 1576105401, "answer_id": 59295443, "question_id": 59295392, "link": "https://stackoverflow.com/questions/59295392/create-a-multi-dimensional-array-by-adding-an-array-into-another-array/59295443#59295443", "title": "Create a Multi-dimensional Array by Adding an Array into another Array", "body": "<p>This works fine for me in the console, the only problem I could see was you needed to initialize <code>emtptyArray</code> with an empty array before adding rows to it:</p>\n\n<pre><code>emtptyArray = [];\nemtptyArray[0] = childArray0;\nemtptyArray[1] = childArray1;\nemtptyArray[2] = childArray2;\n</code></pre>\n\n<p>Otherwise you'll get this error:</p>\n\n<pre><code>Uncaught ReferenceError: emtptyArray is not defined\n    at &lt;anonymous&gt;:1:13\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12521296, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAvs6DLMQecS2ri0NbKKRFyY7fbIk6bVDd4QWH-0A=k-s128", "display_name": "s_cee", "link": "https://stackoverflow.com/users/12521296/s-cee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1576111810, "creation_date": 1576105057, "last_edit_date": 1576111810, "question_id": 59295392, "link": "https://stackoverflow.com/questions/59295392/create-a-multi-dimensional-array-by-adding-an-array-into-another-array", "title": "Create a Multi-dimensional Array by Adding an Array into another Array", "body": "<p>I have several populated arrays:</p>\n\n<pre><code>childArray0 = [\"A\",\"B\",\"C\"];\nchildArray1 = [\"Airplane\",\"Boat\",\"Car\"];\nchildArray2 = [\"Asparagus\",\"Beet\",\"Carrot\"];\n</code></pre>\n\n<p>When I add these three arrays into a empty array:</p>\n\n<pre><code>emptyArray[0] = childArray0;\nemptyArray[1] = childArray1;\nemptyArray[2] = childArray2;\n</code></pre>\n\n<p>I can't access the entries of the child arrays: </p>\n\n<pre><code>console.log(emptyArray[1][2]);\n</code></pre>\n\n<p>The above code comes back as undefined. However, this:</p>\n\n<pre><code>console.log(emptyArray[1]);\n</code></pre>\n\n<p>Shows me: <code>[\"Airplane\",\"Boat\",\"Car\"]</code>. How can I access the entries of the child arrays? Can't you store populated arrays into the entries of another array in this manner?</p>\n"}, {"tags": ["javascript", "angular"], "comments": [{"owner": {"reputation": 5372, "user_id": 1577058, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fhb07.jpg?s=128&g=1", "display_name": "Frank Fajardo", "link": "https://stackoverflow.com/users/1577058/frank-fajardo"}, "edited": false, "score": 3, "creation_date": 1576104820, "post_id": 59295338, "comment_id": 104794999, "body": "How would you handle if you have two users named &quot;carlos&quot;? But certainly you can. It is a question of feasibility for your app."}, {"owner": {"reputation": 2485, "user_id": 8857896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A7xI3.jpg?s=128&g=1", "display_name": "Vitalii Chmovzh", "link": "https://stackoverflow.com/users/8857896/vitalii-chmovzh"}, "edited": false, "score": 1, "creation_date": 1576104933, "post_id": 59295338, "comment_id": 104795035, "body": "the router is not aware of type. In the end it&#39;s string in params and you need to convert it. So just pass <code>user.name</code> to <code>routerLink</code> and read id: string from params."}, {"owner": {"reputation": 9, "user_id": 12448999, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ok3UtH_kmkI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfUp9bJ9Db9DVOSplkj4KrCFH-X-Q/photo.jpg?sz=128", "display_name": "Carlos Morales", "link": "https://stackoverflow.com/users/12448999/carlos-morales"}, "reply_to_user": {"reputation": 5372, "user_id": 1577058, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fhb07.jpg?s=128&g=1", "display_name": "Frank Fajardo", "link": "https://stackoverflow.com/users/1577058/frank-fajardo"}, "edited": false, "score": 0, "creation_date": 1576105118, "post_id": 59295338, "comment_id": 104795089, "body": "@FrankFajardo I know this, for that reason my question is whether there is any way to use the user&#39;s name once you have obtained the object when passing the id is like the friendly routes."}, {"owner": {"reputation": 5372, "user_id": 1577058, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fhb07.jpg?s=128&g=1", "display_name": "Frank Fajardo", "link": "https://stackoverflow.com/users/1577058/frank-fajardo"}, "edited": false, "score": 0, "creation_date": 1576113411, "post_id": 59295338, "comment_id": 104796988, "body": "@CarlosMorales, are you saying the original call is for a URL with an id and then it routes to a URL with name, and passing the whole user object so there is no need to retrieve it? You could. But still you have to answer the question: how would your app handle a scenario where your user directly requests the URL <code>http:&#47;&#47;localhost:4200&#47;user&#47;carlos</code>, and you do not have the user id."}], "owner": {"reputation": 9, "user_id": 12448999, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ok3UtH_kmkI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfUp9bJ9Db9DVOSplkj4KrCFH-X-Q/photo.jpg?sz=128", "display_name": "Carlos Morales", "link": "https://stackoverflow.com/users/12448999/carlos-morales"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 230, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1576104685, "creation_date": 1576104685, "question_id": 59295338, "link": "https://stackoverflow.com/questions/59295338/its-possible-make-angular-routing-with-name-of-user-instead-of-id", "title": "It`s possible make Angular Routing with name of user instead of id?", "body": "<p>I know that the id must be passed in the route because in this way I can get the user object, but I want to know if it is possible this:</p>\n\n<pre><code>http://localhost:4200/user/1\nhttp://localhost:4200/user/carlos -- I want this result in my URL\n</code></pre>\n\n<p>This is the routerLink That i use in users.component.html:</p>\n\n<pre><code>&lt;a [routerLink]=\"['/user', user.id]\"&gt;View User&lt;/a&gt;\n</code></pre>\n\n<p>this is user.component.ts</p>\n\n<pre><code> getUser(id: number) {\n\n  this.userService.getUser(id)\n    .subscribe((data: any) =&gt; {\n     this.user = data;\n    });\n}\n</code></pre>\n\n<p>this is my route</p>\n\n<pre><code> { path: 'user/:id', component: UserComponent }\n</code></pre>\n"}, {"tags": ["javascript", "html", "google-maps"], "comments": [{"owner": {"reputation": 19805, "user_id": 1238965, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9tqVh.jpg?s=128&g=1", "display_name": "MrUpsidown", "link": "https://stackoverflow.com/users/1238965/mrupsidown"}, "edited": false, "score": 1, "creation_date": 1576108203, "post_id": 59295324, "comment_id": 104795938, "body": "Please indent your code"}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 9217527, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WSOZPmXYGQU/AAAAAAAAAAI/AAAAAAAAAKs/XgNGqmw5YRY/photo.jpg?sz=128", "display_name": "smallwhite", "link": "https://stackoverflow.com/users/9217527/smallwhite"}, "edited": false, "score": 0, "creation_date": 1576109989, "post_id": 59295945, "comment_id": 104796336, "body": "!!!! Thanks!!! I actually have 50 buttons so that the first solution came up to my mind was to create a loop function... could you advise why should use [0] after &#39;getElementsByClassName&#39;?"}, {"owner": {"reputation": 147337, "user_id": 1210329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d432c94998d9fb0a28f6bf2af22cdf96?s=128&d=identicon&r=PG", "display_name": "geocodezip", "link": "https://stackoverflow.com/users/1210329/geocodezip"}, "reply_to_user": {"reputation": 19, "user_id": 9217527, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WSOZPmXYGQU/AAAAAAAAAAI/AAAAAAAAAKs/XgNGqmw5YRY/photo.jpg?sz=128", "display_name": "smallwhite", "link": "https://stackoverflow.com/users/9217527/smallwhite"}, "edited": false, "score": 1, "creation_date": 1576110104, "post_id": 59295945, "comment_id": 104796358, "body": "Because <code>getElementsByClassName</code> returns an array (notice the &quot;s&quot; on Elements)."}, {"owner": {"reputation": 147337, "user_id": 1210329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d432c94998d9fb0a28f6bf2af22cdf96?s=128&d=identicon&r=PG", "display_name": "geocodezip", "link": "https://stackoverflow.com/users/1210329/geocodezip"}, "edited": false, "score": 0, "creation_date": 1576158046, "post_id": 59295945, "comment_id": 104813999, "body": "Note that while you say you have 50 buttons, if they are all in InfoWindows, only one will be available in the DOM at a time (at least the way you have your code currently structured, where only one InfoWindow is open at a time)."}], "tags": [], "owner": {"reputation": 147337, "user_id": 1210329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d432c94998d9fb0a28f6bf2af22cdf96?s=128&d=identicon&r=PG", "display_name": "geocodezip", "link": "https://stackoverflow.com/users/1210329/geocodezip"}, "is_accepted": true, "score": 0, "last_activity_date": 1576109425, "creation_date": 1576109425, "answer_id": 59295945, "question_id": 59295324, "link": "https://stackoverflow.com/questions/59295324/click-event-for-buttons-in-the-google-map-info-window/59295945#59295945", "title": "click event for buttons in the google map info window", "body": "<p>You get the error <code>Uncaught TypeError: Cannot read property 'addEventListener' of null</code> on the line:</p>\n\n<pre><code>document.getElementById(\"gDirection\").addEventListener('click',  function calcRoute(){\n</code></pre>\n\n<p>because there is no element in the DOM with <code>id=\"gDirection\"</code>.</p>\n\n<p>The button is defined like this:</p>\n\n<pre><code>&lt;button class=\"gDirection\"&gt;Get Directions&lt;/button&gt;\n</code></pre>\n\n<p>To access that, you need to use <code>getElementsByClassName(\"gDirection\")[0]</code></p>\n\n<p>Updated code:</p>\n\n<pre><code>google.maps.event.addListener(infowindow, 'domready', function() {\n  document.getElementsByClassName(\"gDirection\")[0].addEventListener('click', function calcRoute() {\n    var directionsService = new google.maps.DirectionsService();\n    var directionsRenderer = new google.maps.DirectionsRenderer();\n    directionsRenderer.setMap(map);\n    directionsRenderer.setPanel(document.getElementById('right-panel'));\n    var start = new google.maps.LatLng(49.148160, -112.087260);\n    var end = new google.maps.LatLng(44.71682, -63.58431)\n    var request = {\n      origin: start,\n      destination: end,\n      travelMode: 'DRIVING'\n    };\n    console.log(\"origin=\"+request.origin.toUrlValue(6)+\" dest=\"+request.destination.toUrlValue(6));\n    directionsService.route(request, function(result, status) {\n      if (status == 'OK') {\n        directionsRenderer.setDirections(result);\n      }\n    });\n  })\n})\n</code></pre>\n\n<p><a href=\"https://jsfiddle.net/geocodezip/9pxL7a34/12/\" rel=\"nofollow noreferrer\">proof of concept fiddle</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/uy3Cb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uy3Cb.png\" alt=\"screenshot of resulting map\"></a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>html,\r\nbody {\r\n  height: 100%;\r\n  width: 100%;\r\n  margin: 0px;\r\n  padding: 0px;\r\n}\r\n\r\n#map {\r\n  width: 60%;\r\n  height: 80%;\r\n  margin-left: 4%;\r\n  margin-top: 2%\r\n}\r\n\r\n#right-panel {\r\n  font-family: 'Roboto', 'sans-serif';\r\n  line-height: 30px;\r\n  height: 80%;\r\n  float: right;\r\n  width: 30%;\r\n  overflow: auto;\r\n  margin-top: 2%;\r\n  height: 650px;\r\n  margin-right: 4%;\r\n}\r\n\r\n@media print {\r\n  #map {\r\n    height: 650px;\r\n    margin-left: 4%;\r\n    width: 60%;\r\n  }\r\n  #right-panel {\r\n    float: right;\r\n    height: 650px;\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;p id='dTitle'&gt;\r\n  &lt;h3&gt;Store Locations&lt;/h3&gt;\r\n&lt;/p&gt;\r\n\r\n&lt;div id=\"right-panel\"&gt;&lt;/div&gt;\r\n&lt;div id=\"map\"&gt;&lt;/div&gt;\r\n&lt;div id=\"directionsPanel\"&gt;&lt;/div&gt;\r\n\r\n&lt;script&gt;\r\n  function initMap() {\r\n    var map = new google.maps.Map(document.getElementById('map'), {\r\n      center: new google.maps.LatLng(49.0020285, -97.2347275),\r\n      zoom: 4\r\n    });\r\n    var storeLocations = [{\r\n        markerId: 1,\r\n        title: 'Click for location details',\r\n        LatLng: new google.maps.LatLng(53.553429, -113.639793),\r\n        contentString: '&lt;div&gt;&lt;strong&gt;Store A&lt;/strong&gt;&lt;/div&gt;' + '&lt;p&gt;&lt;&lt;div&gt;Edmonton AB, T5S 2T2, Canada&lt;/div&gt;&lt;/p&gt;' + '&lt;div&gt;&lt;button class=\"gDirection\"&gt;Get Directions&lt;/div&gt;'\r\n      },\r\n      {\r\n        markerId: 2,\r\n        title: 'Click for location details',\r\n        LatLng: new google.maps.LatLng(53.483710, -113.483230),\r\n        contentString: '&lt;div&gt;&lt;strong&gt;Store B&lt;/strong&gt;&lt;/div&gt;' + '&lt;p&gt;div&gt;Edmonton AB,  T6E 5C5, Canada&lt;/div&gt;&lt;/p&gt;' + '&lt;div&gt;&lt;button class=\"gDirection\"&gt;Get Directions&lt;/button&gt;&lt;/div&gt;'\r\n      },\r\n      {\r\n        markerId: 3,\r\n        title: 'Click for location details',\r\n        LatLng: new google.maps.LatLng(50.036490, -110.667030),\r\n        contentString: '&lt;div&gt;&lt;strong&gt;Store C&lt;/strong&gt;&lt;/div&gt;' + '&lt;p&gt;&lt;div&gt;Medicine Hat AB,  T1A 2Z8, Canada&lt;/div&gt;&lt;/p&gt;' + '&lt;div&gt;&lt;button class=\"gDirection\"&gt;Get Directions&lt;/button&gt;&lt;/div&gt;'\r\n      },\r\n      {\r\n        markerId: 4,\r\n        title: 'Click for location details',\r\n        LatLng: new google.maps.LatLng(49.262760, -123.004020),\r\n        contentString: '&lt;div&gt;&lt;strong&gt;Store D&lt;/strong&gt;&lt;/div&gt;' + '&lt;p&gt;&lt;div&gt;Burnaby BC, V5C 5T3, Canada&lt;/div&gt;&lt;/p&gt;' + '&lt;div&gt;&lt;button class=\"gDirection\"&gt;Get Directions&lt;/button&gt;&lt;/div&gt;'\r\n      }\r\n    ]\r\n\r\n    var markers = []\r\n    for (var i = 0; i &lt; storeLocations.length; i++) {\r\n      markers[i] = new google.maps.Marker({\r\n        map: map,\r\n        position: storeLocations[i].LatLng,\r\n        content: storeLocations[i].contentString,\r\n        title: storeLocations[i].title\r\n      });\r\n      var infowindow = new google.maps.InfoWindow();\r\n      google.maps.event.addListener(markers[i], 'click', function() {\r\n        infowindow.setContent(this.content);\r\n        infowindow.open(this.getMap(), this);\r\n        infowindow.set(this.title);\r\n      });\r\n    }\r\n\r\n    function getCustomercurrentlocation() {\r\n      if (navigator.geolocation) {\r\n        navigator.geolocation.getCurrentPosition(\r\n          function(positionGet) {\r\n            map.setCenter(new google.maps.LatLng(positionGet.coords.latitude, positionGet.coords.longitude)),\r\n              map.setZoom(10)\r\n            var contentcurrentLocation = '&lt;h3&gt;&lt;center&gt;Your current location&lt;/h3&gt;&lt;/center&gt;';\r\n            var icon = {\r\n              url: 'http://maps.google.com/mapfiles/ms/icons/blue-dot.png',\r\n              scaledSize: new google.maps.Size(55, 55), // scaled size\r\n            };\r\n            var newMarker = new google.maps.Marker({\r\n              map: map,\r\n              icon: icon,\r\n              position: new google.maps.LatLng(positionGet.coords.latitude, positionGet.coords.longitude)\r\n            });\r\n            infowindow.setContent(contentcurrentLocation);\r\n            infowindow.open(map, newMarker);\r\n\r\n          },\r\n          function(positionNotget) {\r\n            map.setCenter(new google.maps.LatLng(49.148160, -112.087260)),\r\n              map.setZoom(4)\r\n          });\r\n      } else // browser doesn't suppost Geolocation\r\n        alert('Geolocation is not supported by your browser.');\r\n    }\r\n\r\n    //google.maps.event.addListener( \"domready\",getCustomercurrentlocation());\r\n\r\n    google.maps.event.addListener(infowindow, 'domready', function() {\r\n      document.getElementsByClassName(\"gDirection\")[0].addEventListener('click', function calcRoute() {\r\n        var directionsService = new google.maps.DirectionsService();\r\n        var directionsRenderer = new google.maps.DirectionsRenderer();\r\n        directionsRenderer.setMap(map);\r\n        directionsRenderer.setPanel(document.getElementById('right-panel'));\r\n        var start = new google.maps.LatLng(49.148160, -112.087260);\r\n        var end = new google.maps.LatLng(44.71682, -63.58431)\r\n        var request = {\r\n          origin: start,\r\n          destination: end,\r\n          travelMode: 'DRIVING'\r\n        };\r\n        console.log(\"origin=\" + request.origin.toUrlValue(6) + \" dest=\" + request.destination.toUrlValue(6));\r\n        directionsService.route(request, function(result, status) {\r\n          if (status == 'OK') {\r\n            directionsRenderer.setDirections(result);\r\n          }\r\n        });\r\n      })\r\n    })\r\n  }\r\n&lt;/script&gt;\r\n&lt;!-- Replace the value of the key parameter with your own API key. --&gt;\r\n&lt;script src=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyCkUOdZ5y7hMm0yrcCQoCvLwzdM6M8s5qk&amp;callback=initMap\" async defer&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 19, "user_id": 9217527, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WSOZPmXYGQU/AAAAAAAAAAI/AAAAAAAAAKs/XgNGqmw5YRY/photo.jpg?sz=128", "display_name": "smallwhite", "link": "https://stackoverflow.com/users/9217527/smallwhite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 59295945, "answer_count": 1, "score": -1, "last_activity_date": 1576117975, "creation_date": 1576104601, "last_edit_date": 1576117975, "question_id": 59295324, "link": "https://stackoverflow.com/questions/59295324/click-event-for-buttons-in-the-google-map-info-window", "title": "click event for buttons in the google map info window", "body": "<p>I want to set up click events for buttons inside google marker infowindow so that when a user click \"Get Direction\" buttons, google route will show up ( it starts from the infowindow's address to user's current address) at the panel right beside the map. </p>\n\n<p>Below is my code. If you click 'Get Direction' of store A, you will see a route show up at the panel right beside the map...</p>\n\n<p>if I click other buttons, it says \"\nUncaught TypeError: Cannot read property 'addEventListener' of null\n    at _.gg.\"</p>\n\n<p>I currently stuck on the loop for these buttons... can someone give me some ideas?</p>\n\n<pre><code>\n        &lt;!DOCTYPE html&gt;\n    &lt;html&gt;\n\n    &lt;head&gt;\n      &lt;meta charset=\"utf-8\"&gt;\n      &lt;title&gt;Store Locations&lt;/title&gt;\n\n      &lt;style&gt;\n        #map {\n          width: 60%;\n          height: 650px;\n          margin-left: 4%;\n          margin-top: 2%\n        }\n\n        #right-panel {\n          font-family: 'Roboto', 'sans-serif';\n          line-height: 30px;\n          height: 650px;\n          float: right;\n          width: 30%;\n          overflow: auto;\n          margin-top: 2%;\n          height: 650px;\n          margin-right: 4%;\n        }\n\n        @media print {\n          #map {\n            height: 650px;\n            margin-left: 4%;\n            width: 60%;\n          }\n\n          #right-panel {\n            float: right;\n            height: 650px;\n          }\n        }\n      &lt;/style&gt;\n\n    &lt;/head&gt;\n\n    &lt;p id='dTitle'&gt;\n      &lt;h3&gt;Store Locations&lt;/h3&gt;\n    &lt;/p&gt;\n\n    &lt;div id=\"right-panel\"&gt;&lt;/div&gt;\n    &lt;div id=\"map\"&gt;&lt;/div&gt;\n    &lt;div id=\"directionsPanel\"&gt;&lt;/div&gt;\n\n\n\n    &lt;script&gt;\n      // \u521d\u59cb\u5316map\n\n      function initMap() {\n        var map = new google.maps.Map(document.getElementById('map'), {\n          center: new google.maps.LatLng(49.0020285, -97.2347275), zoom: 4\n        });\n        var storeLocations = [\n          { markerId: 1, title: 'Click for location details', LatLng: new google.maps.LatLng(53.483710, -113.483230), contentString: '&lt;div&gt;&lt;strong&gt;Store A&lt;/strong&gt;&lt;/div&gt;' + '&lt;p&gt;div&gt;Edmonton AB,  T6E 5C5, Canada&lt;/div&gt;&lt;/p&gt;' + '&lt;div&gt;&lt;button class=\"gDirection1\"&gt;Get Directions&lt;/button&gt;&lt;/div&gt;' },\n          { markerId: 2, title: 'Click for location details', LatLng: new google.maps.LatLng(50.036490, -110.667030), contentString: '&lt;div&gt;&lt;strong&gt;Store B&lt;/strong&gt;&lt;/div&gt;' + '&lt;p&gt;&lt;div&gt;Medicine Hat AB,  T1A 2Z8, Canada&lt;/div&gt;&lt;/p&gt;' + '&lt;div&gt;&lt;button class=\"gDirection1\"&gt;Get Directions&lt;/button&gt;&lt;/div&gt;' },\n          { markerId: 3, title: 'Click for location details', LatLng: new google.maps.LatLng(49.262760, -123.004020), contentString: '&lt;div&gt;&lt;strong&gt;Store C&lt;/strong&gt;&lt;/div&gt;' + '&lt;p&gt;&lt;div&gt;Burnaby BC, V5C 5T3, Canada&lt;/div&gt;&lt;/p&gt;' + '&lt;div&gt;&lt;button id=\"gDirection2\"&gt;Get Directions&lt;/button&gt;&lt;/div&gt;' }]\n\n        var markers = []\n        for (var i = 0; i &lt; storeLocations.length; i++) {\n          markers[i] = new google.maps.Marker({\n            map: map,\n            position: storeLocations[i].LatLng,\n            content: storeLocations[i].contentString,\n            title: storeLocations[i].title\n          });\n          var infowindow = new google.maps.InfoWindow();\n          google.maps.event.addListener(markers[i], 'click', function () {\n            infowindow.setContent(this.content);\n            infowindow.open(this.getMap(), this);\n            infowindow.set(this.title);\n          });\n        }\n\n        function getCustomercurrentlocation() {\n          if (navigator.geolocation) {\n            navigator.geolocation.getCurrentPosition(\n              function (positionGet) {\n                map.setCenter(new google.maps.LatLng(positionGet.coords.latitude, positionGet.coords.longitude)),\n                  map.setZoom(10)\n                var contentcurrentLocation = '&lt;h3&gt;&lt;center&gt;Your current location&lt;/h3&gt;&lt;/center&gt;';\n                var icon = {\n                  url: 'http://maps.google.com/mapfiles/ms/icons/blue-dot.png',\n                  scaledSize: new google.maps.Size(55, 55), // scaled size\n                };\n                var newMarker = new google.maps.Marker({\n                  map: map,\n                  icon: icon,\n                  position: new google.maps.LatLng(positionGet.coords.latitude, positionGet.coords.longitude)\n                });\n                infowindow.setContent(contentcurrentLocation);\n                infowindow.open(map, newMarker);\n              },\n              function (positionNotget) {\n                map.setCenter(new google.maps.LatLng(49.148160, -112.087260)),\n                  map.setZoom(4)\n              });\n          }\n          else // browser doesn't suppost Geolocation\n            alert('Geolocation is not supported by your browser.');\n        }\n\n        //google.maps.event.addListener( \"domready\",getCustomercurrentlocation());\n\n        var btns = document.getElementById(\"gDirection\");\n        google.maps.event.addListener(infowindow, 'domready', function () {\n          btns.addListener('click', function calcRoute() {\n            var directionsService = new google.maps.DirectionsService();\n            var directionsRenderer = new google.maps.DirectionsRenderer();\n            directionsRenderer.setMap(map);\n            directionsRenderer.setPanel(document.getElementById('right-panel'));\n            var start = new google.maps.LatLng(49.148160, -112.087260);\n            var end = new google.maps.LatLng(44.71682, -63.58431)\n            var request = {\n              origin: start,\n              destination: end,\n              travelMode: 'DRIVING'\n            };\n            directionsService.route(request, function (result, status) {\n              if (status == 'OK') {\n                directionsRenderer.setDirections(result);\n              }\n            });\n          })\n\n\n        }\n        )\n\n\n\n      }\n\n    &lt;/script&gt;\n    &lt;script async defer\n      src=\"https://maps.googleapis.com/maps/api/js?key=\"&gt;&lt;/script&gt;\n    &lt;/body&gt;\n</code></pre>\n"}, {"tags": ["javascript", "oauth", "oauth-2.0", "google-drive-api", "google-oauth"], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 7129088, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fZrvI.jpg?s=128&g=1", "display_name": "JoJo", "link": "https://stackoverflow.com/users/7129088/jojo"}, "edited": false, "score": 0, "creation_date": 1576115610, "post_id": 59295482, "comment_id": 104797417, "body": "Wow thanks, that worked! I looked at that doc earlier when I was wondering if I needed to send the whole token object or just the string, and I guess I must have misread it since it said string in the description for the token object, smh."}, {"owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "reply_to_user": {"reputation": 77, "user_id": 7129088, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fZrvI.jpg?s=128&g=1", "display_name": "JoJo", "link": "https://stackoverflow.com/users/7129088/jojo"}, "edited": false, "score": 0, "creation_date": 1576192284, "post_id": 59295482, "comment_id": 104829774, "body": "@JoJo Thank you for replying. I&#39;m glad your issue was resolved."}], "tags": [], "owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "is_accepted": true, "score": 1, "last_activity_date": 1576105645, "creation_date": 1576105645, "answer_id": 59295482, "question_id": 59295318, "link": "https://stackoverflow.com/questions/59295318/how-to-resolve-403-error-with-service-account-and-google-drive-api/59295482#59295482", "title": "How to resolve 403 error with Service Account and Google Drive API", "body": "<ul>\n<li>When your script is run, the error of <code>Daily Limit for Unauthenticated Use Exceeded. Continued use requires signup.</code> occurs.</li>\n<li>You want to remove this error.</li>\n</ul>\n\n<p>If my understanding is correct, how about this modification? I think that the access token retrieved with your script can be used. So please modify your script as follows.</p>\n\n<h3>From:</h3>\n\n<pre><code>gapi.client.setToken(accessToken);\n</code></pre>\n\n<h3>To:</h3>\n\n<pre><code>gapi.client.setToken({access_token: accessToken});\n</code></pre>\n\n<h3>Reference:</h3>\n\n<ul>\n<li><a href=\"https://github.com/google/google-api-javascript-client/blob/master/docs/reference.md#----gapiclientsettokentokenobject--\" rel=\"nofollow noreferrer\">gapi.client.setToken(tokenObject)</a></li>\n</ul>\n\n<p>If this was not the direct solution of your issue, I apologize.</p>\n"}], "owner": {"reputation": 77, "user_id": 7129088, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fZrvI.jpg?s=128&g=1", "display_name": "JoJo", "link": "https://stackoverflow.com/users/7129088/jojo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 496, "favorite_count": 0, "accepted_answer_id": 59295482, "answer_count": 1, "score": 2, "last_activity_date": 1576105645, "creation_date": 1576104552, "question_id": 59295318, "link": "https://stackoverflow.com/questions/59295318/how-to-resolve-403-error-with-service-account-and-google-drive-api", "title": "How to resolve 403 error with Service Account and Google Drive API", "body": "<p>I'm trying to write a client-side JS script that will fetch images from my gDrive to display on a website using a service account. I created the service account and added and enabled the google Drive API for the project. But when I run the script, I'm getting a 403 error: Daily Limit for Unauthenticated Use Exceeded. Continued use requires signup. I think it has to do with permissions or scopes maybe? I've looked at several other stack overflows and can't seem to figure it out. </p>\n\n<p><a href=\"https://stackoverflow.com/questions/20372453/getting-a-403-forbidden-for-google-service-account\">Getting a 403 - Forbidden for Google Service Account</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/12503437/google-drive-service-account-returns-403-usagelimits\">Google Drive service account returns 403 usageLimits</a></p>\n\n<p>Some of them mention adding roles or scopes, but I can't figure out how to add them or which ones I need to add. Is a GSuite account mandatory? It sounds like I would need to go into the GSuite admin console to add the scopes? I would like to not have to sign up for an account, as it's not free. Any help would be appreciated. My code looks like the following: </p>\n\n<pre><code>\nfunction gDrive() {\n  function init(callback) {\n    authorizeClient(getJWT()).then(function(token) {\n      loadClient(token, callback);\n    });\n  }\n\n  /* Retrieve a signed JWT */\n  function getJWT() {\n    // Prepare header, payload, and key\n    let oHeader = {\n      \"alg\": \"RS256\",\n      \"typ\": \"JWT\"\n    };\n    let sHeader = JSON.stringify(oHeader);\n    let oPayload = {\n      \"iss\": \"SERVICE ACCOUNT EMAIL\",\n      \"sub\": \"SERVICE ACCOUNT EMAIL\",\n      \"aud\": \"https://www.googleapis.com/oauth2/v3/token\",\n      \"iat\": KJUR.jws.IntDate.getNow(),\n      \"exp\": KJUR.jws.IntDate.get(\"now + 1hour\"),\n      \"scope\": \"https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/drive.appdata https://www.googleapis.com/auth/drive.file https://www.googleapis.com/auth/drive.metadata https://www.googleapis.com/auth/drive.metadata.readonly https://www.googleapis.com/auth/drive.photos.readonly https://www.googleapis.com/auth/drive.readonly\"\n    };\n    let sPayload = JSON.stringify(oPayload);\n    let privKey = \"-----BEGIN PRIVATE KEY-----BLAH BLAH BLAH\\n-----END PRIVATE KEY-----\\n\";\n\n    // Sign JWT\n    return signedJWS = KJUR.jws.JWS.sign(null, sHeader, sPayload, privKey);\n  }\n\n  /* Http POST to Google Auth api */\n  function authorizeClient(JWS) {\n    // Request access token\n    const url = \"https://www.googleapis.com/oauth2/v3/token\";\n    let encodedData = \"\";\n    let encodedDataPairs = [];\n    encodedDataPairs.push(encodeURIComponent(\"grant_type\") + '=' + encodeURIComponent(\"urn:ietf:params:oauth:grant-type:jwt-bearer\"));\n    encodedDataPairs.push(encodeURIComponent(\"assertion\") + '=' + encodeURIComponent(JWS));\n    encodedData = encodedDataPairs.join('&amp;').replace(/%20/g, '+');\n\n    const params = {\n      headers: {\"content-type\":\"application/x-www-form-urlencoded\"},\n      body: encodedData,\n      method: \"POST\"\n    };\n\n    return fetch(url, params).then(accessTokenSucces).then(returnToken).catch(accessTokenFailed);\n  }\n\n  function accessTokenSucces(data) {\n    console.log(\"Retrieved access token\");\n    return data.json();\n  }\n\n  function returnToken(resp) {\n    return resp.access_token;\n  }\n\n  function accessTokenFailed(error) {\n    console.log(\"Requesting access token failed: \" + error);\n  }\n\n  function loadClient(accessToken, callback) {\n    gapi.load('client', function() {\n      console.log(\"loading client\");\n      gapi.client.setToken(accessToken);\n      console.log(\"set access token\");\n      return gapi.client.load(\"https://content.googleapis.com/discovery/v1/apis/drive/v3/rest\").then(clientLoadSuccessful).then(callback).catch(clientLoadFailed);\n    })\n  }\n\n  function clientLoadSuccessful() {\n    console.log(\"Client loaded\");\n    return Promise.resolve();\n  }\n\n  function clientLoadFailed(error) {\n    console.log(\"Loading Client failed: \" + error);\n    return Promise.reject();\n  }\n\n  function fetchAllImages(fileName, chapter, callback) {\n    console.log(\"fetching images\");\n    let initialRequest = gapi.client.drive.files.list({\"q\": \"mimeType contains \\\"image\\\" and name contains '\" \n                                                       + fileName + \"_ch\" + chapter + \"'\"});\n    retrievePageOfFiles(initialRequest, [], fileName, chapter);\n\n    function retrievePageOfFiles(request, result) {\n      request.execute(function(resp) {\n        result = result.concat(resp.files);\n        let nextPageToken = resp.nextPageToken;\n        if (nextPageToken) {\n          request = gapi.client.drive.files.list({\n            \"pageToken\": nextPageToken,\n            \"q\": \"mimeType contains \\\"image\\\" and name contains '\" + fileName + \"_ch\" + chapter + \"'\"\n          });\n          retrievePageOfFiles(request, result);\n        } else {\n          console.log(\"Images retrieved\");\n          callback(result);\n        }\n      }).catch(function(err) {\n        console.log(\"Could not retrieve images: \" + err);\n      });\n    }\n  }\n\n  return {\n    init: init,\n    fetchAllImages: fetchAllImages\n  };\n}\n\ngDrive().init(runApp);\n\nfunction runApp() {\nconsole.log(\"Running App\");\n    gDrive().fetchAllImages(\"FILENAME\", \"1\", imageCallback);\n}\n\nfunction imageCallback(data) {\n    console.log(\"Images Retrieved!\");\n    console.log(data);\n}\n</code></pre>\n"}, {"tags": ["javascript", "google-chrome-extension"], "answers": [{"tags": [], "owner": {"reputation": 42546, "user_id": 3959875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJdGu.png?s=128&g=1", "display_name": "wOxxOm", "link": "https://stackoverflow.com/users/3959875/woxxom"}, "is_accepted": false, "score": 0, "last_activity_date": 1576131049, "creation_date": 1576131049, "answer_id": 59298657, "question_id": 59295317, "link": "https://stackoverflow.com/questions/59295317/how-to-wait-for-content-script-listener-to-load-after-background-script-opens-ur/59298657#59298657", "title": "How to wait for content script listener to load after background script opens URL?", "body": "<p>In onUpdated callback you need to check if the updated tab is actually the one you've updated manually. However I'd like to suggest a much simpler overall approach:</p>\n\n<ol>\n<li>remove \"content_scripts\" section from manifest.json</li>\n<li>run the content script <a href=\"https://developer.chrome.com/extensions/content_scripts#functionality\" rel=\"nofollow noreferrer\">programmatically</a>.</li>\n</ol>\n\n<hr>\n\n<pre><code>chrome.tabs.update({url: 'https://stackoverflow.com/'}, tab =&gt; {\n  chrome.tabs.executeScript(tab.id, {file: 'content.js'}, ([results]) =&gt; {\n    console.log(results);\n  });\n});\n</code></pre>\n\n<p>content.js:</p>\n\n<pre><code>// do something\n// ...............\n// return some data to executeScript\n// (only simple types like strings/numbers or arrays/objects consisting of simple types)\nvar results = [...document.links].map(el =&gt; el.href);\nresults;\n</code></pre>\n\n<p>The last line will transfer the array of URLs to executeScript's callback.</p>\n"}], "owner": {"reputation": 53, "user_id": 11904194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1873a86b78de137310e1275e659deaf?s=128&d=identicon&r=PG&f=1", "display_name": "aj93", "link": "https://stackoverflow.com/users/11904194/aj93"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 389, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576131049, "creation_date": 1576104539, "question_id": 59295317, "link": "https://stackoverflow.com/questions/59295317/how-to-wait-for-content-script-listener-to-load-after-background-script-opens-ur", "title": "How to wait for content script listener to load after background script opens URL?", "body": "<p>My background script should open an URL and wait for it to load completely, so the content script's listener is ready (Am i right with this?). Then it should send the message \"newURLvisited\" to the content script.</p>\n\n<p>The content script receives the message and gets all links from the website and clicks on one (for example index 10). Normally the content script would activate itself by doing so, because my manifest.json matches all urls (which is necessary for me).</p>\n\n<p>I wanted to fix this problem by calling the content script only when the background script sends the message \"newURLcreated\". When a link is clicked by the content script, the message \"newURLcreated\" is send, but this is not the wanted behaviour.</p>\n\n<p>So how can i wait for the content script's listener to load and then send messages to it without having my problem?</p>\n\n<p>I know that i am checking 'load' and tabs.onUpdated, which might not be necessary. I was experimenting with them.</p>\n\n<hr>\n\n<p>background.js:</p>\n\n<pre><code>chrome.windows.onCreated.addListener(\n  chrome.tabs.update({url:\"https://stackoverflow.com/\"});\n});\n\nwindow.addEventListener('load', function(event) {  \n  chrome.tabs.onUpdated.addListener(function (tabId, changeInfo, tab) {          \n    if (changeInfo.status == 'complete') {   \n      chrome.tabs.query({active: true, currentWindow: true}, function(tabs){\n        chrome.tabs.sendMessage(tabs[0].id, {txt: \"newURLvisited\"}, function(response) {});\n      });\n    }\n  });\n});\n\n</code></pre>\n\n<p>content.js:</p>\n\n<pre><code>chrome.runtime.onMessage.addListener(gotMessage);\n\nfunction gotMessage(message) {\n  if (message.txt === \"newURLvisited\") {\n    var allLinks = document.getElementsByTagName(\"a\");\n  }\n  allLinks[10].click();\n}\n\n</code></pre>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 2, "creation_date": 1576104649, "post_id": 59295316, "comment_id": 104794944, "body": "Sorry can you be mroe clear, can you show us an example of the output you would like?"}, {"owner": {"reputation": 27, "user_id": 12517895, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0ifupbwsKLA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcmY-Sg19KOqoV4-3a-Cwk79tBS8g/photo.jpg?sz=128", "display_name": "jaap klaas", "link": "https://stackoverflow.com/users/12517895/jaap-klaas"}, "reply_to_user": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1576104867, "post_id": 59295316, "comment_id": 104795021, "body": "it renders now just a piece of html code with error name and error message from an array very simple just a li list but it needs to update instead of appending for example 1 error hget resolved its get filtered from the array and now i call that function again it will append  the filtered array to the existing list instead of updating the list"}, {"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 1, "creation_date": 1576105132, "post_id": 59295316, "comment_id": 104795098, "body": "Are you saying you want to clear the list before appending new items? If so, just use <code>$(&#39;.errors&#39;).empty()</code> before iterating <code>errors</code>"}, {"owner": {"reputation": 27, "user_id": 12517895, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0ifupbwsKLA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcmY-Sg19KOqoV4-3a-Cwk79tBS8g/photo.jpg?sz=128", "display_name": "jaap klaas", "link": "https://stackoverflow.com/users/12517895/jaap-klaas"}, "edited": false, "score": 0, "creation_date": 1576105298, "post_id": 59295316, "comment_id": 104795142, "body": "i already do this but this gives some repostioning issues the space of the deleted li wll be shared somehow"}, {"owner": {"reputation": 64, "user_id": 12370194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bf84f714e6a230845c1fd31b58d519a?s=128&d=identicon&r=PG&f=1", "display_name": "happybird", "link": "https://stackoverflow.com/users/12370194/happybird"}, "edited": false, "score": 0, "creation_date": 1576133852, "post_id": 59295316, "comment_id": 104801778, "body": "You don&#39;t want to clear the li tag, but just replace the text in li when the error content is updated?"}, {"owner": {"reputation": 27, "user_id": 12517895, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0ifupbwsKLA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcmY-Sg19KOqoV4-3a-Cwk79tBS8g/photo.jpg?sz=128", "display_name": "jaap klaas", "link": "https://stackoverflow.com/users/12517895/jaap-klaas"}, "edited": false, "score": 0, "creation_date": 1576136043, "post_id": 59295316, "comment_id": 104802616, "body": "it removing a li but can you show me an example how to remove just one li intstead of iterrating each time when a li(error message is removed) ?"}], "answers": [{"tags": [], "owner": {"reputation": 31533, "user_id": 2813224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/602e78d7da7bd6353c8ee51a17826037?s=128&d=identicon&r=PG", "display_name": "zer00ne", "link": "https://stackoverflow.com/users/2813224/zer00ne"}, "is_accepted": false, "score": 0, "last_activity_date": 1576141266, "creation_date": 1576141266, "answer_id": 59300932, "question_id": 59295316, "link": "https://stackoverflow.com/questions/59295316/update-the-dom-instead-of-append-with-jquery/59300932#59300932", "title": "Update the dom instead of append with jQuery", "body": "<p>The jQuery method <a href=\"https://api.jquery.com/html/\" rel=\"nofollow noreferrer\"><code>.html()</code></a> overwrites the content of the targeted element(s) with a given <code>htmlString</code>. The following demo function <code>logger()</code> will accept an array of objects and render the data in a <code>&lt;ul&gt;</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let failData = [{\r\n    DOM: '.fail',\r\n    title: 'Errors: ',\r\n    header: ['File', 'Message']\r\n  },\r\n  {\r\n    item: '12ffda8a99.log',\r\n    message: 'Connection failed'\r\n  },\r\n  {\r\n    item: 'bb6200c400.log',\r\n    message: 'Corrupted download'\r\n  },\r\n  {\r\n    item: 'd93ba66731.log',\r\n    message: 'Encryption key needed'\r\n  },\r\n  {\r\n    item: '08caa5240f.log',\r\n    message: 'Mismatched certification'\r\n  },\r\n  {\r\n    item: 'dead0b8a99.log',\r\n    message: 'Insecure protocol'\r\n  }\r\n];\r\n\r\nlet warnData = [{\r\n    DOM: '.warn',\r\n    title: 'Alerts: ',\r\n    header: ['System', 'Message']\r\n  },\r\n  {\r\n    item: 'network',\r\n    message: '1GB of data left before limit is exceeded'\r\n  },\r\n  {\r\n    item: 'file',\r\n    message: '1GB of storage left before partition is full'\r\n  },\r\n  {\r\n    item: 'power',\r\n    message: '5% of battery remains'\r\n  }\r\n];\r\n\r\nlet infoData = [{\r\n    DOM: '.info',\r\n    title: 'Updates: ',\r\n    header: ['Priority', 'Message']\r\n  },\r\n  {\r\n    item: 'critical',\r\n    message: 'Anti-virus update required'\r\n  },\r\n  {\r\n    item: 'optional',\r\n    message: 'Media encoding update available'\r\n  }\r\n];\r\n\r\nconst logger = array =&gt; {\r\n  let html = '';\r\n  let list;\r\n  for (let [index, object] of array.entries()) {\r\n    list = $(array[0].DOM);\r\n    if (index === 0) {\r\n      list.prev('header').html(`&lt;u&gt;&lt;b&gt;${object.title}&lt;/b&gt;&lt;output&gt;${array.length-1}&lt;/output&gt;&lt;/u&gt;&lt;u&gt;&lt;b&gt;${object.header[0]}&lt;/b&gt;&lt;b&gt;${object.header[1]}&lt;/b&gt;&lt;/u&gt;`);\r\n    } else {\r\n      html += `&lt;li&gt;&lt;b&gt;${object.item}&lt;/b&gt;&lt;b&gt;${object.message}&lt;/b&gt;&lt;/li&gt;`;\r\n    }\r\n  }\r\n  list.html(html);\r\n  return false;\r\n}\r\n\r\nlogger(failData);\r\nlogger(warnData);\r\nlogger(infoData);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>header {\r\n  margin: 10px 0 -15px;\r\n}\r\n\r\nul {\r\n  padding: 5px 0 10px;\r\n  border: 3px ridge #777;\r\n  overflow-y: hidden;\r\n}\r\n\r\nul,\r\nheader {\r\n  display: table;\r\n  table-layout: fixed;\r\n  width: 90%;\r\n}\r\n\r\nli,\r\nu {\r\n  display: table-row;\r\n}\r\n\r\nb {\r\n  display: table-cell;\r\n  width: 50%;\r\n  border-bottom: 1px solid #000;\r\n  padding-left:5px\r\n}\r\n\r\noutput {\r\n  display: inline-block;\r\n  width: 10ch;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;main&gt;\r\n  &lt;section class='logs'&gt;\r\n    &lt;header&gt;&lt;/header&gt;\r\n    &lt;ul class='fail'&gt;&lt;/ul&gt;\r\n    &lt;header&gt;&lt;/header&gt;\r\n    &lt;ul class='warn'&gt;&lt;/ul&gt;\r\n    &lt;header&gt;&lt;/header&gt;\r\n    &lt;ul class='info'&gt;&lt;/ul&gt;\r\n  &lt;/section&gt;\r\n&lt;/main&gt;\r\n\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 27, "user_id": 12517895, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0ifupbwsKLA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcmY-Sg19KOqoV4-3a-Cwk79tBS8g/photo.jpg?sz=128", "display_name": "jaap klaas", "link": "https://stackoverflow.com/users/12517895/jaap-klaas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576141266, "creation_date": 1576104536, "last_edit_date": 1576126910, "question_id": 59295316, "link": "https://stackoverflow.com/questions/59295316/update-the-dom-instead-of-append-with-jquery", "title": "Update the dom instead of append with jQuery", "body": "<p>I have a question about jQuery: I now render content from an array to the dom with:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>errors.forEach(error =&gt; {\n  let message = error.message;\n  let fileName = error.fileName;\n  $('.errors').append(\"&lt;li class=\\\"error-item\\\"&gt;\".concat(fileName, \" : \").concat(message, \"&lt;/li&gt;&lt;br&gt;\"));\n});\n</code></pre>\n\n<p>but I got some actions that update the array where I render the content from, but when I run this function after the update of the array, it appends. I use the <code>.empty()</code> before now but that feels like a hack around but I want it to update </p>\n\n<p>I hope this make sense</p>\n\n<p>What can I do that it updates the dom instead of appending?</p>\n\n<p>I hope someone can help me with this</p>\n"}, {"tags": ["javascript", "arrays", "object", "geojson"], "answers": [{"tags": [], "owner": {"reputation": 2274, "user_id": 6476496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd1ca185cf4b12910506f46f431d2371?s=128&d=identicon&r=PG&f=1", "display_name": "kingkupps", "link": "https://stackoverflow.com/users/6476496/kingkupps"}, "is_accepted": false, "score": 0, "last_activity_date": 1576105091, "creation_date": 1576105091, "answer_id": 59295400, "question_id": 59295298, "link": "https://stackoverflow.com/questions/59295298/problem-with-setting-objects-parameter-in-js-array/59295400#59295400", "title": "problem with setting objects parameter in JS array", "body": "<p>You are pushing the same object 10 times. You can fix this easily by using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\" rel=\"nofollow noreferrer\"><code>Object.assign</code></a>.</p>\n\n<pre><code>const featuresArray = [];\nfor (let i = 0; i &lt; 10; i++) {\n    featuresArray.push(Object.assign({}, featureClassObject));\n}\n</code></pre>\n\n<p>This pushes 10 different objects containing the same data.</p>\n"}, {"tags": [], "owner": {"reputation": 1145, "user_id": 164545, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/b3e8be884ca4ff5e8e75030bff50d99c?s=128&d=identicon&r=PG", "display_name": "Seanonymous", "link": "https://stackoverflow.com/users/164545/seanonymous"}, "is_accepted": true, "score": 3, "last_activity_date": 1588612908, "last_edit_date": 1588612908, "creation_date": 1576105753, "answer_id": 59295503, "question_id": 59295298, "link": "https://stackoverflow.com/questions/59295298/problem-with-setting-objects-parameter-in-js-array/59295503#59295503", "title": "problem with setting objects parameter in JS array", "body": "<p>Use Object.assign() to make copies of the nested objects so you're not just referencing a pointer:</p>\n\n<pre><code>function randomNumber(){\n    min = Math.floor(0);\n    max = Math.floor(360);\n    let coordinateX = Math.floor(Math.random()*(max-min+1))+min;\n    let coordinateY = Math.floor(Math.random()*(max-min+1))+min;\n    return [coordinateX,coordinateY]\n};\n//geoJson object structure example\nlet featureClassObject = {\n  \"type\": \"Feature\",\n  \"geometry\": {\n    \"type\": \"Point\",\n    \"coordinates\": [10,10]\n  },\n  \"properties\": {\n    \"name\": \"Dinagat Islands\"\n  }\n}\n//generating array and and pushing 10x GeoJson Object\nlet featuresArray = [];\nfor (let i=0;i&lt;10;i++){\n    featureClassCopy = Object.assign({}, featureClassObject);\n    featureClassCopy.geometry = Object.assign({}, featureClassCopy.geometry);\n    featuresArray.push(featureClassCopy);\n}\n//changing the value of coordinates \nfeaturesArray.forEach((item)=&gt;{\n    item.geometry.coordinates=randomNumber();\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 45, "user_id": 9147131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04dbdd3fbc9cd7e71b6a75a6b732bf6f?s=128&d=identicon&r=PG&f=1", "display_name": "Markoyee", "link": "https://stackoverflow.com/users/9147131/markoyee"}, "is_accepted": false, "score": 0, "last_activity_date": 1576189335, "creation_date": 1576189335, "answer_id": 59313535, "question_id": 59295298, "link": "https://stackoverflow.com/questions/59295298/problem-with-setting-objects-parameter-in-js-array/59313535#59313535", "title": "problem with setting objects parameter in JS array", "body": "<p>So generally, the above was a kind of passing by reference issue.<br/>\nHow to check it?<br/></p>\n\n<pre><code>array[0]===array[1] \n</code></pre>\n\n<p><br/>\nwhen above returns true it means that you have created a number of reference to one object inside of your array.</p>\n\n<p>To handle it, there is one way -> you have to copy an object before pushing it to the array.<br/>\n<strong>There are two few ways of copying objects</strong>:<br>\n <strong>1. Shallow copying</strong> (does not copy nested parts of objects and for nested part of object still returns reference):<br/>\n        - <code>let copyOfObjectFirstWay = Object.assign({}, objectName);</code><br/>\n        - <code>let copyOfObjectSecondWay = {...objectName}</code>;<br/>\n <strong>2. Deep copying</strong> (copies whole even the nested part):\n        - <code>let copyOfObjectDeepWay = JSON.parse(JSON.stringify(objectName));</code> - this may cause some perfomance issue when objects are big&amp;complex.</p>\n\n<p>In my case (tanks to hint from Seanonymous) I solve it by making object generator function that returns copy of an object (parsed&amp;stringified). <br/>My code <br/></p>\n\n<pre><code>function randomNumber(min, max){\n    let random = ((Math.random()*(max-min+1))+min).toFixed(4);\n    return random\n};\n\nfunction objectGenerator(){\n    let featureClassObject = {\n        \"type\": \"Feature\",\n        \"geometry\": {\n            \"type\": \"Point\",\n            \"coordinates\": [10,10]\n        },\n       \"properties\": {\n            \"name\": \"Dinagat Islands\"\n        }\n    };\n    featureClassObject.geometry.coordinates=[randomNumber(20.13666, 21.875), \n    randomNumber(51.87,52.3160)];\n    let newFeatureClassObcject= JSON.parse(JSON.stringify(featureClassObject));\n    return newFeatureClassObcject;\n};\n\nlet randomFeatureClassArray= [];\nfunction randomGeometryObjectArrayGenerator(){\n    let t0=performance.now();\n\nfor (let i=0;i&lt;100;i++){\n    randomFeatureClassArray.push(objectGenerator());\n};\nlet t1=performance.now();\nconsole.log(`the array was generated in  ${t1-t0} miliseconds`)\n};\n\nrandomGeometryObjectArrayGenerator();\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 9147131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04dbdd3fbc9cd7e71b6a75a6b732bf6f?s=128&d=identicon&r=PG&f=1", "display_name": "Markoyee", "link": "https://stackoverflow.com/users/9147131/markoyee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 1, "accepted_answer_id": 59295503, "answer_count": 3, "score": 2, "last_activity_date": 1588612908, "creation_date": 1576104447, "last_edit_date": 1576107540, "question_id": 59295298, "link": "https://stackoverflow.com/questions/59295298/problem-with-setting-objects-parameter-in-js-array", "title": "problem with setting objects parameter in JS array", "body": "<p><br/>\nI like to generate in JS array that will contain GeoJson objects with random values of coordinates.\nI started with pushing 10 objects to array with loop and this part works but, when I like to set the random values of coordinates (so each object has different coordinates) I receive same coordinates for each object.</p>\n\n<p>Is this some kind of passing by reference issue ? How to handle it? <br/></p>\n\n<p>My code looks like this:</p>\n\n<pre><code>//random number generator\nfunction randomNumber(){\n    min = Math.floor(0);\n    max = Math.floor(360);\n    let coordinateX = Math.floor(Math.random()*(max-min+1))+min;\n    let coordinateY = Math.floor(Math.random()*(max-min+1))+min;\n    return [coordinateX,coordinateY]\n};\n//geoJson object structure example\nlet featureClassObject = {\n  \"type\": \"Feature\",\n  \"geometry\": {\n    \"type\": \"Point\",\n    \"coordinates\": [10,10] //these don't like to cooperate \n  },\n  \"properties\": {\n    \"name\": \"Dinagat Islands\"\n  }\n}\n//generating array and and pushing 10x GeoJson Object\nlet featuresArray = [];\nfor (let i=0;i&lt;10;i++){\n    featuresArray.push(featureClassObject);\n}\n//changing the value of coordinates \nfeaturesArray.forEach((item)=&gt;{\n    item.geometry.coordinates=randomNumber();\n});\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "oop", "ecmascript-6"], "answers": [{"comments": [{"owner": {"reputation": 1060, "user_id": 7080032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acc11eaa19b84176ef3b4c06136f5182?s=128&d=identicon&r=PG", "display_name": "Chris Chen", "link": "https://stackoverflow.com/users/7080032/chris-chen"}, "edited": false, "score": 0, "creation_date": 1576104756, "post_id": 59295301, "comment_id": 104794982, "body": "Component name should be MultiChoiceQuestions : )"}, {"owner": {"reputation": 597, "user_id": 8525056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5895d0e70d946fbe5ab7c9aaf6b8aee3?s=128&d=identicon&r=PG&f=1", "display_name": "invrt", "link": "https://stackoverflow.com/users/8525056/invrt"}, "edited": false, "score": 0, "creation_date": 1576105132, "post_id": 59295301, "comment_id": 104795097, "body": "Hmm, I don&#39;t think this is quite what I&#39;m after, If I have multiple MultiChoiceQuestion components in my parent component, I want to be able to feed in different arrays. the array param would be a prop"}, {"owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "reply_to_user": {"reputation": 597, "user_id": 8525056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5895d0e70d946fbe5ab7c9aaf6b8aee3?s=128&d=identicon&r=PG&f=1", "display_name": "invrt", "link": "https://stackoverflow.com/users/8525056/invrt"}, "edited": false, "score": 0, "creation_date": 1576105289, "post_id": 59295301, "comment_id": 104795138, "body": "@invrt Well, using such solution you are actually able to feed different arrays"}, {"owner": {"reputation": 597, "user_id": 8525056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5895d0e70d946fbe5ab7c9aaf6b8aee3?s=128&d=identicon&r=PG&f=1", "display_name": "invrt", "link": "https://stackoverflow.com/users/8525056/invrt"}, "edited": false, "score": 0, "creation_date": 1576105839, "post_id": 59295301, "comment_id": 104795310, "body": "I must be doing something wrong then, I&#39;m getting &quot;TypeError: Cannot read property &#39;map&#39; of undefined&quot; is undefined on multiChoice component.  Is it possible to have a bit more of an explanation for your answer please?"}, {"owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "reply_to_user": {"reputation": 597, "user_id": 8525056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5895d0e70d946fbe5ab7c9aaf6b8aee3?s=128&d=identicon&r=PG&f=1", "display_name": "invrt", "link": "https://stackoverflow.com/users/8525056/invrt"}, "edited": false, "score": 0, "creation_date": 1576105956, "post_id": 59295301, "comment_id": 104795349, "body": "@invrt Updated answer:)"}, {"owner": {"reputation": 597, "user_id": 8525056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5895d0e70d946fbe5ab7c9aaf6b8aee3?s=128&d=identicon&r=PG&f=1", "display_name": "invrt", "link": "https://stackoverflow.com/users/8525056/invrt"}, "edited": false, "score": 0, "creation_date": 1576106358, "post_id": 59295301, "comment_id": 104795446, "body": "@kinduser Ah, I can see where I went wrong, thanks for that! Though there&#39;s one more thing, it says &quot;handle click&quot; has already been declared on line &quot; const handleClick = (questionChoice) =&gt; handleClick(questionChoice);&quot; Sorry for being annoying"}, {"owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "reply_to_user": {"reputation": 597, "user_id": 8525056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5895d0e70d946fbe5ab7c9aaf6b8aee3?s=128&d=identicon&r=PG&f=1", "display_name": "invrt", "link": "https://stackoverflow.com/users/8525056/invrt"}, "edited": false, "score": 0, "creation_date": 1576106565, "post_id": 59295301, "comment_id": 104795502, "body": "@invrt Oh, my bad. Used the same name twice. Fixed"}, {"owner": {"reputation": 597, "user_id": 8525056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5895d0e70d946fbe5ab7c9aaf6b8aee3?s=128&d=identicon&r=PG&f=1", "display_name": "invrt", "link": "https://stackoverflow.com/users/8525056/invrt"}, "edited": false, "score": 0, "creation_date": 1576108517, "post_id": 59295301, "comment_id": 104796008, "body": "@kinduser Updated post with sandbox: Ok, so i tried to make a sandbox for easier debugging, but they seem to be having issues with the new version of react. Anyway...I&#39;m getting &quot;TypeError: Cannot read property &#39;handleSelected&#39; of undefined&quot; on my parent :\\"}, {"owner": {"reputation": 597, "user_id": 8525056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5895d0e70d946fbe5ab7c9aaf6b8aee3?s=128&d=identicon&r=PG&f=1", "display_name": "invrt", "link": "https://stackoverflow.com/users/8525056/invrt"}, "edited": false, "score": 0, "creation_date": 1576110112, "post_id": 59295301, "comment_id": 104796362, "body": "@kinduser, Not really, there&#39;s some bug that doesn&#39;t necessarily have anything to do with my code, but I put it up there anyway. Was trying to make things easier for you. Right now the error is :&quot;TypeError: Cannot read property &#39;handleSelected&#39; of undefined&quot; on parent component"}, {"owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "reply_to_user": {"reputation": 597, "user_id": 8525056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5895d0e70d946fbe5ab7c9aaf6b8aee3?s=128&d=identicon&r=PG&f=1", "display_name": "invrt", "link": "https://stackoverflow.com/users/8525056/invrt"}, "edited": false, "score": 0, "creation_date": 1576110766, "post_id": 59295301, "comment_id": 104796497, "body": "@invrt You dont have to bind it, because <code>handleSelected</code> is an arrow function. Also you could just try <code>handleSelected() { ... }</code> and keep the binding"}, {"owner": {"reputation": 597, "user_id": 8525056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5895d0e70d946fbe5ab7c9aaf6b8aee3?s=128&d=identicon&r=PG&f=1", "display_name": "invrt", "link": "https://stackoverflow.com/users/8525056/invrt"}, "edited": false, "score": 0, "creation_date": 1576112151, "post_id": 59295301, "comment_id": 104796733, "body": "TypeError: handleClick is not a function on line   const handleClickFn = questionChoice =&gt; handleClick(questionChoice)"}, {"owner": {"reputation": 597, "user_id": 8525056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5895d0e70d946fbe5ab7c9aaf6b8aee3?s=128&d=identicon&r=PG&f=1", "display_name": "invrt", "link": "https://stackoverflow.com/users/8525056/invrt"}, "edited": false, "score": 0, "creation_date": 1576113154, "post_id": 59295301, "comment_id": 104796938, "body": "@kinduser Looks like I had a typo in my code, but now I am getting, TypeError: Cannot read property &#39;map&#39; of undefined in the functional Component"}], "tags": [], "owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "is_accepted": true, "score": 3, "last_activity_date": 1576106552, "last_edit_date": 1576106552, "creation_date": 1576104458, "answer_id": 59295301, "question_id": 59295253, "link": "https://stackoverflow.com/questions/59295253/functional-component-to-receive-array-from-parent-component-and-map-through-it/59295301#59295301", "title": "functional component to receive array from parent component and map through it", "body": "<p>Of course it's possible - just move the <code>map</code> logic into your child component.</p>\n\n<pre><code>const MultiChoiceQuestions = ({ handleClick, multiChoiceArray }) =&gt; {\n  const handleClickFn = (questionChoice) =&gt; handleClick(questionChoice);\n\n  return (\n    &lt;div&gt;\n       {multiChoiceArray.map(questionChoice =&gt; (\n         &lt;MultiChoiceQuestion\n           key={questionChoice.id}\n           handleClick={handleClickFn(questionChoice)}\n           onClick={this.handleSelected}\n           choice={questionChoice.text}\n         /&gt;\n       ))}\n    &lt;/div&gt;\n);\n</code></pre>\n\n<p>And inside your parent:</p>\n\n<pre><code>&lt;MultiChoiceQuestions \n    handleClick={this.handleSelected} \n    multiChoiceArray={this.state.multiChoiceArray} /&gt;\n</code></pre>\n"}], "owner": {"reputation": 597, "user_id": 8525056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5895d0e70d946fbe5ab7c9aaf6b8aee3?s=128&d=identicon&r=PG&f=1", "display_name": "invrt", "link": "https://stackoverflow.com/users/8525056/invrt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "accepted_answer_id": 59295301, "answer_count": 1, "score": 0, "last_activity_date": 1576113952, "creation_date": 1576104211, "last_edit_date": 1576113952, "question_id": 59295253, "link": "https://stackoverflow.com/questions/59295253/functional-component-to-receive-array-from-parent-component-and-map-through-it", "title": "functional component to receive array from parent component and map through it", "body": "<p><strong>UPDATE:</strong> Using the code from u/kinduser this is where I'm at</p>\n\n<pre><code>import React, { Component } from 'react'\nimport MultiChoiceQuestions from '../questions/MultiChoice'\nimport Question from '../questions/Question'\n\nclass CNA extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      newChoiceArray: [\n        { id: 1, text: '1', questionId: 'favourite number?', value: '1' },\n        { id: 2, text: '2', questionId: 'favourite number?', value: '2' },\n        { id: 3, text: '3', questionId: 'favourite number?', value: '3' },\n        { id: 4, text: 'This is a new question', questionId: 'favourite number?', value: '4' },\n      ],\n      ChoiceArray: [\n        { id: 1, text: '1', questionId: 'favourite number?', value: '1' },\n        { id: 4, text: 'This is a new question', questionId: 'favourite number?', value: '4' },\n      ],\n    }\n  }\n\n  handleSelected = selected =&gt; {\n    console.log('Button Selected', selected)\n  }\n\n  render() {\n    const { newChoiceArray, ChoiceArray } = this.state\n    return (\n      &lt;div&gt;\n        &lt;p&gt;This is the cna survey&lt;/p&gt;\n        &lt;Question questionText=\"Hello\" /&gt;\n        &lt;MultiChoiceQuestions handleClick={this.handleSelected} multiChoiceArray={newChoiceArray} /&gt;\n        &lt;MultiChoiceQuestions handleClick={this.handleSelected} multiChoiceArray={ChoiceArray} /&gt;\n      &lt;/div&gt;\n    )\n  }\n}\n\nexport default CNA\n</code></pre>\n\n<p>Child Component</p>\n\n<pre><code>const MultiChoiceQuestions = ({ handleClick, multiChoiceArray }) =&gt; {\n  const handleClickFn = questionChoice =&gt; handleClick(questionChoice)\n  {\n    console.log('test', multiChoiceArray)\n  }\n  return (\n    &lt;div&gt;\n      {multiChoiceArray.map(questionChoice =&gt; (\n        &lt;MultiChoiceQuestions\n          key={questionChoice.id}\n          onClick={handleClickFn(questionChoice)}\n          choice={questionChoice.text}\n        /&gt;\n      ))}\n    &lt;/div&gt;\n  )\n}\n\nConsole output: `test (4)\u00a0[{\u2026}, {\u2026}, {\u2026}, {\u2026}]0: {id: 1, text: \"1\", questionId: \"favourite number?\", value: \"1\"}1: {id: 2, text: \"2\", questionId: \"favourite number?\", value: \"2\"}2: {id: 3, text: \"3\", questionId: \"favourite number?\", value: \"3\"}3: {id: 4, text: \"This is a new question\", questionId: \"favourite number?\", value: \"4\"}length: 4__proto__: Array(0)\nCNA.js:23 Button Selected {id: 1, text: \"1\", questionId: \"favourite number?\", value: \"1\"}\nCNA.js:23 Button Selected {id: 2, text: \"2\", questionId: \"favourite number?\", value: \"2\"}\nCNA.js:23 Button Selected {id: 3, text: \"3\", questionId: \"favourite number?\", value: \"3\"}\nCNA.js:23 Button Selected {id: 4, text: \"This is a new question\", questionId: \"favourite number?\", value: \"4\"}\nMultiChoice.js:23 test undefined\nMultiChoice.js:23 test undefined`\n</code></pre>\n\n<p>So it looks like the array's from parent component is defined, for some reason selecting the buttons and then the array becomes undefined</p>\n\n<p>Is this possible? My parent component has an array of objects, my child component renders buttons based on the number of objects inside of that array. </p>\n\n<p>So basically I don't want my parent component to map and render the buttons, I want to pass my array as props, and then the child component will render the buttons (n=objects in array)</p>\n\n<p><a href=\"https://codesandbox.io/s/create-react-app-hqh62\" rel=\"nofollow noreferrer\">Sandbox Link</a></p>\n\n<p>pseudo  child component would look something like this</p>\n\n<pre><code> &lt;MultiChoiceQuestion\n            key={questionChoice.id}\n            handleClick={() =&gt; this.handleSelected(questionChoice)}\n            onClick={this.handleSelected}\n            questions={multiChoiceArray} // will receive array as props\n            choice={questionChoice.text}\n  /&gt;\n</code></pre>\n\n<p>This is how everything is structured at the momemnt</p>\n\n<pre><code>const MultiChoiceQuestion = props =&gt; {\n  const { handleClick, choice } = props\n  return (\n    &lt;div&gt;\n     // I want my array.map to live somwhere in this component\n      &lt;button onClick={handleClick} type=\"button\"&gt;\n        {choice}\n      &lt;/button&gt;\n    &lt;/div&gt;\n  )\n</code></pre>\n\n<p>Parent component</p>\n\n<pre><code>import React, { Component } from 'react'\nimport MultiChoiceQuestion from '../questions/MultiChoice'\nimport Question from '../questions/Question'\n\nclass CNA extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      multiChoiceArray: [\n        { id: 1, text: '1', questionId: 'favourite number?', value: '1' },\n        { id: 2, text: '2', questionId: 'favourite number?', value: '2' },\n        { id: 3, text: '3', questionId: 'favourite number?', value: '3' },\n        { id: 4, text: 'This is a new question', questionId: 'favourite number?', value: '4' },\n      ],\n    }\n    this.handleSelected = this.handleSelected.bind(this)\n  }\n\n  handleSelected = selected =&gt; {\n    console.log('Button Selected', selected)\n  }\n\n  render() {\n    const { multiChoiceArray } = this.state\n    return (\n      &lt;div&gt;\n        &lt;p&gt;This is the cna survey&lt;/p&gt;\n        &lt;Question questionText=\"Hello\" /&gt;\n        {multiChoiceArray.map(questionChoice =&gt; ( // Don't want this map function here\n          &lt;MultiChoiceQuestion\n            key={questionChoice.id}\n            handleClick={() =&gt; this.handleSelected(questionChoice)}\n            onClick={this.handleSelected}\n            choice={questionChoice.text}\n          /&gt;\n        ))}\n      &lt;/div&gt;\n    )\n  }\n}\n\nexport default CNA\n</code></pre>\n"}, {"tags": ["javascript", "regex"], "comments": [{"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1576104179, "post_id": 59295210, "comment_id": 104794811, "body": "So is it that as soon as there\u2019s one <code>#</code>, everything after it is considered part of some hashtag?"}, {"owner": {"reputation": 4949, "user_id": 4939530, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/i5lXg.jpg?s=128&g=1", "display_name": "cup_of", "link": "https://stackoverflow.com/users/4939530/cup-of"}, "reply_to_user": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1576104228, "post_id": 59295210, "comment_id": 104794820, "body": "yep thats correct, until it reaches the next <code>#</code> @Ry-"}], "answers": [{"comments": [{"owner": {"reputation": 117184, "user_id": 9473764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aGMXl.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/9473764/nick"}, "reply_to_user": {"reputation": 4949, "user_id": 4939530, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/i5lXg.jpg?s=128&g=1", "display_name": "cup_of", "link": "https://stackoverflow.com/users/4939530/cup-of"}, "edited": false, "score": 1, "creation_date": 1576104851, "post_id": 59295326, "comment_id": 104795012, "body": "@cup_of no worries - I&#39;m glad I could help."}], "tags": [], "owner": {"reputation": 117184, "user_id": 9473764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aGMXl.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/9473764/nick"}, "is_accepted": true, "score": 4, "last_activity_date": 1576104823, "last_edit_date": 1576104823, "creation_date": 1576104610, "answer_id": 59295326, "question_id": 59295210, "link": "https://stackoverflow.com/questions/59295210/search-a-string-for-hashtags-with-spaces-and-wrap-with-spans/59295326#59295326", "title": "Search a string for hashtags (with spaces) and wrap with spans", "body": "<p>You could use this regex:</p>\n\n<pre><code>(^|\\W)(#.*?(?= #|$))\n</code></pre>\n\n<p>Once it finds a hash (<code>#</code>) it saves all characters until it encounters either a space followed by a hash, or the end-of-string.</p>\n\n<p><a href=\"https://regex101.com/r/OvhcDZ/1/\" rel=\"nofollow noreferrer\">Demo on regex101</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var str = 'text text text text #tag1 #tag2 tag2secondWord #tag3 / withSlash #tag4 #tag5';\r\nconsole.log(str.replace(/(^|\\W)(#.*?(?= #|$))/ig, '$1&lt;span&gt;$2&lt;/span&gt;'));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 4949, "user_id": 4939530, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/i5lXg.jpg?s=128&g=1", "display_name": "cup_of", "link": "https://stackoverflow.com/users/4939530/cup-of"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 59295326, "answer_count": 1, "score": 2, "last_activity_date": 1578138415, "creation_date": 1576103967, "last_edit_date": 1578138415, "question_id": 59295210, "link": "https://stackoverflow.com/questions/59295210/search-a-string-for-hashtags-with-spaces-and-wrap-with-spans", "title": "Search a string for hashtags (with spaces) and wrap with spans", "body": "<p>I'd like to search a string and wrap hashtags with spans.</p>\n\n<p>I found a great answer <a href=\"https://stackoverflow.com/questions/17864482/javascript-regex-searching-for-hashtags\">here</a>.</p>\n\n<p><code>var repl = some_string.replace(/(^|\\W)(#[a-z\\d][\\w-]*)/ig, '$1&lt;span&gt;$2&lt;/span&gt;');</code></p>\n\n<p>But I'd like to update it to fit my needs. I have some tags that have spaces in them that wont work with the regex there. I know that it's not technically a hashtag if they have spaces but that's the data I have to work with.</p>\n\n<p>For example:</p>\n\n<p><code>text text text text #tag1 #tag2 tag2secondWord #tag3 / withSlash #tag4 #tag5</code></p>\n\n<p>will give:</p>\n\n<p><code>text text text text &lt;span&gt;#tag1&lt;/span&gt; &lt;span&gt;#tag2&lt;/span&gt; tag2secondWord &lt;span&gt;#tag3&lt;/span&gt; / withSlash &lt;span&gt;#tag4&lt;/span&gt; &lt;span&gt;#tag5&lt;/span&gt;</code></p>\n\n<p>and I would want:</p>\n\n<p><code>text text text text &lt;span&gt;#tag1&lt;/span&gt; &lt;span&gt;#tag2 tag2secondWord&lt;/span&gt; &lt;span&gt;#tag3 / withSlash&lt;/span&gt; &lt;span&gt;#tag4&lt;/span&gt; &lt;span&gt;#tag5&lt;/span&gt;</code></p>\n\n<p>I've tried to come up with the answer on my own but I'm not very comfortable with regex.</p>\n"}, {"tags": ["javascript", "typescript", "unit-testing", "jasmine", "karma-jasmine"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1576103237, "post_id": 59295056, "comment_id": 104794521, "body": "Why <i>are</i> you using <code>Promise.all</code>? There&#39;s only ever a single promise in the array. Also it&#39;s not clear which part of this is actually supposed to be under test, you&#39;ve so much mocking going on."}, {"owner": {"reputation": 4677, "user_id": 6014098, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0b83dda8ad91c36572edab34a46d475f?s=128&d=identicon&r=PG&f=1", "display_name": "hussain", "link": "https://stackoverflow.com/users/6014098/hussain"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1576103633, "post_id": 59295056, "comment_id": 104794641, "body": "there is another call in promise.all that i removed it to reduced code for understanding"}, {"owner": {"reputation": 4677, "user_id": 6014098, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0b83dda8ad91c36572edab34a46d475f?s=128&d=identicon&r=PG&f=1", "display_name": "hussain", "link": "https://stackoverflow.com/users/6014098/hussain"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1576103739, "post_id": 59295056, "comment_id": 104794666, "body": "@jonrsharpe core functions should return http mock response so basically trying to test <code>processResponse</code> that is part of <code>makeRequest</code>"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1576104073, "post_id": 59295056, "comment_id": 104794776, "body": "Your test so far doesn&#39;t make a lot of sense. You seem to be reimplementing the method under test and testing your new version. Think about this in three parts: 1. does <code>makeRequest</code> get called with the right configuration (you can easily create and inject a test double as the argument to <code>core</code>, you don&#39;t need to spy on <i>anything</i>); 2. does the <code>processResponse</code> function in those arguments do the right thing if you call it with a stubbed response; and 3. does <code>core</code> return the resulting promise?"}, {"owner": {"reputation": 4677, "user_id": 6014098, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0b83dda8ad91c36572edab34a46d475f?s=128&d=identicon&r=PG&f=1", "display_name": "hussain", "link": "https://stackoverflow.com/users/6014098/hussain"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1576104279, "post_id": 59295056, "comment_id": 104794837, "body": "@jonrsharpe wasted my whole day today for how to put that test together so that i get this test working , New to jasmine can you help me with example with my unit test. stubbedResponse that is <code>response</code> in the test is same what <code>processResponse</code> expect"}, {"owner": {"reputation": 4677, "user_id": 6014098, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0b83dda8ad91c36572edab34a46d475f?s=128&d=identicon&r=PG&f=1", "display_name": "hussain", "link": "https://stackoverflow.com/users/6014098/hussain"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1576104427, "post_id": 59295056, "comment_id": 104794880, "body": "just want to invoke core function that execute <code>processResponse</code> and return the stubbed data"}], "owner": {"reputation": 4677, "user_id": 6014098, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0b83dda8ad91c36572edab34a46d475f?s=128&d=identicon&r=PG&f=1", "display_name": "hussain", "link": "https://stackoverflow.com/users/6014098/hussain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 151, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576103891, "creation_date": 1576103164, "last_edit_date": 1576103891, "question_id": 59295056, "link": "https://stackoverflow.com/questions/59295056/how-to-unit-test-promise-all-using-jasmine", "title": "How to unit test promise.all using jasmine?", "body": "<p>I have a method <code>core</code> that make http call to get response i tried to mock <code>HttpRequest</code> responses so i can write unit test , In below code all the test cases are passed however its not reaching to actual code and fake the response so my coverage can be improved. \nAny idea what has implemented wrong ?</p>\n\n<p>main.ts</p>\n\n<pre><code>export class OrderStatusApi &lt;OrderStatusParam, OrderStatusResult&gt; {\n    function core(requestMethod) {\n      let request = [requestMethod.http.makeRequest({\n                url: {\n                    name: \"orderStatusApi\",\n                },\n                body: {\"request\": {\n                        \"header\": {\n                            \"CustomParams\": {}\n                        },\n                        \"memberInfo\": {}\n                    }},\n                processResponse: async (_response: any): Promise&lt;Interface.Core.ProcessResponse&gt; =&gt; {\n                    if (_response.response.header.statusList &amp;&amp; Array.isArray(_response.response.header.statusList.status)) {\n                        const emptyResponse = _response.response.header.statusList.status.filter((item: any) =&gt; {\n                            return item.source === \"LINKS\" &amp;&amp; item.statusDesc === \"Orders Not Found\";\n                        });\n                        if (emptyResponse.length &gt; 0) {\n                            throw {\n                                statusCode: \"0000\",\n                                statusDesc: emptyResponse[0].statusDesc,\n                                refId: args.refId\n                            };\n                        } else {\n                            return _response.response;\n                        }\n                    } else if (_response.response.header.statusCode === \"0000\") {\n                        return _response.response;\n                    } else {\n                        throw _response.response.header;\n                    }\n                }\n\n            })];\n            return Promise.all(request);\n        }\n    }\n}\n</code></pre>\n\n<p>main.spec.ts</p>\n\n<pre><code> import {\u00a0HttpRequest} from \"./common-utils\";\n    import\u00a0{OrderStatusApi}\u00a0from\u00a0\"./main\"\n    it(\"it should get success response and call processResponse promise\",\u00a0async (done) =&gt;\u00a0{\n            const response = {\n                \"response\": {\n                    \"header\": {\n                        \"statusList\": {\n                            \"status\": [{source: \"LINKS\", statusDesc: \"Orders Not Found\"}]\n                        }\n                    }\n                }\n            };\n            const HttpResponse = spyOn&lt;any&gt;(HttpRequest.http, \"makeRequest\").and.returnValue(Promise.resolve(response));\n            const\u00a0myPrivateSpy\u00a0=\u00a0spyOn&lt;any&gt;(Service,\u00a0'core').and.callThrough();\n            let _Response:any;\n    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0myPrivateSpy.call(Service, HttpResponse)\n             .then(function(result: any){\n             const request = [HttpResponse.makeRequest({\n                 url: {name: \"123\", params: {}}, \n                 \"body\": {}, \n                 processResponse: jasmine.createSpy().and.returnValue(Promise.resolve(response))})\n                ]\n             _Response = Promise.all(request);\n             console.log(result);\n            //  _Response = result\n            expect(HttpResponse).toHaveBeenCalled(); \n            expect(_Response[0].response.header.statusList.status).toEqual([{source: \"LINKS\", statusDesc: \"Orders Not Found\"}]);   \n            expect(Service.core).toHaveBeenCalled();    \n            });   \n             done();        \n       \u00a0});\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 44007, "user_id": 941240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SCC3P.jpg?s=128&g=1", "display_name": "Wiktor Zychla", "link": "https://stackoverflow.com/users/941240/wiktor-zychla"}, "edited": false, "score": 0, "creation_date": 1576103388, "post_id": 59295051, "comment_id": 104794563, "body": "<a href=\"https://codepen.io/philsco/pen/BNwgRm\" rel=\"nofollow noreferrer\">codepen.io/philsco/pen/BNwgRm</a> This should put you on the rights track."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1576103607, "post_id": 59295051, "comment_id": 104794628, "body": "Quite simple: declare it <i>outside</i> the function. Everything else (from IIFE over static property of the function object to global undeclared variable) really is just a workaround."}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1576103616, "post_id": 59295051, "comment_id": 104794633, "body": "Like a generator?"}, {"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1576103646, "post_id": 59295051, "comment_id": 104794644, "body": "In your case you don&#39;t need to keep track of it outside of the function<code>a = count(0); b = count(a); c = count(b)</code> Just pass in a parameter."}], "answers": [{"tags": [], "owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "is_accepted": false, "score": 0, "last_activity_date": 1576103355, "creation_date": 1576103355, "answer_id": 59295090, "question_id": 59295051, "link": "https://stackoverflow.com/questions/59295051/declare-a-variable-inside-a-javascript-function-that-keeps-its-value-on-multiple/59295090#59295090", "title": "Declare a variable inside a JavaScript function that keeps its value on multiple calls to that function", "body": "<blockquote>\n  <p>Declare a variable inside a JavaScript function that keeps its value on multiple calls to that function</p>\n</blockquote>\n\n<p>You can\u2019t. But you can declare a variable <em>outside</em> a function.</p>\n\n<pre><code>let count = 0;\n\nfunction counter() {\n  count++;\n  if (count == 3) {\n    count = 5;\n  }\n  return count;\n}\n\nlet a = counter(); // a = 1\nlet b = counter(); // b = 2\nlet c = counter(); // c = 5\nlet d = counter(); // d = 6\nlet e = counter(); // e = 7\n</code></pre>\n\n<p>Even if that variable is inside another function.</p>\n\n<pre><code>function makeCounter() {\n  let count = 0;\n\n  function counter() {\n    count++;\n    if (count == 3) {\n      count = 5;\n    }\n    return count;\n  }\n\n  return counter;\n}\n\nlet count = makeCounter();\nlet count2 = makeCounter();\nlet a = count(); // a = 1\nlet b = count(); // b = 2\nlet c = count(); // c = 5\nlet d = count(); // d = 6\nlet e = count(); // e = 7\n\nlet f = count2(); // f = 1\nlet g = count2(); // g = 2\n</code></pre>\n"}], "owner": {"reputation": 482, "user_id": 10541642, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bE2wN1w7IY8/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAjYMHqt5abgxLfZHlWgWgBhaxAfg/mo/photo.jpg?sz=128", "display_name": "Viewsonic", "link": "https://stackoverflow.com/users/10541642/viewsonic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "closed_date": 1576103635, "answer_count": 1, "score": 0, "last_activity_date": 1576103521, "creation_date": 1576103133, "last_edit_date": 1576103521, "question_id": 59295051, "link": "https://stackoverflow.com/questions/59295051/declare-a-variable-inside-a-javascript-function-that-keeps-its-value-on-multiple", "closed_reason": "Duplicate", "title": "Declare a variable inside a JavaScript function that keeps its value on multiple calls to that function", "body": "<p>How can I declare a variable inside a JavaScript function, so the following behavior happens?</p>\n\n<p>The initialization should happen once.</p>\n\n<pre><code>function count() {\n  let_special count = 0;\n  count++;\n  if (count == 3) {\n    count = 5;\n  }\n  return count;\n}\n\nlet a = count(); // a = 1\nlet b = count(); // a = 2\nlet c = count(); // a = 5\nlet d = count(); // a = 6\nlet e = count(); // a = 7\n</code></pre>\n\n<p>If I remember correctly, there was a way to do that but right now I can't find it on Google.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "reactjs", "ecmascript-6"], "comments": [{"owner": {"reputation": 644, "user_id": 1743735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FDRjS.png?s=128&g=1", "display_name": "apoteet", "link": "https://stackoverflow.com/users/1743735/apoteet"}, "edited": false, "score": 3, "creation_date": 1576103380, "post_id": 59295046, "comment_id": 104794557, "body": "array.map returns a new array, so you need to say testvar = testvar.map..."}, {"owner": {"reputation": 14030, "user_id": 8475054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbf41c4b5aecb1a949936e06368a7c2?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Zigmond", "link": "https://stackoverflow.com/users/8475054/robin-zigmond"}, "edited": false, "score": 3, "creation_date": 1576103381, "post_id": 59295046, "comment_id": 104794558, "body": "The <code>map</code> method doesn&#39;t update the array in place, it returns a new array. Assign it to a new variable and log that instead. (Also, don&#39;t use <code>map</code> for side effects like <code>console.log</code> - <code>forEach</code> is the method for that.)"}, {"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 1, "creation_date": 1576103387, "post_id": 59295046, "comment_id": 104794562, "body": "Your <code>testvar.map</code> isn&#39;t assigned to anything, it doesn&#39;t return anything."}, {"owner": {"reputation": 8797, "user_id": 12270289, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f90bXHFopV0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfStPF8S5OWF3hBzDu-oJeTx3xOfQ/photo.jpg?sz=128", "display_name": "Klaycon", "link": "https://stackoverflow.com/users/12270289/klaycon"}, "edited": false, "score": 3, "creation_date": 1576103457, "post_id": 59295046, "comment_id": 104794587, "body": "<code>console</code> isn&#39;t asynchronous and nothing here has anything to do with asynchronicity"}], "answers": [{"tags": [], "owner": {"reputation": 564, "user_id": 3247350, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/92d829f9d75d5e8efe12343589156583?s=128&d=identicon&r=PG&f=1", "display_name": "askeet", "link": "https://stackoverflow.com/users/3247350/askeet"}, "is_accepted": true, "score": 0, "last_activity_date": 1576105403, "creation_date": 1576105403, "answer_id": 59295444, "question_id": 59295046, "link": "https://stackoverflow.com/questions/59295046/javascript-string-array-not-updating/59295444#59295444", "title": "Javascript : String Array not updating", "body": "<p>You treat to the strings as there are mutable, but actuality there not. In this case you need to update array by index  </p>\n\n<pre><code>let testvar = [\"Test\", \"Test2\"];\ntestvar.forEach((test,i) =&gt; {\ntestvar[i] = test + \"Edited\";\nconsole.log(test);//updates here\n});\nconsole.log(testvar);\n</code></pre>\n\n<p>or created a new one </p>\n\n<pre><code>testvar = testvar.map(test =&gt; {\n  test = test + \"Edited\";\n  console.log(test);//updates here\n  return test;\n });\n</code></pre>\n"}], "owner": {"reputation": 167, "user_id": 10988540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e693b3b34451471e050a9984293d677d?s=128&d=identicon&r=PG&f=1", "display_name": "Dy4", "link": "https://stackoverflow.com/users/10988540/dy4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 59295444, "answer_count": 1, "score": -1, "last_activity_date": 1576111216, "creation_date": 1576103098, "last_edit_date": 1576111216, "question_id": 59295046, "link": "https://stackoverflow.com/questions/59295046/javascript-string-array-not-updating", "title": "Javascript : String Array not updating", "body": "<p>I am trying to pass updated testvar to ComponentX</p>\n\n<pre><code>let testvar = [\"Test\", \"Test2\"];\ntestvar.map(test =&gt; {\ntest = test + \"Edited\";\nconsole.log(test);//updates here\nreturn test;\n });\nconsole.log(testvar);//doesn't retrieve updated value\n&lt;ComponentX values={testvar}&gt;\n</code></pre>\n\n<p>I am aware that console isn't asynchronous  but I am also passing this updated value to a component,\nbut original gets passed.\nI tried to wrap this update as async function, like below,</p>\n\n<pre><code>let testvar = [\"Test\", \"Test2\"];\nconst updateFunc = async()=&gt;{\nawait testvar.map(test =&gt; {\ntest = test + \"Edited\";\nconsole.log(test);//updates here\nreturn test;\n});\n} \nconst updatedvalues = updateFunc();   \n&lt;ComponentX values={updatedvalues}&gt;\n</code></pre>\n\n<p>I receive errors as promise String[] isnt acceptable on ComponentX.\nAny Leads would be helpful.Thanks!</p>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "edited": false, "score": 0, "creation_date": 1576103135, "post_id": 59295029, "comment_id": 104794489, "body": "How are you navigating pages?"}, {"owner": {"reputation": 402, "user_id": 10426572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/506808637a481bf20c28fe402d75fc68?s=128&d=identicon&r=PG&f=1", "display_name": "Marty1452", "link": "https://stackoverflow.com/users/10426572/marty1452"}, "edited": false, "score": 0, "creation_date": 1576103389, "post_id": 59295029, "comment_id": 104794564, "body": "You need to use PHP or try that with cookies in JS"}, {"owner": {"reputation": 1290, "user_id": 1861016, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7TnVE.jpg?s=128&g=1", "display_name": "ssBarBee", "link": "https://stackoverflow.com/users/1861016/ssbarbee"}, "edited": false, "score": 0, "creation_date": 1576103811, "post_id": 59295029, "comment_id": 104794698, "body": "Ale do you have the new routes that the user ends up on?"}, {"owner": {"reputation": 67, "user_id": 12298341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ca89a61adfc89e8d6023aa3c0c5a82?s=128&d=identicon&r=PG&f=1", "display_name": "Ale", "link": "https://stackoverflow.com/users/12298341/ale"}, "edited": false, "score": 0, "creation_date": 1576106058, "post_id": 59295029, "comment_id": 104795372, "body": "It is a mini project and literally the pages are: /index.html,   /contact.html   ,/about.html"}, {"owner": {"reputation": 643, "user_id": 2453210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f3d0cb575a1dcf268981004199110a1?s=128&d=identicon&r=PG", "display_name": "nocturns2", "link": "https://stackoverflow.com/users/2453210/nocturns2"}, "edited": false, "score": 0, "creation_date": 1576117325, "post_id": 59295029, "comment_id": 104797761, "body": "I think that if you add an id to the links then you can create a function to handle it as in (&lt;a href=&quot;the web page&quot; onclick=&quot;jsfunction(this.id)\u2026) that should allow you to pass the link id to the function. Once at the function, you can put in your logic."}, {"owner": {"reputation": 643, "user_id": 2453210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f3d0cb575a1dcf268981004199110a1?s=128&d=identicon&r=PG", "display_name": "nocturns2", "link": "https://stackoverflow.com/users/2453210/nocturns2"}, "edited": false, "score": 0, "creation_date": 1576117604, "post_id": 59295029, "comment_id": 104797803, "body": "Oops! I forgot... a href=&quot;&quot; id=&quot;myid&quot; \u2026/a&gt;"}], "answers": [{"tags": [], "owner": {"reputation": 117, "user_id": 5637220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1Y7Rt.jpg?s=128&g=1", "display_name": "mlunt", "link": "https://stackoverflow.com/users/5637220/mlunt"}, "is_accepted": false, "score": 0, "last_activity_date": 1576112411, "creation_date": 1576112411, "answer_id": 59296254, "question_id": 59295029, "link": "https://stackoverflow.com/questions/59295029/how-to-apply-the-active-class-in-the-links-of-a-navigation-bar-using-vanilla-j/59296254#59296254", "title": "How to apply the &quot;active&quot; class in the links of a navigation bar using vanilla js?", "body": "<p>I\u2019d put a data attribute on the h1 for each page that signifies which menu option corresponds to the current page. Then, on page load, get the h1 dataset and add the active class to the right menu item. The only downside to this is that the menu item will flicker from not active to active. Unless you store the clicked menu item on the backend and add the class during the dim render though, I don\u2019t see a great way to avoid the flicker. </p>\n"}], "owner": {"reputation": 67, "user_id": 12298341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ca89a61adfc89e8d6023aa3c0c5a82?s=128&d=identicon&r=PG&f=1", "display_name": "Ale", "link": "https://stackoverflow.com/users/12298341/ale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 198, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576112411, "creation_date": 1576103027, "question_id": 59295029, "link": "https://stackoverflow.com/questions/59295029/how-to-apply-the-active-class-in-the-links-of-a-navigation-bar-using-vanilla-j", "title": "How to apply the &quot;active&quot; class in the links of a navigation bar using vanilla js?", "body": "<p>I am working with bootstrap and vanilla js. What I want to do is that when you click on one of the links you will be assigned the \"active\" class.</p>\n\n<p>So far I have the following code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var links = document.querySelectorAll(\".links-menu\");\r\nfor (var i = 0; i &lt; links.length; i++) {\r\n  var link = links[i];\r\n  link.onclick = function() {\r\n    var prev = document.getElementsByClassName(\"active\");\r\n    if (prev &amp;&amp; prev[0]) {\r\n      prev[0].classList.remove(\"active\");\r\n    }\r\n    this.classList.add(\"active\");\r\n  };\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.navbar {\r\n  position: fixed;\r\n  width: 100%;\r\n  z-index: 100;\r\n  ul li a {\r\n    color: #4d4d4d;\r\n    font-size: 1.1rem;\r\n  }\r\n  ul li a:hover {\r\n    color: #611ac5;\r\n    border-bottom: 2px solid #611ac5;\r\n    border-bottom-left-radius: 2px;\r\n    border-bottom-right-radius: 2px;\r\n  }\r\n}\r\n\r\n.active {\r\n  color: #611ac5 !important;\r\n  border-bottom: 2px solid #611ac5;\r\n  border-bottom-left-radius: 2px;\r\n  border-bottom-right-radius: 2px;\r\n  font-weight: 700;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css\" integrity=\"sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh\" crossorigin=\"anonymous\"&gt;\r\n\r\n&lt;nav class=\"navbar navbar-expand-lg py-2\"&gt;\r\n  &lt;div class=\"container-fluid px-2\"&gt;\r\n    &lt;ul class=\"navbar-nav ml-auto mr-0 text-center\"&gt;\r\n      &lt;li class=\"nav-item px-3\"&gt;&lt;a href=\"#\" class=\"nav-link pb-1 px-0 links-menu\"&gt;home&lt;/a&gt;&lt;/li&gt;\r\n      &lt;li class=\"nav-item px-3\"&gt;&lt;a href=\"#\" class=\" links-menu nav-link pb-1 px-0\"&gt;contact&lt;/a&gt;&lt;/li&gt;\r\n      &lt;li class=\"nav-item px-3\"&gt;&lt;a href=\"#\" class=\" links-menu nav-link pb-1 px-0\"&gt;about&lt;/a&gt;&lt;/li&gt;\r\n    &lt;/ul&gt;\r\n  &lt;/div&gt;\r\n&lt;/nav&gt;\r\n&lt;header class=\"Banner-inicio container-fluid\"&gt;\r\n  &lt;div class=\"row align-items-center h-100\"&gt;\r\n    &lt;div class=\"Detalles-b mx-auto text-center my-5 py-5\"&gt;\r\n      &lt;h1 class=\"text-center mt-md-5 mb-2\"&gt;Lorem ipsum dolor sit&lt;/h1&gt;\r\n      &lt;p class=\"text-center mb-md-5 mx-3\"&gt;doloremque quaerat maxime sed, quis, quod accusamus quibusdam. Quos quas repudiandae fugiat.&lt;/p&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/header&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>but when clicked and redirected to the other page, it seems that the class was not assigned.</p>\n\n<p>what I want is that when I click on a link and redirect to another page, that link appears with that class \"active\"</p>\n\n<p>I know what can be done with JQuery and it is easier, but I do not want to use this library only by a navigation bar</p>\n"}, {"tags": ["javascript", "java", "ajax", "action", "get-request"], "comments": [{"owner": {"reputation": 1384, "user_id": 4185221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AQVsj.png?s=128&g=1", "display_name": "Sunil Dabburi", "link": "https://stackoverflow.com/users/4185221/sunil-dabburi"}, "edited": false, "score": 1, "creation_date": 1576105391, "post_id": 59294989, "comment_id": 104795175, "body": "Check if the <code>idInput</code> field name matches correctly and it has value. That will answer."}, {"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1576106608, "post_id": 59294989, "comment_id": 104795513, "body": "I have a feeling this will answer your question ~ <a href=\"https://stackoverflow.com/questions/14028959/why-does-jquery-or-a-dom-method-such-as-getelementbyid-not-find-the-element\">Why does jQuery or a DOM method such as getElementById not find the element?</a>"}, {"owner": {"reputation": 1, "user_id": 11907699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a5552e723d2b4283d66b5bb56dea0e2?s=128&d=identicon&r=PG&f=1", "display_name": "Chula", "link": "https://stackoverflow.com/users/11907699/chula"}, "edited": false, "score": 0, "creation_date": 1576513104, "post_id": 59294989, "comment_id": 104914907, "body": "I have had that problem a lot with jQuery as well. Thanks Phil! This problem turned out to be an error for how I was calling every search after the initial with reload."}], "answers": [{"comments": [{"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1576106645, "post_id": 59295431, "comment_id": 104795526, "body": "Good advice in general but I can pretty much guarantee this won&#39;t solve the problem."}, {"owner": {"reputation": 1, "user_id": 11907699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a5552e723d2b4283d66b5bb56dea0e2?s=128&d=identicon&r=PG&f=1", "display_name": "Chula", "link": "https://stackoverflow.com/users/11907699/chula"}, "edited": false, "score": 0, "creation_date": 1576513013, "post_id": 59295431, "comment_id": 104914861, "body": "I did do something like that. I found out what the problem was. The jqGrid was reloading with the original url. So I needed to change the url during the reload. This was just a rookie mistake on my part. Thank you"}], "tags": [], "owner": {"reputation": 1, "user_id": 11125147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cba85af12335fd492d1bdbf3e4534cd?s=128&d=identicon&r=PG&f=1", "display_name": "Halil Bahar", "link": "https://stackoverflow.com/users/11125147/halil-bahar"}, "is_accepted": false, "score": 0, "last_activity_date": 1576105318, "creation_date": 1576105318, "answer_id": 59295431, "question_id": 59294989, "link": "https://stackoverflow.com/questions/59294989/getrequest-getparameterparam1-returning-empty-for-element-value/59295431#59295431", "title": "getRequest.getParameter(&quot;param1&quot;) Returning Empty For Element.value", "body": "<p>You do not encode your url. That might be the problem.</p>\n\n<pre><code>var url = \"${ctx}/Method.action?getTheseRecords&amp;param1=\" + encodeURIComponent(param1);\n</code></pre>\n\n<p>Other than that, everything seems fine to me.</p>\n"}], "owner": {"reputation": 1, "user_id": 11907699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a5552e723d2b4283d66b5bb56dea0e2?s=128&d=identicon&r=PG&f=1", "display_name": "Chula", "link": "https://stackoverflow.com/users/11907699/chula"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576105318, "creation_date": 1576102833, "last_edit_date": 1576104259, "question_id": 59294989, "link": "https://stackoverflow.com/questions/59294989/getrequest-getparameterparam1-returning-empty-for-element-value", "title": "getRequest.getParameter(&quot;param1&quot;) Returning Empty For Element.value", "body": "<p>I am trying to run an ajax call with jqGrid. However, the parameters are not being sent to the getRequest() all of the time.</p>\n\n<p>If I do the javascript:</p>\n\n<pre><code>var param1 = document.getElementById(\"idInput\").value;\nvar url = \"${ctx}/Method.action?getTheseRecords&amp;param1=\"+param1;\n</code></pre>\n\n<p>Then when I call in the Java it comes back blank. However, I if set the var param1, then I get the right data. </p>\n\n<p>So this works:</p>\n\n<pre><code>var param1 = \"M\";\nvar url = \"${ctx}/Method.action?getTheseRecords&amp;param1=\"+param1;\n</code></pre>\n\n<p>So the first way gives an empty String, and the second gives a String == \"M\":</p>\n\n<pre><code>String param1 = getRequest().getParameter(\"param1\");\n</code></pre>\n\n<p>I don't know if somebody knows why this isn't working? Because I have looked at the url before putting it into the Ajax, and it is fine.</p>\n"}, {"tags": ["javascript", "python", "django", "angular", "typescript"], "comments": [{"owner": {"reputation": 498, "user_id": 6693443, "user_type": "registered", "profile_image": "https://graph.facebook.com/1157346497649699/picture?type=large", "display_name": "Geancarlo Murillo", "link": "https://stackoverflow.com/users/6693443/geancarlo-murillo"}, "edited": false, "score": 1, "creation_date": 1576102877, "post_id": 59294970, "comment_id": 104794397, "body": "share the view please"}, {"owner": {"reputation": 1030, "user_id": 9244138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39148e76ae32cbb7711a7ca476a8a608?s=128&d=identicon&r=PG&f=1", "display_name": "Colin Ragnar&#246;k", "link": "https://stackoverflow.com/users/9244138/colin-ragnar%c3%b6k"}, "reply_to_user": {"reputation": 498, "user_id": 6693443, "user_type": "registered", "profile_image": "https://graph.facebook.com/1157346497649699/picture?type=large", "display_name": "Geancarlo Murillo", "link": "https://stackoverflow.com/users/6693443/geancarlo-murillo"}, "edited": false, "score": 0, "creation_date": 1576104465, "post_id": 59294970, "comment_id": 104794898, "body": "@GeancarloMurillo Ive added if you need more, tell me."}, {"owner": {"reputation": 3517, "user_id": 785400, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/6c07d8b5af42f5c4d21b169dcfd1bda0?s=128&d=identicon&r=PG", "display_name": "Brian Dant", "link": "https://stackoverflow.com/users/785400/brian-dant"}, "edited": false, "score": 1, "creation_date": 1576105097, "post_id": 59294970, "comment_id": 104795081, "body": "I gather that you&#39;re using Django Rest Framework? It looks like this error is being raised: <a href=\"https://github.com/encode/django-rest-framework/blob/335054a5d36b352a58286b303b608b6bf48152f8/rest_framework/exceptions.py#L208\" rel=\"nofollow noreferrer\">github.com/encode/django-rest-framework/blob/&hellip;</a>. If so, the solution is probably to use a different parser: <a href=\"https://www.django-rest-framework.org/api-guide/parsers/#multipartparser\" rel=\"nofollow noreferrer\">django-rest-framework.org/api-guide/parsers/#multipartparser</a>&zwnj;&#8203;."}, {"owner": {"reputation": 1030, "user_id": 9244138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39148e76ae32cbb7711a7ca476a8a608?s=128&d=identicon&r=PG&f=1", "display_name": "Colin Ragnar&#246;k", "link": "https://stackoverflow.com/users/9244138/colin-ragnar%c3%b6k"}, "edited": false, "score": 0, "creation_date": 1576105894, "post_id": 59294970, "comment_id": 104795330, "body": "Yes its Django rest framework. Where in my code would I have to put the different parser?"}, {"owner": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "edited": false, "score": 0, "creation_date": 1576114377, "post_id": 59294970, "comment_id": 104797181, "body": "@ColinRagnar&#246;k Did you read the section entitled \u201csetting the parsers\u201d in that link?"}, {"owner": {"reputation": 13, "user_id": 9640094, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Usama Haider", "link": "https://stackoverflow.com/users/9640094/usama-haider"}, "edited": false, "score": 0, "creation_date": 1602017618, "post_id": 59294970, "comment_id": 113590678, "body": "If you you are using django rest and passing through html form than try passing through raw using json it worked for me"}], "owner": {"reputation": 1030, "user_id": 9244138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39148e76ae32cbb7711a7ca476a8a608?s=128&d=identicon&r=PG&f=1", "display_name": "Colin Ragnar&#246;k", "link": "https://stackoverflow.com/users/9244138/colin-ragnar%c3%b6k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1346, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1602017618, "creation_date": 1576102721, "last_edit_date": 1576104424, "question_id": 59294970, "link": "https://stackoverflow.com/questions/59294970/unsupported-media-type-multipart-form-data-boundary-webkitformboundaryabc", "title": "Unsupported media type &quot;multipart/form-data; boundary=----WebKitFormBoundaryABC&quot; when requesting to Django server", "body": "<p>I'm uploading a set of data (file, string, number, bool) to an Django api. The docs says <code>Note: the schema is not json it's multipart</code> so I made use of formData which is multipart. But when I upload this form I get this error </p>\n\n<blockquote>\n  <p>\"Unsupported media type \"multipart/form-data;\n  boundary=----WebKitFormBoundaryABC\" in request\"</p>\n</blockquote>\n\n<p>so I tried to add the content type multipart httpheader but this also resulted in an error: </p>\n\n<blockquote>\n  <p>unsupported mediative \"multipart\" in request</p>\n</blockquote>\n\n<p>I actually don't know where the error lies. Either in the api or in my front end code, so I'll add the essential parts of both down here:</p>\n\n<p>Django:</p>\n\n<p>models.py</p>\n\n<pre><code>class Post(models.Model):\n    user = models.ForeignKey(settings.AUTH_USER_MODEL, related_name='posts', on_delete=models.CASCADE)\n\n    src = models.ImageField(blank=False, null=False, editable=False, upload_to=utils.get_file_path,)\n    date_posted = models.DateTimeField(auto_now_add=True, editable=False)\n    last_modified = models.DateTimeField(auto_now=True)\n    when = models.FloatField(blank=True, null=True)\n    lock = models.BooleanField(default=False)\n    des = models.CharField(\n        max_length=100,\n        validators=[\n            RegexValidator(\n                regex='^[-_a-zA-Z0-9\\.]+$',\n                message='only 1 to 20 characters and only letters, numbers, point, minus and underscore are allowed',\n            ),\n        ])\n</code></pre>\n\n<p>view.py</p>\n\n<pre><code>  @swagger_auto_schema(request_body=doc_serializer.CreatePostDummy, responses={201: PostSerializer})\n        def create(self, request, *args, **kwargs):\n            \"\"\"permission required: authenticated. Note: the schema is not json it's multipart\"\"\"\n            return super().create(request, *args, **kwargs)\n</code></pre>\n\n<p>doc_serializers.py</p>\n\n<pre><code>class CreatePostDummy(serializers.HyperlinkedModelSerializer):\n    user = serializers.HyperlinkedRelatedField(required=False, read_only=True, view_name='user-detail')\n    src = serializers.CharField(required=True, help_text='Not Char but image upload field')\n</code></pre>\n\n<p>frontend</p>\n\n<p>upload.ts</p>\n\n<pre><code>  ngOnInit() {\n\n    this.categoryForm = new FormGroup({\n\n\n      'lock': new FormControl(true),\n\n      'des': new FormControl('', Validators.compose([\n        Validators.maxLength(25),\n        Validators.minLength(1),\n        Validators.required\n      ])),\n\n      'image': new FormControl(null),\n      'when': new FormControl(null),\n    });\n\n}\n\napiSubmit() {\n  const formData = new FormData();\n  formData.append('lock', this.categoryForm.get('lock').value);\n  formData.append('des', this.categoryForm.get('des').value);\n  formData.append('image', this.categoryForm.get('image').value);\n  formData.append('when', this.categoryForm.get('when').value);\n\n\n  this.http.post&lt;any&gt;(`{this.url}`, formData).subscribe(\n    (res) =&gt; console.log(res),\n    (err) =&gt; console.log(err)\n  );\n}\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "express", "server", "backend"], "comments": [{"owner": {"reputation": 3510, "user_id": 574722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Sxyd.jpg?s=128&g=1", "display_name": "bhmahler", "link": "https://stackoverflow.com/users/574722/bhmahler"}, "edited": false, "score": 0, "creation_date": 1576102755, "post_id": 59294940, "comment_id": 104794353, "body": "Do you have body-parser added to your express server? You need to add that middleware. <a href=\"https://expressjs.com/en/resources/middleware/body-parser.html\" rel=\"nofollow noreferrer\">expressjs.com/en/resources/middleware/body-parser.html</a> It would help if you posted your express setup code."}, {"owner": {"reputation": 285, "user_id": 3148748, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wKcNT.jpg?s=128&g=1", "display_name": "Aniket Chowdhury", "link": "https://stackoverflow.com/users/3148748/aniket-chowdhury"}, "reply_to_user": {"reputation": 3510, "user_id": 574722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Sxyd.jpg?s=128&g=1", "display_name": "bhmahler", "link": "https://stackoverflow.com/users/574722/bhmahler"}, "edited": false, "score": 0, "creation_date": 1576102938, "post_id": 59294940, "comment_id": 104794418, "body": "@bhmahler Body Parser has it&#39;s own issues. Use express.urlencoded(extended: true) and express.json() as middlewares."}, {"owner": {"reputation": 3019, "user_id": 10687857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7vYls.jpg?s=128&g=1", "display_name": "DanStarns", "link": "https://stackoverflow.com/users/10687857/danstarns"}, "edited": false, "score": 0, "creation_date": 1576103457, "post_id": 59294940, "comment_id": 104794586, "body": "do you get any error ?"}, {"owner": {"reputation": 33, "user_id": 7778259, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-voHJQPm6sc4/AAAAAAAAAAI/AAAAAAAAAyk/eyP9IDNRNGs/photo.jpg?sz=128", "display_name": "Olusanya Michael", "link": "https://stackoverflow.com/users/7778259/olusanya-michael"}, "edited": false, "score": 0, "creation_date": 1576103545, "post_id": 59294940, "comment_id": 104794610, "body": "Thank you all, I got it now. I have to change the position of my express.json to the top of router."}], "owner": {"reputation": 33, "user_id": 7778259, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-voHJQPm6sc4/AAAAAAAAAAI/AAAAAAAAAyk/eyP9IDNRNGs/photo.jpg?sz=128", "display_name": "Olusanya Michael", "link": "https://stackoverflow.com/users/7778259/olusanya-michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576102527, "creation_date": 1576102527, "question_id": 59294940, "link": "https://stackoverflow.com/questions/59294940/this-is-my-first-express-server-but-i-dont-know-why-post-put-and-delete-is-not", "title": "This is my first Express server but I don&#39;t know why POST, PUT and DELETE is not working", "body": "<p>I wrote this in express JS. the 2 GETs are working but the remaining are not working but I can't see what's wrong with the code. I have a .json file in my directory where I am calling the data from. When I use get id, i get the correct id. When I use POST, it will post only the _id and Date without posting the body of the data.</p>\n\n<pre><code>    const studentsArray = readFile();\n    const studentId = studentsArray.find(student =&gt; student._id == req.params.id)\n\n    if (studentId) {\n        res.send(studentId)\n    } else {\n        res.status(404).send(\"student not found\")\n    }\n});\n\nrouter.get(\"/\", (req, res) =&gt; {\n    /* const studentsArray = readFile(filePath); */\n    res.send(readFile())\n});\n\nrouter.post(\"/\", (req, res) =&gt; {\n    const studentsArray = readFile()\n\n    /* const emailCheck = studentsArray.find(student =&gt; {\n        if (students)\n    }) */\n    const newStudent = { ...req.body, _id: studentsArray.length + 1, createdOn: new Date() };\n    studentsArray.push(newStudent)\n    fs.writeFileSync(filePath, JSON.stringify(studentsArray))\n    res.status(201).send(`Student ${newStudent._id} was Created Successfully`)\n\n});\n\nrouter.put(\"/:id\", (req, res) =&gt; {\n\n\n    const studentsArray = readFile();\n\n    const editedStudent = studentsArray.find(student =&gt; student._id == req.params.id) \n\n    if (editedStudent)\n   { \n    const mergedStudent = Object.assign(editedStudent, req.body)\n    const position = studentsArray.indexOf(editedStudent) \n    studentsArray[position] = mergedStudent  \n    fs.writeFileSync(filePath, JSON.stringify(studentsArray))\n    res.send(mergedStudent)\n} else {\n    res.status(404).send(\"Student not found\")\n}\n\n});\n\nrouter.delete(\"/:id\", (req, res) =&gt; {\n    const studentsArray = readFile();\n    const studentsRemains = studentsArray.find(student =&gt; student._id != req.params.id)\n    if (studentsRemains.length &lt; studentsArray.length) {\n    fs.writeFileSync(filePath, JSON.stringify(studentsRemains))\n    res.status(204).send(\"Deletion successful\")\n    }\n    else {\n        res.status(404).send(\"Student Not Found\")\n    }\n});\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "actions-on-google", "google-smart-home"], "comments": [{"owner": {"reputation": 10420, "user_id": 1491707, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/rOXkJ.png?s=128&g=1", "display_name": "Nick Felker", "link": "https://stackoverflow.com/users/1491707/nick-felker"}, "edited": false, "score": 0, "creation_date": 1576168643, "post_id": 59294924, "comment_id": 104820495, "body": "Is this potentially a naming issue? If it had a generic nickname like <code>Garage Door</code> would it work?"}, {"owner": {"reputation": 31, "user_id": 851275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41d9a7bb7cffc0059aa8785534d39b7f?s=128&d=identicon&r=PG", "display_name": "dziczkzw", "link": "https://stackoverflow.com/users/851275/dziczkzw"}, "reply_to_user": {"reputation": 10420, "user_id": 1491707, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/rOXkJ.png?s=128&g=1", "display_name": "Nick Felker", "link": "https://stackoverflow.com/users/1491707/nick-felker"}, "edited": false, "score": 1, "creation_date": 1576284238, "post_id": 59294924, "comment_id": 104861989, "body": "@NickFelker - it definitely was an issue with the <code>name</code> in the JSON returned from a sync intent. Ultimately, I ended up using something like the code below and the action started responding to query intents as I expect. Answering my own question in case others bump into this!"}, {"owner": {"reputation": 31, "user_id": 851275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41d9a7bb7cffc0059aa8785534d39b7f?s=128&d=identicon&r=PG", "display_name": "dziczkzw", "link": "https://stackoverflow.com/users/851275/dziczkzw"}, "reply_to_user": {"reputation": 10420, "user_id": 1491707, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/rOXkJ.png?s=128&g=1", "display_name": "Nick Felker", "link": "https://stackoverflow.com/users/1491707/nick-felker"}, "edited": false, "score": 0, "creation_date": 1576284626, "post_id": 59294924, "comment_id": 104862053, "body": "Oh... and thanks @NickFelker for pointing out my mistake. :) Much appreciated."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 851275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41d9a7bb7cffc0059aa8785534d39b7f?s=128&d=identicon&r=PG", "display_name": "dziczkzw", "link": "https://stackoverflow.com/users/851275/dziczkzw"}, "is_accepted": false, "score": 0, "last_activity_date": 1576284516, "creation_date": 1576284516, "answer_id": 59331421, "question_id": 59294924, "link": "https://stackoverflow.com/questions/59294924/do-not-see-onquery-callback-triggered-in-nodejs-actions-on-google/59331421#59331421", "title": "Do not see onQuery callback triggered in NodeJS actions-on-google", "body": "<p>Answering my own question here in case anyone else has this trouble. The reason why my action was handling the SYNC and EXECUTE intents but not the QUERY intent came down to what default/user names I assigned each device in the SYNC response. </p>\n\n<p>Ultimately, I started using the following and my action began responding to QUERY intents as expected again:</p>\n\n<pre><code>...\n\nname: {\n  defaultNames: ['Garage Door'],\n  name: door.name,\n  nicknames: [door.name, 'Garage Door']\n},\n\n...\n</code></pre>\n\n<p>where <code>door.name</code> is a name which is set by the user and is returned by an API call.</p>\n"}], "owner": {"reputation": 31, "user_id": 851275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41d9a7bb7cffc0059aa8785534d39b7f?s=128&d=identicon&r=PG", "display_name": "dziczkzw", "link": "https://stackoverflow.com/users/851275/dziczkzw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576459074, "creation_date": 1576102439, "last_edit_date": 1576459074, "question_id": 59294924, "link": "https://stackoverflow.com/questions/59294924/do-not-see-onquery-callback-triggered-in-nodejs-actions-on-google", "title": "Do not see onQuery callback triggered in NodeJS actions-on-google", "body": "<h2>Overview</h2>\n\n<p>I am using the Node.js library <a href=\"https://github.com/actions-on-google/actions-on-google-nodejs\" rel=\"nofollow noreferrer\"><code>actions-on-google</code></a> client to build a smarthome action for the <code>Garage Door</code> device type. This action is deployed as a Cloud Function in GCP. I can confirm that the following works perfectly so far:</p>\n\n<ul>\n<li>Accounting linking with our OAuth flow</li>\n<li>Responding to sync intents (ie. <code>onSync()</code> in the client)</li>\n<li>Responding to execute intents (ie. <code>onExecute()</code> in the client)</li>\n</ul>\n\n<h2>Problem</h2>\n\n<p>Despite that other callbacks (<code>onSync()</code> and <code>onExecute()</code>) work fine, we do not see any evidence of <code>onQuery()</code> being called no matter what. There aren't any errors showing in Stackdriver nor are their any logs being generated in Stackdriver under the \"Google Actions\" filter either.</p>\n\n<p>We expect <code>onQuery()</code> to run when we ask Google Assistant things like <em>is the garage door open?</em> and <em>is Matt's Door closed?</em> </p>\n\n<ul>\n<li>We tried removing <code>async</code> to see if the call was hanging</li>\n<li>We tried removing <code>headers</code> in the lambda</li>\n<li>We tried removing all other code and redploying to isolate <code>onQuery()</code></li>\n</ul>\n\n<h2>Code</h2>\n\n<p>The following code shows the simple <code>onQuery()</code> callback. <code>onExecute()</code> and <code>onSync</code> code has been removed for clarity. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>'use strict';\r\n\r\nconst functions = require('firebase-functions');\r\nconst {smarthome} = require('actions-on-google');\r\n\r\nconst app = smarthome({\r\n  jwt: require('./XXXXXXXXX-XXXXXXXXXX.json'),\r\n  debug: true,\r\n});\r\n\r\n//\r\n// Note: Removed onSync() and onExecute() for clarity\r\n//\r\n\r\napp.onQuery(async (body, headers) =&gt; {\r\n\r\n  // Expecting to see these logging statements in\r\n  // Stackdriver like we do for onExecute() and \r\n  // onSync() ... but nothing ever shows up.\r\n  \r\n\tconsole.info('=== onQuery.body', body);\r\n\tconsole.info('=== onQuery.headers', headers);\r\n\r\n  // We have hardcoded the following ID and a \"closed\" \r\n  // state. It matches a valid device ID to the testing \r\n  // account we are using.\r\n\r\n  return {\r\n    requestId: body.requestId,\r\n    payload: {\r\n      devices: {\r\n        '2489e4a92799728292b8d5a8b1c9d177': {\r\n          on: true,\r\n          online: true,\r\n          openPercent: 0,\r\n        }\r\n      }\r\n    }\r\n  };\r\n});\r\n\r\nexports.smarthome = functions.https.onRequest(app);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>We considered the possibility that the JSON returned in the call to <code>onSync()</code> might be missing a trait or something that prevents it from responding to a query intent properly but we have not been able to identify anything that might be incorrect or missing. Here is the JSON payload returned from <code>onSync()</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>{\r\n\t\"requestId\": \"ff36a3cc-ec34-11e6-b1a0-64510650abcf\",\r\n\t\"payload\": {\r\n\t\t\"agentUserId\": \"1836.15267389\",\r\n\t\t\"devices\": [{\r\n\t\t\t\"id\": \"1234\",\r\n\t\t\t\"type\": \"action.devices.types.GARAGE\",\r\n\t\t\t\"traits\": [\r\n\t\t\t\t\"action.devices.traits.OpenClose\"\r\n\t\t\t],\r\n\t\t\t\"name\": {\r\n\t\t\t\t\"defaultNames\": [\"Smart Garage Door\"],\r\n\t\t\t\t\"name\": \"Matt's Door\",\r\n\t\t\t\t\"nicknames\": [\"Matt's Door\"]\r\n\t\t\t},\r\n\t\t\t\"willReportState\": true,\r\n\t\t\t\"attributes\": {\r\n\t\t\t\t\"openDirection\": [\r\n\t\t\t\t\t\"UP\",\r\n\t\t\t\t\t\"DOWN\"\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\t\"deviceInfo\": {\r\n\t\t\t\t\"manufacturer\": \"ABC Corp\",\r\n\t\t\t\t\"model\": \"test\",\r\n\t\t\t\t\"hwVersion\": \"1.0\",\r\n\t\t\t\t\"swVersion\": \"1.0\"\r\n\t\t\t}\r\n\t\t}]\r\n\t}\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<h2>Expected Result</h2>\n\n<p>We expect Google Assistant to respond with <strong>\"Garage door is closed\"</strong> or some other equivalent. Instead, we receive <strong>\"Sorry, I can't reach Matt's Door right now. Please try again.\"</strong></p>\n"}, {"tags": ["javascript", "arrays"], "comments": [{"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1576102426, "post_id": 59294892, "comment_id": 104794251, "body": "<a href=\"https://stackoverflow.com/questions/50415200/sort-an-array-of-arrays-in-javascript\" title=\"sort an array of arrays in javascript\">stackoverflow.com/questions/50415200/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 7964337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4effe59a04ac35d8ae0accae39a244f0?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Bradbury", "link": "https://stackoverflow.com/users/7964337/adam-bradbury"}, "edited": false, "score": 0, "creation_date": 1576105951, "post_id": 59295025, "comment_id": 104795347, "body": "Really appreciate the help! If you find the time, I&#39;d love an explanation of the implementation."}, {"owner": {"reputation": 51, "user_id": 7964337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4effe59a04ac35d8ae0accae39a244f0?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Bradbury", "link": "https://stackoverflow.com/users/7964337/adam-bradbury"}, "edited": false, "score": 0, "creation_date": 1576172921, "post_id": 59295025, "comment_id": 104822539, "body": "I&#39;m still getting a true value returned when there are no gaps, however. <code>const array = [[1, 5], [6, 9], [10, 14]]</code>"}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "reply_to_user": {"reputation": 51, "user_id": 7964337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4effe59a04ac35d8ae0accae39a244f0?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Bradbury", "link": "https://stackoverflow.com/users/7964337/adam-bradbury"}, "edited": false, "score": 0, "creation_date": 1576173017, "post_id": 59295025, "comment_id": 104822586, "body": "it looks like <code>true</code>. do you want <code>false</code>? why?"}, {"owner": {"reputation": 51, "user_id": 7964337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4effe59a04ac35d8ae0accae39a244f0?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Bradbury", "link": "https://stackoverflow.com/users/7964337/adam-bradbury"}, "edited": false, "score": 0, "creation_date": 1576175834, "post_id": 59295025, "comment_id": 104823813, "body": "because I need to determine if the subarrays are continuous. In your example array, there is a gap between 5 and 7, so it should return true, as it does. In my example there is no gap, 5 to 6, 9 to 10, and so one. This should return false, meaning there is no gap between the subarrays."}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "reply_to_user": {"reputation": 51, "user_id": 7964337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4effe59a04ac35d8ae0accae39a244f0?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Bradbury", "link": "https://stackoverflow.com/users/7964337/adam-bradbury"}, "edited": false, "score": 0, "creation_date": 1576175904, "post_id": 59295025, "comment_id": 104823839, "body": "do you need only to check the gaps? or if the value inside of the array are greater than the first value?"}], "tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 1, "last_activity_date": 1576179537, "last_edit_date": 1576179537, "creation_date": 1576102989, "answer_id": 59295025, "question_id": 59294892, "link": "https://stackoverflow.com/questions/59294892/compare-an-array-of-arrays-to-check-if-the-arrays-are-in-order-in-javascript/59295025#59295025", "title": "Compare an array of arrays to check if the arrays are in order in Javascript", "body": "<p>You could check the actual value agains the last value of the previous array plus one and omit the check for the first inner array.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const\r\n    inOrder = array =&gt; array.every(([v], i, a) =&gt; !i || a[i - 1][1] + 1 === v);\r\n\r\nconsole.log(inOrder([[1, 5], [7, 9], [10, 14]]));\r\nconsole.log(inOrder([[1, 5], [6, 9], [10, 14]]));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 51, "user_id": 7964337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4effe59a04ac35d8ae0accae39a244f0?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Bradbury", "link": "https://stackoverflow.com/users/7964337/adam-bradbury"}, "edited": false, "score": 0, "creation_date": 1576172649, "post_id": 59295553, "comment_id": 104822412, "body": "Thanks Ori, but I don&#39;t believe this works given the criteria. The first array, [1,5] would need to then start with a 6, [6,9] to pass validation. Given that array, the third array would need to start with 10, [10,14], and so on for an undetermined number of subarrays"}, {"owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "reply_to_user": {"reputation": 51, "user_id": 7964337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4effe59a04ac35d8ae0accae39a244f0?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Bradbury", "link": "https://stackoverflow.com/users/7964337/adam-bradbury"}, "edited": false, "score": 0, "creation_date": 1576173983, "post_id": 59295553, "comment_id": 104823006, "body": "So the distance between last and 1st should be 1 always?"}, {"owner": {"reputation": 51, "user_id": 7964337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4effe59a04ac35d8ae0accae39a244f0?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Bradbury", "link": "https://stackoverflow.com/users/7964337/adam-bradbury"}, "edited": false, "score": 0, "creation_date": 1576175604, "post_id": 59295553, "comment_id": 104823723, "body": "yes. Basically, continuous. The sub array values represent ranges, with a lower and upper value. They can&#39;t overlap, for example, [[1,4], [4,7], .........] wouldn&#39;t qualify. The second subarray would need to be a 5, [5,7]. If it&#39;s [6,7] that wouldn&#39;t qualify either. And the number of subarrays has no limit."}, {"owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "reply_to_user": {"reputation": 51, "user_id": 7964337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4effe59a04ac35d8ae0accae39a244f0?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Bradbury", "link": "https://stackoverflow.com/users/7964337/adam-bradbury"}, "edited": false, "score": 0, "creation_date": 1576175805, "post_id": 59295553, "comment_id": 104823804, "body": "Updated the answer. What is that used for? and why do you want <code>false</code> when the criteria is met, and <code>true</code> when it fails?"}, {"owner": {"reputation": 51, "user_id": 7964337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4effe59a04ac35d8ae0accae39a244f0?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Bradbury", "link": "https://stackoverflow.com/users/7964337/adam-bradbury"}, "edited": false, "score": 1, "creation_date": 1576178993, "post_id": 59295553, "comment_id": 104825080, "body": "Thanks again! I use it in a form validation. The way the validation works, is if it return true, it throws a form error. For example, if the input field is required, and the value === &#39;&#39;, the logic return true and the form renders the UI message."}], "tags": [], "owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "is_accepted": false, "score": 1, "last_activity_date": 1576175769, "last_edit_date": 1576175769, "creation_date": 1576106228, "answer_id": 59295553, "question_id": 59294892, "link": "https://stackoverflow.com/questions/59294892/compare-an-array-of-arrays-to-check-if-the-arrays-are-in-order-in-javascript/59295553#59295553", "title": "Compare an array of arrays to check if the arrays are in order in Javascript", "body": "<p>Create an array that starts from the 2nd sub-array using <code>Array.slice()</code>. Use <code>Array.some()</code> and check if the 2nd item of the current sub-array is equal or less the 2nd item of the sub-array at the current index <code>i</code> of the original array. In this way you compare the 2nd with the 1st, the 3rd with the 2nd, and so on.</p>\n\n<p><code>false</code> - means the validation passed\n<code>true</code> - means validation failed</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const isFailed = arr =&gt; arr.slice(1)\r\n  .some(([n], i) =&gt; n !== arr[i][1] + 1)\r\n\r\n\r\nconsole.log(isFailed([[1,5],[6,9],[10,14]])) // false\r\nconsole.log(isFailed([[1,5],[7,9],[10,14]])) // true</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 51, "user_id": 7964337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4effe59a04ac35d8ae0accae39a244f0?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Bradbury", "link": "https://stackoverflow.com/users/7964337/adam-bradbury"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1576179537, "creation_date": 1576102317, "last_edit_date": 1576103837, "question_id": 59294892, "link": "https://stackoverflow.com/questions/59294892/compare-an-array-of-arrays-to-check-if-the-arrays-are-in-order-in-javascript", "title": "Compare an array of arrays to check if the arrays are in order in Javascript", "body": "<p>I have an array of arrays like this, <code>const array = [[1,5],[7,9],[10,14]];</code> I need to check to see if the arrays are in order. </p>\n\n<p>Basically, for the provided array, I need to compare the first array's second value, (5), with the second array's first value, (7), which I would then use to invalidate a form. </p>\n\n<p>If the arrays or in order, <code>const array = [[1,5],[6,9],[10,14]];</code> it returns false, it passes validation, if they aren't, validation fails and it returns true.</p>\n\n<p>So far, I've done something like this. </p>\n\n<pre><code>const arrayIdxZeroValues = [];\nconst arrayIdxOneValues = []; \narray.forEach((arr,idx) =&gt; {\n  arrayIdxZeroValues.push(arr[0])\n  arrayIdxOneValues.push(arr[1])\n})\n</code></pre>\n\n<p>which separates the values fine. I then thought about using <code>.shift()</code> to remove the first value of arrayIdxZeroValues since it will never need to be compared, but I feel this is hacky and I'm not sure it's the right approach from here. Maybe <code>.reduce()</code> to compare the output arrays, but I haven't been able to get it to work right.</p>\n\n<p>Any guidance would be much appreciated.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "answers": [{"comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1576120153, "post_id": 59297068, "comment_id": 104798293, "body": "Why not just use a CSS class to set the height in <code>rem</code> directly instead of using JavaScript at all?"}, {"owner": {"reputation": 16, "user_id": 8413306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8709c260219daafd07ef516020d22375?s=128&d=identicon&r=PG&f=1", "display_name": "Mykola Uspalenko", "link": "https://stackoverflow.com/users/8413306/mykola-uspalenko"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1576120997, "post_id": 59297068, "comment_id": 104798465, "body": "The code is a part of JQuery plugin and the pugin can be applied to any &lt;select..&gt;. The buttonElem  is dynamically created."}], "tags": [], "owner": {"reputation": 16, "user_id": 8413306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8709c260219daafd07ef516020d22375?s=128&d=identicon&r=PG&f=1", "display_name": "Mykola Uspalenko", "link": "https://stackoverflow.com/users/8413306/mykola-uspalenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1576120616, "last_edit_date": 1576120616, "creation_date": 1576119389, "answer_id": 59297068, "question_id": 59294871, "link": "https://stackoverflow.com/questions/59294871/how-to-convert-the-result-of-externalheight-to-rem/59297068#59297068", "title": "How to convert the result of externalHeight() to REM?", "body": "<p>calcREM() function is added:</p>\n\n<pre><code>function calcREM(px)\n{\n    if( !isNaN(px) )\n    {\n        var remInPx = parseFloat($(\"html\").css(\"font-size\"));\n        return (parseFloat(px) / remInPx).toString() + \"rem\";\n    }\n}\n</code></pre>\n\n<p>The code above has been updated to:</p>\n\n<pre><code>buttonElem.outerHeight( calcREM($(labelElem).outerHeight()) );\n</code></pre>\n\n<hr>\n\n<p>Here is the test.</p>\n\n<p>The buttonElem before.<br>\n<a href=\"https://i.stack.imgur.com/Yjd0Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Yjd0Y.png\" alt=\"The buttonElem before\"></a>  </p>\n\n<p>The buttonElem after converting pixels to REM using the calcREM () function.<br>\n<a href=\"https://i.stack.imgur.com/TvyEq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TvyEq.png\" alt=\"The buttonElem after the update\"></a></p>\n\n<hr>\n\n<p>Note: my CSS includes the definition:</p>\n\n<pre><code>html {\n    font-size: 16px;\n}\n</code></pre>\n"}], "owner": {"reputation": 16, "user_id": 8413306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8709c260219daafd07ef516020d22375?s=128&d=identicon&r=PG&f=1", "display_name": "Mykola Uspalenko", "link": "https://stackoverflow.com/users/8413306/mykola-uspalenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576120616, "creation_date": 1576102203, "question_id": 59294871, "link": "https://stackoverflow.com/questions/59294871/how-to-convert-the-result-of-externalheight-to-rem", "title": "How to convert the result of externalHeight() to REM?", "body": "<p>I could adjust the font size of the root HTML to fit the HTML window, for example:</p>\n\n<pre><code>        var inputFont = parseFloat($(\"html\").css(\"font-size\"));\n        if (inputFont)\n            $(\"html\").css(\"font-size\", inputFont * 0.9);\n</code></pre>\n\n<p>Prior to this adjustment, I could make some elements fit to each other, for example:</p>\n\n<pre><code>         buttonElem.outerHeight( $(labelElem).outerHeight() );\n</code></pre>\n\n<p>So, I would need to repeat this again, or to set the height in REM for buttonElem from the beginning, right?</p>\n\n<p>Do you know how to quickly convert the result of externalHeight() to REM? \nWill this conversion help?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["javascript", "vue.js", "charts", "chart.js"], "answers": [{"comments": [{"owner": {"reputation": 167, "user_id": 11968843, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ep6IxxysFDU/AAAAAAAAAAI/AAAAAAAADNc/xXrJ6ILnx10/photo.jpg?sz=128", "display_name": "Anas Latique", "link": "https://stackoverflow.com/users/11968843/anas-latique"}, "edited": false, "score": 0, "creation_date": 1576145296, "post_id": 59295641, "comment_id": 104807006, "body": "Hey thanks for getting back to me! How can I add <code>ref=&quot;chart&quot;</code> to the chart <code>canvas</code>, I don&#39;t have access to the <code>canvas</code>, I can see it in inspect element."}, {"owner": {"reputation": 862, "user_id": 7770919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CmLmX.jpg?s=128&g=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/7770919/ben"}, "reply_to_user": {"reputation": 167, "user_id": 11968843, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ep6IxxysFDU/AAAAAAAAAAI/AAAAAAAADNc/xXrJ6ILnx10/photo.jpg?sz=128", "display_name": "Anas Latique", "link": "https://stackoverflow.com/users/11968843/anas-latique"}, "edited": false, "score": 0, "creation_date": 1576149001, "post_id": 59295641, "comment_id": 104809144, "body": "Actually, you could be able just to reference <code>canvas</code> without adding <code>ref=&quot;chart&quot;</code>.   You could do <code>this.$refs.canvas</code>. If you were working with clean <code>chart.js</code> you could do <code>ref=&quot;chart&quot;</code> on your canvas. But as you are using vue-chartjs wrapper, you can go with <code>this.$refs.canvas</code>.   Here is good answer for that here: <a href=\"https://stackoverflow.com/a/51039937/7770919\">stackoverflow.com/a/51039937/7770919</a>  Let me know if you still have problems."}, {"owner": {"reputation": 167, "user_id": 11968843, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ep6IxxysFDU/AAAAAAAAAAI/AAAAAAAADNc/xXrJ6ILnx10/photo.jpg?sz=128", "display_name": "Anas Latique", "link": "https://stackoverflow.com/users/11968843/anas-latique"}, "edited": false, "score": 0, "creation_date": 1576168726, "post_id": 59295641, "comment_id": 104820526, "body": "Thank you for getting back to me Ben, I do pass the chart data as prop to the LineChart component in Home.vue, and the Home.vue contains many other Charts, if I do <code>this.$refs.canvas</code> it won&#39;t return that specific chart, how can I do it in this case?"}, {"owner": {"reputation": 167, "user_id": 11968843, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ep6IxxysFDU/AAAAAAAAAAI/AAAAAAAADNc/xXrJ6ILnx10/photo.jpg?sz=128", "display_name": "Anas Latique", "link": "https://stackoverflow.com/users/11968843/anas-latique"}, "edited": false, "score": 0, "creation_date": 1576170314, "post_id": 59295641, "comment_id": 104821307, "body": "I can get it in the mounted function of the component, which is expected, but I do set the <code>backgroundColor</code> in the Home.vue file, how can I set <code>backgroundColor</code> in the <code>data</code> in the component code?"}, {"owner": {"reputation": 862, "user_id": 7770919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CmLmX.jpg?s=128&g=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/7770919/ben"}, "reply_to_user": {"reputation": 167, "user_id": 11968843, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ep6IxxysFDU/AAAAAAAAAAI/AAAAAAAADNc/xXrJ6ILnx10/photo.jpg?sz=128", "display_name": "Anas Latique", "link": "https://stackoverflow.com/users/11968843/anas-latique"}, "edited": false, "score": 0, "creation_date": 1576172471, "post_id": 59295641, "comment_id": 104822327, "body": "Anas, can you please take a look at this: <a href=\"https://github.com/apertureless/vue-chartjs/issues/439#issuecomment-438595442\" rel=\"nofollow noreferrer\">github.com/apertureless/vue-chartjs/issues/&hellip;</a> and see if it will help you.  Let me know if this is what you are looking for."}], "tags": [], "owner": {"reputation": 862, "user_id": 7770919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CmLmX.jpg?s=128&g=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/7770919/ben"}, "is_accepted": false, "score": 3, "last_activity_date": 1576106958, "creation_date": 1576106958, "answer_id": 59295641, "question_id": 59294806, "link": "https://stackoverflow.com/questions/59294806/how-to-add-gradient-background-to-line-chart-vue-chart-js/59295641#59295641", "title": "How to add gradient background to Line Chart [vue-chart.js]", "body": "<p>You should be able to add <code>ref=\"chart\"</code> to your <code>canvas</code>. After that you can declare the new variable that will store the background color.</p>\n\n<p>Like this:</p>\n\n<pre><code>var gradientFill = this.$refs.chart.createLinearGradient(500, 0, 100, 0);\ngradientFill.addColorStop(0, \"rgba(128, 182, 244, 0.6)\");\ngradientFill.addColorStop(1, \"rgba(244, 144, 128, 0.6)\");\n</code></pre>\n\n<p>Then you should be able to use <code>backgroundColor: gradientFill</code> in your chart options. </p>\n\n<p>Please put this code in <code>created</code> or <code>mounted</code> methods in Vue lifecycle as needed to make sure it renders properly when component displays.</p>\n\n<p>That should be it.</p>\n\n<p>Yo can try and play with it here: <a href=\"https://codepen.io/plavookac/pen/RKjNEV\" rel=\"nofollow noreferrer\">https://codepen.io/plavookac/pen/RKjNEV</a></p>\n\n<p>I hope this helps.</p>\n\n<p>Let me know if you have any questions. </p>\n"}], "owner": {"reputation": 167, "user_id": 11968843, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ep6IxxysFDU/AAAAAAAAAAI/AAAAAAAADNc/xXrJ6ILnx10/photo.jpg?sz=128", "display_name": "Anas Latique", "link": "https://stackoverflow.com/users/11968843/anas-latique"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2052, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1576106958, "creation_date": 1576101918, "question_id": 59294806, "link": "https://stackoverflow.com/questions/59294806/how-to-add-gradient-background-to-line-chart-vue-chart-js", "title": "How to add gradient background to Line Chart [vue-chart.js]", "body": "<p>how can I add a gradient backgroundColor to a line chart, I pass the data as props.</p>\n\n<p>this is my LineChart.vue component:</p>\n\n<pre><code>import { Line, mixins } from 'vue-chartjs'\n  const { reactiveProp } = mixins\n\n  export default {\n    extends: Line,\n    mixins: [reactiveProp],\n    data: () =&gt; ({\n      gradient: null,\n      options: {\n        layout: {\n          padding: {\n            bottom: -20,\n            left: -20,\n          }\n        },\n        maintainAspectRatio: false,\n        legend: {\n          display: false\n        },\n        scales: {\n          yAxes: [{\n            ticks: {\n              beginAtZero: true,\n              min: 0,\n              display: false,\n            },\n            gridLines: {\n              drawBorder: false,\n              showBorder: false,\n              display: false,\n            },\n          }],\n          xAxes: [{\n            gridLines: {\n              drawBorder: false,\n              showBorder: false,\n              display: false,\n            },\n            ticks: {\n              display: false\n            }\n          }]\n        }\n      }\n    }),\n    mounted () {\n      // this.chartData is created in the mixin.\n      // If you want to pass options please create a local options object.\n\n      this.renderChart(this.chartData, this.options)\n    }\n  }\n</code></pre>\n\n<p>and this is the chartdata initialization in Home.vue:</p>\n\n<pre><code>    this.chartdata3 = {\n      labels: ['bla', 'bla', 'bla', 'bla'],\n      datasets: [\n        {\n          backgroundColor: \"rgba(42, 115, 237, 0.9)\",\n          data: ['200', '400', '100', '700'],\n        }\n      ]\n    };\n</code></pre>\n\n<p>How can I have a gradient instead of solid color in the background of the line chart?</p>\n"}, {"tags": ["javascript", "html", "angularjs"], "comments": [{"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1576102585, "post_id": 59294804, "comment_id": 104794300, "body": "I deleted my answer cause my HTML markup was incorrect. But the jist is to change the data structure to combine both of those values <code>$scope.itemsCollection [0] = {items: [&quot;1a&quot;, &quot;2a&quot;], moreitems = [&quot;1b&quot;, &quot;2b&quot;]}</code> and ng-repeat on that."}], "answers": [{"tags": [], "owner": {"reputation": 46815, "user_id": 5535245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnjcO.jpg?s=128&g=1", "display_name": "georgeawg", "link": "https://stackoverflow.com/users/5535245/georgeawg"}, "is_accepted": false, "score": 0, "last_activity_date": 1576103587, "creation_date": 1576103587, "answer_id": 59295142, "question_id": 59294804, "link": "https://stackoverflow.com/questions/59294804/how-can-i-list-the-first-indexed-row-for-multiple-items-in-angularjs/59295142#59295142", "title": "How can I list the first indexed row for multiple items in AngularJS?", "body": "<p>One approach is to use <code>ng-repeat-start</code> and <code>ng-repeat-end</code> to create two rows in the first loop:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var myApp = angular.module(\"myApp\", []);\r\n\r\nmyApp.controller(\"myCtrl\", function($scope) {\r\n  $scope.items = [];\r\n  $scope.items[0] = [\"1a\", \"2a\"];\r\n  $scope.items[1] = [\"3a\", \"4a\"];\r\n  $scope.items[2] = [\"5a\", null];\r\n  $scope.moreitems = [];\r\n  $scope.moreitems[0] = [\"1b\", \"2b\"];\r\n  $scope.moreitems[1] = [\"3b\", \"4b\"];\r\n  $scope.moreitems[2] = [\"5b\", null];\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"//unpkg.com/angular/angular.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;body ng-app=\"myApp\" ng-controller=\"myCtrl\"&gt;\r\n   &lt;table class=\"table\"&gt;\r\n      &lt;tr ng-repeat-start=\"arr in items\" ng-init=\"itemIndex=$index\"&gt;\r\n        &lt;td ng-repeat=\"data in arr track by $index\"&gt;{{data}}&lt;/td&gt;\r\n      &lt;/tr&gt;\r\n      &lt;tr ng-repeat-end&gt;\r\n        &lt;td ng-repeat=\"data in moreitems[itemIndex] track by $index\"&gt;{{data}}&lt;/td&gt;\r\n      &lt;/tr&gt;\r\n   &lt;/table&gt;\r\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>For more information, see</p>\n\n<ul>\n<li><a href=\"https://docs.angularjs.org/api/ng/directive/ngRepeat#special-repeat-start-and-end-points\" rel=\"nofollow noreferrer\">AngularJS ng-repeat Directive API Reference - Special repeat start and end points</a></li>\n</ul>\n"}], "owner": {"reputation": 143, "user_id": 11104072, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Oletek1jOEE/AAAAAAAAAAI/AAAAAAAAACU/WUDxGP83XRU/photo.jpg?sz=128", "display_name": "JcoOnline", "link": "https://stackoverflow.com/users/11104072/jcoonline"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1576103587, "creation_date": 1576101917, "last_edit_date": 1576102696, "question_id": 59294804, "link": "https://stackoverflow.com/questions/59294804/how-can-i-list-the-first-indexed-row-for-multiple-items-in-angularjs", "title": "How can I list the first indexed row for multiple items in AngularJS?", "body": "<p>I am looking to create a table that is specific to the index number that can be matched in multiple items. So for example, if I want just the items for index [0], I want it to output:</p>\n\n<pre><code>1a 2a\n1b 2b\n</code></pre>\n\n<p>How can I achieve this in my html code? The html is formatted as is so I can write successive, repeated values.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var myApp = angular.module(\"myApp\", []);\r\n\r\nmyApp.controller(\"myCtrl\", function($scope) {\r\n  $scope.items = [];\r\n  $scope.items[0] = [\"1a\", \"2a\"];\r\n  $scope.items[1] = [\"3a\", \"4a\"];\r\n  $scope.items[2] = [\"5a\", null];\r\n  $scope.moreitems = [];\r\n  $scope.moreitems[0] = [\"1b\", \"2b\"];\r\n  $scope.moreitems[1] = [\"3b\", \"4b\"];\r\n  $scope.moreitems[2] = [\"5b\", null];\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.5/angular.min.js\"&gt;&lt;/script&gt;\r\n&lt;body ng-app=\"myApp\"&gt;\r\n  &lt;div ng-controller=\"myCtrl\"&gt;\r\n    &lt;table class=\"table\"&gt;\r\n      &lt;tr ng-repeat=\"tr in items\"&gt;\r\n        &lt;td ng-repeat=\"td in tr track by $index\"&gt;{{td}}&lt;/td&gt;\r\n      &lt;/tr&gt;\r\n      &lt;tr ng-repeat=\"tr in moreitems\"&gt;\r\n        &lt;td ng-repeat=\"td in tr track by $index\"&gt;{{td}}&lt;/td&gt;\r\n      &lt;/tr&gt;\r\n     &lt;/table&gt;\r\n  &lt;/div&gt;\r\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript"], "answers": [{"tags": [], "owner": {"reputation": 1048, "user_id": 9307290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zyp9i.png?s=128&g=1", "display_name": "Emmanuel Meric de Bellefon", "link": "https://stackoverflow.com/users/9307290/emmanuel-meric-de-bellefon"}, "is_accepted": false, "score": 0, "last_activity_date": 1576101474, "creation_date": 1576101474, "answer_id": 59294726, "question_id": 59294665, "link": "https://stackoverflow.com/questions/59294665/how-can-i-get-a-key-from-an-object-by-its-value/59294726#59294726", "title": "How can I get a key from an object by its value?", "body": "<p>It would be :</p>\n\n<pre><code>const valueToSearch = \"clean\"\nconst result = Object.entries(priorityMap).find(entry =&gt; entry[1] === valueToSearch)[1]\n</code></pre>\n"}], "owner": {"reputation": 309, "user_id": 4239522, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4f9de9632675624d3057eb302f7296f7?s=128&d=identicon&r=PG&f=1", "display_name": "Rhea", "link": "https://stackoverflow.com/users/4239522/rhea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "closed_date": 1576101395, "answer_count": 1, "score": -2, "last_activity_date": 1576101597, "creation_date": 1576101173, "last_edit_date": 1576101597, "question_id": 59294665, "link": "https://stackoverflow.com/questions/59294665/how-can-i-get-a-key-from-an-object-by-its-value", "closed_reason": "Duplicate", "title": "How can I get a key from an object by its value?", "body": "<p>I am working in react. I have a constant like </p>\n\n<pre><code>const priorityMap = {\n \"medium\":\"clean\",\n \"high\":\"breaker\",\n \"low\":\"promote\"\n}\n</code></pre>\n\n<p>If I do the following , I am getting result.</p>\n\n<pre><code>const map1 = priorityMap[\"medium\"];\nconsole.log(\"print checkgroup  \" + map1)\n</code></pre>\n\n<p>But I want to do the reverse thing. My input is \"clean\" and I want to retrieve \"medium\". Is there any way to fetch the key?</p>\n"}, {"tags": ["javascript", "scope"], "comments": [{"owner": {"reputation": 1227, "user_id": 9040373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3eee6ab92e140a72d7e825f8e1f7a394?s=128&d=identicon&r=PG&f=1", "display_name": "whatamidoingwithmylife", "link": "https://stackoverflow.com/users/9040373/whatamidoingwithmylife"}, "edited": false, "score": 0, "creation_date": 1576101284, "post_id": 59294647, "comment_id": 104793872, "body": "Assign a reference to it on the <code>window</code> object?"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1576101673, "post_id": 59294647, "comment_id": 104793998, "body": "Where is the <i>declaration</i> of the <code>_settingsObject</code> variable? The code you posted only assigns to it, but in strict mode that will cause an exception when the variable has not been declared."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1576101792, "post_id": 59294647, "comment_id": 104794038, "body": "When exactly is <code>Drupal.behaviors.myBehavior.attach</code> called? Are you sure you&#39;re not trying to access the variable before it had been initialised? Please post the code of the other file as well."}, {"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1576101944, "post_id": 59294647, "comment_id": 104794091, "body": "Are you even loading the script in the correct scope? We need more code."}], "answers": [{"comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1576101731, "post_id": 59294731, "comment_id": 104794019, "body": "It seems like OP wants <code>window._settingsObject</code>, not <code>window.globalVar</code>?"}], "tags": [], "owner": {"reputation": 304, "user_id": 4714974, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b51edcd77541ded4bc88ba3a4fef7ad1?s=128&d=identicon&r=PG&f=1", "display_name": "Zachary Brooks", "link": "https://stackoverflow.com/users/4714974/zachary-brooks"}, "is_accepted": false, "score": 0, "last_activity_date": 1576101517, "creation_date": 1576101517, "answer_id": 59294731, "question_id": 59294647, "link": "https://stackoverflow.com/questions/59294647/how-can-i-access-a-variable-declared-within-a-wrapped-function-in-the-global-sco/59294731#59294731", "title": "How can I access a variable declared within a wrapped function in the global scope?", "body": "<p>You can add it to the window object. Do it like this:</p>\n\n<pre><code>(function ($, window) {\n    'use strict';\n    window.globalVar = \"My Global Var\";\n     Drupal.behaviors.myBehavior = {\n       attach: function (context, settings) {\n         _settingsObject = {\n              ...\n         };\n       }\n    };\n})(jQuery, window);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 938, "user_id": 6853917, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ahxri.jpg?s=128&g=1", "display_name": "Stephen M Irving", "link": "https://stackoverflow.com/users/6853917/stephen-m-irving"}, "is_accepted": false, "score": -1, "last_activity_date": 1576102832, "last_edit_date": 1576102832, "creation_date": 1576101530, "answer_id": 59294733, "question_id": 59294647, "link": "https://stackoverflow.com/questions/59294647/how-can-i-access-a-variable-declared-within-a-wrapped-function-in-the-global-sco/59294733#59294733", "title": "How can I access a variable declared within a wrapped function in the global scope?", "body": "<p>The reason, as you hinted at, is due to scope. I'm not 100% this will work because I don't know enough about the function, but it looks like what it is doing (correct me if I'm wrong) is adding <code>_settingsObject</code> to the Drupal.behaviors.myBehavior object, such that when you call it you would call Drupal.behaviors.... If this is the case, try returning the object at the end of the function.</p>\n\n<pre><code>(function ($) {\n    'use strict';\n    Drupal.behaviors.myBehavior = {\n      attach: function (context, settings) {\n        const _settingsObject = {\n            ...\n        };\n        return _settingsObject;\n      }\n    };\n})(jQuery);\n</code></pre>\n\n<p>If that is not the case, please revise your question to include more code, and what exactly you  are calling in the other file and how you are calling it. If you are trying to get the object called _settingsObject you need to return it and make it accessible from the namespace in global scope.</p>\n"}], "owner": {"reputation": 2083, "user_id": 261355, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1d8c09c9245da15166976be0da98776d?s=128&d=identicon&r=PG", "display_name": "Vecta", "link": "https://stackoverflow.com/users/261355/vecta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1576102832, "creation_date": 1576101082, "question_id": 59294647, "link": "https://stackoverflow.com/questions/59294647/how-can-i-access-a-variable-declared-within-a-wrapped-function-in-the-global-sco", "title": "How can I access a variable declared within a wrapped function in the global scope?", "body": "<p>I'm working on a Drupal library that uses two JS files \u2014 one internal to create a settings object and another external (a vendor library). </p>\n\n<p>Here's the local file that creates <code>_settingsObject</code> with Drupal's required wrapper. </p>\n\n<pre><code>(function ($) {\n    'use strict';\n    Drupal.behaviors.myBehavior = {\n      attach: function (context, settings) {\n        _settingsObject = {\n            ...\n        };\n      }\n    };\n})(jQuery);\n</code></pre>\n\n<p>The only issue I'm having is that the other file is unable to see this object and I'm not able to access it in the console. How can I make this object available in the global scope? </p>\n\n<p>Thank you!</p>\n"}, {"tags": ["javascript", "jquery", "html"], "comments": [{"owner": {"reputation": 26112, "user_id": 8526705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buwQ5.jpg?s=128&g=1", "display_name": "Dacre Denny", "link": "https://stackoverflow.com/users/8526705/dacre-denny"}, "edited": false, "score": 0, "creation_date": 1576101059, "post_id": 59294512, "comment_id": 104793799, "body": "Do you mean, you need to update the text content of the div so that it shows the value of the button when the button is clicked?"}, {"owner": {"reputation": 4326, "user_id": 3281014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIpXo.jpg?s=128&g=1", "display_name": "Nawed Khan", "link": "https://stackoverflow.com/users/3281014/nawed-khan"}, "edited": false, "score": 0, "creation_date": 1576101073, "post_id": 59294512, "comment_id": 104793803, "body": "A div element does not have a Value. Only input fields have values. In a div you have innerhtml .html() or innertext .text()."}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 12375571, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dVJxL.jpg?s=128&g=1", "display_name": "Matthew Wright", "link": "https://stackoverflow.com/users/12375571/matthew-wright"}, "edited": false, "score": 0, "creation_date": 1576102095, "post_id": 59294730, "comment_id": 104794137, "body": "I don&#39;t see where you are using the <code>var updateUserValue</code>. Can you please clarify?"}, {"owner": {"reputation": 26112, "user_id": 8526705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buwQ5.jpg?s=128&g=1", "display_name": "Dacre Denny", "link": "https://stackoverflow.com/users/8526705/dacre-denny"}, "reply_to_user": {"reputation": 55, "user_id": 12375571, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dVJxL.jpg?s=128&g=1", "display_name": "Matthew Wright", "link": "https://stackoverflow.com/users/12375571/matthew-wright"}, "edited": false, "score": 1, "creation_date": 1576102257, "post_id": 59294730, "comment_id": 104794207, "body": "@MatthewWright my apologies - that was a typo on my part, just corrected the answer :)"}, {"owner": {"reputation": 55, "user_id": 12375571, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dVJxL.jpg?s=128&g=1", "display_name": "Matthew Wright", "link": "https://stackoverflow.com/users/12375571/matthew-wright"}, "edited": false, "score": 0, "creation_date": 1576102418, "post_id": 59294730, "comment_id": 104794250, "body": "Understood. I also went into the code and saw where to make the change."}, {"owner": {"reputation": 26112, "user_id": 8526705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buwQ5.jpg?s=128&g=1", "display_name": "Dacre Denny", "link": "https://stackoverflow.com/users/8526705/dacre-denny"}, "reply_to_user": {"reputation": 55, "user_id": 12375571, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dVJxL.jpg?s=128&g=1", "display_name": "Matthew Wright", "link": "https://stackoverflow.com/users/12375571/matthew-wright"}, "edited": false, "score": 0, "creation_date": 1576102479, "post_id": 59294730, "comment_id": 104794274, "body": "Cool, all the best with your project :)"}], "tags": [], "owner": {"reputation": 26112, "user_id": 8526705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buwQ5.jpg?s=128&g=1", "display_name": "Dacre Denny", "link": "https://stackoverflow.com/users/8526705/dacre-denny"}, "is_accepted": true, "score": 3, "last_activity_date": 1576102235, "last_edit_date": 1576102235, "creation_date": 1576101512, "answer_id": 59294730, "question_id": 59294512, "link": "https://stackoverflow.com/questions/59294512/javascript-how-to-assign-value-of-button-element-to-another-div-element/59294730#59294730", "title": "JavaScript: How to assign value of button element to another div element?", "body": "<p>There are two issues here; the first is that the following line of Razor will write a hidden <code>&lt;input /&gt;</code> element to your document (rather than a <code>&lt;div&gt;</code>):</p>\n\n<pre><code>// Produces &lt;input type=\"hidden\" class=\"updateUserId\" ... /&gt;\n@Html.HiddenFor(m =&gt; m.User_Id, new { @class = \"updateUserId\" })\n</code></pre>\n\n<p>This means that you'll need to update your script to select the element as an <code>input</code> (rather than as a <code>div</code>) in order to update it's value. </p>\n\n<p>The second issue is with your logic in applying the button value to the hidden input during the click event. One way to achieve what you require would be to make the following tweaks:</p>\n\n<pre><code>    $(document).ready(function () {\n\n        $('button.updateUser').click(function (event) {\n\n            // Prevent possible form submission?\n            event.preventDefault()\n\n            // Obtain user value from this updateUser button\n            var updateUserValue = $(this).val();\n\n            // Select hidden input with class updateUserId and update \n            // the value to that of the button\n            $('input.updateUserId').val(updateUserValue);\n        });\n    });\n</code></pre>\n\n<p>Hope that helps!</p>\n"}], "owner": {"reputation": 55, "user_id": 12375571, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dVJxL.jpg?s=128&g=1", "display_name": "Matthew Wright", "link": "https://stackoverflow.com/users/12375571/matthew-wright"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 59294730, "answer_count": 1, "score": 2, "last_activity_date": 1576113339, "creation_date": 1576100378, "last_edit_date": 1576113339, "question_id": 59294512, "link": "https://stackoverflow.com/questions/59294512/javascript-how-to-assign-value-of-button-element-to-another-div-element", "title": "JavaScript: How to assign value of button element to another div element?", "body": "<p>I need to set the value of a hidden div so that it equals the value of a button. I think my code below is the correct way to do it, however when I click the 'Edit' button, I do not see the value update for the div.</p>\n\n<p><strong>Button</strong></p>\n\n<pre><code>&lt;td&gt;\n&lt;button id=\"@user.UserId\" class=\"updateUser\" value=\"@user.UserId\"&gt;Edit&lt;/button&gt;\n&lt;/td&gt;\n</code></pre>\n\n<p><strong>Div</strong></p>\n\n<pre><code>@Html.HiddenFor(m =&gt; m.User_Id, new { @class = \"updateUserId\" })\n</code></pre>\n\n<p><strong>jQuery</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n        $(document).ready(function () {\n            var updateUserId = $('div.updateUserId').val();\n            $('button.updateUser').click(function () {\n                updateUserId = $('button.updateUser').val();\n                return updateUserId;\n            })\n        })\n    &lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1576100400, "post_id": 59294452, "comment_id": 104793567, "body": "Basically <a href=\"https://stackoverflow.com/questions/9336148/set-value-of-object-using-a-string-as-the-key\" title=\"set value of object using a string as the key\">stackoverflow.com/questions/9336148/&hellip;</a> Using the answer <code>setKey(&#39;style.backgroundColor&#39;, &#39;black&#39;, allElements[i])</code>"}], "answers": [{"tags": [], "owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "is_accepted": true, "score": 2, "last_activity_date": 1576158461, "last_edit_date": 1576158461, "creation_date": 1576100645, "answer_id": 59294562, "question_id": 59294452, "link": "https://stackoverflow.com/questions/59294452/is-there-any-way-to-set-a-style-for-a-dom-object-with-a-variable/59294562#59294562", "title": "Is there any way to set a style for a DOM object with a variable?", "body": "<p>This can be done, but not the way you are doing it. You'll need to pass (as an index, using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Property_accessors\" rel=\"nofollow noreferrer\">bracket notation</a>) the CSS property name (a string) into the object returned by accessing the <code>.style</code> property. </p>\n\n<p>Also, <a href=\"https://stackoverflow.com/questions/54952088/how-to-modify-style-to-html-elements-styled-externally-with-css-using-js/54952474#54952474\">don't use <code>.getElementsByTagName()</code></a> as it's a 25+ year old API that returns a \"live\" node list, which can hurt performance. Instead, use <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll\" rel=\"nofollow noreferrer\"><code>.querySelectorAll()</code></a> and loop over the returned collection with the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\" rel=\"nofollow noreferrer\"><code>Array.forEach()</code></a> method, which is an alternative to a traditional <code>for</code> counting loop that is a bit easier to work with since you don't have to manage any loop counters and get direct access to the element you are iterating.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var allElements = document.querySelectorAll('*');\r\n\r\nvar tag = 'backgroundColor'; // Just store the name of the CSS property\r\nvar val = 'black';\r\n\r\n// Use the more modern Array.forEach() method of looping\r\nallElements.forEach(function(element){\r\n  element.style[tag] = val; // Pass the style object's property name as an index\r\n});\r\n </code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>* { color:white; border:2px solid white; }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div&gt;This is a div&lt;br&gt;that spans two lines.&lt;div&gt;\r\n&lt;p&gt;Here's a paragraph&lt;/p&gt;\r\n&lt;h1&gt;And a Heading 1&lt;/h1&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 15, "user_id": 11720019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d510426ea8d59a4602d58a7b14f7bb6d?s=128&d=identicon&r=PG&f=1", "display_name": "Cats_ur_cool", "link": "https://stackoverflow.com/users/11720019/cats-ur-cool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "accepted_answer_id": 59294562, "answer_count": 1, "score": 0, "last_activity_date": 1576158461, "creation_date": 1576100143, "question_id": 59294452, "link": "https://stackoverflow.com/questions/59294452/is-there-any-way-to-set-a-style-for-a-dom-object-with-a-variable", "title": "Is there any way to set a style for a DOM object with a variable?", "body": "<p>I have here some code, in which I am trying to change all of something on a page.</p>\n\n<pre><code>var allElements = document.getElementsByTagName('*');\n\nvar tag = '.style.backgroundColor';\nvar val = 'black';\n\nfor (var i = 0; i &lt; allElements.length;i++) {\n  allElements[i] + tag = val;\n}\n</code></pre>\n\n<p>How can I make this work?</p>\n"}, {"tags": ["javascript", "reactjs", "frontend"], "comments": [{"owner": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "edited": false, "score": 0, "creation_date": 1576102742, "post_id": 59294436, "comment_id": 104794345, "body": "It sounds like what you&#39;re after is an <a href=\"https://en.wikipedia.org/wiki/Directed_acyclic_graph\" rel=\"nofollow noreferrer\">directed acyclic graph</a>, if I am not mistaken.. You should be able to use something like <a href=\"https://github.com/ajainarayanan/react-dag\" rel=\"nofollow noreferrer\">react-dag</a> for this.. <a href=\"http://react-dag-app.surge.sh/\" rel=\"nofollow noreferrer\">Demo</a> of <code>react-dag</code>..."}, {"owner": {"reputation": 65, "user_id": 11794209, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-DaqhROhGj5Y/AAAAAAAAAAI/AAAAAAAAAlM/9dbRhnRSCNU/photo.jpg?sz=128", "display_name": "Stanila Andrei", "link": "https://stackoverflow.com/users/11794209/stanila-andrei"}, "reply_to_user": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "edited": false, "score": 0, "creation_date": 1576107519, "post_id": 59294436, "comment_id": 104795760, "body": "I would prefer something with customizable or curved edges arrows."}, {"owner": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "edited": false, "score": 0, "creation_date": 1576108762, "post_id": 59294436, "comment_id": 104796062, "body": "It looks like you <a href=\"https://docs.jsplumbtoolkit.com/toolkit/current/articles/views\" rel=\"nofollow noreferrer\">can customize</a> the views.. <code>react-dag</code> is a wrapper for <code>jsPlumb</code> and you can supply your own config.. Otherwise, I&#39;m sure you can edit the look/feel via CSS..."}], "owner": {"reputation": 65, "user_id": 11794209, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-DaqhROhGj5Y/AAAAAAAAAAI/AAAAAAAAAlM/9dbRhnRSCNU/photo.jpg?sz=128", "display_name": "Stanila Andrei", "link": "https://stackoverflow.com/users/11794209/stanila-andrei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1576100059, "creation_date": 1576100059, "question_id": 59294436, "link": "https://stackoverflow.com/questions/59294436/react-ciclic-graph-for-skill-tree", "title": "React ciclic graph for skill tree", "body": "<p>What and how I should create a graph for a skill tree. It's like a tree but a child can have more parents and a parent can have child from a level higher with more than 1. Here is a photo. I'm mostly interested in the arrows between them and I want to make then rounded like a bezier curve or something similar.\n<a href=\"https://i.stack.imgur.com/zIUpD.png\" rel=\"nofollow noreferrer\">preview of what I want</a> </p>\n\n<p><a href=\"https://i.stack.imgur.com/2Ttzl.gif\" rel=\"nofollow noreferrer\">other example</a></p>\n"}, {"tags": ["javascript", "jquery", "html", "model-view-controller"], "comments": [{"owner": {"reputation": 1865, "user_id": 5744718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c091b198fce4dd8b2f89083424eba63?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/5744718/sam"}, "edited": false, "score": 1, "creation_date": 1576102754, "post_id": 59294435, "comment_id": 104794352, "body": "I think, ViewComments is invoked twice after &quot;saveComments&quot; happen. Please have breakpoints and debug."}, {"owner": {"reputation": 51, "user_id": 10975424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd7d71c5e09bc0014290333245878651?s=128&d=identicon&r=PG&f=1", "display_name": "N.Sant", "link": "https://stackoverflow.com/users/10975424/n-sant"}, "reply_to_user": {"reputation": 1865, "user_id": 5744718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c091b198fce4dd8b2f89083424eba63?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/5744718/sam"}, "edited": false, "score": 0, "creation_date": 1576163199, "post_id": 59294435, "comment_id": 104817141, "body": "By debugging it looks like the add button runs twice, but that happens not the first time around instead when I click on another Comments link and try to add.  So it is for the save all button as it saves the same thing to the database twice.  Could anyone suggest what code changes I should make?  I cannot seem to see the error.  Thank you very much."}], "owner": {"reputation": 51, "user_id": 10975424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd7d71c5e09bc0014290333245878651?s=128&d=identicon&r=PG&f=1", "display_name": "N.Sant", "link": "https://stackoverflow.com/users/10975424/n-sant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576100053, "creation_date": 1576100053, "question_id": 59294435, "link": "https://stackoverflow.com/questions/59294435/jquery-javascript-adds-an-extra-row-to-the-table-in-mvc", "title": "jQuery Javascript adds an extra row to the table in MVC", "body": "<p>I have a main view which has a \"Comments\" link on each row that when clicked it opens up a partial view. The partial view displays a table and textboxes, and an \"Add\" button that when clicked it adds the data entered in the textboxes to the table.</p>\n\n<p>The first time I click on comments, I add data to the textboxes and hit the Add button and everything works.</p>\n\n<p>The problem is:  when I open the partial view from another record(by clicking on Comments) and add data to the textboxes, after I click on add it adds an extra blank row.  It is as if the add button is clicked twice.  Could you please help me solve this issue?  The code I am using is below. I also attached pics.\nThank you very much.</p>\n\n<p><strong>PARTIAL VIEW:</strong></p>\n\n<pre><code>    @model IEnumerable&lt;HelpDeskSupport.Models.Comment&gt;\n\n    &lt;html&gt;\n    &lt;body&gt;\n&lt;table class=\"table table-striped table-bordered\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"1500\" id=\"tblComments\"&gt;\n    &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th&gt;\n                @Html.DisplayNameFor(model =&gt; model.TicketNumber)\n            &lt;/th&gt;\n            &lt;th&gt;\n                @Html.DisplayNameFor(model =&gt; model.Comment1)\n            &lt;/th&gt;\n            &lt;th&gt;\n                @Html.DisplayNameFor(model =&gt; model.AssignedTo)\n            &lt;/th&gt;\n            &lt;th&gt;\n                @Html.DisplayNameFor(model =&gt; model.CreatedBy)\n            &lt;/th&gt;\n            &lt;th&gt;\n                @Html.DisplayNameFor(model =&gt; model.Date)\n            &lt;/th&gt;\n        &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n        @foreach (var item in Model)\n        {\n            &lt;tr&gt;\n                &lt;td&gt;\n                    @Html.DisplayFor(modelItem =&gt; item.TicketNumber)\n                &lt;/td&gt;\n                &lt;td&gt;\n                    @Html.DisplayFor(modelItem =&gt; item.Comment1)\n                &lt;/td&gt;\n                &lt;td&gt;\n                    @Html.DisplayFor(modelItem =&gt; item.AssignedTo)\n                &lt;/td&gt;\n                &lt;td&gt;\n                    @Html.DisplayFor(modelItem =&gt; item.CreatedBy)\n                &lt;/td&gt;\n                &lt;td&gt;\n                    @Html.DisplayFor(modelItem =&gt; item.Date)\n                &lt;/td&gt;\n            &lt;/tr&gt;\n        }\n\n    &lt;/tbody&gt;\n    &lt;tfoot&gt;\n        &lt;tr&gt;\n            &lt;td&gt;&lt;input type=\"text\" id=\"txtTicketNumber\" value=@ViewData[\"NumberFromViewAll\"] readonly /&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;input type=\"text\" id=\"txtComment\" /&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;input type=\"text\" id=\"txtAssignedTo\" /&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;input type=\"text\" id=\"txtCreatedBy\" /&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;input type=\"text\" id=\"txtDate\" /&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;input type=\"button\" id=\"btnAddComment\" value=\"Add\" /&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/tfoot&gt;\n&lt;/table&gt;\n&lt;br /&gt;\n&lt;input type=\"button\" id=\"btnSave\" value=\"Save All\" /&gt;\n\n@*&lt;script type=\"text/javascript\" src=\"http://ajax.cdnjs.com/ajax/libs/json2/20110223/json2.js\"&gt;&lt;/script&gt;*@\n&lt;script src=\"~/Scripts/json2.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n    $(\"body\").on(\"click\", \"#btnAddComment\", function () {\n        //Reference the TextBoxes\n        var txtTicketNumber = $(\"#txtTicketNumber\");\n        var txtComment = $(\"#txtComment\");\n        var txtAssignedTo = $(\"#txtAssignedTo\");\n        var txtCreatedBy = $(\"#txtCreatedBy\");\n        var txtDate = $(\"#txtDate\");\n\n        //Get the reference of the Table's TBODY element\n        var tableBody = $(\"#tblComments &gt; TBODY\")[0];\n        //Add Row\n        var row = tableBody.insertRow(-1);\n\n        //Add TicketNumber cell          \n        var cell = $(row.insertCell(-1));\n        cell.html(txtTicketNumber.val());\n\n        //Add Comment cell\n        cell = $(row.insertCell(-1));\n        cell.html(txtComment.val());\n\n        //Add AssignedTo cell\n        cell = $(row.insertCell(-1));\n        cell.html(txtAssignedTo.val());\n\n        //Add CreatedBy cell\n        cell = $(row.insertCell(-1));\n        cell.html(txtCreatedBy.val());\n\n        //Add Date cell\n        cell = $(row.insertCell(-1));\n        cell.html(txtDate.val());           \n\n        //Clear the TextBoxes\n        txtComment.val(\"\");\n        txtAssignedTo.val(\"\");\n        txtCreatedBy.val(\"\");\n        txtDate.val(\"\");\n    });\n\n    $(\"body\").on(\"click\", \"#btnSave\", function () {\n        //Loop through the Table rows and build a JSON array\n        var commentsArray = new Array();\n        $(\"#tblComments TBODY TR\").each(function () {\n            var row = $(this);\n            var commentLine = {};\n            commentLine.TicketNumber = row.find(\"TD\").eq(0).html();\n            commentLine.Comment1 = row.find(\"TD\").eq(1).html();\n            commentLine.AssignedTo = row.find(\"TD\").eq(2).html();\n            commentLine.CreatedBy = row.find(\"TD\").eq(3).html();\n            commentLine.Date = row.find(\"TD\").eq(4).html();\n            commentsArray.push(commentLine);\n        });\n\n        //Send the JSON array to Controller using AJAX\n        $.ajax({\n            type: \"POST\",\n            url: \"/Tickets/InsertComments\",\n            data: JSON.stringify(commentsArray),\n            contentType: \"application/json; charset=utf-8\",\n            dataType: \"json\",\n            success: function () {\n                alert(\"Comment(s) inserted.\");\n            }\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>\n</p>\n\n<p><strong>CONTROLLER:</strong></p>\n\n<pre><code>     //VIEW ALL COMMENTS AND DISPLAY IN PARTIAL\n    [HttpPost]\n    public ActionResult ViewComments(int ticketNum)\n    {\n        List&lt;Comment&gt; AllComments = new List&lt;Comment&gt;();\n        using (DBModel db = new DBModel())\n            AllComments = db.Comments.Where(x =&gt; x.TicketNumber == ticketNum).ToList();\n\n        //get iNumber from ViewAll to display in the ticket number textbox of the comments partial view\n        ViewData[\"NumberFromViewAll\"] = ticketNum;\n\n        return PartialView(\"ViewComments\", AllComments);\n    }\n\n    public JsonResult InsertComments(List&lt;Comment&gt; commentsArray)\n    {\n        using (DBModel db = new DBModel())\n        {\n            if (commentsArray != null)\n            {\n                var lastColumnComments = commentsArray.Last();\n                var ticketNumberToDelete = lastColumnComments.TicketNumber;\n                var sqlQuery = \"Delete [Comments] where TicketNumber = \" + ticketNumberToDelete;\n                //Delete all comments from comments table. Previous comments are copied in javascript and re-populated\n                db.Database.ExecuteSqlCommand(sqlQuery);\n            }\n\n            //Check for NULL\n            //if (commentsArray == null)\n            //{\n            //    commentsArray = new List&lt;Comment&gt;();\n            //}\n\n            foreach (Comment c in commentsArray)\n            {\n                db.Comments.Add(c);\n            }               \n            int insertedRecords = db.SaveChanges();\n            return Json(insertedRecords);\n        }\n    }\n</code></pre>\n\n<p><strong>IN CASE YOU WANT TO SEE HOW THE VIEWCOMMENTS IS DISPLAYED FROM THE MAIN VIEW:</strong></p>\n\n<pre><code>  @section modalComments\n{\n&lt;script type=\"text/javascript\"&gt;\n    function showComments() {\n        $(\"#dialog\").dialog({\n            autoOpen: false,\n            modal: true,\n            title: \"View Details\"\n        });\n        $(\"#ticketTable .details\").click(function () {\n            var ticketNum = $(this).closest(\"tr\").find(\"td\").eq(0).html();\n            $.ajax({\n                type: \"POST\",\n                url: \"/Tickets/ViewComments\",\n                data: '{ticketNum: \"' + ticketNum + '\" }',\n                contentType: \"application/json; charset=utf-8\",\n                dataType: \"html\",\n                success: function (response) {\n                    $('#dialog').html(response);\n                    $('#dialog').dialog('open');\n                },\n                failure: function (response) {\n                    alert(response.responseText);\n                },\n                error: function (response) {\n                    alert(response.responseText);\n                }\n            });\n        });\n    };\n\n    $(function () {\n        showComments();\n    });   \n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/hwI81.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hwI81.jpg\" alt=\"Main View\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/nVhNf.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nVhNf.jpg\" alt=\"Comments View\"></a></p>\n"}, {"tags": ["javascript", "reactjs", "import", "material-ui"], "comments": [{"owner": {"reputation": 1943, "user_id": 1839805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IvPfK.jpg?s=128&g=1", "display_name": "Arber Sylejmani", "link": "https://stackoverflow.com/users/1839805/arber-sylejmani"}, "edited": false, "score": 1, "creation_date": 1576100293, "post_id": 59294400, "comment_id": 104793519, "body": "This seems more like a issues with the server/webpack build config rather than the file. Does importing work for other npm packages?"}, {"owner": {"reputation": 699, "user_id": 9430279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MET0a.jpg?s=128&g=1", "display_name": "Shawn Yap", "link": "https://stackoverflow.com/users/9430279/shawn-yap"}, "edited": false, "score": 1, "creation_date": 1576100324, "post_id": 59294400, "comment_id": 104793534, "body": "The packages might have messed up somehow, try deleting the node_module and npm cache and rerun npm install"}, {"owner": {"reputation": 1890, "user_id": 1502289, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1861f9453d0aae6608c8520c1461ad16?s=128&d=identicon&r=PG", "display_name": "Ryan Griggs", "link": "https://stackoverflow.com/users/1502289/ryan-griggs"}, "edited": false, "score": 0, "creation_date": 1576100469, "post_id": 59294400, "comment_id": 104793596, "body": "I just installed everything fresh.  node, http-server, material-ui, react, etc."}, {"owner": {"reputation": 1890, "user_id": 1502289, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1861f9453d0aae6608c8520c1461ad16?s=128&d=identicon&r=PG", "display_name": "Ryan Griggs", "link": "https://stackoverflow.com/users/1502289/ryan-griggs"}, "edited": false, "score": 0, "creation_date": 1576100504, "post_id": 59294400, "comment_id": 104793618, "body": "How is it supposed to work? Does &#39;import&#39; look for a specific file in the referenced directory?  Because @material-ui/core/Button is a directory, not a file."}, {"owner": {"reputation": 42001, "user_id": 7495930, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BvE1j04g-0c/AAAAAAAAAAI/AAAAAAAAB34/GwTEooh9wPo/photo.jpg?sz=128", "display_name": "Ryan Cogswell", "link": "https://stackoverflow.com/users/7495930/ryan-cogswell"}, "edited": false, "score": 0, "creation_date": 1576101052, "post_id": 59294400, "comment_id": 104793797, "body": "Have you imported any other (outside of Material-UI) packages successfully? or is this your first attempt to import something?"}, {"owner": {"reputation": 1145, "user_id": 164545, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/b3e8be884ca4ff5e8e75030bff50d99c?s=128&d=identicon&r=PG", "display_name": "Seanonymous", "link": "https://stackoverflow.com/users/164545/seanonymous"}, "edited": false, "score": 0, "creation_date": 1576101745, "post_id": 59294400, "comment_id": 104794023, "body": "How are you loading the React app? Are you serving it from NPM?"}, {"owner": {"reputation": 1890, "user_id": 1502289, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1861f9453d0aae6608c8520c1461ad16?s=128&d=identicon&r=PG", "display_name": "Ryan Griggs", "link": "https://stackoverflow.com/users/1502289/ryan-griggs"}, "edited": false, "score": 0, "creation_date": 1576105047, "post_id": 59294400, "comment_id": 104795067, "body": "I will post the full project above."}, {"owner": {"reputation": 42001, "user_id": 7495930, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BvE1j04g-0c/AAAAAAAAAAI/AAAAAAAAB34/GwTEooh9wPo/photo.jpg?sz=128", "display_name": "Ryan Cogswell", "link": "https://stackoverflow.com/users/7495930/ryan-cogswell"}, "edited": false, "score": 0, "creation_date": 1576183935, "post_id": 59294400, "comment_id": 104826944, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/54636839/react-material-ui-pure-javascript\">React Material-UI pure javascript</a>"}], "owner": {"reputation": 1890, "user_id": 1502289, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1861f9453d0aae6608c8520c1461ad16?s=128&d=identicon&r=PG", "display_name": "Ryan Griggs", "link": "https://stackoverflow.com/users/1502289/ryan-griggs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 509, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576105196, "creation_date": 1576099882, "last_edit_date": 1576105196, "question_id": 59294400, "link": "https://stackoverflow.com/questions/59294400/react-importing-material-ui-components-not-working", "title": "React importing material-ui components not working", "body": "<p>I'm new to React.  I have a local development server (node http-server) and have installed <a href=\"https://github.com/mui-org/material-ui\" rel=\"nofollow noreferrer\">material-ui</a> package.</p>\n\n<p>According to the material-ui docs, to add a component, I simply import it like any other module:</p>\n\n<pre><code>import Button from '@material-ui/core/Button';\n</code></pre>\n\n<p>However, when I try this, my webserver is returning a 404 and Firefox console outputs this: <code>Loading module from \u201chttp://localhost:8080/node_modules/@material-ui/core/Button/\u201d was blocked because of a disallowed MIME type (\u201ctext/html\u201d)</code></p>\n\n<p>The directory is accessible because I can reference the <code>./node_modules/@material-ui/core/Button/Button.js</code> file and it is returned by http-server.  But if I import that file, I get </p>\n\n<pre><code>SyntaxError: import not found: default.\n</code></pre>\n\n<p>I've tried importing index.js from that directory, but get same error.</p>\n\n<p>How do I import the Button component (as shown in the material-ui example) correctly?</p>\n\n<p>Here is my code (being served by http-server on localhost:8080)\n(I am using npx babel to compile the JSX to js before serving)</p>\n\n<p>test.html:</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n\n    &lt;meta charset=\"UTF-8\"&gt;\n\n    &lt;title&gt;Test React&lt;/title&gt;\n\n    &lt;script crossorigin src=\"https://unpkg.com/react@16/umd/react.development.js\"&gt;&lt;/script&gt;\n    &lt;script crossorigin src=\"https://unpkg.com/react-dom@16/umd/react-dom.development.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div id=\"app\"&gt;&lt;/div&gt;\n\n\n    &lt;!-- React scripts --&gt;\n\n\n    &lt;script type=\"module\" src=\"./test.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>test.js:</p>\n\n<pre><code>import { Mod1 } from './module1.js';\nexport class TestComponent extends React.Component\n{\n    render()\n    {\n        return &lt;h1&gt;Hello world!&lt;/h1&gt;;\n    }\n}\n\nexport const TestC2 = () =&gt; \n{\n    return &lt;h2&gt;This is a h2&lt;/h2&gt;;\n}\n\n\n\nReactDOM.render(&lt;div&gt;&lt;TestComponent /&gt;&lt;TestC2 /&gt;&lt;Mod1 /&gt;&lt;/div&gt;, document.getElementById('app'));\n</code></pre>\n\n<p>module1.js</p>\n\n<pre><code>// module1\nimport Button from './node_modules/@material-ui/core/Button';\nexport class Mod1 extends React.Component\n{\n    constructor(props)\n    {\n        super(props);\n\n        this.state = {};\n\n\n    }\n\n    componentWillMount(props)\n    {\n        console.log(\"willMount\", props);\n    }\n\n    componentDidMount(pp, ps)\n    {\n        console.log(\"didMount\", pp, ps);\n    }\n\n    render()\n    {\n        console.log('render', this.props, this.state);\n        return &lt;Button /&gt;;\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "asp.net", "input", "text"], "comments": [{"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 1, "creation_date": 1576100075, "post_id": 59294389, "comment_id": 104793421, "body": "That&#39;s because your using <code>innerHtml</code> you should be setting the value instead."}], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 9525092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8cb1ed58c078b5b86ba57014a4c467?s=128&d=identicon&r=PG&f=1", "display_name": "Maxi", "link": "https://stackoverflow.com/users/9525092/maxi"}, "edited": false, "score": 0, "creation_date": 1576100340, "post_id": 59294468, "comment_id": 104793545, "body": "Hi there, thanks for replying, unfortunately, I did that as well, but the textbox its self becomes disabled, I can&#39;t type anything in the textbox where I want to copy the text from."}, {"owner": {"reputation": 109, "user_id": 9525092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8cb1ed58c078b5b86ba57014a4c467?s=128&d=identicon&r=PG&f=1", "display_name": "Maxi", "link": "https://stackoverflow.com/users/9525092/maxi"}, "edited": false, "score": 0, "creation_date": 1576100694, "post_id": 59294468, "comment_id": 104793689, "body": "Yup that worked, there is still one issue, when I type in something in the text box, the Initial1 textbox only copies over 1st letter, if I type in 3 letters it only copies over 2 letters, why is that?"}, {"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "reply_to_user": {"reputation": 109, "user_id": 9525092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8cb1ed58c078b5b86ba57014a4c467?s=128&d=identicon&r=PG&f=1", "display_name": "Maxi", "link": "https://stackoverflow.com/users/9525092/maxi"}, "edited": false, "score": 1, "creation_date": 1576101372, "post_id": 59294468, "comment_id": 104793898, "body": "Because the value doesn&#39;t change until <code>onkeypress</code> is finished. Try another event like <code>onchange</code> or <code>onKeyUp</code>"}, {"owner": {"reputation": 385, "user_id": 7201721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lqCOC.jpg?s=128&g=1", "display_name": "Majdi Saibi", "link": "https://stackoverflow.com/users/7201721/majdi-saibi"}, "edited": false, "score": 2, "creation_date": 1576101449, "post_id": 59294468, "comment_id": 104793924, "body": "Use <code>onKeyUp</code> instead of <code>onKeyPress</code>   <code>keypress</code> Fires when an actual character is being inserted in, for instance, a text input. It repeats while the user keeps the key depressed.     <code>keyup</code> Fires when the user releases a key, after the default action of that key has been performed."}], "tags": [], "owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "is_accepted": true, "score": 1, "last_activity_date": 1576100453, "last_edit_date": 1576100453, "creation_date": 1576100207, "answer_id": 59294468, "question_id": 59294389, "link": "https://stackoverflow.com/questions/59294389/copying-text-from-one-text-box-to-another-using-java-script/59294468#59294468", "title": "Copying text from one text box to another using java script", "body": "<p>Using <code>InnerHtml</code> will not set the value of a text box. <code>InnerHTML</code> replaces the <code>HTML</code> inside of the input.</p>\n\n<p>Try setting the textbox with this value</p>\n\n<pre><code>document.getElementById(\"initial1\").value = UI;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>document.getElementById(\"&lt;%= initial1.ClientID %&gt;\").value = UI;\n</code></pre>\n\n<p>Edit:</p>\n\n<p>Your textbox is disabled because you have</p>\n\n<pre><code>onkeypress=\"copyText(); return false\" \n</code></pre>\n\n<p>you need to <code>return true</code></p>\n"}], "owner": {"reputation": 109, "user_id": 9525092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8cb1ed58c078b5b86ba57014a4c467?s=128&d=identicon&r=PG&f=1", "display_name": "Maxi", "link": "https://stackoverflow.com/users/9525092/maxi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 1, "accepted_answer_id": 59294468, "answer_count": 1, "score": 3, "last_activity_date": 1576100453, "creation_date": 1576099839, "last_edit_date": 1576100434, "question_id": 59294389, "link": "https://stackoverflow.com/questions/59294389/copying-text-from-one-text-box-to-another-using-java-script", "title": "Copying text from one text box to another using java script", "body": "<p>I am hoping to get this fixed, so I have a textbox that's for initials and I want to copy that to the next 26 initial boxes so it's a bit easier for the user. </p>\n\n<p>I want to do this on the Client-Side so I don't use up the performance on the server-side.</p>\n\n<p>The issue I am having is that whenever I call the function that's supposed to copy the text over, somehow disables the textbox, I am unable to type anything in the textbox. Please see the code below, please let me know where I am going wrong! </p>\n\n<pre><code>     &lt;script type=\"text/javascript\"&gt;\n        function copyText() {\n\n            var UI = document.getElementById(\"txtinitialOriginal\").value;\n\n            document.getElementById(\"initial1\").innerHTML = UI;\n        }\n    &lt;/script&gt;\n&lt;input type=\"text\" onkeypress=\"copyText(); return false\" runat=\"server\" id=\"txtinitialOriginal\" style=\"font-size:20px\"  /&gt; \n\n &lt;asp:TextBox ID=\"initial1\"  placeholder=\"Initial Here\" style=\"float:right\" runat=\"server\"&gt;&lt;/asp:TextBox&gt;\n</code></pre>\n\n<p>What am I doing wrong? </p>\n"}, {"tags": ["javascript", "laravel", "vue.js"], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 12311699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ed58fa942c19d1a233f6ba3161fb01c?s=128&d=identicon&r=PG&f=1", "display_name": "user12311699", "link": "https://stackoverflow.com/users/12311699/user12311699"}, "edited": false, "score": 0, "creation_date": 1576102360, "post_id": 59294874, "comment_id": 104794238, "body": "i changed it to comment.body and it works :\\ . why this. does not work? <code>was this intended?</code> YES"}, {"owner": {"reputation": 59, "user_id": 12311699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ed58fa942c19d1a233f6ba3161fb01c?s=128&d=identicon&r=PG&f=1", "display_name": "user12311699", "link": "https://stackoverflow.com/users/12311699/user12311699"}, "edited": false, "score": 0, "creation_date": 1576102719, "post_id": 59294874, "comment_id": 104794341, "body": "I&#39;m handling the edit like this <code>&lt;div v-if=&quot;editing == comment.id &amp;&amp; editingMode == true&quot; &gt;</code> setting the editing to comment id onclick"}], "tags": [], "owner": {"reputation": 26792, "user_id": 734040, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/p1dqF.jpg?s=128&g=1", "display_name": "Decade Moon", "link": "https://stackoverflow.com/users/734040/decade-moon"}, "is_accepted": true, "score": 1, "last_activity_date": 1576102379, "last_edit_date": 1576102379, "creation_date": 1576102215, "answer_id": 59294874, "question_id": 59294363, "link": "https://stackoverflow.com/questions/59294363/v-model-in-textarea-editing-state/59294874#59294874", "title": "v-model in textarea / Editing state", "body": "<p>You are shadowing the <code>comment</code> property defined on the component with the <code>comment</code> variable declared inside the <code>v-for</code>. So <code>v-model=\"comment.body\"</code> references the <code>comment</code> loop variable, was this intended?</p>\n\n<p>So now <code>this.comment.body</code> in the method will always be an empty string, as opposed to <code>comment.body</code>.</p>\n\n<p>What is the purpose of the <code>comment</code> data property? I would expect this is so that you can only edit one comment at a time and it will contain data related to the comment being edited, but you are binding to the individual <code>comment.body</code> in the template and passing the loop <code>comment</code> object to <code>editComment()</code>, so that isn't the case.</p>\n"}], "owner": {"reputation": 59, "user_id": 12311699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ed58fa942c19d1a233f6ba3161fb01c?s=128&d=identicon&r=PG&f=1", "display_name": "user12311699", "link": "https://stackoverflow.com/users/12311699/user12311699"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 59294874, "answer_count": 1, "score": 0, "last_activity_date": 1576102379, "creation_date": 1576099721, "last_edit_date": 1576100401, "question_id": 59294363, "link": "https://stackoverflow.com/questions/59294363/v-model-in-textarea-editing-state", "title": "v-model in textarea / Editing state", "body": "<p>I have a comments component which shows all the comments .</p>\n\n<p>the user can edit the comment. </p>\n\n<p>I'm trying to get the comment in v-model so the user can edit it .</p>\n\n<pre><code>       &lt;div v-if=\"editing == comment.id &amp;&amp; editingMode == true\" :key=\"comment.id\"&gt;\n            &lt;textarea\n              class=\"form-control\"\n              :class=\"{ 'is-invalid': editError.length &gt; 0 }\"\n              v-model=\"comment.body\"\n              :id=\"comment.id\"\n              @input=\"removeEdit\"\n              :placeholder=\"comment.body\"\n            &gt;{{ comment.body }}&lt;/textarea&gt;\n            &lt;span class=\"invalid-feedback\" role=\"alert\" v-if=\"editError.length &gt; 0\"&gt;\n              &lt;small&gt;{{ editError.toString() }}&lt;/small&gt;\n            &lt;/span&gt;\n            &lt;br /&gt;\n            &lt;button class=\"btn btn-xs btn-success\" @click=\"editComment(comment)\"&gt;save&lt;/button&gt;\n            &lt;loading :active.sync=\"loadingEdit\" :is-full-page=\"false\"&gt;&lt;/loading&gt;\n          &lt;/div&gt;\n</code></pre>\n\n<p>the code above is inside <code>v-for</code> :</p>\n\n<pre><code> &lt;div v-for=\"comment in comments\" :key=\"comment.id\" v-if=\"comment.parent == null\"&gt;\n</code></pre>\n\n<p>I have <code>comment.body</code> in <code>data()</code> </p>\n\n<pre><code> comment: {\n        body: \"\",\n        id: \"\",\n      },\n</code></pre>\n\n<p>when i click edit i see the comment in the textarea but when i click save the editComment method fetchs the comments again and the comment is not getting saved .</p>\n\n<p>editcomment method :</p>\n\n<pre><code>   editComment(comment) {\n      this.editingMode = true;\n      this.loadingEdit = true;\n      axios\n        .put(`/comment/${this.post}/${comment.id}/reply/user/update`, {\n          comment: this.comment.body\n        })\n        .then(res =&gt; {\n          this.editingMode = false;\n          this.fetchComments();\n          this.loadingEdit = false;\n        })\n        .catch(err =&gt; {\n          this.loadingEdit = false;\n\n        });\n    },\n</code></pre>\n\n<p>the problem is not in my backend code . </p>\n\n<p>When i hit save i can see in vue tools that the comment.body is getting reset to the old value.</p>\n\n<p>when i console.log  the <code>comment.body</code> in <code>editComment()</code> i can see the new value . \nAny idea whats wrong?</p>\n"}, {"tags": ["javascript", "vue.js", "vuetify.js"], "comments": [{"owner": {"reputation": 13559, "user_id": 381282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d2a1d1820d474408cc6382716b9935f?s=128&d=identicon&r=PG", "display_name": "Michal Lev&#253;", "link": "https://stackoverflow.com/users/381282/michal-lev%c3%bd"}, "edited": false, "score": 0, "creation_date": 1576101478, "post_id": 59294339, "comment_id": 104793934, "body": "And when <code>thing</code> prop will change (in a parent), you&#39;ll loose current value of <code>someLocalThing</code>. Why you merging them into single object like that ? Seems like very bad idea...."}, {"owner": {"reputation": 21818, "user_id": 8583563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U42av.png?s=128&g=1", "display_name": "skirtle", "link": "https://stackoverflow.com/users/8583563/skirtle"}, "edited": false, "score": 0, "creation_date": 1576103548, "post_id": 59294339, "comment_id": 104794611, "body": "1. When you say <i>&#39;default value&#39;</i> do you mean <i>&#39;initial value&#39;</i>? It sounds like you&#39;re describing one of the scenarios covered here: <a href=\"https://vuejs.org/v2/guide/components-props.html#One-Way-Data-Flow\" rel=\"nofollow noreferrer\">vuejs.org/v2/guide/components-props.html#One-Way-Data-Flow</a> 2. <i>&#39;... to properly copy props to local data ... you need to use Computed props.&#39;</i> - I&#39;m unclear what you mean by that but in general I don&#39;t think this is a good way to think about the relationship between props and computed properties."}, {"owner": {"reputation": 12173, "user_id": 458060, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/0f746b15bd9823711c8e570bfabe1033?s=128&d=identicon&r=PG", "display_name": "George Katsanos", "link": "https://stackoverflow.com/users/458060/george-katsanos"}, "edited": false, "score": 0, "creation_date": 1576143338, "post_id": 59294339, "comment_id": 104805901, "body": "I think this clarifies my issue: <a href=\"https://codesandbox.io/s/vuetify-2x-scope-issues-ct0hu\" rel=\"nofollow noreferrer\">codesandbox.io/s/vuetify-2x-scope-issues-ct0hu</a>"}, {"owner": {"reputation": 949, "user_id": 8482368, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EpzuO.jpg?s=128&g=1", "display_name": "Daniyal Lukmanov", "link": "https://stackoverflow.com/users/8482368/daniyal-lukmanov"}, "edited": false, "score": 0, "creation_date": 1576144237, "post_id": 59294339, "comment_id": 104806408, "body": "Totally wrong way to use <code>vue</code>. If you want to set <code>default</code> values use <code>life cycle hooks</code> and store those data in <code>data</code>. Then you can manipulate them as much as you need."}, {"owner": {"reputation": 12173, "user_id": 458060, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/0f746b15bd9823711c8e570bfabe1033?s=128&d=identicon&r=PG", "display_name": "George Katsanos", "link": "https://stackoverflow.com/users/458060/george-katsanos"}, "edited": false, "score": 0, "creation_date": 1576144408, "post_id": 59294339, "comment_id": 104806501, "body": "Storing in <code>data</code> has another issue: <a href=\"https://codesandbox.io/s/vuetify-2x-scope-issues-ct0hu\" rel=\"nofollow noreferrer\">codesandbox.io/s/vuetify-2x-scope-issues-ct0hu</a>"}], "answers": [{"comments": [{"owner": {"reputation": 12173, "user_id": 458060, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/0f746b15bd9823711c8e570bfabe1033?s=128&d=identicon&r=PG", "display_name": "George Katsanos", "link": "https://stackoverflow.com/users/458060/george-katsanos"}, "edited": false, "score": 0, "creation_date": 1576143198, "post_id": 59295169, "comment_id": 104805821, "body": "Hey Michal, I managed to reproduce my exact bug : <a href=\"https://codesandbox.io/s/vuetify-2x-scope-issues-ct0hu\" rel=\"nofollow noreferrer\">codesandbox.io/s/vuetify-2x-scope-issues-ct0hu</a> . this is why I resorted to Computed. local data didn&#39;t work."}, {"owner": {"reputation": 13559, "user_id": 381282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d2a1d1820d474408cc6382716b9935f?s=128&d=identicon&r=PG", "display_name": "Michal Lev&#253;", "link": "https://stackoverflow.com/users/381282/michal-lev%c3%bd"}, "reply_to_user": {"reputation": 12173, "user_id": 458060, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/0f746b15bd9823711c8e570bfabe1033?s=128&d=identicon&r=PG", "display_name": "George Katsanos", "link": "https://stackoverflow.com/users/458060/george-katsanos"}, "edited": false, "score": 0, "creation_date": 1576146204, "post_id": 59295169, "comment_id": 104807543, "body": "Yep, that&#39;s what happens when you use props as initial values for your <code>data()</code>. You can fix that by using computed property but not like an object - introduce one computed for each field. Prop should have a getter (value from prop) and setter (set new value to <code>data()</code>)."}, {"owner": {"reputation": 13559, "user_id": 381282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d2a1d1820d474408cc6382716b9935f?s=128&d=identicon&r=PG", "display_name": "Michal Lev&#253;", "link": "https://stackoverflow.com/users/381282/michal-lev%c3%bd"}, "reply_to_user": {"reputation": 12173, "user_id": 458060, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/0f746b15bd9823711c8e570bfabe1033?s=128&d=identicon&r=PG", "display_name": "George Katsanos", "link": "https://stackoverflow.com/users/458060/george-katsanos"}, "edited": false, "score": 0, "creation_date": 1576146428, "post_id": 59295169, "comment_id": 104807698, "body": "And then you can make a step back and think about why you rendering new dialog instance into each row of your table. Doesn&#39;t seem like a good pattern to me...."}, {"owner": {"reputation": 12173, "user_id": 458060, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/0f746b15bd9823711c8e570bfabe1033?s=128&d=identicon&r=PG", "display_name": "George Katsanos", "link": "https://stackoverflow.com/users/458060/george-katsanos"}, "edited": false, "score": 0, "creation_date": 1576147269, "post_id": 59295169, "comment_id": 104808201, "body": "I guess splitting the activation button and the actual dialog in two and moving the dialog outside the row would be the ultimate solution. I just wanted to keep the parent component smaller."}, {"owner": {"reputation": 13559, "user_id": 381282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d2a1d1820d474408cc6382716b9935f?s=128&d=identicon&r=PG", "display_name": "Michal Lev&#253;", "link": "https://stackoverflow.com/users/381282/michal-lev%c3%bd"}, "reply_to_user": {"reputation": 12173, "user_id": 458060, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/0f746b15bd9823711c8e570bfabe1033?s=128&d=identicon&r=PG", "display_name": "George Katsanos", "link": "https://stackoverflow.com/users/458060/george-katsanos"}, "edited": false, "score": 0, "creation_date": 1576148324, "post_id": 59295169, "comment_id": 104808796, "body": "As you are working with modal (only one can be open at a time), you can also make your life easier by just passing edited item into <code>openDialog</code> method, make a copy into <code>data()</code> and avoid all the hassle with props. <a href=\"https://codesandbox.io/s/vuetify-2x-scope-issues-p13rb\" rel=\"nofollow noreferrer\">Here</a> is how I would do that. Now its easy to split button from dialog....I&#39;ll leave that part for you"}, {"owner": {"reputation": 12173, "user_id": 458060, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/0f746b15bd9823711c8e570bfabe1033?s=128&d=identicon&r=PG", "display_name": "George Katsanos", "link": "https://stackoverflow.com/users/458060/george-katsanos"}, "edited": false, "score": 0, "creation_date": 1576156178, "post_id": 59295169, "comment_id": 104812949, "body": "thanks, I cant just copy the entire thing even though it looks easy because in my real scenario there&#39;s many properties that I need to manipulate or delete before I submit the form. But my question is this: how do you move the dialog out of the individual row / loop if you need to pass a prop that is an item of that loop/array of objects?"}, {"owner": {"reputation": 12173, "user_id": 458060, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/0f746b15bd9823711c8e570bfabe1033?s=128&d=identicon&r=PG", "display_name": "George Katsanos", "link": "https://stackoverflow.com/users/458060/george-katsanos"}, "reply_to_user": {"reputation": 13559, "user_id": 381282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d2a1d1820d474408cc6382716b9935f?s=128&d=identicon&r=PG", "display_name": "Michal Lev&#253;", "link": "https://stackoverflow.com/users/381282/michal-lev%c3%bd"}, "edited": false, "score": 0, "creation_date": 1576156965, "post_id": 59295169, "comment_id": 104813367, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/204130/discussion-between-george-katsanos-and-michal-levy\">continue this discussion in chat</a>."}, {"owner": {"reputation": 12173, "user_id": 458060, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/0f746b15bd9823711c8e570bfabe1033?s=128&d=identicon&r=PG", "display_name": "George Katsanos", "link": "https://stackoverflow.com/users/458060/george-katsanos"}, "edited": false, "score": 0, "creation_date": 1576309175, "post_id": 59295169, "comment_id": 104864926, "body": "did so, unfortunately what happens now is that the first item which a dialog is opened with, appears in all dialogs..  I use a local data variable to cache it. <code>openDialog(item)</code> .. and then <code>openDialog(item) { this.selectedItem = item;  $refs[&#39;xx&#39;].openDialog() }</code> and pass it as a prop : <code>&lt;my-comp :thing=&quot;selectedItem&quot; &#47;&gt;</code>"}], "tags": [], "owner": {"reputation": 13559, "user_id": 381282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d2a1d1820d474408cc6382716b9935f?s=128&d=identicon&r=PG", "display_name": "Michal Lev&#253;", "link": "https://stackoverflow.com/users/381282/michal-lev%c3%bd"}, "is_accepted": false, "score": 0, "last_activity_date": 1576316626, "last_edit_date": 1576316626, "creation_date": 1576103720, "answer_id": 59295169, "question_id": 59294339, "link": "https://stackoverflow.com/questions/59294339/props-data-set-as-initial-values-for-local-data-are-not-reactive/59295169#59295169", "title": "Props data set as initial values for local data are not reactive", "body": "<blockquote>\n  <p>In order to properly copy props to local data and manipulate them</p>\n</blockquote>\n\n<p>First, in your example you have <strong>no local data</strong>. What your computed property is is some temporal object, which can be recreated any time something changes. Don't do that. </p>\n\n<p>If the prop is really just some initial value, you can introduce property in <code>data()</code> and initialize it right there <a href=\"https://stackoverflow.com/questions/42722433/accessing-props-in-vue-component-data-function\">from prop</a></p>\n\n<p>If you are passing the prop to component in order to change its value, you probably want that changed value passed back to your parent. In that case you don't need to copy anything. Just <a href=\"https://stackoverflow.com/a/51722100/381282\">props down, events up</a> (either with v-model, <code>.sync</code> or just handling events manually)</p>\n\n<p>In the case Object is passed by prop, you can also directly mutate object's properties - as long as you don't change prop itself (swap it for different object), everything is fine - Vue will not throw any warning and your <strong>parent state will be mutated directly</strong></p>\n\n<h2>UPDATE</h2>\n\n<p>Now I have better understanding of use case. Question should be more like \"Best way to pass data into a modal popup dialog for editing item in the list/table\"</p>\n\n<ol>\n<li>Dialog is modal</li>\n<li>Dialog can be shown for specific item in a table by clicking button in it's row</li>\n<li>Dialog is cancelable (unless the user uses Save button, any changes made in the dialog should be discarded)</li>\n</ol>\n\n<p>In this particular case I don't recommend using props to pass the data. Props are good for passing reactive values \"down\". Here you don't need or want dialog to react for data changes. And you also don't want use props for 1-time initialization. What you want is to copy data repeatedly at particular time (opening the dialog). </p>\n\n<p>In component with table (row rendering):</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;td&gt;\n   &lt;v-btn rounded @click=\"openDialog(item)\"&gt;open details&lt;/v-btn&gt;\n&lt;/td&gt;\n</code></pre>\n\n<p>Place dialog component <strong>outside the table</strong>:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;person-form @update=\"onUpdate\" ref=\"dialog\"&gt;&lt;/person-form&gt;\n</code></pre>\n\n<p>In methods:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>openDialog(item) {\n  this.$refs.dialog.openDialog(item);\n},\nonUpdate(item) {\n  // replace old item in your data with new item\n}\n</code></pre>\n\n<p>In dialog component:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>openDialog(item) {\n  this.form = { ...item };  // copy into data for editing\n  // show dialog....\n},\n// Save button handler\nonSave() {\n  this.$emit(\"update\", this.form);\n  // hide dialog...\n}\n</code></pre>\n\n<p><a href=\"https://codesandbox.io/s/best-way-to-pass-data-into-a-modal-popup-dialog-for-editing-item-in-the-listtable-p13rb\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}, {"comments": [{"owner": {"reputation": 12173, "user_id": 458060, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/0f746b15bd9823711c8e570bfabe1033?s=128&d=identicon&r=PG", "display_name": "George Katsanos", "link": "https://stackoverflow.com/users/458060/george-katsanos"}, "edited": false, "score": 0, "creation_date": 1576144368, "post_id": 59299574, "comment_id": 104806479, "body": "This is how I originally had it, and I had this bug: <a href=\"https://codesandbox.io/s/vuetify-2x-scope-issues-ct0hu\" rel=\"nofollow noreferrer\">codesandbox.io/s/vuetify-2x-scope-issues-ct0hu</a>"}], "tags": [], "owner": {"reputation": 1589, "user_id": 4750892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f147866247a734e4914f6c244306b9b?s=128&d=identicon&r=PG&f=1", "display_name": "Asim Khan", "link": "https://stackoverflow.com/users/4750892/asim-khan"}, "is_accepted": false, "score": 0, "last_activity_date": 1576135481, "creation_date": 1576135481, "answer_id": 59299574, "question_id": 59294339, "link": "https://stackoverflow.com/questions/59294339/props-data-set-as-initial-values-for-local-data-are-not-reactive/59299574#59299574", "title": "Props data set as initial values for local data are not reactive", "body": "<p>You could do something like this</p>\n\n<pre><code>props: {\n  thing: {\n    type: Object,\n    required: false,\n    default: null,\n  },\n},\ndata () {\n    return {\n        name: this.thing.name,\n        someLocalThing: 'George Harrington'\n    }\n}\n</code></pre>\n\n<p>Now you can modify the data inside of component, and the props are still the same. </p>\n\n<p>If you want to apply these changes directly to parent component as well, you will have to emit a function with the updated data.</p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 10808509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LRUOF.jpg?s=128&g=1", "display_name": "AlphaKilo", "link": "https://stackoverflow.com/users/10808509/alphakilo"}, "is_accepted": false, "score": 0, "last_activity_date": 1576184540, "creation_date": 1576184540, "answer_id": 59312641, "question_id": 59294339, "link": "https://stackoverflow.com/questions/59294339/props-data-set-as-initial-values-for-local-data-are-not-reactive/59312641#59312641", "title": "Props data set as initial values for local data are not reactive", "body": "<p>I had the same issue today. In my use case, users are opening a dialog to edit an object, My solution was to fill the form on the button press to open the dialog. This seems to be a Vuetify issue. I have searched the Vuetify Github repo, but I have not been able to find this issue.</p>\n\n<p>Regardless, here is my implementation (trimmed down for brevity). </p>\n\n<p><code>@click=\"fillForm()\"</code> calls a function to fill the <code>v-textarea</code> s</p>\n\n<pre><code> &lt;v-dialog v-model=\"dialog\" persistent max-width=\"600px\"&gt;\n        &lt;template v-slot:activator=\"{ on }\"&gt;\n            &lt;v-btn color=\"primary\" v-on=\"on\" @click=\"fillForm()\" width=\"100%\"&gt;Edit RFQ&lt;/v-btn&gt;\n        &lt;/template&gt;\n        ...\n &lt;/v-dialog&gt;\n</code></pre>\n\n<p><em>script</em></p>\n\n<pre><code>export default {\n        props: ['rfq'],\n        data(){\n            return {\n                title: undefined,\n                notes: undefined,\n                companiesRequested: undefined,\n            }\n        },\n        methods: {\n            fillForm() {\n                this.title = this.title ? this.title : this.rfq.title;\n                this.notes = this.notes ? this.notes : this.rfq.notes;\n                this.companiesRequested = this.companiesRequested ? this.companiesRequested : this.rfq.company_requested_ids;\n            },\n        }\n}\n</code></pre>\n"}], "owner": {"reputation": 12173, "user_id": 458060, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/0f746b15bd9823711c8e570bfabe1033?s=128&d=identicon&r=PG", "display_name": "George Katsanos", "link": "https://stackoverflow.com/users/458060/george-katsanos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1576316626, "creation_date": 1576099602, "last_edit_date": 1576147307, "question_id": 59294339, "link": "https://stackoverflow.com/questions/59294339/props-data-set-as-initial-values-for-local-data-are-not-reactive", "title": "Props data set as initial values for local data are not reactive", "body": "<p>In order to properly copy props to local data and manipulate them in your component you need to use Computed props. </p>\n\n<p>What do you do when you want to set the default value of a computed prop to be based on a <code>prop</code> but to also be able to <strong>override</strong> its' value manually without resetting the entire computed property?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>props: {\n  thing: {\n    type: Object,\n    required: false,\n    default: null,\n  },\n},\ncomputed: {\n  form() { \n      return { \n          name: this.thing.name,\n          someLocalThing: 'George Harrington',\n      }; \n  },\n}\n</code></pre>\n\n<p>and then</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;v-text-field v-model=\"form.name\"&gt;\n&lt;v-text-field v-model=\"someLocalThing\"&gt;\n</code></pre>\n\n<p>The problem is, changing <code>someLocalThing</code>, overrides/resets <code>form.name</code> (the computed prop is re-evaluated) so we lose the changes we had just previously done. </p>\n\n<p><em>edit:</em> this is an exact reproduction link : <a href=\"https://codesandbox.io/s/vuetify-2x-scope-issues-ct0hu\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/vuetify-2x-scope-issues-ct0hu</a> </p>\n"}, {"tags": ["javascript", "html", "node.js", "reactjs"], "comments": [{"owner": {"reputation": 14231, "user_id": 1218980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75c6b54df38abce7b1c35f499a1d4a67?s=128&d=identicon&r=PG", "display_name": "Emile Bergeron", "link": "https://stackoverflow.com/users/1218980/emile-bergeron"}, "edited": false, "score": 5, "creation_date": 1576099693, "post_id": 59294330, "comment_id": 104793275, "body": "<code>onClick={() =&gt; this.selectSupplier(&quot;Husky&quot;)}&gt;</code> You&#39;re calling the function instead of passing a reference to it."}, {"owner": {"reputation": 14231, "user_id": 1218980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75c6b54df38abce7b1c35f499a1d4a67?s=128&d=identicon&r=PG", "display_name": "Emile Bergeron", "link": "https://stackoverflow.com/users/1218980/emile-bergeron"}, "edited": false, "score": 1, "creation_date": 1576099802, "post_id": 59294330, "comment_id": 104793312, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/29810914/react-js-onclick-cant-pass-value-to-method\">React js onClick can&#39;t pass value to method</a>"}, {"owner": {"reputation": 1921, "user_id": 2621316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ynUyn.jpg?s=128&g=1", "display_name": "Amon", "link": "https://stackoverflow.com/users/2621316/amon"}, "reply_to_user": {"reputation": 14231, "user_id": 1218980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75c6b54df38abce7b1c35f499a1d4a67?s=128&d=identicon&r=PG", "display_name": "Emile Bergeron", "link": "https://stackoverflow.com/users/1218980/emile-bergeron"}, "edited": false, "score": 0, "creation_date": 1576099997, "post_id": 59294330, "comment_id": 104793395, "body": "@EmileBergeron Thank you! I knew it was a simple fix, if you want to post an answer I&#39;ll gladly accept. Thank you for the link too, gave me some great info Ill follow"}, {"owner": {"reputation": 14231, "user_id": 1218980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75c6b54df38abce7b1c35f499a1d4a67?s=128&d=identicon&r=PG", "display_name": "Emile Bergeron", "link": "https://stackoverflow.com/users/1218980/emile-bergeron"}, "edited": false, "score": 1, "creation_date": 1576100114, "post_id": 59294330, "comment_id": 104793447, "body": "This was already answered multiple times on this site, so we&#39;d rather close it as a duplicate to redirect anyone to the right place!"}], "answers": [{"tags": [], "owner": {"reputation": 77, "user_id": 12442971, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAwtbDcqGWpwlZBiINW1C4jBNvup0xrkjyo1oXjLA=k-s128", "display_name": "Pratap Tengale", "link": "https://stackoverflow.com/users/12442971/pratap-tengale"}, "is_accepted": true, "score": 1, "last_activity_date": 1576144406, "creation_date": 1576144406, "answer_id": 59301843, "question_id": 59294330, "link": "https://stackoverflow.com/questions/59294330/having-multiple-buttons-call-a-function-in-reactjs/59301843#59301843", "title": "Having multiple buttons call a function in ReactJS", "body": "<p>You can call like this :</p>\n\n<pre><code>this.selectSupplier.bind(this,\"Husky\");\n</code></pre>\n"}], "owner": {"reputation": 1921, "user_id": 2621316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ynUyn.jpg?s=128&g=1", "display_name": "Amon", "link": "https://stackoverflow.com/users/2621316/amon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 59301843, "answer_count": 1, "score": 1, "last_activity_date": 1576144406, "creation_date": 1576099581, "question_id": 59294330, "link": "https://stackoverflow.com/questions/59294330/having-multiple-buttons-call-a-function-in-reactjs", "title": "Having multiple buttons call a function in ReactJS", "body": "<p>Sorry if the title is vague. My problem is that I have three <code>button</code> tags, and for each tag I want it to send a unique argument to <code>selectSupplier()</code>. However no matter what button I press <code>selectSupplier()</code> only receives the last value (\"ultramar\") as an argument. </p>\n\n<pre><code>selectSupplier(supplier){\n    this.props.Obj.supplier = supplier\n  }\n\n\n  render() {\n    //console.log(\"SUPPLIER\", this.props)\n    return (\n      &lt;div&gt;\n        &lt;button onClick={this.showMenu}&gt;\n          Select Supplier\n        &lt;/button&gt;\n\n        {\n          this.state.showMenu\n            ? (\n              &lt;div\n                className=\"menu\"\n                ref={(element) =&gt; {\n                  this.dropdownMenu = element;\n                }}\n              &gt;\n                &lt;button value=\"Husky\" onClick={this.selectSupplier(\"Husky\")}&gt; Husky &lt;/button&gt;\n                &lt;button value=\"Shell\" onClick={this.selectSupplier(\"Shell\")}&gt; Shell &lt;/button&gt;\n                &lt;button value=\"Ultramar\" onClick={this.selectSupplier(\"Ultramar\")}&gt; Ultramar&lt;/button&gt;\n              &lt;/div&gt;\n            )\n            : (\n              null\n            )\n        }\n      &lt;/div&gt;\n    );\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "json", "mongodb", "mongoose"], "answers": [{"tags": [], "owner": {"reputation": 40100, "user_id": 6238977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kBcTp.png?s=128&g=1", "display_name": "mickl", "link": "https://stackoverflow.com/users/6238977/mickl"}, "is_accepted": true, "score": 1, "last_activity_date": 1576117038, "creation_date": 1576117038, "answer_id": 59296769, "question_id": 59294323, "link": "https://stackoverflow.com/questions/59294323/insert-online-shopping-cart-items-into-mongodb-using-mongoose/59296769#59296769", "title": "Insert online shopping cart items into MongoDB using Mongoose", "body": "<p>Based on provided schema Mongoose expects you to pass a field called <code>cartContents</code>. Any other field not compatible with your schema will be ignored. To fix that just name your field explicitly:</p>\n\n<pre><code>const newOrder = new Cart({\n    customerID,\n    cartContents: cartData\n})\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 11837905, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UDND1UWRvFw/AAAAAAAAAAI/AAAAAAAAAQY/u50xKJxj0Kw/photo.jpg?sz=128", "display_name": "teej", "link": "https://stackoverflow.com/users/11837905/teej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1567, "favorite_count": 0, "accepted_answer_id": 59296769, "answer_count": 1, "score": 1, "last_activity_date": 1576117038, "creation_date": 1576099509, "question_id": 59294323, "link": "https://stackoverflow.com/questions/59294323/insert-online-shopping-cart-items-into-mongodb-using-mongoose", "title": "Insert online shopping cart items into MongoDB using Mongoose", "body": "<p>I am attempting to insert a cart of items as a JSON object into a MongoDB collection using a mongoose schema.</p>\n\n<p>The customer's ID is getting stored (which comes from the User DB), but the <strong>cart items are not</strong>. Here is my code:</p>\n\n<p>Sample order data contained in local variable app.js called <code>cartData: { data:[] }</code>:</p>\n\n<pre><code>{\n    data: [\n      item {\n        name: \"Product Name 1\",\n        price: '2.99',\n        sku: '13579',\n        count: 8\n      },\n      item {\n        name: 'Product Name 2',\n        price: '21.99',\n        sku: '24680',\n        count: 2\n      }\n    ]\n}\n</code></pre>\n\n<p><code>Cart.js</code> (Cart Schema):</p>\n\n<pre><code>const mongoose = require(\"mongoose\")\n\nconst CartSchema = new mongoose.Schema({\n    customerID: {\n        type: String,\n        required: true\n    },\n    cartContents: {\n        type: [Object]\n    },\n    date: {\n        type: Date,\n        default: Date.now\n    }\n}, { collection: \"ordersDB\" })\n\nconst Cart = mongoose.model('Cart', CartSchema)\nmodule.exports = Cart\n</code></pre>\n\n<p><code>app.js</code> (Order Submit Code):</p>\n\n<pre><code>const Cart = require(\"../models/Cart\")\nconst customerID = req.user.customerID //Acquired from user database\n\nconst newOrder = new Cart({\n    customerID,\n    cartData\n})\nnewOrder.save()\n    .then(customer =&gt; {\n        req.flash(\"successful\", \"Your order has been submitted!\")\n        res.redirect(\"/somepage\")\n    })\n    .catch(err =&gt; console.log(err))\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>_id: abcd1234\n&gt; cart: Object\n    &gt; type: Array\n        &gt; &lt;The Infinite Abyss Of Nothingness aka Empty&gt;\ncustomerID: \"1234567890\"\ndate: 2019-12-11T21:14:40.825+00:00\n__v: 0\n</code></pre>\n\n<p>Any insight on this problem would be greatly appreciated.</p>\n"}, {"tags": ["javascript", "fastify"], "answers": [{"comments": [{"owner": {"reputation": 6179, "user_id": 3309466, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/EmrO2.jpg?s=128&g=1", "display_name": "Manuel Spigolon", "link": "https://stackoverflow.com/users/3309466/manuel-spigolon"}, "edited": false, "score": 1, "creation_date": 1576137657, "post_id": 59294518, "comment_id": 104803195, "body": "Your solution is right, it could be helpfull add <code>.prop(&#39;data&#39;, S.array().items(S.object().additionalProperties(false)))</code> to have an array of dynamic object (without defining a schema)"}, {"owner": {"reputation": 1084, "user_id": 11597904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04b3d27de38f0f1ae97dab7a5a7a73d7?s=128&d=identicon&r=PG&f=1", "display_name": "CodingLittle", "link": "https://stackoverflow.com/users/11597904/codinglittle"}, "reply_to_user": {"reputation": 6179, "user_id": 3309466, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/EmrO2.jpg?s=128&g=1", "display_name": "Manuel Spigolon", "link": "https://stackoverflow.com/users/3309466/manuel-spigolon"}, "edited": false, "score": 0, "creation_date": 1576138847, "post_id": 59294518, "comment_id": 104803670, "body": "@ManuelSpigolon do you have any documentation on this?"}, {"owner": {"reputation": 6179, "user_id": 3309466, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/EmrO2.jpg?s=128&g=1", "display_name": "Manuel Spigolon", "link": "https://stackoverflow.com/users/3309466/manuel-spigolon"}, "edited": false, "score": 0, "creation_date": 1576140073, "post_id": 59294518, "comment_id": 104804192, "body": "<a href=\"https://github.com/fastify/fast-json-stringify#additional-properties\" rel=\"nofollow noreferrer\">here</a> but it could be difficult to find out"}, {"owner": {"reputation": 6179, "user_id": 3309466, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/EmrO2.jpg?s=128&g=1", "display_name": "Manuel Spigolon", "link": "https://stackoverflow.com/users/3309466/manuel-spigolon"}, "edited": false, "score": 1, "creation_date": 1576140103, "post_id": 59294518, "comment_id": 104804207, "body": "* I ment <code>additionalProperties(true)</code>"}], "tags": [], "owner": {"reputation": 1084, "user_id": 11597904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04b3d27de38f0f1ae97dab7a5a7a73d7?s=128&d=identicon&r=PG&f=1", "display_name": "CodingLittle", "link": "https://stackoverflow.com/users/11597904/codinglittle"}, "is_accepted": true, "score": 2, "last_activity_date": 1576141593, "last_edit_date": 1576141593, "creation_date": 1576100392, "answer_id": 59294518, "question_id": 59294320, "link": "https://stackoverflow.com/questions/59294320/how-to-return-array-in-fluent-schema/59294518#59294518", "title": "How to return array() in fluent-schema?", "body": "<p>One of those seek for hours and once you finaly ask the question you also find an answer. </p>\n\n<p>Want to keep this question since this isn't something easy to find. \nI figured this out by trial and error. </p>\n\n<p>found <a href=\"https://www.fastify.io/docs/master/Fluent-Schema/\" rel=\"nofollow noreferrer\">this</a> to be somewhat helpful.</p>\n\n<p>My final solution: </p>\n\n<pre><code>const successResponseSchema = S.object()\n  .title('About 200 response')\n  .description('Some description')\n  .prop('name', S.string())\n  .prop(\n    'data',\n    S.array().items(\n      S.object()\n        .prop('PROP1', S.string())\n        .prop('PROP2', S.string())\n    )\n  );\n</code></pre>\n\n<p>To be honest I dont feel that this is an answer that covers everything. I can\u00a8t explain why it has to be like this. If anyone can explain that part then great. I will hopefully be able to update this answer with more details in the future.</p>\n\n<p>EDIT: \n@Manuel Spigolon  gave some pointers in the comments. </p>\n\n<p>Changed above to : </p>\n\n<pre><code>const successResponseSchema = S.object()\n  .title('About 200 response')\n  .description('Some description')\n  .prop('name', S.string())\n  .prop('data', S.array().items(S.object().additionalProperties(true)));\n</code></pre>\n\n<p>This way I did not have to add each prop. </p>\n"}], "owner": {"reputation": 1084, "user_id": 11597904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04b3d27de38f0f1ae97dab7a5a7a73d7?s=128&d=identicon&r=PG&f=1", "display_name": "CodingLittle", "link": "https://stackoverflow.com/users/11597904/codinglittle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "accepted_answer_id": 59294518, "answer_count": 1, "score": 1, "last_activity_date": 1576141593, "creation_date": 1576099491, "question_id": 59294320, "link": "https://stackoverflow.com/questions/59294320/how-to-return-array-in-fluent-schema", "title": "How to return array() in fluent-schema?", "body": "<p>I have an object that looks like this: </p>\n\n<pre><code>interface LotteryData {\n  PROP1: string;\n  PROP2: string;\n  PROP3: string;\n  PROP4: string;\n  PROP5: string;\n}\n\ninterface LotterySuccess {\n  name: string;\n  data: Array&lt;LotteryData&gt;;\n}\n</code></pre>\n\n<p>My schema is like this: </p>\n\n<pre><code>const successResponseSchema = S.object()\n  .title('About 200 response')\n  .description('Some description')\n  .prop('name', S.string())\n  .definition('data', S.array());\n</code></pre>\n\n<p>When using postman I get back the name but not the data.</p>\n\n<p>I have also tried: </p>\n\n<pre><code>const successResponseSchema = S.object()\n  .title('About 200 response')\n  .description('Some description')\n  .prop('name', S.string())\n  .prop('data', S.anyOf([S.object()]));\n</code></pre>\n\n<p>Here data is null and I understand that since the data I am sending back in an array and not an object.</p>\n\n<p>The handler that handles the request looks like this: </p>\n\n<pre><code>const handler = async (req, reply) =&gt; {\n  const responseData = await fileManager();\n\n  const response: LotterySuccess = {\n    name: responseData.Name,\n    data: responseData.Data,\n  };\n\n  reply.send(response);\n};\n\nexport default (server: FastifyInstance) =&gt;\n\n  server.get&lt;null&gt;('/', opts, handler); \n</code></pre>\n\n<p>responseData.Data has the correct values but I am failing to align my success schema to responde with\nan array of objects. Any ideas?</p>\n"}, {"tags": ["javascript", "reactjs", "yarnpkg"], "comments": [{"owner": {"reputation": 1943, "user_id": 1839805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IvPfK.jpg?s=128&g=1", "display_name": "Arber Sylejmani", "link": "https://stackoverflow.com/users/1839805/arber-sylejmani"}, "edited": false, "score": 1, "creation_date": 1576100491, "post_id": 59294307, "comment_id": 104793606, "body": "Not sure I completely undestand, but have you tried: import poweredup from &#39;node-pweredup/dist/browser/poweredup.js&#39; ? or just import &#39;node-poweredup/...rest_of_file&#39; - The second if you don&#39;t want to use the actual imported file but just include in your bundle"}, {"owner": {"reputation": 10282, "user_id": 285288, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/321b2437e25c1885cb0edbde62bbf530?s=128&d=identicon&r=PG", "display_name": "James", "link": "https://stackoverflow.com/users/285288/james"}, "reply_to_user": {"reputation": 1943, "user_id": 1839805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IvPfK.jpg?s=128&g=1", "display_name": "Arber Sylejmani", "link": "https://stackoverflow.com/users/1839805/arber-sylejmani"}, "edited": false, "score": 0, "creation_date": 1576609699, "post_id": 59294307, "comment_id": 104953175, "body": "Thanks, that brought me on the right track. I&#39;m using typescript and I can do an <code>import &quot;node-poweredup&#47;dist&#47;browser&#47;poweredup.js&quot;</code> and then use it like <code>const poweredUP = new window.PoweredUP.PoweredUP();</code>."}, {"owner": {"reputation": 5235, "user_id": 7910454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/3Dlqb.jpg?s=128&g=1", "display_name": "leonheess", "link": "https://stackoverflow.com/users/7910454/leonheess"}, "edited": false, "score": 0, "creation_date": 1581337134, "post_id": 59294307, "comment_id": 106386238, "body": "Vote on <a href=\"https://meta.stackoverflow.com/questions/354583/disentangle-the-yarn\">this proposal</a> to ease the tag confusion."}], "answers": [{"tags": [], "owner": {"reputation": 285, "user_id": 3148748, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wKcNT.jpg?s=128&g=1", "display_name": "Aniket Chowdhury", "link": "https://stackoverflow.com/users/3148748/aniket-chowdhury"}, "is_accepted": false, "score": 0, "last_activity_date": 1576100889, "creation_date": 1576100889, "answer_id": 59294612, "question_id": 59294307, "link": "https://stackoverflow.com/questions/59294307/add-dist-file-from-npm-package-to-build/59294612#59294612", "title": "Add dist file from npm package to build", "body": "<p>Try importing normally. Remove the CDN. react-scripts would package the file during the build. </p>\n\n<p>If the problem still persists, copy the entire directory node_modules/node-poweredup outside of node_modules and do an absolute import. </p>\n\n<pre><code>import * from './node-poweredup/${path}'\n</code></pre>\n\n<p>Provide the path from where your modules are being </p>\n\n<p>Or, better yet just download the CDN and use script tag to import in index.js</p>\n"}], "owner": {"reputation": 10282, "user_id": 285288, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/321b2437e25c1885cb0edbde62bbf530?s=128&d=identicon&r=PG", "display_name": "James", "link": "https://stackoverflow.com/users/285288/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1581337131, "creation_date": 1576099438, "last_edit_date": 1581337131, "question_id": 59294307, "link": "https://stackoverflow.com/questions/59294307/add-dist-file-from-npm-package-to-build", "title": "Add dist file from npm package to build", "body": "<p>I'm using the <a href=\"https://www.npmjs.com/package/node-poweredup\" rel=\"nofollow noreferrer\">node-poweredup npm package</a> in my react based project. I provides a nodejs and a browser version of the library. The browser version is available from the <a href=\"https://cdn.jsdelivr.net/npm/node-poweredup@latest/dist/browser/poweredup.js\" rel=\"nofollow noreferrer\">jsdelivr CDN</a> and this is also how I add this library to my react app - I simply include the poweredup.js in a script tag in the index.html.</p>\n\n<p>I can see that the node-poweredup module has a the same file in its <code>dist/browser</code> folder (<code>node_modules/node-poweredup/dist/browser/poweredup.js</code>). How can I copy this js file to my build directory when running <code>yarn build</code> so that I can use this one instead of the one from the CDN?</p>\n\n<p>I have a standard react app created with <code>create-react-app</code>.</p>\n"}, {"tags": ["javascript", "jquery", "html", "css", "popup"], "comments": [{"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 2, "creation_date": 1576099479, "post_id": 59294293, "comment_id": 104793189, "body": "APPELEZ-NOUS is your code?"}, {"owner": {"reputation": 1, "user_id": 12521010, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-e8IYPuWk8ZE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfSwaNYcLmeZ_l-tUz-EmRTtQ34iQ/photo.jpg?sz=128", "display_name": "inmedia998", "link": "https://stackoverflow.com/users/12521010/inmedia998"}, "reply_to_user": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1576099559, "post_id": 59294293, "comment_id": 104793225, "body": "my code is ;&lt;div class=&quot;popup&quot; onclick=&quot;myFunction()&quot;&gt;              &lt;li class=&quot;center-block&quot;&gt;  &lt;a class=&quot;button red text-center&quot; href=&quot;tel:514-677-3413&quot;&gt;&lt;i class=&quot;fas fa-phone&quot;&gt;APPELEZ-NOUS&lt;/i class=&quot;fas fa-phone&quot;&gt;&lt;/a&gt;"}, {"owner": {"reputation": 1138, "user_id": 6798006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/237d47b9e57a0ddd2493ab5b400dc5dc?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan Anlezark", "link": "https://stackoverflow.com/users/6798006/dylan-anlezark"}, "edited": false, "score": 1, "creation_date": 1576099608, "post_id": 59294293, "comment_id": 104793243, "body": "@inmedia998 Please don&#39;t comment code! please edit your original question with the code :)"}, {"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1576099612, "post_id": 59294293, "comment_id": 104793245, "body": "Please post it in the question, and your attempt with all the relevant code."}, {"owner": {"reputation": 357, "user_id": 10691455, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-yItW4sNJ09U/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gYjgoAFcsxTrigPI-1yzRN8rBk5g/mo/photo.jpg?sz=128", "display_name": "Mr PizzaGuy", "link": "https://stackoverflow.com/users/10691455/mr-pizzaguy"}, "edited": false, "score": 0, "creation_date": 1576109126, "post_id": 59294293, "comment_id": 104796143, "body": "Do you have javascript or jquery? If you do, please show us that... Also please show that you have done research. If you haven&#39;t, you should do that first. Always remember that Stackover Flow should be the last resource if you literally cannot find anything else. Good luck! :)"}], "answers": [{"tags": [], "owner": {"reputation": 741, "user_id": 11954917, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4BCoy.png?s=128&g=1", "display_name": "Makwana Prahlad", "link": "https://stackoverflow.com/users/11954917/makwana-prahlad"}, "is_accepted": false, "score": 0, "last_activity_date": 1576218060, "last_edit_date": 1576218060, "creation_date": 1576129629, "answer_id": 59298417, "question_id": 59294293, "link": "https://stackoverflow.com/questions/59294293/how-can-i-display-a-pop-up-when-i-click-on-a-button-with-this-code/59298417#59298417", "title": "How can I display a pop-up when I click on a button with this code :?", "body": "<p>@inmedia998</p>\n\n<p>Please try this code it works as per your requirement.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.5.10/clipboard.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js\"&gt;&lt;/script&gt;\r\n&lt;link href=\"https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css\" rel=\"stylesheet\"/&gt;\r\n\r\n&lt;style&gt;\r\n\r\n&lt;/style&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;h3&gt;Click the button and Open simple Pop-Up Box&lt;/h3&gt;\r\n&lt;div id=\"PopupDemo\" style=\"margin:50px; width:55px;\" data-clipboard-text=\"1\"&gt;Click Me&lt;/div&gt;\r\n\r\n&lt;script&gt;\r\n        $('#PopupDemo').tooltip({\r\n          trigger: 'click',\r\n          placement: 'top'\r\n        });\r\n        \r\n        function setTooltip(message) {\r\n          $('#PopupDemo').tooltip('hide')\r\n            .attr('data-original-title', message)\r\n            .tooltip('show');\r\n        }\r\n        \r\n        function hideTooltip() {\r\n          setTimeout(function() {\r\n            $('#PopupDemo').tooltip('hide');\r\n          }, 1000);\r\n        }\r\n  \r\n        var clipboard = new Clipboard('#PopupDemo');\r\n        \r\n        clipboard.on('success', function(e) {\r\n          setTooltip('A Simple Popup!');\r\n          hideTooltip();\r\n        });\r\n        \r\n        clipboard.on('error', function(e) {\r\n          setTooltip('Failed!');\r\n          hideTooltip();\r\n        });\r\n        &lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I hope above code will be useful for you.</p>\n\n<p>Thank you. </p>\n"}], "owner": {"reputation": 1, "user_id": 12521010, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-e8IYPuWk8ZE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfSwaNYcLmeZ_l-tUz-EmRTtQ34iQ/photo.jpg?sz=128", "display_name": "inmedia998", "link": "https://stackoverflow.com/users/12521010/inmedia998"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1576218060, "creation_date": 1576099376, "last_edit_date": 1592644375, "question_id": 59294293, "link": "https://stackoverflow.com/questions/59294293/how-can-i-display-a-pop-up-when-i-click-on-a-button-with-this-code", "title": "How can I display a pop-up when I click on a button with this code :?", "body": "<h2></h2>\n<ol>\n<li><p>Heading</p>\n<h2>I'm trying to do this <a href=\"https://i.stack.imgur.com/Pwvk6.png\" rel=\"nofollow noreferrer\">Text and Pop-Up</a> but with a button.</h2>\n</li>\n</ol>\n<p>Here is my code</p>\n<pre><code>&lt;div class=&quot;popup&quot; onclick=&quot;myFunction()&quot;&gt;\n  &lt;li class=&quot;center-block&quot;&gt;\n    &lt;a class=&quot;button red text-center&quot; href=&quot;tel:514-677-3413&quot;&gt;\n      &lt;i class=&quot;fas fa-phone&quot;&gt;APPELEZ-NOUS&lt;/i&gt;\n    &lt;/a&gt;\n  &lt;/li&gt;\n</code></pre>\n<p>I need to place that code to make the text of the popu-up appear but I don't know where in the div</p>\n<pre><code>&lt;span class=&quot;popuptext&quot; id=&quot;myPopup&quot;&gt;A Simple Popup!&lt;/span&gt;\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1844, "user_id": 5662805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45a62036fef674591172e904bad55e9?s=128&d=identicon&r=PG&f=1", "display_name": "wuarmin", "link": "https://stackoverflow.com/users/5662805/wuarmin"}, "is_accepted": false, "score": 0, "last_activity_date": 1576134291, "last_edit_date": 1576134291, "creation_date": 1576100408, "answer_id": 59294521, "question_id": 59294278, "link": "https://stackoverflow.com/questions/59294278/new-react-framework/59294521#59294521", "title": "New React framework", "body": "<p>This is typescript related. You have to be explicit about your properties and state.</p>\n\n<pre><code>type AppProps = {}\n\ntype AppState = {\n  logUsername: string,\n  logPassword: string,\n  username: string,\n  password: string\n}\n\nclass App extends React.Component&lt;AppProps, AppState&gt; {\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 12521025, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-l1DbjmgDMB0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdkDGYz0JeopwR9Km2_lW43m43QBw/photo.jpg?sz=128", "display_name": "Bud S.", "link": "https://stackoverflow.com/users/12521025/bud-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1576134291, "creation_date": 1576099296, "last_edit_date": 1576099457, "question_id": 59294278, "link": "https://stackoverflow.com/questions/59294278/new-react-framework", "title": "New React framework", "body": "<p>I haven't done a react app in a couple months but when I started a new one and trying to import my old function I am getting this error:</p>\n\n<pre><code>C:/Users/Hello/Documents/Dev/contacts/client/src/App.tsx\nTypeScript error in C:/Users/Hello/Documents/Dev/contacts/client/src/App.tsx(24,28):\nProperty 'logUsername' does not exist on type 'Readonly&lt;{}&gt;'.  TS2339\n\n  handleLoginSubmit = (e: any) =&gt; {\n    e.preventDefault();\n    const user = {\n      username: this.state.logUsername,\n      password: this.state.logPassword\n    };\n    this.props.login(user);\n  };\n</code></pre>\n\n<p>This is from a fresh install of create-react-app and\nnpx create-react-app client --template typescript</p>\n\n<p>Here's the only file that I changed , App.tsx:</p>\n\n<pre><code>    import React, { Component } from \"react\";\nimport \"./App.css\";\n\nexport default class App extends Component {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\",\n      logUsername: \"\",\n      logPassword: \"\"\n    };\n  }\n\n  handleChange = (e: any) =&gt; {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  };\n\n  handleLoginSubmit = (e: any) =&gt; {\n    e.preventDefault();\n    const user = {\n      username: this.state.logUsername,\n      password: this.state.logPassword\n    };\n    this.props.login(user);\n  };\n  render() {\n    return (\n      &lt;div className=\"App\"&gt;\n        &lt;header className=\"App-header\"&gt;\n          &lt;p&gt;enter email to unsub from this mailing list:&lt;/p&gt;\n          &lt;form onSubmit={this.handleLoginSubmit}&gt;\n            &lt;input\n              className=\"inputs\"\n              onChange={this.handleLoginChange}\n              type=\"text\"\n              name=\"email\"\n              value={this.state.logUsername}\n              placeholder=\"email\"\n            /&gt;\n            &lt;button className=\"homeButtons\" id=\"logInBttn\"&gt;\n               Submit\n            &lt;/button&gt;\n          &lt;/form&gt;\n        &lt;/header&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "google-drive-api", "google-picker"], "comments": [{"owner": {"reputation": 7325, "user_id": 2359687, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b567febb6032c881398226a28bedc09c?s=128&d=identicon&r=PG", "display_name": "devlin carnate", "link": "https://stackoverflow.com/users/2359687/devlin-carnate"}, "edited": false, "score": 0, "creation_date": 1576099442, "post_id": 59294233, "comment_id": 104793172, "body": "You should tag this with the language"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 3217732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55dd0ac9d0ae5694b6e85529d84a64fc?s=128&d=identicon&r=PG&f=1", "display_name": "Sul", "link": "https://stackoverflow.com/users/3217732/sul"}, "is_accepted": false, "score": 0, "last_activity_date": 1607196348, "last_edit_date": 1607196348, "creation_date": 1607053491, "answer_id": 65137643, "question_id": 59294233, "link": "https://stackoverflow.com/questions/59294233/google-drive-picker-api-show-folders-and-certain-mime-types-files/65137643#65137643", "title": "Google Drive Picker API - Show folders and certain mime types files", "body": "<p>You may need to add <code>.setIncludeFolders(true)</code> to your view. For example:</p>\n<pre><code>    var viewPdf = new google.picker.DocsView(google.picker.ViewId.PDFS).setIncludeFolders(true);\n    var viewPresentation = new google.picker.DocsView(google.picker.ViewId.PRESENTATIONS).setIncludeFolders(true);\n    var picker = new google.picker.PickerBuilder().\n            addView(viewPdf).\n            addView(viewPresentation).\n            setOAuthToken(oauthToken).\n            setDeveloperKey(developerKey).\n            setCallback(pickerCallback).\n            build();\n        picker.setVisible(true);\n</code></pre>\n"}], "owner": {"reputation": 1433, "user_id": 1151980, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dd17d1dfe7292416f88e51f85366b525?s=128&d=identicon&r=PG", "display_name": "csotelo", "link": "https://stackoverflow.com/users/1151980/csotelo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 347, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1612790498, "creation_date": 1576099092, "last_edit_date": 1612790498, "question_id": 59294233, "link": "https://stackoverflow.com/questions/59294233/google-drive-picker-api-show-folders-and-certain-mime-types-files", "title": "Google Drive Picker API - Show folders and certain mime types files", "body": "<p>I've done set Google Picker API showing only image and .pdf files, but I'd like to set this showing folders, I've tried the following code:</p>\n\n<pre><code>function loadPicker() {\n      gapi.load('auth', {'callback': onAuthApiLoad});\n      gapi.load('picker', {'callback': onPickerApiLoad});\n    }\n\n    function onAuthApiLoad() {\n      window.gapi.auth.authorize(\n          {\n            'client_id': clientId,\n            'scope': scope,\n            'immediate': false\n          },\n          handleAuthResult);\n    }\n\n    function onPickerApiLoad() {\n      pickerApiLoaded = true;\n      createPicker();\n    }\n\n    function handleAuthResult(authResult) {\n      if (authResult &amp;&amp; !authResult.error) {\n        oauthToken = authResult.access_token;\n        createPicker();\n      }\n    }\n\n    function createPicker() {\n          if (pickerApiLoaded &amp;&amp; oauthToken) {\n            //var view = new google.picker.View(google.picker.ViewId.DOCS); ... the mime type filter works only with DOCS\n            var view = new google.picker.DocsView(google.picker.ViewId.FOLDERS);\n            view.setMimeTypes(\"application/pdf,image/png,image/jpeg,image/jpg,application/vnd.ms-excel\");\n\n            var picker = new google.picker.PickerBuilder()\n                .enableFeature(google.picker.Feature.NAV_HIDDEN)\n                .enableFeature(google.picker.Feature.SUPPORT_DRIVES)\n                .addView(view)\n                .setAppId(appId)\n                .setOAuthToken(oauthToken)\n                .setDeveloperKey(developerKey)\n                .setCallback(pickerCallback)\n                .build();\n            picker.setVisible(true);\n          }\n        }\n</code></pre>\n\n<p>With this code the Picker works, the problem is that inside each folder shows all type of files (Google docs files, zip, js, etc.)</p>\n\n<p>These are the scopes used:</p>\n\n<pre><code>var scope = [\n        'https://www.googleapis.com/auth/drive.file',\n        'https://www.googleapis.com/auth/drive',\n        'https://www.googleapis.com/auth/drive.metadata',\n        'https://www.googleapis.com/auth/drive.readonly'\n    ];\n</code></pre>\n\n<p>Can I show folders in Google Picker API and inside them only the files that I have set in the setMimeTypes() filter?</p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 1048, "user_id": 9307290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zyp9i.png?s=128&g=1", "display_name": "Emmanuel Meric de Bellefon", "link": "https://stackoverflow.com/users/9307290/emmanuel-meric-de-bellefon"}, "edited": false, "score": 0, "creation_date": 1576099100, "post_id": 59294182, "comment_id": 104793017, "body": "You use Redux ?"}, {"owner": {"reputation": 920, "user_id": 12296807, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1t8DCfwends/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcxQ5kuuANd1g6s32Ata_VtPooLwg/photo.jpg?sz=128", "display_name": "Buk Lau", "link": "https://stackoverflow.com/users/12296807/buk-lau"}, "reply_to_user": {"reputation": 1048, "user_id": 9307290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zyp9i.png?s=128&g=1", "display_name": "Emmanuel Meric de Bellefon", "link": "https://stackoverflow.com/users/9307290/emmanuel-meric-de-bellefon"}, "edited": false, "score": 0, "creation_date": 1576099140, "post_id": 59294182, "comment_id": 104793037, "body": "@EmmanuelMericdeBellefon I&#39;m using context api"}], "answers": [{"comments": [{"owner": {"reputation": 1943, "user_id": 1839805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IvPfK.jpg?s=128&g=1", "display_name": "Arber Sylejmani", "link": "https://stackoverflow.com/users/1839805/arber-sylejmani"}, "edited": false, "score": 0, "creation_date": 1576099631, "post_id": 59294327, "comment_id": 104793250, "body": "This loses the order, the newly edited user is always put in the bottom. I would suggest you use reduce or map."}, {"owner": {"reputation": 1943, "user_id": 1839805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IvPfK.jpg?s=128&g=1", "display_name": "Arber Sylejmani", "link": "https://stackoverflow.com/users/1839805/arber-sylejmani"}, "edited": false, "score": 0, "creation_date": 1576099729, "post_id": 59294327, "comment_id": 104793284, "body": "...prevState.browser.result.map(user =&gt; (user.id === userId ? { ...user, isLiked: !user.isLiked } : user  ))"}, {"owner": {"reputation": 1943, "user_id": 1839805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IvPfK.jpg?s=128&g=1", "display_name": "Arber Sylejmani", "link": "https://stackoverflow.com/users/1839805/arber-sylejmani"}, "edited": false, "score": 0, "creation_date": 1576099883, "post_id": 59294327, "comment_id": 104793353, "body": "to add to my comment, this way you don&#39;t have to iterate through browser.result twice, you&#39;re doing one to get the user and then again to filter"}, {"owner": {"reputation": 1943, "user_id": 1839805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IvPfK.jpg?s=128&g=1", "display_name": "Arber Sylejmani", "link": "https://stackoverflow.com/users/1839805/arber-sylejmani"}, "edited": false, "score": 0, "creation_date": 1576099964, "post_id": 59294327, "comment_id": 104793379, "body": "You don&#39;t need this: const user = prevState.browser.result.find(user =&gt; user.id === userId) anymore ;)"}, {"owner": {"reputation": 920, "user_id": 12296807, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1t8DCfwends/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcxQ5kuuANd1g6s32Ata_VtPooLwg/photo.jpg?sz=128", "display_name": "Buk Lau", "link": "https://stackoverflow.com/users/12296807/buk-lau"}, "edited": false, "score": 0, "creation_date": 1576100184, "post_id": 59294327, "comment_id": 104793470, "body": "can you please see the update on the question thank you for ur help"}, {"owner": {"reputation": 1048, "user_id": 9307290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zyp9i.png?s=128&g=1", "display_name": "Emmanuel Meric de Bellefon", "link": "https://stackoverflow.com/users/9307290/emmanuel-meric-de-bellefon"}, "edited": false, "score": 0, "creation_date": 1576102126, "post_id": 59294327, "comment_id": 104794149, "body": "did you change <code>payload.userId</code> and <code>payload.isLiked</code> to proper variables ? I don&#39;t know the shape of your payload."}, {"owner": {"reputation": 920, "user_id": 12296807, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1t8DCfwends/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcxQ5kuuANd1g6s32Ata_VtPooLwg/photo.jpg?sz=128", "display_name": "Buk Lau", "link": "https://stackoverflow.com/users/12296807/buk-lau"}, "edited": false, "score": 0, "creation_date": 1576102238, "post_id": 59294327, "comment_id": 104794199, "body": "the console log of payload is <code>{isLiked: false, userId: 5} isLiked: false userId: 5</code>"}, {"owner": {"reputation": 920, "user_id": 12296807, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1t8DCfwends/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcxQ5kuuANd1g6s32Ata_VtPooLwg/photo.jpg?sz=128", "display_name": "Buk Lau", "link": "https://stackoverflow.com/users/12296807/buk-lau"}, "reply_to_user": {"reputation": 1048, "user_id": 9307290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zyp9i.png?s=128&g=1", "display_name": "Emmanuel Meric de Bellefon", "link": "https://stackoverflow.com/users/9307290/emmanuel-meric-de-bellefon"}, "edited": false, "score": 0, "creation_date": 1576102357, "post_id": 59294327, "comment_id": 104794235, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/204086/discussion-between-buk-lau-and-emmanuel-meric-de-bellefon\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 1048, "user_id": 9307290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zyp9i.png?s=128&g=1", "display_name": "Emmanuel Meric de Bellefon", "link": "https://stackoverflow.com/users/9307290/emmanuel-meric-de-bellefon"}, "is_accepted": true, "score": 1, "last_activity_date": 1576102029, "last_edit_date": 1576102029, "creation_date": 1576099531, "answer_id": 59294327, "question_id": 59294182, "link": "https://stackoverflow.com/questions/59294182/change-specific-value-of-an-array-with-dispatch/59294327#59294327", "title": "change specific value of an array with dispatch", "body": "<p>That should do it :</p>\n\n<pre><code>case SET_NEW_ISLIK:\n  return {\n    ...state,\n    browser: {\n      ...state.browser,\n      result: state.browser.result.map(user =&gt; (\n        user.id === payload.userId\n        ? { ...user, isLiked: payload.isLiked }\n        : user )\n      )\n    }\n  }\n</code></pre>\n"}], "owner": {"reputation": 920, "user_id": 12296807, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1t8DCfwends/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcxQ5kuuANd1g6s32Ata_VtPooLwg/photo.jpg?sz=128", "display_name": "Buk Lau", "link": "https://stackoverflow.com/users/12296807/buk-lau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 59294327, "answer_count": 1, "score": 0, "last_activity_date": 1576102029, "creation_date": 1576098862, "last_edit_date": 1576100154, "question_id": 59294182, "link": "https://stackoverflow.com/questions/59294182/change-specific-value-of-an-array-with-dispatch", "title": "change specific value of an array with dispatch", "body": "<p>I'm working on a browse page I want to change value of islLiked from true to false or the opposite depends onClick that give me the id of the user</p>\n\n<pre><code>\n//this is how i set the result into state\n{ ...state, browser: { ...state.browser, result: payload } };\n</code></pre>\n\n<p>this is my state <a href=\"https://i.stack.imgur.com/hoSRC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hoSRC.png\" alt=\"enter image description here\"></a></p>\n\n<p>this is my reducer </p>\n\n<pre><code>export const profileInitState = {\n  photo: {\n    loading: true,\n    profile_Image: \"\",\n    cover_Image: \"\",\n    first_Image: \"\",\n    second_Image: \"\",\n    third_Image: \"\",\n    fourth_Image: \"\"\n  },\n  info: {\n    loading: true,\n    liked: false,\n    matched: false,\n    blocked: false,\n    id: \"\",\n    user_first_name: \"\",\n    user_last_name: \"\",\n    user_gender: \"\",\n    user_relationship: \"\",\n    user_birth_day: \"\",\n    user_birth_month: \"\",\n    user_gender_interest: \"\",\n    user_birth_year: \"\",\n    user_age: \"\",\n    user_tags: \"\",\n    user_city: \"\",\n    user_current_occupancy: \"\",\n    user_biography: \"\",\n    user_set_from_map: null,\n    user_fame_rate: 0,\n    user_location: {\n      lat: \"\",\n      lng: \"\"\n    }\n  },\n  browser: {\n    result: [],\n    sort_by: \"\"\n  }\n};\n\nexport const profileReducer = (state, action) =&gt; {\n  const { type, payload } = action;\n  switch (type) {\n    case PHOTO_SUCCESS:\n      return { ...state, photo: payload };\n    case INFO_SUCCESS:\n      return { ...state, info: payload };\n    case PROFILE_BLOCKED:\n      return { ...state, info: { ...state.info, blocked: payload } };\n    case PROFILE_LIKED:\n      return { ...state, info: { ...state.info, liked: payload } };\n    case PROFILE_MATCHED:\n      return { ...state, info: { ...state.info, matched: payload } };\n    case BROWSER_RETURN:\n      return { ...state, browser: { ...state.browser, result: payload } };\n    case SET_NEW_ISLIK:\n    // i want to keep the previouse result and change only the value of islike with the value of payload but just for the chossen user with the same id it will also be on payload: {\n        //isLike: res.fromdb,\n        //valide: id\n      //}\n    case SORT_BY_BACK:\n      return { ...state, browser: { ...state.browser, sort_by: payload } };\n    default:\n      return state;\n  }\n};\n</code></pre>\n\n<p>the new value of isLike will be on the payload </p>\n\n<p>I'm wondering if there is a way to do that with the help of id of the user hope you get what I try to explain</p>\n"}, {"tags": ["javascript", "sql", "date", "jt400"], "comments": [{"owner": {"reputation": 35510, "user_id": 3706016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wqmW0.jpg?s=128&g=1", "display_name": "jarlh", "link": "https://stackoverflow.com/users/3706016/jarlh"}, "edited": false, "score": 0, "creation_date": 1576099133, "post_id": 59294163, "comment_id": 104793031, "body": "Syntax error: <code>... where and ...</code>."}, {"owner": {"reputation": 1012, "user_id": 3170976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d96d1112ccb4d79377715627a35b2d7?s=128&d=identicon&r=PG&f=1", "display_name": "Mardok", "link": "https://stackoverflow.com/users/3170976/mardok"}, "reply_to_user": {"reputation": 35510, "user_id": 3706016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wqmW0.jpg?s=128&g=1", "display_name": "jarlh", "link": "https://stackoverflow.com/users/3706016/jarlh"}, "edited": false, "score": 0, "creation_date": 1576099345, "post_id": 59294163, "comment_id": 104793130, "body": "good catch, but that is not it. the real query has it lots of stuff in the where. Removing the and with the date stops the error. so I just put the relevant stuff here."}], "answers": [{"tags": [], "owner": {"reputation": 1012, "user_id": 3170976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d96d1112ccb4d79377715627a35b2d7?s=128&d=identicon&r=PG&f=1", "display_name": "Mardok", "link": "https://stackoverflow.com/users/3170976/mardok"}, "is_accepted": false, "score": 0, "last_activity_date": 1576100609, "creation_date": 1576100609, "answer_id": 59294560, "question_id": 59294163, "link": "https://stackoverflow.com/questions/59294163/how-to-query-a-date-timestamp-field-with-a-timestamp-string-in-sql/59294560#59294560", "title": "How to Query a date timestamp field with a timestamp string in sql", "body": "<p>I missed the fact that key was in the format of YYYYMMDD and varchar_format was looking for a Date, not a string.</p>\n\n<p>const sql = <code>select * from table t where varchar_format(t.mydate, 'YYYYMMDD') = ?;</code></p>\n"}], "owner": {"reputation": 1012, "user_id": 3170976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d96d1112ccb4d79377715627a35b2d7?s=128&d=identicon&r=PG&f=1", "display_name": "Mardok", "link": "https://stackoverflow.com/users/3170976/mardok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 146, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1576100609, "creation_date": 1576098770, "last_edit_date": 1576099205, "question_id": 59294163, "link": "https://stackoverflow.com/questions/59294163/how-to-query-a-date-timestamp-field-with-a-timestamp-string-in-sql", "title": "How to Query a date timestamp field with a timestamp string in sql", "body": "<p>I am attempting to query an as400 sql database on a date field, with the jt400 npm package. On table t, mydate is a timestamp string that should equal the key, but for some reason it is not working. On a previous query I am getting the value of key. And then passing it back into this query exactly as it came out. How do I make sure the date comparison works?</p>\n\n<pre><code>const key = '123456789' // some date as a timestamp\nconst sql = `select * from table t where varchar_format(t.mydate, 'YYYYMMDD') = varchar_format(?, 'YYYYMMDD');`\n\nthis.pool.query(sql, [key])\n</code></pre>\n\n<p>Then I get the error</p>\n\n<pre><code>Error running instance method\\njava.sql.SQLException: Data type mismatch. (20190525)\\n\\tat com.ibm.as400.access.JDError.createSQLExceptionSubClass(JDError.java:828)\\n\\tat com.ibm.as400.access.JDError.throwSQLException(JDError.java:495)\\n\\tat com.ibm.as400.access.JDError.throwSQLException(JDError.java:464)\\n\\tat com.ibm.as400.access.SQLTimestamp.setTimestampFieldsFromString(SQLTimestamp.java:79)\\n\\tat com.ibm.as400.access.SQLTimestamp.set(SQLTimestamp.java:469)\\n\\tat com.ibm.as400.access.AS400JDBCPreparedStatement.setValue(AS400JDBCPreparedStatement.java:3583)\\n\\tat com.ibm.as400.access.AS400JDBCPreparedStatement.setString(AS400JDBCPreparedStatement.java:3231)\\n\\tat nodejt400.JdbcJsonClient.setParams(Unknown Source)\\n\\tat nodejt400.JdbcJsonClient.query(Unknown Source)\\n\\tat nodejt400.JT400.query(Unknown Source)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\\n\n</code></pre>\n"}, {"tags": ["javascript", "java", "signature"], "comments": [{"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 1, "creation_date": 1576099098, "post_id": 59294126, "comment_id": 104793016, "body": "alternative to your str2ab: <code>new Uint8Array([...str].map(v =&gt; v.charCodeAt()));</code>... but you start with a buffer, why would you even <code>.toString()</code> only to then unstring it again? Why not <code>const data = new Uint8Array(Buffer.from(dataB64, &#39;base64&#39;));</code>? Doing so means removing <code>str2ab</code> as possible source of problems."}, {"owner": {"reputation": 51, "user_id": 4672514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbf6d432c05e4cdeb3867770fb852798?s=128&d=identicon&r=PG&f=1", "display_name": "Songlin He", "link": "https://stackoverflow.com/users/4672514/songlin-he"}, "reply_to_user": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 1, "creation_date": 1576101847, "post_id": 59294126, "comment_id": 104794060, "body": "Thank you so much, it works!!!@Mike&#39;Pomax&#39;Kamermans. The <code>str2ab</code> is redundant, using the <code>const data = new Uint8Array(Buffer.from(dataB64, &#39;base64&#39;));</code> solves the problem."}], "owner": {"reputation": 51, "user_id": 4672514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbf6d432c05e4cdeb3867770fb852798?s=128&d=identicon&r=PG&f=1", "display_name": "Songlin He", "link": "https://stackoverflow.com/users/4672514/songlin-he"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 143, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576098607, "creation_date": 1576098607, "question_id": 59294126, "link": "https://stackoverflow.com/questions/59294126/java-sign-and-javascript-verify-a-signature-failed", "title": "Java sign and Javascript verify a signature failed", "body": "<p>I am trying to use Java to sign a message on the server side, while verify the signature on the client side, but failed! My steps are as follows:</p>\n\n<ol>\n<li><p>Generate RSA key pair:</p>\n\n<p><code>openssl genrsa -out privatekey.pem 2048</code><br>\n<code>openssl pkcs8 -topk8 -inform PEM -outform DER -in privatekey.pem -out private_key.der -nocrypt</code><br>\n<code>openssl rsa -in privatekey.pem -pubout -outform DER -out pubic_key.der</code></p></li>\n</ol>\n\n<p>Thus I got <code>pubic_key.der</code> and <code>private_key.der</code> two files.</p>\n\n<ol start=\"2\">\n<li>Using java to load these two files and generate signature.</li>\n</ol>\n\n<pre><code>import java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.security.*;\nimport java.security.interfaces.RSAPublicKey;\nimport java.security.spec.KeySpec;\nimport java.security.spec.PKCS8EncodedKeySpec;\nimport java.security.spec.X509EncodedKeySpec;\nimport org.apache.commons.codec.binary.Base64;\nimport com.nimbusds.jose.jwk.*;\n\npublic class SignatureTest {\n\n    public static KeyPair generateSignKeyPair() throws Exception {\n        byte[] privBytes = Files.readAllBytes(Paths.get(\"testFiles/private_key.der\"));\n        byte[] pubBytes = Files.readAllBytes(Paths.get(\"testFiles/public_key.der\"));\n\n        // private key\n        KeySpec keySpec = new PKCS8EncodedKeySpec(privBytes);\n        KeyFactory keyFactory = KeyFactory.getInstance(\"RSA\");\n        PrivateKey privateKey = keyFactory.generatePrivate(keySpec);\n\n        //public key\n        X509EncodedKeySpec X509publicKey = new X509EncodedKeySpec(pubBytes);\n        PublicKey publicKey = keyFactory.generatePublic(X509publicKey);\n        return new KeyPair(publicKey, privateKey);\n    }\n\n    public static byte[] generateSignature(PrivateKey signPrivateKey, byte[] data) throws Exception {\n        Signature dsa = Signature.getInstance(\"SHA256withRSA\");\n        dsa.initSign(signPrivateKey);\n        dsa.update(data);\n        return dsa.sign();\n    }\n\n    public static boolean verifySignature(PublicKey publicKey, byte[] data, byte[] sig) throws Exception {\n        Signature dsa = Signature.getInstance(\"SHA256withRSA\");\n        dsa.initVerify(publicKey);\n        dsa.update(data);\n        return dsa.verify(sig);\n    }\n\n    private static String getPEMPrivateKeyFromDER(PrivateKey privateKey) {\n        Base64 base64 = new Base64();\n        String begin = \"-----BEGIN PRIVATE KEY-----\";\n        String end = \"-----END PRIVATE KEY-----\";\n        PKCS8EncodedKeySpec pkcs8EncodedKeySpec = new PKCS8EncodedKeySpec(privateKey.getEncoded());\n        String key = new String(base64.encode(pkcs8EncodedKeySpec.getEncoded()));\n        return begin + \"\\n\" + key + \"\\n\" + end;\n    }\n\n    private static String getPEMPublicKeyFromDER(PublicKey publicKey) {\n        Base64 base64 = new Base64();\n        String begin = \"-----BEGIN PUBLIC KEY-----\";\n        String end = \"-----END PUBLIC KEY-----\";\n        PKCS8EncodedKeySpec pkcs8EncodedKeySpec = new PKCS8EncodedKeySpec(publicKey.getEncoded());\n        String key = new String(base64.encode(pkcs8EncodedKeySpec.getEncoded()));\n        return begin + \"\\n\" + key + \"\\n\" + end;\n    }\n\n    public static void main(String[] args) {\n        Base64 base64 = new Base64();\n        try{\n            KeyPair keyPair = generateSignKeyPair();\n            PrivateKey privateKey = keyPair.getPrivate();\n            PublicKey publicKey = keyPair.getPublic();\n\n            // print private key\n            String privKey = getPEMPrivateKeyFromDER(privateKey);\n            System.out.println(\"privKey:\\n \" + privKey);\n\n            // print public key       \n            String pubKey = getPEMPublicKeyFromDER(publicKey);\n            System.out.println(\"pubKey:\\n \" + pubKey);\n\n            System.out.println(\"---------------Convert to JWK-----------------\");\n            RSAKey jwk = new RSAKey.Builder((RSAPublicKey) publicKey).privateKey(privateKey).build();\n\n            System.out.println(\"jwk:\\n\" + jwk.toPublicJWK());\n\n            String data = new String(base64.encode(\"hello\".getBytes()));\n\n            // sign \"hello\"\n            byte[] sig = generateSignature(keyPair.getPrivate(), \"hello\".getBytes());\n            System.out.println(\"signature base64: \" + new String(Base64.encodeBase64(sig)));\n\n            // start verify\n            boolean result = verifySignature(publicKey, \"hello\".getBytes(), sig);\n            System.out.println(\"Verification: \" + result);\n        }catch (Exception e){\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n\n<p>The output of the public key, private key, signature and jwk are as follows:</p>\n\n<ul>\n<li>public key:</li>\n</ul>\n\n<pre><code>-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0pGjaaEsFCYj3sjfYzTarJPgYgSGtuwMeCMgfzAEFy0va+R83tyRNy7asYtGFB8mpwaED9OvzVJ3JvJKCE81c6Q6yWoZ+xQEzMtvQ3FibH/MH+gBSkgRYczP+dsT9j3n+F6sIRz9qdHfzHCyDPZ0tSf/wmmsX54eayMuH1p417bHv9yysDgXYxWKWiOoYOP6ynYSqMLEIxirkgUYlhsXVTD4RlZOAVBCUIbN2YE41UnQDExEnw6s8u1KHDeiNc15G1zZmm4SX/BNOWEeGjEVB4VJAwTUynaAcGgcBuNxzadpklLqFNYyIbu3WkK8L1Im3vVAuttMYIFF7sWiWLiFDQIDAQAB\n-----END PUBLIC KEY-----\n</code></pre>\n\n<ul>\n<li>private key:</li>\n</ul>\n\n<pre><code>-----BEGIN PRIVATE KEY-----\nMIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQDSkaNpoSwUJiPeyN9jNNqsk+BiBIa27Ax4IyB/MAQXLS9r5Hze3JE3Ltqxi0YUHyanBoQP06/NUncm8koITzVzpDrJahn7FATMy29DcWJsf8wf6AFKSBFhzM/52xP2Pef4XqwhHP2p0d/McLIM9nS1J//Caaxfnh5rIy4fWnjXtse/3LKwOBdjFYpaI6hg4/rKdhKowsQjGKuSBRiWGxdVMPhGVk4BUEJQhs3ZgTjVSdAMTESfDqzy7UocN6I1zXkbXNmabhJf8E05YR4aMRUHhUkDBNTKdoBwaBwG43HNp2mSUuoU1jIhu7daQrwvUibe9UC620xggUXuxaJYuIUNAgMBAAECggEBAMuzFflucDzBtLulaO0IyW5f05YeuM+mRF3H5X0Ez0A4dwKR0/aoO1a93dQZXl7Cz9qOZB0HdK9U0m17wACP166aNkB4gs+wSwBu4KDGxCcf7jEDeJQKab5JqvwTYhk5Q/myZCPYbs/kdvLIJoaBuN8y5amGHrmVNeoA63JrTDGoH7EVSPuJSDLzYd6Wtj5agAR7t4YRvWgqGsYRwhekXONOkMcoPh+o4WGocfLvI39XTzSTiItX+LfcWIKNL7KhPfjALfmCSzhCBEI0DqjMG4UFusfhGun5RM3Ii+ADfPwR1RkuqfVRvvdCh+B9C2RvflIXbJ8g6VfYDCnSmFyPXsUCgYEA8ju5im9oS+8z4C341IUdWpLthJyKGdBd/fvfTlRQFOroz5fKM8nK52BMf8Z0am641UY7gmNaEVID+z4KSIEIvgK19ymZmIUmMHR9nyFUDG7U05GeR9ocp+E12C5mo6KVkmfydMP0o+JeVcRxIksY5O7KcD1GgajJ2oHuOpJODlMCgYEA3ok5pvfCuZ3BpAblHAtKheCtydqt1vqYdPt1/IwzscJSpBkPNV08LQVjHBduSbZ0CqnSP0m+RkJysl7lJbsUejDZvDLpVTuHbI+/lVKVNsDcjbqFCaQ/YNbCS3/RQR8aHyAOjGvFUT0TyiGCyA0RUtOPQ0lN3jKSlvmB4KIk8x8CgYEA1frmcyDpDDMZK07RAcM5Y/po8P1rjVQgw61M3R/jwialVEStLUR0BiJuUW1ZB3AZvOUWyp7DQIun0rhCUzwRIfC5F8Za1X3Bd4pgMkM5wOXjAaYgIS7Oo4pxiy+qIaEM6dEDQByeLmtYlAE9Q2L9cbZzg+TNNNqKvYiLjpgRddsCgYBk5yvw/V6Z82IeEdJIyQXddmbWpAU2+SGvyWVSQfAepdH6/jHbLI9gipTJ5AXp/oTXYPEoKTPRf8eqAUU9unoqfYP8xcjvELLzEqr39h4aWZCn4u731DW4nygyO56SPJwHiO2P1j39/AfBGzjFpMc6GxtWkyJvoda+BhxR0rOWWQKBgQCXKepBOKEcE+tBpptYNBI3fWZp21W0WggTNcsBTvLHT1few5voRxmVlzoP2h3VB30v9i7JyGlP76nZFN+PEQeTUStmRk5kyi0UMx001+qgAjc2uEYUPxf62luQiJdozaQ+tXQ7KTKiQixqfUC4jQszUIlwFLDZgS7gZ7ynzOIGBQ==\n-----END PRIVATE KEY-----\n</code></pre>\n\n<ul>\n<li>signature:</li>\n</ul>\n\n<pre><code>signature base64: sor4eqf2iBiqJnhMogu2GSx0JlT804l9J4thEkZ6stPZLari3sFa6w1/kxtwR+ogHq+LJM2g25eygTPr6RqndOiVjWnB7l0btnPV+wN4AWzofBSi+vAXL+BA+ANm8QF14JG0yW2acF+Wyn+xZjMid6tCc1IVw/3EOdVGWVATVYigM6HCVxdXE9HLBuj0VK7suWgseAEfxrn5hbzaJT+OxZ4Ozx3YwwyUjeDy62cnirswOMb49bZ7eLEreffCZLnah1URrerXTikFyDSFslZjg4X19q4MArZ+xqm8ON+tLC4NoQw7ST9f7KcYznbw58oEgpvE2mxdiEbsTqWwJ+/BOQ==\n</code></pre>\n\n<ul>\n<li>jwk (JSON Web Key):</li>\n</ul>\n\n<pre><code>{\"kty\":\"RSA\",\"e\":\"AQAB\",\"n\":\"0pGjaaEsFCYj3sjfYzTarJPgYgSGtuwMeCMgfzAEFy0va-R83tyRNy7asYtGFB8mpwaED9OvzVJ3JvJKCE81c6Q6yWoZ-xQEzMtvQ3FibH_MH-gBSkgRYczP-dsT9j3n-F6sIRz9qdHfzHCyDPZ0tSf_wmmsX54eayMuH1p417bHv9yysDgXYxWKWiOoYOP6ynYSqMLEIxirkgUYlhsXVTD4RlZOAVBCUIbN2YE41UnQDExEnw6s8u1KHDeiNc15G1zZmm4SX_BNOWEeGjEVB4VJAwTUynaAcGgcBuNxzadpklLqFNYyIbu3WkK8L1Im3vVAuttMYIFF7sWiWLiFDQ\"}\n</code></pre>\n\n<p><strong>In java, the verification is true!!!</strong></p>\n\n<ol start=\"3\">\n<li>In the client side, I use Webcrypto to verify:</li>\n</ol>\n\n<pre><code>// npm install @trust/webcrypto --save\nconst crypto = require('@trust/webcrypto');\n\n// Utility function\nfunction str2ab(str) {\n  var arrBuff = new ArrayBuffer(str.length);\n  var bytes = new Uint8Array(arrBuff);\n  for (var iii = 0; iii &lt; str.length; iii++) {\n    bytes[iii] = str.charCodeAt(iii);\n  }\n  return bytes;\n}\n\n// The publicKeyB64 is in the form of jwk that output in the step 2\nvar publicKeyB64 = {\"kty\":\"RSA\",\"e\":\"AQAB\",\"n\":\"0pGjaaEsFCYj3sjfYzTarJPgYgSGtuwMeCMgfzAEFy0va-R83tyRNy7asYtGFB8mpwaED9OvzVJ3JvJKCE81c6Q6yWoZ-xQEzMtvQ3FibH_MH-gBSkgRYczP-dsT9j3n-F6sIRz9qdHfzHCyDPZ0tSf_wmmsX54eayMuH1p417bHv9yysDgXYxWKWiOoYOP6ynYSqMLEIxirkgUYlhsXVTD4RlZOAVBCUIbN2YE41UnQDExEnw6s8u1KHDeiNc15G1zZmm4SX_BNOWEeGjEVB4VJAwTUynaAcGgcBuNxzadpklLqFNYyIbu3WkK8L1Im3vVAuttMYIFF7sWiWLiFDQ\"};\n\n// the Base64 output of \"hello\"\nvar dataB64 = \"aGVsbG8=\";\n\n// The signature output from step 2\nvar signatureB64 = \"sor4eqf2iBiqJnhMogu2GSx0JlT804l9J4thEkZ6stPZLari3sFa6w1/kxtwR+ogHq+LJM2g25eygTPr6RqndOiVjWnB7l0btnPV+wN4AWzofBSi+vAXL+BA+ANm8QF14JG0yW2acF+Wyn+xZjMid6tCc1IVw/3EOdVGWVATVYigM6HCVxdXE9HLBuj0VK7suWgseAEfxrn5hbzaJT+OxZ4Ozx3YwwyUjeDy62cnirswOMb49bZ7eLEreffCZLnah1URrerXTikFyDSFslZjg4X19q4MArZ+xqm8ON+tLC4NoQw7ST9f7KcYznbw58oEgpvE2mxdiEbsTqWwJ+/BOQ==\";\n\nvar signatureAlgorithm = {name: 'RSASSA-PKCS1-v1_5', modulusLength: 2048, publicExponent: new Uint8Array([0x01, 0x00, 0x01]), hash: {name: 'SHA-256'}};\n\nvar data = str2ab(Buffer.from(dataB64, 'base64').toString());\nvar signature = str2ab(Buffer.from(signatureB64, 'base64').toString());\n\ncrypto.subtle.importKey(\"jwk\", publicKeyB64, signatureAlgorithm, false, [\"verify\"]).then(function(pubkey){\n        console.log(\"pubkey: \" + pubkey);\n        return crypto.subtle.verify(signatureAlgorithm, pubkey, signature, data);                    \n}).then( function (valid) {\n    console.log(\"Signature valid: ----- \" + valid + \" -----\");\n}).catch(function(err) {\n    console.log(\"Verification failed: \\n\" + err );\n});\n</code></pre>\n\n<ol start=\"4\">\n<li>The result shows:</li>\n</ol>\n\n<p><code>Signature valid: ----- false -----</code></p>\n\n<p>I am wondering I made mistake in any step and could anyone help with this issue? Thanks a lot.</p>\n"}, {"tags": ["javascript", "jquery", "html"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 11919457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0b40d89957773619861ce22c8ebd656?s=128&d=identicon&r=PG&f=1", "display_name": "Catboy", "link": "https://stackoverflow.com/users/11919457/catboy"}, "edited": false, "score": 0, "creation_date": 1576100385, "post_id": 59294231, "comment_id": 104793561, "body": "How should I then create functions in Javascript that access the jQuery variables and functions that I have made ? Sorry I am new to this Javascript."}, {"owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "reply_to_user": {"reputation": 11, "user_id": 11919457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0b40d89957773619861ce22c8ebd656?s=128&d=identicon&r=PG&f=1", "display_name": "Catboy", "link": "https://stackoverflow.com/users/11919457/catboy"}, "edited": false, "score": 0, "creation_date": 1576100557, "post_id": 59294231, "comment_id": 104793639, "body": "Not sure if this is what you&#39;re asking, but any of the code you have inline in the script tag will work inside of your JavaScript file."}], "tags": [], "owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "is_accepted": false, "score": 0, "last_activity_date": 1576099082, "creation_date": 1576099082, "answer_id": 59294231, "question_id": 59294091, "link": "https://stackoverflow.com/questions/59294091/i-m-in-the-middle-of-creating-a-quiz-but-some-parts-have-me-scratching-my-head/59294231#59294231", "title": "I\u2019m in the middle of creating a quiz but some parts have me scratching my head", "body": "<p>I'd suggest moving all that inline JavaScript in your HTML to your JavaScript file as well. That should allow that code to modify that same <code>timeleft</code> variable that the countdown code uses. It'll then simply be a matter of adding to or subtracting to it. You'd also want to move your countdown text code into its own function so that when you add/subtract you can also update the screen with a new time remaining message.</p>\n"}], "owner": {"reputation": 11, "user_id": 11919457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0b40d89957773619861ce22c8ebd656?s=128&d=identicon&r=PG&f=1", "display_name": "Catboy", "link": "https://stackoverflow.com/users/11919457/catboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576099082, "creation_date": 1576098466, "last_edit_date": 1576098866, "question_id": 59294091, "link": "https://stackoverflow.com/questions/59294091/i-m-in-the-middle-of-creating-a-quiz-but-some-parts-have-me-scratching-my-head", "title": "I\u2019m in the middle of creating a quiz but some parts have me scratching my head", "body": "<p>I am trying to make it so that every time the user clicks the answer under the list of choices buttons more time is added to the countdown and when the user clicks on any other one of the choices time is deducted from the countdown. Also when the user clicks on anyone of the choices whether its the correct answer or not they then move onto the next question and only one question is displayed at a time within the form. If anyone can take a look at my current code and give me some suggestions about what things I could possibly do that would be amazing. By the way I have a separate js file named questions.js which lists the questions, choices, and answers in the form of an array.</p>\n\n<p>Heres the html file and theres some jQuery on there as well :</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;  \n&lt;html lang=\"en\"&gt;  \n\n&lt;head&gt;  \n &lt;meta charset=\"UTF-8\"&gt;  \n &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;  \n &lt;meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"&gt;  \n &lt;link rel=\"stylesheet\" href=\"style.css\"&gt;  \n &lt;title&gt;Bleach Quiz&lt;/title&gt;  \n &lt;script  \n src=\"https://code.jquery.com/jquery-3.4.1.js\"  \n integrity=\"sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=\"  \n crossorigin=\"anonymous\"&gt;&lt;/script&gt;  \n&lt;/head&gt;  \n&lt;body&gt;  \n &lt;nav&gt;  \n &lt;ul&gt;  \n &lt;li id=\"highscore\"&gt;&lt;p&gt;Highscore&lt;/p&gt;&lt;/li&gt;  \n &lt;li id=\"time\"&gt;&lt;p id=\"currentTime\"&gt;&lt;/p\\&gt;&lt;/li&gt;  \n &lt;/ul&gt;  \n &lt;/nav&gt;  \n &lt;div id=\"Start\"&gt;Start Quiz&lt;/div&gt;  \n &lt;div id=\"form\"&gt;  \n &lt;/div&gt;  \n &lt;script src=\"questions.js\"&gt;&lt;/script&gt;  \n &lt;script type=\"text/javascript\"&gt;  \n var index = 0;  \n var firstQuestion = questions[index];  \n var h = $(\"&lt;h&gt;\");  \n h.text(firstQuestion.title);  \n var c1 = $(\"&lt;button&gt;\");  \n var c2 = $(\"&lt;button&gt;\");  \n var c3 = $(\"&lt;button&gt;\");  \n c1.text(firstQuestion.choices[0]);  \n c2.text(firstQuestion.choices[1]);  \n c3.text(firstQuestion.choices[2]);  \n c1.on(\"click\", function(e){  \n alert(e.target.innerText)  \n})  \n $(\"#form\").append(h);  \n $(\"#form\").append(\"&lt;br&gt;\")  \n $(\"#form\").append(c1);  \n $(\"#form\").append(\"&lt;br&gt;\")  \n $(\"#form\").append(c2);  \n $(\"#form\").append(\"&lt;br&gt;\")  \n $(\"#form\").append(c3);  \n $(\"#form\").append(\"&lt;br&gt;\");  \n var secondQuestion = questions[1];  \n var h = $(\"&lt;h&gt;\");  \n h.text(secondQuestion.title);  \n var c1 = $(\"&lt;button&gt;\");  \n var c2 = $(\"&lt;button&gt;\");  \n var c3 = $(\"&lt;button&gt;\");  \n c1.text(secondQuestion.choices[0]);  \n c2.text(secondQuestion.choices[1]);  \n c3.text(secondQuestion.choices[2]);  \n c3.on(\"click\", function(e){  \n alert(e.target.innerText)  \n})  \n $(\"#form\").append(h);  \n $(\"#form\").append(\"&lt;br&gt;\")  \n $(\"#form\").append(c1);  \n $(\"#form\").append(\"&lt;br&gt;\")  \n $(\"#form\").append(c2);  \n $(\"#form\").append(\"&lt;br&gt;\")  \n $(\"#form\").append(c3);  \n $(\"#form\").append(\"&lt;br&gt;\");  \n var thirdQuestion = questions[2];  \n var h = $(\"&lt;h&gt;\");  \n h.text(thirdQuestion.title);  \n var c1 = $(\"&lt;button&gt;\");  \n var c2 = $(\"&lt;button&gt;\");  \n var c3 = $(\"&lt;button&gt;\");  \n c1.text(thirdQuestion.choices[0]);  \n c2.text(thirdQuestion.choices[1]);  \n c3.text(thirdQuestion.choices[2]);  \n c2.on(\"click\", function(e){  \n alert(e.target.innerText)  \n})  \n $(\"#form\").append(h);  \n $(\"#form\").append(\"&lt;br&gt;\")  \n $(\"#form\").append(c1);  \n $(\"#form\").append(\"&lt;br&gt;\")  \n $(\"#form\").append(c2);  \n $(\"#form\").append(\"&lt;br&gt;\")  \n $(\"#form\").append(c3);  \n $(\"#form\").append(\"&lt;br&gt;\");  \n var fourthQuestion = questions[3];  \n var h = $(\"&lt;h&gt;\");  \n h.text(fourthQuestion.title);  \n var c1 = $(\"&lt;button&gt;\");  \n var c2 = $(\"&lt;button&gt;\");  \n var c3 = $(\"&lt;button&gt;\");  \n c1.text(fourthQuestion.choices[0]);  \n c2.text(fourthQuestion.choices[1]);  \n c3.text(fourthQuestion.choices[2]);  \n c1.on(\"click\", function(e){  \n alert(e.target.innerText)  \n})  \n $(\"#form\").append(h);  \n $(\"#form\").append(\"&lt;br&gt;\")  \n $(\"#form\").append(c1);  \n $(\"#form\").append(\"&lt;br&gt;\")  \n $(\"#form\").append(c2);  \n $(\"#form\").append(\"&lt;br&gt;\")  \n $(\"#form\").append(c3);  \n $(\"#form\").append(\"&lt;br&gt;\");  \n var fifthQuestion = questions[4];  \n var h = $(\"&lt;h&gt;\");  \n h.text(fifthQuestion.title);  \n var c1 = $(\"&lt;button&gt;\");  \n var c2 = $(\"&lt;button&gt;\");  \n var c3 = $(\"&lt;button&gt;\");  \n c1.text(fifthQuestion.choices[0]);  \n c2.text(fifthQuestion.choices[1]);  \n c3.text(fifthQuestion.choices[2]);  \n c3.on(\"click\", function(e){  \n alert(e.target.innerText)  \n})  \n $(\"#form\").append(h);  \n $(\"#form\").append(\"&lt;br&gt;\")  \n $(\"#form\").append(c1);  \n $(\"#form\").append(\"&lt;br&gt;\")  \n $(\"#form\").append(c2);  \n $(\"#form\").append(\"&lt;br&gt;\")  \n $(\"#form\").append(c3);  \n $(\"#form\").append(\"&lt;br&gt;\");  \n &lt;/script&gt;  \n &lt;script src=\"script.js\"&gt;&lt;/script&gt;  \n&lt;/body&gt;  \n&lt;/html&gt;\n</code></pre>\n\n<p>Here's the JavaScript file:</p>\n\n<pre><code>var startElt = document.getElementById(\"Start\");  \nvar timeleft = 75;  \n\nfunction startQuiz(){  \n  var bankaiTimer = setInterval(function(){  \n    document.getElementById(\"currentTime\").innerHTML = timeleft + \" seconds remaining\";  \n    timeleft -= 1;  \n    if(timeleft &lt;= 0){  \n      clearInterval(bankaiTimer);  \n      document.getElementById(\"currentTime\").innerHTML = \"Its Over\"  \n    }  \n  }, 1000);\n}  \nstartElt.addEventListener(\"click\", startQuiz);\n</code></pre>\n"}, {"tags": ["javascript", "php", "api", "fetch-api"], "comments": [{"owner": {"reputation": 3870, "user_id": 773849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc313492ba01cdb794a218eeeeab8ee?s=128&d=identicon&r=PG", "display_name": "Alex Barker", "link": "https://stackoverflow.com/users/773849/alex-barker"}, "edited": false, "score": 1, "creation_date": 1576099848, "post_id": 59294084, "comment_id": 104793338, "body": "You cannot call a PHP class directly from a url.  You must first load the class and then construct it as you previously noted.  The simplest answer is to use a plain PHP file to construct your object."}, {"owner": {"reputation": 1071, "user_id": 9583205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6906f06ce5b874e936aac9942db87109?s=128&d=identicon&r=PG&f=1", "display_name": "jibsteroos", "link": "https://stackoverflow.com/users/9583205/jibsteroos"}, "edited": false, "score": 0, "creation_date": 1576100120, "post_id": 59294084, "comment_id": 104793449, "body": "could you show us <code>create-payment-intent.php</code> and be specific about why you couldn&#39;t invoke a method in a class (required) inside the file?"}, {"owner": {"reputation": 678, "user_id": 2751037, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d196479475022e4d456ce394cd175d3c?s=128&d=identicon&r=PG&f=1", "display_name": "Shaun", "link": "https://stackoverflow.com/users/2751037/shaun"}, "edited": false, "score": 0, "creation_date": 1576100374, "post_id": 59294084, "comment_id": 104793559, "body": "The create-payment-intent.php is the example Stripe give here: <a href=\"https://stripe.com/docs/payments/accept-a-payment-synchronously\" rel=\"nofollow noreferrer\">stripe.com/docs/payments/accept-a-payment-synchronously</a>"}, {"owner": {"reputation": 678, "user_id": 2751037, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d196479475022e4d456ce394cd175d3c?s=128&d=identicon&r=PG&f=1", "display_name": "Shaun", "link": "https://stackoverflow.com/users/2751037/shaun"}, "reply_to_user": {"reputation": 1071, "user_id": 9583205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6906f06ce5b874e936aac9942db87109?s=128&d=identicon&r=PG&f=1", "display_name": "jibsteroos", "link": "https://stackoverflow.com/users/9583205/jibsteroos"}, "edited": false, "score": 0, "creation_date": 1576100582, "post_id": 59294084, "comment_id": 104793651, "body": "@jibsteroos see updated answer"}, {"owner": {"reputation": 1181, "user_id": 8634812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wc6ev.jpg?s=128&g=1", "display_name": "lovelace", "link": "https://stackoverflow.com/users/8634812/lovelace"}, "edited": false, "score": 0, "creation_date": 1576100722, "post_id": 59294084, "comment_id": 104793701, "body": "@shaun, thanks. So why couldn&#39;t you run the methods when they are inside a class?"}, {"owner": {"reputation": 678, "user_id": 2751037, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d196479475022e4d456ce394cd175d3c?s=128&d=identicon&r=PG&f=1", "display_name": "Shaun", "link": "https://stackoverflow.com/users/2751037/shaun"}, "reply_to_user": {"reputation": 3870, "user_id": 773849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc313492ba01cdb794a218eeeeab8ee?s=128&d=identicon&r=PG", "display_name": "Alex Barker", "link": "https://stackoverflow.com/users/773849/alex-barker"}, "edited": false, "score": 0, "creation_date": 1576100971, "post_id": 59294084, "comment_id": 104793771, "body": "Because Stripe uses the fetch() function and directly calls a URL to run the file whereas I need to call a method in a php to run instead. I think @AlexBarker has already said this isn&#39;t possible so i think i may just create a plain PHP file instead."}, {"owner": {"reputation": 1071, "user_id": 9583205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6906f06ce5b874e936aac9942db87109?s=128&d=identicon&r=PG&f=1", "display_name": "jibsteroos", "link": "https://stackoverflow.com/users/9583205/jibsteroos"}, "edited": false, "score": 0, "creation_date": 1576101968, "post_id": 59294084, "comment_id": 104794102, "body": "<code>fetch()</code> is a bit like modern Ajax, it lets you asynchronously fetch resources, like e.g. <code>create-payment-intent.php</code>. Surely you can wrap the stripe script in a class on the server if that&#39;s what you want, and surely you can instantiate and invoke methods inside the class sans probleme."}], "owner": {"reputation": 678, "user_id": 2751037, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d196479475022e4d456ce394cd175d3c?s=128&d=identicon&r=PG&f=1", "display_name": "Shaun", "link": "https://stackoverflow.com/users/2751037/shaun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 283, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576100564, "creation_date": 1576098413, "last_edit_date": 1576100564, "question_id": 59294084, "link": "https://stackoverflow.com/questions/59294084/using-fetch-api-with-oop-php-class-do-i-need-a-url", "title": "Using fetch API with OOP php class - do i need a URL?", "body": "<p>I'm trying to setup a simple Stripe payment on my Wordpress plugin. I've followed their documentation and they recommend using fetch API to get the server side paymentIntent response from a .php file like below. </p>\n\n<pre><code>fetch(\"/create-payment-intent.php\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(orderData)\n    })\n</code></pre>\n\n<p>However, my plugin is built using OOP and the code is within a class so I'm guessing if i point to this file directly it wouldn't work as it first needs to be first initialised. Is there a way of using fetch to call a method in a php class? Or is it better to use AJAX to handle the above?</p>\n\n<p><strong>Update</strong></p>\n\n<p>This is the code Stripe have in their documentation which i need to run in create-payment-intent.php. However, in my case i want to run the methods in a class so using fetch() woudln't work. </p>\n\n<pre><code># vendor using composer\n  require_once('vendor/autoload.php');\n\n  \\Stripe\\Stripe::setApiKey(getenv('STRIPE_SECRET_KEY'));\n\n  header('Content-Type: application/json');\n\n  # retrieve json from POST body\n  $json_str = file_get_contents('php://input');\n  $json_obj = json_decode($json_str);\n\n  $intent = null;\n  try {\n    if (isset($json_obj-&gt;payment_method_id)) {\n      # Create the PaymentIntent\n      $intent = \\Stripe\\PaymentIntent::create([\n        'payment_method' =&gt; $json_obj-&gt;payment_method_id,\n        'amount' =&gt; 1099,\n        'currency' =&gt; 'usd',\n        'confirmation_method' =&gt; 'manual',\n        'confirm' =&gt; true,\n      ]);\n    }\n    if (isset($json_obj-&gt;payment_intent_id)) {\n      $intent = \\Stripe\\PaymentIntent::retrieve(\n        $json_obj-&gt;payment_intent_id\n      );\n      $intent-&gt;confirm();\n    }\n    generateResponse($intent);\n  } catch (\\Stripe\\Exception\\ApiErrorException $e) {\n    # Display error on client\n    echo json_encode([\n      'error' =&gt; $e-&gt;getMessage()\n    ]);\n  }\n\n  function generateResponse($intent) {\n    # Note that if your API version is before 2019-02-11, 'requires_action'\n    # appears as 'requires_source_action'.\n    if ($intent-&gt;status == 'requires_action' &amp;&amp;\n        $intent-&gt;next_action-&gt;type == 'use_stripe_sdk') {\n      # Tell the client to handle the action\n      echo json_encode([\n        'requires_action' =&gt; true,\n        'payment_intent_client_secret' =&gt; $intent-&gt;client_secret\n      ]);\n    } else if ($intent-&gt;status == 'succeeded') {\n      # The payment didn\u2019t need any additional actions and completed!\n      # Handle post-payment fulfillment\n      echo json_encode([\n        \"success\" =&gt; true\n      ]);\n    } else {\n      # Invalid status\n      http_response_code(500);\n      echo json_encode(['error' =&gt; 'Invalid PaymentIntent status']);\n    }\n  }\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "jss", "react-with-styles"], "comments": [{"owner": {"reputation": 1943, "user_id": 1839805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IvPfK.jpg?s=128&g=1", "display_name": "Arber Sylejmani", "link": "https://stackoverflow.com/users/1839805/arber-sylejmani"}, "edited": false, "score": 0, "creation_date": 1576101009, "post_id": 59294067, "comment_id": 104793785, "body": "tried actually adding a hardcoded classname? className={<code>your_class ${classes.box}</code>} then you can reference your_class instead"}, {"owner": {"reputation": 11, "user_id": 7418199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52138459f1793ccce0a6c96ed81c7fc5?s=128&d=identicon&r=PG&f=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/7418199/ian"}, "reply_to_user": {"reputation": 1943, "user_id": 1839805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IvPfK.jpg?s=128&g=1", "display_name": "Arber Sylejmani", "link": "https://stackoverflow.com/users/1839805/arber-sylejmani"}, "edited": false, "score": 0, "creation_date": 1576107316, "post_id": 59294067, "comment_id": 104795696, "body": "That worked! Thank you."}], "owner": {"reputation": 11, "user_id": 7418199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52138459f1793ccce0a6c96ed81c7fc5?s=128&d=identicon&r=PG&f=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/7418199/ian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 264, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576098362, "creation_date": 1576098362, "question_id": 59294067, "link": "https://stackoverflow.com/questions/59294067/how-can-i-keep-consistent-classnames-between-my-jss-styles-react-components", "title": "How can I keep consistent classNames between my JSS styles react components?", "body": "<p>I have a component 'Box' that is styled with jss. After it's styled, it will be given a generated className that's usually something like 'box-16.' I have another component 'BoxStack' that has  components within it. When I style the  with jss, I have certain rules to affect the  components within it, but those styles are searching for a different className then what the 's are named.</p>\n\n<p>Box class</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles({\r\n  box: {\r\n    width: '300px',\r\n    backgroundColor: '#fff',\r\n    boxSizing: 'border-box',\r\n    padding: '20px'\r\n  }\r\n});\r\n\r\nconst Box = (props) =&gt; {\r\n  const classes = useStyles();\r\n\r\n  return &lt;div className={classes.box}&gt;{props.children}&lt;/div&gt;;\r\n};\r\n\r\nexport default Box;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Converted css:</p>\n\n<p><a href=\"https://i.stack.imgur.com/cOnG2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cOnG2.png\" alt=\"enter image description here\"></a></p>\n\n<p>Example code for the BoxStack class, looking for a child box within a dashboard</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>proven_path_dashboard: {\r\n    margin: '0 auto',\r\n    width: '940px',\r\n    maxWidth: '100vw',\r\n    '&amp;$box': {\r\n      width: [['460px'], '!important'],\r\n      '@media screen and (max-width: 800px)': {\r\n        width: '100%'\r\n      }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Example script looking for the Box component, but looking for the wrong className</p>\n\n<p><a href=\"https://i.stack.imgur.com/f6zp8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f6zp8.png\" alt=\"enter image description here\"></a></p>\n\n<p>I would just like to know how to make sure the classes keep a consistent name, so child components can be found from a parent component's jss.</p>\n"}, {"tags": ["javascript", "jestjs", "integration-testing"], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 7187580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b0eaa183cec23c2ff363d8bce8d478?s=128&d=identicon&r=PG&f=1", "display_name": "Bruce B", "link": "https://stackoverflow.com/users/7187580/bruce-b"}, "edited": false, "score": 0, "creation_date": 1576099128, "post_id": 59294058, "comment_id": 104793029, "body": "It simply doesn&#39;t change anything if I modify the folder name .Just wondering how I could change the name in jest config. Should it take place in jest/jest-config/package.json?"}, {"owner": {"reputation": 175, "user_id": 8945182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a9796c5ea1f1632325cc0d20baa91f5?s=128&d=identicon&r=PG&f=1", "display_name": "JLai", "link": "https://stackoverflow.com/users/8945182/jlai"}, "reply_to_user": {"reputation": 29, "user_id": 7187580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b0eaa183cec23c2ff363d8bce8d478?s=128&d=identicon&r=PG&f=1", "display_name": "Bruce B", "link": "https://stackoverflow.com/users/7187580/bruce-b"}, "edited": false, "score": 0, "creation_date": 1576099307, "post_id": 59294058, "comment_id": 104793114, "body": "There are many ways to configure jest. Check out their <a href=\"https://jestjs.io/docs/en/configuration\" rel=\"nofollow noreferrer\">documentation</a>. You probably want to modify <code>testMatch</code>"}, {"owner": {"reputation": 29, "user_id": 7187580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b0eaa183cec23c2ff363d8bce8d478?s=128&d=identicon&r=PG&f=1", "display_name": "Bruce B", "link": "https://stackoverflow.com/users/7187580/bruce-b"}, "edited": false, "score": 0, "creation_date": 1576100003, "post_id": 59294058, "comment_id": 104793396, "body": "In Jest-config/build/valid.config.js , there&#39;s this <code>testMatch</code> code as following: <code>testMatch: [&#39;**&#47;__tests__&#47;**&#47;*.js?(x)&#39;, &#39;**&#47;?(*.)(spec|test).js?(x)&#39;]</code>  I&#39;m afraid I cannot wrap my head around it."}, {"owner": {"reputation": 175, "user_id": 8945182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a9796c5ea1f1632325cc0d20baa91f5?s=128&d=identicon&r=PG&f=1", "display_name": "JLai", "link": "https://stackoverflow.com/users/8945182/jlai"}, "reply_to_user": {"reputation": 29, "user_id": 7187580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b0eaa183cec23c2ff363d8bce8d478?s=128&d=identicon&r=PG&f=1", "display_name": "Bruce B", "link": "https://stackoverflow.com/users/7187580/bruce-b"}, "edited": false, "score": 0, "creation_date": 1576100253, "post_id": 59294058, "comment_id": 104793499, "body": "add <code>&quot;jest&quot;: {     &quot;testMatch&quot;: [&#39;**&#47;tests&#47;**&#47;*.js?(x)&#39;, &#39;**&#47;?(*.)(spec|test).js?(x)&#39;]   }</code> to your package.json as stated in the documencation I just linked"}, {"owner": {"reputation": 29, "user_id": 7187580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b0eaa183cec23c2ff363d8bce8d478?s=128&d=identicon&r=PG&f=1", "display_name": "Bruce B", "link": "https://stackoverflow.com/users/7187580/bruce-b"}, "edited": false, "score": 0, "creation_date": 1576101306, "post_id": 59294058, "comment_id": 104793880, "body": "I added <code>add &quot;jest&quot;: { &quot;testMatch&quot;: [&#39;**&#47;tests&#47;**&#47;*.js?(x)&#39;, &#39;**&#47;?(*.)(spec|test).js?(x)&#39;] }</code> to the main package and no luck yet."}], "tags": [], "owner": {"reputation": 175, "user_id": 8945182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a9796c5ea1f1632325cc0d20baa91f5?s=128&d=identicon&r=PG&f=1", "display_name": "JLai", "link": "https://stackoverflow.com/users/8945182/jlai"}, "is_accepted": false, "score": 0, "last_activity_date": 1576098319, "creation_date": 1576098319, "answer_id": 59294058, "question_id": 59294033, "link": "https://stackoverflow.com/questions/59294033/jest-no-test-found/59294058#59294058", "title": "Jest :No test found", "body": "<p>You are matching for the folder <code>__tests__</code> but you said that your tests are in the <code>test</code> folder. So either change the folder name where the tests are to <code>__test__</code> or change the name in your jest config.</p>\n"}], "owner": {"reputation": 29, "user_id": 7187580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b0eaa183cec23c2ff363d8bce8d478?s=128&d=identicon&r=PG&f=1", "display_name": "Bruce B", "link": "https://stackoverflow.com/users/7187580/bruce-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 438, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1576098471, "creation_date": 1576098178, "last_edit_date": 1576098471, "question_id": 59294033, "link": "https://stackoverflow.com/questions/59294033/jest-no-test-found", "title": "Jest :No test found", "body": "<p>I am trying to have some integration tests on my project using <code>npm test</code> and my directory is like this:</p>\n\n<p>Main_directory==>tests==>integration==>auth.test.js and bar.test.js</p>\n\n<p>On my package.json, I've got this:</p>\n\n<pre><code>\"scripts\": {\n    \"test\": \"jest --watchAll --verbose\"\n  },\n</code></pre>\n\n<p>when I execute the code <code>npm test</code> , I run into this mind-boggling error on terminal:</p>\n\n<pre><code>No tests found\n\nIn G:\\main_directory\n  35 files checked.\n  testMatch: **/__tests__/**/*.js?(x),**/?(*.)(spec|test).js?(x) - 5 matches\n  testPathIgnorePatterns: \\\\node_modules\\\\ - 35 matches\nPattern:  - 0 matches\n</code></pre>\n\n<p>Do you have any idea on how to bring everything back to normal and run some smooth integration tests?</p>\n"}, {"tags": ["javascript", "node.js"], "comments": [{"owner": {"reputation": 15286, "user_id": 747355, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Xdh8.jpg?s=128&g=1", "display_name": "Rob Raisch", "link": "https://stackoverflow.com/users/747355/rob-raisch"}, "edited": false, "score": 0, "creation_date": 1576100588, "post_id": 59294032, "comment_id": 104793655, "body": "I removed the <code>puppeteer</code> tag since your question is about using async/await, not anything specific to puppeteer."}, {"owner": {"reputation": 111, "user_id": 14861209, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-x-dXPR4zFa8/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucmBe1tUjQ8O5AH74PMaHdVtcq43ig/s96-c/photo.jpg?sz=128", "display_name": "pupeeterMaster", "link": "https://stackoverflow.com/users/14861209/pupeetermaster"}, "edited": false, "score": 0, "creation_date": 1613570673, "post_id": 59294032, "comment_id": 117115027, "body": "How did you managed to insert your data in DB? One array by one, or did u managed to make some method that merges all arrays objects into one single array? I&#39;m facing similar issue. Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 597, "user_id": 12020295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59081a5a90ff63f69ea581b59188d9fa?s=128&d=identicon&r=PG&f=1", "display_name": "mpc75", "link": "https://stackoverflow.com/users/12020295/mpc75"}, "edited": false, "score": 0, "creation_date": 1576101080, "post_id": 59294311, "comment_id": 104793807, "body": "thank you very much, this is very helpful. I solved it by sending the data to my db each time scrapingfunction finishes, and then clearing the array, but your recommended solution might be a bit leaner since it would be nice to send it all in one batch."}], "tags": [], "owner": {"reputation": 15286, "user_id": 747355, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Xdh8.jpg?s=128&g=1", "display_name": "Rob Raisch", "link": "https://stackoverflow.com/users/747355/rob-raisch"}, "is_accepted": true, "score": 2, "last_activity_date": 1576100438, "last_edit_date": 1576100438, "creation_date": 1576099459, "answer_id": 59294311, "question_id": 59294032, "link": "https://stackoverflow.com/questions/59294032/returning-a-single-array/59294311#59294311", "title": "Returning a single array", "body": "<p>The problem you've encountered is that <code>Promises</code> (which is what <code>async/await</code> uses <em>\"under the covers\"</em>) cannot return values <em>outside the Promise chain</em>. </p>\n\n<p>Think of it this way. </p>\n\n<p>You ask me to write a StackOverflow article for you and <em>immediately</em> demand the result of that task, without waiting for me to finish it. </p>\n\n<p>When you set me the task, I haven't yet completed it, so I cannot provide a response. </p>\n\n<p>You will need to restructure your request to return values from your <code>await</code>s which can then be operated upon by the surrounding <code>async</code> function, such as:</p>\n\n<pre><code># Assume doubleValue() takes some unknown time to return a result, like\n# waiting for the result of an HTTP query.\n\nconst doubleValue = async (val) =&gt; return val * 2\n\nconst run = async () =&gt; {\n  const result = []\n  result.push(await doubleValue(2))\n  result.push(await doubleValue(4))\n  result.push(await doubleValue(8))\n  console.log(result)\n}\n</code></pre>\n\n<p>which will print <code>[4, 8, 16]</code> to the console.</p>\n\n<p>You might think you could return the result from <code>run()</code> and print it to the console as in:</p>\n\n<pre><code>const run = async () =&gt; {\n  const result = []\n  result.push(await doubleValue(2))\n  result.push(await doubleValue(4))\n  result.push(await doubleValue(8))\n  return result\n}\nconsole.log(run())\n</code></pre>\n\n<p>But since Node has no idea when <code>run()</code> has everything it needs to create a result, <code>console.log</code> will not print anything. (That's not expressly true since an <code>async</code> function returns a <code>Promise</code>, but the explanation works for this example.)</p>\n\n<p>The rule is that you can <code>await</code> the result of other functions from within a function marked as <code>async</code>, but you cannot return any useful result to its surrounding context.</p>\n\n<p>Since an <code>async</code> function does return a <code>Promise</code>, you could:</p>\n\n<pre><code>run().then(result =&gt; console.log(result))\n</code></pre>\n\n<p>But note that the result never leaves the <code>Promise</code> chain.</p>\n"}], "owner": {"reputation": 597, "user_id": 12020295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59081a5a90ff63f69ea581b59188d9fa?s=128&d=identicon&r=PG&f=1", "display_name": "mpc75", "link": "https://stackoverflow.com/users/12020295/mpc75"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 59294311, "answer_count": 1, "score": 0, "last_activity_date": 1576100515, "creation_date": 1576098176, "last_edit_date": 1576100515, "question_id": 59294032, "link": "https://stackoverflow.com/questions/59294032/returning-a-single-array", "title": "Returning a single array", "body": "<p>I am struggling to understand how to return a single array from a function that calls another function several times. Currently, the console.log in the code below outputs a growing array each time the scrapingfunction runs.</p>\n\n<p>The final last time that the scrapingfunction runs is actually what I want, but I want to find a way to return a single array at the end of the hello function so that I can drop each object into my database. I'm guessing this is just not me understanding javascript well enough yet. </p>\n\n<pre><code>const hello = async () =&gt; {\n      //[launch puppeteer and navigate to page I want to scrape]\n      await scrapingfunction(page)\n      //[navigate to the next page I want to scrape]\n      await scrapingfunction(page)\n      //[navigate to the next page I want to scrape]\n      await scrapingfunction(page)\n    }\n\nconst scrapingfunction = async (page) =&gt; {\n    const html = await page.content()\n    const $ = cheerio.load(html)\n    const data = $('.element').map((index, element)=&gt;{   \n        const dateElement = $(element).find('.sub-selement')\n        const date = dateElement.text()\n        return {date}\n  }).get()\n  console.log(data)\n}\n\n\nhello();\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "object", "multi-select"], "comments": [{"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 2, "creation_date": 1576098406, "post_id": 59294023, "comment_id": 104792743, "body": "It can be done with a single <code>.reduce()</code>, though &quot;easy&quot; is certainly relative, and as a result the answer to your question is a subjective &quot;yes&quot; or &quot;no&quot;. Perhaps you could share your attempts or a specific difficulty you&#39;re encountering, so that we can help out as opposed to writing the code for for you :)"}, {"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1576098815, "post_id": 59294023, "comment_id": 104792899, "body": "(For what it&#39;s worth I&#39;ve removed all references to JSON in your question as well, including the title and tags, as it doesn&#39;t seem related.)"}, {"owner": {"reputation": 718, "user_id": 3835465, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1015716928/picture?type=large", "display_name": "Tyger Guzman", "link": "https://stackoverflow.com/users/3835465/tyger-guzman"}, "reply_to_user": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1576099095, "post_id": 59294023, "comment_id": 104793014, "body": "I&#39;m currently trying to figure out a way to use For loops. starting with identifying the unique first value of the embedded arrays then loop through the arrays finding which match the list of unique values."}, {"owner": {"reputation": 1865, "user_id": 5744718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c091b198fce4dd8b2f89083424eba63?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/5744718/sam"}, "edited": false, "score": 0, "creation_date": 1576099232, "post_id": 59294023, "comment_id": 104793077, "body": "I think, instead of Array of objects, ES6 maps would make things easier."}], "answers": [{"comments": [{"owner": {"reputation": 718, "user_id": 3835465, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1015716928/picture?type=large", "display_name": "Tyger Guzman", "link": "https://stackoverflow.com/users/3835465/tyger-guzman"}, "edited": false, "score": 0, "creation_date": 1576099343, "post_id": 59294270, "comment_id": 104793128, "body": "this is great but backwards from what I&#39;m trying to achieve. I&#39;m wanting to go from the array of array to the &#39;label&#39; format."}, {"owner": {"reputation": 208, "user_id": 11006698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4UeBk.jpg?s=128&g=1", "display_name": "Loc Mai", "link": "https://stackoverflow.com/users/11006698/loc-mai"}, "reply_to_user": {"reputation": 718, "user_id": 3835465, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1015716928/picture?type=large", "display_name": "Tyger Guzman", "link": "https://stackoverflow.com/users/3835465/tyger-guzman"}, "edited": false, "score": 0, "creation_date": 1576099455, "post_id": 59294270, "comment_id": 104793177, "body": "@TygerGuzman Isn&#39;t the result an array of array to the label format from my answer? <code>[[&quot;A&quot;,  &quot;Example1&quot;], [&quot;A&quot;, &quot;Example2&quot;], [&quot;B&quot;, &quot;Example3&quot;], [&quot;B&quot;, &quot;Example4&quot;]]</code>"}, {"owner": {"reputation": 718, "user_id": 3835465, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1015716928/picture?type=large", "display_name": "Tyger Guzman", "link": "https://stackoverflow.com/users/3835465/tyger-guzman"}, "edited": false, "score": 0, "creation_date": 1576099530, "post_id": 59294270, "comment_id": 104793215, "body": "I&#39;m trying to go from <code>[[&quot;A&quot;,&quot;Example1&quot;],[&quot;A&quot;,&quot;Example2&quot;],[&quot;B&quot;,&quot;Example3&quot;],[&quot;B&quot;,&quot;Ex&zwnj;&#8203;ample4&quot;]]</code>  to <code>[{ label: &#39;A&#39;, children:[         {&quot;label&quot;:&quot;Example1&quot;,&quot;value&quot;:&quot;Example1&quot;,&quot;selected&quot;:&quot;TRUE&quot;},         {&quot;label&quot;:&quot;Example2&quot;,&quot;value&quot;:&quot;Example2&quot;,&quot;selected&quot;:&quot;TRUE&quot;}        ] },  { label: &#39;B&#39;, children:[   {&quot;label&quot;:&quot;Example3&quot;,&quot;value&quot;:&quot;Example3&quot;,&quot;selected&quot;:&quot;TRUE&quot;},   {&quot;label&quot;:&quot;Example4&quot;,&quot;value&quot;:&quot;Example4&quot;,&quot;selected&quot;:&quot;TRUE&quot;}   ] } ]</code>"}], "tags": [], "owner": {"reputation": 208, "user_id": 11006698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4UeBk.jpg?s=128&g=1", "display_name": "Loc Mai", "link": "https://stackoverflow.com/users/11006698/loc-mai"}, "is_accepted": true, "score": 1, "last_activity_date": 1576100077, "last_edit_date": 1576100077, "creation_date": 1576099238, "answer_id": 59294270, "question_id": 59294023, "link": "https://stackoverflow.com/questions/59294023/js-array-of-arrays-to-object/59294270#59294270", "title": "JS array of arrays to object", "body": "<p>Updated:\nUsing <code>reduce()</code> and <code>filter()</code> to get expected results.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const result = [['A', 'Example1'], ['A', 'Example2'], ['B', 'Example3'], ['B', 'Example4']].reduce((acc, cur) =&gt; {\r\n  const objFromAccumulator = acc.filter((row) =&gt; row.label === cur[0]);\r\n  const newChild = {label: cur[1], value: cur[1], selected: 'TRUE'};\r\n  if (objFromAccumulator.length) {\r\n    objFromAccumulator[0].children.push(newChild);\r\n  } else {\r\n    acc.push({label: cur[0], children: [newChild]});\r\n  }\r\n  return acc;\r\n}, []);\r\n\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 8797, "user_id": 12270289, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f90bXHFopV0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfStPF8S5OWF3hBzDu-oJeTx3xOfQ/photo.jpg?sz=128", "display_name": "Klaycon", "link": "https://stackoverflow.com/users/12270289/klaycon"}, "is_accepted": false, "score": 1, "last_activity_date": 1576100235, "last_edit_date": 1576100235, "creation_date": 1576099455, "answer_id": 59294309, "question_id": 59294023, "link": "https://stackoverflow.com/questions/59294023/js-array-of-arrays-to-object/59294309#59294309", "title": "JS array of arrays to object", "body": "<p>Here's a rather efficient and concise take on the problem using an object as a map:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = [[\"A\",\"Example1\"],[\"A\",\"Example2\"],[\"B\",\"Example3\"],[\"B\",\"Example4\"]];\r\n\r\nconst opt = data.reduce((results,[key,val]) =&gt; {\r\n  if(!results[0][key]) //first element of results is lookup map of other elements\r\n    results.push(results[0][key] = { label: key, children: [] });\r\n  results[0][key].children.push({ label: val, value: val, selected:\"TRUE\" });\r\n  return results;\r\n}, [{}]).slice(1); //slice off map as it's no longer needed\r\n\r\nconsole.log(opt);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 29068, "user_id": 149436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc4c5aa5126e36603eabdfdc57c46583?s=128&d=identicon&r=PG", "display_name": "Evan Trimboli", "link": "https://stackoverflow.com/users/149436/evan-trimboli"}, "is_accepted": false, "score": 1, "last_activity_date": 1576099464, "creation_date": 1576099464, "answer_id": 59294313, "question_id": 59294023, "link": "https://stackoverflow.com/questions/59294023/js-array-of-arrays-to-object/59294313#59294313", "title": "JS array of arrays to object", "body": "<p>Something like this should work:</p>\n\n<pre><code>const raw = [[\"A\",\"Example1\"],[\"A\",\"Example2\"],[\"B\",\"Example3\"],[\"B\",\"Example4\"]];\n\nconst seen = new Map();\nconst processed = raw.reduce((arr, [key, label]) =&gt; {\n    if (!seen.has(key)) {\n        const item = {\n            label: key,\n            children: []\n        };\n        seen.set(key, item);\n        arr.push(item);\n    }\n    seen.get(key).children.push({\n        label,\n        value: label,\n        selected: \"TRUE\"\n    })\n    return arr;\n}, []);\nconsole.log(processed);\n</code></pre>\n"}], "owner": {"reputation": 718, "user_id": 3835465, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1015716928/picture?type=large", "display_name": "Tyger Guzman", "link": "https://stackoverflow.com/users/3835465/tyger-guzman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 59294270, "answer_count": 3, "score": 0, "last_activity_date": 1576100235, "creation_date": 1576098147, "last_edit_date": 1576098746, "question_id": 59294023, "link": "https://stackoverflow.com/questions/59294023/js-array-of-arrays-to-object", "title": "JS array of arrays to object", "body": "<p>I have a JS array (shown 4 examples actual has 66 )</p>\n\n<pre><code>[[\"A\",\"Example1\"],[\"A\",\"Example2\"],[\"B\",\"Example3\"],[\"B\",\"Example4\"]]\n</code></pre>\n\n<p>that I am trying to get into an object for a multi select drop down menu: </p>\n\n<pre><code>var opt = [{\nlabel: 'A', children:[\n        {\"label\":\"Example1\",\"value\":\"Example1\",\"selected\":\"TRUE\"},\n        {\"label\":\"Example2\",\"value\":\"Example2\",\"selected\":\"TRUE\"} \n      ]\n},\n\n{\nlabel: 'B', children:[\n  {\"label\":\"Example3\",\"value\":\"Example3\",\"selected\":\"TRUE\"},\n  {\"label\":\"Example4\",\"value\":\"Example4\",\"selected\":\"TRUE\"}\n  ]\n}\n]\n</code></pre>\n\n<p>Is there a easy way to do this ? </p>\n"}, {"tags": ["javascript", "html", "forms", "radio-group", "radiobuttonlist"], "owner": {"reputation": 66, "user_id": 11199370, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ErUtZ.jpg?s=128&g=1", "display_name": "Control-z", "link": "https://stackoverflow.com/users/11199370/control-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1576528876, "creation_date": 1576098050, "last_edit_date": 1576528876, "question_id": 59294004, "link": "https://stackoverflow.com/questions/59294004/how-can-i-fix-the-radio-buttons-on-this-form-to-only-allow-one-selection-and-val", "title": "How can I fix the radio buttons on this form to only allow one selection and validate", "body": "<p>I have been working on a tutorial for making a simple form that uses JavaScript to validate. I understand that typically radio buttons are used for form elements that allow one selection from a group of options (such as gender selection, M or F), and that check boxes allow for multiple selections from a group of options (such as toppings on a pizza). After testing the form I have found that the form allows for the user to check both radio buttons for \"Gender\" and will still validate. After some research I noticed that I needed to give each radio button the same name in my html file, however, after doing this, the form would no longer validate. Can someone help me determine what I need to change in my JavaScript file so that the changing of my radio button's name will not affect the form validation? I also reviewed radio button lists and radio groups with no luck. Any suggestions or advice would be much appreciated. I will include the necessary bits of code.</p>\n\n<p>The HTML</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n\n&lt;head&gt;\n&lt;meta charset=\"utf-8\"&gt;\n&lt;title&gt;Test Form&lt;/title&gt;\n&lt;link rel='stylesheet' href='css/styles.css' type='text/css' /&gt;\n&lt;script src=\"js/script.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body onload=\"document.registration.userid.focus();\"&gt;\n&lt;!--places cursor in first field onload--&gt;\n    &lt;div class=\"wrapper\"&gt; &lt;img src=\"images/logo.jpg\" alt=\"Banner\"&gt;\n        &lt;br&gt;\n        &lt;h1&gt;New Patient Information&lt;/h1&gt;\n    &lt;div id=\"left\"&gt;\n        &lt;!--form--&gt;\n        &lt;form name='registration' onSubmit=\"return formValidation();\"&gt;\n            &lt;ul&gt;\n                &lt;!--PatientID#--&gt;\n                &lt;li&gt;\n                    &lt;label for=\"userid\"&gt;Patient ID:&lt;/label&gt;\n                &lt;/li&gt;\n                &lt;li&gt;\n                    &lt;input type=\"text\" name=\"userid\" size=\"12\" /&gt;\n                &lt;/li&gt;\n                &lt;!--Password--&gt;\n                &lt;li&gt;\n                    &lt;label for=\"passid\"&gt;Password:&lt;/label&gt;\n                &lt;/li&gt;\n                &lt;li&gt;\n                    &lt;input type=\"password\" name=\"passid\" size=\"12\" /&gt;\n                &lt;/li&gt;\n                &lt;!--Full Name--&gt;\n                &lt;li&gt;\n                    &lt;label for=\"username\"&gt;Full Name:&lt;/label&gt;\n                &lt;/li&gt;\n                &lt;li&gt;\n                    &lt;input type=\"text\" name=\"username\" size=\"50\" /&gt;\n                &lt;/li&gt;\n                &lt;!--Address--&gt;\n                &lt;li&gt;\n                    &lt;label for=\"address\"&gt;Delivery Address:&lt;/label&gt;\n                &lt;/li&gt;\n                &lt;li&gt;\n                    &lt;input type=\"text\" name=\"address\" size=\"50\" /&gt;\n                &lt;/li&gt;\n                &lt;!--County--&gt;\n                &lt;li&gt;\n                    &lt;label for=\"country\"&gt;Select County:&lt;/label&gt;\n                &lt;/li&gt;\n                &lt;li&gt;\n                    &lt;select name=\"country\"&gt;\n                        &lt;option selected=\"\" value=\"Default\"&gt;(Please select your county)&lt;/option&gt;\n                        &lt;option value=\"AF\"&gt;Orange&lt;/option&gt;\n                        &lt;option value=\"AL\"&gt;Seminole&lt;/option&gt;\n                        &lt;option value=\"DZ\"&gt;Palm Beach&lt;/option&gt;\n                        &lt;option value=\"AS\"&gt;Martin&lt;/option&gt;\n                        &lt;option value=\"AD\"&gt;Dade&lt;/option&gt;\n                    &lt;/select&gt;\n                &lt;/li&gt;\n                &lt;!--Zip Code--&gt;\n                &lt;li&gt;\n                    &lt;label for=\"zip\"&gt;ZIP Code:&lt;/label&gt;\n                &lt;/li&gt;\n                &lt;li&gt;\n                    &lt;input type=\"text\" name=\"zip\" /&gt;\n                &lt;/li&gt;\n                &lt;!--Email Address--&gt;\n                &lt;li&gt;\n                    &lt;label for=\"email\"&gt;Email:&lt;/label&gt;\n                &lt;/li&gt;\n                &lt;li&gt;\n                    &lt;input type=\"text\" name=\"email\" size=\"50\" /&gt;\n                &lt;/li&gt;\n\n\n\n\n\n                &lt;!--Patient Gender--&gt;\n                &lt;li&gt;\n                    &lt;label id=\"gender\"&gt;Gender:&lt;/label&gt;\n                &lt;/li&gt;\n                &lt;li&gt;\n                    &lt;input type=\"radio\" name=\"msex\" value=\"Male\" /&gt;&lt;span&gt;Male&lt;/span&gt;&lt;/li&gt;\n                &lt;li&gt;\n                    &lt;input type=\"radio\" name=\"fsex\" value=\"Female\" /&gt;&lt;span&gt;Female&lt;/span&gt;&lt;/li&gt;\n\n\n\n\n\n                &lt;!--language--&gt;\n                &lt;li&gt;\n                    &lt;label&gt;Language:&lt;/label&gt;\n                &lt;/li&gt;\n                &lt;li&gt;\n                    &lt;input type=\"checkbox\" name=\"en\" value=\"en\"/&gt;&lt;span&gt;English&lt;/span&gt;&lt;/li&gt;\n                &lt;li&gt;\n                    &lt;input type=\"checkbox\" name=\"nonen\" value=\"noen\"/&gt;&lt;span&gt;Non English&lt;/span&gt;&lt;/li&gt;\n                &lt;!--About *Optional*--&gt;\n                &lt;li&gt;\n                    &lt;label for=\"desc\"&gt;About:&lt;/label&gt;\n                &lt;/li&gt;\n                &lt;li&gt;\n                    &lt;textarea name=\"desc\" id=\"desc\"&gt;&lt;/textarea&gt;\n                &lt;/li&gt;\n                &lt;!--Submit Button--&gt;\n                &lt;li&gt;\n                    &lt;input type=\"submit\" name=\"submit\" value=\"Submit\" /&gt;\n                &lt;/li&gt;\n            &lt;/ul&gt;\n        &lt;/form&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;!--JS-Call--&gt;\n&lt;script src=\"js/script.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p></p>\n\n<p>\nThe JavaScript </p>\n\n<pre><code>    //JavaScript\n  function formValidation() {\nvar uid = document.registration.userid;\nvar passid = document.registration.passid;\nvar uname = document.registration.username;\nvar uadd = document.registration.address;\nvar ucountry = document.registration.country;\nvar uzip = document.registration.zip;\nvar uemail = document.registration.email;\n\n\n//GENDER\n\n\nvar umsex = document.registration.msex;\nvar ufsex = document.registration.fsex;\n\n\n//END-Gender\n\n\nif (userid_validation(uid, 7, 18)) {\n    if (passid_validation(passid, 7, 18)) {\n        if (allLetter(uname)) {\n            if (alphanumeric(uadd)) {\n                if (countryselect(ucountry)) {\n                    if (allnumeric(uzip)) {\n                        if (ValidateEmail(uemail)) {\n\n\n                            //Gender\n\n\n                            if (validsex(umsex, ufsex)) {\n\n\n                                //End Gender\n\n\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\nreturn false;\n}\n\nfunction userid_validation(uid, mx, my) {\nvar uid_len = uid.value.length;\nif (uid_len == 0 || uid_len &gt;= my || uid_len &lt; mx) {\n    alert(\"User Id should not be empty / length be between \" + mx + \" to \" + my);\n    uid.focus();\n    return false;\n}\nreturn true;\n}\n\nfunction passid_validation(passid, mx, my) {\nvar passid_len = passid.value.length;\nif (passid_len == 0 || passid_len &gt;= my || passid_len &lt; mx) {\n    alert(\"Password should not be empty / length be between \" + mx + \" to \" + my);\n    passid.focus();\n    return false;\n}\nreturn true;\n}\n\nfunction allLetter(uname) {\nvar letters = /^[a-zA-Z\\s]*$/;\nif (uname.value.match(letters)) {\n    return true;\n} else {\n    alert('Username must have alphabet characters only');\n    uname.focus();\n    return false;\n}\n}\n\nfunction alphanumeric(uadd) {\nvar letters = /^[a-z\\d\\-_\\s]+$/i;\nif (uadd.value.match(letters)) {\n    return true;\n} else {\n    alert('User address must have alphanumeric characters only');\n    uadd.focus();\n    return false;\n}\n}\n\nfunction countryselect(ucountry) {\nif (ucountry.value == \"Default\") {\n    alert('Select your county from the list');\n    ucountry.focus();\n    return false;\n} else {\n    return true;\n}\n}\n\nfunction allnumeric(uzip) {\nvar numbers = /^[0-9]+$/;\nif (uzip.value.match(numbers)) {\n    return true;\n} else {\n    alert('ZIP code must have numeric characters only');\n    uzip.focus();\n    return false;\n}\n}\n\nfunction ValidateEmail(uemail) {\nvar mailformat = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\nif (uemail.value.match(mailformat)) {\n    return true;\n} else {\n    alert(\"You have entered an invalid email address!\");\n    uemail.focus();\n    return false;\n}\n}\n\n\n//Gender Function\n\n\nfunction validsex(umsex, ufsex) {\nx = 0;\nif (umsex.checked) {\n    x++;\n}\nif (ufsex.checked) {\n    x++;\n}\nif (x == 0) {\n    alert('Select Male/Female');\n    umsex.focus();\n    return false;\n}\n\n\n//Form Submit\nelse {\n    alert('Form Succesfully Submitted');\n    window.location.reload()\n    return true;\n}\n}\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "asynchronous", "redux", "react-redux"], "comments": [{"owner": {"reputation": 2116, "user_id": 2907606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cbfc259f764c19589410069fae1a933?s=128&d=identicon&r=PG", "display_name": "spirift", "link": "https://stackoverflow.com/users/2907606/spirift"}, "edited": false, "score": 0, "creation_date": 1576098844, "post_id": 59294001, "comment_id": 104792913, "body": "I think what you need is a redux thunk, then call the filterRooms action creator from within the thunk."}], "answers": [{"tags": [], "owner": {"reputation": 7026, "user_id": 7141073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b0f2e16c86753e559fdd61cce2051b1?s=128&d=identicon&r=PG&f=1", "display_name": "Fyodor", "link": "https://stackoverflow.com/users/7141073/fyodor"}, "is_accepted": false, "score": 0, "last_activity_date": 1576106920, "creation_date": 1576106920, "answer_id": 59295636, "question_id": 59294001, "link": "https://stackoverflow.com/questions/59294001/how-can-i-get-the-updated-state-with-redux/59295636#59295636", "title": "How can I get the updated state with redux", "body": "<p>Seems that below two function run in sequence, one after another</p>\n\n<pre><code>this.props.handleChange(pets, true);  // handle changes\nthis.filterRooms();   // filtering with changing value\n</code></pre>\n\n<p>First dispatch changed value to Redux. And it is updated there (as sample with <code>setTimeout</code> works). But don't expect updated value from Redux will be immediately available to <code>this.filterRooms()</code>.</p>\n\n<p>You have some Reactjs component. Reactjs component is essentially class or function. Then you wrap in in <code>connect</code>. So your code may look like this</p>\n\n<pre><code>class Component1 extends React.Component {\n    onChange: () =&gt; {\n        this.props.handleChange(pets, true);  // handle changes\n        this.filterRooms();   // filtering with changing value\n    }\n    // other staff\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Component1)\n</code></pre>\n\n<p>Whats happens in React. It instantiate class <code>Component1</code>, then calls <code>connect</code> which in turn calls some methods of your class (i.e. <code>render()</code> or something else). <code>connect</code> also pass some values from Redux store to your component as props. Method of <code>Component1</code> is executed and may change Redux state (as it do in your sample). But updated props will not be immediately available. <code>props</code> are just arguments, that have been passed by <code>connect</code> function. To change arguments of any function, you should call it once again. So after receiving updated <code>pets</code>, <code>connect</code> will call your component again with updated <code>pets</code>. But it will be later.</p>\n\n<p><code>connect()</code> -> calls <code>Component1</code> and passes <code>props.pets = false</code> -> <code>Compoentn1</code> sets <code>pets</code> in Redux to <code>true</code> -> <code>connect()</code> receives updated <code>pets</code> and calls <code>Component1</code> with <code>props.pets = true</code></p>\n\n<p>That's why trick with <code>setTimeout</code> works. Ste timeout just await for second call of <code>Component1</code></p>\n\n<p>To solve your exact issue, don't read <code>pets</code> from <code>props</code> if you know that you've updated it.</p>\n\n<pre><code>this.props.handleChange(pets, true);  // handle changes\nthis.filterRooms(true);   // filtering with changing value\n\nfilterRooms = (pets) =&gt; {\n  let {rooms} = this.props; \n\n  // filter by pets\n  if (pets) {\n    tempRooms = tempRooms.filter(room =&gt; room.pets === true);\n  }\n\n  this.props.filterRooms(tempRooms);\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11552632, "user_type": "registered", "profile_image": "https://graph.facebook.com/10219411180453906/picture?type=large", "display_name": "Burak Selvi", "link": "https://stackoverflow.com/users/11552632/burak-selvi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1576106920, "creation_date": 1576098035, "question_id": 59294001, "link": "https://stackoverflow.com/questions/59294001/how-can-i-get-the-updated-state-with-redux", "title": "How can I get the updated state with redux", "body": "<p>I have a react project and redux for state management. These are my actions.</p>\n\n<pre><code>const mapDispatchToProps = dispatch =&gt; ({\n  handleChange: (name, value) =&gt; { dispatch(handleChange(name, value)) },\n  filterRooms: (rooms) =&gt; { dispatch(filterRooms(rooms)) }\n});\n</code></pre>\n\n<p>I have to use these 2 method one by one.</p>\n\n<pre><code>this.props.handleChange(pets, true);  // handle changes\nthis.filterRooms();   // filtering with changing value\n\nfilterRooms = () =&gt; {\n  let {rooms,pets} = this.props; // Here I should get pets === true but it's false.\n\n  // filter by pets\n  if (pets) {\n    tempRooms = tempRooms.filter(room =&gt; room.pets === true);\n  }\n\n  this.props.filterRooms(tempRooms);\n}\n</code></pre>\n\n<p>If I use setTimeout for second method thats ok but I think that's not a correct way.</p>\n\n<pre><code>this.props.handleChange(name, value);\nsetTimeout(() =&gt; {\n   this.filterRooms();\n}, 500);\n</code></pre>\n"}, {"tags": ["javascript", "php", "html", "session"], "comments": [{"owner": {"reputation": 14667, "user_id": 535480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jBU8R.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/535480/james"}, "edited": false, "score": 4, "creation_date": 1576098057, "post_id": 59293927, "comment_id": 104792617, "body": "<code>var unsetSession =  &quot;&lt;?php session_destroy(); ?&gt;&quot;;</code> - That destroys the session and the return value (nothing) becomes the javascript variable unsetSession.  The session_destroy will not be called conditionally.  You might try creating an endpoint which unsets the session instead."}, {"owner": {"reputation": 23, "user_id": 6210099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b71befb786a949f76991e074468dad1c?s=128&d=identicon&r=PG&f=1", "display_name": "codeWalrus", "link": "https://stackoverflow.com/users/6210099/codewalrus"}, "reply_to_user": {"reputation": 14667, "user_id": 535480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jBU8R.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/535480/james"}, "edited": false, "score": 0, "creation_date": 1576101268, "post_id": 59293927, "comment_id": 104793868, "body": "@James: how about &quot;&lt;?php session_unset(); ?&gt;&quot;; Would this preserve my $_SESSION values?"}, {"owner": {"reputation": 14667, "user_id": 535480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jBU8R.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/535480/james"}, "edited": false, "score": 1, "creation_date": 1576174100, "post_id": 59293927, "comment_id": 104823048, "body": "No, you can&#39;t do things in php conditionally on events in Javascript without making a HTTP request of some kind."}, {"owner": {"reputation": 23, "user_id": 6210099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b71befb786a949f76991e074468dad1c?s=128&d=identicon&r=PG&f=1", "display_name": "codeWalrus", "link": "https://stackoverflow.com/users/6210099/codewalrus"}, "reply_to_user": {"reputation": 14667, "user_id": 535480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jBU8R.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/535480/james"}, "edited": false, "score": 0, "creation_date": 1576245552, "post_id": 59293927, "comment_id": 104847554, "body": "@James: So would it be better to test for conditions and close my session on a php page but have this triggered via AJAX?"}, {"owner": {"reputation": 14667, "user_id": 535480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jBU8R.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/535480/james"}, "edited": false, "score": 0, "creation_date": 1576259658, "post_id": 59293927, "comment_id": 104854508, "body": "If you want to do it by AJAX that will be fine, you could also do it by going to a URL that logs the user out.  Bottom line is, all that happens on the server, so you need to trigger a visit to the server by some user action."}, {"owner": {"reputation": 23, "user_id": 6210099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b71befb786a949f76991e074468dad1c?s=128&d=identicon&r=PG&f=1", "display_name": "codeWalrus", "link": "https://stackoverflow.com/users/6210099/codewalrus"}, "reply_to_user": {"reputation": 14667, "user_id": 535480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jBU8R.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/535480/james"}, "edited": false, "score": 0, "creation_date": 1576504927, "post_id": 59293927, "comment_id": 104910674, "body": "@James So I&#39;ve made some changes to my code (see above) and separated out my AJAX calls. Thanks for the advice, it seemed to have improved something. However, still buggy (see above updated text)"}], "answers": [{"comments": [{"owner": {"reputation": 7429, "user_id": 4811873, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/2ef5bab087ac0b70e03e34b0b0009fd5?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Robinson", "link": "https://stackoverflow.com/users/4811873/mike-robinson"}, "edited": false, "score": 0, "creation_date": 1576684804, "post_id": 59394883, "comment_id": 104980792, "body": "FYI, it&#39;s extremely common to have a &quot;header file&quot; that you <code>require_once()</code> at the top of every page, and this is used to include necessary preamble code such as this."}], "tags": [], "owner": {"reputation": 23, "user_id": 6210099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b71befb786a949f76991e074468dad1c?s=128&d=identicon&r=PG&f=1", "display_name": "codeWalrus", "link": "https://stackoverflow.com/users/6210099/codewalrus"}, "is_accepted": false, "score": 1, "last_activity_date": 1576681728, "creation_date": 1576681728, "answer_id": 59394883, "question_id": 59293927, "link": "https://stackoverflow.com/questions/59293927/php-session-loses-value-after-second-redirect/59394883#59394883", "title": "PHP Session loses value after SECOND redirect", "body": "<p>I figured out my problem. After my code updated as posted, I discovered that my problem was that I thought that having session_start() on my header would address and cover all the pages that included the header. This is not the case. The session_start() has to be on literally every php page that refers to $_SESSION super global. This was not very clear on my research, but through trial and error I figured it out.</p>\n\n<p>Thanks</p>\n"}], "owner": {"reputation": 23, "user_id": 6210099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b71befb786a949f76991e074468dad1c?s=128&d=identicon&r=PG&f=1", "display_name": "codeWalrus", "link": "https://stackoverflow.com/users/6210099/codewalrus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576681728, "creation_date": 1576097699, "last_edit_date": 1576504825, "question_id": 59293927, "link": "https://stackoverflow.com/questions/59293927/php-session-loses-value-after-second-redirect", "title": "PHP Session loses value after SECOND redirect", "body": "<p>After combing through SO and trying the approved suggestions found <a href=\"https://stackoverflow.com/questions/17242346/php-session-lost-after-redirect\">here</a>, my related problem persists. My page starts with a simple login and then you navigate to other potential pages through drop down menus. When I redirect from the index page to a welcome page, I can recall values from my $_SESSION array on to the welcome page. The problem is when you navigate to another page <em>after</em> after that point. The content of the  $_SESSION array gets erased. Even if I reload the same page that already has a return from the $_SESSION array, the array gets erased. </p>\n\n<p>I use XAMPP OSX, php 7.9.2 and localhost on my own computer. I've restarted XAMPP. I've emptied cache and restarted my browser. I've tried other browsers. I've rebooted my computer.</p>\n\n<p>Is there something I can do with my server settings? What could be the source of  my problem?</p>\n\n<p>What is very strange is that the issue came out of the blue. I was able to preserve $_SESSION with no problems weeks before and all of a sudden it began to drop its values.</p>\n\n<h1>Update 1</h1>\n\n<p>So I've made some changes to my code below to have a separate AJAX page and php pages to really clarify what I'm doing. The problem seems to have improved with what I did.  HOWEVER, there still remains some mysteries:</p>\n\n<p>1) On log out, I get a warning from my AJAX output that the SESSION variable doesn't exist. This is strange as I am able to print out my session content from my php pages when I've logged in and I navigate to other pages.</p>\n\n<p>2) I am unable to make a simple function call (an alert popup) when my footer loads for every page. This alert popup is on the same page as AJAX functions (which seem to work), but the popup doesn't pop.</p>\n\n<h1>Header</h1>\n\n<pre><code>&lt;?php session_start() ?&gt;\n\n&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n     &lt;head&gt;\n        &lt;meta charset=\"utf-8\"&gt;\n        &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"&gt;\n        &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n        &lt;meta name=\"description\" content=\"\"&gt;    \n        &lt;meta name=\"author\" content=\"\"&gt;\n        &lt;link rel=\"icon\" href=\"../../favicon.ico\"&gt;\n\n        &lt;title&gt;test site&lt;/title&gt;\n\n        &lt;script src=\"https://code.jquery.com/jquery-3.4.1.min.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\" integrity=\"sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n        &lt;link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\"&gt;\n        &lt;link rel=\"stylesheet \"href=\"//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" integrity=\"sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u\" crossorigin=\"anonymous\"&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n\n    &lt;div class=\"row\"&gt;\n        &lt;div class=\"container col-xs-12\" id=\"OPheader\"&gt;\n            &lt;div id=\"logoText\"&gt;\n                &lt;p&gt;\n                    Test Pages\n                &lt;/p&gt;\n            &lt;/div&gt;\n</code></pre>\n\n<h1>Navigation Menus</h1>\n\n<pre><code>\n&lt;div class=\"btn-group menuButton \"&gt;\n    &lt;button type=\"button\" class=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\"&gt;\n        So what you wanna do?&amp;nbsp; &amp;nbsp;  &lt;span class=\"caret\"&gt;&lt;/span&gt;\n    &lt;/button&gt;\n    &lt;ul class=\"dropdown-menu\" id=\"daMenu\"&gt;\n        &lt;li&gt;&lt;a href=\"testHomePage.php\"&gt;Continue procrastination&lt;/a&gt;&lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/div&gt;\n&lt;!-- ============  user personal menu ====== --&gt;\n&lt;div class=\"btn-group userMenuButton \"&gt;\n  &lt;button type=\"button\" class=\"btn btn-default dropdown-toggle\" id=\"userMenu\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\"&gt;\n     &lt;label id=\"user-name-icon\" &gt;Your name&lt;/label&gt;\n   &lt;!--  Insert user name from database here --&gt;\n     &lt;span class=\"caret\"&gt;&lt;/span&gt;\n  &lt;/button&gt;\n  &lt;ul class=\"dropdown-menu\" id=\"daUserMenu\"&gt;\n    &lt;li&gt;&lt;a href=\"testOtherPage.php\"&gt;Order another pizza&lt;/a&gt;&lt;/li&gt;\n    &lt;li role=\"separator\" class=\"divider\"&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a onclick=\"javascript: killSession();\" &gt;Log Out&lt;/a&gt;&lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<h1>Index page</h1>\n\n<pre><code>&lt;?php include(\"testHeader.php\"); ?&gt;\n&lt;?php include(\"testIndexTools.php\"); ?&gt;\n\n\n      &lt;/div&gt;\n    &lt;/div&gt;\n\n&lt;!-- \n    ======================    Login  Fields ======================================\n --&gt;\n\n\n    &lt;div class=\"container\"&gt;\n      &lt;div class=\"row\"&gt;\n        &lt;div class=\"col-md-4 col-md-offset-4\"&gt;\n          &lt;div class=\"well\" id=\"loginBox\"&gt;\n            &lt;div&gt;\n              &lt;div id=\"loginErrorMsg\" &gt;&lt;/div&gt;\n                &lt;form method=\"POST\" action=\"\"&gt;\n                  &lt;div class=\"enterBox\"&gt;User: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;input type=\"text\" name=\"user_name\" placeholder=\"uh... who?\" &gt;\n                  &lt;/div&gt;\n                  &lt;br&gt;\n                  &lt;div class=\"enterBox\"&gt;Password: &lt;input type=\"text\" name=\"user_pw\" placeholder=\"Don't mess this up\" &gt;\n                  &lt;/div&gt;\n                  &lt;br&gt;\n                  &lt;div &gt;\n                    &lt;input class=\"btn btn-primary submitText\" type=\"submit\" name=\"login_submit\" value=\"Submit your soul\"&gt;\n                &lt;/div&gt;\n                &lt;/form&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n\n    &lt;/div&gt;\n\n\n&lt;script type=\"text/javascript\"&gt;\n  var error = \"Login unsuccessful. Please re-enter credentials.\";\n  var disp = document.getElementById('loginErrorMsg');\n  function showError(){\n    disp.innerHTML = error;\n  }\n&lt;/script&gt;\n&lt;?php include(\"testFooter.php\"); ?&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<h1>PHP Tools for Index page</h1>\n\n<pre><code>&lt;?php\n\n$errors = '';\n\nif ($_SERVER['REQUEST_METHOD'] == 'POST'){\n    list($errors) = validate_form(); // check for blank input fields\n    if ($errors) { // If validate_form() returns errors,\n        show_errors($errors);           // show error messages          \n\n    }   else { \n\n        process_form(); \n    }\n}   \n\n\n\n//  on succesful login, this function is called to redirect page\nfunction process_form(){\n    session_start();\n        $_SESSION['logged_user'] = htmlentities($_POST['user_name']); \n\n\n        if (isset($_SESSION['logged_user'])){\n            session_regenerate_id(true);\n            header(\"Location: /OPsite/SOmock/testHomePage.php\");\n            exit();\n        }   else {\n            echo \"Session wasn't set so not redirecrting\";\n            exit();\n        }   \n\n} \n\nfunction show_errors($errors){\n    echo  '&lt;script type=\"text/javascript\"&gt; showError(); &lt;/script&gt;';\n}\n\n// validate your data\nfunction validate_form(){\n        $errors = array();\n        $userCu = trim($_POST['user_name'] ?? ''); \n        $userPw = trim($_POST['user_pw'] ?? '');\n\n        if (strlen($userCu) == 0){\n            $errors[] = \"Please enter name\";\n                return $errors;\n        } else if (strlen($userPw) == 0) {\n            $errors[] = \"Please enter password\";\n                return $errors;\n        }\n}\n?&gt;\n</code></pre>\n\n<h1>Welcome page</h1>\n\n<pre><code>&lt;?php include(\"testHeader.php\"); ?&gt;\n&lt;?php include(\"testMenu-bar.php\"); ?&gt;\n&lt;?php include(\"testWelcomePageTools.php\"); ?&gt;\n\n\n    &lt;/div&gt;\n&lt;/div&gt;\n\n &lt;!-- ================================= welcome Page =============== --&gt;\n&lt;div class=\"row\" id=\"homePage\"&gt;\n     &lt;div class=\"container \"&gt;\n        &lt;h1&gt; Stop procrastinating and get back to work&lt;/h1&gt;&lt;br&gt;\n    &lt;/div&gt;\n\n\n\n&lt;/div&gt;\n\n&lt;?php include(\"testFooter.php\") ?&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<h1>PHP tools for Welcome Page</h1>\n\n<pre><code>&lt;?php\n\n// AJAX call to set name from HomePage\nif (isset($_POST['sessName'])){\n    // $_SESSION['logged_user'] = htmlentities($_POST['user_name']); // user-icon name set here\n\n    $userName = $_SESSION['logged_user'];\n    // echo $_SESSION['logged_user'];\n    echo \"Session data exists&lt;br&gt;\";\n    echo $userName;\n    // print_r($_SESSION); // when homePage loads, this is to check array\n    // echo \"sessName\";\n} else {\n    $noSession = \"No session data&lt;br&gt;\";\n    echo $noSession;\n    print_r($_SESSION);\n}\n?&gt;\n\n</code></pre>\n\n<h1>other page to navigate to</h1>\n\n<pre><code>\n&lt;?php include(\"testHeader.php\"); ?&gt;\n&lt;?php include(\"testMenu-bar.php\"); ?&gt;\n\n&lt;?php\n\necho \"this is the testSession Page&lt;br&gt;\";\nprint_r($_SESSION);\n?&gt;\n\n&lt;?php include(\"testFooter.php\") ?&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n\n<h1>Footer</h1>\n\n<pre><code>\n&lt;script type=\"text/javascript\" src=\"testFooterJS.js\"&gt;baba();&lt;/script&gt;\n\n&lt;!-- === log out behavoiur ============== --&gt;\n&lt;?php\n// AJAX call to kill session\nif (isset($_POST['killSess'])){\n\n  unset($_SESSION['logged_user']);\n\n  session_destroy();\n  $_SESSION = array(); \n\n  exit();\n}\n?&gt;\n\n</code></pre>\n\n<h1>javascript/AJAX page for logging in/out</h1>\n\n<pre><code>\n//====== AJAX log in behaviour ========== \n\n\nfunction sessionName(){\n  alert(\"name calling\");\n        $.ajax({\n            type: 'post', \n            url: 'testHomePageTools.php',\n            data:'sessName', // in PHP page, this will correspond with: $_POST['action'] == 'fillMenu' \n            dataType: 'text',\n            success: function (data) {  \n              alert(\"Your name\" +data);\n                var userName = data;\n                    var icon = document.getElementById('user-name-icon');\n                  icon.innerHTML = \"You are logged in as: \" + userName;\n            alert(\"You are logged in as: \" + userName);\n            }, \n            error: function(data){\n              alert(\"something's gone wrong on entry\");\n              console.log(data);\n              // alert(data);\n          }\n        });\n};  \n\n\n\n\n//====== AJAX log out behaviour ========== \n\n  function killSession(){\n        $.ajax({\n            type: 'post', \n            url: 'testFooter.php',\n            data:'killSess', // in PHP page, this will correspond with: $_POST['action'] == 'fillMenu' \n            dataType: 'text',\n            success: function (data) {  \n\n              console.log(data);\n                alert(\"Bye bye\");\n                     window.location = \"http://localhost/OPsite/SOmock/testIndex.php\";\n\n            }, \n            error: function(data){\n              alert(\"something's gone wrong on exit\");\n              console.log(data);\n              // alert(data);\n          }\n        });\n};  \n\n// =============  test to see if footer loads ===========\nfunction baba(){\n  alert(\"footer loaded\");\n};\n</code></pre>\n"}, {"tags": ["javascript", "gulp"], "answers": [{"tags": [], "owner": {"reputation": 3302, "user_id": 12431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5fb7b733c152599fa38023820400e9b?s=128&d=identicon&r=PG&f=1", "display_name": "Matt U", "link": "https://stackoverflow.com/users/12431728/matt-u"}, "is_accepted": true, "score": 3, "last_activity_date": 1576097852, "creation_date": 1576097852, "answer_id": 59293966, "question_id": 59293925, "link": "https://stackoverflow.com/questions/59293925/where-does-this-startswith-come-from/59293966#59293966", "title": "Where does this &quot;_.startsWith&quot; come from?", "body": "<p>That code is using the <a href=\"https://lodash.com/\" rel=\"nofollow noreferrer\">lodash library</a>. You can see in <a href=\"https://github.com/cheton/browserify-css#processrelativeurl\" rel=\"nofollow noreferrer\">this section</a> of the readme that they're importing lodash with <code>var _ = require('lodash');</code></p>\n"}], "owner": {"reputation": 221, "user_id": 6007507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f30e5525b6df38d552b24d19a8b35c2?s=128&d=identicon&r=PG&f=1", "display_name": "joe.js", "link": "https://stackoverflow.com/users/6007507/joe-js"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 59293966, "answer_count": 1, "score": 0, "last_activity_date": 1576097852, "creation_date": 1576097698, "question_id": 59293925, "link": "https://stackoverflow.com/questions/59293925/where-does-this-startswith-come-from", "title": "Where does this &quot;_.startsWith&quot; come from?", "body": "<p>I am trying to understand the following code from the <a href=\"https://github.com/cheton/browserify-css#2-how-do-i-load-font-and-image-files-from-node_modules\" rel=\"nofollow noreferrer\">browserify-css</a> repo:</p>\n\n<pre><code>var gulp = require('gulp');\nvar gutil = require('gulp-util');\nvar path = require('path');\nvar browserify = require('browserify');\nvar sourceStream = require('vinyl-source-stream');\nvar fse = require('fs-extra');\n\nvar bundleStream = browserify()\n    .add('src/index.js')\n    .transform(require('browserify-css'), {\n        rootDir: 'src',\n        processRelativeUrl: function(relativeUrl) {\n            var stripQueryStringAndHashFromPath = function(url) {\n                return url.split('?')[0].split('#')[0];\n            };\n            var rootDir = path.resolve(process.cwd(), 'src');\n            var relativePath = stripQueryStringAndHashFromPath(relativeUrl);\n            var queryStringAndHash = relativeUrl.substring(relativePath.length);\n\n            //\n            // Copying files from '../node_modules/bootstrap/' to 'dist/vendor/bootstrap/'\n            //\n            var prefix = '../node_modules/';\n            if (_.startsWith(relativePath, prefix)) {\n                var vendorPath = 'vendor/' + relativePath.substring(prefix.length);\n                var source = path.join(rootDir, relativePath);\n                var target = path.join(rootDir, vendorPath);\n\n                gutil.log('Copying file from ' + JSON.stringify(source) + ' to ' + JSON.stringify(target));\n                fse.copySync(source, target);\n\n                // Returns a new path string with original query string and hash fragments\n                return vendorPath + queryStringAndHash;\n            }\n\n            return relativeUrl;\n        }\n    })\n    .bundle();\n\nbundleStream\n    .pipe(sourceStream(bundleFile))\n    .pipe(gulp.dest(browserifyConfig.dest));\n</code></pre>\n\n<p>I don't understand the part </p>\n\n<pre><code>_.startsWith(relativePath, prefix)\n</code></pre>\n\n<p>Where is the underscore coming from? It's supposed to be javascript executed by a task runner. I've found that in the NodeJS REPL the underscore character outputs the result of the last executed expression, but that functionality can't be used inside scripts. It's also not an underscore.js instance because it is not being declared anywhere. <code>startsWith</code> is a String method.</p>\n\n<p>So what am I missing?</p>\n"}, {"tags": ["javascript", "node.js", "windows"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8246956"}, "edited": false, "score": 0, "creation_date": 1576098157, "post_id": 59293872, "comment_id": 104792646, "body": "I know it doesn&#39;t answer your question, but just to mention that this behavior doesn&#39;t happen on Linux. Seems to be a Windows-related issue..."}, {"owner": {"reputation": 1312, "user_id": 10426052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/163f57fcf9ec8eb142222cd06a26cb5a?s=128&d=identicon&r=PG", "display_name": "Baterka", "link": "https://stackoverflow.com/users/10426052/baterka"}, "edited": false, "score": 0, "creation_date": 1576098810, "post_id": 59293872, "comment_id": 104792894, "body": "Not tested, but I am sure it is just Windows problem, because Linux does not treat unknown commands as &quot;edit file named &lt;command&gt;&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 1312, "user_id": 10426052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/163f57fcf9ec8eb142222cd06a26cb5a?s=128&d=identicon&r=PG", "display_name": "Baterka", "link": "https://stackoverflow.com/users/10426052/baterka"}, "edited": false, "score": 0, "creation_date": 1576098754, "post_id": 59294039, "comment_id": 104792878, "body": "Not helped. I just want to run <code>node</code> command instead of opening <code>node.js</code> file :D"}, {"owner": {"reputation": 15286, "user_id": 747355, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Xdh8.jpg?s=128&g=1", "display_name": "Rob Raisch", "link": "https://stackoverflow.com/users/747355/rob-raisch"}, "reply_to_user": {"reputation": 1312, "user_id": 10426052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/163f57fcf9ec8eb142222cd06a26cb5a?s=128&d=identicon&r=PG", "display_name": "Baterka", "link": "https://stackoverflow.com/users/10426052/baterka"}, "edited": false, "score": 0, "creation_date": 1576100283, "post_id": 59294039, "comment_id": 104793512, "body": "Well, I don&#39;t know how to help further since the problem, as you describe it, is certainly caused by incorrect file associations. Try setting the file association for <code>*.js</code> to invoke your <code>node</code> command (using its full path) and you will be able to run your script. One thing to note though, it&#39;s not a great idea to name your scripts with names of runnable commands, as you have in this instance, for just the issue you&#39;ve encountered."}], "tags": [], "owner": {"reputation": 15286, "user_id": 747355, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Xdh8.jpg?s=128&g=1", "display_name": "Rob Raisch", "link": "https://stackoverflow.com/users/747355/rob-raisch"}, "is_accepted": true, "score": 1, "last_activity_date": 1576098223, "creation_date": 1576098223, "answer_id": 59294039, "question_id": 59293872, "link": "https://stackoverflow.com/questions/59293872/why-node-js-filename-causing-problems-in-node-js-on-windows/59294039#59294039", "title": "Why Node.js (filename) causing problems in Node.JS on Windows?", "body": "<p>It looks like your Windows has been configured to treat files ending in *.js as editable rather than executable. See <a href=\"https://www.thewindowsclub.com/change-file-associations-windows\" rel=\"nofollow noreferrer\">Change File Associations in Windows</a> to tell Windows what to do with such files.</p>\n"}], "owner": {"reputation": 1312, "user_id": 10426052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/163f57fcf9ec8eb142222cd06a26cb5a?s=128&d=identicon&r=PG", "display_name": "Baterka", "link": "https://stackoverflow.com/users/10426052/baterka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 59294039, "answer_count": 1, "score": 0, "last_activity_date": 1576098223, "creation_date": 1576097460, "last_edit_date": 1576097795, "question_id": 59293872, "link": "https://stackoverflow.com/questions/59293872/why-node-js-filename-causing-problems-in-node-js-on-windows", "title": "Why Node.js (filename) causing problems in Node.JS on Windows?", "body": "<p>I am running Node.JS v12.13.1 on latest Windows 10 build.</p>\n\n<p>I create file named \"Node.js\" and everytime I call command <code>node &lt;anything&gt;</code> in folder with this file, my NotePad++ gets opened with file \"Node.js\". For every other files or folders, <code>node</code> command works fine.</p>\n\n<p>Is filename \"Node.js\" reserved or I have somehow badly configured system?</p>\n\n<p>EDIT: Not problem with NotePad++ program, even after I uninstalled it I am getting popup to select with what program I want to open this file</p>\n"}, {"tags": ["javascript", "django", "ajax"], "owner": {"reputation": 105, "user_id": 10390678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/925d0dadd8a17324350cbb575caadd8a?s=128&d=identicon&r=PG&f=1", "display_name": "ThatMan", "link": "https://stackoverflow.com/users/10390678/thatman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1576097457, "creation_date": 1576097457, "question_id": 59293870, "link": "https://stackoverflow.com/questions/59293870/empty-request-post-on-django-ajax-call", "title": "Empty request.POST on Django AJAX call", "body": "<p>I am trying to send form data to one of my view. But I am getting empty request.POST</p>\n\n<p>My ajax call is :</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>ajaxSubmit = () =&gt;{\n\n    exam_type = document.getElementById('exam_type').value\n    total_marks = document.getElementById('total_marks').value\n    var request = new XMLHttpRequest();\n    request.open('POST', \"{% url 'addExamForm' %}\", true);\n    request.setRequestHeader(\"X-CSRFToken\", \"{{ csrf_token }}\")\n    request.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\n    request.onload = function() {\n        if (this.status &gt;= 200 &amp;&amp; this.status &lt; 400) {\n          alert(\"Success\");\n        } else {\n            alert(\"Fail\");\n        }\n      };\n    request.send(JSON.stringify({\"exam_type\":exam_type,\"total_marks\":total_marks}));\n}\n\n</code></pre>\n"}, {"tags": ["javascript", "google-chrome-extension"], "comments": [{"owner": {"reputation": 935, "user_id": 3182448, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/lQbRk.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/3182448/james"}, "edited": false, "score": 0, "creation_date": 1576098101, "post_id": 59293864, "comment_id": 104792628, "body": "Can you link a specific twitter page that doesn&#39;t work? I tried running your code in the console at twitter.com/search-home and it worked fine. So not sure if it&#39;s a code issue or an extension issue."}, {"owner": {"reputation": 145, "user_id": 12520770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b5b8b784e79f11af95d230cabd90c96?s=128&d=identicon&r=PG&f=1", "display_name": "Rex", "link": "https://stackoverflow.com/users/12520770/rex"}, "reply_to_user": {"reputation": 935, "user_id": 3182448, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/lQbRk.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/3182448/james"}, "edited": false, "score": 0, "creation_date": 1576098472, "post_id": 59293864, "comment_id": 104792776, "body": "@James The twitter home page doesn&#39;t work <a href=\"https://twitter.com/home\" rel=\"nofollow noreferrer\">twitter.com/home</a> . I tried using the console and it didn&#39;t work either"}, {"owner": {"reputation": 935, "user_id": 3182448, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/lQbRk.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/3182448/james"}, "edited": false, "score": 0, "creation_date": 1576119905, "post_id": 59293864, "comment_id": 104798239, "body": "Hmm, I can&#39;t be of much help. Both work for me in Chrome and Firefox. If the problematic &quot;inputs&quot; aren&#39;t actually inputs, you would have to find some sort of common selector, which may not exist unfortunately."}, {"owner": {"reputation": 42546, "user_id": 3959875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJdGu.png?s=128&g=1", "display_name": "wOxxOm", "link": "https://stackoverflow.com/users/3959875/woxxom"}, "edited": false, "score": 1, "creation_date": 1576129685, "post_id": 59293864, "comment_id": 104800430, "body": "Remove your content script and &quot;js&quot; entry in manifest.json, <a href=\"https://developer.chrome.com/extensions/content_scripts#declaratively\" rel=\"nofollow noreferrer\">use &quot;css&quot; instead</a> with something like this: <code>input, [contenteditable] { color: blue !important }</code>"}], "owner": {"reputation": 145, "user_id": 12520770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b5b8b784e79f11af95d230cabd90c96?s=128&d=identicon&r=PG&f=1", "display_name": "Rex", "link": "https://stackoverflow.com/users/12520770/rex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 162, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1576100003, "creation_date": 1576097425, "last_edit_date": 1576100003, "question_id": 59293864, "link": "https://stackoverflow.com/questions/59293864/content-script-is-not-working-as-its-supposed-to-on-all-web-pages", "title": "Content Script is not working as it&#39;s supposed to on all web pages", "body": "<p>So I am learning a bit by bit on chrome extensions. So I decided to do a small extension that will change any input field text color to blue. The problem was, that when I go to some websites like google and stack overflow the text is colored in blue but when I go to websites like facebook or twitter the fields were I write posts, write comments or search boxes are not colored(Note: I used inspect to make sure they are input fields). Any Idea why would that happen? and how can I fix that? \nHere's my code: </p>\n\n<p><strong>Manifest.js:</strong></p>\n\n<pre><code>  {\n    \"name\": \"Colors\",\n    \"version\": \"1.0\",\n    \"description\": \"change text color\",\n     \"content_scripts\": [\n   {\n     \"matches\": [\"http://*/*\",\"https://*/*\"],\n     \"js\": [\"contentScript.js\"]     \n   }\n ],\n    \"icons\": {\n      \"16\": \"images/icon.png\",\n        \"48\": \"images/icon.png\",\n        \"128\": \"images/icon.png\"\n    },\n    \"manifest_version\": 2\n  }\n</code></pre>\n\n<p><strong>contentScript.js:</strong></p>\n\n<pre><code>var text_fields=document.getElementsByTagName(\"input\");\nvar i;\nfor  (i=0;i&lt;text_fields.length;i++){\n    text_fields[i].style.color='blue';\n}\n</code></pre>\n\n<p><strong>EDIT</strong>:\nSo I have realized that some of the text fields are actually divs but there's no input field inside them(I seriously don't understand how), like the facebook \"post field\". So do u have any idea how to access these types of texts? </p>\n"}, {"tags": ["javascript", "jquery", "html"], "comments": [{"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 2, "creation_date": 1576098291, "post_id": 59293860, "comment_id": 104792702, "body": "<a href=\"https://html.spec.whatwg.org/multipage/indices.html#attributes-3\" rel=\"nofollow noreferrer\">html.spec.whatwg.org/multipage/indices.html#attributes-3</a>  <code>href</code> isn&#39;t a valid attribute for an image...."}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1576098421, "post_id": 59293860, "comment_id": 104792750, "body": "Also you have syntax errors around trying ot set the <code>href</code> and <code>target</code> on the caption."}], "answers": [{"tags": [], "owner": {"reputation": 30566, "user_id": 1079221, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/wFi75.jpg?s=128&g=1", "display_name": "Ashkan Mobayen Khiabani", "link": "https://stackoverflow.com/users/1079221/ashkan-mobayen-khiabani"}, "is_accepted": false, "score": 2, "last_activity_date": 1576098499, "last_edit_date": 1576098499, "creation_date": 1576098420, "answer_id": 59294085, "question_id": 59293860, "link": "https://stackoverflow.com/questions/59293860/how-to-tell-if-img-has-href-attribute/59294085#59294085", "title": "How to tell if &lt;img&gt; has href attribute?", "body": "<p>You can do it either like this:</p>\n\n<pre><code>this.hasAttribute('href');\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$(this).is('[href]');\n</code></pre>\n\n<p><a href=\"https://css-tricks.com/snippets/jquery/make-an-jquery-hasattr/\" rel=\"nofollow noreferrer\">More Info</a></p>\n"}], "owner": {"reputation": 5, "user_id": 10072355, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bc9Bv.jpg?s=128&g=1", "display_name": "Steven Tucker", "link": "https://stackoverflow.com/users/10072355/steven-tucker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576102872, "creation_date": 1576097394, "last_edit_date": 1576102872, "question_id": 59293860, "link": "https://stackoverflow.com/questions/59293860/how-to-tell-if-img-has-href-attribute", "title": "How to tell if &lt;img&gt; has href attribute?", "body": "<p>So I have a simple slideshow using JavaScript to fade images in and out, where all but one of the img elements do not have a href attribute. I would like to put the href attribute of the image into the href attribute of the caption (actually the img alt attribute) so that the text is clickable when the particular slide shows up, and becomes unclickable when the slide goes to the next one. I am very inexperienced in JS and cannot find any resources online to help me with this particular issue. Here is the part of my HTML file (called Finley.html) that is used, and my slideshow.js file.</p>\n\n<pre><code>&lt;section&gt;\n  &lt;!-- Slideshow --&gt;\n  &lt;h2 id=\"caption\"&gt;Car ride home! First time meeting each other.&lt;/h2&gt;\n  &lt;img id=\"slide\" src=\"images/Finley/car_ride_home.jpg\" alt=\"\"&gt;\n  &lt;div id=\"slides\"&gt;\n    &lt;img src=\"images/Finley/car_ride_home.jpg\" alt=\"Car ride home! First time meeting each other.\"&gt;\n    &lt;img src=\"images/Finley/he_lay.jpg\" alt=\"Handsome boy!\"&gt;\n    &lt;img src=\"images/Finley/awwww.jpg\" alt=\"First photo together\"&gt;\n    &lt;img src=\"images/Finley/photogenic_af.jpg\" alt=\"Papa, we made it to the community Instagram!\" href=\"https://google.com\" target=\"_blank\"&gt;\n    &lt;img src=\"images/Finley/first_vet.jpg\" alt=\"First vet trip was successful\"&gt;\n    &lt;img src=\"images/Finley/blop.jpg\" alt=\"blop.\"&gt;\n    &lt;img src=\"images/Finley/squishy_cheek.jpg\" alt=\"Car rides make me sleepy\"&gt;\n    &lt;img src=\"images/Finley/first_beach.jpg\" alt=\"First time at the beach and I got rocked by the waves\"&gt;\n    &lt;img src=\"images/Finley/sploot.jpg\" alt=\"sploot.\"&gt;\n    &lt;img src=\"images/Finley/floopy_ears.jpg\" alt=\"My family loves how floopy my ears are!\"&gt;\n    &lt;img src=\"images/Finley/daisy_gf.jpg\" alt=\"Playing with my friend Daisy!\"&gt;\n  &lt;/div&gt;\n&lt;/section&gt;\n</code></pre>\n\n<p>slideshow.js:</p>\n\n<pre><code>$(document).ready(function() {\n      //declare variables\n      var nextSlide = $(\"#slides img:first-child\");\n      var nextCaption;\n      var nextSlideSource;\n      // the function for running the slide show    \n      var runSlideShow = function() {\n        // write the function \n        $(\"#caption\").fadeOut(1000);\n        $(\"#slide\").fadeOut(1000,\n          function() { //callback function\n            if (nextSlide.next().length == 0) {\n              nextSlide = $(\"#slides img:first-child\");\n            } else {\n              nextSlide = nextSlide.next();\n            }\n            nextSlideSource = nextSlide.attr(\"src\");\n            nextCaption = nextSlide.attr(\"alt\");\n\n            if (nextCaption == \"Papa, we made it to the community Instagram!\") {\n              $(\"#caption\").attr(\"href\", nextSlide.attr(\"href\"); $(\"#caption\").attr(\"target\", nextSlide.attr(\"target\");\n                }\n\n                $(\"#slide\").attr(\"src\", nextSlideSource).fadeIn(1000); $(\"#caption\").text(nextCaption).fadeIn(1000);\n\n              }\n            ); //callback\n          }; //ready\n\n          // start slide show\n          var timer1 = setInterval(runSlideShow, 5000);\n\n\n          // here's one way to code this app without using the toggle event method\n          $(\"#slide\").click(function() {\n            if (timer1 != null) {\n              clearInterval(timer1);\n              timer1 = null;\n            } else {\n              timer1 = setInterval(runSlideShow, 1000);\n            }\n          });\n        })\n</code></pre>\n\n<p>This code displays the caption as text above the image, and the image stays on screen for 5 seconds before fading to the next image. To clarify, I'd like the caption text that appears to become a hyperlink to Google (actual site censored) for the one picture when it is displayed, and then return to normal once the next picture comes up. I tried putting line 21-24 in to test for the caption and set the attribute, but those lines stop the slideshow from working (remove those lines to see how it should behave). Maybe it's something in the if statement in line 21, but I'm not sure how to proceed. Any help or tips would be appreciated!</p>\n"}, {"tags": ["javascript", "regex"], "comments": [{"owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "edited": false, "score": 0, "creation_date": 1576098173, "post_id": 59293838, "comment_id": 104792656, "body": "Are you 100% sure you&#39;re only getting 2 out of 3 matches because it&#39;s the first item and not because the regexp doesn&#39;t match? It&#39;d be great to see a full code snippet which can easily reproduce the issue (including the data; I think the tab characters aren&#39;t coming through here)"}, {"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1576098477, "post_id": 59293838, "comment_id": 104792777, "body": "I can&#39;t reproduce your problem. Your RegExp seems to work fine with the sample data you&#39;ve given: <a href=\"https://jsfiddle.net/jrunning/pfv7t15u/\" rel=\"nofollow noreferrer\">jsfiddle.net/jrunning/pfv7t15u</a>"}, {"owner": {"reputation": 71, "user_id": 4062626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c95ea999e7b2a54ec7816820fcf9a68?s=128&d=identicon&r=PG&f=1", "display_name": "Jared H", "link": "https://stackoverflow.com/users/4062626/jared-h"}, "edited": false, "score": 0, "creation_date": 1576098880, "post_id": 59293838, "comment_id": 104792926, "body": "the industry-standard spreadsheet starts with 8 space characters, not tabs.  Checking Jordan&#39;s jsfiddle..."}, {"owner": {"reputation": 71, "user_id": 4062626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c95ea999e7b2a54ec7816820fcf9a68?s=128&d=identicon&r=PG&f=1", "display_name": "Jared H", "link": "https://stackoverflow.com/users/4062626/jared-h"}, "edited": false, "score": 0, "creation_date": 1576099645, "post_id": 59293838, "comment_id": 104793254, "body": "Think I found the problem.  didnt realize this would be a problem, but that&#39;s what I get for using a language I dont understand completely.  I had put in a if (patt.test() early on during troubleshooting.  that used to be used to loop through matches, so it probably takes off the first match, right?"}], "owner": {"reputation": 71, "user_id": 4062626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c95ea999e7b2a54ec7816820fcf9a68?s=128&d=identicon&r=PG&f=1", "display_name": "Jared H", "link": "https://stackoverflow.com/users/4062626/jared-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576097296, "creation_date": 1576097296, "question_id": 59293838, "link": "https://stackoverflow.com/questions/59293838/javascript-get-first-regexp-match-with-matchall", "title": "Javascript - get first RegExp match with matchAll()", "body": "<p>I'm not sure what I'm doing wrong, and I'm happy to admit that javascript isn't my strongest language.  I test my regexs in a little .net tester I wrote years ago, and I see no problems there.  I know different languages implement regex a little differently, but I don't think that's the issue here.</p>\n\n<p>My app has a textarea where I can paste in data from an industry-specific spreadsheet and I use regexp matchAll() to parse. I am looping through the matchAll-returned iterable with a for/of loop, pretty basic stuff, and noticed that I can't seem to get the first match.  So If my spreadsheet has 15 lines of data, my javascript parsing handles lines 2-15 ignoring #1.  If I copy any lines in the block and paste them to the start then the new line #1 is ignored and the old #1 which is now #2 gets parsed, always ignoring the first line.  So the issue is apparently not the RegExp pattern.  I googled and found this passage from developer.mozilla.org:</p>\n\n<blockquote>\n  <p>matchAll only returns the first match if the /g flag is missing</p>\n</blockquote>\n\n<p>this says to me that if I take out the /g I will only get the first match, but I guess this sentence could also be read to mean</p>\n\n<blockquote>\n  <p>unless the /g flag is missing, matchAll will not return the first match</p>\n</blockquote>\n\n<p>but that would be ridiculous, right? if I take out the /g then I get the first match, and only the first match.  if I use /g I get matches 2-15.  Why can't I get 1-15? I copied some of my code from a different app I made a few months ago that doesn't have this issue.</p>\n\n<p>working code:</p>\n\n<pre><code>var patt = /(?&lt;invoiceNumber&gt;INV \\d+)\\t(?&lt;vendor&gt;[\\w\u00a0 .,&amp;-]+)\\t(?&lt;vendInvNum&gt;[ ()\\w\\d\\/.-]+)\\t(20)?(?&lt;yr&gt;\\d{2})[-\\/](?&lt;mn&gt;\\d{1,2})[-\\/](?&lt;dd&gt;\\d{1,2})\\tInvoice\\sUSD\\s+(?&lt;invAmt&gt;[\\d,.-]+)/g\n\nfor (let result of objInp.value.matchAll(patt)){\n    //loops thru iterable\n}\n</code></pre>\n\n<p>example of data pasted in, finds 3 for 3 matches:</p>\n\n<pre><code>INV 006015  VENDOR 1    1025702 26/08/2019  Invoice USD  580.69 \nINV 006019  VENDOR 2    STORE/090919    09/09/2019  Invoice USD  38.71 \nINV 006021  Vendor 3    170241569   10/09/2019  Invoice USD  1,080.64 \n</code></pre>\n\n<p>Code that doesn't pull in first match:</p>\n\n<pre><code>var patt = /\\s(?&lt;actID&gt;[\\w\\d-]+)\\t(?&lt;actDesc&gt;[\\w\\d\u00a0 .,&amp;\\(\\)-]+)?\\t(?&lt;origDur&gt;[\\d]+)?\\t(?&lt;start&gt;[-\\d\\w]+)?\\t(?&lt;end&gt;[-\\d\\w]+)?/g\n\nfor (let result of objInp.value.matchAll(patt[x])){\n    //loops through but always misses the first match\n}\n</code></pre>\n\n<p>example of pasted data, finds 2 out of 3 matches:</p>\n\n<pre><code>Activity ID Activity Name   Original Duration   Start   Finish  Variance - BL1 Finish Date  BL1 Finish  Total Float\n        S600-20-21  Executive Steering Committee    5   06-Jan-20   13-Jan-20   0   13-Jan-20   0\n        S600-20-31  Steering Committee - Option Selection Meeting   2   13-Jan-20   15-Jan-20   0   15-Jan-20   0\n        S600-20-019b10  Resource Center of Excellence- Review   20  15-Jan-20   12-Feb-20   0   12-Feb-20   0\n</code></pre>\n"}, {"tags": ["javascript", "html", "css", "twitter-bootstrap", "bootstrap-4"], "answers": [{"comments": [{"owner": {"reputation": 950, "user_id": 9445999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76c54114d0aad5c252cd75a98679fac4?s=128&d=identicon&r=PG&f=1", "display_name": "Jan", "link": "https://stackoverflow.com/users/9445999/jan"}, "edited": false, "score": 0, "creation_date": 1576099809, "post_id": 59294100, "comment_id": 104793315, "body": "Yeah, this is working. But now the dropdown menu is above the line where the navbar is ending. That&#39;s not how I want to have it. I want to have the dropdown menu starting where the navbar menu is ending!"}], "tags": [], "owner": {"reputation": 382, "user_id": 12475285, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TOevJ.jpg?s=128&g=1", "display_name": "Shahryar Mohajer", "link": "https://stackoverflow.com/users/12475285/shahryar-mohajer"}, "is_accepted": false, "score": 0, "last_activity_date": 1576160014, "last_edit_date": 1576160014, "creation_date": 1576098517, "answer_id": 59294100, "question_id": 59293729, "link": "https://stackoverflow.com/questions/59293729/bootstrap-4-dropdown-menu-push-popup-below-navbar/59294100#59294100", "title": "Bootstrap 4 dropdown menu push popup below navbar", "body": "<p>this is js way:</p>\n\n<p><a href=\"https://codepen.io/shahry4r/pen/eYmzErm\" rel=\"nofollow noreferrer\">https://codepen.io/shahry4r/pen/eYmzErm</a></p>\n\n<p>if dont want use js you must put dd in end of menu link:</p>\n\n<pre><code>.dropdown:hover &gt; .dropdown-menu {\n    display: block;\n    margin-top: -10px;\n}\n</code></pre>\n\n<p>if this is ok add some custom class to dropdown and after that override the class</p>\n\n<p><a href=\"https://i.stack.imgur.com/F1Lj8.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F1Lj8.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>this is put dropdown where the menu areas end and drop down appears on menu hover</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 12533050, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dym34kwWD58/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reFDmE3N2mmaJeIneDfYkG48NzpGw/photo.jpg?sz=128", "display_name": "Vosidiy M", "link": "https://stackoverflow.com/users/12533050/vosidiy-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1576261788, "creation_date": 1576261788, "answer_id": 59328030, "question_id": 59293729, "link": "https://stackoverflow.com/questions/59293729/bootstrap-4-dropdown-menu-push-popup-below-navbar/59328030#59328030", "title": "Bootstrap 4 dropdown menu push popup below navbar", "body": "<p>You have to remove padding from .navbar and margin-top from .dropdown-menu\nBut if you are trying to make hover effect, do it only for desktop size.\nUse media query like this</p>\n\n<pre><code>/* ============ desktop view ============ */\n@media all and (min-width: 992px) {\n    .navbar .nav-item .dropdown-menu{ display: none; }\n    .navbar .nav-item:hover .nav-link{ color: #fff;  }\n    .navbar .nav-item:hover .dropdown-menu{ display: block; }\n    .navbar .nav-item .dropdown-menu{ margin-top:0; }\n}   \n/* ============ desktop view .end// ============ */\n</code></pre>\n\n<p>Here is detailed tutorial  about bootstrap navbars: <a href=\"https://bootstrap-menu.com/detail-basic-hover.html\" rel=\"nofollow noreferrer\">https://bootstrap-menu.com/detail-basic-hover.html</a> </p>\n"}], "owner": {"reputation": 950, "user_id": 9445999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76c54114d0aad5c252cd75a98679fac4?s=128&d=identicon&r=PG&f=1", "display_name": "Jan", "link": "https://stackoverflow.com/users/9445999/jan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 576, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1576261788, "creation_date": 1576096723, "last_edit_date": 1576096996, "question_id": 59293729, "link": "https://stackoverflow.com/questions/59293729/bootstrap-4-dropdown-menu-push-popup-below-navbar", "title": "Bootstrap 4 dropdown menu push popup below navbar", "body": "<p>I am using Bootstrap 4 and have implemented a navbar with a drop-down menu. However, I want to have the drop-down menu just below the navbar and not somewhere below the drop-down link. So, I have changed the attribute <code>top</code> from <code>100%</code> to a custom value in order to have the drop-down menu a little further pushed down (align it the end of the navbar - so, just below the navbar). Maybe you guys have a better solution to do this instead of entering a custom value.</p>\n\n<p>Because of this change, my menu is disappearing every time I want to swipe with the courser from the menu link to the drop-down menu because my menu is only showing on hover and not on click! It is disappearing because the mouse is not within the drop-down menu anymore as you can see in those two images. Any suggestions on how to fix this?</p>\n\n<p><a href=\"https://i.stack.imgur.com/JfxLF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JfxLF.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/ebBjB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ebBjB.png\" alt=\"enter image description here\"></a></p>\n\n<p>My navbar so far (<strong>in order to see the problem you have to see the desktop version!</strong>):</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.navbar-brand p {\r\n    width: auto;\r\n    max-width: 170px;\r\n    height: 47px;\r\n}\r\n\r\n.navbar {\r\n    padding: .25rem 1rem;\r\n}\r\n\r\n.nav-item {\r\n    padding: 0px 10px;\r\n}\r\n\r\n.navbar .nav-item:first-child {\r\n    padding-left: 0px;\r\n}\r\n\r\n.nav-item:last-child {\r\n    padding-right: 0px;\r\n}\r\n\r\n.burger-menu {\r\n    justify-content: right;\r\n}\r\n\r\n.dropdown-menu {\r\n    left: unset !important;\r\n    min-width: 300px !important;\r\n    top: 3.1rem !important;\r\n}\r\n\r\n.dropdown:hover &gt; .dropdown-menu {\r\n    display: block;\r\n}\r\n.dropdown &gt; .dropdown-toggle:active {\r\n    pointer-events: none;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css\" integrity=\"sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh\" crossorigin=\"anonymous\"&gt;\r\n&lt;script src=\"https://code.jquery.com/jquery-3.4.1.slim.min.js\" integrity=\"sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js\" integrity=\"sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js\" integrity=\"sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\r\n\r\n&lt;nav class=\"navbar navbar-expand-lg navbar-light bg-white\"&gt;\r\n  &lt;div class=\"container\"&gt;\r\n    &lt;div class=\"d-flex flex-grow-1\"&gt;\r\n      &lt;span class=\"w-100 d-lg-none d-block\"&gt;&lt;!-- hidden spacer to center brand on mobile --&gt;&lt;/span&gt;\r\n      &lt;a class=\"navbar-brand\" href=\"#\"&gt;\r\n        &lt;p&gt;My Image&lt;/p&gt;\r\n      &lt;/a&gt;\r\n      &lt;div class=\"w-100 d-flex burger-menu\"&gt;\r\n        &lt;button class=\"navbar-toggler collapsed\" type=\"button\" data-toggle=\"collapse\" data-target=\"#myNavbar7\" aria-expanded=\"false\"&gt;\r\n                &lt;span class=\"navbar-toggler-icon\"&gt;&lt;/span&gt;\r\n            &lt;/button&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"navbar-collapse flex-grow-1 collapse\" id=\"myNavbar7\" style=\"\"&gt;\r\n      &lt;ul class=\"navbar-nav ml-auto flex-nowrap\"&gt;\r\n        &lt;li class=\"nav-item\"&gt;\r\n          &lt;a href=\"#\" class=\"nav-link\"&gt;Link1&lt;/a&gt;\r\n        &lt;/li&gt;\r\n        &lt;li class=\"nav-item\"&gt;\r\n          &lt;a href=\"#\" class=\"nav-link\"&gt;Link2&lt;/a&gt;\r\n        &lt;/li&gt;\r\n        &lt;li class=\"nav-item\"&gt;\r\n          &lt;a href=\"#\" class=\"nav-link\"&gt;Link3&lt;/a&gt;\r\n        &lt;/li&gt;\r\n        &lt;li class=\"nav-item dropdown\"&gt;\r\n          &lt;a href=\"#\" class=\"nav-link dropdown-toggle\" data-toggle=\"dropdown\"&gt;Menu&lt;/a&gt;\r\n          &lt;div class=\"dropdown-menu\"&gt;\r\n            &lt;div class=\"row\"&gt;\r\n              &lt;div class=\"col-xl-12\"&gt;\r\n                &lt;a href=\"\" class=\"nav-link\"&gt;All Categories&lt;/a&gt;\r\n              &lt;/div&gt;\r\n              &lt;div class=\"col-xl-6\"&gt;\r\n                &lt;a href=\"#\" class=\"dropdown-item\"&gt;link&lt;/a&gt;\r\n                &lt;a href=\"#\" class=\"dropdown-item\"&gt;link&lt;/a&gt;\r\n                &lt;a href=\"#\" class=\"dropdown-item\"&gt;link&lt;/a&gt;\r\n                &lt;a href=\"#\" class=\"dropdown-item\"&gt;link&lt;/a&gt;\r\n              &lt;/div&gt;\r\n              &lt;div class=\"col-xl-6\"&gt;\r\n                &lt;a href=\"#\" class=\"dropdown-item\"&gt;link&lt;/a&gt;\r\n                &lt;a href=\"#\" class=\"dropdown-item\"&gt;link&lt;/a&gt;\r\n                &lt;a href=\"#\" class=\"dropdown-item\"&gt;link&lt;/a&gt;\r\n                &lt;a href=\"#\" class=\"dropdown-item\"&gt;link&lt;/a&gt;\r\n              &lt;/div&gt;\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n        &lt;/li&gt;\r\n        &lt;li class=\"nav-item\"&gt;\r\n          &lt;form&gt;\r\n            &lt;div class=\"input-group\"&gt;\r\n              &lt;input type=\"text\" class=\"form-control border border-right-0\" placeholder=\"Search...\"&gt;\r\n              &lt;span class=\"input-group-append\"&gt;\r\n                        &lt;button class=\"btn btn-outline-dark border border-left-0\" type=\"button\"&gt;\r\n                            &lt;i class=\"fa fa-search\"&gt;&lt;/i&gt;\r\n                        &lt;/button&gt;\r\n                         &lt;/span&gt;\r\n            &lt;/div&gt;\r\n          &lt;/form&gt;\r\n        &lt;/li&gt;\r\n        &lt;li class=\"nav-item\"&gt;\r\n          &lt;a href=\"#\" class=\"btn btn-secondary\"&gt;Login&lt;/a&gt;\r\n        &lt;/li&gt;\r\n        &lt;li class=\"nav-item\"&gt;\r\n          &lt;a href=\"#\" class=\"btn btn-primary\"&gt;Register&lt;/a&gt;\r\n        &lt;/li&gt;\r\n      &lt;/ul&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/nav&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "rest", "api", "axios", "github-api"], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 10787032, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-p0r6RWODQS8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iEEnKnu9U26zH4ohCM1pKYxSEktw/mo/photo.jpg?sz=128", "display_name": "Felipe Souza", "link": "https://stackoverflow.com/users/10787032/felipe-souza"}, "edited": false, "score": 0, "creation_date": 1576157084, "post_id": 59293988, "comment_id": 104813445, "body": "Great! I&#39;m going to work with their library it looks perfect for what I need. Thanks."}], "tags": [], "owner": {"reputation": 175, "user_id": 8945182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a9796c5ea1f1632325cc0d20baa91f5?s=128&d=identicon&r=PG&f=1", "display_name": "JLai", "link": "https://stackoverflow.com/users/8945182/jlai"}, "is_accepted": true, "score": 2, "last_activity_date": 1576098001, "creation_date": 1576098001, "answer_id": 59293988, "question_id": 59293711, "link": "https://stackoverflow.com/questions/59293711/authenticate-github-api-on-javascript/59293988#59293988", "title": "Authenticate GitHub API on JavaScript", "body": "<p>According to the <a href=\"https://developer.github.com/v3/#authentication\" rel=\"nofollow noreferrer\">documentation</a> you have to add an authorization header.</p>\n\n<pre><code>axios.get('https://api.github.com/search/users?q=' + props.user, {\n  'headers': {\n    'Authorization': `token ${my_token}` \n  }\n})\n</code></pre>\n\n<p>Otherwise github themselves actually offer a library called <a href=\"https://github.com/octokit/rest.js\" rel=\"nofollow noreferrer\">octokit</a> which you can use instead of axios.</p>\n"}], "owner": {"reputation": 97, "user_id": 10787032, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-p0r6RWODQS8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iEEnKnu9U26zH4ohCM1pKYxSEktw/mo/photo.jpg?sz=128", "display_name": "Felipe Souza", "link": "https://stackoverflow.com/users/10787032/felipe-souza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 362, "favorite_count": 0, "accepted_answer_id": 59293988, "answer_count": 1, "score": 0, "last_activity_date": 1576098001, "creation_date": 1576096653, "question_id": 59293711, "link": "https://stackoverflow.com/questions/59293711/authenticate-github-api-on-javascript", "title": "Authenticate GitHub API on JavaScript", "body": "<p>I'm building a simple application on react using axios and the GitHub API, but i'm having problems with the API authentication. </p>\n\n<p>I've manage to get some requests, but I need to authenticate my access since I have a limited number of requests avaliable: \"API rate limit exceeded for <strong>.<em></strong>.<strong>.</em></strong>. (But here's the good news: Authenticated requests get a higher rate limit.)\"</p>\n\n<p>I've generated a token for a GitHub account but I don't know how to use it. Here is what I tried:</p>\n\n<pre><code>    const fetchUsers = () =&gt; {\n        axios.get('https://api.github.com/search/users?q=' + props.user, {\n            'auth': {\n              'username': my_user,\n              'token': my_token,\n            }\n        })\n        .then(response =&gt; {\n            const users = response.data.items;\n            const updatedUsers = users.map(users =&gt; {\n                return {\n                    ...users,\n                }\n            })\n            setUsersLoaded(true)\n            setUsers(updatedUsers)\n        })\n    }\n</code></pre>\n\n<p>Can I validate it with axios or do I have to work with a different approach?</p>\n"}, {"tags": ["javascript", "html", "dom"], "comments": [{"owner": {"reputation": 11162, "user_id": 11619647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0MnDA.jpg?s=128&g=1", "display_name": "Emiel Zuurbier", "link": "https://stackoverflow.com/users/11619647/emiel-zuurbier"}, "edited": false, "score": 0, "creation_date": 1576097750, "post_id": 59293697, "comment_id": 104792490, "body": "Could you add the HTML that comes with the JavaScript and create a minimal reproducible example to experience the issue?"}], "answers": [{"comments": [{"owner": {"reputation": 436, "user_id": 10395139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a781252222a16b61d37c88a783546e2b?s=128&d=identicon&r=PG&f=1", "display_name": "Krullmizter", "link": "https://stackoverflow.com/users/10395139/krullmizter"}, "edited": false, "score": 0, "creation_date": 1576101812, "post_id": 59294422, "comment_id": 104794045, "body": "Thanks for taking your time and answering but the issue here is that I need to use set &amp; clearIntervals. That is what I can&#39;t get to work properly."}], "tags": [], "owner": {"reputation": 11162, "user_id": 11619647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0MnDA.jpg?s=128&g=1", "display_name": "Emiel Zuurbier", "link": "https://stackoverflow.com/users/11619647/emiel-zuurbier"}, "is_accepted": true, "score": 1, "last_activity_date": 1576106526, "last_edit_date": 1576106526, "creation_date": 1576100000, "answer_id": 59294422, "question_id": 59293697, "link": "https://stackoverflow.com/questions/59293697/fade-swap-images-with-opacity-setinterval/59294422#59294422", "title": "Fade &amp; swap images with opacity &amp; setInterval", "body": "<h1>Edited answer</h1>\n\n<p>The <code>style.opacity</code> value has a funny behavior to it. When it has a value above 0 it is an integer, but when it reaches 0 it becomes a string. So when doing <code>MAINIMG.style.opacity = MAINIMG.style.opacity + 0.1;</code> you are actually adding <code>0.1</code> to <code>\"0\"</code>.</p>\n\n<p>You can tackle this by parsing the opacity value to a floating point number and then add the 0.1 to it. Check the example below.</p>\n\n<pre><code>MAINIMG.style.opacity = parseFloat(MAINIMG.style.opacity) + 0.1;\n</code></pre>\n\n<h1>Original answer</h1>\n\n<p>CSS is really good in handling transitions and will save you a lot of trouble calculating the opacity of an element. So if you can try to use it.</p>\n\n<p>Down here I've made an example of what you could do to make it work using a combination of Vanilla JavaScript and CSS.</p>\n\n<p>The <code>swapImg</code> function gets the <code>src</code> of the hovered image, just like in your own example, and checks if the <code>MAINIMG.src</code> is different from the hovered image. If it is not it will add a class to the <code>MAINIMG</code> called <code>fade</code>. This class sets the opacity of the image to <code>0</code>. The duration of the opacity transition is set in the <code>MAINIMG.style.transitionDuration = TRANSITION_SPEED + 'ms';</code> line. You can modify this value if you want to your liking.</p>\n\n<p><strong>After</strong> the transition is complete the <code>MAINIMG</code> will be invisible. Then the <code>setTimeout</code> kicks in, changes the <code>src</code> of the <code>MAINIMG</code> and removes the <code>fade</code> class so the image will appear again.</p>\n\n<p>I hope this is what you are looking for.<br>\nIf you have any questions let me know.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const MAINIMG = document.getElementById(\"mainImage\");\r\nconst GALLERYIMAGES = document.getElementById(\"galleryImages\");\r\nconst TRANSITION_SPEED = 250;\r\n\r\nMAINIMG.style.transitionDuration = TRANSITION_SPEED + 'ms';\r\n\r\nfunction swapImg(e) {\r\n  if (e.target.tagName === 'IMG') {\r\n    const newSrc = e.target.src;\r\n    if (newSrc !== MAINIMG.src) {\r\n      MAINIMG.classList.add('fade');\r\n      setTimeout(function() {\r\n        MAINIMG.src = newSrc;\r\n        MAINIMG.classList.remove('fade');\r\n      }, TRANSITION_SPEED);\r\n    }\r\n  }\r\n}\r\n\r\nGALLERYIMAGES.addEventListener('mouseover', swapImg);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>img {\r\n  display: inline-block;\r\n}\r\n\r\n#mainImage {\r\n  width: 200px;\r\n  height: 200px;\r\n  transition-property: opacity;\r\n  transition-timing-function: ease-in-out;\r\n}\r\n\r\n#mainImage.fade {\r\n  opacity: 0;\r\n}\r\n\r\n#galleryImages img {\r\n  width: 100px;\r\n  height: 100px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;img id=\"mainImage\" src=\"https://source.unsplash.com/random/201x200\" alt=\"\" width=\"200\" /&gt;\r\n\r\n&lt;div id=\"galleryImages\"&gt;\r\n   &lt;img class=\"galleryHover\" src=\"https://source.unsplash.com/random/201x200\"/&gt;\r\n   &lt;img class=\"galleryHover\" src=\"https://source.unsplash.com/random/200x201\"/&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 436, "user_id": 10395139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a781252222a16b61d37c88a783546e2b?s=128&d=identicon&r=PG&f=1", "display_name": "Krullmizter", "link": "https://stackoverflow.com/users/10395139/krullmizter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 59294422, "answer_count": 1, "score": 0, "last_activity_date": 1576106526, "creation_date": 1576096606, "last_edit_date": 1576097935, "question_id": 59293697, "link": "https://stackoverflow.com/questions/59293697/fade-swap-images-with-opacity-setinterval", "title": "Fade &amp; swap images with opacity &amp; setInterval", "body": "<p>I'm trying to swap out a main image when when a user hovers over a thumbnail of said image (like a gallery.) I need to use <code>set</code> &amp; <code>clearInterval</code> whilst editing the DOM. All this with vanilla JavaScript. The issue I have here is that:</p>\n\n<ul>\n<li>The hovered image fades out, but not in.</li>\n<li>The swap &amp; fade effect gets accelerated with each hover.</li>\n</ul>\n\n<p>I know that <code>set</code> &amp; <code>clearInterval</code> has something to do with this, but I can't get it to work properly. </p>\n\n<pre><code>const MAINIMG = document.getElementById(\"mainImage\");\nlet imgSrc;\n\nfunction swapImg(e) {\n    MAINIMG.style.opacity = 1;\n    imgSrc = e.target.src;\n\n    if (MAINIMG.currentSrc != e.target.currentSrc) {\n        fadeImg();    \n    } \n}\n\nfunction fadeImg() {\n    timer = setInterval(opacity, 100);\n}\n\nfunction opacity(src) {\n\n    if (MAINIMG.style.opacity &gt;= 0.5) {\n        MAINIMG.style.opacity = MAINIMG.style.opacity - 0.1;\n\n    } else if (MAINIMG.style.opacity == 0.4) {\n        MAINIMG.src = imgSrc;\n        MAINIMG.style.opacity = MAINIMG.style.opacity + 0.1;\n        clearInterval(timer);\n    }\n}\n\ndocument.getElementById(\"imgOne\").addEventListener(\"mouseover\", swapImg);\ndocument.getElementById(\"imgTwo\").addEventListener(\"mouseover\", swapImg);\n</code></pre>\n\n<p>HTML </p>\n\n<pre><code>&lt;img id=\"mainImage\" src=\"../images/imgOne.jpg\" alt=\"\" width=\"200\" /&gt;\n\n&lt;div id=\"galleryImages\"&gt;\n   &lt;img src=\"../images/imgOne.jpg\" height=\"111.35\" id=\"imgOne\"/&gt;\n   &lt;img src=\"../images/imgTwo.jpg\" width=\"80\" id=\"imgTwo\" /&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "discord", "discord.js"], "comments": [{"owner": {"reputation": 9320, "user_id": 5196394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/52GqN.jpg?s=128&g=1", "display_name": "hoangdv", "link": "https://stackoverflow.com/users/5196394/hoangdv"}, "edited": false, "score": 0, "creation_date": 1576112614, "post_id": 59293690, "comment_id": 104796823, "body": "&#39;very slow&#39; - Why do you know that?"}], "answers": [{"tags": [], "owner": {"reputation": 793, "user_id": 10902665, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ruoiTFKT5kY/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYcWP7P2en2tVgSv0_gjolhUaAkPA/mo/photo.jpg?sz=128", "display_name": "Strike Eagle", "link": "https://stackoverflow.com/users/10902665/strike-eagle"}, "is_accepted": false, "score": 0, "last_activity_date": 1576161022, "creation_date": 1576161022, "answer_id": 59306795, "question_id": 59293690, "link": "https://stackoverflow.com/questions/59293690/discord-js-bot-is-very-slow-no-idea-why/59306795#59306795", "title": "Discord.JS bot is very slow, no idea why", "body": "<p>I dont know the specifics of how request.get(url) work (I prefer node-fetch) however if its a synchronous call it would be significantly slowing it down. Otherwise the problem is simply your internet connection.</p>\n"}, {"tags": [], "owner": {"reputation": 345, "user_id": 3487331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WHrxD.png?s=128&g=1", "display_name": "jackmerrill", "link": "https://stackoverflow.com/users/3487331/jackmerrill"}, "is_accepted": false, "score": 0, "last_activity_date": 1576162191, "creation_date": 1576162191, "answer_id": 59307165, "question_id": 59293690, "link": "https://stackoverflow.com/questions/59293690/discord-js-bot-is-very-slow-no-idea-why/59307165#59307165", "title": "Discord.JS bot is very slow, no idea why", "body": "<p>Well I found out it starts slow but then catches up, so I'm marking this as answered.</p>\n"}], "owner": {"reputation": 345, "user_id": 3487331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WHrxD.png?s=128&g=1", "display_name": "jackmerrill", "link": "https://stackoverflow.com/users/3487331/jackmerrill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1618, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1576162191, "creation_date": 1576096569, "question_id": 59293690, "link": "https://stackoverflow.com/questions/59293690/discord-js-bot-is-very-slow-no-idea-why", "title": "Discord.JS bot is very slow, no idea why", "body": "<p>Sorry for the bad title, I can't think of a good one.</p>\n\n<p>I'm running a self-bot (I know, against TOS but I'm experimenting) and it needs to download any new files (specifically images [gifs too], and videos) when it is sent. It does work but it is very slow and the files that are downloaded are from minutes ago.</p>\n\n<p>Here's my current code:</p>\n\n<pre><code>const client = new Discord.Client();\nlet request = require(`request`);\nlet fs = require(`fs`);\nfunction download(url, fname){\n    request.get(url)\n        .on('error', console.error)\n        .pipe(fs.createWriteStream(\"./cmc-memes/\"+fname));\n}\nclient.on('ready', () =&gt; {\n  console.log(`Logged in as ${client.user.tag}!`);\n});\n// lags idk why\nclient.on('message', msg =&gt; {\n    if (msg.channel.id === \"296056831514509312\") {\n        console.log(msg.content)\n        if(msg.attachments.first()){//checks if an attachment is sent\n            download(msg.attachments.first().url, msg.attachments.first().filename);//Function I will show later\n        }\n    }\n});\n</code></pre>\n\n<p>What do I do to fix this?</p>\n\n<p>Any help is appreciated, thanks!</p>\n"}, {"tags": ["javascript", "html", "show-hide"], "comments": [{"owner": {"reputation": 297, "user_id": 3005230, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Dd2nl.jpg?s=128&g=1", "display_name": "Travieso", "link": "https://stackoverflow.com/users/3005230/travieso"}, "edited": false, "score": 0, "creation_date": 1576097295, "post_id": 59293657, "comment_id": 104792283, "body": "Can you show the html?"}, {"owner": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "edited": false, "score": 0, "creation_date": 1576098237, "post_id": 59293657, "comment_id": 104792681, "body": "I misunderstood your question at first.. please check out my updated answer..."}], "answers": [{"tags": [], "owner": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "is_accepted": false, "score": 0, "last_activity_date": 1576101578, "last_edit_date": 1576101578, "creation_date": 1576097566, "answer_id": 59293903, "question_id": 59293657, "link": "https://stackoverflow.com/questions/59293657/show-div-based-on-multiple-drop-down-selections/59293903#59293903", "title": "Show Div based on multiple drop down selections", "body": "<p>In order to accomplish this you'll have to:</p>\n\n<ul>\n<li>Use the <code>change</code> event on each select</li>\n<li>Take advantage of the <code>value</code> attribute on each option</li>\n</ul>\n\n<p><strong><em>Demo:</em></strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const mainSelect = document.querySelector('select[name=\"main\"]');\r\nconst subSelect = document.querySelector('select[name=\"sub\"]');\r\nconst resultsDiv = document.getElementById(\"results\");\r\n\r\nmainSelect.addEventListener(\"change\", event =&gt; {\r\n  handleChange(event);\r\n});\r\n\r\nsubSelect.addEventListener(\"change\", event =&gt; {\r\n  handleChange(event);\r\n});\r\n\r\nfunction handleChange(event) {\r\n  let textboxes = \"\";\r\n  let mainCount = Number(mainSelect.value);\r\n  let subCount = Number(subSelect.value);\r\n  \r\n  for (let i = 0; i &lt; mainCount; i++) {\r\n    let t = \"&lt;input type='text' placeholder='main' /&gt;&lt;br/&gt;\";\r\n    \r\n    for (let s = 0; s &lt; subCount; s++) {\r\n      t += \"&lt;input placeholder='sub' style='margin-left: 10px;' /&gt;&lt;br/&gt;\"\r\n    }\r\n    \r\n    textboxes += t;\r\n  }\r\n  \r\n  resultsDiv.innerHTML = `&lt;h4&gt;Please fill these out&lt;/h4&gt;${textboxes}`;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;select name=\"main\"&gt;\r\n  &lt;option value=\"1\"&gt;1&lt;/option&gt;\r\n  &lt;option value=\"2\"&gt;2&lt;/option&gt;\r\n  &lt;option value=\"3\"&gt;3&lt;/option&gt;\r\n  &lt;option value=\"4\"&gt;4&lt;/option&gt;\r\n  &lt;option value=\"5\"&gt;5&lt;/option&gt;\r\n&lt;/select&gt;\r\n&lt;br /&gt;\r\n&lt;select name=\"sub\"&gt;\r\n  &lt;option value=\"1\"&gt;1&lt;/option&gt;\r\n  &lt;option value=\"2\"&gt;2&lt;/option&gt;\r\n  &lt;option value=\"3\"&gt;3&lt;/option&gt;\r\n&lt;/select&gt;\r\n&lt;div id=\"results\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4718611, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qhSPHr8MIQ8/AAAAAAAAAAI/AAAAAAAAAJ0/ddJIW8y9Zfk/photo.jpg?sz=128", "display_name": "DENNIS HUALLANCA ZAVALETA", "link": "https://stackoverflow.com/users/4718611/dennis-huallanca-zavaleta"}, "is_accepted": false, "score": 0, "last_activity_date": 1576099333, "creation_date": 1576099333, "answer_id": 59294286, "question_id": 59293657, "link": "https://stackoverflow.com/questions/59293657/show-div-based-on-multiple-drop-down-selections/59294286#59294286", "title": "Show Div based on multiple drop down selections", "body": "<blockquote>\n  <p>You can use onchange in the sub select: </p>\n</blockquote>\n\n<pre><code>&lt;select name=\"sub\" onchange=\"createSubInput(this)\"&gt;\n\n function createSubInput (selected) {\n      let mainSelectedValue = document.getElementById('main').value;\n\n       for(let i=0; i&lt; mainSelectedValue; i++) {\n        for(let j=0; j&lt; selected.value; j++) {\n          // todo: create sub input by each main input\n        }\n      }\n    }\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11396201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cbfe1cbb158abd11827e8e87a538979?s=128&d=identicon&r=PG&f=1", "display_name": "thetrusyco", "link": "https://stackoverflow.com/users/11396201/thetrusyco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1576101879, "creation_date": 1576096449, "last_edit_date": 1576101879, "question_id": 59293657, "link": "https://stackoverflow.com/questions/59293657/show-div-based-on-multiple-drop-down-selections", "title": "Show Div based on multiple drop down selections", "body": "<pre><code>&lt;select name=\"main\"&gt;\n  &lt;option value=\"1\"&gt;1&lt;/option&gt;\n  &lt;option value=\"1\"&gt;2&lt;/option&gt;\n  &lt;option value=\"1\"&gt;3&lt;/option&gt;\n  &lt;option value=\"1\"&gt;4&lt;/option&gt;\n  &lt;option value=\"1\"&gt;5&lt;/option&gt;\n&lt;/select&gt;\n&lt;select name=\"sub\"&gt;\n  &lt;option value=\"1\"&gt;1&lt;/option&gt;\n  &lt;option value=\"1\"&gt;2&lt;/option&gt;\n  &lt;option value=\"1\"&gt;3&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>I have 2 seperate drop downs as seen here. I want to make it so that if they select main it will show a div for main with a text box equal to they number they select(ie. 4 will show 4 main textboxes for them to fill out) which I know how to do. The problem comes with sub I want them to show  a text box equal to the sub for each main select(ie if main is 3 and sub is 3 then each of the 3 main text box will be followed by 3 sub text boxes) I can make it show 3 or all but I can not figure out how to make it go based of the selection of both main and sub to ive me the exact fields I am looking for.   Do I just need to set in the function for the java script that if main == x then show xyz on the function for sub?</p>\n"}, {"tags": ["javascript", "vue.js", "webpack"], "answers": [{"tags": [], "owner": {"reputation": 111, "user_id": 1891275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/859af3bf2b93505ba16bc0446945d903?s=128&d=identicon&r=PG", "display_name": "Pavel A", "link": "https://stackoverflow.com/users/1891275/pavel-a"}, "is_accepted": false, "score": 0, "last_activity_date": 1576569831, "creation_date": 1576569831, "answer_id": 59369886, "question_id": 59293654, "link": "https://stackoverflow.com/questions/59293654/cache-misses-for-lazy-loaded-resources-using-dynamic-imports/59369886#59369886", "title": "Cache misses for lazy loaded resources (using dynamic imports)", "body": "<p>So far I have not found anything better than including all the scripts, I need on the page, in its <code>&lt;head&gt;</code> section. Moreover only using <code>&lt;script&gt;</code> tag helped; <code>&lt;link href=\"...\" rel=\"preload\" as=\"script\"&gt;</code> was useless.</p>\n"}, {"comments": [{"owner": {"reputation": 111, "user_id": 1891275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/859af3bf2b93505ba16bc0446945d903?s=128&d=identicon&r=PG", "display_name": "Pavel A", "link": "https://stackoverflow.com/users/1891275/pavel-a"}, "edited": false, "score": 0, "creation_date": 1576570906, "post_id": 59370009, "comment_id": 104933097, "body": "Thanks for the reply. Directly referencing each file with <code>&lt;script&gt;</code> does help (even without version specification), but it is a pity I have to do this manually. With webpack I can only reference the top of the tree and then it pulls everything it needs. However caching doesn&#39;t work then. I&#39;ve tried <code>&lt;link rel=&quot;preload&quot; as=&quot;script&quot;&gt;</code>, but that didn&#39;t work either - when webpack inserts <code>&lt;script&gt;</code> for dependencies the resources are loaded again despite the preload link."}], "tags": [], "owner": {"reputation": 3343, "user_id": 6318702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EMviX.jpg?s=128&g=1", "display_name": "Andrei Todorut", "link": "https://stackoverflow.com/users/6318702/andrei-todorut"}, "is_accepted": false, "score": 0, "last_activity_date": 1576570383, "creation_date": 1576570383, "answer_id": 59370009, "question_id": 59293654, "link": "https://stackoverflow.com/questions/59293654/cache-misses-for-lazy-loaded-resources-using-dynamic-imports/59370009#59370009", "title": "Cache misses for lazy loaded resources (using dynamic imports)", "body": "<p>Use a version parameter for the script url. </p>\n\n<p>There's a code snippet that showcase this:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"myApp.umd.min.js?v=123\"&gt;&lt;/script&gt; \n</code></pre>\n\n<p>Also this is a valid solution:</p>\n\n<pre><code>&lt;link rel=\"preload\" href=\"myFont.woff2\" as=\"font\"\n      type=\"font/woff2\" crossorigin=\"anonymous\"&gt;\n</code></pre>\n\n<p>From docs:</p>\n\n<p>A <code>rel</code> value of preload indicates that the browser should preload this resource with the as attribute indicating the specific class of content being fetched. The crossorigin attribute indicates whether the resource should be fetched with a CORS request.</p>\n"}], "owner": {"reputation": 111, "user_id": 1891275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/859af3bf2b93505ba16bc0446945d903?s=128&d=identicon&r=PG", "display_name": "Pavel A", "link": "https://stackoverflow.com/users/1891275/pavel-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1576570383, "creation_date": 1576096444, "question_id": 59293654, "link": "https://stackoverflow.com/questions/59293654/cache-misses-for-lazy-loaded-resources-using-dynamic-imports", "title": "Cache misses for lazy loaded resources (using dynamic imports)", "body": "<p>In a Vue.js project created with Vue CLI (internally using webpack), I implement code splitting and lazy loading with dynamic imports like so:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import(/* webpackChunkName: \"my-feature\" */ \"./my-feature.js\");\n</code></pre>\n\n<p>As a result I get the expected set of files:</p>\n\n<ol>\n<li>dist/myApp.umd.min.js</li>\n<li>dist/myApp.umd.min.vendors~my-feature.js (my-feature dependencies)</li>\n<li>dist/myApp.umd.min.my-feature.js</li>\n</ol>\n\n<p>The Vue application is built as a library and then used for an existing web site. What I do is include <code>myApp.umd.min.js</code> in &lt;head&gt; (common to all pages), and then in &lt;body&gt; request code I need for that page (for example <code>myApp.umd.min.my-feature.js</code>). Dependencies (<code>myApp.umd.min.vendors~my-feature.js</code>) are automatically requested by the earlier script.</p>\n\n<hr>\n\n<p><strong>Problem</strong></p>\n\n<p>When I navigate to a page, that uses the Vue app (and specifically my-feature), all 3 of the above files are loaded. That is expected for the first visit, but if I move to a different page and then return, only the first file (<code>myApp.umd.min.js</code>) is loaded from cache. The other ones are loaded from server every time I visit the page.</p>\n\n<p>What approach to take for the lazy-loaded scripts to come from cache once already loaded? Thank you!</p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 436, "user_id": 6707391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lZs0S.png?s=128&g=1", "display_name": "Lykos94", "link": "https://stackoverflow.com/users/6707391/lykos94"}, "edited": false, "score": 0, "creation_date": 1576103923, "post_id": 59293629, "comment_id": 104794734, "body": "Please remember to say what library you are using while asking (I suppose it&#39;s ChartJS but it may be something else). Anyway, I&#39;m trying to reproduce your error starting from your code, but it works even with 200+ data and labels. Can you provide more details?"}, {"owner": {"reputation": 1, "user_id": 12520675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d79d575e55be4067a9391b9a987fc13b?s=128&d=identicon&r=PG&f=1", "display_name": "Jiuyang", "link": "https://stackoverflow.com/users/12520675/jiuyang"}, "reply_to_user": {"reputation": 436, "user_id": 6707391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lZs0S.png?s=128&g=1", "display_name": "Lykos94", "link": "https://stackoverflow.com/users/6707391/lykos94"}, "edited": false, "score": 0, "creation_date": 1576149436, "post_id": 59293629, "comment_id": 104809354, "body": "@Lykos94 Many thanks for your reply. I am sorry for not mentioning the library. And I&#39;ve got more findings of my code. Could you please see the &quot;Update&quot; of my post? Thanks again!"}, {"owner": {"reputation": 436, "user_id": 6707391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lZs0S.png?s=128&g=1", "display_name": "Lykos94", "link": "https://stackoverflow.com/users/6707391/lykos94"}, "edited": false, "score": 0, "creation_date": 1576151361, "post_id": 59293629, "comment_id": 104810381, "body": "Thanks for the update, I tried again this time using a Django online IDE to reproduce your code... and it still works. I&#39;m leaving here a link to it so you can check if it is similar to your code/what you want to achieve. Please note the <code>template&#47;main&#47;index.html</code> and <code>main&#47;views.py</code> files. Here&#39;s the <a href=\"https://repl.it/repls/LowElaborateString\" rel=\"nofollow noreferrer\">link</a>"}, {"owner": {"reputation": 1, "user_id": 12520675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d79d575e55be4067a9391b9a987fc13b?s=128&d=identicon&r=PG&f=1", "display_name": "Jiuyang", "link": "https://stackoverflow.com/users/12520675/jiuyang"}, "reply_to_user": {"reputation": 436, "user_id": 6707391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lZs0S.png?s=128&g=1", "display_name": "Lykos94", "link": "https://stackoverflow.com/users/6707391/lykos94"}, "edited": false, "score": 0, "creation_date": 1576254090, "post_id": 59293629, "comment_id": 104851910, "body": "@Lykos94 Thanks for your help. I took a closer look at my case, and it turns to be if the data fed is more than ~360 then the chart doesn&#39;t work. And I also found that it is correlated with the total number of cells, i.e. if I only printing one or two columns, then &gt;500 data could be plotted. However, when I put the &lt;script&gt; part at the bottom of my code, i.e. just above &lt;/body&gt;, it works! So I guess it turns out to be the chart data must be loaded after page finish loading, i.e. table finish printing? And does it mean I should put all &lt;scripts&gt; just before &lt;/body&gt;? Thanks!"}, {"owner": {"reputation": 436, "user_id": 6707391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lZs0S.png?s=128&g=1", "display_name": "Lykos94", "link": "https://stackoverflow.com/users/6707391/lykos94"}, "edited": false, "score": 0, "creation_date": 1576255376, "post_id": 59293629, "comment_id": 104852535, "body": "If that&#39;s the case, put your script inside a document.onload function to be sure everything is already loaded. Check this <a href=\"https://stackoverflow.com/questions/588040/window-onload-vs-document-onload\">link</a>"}, {"owner": {"reputation": 1, "user_id": 12520675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d79d575e55be4067a9391b9a987fc13b?s=128&d=identicon&r=PG&f=1", "display_name": "Jiuyang", "link": "https://stackoverflow.com/users/12520675/jiuyang"}, "reply_to_user": {"reputation": 436, "user_id": 6707391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lZs0S.png?s=128&g=1", "display_name": "Lykos94", "link": "https://stackoverflow.com/users/6707391/lykos94"}, "edited": false, "score": 0, "creation_date": 1576267757, "post_id": 59293629, "comment_id": 104857714, "body": "@Lykos94 I&#39;ve added $ (document).ready(function () {myfunction} ) to my script and it works smoothly now. So I guess that is the case. Thanks again for your help!"}], "owner": {"reputation": 1, "user_id": 12520675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d79d575e55be4067a9391b9a987fc13b?s=128&d=identicon&r=PG&f=1", "display_name": "Jiuyang", "link": "https://stackoverflow.com/users/12520675/jiuyang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576149264, "creation_date": 1576096328, "last_edit_date": 1576149264, "question_id": 59293629, "link": "https://stackoverflow.com/questions/59293629/graph-not-displaying-values-if-providing-many-data-use-ajax-to-plot-charrt-in-ht", "title": "Graph not displaying values if providing many data/Use ajax to plot charrt in HTML", "body": "<p>Hi I am new to HTML &amp; javascript and trying to build a website.</p>\n\n<p>I am trying to make a histogram plot in HTML by retrieving data from my database, converting them into Json response, and passing it to HTML.</p>\n\n<pre><code>My Json response\n{'bins':[b1,b2,b3,b4...], 'number':[n1,n2,n3,n4...]}\n</code></pre>\n\n<p>The problem is, if the number of data records retrieved is larger than some value (around 100, not strictly tested), the chart will be there, but it is blank.</p>\n\n<p>If the number of records retrieved is fewer, the chart will be displaying normally.</p>\n\n<p>I've checked the JSON response and the response is indeed sent back every time.</p>\n\n<pre><code>&lt;script&gt;\n  var endpoint = '/api/data/'\n  var defaultData = []\n  var labels = []\n  $.ajax({\n    type: \"get\",\n    url: endpoint,\n    success: function(data) {\n      labels = data.bins\n      defaultData = data.number\n      var ctx = document.getElementById(\"myChart\");\n      var myChart = new Chart(ctx, {\n        type: 'bar',\n        data: {\n          labels: labels,\n          datasets: [{\n            label: '# of records',\n            data: defaultData\n          }]\n        }\n      })\n    },\n    error: function(error_data) {\n      alert('Error: ajax request error\uff01')\n      console.log('error')\n      console.log(error_data)\n    }\n  })\n&lt;/script&gt;\n\n&lt;div class='row'&gt;\n  &lt;div class='col-sm-3' url-endpoint='{% url \"api-data\" %}'&gt;\n    &lt;canvas id='myChart' class=\"plot\" data-url='/api/data' width='400px' , height='400px'&gt; &lt;/canvas&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Many thanks!</p>\n\n<p><strong>Updates</strong>\nMy apologize for not mentioning the package I've used. I was using Django and chart.js for this chart plotting. And I found the reason of this problem is actually due to the printing of data after plotting the chart. Please see my code below for more information.</p>\n\n<pre><code>&lt;!-- Plotting the chart --&gt;\n&lt;script&gt;\n  var endpoint = '/api/data/'\n  var defaultData = []\n  var labels = []\n  $.ajax({\n    type: \"get\",\n    url: endpoint,\n    success: function(data) {\n      labels = data.bins\n      defaultData = data.number\n      var ctx = document.getElementById(\"myChart\");\n      var myChart = new Chart(ctx, {\n        type: 'bar',\n        data: {\n          labels: labels,\n          datasets: [{\n            label: '# of records',\n            data: defaultData\n          }]\n        }\n      })\n    },\n    error: function(error_data) {\n      alert('Error: ajax request error\uff01')\n      console.log('error')\n      console.log(error_data)\n    }\n  })\n&lt;/script&gt;\n\n&lt;div class='row'&gt;\n  &lt;div class='col-sm-3' url-endpoint='{% url \"api-data\" %}'&gt;\n    &lt;canvas id='myChart' class=\"plot\" data-url='/api/data' width='400px' , height='400px'&gt; &lt;/canvas&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;!-- Printing the data in a table --&gt;\n&lt;table class=\"table table-striped\" data-toggle=\"table\"\n data-pagination=\"true\"  data-side-pagination=\"client\"  data-height=\"700\" data-show-columns=\"true\" data-search=\"true\" data-show-export=\"true\"  data-click-to-select=\"true\" data-toolbar=\"#toolbar\" data-page-size=\"10\" &gt;\n\n&lt;thead&gt;\n    &lt;tr&gt;\n      &lt;th&gt;Compound&lt;/th&gt;\n      &lt;th&gt;Standard name&lt;/th&gt;\n      &lt;th&gt;Value&lt;/th&gt;\n      &lt;th&gt;Specifier&lt;/th&gt;\n      &lt;th&gt;DOI&lt;/th&gt;\n      &lt;th&gt;Measurement Wavelength (None for not provided or unextracted)&lt;/th&gt;\n    &lt;/tr&gt;\n&lt;/thead&gt;\n &lt;ul&gt;\n       &lt;tbody&gt;\n{% for record in records %}\n       &lt;tr&gt;\n&lt;td&gt;{{ record.compound }}&lt;/td&gt;\n&lt;td&gt;{{ record.normalised_name }}&lt;/td&gt;\n&lt;td&gt;{{ record.value }}&lt;/td&gt;\n&lt;td&gt;{{ record.specifier }}&lt;/td&gt;\n&lt;td&gt;{{ record.doi }}&lt;/td&gt;\n&lt;td&gt;{{ record.wavelength }}&lt;/td&gt;\n       &lt;/tr&gt;\n{% endfor %}\n       &lt;/tbody&gt;\n&lt;br&gt;&lt;br&gt;&lt;br&gt;\n&lt;/ul&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>If I remove the <em>\"printing the data in a table\"</em> parts, then no matter how many data are retrieved, the chart can be successfully plotted.</p>\n\n<p>It will be greatly appreciated if someone could help me spot the problem of my code and any suggestions of how to improve it will be very helpful.</p>\n"}, {"tags": ["javascript", "reactjs", "state", "react-hooks", "setstate"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 12393730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f810be4c897ccf2f0fa2edd0539c2ba0?s=128&d=identicon&r=PG&f=1", "display_name": "Andre", "link": "https://stackoverflow.com/users/12393730/andre"}, "edited": false, "score": 0, "creation_date": 1576161675, "post_id": 59295123, "comment_id": 104816208, "body": "Thanks for your reply. However, I think you either didn&#39;t read the question properly or you misunderstood what I was asking :). I don&#39;t have any issues with events or setting state of events, I&#39;m simply trying to pass the state of the &#39;geo&#39; variable from the Home component/page to the Maps component/page, and then using the geo variable to fetch data from the API on load. I can do this using standard React, but I&#39;m unsure how to do this using React Hooks. Thanks"}], "tags": [], "owner": {"reputation": 1145, "user_id": 164545, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/b3e8be884ca4ff5e8e75030bff50d99c?s=128&d=identicon&r=PG", "display_name": "Seanonymous", "link": "https://stackoverflow.com/users/164545/seanonymous"}, "is_accepted": false, "score": 0, "last_activity_date": 1576103520, "creation_date": 1576103520, "answer_id": 59295123, "question_id": 59293628, "link": "https://stackoverflow.com/questions/59293628/issues-with-passing-state-between-two-separate-components-using-react-hooks/59295123#59295123", "title": "Issues with passing state between two separate components using React Hooks", "body": "<p>In the Maps component, I think you're overwriting the value of <code>events</code> when you repeat this line:</p>\n\n<p><code>const [events, setEvents] = useState([])</code></p>\n\n<p>You should just be able to reference <code>this.state.events</code> within the Maps component, and use <code>this.setState()</code> within Maps to add data to the <code>events</code> array from within the component.</p>\n"}], "owner": {"reputation": 55, "user_id": 12393730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f810be4c897ccf2f0fa2edd0539c2ba0?s=128&d=identicon&r=PG&f=1", "display_name": "Andre", "link": "https://stackoverflow.com/users/12393730/andre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1576103520, "creation_date": 1576096313, "question_id": 59293628, "link": "https://stackoverflow.com/questions/59293628/issues-with-passing-state-between-two-separate-components-using-react-hooks", "title": "Issues with passing state between two separate components using React Hooks", "body": "<p>So my issue is that I\u2019m basically trying to pass the data that I have fetched from an API on my Home page, which is fetched and stored in the \u2018geo\u2019  variable upon pressing the submit button, and pass it onto the Maps page (accessed by pressing the Maps button after a postcode has been submitted), which will then use the latitude and longitude from \u2019geo\u2019 (geo.result.latitude/longitude) to fetch from another API upon loading and display that data on the page. However, I\u2019m having an issue with understanding how to pass state (or the values within the geo variable) between the two components/pages (Home and Maps) using hooks. I\u2019m reasonably new to React, and very new to Hooks, so my understanding is very basic at the moment. Any help would be much appreciated :)</p>\n\n<p>Home.js</p>\n\n<pre><code>import React, { useState, useEffect, useCallback } from 'react'\nimport { Link } from 'react-router-dom'\n\nconst Home = () =&gt; {\n\n  const [postCode, setPostcode] = useState({\n\n    pCode: ''\n\n  })\n\n  const [geo, setGeo] = useState([])\n\n  const fetchRequest = useCallback((e) =&gt; {\n    e.preventDefault()\n    fetch(`https://api.postcodes.io/postcodes/${postCode.pCode}`)\n\n      .then(res =&gt; res.json())\n      .then(res =&gt; setGeo(res))\n\n    console.log(geo)\n\n  }, [{ ...postCode }])\n\n  const handleChange = (e) =&gt; {\n    setPostcode({ ...postCode, pCode: e.target.value })\n    console.log(postCode)\n\n  }\n\n  return &lt;section &gt;\n\n    &lt;div className='container'&gt;\n\n      &lt;form className=\"form\" onSubmit={fetchRequest}&gt;\n        &lt;input className=\"input\" type=\"text\" placeholder=\"Text input\" onChange={handleChange} /&gt;\n        &lt; button&gt;submit&lt;/button&gt;\n        &lt;Link className='button' to={{\n          pathname: '/maps'\n        }}&gt;Map\n\n        &lt;/Link&gt;\n      &lt;/form&gt;\n\n    &lt;/div&gt;\n\n  &lt;/section&gt;\n\n}\n\nexport default Home\n</code></pre>\n\n<p>Maps.js</p>\n\n<pre><code>const Maps = () =&gt; {\n\n  const [events, setEvents] = useState([])\n\n  const fetchRequest = useCallback(() =&gt; {\n\n    fetch(`https://api.list.co.uk/v1/events?near=${viewport.latitude},${viewport.longitude}/10`, {\n      headers: {\n        'Authorization': `Bearer ${API_KEY}`\n      }\n    })\n      .then(res =&gt; res.json())\n      .then(res =&gt; setEvents(res))\n\n\n  }, [{ ...viewport }])\n\n  useEffect(() =&gt; {\n\n    fetch(`https://api.list.co.uk/v1/events?near=${geo.result.latitude},${geo.result.longitude}/10`, {\n      headers: {\n        'Authorization': `Bearer ${API_KEY}`\n      }\n    })\n      .then(res =&gt; res.json())\n      .then(res =&gt; setEvents(res))\n\n    return () =&gt; console.log('Unmounting component')\n\n  }, [])\n\n  const [viewport, setViewport] = useState({\n    width: '100vw',\n    height: '100vh',\n    latitude: 51.45523,\n    longitude: -2.59665,\n    zoom: 13.5\n\n  })\n\n  if (events.length === 0) {\n    return &lt;div&gt;Loading...&lt;/div&gt;\n  }\n\n  return &lt;div&gt;\n    &lt;ReactMapGL mapboxApiAccessToken={TOKEN}\n      mapStyle=\"mapbox://styles/dredizzle/ck3owxclr138a1cqnzupab2hc\"\n      {...viewport}\n      onViewportChange={viewport =&gt; {\n        setViewport(viewport)\n      }}\n      onClick={\n        fetchRequest\n      }\n\n    &gt;\n\n      {events.map(event =&gt; (\n        &lt;Popup\n          key={event.event_id}\n          latitude={event.schedules[0].place.lat}\n          longitude={event.schedules[0].place.lng}\n        &gt;\n        &lt;/Popup&gt;\n      ))}\n\n\n      {/* &lt;Popup latitude={51.45523} longitude={-2.59665}&gt;\n        &lt;div&gt;event here&lt;/div&gt;\n      &lt;/Popup&gt; */}\n      &lt;GeolocateControl\n        positionOptions={{ enableHighAccuracy: true }}\n        trackUserLocation={false}\n      /&gt;\n    &lt;/ReactMapGL&gt;\n  &lt;/div&gt;\n}\n\nexport default Maps\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "reactjs", "react-native"], "comments": [{"owner": {"reputation": 583, "user_id": 2720343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cvJ2G.jpg?s=128&g=1", "display_name": "Dortimer", "link": "https://stackoverflow.com/users/2720343/dortimer"}, "edited": false, "score": 0, "creation_date": 1576096547, "post_id": 59293621, "comment_id": 104792000, "body": "Can you share what code you have been working with?"}], "answers": [{"tags": [], "owner": {"reputation": 8797, "user_id": 12270289, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f90bXHFopV0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfStPF8S5OWF3hBzDu-oJeTx3xOfQ/photo.jpg?sz=128", "display_name": "Klaycon", "link": "https://stackoverflow.com/users/12270289/klaycon"}, "is_accepted": true, "score": 0, "last_activity_date": 1576096571, "creation_date": 1576096571, "answer_id": 59293691, "question_id": 59293621, "link": "https://stackoverflow.com/questions/59293621/javascipt-add-parent-to-array/59293691#59293691", "title": "Javascipt add parent to array", "body": "<p>I may be misunderstanding the question, but since <code>secondarray.StaffData</code> already seems to be the exact data you want in <code>StaffData.children</code>, just use an array/object literal in the format that you want:</p>\n\n<pre><code>let StaffData = [{\n    name: 'Users',\n    id: 0,\n    children: secondarray.StaffData\n}];\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 10207116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57249524981284c6ece513213451e7af?s=128&d=identicon&r=PG&f=1", "display_name": "Obyno Pac", "link": "https://stackoverflow.com/users/10207116/obyno-pac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 59293691, "answer_count": 1, "score": 0, "last_activity_date": 1576096571, "creation_date": 1576096280, "question_id": 59293621, "link": "https://stackoverflow.com/questions/59293621/javascipt-add-parent-to-array", "title": "Javascipt add parent to array", "body": "<p>am having issues displaying an array in react-native-sectioned-multi-select which accept array that have children i want to create array like this ,</p>\n\n<pre><code>StaffData: [ {\nname: 'Users',\nid: 0,\n// these are the children or 'sub items'\nchildren: [\n  {\n    name: 'Apple',\n    id: 10,\n  },\n  {\n    name: 'Strawberry',\n    id: 17,\n  },\n  {\n    name: 'kolo',\n    id: 13,\n  },\n  {\n    name: 'mo',\n    id: 14,\n  },\n  {\n    name: 'n',\n    id: 15,\n  },\n  {\n    name: 'n',\n    id: 16,\n  },\n],\n}]\n</code></pre>\n\n<p><strong>from this</strong>\nbasically i want the below array to to have a parent that has 'id' and 'name' as above array</p>\n\n<pre><code>var secondarray = \n{\"StaffData\":\n[{\"id\":1,\"name\":\"Obi\"},\n{\"id\":2,\"name\":\"Logistics\"},\n{\"id\":3,\"name\":\"Security\"},\n{\"id\":4,\"name\":\"Admin\"},\n{\"id\":5,\"name\":\"Admin2\"}]}\n</code></pre>\n\n<p>so if i cant do it, how can i display the second array on react-native-sectioned-multi-select</p>\n"}, {"tags": ["javascript", "reactjs", "drag-and-drop", "react-dnd"], "answers": [{"comments": [{"owner": {"reputation": 868, "user_id": 2121065, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/bPQcB.jpg?s=128&g=1", "display_name": "Tugrul Emre Atalay", "link": "https://stackoverflow.com/users/2121065/tugrul-emre-atalay"}, "edited": false, "score": 0, "creation_date": 1579528554, "post_id": 59822581, "comment_id": 105786489, "body": "Thank you @bonjour123 for ur interest, but my main problem is making only shape&#39;s lines drag-dropable. Did you explain it in here?"}, {"owner": {"reputation": 1207, "user_id": 5499697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/086827dacc06da5df902393eef3f4a48?s=128&d=identicon&r=PG&f=1", "display_name": "Bonjour123", "link": "https://stackoverflow.com/users/5499697/bonjour123"}, "reply_to_user": {"reputation": 868, "user_id": 2121065, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/bPQcB.jpg?s=128&g=1", "display_name": "Tugrul Emre Atalay", "link": "https://stackoverflow.com/users/2121065/tugrul-emre-atalay"}, "edited": false, "score": 1, "creation_date": 1579528739, "post_id": 59822581, "comment_id": 105786575, "body": "You mean that you want it to stick (when dropped) only on the line ? If so, you just need to check in the drop function if the current position is over a line or not. If yes, then set new position to state, else, discard and do nothing."}, {"owner": {"reputation": 868, "user_id": 2121065, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/bPQcB.jpg?s=128&g=1", "display_name": "Tugrul Emre Atalay", "link": "https://stackoverflow.com/users/2121065/tugrul-emre-atalay"}, "edited": false, "score": 0, "creation_date": 1579531407, "post_id": 59822581, "comment_id": 105788060, "body": "Yes, I meant that. Discarding is bad for user experience. Drag shouldnt work outside of line."}, {"owner": {"reputation": 1207, "user_id": 5499697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/086827dacc06da5df902393eef3f4a48?s=128&d=identicon&r=PG&f=1", "display_name": "Bonjour123", "link": "https://stackoverflow.com/users/5499697/bonjour123"}, "reply_to_user": {"reputation": 868, "user_id": 2121065, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/bPQcB.jpg?s=128&g=1", "display_name": "Tugrul Emre Atalay", "link": "https://stackoverflow.com/users/2121065/tugrul-emre-atalay"}, "edited": false, "score": 1, "creation_date": 1579532205, "post_id": 59822581, "comment_id": 105788487, "body": "Well, I guess you could compute the closest coordinates on the line, and put it to the state inside the canDrag function. But honestly, do it with plain vanilla js, it&#39;s going to be a lot faster, and effective code, while also a lot easier for you. On mouseUp, update you state to keep the new position, and that&#39;s all"}, {"owner": {"reputation": 1207, "user_id": 5499697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/086827dacc06da5df902393eef3f4a48?s=128&d=identicon&r=PG&f=1", "display_name": "Bonjour123", "link": "https://stackoverflow.com/users/5499697/bonjour123"}, "reply_to_user": {"reputation": 868, "user_id": 2121065, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/bPQcB.jpg?s=128&g=1", "display_name": "Tugrul Emre Atalay", "link": "https://stackoverflow.com/users/2121065/tugrul-emre-atalay"}, "edited": false, "score": 1, "creation_date": 1579532471, "post_id": 59822581, "comment_id": 105788632, "body": "I suggest you to use the code in this <a href=\"https://stackoverflow.com/a/1648937/5499697\">answer</a> and make the little modifications needed."}], "tags": [], "owner": {"reputation": 1207, "user_id": 5499697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/086827dacc06da5df902393eef3f4a48?s=128&d=identicon&r=PG&f=1", "display_name": "Bonjour123", "link": "https://stackoverflow.com/users/5499697/bonjour123"}, "is_accepted": false, "score": 1, "last_activity_date": 1579520630, "creation_date": 1579520630, "answer_id": 59822581, "question_id": 59293615, "link": "https://stackoverflow.com/questions/59293615/drag-drop-on-the-edge-of-a-shape-with-react-dnd/59822581#59822581", "title": "Drag Drop On The Edge Of A Shape With react-dnd?", "body": "<p>Yes, you have to save the coordinates somewhere in your state. Then use <code>useDrop</code> hook (<a href=\"https://react-dnd.github.io/react-dnd/docs/api/use-drop\" rel=\"nofollow noreferrer\">doc</a>) to push the new coordinates of the arrow to your state when it's dropped to a new position.</p>\n\n<p>To sum up, the process is the following:</p>\n\n<ul>\n<li>init your coordinates in the state  to where you want the arrow to be</li>\n<li>make your arrow component draggable using <code>useDrag</code>\n\n<ul>\n<li>pass to <code>useDrag</code> a <code>begin</code> callback -that modifies your state- which will be called whenever the arrow starts to be dragged</li>\n<li>do the same with the <code>end</code> callback</li>\n<li>then it will be animated and you will be able to drag it, it will follow, you can even change its appearance based on the state item you set in your <code>begin</code> and <code>end</code> functions</li>\n</ul></li>\n<li><p>make your arrow component droppable using <code>useDrop</code></p>\n\n<ul>\n<li>as for <code>useDrag</code>, pass a <code>drop</code> function to push to state the new coordinates of the arrow.</li>\n</ul></li>\n</ul>\n\n<p>It's a bit hard to help you more than this as you don't provide any code. If the reason for this is that you don't know where to start from, please have a look to this amazing <a href=\"https://react-dnd.github.io/react-dnd/docs/tutorial\" rel=\"nofollow noreferrer\">step-by-step tutorial</a>.</p>\n\n<p>However, keep in mind all this triggers a lot of re-renders. Personally, for this king of stuff, I like to avoid using third-party libs, to keep performance under control, and tend to stick the closest possible to the dom (using js events instead of continuously updating the state when dragging for instance) .  </p>\n"}], "owner": {"reputation": 868, "user_id": 2121065, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/bPQcB.jpg?s=128&g=1", "display_name": "Tugrul Emre Atalay", "link": "https://stackoverflow.com/users/2121065/tugrul-emre-atalay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 412, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1579520630, "creation_date": 1576096211, "last_edit_date": 1579173323, "question_id": 59293615, "link": "https://stackoverflow.com/questions/59293615/drag-drop-on-the-edge-of-a-shape-with-react-dnd", "title": "Drag Drop On The Edge Of A Shape With react-dnd?", "body": "<p>I need ideas to develop drag-drop an arrow on the edge of a geometric shape like a rectangle, circle, etc in a React project that uses react-dnd for showing north direction. On the other hand, I should save the arrow's location to show it again in the same place. Any ideas?</p>\n\n<p><a href=\"https://i.stack.imgur.com/WM4T8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WM4T8.png\" alt=\"Rectangle\"></a></p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 1, "creation_date": 1576096316, "post_id": 59293610, "comment_id": 104791900, "body": "You need to escape special characters since <code>?</code> has meaning in queries."}, {"owner": {"reputation": 15, "user_id": 12202925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/344db116013b1d45e91666c66550f2ab?s=128&d=identicon&r=PG&f=1", "display_name": "shaylang77", "link": "https://stackoverflow.com/users/12202925/shaylang77"}, "reply_to_user": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1576096703, "post_id": 59293610, "comment_id": 104792063, "body": "@epascarello ahhhh thank you so much!"}], "owner": {"reputation": 15, "user_id": 12202925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/344db116013b1d45e91666c66550f2ab?s=128&d=identicon&r=PG&f=1", "display_name": "shaylang77", "link": "https://stackoverflow.com/users/12202925/shaylang77"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576096188, "creation_date": 1576096188, "question_id": 59293610, "link": "https://stackoverflow.com/questions/59293610/is-my-function-and-execution-correct-gclid-is-not-being-pulled", "title": "Is my function and execution correct? GCLID is not being pulled", "body": "<p>I have a form with a hidden input to capture the GCLID (Google click ID)</p>\n\n<p><code>&lt;input type=\"hidden\" id=\"gclid_field\" name=\"gclid_field\" value=\"\"&gt;</code></p>\n\n<p>In order to capture the GCLID, I have the following Javascript below to pass the value of the function to the value of the hidden field:</p>\n\n<pre><code>function getParam(p) {\n  var match = RegExp('[?&amp;]' + p + '=([^&amp;]*)').exec(window.location.search);\n  return match &amp;&amp; decodeURIComponent(match[1].replace(/\\+/g, ' '));\n}\n\nvar p = '?gclid=';\n\ndocument.getElementById('gclid_field').value = getParam(p);\n</code></pre>\n\n<p>I decided to test this out on my landing page and used a test auto-tagging parameter. The full url shows up in my address bar so I know my webpage allows the appending string. </p>\n\n<p><a href=\"http://www.website.com/?gclid=TeSter-123\" rel=\"nofollow noreferrer\">http://www.website.com/?gclid=TeSter-123</a>.</p>\n\n<p>I looked in my console and saw nothing between my gclid_field xml tags. </p>\n\n<p>Did I properly execute my Javascript?</p>\n"}, {"tags": ["javascript", "signed-integer"], "comments": [{"owner": {"reputation": 6375, "user_id": 84750, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/jbFti.jpg?s=128&g=1", "display_name": "silverfighter", "link": "https://stackoverflow.com/users/84750/silverfighter"}, "edited": false, "score": 1, "creation_date": 1576097301, "post_id": 59293587, "comment_id": 104792288, "body": "<a href=\"https://stackoverflow.com/questions/13468474/javascript-convert-a-hex-signed-integer-to-a-javascript-value/34679269\" title=\"javascript convert a hex signed integer to a javascript value\">stackoverflow.com/questions/13468474/&hellip;</a>"}, {"owner": {"reputation": 881, "user_id": 1011426, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4884d3a937ec7aac3df6aa3b54278111?s=128&d=identicon&r=PG", "display_name": "gregwinn", "link": "https://stackoverflow.com/users/1011426/gregwinn"}, "reply_to_user": {"reputation": 6375, "user_id": 84750, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/jbFti.jpg?s=128&g=1", "display_name": "silverfighter", "link": "https://stackoverflow.com/users/84750/silverfighter"}, "edited": false, "score": 0, "creation_date": 1576097530, "post_id": 59293587, "comment_id": 104792401, "body": "That&#39;s where I got the above code -  however it did not solve my issue. Thus this new question."}, {"owner": {"reputation": 1145, "user_id": 164545, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/b3e8be884ca4ff5e8e75030bff50d99c?s=128&d=identicon&r=PG", "display_name": "Seanonymous", "link": "https://stackoverflow.com/users/164545/seanonymous"}, "edited": false, "score": 0, "creation_date": 1576102708, "post_id": 59293587, "comment_id": 104794339, "body": "You&#39;re looking for the signed two&#39;s compliment conversion, right? <a href=\"https://stackoverflow.com/questions/6146177/convert-a-signed-decimal-to-hex-encoded-with-twos-complement\" title=\"convert a signed decimal to hex encoded with twos complement\">stackoverflow.com/questions/6146177/&hellip;</a>"}, {"owner": {"reputation": 881, "user_id": 1011426, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4884d3a937ec7aac3df6aa3b54278111?s=128&d=identicon&r=PG", "display_name": "gregwinn", "link": "https://stackoverflow.com/users/1011426/gregwinn"}, "reply_to_user": {"reputation": 1145, "user_id": 164545, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/b3e8be884ca4ff5e8e75030bff50d99c?s=128&d=identicon&r=PG", "display_name": "Seanonymous", "link": "https://stackoverflow.com/users/164545/seanonymous"}, "edited": false, "score": 0, "creation_date": 1576106763, "post_id": 59293587, "comment_id": 104795557, "body": "Thank you @Seanonymous - that worked for me!"}], "owner": {"reputation": 881, "user_id": 1011426, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4884d3a937ec7aac3df6aa3b54278111?s=128&d=identicon&r=PG", "display_name": "gregwinn", "link": "https://stackoverflow.com/users/1011426/gregwinn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 263, "favorite_count": 0, "closed_date": 1576097357, "answer_count": 0, "score": 0, "last_activity_date": 1576097089, "creation_date": 1576096123, "last_edit_date": 1576097089, "question_id": 59293587, "link": "https://stackoverflow.com/questions/59293587/convert-hex-to-signed-int-javascript", "closed_reason": "Duplicate", "title": "Convert HEX to Signed INT Javascript", "body": "<p>I am trying to convert this HEX value <code>fba46c58</code> to a signed int then take that number and divide it by <code>1000000</code>. I have tried the following code but I don't seem to come up with the correct number. Overall I need the end number to equal <code>-73.11044</code></p>\n\n<p>Tried this code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let testd = parseInt(\"fba46c58\", 16)\nif ((testd &amp; 0x8000) &gt; 0) {\n    testd = testd - 0x10000;\n}\n\n// Getting: 4221856856 / 1000000 = 4221.856856\n// Want to get: -73.11044\n</code></pre>\n\n<p>Any help would be amazing thank you!</p>\n"}, {"tags": ["javascript", "css"], "comments": [{"owner": {"reputation": 11701, "user_id": 8376184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U6TIU.jpg?s=128&g=1", "display_name": "FZs", "link": "https://stackoverflow.com/users/8376184/fzs"}, "edited": false, "score": 0, "creation_date": 1576130335, "post_id": 59293561, "comment_id": 104800621, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/10693845/what-do-queryselectorall-and-getelementsby-methods-return\">What do querySelectorAll and getElementsBy* methods return?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 12119996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac1ea46ccd808d9f8a77b2bc6fa3cbcb?s=128&d=identicon&r=PG&f=1", "display_name": "Lewis A", "link": "https://stackoverflow.com/users/12119996/lewis-a"}, "edited": false, "score": 0, "creation_date": 1576097813, "post_id": 59293785, "comment_id": 104792525, "body": "Perfect, guess I missed something pretty simple, adding <code>.</code> and using <code>document.querySelector()</code> did the trick. Thank you!"}], "tags": [], "owner": {"reputation": 1394, "user_id": 5796134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ea8c90cc8e3a3723c6052fa1b7604476?s=128&d=identicon&r=PG", "display_name": "Ito Pizarro", "link": "https://stackoverflow.com/users/5796134/ito-pizarro"}, "is_accepted": true, "score": 1, "last_activity_date": 1576097885, "last_edit_date": 1576097885, "creation_date": 1576097057, "answer_id": 59293785, "question_id": 59293561, "link": "https://stackoverflow.com/questions/59293561/css-page-transition-by-adding-removing-a-class-vanilla-javascript/59293785#59293785", "title": "CSS page transition by adding &amp; removing a class (Vanilla JavaScript)", "body": "<p>You're missing the prefix <a href=\"https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Selectors#Types_of_selectors\" rel=\"nofollow noreferrer\">selector notation</a> <code>.</code> necessary to find <code>'wrapper'</code> or <code>'page-loader'</code> with <code>document.querySelector()</code>|<code>document.querySelectorAll()</code>. In both cases, you'd use the same kind of selector syntax as you do in your CSS.</p>\n\n<pre><code>var wrapper = document.querySelectorAll('.wrapper'); \nvar pageloader = document.querySelectorAll('.page-loader');\n</code></pre>\n\n<p>Also, <code>document.querySelectorAll()</code> returns a(n <code>Array</code>-like) <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/NodeList\" rel=\"nofollow noreferrer\">HTML NodeList</a>, which doesn't have a <code>classList</code> property. <a href=\"https://davidwalsh.name/nodelist-array\" rel=\"nofollow noreferrer\">You could convert the NodeList to an <code>Array</code></a> and iterate through the result, adding to the <code>classList</code> of each element <em>or</em>, if you know there's only <strong>one</strong> of what you're looking for on the page, swap <code>document.querySelectorAll()</code> for <code>document.querySelector()</code> \u2014 which will return a single element.</p>\n"}], "owner": {"reputation": 3, "user_id": 12119996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac1ea46ccd808d9f8a77b2bc6fa3cbcb?s=128&d=identicon&r=PG&f=1", "display_name": "Lewis A", "link": "https://stackoverflow.com/users/12119996/lewis-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 59293785, "answer_count": 1, "score": 0, "last_activity_date": 1576097885, "creation_date": 1576096019, "question_id": 59293561, "link": "https://stackoverflow.com/questions/59293561/css-page-transition-by-adding-removing-a-class-vanilla-javascript", "title": "CSS page transition by adding &amp; removing a class (Vanilla JavaScript)", "body": "<p>I'm attempting to create a transition that quickly fades in the page on load and then when a link is clicked, the page fades out and moves up slightly.</p>\n\n<p>To do this I created the class 'is-loaded' which I would apply to the elements ('wrapper' and 'page-fade'). When the document is loaded, the 'is-loaded' class would be added, then when a link is clicked, the same class would be removed from both elements. </p>\n\n<p>The code:</p>\n\n<pre><code>.wrapper {\ntransform: translateY(-25px);\ntransition: transform cubic-bezier(0.25, 0.46, 0.45, 0.94) 0.3s; \n}\n\n.wrapper.is-loaded {\ntransform: translateY(0); \n}\n\n.page-loader {\nposition: fixed;\ntop: 0;\nright: 0;\nbottom: 0;\nleft: 0;\nbackground-color: #ffffff;\nz-index: 999999;\ntransition: opacity cubic-bezier(0.25, 0.46, 0.45, 0.94) 0.4s, visibility cubic-bezier(0.25, 0.46, 0.45, 0.95) 0.4s; \n}\n\n.page-loader.is-loaded {\nopacity: 0;\nvisibility: hidden; \n}\n</code></pre>\n\n<pre><code>document.querySelectorAll('a').forEach(e =&gt; {\n  e.addEventListener('click', function() {\n\n    event.preventDefault()\n\n    var i = this.getAttribute('href')\n    var wrapper = document.querySelector('wrapper');\n    var pageloader = document.querySelector('page-loader');\n\n        wrapper.classList.remove('is-loaded'),\n      setTimeout(function() {\n        pageloader.classList.remove('is-loaded');\n      }, 80),\n      setTimeout(function() {\n        window.location = i\n      }, 100)\n  })\n})\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n  var wrapper = document.querySelectorAll('wrapper');\n  var pageloader = document.querySelectorAll('page-loader');\n\n  wrapper.classList.add('is-loaded'),\n  pageloader.classList.add('is-loaded');\n})\n\n</code></pre>\n\n<p>I'm new to writing in JavaScript so i'm unsure why my code does nothing. Is there a way to get this to work? No jQuery please and just vanilla js. Thank you.</p>\n"}, {"tags": ["javascript", "arrays"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 2, "creation_date": 1576096031, "post_id": 59293555, "comment_id": 104791800, "body": "What is your question?  What problem are you having?  <code>everything I want displays properly.</code> okay, then what&#39;s the issue?"}, {"owner": {"reputation": 5, "user_id": 12197436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a48c198eae2fcee4091f9d94f613ef6?s=128&d=identicon&r=PG&f=1", "display_name": "sea.em.23", "link": "https://stackoverflow.com/users/12197436/sea-em-23"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1576096158, "post_id": 59293555, "comment_id": 104791851, "body": "How do I get this to display a entered string and not the number picked by the math.random function?"}, {"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1576096300, "post_id": 59293555, "comment_id": 104791897, "body": "You overwrite <code>userInput</code> on each loop and you never use it after that. Perhaps you should keep each input?"}, {"owner": {"reputation": 3124, "user_id": 509916, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/aYu1R.jpg?s=128&g=1", "display_name": "Thanh Trung", "link": "https://stackoverflow.com/users/509916/thanh-trung"}, "edited": false, "score": 0, "creation_date": 1576096309, "post_id": 59293555, "comment_id": 104791899, "body": "Why prompt in a loop. I don&#39;t get it."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1576096603, "post_id": 59293555, "comment_id": 104792026, "body": "To avoid confusion with future readers, I&#39;m removing the phrase &quot;everything I want displays properly&quot; since it isn&#39;t actually displaying everything you want.  I&#39;m not sure what you meant by that phrase."}], "answers": [{"tags": [], "owner": {"reputation": 175, "user_id": 8945182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a9796c5ea1f1632325cc0d20baa91f5?s=128&d=identicon&r=PG&f=1", "display_name": "JLai", "link": "https://stackoverflow.com/users/8945182/jlai"}, "is_accepted": true, "score": 2, "last_activity_date": 1576097100, "last_edit_date": 1576097100, "creation_date": 1576096601, "answer_id": 59293695, "question_id": 59293555, "link": "https://stackoverflow.com/questions/59293555/javascript-word-generator/59293695#59293695", "title": "JavaScript Word Generator", "body": "<p>You have to save the user input into the array. What you are doing in your code is overwriting <code>userInput</code> all the time, i.e. only the last word the user entered is save in that variable. And then you generate some random numbers, push them all into an array and output that to the user. Here is how it would work:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function randomWordGenerator() {\r\n\r\n  // Define the variables\r\n  var array = [];\r\n\r\n  // Prompt for String\r\n  for (var index = 0; index &lt; 10; index++) {\r\n    var userInput = prompt(\"Please enter string.\" + (index + 1));\r\n    array.push(userInput);\r\n    document.write(\"You entered: \" + userInput + \"\\n\");\r\n  }\r\n\r\n  // select random number from array in which you stored the words\r\n  var answer = array[Math.floor(Math.random() * array.length)];\r\n\r\n  // Generator Pick Display\r\n  document.write(\"The generator choose: \" + answer);\r\n}\r\n\r\nrandomWordGenerator();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 5, "user_id": 12197436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a48c198eae2fcee4091f9d94f613ef6?s=128&d=identicon&r=PG&f=1", "display_name": "sea.em.23", "link": "https://stackoverflow.com/users/12197436/sea-em-23"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 59293695, "answer_count": 1, "score": 0, "last_activity_date": 1576097100, "creation_date": 1576095979, "last_edit_date": 1576096622, "question_id": 59293555, "link": "https://stackoverflow.com/questions/59293555/javascript-word-generator", "title": "JavaScript Word Generator", "body": "<p>I'm making a word generator. You enter in ten strings of your choice. It should output one string that it randomly selected. It outputs a randomly selected number instead and it shouldn't. It should output a string entered by the user. I don't get errors.</p>\n\n<p>How do I get this to display the user input?</p>\n\n<p>Any suggestions? I've been stuck on this the last few days.</p>\n\n<pre><code>function randomWordGenerator() {\n\n  // Define the variables\n  var userInput = [];\n  var answer = [], range = 1;\n  var array = [];\n  var set = [];\n\n  // Prompt for String\n  for(var index = 0; index &lt; 10; index++) {\n    userInput = prompt(\"Please enter string.\" + (index + 1));\n    document.write(\"You entered: \" + userInput + \"\\n\");\n  }\n\n  // Generator\n  for(var i = 0; i &lt; range; i++) {\n    answer[i] = Math.floor((Math.random() * 10) + 1);\n  }\n\n  // Generator Pick Display\n  document.write(\"The generator choose: \" + answer);\n}\n\nrandomWordGenerator();\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "express", "mongoose"], "answers": [{"comments": [{"owner": {"reputation": 1251, "user_id": 9974904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d183b6c27e1754f42d2457dc787580e?s=128&d=identicon&r=PG&f=1", "display_name": "Umbro", "link": "https://stackoverflow.com/users/9974904/umbro"}, "edited": false, "score": 0, "creation_date": 1576097446, "post_id": 59293603, "comment_id": 104792366, "body": "It helped me: Content-Type header is set to application/json"}], "tags": [], "owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "is_accepted": true, "score": 1, "last_activity_date": 1576096166, "creation_date": 1576096166, "answer_id": 59293603, "question_id": 59293483, "link": "https://stackoverflow.com/questions/59293483/i-send-name-in-postman-and-validatorexpress-returns-that-name-has-not-been-p/59293603#59293603", "title": "I send &#39;name&#39; in Postman and ValidatorExpress returns that &#39;name&#39; has not been provided", "body": "<p>You may not have the proper body parser installed. For example, if you want to handle JSON, add this to your express app setup:</p>\n\n<pre><code>const bodyParser = require('body-parser');\nconst express = require('express');\n\nconst app = express();\n\n// ...\n\napp.use(bodyParser.json());\n</code></pre>\n\n<p>Without a body parser, <code>req.body</code> will not be populated as you expect.</p>\n\n<p>You'll also want to make sure that the <code>Content-Type</code> header is set to <code>application/json</code> so that your server knows that the body contains JSON.</p>\n"}], "owner": {"reputation": 1251, "user_id": 9974904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d183b6c27e1754f42d2457dc787580e?s=128&d=identicon&r=PG&f=1", "display_name": "Umbro", "link": "https://stackoverflow.com/users/9974904/umbro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 59293603, "answer_count": 1, "score": 0, "last_activity_date": 1576096166, "creation_date": 1576095671, "question_id": 59293483, "link": "https://stackoverflow.com/questions/59293483/i-send-name-in-postman-and-validatorexpress-returns-that-name-has-not-been-p", "title": "I send &#39;name&#39; in Postman and ValidatorExpress returns that &#39;name&#39; has not been provided", "body": "<p>When in Postman I use the 'POST' method and url: <code>http: // localhost: 7777 / register</code>, I also choose<code>Body</code> and <code>row</code> and paste the object<code>{name: 'Martin}</code>. Why in <code>[\" You must supply a name! \",\" That Email is not valid! \",\" Password Cannot be Blank! \",\" Confirmed Password cannot be\nblank \",\" Oops! Your passwords do not match \"]</code> returns me <code>You must supply a name!\"</code>Since I gave my name in body? In addition, it gets the status: <code>500Internal Server Error</code>. </p>\n\n<p><strong>Routes: index.js</strong></p>\n\n<pre><code>const express = require('express');\nconst router = express.Router();\nconst userController = require('../controllers/userController');\n\nrouter.get('/register', userController.registerForm);\n\nrouter.post('/register',\n  userController.validateRegister,\n  userController.register\n);\n\nmodule.exports = router;\n</code></pre>\n\n<p><strong>Models: User.js</strong></p>\n\n<pre><code>    const mongoose = require('mongoose');\n    const Schema = mongoose.Schema;\n    const validator = require('validator');\n    const passportLocalMongoose = require('passport-local-mongoose');\n    const mongodbErrorHandler = require('mongoose-mongodb-errors');\n\n\n    const userSchema = new Schema ({\n        name: {\n            type: String,\n            trim: true,\n            required: 'Please supply a name'\n        },\n        email: {\n            type: String,\n            unique: true,\n            lowercase: true,\n            trim: true,\n            validate: [validator.isEmail, 'Invalid Email address'],\n            required: 'Please supply an email address'\n        }\n    })\n\n    userSchema.plugin(passportLocalMongoose, {usernameField: 'email'});\n    userSchema.plugin(mongodbErrorHandler);\n\n    module.exports = mongoose.model('User', userSchema);\n</code></pre>\n\n<p><strong>controllers: userController.js</strong></p>\n\n<pre><code>const mongoose = require('mongoose');\nconst User = mongoose.model('User');\nconst {promisify} = require(\"es6-promisify\");\n\nexports.registerForm = (req, res) =&gt; {\n    res.json('res');\n  };\n\n  exports.validateRegister = (req, res, next) =&gt; {\n    req.sanitizeBody('name');\n    req.checkBody('name', 'You must supply a name!').notEmpty();\n    req.checkBody('email', 'That Email is not valid!').isEmail();\n    req.sanitizeBody('email').normalizeEmail({\n      remove_dots: false,\n      remove_extension: false,\n      gmail_remove_subaddress: false\n    });\n    req.checkBody('password', 'Password Cannot be Blank!').notEmpty();\n    req.checkBody('password-confirm', 'Confirmed Password cannot be blank!').notEmpty();\n    req.checkBody('password-confirm', 'Oops! Your passwords do not match').equals(req.body.password);\n\n    const errors = req.validationErrors();\n    if (errors) {\n      res.send('error', errors.map(err =&gt; err.msg));\n      return; // stop the fn from running\n    }\n    next(); // there were no errors!\n  };\n\n  exports.register = async (req, res, next) =&gt; {\n    const user = new User({ email: req.body.email, name: req.body.name });\n    const register = promisify(User.register, User);\n    await register(user, req.body.password);\n    next(); // pass to authController.login\n  };\n}\n</code></pre>\n"}, {"tags": ["javascript", "visual-studio-code", "intellisense", "javascript-intellisense"], "comments": [{"owner": {"reputation": 3124, "user_id": 509916, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/aYu1R.jpg?s=128&g=1", "display_name": "Thanh Trung", "link": "https://stackoverflow.com/users/509916/thanh-trung"}, "edited": false, "score": 0, "creation_date": 1576096532, "post_id": 59293447, "comment_id": 104791991, "body": "Maybe extension bug. What&#39;s the signature of <code>element()</code> function?"}, {"owner": {"reputation": 5487, "user_id": 4820436, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/09r1w.png?s=128&g=1", "display_name": "Ben Rubin", "link": "https://stackoverflow.com/users/4820436/ben-rubin"}, "reply_to_user": {"reputation": 3124, "user_id": 509916, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/aYu1R.jpg?s=128&g=1", "display_name": "Thanh Trung", "link": "https://stackoverflow.com/users/509916/thanh-trung"}, "edited": false, "score": 0, "creation_date": 1576097082, "post_id": 59293447, "comment_id": 104792204, "body": "<code>(element: string | Element | Document | Window | JQuery&lt;HTMLElement&gt; | ArrayLike&lt;Element&gt; | (() =&gt; void)): JQLite</code>"}], "owner": {"reputation": 5487, "user_id": 4820436, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/09r1w.png?s=128&g=1", "display_name": "Ben Rubin", "link": "https://stackoverflow.com/users/4820436/ben-rubin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576095539, "creation_date": 1576095539, "question_id": 59293447, "link": "https://stackoverflow.com/questions/59293447/why-does-javascript-intellisense-work-in-some-situations-but-not-others", "title": "Why does Javascript Intellisense work in some situations but not others?", "body": "<p>I'm confused about how Intellisense works in Visual Studio Code with Javascript (this is using Jasmine and Protractor btw).</p>\n\n<p>I have the line <code>var input = element(by.css('[ng-model=query]'))</code> in my test.</p>\n\n<p>Now on the next line, I type <code>input.sendKeys(</code> and as soon as I type the left parenthesis, the parameter hints window popups up and shows the hints for the <code>sendKeys</code> method:</p>\n\n<p><a href=\"https://i.stack.imgur.com/p4xWF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p4xWF.png\" alt=\"enter image description here\"></a></p>\n\n<p>However, if I complete that line of code and move my cursor over <code>sendKeys</code> and hit <code>ctrl+shift+space</code>, the parameter hints window shows me the <code>it</code> function instead of <code>sendKeys</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/3GDHv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3GDHv.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm further confused by the fact that Intellisense doesn't seem to know about the <code>sendKeys</code> method when I begin typing it</p>\n\n<p><a href=\"https://i.stack.imgur.com/JsE6b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JsE6b.png\" alt=\"enter image description here\"></a></p>\n\n<p>But after I finish typing <code>sendKeys</code> and type the left parenthesis, Visual Studio <strong>does</strong> pull up the parameter hints for it (as in the first screenshot).</p>\n\n<p>My two questions:</p>\n\n<ul>\n<li>Why does Visual Studio Code pull up the correct parameter hints for <code>sendKeys</code> when I'm typing them, but doing <code>ctrl+shift+space</code> to pull up parameter hints doesn't show parameter hints for the function that my cursor is over?  This behavior is the same for other functions as well; I'm just using <code>sendKeys</code> as the example.</li>\n<li>Why doesn't Intellisense suggest <code>sendKeys</code> even though the parameter hints seem to know about <code>sendKeys</code>?</li>\n</ul>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "answers": [{"comments": [{"owner": {"reputation": 1991, "user_id": 6928258, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/GokHM.png?s=128&g=1", "display_name": "Naren Verma", "link": "https://stackoverflow.com/users/6928258/naren-verma"}, "edited": false, "score": 0, "creation_date": 1576126902, "post_id": 59293849, "comment_id": 104799699, "body": "Sorry for the late reply, Yes, It&#39;s working. Thanks for the help."}], "tags": [], "owner": {"reputation": 1345, "user_id": 3880373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d08e553a23def730954d0782523436?s=128&d=identicon&r=PG", "display_name": "Vladan", "link": "https://stackoverflow.com/users/3880373/vladan"}, "is_accepted": true, "score": 0, "last_activity_date": 1576097354, "creation_date": 1576097354, "answer_id": 59293849, "question_id": 59293412, "link": "https://stackoverflow.com/questions/59293412/close-previous-dropdown-in-jquery-not-working/59293849#59293849", "title": "close previous dropdown in jquery not working", "body": "<p>Use <code>find()</code> instead of <code>next()</code> while searching for <code>.sub-menu</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('ul#left-primary-menu li').on('click', function(e) {\r\n  e.preventDefault();\r\n  //$(this).find('&gt; ul').slideToggle();\r\n  if (!$(this).find('.sub-menu').is(':visible')) {\r\n    $('.sub-menu').hide(500);\r\n    $(this).find('.sub-menu').slideToggle('fast');\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>ul#left-primary-menu ul.sub-menu {\r\n  display: none;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;ul id=\"left-primary-menu\" class=\"menu\"&gt;\r\n  &lt;li id=\"menu-item-663\" class=\"menu-item menu-item-type-post_type menu-item-object-page menu-item-home current-menu-item page_item page-item-318 current_page_item menu-item-663\"&gt;&lt;a href=\"#\" aria-current=\"page\"&gt;Home&lt;/a&gt;&lt;/li&gt;\r\n\r\n  &lt;li id=\"menu-item-23\" class=\"menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-23\"&gt;Tech\r\n    &lt;ul class=\"sub-menu\"&gt;\r\n      &lt;li id=\"menu-item-602\" class=\"menu-item menu-item-type-custom menu-item-object-custom menu-item-602\"&gt;&lt;a href=\"#\"&gt;Headphones&lt;/a&gt;&lt;/li&gt;\r\n      &lt;li id=\"menu-item-603\" class=\"menu-item menu-item-type-custom menu-item-object-custom menu-item-603\"&gt;&lt;a href=\"#\"&gt;Smartphones&lt;/a&gt;&lt;/li&gt;\r\n    &lt;/ul&gt;\r\n  &lt;/li&gt;\r\n  &lt;li id=\"menu-item-627\" class=\"menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-627\"&gt;Accessories\r\n    &lt;ul class=\"sub-menu\"&gt;\r\n      &lt;li id=\"menu-item-625\" class=\"menu-item menu-item-type-taxonomy menu-item-object-category menu-item-625\"&gt;&lt;a href=\"#\"&gt;Access1&lt;/a&gt;&lt;/li&gt;\r\n      &lt;li id=\"menu-item-594\" class=\"menu-item menu-item-type-custom menu-item-object-custom menu-item-594\"&gt;&lt;a href=\"#\"&gt;Access2&lt;/a&gt;&lt;/li&gt;\r\n      &lt;li id=\"menu-item-647\" class=\"menu-item menu-item-type-taxonomy menu-item-object-category menu-item-647\"&gt;&lt;a href=\"#\"&gt;Access3&lt;/a&gt;&lt;/li&gt;\r\n    &lt;/ul&gt;\r\n  &lt;/li&gt;\r\n  &lt;li id=\"menu-item-8\" class=\"menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-8\"&gt;Footwear\r\n    &lt;ul class=\"sub-menu\"&gt;\r\n      &lt;li id=\"menu-item-596\" class=\"menu-item menu-item-type-custom menu-item-object-custom menu-item-596\"&gt;&lt;a href=\"#\"&gt;Rain Boots&lt;/a&gt;&lt;/li&gt;\r\n    &lt;/ul&gt;\r\n  &lt;/li&gt;\r\n\r\n&lt;/ul&gt;\r\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 18374, "user_id": 3478010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y4DTM.png?s=128&g=1", "display_name": "Roamer-1888", "link": "https://stackoverflow.com/users/3478010/roamer-1888"}, "edited": false, "score": 1, "creation_date": 1576107301, "post_id": 59293937, "comment_id": 104795692, "body": "You might want to add <code>.not(this)</code> to the first jQuery chain to ensure that both statements don&#39;t try to act on the clicked element. ie: <code>$menu.find(&#39;li.active&#39;).not(this).removeClass(&#39;active&#39;).find&zwnj;&#8203;(&#39;.sub-menu&#39;).slideT&zwnj;&#8203;oggle(&#39;fast&#39;);</code>"}], "tags": [], "owner": {"reputation": 117, "user_id": 5637220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1Y7Rt.jpg?s=128&g=1", "display_name": "mlunt", "link": "https://stackoverflow.com/users/5637220/mlunt"}, "is_accepted": false, "score": 0, "last_activity_date": 1576097761, "creation_date": 1576097761, "answer_id": 59293937, "question_id": 59293412, "link": "https://stackoverflow.com/questions/59293412/close-previous-dropdown-in-jquery-not-working/59293937#59293937", "title": "close previous dropdown in jquery not working", "body": "<p>I'd go with something like this. Add classes and go away from psuedo selectors. It's a bit of jQuery chaining, but this is a quick POC.</p>\n\n<pre><code>const $menu = $('ul#left-primary-menu');\nconst $menuItem = $('ul#left-primary-menu li');\n$menuItem.on('click', function(e) {\n  e.preventDefault();\n  $menu.find('li.active').removeClass('active').find('.sub-menu').slideToggle('fast');\n  $(this).addClass('active').find('.sub-menu').slideToggle('fast');\n});\n</code></pre>\n"}], "owner": {"reputation": 1991, "user_id": 6928258, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/GokHM.png?s=128&g=1", "display_name": "Naren Verma", "link": "https://stackoverflow.com/users/6928258/naren-verma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 59293849, "answer_count": 2, "score": 0, "last_activity_date": 1576097761, "creation_date": 1576095382, "question_id": 59293412, "link": "https://stackoverflow.com/questions/59293412/close-previous-dropdown-in-jquery-not-working", "title": "close previous dropdown in jquery not working", "body": "<p>I have a menu in my WordPress theme, I have to close the previous dropdown and open current dropdown, I tried bwelow script but it not working.</p>\n\n<p>Would you help me out ?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('ul#left-primary-menu li').on('click', function(e) {\r\n  e.preventDefault();\r\n  //$(this).find('&gt; ul').slideToggle();\r\n  if (!$(this).next('.sub-menu').is(':visible')) {\r\n    $('.sub-menu').hide(500);\r\n    $(this).next('.sub-menu').slideToggle('fast');\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>ul#left-primary-menu ul.sub-menu {\r\n  display: none;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;ul id=\"left-primary-menu\" class=\"menu\"&gt;\r\n  &lt;li id=\"menu-item-663\" class=\"menu-item menu-item-type-post_type menu-item-object-page menu-item-home current-menu-item page_item page-item-318 current_page_item menu-item-663\"&gt;&lt;a href=\"#\" aria-current=\"page\"&gt;Home&lt;/a&gt;&lt;/li&gt;\r\n\r\n  &lt;li id=\"menu-item-23\" class=\"menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-23\"&gt;Tech\r\n    &lt;ul class=\"sub-menu\"&gt;\r\n      &lt;li id=\"menu-item-602\" class=\"menu-item menu-item-type-custom menu-item-object-custom menu-item-602\"&gt;&lt;a href=\"#\"&gt;Headphones&lt;/a&gt;&lt;/li&gt;\r\n      &lt;li id=\"menu-item-603\" class=\"menu-item menu-item-type-custom menu-item-object-custom menu-item-603\"&gt;&lt;a href=\"#\"&gt;Smartphones&lt;/a&gt;&lt;/li&gt;\r\n    &lt;/ul&gt;\r\n  &lt;/li&gt;\r\n  &lt;li id=\"menu-item-627\" class=\"menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-627\"&gt;Accessories\r\n    &lt;ul class=\"sub-menu\"&gt;\r\n      &lt;li id=\"menu-item-625\" class=\"menu-item menu-item-type-taxonomy menu-item-object-category menu-item-625\"&gt;&lt;a href=\"#\"&gt;Access1&lt;/a&gt;&lt;/li&gt;\r\n      &lt;li id=\"menu-item-594\" class=\"menu-item menu-item-type-custom menu-item-object-custom menu-item-594\"&gt;&lt;a href=\"#\"&gt;Access2&lt;/a&gt;&lt;/li&gt;\r\n      &lt;li id=\"menu-item-647\" class=\"menu-item menu-item-type-taxonomy menu-item-object-category menu-item-647\"&gt;&lt;a href=\"#\"&gt;Access3&lt;/a&gt;&lt;/li&gt;\r\n    &lt;/ul&gt;\r\n  &lt;/li&gt;\r\n  &lt;li id=\"menu-item-8\" class=\"menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-8\"&gt;Footwear\r\n    &lt;ul class=\"sub-menu\"&gt;\r\n      &lt;li id=\"menu-item-596\" class=\"menu-item menu-item-type-custom menu-item-object-custom menu-item-596\"&gt;&lt;a href=\"#\"&gt;Rain Boots&lt;/a&gt;&lt;/li&gt;\r\n    &lt;/ul&gt;\r\n  &lt;/li&gt;\r\n\r\n&lt;/ul&gt;\r\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "webpack", "ruby-on-rails-5"], "comments": [{"owner": {"reputation": 1462, "user_id": 5423852, "user_type": "registered", "profile_image": "https://graph.facebook.com/905018666212494/picture?type=large", "display_name": "Pankwood", "link": "https://stackoverflow.com/users/5423852/pankwood"}, "edited": false, "score": 1, "creation_date": 1576095738, "post_id": 59293344, "comment_id": 104791669, "body": "Could you please replace the images with real code? It will be more readable for all community."}, {"owner": {"reputation": 11, "user_id": 7327355, "user_type": "registered", "profile_image": "https://graph.facebook.com/895442707240720/picture?type=large", "display_name": "Ryan Davis", "link": "https://stackoverflow.com/users/7327355/ryan-davis"}, "reply_to_user": {"reputation": 1462, "user_id": 5423852, "user_type": "registered", "profile_image": "https://graph.facebook.com/905018666212494/picture?type=large", "display_name": "Pankwood", "link": "https://stackoverflow.com/users/5423852/pankwood"}, "edited": false, "score": 0, "creation_date": 1576096471, "post_id": 59293344, "comment_id": 104791967, "body": "Done! Sorry, first stackoverflow post and not quite sure how everything works yet"}, {"owner": {"reputation": 1462, "user_id": 5423852, "user_type": "registered", "profile_image": "https://graph.facebook.com/905018666212494/picture?type=large", "display_name": "Pankwood", "link": "https://stackoverflow.com/users/5423852/pankwood"}, "edited": false, "score": 0, "creation_date": 1576096559, "post_id": 59293344, "comment_id": 104792005, "body": "No problem man! Try to follow this guide: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> Also, I didn&#39;t see your change yet. Have you edit your post and replace the images to code already?"}, {"owner": {"reputation": 11, "user_id": 7327355, "user_type": "registered", "profile_image": "https://graph.facebook.com/895442707240720/picture?type=large", "display_name": "Ryan Davis", "link": "https://stackoverflow.com/users/7327355/ryan-davis"}, "reply_to_user": {"reputation": 1462, "user_id": 5423852, "user_type": "registered", "profile_image": "https://graph.facebook.com/905018666212494/picture?type=large", "display_name": "Pankwood", "link": "https://stackoverflow.com/users/5423852/pankwood"}, "edited": false, "score": 0, "creation_date": 1576097423, "post_id": 59293344, "comment_id": 104792352, "body": "Edits are done! I actually managed to make a little bit of progress by being able to call console.log(I18n.t(&#39;hello&#39;)) after importing within the second file, but the reference in the first still returns undefined. I followed this guide: <a href=\"https://gist.github.com/bazzel/ecdff4718962e57c2d5569cf01d332fe\" rel=\"nofollow noreferrer\">gist.github.com/bazzel/ecdff4718962e57c2d5569cf01d332fe</a>"}], "owner": {"reputation": 11, "user_id": 7327355, "user_type": "registered", "profile_image": "https://graph.facebook.com/895442707240720/picture?type=large", "display_name": "Ryan Davis", "link": "https://stackoverflow.com/users/7327355/ryan-davis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1576097356, "creation_date": 1576095072, "last_edit_date": 1576097356, "question_id": 59293344, "link": "https://stackoverflow.com/questions/59293344/webpack-imports-with-rails-5", "title": "Webpack imports with Rails 5", "body": "<p>I have a pretty large codebase that I am attempting to migrate from Rails 4 to 5, a major part of this is transitioning off of the asset pipeline to webpack to manage requirements and packages. </p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;% content_for :extra_head_scripts do %&gt;\n  &lt;% end %&gt;\n  &lt;head&gt;\n    &lt;title&gt;Cloverhound&lt;/title&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" /&gt;\n    &lt;%= javascript_pack_tag \"application-editor\", 'data-turbolinks-track': 'reload' %&gt;\n    &lt;%= stylesheet_link_tag \"application-editor\", :media =&gt; \"all\" %&gt;\n    &lt;%= csrf_meta_tags %&gt;\n    &lt;%= favicon_link_tag 'favicon.ico' %&gt;\n    &lt;%= render partial: \"layouts/shared/head_scripts\" %&gt;\n\n\n    &lt;!-- this javascript_tag passes the user's locale to the editor to enable translations --&gt;\n    &lt;%= javascript_tag do %&gt;\n      I18n.defaultLocale = \"&lt;%= I18n.default_locale %&gt;\";\n      I18n.locale = \"&lt;%= current_user.locale.shortcode.to_s %&gt;\";\n    &lt;% end %&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;%= render partial: \"shared/svg_sprite\" %&gt;\n    &lt;%= yield %&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>In the above file, I am attempting to load the I18n module so that it can be used. </p>\n\n<pre><code>console.log('Hello World from Webpacker');\nconsole.log(\"Application-Editor\");\n\nimport Sortable from 'sortablejs';\n//var I18n = require('i18n-js');\nimport I18n from 'i18n';\n</code></pre>\n\n<p>Above is my simple webpack file that properly logs to the chrome console, however, I18n is still undefined. If i attempt to call I18n within application-editor.js, it will also return undefined. However, if i change i18n to i18n-bad or something to that effect, I will get an error saying that the module could not be found. This leads me to believe that my module is being found, but something is going wrong in the process of importing it. I am very new to webpacker so any ideas would be helpful. </p>\n"}, {"tags": ["javascript", "html", "css", "wordpress", "fonts"], "comments": [{"owner": {"reputation": 417, "user_id": 5627177, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LmseK.jpg?s=128&g=1", "display_name": "mrben522", "link": "https://stackoverflow.com/users/5627177/mrben522"}, "edited": false, "score": 0, "creation_date": 1576095943, "post_id": 59293313, "comment_id": 104791751, "body": "I&#39;m not 100%, but I think that&#39;s not possible with CSS.  there&#39;s no way for the CSS to know what language the character is in.  Best bet is to either use two fonts, one for each language, or <i>maybe</i> there&#39;s a single font that does what you want, but I&#39;m not aware of anything like that"}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 2, "creation_date": 1576098492, "post_id": 59293313, "comment_id": 104792783, "body": "Are you using the HTLM element <code>lang</code> attribute, and the corresponding <code>:lang(...)</code> CSS pseudo-selector?"}, {"owner": {"reputation": 45, "user_id": 12482019, "user_type": "registered", "profile_image": "https://graph.facebook.com/116039623203738/picture?type=large", "display_name": "\u0630\u06cc\u0634\u0627\u0646 \u0633\u0627\u062c\u062f", "link": "https://stackoverflow.com/users/12482019/%d8%b0%db%8c%d8%b4%d8%a7%d9%86-%d8%b3%d8%a7%d8%ac%d8%af"}, "edited": false, "score": 0, "creation_date": 1576100406, "post_id": 59293313, "comment_id": 104793571, "body": "no what is that? will lang(...) help in this?"}], "answers": [{"tags": [], "owner": {"reputation": 84, "user_id": 13168936, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GhP3gcWPfhrwekFgobxhCrorkoBvB2dlvqXCZbz=k-s128", "display_name": "Orman Faghihi Mohaddes", "link": "https://stackoverflow.com/users/13168936/orman-faghihi-mohaddes"}, "is_accepted": false, "score": 1, "last_activity_date": 1586547624, "creation_date": 1586547624, "answer_id": 61147530, "question_id": 59293313, "link": "https://stackoverflow.com/questions/59293313/how-to-increase-space-width-of-text-using-css-on-condition-of-language-used/61147530#61147530", "title": "How to increase space width of text using css on condition of language used?", "body": "<p>Put all your characters or words that you want to write in Urdu language, in a span with a specific class name. For example: </p>\n\n<p>HTML CODE:</p>\n\n<pre><code>&lt;p&gt;\n    This paragraph contains multiple languages such as Englsih and &lt;span class=\"urdu\"&gt;\u0627\u0631\u062f\u0648&lt;/span&gt; at the same time. \n&lt;/p&gt;\n</code></pre>\n\n<p>CSS CODE:</p>\n\n<pre><code>p {\n    font-familly: \"English Font\", \"Urdu Font\";\n    font-weight: bBold;\n}\np .urdu {\n    font-weight: normal;\n    /* Your custome style for Urdu language only */\n}\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 12482019, "user_type": "registered", "profile_image": "https://graph.facebook.com/116039623203738/picture?type=large", "display_name": "\u0630\u06cc\u0634\u0627\u0646 \u0633\u0627\u062c\u062f", "link": "https://stackoverflow.com/users/12482019/%d8%b0%db%8c%d8%b4%d8%a7%d9%86-%d8%b3%d8%a7%d8%ac%d8%af"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1586547624, "creation_date": 1576094922, "last_edit_date": 1576100639, "question_id": 59293313, "link": "https://stackoverflow.com/questions/59293313/how-to-increase-space-width-of-text-using-css-on-condition-of-language-used", "title": "How to increase space width of text using css on condition of language used?", "body": "<p>I am using \"Nafees Nastaliq\" font on a wordpress website. This font provides English and Urdu characters to write in both languages. Urdu language doesn't need that width of space that english language needs. So, the font contains a narrow width of \"space\" character. On the website, I have to type English and Urdu both sometimes in the same div. So, is their anyway to increase the width of \"space\" character only when their is a space character between two characters which are both in English? Here is an example screenshot, how it look likes:</p>\n\n<p><img src=\"https://i.stack.imgur.com/oBJ9P.png\" alt=\"See Image\"></p>\n\n<p>In the above example, system should check that if their is English words like \"No Categories\", so the space between \"no\" and \"Categories\" should be maximized in width just like it should be in English. But for the urdu side \"\u0627\u0635\u0646\u0627\u0641\u0650 \u0633\u062e\u0646\" it should not increase the width of space.</p>\n\n<p>Here is CSS:</p>\n\n<pre><code>li {\n    font-family: 'Nafees Nastaliq' !important;\n    font-weight: normal !important;\n}\n</code></pre>\n\n<p>Pseduo Code I have : But how to implement?</p>\n\n<ol>\n<li>Select a \"space\"</li>\n<li>check if left side character is in (A,B,C.. a,b,c...) AND check if right side character is in (A,B,C.. a,b,c...)</li>\n<li>If yes, then increase_space_width()\n\n<ol start=\"4\">\n<li>else use_space_as_it_is() or do_nothing();</li>\n</ol></li>\n</ol>\n"}, {"tags": ["javascript", "html", "css", "grid"], "comments": [{"owner": {"reputation": 133, "user_id": 12288057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb6e2a82c51fa56d54b3958bac94a022?s=128&d=identicon&r=PG&f=1", "display_name": "Suzette Buxmann", "link": "https://stackoverflow.com/users/12288057/suzette-buxmann"}, "edited": false, "score": 0, "creation_date": 1576095551, "post_id": 59293297, "comment_id": 104791593, "body": "I think it&#39;s called &#39;touch gesture&#39;... something like <a href=\"https://zingchart.github.io/zingtouch/\" rel=\"nofollow noreferrer\">zingchart.github.io/zingtouch</a>"}], "answers": [{"comments": [{"owner": {"reputation": 308, "user_id": 11787903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1518596076d2fb73259f1b6ffb6c35fd?s=128&d=identicon&r=PG&f=1", "display_name": "Alopwer", "link": "https://stackoverflow.com/users/11787903/alopwer"}, "edited": false, "score": 1, "creation_date": 1576096896, "post_id": 59293735, "comment_id": 104792138, "body": "That was the right thing I was looking for, thanks!"}], "tags": [], "owner": {"reputation": 3147, "user_id": 9230154, "user_type": "registered", "profile_image": "https://graph.facebook.com/10112649516219911/picture?type=large", "display_name": "Dirk J. Faber", "link": "https://stackoverflow.com/users/9230154/dirk-j-faber"}, "is_accepted": true, "score": 1, "last_activity_date": 1576096759, "creation_date": 1576096759, "answer_id": 59293735, "question_id": 59293297, "link": "https://stackoverflow.com/questions/59293297/is-there-a-library-or-a-way-to-implement-the-background-drag/59293735#59293735", "title": "Is there a library or a way to implement &#39;the background drag&#39;?", "body": "<p>You could use <a href=\"https://jqueryui.com/draggable/\" rel=\"nofollow noreferrer\">jQuery draggable</a>. What you can do is have a container <code>div</code> with the <code>overflow</code> set to hidden and have a draggable image (your background) inside: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> $(\"#draggable img\").draggable();</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#div1 {\r\n  height: 400px;\r\n  width: 400px;\r\n  background-color: blue;\r\n  overflow: hidden;\r\n}\r\n\r\n.image {\r\n  margin-top: -400px;\r\n  margin-left: -400px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div id=\"div1\"&gt; \r\n  &lt;span class=\"move\" id=\"draggable\"&gt;\r\n    &lt;img src=\"https://placekitten.com/1600/1600\" class=\"image\"/&gt;\r\n  &lt;/span&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If the snippet doesn't work here is the same code in <a href=\"https://jsfiddle.net/dirkjf/h3y0v4as/7/\" rel=\"nofollow noreferrer\">jsfiddle</a>.</p>\n"}], "owner": {"reputation": 308, "user_id": 11787903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1518596076d2fb73259f1b6ffb6c35fd?s=128&d=identicon&r=PG&f=1", "display_name": "Alopwer", "link": "https://stackoverflow.com/users/11787903/alopwer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "closed_date": 1576136007, "accepted_answer_id": 59293735, "answer_count": 1, "score": 1, "last_activity_date": 1576096759, "creation_date": 1576094859, "question_id": 59293297, "link": "https://stackoverflow.com/questions/59293297/is-there-a-library-or-a-way-to-implement-the-background-drag", "closed_reason": "Needs more focus", "title": "Is there a library or a way to implement &#39;the background drag&#39;?", "body": "<p>I want to create a background with Google Maps' fucntionallity.\nSo here is the idea:\n<a href=\"https://i.stack.imgur.com/3jL0S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3jL0S.png\" alt=\"The screen user can drag is in center (fullscreen). When he drags - the items out the bounds apper in the center\"></a></p>\n\n<p>I haven't found any library but I guess it can be solved by css grid.\nCan you help me with a piece of advice or just to say how theoretically it can be solved?</p>\n"}, {"tags": ["javascript", "reactjs", "redux", "react-redux", "redux-saga"], "comments": [{"owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "edited": false, "score": 0, "creation_date": 1576101016, "post_id": 59293277, "comment_id": 104793789, "body": "Why do you change context here? <code>yield call([response, &#39;json&#39;]);</code>"}, {"owner": {"reputation": 475, "user_id": 5800846, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_7fn8xrZVkw/AAAAAAAAAAI/AAAAAAAAAAA/tBjQuGoMUoA/photo.jpg?sz=128", "display_name": "Igor Shmukler", "link": "https://stackoverflow.com/users/5800846/igor-shmukler"}, "reply_to_user": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "edited": false, "score": 0, "creation_date": 1576101116, "post_id": 59293277, "comment_id": 104793815, "body": "I believe that the root saga - <code>getData</code> is executed on remount and somehow it does not call the <code>loadChallengeDetailsData</code> function. I don&#39;t understand why, yet..."}, {"owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "edited": false, "score": 0, "creation_date": 1576101222, "post_id": 59293277, "comment_id": 104793856, "body": "<code>call</code> is a blocking action, it won&#39;t go further if it doesn&#39;t resolve. <code>yield call([response, &#39;json&#39;]);</code> leads to nowhere atm"}, {"owner": {"reputation": 475, "user_id": 5800846, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_7fn8xrZVkw/AAAAAAAAAAI/AAAAAAAAAAA/tBjQuGoMUoA/photo.jpg?sz=128", "display_name": "Igor Shmukler", "link": "https://stackoverflow.com/users/5800846/igor-shmukler"}, "reply_to_user": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "edited": false, "score": 0, "creation_date": 1576102062, "post_id": 59293277, "comment_id": 104794132, "body": "@kinduser see <a href=\"https://github.com/redux-saga/redux-saga/issues/1141\" rel=\"nofollow noreferrer\">github.com/redux-saga/redux-saga/issues/1141</a>"}, {"owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "edited": false, "score": 0, "creation_date": 1576103833, "post_id": 59293277, "comment_id": 104794704, "body": "Could you tell me what actually does <code>call([response, &#39;json&#39;]);</code> this do?"}, {"owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "edited": false, "score": 0, "creation_date": 1576104567, "post_id": 59293277, "comment_id": 104794921, "body": "Ok - made some research. What library do u use for fetching?"}], "owner": {"reputation": 475, "user_id": 5800846, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_7fn8xrZVkw/AAAAAAAAAAI/AAAAAAAAAAA/tBjQuGoMUoA/photo.jpg?sz=128", "display_name": "Igor Shmukler", "link": "https://stackoverflow.com/users/5800846/igor-shmukler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576094766, "creation_date": 1576094766, "question_id": 59293277, "link": "https://stackoverflow.com/questions/59293277/redux-actions-are-not-called-on-subsequent-re-mounts", "title": "Redux actions are not called on subsequent re-mounts", "body": "<p>I am working on a web app, and one of the components/routes has a caching problem. There is a \"master\" page from which users could view the detail page. When the detail page is first constructed, it loads the data correctly, but when users go back to the master and choose another item to view the details they are presented with stale data. The loading is done from <code>componentDidMount()</code> and it is being called on the first mount and remount, just fine.</p>\n\n<p>First, the following actions are executed: <code>LOAD_CHALLENGE_DETAILS</code> and <code>LOAD_CHALLENGE_DETAILS_SUCCESS</code>. On the subsequent views, there is no <code>success</code>.</p>\n\n<p>I load the data in saga, as below:</p>\n\n<pre><code>import { takeLatest, call, put } from 'redux-saga/effects';\nimport api from 'utils/api';\nimport { loadChallengeDetailsSuccess } from './actions';\nimport { LOAD_CHALLENGE_DETAILS } from './constants';\n\nfunction* loadChallengeDetailsData({ id }) {\n  console.log('loadChallengeDetailsData');\n  const response = yield call(api, `/challenges/details/${id}`);\n  const respJson = yield call([response, 'json']);\n  yield put(loadChallengeDetailsSuccess(respJson));\n}\n\n/**\n * Root saga manages watcher lifecycle\n */\nexport default function* getData() {\n  yield takeLatest(LOAD_CHALLENGE_DETAILS, loadChallengeDetailsData);\n}\n</code></pre>\n\n<p>It prints to the console:</p>\n\n<pre><code>action: {type: \"powerwalks/Challenges/LOAD_CHALLENGE_DETAILS\", id: \"0d6e0252-a5ce-4e46-a3cb-042e2b110214\"}\nsaga.js:9 loadChallengeDetailsData\nreducer.js:12 action: {type: \"powerwalks/Challenges/LOAD_CHALLENGE_DETAILS_SUCCESS\", payload: {\u2026}, @@redux-saga/SAGA_ACTION: true}\n</code></pre>\n\n<p>then after I go back and choose another \"record,\" it only prints:</p>\n\n<pre><code>action: {type: \"powerwalks/Challenges/LOAD_CHALLENGE_DETAILS\", id: \"72459cb0-e0d3-49bb-81f0-7b753f2de5a2\"}\n</code></pre>\n\n<p>I am perplexed as to what is happening. Please advise.</p>\n"}, {"tags": ["javascript", "ocaml", "js-of-ocaml"], "owner": {"reputation": 8684, "user_id": 702977, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/859cd18fc4bc067aa389b7c408eeb572?s=128&d=identicon&r=PG", "display_name": "SoftTimur", "link": "https://stackoverflow.com/users/702977/softtimur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1576094076, "creation_date": 1576094076, "question_id": 59293108, "link": "https://stackoverflow.com/questions/59293108/how-could-javascript-catch-exceptions-raised-by-ocaml", "title": "How could JavaScript catch exceptions raised by OCaml?", "body": "<p>I have a OCaml projet, which is later converted to JavaScript by <code>js_of_ocaml</code>. I wrap some functions like follows:</p>\n\n<pre><code>Js.Unsafe.global##.parseFile := Js.wrap_callback\n    (fun s -&gt; Js.string (E.parse_file (Js.to_string s)));\n</code></pre>\n\n<p>Then, in JavaScript, I could call <code>parseFile(\"abc\")</code>.</p>\n\n<p>In the OCaml code, for example, <code>E.parse_file</code> may raise exceptions by <code>failwith \"this is why\"</code>. I would like to know how to catch this exception in JavaScript code, and eventually catch <code>this is why</code>?</p>\n\n<pre><code>try {\n  parseFile(\"abc\")\n}\ncatch(error) {\n  ???\n}\n</code></pre>\n"}, {"tags": ["javascript", "laravel", "vue.js", "vuejs2", "vue-component"], "comments": [{"owner": {"reputation": 21818, "user_id": 8583563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U42av.png?s=128&g=1", "display_name": "skirtle", "link": "https://stackoverflow.com/users/8583563/skirtle"}, "edited": false, "score": 0, "creation_date": 1576104265, "post_id": 59293098, "comment_id": 104794835, "body": "Could you be a little more precise about what exactly is and isn&#39;t happening? e.g. Is the following an accurate description of what you&#39;re seeing? 1. The component initially shows with empty values, as expected. 2. The GET request can be seen in the Network tab of the developer tools and succeeds. 3. The console logging in <code>getGallery</code> logs the appropriate object to the console. 4. The component does not show the new values and remains empty, which is not expected."}, {"owner": {"reputation": 29, "user_id": 12520374, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X3lYu.jpg?s=128&g=1", "display_name": "Mehrab Esmailnia", "link": "https://stackoverflow.com/users/12520374/mehrab-esmailnia"}, "reply_to_user": {"reputation": 21818, "user_id": 8583563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U42av.png?s=128&g=1", "display_name": "skirtle", "link": "https://stackoverflow.com/users/8583563/skirtle"}, "edited": false, "score": 0, "creation_date": 1576138515, "post_id": 59293098, "comment_id": 104803540, "body": "The gallery component is hidden at first and is displayed after clicking the button and a request for gallery information is sent and stored in gallery information after download . the data is received but it is not displayed"}], "owner": {"reputation": 29, "user_id": 12520374, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X3lYu.jpg?s=128&g=1", "display_name": "Mehrab Esmailnia", "link": "https://stackoverflow.com/users/12520374/mehrab-esmailnia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576094053, "creation_date": 1576094053, "question_id": 59293098, "link": "https://stackoverflow.com/questions/59293098/data-is-not-shown-in-vue-js-component-after-getting-request", "title": "data is not shown in vue js component after getting request", "body": "<p>\n<b>\nhello. after clicking on gallery component this component would be shown and get request in methods but wouldn't show gallery data :(\n</b>\n<br>\nI wasn't having problem like this last time. maybe that's because my component is look like modal .\nI know my talking is ridiculous :/\n</p>\n\n<pre><code>&lt;template&gt;\n    &lt;section class=\"ShowGallery\"&gt;\n        &lt;div class=\"panelGallery\"&gt;\n            &lt;div class=\"topBlock\"&gt;\n                &lt;div class=\"close\" @click=\"$emit('btnCloseGallery')\"&gt;&lt;i class=\"icon-error\"&gt;&lt;/i&gt;&lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=\"bottomBlock\"&gt;\n                &lt;div class=\"block first\"&gt;\n                    &lt;div class=\"image\"&gt;\n                        &lt;img :src=\"gallery.url\"&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=\"block second\"&gt;\n                    &lt;h3&gt;info gallery&lt;/h3&gt;\n                    {{gallery}}\n                    &lt;ul class=\"listInfo\"&gt;\n                        &lt;li&gt;&lt;span&gt;{{gallery.size}}&lt;/span&gt;&lt;span&gt; : size &lt;/span&gt;&lt;/li&gt;\n                        &lt;li&gt;&lt;span v-text=\"gallery.type\"&gt;&lt;/span&gt;&lt;span&gt; : format  &lt;/span&gt;&lt;/li&gt;\n                        &lt;li&gt;&lt;span v-text=\"gallery.resolution\"&gt;&lt;/span&gt;&lt;span&gt; : resolution &lt;/span&gt;&lt;/li&gt;\n                        &lt;li&gt;&lt;span v-text=\"gallery.name\"&gt;&lt;/span&gt;&lt;span&gt; : name  &lt;/span&gt;&lt;/li&gt;\n                        &lt;li&gt;&lt;span v-text=\"gallery.url\"&gt;&lt;/span&gt;&lt;span&gt; : url  &lt;/span&gt;&lt;/li&gt;\n                        &lt;li&gt;&lt;span v-text=\"gallery.path\"&gt;&lt;/span&gt;&lt;span&gt; : path  &lt;/span&gt;&lt;/li&gt;\n                    &lt;/ul&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/section&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\n    export default {\n        props : ['gallery_id'],\n        name: \"ShowGallery\",\n        data(){\n            return {\n               gallery : {} ,\n            }\n        },\n        methods : {\n            async getGallery(){\n                const data = await axios.get(`/admin/gallery/${this.gallery_id}`);\n                this.gallery = data.data;\n                console.log(this.gallery)\n            }\n        },\n         mounted(){\n             this.getGallery();\n        },\n    }\n&lt;/script&gt;\n\n</code></pre>\n"}, {"tags": ["javascript", "php"], "comments": [{"owner": {"reputation": 51419, "user_id": 1213708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e617b05eacf75c49dcf76ebb312292ec?s=128&d=identicon&r=PG", "display_name": "Nigel Ren", "link": "https://stackoverflow.com/users/1213708/nigel-ren"}, "edited": false, "score": 1, "creation_date": 1576094186, "post_id": 59293097, "comment_id": 104790963, "body": "It may be worth doing this in the SQL if you can."}, {"owner": {"reputation": 1816, "user_id": 6041389, "user_type": "registered", "accept_rate": 61, "profile_image": "https://lh3.googleusercontent.com/-kVVs5_frHmc/AAAAAAAAAAI/AAAAAAAAABM/SMcp3aPNlEY/photo.jpg?sz=128", "display_name": "csandreas1", "link": "https://stackoverflow.com/users/6041389/csandreas1"}, "edited": false, "score": 1, "creation_date": 1576094790, "post_id": 59293097, "comment_id": 104791266, "body": "Why not just using <code>echo json_encode $results;</code>"}, {"owner": {"reputation": 4010, "user_id": 2825551, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/vCq8n.jpg?s=128&g=1", "display_name": "Jhecht", "link": "https://stackoverflow.com/users/2825551/jhecht"}, "edited": false, "score": 0, "creation_date": 1576128510, "post_id": 59293097, "comment_id": 104800105, "body": "This would generally done faster by doing so in the SQL instead of PHP. <code>SELEC price, item_name, item_price, COUNT(id) * item_price as total_price.....</code> or something to that effect. without the current query / the table setup it&#39;s hard to guess"}], "owner": {"reputation": 55, "user_id": 6784664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25200c1f3cab4c7d7c0fa7bdf84d287e?s=128&d=identicon&r=PG&f=1", "display_name": "hamin", "link": "https://stackoverflow.com/users/6784664/hamin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1576128310, "creation_date": 1576094050, "last_edit_date": 1576128310, "question_id": 59293097, "link": "https://stackoverflow.com/questions/59293097/get-results-for-all-rows", "title": "Get results for all rows", "body": "<p>I have a query running in json.\nInside the shopping cart page when the number button is hit\nI just want the price to be multiplied by the number of rows</p>\n\n<pre><code>$result-&gt;execute();\n$results=$result-&gt;fetchAll(PDO::FETCH_ASSOC);\n\nforeach ($results as $row) {\n  if ($row['darsad_price_offer'] == '') {\n    $prices = $row['price'];\n  } else {\n    $prices = $row['price_offer'];\n  }\n  $tedad = $row['tedadmahsol'];\n  $pricerow2 = $prices * $tedad;\n}\nreturn [$results,$pricerow];\n\nvar pricerow=response[3];\n$(\".basketrows.activedel\").find('.pricejson').html(pricerow);\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "jestjs", "enzyme"], "answers": [{"comments": [{"owner": {"reputation": 46, "user_id": 8799440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ed8119fa5b5457507d23ad9dcd2ac8c?s=128&d=identicon&r=PG&f=1", "display_name": "seansylee", "link": "https://stackoverflow.com/users/8799440/seansylee"}, "edited": false, "score": 0, "creation_date": 1576101174, "post_id": 59293831, "comment_id": 104793839, "body": "I think I wasn&#39;t clear enough when describing. My utils.js file is quite large, and I wanted to avoid having to mock all of them. The implementation above seem to require me to do so. Would it still work if I just have a mock <code>foo</code> and what ever it doesnt find will it refer to the original util.js?"}], "tags": [], "owner": {"reputation": 1946, "user_id": 7685866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fe17b816e660dfcc0e5d3ec53de2989?s=128&d=identicon&r=PG&f=1", "display_name": "Tunmee", "link": "https://stackoverflow.com/users/7685866/tunmee"}, "is_accepted": false, "score": 2, "last_activity_date": 1576169294, "last_edit_date": 1576169294, "creation_date": 1576097261, "answer_id": 59293831, "question_id": 59293085, "link": "https://stackoverflow.com/questions/59293085/how-to-mock-a-single-utility-function-globally-using-jest/59293831#59293831", "title": "How to mock a single utility function globally using jest", "body": "<p>Yes, there is a way to mock modules in test environment.</p>\n\n<p>If you want to mock the modules in specific test files, you can try just the <code>jest.mock()</code> function. For example, mocking the <code>foo</code> method in <code>Foo1.component.js</code> test file would go like this:</p>\n\n<pre><code>// Foo1.component.test.js\n\njest.mock('./path/to/utils.js', () =&gt; ({\n  foo: () =&gt; { // custom implementation for test env }\n  bar: () =&gt; { // custom implementation for test env if needed }\n}));\n\n// The foo imported below has the custom implementation for test env\nimport { foo } from './util';\n</code></pre>\n\n<p>The other option is to create a mock module, I think this better suite your need. In the folder where <code>utils.js</code> is located, create a <code>__mocks__</code> folder, under which you would add a file <code>utils.js</code>(the same name as the module to be mocked), in that file, you can compose the mock behavior for the <code>util.js</code> module. For example:</p>\n\n<pre><code>// __mocks__/utils.js\nexport function foo(){ ... mock implementation}\nexport function bar(){ ... mock implementation}\n</code></pre>\n\n<p>Whenever you need those mock implementation in your test files, just call the the <code>jest.mock</code> method with the path to the module. For example:</p>\n\n<pre><code>// Foo1.component.test.js\n\njest.mock('./path/to/utils.js');\n\n// The foo imported below has the custom implementation for test env\nimport { foo } from './util';\n</code></pre>\n\n<p>Links:</p>\n\n<ul>\n<li><a href=\"https://jestjs.io/docs/en/jest-object#jestmockmodulename-factory-options\" rel=\"nofollow noreferrer\">Using <code>jest.mock</code></a> </li>\n<li><a href=\"https://jestjs.io/docs/en/manual-mocks#mocking-user-modules\" rel=\"nofollow noreferrer\">Creating mock modules</a></li>\n</ul>\n"}], "owner": {"reputation": 46, "user_id": 8799440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ed8119fa5b5457507d23ad9dcd2ac8c?s=128&d=identicon&r=PG&f=1", "display_name": "seansylee", "link": "https://stackoverflow.com/users/8799440/seansylee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 596, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1576169294, "creation_date": 1576093999, "question_id": 59293085, "link": "https://stackoverflow.com/questions/59293085/how-to-mock-a-single-utility-function-globally-using-jest", "title": "How to mock a single utility function globally using jest", "body": "<p>Suppose in my util.js I have</p>\n\n<pre><code>export function foo(){ ... do something}\nexport function bar(){ ... do something}\n...\n</code></pre>\n\n<p>And in various components I utilize foo</p>\n\n<pre><code>//Foo1.component.js\n\nimport { foo } from './util'A\n\n... do something using foo.\n</code></pre>\n\n<pre><code>//Foo2.component.js\n\nimport { foo } from './util'A\n\n... do something using foo.\n</code></pre>\n\n<p>etc..</p>\n\n<p>How can I go about mocking this, in <code>Foo1.test.js</code> for example. </p>\n\n<p>Even better, is there way that I can just 'hijack' this <code>foo</code> import maybe from the jest.config.\nin the <code>moduleNameMapper</code> Maybe? </p>\n\n<p>So that it is already mocked for all tests <code>Foo1.test.js</code> and <code>Foo2.test.js</code>?</p>\n"}]