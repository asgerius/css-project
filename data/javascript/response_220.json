[{"tags": ["javascript", "d3.js"], "answers": [{"comments": [{"owner": {"reputation": 383, "user_id": 7076707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6PKvk.png?s=128&g=1", "display_name": "Patrick Mascari", "link": "https://stackoverflow.com/users/7076707/patrick-mascari"}, "edited": false, "score": 0, "creation_date": 1553781291, "post_id": 55388569, "comment_id": 97519037, "body": "Not sure where to put this, but I&#39;ll put it here:  The key was as you showed: the update &amp; enter rows needed to be merged first, and then that merge is used to create the update &amp; enter TDs. Once I did that, it worked great. And no DRY violations!  Marking as the accepted answer. Thank you for the swift and thorough reply!"}], "tags": [], "owner": {"reputation": 90540, "user_id": 5768908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wf0PS.jpg?s=128&g=1", "display_name": "Gerardo Furtado", "link": "https://stackoverflow.com/users/5768908/gerardo-furtado"}, "is_accepted": true, "score": 1, "last_activity_date": 1553733890, "creation_date": 1553733890, "answer_id": 55388569, "question_id": 55388212, "link": "https://stackoverflow.com/questions/55388212/unable-to-merge-selections/55388569#55388569", "title": "Unable to merge selections", "body": "<p>First of all, according to the very creator of the DRY principle, DRY is not exactly the same of just avoiding repetition of code:</p>\n\n<blockquote>\n  <p>\u201cMost people take DRY to mean you shouldn't duplicate code. That's not its intention. The idea behind DRY is far grander than that\u201d (<a href=\"https://www.artima.com/intv/dry.html\" rel=\"nofollow noreferrer\">source</a>)</p>\n</blockquote>\n\n<p>In D3 you'll find yourself repeating some snippets again and again. That's not a problem per se, as long as you know what you're doing.</p>\n\n<p>Back to your question:</p>\n\n<p>You can simplify your code and avoid creating a mess if you know clearly what <em>each selection</em> is doing. Better than just saying <em>each selection</em>, we should say <em>each update pattern</em>.</p>\n\n<p>In your case, you have two elements that should be created, updated and removed: <code>&lt;tr&gt;</code> and <code>&lt;td&gt;</code>.</p>\n\n<p>So, you can write a very clean pattern for <code>tr</code>s:</p>\n\n<pre><code>let tr = table.selectAll(\"tr\")\n  .data(data);\n\nconst trExit = tr.exit().remove();\n\nconst trEnter = tr.enter()\n  .append(\"tr\");\n\ntr = trEnter.merge(tr);\n</code></pre>\n\n<p>And another one for the <code>td</code>s:</p>\n\n<pre><code>let td = tr.selectAll(\"td\")\n  .data(function(d) {\n    return [d]\n  });\n\nconst tdExit = td.exit().remove();\n\nconst tdEnter = td.enter()\n  .append(\"td\");\n\ntd = tdEnter.merge(td);\n\ntd.text(function(d) {\n  return d.name\n});\n</code></pre>\n\n<p>Since you're appending just one <code>&lt;td&gt;</code> in each <code>&lt;tr&gt;</code> (single-column), the last pattern can be greatly simplified. But let's keep it that way for now.</p>\n\n<p>Also, don't forget to give meaningful names for the selections:</p>\n\n<pre><code>const body = d3.select(\"body\");\nconst table = body.append(\"table\");\n</code></pre>\n\n<p>Here is a demo:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const body = d3.select(\"body\");\r\n\r\nconst table = body.append(\"table\");\r\n\r\nconst data1 = [{\r\n  name: \"foo\"\r\n}, {\r\n  name: \"bar\"\r\n}, {\r\n  name: \"baz\"\r\n}];\r\n\r\nconst data2 = [{\r\n  name: \"foobar\"\r\n}, {\r\n  name: \"barbaz\"\r\n}, {\r\n  name: \"bazfoo\"\r\n}, {\r\n  name: \"foobaz\"\r\n}];\r\n\r\nd3.selectAll(\"button\").on(\"click\", function(_, i) {\r\n  createTable(i ? data1 : data2)\r\n})\r\n\r\nfunction createTable(data) {\r\n  let tr = table.selectAll(\"tr\")\r\n    .data(data);\r\n\r\n  const trExit = tr.exit().remove();\r\n\r\n  const trEnter = tr.enter()\r\n    .append(\"tr\");\r\n\r\n  tr = trEnter.merge(tr);\r\n\r\n  let td = tr.selectAll(\"td\")\r\n    .data(function(d) {\r\n      return [d]\r\n    });\r\n\r\n  const tdExit = td.exit().remove();\r\n\r\n  const tdEnter = td.enter()\r\n    .append(\"td\");\r\n\r\n  td = tdEnter.merge(td);\r\n\r\n  td.text(function(d) {\r\n    return d.name\r\n  });\r\n\r\n};</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>table {\r\n  font-family: verdana, arial, sans-serif;\r\n  font-size: 11px;\r\n  color: #333333;\r\n  border-width: 1px;\r\n  border-color: #666666;\r\n  border-collapse: collapse;\r\n}\r\n\r\nth {\r\n  border-width: 1px;\r\n  padding: 8px;\r\n  border-style: solid;\r\n  border-color: #666666;\r\n  background-color: #dedede;\r\n}\r\n\r\ntd {\r\n  border-width: 1px;\r\n  padding: 8px;\r\n  border-style: solid;\r\n  border-color: #666666;\r\n  background-color: #ffffff;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.min.js\"&gt;&lt;/script&gt;\r\n&lt;button&gt;Data 1&lt;/button&gt;&lt;button&gt;Data 2&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Regarding your main question: <em>\"what am I doing wrong?\"</em> Many things, depending on the snippet. For instance, sometimes you're merging an enter selection based on an outer selection which was not merged... A comprehensive answer would be too long. Just have a look at my snippet and see that we create the update pattern for the outer level, and then the update pattern for the inner level, and so on... </p>\n"}], "owner": {"reputation": 383, "user_id": 7076707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6PKvk.png?s=128&g=1", "display_name": "Patrick Mascari", "link": "https://stackoverflow.com/users/7076707/patrick-mascari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 55388569, "answer_count": 1, "score": 1, "last_activity_date": 1553781484, "creation_date": 1553730916, "last_edit_date": 1553781484, "question_id": 55388212, "link": "https://stackoverflow.com/questions/55388212/unable-to-merge-selections", "title": "Unable to merge selections", "body": "<p>Firstly, I'm brand new to D3, but searching has yielded no results that work for my case.</p>\n\n<p>I'm using latest D3 v5.</p>\n\n<p>I'm trying to get d3 to fill in a table with a single column. I'm able to accomplish this in a manner that violates DRY:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var TRS = d3.select(\"#queueTable tbody\")\n    .selectAll(\"tr\")\n    .data(data);\n\nTRS.exit().remove();\n\nTRS.enter()\n    .append(\"tr\")\n    .selectAll(\"td\")\n    .data(function(row){return [row];})\n    .enter()\n    .append(\"td\")\n    .text(function fillTD(d){return d.name;});\n\nTRS\n    .selectAll(\"td\")\n    .data(function(row){return [row];})\n    .text(function fillTD(d){\n        return d.name;\n    });\n\n</code></pre>\n\n<p>As you can see, I'm copy-pasting the function \"fillTD\".</p>\n\n<p>Googling led me to the merge function, then down a rabbit hole of trying to get it to work:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var TRS = d3.select(\"#queueTable tbody\")\n    .selectAll(\"tr\")\n    .data(data);\n\nTRS.exit().remove();\n\nvar TDS = TRS.selectAll(\"td\")\n.data(function(row){return [row];});\n\nvar RowsEntered = TRS.enter()\n    .append(\"tr\")\n\nvar TDsEntered = RowsEntered.selectAll(\"td\")\n    .data(function(row){return [row];})\n    .enter()\n    .append(\"td\");\n\n\nvar Merged = TDS.merge(TDsEntered);\n\nMerged\n    .text(function fillTD(d){return d.name;});\n\n</code></pre>\n\n<p>In this, the TRs and TDs are generated just fine. The battle is solely over the functions after merge is called.</p>\n\n<p>The values of the variable passed as an argument to merge never show. That is, when I have <code>TDsEntered.merge(TDS)</code>, only TDS's selections are passed, as if the merge never occurred and only new items are created. This behavior persists with TDS.merge(TDsEntered), though now only updates occur.</p>\n\n<p>If I remove the .data line from here:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var TDS = TRS.selectAll(\"td\")\n.data(function(row){return [row];});\n</code></pre>\n\n<p>It works just the same.</p>\n\n<p>If I swap RowsEntered's use for TDsEntered:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var RowsEntered = TRS.enter()\n    .append(\"tr\")\n\nvar TDsEntered = TRS.selectAll(\"td\")\n    .data(function(row){return [row];})\n    .enter()\n    .append(\"td\");\n</code></pre>\n\n<p>I get the same behavior, but only after a second pass through the fromEvent that fires this. Which makes sense.</p>\n\n<p>When inspected in the debugger, TDS and TDsEntered have variable numbers of \"groups\" and \"parents\", depending on if they're being used. E.g., TDsEntered will have 4 groups &amp; parents that correspond to 4 new entries. If the are no changes to any existing entries, TDS will, in turn, have 0 groups &amp; parents.</p>\n\n<p>This is not the case if I attempt to merge TRS and RowsEntered. Both of them have equal number of parents &amp; groups, and the merged result has the same value. </p>\n\n<p>So, I thought I could use TRS and RowsEntered:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var Merged = TDS.merge(TDsEntered);\nvar Merge2 = TRS.merge(RowsEntered);\nMerge2\n    .selectAll('td')\n    .text(function fillTD(d){return d.name;});\n</code></pre>\n\n<p>But now only new entries work. I flipped TRS and RowsEntered's places, but no change: still only new entries.</p>\n\n<p>Okay.</p>\n\n<p>So I violate DRY again by copying that same data selector used when TDsEntered was made:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var TRS = d3.select(\"#queueTable tbody\")\n    .selectAll(\"tr\")\n    .data(data);\n\nTRS.exit().remove();\n\nvar TDS = TRS.selectAll(\"td\");\n\nvar RowsEntered = TRS.enter()\n    .append(\"tr\")\n\nvar TDsEntered = RowsEntered.selectAll(\"td\")\n    .data(function(row){return [row];})\n    .enter()\n    .append(\"td\");\n\n\nvar Merged = TDS.merge(TDsEntered);\nvar Merge2 = TRS.merge(RowsEntered);\nMerge2\n    .selectAll('td')\n    .data(function(row){return [row];})\n    .text(function fillTD(d){return d.name;});\n</code></pre>\n\n<p>And this WORKS.</p>\n\n<p>But I'm violating DRY again, just less.</p>\n\n<p>So I try making a \"TDSReselected\" with that formula to prevent DRY:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\nvar TDSReselected = RowsEntered.selectAll(\"td\")\n.data(function(row){return [row];});\n\nvar TDsEntered = TDSReselected\n    .enter()\n    .append(\"td\");\n\n\nvar Merge1 = TDS.merge(TDsEntered);\nvar Merge2 = TRS.merge(RowsEntered);\nvar Merge3 = TDsEntered.merge(TDSReselected);\nMerge3\n    .text(function fillTD(d){return d.name;});\n</code></pre>\n\n<p>But nope, doesn't work. Back to the same issue.</p>\n\n<p>What gives?</p>\n\n<p>Is there any way to tackle this without having my data() logic in two places? What am I doing wrong?</p>\n\n<p><strong>EDIT AFTER GERARDO'S EXPLANATION:</strong></p>\n\n<p>This works now. The key that Gerardo brought to light was that the <em>rows</em> needed merging first, and then the TDs' update&amp;enter are built off the merged rows:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var TRS = d3.select(\"#queueTable tbody\")\n    .selectAll(\"tr\")\n    .data(data);\n\nTRS.exit().remove();\n\nvar RowsEntered = TRS.enter()\n    .append(\"tr\")\n\nvar RowsMerged = TRS.merge(RowsEntered);\n\nvar TDS = RowsMerged.selectAll(\"td\")\n        .data(function(row){return [row];});\n\nvar TDsEntered = TDS\n    .enter()\n    .append(\"td\");\n\nvar TDMerged = TDS.merge(TDsEntered);\nTDMerged\n    .text(function fillTD(d){return d.name;});\n</code></pre>\n\n<p>This made everything work, and we no longer repeat any logic!</p>\n\n<p>Note: I don't exit the TDs because in my specific case (TD count for a statically defined column count table will remain static), I don't need to.\nIf my count of columns was dynamic, I would need to exit the TDs.</p>\n"}, {"tags": ["javascript", "arrays", "date", "vue.js"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 3, "creation_date": 1553731067, "post_id": 55388198, "comment_id": 97498249, "body": "It would be helpful if you could create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, so that we can just run the code and reproduce the issue. You can likely use <a href=\"https://meta.stackoverflow.com/q/358992/215552\">Stack Snippets</a>."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1553731522, "post_id": 55388198, "comment_id": 97498354, "body": "Please show the typical content of <code>fecha</code>"}, {"owner": {"reputation": 806, "user_id": 5843525, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9f42d010919e6f649612790d3956719f?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Blamberg", "link": "https://stackoverflow.com/users/5843525/stefan-blamberg"}, "edited": false, "score": 0, "creation_date": 1553731810, "post_id": 55388198, "comment_id": 97498427, "body": "Maybe try something like <code>availableDates.push(new Date(fecha2.getFullYear(), fecha2.getMonth(), fecha2.getDate()))</code>"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "reply_to_user": {"reputation": 806, "user_id": 5843525, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9f42d010919e6f649612790d3956719f?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Blamberg", "link": "https://stackoverflow.com/users/5843525/stefan-blamberg"}, "edited": false, "score": 0, "creation_date": 1553731838, "post_id": 55388198, "comment_id": 97498430, "body": "nevermind - but @StefanBlamberg - that could fix if you are WEST of GMT"}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 10705447, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qSG1aLad7ck/AAAAAAAAAAI/AAAAAAAALNs/4u9JW2LEq-M/photo.jpg?sz=128", "display_name": "josembell", "link": "https://stackoverflow.com/users/10705447/josembell"}, "edited": false, "score": 0, "creation_date": 1553733823, "post_id": 55388381, "comment_id": 97498855, "body": "Thank you! It totally worked for me. However, I was using an input of type text meanwhile the method <code>.valueAsDate</code>only works for inputs of type date. What I did is: <code>var fecha = document.getElementById(&quot;inputFecha&quot;).value; var fecha2 =new Date(fecha); var fecha3 = new Date(fecha2.getFullYear(), fecha2.getMonth(), fecha2.getDate()); availableDates.push(fecha3); </code>  And it worked!"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "reply_to_user": {"reputation": 29, "user_id": 10705447, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qSG1aLad7ck/AAAAAAAAAAI/AAAAAAAALNs/4u9JW2LEq-M/photo.jpg?sz=128", "display_name": "josembell", "link": "https://stackoverflow.com/users/10705447/josembell"}, "edited": false, "score": 0, "creation_date": 1553734544, "post_id": 55388381, "comment_id": 97499020, "body": "That won&#39;t necessarily work, I think it depends on your timezone - so if you want something that is globally consistent you may have issues - honestly, using something like <code>momentjs</code> library in such cases is possibly the way to go - you can get far better consistency"}], "tags": [], "owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "is_accepted": false, "score": 0, "last_activity_date": 1553770516, "last_edit_date": 1553770516, "creation_date": 1553732280, "answer_id": 55388381, "question_id": 55388198, "link": "https://stackoverflow.com/questions/55388198/how-can-i-add-and-delete-date-objects-in-arrays/55388381#55388381", "title": "How can I add and delete Date objects in arrays?", "body": "<p>When calling <code>new Date(2019, 2, 30)</code> the date created is <code>2019-03-30T00:00:00</code> <em>IN YOUR TIMEZONE</em> ... </p>\n\n<p><del>whereas, <code>new Date(\"30/3/2019\")</code> would create <code>2019-03-30T00:00:00Z</code> - i.e. UCT/UTC/GMT/Zulu whatever you call it - if you are not in +0 Timezone, then this will fail</del> Not sure what I was thinking here ... complete and utter garbage :p</p>\n\n<p>If inputFecha is an <code>&lt;input type=\"date\"&gt;</code></p>\n\n<pre><code>addDate: function(event) {\n    var fecha = document.getElementById(\"inputFecha\").valueAsDate;\n    var fecha2 =new Date(fecha.getFullYear(), fecha.getMonth(), fecha.getDate());\n   availableDates.push(fecha2);\n},\n</code></pre>\n\n<p>As you have failed to add an MCVE, the following code is a rough dummy to show that it does work</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const availableDates = [];\r\nlet something = {\r\n  addDate: function(event) {\r\n    var fecha = document.getElementById(\"inputFecha\").valueAsDate;\r\n    var fecha2 = new Date(fecha.getFullYear(), fecha.getMonth(), fecha.getDate());\r\n    availableDates.push(fecha2);\r\n    console.log(availableDates);\r\n  },\r\n  deleteDate: function(event) {\r\n    var collection = availableDates,\r\n      d // = new Date(event.getFullYear(), event.getMonth(), event.getDate()),\r\n    \r\n    // dummy code to test\r\n    var fecha = document.getElementById(\"inputFecha\").valueAsDate;\r\n    d = new Date(fecha.getFullYear(), fecha.getMonth(), fecha.getDate());\r\n    // end dummy code\r\n    \r\n    const idx = collection.map(Number).indexOf(+d);\r\n    if (idx != -1) {\r\n      availableDates.splice(idx, 1);\r\n    }\r\n    console.log(availableDates);\r\n  }\r\n}\r\navailableDates.push(new Date(2019, 2, 29));\r\navailableDates.push(new Date(2019, 2, 30));\r\navailableDates.push(new Date(2019, 2, 28));\r\nconsole.log(availableDates);\r\ndocument.querySelectorAll('.butt').forEach(btn =&gt;\r\n  btn.addEventListener('click', something[btn.id])\r\n);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"date\" id=\"inputFecha\"&gt;\r\n&lt;input type=\"button\" class=\"butt\" id=\"addDate\" value=\"add\"&gt;\r\n&lt;input type=\"button\" class=\"butt\" id=\"deleteDate\" value=\"remove\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 29, "user_id": 10705447, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qSG1aLad7ck/AAAAAAAAAAI/AAAAAAAALNs/4u9JW2LEq-M/photo.jpg?sz=128", "display_name": "josembell", "link": "https://stackoverflow.com/users/10705447/josembell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553770516, "creation_date": 1553730825, "question_id": 55388198, "link": "https://stackoverflow.com/questions/55388198/how-can-i-add-and-delete-date-objects-in-arrays", "title": "How can I add and delete Date objects in arrays?", "body": "<p>I'm trying to update a calendar by using the component Datepicker with Vue.js, but I have some problems regarding the adding and deleting of items (in this case, Date objects)</p>\n\n<p>I have already developed two javascript functions: one used for adding new Dates to an array, and another one for deleting specific dates in the same array. The thing is, when the website is loaded, I can perfectly add new dates and delete the dates that initially were created. But what I can't do is to add a new date and then delete it, because with the function I developed, the method used to return the index of the date in the array returns -1.</p>\n\n<pre><code>addDate: function(event) {\n   var fecha = document.getElementById(\"inputFecha\").value;\n   var fecha2 = new Date(fecha);\n   availableDates.push(fecha2);\n},\ndeleteDate: function(event) {\n   var collection = availableDates,\n      d = new Date(event.getFullYear(), event.getMonth(), event.getDate()),\n      idx;\n   idx = collection.map(Number).indexOf(+d);\n   if(idx!=-1){\n      availableDates.splice(idx,1);\n   }\n}\n</code></pre>\n\n<p>And some of the dates I initially created in the same file:</p>\n\n<pre><code>var availableDates = [];\navailableDates.push(new Date(2019, 2, 29));\navailableDates.push(new Date(2019, 2, 30));\navailableDates.push(new Date(2019, 2, 28));\n\n</code></pre>\n\n<p>What I need is the possibility to add and delete without having to recharge the website.</p>\n"}, {"tags": ["javascript"], "answers": [{"tags": [], "owner": {"reputation": 721, "user_id": 11268857, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mTRSSfkZJe8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcNs6tmD9Sdl_2-8HrQfRS1GTCaeQ/mo/photo.jpg?sz=128", "display_name": "jonathan Heindl", "link": "https://stackoverflow.com/users/11268857/jonathan-heindl"}, "is_accepted": false, "score": 0, "last_activity_date": 1553731321, "creation_date": 1553731321, "answer_id": 55388263, "question_id": 55388153, "link": "https://stackoverflow.com/questions/55388153/multiple-blinking-text-in-table/55388263#55388263", "title": "Multiple blinking text in table", "body": "<p>for multiple its easiest to go with the class descriptor</p>\n\n<pre><code>&lt;div id=\"announcement\" class=\"rTableCell blinking\"&gt;\n&lt;span style=\"color: #99cc00;\"&gt;groen&lt;/span&gt;&lt;/div&gt;\n\nfunction blink(target){\n    return function(){\n         target.style.visibility = (target.style.visibility == 'hidden' ? '' : 'hidden');\n    }\n}\n\nlet blinkers=document.getElementsByClassName('blinking');\nfor(let blinker of blinkers){\n   setInterval(blink(blinker), 500);\n}\n</code></pre>\n\n<p>like this should work (you need the return function structure to have the correct reference in the method)</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 11269185, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-DOOvonz8z2I/AAAAAAAAAAI/AAAAAAAAAHA/tT3TTAOGmcg/photo.jpg?sz=128", "display_name": "Marc Zeguers", "link": "https://stackoverflow.com/users/11269185/marc-zeguers"}, "edited": false, "score": 0, "creation_date": 1553777714, "post_id": 55388280, "comment_id": 97516481, "body": "Thank you for your reply. As I am a newbie in this kind of things, I couldn&#39;t manage to get it to work. I put the javascript code in the head, but where do I put the second block of code ? What to put in the body ? Thanks for clarifying this to me !"}, {"owner": {"reputation": 4237, "user_id": 10787900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Z6j7Qhowx8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ighhCw1JxvK6l7ZVG0ZYElO2DSUA/mo/photo.jpg?sz=128", "display_name": "Bibberty", "link": "https://stackoverflow.com/users/10787900/bibberty"}, "reply_to_user": {"reputation": 3, "user_id": 11269185, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-DOOvonz8z2I/AAAAAAAAAAI/AAAAAAAAAHA/tT3TTAOGmcg/photo.jpg?sz=128", "display_name": "Marc Zeguers", "link": "https://stackoverflow.com/users/11269185/marc-zeguers"}, "edited": false, "score": 0, "creation_date": 1553792496, "post_id": 55388280, "comment_id": 97526835, "body": "Ok, if you are going to put in the head it needs a slight tweak. Notice the demo html now puts announcement as a class."}], "tags": [], "owner": {"reputation": 4237, "user_id": 10787900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Z6j7Qhowx8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ighhCw1JxvK6l7ZVG0ZYElO2DSUA/mo/photo.jpg?sz=128", "display_name": "Bibberty", "link": "https://stackoverflow.com/users/10787900/bibberty"}, "is_accepted": false, "score": 1, "last_activity_date": 1553792647, "last_edit_date": 1553792647, "creation_date": 1553731432, "answer_id": 55388280, "question_id": 55388153, "link": "https://stackoverflow.com/questions/55388153/multiple-blinking-text-in-table/55388280#55388280", "title": "Multiple blinking text in table", "body": "<p>Use <code>querySelectorAll</code> and <code>classList.toggle</code></p>\n\n<p>Also note we have added a CSS class to do our hiding of the element.\nThe <code>toggle</code> call will add if it is not present and remove is it is.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function blinktext() {\r\n  document.querySelectorAll('.announcement').forEach(e =&gt;{\r\n  setInterval(() =&gt; {\r\n    console.log(e);\r\n    e.classList.toggle('hide');\r\n  }, 500);\r\n  });\r\n}\r\n\r\n// We use an event listener to only run our code once the HTML is \r\n// loaded and ready to be read.\r\ndocument.addEventListener('DOMContentLoaded', () =&gt; {\r\n  blinktext();\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.hide {\r\nvisibility: hidden;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"announcement rTableCell\"&gt;\r\n  &lt;span style=\"color: #99cc00;\"&gt;groen&lt;/span&gt;&lt;/div&gt;\r\n\r\n&lt;div class=\"announcement rTableCell\"&gt;\r\n  &lt;span style=\"color: #99cc00;\"&gt;groen&lt;/span&gt;&lt;/div&gt;\r\n\r\n&lt;div class=\"rTableCell\"&gt;\r\n  &lt;span style=\"color: #99cc00;\"&gt;groen&lt;/span&gt;&lt;/div&gt;\r\n\r\n&lt;div class=\"announcement rTableCell\"&gt;\r\n  &lt;span style=\"color: #99cc00;\"&gt;groen&lt;/span&gt;&lt;/div&gt;\r\n\r\n&lt;div class=\"rTableCell\"&gt;\r\n  &lt;span style=\"color: #99cc00;\"&gt;groen&lt;/span&gt;&lt;/div&gt;\r\n\r\n&lt;div class=\"announcement rTableCell\"&gt;\r\n  &lt;span style=\"color: #99cc00;\"&gt;groen&lt;/span&gt;&lt;/div&gt;\r\n\r\n&lt;div class=\"announcement rTableCell\"&gt;\r\n  &lt;span style=\"color: #99cc00;\"&gt;groen&lt;/span&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 11269185, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-DOOvonz8z2I/AAAAAAAAAAI/AAAAAAAAAHA/tT3TTAOGmcg/photo.jpg?sz=128", "display_name": "Marc Zeguers", "link": "https://stackoverflow.com/users/11269185/marc-zeguers"}, "edited": false, "score": 0, "creation_date": 1553775515, "post_id": 55388474, "comment_id": 97514960, "body": "Thank you very much, I managed to use CSS to get the right result."}], "tags": [], "owner": {"reputation": 16, "user_id": 11269261, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/73efadaf75c80a5f64c752bc23f6aba0?s=128&d=identicon&r=PG", "display_name": "user4723924", "link": "https://stackoverflow.com/users/11269261/user4723924"}, "is_accepted": true, "score": 0, "last_activity_date": 1553733124, "creation_date": 1553733124, "answer_id": 55388474, "question_id": 55388153, "link": "https://stackoverflow.com/questions/55388153/multiple-blinking-text-in-table/55388474#55388474", "title": "Multiple blinking text in table", "body": "<p>I strongly suggest not to use setInterval() for this simple job and just stick to CSS animation like this:</p>\n\n<p>The elements that need to blink should include this line in their style...</p>\n\n<pre><code> animation:Blink 2000ms linear 0s infinite none;\n</code></pre>\n\n<p>And then add this to your CSS section independently...</p>\n\n<pre><code> @keyframes Blink{from{background:white;} to{background:black;}}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11269185, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-DOOvonz8z2I/AAAAAAAAAAI/AAAAAAAAAHA/tT3TTAOGmcg/photo.jpg?sz=128", "display_name": "Marc Zeguers", "link": "https://stackoverflow.com/users/11269185/marc-zeguers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 55388474, "answer_count": 3, "score": 0, "last_activity_date": 1553792647, "creation_date": 1553730524, "last_edit_date": 1553731425, "question_id": 55388153, "link": "https://stackoverflow.com/questions/55388153/multiple-blinking-text-in-table", "title": "Multiple blinking text in table", "body": "<p>This javascript I've found on the internet. With this in my table I can only get the first textbox blinking, the next time I want another textbox blinking it doesn't work. I'm a beginner, thanks for your support.</p>\n\n<p>I've tried a second variable in the javascript, I've also copied the javascript with a different id. Still no luck...</p>\n\n<p>In head I've placed:</p>\n\n<pre><code> &lt;script language=\"javascript\"&gt;\nfunction blinktext() {\n  var f = document.getElementById('announcement');\n  setInterval(function() {\n    f.style.visibility = (f.style.visibility == 'hidden' ? '' : 'hidden');\n  }, 500);\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>In html I used:</p>\n\n<pre><code>&lt;div id=\"announcement\" class=\"rTableCell\"&gt;\n&lt;span style=\"color: #99cc00;\"&gt;groen&lt;/span&gt;&lt;/div&gt;\n</code></pre>\n\n<p>I expect to have multiple boxes in my table to blink\nMy table is here: <a href=\"https://zappi.info/faq-howto/hub/42-led-referentie-tabel\" rel=\"nofollow noreferrer\">https://zappi.info/faq-howto/hub/42-led-referentie-tabel</a></p>\n"}, {"tags": ["javascript", "google-apps-script"], "comments": [{"owner": {"reputation": 8677, "user_id": 9337071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e52afdb783a619060eb2b0c0cb5766d3?s=128&d=identicon&r=PG&f=1", "display_name": "tehhowch", "link": "https://stackoverflow.com/users/9337071/tehhowch"}, "edited": false, "score": 0, "creation_date": 1553730514, "post_id": 55388129, "comment_id": 97498111, "body": "You aren&#39;t missing anything except what constitutes a triggering event. Formula updates and programmatic updates? Nope. User edits? Yep."}, {"owner": {"reputation": 8677, "user_id": 9337071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e52afdb783a619060eb2b0c0cb5766d3?s=128&d=identicon&r=PG&f=1", "display_name": "tehhowch", "link": "https://stackoverflow.com/users/9337071/tehhowch"}, "edited": false, "score": 0, "creation_date": 1553730643, "post_id": 55388129, "comment_id": 97498150, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/52087609/trigger-script-on-non-manual-change-edit-to-cell-google-script\">Trigger script on non manual change/edit to cell - google script</a>"}, {"owner": {"reputation": 143, "user_id": 7552709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec24349e0a04fc1b7f1b861aafe4254f?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/7552709/alex"}, "reply_to_user": {"reputation": 8677, "user_id": 9337071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e52afdb783a619060eb2b0c0cb5766d3?s=128&d=identicon&r=PG&f=1", "display_name": "tehhowch", "link": "https://stackoverflow.com/users/9337071/tehhowch"}, "edited": false, "score": 0, "creation_date": 1553733109, "post_id": 55388129, "comment_id": 97498713, "body": "I edited my question as you asked. But it&#39;s not the same as the link you provided. The link  shows how to compared with values in another sheet to make the operation. I don&#39;t know the values that will be there. I just want something to happen when the sheet changes in general."}, {"owner": {"reputation": 8677, "user_id": 9337071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e52afdb783a619060eb2b0c0cb5766d3?s=128&d=identicon&r=PG&f=1", "display_name": "tehhowch", "link": "https://stackoverflow.com/users/9337071/tehhowch"}, "edited": false, "score": 0, "creation_date": 1553733661, "post_id": 55388129, "comment_id": 97498825, "body": "There are probably better suggested duplicates. My point was that if you need to catch programmatic edits, you need to use a time based trigger and compare current state with a stored state. Or just modify the other function to call your edit handler."}], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 7552709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec24349e0a04fc1b7f1b861aafe4254f?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/7552709/alex"}, "edited": false, "score": 0, "creation_date": 1553733815, "post_id": 55388480, "comment_id": 97498854, "body": "OK... In my initial question, I had said that whenever a change happens on &quot;data&quot; sheet it puts a time stamp in &quot;other&quot; sheet.  Because all these sheets are on in the same spreadsheet, no matter what change I do in any of the spreadsheets, it works. However, I only want it for when the &quot;Data&quot; sheet is changed."}, {"owner": {"reputation": 143, "user_id": 7552709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec24349e0a04fc1b7f1b861aafe4254f?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/7552709/alex"}, "edited": false, "score": 0, "creation_date": 1553735182, "post_id": 55388480, "comment_id": 97499174, "body": "OK, I understand now... The source event is for all the sheets. I thought I needed to assign the event somehow to sheet first before using it. But it looks like it looks at everything going on in the spreadsheet. Jeez.... Thank you!"}, {"owner": {"reputation": 34507, "user_id": 7215091, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/2pNI4.jpg?s=128&g=1", "display_name": "MetaMan", "link": "https://stackoverflow.com/users/7215091/metaman"}, "reply_to_user": {"reputation": 143, "user_id": 7552709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec24349e0a04fc1b7f1b861aafe4254f?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/7552709/alex"}, "edited": false, "score": 0, "creation_date": 1553736629, "post_id": 55388480, "comment_id": 97499453, "body": "Yes all scripts in a given project have access to all sheets within the spreadsheet."}], "tags": [], "owner": {"reputation": 34507, "user_id": 7215091, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/2pNI4.jpg?s=128&g=1", "display_name": "MetaMan", "link": "https://stackoverflow.com/users/7215091/metaman"}, "is_accepted": true, "score": 1, "last_activity_date": 1553734607, "last_edit_date": 1553734607, "creation_date": 1553733154, "answer_id": 55388480, "question_id": 55388129, "link": "https://stackoverflow.com/questions/55388129/event-from-one-sheet-dumping-timestamp-on-another-sheet/55388480#55388480", "title": "Event from one sheet dumping timestamp on another sheet", "body": "<p>try this:</p>\n\n<pre><code>function onEdit(e) {\n  if(e.range.getSheet().getName()=='Other'){return;}  \n  e.source.getSheetByName('Other').getRange(2,1).setValue(Utilities.formatDate(new Date(), Session.getScriptTimeZone(), \"MM/dd/yyyy HH:mm:ss\"));\n}\n</code></pre>\n\n<p>Note: this event only occurs on user edits.</p>\n\n<ul>\n<li><a href=\"https://developers.google.com/apps-script/guides/triggers/#restrictions\" rel=\"nofollow noreferrer\">Simple Trigger Restrictions</a></li>\n</ul>\n\n<pre><code>    function onEdit(e) {\n      if(e.range.getSheet().getName()!='Data' ) {return;}\n      e.source.getSheetByName('Other').getRange(2,1).setValue(Utilities.formatDate(new Date(), Session.getScriptTimeZone(), \"MM/dd/yyyy HH:mm:ss\"));\n    }\n\n\n</code></pre>\n"}], "owner": {"reputation": 143, "user_id": 7552709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec24349e0a04fc1b7f1b861aafe4254f?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/7552709/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 55388480, "answer_count": 1, "score": 0, "last_activity_date": 1553734607, "creation_date": 1553730285, "last_edit_date": 1553732979, "question_id": 55388129, "link": "https://stackoverflow.com/questions/55388129/event-from-one-sheet-dumping-timestamp-on-another-sheet", "title": "Event from one sheet dumping timestamp on another sheet", "body": "<p>I need to create an operation on another sheet of where the event came from. </p>\n\n<p>For example, when any cell in the \"data\" sheet is edited/changed, dump a timestamp in the \"other\" sheet (within the same spreadsheet). If it helps to make the code faster, the \"data\" sheet will at least always have cell 1,1 edited even if it's the same value because something else automatically dumps data and re-writes the entire \"data\" sheet.</p>\n\n<p>The main problem is that I don't know what value to compare the conditional statement with since I don't know what values will change in the see. See below.</p>\n\n<pre><code>// Dumps the timestamp of the last time the \"Data\" sheet was edited\nfunction onEdit(e){\n  var dataSheetLastColumn = thisSpreadsheet.getSheetByName(\"Data\").getLastColumn();\n  var dataSheetLastRow = thisSpreadsheet.getSheetByName(\"Data\").getLastRow();\n  var dataSheetEvent = e.source.getSheetByName(\"Data\").getRange(1, 1, dataSheetLastRow, dataSheetLastColumn);\n\n  // puts a time-stamp on another sheet\n  var theOtherSheet = thisSpreadsheet.getSheetByName(\"Other\");\n  theOtherSheet.getRange(2, 1).setValue(new Date());\n}\n</code></pre>\n"}, {"tags": ["javascript", "class"], "comments": [{"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1553730351, "post_id": 55388114, "comment_id": 97498063, "body": "None of your codes work because you should be referencing <code>dog.</code>, not <code>Animal.</code> when calling the instance method. Your third code also does not work because <code>find_name_of_animal</code> was not invoked, only referenced"}, {"owner": {"reputation": 1, "user_id": 11269196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4181241faed95243f19fabecaef32312?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/11269196/john-doe"}, "reply_to_user": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1553730677, "post_id": 55388114, "comment_id": 97498154, "body": "I am sorry, I fixed it."}], "owner": {"reputation": 1, "user_id": 11269196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4181241faed95243f19fabecaef32312?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/11269196/john-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "closed_date": 1553730161, "answer_count": 0, "score": 0, "last_activity_date": 1553730560, "creation_date": 1553730089, "last_edit_date": 1553730560, "question_id": 55388114, "link": "https://stackoverflow.com/questions/55388114/what-is-difference-between-two-functions-in-class-returning-the-same-value", "closed_reason": "Duplicate", "title": "What is difference between two functions in class returning the same value", "body": "<p>What is the difference between this:</p>\n\n<pre><code>class Animal {\n    constructor(name) {\n        this.name = name;\n    }\n\n    get name_of_animal() {\n        return this.name;\n    }\n}\n\nconst dog = new Animal(\"Max\");\nconsole.log(dog.name_of_animal); // Max\n</code></pre>\n\n<p>And this:</p>\n\n<pre><code>class Animal {\n    constructor(name) {\n        this.name = name;\n    }\n\n    name_of_animal() {\n        return this.name;\n    }\n}\n\nconst dog = new Animal(\"Max\");\nconsole.log(dog.name_of_animal()); // Max\n</code></pre>\n\n<p>I've also seen this:</p>\n\n<pre><code>class Animal {\n    constructor(name) {\n        this.name = name;\n    }\n\n    get name_of_animal() {\n        return this.find_name_of_animal();\n    }\n\n    find_name_of_animal() {\n        return this.name;\n    }\n}\n\nconst dog = new Animal(\"Max\");\nconsole.log(dog.name_of_animal); // Max\n</code></pre>\n\n<p>The last code looks useless, but what 'bout two above it?</p>\n\n<p>Both of codes, first and second, returning the same value.</p>\n\n<p>Thanks for reply.</p>\n"}, {"tags": ["javascript", "r", "google-chrome", "shiny"], "comments": [{"owner": {"reputation": 2421, "user_id": 6356210, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/seE2a.jpg?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/6356210/mark"}, "edited": false, "score": 0, "creation_date": 1553774250, "post_id": 55388079, "comment_id": 97514200, "body": "I see that Stephane who often answers my own questions has posted a nice answer.  I am curious how you make GIFs in your app by the way, as I might have a use for that in my own program that i&#39;m building."}, {"owner": {"reputation": 1238, "user_id": 5057346, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1DuGn.jpg?s=128&g=1", "display_name": "ixodid", "link": "https://stackoverflow.com/users/5057346/ixodid"}, "reply_to_user": {"reputation": 2421, "user_id": 6356210, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/seE2a.jpg?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/6356210/mark"}, "edited": false, "score": 0, "creation_date": 1553820951, "post_id": 55388079, "comment_id": 97538285, "body": "The hard work is done by Thomas Lin Pedersen&#39;s transformr package: <a href=\"https://github.com/thomasp85/transformr\" rel=\"nofollow noreferrer\">github.com/thomasp85/transformr</a>. If you can get whatever shapes you wish to morph into a simple feature object (<a href=\"https://cran.r-project.org/web/packages/sf/vignettes/sf1.html\" rel=\"nofollow noreferrer\">cran.r-project.org/web/packages/sf/vignettes/sf1.html</a>) then transformr can generate an animated gif for you."}, {"owner": {"reputation": 2421, "user_id": 6356210, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/seE2a.jpg?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/6356210/mark"}, "edited": false, "score": 0, "creation_date": 1553971390, "post_id": 55388079, "comment_id": 97586590, "body": "Ah that probably wont be suitable for making a gif of plots or pngs there of"}], "answers": [{"comments": [{"owner": {"reputation": 2421, "user_id": 6356210, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/seE2a.jpg?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/6356210/mark"}, "edited": false, "score": 0, "creation_date": 1553774102, "post_id": 55393764, "comment_id": 97514122, "body": "very elegant solution to not need javascript at all I would say St&#233;phane"}, {"owner": {"reputation": 1238, "user_id": 5057346, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1DuGn.jpg?s=128&g=1", "display_name": "ixodid", "link": "https://stackoverflow.com/users/5057346/ixodid"}, "edited": false, "score": 0, "creation_date": 1553820482, "post_id": 55393764, "comment_id": 97538203, "body": "I like the no Javascript. However, it does not work for me. I think the problem is that in my R script that does the letter morphing there is no ani2.gif. The script morphs symbols into a word that the user types in. The resulting animated gif is always stored as ani.gif. That is why in my example I am always displaying ani.gif. ani2.gif is just a stand-in for the next animated gif that gets created and is saved as ani.gif."}, {"owner": {"reputation": 1238, "user_id": 5057346, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1DuGn.jpg?s=128&g=1", "display_name": "ixodid", "link": "https://stackoverflow.com/users/5057346/ixodid"}, "edited": false, "score": 0, "creation_date": 1553821254, "post_id": 55393764, "comment_id": 97538348, "body": "Is there a way to manually tell the &quot;reactive value&quot; object, &quot;gif&quot; that it has changed?"}], "tags": [], "owner": {"reputation": 46777, "user_id": 1100107, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8789d3da0b482bcd8e562bfdf3687c74?s=128&d=identicon&r=PG", "display_name": "St&#233;phane Laurent", "link": "https://stackoverflow.com/users/1100107/st%c3%a9phane-laurent"}, "is_accepted": false, "score": 1, "last_activity_date": 1553764139, "creation_date": 1553764139, "answer_id": 55393764, "question_id": 55388079, "link": "https://stackoverflow.com/questions/55388079/problem-when-reloading-an-animated-gif-in-chrome-part-ii/55393764#55393764", "title": "Problem when reloading an animated GIF in Chrome - Part II", "body": "<p>Can't you simply do</p>\n\n<pre><code>library(shiny)\n\n# Define UI ----\nui &lt;- fluidPage(\n  uiOutput('anim_plot'),\n  fluidRow(\n    column(3,  \n           actionButton(\"do_again\", \"Again\")\n    )\n  )\n)\n\n# Define server logic ----\nserver &lt;- function(input, output) {\n\n  gif &lt;- reactiveVal(\"ani.gif\")\n\n  observeEvent(input$do_again, {\n    gif(\"ani2.gif\")\n  })\n\n  output$anim_plot &lt;- renderUI({\n    img(src = gif(), width = \"256\")\n  })\n\n}\n\nshinyApp(ui = ui, server = server)  \n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/SoG1z.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SoG1z.gif\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1238, "user_id": 5057346, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1DuGn.jpg?s=128&g=1", "display_name": "ixodid", "link": "https://stackoverflow.com/users/5057346/ixodid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553764139, "creation_date": 1553729708, "question_id": 55388079, "link": "https://stackoverflow.com/questions/55388079/problem-when-reloading-an-animated-gif-in-chrome-part-ii", "title": "Problem when reloading an animated GIF in Chrome - Part II", "body": "<p>Continuing from Mark's suggestion <a href=\"https://stackoverflow.com/questions/55213748/problem-when-reloading-an-animated-gif-in-chrome/55364883?noredirect=1#comment97488676_55364883\">here</a> I am now using <code>uiOutput</code> and <code>renderUI</code>.</p>\n\n<p>The code below displays an animated gif (\"anione\"). When the \"Again\" button is pressed it resets Chrome with Javascript in ways that I don't fully understand and then simulates my larger program by overwriting the original animated gif with another animated gif (\"anitwo\").</p>\n\n<p>However, \"anitwo\" is not displayed, \"anione\" is displayed. I can view the local file and see that it was written and view it successfully by opening it in Chrome. How do I view a different file of the same name?</p>\n\n<p>I realize that I am inconsistent in my use of \"www/tmp/ani.gif\" and \"tmp/ani.gif\" and understand that shiny looks for files in \"www\". Yet, without these inconsistencies I get file not found errors. </p>\n\n<p>ani.gif and ani2.gif are <a href=\"https://www.dropbox.com/s/i19zhzxrs18xgkz/ani_ani2.zip?dl=0\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<pre><code>library(shiny)\nlibrary(shinyjs)\nlibrary(magick)\n\njsCode &lt;- '\nshinyjs.reset_anim = function() {\n  var div_elem = document.getElementById(\"anim_plot\");\n  var img_elem = div_elem.getElementsByTagName(\"img\")[0];\n  var src_value = img_elem.getAttribute(\"src\");\n  img_elem.setAttribute(\"src\", \"\");\n  img_elem.setAttribute(\"src\", src_value);\n}\n'\n\n\n# Define UI ----\nui &lt;- fluidPage(useShinyjs(),\n                extendShinyjs(text = jsCode),\n                uiOutput('anim_plot'),\n                fluidRow(\n                  column(3,  \n                         actionButton(\"do_again\", \"Again\")\n                  )\n                )\n)\n\n# Define server logic ----\nserver &lt;- function(input, output) {\n\n\n  output$anim_plot &lt;- renderUI({\n    img(src = 'tmp/ani.gif',\n        width = '900')\n  })\n\n  observeEvent(input$do_again, {\n    print(\"Again\")\n    js$reset_anim()\n\n    # When Again clicked, simulate the creation of a new animated gif by reading in a file and \n    # over writing the old one. Try displaying this new animated gif.\n\n    img2 &lt;- image_read(\"www/tmp/ani2.gif\")\n    image_write(img2, path = \"www/tmp/ani.gif\")\n\n    output$anim_plot &lt;- renderUI({\n      img(src = 'tmp/ani.gif',\n          width = '900')\n    })\n  })\n}\n\nshinyApp(ui = ui, server = server)  \n</code></pre>\n"}, {"tags": ["javascript", "api", "xmlhttprequest"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1553729920, "post_id": 55388067, "comment_id": 97497964, "body": "You&#39;re not checking the <code>readyState</code> in your <code>onreadystatechange</code> event handler. The response will only be complete when <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/readyState\" rel=\"nofollow noreferrer\"><code>readyState</code></a> is <code>complete</code>."}], "answers": [{"tags": [], "owner": {"reputation": 448, "user_id": 10199179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rCoBS.png?s=128&g=1", "display_name": "Luis Barajas", "link": "https://stackoverflow.com/users/10199179/luis-barajas"}, "is_accepted": false, "score": 1, "last_activity_date": 1553729931, "creation_date": 1553729931, "answer_id": 55388097, "question_id": 55388067, "link": "https://stackoverflow.com/questions/55388067/how-to-get-json-response-from-public-api-into-json-object/55388097#55388097", "title": "How to get JSON response from public API into JSON object?", "body": "<p>In your function <code>onreadystatechange</code> you have</p>\n\n<pre><code>Http.onreadystatechange=(e)=&gt;{\n    jsonData = Http.response;\n    jsonActual = JSON.parse(jsonData.toString());\n\n  }\n</code></pre>\n\n<p>Try to do this instead:</p>\n\n<pre><code>Http.onreadystatechange=(e)=&gt;{\n    if (this.readyState === 4) {\n         jsonData = Http.response;\n         jsonActual = JSON.parse(jsonData.toString());\n    }\n\n  }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 1, "creation_date": 1553730979, "post_id": 55388107, "comment_id": 97498229, "body": "<code>res.json()</code> returns parsed array/object ... pointless to JSON.parse() it"}, {"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "reply_to_user": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1553733493, "post_id": 55388107, "comment_id": 97498784, "body": "Oh yes sorry @charlietfl."}], "tags": [], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "is_accepted": true, "score": 1, "last_activity_date": 1553730017, "creation_date": 1553730017, "answer_id": 55388107, "question_id": 55388067, "link": "https://stackoverflow.com/questions/55388067/how-to-get-json-response-from-public-api-into-json-object/55388107#55388107", "title": "How to get JSON response from public API into JSON object?", "body": "<p>Your <code>readyState</code> is never checked if it is <code>complete</code>:</p>\n\n<pre><code>Http.onreadystatechange = e =&gt; {\n    if (this.readyState == \"complete\") {\n        jsonData = Http.response;\n        jsonActual = JSON.parse(jsonData.toString());\n    }\n}\n</code></pre>\n\n<p>You could also check against <code>4</code>:</p>\n\n<pre><code>Http.onreadystatechange = e =&gt; {\n    if (this.readyState == 4) {\n        jsonData = Http.response;\n        jsonActual = JSON.parse(jsonData.toString());\n    }\n}\n</code></pre>\n\n<p>And you could just make it even simpler and use <code>fetch</code>:</p>\n\n<pre><code>let jsonData;\nlet jsonActual;\nfunction GetWeather(city, country){\n    fetch(`${weatherUrl}${city},${country}${weatherKey}`).then(res =&gt; res.json()).then(res =&gt; {\n        jsonData = res;\n        jsonActual = JSON.parse(res);\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 9054142, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tUi9_XMGv_Q/AAAAAAAAAAI/AAAAAAAAAAs/4bwIkF766ZM/photo.jpg?sz=128", "display_name": "Jordan Zdimirovic", "link": "https://stackoverflow.com/users/9054142/jordan-zdimirovic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1876, "favorite_count": 0, "closed_date": 1553761678, "accepted_answer_id": 55388107, "answer_count": 2, "score": 1, "last_activity_date": 1553730017, "creation_date": 1553729593, "question_id": 55388067, "link": "https://stackoverflow.com/questions/55388067/how-to-get-json-response-from-public-api-into-json-object", "closed_reason": "Duplicate", "title": "How to get JSON response from public API into JSON object?", "body": "<p>I'm attempting to get some data from the OpenWeatherMap API. When I send the request with the required API key and location data, everything returns back fine. The returned data appears to be in JSON format. However, when I perform the JSON.parse() function on the string, it gives an error of \"unexpected end of input\".</p>\n\n<p>One thing that I found interesting was that if I was to store the string into a variable and then proceed to execute the function in Chrome's debug console, it completes fine.</p>\n\n<pre><code>let jsonData;\nlet jsonActual;\nfunction GetWeather(city, country){\n  Http = new XMLHttpRequest();\n  Http.open(\"GET\", weatherUrl + city + \",\" + country + weatherKey);\n  Http.send();\n  Http.onreadystatechange=(e)=&gt;{\n    jsonData = Http.response;\n    jsonActual = JSON.parse(jsonData.toString());\n\n  }\n}\n</code></pre>\n\n<p>On using the console:</p>\n\n<pre><code>x = JSON.parse(jsonData) // Completes successfully\n</code></pre>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 762, "user_id": 4949386, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a4f78608dae9e9cf14a732e366ea016a?s=128&d=identicon&r=PG&f=1", "display_name": "zino", "link": "https://stackoverflow.com/users/4949386/zino"}, "edited": false, "score": 0, "creation_date": 1553729790, "post_id": 55388055, "comment_id": 97497932, "body": "Why not use a library like <a href=\"https://github.com/kenwheeler/slick/\" rel=\"nofollow noreferrer\">github.com/kenwheeler/slick</a>?"}, {"owner": {"reputation": 777, "user_id": 9693461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P141W.png?s=128&g=1", "display_name": "Zac", "link": "https://stackoverflow.com/users/9693461/zac"}, "edited": false, "score": 0, "creation_date": 1553729928, "post_id": 55388055, "comment_id": 97497965, "body": "This where you would use Javascript, css is not really a programming language to handle stuff like this. You can use the javascript function <code>setInterval()</code> to set an interval time in milliseconds to fire a function to manipulate the styling on the element(s). There&#39;s many libraries out there to help you do this, including bootstrap.  <a href=\"https://www.w3schools.com/bootstrap/bootstrap_ref_js_carousel.asp\" rel=\"nofollow noreferrer\">w3schools.com/bootstrap/bootstrap_ref_js_carousel.asp</a>"}, {"owner": {"reputation": 1555, "user_id": 1236352, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/1111d2fc2c816a54ab2679ecf0343aa2?s=128&d=identicon&r=PG", "display_name": "LTech", "link": "https://stackoverflow.com/users/1236352/ltech"}, "edited": false, "score": 0, "creation_date": 1553730421, "post_id": 55388055, "comment_id": 97498081, "body": "I&#39;m using sage and if I try and add javascript to the route file the page just reloads again and again."}, {"owner": {"reputation": 5016, "user_id": 4254681, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/17tFz.jpg?s=128&g=1", "display_name": "Duannx", "link": "https://stackoverflow.com/users/4254681/duannx"}, "edited": false, "score": 0, "creation_date": 1553745258, "post_id": 55388055, "comment_id": 97501119, "body": "Here is an example of pure css slider. But it&#39;s not flexbox. Maybe you want it <a href=\"https://codepen.io/drygiel/pen/rtpnE\" rel=\"nofollow noreferrer\">codepen.io/drygiel/pen/rtpnE</a>"}], "owner": {"reputation": 1555, "user_id": 1236352, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/1111d2fc2c816a54ab2679ecf0343aa2?s=128&d=identicon&r=PG", "display_name": "LTech", "link": "https://stackoverflow.com/users/1236352/ltech"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 191, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1553757761, "creation_date": 1553729541, "last_edit_date": 1553757761, "question_id": 55388055, "link": "https://stackoverflow.com/questions/55388055/can-one-use-css-to-loop-a-flexbox-slider", "title": "Can one use css to loop a flexbox slider?", "body": "<p>I've built a carousel using flexbox: \nI need it to slide every 3 seconds and repeat the loop\nAdd previous and next buttons on the sides\nAdd navigation dots under it. \nIs there a way to do this with css? Or do I need to use jquery? \nThis is my carousel code: </p>\n\n<pre><code>&lt;section class=\"section section-logo\"&gt;\n Logo Carousel\n&lt;div class=\"logo_carousel\"&gt;\n&lt;?php   \n    if( have_rows('logos') );\n     while( have_rows('logos') ): the_row(); \n        $image = get_sub_field('logo_image');\n        $content = get_sub_field('name');\n?&gt;\n    &lt;span class=\"logo_slide\"&gt;\n        &lt;img src=\"&lt;?php echo $image['url']; ?&gt;\" /&gt;\n    &lt;/span&gt;\n\n    &lt;?php endwhile; ?&gt;\n    &lt;?php endif; ?&gt;\n&lt;/div&gt;\n&lt;/section&gt;\n</code></pre>\n\n<p>This is the css: </p>\n\n<pre><code>   .section-logo {\n  width: 100%;\n  height: 100%;\n}\n\n.logo_carousel {\n  margin: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  overflow-x: auto;\n}\n\n.logo_carousel::-webkit-scrollbar {\n  display: none;\n}\n\n.logo_slide img {\n  width: 195px;\n  height: 115px;\n}\n\n.logo_slide {\n  flex-shrink: 0;               /* added, so it won't shrink  */\n  display: flex;                /*  added  */\n  align-items: center;          /*  added  */\n  justify-content: center;      /*  added animation: slide-it 10s infinite; */\n  width: 195px;\n  height: 115px;\n  margin: 5px;\n}\n\n.logo_slide:hover .logo_tt {\n  visibility: visible;\n}\n</code></pre>\n\n<p>Also I'm trying to add the navigation icons and the slider arrows with html code after <code>&lt;div class=\"logo_carousel\"&gt;</code> but it is not showing up. Where should I place this code? \nIf I need to use javascript how should I make it slide using javascript? </p>\n"}, {"tags": ["javascript", "html", "node.js"], "comments": [{"owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "edited": false, "score": 2, "creation_date": 1553729672, "post_id": 55388048, "comment_id": 97497892, "body": "You&#39;re asking about two completely different things here; NodeJS has nothing to do with reading data from a text file - raw JavaScript can handle this. Also, you <i>really</i> shouldn&#39;t use text files to store passwords in the first place. You should be calling off to a server-side database to handle any authentication. If you do indeed want NodeJS (it&#39;s optional to achieve this), it&#39;s something you&#39;ll need to download manually from <a href=\"https://nodejs.org/en/\" rel=\"nofollow noreferrer\"><b>NodeJs.Org</b></a>, and it will allow you to use the NodeJS Package Manager (<a href=\"https://flaviocopes.com/npm/\" rel=\"nofollow noreferrer\"><b>NPM</b></a>)."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1553730466, "post_id": 55388048, "comment_id": 97498098, "body": "What you want is actually not possible, since, in a browser you can NOT read from the local filesystem like that, fortunately, since if you could, surfing the internet would be completely unsafe"}, {"owner": {"reputation": 67, "user_id": 7716517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/017401aa8a10112b12bc02cc0d5e7248?s=128&d=identicon&r=PG&f=1", "display_name": "MiniMiloe", "link": "https://stackoverflow.com/users/7716517/minimiloe"}, "edited": false, "score": 0, "creation_date": 1553730694, "post_id": 55388048, "comment_id": 97498165, "body": "is there no way I could use a txt file thats on the web server and read from that?"}, {"owner": {"reputation": 338, "user_id": 3330489, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9654aa854dfe059c85ce2176258497b6?s=128&d=identicon&r=PG", "display_name": "JuanIsFree", "link": "https://stackoverflow.com/users/3330489/juanisfree"}, "edited": false, "score": 0, "creation_date": 1553731243, "post_id": 55388048, "comment_id": 97498279, "body": "What you want is to have your client code make a request to your server code.  So your script tag would perhaps use an AJAX request to hit a Node API endpoint.  You could use NPM to install a framework for APIs (like Express).  Each of those has pretty great documentation, so you&#39;ll want to work on your client code and server code both."}, {"owner": {"reputation": 145537, "user_id": 362536, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/da5816365344305a614343a4065a2786?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/362536/brad"}, "edited": false, "score": 0, "creation_date": 1553736996, "post_id": 55388048, "comment_id": 97499518, "body": "Node.js and the browser are both entirely different contexts that both can run JavaScript.  Filesystem APIs like <code>fs</code> are provided by Node."}, {"owner": {"reputation": 92307, "user_id": 167735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5deb8de031f80c23f19e9b6d389e5afe?s=128&d=identicon&r=PG", "display_name": "slebetman", "link": "https://stackoverflow.com/users/167735/slebetman"}, "edited": false, "score": 0, "creation_date": 1553738011, "post_id": 55388048, "comment_id": 97499719, "body": "Everyone is guessing what you are trying to do. This is a classic symptom of an XY problem. Describe what your objective is, not just what how to use a mechanism (that experienced developers know don&#39;t work) to achieve your objective."}], "answers": [{"tags": [], "owner": {"reputation": 16, "user_id": 11269261, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/73efadaf75c80a5f64c752bc23f6aba0?s=128&d=identicon&r=PG", "display_name": "user4723924", "link": "https://stackoverflow.com/users/11269261/user4723924"}, "is_accepted": false, "score": -1, "last_activity_date": 1553731521, "creation_date": 1553731521, "answer_id": 55388294, "question_id": 55388048, "link": "https://stackoverflow.com/questions/55388048/how-do-i-run-node-js-in-my-java-script-code/55388294#55388294", "title": "How do I run node.js in my Java script code?", "body": "<p>Sounds like you may need to consider creating a desktop app to work with the website.</p>\n\n<p>Reading in a text file with node.js on the client side, is very easy if you use either NW or Electron. These programs take your HTML +CSS + JS and produce an executable app that has access to node.js and a Chromium window.</p>\n\n<p>So your desktop app could then communicate with your website.</p>\n\n<p>NW:\n<a href=\"https://nwjs.io/\" rel=\"nofollow noreferrer\">https://nwjs.io/</a></p>\n\n<p>Electron:\n<a href=\"https://electronjs.org/\" rel=\"nofollow noreferrer\">https://electronjs.org/</a></p>\n\n<p>I use the former and it works like a charm. In fact the only trouble I ever get is from the countless Chromium bugs.</p>\n"}, {"comments": [{"owner": {"reputation": 145537, "user_id": 362536, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/da5816365344305a614343a4065a2786?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/362536/brad"}, "edited": false, "score": 0, "creation_date": 1553736891, "post_id": 55388884, "comment_id": 97499494, "body": "This question has absolutely nothing to do with PHP."}, {"owner": {"reputation": 5986, "user_id": 121363, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9748cd64cfe438dce98ffddb2e5791de?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/121363/chris"}, "edited": false, "score": 0, "creation_date": 1553737141, "post_id": 55388884, "comment_id": 97499544, "body": "Are we using PHP just because?"}, {"owner": {"reputation": 36, "user_id": 11258141, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DCp05.jpg?s=128&g=1", "display_name": "Super-WhyDoYouWantToDoThat-Man", "link": "https://stackoverflow.com/users/11258141/super-whydoyouwanttodothat-man"}, "edited": false, "score": 0, "creation_date": 1553737169, "post_id": 55388884, "comment_id": 97499552, "body": "If the op is a newbie, it&#39;s a great place to start with nothing to go on."}, {"owner": {"reputation": 36, "user_id": 11258141, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DCp05.jpg?s=128&g=1", "display_name": "Super-WhyDoYouWantToDoThat-Man", "link": "https://stackoverflow.com/users/11258141/super-whydoyouwanttodothat-man"}, "edited": false, "score": 0, "creation_date": 1553737368, "post_id": 55388884, "comment_id": 97499591, "body": "If someone could please tell me why they are down voting this answer, that would be great!"}, {"owner": {"reputation": 5986, "user_id": 121363, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9748cd64cfe438dce98ffddb2e5791de?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/121363/chris"}, "edited": false, "score": 2, "creation_date": 1553737922, "post_id": 55388884, "comment_id": 97499699, "body": "The question was asked about and tagged javascript, html and node.js, not about PHP. I would assume that&#39;s why you&#39;re getting down voted since the answer does not address those topics."}, {"owner": {"reputation": 36, "user_id": 11258141, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DCp05.jpg?s=128&g=1", "display_name": "Super-WhyDoYouWantToDoThat-Man", "link": "https://stackoverflow.com/users/11258141/super-whydoyouwanttodothat-man"}, "edited": false, "score": 0, "creation_date": 1553738020, "post_id": 55388884, "comment_id": 97499722, "body": "He is one week into web dev and has a whole answer in php. What difference does it make if it&#39;s php or node.js?"}, {"owner": {"reputation": 92307, "user_id": 167735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5deb8de031f80c23f19e9b6d389e5afe?s=128&d=identicon&r=PG", "display_name": "slebetman", "link": "https://stackoverflow.com/users/167735/slebetman"}, "edited": false, "score": 0, "creation_date": 1553738196, "post_id": 55388884, "comment_id": 97499752, "body": "From MY understanding, this is the ONLY correct answer so far. The other answer does not do what I think the OP wants to do (the file is on his web server, not on the client). I particularly like using PHP here since it de-confuses the OP&#39;s notions of what runs in the server and what runs in the browser. Personally I think it&#39;s better than an actual node.js tutorial even though I prefer node and loathe PHP"}], "tags": [], "owner": {"reputation": 36, "user_id": 11258141, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DCp05.jpg?s=128&g=1", "display_name": "Super-WhyDoYouWantToDoThat-Man", "link": "https://stackoverflow.com/users/11258141/super-whydoyouwanttodothat-man"}, "is_accepted": true, "score": 1, "last_activity_date": 1553736557, "creation_date": 1553736557, "answer_id": 55388884, "question_id": 55388048, "link": "https://stackoverflow.com/questions/55388048/how-do-i-run-node-js-in-my-java-script-code/55388884#55388884", "title": "How do I run node.js in my Java script code?", "body": "<p>Caution before the answer: If you are new to website development and you are needing to make usernames and passwords, I want to caution you against putting vulnerable info pass the username and password wall. There are many sophisticated and non-sophisticated methods for getting behind passwords and usernames. Sometimes, this can be a struggle for experienced programmers. Amateur coding around sensitive info might make you liable for any compromises. Please note that I am not an attorney. Please check out any info I offer in this regard with a qualified, competent, &amp; licensed attorney at law in your jurisdiction.</p>\n\n<p>That said, the super proper way to do what you are trying to do is to use mysql in tandem with php. Rather than write out a fully fleshed out answer on that, I would rather refer you to javascript, php, and msql as a topic.</p>\n\n<p>Now to do what you want to do, this quick and dirty way with no expectation of basic  security: </p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Hey&lt;/title&gt;\n&lt;script&gt;\n\nfunction sendit()\n{\nif (document.getElementById(\"UserName\").value == \"\")\n{\nalert(\"Please Enter Something in the Username Field\");\n}\n\nif (document.getElementById(\"password1\").value == \"\")\n{\nalert(\"Please Enter Something in the Password Field\");\n}\n\nif (document.getElementById(\"UserName\").value != \"\" &amp;&amp; document.getElementById(\"password1\").value != \"\")\n{\nmy_form.action = \"yourphpfile.php\";\ndocument.my_form.submit();\n\n}\n}\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h3&gt;Welcome User &lt;br /&gt; Please enter your username and password&lt;/h3&gt;\n&lt;form method=\"post\" name=\"my_form\"&gt;\n&lt;h4&gt;User Name: &amp;nbsp; &lt;input type=\"text\" id=\"UserName\" name=\"UserNameN\" /&gt;&lt;/h4&gt;\n&lt;h4&gt;Password: &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;input type=\"password\" id=\"password1\" name=\"password1N\" /&gt;&lt;/h4&gt;&lt;br /&gt;\n&lt;input type=\"button\" value=\"Submit\" onClick=\"sendit()\"/&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Then you need to make the php page:</p>\n\n<pre><code>&lt;?PHP\n$UserName = $_POST['UserNameN'];\n$Password = $_POST['password1N'];\n\nfunction redirect($url)\n{\n   header('Location: ' . $url);\n   exit();\n}\n\nif ($UserName == \"BobTim\" and $Password == \"Password\")\n{\nsession_start();\n$_SESSION['username']= 'BobTim';\nredirect(\"abc123.html\");\nexit();\n}\n\n\nif ($UserName == \"Blake\" and $Password == \"12345\")\n{\nsession_start();\n$_SESSION['username']= 'Blake';\nredirect(\"abc123.html\");\nexit();\n}\n\nif ($UserName == \"George\" and $Password == \"ABCDEFG\")\n{\nsession_start();\n$_SESSION['username']= 'George';\nredirect(\"abc123.html\");\nexit();\n}\n\nif ($UserName == \"Steve\" and $Password == \"ILikeBlue\")\n{\nsession_start();\n$_SESSION['username']= 'Steve';\nredirect(\"abc123.html\");\nexit();\n}\n\nif ($UserName == \"Coco\" and $Password == \"IceCream\")\n{\nsession_start();\n$_SESSION['username']= 'Coco';\nredirect(\"abc123.html\");\nexit();\n}\n\n\nelse {\nredirect(\"sorry.html\");\nexit();\n}\n?&gt;\n</code></pre>\n\n<p>After you redirect to abc123.html, you make abc123.html with this at the top:</p>\n\n<pre><code>&lt;?PHP\nsession_start();\n\nif (!isset($_SESSION['username'])) {\nheader('Location: http://www.mybusinesssample.com/forbidden.html');\n}\n\n?&gt;\n\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Main Page&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;?PHP\nif (isset($_SESSION['username'])) {\necho \"Hi {$_SESSION['username']} &lt;br /&gt;&lt;a href='unset.php'&gt;Log Out&lt;/a&gt;&lt;br /&gt; &lt;br /&gt;\";\n}\n?&gt;\n</code></pre>\n\n<p>Now, you need a logout page which in this case is called unset.php:</p>\n\n<pre><code>&lt;?php\nsession_start();\nsession_destroy();\nheader ('Location: index.html');\n?&gt;\n</code></pre>\n\n<p>And if they don't make it through, you need to tell them sorry:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;&lt;/title&gt;\n&lt;script&gt;\n\nfunction sendit()\n{\nif (document.getElementById(\"UserName\").value == \"\")\n{\nalert(\"Please Enter Something in the Username Field\");\n}\n\nif (document.getElementById(\"password1\").value == \"\")\n{\nalert(\"Please Enter Something in the Password Field\");\n}\n\nif (document.getElementById(\"UserName\").value != \"\" &amp;&amp; document.getElementById(\"password1\").value != \"\")\n{\nmy_form.action = \"yourphpfile.php\";\ndocument.my_form.submit();\n}\n}\n\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h3&gt;Welcome User &lt;br /&gt; Please enter your username and password&lt;/h3&gt;\n&lt;form method=\"post\" name=\"my_form\"&gt;\n&lt;h4&gt;User Name: &amp;nbsp; &lt;input type=\"text\" id=\"UserName\" name=\"UserNameN\"/&gt;&lt;/h4&gt;\n&lt;h4&gt;Password: &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;input type=\"password\" id=\"password1\" name=\"password1N\" /&gt;&lt;/h4&gt;&lt;br /&gt;\nSorry! Your Username and/or your password wasn't recognized!   &lt;br /&gt;\n&lt;button type=\"button\" id=\"button\" onclick=\"sendit()\"&gt;Submit&lt;/button&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Lastly, I would like to thank you for making this old, old project relevant again.</p>\n"}], "owner": {"reputation": 67, "user_id": 7716517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/017401aa8a10112b12bc02cc0d5e7248?s=128&d=identicon&r=PG&f=1", "display_name": "MiniMiloe", "link": "https://stackoverflow.com/users/7716517/minimiloe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 55388884, "answer_count": 2, "score": 0, "last_activity_date": 1553736557, "creation_date": 1553729484, "question_id": 55388048, "link": "https://stackoverflow.com/questions/55388048/how-do-i-run-node-js-in-my-java-script-code", "title": "How do I run node.js in my Java script code?", "body": "<p>I'm quite new to web developing (a week or so in) and I understand I may be moving too quickly but I need some help as I don't quite understand this. What I have so far is a login page that compares the 2 inputs (username + password) to 2 constant variables. However the way I want it to work is comparing the inputs to 2 values I read from a text file, so I can have like a database of usernames/passwords. </p>\n\n<pre><code> &lt;script&gt;\n\nconst adminUserName = \"admin\";\nconst adminPassWord = \"123\";\n\n\nfunction getUsername(){\nvar username = document.getElementById(\"userName\").value;\nvar password = document.getElementById(\"passWord\").value;\n\nusername == adminUserName &amp;&amp; password == adminPassWord ? window.open (\"admin.html\",\"mywindow\"):\ndocument.write(\"Invalid entry.\")\n</code></pre>\n\n<p>}</p>\n\n<p>and the code I need to add (node.js) is </p>\n\n<pre><code>    var fs = require('fs')\n    fs.readFile('loginData.txt', 'utf8', function(err, data){\n    })\n</code></pre>\n\n<p>so how do I connect node.js to my website?\nSorry if I haven't explained well, also if you have a better idea for storing user data please feel free to explain (remember im new) :)</p>\n"}, {"tags": ["javascript", "firebase", "web-scraping", "google-cloud-functions", "nightmare"], "comments": [{"owner": {"reputation": 47898, "user_id": 966023, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/917fcb4327159076f752c0c3c3fddfbb?s=128&d=identicon&r=PG", "display_name": "pguardiario", "link": "https://stackoverflow.com/users/966023/pguardiario"}, "edited": false, "score": 1, "creation_date": 1553733961, "post_id": 55388013, "comment_id": 97498892, "body": "Is that with a node8 runtime? You might need to open a ticket. Post the answer if you solve it."}, {"owner": {"reputation": 1392, "user_id": 2922609, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/JRouJ.png?s=128&g=1", "display_name": "ivanibash", "link": "https://stackoverflow.com/users/2922609/ivanibash"}, "reply_to_user": {"reputation": 47898, "user_id": 966023, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/917fcb4327159076f752c0c3c3fddfbb?s=128&d=identicon&r=PG", "display_name": "pguardiario", "link": "https://stackoverflow.com/users/966023/pguardiario"}, "edited": false, "score": 0, "creation_date": 1553765969, "post_id": 55388013, "comment_id": 97509012, "body": "Done. My experience with firebase support is pretty good so far, will see what they come back with."}, {"owner": {"reputation": 1392, "user_id": 2922609, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/JRouJ.png?s=128&g=1", "display_name": "ivanibash", "link": "https://stackoverflow.com/users/2922609/ivanibash"}, "reply_to_user": {"reputation": 47898, "user_id": 966023, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/917fcb4327159076f752c0c3c3fddfbb?s=128&d=identicon&r=PG", "display_name": "pguardiario", "link": "https://stackoverflow.com/users/966023/pguardiario"}, "edited": false, "score": 0, "creation_date": 1553766014, "post_id": 55388013, "comment_id": 97509045, "body": "The runtime is Node 6"}, {"owner": {"reputation": 47898, "user_id": 966023, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/917fcb4327159076f752c0c3c3fddfbb?s=128&d=identicon&r=PG", "display_name": "pguardiario", "link": "https://stackoverflow.com/users/966023/pguardiario"}, "edited": false, "score": 0, "creation_date": 1553815256, "post_id": 55388013, "comment_id": 97536915, "body": "Try switching to node 8"}], "owner": {"reputation": 1392, "user_id": 2922609, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/JRouJ.png?s=128&g=1", "display_name": "ivanibash", "link": "https://stackoverflow.com/users/2922609/ivanibash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 142, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1563457653, "creation_date": 1553729188, "question_id": 55388013, "link": "https://stackoverflow.com/questions/55388013/nightmare-js-stalls-when-used-in-a-firebase-function", "title": "Nightmare JS stalls when used in a firebase function", "body": "<p>I'm trying to do some scraping with NightmareJS from a firebase function. Here is my code (minimum verifiable example)</p>\n\n<pre><code>const functions = require('firebase-functions');\nconst admin = require('firebase-admin')\nadmin.initializeApp()\nconst Nightmare =  require('nightmare');\n\nexports.helloWorld = functions.https.onRequest((request, response) =&gt; {\n  const nightmare =  Nightmare()\n  return nightmare.goto('https://apple.com')\n                  .end()\n                  .then(function() {\n                     console.log('success')\n                     response.status(200).send(\"Script successfully completed\")\n                  })\n                  .catch(function(data) {\n                     console.log('error')\n                     response.status(400).send('something went wrong' + data)\n                  })\n })\n</code></pre>\n\n<p>This code works perfectly fine when I'm testing the function locally. The script visits the page and then triggers <code>then()</code> clause. However, if I deploy and trigger the function, it will get to the <code>nightmare.goto</code> line, and then stall. It doesn't throw an error (if it did, it would be caught by the catch clause and I would get a response). Instead it times out after 60s. What's going on there?</p>\n\n<p>To explain for those not familiar with nightmareJS, <code>end()</code> turns the nightmare call chain into a promise. Again, the code works fine locally, which is the biggest clue. I thought it could be something with the fact that firebase doesn't allow outbound traffic on free plans, but after upgrading to blaze the problem is still there :(</p>\n"}, {"tags": ["javascript", "arrays", "vuejs2", "vue-component", "vuetify.js"], "comments": [{"owner": {"reputation": 14233, "user_id": 916000, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/eumU0.png?s=128&g=1", "display_name": "Taha Paksu", "link": "https://stackoverflow.com/users/916000/taha-paksu"}, "edited": false, "score": 0, "creation_date": 1553756618, "post_id": 55387933, "comment_id": 97504421, "body": "did you try <code>import Vue from &quot;vue&quot;;</code> and then using the global <code>Vue.$refs</code> variable?"}], "answers": [{"tags": [], "owner": {"reputation": 3676, "user_id": 1356141, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b9f8a46a2fc71a03471c213aa1d80649?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/1356141/marc"}, "is_accepted": true, "score": 1, "last_activity_date": 1553760857, "creation_date": 1553760857, "answer_id": 55392852, "question_id": 55387933, "link": "https://stackoverflow.com/questions/55387933/accessing-refs-array-inside-a-vue-js-instance-watch-object/55392852#55392852", "title": "Accessing $refs array inside a Vue JS Instance watch object", "body": "<p>It might be sat in $root because of where the component it is declared.</p>\n\n<p>If <code>$refs.prospectsTable</code> is not working then try <code>$root.$refs.prospectsTable</code>.</p>\n\n<p>Perhaps also this should be keys in a watcher as a string as so:</p>\n\n<pre><code>watch: {\n\n   '$refs.prospectsTable.filteredItems': function (value) {\n       console.log(value);\n   }\n\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 336, "user_id": 3360295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vTSjW.jpg?s=128&g=1", "display_name": "Falselight", "link": "https://stackoverflow.com/users/3360295/falselight"}, "edited": false, "score": 0, "creation_date": 1607632734, "post_id": 55396660, "comment_id": 115341379, "body": "Thank you. It&#39;s was helped me. Like"}], "tags": [], "owner": {"reputation": 3490, "user_id": 9272654, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4gx9ITQMa9M/AAAAAAAAAAI/AAAAAAAAAJM/BQAB9ZTbkWg/photo.jpg?sz=128", "display_name": "Patel Pratik", "link": "https://stackoverflow.com/users/9272654/patel-pratik"}, "is_accepted": false, "score": 2, "last_activity_date": 1553773076, "creation_date": 1553773076, "answer_id": 55396660, "question_id": 55387933, "link": "https://stackoverflow.com/questions/55387933/accessing-refs-array-inside-a-vue-js-instance-watch-object/55396660#55396660", "title": "Accessing $refs array inside a Vue JS Instance watch object", "body": "<p>The best way is to add watcher on the mounted. Try the following code.</p>\n\n<pre><code>mounted(){\n       this.$watch(\n        () =&gt; {\n            return this.$refs.prospectsTable.filteredItems\n        },\n      (val) =&gt; {\n        console.log(val)\n        alert('App $watch $refs.counter.i: ' + val)\n      }\n    )\n  }\n</code></pre>\n\n<p>Codepen - <a href=\"https://codesandbox.io/s/j7wjjypnxw\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/j7wjjypnxw</a></p>\n"}], "owner": {"reputation": 1505, "user_id": 3949381, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/VRBMi.jpg?s=128&g=1", "display_name": "McWayWeb", "link": "https://stackoverflow.com/users/3949381/mcwayweb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4008, "favorite_count": 1, "accepted_answer_id": 55392852, "answer_count": 2, "score": 0, "last_activity_date": 1566384445, "creation_date": 1553728727, "question_id": 55387933, "link": "https://stackoverflow.com/questions/55387933/accessing-refs-array-inside-a-vue-js-instance-watch-object", "title": "Accessing $refs array inside a Vue JS Instance watch object", "body": "<p>I am building a <strong>Vue JS</strong> SPA, and have a <strong>Vuetify data-table</strong> inside of the v-app. I am trying to set a variable inside the <strong>watch object</strong> for the <strong>filteredItems computed property</strong> inside the data-table but I am unsure of how to access the <strong>$refs array</strong> inside the instance.</p>\n\n<p>I know that the data is accessible within the instance by using:</p>\n\n<pre><code>this.$refs['prospectsTable'].filteredItems\n</code></pre>\n\n<p>However the same reference name does not work within the watch object. I have tried:</p>\n\n<pre><code>$refs['prospectsTable'].filteredItems: function(newItems) {\n            console.log(newItems);\n        }\n\n&amp;\n\nthis.$refs['prospectsTable'].filteredItems: function(newItems) {\n            console.log(newItems);\n        }\n</code></pre>\n\n<p><strong>How can i access the $refs array inside of the watch function?</strong></p>\n\n<pre><code>var p = new Vue({\n    el: '#prospectsApp',\n    data: () =&gt; ({}), \n\n    watch: function() {\n        // How can i access the $refs array inside of the watch function?\n        $refs['prospectsTable'].filteredItems: function() {\n\n        }\n    }\n});\n\n\n\n\n&lt;div id=\"prospectsApp\"&gt;\n    &lt;v-app id=\"inspire\" v-cloak&gt;\n        &lt;v-data-table ref=\"prospectsTable\" v-model=\"selected\" :headers=\"headers\" :items=\"prospects\" :pagination.sync=\"pagination\" select-all item-key=\"id\" class=\"elevation-1\" &gt; \n            &lt;template v-slot:headers=\"props\"&gt;\n                &lt;tr&gt;\n                    &lt;th&gt;&lt;v-checkbox :input-value=\"props.all\" color=\"#c79121\" :indeterminate=\"props.indeterminate\" primary hide-details @click.stop=\"toggleAllSelected\"&gt;&lt;/v-checkbox&gt;&lt;/th&gt;\n                    &lt;th v-for=\"header in props.headers\" :key=\"header.text\"\n                        :class=\"['column sortable', pagination.descending ? 'desc' : 'asc', header.value === pagination.sortBy ? 'active' : '']\"\n                        @click=\"changeSort(header.value)\"&gt;\n                        &lt;v-icon small&gt;arrow_upward&lt;/v-icon&gt;\n                        @{{ header.text }}\n                    &lt;/th&gt;\n                &lt;/tr&gt;\n            &lt;/template&gt;\n\n            &lt;template v-slot:items=\"props\"&gt;\n                &lt;tr :active=\"props.selected\" @click=\"props.selected = !props.selected\"&gt;\n                    &lt;td class=\"text-center align-middle\"&gt;\n                        &lt;v-checkbox :input-value=\"props.selected\" primary hide-details color=\"#c79121\"&gt;&lt;/v-checkbox&gt;\n                    &lt;/td&gt;\n                    &lt;td class=\"text-center align-middle\"&gt;@{{ props.item.id }}&lt;/td&gt;\n                    &lt;td&gt;\n                        &lt;div&gt;@{{ props.item.name }}&lt;/div&gt;\n                        &lt;div v-show=\"props.item.contacted\" class=\"label label-success\"&gt;&lt;span class=\"fa fa-check-square-o\"&gt;&lt;/span&gt; Contacted!&lt;/div&gt;\n                    &lt;/td&gt;\n                    &lt;td&gt;@{{ props.item.foodcat.title }}&lt;/td&gt;\n                    &lt;td&gt;@{{ props.item.contact_fname }}&lt;span v-if=\"props.item.contact_lname\"&gt; @{{ props.item.contact_lname }}&lt;/span&gt;&lt;span v-if=\"props.item.contact_title\"&gt;, @{{ props.item.contact_title }}&lt;/span&gt;&lt;/td&gt;\n                    &lt;td&gt;@{{ props.item.response_notes }}&lt;/td&gt;\n                    &lt;td class=\"text-right align-middle\"&gt;\n                        &lt;button class=\"btn btn-primary btn-sm\" @click=\"updateContacted(props.item.id)\" v-show=\"!props.item.contacted\"&gt;&lt;span class=\"fa fa-check-square-o\"&gt;&lt;/span&gt; Mark As Contacted&lt;/button&gt;\n                        &lt;button class=\"btn btn-primary btn-sm\" @click=\"editProspect(props.item.id)\"&gt;&lt;span class=\"fa fa-edit\"&gt;&lt;/span&gt; Edit Lead&lt;/button&gt;\n                        &lt;button class=\"btn btn-danger btn-sm\" @click=\"removeProspect(props.item.id)\"&gt;&lt;span class=\"fa fa-trash\"&gt;&lt;/span&gt; Delete Lead&lt;/button&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/template&gt;\n            &lt;template slot=\"no-data\"&gt;\n                &lt;p class=\"text-xs-center\"&gt;No Data&lt;/p&gt;\n            &lt;/template&gt;                                \n        &lt;/v-data-table&gt;\n    &lt;/v-app&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "tabulator"], "answers": [{"tags": [], "owner": {"reputation": 49, "user_id": 2868497, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/15da494c27dc88a00d31ef4bac50904d?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/2868497/nick"}, "is_accepted": true, "score": 0, "last_activity_date": 1553788958, "creation_date": 1553788958, "answer_id": 55402099, "question_id": 55387917, "link": "https://stackoverflow.com/questions/55387917/tabulator-4-2-how-to-use-a-multi-element-cell-for-editing/55402099#55402099", "title": "Tabulator 4.2 - how to use a multi element cell for editing", "body": "<p>Ok, so, if anyone is interested, I was able to get the cell's position using a function found on this forum by meouw (<a href=\"https://stackoverflow.com/a/442474/2868497\">https://stackoverflow.com/a/442474/2868497</a>):</p>\n\n<pre><code>function getOffset( el ) {\n    var _x = 0;\n    var _y = 0;\n    while( el &amp;&amp; !isNaN( el.offsetLeft ) &amp;&amp; !isNaN( el.offsetTop ) ) {\n        _x += el.offsetLeft - el.scrollLeft;\n        _y += el.offsetTop - el.scrollTop;\n        el = el.offsetParent;\n    }\n    return { top: _y, left: _x };\n}\n</code></pre>\n\n<p>With the cell's top and left position, I was able to place my div to edit my field:</p>\n\n<pre><code>var globalCellClick = function(e, cell){\n    var capacity = document.createElement(\"div\");\n    capacity.style.position = \"absolute\";\n    capacity.style.left = getOffset(cell.getElement()).left + \"px\";\n    capacity.style.top = getOffset(cell.getElement()).top + \"px\";\n    capacity.setAttribute(\"name\", \"capacity-edit\");\n\n    var size = document.createElement(\"input\");\n    size.setAttribute(\"type\", \"\", \"text\");\n    size.style.width = \"47px\";\n    size.style.height = \"31px\";\n    size.style.textAlign = \"right\";\n    capacity.append(size);\n\n    var multiplier = document.createElement(\"select\");\n    multiplier.style.width = \"47px\";\n    multiplier.style.height = \"31px\";\n    multiplier.append(new Option(\"MB\",\"MB\",true,true));\n    multiplier.append(new Option(\"GB\",\"GB\"));\n    multiplier.append(new Option(\"TB\",\"TB\"));\n    capacity.append(multiplier);\n\n    document.body.appendChild(capacity); \n\n    function updateCell(){\n        var multi = multiplier.options[multiplier.selectedIndex].text;\n        cell.setValue(size.value+multi);\n    }\n\n    size.focus();\n    size.addEventListener(\"change\", updateCell);\n    size.addEventListener(\"blur\", updateCell);\n    multiplier.addEventListener(\"change\", updateCell);\n    multiplier.addEventListener(\"blur\", updateCell);\n};\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>{title:\"Capacity\", field:\"Size\", align:\"center\", width:95, cellClick:globalCellClick, sorter:SizeSorter, sortable: true},\n</code></pre>\n\n<p>I can edit the rest of the fields as needed and I'm then using a save button to save the modifications and destroy all the div I created to edit:</p>\n\n<pre><code>$(\"#tabulator-controls  button[name=save-data]\").on(\"click\", function(){\n    $(\"div[name=capacity-edit]\").remove();\n    // update the database\n});\n</code></pre>\n\n<p>There may be an easier/cleaner way to get it done but it works so happy with it.</p>\n"}], "owner": {"reputation": 49, "user_id": 2868497, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/15da494c27dc88a00d31ef4bac50904d?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/2868497/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 237, "favorite_count": 0, "accepted_answer_id": 55402099, "answer_count": 1, "score": 0, "last_activity_date": 1553788958, "creation_date": 1553728598, "question_id": 55387917, "link": "https://stackoverflow.com/questions/55387917/tabulator-4-2-how-to-use-a-multi-element-cell-for-editing", "title": "Tabulator 4.2 - how to use a multi element cell for editing", "body": "<p>I'm trying to edit a cell with an input and a dropdown.\nThe goal being to edit, in this case, a disk size.</p>\n\n<p>I would therefore need to combine <code>, editor:\"input\", editor:true,  validator:[\"min:0\", \"max:999\", \"numeric\"]}</code> with <code>, editor:\"select\", editorParams:{\"MB\":\"MB\", \"TB\":\"TB\", \"GB\":\"GB\"}</code></p>\n\n<p>The final result being something like 146GB.</p>\n\n<p><strong>1st try:</strong>\nSince this looks like a custom editor, I wrote this:</p>\n\n<pre><code>var CapacityEditor = function(cell, onRendered, success, cancel, editorParams){\n    var capacity = document.createElement(\"div\");\n    capacity.style.width = \"100%\";\n\n    var size = document.createElement(\"input\");\n    size.setAttribute(\"type\", \"text\");\n    size.style.width = \"50px\";\n    size.style.textAlign = \"right\";\n    onRendered(function(){\n        size.focus();\n        //size.style.css = \"100%\";\n    });\n    capacity.append(size);\n\n    var multiplier = document.createElement(\"select\");\n    multiplier.style.width = \"45px\";\n    multiplier.append(new Option(\"MB\",\"MB\",true,true));\n    multiplier.append(new Option(\"GB\",\"GB\"));\n    multiplier.append(new Option(\"TB\",\"TB\"));\n    capacity.append(multiplier);\n    var multi = \"MB\";\n\n    function successFunc(){\n        success(size.value+multi);\n    }\n\n    function setmultiFunc() {\n        multi = multiplier.options[multiplier.selectedIndex].text;\n        successFunc();\n    }\n\n    size.addEventListener(\"change\", successFunc);\n    size.addEventListener(\"blur\", successFunc);\n    multiplier.addEventListener(\"change\", successFunc);\n    multiplier.addEventListener(\"blur\", successFunc);\n\n    return capacity;\n}\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>{title:\"Capacity\", field:\"Size\", align:\"center\", width:95, editor:CapacityEditor, sorter:SizeSorter, sortable: true},\n</code></pre>\n\n<p>So, on that one, there are 'a few' issues.\n- I have no idea what the success() is supposed to do\n- I'm returning a div hoping that the content would populate the cell\n- Whenever I put in a value and make a selection, it does not get saved at all; probably because I'm returning a div in the first place</p>\n\n<p><strong>2nd try:</strong> Since the edit does not work, maybe I could use the cell click event instead...</p>\n\n<p>The <code>cell.getElement()</code> does give me the DIV content for the cell as expected but there is no such thing as a <code>cell.setElement()</code>, right?\nI can create my own div, like in the first try and then use the <code>cell.setValue()</code> to well, set the value but if I can't display my div in the first place, that doesn't work too good.\nTried <code>cell.getElement().innerHTML = \"&lt;div&gt;...&lt;/div&gt;\"</code> but nothing (waaaay too easy)</p>\n\n<p><strong>3rd try:</strong> Well, let's thing outside the box then (literally)</p>\n\n<p>In other words, lets create a very simple modal, display it on top of the existing cell and then use, again, <code>cell.setValue()</code> to update the value.\nProblem is: how do I get the position of the cell?\nUsing the built-in editor, the <code>editor:\"select\"</code> replaces the cell's div with an input in readonly and created a div in the document body with multiple div and then positions it right below the cell making it look like a dropdown:</p>\n\n<pre><code>&lt;input type=\"text\" readonly=\"\" style=\"padding: 4px; width: 100%; box-sizing: border-box; height: 100%;\"&gt;\n&lt;div class=\"tabulator-edit-select-list\" style=\"min-width: 80px; top: 348px; left: 671px;\"&gt;&lt;div class=\"tabulator-edit-select-list-item\" tabindex=\"0\"&gt;10K&lt;/div&gt;&lt;div class=\"tabulator-edit-select-list-item\" tabindex=\"0\"&gt;15K&lt;/div&gt;&lt;div class=\"tabulator-edit-select-list-item\" tabindex=\"0\"&gt;7.2K&lt;/div&gt;&lt;div class=\"tabulator-edit-select-list-item active\" tabindex=\"0\"&gt;na&lt;/div&gt;&lt;/div&gt;\n</code></pre>\n\n<p>Note the <code>top</code> and <code>left</code> style attributes.</p>\n\n<p>Oli is able to do it so there has to be a way, right?</p>\n\n<p>Any help, advise, fix would be much appreciated.</p>\n"}, {"tags": ["javascript", "canvas", "2d", "putimagedata"], "comments": [{"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 0, "creation_date": 1553728730, "post_id": 55387891, "comment_id": 97497645, "body": "If the canvas is empty, then any images made of it will be black..."}, {"owner": {"reputation": 55, "user_id": 11137813, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f-oy3cuRqoc/AAAAAAAAAAI/AAAAAAAAAB0/1tsi_gFOczA/photo.jpg?sz=128", "display_name": "Argentum Manus", "link": "https://stackoverflow.com/users/11137813/argentum-manus"}, "reply_to_user": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 0, "creation_date": 1553734546, "post_id": 55387891, "comment_id": 97499021, "body": "This is my first time using the 2d context of canvas, so what exactly does a canvas being empty mean? And how do I change that?"}], "answers": [{"tags": [], "owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "is_accepted": true, "score": 0, "last_activity_date": 1553730692, "creation_date": 1553730692, "answer_id": 55388184, "question_id": 55387891, "link": "https://stackoverflow.com/questions/55387891/putimagedata-gives-black-screen/55388184#55388184", "title": "PutImageData gives black screen", "body": "<p><code>data</code> property of the ImageData object can't be set like that.  </p>\n\n<p>You need to set every values of this Uint8ClampedArray to the ones of your incoming <code>data</code>.</p>\n\n<p>If <code>data</code> is an ArrayLike object and holds Uint8Clamped values, then you can use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray/set\" rel=\"nofollow noreferrer\"><code>set()</code></a> method of TypedArrays.</p>\n\n<pre><code>var SetCanvas = function(data){\n  var id = ctx.createImageData(window.innerWidth, window.innerHeight);\n  id.data.set( data );\n  ctx.putImageData(id, 0, 0);\n};\n</code></pre>\n\n<p>But of course this assumes <code>data</code> holds correct data (that is 4 rgba Uint8 values per pixels, and with a length of <em>innerWidth x innerHeight x 4</em>).</p>\n\n<p>Also, you were puting your input <code>data</code> instead of the ImageData <code>id</code>.</p>\n"}], "owner": {"reputation": 55, "user_id": 11137813, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f-oy3cuRqoc/AAAAAAAAAAI/AAAAAAAAAB0/1tsi_gFOczA/photo.jpg?sz=128", "display_name": "Argentum Manus", "link": "https://stackoverflow.com/users/11137813/argentum-manus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "accepted_answer_id": 55388184, "answer_count": 1, "score": 1, "last_activity_date": 1553730692, "creation_date": 1553728464, "question_id": 55387891, "link": "https://stackoverflow.com/questions/55387891/putimagedata-gives-black-screen", "title": "PutImageData gives black screen", "body": "<p>I have an array of pixel data that is passed from a webgl program. I then process the pixel data for green screening and output the result into a 2d canvas. Considering I am new with Canvas 2d my question is, how do I properly pass image data to the canvas.</p>\n\n<pre><code>var canvas = document.createElement(\"canvas\");\nvar ctx = canvas.getContext(\"2d\");\ndocument.body.appendChild(canvas);\ncanvas.width = window.innerWidth;\ncanvas.height = window.innerHeight;\n\nvar SetCanvas = function(data){\n    var id = ctx.createImageData(window.innerWidth, window.innerHeight);\n    id.data = data;\n    ctx.putImageData(data, 0, 0);\n};\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "reactjs"], "comments": [{"owner": {"reputation": 91, "user_id": 2557408, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1546458830/picture?type=large", "display_name": "Bijan Massoumi", "link": "https://stackoverflow.com/users/2557408/bijan-massoumi"}, "reply_to_user": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 0, "creation_date": 1553728565, "post_id": 55387821, "comment_id": 97497594, "body": "How do I execute in a node only environment? When I try to run &gt; node index.js it throws many errors. Whats the best way to setup the kind of environment I need?"}, {"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1553729045, "post_id": 55387821, "comment_id": 97497736, "body": "<code>it throws many errors.</code>  It might help if you tell us.."}, {"owner": {"reputation": 91, "user_id": 2557408, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1546458830/picture?type=large", "display_name": "Bijan Massoumi", "link": "https://stackoverflow.com/users/2557408/bijan-massoumi"}, "edited": false, "score": 0, "creation_date": 1553729726, "post_id": 55387821, "comment_id": 97497908, "body": "I updated the question with more detail."}, {"owner": {"reputation": 91, "user_id": 2557408, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1546458830/picture?type=large", "display_name": "Bijan Massoumi", "link": "https://stackoverflow.com/users/2557408/bijan-massoumi"}, "reply_to_user": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1553736226, "post_id": 55387821, "comment_id": 97499382, "body": "Because React\u2019s component hierarchies and JSX integration make it excellent for creating PDFs."}], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 2557408, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1546458830/picture?type=large", "display_name": "Bijan Massoumi", "link": "https://stackoverflow.com/users/2557408/bijan-massoumi"}, "edited": false, "score": 0, "creation_date": 1553732050, "post_id": 55388290, "comment_id": 97498484, "body": "a step in the right direction, but it throws a syntax error when it tries to import ./index.css"}, {"owner": {"reputation": 5394, "user_id": 1253420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YCRZ0.jpg?s=128&g=1", "display_name": "lyosef", "link": "https://stackoverflow.com/users/1253420/lyosef"}, "reply_to_user": {"reputation": 91, "user_id": 2557408, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1546458830/picture?type=large", "display_name": "Bijan Massoumi", "link": "https://stackoverflow.com/users/2557408/bijan-massoumi"}, "edited": false, "score": 0, "creation_date": 1553733211, "post_id": 55388290, "comment_id": 97498732, "body": "@BijanMassoumi do you actually need <code>index.css</code>? It seems that the styling should be done only using their <code>StyleSheet</code> module"}, {"owner": {"reputation": 91, "user_id": 2557408, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1546458830/picture?type=large", "display_name": "Bijan Massoumi", "link": "https://stackoverflow.com/users/2557408/bijan-massoumi"}, "edited": false, "score": 0, "creation_date": 1553736061, "post_id": 55388290, "comment_id": 97499355, "body": "I could style through React. Wondering what this manual process is missing that the react-scripts do, considering it parses css just fine normally."}, {"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "reply_to_user": {"reputation": 91, "user_id": 2557408, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1546458830/picture?type=large", "display_name": "Bijan Massoumi", "link": "https://stackoverflow.com/users/2557408/bijan-massoumi"}, "edited": false, "score": 0, "creation_date": 1553766777, "post_id": 55388290, "comment_id": 97509532, "body": "@BijanMassoumi  react-scripts uses webpack to compile, for things like CSS it uses something called loaders.   Having CSS loaded in a node.js app doesn&#39;t make any sense.  The <code>StyleSheet.create</code> I assume won&#39;t be css, but a subset that react-pdf can parse and generate your pdf from.  You can even use webpack to compile for node.js, but this wouldn&#39;t help anyway, as again CSS in node has no meaning."}], "tags": [], "owner": {"reputation": 5394, "user_id": 1253420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YCRZ0.jpg?s=128&g=1", "display_name": "lyosef", "link": "https://stackoverflow.com/users/1253420/lyosef"}, "is_accepted": true, "score": 1, "last_activity_date": 1553731487, "creation_date": 1553731487, "answer_id": 55388290, "question_id": 55387821, "link": "https://stackoverflow.com/questions/55387821/how-can-i-use-a-react-component-within-a-node-script/55388290#55388290", "title": "How can I use a React component within a Node script?", "body": "<p>Since you're running <code>index.mjs</code> directly from node, it does not go through the build and transpilation process of <code>react-scripts</code>, meaning you have to do it manually.<br/></p>\n\n<p>Node cannot directly parse jsx (<code>&lt;App/&gt;</code>, for example) - so you will need to run your code through <a href=\"https://babeljs.io/setup#installation\" rel=\"nofollow noreferrer\">Babel</a> with <a href=\"https://babeljs.io/docs/en/babel-preset-react\" rel=\"nofollow noreferrer\">React preset</a> in order to run it.</p>\n\n<p>Since the dependecies should be already installed, try running:</p>\n\n<pre><code>npx babel index.mjs -o index-compiled.js --presets=es2015,react\n</code></pre>\n\n<p>and then run the compiled file:</p>\n\n<pre><code>node index-compiled.js\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 2557408, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1546458830/picture?type=large", "display_name": "Bijan Massoumi", "link": "https://stackoverflow.com/users/2557408/bijan-massoumi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 881, "favorite_count": 1, "accepted_answer_id": 55388290, "answer_count": 1, "score": 3, "last_activity_date": 1553731487, "creation_date": 1553727969, "last_edit_date": 1553729712, "question_id": 55387821, "link": "https://stackoverflow.com/questions/55387821/how-can-i-use-a-react-component-within-a-node-script", "title": "How can I use a React component within a Node script?", "body": "<p>I'm currently trying to use <a href=\"https://github.com/diegomura/react-pdf\" rel=\"nofollow noreferrer\">react-pdf</a> to generate and save a pdf to disk. Rendering to a webpage works, but the method that I need to invoke to save a pdf to disc, </p>\n\n<pre><code>    ReactPDF.render()\n</code></pre>\n\n<p>does not work within the npm start (react-scripts) way of running React that I've used in the past to create webpages. From reading <a href=\"https://github.com/diegomura/react-pdf/issues/341\" rel=\"nofollow noreferrer\">this issue</a>, it seems that it needs to be run as a \"Node only api\". So my question is, what dependencies, commands, and steps do I need to take to run some react code and save a pdf to disk with something like</p>\n\n<pre><code>   &gt; node index.js\n</code></pre>\n\n<p>currently when I run the above command I get </p>\n\n<pre><code>import React from 'react';\n       ^^^^^\nSyntaxError: Unexpected identifier\n</code></pre>\n\n<p>Then, running </p>\n\n<pre><code>    node --experimental-modules index.mjs\n</code></pre>\n\n<p>I get </p>\n\n<pre><code>ReactPDF.render(&lt;App /&gt;, `${__dirname}/output/test.pdf`);\n                ^\nSyntaxError: Unexpected token &lt;\n</code></pre>\n\n<p>Here are my two files:</p>\n\n<p>index.js</p>\n\n<pre><code>    import React from 'react';\n    import ReactDOM from 'react-dom';\n    import './index.css';\n    import App from './App';\n    import ReactPDF from '@react-pdf/renderer';\n\n\n    ReactPDF.render(&lt;App /&gt;, `${__dirname}/output/test.pdf`);\n    //ReactDOM.render(&lt;App /&gt;, document.getElementById('root'));\n</code></pre>\n\n<p>App.js</p>\n\n<pre><code>import React, { Component } from 'react';\nimport { Document, Page, Text, View, StyleSheet } from '@react-pdf/renderer'\n\nclass App extends Component {\n\n\n\n  render() {\n\n    const styles = StyleSheet.create({\n      page: {\n        flexDirection: 'row',\n        backgroundColor: '#E4E4E4'\n      },\n      section: {\n        margin: 10,\n        padding: 10,\n        flexGrow: 1\n      }\n    });\n\n\n    return (\n      &lt;Document&gt;\n        &lt;Page size=\"A4\" style={styles.page}&gt;\n          &lt;View style={styles.section}&gt;\n            &lt;Text&gt;Section #1&lt;/Text&gt;\n          &lt;/View&gt;\n          &lt;View style={styles.section}&gt;\n            &lt;Text&gt;Section #2&lt;/Text&gt;\n          &lt;/View&gt;\n        &lt;/Page&gt;\n      &lt;/Document&gt;\n    );\n  }\n}\n\nexport default App;\n\n</code></pre>\n\n<p>package.json</p>\n\n<pre><code>{\n  \"name\": \"ccv-generator-react\",\n  \"version\": \"0.1.0\",\n  \"private\": true,\n  \"dependencies\": {\n    \"@react-pdf/renderer\": \"^1.4.2\",\n    \"react\": \"^16.8.5\",\n    \"react-dom\": \"^16.8.5\",\n    \"react-scripts\": \"2.1.8\",\n    \"ts-pnp\": \"^1.0.1\",\n    \"typescript\": \"^3.3.4000\"\n  },\n  \"scripts\": {\n    \"start\": \"react-scripts start\",\n    \"build\": \"react-scripts build\",\n    \"test\": \"react-scripts test\",\n    \"eject\": \"react-scripts eject\"\n  },\n  \"eslintConfig\": {\n    \"extends\": \"react-app\"\n  },\n  \"browserslist\": [\n    \"&gt;0.2%\",\n    \"not dead\",\n    \"not ie &lt;= 11\",\n    \"not op_mini all\"\n  ],\n  \"devDependencies\": {\n    \"babel-preset-es2015\": \"^6.24.1\",\n    \"babel-preset-react\": \"^6.24.1\"\n  }\n}\n</code></pre>\n\n<p>A follow up question would be, Is what I am trying to do an anti-pattern?</p>\n"}, {"tags": ["javascript", "object"], "comments": [{"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 1, "creation_date": 1553728010, "post_id": 55387813, "comment_id": 97497428, "body": "Replace <code>;</code> with <code>,</code> inside of the <code>{\u2026}</code>"}, {"owner": {"reputation": 24739, "user_id": 1790644, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1a2a40ddbc52508d5b53e9879961251?s=128&d=identicon&r=PG", "display_name": "Matt Clark", "link": "https://stackoverflow.com/users/1790644/matt-clark"}, "edited": false, "score": 0, "creation_date": 1553728019, "post_id": 55387813, "comment_id": 97497430, "body": "Your format is incorrect. <code>allQ = { q1: {}, q2: {} };</code>"}, {"owner": {"reputation": 171, "user_id": 11036503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3304c8eb0e17512af9df60b5b5375e94?s=128&d=identicon&r=PG&f=1", "display_name": "The Nuthouse", "link": "https://stackoverflow.com/users/11036503/the-nuthouse"}, "edited": false, "score": 0, "creation_date": 1553728240, "post_id": 55387813, "comment_id": 97497509, "body": "Anyone explain why I got downvote?"}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1553728336, "post_id": 55387813, "comment_id": 97497531, "body": "Syntax error questions usually do because knowing the syntax of the language you are using is kind of expected I guess (and easy to learn from learning resources, e.g. <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Object_initializer\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a> )."}, {"owner": {"reputation": 171, "user_id": 11036503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3304c8eb0e17512af9df60b5b5375e94?s=128&d=identicon&r=PG&f=1", "display_name": "The Nuthouse", "link": "https://stackoverflow.com/users/11036503/the-nuthouse"}, "reply_to_user": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1553728410, "post_id": 55387813, "comment_id": 97497547, "body": "@FelixKling isn&#39;t asking questions about code what the website is for...."}, {"owner": {"reputation": 171, "user_id": 11036503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3304c8eb0e17512af9df60b5b5375e94?s=128&d=identicon&r=PG&f=1", "display_name": "The Nuthouse", "link": "https://stackoverflow.com/users/11036503/the-nuthouse"}, "edited": false, "score": 0, "creation_date": 1553728471, "post_id": 55387813, "comment_id": 97497573, "body": "@FelixKing i&#39;d imagine this would be a common syntax error since for the whole time ive been using JavaScript I&#39;ve been used to putting semicolons next to brackets you can imagine why it would fly right over my head you&#39;re not suppost to"}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1553728731, "post_id": 55387813, "comment_id": 97497647, "body": "You are assuming that people learn the &quot;rules&quot; the same way you do, but that&#39;s likely not the case. Everyone learns differently, so everyone makes different errors. And that makes these kind of questions less useful for others (granted, that could probably be said for many things, so <code>&#175;\\_(\u30c4)_&#47;&#175;</code>)."}], "answers": [{"comments": [{"owner": {"reputation": 171, "user_id": 11036503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3304c8eb0e17512af9df60b5b5375e94?s=128&d=identicon&r=PG&f=1", "display_name": "The Nuthouse", "link": "https://stackoverflow.com/users/11036503/the-nuthouse"}, "edited": false, "score": 0, "creation_date": 1553728214, "post_id": 55387849, "comment_id": 97497500, "body": "Gotta be the one time a bracket doesn&#39;t have a semicolon after it damn"}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "reply_to_user": {"reputation": 171, "user_id": 11036503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3304c8eb0e17512af9df60b5b5375e94?s=128&d=identicon&r=PG&f=1", "display_name": "The Nuthouse", "link": "https://stackoverflow.com/users/11036503/the-nuthouse"}, "edited": false, "score": 0, "creation_date": 1553728280, "post_id": 55387849, "comment_id": 97497517, "body": "@TheNuthouse: It has nothing to do with brackets really. Properties in an object literal are separated by comma, no matter what their value is."}], "tags": [], "owner": {"reputation": 1077, "user_id": 11193926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b41eea96add6cb6141b372485c58f21b?s=128&d=identicon&r=PG&f=1", "display_name": "JamieT", "link": "https://stackoverflow.com/users/11193926/jamiet"}, "is_accepted": false, "score": 1, "last_activity_date": 1553728310, "last_edit_date": 1553728310, "creation_date": 1553728154, "answer_id": 55387849, "question_id": 55387813, "link": "https://stackoverflow.com/questions/55387813/nested-objects-syntax-error-shouldnt-be-happening/55387849#55387849", "title": "Nested objects syntax error shouldnt be happening", "body": "<p>Just a syntax error. The semi-colons following each nested object should just be commas. See:</p>\n\n<pre><code>let allQuestions = {\n    question1: {\n        question: 'You should ______ if a large animal is in your path and you cant stop in time.',\n        ans1: 'Brake hard',\n        ans2: 'Hit the animal at an angle',\n        ans3: 'Take your foot of the brakes so it doesnt go through your windshield',\n        ans4c: 'All of the above'\n    },\n    question2: {\n        question: 'How come motorcyclists often ride in the left part of the lane?',\n        ans1: 'They can pass cyclists on the right part of the lane'\n    }, //(optional comma here)\n\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 171, "user_id": 11036503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3304c8eb0e17512af9df60b5b5375e94?s=128&d=identicon&r=PG&f=1", "display_name": "The Nuthouse", "link": "https://stackoverflow.com/users/11036503/the-nuthouse"}, "edited": false, "score": 0, "creation_date": 1553728600, "post_id": 55387888, "comment_id": 97497602, "body": "I don&#39;t quite see how it could be easier with arrays, would I provide me with an advantage if I was to randomly select questions out of a very large pool of questions like this is going to become?"}, {"owner": {"reputation": 4237, "user_id": 10787900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Z6j7Qhowx8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ighhCw1JxvK6l7ZVG0ZYElO2DSUA/mo/photo.jpg?sz=128", "display_name": "Bibberty", "link": "https://stackoverflow.com/users/10787900/bibberty"}, "reply_to_user": {"reputation": 171, "user_id": 11036503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3304c8eb0e17512af9df60b5b5375e94?s=128&d=identicon&r=PG&f=1", "display_name": "The Nuthouse", "link": "https://stackoverflow.com/users/11036503/the-nuthouse"}, "edited": false, "score": 0, "creation_date": 1553728651, "post_id": 55387888, "comment_id": 97497617, "body": "If you are building HTML from these questions you can use a map/foreach. Let me add a demo."}, {"owner": {"reputation": 171, "user_id": 11036503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3304c8eb0e17512af9df60b5b5375e94?s=128&d=identicon&r=PG&f=1", "display_name": "The Nuthouse", "link": "https://stackoverflow.com/users/11036503/the-nuthouse"}, "edited": false, "score": 0, "creation_date": 1553728863, "post_id": 55387888, "comment_id": 97497682, "body": "I&#39;ve never made a project using large objects before, nor dealt with really large objects before so this is all new to me"}, {"owner": {"reputation": 4237, "user_id": 10787900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Z6j7Qhowx8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ighhCw1JxvK6l7ZVG0ZYElO2DSUA/mo/photo.jpg?sz=128", "display_name": "Bibberty", "link": "https://stackoverflow.com/users/10787900/bibberty"}, "reply_to_user": {"reputation": 171, "user_id": 11036503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3304c8eb0e17512af9df60b5b5375e94?s=128&d=identicon&r=PG&f=1", "display_name": "The Nuthouse", "link": "https://stackoverflow.com/users/11036503/the-nuthouse"}, "edited": false, "score": 0, "creation_date": 1553729115, "post_id": 55387888, "comment_id": 97497759, "body": "This is a simple demo of string interpolation. You will want slightly more complex HTML obviously."}, {"owner": {"reputation": 171, "user_id": 11036503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3304c8eb0e17512af9df60b5b5375e94?s=128&d=identicon&r=PG&f=1", "display_name": "The Nuthouse", "link": "https://stackoverflow.com/users/11036503/the-nuthouse"}, "edited": false, "score": 0, "creation_date": 1553729441, "post_id": 55387888, "comment_id": 97497840, "body": "is that in jQuery because the <code>$</code> screams jQuery to me unless its something I&#39;ve never heard of before"}, {"owner": {"reputation": 4237, "user_id": 10787900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Z6j7Qhowx8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ighhCw1JxvK6l7ZVG0ZYElO2DSUA/mo/photo.jpg?sz=128", "display_name": "Bibberty", "link": "https://stackoverflow.com/users/10787900/bibberty"}, "reply_to_user": {"reputation": 171, "user_id": 11036503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3304c8eb0e17512af9df60b5b5375e94?s=128&d=identicon&r=PG&f=1", "display_name": "The Nuthouse", "link": "https://stackoverflow.com/users/11036503/the-nuthouse"}, "edited": false, "score": 0, "creation_date": 1553729471, "post_id": 55387888, "comment_id": 97497847, "body": "That is vanilla JS. No jQuery. Enjoy the wonder - <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 171, "user_id": 11036503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3304c8eb0e17512af9df60b5b5375e94?s=128&d=identicon&r=PG&f=1", "display_name": "The Nuthouse", "link": "https://stackoverflow.com/users/11036503/the-nuthouse"}, "edited": false, "score": 0, "creation_date": 1553729617, "post_id": 55387888, "comment_id": 97497879, "body": "Mind explaining what the $ does because it really confuses me."}, {"owner": {"reputation": 4237, "user_id": 10787900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Z6j7Qhowx8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ighhCw1JxvK6l7ZVG0ZYElO2DSUA/mo/photo.jpg?sz=128", "display_name": "Bibberty", "link": "https://stackoverflow.com/users/10787900/bibberty"}, "reply_to_user": {"reputation": 171, "user_id": 11036503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3304c8eb0e17512af9df60b5b5375e94?s=128&d=identicon&r=PG&f=1", "display_name": "The Nuthouse", "link": "https://stackoverflow.com/users/11036503/the-nuthouse"}, "edited": false, "score": 0, "creation_date": 1553729731, "post_id": 55387888, "comment_id": 97497909, "body": "It allows you reference your variables, functions directly inside the string. Its called interpolation. See the link I sent. Very powerful and worth learning."}], "tags": [], "owner": {"reputation": 4237, "user_id": 10787900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Z6j7Qhowx8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ighhCw1JxvK6l7ZVG0ZYElO2DSUA/mo/photo.jpg?sz=128", "display_name": "Bibberty", "link": "https://stackoverflow.com/users/10787900/bibberty"}, "is_accepted": false, "score": 0, "last_activity_date": 1553729056, "last_edit_date": 1553729056, "creation_date": 1553728429, "answer_id": 55387888, "question_id": 55387813, "link": "https://stackoverflow.com/questions/55387813/nested-objects-syntax-error-shouldnt-be-happening/55387888#55387888", "title": "Nested objects syntax error shouldnt be happening", "body": "<p>Here is is corrected.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let allQuestions = {\r\n    question1: {\r\n        question: 'You should ______ if a large animal is in your path and you cant stop in time.',\r\n        ans1: 'Brake hard',\r\n        ans2: 'Hit the animal at an angle',\r\n        ans3: 'Take your foot of the brakes so it doesnt go through your windshield',\r\n        ans4c: 'All of the above'\r\n    },\r\n    question2: {\r\n        question: 'How come motorcyclists often ride in the left part of the lane?',\r\n        ans1: 'They can pass cyclists on the right part of the lane'\r\n    }\r\n\r\n};\r\n\r\nconsole.log(allQuestions);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>But have you considered the structure itself, using arrays so you can more easily iterate with code.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let allQuestions = [{\r\n    question: 'You should ______ if a large animal is in your path and you cant stop in time.',\r\n    answers: [{\r\n        id: 1,\r\n        answer: 'Brake hard'\r\n      },\r\n      {\r\n        id: 2,\r\n        answer: 'Hit the animal at an angle'\r\n      },\r\n      {\r\n        id: 3,\r\n        answer: 'Take your foot of the brakes so it doesnt go through your windshield'\r\n      },\r\n      {\r\n        id: 4,\r\n        answer: 'All of the above'\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    question: 'How come motorcyclists often ride in the left part of the lane?',\r\n    answers: [{\r\n      id: 1,\r\n      answer: 'They can pass cyclists on the right part of the lane'\r\n    }]\r\n  }\r\n];\r\n\r\nconsole.log(allQuestions);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>So now using arrays we can easily build out our HTML </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let allQuestions = [{\r\n    question: 'You should ______ if a large animal is in your path and you cant stop in time.',\r\n    answers: [{\r\n        id: 1,\r\n        answer: 'Brake hard'\r\n      },\r\n      {\r\n        id: 2,\r\n        answer: 'Hit the animal at an angle'\r\n      },\r\n      {\r\n        id: 3,\r\n        answer: 'Take your foot of the brakes so it doesnt go through your windshield'\r\n      },\r\n      {\r\n        id: 4,\r\n        answer: 'All of the above'\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    question: 'How come motorcyclists often ride in the left part of the lane?',\r\n    answers: [{\r\n      id: 1,\r\n      answer: 'They can pass cyclists on the right part of the lane'\r\n    }]\r\n  }\r\n];\r\n\r\nconst getAnswerHtml = (answers) =&gt; answers.map(a =&gt; `&lt;li id=\"${a.id}\"&gt;${a.answer}&lt;/li&gt;`).join('');\r\nconst getQuestionHtml = (question) =&gt; `&lt;div class=\"question\"&gt;&lt;h3&gt;${question.question}&lt;/h3&gt;&lt;ul&gt;${getAnswerHtml(question.answers)}&lt;/ul&gt;&lt;/div&gt;`;\r\n\r\ndocument.querySelector('.questions').innerHTML = allQuestions.map(q =&gt; getQuestionHtml(q)).join('');</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"questions\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 171, "user_id": 11036503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3304c8eb0e17512af9df60b5b5375e94?s=128&d=identicon&r=PG&f=1", "display_name": "The Nuthouse", "link": "https://stackoverflow.com/users/11036503/the-nuthouse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "closed_date": 1553728559, "answer_count": 2, "score": -1, "last_activity_date": 1553729056, "creation_date": 1553727908, "question_id": 55387813, "link": "https://stackoverflow.com/questions/55387813/nested-objects-syntax-error-shouldnt-be-happening", "closed_reason": "Not suitable for this site", "title": "Nested objects syntax error shouldnt be happening", "body": "<p>I'm having a \"Syntax error\" which is really annoying and in trying to fix it I've tried using terrible syntax because that's basically what the error is saying to do. The error says: <code>SyntaxError: missing } after property list[Learn More] questions.js:11:1note: { opened at line 1, column 19</code> which shouldn't happen because I've closed all my brackets and used perfect JavaScript syntax for my nested object.</p>\n\n<pre><code>let allQuestions = {\n    question1: {\n        question: 'You should ______ if a large animal is in your path and you cant stop in time.',\n        ans1: 'Brake hard',\n        ans2: 'Hit the animal at an angle',\n        ans3: 'Take your foot of the brakes so it doesnt go through your windshield',\n        ans4c: 'All of the above'\n    };\n    question2: {\n        question: 'How come motorcyclists often ride in the left part of the lane?',\n        ans1: 'They can pass cyclists on the right part of the lane'\n    };\n\n};\n</code></pre>\n"}, {"tags": ["javascript", "promise", "fetch"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1553728941, "post_id": 55387809, "comment_id": 97497705, "body": "short answer is - this is how <code>fetch</code> is specified and implemented - so, the reason you have to &quot;make another .then&quot; is because that&#39;s how you use fetch API"}, {"owner": {"reputation": 61150, "user_id": 441757, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/921df025d1d7c99fad4553ac83bd8bdf?s=128&d=identicon&r=PG", "display_name": "sideshowbarker", "link": "https://stackoverflow.com/users/441757/sideshowbarker"}, "edited": false, "score": 0, "creation_date": 1553735694, "post_id": 55387809, "comment_id": 97499280, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/37555031/why-does-json-return-a-promise\">Why does .json() return a promise?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 806, "user_id": 5843525, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9f42d010919e6f649612790d3956719f?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Blamberg", "link": "https://stackoverflow.com/users/5843525/stefan-blamberg"}, "is_accepted": false, "score": 0, "last_activity_date": 1553728394, "creation_date": 1553728394, "answer_id": 55387884, "question_id": 55387809, "link": "https://stackoverflow.com/questions/55387809/why-i-have-make-another-then-to-pull-a-promisevalue-from-fetch-promise/55387884#55387884", "title": "Why i have make another .then to pull a promiseValue from fetch promise", "body": "<p>The Fetch API returns a promise which resolves to a Response. The Response itself has a text() method which returns a promise as well. You can use this method to read the Response-Stream as a text. See <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Response\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Response</a></p>\n"}, {"tags": [], "owner": {"reputation": 5744, "user_id": 2411075, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/8f6OD.jpg?s=128&g=1", "display_name": "Dehli", "link": "https://stackoverflow.com/users/2411075/dehli"}, "is_accepted": false, "score": 1, "last_activity_date": 1553728432, "creation_date": 1553728432, "answer_id": 55387889, "question_id": 55387809, "link": "https://stackoverflow.com/questions/55387809/why-i-have-make-another-then-to-pull-a-promisevalue-from-fetch-promise/55387889#55387889", "title": "Why i have make another .then to pull a promiseValue from fetch promise", "body": "<p>The <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API\" rel=\"nofollow noreferrer\"><code>fetch</code></a> function returns a Promise that resolves with a <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Body\" rel=\"nofollow noreferrer\"><code>Body</code></a> response.</p>\n\n<p>Paraphrased from <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API\" rel=\"nofollow noreferrer\">Mozilla: Fetch</a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Body\" rel=\"nofollow noreferrer\">Mozilla: Body</a>:</p>\n\n<blockquote>\n  <p>The fetch() method... returns a Promise that resolves to the Response to that request, whether it is successful or not... Once a Response is retrieved, there are a number of methods available to define what the body content is and how it should be handled.</p>\n</blockquote>\n\n<p>If you then navigate to the documentation for <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Body\" rel=\"nofollow noreferrer\"><code>Body</code></a> you can see that it has a number of methods on it. The <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Body#Methods\" rel=\"nofollow noreferrer\"><code>Body.text()</code></a> method:</p>\n\n<blockquote>\n  <p>Takes a Response stream and reads it to completion. It returns a promise that resolves with a USVString (text). The response is always decoded using UTF-8.</p>\n</blockquote>\n\n<p>The behavior you've described is how the <code>fetch</code> API is expected to behave.</p>\n"}], "owner": {"reputation": 39, "user_id": 11146239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec59fc71713ae16f7c75591a3335fa0f?s=128&d=identicon&r=PG&f=1", "display_name": "Rafal9626", "link": "https://stackoverflow.com/users/11146239/rafal9626"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1553728432, "creation_date": 1553727879, "question_id": 55387809, "link": "https://stackoverflow.com/questions/55387809/why-i-have-make-another-then-to-pull-a-promisevalue-from-fetch-promise", "title": "Why i have make another .then to pull a promiseValue from fetch promise", "body": "<p><a href=\"https://i.stack.imgur.com/crVtB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/crVtB.png\" alt=\"enter image description here\"></a></p>\n\n<p>Hello. First .then is resolved and have a value response. Why if i log res.text it is just a promise, and when i make another then with the same return , next .then with the same res.text it's a string now??\nMay someone explain it for me:)?</p>\n"}, {"tags": ["javascript", "reactjs", "highlight", "react-component"], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 3084192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8aaa1cd8e8a423be9db878161d37d211?s=128&d=identicon&r=PG&f=1", "display_name": "user3084192", "link": "https://stackoverflow.com/users/3084192/user3084192"}, "edited": false, "score": 0, "creation_date": 1553869191, "post_id": 55388316, "comment_id": 97557938, "body": "What if the highlights weren&#39;t a react component? and If I change them to react components I don&#39;t know where their location would be on the page.  Is there a way to add these components without prespecifying their location?"}, {"owner": {"reputation": 338, "user_id": 3330489, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9654aa854dfe059c85ce2176258497b6?s=128&d=identicon&r=PG", "display_name": "JuanIsFree", "link": "https://stackoverflow.com/users/3330489/juanisfree"}, "reply_to_user": {"reputation": 137, "user_id": 3084192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8aaa1cd8e8a423be9db878161d37d211?s=128&d=identicon&r=PG&f=1", "display_name": "user3084192", "link": "https://stackoverflow.com/users/3084192/user3084192"}, "edited": false, "score": 0, "creation_date": 1554136451, "post_id": 55388316, "comment_id": 97632178, "body": "I&#39;m not sure I understand the question.  However, you can always select items using ids or class names in plain old javascript."}], "tags": [], "owner": {"reputation": 338, "user_id": 3330489, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9654aa854dfe059c85ce2176258497b6?s=128&d=identicon&r=PG", "display_name": "JuanIsFree", "link": "https://stackoverflow.com/users/3330489/juanisfree"}, "is_accepted": true, "score": 1, "last_activity_date": 1553731711, "creation_date": 1553731711, "answer_id": 55388316, "question_id": 55387796, "link": "https://stackoverflow.com/questions/55387796/react-components-for-highlighting-text-and-reloading-highlights-from-files/55388316#55388316", "title": "React components for highlighting text and reloading highlights from files", "body": "<p>React will re-render anything where the state has changed.  This will cause your highlighting to disappear as the elements are not the same even if they appear the same.</p>\n\n<p>React will <em>also</em> intelligently <strong>not</strong> re-render if you set <a href=\"https://reactjs.org/docs/reconciliation.html#keys\" rel=\"nofollow noreferrer\">a unique key</a> property in many cases.  This lets React know to reuse the component.</p>\n\n<p>If the state is correctly changing, and you only want to sometimes prevent a re-render, you should implement a <a href=\"https://reactjs.org/docs/react-component.html#shouldcomponentupdate\" rel=\"nofollow noreferrer\">shouldComponentUpdate lifecycle method</a> to control the re-render conditions yourself.</p>\n"}], "owner": {"reputation": 137, "user_id": 3084192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8aaa1cd8e8a423be9db878161d37d211?s=128&d=identicon&r=PG&f=1", "display_name": "user3084192", "link": "https://stackoverflow.com/users/3084192/user3084192"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 532, "favorite_count": 0, "accepted_answer_id": 55388316, "answer_count": 1, "score": 0, "last_activity_date": 1553731711, "creation_date": 1553727813, "question_id": 55387796, "link": "https://stackoverflow.com/questions/55387796/react-components-for-highlighting-text-and-reloading-highlights-from-files", "title": "React components for highlighting text and reloading highlights from files", "body": "<p>I am working on creating a text highlighter with these functionalities:</p>\n\n<ul>\n<li>It allows the users to select and highlight/unhighlight the text on\nthe page with different colors.</li>\n<li>Load the highlights from a file (search for the words from the file in the page and highlight them).</li>\n</ul>\n\n<p>I was able to create the highlight and delete highlight function using rangy <a href=\"https://github.com/timdown/rangy\" rel=\"nofollow noreferrer\">https://github.com/timdown/rangy</a> (which is not a react component), but whenever any component on the page sets the state using (setState method) those highlights disappear. </p>\n\n<p>Also, previously highlighted items are not easily loaded into the page using this method. </p>\n\n<p>That is why I am redeveloping this functionality again, and I want to know what would be the right approach to tackle this issue? </p>\n\n<p>I have been thinking of developing a custom React component for highlighting and adding it to the page, but for this approach, I want to know how to dynamically add the highlights component when the user selects a text on the page without losing it when the state is updated. </p>\n\n<p>A link to a useful resource on how to add dynamic components would be convenient for me as I have been searching for the correct way to tackle this issue for a while and I think I might not be heading in the right direction.</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1553727837, "post_id": 55387791, "comment_id": 97497365, "body": "Do you understand what the error means? What is the value of <code>video</code>?"}, {"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 0, "creation_date": 1553727853, "post_id": 55387791, "comment_id": 97497373, "body": "Please post the rest of your code,"}, {"owner": {"reputation": 279, "user_id": 8776845, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Cp1c-PTNsyg/AAAAAAAAAAI/AAAAAAAAAUk/iCYYg0aBbXg/photo.jpg?sz=128", "display_name": "Kasador", "link": "https://stackoverflow.com/users/8776845/kasador"}, "reply_to_user": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1553727913, "post_id": 55387791, "comment_id": 97497394, "body": "@FelixKling I do understand it. However, I&#39;m not sure why I&#39;m getting it. Is it because I need to parseInt something?"}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1553727982, "post_id": 55387791, "comment_id": 97497418, "body": "You code doesn&#39;t show where <code>video</code> comes from at all, you&#39;re not passing it into the function, so why would anyone (including you) assume that <code>video.currentTime</code> exists as a value?"}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 1, "creation_date": 1553728078, "post_id": 55387791, "comment_id": 97497444, "body": "<i>&quot;Is it because I need to parseInt something?&quot;</i> No. The error means that <code>video</code> is a value that doesn&#39;t have a property <code>currentTime</code>. The fix is to either make sure that <code>video</code> is the value you need or to access the correct property. There is not much more we can say about it without having more context."}, {"owner": {"reputation": 806, "user_id": 5843525, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9f42d010919e6f649612790d3956719f?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Blamberg", "link": "https://stackoverflow.com/users/5843525/stefan-blamberg"}, "reply_to_user": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1553728110, "post_id": 55387791, "comment_id": 97497459, "body": "@Mike&#39;Pomax&#39;Kamermans But if video wasn&#39;t available in the function it would already throw an error when accessing currentTime"}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "reply_to_user": {"reputation": 806, "user_id": 5843525, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9f42d010919e6f649612790d3956719f?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Blamberg", "link": "https://stackoverflow.com/users/5843525/stefan-blamberg"}, "edited": false, "score": 0, "creation_date": 1553731408, "post_id": 55387791, "comment_id": 97498314, "body": "@StefanBlamberg I never said <code>video</code> wasn&#39;t available, I said we, as readers of this question and code, have <i>no idea what video is</i> and so it might be an empty string for all we know, or an empty object, or actually an <code>&lt;a&gt;</code> element, or even another function, or who knows what else. The code, as shown in this question, is not complete, and so this is <a href=\"/help/how-to-ask\">not a good question</a> yet."}], "answers": [{"comments": [{"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 2, "creation_date": 1553730086, "post_id": 55387871, "comment_id": 97497992, "body": "As I said, the error means that the value of <code>getTimePaused</code> is <code>undefined</code>, which means that <code>video</code> doesn&#39;t have the property <code>currentTime</code>. jQuery objects don&#39;t have that property. Another solution would have been to use <code>video[0].currentTime</code>. And that&#39;s why it was important to tell us what the value of <code>video</code> is. If we had known, we could have immediately pointed out what was wrong."}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1553731486, "post_id": 55387871, "comment_id": 97498337, "body": "can you please update your <i>question</i> with the code that you decided to show here, too?"}], "tags": [], "owner": {"reputation": 279, "user_id": 8776845, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Cp1c-PTNsyg/AAAAAAAAAAI/AAAAAAAAAUk/iCYYg0aBbXg/photo.jpg?sz=128", "display_name": "Kasador", "link": "https://stackoverflow.com/users/8776845/kasador"}, "is_accepted": false, "score": 1, "last_activity_date": 1553728309, "creation_date": 1553728309, "answer_id": 55387871, "question_id": 55387791, "link": "https://stackoverflow.com/questions/55387791/cannot-read-property-tofixed-of-undefined-uncaught-typeerror/55387871#55387871", "title": "Cannot read property &#39;toFixed&#39; of undefined. Uncaught TypeError", "body": "<p>I actually fixed it. </p>\n\n<p>In my case, the problem didn't have anything to do with <code>toFixed()</code>.</p>\n\n<p>My problem was due to mixing JQuery and Vanilla Javascript.</p>\n\n<p>Like this, </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let video = $(\".video\");\n\nvideo.on(\"timeupdate\", function() {\n    let colorPos = video.currentTime / video.duration;\n    color.style.width = colorPos * 100 + \"%\";\n    if (video.ended) {\n      btn.className = \"replay\";\n    }\n  });\n</code></pre>\n\n<p>Solution</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let video = document.querySelector(\".video\");\n\nvideo.addEventListener(\"timeupdate\", function() {\n    let colorPos = video.currentTime / video.duration;\n    color.style.width = colorPos * 100 + \"%\";\n    if (video.ended) {\n      btn.className = \"replay\";\n    }\n  });\n</code></pre>\n"}], "owner": {"reputation": 279, "user_id": 8776845, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Cp1c-PTNsyg/AAAAAAAAAAI/AAAAAAAAAUk/iCYYg0aBbXg/photo.jpg?sz=128", "display_name": "Kasador", "link": "https://stackoverflow.com/users/8776845/kasador"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3673, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1553728309, "creation_date": 1553727785, "question_id": 55387791, "link": "https://stackoverflow.com/questions/55387791/cannot-read-property-tofixed-of-undefined-uncaught-typeerror", "title": "Cannot read property &#39;toFixed&#39; of undefined. Uncaught TypeError", "body": "<p>I'm trying to understand why my code block doesn't work. I am using JQuery as well as vanilla JS.</p>\n\n<p>Here's my code.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code> // update every 1 second on time.\n  setInterval(function() {\n    // get current time and duration of entire video\n    let getTimePaused = video.currentTime;\n    let vidTime = getTimePaused.toFixed(0);\n    let formatTime = minTommss(vidTime);\n    $(\".timeLeft\").text(\n      minTommss(vidTime / 60) + \" - \" + minTommss((video.duration / 60) + 0.01)\n    );\n  }, 1000);\n</code></pre>\n\n<p>Any help is much appreciated.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "reactjs", "react-hooks"], "comments": [{"owner": {"reputation": 585, "user_id": 3771483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0d219b9c3b471c971f644c830475d46?s=128&d=identicon&r=PG&f=1", "display_name": "Bear-Foot", "link": "https://stackoverflow.com/users/3771483/bear-foot"}, "edited": false, "score": 0, "creation_date": 1553762862, "post_id": 55387739, "comment_id": 97507201, "body": "When building a piece of code with so many things to use from (everything your hook returns [inputs, handleInput, ...]), I would recommand returning an object instead of an array. It makes it really easier to grab, for instance clearInputs, without having to get ALL the values coming before. useState returns an array, but it is not a pre-requisite for all hooks."}], "answers": [{"comments": [{"owner": {"reputation": 585, "user_id": 3771483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0d219b9c3b471c971f644c830475d46?s=128&d=identicon&r=PG&f=1", "display_name": "Bear-Foot", "link": "https://stackoverflow.com/users/3771483/bear-foot"}, "edited": false, "score": 1, "creation_date": 1553763319, "post_id": 55390087, "comment_id": 97507455, "body": "let&#39;s add value={inputs.username} in the sandbox, otherwise the field keeps the information and it might be misleading as to why the state clears but not the input ^^"}, {"owner": {"reputation": 41, "user_id": 10792138, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6qLCKXxXoj0/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hEEKU-SyRqp7KUHhB7PnqnNmUgqw/mo/photo.jpg?sz=128", "display_name": "Xavier Munroe", "link": "https://stackoverflow.com/users/10792138/xavier-munroe"}, "edited": false, "score": 0, "creation_date": 1553791743, "post_id": 55390087, "comment_id": 97526389, "body": "Thank you for your response. When I modify the sandbox: <a href=\"https://codesandbox.io/s/k0rjkjq7vo\" rel=\"nofollow noreferrer\">codesandbox.io/s/k0rjkjq7vo</a> the clear does not work."}], "tags": [], "owner": {"reputation": 4915, "user_id": 1315176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/809e49872e79afb7d9b077b9742da515?s=128&d=identicon&r=PG", "display_name": "lecstor", "link": "https://stackoverflow.com/users/1315176/lecstor"}, "is_accepted": false, "score": 1, "last_activity_date": 1553746586, "creation_date": 1553746586, "answer_id": 55390087, "question_id": 55387739, "link": "https://stackoverflow.com/questions/55387739/resetting-initial-state-of-usestate/55390087#55390087", "title": "Resetting initial state of useState", "body": "<p>Your <code>clearInputs</code> function is working as intended. The <code>setInputs</code> function returned by <code>useState</code> is asynchronous, causing your 'AFTER THE SETTING' console log to show the value of <code>inputs</code> before it has been updated. </p>\n\n<p>Basic use of your custom hook is shown to work here.. <a href=\"https://codesandbox.io/s/jznpk7w85w\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/jznpk7w85w</a></p>\n\n<p>btw, you should prefix your custom hook name with <code>use</code>.. <a href=\"https://reactjs.org/docs/hooks-custom.html#extracting-a-custom-hook\" rel=\"nofollow noreferrer\">https://reactjs.org/docs/hooks-custom.html#extracting-a-custom-hook</a></p>\n"}, {"tags": [], "owner": {"reputation": 585, "user_id": 3771483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0d219b9c3b471c971f644c830475d46?s=128&d=identicon&r=PG&f=1", "display_name": "Bear-Foot", "link": "https://stackoverflow.com/users/3771483/bear-foot"}, "is_accepted": false, "score": 0, "last_activity_date": 1553764038, "creation_date": 1553764038, "answer_id": 55393730, "question_id": 55387739, "link": "https://stackoverflow.com/questions/55387739/resetting-initial-state-of-usestate/55393730#55393730", "title": "Resetting initial state of useState", "body": "<p>About why you log isn't right, one must understand this: Everytime your hook is called (basically on every form render) there is a new clearInputs function created, that has its own version of <code>inputs</code>. So, within the clearInputs function itself, <code>inputs</code> cannot change, because they come from higher up in the scope, the useState.</p>\n\n<p>If you want to notice changes between 2 calls of your hook, you could log <code>inputs</code> just before returning [inputs, ...].</p>\n\n<p>Again, in your hook, you are not calling <code>setInputs</code>, you are defining a <code>clearInputs</code> function that will trigger a state change, that will re-render your component, which will use your hook once again, your hook will read the new value of <code>inputs</code>, and create a new <code>clearInputs</code> function.</p>\n"}], "owner": {"reputation": 41, "user_id": 10792138, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6qLCKXxXoj0/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hEEKU-SyRqp7KUHhB7PnqnNmUgqw/mo/photo.jpg?sz=128", "display_name": "Xavier Munroe", "link": "https://stackoverflow.com/users/10792138/xavier-munroe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7945, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1553795269, "creation_date": 1553727509, "last_edit_date": 1553795269, "question_id": 55387739, "link": "https://stackoverflow.com/questions/55387739/resetting-initial-state-of-usestate", "title": "Resetting initial state of useState", "body": "<p>In order to improve my React skills, I have been trying to build a reusable form state hook and form validator. My custom hook, FormState, initializes an object with empty strings for values to be used as an initial state for my hook. I wrote a function, clearInputs, that I expected to reset my inputs to their initial state but it is failing to update.</p>\n\n<p>I've poked around looking for an answer, even referring to this Stack Overflow post: <a href=\"https://stackoverflow.com/questions/54895883/reset-to-initial-state-with-react-hooks\">Reset to Initial State with React Hooks</a> . Still no dice.</p>\n\n<pre><code>// MY FORMSTATE HOOK\nimport { useState } from 'react';\n\nconst FormState = props =&gt; {\n    let initialState = { ...props };\n\n    const [ inputs, setInputs ] = useState(initialState);\n\n    const [ errors, setErrors ] = useState(initialState);\n\n    const handleInput = e =&gt;\n        setInputs({\n            ...inputs,\n            [e.target.name]: e.target.value\n        });\n\n    const handleError = errs =&gt; setErrors({ ...errors, ...errs });\n\n    const resetForm = () =&gt; {\n        setInputs({ ...initialState });\n        setErrors({ ...initialState });\n    };\n\n    const clearInputs = () =&gt; {\n        console.log('SUPPOSED TO CLEAR', initialState)\n        console.log('MY INPUTS', inputs)\n\n        setInputs({ ...initialState });\n\n        console.log('AFTER THE SETTING', inputs)\n    };\n\n    return [ inputs, handleInput, errors, handleError, resetForm, clearInputs ];\n};\n\nexport default FormState;\n</code></pre>\n\n<pre><code>// REGISTER FORM\nimport React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\n\nimport FormState from './formState';\nimport Field from './field';\n\nimport { registerUser } from '../../actions/users';\n\nimport './forms.css';\n\nconst RegisterForm = props =&gt; {\n    const isLoggedIn = localStorage.getItem('user');\n\n    useEffect(\n        () =&gt; {\n            if (isLoggedIn) {\n                const parsedUser = JSON.parse(isLoggedIn);\n                props.history.push(`/profile/${parsedUser.pk}`);\n            }\n        },\n        [ isLoggedIn ]\n    );\n\n    const initialInputs = {\n        username: '',\n        password1: '',\n        password2: '',\n        first_name: '',\n        last_name: ''\n    };\n\n    const [ inputs, handleInput, errors, handleErrors, resetForm, clearInputs ] = FormState(initialInputs);\n\n    const handleSubmit = e =&gt; {\n        e.preventDefault();\n\n        const validForm = validate(inputs, handleErrors);\n\n        if (validForm) {\n            props.registerUser(inputs);\n            resetForm();\n        }\n        else {\n            clearInputs();\n        }\n    };\n\n    return (\n        &lt;div className='form-wrap'&gt;\n            &lt;h1&gt;Register Here&lt;/h1&gt;\n            &lt;form className='form' onSubmit={handleSubmit}&gt;\n                &lt;Field\n                    label='Username'\n                    fieldname='username'\n                    value={inputs.username}\n                    placeholder='Enter Your Username'\n                    fielderror={errors.username}\n                    handleInput={handleInput}\n                    classNames='form-section'\n                /&gt;\n                &lt;Field\n                    label='Password'\n                    fieldname='password1'\n                    value={inputs.password1}\n                    placeholder='Enter Your Password'\n                    fielderror={errors.password1}\n                    handleInput={handleInput}\n                    classNames='form-section'\n                /&gt;\n                &lt;Field\n                    label='Confirm Password'\n                    fieldname='password2'\n                    value={inputs.password2}\n                    placeholder='Confirm Your Password'\n                    fielderror={errors.password2}\n                    handleInput={handleInput}\n                    classNames='form-section'\n                /&gt;\n                &lt;Field\n                    label='First Name'\n                    fieldname='first_name'\n                    value={inputs.first_name}\n                    placeholder='Enter Your First Name'\n                    fielderror={errors.first_name}\n                    handleInput={handleInput}\n                    classNames='form-section'\n                /&gt;\n                &lt;Field\n                    label='Last Name'\n                    fieldname='last_name'\n                    value={inputs.last_name}\n                    placeholder='Enter Your Last Name'\n                    fielderror={errors.last_name}\n                    handleInput={handleInput}\n                    classNames='form-section'\n                /&gt;\n                &lt;button type='submit' className='submit-button'&gt;\n                    Submit\n                &lt;/button&gt;\n            &lt;/form&gt;\n        &lt;/div&gt;\n    );\n};\n\nconst validate = (inputs, handleErrors) =&gt; {\n    let errs = {};\n    const { username, password1, password2, first_name, last_name } = inputs;\n    if (!username) {\n        errs.username = 'Username is missing';\n    }\n    if (!password1) {\n        errs.password1 = 'Password is missing';\n    }\n    if (!password2) {\n        errs.password2 = 'Confirm password is missing';\n    }\n    if (!first_name) {\n        errs.first_name = 'First name is required';\n    }\n    if (!last_name) {\n        errs.last_name = 'Last name is required';\n    }\n    if (username.length &lt; 6) {\n        errs.username = 'Username is too short';\n    }\n    if (password1.length &lt; 8) {\n        errs.password1 = 'Password is too short';\n    }\n    if (password1 !== password2) {\n        errs.password1 = 'Passwords must match';\n        errs.password2 = 'Passwords must match';\n    }\n\n    if (Object.keys(errs).length) {\n        handleErrors(errs);\n        return false;\n    }\n    else {\n        return true;\n    }\n};\n\nconst mapStateToProps = state =&gt; {\n    return {\n        loggedInUser: state.users.loggedInUser,\n        registerPending: state.users.registerPending,\n        registerError: state.users.registerError\n    };\n};\n\nconst mapDispatchToProps = dispatch =&gt; {\n    return {\n        registerUser: newUser =&gt; {\n            dispatch(registerUser(newUser));\n        }\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RegisterForm);\n</code></pre>\n\n<p>When clearInputs is triggered, it should reset inputs to the initial state. Instead nothing is happening. Any help is really appreciated.</p>\n\n<p>EDIT:\nLet me further clarify. Each Field in my form is passed a value from inputs (username, password1, etc). When clearInputs is called, it clears the inputs in the hook but it DOES NOT clear the values in the Field. </p>\n"}, {"tags": ["javascript", "node.js", "logging", "winston"], "comments": [{"owner": {"reputation": 5144, "user_id": 7185241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IKJJ3.jpg?s=128&g=1", "display_name": "1565986223", "link": "https://stackoverflow.com/users/7185241/1565986223"}, "edited": false, "score": 0, "creation_date": 1553739552, "post_id": 55387738, "comment_id": 97500012, "body": "You need another transport for <code>console const console = new winston.transports.Console();</code> Check out the docs. The only issue I faced was <code>stack trace</code> was formatted to string, so not prettified on the terminal"}, {"owner": {"reputation": 17546, "user_id": 328565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1da915c61230d9a2935b08df3e4e6fc6?s=128&d=identicon&r=PG", "display_name": "DS.", "link": "https://stackoverflow.com/users/328565/ds"}, "reply_to_user": {"reputation": 5144, "user_id": 7185241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IKJJ3.jpg?s=128&g=1", "display_name": "1565986223", "link": "https://stackoverflow.com/users/7185241/1565986223"}, "edited": false, "score": 0, "creation_date": 1553830601, "post_id": 55387738, "comment_id": 97540357, "body": "My question is about formatting of extra args, not about transports."}, {"owner": {"reputation": 4243, "user_id": 2401804, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/chtg9.jpg?s=128&g=1", "display_name": "r3wt", "link": "https://stackoverflow.com/users/2401804/r3wt"}, "edited": false, "score": 0, "creation_date": 1559584249, "post_id": 55387738, "comment_id": 99459069, "body": "@DS.i&#39;m in the same boat. did you ever find a solution? this library used to be good. edit, i literally just figured it out. so i&#39;m going to leave my solution for everyone here."}, {"owner": {"reputation": 1741, "user_id": 238847, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c202e2ec33e677d2c3bbe5e73ab965bc?s=128&d=identicon&r=PG", "display_name": "Stan Wiechers", "link": "https://stackoverflow.com/users/238847/stan-wiechers"}, "edited": false, "score": 0, "creation_date": 1617207042, "post_id": 55387738, "comment_id": 118241643, "body": "this works: <a href=\"https://github.com/winstonjs/winston/issues/1427#issuecomment-811184784\" rel=\"nofollow noreferrer\">github.com/winstonjs/winston/issues/1427#issuecomment-811184&zwnj;&#8203;784</a>"}], "answers": [{"comments": [{"owner": {"reputation": 17546, "user_id": 328565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1da915c61230d9a2935b08df3e4e6fc6?s=128&d=identicon&r=PG", "display_name": "DS.", "link": "https://stackoverflow.com/users/328565/ds"}, "edited": false, "score": 1, "creation_date": 1559682146, "post_id": 56432386, "comment_id": 99495949, "body": "When I try your exact code with the two lines from my example, the output I get is: <code>info: Hello {&quot;0&quot;:&quot;B&quot;,&quot;1&quot;:&quot;o&quot;,&quot;2&quot;:&quot;b&quot;}</code> and <code>info: Hello {&quot;someObj&quot;:1}</code> which is quite poor (not really printing the string, omitting the number entirely). This is winston 3.2.1."}, {"owner": {"reputation": 4243, "user_id": 2401804, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/chtg9.jpg?s=128&g=1", "display_name": "r3wt", "link": "https://stackoverflow.com/users/2401804/r3wt"}, "reply_to_user": {"reputation": 17546, "user_id": 328565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1da915c61230d9a2935b08df3e4e6fc6?s=128&d=identicon&r=PG", "display_name": "DS.", "link": "https://stackoverflow.com/users/328565/ds"}, "edited": false, "score": 0, "creation_date": 1559751897, "post_id": 56432386, "comment_id": 99520536, "body": "@DS. how are you calling it, can you give me an example? also i updated the post with the final solution i am using in my project"}, {"owner": {"reputation": 17546, "user_id": 328565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1da915c61230d9a2935b08df3e4e6fc6?s=128&d=identicon&r=PG", "display_name": "DS.", "link": "https://stackoverflow.com/users/328565/ds"}, "edited": false, "score": 1, "creation_date": 1562014168, "post_id": 56432386, "comment_id": 100236461, "body": "I think you may have misunderstood my question, which was about calls like <code>log.info(&#39;app running on port&#39;, 3000)</code> (notice absence of &quot;%d&quot;), which works with <code>console.log</code> and with older winston, but not with new winston formatters."}, {"owner": {"reputation": 4243, "user_id": 2401804, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/chtg9.jpg?s=128&g=1", "display_name": "r3wt", "link": "https://stackoverflow.com/users/2401804/r3wt"}, "reply_to_user": {"reputation": 17546, "user_id": 328565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1da915c61230d9a2935b08df3e4e6fc6?s=128&d=identicon&r=PG", "display_name": "DS.", "link": "https://stackoverflow.com/users/328565/ds"}, "edited": false, "score": 0, "creation_date": 1562599008, "post_id": 56432386, "comment_id": 100416221, "body": "@DS. my bad. Honestly, we ended up moving away from winston and just writing our own logger. Sorry i couldn&#39;t help you."}, {"owner": {"reputation": 4243, "user_id": 2401804, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/chtg9.jpg?s=128&g=1", "display_name": "r3wt", "link": "https://stackoverflow.com/users/2401804/r3wt"}, "reply_to_user": {"reputation": 17546, "user_id": 328565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1da915c61230d9a2935b08df3e4e6fc6?s=128&d=identicon&r=PG", "display_name": "DS.", "link": "https://stackoverflow.com/users/328565/ds"}, "edited": false, "score": 0, "creation_date": 1565636069, "post_id": 56432386, "comment_id": 101406759, "body": "@DS. i made another go of it and published my work to NPM. please let me know if the output and functionality suits your needs."}], "tags": [], "owner": {"reputation": 4243, "user_id": 2401804, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/chtg9.jpg?s=128&g=1", "display_name": "r3wt", "link": "https://stackoverflow.com/users/2401804/r3wt"}, "is_accepted": false, "score": 3, "last_activity_date": 1565636023, "last_edit_date": 1565636023, "creation_date": 1559584853, "answer_id": 56432386, "question_id": 55387738, "link": "https://stackoverflow.com/questions/55387738/how-to-make-winston-logging-library-work-like-console-log/56432386#56432386", "title": "How to make `winston` logging library work like `console.log`?", "body": "<p>I had a similar problem, and after much trial and error i think i have a solution that you might be interested in. As i mentioned in my last update, we ended up building our own logger. well, over the weekend i published this logger to npm, and you're welcome to check it out. </p>\n\n<p><strong>It should have more or less identical output to <code>console.log</code>.</strong> If you notice any inconsistencies, please let me know.</p>\n\n<p>Also it also has multiple transports, and you can even pass custom ones, and you can even \"wrap\" the console functions to quickly integrate into your project.</p>\n\n<p>example code:</p>\n\n<pre><code>const {createLogger,wrapConsole,unwrapConsole} = require('@r3wt/log');\nconst log = createLogger({log_level:'info',transports:['console','file']});\nwrapConsole(log);//wraps the console globally with the log instance, making integration into large existing project less painful\n\n// NOTE: only the following 4 functions are wrapped. \nconsole.log('hi!');\nconsole.warn('warning');\nconsole.error('error');\nconsole.info('info');\n\nunwrapConsole();//unwrap console globally\n</code></pre>\n\n<p>You can find the library <a href=\"https://www.npmjs.com/package/@r3wt/log\" rel=\"nofollow noreferrer\">here</a> as well as more code examples and basic documentation if you're interested, and PR's with features and fixes are welcomed and encouraged. code is MIT so you are free to fork and create your own version :-)</p>\n\n<p>Best of luck, and i hope this helps. </p>\n"}, {"comments": [{"owner": {"reputation": 2968, "user_id": 1776916, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d3f1a9aa06094a8f5d709db4c104d03e?s=128&d=identicon&r=PG", "display_name": "Han", "link": "https://stackoverflow.com/users/1776916/han"}, "edited": false, "score": 1, "creation_date": 1597386745, "post_id": 56842780, "comment_id": 112120997, "body": "Miss this case <code>log.info({someObj: 1});</code>"}, {"owner": {"reputation": 1741, "user_id": 238847, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c202e2ec33e677d2c3bbe5e73ab965bc?s=128&d=identicon&r=PG", "display_name": "Stan Wiechers", "link": "https://stackoverflow.com/users/238847/stan-wiechers"}, "edited": false, "score": 0, "creation_date": 1617207306, "post_id": 56842780, "comment_id": 118241758, "body": "Take a look at this: <a href=\"https://github.com/winstonjs/winston/issues/1427#issuecomment-811184784\" rel=\"nofollow noreferrer\">github.com/winstonjs/winston/issues/1427#issuecomment-811184&zwnj;&#8203;784</a> It addresses: <code>console.log( [ {a:1} ] )</code>"}], "tags": [], "owner": {"reputation": 17546, "user_id": 328565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1da915c61230d9a2935b08df3e4e6fc6?s=128&d=identicon&r=PG", "display_name": "DS.", "link": "https://stackoverflow.com/users/328565/ds"}, "is_accepted": true, "score": 16, "last_activity_date": 1562017119, "creation_date": 1562017119, "answer_id": 56842780, "question_id": 55387738, "link": "https://stackoverflow.com/questions/55387738/how-to-make-winston-logging-library-work-like-console-log/56842780#56842780", "title": "How to make `winston` logging library work like `console.log`?", "body": "<p>Answering my own question. The issue is with <code>format.splat</code> -- pure <a href=\"https://nodejs.org/docs/latest-v10.x/api/util.html\" rel=\"noreferrer\">util.format</a> offers a simpler and more expected behavior. Replacing <code>format.splat</code> with this <code>utilFormatter</code> addresses the problem:</p>\n\n<pre><code>const util = require('util');\n\nfunction transform(info, opts) {\n  const args = info[Symbol.for('splat')];\n  if (args) { info.message = util.format(info.message, ...args); }\n  return info;\n}\n\nfunction utilFormatter() { return {transform}; }\n</code></pre>\n\n<p>The example from my question then looks like so:</p>\n\n<pre><code>const log = winston.createLogger({\n  level: 'debug',\n  format: format.combine(\n    format.timestamp({format: 'YYYY-MM-DD HH:mm:ss.SSS'}),\n    utilFormatter(),     // &lt;-- this is what changed\n    format.colorize(),\n    format.printf(({level, message, label, timestamp}) =&gt; `${timestamp} ${label || '-'} ${level}: ${message}`),\n  ),\n  transports: [\n    new winston.transports.Stream({\n      stream: process.stderr,\n      level: 'debug',\n    })\n  ],\n});\n\nlog.info(\"Hello, %s\", \"Bob\");          // Works: outputs \"Hello, Bob\"\nlog.info(\"Hello\", \"Bob\");              // Works: outputs \"Hello Bob\"\nlog.info(\"Hello\", 123, {someObj: 1});  // Works: outputs \"Hello 123 { someObj: 1} \"\n</code></pre>\n"}], "owner": {"reputation": 17546, "user_id": 328565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1da915c61230d9a2935b08df3e4e6fc6?s=128&d=identicon&r=PG", "display_name": "DS.", "link": "https://stackoverflow.com/users/328565/ds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4494, "favorite_count": 1, "accepted_answer_id": 56842780, "answer_count": 2, "score": 9, "last_activity_date": 1586460333, "creation_date": 1553727506, "question_id": 55387738, "link": "https://stackoverflow.com/questions/55387738/how-to-make-winston-logging-library-work-like-console-log", "title": "How to make `winston` logging library work like `console.log`?", "body": "<p>The <a href=\"https://github.com/winstonjs/winston\" rel=\"noreferrer\">winston</a> library is great for transports and flexibility. I'd like to use it to allow configuring levels and redirecting to files, but would like to reproduce console.log behavior for formatting, and having trouble.</p>\n\n<p>Here's what I have so far:</p>\n\n<pre><code>const log = winston.createLogger({\n  level: 'debug',\n  format: format.combine(\n    format.timestamp({format: 'YYYY-MM-DD HH:mm:ss.SSS'}),\n    format.splat(),\n    format.colorize(),\n    format.printf(({level, message, label, timestamp}) =&gt; `${timestamp} ${label || '-'} ${level}: ${message}`),\n  ),\n  transports: [\n    new winston.transports.Stream({\n      stream: process.stderr,\n      level: 'debug',\n    })\n  ],\n});\n\nlog.info(\"Hello, %s\", \"Bob\");   // Works: outputs \"Hello, Bob\"\n</code></pre>\n\n<p>But this don't work:</p>\n\n<pre><code>log.info(\"Hello\", \"Bob\");\nlog.info(\"Hello\", 123, {someObj: 1});\n</code></pre>\n\n<p>I'd like all extraneous objects after those taken up by <code>splat()</code> to get added on, space-separated, and converted to string preferably using <code>util.inspect()</code>.</p>\n"}, {"tags": ["javascript", "charts"], "comments": [{"owner": {"reputation": 1901, "user_id": 8618934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HXsRe.png?s=128&g=1", "display_name": "raf18seb", "link": "https://stackoverflow.com/users/8618934/raf18seb"}, "edited": false, "score": 0, "creation_date": 1553775912, "post_id": 55387626, "comment_id": 97515204, "body": "Specify whether you use highcharts.js or chart.js. They are 2 different libraries."}], "answers": [{"tags": [], "owner": {"reputation": 8880, "user_id": 10522842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aipNo.jpg?s=128&g=1", "display_name": "Sebastian W\u0119dzel", "link": "https://stackoverflow.com/users/10522842/sebastian-w%c4%99dzel"}, "is_accepted": false, "score": 0, "last_activity_date": 1553775816, "last_edit_date": 1553775816, "creation_date": 1553775513, "answer_id": 55397455, "question_id": 55387626, "link": "https://stackoverflow.com/questions/55387626/chart-js-yaxis-rotation/55397455#55397455", "title": "Chart.js yAxis rotation", "body": "<p>I am not sure if your question is connected to Highcharts library or Chart.js.</p>\n\n<p>If you are using Highcharts - here is a solution:\nAs I understand you want to rotate only the title of yAxis the same way as labels are rotated in a sample which you sent. So this code should be a solution: </p>\n\n<pre><code>yAxis: {\n    title: {\n    rotation: 90\n  }\n},\n</code></pre>\n\n<p><a href=\"https://jsfiddle.net/BlackLabel/wc85xm6y/\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}], "owner": {"reputation": 182, "user_id": 7476171, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/2c229bc9cce9260c0433a2e6b6278a97?s=128&d=identicon&r=PG&f=1", "display_name": "squareCircle", "link": "https://stackoverflow.com/users/7476171/squarecircle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 536, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553775816, "creation_date": 1553726787, "question_id": 55387626, "link": "https://stackoverflow.com/questions/55387626/chart-js-yaxis-rotation", "title": "Chart.js yAxis rotation", "body": "<p>Is there the solution to rotate just title for yAxis, similar to <a href=\"https://api.highcharts.com/highcharts/yAxis.labels.rotation\" rel=\"nofollow noreferrer\">https://api.highcharts.com/highcharts/yAxis.labels.rotation</a></p>\n"}, {"tags": ["javascript", "reactjs", "validation", "react-hooks"], "answers": [{"tags": [], "owner": {"reputation": 585, "user_id": 3771483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0d219b9c3b471c971f644c830475d46?s=128&d=identicon&r=PG&f=1", "display_name": "Bear-Foot", "link": "https://stackoverflow.com/users/3771483/bear-foot"}, "is_accepted": false, "score": 0, "last_activity_date": 1553774001, "last_edit_date": 1553774001, "creation_date": 1553773649, "answer_id": 55396850, "question_id": 55387594, "link": "https://stackoverflow.com/questions/55387594/accessing-state-after-its-set-inside-custom-hook-correctly-with-react-hooks/55396850#55396850", "title": "Accessing state after it&#39;s set inside custom hook correctly with React Hooks", "body": "<p>When debugging your code, you have really to go step by step:</p>\n\n<ul>\n<li><p>Start from where it is faulty -> validateProfileForm -> where does it come from ?</p></li>\n<li><p>validate returned by your hook -> where does validate gets its data from ?</p></li>\n<li><p>the upper scope state variable -> where does it come from ?</p></li>\n<li><p>useState line 147 in this <a href=\"https://codesandbox.io/s/91n3yjp56y\" rel=\"nofollow noreferrer\">sandbox</a> -> where does useState gets it value from ?</p></li>\n<li><p>initialState -> has initialState the right value ?</p></li>\n<li><p>Yes -> why doesn't useState use initialState ?</p></li>\n<li><p>Oh wait, useState uses the initialParameters ONLY the first call, so I cannot use the parameter to re-initialize the values. Because you set the initialState afterward, the first value useState had is now stuck in state unless you use setState</p></li>\n</ul>\n\n<p>So now, your options are, use setState only when initialState changes, (because if you do it every time you will be stuck with the initial values), but because your stateFactory always returns a new object, I don't recommand that (you would have to compare deeply)</p>\n\n<p>OR</p>\n\n<p>Provide an imperative method to re-initialize the state, this way you don't have to deal with a possibly annoying diffing system.</p>\n\n<p>Also, the reason why you even get \"first name\" in the input in the first place, is because you set it's value with <code>value={profileFormInitialState.firstName}</code>, when your form should be the one handling that for you.</p>\n"}], "owner": {"reputation": 1295, "user_id": 3113377, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/74d1e80d392b85f3196d487adc38e285?s=128&d=identicon&r=PG&f=1", "display_name": "mcclosa", "link": "https://stackoverflow.com/users/3113377/mcclosa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 692, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553774001, "creation_date": 1553726643, "last_edit_date": 1553727945, "question_id": 55387594, "link": "https://stackoverflow.com/questions/55387594/accessing-state-after-its-set-inside-custom-hook-correctly-with-react-hooks", "title": "Accessing state after it&#39;s set inside custom hook correctly with React Hooks", "body": "<p>This maybe isn't the right question. But I am having an issue with a custom form validation hook that doesn't read the input values when they are updated via a http request.</p>\n\n<p>Here is a <a href=\"https://codesandbox.io/s/2pwrlj8ykn\" rel=\"nofollow noreferrer\">CodeSandbox</a> if you wish to try it out.</p>\n\n<p>This is the custom hook <code>useValidatedForm</code> </p>\n\n<pre><code>const [\n    profileFormData,\n    profileFormValidation,\n    validateProfileForm,\n    getProfileFormData\n  ] = useValidatedForm(\n    profileFormInitialState,\n    profileFormValidationDefinitions\n  );\n</code></pre>\n\n<p>I have state for the <code>profileFormInitialState</code></p>\n\n<pre><code>const [profileFormInitialState, setProfileFormInitialState] = useState({\n    firstName: \"\"\n  });\n</code></pre>\n\n<p>I update this state in a http request (dummy http request at the moment)</p>\n\n<pre><code>useEffect(() =&gt; {\n    const fn = \"first name\";\n    setProfileFormInitialState({\n      firstName: fn\n    });\n    setContent({ title: \"My Personal Details\" });\n    setLoading({ status: false });\n  }, []);\n</code></pre>\n\n<p>This is my form which gets rendered to the DOM. The input value is set via the <code>profileFormInitialState</code> state.</p>\n\n<pre><code>const form = (\n    &lt;&gt;\n      &lt;FormControl\n        key={\"profileForm\"}\n        submit={profileFormSubmit}\n        form={profileFormData}\n        validation={profileFormValidation}\n      &gt;\n        &lt;InputControl\n          autoComplete=\"off\"\n          type=\"text\"\n          name=\"firstName\"\n          placeholder={profileFormInitialState.firstName}\n          value={profileFormInitialState.firstName}\n          onInput={e =&gt;\n            setProfileFormInitialState({ firstName: e.target.value })\n          }\n          onChange={e =&gt; e.preventDefault()}\n          label=\"First Name*\"\n          columns=\"2\"\n          position=\"left\"\n        &gt;\n          &lt;ErrorMsg map=\"required\" msg=\"First Name is required\" /&gt;\n        &lt;/InputControl&gt;\n        &lt;InputButton\n          modifier={\"Button--profile\"}\n          disabled={!profileFormValidation.valid}\n          buttonText=\"Update Profile\"\n          type=\"submit\"\n        /&gt;\n      &lt;/FormControl&gt;\n    &lt;/&gt;\n  );\n</code></pre>\n\n<p>Below is my <code>useValidatedForm</code> custom hook</p>\n\n<pre><code>import { useState } from \"react\";\nimport ValidaJS from \"valida-js\";\n\nfunction stateFactory(fields) {\n  return Object.keys(fields).reduce((acc, key) =&gt; {\n    acc[key] = {\n      value: fields[key],\n      meta: {\n        touched: false,\n        dirty: false\n      }\n    };\n    return acc;\n  }, {});\n}\n\nfunction emptyErrorFactory(fields) {\n  return Object.keys(fields).reduce((acc, key) =&gt; {\n    acc[key] = [];\n    return acc;\n  }, {});\n}\n\nfunction rulesByNameFactory(descriptors, validators) {\n  const descriptorBy = descriptors.reduce((acc, descriptor) =&gt; {\n    acc[descriptor.type] = acc[descriptor.type];\n    acc[descriptor.name] = acc[descriptor.name]\n      ? acc[descriptor.name].concat([descriptor])\n      : [descriptor];\n    return acc;\n  }, {});\n  return Object.keys(descriptorBy).reduce(\n    (acc, key) =&gt; {\n      acc[key] = ValidaJS.rulesCreator(validators, descriptorBy[key]);\n      return acc;\n    },\n    { default: ValidaJS.rulesCreator(validators, descriptors) }\n  );\n}\n\nfunction getDataFromState(state) {\n  return Object.keys(state).reduce((acc, key) =&gt; {\n    acc[key] = state[key].value;\n\n    return acc;\n  }, {});\n}\n\nfunction extendsValidations(key, validation, newErrors = []) {\n  const newValidation = {\n    errors: {\n      ...validation.errors,\n      [key]: newErrors\n    }\n  };\n  newValidation[\"valid\"] = Object.keys(newValidation.errors).every(errorKey =&gt; {\n    return newValidation.errors[errorKey].length === 0;\n  });\n  return newValidation;\n}\n\nfunction onChangeHandlerByKey(\n  state,\n  key,\n  setState,\n  setValidation,\n  validation,\n  rulesBy\n) {\n  return event =&gt; {\n    const newState = {\n      ...state,\n      [key]: {\n        ...state[key],\n        value:\n          event.currentTarget.type == \"checkbox\"\n            ? event.currentTarget.checked\n            : event.currentTarget.value,\n        meta: {\n          ...state[key].meta,\n          dirty: true\n        }\n      }\n    };\n    const newErrors = ValidaJS.validate(\n      rulesBy[key],\n      getDataFromState(newState)\n    ).errors[key];\n    setState(newState);\n    setValidation(extendsValidations(key, validation, newErrors));\n  };\n}\n\nfunction onClickHandlerByKey(state, key, setState) {\n  return _ =&gt; {\n    setState({\n      ...state,\n      [key]: {\n        ...state[key],\n        meta: {\n          ...state[key].meta,\n          touched: true\n        }\n      }\n    });\n  };\n}\n\nfunction formDataFactory(state, setState, setValidation, validation, rulesBy) {\n  return Object.keys(state).reduce((acc, key) =&gt; {\n    acc[key] = {\n      meta: state[key].meta,\n      input: {\n        value: state[key].value,\n        onClick: onClickHandlerByKey(\n          state,\n          key,\n          setState,\n          setValidation,\n          validation,\n          rulesBy\n        ),\n        onChange: onChangeHandlerByKey(\n          state,\n          key,\n          setState,\n          setValidation,\n          validation,\n          rulesBy\n        )\n      }\n    };\n    return acc;\n  }, {});\n}\n\nconst useValidatedForm = (\n  fields = {},\n  descriptors = [],\n  validators = ValidaJS.validators\n) =&gt; {\n  const initialErrorsObj = emptyErrorFactory(fields);\n  const initialState = stateFactory(fields);\n  console.log(\"initial state = \" + initialState.firstName.value);\n  const [state, setState] = useState(initialState);\n  console.log(\"state = \" + state.firstName.value);\n  const [validation, setValidation] = useState({\n    valid: true,\n    errors: initialErrorsObj\n  });\n  const rulesBy = rulesByNameFactory(descriptors, validators);\n  const form = formDataFactory(\n    state,\n    setState,\n    setValidation,\n    validation,\n    rulesBy\n  );\n\n  const getData = () =&gt; getDataFromState(state);\n  const setData = data =&gt; setState(stateFactory(data));\n  const validate = () =&gt; {\n    const newValidations = ValidaJS.validate(\n      rulesBy.default,\n      getDataFromState(state)\n    );\n    setValidation({\n      ...newValidations,\n      errors: { ...initialErrorsObj, ...newValidations.errors }\n    });\n    return newValidations.valid;\n  };\n\n  return [form, validation, validate, getData, setData];\n};\n\nexport default useValidatedForm;\n</code></pre>\n\n<p>In the <code>useValidatedForm</code> function, the issue that I am having is that when I submit the form and this function is called, <code>initialState</code> is correct, it returns <code>first name</code>, it is used as the initial value for <code>state</code> but <code>state</code> will return as an empty string and will do so until I type in the input and then it updates correctly. So I'm not exactly sure how to make this validation work as it relys on the <code>state</code> value and updating the <code>state</code> value with <code>setState</code>? Any help would be greatly appreciated.</p>\n"}, {"tags": ["javascript", "jquery", "datatables"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3307073"}, "is_accepted": true, "score": 0, "last_activity_date": 1553752200, "last_edit_date": 1553752200, "creation_date": 1553751636, "answer_id": 55390840, "question_id": 55387588, "link": "https://stackoverflow.com/questions/55387588/datatables-find-column-name/55390840#55390840", "title": "Datatables find column name", "body": "<p>Your attempt was unsuccessful, since <code>this</code> in your context is not what you think it is. I guess, following code would get you expected result:</p>\n\n<pre><code>const dataTable = $('#projectRevenue').DataTable();\n$(td).attr('data-id', dataTable.column(col).header().innerText)\n</code></pre>\n\n<p>However, if you wish to refer to source data object property, you may do:</p>\n\n<pre><code>const dataTable = $('#projectRevenue').DataTable();\n$(td).attr('data-id', dataTable.column(col).dataSrc())\n</code></pre>\n"}], "owner": {"reputation": 599, "user_id": 3375814, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/04ac0d83d4295b3b82ef51915c26fa63?s=128&d=identicon&r=PG&f=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/3375814/richard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 55390840, "answer_count": 1, "score": 0, "last_activity_date": 1553760093, "creation_date": 1553726610, "last_edit_date": 1553760093, "question_id": 55387588, "link": "https://stackoverflow.com/questions/55387588/datatables-find-column-name", "title": "Datatables find column name", "body": "<p>I am using the following code in DataTables to draw the table:</p>\n\n<pre><code>projectRevenue = $('#projectRevenue').DataTable({\n    serverSide: true,\n    processing: true,\n    scrollX: true,\n    stateSave: true,\n    ajax: {\n            url: \"...\",\n            type: \"GET\",\n            dataType: \"JSON\"\n        },\n    columns: [\n        { name: 'id', data: 'id' , searchable: false , visible: false },\n        { name: 'year', data: 'year' , searchable: true , visible: true , className: \"rev_update\" },\n        { name: 'product_code', data: 'product_code' , searchable: true , visible: true , className: \"rev_update\" },\n        { name: 'jan', data: 'jan' , searchable: true , visible: true , className: \"rev_update\" },\n        { name: 'feb', data: 'feb' , searchable: true , visible: true , className: \"rev_update\" },\n        { name: 'mar', data: 'mar' , searchable: true , visible: true , className: \"rev_update\" },\n        { name: 'apr', data: 'apr' , searchable: true , visible: true , className: \"rev_update\" },\n        { name: 'may', data: 'may' , searchable: true , visible: true , className: \"rev_update\" },\n        { name: 'jun', data: 'jun' , searchable: true , visible: true , className: \"rev_update\" },\n        { name: 'jul', data: 'jul' , searchable: true , visible: true , className: \"rev_update\" },\n        { name: 'aug', data: 'aug' , searchable: true , visible: true , className: \"rev_update\" },\n        { name: 'sep', data: 'sep' , searchable: true , visible: true , className: \"rev_update\" },\n        { name: 'oct', data: 'oct' , searchable: true , visible: true , className: \"rev_update\" },\n        { name: 'nov', data: 'nov' , searchable: true , visible: true , className: \"rev_update\" },\n        { name: 'dec', data: 'dec' , searchable: true , visible: true , className: \"rev_update\" },\n...\n</code></pre>\n\n<p>In order to be able to manipulate the data, I insert some attributes for each td with this configuration:</p>\n\n<pre><code>columnDefs: [{\n      \"targets\": [1,2,3,4,5,6,7,8,9,10,11,12,13,14],\n      \"createdCell\": function (td, cellData, rowData, row, col) {\n        $(td).attr('contenteditable','true');\n        $(td).attr('data-id',rowData.id);\n      }\n    }],\n</code></pre>\n\n<p>I would like to add the name of the column as an attribute but I can't find anywhere a way to get this data. So I would like something like:</p>\n\n<pre><code>$(td).attr('data-id',columns(this).name);\n</code></pre>\n\n<p>But it is not working.</p>\n"}, {"tags": ["javascript", "redux", "react-redux", "react-hooks"], "comments": [{"owner": {"reputation": 3905, "user_id": 9602863, "user_type": "registered", "profile_image": "https://graph.facebook.com/1743384949051322/picture?type=large", "display_name": "UjinT34", "link": "https://stackoverflow.com/users/9602863/ujint34"}, "edited": false, "score": 1, "creation_date": 1553727550, "post_id": 55387568, "comment_id": 97497275, "body": "react-redux v7.x will get an official hook for redux <a href=\"https://github.com/reduxjs/react-redux/releases/tag/v7.0.0-beta.0?utm_campaign=React%2BNewsletter&amp;utm_medium=web&amp;utm_source=React_Newsletter_154\" rel=\"nofollow noreferrer\">github.com/reduxjs/react-redux/releases/tag/&hellip;</a>"}, {"owner": {"reputation": 17405, "user_id": 3225108, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/JmhYB.jpg?s=128&g=1", "display_name": "azium", "link": "https://stackoverflow.com/users/3225108/azium"}, "edited": false, "score": 0, "creation_date": 1553729371, "post_id": 55387568, "comment_id": 97497816, "body": "<code>redux-react-hook</code> is a good package... you can read the entire source in a few minutes"}, {"owner": {"reputation": 11242, "user_id": 350933, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/XNqPJ.jpg?s=128&g=1", "display_name": "ctrlplusb", "link": "https://stackoverflow.com/users/350933/ctrlplusb"}, "edited": false, "score": 0, "creation_date": 1557754913, "post_id": 55387568, "comment_id": 98860771, "body": "I&#39;ve also developed an abstraction over redux that uses hooks. <a href=\"https://github.com/ctrlplusb/easy-peasy\" rel=\"nofollow noreferrer\">github.com/ctrlplusb/easy-peasy</a>"}, {"owner": {"reputation": 45, "user_id": 11531603, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/67qyy.png?s=128&g=1", "display_name": "Mike Thomson", "link": "https://stackoverflow.com/users/11531603/mike-thomson"}, "edited": false, "score": 0, "creation_date": 1558563429, "post_id": 55387568, "comment_id": 113334447, "body": "After doing this recently myself I posted this <a href=\"https://stackoverflow.com/questions/56231851/how-to-connect-redux-store-using-useselector-when-input-fields-already-mapped/56254951#56254951\" title=\"how to connect redux store using useselector when input fields already mapped\">stackoverflow.com/questions/56231851/&hellip;</a> Make sure you npm I react-redux@next Cheers"}], "answers": [{"tags": [], "owner": {"reputation": 1331, "user_id": 5088125, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/957806094241641/picture?type=large", "display_name": "Thomas Valadez", "link": "https://stackoverflow.com/users/5088125/thomas-valadez"}, "is_accepted": false, "score": 0, "last_activity_date": 1557849665, "creation_date": 1557849665, "answer_id": 56134448, "question_id": 55387568, "link": "https://stackoverflow.com/questions/55387568/using-redux-with-react-hooks/56134448#56134448", "title": "Using redux with react hooks", "body": "<p>At the time of writing this is still in alpha stage, if you want to try it update your react-redux to v7.1.0-alpha.4.</p>\n\n<p><a href=\"https://react-redux.js.org/next/api/hooks#hooks\" rel=\"nofollow noreferrer\">https://react-redux.js.org/next/api/hooks#hooks</a> </p>\n"}, {"tags": [], "owner": {"reputation": 844, "user_id": 4868108, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9UyeIl572lA/AAAAAAAAAAI/AAAAAAAAAsw/T-AJrIaP9OU/photo.jpg?sz=128", "display_name": "Hugodby", "link": "https://stackoverflow.com/users/4868108/hugodby"}, "is_accepted": false, "score": 2, "last_activity_date": 1606206879, "last_edit_date": 1606206879, "creation_date": 1567687459, "answer_id": 57805802, "question_id": 55387568, "link": "https://stackoverflow.com/questions/55387568/using-redux-with-react-hooks/57805802#57805802", "title": "Using redux with react hooks", "body": "<p>The official <code>react-redux</code> package provides hooks since v7.1. Redux hooks can be used instead of the <code>connect(mapStateToProps, mapDispatchToProps)</code> function.</p>\n<h3><code>useSelector()</code></h3>\n<p>Extract data from the Redux store state using a selector function.</p>\n<h3><code>useDispatch()</code></h3>\n<p>Return a reference to dispatch that can be used to dispatch actions.</p>\n<p>This is an example implementing a counter where the counter value is managed by Redux.</p>\n<pre class=\"lang-js prettyprint-override\"><code>import React from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nexport const CounterComponent = () =&gt; {\n  const dispatch = useDispatch();\n  const counter = useSelector(state =&gt; state.counter);\n\n  return (\n    &lt;div&gt;\n      &lt;span&gt;{counter}&lt;/span&gt;\n      &lt;button onClick={() =&gt; dispatch({ type: 'INCREMENT_COUNTER' })}&gt;\n        Increment counter\n      &lt;/button&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>\n<p>Source: <a href=\"https://react-redux.js.org/api/hooks\" rel=\"nofollow noreferrer\">https://react-redux.js.org/api/hooks</a></p>\n"}, {"tags": [], "owner": {"reputation": 193, "user_id": 6032677, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qmEzS.jpg?s=128&g=1", "display_name": "Atishay Baid", "link": "https://stackoverflow.com/users/6032677/atishay-baid"}, "is_accepted": false, "score": 2, "last_activity_date": 1617627941, "last_edit_date": 1617627941, "creation_date": 1573544136, "answer_id": 58813988, "question_id": 55387568, "link": "https://stackoverflow.com/questions/55387568/using-redux-with-react-hooks/58813988#58813988", "title": "Using redux with react hooks", "body": "<p>As an alternative to redux you can use hooks to manage the state, you can create the similar using the combination of <a href=\"https://reactjs.org/docs/context.html\" rel=\"nofollow noreferrer\">context api</a> and custom hooks</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const initialState = {\n    stateSet: false,\n    plan: {\n    }\n}\nconst AppReducer = (state = initialState, action) =&gt; {\n    return {\n        plan: planReducer(state.plan, action)\n    }\n}\n\n\n\nconst AppProvider = (props) =&gt; {\n\n    const [state, dispatch] = useReducer(AppReducer, initialState);\n    return (\n        &lt;AppStateContext.Provider value={state}&gt;\n            &lt;AppDispatchContext.Provider value={dispatch}&gt;\n                {props.children}\n\n            &lt;/AppDispatchContext.Provider&gt;\n        &lt;/AppStateContext.Provider&gt;\n    )\n\n\n}\n\nconst useAppState = () =&gt; {\n    const context = React.useContext(AppStateContext);\n    return context;\n}\n\n\nconst useAppDispatch = () =&gt; {\n    const context = React.useContext(AppDispatchContext);\n    return context;\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>then inside your component, you can any component</p>\n<pre><code>const { plan } = useAppState();\n dispatch({ type: 'updateBusinessInfo', payload: { businessInfo: businessInfo, addOnsInfo: addOnsInfo } });\n</code></pre>\n<p>refer <a href=\"https://kentcdodds.com/blog/how-to-use-react-context-effectively\" rel=\"nofollow noreferrer\">https://kentcdodds.com/blog/how-to-use-react-context-effectively</a> fantastic post by kencdoods for details</p>\n"}, {"tags": [], "owner": {"reputation": 463, "user_id": 10468670, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ApxE7.png?s=128&g=1", "display_name": "A Shirazee", "link": "https://stackoverflow.com/users/10468670/a-shirazee"}, "is_accepted": false, "score": 0, "last_activity_date": 1617640354, "last_edit_date": 1617640354, "creation_date": 1617392337, "answer_id": 66924401, "question_id": 55387568, "link": "https://stackoverflow.com/questions/55387568/using-redux-with-react-hooks/66924401#66924401", "title": "Using redux with react hooks", "body": "<p><strong>Here is how to use Redux with Hooks in 3 simple steps : Counter example.</strong></p>\n<p><strong>Source code: <a href=\"https://github.com/trackmystories/Redux-hooks-counter-app-with-axios.\" rel=\"nofollow noreferrer\">https://github.com/trackmystories/Redux-hooks-counter-app-with-axios.</a></strong></p>\n<p>NOTE: <em><a href=\"https://react-redux.js.org/introduction/getting-started\" rel=\"nofollow noreferrer\">https://react-redux.js.org/introduction/getting-started</a></em></p>\n<p><strong>Step 1:</strong></p>\n<p>create a reducer.js file, define and combine your reducers:</p>\n<p><em>reducer.js</em></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    import { combineReducers } from \"redux\";\n\n \n    const counter = (state = 0, action) =&gt; {\n      switch (action.type) {\n        case \"ADD\":\n          return state + 1;\n        case \"SUBTRACT\":\n          return state - 1;\n        default:\n          return state;\n      }\n    };\n    \n  const rootReducer = combineReducers({\n    counter\n    // additional reducers ...\n});\n\nexport default rootReducer;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>Step 2</strong></p>\n<p>Create a counter component which will access the state and render it to the view:</p>\n<p>NOTE: <em>please refer to &quot;Redux Terms and Concepts&quot; to get a better understanding of Actions, State and View.\n<a href=\"https://redux.js.org/tutorials/essentials/part-1-overview-concepts\" rel=\"nofollow noreferrer\">https://redux.js.org/tutorials/essentials/part-1-overview-concepts</a></em></p>\n<p>You don't need to use connect mapStateToProps and dispatchStateToProps with redux hooks instead use { useDispatch, useSelector }.</p>\n<p>We can pass the actions &quot;ADD&quot; and &quot;SUBTRACT&quot; inside of the button directly, without defining an action.js file.</p>\n<p><em>CounterComponent.js</em></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nexport default function CounterComponent() {\n  const dispatch = useDispatch(); // dispatct action \"ADD\",\"SUBTRACT\".\n  const counter = useSelector((state) =&gt; state.counter); // your apps state.\n  \n    return (\n    &lt;div&gt;\n     // dispatch \"SUBTRACT\"\n     &lt;button onClick={() =&gt; dispatch({ type: \"SUBTRACT\",})}&gt;\n         SUBTRACT\n      &lt;button&gt;\n\n        // pass the current state \n        &lt;text&gt; display count : {counter}&lt;/text&gt; \n\n\n       // dispatch \"ADD\"\n       &lt;button onClick={() =&gt; dispatch({ type: \"ADD\",})}&gt;\n          ADD\n       &lt;button&gt;\n\n      &lt;/div&gt;\n     )\n     \n    } </code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>Step 3:</strong></p>\n<p>Lastly link your RootReducer to the createStore and pass it to the Provider.</p>\n<p><em>App.js</em></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import React from 'react';\nimport { Provider } from \"react-redux\";\nimport { createStore } from \"redux\";\n\nimport CounterComponent from './CounterComponent.jsx';\n\n\n \n// import your reducers\nimport rootReducer from \"./reducers\"; \n\n\n// link your reducers to the store \nconst store = createStore(rootReducer); \n\n\n\n// Pass your store to the Provider wrapping your Component. \n\nexport default function App() {\n  return (\n     &lt;&gt;\n      &lt;Provider store={store}&gt; \n        &lt;CounterComponent/&gt;\n      &lt;/Provider&gt;\n    &lt;/&gt;\n  );\n};</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 4399, "user_id": 7385798, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/bc11dd8b186448da419102d83c48a138?s=128&d=identicon&r=PG&f=1", "display_name": "tmp dev", "link": "https://stackoverflow.com/users/7385798/tmp-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1182, "favorite_count": 1, "protected_date": 1601227612, "answer_count": 4, "score": 2, "last_activity_date": 1617640354, "creation_date": 1553726441, "last_edit_date": 1578588932, "question_id": 55387568, "link": "https://stackoverflow.com/questions/55387568/using-redux-with-react-hooks", "title": "Using redux with react hooks", "body": "<p>I'm trying to figure out the best way to use redux with react hooks.  I saw the following</p>\n\n<p><a href=\"https://stackoverflow.com/questions/54880976/how-to-use-react-hooks-redux\">How to use React hooks + Redux</a></p>\n\n<p>However I'm not convinced this is the best way to go.  Does anyone have any alternative ideas?</p>\n\n<p>I also saw the following and seems quite good.\n<a href=\"https://www.npmjs.com/package/redux-react-hook\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/redux-react-hook</a></p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "material-ui"], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 3821102, "user_type": "registered", "profile_image": "https://graph.facebook.com/1582613424/picture?type=large", "display_name": "user3821102", "link": "https://stackoverflow.com/users/3821102/user3821102"}, "edited": false, "score": 0, "creation_date": 1553727033, "post_id": 55387654, "comment_id": 97497107, "body": "Thanx, its ok now"}, {"owner": {"reputation": 2410, "user_id": 3169136, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cXGl7.jpg?s=128&g=1", "display_name": "Hassan Siddiqui", "link": "https://stackoverflow.com/users/3169136/hassan-siddiqui"}, "reply_to_user": {"reputation": 97, "user_id": 3821102, "user_type": "registered", "profile_image": "https://graph.facebook.com/1582613424/picture?type=large", "display_name": "user3821102", "link": "https://stackoverflow.com/users/3821102/user3821102"}, "edited": false, "score": 0, "creation_date": 1553727215, "post_id": 55387654, "comment_id": 97497164, "body": "If this answer help you out, please mark as correct. Thanks"}], "tags": [], "owner": {"reputation": 2410, "user_id": 3169136, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cXGl7.jpg?s=128&g=1", "display_name": "Hassan Siddiqui", "link": "https://stackoverflow.com/users/3169136/hassan-siddiqui"}, "is_accepted": true, "score": 0, "last_activity_date": 1553726971, "creation_date": 1553726971, "answer_id": 55387654, "question_id": 55387553, "link": "https://stackoverflow.com/questions/55387553/how-to-fix-negative-margin-in-material-ui-components-explicit-with-text-content/55387654#55387654", "title": "How to fix negative margin in material ui components, explicit with text content", "body": "<p>Try <code>style={{wordWrap: 'break-word'}}</code>, i hope it'll help you out. Thanks</p>\n\n<pre><code>&lt;Grid container wrap=\"nowrap\"  css={[borde,{\n                              maxWidth: 400\n                        }]} &gt;\n            &lt;Grid item xs css={beneficiosTab}  &gt;\n                &lt;Typography style={{wordWrap: 'break-word'}}\n &gt;asdadsdasdasdasdasdasdasdasdasdasdasdasdadasdsadasdasdasdsadasdasdsads\n                &lt;/Typography&gt;\n            &lt;/Grid&gt;\n&lt;/Grid&gt;\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 3821102, "user_type": "registered", "profile_image": "https://graph.facebook.com/1582613424/picture?type=large", "display_name": "user3821102", "link": "https://stackoverflow.com/users/3821102/user3821102"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 494, "favorite_count": 0, "accepted_answer_id": 55387654, "answer_count": 1, "score": 0, "last_activity_date": 1553726971, "creation_date": 1553726367, "question_id": 55387553, "link": "https://stackoverflow.com/questions/55387553/how-to-fix-negative-margin-in-material-ui-components-explicit-with-text-content", "title": "How to fix negative margin in material ui components, explicit with text content", "body": "<p>I have a problem with the paragraphs in the material-ui components..</p>\n\n<p>I have a problem with the paragraphs in the material-ui components. The specific problem is that when the text exceeds the dimensions of the component it is not kept within it as shown in the figure.</p>\n\n<pre><code>&lt;Grid container wrap=\"nowrap\"  css={[borde,{\n                              maxWidth: 400\n                        }]} &gt;\n            &lt;Grid item xs css={beneficiosTab}  &gt;\n                &lt;Typography \n &gt;asdadsdasdasdasdasdasdasdasdasdasdasdasdadasdsadasdasdasdsadasdasdsads\n                &lt;/Typography&gt;\n            &lt;/Grid&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p>I hope that what is shown on the screen is a paragraph within the dimensions of your container</p>\n"}, {"tags": ["javascript", "java", "security", "encryption", "x509"], "comments": [{"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1553726359, "post_id": 55387508, "comment_id": 97496904, "body": "What is &quot;forge&quot;?"}, {"owner": {"reputation": 1, "user_id": 11267741, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ea0dK-JsT9E/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfisrOoFwhnP6JX9t1KHowBJixkOQ/mo/photo.jpg?sz=128", "display_name": "Manuel Alvarado Valencia", "link": "https://stackoverflow.com/users/11267741/manuel-alvarado-valencia"}, "reply_to_user": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1553726599, "post_id": 55387508, "comment_id": 97496977, "body": "is a javascript library"}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1553727137, "post_id": 55387508, "comment_id": 97497140, "body": "As mentioned, Java is not Javascript, so can you please read through <a href=\"/help/how-to-ask\">how to ask a good question</a> and update your question accordingly? Tag it with the correct tags, and explain a) what you need to do, b) what you did, c) why that didn&#39;t work, and d) what you tried so far"}, {"owner": {"reputation": 1985, "user_id": 7255359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Ap90j.jpg?s=128&g=1", "display_name": "Sudheesh Singanamalla", "link": "https://stackoverflow.com/users/7255359/sudheesh-singanamalla"}, "edited": false, "score": 0, "creation_date": 1554439840, "post_id": 55387508, "comment_id": 97760432, "body": "Did you take a look at the documentation for reading <a href=\"https://github.com/digitalbazaar/forge#pkcs12\" rel=\"nofollow noreferrer\">PKCS12 content using forge</a>? There&#39;s a detailed example for the same."}], "owner": {"reputation": 1, "user_id": 11267741, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ea0dK-JsT9E/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfisrOoFwhnP6JX9t1KHowBJixkOQ/mo/photo.jpg?sz=128", "display_name": "Manuel Alvarado Valencia", "link": "https://stackoverflow.com/users/11267741/manuel-alvarado-valencia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553807135, "creation_date": 1553726038, "last_edit_date": 1553807135, "question_id": 55387508, "link": "https://stackoverflow.com/questions/55387508/extract-x-509-certificate-from-this-p12-file-by-its-alias-by-using-forge", "title": "Extract X.509 certificate from this p12 file by it&#39;s alias.by using forge", "body": "<p>There is Java's security api's, which is able to extract X.509 certificate from this p12 file by it's alias.</p>\n\n<pre><code>X509Certificate x509Certificate = (X509Certificate) ks.getCertificate(alias);\n</code></pre>\n\n<p>How it is possible to extract X.509 certificate from p12 file by using forge?</p>\n"}, {"tags": ["javascript", "json"], "comments": [{"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 0, "creation_date": 1553726272, "post_id": 55387493, "comment_id": 97496876, "body": "It&#39;s valid JSON - try placing it in <a href=\"https://jsonlint.com\" rel=\"nofollow noreferrer\">jsonlint.com</a>"}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 9542731, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9Gp1HeX1M7s/AAAAAAAAAAI/AAAAAAAAAkg/hQ_rPE-LwyM/photo.jpg?sz=128", "display_name": "Longji Kang", "link": "https://stackoverflow.com/users/9542731/longji-kang"}, "edited": false, "score": 0, "creation_date": 1553816158, "post_id": 55388015, "comment_id": 97537188, "body": "The response from the server is json data in text format. I updated my post to add what fixed my issue."}], "tags": [], "owner": {"reputation": 119, "user_id": 3701369, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2ALWDphH-iw/AAAAAAAAAAI/AAAAAAAAAAs/8MveTEFYTyk/photo.jpg?sz=128", "display_name": "Adriano Marra", "link": "https://stackoverflow.com/users/3701369/adriano-marra"}, "is_accepted": false, "score": 0, "last_activity_date": 1553730595, "last_edit_date": 1553730595, "creation_date": 1553729211, "answer_id": 55388015, "question_id": 55387493, "link": "https://stackoverflow.com/questions/55387493/unexpected-end-of-json-input-using-tmdb-api/55388015#55388015", "title": "Unexpected end of JSON input using TMDb API", "body": "<p>If I understood correctly your question when you return \n<code>console.log(movieReq.responseText)</code>\nabove the line:</p>\n\n<p><code>var parsedObj = JSON.parse(movieReq.responseText);</code></p>\n\n<p>You get the correct JSON, right? </p>\n\n<p>If so, it means you don't need to use the function JSON.parse(), you can access any element of the object movieReq.responseText directly, in your case you could access <code>movieReq.responseText.imdb_id</code> without the need to parse it (because it is a JSON object already).</p>\n\n<p>You only need to use JSON.parse() if you want to convert a string to a JSON object, for more information please check: <a href=\"https://www.w3schools.com/js/js_json_parse.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/js/js_json_parse.asp</a></p>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 9542731, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9Gp1HeX1M7s/AAAAAAAAAAI/AAAAAAAAAkg/hQ_rPE-LwyM/photo.jpg?sz=128", "display_name": "Longji Kang", "link": "https://stackoverflow.com/users/9542731/longji-kang"}, "is_accepted": true, "score": 1, "last_activity_date": 1553816089, "creation_date": 1553816089, "answer_id": 55408410, "question_id": 55387493, "link": "https://stackoverflow.com/questions/55387493/unexpected-end-of-json-input-using-tmdb-api/55408410#55408410", "title": "Unexpected end of JSON input using TMDb API", "body": "<p>It turns out I had forgotten to add a check for the onreadystatechange event. I added the following check and ran the json parse within the if statement and this fixed my issue!</p>\n\n<pre><code>movieReq.onreadystatechange = function () {\n    if (this.readyState == 4 &amp;&amp; this.status == 200) {\n        var parsedObj = JSON.parse(movieReq.responseText);\n        mO.imdbId = parsedObj['imdb_id'];\n    }\n};\n\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 9542731, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9Gp1HeX1M7s/AAAAAAAAAAI/AAAAAAAAAkg/hQ_rPE-LwyM/photo.jpg?sz=128", "display_name": "Longji Kang", "link": "https://stackoverflow.com/users/9542731/longji-kang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 55408410, "answer_count": 2, "score": 0, "last_activity_date": 1553816089, "creation_date": 1553725974, "last_edit_date": 1553729372, "question_id": 55387493, "link": "https://stackoverflow.com/questions/55387493/unexpected-end-of-json-input-using-tmdb-api", "title": "Unexpected end of JSON input using TMDb API", "body": "<p>I am trying to parse JSON data that is returned from The Movie DB. I am getting an error telling me that I am getting the following error:</p>\n\n<pre><code>Uncaught SyntaxError: Unexpected end of JSON input\n    at JSON.parse (&lt;anonymous&gt;)\n    at XMLHttpRequest.movieReq.onreadystatechange (discover.js:34)\n    at loadIMDBDetails (discover.js:38)\n    at MainFunc (discover.js:68)\n    at discover.js:5\nI am accessing individual movie information using the following XMLHttpRequest:\n\n</code></pre>\n\n<p>movieReq.open('GET', '<a href=\"https://api.themoviedb.org/3/movie/299537?api_key=\" rel=\"nofollow noreferrer\">https://api.themoviedb.org/3/movie/299537?api_key=</a>', false);</p>\n\n<p>I have other XMLHttpRequests which are returning the JSON data just fine. Those requests are using the discover function of the API.</p>\n\n<p>This is the function which is producing the issue</p>\n\n<pre><code>function loadIMDBDetails(mO, i) {\n    movieReq = new XMLHttpRequest();\n\n    movieReq.onreadystatechange = function () {\n        var parsedObj = JSON.parse(movieReq.responseText);\n        mO.imdbId = parsedObj['imdb_id'];\n    };\n    movieReq.open('GET', 'https://api.themoviedb.org/3/movie/299537?api_key=34f8307d9addabf7924eab7f22cabb23', false);\n    movieReq.send();\n}\n\nWhen using console.log to return the responseText, this is the result:\n</code></pre>\n\n<p>{\"adult\":false,\"backdrop_path\":\"/w2PMyoyLU22YvrGK3smVM9fW1jj.jpg\",\"belongs_to_collection\":null,\"budget\":152000000,\"genres\":[{\"id\":28,\"name\":\"Action\"},{\"id\":12,\"name\":\"Adventure\"},{\"id\":878,\"name\":\"Science Fiction\"}],\"homepage\":\"<a href=\"https://www.marvel.com/movies/captain-marvel\" rel=\"nofollow noreferrer\">https://www.marvel.com/movies/captain-marvel</a>\",\"id\":299537,\"imdb_id\":\"tt4154664\",\"original_language\":\"en\",\"original_title\":\"Captain Marvel\",\"overview\":\"The story follows Carol Danvers as she becomes one of the universe\u2019s most powerful heroes when Earth is caught in the middle of a galactic war between two alien races. Set in the 1990s, Captain Marvel is an all-new adventure from a previously unseen period in the history of the Marvel Cinematic Universe.\",\"popularity\":419.096,\"poster_path\":\"/AtsgWhDnHTq68L0lLsUrCnM7TjG.jpg\",\"production_companies\":[{\"id\":420,\"logo_path\":\"/hUzeosd33nzE5MCNsZxCGEKTXaQ.png\",\"name\":\"Marvel Studios\",\"origin_country\":\"US\"}],\"production_countries\":[{\"iso_3166_1\":\"US\",\"name\":\"United States of America\"}],\"release_date\":\"2019-03-06\",\"revenue\":910298835,\"runtime\":124,\"spoken_languages\":[{\"iso_639_1\":\"en\",\"name\":\"English\"}],\"status\":\"Released\",\"tagline\":\"Higher. Further. Faster.\",\"title\":\"Captain Marvel\",\"video\":false,\"vote_average\":7.3,\"vote_count\":2885}</p>\n"}, {"tags": ["javascript", "function"], "comments": [{"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 2, "creation_date": 1553725729, "post_id": 55387435, "comment_id": 97496704, "body": "You haven&#39;t called either of the functions..."}, {"owner": {"reputation": 15, "user_id": 10945518, "user_type": "registered", "profile_image": "https://graph.facebook.com/382147819279303/picture?type=large", "display_name": "Brent Trenholme", "link": "https://stackoverflow.com/users/10945518/brent-trenholme"}, "reply_to_user": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 1, "creation_date": 1553725746, "post_id": 55387435, "comment_id": 97496711, "body": "in function two it should be one() not two()"}, {"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 1, "creation_date": 1553725759, "post_id": 55387435, "comment_id": 97496716, "body": "You still need to call <code>two()</code>."}, {"owner": {"reputation": 15, "user_id": 10945518, "user_type": "registered", "profile_image": "https://graph.facebook.com/382147819279303/picture?type=large", "display_name": "Brent Trenholme", "link": "https://stackoverflow.com/users/10945518/brent-trenholme"}, "edited": false, "score": 0, "creation_date": 1553725835, "post_id": 55387435, "comment_id": 97496748, "body": "no I mean that it get&#39;s the error when call two, is what I meant"}, {"owner": {"reputation": 1893, "user_id": 2832976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0c06a48cb81bc7a5d934b92dce67510?s=128&d=identicon&r=PG&f=1", "display_name": "LuisTavares", "link": "https://stackoverflow.com/users/2832976/luistavares"}, "edited": false, "score": 0, "creation_date": 1553725917, "post_id": 55387435, "comment_id": 97496776, "body": "<code>;</code> is missing."}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 4, "creation_date": 1553725951, "post_id": 55387435, "comment_id": 97496784, "body": "You wouldn&#39;t get that error with the code you posted. You would get some kind of call stack related error since you have infinite recursion."}, {"owner": {"reputation": 13387, "user_id": 965834, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BiCtr.png?s=128&g=1", "display_name": "Jeto", "link": "https://stackoverflow.com/users/965834/jeto"}, "reply_to_user": {"reputation": 1893, "user_id": 2832976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0c06a48cb81bc7a5d934b92dce67510?s=128&d=identicon&r=PG&f=1", "display_name": "LuisTavares", "link": "https://stackoverflow.com/users/2832976/luistavares"}, "edited": false, "score": 1, "creation_date": 1553725958, "post_id": 55387435, "comment_id": 97496787, "body": "@lusitanica It&#39;s optional, though some (most, I suppose) people find it bad practice not to include them (can also lead to errors/unwanted behaviors in some specific cases)."}, {"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 1, "creation_date": 1553725975, "post_id": 55387435, "comment_id": 97496790, "body": "Why is <code>two</code> calling <code>two</code>? That would lead to an infinite loop because a function is continuously calling itself."}], "answers": [{"comments": [{"owner": {"reputation": 4792, "user_id": 5351721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c48ea64d7d0229c32a90e51a1fac58a?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/5351721/sean"}, "edited": false, "score": 1, "creation_date": 1553726012, "post_id": 55387464, "comment_id": 97496801, "body": "It does though."}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "reply_to_user": {"reputation": 15, "user_id": 10945518, "user_type": "registered", "profile_image": "https://graph.facebook.com/382147819279303/picture?type=large", "display_name": "Brent Trenholme", "link": "https://stackoverflow.com/users/10945518/brent-trenholme"}, "edited": false, "score": 1, "creation_date": 1553726060, "post_id": 55387464, "comment_id": 97496814, "body": "@Brent: It obviously works here as you can verify yourself. If it doesn&#39;t work for you then your code / environment is different. But we can&#39;t help you if we don&#39;t know about it."}, {"owner": {"reputation": 15, "user_id": 10945518, "user_type": "registered", "profile_image": "https://graph.facebook.com/382147819279303/picture?type=large", "display_name": "Brent Trenholme", "link": "https://stackoverflow.com/users/10945518/brent-trenholme"}, "edited": false, "score": 0, "creation_date": 1553726383, "post_id": 55387464, "comment_id": 97496908, "body": "oh wait I just realized I am defining the functions in two different scripts so one is being called before it initializes x."}, {"owner": {"reputation": 15, "user_id": 10945518, "user_type": "registered", "profile_image": "https://graph.facebook.com/382147819279303/picture?type=large", "display_name": "Brent Trenholme", "link": "https://stackoverflow.com/users/10945518/brent-trenholme"}, "edited": false, "score": 0, "creation_date": 1553726407, "post_id": 55387464, "comment_id": 97496917, "body": "I don&#39;t know how I didn&#39;t see it"}, {"owner": {"reputation": 13387, "user_id": 965834, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BiCtr.png?s=128&g=1", "display_name": "Jeto", "link": "https://stackoverflow.com/users/965834/jeto"}, "reply_to_user": {"reputation": 15, "user_id": 10945518, "user_type": "registered", "profile_image": "https://graph.facebook.com/382147819279303/picture?type=large", "display_name": "Brent Trenholme", "link": "https://stackoverflow.com/users/10945518/brent-trenholme"}, "edited": false, "score": 0, "creation_date": 1553727079, "post_id": 55387464, "comment_id": 97497125, "body": "@BrentTrenholme It should work as long as <code>x</code> (<code>let x = 0</code> here) is defined before calling <code>two();</code>."}], "tags": [], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "is_accepted": true, "score": 1, "last_activity_date": 1553725831, "creation_date": 1553725831, "answer_id": 55387464, "question_id": 55387435, "link": "https://stackoverflow.com/questions/55387435/access-global-variables-in-nested-functions/55387464#55387464", "title": "access global variables in nested functions", "body": "<p>Your function <code>two</code> was calling itself - you need to call <code>one</code> in <code>two</code>. You also have to call <code>two</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let x = 0\r\nfunction one() {\r\n    console.log(x);\r\n}\r\nfunction two() {\r\n    one();\r\n}\r\ntwo();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 15, "user_id": 10945518, "user_type": "registered", "profile_image": "https://graph.facebook.com/382147819279303/picture?type=large", "display_name": "Brent Trenholme", "link": "https://stackoverflow.com/users/10945518/brent-trenholme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 55387464, "answer_count": 1, "score": -3, "last_activity_date": 1553725942, "creation_date": 1553725680, "last_edit_date": 1553725942, "question_id": 55387435, "link": "https://stackoverflow.com/questions/55387435/access-global-variables-in-nested-functions", "title": "access global variables in nested functions", "body": "<p>I need to access global variables in a nested function how would I do that?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let x = 0\r\nfunction one() {\r\n    console.log(x)\r\n}\r\nfunction two() {\r\n    two()\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>should log 0 but gets error \"x is undefined\"</p>\n"}, {"tags": ["javascript", "design-patterns", "ecmascript-6", "module"], "comments": [{"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 1, "creation_date": 1553725552, "post_id": 55387391, "comment_id": 97496646, "body": "They all work fine, so I&#39;m afraid what you&#39;re asking is opinion-based"}, {"owner": {"reputation": 5544, "user_id": 210757, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/29ec165fa8b5631a1bf3a7391a78b4c2?s=128&d=identicon&r=PG", "display_name": "user210757", "link": "https://stackoverflow.com/users/210757/user210757"}, "reply_to_user": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1553726214, "post_id": 55387391, "comment_id": 97496859, "body": "reworded to make less opinion based, although I am ok with opinions.need a stackoverflow for design pattern opinions."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 2, "creation_date": 1553727186, "post_id": 55387391, "comment_id": 97497152, "body": "The <code>class</code> is the most common. The object factory is pretty much equivalent to the class. Individual functions are less common as it&#39;s a nuisance to pass the <code>baseUrl</code> everywhere."}, {"owner": {"reputation": 2301, "user_id": 19317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47035e07012da3162b6e83650ee3abe0?s=128&d=identicon&r=PG", "display_name": "aridlehoover", "link": "https://stackoverflow.com/users/19317/aridlehoover"}, "edited": false, "score": 1, "creation_date": 1553727482, "post_id": 55387391, "comment_id": 97497251, "body": "Maybe this is the spot: <a href=\"https://softwareengineering.stackexchange.com/questions/tagged/design-patterns\">softwareengineering.stackexchange.com/questions/tagged/&hellip;</a>"}, {"owner": {"reputation": 5544, "user_id": 210757, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/29ec165fa8b5631a1bf3a7391a78b4c2?s=128&d=identicon&r=PG", "display_name": "user210757", "link": "https://stackoverflow.com/users/210757/user210757"}, "edited": false, "score": 0, "creation_date": 1553781505, "post_id": 55387391, "comment_id": 97519198, "body": "<a href=\"https://softwareengineering.stackexchange.com/questions/389371/design-pattern-to-implement-a-settable-javascript-module-variable\" title=\"design pattern to implement a settable javascript module variable\">softwareengineering.stackexchange.com/questions/389371/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 5544, "user_id": 210757, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/29ec165fa8b5631a1bf3a7391a78b4c2?s=128&d=identicon&r=PG", "display_name": "user210757", "link": "https://stackoverflow.com/users/210757/user210757"}, "edited": false, "score": 0, "creation_date": 1553780681, "post_id": 55387958, "comment_id": 97518541, "body": "I do agree this has the best API for the client code, no instantiation, etc."}], "tags": [], "owner": {"reputation": 564, "user_id": 6233826, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ef6264cd8c555f353eaa65df94ef136a?s=128&d=identicon&r=PG&f=1", "display_name": "dannyjee", "link": "https://stackoverflow.com/users/6233826/dannyjee"}, "is_accepted": true, "score": 1, "last_activity_date": 1553728878, "creation_date": 1553728878, "answer_id": 55387958, "question_id": 55387391, "link": "https://stackoverflow.com/questions/55387391/most-common-pattern-to-implement-a-settable-module-scoped-variable/55387958#55387958", "title": "Most common pattern to implement a settable module scoped variable", "body": "<p>I would go with the function approach</p>\n\n<pre><code>export default function(baseUrl){\n\n  return Object.freeze({\n    getCustomers: () =&gt; { /* get customer code */ }\n    addCustomer: (cust) =&gt; {}\n    deleteCustomer: (id) =&gt; {}\n  })\n\n}\n\n</code></pre>\n\n<p>This is because all the functions have closure on the baseUrl and no extra work is required.</p>\n\n<p>Client code can simply</p>\n\n<pre><code>import yourmodule from 'yourmodule';\nvar derp = yourmodule('www.derp.com')\n\n</code></pre>\n"}], "owner": {"reputation": 5544, "user_id": 210757, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/29ec165fa8b5631a1bf3a7391a78b4c2?s=128&d=identicon&r=PG", "display_name": "user210757", "link": "https://stackoverflow.com/users/210757/user210757"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 55387958, "answer_count": 1, "score": 0, "last_activity_date": 1553728878, "creation_date": 1553725455, "last_edit_date": 1553726159, "question_id": 55387391, "link": "https://stackoverflow.com/questions/55387391/most-common-pattern-to-implement-a-settable-module-scoped-variable", "title": "Most common pattern to implement a settable module scoped variable", "body": "<p>I am writing a client to talk to a server API in JavaScript. I have an OOP background but am trying to embrace modern EcmaScript.</p>\n\n<p>So I started with this:</p>\n\n<p>customerApi.js:</p>\n\n<pre><code>const baseUrl = \"http://myapi\";\nexport const getCustomers = () =&gt; { /* get customer code */ }\nexport const addCustomer = cust =&gt; {}\nexport const deleteCustomer = id =&gt; {}\n</code></pre>\n\n<p>All the functions use baseUrl.  </p>\n\n<p>Now I want to refactor so that the code that uses customerApi.js sets/passes in the baseUrl, and the only ways I have come up with are -</p>\n\n<p>make it a class:</p>\n\n<pre><code>export default class customerApi {\n  constructor(baseUrl) {\n   this._baseUrl  baseUrl;\n  }\n}\n</code></pre>\n\n<p>Pass it into every method:</p>\n\n<pre><code>export const getCustomers = (baseUrl) =&gt; { /* get customer code */ }\nexport const addCustomer = (baseUrl,cust) =&gt; {}\nexport const deleteCustomer = (baseUrl,id) =&gt; {}\n</code></pre>\n\n<p>Wrap in a function:</p>\n\n<pre><code>const moduleFn = baseUrl =&gt; (\n  return {\n    getCustomers: () =&gt; { /* get customer code */ }\n    addCustomer: (cust) =&gt; {}\n    deleteCustomer: (id) =&gt; {}\n  }\n)\nexport default moduleFn;\n</code></pre>\n\n<p>These are just examples. \nWhat is the most common pattern to implement a \"settable\" variable on a module?</p>\n"}, {"tags": ["javascript", "ajax", "cordova"], "comments": [{"owner": {"reputation": 7709, "user_id": 2093695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6V1PZ.jpg?s=128&g=1", "display_name": "Brian McCutchon", "link": "https://stackoverflow.com/users/2093695/brian-mccutchon"}, "edited": false, "score": 0, "creation_date": 1553756611, "post_id": 55387390, "comment_id": 97504417, "body": "Can you post the error as text rather than an image?"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11404078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c69b0188b116130b48f2243b07d3caa?s=128&d=identicon&r=PG&f=1", "display_name": "iOS App Developer", "link": "https://stackoverflow.com/users/11404078/ios-app-developer"}, "is_accepted": false, "score": 0, "last_activity_date": 1556094898, "creation_date": 1556094898, "answer_id": 55825707, "question_id": 55387390, "link": "https://stackoverflow.com/questions/55387390/cordova-ajax-call-throwing-neterr-spdy-protocol-error/55825707#55825707", "title": "Cordova Ajax call throwing net::ERR_SPDY_PROTOCOL_ERROR", "body": "<p>This error ERR_SPDY_PROTOCOL_ERROR is found in Google chrome. With latest updates of google chrome it is depracted. This protocol was added for faster web load and security. You can learn more from <a href=\"https://icodemate.com/how-to-fix-err_spdy_protocol_error-in-google-chrome-2019/\" rel=\"nofollow noreferrer\">how-to-fix-err_spdy_protocol_error-in-google-chrome-2019</a></p>\n"}], "owner": {"reputation": 19, "user_id": 10956806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfbc063ee3af03bcef8d06d77fbd7cdb?s=128&d=identicon&r=PG&f=1", "display_name": "PKDidiyy", "link": "https://stackoverflow.com/users/10956806/pkdidiyy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 164, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1556094898, "creation_date": 1553725449, "last_edit_date": 1553757025, "question_id": 55387390, "link": "https://stackoverflow.com/questions/55387390/cordova-ajax-call-throwing-neterr-spdy-protocol-error", "title": "Cordova Ajax call throwing net::ERR_SPDY_PROTOCOL_ERROR", "body": "<p>I have two Ajax calls but one of the Ajax calls are returning net::ERR_SPDY_PROTOCOL_ERROR.</p>\n\n<p>The Ajax call urls are coming from WordPress Woocommerce RestApi.</p>\n\n<p>When I run chrome in mode - <code>chrome.exe --user-data-dir=\"C:/Chrome dev session\" --disable-web-security</code> - the error disappears and everything is working correctly.</p>\n\n<p><strong>Error</strong>\n<br>\n<a href=\"https://i.stack.imgur.com/iSJcR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iSJcR.png\" alt=\"enter image description here\"></a></p>\n\n<ul>\n<li><p>Ajax call that is <strong>not working</strong>:</p>\n\n<pre><code>$.ajax({\n    url: \"https://krii.000webhostapp.com/wp-json/wc/v2/products/categories?per_page=99\",\n    success: function(json){\n        console.log(\"Success\", json);\n         $.each(json, function (index, categories) {\n             //console.log(categories);\n             catego.push({Cat_Name: categories.name});\n            //console.log(catego);\n            $('select#categories2').append('&lt;option data-id=\"&gt; categories.id\"&gt;'+categories.name+'&lt;/option&gt;');\n        });\n    },\n    error: function (XMLHttpRequest, textStatus, errorThrown){\n        console.log(textStatus,errorThrown)\n    },\n    beforeSend: function (xhr) {\n        xhr.setRequestHeader('Authorization', 'Basic ' + btoa('ck_...:cs_...'));\n    },\n    type: 'GET',\n    contentType: 'json'\n});\n</code></pre></li>\n<li><p>Ajax call that <strong>is working</strong>:</p>\n\n<pre><code>  $.ajax({\n    url: \"https://..../wp-json/wc/v2/products/categories?per_page=99\",\n    success: function(json){\n        console.log(\"Success\", json);\n         $.each(json, function (index, categories) {\n             //console.log(categories);\n             catego.push({Cat_Name: categories.name});\n            //console.log(catego);\n            $('select#categories').append('&lt;option data-id=\"&gt; categories.id\"&gt;'+categories.name+'&lt;/option&gt;');\n        });\n    },\n    error: function (XMLHttpRequest, textStatus, errorThrown){\n        console.log(textStatus,errorThrown)\n    },\n    beforeSend: function (xhr) {\n        xhr.setRequestHeader('Authorization', 'Basic ' + btoa('ck_...:cs_...'));\n    },\n    type: 'GET',\n    contentType: 'json'     \n});\n</code></pre></li>\n</ul>\n\n<p>How exactly I can fix this, cause it does not work on mobile device.</p>\n"}, {"tags": ["javascript", "ramda.js"], "comments": [{"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 0, "creation_date": 1553724848, "post_id": 55387246, "comment_id": 97496432, "body": "<code>Array.isArray(locations)</code> will return <code>true</code> if it&#39;s an array, and <code>false</code> if it&#39;s not."}], "answers": [{"tags": [], "owner": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "is_accepted": false, "score": 1, "last_activity_date": 1553725595, "creation_date": 1553725595, "answer_id": 55387418, "question_id": 55387246, "link": "https://stackoverflow.com/questions/55387246/is-value-in-array-or-string-inside-object-ramda/55387418#55387418", "title": "Is value in array or string inside object Ramda", "body": "<p>As mentioned in comments use <code>Array.isArray()</code> to see if the property contains an array and use array methods if it does, otherwise compare value directly</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const key = 'locations',\r\n  value = 'London',\r\n  data = {\r\n    locations: 'London',\r\n    skills: ['1', '2'],\r\n  },\r\n  data2 = {\r\n    locations: ['London', 'Reading'],\r\n    skills: '1',\r\n  }\r\n\r\nconst hasValue = (data, key, value) =&gt; {\r\n  const testVal = data[key];\r\n  return Array.isArray(testVal) ? testVal.includes(value) : testVal === value;\r\n}\r\n\r\n// string version\r\nconsole.log(hasValue(data, key, value));\r\n   // array version\r\nconsole.log(hasValue(data2, key, value))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "edited": false, "score": 1, "creation_date": 1553785428, "post_id": 55387462, "comment_id": 97522200, "body": "One potential problem with the simplified approach: <code>check(&#39;locations&#39;, &#39;York&#39;)({locations: &#39;New York&#39;}) &#47;&#47;=&gt; true</code>"}, {"owner": {"reputation": 11136, "user_id": 1244884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79435cc2571ffa23dfcef703f8d762e0?s=128&d=identicon&r=PG", "display_name": "customcommander", "link": "https://stackoverflow.com/users/1244884/customcommander"}, "reply_to_user": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "edited": false, "score": 0, "creation_date": 1553790672, "post_id": 55387462, "comment_id": 97525789, "body": "Oh god! Thank you @ScottSauyet for pointing this out. Out of curiosity do you think this could be a use case for <code>lift</code> maybe?"}, {"owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "edited": false, "score": 0, "creation_date": 1553793209, "post_id": 55387462, "comment_id": 97527246, "body": "I don&#39;t see how.  Do you have an idea?"}], "tags": [], "owner": {"reputation": 11136, "user_id": 1244884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79435cc2571ffa23dfcef703f8d762e0?s=128&d=identicon&r=PG", "display_name": "customcommander", "link": "https://stackoverflow.com/users/1244884/customcommander"}, "is_accepted": true, "score": 2, "last_activity_date": 1553726868, "last_edit_date": 1553726868, "creation_date": 1553725826, "answer_id": 55387462, "question_id": 55387246, "link": "https://stackoverflow.com/questions/55387246/is-value-in-array-or-string-inside-object-ramda/55387462#55387462", "title": "Is value in array or string inside object Ramda", "body": "<p>I'd use a lens to convert the key into an array if it wasn't one already. Then you can simply use <code>propSatisfies</code> with <code>includes</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const toArr = unless(is(Array), of);\r\n\r\nconst check = (key, value) =&gt;\r\n  pipe(\r\n    over(lensProp(key), toArr),\r\n    propSatisfies(includes(value), key));\r\n\r\nconsole.log(\r\n  check('locations', 'London')({locations: ['London', 'Reading']})\r\n);\r\n\r\nconsole.log(\r\n  check('locations', 'London')({locations: 'London'})\r\n);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/ramda/0.26.1/ramda.min.js\"&gt;&lt;/script&gt;\r\n&lt;script&gt;const {unless, is, of, pipe, over, lensProp, propSatisfies, includes} = R;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<p><strong>EDIT:</strong> Actually this can be simplified as <code>includes</code> work with both strings and arrays:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const check = (key, value) =&gt; where({[key]: includes(value)})\r\n\r\nconsole.log(\r\n  check('locations', 'London')({locations: 'London'})\r\n);\r\n\r\nconsole.log(\r\n  check('locations', 'London')({locations: ['London', 'Reading']})\r\n);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/ramda/0.26.1/ramda.min.js\"&gt;&lt;/script&gt;\r\n&lt;script&gt;const {where, includes} = R;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 73231, "user_id": 156142, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7dcad6d7e959ef6d6cfd67c6fb15c171?s=128&d=identicon&r=PG", "display_name": "ChaosPandion", "link": "https://stackoverflow.com/users/156142/chaospandion"}, "is_accepted": false, "score": 0, "last_activity_date": 1553725830, "creation_date": 1553725830, "answer_id": 55387463, "question_id": 55387246, "link": "https://stackoverflow.com/questions/55387246/is-value-in-array-or-string-inside-object-ramda/55387463#55387463", "title": "Is value in array or string inside object Ramda", "body": "<p>This little function should get you there.</p>\n\n<pre><code>function hasValue(obj, key, value) {\n    if (!obj) return false;\n    let prop = obj[key];\n    if (!prop) return false;\n    if (Array.isArray(prop))\n        return prop.indexOf(value) &gt;= 0;\n    return prop === value;\n}\n</code></pre>\n"}], "owner": {"reputation": 933, "user_id": 1837427, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0b389a2992d186fc7c51b10bbb37bb16?s=128&d=identicon&r=PG", "display_name": "gosseti", "link": "https://stackoverflow.com/users/1837427/gosseti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1458, "favorite_count": 0, "accepted_answer_id": 55387462, "answer_count": 3, "score": 1, "last_activity_date": 1553726868, "creation_date": 1553724680, "last_edit_date": 1553725304, "question_id": 55387246, "link": "https://stackoverflow.com/questions/55387246/is-value-in-array-or-string-inside-object-ramda", "title": "Is value in array or string inside object Ramda", "body": "<p>A little bit of an odd one here, I\u2019m working with parsing query strings and sometimes they are returned as strings and other times as arrays of strings (depending on if there\u2019s one vs. many).</p>\n\n<p>I want to find out whether the value exists under the key, and it needs to work when the data is empty or null.</p>\n\n<pre><code># we have access to both the key and value\nconst key = 'locations'\nconst value = 'London'\n</code></pre>\n\n<p>The shape of the data looks like:</p>\n\n<pre><code># does 'London' exist under `locations`?\n{\n  locations: 'London',\n  skills: ['1', '2'],\n}\n</code></pre>\n\n<p>The shape of the data could also look like:</p>\n\n<pre><code>{\n  locations: ['London', 'Reading'],\n  skills: '1',\n}\n</code></pre>\n\n<p>I\u2019ve looked at using <code>pathSatisfies</code>, <code>pathEq</code> and <code>contains</code> but with no luck. I seem to be getting stumped on the fact the value can be contained in either a string or in an array. </p>\n"}, {"tags": ["javascript", "node.js", "angular", "typescript", "npm"], "answers": [{"comments": [{"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1553726758, "post_id": 55387544, "comment_id": 97497019, "body": "Just double checked - AFAIK it&#39;s in the <code>compilerOptions</code> section ...?"}, {"owner": {"reputation": 158, "user_id": 4337953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e50f03ca522ac7a7325b2a530636eee6?s=128&d=identicon&r=PG", "display_name": "webpopular.net", "link": "https://stackoverflow.com/users/4337953/webpopular-net"}, "reply_to_user": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1553798098, "post_id": 55387544, "comment_id": 97529783, "body": "Did you not look at the sample config object?, it is in the compilerOptions section"}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1553798568, "post_id": 55387544, "comment_id": 97530034, "body": "<a href=\"https://github.com/fireflysemantics/validator/blob/master/tsconfig.json\" rel=\"nofollow noreferrer\">This is the config I&#39;m converting</a>.  I first created a minimal MVCE in order to make sure I had something that works.  Now I&#39;m trying to apply that to a different project, and it&#39;s not working ..."}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1553798591, "post_id": 55387544, "comment_id": 97530047, "body": "Did you try cloning the project to see if it works on your end?  You&#39;ll notice in the previous answer that I linked that we had to remove the glob patterns to get it to work."}], "tags": [], "owner": {"reputation": 158, "user_id": 4337953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e50f03ca522ac7a7325b2a530636eee6?s=128&d=identicon&r=PG", "display_name": "webpopular.net", "link": "https://stackoverflow.com/users/4337953/webpopular-net"}, "is_accepted": false, "score": -1, "last_activity_date": 1553798308, "last_edit_date": 1553798308, "creation_date": 1553726270, "answer_id": 55387544, "question_id": 55387238, "link": "https://stackoverflow.com/questions/55387238/trouble-converting-project-to-typescript-paths/55387544#55387544", "title": "Trouble converting project to Typescript paths", "body": "<p>Add your paths property to the compilerOptions in the tsconfig file.</p>\n\n<pre><code>  \"compileOnSave\": false,\n  \"compilerOptions\": {\n    \"outDir\": \"./dist/out-tsc\",\n    \"sourceMap\": true,\n    \"declaration\": false,\n    \"moduleResolution\": \"node\",\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"target\": \"es5\",\n    \"typeRoots\": [\n      \"node_modules/@types\"\n    ],\n    \"lib\": [\n      \"es2017\",\n      \"dom\"\n    ],\n    \"paths\": {      \n      \"@app/*\": [\n        \"./app/*\"\n      ]\n    }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1553798308, "creation_date": 1553724627, "last_edit_date": 1553784233, "question_id": 55387238, "link": "https://stackoverflow.com/questions/55387238/trouble-converting-project-to-typescript-paths", "title": "Trouble converting project to Typescript paths", "body": "<p><a href=\"https://stackoverflow.com/questions/55383929/typescript-paths-not-resolving\">So I asked this question earlier today on how to use paths</a>.</p>\n\n<p>Now I'm trying to convert <a href=\"https://github.com/fireflysemantics/validator\" rel=\"nofollow noreferrer\">this project</a> using that approach.</p>\n\n<p>So I first clone it:</p>\n\n<pre><code>git clone git@github.com:fireflysemantics/validator.git\n</code></pre>\n\n<p>Then edit the <code>paths</code> setting so it looks like this:</p>\n\n<pre><code>\"baseUrl\": \"./\",                          /* Base directory to resolve non-absolute module names. */\n\"paths\": {\n  \"@fs\": [\"./src\"], \n  \"@test\": [\"./test\"]\n},                                        /* \n</code></pre>\n\n<p>Then I tried editing the <code>src/container/error/index.ts</code> so that it looks like this:</p>\n\n<pre><code>export { ObjectErrors } from \"@fs/container/error/ObjectErrors\";\nexport { ValidationError } from \"./ValidationError\";\n</code></pre>\n\n<p>When I compile Typescript still generates this error:</p>\n\n<blockquote>\n  <p>src/container/error/index.ts:1:30 - error TS2307: Cannot find module '@fs/container/error/ObjectErrors'.</p>\n</blockquote>\n\n<p>1 export { ObjectErrors } from \"@fs/container/error/ObjectErrors\";\n                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</p>\n\n<p>Thoughts?</p>\n\n<h2>Typescript Github Issue</h2>\n\n<p><a href=\"https://github.com/Microsoft/TypeScript/issues/30619\" rel=\"nofollow noreferrer\">Filed an Issue with Typescript here</a></p>\n"}, {"tags": ["javascript", "axios"], "answers": [{"tags": [], "owner": {"reputation": 1873, "user_id": 984008, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ec23afd6424dc80ede53d76b5e0d0089?s=128&d=identicon&r=PG&f=1", "display_name": "scferg5", "link": "https://stackoverflow.com/users/984008/scferg5"}, "is_accepted": false, "score": 0, "last_activity_date": 1553737651, "creation_date": 1553737651, "answer_id": 55388999, "question_id": 55387217, "link": "https://stackoverflow.com/questions/55387217/axios-all-using-last-request-config/55388999#55388999", "title": "axios.all() using last request config", "body": "<p>I got it to work by changing the first function to:</p>\n\n<pre><code>function request(requestConfig) {\n  // ... axios config such as baseURL, api authentication, etc.\n\n  // [TEST A] - correct page # param\n  console.log(requestConfig)\n\n  // ADDED THIS TO CREATE A NEW AXIOS INSTANCE EVERY TIME\n  let axiosInstance = axios.create(requestConfig)\n\n  return axiosInstance(requestConfig)\n    .then ( res =&gt; {\n      // [TEST B] - incorrect page # param, always last page\n      console.log(requestConfig)\n      return res.data\n    })\n    .catch( error =&gt; {\n      // error\n    })\n}\n</code></pre>\n\n<p>Not sure if that's the most performant way to accomplish this, but it achieves the end goal...</p>\n"}], "owner": {"reputation": 1873, "user_id": 984008, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ec23afd6424dc80ede53d76b5e0d0089?s=128&d=identicon&r=PG&f=1", "display_name": "scferg5", "link": "https://stackoverflow.com/users/984008/scferg5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 395, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553737651, "creation_date": 1553724507, "question_id": 55387217, "link": "https://stackoverflow.com/questions/55387217/axios-all-using-last-request-config", "title": "axios.all() using last request config", "body": "<p>I'm using <code>axios.all()</code> to resolve an indeterminate number of different requests. Let's say for this example, the number of calls is <code>3</code>.</p>\n\n<p>For all of those requests, I need to modify a value in axios' <code>params</code> to retrieve a different page from the api per request:</p>\n\n<pre><code>params: { page: 1 } // request 1\nparams: { page: 2 } // request 2\nparams: { page: 3 } // request 3\n</code></pre>\n\n<p>The issue is that axios is requesting <code>page: 3</code> 3 times, as if it's holding onto the last <code>requestConfig</code> provided for the promises.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>function request(requestConfig) {\n  // ... axios config such as baseURL, api authentication, etc.\n\n  // [TEST A] - correct page # param\n  console.log(requestConfig)\n\n  return axios(requestConfig)\n    .then ( res =&gt; {\n      // [TEST B] - incorrect page # param, always last page\n      console.log(requestConfig)\n      return res.data\n    })\n    .catch( error =&gt; {\n      // error\n    })\n}\n\n\nexport default {\n  // ... other axios request functions\n  getProjects () {\n    return new Promise( (resolve, reject) =&gt; {\n      let projects = []\n      let promises = []\n\n      // loop through all project pages (3 for this example)\n      for (let i = 1; i &lt;= 3; i++) {\n        promises.push(request({ url: 'projects', params: {\n          page: i // set the page number for this request\n        }))\n      }\n\n      axios.all(promises)\n        .then( results =&gt; {\n          // loop through the results and push them to projects[]\n          results.forEach( page =&gt; {\n            projects.push.apply(projects, page)\n          })\n\n          resolve(projects)\n        })\n        .catch( error =&gt; {\n          reject(error)\n        })\n    }\n  }\n}\n</code></pre>\n\n<p>The odd part is the at <code>[TEST A]</code>, the correct param page number is outputted. For <code>[TEST B]</code>, it outputs the last page number for all requests.</p>\n\n<p>I found these, but either they're not the same issue or I'm not following...</p>\n\n<p><a href=\"https://stackoverflow.com/questions/48439423/why-i-getting-the-last-promise\">Why I getting the last promise?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/43664566/is-it-possible-to-use-axios-all-with-a-then-for-each-promise\">Is it possible to use axios.all with a then() for each promise?</a></p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["javascript", "wordpress", "google-chrome", "events", "preventdefault"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6544259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d14aa573251105fa05940dc0c2026e6?s=128&d=identicon&r=PG&f=1", "display_name": "Chase Rogers", "link": "https://stackoverflow.com/users/6544259/chase-rogers"}, "is_accepted": false, "score": 0, "last_activity_date": 1553971297, "creation_date": 1553971297, "answer_id": 55434600, "question_id": 55387201, "link": "https://stackoverflow.com/questions/55387201/how-to-fix-preventdefault-error-in-oceanwp-main-js/55434600#55434600", "title": "How to fix preventDefault error in OceanWP main.js", "body": "<p>turn off smooth scroll. </p>\n\n<p>Admin area > theme panel > smoothscroll switch off</p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 10971066, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wHPA_T9gSKI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hT-RByjJfl5nS6hxGHWP4V_gjlZA/mo/photo.jpg?sz=128", "display_name": "Austris Balodis", "link": "https://stackoverflow.com/users/10971066/austris-balodis"}, "edited": false, "score": 0, "creation_date": 1555358292, "post_id": 55646179, "comment_id": 98075180, "body": "Hi, thanks for your input, I used Chases method and it worked just fine and was super simple!"}, {"owner": {"reputation": 1, "user_id": 8919516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f922b32ba10a31d1ea1b02cda6164cf8?s=128&d=identicon&r=PG&f=1", "display_name": "ipmessanger", "link": "https://stackoverflow.com/users/8919516/ipmessanger"}, "reply_to_user": {"reputation": 21, "user_id": 10971066, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wHPA_T9gSKI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hT-RByjJfl5nS6hxGHWP4V_gjlZA/mo/photo.jpg?sz=128", "display_name": "Austris Balodis", "link": "https://stackoverflow.com/users/10971066/austris-balodis"}, "edited": false, "score": 0, "creation_date": 1555482055, "post_id": 55646179, "comment_id": 98121766, "body": "Okay. That&#39;s great..!!"}], "tags": [], "owner": {"reputation": 1, "user_id": 8919516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f922b32ba10a31d1ea1b02cda6164cf8?s=128&d=identicon&r=PG&f=1", "display_name": "ipmessanger", "link": "https://stackoverflow.com/users/8919516/ipmessanger"}, "is_accepted": false, "score": 0, "last_activity_date": 1555052540, "creation_date": 1555052540, "answer_id": 55646179, "question_id": 55387201, "link": "https://stackoverflow.com/questions/55387201/how-to-fix-preventdefault-error-in-oceanwp-main-js/55646179#55646179", "title": "How to fix preventDefault error in OceanWP main.js", "body": "<p>I also had same issue in my Wordpress website (Only chrome).</p>\n\n<p>I added this <a href=\"https://wordpress.org/plugins/mousewheel-smooth-scroll/\" rel=\"nofollow noreferrer\">MouseWheel Smooth Scroll By KubiQ</a> plugin in my website. And now scroll issue is resolved.</p>\n"}], "owner": {"reputation": 21, "user_id": 10971066, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wHPA_T9gSKI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hT-RByjJfl5nS6hxGHWP4V_gjlZA/mo/photo.jpg?sz=128", "display_name": "Austris Balodis", "link": "https://stackoverflow.com/users/10971066/austris-balodis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1331, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1555052540, "creation_date": 1553724370, "question_id": 55387201, "link": "https://stackoverflow.com/questions/55387201/how-to-fix-preventdefault-error-in-oceanwp-main-js", "title": "How to fix preventDefault error in OceanWP main.js", "body": "<p>I am ussing OceanWP on my wordpress site and have preventDefault issue after Chrome update.</p>\n\n<p><strong>[Intervention] Unable to preventDefault inside passive event listener due to target being treated as passive. See </strong></p>\n\n<p>Tried adding { passive: false } in all places where I had preventDefault</p>\n\n<p>Scrolling is very glitchy due to this issue.</p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 4879, "user_id": 3213172, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/9h5GT.jpg?s=128&g=1", "display_name": "djfdev", "link": "https://stackoverflow.com/users/3213172/djfdev"}, "edited": false, "score": 1, "creation_date": 1553724263, "post_id": 55387140, "comment_id": 97496238, "body": "What&#39;s the problem you&#39;re trying to solve?"}, {"owner": {"reputation": 4767, "user_id": 992964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05d73e837359063dfa0684e9e4eccdec?s=128&d=identicon&r=PG", "display_name": "Fred Stark", "link": "https://stackoverflow.com/users/992964/fred-stark"}, "edited": false, "score": 0, "creation_date": 1553724609, "post_id": 55387140, "comment_id": 97496359, "body": "This is perfectly valid code. Opinions about whether it&#39;s good or bad are off-topic for stack overflow"}, {"owner": {"reputation": 47791, "user_id": 2030321, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/ALZ1w.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/2030321/chris"}, "reply_to_user": {"reputation": 4767, "user_id": 992964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05d73e837359063dfa0684e9e4eccdec?s=128&d=identicon&r=PG", "display_name": "Fred Stark", "link": "https://stackoverflow.com/users/992964/fred-stark"}, "edited": false, "score": 0, "creation_date": 1553725417, "post_id": 55387140, "comment_id": 97496610, "body": "@FredStark, I think there is a difference between asking for a &quot;best&quot; practice (i.e an opinionated view of which method is better than any other method) and asking if an approach is &quot;bad&quot; (i.e if there are any known side-effects that can be avoided through another method). OP seems to be asking about the latter. The answer here, as you said yourself, is <i>no</i> - there&#39;s nothing inherently wrong with this code... but that doesn&#39;t make it opinionated."}], "answers": [{"comments": [{"owner": {"reputation": 47791, "user_id": 2030321, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/ALZ1w.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/2030321/chris"}, "edited": false, "score": 0, "creation_date": 1553724752, "post_id": 55387240, "comment_id": 97496401, "body": "I&#39;d be very happy to know why this was down-voted. Is there something I missed or that I can improve? Please let me know, because the reason is unclear to me."}, {"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1553729862, "post_id": 55387240, "comment_id": 97497950, "body": "I never down-voted, but have spotted an oddity in your first snippet.  <code>document.getElementById(newDiv)</code>,  well <code>newDiv</code> is already a DOM element, and doing <code>getElementById</code> on it doesn&#39;t make any sense."}, {"owner": {"reputation": 47791, "user_id": 2030321, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/ALZ1w.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/2030321/chris"}, "reply_to_user": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1553730238, "post_id": 55387240, "comment_id": 97498032, "body": "@Keith, Well spotted. A hasty copy-paste error on my part :) Fixed now. Thanks!"}], "tags": [], "owner": {"reputation": 47791, "user_id": 2030321, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/ALZ1w.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/2030321/chris"}, "is_accepted": false, "score": 1, "last_activity_date": 1553730247, "last_edit_date": 1553730247, "creation_date": 1553724641, "answer_id": 55387240, "question_id": 55387140, "link": "https://stackoverflow.com/questions/55387140/react-bad-practice-to-use-reactdom-render-and-inject-component/55387240#55387240", "title": "React bad practice to use ReactDOM.render and inject component?", "body": "<blockquote>\n  <p>Is it bad to do something like...</p>\n</blockquote>\n\n<p>No, the code you have there is fine, except that you forgot a <code>,</code> in your <code>ReactDOM.render()</code>. \nOther than that, there is nothing \"bad\" about it. You could achieve the same result with less lines if you instead did:</p>\n\n<pre><code>const fooEl = document.querySelector('.foo-class');\nconst newDiv = document.createElement('div');\nfoolEl.appendChild(newDiv);\n\nReactDOM.render(\n  &lt;FooBarComponent /&gt;,\n  newDiv\n);\n</code></pre>\n\n<p>However, it is not clear from your question why you need to mount the React app to a child <code>div</code> of <code>.foo-class</code>, rather than just mounting it on <code>foo-class</code> directly - like so:</p>\n\n<pre><code>ReactDOM.render(\n  &lt;FooBarComponent /&gt;,\n  document.querySelector('.foo-class')\n);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 34, "user_id": 7080403, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qrsR-j89EDE/AAAAAAAAAAI/AAAAAAAAAC0/qq860JRPEdo/photo.jpg?sz=128", "display_name": "Marco Fiorito", "link": "https://stackoverflow.com/users/7080403/marco-fiorito"}, "is_accepted": false, "score": 0, "last_activity_date": 1553724752, "creation_date": 1553724752, "answer_id": 55387256, "question_id": 55387140, "link": "https://stackoverflow.com/questions/55387140/react-bad-practice-to-use-reactdom-render-and-inject-component/55387256#55387256", "title": "React bad practice to use ReactDOM.render and inject component?", "body": "<p>It's the correct practice, you can see that in react documentation:</p>\n\n<p><a href=\"https://i.stack.imgur.com/gINWE.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>Another altenative is centralize that in an object apart.</p>\n"}], "owner": {"reputation": 155, "user_id": 9531697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/731cb55742920e208f014d4f077ccb54?s=128&d=identicon&r=PG&f=1", "display_name": "christiancn7", "link": "https://stackoverflow.com/users/9531697/christiancn7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 242, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1553730247, "creation_date": 1553724071, "question_id": 55387140, "link": "https://stackoverflow.com/questions/55387140/react-bad-practice-to-use-reactdom-render-and-inject-component", "title": "React bad practice to use ReactDOM.render and inject component?", "body": "<p>So I never really do this but I might have to for a certain problem I'm facing with a 3rd party library.</p>\n\n<p>Basically, Is it bad to do something like </p>\n\n<pre><code>const fooEl = document.querySelector('.foo-class');\nconst newDiv = document.createElement('div');\nconst id = 'testingId';\nnewDiv.id = id;\nfoolEl.appendChild(newDiv);\n\nReactDOM.render(\n    &lt;FooBarComponent /&gt;\n  document.getElementById(id)\n);\n</code></pre>\n\n<p>If so is there any other way I can approach this? Basically i'm trying to insert a component into a DOM element.</p>\n"}, {"tags": ["javascript", "firebase", "google-cloud-firestore"], "answers": [{"comments": [{"owner": {"reputation": 47877, "user_id": 414062, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/xc7mu.jpg?s=128&g=1", "display_name": "Dominic", "link": "https://stackoverflow.com/users/414062/dominic"}, "edited": false, "score": 0, "creation_date": 1553764393, "post_id": 55387314, "comment_id": 97508061, "body": "Hm strange as I am calling <code>await</code> on the <code>get()</code>, I think I must be doing the next bit wrong. I might end up just using arrays due to it causing an increase in read/write ops and more complication in code and time to wait for round trips for the benefit of scaling when collections are very large (unlikely in many cases)"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "reply_to_user": {"reputation": 47877, "user_id": 414062, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/xc7mu.jpg?s=128&g=1", "display_name": "Dominic", "link": "https://stackoverflow.com/users/414062/dominic"}, "edited": false, "score": 0, "creation_date": 1553785895, "post_id": 55387314, "comment_id": 97522528, "body": "Your <code>projectRef</code> isn&#39;t a reference at all.  It&#39;s a DocumentSnapshot that contains the data in the document.  Maybe you want to get a DocumentReference from that snapshot using its ref property and use that to build the next reference.  <a href=\"https://firebase.google.com/docs/reference/js/firebase.firestore.DocumentSnapshot#ref\" rel=\"nofollow noreferrer\">firebase.google.com/docs/reference/js/&hellip;</a>"}, {"owner": {"reputation": 47877, "user_id": 414062, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/xc7mu.jpg?s=128&g=1", "display_name": "Dominic", "link": "https://stackoverflow.com/users/414062/dominic"}, "edited": false, "score": 0, "creation_date": 1553786162, "post_id": 55387314, "comment_id": 97522732, "body": "Thanks I think that might be what I need - will try later"}, {"owner": {"reputation": 47877, "user_id": 414062, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/xc7mu.jpg?s=128&g=1", "display_name": "Dominic", "link": "https://stackoverflow.com/users/414062/dominic"}, "edited": false, "score": 0, "creation_date": 1553798734, "post_id": 55387314, "comment_id": 97530118, "body": "I got it working using ref but it seems like such a poor API I&#39;m still wondering if I&#39;m doing it right (see edited question)"}], "tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": true, "score": 1, "last_activity_date": 1553768929, "last_edit_date": 1553768929, "creation_date": 1553725001, "answer_id": 55387314, "question_id": 55387124, "link": "https://stackoverflow.com/questions/55387124/firestore-how-to-add-to-a-sub-collection/55387314#55387314", "title": "Firestore how to add to a sub collection", "body": "<p>Your \"nasty thing\" is much closer to the way things work.</p>\n\n<p>In your first attempt, you're trying to combine a query <em>and</em> a document creation in one operation.  The SDK doesn't work like that at all.  You are either reading or writing with any given bit of code, never both at once.  You should do the query first, find the document, then use that to create more documents.</p>\n\n<p><a href=\"https://firebase.google.com/docs/reference/js/firebase.firestore.Query#get\" rel=\"nofollow noreferrer\"><code>get()</code></a> returns a promise that you need to use to wait on the results of the query.  The results are not available immediately, as your code is currently assuming.</p>\n\n<p>The <a href=\"https://firebase.google.com/docs/firestore/query-data/get-data#get_multiple_documents_from_a_collection\" rel=\"nofollow noreferrer\">documentation</a> shows example code of how to handle the results of an asynchronous query.  Since your code uses async/await, you can convert it as needed.  Note that you have to iterate the <code>QuerySnapshot</code> obtained from the returned promise to see if a document is found.</p>\n"}], "owner": {"reputation": 47877, "user_id": 414062, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/xc7mu.jpg?s=128&g=1", "display_name": "Dominic", "link": "https://stackoverflow.com/users/414062/dominic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 55387314, "answer_count": 1, "score": 0, "last_activity_date": 1554391219, "creation_date": 1553723992, "last_edit_date": 1554391219, "question_id": 55387124, "link": "https://stackoverflow.com/questions/55387124/firestore-how-to-add-to-a-sub-collection", "title": "Firestore how to add to a sub collection", "body": "<p>I would like to find a doc in a collection, and add items to a sub collection (which might not exist yet):</p>\n\n<pre><code>projects (collection)\n   project (doc)\n      cluster (collection) // might not exist\n        node1 (doc)  // might not exist\n           statTypeA (collection)  // might not exist\n</code></pre>\n\n<p>I was hoping for something like this:</p>\n\n<pre><code>// Know the doc:\ndb.ref(`projects/${projectId}/cluster/node1/${statType}`).add()\n// Or filter and ref:  \ndb.collection('projects').where(..).limit(1).ref(`cluster/node1/${statType}`).add()\n</code></pre>\n\n<p>I ended up solving it like this but it's ugly, verbose and slow as it has to come back with a number of read ops first. Am I doing this right?</p>\n\n<pre><code>const projectRefs = await db.collection('projects')\n  .where('licenseKey', '==', licenseKey)\n  .limit(1)\n  .get();\n\nif (!projectRefs.docs) {\n  // handle 404\n}\n\nconst projectRef = projectRefs.docs[0].ref;\n\nconst cluster = await projectRef.collection('cluster')\n  .doc('node1').get();\n\nawait cluster.ref.collection(statType).add({ something: 'hi' });\n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<p>The way I ended up handling this in a better way is a combination of flattening to other collections and also using arrays for stats. Feels much better:</p>\n\n<pre><code>// projects\n{\n  projectId1\n}\n\n// instances (to-many-relationship) (filter based on projectId)\n{\n  projectId\n  statTypeA: []\n  statTypeB: []\n}\n</code></pre>\n"}, {"tags": ["javascript", "highcharts", "promise", "es6-promise"], "comments": [{"owner": {"reputation": 83, "user_id": 8227827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6ang.jpg?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/8227827/max"}, "edited": false, "score": 1, "creation_date": 1553724201, "post_id": 55387115, "comment_id": 97496215, "body": "Not sure if this is a viable option for you but instead of a loop you could fire an event once one draw finishes, the parent could capture the event and initiate the redraw for the next in line."}, {"owner": {"reputation": 99, "user_id": 9632731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cfba3eceff6a2e4d8c8df1133781646?s=128&d=identicon&r=PG&f=1", "display_name": "laventnc", "link": "https://stackoverflow.com/users/9632731/laventnc"}, "reply_to_user": {"reputation": 83, "user_id": 8227827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6ang.jpg?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/8227827/max"}, "edited": false, "score": 0, "creation_date": 1553724483, "post_id": 55387115, "comment_id": 97496327, "body": "yeah that&#39;s what I was thinking, like pass in the list of remaining charts to in the event arguments to the parents redraw() method. The main problem with that (if I&#39;m understanding you correctly) is that the relationships between the charts and toggles would require some level of mapping that I was hoping to avoid. I also figured this would be a good opportunity to learn about Promises as I&#39;ve until recent tended to avoid them."}], "answers": [{"tags": [], "owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "is_accepted": true, "score": 2, "last_activity_date": 1553728844, "creation_date": 1553728844, "answer_id": 55387946, "question_id": 55387115, "link": "https://stackoverflow.com/questions/55387115/modify-multiple-highcharts-in-a-sequential-loop/55387946#55387946", "title": "Modify multiple Highcharts in a sequential loop", "body": "<p>If I understand what you mean, you can achieve it by wrapping the code you have in the trigger in a setTimeout (with a timeout value of 0), in turn wrapped in a new Promise</p>\n\n<p>using async/await it would be something like</p>\n\n<pre><code>$('#trigger').click(async (e) =&gt; {\n    for (let chart of Highcharts.charts) {\n        await new Promise(resolve =&gt; setTimeout(() =&gt; {\n            chart.series.forEach(series =&gt; series.setVisible(undefined, false));\n            chart.redraw();\n            resolve();\n        }, 0));\n    }\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 99, "user_id": 9632731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cfba3eceff6a2e4d8c8df1133781646?s=128&d=identicon&r=PG&f=1", "display_name": "laventnc", "link": "https://stackoverflow.com/users/9632731/laventnc"}, "edited": false, "score": 0, "creation_date": 1553780392, "post_id": 55388041, "comment_id": 97518317, "body": "so i tried your solution and i couldnt get it to wait for the chart to redraw before proceeding... for instance here: <a href=\"https://jsfiddle.net/nlaventis/do48cpsb/49/\" rel=\"nofollow noreferrer\">jsfiddle.net/nlaventis/do48cpsb/49</a> seems to be updating all at once"}], "tags": [], "owner": {"reputation": 525, "user_id": 10146470, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mRyE-1lOdXg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pjcCJtjnBbE2gxyr14bfXe7f5F_g/mo/photo.jpg?sz=128", "display_name": "kht", "link": "https://stackoverflow.com/users/10146470/kht"}, "is_accepted": false, "score": 1, "last_activity_date": 1553729411, "creation_date": 1553729411, "answer_id": 55388041, "question_id": 55387115, "link": "https://stackoverflow.com/questions/55387115/modify-multiple-highcharts-in-a-sequential-loop/55388041#55388041", "title": "Modify multiple Highcharts in a sequential loop", "body": "<p><strong>GENERIC SOLUTION</strong></p>\n\n<p>Generally if you want to sequentially chain promises in a loop you can use the following format</p>\n\n<pre><code>function promiseChain(i) {\n    return new Promise(resolve =&gt; {\n        /* DO ASYNC STUFF */\n\n        // Resolve with some result if the next item in the chain needs it\n        return resolve(\"OK\");\n    });\n}\n\nlet p = Promise.resolve(null);\n\nfor (let i = 0; i &lt; 5; i++) {\n    p = p.then(prevResult =&gt; {\n        if (prevResult) {\n            // Do stuff with prevResult if needed\n        }\n\n        // Chain next item\n        return promiseChain(i);\n    });\n}\n</code></pre>\n\n<p><strong>Example with logs</strong></p>\n\n<p>This will log numbers 0-4, one at a time, waiting one second between each.</p>\n\n<pre><code>function promiseChain(i) {\n    return new Promise(resolve =&gt; {\n        setTimeout(() =&gt; {\n            console.log(i);\n            return resolve(\"OK\");\n        }, 1000)\n    });\n}\n\nlet p = Promise.resolve(null);\n\nfor (let i = 0; i &lt; 5; i++) {\n    p = p.then(prevResult =&gt; {\n        if (prevResult) {\n            // Do stuff with prevResult if needed\n        }\n\n        return promiseChain(i);\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 9632731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cfba3eceff6a2e4d8c8df1133781646?s=128&d=identicon&r=PG&f=1", "display_name": "laventnc", "link": "https://stackoverflow.com/users/9632731/laventnc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "accepted_answer_id": 55387946, "answer_count": 2, "score": 3, "last_activity_date": 1553729411, "creation_date": 1553723944, "question_id": 55387115, "link": "https://stackoverflow.com/questions/55387115/modify-multiple-highcharts-in-a-sequential-loop", "title": "Modify multiple Highcharts in a sequential loop", "body": "<h1>Summary</h1>\n\n<p>I'm currently working in an environment with around 14+ stockCharts on a given page (each with 20,0000+ unique data points, some a lot more). I have certain global \"toggles\" that affect, for instance, which series are displayed, chart options, or axis extremes (on all charts). Given that only one chart is visible to the user at a time, I would like to treat the updating of charts like a Queue, where  I update the one chart first, then another second, etc.</p>\n\n<p>My goal: call Highcharts.Chart.redraw() sequentially in a loop (i.e., call redraw on each chart in the page, one at a time - so that the first chart in my list of charts is redrawn first). Note that the ordering of the list of charts is dynamically created and already taken care of.</p>\n\n<h1>Background</h1>\n\n<p>So far I've read around a good amount about JavaScript promises, which I'ved used in the past for chaining ajax calls. As is discussed in the following links:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/5627284/pass-in-an-array-of-deferreds-to-when\">Pass in an array of Deferreds to $.when()</a></li>\n<li><a href=\"https://stackoverflow.com/questions/5518181/jquery-deferreds-when-and-the-fail-callback-arguments/7881733#7881733\">jQuery Deferred&#39;s, $.when() and the fail() callback arguments</a></li>\n<li><a href=\"https://stackoverflow.com/questions/3709597/wait-until-all-jquery-ajax-requests-are-done\">Wait until all jQuery Ajax requests are done?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/10004112/how-can-i-wait-for-set-of-asynchronous-callback-functions\">How can I wait for set of asynchronous callback functions?</a></li>\n</ul>\n\n<p>I've also read some more general questions on here related to Promises in loops:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/40328932/javascript-es6-promise-for-loop?noredirect=1&amp;lq=1\">JavaScript ES6 promise for loop</a></li>\n<li><a href=\"https://stackoverflow.com/questions/24586110/resolve-promises-one-after-another-i-e-in-sequence\">Resolve promises one after another (i.e. in sequence)?</a></li>\n</ul>\n\n<h1>Code / Details</h1>\n\n<p>I have tried numerous solutions, and believe the issue revolves around making the Highcharts redraw funcion - or the actions calling it (like Chart.update(), Series.setVisible(), Axis.setExtremes()) - return a promise. </p>\n\n<p>I've uploaded something of a shell <a href=\"https://jsfiddle.net/nlaventis/do48cpsb/46/\" rel=\"nofollow noreferrer\">here</a> which allows you to trigger an event, and see that each chart is essentially updated at once.</p>\n\n<hr>\n\n<p>For instance, something like the following:</p>\n\n<pre><code>$(Highcharts.charts).each(function(i, chart) {\n    console.log(i);\n    // decide what to do with the chart\n    // update Series, Chart options, Axis extremes... etc.\n    chart.redraw(); // call redraw at the end\n})\n</code></pre>\n\n<p>would output:</p>\n\n<pre><code>&gt; 1, 2, 3, ..., n // pause, then charts would redraw()\n</code></pre>\n\n<hr>\n\n<p>It's probably important to mention that while the above appears responsive, in my environment there is probably somewhere between a 2-5 second delay between clicking a toggle, and the redraw event finishing for the charts. </p>\n\n<p><strong><em>What I can't figure out is how to make the loop wait for each chart to finish its redraw before proceeding to the next chart in the list.</em></strong></p>\n\n<p>Any help that can be provided would be greatly appreciated.</p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 173187, "user_id": 128165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cdef5bd2099545a776ee86fb8049bdc6?s=128&d=identicon&r=PG", "display_name": "Gabriele Petrioli", "link": "https://stackoverflow.com/users/128165/gabriele-petrioli"}, "edited": false, "score": 1, "creation_date": 1553723604, "post_id": 55387011, "comment_id": 97495970, "body": "what have you tried ?"}], "answers": [{"tags": [], "owner": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "is_accepted": true, "score": 0, "last_activity_date": 1553723754, "creation_date": 1553723754, "answer_id": 55387080, "question_id": 55387011, "link": "https://stackoverflow.com/questions/55387011/split-url-and-replace/55387080#55387080", "title": "split url and replace", "body": "<p>One possible solution is to use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/match\" rel=\"nofollow noreferrer\">String.match()</a> with some capturing groups, like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const url = \"/shop/rest/model/atg/commerce/catalog/ProductCatalogActor/getHardwareFamilySkus?skuId=sku1431389\";\r\n\r\nconst customSplit = (url) =&gt;\r\n{\r\n    let matches = url.match(/^(\\/.*\\/)(.*)$/);\r\n    return [matches[1], matches[2]];\r\n}\r\n\r\nlet [abc, pqr] = customSplit(url);\r\n\r\nconsole.log(\"abc =&gt; \" + abc);\r\nconsole.log(\"pqr =&gt; \" + pqr);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console {background-color:black !important; color:lime;}\r\n.as-console-wrapper {max-height:100% !important; top:0;}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 23, "user_id": 7403519, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-K3Z-IYrNhno/AAAAAAAAAAI/AAAAAAAAB60/S1IMdhXgdUE/photo.jpg?sz=128", "display_name": "Sushant Sangle", "link": "https://stackoverflow.com/users/7403519/sushant-sangle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 55387080, "answer_count": 1, "score": -4, "last_activity_date": 1553738129, "creation_date": 1553723411, "last_edit_date": 1553738129, "question_id": 55387011, "link": "https://stackoverflow.com/questions/55387011/split-url-and-replace", "title": "split url and replace", "body": "<p>This is my URL:</p>\n\n<p>/shop/rest/model/atg/commerce/catalog/ProductCatalogActor/getHardwareFamilySkus?skuId=sku1431389</p>\n\n<p>I need to break url in two diffrent parts show below </p>\n\n<p>abc=>/shop/rest/model/atg/commerce/catalog/ProductCatalogActor/</p>\n\n<p>pqr=>getHardwareFamilySkus?skuId=sku1431389</p>\n"}, {"tags": ["javascript", "chart.js"], "answers": [{"tags": [], "owner": {"reputation": 1149, "user_id": 4670239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97969e2cb991348179115c57b9061aed?s=128&d=identicon&r=PG&f=1", "display_name": "Kunal Khivensara", "link": "https://stackoverflow.com/users/4670239/kunal-khivensara"}, "is_accepted": true, "score": 1, "last_activity_date": 1553756449, "creation_date": 1553756449, "answer_id": 55391823, "question_id": 55387008, "link": "https://stackoverflow.com/questions/55387008/how-can-i-debug-maxtickslimits-in-charts-js/55391823#55391823", "title": "How can I debug maxTicksLimits in charts.js?", "body": "<p>I think the problem is in the spelling <code>maxTicksLimits</code></p>\n\n<p>It should be used like shown in the below code, jsfiddle for your reference -> <a href=\"https://jsfiddle.net/Lhap6suy/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/Lhap6suy/</a></p>\n\n<pre><code>xAxes: [{\n        ticks: {\n          autoSkip: true,\n          maxTicksLimit: 2\n        }\n      }]\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 3977036, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/665742037/picture?type=large", "display_name": "Luke Bray", "link": "https://stackoverflow.com/users/3977036/luke-bray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 55391823, "answer_count": 1, "score": 3, "last_activity_date": 1553756449, "creation_date": 1553723398, "question_id": 55387008, "link": "https://stackoverflow.com/questions/55387008/how-can-i-debug-maxtickslimits-in-charts-js", "title": "How can I debug maxTicksLimits in charts.js?", "body": "<p>Using maxTicksLimits from charts.js seems to have no effect. There are no errors and my chart renders without error when reloading my page. Other options on ticks work without issue eg.<code>padding: 50</code> has the intended effect. Below is my code</p>\n\n<pre><code>var chartOptions = options: {\n        title: {\n            display: true,\n            text: 'please help me'\n        },\n        scales: {\n            xAxes: [{\n                ticks: {\n                    padding: 50,\n                    maxTicksLimits: 5,\n                    autoSkip: true\n                }\n            }]\n        }\n    }\n</code></pre>\n\n<p>I have tried using other options to debug and verify there isn't a problem with my code. </p>\n"}, {"tags": ["javascript", "reactjs", "formik", "react-context"], "comments": [{"owner": {"reputation": 155, "user_id": 3961144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a61a1db413e6f2111518027cd0b3f320?s=128&d=identicon&r=PG&f=1", "display_name": "Fredmental", "link": "https://stackoverflow.com/users/3961144/fredmental"}, "edited": false, "score": 10, "creation_date": 1553792609, "post_id": 55386987, "comment_id": 97526905, "body": "To anyone who finds this answer in the future, the solution is to set the <code>enablereinitialize</code> prop to true.  <a href=\"https://jaredpalmer.com/formik/docs/api/withformik#enablereinitialize-boolean\" rel=\"nofollow noreferrer\">jaredpalmer.com/formik/docs/api/&hellip;</a>"}, {"owner": {"reputation": 7266, "user_id": 363448, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1252402b941681ed179ed997878571f3?s=128&d=identicon&r=PG", "display_name": "ndequeker", "link": "https://stackoverflow.com/users/363448/ndequeker"}, "edited": false, "score": 7, "creation_date": 1557320139, "post_id": 55386987, "comment_id": 98724481, "body": "That should be <code>enableReinitialize</code> (mind the capital &#39;R&#39;)"}], "answers": [{"tags": [], "owner": {"reputation": 439, "user_id": 4658279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ec145a6480b789bbec487faa3c5350c?s=128&d=identicon&r=PG&f=1", "display_name": "Jithin B", "link": "https://stackoverflow.com/users/4658279/jithin-b"}, "is_accepted": false, "score": 3, "last_activity_date": 1611339125, "creation_date": 1611339125, "answer_id": 65850538, "question_id": 55386987, "link": "https://stackoverflow.com/questions/55386987/how-do-you-update-formik-initial-values-with-the-react-context-api-values-after/65850538#65850538", "title": "How do you update Formik initial values with the react context api values after an AJAX request?", "body": "<p>You should set the <code>enableReinitialize</code> prop.</p>\n<pre><code>&lt;Formik\n  initialValues={{ email: context.email, username: context.username }}\n  enableReinitialize\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1154, "user_id": 1894907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/81ukt.png?s=128&g=1", "display_name": "Ruslan Korkin", "link": "https://stackoverflow.com/users/1894907/ruslan-korkin"}, "is_accepted": false, "score": 0, "last_activity_date": 1615375975, "creation_date": 1615375975, "answer_id": 66563926, "question_id": 55386987, "link": "https://stackoverflow.com/questions/55386987/how-do-you-update-formik-initial-values-with-the-react-context-api-values-after/66563926#66563926", "title": "How do you update Formik initial values with the react context api values after an AJAX request?", "body": "<p>According to official <code>github issue</code> from <code>Formik</code> you should add <code>enableReinitialize</code> prop: <a href=\"https://github.com/formium/formik/issues/811#issuecomment-410813925\" rel=\"nofollow noreferrer\">https://github.com/formium/formik/issues/811#issuecomment-410813925</a></p>\n"}], "owner": {"reputation": 155, "user_id": 3961144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a61a1db413e6f2111518027cd0b3f320?s=128&d=identicon&r=PG&f=1", "display_name": "Fredmental", "link": "https://stackoverflow.com/users/3961144/fredmental"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4343, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1615375975, "creation_date": 1553723304, "question_id": 55386987, "link": "https://stackoverflow.com/questions/55386987/how-do-you-update-formik-initial-values-with-the-react-context-api-values-after", "title": "How do you update Formik initial values with the react context api values after an AJAX request?", "body": "<p>The issue I\u2019m facing though is that I want to mimic the behaviour of the FlaskLogin current_user in React throughout the component treed. For anyone that\u2019s not familiar with FlaskLogin, <code>current_user</code> just stores a session of the user who\u2019s currently logged in. </p>\n\n<p>To do this, I decided on using the React context api. What I do is at the top level component, I wrap a UserProvider around the app as so:</p>\n\n<pre><code>&lt;UserProvider value={this.state.user}&gt;\n    // Main Component.\n&lt;/UserProvider&gt;\n</code></pre>\n\n<p>The state is defined in the constructor:</p>\n\n<pre><code>constructor() {\n    super();\n    this.state = {\n      user: {\n        id: -1,\n        username: \u2018test username\u2019,\n        email: 'test email\u2019,\n      },\n    };\n  }\n</code></pre>\n\n<p>And then I call an Ajax request in the componentDidMount to grab the current_user.</p>\n\n<pre><code>componentDidMount() {\n    const state = this;\n    post('/get_current_user').then(function success(data) {\n      state.setState({\n        user: {\n          id: data.data.id,\n          username: data.data.username,\n          email: data.data.email,\n        },\n      });\n    }).catch(function exception() {\n      throw new Error('Failed to grab current user.');\n    });\n  }\n</code></pre>\n\n<p>I can grab this updated context throughout the app. This works great for an \u201cProfilePicture\u201d component as it grabs the correct state but it doesn\u2019t work for setting the initial values with Formik. In Formik I am creating an update username and email form. The issue is that Formik gets the context api values BEFORE the context api has been updated through the AJAX request. So \u201ctest username\u201d will show up in the username field and \u201ctest email\u201d will show in the email field. My Formik form is as follows:</p>\n\n<pre><code>const UserSettingsProfileForm = () =&gt; {\n  return (\n    &lt;UserConsumer&gt;\n      {context =&gt; (\n        &lt;Formik\n          initialValues={{ email: context.email, username: context.username }}\n          validationSchema={userSettingsFormSchema}\n          onSubmit={userSettingsOnSubmit}\n          render={userSettingsForm}\n        &gt;\n        &lt;/Formik&gt;\n      )}\n    &lt;/UserConsumer&gt;\n  );\n};\n</code></pre>\n\n<p>Does anyone have any suggestions on how to fix this so the correct context api values show up?</p>\n"}, {"tags": ["javascript", "ios", "svg", "onclick"], "answers": [{"comments": [{"owner": {"reputation": 5720, "user_id": 498656, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6f985a565e8a10ce0c7d249c741cffd5?s=128&d=identicon&r=PG", "display_name": "Corey", "link": "https://stackoverflow.com/users/498656/corey"}, "edited": false, "score": 0, "creation_date": 1553736702, "post_id": 55388879, "comment_id": 97499463, "body": "I would have caught this earlier if it was broken everywhere, but because it only presented itself on the touch devices I was testing, I totally missed the obvious!"}], "tags": [], "owner": {"reputation": 5720, "user_id": 498656, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6f985a565e8a10ce0c7d249c741cffd5?s=128&d=identicon&r=PG", "display_name": "Corey", "link": "https://stackoverflow.com/users/498656/corey"}, "is_accepted": false, "score": 0, "last_activity_date": 1553736525, "creation_date": 1553736525, "answer_id": 55388879, "question_id": 55386979, "link": "https://stackoverflow.com/questions/55386979/svg-onclick-event-not-firing-on-ios-devices/55388879#55388879", "title": "SVG onclick event not firing on iOS devices", "body": "<p>You have to call <code>getElementById()</code> as a method of <code>document</code> explicitly:</p>\n\n<pre><code>onclick=\"document.getElementById('box').style.backgroundColor = 'gold';\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 3265404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1520fef90fd18a46a35eec340f2c1f7?s=128&d=identicon&r=PG&f=1", "display_name": "mike.zimin", "link": "https://stackoverflow.com/users/3265404/mike-zimin"}, "is_accepted": false, "score": 1, "last_activity_date": 1575393595, "last_edit_date": 1575393595, "creation_date": 1575393200, "answer_id": 59162200, "question_id": 55386979, "link": "https://stackoverflow.com/questions/55386979/svg-onclick-event-not-firing-on-ios-devices/59162200#59162200", "title": "SVG onclick event not firing on iOS devices", "body": "<p>Yes, unfortunately there is a <strong>bug in iOS</strong> - \"click\" and \"tap\" events doesn't work within svg tag.</p>\n\n<p>But you can use \"touchstart\" / \"touchend\" events - they are work well in iOS with svg.</p>\n\n<p>You can emulate a \"tap\" event:\n<a href=\"https://stackoverflow.com/a/32120668/3265404\">https://stackoverflow.com/a/32120668/3265404</a></p>\n"}, {"tags": [], "owner": {"reputation": 739, "user_id": 1397641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55c0fb73e73e3d95a0b0e26c8d76a48f?s=128&d=identicon&r=PG", "display_name": "Sam Carlton", "link": "https://stackoverflow.com/users/1397641/sam-carlton"}, "is_accepted": false, "score": 0, "last_activity_date": 1579625765, "creation_date": 1579625765, "answer_id": 59845829, "question_id": 55386979, "link": "https://stackoverflow.com/questions/55386979/svg-onclick-event-not-firing-on-ios-devices/59845829#59845829", "title": "SVG onclick event not firing on iOS devices", "body": "<p>I was having this issue on Chrome on iOS found that using <code>cursor: pointer;</code> on the svg element made it work. </p>\n\n<p>Source: <a href=\"https://github.com/meteor/meteor/issues/681#issuecomment-351443900\" rel=\"nofollow noreferrer\">https://github.com/meteor/meteor/issues/681#issuecomment-351443900</a></p>\n"}], "owner": {"reputation": 5720, "user_id": 498656, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6f985a565e8a10ce0c7d249c741cffd5?s=128&d=identicon&r=PG", "display_name": "Corey", "link": "https://stackoverflow.com/users/498656/corey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 363, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1579625765, "creation_date": 1553723276, "question_id": 55386979, "link": "https://stackoverflow.com/questions/55386979/svg-onclick-event-not-firing-on-ios-devices", "title": "SVG onclick event not firing on iOS devices", "body": "<p>I have an SVG with a rect child element. The rect child has an <code>onclick</code> event that gets another element by its ID and changes its background color. This works in Chrome on my desktop as well as the iOS emulators in the Chrome inspector. However, it doesn't trigger the event on iOS devices.</p>\n\n<p>What can I change in my code to work on both desktop and iOS devices? Should I be listening for an additional event?</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\" style=\"height: 200px; width: 200px; border: 4px dashed salmon;\"&gt;\n    &lt;rect x=\"25\" y=\"25\" height=\"50\" width=\"50\" style=\"cursor: pointer; fill: gold;\" onclick=\"getElementById('box').style.backgroundColor = 'gold';\"&gt;&lt;/rect&gt;\n&lt;/svg&gt;\n&lt;div id=\"box\" style=\"height: 200px; width: 200px; background-color: skyblue;\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>Here is a <a href=\"https://codepen.io/anon/pen/LaKeWP\" rel=\"nofollow noreferrer\">CodePen</a>.</p>\n"}, {"tags": ["javascript", "jquery", "ajax", "security"], "comments": [{"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1553723341, "post_id": 55386972, "comment_id": 97495862, "body": "Don&#39;t rely on an HTML form to provide security for your API. Even if you could prevent the user from using their browser&#39;s developer console, they could still use PostMan or curl or any other HTTP client. If you expose an API (any API, including through regular form posts rather than Ajax requests), you should always assume that a skilled user can call those APIs at any time. Build proper security checks into the server, not the client."}, {"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1553723348, "post_id": 55386972, "comment_id": 97495867, "body": "Where is your <code>delete</code> called <i>in your own code</i>, can you show where you&#39;re using it?"}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 1, "creation_date": 1553723518, "post_id": 55386972, "comment_id": 97495934, "body": "&quot;that worked which is now a security issue&quot;. Why is that a security issue? The server receives it in the same way as if it was triggered from the UI, or if it was triggered from outside the browser (e.g. using something like PostMan, or some C# code or something). It doesn&#39;t matter how the request happened, the <b>server</b> needs to be verifying that the request is acceptable before it decides to carry out the requested action. You can&#39;t rely on the client to provide security, because in the world of HTTP any client can simply be replaced by another one which doesn&#39;t implement the security."}, {"owner": {"reputation": 15, "user_id": 11185329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdd4362d8525d849326681cbbeb17b4e?s=128&d=identicon&r=PG&f=1", "display_name": "Ryad laglagus", "link": "https://stackoverflow.com/users/11185329/ryad-laglagus"}, "edited": false, "score": 0, "creation_date": 1553723886, "post_id": 55386972, "comment_id": 97496096, "body": "hi guys .. so the security issue that i saw if that any user can call the delete function with any given id &quot; and that function will delete a persone from a database with the given id &quot;"}, {"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1553724242, "post_id": 55386972, "comment_id": 97496230, "body": "@Ryadlaglagus Right. So what limits do you need to place on the user? What checks do need to perform to make sure that the currently logged in user is allowed to delete the indicated person from the database? Just move or copy that logic from the client to the server."}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1553725268, "post_id": 55386972, "comment_id": 97496563, "body": "&quot;if that any user can call the delete function with any given id &quot; and that function will delete a persone from a database with the given id&quot;. Ok but that&#39;s not an issue specific to your browser, or to AJAX, or to the browser console. You could make that same request from <b>any</b> HTTP client (a browser is only one possible type of client...anyone can write some code to make a HTTP request in any programming language, even from the command-line). Again, you need to ensure that the server can check whether the client making the request is actually authorised to do so...."}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1553725381, "post_id": 55386972, "comment_id": 97496601, "body": "...a typical ways to do that would include authenticating the user making the request - e.g. they have to provide credentials to identify themselves. If the credentials are invalid, you reject the request. If the credentials are valid, but the user is not someone with the right role in your application to delete users, you reject the request. If the user meets all the necessary criteria, only then can you allow it. But this is <b>always</b> the responsibility of the <b>server</b> to verify <b>all</b> incoming requests..."}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1553725495, "post_id": 55386972, "comment_id": 97496635, "body": "...don&#39;t be tempted to employ &quot;security by obscurity&quot;, whereby if there isn&#39;t a &quot;Delete&quot; button showing the in user interface, then you assume it&#39;s impossible to delete someone. That&#39;s just not how the web works, at all. You&#39;ve already seen that it can be circumvented  - and using the console is just one way to do that. However you solution (disabling ajax from the console) is the wrong one that&#39;s all - not least because the console is only one of many ways to circumvent what the UI allows you to do. The correct and only viable solution is server-side security."}, {"owner": {"reputation": 15, "user_id": 11185329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdd4362d8525d849326681cbbeb17b4e?s=128&d=identicon&r=PG&f=1", "display_name": "Ryad laglagus", "link": "https://stackoverflow.com/users/11185329/ryad-laglagus"}, "edited": false, "score": 0, "creation_date": 1553726435, "post_id": 55386972, "comment_id": 97496933, "body": "thank you guys you saved me ... one of the solutions that i found from what you said  is to attribute &quot;authority&quot; in sessions for users who can delete and check it in server side, and by this i make it sure that non admins cant delete thats the best solution... again guys thank you so much and execuse me im begginer in this a bit ... thanks alot &lt;3"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 11185329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdd4362d8525d849326681cbbeb17b4e?s=128&d=identicon&r=PG&f=1", "display_name": "Ryad laglagus", "link": "https://stackoverflow.com/users/11185329/ryad-laglagus"}, "edited": false, "score": 0, "creation_date": 1553726557, "post_id": 55387038, "comment_id": 97496964, "body": "thank you so much sir thats the solution.. to check in server side for authoritys"}], "tags": [], "owner": {"reputation": 1093, "user_id": 5140389, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/063a8b0683cc3cd1b93ee83b846923d8?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/5140389/chris"}, "is_accepted": true, "score": 3, "last_activity_date": 1613738438, "last_edit_date": 1613738438, "creation_date": 1553723476, "answer_id": 55387038, "question_id": 55386972, "link": "https://stackoverflow.com/questions/55386972/how-can-i-block-the-client-from-calling-ajax-function-from-console/55387038#55387038", "title": "How can I block the client from calling ajax function from console?", "body": "<blockquote>\n<p>I tried to call the delete(someid) function from the console in the browser and that worked wich is now a security issue.</p>\n</blockquote>\n<p>This isn't a security issue from the client side. As far as I know, there is no way to disable people from using the console to call javascript to be used against your API, and even if it is possible there would be over 100 different ways of getting around that.</p>\n<p>For this, the security issue would be from your server/api side, and you should be checking requests before doing any sort of actual deleting with server side code.</p>\n<blockquote>\n<p>So the security issue that I saw if that any user can call the delete function with any given id &quot; and that function will delete a persone from a database with the given id.</p>\n</blockquote>\n<p>This would be a server side issue. You need to be doing some sort of authorization on the user. It's a pretty broad topic to answer in a single answer.</p>\n<p>Generally the flow you would have, is the user makes a delete request to your server, the server would have some sort of information for the user sending the request (like an id), and the server would then check and see if the user with that id has the ability to delete users from the database.</p>\n"}], "owner": {"reputation": 15, "user_id": 11185329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdd4362d8525d849326681cbbeb17b4e?s=128&d=identicon&r=PG&f=1", "display_name": "Ryad laglagus", "link": "https://stackoverflow.com/users/11185329/ryad-laglagus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 55387038, "answer_count": 1, "score": -1, "last_activity_date": 1613738464, "creation_date": 1553723259, "last_edit_date": 1613738464, "question_id": 55386972, "link": "https://stackoverflow.com/questions/55386972/how-can-i-block-the-client-from-calling-ajax-function-from-console", "title": "How can I block the client from calling ajax function from console?", "body": "<p>I'm working on a project and I've decided to execute submit forms with AJAX for multiple reasons and I have this function;</p>\n<p>I've tried to call the <code>delete(someid)</code> function from the console of my browser and it worked; This is now a security concern;</p>\n<p>How can I achieve this?</p>\n<p>Below is a code snippet illustrating it:</p>\n<pre><code>function delete(someid) {\n    $.ajax({\n        type: 'POST',\n        url: 'delete',\n        data: {\n            id: 'someid'\n        }\n    });\n}\n</code></pre>\n"}, {"tags": ["javascript", "html"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11268831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6377113be6ffb2addbe43236e1cfa62?s=128&d=identicon&r=PG", "display_name": "Carlos Tello", "link": "https://stackoverflow.com/users/11268831/carlos-tello"}, "edited": false, "score": 0, "creation_date": 1553816555, "post_id": 55387420, "comment_id": 97537295, "body": "Thank you Julian, your contribution helped me alot. Works very well."}], "tags": [], "owner": {"reputation": 525, "user_id": 10146470, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mRyE-1lOdXg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pjcCJtjnBbE2gxyr14bfXe7f5F_g/mo/photo.jpg?sz=128", "display_name": "kht", "link": "https://stackoverflow.com/users/10146470/kht"}, "is_accepted": true, "score": 1, "last_activity_date": 1553725611, "creation_date": 1553725611, "answer_id": 55387420, "question_id": 55386927, "link": "https://stackoverflow.com/questions/55386927/based-on-radio-buttons-how-can-i-list-the-stars-in-an-html-document-according-t/55387420#55387420", "title": "Based on radio buttons, how can I list the stars in an html document according to the radio value?", "body": "<p>You seem to be adding rows with the number value of the radio button as text, and then converting every row from numbers to '*'. Why not just convert to '*' before adding rows? You only need one function then.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const radio = document.getElementsByName(\"gender\");\r\nconst boton = document.getElementById(\"btnBoton\");\r\nconst listado = document.getElementById('contenedor-filas');\r\n\r\nboton.addEventListener('click', enviaNumeros);\r\n\r\nfunction enviaNumeros()\r\n{\r\n    radio.forEach(function(elementos){\r\n        if(elementos.checked)\r\n        {\r\n            estrellas = document.createElement('h3');\r\n            let s = '';\r\n            for (let i = 0; i &lt; elementos.value; i++) {\r\n            \ts += '*';\r\n            }\r\n            \r\n            estrellas.textContent = s;\r\n            listado.appendChild(estrellas);\r\n        }\r\n    });\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"container-fluid\"&gt;\r\n        &lt;div class=\"row\"&gt;\r\n            &lt;input type=\"radio\" name=\"gender\" value=\"5\" id=\"radio5\"&gt; 5&lt;br&gt;\r\n            &lt;input type=\"radio\" name=\"gender\" value=\"4\" id=\"radio4\"&gt; 4&lt;br&gt;\r\n            &lt;input type=\"radio\" name=\"gender\" value=\"3\" id=\"radio3\"&gt; 3&lt;br&gt;\r\n            &lt;input type=\"radio\" name=\"gender\" value=\"2\" id=\"radio2\"&gt; 2&lt;br&gt;\r\n            &lt;input type=\"radio\" name=\"gender\" value=\"1\" id=\"radio1\"&gt; 1&lt;br&gt;\r\n            &lt;input type=\"submit\" value=\"enviar\" id=\"btnBoton\"&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;section class=\"lista-comentarios\"&gt;\r\n        &lt;div class=\"container-fluid\" id=\"contenedor-filas\"&gt;\r\n            &lt;h1&gt;Comment List&lt;/h1&gt;\r\n        &lt;/div&gt;\r\n    &lt;/section&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 490, "user_id": 2666561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd85ff86fda0d16e8592ded210d81052?s=128&d=identicon&r=PG", "display_name": "Julian", "link": "https://stackoverflow.com/users/2666561/julian"}, "is_accepted": false, "score": 0, "last_activity_date": 1553727384, "creation_date": 1553727384, "answer_id": 55387725, "question_id": 55386927, "link": "https://stackoverflow.com/questions/55386927/based-on-radio-buttons-how-can-i-list-the-stars-in-an-html-document-according-t/55387725#55387725", "title": "Based on radio buttons, how can I list the stars in an html document according to the radio value?", "body": "<p><code>document.querySelector</code> will only select the first h3 element in the document.</p>\n"}], "owner": {"reputation": 3, "user_id": 11268831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6377113be6ffb2addbe43236e1cfa62?s=128&d=identicon&r=PG", "display_name": "Carlos Tello", "link": "https://stackoverflow.com/users/11268831/carlos-tello"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 55387420, "answer_count": 2, "score": 0, "last_activity_date": 1553727384, "creation_date": 1553723020, "question_id": 55386927, "link": "https://stackoverflow.com/questions/55386927/based-on-radio-buttons-how-can-i-list-the-stars-in-an-html-document-according-t", "title": "Based on radio buttons, how can I list the stars in an html document according to the radio value?", "body": "<p>I'm trying to do the following:\nEach time you choose a radio button, these must become in stars. Each number must be the same number of stars.</p>\n\n<p>I've only been able to make the first row works; as the picture shows.</p>\n\n<p>I'm not using jquery. Only vanilla javascript (pure javascript )</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const radio = document.getElementsByName(\"gender\");\r\nconst boton = document.getElementById(\"btnBoton\");\r\nconst listado = document.getElementById('contenedor-filas');\r\n\r\nboton.addEventListener('click', enviaNumeros);\r\n\r\nfunction enviaNumeros()\r\n{\r\n    radio.forEach(function(elementos){\r\n        if(elementos.checked)\r\n        {\r\n            estrellas = document.createElement('h3');\r\n            estrellas.textContent = elementos.value;\r\n            listado.appendChild(estrellas);\r\n            console.log(elementos.value)\r\n        }\r\n    });\r\n\r\n    ponerEstrellas();\r\n}\r\n\r\n\r\nfunction ponerEstrellas()\r\n{\r\n    let c = document.getElementsByTagName('h3');\r\n    \r\n    for (i = 0; i &lt; c.length; i++){\r\n        if (c[i].textContent === '5'){\r\n            document.querySelector('h3').innerText = \"*****\";\r\n        }\r\n    }   \r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n\r\n&lt;head&gt;\r\n    &lt;meta charset=\"utf-8\"&gt;\r\n    &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"&gt;\r\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\"&gt;\r\n    &lt;!-- Bootstrap CSS --&gt;\r\n    &lt;link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"\r\n        integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\" crossorigin=\"anonymous\"&gt;\r\n    &lt;title&gt;Review System&lt;/title&gt;\r\n    &lt;!-- style sheet --&gt;\r\n    &lt;!-- Font Awesome Icon Library --&gt;\r\n    &lt;link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"&gt;\r\n&lt;/head&gt;\r\n\r\n\r\n&lt;body&gt;\r\n\r\n    &lt;div class=\"container-fluid\"&gt;\r\n        &lt;div class=\"row\"&gt;\r\n            &lt;input type=\"radio\" name=\"gender\" value=\"5\" id=\"radio5\"&gt; 5&lt;br&gt;\r\n            &lt;input type=\"radio\" name=\"gender\" value=\"4\" id=\"radio4\"&gt; 4&lt;br&gt;\r\n            &lt;input type=\"radio\" name=\"gender\" value=\"3\" id=\"radio3\"&gt; 3&lt;br&gt;\r\n            &lt;input type=\"radio\" name=\"gender\" value=\"2\" id=\"radio2\"&gt; 2&lt;br&gt;\r\n            &lt;input type=\"radio\" name=\"gender\" value=\"1\" id=\"radio1\"&gt; 1&lt;br&gt;\r\n            &lt;input type=\"submit\" value=\"enviar\" id=\"btnBoton\"&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;section class=\"lista-comentarios\"&gt;\r\n        &lt;div class=\"container-fluid\" id=\"contenedor-filas\"&gt;\r\n            &lt;h1&gt;Comment List&lt;/h1&gt;\r\n        &lt;/div&gt;\r\n    &lt;/section&gt;\r\n\r\n\r\n\r\n    &lt;script src=\"https://code.jquery.com/jquery-3.3.1.slim.min.js\"\r\n        integrity=\"sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo\"\r\n        crossorigin=\"anonymous\"&gt;&lt;/script&gt;\r\n    &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js\"\r\n        integrity=\"sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1\"\r\n        crossorigin=\"anonymous\"&gt;&lt;/script&gt;\r\n    &lt;script src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js\"\r\n        integrity=\"sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM\"\r\n        crossorigin=\"anonymous\"&gt;&lt;/script&gt;\r\n    &lt;script src=\"pruebas.js\"&gt;&lt;/script&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I appreciate your help guys.</p>\n"}, {"tags": ["javascript", "node.js", "falcor", "falcor-router"], "answers": [{"tags": [], "owner": {"reputation": 1785, "user_id": 2287885, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2992f6b5d942ccfdf36572b9aa74423?s=128&d=identicon&r=PG", "display_name": "James Conkling", "link": "https://stackoverflow.com/users/2287885/james-conkling"}, "is_accepted": true, "score": 0, "last_activity_date": 1553816065, "creation_date": 1553816065, "answer_id": 55408407, "question_id": 55386895, "link": "https://stackoverflow.com/questions/55386895/setting-request-headers-with-falcor/55408407#55408407", "title": "Setting request headers with Falcor", "body": "<p>It looks like you are using the <code>HttpDataSource</code> from the falcor package.  Try installing <code>falcor-http-datasource</code> and using that version instead.  It's possible that the <code>HttpDataSource</code> bundled with the main falcor package is an older version.</p>\n\n<p>e.g.</p>\n\n<pre><code>import falcor from 'falcor';\nimport HttpDataSource from 'falcor-http-datasource';\n\nconst model = new falcor.Model({\n    source: new HttpDataSource('http://localhost:3001/api/users/model.json', {\n        headers: {\n            'x-auth-token': \"secret\"\n        }\n    })\n});\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11268835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6UQRO.png?s=128&g=1", "display_name": "marisanity", "link": "https://stackoverflow.com/users/11268835/marisanity"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 55408407, "answer_count": 1, "score": 0, "last_activity_date": 1553816065, "creation_date": 1553722830, "last_edit_date": 1553723192, "question_id": 55386895, "link": "https://stackoverflow.com/questions/55386895/setting-request-headers-with-falcor", "title": "Setting request headers with Falcor", "body": "<p>The documented way of setting request headers to Falcor HttpDataSource is not working out for me. It might be that I just have a silly mistake somewhere as Falcor is completely new concept for me. </p>\n\n<p>Documentation:\n<a href=\"https://github.com/Netflix/falcor-http-datasource#readme\" rel=\"nofollow noreferrer\">https://github.com/Netflix/falcor-http-datasource#readme</a></p>\n\n<p>These I checked out already:\n<a href=\"https://stackoverflow.com/questions/32615879/how-to-send-auth-tokens-from-the-client-with-falcor\">How to send auth tokens from the client with Falcor</a>\n<a href=\"https://github.com/ekosz/redux-falcor/issues/7\" rel=\"nofollow noreferrer\">https://github.com/ekosz/redux-falcor/issues/7</a></p>\n\n<p>I also tried to set the request headers from onBeforeRequest but that didn't make a difference. The headers I send to the server will go under 'access-control-request-headers'. And by that I mean only the header names are visible but the values are nowhere to be seen or accessed.</p>\n\n<p>Client side:</p>\n\n<pre><code>const model = new falcor.Model({\n            source: new falcor.HttpDataSource('http://localhost:3001/api/users/model.json', {\n                headers: {\n                    'x-auth-token': \"secret\"\n                }\n            })\n        });\n\n\nmodel.get([\"gamesById\", ['5c4cb04fb7ccdd14a81cfe89'], ['name']])\n            .then(function (response) {\n                console.log(response);\n            });\n</code></pre>\n\n<p>And this I get when I console log the headers from the server side:</p>\n\n<pre><code>{ host: 'localhost:3001',\n  connection: 'keep-alive',\n  'access-control-request-method': 'GET',\n  origin: 'http://localhost:63342',\n  'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko\n) Chrome/73.0.3683.86 Safari/537.36',\n  'access-control-request-headers': 'x-auth-token',\n  accept: '*/*',\n  referer: 'http://localhost:63342/gamebase-backend/index.html?_ijt=mssfaptvvjpofa44aqm1n9dt1v',\n\n  'accept-encoding': 'gzip, deflate, br',\n  'accept-language': 'fi-FI,fi;q=0.9,en-US;q=0.8,en;q=0.7,la;q=0.6' }\n</code></pre>\n\n<p>And when I log <code>req.header('x-auth-token')</code> I get <code>undefined</code>, but when I log this <code>req.header('access-control-request-headers');</code> I get <code>x-auth-token</code> as result.</p>\n"}, {"tags": ["javascript", "arrays", "reactjs", "onclick"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 1, "creation_date": 1553723122, "post_id": 55386864, "comment_id": 97495788, "body": "To store the state of a bunch of boxes you need an array of bools, like <code>[true, false, false]</code>. You currently have a single variable storing an index instead."}], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 10946422, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GWR-PnOzD5I/AAAAAAAAAAI/AAAAAAAAPZc/YXrv0aIkmVE/photo.jpg?sz=128", "display_name": "Ras Abdoellah", "link": "https://stackoverflow.com/users/10946422/ras-abdoellah"}, "is_accepted": true, "score": 1, "last_activity_date": 1553724297, "creation_date": 1553724297, "answer_id": 55387181, "question_id": 55386864, "link": "https://stackoverflow.com/questions/55386864/how-to-enable-disable-elements-from-an-array-in-react-js/55387181#55387181", "title": "How to enable/disable elements from an array in React JS?", "body": "<p>What I would do is to create a <code>Box</code> component with its own active state, and pass this to the map in <code>renderBoxes</code>. The benefit of doing it this way is that each Box component will have its own state independent of the parent. That way you can have more than one component as active.</p>\n\n<p>so...</p>\n\n<pre><code>class Box extends React.Component {\n  constructor(props){\n    super(props)\n    this.state={\n      active: false\n    }\n  }\n\n  clickHandler = () =&gt; {\n    this.setState({active: !this.state.active})\n  }\n\n  render(){\n    const { key, children }= this.props\n    return (\n      &lt;button\n            key={key}\n            style={{...style.box, background:     this.state.active ? 'green' : ''}}\n            onClick={() =&gt; this.clickHandler()}\n          &gt;\n            {children}\n          &lt;/button&gt;\n    )\n  }\n}\n</code></pre>\n\n<p>then have renderBoxes be...</p>\n\n<pre><code>renderBoxes = () =&gt; {\n\n    const options = this.state.needsOptions.map((val, i) =&gt; {\n        return (\n          &lt;Box\n            key={i}\n          &gt;\n            {val}\n          &lt;/Box&gt;\n        )\n      })\n\n      return options\n\n  }\n</code></pre>\n\n<p><a href=\"https://codepen.io/Rushadee/pen/VRJQZP?editors=1111\" rel=\"nofollow noreferrer\">here is the codepen</a> I forked off yours.</p>\n"}], "owner": {"reputation": 2072, "user_id": 7317408, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-mMn0XC-_zd8/AAAAAAAAAAI/AAAAAAAACag/6sAIuewEPiY/photo.jpg?sz=128", "display_name": "A7DC", "link": "https://stackoverflow.com/users/7317408/a7dc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 400, "favorite_count": 0, "accepted_answer_id": 55387181, "answer_count": 1, "score": 1, "last_activity_date": 1553724297, "creation_date": 1553722718, "question_id": 55386864, "link": "https://stackoverflow.com/questions/55386864/how-to-enable-disable-elements-from-an-array-in-react-js", "title": "How to enable/disable elements from an array in React JS?", "body": "<p>I am trying to create a component where I have a bunch of boxes from an array, that can be turned 'on' and 'off' when each one is individually clicked. </p>\n\n<p>Currently, only a single item from the array can be switched 'on' (shown by the item turning green), however, I would like to be able to turn each item on/off individually. </p>\n\n<p>Interacting with one element should not affect any of the others. </p>\n\n<p>How do I achieve this?</p>\n\n<p>My click event:</p>\n\n<pre><code>  handleOnClick = (val, i) =&gt; {\n    this.setState({active: i}, () =&gt; console.log(this.state.active, 'active'))\n  }\n</code></pre>\n\n<p>Rendering the boxes:</p>\n\n<pre><code> renderBoxes = () =&gt; {\n\n    const options = this.state.needsOptions.map((val, i) =&gt; {\n        return (\n          &lt;button\n            key={i}\n            style={{...style.box, background: i === this.state.active ? 'green' : ''}}\n            onClick={() =&gt; this.handleOnClick(val, i)}\n          &gt;\n            {val}\n          &lt;/button&gt;\n        )\n      })\n\n      return options\n\n  }\n</code></pre>\n\n<p>Here's a <a href=\"https://codepen.io/A7DC/pen/RdzxLR?editors=0011\" rel=\"nofollow noreferrer\">Codepen</a></p>\n"}, {"tags": ["javascript", "dictionary", "error-handling"], "comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 2, "creation_date": 1553722726, "post_id": 55386821, "comment_id": 97495652, "body": "Yup, this is really annoying (I mean the engine probably does know what the current value is, there is nobreason to not pass it with the error). The only solution I can think of would be intercepting it with a Proxy, or doing proper checks on every access."}, {"owner": {"reputation": 4237, "user_id": 10787900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Z6j7Qhowx8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ighhCw1JxvK6l7ZVG0ZYElO2DSUA/mo/photo.jpg?sz=128", "display_name": "Bibberty", "link": "https://stackoverflow.com/users/10787900/bibberty"}, "edited": false, "score": 0, "creation_date": 1553730865, "post_id": 55386821, "comment_id": 97498199, "body": "Does it have to be in error handler, or are you open to changing how you access the keys?"}, {"owner": {"reputation": 24739, "user_id": 1790644, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1a2a40ddbc52508d5b53e9879961251?s=128&d=identicon&r=PG", "display_name": "Matt Clark", "link": "https://stackoverflow.com/users/1790644/matt-clark"}, "edited": false, "score": 0, "creation_date": 1553730968, "post_id": 55386821, "comment_id": 97498224, "body": "I was trying to go with the error handler approach as this would be a simple drop in fix, as opposed to being required to change line which accesses the map, which seems like it will be what I need to do."}], "owner": {"reputation": 24739, "user_id": 1790644, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1a2a40ddbc52508d5b53e9879961251?s=128&d=identicon&r=PG", "display_name": "Matt Clark", "link": "https://stackoverflow.com/users/1790644/matt-clark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553722693, "creation_date": 1553722525, "last_edit_date": 1553722693, "question_id": 55386821, "link": "https://stackoverflow.com/questions/55386821/handling-of-an-undefined-key-in-javascript", "title": "Handling of an undefined key in Javascript", "body": "<p>I'm trying to access some key / value pairs in a map, but don't always know which keys are available. I need to display an info message when certain keys are not found. This map is global and is used in a large number of places, e.i.</p>\n\n<pre><code>data = { 'KEY_A' : \"A: {0}\" }\n</code></pre>\n\n<p>My current implementation to catch the errors was to use a global error listener:</p>\n\n<pre><code>window.onerror = function(msg, url, line, col, error) {\n\n    console.log(\"Error: \" + msg + \"\\nURL: \" + url + \"\\nLine: \" + line);\n    return false;\n};\n</code></pre>\n\n<p>And then I am accessing the map with the following:</p>\n\n<pre><code>theKey = 'KEY_A';\nconsole.log(data[theKey].format(\"extras\"));\n</code></pre>\n\n<p>The issue here is that when the error handler fires, this is the message I see in my console:</p>\n\n<pre><code>Error: TypeError: data[theKey] is undefined\nURL: http://localhost:8080/index.html#pages/errors\nLine: 18\n</code></pre>\n\n<p>Issue being that the log contains the my variable name <code>theKey</code> instead of the actual value of the key itself, meaning that in the error handler I am not actually able to log the key that failed to be fetched?</p>\n\n<p>How could I go about getting the value of the key inside of my error handler?</p>\n"}, {"tags": ["javascript", "express", "gulp", "pug-loader"], "comments": [{"owner": {"reputation": 2292, "user_id": 8412352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YzHvQ.jpg?s=128&g=1", "display_name": "pmkro", "link": "https://stackoverflow.com/users/8412352/pmkro"}, "edited": false, "score": 0, "creation_date": 1553722577, "post_id": 55386798, "comment_id": 97495607, "body": "Use the bottom one. It will likely be faster, and it removes confusion on your end"}, {"owner": {"reputation": 1089, "user_id": 6080889, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j9S1fFOR5tc/AAAAAAAAAAI/AAAAAAAARjI/ZshXXge1K5o/photo.jpg?sz=128", "display_name": "Royson", "link": "https://stackoverflow.com/users/6080889/royson"}, "edited": false, "score": 0, "creation_date": 1553761659, "post_id": 55386798, "comment_id": 97506605, "body": "Following template engines are supported by express.js <a href=\"https://expressjs.com/en/resources/template-engines.html\" rel=\"nofollow noreferrer\">expressjs.com/en/resources/template-engines.html</a>   It is better to use them directly rather than using gulp to pre-process."}], "owner": {"reputation": 1, "user_id": 11268791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85979855c86226dfaba13b2d6586ad55?s=128&d=identicon&r=PG&f=1", "display_name": "ShooX", "link": "https://stackoverflow.com/users/11268791/shoox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 150, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553760578, "creation_date": 1553722444, "last_edit_date": 1553760578, "question_id": 55386798, "link": "https://stackoverflow.com/questions/55386798/how-to-compile-and-control-pug-files-with-express-gulp", "title": "How to compile and control PUG files with Express &amp; GULP", "body": "<p>We are trying to set up GULP file to serve PUG files into HTML and put them into static dist folder.</p>\n\n<p>Here are our files:\n<a href=\"https://github.com/ShooX512/gulp-testing/\" rel=\"nofollow noreferrer\">https://github.com/ShooX512/gulp-testing/</a></p>\n\n<p>This is how we control PUG so far:</p>\n\n<pre><code>app.set(\"views\", path.join(__dirname, \"./dist/\"));\n</code></pre>\n\n<p>but because of the fact that GULP generates HTML files in dist we have added this:</p>\n\n<pre><code>app.use(\n  \"./dist\",\n  express.static(path.join(__dirname, \"./dist\"), { maxAge: \"30 days\" })\n);\n</code></pre>\n\n<p>This unfortunately doesn't work. </p>\n\n<p>My main questions are:</p>\n\n<p>Which version of the code should be used and when?</p>\n\n<p>How to pass data to generated HTML files in dist folder? (Originally PUG)</p>\n\n<p>Do we need GULP to compile PUG at all if we use:</p>\n\n<pre><code>app.set(\"view engine\", \"pug\");\napp.set(\"views\", path.join(__dirname, \"./dist/\"));\n</code></pre>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"comments": [{"owner": {"reputation": 1560, "user_id": 7460467, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/a1b029d7797f40f5be6056fa1ae640f2?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/7460467/jimmy"}, "edited": false, "score": 0, "creation_date": 1553723195, "post_id": 55386859, "comment_id": 97495820, "body": "Yes, essentially this. I am just wondering, is this the most elegant way to pass and handle multiple components in another component? Obviously with React HOC and <code>this.props.children</code> there are ways of rendering child props / components, but you aren&#39;t really able to use those tools when having to logically handle multiple child components."}, {"owner": {"reputation": 1733, "user_id": 3305456, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/rwN09.jpg?s=128&g=1", "display_name": "Alexandr Zavalii", "link": "https://stackoverflow.com/users/3305456/alexandr-zavalii"}, "reply_to_user": {"reputation": 1560, "user_id": 7460467, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/a1b029d7797f40f5be6056fa1ae640f2?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/7460467/jimmy"}, "edited": false, "score": 0, "creation_date": 1553724380, "post_id": 55386859, "comment_id": 97496290, "body": "a bit confused... would you like to pass more then two components?"}], "tags": [], "owner": {"reputation": 1733, "user_id": 3305456, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/rwN09.jpg?s=128&g=1", "display_name": "Alexandr Zavalii", "link": "https://stackoverflow.com/users/3305456/alexandr-zavalii"}, "is_accepted": false, "score": 3, "last_activity_date": 1553723040, "last_edit_date": 1553723040, "creation_date": 1553722700, "answer_id": 55386859, "question_id": 55386780, "link": "https://stackoverflow.com/questions/55386780/react-hoc-with-multiple-components/55386859#55386859", "title": "React HOC with multiple components", "body": "<p>I am not sure if I understood you. Why do you need it to be HOC? </p>\n\n<p>If you would pass components as props like that:</p>\n\n<pre><code>&lt;HOC\n  componentOne={&lt;ComponentOne /&gt;}\n  componentTwo={&lt;ComponentTwo /&gt;}\n/&gt;\n</code></pre>\n\n<p>Then you would be able to access them using props.</p>\n\n<pre><code>render() {\n    return (\n      &lt;div&gt;\n        &lt;button onClick={this.handleClick}&gt;Click Me!&lt;/button&gt;\n        { \n          this.state.onClick ?\n            this.props.componentOne :\n            this.props.componentTwo\n        }\n      &lt;/div&gt;\n    );\n   }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 304, "user_id": 9011952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evkky.jpg?s=128&g=1", "display_name": "Jamie Williams", "link": "https://stackoverflow.com/users/9011952/jamie-williams"}, "is_accepted": true, "score": 1, "last_activity_date": 1553870247, "last_edit_date": 1553870247, "creation_date": 1553723737, "answer_id": 55387075, "question_id": 55386780, "link": "https://stackoverflow.com/questions/55386780/react-hoc-with-multiple-components/55387075#55387075", "title": "React HOC with multiple components", "body": "<p>If a component has more than one child then <code>this.props.children</code> will be an array.</p>\n\n<pre><code>class HOC extends React.Component {\n\n    // ... rest of code ....\n\n    render() {\n        const { onClick } = this.state;\n        const { children } = this.props;\n\n        return !onClick ? children[0] : children[1];\n    }\n}\n</code></pre>\n\n<p>Then use it like so:</p>\n\n<pre><code>&lt;HOC&gt;\n    &lt;div&gt;Child One&lt;/div&gt;   \n    &lt;div&gt;Child Two&lt;/div&gt;\n&lt;/HOC&gt;\n</code></pre>\n\n<p>Obviously this will only work with two children but you could extend it by passing an integer to <code>&lt;HOC&gt;</code> through props to tell it what child to select.</p>\n\n<h2>Edit</h2>\n\n<p>After a quick look at the <a href=\"https://reactjs.org/docs/react-api.html#react.children\" rel=\"nofollow noreferrer\">docs</a> this is a better version of what I wrote above as <code>this.props.children</code> is not an array, it is an opaque data structure:</p>\n\n<pre><code>class HOC extends React.Component {\n\n    // ... rest of code ...\n\n    render() {\n        const { onClick } = this.state;\n        const children = React.Children.toArray(this.props.children);\n\n        return !onClick ? children[0] : children[1];\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1560, "user_id": 7460467, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/a1b029d7797f40f5be6056fa1ae640f2?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/7460467/jimmy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1436, "favorite_count": 0, "accepted_answer_id": 55387075, "answer_count": 2, "score": 1, "last_activity_date": 1553870247, "creation_date": 1553722365, "question_id": 55386780, "link": "https://stackoverflow.com/questions/55386780/react-hoc-with-multiple-components", "title": "React HOC with multiple components", "body": "<p>I want to create a React HOC that would ideally receive two components instead of one wrapped component and toggle between them. That is, in the code below, instead of <code>&lt;h3&gt;component one&lt;/h3&gt;</code> and <code>&lt;h3&gt;component two&lt;h3&gt;</code>, they would each represent child components. How would I be able to accomplish this? Some psuedo code for how I would write this HOC:</p>\n\n<pre><code>&lt;HOC&gt;\n  &lt;ComponentOne /&gt;\n  &lt;ComponentTwo /&gt;\n&lt;/HOC&gt;\n\n&lt;HOC\n  componentOne={&lt;ComponentOne /&gt;}\n  componentTwo={&lt;ComponentTwo /&gt;}\n/&gt;\n\nhoc(componentOne, componentTwo)\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class HOC extends React.Component {\r\n    constructor() {\r\n    super();\r\n    this.state = {\r\n      onClick: false,\r\n    };\r\n    this.handleClick = this.handleClick.bind(this);\r\n  }\r\n\r\n  handleClick() {\r\n    this.setState({onClick: !this.state.onClick});\r\n  }\r\n    \r\n\r\n  render() {\r\n    return (\r\n      &lt;div&gt;\r\n        &lt;button onClick={this.handleClick}&gt;Click Me!&lt;/button&gt;\r\n        { \r\n          this.state.onClick ?\r\n            &lt;h3&gt;component one&lt;/h3&gt; :\r\n            &lt;h3&gt;component two&lt;/h3&gt;\r\n        }\r\n      &lt;/div&gt;\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\nReactDOM.render(&lt;HOC /&gt;, app);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/16.6.3/umd/react.production.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react-dom/16.6.3/umd/react-dom.production.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"app\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "laravel", "routes", "href"], "comments": [{"owner": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "edited": false, "score": 0, "creation_date": 1553722446, "post_id": 55386769, "comment_id": 97495551, "body": "When does that function run?"}, {"owner": {"reputation": 43, "user_id": 10998243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a35dff504d37e38323dee709610a558?s=128&d=identicon&r=PG&f=1", "display_name": "User1990", "link": "https://stackoverflow.com/users/10998243/user1990"}, "reply_to_user": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "edited": false, "score": 0, "creation_date": 1553722617, "post_id": 55386769, "comment_id": 97495616, "body": "@Herohtar I&#39;m calling it in the console. Once I have it working I will create a separate function that will add the new URL to the href attribute."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 1, "creation_date": 1553722836, "post_id": 55386769, "comment_id": 97495697, "body": "Works fine for me: <a href=\"https://jsfiddle.net/khrismuc/r8qdfjxc/\" rel=\"nofollow noreferrer\">jsfiddle.net/khrismuc/r8qdfjxc</a> Please create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so we can reproduce the error you&#39;re getting. The error clearly points to the script running before the <code>&lt;a&gt;</code> exists."}, {"owner": {"reputation": 2181, "user_id": 10618375, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HFgtJ.jpg?s=128&g=1", "display_name": "Piazzi", "link": "https://stackoverflow.com/users/10618375/piazzi"}, "edited": false, "score": 0, "creation_date": 1553727536, "post_id": 55386769, "comment_id": 97497265, "body": "Put a <code>defer</code> in your script tag just to make sure"}, {"owner": {"reputation": 43, "user_id": 10998243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a35dff504d37e38323dee709610a558?s=128&d=identicon&r=PG&f=1", "display_name": "User1990", "link": "https://stackoverflow.com/users/10998243/user1990"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1554133987, "post_id": 55386769, "comment_id": 97630977, "body": "@ChrisG I believe you&#39;re right. I&#39;ve added a little more of my code so you can help me see where the issue could be."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1554200507, "post_id": 55386769, "comment_id": 97655305, "body": "Where, how and when is <code>buildLocationReportListUrl</code> called? It looks like you&#39;re using blade templating, so the key question is where your <code>scripts</code> stack is rendered inside the HTML document. Any JS command that relies on HTML elements must be run <i>after</i> the elements already exist. So if your <code>@stack</code> directive is in the <code>&lt;head&gt;</code>, that script will run <i>before</i> the <code>&lt;a&gt;</code> exists, and therefore <code>document.getElementById(&#39;js-link&#39;)</code> will not work as expected."}], "answers": [{"tags": [], "owner": {"reputation": 287, "user_id": 632324, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d633d09ffdce16242f97ca73cc4beef7?s=128&d=identicon&r=PG", "display_name": "Sac_code88", "link": "https://stackoverflow.com/users/632324/sac-code88"}, "is_accepted": false, "score": 0, "last_activity_date": 1553730938, "creation_date": 1553730938, "answer_id": 55388218, "question_id": 55386769, "link": "https://stackoverflow.com/questions/55386769/returning-the-url-from-href-attribute/55388218#55388218", "title": "Returning the URL from href attribute", "body": "<p>Your code is not complete. However when I tried your function with some modification it returns the URL.</p>\n\n<pre><code>function buildLocationReportListUrl(){\n    let newUrl = document.getElementById('js-link').href;\n\n    return newUrl;\n}\n</code></pre>\n\n<p>//Execute the function to return URL</p>\n\n<pre><code>buildLocationReportListUrl();\n</code></pre>\n\n<p>Hope this helps! :)</p>\n"}], "owner": {"reputation": 43, "user_id": 10998243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a35dff504d37e38323dee709610a558?s=128&d=identicon&r=PG&f=1", "display_name": "User1990", "link": "https://stackoverflow.com/users/10998243/user1990"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 206, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554134044, "creation_date": 1553722328, "last_edit_date": 1554134044, "question_id": 55386769, "link": "https://stackoverflow.com/questions/55386769/returning-the-url-from-href-attribute", "title": "Returning the URL from href attribute", "body": "<p>I'm trying to grab a url from an href attribute and append and return it but I keep getting a \"Cannot read property 'href' of null\". </p>\n\n<p>I've tried getting the value with document.getElementsByClassName(\"CLASS\").href but that returns an undefined, then when I use the id I get the null error above.</p>\n\n<p>This is my HTML:</p>\n\n<pre><code>&lt;a class=\"js-link-name\" id=\"js-link\" href=\"{{ route('report.file.list')}}\"&gt;Click Me&lt;/a&gt;\n\n@push('scripts')\n    &lt;script&gt;\n        $(function () {\n            var questionnaires = [];\n\n            @foreach($vm-&gt;getQuestionnaires() as $questionnaire)\n            questionnaires.push(new window.app.locationReports.Questionnaire('{{ $questionnaire-&gt;getValue()  }}', '{{ $questionnaire-&gt;forDisplay() }}'));\n            @endforeach\n\n            new window.app.locationReports.LocationTiles($('.js-location-tiles'), $('.js-file-download-link'), $('.js-legend-trigger'), '{{ $vm-&gt;getUserViewPreferenceValue() }}', questionnaires, '{{ route('api.v1.reports.customer-satisfaction.recommend-to-others') }}', '{{ route('report.customer-satisfaction.locations.data.view-preference') }}');\n        });\n    &lt;/script&gt;\n@endpush\n</code></pre>\n\n<p>This is my JS function:</p>\n\n<pre><code>buildLocationReportListUrl(){\n        let newUrl = URI(document.getElementById('js-link').href).addSearch(this.locationId);\n\n        return newUrl;\n    }\n</code></pre>\n"}, {"tags": ["javascript", "vue.js", "vuejs2", "google-places-api"], "comments": [{"owner": {"reputation": 1795, "user_id": 9764507, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bC1kL.png?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/9764507/daniel"}, "edited": false, "score": 0, "creation_date": 1553725158, "post_id": 55386745, "comment_id": 97496526, "body": "You have an invalid key. Should it be like this: <code>&#39;&amp;key=&#39;+mykey&quot;&gt;</code>?"}, {"owner": {"reputation": 3368, "user_id": 8618818, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/aabd1d5165e2d056ac2eaccc2e43a624?s=128&d=identicon&r=PG&f=1", "display_name": "Bobimaru", "link": "https://stackoverflow.com/users/8618818/bobimaru"}, "reply_to_user": {"reputation": 1795, "user_id": 9764507, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bC1kL.png?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/9764507/daniel"}, "edited": false, "score": 0, "creation_date": 1553725834, "post_id": 55386745, "comment_id": 97496747, "body": "In my code, mykey is replaced by my real key. I have done this since I don&#39;t want to share my real key here."}, {"owner": {"reputation": 1795, "user_id": 9764507, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bC1kL.png?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/9764507/daniel"}, "edited": false, "score": 1, "creation_date": 1553726142, "post_id": 55386745, "comment_id": 97496838, "body": "All right. Maybe you exceed usage limits? Check Google Cloud Platform Console for current usage."}], "owner": {"reputation": 3368, "user_id": 8618818, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/aabd1d5165e2d056ac2eaccc2e43a624?s=128&d=identicon&r=PG&f=1", "display_name": "Bobimaru", "link": "https://stackoverflow.com/users/8618818/bobimaru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553722204, "creation_date": 1553722204, "question_id": 55386745, "link": "https://stackoverflow.com/questions/55386745/vue-js-app-gets-sights-info-and-images-using-google-places-api-im-getting-fail", "title": "Vue.js app gets sights info and images using Google Places API.I&#39;m getting &quot;Failed to load resource: the server responded with a status of 403 ()&quot;", "body": "<p>I'm currently getting an error </p>\n\n<p><code>\"Failed to load resource: the server responded with a status of 403 ()\"</code> </p>\n\n<p>for each sight when I load the component that displays all sights. The interesting thing is that sometimes everything works as intended but occasionally, some (not all) of the images don't load and I get the aforementioned error.</p>\n\n<p>This makes me wonder if the problem is on my end or if Google Places API is experiencing some problems. This has happened several times over 2-3 weeks.</p>\n\n<pre><code>&lt;img class='sight-photos' :src=\"'https://maps.googleapis.com/maps/api/place/photo?maxwidth=300&amp;photoreference=' + sight.photos[0].photo_reference + '&amp;key=mykey'\"&gt;\n</code></pre>\n"}, {"tags": ["javascript"], "answers": [{"comments": [{"owner": {"reputation": 2262, "user_id": 379683, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/42d086588834be596aee8660d267d2fd?s=128&d=identicon&r=PG", "display_name": "SajjadZare", "link": "https://stackoverflow.com/users/379683/sajjadzare"}, "edited": false, "score": 0, "creation_date": 1553787145, "post_id": 55386783, "comment_id": 97523495, "body": "Zavaliii :  how can i use if in it for ex if(data.key!=1) ?"}, {"owner": {"reputation": 2262, "user_id": 379683, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/42d086588834be596aee8660d267d2fd?s=128&d=identicon&r=PG", "display_name": "SajjadZare", "link": "https://stackoverflow.com/users/379683/sajjadzare"}, "edited": false, "score": 0, "creation_date": 1553844188, "post_id": 55386783, "comment_id": 97544079, "body": "I use it but items that against if (else) is undefined"}], "tags": [], "owner": {"reputation": 1733, "user_id": 3305456, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/rwN09.jpg?s=128&g=1", "display_name": "Alexandr Zavalii", "link": "https://stackoverflow.com/users/3305456/alexandr-zavalii"}, "is_accepted": true, "score": 2, "last_activity_date": 1553795953, "last_edit_date": 1553795953, "creation_date": 1553722376, "answer_id": 55386783, "question_id": 55386737, "link": "https://stackoverflow.com/questions/55386737/make-dynamic-list-according-to-another-list/55386783#55386783", "title": "Make dynamic list according to another list", "body": "<p>You can just map it</p>\n\n<pre><code>const data1 = [{name:\"A\",key:1},{name:\"B\",key:2},{name:\"C\",key:3}];\n\nconst data2 = data1.map(data=&gt;{\n    // if statement\n return {key: data.name, name: data.key}\n});\n</code></pre>\n"}], "owner": {"reputation": 2262, "user_id": 379683, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/42d086588834be596aee8660d267d2fd?s=128&d=identicon&r=PG", "display_name": "SajjadZare", "link": "https://stackoverflow.com/users/379683/sajjadzare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 55386783, "answer_count": 1, "score": 1, "last_activity_date": 1553795953, "creation_date": 1553722166, "last_edit_date": 1553730012, "question_id": 55386737, "link": "https://stackoverflow.com/questions/55386737/make-dynamic-list-according-to-another-list", "title": "Make dynamic list according to another list", "body": "<p>I have a list with below structure</p>\n\n<blockquote>\n  <p>[{name:A,key:1},{name:B,key:2},{name:C,key:3}]</p>\n</blockquote>\n\n<p>I want to create a list with this structure but reverse data between name and key :</p>\n\n<blockquote>\n  <p>[{name:1,key:A},{name:2,key:B},{name:3,key:C}]</p>\n</blockquote>\n\n<p>How can i do it?</p>\n"}, {"tags": ["javascript", "vue.js"], "answers": [{"comments": [{"owner": {"reputation": 5615, "user_id": 1428653, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4f776ee53d980b0c7eac4814b7d327bf?s=128&d=identicon&r=PG", "display_name": "Matt Deacalion", "link": "https://stackoverflow.com/users/1428653/matt-deacalion"}, "edited": false, "score": 0, "creation_date": 1553771383, "post_id": 55387247, "comment_id": 97512423, "body": "My understanding is this: the root instance was trying to listen to an event from the child component. But, if the child component doesn&#39;t tell the root instance about it (via <code>emit</code>), the event listener will never be triggered. Does this mean that <code>native</code> events don&#39;t follow this pattern?"}, {"owner": {"reputation": 1687, "user_id": 5783475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c327a283e6318290d0a46e65c96f68e9?s=128&d=identicon&r=PG&f=1", "display_name": "NaN", "link": "https://stackoverflow.com/users/5783475/nan"}, "reply_to_user": {"reputation": 5615, "user_id": 1428653, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4f776ee53d980b0c7eac4814b7d327bf?s=128&d=identicon&r=PG", "display_name": "Matt Deacalion", "link": "https://stackoverflow.com/users/1428653/matt-deacalion"}, "edited": false, "score": 1, "creation_date": 1553772613, "post_id": 55387247, "comment_id": 97513205, "body": "As I understand you can create custom click like <code>$emit(&#39;click&#39;, e)</code> and in this case, you will have the conflict between native and custom <code>click</code> events. To prevent situations like that &#39;.native&#39; modifier was introduced."}, {"owner": {"reputation": 1687, "user_id": 5783475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c327a283e6318290d0a46e65c96f68e9?s=128&d=identicon&r=PG&f=1", "display_name": "NaN", "link": "https://stackoverflow.com/users/5783475/nan"}, "reply_to_user": {"reputation": 5615, "user_id": 1428653, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4f776ee53d980b0c7eac4814b7d327bf?s=128&d=identicon&r=PG", "display_name": "Matt Deacalion", "link": "https://stackoverflow.com/users/1428653/matt-deacalion"}, "edited": false, "score": 1, "creation_date": 1553787354, "post_id": 55387247, "comment_id": 97523668, "body": "<code>.native</code> tells vue to add the listener for the child root node (<code>li</code> in your example). If you try to combine my code with the code from @dagalti&#39;s answer you can find two listeners for the click event on the same element. <a href=\"https://jsfiddle.net/fc0p9jq2/\" rel=\"nofollow noreferrer\">jsfiddle.net/fc0p9jq2</a>"}, {"owner": {"reputation": 5615, "user_id": 1428653, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4f776ee53d980b0c7eac4814b7d327bf?s=128&d=identicon&r=PG", "display_name": "Matt Deacalion", "link": "https://stackoverflow.com/users/1428653/matt-deacalion"}, "edited": false, "score": 0, "creation_date": 1553788446, "post_id": 55387247, "comment_id": 97524492, "body": "Thank you. I&#39;m still confused as to why it&#39;s possible to access the parent&#39;s <code>boom</code> when using the <code>native</code> modifier. I guess this is to ensure nothing gets passed from child components without explicitly saying so."}], "tags": [], "owner": {"reputation": 1687, "user_id": 5783475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c327a283e6318290d0a46e65c96f68e9?s=128&d=identicon&r=PG&f=1", "display_name": "NaN", "link": "https://stackoverflow.com/users/5783475/nan"}, "is_accepted": true, "score": 3, "last_activity_date": 1553724681, "creation_date": 1553724681, "answer_id": 55387247, "question_id": 55386733, "link": "https://stackoverflow.com/questions/55386733/click-event-listener-not-working-on-a-component-in-vuejs/55387247#55387247", "title": "Click event listener not working on a component in VueJS", "body": "<p>Try to add <code>.native</code> to get <code>v-on:click.native=\"boom\"</code></p>\n\n<p>More details can be found <a href=\"https://vuejs.org/v2/guide/components-custom-events.html#Binding-Native-Events-to-Components\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"tags": [], "owner": {"reputation": 1290, "user_id": 9489397, "user_type": "registered", "profile_image": "https://graph.facebook.com/759560980906914/picture?type=large", "display_name": "dagalti", "link": "https://stackoverflow.com/users/9489397/dagalti"}, "is_accepted": false, "score": 4, "last_activity_date": 1553724946, "creation_date": 1553724946, "answer_id": 55387303, "question_id": 55386733, "link": "https://stackoverflow.com/questions/55386733/click-event-listener-not-working-on-a-component-in-vuejs/55387303#55387303", "title": "Click event listener not working on a component in VueJS", "body": "<p>Use <code>@click.native=\"boom\"</code> as @Pvl answered. OR bind the custom from parent component and emit from child. please run &amp; check the below code.\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Vue.component('item', {\r\n    props: ['product'],\r\n    template: '&lt;li @click=\"clickevent($event)\"&gt;&lt;a href=\"#\"&gt;{{ product.name }}&lt;/a&gt;&lt;/li&gt;',\r\n    methods:{\r\nclickevent(e){\r\nthis.$emit('componentclick', e)\r\n}\r\n}\r\n});\r\n\r\nlet app = new Vue({\r\n    el: 'ul',\r\n    data: {\r\n        items: [\r\n            { id: 0, name: 'penda' },\r\n            { id: 1, name: 'harla' },\r\n            { id: 2, name: 'calar' },\r\n        ],\r\n    },\r\n    methods: {\r\n        boom: function (e) {\r\n            alert('Aha!');\r\n            console.log(e)\r\n        }\r\n    }\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.17/vue.js\"&gt;&lt;/script&gt;\r\n&lt;ul&gt;\r\n    &lt;item\r\n      @componentclick=\"boom\"\r\n      v-bind:product=\"item\"\r\n      v-bind:key=\"item.id\"\r\n      v-for=\"item in items\"\r\n     &gt;&lt;/item&gt;\r\n&lt;/ul&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 5615, "user_id": 1428653, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4f776ee53d980b0c7eac4814b7d327bf?s=128&d=identicon&r=PG", "display_name": "Matt Deacalion", "link": "https://stackoverflow.com/users/1428653/matt-deacalion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2283, "favorite_count": 0, "accepted_answer_id": 55387247, "answer_count": 2, "score": 2, "last_activity_date": 1553767735, "creation_date": 1553722137, "last_edit_date": 1553767735, "question_id": 55386733, "link": "https://stackoverflow.com/questions/55386733/click-event-listener-not-working-on-a-component-in-vuejs", "title": "Click event listener not working on a component in VueJS", "body": "<p>HTML:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;ul&gt;\n    &lt;item\n      v-on:click=\"boom\"\n      v-bind:product=\"item\"\n      v-bind:key=\"item.id\"\n      v-for=\"item in items\"\n     &gt;&lt;/item&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>Javascript:</p>\n\n<pre><code>Vue.component('item', {\n    props: ['product'],\n    template: '&lt;li&gt;&lt;a href=\"#\"&gt;{{ product.name }}&lt;/a&gt;&lt;/li&gt;',\n});\n\nlet app = new Vue({\n    el: 'ul',\n    data: {\n        items: [\n            { id: 0, name: 'penda' },\n            { id: 1, name: 'harla' },\n            { id: 2, name: 'calar' },\n        ],\n    },\n    methods: {\n        boom: function (e) {\n            alert('Aha!');\n        }\n    }\n});\n</code></pre>\n\n<p>Everything is rendered fine, but the <code>boom</code> event listener is never fired. Do you know the reason why?</p>\n"}, {"tags": ["javascript", "mongodb", "express"], "comments": [{"owner": {"reputation": 5144, "user_id": 7185241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IKJJ3.jpg?s=128&g=1", "display_name": "1565986223", "link": "https://stackoverflow.com/users/7185241/1565986223"}, "edited": false, "score": 0, "creation_date": 1553849099, "post_id": 55386731, "comment_id": 97546084, "body": "what db are you using?"}, {"owner": {"reputation": 35, "user_id": 7192964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8153e98b3db801b782bbadd2b8d0c90?s=128&d=identicon&r=PG&f=1", "display_name": "Ronny Pacheco", "link": "https://stackoverflow.com/users/7192964/ronny-pacheco"}, "reply_to_user": {"reputation": 5144, "user_id": 7185241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IKJJ3.jpg?s=128&g=1", "display_name": "1565986223", "link": "https://stackoverflow.com/users/7185241/1565986223"}, "edited": false, "score": 0, "creation_date": 1553887319, "post_id": 55386731, "comment_id": 97567613, "body": "I am using MongoDB @naga-elixir-jar"}, {"owner": {"reputation": 5144, "user_id": 7185241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IKJJ3.jpg?s=128&g=1", "display_name": "1565986223", "link": "https://stackoverflow.com/users/7185241/1565986223"}, "edited": false, "score": 0, "creation_date": 1553921046, "post_id": 55386731, "comment_id": 97575001, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/9691316/how-to-listen-for-changes-to-a-mongodb-collection\">How to listen for changes to a MongoDB collection?</a>"}], "owner": {"reputation": 35, "user_id": 7192964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8153e98b3db801b782bbadd2b8d0c90?s=128&d=identicon&r=PG&f=1", "display_name": "Ronny Pacheco", "link": "https://stackoverflow.com/users/7192964/ronny-pacheco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553722134, "creation_date": 1553722134, "question_id": 55386731, "link": "https://stackoverflow.com/questions/55386731/function-returning-undefined-and-array-is-not-being-updated", "title": "Function returning undefined and array is not being updated", "body": "<p>I am working on a project and the current implementation that it has defines the array currentTerm when the server is started. Since the admin of the site can go into settings and change which are the current terms, I would like to be able to change this array every time a change is made.</p>\n\n<p>However, I am making the same call to change the array but the contents of it are not being changed.</p>\n\n<p>Here is the code.</p>\n\n<p>I have tried changing the function so that it returns an array with the new current semesters, so that set the array to be what the function returns, but the function seems to be returning unidentified </p>\n\n<p>This is what I have right now, I push the terms into currentTerms, but whenever I call the function again, the contents of the array are still the same. (Basically it only keeps the terms that it got from the first call)</p>\n\n<pre><code>var bodyParser = require('body-parser');\nvar Project = require('../models/projects');\nvar Term = require('../models/terms');\nvar authProvider = require('../services/AuthorizationProvider');\n\nmodule.exports = function (app, express) {\n    var apiRouter = express.Router();\n    var currentTerm = [];\n\n    var findActiveTerm = function () {\n\n        Term.find({\n                'status.currentSemester': true\n            }, '_id',\n            function (err, terms) {\n                if (err || !terms) { // Failed to find the current semester\n                    terms = Term.createDefaultTerm();\n                }\n                terms.map(function (term) {\n                    currentTerm.push(term._id);\n\n                })\n\n            });\n\n    }\n\n    //Find the active term and set currentTerm to it\n    findActiveTerm();\n\n    //route get or adding projects to a users account\n    apiRouter.route('/projects')\n        .post(\n            authProvider.authorizeByUserType([authProvider.userType.PiCoPi, authProvider.userType.StaffFaculty]),\n            function (req, res) {\n                console.log(req.body.faculty);\n                //req.body.term = currentTerm; // TODO: Should not automatically set new projects to be set to currentTerm\n\n                //Validate to ensure student counts isn't negative or student count is greater than maximum.\n                var studentCount = 0;\n                var maxStudentCount = 0;\n\n                // user provided a min number of students\n                if (req.body.firstSemester)\n                    studentCount = Number(req.body.firstSemester);\n\n                // user provided a max number of students\n                if (req.body.maxStudents)\n                    maxStudentCount = Number(req.body.maxStudents);\n\n                // user didnt supply a min and max number of students, make it a really big number so anyone can join\n                if (isNaN(studentCount) || isNaN(maxStudentCount)) {\n                    req.body.firstSemester = \"1\";\n                    req.body.maxStudents = \"256\";\n                }\n\n                // user didnt supply a min and max number of students, make it a really big number so anyone can join\n                if (studentCount == 0 &amp;&amp; maxStudentCount == 0) {\n                    req.body.firstSemester = \"1\";\n                    req.body.maxStudents = \"256\";\n                }\n\n                if (studentCount &lt; 0 || maxStudentCount &lt; 0) {\n                    res.status(400);\n                    return res.send(\"firstSemester cannot be less than 0 or maxStudents cannot be less than 0.\");\n                }\n\n                if (studentCount &gt; maxStudentCount) {\n                    res.status(400);\n                    return res.send(\"Count cannot be greater than the maximum.\");\n                }\n\n                Project.create(req.body, function (err) {\n                    if (err) {\n                        res.status(400);\n                        return res.send(err);\n                    }\n                    return res.json({\n                        success: true\n                    });\n                });\n            })\n        .get(\n            authProvider.authorizeAll,\n            function (req, res) {\n                //findActiveTerm();\n                console.log(currentTerm);\n                Project.find({\n                    //term: currentTerm\n                    term: currentTerm\n                }, function (err, projects) {\n                    if (err) {\n                        console.log(err);\n                        return res.send('error');\n                    }\n                    return res.json(projects);\n                });\n            });\n}\n\n</code></pre>\n\n<p>This is my modified function. Here I try to make a temporal array that will be returned and then setup the currentTerms to be equal to the temporal array. However, the return type seems to be undefined every time. I have tried putting it in all the positions that are commented out (1,2,3) and they all return undefined.</p>\n\n<pre><code>    var findActiveTerm = function () {\n        var tempArr = [];\n        Term.find({\n                'status.currentSemester': true\n            }, '_id',\n            function (err, terms) {\n                if (err || !terms) { // Failed to find the current semester\n                    terms = Term.createDefaultTerm();\n                }\n                terms.map(function (term) {\n                    //currentTerm.push(term._id);\n                      tempArr.push(term._id);\n                      //1\n                      return tempArr;\n\n                })\n                //2\n                return tempArr;\n            });\n        //3\n        return tempArr;\n    }\n\n\n</code></pre>\n\n<p>As mentioned before, I would like to be able to change the array, so that whenever the admin changes the current terms in the db, these changes are reflected in the array.</p>\n\n<p>For example:\n1. When the server starts the current terms are: Spring 2019, Summer 2019, and Fall 2019.</p>\n\n<ol start=\"2\">\n<li>Admin gets into the website settings and changes the current semesters to only be Spring 2019.</li>\n</ol>\n\n<p>The array should now include only 'Spring 2019', but the array keeps the three semesters that it got when the server was started.</p>\n\n<p>Any sort of help would be highly appreciated!</p>\n"}, {"tags": ["javascript", "node.js", "timer", "settimeout"], "comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1553722149, "post_id": 55386706, "comment_id": 97495444, "body": "What are you trying to perform if the timer is done?"}, {"owner": {"reputation": 2730, "user_id": 8184112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Uk3Ad.png?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/8184112/daniel"}, "edited": false, "score": 1, "creation_date": 1553722243, "post_id": 55386706, "comment_id": 97495477, "body": "You may want to refer to <a href=\"https://stackoverflow.com/questions/38276583/how-many-concurrent-settimeouts-before-performance-issues\" title=\"how many concurrent settimeouts before performance issues\">stackoverflow.com/questions/38276583/&hellip;</a> as a related question."}, {"owner": {"reputation": 1101, "user_id": 4251722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/728f94466df5145d87869abe5c49f012?s=128&d=identicon&r=PG&f=1", "display_name": "meirm", "link": "https://stackoverflow.com/users/4251722/meirm"}, "edited": false, "score": 0, "creation_date": 1553724011, "post_id": 55386706, "comment_id": 97496146, "body": "why not associate offerTimer as a field in req?"}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1553724746, "post_id": 55386706, "comment_id": 97496398, "body": "Do you even need timers? would instead storing a timestamp somewhere make more sense?"}], "answers": [{"tags": [], "owner": {"reputation": 76, "user_id": 4238585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3e4eee05287091d58f798e84b06b6a3?s=128&d=identicon&r=PG&f=1", "display_name": "Aram Manukyan", "link": "https://stackoverflow.com/users/4238585/aram-manukyan"}, "is_accepted": false, "score": 0, "last_activity_date": 1553724611, "creation_date": 1553724611, "answer_id": 55387237, "question_id": 55386706, "link": "https://stackoverflow.com/questions/55386706/need-to-keep-track-of-settimeout-calls-in-case-i-need-to-cancel-them-later/55387237#55387237", "title": "Need to keep track of setTimeout calls in case I need to cancel them later?", "body": "<p>You can store your timers variables in global map, but this is a bad practice to set many timers in node. Instead it will be better to use Redis, end set Redis ttl per user. <a href=\"https://redis.io/commands/TTL\" rel=\"nofollow noreferrer\">https://redis.io/commands/TTL</a>.\nOr use other jobs schedulers (agenda, node-schedule, etc... ). </p>\n"}], "owner": {"reputation": 11, "user_id": 10383470, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EDSpb.jpg?s=128&g=1", "display_name": "Ed Urban", "link": "https://stackoverflow.com/users/10383470/ed-urban"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1553724611, "creation_date": 1553722036, "question_id": 55386706, "link": "https://stackoverflow.com/questions/55386706/need-to-keep-track-of-settimeout-calls-in-case-i-need-to-cancel-them-later", "title": "Need to keep track of setTimeout calls in case I need to cancel them later?", "body": "<p>So I have nodejs running an express server and one of our endpoints needs to start a 10 minute timer, and execute some code at the end of those 10 minutes. I'm using setTimeout to do this, and storing it in a variable.</p>\n\n<p>Now, if a user performs an action and makes a different api call, we no longer need to execute the code at the end of those ten minutes. But the right setTimeout to cancel depends on a special variable.</p>\n\n<p>How do I keep track of many setTimeout variables? Should I have a global hashmap that maps the special variable to the setTimeout, and then in the second api call pass along the special var to indentify the right setTimeout to call clearTimeout on?</p>\n\n<p>This is the only way I can think to do it, but for a Node.js server with possible heavy load, I'm not sure just adding to a hashmap or an array is the correct solution here. Thanks in advance!</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// start countdown timer for 10 minutes\n  let offerTimer = setTimeout(function() {  \n    // some code\n  }, 60000 * 0.25);\n</code></pre>\n\n<p>Some other express controller function</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>if (req.body.accepted == true) {\n   // need to clear the interval associated with req.body.jobpost_id\n}\n</code></pre>\n"}, {"tags": ["javascript", "webpack", "cross-browser", "babeljs", "eslint"], "comments": [{"owner": {"reputation": 105, "user_id": 3216221, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/a45f1765a484a6117f9f0b17f9ef1674?s=128&d=identicon&r=PG", "display_name": "amilajack", "link": "https://stackoverflow.com/users/3216221/amilajack"}, "edited": false, "score": 0, "creation_date": 1555347678, "post_id": 55386700, "comment_id": 98070744, "body": "The solution for this (at the moment) is to manually polyfill APIs (see the README). Proper support for this is being discussed in <a href=\"https://github.com/amilajack/eslint-plugin-compat/issues/174\" rel=\"nofollow noreferrer\">github.com/amilajack/eslint-plugin-compat/issues/174</a>."}], "answers": [{"tags": [], "owner": {"reputation": 457, "user_id": 3111787, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c9Uzt.jpg?s=128&g=1", "display_name": "bencergazda", "link": "https://stackoverflow.com/users/3111787/bencergazda"}, "is_accepted": false, "score": 0, "last_activity_date": 1556535183, "last_edit_date": 1556535183, "creation_date": 1554719611, "answer_id": 55571420, "question_id": 55386700, "link": "https://stackoverflow.com/questions/55386700/use-eslint-plugin-compat-alongside-babel/55571420#55571420", "title": "Use eslint-plugin-compat alongside Babel", "body": "<p>I think you should rather use <a href=\"https://github.com/babel/babel-eslint\" rel=\"nofollow noreferrer\"><code>babel-eslint</code></a>, which </p>\n\n<blockquote>\n  <p>allows you to lint ALL valid Babel code with the fantastic ESLint.</p>\n</blockquote>\n\n<p>I am just planning to make this change, so I don't have any experience with it, but should mean that it makes <code>eslint-plugin-compat</code> unnecessary, as no \"invalid\" code should go to the bundle.</p>\n\n<p>But on the other hand, still there <em>are</em> useful hints from <code>eslint-plugin-compat</code>, like <code>window.screenLeft() is not supported in Firefox XY</code>. Disqualifying <code>eslint-plugin-compat</code> would also skip these hints in my opinion.</p>\n\n<p><strong>Update</strong> You can track this on <a href=\"https://github.com/amilajack/eslint-plugin-compat/issues/174\" rel=\"nofollow noreferrer\">https://github.com/amilajack/eslint-plugin-compat/issues/174</a></p>\n"}], "owner": {"reputation": 21408, "user_id": 209113, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/R8ORs.jpg?s=128&g=1", "display_name": "MegaMatt", "link": "https://stackoverflow.com/users/209113/megamatt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 415, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556535183, "creation_date": 1553722009, "question_id": 55386700, "link": "https://stackoverflow.com/questions/55386700/use-eslint-plugin-compat-alongside-babel", "title": "Use eslint-plugin-compat alongside Babel", "body": "<p>I have a webpack project that uses Babel for JavaScript transpilation. To tell Babel which browsers to target when it transpiles my code, I use a <code>.browserslistrc</code> file.</p>\n\n<p>I'm also interested in using the ESLint compatibility plugin, <code>eslint-plugin-compat</code>, which will warn you if you're using JS that is not compatible with the browsers you are targeting (the ESLint plugin also refers to the <code>.browserslistrc</code> file).</p>\n\n<p>So I went ahead and installed and added the plugin to my <code>.eslintrc.js</code> file, and it seems to be working fine. But when I compile my webpack project, ESLint is pointing out features I'm using in my code, like <code>Object.values()</code>, that are not compatible with my target browsers. Well yeah, I know that - that's why I'm using Babel, so those features are converted to ones that are compatible for the browsers I'm targeting.</p>\n\n<p>So maybe I'm missing a key point here somewhere. If I'm using Babel already to transpile to compatible code in the browsers I'm targeting, is there still any use for <code>eslint-plugin-compat</code> in my build process?</p>\n"}, {"tags": ["javascript", "node.js", "git", "typescript", "npm"], "comments": [{"owner": {"reputation": 1777, "user_id": 780027, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ea69342f03261c186e20027e7e7894f9?s=128&d=identicon&r=PG", "display_name": "qballer", "link": "https://stackoverflow.com/users/780027/qballer"}, "edited": false, "score": 0, "creation_date": 1553727639, "post_id": 55386688, "comment_id": 97497305, "body": "This was introduced in npm version 5. Which version are you using?"}], "answers": [{"tags": [], "owner": {"reputation": 2844, "user_id": 10757200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/130077c6c2be1eb0e8175b1c7ce3e36b?s=128&d=identicon&r=PG&f=1", "display_name": "hdorgeval", "link": "https://stackoverflow.com/users/10757200/hdorgeval"}, "is_accepted": false, "score": 1, "last_activity_date": 1553728089, "creation_date": 1553728089, "answer_id": 55387842, "question_id": 55386688, "link": "https://stackoverflow.com/questions/55386688/triggering-prepare-on-npm-install/55387842#55387842", "title": "Triggering Prepare on NPM Install", "body": "<p>The <code>prepare</code> script is not intended to be executed by package consumers, but only by the package owner.</p>\n\n<p>This means you cannot execute the <code>prepare</code> script of any third-party package. </p>\n\n<p>Create a <code>prepare</code> script, that is identical to the third-party package, in <strong>your</strong> package.json , but it will be executed only on command <code>npm install</code>, not on command <code>npm install '&lt;git repository#version&gt;'</code></p>\n\n<p>If you publish your own package and you want that <code>prepare</code> script is executed when a consumer installs your package, you have to create a <code>preinstall</code> script instead of a <code>prepare</code> script. </p>\n"}], "owner": {"reputation": 3631, "user_id": 223963, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e60951bafe8df698109fa59f587eead2?s=128&d=identicon&r=PG", "display_name": "Ari", "link": "https://stackoverflow.com/users/223963/ari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 283, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1553728089, "creation_date": 1553721949, "question_id": 55386688, "link": "https://stackoverflow.com/questions/55386688/triggering-prepare-on-npm-install", "title": "Triggering Prepare on NPM Install", "body": "<p>I am installing a typescript module via git. This module has a <code>package.json</code> file that includes a <code>prepare</code> script in its scripts section. However, it appears the <code>prepare</code> script is <strong>not</strong> executed on <code>npm install &lt;git repository#version&gt;</code>.</p>\n\n<p>How can I have the <code>prepare</code> script executed on <code>npm install</code> via the git repository?</p>\n"}, {"tags": ["javascript", "reactjs", "save", "electron", "store"], "comments": [{"owner": {"reputation": 16359, "user_id": 840992, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e2aa4cd8ca03c4b2f71c6443f6e437b1?s=128&d=identicon&r=PG", "display_name": "spring", "link": "https://stackoverflow.com/users/840992/spring"}, "edited": false, "score": 0, "creation_date": 1553730378, "post_id": 55386615, "comment_id": 97498071, "body": "You are cutting and pasting code without understanding it. Read through that tutorial link I posted yesterday again."}, {"owner": {"reputation": 153, "user_id": 10221382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/daad59ab0d1819e3608eb71dcd8847a4?s=128&d=identicon&r=PG&f=1", "display_name": "Med-Amine Benyettou", "link": "https://stackoverflow.com/users/10221382/med-amine-benyettou"}, "reply_to_user": {"reputation": 16359, "user_id": 840992, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e2aa4cd8ca03c4b2f71c6443f6e437b1?s=128&d=identicon&r=PG", "display_name": "spring", "link": "https://stackoverflow.com/users/840992/spring"}, "edited": false, "score": 0, "creation_date": 1553762951, "post_id": 55386615, "comment_id": 97507255, "body": "It&#39;s not am not understanding it, When I tried it with normal fs api I get Strange errors abouts functions not existinf, so I used <code>browserify-fs</code> to counter the errors but that doesn&#39;t seem to solve the probleme. (TypeError: fs.writeFileSync is not a function)"}], "answers": [{"tags": [], "owner": {"reputation": 153, "user_id": 10221382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/daad59ab0d1819e3608eb71dcd8847a4?s=128&d=identicon&r=PG&f=1", "display_name": "Med-Amine Benyettou", "link": "https://stackoverflow.com/users/10221382/med-amine-benyettou"}, "is_accepted": false, "score": 0, "last_activity_date": 1553764138, "creation_date": 1553764138, "answer_id": 55393763, "question_id": 55386615, "link": "https://stackoverflow.com/questions/55386615/cant-save-create-files-using-store-js/55393763#55393763", "title": "Can&#39;t save/create files using Store.js", "body": "<p>So I managed to fix the probleme, Why fs was sending me errors about undefined functions?Why file wasn't getting created ? It has <strong>NOTHING</strong> to do with the code it self, but the imports...</p>\n\n<p>To clearify, I was using :</p>\n\n<p><code>const fs = require('fs');</code></p>\n\n<p>And the solution is to make it like : </p>\n\n<p><code>const fs = window.require('fs');</code></p>\n\n<p>Just adding <code>window.</code> fixed all the problems .Since it's my first time using electron I wasn't used to import from the <code>window</code> but it seems it's necessary.And more over...There was no posts saying this is the fix.</p>\n"}], "owner": {"reputation": 153, "user_id": 10221382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/daad59ab0d1819e3608eb71dcd8847a4?s=128&d=identicon&r=PG&f=1", "display_name": "Med-Amine Benyettou", "link": "https://stackoverflow.com/users/10221382/med-amine-benyettou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1553764138, "creation_date": 1553721545, "question_id": 55386615, "link": "https://stackoverflow.com/questions/55386615/cant-save-create-files-using-store-js", "title": "Can&#39;t save/create files using Store.js", "body": "<p>So I wanted to save a file on the client storage using Store.js.</p>\n\n<p>I can change the date using <code>store.set</code> and i can <code>log</code> it to console to see the change, but then it's supposed to be saved in app data where it's not created.</p>\n\n<p>I tried to get the Path where it's being saved and it's : </p>\n\n<p><code>C:\\Users\\USER\\AppData\\Roaming\\stoma2/Categories.json</code></p>\n\n<p>I noticed that there is a \"/\" so I tried : </p>\n\n<p><code>C:\\Users\\USER\\AppData\\Roaming\\stoma2\\Categories.json</code>\nand :\n<code>C:/Users/USER/AppData/Roaming/stoma2/Categories.json</code></p>\n\n<p>But all 3 of them didn't work.</p>\n\n<p>This is my Store.js :</p>\n\n<pre><code> const fs = require('browserify-fs');\n var fs2 = require('filereader'),Fs2 = new fs2();\n const electron = window.require('electron');\n const path = require('path');\n\n\n class Store {\n     constructor(opts) {\n       // Renderer process has to get `app` module via `remote`, whereas the main process can get it directly\n       // app.getPath('userData') will return a string of the user's app data directory path.\n       //const userDataPath = (electron.app || electron.remote.app).getPath('userData');\n       var userDataPath = (electron.app || electron.remote.app).getPath('userData');\n       for(var i=0;i&lt;userDataPath.length;i++){\n         if(userDataPath.charAt(i)==\"\\\\\"){\n           userDataPath = userDataPath.replace(\"\\\\\",\"/\");\n         }\n       }\n\n\n       // We'll use the `configName` property to set the file name and path.join to bring it all together as a string\n       this.path = path.join(userDataPath, opts.configName + '.json');\n\n       this.data = parseDataFile(this.path, opts.defaults);\n       console.log(this.path);\n     }\n\n   // This will just return the property on the `data` object\n   get(key) {\n     return this.data[key];\n   }\n\n   // ...and this will set it\n   set(key, val) {\n     this.data[key] = val;\n     // Wait, I thought using the node.js' synchronous APIs was bad form?\n     // We're not writing a server so there's not nearly the same IO demand on the process\n     // Also if we used an async API and our app was quit before the asynchronous write had a chance to complete,\n     // we might lose that data. Note that in a real app, we would try/catch this.\n     fs.writeFile(this.path, JSON.stringify(this.data));\n   }\n }\n\n function parseDataFile(filePath, data) {\n   // We'll try/catch it in case the file doesn't exist yet, which will be the case on the first application run.\n   // `fs.readFileSync` will return a JSON string which we then parse into a Javascript object\n   try {\n     return JSON.parse(Fs2.readAsDataURL(new File(filePath)));\n   } catch(error) {\n     // if there was some kind of error, return the passed in defaults instead.\n     return data;\n   }\n }\n\n // expose the class\n export default Store;\n</code></pre>\n\n<p>There might be a probleme fith js.writeFile() (well that's the source of probleme).</p>\n\n<p>and this is my call :</p>\n\n<pre><code> //creation\n const storeDefCat = new Store({\n   configName: \"Categories\",\n   defaults: require(\"../data/DefaultCategorie.json\")\n })\n //call for the save\n storeDefCat.set('Pizza',{id:0,path:storeDefCat.get('Pizza').path});\n</code></pre>\n\n<p>For now if possible,I might need to find another way to save the file.</p>\n\n<p>And i tried : fs : It doesn't work for me for some reason (I get strange errors that they don't want to be fixed..) .</p>\n\n<p>If anyone has an Idea then please I would be grateful.</p>\n"}, {"tags": ["javascript", "variables"], "comments": [{"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 3, "creation_date": 1553721643, "post_id": 55386573, "comment_id": 97495169, "body": "The code is interpreted as <code>let: test = &quot;Hello&quot;;</code> the <code>:</code> is part of <code>let</code> which is a <b>label</b> here. You can tell that this is not a variable declaration because the console prints the value you assign. If it was a variable declaration it would print <code>undefined</code>. Also have running the code, <code>test</code> exists (not <code>:test</code>) and has the value <code>&quot;Hello&quot;</code>. Same effect: <code>foo :bar = &quot;Hello&quot;;</code>"}, {"owner": {"reputation": 33, "user_id": 11268839, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VbnoHv2ol28/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reEP9C2DMTESlZBOwYs-jQz4Ct93w/mo/photo.jpg?sz=128", "display_name": "Nevermind", "link": "https://stackoverflow.com/users/11268839/nevermind"}, "reply_to_user": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1553722810, "post_id": 55386573, "comment_id": 97495684, "body": "@FelixKling Thanks for the answer! One more question. Why in this case it throws an error? (without strict mode) const :test = &quot;Hello&quot;; console.log(test);"}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 1, "creation_date": 1553722986, "post_id": 55386573, "comment_id": 97495738, "body": "<code>let</code> is not a reserved word in non-strict mode: <a href=\"https://www.ecma-international.org/ecma-262/6.0/index.html#sec-reserved-words\" rel=\"nofollow noreferrer\">ecma-international.org/ecma-262/6.0/&hellip;</a>, which means it can be used as variable name and other places. E.g. <code>var let = 42;</code> is valid in non-strict mode."}], "answers": [{"tags": [], "owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "is_accepted": true, "score": 5, "last_activity_date": 1553721573, "creation_date": 1553721573, "answer_id": 55386620, "question_id": 55386573, "link": "https://stackoverflow.com/questions/55386573/why-putting-colon-before-variable-name-is-a-valid-code-in-js/55386620#55386620", "title": "Why putting colon before variable name is a valid code in js?", "body": "<p>Because you actually have a label <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/label\" rel=\"noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/label</a></p>\n\n<p>If you were in strict mode, it would have thrown an error. </p>\n\n<pre><code>let: // &lt;-- label\n  test = \"hello \n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 11268839, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VbnoHv2ol28/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reEP9C2DMTESlZBOwYs-jQz4Ct93w/mo/photo.jpg?sz=128", "display_name": "Nevermind", "link": "https://stackoverflow.com/users/11268839/nevermind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 55386620, "answer_count": 1, "score": 3, "last_activity_date": 1553721814, "creation_date": 1553721332, "last_edit_date": 1553721757, "question_id": 55386573, "link": "https://stackoverflow.com/questions/55386573/why-putting-colon-before-variable-name-is-a-valid-code-in-js", "title": "Why putting colon before variable name is a valid code in js?", "body": "<p>Example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let :test = \"Hello\";\r\nconsole.log(test);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This code doesn't throw any error. Why?</p>\n"}, {"tags": ["javascript", "css", "button"], "comments": [{"owner": {"reputation": 299695, "user_id": 507674, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6801bf30e40c9f7972987d67e2d5e4f2?s=128&d=identicon&r=PG", "display_name": "Niet the Dark Absol", "link": "https://stackoverflow.com/users/507674/niet-the-dark-absol"}, "edited": false, "score": 0, "creation_date": 1553721649, "post_id": 55386570, "comment_id": 97495170, "body": "What happens if your user&#39;s browser window <i>isn&#39;t</i> 1500px wide/high? How&#39;s that supposed to work?"}], "answers": [{"tags": [], "owner": {"reputation": 1168, "user_id": 2170191, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ESFBh.png?s=128&g=1", "display_name": "stever", "link": "https://stackoverflow.com/users/2170191/stever"}, "is_accepted": false, "score": 1, "last_activity_date": 1553721897, "creation_date": 1553721897, "answer_id": 55386677, "question_id": 55386570, "link": "https://stackoverflow.com/questions/55386570/how-can-i-put-a-button-on-the-middle-of-the-page/55386677#55386677", "title": "How can I put a button on the middle of the page?", "body": "<p>Posting as a simple css snippet to show one of the multiple approaches depending on what the rest of your requirements are.  </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.centerButton {\r\n  left: 50vw;\r\n  top: 50vh;\r\n  position: absolute;\r\n  align-items: center;\r\n  width: 4vw;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;html&gt;\r\n  &lt;body&gt;\r\n    &lt;button class=\"centerButton\"&gt;Button&lt;/button&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 153, "user_id": 11251813, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fo3cjVKyydw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdMnOS1oPw4STuPUmvOvnGD9zlsTg/mo/photo.jpg?sz=128", "display_name": "Joseph", "link": "https://stackoverflow.com/users/11251813/joseph"}, "edited": false, "score": 0, "creation_date": 1553723579, "post_id": 55386714, "comment_id": 97495962, "body": "Nothing changed!"}], "tags": [], "owner": {"reputation": 448, "user_id": 10199179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rCoBS.png?s=128&g=1", "display_name": "Luis Barajas", "link": "https://stackoverflow.com/users/10199179/luis-barajas"}, "is_accepted": true, "score": 0, "last_activity_date": 1553722058, "creation_date": 1553722058, "answer_id": 55386714, "question_id": 55386570, "link": "https://stackoverflow.com/questions/55386570/how-can-i-put-a-button-on-the-middle-of-the-page/55386714#55386714", "title": "How can I put a button on the middle of the page?", "body": "<p>Try this code, this code positions the button with class <code>button-centered</code> at center of any container, in this case, an element with class <code>firebaseui-auth-container</code></p>\n\n<pre><code>&lt;style&gt;\n        .firebaseui-auth-container {\n            width: 1500px;\n            height: 1500px;\n            text-align: center;\n            margin:0 auto;\n            position:relative;\n        }\n        .firebaseui-auth-container .button-centered{\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            transform: translate( -50%, -50%);\n        }\n\n&lt;/style&gt;\n\n</code></pre>\n"}], "owner": {"reputation": 153, "user_id": 11251813, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fo3cjVKyydw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdMnOS1oPw4STuPUmvOvnGD9zlsTg/mo/photo.jpg?sz=128", "display_name": "Joseph", "link": "https://stackoverflow.com/users/11251813/joseph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 1, "accepted_answer_id": 55386714, "answer_count": 2, "score": -4, "last_activity_date": 1553722058, "creation_date": 1553721319, "question_id": 55386570, "link": "https://stackoverflow.com/questions/55386570/how-can-i-put-a-button-on-the-middle-of-the-page", "title": "How can I put a button on the middle of the page?", "body": "<p>Im having problems putting a button on the middle of the page!</p>\n\n<p>I tried to search on youtube, google and stackoverflow, but I didn\u00b4t find anything!</p>\n\n<pre><code>&lt;style&gt;\n        .firebaseui-auth-container {\n            width: 1500px;\n            height: 1500px;\n            text-align: center;\n            margin:0 auto;\n\n        }\n&lt;/style&gt;\n</code></pre>\n\n<p>I tried to do the code that I mention but it dint\u00b4t work <a href=\"http://prntscr.com/n3u878\" rel=\"nofollow noreferrer\">http://prntscr.com/n3u878</a> (as you can see)</p>\n"}, {"tags": ["javascript", "loops", "filter", "callback", "higher-order-functions"], "answers": [{"tags": [], "owner": {"reputation": 4625, "user_id": 5009210, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wmm8M.png?s=128&g=1", "display_name": "Duncan Thacker", "link": "https://stackoverflow.com/users/5009210/duncan-thacker"}, "is_accepted": false, "score": 1, "last_activity_date": 1553721458, "last_edit_date": 1553721458, "creation_date": 1553721139, "answer_id": 55386532, "question_id": 55386463, "link": "https://stackoverflow.com/questions/55386463/how-to-return-booleans-joined-with-inside-callback-function-in-filter-method/55386532#55386532", "title": "How to return booleans joined with &amp;&amp; inside callback function in filter method?", "body": "<p>You can do this by applying <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/every\" rel=\"nofollow noreferrer\"><code>Array.every()</code></a> and <a href=\"https://www.w3schools.com/jsref/jsref_includes.asp\" rel=\"nofollow noreferrer\"><code>String.includes()</code></a> like this:</p>\n\n<pre><code>var searchdata = this.preSearch.filter(row =&gt; {\n\n    // this only returns true if our condition works for\n    // index = 0, 1, 2, 3, 4\n    return [0, 1, 2, 3, 4].every(index =&gt; {\n        const rowContent = row[index].toLowerCase();\n        const filterContent = filters[index].toLowerCase();\n\n        // String.includes() is nicer than String.indexOf() here because\n        // you don't need the ugly -1\n        return rowContent.includes(filterContent);\n    });\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": true, "score": 4, "last_activity_date": 1553721659, "last_edit_date": 1553721659, "creation_date": 1553721150, "answer_id": 55386535, "question_id": 55386463, "link": "https://stackoverflow.com/questions/55386463/how-to-return-booleans-joined-with-inside-callback-function-in-filter-method/55386535#55386535", "title": "How to return booleans joined with &amp;&amp; inside callback function in filter method?", "body": "<p>You could use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/every\" rel=\"nofollow noreferrer\"><code>Array#every</code></a> for the filters array.</p>\n\n<p>For a faster check, you could convert the filter values to lowercase in advance.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var preSearch = [[\"The Lord of the Rings\", \"J. R. R. Tolkien\", \"English\", \"1955\", \"150 milion\u00f3w\"], [\"Le Petit Prince (The Little Prince)\", \"Antoine de Saint-Exup\u00e9ry\", \"French\", \"1943\", \"140 milion\u00f3w\"], [\"Harry Potter and the Philosopher's Stone\", \"J. K. Rowling\", \"English\", \"1997\", \"120 milion\u00f3w\"], [\"The Hobbit\", \"J. R. R. Tolkien\", \"English\", \"1937\", \"100 milion\u00f3w\"], [\"And Then There Were None\", \"Agatha Christie\", \"English\", \"1939\", \"100 milion\u00f3w\"], [\"Dream of the Red Chamber\", \"Cao Xueqin\", \"Chinese\", \"1791\", \"100 milion\u00f3w\"]],\r\n    filters = [\"\", \"\", \"english\", \"19\", \"1\"].map(s =&gt; s.toLowerCase()),\r\n    result = preSearch\r\n        .filter(row =&gt; filters.every((v, i) =&gt; row[i].toLowerCase().includes(v)));\r\n\r\nconsole.log(result);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 175, "user_id": 7247115, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/10202477385212328/picture?type=large", "display_name": "Mateusz Osuch", "link": "https://stackoverflow.com/users/7247115/mateusz-osuch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 55386535, "answer_count": 2, "score": 1, "last_activity_date": 1553721659, "creation_date": 1553720821, "last_edit_date": 1553721248, "question_id": 55386463, "link": "https://stackoverflow.com/questions/55386463/how-to-return-booleans-joined-with-inside-callback-function-in-filter-method", "title": "How to return booleans joined with &amp;&amp; inside callback function in filter method?", "body": "<p>I am looking for an elegant way to generate booleans that will eventually be joined using &amp;&amp; operator inside my callback function in filter method.</p>\n\n<p>I tried to loop through the filter conditions but I cannot find a way to join each iteration result into the following format:</p>\n\n<pre><code>return Boolean &amp;&amp; Boolean &amp;&amp; Boolean &amp;&amp; Boolean &amp;&amp; Boolean\n</code></pre>\n\n<p>Becasue += &amp;&amp; Boolean doesn't work.</p>\n\n<p>Here is what I have and what is working:</p>\n\n<pre><code>//data I am filtering\nthis.preSearch = [\n  [\"The Lord of the Rings\", \"J. R. R. Tolkien\", \"English\", \"1955\", \"150 milion\u00f3w\"],\n  [\"Le Petit Prince (The Little Prince)\", \"Antoine de Saint-Exup\u00e9ry\", \"French\", \"1943\", \"140 milion\u00f3w\"],\n  [\"Harry Potter and the Philosopher's Stone\", \"J. K. Rowling\", \"English\",  \"1997\", \"120 milion\u00f3w\"],\n  [\"The Hobbit\", \"J. R. R. Tolkien\", \"English\", \"1937\", \"100 milion\u00f3w\"],\n  [\"And Then There Were None\", \"Agatha Christie\",   \"English\", \"1939\",  \"100 milion\u00f3w\"],\n  [\"Dream of the Red Chamber\",  \"Cao Xueqin\",   \"Chinese\", \"1791\", \"100 milion\u00f3w\"]\n]\n\n//filters, that are set dynamically but let's pretend they are equal to\nvar filters = [\"\", \"\", \"english\", \"19\", \"1\"]\n\nvar searchdata = this.preSearch.filter(row =&gt; {\n          return \n    row[0].toLowerCase().indexOf(filters[0].toLowerCase()) &gt; -1 \n    &amp;&amp; row[1].toLowerCase().indexOf(filters[1].toLowerCase()) &gt; -1 \n    &amp;&amp; row[2].toLowerCase().indexOf(filters[2].toLowerCase()) &gt; -1 \n    &amp;&amp; row[3].toLowerCase().indexOf(filters[3].toLowerCase()) &gt; -1 \n    &amp;&amp; row[4].toLowerCase().indexOf(filters[4].toLowerCase()) &gt; -1\n})\n</code></pre>\n\n<p>I need scalable and way more elegant solution so I will not have to add another line with &amp;&amp; if I enhance my filtered array.</p>\n"}, {"tags": ["javascript", "reactjs", "redux"], "comments": [{"owner": {"reputation": 1298, "user_id": 855208, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/NHcJZ.png?s=128&g=1", "display_name": "eddiewould", "link": "https://stackoverflow.com/users/855208/eddiewould"}, "edited": false, "score": 0, "creation_date": 1553721299, "post_id": 55386450, "comment_id": 97495011, "body": "That doesn&#39;t sound like a good justification for using Redux. Can you explain what you mean by wanting to store the token in your app?"}], "answers": [{"comments": [{"owner": {"reputation": 4625, "user_id": 5009210, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wmm8M.png?s=128&g=1", "display_name": "Duncan Thacker", "link": "https://stackoverflow.com/users/5009210/duncan-thacker"}, "edited": false, "score": 1, "creation_date": 1553721955, "post_id": 55386668, "comment_id": 97495340, "body": "This won&#39;t work unless you also set up a <code>&lt;Provider&gt;</code> context for the store, which isn&#39;t currently happening - the store gets passed in as a prop and then <code>dispatch</code> is called directly. Also need to set up the action properly so the action is dispatched properly."}, {"owner": {"reputation": 3905, "user_id": 9602863, "user_type": "registered", "profile_image": "https://graph.facebook.com/1743384949051322/picture?type=large", "display_name": "UjinT34", "link": "https://stackoverflow.com/users/9602863/ujint34"}, "edited": false, "score": 0, "creation_date": 1553722134, "post_id": 55386668, "comment_id": 97495435, "body": "It depends on <code>react-redux</code> version. Some versions had support for passing <code>store</code> through <code>props</code> without <code>Provider</code>."}, {"owner": {"reputation": 304, "user_id": 9011952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evkky.jpg?s=128&g=1", "display_name": "Jamie Williams", "link": "https://stackoverflow.com/users/9011952/jamie-williams"}, "reply_to_user": {"reputation": 4625, "user_id": 5009210, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wmm8M.png?s=128&g=1", "display_name": "Duncan Thacker", "link": "https://stackoverflow.com/users/5009210/duncan-thacker"}, "edited": false, "score": 0, "creation_date": 1553722148, "post_id": 55386668, "comment_id": 97495443, "body": "@DuncanThacker Yeah I forgot to add that on the first post, cheers for pointing that out."}, {"owner": {"reputation": 1043, "user_id": 9203185, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8709b2b7524a21ab54a027392638f998?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy M.", "link": "https://stackoverflow.com/users/9203185/jeremy-m"}, "edited": false, "score": 1, "creation_date": 1553725255, "post_id": 55386668, "comment_id": 97496552, "body": "Well ! Thank you it worked. Thank you for the tutorial."}, {"owner": {"reputation": 304, "user_id": 9011952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evkky.jpg?s=128&g=1", "display_name": "Jamie Williams", "link": "https://stackoverflow.com/users/9011952/jamie-williams"}, "edited": false, "score": 0, "creation_date": 1553730742, "post_id": 55386668, "comment_id": 97498178, "body": "No worries, glad to help."}], "tags": [], "owner": {"reputation": 304, "user_id": 9011952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evkky.jpg?s=128&g=1", "display_name": "Jamie Williams", "link": "https://stackoverflow.com/users/9011952/jamie-williams"}, "is_accepted": true, "score": 3, "last_activity_date": 1566233347, "last_edit_date": 1566233347, "creation_date": 1553721855, "answer_id": 55386668, "question_id": 55386450, "link": "https://stackoverflow.com/questions/55386450/using-redux-in-a-react-project/55386668#55386668", "title": "Using redux in a React project", "body": "<p>You can connect the component to your Redux store using <a href=\"https://react-redux.js.org/api/connect\" rel=\"nofollow noreferrer\"><code>connect</code></a> from <a href=\"https://github.com/reduxjs/react-redux\" rel=\"nofollow noreferrer\"><code>react-redux</code></a>.</p>\n\n<p><strong>App.js</strong></p>\n\n<pre><code>import { Provider } from 'react-redux'\n\n// ... rest of code ...\n\nclass App extends Component {\n    render() {\n        return (\n            // Set up a provider context\n            &lt;Provider store={store}&gt;\n                &lt;div className=\"App container-fluid\"&gt;\n                    &lt;div className=\"row text-center\"&gt;\n                        &lt;div className=\"col-3\"&gt;&lt;LoginApi/&gt;&lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/Provider&gt;\n        );\n    }\n}\n</code></pre>\n\n<p><strong>LoginApi.js</strong></p>\n\n<pre><code>import React from 'react';\n// Import connect\nimport { connect } from 'react-redux';\nimport './LoginApi.css';\n\nclass LoginApi extends React.Component {\n    handleLogout() {\n        // We get ``dispatch`` through props now\n        this.props.dispatch({ type: \"LOGOUT\"});\n    }\n\n    handleLogin() {\n        // We get ``dispatch`` through props now\n        this.props.dispatch({ type: \"LOGIN\", sessionToken, isLoggedIn: true, group });\n    }\n\n    render() {\n        // Access the props here\n        const { sessionToken, isLoggedIn } = this.props;\n\n        return (\n            &lt;div className=\"Login\"&gt;\n                {(isLoggedIn === true &amp;&amp; sessionToken !== \"\") ?\n                    &lt;button type=\"button\" className=\"btn btn-danger\" onClick={this.handleLogout}&gt;Logout&lt;/button&gt;\n                    :\n                    &lt;button type=\"button\" className=\"btn btn-primary\" onClick={this.handleLogin}&gt;Login&lt;/button&gt;\n                }\n            &lt;/div&gt;\n        );\n    }\n}\n\n// This allows you to control how your Redux store\n// is mapped to this component's props.\nconst mapStateToProps = (state) =&gt; {\n    const { isLoggedIn, sessionToken } = state;\n\n    return {\n        sessionToken,\n        isLoggedIn,\n    };\n};\n\n// Wrap your export with connect and pass it mapStateToProps\nexport default connect(mapStateToProps)(LoginApi);\n</code></pre>\n\n<p>This setup will allow you to access the Redux state from any component that you export with <code>connect</code> rather than passing <code>store</code> directly through props to each component.</p>\n\n<p>Note: you also get <code>dispatch</code> through props so the lines <code>this.props.store.dispatch</code> can be reduced to <code>this.props.dispatch</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 3905, "user_id": 9602863, "user_type": "registered", "profile_image": "https://graph.facebook.com/1743384949051322/picture?type=large", "display_name": "UjinT34", "link": "https://stackoverflow.com/users/9602863/ujint34"}, "is_accepted": false, "score": 1, "last_activity_date": 1553722041, "creation_date": 1553722041, "answer_id": 55386708, "question_id": 55386450, "link": "https://stackoverflow.com/questions/55386450/using-redux-in-a-react-project/55386708#55386708", "title": "Using redux in a React project", "body": "<p>You probably meant <code>default: return state;</code>. Otherwise any action except 'LOGIN' and 'LOGOUT' will set your login state to something unexpected (usually <code>undefined</code>).</p>\n\n<p>To trigger a rerender you need to update props or internal state of the component. You need to <code>subcribe</code> to your store and do it manually or use <a href=\"https://react-redux.js.org/api/connect#connect\" rel=\"nofollow noreferrer\">connect</a>.</p>\n"}], "owner": {"reputation": 1043, "user_id": 9203185, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8709b2b7524a21ab54a027392638f998?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy M.", "link": "https://stackoverflow.com/users/9203185/jeremy-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 55386668, "answer_count": 2, "score": 1, "last_activity_date": 1566233347, "creation_date": 1553720740, "question_id": 55386450, "link": "https://stackoverflow.com/questions/55386450/using-redux-in-a-react-project", "title": "Using redux in a React project", "body": "<p>I'm trying to use Redux in my react project. The objective is to have a component that give me a token. I wan't this token to be stored in my App.js so i use redux. But when i try to save changes to the store, it works but it's not re rendering. Here's my code :</p>\n\n<p><strong><em>App.js</em></strong></p>\n\n<pre><code>import React, { Component } from 'react';\nimport LoginApi from './components/LoginApi.js';\nimport { createStore } from 'redux'\nimport './App.css';\n\nfunction pops(state = { sessionToken: '', isLoggedIn: false, group: '' }, action) {\n    const { sessionToken, isLoggedIn, group, type } = action;\n    switch (type) {\n        case 'LOGIN':\n            return { sessionToken, isLoggedIn, group };\n        case 'LOGOUT':\n            return { sessionToken: '', isLoggedIn: false, group: '' };\n        default:\n            return { sessionToken, isLoggedIn, group };\n    }\n}\nconst store = createStore(pops, { sessionToken: '', isLoggedIn: false, group: '', });\n\nclass App extends Component {\n    render() {\n        return (\n            &lt;div className=\"App container-fluid\"&gt;\n                &lt;div className=\"row text-center\"&gt;\n                    &lt;div className=\"col-3\"&gt;&lt;LoginApi store={store} /&gt;&lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        );\n    }\n}\n\nexport default App;\n</code></pre>\n\n<p><strong><em>LoginApi.js</em></strong></p>\n\n<pre><code>import React from 'react';\nimport './LoginApi.css';\n\nclass LoginApi extends React.Component {\n\n    handleLogout() {\n        this.props.store.dispatch({ type: \"LOGOUT\"});\n    }\n\n    handleLogin() {\n        this.props.store.dispatch({ type: \"LOGIN\", sessionToken, isLoggedIn: true, group });\n    }\n\n    render() {\n        const { isLoggedIn, sessionToken } = this.props.store.getState();\n        console.log(this.props.store.getState());\n        return (\n            &lt;div className=\"Login\"&gt;\n                {(isLoggedIn === true &amp;&amp; sessionToken !== \"\") ?\n                    &lt;button type=\"button\" className=\"btn btn-danger\" onClick={this.handleLogout}&gt;Logout&lt;/button&gt;\n                    :\n                    &lt;button type=\"button\" className=\"btn btn-primary\" onClick={this.handleLogin}&gt;Login&lt;/button&gt;\n                }\n            &lt;/div&gt;\n        );\n    }\n}\n\nexport default LoginApi;\n</code></pre>\n\n<p>handleLogout and handleLogin are calls to my API using axios. I skiped this to be clearer. </p>\n"}, {"tags": ["javascript", "jquery", "google-chrome-extension"], "comments": [{"owner": {"reputation": 151, "user_id": 9530226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NgFbB.png?s=128&g=1", "display_name": "maxpelic", "link": "https://stackoverflow.com/users/9530226/maxpelic"}, "edited": false, "score": 0, "creation_date": 1553721102, "post_id": 55386423, "comment_id": 97494930, "body": "Can you provide an example of what you started with and what you want to result to be?"}, {"owner": {"reputation": 39660, "user_id": 3880585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8pfp3.png?s=128&g=1", "display_name": "gaetanoM", "link": "https://stackoverflow.com/users/3880585/gaetanom"}, "edited": false, "score": 0, "creation_date": 1553722432, "post_id": 55386423, "comment_id": 97495545, "body": "did you add the jQuery lib to your extension? If not, you need to change the code to plain js like document.querySelectorAll(&#39;div.slick-cell.l4.r4&#39;).forEach(e =&gt; .....);"}], "answers": [{"tags": [], "owner": {"reputation": 2730, "user_id": 8184112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Uk3Ad.png?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/8184112/daniel"}, "is_accepted": true, "score": 0, "last_activity_date": 1553721940, "creation_date": 1553721940, "answer_id": 55386686, "question_id": 55386423, "link": "https://stackoverflow.com/questions/55386423/using-a-chrome-extension-to-make-a-text-div-into-a-web-link/55386686#55386686", "title": "Using a chrome extension to make a text div into a web link?", "body": "<p>Having looked at this a bit more since commenting, I believe what you will want is:</p>\n\n<pre><code>$('div.slick-cell.l4.r4').wrapInner(function() { \n    return \"&lt;a href='http://www.walmart.com/ip/\" + $(this).text() + \"'&gt;&lt;/a&gt;\";\n});\n</code></pre>\n\n<p>This will put an <code>&lt;a&gt;</code> inside the <code>&lt;div&gt;</code> (could probably wrap it outer too with .wrap, but inner seems better to me) using the div's text contents as part of the href and your string as the rest.</p>\n"}], "owner": {"reputation": 3, "user_id": 11268622, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-lRZjoemFXg4/AAAAAAAAAAI/AAAAAAAAAy4/Io042vSTPQ4/photo.jpg?sz=128", "display_name": "Rick McInnes", "link": "https://stackoverflow.com/users/11268622/rick-mcinnes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 55386686, "answer_count": 1, "score": 0, "last_activity_date": 1553721940, "creation_date": 1553720650, "question_id": 55386423, "link": "https://stackoverflow.com/questions/55386423/using-a-chrome-extension-to-make-a-text-div-into-a-web-link", "title": "Using a chrome extension to make a text div into a web link?", "body": "<p>I use a website for listing management for walmart marketplace sales.  Theres a column with a product ID in it (div.slick-cell.l4.r4).  This ID is plain text.  Im trying to turn it into a link \"<a href=\"https://www.walmart.com/ip/productIDhere\" rel=\"nofollow noreferrer\">https://www.walmart.com/ip/productIDhere</a>\" so I can just click on them to see product page.  </p>\n\n<p>So I made a simple chrome extension to attempt this.  I can figure out how to make the product ID cell link to <a href=\"https://www.walmart.com/ip/\" rel=\"nofollow noreferrer\">https://www.walmart.com/ip/</a> but I cannot figure out how to also append the ID so its a real link.</p>\n\n<p>js code:</p>\n\n<pre><code>$('div.slick-cell.l4.r4').each(function() {\nvar link = $(this).html();\n$(this).contents().wrap('&lt;a href=\"http://www.walmart.com/ip/\"&gt;&lt;/a&gt;');\n});\n</code></pre>\n"}, {"tags": ["javascript", "chart.js", "jsfiddle"], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 11268751, "user_type": "registered", "profile_image": "https://graph.facebook.com/10161697653665442/picture?type=large", "display_name": "Odin Anderson", "link": "https://stackoverflow.com/users/11268751/odin-anderson"}, "edited": false, "score": 0, "creation_date": 1553786863, "post_id": 55395436, "comment_id": 97523281, "body": "Thx! I should have picked that up earlier... It was even misspelled in th description."}], "tags": [], "owner": {"reputation": 1149, "user_id": 4670239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97969e2cb991348179115c57b9061aed?s=128&d=identicon&r=PG&f=1", "display_name": "Kunal Khivensara", "link": "https://stackoverflow.com/users/4670239/kunal-khivensara"}, "is_accepted": true, "score": 2, "last_activity_date": 1553769255, "creation_date": 1553769255, "answer_id": 55395436, "question_id": 55386420, "link": "https://stackoverflow.com/questions/55386420/second-yaxes-values-not-charting-correctly-with-chart-js/55395436#55395436", "title": "Second yAxes values not charting correctly with Chart.js", "body": "<p>There is a spelling mistake replace <code>yAxesID</code> with <code>yAxisID</code>, and the dataset population should look like the below code or you can see the fiddle for your reference -> <a href=\"https://jsfiddle.net/69p7Lsth/1/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/69p7Lsth/1/</a></p>\n\n<pre><code>datasets: [{\n      label: 'Gravity',\n      yAxisID: 'SG',\n      data: [1.07, 1.045, 1.030, 1.014, 1.012],\n      backgroundColor: '#ff6384' //red\n    }, {\n      label: 'Temp F',\n      yAxisID: 'Temp',\n      data: [8, 66, 78, 66, 76],\n      backgroundColor: '#36a2eb' //blue\n    }]\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 11268751, "user_type": "registered", "profile_image": "https://graph.facebook.com/10161697653665442/picture?type=large", "display_name": "Odin Anderson", "link": "https://stackoverflow.com/users/11268751/odin-anderson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "accepted_answer_id": 55395436, "answer_count": 1, "score": 1, "last_activity_date": 1553769255, "creation_date": 1553720636, "last_edit_date": 1553727653, "question_id": 55386420, "link": "https://stackoverflow.com/questions/55386420/second-yaxes-values-not-charting-correctly-with-chart-js", "title": "Second yAxes values not charting correctly with Chart.js", "body": "<p>I've got one data-set values not showing in dual-yAxes charting.</p>\n\n<p>I've got the general Chart.js code working with dual data-sets and dual yAxes.  however, one data set is not showing correctly on chart.  the \"Temp\" values range between 66 and 78, but appear to be \"off the chart\" despite the min/max range values I use.</p>\n\n<p><a href=\"https://jsfiddle.net/SmokeyRider/mdx7z5pu\" rel=\"nofollow noreferrer\">See my code here on JSFiddle</a></p>\n\n<pre><code>&lt;div style=\"width:75%\"&gt;\n     &lt;canvas class=\".content\" id=\"myChart\" &gt;&lt;/canvas&gt;\n&lt;/div&gt;\n\n\n&lt;Script&gt;\nvar canvas = document.getElementById('myChart').getContext('2d');\n\n// @ts-ignore\nvar myChart = new Chart(canvas, {\n    options: {\n        scales: {\n            yAxes: [\n                {\n                id: 'SG',\n                //type: 'linear',\n                position: 'left',\n                ticks: \n                    {\n                    min: 1,\n                    max: 1.1\n                    }             \n                }, \n                {\n                id: 'Temp',\n                //type: 'linear',\n                position: 'right',\n                ticks: \n                    {\n                    min: 32,\n                    max: 100\n                    }\n                }\n            ]\n        }\n    },\n    type: 'bar', //not really needed, over-ridden below\n    data: {\n        labels: ['Mon', 'Tues', 'Wed', 'Thurs', 'Fri'],\n        datasets: [{\n            label: 'Gravity',\n            yAxesID: 'SG',\n            data: [1.07, 1.045, 1.030, 1.014, 1.012],\n            backgroundColor: '#ff6384' //red\n        }, {\n            //type: 'line',\n            label: 'Temp F',\n            yAxesID: 'Temp',\n            data: [78, 66, 78, 66, 76],\n            backgroundColor: '#36a2eb' //blue\n        }]\n    }\n});\n\n&lt;/Script&gt;\n</code></pre>\n\n<p>Maybe I'm missing something specific to dual-yAxes charting...</p>\n"}, {"tags": ["javascript", "jquery", "html", "bulma"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11268682, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hOuSAV-sekE/AAAAAAAAAAI/AAAAAAAAAAc/0ejRTJC0Aig/photo.jpg?sz=128", "display_name": "Alder French", "link": "https://stackoverflow.com/users/11268682/alder-french"}, "edited": false, "score": 0, "creation_date": 1553722056, "post_id": 55386540, "comment_id": 97495399, "body": "Thanks that solved it! Its always some silly little thing like that. Now I just have to figure out a way for it to update back to read more when the acccordion is compressed."}, {"owner": {"reputation": 721, "user_id": 11268857, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mTRSSfkZJe8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcNs6tmD9Sdl_2-8HrQfRS1GTCaeQ/mo/photo.jpg?sz=128", "display_name": "jonathan Heindl", "link": "https://stackoverflow.com/users/11268857/jonathan-heindl"}, "reply_to_user": {"reputation": 1, "user_id": 11268682, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hOuSAV-sekE/AAAAAAAAAAI/AAAAAAAAAAc/0ejRTJC0Aig/photo.jpg?sz=128", "display_name": "Alder French", "link": "https://stackoverflow.com/users/11268682/alder-french"}, "edited": false, "score": 0, "creation_date": 1553722557, "post_id": 55386540, "comment_id": 97495599, "body": "well you could also (probably should) update y[i].className=&quot;not-active&quot; or similar then you can just do the same in reverse  ( or store some variable on one of the elements to represent the state of  clicked - that gets complicated real quick though"}], "tags": [], "owner": {"reputation": 721, "user_id": 11268857, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mTRSSfkZJe8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcNs6tmD9Sdl_2-8HrQfRS1GTCaeQ/mo/photo.jpg?sz=128", "display_name": "jonathan Heindl", "link": "https://stackoverflow.com/users/11268857/jonathan-heindl"}, "is_accepted": false, "score": 0, "last_activity_date": 1553721553, "last_edit_date": 1553721553, "creation_date": 1553721177, "answer_id": 55386540, "question_id": 55386406, "link": "https://stackoverflow.com/questions/55386406/cant-change-innerhtml-of-child-class-for-read-more-read-less-toggle-in-javascr/55386540#55386540", "title": "Can&#39;t change innerHTML of child class for Read More/ Read Less Toggle in javascript", "body": "<p><code>getElementsByClassName</code> returns an array of elements \nso when you want to reference the object itself you need to add the index afterwards:</p>\n\n<pre><code>y[i].getElementsByClassName(\"readSwitch\")[0].innerHTML\n</code></pre>\n\n<p>PS: When editing the text of a node it is recommended to use <code>.textContent = \"Read LEss\"</code> otherwise you will overwrite all the childElements of said node</p>\n\n<p>Bsp:</p>\n\n<pre><code>let x = document.getElementById(\"accordions\");\nlet y = x.getElementsByClassName(\"accordion is-active\");//maybe x.children depending on the structure\nfor (let i = 0; i &lt; y.length; i++) {\n    let z = y[i].getElementsByClassName(\"readSwitch\")[0];\n    z.textContent= \"Read Less\";\n    console.log(z.textContent);\n  }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11268682, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hOuSAV-sekE/AAAAAAAAAAI/AAAAAAAAAAc/0ejRTJC0Aig/photo.jpg?sz=128", "display_name": "Alder French", "link": "https://stackoverflow.com/users/11268682/alder-french"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 346, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553723595, "creation_date": 1553720566, "last_edit_date": 1553723595, "question_id": 55386406, "link": "https://stackoverflow.com/questions/55386406/cant-change-innerhtml-of-child-class-for-read-more-read-less-toggle-in-javascr", "title": "Can&#39;t change innerHTML of child class for Read More/ Read Less Toggle in javascript", "body": "<p>I'm building a IT website and I'm using an accordion to display my clients services. One clicks on the accordion and it expands or contracts giving a description of that service. I want to add a read more / read less text that changes depending on whether or not the accordion is open or closed (which is done using the is-active class. I can't change the innerHTML of the <p> Read More </p> text because it is the child element of the \"accordion is-active\" article. </p>\n\n<p>I've looked at many solutions and they don't seem to address the problem I'm facing because I need to access the child class of an element only IF that element has both the \"accordion\" and \"is-active\" classes. I've tried assigning the Read More tag with class = \"readSwitch\" id = \"readSwitch\" to a variable and changing that variables html e.g. z.innerHTML = \"Read Less\" but z is a copy of the y.getElementsByClass(\"readSwitch\") not the actual element. How do I directly access the \"readSwitch\" class for elements that contain both \"accordion is-active\" classes?</p>\n\n<p>JavaScript</p>\n\n<pre><code>  function readToggle() {\n      var x = document.getElementById(\"accordions\");\n      var y = x.getElementsByClassName(\"accordion is-active\");\n      var i;\n      for (i = 0; i &lt; y.length; i++) {\n        var z = y[i].getElementsByClassName(\"readSwitch\");\n        z.innerHTML = \"Read Less\";\n        console.log(z.innerHTML);\n      }\n\n    }\n</code></pre>\n\n<p>HTML</p>\n\n<pre><code>&lt;section class=\"accordions\" id=\"accordions\"&gt;\n        &lt;article class=\"accordion is-active\"&gt;\n          &lt;div class=\"accordion-header toggle\" onclick=\"readToggle()\"&gt;\n            &lt;p&gt;\n              Custom Built Computers\n            &lt;/p&gt;\n            &lt;p style=\"font-size:10px\" class=\"readSwitch\" \n            id=\"readSwitch\"&gt;\n              Read More\n            &lt;/p&gt;\n          &lt;/div&gt;\n          &lt;div class=\"accordion-body\"&gt;\n            &lt;div class=\"accordion-content\"&gt;\n              blah blah blah\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/article&gt;\n&lt;/section&gt;\n</code></pre>\n\n<p>The problem is z is a copy of y so changing it doesn't update the DOM. However when I try to directly access y's inner HTML using something like y[i].getElementsByClassName(\"readSwitch\").innerHTML = \"Read Less\"; I get an error \"TypeError: y.getElementsByClassName is not a function. (In 'y.getElementsByClassName(\"readSwitch\")', 'y.getElementsByClassName' is undefined)\" . Are there any ways to directly modify y's child classes innerHTML using something like y.readSwitch.innerHTML = \"Read Less\"?</p>\n\n<p>EDIT SOLVED!!! : \nThanks to jonathan Heindl i was able to figure it out. I've been struggling with this stupid thing for 3 days and couldn't find any solutions on the internet so I'm posting my Javascript solution for the read more read less toggle here for others. This solution works with the HTML above.</p>\n\n<pre><code>  document.onclick = function () {\n      //variables for accordions with is-active\n      var x = document.getElementById(\"accordions\");\n      var y = x.getElementsByClassName(\"accordion is-active\");\n\n      //variables for accordions with just accordion class, exclude those with \"is-active\"\n      var noless = document.querySelectorAll('article.accordion:not(.is-active)');\n\n      //Update all accordions with is-active to read less\n      var i;\n      for (i = 0; i &lt; y.length; i++) {\n        y[i].getElementsByClassName(\"readSwitch\")[0].innerHTML = \"Read Less &amp;uarr;\";\n      }\n\n      //update accordions without is-active class to read more\n      var w;\n      for (w = 0; w &lt; noless.length; w++) {\n        noless[w].getElementsByClassName(\"readSwitch\")[0].innerHTML = \"Read More &amp;darr;\";\n      }\n    }\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1553720971, "post_id": 55386372, "comment_id": 97494864, "body": "You&#39;ve described two problems: 1. &quot;I have data points ... which i want to sort/group by date into arrays,&quot; and 2. &quot;How do calculate the difference between two dates in distinct day-steps...&quot; Keeping in mind the <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem/66378#66378\">XY problem</a>, which of these are you asking about?"}, {"owner": {"reputation": 1971, "user_id": 368657, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/134190f7aeec482ff17a7ad101a37f67?s=128&d=identicon&r=PG", "display_name": "Juarrow", "link": "https://stackoverflow.com/users/368657/juarrow"}, "reply_to_user": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1553721116, "post_id": 55386372, "comment_id": 97494938, "body": "@JordanRunning Well... i asked one question. But i&#39;ll clarify the first problem as background information."}, {"owner": {"reputation": 3803, "user_id": 9968486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32ef70d35b33f8d0451ce07c32bc53be?s=128&d=identicon&r=PG&f=1", "display_name": "SirPilan", "link": "https://stackoverflow.com/users/9968486/sirpilan"}, "edited": false, "score": 0, "creation_date": 1553721816, "post_id": 55386372, "comment_id": 97495265, "body": "Please add an example with desired result - for me its absolutely unclear what you try to accomplish. What is wrong with fraction of days?"}], "answers": [{"comments": [{"owner": {"reputation": 183, "user_id": 11116977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZpus.jpg?s=128&g=1", "display_name": "Noah B", "link": "https://stackoverflow.com/users/11116977/noah-b"}, "edited": false, "score": 0, "creation_date": 1553721333, "post_id": 55386529, "comment_id": 97495029, "body": "Expanding on this, you should be able to take the result of tmp - diff and use getHours() on that."}], "tags": [], "owner": {"reputation": 1392, "user_id": 2922609, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/JRouJ.png?s=128&g=1", "display_name": "ivanibash", "link": "https://stackoverflow.com/users/2922609/ivanibash"}, "is_accepted": true, "score": 1, "last_activity_date": 1553722015, "last_edit_date": 1553722015, "creation_date": 1553721121, "answer_id": 55386529, "question_id": 55386372, "link": "https://stackoverflow.com/questions/55386372/distinct-1-step-difference-between-two-dates/55386529#55386529", "title": "Distinct 1-Step-Difference between two dates", "body": "<p>If your dates are in milliseconds you can try this. Divide both by (24 * 3600 * 1000) and take the Math.floor() - that will give you the amount of full days. Then simply subtract target result from today result.</p>\n\n<p>So,</p>\n\n<pre><code>mils_in_a_day = 24 * 3600 * 1000\ntoday_in_days = Math.floor(today_in_mils / mils_in_a_day)\ntarget_date_in_days = Math.floor(target_date_in_days / mils_in_a_day)\ndifference_in_days = target_date_in_days - today_in_days\n</code></pre>\n\n<p>Then to sort you can do smth this for each example</p>\n\n<pre><code>results = {}\nresults[difference_in_days] = target_date_in_days\n</code></pre>\n\n<p>and end up with a hash like this</p>\n\n<pre><code>{ \n  '1' : [12356, 123457, 123458], \n  '2' : [234567, 234568, 234569]\n}\n</code></pre>\n\n<p>Where the keys represent the difference in days and the values are the arrays of original timestamps. You can then call <code>sort()</code> on each of the arrays to sort timestamps within days. </p>\n\n<p>I'm sure it's not the most efficient way but that should give you the idea.</p>\n"}], "owner": {"reputation": 1971, "user_id": 368657, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/134190f7aeec482ff17a7ad101a37f67?s=128&d=identicon&r=PG", "display_name": "Juarrow", "link": "https://stackoverflow.com/users/368657/juarrow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 55386529, "answer_count": 1, "score": 0, "last_activity_date": 1553722015, "creation_date": 1553720423, "last_edit_date": 1553721139, "question_id": 55386372, "link": "https://stackoverflow.com/questions/55386372/distinct-1-step-difference-between-two-dates", "title": "Distinct 1-Step-Difference between two dates", "body": "<p><strong>Some Background:</strong></p>\n\n<p>I have data points (current day + 5 days ahead, in 3-hour steps (e.g. 22pm, 1am, 4am, 7am...)) which i want to sort/group by date into arrays (one for each date).</p>\n\n<p>My first attempt was to simply calculate the difference of the two date objects in date like</p>\n\n<p><code>(datapoint.getTime() - today.getTime())/ millisecondsPerDay</code>.\nThat did not work, because i get fractions of days.</p>\n\n<p>Then i went with <code>Math.ceil()</code> and <code>Math.floor()</code> on the results, but that of course (i have been looking at my code for a while, so my brain didn't recognize the flaw then) didn't work, too, because it would put the current day and parts of the next day into the same group (22 pm + 3 hours is not on the same day, though the difference is &lt; 1 day).</p>\n\n<p>Then i did day comparison like</p>\n\n<pre><code>let diff = tmp.getDate() - today.getDate()\n</code></pre>\n\n<p>the problem with that approach is, that when i'm at the end of the month and a datepoint is in the next months, i get (relatively) high negative values which i can't use as array indices (e.g. <code>[0,1,2,4,5,-27]</code>).</p>\n\n<p><strong>The Question</strong></p>\n\n<p>How do calculate the difference between two dates in distinct day-steps while regarding change of month?</p>\n"}, {"tags": ["javascript", "node.js", "sqlite"], "comments": [{"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 0, "creation_date": 1553769743, "post_id": 55386347, "comment_id": 97511382, "body": "Corrected number of arguments, still the same issue"}, {"owner": {"reputation": 4475, "user_id": 5577076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qG4gB.png?s=128&g=1", "display_name": "DinoCoderSaurus", "link": "https://stackoverflow.com/users/5577076/dinocodersaurus"}, "edited": false, "score": 0, "creation_date": 1553786919, "post_id": 55386347, "comment_id": 97523322, "body": "Does it work in the REPL? Assuming you are getting  NO feedback in the console (either error or success), my gut says <code>require</code> is failing and bailing because of &quot;pathing&quot; to the sqlite3 module. Your code worked (for me) in the REPL. Alternatively, it worked from WIndows cmd <code>&gt; node &#47;full&#47;path&#47;to&#47;script</code> with <i>full path to sqlite3 module</i>"}, {"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "reply_to_user": {"reputation": 4475, "user_id": 5577076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qG4gB.png?s=128&g=1", "display_name": "DinoCoderSaurus", "link": "https://stackoverflow.com/users/5577076/dinocodersaurus"}, "edited": false, "score": 0, "creation_date": 1553793690, "post_id": 55386347, "comment_id": 97527550, "body": "Damn, it works in REPL but not as script, and despite <code>.verbose()</code> I don&#39;t get messages like in REPL. Adedd full path to sqlite.js and run the script with full path"}, {"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "reply_to_user": {"reputation": 4475, "user_id": 5577076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qG4gB.png?s=128&g=1", "display_name": "DinoCoderSaurus", "link": "https://stackoverflow.com/users/5577076/dinocodersaurus"}, "edited": false, "score": 0, "creation_date": 1553794897, "post_id": 55386347, "comment_id": 97528184, "body": "Added bug report <a href=\"https://github.com/mapbox/node-sqlite3/issues/1140\" rel=\"nofollow noreferrer\">github.com/mapbox/node-sqlite3/issues/1140</a>"}], "answers": [{"tags": [], "owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "is_accepted": true, "score": 0, "last_activity_date": 1553858189, "creation_date": 1553858189, "answer_id": 55416262, "question_id": 55386347, "link": "https://stackoverflow.com/questions/55386347/insert-into-sqlite3-db-in-js-nothing-added-to-table/55416262#55416262", "title": "Insert into sqlite3 DB in JS, nothing added to table", "body": "<p>Solution, don't use this #*!% <code>npm-sqlite3</code> module, but <code>npm-better-sqlite3</code>.</p>\n\n<p>Some modules on <code>npm</code> seems really crappy.</p>\n\n<p>So what I wrote to do the things works with <a href=\"https://www.npmjs.com/package/better-sqlite3\" rel=\"nofollow noreferrer\">better-sqlite3</a> :</p>\n\n<pre><code>const db = require('better-sqlite3')('bdd.sqlite');\n\nconst stmt = db.prepare('INSERT INTO stats VALUES (?, ?, ?, ?, ?, ?)');\nconst info = stmt.run(Date.now(), 'relais', 'none', 'OK', '', 'passed OK');\n\nconsole.log(info.changes); // =&gt; 1\n</code></pre>\n"}], "owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 55416262, "answer_count": 1, "score": 0, "last_activity_date": 1553858189, "creation_date": 1553720302, "last_edit_date": 1553769711, "question_id": 55386347, "link": "https://stackoverflow.com/questions/55386347/insert-into-sqlite3-db-in-js-nothing-added-to-table", "title": "Insert into sqlite3 DB in JS, nothing added to table", "body": "<p>My table structure :</p>\n\n<pre><code>sqlite3 &lt;&lt;&lt; '.dump' bdd.sqlite\nPRAGMA foreign_keys=OFF;\nBEGIN TRANSACTION;\nCREATE TABLE stats (epoch INTEGER PRIMARY KEY, scenario TEXT, image_path TEXT, exec_time INTEGER, result TEXT, passed TEXT);\nCOMMIT;\n</code></pre>\n\n<p>My javascript code : </p>\n\n<pre><code>const sqlite3 = require('sqlite3').verbose();\nvar db = new sqlite3.Database('./bdd.sqlite');\ndb.run(`INSERT INTO stats VALUES(?,?,?,?,?,?)`, [ Date.now(), 'foobar', 'none', 'OK', '', 'passed OK' ], function(err) {\n  if (err) {\n    return console.log(err.message);\n  }\n  // get the last insert id\n  console.log(`A row has been inserted with rowid ${this.lastID}`);\n});\ndb.close();\n</code></pre>\n\n<p>What I'm doing wrong ?</p>\n\n<p>When I run the <code>nodejs</code> script, nothing is added nor error</p>\n"}, {"tags": ["javascript", "chart.js"], "answers": [{"comments": [{"owner": {"reputation": 491, "user_id": 10958811, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SCLag1DMHgY/AAAAAAAAAAI/AAAAAAAAAA8/L7dYeoPRQ00/photo.jpg?sz=128", "display_name": "Yossi Geretz", "link": "https://stackoverflow.com/users/10958811/yossi-geretz"}, "edited": false, "score": 0, "creation_date": 1554436280, "post_id": 55400143, "comment_id": 97759653, "body": "BTW - I&#39;ve subsequently converted this &#39;time&#39; chart to a &#39;line&#39; chart. There&#39;s a bit of extra work to explicitly format the month labels for the x-axis but the upside is better, more explicit control over the x-axis."}], "tags": [], "owner": {"reputation": 491, "user_id": 10958811, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SCLag1DMHgY/AAAAAAAAAAI/AAAAAAAAAA8/L7dYeoPRQ00/photo.jpg?sz=128", "display_name": "Yossi Geretz", "link": "https://stackoverflow.com/users/10958811/yossi-geretz"}, "is_accepted": true, "score": 2, "last_activity_date": 1553783422, "creation_date": 1553783422, "answer_id": 55400143, "question_id": 55386303, "link": "https://stackoverflow.com/questions/55386303/chart-js-consolidating-days-to-month-totals-along-the-x-time-axis/55400143#55400143", "title": "Chart.js - consolidating days to month totals along the x (time) axis?", "body": "<p>I solved this by doing the rollup myself during the assembly of the underlying dataset which is then supplied to the chart.</p>\n\n<pre><code>var dayDate = new Date($scope.insights.locationMetrics[lm].metricValues[metric].dimensionalValues[dim].timeDimension.timeRange.startTime);\nvar monthDate = dayDate.getFullYear() + \"-\" + (dayDate.getMonth() + 1);\n\nvar hitCount = {\n    y: $scope.safeNumber($scope.insights.locationMetrics[lm].metricValues[metric].dimensionalValues[dim].value),\n    x: monthDate\n}\nvar alreadyRecorded = hits[labelIdx].findIndex(obj =&gt; obj.x == hitCount.x)\n\nif (alreadyRecorded &gt; -1) {\n    hits[labelIdx][alreadyRecorded].y += Number(hitCount.y);\n}\nelse {\n    hits[labelIdx].push(hitCount);\n}\n</code></pre>\n\n<ol>\n<li>Extract the date from the underlying data source</li>\n<li>Extract yyyy-mm from the date</li>\n<li>Create the hitCount object</li>\n<li>Check if the hitCount object is already in the array</li>\n<li>If the object is already in the array then increment the hitCount (y) within the array.</li>\n<li>Otherwise, push the object into the array.</li>\n</ol>\n"}], "owner": {"reputation": 491, "user_id": 10958811, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SCLag1DMHgY/AAAAAAAAAAI/AAAAAAAAAA8/L7dYeoPRQ00/photo.jpg?sz=128", "display_name": "Yossi Geretz", "link": "https://stackoverflow.com/users/10958811/yossi-geretz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 797, "favorite_count": 1, "accepted_answer_id": 55400143, "answer_count": 1, "score": 3, "last_activity_date": 1553783422, "creation_date": 1553720109, "question_id": 55386303, "link": "https://stackoverflow.com/questions/55386303/chart-js-consolidating-days-to-month-totals-along-the-x-time-axis", "title": "Chart.js - consolidating days to month totals along the x (time) axis?", "body": "<p>I'm feeding two daily statistics datasets into my chart. As you can see, each element represents the value for a particular day.</p>\n\n<pre><code>\"data\":[[{\"y\":\"1\",  \"x\":\"2018-04-01T04:00:00Z\"},\n         {\"y\":\"14\", \"x\":\"2018-04-02T04:00:00Z\"},\n         {\"y\":\"5\",  \"x\":\"2018-04-03T04:00:00Z\"},\n         {\"y\":\"7\",  \"x\":\"2018-04-04T04:00:00Z\"},\n         ...\n</code></pre>\n\n<p>The x axis is defined as follows:</p>\n\n<pre><code>xAxes: [{\n         type: 'time',\n         distribution: 'series',\n         time: {\n                unit: 'month'\n               }\n        }]\n</code></pre>\n\n<p>I (naively?) thought that the chart would be rolling up (summing) the day values into the appropriate month buckets but that's not what I got. Instead, I got monthly tick marks along the x-axis but data points are plotted within the chart at daily precision. (See screenshot.)</p>\n\n<p>Before I go ahead and reprocess my dataset to manually roll up days into their respective month buckets, I'd like to hear whether the chart can in fact do this for me but I'm just setting this up wrong, or whether I do in fact need to take care of this summarization myself, before supplying the dataset to the chart for plotting.</p>\n\n<p>Thanks for your advice!</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 39660, "user_id": 3880585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8pfp3.png?s=128&g=1", "display_name": "gaetanoM", "link": "https://stackoverflow.com/users/3880585/gaetanom"}, "edited": false, "score": 0, "creation_date": 1553720443, "post_id": 55386293, "comment_id": 97494617, "body": "&quot;However, matchMedia() only works on mobile&quot; Are you sure? Can you take a look to <a href=\"https://caniuse.com/#search=matchMedia\" rel=\"nofollow noreferrer\">caniuse.com</a> or <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/matchMedia\" rel=\"nofollow noreferrer\">MDN</a>?"}], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 10620237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb20924220b68ca65db5d594a8410a8b?s=128&d=identicon&r=PG&f=1", "display_name": "A..", "link": "https://stackoverflow.com/users/10620237/a"}, "is_accepted": false, "score": 0, "last_activity_date": 1553724644, "last_edit_date": 1553724644, "creation_date": 1553722058, "answer_id": 55386715, "question_id": 55386293, "link": "https://stackoverflow.com/questions/55386293/js-matchmedia-can-you-match-the-screen-as-well-with-this/55386715#55386715", "title": "JS matchMedia: Can you match the screen as well with this?", "body": "<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/Media_Queries\" rel=\"nofollow noreferrer\">MDN says</a>:</p>\n\n<blockquote>\n  <p>In JavaScript, you can use the Window.matchMedia() method to test the window against a media query.</p>\n</blockquote>\n\n<p>So, for example:</p>\n\n<pre><code>const query = window.matchMedia(\"screen and (min-width: 992px)\");\n</code></pre>\n\n<p>What you insert is just a string, so you can do some smart things pretty easily with <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals\" rel=\"nofollow noreferrer\">template literals</a> if you are using ES2015:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const min = 576;\r\nconst getMediaQuery = minWidth =&gt;\r\n  window.matchMedia(`screen and (min-width: ${minWidth}px)`);\r\nconst query = getMediaQuery(min);\r\n\r\nconst screenTest = e =&gt;\r\n  e.matches\r\n    ? console.info(`The window is at least ${min}px wide.`)\r\n    : console.info(`The window is less than ${min}px wide.`);\r\n\r\nquery.addListener(screenTest);\r\nscreenTest(query);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 379, "user_id": 7823946, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8f5f4e77fe79a2a22e49b0bd1a406426?s=128&d=identicon&r=PG&f=1", "display_name": "Nick0989", "link": "https://stackoverflow.com/users/7823946/nick0989"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553724644, "creation_date": 1553720091, "question_id": 55386293, "link": "https://stackoverflow.com/questions/55386293/js-matchmedia-can-you-match-the-screen-as-well-with-this", "title": "JS matchMedia: Can you match the screen as well with this?", "body": "<p>I have a two column layout where my footer copyright is on the left side. When I decrease the screen size to mobile for testing, the footer on the left, is put to the middle and the second column starts after the footer. </p>\n\n<p>I can fix this with JavaScript with matchMedia(). However, matchMedia() only works on mobile. Is there a way to match media and screen? Something like matchMediaScreen()? See example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.branding-color { \r\n     background-color: darkblue;\r\n}\r\n\r\n.welcome,\r\n.students { \r\n     color: white;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    &lt;link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css\"&gt;\r\n\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"container-fluid\"&gt;\r\n  &lt;div class=\"row vh-100\"&gt;\r\n    &lt;div class=\"col-md-4\"&gt;\r\n      &lt;section class=\"row logo-area mb-5 p-3\"&gt;\r\n        &lt;div class=\"col-6\"&gt;\r\n          &lt;a href=\"/index.php\"&gt;\r\n            &lt;img class=\"img-fluid\" :src=\"logo\" alt=\"Secret Logo\" /&gt;\r\n          &lt;/a&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=\"col-6 text-right\"&gt;\r\n          &lt;img class=\"img-fluid \" :src=\"hpoLogo\" alt=\"Secret Logo\"&gt;\r\n        &lt;/div&gt;\r\n      &lt;/section&gt;\r\n      &lt;!-- row logo-area --&gt;\r\n\r\n      &lt;div class=\"col-sm-12 d-flex justify-content-center flex-column text-center uni-center\"&gt;\r\n        &lt;div class=\"mb-5\"&gt;\r\n          &lt;img class=\"img-fluid uni-logo\" :src=\"universityLogo\" alt=\"\" /&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=\"login mb-5\"&gt;\r\n          &lt;a class=\"btn btn-blue mr-2\" href=\"/login.php\"&gt;Login&lt;/a&gt;\r\n          &lt;a class=\"btn btn-green\" href=\"/register.php\"&gt;Register&lt;/a&gt;\r\n        &lt;/div&gt;\r\n        &lt;nav class=\"nav flex-column mb-5\"&gt;\r\n          &lt;a href=\"#\"&gt;Support&lt;/a&gt;\r\n          &lt;a href=\"#\"&gt;Privacy Policy&lt;/a&gt;\r\n          &lt;a href=\"#\"&gt;Terms &amp;amp; Conditions&lt;/a&gt;\r\n        &lt;/nav&gt;\r\n        &lt;div class=\"social\"&gt;\r\n          &lt;a href=\"#\"&gt;&lt;img :src=\"facebook\" alt=\"\" /&gt;&lt;/a&gt;\r\n          &lt;a href=\"#\"&gt;&lt;img :src=\"twitter\" alt=\"\" /&gt;&lt;/a&gt;\r\n          &lt;a href=\"#\"&gt;&lt;img :src=\"instagram\" alt=\"\" /&gt;&lt;/a&gt;\r\n          &lt;a href=\"#\"&gt;&lt;img :src=\"mail\" alt=\"\" /&gt;&lt;/a&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n      &lt;footer&gt;\r\n        &lt;p class=\"text-center\"&gt;\u00a9 2019 All rights reserved. Designed and hosted by Someone Special&lt;/p&gt;\r\n      &lt;/footer&gt;\r\n    &lt;/div&gt;\r\n    &lt;!-- col-md-3 --&gt;\r\n    &lt;div class=\"col-md-8 d-flex align-items-center justify-content-center branding-color\"&gt;\r\n      &lt;div class=\"col-md-8 welcome-white rounded\"&gt;\r\n        &lt;h2 class=\"welcome m-0 font-weight-bold\"&gt;Welcome&lt;/h2&gt;\r\n        &lt;h2 class=\"students mb-5\"&gt;Students&lt;/h2&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;!-- col-md-8 --&gt;\r\n    &lt;div class=\"m-footer\"&gt;&lt;/div&gt;\r\n  &lt;/div&gt;\r\n  &lt;!-- row  --&gt;\r\n&lt;/div&gt;\r\n&lt;!-- container-fluid --&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "google-chrome", "error-handling"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1553719971, "post_id": 55386219, "comment_id": 97494374, "body": "Those are not JavaScript errors so not going to be triggered with window.onerror."}, {"owner": {"reputation": 673, "user_id": 1155858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e2febc1a22ce3d42215b04c2b790fd4?s=128&d=identicon&r=PG", "display_name": "Lars Moelleken", "link": "https://stackoverflow.com/users/1155858/lars-moelleken"}, "reply_to_user": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1553720491, "post_id": 55386219, "comment_id": 97494639, "body": "I know, but how can I capture this errors? Because if I had statistics / error reports about this issues I would know where to fix it. :-/"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1553720721, "post_id": 55386219, "comment_id": 97494755, "body": "It is part of chrome, they do not expose it to JavaScript. Or if they do, it is some hidden api, but I doubt it is."}], "owner": {"reputation": 673, "user_id": 1155858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e2febc1a22ce3d42215b04c2b790fd4?s=128&d=identicon&r=PG", "display_name": "Lars Moelleken", "link": "https://stackoverflow.com/users/1155858/lars-moelleken"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1553719758, "creation_date": 1553719758, "question_id": 55386219, "link": "https://stackoverflow.com/questions/55386219/how-can-i-capture-errors-from-chrome-dev-console", "title": "How can I capture errors from chrome dev console?", "body": "<p>I see errors like this <code>[DOM] Found 2 elements with non-unique id #element_id</code> in the dev console, but how can I capture this errors?</p>\n\n<p>For \"normal\" errors I already registered a global error handling, but this special chrome errors are not reported?</p>\n\n<p>example: global js error handling\n<a href=\"https://gist.github.com/voku/79cc77eab5da0374092a7a3a09da16c1\" rel=\"nofollow noreferrer\">https://gist.github.com/voku/79cc77eab5da0374092a7a3a09da16c1</a></p>\n"}, {"tags": ["javascript", "node.js", "passport.js", "facebook-authentication"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 10613285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1406c1ad09a51ba8efebb15a34845aa7?s=128&d=identicon&r=PG&f=1", "display_name": "vijju", "link": "https://stackoverflow.com/users/10613285/vijju"}, "edited": false, "score": 0, "creation_date": 1553720764, "post_id": 55386398, "comment_id": 97494778, "body": "That was solved. Now I&#39;m getting Error validating verification code. Please make sure your redirect_uri is identical to the one you used in the OAuth dialog request                     But facebook doesn&#39;t allow to put localhost uri in redirect uri ox"}, {"owner": {"reputation": 9602, "user_id": 836277, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/STgnX.jpg?s=128&g=1", "display_name": "Chris Hawkes", "link": "https://stackoverflow.com/users/836277/chris-hawkes"}, "reply_to_user": {"reputation": 15, "user_id": 10613285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1406c1ad09a51ba8efebb15a34845aa7?s=128&d=identicon&r=PG&f=1", "display_name": "vijju", "link": "https://stackoverflow.com/users/10613285/vijju"}, "edited": false, "score": 0, "creation_date": 1553720869, "post_id": 55386398, "comment_id": 97494815, "body": "what about 127.0.0.1:port?"}, {"owner": {"reputation": 15, "user_id": 10613285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1406c1ad09a51ba8efebb15a34845aa7?s=128&d=identicon&r=PG&f=1", "display_name": "vijju", "link": "https://stackoverflow.com/users/10613285/vijju"}, "edited": false, "score": 1, "creation_date": 1553721827, "post_id": 55386398, "comment_id": 97495275, "body": "Solved. Thanks for your help @Chris. I was using the wrong callbackURL. Corrected url is: <b>/facebook/redirect</b>"}, {"owner": {"reputation": 9602, "user_id": 836277, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/STgnX.jpg?s=128&g=1", "display_name": "Chris Hawkes", "link": "https://stackoverflow.com/users/836277/chris-hawkes"}, "reply_to_user": {"reputation": 15, "user_id": 10613285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1406c1ad09a51ba8efebb15a34845aa7?s=128&d=identicon&r=PG&f=1", "display_name": "vijju", "link": "https://stackoverflow.com/users/10613285/vijju"}, "edited": false, "score": 0, "creation_date": 1553779415, "post_id": 55386398, "comment_id": 97517631, "body": "ah okay forward slash on the beginning than.  I read on github that it failed without the end one.  I&#39;m glad you figured it out."}], "tags": [], "owner": {"reputation": 9602, "user_id": 836277, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/STgnX.jpg?s=128&g=1", "display_name": "Chris Hawkes", "link": "https://stackoverflow.com/users/836277/chris-hawkes"}, "is_accepted": true, "score": 1, "last_activity_date": 1553720539, "creation_date": 1553720539, "answer_id": 55386398, "question_id": 55386200, "link": "https://stackoverflow.com/questions/55386200/i-am-trying-to-authenticate-with-facebook-but-getting-error-tokenerror-malforme/55386398#55386398", "title": "I am trying to authenticate with facebook but getting error TokenError: Malformed auth code", "body": "<p>Try adding a trailing slash to the redirect URI</p>\n\n<pre><code>passport.use(new FacebookStrategy({\n    clientID: FACEBOOK_APP_ID,\n    clientSecret: FACEBOOK_SECRET_KEY,    \n    callbackURL: \"facebook/redirect/\"\n  },\n  function(accessToken, refreshToken, profile, done) {\n    console.log(\"authenticated\");\n  }\n));\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 10613285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1406c1ad09a51ba8efebb15a34845aa7?s=128&d=identicon&r=PG&f=1", "display_name": "vijju", "link": "https://stackoverflow.com/users/10613285/vijju"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 388, "favorite_count": 0, "accepted_answer_id": 55386398, "answer_count": 1, "score": 1, "last_activity_date": 1553720539, "creation_date": 1553719698, "question_id": 55386200, "link": "https://stackoverflow.com/questions/55386200/i-am-trying-to-authenticate-with-facebook-but-getting-error-tokenerror-malforme", "title": "I am trying to authenticate with facebook but getting error TokenError: Malformed auth code", "body": "<p>I am trying to authenticate user with facebook login using passport.js. I am able to login to facebook then I get the below error</p>\n\n<p>TokenError: Malformed auth code.</p>\n\n<pre><code>\napp.get('/facebook',passport.authenticate('facebook'));\n\npassport.use(new FacebookStrategy({\n    clientID: FACEBOOK_APP_ID,\n    clientSecret: FACEBOOK_SECRET_KEY,    \n    callbackURL: \"facebook/redirect\"\n  },\n  function(accessToken, refreshToken, profile, done) {\n    console.log(\"authenticated\");\n  }\n));\n\napp.get(\"/facebook/redirect\",passport.authenticate(\"facebook\"),function(req,res)\n{\n    console.log(\"hey\");\n});\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 1, "creation_date": 1553719802, "post_id": 55386193, "comment_id": 97494286, "body": "Please add the relevant HTML so we can replicate your issue. Also, don&#39;t use <code>.innerHTML</code> when the string doesn&#39;t contain any HTML. Use <code>.textContent</code> instead."}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1553719935, "post_id": 55386193, "comment_id": 97494350, "body": "Also, understand that <code>setInterval()</code> and <code>setTimeout()</code> don&#39;t guarantee a time to wait until your function runs since JavaScript is single-threaded. The time you provide is the absolute minimum amount of time you might have to wait. If you need more precision, try Moment.js."}, {"owner": {"reputation": 15279, "user_id": 1058134, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/44W6b.png?s=128&g=1", "display_name": "Huangism", "link": "https://stackoverflow.com/users/1058134/huangism"}, "edited": false, "score": 0, "creation_date": 1553719941, "post_id": 55386193, "comment_id": 97494356, "body": "How do you know it is losing a second? what do you see and what are you expected to see?"}, {"owner": {"reputation": 7246, "user_id": 1399275, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/eRKYa.jpg?s=128&g=1", "display_name": "Rob Scott", "link": "https://stackoverflow.com/users/1399275/rob-scott"}, "edited": false, "score": 1, "creation_date": 1553720061, "post_id": 55386193, "comment_id": 97494427, "body": "<code>setInterval()</code> waits whatever time you put in, then keeps going. You have it set to 1000ms, which is equal to 1s. Hence why it starts 1s late, as you put it. <code>setTimeout(function, milliseconds)</code> Executes a function, after waiting a specified number of milliseconds.  <code>setInterval(function, milliseconds)</code> Same as setTimeout(), but repeats the execution of the function continuously."}, {"owner": {"reputation": 4469, "user_id": 479156, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/x9N3C.jpg?s=128&g=1", "display_name": "Ivar", "link": "https://stackoverflow.com/users/479156/ivar"}, "edited": false, "score": 0, "creation_date": 1553720147, "post_id": 55386193, "comment_id": 97494460, "body": "If what Rob says is indeed the issue, then see <a href=\"https://stackoverflow.com/questions/6685396/execute-the-setinterval-function-without-delay-the-first-time\">Execute the setInterval function without delay the first time</a>."}, {"owner": {"reputation": 14840, "user_id": 628699, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4db7defe750f581c78a607c4fab5a26d?s=128&d=identicon&r=PG", "display_name": "imjared", "link": "https://stackoverflow.com/users/628699/imjared"}, "edited": false, "score": 0, "creation_date": 1553720568, "post_id": 55386193, "comment_id": 97494679, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/6685396/execute-the-setinterval-function-without-delay-the-first-time\">Execute the setInterval function without delay the first time</a>"}, {"owner": {"reputation": 183, "user_id": 11116977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZpus.jpg?s=128&g=1", "display_name": "Noah B", "link": "https://stackoverflow.com/users/11116977/noah-b"}, "edited": false, "score": 0, "creation_date": 1553720576, "post_id": 55386193, "comment_id": 97494680, "body": "The easy solution is to move the function out of your setInterval call.  Call that function directly and in your setInverval call."}, {"owner": {"reputation": 41, "user_id": 11268712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49db17115aa938ecdcdfe59958d9729?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/11268712/nick"}, "edited": false, "score": 0, "creation_date": 1553720718, "post_id": 55386193, "comment_id": 97494753, "body": "I&#39;ve updated the post with the suggested edits and clarifications.  I&#39;ll try <code>setTimeout(function, milliseconds)</code> instead."}, {"owner": {"reputation": 7246, "user_id": 1399275, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/eRKYa.jpg?s=128&g=1", "display_name": "Rob Scott", "link": "https://stackoverflow.com/users/1399275/rob-scott"}, "edited": false, "score": 0, "creation_date": 1553720745, "post_id": 55386193, "comment_id": 97494766, "body": "Upon further reading - <a href=\"https://javascript.info/settimeout-setinterval\" rel=\"nofollow noreferrer\">javascript.info/settimeout-setinterval</a> - your code consumes part of the interval. Here&#39;s also a very good explanation of real time counters in JS -- <a href=\"https://stackoverflow.com/questions/20618355/the-simplest-possible-javascript-countdown-timer\" title=\"the simplest possible javascript countdown timer\">stackoverflow.com/questions/20618355/&hellip;</a>"}, {"owner": {"reputation": 4469, "user_id": 479156, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/x9N3C.jpg?s=128&g=1", "display_name": "Ivar", "link": "https://stackoverflow.com/users/479156/ivar"}, "edited": false, "score": 1, "creation_date": 1553720840, "post_id": 55386193, "comment_id": 97494801, "body": "&quot;<i>the timer looks like it is starting from 4 instead of 5.</i>&quot; Well it is. Using <code>++time</code> and <code>--time</code> will first increment/decrement the value and then print it. You set it originally to 5 so the first it prints will be 4. If you want to first print the value and then increment/decrement, you&#39;ll need to use the postfix increment/decrement operator (<code>time++</code>/<code>time--</code>)."}, {"owner": {"reputation": 41, "user_id": 11268712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49db17115aa938ecdcdfe59958d9729?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/11268712/nick"}, "reply_to_user": {"reputation": 4469, "user_id": 479156, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/x9N3C.jpg?s=128&g=1", "display_name": "Ivar", "link": "https://stackoverflow.com/users/479156/ivar"}, "edited": false, "score": 1, "creation_date": 1553721229, "post_id": 55386193, "comment_id": 97494977, "body": "@Ivar, (<code>time++&#47;time--</code>) made it function as expected."}], "answers": [{"tags": [], "owner": {"reputation": 183, "user_id": 11116977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZpus.jpg?s=128&g=1", "display_name": "Noah B", "link": "https://stackoverflow.com/users/11116977/noah-b"}, "is_accepted": false, "score": 1, "last_activity_date": 1553721021, "creation_date": 1553721021, "answer_id": 55386496, "question_id": 55386193, "link": "https://stackoverflow.com/questions/55386193/countdown-timer-is-losing-a-second-when-initiated-how-can-i-avoid-this/55386496#55386496", "title": "Countdown timer is losing a second when initiated. How can I avoid this?", "body": "<p>I updated your interval call to be a separate function.  This will require all of the variables to be moved out of the startCountdown function so that they are globals.  There are better ways to do this, but it will solve your problem.</p>\n\n<pre><code>var setPlayers = ['Name 1', 'Name 2', 'Name 3'];\nvar playersIndex = 0;\nvar countdownState = 0;\nvar time = 5;\nvar messageEl = document.getElementById('message');\nvar timer = document.getElementById('timer');\n\nfunction startCountdown() \n{\n\n    countDown();\n    var standUp = setInterval(countDown, 1000);\n}\n\nfunction countDown()\n{\n    // if countownState = 0, count down.\n    if(countdownState == 0)\n    {\n\n        // if all players have been, end the timer\n        if(playersIndex == setPlayers.length)\n        {\n            clearInterval(standUp);\n            messageEl.innerHTML = 'Finished!';\n            timer.innerHTML = '';\n\n            // if time reaches 0 switch the state and start counting up\n        } \n        else if(time == 0) \n        {\n            countdownState = 1;\n            timer.innerHTML = pad(parseInt(time/60,10)) + ':' + pad(++time%60);\n\n            // usual countdown \n        } \n        else \n        {\n            timer.innerHTML = pad(parseInt(time/60,10)) + ':' + pad(--time%60);\n        }\n        // if countownState = 1, count up.\n    } \n    else \n    {\n        timer.innerHTML = pad(parseInt(time/60,10)) + ':' + pad(++time%60);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 11268712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49db17115aa938ecdcdfe59958d9729?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/11268712/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1553721021, "creation_date": 1553719683, "last_edit_date": 1553720194, "question_id": 55386193, "link": "https://stackoverflow.com/questions/55386193/countdown-timer-is-losing-a-second-when-initiated-how-can-i-avoid-this", "title": "Countdown timer is losing a second when initiated. How can I avoid this?", "body": "<p>I'm trying to create a countdown timer that counts down from a given time and when it reaches 0, it starts counting back up again. </p>\n\n<p>My code works (after a lot of trial and error) however it's losing the first second after being initiated.</p>\n\n<p>My thinking is that it's not an optimized solution and it's taking a second or more to initiate.</p>\n\n<p>Is there a better way to achieve this?</p>\n\n<p><strong>Javascript:</strong></p>\n\n<pre><code>function startCountdown() {\n        var setPlayers = ['Name 1', 'Name 2', 'Name 3'];\n        var playersIndex = 0;\n        var countdownState = 0;\n        var time = 5;\n        var messageEl = document.getElementById('message');\n        var timer = document.getElementById('timer');\n\n        var standUp = setInterval(function(){\n\n            // if countownState = 0, count down.\n            if(countdownState == 0){\n\n                // if all players have been, end the timer\n                if(playersIndex == setPlayers.length){\n                    clearInterval(standUp);\n                    messageEl.innerHTML = 'Finished!';\n                    timer.innerHTML = '';\n\n                // if time reaches 0 switch the state and start counting up\n                } else if(time == 0) {\n                    countdownState = 1;\n                    timer.innerHTML = pad(parseInt(time/60,10)) + ':' + pad(++time%60);\n\n                // usual countdown \n                } else {\n                    timer.innerHTML = pad(parseInt(time/60,10)) + ':' + pad(--time%60);\n                }\n            // if countownState = 1, count up.\n            } else {\n                timer.innerHTML = pad(parseInt(time/60,10)) + ':' + pad(++time%60);\n            }\n        }, 1000);\n    }\n</code></pre>\n\n<p>I'll have a seperate function that increments the player index and starts the timer again.</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;div id=\"timer\"&gt;&lt;/div&gt;\n&lt;div id=\"message\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>When I load the page, the timer looks like it is starting from 4 instead of 5.</p>\n"}, {"tags": ["javascript", "reactjs", "jsx"], "comments": [{"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 1, "creation_date": 1553720233, "post_id": 55386183, "comment_id": 97494512, "body": "Possible duplicate: <a href=\"https://stackoverflow.com/q/36104302/218196\">How do I convert a string to jsx?</a>"}, {"owner": {"reputation": 1474, "user_id": 2350085, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/QE3fS.png?s=128&g=1", "display_name": "xDreamCoding", "link": "https://stackoverflow.com/users/2350085/xdreamcoding"}, "edited": false, "score": 0, "creation_date": 1553720311, "post_id": 55386183, "comment_id": 97494548, "body": "This is more like a question for the correct regex replacement pattern."}, {"owner": {"reputation": 7380, "user_id": 8437099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/108936759794462/picture?type=large", "display_name": "kyun", "link": "https://stackoverflow.com/users/8437099/kyun"}, "reply_to_user": {"reputation": 1474, "user_id": 2350085, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/QE3fS.png?s=128&g=1", "display_name": "xDreamCoding", "link": "https://stackoverflow.com/users/2350085/xdreamcoding"}, "edited": false, "score": 0, "creation_date": 1553720394, "post_id": 55386183, "comment_id": 97494593, "body": "@xDreamCoding but I want to return <code>jsx</code>"}], "answers": [{"comments": [{"owner": {"reputation": 7380, "user_id": 8437099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/108936759794462/picture?type=large", "display_name": "kyun", "link": "https://stackoverflow.com/users/8437099/kyun"}, "edited": false, "score": 0, "creation_date": 1553720771, "post_id": 55386396, "comment_id": 97494781, "body": "Thank you, but I am sorry. I want <code>jsx</code>, not <code>string</code>"}, {"owner": {"reputation": 3074, "user_id": 7253451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIjsy.jpg?s=128&g=1", "display_name": "G.aziz", "link": "https://stackoverflow.com/users/7253451/g-aziz"}, "reply_to_user": {"reputation": 7380, "user_id": 8437099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/108936759794462/picture?type=large", "display_name": "kyun", "link": "https://stackoverflow.com/users/8437099/kyun"}, "edited": false, "score": 0, "creation_date": 1553721039, "post_id": 55386396, "comment_id": 97494896, "body": "for jsx just replace ${} with {} and remove quotes"}, {"owner": {"reputation": 7380, "user_id": 8437099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/108936759794462/picture?type=large", "display_name": "kyun", "link": "https://stackoverflow.com/users/8437099/kyun"}, "edited": false, "score": 0, "creation_date": 1553721385, "post_id": 55386396, "comment_id": 97495053, "body": "it is too close... but I can get a <code>string</code> like <code>&lt;b&gt;something&lt;&#47;b&gt;</code>"}, {"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 1, "creation_date": 1553721994, "post_id": 55386396, "comment_id": 97495367, "body": "Just some friendly feed back: your regex pattern is a very odd. <code>[**]</code> is the same as <code>[*]</code> and <code>.*.</code> is the same as <code>.+</code>. In other words, your pattern matches a <code>*</code> followed by any number of characters and another <code>*</code> (e.g. <code>*foo* bar *baz*</code> becomes <code>&lt;b&gt; foo bar baz&lt;&#47;b&gt;</code>). Also, I&#39;d recommend using a capturing group to include only the parts you care about inside the result rather than making a second pass through to remove the <code>*</code> characters."}], "tags": [], "owner": {"reputation": 3074, "user_id": 7253451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIjsy.jpg?s=128&g=1", "display_name": "G.aziz", "link": "https://stackoverflow.com/users/7253451/g-aziz"}, "is_accepted": false, "score": 1, "last_activity_date": 1553780284, "last_edit_date": 1553780284, "creation_date": 1553720526, "answer_id": 55386396, "question_id": 55386183, "link": "https://stackoverflow.com/questions/55386183/replace-a-string-to-jsx-tag/55386396#55386396", "title": "Replace a string to JSX Tag", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let str = \"You would get items\\nwhich value about **$50**\\nif you **pre-booked** it!\"\r\n\r\nconst res = str.split('\\n').map(line =&gt;\r\n\r\n  `&lt;span&gt;  ${line.replace(/\\*\\*(.*?).\\*\\*/,match =&gt; `&lt;b&gt;${match.substring(2, match.length - 2 )}&lt;/b&gt;`)} &lt;br/&gt; &lt;/span&gt;`\r\n)\r\n\r\nconsole.log(res)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 3074, "user_id": 7253451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIjsy.jpg?s=128&g=1", "display_name": "G.aziz", "link": "https://stackoverflow.com/users/7253451/g-aziz"}, "edited": false, "score": 0, "creation_date": 1553721095, "post_id": 55386460, "comment_id": 97494927, "body": "it shoud be generic not only <code>\\$50|pre-booked)&#47;</code> but any word between ** word **"}, {"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "reply_to_user": {"reputation": 3074, "user_id": 7253451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIjsy.jpg?s=128&g=1", "display_name": "G.aziz", "link": "https://stackoverflow.com/users/7253451/g-aziz"}, "edited": false, "score": 0, "creation_date": 1553721441, "post_id": 55386460, "comment_id": 97495078, "body": "@G.aziz I see. I&#39;ve updated my answer to reflect the new requirements."}, {"owner": {"reputation": 7380, "user_id": 8437099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/108936759794462/picture?type=large", "display_name": "kyun", "link": "https://stackoverflow.com/users/8437099/kyun"}, "edited": false, "score": 0, "creation_date": 1553721443, "post_id": 55386460, "comment_id": 97495079, "body": "It is exactly what I found.Thank you very much."}], "tags": [], "owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "is_accepted": true, "score": 3, "last_activity_date": 1553721384, "last_edit_date": 1553721384, "creation_date": 1553720814, "answer_id": 55386460, "question_id": 55386183, "link": "https://stackoverflow.com/questions/55386183/replace-a-string-to-jsx-tag/55386460#55386460", "title": "Replace a string to JSX Tag", "body": "<p>Within your first <code>map</code>, you can split the line by those specific keyword. When you include a capturing group in the regex to <code>split</code>, the captured substring will be included in the result array, so you can do something like this:</p>\n\n<pre><code>&lt;React.Fragment&gt;\n  {\n    str.split('\\n').map(line =&gt; (\n      &lt;span&gt;\n        {line.split(/\\*\\*(.+?)\\*\\*/).map((s, i) =&gt; i % 2 ? (&lt;b&gt;{s}&lt;/b&gt;) : s)}\n        &lt;br/&gt;\n      &lt;/span&gt;\n    ))\n  }\n&lt;/React.Fragment&gt;\n</code></pre>\n\n<p>This looks like markdown. You should also consider using a markdown plugin like <a href=\"https://www.npmjs.com/package/react-markdown\" rel=\"nofollow noreferrer\"><code>react-markdown</code></a> to make potentially your life easier.</p>\n"}], "owner": {"reputation": 7380, "user_id": 8437099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/108936759794462/picture?type=large", "display_name": "kyun", "link": "https://stackoverflow.com/users/8437099/kyun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1008, "favorite_count": 0, "accepted_answer_id": 55386460, "answer_count": 2, "score": 3, "last_activity_date": 1553780284, "creation_date": 1553719644, "last_edit_date": 1553720664, "question_id": 55386183, "link": "https://stackoverflow.com/questions/55386183/replace-a-string-to-jsx-tag", "title": "Replace a string to JSX Tag", "body": "<p>I have a string like it</p>\n\n<pre><code>let str = \"You would get items\\nwhich value about **$50**\\nif you **pre-booked** it!\"\n</code></pre>\n\n<p>I would like to replace <code>\\n</code> to<code>&lt;br/&gt;</code> and I achieved it with the below code.</p>\n\n<pre><code>str.split('\\n').map((line)=&gt;(&lt;span&gt;{line}&lt;br/&gt;&lt;/span&gt;)\n</code></pre>\n\n<p><strong>What I achieved</strong></p>\n\n<pre><code>&lt;span&gt;You would get items&lt;br/&gt;&lt;/span&gt;\n&lt;span&gt;which value about $50&lt;br/&gt;&lt;/span&gt;\n&lt;span&gt;if you pre-booked it!&lt;/span&gt;\n</code></pre>\n\n<p>And now, I want to emphasize some words like this.</p>\n\n<p><strong>What I expect</strong></p>\n\n<pre><code>&lt;span&gt;You would get items&lt;br/&gt;&lt;/span&gt;\n&lt;span&gt;which value about &lt;b&gt;$50&lt;/b&gt;&lt;span&gt;\n&lt;span&gt;if you &lt;b&gt;pre-booked&lt;/b&gt; it!&lt;/span&gt;\n</code></pre>\n\n<p>I want to use like the below it.</p>\n\n<pre><code>const TextFormat = ({text}) =&gt; (\n  &lt;React.Fragment&gt;\n    {\n      text.split('\\n').map((line, i) =&gt; (&lt;span key={i}&gt;{line}&lt;br/&gt;&lt;/span&gt;)\n    }\n  &lt;/React.Fragment&gt;\n)\n\n</code></pre>\n"}, {"tags": ["javascript", "qt", "qml", "qtquick2", "qtquickcontrols2"], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 1467985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45f7f23aab2d4eb482e0676beb7a4164?s=128&d=identicon&r=PG", "display_name": "Edwin Fernandez", "link": "https://stackoverflow.com/users/1467985/edwin-fernandez"}, "edited": false, "score": 0, "creation_date": 1553781845, "post_id": 55387274, "comment_id": 97519451, "body": "Im not sure I understand how it works but it does, I&#39;ll dig into it to understand it more. Thank you! The only thing is it does not trigger the handler when the mouse leaves the lineseries for example  <code>for(var name in dataset) {     var fun = function(name, point, state){         if (state){             console.log(&quot;&gt;&gt;&gt;&quot;+ name);         } else {            &#47;&#47;THIS NEVER GETS CALLED             console.log(&quot;EXITED: &quot; + name);     };     series.hovered.connect(partial(fun, name)); }</code>"}], "tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": false, "score": 1, "last_activity_date": 1553724830, "creation_date": 1553724830, "answer_id": 55387274, "question_id": 55386180, "link": "https://stackoverflow.com/questions/55386180/get-name-of-qml-lineseries-when-the-lineseries-is-hovered-over-lineseries-cre/55387274#55387274", "title": "Get name of QML LineSeries when the LineSeries is hovered over - (LineSeries created dynamically)", "body": "<p>A possible solution is to add arguments similar to <code>functools.partial()</code> in Python, and we are lucky since there is an equivalent implementation in <a href=\"https://stackoverflow.com/a/33261231/6622587\">this post</a>:</p>\n\n<pre><code>// https://stackoverflow.com/a/33261231/6622587\nfunction partial() {\n    var args = Array.prototype.slice.call(arguments);\n    var fn = args.shift();\n    return function() {\n        var nextArgs = Array.prototype.slice.call(arguments);\n        // replace null values with new arguments\n        args.forEach(function(val, i) {\n            if (val === null &amp;&amp; nextArgs.length) {\n                args[i] = nextArgs.shift();\n            }\n        });\n        // if we have more supplied arguments than null values\n        // then append to argument list\n        if (nextArgs.length) {\n            nextArgs.forEach(function(val) {\n                args.push(val);\n            });\n        }\n        return fn.apply(fn, args);\n    }\n}\n\n// ...\n\nfor(var name in dataset) {\n    var series = chart.createSeries(ChartView.SeriesTypeLine, name, xAxis, yAxis);\n    var fun = function(name, point, state){\n        if (state){\n            console.log(\"&gt;&gt;&gt;\"+ name);\n        }\n    };\n    series.hovered.connect(partial(fun, name));\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 79, "user_id": 1467985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45f7f23aab2d4eb482e0676beb7a4164?s=128&d=identicon&r=PG", "display_name": "Edwin Fernandez", "link": "https://stackoverflow.com/users/1467985/edwin-fernandez"}, "edited": false, "score": 0, "creation_date": 1553786427, "post_id": 55400200, "comment_id": 97522919, "body": "Thank you! This is the most straightforward answer and with this solution the hovered event is also fired when the mouse leaves the LineSeries. So I can catch it with this  <code>if (state) {   console.log(series.name); } else { console.log(&#39;Exited line series: &#39; + series.name); }</code>"}], "tags": [], "owner": {"reputation": 10381, "user_id": 2981610, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/BYsd3.jpg?s=128&g=1", "display_name": "folibis", "link": "https://stackoverflow.com/users/2981610/folibis"}, "is_accepted": true, "score": 1, "last_activity_date": 1553783574, "creation_date": 1553783574, "answer_id": 55400200, "question_id": 55386180, "link": "https://stackoverflow.com/questions/55386180/get-name-of-qml-lineseries-when-the-lineseries-is-hovered-over-lineseries-cre/55400200#55400200", "title": "Get name of QML LineSeries when the LineSeries is hovered over - (LineSeries created dynamically)", "body": "<p><code>name</code> contains the last value of the array when the iteration finished so the connect handler always will take this value. To avoid this behavior you should use closure as following:</p>\n\n<pre><code>    Component.onCompleted: {\n        var dataset = [\"aaa\",\"bbb\",\"ccc\"];\n\n        for(var name in dataset) {\n            var series = chart.createSeries(ChartView.SeriesTypeLine, dataset[name], xAxis, yAxis);\n\n            (function(series){\n                series.name = dataset[name];                    \n                series.hovered.connect(function (point, state)\n                {\n                    if (state)\n                    {\n                        console.log(series.name);\n                    }\n                });\n            })(series);\n\n        }\n    } \n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 1467985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45f7f23aab2d4eb482e0676beb7a4164?s=128&d=identicon&r=PG", "display_name": "Edwin Fernandez", "link": "https://stackoverflow.com/users/1467985/edwin-fernandez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 227, "favorite_count": 0, "accepted_answer_id": 55400200, "answer_count": 2, "score": 0, "last_activity_date": 1553783574, "creation_date": 1553719627, "question_id": 55386180, "link": "https://stackoverflow.com/questions/55386180/get-name-of-qml-lineseries-when-the-lineseries-is-hovered-over-lineseries-cre", "title": "Get name of QML LineSeries when the LineSeries is hovered over - (LineSeries created dynamically)", "body": "<p>I am trying to get a reference to a dynamically created LineSeries when hovered over. After the LinesSeries is created I attach a signal handler to the hovered event.</p>\n\n<p>The problem is:\nFrom the simplified example below, when I hover over the LineSeries it prints out the name of the last LineSeries that was added. When It should print the name of the series of each LineSeries added.\nFor example if 3 LineSeries were created with names [\"Line A\", \"Line B\", \"Line C\" ], when hovering over each it should print each corresponding name, but instead it printing, \"Line C\", for all 3 LineSeries hovered event handlers. What am I doing\nwrong?</p>\n\n<pre><code>//dataset is a dictionary(QVariant) of items where each item is the name of the line series\nfor(var name in dataset) {\n        var series = chart.createSeries(ChartView.SeriesTypeLine, name, xAxis, yAxis);\n        series.name = name;\n\n        series.hovered.connect(\n                    function (point,state){\n                        if (state){\n                            console.log(\"&gt;&gt;&gt;\"+ name); // &lt;- should print the name of each series\n                        }\n\n                    });\n</code></pre>\n\n<p>I have a feeling it has something to do with binding the current value of the name variable to the onhovered event handler but I am not sure how to do this. I know in regular JS they do something like</p>\n\n<p>functionName.bind( { ... code ... }, this );</p>\n\n<p>Thanks for your help.</p>\n\n<p>--E</p>\n"}, {"tags": ["javascript", "angularjs"], "comments": [{"owner": {"reputation": 466, "user_id": 940626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ba3a3e2e304d3c16e146083e2805aed?s=128&d=identicon&r=PG", "display_name": "Frank Witte", "link": "https://stackoverflow.com/users/940626/frank-witte"}, "edited": false, "score": 1, "creation_date": 1553728890, "post_id": 55386112, "comment_id": 97497693, "body": "Any perticular reason you changed the <code>ul</code> and <code>li</code> in <code>div</code>s?"}, {"owner": {"reputation": 1711, "user_id": 1361687, "user_type": "registered", "accept_rate": 96, "profile_image": "https://graph.facebook.com/1197961179/picture?type=large", "display_name": "&#194;ngelo Rigo", "link": "https://stackoverflow.com/users/1361687/%c3%82ngelo-rigo"}, "reply_to_user": {"reputation": 466, "user_id": 940626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ba3a3e2e304d3c16e146083e2805aed?s=128&d=identicon&r=PG", "display_name": "Frank Witte", "link": "https://stackoverflow.com/users/940626/frank-witte"}, "edited": false, "score": 0, "creation_date": 1553771450, "post_id": 55386112, "comment_id": 97512464, "body": "in fact i am duplicating information from the tabs inside the first tab, to avoid users saying they did not find that information so i change to divs inside the first tab"}, {"owner": {"reputation": 1711, "user_id": 1361687, "user_type": "registered", "accept_rate": 96, "profile_image": "https://graph.facebook.com/1197961179/picture?type=large", "display_name": "&#194;ngelo Rigo", "link": "https://stackoverflow.com/users/1361687/%c3%82ngelo-rigo"}, "reply_to_user": {"reputation": 466, "user_id": 940626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ba3a3e2e304d3c16e146083e2805aed?s=128&d=identicon&r=PG", "display_name": "Frank Witte", "link": "https://stackoverflow.com/users/940626/frank-witte"}, "edited": false, "score": 0, "creation_date": 1553772791, "post_id": 55386112, "comment_id": 97513333, "body": "but can be into any tag so that the link will work"}, {"owner": {"reputation": 2475, "user_id": 5941620, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/mlHRJ.png?s=128&g=1", "display_name": "F&#233;lix Paradis", "link": "https://stackoverflow.com/users/5941620/f%c3%a9lix-paradis"}, "edited": false, "score": 0, "creation_date": 1553775474, "post_id": 55386112, "comment_id": 97514935, "body": "Does the active class get assigned? What if you manually add the active class to your &lt;a&gt;, does it get highlighted?"}, {"owner": {"reputation": 1711, "user_id": 1361687, "user_type": "registered", "accept_rate": 96, "profile_image": "https://graph.facebook.com/1197961179/picture?type=large", "display_name": "&#194;ngelo Rigo", "link": "https://stackoverflow.com/users/1361687/%c3%82ngelo-rigo"}, "edited": false, "score": 0, "creation_date": 1553778757, "post_id": 55386112, "comment_id": 97517159, "body": "The active class of the tabs is not assigned, how can i manually add the active class  ?"}], "owner": {"reputation": 1711, "user_id": 1361687, "user_type": "registered", "accept_rate": 96, "profile_image": "https://graph.facebook.com/1197961179/picture?type=large", "display_name": "&#194;ngelo Rigo", "link": "https://stackoverflow.com/users/1361687/%c3%82ngelo-rigo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553774997, "creation_date": 1553719371, "last_edit_date": 1553774997, "question_id": 55386112, "link": "https://stackoverflow.com/questions/55386112/angularjs-click-on-a-link-and-highlight-a-tab", "title": "Angularjs click on a link and highlight a tab", "body": "<p>I need to click on a link and maintain a tab active, \nthis code are the tabs that are working right, maintaining the tab active:</p>\n\n<pre><code>&lt;ul class=\"nav nav-tabs\" role=\"tablist\" id=\"MovieContent\"&gt;\n    &lt;li class=\"nav-item\" ng-show=\"checkLength(movieSessions[mov.ID]['DUB'])\"&gt;                                                    \n        &lt;a class=\"tab nav-link\" data-toggle=\"tab\" href=\"#Dubled_{{mov.ID}}\"\n            ng-class=\"{active: language=='dubbed'}\" ng-click=\"language='dubbed'\"&gt; \n            Dubbed\n        &lt;/a&gt;\n    &lt;/li&gt;\n    &lt;li class=\"nav-item\" ng-show=\"checkLength(movieSessions[mov.ID]['LEG'])\"&gt;\n        &lt;a class=\"tab nav-link\" data-toggle=\"tab\" href=\"#Legended_{{mov.ID}}\"\n            ng-class=\"{active: language=='legended'}\" ng-click=\"language='legended'\"&gt;\n             Legended\n        &lt;/a&gt;\n    &lt;/li&gt;\n    &lt;li class=\"nav-item\" ng-show=\"checkLength(movieSessions[mov.ID]['NAC'])\"&gt;\n        &lt;a class=\"tab nav-link\" data-toggle=\"tab\" href=\"#National_{{mov.ID}}\"\n            ng-class=\"{active: language=='national'}\" ng-click=\"language='national'\"&gt;\n             National\n        &lt;/a&gt;\n    &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>This is my attempt and it is not maintaining active the clicked tab, this code is inside the first tab only:</p>\n\n<pre><code>&lt;div class=\"nav nav-tabs\" role=\"tablist\" id=\"MovieContent\"&gt;\n    &lt;div class=\"nav-item\" ng-show=\"checkLength(movieSessions[mov.ID]['DUB'])\"&gt;                                                    \n        &lt;a class=\"tab nav-link\" data-toggle=\"tab\" href=\"#Dubled_{{mov.ID}}\"\n            ng-class=\"{active: language=='dubbed'}\" ng-click=\"language='dubbed'\"&gt; \n            Dubbed\n        &lt;/a&gt;\n    &lt;/div&gt;\n    &lt;div class=\"nav-item\" ng-show=\"checkLength(movieSessions[mov.ID]['LEG'])\"&gt;\n        &lt;a class=\"tab nav-link\" data-toggle=\"tab\" href=\"#Legended_{{mov.ID}}\"\n            ng-class=\"{active: language=='legended'}\" ng-click=\"language='legended'\"&gt;\n             Legended\n        &lt;/a&gt;\n    &lt;/div&gt;\n    &lt;div class=\"nav-item\" ng-show=\"checkLength(movieSessions[mov.ID]['NAC'])\"&gt;\n        &lt;a class=\"tab nav-link\" data-toggle=\"tab\" href=\"#National_{{mov.ID}}\"\n            ng-class=\"{active: language=='national'}\" ng-click=\"language='national'\"&gt;\n             National\n        &lt;/a&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "html", "css", "dom"], "answers": [{"comments": [{"owner": {"reputation": 909, "user_id": 6949583, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207259784601151/picture?type=large", "display_name": "Federico Galfione", "link": "https://stackoverflow.com/users/6949583/federico-galfione"}, "edited": false, "score": 0, "creation_date": 1553720757, "post_id": 55386288, "comment_id": 97494774, "body": "@Duncan Thacker&#39;s answer is a better solution than mine, but you have to click and focus the input before. If you don&#39;t do so, the input will not hide when you click outside of it."}], "tags": [], "owner": {"reputation": 909, "user_id": 6949583, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207259784601151/picture?type=large", "display_name": "Federico Galfione", "link": "https://stackoverflow.com/users/6949583/federico-galfione"}, "is_accepted": false, "score": 0, "last_activity_date": 1553720071, "creation_date": 1553720071, "answer_id": 55386288, "question_id": 55386065, "link": "https://stackoverflow.com/questions/55386065/how-to-hide-input-when-you-click-outside-of-it/55386288#55386288", "title": "How to hide input when you click outside of it?", "body": "<p>There you go. It hide the input when you click the body (outside the icon) and the toggle is preserved.</p>\n\n<pre><code>const searchIcon = document.getElementById('search-icon');\nconst searchInput = document.getElementById('search-input');\n\nsearchInput.addEventListener('click', function(event){\n  event.stopPropagation();\n});\n\nsearchIcon.addEventListener('click', function(event) {\n  searchInput.classList.toggle('is-active');\n  searchInput.classList.toggle('transform-is-active');\n  event.stopPropagation();\n});\n\ndocument.body.addEventListener('click', function(event) {\n  searchInput.classList.remove('is-active');\n  searchInput.classList.remove('transform-is-active');\n  event.preventDefault();\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4625, "user_id": 5009210, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wmm8M.png?s=128&g=1", "display_name": "Duncan Thacker", "link": "https://stackoverflow.com/users/5009210/duncan-thacker"}, "is_accepted": false, "score": 1, "last_activity_date": 1553720552, "last_edit_date": 1553720552, "creation_date": 1553720239, "answer_id": 55386339, "question_id": 55386065, "link": "https://stackoverflow.com/questions/55386065/how-to-hide-input-when-you-click-outside-of-it/55386339#55386339", "title": "How to hide input when you click outside of it?", "body": "<p>I'd use the <code>blur</code> event to capture this:</p>\n\n<pre><code>const searchIcon = document.getElementById('search-icon');\nconst searchInput = document.getElementById('search-input');\n\nsearchIcon.addEventListener('click', function(event) {\n  searchInput.classList.toggle('is-active');\n  searchInput.classList.toggle('transform-is-active');\n  event.stopPropagation();\n});\n\nsearchInput.addEventListener('blur', function(event) {\n  searchInput.classList.remove('is-active');\n  searchInput.classList.remove('transform-is-active');\n});\n</code></pre>\n\n<p>More details here: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/blur_event\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Element/blur_event</a></p>\n"}, {"tags": [], "owner": {"reputation": 2410, "user_id": 3169136, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cXGl7.jpg?s=128&g=1", "display_name": "Hassan Siddiqui", "link": "https://stackoverflow.com/users/3169136/hassan-siddiqui"}, "is_accepted": true, "score": 1, "last_activity_date": 1553721111, "creation_date": 1553721111, "answer_id": 55386523, "question_id": 55386065, "link": "https://stackoverflow.com/questions/55386065/how-to-hide-input-when-you-click-outside-of-it/55386523#55386523", "title": "How to hide input when you click outside of it?", "body": "<p>Try this, i hope it'll help you out. Thanks</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>///////////// Nav - Search Functionality\r\n\r\n// Toggle showing and not showing the input\r\n\r\nconst searchIcon = document.getElementById('search-icon');\r\nconst searchInput = document.getElementById('search-input');\r\n\r\nsearchIcon.addEventListener('click', function() {\r\n  searchInput.classList.toggle('is-active');\r\n  searchInput.classList.toggle('transform-is-active');\r\n  event.stopPropagation();\r\n});\r\n\r\nwindow.addEventListener('click',function(e){\r\n  if(e.target != document.querySelector('div.a')){\r\n    searchInput.classList.remove('is-active');\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.is-active {\r\n  display: block !important;\r\n}\r\n\r\n.is-hidden {\r\n  display: none !important;\r\n}\r\n\r\n.transform-is-active {\r\n  width: 200px !important;\r\n}\r\n\r\n#search-input {\r\n  display: none;\r\n  margin-right: 10px;\r\n  transition: all 2s ease;\r\n  position: relative;\r\n  z-index: 999999;\r\n}\r\n#search-icon {\r\n  cursor: pointer;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!--Search--&gt;\r\n&lt;input id=\"search-input\" class=\"input\" type=\"text\" placeholder=\"Search...\"&gt;\r\n&lt;img id=\"search-icon\" src=\"https://static.thenounproject.com/png/101791-200.png\" alt=\"Search\" tabindex=\"0\" /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 176, "user_id": 6929203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbed765b5e8f3b4b333d6a14cdf7b9d?s=128&d=identicon&r=PG&f=1", "display_name": "JD Fill", "link": "https://stackoverflow.com/users/6929203/jd-fill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 285, "favorite_count": 0, "accepted_answer_id": 55386523, "answer_count": 3, "score": 0, "last_activity_date": 1553732032, "creation_date": 1553719186, "last_edit_date": 1553732032, "question_id": 55386065, "link": "https://stackoverflow.com/questions/55386065/how-to-hide-input-when-you-click-outside-of-it", "title": "How to hide input when you click outside of it?", "body": "<p>I have a use case where a user clicks on a search icon, and it display an input.</p>\n\n<p>I want to make it so that when the input is open, anytime you click outside of the input, it hides it.</p>\n\n<p>Of course, I want to keep the toggle I have in place currently as well.</p>\n\n<p>Trying to figure out a solution in vanilla JavaScript, not jQuery.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>///////////// Nav - Search Functionality\r\n\r\n// Toggle showing and not showing the input\r\n\r\nconst searchIcon = document.getElementById('search-icon');\r\nconst searchInput = document.getElementById('search-input');\r\n\r\nsearchIcon.addEventListener('click', function() {\r\n  searchInput.classList.toggle('is-active');\r\n  searchInput.classList.toggle('transform-is-active');\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.is-active {\r\n  display: block !important;\r\n}\r\n\r\n.is-hidden {\r\n  display: none !important;\r\n}\r\n\r\n.transform-is-active {\r\n  width: 200px !important;\r\n}\r\n\r\n#search-input {\r\n  display: none;\r\n  margin-right: 10px;\r\n  transition: all 2s ease;\r\n}\r\n\r\n#search-icon {\r\n  cursor: pointer;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!--Search--&gt;\r\n&lt;input id=\"search-input\" class=\"input\" type=\"text\" placeholder=\"Search...\"&gt;\r\n&lt;img id=\"search-icon\" src=\"https://static.thenounproject.com/png/101791-200.png\" alt=\"Search\" tabindex=\"0\" /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "node.js", "database", "mongodb", "mongoose"], "comments": [{"owner": {"reputation": 1021, "user_id": 211827, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5441945c65e3a98df2e7a91dc7e9118c?s=128&d=identicon&r=PG", "display_name": "amcgregor", "link": "https://stackoverflow.com/users/211827/amcgregor"}, "edited": false, "score": 0, "creation_date": 1553793063, "post_id": 55386030, "comment_id": 97527160, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/38446346/mongoose-string-to-objectid\">Mongoose String to ObjectID</a>"}, {"owner": {"reputation": 1021, "user_id": 211827, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5441945c65e3a98df2e7a91dc7e9118c?s=128&d=identicon&r=PG", "display_name": "amcgregor", "link": "https://stackoverflow.com/users/211827/amcgregor"}, "edited": false, "score": 0, "creation_date": 1553793737, "post_id": 55386030, "comment_id": 97527574, "body": "\u2026or <a href=\"https://stackoverflow.com/questions/32619699/mongoose-saved-idss-as-a-string-instead-of-objectid\">Mongoose saved _id&#39;s as string instead of ObjectId</a> or <a href=\"https://stackoverflow.com/questions/54437890/mongoose-sometimes-save-objectid-as-string-some-times-no\">Mongoose sometimes save ObjectId as string\u2026</a> \u2014 while these relate to the data storage side of the problem, every single one features the solution."}], "answers": [{"comments": [{"owner": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "edited": false, "score": 0, "creation_date": 1553719467, "post_id": 55386123, "comment_id": 97494133, "body": "Can you provide a code example? I&#39;m not sure I understand."}, {"owner": {"reputation": 1021, "user_id": 211827, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5441945c65e3a98df2e7a91dc7e9118c?s=128&d=identicon&r=PG", "display_name": "amcgregor", "link": "https://stackoverflow.com/users/211827/amcgregor"}, "reply_to_user": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "edited": false, "score": 0, "creation_date": 1553719552, "post_id": 55386123, "comment_id": 97494170, "body": "@PeterWeyand I do not Mongoose, and I do not JS.  The answer is clear: typecast the value to a real <code>ObjectId</code> before attempting to query using the value.  A hex-encoded string != the binary value, the same as a base64-encoded string != the original binary value."}, {"owner": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "edited": false, "score": 0, "creation_date": 1553719646, "post_id": 55386123, "comment_id": 97494201, "body": "Alright, well thanks for your help, but this answer is not yet enough to get me to a solution. Thank you."}, {"owner": {"reputation": 1021, "user_id": 211827, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5441945c65e3a98df2e7a91dc7e9118c?s=128&d=identicon&r=PG", "display_name": "amcgregor", "link": "https://stackoverflow.com/users/211827/amcgregor"}, "reply_to_user": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "edited": false, "score": 0, "creation_date": 1553792395, "post_id": 55386123, "comment_id": 97526780, "body": "@PeterWeyand For giggles, I did update with some code from a <code>mongo</code> REPL shell, which <b>is JS</b>. This code demonstrates the exact problem you are encountering from the perspective of using the unique index on <code>_id</code> to prove dissimilarity and inability/inappropriateness of comparison.  The answer given (&quot;properly <a href=\"https://en.wikipedia.org/wiki/Type_conversion\" rel=\"nofollow noreferrer\">typecast</a>&quot;) stands."}], "tags": [], "owner": {"reputation": 1021, "user_id": 211827, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5441945c65e3a98df2e7a91dc7e9118c?s=128&d=identicon&r=PG", "display_name": "amcgregor", "link": "https://stackoverflow.com/users/211827/amcgregor"}, "is_accepted": false, "score": 2, "last_activity_date": 1553793292, "last_edit_date": 1553793292, "creation_date": 1553719428, "answer_id": 55386123, "question_id": 55386030, "link": "https://stackoverflow.com/questions/55386030/mongodb-cant-query-subdocument-by-id-returns-null/55386123#55386123", "title": "Mongodb Can&#39;t Query SubDocument by ID (returns null)", "body": "<p>You aren't querying for an ObjectId, no matter how much you think you are.  You are querying for the ObjectId encoded as a hexidecial string, which is <strong>not</strong> the same thing.  Properly typecast and you will likely have far more success.</p>\n\n<p>Edited to elaborate, from a mongo (JS) REPL shell:</p>\n\n<pre><code>&gt; // Omitting the _id, or generating a new one, are equivalent during insert.\n&gt; db.foo.insert({_id: ObjectId()})\nWriteResult({ \"nInserted\" : 1 })\n\n&gt; db.foo.find()  // As expected, we get back our _real_ ObjectId value.\n{ \"_id\" : ObjectId(\"5c9cfab873724727778c0730\") }\n\n&gt; // Can we \"insert the record again\" using a string version of the ID?\n&gt; db.foo.insert({_id: \"5c9cfab873724727778c0730\"})\nWriteResult({ \"nInserted\" : 1 })  // Sure as heck can! No unique violation!\n\n&gt; db.foo.find()  // Because THESE ARE NOT THE SAME\n{ \"_id\" : ObjectId(\"5c9cfab873724727778c0730\") }\n{ \"_id\" : \"5c9cfab873724727778c0730\" }\n</code></pre>\n\n<p>After our IRC discussion, there seems to be difficulty in understanding the \"searchable terms\" in the answers you are being given. Search here on StackOverflow (or Google, or DDG) for \"mongoose typecast ObjectId\" (without quotes; or just \"mongoose ObjectId\"\u2026) and you will find many answers, as this is a particularly common problem for Mongoose users.</p>\n"}, {"comments": [{"owner": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "edited": false, "score": 0, "creation_date": 1553721287, "post_id": 55386366, "comment_id": 97495004, "body": "Thanks...I mean this works, but...it feels like a backdoor hack a little bit. Why can&#39;t I just query the comment by id directly? I think doing it this way requires A) obv. passing another id and B) I think searching Post when I don&#39;t have to which is another query."}, {"owner": {"reputation": 87, "user_id": 1361425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e80e4fcb4fd777d04babd3eb7fec3692?s=128&d=identicon&r=PG", "display_name": "user1361425", "link": "https://stackoverflow.com/users/1361425/user1361425"}, "reply_to_user": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "edited": false, "score": 0, "creation_date": 1553721417, "post_id": 55386366, "comment_id": 97495068, "body": "if you check the database, mongodb doesn&#39;t save the data in comment field like you are searching &quot;comments._id&quot;,   It save in the format something like   {                   &quot;$ref&quot; : &quot;comment&quot;,                   &quot;$id&quot; : ObjectId(&quot;commentid&quot;),                   &quot;$db&quot; : &quot;dbname&quot;                }"}, {"owner": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "edited": false, "score": 0, "creation_date": 1553721698, "post_id": 55386366, "comment_id": 97495196, "body": "I don&#39;t believe that is correct. Here is the terminal output of a post: <code>{ flags: 0,   lastFlag: 2019-03-27T21:00:54.316Z,   fileName: &#39;1553720454192&amp;&amp;hotdog.png&#39;,   imageBanned: false,   board: &#39;nsfw&#39;,   comments:    [ { flags: 0,        lastFlag: 2019-03-27T21:01:03.540Z,        imageBanned: false,        fileName: &#39;1553720463408&amp;&amp;hotdog.png&#39;,        _id: 5c9be48f0556ec5397cb62a2,        body: &#39;dadf&#39;,        created: 2019-03-27T21:01:03.540Z,        __v: 0 } ],   _id: 5c9be4860556ec5397cb62a1,   body: &#39;dog&#39;,   created: 2019-03-27T21:11:15.575Z,   __v: 0 }</code>"}, {"owner": {"reputation": 87, "user_id": 1361425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e80e4fcb4fd777d04babd3eb7fec3692?s=128&d=identicon&r=PG", "display_name": "user1361425", "link": "https://stackoverflow.com/users/1361425/user1361425"}, "reply_to_user": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "edited": false, "score": 0, "creation_date": 1553722124, "post_id": 55386366, "comment_id": 97495430, "body": "If your question has been answered, please make sure to accept answer for further references."}, {"owner": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "edited": false, "score": 0, "creation_date": 1553722178, "post_id": 55386366, "comment_id": 97495453, "body": "It has not yet been answered - please refer to my comments, thank you."}, {"owner": {"reputation": 87, "user_id": 1361425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e80e4fcb4fd777d04babd3eb7fec3692?s=128&d=identicon&r=PG", "display_name": "user1361425", "link": "https://stackoverflow.com/users/1361425/user1361425"}, "reply_to_user": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "edited": false, "score": 0, "creation_date": 1553722565, "post_id": 55386366, "comment_id": 97495602, "body": "The output you provided is fetched from mongoose driver or mongo-shell? Here is the more info about how mongodb saves DBRef in fields   <a href=\"https://docs.mongodb.com/manual/reference/database-references/#dbrefs\" rel=\"nofollow noreferrer\">docs.mongodb.com/manual/reference/database-references/#dbref&zwnj;&#8203;s</a>"}, {"owner": {"reputation": 87, "user_id": 1361425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e80e4fcb4fd777d04babd3eb7fec3692?s=128&d=identicon&r=PG", "display_name": "user1361425", "link": "https://stackoverflow.com/users/1361425/user1361425"}, "reply_to_user": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "edited": false, "score": 0, "creation_date": 1553723185, "post_id": 55386366, "comment_id": 97495813, "body": "try searching modifying the query - Post.find({&quot;comments.$_id&quot;: ObjectId(req.body.id)}), let me know if that works for you."}, {"owner": {"reputation": 87, "user_id": 1361425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e80e4fcb4fd777d04babd3eb7fec3692?s=128&d=identicon&r=PG", "display_name": "user1361425", "link": "https://stackoverflow.com/users/1361425/user1361425"}, "reply_to_user": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "edited": false, "score": 0, "creation_date": 1553723289, "post_id": 55386366, "comment_id": 97495845, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/190798/discussion-between-user1361425-and-peter-weyand\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 87, "user_id": 1361425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e80e4fcb4fd777d04babd3eb7fec3692?s=128&d=identicon&r=PG", "display_name": "user1361425", "link": "https://stackoverflow.com/users/1361425/user1361425"}, "is_accepted": false, "score": 0, "last_activity_date": 1553720745, "last_edit_date": 1553720745, "creation_date": 1553720389, "answer_id": 55386366, "question_id": 55386030, "link": "https://stackoverflow.com/questions/55386030/mongodb-cant-query-subdocument-by-id-returns-null/55386366#55386366", "title": "Mongodb Can&#39;t Query SubDocument by ID (returns null)", "body": "<p>Once try checking with populating the reference data first and then querying on the _id of the comment.</p>\n\n<p>*Get the post id also from front end in addition to comment id, in that way it will be easier.</p>\n\n<pre><code>Post.findOne({_id:'postId'})\n.populate({\n  path  : 'comment',\n  match : { _id : 'commentId' }\n})\n.exec(...);\n</code></pre>\n"}], "owner": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 239, "favorite_count": 2, "answer_count": 2, "score": 2, "last_activity_date": 1553793292, "creation_date": 1553719008, "last_edit_date": 1553719929, "question_id": 55386030, "link": "https://stackoverflow.com/questions/55386030/mongodb-cant-query-subdocument-by-id-returns-null", "title": "Mongodb Can&#39;t Query SubDocument by ID (returns null)", "body": "<p>So I have this Mongoose Schema: </p>\n\n<pre><code>var mongoose = require('mongoose');\nvar Schema = mongoose.Schema;\n\nvar CommentSchema = new Schema({\n  body: {type: String, required: true, max: 2000},\n  created: { type: Date, default: Date.now },\n  flags: {type: Number, default: 0},\n  lastFlag: {type: Date, default: Date.now()},\n  imageBanned: {type: Boolean, default: false},\n  fileName: {type: String, default: \"\"}\n}, {\n  writeConcern: {\n    w: 0,\n    j: false,\n    wtimeout: 200\n  }  \n});\n\nvar PostSchema = new Schema({\n  body: {type: String, required: true, max: 2000},\n  created: { type: Date, default: Date.now },\n  flags: {type: Number, default: 0},\n  lastFlag: {type: Date, default: Date.now()},\n  fileName: {type: String, default: \"\"},\n  imageBanned: {type: Boolean, default: false},\n  board: {type: String, default: \"\"},\n  comments: [{ type: Schema.Types.ObjectId, ref: 'Comment' }]\n}, {\n  writeConcern: {\n    w: 0,\n    j: false,\n    wtimeout: 200\n  }  \n});\n\n\nvar Post =  mongoose.model('Post', PostSchema);\nvar Comment = mongoose.model('Comment', CommentSchema)\n\nmodule.exports = {Post, Comment}\n</code></pre>\n\n<p>And I'm trying to query a Comment inside the comment array in post. </p>\n\n<p>This is the endpoint I'm trying: </p>\n\n<pre><code>router.post('/flagComment', (req, res, next)=&gt;{\n  console.log('inside /flagComment')\n  console.log('value of req.body: ', req.body)\n  model.Post.findOne({\"comments._id\": req.body.id}).exec((err, doc)=&gt;{\n    if(err){\n      console.log('there was an error: ', err)\n    }\n    console.log('the value of the found doc: ', doc)\n    res.json({dummy: 'dummy'})\n  })\n})\n</code></pre>\n\n<p>However, this gives the following terminal output: </p>\n\n<pre><code>value of req.body:  { id: '5c9bd902bda8d371d5c808dc' }\nthe value of the found doc:  null\n</code></pre>\n\n<p>That's not correct...I've verified the ID is correct - why is the comment doc not being found?</p>\n\n<p>EDIT: </p>\n\n<p>I've attempted this solution (<a href=\"https://stackoverflow.com/questions/7878557/cant-find-documents-searching-by-objectid-using-mongoose\">Can&#39;t find documents searching by ObjectId using Mongoose</a>) by setting the objectID like this: </p>\n\n<pre><code>var ObjectId = require('mongoose').Types.ObjectId; \n\nrouter.post('/flagComment', (req, res, next)=&gt;{\n  console.log('inside /flagComment')\n  console.log('value of req.body: ', req.body)\n  console.log('value of objid req id : ',  ObjectId(req.body.id))\n  model.Post.find({\"comments._id\": ObjectId(req.body.id)}).exec((err, doc)=&gt;{\n    if(err){\n      console.log('there was an error: ', err)\n    }\n    console.log('the value of the found doc: ', doc)\n    res.json({dummy: 'dummy'})\n  })\n})\n</code></pre>\n\n<p>And I get the following terminal output: </p>\n\n<pre><code>value of req.body:  { id: '5c9bd902bda8d371d5c808dc' }\nvalue of objid req id :  5c9bd902bda8d371d5c808dc\nthe value of the found doc:  []\n</code></pre>\n\n<p>So, this is not yet a solution although it appears to be better than what I had.</p>\n"}, {"tags": ["javascript", "hover", "tooltip", "fade", "angularjs-watch"], "answers": [{"tags": [], "owner": {"reputation": 721, "user_id": 11268857, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mTRSSfkZJe8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcNs6tmD9Sdl_2-8HrQfRS1GTCaeQ/mo/photo.jpg?sz=128", "display_name": "jonathan Heindl", "link": "https://stackoverflow.com/users/11268857/jonathan-heindl"}, "is_accepted": false, "score": 0, "last_activity_date": 1553730469, "creation_date": 1553730469, "answer_id": 55388149, "question_id": 55385993, "link": "https://stackoverflow.com/questions/55385993/making-a-tooltip-disappear-after-some-time/55388149#55388149", "title": "Making a tooltip disappear after some time", "body": "<p>you will have to implement some logic with onmouseenter and onmouseleave otherwise the </p>\n\n<pre><code> $('[tooltip]').on('mouseover', function(){\n  setTimeout(function(){\n    $(this).find('.tooltip').fadeOut();\n  }, 2000);\n</code></pre>\n\n<p>function will get called every time the mouse moves even a little bit</p>\n\n<p>probably around  </p>\n\n<pre><code>$('[tooltip]').on('mouseenter', function(){\n  //setVisible\n  setTimeout(function(){\n    $(this).find('.tooltip').fadeOut();\n  }, 2000);\n}\n$('[tooltip]').on('mouseleave', function(){\n    $(this).find('.tooltip').fadeOut();\n}\n</code></pre>\n\n<p>and a few ifs to handle errors if they pop up (not sure if you can doubly fade something out)</p>\n"}], "owner": {"reputation": 29, "user_id": 10300082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c13f022b0ce0454ce5058fea7b334839?s=128&d=identicon&r=PG&f=1", "display_name": "psantos", "link": "https://stackoverflow.com/users/10300082/psantos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553730469, "creation_date": 1553718866, "last_edit_date": 1553730090, "question_id": 55385993, "link": "https://stackoverflow.com/questions/55385993/making-a-tooltip-disappear-after-some-time", "title": "Making a tooltip disappear after some time", "body": "<p>I have a Shopify store that when an user clicks on or move the cursor to a color, a tooltip shows up indicating the name of that color and fades away when the mouse is no longer hovering it. However, in touchscreens the tooltip doesn't go away unless the user clicks somewhere else in the website and swiping doesn't make it go away either. It's kinda annoying on mobile because it partially blocks the user visibility to the product images above.</p>\n\n<p>I've searched this community and found a simple script. However, when using it in the swatch.liquid it doesn't work and would appreciate your help in this matter.</p>\n\n<p>I've tried to add this script</p>\n\n<pre><code>&lt;script&gt;\n\n  $('[tooltip]').on('mouseover', function(){\n  setTimeout(function(){\n    $(this).find('.tooltip').fadeOut();\n  }, 2000);\n\n&lt;/script&gt;\n</code></pre>\n\n<p>to the code below</p>\n\n<pre><code>&lt;div data-value=\"{{ value | escape }}\" class=\"swatch-element {% if is_color and section.settings.swatch_option == 'with_background' %}color with_bg_color {% elsif is_color and section.settings.swatch_option == 'without_background'%}color color_without_bg {% endif %}{% if is_color and section.settings.color_style == 'square_box' %}square_shape {% elsif is_color and section.settings.color_style == 'round_shape'%}round_shape {% endif %}{{ swatch }} {{ value | handle }} {% if variant.available %}available{% else %}soldout{% endif %}\"&gt;\n    {% if is_color and section.settings.swatch_option == 'with_background' %}\n    &lt;div class=\"tooltip\"&gt;{{ value }}&lt;/div&gt;\n\n    &lt;script&gt;\n\n        $('[tooltip]').on('mouseover', function(){\n  setTimeout(function(){\n    $(this).find('.tooltip').fadeOut();\n  }, 2000);\n\n&lt;/script&gt;\n\n    {% endif %}\n    &lt;input id=\"swatch-{{ option_index }}-{{ value | handle }}-{{ section.id }}\" type=\"radio\" name=\"option-{{ option_index }}\" value=\"{{ value | escape }}\" {% if forloop.first %}{% unless section.settings.enable_default_variant %} checked{% endunless %}{% endif %} {% unless variant.available %}disabled{% endunless %} /&gt;\n    {% if is_color and section.settings.swatch_option == 'with_background' %}\n    &lt;label for=\"swatch-{{ option_index }}-{{ value | handle }}-{{ section.id }}\" style=\"background-color: {{ value | split: ' ' | last | handle }}; background-image: url({{ value | handle | append: '.' | append: file_extension | asset_url }})\"&gt;\n        &lt;img class=\"crossed-out\" src=\"{{ 'soldout.png' | asset_url }}\" /&gt;\n    &lt;/label&gt;\n    {% else %}\n    &lt;label for=\"swatch-{{ option_index }}-{{ value | handle }}-{{ section.id }}\"&gt;\n        {{ value }}\n        &lt;img class=\"crossed-out\" src=\"{{ 'soldout.png' | asset_url }}\" /&gt;\n    &lt;/label&gt;\n    {% endif %}\n&lt;/div&gt;\n</code></pre>\n\n<p>This is the result in a desktop when you hover the possible color options</p>\n\n<p><img src=\"https://i.imgur.com/CcMrsRO.png\" alt=\"tooltip\"></p>\n\n<p>And that's the tooltip that I wish to fade away after 2 seconds even if the mouse cursor is still on it.</p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1553719983, "post_id": 55385988, "comment_id": 97494383, "body": "It looks like your nearly there, you have <code>collapseToggles:</code> in your <code>View</code>,  just use this, and remove the <code>show</code> state in your Entity.  Like mediaguru said, you can then update your Entity via it&#39;s props instead.  IOW: <code>show</code> becomes a prop instead of a state.."}, {"owner": {"reputation": 311, "user_id": 2216994, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/067b11356f621f1983ca73cf18094ba5?s=128&d=identicon&r=PG", "display_name": "Arcandio", "link": "https://stackoverflow.com/users/2216994/arcandio"}, "reply_to_user": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1553720314, "post_id": 55385988, "comment_id": 97494550, "body": "Sorry, I removed that section while I clean up the code. The reason that wasn&#39;t working was because when I updated the number of toggles based on the prop using <code>setState()</code> it triggered an infinite loop, so I was trying to find a different way of handling the situation."}], "answers": [{"comments": [{"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1553719355, "post_id": 55386062, "comment_id": 97494072, "body": "Good answer!!, for larger apps I would even say state shouldn&#39;t be even stored in the component.   Eg, maybe redux etc should be used, I don&#39;t use Redux personally as I find it way to cumbersome, but implemented my own using proxy&#39;s."}, {"owner": {"reputation": 1389, "user_id": 5731888, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/wTpBb.png?s=128&g=1", "display_name": "mediaguru", "link": "https://stackoverflow.com/users/5731888/mediaguru"}, "reply_to_user": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 2, "creation_date": 1553719448, "post_id": 55386062, "comment_id": 97494123, "body": "Agree Ketih. For any apps I&#39;ve done to date I find Redux to be overkill, like throwing the whole toolbox at hammering a nail."}], "tags": [], "owner": {"reputation": 1389, "user_id": 5731888, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/wTpBb.png?s=128&g=1", "display_name": "mediaguru", "link": "https://stackoverflow.com/users/5731888/mediaguru"}, "is_accepted": false, "score": 2, "last_activity_date": 1553725908, "last_edit_date": 1553725908, "creation_date": 1553719159, "answer_id": 55386062, "question_id": 55385988, "link": "https://stackoverflow.com/questions/55385988/calling-a-function-in-children-in-react/55386062#55386062", "title": "Calling a function in children in react?", "body": "<p>Your state should only be in the parent component, not any child components. You would then pass your functions and state as props to the children. </p>\n"}, {"tags": [], "owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "is_accepted": false, "score": 0, "last_activity_date": 1553725250, "last_edit_date": 1553725250, "creation_date": 1553724889, "answer_id": 55387289, "question_id": 55385988, "link": "https://stackoverflow.com/questions/55385988/calling-a-function-in-children-in-react/55387289#55387289", "title": "Calling a function in children in react?", "body": "<p>Below is an example of storing state in a higher order component.</p>\n\n<p>If you look at the code there is just one place where state is stored, and that's in the <code>View</code>,  This is known as single source of truth, and it makes coding in React much simpler.</p>\n\n<p>For example if you click the <code>all</code> checkbox, all will check.  And if you individually check each one, the <code>all</code> and <code>none</code> will also keep in sync.</p>\n\n<p>You can of course alter this to suite you needs, I've used checkbox here as it's easy to see the state changes working.</p>\n\n<p>For larger applications the single source of truth method becomes even more important, and storing state inside React is best avoided.  This is what Redux is known for, like I mentioned in comments Redux is not something I use personally, but rolled my own single source of truth state management using proxy's, if I get time I might create an NPM module using this, as I'm sure other users would find it useful.</p>\n\n<p>ps,. I've used React Hooks in the example as I believe it's the future of React, but it would be trivial to alter to use classes..</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const {useState, cloneElement} = React;\r\n\r\n\r\nfunction MultiCheck(props) {\r\n  const {checkallto, list, setList} = props;\r\n  const checked = !list.some(f =&gt; f !== checkallto);\r\n  return &lt;div&gt;\r\n    &lt;input\r\n      onClick={() =&gt; {\r\n        setList(new Array(list.length).fill(checkallto));\r\n      }}\r\n      onChange={() =&gt; {}}\r\n      checked={checked} \r\n      type=\"checkbox\"/&gt;\r\n    {props.children}\r\n  &lt;/div&gt;;\r\n}\r\n\r\n\r\nfunction View(props) {\r\n  const [list, setList] = useState(new Array(props.children.length).fill(false));\r\n \r\n  function setEntityChecked(ix) {\r\n    return (check) =&gt; {\r\n      const newlist = [...list];\r\n      newlist[ix] = check;\r\n      setList(newlist);\r\n    };\r\n  }\r\n  \r\n  const children = props.children.map((\r\n    f, ix) =&gt; cloneElement(f, {key:ix, checked: list[ix],\r\n      setChecked: setEntityChecked(ix)}));\r\n  return &lt;div&gt;\r\n    &lt;MultiCheck checkallto={true} list={list} setList={setList}&gt;\r\n      All\r\n    &lt;/MultiCheck&gt;\r\n    &lt;MultiCheck checkallto={false} list={list} setList={setList}&gt;\r\n      None\r\n    &lt;/MultiCheck&gt;\r\n    &lt;hr/&gt;\r\n    {children}\r\n  &lt;/div&gt;;\r\n}\r\n\r\nfunction Entity(props) {\r\n  const {checked, setChecked} = props;\r\n  return &lt;div&gt;&lt;input\r\n    checked={checked}\r\n    onChange={()=&gt;{}}\r\n    onClick={() =&gt; setChecked(!checked)}\r\n    type=\"checkbox\"/&gt;{props.children}&lt;/div&gt;;\r\n}\r\n\r\n\r\nReactDOM.render(&lt;React.Fragment&gt;\r\n  &lt;View&gt;\r\n    &lt;Entity&gt;One&lt;/Entity&gt;\r\n    &lt;Entity&gt;Two&lt;/Entity&gt;\r\n    &lt;Entity&gt;Two&lt;/Entity&gt;\r\n  &lt;/View&gt;\r\n&lt;/React.Fragment&gt;, document.querySelector('#mount'));</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script crossorigin src=\"https://unpkg.com/react@16/umd/react.development.js\"&gt;&lt;/script&gt;\r\n&lt;script crossorigin src=\"https://unpkg.com/react-dom@16/umd/react-dom.development.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div id=\"mount\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 311, "user_id": 2216994, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/067b11356f621f1983ca73cf18094ba5?s=128&d=identicon&r=PG", "display_name": "Arcandio", "link": "https://stackoverflow.com/users/2216994/arcandio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1553725908, "creation_date": 1553718857, "last_edit_date": 1553720456, "question_id": 55385988, "link": "https://stackoverflow.com/questions/55385988/calling-a-function-in-children-in-react", "title": "Calling a function in children in react?", "body": "<p>I have an app with multiple <code>Views</code>. Each <code>View</code> has some number of mapped child <code>Entities</code>. Each of those entities has a state for whether or not it's collapsed/hidden called: <code>this.state.show</code>. Each <code>Entity</code> has a button that toggles the <code>show</code> state. <em>That all works fine.</em></p>\n\n<p>What I'd like to do is add a button up on the <code>View</code> that shows or hides all <code>Entities</code> at the same time. I thought this would be simple, but there are several complicating factors:</p>\n\n<ul>\n<li>I will eventually have multiple <code>Views</code> in the app each displaying the same data in different ways, so storing <code>show</code> in the lifted up prop isn't much of an option. I also don't want to store UI state in the file data, because that rubs me the wrong way.</li>\n<li>It makes it easier for me to understand what's happening when the state is stored directly on the <code>Entity</code> as a state rather than a prop of the <code>View</code></li>\n<li>The React documentation (and everyone online) say that you shouldn't base state on props that change, and the number of <code>Entities</code> will change frequently. This is why I don't want to store the state of the children in the parent, because if I do and the entities change, then I have to somehow translate that change in props to a change in state, which is strongly cautioned against.</li>\n<li>If I were to use events, those events could spill over from one <code>View</code> to another.</li>\n</ul>\n\n<p>What's the right strategy to pursue here? Am I not thinking \"react\" enough?</p>\n\n<h2>View.jsx</h2>\n\n<pre><code>import React, { Component } from 'react'\nimport Entity from './Entity.jsx'\nimport Filter from './Filter.jsx'\n\nclass View extends Component {\n    render() {\n        return (\n            &lt;div className=\"view main\"&gt;\n                {this.props.entities ? this.props.entities.map(\n                    (e, i) =&gt; (\n                        &lt;Entity\n                            entity={e}\n                            propertyTypes={this.props.propertyTypes}\n                            key={i}\n                            index={i}\n                            taglists={this.props.taglists}\n                            ee={this.props.ee}\n                        /&gt;\n                    )\n                ) : \"\"}\n            &lt;/div&gt;\n        )\n    }\n}\n\nexport default View\n</code></pre>\n\n<h2>Entity.jsx</h2>\n\n<pre><code>import React, { Component } from 'react'\nimport Property from './Property.jsx'\nimport Event from './Event.jsx'\nimport Relationship from './Relationship.jsx'\n\nclass Entity extends Component {\n    constructor (props) {\n        super(props);\n        this.state = {\n            show: true\n        }\n        this.showHide = this.showHide.bind(this)\n    }\n\n    showHide() {\n        this.setState({\n            show: !this.state.show\n        })\n    }\n\n    render() {\n        return (\n            &lt;div className=\"entity\" id={this.props.entity.name}&gt;\n                &lt;div className=\"entity-header\"&gt;\n                    &lt;h2&gt;\n                        &lt;input\n                            type=\"text\"\n                            value={this.props.entity.name}\n                            onChange={this.emit}\n                            data-original={this.props.entity.name}\n                            data-index={this.props.index}\n                            data-event=\"rename\"\n                        &gt;&lt;/input&gt;\n                    &lt;/h2&gt;\n                    &lt;button\n                        className=\"entity-collapse\"\n                        data-index={this.props.index}\n                        onClick={this.showHide}\n                    &gt;{this.state.show ? \"-\" : \"+\"}&lt;/button&gt;\n                &lt;/div&gt;\n                &lt;div className={this.state.show ? \"entity-content\" : \"entity-content hidden\"}&gt;\n                    ...\n                    removed for clarity\n                    ...\n                &lt;/div&gt;\n            &lt;/div&gt;\n        )\n    }\n}\n\nexport default Entity\n</code></pre>\n"}, {"tags": ["javascript", "html", "aframe", "webvr"], "comments": [{"owner": {"reputation": 3127, "user_id": 3729695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dzB5u.jpg?s=128&g=1", "display_name": "sertsedat", "link": "https://stackoverflow.com/users/3729695/sertsedat"}, "edited": false, "score": 0, "creation_date": 1553720156, "post_id": 55385964, "comment_id": 97494466, "body": "You have Google vr services installed?"}], "answers": [{"tags": [], "owner": {"reputation": 3917, "user_id": 717508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cfa308b5cf41c84cf8753254083ba91?s=128&d=identicon&r=PG", "display_name": "Diego Marcos", "link": "https://stackoverflow.com/users/717508/diego-marcos"}, "is_accepted": false, "score": 1, "last_activity_date": 1553806730, "creation_date": 1553806730, "answer_id": 55406764, "question_id": 55385964, "link": "https://stackoverflow.com/questions/55385964/why-video-in-aframe-doesnt-work-on-mobile-device/55406764#55406764", "title": "Why video in aframe doesn&#39;t work on mobile device", "body": "<p>Mobile browsers limit video autoplay. Video playback has to be triggered by a user gesture. More info in <a href=\"https://aframe.io/docs/0.9.0/introduction/faq.html#why-does-my-video-not-play-on-mobile\" rel=\"nofollow noreferrer\">A-Frame FAQ</a>. Also make sure that <a href=\"https://aframe.io/docs/0.9.0/introduction/faq.html#why-does-my-asset-e-g-image-video-model-not-load\" rel=\"nofollow noreferrer\">video format and codecs are supported</a> in your device / browser / OS version. </p>\n"}], "owner": {"reputation": 1, "user_id": 11268702, "user_type": "registered", "profile_image": "https://graph.facebook.com/2108696682550116/picture?type=large", "display_name": "Mateusz Le\u015bko", "link": "https://stackoverflow.com/users/11268702/mateusz-le%c5%9bko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 407, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553806730, "creation_date": 1553718748, "last_edit_date": 1553742646, "question_id": 55385964, "link": "https://stackoverflow.com/questions/55385964/why-video-in-aframe-doesnt-work-on-mobile-device", "title": "Why video in aframe doesn&#39;t work on mobile device", "body": "<p>I tested my web-VR app (I used Aframe). On the desktop, everything works great. But on my phone (Android OS) video don't play. Any suggestions?</p>\n\n<p>Link to app:\n<a href=\"https://mateuszlesko.github.io/ElblagAFrame/video.html\" rel=\"nofollow noreferrer\">https://mateuszlesko.github.io/ElblagAFrame/video.html</a></p>\n\n<pre><code>&lt;a-assets&gt;\n                    &lt;video id=\"penguin-sledding\" autoplay='False' loop=\"false\" material.repeat='None' src=\"Elblag1945.mp4\"&gt;\n                  &lt;/a-assets&gt;\n\n                  &lt;!-- Using the asset management system. --&gt;\n&lt;a-video src=\"#penguin-sledding\" width=\"26\" height=\"15\" position=\"0 0 -20\"&gt;&lt;/a-video&gt;\n</code></pre>\n"}, {"tags": ["javascript", "angular"], "comments": [{"owner": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "edited": false, "score": 1, "creation_date": 1553718683, "post_id": 55385919, "comment_id": 97493767, "body": "you npm installed it, but did you import it anywhere?"}, {"owner": {"reputation": 244, "user_id": 9986833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/831278e7cbfbd56e7eef5ed7768b702f?s=128&d=identicon&r=PG&f=1", "display_name": "K S", "link": "https://stackoverflow.com/users/9986833/k-s"}, "reply_to_user": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "edited": false, "score": 0, "creation_date": 1553720355, "post_id": 55385919, "comment_id": 97494569, "body": "yes, I tried, import flat from &#39;array.prototype.flat&#39;; at the component in which I&#39;m using the flat() method and in the main.ts as well!"}], "answers": [{"tags": [], "owner": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "is_accepted": false, "score": 0, "last_activity_date": 1553719243, "creation_date": 1553719243, "answer_id": 55386079, "question_id": 55385919, "link": "https://stackoverflow.com/questions/55385919/how-to-use-flat-in-an-angular-project/55386079#55386079", "title": "How to use .flat() in an angular project?", "body": "<p>It's not enough to npm install the package, you need to import and use it. Looking at the <a href=\"https://www.npmjs.com/package/array.prototype.flat\" rel=\"nofollow noreferrer\">documentation for array.prototype.flat</a>, it appears that if you want to add the function onto the array prototype, you need to do the following somewhere in your app:</p>\n\n<pre><code>import flat from 'array.prototype.flat';\nflat.shim();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1052, "user_id": 11135174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e72ea47f557234d6e62d9d2b0f4c3f7?s=128&d=identicon&r=PG&f=1", "display_name": "Rapha&#235;l Balet", "link": "https://stackoverflow.com/users/11135174/rapha%c3%abl-balet"}, "is_accepted": false, "score": 0, "last_activity_date": 1617350296, "creation_date": 1617350296, "answer_id": 66916188, "question_id": 55385919, "link": "https://stackoverflow.com/questions/55385919/how-to-use-flat-in-an-angular-project/66916188#66916188", "title": "How to use .flat() in an angular project?", "body": "<p>As of angular 11 and thx to <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-9.html\" rel=\"nofollow noreferrer\">typescript 3.9</a> you can now directly use the <code>flat()</code> method inside angular with the following configuration in your <code>tsconfig.json</code> file.</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;compilerOptions&quot;: {\n    &quot;target&quot;: &quot;es2018&quot;,\n    &quot;module&quot;: &quot;es2020&quot;,\n    &quot;lib&quot;: [&quot;es2020&quot;, &quot;dom&quot;],\n}\n</code></pre>\n<p><a href=\"https://angular.io/guide/migration-update-module-and-target-compiler-options\" rel=\"nofollow noreferrer\">for further read</a></p>\n"}], "owner": {"reputation": 244, "user_id": 9986833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/831278e7cbfbd56e7eef5ed7768b702f?s=128&d=identicon&r=PG&f=1", "display_name": "K S", "link": "https://stackoverflow.com/users/9986833/k-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 648, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1617350296, "creation_date": 1553718529, "last_edit_date": 1553718833, "question_id": 55385919, "link": "https://stackoverflow.com/questions/55385919/how-to-use-flat-in-an-angular-project", "title": "How to use .flat() in an angular project?", "body": "<p>I'm trying to use <code>flat()</code> in my Angular ts file. When I run the project it gives an error: <code>[question.determinativeTerms].flat</code> is not a function!\nI installed it: </p>\n\n<p><code>npm install --save array.prototype.flat</code></p>\n\n<pre><code>function matchUserInputToDeterminativePhrases(\n    faqs: Question[],\n    searchPhrase: string\n): Question[] {\n    return faqs.reduce((matches, question) =&gt; {\n        let foundMatch = false;\n        [question.determinativeTerms].flat().forEach(term =&gt; {\n            if (\n                !foundMatch &amp;&amp;\n                searchPhrase &amp;&amp;\n                searchPhrase\n                .toLowerCase()\n                .search(new RegExp(`\\\\b${term.toLowerCase()}`)) !== -1\n            ) {\n                foundMatch = true;\n                matches.push(question);\n            }\n        });\n        return matches.reverse();\n    }, []);\n}\n</code></pre>\n"}, {"tags": ["javascript", "html", "css", "animation"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11295086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65813121871a24f3f436dcd8e500e789?s=128&d=identicon&r=PG", "display_name": "user65008", "link": "https://stackoverflow.com/users/11295086/user65008"}, "is_accepted": false, "score": 0, "last_activity_date": 1554148401, "creation_date": 1554148401, "answer_id": 55462595, "question_id": 55385895, "link": "https://stackoverflow.com/questions/55385895/how-to-use-laxxx-js-to-animate-boxes/55462595#55462595", "title": "How to use Laxxx.js to animate boxes?", "body": "<p>I think you just need to add the <code>lax</code> class</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=\"lax box2\" data-lax-preset=\"spin-180\"&gt;&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 9485160, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Ra Ha", "link": "https://stackoverflow.com/users/9485160/ra-ha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 639, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1603196243, "creation_date": 1553718443, "question_id": 55385895, "link": "https://stackoverflow.com/questions/55385895/how-to-use-laxxx-js-to-animate-boxes", "title": "How to use Laxxx.js to animate boxes?", "body": "<p>I am trying to figure out how I can use Laxxx.js with my html section with two boxes.Here is my code.</p>\n\n<p>html</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n    &lt;meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"&gt;\n    &lt;link rel=\"stylesheet\" href=\"style.css\"&gt;\n    &lt;link href=\"https://fonts.googleapis.com/css?family=Lato\" rel=\"stylesheet\"&gt;\n    &lt;link rel=\"stylesheet\" href=\"https://use.fontawesome.com/releases/v5.8.1/css/all.css\" integrity=\"sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf\" crossorigin=\"anonymous\"&gt;\n\n\n    &lt;title&gt;Sidebar Navigation&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;section id=\"about\"&gt;\n        &lt;div class=\"page-num\"&gt;\n            &lt;h1&gt;01&lt;/h1&gt;\n        &lt;/div&gt;\n        &lt;div class=\"left\"&gt;\n            &lt;div class=\"box1\"&gt;&lt;/div&gt;\n            &lt;div class=\"box2\" data-lax-preset=\"spin-180\"&gt;&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"right\"&gt;\n            &lt;h1&gt;About&lt;/h1&gt;\n            &lt;p&gt;Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quisquam alias recusandae tenetur impedit similique dolore, rem molestias illo incidunt ipsum ipsa omnis odit, placeat tempore sapiente aliquid unde. Quaerat, architecto ex sit possimus commodi distinctio enim. Maxime, odit iste animi ut et iure, eius error.&lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/section&gt;\n\n   &lt;script src=\"node_modules/lax.js/lib/lax.min.js\"&gt;&lt;/script&gt;\n        &lt;script&gt;\n        window.onload = function() {\n            lax.setup() // init\n\n            document.addEventListener('scroll', function(e){\n                lax.update(window.scrollY)\n            },false)\n            console.log('hey');\n\n        }\n        &lt;/script&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>scss</p>\n\n<pre><code>#about {\n  background: black;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  color: white;\n  position:relative;\n  overflow:hidden;\n\n\n  .left {\n    width: 40%;\n    position:relative;\n\n      .box1{\n        position:absolute;\n        top: 20% ;\n        left:20%;\n        z-index:0;\n        width:400px;\n        height:400px;\n        border:30px solid yellow;\n        overflow:hidden;\n        transform: rotateZ(65deg);\n      }\n      .box2{\n        position:absolute;\n        top: 30%;\n        left:10%;\n        z-index:0;\n        width:300px;\n        height:300px;\n        border:30px solid red;\n        overflow:hidden;\n\n      }\n  }\n  .right {\n    width: 50%;\n    padding: 10vh 20vh;\n    // position:relative;\n    h1 {\n      font-size: 3vw;\n      margin: 0;\n    }\n    p {\n      font-size: 1.2rem;\n      line-height: 28px;\n    }\n  }\n}\n</code></pre>\n\n<p>I guess I have followed al the steps on documentation however I get no amination on scroll and no error on console as well.</p>\n\n<p>And here is the github documentation for laxxx.js <a href=\"https://github.com/alexfoxy/laxxx\" rel=\"nofollow noreferrer\">https://github.com/alexfoxy/laxxx</a></p>\n"}, {"tags": ["javascript", "reactjs", "testing", "components", "mocha.js"], "comments": [{"owner": {"reputation": 240, "user_id": 7650430, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0WFl1j5FEGI/AAAAAAAAAAI/AAAAAAAAA5Y/loYgzGsjRwE/photo.jpg?sz=128", "display_name": "DarkPurple141", "link": "https://stackoverflow.com/users/7650430/darkpurple141"}, "edited": false, "score": 0, "creation_date": 1553721784, "post_id": 55385799, "comment_id": 97495239, "body": "As an aside: you could write the above a bit better as:  <code>icon = isValid ? &lt;ErrorIcon className=&quot;error&quot; &#47;&gt; : &lt;SuccessIcon className=&quot;success&quot; &#47;&gt;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 55, "user_id": 5986282, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/28b1fc1ff3305ae1078087cd8bed8713?s=128&d=identicon&r=PG", "display_name": "Ivannnnn", "link": "https://stackoverflow.com/users/5986282/ivannnnn"}, "is_accepted": false, "score": 0, "last_activity_date": 1553718783, "last_edit_date": 1553718783, "creation_date": 1553718363, "answer_id": 55385879, "question_id": 55385799, "link": "https://stackoverflow.com/questions/55385799/how-do-i-unit-test-using-mocha-chai-sinon-if-a-variable-has-a-react-component-as/55385879#55385879", "title": "How do i unit test using mocha/chai/sinon if a variable has a react component as value?", "body": "<pre class=\"lang-js prettyprint-override\"><code>if (icon.type === SuccessIcon) {\n\n} else if (icon.type === ErrorIcon) {\n\n}\n</code></pre>\n\n<p>Should do the trick.</p>\n"}, {"comments": [{"owner": {"reputation": 25809, "user_id": 3148807, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/sYRik.jpg?s=128&g=1", "display_name": "Sagiv b.g", "link": "https://stackoverflow.com/users/3148807/sagiv-b-g"}, "reply_to_user": {"reputation": 61, "user_id": 9436969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66662e66ea12f4624f98182892fc427b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeny", "link": "https://stackoverflow.com/users/9436969/jeny"}, "edited": false, "score": 0, "creation_date": 1553719260, "post_id": 55385983, "comment_id": 97494028, "body": "Well you can <code>assert(isErrorIcon === true)</code> or something similar (depending on your test environment )"}, {"owner": {"reputation": 61, "user_id": 9436969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66662e66ea12f4624f98182892fc427b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeny", "link": "https://stackoverflow.com/users/9436969/jeny"}, "edited": false, "score": 0, "creation_date": 1553719977, "post_id": 55385983, "comment_id": 97494376, "body": "i&#39;m using mocha, sinon. trying something like expect(icon).to.equal(&lt;ErrorIcon /&gt;)"}, {"owner": {"reputation": 25809, "user_id": 3148807, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/sYRik.jpg?s=128&g=1", "display_name": "Sagiv b.g", "link": "https://stackoverflow.com/users/3148807/sagiv-b-g"}, "reply_to_user": {"reputation": 61, "user_id": 9436969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66662e66ea12f4624f98182892fc427b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeny", "link": "https://stackoverflow.com/users/9436969/jeny"}, "edited": false, "score": 0, "creation_date": 1553720208, "post_id": 55385983, "comment_id": 97494499, "body": "so try with <code>icon.type</code>, something along  <code>expect(icon.type).to.equal(ErrorIcon)</code> note i omitted the tag triangles  (<code>&lt;&#47;&gt;</code>)"}], "tags": [], "owner": {"reputation": 25809, "user_id": 3148807, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/sYRik.jpg?s=128&g=1", "display_name": "Sagiv b.g", "link": "https://stackoverflow.com/users/3148807/sagiv-b-g"}, "is_accepted": true, "score": 1, "last_activity_date": 1553720417, "last_edit_date": 1553720417, "creation_date": 1553718841, "answer_id": 55385983, "question_id": 55385799, "link": "https://stackoverflow.com/questions/55385799/how-do-i-unit-test-using-mocha-chai-sinon-if-a-variable-has-a-react-component-as/55385983#55385983", "title": "How do i unit test using mocha/chai/sinon if a variable has a react component as value?", "body": "<p>Not sure how reliable this API but each react component instance has a <code>type</code> property, so you can check it against the component definition:  </p>\n\n<pre><code>const isErrorIcon = icon.type === ErrorIcon\n</code></pre>\n\n<p>So in your case:  </p>\n\n<pre><code>expect(icon.type).to.equal(ErrorIcon)\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 9436969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66662e66ea12f4624f98182892fc427b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeny", "link": "https://stackoverflow.com/users/9436969/jeny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 55385983, "answer_count": 2, "score": 1, "last_activity_date": 1553720417, "creation_date": 1553718026, "last_edit_date": 1553719125, "question_id": 55385799, "link": "https://stackoverflow.com/questions/55385799/how-do-i-unit-test-using-mocha-chai-sinon-if-a-variable-has-a-react-component-as", "title": "How do i unit test using mocha/chai/sinon if a variable has a react component as value?", "body": "<p>I have a variable which gets dynamically assigned a React component based on a condition is true or false.</p>\n\n<pre><code>if(isValid) {icon = &lt;ErrorIcon className: \"error\"/&gt;}\nelse {icon = &lt;SuccessIcon className: \"success\"/&gt;\n</code></pre>\n\n<p>how do i test for expected value of icon is one component or other in unit test?</p>\n"}, {"tags": ["javascript", "jquery", "html"], "answers": [{"comments": [{"owner": {"reputation": 1113, "user_id": 11059320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MCWZp.jpg?s=128&g=1", "display_name": "shadow2020", "link": "https://stackoverflow.com/users/11059320/shadow2020"}, "edited": false, "score": 0, "creation_date": 1553719116, "post_id": 55385825, "comment_id": 97493946, "body": "Thank you for the recommendation. This did not work for me though."}], "tags": [], "owner": {"reputation": 99450, "user_id": 1686485, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g3GW9.png?s=128&g=1", "display_name": "tymeJV", "link": "https://stackoverflow.com/users/1686485/tymejv"}, "is_accepted": false, "score": 3, "last_activity_date": 1553718166, "creation_date": 1553718166, "answer_id": 55385825, "question_id": 55385792, "link": "https://stackoverflow.com/questions/55385792/have-to-click-element-twice-for-jquery-event-to-work/55385825#55385825", "title": "Have to click element twice for Jquery event to work", "body": "<p>It's cause you're binding the jQuery handler inside of your <code>onclick</code> function - just remove the entire <code>onclick</code> attribute and bind your handler outside the function.</p>\n\n<pre><code>$('#formats a').click(function(e) {\n    e.preventDefault();\n\n    var txt = $(e.target).text();\n    console.log(txt);\n\n    $.ajax({\n        url : \"./enablereports/\" + txt + \".html\",\n        data: \"html\",\n        contentType:\"application/x-javascript; charset:ISO-8859-1\",\n            beforeSend: function(jqXHR) {\n            jqXHR.overrideMimeType('text/html;charset=iso-8859-1');\n            },\n        success : function (data) {\n            $(\"#rightDiv\").html(data);\n        }\n    });\n});\n</code></pre>\n\n<p>And the HTML</p>\n\n<pre><code>&lt;div id=\"formats\" class=\"lightorangeblock\"&gt;\n    &lt;a href=\"\"&gt;ADDSTAMP&lt;/a&gt;&lt;br&gt;\n    &lt;a href=\"\"&gt;SCLGLDNB&lt;/a&gt;&lt;br&gt;\n    &lt;a href=\"\"&gt;SCLGLVNB&lt;/a&gt;&lt;br&gt; \n&lt;/div&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "reply_to_user": {"reputation": 1113, "user_id": 11059320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MCWZp.jpg?s=128&g=1", "display_name": "shadow2020", "link": "https://stackoverflow.com/users/11059320/shadow2020"}, "edited": false, "score": 0, "creation_date": 1553719651, "post_id": 55385873, "comment_id": 97494205, "body": "@shadoe2020 What does &quot;did not work&quot; mean? Do you get an error in your Console? As you can see, it works here, so there must be an error somewhere else in your code."}, {"owner": {"reputation": 1113, "user_id": 11059320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MCWZp.jpg?s=128&g=1", "display_name": "shadow2020", "link": "https://stackoverflow.com/users/11059320/shadow2020"}, "edited": false, "score": 0, "creation_date": 1553720418, "post_id": 55385873, "comment_id": 97494601, "body": "I means I had the same result and had to click twice. You are probably right. Thank you."}], "tags": [], "owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "is_accepted": true, "score": 1, "last_activity_date": 1553718651, "last_edit_date": 1553718651, "creation_date": 1553718343, "answer_id": 55385873, "question_id": 55385792, "link": "https://stackoverflow.com/questions/55385792/have-to-click-element-twice-for-jquery-event-to-work/55385873#55385873", "title": "Have to click element twice for Jquery event to work", "body": "<p>The problem is that each of the anchor elements has an inline event handler that points to <code>ajaxShow</code>, which then sets up the actual event handler for future clicks.</p>\n\n<p>Instead, eliminate the inline handlers and just set up the actual handler without the <code>ajaxShow</code> wrapper.</p>\n\n<p>I would also suggest that you don't use <code>&lt;a&gt;</code> elements since you aren't actually navigating anywhere, so the use of the element is semantically incorrect and will cause problems for people who rely on assistive technologies to use the web. Instead, since you want line breaks in between each \"link\", use <code>&lt;div&gt;</code> elements and just style them to look like links.</p>\n\n<p>Lastly, you've used the <code>name</code> attribute on one of your last <code>div</code> elements, but <code>name</code> is only valid on form fields. You could give it an <code>id</code> if needed.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('#formats div').click(function(e) {\r\n   var txt = $(e.target).text();\r\n   console.log(txt);\r\n\r\n   $.ajax({\r\n    url : \"./enablereports/\" + txt + \".html\",\r\n    data: \"html\",\r\n    contentType:\"application/x-javascript; charset:ISO-8859-1\",\r\n    \tbeforeSend: function(jqXHR) {\r\n    \t  jqXHR.overrideMimeType('text/html;charset=iso-8859-1');\r\n    \t},\r\n    \tsuccess : function (data) {\r\n    \t\t$(\"#rightDiv\").html(data);\r\n    \t}\r\n    });\t\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#formats div { text-decoration:underline; color:blue; cursor:pointer; }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div id=\"wrapper\"&gt;\r\n\t&lt;div id=\"enablestuff\" class=\"yellowblock\"&gt;\r\n\t\t&lt;h3 id=\"title\" class=\"header\"&gt;Enable Formats&lt;/h3&gt;\r\n\t&lt;/div&gt;\r\n\t&lt;div id=\"formats\" class=\"lightorangeblock\"&gt;\r\n\t\t&lt;div&gt;ADDSTAMP&lt;/div&gt;\r\n\t\t&lt;div&gt;SCLGLDNB&lt;/div&gt;\r\n\t\t&lt;div&gt;SCLGLVNB&lt;/div&gt;\t\r\n\t&lt;/div&gt;\r\n&lt;/div&gt;\t\t\r\n&lt;div id=\"rightWrap\"&gt;\r\n  &lt;div id=\"rightDiv\"&gt;&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1113, "user_id": 11059320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MCWZp.jpg?s=128&g=1", "display_name": "shadow2020", "link": "https://stackoverflow.com/users/11059320/shadow2020"}, "is_accepted": false, "score": 0, "last_activity_date": 1553719182, "creation_date": 1553719182, "answer_id": 55386064, "question_id": 55385792, "link": "https://stackoverflow.com/questions/55385792/have-to-click-element-twice-for-jquery-event-to-work/55386064#55386064", "title": "Have to click element twice for Jquery event to work", "body": "<p>I was able to get this working by adding ajaxShow(); into a $(document).ready(function (). </p>\n\n<p>Dirty, but it works.</p>\n"}], "owner": {"reputation": 1113, "user_id": 11059320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MCWZp.jpg?s=128&g=1", "display_name": "shadow2020", "link": "https://stackoverflow.com/users/11059320/shadow2020"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 55385873, "answer_count": 3, "score": 0, "last_activity_date": 1553719268, "creation_date": 1553717994, "last_edit_date": 1553719268, "question_id": 55385792, "link": "https://stackoverflow.com/questions/55385792/have-to-click-element-twice-for-jquery-event-to-work", "title": "Have to click element twice for Jquery event to work", "body": "<p>I have an ajax function that I have to click twice to work. I would like it to just work with one click. It was working before I added a click event that checks the text of what I'm clicking and uses it as part of the URL. My problem likely resides there. I need a fresh perspective on what might be wrong.</p>\n\n<p>Jquery:</p>\n\n<pre><code>function ajaxShow(){    \n        $('#formats a').click(function(e) {\n          var txt = $(e.target).text();\n          console.log(txt);\n\n    $.ajax({\n        url : \"./enablereports/\" + txt + \".html\",\n        data: \"html\",\n        contentType:\"application/x-javascript; charset:ISO-8859-1\",\n            beforeSend: function(jqXHR) {\n            jqXHR.overrideMimeType('text/html;charset=iso-8859-1');\n            },\n        success : function (data) {\n            $(\"#rightDiv\").html(data);\n        }\n    });\n            });\n\n}\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>   &lt;body&gt;\n    &lt;div id=\"wrapper\"&gt;\n        &lt;div id=\"enablestuff\" class=\"yellowblock\"&gt;\n            &lt;h3 id=\"title\" class=\"header\"&gt;Enable Formats&lt;/h3&gt;\n        &lt;/div&gt;\n        &lt;div id=\"formats\" class=\"lightorangeblock\"&gt;\n            &lt;a href=\"\" onclick=\"ajaxShow();event.preventDefault()\"&gt;ADDSTAMP&lt;/a&gt;&lt;br&gt;\n            &lt;a href=\"\" onclick=\"ajaxShow();event.preventDefault()\"&gt;SCLGLDNB&lt;/a&gt;&lt;br&gt;\n            &lt;a href=\"\" onclick=\"ajaxShow();event.preventDefault()\"&gt;SCLGLVNB&lt;/a&gt;&lt;br&gt;\n\n        &lt;/div&gt;\n\n    &lt;/div&gt;      \n\n    &lt;div id=\"rightWrap\"&gt;\n       &lt;div id=\"rightDiv\"&gt;\n       &lt;/div&gt;\n    &lt;/div&gt;\n\n   &lt;/body&gt;\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 7126, "user_id": 3098783, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8a4af51b5552cf0aaaed3d491c2520b3?s=128&d=identicon&r=PG", "display_name": "Jankapunkt", "link": "https://stackoverflow.com/users/3098783/jankapunkt"}, "edited": false, "score": 2, "creation_date": 1553718205, "post_id": 55385781, "comment_id": 97493574, "body": "Please add the code you wrote. If this is a sole mathematical question it should rather be asked in math overflow."}, {"owner": {"reputation": 1, "user_id": 11064804, "user_type": "registered", "profile_image": "https://graph.facebook.com/2150161908627871/picture?type=large", "display_name": "Syed Aftab", "link": "https://stackoverflow.com/users/11064804/syed-aftab"}, "reply_to_user": {"reputation": 7126, "user_id": 3098783, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8a4af51b5552cf0aaaed3d491c2520b3?s=128&d=identicon&r=PG", "display_name": "Jankapunkt", "link": "https://stackoverflow.com/users/3098783/jankapunkt"}, "edited": false, "score": 0, "creation_date": 1553730804, "post_id": 55385781, "comment_id": 97498191, "body": "&lt;html&gt;&lt;body&gt;&lt;script&gt; var f1 = function(x){             return Math.log(Math.sin(x)) + 1;                        }         var integral = function(f,a,b){             var area = 0;             var dx = 0.001;             for(let x = a; x &lt; b; x += dx){                 area += dx*f(x);             }             return area;         }         document.write((integral(f1,0.5,2.5))); &lt;/html&gt;&lt;/body&gt;&lt;/script&gt;"}], "owner": {"reputation": 1, "user_id": 11064804, "user_type": "registered", "profile_image": "https://graph.facebook.com/2150161908627871/picture?type=large", "display_name": "Syed Aftab", "link": "https://stackoverflow.com/users/11064804/syed-aftab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 179, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553719861, "creation_date": 1553717956, "last_edit_date": 1553719861, "question_id": 55385781, "link": "https://stackoverflow.com/questions/55385781/how-to-start-with-this-code-to-find-definite-integral-of-this-equation-using-jav", "title": "How to start with this code to find Definite Integral of this equation using Javascript?", "body": "<p>I got the following Function:</p>\n\n<pre><code> f(x) = log(sin(x)) + 1\n</code></pre>\n\n<p>And I want to calculate the integral from x=0.5 to x=2.5. For that I defined these variables:</p>\n\n<pre><code>a = 0.5\nb = 2.5\nn = 10\n</code></pre>\n\n<p>The answer I got using the Calculator is </p>\n\n<pre><code>integral_0.5^2.5 (log(sin(x)) + 1)  = 1.6171\n</code></pre>\n\n<p>I have to find three answers using n = 10 equal sized intervals for the function f(x)\nusing:</p>\n\n<ul>\n<li>the trapezoidal method:</li>\n</ul>\n\n<p>area of segment equals base times the average of the height at the two end points of the segment. </p>\n\n<pre><code>  h = (b-a)/n\n  A = (f(x)+f(x+h))*(h/2)\n</code></pre>\n\n<ul>\n<li><p>Simpson's 1/3 rule </p>\n\n<p>h = (b-a)/(2*n)\n   A = (f(x)+4*f(x+h)+f(x+h+h))*(h/3)</p></li>\n<li><p>Simpson's 3/8 rule</p>\n\n<p>h = (b-a)/(3*n)\n  A = (f(x)+3*f(x+h)+3*f(x+h+h)+f(x+h+h+h))*(3*h/8)</p></li>\n</ul>\n"}, {"tags": ["javascript", "firebase", "google-cloud-functions"], "comments": [{"owner": {"reputation": 6467, "user_id": 7164592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QlZVW.png?s=128&g=1", "display_name": "Jen Person", "link": "https://stackoverflow.com/users/7164592/jen-person"}, "edited": false, "score": 2, "creation_date": 1553718521, "post_id": 55385777, "comment_id": 97493700, "body": "Using a transaction can prevent that change you&#39;re talking about. But That&#39;s a lot of reads you&#39;re doing! Maybe instead of a Cron Job HTTP trigger, have a trigger for the database when <code>units.worker</code> updates. Also you probably want to start <code>CalculateIncomePrivate()</code> with <code>return</code>."}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 8321490, "user_type": "registered", "profile_image": "https://graph.facebook.com/10213174375491354/picture?type=large", "display_name": "Nicholas Ladefoged", "link": "https://stackoverflow.com/users/8321490/nicholas-ladefoged"}, "edited": false, "score": 0, "creation_date": 1553719091, "post_id": 55386010, "comment_id": 97493935, "body": "Thank you! Just the kind of info I was looking for ! Much appreciated!"}], "tags": [], "owner": {"reputation": 7065, "user_id": 4017501, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-Mk9ZAlByQdc/AAAAAAAAAAI/AAAAAAAAAD8/TKM32IE8Mxs/photo.jpg?sz=128", "display_name": "cutiko", "link": "https://stackoverflow.com/users/4017501/cutiko"}, "is_accepted": true, "score": 1, "last_activity_date": 1553816544, "last_edit_date": 1553816544, "creation_date": 1553718941, "answer_id": 55386010, "question_id": 55385777, "link": "https://stackoverflow.com/questions/55385777/firebase-functions/55386010#55386010", "title": "Firebase functions", "body": "<p>This is an async vs blocking problem.</p>\n\n<p>CalculateIncomePrivate is async,  so the code execution will move forward to the next line, returning</p>\n\n<p>So change your function to</p>\n\n<pre><code>function  CalculateIncomePrivate()\n    return admin.database...\n</code></pre>\n\n<p>And then called it like this:</p>\n\n<pre><code>exports.CalculateIncome....\nreturn CalculateIncomePrivate().then(function(){\n    resp....\n}).catch(function(error){\n    resp.status(500).send(error);\n});\n</code></pre>\n\n<p>Make sure that any chained promise is returned.</p>\n\n<p>This should help you with promises \n<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise</a></p>\n\n<p>And this with Firebase Functions Promises\n<a href=\"https://www.youtube.com/playlist?list=PLl-K7zZEsYLkPZHe41m4jfAxUi0JjLgSM\" rel=\"nofollow noreferrer\">https://www.youtube.com/playlist?list=PLl-K7zZEsYLkPZHe41m4jfAxUi0JjLgSM</a></p>\n"}], "owner": {"reputation": 93, "user_id": 8321490, "user_type": "registered", "profile_image": "https://graph.facebook.com/10213174375491354/picture?type=large", "display_name": "Nicholas Ladefoged", "link": "https://stackoverflow.com/users/8321490/nicholas-ladefoged"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 55386010, "answer_count": 1, "score": 0, "last_activity_date": 1553816544, "creation_date": 1553717935, "last_edit_date": 1553718171, "question_id": 55385777, "link": "https://stackoverflow.com/questions/55385777/firebase-functions", "title": "Firebase functions", "body": "<p>I am building a website like a game. I want to update users' stats (gold, etc.) every 5 minutes for now. To do this I set up a cronjob running every 5 minutes, no problem. However, it seems like firebase functions might \"hang\" even though on their site, they go for about 5ms.</p>\n\n<p>I just discovered if I \"buy\" just when the cronjob runs (the function runs) I see that the \"gold\" does not get updated probably, it gets set right back to when I started buying.</p>\n\n<ol>\n<li>Is my function even acceptable?</li>\n<li>Where could the hang be? Is it because I loop through (now 100) fake users?</li>\n<li>If so, why would firebase say it takes mostly 5 ms to complete?</li>\n<li>Is there any way to make sure, if a user updates just as function is going to secure, that then function update the latest value?</li>\n</ol>\n\n<pre><code>import * as functions from 'firebase-functions';\n\nimport * as admin from \"firebase-admin\";\n\nimport {UnitsDTO} from '../../ProjectXFrontend/src/ModelsDTO/Unit/unitsDTO';\nimport {CurrencyDTO} from '../../ProjectXFrontend/src/ModelsDTO/Currency/CurrencyDTO';\n\nadmin.initializeApp();\n\n  export const test = functions.https.onRequest((reques , respon) =&gt; {\n    admin.database().ref('/LastUpdated').set(\n      admin.database.ServerValue.TIMESTAMP\n    ).then().catch()\n    return respon.send(reques.ip);\n  });\n\n  export const GetTime = functions.https.onRequest((request , response) =&gt; {\n    return response.send({data: new Date()})\n  });\n\n  export const CalculateBasics = functions.https.onRequest((request , res) =&gt; {\n    if (request.ip === '195.201.26.157') {\n      CalculateBreeder();\n      return res.send('ok');\n     } else {\n      res.statusCode = 400;\n      return res.send(new Error('Bad request'))\n    } \n\n  });\n\n export const CalculateIncome = functions.https.onRequest((request , res) =&gt; {\n  if (request.ip === '195.201.26.157') {\n    CalculateIncomePrivate();\n    return res.send('ok');\n  } else {\n    res.statusCode = 400;\n    return res.send(new Error('Bad request'))\n  }\n });\n\n\n\n\n function CalculateIncomePrivate() {\n  admin.database().ref('/users').once('value').then( snap =&gt; {\n    snap.forEach( child =&gt; { \n      const user = child.key // uid\n        admin.database().ref('users/' + user).once('value').then(snapUser =&gt; {\n          const units = new UnitsDTO();\n          const currency = new CurrencyDTO();\n          if (snapUser.hasChild('Units')) { // in units\n            units.worker = snapUser.child('Units').child('worker').val()\n          } \n          if (snapUser.hasChild('currency/gold')) { // gold\n            currency.goldDto = snapUser.child('currency/gold').val();\n          }\n          // calculate news\n          currency.goldDto.amount += units.worker.amount * units.worker.currencyPerTick;\n\n          // set the Income\n          admin.database().ref('users/' + user + '/currency/gold').set(currency.goldDto).then().catch(error =&gt; {console.error(error)})\n          // update time\n          admin.database().ref('/status/LastIncome').set(\n            admin.database.ServerValue.TIMESTAMP\n          )\n          .then(() =&gt; {\n            // return res.send('ok');\n\n          })\n          .catch(error =&gt; {\n            // res.statusCode = 500;\n            // return res.send(error)\n\n          });\n\n      }).catch(error =&gt; {\n        // res.statusCode = 500;\n        // return res.send(error);\n      }); \n    })\n  }).catch(error =&gt; {\n    // res.statusCode = 500;\n    // return res.send(error);\n  })\n }\n\n\n</code></pre>\n\n<p>So, the expected result is of course that the function updates the user's income, which it does, however it seems like it \"hangs\" and that it doesn't quite update correctly, due to user \"buying stuff\" when the functions runs.</p>\n"}, {"tags": ["javascript", "vue.js", "events", "computed-properties"], "comments": [{"owner": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 0, "creation_date": 1553718466, "post_id": 55385730, "comment_id": 97493675, "body": "Please post enough code to reproduce the issue."}, {"owner": {"reputation": 566, "user_id": 487909, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/lrhhE.gif?s=128&g=1", "display_name": "Hypersapien", "link": "https://stackoverflow.com/users/487909/hypersapien"}, "reply_to_user": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 0, "creation_date": 1553720120, "post_id": 55385730, "comment_id": 97494449, "body": "Added. Like I said, <code>compVal</code> is being called when the event is triggered (it&#39;s triggered by form elements elsewhere on the page), but before the event handler is called."}], "answers": [{"comments": [{"owner": {"reputation": 566, "user_id": 487909, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/lrhhE.gif?s=128&g=1", "display_name": "Hypersapien", "link": "https://stackoverflow.com/users/487909/hypersapien"}, "edited": false, "score": 0, "creation_date": 1553719731, "post_id": 55385856, "comment_id": 97494244, "body": "That&#39;s just it. It <i>shouldn&#39;t</i> run based on a watcher event. The watcher is assigning values that it&#39;s dependent on, but the function is running before those values even get assigned, so it ends up being called twice."}], "tags": [], "owner": {"reputation": 1452, "user_id": 988957, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/69fc0e63af6afad5015d2a632a91ec49?s=128&d=identicon&r=PG", "display_name": "campino2k", "link": "https://stackoverflow.com/users/988957/campino2k"}, "is_accepted": false, "score": 0, "last_activity_date": 1553718284, "creation_date": 1553718284, "answer_id": 55385856, "question_id": 55385730, "link": "https://stackoverflow.com/questions/55385730/computed-value-function-in-vue-object-being-triggered/55385856#55385856", "title": "Computed value function in Vue object being triggered", "body": "<p>If your function should run based on a watcher event, then the function should be located in methods.</p>\n"}, {"tags": [], "owner": {"reputation": 566, "user_id": 487909, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/lrhhE.gif?s=128&g=1", "display_name": "Hypersapien", "link": "https://stackoverflow.com/users/487909/hypersapien"}, "is_accepted": false, "score": 0, "last_activity_date": 1553786047, "creation_date": 1553786047, "answer_id": 55401085, "question_id": 55385730, "link": "https://stackoverflow.com/questions/55385730/computed-value-function-in-vue-object-being-triggered/55401085#55401085", "title": "Computed value function in Vue object being triggered", "body": "<p>I actually figured it out.</p>\n\n<p>One of the objects that was being passed in by the event was a reference to the object held by the code that was triggering the event, rather than a copy. When the page first loaded, an initial event with default values was sent. When the Vue object stored those values, it was getting a reference. When the source of the event (a different Vue object that had domain over the form elements) changed its copy of the object, it was automatically triggering the change in the main Vue object\u2019s reference to the object and causing the property to evaluate.</p>\n\n<p>Doing a deep clone of the object before passing it into the event solved it.</p>\n"}], "owner": {"reputation": 566, "user_id": 487909, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/lrhhE.gif?s=128&g=1", "display_name": "Hypersapien", "link": "https://stackoverflow.com/users/487909/hypersapien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 441, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1553786047, "creation_date": 1553717696, "last_edit_date": 1553720021, "question_id": 55385730, "link": "https://stackoverflow.com/questions/55385730/computed-value-function-in-vue-object-being-triggered", "title": "Computed value function in Vue object being triggered", "body": "<p>I have a Vue object that contains a <code>computed</code> property. In the <code>mounted</code> function, there is an event that I set up a listener for. The function for the computed property is being called when the event that I'm listening for is triggered, but it's being called <em>before</em> the event handler starts its process. The only other reference to the computed property in the object is a watcher. The call stack only shows vue.js processes prior to the computed property being called. As near as I can tell, no values that the computed property is dependent on are being changed.</p>\n\n<pre><code>new Vue({\nel: '#element',\ndata: {\n    info: [],\n},\ncomputed: {\n    compVal: function () {\n        .\n        .\n        .\n    },\n    d\n},\nwatch: {\n    compVal: function (dataSet) {\n        .\n        .\n        .\n    }\n},\nmounted: function () {\n    var vm = this;\n\n    window.addEventListener(\"datachange\", function (e) {\n        vm.info = e.newInfo;\n    });\n}})\n</code></pre>\n\n<p>Can someone help me figure out why it is being called so I can prevent it? Or at least help me determine that no dependent values are changing so I can return early from it instead of completing the function?</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1241, "user_id": 710954, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/f6ab997142e043460dbef0e37ad9170e?s=128&d=identicon&r=PG", "display_name": "Jon Tan", "link": "https://stackoverflow.com/users/710954/jon-tan"}, "edited": false, "score": 0, "creation_date": 1553719110, "post_id": 55385752, "comment_id": 97493944, "body": "You are the best! Your quick replies were spot on. Thank you!"}], "tags": [], "owner": {"reputation": 3290, "user_id": 9591609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/77PJu.jpg?s=128&g=1", "display_name": "Devansh J", "link": "https://stackoverflow.com/users/9591609/devansh-j"}, "is_accepted": true, "score": 10, "last_activity_date": 1553719132, "last_edit_date": 1592644375, "creation_date": 1553717811, "answer_id": 55385752, "question_id": 55385690, "link": "https://stackoverflow.com/questions/55385690/passing-function-as-parameter-in-typescript-expected-0-arguments-but-got-1-ts/55385752#55385752", "title": "Passing function as parameter in Typescript: Expected 0 arguments, but got 1.ts", "body": "<p>The <code>doSomething</code> type seems incorrect. In the type declaration \u2013 <code>() =&gt; void</code> it takes no arguments, but later you are passing arguments to it.</p>\n<p>For this piece of code following would work, but you would know better what should be the arguments and their types of <code>doSomething</code>. Probably use a interface if you already have an abstraction in your mind.</p>\n<pre><code>function performAction(doSomething: (stuff: { name: string, id: string }) =&gt; void) {\n  doSomething({\n    name: &quot;foo&quot;,\n    id: &quot;bar&quot;\n  });\n}\n</code></pre>\n<p><a href=\"http://www.typescriptlang.org/play/#src=function%20performAction(doSomething%3A%20(stuff%3A%20%7B%20name%3A%20string%2C%20id%3A%20string%20%7D)%20%3D%3E%20void)%20%7B%0D%0A%20%20doSomething(%7B%0D%0A%20%20%20%20name%3A%20%22foo%22%2C%0D%0A%20%20%20%20id%3A%20%22bar%22%0D%0A%20%20%7D)%3B%0D%0A%7D\" rel=\"noreferrer\">Demo</a> for above.</p>\n<p>Also if <code>string</code> in your code is a variable you need to change that because <code>string</code> is reserved for the type. In case you don't what to fix the type of <code>doSomething</code> right now you can use the <code>Function</code> type. <a href=\"http://www.typescriptlang.org/play/#src=function%20performAction(doSomething%3A%20Function)%20%7B%0D%0A%20%20doSomething(%7B%0D%0A%20%20%20%20name%3A%20%22foo%22%2C%0D%0A%20%20%20%20id%3A%20%22bar%22%0D%0A%20%20%7D)%3B%0D%0A%7D\" rel=\"noreferrer\">Demo</a></p>\n<br>\n<h2>Update</h2>\n<p>For your updated question you need to write <code>function performAction(doSomething: (stuff: someType) =&gt; void</code> <a href=\"http://www.typescriptlang.org/play/#src=type%20someType%20%3D%20%7B%0D%0A%20%20name%3A%20string%2C%0D%0A%20%20id%3A%20string%0D%0A%7D%0D%0A%0D%0Afunction%20doSomethingFn(props%3A%20someType)%20%7B%0D%0A%20%20console.log(props.name%20%2B%20%22%20%22%20%2B%20props.id)%3B%0D%0A%7D%0D%0A%0D%0Afunction%20performAction(doSomething%3A%20(stuff%3A%20someType)%20%3D%3E%20void)%20%7B%0D%0A%20%20doSomething(%7B%0D%0A%20%20%20%20name%3A%20%22foo%22%2C%0D%0A%20%20%20%20id%3A%20%22bar%22%0D%0A%20%20%7D)%3B%0D%0A%7D%0D%0A%0D%0AperformAction(doSomethingFn)%3B\" rel=\"noreferrer\">Demo</a></p>\n"}, {"tags": [], "owner": {"reputation": 9616, "user_id": 7194268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def585555f060fee8dcc065f270e403b?s=128&d=identicon&r=PG&f=1", "display_name": "mbojko", "link": "https://stackoverflow.com/users/7194268/mbojko"}, "is_accepted": false, "score": 3, "last_activity_date": 1553717882, "creation_date": 1553717882, "answer_id": 55385768, "question_id": 55385690, "link": "https://stackoverflow.com/questions/55385690/passing-function-as-parameter-in-typescript-expected-0-arguments-but-got-1-ts/55385768#55385768", "title": "Passing function as parameter in Typescript: Expected 0 arguments, but got 1.ts", "body": "<p>You type doSomething as a function with no arguments: <code>doSomething: () =&gt; void</code>. Make it, dunno, <code>doSomething: (arg: SomeInterface) =&gt; void</code> (SomeInterface being, for example, <code>{name: string; id: string;}</code>).</p>\n"}], "owner": {"reputation": 1241, "user_id": 710954, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/f6ab997142e043460dbef0e37ad9170e?s=128&d=identicon&r=PG", "display_name": "Jon Tan", "link": "https://stackoverflow.com/users/710954/jon-tan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10205, "favorite_count": 0, "accepted_answer_id": 55385752, "answer_count": 2, "score": 9, "last_activity_date": 1553719132, "creation_date": 1553717554, "last_edit_date": 1553718731, "question_id": 55385690, "link": "https://stackoverflow.com/questions/55385690/passing-function-as-parameter-in-typescript-expected-0-arguments-but-got-1-ts", "title": "Passing function as parameter in Typescript: Expected 0 arguments, but got 1.ts", "body": "<p>I am trying to pass in this <code>doSomething</code> function into <code>performAction</code>, but the error I'm getting is <code>Expected 0 arguments, but got 1</code></p>\n\n<pre><code>type someType = {\n  name: string,\n  id: string\n}\n\nfunction doSomethingFn(props: someType) {\n  console.log(props.name + \" \" + props.id);\n}\n\nfunction performAction(doSomething: () =&gt; void) {\n  doSomething({\n    name: \"foo\",\n    id: \"bar\"\n  });\n}\n\nperformAction(doSomethingFn);\n</code></pre>\n\n<p>Am I using the proper syntax for Typescript?</p>\n"}, {"tags": ["javascript", "api", "oauth-2.0", "basecamp"], "answers": [{"tags": [], "owner": {"reputation": 324, "user_id": 10101797, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uR6-CsRt_e4/AAAAAAAAAAI/AAAAAAAAAP0/gytmWOXsFV0/photo.jpg?sz=128", "display_name": "Fabien", "link": "https://stackoverflow.com/users/10101797/fabien"}, "is_accepted": true, "score": 0, "last_activity_date": 1554149393, "creation_date": 1554149393, "answer_id": 55462824, "question_id": 55385682, "link": "https://stackoverflow.com/questions/55385682/how-to-get-a-token-with-basecamp3-api-after-oauth-2/55462824#55462824", "title": "How to get a token with Basecamp3 API after OAuth 2?", "body": "<p>I have found a solution. The problem came from how I used <code>curl</code> in command line in order to create a POST request. I put the elements inside the url instead of using <code>--data</code> option. </p>\n"}], "owner": {"reputation": 324, "user_id": 10101797, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uR6-CsRt_e4/AAAAAAAAAAI/AAAAAAAAAP0/gytmWOXsFV0/photo.jpg?sz=128", "display_name": "Fabien", "link": "https://stackoverflow.com/users/10101797/fabien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 418, "favorite_count": 0, "accepted_answer_id": 55462824, "answer_count": 1, "score": 0, "last_activity_date": 1554149393, "creation_date": 1553717524, "last_edit_date": 1553717861, "question_id": 55385682, "link": "https://stackoverflow.com/questions/55385682/how-to-get-a-token-with-basecamp3-api-after-oauth-2", "title": "How to get a token with Basecamp3 API after OAuth 2?", "body": "<p>I am building a Javascript application using <a href=\"https://github.com/basecamp/bc3-api\" rel=\"nofollow noreferrer\">Basecamp3 API</a> with authentication <a href=\"https://github.com/basecamp/api/blob/master/sections/authentication.md\" rel=\"nofollow noreferrer\">OAuth2</a>. I started by register my app at <a href=\"https://launchpad.37signals.com/integrations\" rel=\"nofollow noreferrer\">https://launchpad.37signals.com/integrations</a> in order to  provide my <code>redirect_uri</code> and get my <code>client_id</code> &amp; <code>client_secret</code> to configure my OAuth 2 library.</p>\n\n<p>Everything seems to work when I launch my app. I am able to get the Basecamp login, and give access to my Basecamp 3 data.</p>\n\n<p><a href=\"https://i.stack.imgur.com/NCt9u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NCt9u.png\" alt=\"Basecamp3_autorization\"></a></p>\n\n<p>However, when the configuration is done, the window closes and I do not have access into my app.</p>\n\n<p>I checked the log, and I saw an error 400:</p>\n\n<p><code>error: 2019-03-27 02:59:55.5955 Error when requesting api key StatusCodeError: 400 - {\"timestamp\":1553716795279,\"status\":400,\"error\":\"Bad Request\",\"message\":\"Bad request\",\"path\":\"/thirdparty/proxy/oauth2/requestTokens/\"}</code></p>\n\n<p>It looks like I cannot get a token, so I changed the actual link <code>https://launchpad.37signals.com/authorization/token</code> to <code>https://launchpad.37signals.com/authorization/token?type=web_server</code> like I did for the first link for the authorization (explained <a href=\"https://stackoverflow.com/questions/17455074/dotnetopenauth-oauth2-for-basecamp-api\">here</a>)</p>\n\n<p>But I still get an error, but error 500:</p>\n\n<p><code>error: 2019-03-27 02:56:16.5616 Error when requesting api key StatusCodeError: 500 - {\"apierror\":{\"status\":\"INTERNAL_SERVER_ERROR\",\"timestamp\":\"27-03-2019 07:56:16\",\"message\":\"Unexpected error\",\"debugMessage\":\"could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.DataException: could not execute statement\",\"errors\":null}}</code></p>\n\n<p>I even tried to change the protocol <code>https</code> to <code>http</code>. I still get an error 500:</p>\n\n<p><code>error: 2019-03-27 03:05:15.515 Error when requesting api key StatusCodeError: 500 - {\"timestamp\":1553717115170,\"status\":500,\"error\":\"Internal Server Error\",\"message\":\"Error requesting from http://launchpad.37signals.com/authorization/token?client_id=1111111111111111111111111&amp;client_secret=22222222222222222222222&amp;code=abcdef&amp;redirect_uri=http%3A%2F%2Flocalhost%2Foauth%2Fredirect&amp;grant_type=authorization_code; got HTTP response HTTP/1.1 307 Temporary Redirect\",\"path\":\"/thirdparty/proxy/oauth2/requestTokens/\"}</code></p>\n\n<p>I tried to change my request in many ways, it doesn't work.</p>\n\n<p>I tried to get a token with Postman (same way I am trying to do with my app), and I cannot.</p>\n\n<p>Do you know where this error comes from?</p>\n"}, {"tags": ["javascript", "jquery", "html", "json"], "comments": [{"owner": {"reputation": 9602, "user_id": 836277, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/STgnX.jpg?s=128&g=1", "display_name": "Chris Hawkes", "link": "https://stackoverflow.com/users/836277/chris-hawkes"}, "edited": false, "score": 0, "creation_date": 1553719978, "post_id": 55385636, "comment_id": 97494378, "body": "once your promises are done, you should be doing something with your data.  Like injecting it into the DOM"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 11257768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb677f0f6619535ef0582e5e783432e0?s=128&d=identicon&r=PG&f=1", "display_name": "TheGreatHam", "link": "https://stackoverflow.com/users/11257768/thegreatham"}, "edited": false, "score": 0, "creation_date": 1553816716, "post_id": 55402527, "comment_id": 97537334, "body": "Thanks for the help, however I am required to call the review data from the API link and not locally as you have done in the variable datastring."}, {"owner": {"reputation": 2021, "user_id": 903014, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/bnzFu.jpg?s=128&g=1", "display_name": "Steve0", "link": "https://stackoverflow.com/users/903014/steve0"}, "reply_to_user": {"reputation": 13, "user_id": 11257768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb677f0f6619535ef0582e5e783432e0?s=128&d=identicon&r=PG&f=1", "display_name": "TheGreatHam", "link": "https://stackoverflow.com/users/11257768/thegreatham"}, "edited": false, "score": 0, "creation_date": 1554223114, "post_id": 55402527, "comment_id": 97669398, "body": "sure, I left your promise commented out.  I assumed it was functional and the DOM injection was where the hangup was.  uncommenting the promise call to your API and getting rid of <code>var data</code> should function as you expect."}], "tags": [], "owner": {"reputation": 2021, "user_id": 903014, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/bnzFu.jpg?s=128&g=1", "display_name": "Steve0", "link": "https://stackoverflow.com/users/903014/steve0"}, "is_accepted": false, "score": 0, "last_activity_date": 1553790274, "creation_date": 1553790274, "answer_id": 55402527, "question_id": 55385636, "link": "https://stackoverflow.com/questions/55385636/question-about-loading-reviews-from-a-text-api-using-jquery/55402527#55402527", "title": "Question about loading reviews from a text API using JQuery", "body": "<p>Here is a snippet of how I tend to accomplish something like this;</p>\n\n<ol>\n<li>Make an invisible review HTML template</li>\n<li>retrieve and parse the data <em>skipped for snippet functionality</em></li>\n<li><p>process the data by doing the following for each item;</p>\n\n<p>-cloning the template.</p>\n\n<p>-filling in the clone.</p>\n\n<p>-adding the clone to a placeholder</p></li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var dataString = '[{\"id\":\"1\",\"product_id\":\"scooter\",\"nickname\":\"James\",\"review\":\"Im impressed with the result \",\"rating \":\"5 \"},{\"id \":\"2 \",\"product_id \":\"scooter \",\"nickname\":\"Jerry \",\"review\":\"Its rubbish \",\"rating \":\"1 \"}]';\r\n\r\n$(function() {\r\n  var data = JSON.parse(dataString);\r\n  var $template = $(\"#template\");\r\n  //var promise = $.ajax('API_link_goes_here').\r\n  //promise.done(function(data) {\r\n  for (idx = 0; idx &lt; data.length; idx++) {\r\n    var item = $template.clone();\r\n    item.find(\".user\").text(data[idx].nickname); //set the nickname\r\n    item.find(\".maintext\").text(data[idx].review); //set the review text\r\n    item.show(); //toggle the visibility cause the template was hidden\r\n    $(\"#reviews\").append(item);\r\n  }\r\n  //});\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#reviews .reviewWrapper {\r\n  display: block;\r\n  width: 50%;\r\n  border: 1px solid #ccc;\r\n  margin: auto;\r\n  margin-top: 5px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id='template' class='reviewWrapper' style='display:none'&gt;\r\n  &lt;img src=\"reviewicon1.jpg\" alt=\"An image of a vehicle, a stock \r\n    user review image.\"&gt;\r\n  &lt;h3 class=\"idfont caption\"&gt;Great&lt;/h3&gt;\r\n  &lt;h4 class=\"idfont idposition user\"&gt;&lt;/h4&gt;\r\n  &lt;p class=\"maintext\"&gt;&lt;/p&gt;\r\n&lt;/div&gt;\r\n&lt;div&gt;\r\n  &lt;div id='reviews'&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 13, "user_id": 11257768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb677f0f6619535ef0582e5e783432e0?s=128&d=identicon&r=PG&f=1", "display_name": "TheGreatHam", "link": "https://stackoverflow.com/users/11257768/thegreatham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1553790274, "creation_date": 1553717319, "last_edit_date": 1553719886, "question_id": 55385636, "link": "https://stackoverflow.com/questions/55385636/question-about-loading-reviews-from-a-text-api-using-jquery", "title": "Question about loading reviews from a text API using JQuery", "body": "<p>So I'm trying to load these reviews from a text API I've been given onto a webpage, here are two as an example.</p>\n\n<pre><code>[{\"id\":\"1\",\"product_id\":\"scooter\",\"nickname\":\"James\",\"review\":\"I'm impressed with the result\",\"rating\":\"5\"},{\"id\":\"2\",\"product_id\":\"scooter\",\"nickname\":\"Jerry\",\"review\":\"Its rubbish\",\"rating\":\"1\"}]\n</code></pre>\n\n<p>There are about 13 in total. To load them into my HTML document, I'm trying to use an ajax function with a loop, then adding the corresponding values into the html file with an append function. I know the javascript code below doesn't work because as none of the reviews have specific identifiers, the code I included pastes all of the review values in every h4 or p item in the html document every time. </p>\n\n<p>My question is how do I fetch the nickname and review items from the API so that they only appear once each on my html document?</p>\n\n<p>Example of where I want 2 reviews to load. The reviewer name in the h4 tag and the review itself within the p tag.</p>\n\n<pre><code>&lt;div id=\"productreviews\"&gt;\n\n&lt;img id=\"reviewimg1\" src=\"reviewicon1.jpg\" alt=\"An image of a vehicle, a stock \n    user review image.\"&gt;\n    &lt;h3 class=\"idfont\" id=\"reviewcaption1\"&gt;Good God!!&lt;/h3&gt;\n    &lt;h4 class=\"idfont idposition\" id=\"reviewuser1\"&gt;&lt;/h4&gt;\n    &lt;p class=\"maintext\" id=\"reviewmain1\"&gt;&lt;/p&gt;\n\n&lt;img id=\"reviewimg2\" src=\"reviewicon1.jpg\" alt=\"An image of a vehicle, a stock \n    user review image.\"&gt;\n    &lt;h3 class=\"idfont\" id=\"reviewcaption2\"&gt;Great&lt;/h3&gt;\n    &lt;h4 class=\"idfont idposition\" id=\"reviewuser2\"&gt;&lt;/h4&gt;\n    &lt;p class=\"maintext\" id=\"reviewmain2\"&gt;&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Here is my current Javascript</p>\n\n<pre><code>$(document).on('ready', function(){\n    var list = $(\"#productreviews\").find('h4');\nlist.empty();\nvar promise = $.ajax('API_link_goes_here');\npromise.done(function(data) {\n    for(idx = 0; idx &lt; data.length; idx++) {\n     list.append('&lt;dd&gt;' + data[idx].nickname + '&lt;/dd&gt;');\n    }\n});\n    var list2 = $(\"#productreviews\").find('p');\nlist2.empty();\nvar promise = $.ajax('API_link_goes_here');\npromise.done(function(data) {\n    for(idx = 0; idx &lt; data.length; idx++) {\n     list2.append('&lt;dd&gt;' + data[idx].review + '&lt;/dd&gt;');\n    }\n}); \n</code></pre>\n"}, {"tags": ["javascript", "google-chrome", "vue.js"], "answers": [{"tags": [], "owner": {"reputation": 3135, "user_id": 7009480, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/okbwx.jpg?s=128&g=1", "display_name": "Philipp Mochine", "link": "https://stackoverflow.com/users/7009480/philipp-mochine"}, "is_accepted": false, "score": 0, "last_activity_date": 1553719602, "creation_date": 1553719602, "answer_id": 55386174, "question_id": 55385614, "link": "https://stackoverflow.com/questions/55385614/chrome-autofill-should-set-the-form-to-valid/55386174#55386174", "title": "Chrome autofill should set the form to valid", "body": "<p>Ok I found one solution over <a href=\"https://github.com/vuematerial/vue-material/pull/1868\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>In my case it's (input:-webkit-autofil):</p>\n\n<pre><code>input:focus ~ label, input:valid ~ label, input:-webkit-autofill ~ label{\n  top:-20px;\n  font-size:14px;\n  color:#5264AE;\n}\n</code></pre>\n"}], "owner": {"reputation": 3135, "user_id": 7009480, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/okbwx.jpg?s=128&g=1", "display_name": "Philipp Mochine", "link": "https://stackoverflow.com/users/7009480/philipp-mochine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 341, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1553719602, "creation_date": 1553717218, "last_edit_date": 1553717528, "question_id": 55385614, "link": "https://stackoverflow.com/questions/55385614/chrome-autofill-should-set-the-form-to-valid", "title": "Chrome autofill should set the form to valid", "body": "<p>On the first image, you see a bug, where Chrome does not set the form to valid when autofilling.</p>\n\n<p><a href=\"https://i.stack.imgur.com/SxpGYs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SxpGYs.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is how it should look like.</p>\n\n<p><a href=\"https://i.stack.imgur.com/dlAh2s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dlAh2s.png\" alt=\"enter image description here\"></a></p>\n\n<p>I found a Github Issue to my issue <a href=\"https://github.com/angular/material2/issues/3414\" rel=\"nofollow noreferrer\">here</a>, but it is based on Angular. I'm working with Vue.</p>\n\n<p>The label goes only up when the field is focues or valid.</p>\n\n<pre><code>input:focus ~ label, input:valid ~ label        {\n  top:-20px;\n  font-size:14px;\n  color:#5264AE;\n}\n</code></pre>\n\n<p>Besides that, the html with shadow nodes looks like this:</p>\n\n<pre><code>&lt;input type=\"email\" name=\"email\" autocomplete=\"username\" data-vv-delay=\"500\" aria-label=\"Your email\" required=\"required\" class=\"\" aria-required=\"true\" aria-invalid=\"false\"&gt;\n   &lt;div pseudo=\"-internal-input-suggested\" id=\"placeholder\" style=\"display: block !important;\"&gt;avidofood@somemail.com&lt;/div&gt;\n&lt;/input&gt;\n</code></pre>\n\n<p>What could I do?</p>\n"}, {"tags": ["javascript", "angular", "web-applications", "hyperlink", "components"], "comments": [{"owner": {"reputation": 6367, "user_id": 9386929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f9bac9557ecb2df1aa89cd5dc5442d0?s=128&d=identicon&r=PG", "display_name": "nircraft", "link": "https://stackoverflow.com/users/9386929/nircraft"}, "edited": false, "score": 0, "creation_date": 1553717501, "post_id": 55385566, "comment_id": 97493252, "body": "Please try to share a Minimal, Complete, and Verifiable example of what you have tried so far for others to help."}, {"owner": {"reputation": 586, "user_id": 4113290, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c12ede6e2770f0e5e012ec34bb72046b?s=128&d=identicon&r=PG&f=1", "display_name": "Woohoojin", "link": "https://stackoverflow.com/users/4113290/woohoojin"}, "edited": false, "score": 0, "creation_date": 1553718876, "post_id": 55385566, "comment_id": 97493842, "body": "Theoretically, if you want to avoid updating the <code>&lt;a&gt;</code> tags at all costs, you could add a <code>HostListener</code> to the header and footer that tracks when a click occurs in either of them. You could use this combined with an observable to figure out how the user navigated. I would highly recommend not doing this though.."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 10294648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e05a7986dad5cd1c4e4b02f4d17d771d?s=128&d=identicon&r=PG&f=1", "display_name": "scriptify.js", "link": "https://stackoverflow.com/users/10294648/scriptify-js"}, "edited": false, "score": 0, "creation_date": 1553718144, "post_id": 55385672, "comment_id": 97493546, "body": "but in this case I will need to add this directive to all the &#39;&lt;a&gt;&#39; tags in the application, and there are too many."}, {"owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "reply_to_user": {"reputation": 37, "user_id": 10294648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e05a7986dad5cd1c4e4b02f4d17d771d?s=128&d=identicon&r=PG&f=1", "display_name": "scriptify.js", "link": "https://stackoverflow.com/users/10294648/scriptify-js"}, "edited": false, "score": 0, "creation_date": 1553718286, "post_id": 55385672, "comment_id": 97493613, "body": "@scriptify.js yes"}, {"owner": {"reputation": 37, "user_id": 10294648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e05a7986dad5cd1c4e4b02f4d17d771d?s=128&d=identicon&r=PG&f=1", "display_name": "scriptify.js", "link": "https://stackoverflow.com/users/10294648/scriptify-js"}, "edited": false, "score": 0, "creation_date": 1553718505, "post_id": 55385672, "comment_id": 97493690, "body": "man, I know this is a working solution, but the app is huge, and other developers are adding html and new components to it, there should be a better solution than visiting all the &lt;a&gt; tags in the entire app to add these attributes to them."}, {"owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "reply_to_user": {"reputation": 37, "user_id": 10294648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e05a7986dad5cd1c4e4b02f4d17d771d?s=128&d=identicon&r=PG&f=1", "display_name": "scriptify.js", "link": "https://stackoverflow.com/users/10294648/scriptify-js"}, "edited": false, "score": 0, "creation_date": 1553718884, "post_id": 55385672, "comment_id": 97493845, "body": "@scriptify.js there are some ways you can intercept which route (not component) you are coming from, however for that also you need to add some code in all your components"}, {"owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "reply_to_user": {"reputation": 37, "user_id": 10294648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e05a7986dad5cd1c4e4b02f4d17d771d?s=128&d=identicon&r=PG&f=1", "display_name": "scriptify.js", "link": "https://stackoverflow.com/users/10294648/scriptify-js"}, "edited": false, "score": 0, "creation_date": 1553719213, "post_id": 55385672, "comment_id": 97494002, "body": "@scriptify.js see this <a href=\"https://blog.hackages.io/our-solution-to-get-a-previous-route-with-angular-5-601c16621cf0\" rel=\"nofollow noreferrer\">blog.hackages.io/&hellip;</a>"}], "tags": [], "owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "is_accepted": false, "score": 0, "last_activity_date": 1553718452, "last_edit_date": 1553718452, "creation_date": 1553717489, "answer_id": 55385672, "question_id": 55385566, "link": "https://stackoverflow.com/questions/55385566/get-the-component-name-of-links-when-clicked/55385672#55385672", "title": "Get the component name of links when clicked", "body": "<p>You can create an attribute <code>directive</code>. for example called <code>linkTracker</code> and add it to your <code>a</code> tags like below. then in the directive attach to the click, read the value and log it</p>\n\n<pre><code>&lt;a linkTracker=\"about us\"&gt;\n\n&lt;a linkTracker=\"footer\"&gt;\n</code></pre>\n\n<p>link-tracker.directive.ts</p>\n\n<pre><code>@Directive({\n    selector: '[linkTracker]',\n    exportAs: 'linkTracker'\n})\nexport class LinkTrackerDirective\n{\n    @Input() linkTracker: string;\n\n    @HostListener('click', ['$event.target'])\n    onClick()\n    {\n       console.log(this.linkTracker);\n    }\n }\n</code></pre>\n\n<p>You can find guide how to create a directive <a href=\"https://www.sitepoint.com/practical-guide-angular-directives/\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"comments": [{"owner": {"reputation": 37, "user_id": 10294648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e05a7986dad5cd1c4e4b02f4d17d771d?s=128&d=identicon&r=PG&f=1", "display_name": "scriptify.js", "link": "https://stackoverflow.com/users/10294648/scriptify-js"}, "edited": false, "score": 0, "creation_date": 1553718281, "post_id": 55385813, "comment_id": 97493612, "body": "but in this case I will need to add this directive to all the &#39;&lt;a&gt;&#39; tags in the application, and there are too many."}, {"owner": {"reputation": 909, "user_id": 6949583, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207259784601151/picture?type=large", "display_name": "Federico Galfione", "link": "https://stackoverflow.com/users/6949583/federico-galfione"}, "reply_to_user": {"reputation": 37, "user_id": 10294648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e05a7986dad5cd1c4e4b02f4d17d771d?s=128&d=identicon&r=PG&f=1", "display_name": "scriptify.js", "link": "https://stackoverflow.com/users/10294648/scriptify-js"}, "edited": false, "score": 0, "creation_date": 1553718331, "post_id": 55385813, "comment_id": 97493628, "body": "You could use find and replace in your ide"}], "tags": [], "owner": {"reputation": 909, "user_id": 6949583, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207259784601151/picture?type=large", "display_name": "Federico Galfione", "link": "https://stackoverflow.com/users/6949583/federico-galfione"}, "is_accepted": false, "score": 0, "last_activity_date": 1553807666, "last_edit_date": 1553807666, "creation_date": 1553718099, "answer_id": 55385813, "question_id": 55385566, "link": "https://stackoverflow.com/questions/55385566/get-the-component-name-of-links-when-clicked/55385813#55385813", "title": "Get the component name of links when clicked", "body": "<p>You can solve your problem with a directive:</p>\n\n<pre><code>    import { Directive, HostListener, Input } from '@angular/core';\n\n    @Directive({\n       selector: '[myParent]'\n    })\n    export class MyParentDirective {\n        @Input('myParent') parent: string;\n        @HostListener('click') onMouseClick() {\n            this.showParent();\n        }\n        constructor() { }\n\n        showParent(){\n            console.log(this.parent)\n        }\n    }\n\n</code></pre>\n\n<p>and then you can use it like this</p>\n\n<pre><code>&lt;a myParent=\"footer\"&gt;About Us&lt;/a&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 909, "user_id": 6949583, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207259784601151/picture?type=large", "display_name": "Federico Galfione", "link": "https://stackoverflow.com/users/6949583/federico-galfione"}, "is_accepted": false, "score": 0, "last_activity_date": 1554135896, "last_edit_date": 1554135896, "creation_date": 1554132394, "answer_id": 55458620, "question_id": 55385566, "link": "https://stackoverflow.com/questions/55385566/get-the-component-name-of-links-when-clicked/55458620#55458620", "title": "Get the component name of links when clicked", "body": "<p>I could suggest another solution, if you already know the parent components.\nYou could use the parents injection for each parent you want to intercept inside the directive.\nSo the \"link directive\" will be like this (you have to implement what you need):</p>\n\n<pre><code>import { Directive, HostListener, Input, Host, Inject, forwardRef,Optional } from '@angular/core';\nimport { FooterComponent } from './footer/footer.component';\nimport { NavbarComponent } from './navbar/navbar.component';\n\n  @Directive({\n      selector: 'a'\n  })\n  export class LinkDirective {\n      @HostListener('click') onMouseClick() {\n          this.showParent();\n      }\n\n      parent: FooterComponent | NavbarComponent;\n\n      constructor(@Optional() @Inject(forwardRef(() =&gt; FooterComponent)) private footer?: FooterComponent,\n      @Optional() @Inject(forwardRef(() =&gt; NavbarComponent)) navbar?: NavbarComponent) { \n        console.log(footer, navbar)\n        if(footer){\n          this.parent = footer;\n        }\n        if(navbar){\n          this.parent = navbar\n        }\n        if(!this.parent){\n          this.parent = null;\n        }\n      }\n\n      showParent(){\n          console.log(this.parent, (this.parent) ? this.getTagName(this.parent.constructor.name) : null);\n      }\n\n      getTagName(el: string){\n        return 'my-' + el.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n      }\n  }\n</code></pre>\n\n<p>In this case I want to see if an 'a' tag is inside the <code>Navbar</code> or the <code>Footer</code>, the other components in the middle will be ignored.\nYou could have a problem if two components that you want to intercept are one inside the other cause both will be injected inside the directive, so I don't know if this is the best solution to your problem, but in this case you avoid to write in every single link the directive name.</p>\n\n<p>I've done a little <a href=\"https://stackblitz.com/edit/angular-mevjcx?file=src%2Fapp%2Flink.directive.ts\" rel=\"nofollow noreferrer\">stackblitz</a> to show you how it works.</p>\n\n<p>By the way if you're sure that every link is a direct children of a component injected in your directive you could add the <code>@Host()</code> decorator before <code>@Optional()</code> you'll obtain this behaviour and you'll solve the problem of having more than one injection for each link:</p>\n\n<p><strong>NavbarComponent injected:</strong></p>\n\n<pre><code>&lt;my-navbar&gt;\n    &lt;a&gt;Test&lt;/a&gt;\n&lt;/my-navbar&gt;\n</code></pre>\n\n<p><strong>NavbarComponent not injected:</strong></p>\n\n<pre><code>&lt;my-navbar&gt;\n    &lt;my-middle-component&gt;\n        &lt;a&gt;Test&lt;/a&gt;\n    &lt;/my-middle-component&gt;\n&lt;/my-navbar&gt;\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 10294648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e05a7986dad5cd1c4e4b02f4d17d771d?s=128&d=identicon&r=PG&f=1", "display_name": "scriptify.js", "link": "https://stackoverflow.com/users/10294648/scriptify-js"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1554135896, "creation_date": 1553716972, "last_edit_date": 1553723299, "question_id": 55385566, "link": "https://stackoverflow.com/questions/55385566/get-the-component-name-of-links-when-clicked", "title": "Get the component name of links when clicked", "body": "<p>In the web application I'm building, when any link is clicked and route is changed, I need to know which component the clicked link belongs to. </p>\n\n<p>like if any link in the header component was clicked 'about us' for example<br>\nI need to console log 'header-component' for example,<br>\nbut if I clicked 'about us' from the footer component, I will get 'footer-component' and so...</p>\n\n<p>This functionality should be added for all the <code>&lt;a&gt;</code> elements that can change the route.</p>\n"}, {"tags": ["javascript", "node.js", "youtube-data-api"], "comments": [{"owner": {"reputation": 13442, "user_id": 3982562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a3c7aae1d762372cda697833c602ec8?s=128&d=identicon&r=PG", "display_name": "3limin4t0r", "link": "https://stackoverflow.com/users/3982562/3limin4t0r"}, "edited": false, "score": 0, "creation_date": 1553717291, "post_id": 55385560, "comment_id": 97493163, "body": "If you don&#39;t mind using libraries a quick search found me <a href=\"https://github.com/mathiasbynens/he\" rel=\"nofollow noreferrer\">He.js</a>"}, {"owner": {"reputation": 4556, "user_id": 8327971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/282bd1a3f57292d632f1e4886902f4cb?s=128&d=identicon&r=PG&f=1", "display_name": "stvar", "link": "https://stackoverflow.com/users/8327971/stvar"}, "edited": false, "score": 1, "creation_date": 1553725475, "post_id": 55385560, "comment_id": 97496628, "body": "I&#39;ve seen this behavior myself for more than two weeks now. My understanding is that this issue is in fact a <i>bug</i> of the API. Maybe you should file a bug report to <a href=\"https://issuetracker.google.com\" rel=\"nofollow noreferrer\">issuetracker.google.com</a>."}, {"owner": {"reputation": 41, "user_id": 4388480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b291ee526c17d1c3a0eb2350ce965171?s=128&d=identicon&r=PG&f=1", "display_name": "rami dulman", "link": "https://stackoverflow.com/users/4388480/rami-dulman"}, "edited": false, "score": 0, "creation_date": 1553790285, "post_id": 55385560, "comment_id": 97525560, "body": "Searched the google issue tracker and found this: <a href=\"https://issuetracker.google.com/u/1/issues/128673539\" rel=\"nofollow noreferrer\">issuetracker.google.com/u/1/issues/128673539</a>"}, {"owner": {"reputation": 13442, "user_id": 3982562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a3c7aae1d762372cda697833c602ec8?s=128&d=identicon&r=PG", "display_name": "3limin4t0r", "link": "https://stackoverflow.com/users/3982562/3limin4t0r"}, "edited": false, "score": 0, "creation_date": 1553883214, "post_id": 55385560, "comment_id": 97565720, "body": "@ramidulman That is not the same issue. JSON strings must escape the double quote character using a backslash if the string itself contains this character. eg <code>&quot;&quot;&quot;</code> is not valid while <code>&quot;\\&quot;&quot;</code> is valid. The linked issue has nothing to do with HTML encoding."}, {"owner": {"reputation": 4556, "user_id": 8327971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/282bd1a3f57292d632f1e4886902f4cb?s=128&d=identicon&r=PG&f=1", "display_name": "stvar", "link": "https://stackoverflow.com/users/8327971/stvar"}, "reply_to_user": {"reputation": 13442, "user_id": 3982562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a3c7aae1d762372cda697833c602ec8?s=128&d=identicon&r=PG", "display_name": "3limin4t0r", "link": "https://stackoverflow.com/users/3982562/3limin4t0r"}, "edited": false, "score": 0, "creation_date": 1553892117, "post_id": 55385560, "comment_id": 97569523, "body": "@3limin4t0r: sorry, but you are wrong: rami dulman did linked correctly his issue to Google&#39;s issue #128673539. See my comment <a href=\"https://issuetracker.google.com/issues/128673539#comment8\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/128673539#comment8</a>."}, {"owner": {"reputation": 13442, "user_id": 3982562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a3c7aae1d762372cda697833c602ec8?s=128&d=identicon&r=PG", "display_name": "3limin4t0r", "link": "https://stackoverflow.com/users/3982562/3limin4t0r"}, "reply_to_user": {"reputation": 4556, "user_id": 8327971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/282bd1a3f57292d632f1e4886902f4cb?s=128&d=identicon&r=PG&f=1", "display_name": "stvar", "link": "https://stackoverflow.com/users/8327971/stvar"}, "edited": false, "score": 0, "creation_date": 1553895693, "post_id": 55385560, "comment_id": 97570699, "body": "@stvar The issue might link to this question, but that doesn&#39;t make it right. Not escaping JSON string characters that should be escaped conform the <a href=\"http://json.org/\" rel=\"nofollow noreferrer\">json.org</a> specification. Is something completely different than retuning escaped HTML characters in the string. Keep in mind that I&#39;m not denying that this might be a bug. It is however not the same bug."}, {"owner": {"reputation": 4556, "user_id": 8327971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/282bd1a3f57292d632f1e4886902f4cb?s=128&d=identicon&r=PG&f=1", "display_name": "stvar", "link": "https://stackoverflow.com/users/8327971/stvar"}, "reply_to_user": {"reputation": 13442, "user_id": 3982562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a3c7aae1d762372cda697833c602ec8?s=128&d=identicon&r=PG", "display_name": "3limin4t0r", "link": "https://stackoverflow.com/users/3982562/3limin4t0r"}, "edited": false, "score": 0, "creation_date": 1553897283, "post_id": 55385560, "comment_id": 97571141, "body": "@3limin4t0r: Well, to be more accurate, the initiator of Google&#39;s issue #128673539 is itself wrong from the start. He/She copy-pasted an API response text <i>displayed</i> on <a href=\"https://developers.google.com/youtube/v3/code_samples/code_snippets\" rel=\"nofollow noreferrer\">developers.google.com/youtube/v3/code_samples/code_snippets</a>. Obviously, that text is not valid JSON. Yet the API returns valid JSON (just do a wget/curl on <a href=\"https://www.googleapis.com/youtube/v3/search?key=$YOUR_APP_KEY&amp;type=video&amp;part=snippet&amp;maxResults=11&amp;q=DING%20DING\" rel=\"nofollow noreferrer\">googleapis.com/youtube/v3/&hellip;</a>). Therefore, the initiator is wrong because his/her issue in not an API issue, but an issue of the text <i>displayed</i> on the docs web page..."}, {"owner": {"reputation": 4556, "user_id": 8327971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/282bd1a3f57292d632f1e4886902f4cb?s=128&d=identicon&r=PG&f=1", "display_name": "stvar", "link": "https://stackoverflow.com/users/8327971/stvar"}, "reply_to_user": {"reputation": 13442, "user_id": 3982562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a3c7aae1d762372cda697833c602ec8?s=128&d=identicon&r=PG", "display_name": "3limin4t0r", "link": "https://stackoverflow.com/users/3982562/3limin4t0r"}, "edited": false, "score": 0, "creation_date": 1553897307, "post_id": 55385560, "comment_id": 97571148, "body": "@3limin4t0r: ... However, the issue of embedded HTML char entities is new and real. I experienced it as such and, as far as I can see, it&#39;s due to Google&#39;s API changing behavior without documenting it."}, {"owner": {"reputation": 13442, "user_id": 3982562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a3c7aae1d762372cda697833c602ec8?s=128&d=identicon&r=PG", "display_name": "3limin4t0r", "link": "https://stackoverflow.com/users/3982562/3limin4t0r"}, "reply_to_user": {"reputation": 4556, "user_id": 8327971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/282bd1a3f57292d632f1e4886902f4cb?s=128&d=identicon&r=PG&f=1", "display_name": "stvar", "link": "https://stackoverflow.com/users/8327971/stvar"}, "edited": false, "score": 0, "creation_date": 1553901163, "post_id": 55385560, "comment_id": 97572175, "body": "@stvar If the behaviour is indeed undocumented and differs from expectations a new issue should be created. Assuming that there isn&#39;t one already. If it turns out to be a duplicate the Google staff will merge the issue together or close one leaving a reference to the other."}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 10849965, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UIdrz.jpg?s=128&g=1", "display_name": "JBK", "link": "https://stackoverflow.com/users/10849965/jbk"}, "edited": false, "score": 0, "creation_date": 1566815962, "post_id": 55385612, "comment_id": 101762260, "body": "This works, but I&#39;m wondering whether this is the correct solution, do I need to use a whole DOMParser just for decoding Youtube video titles in my React component?"}, {"owner": {"reputation": 51, "user_id": 10849965, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UIdrz.jpg?s=128&g=1", "display_name": "JBK", "link": "https://stackoverflow.com/users/10849965/jbk"}, "edited": false, "score": 1, "creation_date": 1566816180, "post_id": 55385612, "comment_id": 101762367, "body": "Seems like @ErikAGriffin mentioned an alternative library which is much smaller - unescape. <a href=\"https://github.com/jonschlinkert/unescape/\" rel=\"nofollow noreferrer\">github.com/jonschlinkert/unescape</a>  EDIT: found a more recent package by the known sindresorhus, was updated 3 months ago vs unescape&#39;s 2 years ago.  <a href=\"https://www.npmjs.com/package/escape-goat\" rel=\"nofollow noreferrer\">npmjs.com/package/escape-goat</a>"}], "tags": [], "owner": {"reputation": 9602, "user_id": 836277, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/STgnX.jpg?s=128&g=1", "display_name": "Chris Hawkes", "link": "https://stackoverflow.com/users/836277/chris-hawkes"}, "is_accepted": false, "score": 1, "last_activity_date": 1553718177, "last_edit_date": 1553718177, "creation_date": 1553717186, "answer_id": 55385612, "question_id": 55385560, "link": "https://stackoverflow.com/questions/55385560/how-to-fix-youtube-api-results-title-that-are-returned-encoded/55385612#55385612", "title": "How to fix Youtube API results title that are returned encoded", "body": "<p>You can use the the DOM Parser</p>\n\n<pre><code>var parser = new DOMParser;\n\nlet finalResult = parser.parseFromString(results, \"text/html\")\nconsole.log(finalResult.body.innerHtml); // will turn &amp;amp; to &amp;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 730, "user_id": 1739675, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/220d4966574ed398c91107323611864d?s=128&d=identicon&r=PG", "display_name": "ErikAGriffin", "link": "https://stackoverflow.com/users/1739675/erikagriffin"}, "edited": false, "score": 1, "creation_date": 1562392103, "post_id": 55511161, "comment_id": 100367017, "body": "This library is significantly smaller if all you need is to unescape html entities: <a href=\"https://github.com/jonschlinkert/unescape/\" rel=\"nofollow noreferrer\">unescape</a>"}], "tags": [], "owner": {"reputation": 41, "user_id": 4388480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b291ee526c17d1c3a0eb2350ce965171?s=128&d=identicon&r=PG&f=1", "display_name": "rami dulman", "link": "https://stackoverflow.com/users/4388480/rami-dulman"}, "is_accepted": false, "score": 0, "last_activity_date": 1554368692, "last_edit_date": 1554368692, "creation_date": 1554366307, "answer_id": 55511161, "question_id": 55385560, "link": "https://stackoverflow.com/questions/55385560/how-to-fix-youtube-api-results-title-that-are-returned-encoded/55511161#55511161", "title": "How to fix Youtube API results title that are returned encoded", "body": "<p>After finding a related ticket on google's issue tracker:\n<a href=\"http://issuetracker.google.com/u/1/issues/128673539\" rel=\"nofollow noreferrer\">issuetracker.google.com/u/1/issues/128673539</a> and got a response from google that this is the expected behaviour and they won't fix it, i just used user <a href=\"https://stackoverflow.com/users/3982562/3limin4t0r\">3limin4t0r</a> suggestion and decoded the return value title using <a href=\"https://github.com/mathiasbynens/he\" rel=\"nofollow noreferrer\">he.js</a> library, it's the idle way to solve this but i had no intention to wait for google to come around from their decision...</p>\n\n<p>so, my solution goes like that:</p>\n\n<pre><code>var youtubeSearch = require(\"youtube-search\")\nlet he            = require('he');\n\nvar opts = {\n  maxResults  : 15,\n  key         : 'MY_API_KEY',\n  part        : 'snippet',\n  type        : 'video',\n};\n\nyoutubeSearch('post malone', opts, function(err, results) {\n  if(err) return console.log(err);\n  results = results.map(item =&gt; {\n        item.snippet.title = he.decode(item.snippet.title);\n        return item;\n   });\n  console.dir(results);\n});\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 4388480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b291ee526c17d1c3a0eb2350ce965171?s=128&d=identicon&r=PG&f=1", "display_name": "rami dulman", "link": "https://stackoverflow.com/users/4388480/rami-dulman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1001, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1554368692, "creation_date": 1553716924, "question_id": 55385560, "link": "https://stackoverflow.com/questions/55385560/how-to-fix-youtube-api-results-title-that-are-returned-encoded", "title": "How to fix Youtube API results title that are returned encoded", "body": "<p>I'm using <a href=\"https://www.npmjs.com/package/youtube-search\" rel=\"nofollow noreferrer\">youtube-search 1.1.4</a> to find videos. The problem is that i get the results titles encoded with <code>&amp;amp;</code> or <code>&amp;#39;</code> instead of just <code>&amp;</code> and <code>'</code> and more.</p>\n\n<p>example of one result i got from the example code below (again, added spaces between characters intentionally):\n<code>title: \"Post Malone - &amp;quot;Wow.&amp;quot; (Official Music Video)\"</code></p>\n\n<p>Tried solving this by decodeURI ,decodeURIComponent or unescape which didn't help.\nUsed a direct call for <a href=\"https://developers.google.com/youtube/v3/docs/videos\" rel=\"nofollow noreferrer\">youtube api</a> and got the same results.\nWhat am i missing?</p>\n\n<pre><code>var youtubeSearch = require(\"youtube-search\")\n\nvar opts = {\n  maxResults  : 15,\n  key         : 'MY_API_KEY',\n  part        : 'snippet',\n  type        : 'video',\n};\n\nyoutubeSearch('post malone', opts, function(err, results) {\n  if(err) return console.log(err);\n\n  console.dir(results);\n});\n</code></pre>\n"}, {"tags": ["javascript", "vue.js", "vuejs2", "webgl", "webgl2"], "comments": [{"owner": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 0, "creation_date": 1553717670, "post_id": 55385538, "comment_id": 97493321, "body": "I think this is an AB question.  What do you think the benefits of using Vue in this instance are?  I think you are going to run into more issues using Vue in this case because you are going to accidentally erase your <code>&lt;canvas&gt;</code> which will kill your GL context.  Additionally, I wouldn&#39;t use the DOM API to interact with elements within the Vue context, leverage <a href=\"https://vuejs.org/v2/guide/components-edge-cases.html#Accessing-Child-Component-Instances-amp-Child-Elements\" rel=\"nofollow noreferrer\"><code>$ref</code>s</a>.  Have you tried this without Vue?  Do you still have the same issue?"}, {"owner": {"reputation": 183, "user_id": 4804443, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153186030506753/picture?type=large", "display_name": "TheRealPaulMcCartney", "link": "https://stackoverflow.com/users/4804443/therealpaulmccartney"}, "reply_to_user": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 0, "creation_date": 1553722849, "post_id": 55385538, "comment_id": 97495699, "body": "I have tried putting a &lt;script&gt;&lt;/script&gt; inside the html which vue bundles with its code via webpack etc, and putting the WebGL code in that script - it works. The triangle renders and stays there. However, for other reasons I need to use Vue if I can. It&#39;ll actually be much easier to build and deploy the rest of my app if I use Vue. It is just one single component, though - will Vue still erase the canvas even without changing components (or is the problem you&#39;re talking about not related to that?). And I&#39;ll look at using $ref instead - what&#39;s the disadvantage of doing how I have, tho? Thnx!"}, {"owner": {"reputation": 5129, "user_id": 287238, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oQJH2.jpg?s=128&g=1", "display_name": "mathtick", "link": "https://stackoverflow.com/users/287238/mathtick"}, "edited": false, "score": 0, "creation_date": 1619110241, "post_id": 55385538, "comment_id": 118811960, "body": "<a href=\"https://github.com/statnett/vue-plotly/issues/7\" rel=\"nofollow noreferrer\">github.com/statnett/vue-plotly/issues/7</a>"}], "answers": [{"comments": [{"owner": {"reputation": 183, "user_id": 4804443, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153186030506753/picture?type=large", "display_name": "TheRealPaulMcCartney", "link": "https://stackoverflow.com/users/4804443/therealpaulmccartney"}, "edited": false, "score": 0, "creation_date": 1553767192, "post_id": 55387307, "comment_id": 97509795, "body": "Thanks! This worked! Indeed I do need to lear more about the mounted hook. I&#39;ve tried to pick it up before, but just found the online resources very confusing. I&#39;ll have another go, though. I really appreciate it."}, {"owner": {"reputation": 5129, "user_id": 287238, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oQJH2.jpg?s=128&g=1", "display_name": "mathtick", "link": "https://stackoverflow.com/users/287238/mathtick"}, "edited": false, "score": 0, "creation_date": 1619109994, "post_id": 55387307, "comment_id": 118811865, "body": "Do you <i>need</i> the canvas? This example does not have canvas <a href=\"https://plotly.com/javascript/3d-surface-plots/\" rel=\"nofollow noreferrer\">plotly.com/javascript/3d-surface-plots</a> I am trying to understand why"}], "tags": [], "owner": {"reputation": 25271, "user_id": 4989460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/627504df176d3faaec81c45c963235f4?s=128&d=identicon&r=PG&f=1", "display_name": "stdob--", "link": "https://stackoverflow.com/users/4989460/stdob"}, "is_accepted": true, "score": 2, "last_activity_date": 1553724954, "creation_date": 1553724954, "answer_id": 55387307, "question_id": 55385538, "link": "https://stackoverflow.com/questions/55385538/vue-js-how-do-i-get-webgl-to-render-via-vue-without-disappearing/55387307#55387307", "title": "Vue JS - How do I get WebGL to render via Vue without disappearing?", "body": "<p>You need to learn more about <a href=\"https://vuejs.org/v2/guide/instance.html#Lifecycle-Diagram\" rel=\"nofollow noreferrer\">the life cycle of the <code>vue-instance</code></a>. For example try <a href=\"https://vuejs.org/v2/api/#mounted\" rel=\"nofollow noreferrer\"><code>the mounted hook</code></a>:</p>\n\n<pre><code>&lt;template&gt;\n&lt;div id=\"app\"&gt;\n  &lt;canvas&gt;&lt;/canvas&gt;\n&lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\nexport default{\n  ...\n  mounted () {\n    this.runWebGL()\n  },\n  methods: {\n    runWebGL(){\n      ...\n    }\n  }\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>[ <a href=\"https://jsfiddle.net/stdob__/fyojs1vn/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/stdob__/fyojs1vn/</a> ]</p>\n"}, {"tags": [], "owner": {"reputation": 183, "user_id": 4804443, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153186030506753/picture?type=large", "display_name": "TheRealPaulMcCartney", "link": "https://stackoverflow.com/users/4804443/therealpaulmccartney"}, "is_accepted": false, "score": 0, "last_activity_date": 1553767134, "last_edit_date": 1592644375, "creation_date": 1553766673, "answer_id": 55394588, "question_id": 55385538, "link": "https://stackoverflow.com/questions/55385538/vue-js-how-do-i-get-webgl-to-render-via-vue-without-disappearing/55394588#55394588", "title": "Vue JS - How do I get WebGL to render via Vue without disappearing?", "body": "<p>stdon's answer worked great for getting the WebGL to automatically start, and to stay there, when the Vue app is first loaded. Thanks!</p>\n<p>In addition though, what I eventually wanted to do was to have the WebGL <em>not</em> start automatically, but to switch on at the click of a button. Having it start automatically was supposed to be the simpler starting point of my development.</p>\n<p>I experimented with this myself then, and just had a button activate the &quot;runWebGL&quot; method when clicked - thus not needing to put {{runWebGL()}} inside the canvas tag to call the method automatically - and it worked!</p>\n<p>But stdon's answer of using mount was the correct answer for what I originally asked, and deserves the upvotes. Thanks!</p>\n<hr />\n<h3>My New Setup:</h3>\n<p><em>Note, stdon's code from his answer works for setting up the WebGL to run automatically upon loading up the Vue app. Mine below is for the button set up I used.</em></p>\n<p>The HTML</p>\n<pre><code>&lt;template&gt;\n&lt;div id=&quot;app&quot;&gt;\n\n&lt;button @click=&quot;runWebGL&quot;&gt; Start WebGL &lt;/button&gt;\n&lt;canvas&gt;&lt;/canvas&gt;\n\n&lt;/div&gt;\n&lt;/template&gt;\n</code></pre>\n<p>The Javascript</p>\n<pre><code>&lt;script&gt;\n\nexport default {\n      .\n      .\n   methods: {\n\n   runWebGL(){\n\n     //The Javascript &amp; WebGL code from my original question\n    \n     }\n   }\n    .\n    .\n\n}\n\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 183, "user_id": 4804443, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153186030506753/picture?type=large", "display_name": "TheRealPaulMcCartney", "link": "https://stackoverflow.com/users/4804443/therealpaulmccartney"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2650, "favorite_count": 0, "accepted_answer_id": 55387307, "answer_count": 2, "score": 2, "last_activity_date": 1553767134, "creation_date": 1553716819, "last_edit_date": 1592644375, "question_id": 55385538, "link": "https://stackoverflow.com/questions/55385538/vue-js-how-do-i-get-webgl-to-render-via-vue-without-disappearing", "title": "Vue JS - How do I get WebGL to render via Vue without disappearing?", "body": "<h2>Question</h2>\n<p>I'm trying to use Vue JS to display some very simple WebGL. I use a Vue method call inside my canvas element to start the function that renders the WebGL. It all works fine, except that the rendered image flashes on the screen in a flash, then disappears. The image is a simple triangle that's supposed to just sit onthe screen once rendered. I can't find a solution to it?</p>\n<p>As I'm very novice, I might have made some obvious mistakes that are there the problem, there may be I'm guessing some standardised way to incorporate simple, basic WebGl into the HTML via Vue, but I've just not been able to find it?</p>\n<p>What are the possible solutions? Unfortunately, I'm supposed to use just basic WebGL (not Three.js or anything), but via basic Vue JS.</p>\n<p>I'll explain the details, below.</p>\n<h3><em>Background</em></h3>\n<hr />\n<p>I'm fairly new to Vue JS, and very new to WebGL. I'm following <a href=\"https://www.youtube.com/watch?v=kju9OgYrUmU&amp;list=PL2935W76vRNHFpPUuqmLoGCzwx_8eq5yK&amp;index=3\" rel=\"nofollow noreferrer\">this</a> series of tutorials on YouTube for my first intro to WebGL, with the particular video linked there containing the code I followed for this problem.</p>\n<p>The only, perhaps significantly, different thing to the vid I did was of course to use Vue JS as a UI framework, rather than writing plain HTML and Javascript files, then manually using node js to set up a server.</p>\n<p>In the tutorial, he links via a  tag in the html a separate .js file containing the WebGL code. In this script, Javascript just uses query selector to grab the canvas and its context, and assign it as the place to output the render.</p>\n<p>Inside Vue JS, I wasn't sure how to tell Vue to just run an external script that wasn't a method or computed etc, so I put the WebGL code in a method, and output it to the screen by calling the method inside the canvas tag in the vue template:</p>\n<pre><code>&lt;template&gt;\n&lt;div id=&quot;app&quot;&gt;\n\n&lt;canvas&gt; {{runWebGL()}} &lt;/canvas&gt;\n\n&lt;/div&gt;\n&lt;/template&gt;\n</code></pre>\n<pre><code>export default{\n\nmethods: {\n\n runWebGL(){\n   . \n   .\n   //All the WebGLCode from the video - which for brevity I've pasted right at the bottom.\n   .\n   .\n }\n\n}\n\n}\n</code></pre>\n<p>Now this actually works, and the little red triangle is actually rendered - except as soon as it's rendered to the screen, it disappears.</p>\n<hr />\n<h3>My Thoughts As To Why</h3>\n<p>Here's what I think happens: when the vue component first loads, it runs the runWebGL() method I've put there, creates and then displays the lil red triangle in the canvas. When the method has finished however, well it's no longer running so everything in it is destroyed and there's no WebGL to output.</p>\n<p>If I put an alert function for example at the end of runWebGL() to prevent the function from automatically ending, you can see the triangle staying outputted to the screen until the user closes the alert.</p>\n<p>What I'm assuming then is that when, as the guy has done in the video, you attach some script directly to the html via  tags, be they local or externally referenced scripts, once they're finished they don't close. So the data etc in them is still available, even though they've been parsed to the end?</p>\n<p>How do I solve this in Vue JS, then? Am I supposed to implement some way of keeping Vue JS methods 'running' even when the code in them has finished executing? Or is there some other, more standardised method for meshing WebGL and Vue JS?</p>\n<p>I'm aware that there are some WebGL frameworks out there, and that there are some that try to blend Vue and WebGL, but unfortunately I'm not supposed to use them - I've got to get it as close to native VueJS and plain WebGL as I can.</p>\n<p>Thanks very much indeed for your help!</p>\n<hr />\n<p>The Javascript and WebGL code, which is identical to the one from the video, which I put inside runWebGL() is here:</p>\n<pre><code>const canvas = document.querySelector(`canvas`); \nconst gl = canvas.getContext(`webgl`); \nif (!gl) { throw new Error(`webGL not supported`); } \n/* ***OUTLINE**** */ // load vertexData into Buffer // create vertex SharedArrayBuffer // create program // attach shaders to program // enable vertex attributes // draw \nconsole.log(`Starting...`); \n// create a triangle, x,y,z. WebGL uses OpenGL uses Float32 Arrays. // Typically don't use Float32 arrays in JS as per: // https://stackoverflow.com/questions/15823021/when-to-use-float32array-instead-of-array-in-javascript\n// changing these points will alter where the corners of your triangle are. max is 1, min is -1 \nconst vertexData = new Float32Array([ 0, 1, 0, 1, -1, 0, -1, -1, 0, ]); const buffer = gl.createBuffer(); gl.bindBuffer(gl.ARRAY_BUFFER, buffer); \n// bind this buffer as the current buffer; as an array of vertices \ngl.bufferData(gl.ARRAY_BUFFER, vertexData, gl.STATIC_DRAW); \n// STATIC_DRAW if not rewriting (optomise) common alternative is DYNAMIC_DRAW // Creates the vertex-shader; a mini program that runs on the GPU // this uses the GL shading language (not JS), hence the typed return for the function (ie 'void') // gl_position is the output of the shader; an array of 4 components from the buffer // vec3 indicates the three parts of x,y,z; this is converted to a vec4 by adding &quot;1&quot; to 'position' \nconst vertexShader = gl.createShader(gl.VERTEX_SHADER); gl.shaderSource(vertexShader, ` attribute vec3 position; void main() { gl_Position = vec4(position, 1); } `); gl.compileShader(vertexShader); \n// create a fragment-shader // a fragment shader shades the pixels between vertices // the vec4 is in format RGB-A // try changing some of these numbers and see what happens // eg vec4(0,1,0,.5) gives a transparent green triangle \nconst fragmentShader = gl.createShader(gl.FRAGMENT_SHADER); gl.shaderSource(fragmentShader, ` void main(){ gl_FragColor = vec4(1, 0, 0, 1); } `); gl.compileShader(fragmentShader); \n// create a program that links the two shaders (vertex and fragment) // to the actual vertices \nconst program = gl.createProgram(); gl.attachShader(program, vertexShader); gl.attachShader(program, fragmentShader); gl.linkProgram(program); \n// load the attributes. // Currently we just have a single attribute `position` created with the vertex shader // Attributes are disabled by default - so we have to enable it \nconst positionLocation = gl.getAttribLocation(program, `position`); gl.enableVertexAttribArray(positionLocation); \n// how webgl should retrieve data from the currently bound buffer // what is being retrieved? positionLocation // how many elements to read at a time? 3 (x,y,z) // what type are the elements? floating point numbers (from Float32Array) // remaining arguments are not used ('normalise' is an advanced optomisation, not needed here) \ngl.vertexAttribPointer(positionLocation, 3, gl.FLOAT, false, 0, 0); \n// create an excutable program on the graphics card // drawArrays, 2nd argument is which vertex to start at, how many to draw? (in this case there are 3 vertices all with 3 attributes (x,y,z)) \ngl.useProgram(program); \n\n\ngl.drawArrays(gl.TRIANGLES, 0, 3);\ufeffconst canvas = document.querySelector(`canvas`); \nconst gl = canvas.getContext(`webgl`); \nif (!gl) { throw new Error(`webGL not supported`); } \n/* ***OUTLINE**** */ // load vertexData into Buffer // create vertex SharedArrayBuffer // create program // attach shaders to program // enable vertex attributes // draw \nconsole.log(`Starting...`); \n// create a triangle, x,y,z. WebGL uses OpenGL uses Float32 Arrays. // Typically don't use Float32 arrays in JS as per: // https://stackoverflow.com/questions/15823021/when-to-use-float32array-instead-of-array-in-javascript\n// changing these points will alter where the corners of your triangle are. max is 1, min is -1 \nconst vertexData = new Float32Array([ 0, 1, 0, 1, -1, 0, -1, -1, 0, ]); const buffer = gl.createBuffer(); gl.bindBuffer(gl.ARRAY_BUFFER, buffer); \n// bind this buffer as the current buffer; as an array of vertices \ngl.bufferData(gl.ARRAY_BUFFER, vertexData, gl.STATIC_DRAW); \n// STATIC_DRAW if not rewriting (optomise) common alternative is DYNAMIC_DRAW // Creates the vertex-shader; a mini program that runs on the GPU // this uses the GL shading language (not JS), hence the typed return for the function (ie 'void') // gl_position is the output of the shader; an array of 4 components from the buffer // vec3 indicates the three parts of x,y,z; this is converted to a vec4 by adding &quot;1&quot; to 'position' \nconst vertexShader = gl.createShader(gl.VERTEX_SHADER); gl.shaderSource(vertexShader, ` attribute vec3 position; void main() { gl_Position = vec4(position, 1); } `); gl.compileShader(vertexShader); \n// create a fragment-shader // a fragment shader shades the pixels between vertices // the vec4 is in format RGB-A // try changing some of these numbers and see what happens // eg vec4(0,1,0,.5) gives a transparent green triangle \nconst fragmentShader = gl.createShader(gl.FRAGMENT_SHADER); gl.shaderSource(fragmentShader, ` void main(){ gl_FragColor = vec4(1, 0, 0, 1); } `); gl.compileShader(fragmentShader); \n// create a program that links the two shaders (vertex and fragment) // to the actual vertices \nconst program = gl.createProgram(); gl.attachShader(program, vertexShader); gl.attachShader(program, fragmentShader); gl.linkProgram(program); \n// load the attributes. // Currently we just have a single attribute `position` created with the vertex shader // Attributes are disabled by default - so we have to enable it \nconst positionLocation = gl.getAttribLocation(program, `position`); gl.enableVertexAttribArray(positionLocation); \n// how webgl should retrieve data from the currently bound buffer // what is being retrieved? positionLocation // how many elements to read at a time? 3 (x,y,z) // what type are the elements? floating point numbers (from Float32Array) // remaining arguments are not used ('normalise' is an advanced optomisation, not needed here) \ngl.vertexAttribPointer(positionLocation, 3, gl.FLOAT, false, 0, 0); \n// create an excutable program on the graphics card // drawArrays, 2nd argument is which vertex to start at, how many to draw? (in this case there are 3 vertices all with 3 attributes (x,y,z)) \ngl.useProgram(program); \n\n\ngl.drawArrays(gl.TRIANGLES, 0, 3);\ufeff\n\n</code></pre>\n"}, {"tags": ["javascript", "html", "angular", "typescript"], "comments": [{"owner": {"reputation": 7629, "user_id": 978005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9219975d0b744e19422761516d419f12?s=128&d=identicon&r=PG", "display_name": "Phix", "link": "https://stackoverflow.com/users/978005/phix"}, "edited": false, "score": 0, "creation_date": 1553717380, "post_id": 55385523, "comment_id": 97493198, "body": "What&#39;s your backend running on?"}, {"owner": {"reputation": 25, "user_id": 7191533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d77313b3c12a50ab6567387e864284e6?s=128&d=identicon&r=PG&f=1", "display_name": "Dejavu", "link": "https://stackoverflow.com/users/7191533/dejavu"}, "reply_to_user": {"reputation": 7629, "user_id": 978005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9219975d0b744e19422761516d419f12?s=128&d=identicon&r=PG", "display_name": "Phix", "link": "https://stackoverflow.com/users/978005/phix"}, "edited": false, "score": 0, "creation_date": 1553717790, "post_id": 55385523, "comment_id": 97493379, "body": "should be a apache server 2.4"}, {"owner": {"reputation": 4016, "user_id": 2202748, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9tSQE.jpg?s=128&g=1", "display_name": "Joel Joseph", "link": "https://stackoverflow.com/users/2202748/joel-joseph"}, "edited": false, "score": 0, "creation_date": 1553745796, "post_id": 55385523, "comment_id": 97501210, "body": "<code>&lt;img src=&quot;assets&#47;pictures&#47;pic_1.png&quot; &#47;&gt;</code> would work in both"}, {"owner": {"reputation": 25, "user_id": 7191533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d77313b3c12a50ab6567387e864284e6?s=128&d=identicon&r=PG&f=1", "display_name": "Dejavu", "link": "https://stackoverflow.com/users/7191533/dejavu"}, "edited": false, "score": 0, "creation_date": 1553802644, "post_id": 55385523, "comment_id": 97532209, "body": "yeah thank you !!!!!"}], "owner": {"reputation": 25, "user_id": 7191533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d77313b3c12a50ab6567387e864284e6?s=128&d=identicon&r=PG&f=1", "display_name": "Dejavu", "link": "https://stackoverflow.com/users/7191533/dejavu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553722624, "creation_date": 1553716762, "last_edit_date": 1553722624, "question_id": 55385523, "link": "https://stackoverflow.com/questions/55385523/is-it-possible-to-make-an-image-accessable-from-development-mode-and-production", "title": "Is it possible to make an image accessable from development mode AND production mode in Angular?", "body": "<p>I have been developing my App with Angular in development mode, now i wanted to build it into production mode to host it on my Synology Web Server.</p>\n\n<p>In Development mode I saved a picture in /assets/pictures/pic_1.png, this runs fine, but when I go into prod mode I am getting this Error Message:</p>\n\n<p><a href=\"https://imgur.com/a/xZHPA9j\" rel=\"nofollow noreferrer\">https://imgur.com/a/xZHPA9j</a> </p>\n\n<p>This is how I implemented the picture:</p>\n\n<pre><code>&lt;img src=\"../../assets/pictures/pic_1.png\" /&gt;\n</code></pre>\n\n<p>With this Code it SHOULD show the picture BOTH in development and production mode.</p>\n\n<p>Edit #1</p>\n\n<p>Current Workaround:</p>\n\n<p>I hosted the pictures in another folder of my Server which is accessable from the internet and I am getting the pictures with this code:</p>\n\n<pre><code>&lt;img src=\"http://(x.x.x/apipfadipics/pic_1.png\" /&gt;\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9882974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28d6142640b133713386a6c2f2cde22e?s=128&d=identicon&r=PG&f=1", "display_name": "Hash", "link": "https://stackoverflow.com/users/9882974/hash"}, "edited": false, "score": 0, "creation_date": 1553718055, "post_id": 55385591, "comment_id": 97493511, "body": "The first solution worked well for me. Many thanks for your help."}], "tags": [], "owner": {"reputation": 109, "user_id": 11268505, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-KKyGcD4_dp8/AAAAAAAAAAI/AAAAAAAAAAc/DGyZre7Uo44/photo.jpg?sz=128", "display_name": "Nils Lockean", "link": "https://stackoverflow.com/users/11268505/nils-lockean"}, "is_accepted": true, "score": 1, "last_activity_date": 1553717726, "last_edit_date": 1553717726, "creation_date": 1553717070, "answer_id": 55385591, "question_id": 55385466, "link": "https://stackoverflow.com/questions/55385466/how-do-i-get-the-navbar-to-close-when-i-click-on-a-a-link/55385591#55385591", "title": "How do i get the navbar to close when i click on a &lt;a&gt; link?", "body": "<p>Setting the <code>checked</code> attribute on your checkbox should do the trick!</p>\n\n<pre><code>const links = document.querySelectorAll('.nav-item a')\nconst checkbox = document.querySelector('#nav-toggle')\n\nfor ( const link of links ) {\n  link.onclick = handleClick\n}\n\nfunction handleClick() {\n  checkbox.checked = false\n}\n</code></pre>\n\n<p>Or, if you're using jQuery:</p>\n\n<pre><code>$('.nav-item a').click(hideOverlay)\n\nfunction hideOverlay() {\n  $('#nav-toggle').prop('checked', false)\n}\n</code></pre>\n\n<p>Hope this helps! :)</p>\n"}], "owner": {"reputation": 13, "user_id": 9882974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28d6142640b133713386a6c2f2cde22e?s=128&d=identicon&r=PG&f=1", "display_name": "Hash", "link": "https://stackoverflow.com/users/9882974/hash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 55385591, "answer_count": 1, "score": 1, "last_activity_date": 1553717726, "creation_date": 1553716464, "question_id": 55385466, "link": "https://stackoverflow.com/questions/55385466/how-do-i-get-the-navbar-to-close-when-i-click-on-a-a-link", "title": "How do i get the navbar to close when i click on a &lt;a&gt; link?", "body": "<p>So I am using a pure CSS nav bar that uses a checkbox to overlay a navigation menu. \n<strong>I am trying to get the navbar to close when I select the  link.</strong>\nFor instance, when I click the contact link it should scroll down to the id\"contact\" that is on the same page, however, the page scrolls down while the navbar is still showing and so I have to manually click the checkbox to close it. \nI have tried to solve this using some js but no luck :( </p>\n\n<p>complete code link:</p>\n\n<p><a href=\"https://codepen.io/majorsyan/pen/Oqejox\" rel=\"nofollow noreferrer\">https://codepen.io/majorsyan/pen/Oqejox</a></p>\n\n<pre><code>&lt;!-- Navigation code--&gt;\n&lt;input type=\"checkbox\" id=\"nav-toggle\" class=\"checkbox\" /&gt;\n&lt;label for=\"nav-toggle\" class=\"nav-toggle-btn\"&gt;\n&lt;span class=\"nav-icon-bar\"&gt;&lt;/span&gt;\n&lt;/label&gt;\n&lt;div class=\"overlay\"&gt;&lt;/div&gt;\n&lt;nav class=\"main-nav\"&gt;\n&lt;ul class=\"nav-list\"&gt;\n&lt;li class=\"nav-item\"&gt;\n&lt;a href=\"index.html\" class=\"nav-links\"&gt;Home&lt;/a&gt;\n&lt;/li&gt;\n&lt;li class=\"nav-item\"&gt;\n&lt;a href=\"portfolio.html\" class=\"nav-links\"&gt;Portfolio&lt;/a&gt;\n&lt;/li&gt;\n&lt;li class=\"nav-item\"&gt;\n&lt;a href=\"about.html\" class=\"nav-links\"&gt;About&lt;/a&gt;\n&lt;/li&gt;\n&lt;li class=\"nav-item\"&gt;\n&lt;a href=\"index.html#contact\" class=\"nav-links\"&gt;Contact&lt;/a&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/nav&gt;\n</code></pre>\n"}, {"tags": ["javascript", "html", "twitter-bootstrap"], "owner": {"reputation": 31, "user_id": 11268075, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nbI5xqaPzqI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3repznsmhnmrPnUuykwC3g3kAdiqQA/mo/photo.jpg?sz=128", "display_name": "Matheus Muniz", "link": "https://stackoverflow.com/users/11268075/matheus-muniz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2382, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572937264, "creation_date": 1553716327, "question_id": 55385421, "link": "https://stackoverflow.com/questions/55385421/select-all-checkbox-in-the-all-pages-in-the-bootstrap-table", "title": "Select all checkbox in the all pages in the Bootstrap Table", "body": "<p>I need to select all the checkboxes of all pages according to the validation that I do, however the current validation only takes from the current page, and I needed that when clicking the button was selected and maintained of ALL pages even if I browse between them. </p>\n\n<p>Example: <a href=\"https://examples.bootstrap-table.com/#issues/1167.html\" rel=\"nofollow noreferrer\">https://examples.bootstrap-table.com/#issues/1167.html</a></p>\n\n<p>j\u00e1 tentei utilizar o </p>\n\n<p>Current JS \u2193</p>\n\n<p>Check: function (value, row, index) {\n        var _this = oSelecao;</p>\n\n<pre><code>    if (row.check == true) {\n        $('#btn_editarcep' + row.pfid).attr(\"disabled\", \"disabled\");\n        $('#btn_editaremail' + row.pfid).attr(\"disabled\", \"disabled\");\n    }\n    if (row.cep.length != 8) {\n        row.verificaEnder = 0;\n    }\n    if (row.verificaFotos == 0 || _this.ValidarEmail(row.email) == false || (_this.parampixel != \"True\" &amp;&amp; (row.cep.length != 8 || row.verificaEnder == 0))) {\n        if (_this.ValidarEmail(row.email) == false) {\n            row.verificaEmail = 0;\n        }\n        return {\n            disabled: true\n        };\n    }\n    if (_this.Verificaseexiste(row)) {\n        return {\n            checked: true\n        };\n    }\n    return value;\n}\n</code></pre>\n\n<p>Tentative JS \u2193</p>\n\n<p>var allPages = oSelecao.fnGetNodes();</p>\n\n<pre><code>    $('body').on('click', '#btnCheckMuniz', function () {\n        if ($(this).hasClass('allChecked')) {\n            $(row.check, allPages).prop('checked', false);\n        } else {\n            $(row.check, allPages).prop('checked', true);\n        }\n        $(this).toggleClass('allChecked');\n    })\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "forms", "backend"], "comments": [{"owner": {"reputation": 115014, "user_id": 198707, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/bd4b98fa3891e761de0c60a042832657?s=128&d=identicon&r=PG", "display_name": "Tatu Ulmanen", "link": "https://stackoverflow.com/users/198707/tatu-ulmanen"}, "edited": false, "score": 0, "creation_date": 1553716357, "post_id": 55385383, "comment_id": 97492720, "body": "This depends hugely on what you are able to do and how the backend processes the form. But if you can write your own jQuery code, you could easily just send the form using AJAX and capture the response, then show that in the modal. No need to change the action link. In fact, changing the action link would probably break the form."}, {"owner": {"reputation": 2306, "user_id": 2444435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5TbSK.jpg?s=128&g=1", "display_name": "jhaagsma", "link": "https://stackoverflow.com/users/2444435/jhaagsma"}, "edited": false, "score": 0, "creation_date": 1553716583, "post_id": 55385383, "comment_id": 97492816, "body": "Please show some example of what you&#39;re trying to do, and clarify what language you&#39;re working in, etc"}, {"owner": {"reputation": 19, "user_id": 11268515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c916864360655634ba1b04a5ac0de1ee?s=128&d=identicon&r=PG&f=1", "display_name": "Shailee Sheth", "link": "https://stackoverflow.com/users/11268515/shailee-sheth"}, "reply_to_user": {"reputation": 115014, "user_id": 198707, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/bd4b98fa3891e761de0c60a042832657?s=128&d=identicon&r=PG", "display_name": "Tatu Ulmanen", "link": "https://stackoverflow.com/users/198707/tatu-ulmanen"}, "edited": false, "score": 0, "creation_date": 1553716747, "post_id": 55385383, "comment_id": 97492887, "body": "@TatuUlmanen is it possible for you to explain your solution in detail?"}, {"owner": {"reputation": 19, "user_id": 11268515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c916864360655634ba1b04a5ac0de1ee?s=128&d=identicon&r=PG&f=1", "display_name": "Shailee Sheth", "link": "https://stackoverflow.com/users/11268515/shailee-sheth"}, "reply_to_user": {"reputation": 2306, "user_id": 2444435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5TbSK.jpg?s=128&g=1", "display_name": "jhaagsma", "link": "https://stackoverflow.com/users/2444435/jhaagsma"}, "edited": false, "score": 0, "creation_date": 1553717225, "post_id": 55385383, "comment_id": 97493131, "body": "@jhaagsma you can check <a href=\"https://www.steamboat.com/email/email-signup\" rel=\"nofollow noreferrer\">steamboat.com/email/email-signup</a>. But I am displaying an email sign up modal and I have absolutely no back-end support to make sure the users cannot be redirected to the existing thank you page. I can work on jQuery, do you have a solution in some other language?"}, {"owner": {"reputation": 19, "user_id": 11268515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c916864360655634ba1b04a5ac0de1ee?s=128&d=identicon&r=PG&f=1", "display_name": "Shailee Sheth", "link": "https://stackoverflow.com/users/11268515/shailee-sheth"}, "reply_to_user": {"reputation": 115014, "user_id": 198707, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/bd4b98fa3891e761de0c60a042832657?s=128&d=identicon&r=PG", "display_name": "Tatu Ulmanen", "link": "https://stackoverflow.com/users/198707/tatu-ulmanen"}, "edited": false, "score": 0, "creation_date": 1553718230, "post_id": 55385383, "comment_id": 97493589, "body": "@TatuUlmanen Since the submission page is a different domain we are getting CORS error so we need API document for that"}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 11268515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c916864360655634ba1b04a5ac0de1ee?s=128&d=identicon&r=PG&f=1", "display_name": "Shailee Sheth", "link": "https://stackoverflow.com/users/11268515/shailee-sheth"}, "edited": false, "score": 0, "creation_date": 1553717845, "post_id": 55385541, "comment_id": 97493413, "body": "Since the submission page is a different domain we are getting CORS error so we need api document for that"}, {"owner": {"reputation": 119, "user_id": 3701369, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2ALWDphH-iw/AAAAAAAAAAI/AAAAAAAAAAs/8MveTEFYTyk/photo.jpg?sz=128", "display_name": "Adriano Marra", "link": "https://stackoverflow.com/users/3701369/adriano-marra"}, "reply_to_user": {"reputation": 19, "user_id": 11268515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c916864360655634ba1b04a5ac0de1ee?s=128&d=identicon&r=PG&f=1", "display_name": "Shailee Sheth", "link": "https://stackoverflow.com/users/11268515/shailee-sheth"}, "edited": false, "score": 0, "creation_date": 1553718358, "post_id": 55385541, "comment_id": 97493642, "body": "Hmm ok, I just edited the answer with an example of handling the front-end... the CORS problem is most likely to be related to the back-end configuration... Can you give more explanation about your back-end, e.g. language or framework that you are using?"}, {"owner": {"reputation": 19, "user_id": 11268515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c916864360655634ba1b04a5ac0de1ee?s=128&d=identicon&r=PG&f=1", "display_name": "Shailee Sheth", "link": "https://stackoverflow.com/users/11268515/shailee-sheth"}, "edited": false, "score": 0, "creation_date": 1553718686, "post_id": 55385541, "comment_id": 97493769, "body": "I have no support to get any information about the back-end. All I have is the website <a href=\"https://www.steamboat.com/email/email-signup\" rel=\"nofollow noreferrer\">steamboat.com/email/email-signup</a> for which I need to run an A/B test, I need to create a modal without landing the users of thank you page."}, {"owner": {"reputation": 119, "user_id": 3701369, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2ALWDphH-iw/AAAAAAAAAAI/AAAAAAAAAAs/8MveTEFYTyk/photo.jpg?sz=128", "display_name": "Adriano Marra", "link": "https://stackoverflow.com/users/3701369/adriano-marra"}, "reply_to_user": {"reputation": 19, "user_id": 11268515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c916864360655634ba1b04a5ac0de1ee?s=128&d=identicon&r=PG&f=1", "display_name": "Shailee Sheth", "link": "https://stackoverflow.com/users/11268515/shailee-sheth"}, "edited": false, "score": 0, "creation_date": 1553719181, "post_id": 55385541, "comment_id": 97493981, "body": "First I have to understand your problem then... How are you generating this form? It seems to be generated by an external system giving its configuration, is it correct?! Or have you actually coded this form?"}, {"owner": {"reputation": 19, "user_id": 11268515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c916864360655634ba1b04a5ac0de1ee?s=128&d=identicon&r=PG&f=1", "display_name": "Shailee Sheth", "link": "https://stackoverflow.com/users/11268515/shailee-sheth"}, "edited": false, "score": 0, "creation_date": 1553719470, "post_id": 55385541, "comment_id": 97494134, "body": "This is the link of the modal I am working on <a href=\"https://www.steamboat.com/?at_preview_token=oaK0ITDu5Hm4f8dYMW6q39I4r7c1tJUDyoob0HiAFR0%3D&amp;at_preview_index=1_2&amp;at_preview_listed_activities_only=true\" rel=\"nofollow noreferrer\">steamboat.com/&hellip;</a>  Scroll till 1000px and you will get the modal on your screen"}, {"owner": {"reputation": 119, "user_id": 3701369, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2ALWDphH-iw/AAAAAAAAAAI/AAAAAAAAAAs/8MveTEFYTyk/photo.jpg?sz=128", "display_name": "Adriano Marra", "link": "https://stackoverflow.com/users/3701369/adriano-marra"}, "reply_to_user": {"reputation": 19, "user_id": 11268515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c916864360655634ba1b04a5ac0de1ee?s=128&d=identicon&r=PG&f=1", "display_name": "Shailee Sheth", "link": "https://stackoverflow.com/users/11268515/shailee-sheth"}, "edited": false, "score": 0, "creation_date": 1553719913, "post_id": 55385541, "comment_id": 97494339, "body": "Yes, got it... but my question is: do you actually have access to this form html code? can you change the action from   action=<a href=\"https://www.pages08.net/alterramountaincompany/steamboat/SB_WebsiteEmailSignups?sessionGUID=ed72ee64-6a00-b19a-d3c8-2eba4dd09899&amp;trackedExternalFormPost=1&amp;webSyncID=15c1b23d-61ca-9e32-b0ca-0e74058cc35d&amp;sessionGUID=8aba57cc-3c5d-de3c-9a4c-e68e737a1394&amp;trackedExternalFormPost=1\" rel=\"nofollow noreferrer\">pages08.net/alterramountaincompany/steamboat/&hellip;</a>  to   action=&quot;javascript:void(0)&quot; ?  Or is it generated from an external system?"}, {"owner": {"reputation": 19, "user_id": 11268515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c916864360655634ba1b04a5ac0de1ee?s=128&d=identicon&r=PG&f=1", "display_name": "Shailee Sheth", "link": "https://stackoverflow.com/users/11268515/shailee-sheth"}, "edited": false, "score": 0, "creation_date": 1553720384, "post_id": 55385541, "comment_id": 97494585, "body": "It is generated from an external system.But I am implementing this test on Adobe Target so I am sure I can overwrite the code"}, {"owner": {"reputation": 119, "user_id": 3701369, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2ALWDphH-iw/AAAAAAAAAAI/AAAAAAAAAAs/8MveTEFYTyk/photo.jpg?sz=128", "display_name": "Adriano Marra", "link": "https://stackoverflow.com/users/3701369/adriano-marra"}, "reply_to_user": {"reputation": 19, "user_id": 11268515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c916864360655634ba1b04a5ac0de1ee?s=128&d=identicon&r=PG&f=1", "display_name": "Shailee Sheth", "link": "https://stackoverflow.com/users/11268515/shailee-sheth"}, "edited": false, "score": 0, "creation_date": 1553720585, "post_id": 55385541, "comment_id": 97494686, "body": "Ok, so just overwrite the code, if you can overwrite the code and use jQuery, my answer suits you doesn&#39;t it? Check the codepen sample code that I put on the answer..."}, {"owner": {"reputation": 19, "user_id": 11268515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c916864360655634ba1b04a5ac0de1ee?s=128&d=identicon&r=PG&f=1", "display_name": "Shailee Sheth", "link": "https://stackoverflow.com/users/11268515/shailee-sheth"}, "edited": false, "score": 0, "creation_date": 1553722443, "post_id": 55385541, "comment_id": 97495549, "body": "Most likely! I am trying to implement your solution, I will keep you posted. Thanks for the help :)"}, {"owner": {"reputation": 119, "user_id": 3701369, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2ALWDphH-iw/AAAAAAAAAAI/AAAAAAAAAAs/8MveTEFYTyk/photo.jpg?sz=128", "display_name": "Adriano Marra", "link": "https://stackoverflow.com/users/3701369/adriano-marra"}, "reply_to_user": {"reputation": 19, "user_id": 11268515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c916864360655634ba1b04a5ac0de1ee?s=128&d=identicon&r=PG&f=1", "display_name": "Shailee Sheth", "link": "https://stackoverflow.com/users/11268515/shailee-sheth"}, "edited": false, "score": 0, "creation_date": 1553723192, "post_id": 55385541, "comment_id": 97495817, "body": "Perfect, keep me updated, and if you can please upvote my solution if it solves your problem I would be glad, cause someone just downvoted it for no apparent reason..."}, {"owner": {"reputation": 19, "user_id": 11268515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c916864360655634ba1b04a5ac0de1ee?s=128&d=identicon&r=PG&f=1", "display_name": "Shailee Sheth", "link": "https://stackoverflow.com/users/11268515/shailee-sheth"}, "edited": false, "score": 0, "creation_date": 1553725681, "post_id": 55385541, "comment_id": 97496689, "body": "Yes, I did upvote your answer. I am new to this platform and its the first time I am posting a question and I already have -4 on it."}], "tags": [], "owner": {"reputation": 119, "user_id": 3701369, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2ALWDphH-iw/AAAAAAAAAAI/AAAAAAAAAAs/8MveTEFYTyk/photo.jpg?sz=128", "display_name": "Adriano Marra", "link": "https://stackoverflow.com/users/3701369/adriano-marra"}, "is_accepted": true, "score": -1, "last_activity_date": 1553896911, "last_edit_date": 1553896911, "creation_date": 1553716838, "answer_id": 55385541, "question_id": 55385383, "link": "https://stackoverflow.com/questions/55385383/is-there-a-solution-to-change-the-post-submission-behavior-of-a-sign-up-form-wit/55385541#55385541", "title": "Is there a solution to change the post-submission behavior of a sign up form without backend support?", "body": "<p>You could use <code>action=\"javascript:void(0)\"</code> and then handle your form data submission with Ajax instead of redirecting to a Thank you page. </p>\n\n<p>For example: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(\"form\").submit( \r\n\r\n  function(){\r\n      //Send data with Ajax to the backend using $.ajax() function and then on the callBack function do something with your html e.g.\r\n\r\n  $(\"form\").fadeOut(function() {    \r\n       $(\".response\").fadeIn();\r\n  });\r\n    \r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div&gt;\r\n  &lt;form action=\"javascript:void(0)\"&gt;\r\n  &lt;input type=\"text\" name=\"userName\"&gt;\r\n  &lt;input type=\"text\" name=\"password\"&gt;\r\n  &lt;input type=\"submit\"&gt;\r\n&lt;/form&gt;\r\n&lt;div class=\"response\" style=\"display:none\"&gt;\r\n  Thank you!!\r\n&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 19, "user_id": 11268515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c916864360655634ba1b04a5ac0de1ee?s=128&d=identicon&r=PG&f=1", "display_name": "Shailee Sheth", "link": "https://stackoverflow.com/users/11268515/shailee-sheth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "closed_date": 1553717553, "accepted_answer_id": 55385541, "answer_count": 1, "score": -4, "last_activity_date": 1553896911, "creation_date": 1553716145, "last_edit_date": 1553719361, "question_id": 55385383, "link": "https://stackoverflow.com/questions/55385383/is-there-a-solution-to-change-the-post-submission-behavior-of-a-sign-up-form-wit", "closed_reason": "Needs details or clarity", "title": "Is there a solution to change the post-submission behavior of a sign up form without backend support?", "body": "<ul>\n<li>The form action link is redirecting users to a 'Thank You' page but I want to show the thank you message on the email sign up modal itself after submitting. I have no support to know the details about the back-end language.</li>\n<li>Since the submission page is a different domain we are getting CORS error so we need API document for that.\n\n<ul>\n<li>I am working on this site. <a href=\"https://www.steamboat.com/email/email-signup\" rel=\"nofollow noreferrer\">https://www.steamboat.com/email/email-signup</a></li>\n<li>Currently, they are landing the users on a thank you after submitting the form, I am creating a modal and want the users to see the thank message on the modal itself. </li>\n</ul></li>\n</ul>\n"}, {"tags": ["javascript", "jszip"], "comments": [{"owner": {"reputation": 4761, "user_id": 1272394, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7042761222560992a2d2421c5063f9c7?s=128&d=identicon&r=PG", "display_name": "Drewness", "link": "https://stackoverflow.com/users/1272394/drewness"}, "edited": false, "score": 0, "creation_date": 1553721598, "post_id": 55385369, "comment_id": 97495155, "body": "Is the image file in the zip 0 bytes or..?"}, {"owner": {"reputation": 2100, "user_id": 1744104, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/86b6ab994141056d18c4d0a3d1ab729c?s=128&d=identicon&r=PG", "display_name": "GTS Joe", "link": "https://stackoverflow.com/users/1744104/gts-joe"}, "reply_to_user": {"reputation": 4761, "user_id": 1272394, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7042761222560992a2d2421c5063f9c7?s=128&d=identicon&r=PG", "display_name": "Drewness", "link": "https://stackoverflow.com/users/1272394/drewness"}, "edited": false, "score": 0, "creation_date": 1553726268, "post_id": 55385369, "comment_id": 97496875, "body": "It does have a size, 5 kb. Which tells me it is writing data, but maybe not in the correct format? Because when I open the image in Photoshop, the browser or any image viewer, I get a message saying the file is corrupt and nothing shows."}], "answers": [{"tags": [], "owner": {"reputation": 4761, "user_id": 1272394, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7042761222560992a2d2421c5063f9c7?s=128&d=identicon&r=PG", "display_name": "Drewness", "link": "https://stackoverflow.com/users/1272394/drewness"}, "is_accepted": false, "score": 1, "last_activity_date": 1553783107, "creation_date": 1553783107, "answer_id": 55400038, "question_id": 55385369, "link": "https://stackoverflow.com/questions/55385369/jszip-creating-corrupt-jpg-image/55400038#55400038", "title": "JSZip Creating Corrupt JPG Image", "body": "<p>You can convert it to a blob using <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/toBlob\" rel=\"nofollow noreferrer\"><code>canvas.toBlob</code></a>. This is what the FileSaver <code>.saveAs</code> does.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var canvas = document.querySelector(\"#capture\");\n\ncanvas.toBlob(function (blob) {\n  zip.file('file2.jpg', blob);\n});\n</code></pre>\n\n<p>Fun fact, the HTML5 <code>canvas.toBlob</code> is not supported in all browsers. The <a href=\"https://github.com/eligrey/canvas-toBlob.js\" rel=\"nofollow noreferrer\">canvas-toBlob.js</a> is a cross-browser polyfill for this.</p>\n"}, {"tags": [], "owner": {"reputation": 2100, "user_id": 1744104, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/86b6ab994141056d18c4d0a3d1ab729c?s=128&d=identicon&r=PG", "display_name": "GTS Joe", "link": "https://stackoverflow.com/users/1744104/gts-joe"}, "is_accepted": true, "score": 2, "last_activity_date": 1553802310, "creation_date": 1553802310, "answer_id": 55405740, "question_id": 55385369, "link": "https://stackoverflow.com/questions/55385369/jszip-creating-corrupt-jpg-image/55405740#55405740", "title": "JSZip Creating Corrupt JPG Image", "body": "<p>I ended up answering my own question. The solution was to first convert the Base64 data URI image to BLOB. To do that, I used the following custom function:</p>\n\n<pre><code>function dataURItoBlob( dataURI ) {\n    // Convert Base64 to raw binary data held in a string.\n\n    var byteString = atob(dataURI.split(',')[1]);\n\n    // Separate the MIME component.\n    var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0]\n\n    // Write the bytes of the string to an ArrayBuffer.\n    var ab = new ArrayBuffer(byteString.length);\n    var ia = new Uint8Array(ab);\n    for (var i = 0; i &lt; byteString.length; i++) {\n        ia[i] = byteString.charCodeAt(i);\n    }\n\n    // Write the ArrayBuffer to a BLOB and you're done.\n    var bb = new Blob([ab]);\n\n    return bb;\n}\n\nvar image = dataURItoBlob( img.src );\n</code></pre>\n\n<p>Drewness's suggestion works, too, but I prefer my method since canvas.toBlob() doesn't return a value.</p>\n"}], "owner": {"reputation": 2100, "user_id": 1744104, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/86b6ab994141056d18c4d0a3d1ab729c?s=128&d=identicon&r=PG", "display_name": "GTS Joe", "link": "https://stackoverflow.com/users/1744104/gts-joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 831, "favorite_count": 0, "accepted_answer_id": 55405740, "answer_count": 2, "score": 4, "last_activity_date": 1594936527, "creation_date": 1553716072, "question_id": 55385369, "link": "https://stackoverflow.com/questions/55385369/jszip-creating-corrupt-jpg-image", "title": "JSZip Creating Corrupt JPG Image", "body": "<p>I'm tring to add a JPG image I created with html2canvas to a Zip file using JSZip. When I save the raw JPG file, it comes out fine. But when I zip it, the image comes out corrupt (when I open the image file, no data appears). Here is my script:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;script src=\"https://stuk.github.io/jszip/dist/jszip.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"http://html2canvas.hertzen.com/dist/html2canvas.min.js\"&gt;&lt;/script&gt;\n        &lt;script type=\"text/javascript\" src=\"FileSaver.min.js\"&gt;&lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div id=\"capture\" style=\"padding: 0; background: #f5da55; width: 400px; height: 200px;\"&gt;\n            &lt;h4 style=\"color: #000; \"&gt;Hello, world!&lt;/h4&gt;\n        &lt;/div&gt;\n\n        &lt;script type=\"text/javascript\"&gt;\n            html2canvas( document.querySelector(\"#capture\") ).then(canvas =&gt; {\n                var img = new Image(); img.src = canvas.toDataURL( 'image/jpeg' );\n\n                // * * * This JPG is good:    \n                saveAs( img.src, 'file1.jpg');\n\n                var zip = new JSZip();\n\n                // Add a file to the zip file, in this case an image with data URI as contents\n                // * * * This JPG comes out corrupted:    \n                zip.file( 'file2.jpg', img.src, {binary: true} );\n\n                // Generate the zip file asynchronously\n                zip.generateAsync({type:\"blob\"}).then(function(content) {\n                    saveAs( content, 'archive.zip' );\n                });\n            });\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Please help me add the data URI image to the zip file. Many thanks!</p>\n"}, {"tags": ["javascript", "chart.js"], "owner": {"reputation": 182, "user_id": 7476171, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/2c229bc9cce9260c0433a2e6b6278a97?s=128&d=identicon&r=PG&f=1", "display_name": "squareCircle", "link": "https://stackoverflow.com/users/7476171/squarecircle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1553716060, "creation_date": 1553716060, "question_id": 55385366, "link": "https://stackoverflow.com/questions/55385366/chart-js-yaxis-hidden-data", "title": "Chart.js yAxis hidden data", "body": "<p>I have a problem with <code>Chart.js</code>. From the picture, you can see that chart hide my horizontal line draw with annotation </p>\n\n<pre><code>           annotation: {\n                annotations: [{\n                    drawTime: 'afterDraw', \n                    type: 'line',\n                    mode: 'horizontal',\n                    scaleID: 'y-axis-0',\n                    value: chartData.test,\n                    borderColor: 'black',\n                    borderWidth: 1,\n                    label: {\n                        content: \"Test\",\n                        enabled: true,\n                        position: \"left\"\n                    }\n                }]\n            }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/HGfv9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HGfv9.png\" alt=\"enter image description here\"></a></p>\n\n<p>So the problem is how to tell <code>Chart.js</code> to set yAxis max over this value, also I don't want to calculate max value because I have I lot of data, this is just example</p>\n"}, {"tags": ["javascript", "c#", "web"], "comments": [{"owner": {"reputation": 1710, "user_id": 2451871, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/848504484fe5f34bbe40d6c2251128e3?s=128&d=identicon&r=PG", "display_name": "Christoph Herold", "link": "https://stackoverflow.com/users/2451871/christoph-herold"}, "edited": false, "score": 0, "creation_date": 1553717571, "post_id": 55385312, "comment_id": 97493287, "body": "Wouldn&#39;t it be easier to simply create an action that returns the image and put that as the href of the <code>shortcut-icon</code> directly instead of resorting to Javascript?"}], "answers": [{"tags": [], "owner": {"reputation": 1762, "user_id": 1388544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdcb9dac7a69173fef3d2182edb6547c?s=128&d=identicon&r=PG&f=1", "display_name": "D.B.", "link": "https://stackoverflow.com/users/1388544/d-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1553717387, "creation_date": 1553717387, "answer_id": 55385656, "question_id": 55385312, "link": "https://stackoverflow.com/questions/55385312/function-to-get-image-from-database-is-not-working/55385656#55385656", "title": "function to get image from database is not working", "body": "<p>A few things need to be edited:</p>\n\n<p>First, think you got the parameters for RegisterStartupScript not set as required. The 3rd value should be the javascript code to run. You can add the entire script as a variable (as indicated here: <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.web.ui.clientscriptmanager.registerstartupscript?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/api/system.web.ui.clientscriptmanager.registerstartupscript?view=netframework-4.7.2</a>), or you can add your function in <code>&lt;script&gt;...&lt;/script&gt;</code> tags to the HTML page, and then just call the function from within RegisterStartupScript (as the 3rd parameter value)</p>\n\n<p>Secondly, there's a typo in your JavaScript function:</p>\n\n<p><code>link.hre = image;</code> should be <code>link.href = image;</code></p>\n\n<p>Thirdly, (this part might require some work) the image has to be a URL (string) to the actual image (Not the binary Bitmap)... you might first have to save the image to the web server as a .jpg or .png and use its URL to there, or you have to convert the image to Base64 and add the image via Data URLs <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs</a></p>\n\n<p>Finally, you modified the JavaScript from the original example (you mentioned) In this case, you want to send the image URL as a parameter to the function <code>icon</code> However, the <code>icon</code> function is encapsulated. So the function is basically in a Private scope. Remove the encapsulation around the function if needed to be called from another function on the page... hope this make sense.</p>\n"}, {"tags": [], "owner": {"reputation": 1710, "user_id": 2451871, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/848504484fe5f34bbe40d6c2251128e3?s=128&d=identicon&r=PG", "display_name": "Christoph Herold", "link": "https://stackoverflow.com/users/2451871/christoph-herold"}, "is_accepted": false, "score": 0, "last_activity_date": 1553718028, "creation_date": 1553718028, "answer_id": 55385800, "question_id": 55385312, "link": "https://stackoverflow.com/questions/55385312/function-to-get-image-from-database-is-not-working/55385800#55385800", "title": "function to get image from database is not working", "body": "<p>Instead of using Javascript, you could simply link your shortcut-icon to a handler, that immediately returns the image. (The following code is not tested, it's there to describe the basic process!)</p>\n\n<p>In your page:</p>\n\n<pre><code>&lt;link rel=\"shortcut icon\" type=\"image/x-icon\" href=\"/userimage.ashx\"&gt;\n</code></pre>\n\n<p>userimage.ashx:</p>\n\n<pre><code>&lt;%@ WebHandler Language=\"C#\" Class=\"UserImageHandler\" %&gt;\n</code></pre>\n\n<p>userimage.ashx.cs:</p>\n\n<pre><code>using System;\nusing System.Web;\n\npublic class UserImageHandler : IHttpHandler {\n\n    public void ProcessRequest (HttpContext context) {\n        context.Response.ContentType = \"image/png\"; // or image/jpg, image/bmp, ...\n        var image = FetchImageFromDatabase(context.User.Identity.Name); // your logic for fetching the image from the database\n            // You could also return a default image here, if the user has not selected one.\n        context.Response.Write(image); // Write the binary data to the response stream.\n    }\n\n    public bool IsReusable {\n        get {\n            return false;\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9210403, "user_type": "registered", "profile_image": "https://graph.facebook.com/1814661291887477/picture?type=large", "display_name": "Pedro Nassetti", "link": "https://stackoverflow.com/users/9210403/pedro-nassetti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1553718028, "creation_date": 1553715810, "last_edit_date": 1553716434, "question_id": 55385312, "link": "https://stackoverflow.com/questions/55385312/function-to-get-image-from-database-is-not-working", "title": "function to get image from database is not working", "body": "<p>I'm new to Javascript. I want to add an icon to all my project's web pages. This icon changes accordingly to whoever logs in in my page. What i'm trying now is, in master page load (when i have all of its data in codebehind, including his chosen icon), i introduced a js function to change icon:</p>\n\n<pre><code>    (function icon(image) {\n        var link = document.querySelector(\"link[rel*='icon']\") || document.createElement('link');\n        link.type = 'image/x-icon';\n        link.rel = 'shortcut icon';\n        link.hre = image;\n        document.getElementsByTagName('head')[0].appendChild(link);\n    })();\n</code></pre>\n\n<p>(adapted from here: <a href=\"https://stackoverflow.com/questions/260857/changing-website-favicon-dynamically\">Changing website favicon dynamically</a>)</p>\n\n<p>im trying to call this function with Page.ClientScript.RegisterStartupScript() method:</p>\n\n<pre><code>  (protected void Page_Load(object sender, EventArgs e)\n  {\n  if (!Page.IsPostBack)\n     {\n        //...\n\n        UserModel usuario = (UserModel)Session[\"usuario\"];\n\n        //...\n\n        Page.ClientScript.RegisterStartupScript(this.GetType(), \"icone\", $\"icone({(Bitmap)new ImageConverter().ConvertFrom(usuario.imagem)});\", true);\n     }\n  }\n</code></pre>\n\n<p>The method is simply not executing(its not returning error either, it just \"jump it\"), and i sincerely have no idea why.</p>\n\n<p>OOOOR, there may be a better way to do it, but i just cant figure it.</p>\n\n<p>For the record, i DONT have the icons/images on a folder. I MUST get them form the database.</p>\n\n<p>(I will later add validation for when user has no image in database. Assume for now it will never be null).</p>\n"}]