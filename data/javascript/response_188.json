[{"tags": ["javascript", "node.js", "mongodb", "mongoose"], "answers": [{"tags": [], "owner": {"reputation": 766, "user_id": 10031106, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QaeUm2Al9jY/AAAAAAAAAAI/AAAAAAAABDY/dC0qvF5_FxI/photo.jpg?sz=128", "display_name": "Xixis", "link": "https://stackoverflow.com/users/10031106/xixis"}, "is_accepted": true, "score": 0, "last_activity_date": 1534382843, "last_edit_date": 1534382843, "creation_date": 1534382484, "answer_id": 51868413, "question_id": 51867907, "link": "https://stackoverflow.com/questions/51867907/increment-field-user-entries-when-i-hit-submit/51868413#51868413", "title": "Increment field user.entries when I hit submit", "body": "<p>It is working. The only reason is that, <code>findByIdAndUpdate</code> returns the document before actually performing the update operation. If you want to get the increment value after the update operation, You might want to split the <code>findByIdAndUpdate</code> and try</p>\n\n<pre><code>User.update({_id: id},{$inc: {'entries': 1}}).then(() =&gt; {\n    User.findOne({_id: id}).then( user =&gt;{\n        return res.json(user.entries);\n    })\n}).catch(err =&gt; {\n    res.status(400).json('Error getting entries');\n    console.log(err);\n})\n</code></pre>\n\n<p>You could also check this <a href=\"https://stackoverflow.com/questions/24747189/update-and-return-document-in-mongodb\">solution</a> out by @Jonathan Lonowski if you still want to go with the <code>findByIdAndUpdate</code>.</p>\n"}], "owner": {"reputation": 67, "user_id": 10220956, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-g1rm0mtIpFY/AAAAAAAAAAI/AAAAAAAAAAc/bEnk9J-I0zo/photo.jpg?sz=128", "display_name": "Yuri Rech", "link": "https://stackoverflow.com/users/10220956/yuri-rech"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "accepted_answer_id": 51868413, "answer_count": 1, "score": 0, "last_activity_date": 1534382843, "creation_date": 1534377447, "question_id": 51867907, "link": "https://stackoverflow.com/questions/51867907/increment-field-user-entries-when-i-hit-submit", "title": "Increment field user.entries when I hit submit", "body": "<p>any idea how to increment a field called 'entries' by 1 every time I hit the submit button and save it to the database (I am using MongoDB/mongoose)?</p>\n\n<pre><code>app.put('/image', (req, res) =&gt; {\n     const { id } = req.body;\n    User.findByIdAndUpdate(id)\n         .then(user =&gt; {\n            return res.json(user.entries);\n        })\n        .catch(err =&gt; {\n            res.status(400).json('Error getting entries');\n            console.log(err);\n        })\n\n});\n</code></pre>\n\n<p>I tried the auto-incremet plugin, but I don't know if it works in this case, if so I couldn't quite place it in the right place. I also tried to add like</p>\n\n<p><code>User.findByIdAndUpdate(id, {$inc: {'entries': 1}}</code> but it only starts to work when I hit the but twice and on. </p>\n\n<p>If anyone can help me It'd be a great help!! Thanks</p>\n"}, {"tags": ["javascript", "angular", "forms", "dropdown"], "comments": [{"owner": {"reputation": 5996, "user_id": 9379329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e048397f8222a2baf867bc55a5843599?s=128&d=identicon&r=PG&f=1", "display_name": "Akj", "link": "https://stackoverflow.com/users/9379329/akj"}, "edited": false, "score": 0, "creation_date": 1534396687, "post_id": 51867906, "comment_id": 90691503, "body": "why don&#39;t you are making it editable?"}, {"owner": {"reputation": 554, "user_id": 7582211, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/FWd51.jpg?s=128&g=1", "display_name": "Guy who types fast", "link": "https://stackoverflow.com/users/7582211/guy-who-types-fast"}, "reply_to_user": {"reputation": 5996, "user_id": 9379329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e048397f8222a2baf867bc55a5843599?s=128&d=identicon&r=PG&f=1", "display_name": "Akj", "link": "https://stackoverflow.com/users/9379329/akj"}, "edited": false, "score": 0, "creation_date": 1534432225, "post_id": 51867906, "comment_id": 90711993, "body": "what do you mean?"}, {"owner": {"reputation": 2361, "user_id": 3551035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31d4c410afb0527b26e33aaef8eb310f?s=128&d=identicon&r=PG", "display_name": "shohrukh", "link": "https://stackoverflow.com/users/3551035/shohrukh"}, "edited": false, "score": 0, "creation_date": 1534664586, "post_id": 51867906, "comment_id": 90781044, "body": "Just a side-note: Since you&#39;re running Angular 5 version, did you install &#39;ng-select&#39; version 1.x? See versions description <a href=\"https://github.com/ng-select/ng-select/blob/master/README.md\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 554, "user_id": 7582211, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/FWd51.jpg?s=128&g=1", "display_name": "Guy who types fast", "link": "https://stackoverflow.com/users/7582211/guy-who-types-fast"}, "edited": false, "score": 0, "creation_date": 1534865139, "post_id": 51867906, "comment_id": 90854258, "body": "I made a mistake, I&#39;m using Angular 6, and ng-select version 2.3.3"}], "owner": {"reputation": 554, "user_id": 7582211, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/FWd51.jpg?s=128&g=1", "display_name": "Guy who types fast", "link": "https://stackoverflow.com/users/7582211/guy-who-types-fast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1534865167, "creation_date": 1534377445, "last_edit_date": 1534865167, "question_id": 51867906, "link": "https://stackoverflow.com/questions/51867906/iterate-through-dropdown-elements-when-user-presses-a-key", "title": "Iterate through &quot;dropdown&quot; elements when user presses a key", "body": "<p>I'm using Angular 6 and I'm having trouble with a dropdown.</p>\n\n<p>When a the dropdown is focused and a user presses a key 'I' for example it selects the first option that starts with that letter (in this case it selects Idaho from an array containing states), when the user presses 'I' again it should select the next element on the list starting with an 'I' (Illinois), but it stays in the same element.</p>\n\n<p>I'm using <a href=\"https://github.com/ng-select/ng-select\" rel=\"nofollow noreferrer\">this dropdown select module</a> and I implemented it to my html with this tag:</p>\n\n<pre><code>&lt;ng-select [items]=\"this.stateNames\" [(ngModel)]=\"shippingInfo.shippingAddress.state\" #state=\"ngModel\" name=\"state\" required placeholder=\"Select State\" bindLabel='long' bindValue='short' placeholder=\"Select a State\"[searchable]=\"false\" [clearable]=\"false\"&gt;&lt;/ng-select&gt;\n</code></pre>\n\n<p>I tried to iterate programmatically using the <code>keypress</code> and <code>change</code>\n events adding </p>\n\n<pre><code>(change)=\"this.stateChange($event, shippingInfo.shippingAddress.state)\" (keypress)=\"this.keypressEvent($event, shippingInfo.shippingAddress.state)\"\n</code></pre>\n\n<p>to the <code>ng-select</code> tag. The handler functions look like this:</p>\n\n<pre><code>currentKey = '';\nstateIndex = 0;\n\nkeypressEvent(e, currentState) {\n  console.log('\\n\\nK E Y   P R E S S');\n  console.log('key pressed: ', e.key);\n  if (e.key === this.currentKey.toLowerCase()) {\n    console.log('same key');\n    this.stateIndex++;\n  }\n  console.log('currentState: ',currentState);\n  const currentIndex = this.stateNames.findIndex((element)=&gt;{\n    return element.short === currentState\n  });\n  if (this.stateNames.length &gt; this.stateIndex) {\n    if (this.stateNames[this.stateIndex].long[0].toLowerCase() === e.key) {\n      this.shippingInfo.shippingAddress.state = this.stateNames[this.stateIndex].short;\n      console.log('new state: ', this.shippingInfo.shippingAddress.state);\n    }\n  }\n}\n\nstateChange(e, currentState) {\n  console.log('\\n\\nS T A T E   C H A N G E');\n  this.currentKey = currentState[0];\n  console.log('currentState: ', currentState);\n  console.log('key stored: ', this.currentKey);\n  this.stateIndex = this.stateNames.findIndex(x =&gt;  x.short === currentState);\n  console.log('State index: ', this.stateIndex);\n  console.log('actual value: ', this.shippingInfo.shippingAddress.state);\n}\n</code></pre>\n\n<p>I noticed some curious/weird behavior:</p>\n\n<ul>\n<li><p>When I press the same key multiple times quickly <code>stateChange</code> won't trigger and the selected item changes as expected but when I stop and then press the same key again it will go to the first state starting with that letter.</p></li>\n<li><p>When I press the same key ('I' for example): the first time it selects Idaho as expected, and the second time <code>keypress</code> triggers briefly selecting Illinois (this is what I want) but then <code>stateChange</code> also triggers and sets it back to Idaho.</p></li>\n</ul>\n\n<p>this.stateNames is an array containing objects with the names of the states, like this:</p>\n\n<pre><code>[\n{ \"short\": \"AL\", \"long\": \"Alabama\"  },\n{ \"short\": \"AK\", \"long\": \"Alaska\"  },\n{ \"short\": \"AZ\", \"long\": \"Arizona\" },\n{ \"short\": \"AR\", \"long\": \"Arkansas\" },\n{ \"short\": \"CA\", \"long\": \"California\" },\n{ \"short\": \"CO\", \"long\": \"Colorado\" },\n{ \"short\": \"CT\", \"long\": \"Connecticut\" },\n{ \"short\": \"DE\", \"long\": \"Delaware\" },\n{ \"short\": \"DC\", \"long\": \"District Of Columbia\" },\n{ \"short\": \"FL\", \"long\": \"Florida\" },\n{ \"short\": \"GA\", \"long\": \"Georgia\" },\n{ \"short\": \"HI\", \"long\": \"Hawaii\" },\n{ \"short\": \"ID\", \"long\": \"Idaho\" },\n{ \"short\": \"IL\", \"long\": \"Illinois\" },\n{ \"short\": \"IN\", \"long\": \"Indiana\" },\n{ \"short\": \"IA\", \"long\": \"Iowa\" },\n{ \"short\": \"KS\", \"long\": \"Kansas\" },\n{ \"short\": \"KY\", \"long\": \"Kentucky\" },\n{ \"short\": \"LA\", \"long\": \"Louisiana\" },\n{ \"short\": \"ME\", \"long\": \"Maine\" },\n{ \"short\": \"MD\", \"long\": \"Maryland\" },\n{ \"short\": \"MA\", \"long\": \"Massachusetts\" },\n{ \"short\": \"MI\", \"long\": \"Michigan\" },\n{ \"short\": \"MN\", \"long\": \"Minnesota\" },\n{ \"short\": \"MS\", \"long\": \"Mississippi\" },\n{ \"short\": \"MO\", \"long\": \"Missouri\" },\n{ \"short\": \"MT\", \"long\": \"Montana\" },\n{ \"short\": \"NE\", \"long\": \"Nebraska\" },\n{ \"short\": \"NV\", \"long\": \"Nevada\" },\n{ \"short\": \"NH\", \"long\": \"New Hampshire\" },\n{ \"short\": \"NJ\", \"long\": \"New Jersey\" },\n{ \"short\": \"NM\", \"long\": \"New Mexico\" },\n{ \"short\": \"NY\", \"long\": \"New York\" },\n{ \"short\": \"NC\", \"long\": \"North Carolina\" },\n{ \"short\": \"ND\", \"long\": \"North Dakota\" },\n{ \"short\": \"OH\", \"long\": \"Ohio\" },\n{ \"short\": \"OK\", \"long\": \"Oklahoma\" },\n{ \"short\": \"OR\", \"long\": \"Oregon\" },\n{ \"short\": \"PA\", \"long\": \"Pennsylvania\" },\n{ \"short\": \"RI\", \"long\": \"Rhode Island\" },\n{ \"short\": \"SC\", \"long\": \"South Carolina\" },\n{ \"short\": \"SD\", \"long\": \"South Dakota\" },\n{ \"short\": \"TN\", \"long\": \"Tennessee\" },\n{ \"short\": \"TX\", \"long\": \"Texas\" },\n{ \"short\": \"UT\", \"long\": \"Utah\" },\n{ \"short\": \"VT\", \"long\": \"Vermont\" },\n{ \"short\": \"VA\", \"long\": \"Virginia\" },\n{ \"short\": \"WA\", \"long\": \"Washington\" },\n{ \"short\": \"WV\", \"long\": \"West Virginia\" },\n{ \"short\": \"WI\", \"long\": \"Wisconsin\" },\n{ \"short\": \"WY\", \"long\": \"Wyoming\" }\n]\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "react-native", "react-native-ios", "react-apollo"], "answers": [{"tags": [], "owner": {"reputation": 3982, "user_id": 2598292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/317d3c3e01a1804d630e3cdca783c272?s=128&d=identicon&r=PG&f=1", "display_name": "RedGiant", "link": "https://stackoverflow.com/users/2598292/redgiant"}, "is_accepted": false, "score": 0, "last_activity_date": 1534487774, "creation_date": 1534487774, "answer_id": 51889655, "question_id": 51867904, "link": "https://stackoverflow.com/questions/51867904/unable-to-resolve-module-in-react-native-ios-but-works-in-android/51889655#51889655", "title": "Unable to resolve module in React Native IOS, but works in Android", "body": "<p>I just deleted the ./nodule_modules, run <code>npm install</code> and remove this block from <code>.babelrc</code></p>\n\n<pre><code>  \"plugins\": [\n    [\"module-resolver\", {\n      \"alias\": {\n        \"react-apollo\": \"react-apollo/react-apollo.browser.umd.js\"\n      }\n    }]\n  ]\n</code></pre>\n\n<p>Things are working fine. \nMaybe there are conflicts in the versions of some apollo modules. </p>\n"}], "owner": {"reputation": 3982, "user_id": 2598292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/317d3c3e01a1804d630e3cdca783c272?s=128&d=identicon&r=PG&f=1", "display_name": "RedGiant", "link": "https://stackoverflow.com/users/2598292/redgiant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 170, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534487774, "creation_date": 1534377397, "question_id": 51867904, "link": "https://stackoverflow.com/questions/51867904/unable-to-resolve-module-in-react-native-ios-but-works-in-android", "title": "Unable to resolve module in React Native IOS, but works in Android", "body": "<p>The app is built successfully in X-code, but this error comes up right on start:</p>\n\n<pre><code>Unable to resolve module \n`../node_modules/react-native/node_modules/react-apollo/react-apollo.browser.umd.js` \nfrom `/Users/lau/Documents/project/watch/mobile/src/Screen.js`: \ncould not resolve \n`/Users/lau/Documents/project/watch/mobile/node_modules/react-native/node_modules/react-apollo/react-apollo.browser.umd.js' \nas a file nor as a folder\n</code></pre>\n\n<p>I think the problem is due to the extra  <code>/node_modules/react-native/</code> in the path.</p>\n\n<p>There are files in <code>../node_modules/react-apollo/react-apollo.browser.umd.js</code> but not in <code>../node_modules/react-native/node_modules/react-apollo/react-apollo.browser.umd.js</code>. I don't understand why the path is prefixed with the unnecessary <code>/node_modules/react-native/</code> in React Native IOS. Is it caused by the Search Path in the build settings?</p>\n\n<p>Here is how I import react-apollo module in Screen.js:</p>\n\n<pre><code>import * as React from 'react'\nimport {Navigation} from 'react-native-navigation';\nimport {ApolloProvider} from \"react-apollo\";\n</code></pre>\n\n<p>The build settings:\n<a href=\"https://i.stack.imgur.com/FjjpM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FjjpM.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/iMa3x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iMa3x.png\" alt=\"enter image description here\"></a></p>\n\n<p>package.json:</p>\n\n<pre><code>  \"dependencies\": {\n    \"apollo-cache-inmemory\": \"^1.2.7\",\n    \"apollo-cache-persist\": \"^0.1.1\",\n    \"apollo-client\": \"^2.3.8\",\n    \"apollo-client-preset\": \"^1.0.8\",\n    \"apollo-engine\": \"^1.1.2\",\n    \"apollo-link\": \"^1.2.2\",\n    \"apollo-link-batch-http\": \"^1.2.2\",\n    \"apollo-link-context\": \"^1.0.8\",\n    \"apollo-link-persisted-queries\": \"^0.2.1\",\n    \"apollo-link-state\": \"^0.4.1\",\n    \"react\": \"^16.4.2\",\n    \"react-apollo\": \"^2.1.11\",\n    \"react-native\": \"0.56.0\",\n    \"react-native-navigation\": \"^2.0.2471\"\n  },\n</code></pre>\n"}, {"tags": ["javascript", "python", "node.js", "opencv", "stdout"], "answers": [{"tags": [], "owner": {"reputation": 19, "user_id": 7236696, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-S80-EvCchxY/AAAAAAAAAAI/AAAAAAAACLg/_GFBHgCVY3o/photo.jpg?sz=128", "display_name": "omkarstha", "link": "https://stackoverflow.com/users/7236696/omkarstha"}, "is_accepted": true, "score": 0, "last_activity_date": 1534796493, "creation_date": 1534796493, "answer_id": 51937994, "question_id": 51867897, "link": "https://stackoverflow.com/questions/51867897/console-logging-the-python-script-console-output-in-node-js/51937994#51937994", "title": "console logging the python script console output in node.js", "body": "<p>the realtime logging can be done by flushing the stdout in python script</p>\n\n<pre><code>print('somestring', flush=True)\n</code></pre>\n\n<p>works fine for flushing in python 3.3+</p>\n\n<p>and the string concatenation overlapping was because the returned string had '\\r' in it\nI removed '\\r' the var with </p>\n\n<pre><code>variable.replace(/\\n|\\r/g, \"\")\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 7236696, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-S80-EvCchxY/AAAAAAAAAAI/AAAAAAAACLg/_GFBHgCVY3o/photo.jpg?sz=128", "display_name": "omkarstha", "link": "https://stackoverflow.com/users/7236696/omkarstha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3389, "favorite_count": 0, "accepted_answer_id": 51937994, "answer_count": 1, "score": 0, "last_activity_date": 1534796493, "creation_date": 1534377312, "question_id": 51867897, "link": "https://stackoverflow.com/questions/51867897/console-logging-the-python-script-console-output-in-node-js", "title": "console logging the python script console output in node.js", "body": "<p>I'm working on opencv python and node.js server in which python script prints out the string \"moved\" useful for my node server</p>\n\n<p>I'm using 'python-shell' for spawning python script as a child process\nbut the problem is that i'm working on a video file in opencv and node only console logs only after the cv2.imshow(video window) is exited. I want it to console log the output in node from python script on real-time.</p>\n\n<p>Neither i'm getting the argument in the conditional statement (message === 'moved')</p>\n\n<h2>server.js</h2>\n\n<pre><code>var express = require('express');\nvar app = express();\n\nvar PythonShell = require('python-shell');\nvar pyshell = new PythonShell(__dirname + './script.py');\n\npyshell.on('message', function (message) {\n  // received a message sent from the Python file script.py (returns \"moved\" string)\n  console.log(message);\n  console.log(message + 'hi');\n  if(true){\n    console.log('hey')\n  }\n  if(message === 'moved'){\n    console.log('hit')\n  }\n});\n</code></pre>\n\n<h2>Console in Node.js</h2>\n\n<pre><code>moved\nhived\nhey\n</code></pre>\n\n<p>also why did 'moved' and 'hi' concatenated to 'hived'?</p>\n"}, {"tags": ["javascript", "c#", "css", "asp.net", "asp.net-core"], "answers": [{"comments": [{"owner": {"reputation": 116, "user_id": 6474915, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DlLZy.jpg?s=128&g=1", "display_name": "Russell Alan", "link": "https://stackoverflow.com/users/6474915/russell-alan"}, "edited": false, "score": 0, "creation_date": 1534378482, "post_id": 51867969, "comment_id": 90687854, "body": "what using directive are you using for &quot;Configure&quot;? Everything else looks good but it doesn&#39;t like Configure because &quot;A namespace cannot directly contain members such as fields or methods&quot;"}, {"owner": {"reputation": 21656, "user_id": 6265620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/uf6qO.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/6265620/edward"}, "reply_to_user": {"reputation": 116, "user_id": 6474915, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DlLZy.jpg?s=128&g=1", "display_name": "Russell Alan", "link": "https://stackoverflow.com/users/6474915/russell-alan"}, "edited": false, "score": 0, "creation_date": 1534400758, "post_id": 51867969, "comment_id": 90692947, "body": "@RussellAlan Share us your <code>Startup.cs</code>. Where did this error happen?"}, {"owner": {"reputation": 116, "user_id": 6474915, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DlLZy.jpg?s=128&g=1", "display_name": "Russell Alan", "link": "https://stackoverflow.com/users/6474915/russell-alan"}, "reply_to_user": {"reputation": 21656, "user_id": 6265620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/uf6qO.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/6265620/edward"}, "edited": false, "score": 0, "creation_date": 1534507955, "post_id": 51867969, "comment_id": 90740875, "body": "@Edward I&#39;ll provide the Startup.cs file later today. I don&#39;t have access to the project at the moment."}], "tags": [], "owner": {"reputation": 1093, "user_id": 2476111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85a41971f65e7a7e2d429e68f6285fa8?s=128&d=identicon&r=PG", "display_name": "Cobster", "link": "https://stackoverflow.com/users/2476111/cobster"}, "is_accepted": false, "score": 0, "last_activity_date": 1534377902, "creation_date": 1534377902, "answer_id": 51867969, "question_id": 51867879, "link": "https://stackoverflow.com/questions/51867879/how-do-i-add-custom-stylesheets-and-scripts-to-a-asp-net-core-project/51867969#51867969", "title": "How do I add custom stylesheets and scripts to a ASP.NET Core project?", "body": "<p>In order to serve the scripts and css from a directory other than wwwroot, you need to add another static file handler to your request pipeline.</p>\n\n<pre><code>public void Configure(IApplicationBuilder app, IHostingEnvironment env)\n{\n    app.UseStaticFiles();\n    app.UseStaticFiles(new StaticFileOptions \n    {\n        FileProvider = new PhysicalFileProvider(Path.Combine(env.ContentRootPath, \"Content\")),\n        RequestPath = \"/Content\"\n    });\n}\n</code></pre>\n\n<p>See more details in the ASP.NET Core documentation on <a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/static-files?view=aspnetcore-2.1&amp;tabs=aspnetcore2x\" rel=\"nofollow noreferrer\">Static files</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 16951, "user_id": 2147652, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/WqlGm.jpg?s=128&g=1", "display_name": "mybirthname", "link": "https://stackoverflow.com/users/2147652/mybirthname"}, "is_accepted": false, "score": 0, "last_activity_date": 1534399594, "creation_date": 1534399594, "answer_id": 51870560, "question_id": 51867879, "link": "https://stackoverflow.com/questions/51867879/how-do-i-add-custom-stylesheets-and-scripts-to-a-asp-net-core-project/51870560#51870560", "title": "How do I add custom stylesheets and scripts to a ASP.NET Core project?", "body": "<p>You can try with <a href=\"https://www.nuget.org/packages/BuildBundlerMinifier/\" rel=\"nofollow noreferrer\">BuildBundlerMinifier</a></p>\n\n<pre><code>Install-Package BuildBundlerMinifier -Version 2.8.391\n</code></pre>\n\n<p>Install this package in your web project, after that create in the root of the project <code>bundleconfig.json</code> file. <strong>Here an example of the content of this file, you could only put your custom js/css files, if you don't want to change the jquery references in the layout.</strong></p>\n\n<pre><code>[\n  {\n    \"outputFileName\": \"wwwroot/css/globalCss.min.css\",\n    \"inputFiles\": [\n      \"node_modules/bootstrap/dist/css/bootstrap.min.css\",\n      \"node_modules/font-awesome/css/font-awesome.min.css\"\n    ]\n  },\n  {\n    \"outputFileName\": \"wwwroot/js/globalJs.min.js\",\n    \"inputFiles\": [\n      \"node_modules/jquery/dist/jquery.min.js\",\n      \"node_modules/bootstrap/dist/js/bootstrap.min.js\",\n      \"JS/site.js\"\n    ]\n  },\n  {\n    \"outputFileName\": \"wwwroot/js/pageJs.min.js\",\n    \"inputFiles\": [\n      \"node_modules/jquery-validation/dist/jquery.validate.js\",\n      \"node_modules/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.js\"\n    ]\n  }\n\n]\n</code></pre>\n\n<p>This JS/CSS files are created on build of your project. If you make changes only in the js files you could Clean/Rebuild your project so they are reload properly. This is what you should see on build in your output:</p>\n\n<pre><code>Bundler: Begin processing bundleconfig.json\nMinified wwwroot/css/globalCss.min.css\nMinified wwwroot/js/globalJs.min.js\nMinified wwwroot/js/pageJs.min.js\nBundler: Done processing bundleconfig.json\n</code></pre>\n"}], "owner": {"reputation": 116, "user_id": 6474915, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DlLZy.jpg?s=128&g=1", "display_name": "Russell Alan", "link": "https://stackoverflow.com/users/6474915/russell-alan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 728, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1534399935, "creation_date": 1534377097, "last_edit_date": 1534399935, "question_id": 51867879, "link": "https://stackoverflow.com/questions/51867879/how-do-i-add-custom-stylesheets-and-scripts-to-a-asp-net-core-project", "title": "How do I add custom stylesheets and scripts to a ASP.NET Core project?", "body": "<p>Let me start off by saying I've seen a StackOverflow question related to this but none of the solutions solved the problem.</p>\n\n<p>I'm trying to add custom stylesheets and JS script files to a new ASP.NET Core solution.</p>\n\n<p>The css and JS files in wwwroot do work just fine, but I'd like to be able to add my own as well.</p>\n\n<p>I've added a Content folder to the project with a CSS folder inside of that(Content folder > CSS folder > Site.css), attempted to wire it up with a link tag in the _Layout.cshtml file but no success.</p>\n\n<p>I also have a \"Scripts\" folder inside of the Content folder (Content folder > Scripts folder > CustomJS.js) mentioned above with the Javscript file (CustomJS.js) inside of that but am not sure how to wire that up either now that the BundleConfig file in the AppStart folder is gone.</p>\n\n<p>What am I missing here?</p>\n\n<p>Here is the _Layout.cshtml file from top to end of <em>head</em> tags.</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\" /&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /&gt;\n    &lt;title&gt;@ViewData[\"Title\"] - JavascriptPractice&lt;/title&gt;\n\n    &lt;environment include=\"Development\"&gt;\n        &lt;link rel=\"stylesheet\" href=\"~/lib/bootstrap/dist/css/bootstrap.css\" /&gt;\n        &lt;link rel=\"stylesheet\" href=\"~/css/site.css\" /&gt;\n        **&lt;link rel=\"stylesheet\" href=\"~/Content/CSS/Site.css\" /&gt;**\n    &lt;/environment&gt;\n    &lt;environment exclude=\"Development\"&gt;\n        &lt;link rel=\"stylesheet\" href=\"https://ajax.aspnetcdn.com/ajax/bootstrap/3.3.7/css/bootstrap.min.css\"\n              asp-fallback-href=\"~/lib/bootstrap/dist/css/bootstrap.min.css\"\n              asp-fallback-test-class=\"sr-only\" asp-fallback-test-property=\"position\" asp-fallback-test-value=\"absolute\" /&gt;\n        &lt;link rel=\"stylesheet\" href=\"~/css/site.min.css\" asp-append-version=\"true\" /&gt;\n    &lt;/environment&gt;\n&lt;/head&gt;\n</code></pre>\n"}, {"tags": ["javascript", "ios", "react-native"], "comments": [{"owner": {"reputation": 2970, "user_id": 9941043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04bdeef773a15b1ac4efa8b24e7c6677?s=128&d=identicon&r=PG", "display_name": "JRK", "link": "https://stackoverflow.com/users/9941043/jrk"}, "edited": false, "score": 0, "creation_date": 1538567143, "post_id": 51867872, "comment_id": 92185868, "body": "Can you add your RN Version and perhaps your project dependancies?"}], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 4599345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/945a3eb4515df7be42c9fadcd9f0cd2b?s=128&d=identicon&r=PG&f=1", "display_name": "prog", "link": "https://stackoverflow.com/users/4599345/prog"}, "edited": false, "score": 0, "creation_date": 1587667505, "post_id": 52626271, "comment_id": 108609213, "body": "what does that script do because I clearly didn\u2019t understand what it was for and I used it to fix something else which it didn\u2019t fix and know I\u2019m getting an error saying `could not connect to development server"}, {"owner": {"reputation": 157, "user_id": 2871237, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001061569964/picture?type=large", "display_name": "Mohamed Saqer", "link": "https://stackoverflow.com/users/2871237/mohamed-saqer"}, "reply_to_user": {"reputation": 135, "user_id": 4599345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/945a3eb4515df7be42c9fadcd9f0cd2b?s=128&d=identicon&r=PG&f=1", "display_name": "prog", "link": "https://stackoverflow.com/users/4599345/prog"}, "edited": false, "score": 0, "creation_date": 1587759457, "post_id": 52626271, "comment_id": 108646511, "body": "Hey @prog the first line to add babel/runtime package and the second clear the old build and kill any operation on the port and finally start running fresh"}], "tags": [], "owner": {"reputation": 157, "user_id": 2871237, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001061569964/picture?type=large", "display_name": "Mohamed Saqer", "link": "https://stackoverflow.com/users/2871237/mohamed-saqer"}, "is_accepted": false, "score": 5, "last_activity_date": 1538566883, "creation_date": 1538566883, "answer_id": 52626271, "question_id": 51867872, "link": "https://stackoverflow.com/questions/51867872/react-native-cant-run-app-on-ios-correctly-failed-to-load-bundlehttp-local/52626271#52626271", "title": "React Native: Can&#39;t run app on iOS correctly &quot;Failed to load bundle(http://localhost:8081/index.bundle?&quot;", "body": "<p>Quick fix: npm add @babel/runtime</p>\n\n<p>then: rm -rf ios/build/; kill $(lsof -t -i:8081); react-native run-ios</p>\n"}], "owner": {"reputation": 953, "user_id": 8802508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/624e0a091d6535e2556c4a084022f52e?s=128&d=identicon&r=PG&f=1", "display_name": "Curt Rand", "link": "https://stackoverflow.com/users/8802508/curt-rand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2273, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1538566883, "creation_date": 1534376955, "question_id": 51867872, "link": "https://stackoverflow.com/questions/51867872/react-native-cant-run-app-on-ios-correctly-failed-to-load-bundlehttp-local", "title": "React Native: Can&#39;t run app on iOS correctly &quot;Failed to load bundle(http://localhost:8081/index.bundle?&quot;", "body": "<p>When trying to run a react native iOS App, I am getting a red page with an error. This is the following error I am getting on the iOS screen.</p>\n\n<pre><code> Failed to load bundle(http://localhost:8081/index.bundle?platform=ios&amp;dev=true&amp;minify=false) with error:(Unable to resolve module ./node_modules/react-native/src/constants/screens from/Users/username/Desktop/mobile/App.js: The module ./node_modules/react-native/src/constants/screens could not be found from /Users/username/Desktop/mobile/App.js. Indeed, none of these files exist:\n\n/Users/username/Desktop/mobile/node_modules/react-native/src/constants/screens(.native||.ios.jsx|.native.jsx|.jsx|.ios.js|.native.js|.js|.ios.js|.native.js|.js|.ios.json|.native.json|.json)`\n\n /Users/username/Desktop/mobile/node_modules/react-native/src/constants/screens/index(.native||.ios.jsx|.native.jsx|.jsx|.ios.js|.native.js|.js|.ios.js|.native.js|.js|.ios.json|.native.json|.json) (null))\n\n__38-[RCTCxxBridge loadSource:onProgress:]_block_invoke.245\n    RCTCxxBridge.mm:420\n___ZL36attemptAsynchronousLoadOfBundleAtURLP5NSURLU13block_pointerFvP18RCTLoadingProgressEU13block_pointerFvP7NSErrorP9RCTSourceE_block_invoke.118\n__80-[RCTMultipartDataTask URLSession:streamTask:didBecomeInputStream:outputStream:]_block_invoke\n-[RCTMultipartStreamReader emitChunk:headers:callback:done:]\n-[RCTMultipartStreamReader readAllPartsWithCompletionCallback:progressCallback:]\n-[RCTMultipartDataTask URLSession:streamTask:didBecomeInputStream:outputStream:]\n__88-[NSURLSession delegate_streamTask:didBecomeInputStream:outputStream:completionHandler:]_block_invoke\n__NSBLOCKOPERATION_IS_CALLING_OUT_TO_A_BLOCK__\n-[NSBlockOperation main]\n-[__NSOperationInternal _start:]\n_dispatch_client_callout\n_dispatch_block_invoke_direct\n_dispatch_client_callout\n_dispatch_block_invoke_direct\ndispatch_block_perform\n__NSOQSchedule_f\n_dispatch_client_callout\n_dispatch_continuation_pop\n_dispatch_async_redirect_invoke\n_dispatch_root_queue_drain\n_dispatch_worker_thread3\n_pthread_wqthread\nstart_wqthread\n</code></pre>\n\n<p>I tried resolving this issue by looking at other stackoverflow posts. However, none of the solutions worked for me so far. I am honestly confused and don't know what to do. Any help or suggestions are appreciated.</p>\n"}, {"tags": ["javascript", "jquery", "jquery-clone"], "answers": [{"comments": [{"owner": {"reputation": 587, "user_id": 10230696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cjtKN.png?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10230696/learner"}, "edited": false, "score": 0, "creation_date": 1534377236, "post_id": 51867870, "comment_id": 90687609, "body": "let me take this one i am learner I just got hyped to know this :D"}, {"owner": {"reputation": 6091, "user_id": 933198, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/25a22103fd3210fdfa142843c7777ff1?s=128&d=identicon&r=PG", "display_name": "Lee Taylor", "link": "https://stackoverflow.com/users/933198/lee-taylor"}, "edited": false, "score": 0, "creation_date": 1534377406, "post_id": 51867870, "comment_id": 90687648, "body": "According to <a href=\"https://api.jquery.com/remove/\" rel=\"nofollow noreferrer\">api.jquery.com/remove</a> you can pass a selector as a parameter."}, {"owner": {"reputation": 3631, "user_id": 2744722, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/YN6k2.jpg?s=128&g=1", "display_name": "Bryan Dellinger", "link": "https://stackoverflow.com/users/2744722/bryan-dellinger"}, "reply_to_user": {"reputation": 6091, "user_id": 933198, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/25a22103fd3210fdfa142843c7777ff1?s=128&d=identicon&r=PG", "display_name": "Lee Taylor", "link": "https://stackoverflow.com/users/933198/lee-taylor"}, "edited": false, "score": 1, "creation_date": 1534377698, "post_id": 51867870, "comment_id": 90687707, "body": "@lee Taylor  I also read that in documentation so unsure why my original post is not working without the .find()"}, {"owner": {"reputation": 32729, "user_id": 9513184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de818fcfdfb2bbaf9c67cf7f1d611db8?s=128&d=identicon&r=PG&f=1", "display_name": "iota", "link": "https://stackoverflow.com/users/9513184/iota"}, "reply_to_user": {"reputation": 6091, "user_id": 933198, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/25a22103fd3210fdfa142843c7777ff1?s=128&d=identicon&r=PG", "display_name": "Lee Taylor", "link": "https://stackoverflow.com/users/933198/lee-taylor"}, "edited": false, "score": 1, "creation_date": 1534378534, "post_id": 51867870, "comment_id": 90687868, "body": "@LeeTaylor See my edited answer for the explanation."}, {"owner": {"reputation": 32729, "user_id": 9513184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de818fcfdfb2bbaf9c67cf7f1d611db8?s=128&d=identicon&r=PG&f=1", "display_name": "iota", "link": "https://stackoverflow.com/users/9513184/iota"}, "reply_to_user": {"reputation": 3631, "user_id": 2744722, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/YN6k2.jpg?s=128&g=1", "display_name": "Bryan Dellinger", "link": "https://stackoverflow.com/users/2744722/bryan-dellinger"}, "edited": false, "score": 0, "creation_date": 1534378545, "post_id": 51867870, "comment_id": 90687873, "body": "@BryanDellinger See my edited answer for the explanation."}], "tags": [], "owner": {"reputation": 32729, "user_id": 9513184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de818fcfdfb2bbaf9c67cf7f1d611db8?s=128&d=identicon&r=PG&f=1", "display_name": "iota", "link": "https://stackoverflow.com/users/9513184/iota"}, "is_accepted": false, "score": 1, "last_activity_date": 1534379036, "last_edit_date": 1534379036, "creation_date": 1534376929, "answer_id": 51867870, "question_id": 51867859, "link": "https://stackoverflow.com/questions/51867859/using-jquery-remove-part-of-a-cloned-element/51867870#51867870", "title": "using jquery remove part of a cloned element", "body": "<p>You need to use <a href=\"https://api.jquery.com/find/\" rel=\"nofollow noreferrer\"><code>.find()</code></a> to find all elements inside the parent div with a class of <code>noClone</code> to remove.</p>\n\n<p><code>$(selector).remove(anotherselector)</code> in jQuery only removes any elements matching <code>anotherselector</code> from the Array returned by <code>selector</code>. The selector given to the <code>remove()</code> function is only applied to the elements contained in the jQuery collection not to the children of those elements. It is analogous to <code>$(selector).filter(anotherselector).remove()</code>.</p>\n\n<p>Consider the following HTML and jQuery code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"foo\"&gt;\r\nFoo \r\n&lt;div id=\"bar\"&gt;Bar&lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;script&gt;\r\n$('#foo').remove('#bar');\r\n&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You may expect that the div with the <code>id</code> \"bar\" inside the div with the <code>id</code> \"foo\" will be removed, but this is not the case. Why? The <code>$('#foo')</code> selector returns an Array with just one item: the <code>div</code> with the <code>id</code> of \"foo\". jQuery attempts to <code>filter</code> through the Array and find an element matching the <code>$('#bar')</code> selector. No element is found and nothing will happen.</p>\n\n<p>The following selector, however, will remove the div with the <code>id</code> of \"bar\".</p>\n\n<pre><code>$('div').remove('#bar');\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"foo\"&gt;\r\nFoo \r\n&lt;div id=\"bar\"&gt;Bar&lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;script&gt;\r\n$('div').remove('#bar');\r\n&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The <code>$('div')</code> selector returns an Array with all the <code>div</code>s on the page. jQuery filters through all of the <code>div</code>s to find an <code>div</code> matching the <code>$('#bar')</code> selector (having an <code>id</code> of \"bar\"). Having found one, it removes it.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let myhtml = `&lt;div style=\"border: 1px solid black;\" class=\"mycontainer\"&gt;\r\n                clone me\r\n                &lt;div class=\"noClone\"&gt;\r\n                 do not clone me\r\n                &lt;/div&gt;\r\n                &lt;button class=\"clonebtn\"&gt; clone it &lt;/button&gt;\r\n             &lt;/div&gt;`;\r\n\r\n$(document).ready(function() {\r\n  let content = $(myhtml);\r\n  $('.row').append(content);\r\n\r\n  $('.row').on('click', '.clonebtn', function() {\r\n    let container = $(this).closest('.mycontainer');\r\n    let clonedContainer = container.clone();\r\n    clonedContainer.find('.noClone').remove();\r\n    $('.row').append(clonedContainer);\r\n  })\r\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"container\"&gt;\r\n  &lt;div class=\"row\"&gt;\r\n\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 6091, "user_id": 933198, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/25a22103fd3210fdfa142843c7777ff1?s=128&d=identicon&r=PG", "display_name": "Lee Taylor", "link": "https://stackoverflow.com/users/933198/lee-taylor"}, "edited": false, "score": 2, "creation_date": 1534377429, "post_id": 51867885, "comment_id": 90687651, "body": "Please do not just post code as your answer. What was wrong and what have you fixed?"}, {"owner": {"reputation": 587, "user_id": 10230696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cjtKN.png?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10230696/learner"}, "reply_to_user": {"reputation": 6091, "user_id": 933198, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/25a22103fd3210fdfa142843c7777ff1?s=128&d=identicon&r=PG", "display_name": "Lee Taylor", "link": "https://stackoverflow.com/users/933198/lee-taylor"}, "edited": false, "score": 0, "creation_date": 1534377622, "post_id": 51867885, "comment_id": 90687688, "body": "I copied <code>&quot;.noClone&quot;</code> inside find() function since we don&#39;t know where is element, it could be first child or child of  child so I just added find() with wanted selector :D"}, {"owner": {"reputation": 6091, "user_id": 933198, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/25a22103fd3210fdfa142843c7777ff1?s=128&d=identicon&r=PG", "display_name": "Lee Taylor", "link": "https://stackoverflow.com/users/933198/lee-taylor"}, "edited": false, "score": 0, "creation_date": 1534377682, "post_id": 51867885, "comment_id": 90687705, "body": "According to the documentation, you can put a parameter in <code>remove()</code>"}, {"owner": {"reputation": 587, "user_id": 10230696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cjtKN.png?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10230696/learner"}, "reply_to_user": {"reputation": 6091, "user_id": 933198, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/25a22103fd3210fdfa142843c7777ff1?s=128&d=identicon&r=PG", "display_name": "Lee Taylor", "link": "https://stackoverflow.com/users/933198/lee-taylor"}, "edited": false, "score": 0, "creation_date": 1534377735, "post_id": 51867885, "comment_id": 90687718, "body": "I seen it and removed from comment, but it does not worked like any time for me :D Thats why I was so hyped to know this :D"}], "tags": [], "owner": {"reputation": 587, "user_id": 10230696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cjtKN.png?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10230696/learner"}, "is_accepted": true, "score": 0, "last_activity_date": 1534377192, "creation_date": 1534377192, "answer_id": 51867885, "question_id": 51867859, "link": "https://stackoverflow.com/questions/51867859/using-jquery-remove-part-of-a-cloned-element/51867885#51867885", "title": "using jquery remove part of a cloned element", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let myhtml = `&lt;div style=\"border: 1px solid black;\" class=\"mycontainer\"&gt;\r\n                clone me\r\n                &lt;div class=\"noClone\"&gt;\r\n                 do not clone me\r\n                &lt;/div&gt;\r\n                &lt;button class=\"clonebtn\"&gt; clone it &lt;/button&gt;\r\n             &lt;/div&gt;`\r\n\r\n$(document).ready(function() {\r\n  let content = $(myhtml);\r\n  $('.row').append(content);\r\n\r\n  $('.row').on('click', '.clonebtn', function() {\r\n    let container = $(this).closest('.mycontainer');\r\n    let clonedContainer = container.clone();\r\n    clonedContainer.find('.noClone').remove();\r\n    $('.row').append(clonedContainer);\r\n  })\r\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"container\"&gt;\r\n  &lt;div class=\"row\"&gt;\r\n\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 3631, "user_id": 2744722, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/YN6k2.jpg?s=128&g=1", "display_name": "Bryan Dellinger", "link": "https://stackoverflow.com/users/2744722/bryan-dellinger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 874, "favorite_count": 0, "accepted_answer_id": 51867885, "answer_count": 2, "score": 3, "last_activity_date": 1534379036, "creation_date": 1534376788, "question_id": 51867859, "link": "https://stackoverflow.com/questions/51867859/using-jquery-remove-part-of-a-cloned-element", "title": "using jquery remove part of a cloned element", "body": "<p>having a difficult time removing a div inside of a cloned element. run the snippet and notice the do not clone me part gets appended even though it is removed.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let myhtml = `&lt;div style=\"border: 1px solid black;\" class=\"mycontainer\"&gt;\r\n                clone me\r\n                &lt;div class=\"noClone\"&gt;\r\n                 do not clone me\r\n                &lt;/div&gt;\r\n                &lt;button class=\"clonebtn\"&gt; clone it &lt;/button&gt;\r\n             &lt;/div&gt;`\r\n\r\n$(document).ready(function() {\r\n  let content = $(myhtml);\r\n  $('.row').append(content);\r\n\r\n  $('.row').on('click', '.clonebtn', function() {\r\n    let container = $(this).closest('.mycontainer');\r\n    let clonedContainer = container.clone();\r\n    clonedContainer.remove('.noClone');\r\n    $('.row').append(clonedContainer);\r\n  })\r\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"container\"&gt;\r\n  &lt;div class=\"row\"&gt;\r\n\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>or run the fiddle here <a href=\"https://jsfiddle.net/k6jz9xe2/3/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/k6jz9xe2/3/</a></p>\n"}, {"tags": ["javascript", "angular", "angular6", "angular-forms", "form-control"], "comments": [{"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "edited": false, "score": 2, "creation_date": 1534377392, "post_id": 51867855, "comment_id": 90687643, "body": "To help us better help you, could you narrow down the displayed code to the key parts (remove anything unimportant for demonstrating your issue)? Or build a stackblitz that we can use to see the issue (again limited to only the code needed to show the problem). Thanks!"}, {"owner": {"reputation": 705, "user_id": 6128717, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ysJh6.jpg?s=128&g=1", "display_name": "Muzi Jack", "link": "https://stackoverflow.com/users/6128717/muzi-jack"}, "reply_to_user": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "edited": false, "score": 0, "creation_date": 1534399931, "post_id": 51867855, "comment_id": 90692563, "body": "i&#39;ve edited the code to the most key parts"}], "owner": {"reputation": 705, "user_id": 6128717, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ysJh6.jpg?s=128&g=1", "display_name": "Muzi Jack", "link": "https://stackoverflow.com/users/6128717/muzi-jack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 509, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1534399867, "creation_date": 1534376716, "last_edit_date": 1534399867, "question_id": 51867855, "link": "https://stackoverflow.com/questions/51867855/how-to-set-checkbox-formcontrol-for-multiple-array-control", "title": "How to set Checkbox FormControl for Multiple array control", "body": "<p>I am trying toggle/check according specific permissions with array set id's - to set permissions for users according to their user role. for an example an admin would have permissions to create users, delete, and update. My struggle with the code i've posted below is that it toggles all permissions instead of ones passed into formControl im not sure if im doing right.<a href=\"https://i.stack.imgur.com/2lCTt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2lCTt.png\" alt=\"enter image description here\"></a><br>\n<a href=\"https://i.stack.imgur.com/42Nlr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/42Nlr.png\" alt=\"enter image description here\"></a><br>\n<a href=\"https://i.stack.imgur.com/ohnfK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ohnfK.png\" alt=\"enter image description here\"></a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public userList: Array &lt; User &gt; ;\r\npublic principalList: Array &lt; Principal &gt; ;\r\npublic permissionList: Array &lt; PermissionItem &gt; ;\r\npublic groupPermissionList: Array &lt; PermissionGroup &gt; ;\r\npublic permIdArr: Array &lt; number &gt; = [];\r\npublic permGrpIdArr: Array &lt; number &gt; = [];\r\npublic isSelected = false;\r\n\r\npublic updatePermsList(ev, id: number) {\r\n  console.log(ev.target.checked, id);\r\n  if (ev.target.checked) {\r\n    this.permIdArr.push(id);\r\n    console.log(this.permIdArr);\r\n  } else {\r\n    this.permIdArr = this.permIdArr.filter(pId =&gt; {\r\n      return pId !== id;\r\n    });\r\n  }\r\n}\r\n\r\npublic updateGrpPermsList(event, id: number) {\r\n  if (id === 1) {\r\n    let grpid;\r\n    this.groupPermissionList.map(i =&gt; {\r\n      const per = i.permissions;\r\n      per.forEach(e =&gt; {\r\n        grpid = e.id;\r\n        this.permGrpIdArr.push(grpid);\r\n      });\r\n    });\r\n  } else if (id === 2) {\r\n    console.log('2nd');\r\n  } else {\r\n    console.log('3rd');\r\n  }\r\n  this.createNewUserForm.controls['app_user_permissions'].setValue(this.permGrpIdArr);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"user-new-container p24\"&gt;\r\n  &lt;div [class.updating]=\"submitting\"&gt;\r\n    &lt;form [formGroup]=\"createNewUserForm\" (ngSubmit)=\"onSubmit(createNewUserForm.value)\" class=\"updater\"&gt;\r\n      &lt;div class=\"row\"&gt;\r\n        &lt;div class=\"col-lg-6\"&gt;\r\n          &lt;div *ngIf=\"groupPermissionList\" class=\"row perms\"&gt;\r\n            &lt;div class=\"col-lg-12\"&gt;\r\n\r\n              &lt;h3 class=\"mb24\"&gt;Group Permissions&lt;/h3&gt;\r\n\r\n              &lt;div class=\"row\"&gt;\r\n                &lt;div *ngFor=\"let p of groupPermissionList;let i = index\" class=\"col-lg-4\"&gt;\r\n\r\n                  &lt;div class=\"form-group row\"&gt;\r\n                    &lt;div class=\"col-lg-6 col-sm-10 col-xs-10 toggle-switch\"&gt;\r\n                      &lt;input (click)=\"updateGrpPermsList($event, p.id)\" value=\"p.id\" type=\"checkbox\" id=\"permGrp_{{i}}\"&gt;\r\n                      &lt;label for=\"permGrp_{{i}}\"&gt;{{p.name}}&lt;/label&gt;\r\n                    &lt;/div&gt;\r\n                  &lt;/div&gt;\r\n\r\n                &lt;/div&gt;\r\n              &lt;/div&gt;\r\n\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n          &lt;br&gt;\r\n\r\n          &lt;div *ngIf=\"permissionList\" class=\"row perms\"&gt;\r\n            &lt;div class=\"col-lg-12\"&gt;\r\n\r\n              &lt;h3 class=\"mb24\"&gt;Permissions&lt;/h3&gt;\r\n\r\n              &lt;div class=\"row\"&gt;\r\n                &lt;div *ngFor=\"let p of permissionList;let idx = index\" class=\"col-lg-4\"&gt;\r\n\r\n                  &lt;div class=\"form-group row\"&gt;\r\n\r\n                    &lt;div class=\"col-lg-6 col-sm-10 col-xs-10 toggle-switch\"&gt;\r\n                      &lt;input (change)=\"updatePermsList($event, p.id)\" formControlName=\"app_user_permissions\" type=\"checkbox\" [checked]=\"val\" id=\"perm_{{idx}}\"&gt;\r\n                      &lt;label for=\"perm_{{idx}}\"&gt;{{p.name}}&lt;/label&gt;\r\n                    &lt;/div&gt;\r\n                  &lt;/div&gt;\r\n\r\n                &lt;/div&gt;\r\n              &lt;/div&gt;\r\n\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n    &lt;/form&gt;\r\n    &lt;/div&gt;\r\n    &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "css", "parallax"], "comments": [{"owner": {"reputation": 10493, "user_id": 1494989, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2df83386219d85354f90ff2a32ce103c?s=128&d=identicon&r=PG", "display_name": "Ash", "link": "https://stackoverflow.com/users/1494989/ash"}, "edited": false, "score": 0, "creation_date": 1534381415, "post_id": 51867822, "comment_id": 90688465, "body": "Duplicate of <a href=\"https://stackoverflow.com/questions/14287412/scrolling-over-fixed-fullscreen-divs-execute-animated-slides-as-seen-on-bagigia-com\" title=\"scrolling over fixed fullscreen divs execute animated slides as seen on bagigia com\">stackoverflow.com/questions/14287412/&hellip;</a> (linking for reference)"}], "answers": [{"tags": [], "owner": {"reputation": 10493, "user_id": 1494989, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2df83386219d85354f90ff2a32ce103c?s=128&d=identicon&r=PG", "display_name": "Ash", "link": "https://stackoverflow.com/users/1494989/ash"}, "is_accepted": false, "score": 0, "last_activity_date": 1534381438, "creation_date": 1534381438, "answer_id": 51868314, "question_id": 51867822, "link": "https://stackoverflow.com/questions/51867822/how-to-make-images-swap-as-you-scroll-to-appear-in-3d/51868314#51868314", "title": "how to make images swap as you scroll to appear in 3d", "body": "<p>From looking at the Bagigia source code it appears they have a bunch of ordered <code>div</code>s with background images inside a parent container <code>#rotation .container</code>. Each <code>div</code> has one angled product photo set as the <code>background-image</code>.</p>\n\n<p>The jQuery code is bound to <code>scroll</code> events with <code>$window.bind('scroll', function(){/*code*/})</code> which updates the <code>.container</code>'s <code>left</code> property by a certain amount each time. This gives the impression of the images animating in rotation where really it is just sliding images to the left and off the visible area.</p>\n\n<p>It is worth noting that the <code>div</code> elements have their <code>width</code> and <code>height</code> set on page load and on window <code>resize</code> event. This helps to determine what the <code>left</code> position should be updated by.</p>\n\n<p>You can see all of this in their source code which is quite neatly formatted. Check out their script for the home page rotation at <a href=\"http://www.bagigia.com/js/bagigia.home.rotation.js?v=d38yhf5\" rel=\"nofollow noreferrer\">http://www.bagigia.com/js/bagigia.home.rotation.js?v=d38yhf5</a></p>\n\n<p>Your question was only about the image rotation so I won't comment on the other features however you can always view the other source code as needed.</p>\n\n<p>Good luck on building this yourself. I'd be interested in the results if you are able to share it, or perhaps write a blog post to share your approach, learnings, and outcomes.</p>\n\n<p>Should Bagigia update/remove their website, I've pasted some of the relevant code below which is directly from their source and not my own work.</p>\n\n\n\n<pre><code>&lt;div id=\"rotation\"&gt;\n\n  &lt;div class=\"popup\"&gt;\n    &lt;div class=\"item\" id=\"popup-bag1\"&gt;&lt;/div&gt;\n    &lt;div class=\"item\" id=\"popup-bag5\"&gt;&lt;/div&gt;\n    &lt;div class=\"item\" id=\"popup-bag12\"&gt;&lt;/div&gt;\n    &lt;div class=\"item\" id=\"popup-bag17\"&gt;&lt;/div&gt;\n    &lt;div class=\"item\" id=\"popup-bag21\"&gt;&lt;/div&gt;\n  &lt;/div&gt;\n\n  &lt;div class=\"container\"&gt;\n    &lt;div class=\"bag-angle show\" id=\"bag0\" rel=\"popup-bag1\"&gt;&lt;/div&gt;\n    &lt;div class=\"bag-angle\" id=\"bag1\" rel=\"popup-bag1\"&gt;&lt;/div&gt;\n    &lt;div class=\"bag-angle\" id=\"bag2\" rel=\"popup-bag1\"&gt;&lt;/div&gt;\n    &lt;div class=\"bag-angle\" id=\"bag3\"&gt;&lt;/div&gt;\n    &lt;div class=\"bag-angle\" id=\"bag4\"&gt;&lt;/div&gt;\n    &lt;div class=\"bag-angle\" id=\"bag5\" rel=\"popup-bag5\"&gt;&lt;/div&gt;\n    &lt;div class=\"bag-angle\" id=\"bag6\" rel=\"popup-bag5\"&gt;&lt;/div&gt;\n    &lt;div class=\"bag-angle\" id=\"bag7\" rel=\"popup-bag5\"&gt;&lt;/div&gt;\n    &lt;div class=\"bag-angle\" id=\"bag8\"&gt;&lt;/div&gt;\n    &lt;div class=\"bag-angle\" id=\"bag9\"&gt;&lt;/div&gt;\n    &lt;div class=\"bag-angle\" id=\"bag10\"&gt;&lt;/div&gt;\n    &lt;div class=\"bag-angle\" id=\"bag11\"&gt;&lt;/div&gt;\n    &lt;div class=\"bag-angle\" id=\"bag12\" rel=\"popup-bag12\"&gt;&lt;/div&gt;\n    &lt;div class=\"bag-angle\" id=\"bag13\" rel=\"popup-bag12\"&gt;&lt;/div&gt;\n    &lt;div class=\"bag-angle\" id=\"bag14\" rel=\"popup-bag12\"&gt;&lt;/div&gt;\n    &lt;div class=\"bag-angle\" id=\"bag15\"&gt;&lt;/div&gt;\n    &lt;div class=\"bag-angle\" id=\"bag16\"&gt;&lt;/div&gt;\n    &lt;div class=\"bag-angle\" id=\"bag17\" rel=\"popup-bag17\"&gt;&lt;/div&gt;\n    &lt;div class=\"bag-angle\" id=\"bag18\" rel=\"popup-bag17\"&gt;&lt;/div&gt;\n    &lt;div class=\"bag-angle\" id=\"bag19\" rel=\"popup-bag17\"&gt;&lt;/div&gt;\n    &lt;div class=\"bag-angle\" id=\"bag20\"&gt;&lt;/div&gt;\n    &lt;div class=\"bag-angle\" id=\"bag21\" rel=\"popup-bag21\"&gt;&lt;/div&gt;\n    &lt;div class=\"bag-angle\" id=\"bag22\" rel=\"popup-bag21\"&gt;&lt;/div&gt;\n    &lt;div class=\"bag-angle\" id=\"bag23\" rel=\"popup-bag21\"&gt;&lt;/div&gt;\n    &lt;div class=\"bag-angle\" id=\"bag24\"&gt;&lt;/div&gt;\n    &lt;div class=\"bag-angle\" id=\"bag25\"&gt;&lt;/div&gt;\n  &lt;/div&gt;\n\n  &lt;div class=\"content\"&gt;\n\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n\n\n<pre><code>$(document).ready(function(){\n\n  var $window = $(window);\n  var $introBox = $('#intro');\n  var $rotationBox = $('#rotation');\n  var $containerBox = $('#rotation .container');\n  var $bags = $('#rotation .bag-angle');\n  var blankHeight = 200;\n  var index = -1;\n\n  var $blankOpen = $('&lt;div class=\"bag-blank\"&gt;&lt;/div&gt;');\n  $blankOpen.height($window.height() + blankHeight).appendTo($('#bag-blank-space'));\n\n  $bags.each(function(index){\n    var $blank = $('&lt;div class=\"bag-blank\" rel=\"bag' + index + '\"&gt;&lt;/div&gt;');\n    $blank.height(blankHeight).appendTo($('#bag-blank-space'));\n  });\n\n  $('.bag-blank:last').height(blankHeight/2);\n\n  $window.bind('scroll', function(){\n    var opacity = ($window.scrollTop()) / (($window.height()));\n    if (opacity &lt;= 1){\n      if ($window.scrollTop() &lt;= $introBox.height()){\n        $rotationBox.css({opacity: opacity});\n      }\n    }else{\n      $rotationBox.css({opacity: 1});\n    }\n\n    $('#bag-blank-space .bag-blank').each(function(i){   \n      if ($window.scrollTop() &gt; $(this).position().top){\n        index = i;\n      }   \n    });\n\n    if (index &lt; $bags.length){\n\n      var $toShow =  $('#rotation .bag-angle:eq(' + index + ')');\n      var $toHide = $('#rotation .bag-angle.show');\n\n      if (!$toShow.hasClass('show')){\n        $toShow.addClass('show');\n        $toHide.removeClass('show');\n\n        var $popup = $('.popup .item#' + $toShow.attr('rel'));\n\n        if ($popup.length &gt; 0 &amp;&amp; !$rotationBox.is(':animated') &amp;&amp; $rotationBox.position().top &gt;= 0){\n          if (!$popup.hasClass('show') &amp;&amp; !$rotationBox.hasClass('hide')){\n              $('.popup .item.show').removeClass('show').stop(false,true).animate({opacity:0},'fast');\n              if ($rotationBox.position().top &gt;= 0){\n                $popup.addClass('show').stop(false,true).animate({opacity:1},'fast');\n              }\n          }\n        }else{\n          $('.popup .item.show').removeClass('show').stop(false,true).animate({opacity:0},'fast');\n        }\n\n        $containerBox.css({left: -1 * index * $window.width()});\n      }\n\n      if ($rotationBox.hasClass('hide')){\n        $rotationBox.removeClass('hide');\n        $('#payoffs .payoff-item:not(:first)').css({opacity:0});\n        $('#payoffs .payoff-item:first').addClass('show').animate({\n          opacity:0\n        },'slow', function(){\n            $('.payoff-bg-text').css({opacity:0});\n            $('.popup .item').stop().css({opacity:0}).show();\n            $rotationBox.stop(true,true).animate({top: 0},'slow', 'easeInOutBack',function(){$('.popup .item.show').stop().animate({opacity:1})});\n        });\n      }\n    }\n\n\n  });\n\n  $window.bind('resize', function(){\n\n    $('.bag-blank:first').height($window.height() + blankHeight);\n    $('.bag-blank:last').height(blankHeight/2);\n\n    $bags.width($window.width());\n    $bags.height($window.height());\n\n    $containerBox.css({left: -1 * index * $window.width()});\n  });\n\n  $bags.width($window.width());\n  $bags.height($window.height());\n\n});\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 5050093, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/09e6fa04418c949af980c7eb47c1713a?s=128&d=identicon&r=PG", "display_name": "JDRhino", "link": "https://stackoverflow.com/users/5050093/jdrhino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534381438, "creation_date": 1534376416, "question_id": 51867822, "link": "https://stackoverflow.com/questions/51867822/how-to-make-images-swap-as-you-scroll-to-appear-in-3d", "title": "how to make images swap as you scroll to appear in 3d", "body": "<p>I have a client who has several powerpoint slides that they want to animate through seamlessly as the user scrolls down the page vertically. It is similar to this page:</p>\n\n<p><a href=\"http://www.bagigia.com/\" rel=\"nofollow noreferrer\">http://www.bagigia.com/</a></p>\n\n<p>Any advice on how to accomplish this? If you're familiar with webflow - that's usually the program of choice I use to help create the clean code for fast deployment but even raw code is totally welcome, OF COURSE!</p>\n\n<p>Essentially, they have a water bottle that they have taken photos of in different positions and as they scroll down the page they want the water bottle to turn on its side and then towards the viewer. They have all of these images photographed and isolated but I can't figure out how to code it so that the bottle appears to animate.</p>\n"}, {"tags": ["javascript", "node.js", "ecmascript-6"], "answers": [{"tags": [], "owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "is_accepted": true, "score": 1, "last_activity_date": 1534376619, "creation_date": 1534376619, "answer_id": 51867841, "question_id": 51867797, "link": "https://stackoverflow.com/questions/51867797/removing-duplicates-elements-with-conditionality/51867841#51867841", "title": "Removing duplicates elements with conditionality", "body": "<p>The approach I generally take for problems like this is to maintain a \"dictionary\" object to track uniqueness while iterating through, then extract the final result from that result. <code>reduce</code> is the go-to tool for creating one value from multiple values:</p>\n\n<pre><code>const dict = objects.reduce((result, item) =&gt; {\n  const currentForProject = result[item.project];\n  const isMostRecent = \n      !currentForProject\n      || new Date(item.date) &gt; new Date(currentForProject.date);\n  if (isMostRecent) {\n    result[item.project] = item;\n  }\n  return result;\n}, {});\n\nconst mostRecents = Object.values(dict);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2361, "user_id": 3551035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31d4c410afb0527b26e33aaef8eb310f?s=128&d=identicon&r=PG", "display_name": "shohrukh", "link": "https://stackoverflow.com/users/3551035/shohrukh"}, "is_accepted": false, "score": 0, "last_activity_date": 1534377287, "creation_date": 1534377287, "answer_id": 51867892, "question_id": 51867797, "link": "https://stackoverflow.com/questions/51867797/removing-duplicates-elements-with-conditionality/51867892#51867892", "title": "Removing duplicates elements with conditionality", "body": "<p>I will propose the general algorithm to solve your task but the implementation is up to you.</p>\n\n<ul>\n<li>1) sort the array based on <code>date</code> field;</li>\n<li>2) create an empty <code>Set</code> for storing project names and empty array for the result;</li>\n<li>3) iterate over the sorted array and check:</li>\n<li>3.1) if the <code>Set</code> does not contain current project name, then:</li>\n<li>3.2) add the project name to the <code>Set</code> and add current item to your result\narray;</li>\n</ul>\n"}], "owner": {"reputation": 1248, "user_id": 2178599, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lwyJC.jpg?s=128&g=1", "display_name": "23k", "link": "https://stackoverflow.com/users/2178599/23k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 51867841, "answer_count": 2, "score": 1, "last_activity_date": 1534433839, "creation_date": 1534376157, "last_edit_date": 1534433839, "question_id": 51867797, "link": "https://stackoverflow.com/questions/51867797/removing-duplicates-elements-with-conditionality", "title": "Removing duplicates elements with conditionality", "body": "<p>I have an array of objects that look like this:</p>\n\n<pre><code>[\n    { project: \"test1\", date: \"8/14/2018\" },\n    { project: \"test1\", date: \"8/15/2018\" },\n    { project: \"test2\", date: \"8/14/2018\" }\n]\n</code></pre>\n\n<p>I want to remove duplicate objects based on the project name, BUT, keep the one with the most recent date.</p>\n\n<p>So my final array would like this:</p>\n\n<pre><code>[\n    { project: \"test1\", date: \"8/15/2018\" },\n    { project: \"test2\", date: \"8/14/2018\" }\n]\n</code></pre>\n\n<p>I've come up with a disgruntled recursive solution that I'm unhappy with. </p>\n\n<p>Looking for suggestions on a painless way to do this.</p>\n"}, {"tags": ["javascript", "cypress"], "answers": [{"tags": [], "owner": {"reputation": 3077, "user_id": 8166701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X08Hb.jpg?s=128&g=1", "display_name": "Joshua Wade", "link": "https://stackoverflow.com/users/8166701/joshua-wade"}, "is_accepted": true, "score": 11, "last_activity_date": 1605279708, "last_edit_date": 1605279708, "creation_date": 1534429577, "answer_id": 51879431, "question_id": 51867796, "link": "https://stackoverflow.com/questions/51867796/what-is-the-difference-between-cy-readfile-and-cy-fixture-in-cypress-io/51879431#51879431", "title": "What is the difference between cy.readFile and cy.fixture in Cypress.io?", "body": "<p>There are two major differences.</p>\n<hr />\n<h3>First, the two functions handle filepaths differently.</h3>\n<p><code>cy.readFile()</code> starts at your cypress project folder, the folder where your <code>cypress.json</code> is. In other words, <code>cy.readFile(&quot;test.txt&quot;)</code> will read from <code>(path-to-project)\\test.txt</code>.</p>\n<p><code>cy.fixture()</code> starts in the fixtures folder. <code>cy.fixture(&quot;test.txt&quot;)</code> will read from <code>(path-to-project)\\cypress\\fixtures\\test.txt</code>. Note that this may be different if you have set a fixtures path in your <code>cypress.json</code>.</p>\n<p>Absolute file paths do not appear to be supported here.</p>\n<hr />\n<h3>Second, <code>cy.fixture()</code> tries to guess the file's encoding.</h3>\n<p><code>cy.fixture()</code> assumes the encoding for certain file extensions while <code>cy.readFile()</code> does not, <strong>except in at least one special case (see below)</strong>.</p>\n<p>For example, <code>cy.readFile('somefile.png')</code> will interpret it as a text document and just blindly read it into a string. This produces garbage output when printed to console. However, <code>cy.fixture('somefile.png')</code> will instead read in the PNG file and convert it to a base64-encoded string.</p>\n<p>This difference isn't in the ability of the two functions, but instead appears to be in default behavior; if you specify the encoding, both functions act identically:</p>\n<pre><code>cy.readFile('path/to/test.png', 'base64').then(text =&gt; {\n    console.log(text); // Outputs a base64 string to the console\n});\n\ncy.fixture('path/to/test.png', 'base64').then(text =&gt; {\n    console.log(text); // Outputs the same base64 string to the console\n});\n</code></pre>\n<hr />\n<h3>Note:</h3>\n<p><code>cy.readFile()</code> doesn't always read in plain text. <code>cy.readFile()</code> <a href=\"https://docs.cypress.io/api/commands/readfile.html#JSON\" rel=\"nofollow noreferrer\">gives back a Javascript object when reading JSON files</a>:</p>\n<pre><code>cy.readFile('test.json').then(obj =&gt; {\n    // prints an object to console\n    console.log(obj);\n});\n</code></pre>\n"}], "owner": {"reputation": 4704, "user_id": 4826215, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/7310fe6e8910075b36ada7e2f572d66b?s=128&d=identicon&r=PG&f=1", "display_name": "soccerway", "link": "https://stackoverflow.com/users/4826215/soccerway"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7471, "favorite_count": 0, "accepted_answer_id": 51879431, "answer_count": 1, "score": 7, "last_activity_date": 1605279708, "creation_date": 1534376142, "question_id": 51867796, "link": "https://stackoverflow.com/questions/51867796/what-is-the-difference-between-cy-readfile-and-cy-fixture-in-cypress-io", "title": "What is the difference between cy.readFile and cy.fixture in Cypress.io?", "body": "<p>What is the difference between cy.readFile and cy.fixture in Cypress.io ? In what context should we use cy.readFile and cy.fixture ? </p>\n\n<pre><code>cy.readFile('menu.json')  \ncy.fixture('users/admin.json') // Get data from {fixturesFolder}/users/admin.json\n</code></pre>\n"}, {"tags": ["javascript", "html", "css", "ecmascript-6"], "comments": [{"owner": {"reputation": 1062, "user_id": 3229774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sfSk5.jpg?s=128&g=1", "display_name": "progysm", "link": "https://stackoverflow.com/users/3229774/progysm"}, "edited": false, "score": 0, "creation_date": 1534376148, "post_id": 51867762, "comment_id": 90687388, "body": "removing the } else {}  : <a href=\"https://jsfiddle.net/9ksu64t2/2/\" rel=\"nofollow noreferrer\">jsfiddle.net/9ksu64t2/2</a>"}, {"owner": {"reputation": 1062, "user_id": 3229774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sfSk5.jpg?s=128&g=1", "display_name": "progysm", "link": "https://stackoverflow.com/users/3229774/progysm"}, "edited": false, "score": 0, "creation_date": 1534376299, "post_id": 51867762, "comment_id": 90687423, "body": "and if you want a toggle on the current item: <a href=\"https://jsfiddle.net/9ksu64t2/3/\" rel=\"nofollow noreferrer\">jsfiddle.net/9ksu64t2/3</a>"}, {"owner": {"reputation": 4750, "user_id": 2387934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cd1ea5e7c966767f05014b5e4de9fe1?s=128&d=identicon&r=PG", "display_name": "Ashley Brown", "link": "https://stackoverflow.com/users/2387934/ashley-brown"}, "reply_to_user": {"reputation": 1062, "user_id": 3229774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sfSk5.jpg?s=128&g=1", "display_name": "progysm", "link": "https://stackoverflow.com/users/3229774/progysm"}, "edited": false, "score": 0, "creation_date": 1534376429, "post_id": 51867762, "comment_id": 90687449, "body": "@progysm Please add your solution as an answer. Include your fiddle but also please add the code as a stackoverflow snippet"}], "answers": [{"comments": [{"owner": {"reputation": 4750, "user_id": 2387934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cd1ea5e7c966767f05014b5e4de9fe1?s=128&d=identicon&r=PG", "display_name": "Ashley Brown", "link": "https://stackoverflow.com/users/2387934/ashley-brown"}, "edited": false, "score": 0, "creation_date": 1534376510, "post_id": 51867790, "comment_id": 90687467, "body": "This should be a comment."}, {"owner": {"reputation": 579, "user_id": 4539217, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/86b19f66a94761a381becaf8a5d34be3?s=128&d=identicon&r=PG", "display_name": "garyx", "link": "https://stackoverflow.com/users/4539217/garyx"}, "reply_to_user": {"reputation": 4750, "user_id": 2387934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cd1ea5e7c966767f05014b5e4de9fe1?s=128&d=identicon&r=PG", "display_name": "Ashley Brown", "link": "https://stackoverflow.com/users/2387934/ashley-brown"}, "edited": false, "score": 0, "creation_date": 1534377789, "post_id": 51867790, "comment_id": 90687727, "body": "Why&#39;s that? Should answer always contains working code?"}, {"owner": {"reputation": 4750, "user_id": 2387934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cd1ea5e7c966767f05014b5e4de9fe1?s=128&d=identicon&r=PG", "display_name": "Ashley Brown", "link": "https://stackoverflow.com/users/2387934/ashley-brown"}, "edited": false, "score": 0, "creation_date": 1534380317, "post_id": 51867790, "comment_id": 90688263, "body": "For a question like this, typically yes."}], "tags": [], "owner": {"reputation": 579, "user_id": 4539217, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/86b19f66a94761a381becaf8a5d34be3?s=128&d=identicon&r=PG", "display_name": "garyx", "link": "https://stackoverflow.com/users/4539217/garyx"}, "is_accepted": false, "score": -1, "last_activity_date": 1534376108, "creation_date": 1534376108, "answer_id": 51867790, "question_id": 51867762, "link": "https://stackoverflow.com/questions/51867762/how-can-i-fix-this-expanding-issue/51867790#51867790", "title": "How can I fix this expanding issue?", "body": "<p>Inside your click handler, loop the document.querySelectorAll('.dropdown-toggle'), remove all the open from classlist, then add open to the current target</p>\n"}, {"comments": [{"owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "reply_to_user": {"reputation": 4750, "user_id": 2387934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cd1ea5e7c966767f05014b5e4de9fe1?s=128&d=identicon&r=PG", "display_name": "Ashley Brown", "link": "https://stackoverflow.com/users/2387934/ashley-brown"}, "edited": false, "score": 0, "creation_date": 1534377128, "post_id": 51867823, "comment_id": 90687591, "body": "@ProEvilz -- Fixed :)"}, {"owner": {"reputation": 579, "user_id": 4539217, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/86b19f66a94761a381becaf8a5d34be3?s=128&d=identicon&r=PG", "display_name": "garyx", "link": "https://stackoverflow.com/users/4539217/garyx"}, "reply_to_user": {"reputation": 4750, "user_id": 2387934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cd1ea5e7c966767f05014b5e4de9fe1?s=128&d=identicon&r=PG", "display_name": "Ashley Brown", "link": "https://stackoverflow.com/users/2387934/ashley-brown"}, "edited": false, "score": 0, "creation_date": 1534379063, "post_id": 51867823, "comment_id": 90687975, "body": "@ProEvilz this doesn&#39;t close previous opened item as requested in question?"}, {"owner": {"reputation": 4750, "user_id": 2387934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cd1ea5e7c966767f05014b5e4de9fe1?s=128&d=identicon&r=PG", "display_name": "Ashley Brown", "link": "https://stackoverflow.com/users/2387934/ashley-brown"}, "reply_to_user": {"reputation": 579, "user_id": 4539217, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/86b19f66a94761a381becaf8a5d34be3?s=128&d=identicon&r=PG", "display_name": "garyx", "link": "https://stackoverflow.com/users/4539217/garyx"}, "edited": false, "score": 0, "creation_date": 1534380248, "post_id": 51867823, "comment_id": 90688246, "body": "@garyx That&#39;s because OP&#39;s edited the answer to another one that now <i>doesn&#39;t</i> work."}], "tags": [], "owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "is_accepted": false, "score": 0, "last_activity_date": 1534377117, "last_edit_date": 1534377117, "creation_date": 1534376431, "answer_id": 51867823, "question_id": 51867762, "link": "https://stackoverflow.com/questions/51867762/how-can-i-fix-this-expanding-issue/51867823#51867823", "title": "How can I fix this expanding issue?", "body": "<p>There's no need to check whether the current element is active; On the click handler you simply want to check whether the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/nextElementSibling\" rel=\"nofollow noreferrer\"><strong><code>.nextElementSibling</code></strong></a>'s <strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/classList\" rel=\"nofollow noreferrer\"><code>.classList</code></a></strong> <strong>contains</strong> the class <code>open</code>. If it does, remove it. If it doesn't, apply it.</p>\n\n<p>This can be seen in the following:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let dropdown = document.querySelectorAll('.dropdown-toggle');\r\nconst handleClick = (e) =&gt; {\r\n  if (e.currentTarget.nextElementSibling.classList.contains('open')) {\r\n    e.currentTarget.nextElementSibling.classList.remove('open');\r\n  } else {\r\n    e.currentTarget.nextElementSibling.classList.add('open')\r\n  }\r\n}\r\ndropdown.forEach(element =&gt; {\r\n  element.addEventListener('click', handleClick);\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n  background: #ccc;\r\n}\r\n\r\n.menu {\r\n  background: #fff;\r\n  margin: 0 auto;\r\n  max-width: 400px;\r\n}\r\n\r\n.menu ul {\r\n  padding: 0;\r\n  text-align: center;\r\n  width: 100%;\r\n}\r\n\r\n.menu ul li {\r\n  list-style: none;\r\n  padding: 20px 0;\r\n  border-bottom: 1px solid #ccc;\r\n}\r\n\r\n.menu ul li a {\r\n  text-decoration: none;\r\n}\r\n\r\n.menu ul li .dropdown {\r\n  display: none;\r\n  padding: 20px;\r\n  background: grey;\r\n}\r\n\r\n.menu ul li .dropdown.open {\r\n  display: block;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"menu\"&gt;\r\n  &lt;ul&gt;\r\n    &lt;li&gt;\r\n      &lt;a href=\"#\" class=\"dropdown-toggle\"&gt;link 1&lt;/a&gt;\r\n      &lt;div class=\"dropdown\"&gt;Some text&lt;/div&gt;\r\n    &lt;/li&gt;\r\n    &lt;li&gt;\r\n      &lt;a href=\"#\" class=\"dropdown-toggle\"&gt;link 2&lt;/a&gt;\r\n      &lt;div class=\"dropdown\"&gt;Some text&lt;/div&gt;\r\n    &lt;/li&gt;\r\n    &lt;li&gt;\r\n      &lt;a href=\"#\" class=\"dropdown-toggle\"&gt;link 3&lt;/a&gt;\r\n      &lt;div class=\"dropdown\"&gt;Some text&lt;/div&gt;\r\n    &lt;/li&gt;\r\n    &lt;li&gt;\r\n      &lt;a href=\"#\" class=\"dropdown-toggle\"&gt;link 4&lt;/a&gt;\r\n      &lt;div class=\"dropdown\"&gt;Some text&lt;/div&gt;\r\n    &lt;/li&gt;\r\n    &lt;li&gt;\r\n      &lt;a href=\"#\" class=\"dropdown-toggle\"&gt;link 5&lt;/a&gt;\r\n      &lt;div class=\"dropdown\"&gt;Some text&lt;/div&gt;\r\n    &lt;/li&gt;\r\n  &lt;/ul&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 579, "user_id": 4539217, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/86b19f66a94761a381becaf8a5d34be3?s=128&d=identicon&r=PG", "display_name": "garyx", "link": "https://stackoverflow.com/users/4539217/garyx"}, "is_accepted": true, "score": 1, "last_activity_date": 1534378990, "creation_date": 1534378990, "answer_id": 51868076, "question_id": 51867762, "link": "https://stackoverflow.com/questions/51867762/how-can-i-fix-this-expanding-issue/51868076#51868076", "title": "How can I fix this expanding issue?", "body": "<p>Can use js like the following.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let dropdown = document.querySelectorAll('.dropdown-toggle');\r\nconst handleClick = (e) =&gt; {\r\n\r\n  const isLastOpenTargetClicked = e.currentTarget.nextElementSibling.classList.contains('open');\r\n  \r\n  if(isLastOpenTargetClicked) {\r\n    e.currentTarget.nextElementSibling.classList.remove('open');\r\n    return;\r\n  }\r\n  \r\n  const active = document.querySelector('.open');\r\n  if(active){\r\n    active.classList.remove('open');\r\n  }\r\n  \r\n  e.currentTarget.nextElementSibling.classList.add('open')\r\n  \r\n}\r\ndropdown.forEach(element =&gt; {\r\n  element.addEventListener('click', handleClick);\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n  background: #ccc;\r\n}\r\n\r\n.menu {\r\n  background: #fff;\r\n  margin: 0 auto;\r\n  max-width: 400px;\r\n}\r\n.menu ul {\r\n  padding: 0;\r\n  text-align: center;\r\n  width: 100%;\r\n}\r\n.menu ul li {\r\n  list-style: none;\r\n  padding: 20px 0;\r\n  border-bottom: 1px solid #ccc;\r\n}\r\n.menu ul li a {\r\n  text-decoration: none;\r\n}\r\n.menu ul li .dropdown {\r\n  display: none;\r\n  padding: 20px;\r\n  background: grey;\r\n}\r\n.menu ul li .dropdown.open {\r\n  display: block;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"menu\"&gt;\r\n  &lt;ul&gt;\r\n    &lt;li&gt;\r\n      &lt;a href=\"#\" class=\"dropdown-toggle\"&gt;link 1&lt;/a&gt;\r\n      &lt;div class=\"dropdown\"&gt;Some text&lt;/div&gt;\r\n    &lt;/li&gt;\r\n    &lt;li&gt;\r\n      &lt;a href=\"#\" class=\"dropdown-toggle\"&gt;link 2&lt;/a&gt;\r\n      &lt;div class=\"dropdown\"&gt;Some text&lt;/div&gt;\r\n    &lt;/li&gt;\r\n    &lt;li&gt;\r\n      &lt;a href=\"#\" class=\"dropdown-toggle\"&gt;link 3&lt;/a&gt;\r\n      &lt;div class=\"dropdown\"&gt;Some text&lt;/div&gt;\r\n    &lt;/li&gt;\r\n    &lt;li&gt;\r\n      &lt;a href=\"#\" class=\"dropdown-toggle\"&gt;link 4&lt;/a&gt;\r\n      &lt;div class=\"dropdown\"&gt;Some text&lt;/div&gt;\r\n    &lt;/li&gt;\r\n    &lt;li&gt;\r\n      &lt;a href=\"#\" class=\"dropdown-toggle\"&gt;link 5&lt;/a&gt;\r\n      &lt;div class=\"dropdown\"&gt;Some text&lt;/div&gt;\r\n    &lt;/li&gt;\r\n  &lt;/ul&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 4750, "user_id": 2387934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cd1ea5e7c966767f05014b5e4de9fe1?s=128&d=identicon&r=PG", "display_name": "Ashley Brown", "link": "https://stackoverflow.com/users/2387934/ashley-brown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 51868076, "answer_count": 3, "score": 2, "last_activity_date": 1534378990, "creation_date": 1534375845, "question_id": 51867762, "link": "https://stackoverflow.com/questions/51867762/how-can-i-fix-this-expanding-issue", "title": "How can I fix this expanding issue?", "body": "<p>So I'm trying to create an accordion style menu where if you click a panel it opens the section. If you click it again, it closes. On top of that, it should also close any other panel that was previously opened. </p>\n\n<p>I've almost got that functionality but the problem is that I have to click it twice.</p>\n\n<p>To see what I mean, check out this <a href=\"https://jsfiddle.net/9ksu64t2/1/\" rel=\"nofollow noreferrer\">Fiddle</a></p>\n\n<p>You'll notice that if you open <code>link one</code> then try to open <code>link 2</code>, you'll have to press <code>link 2</code> twice. </p>\n\n<p>How can I make it so that you only have to press it once to close <code>link 1</code> but also open <code>link 2</code> ?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let dropdown = document.querySelectorAll('.dropdown-toggle');\r\nconst handleClick = (e) =&gt; {\r\n  const active = document.querySelector('.open');\r\n  if(active){\r\n    active.classList.remove('open');\r\n  } else {\r\n    e.currentTarget.nextElementSibling.classList.add('open')\r\n  }\r\n}\r\ndropdown.forEach(element =&gt; {\r\n  element.addEventListener('click', handleClick);\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n  background: #ccc;\r\n}\r\n\r\n.menu {\r\n  background: #fff;\r\n  margin: 0 auto;\r\n  max-width: 400px;\r\n}\r\n.menu ul {\r\n  padding: 0;\r\n  text-align: center;\r\n  width: 100%;\r\n}\r\n.menu ul li {\r\n  list-style: none;\r\n  padding: 20px 0;\r\n  border-bottom: 1px solid #ccc;\r\n}\r\n.menu ul li a {\r\n  text-decoration: none;\r\n}\r\n.menu ul li .dropdown {\r\n  display: none;\r\n  padding: 20px;\r\n  background: grey;\r\n}\r\n.menu ul li .dropdown.open {\r\n  display: block;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"menu\"&gt;\r\n  &lt;ul&gt;\r\n    &lt;li&gt;\r\n      &lt;a href=\"#\" class=\"dropdown-toggle\"&gt;link 1&lt;/a&gt;\r\n      &lt;div class=\"dropdown\"&gt;Some text&lt;/div&gt;\r\n    &lt;/li&gt;\r\n    &lt;li&gt;\r\n      &lt;a href=\"#\" class=\"dropdown-toggle\"&gt;link 2&lt;/a&gt;\r\n      &lt;div class=\"dropdown\"&gt;Some text&lt;/div&gt;\r\n    &lt;/li&gt;\r\n    &lt;li&gt;\r\n      &lt;a href=\"#\" class=\"dropdown-toggle\"&gt;link 3&lt;/a&gt;\r\n      &lt;div class=\"dropdown\"&gt;Some text&lt;/div&gt;\r\n    &lt;/li&gt;\r\n    &lt;li&gt;\r\n      &lt;a href=\"#\" class=\"dropdown-toggle\"&gt;link 4&lt;/a&gt;\r\n      &lt;div class=\"dropdown\"&gt;Some text&lt;/div&gt;\r\n    &lt;/li&gt;\r\n    &lt;li&gt;\r\n      &lt;a href=\"#\" class=\"dropdown-toggle\"&gt;link 5&lt;/a&gt;\r\n      &lt;div class=\"dropdown\"&gt;Some text&lt;/div&gt;\r\n    &lt;/li&gt;\r\n  &lt;/ul&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "jquery", "html"], "comments": [{"owner": {"reputation": 51, "user_id": 10162543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/132fcefe775c684db2078ea4df777830?s=128&d=identicon&r=PG&f=1", "display_name": "Wegman", "link": "https://stackoverflow.com/users/10162543/wegman"}, "reply_to_user": {"reputation": 15562, "user_id": 155819, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yXygz.jpg?s=128&g=1", "display_name": "Akrion", "link": "https://stackoverflow.com/users/155819/akrion"}, "edited": false, "score": 0, "creation_date": 1534376083, "post_id": 51867731, "comment_id": 90687376, "body": "Thanks @Akrion for edit."}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 10162543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/132fcefe775c684db2078ea4df777830?s=128&d=identicon&r=PG&f=1", "display_name": "Wegman", "link": "https://stackoverflow.com/users/10162543/wegman"}, "edited": false, "score": 0, "creation_date": 1534377630, "post_id": 51867853, "comment_id": 90687692, "body": "Wow, it work like charm, i will put pop up notification on console, what about button issue any idea? @Louys Patrice Bessette"}, {"owner": {"reputation": 27648, "user_id": 2159528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jgc0E.png?s=128&g=1", "display_name": "Louys Patrice Bessette", "link": "https://stackoverflow.com/users/2159528/louys-patrice-bessette"}, "reply_to_user": {"reputation": 51, "user_id": 10162543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/132fcefe775c684db2078ea4df777830?s=128&d=identicon&r=PG&f=1", "display_name": "Wegman", "link": "https://stackoverflow.com/users/10162543/wegman"}, "edited": false, "score": 0, "creation_date": 1534377950, "post_id": 51867853, "comment_id": 90687751, "body": "Button issue? The &quot;Reserve Now&quot; ? It seems to submit... What&#39;s the issue?"}, {"owner": {"reputation": 51, "user_id": 10162543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/132fcefe775c684db2078ea4df777830?s=128&d=identicon&r=PG&f=1", "display_name": "Wegman", "link": "https://stackoverflow.com/users/10162543/wegman"}, "edited": false, "score": 0, "creation_date": 1534378738, "post_id": 51867853, "comment_id": 90687907, "body": "I need it to be inactive if no checkbox is checked and turn active when a single checkbox is checked.or more than one. @Louys Patrice Bessette"}, {"owner": {"reputation": 27648, "user_id": 2159528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jgc0E.png?s=128&g=1", "display_name": "Louys Patrice Bessette", "link": "https://stackoverflow.com/users/2159528/louys-patrice-bessette"}, "reply_to_user": {"reputation": 51, "user_id": 10162543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/132fcefe775c684db2078ea4df777830?s=128&d=identicon&r=PG&f=1", "display_name": "Wegman", "link": "https://stackoverflow.com/users/10162543/wegman"}, "edited": false, "score": 0, "creation_date": 1534379167, "post_id": 51867853, "comment_id": 90687995, "body": "Okay! I edited about this... Just add the <code>disabled</code> attribute to the button and the added line in code. ;)"}, {"owner": {"reputation": 3882, "user_id": 9561918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6kphC.jpg?s=128&g=1", "display_name": "Hikarunomemory", "link": "https://stackoverflow.com/users/9561918/hikarunomemory"}, "edited": false, "score": 1, "creation_date": 1534379368, "post_id": 51867853, "comment_id": 90688046, "body": "If you click all the checkboxes and then unchecked the checked ones, you&#39;ll find there&#39;s something going wrong."}, {"owner": {"reputation": 27648, "user_id": 2159528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jgc0E.png?s=128&g=1", "display_name": "Louys Patrice Bessette", "link": "https://stackoverflow.com/users/2159528/louys-patrice-bessette"}, "reply_to_user": {"reputation": 3882, "user_id": 9561918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6kphC.jpg?s=128&g=1", "display_name": "Hikarunomemory", "link": "https://stackoverflow.com/users/9561918/hikarunomemory"}, "edited": false, "score": 1, "creation_date": 1534379856, "post_id": 51867853, "comment_id": 90688169, "body": "The bug is fixed... Thanks @Hikarunomemory for mentionning."}, {"owner": {"reputation": 51, "user_id": 10162543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/132fcefe775c684db2078ea4df777830?s=128&d=identicon&r=PG&f=1", "display_name": "Wegman", "link": "https://stackoverflow.com/users/10162543/wegman"}, "edited": false, "score": 0, "creation_date": 1534381103, "post_id": 51867853, "comment_id": 90688398, "body": "Thanks much @LouysPatriceBessette now its working fine, i am glad Hikarunomemory found that bug, i was trying to fix here too good i found you guys fixed the bug thanks much once again."}], "tags": [], "owner": {"reputation": 27648, "user_id": 2159528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jgc0E.png?s=128&g=1", "display_name": "Louys Patrice Bessette", "link": "https://stackoverflow.com/users/2159528/louys-patrice-bessette"}, "is_accepted": true, "score": 2, "last_activity_date": 1534380801, "last_edit_date": 1534380801, "creation_date": 1534376704, "answer_id": 51867853, "question_id": 51867731, "link": "https://stackoverflow.com/questions/51867731/limit-number-of-seat-to-be-booked-at-a-time/51867853#51867853", "title": "Limit number of seat to be booked at a time", "body": "<p>I just added a small code chunk:</p>\n\n<pre><code>if(result.length&gt;6){\n  e.preventDefault();\n  console.log(\"Alreday got 6! Event prevented... Alert the user here.\");\n\n  //Remove the property added in selections in the code above.\n  delete selections[e.target.id];\n  return;\n}\n</code></pre>\n\n<p>Where if the result array gets to more than 6 items, you prevent the checkbox from being checked, alert the user in some way (as you prefer) and exit the function with <code>return</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const selections = {};\r\nconst inputElems = document.getElementsByTagName(\"input\");\r\nconst totalElem = document.getElementById(\"total-container\");\r\nconst hiddenTotalElem = document.getElementById(\"hidden-total\");\r\nconst hiddenSeatElem = document.getElementById(\"hidden-seats\");\r\nconst seatsElem = document.getElementById(\"selected-seats\");\r\n\r\nfor (let i = 0; i &lt; inputElems.length; i++) {\r\n  if (inputElems[i].type === \"checkbox\") {\r\n    inputElems[i].addEventListener(\"click\", displayCheck);\r\n  }\r\n}\r\n\r\nfunction displayCheck(e) {\r\n  if (e.target.checked) {\r\n    selections[e.target.id] = {\r\n      id: e.target.id,\r\n      value: e.target.value\r\n    };\r\n  } else {\r\n    delete selections[e.target.id];\r\n  }\r\n\r\n  const result = [];\r\n  let total = 0;\r\n\r\n  for (const key in selections) {\r\n    result.push(selections[key].id);\r\n    total += parseInt(selections[key].value);\r\n  }\r\n  \r\n  // Enable the submit button if at least 1 checked\r\n  $(\":submit\").prop(\"disabled\",!result.length&gt;0);\r\n  \r\n  if(result.length&gt;6){\r\n    console.log(\"Alreday got 6! Event prevented... Alert the user here.\");\r\n    e.preventDefault();\r\n    \r\n    // Remove the property added in selections in the code above.\r\n    delete selections[e.target.id];\r\n    return;\r\n  }\r\n\r\n  totalElem.innerText = total;\r\n  hiddenTotalElem.value = total;\r\n  seatsElem.innerHTML = result.join(\",\");\r\n  hiddenSeatElem.value = result;\r\n\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"container\"&gt;\r\n\r\n  &lt;h2&gt;Please choose a seat to book&lt;/h2&gt;\r\n  &lt;form action=\"action_page.php\" method=\"post\"&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-a1\" id=\"A1\" value=\"100\"&gt;&lt;label for=\"A1\"&gt;A1&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-a2\" id=\"A2\" value=\"65\"&gt; &lt;label for=\"A2\"&gt;A2&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-a3\" id=\"A3\" value=\"55\"&gt; &lt;label for=\"A3\"&gt;A3&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-a4\" id=\"A4\" value=\"50\"&gt;&lt;label for=\"A4\"&gt;A4&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-b1\" id=\"B1\" value=\"100\"&gt;&lt;label for=\"B1\"&gt;B1&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-b2\" id=\"B2\" value=\"65\"&gt; &lt;label for=\"B2\"&gt;B2&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-b3\" id=\"B3\" value=\"55\"&gt; &lt;label for=\"B3\"&gt;B3&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-b4\" id=\"B4\" value=\"50\"&gt;&lt;label for=\"B4\"&gt;B4&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-c1\" id=\"C1\" value=\"100\"&gt;&lt;label for=\"C1\"&gt;C1&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-c2\" id=\"C2\" value=\"65\"&gt; &lt;label for=\"C2\"&gt;C2&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-c3\" id=\"C3\" value=\"55\"&gt; &lt;label for=\"C3\"&gt;C3&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-c4\" id=\"C4\" value=\"50\"&gt;&lt;label for=\"C4\"&gt;C4&lt;/label&gt;&lt;br&gt;\r\n\r\n    &lt;input type=\"hidden\" name=\"total\" id=\"hidden-total\" value=\"0\"&gt;\r\n    &lt;input type=\"hidden\" name=\"seats\" id=\"hidden-seats\" value=\"0\"&gt;\r\n\r\n    &lt;p id=\"demo\"&gt;\r\n      Selected Seat(s)\r\n      &lt;br&gt;\r\n      &lt;span id=\"selected-seats\"&gt;&lt;/span&gt;\r\n      &lt;!-- container for selected seats --&gt;\r\n      &lt;br&gt; Total: &lt;span id=\"total-container\"&gt;&lt;/span&gt; USD\r\n\r\n      &lt;button type=\"submit\" class=\"btn btn-primary\" name=\"submit\" disabled&gt;Reserve Now&lt;/button&gt;\r\n    &lt;/p&gt;\r\n  &lt;/form&gt;\r\n&lt;/div&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>EDIT</strong><br></p>\n\n<p>To enable the submit button, I added this:</p>\n\n<pre><code>$(\":submit\").prop(\"disabled\",!result.length&gt;0);\n</code></pre>\n\n<p>It is disabled by defaut in the HTML markup.</p>\n"}, {"comments": [{"owner": {"reputation": 51, "user_id": 10162543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/132fcefe775c684db2078ea4df777830?s=128&d=identicon&r=PG&f=1", "display_name": "Wegman", "link": "https://stackoverflow.com/users/10162543/wegman"}, "edited": false, "score": 0, "creation_date": 1534418903, "post_id": 51868108, "comment_id": 90703185, "body": "Thanks for the solution @Hikarunomemory"}], "tags": [], "owner": {"reputation": 3882, "user_id": 9561918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6kphC.jpg?s=128&g=1", "display_name": "Hikarunomemory", "link": "https://stackoverflow.com/users/9561918/hikarunomemory"}, "is_accepted": false, "score": 1, "last_activity_date": 1534379598, "last_edit_date": 1534379598, "creation_date": 1534379270, "answer_id": 51868108, "question_id": 51867731, "link": "https://stackoverflow.com/questions/51867731/limit-number-of-seat-to-be-booked-at-a-time/51868108#51868108", "title": "Limit number of seat to be booked at a time", "body": "<p>You can check if <code>selections</code> contains more than 6 keys when <code>e.target.checked</code> is <code>true</code>.</p>\n\n<p>To inactive/active the button, you can do this</p>\n\n<pre><code>reserveBtn.disabled = result.length == 0;\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const selections = {};\r\nconst inputElems = document.getElementsByTagName(\"input\");\r\nconst totalElem = document.getElementById(\"total-container\");\r\nconst hiddenTotalElem = document.getElementById(\"hidden-total\");\r\nconst hiddenSeatElem = document.getElementById(\"hidden-seats\");\r\nconst seatsElem = document.getElementById(\"selected-seats\");\r\n\r\nconst reserveBtn = document.getElementById(\"reserve-button\");\r\n\r\nfor (let i = 0; i &lt; inputElems.length; i++) {\r\n  if (inputElems[i].type === \"checkbox\") {\r\n    inputElems[i].addEventListener(\"click\", displayCheck);\r\n  }\r\n}\r\n\r\nfunction displayCheck(e) {\r\n  if (e.target.checked) {\r\n    if(Object.keys(selections).length&gt;=6)\r\n    { \r\n      e.target.checked = false;\r\n      // alert goes here\r\n      // ...\r\n      return; \r\n    }\r\n    \r\n    selections[e.target.id] = {\r\n      id: e.target.id,\r\n      value: e.target.value\r\n    };\r\n  } else {\r\n    delete selections[e.target.id];\r\n  }\r\n\r\n  const result = [];\r\n  let total = 0;\r\n\r\n  for (const key in selections) {\r\n    result.push(selections[key].id);\r\n    total += parseInt(selections[key].value);\r\n  }\r\n\r\n  totalElem.innerText = total;\r\n  hiddenTotalElem.value = total;\r\n  seatsElem.innerHTML = result.join(\",\");\r\n  hiddenSeatElem.value = result;\r\n  \r\n  reserveBtn.disabled = result.length == 0;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"container\"&gt;\r\n\r\n  &lt;h2&gt;Please choose a seat to book&lt;/h2&gt;\r\n  &lt;form action=\"action_page.php\" method=\"post\"&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-a1\" id=\"A1\" value=\"100\"&gt;&lt;label for=\"A1\"&gt;A1&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-a2\" id=\"A2\" value=\"65\"&gt; &lt;label for=\"A2\"&gt;A2&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-a3\" id=\"A3\" value=\"55\"&gt; &lt;label for=\"A3\"&gt;A3&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-a4\" id=\"A4\" value=\"50\"&gt;&lt;label for=\"A4\"&gt;A4&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-b1\" id=\"B1\" value=\"100\"&gt;&lt;label for=\"B1\"&gt;B1&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-b2\" id=\"B2\" value=\"65\"&gt; &lt;label for=\"B2\"&gt;B2&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-b3\" id=\"B3\" value=\"55\"&gt; &lt;label for=\"B3\"&gt;B3&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-b4\" id=\"B4\" value=\"50\"&gt;&lt;label for=\"B4\"&gt;B4&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-c1\" id=\"C1\" value=\"100\"&gt;&lt;label for=\"C1\"&gt;C1&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-c2\" id=\"C2\" value=\"65\"&gt; &lt;label for=\"C2\"&gt;C2&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-c3\" id=\"C3\" value=\"55\"&gt; &lt;label for=\"C3\"&gt;C3&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-c4\" id=\"C4\" value=\"50\"&gt;&lt;label for=\"C4\"&gt;C4&lt;/label&gt;&lt;br&gt;\r\n\r\n    &lt;input type=\"hidden\" name=\"total\" id=\"hidden-total\" value=\"0\"&gt;\r\n    &lt;input type=\"hidden\" name=\"seats\" id=\"hidden-seats\" value=\"0\"&gt;\r\n\r\n    &lt;p id=\"demo\"&gt;\r\n      Selected Seat(s)\r\n      &lt;br&gt;\r\n      &lt;span id=\"selected-seats\"&gt;&lt;/span&gt;\r\n      &lt;!-- container for selected seats --&gt;\r\n      &lt;br&gt; Total: &lt;span id=\"total-container\"&gt;&lt;/span&gt; USD\r\n\r\n      &lt;button type=\"submit\" class=\"btn btn-primary\" name=\"submit\" id=\"reserve-button\" disabled&gt;Reserve Now&lt;/button&gt;\r\n    &lt;/p&gt;\r\n  &lt;/form&gt;\r\n&lt;/div&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 51, "user_id": 10162543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/132fcefe775c684db2078ea4df777830?s=128&d=identicon&r=PG&f=1", "display_name": "Wegman", "link": "https://stackoverflow.com/users/10162543/wegman"}, "edited": false, "score": 0, "creation_date": 1534381269, "post_id": 51868127, "comment_id": 90688431, "body": "Is this by using JS only?"}], "tags": [], "owner": {"reputation": 5494, "user_id": 4325011, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/J7NOu.jpg?s=128&g=1", "display_name": "chebaby", "link": "https://stackoverflow.com/users/4325011/chebaby"}, "is_accepted": false, "score": 1, "last_activity_date": 1534379448, "creation_date": 1534379448, "answer_id": 51868127, "question_id": 51867731, "link": "https://stackoverflow.com/questions/51867731/limit-number-of-seat-to-be-booked-at-a-time/51868127#51868127", "title": "Limit number of seat to be booked at a time", "body": "<h3>without jquery</h3>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>document.addEventListener(\"DOMContentLoaded\", function() {\r\n\r\n    const selections      = {};\r\n    const inputElems      = document.querySelectorAll('input[type=checkbox]');\r\n    const reserveButton   = document.getElementById('reserveButton');\r\n    const totalElem       = document.getElementById(\"total-container\");\r\n    const hiddenTotalElem = document.getElementById(\"hidden-total\");\r\n    const hiddenSeatElem  = document.getElementById(\"hidden-seats\");\r\n    const seatsElem       = document.getElementById(\"selected-seats\");\r\n\r\n    for (let i = 0; i &lt; inputElems.length; i++) {\r\n\r\n        inputElems[i].addEventListener(\"click\", displayCheck);\r\n\r\n    }\r\n\r\n    function displayCheck(e) {\r\n\r\n\r\n        if (e.target.checked) {\r\n\r\n            if (Object.keys(selections).length &gt;= 6) {\r\n\r\n                e.preventDefault();\r\n                alert('You can only reserve 6 seats at time');\r\n                return;\r\n\r\n            } else {\r\n\r\n                selections[e.target.id] = {\r\n                    id: e.target.id,\r\n                    value: e.target.value\r\n                };\r\n            }\r\n\r\n        } else {\r\n\r\n            delete selections[e.target.id];\r\n        }\r\n\r\n        const result = [];\r\n        let total    = 0;\r\n\r\n        for (const key in selections) {\r\n\r\n            result.push(selections[key].id);\r\n            total += parseInt(selections[key].value);\r\n        }\r\n\r\n        result.length ? reserveButton.disabled = false : reserveButton.disabled = true;\r\n\r\n        totalElem.innerText   = total;\r\n        hiddenTotalElem.value = total;\r\n        seatsElem.innerHTML   = result.join(\",\");\r\n        hiddenSeatElem.value  = result;\r\n    }\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n&lt;div class=\"container\"&gt;\r\n\r\n  &lt;h2&gt;Please choose a seat to book&lt;/h2&gt;\r\n  &lt;form action=\"action_page.php\" method=\"post\"&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-a1\" id=\"A1\" value=\"100\"&gt;&lt;label for=\"A1\"&gt;A1&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-a2\" id=\"A2\" value=\"65\"&gt; &lt;label for=\"A2\"&gt;A2&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-a3\" id=\"A3\" value=\"55\"&gt; &lt;label for=\"A3\"&gt;A3&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-a4\" id=\"A4\" value=\"50\"&gt;&lt;label for=\"A4\"&gt;A4&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-b1\" id=\"B1\" value=\"100\"&gt;&lt;label for=\"B1\"&gt;B1&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-b2\" id=\"B2\" value=\"65\"&gt; &lt;label for=\"B2\"&gt;B2&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-b3\" id=\"B3\" value=\"55\"&gt; &lt;label for=\"B3\"&gt;B3&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-b4\" id=\"B4\" value=\"50\"&gt;&lt;label for=\"B4\"&gt;B4&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-c1\" id=\"C1\" value=\"100\"&gt;&lt;label for=\"C1\"&gt;C1&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-c2\" id=\"C2\" value=\"65\"&gt; &lt;label for=\"C2\"&gt;C2&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-c3\" id=\"C3\" value=\"55\"&gt; &lt;label for=\"C3\"&gt;C3&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-c4\" id=\"C4\" value=\"50\"&gt;&lt;label for=\"C4\"&gt;C4&lt;/label&gt;&lt;br&gt;\r\n\r\n    &lt;input type=\"hidden\" name=\"total\" id=\"hidden-total\" value=\"0\"&gt;\r\n    &lt;input type=\"hidden\" name=\"seats\" id=\"hidden-seats\" value=\"0\"&gt;\r\n\r\n    &lt;p id=\"demo\"&gt;\r\n      Selected Seat(s)\r\n      &lt;br&gt;\r\n      &lt;span id=\"selected-seats\"&gt;&lt;/span&gt;\r\n      &lt;!-- container for selected seats --&gt;\r\n      &lt;br&gt; Total: &lt;span id=\"total-container\"&gt;&lt;/span&gt; USD\r\n\r\n      &lt;button type=\"submit\" class=\"btn btn-primary\" name=\"submit\" id=\"reserveButton\" disabled&gt;Reserve Now&lt;/button&gt;\r\n    &lt;/p&gt;\r\n  &lt;/form&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 51, "user_id": 10162543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/132fcefe775c684db2078ea4df777830?s=128&d=identicon&r=PG&f=1", "display_name": "Wegman", "link": "https://stackoverflow.com/users/10162543/wegman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "accepted_answer_id": 51867853, "answer_count": 3, "score": 0, "last_activity_date": 1534380801, "creation_date": 1534375571, "last_edit_date": 1534375993, "question_id": 51867731, "link": "https://stackoverflow.com/questions/51867731/limit-number-of-seat-to-be-booked-at-a-time", "title": "Limit number of seat to be booked at a time", "body": "<p>I have this simple table used for ticket reservation. It works fine but i want to improve it so a user can reserve 6 seats at a time if user need to add 7th seat should be alerted that he/she can book 6 seats at a time.</p>\n\n<p>The other issue is how to make reserve button inactive if there is no any seat selected and make it active if one or more than one seats are selected?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const selections = {};\r\nconst inputElems = document.getElementsByTagName(\"input\");\r\nconst totalElem = document.getElementById(\"total-container\");\r\nconst hiddenTotalElem = document.getElementById(\"hidden-total\");\r\nconst hiddenSeatElem = document.getElementById(\"hidden-seats\");\r\nconst seatsElem = document.getElementById(\"selected-seats\");\r\n\r\nfor (let i = 0; i &lt; inputElems.length; i++) {\r\n  if (inputElems[i].type === \"checkbox\") {\r\n    inputElems[i].addEventListener(\"click\", displayCheck);\r\n  }\r\n}\r\n\r\nfunction displayCheck(e) {\r\n  if (e.target.checked) {\r\n    selections[e.target.id] = {\r\n      id: e.target.id,\r\n      value: e.target.value\r\n    };\r\n  } else {\r\n    delete selections[e.target.id];\r\n  }\r\n\r\n  const result = [];\r\n  let total = 0;\r\n\r\n  for (const key in selections) {\r\n    result.push(selections[key].id);\r\n    total += parseInt(selections[key].value);\r\n  }\r\n\r\n  totalElem.innerText = total;\r\n  hiddenTotalElem.value = total;\r\n  seatsElem.innerHTML = result.join(\",\");\r\n  hiddenSeatElem.value = result;\r\n\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"container\"&gt;\r\n\r\n  &lt;h2&gt;Please choose a seat to book&lt;/h2&gt;\r\n  &lt;form action=\"action_page.php\" method=\"post\"&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-a1\" id=\"A1\" value=\"100\"&gt;&lt;label for=\"A1\"&gt;A1&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-a2\" id=\"A2\" value=\"65\"&gt; &lt;label for=\"A2\"&gt;A2&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-a3\" id=\"A3\" value=\"55\"&gt; &lt;label for=\"A3\"&gt;A3&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-a4\" id=\"A4\" value=\"50\"&gt;&lt;label for=\"A4\"&gt;A4&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-b1\" id=\"B1\" value=\"100\"&gt;&lt;label for=\"B1\"&gt;B1&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-b2\" id=\"B2\" value=\"65\"&gt; &lt;label for=\"B2\"&gt;B2&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-b3\" id=\"B3\" value=\"55\"&gt; &lt;label for=\"B3\"&gt;B3&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-b4\" id=\"B4\" value=\"50\"&gt;&lt;label for=\"B4\"&gt;B4&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-c1\" id=\"C1\" value=\"100\"&gt;&lt;label for=\"C1\"&gt;C1&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-c2\" id=\"C2\" value=\"65\"&gt; &lt;label for=\"C2\"&gt;C2&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-c3\" id=\"C3\" value=\"55\"&gt; &lt;label for=\"C3\"&gt;C3&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" name=\"vehicle-c4\" id=\"C4\" value=\"50\"&gt;&lt;label for=\"C4\"&gt;C4&lt;/label&gt;&lt;br&gt;\r\n\r\n    &lt;input type=\"hidden\" name=\"total\" id=\"hidden-total\" value=\"0\"&gt;\r\n    &lt;input type=\"hidden\" name=\"seats\" id=\"hidden-seats\" value=\"0\"&gt;\r\n\r\n    &lt;p id=\"demo\"&gt;\r\n      Selected Seat(s)\r\n      &lt;br&gt;\r\n      &lt;span id=\"selected-seats\"&gt;&lt;/span&gt;\r\n      &lt;!-- container for selected seats --&gt;\r\n      &lt;br&gt; Total: &lt;span id=\"total-container\"&gt;&lt;/span&gt; USD\r\n\r\n      &lt;button type=\"submit\" class=\"btn btn-primary\" name=\"submit\"&gt;Reserve Now&lt;/button&gt;\r\n    &lt;/p&gt;\r\n  &lt;/form&gt;\r\n&lt;/div&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "reactjs", "redux"], "comments": [{"owner": {"reputation": 2194, "user_id": 1195379, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e351f72af8e39996ca9371eb5f2c09d7?s=128&d=identicon&r=PG", "display_name": "vahissan", "link": "https://stackoverflow.com/users/1195379/vahissan"}, "edited": false, "score": 0, "creation_date": 1534383069, "post_id": 51867720, "comment_id": 90688773, "body": "Moving all the logic to a middleware is a good idea. In this specific example, you can technically move the logic to the action creator."}], "answers": [{"tags": [], "owner": {"reputation": 5618, "user_id": 2193290, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/QSiK2.jpg?s=128&g=1", "display_name": "Danny Delott", "link": "https://stackoverflow.com/users/2193290/danny-delott"}, "is_accepted": true, "score": 3, "last_activity_date": 1534380471, "creation_date": 1534380471, "answer_id": 51868225, "question_id": 51867720, "link": "https://stackoverflow.com/questions/51867720/replace-using-date-now-inside-a-reducer/51868225#51868225", "title": "Replace using Date.now() inside a reducer", "body": "<p>In Redux, all side-effects (not just api calls) should take place inside Action Creators. You should move this logic into the action creator and have the caller pass the necessary parameters.</p>\n"}], "owner": {"reputation": 165, "user_id": 8790543, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-KOgo7e4cQr0/AAAAAAAAAAI/AAAAAAAAAA4/3JgkKdO90ZE/photo.jpg?sz=128", "display_name": "matrixb0ss", "link": "https://stackoverflow.com/users/8790543/matrixb0ss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 999, "favorite_count": 0, "accepted_answer_id": 51868225, "answer_count": 1, "score": 2, "last_activity_date": 1534380471, "creation_date": 1534375482, "question_id": 51867720, "link": "https://stackoverflow.com/questions/51867720/replace-using-date-now-inside-a-reducer", "title": "Replace using Date.now() inside a reducer", "body": "<p>Documentation said i should avoid state mutation by using new Date, etc inside reducers. Help me please with advice how should it be done.</p>\n\n<p>Action:</p>\n\n<pre><code>const RECEIVE_PRICES = 'RECEIVE_PRICES';\n\nfunction receivePrices(prices) {\n  return {\n    type: RECEIVE_PRICES,\n    receivedAt: Date.now(),\n    prices,\n  };\n}\n</code></pre>\n\n<p>REDUCER:</p>\n\n<pre><code> ...\n case RECEIVE_PRICES: {\n      let { prices } = action;\n\n      prices = prices.map((p) =&gt; {\n        const baseQuote = p.symbol.split('/');\n        return { ...p, baseCurrency: baseQuote[0], quoteCurrency: baseQuote[1] };\n      });\n\n      prices.sort(\n        (a, b) =&gt; new Date(a.timestamp).getTime() - new Date(b.timestamp).getTime(),\n      );\n\n      return {\n        ...state,\n        prices,\n        pricesLoading: false,\n        pricesError: null,\n      };\n    }\n    default:\n      return state;\n  }\n</code></pre>\n"}, {"tags": ["javascript", "angularjs", "ng-options"], "answers": [{"comments": [{"owner": {"reputation": 419, "user_id": 2522135, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc6d8bf88e47473960474762ee26ed2a?s=128&d=identicon&r=PG", "display_name": "Nick S.", "link": "https://stackoverflow.com/users/2522135/nick-s"}, "edited": false, "score": 0, "creation_date": 1534434361, "post_id": 51868125, "comment_id": 90713209, "body": "Thank you this is exactly what I was looking for. Also appreciate you editing the formatting on my post."}], "tags": [], "owner": {"reputation": 46815, "user_id": 5535245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnjcO.jpg?s=128&g=1", "display_name": "georgeawg", "link": "https://stackoverflow.com/users/5535245/georgeawg"}, "is_accepted": true, "score": 1, "last_activity_date": 1534436083, "last_edit_date": 1592644375, "creation_date": 1534379438, "answer_id": 51868125, "question_id": 51867610, "link": "https://stackoverflow.com/questions/51867610/select-multiple-element-affecting-properties-of-the-objects-its-populated-from/51868125#51868125", "title": "Select multiple element affecting properties of the objects it&#39;s populated from", "body": "<p>Here's one way to do it:</p>\n<pre><code>&lt;select ng-model=&quot;hairyPersons&quot; multiple\n        ng-change=&quot;updatePeople(hairyPersons)&quot;\n        ng-options=&quot;person as person.name for person in people&quot;&gt;\n&lt;/select&gt;\n</code></pre>\n<pre class=\"lang-js prettyprint-override\"><code>$scope.updatePeople = function(selects) {\n    $scope.people.forEach(x =&gt; x.hair=false);\n    selects.forEach(x =&gt; x.hair=true);\n};\n</code></pre>\n<p>The <code>ng-model</code> variable needs to be different than the <code>ng-options</code> array.</p>\n<h1><a href=\"http://plnkr.co/edit/akTz89djWdew9sqB1ez2?p=preview\" rel=\"nofollow noreferrer\">The DEMO</a></h1>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>angular.module(\"app\",[])\n.controller(\"ctrl\", function($scope) {\n  $scope.people = [\n    {name: \"John\", hair: false},\n    {name: \"James\", hair: false},\n    {name: \"Mary\", hair: false},\n    {name: \"Fred\", hair: false},\n  ];\n  $scope.updatePeople = function(selects) {\n    $scope.people.forEach(x =&gt; x.hair=false);\n    selects.forEach(x =&gt; x.hair=true);\n  };\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"//unpkg.com/angular/angular.js\"&gt;&lt;/script&gt;\n&lt;body ng-app=\"app\" ng-controller=\"ctrl\"&gt;\n     &lt;select ng-model=\"hairyPersons\" multiple\n         ng-change=\"updatePeople(hairyPersons)\"\n         ng-options=\"person as person.name for person in people\"&gt;\n     &lt;/select&gt;\n     &lt;div ng-repeat=\"p in people\"&gt;\n       {{p.name}} hair={{p.hair?'TRUE':false}}\n     &lt;/div&gt;\n     &lt;h3&gt;hairyPersons&lt;/h3&gt;\n     &lt;ol&gt;\n       &lt;li ng-repeat=\"h in hairyPersons\"&gt;{{h.name}}&lt;/li&gt;\n     &lt;/ol&gt;\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<hr />\n<p>Another way to do it is with a list of checkboxes:</p>\n<pre><code>&lt;div ng-repeat=&quot;p in people&quot;&gt;\n    &lt;input type=&quot;checkbox&quot; ng-model=&quot;p.hair&quot;&gt;{{p.name}}&lt;br&gt;\n&lt;/div&gt;\n</code></pre>\n<p>The <code>ng-model</code> directives operate directly on objects in the <code>people</code> array.</p>\n<p>All the unchecked boxes set <code>hair: false</code>; all the checked boxes set <code>hair: true</code> on their respective objects.</p>\n"}], "owner": {"reputation": 419, "user_id": 2522135, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc6d8bf88e47473960474762ee26ed2a?s=128&d=identicon&r=PG", "display_name": "Nick S.", "link": "https://stackoverflow.com/users/2522135/nick-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 51868125, "answer_count": 1, "score": 1, "last_activity_date": 1534436083, "creation_date": 1534374512, "last_edit_date": 1534377992, "question_id": 51867610, "link": "https://stackoverflow.com/questions/51867610/select-multiple-element-affecting-properties-of-the-objects-its-populated-from", "title": "Select multiple element affecting properties of the objects it&#39;s populated from", "body": "<p>So I have this array <strong>people</strong></p>\n\n<pre><code>people = [{name: \"John\",hair: false},{name: \"James\": hair: false}]\n</code></pre>\n\n<p>I have a <strong>select</strong> element with the <strong>multiple</strong> attribute that is populated from</p>\n\n<pre><code> &lt;select ng-model=\"people\" multiple\n         ng-options=\"person.hair as person.name for person in people\"&gt;\n &lt;/select&gt;\n</code></pre>\n\n<p>What I'm trying to achieve is when the user selects one or more items from this select element it will set the hair property of the selected item(s) to <code>true</code>.</p>\n\n<p>Now what's happening is I select an item and it sets <code>people</code> to <code>false</code>, which makes sense. The select needs an <code>ng-model</code> for <code>ng-options</code> to work. If I set it to something else nothing gets changed on <code>people</code></p>\n\n<p>I've tried putting a function in <code>ng-change</code> and throwing the <code>ng-model</code> I set to it but that won't make the selection 'highlighted' in the select multiple element. I know there are more practical ways to do this but I'd like to figure out how to use the select multiple if I could.</p>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 8242252, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vpdXp.jpg?s=128&g=1", "display_name": "Chad Wilson", "link": "https://stackoverflow.com/users/8242252/chad-wilson"}, "edited": false, "score": 0, "creation_date": 1534379013, "post_id": 51867710, "comment_id": 90687967, "body": "Weird, I thought I needed that !important there for other parts of my code to work but apparently they work without it. But anyways, that definitely did the trick. Thanks so much!"}, {"owner": {"reputation": 587, "user_id": 10230696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cjtKN.png?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10230696/learner"}, "reply_to_user": {"reputation": 25, "user_id": 8242252, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vpdXp.jpg?s=128&g=1", "display_name": "Chad Wilson", "link": "https://stackoverflow.com/users/8242252/chad-wilson"}, "edited": false, "score": 0, "creation_date": 1534379076, "post_id": 51867710, "comment_id": 90687979, "body": "No problem, I am glad that I can be of assistance this is my 3th successful answer :D"}], "tags": [], "owner": {"reputation": 587, "user_id": 10230696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cjtKN.png?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10230696/learner"}, "is_accepted": true, "score": 1, "last_activity_date": 1534375388, "creation_date": 1534375388, "answer_id": 51867710, "question_id": 51867581, "link": "https://stackoverflow.com/questions/51867581/color-transition-of-a-link-does-not-work-in-firefox/51867710#51867710", "title": "Color transition of a link does not work in Firefox", "body": "<p>You have this part of code with <code>!important</code>.</p>\n\n<pre><code>.component-header__left-div__nav_active_a,\n.component-div_margin__email_color,\na:hover,\n.wider_screen_size_header_navigation_nav a:hover {\n    color: red !important;//I added red as color for testing\n}\n</code></pre>\n\n<p>Just remove important</p>\n"}], "owner": {"reputation": 25, "user_id": 8242252, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vpdXp.jpg?s=128&g=1", "display_name": "Chad Wilson", "link": "https://stackoverflow.com/users/8242252/chad-wilson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 51867710, "answer_count": 1, "score": 0, "last_activity_date": 1534375388, "creation_date": 1534374263, "question_id": 51867581, "link": "https://stackoverflow.com/questions/51867581/color-transition-of-a-link-does-not-work-in-firefox", "title": "Color transition of a link does not work in Firefox", "body": "<p>So I have a link of an email on my page that is supposed to transition from its base color (light-ish green) to a darker green when you hover over it. I have confirmed that it works in Chrome, IE, Edge, and Opera. It only does not work in Firefox. I also have it where it does the same thing with a border at the bottom of the link when you hover over it and that works in Firefox fine, just not the color of the link for some reason. Any help would be appreciated. Here is my code:</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"UTF-8\"&gt;\n        &lt;!-- This is so viewing website is scaled well on all devices --&gt;\n        &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n        &lt;!-- This is where I am getting all my icons from --&gt;\n        &lt;link rel=\"stylesheet\" href=\"https://use.fontawesome.com/releases/v5.0.13/css/all.css\"&gt;\n        &lt;!-- Image by fontawesome.com. Here is link to image: https://fontawesome.com/icons/info-circle?style=solid --&gt;\n        &lt;link rel=\"icon\" href=\"Images/info-circle-solid.png\"&gt;\n        &lt;!-- To remove default browser styling --&gt;\n        &lt;link rel=\"stylesheet\" href=\"https://necolas.github.io/normalize.css/8.0.0/normalize.css\"&gt;\n        &lt;!-- My style sheet --&gt;\n        &lt;link rel=\"stylesheet\" href=\"css/style.css\"&gt;\n        &lt;!-- My Sass style sheet --&gt;\n        &lt;link rel=\"stylesheet\" href=\"css/sass_style.css\"&gt;\n        &lt;!-- JQuery --&gt;\n        &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\n        &lt;!-- My script --&gt;\n        &lt;script src=\"JavaScript/javascript.js\"&gt;&lt;/script&gt;\n        &lt;title&gt;About&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n                        &lt;!-- Email section --&gt;\n                    &lt;section&gt;\n                        &lt;div class=\"component-div_margin component-div_width\"&gt;\n                            &lt;h2 class=\"component-div_margin_h2_after_description\"&gt;Contact&lt;/h2&gt;\n                            &lt;p&gt;Here is my email if you wish to contact me. Click on my email address below to copy the address to your clipboard.&lt;/p&gt;\n                            &lt;a href=\"javascript:;\" class=\"component-div_margin__email_color\" id=\"green_email_one\" onclick=\"CopyEmail('green_email_one')\"&gt;chadwilson959@yahoo.com&lt;/a&gt;\n                        &lt;/div&gt;\n                    &lt;/section&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n\n<p>CSS:</p>\n\n<pre><code>/* Color palette courtesy of colorlovers.com. Here is the direct link to the color palette:\nhttp://www.colourlovers.com/web/trends/websites/7853/KICKSTARTER */\n/* Design inspiration courtesy of Timmy O'Mahony from his portfolio website. Here is the link to it:\nhttp://www.colourlovers.com/web/trends/websites/7853/KICKSTARTER */\n\nbody {\n    font-family: Arial, Helvetica, sans-serif;\n}\n\nh1,h2,h3,h4,h5,h6,p {\n    margin: 0;\n    font-weight: normal;\n}\n\n/* .component-footer_background_color__email_border_color:\nthis is to add a margin to the bottom of the green email in the footer */\nh1,h2,h3,h4,h5,h6,p,\n.component-footer_background_color__email_border_color {\n    margin-bottom: 20px;\n}\n\nh1,h2,h3,h4,h5,h6,p,a {\n    color: #34302D;\n}\n\nh1 {\n    font-size: 30px;\n}\n\nh2 {\n    font-size: 20px;\n}\n\na {\n    text-decoration: none;\n    border-bottom: 1px solid white;\n}\n\n\n/* To create spacing between borders of webpage and spacing inbetween \nseperate divs on the page */\n.component-div_margin {\n    margin: 5% 5% 120px 5%;\n}\n\n.component-footer_background_color__a,\n#wider_screen_drop_down_menu_email,\n.component-div_margin_h2_after_description,\n.component-footer_background_color__a {\n    color: #E6E6E6;\n}\n\n/* !important to remove previous color styling */\n.component-header__left-div__nav_active_a,\n.component-div_margin__email_color,\na:hover,\n.wider_screen_size_header_navigation_nav a:hover {\n    color: #86C543 !important;\n}\n\n/* So these animations do not repeat */\n.component-drop_down_menu_open_animation,\n.component-drop_down_menu_close_animation,\n.component-drop_down_menu_show_animation,\n.component-drop_down_menu_hide_animation,\n.from_black_to_green_border_animation,\n.green_email_one_border_animation {\n    animation-fill-mode: forwards;\n}\n\n.from_black_to_green_border_animation,\n.green_email_one_border_animation {\n    animation-duration: .3s;\n}\n\n.green_email_one_border_animation {\n    animation-name: green_email_one_border;\n}\n\n/* #component-description_div__h2 has this to create more spacing\nin the intro */\np, #component-description_div__h2 {\n    line-height: 30px;\n}\n\n/* To put anchor tags on seperate lines */\nnav a:after {\n    content: \"\";\n    display: block;\n    height: 0;\n    width: 1px;\n}\n\n/* To add seperation between links inside of navs when they are on seperate lines */\nnav {\n    line-height: 50px;\n}\n\n@keyframes green_email_one_border {\n    from {\n        color: #86C543;\n        border-bottom-color: #86C543;\n    }\n    to {\n        color: #6B9E35;\n        border-bottom-color: #6B9E35;\n    }\n}\n\n\n/* lines 335 - 418 */\n/* MEDIA QUERIES */\n\n\n@media only screen and (min-width: 480px) {\n    .wider_screen_size_header_navigation {\n        display: block;\n    }\n    .open_menu_div {\n        display: none;\n    }\n    .component-header__left-div {\n        width: 50%;\n    }\n    .component-header__right-div {\n        width: 50%;\n    }\n    .projects_link {\n        margin-right: 0px !important;\n    }\n}\n\n@media only screen and (min-width: 768px) {\n    .component-header__left-div {\n        width: 25%;\n    }\n    .component-header__right-div {\n        width: 75%;\n    }    \n    .projects_link {\n        margin-right: 25px !important;\n    }\n    #wider_screen_drop_down_menu_email {\n        display: inline;\n        margin-right: 0px !important;\n    }\n    .mobile_footer_div {\n        display: none;\n    }\n    .component-footer_background_color__div {\n        width: 50%;\n    }\n    .wider_screen_footer_div {\n        display: block;\n    }\n    .component-footer_background_color__h2_after_first {\n        margin-bottom: 35px;\n    }\n    .component-footer_background_color__first_div {\n        width: 60%;\n    }\n    .component-footer_background_color__nav {\n        line-height: 30px;\n    }\n    .contact_header {\n        margin-bottom: 40px;\n    }\n}\n\n@media only screen and (min-height: 537px) {\n    .intro_div {\n        margin-bottom: 240px;\n    }\n}\n\n@media only screen and (min-width: 1000px) {\n    .wider_screen_footer_div {\n        display: none;\n    }\n    .widest_screen_footer_div {\n        display: flex;\n    }\n    .wider_screen_footer_div_flex {\n        width: 60%;\n    }\n    .component-footer_background_color__div {\n        width: 25%;\n    }\n    .social_div_width {\n        width: 40%;\n    }\n    .component-footer_background_color__first_div {\n        width: 30%;\n    }\n    .component-div_width {\n        width: 60%;\n    }\n}\n</code></pre>\n\n<p>JavaScript:</p>\n\n<pre><code>//This function is to copy the emails on each page to the clipboard and to style the link\n//once it is clicked when the emails are clicked.\nfunction CopyEmail(id) {\n    var range = document.createRange();\n    var selection = window.getSelection();\n    SelectEmailCopying(id, range);\n    RemoveAllRanges(selection);\n    selection.addRange(range);\n    document.execCommand('copy');\n    RemoveAllRanges(selection);\n}\n\n//this function creates the range for the text of the email that is to be copied.\nfunction SelectEmailCopying(id, range) {\n    if(id === \"green_email_one\") {\n        range.selectNodeContents(document.getElementById('green_email_one'));\n    }\n    else if(id === \"green_email_two\") {\n        range.selectNodeContents(document.getElementById('green_email_two'));\n    }\n    else if(id === \"grey_email_one\") {\n        range.selectNodeContents(document.getElementById('grey_email_one'));\n    }\n    else if(id === \"grey_email_two\") {\n        range.selectNodeContents(document.getElementById('grey_email_two'));\n    }\n    else if (id === \"grey_email_three\") {\n        range.selectNodeContents(document.getElementById('grey_email_three'));\n    }\n    else if(id === \"drop_down_menu_email\") {\n        range.selectNodeContents(document.getElementById('drop_down_menu_email'));\n    }\n    else if(id === \"wider_screen_drop_down_menu_email\") {\n        range.selectNodeContents(document.getElementById('wider_screen_drop_down_menu_email'));\n    }\n}\n\n//This function removes all ranges once copying is done.\nfunction RemoveAllRanges(selection) {\n    selection.removeAllRanges();\n}\n\n$(document).ready(function() {\n    //Gives animation to the last email link before hitting the footer on hover\n    $(\"#green_email_one\").hover(function() {\n        $(\"#green_email_one\").addClass(\"green_email_one_border_animation\");\n    }, function() {\n        $(\"#green_email_one\").removeClass(\"green_email_one_border_animation\");\n    });\n});\n</code></pre>\n\n<p>And a JSFiddle link for this code:\n<a href=\"https://jsfiddle.net/qb0d6caL/12/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/qb0d6caL/12/</a></p>\n\n<p>Thanks.</p>\n"}, {"tags": ["javascript", "html", "ajax", "bootstrap-4", "bootstrap-table"], "comments": [{"owner": {"reputation": 1178, "user_id": 6363273, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fe42bbac197395210bccc4a68df10102?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Gibbs", "link": "https://stackoverflow.com/users/6363273/ryan-gibbs"}, "edited": false, "score": 1, "creation_date": 1534374340, "post_id": 51867563, "comment_id": 90687006, "body": "What issues are you having? In order for us to assist you, please provide <a href=\"http://stackoverflow.com/help/mcve\">a Minimal, Complete, and Verifiable example.</a>"}, {"owner": {"reputation": 77, "user_id": 8801911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b408e257ba14d417782c56b352fb8c50?s=128&d=identicon&r=PG&f=1", "display_name": "Marc Blazyk", "link": "https://stackoverflow.com/users/8801911/marc-blazyk"}, "reply_to_user": {"reputation": 1178, "user_id": 6363273, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fe42bbac197395210bccc4a68df10102?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Gibbs", "link": "https://stackoverflow.com/users/6363273/ryan-gibbs"}, "edited": false, "score": 0, "creation_date": 1534600580, "post_id": 51867563, "comment_id": 90768810, "body": "So the issue is that the table is not populating at all. When I inspect the page, the get request returns 200. So the object is coming back but he table remains empty and doesn&#39;t show any content from the JSON object in the table."}, {"owner": {"reputation": 4533, "user_id": 1342581, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3UuMS.jpg?s=128&g=1", "display_name": "Victoria Ruiz", "link": "https://stackoverflow.com/users/1342581/victoria-ruiz"}, "edited": false, "score": 0, "creation_date": 1537568217, "post_id": 51867563, "comment_id": 91846677, "body": "There are different types of double quotes in your JSON. They are probably the cause. You always want to use the straight double quotes, the curly ones are for editorial purposes, not coding."}], "owner": {"reputation": 77, "user_id": 8801911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b408e257ba14d417782c56b352fb8c50?s=128&d=identicon&r=PG&f=1", "display_name": "Marc Blazyk", "link": "https://stackoverflow.com/users/8801911/marc-blazyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 572, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1537568153, "creation_date": 1534374077, "last_edit_date": 1537568153, "question_id": 51867563, "link": "https://stackoverflow.com/questions/51867563/how-to-populate-bootstrap-table-with-ajax", "title": "How to populate Bootstrap table with Ajax?", "body": "<p>I've created a table using Bootstrap. When I do my network call the table is not populating.</p>\n\n<p>I'm not sure if it's the way I am trying to populate it or the JSON object being returned or a combination of the two.</p>\n\n<p>When I inspect the page, the get request returns 200. So the object is coming back but the table remains empty and doesn't show any content from the JSON object in the table.</p>\n\n<p>This is my full code in the index.html file.</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;title&gt;Table V01&lt;/title&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n\n    &lt;!--===============================================================================================--&gt;\n        &lt;script src=\"vendor/jquery/jquery-3.2.1.min.js\"&gt;&lt;/script&gt;\n    &lt;!--===============================================================================================--&gt;\n        &lt;script src=\"vendor/bootstrap/js/popper.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"vendor/bootstrap/js/bootstrap.min.js\"&gt;&lt;/script&gt;\n    &lt;!--===============================================================================================--&gt;\n        &lt;script src=\"vendor/select2/select2.min.js\"&gt;&lt;/script&gt;\n    &lt;!--===============================================================================================--&gt;\n        &lt;script src=\"js/main.js\"&gt;&lt;/script&gt;\n\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n&lt;!--===============================================================================================--&gt;\n    &lt;link rel=\"icon\" type=\"image/png\" href=\"images/icons/favicon.ico\"/&gt;\n&lt;!--===============================================================================================--&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"vendor/bootstrap/css/bootstrap.min.css\"&gt;\n&lt;!--===============================================================================================--&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"fonts/font-awesome-4.7.0/css/font-awesome.min.css\"&gt;\n&lt;!--===============================================================================================--&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"vendor/animate/animate.css\"&gt;\n&lt;!--===============================================================================================--&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"vendor/select2/select2.min.css\"&gt;\n&lt;!--===============================================================================================--&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"vendor/perfect-scrollbar/perfect-scrollbar.css\"&gt;\n&lt;!--===============================================================================================--&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"css/util.css\"&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"css/main.css\"&gt;\n&lt;!--===============================================================================================--&gt;\n    &lt;link href=\"//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css\" rel=\"stylesheet\"&gt;\n&lt;!--===============================================================================================--&gt;\n\n&lt;!-- Latest compiled and minified CSS --&gt;\n&lt;link rel=\"stylesheet\" href=\"//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.12.1/bootstrap-table.min.css\"&gt;\n\n&lt;!-- Latest compiled and minified JavaScript --&gt;\n&lt;script src=\"//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.12.1/bootstrap-table.min.js\"&gt;&lt;/script&gt;\n\n&lt;!-- Latest compiled and minified Locales --&gt;\n&lt;script src=\"//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.12.1/locale/bootstrap-table-zh-CN.min.js\"&gt;&lt;/script&gt;\n\n\n&lt;/head&gt;\n&lt;body&gt;\n\n    &lt;div class=\"limiter\"&gt;\n        &lt;div class=\"container-table100\"&gt;\n            &lt;div class=\"wrap-table100\"&gt;\n                &lt;div class=\"table100\"&gt;\n                    &lt;div class=\"col col-xs-6 text-right\"&gt;\n                        &lt;button class=\"button-create\"&gt;\n                            &lt;span&gt;New Card +&lt;/span&gt;\n                        &lt;/button&gt;\n          &lt;/div&gt;\n                    &lt;table id=\"cardTable\"&gt;\n                        &lt;thead&gt;\n                            &lt;tr class=\"table100-head\"&gt;\n                                &lt;th class=\"column1\"&gt;Business Name&lt;/th&gt;\n                                &lt;th class=\"column2\"&gt;Card Offer&lt;/th&gt;\n                                &lt;th class=\"column3\"&gt;Active&lt;/th&gt;\n                            &lt;/tr&gt;\n                        &lt;/thead&gt;\n\n                    &lt;/table&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n&lt;script language=\"javascript\"&gt;\n\n\nself.cardsTable = $('#cardTable').bootstrapTable(\n{\n    \"columnDefs\": [\n        {\"className\": \"dt-center\", \"targets\": \"4\"}\n    ],\n    \"autoWidth\": false,\n    ajax: {\n        \"url\": \"http://MY.IP.AD.DRESS/cards\",\n        \"cache\": true\n    },\n    columns: [\n        { data: null, 'orderable': false,\n                    \"render\": function (data, type, full, meta) {\n                        var cards = 'card';\n                        return cards['businessName'];\n\n            }\n        },\n        { data: null, 'orderable': false,\n                    \"render\": function (data, type, full, meta) {\n                        var cards = 'card';\n                        return cards['businessName'];\n\n            }\n        },\n        { data: null, 'orderable': false,\n                    \"render\": function (data, type, full, meta) {\n                        var cards = 'card';\n                        return cards['businessName'];\n\n            }\n        }\n    ],\n    \"order\": [[ 2, 'desc' ]]\n});\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Just so you guys understand a little better. This is how the JSON object gets returned: -</p>\n\n<pre><code>{\n    \"data\": {\n        \"card\": [\n            {\n                \"_id\": \u201c179\u201d,\n                \"businessName\": \u201cBusiness 1\u201d\n    },\n{\n                \"_id\": \u201c180\u201d,\n                \"businessName\": \"Business 2\u201d\n    },\n{\n                \"_id\": \u201c181\u201d,\n                \"businessName\": \"Business 3\u201d\n    }]\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "html", "function", "email", "google-apps-script"], "answers": [{"comments": [{"owner": {"reputation": 482, "user_id": 2754244, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/j0Zgu.jpg?s=128&g=1", "display_name": "rearThing", "link": "https://stackoverflow.com/users/2754244/rearthing"}, "edited": false, "score": 0, "creation_date": 1534383176, "post_id": 51868257, "comment_id": 90688795, "body": "Thanks Ruben, I was afraid this would be the case. Although the textfield and buttons do appear in the email, the function does not pass the parameter. Gotta figure out something else."}], "tags": [], "owner": {"reputation": 23873, "user_id": 1595451, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/08TCi.jpg?s=128&g=1", "display_name": "Rub&#233;n", "link": "https://stackoverflow.com/users/1595451/rub%c3%a9n"}, "is_accepted": true, "score": 1, "last_activity_date": 1534381149, "last_edit_date": 1534381149, "creation_date": 1534380773, "answer_id": 51868257, "question_id": 51867552, "link": "https://stackoverflow.com/questions/51867552/calling-function-inside-an-onclick-using-apps-script/51868257#51868257", "title": "Calling function inside an onclick using Apps Script", "body": "<p>AFAIK JavaScript is not allowed on HTML content for email messages by modern email clients / services as it represent a security risk.</p>\n\n<p>Related</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/q/3054315/1595451\">Is JavaScript supported in an email message?</a></li>\n<li><a href=\"https://stackoverflow.com/q/2520300/1595451\">How to embed functionality into HTML email?</a></li>\n</ul>\n"}], "owner": {"reputation": 482, "user_id": 2754244, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/j0Zgu.jpg?s=128&g=1", "display_name": "rearThing", "link": "https://stackoverflow.com/users/2754244/rearthing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "accepted_answer_id": 51868257, "answer_count": 1, "score": 0, "last_activity_date": 1534381149, "creation_date": 1534373973, "last_edit_date": 1534380654, "question_id": 51867552, "link": "https://stackoverflow.com/questions/51867552/calling-function-inside-an-onclick-using-apps-script", "title": "Calling function inside an onclick using Apps Script", "body": "<p>I suspect there is some sanitation process in the apps script server that prevents the onclick command to pass a value to the function. Is there a work around this?\nHere is what I've got:</p>\n\n<pre><code>    function func() {\n\n  var template = HtmlService.createHtmlOutputFromFile('buttons');\n  var content = (template.getContent());\n  Logger.log(content)\n  MailApp.sendEmail({\n    to: 'ggg@gmail.com',\n    subject: 'subject',\n    htmlBody: content\n\n  });\n}\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n  &lt;head&gt;\r\n    &lt;base target=\"_top\"&gt;\r\n  &lt;/head&gt;\r\n  &lt;body&gt;\r\n    Answer: &lt;input type=\"text\" id=\"myText\" value=\"Try one button below\"&gt;\r\n\r\n&lt;p&gt;Try one of the answers below&lt;/p&gt;\r\n\r\n&lt;button value='ttt' onclick=\"f1(this)\"&gt;Try it&lt;/button&gt;\r\n&lt;button value='ggg' onclick=\"f1(this)\"&gt;Try it&lt;/button&gt;\r\n&lt;button value='hhh' onclick=\"f1(this)\"&gt;Try it&lt;/button&gt;\r\n&lt;button value='eee' onclick=\"f1(this)\"&gt;Try it&lt;/button&gt;\r\n\r\n&lt;script&gt;\r\n\r\nfunction f1(obj){  \r\n    if (obj.value == 'ttt'){\r\n    document.getElementById(\"myText\").value = 'Correct!';\r\n    }\r\n    else{\r\n    document.getElementById(\"myText\").value = 'Wrong answer..';\r\n    }\r\n}\r\n\r\n&lt;/script&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "arrays", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 1, "last_activity_date": 1534375708, "creation_date": 1534375708, "answer_id": 51867744, "question_id": 51867548, "link": "https://stackoverflow.com/questions/51867548/how-to-use-while-loop-on-a-condition-for-nested-array-of-array-objects/51867744#51867744", "title": "How to use While Loop on a condition for nested array of array objects?", "body": "<p>Remember, you have an array of arrays.  When you call <code>forEach</code> on the outer array, you get an inner array of products from a single shop.  Then you have to iterate over the inner array somehow.  I'd suggest using <code>forEach</code> rather than <code>while</code>.  The following is working for me in a few simple tests:</p>\n\n<pre><code>export class CartComponent {\n\n  someMethod() { \n    let packages: Package[] = [];\n    let weight = 0;\n    let finishPackage = () =&gt; {\n      packages.push({ weight: weight });\n      weight = 0;\n    };\n\n    products.forEach(sameShopProducts =&gt;\n      {\n        sameShopProducts.forEach(prod =&gt; {\n          if (weight + prod.Variant.weight &gt; 30) {\n            finishPackage();\n          }\n          weight += prod.Variant.weight;\n        });\n        // Different shops cannot share a package.\n        finishPackage();\n      });\n    return packages;\n  }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 909, "user_id": 10200536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e3889c1bb4f8aaf2943912d3282ef1?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/10200536/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 51867744, "answer_count": 1, "score": 0, "last_activity_date": 1534376319, "creation_date": 1534373950, "last_edit_date": 1534376319, "question_id": 51867548, "link": "https://stackoverflow.com/questions/51867548/how-to-use-while-loop-on-a-condition-for-nested-array-of-array-objects", "title": "How to use While Loop on a condition for nested array of array objects?", "body": "<p>I have the following nested array <code>products</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>products: [\r\n    [{\r\n        Variant: {\r\n            variant_id: '1',\r\n            weight: 15\r\n        },\r\n        Product: {\r\n            _id: '1',\r\n            _shop_id: '1'\r\n        },\r\n        quantity: 5,\r\n        totalPrice: 600\r\n    }],\r\n    [{\r\n            Variant: {\r\n                variant_id: '2',\r\n                weight: 20\r\n            },\r\n            Product: {\r\n                _id: '2',\r\n                _shop_id: '2'\r\n            },\r\n            quantity: 4,\r\n            totalPrice: 500\r\n        },\r\n        {\r\n            Variant: {\r\n                variant_id: '5',\r\n                weight: 25\r\n            },\r\n            Product: {\r\n                _id: '3',\r\n                _shop_id: '2'\r\n            },\r\n            quantity: 3,\r\n            totalPrice: 400\r\n        }\r\n    ]\r\n]</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I have a <code>packages</code> array that needs to be filled with <code>package</code> objects. Rule: A package needs to contain products of the same <code>_shop_id</code> (got it) and the sum of products must not surpass the 30kg limit weight. In another words, i need to add a new package if the sum of <code>Variant.weight</code> surpass 30. For example, <code>products</code> array needs three packages:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Package 1 - weight: 15kg - shopId: 1\r\n{Variant: {variant_id: '1', weight: 15}, Product: {_id: '1', _shop_id:'1'}, quantity: 5, totalPrice: 600}\r\n\r\n// Package 2 - weight: 20kg - shopId: 2\r\n{Variant: {variant_id: '2', weight: 20}, Product: {_id: '2', _shop_id:'2'}, quantity: 4, totalPrice: 500}\r\n\r\n// Package 3 - Needs new package because it would be 45kg - weight: 25kg - shopId: 2\r\n{Variant: {variant_id: '5', weight: 25}, Product: {_id: '3', _shop_id:'2'}, quantity: 3, totalPrice: 400}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I just need to know how many packages would be necessary to pack all of the products. The <code>package</code> object will be added after a package is full like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export interface Package {\r\n    weight: number;\r\n}\r\n\r\nexport class CartComponent {\r\n\r\n  someMethod() { \r\n    let packages: Package[] = [];\r\n    let weight = 0;\r\n\r\n    products.forEach(prod =&gt;\r\n      {\r\n          while(weight &lt; 30) {\r\n            weight += prod.Variant.weight;\r\n            let package = { weight: weight };\r\n          }\r\n          packages.push(package);\r\n      }\r\n    });\r\n  }\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>What Am I doing wrong? I need to correctly loop the <code>products</code> array to know how many packages will be used.</p>\n"}, {"tags": ["javascript", "html", "extjs"], "comments": [{"owner": {"reputation": 1353, "user_id": 7377521, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MD744.png?s=128&g=1", "display_name": "Rohit Sharma", "link": "https://stackoverflow.com/users/7377521/rohit-sharma"}, "edited": false, "score": 2, "creation_date": 1534397623, "post_id": 51867499, "comment_id": 90691797, "body": "Have you tried by setting <code>focusable: false</code> config to the dataview ?"}, {"owner": {"reputation": 702, "user_id": 1541964, "user_type": "registered", "accept_rate": 37, "profile_image": "https://graph.facebook.com/100005137569756/picture?type=large", "display_name": "oneCoderToRuleThemAll", "link": "https://stackoverflow.com/users/1541964/onecodertorulethemall"}, "reply_to_user": {"reputation": 1353, "user_id": 7377521, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MD744.png?s=128&g=1", "display_name": "Rohit Sharma", "link": "https://stackoverflow.com/users/7377521/rohit-sharma"}, "edited": false, "score": 0, "creation_date": 1534461225, "post_id": 51867499, "comment_id": 90724345, "body": "@RohitSharma yep, this did the trick!"}], "owner": {"reputation": 702, "user_id": 1541964, "user_type": "registered", "accept_rate": 37, "profile_image": "https://graph.facebook.com/100005137569756/picture?type=large", "display_name": "oneCoderToRuleThemAll", "link": "https://stackoverflow.com/users/1541964/onecodertorulethemall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1534373503, "creation_date": 1534373503, "question_id": 51867499, "link": "https://stackoverflow.com/questions/51867499/extjs-js-dataview-automatically-scrolling-up-in-ie", "title": "ExtJS/JS : DataView automatically scrolling up in IE?", "body": "<p>In Internet Explorer(tested with IE11), the clicking on a dataview item will cause that item to automatically scroll to the top. To re-create the issue, paste the following code into ExtJS documentation <a href=\"https://docs.sencha.com/extjs/6.0.2/classic/Ext.view.View.html\" rel=\"nofollow noreferrer\">fiddle</a>, run the fiddle, scroll all the way to bottom, and then click on one of the images. This will cause the dataview to scroll up automatically.</p>\n\n<pre><code>Ext.define('Image', {\n    extend: 'Ext.data.Model',\n    fields: [\n        { name:'src', type:'string' },\n        { name:'caption', type:'string' }\n    ]\n});\n\nExt.create('Ext.data.Store', {\n    id:'imagesStore',\n    model: 'Image',\n    data: [\n        { src:'http://www.sencha.com/img/20110215-feat-drawing.png', caption:'Drawing &amp; Charts' },\n        { src:'http://www.sencha.com/img/20110215-feat-data.png', caption:'Advanced Data' },\n        { src:'http://www.sencha.com/img/20110215-feat-html5.png', caption:'Overhauled Theme' },\n        { src:'http://www.sencha.com/img/20110215-feat-perf.png', caption:'Performance Tuned' }\n    ]\n});\n\nvar imageTpl = new Ext.XTemplate(\n    '&lt;div class=\"abc\"&gt;',\n        '&lt;tpl for=\".\"&gt;',\n            '&lt;div style=\"margin-bottom: 10px;\" class=\"thumb-wrap\"&gt;',\n              '&lt;img src=\"{src}\" /&gt;',\n              '&lt;br/&gt;&lt;span&gt;{caption}&lt;/span&gt;',\n            '&lt;/div&gt;',\n        '&lt;/tpl&gt;',\n    '&lt;/div&gt;'\n);\n\nExt.create('Ext.view.View', {\n    store: Ext.data.StoreManager.lookup('imagesStore'),\n    tpl: imageTpl,\n    itemSelector: 'div.abc',\n    emptyText: 'No images available',\n    renderTo: Ext.getBody()\n});\n</code></pre>\n\n<p>Is there any way I can stop this automatic scrolling ? This only happens in IE(the scroll position remains unaffected in FF and Chrome).</p>\n"}, {"tags": ["javascript", "reactjs", "mobx"], "answers": [{"tags": [], "owner": {"reputation": 3947, "user_id": 741657, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZrMdb.jpg?s=128&g=1", "display_name": "Kev", "link": "https://stackoverflow.com/users/741657/kev"}, "is_accepted": false, "score": 1, "last_activity_date": 1534584042, "creation_date": 1534584042, "answer_id": 51907124, "question_id": 51867493, "link": "https://stackoverflow.com/questions/51867493/toast-notification-in-mobx-store-bad-practice/51907124#51907124", "title": "Toast Notification in Mobx Store? Bad Practice?", "body": "<p>Think of it this way:</p>\n\n<p>If you didn't have a UI, would you still need to handle an upload failure? I'll assume that for your use case, the answer is <strong><code>yes</code></strong>.</p>\n\n<p>This means that you need a mechanism in your app, at the \"use case\" level, to indicate a failure. It could be a mobx observable or just returning a rejected promise from your file uploader, ...</p>\n\n<p>Now, how you present a failure warning to the user is a separate concern (eg: through UI toast). Plus you might want to do other things when such issue happens, like logging it, etc.</p>\n\n<p>So, one way you could solve this and keep separation of concerns intact, is to have a business model like <code>FileUploader</code> which sole purpose is to upload files,  completely unaware of UI, notifications, etc. But, it should return in one way or another the success or failure of its operations.</p>\n\n<p>Then you can handle this failure to show a toast separately, with a mobx store, a UI notification / toast service, etc...</p>\n"}], "owner": {"reputation": 74696, "user_id": 130015, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/13871016e7ff62f95d47c0eeb9194674?s=128&d=identicon&r=PG", "display_name": "chobo2", "link": "https://stackoverflow.com/users/130015/chobo2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 410, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1534584042, "creation_date": 1534373472, "last_edit_date": 1534382144, "question_id": 51867493, "link": "https://stackoverflow.com/questions/51867493/toast-notification-in-mobx-store-bad-practice", "title": "Toast Notification in Mobx Store? Bad Practice?", "body": "<p>I have an input that is a file upload, now when the <code>onChange</code> event happens the file size is extracted out and the size is checked.</p>\n\n<p>Is it bad practice if the size is larger then I can accept it would show a toast error.</p>\n\n<p>I am generating the toast error in the store, I am not sure if I should change it so the toast error is generated in the react component.</p>\n\n<pre><code>&lt;input\n  className=\"file-input\"\n  type=\"file\"\n  name=\"resume\"\n  accept=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"\n  onChange={event =&gt; myStore.fileUpload(event)}\n/&gt;\n\n@action\nfileUpload(event) {\n  // some other code, like extracting out the data if all checks pass.\n  toast.error(`Files cannot exceed ${sizeLimitMb} MB`, { autoClose: 60000 });\n}\n</code></pre>\n"}, {"tags": ["javascript", "html", "nginx"], "comments": [{"owner": {"reputation": 819, "user_id": 7724629, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nmsUql75Bek/AAAAAAAAAAI/AAAAAAAAAB4/c3OnbluaoYw/photo.jpg?sz=128", "display_name": "Tim", "link": "https://stackoverflow.com/users/7724629/tim"}, "edited": false, "score": 1, "creation_date": 1534384674, "post_id": 51867469, "comment_id": 90689072, "body": "Try using rewrites. <a href=\"https://www.nginx.com/resources/wiki/start/topics/tutorials/config_pitfalls/#using-the-try-files-uri-directive-with-alias\" rel=\"nofollow noreferrer\">nginx.com/resources/wiki/start/topics/tutorials/config_pitfa&zwnj;&#8203;lls/&hellip;</a>. There is a bug with try_files and alias in nginx."}, {"owner": {"reputation": 34412, "user_id": 4862445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ppXKM.jpg?s=128&g=1", "display_name": "Richard Smith", "link": "https://stackoverflow.com/users/4862445/richard-smith"}, "edited": false, "score": 1, "creation_date": 1534408274, "post_id": 51867469, "comment_id": 90696935, "body": "<code>nginx</code> is not receiving the relative paths. The browser makes them absolute before sending them to <code>nginx</code>. If the URI for your events page is <code>&#47;events&#47;</code> then the relative URIs should work, <b>unless</b> you also have a <code>&lt;base&gt;</code> tag in your <code>index.html</code> file."}, {"owner": {"reputation": 81, "user_id": 5255485, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-NCyimtS4r00/AAAAAAAAAAI/AAAAAAAAIzQ/yCYOzASR4Fw/photo.jpg?sz=128", "display_name": "Ameer Akashe", "link": "https://stackoverflow.com/users/5255485/ameer-akashe"}, "edited": false, "score": 0, "creation_date": 1534435219, "post_id": 51867469, "comment_id": 90713702, "body": "I&#39;m using a baseurl of &quot;/&quot;, I tried &quot;event/&quot; but that didn&#39;t work either."}], "owner": {"reputation": 81, "user_id": 5255485, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-NCyimtS4r00/AAAAAAAAAAI/AAAAAAAAIzQ/yCYOzASR4Fw/photo.jpg?sz=128", "display_name": "Ameer Akashe", "link": "https://stackoverflow.com/users/5255485/ameer-akashe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1534382599, "creation_date": 1534373282, "last_edit_date": 1534382599, "question_id": 51867469, "link": "https://stackoverflow.com/questions/51867469/404-errors-when-serving-multiple-static-sites-using-nginx", "title": "404 errors when serving multiple static sites using NGINX", "body": "<p>I have a project with the following folder structure</p>\n\n<ul>\n<li><p>public</p>\n\n<ul>\n<li>js</li>\n<li>assets</li>\n<li>index.html</li>\n</ul></li>\n<li><p>event-public</p>\n\n<ul>\n<li>js</li>\n<li>assets</li>\n<li>index.html</li>\n</ul></li>\n<li><p>admin-public</p>\n\n<ul>\n<li>assets</li>\n<li>index.html</li>\n</ul></li>\n</ul>\n\n<p>Each folder has its own set of unique assets (css, images, etc) and their own home page. I've set up my NGINX server to serve all of them from the same address (and proxying to a node server, which works fine).</p>\n\n<pre><code> server {    \n    location /api/ {\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection \"upgrade\";\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header Host $host;\n        proxy_http_version 1.1;\n        proxy_pass http://127.0.0.1:8000/;\n    }\n    location / {\n        root /home/ubuntu/project/public;\n        autoindex on;\n        try_files $uri $uri/ =404;\n\n        # any additional configuration for non-static content\n    }\n    location /event {\n        alias /home/ubuntu/project/event-public;\n        autoindex on;\n        try_files $uri $uri/ =404;\n\n        # any additional configuration for non-static content\n    }    \n    location /admin {\n        alias /home/ubuntu/project/admin-public;\n        try_files $uri $uri/ =404;\n\n        # any additional configuration for non-static content\n    }\n}\n</code></pre>\n\n<p>the public (home website) with the <code>location /</code> is served just fine, and the admin site works too since the most of the JS is in the same directory as the index folder. However, when I try to go to the events page the index.html is able to load just fine, but everything contained in the assets returns a 404. Looking at the console, I see the scripts embedded in index.html are trying to request the server root/whatever (ex. <a href=\"https://localhost/js/angular.min.js\" rel=\"nofollow noreferrer\">https://localhost/js/angular.min.js</a>). my script tags in the event index.html look like this:</p>\n\n<pre><code>&lt;script src=\"js/angular.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>I understand that I could just change this to event/js/angular.min.js, but is there a way to configure NGINX to recognize these paths relative to their location in the folder? I run this on my localhost and it works fine, but for deploying on the server I would rather not have to change these script tags every time.</p>\n"}, {"tags": ["javascript", "reactjs", "state"], "comments": [{"owner": {"reputation": 4750, "user_id": 1207539, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f1bcd61398d4d57c02d3dee4ed032909?s=128&d=identicon&r=PG", "display_name": "mkaatman", "link": "https://stackoverflow.com/users/1207539/mkaatman"}, "edited": false, "score": 0, "creation_date": 1534373371, "post_id": 51867455, "comment_id": 90686800, "body": "Grab the react dev tools for chrome and monitor the state for file_refs. Or stick a console.log(&quot;+++&quot;, file_refs); as the first line inside render and see if the results are what you expect. Also, on your setState, call getFileData as the 2nd parameter as it depends on state.file_refs being populated."}, {"owner": {"reputation": 372, "user_id": 8697758, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j8esu.jpg?s=128&g=1", "display_name": "acd37", "link": "https://stackoverflow.com/users/8697758/acd37"}, "reply_to_user": {"reputation": 4750, "user_id": 1207539, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f1bcd61398d4d57c02d3dee4ed032909?s=128&d=identicon&r=PG", "display_name": "mkaatman", "link": "https://stackoverflow.com/users/1207539/mkaatman"}, "edited": false, "score": 0, "creation_date": 1534373500, "post_id": 51867455, "comment_id": 90686827, "body": "Using react dev tools, I can see that the client_files array does not populate on first render. Refreshing the page, though, does populate the array."}, {"owner": {"reputation": 4750, "user_id": 1207539, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f1bcd61398d4d57c02d3dee4ed032909?s=128&d=identicon&r=PG", "display_name": "mkaatman", "link": "https://stackoverflow.com/users/1207539/mkaatman"}, "edited": false, "score": 0, "creation_date": 1534373686, "post_id": 51867455, "comment_id": 90686864, "body": "Are you sure you want to setState each time inside the loop or do you want to setState once after <code>fileData.push(res.data.response);</code> runs inside the loop?"}, {"owner": {"reputation": 372, "user_id": 8697758, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j8esu.jpg?s=128&g=1", "display_name": "acd37", "link": "https://stackoverflow.com/users/8697758/acd37"}, "reply_to_user": {"reputation": 4750, "user_id": 1207539, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f1bcd61398d4d57c02d3dee4ed032909?s=128&d=identicon&r=PG", "display_name": "mkaatman", "link": "https://stackoverflow.com/users/1207539/mkaatman"}, "edited": false, "score": 0, "creation_date": 1534374355, "post_id": 51867455, "comment_id": 90687009, "body": "setting state outside of the forloop doesn&#39;t work because <code>fileData</code> isn&#39;t accessible (a <code>console.log</code> shows an empty <code>[]</code>)"}], "answers": [{"comments": [{"owner": {"reputation": 372, "user_id": 8697758, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j8esu.jpg?s=128&g=1", "display_name": "acd37", "link": "https://stackoverflow.com/users/8697758/acd37"}, "edited": false, "score": 0, "creation_date": 1534377838, "post_id": 51867656, "comment_id": 90687733, "body": "Updated the code as far as I understood your comment... but still no dice. Did I misunderstand something? Edited the original post."}, {"owner": {"reputation": 6492, "user_id": 2212678, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/9msIx.png?s=128&g=1", "display_name": "inostia", "link": "https://stackoverflow.com/users/2212678/inostia"}, "reply_to_user": {"reputation": 372, "user_id": 8697758, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j8esu.jpg?s=128&g=1", "display_name": "acd37", "link": "https://stackoverflow.com/users/8697758/acd37"}, "edited": false, "score": 0, "creation_date": 1534378800, "post_id": 51867656, "comment_id": 90687918, "body": "I&#39;m not sure why you moved the <code>setState</code> into the for loop. See my updated answer."}, {"owner": {"reputation": 372, "user_id": 8697758, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j8esu.jpg?s=128&g=1", "display_name": "acd37", "link": "https://stackoverflow.com/users/8697758/acd37"}, "edited": false, "score": 0, "creation_date": 1534379988, "post_id": 51867656, "comment_id": 90688196, "body": "Yeah, I tried this too. Still doesn&#39;t render the files on first load."}, {"owner": {"reputation": 372, "user_id": 8697758, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j8esu.jpg?s=128&g=1", "display_name": "acd37", "link": "https://stackoverflow.com/users/8697758/acd37"}, "edited": false, "score": 0, "creation_date": 1534380214, "post_id": 51867656, "comment_id": 90688240, "body": "The issue seems to be the <code>this.props.currentUser.user_id</code> ... when <code>getClientFiles()</code> runs, the id is undefined."}], "tags": [], "owner": {"reputation": 6492, "user_id": 2212678, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/9msIx.png?s=128&g=1", "display_name": "inostia", "link": "https://stackoverflow.com/users/2212678/inostia"}, "is_accepted": false, "score": 3, "last_activity_date": 1534378549, "last_edit_date": 1534378549, "creation_date": 1534374825, "answer_id": 51867656, "question_id": 51867455, "link": "https://stackoverflow.com/questions/51867455/react-component-not-re-rendering-on-setstate/51867656#51867656", "title": "React component not re-rendering on setState({})", "body": "<p>Your problem is likely on these lines:</p>\n\n<pre><code>this.setState({\n    file_refs: file_refs\n})\nthis.getFileData();\n</code></pre>\n\n<p><code>setState</code> is asynchronous, so you will not have guaranteed access to <code>this.state</code> immediately after invoking that method. You need to move the call to <code>getFileData</code> into the second parameter of <code>setState</code>, that will ensure that it will be invoked after state is actually set (i.e. you can use <code>this.state</code>):</p>\n\n<pre><code>getClientFiles() {\n    let id = this.props.currentUser.user_id;\n    let file_refs = [];\n\n    axios.get(`/users/get-client-files/${id}`)\n        .then(res =&gt; {\n            console.log(res.data.response);\n            let response = res.data.response;\n\n            for (let i = 0; i &lt; response.length; i++) {\n                file_refs.push(response[i].file_id);\n            }\n            this.setState({\n                file_refs\n            }, () =&gt; {\n                this.getFileData();\n            });\n        });\n}\n</code></pre>\n\n<p>See more here: <a href=\"https://reactjs.org/docs/react-component.html#setstate\" rel=\"nofollow noreferrer\">https://reactjs.org/docs/react-component.html#setstate</a></p>\n"}, {"tags": [], "owner": {"reputation": 372, "user_id": 8697758, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j8esu.jpg?s=128&g=1", "display_name": "acd37", "link": "https://stackoverflow.com/users/8697758/acd37"}, "is_accepted": true, "score": 0, "last_activity_date": 1534381717, "creation_date": 1534381717, "answer_id": 51868335, "question_id": 51867455, "link": "https://stackoverflow.com/questions/51867455/react-component-not-re-rendering-on-setstate/51868335#51868335", "title": "React component not re-rendering on setState({})", "body": "<p>I managed to solve this by doing the following:</p>\n\n<p>Setting state with <code>returned_data: false</code>, and then triggering the <code>getClientFiles()</code> function prior to returning the app. The function then sets state <code>returned_data: true</code>.</p>\n\n<pre><code>render() {\n\n      if (this.state.returned_data === false) {\n        this.getClientFiles();\n      }\n\n      return( &lt;App /&gt; );\n    }\n</code></pre>\n"}], "owner": {"reputation": 372, "user_id": 8697758, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j8esu.jpg?s=128&g=1", "display_name": "acd37", "link": "https://stackoverflow.com/users/8697758/acd37"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 51868335, "answer_count": 2, "score": 0, "last_activity_date": 1534381717, "creation_date": 1534373212, "last_edit_date": 1534377802, "question_id": 51867455, "link": "https://stackoverflow.com/questions/51867455/react-component-not-re-rendering-on-setstate", "title": "React component not re-rendering on setState({})", "body": "<p>I've read through a bunch of other posts, and I can't figure out why my files don't load.</p>\n\n<p>I'm using <code>setState</code> not <code>state =</code> and so on. But anyway, here's the code, if anybody has any ideas, I'd be very happy!</p>\n\n<p>Essentially, the component mounts, then runs <code>getClientFiles()</code>, which pulls an array of references. Then this function executes <code>getFileData()</code> which takes each of those reference IDs, and pulls back the file information, which gets stored in <code>this.state.client_files</code>, and then mapped over in the JSX. </p>\n\n<p>The <code>currentUser.first_name</code> populates just fine. But my understanding is that it's running the <code>getClientFiles()</code> asynchronously, and therefore doesn't have the <code>file_refs</code> on first run. My assumption was, though, by using <code>setState({ file_refs: file_refs})</code> is that the component should re-render... but it doesn't. </p>\n\n<p>Note: If I refresh the page, the files load. So it is only on initial login that they don't populate.</p>\n\n<p>I'm fairly new to React... so please be kind! If you notice other issues in the code here, it'd be great if you pointed them out.</p>\n\n<pre><code>class Client extends Component {\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      header: \"PartnerPortal\",\n      client_files: [],\n      file_refs: [],\n      user_id: \"\"\n    };\n\n  }\n\n    componentDidMount() {\n        this.getClientFiles();\n    };\n\n    getClientFiles() {\n      let id = this.props.currentUser.user_id;\n      let file_refs = [];\n\n      axios.get(`/users/get-client-files/${id}`)\n        .then ( res =&gt; {\n          console.log(res.data.response);\n          let response = res.data.response;\n\n          for (let i = 0; i &lt; response.length; i++) {\n            file_refs.push(response[i].file_id);\n          };\n          this.setState({\n            file_refs: file_refs\n          })\n          this.getFileData();\n        })\n    }\n\n\n    getFileData() {\n\n      let fileRefs = this.state.file_refs;\n      let fileData = [];\n\n      for (let i = 0; i &lt; fileRefs.length; i++) {\n        axios.get(\"/files/get-file/\" + fileRefs[i])\n          .then( res =&gt; {\n            fileData.push(res.data.response);\n            this.setState({\n              client_files: fileData,\n              data_returned: true\n            })\n          })\n          .catch( err =&gt; console.log(err.response.data))\n      }\n    }\n\n  render() {\n\n      return(\n      &lt;Fragment&gt;\n         &lt;div className=\"container\"&gt;\n          &lt;div className=\"row\"&gt;\n            &lt;div className=\"col-lg-12\"&gt;\n                &lt;h4&gt;\n                  &lt;em&gt;Welcome, {this.props.currentUser.first_name} {this.props.currentUser.last_name}&lt;/em&gt;\n                &lt;/h4&gt;\n                &lt;h5&gt;\n                  &lt;em&gt;{ this.props.currentUser.client_name}&lt;/em&gt;\n                &lt;/h5&gt;\n\n                &lt;div className=\"fileBox\"&gt;\n\n                  {this.state.client_files.map(( file, i ) =&gt; (\n                    &lt;a key={i} style={styles.linkCard} href={file.file_url} target=\"_blank\"&gt;\n                    &lt;div key={i} className=\"clientCard\"&gt;\n\n                      { file.file_type === \"PDF\" &amp;&amp;\n                        &lt;span&gt;&lt;i className=\"fas fa-file-pdf pdf\"&gt;&lt;/i&gt;&lt;/span&gt;\n                      }\n                      { file.file_type === \"DOC\" &amp;&amp;\n                        &lt;span&gt;&lt;i className=\"fas fa-file-alt doc\"&gt;&lt;/i&gt;&lt;/span&gt;\n                      }\n                      { file.file_type === \"Directory\" &amp;&amp;\n                        &lt;span&gt;&lt;i className=\"fas fa-folder-open dir\"&gt;&lt;/i&gt;&lt;/span&gt;\n                      }\n                      { file.file_type === \"Presentation\" &amp;&amp;\n                        &lt;span&gt;&lt;i className=\"fas fa-file-powerpoint ppt\"&gt;&lt;/i&gt;&lt;/span&gt;\n                      }\n                      &lt;p&gt;{file.file_name}&lt;/p&gt;\n\n                    &lt;/div&gt;\n                    &lt;/a&gt;\n                    ))}\n                &lt;/div&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n      &lt;/Fragment&gt;\n    );\n  }\n}\n</code></pre>\n\n<p>Update:\nI have updated the code to the follow based on suggestions in the answers.</p>\n\n<pre><code>componentDidMount() {\n        this.getClientFiles();\n    };\n\n    getClientFiles() {\n      let id = this.props.currentUser.user_id;\n      let file_refs = [];\n\n      axios.get(`/users/get-client-files/${id}`)\n        .then ( res =&gt; {\n          console.log(res.data.response);\n          let response = res.data.response;\n\n          for (let i = 0; i &lt; response.length; i++) {\n            file_refs.push(response[i].file_id);\n            this.setState({\n              file_refs\n            }, () =&gt; {\n            this.getFileData();\n          })\n        }\n      });\n    }\n</code></pre>\n\n<p>Unfortunately, still not getting the files until after a page refresh :(</p>\n"}, {"tags": ["javascript", "html5-audio", "event-listener"], "comments": [{"owner": {"reputation": 5947, "user_id": 2924577, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c499286ca761a5b21f3744ca229dffb0?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil", "link": "https://stackoverflow.com/users/2924577/nikhil"}, "edited": false, "score": 0, "creation_date": 1534378257, "post_id": 51867444, "comment_id": 90687800, "body": "I have found the cause behind the problem. See my edited answer."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10194611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CdS8t.png?s=128&g=1", "display_name": "cMikolai", "link": "https://stackoverflow.com/users/10194611/cmikolai"}, "edited": false, "score": 0, "creation_date": 1534380459, "post_id": 51867541, "comment_id": 90688280, "body": "Thanks! Seems like I&#39;ve been completely blind, solved now :)"}], "tags": [], "owner": {"reputation": 5947, "user_id": 2924577, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c499286ca761a5b21f3744ca229dffb0?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil", "link": "https://stackoverflow.com/users/2924577/nikhil"}, "is_accepted": true, "score": 0, "last_activity_date": 1534429055, "last_edit_date": 1534429055, "creation_date": 1534373838, "answer_id": 51867541, "question_id": 51867444, "link": "https://stackoverflow.com/questions/51867444/how-can-i-play-different-sound-files-on-click/51867541#51867541", "title": "How can I play different sound files on click?", "body": "<p>I downloaded your code and played around. The code for playing audio is in the function <code>startGame()</code> in your <strong>app.js</strong> file.</p>\n\n<p><strong>app.js:</strong></p>\n\n<pre><code>audio = []; // local variable declaration\n\n...\n... \n\n// some code\n\nfunction startGame() {\n\n  // some code\n\n  for (var i = 0; i &lt; clickedCard.length; i++) {\n    clickedCard[i].addEventListener(\"click\", function( event ) {\n    this.classList.add(\"open\", \"show\");\n\n    openCards.push(this.getAttribute(\"class\"));\n\n    audio.load();\n    audio.play(); // this is the line playing the audio\n\n    matchCards();\n    starRating();\n\n    }, false);\n  }\n}\n</code></pre>\n\n<p>As you can see, you are not playing audio from the selected card but from the local variable <code>audio</code>.</p>\n\n<p>So, you have to identify the selected card and play its respective audio instead of playing audio from the local variable.</p>\n"}], "owner": {"reputation": 3, "user_id": 10194611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CdS8t.png?s=128&g=1", "display_name": "cMikolai", "link": "https://stackoverflow.com/users/10194611/cmikolai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 51867541, "answer_count": 1, "score": 0, "last_activity_date": 1534429055, "creation_date": 1534373111, "question_id": 51867444, "link": "https://stackoverflow.com/questions/51867444/how-can-i-play-different-sound-files-on-click", "title": "How can I play different sound files on click?", "body": "<p>I built a simple matching game and added audio files for several cards like this:</p>\n\n<pre><code>cardList.map((cardItem) =&gt; {\nvar card = document.createElement(\"li\");\ncard.classList.add(\"card\");\n\nvar img = document.createElement(\"img\");\nimg.src = [cardItem.img]\n\n\n  card.appendChild(img);\n\n//audio starting here\n\naudio = new Audio(cardItem.sound);\ncard.appendChild(audio);\n\naudio.id += ' ' + cardItem.card;\n\ndeck.append(card);\n\ncard.className += ' ' + cardItem.name;\n});\n}\n</code></pre>\n\n<p>And in my startGame() function I added an eventListener to add audio.play(); on click.</p>\n\n<p>So now, when I open dev tools, I can see audio elements for my cards but when I try and click on them, I'm only ever getting one audio file for all cards and not the audios I actually added to that specific element.</p>\n\n<p>That's my GitHub file: <a href=\"https://github.com/cMikolai/guitar-colour-system-game/blob/master/js/app.js\" rel=\"nofollow noreferrer\">https://github.com/cMikolai/guitar-colour-system-game/blob/master/js/app.js</a></p>\n\n<p>Could anybody try and help me figure out how I could play the sound I added to the card I am clicking on?</p>\n"}, {"tags": ["javascript", "html", "reactjs", "jsx"], "answers": [{"tags": [], "owner": {"reputation": 3069, "user_id": 1265528, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ce6dbaecbb9ba6b561571e51e2b4a0a?s=128&d=identicon&r=PG", "display_name": "James", "link": "https://stackoverflow.com/users/1265528/james"}, "is_accepted": true, "score": 1, "last_activity_date": 1534373251, "creation_date": 1534373251, "answer_id": 51867464, "question_id": 51867438, "link": "https://stackoverflow.com/questions/51867438/how-do-you-unescape-in-jsx-template-literal/51867464#51867464", "title": "How do you unescape &#39;\\&#39; in JSX template literal?", "body": "<p>You just add another backslash <code>\\\\</code></p>\n"}], "owner": {"reputation": 167, "user_id": 9162902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c8aaa30006c49f5d45d55d48d190cc9?s=128&d=identicon&r=PG&f=1", "display_name": "Legend123", "link": "https://stackoverflow.com/users/9162902/legend123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 51867464, "answer_count": 1, "score": 1, "last_activity_date": 1534373251, "creation_date": 1534373063, "question_id": 51867438, "link": "https://stackoverflow.com/questions/51867438/how-do-you-unescape-in-jsx-template-literal", "title": "How do you unescape &#39;\\&#39; in JSX template literal?", "body": "<pre><code>&lt;pre&gt;{`\n   I want to be formatted with\n \\\n   in the text\n`}&lt;/pre&gt;\n</code></pre>\n\n<p>How do I get '\\' to appear in the text?</p>\n"}, {"tags": ["javascript", "json", "web", "linkedin", "linkedin-api"], "answers": [{"tags": [], "owner": {"reputation": 1237, "user_id": 2397717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DtsVA.jpg?s=128&g=1", "display_name": "Sookie Singh", "link": "https://stackoverflow.com/users/2397717/sookie-singh"}, "is_accepted": true, "score": 0, "last_activity_date": 1534373408, "creation_date": 1534373408, "answer_id": 51867487, "question_id": 51867420, "link": "https://stackoverflow.com/questions/51867420/how-can-i-get-the-url-of-a-profile-on-linkedin-using-the-linkedin-api/51867487#51867487", "title": "How can I get the url of a profile on linkedin using the linkedin API", "body": "<p>There is a field: <code>vanityName</code>.</p>\n\n<p>The vanity name of the member. Vanity name is represented as a string is used for the public profile URL: www.linkedin.com/in/{vanityName}. <a href=\"https://developer.linkedin.com/docs/ref/v2/profile/basic-profile\" rel=\"nofollow noreferrer\">Basic Profile Fields</a></p>\n"}], "owner": {"reputation": 27, "user_id": 7942725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74411a21c59b370dde60481248653e2c?s=128&d=identicon&r=PG&f=1", "display_name": "Omar Elhosseni", "link": "https://stackoverflow.com/users/7942725/omar-elhosseni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 550, "favorite_count": 0, "accepted_answer_id": 51867487, "answer_count": 1, "score": 0, "last_activity_date": 1534373408, "creation_date": 1534372886, "question_id": 51867420, "link": "https://stackoverflow.com/questions/51867420/how-can-i-get-the-url-of-a-profile-on-linkedin-using-the-linkedin-api", "title": "How can I get the url of a profile on linkedin using the linkedin API", "body": "<p>So far, I can get the first and last name, email, positions, etc. but I can't find the command to get the url to the linkedin profile. I'm trying to send linkedin profile urls through my web app. Here is what I have for getting user data </p>\n\n<pre><code> function grabUserData() {\n    let profile = {};\n  IN.API.Profile('me').fields([\n    'first-name', 'last-name', // Add these to get the name\n    'industry', 'date-of-birth', 'educations:(id,school-name)',\n    'positions', // Add this one to get the job history\n    'picture-url',//gets image\n    'email-address'\n  ]).result(function(profiles) {\n    console.log(profiles.values[0]);//gives me profile info\n    profile = profiles.values[0];\n    updateWithInfo(profile);//just displays it on my site\n  });\n}\n</code></pre>\n"}, {"tags": ["javascript", "loops", "timer", "countdown", "infinite"], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 10231573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec77fe53f21a2c5f894c4961754e40da?s=128&d=identicon&r=PG&f=1", "display_name": "Blutengel", "link": "https://stackoverflow.com/users/10231573/blutengel"}, "edited": false, "score": 0, "creation_date": 1534374165, "post_id": 51867460, "comment_id": 90686970, "body": "So which way is the best to do that and keep performance at best?"}, {"owner": {"reputation": 66, "user_id": 9785633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6069ec3cd80eaa87752bfb233c8337cd?s=128&d=identicon&r=PG&f=1", "display_name": "trimkas", "link": "https://stackoverflow.com/users/9785633/trimkas"}, "reply_to_user": {"reputation": 9, "user_id": 10231573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec77fe53f21a2c5f894c4961754e40da?s=128&d=identicon&r=PG&f=1", "display_name": "Blutengel", "link": "https://stackoverflow.com/users/10231573/blutengel"}, "edited": false, "score": 0, "creation_date": 1534374289, "post_id": 51867460, "comment_id": 90686996, "body": "Look into the localstorage object, do a search for it."}, {"owner": {"reputation": 9, "user_id": 10231573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec77fe53f21a2c5f894c4961754e40da?s=128&d=identicon&r=PG&f=1", "display_name": "Blutengel", "link": "https://stackoverflow.com/users/10231573/blutengel"}, "edited": false, "score": 0, "creation_date": 1534374345, "post_id": 51867460, "comment_id": 90687007, "body": "I mean, in the code itself (I&#39;m pretty much learning JS atm), where would be the best to add a localstorage and how at his max potential?"}, {"owner": {"reputation": 66, "user_id": 9785633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6069ec3cd80eaa87752bfb233c8337cd?s=128&d=identicon&r=PG&f=1", "display_name": "trimkas", "link": "https://stackoverflow.com/users/9785633/trimkas"}, "reply_to_user": {"reputation": 9, "user_id": 10231573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec77fe53f21a2c5f894c4961754e40da?s=128&d=identicon&r=PG&f=1", "display_name": "Blutengel", "link": "https://stackoverflow.com/users/10231573/blutengel"}, "edited": false, "score": 0, "creation_date": 1534374490, "post_id": 51867460, "comment_id": 90687028, "body": "After you read the basic concept of how that works (mdn web docs are amazingly well written) you will have to store your time (remaining time or elapsed) into a variable periodically. This you can do with a set interval, or detect on page close."}, {"owner": {"reputation": 9, "user_id": 10231573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec77fe53f21a2c5f894c4961754e40da?s=128&d=identicon&r=PG&f=1", "display_name": "Blutengel", "link": "https://stackoverflow.com/users/10231573/blutengel"}, "edited": false, "score": 0, "creation_date": 1534374580, "post_id": 51867460, "comment_id": 90687043, "body": "I&#39;m really interested in using a setInterval tho! I&#39;m just not sure how to implement it correctly yet :/"}], "tags": [], "owner": {"reputation": 66, "user_id": 9785633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6069ec3cd80eaa87752bfb233c8337cd?s=128&d=identicon&r=PG&f=1", "display_name": "trimkas", "link": "https://stackoverflow.com/users/9785633/trimkas"}, "is_accepted": false, "score": 0, "last_activity_date": 1534373238, "creation_date": 1534373238, "answer_id": 51867460, "question_id": 51867418, "link": "https://stackoverflow.com/questions/51867418/how-to-create-a-timer-loop-which-will-work-after-page-refreshing/51867460#51867460", "title": "How to create a timer loop which will work after page refreshing?", "body": "<p>That's just the way this code works, there is nothing wrong with it. Every time you refresh the page, the script gets re-run, and the <code>var timer =  duration, hours, minutes, seconds;</code> is created whenever the page is loaded.</p>\n\n<p>You should look into creating first, and then storing the variable to the user's local storage, and have your program read the info from that variable (or array).</p>\n"}, {"tags": [], "owner": {"reputation": 523, "user_id": 5821253, "user_type": "registered", "accept_rate": 11, "profile_image": "https://lh3.googleusercontent.com/-TYfpgdcN888/AAAAAAAAAAI/AAAAAAAAABk/-a99aPGkay4/photo.jpg?sz=128", "display_name": "Enthusiastic Developer", "link": "https://stackoverflow.com/users/5821253/enthusiastic-developer"}, "is_accepted": false, "score": 0, "last_activity_date": 1534373296, "creation_date": 1534373296, "answer_id": 51867473, "question_id": 51867418, "link": "https://stackoverflow.com/questions/51867418/how-to-create-a-timer-loop-which-will-work-after-page-refreshing/51867473#51867473", "title": "How to create a timer loop which will work after page refreshing?", "body": "<p>You need to do some job independently from your web application, with ability to live after page refresh, right?</p>\n\n<p>It's highly likely that <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API\" rel=\"nofollow noreferrer\">ServiceWorkers</a> will be useful for you.</p>\n"}, {"tags": [], "owner": {"reputation": 11719, "user_id": 9801830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NRQca.png?s=128&g=1", "display_name": "Bharata", "link": "https://stackoverflow.com/users/9801830/bharata"}, "is_accepted": false, "score": 0, "last_activity_date": 1535796942, "creation_date": 1535796942, "answer_id": 52127116, "question_id": 51867418, "link": "https://stackoverflow.com/questions/51867418/how-to-create-a-timer-loop-which-will-work-after-page-refreshing/52127116#52127116", "title": "How to create a timer loop which will work after page refreshing?", "body": "<p>We could \"misuse\" <strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/name\" rel=\"nofollow noreferrer\"><code>window.name</code></a></strong> (see documentation link) for this case like in following example. Or you could use <strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage\" rel=\"nofollow noreferrer\"><code>localStorage</code></a></strong>, but this does not work for local files (<code>file:///...</code>). And because of this <code>window.name</code> is better and shorter too.</p>\n\n<p><strong>Solution</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function startGRBTimer(duration, display)\n{\n    var timer = window.name == '' ? duration : window.name,\n        hours, minutes, seconds;\n\n    setInterval(function()\n    {\n        days = parseInt(timer / (24 * 60 * 60), 10);\n        hours = parseInt(timer % (24 * 60 * 60) / (60 * 60), 10);\n        minutes = parseInt(timer % (60 * 60) / 60, 10);\n        seconds = parseInt(timer % 60, 10);\n        hours = hours &lt; 10 ? \"0\" + hours : hours;\n        minutes = minutes &lt; 10 ? \"0\" + minutes : minutes;\n        seconds = seconds &lt; 10 ? \"0\" + seconds : seconds;\n        display.textContent = days + \"d\" + \" \" + hours + \"h \" + minutes + \"m \" + seconds + \"s\";\n        --timer;\n\n        if(timer &lt;= 0)\n        {\n            timer = duration;\n        }\n\n        window.name = timer;\n    }, 1000);\n}\n\nvar display = document.querySelector(\"#grb\");\nstartGRBTimer(60, display);\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div id=\"grb\"&gt;&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 10231573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec77fe53f21a2c5f894c4961754e40da?s=128&d=identicon&r=PG&f=1", "display_name": "Blutengel", "link": "https://stackoverflow.com/users/10231573/blutengel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 345, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1535797785, "creation_date": 1534372884, "last_edit_date": 1535797785, "question_id": 51867418, "link": "https://stackoverflow.com/questions/51867418/how-to-create-a-timer-loop-which-will-work-after-page-refreshing", "title": "How to create a timer loop which will work after page refreshing?", "body": "<p>I have created my own countdown and it seems that I'm missing a part, whenever I refresh the page it also refresh the timer itself. I am looking to maximize the performance with that script so how can I make it looping infinitely?</p>\n\n<p><strong>Here is the code:</strong></p>\n\n<pre><code>function startGRBTimer(duration, display) {\n  var timer = duration,\n    hours, minutes, seconds;\n  setInterval(function() {\n    days = parseInt(timer / (24 * 60 * 60), 10);\n    hours = parseInt(timer % (24 * 60 * 60) / (60 * 60), 10);\n    minutes = parseInt(timer % (60 * 60) / 60, 10);\n    seconds = parseInt(timer % 60, 10);\n    hours = hours &lt; 10 ? \"0\" + hours : hours;\n    minutes = minutes &lt; 10 ? \"0\" + minutes : minutes;\n    seconds = seconds &lt; 10 ? \"0\" + seconds : seconds;\n    display.textContent = days + \"d\" + \" \" + hours + \"h \" + minutes + \"m \" + seconds + \"s\";\n    --timer;\n    if (timer &lt;= 0) {\n      timer = duration;\n    }\n  }, 1000);\n}\n\nvar display = document.querySelector(\"#grb\");\nstartGRBTimer(60, display);\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "sorting", "angular6"], "answers": [{"tags": [], "owner": {"reputation": 1889, "user_id": 7872063, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wDCavaPv1_I/AAAAAAAAAAI/AAAAAAAAAJg/lh0EvSkqEM8/photo.jpg?sz=128", "display_name": "Ben Steward", "link": "https://stackoverflow.com/users/7872063/ben-steward"}, "is_accepted": false, "score": 3, "last_activity_date": 1534376972, "last_edit_date": 1534376972, "creation_date": 1534372990, "answer_id": 51867432, "question_id": 51867404, "link": "https://stackoverflow.com/questions/51867404/angular-6-sort-array-of-object-by-date/51867432#51867432", "title": "Angular 6 Sort Array of object by Date", "body": "<p>From looking through the docs, there doesn't seem to be any built-in array sorting. However, you can do this in your template:</p>\n\n<pre><code>&lt;app-item *ngFor=\"let item of someArray.sort(sortFunc)\"&gt;&lt;/app-item&gt;\n</code></pre>\n\n<p>And then in your component.ts file, define the function, because you cannot define functions in your template:</p>\n\n<pre><code>sortFunc (a, b) {\n  return a.CREATE_TS - b.CREATE_TS\n}\n</code></pre>\n\n<p>Edit: Simon K pointed out that the string format allows for straight comparison without coercing to Date and then to number. My original equation (for scenarios where your date string isn't that convenient):</p>\n\n<pre><code>return new Date(a.CREATE_TS).getTime() - new Date(b.CREATE_TS).getTime()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2552, "user_id": 5487673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tDPsf.jpg?s=128&g=1", "display_name": "Simon K", "link": "https://stackoverflow.com/users/5487673/simon-k"}, "edited": false, "score": 3, "creation_date": 1534374451, "post_id": 51867578, "comment_id": 90687021, "body": "Given the format that the timestamps are in, you don&#39;t actually need to convert them into a <code>Date</code> object. A simple string comparison (<code>val1.CREATE_TS &gt; val2.CREATE_TS</code>) would suffice."}, {"owner": {"reputation": 381, "user_id": 5970111, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1168403696526809/picture?type=large", "display_name": "Huy Le", "link": "https://stackoverflow.com/users/5970111/huy-le"}, "reply_to_user": {"reputation": 2552, "user_id": 5487673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tDPsf.jpg?s=128&g=1", "display_name": "Simon K", "link": "https://stackoverflow.com/users/5487673/simon-k"}, "edited": false, "score": 1, "creation_date": 1534388056, "post_id": 51867578, "comment_id": 90689655, "body": "@SimonK It compiled with an error because, in the sort comparison, it can not return a boolean."}, {"owner": {"reputation": 2552, "user_id": 5487673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tDPsf.jpg?s=128&g=1", "display_name": "Simon K", "link": "https://stackoverflow.com/users/5487673/simon-k"}, "edited": false, "score": 1, "creation_date": 1534388291, "post_id": 51867578, "comment_id": 90689693, "body": "Right, I forgot it was supposed to be a number. Go with <code>val1.CREATE_TS &gt; val2.CREATE_TS ? 1 : -1</code>"}, {"owner": {"reputation": 749, "user_id": 6740056, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/cLh7E.png?s=128&g=1", "display_name": "Unknown_Coder", "link": "https://stackoverflow.com/users/6740056/unknown-coder"}, "edited": false, "score": 0, "creation_date": 1539865420, "post_id": 51867578, "comment_id": 92661267, "body": "What if date is null or empty ? @Tiisetso"}], "tags": [], "owner": {"reputation": 1672, "user_id": 2177361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fVePi.jpg?s=128&g=1", "display_name": "Tiisetso Tjabane", "link": "https://stackoverflow.com/users/2177361/tiisetso-tjabane"}, "is_accepted": false, "score": 15, "last_activity_date": 1534374229, "creation_date": 1534374229, "answer_id": 51867578, "question_id": 51867404, "link": "https://stackoverflow.com/questions/51867404/angular-6-sort-array-of-object-by-date/51867578#51867578", "title": "Angular 6 Sort Array of object by Date", "body": "<p>you can use the  <code>sort</code> function for arrays, it takes in compare function. Parse the Date string into a date object and sort by it.</p>\n\n<p>read more about <a href=\"https://www.w3schools.com/jsref/jsref_sort.asp\" rel=\"noreferrer\">here</a></p>\n\n<pre><code>var myArr = [\n\n\n{\n    CREATE_TS: \"2018-08-15 17:17:30.0\",\n    Key1: \"Val1\",\n    Key2: \"Val2\",\n  },\n  {\n    CREATE_TS: \"2018-08-15 17:25:30.0\",\n    Key1: \"Val1\",\n    Key2: \"Val2\",\n  },\n  {\n    CREATE_TS: \"2018-08-15 17:28:30.0\",\n    Key1: \"Val1\",\n    Key2: \"Val2\",\n  }\n]\nmyArr.sort((val)=&gt; {return new Date(val.CREATE_TS)})\n</code></pre>\n\n<p>Ascending</p>\n\n<pre><code>myArr.sort((val1, val2)=&gt; {return new Date(val1.CREATE_TS) - new \nDate(val2.CREATE_TS)})\n</code></pre>\n\n<p>Descending</p>\n\n<pre><code>myArr.sort((val1, val2)=&gt; {return new Date(val2.CREATE_TS) - new \nDate(val1.CREATE_TS)})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1857, "user_id": 6758795, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pgWd8.jpg?s=128&g=1", "display_name": "derelict", "link": "https://stackoverflow.com/users/6758795/derelict"}, "is_accepted": true, "score": 14, "last_activity_date": 1534375266, "creation_date": 1534375266, "answer_id": 51867692, "question_id": 51867404, "link": "https://stackoverflow.com/questions/51867404/angular-6-sort-array-of-object-by-date/51867692#51867692", "title": "Angular 6 Sort Array of object by Date", "body": "<p>in addition to cryptic's answer, you will likely want to wrap the sorted values in an accessor for including in the template, adding a getter in your typescript class:</p>\n\n<pre><code>public get sortedArray(): YourItemType[] {\n    return this.myArr.sort(...);\n}\n</code></pre>\n\n<p>and in the template:</p>\n\n<pre><code>&lt;app-item *ngFor=\"let item of sortedArray\"&gt;&lt;/app-item&gt;\n</code></pre>\n\n<p>alternately, you can sort the array as you get it into your component class and store the sorted version there, however the accessor pattern can be quite useful for dynamic sorting.</p>\n"}, {"tags": [], "owner": {"reputation": 7635, "user_id": 7584231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JKqAC.jpg?s=128&g=1", "display_name": "Krishna Rathore", "link": "https://stackoverflow.com/users/7584231/krishna-rathore"}, "is_accepted": false, "score": 23, "last_activity_date": 1534401599, "creation_date": 1534401599, "answer_id": 51870996, "question_id": 51867404, "link": "https://stackoverflow.com/questions/51867404/angular-6-sort-array-of-object-by-date/51870996#51870996", "title": "Angular 6 Sort Array of object by Date", "body": "<p>You can use <code>Array.sort</code> for sort data.</p>\n\n<p>I have created a demo on  <strong><a href=\"https://stackblitz.com/edit/angular-6-sort-array-of-object-by-date?file=src%2Fapp%2Fdynamicform%2Fdynamicform.component.ts\" rel=\"noreferrer\">Stackblitz</a></strong>. I hope this will help/guide to you/others.</p>\n\n<blockquote>\n  <p>component.ts</p>\n</blockquote>\n\n<pre><code>  data = [\n    {\n      CREATE_TS: \"2018-08-15 17:17:30.0\",\n      Key1: \"Val1\",\n      Key2: \"Val2\",\n    },\n    {\n      CREATE_TS: \"2018-08-15 17:25:30.0\",\n      Key1: \"Val1\",\n      Key2: \"Val2\",\n    },\n    {\n      CREATE_TS: \"2018-08-15 17:28:30.0\",\n      Key1: \"Val1\",\n      Key2: \"Val2\",\n    }\n  ]\n\n  get sortData() {\n    return this.data.sort((a, b) =&gt; {\n      return &lt;any&gt;new Date(b.CREATE_TS) - &lt;any&gt;new Date(a.CREATE_TS);\n    });\n  }\n</code></pre>\n\n<blockquote>\n  <p>component.html</p>\n</blockquote>\n\n<pre><code>&lt;div *ngFor=\"let item of sortData\"&gt;\n  {{item.Key1}} -- {{item.CREATE_TS}} \n&lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 904, "user_id": 4841788, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/NGWfh.jpg?s=128&g=1", "display_name": "Sarjerao Ghadage", "link": "https://stackoverflow.com/users/4841788/sarjerao-ghadage"}, "is_accepted": false, "score": 6, "last_activity_date": 1551347329, "creation_date": 1551347329, "answer_id": 54922695, "question_id": 51867404, "link": "https://stackoverflow.com/questions/51867404/angular-6-sort-array-of-object-by-date/54922695#54922695", "title": "Angular 6 Sort Array of object by Date", "body": "<p>Using this method in Typescript, you can easily sort date values in whatever order you\u2019d like. You can also sort any type of other data types, like number or string, by simply removing the new Date() and getTime methods.</p>\n\n<pre><code>this.data.sort((a, b) =&gt; new Date(b.CREATE_TS).getTime() - new Date(a.CREATE_TS).getTime());\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2740, "user_id": 5155835, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/3d51608584fba7f32d1dc74d120b89ef?s=128&d=identicon&r=PG&f=1", "display_name": "user5155835", "link": "https://stackoverflow.com/users/5155835/user5155835"}, "edited": false, "score": 0, "creation_date": 1585329423, "post_id": 56615784, "comment_id": 107730625, "body": "In both cases, it should be <code>this.data.sort((a, b)</code>"}], "tags": [], "owner": {"reputation": 133, "user_id": 11625637, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JWthbuS1QQg/AAAAAAAAAAI/AAAAAAAAABs/H7zG_OPJHns/photo.jpg?sz=128", "display_name": "Pruthvi Raj", "link": "https://stackoverflow.com/users/11625637/pruthvi-raj"}, "is_accepted": false, "score": 10, "last_activity_date": 1560654565, "creation_date": 1560654565, "answer_id": 56615784, "question_id": 51867404, "link": "https://stackoverflow.com/questions/51867404/angular-6-sort-array-of-object-by-date/56615784#56615784", "title": "Angular 6 Sort Array of object by Date", "body": "<p>For recent first:</p>\n\n<pre><code>this.data.sort((a, b) =&gt; new Date(b.date1).getTime() - new Date(a.date1).getTime());\n</code></pre>\n\n<p>For OlderFirst: </p>\n\n<pre><code>this.data.sort((b, a) =&gt; new Date(b.date1).getTime() - new Date(a.date1).getTime());\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 10864549, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JhgVq_23yE4/AAAAAAAAAAI/AAAAAAAAAEI/e1RDFMGuZHE/photo.jpg?sz=128", "display_name": "Lucian Popa", "link": "https://stackoverflow.com/users/10864549/lucian-popa"}, "is_accepted": false, "score": 0, "last_activity_date": 1585758806, "last_edit_date": 1585758806, "creation_date": 1585758270, "answer_id": 60975645, "question_id": 51867404, "link": "https://stackoverflow.com/questions/51867404/angular-6-sort-array-of-object-by-date/60975645#60975645", "title": "Angular 6 Sort Array of object by Date", "body": "<p>You should first parse the dates to miliseconds, then perform sorting, in order to avoid the \"the left-hand side of an arithmetic operation must be of type 'any', 'number', 'bigint' or an enum type\" typescript error when you return new Date(a.CREATE_TS) - new Date(b.CREATE_TS):</p>\n\n<pre><code>someArray.sort((a: any, b: any) =&gt; { return Date.parse(a.CREATE_TS) - Date.parse(b.CREATE_TS) });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 233, "user_id": 7765768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GFH2s.jpg?s=128&g=1", "display_name": "Suraj Parise", "link": "https://stackoverflow.com/users/7765768/suraj-parise"}, "is_accepted": false, "score": 2, "last_activity_date": 1596565118, "creation_date": 1596565118, "answer_id": 63252881, "question_id": 51867404, "link": "https://stackoverflow.com/questions/51867404/angular-6-sort-array-of-object-by-date/63252881#63252881", "title": "Angular 6 Sort Array of object by Date", "body": "<p>With moment.js you can use</p>\n<pre><code>const newArr = myArr.sort((a, b) =&gt; moment(b.date).unix() - moment(a.date).unix());\n</code></pre>\n"}], "owner": {"reputation": 381, "user_id": 5970111, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1168403696526809/picture?type=large", "display_name": "Huy Le", "link": "https://stackoverflow.com/users/5970111/huy-le"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81425, "favorite_count": 1, "accepted_answer_id": 51867692, "answer_count": 8, "score": 19, "last_activity_date": 1596565118, "creation_date": 1534372781, "question_id": 51867404, "link": "https://stackoverflow.com/questions/51867404/angular-6-sort-array-of-object-by-date", "title": "Angular 6 Sort Array of object by Date", "body": "<p>I try to sort the array object by date for my Angular 6 application. The data has string format. I wonder if there is an existing module to perform sort in Angular or we have to build sort function it in Typescript.</p>\n\n<p>Angular Template</p>\n\n<pre><code>&lt;app-item *ngFor=\"let item of someArray\"&gt;&lt;/app-item&gt;\n</code></pre>\n\n<p>The Array</p>\n\n<pre><code>[\n  {\n    CREATE_TS: \"2018-08-15 17:17:30.0\",\n    Key1: \"Val1\",\n    Key2: \"Val2\",\n  },\n  {\n    CREATE_TS: \"2018-08-15 17:25:30.0\",\n    Key1: \"Val1\",\n    Key2: \"Val2\",\n  },\n  {\n    CREATE_TS: \"2018-08-15 17:28:30.0\",\n    Key1: \"Val1\",\n    Key2: \"Val2\",\n  }\n]\n</code></pre>\n"}, {"tags": ["javascript", "cors", "fetch", "webstorm", "fetch-api"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 1, "creation_date": 1534373021, "post_id": 51867383, "comment_id": 90686710, "body": "You recorded the response to the &quot;inflatableoffice&quot; request. The error you&#39;re getting is about the server at <code>localhost:3000</code>."}, {"owner": {"reputation": 61150, "user_id": 441757, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/921df025d1d7c99fad4553ac83bd8bdf?s=128&d=identicon&r=PG", "display_name": "sideshowbarker", "link": "https://stackoverflow.com/users/441757/sideshowbarker"}, "edited": false, "score": 1, "creation_date": 1534386301, "post_id": 51867383, "comment_id": 90689331, "body": "See the <i>How to use a CORS proxy to get around \u201cNo Access-Control-Allow-Origin header\u201d problems</i> section of the answer at <a href=\"https://stackoverflow.com/questions/43871637/no-access-control-allow-origin-header-is-present-on-the-requested-resource-whe/43881141#43881141\" title=\"no access control allow origin header is present on the requested resource whe\">stackoverflow.com/questions/43871637/&hellip;</a>"}, {"owner": {"reputation": 327, "user_id": 9706165, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HI0lMh5s5fs/AAAAAAAAAAI/AAAAAAAAAAA/s44zneXuX6s/photo.jpg?sz=128", "display_name": "Blake Bell", "link": "https://stackoverflow.com/users/9706165/blake-bell"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1534444915, "post_id": 51867383, "comment_id": 90718610, "body": "@Pointy The problem is the request to inflatable office is being made from localhost:3000, which the browser prevents. The recording shows that the header Access-Control-Allow-Origin is set to * which should make it work. Also, I&#39;ve tried the heroku and the cors-everywhere proxies but another issue arose with a separate API I&#39;m using and it won&#39;t work with that."}], "owner": {"reputation": 327, "user_id": 9706165, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HI0lMh5s5fs/AAAAAAAAAAI/AAAAAAAAAAA/s44zneXuX6s/photo.jpg?sz=128", "display_name": "Blake Bell", "link": "https://stackoverflow.com/users/9706165/blake-bell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3708, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1534372663, "creation_date": 1534372663, "question_id": 51867383, "link": "https://stackoverflow.com/questions/51867383/getting-a-cors-error-on-a-http-localhost3000-react-app-even-when-the-correct", "title": "Getting a CORS error on a http://localhost:3000 React app even when the correct headers are present? (Video Recording of Error)", "body": "<p>I have been playing with React using WebStorm and when I try and fetch from an API I keep getting the error below:</p>\n\n<p><code>No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'http://localhost:3000' is therefore not allowed access. If an opaque response serves your needs, set the request's mode to 'no-cors' to fetch the resource with CORS disabled.</code></p>\n\n<p>To fix this, I originally installed the JetBrains Debug IDE Chrome Extension which provides an option to force CORS. When this is set to * or <a href=\"http://localhost:3000\" rel=\"nofollow noreferrer\">http://localhost:3000</a> I continue to get the CORS error (sporadically, occasionally it worked.) I've also tried installing the Chrome Extension Allow-Access-Control-Origin: * which fixed the error for a while, but when I restarted my computer I started getting the error again. </p>\n\n<p>At this point, I started trying every combination possible with both plugins. I disabled one and tried the other, I switched the headers to use <a href=\"http://localhost:3000\" rel=\"nofollow noreferrer\">http://localhost:3000</a> and then http://<em>/</em>, etc. Again, it worked at times but later I would start getting the error again.</p>\n\n<p>And just when I decided to record the error and post here, I realized that the response to the request being made shows the headers are present! Here is a recording of the request and its headers:</p>\n\n<p><a href=\"http://recordit.co/QPd1rhiKrr\" rel=\"nofollow noreferrer\">http://recordit.co/QPd1rhiKrr</a></p>\n\n<p>I can't figure this out and it only happens on localhost, when I load the URL in Chrome it works fine.</p>\n\n<p>Anyone mind pointing me in the right direction? I'm sure it's related to my lack of knowledge of CORS</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 1237, "user_id": 2397717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DtsVA.jpg?s=128&g=1", "display_name": "Sookie Singh", "link": "https://stackoverflow.com/users/2397717/sookie-singh"}, "edited": false, "score": 0, "creation_date": 1534372940, "post_id": 51867378, "comment_id": 90686693, "body": "Use <code>array.push.apply(object)</code>;"}, {"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 0, "creation_date": 1534373091, "post_id": 51867378, "comment_id": 90686725, "body": "It&#39;s a good idea to post your code in the question body as a runnable snippet. External links can change over time."}, {"owner": {"reputation": 2591, "user_id": 4021059, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/dd30784b88dafdf2595541ab0e257acb?s=128&d=identicon&r=PG&f=1", "display_name": "user1234", "link": "https://stackoverflow.com/users/4021059/user1234"}, "reply_to_user": {"reputation": 1237, "user_id": 2397717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DtsVA.jpg?s=128&g=1", "display_name": "Sookie Singh", "link": "https://stackoverflow.com/users/2397717/sookie-singh"}, "edited": false, "score": 0, "creation_date": 1534374727, "post_id": 51867378, "comment_id": 90687068, "body": "@SookieSingh: nothing go inserted in any of the objects when I tried .apply()"}], "owner": {"reputation": 2591, "user_id": 4021059, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/dd30784b88dafdf2595541ab0e257acb?s=128&d=identicon&r=PG&f=1", "display_name": "user1234", "link": "https://stackoverflow.com/users/4021059/user1234"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1534373773, "creation_date": 1534372628, "last_edit_date": 1534373773, "question_id": 51867378, "link": "https://stackoverflow.com/questions/51867378/how-to-insert-object-of-arrays-into-an-object-javascript", "title": "How to insert object of arrays into an object- javascript", "body": "<p>This is the data I'm trying to create for my POST method:</p>\n\n<pre><code>{\n    \"main\": {\n        \"b\": [{\n            \"field\": \"ss\",\n            \"value\": \"30\",\n            \"operator\": \"LT\"\n        }],\n        \"a\": [{\n                \"field\": \"tttt\",\n                \"value\": \"s\",\n                \"operator\": \"IN\"\n            }\n        ]\n    }\n}\n</code></pre>\n\n<p>The below fiddle has the code that I use to get this JSON structure.</p>\n\n<p><a href=\"http://jsfiddle.net/dz4cq0sj/14/\" rel=\"nofollow noreferrer\">http://jsfiddle.net/dz4cq0sj/14/</a></p>\n\n<p>While looping through an array, it takes only the last object that was created and does not push any previous objects, like in this case I have:</p>\n\n<p><code>obj.criteria[a,b] //where</code>a<code>and</code>b<code>are objects</code>, so it takes only the <code>b</code> objects details. </p>\n\n<pre><code> {\n        \"main\": {\n            \"b\": [{\n                \"field\": \"ss\",\n                \"value\": \"30\",\n                \"operator\": \"LT\"\n            }],\n            \"a\": []\n        }\n    }\n</code></pre>\n\n<p>Any idea how to fix this?\nThanks!</p>\n"}, {"tags": ["javascript", "selenium", "selenium-webdriver", "webdriver-io"], "comments": [{"owner": {"reputation": 11632, "user_id": 8582353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa2e22a564c1d0e098316210a2ec4fb1?s=128&d=identicon&r=PG&f=1", "display_name": "yong", "link": "https://stackoverflow.com/users/8582353/yong"}, "edited": false, "score": 0, "creation_date": 1534390096, "post_id": 51867371, "comment_id": 90690047, "body": "You need to click something to make the options to display out before you choose any one of them."}, {"owner": {"reputation": 3571, "user_id": 9405154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2b7yZ.jpg?s=128&g=1", "display_name": "Ishita Shah", "link": "https://stackoverflow.com/users/9405154/ishita-shah"}, "edited": false, "score": 0, "creation_date": 1534391689, "post_id": 51867371, "comment_id": 90690322, "body": "@vinee what is your binding language ?"}, {"owner": {"reputation": 391, "user_id": 7261723, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-CDFstnsnOMs/AAAAAAAAAAI/AAAAAAAAAcM/WhICB4D5Z0U/photo.jpg?sz=128", "display_name": "Taran", "link": "https://stackoverflow.com/users/7261723/taran"}, "edited": false, "score": 0, "creation_date": 1534408478, "post_id": 51867371, "comment_id": 90697051, "body": "Provide the code you have used so far that has failed"}, {"owner": {"reputation": 404, "user_id": 1242448, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/54062e519174cefd8163e3a79875c53c?s=128&d=identicon&r=PG", "display_name": "Vinee", "link": "https://stackoverflow.com/users/1242448/vinee"}, "reply_to_user": {"reputation": 3571, "user_id": 9405154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2b7yZ.jpg?s=128&g=1", "display_name": "Ishita Shah", "link": "https://stackoverflow.com/users/9405154/ishita-shah"}, "edited": false, "score": 0, "creation_date": 1534409108, "post_id": 51867371, "comment_id": 90697421, "body": "@IshitaShah its Javascript"}], "answers": [{"comments": [{"owner": {"reputation": 404, "user_id": 1242448, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/54062e519174cefd8163e3a79875c53c?s=128&d=identicon&r=PG", "display_name": "Vinee", "link": "https://stackoverflow.com/users/1242448/vinee"}, "edited": false, "score": 0, "creation_date": 1534410218, "post_id": 51872885, "comment_id": 90698126, "body": "Thanks @Taran. My failed code is exactly the same code as above and also instead of WaitForVisible, I tried browser.pause as well. But none worked. Its still complaining element not visible."}, {"owner": {"reputation": 391, "user_id": 7261723, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-CDFstnsnOMs/AAAAAAAAAAI/AAAAAAAAAcM/WhICB4D5Z0U/photo.jpg?sz=128", "display_name": "Taran", "link": "https://stackoverflow.com/users/7261723/taran"}, "reply_to_user": {"reputation": 404, "user_id": 1242448, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/54062e519174cefd8163e3a79875c53c?s=128&d=identicon&r=PG", "display_name": "Vinee", "link": "https://stackoverflow.com/users/1242448/vinee"}, "edited": false, "score": 0, "creation_date": 1534410866, "post_id": 51872885, "comment_id": 90698488, "body": "@Vinee these are things you need to list you&#39;ve tried in the question it saves people time from suggesting things you&#39;ve already tried, have you also tried waiting until element is clickable? and waiting until element is enabled?"}, {"owner": {"reputation": 391, "user_id": 7261723, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-CDFstnsnOMs/AAAAAAAAAAI/AAAAAAAAAcM/WhICB4D5Z0U/photo.jpg?sz=128", "display_name": "Taran", "link": "https://stackoverflow.com/users/7261723/taran"}, "reply_to_user": {"reputation": 404, "user_id": 1242448, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/54062e519174cefd8163e3a79875c53c?s=128&d=identicon&r=PG", "display_name": "Vinee", "link": "https://stackoverflow.com/users/1242448/vinee"}, "edited": false, "score": 0, "creation_date": 1534410966, "post_id": 51872885, "comment_id": 90698538, "body": "@Vinee please link your entire code you&#39;ve implemented thats failing, and everything you&#39;ve tried in the question"}, {"owner": {"reputation": 404, "user_id": 1242448, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/54062e519174cefd8163e3a79875c53c?s=128&d=identicon&r=PG", "display_name": "Vinee", "link": "https://stackoverflow.com/users/1242448/vinee"}, "edited": false, "score": 0, "creation_date": 1534425821, "post_id": 51872885, "comment_id": 90707548, "body": "My bad. would definitely include list of items I tried next time when I post a question. my apologies."}], "tags": [], "owner": {"reputation": 391, "user_id": 7261723, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-CDFstnsnOMs/AAAAAAAAAAI/AAAAAAAAAcM/WhICB4D5Z0U/photo.jpg?sz=128", "display_name": "Taran", "link": "https://stackoverflow.com/users/7261723/taran"}, "is_accepted": false, "score": 0, "last_activity_date": 1534408557, "creation_date": 1534408557, "answer_id": 51872885, "question_id": 51867371, "link": "https://stackoverflow.com/questions/51867371/how-to-select-an-element-having-select-option-tags-from-dropdown/51872885#51872885", "title": "How to select an element having SELECT OPTION tags from Dropdown?", "body": "<p>I suggest clicking the Select Item (the input in this case), then implementing a wait (See docs: <a href=\"http://webdriver.io/api/utility/waitForVisible.html\" rel=\"nofollow noreferrer\">http://webdriver.io/api/utility/waitForVisible.html</a>). And then clicking the dropdown item after you have waited for it to be visible on the screen. Like so...</p>\n\n<pre><code>browser.click(selectItem);\nbrowser.waitForVisible(dropdownItem);\nbrowser.click(dropdownItem);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4321, "user_id": 961215, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/W8HF0.jpg?s=128&g=1", "display_name": "Abhishek_Mishra", "link": "https://stackoverflow.com/users/961215/abhishek-mishra"}, "is_accepted": true, "score": 1, "last_activity_date": 1534416988, "creation_date": 1534416988, "answer_id": 51875392, "question_id": 51867371, "link": "https://stackoverflow.com/questions/51867371/how-to-select-an-element-having-select-option-tags-from-dropdown/51875392#51875392", "title": "How to select an element having SELECT OPTION tags from Dropdown?", "body": "<p>Since html shows an input tag. I would suggest to :</p>\n\n<pre><code> 1. type the value in that input box (placeholder=\"gender\")\n 2. wait for options to appear (Label tag)\n 3. click the appeared item.(Appeared label)\n</code></pre>\n\n<p>Also if your scenario fails please provide stack trace for the failure.</p>\n"}], "owner": {"reputation": 404, "user_id": 1242448, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/54062e519174cefd8163e3a79875c53c?s=128&d=identicon&r=PG", "display_name": "Vinee", "link": "https://stackoverflow.com/users/1242448/vinee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 51875392, "answer_count": 2, "score": 0, "last_activity_date": 1537534590, "creation_date": 1534372557, "last_edit_date": 1537534590, "question_id": 51867371, "link": "https://stackoverflow.com/questions/51867371/how-to-select-an-element-having-select-option-tags-from-dropdown", "title": "How to select an element having SELECT OPTION tags from Dropdown?", "body": "<p>I am using WEBDRIVERIO framework. I have a dropdown in this html syntax. I tried to expand it using ID=question-3</p>\n\n<p>After that I tried all the options using SELECT by options, values, text. But as it is obviously not SELECT DROPDOWN, none worked. I tried to click the locator based on the input or label option, but getting \"element not visible\" error message.</p>\n\n<pre><code>&lt;div id=\"question-3\" class=\"question \"&gt;\n    &lt;div class=\"single-dropdown\"&gt;\n        &lt;input type=\"text\" name=\"input-3\" class=\"js-single-selection\" placeholder=\"gender\" data-question-id=\"3\" data-index=\"3\" readonly=\"\" style=\"width: 77px;\"&gt;\n        &lt;div class=\"single-select-container\" style=\"display: none;\"&gt;\n    &lt;div class=\"single-select-item\" data-image=\"\"&gt;\n        &lt;label for=\"option-0-3\" data-open=\"exampleModal1\" class=\"option-0-3-modal\"&gt;man&lt;/label&gt;\n        &lt;input type=\"checkbox\" id=\"option-0-3\" data-answer-type=\"single\" data-question-id=\"3\" value=\"man\" data-index=\"3\"&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"single-select-item checked\" data-image=\"\"&gt;\n        &lt;label for=\"option-1-3\" data-open=\"exampleModal1\" class=\"option-1-3-modal\"&gt;woman&lt;/label&gt;\n        &lt;input type=\"checkbox\" id=\"option-1-3\" data-answer-type=\"single\" data-question-id=\"3\" value=\"woman\" data-index=\"3\"&gt;\n    &lt;/div&gt;  \n&lt;/div&gt;\n    &lt;/div&gt;\n.&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "stripe-payments"], "comments": [{"owner": {"reputation": 1070, "user_id": 5915807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f4095e2e965e552e521bc9d38886d77?s=128&d=identicon&r=PG", "display_name": "korben", "link": "https://stackoverflow.com/users/5915807/korben"}, "edited": false, "score": 0, "creation_date": 1534377114, "post_id": 51867370, "comment_id": 90687589, "body": "Are you certain the invoice items are getting created before you&#39;re attempting to create the invoice?  That&#39;s the only thing that this could be I think.  If you email into <a href=\"https://support.stripe.com/email\" rel=\"nofollow noreferrer\">support.stripe.com/email</a>, their team can go through the logs with you to see if there is some kind of timing problem happening."}, {"owner": {"reputation": 41, "user_id": 6897535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4D9QK.jpg?s=128&g=1", "display_name": "benschinn", "link": "https://stackoverflow.com/users/6897535/benschinn"}, "reply_to_user": {"reputation": 1070, "user_id": 5915807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f4095e2e965e552e521bc9d38886d77?s=128&d=identicon&r=PG", "display_name": "korben", "link": "https://stackoverflow.com/users/5915807/korben"}, "edited": false, "score": 0, "creation_date": 1534392183, "post_id": 51867370, "comment_id": 90690413, "body": "Thanks. I will email stripe. And yes I am certain it gets created, because I get a response with the invoice item objects. Also on the customer page on Stripe Dashboard it show the pending invoice items. It just doesn&#39;t get included in the invoice sometimes..."}], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 6101074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5d222b2d934a38869a5fe5bd592f3f1?s=128&d=identicon&r=PG&f=1", "display_name": "Kimmiies", "link": "https://stackoverflow.com/users/6101074/kimmiies"}, "is_accepted": false, "score": 1, "last_activity_date": 1534454821, "creation_date": 1534454821, "answer_id": 51885559, "question_id": 51867370, "link": "https://stackoverflow.com/questions/51867370/stripe-invoice-items-not-always-being-sent-together-in-one-invoice/51885559#51885559", "title": "Stripe invoice items not always being sent together in one invoice", "body": "<p>I think the expected behaviour is that invoice items are added to the customer's upcoming invoice not the current. </p>\n\n<p>I'm not sure that is the behaviour you're hoping for but to rule things out I would first try to retrieve the customer's upcoming invoice. I tried it with 3 invoice items (1+2+3) and the total amount in the upcoming invoice was correct at 6</p>\n\n<p><a href=\"https://api.stripe.com/v1/invoices/upcoming?customer=cus_DQk9sobcA4UnlQ\" rel=\"nofollow noreferrer\">https://api.stripe.com/v1/invoices/upcoming?customer=cus_DQk9sobcA4UnlQ</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/caArr.png\" rel=\"nofollow noreferrer\">Postman Representation</a></p>\n"}, {"comments": [{"owner": {"reputation": 8698, "user_id": 961810, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh3.googleusercontent.com/-sx37srgARV4/AAAAAAAAAAI/AAAAAAAAAhw/XUlBN6N5Y6E/photo.jpg?sz=128", "display_name": "Brad Peabody", "link": "https://stackoverflow.com/users/961810/brad-peabody"}, "edited": false, "score": 0, "creation_date": 1580496357, "post_id": 51952444, "comment_id": 106129547, "body": "Yes, basic problem is that stripe.invoiceItems.create is an asychronous call and your original code was not waiting for it to complete before calling invoice.create (even though the await makes it looks like was)."}], "tags": [], "owner": {"reputation": 41, "user_id": 6897535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4D9QK.jpg?s=128&g=1", "display_name": "benschinn", "link": "https://stackoverflow.com/users/6897535/benschinn"}, "is_accepted": false, "score": 1, "last_activity_date": 1534866594, "creation_date": 1534866594, "answer_id": 51952444, "question_id": 51867370, "link": "https://stackoverflow.com/questions/51867370/stripe-invoice-items-not-always-being-sent-together-in-one-invoice/51952444#51952444", "title": "Stripe invoice items not always being sent together in one invoice", "body": "<p>I have discovered the issue to be using <code>await</code> with <code>Array.prototype.map</code>. \nIn <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await\" rel=\"nofollow noreferrer\">MDN docs for await</a> it says:</p>\n\n<pre><code>If the value of the expression following \nthe await operator is not a Promise, it's\nconverted to a resolved Promise.\n</code></pre>\n\n<p>The problem was that the value following <code>await</code> was <code>Array.prototype.map</code>, and it is not a promise. This caused the <code>await</code> to resolve prematurely. </p>\n\n<p>I found a solution to this issue <a href=\"https://stackoverflow.com/questions/40140149/use-async-await-with-array-map\">here</a>. Wrapping my map in a <code>Promise.all</code> fixed the issue, like so:</p>\n\n<pre><code>    await Promise.all(\n      req.body.items.map(item =&gt; {\n        return new Promise(function( resolve, reject) {\n          const unitAmount = (item.wholesale_price + (item.shipping_amount/item.quantity) + (item.s_h/item.quantity));\n          stripe.invoiceItems.create({\n            unit_amount: unitAmount,\n            currency: 'usd',\n            customer: stripe_cus_id,\n            description: item.description,\n            quantity: item.quantity\n          }, {\n            idempotency_key: uuidv4()\n          }, function(err, invoiceItem) {\n            if(err) {\n              console.error(err);\n              reject(err);\n            } else {\n              console.log(`CREATED: ${item.description}`);\n              resolve();\n            }\n          });\n        })\n      })\n    );\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 6897535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4D9QK.jpg?s=128&g=1", "display_name": "benschinn", "link": "https://stackoverflow.com/users/6897535/benschinn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1351, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1534866594, "creation_date": 1534372556, "question_id": 51867370, "link": "https://stackoverflow.com/questions/51867370/stripe-invoice-items-not-always-being-sent-together-in-one-invoice", "title": "Stripe invoice items not always being sent together in one invoice", "body": "<p>Sending an invoice with one invoice item works fine, but things get a bit hairy when I try an send an invoice with many invoice items. </p>\n\n<p>At times multiple invoices gets sent correctly, but often one of the invoice items is missing in the invoice, but get's included in the next invoice. Or at times I will get an error message of: <code>Error: Nothing to invoice for customer</code>, even thought I had just ran <code>stripe.invoiceItems.create</code>. Has anyone else ran into this issue? </p>\n\n<p>To create multiple invoice items I have logic like this:</p>\n\n<pre><code>  await req.body.items.map(item =&gt; {\n    const unitAmount = (item.wholesale_price + (item.shipping_amount/item.quantity) + (item.s_h/item.quantity));\n    stripe.invoiceItems.create({\n      unit_amount: unitAmount,\n      currency: 'usd',\n      customer: stripe_cus_id,\n      description: item.description,\n      quantity: item.quantity\n    }, function(err, invoiceItem) {\n      if(err) {\n        console.error(err);\n      } else {\n        console.log(`CREATED: ${item.description}`);\n      }\n    });\n  });\n</code></pre>\n\n<p>Then I send the invoice like so:</p>\n\n<pre><code>const invoice = await stripe.invoices.create({\n  customer: stripe_cus_id,\n  billing: 'send_invoice',\n  days_until_due: 15\n});\n</code></pre>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 1, "creation_date": 1534372272, "post_id": 51867305, "comment_id": 90686543, "body": "If you console log your container you will see that it has two elements in it.  When you perform <code>next()</code> it will get the next element for each element in the result stack of the jQuery object it is executed off of.  That is why it is showing multiple elements."}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 1, "creation_date": 1534372709, "post_id": 51867305, "comment_id": 90686634, "body": "Also as a small side note.  The result of <code>find()</code> is already a jQuery object, so doing <code>$(jQueryObject.find(...))</code> is unnecessary."}], "answers": [{"tags": [], "owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "is_accepted": true, "score": 2, "last_activity_date": 1534372412, "creation_date": 1534372412, "answer_id": 51867351, "question_id": 51867305, "link": "https://stackoverflow.com/questions/51867305/multiple-toggled-boxes-opening-instead-of-1/51867351#51867351", "title": "Multiple toggled boxes opening instead of 1", "body": "<p>Try changing your clicker handler to the following:</p>\n\n<pre><code>button.on('click', function(e){\n  $(e.target).next().fadeToggle();\n});\n</code></pre>\n\n<p>When you click the button you want to trigger the container that is after it.  Right now your container element contains multiple elements, not just the one after the button you clicked.</p>\n"}, {"tags": [], "owner": {"reputation": 15562, "user_id": 155819, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yXygz.jpg?s=128&g=1", "display_name": "Akrion", "link": "https://stackoverflow.com/users/155819/akrion"}, "is_accepted": false, "score": 0, "last_activity_date": 1534375538, "creation_date": 1534375538, "answer_id": 51867724, "question_id": 51867305, "link": "https://stackoverflow.com/questions/51867305/multiple-toggled-boxes-opening-instead-of-1/51867724#51867724", "title": "Multiple toggled boxes opening instead of 1", "body": "<p>Since your <code>button</code> variable selects multiple elements your handler applies and acts on all of them. To fix your main issue you need to use either one of the following:</p>\n\n<pre><code>$(e.target).next().fadeToggle(); // OR\n$(e.target).siblings().fadeToggle(); // Other ways are via .parent().children() etc\n</code></pre>\n\n<p>Now on to the second issue:</p>\n\n<p>You attach a handler on <code>$(document).mouseup(function(event)</code> which causes when the user attempts to click on the background you open the next tooltip and it is an infinite loop (again due to the container selector being an array).</p>\n\n<p>To address this change your <code>mouseup</code> handler to this:</p>\n\n<pre><code>$(document).mouseup(function(event){\n        console.dir(event.target);    \n    if(!container.is(event.target) &amp;&amp; !button.is(event.target)  &amp;&amp; !content.is(event.target) &amp;&amp; container.is(\":visible\")){\n         container.each(function(i, el) {\n                $el = $(el)\n                if($el.is(':visible'))\n                    $el.fadeToggle();\n             })\n    } else{\n      return false;\n    }\n});\n</code></pre>\n\n<p>Unless this is a desired behaviour in which case please let me know :)</p>\n"}, {"tags": [], "owner": {"reputation": 32729, "user_id": 9513184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de818fcfdfb2bbaf9c67cf7f1d611db8?s=128&d=identicon&r=PG&f=1", "display_name": "iota", "link": "https://stackoverflow.com/users/9513184/iota"}, "is_accepted": false, "score": 0, "last_activity_date": 1534381068, "creation_date": 1534381068, "answer_id": 51868288, "question_id": 51867305, "link": "https://stackoverflow.com/questions/51867305/multiple-toggled-boxes-opening-instead-of-1/51868288#51868288", "title": "Multiple toggled boxes opening instead of 1", "body": "<p>The global variable container gets the all of the first immediate siblings of the elements with a class of <code>footnote-button</code>. You want to get the immediate sibling of the element with a class of <code>footnote-button</code> that was clicked on. </p>\n\n<p>Change</p>\n\n<pre><code>button.on('click', function(e){\n  container.fadeToggle();\n});\n</code></pre>\n\n<p>To</p>\n\n<pre><code>button.on('click', function(e){\n  $(this).next().fadeToggle();\n});\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var button = $(\".footnote-button\");\r\nvar container = $(button.next());\r\nvar content = $(button.next().find(\".footnote-content-data\"));\r\nvar readmore = $(button.next().find(\".footnote-readmore\"));\r\n\r\nbutton.on('click', function(e){\r\n  $(this).next().fadeToggle();\r\n});\r\n\r\n// Hide container if clicked outside container\r\n$(document).mouseup(function(event){\r\n    \r\n    if(!container.is(event.target) &amp;&amp; !button.is(event.target)  &amp;&amp; !content.is(event.target) &amp;&amp; container.is(\":visible\")){\r\n       container.fadeToggle();\r\n    } else{\r\n      return false;\r\n    }\r\n});\r\n\r\n// Check if container scrollbar has reached the bottom\r\n$(content).on('scroll', function(){\r\n\tif(content[0].scrollHeight - content.scrollTop() - content[0].clientHeight &lt; 1){\r\n  \treadmore.fadeOut();\r\n  } else {\r\n  \treadmore.fadeIn();\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>p {\r\n  font-size: 16px;\r\n  font-family: 'Open Sans'\r\n}\r\n\r\n.footnote {\r\n  position: relative;\r\n}\r\n\r\n.footnote-button {\r\n  border-radius: 50%;\r\n  text-align: center;\r\n  position: relative;\r\n  z-index: 5;\r\n  box-sizing: border-box;\r\n  display: inline-block;\r\n  margin: 10px 0.3em 0 0.2em;\r\n  cursor: pointer;\r\n  background-color: #ccc;\r\n  color: white;\r\n  vertical-align: middle;\r\n  text-align: center;\r\n  font-size: 0.75rem;\r\n  transition-property: opacity;\r\n  transition-duration: 0.25s;\r\n  width: 1rem;\r\n  height: 1rem;\r\n  line-height: 1rem;\r\n}\r\n\r\n.footnote-container {\r\n  display: none;\r\n  position: absolute;\r\n  z-index: 120;\r\n  width: 22em;\r\n  box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.3);\r\n  border-radius: 8px;\r\n  border: 1px solid #c3c3c3;\r\n  background: #fafafa;\r\n  left: -77px;\r\n  top: 45px;\r\n  max-height: 350px;\r\n}\r\n\r\n.footnote-arrow {\r\n  position: absolute;\r\n  box-sizing: border-box;\r\n  margin-left: -0.65em;\r\n  width: 1.3em;\r\n  height: 1.3em;\r\n  transform: rotate(45deg);\r\n  background: #fafafa;\r\n  border: 1px solid #c3c3c3;\r\n  box-shadow: 0px 0px 8px rgba(255, 255, 255, 0.3);\r\n  border-top-left-radius: 0;\r\n  top: -10px;\r\n  z-index: -1;\r\n  left: 87px;\r\n}\r\n\r\n.footnote-content {\r\n  background: #fff;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n}\r\n\r\n.footnote-content-data {\r\n  color: #797979;\r\n  font-size: 16px;\r\n  font-family: 'Open Sans', sans-serif;\r\n  overflow-y: scroll;\r\n  height: 310px;\r\n  margin-right: -50px;\r\n  padding-right: 70px;\r\n  padding-top: 20px;\r\n  padding-bottom: 20px;\r\n  padding-left: 20px;\r\n}\r\n\r\n.footnote-content::before {\r\n  content: \"\";\r\n  background-image: -webkit-linear-gradient(top, #fafafa 50%, rgba(250, 250, 250, 0) 100%);\r\n  height: 1.1em;\r\n  top: 0;\r\n  width: 100%;\r\n  position: absolute;\r\n  border-radius: 8px;\r\n}\r\n\r\n.footnote-content::after {\r\n  content: \"\";\r\n  background-image: -webkit-linear-gradient(bottom, #fafafa 50%, rgba(250, 250, 250, 0) 100%);\r\n  height: 1.1em;\r\n  bottom: 0;\r\n  width: 100%;\r\n  position: absolute;\r\n  border-radius: 8px;\r\n}\r\n\r\n.footnote-readmore {\r\n  position: absolute;\r\n  bottom: 0.3375em;\r\n  left: 0.3375em;\r\n  z-index: 14;\r\n  display: block;\r\n  height: 0.78125em;\r\n  width: 0.625em;\r\n  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTJweCIgaGVpZ2h0PSIxNXB4IiB2aWV3Qm94PSIwIDAgMTIgMTUiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pbllNaW4iPgogICAgPGcgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IkFycm93IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLjAwMDAwMCwgMS4wMDAwMDApIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiPgogICAgICAgICAgICA8cGF0aCBkPSJNNSwwIEw1LDExLjUiIGlkPSJMaW5lIj48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0wLjUsNy41IEw1LjAyNzY5Mjc5LDEyLjAyNzY5MjgiIGlkPSJMaW5lIj48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik00LjUsNy41IEw5LjAyNzY5Mjc5LDEyLjAyNzY5MjgiIGlkPSJMaW5lLTIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDcuMDAwMDAwLCAxMC4wMDAwMDApIHNjYWxlKC0xLCAxKSB0cmFuc2xhdGUoLTcuMDAwMDAwLCAtMTAuMDAwMDAwKSAiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPgo=');\r\n  background-size: cover;\r\n  opacity: 0.1;\r\n  transition-duration: 0.25s;\r\n  transition-timing-function: ease;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div style=\"display: flex;\"&gt;\r\n  &lt;p&gt;Some paragraph so it's not empty.&lt;/p&gt;\r\n  &lt;div class=\"footnote\"&gt;\r\n    &lt;span class=\"footnote-button\" footenote-id=\"1\"&gt;1&lt;/span&gt;\r\n    &lt;div class=\"footnote-container\"&gt;\r\n      &lt;div class=\"footnote-arrow\"&gt;&lt;/div&gt;\r\n      &lt;div class=\"footnote-content\"&gt;\r\n      &lt;span class=\"footnote-readmore\"&gt;&lt;/span&gt;\r\n        &lt;div class=\"footnote-content-data\"&gt;\r\n          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam elementum nunc nunc, a pulvinar eros semper id. Donec et mauris tellus. Nulla facilisi. Sed eu pellentesque nisl, ut placerat orci. Etiam tempus metus ex, eu vulputate urna tincidunt quis.\r\n          Donec commodo, ligula id pretium ultricies, nisl ex congue risus, ut tempor leo nisl nec neque. Pellentesque porta vehicula lacus, vitae scelerisque ligula. Sed in lacus a nisl sodales lacinia. Aenean consectetur placerat libero nec varius.\r\n          Sed ut leo condimentum, condimentum odio a, tincidunt lorem. Ut ut blandit ex. Aenean libero felis, tincidunt nec tristique a, fermentum quis dui. Cras in eros euismod, sollicitudin dolor in, tempus massa. Ut sollicitudin lorem ut erat tempus,\r\n          sed varius nisl commodo. Fusce in feugiat dui, non sagittis tellus. Donec urna dolor, consequat eget facilisis id, ultrices vitae sapien. Nullam at fringilla nisi. Nulla sagittis egestas urna vel viverra. Nulla eu nunc a elit pretium dignissim.\r\n          Mauris eget cursus nisl. Integer congue malesuada condimentum. Nunc volutpat ligula et placerat malesuada. Cras hendrerit, tortor non viverra imperdiet, erat dolor laoreet nisl, a vestibulum neque lacus sollicitudin justo.\r\n        &lt;/div&gt;\r\n        \r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n\r\n&lt;/div&gt;\r\n\r\n&lt;div style=\"display: flex;\"&gt;\r\n  &lt;p&gt;A different paragraph for this second box.&lt;/p&gt;\r\n  &lt;div class=\"footnote\"&gt;\r\n    &lt;span class=\"footnote-button\" footenote-id=\"2\"&gt;2&lt;/span&gt;\r\n    &lt;div class=\"footnote-container\"&gt;\r\n      &lt;div class=\"footnote-arrow\"&gt;&lt;/div&gt;\r\n      &lt;div class=\"footnote-content\"&gt;\r\n      &lt;span class=\"footnote-readmore\"&gt;&lt;/span&gt;\r\n        &lt;div class=\"footnote-content-data\"&gt;\r\n          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam elementum nunc nunc, a pulvinar eros semper id. Donec et mauris tellus. Nulla facilisi. Sed eu pellentesque nisl, ut placerat orci. Etiam tempus metus ex, eu vulputate urna tincidunt quis.\r\n          Donec commodo, ligula id pretium ultricies, nisl ex congue risus, ut tempor leo nisl nec neque. Pellentesque porta vehicula lacus, vitae scelerisque ligula. Sed in lacus a nisl sodales lacinia. Aenean consectetur placerat libero nec varius.\r\n          Sed ut leo condimentum, condimentum odio a, tincidunt lorem. Ut ut blandit ex. Aenean libero felis, tincidunt nec tristique a, fermentum quis dui. Cras in eros euismod, sollicitudin dolor in, tempus massa. Ut sollicitudin lorem ut erat tempus,\r\n          sed varius nisl commodo. Fusce in feugiat dui, non sagittis tellus. Donec urna dolor, consequat eget facilisis id, ultrices vitae sapien. Nullam at fringilla nisi. Nulla sagittis egestas urna vel viverra. Nulla eu nunc a elit pretium dignissim.\r\n          Mauris eget cursus nisl. Integer congue malesuada condimentum. Nunc volutpat ligula et placerat malesuada. Cras hendrerit, tortor non viverra imperdiet, erat dolor laoreet nisl, a vestibulum neque lacus sollicitudin justo.\r\n        &lt;/div&gt;\r\n        \r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n\r\n&lt;/div&gt;\r\n\r\n&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;a</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 374, "user_id": 7945523, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/12891a1e7b454c753f1d2670f832c391?s=128&d=identicon&r=PG&f=1", "display_name": "Craig", "link": "https://stackoverflow.com/users/7945523/craig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 51867351, "answer_count": 3, "score": 2, "last_activity_date": 1534381068, "creation_date": 1534372138, "question_id": 51867305, "link": "https://stackoverflow.com/questions/51867305/multiple-toggled-boxes-opening-instead-of-1", "title": "Multiple toggled boxes opening instead of 1", "body": "<p>I have some sources(information, links, etc) I'd like to be hidden, although unfinished it works as expected, only issue I'm currently having is that multiple boxes are opening instead of just the box I clicked to toggle. (I've ran into this issue before and fixed it easily, but it was straight up javascript, whereas right now I'm using PHP to output dynamic data).</p>\n\n<p>I created a custom html <code>footnote-id</code> tag, as an unique identifier for the button clicks, but I'm not sure how to attach that to the targeted click.</p>\n\n<p>Here's a <a href=\"http://jsfiddle.net/6dxn8eLb/2/\" rel=\"nofollow noreferrer\">fiddle</a>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var button = $(\".footnote-button\");\r\nvar container = $(button.next());\r\nvar content = $(button.next().find(\".footnote-content-data\"));\r\nvar readmore = $(button.next().find(\".footnote-readmore\"));\r\n\r\nbutton.on('click', function(e){\r\n  container.fadeToggle();\r\n});\r\n\r\n// Hide container if clicked outside container\r\n$(document).mouseup(function(event){\r\n    if(!container.is(event.target) &amp;&amp; !button.is(event.target)  &amp;&amp; !content.is(event.target) &amp;&amp; container.is(\":visible\")){\r\n       container.fadeToggle();\r\n    } else{\r\n      return false;\r\n    }\r\n});\r\n\r\n// Check if container scrollbar has reached the bottom\r\n$(content).on('scroll', function(){\r\n\tif(content[0].scrollHeight - content.scrollTop() - content[0].clientHeight &lt; 1){\r\n  \treadmore.fadeOut();\r\n  } else {\r\n  \treadmore.fadeIn();\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>p {\r\n  font-size: 16px;\r\n  font-family: 'Open Sans'\r\n}\r\n\r\n.footnote {\r\n  position: relative;\r\n}\r\n\r\n.footnote-button {\r\n  border-radius: 50%;\r\n  text-align: center;\r\n  position: relative;\r\n  z-index: 5;\r\n  box-sizing: border-box;\r\n  display: inline-block;\r\n  margin: 10px 0.3em 0 0.2em;\r\n  cursor: pointer;\r\n  background-color: #ccc;\r\n  color: white;\r\n  vertical-align: middle;\r\n  text-align: center;\r\n  font-size: 0.75rem;\r\n  transition-property: opacity;\r\n  transition-duration: 0.25s;\r\n  width: 1rem;\r\n  height: 1rem;\r\n  line-height: 1rem;\r\n}\r\n\r\n.footnote-container {\r\n  display: none;\r\n  position: absolute;\r\n  z-index: 120;\r\n  width: 22em;\r\n  box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.3);\r\n  border-radius: 8px;\r\n  border: 1px solid #c3c3c3;\r\n  background: #fafafa;\r\n  left: -77px;\r\n  top: 45px;\r\n  max-height: 350px;\r\n}\r\n\r\n.footnote-arrow {\r\n  position: absolute;\r\n  box-sizing: border-box;\r\n  margin-left: -0.65em;\r\n  width: 1.3em;\r\n  height: 1.3em;\r\n  transform: rotate(45deg);\r\n  background: #fafafa;\r\n  border: 1px solid #c3c3c3;\r\n  box-shadow: 0px 0px 8px rgba(255, 255, 255, 0.3);\r\n  border-top-left-radius: 0;\r\n  top: -10px;\r\n  z-index: -1;\r\n  left: 87px;\r\n}\r\n\r\n.footnote-content {\r\n  background: #fff;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n}\r\n\r\n.footnote-content-data {\r\n  color: #797979;\r\n  font-size: 16px;\r\n  font-family: 'Open Sans', sans-serif;\r\n  overflow-y: scroll;\r\n  height: 310px;\r\n  margin-right: -50px;\r\n  padding-right: 70px;\r\n  padding-top: 20px;\r\n  padding-bottom: 20px;\r\n  padding-left: 20px;\r\n}\r\n\r\n.footnote-content::before {\r\n  content: \"\";\r\n  background-image: -webkit-linear-gradient(top, #fafafa 50%, rgba(250, 250, 250, 0) 100%);\r\n  height: 1.1em;\r\n  top: 0;\r\n  width: 100%;\r\n  position: absolute;\r\n  border-radius: 8px;\r\n}\r\n\r\n.footnote-content::after {\r\n  content: \"\";\r\n  background-image: -webkit-linear-gradient(bottom, #fafafa 50%, rgba(250, 250, 250, 0) 100%);\r\n  height: 1.1em;\r\n  bottom: 0;\r\n  width: 100%;\r\n  position: absolute;\r\n  border-radius: 8px;\r\n}\r\n\r\n.footnote-readmore {\r\n  position: absolute;\r\n  bottom: 0.3375em;\r\n  left: 0.3375em;\r\n  z-index: 14;\r\n  display: block;\r\n  height: 0.78125em;\r\n  width: 0.625em;\r\n  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTJweCIgaGVpZ2h0PSIxNXB4IiB2aWV3Qm94PSIwIDAgMTIgMTUiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pbllNaW4iPgogICAgPGcgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IkFycm93IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLjAwMDAwMCwgMS4wMDAwMDApIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiPgogICAgICAgICAgICA8cGF0aCBkPSJNNSwwIEw1LDExLjUiIGlkPSJMaW5lIj48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0wLjUsNy41IEw1LjAyNzY5Mjc5LDEyLjAyNzY5MjgiIGlkPSJMaW5lIj48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik00LjUsNy41IEw5LjAyNzY5Mjc5LDEyLjAyNzY5MjgiIGlkPSJMaW5lLTIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDcuMDAwMDAwLCAxMC4wMDAwMDApIHNjYWxlKC0xLCAxKSB0cmFuc2xhdGUoLTcuMDAwMDAwLCAtMTAuMDAwMDAwKSAiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPgo=');\r\n  background-size: cover;\r\n  opacity: 0.1;\r\n  transition-duration: 0.25s;\r\n  transition-timing-function: ease;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div style=\"display: flex;\"&gt;\r\n  &lt;p&gt;Some paragraph so it's not empty.&lt;/p&gt;\r\n  &lt;div class=\"footnote\"&gt;\r\n    &lt;span class=\"footnote-button\" footenote-id=\"1\"&gt;1&lt;/span&gt;\r\n    &lt;div class=\"footnote-container\"&gt;\r\n      &lt;div class=\"footnote-arrow\"&gt;&lt;/div&gt;\r\n      &lt;div class=\"footnote-content\"&gt;\r\n      &lt;span class=\"footnote-readmore\"&gt;&lt;/span&gt;\r\n        &lt;div class=\"footnote-content-data\"&gt;\r\n          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam elementum nunc nunc, a pulvinar eros semper id. Donec et mauris tellus. Nulla facilisi. Sed eu pellentesque nisl, ut placerat orci. Etiam tempus metus ex, eu vulputate urna tincidunt quis.\r\n          Donec commodo, ligula id pretium ultricies, nisl ex congue risus, ut tempor leo nisl nec neque. Pellentesque porta vehicula lacus, vitae scelerisque ligula. Sed in lacus a nisl sodales lacinia. Aenean consectetur placerat libero nec varius.\r\n          Sed ut leo condimentum, condimentum odio a, tincidunt lorem. Ut ut blandit ex. Aenean libero felis, tincidunt nec tristique a, fermentum quis dui. Cras in eros euismod, sollicitudin dolor in, tempus massa. Ut sollicitudin lorem ut erat tempus,\r\n          sed varius nisl commodo. Fusce in feugiat dui, non sagittis tellus. Donec urna dolor, consequat eget facilisis id, ultrices vitae sapien. Nullam at fringilla nisi. Nulla sagittis egestas urna vel viverra. Nulla eu nunc a elit pretium dignissim.\r\n          Mauris eget cursus nisl. Integer congue malesuada condimentum. Nunc volutpat ligula et placerat malesuada. Cras hendrerit, tortor non viverra imperdiet, erat dolor laoreet nisl, a vestibulum neque lacus sollicitudin justo.\r\n        &lt;/div&gt;\r\n        \r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n\r\n&lt;/div&gt;\r\n\r\n&lt;div style=\"display: flex;\"&gt;\r\n  &lt;p&gt;A different paragraph for this second box.&lt;/p&gt;\r\n  &lt;div class=\"footnote\"&gt;\r\n    &lt;span class=\"footnote-button\" footenote-id=\"2\"&gt;2&lt;/span&gt;\r\n    &lt;div class=\"footnote-container\"&gt;\r\n      &lt;div class=\"footnote-arrow\"&gt;&lt;/div&gt;\r\n      &lt;div class=\"footnote-content\"&gt;\r\n      &lt;span class=\"footnote-readmore\"&gt;&lt;/span&gt;\r\n        &lt;div class=\"footnote-content-data\"&gt;\r\n          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam elementum nunc nunc, a pulvinar eros semper id. Donec et mauris tellus. Nulla facilisi. Sed eu pellentesque nisl, ut placerat orci. Etiam tempus metus ex, eu vulputate urna tincidunt quis.\r\n          Donec commodo, ligula id pretium ultricies, nisl ex congue risus, ut tempor leo nisl nec neque. Pellentesque porta vehicula lacus, vitae scelerisque ligula. Sed in lacus a nisl sodales lacinia. Aenean consectetur placerat libero nec varius.\r\n          Sed ut leo condimentum, condimentum odio a, tincidunt lorem. Ut ut blandit ex. Aenean libero felis, tincidunt nec tristique a, fermentum quis dui. Cras in eros euismod, sollicitudin dolor in, tempus massa. Ut sollicitudin lorem ut erat tempus,\r\n          sed varius nisl commodo. Fusce in feugiat dui, non sagittis tellus. Donec urna dolor, consequat eget facilisis id, ultrices vitae sapien. Nullam at fringilla nisi. Nulla sagittis egestas urna vel viverra. Nulla eu nunc a elit pretium dignissim.\r\n          Mauris eget cursus nisl. Integer congue malesuada condimentum. Nunc volutpat ligula et placerat malesuada. Cras hendrerit, tortor non viverra imperdiet, erat dolor laoreet nisl, a vestibulum neque lacus sollicitudin justo.\r\n        &lt;/div&gt;\r\n        \r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n\r\n&lt;/div&gt;\r\n\r\n&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;a</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "php", "html", "json", "post"], "comments": [{"owner": {"reputation": 37458, "user_id": 2734189, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bdd4c02158892b034c80f00eff30e6d5?s=128&d=identicon&r=PG&f=1", "display_name": "Don&#39;t Panic", "link": "https://stackoverflow.com/users/2734189/dont-panic"}, "edited": false, "score": 1, "creation_date": 1534372336, "post_id": 51867284, "comment_id": 90686559, "body": "It&#39;s good that you want to share what you&#39;ve learned, and self-answers are encouraged, but you should really consider reorganizing this post a bit so that the question is a question and the answer answers it."}, {"owner": {"reputation": 381, "user_id": 3029644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f72f6cbb2069b9339cf953b5384234fd?s=128&d=identicon&r=PG&f=1", "display_name": "Cosworth66", "link": "https://stackoverflow.com/users/3029644/cosworth66"}, "reply_to_user": {"reputation": 37458, "user_id": 2734189, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bdd4c02158892b034c80f00eff30e6d5?s=128&d=identicon&r=PG&f=1", "display_name": "Don&#39;t Panic", "link": "https://stackoverflow.com/users/2734189/dont-panic"}, "edited": false, "score": 0, "creation_date": 1534390018, "post_id": 51867284, "comment_id": 90690035, "body": "@Don&#39;tPanic Thanks for the feedback.  This was the first self answer and I didn&#39;t even know it was an option till I got to the end.  I&#39;ll make sure the next one is better organized."}], "answers": [{"tags": [], "owner": {"reputation": 381, "user_id": 3029644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f72f6cbb2069b9339cf953b5384234fd?s=128&d=identicon&r=PG&f=1", "display_name": "Cosworth66", "link": "https://stackoverflow.com/users/3029644/cosworth66"}, "is_accepted": false, "score": 0, "last_activity_date": 1534372017, "creation_date": 1534372017, "answer_id": 51867285, "question_id": 51867284, "link": "https://stackoverflow.com/questions/51867284/post-json-from-html-form-to-php-api-and-download-the-received-file-in-the-browse/51867285#51867285", "title": "POST JSON from HTML form to PHP API and download the received file in the browser", "body": "<p>Place the javascript code in the body of your HTML page and it should work just fine.  I hope this helps someone else out there in the same position.  I've tried to describe each component as best I can and include all of the pieces to make it work.</p>\n\n<pre><code>Request:  Browser --&gt; HTML form --&gt; JSON --&gt; POST --&gt; PHP\nResponse: PHP --&gt; zip file --&gt; Browser Download --&gt; Local PC\n</code></pre>\n"}], "owner": {"reputation": 381, "user_id": 3029644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f72f6cbb2069b9339cf953b5384234fd?s=128&d=identicon&r=PG&f=1", "display_name": "Cosworth66", "link": "https://stackoverflow.com/users/3029644/cosworth66"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 558, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534372017, "creation_date": 1534372017, "question_id": 51867284, "link": "https://stackoverflow.com/questions/51867284/post-json-from-html-form-to-php-api-and-download-the-received-file-in-the-browse", "title": "POST JSON from HTML form to PHP API and download the received file in the browser", "body": "<p>I have an existing API that only accepts JSON values via a POST, it responds with a downloadable zip file that is only session based, not on a server.  I wanted to create an HTML form that could be filled out and POST the JSON values to the API then receive the download.  Once the API receives the JSON it will respond with a Zip file that should be downloaded through the browser.  I spent a lot of time searching for how to do this and eventually pulled together the components to make it happen.  I wanted to share it here because I saw many other people searching for the same thing but with no clear answers or script that worked, lost of GET examples but no POST with in memory server data.  In fact may folks said it just couldn't be done with POST.  </p>\n\n<pre><code>&lt;script src=\"https://code.jquery.com/jquery-1.9.1.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n$(function () {\n    $('form').on('submit', function (event) {                           \n    //Function montiors for the form submit event\n    event.preventDefault(); // Prevents the default action of the form submit button\n    var jsonData = '{\"PONumber\":\"' + form1.PONumber.value //JSON data being submitted to the API from the HTML form\n            + '\",\"CompanyName\":\"' + form1.CompanyName.value \n            + '\",\"CompanyID\":\"' + form1.CompanyID.value \n            + '\",\"ProductName\":\"' + form1.ProductName.value \n            + '\",\"Quantity\":\"' + form1.quantity.value \n            + '\",\"Manufacturer\":\"' + form1.Manufacturer.value + '\"}';   \n\n    var xhr = new XMLHttpRequest();\n    xhr.open('POST', 'api_page.php', true); //The POST to the API page where the JSON will be submitted\n    xhr.responseType = 'blob';\n    xhr.setRequestHeader('Content-type', 'application/json');       //Additional header fields as necessary\n    xhr.setRequestHeader('Authorization', 'Bearer ' + 'eyJ0eXAiOiJKV1QiLCJhbGciO----&lt; SNIP &gt;---547OWZr9ZMEvZBiQpVvU0K0U');\n    xhr.onload = function(e) {\n        if (this.status == 200) {\n            var blob = new Blob([this.response], {type: 'application/zip'});  //We're downloading a Zip file\n            var downloadUrl = URL.createObjectURL(blob);\n            var a = document.createElement(\"a\");\n            a.href = downloadUrl;\n            a.download = \"download_file.zip\"; //The name for the downloaded file that will be saved    \n            document.body.appendChild(a);\n            a.click();                                              //Automatically starts the download\n        } else {\n            alert('Unable to download file.')\n            }\n    };\n\n    xhr.send(jsonData);    //Sends the JSON data to the destination POST page\n\n});\n\n});\n&lt;/script&gt;\n&lt;form method=\"post\" name=\"form1\" id=\"form1\" action=\"\" &gt;\n   &lt;td&gt;&lt;center&gt;&lt;input name=\"submit\" type=\"submit\" value=\"submit\"&gt;&lt;/center&gt;&lt;/td&gt;\n   &lt;td &gt;&lt;strong&gt;ENTER QUANTITY OF UNITS:  &lt;/strong&gt;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n    &lt;td&gt;&lt;input name=\"quantity\" type=\"text\" size=\"17\" value=\"&lt;?php echo $row['value'];?&gt;\"&gt;&lt;/td&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Here is the code for the PHP server side of the application.  The first part is to receive the request.</p>\n\n<pre><code>//Receive the incoming JSON data from the form POST\n$jsonRequest = trim(file_get_contents(\"php://input\"));\n\n//Attempt to decode the incoming RAW post data.\n$requestDecoded = json_decode($jsonRequest, true);\n\n//Do something with the data and then respond with a zip file.\n</code></pre>\n\n<p>Here is the PHP code that sends the Zip file back to the original requesting page for download.</p>\n\n<pre><code>$fp = fopen('php://output', 'w');  //Creates output buffer\n$mfiles = $yourZipFile   \nif($fp &amp;&amp; $mfiles) {\n     header(\"Cache-Control: no-cache\");\n     header(\"Content-Type: application/zip\");\n     header(\"Content-Disposition: attachment; \n                  filename=\\\"\".basename($zipName).\"\\\";\");\n     header(\"Content-Transfer-Encoding: binary\");\n     header(\"Content-Length: \" .strlen($mfiles));\n     header(\"Response-Data: \".$responseData);\n     ob_end_clean();\n     if (fputs($fp, $mfiles, strlen($mfiles))===FALSE){\n         throw new Exception($e);\n        }\n     }\n     else { \n         throw new Exception($e); \n     }\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "webpack", "require"], "comments": [{"owner": {"reputation": 21, "user_id": 8346107, "user_type": "registered", "profile_image": "https://graph.facebook.com/1892605217656515/picture?type=large", "display_name": "Rafael Paiva", "link": "https://stackoverflow.com/users/8346107/rafael-paiva"}, "edited": false, "score": 0, "creation_date": 1534519091, "post_id": 51867276, "comment_id": 90747766, "body": "still need help with this issue if anyone can help me"}, {"owner": {"reputation": 21, "user_id": 8346107, "user_type": "registered", "profile_image": "https://graph.facebook.com/1892605217656515/picture?type=large", "display_name": "Rafael Paiva", "link": "https://stackoverflow.com/users/8346107/rafael-paiva"}, "edited": false, "score": 0, "creation_date": 1537385031, "post_id": 51867276, "comment_id": 91769456, "body": "bump bump bump bump"}], "owner": {"reputation": 21, "user_id": 8346107, "user_type": "registered", "profile_image": "https://graph.facebook.com/1892605217656515/picture?type=large", "display_name": "Rafael Paiva", "link": "https://stackoverflow.com/users/8346107/rafael-paiva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1534371939, "creation_date": 1534371939, "question_id": 51867276, "link": "https://stackoverflow.com/questions/51867276/webpack-doesnt-recognize-require-when-packing-react-in-server-side-rende", "title": "Webpack doesn&#39;t recognize require(&quot;...&quot;) when packing React in server side rendering", "body": "<p>So i'm trying to develop a server side rendering aplication.</p>\n\n<p>I'm merging two previous projects trying to make a personal framework for react server side development.</p>\n\n<p>One of the projects i'm merging consists of a framework to facilitate creating an API based on the OAPI model.</p>\n\n<p>This project contains a module where i have to require every .js file from a folder, and this is how i do it:</p>\n\n<pre><code>exports.files = dir =&gt; {\n  return fs.readdirSync(dir).map(f =&gt; f.replace(\".js\", \"\"));\n};\n\nexports.handlers = (files, dir) =&gt; {\n  return files.reduce((acc, curr) =&gt; {\n    acc[curr] = require(dir + curr);\n    return acc;\n  }, {});\n};\n</code></pre>\n\n<p>The problem is once i run webpack it doesn't recognize the \"require\" keyword and replaces it with an error for a missing module:</p>\n\n<pre><code>exports.handlers = function (files, dir) {\n  return files.reduce(function (acc, curr) {\n    acc[curr] = !(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\".\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\n    return acc;\n  }, {});\n};\n</code></pre>\n\n<p>This probably is occurring since i'm using webpack to pack the entire server using the react terminology, for example here is my server.js:</p>\n\n<pre><code>// Libraries\nimport React from \"react\";\nimport { renderToString } from \"react-dom/server\";\nimport path from \"path\";\nimport express from \"express\";\nimport cors from \"cors\";\nimport bodyParser from \"body-parser\";\nimport cookieParser from \"cookie-parser\";\n\n// React Components\nimport App from \"./client/App\";\nimport Html from \"./client/Html\";\n\n// Modules\nimport database from \"./functionals/database\";\nimport middleware from \"./functionals/middleware\";\nimport digester from \"./functionals/digester\";\nimport defaultRoutes from \"./functionals/routes\";\nimport email from \"./functionals/email\";\nimport libs from \"./functionals/libs\";\nconst controllers = libs.files(process.cwd() + \"/src/controllers\");\nconst routes = libs.files(process.cwd() + \"/src/routes\");\nconst handlers = Object.assign(\n  libs.handlers(routes, process.cwd() + \"/src/routes/\"),\n  libs.handlers(controllers, process.cwd() + \"/src/controllers/\")\n);\n\n// Config\nimport config from \"./config.json\";\nconst PORT = process.env.PORT || config.port;\nconst db_url =\n  \"mongodb://\" +\n  config.db.username +\n  \":\" +\n  config.db.password +\n  \"@\" +\n  config.db.address +\n  \":\" +\n  config.db.port +\n  \"/\" +\n  config.db.dbname;\n\n// App\nvar app = express();\n\napp\n  .use(bodyParser.json({ limit: \"50mb\" }))\n  .use(bodyParser.urlencoded({ limit: \"50mb\", extended: true }))\n  .use(cookieParser())\n  .use(cors())\n  .use(\"/api\", defaultRoutes)\n  .use(express.static(path.resolve(__dirname, \"../dist\")))\n\n  .get(\"/styles\", (req, res) =&gt;\n    res.sendFile(\"styles.css\", {\n      root: process.cwd() + \"/public/\"\n    })\n  )\n\n  .get(/(\\/)|(\\/about)|(\\/contact)/, (req, res) =&gt; {\n    const body = renderToString(&lt;App url={req.url} /&gt;);\n\n    res.send(\n      Html({\n        body,\n        title: \"Title\"\n      })\n    );\n  })\n\n  .post(\"/api\", middleware.authentication, function(req, res) {\n    (handler =&gt; {\n      if (handler) handler(req, res);\n      else res.sendStatus(404);\n    })(handlers[req.body.lib][req.body.action]);\n  })\n\n  .listen(PORT, () =&gt; {\n    database.connect(\n      db_url,\n      controllers\n    );\n    digester.listen();\n    email.listen();\n    console.log(\"Listening on port \" + PORT);\n  });\n</code></pre>\n\n<p>However, if i simply go the built server.js i can simply replace the missing module error thrown by webpack with \"require(dir + curr)\" and the server runs perfectly.</p>\n\n<p>It generates the problem that every time i build my project i have to manually change it's content before running it.</p>\n\n<p>Here is my webpack.config.js:</p>\n\n<pre><code>const webpack = require('webpack');\nconst nodeExternals = require('webpack-node-externals');\nconst path = require('path');\n\nmodule.exports = {\n  entry: './src/server.js',\n  output: {\n    path: path.resolve(__dirname, 'dist'),\n    filename: 'server.js',\n    publicPath: '/'\n  },\n  target: 'node',\n  externals: nodeExternals(),\n  plugins: [\n    new webpack.DefinePlugin({\n      'process.env': {\n        NODE_ENV: `'production'`\n      }\n    })\n  ],\n  module: {\n    loaders: [\n      {\n        test: /\\.js$/,\n        loader: 'babel-loader'\n      }\n    ]\n  }\n};\n</code></pre>\n\n<p>Is there anyway to configure webpack to ignore the require module, for example just leaving the function call untouched instead of replacing it with an error.</p>\n\n<p>If not is there a workaround for this, i.e. another way for me to achieve the same goal while using import.</p>\n\n<p>Thanks in advance!!</p>\n"}, {"tags": ["javascript", "bigint"], "answers": [{"comments": [{"owner": {"reputation": 17329, "user_id": 125212, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/cc4c37d7b7bdfa395b2fcdad7aa86125?s=128&d=identicon&r=PG", "display_name": "Jackie", "link": "https://stackoverflow.com/users/125212/jackie"}, "edited": false, "score": 0, "creation_date": 1534443523, "post_id": 51868940, "comment_id": 90717925, "body": "Wouldn&#39;t this round when it gets converted to number?"}, {"owner": {"reputation": 6596, "user_id": 6160662, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hNLcJ.jpg?s=128&g=1", "display_name": "Viney", "link": "https://stackoverflow.com/users/6160662/viney"}, "reply_to_user": {"reputation": 17329, "user_id": 125212, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/cc4c37d7b7bdfa395b2fcdad7aa86125?s=128&d=identicon&r=PG", "display_name": "Jackie", "link": "https://stackoverflow.com/users/125212/jackie"}, "edited": false, "score": 1, "creation_date": 1534559005, "post_id": 51868940, "comment_id": 90760218, "body": "Yes it would, theres no inbuilt way to <code>pow</code> BigInts in javascript if that was your point then there already exists a <a href=\"https://github.com/peterolson/BigInteger.js\" rel=\"nofollow noreferrer\">BigInt liberary</a>  that would allow for it."}], "tags": [], "owner": {"reputation": 6596, "user_id": 6160662, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hNLcJ.jpg?s=128&g=1", "display_name": "Viney", "link": "https://stackoverflow.com/users/6160662/viney"}, "is_accepted": false, "score": 0, "last_activity_date": 1534387687, "creation_date": 1534387687, "answer_id": 51868940, "question_id": 51867270, "link": "https://stackoverflow.com/questions/51867270/is-there-a-library-similar-to-math-that-supports-javascript-bigint/51868940#51868940", "title": "Is there a library similar to Math that supports JavaScript BigInt?", "body": "<p>BigInts is a different datatype in its own way you can't have compare not use them as such in an expression</p>\n\n<pre><code>typeof 123;  // 'number'\ntypeof 123n; // 'bigint'\n</code></pre>\n\n<p>Numbers can't represent BigInts beyond the safe integer limit that's why it's not allowed to mix operations between BigInts and Numbers (except for comparison operators ===,&lt;,>) as any implicit conversion could lose information</p>\n\n<p>So what you can do is add an implicit casting </p>\n\n<pre><code>Number( Math.pow( Number(100n) , Number(100n) ) ); // 1.0000000000000005e+200\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11224, "user_id": 806169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/zSd9Y.jpg?s=128&g=1", "display_name": "Yukul&#233;l&#233;", "link": "https://stackoverflow.com/users/806169/yukul%c3%a9l%c3%a9"}, "is_accepted": false, "score": 1, "last_activity_date": 1606168979, "last_edit_date": 1606168979, "creation_date": 1606042478, "answer_id": 64953280, "question_id": 51867270, "link": "https://stackoverflow.com/questions/51867270/is-there-a-library-similar-to-math-that-supports-javascript-bigint/64953280#64953280", "title": "Is there a library similar to Math that supports JavaScript BigInt?", "body": "<p>For <code>pow()</code> you can simply use <code>**</code> operator:</p>\n<pre class=\"lang-js prettyprint-override\"><code>Math.pow(2, 175)\n// 4.789048565205903e+52\n2**175\n// 4.789048565205903e+52\n2n**175n\n// 47890485652059026823698344598447161988085597568237568n\n</code></pre>\n<p><code>floor()</code> like most <code>Math</code> functions is not relevant with integers.</p>\n<p>In fact, only 5 <code>Math</code> functions seam to be revelent with integers:</p>\n<ul>\n<li><strong><code>Math.abs()</code></strong></li>\n<li><strong><code>Math.max()</code></strong></li>\n<li><strong><code>Math.min()</code></strong></li>\n<li><strong><code>Math.pow()</code></strong></li>\n<li><strong><code>Math.sign()</code></strong></li>\n</ul>\n<p>The other functions concern real numbers:</p>\n<ul>\n<li>Trigonometric functions (<code>cos</code>, <code>acos</code>, <code>sin</code>, <code>asin</code>, <code>tan</code>, <code>atan</code>, <code>atan2</code>)</li>\n<li>Hyperbolic functions (<code>cosh</code>, <code>acosh</code>, <code>sinh</code>, <code>asinh</code>, <code>tanh</code>, <code>atanh</code>)</li>\n<li>Roots (<code>sqrt</code>, <code>cbrt</code>, <code>hypot</code>)</li>\n<li>Round (<code>round</code>, <code>ceil</code>, <code>floor</code>, <code>trunc</code>)</li>\n<li>Logarithm (<code>exp</code>, <code>expm1</code>, <code>log</code>, <code>log10</code>, <code>log1p</code>, <code>log2</code>)</li>\n<li>Random (<code>random</code>)</li>\n<li>Bit (<code>clz32</code>, <code>fround</code>, <code>imul</code>)</li>\n</ul>\n<p>So, here is the equivalent of <code>Math</code> for <code>BigInt</code>:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const bigMath = {\n  abs(x) {\n    return x &lt; 0n ? -x : x\n  },\n  sign(x) {\n    if (x === 0n) return 0n\n    return x &lt; 0n ? -1n : 1n\n  },\n  pow(base, exponent) {\n    return base ** exponent\n  },\n  min(value, ...values) {\n    for (let i = 0; i &lt; values.length; i++)\n      if (values[i] &lt; value) value = values[i]\n    return value\n  },\n  max(value, ...values) {\n    for (let i = 0; i &lt; values.length; i++)\n      if (values[i] &gt; value) value = values[i]\n    return value\n  },\n}\n</code></pre>\n"}], "owner": {"reputation": 17329, "user_id": 125212, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/cc4c37d7b7bdfa395b2fcdad7aa86125?s=128&d=identicon&r=PG", "display_name": "Jackie", "link": "https://stackoverflow.com/users/125212/jackie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1606168979, "creation_date": 1534371892, "question_id": 51867270, "link": "https://stackoverflow.com/questions/51867270/is-there-a-library-similar-to-math-that-supports-javascript-bigint", "title": "Is there a library similar to Math that supports JavaScript BigInt?", "body": "<p>I am trying to use some functions of the Math library such as (pow, floor, etc). However, when I try to use them with a Big Int like this...</p>\n\n<pre><code>let x = Math.pow(100n, 100n);\n</code></pre>\n\n<p>I get </p>\n\n<blockquote>\n  <p>TypeError: Cannot convert a BigInt value to a number</p>\n</blockquote>\n\n<p>of course I can implement this myself, something like...</p>\n\n<pre><code>const BigMath ={\n  pow(num, pow){\n    let total;\n    for(let i = 0; i &lt; pow; i++){\n      if(!total) total = num;\n      else total = total * num;\n    }\n    return total;\n  }\n} \nlet x = BigMath.pow(100n, 100n);\n</code></pre>\n\n<p>But I don't want to have to go back through and reimplement all of the functions. Especially since it seems like from my implementation it should be able to handle it no problem. </p>\n\n<p>So how do I handle Math.* with a BigInt?</p>\n"}, {"tags": ["javascript", "php", "html", "mysql"], "comments": [{"owner": {"reputation": 130, "user_id": 9957796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kLdV6.jpg?s=128&g=1", "display_name": "Joe Alvini", "link": "https://stackoverflow.com/users/9957796/joe-alvini"}, "edited": false, "score": 0, "creation_date": 1534372713, "post_id": 51867244, "comment_id": 90686636, "body": "Hey, Throw your query in a prepared statement for security. Also PDO is so much better than mysqli. Just saying."}, {"owner": {"reputation": 130, "user_id": 9957796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kLdV6.jpg?s=128&g=1", "display_name": "Joe Alvini", "link": "https://stackoverflow.com/users/9957796/joe-alvini"}, "edited": false, "score": 0, "creation_date": 1534372876, "post_id": 51867244, "comment_id": 90686674, "body": "Where is your code going wrong at? Use echo statements to find out how far your code is making it. Like after each of statement."}, {"owner": {"reputation": 11, "user_id": 10231494, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ICx08XgfpbU/AAAAAAAAAAI/AAAAAAAAJzE/jhk0nQvdSv8/photo.jpg?sz=128", "display_name": "Jake Yi", "link": "https://stackoverflow.com/users/10231494/jake-yi"}, "reply_to_user": {"reputation": 130, "user_id": 9957796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kLdV6.jpg?s=128&g=1", "display_name": "Joe Alvini", "link": "https://stackoverflow.com/users/9957796/joe-alvini"}, "edited": false, "score": 0, "creation_date": 1534373282, "post_id": 51867244, "comment_id": 90686774, "body": "Where should I put the echo statements? I know that the form is completing, and that the Javascript is running, however it&#39;s a problem with the form information not being passed into the SQL."}, {"owner": {"reputation": 130, "user_id": 9957796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kLdV6.jpg?s=128&g=1", "display_name": "Joe Alvini", "link": "https://stackoverflow.com/users/9957796/joe-alvini"}, "edited": false, "score": 0, "creation_date": 1534376328, "post_id": 51867244, "comment_id": 90687426, "body": "echo statement to see if $validate is true when it gets to the bottom so put one right above the $dateformat Also surround your database insert with a try catch to see if it spits something back out"}, {"owner": {"reputation": 130, "user_id": 9957796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kLdV6.jpg?s=128&g=1", "display_name": "Joe Alvini", "link": "https://stackoverflow.com/users/9957796/joe-alvini"}, "edited": false, "score": 0, "creation_date": 1534376645, "post_id": 51867244, "comment_id": 90687489, "body": "also echo out all the post variables to make sure they are correct. again you can echo them out at the end. Just make sure they all show up. All 5 of them"}, {"owner": {"reputation": 130, "user_id": 9957796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kLdV6.jpg?s=128&g=1", "display_name": "Joe Alvini", "link": "https://stackoverflow.com/users/9957796/joe-alvini"}, "edited": false, "score": 0, "creation_date": 1534377402, "post_id": 51867244, "comment_id": 90687647, "body": "Give me a few minutes I am rewriting this. Its failing at line 19"}, {"owner": {"reputation": 130, "user_id": 9957796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kLdV6.jpg?s=128&g=1", "display_name": "Joe Alvini", "link": "https://stackoverflow.com/users/9957796/joe-alvini"}, "edited": false, "score": 0, "creation_date": 1534379932, "post_id": 51867244, "comment_id": 90688182, "body": "Hey whats this line supposed to do:         $target_file = $target_dir . ShopUser($_FILES[&quot;fileToUpload&quot;][&quot;name&quot;]); BEcause by calling ShopUSer the way your doing it you are calling a function. Do you have a function written for shopuser or is this a mistake.If so what is the purpose of that line."}, {"owner": {"reputation": 11, "user_id": 10231494, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ICx08XgfpbU/AAAAAAAAAAI/AAAAAAAAJzE/jhk0nQvdSv8/photo.jpg?sz=128", "display_name": "Jake Yi", "link": "https://stackoverflow.com/users/10231494/jake-yi"}, "reply_to_user": {"reputation": 130, "user_id": 9957796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kLdV6.jpg?s=128&g=1", "display_name": "Joe Alvini", "link": "https://stackoverflow.com/users/9957796/joe-alvini"}, "edited": false, "score": 0, "creation_date": 1534380455, "post_id": 51867244, "comment_id": 90688279, "body": "ShopUser is meant to be the database table"}, {"owner": {"reputation": 130, "user_id": 9957796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kLdV6.jpg?s=128&g=1", "display_name": "Joe Alvini", "link": "https://stackoverflow.com/users/9957796/joe-alvini"}, "edited": false, "score": 0, "creation_date": 1534380810, "post_id": 51867244, "comment_id": 90688343, "body": "When you say the database table. What do you mean? you cant call the database table like that. Are you trying to include the word ShopUser in your path. You never declare shopUser before that, that&#39;s whats throwing me off."}, {"owner": {"reputation": 130, "user_id": 9957796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kLdV6.jpg?s=128&g=1", "display_name": "Joe Alvini", "link": "https://stackoverflow.com/users/9957796/joe-alvini"}, "edited": false, "score": 0, "creation_date": 1534380973, "post_id": 51867244, "comment_id": 90688378, "body": "OK Also after the if statement on line 21 . the one where your checking the number of rows, you are going into a dead end as nothing else will validate if that&#39;s false. With that $target_file statement what are you trying to accomplish"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 10231494, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ICx08XgfpbU/AAAAAAAAAAI/AAAAAAAAJzE/jhk0nQvdSv8/photo.jpg?sz=128", "display_name": "Jake Yi", "link": "https://stackoverflow.com/users/10231494/jake-yi"}, "edited": false, "score": 0, "creation_date": 1534381282, "post_id": 51868227, "comment_id": 90688434, "body": "I appreciate your help friend, I&#39;ll get to work on fixing it, and if I do I&#39;ll let you know. Thank you, thank you."}, {"owner": {"reputation": 130, "user_id": 9957796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kLdV6.jpg?s=128&g=1", "display_name": "Joe Alvini", "link": "https://stackoverflow.com/users/9957796/joe-alvini"}, "reply_to_user": {"reputation": 11, "user_id": 10231494, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ICx08XgfpbU/AAAAAAAAAAI/AAAAAAAAJzE/jhk0nQvdSv8/photo.jpg?sz=128", "display_name": "Jake Yi", "link": "https://stackoverflow.com/users/10231494/jake-yi"}, "edited": false, "score": 0, "creation_date": 1534381306, "post_id": 51868227, "comment_id": 90688438, "body": "Hey I just updated this all to work with your database again. I accidentally kept my local testing DB variables in the code. Its fixed now though. However this is still not going to work but I want to know what error you get now"}, {"owner": {"reputation": 130, "user_id": 9957796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kLdV6.jpg?s=128&g=1", "display_name": "Joe Alvini", "link": "https://stackoverflow.com/users/9957796/joe-alvini"}, "reply_to_user": {"reputation": 11, "user_id": 10231494, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ICx08XgfpbU/AAAAAAAAAAI/AAAAAAAAJzE/jhk0nQvdSv8/photo.jpg?sz=128", "display_name": "Jake Yi", "link": "https://stackoverflow.com/users/10231494/jake-yi"}, "edited": false, "score": 0, "creation_date": 1534381383, "post_id": 51868227, "comment_id": 90688458, "body": "No problem. But the way I added your DB connection now is through a prepared statement. From now on thats what you should use to access your DB, it prevents SQL injections"}], "tags": [], "owner": {"reputation": 130, "user_id": 9957796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kLdV6.jpg?s=128&g=1", "display_name": "Joe Alvini", "link": "https://stackoverflow.com/users/9957796/joe-alvini"}, "is_accepted": false, "score": 0, "last_activity_date": 1534381185, "last_edit_date": 1534381185, "creation_date": 1534380491, "answer_id": 51868227, "question_id": 51867244, "link": "https://stackoverflow.com/questions/51867244/cannot-insert-data-from-php-into-mysql-server-from-a-registration-form/51868227#51868227", "title": "Cannot insert data from PHP into MYSQL server from a Registration Form", "body": "<p>Well this is what I have thus far. Here is the, I included error handling at the top of the code so from this point on you can see the error or warning and let me know what your getting and I can help you fix it. However I cannot run the full code as I do not have the function ShopUser that you are calling</p>\n\n<pre><code>&lt;?php\n//This Will Report Errors and Warnings\nini_set('display_errors', 1);\nini_set('display_startup_errors', 1);\nerror_reporting(E_ALL);\n\n$validate = true;\n$name1 = trim($_POST[\"name1\"]);\n$name2 = trim($_POST[\"name2\"]);\n$email = trim($_POST[\"email\"]);\n$DOB = trim($_POST[\"DOB\"]);\n$pswd = trim($_POST[\"pswd\"]);\nif ($_SERVER[\"REQUEST_METHOD\"] == \"POST\") {\n    $db = new mysqli(\"localhost\", \"root\", \"root\", \"myDB\");\n    if ($db-&gt;connect_error) {\n        die (\"Connection failed: \" . $db-&gt;connect_error);\n    }\n\n    $stmt = $db-&gt;prepare('SELECT COUNT(id) FROM ShopUser WHERE email= ?');\n    $stmt-&gt;bind_param('s', $email);\n    $stmt-&gt;execute();\n    $stmt-&gt;bind_result($num);\n    $stmt-&gt;fetch();\n\n    if ($num &gt; 0) {\n        echo('User Already Exists');\n        $validate = false;\n    } else {\n        echo $validate;\n\n        $name1Match = preg_match(\"/^[a-zA-Z_-]+$/\", $name1);\n        if ($name1 == null || $name1 == \"\" || $name1Match == false) {\n            $validate = false;\n        }\n\n        $name2Match = preg_match(\"/^[a-zA-Z_-]+$/\", $name2);\n        if ($name2 == null || $name2 == \"\" || $name2Match == false) {\n            $validate = false;\n        }\n\n        $emailMatch = preg_match(\"/^\\w+@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/\", $email);\n        if ($email == null || $email == \"\" || $emailMatch == false) {\n            $validate = false;\n        }\n\n        $DOBMatch = preg_match(\"/^(0[1-9]|[12][0-9]|3[01])[\\- \\/.](?:(0[1-9]|1[012])[\\- \\/.](19|20)[0-9]{2})$/\", $DOB);\n        if ($DOB == null || $DOB == \"\" || $DOBMatch == false) {\n            $validate = false;\n        }\n\n        $pswdLen = strlen($pswd);\n        $pswdMatch = preg_match(\"/^(?=.*\\d)(?=.*[a-zA-Z]).{8,}$/\", $pswd);\n        if ($pswd == null || $pswd == \"\" || $pswdLen &lt; 8 || $pswdMatch == false) {\n            $validate = false;\n        }\n\n        $target_dir = \"pictures/\";\n        $target_file = $target_dir . ShopUser($_FILES[\"fileToUpload\"][\"name\"]);\n        $imageFileType = strtolower(pathinfo($target_file, PATHINFO_EXTENSION));\n        $check = getimagesize($_FILES[\"fileToUpload\"][\"tmp_name\"]);\n\n        if ($check == false || $_FILES[\"fileToUpload\"][\"size\"] &gt; 2000000 ||\n            $imageFileType != \"jpg\" &amp;&amp; $imageFileType != \"png\" &amp;&amp; $imageFileType != \"jpeg\"\n            &amp;&amp; $imageFileType != \"gif\") {\n            $validate = false;\n        }\n\n    }\n\n    if ($validate == true) {\n        $dateFormat = date(\"DD-MM-YYYY\", strtotime($DOB));\n\n        try {\n            $q2 = \"INSERT INTO ShopUser (name1, name2, email, DOB, pswd)\n                VALUES ('$name1', '$name2', '$email', '$dateFormat', '$pswd')\";\n        } catch (Exception $e) {\n            echo $e . 'not Working';\n        }\n\n\n        $r2 = $db-&gt;query($q2);\n        if ($r2 === true) {\n            header(\"Location: main.php\");\n            $db-&gt;close();\n            exit();\n        }\n    }\n    else\n    {\n        echo \"alert('Error! Something has gone wrong, please try again')\";\n        $db-&gt;close();\n    }\n} \n?&gt;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10231494, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ICx08XgfpbU/AAAAAAAAAAI/AAAAAAAAJzE/jhk0nQvdSv8/photo.jpg?sz=128", "display_name": "Jake Yi", "link": "https://stackoverflow.com/users/10231494/jake-yi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1534381185, "creation_date": 1534371724, "question_id": 51867244, "link": "https://stackoverflow.com/questions/51867244/cannot-insert-data-from-php-into-mysql-server-from-a-registration-form", "title": "Cannot insert data from PHP into MYSQL server from a Registration Form", "body": "<p>I've been trying to get a set of code to work, and currently am unsure about where to go next. I have the HTML, the JS and the PHP setup, but I am unsure where the error lies. When I submit the form, the form resets, and none of the data that I want sent to the SQL is being sent to database. Any help would be appreciated, thanks. </p>\n\n<p>The form I have for HTML</p>\n\n<pre><code>        &lt;form  id=\"SignUp\" method=\"post\" enctype=\"multipart/form-data\" action=\"registration.php\"&gt;\n  &lt;div class=\"container2\"&gt;\n    &lt;h1&gt;Register&lt;/h1&gt;\n    &lt;p&gt;Please fill in this form to create an account.&lt;/p&gt;\n    &lt;hr&gt;\n\n    &lt;label &gt;&lt;b&gt;First Name&lt;/b&gt;&lt;/label&gt;  &lt;label id=\"name1_msg\" class=\"err_msg\"&gt;&lt;/label&gt;\n    &lt;input type=\"text\" placeholder=\"Enter First Name\" name=\"name1\" required&gt; &lt;br/&gt;\n\n    &lt;label &gt;&lt;b&gt;Last Name&lt;/b&gt;&lt;/label&gt;  &lt;label id=\"name2_msg\" class=\"err_msg\"&gt;&lt;/label&gt;\n    &lt;input type=\"text\" placeholder=\"Enter Last Name\" name=\"name2\" required&gt; &lt;br/&gt;\n\n    &lt;label &gt;&lt;b&gt;Email&lt;/b&gt;&lt;/label&gt;  &lt;label id=\"email_msg\" class=\"err_msg\"&gt;&lt;/label&gt;\n    &lt;input type=\"text\" placeholder=\"Enter Email\" name=\"email\" required&gt;&lt;br/&gt;\n\n    &lt;label &gt;&lt;b&gt;Date of Birth&lt;/b&gt;&lt;/label&gt;  &lt;label id=\"DOB_msg\" class=\"err_msg\"&gt;&lt;/label&gt;\n    &lt;input type=\"text\" placeholder=\"Enter Date of Birth DD-MM-YYYY\" name=\"DOB\" required&gt;&lt;br/&gt;\n\n    &lt;label &gt;&lt;b&gt;Password&lt;/b&gt;&lt;/label&gt;  &lt;label id=\"pswd_msg\" class=\"err_msg\"&gt;&lt;/label&gt;\n    &lt;input type=\"password\" placeholder=\"Enter Password\" name=\"pswd\" required&gt;&lt;br/&gt;\n\n    &lt;label &gt;&lt;b&gt;Repeat Password&lt;/b&gt;&lt;/label&gt;  &lt;label id=\"pswdr_msg\" class=\"err_msg\"&gt;&lt;/label&gt;\n    &lt;input type=\"password\" placeholder=\"Repeat Password\" name=\"pswdr\" required&gt;&lt;br/&gt;\n\n    &lt;input type=\"hidden\" name=\"MAX_FILE_SIZE\" value=\"2000000\" /&gt;\n    &lt;input type=\"file\" name=\"pic\" accept=\"image/*\"&gt;\n\n    &lt;hr&gt;\n\n    &lt;p&gt;By creating an account you agree to our &lt;a href=\"#\"&gt;Terms + Privacy&lt;/a&gt;.&lt;/p&gt;\n    &lt;input class=\"btn\" type=\"submit\" value=\"Sign up\" name=\"submit\" /&gt; &lt;label id=\"s_msg\" class=\"err_msg\"&gt;&lt;/label&gt;\n    &lt;p&gt;Already have an account? &lt;a href=\"main.php\"&gt;Sign in&lt;/a&gt;.&lt;/p&gt;\n  &lt;/div&gt;\n\n&lt;/form&gt;\n</code></pre>\n\n<p>I have JS verifying all of the inputs, which then follows with the PHP code, which also verifies it, but server side, which SHOULD then insert all of the information above into the SQL database.</p>\n\n<pre><code>    &lt;?php\n    $validate = true;\n    $name1 = trim($_POST[\"name1\"]);\n    $name2 = trim($_POST[\"name2\"]);\n    $email = trim($_POST[\"email\"]);\n    $DOB = trim($_POST[\"DOB\"]);\n    $pswd = trim($_POST[\"pswd\"]);\n    if ($_SERVER[\"REQUEST_METHOD\"] == \"POST\")\n    {\n    $db = new mysqli(\"localhost\", \"root\", \"root\", \"myDB\");\n    if ($db-&gt;connect_error)\n    {\n        die (\"Connection failed: \" . $db-&gt;connect_error);\n    }\n\n    $q1 = \"SELECT * FROM ShopUser WHERE email = '$email'\";\n    $r1 = $db-&gt;query($q1);\n\n    if($r1-&gt;num_rows &gt; 0)\n    {\n        $validate = false;\n    }\n    else\n    {\n        $name1Match = preg_match(\"/^[a-zA-Z_-]+$/\", $name1);\n        if($name1 == null || $name1 == \"\" || $name1Match == false)\n        {\n            $validate = false;\n        }\n\n        $name2Match = preg_match(\"/^[a-zA-Z_-]+$/\", $name2);\n        if($name2 == null || $name2 == \"\" || $name2Match == false)\n        {\n            $validate = false;\n        }\n\n        $emailMatch = preg_match(\"/^\\w+@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/\", $email);\n        if($email == null || $email == \"\" || $emailMatch == false)\n        {\n            $validate = false;\n        }\n\n        $DOBMatch = preg_match(\"/^(0[1-9]|[12][0-9]|3[01])[\\- \\/.](?:(0[1-9]|1[012])[\\- \\/.](19|20)[0-9]{2})$/\", $DOB);\n        if($DOB == null || $DOB == \"\" || $DOBMatch == false)\n        {\n            $validate = false;\n        }\n\n        $pswdLen = strlen($pswd);\n        $pswdMatch = preg_match(\"/^(?=.*\\d)(?=.*[a-zA-Z]).{8,}$/\", $pswd);\n        if($pswd == null || $pswd == \"\" || $pswdLen&lt; 8 || $pswdMatch == false)\n        {\n            $validate = false;\n        }\n\n        $target_dir = \"pictures/\";\n        $target_file = $target_dir . ShopUser($_FILES[\"fileToUpload\"][\"name\"]);\n        $imageFileType = strtolower(pathinfo($target_file,PATHINFO_EXTENSION));\n        $check = getimagesize($_FILES[\"fileToUpload\"][\"tmp_name\"]);\n\n        if($check == false || $_FILES[\"fileToUpload\"][\"size\"] &gt; 2000000 || \n$imageFileType != \"jpg\" &amp;&amp; $imageFileType != \"png\" &amp;&amp; $imageFileType != \"jpeg\"\n            &amp;&amp; $imageFileType != \"gif\")\n        {\n            $validate = false;\n        }\n\n    }\n\n    if($validate == true)\n    {\n        $dateFormat = date(\"DD-MM-YYYY\", strtotime($DOB));\n\n        $q2 = \"INSERT INTO ShopUser (name1, name2, email, DOB, pswd)\n                VALUES ('$name1', '$name2', '$email', '$dateFormat', '$pswd')\";\n\n\n        $r2 = $db-&gt;query($q2);\n        if ($r2 === true)\n        {\n            header(\"Location: main.php\");\n            $db-&gt;close();\n            exit();\n        }\n    }\n    else\n    {\n        echo \"alert('Error! Something has gone wrong, please try again')\";\n        $db-&gt;close();\n    }}?&gt;\n</code></pre>\n"}, {"tags": ["javascript"], "owner": {"reputation": 11, "user_id": 6714971, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2AOZsF-L00/AAAAAAAAAAI/AAAAAAAAACc/BIoMJ2FVtUM/photo.jpg?sz=128", "display_name": "Mohammad Mahdi", "link": "https://stackoverflow.com/users/6714971/mohammad-mahdi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1534394127, "creation_date": 1534371559, "last_edit_date": 1534394127, "question_id": 51867221, "link": "https://stackoverflow.com/questions/51867221/how-can-i-expand-accordion-when-searching", "title": "How can i expand accordion when searching", "body": "<p>I have two javascript codes. One for opening accordion and other for searching.\n I want to open the accordions when the search word match with the  tag's text.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>document.getElementById(\"defaultOpen\").click();\r\nvar acc = document.getElementsByClassName(\"accordion\");\r\nvar i;\r\n\r\nfor (i = 0; i &lt; acc.length; i++) {\r\n    acc[i].addEventListener(\"click\", function() {\r\n        this.classList.toggle(\"active\");\r\n\r\n        var panel = this.nextElementSibling;\r\n        if (panel.style.display === \"block\") {\r\n            panel.style.display = \"none\";\r\n        } else {\r\n            panel.style.display = \"block\";\r\n        }\r\n    });\r\n}\r\n\r\n\r\n(function(document) {\r\n\t'use strict';\r\n\r\n\tvar LightTableFilter = (function(Arr) {\r\n\r\n\t\tvar _input;\r\n\t\t// Get the element with id=\"defaultOpen\" and click on it\r\n\r\n\t\tfunction _onInputEvent(e) {\r\n\t\t\t_input = e.target;\r\n\t\t\tvar tables = document.getElementsByClassName(_input.getAttribute('data-table'));\r\n\t\t\tArr.forEach.call(tables, function(table) {\r\n\t\t\t\tArr.forEach.call(table.tBodies, function(tbody) {\r\n\t\t\t\t\tArr.forEach.call(tbody.rows, _filter);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tfunction _filter(row) {\r\n\t\t\tvar text = row.textContent.toLowerCase(), val = _input.value.toLowerCase();\r\n\t\t\trow.style.display = text.indexOf(val) === -1 ? 'none' : 'table-row';\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tinit: function() {\r\n\t\t\t\tvar inputs = document.getElementsByClassName('light-table-filter');\r\n\t\t\t\tArr.forEach.call(inputs, function(input) {\r\n\t\t\t\t\tinput.oninput = _onInputEvent;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\t})(Array.prototype);\r\n\r\n\tdocument.addEventListener('readystatechange', function() {\r\n\t\tif (document.readyState === 'complete') {\r\n\t\t\tLightTableFilter.init();\r\n\t\t}\r\n\t});\r\n\r\n})(document);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>What should I do for this action?I tried so much to slove it even by using other codes but ...</p>\n"}, {"tags": ["javascript", "google-chrome", "web-worker", "webassembly"], "answers": [{"comments": [{"owner": {"reputation": 275, "user_id": 6008171, "user_type": "registered", "accept_rate": 38, "profile_image": "https://graph.facebook.com/1254711027890268/picture?type=large", "display_name": "Andreas Moldskred", "link": "https://stackoverflow.com/users/6008171/andreas-moldskred"}, "edited": false, "score": 0, "creation_date": 1534406129, "post_id": 51867586, "comment_id": 90695761, "body": "Thank you for your response, however in this case I am not the creator of the worker. Therefore I cannot handle the onmessage event. I am making a chrome extension that can handle workers on all pages."}], "tags": [], "owner": {"reputation": 523, "user_id": 5821253, "user_type": "registered", "accept_rate": 11, "profile_image": "https://lh3.googleusercontent.com/-TYfpgdcN888/AAAAAAAAAAI/AAAAAAAAABk/-a99aPGkay4/photo.jpg?sz=128", "display_name": "Enthusiastic Developer", "link": "https://stackoverflow.com/users/5821253/enthusiastic-developer"}, "is_accepted": false, "score": 1, "last_activity_date": 1534374321, "creation_date": 1534374321, "answer_id": 51867586, "question_id": 51867208, "link": "https://stackoverflow.com/questions/51867208/listen-for-web-worker-creation/51867586#51867586", "title": "Listen for Web Worker creation?", "body": "<p>There can be some mistakes, I'm trying to describe the concept. So, the idea is that worker can notify parent that he is alive itself. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// MAIN JS THREAD\r\n\r\nconst worker = new Worker('url/to/your/worke.js')\r\n\r\nworker.onmessage = message =&gt; {\r\n  if (message === 'online') {\r\n    // do something \r\n    return\r\n  }\r\n\r\n  // here can be your code that handles main response of the worker\r\n}\r\n\r\n// WORKER.js\r\n\r\npostMessage('online')\r\n\r\n// here you can evaluate some highload code\r\n// that you didn't want to block maon thread\r\n\r\npostMessage('result of highload code')</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 275, "user_id": 6008171, "user_type": "registered", "accept_rate": 38, "profile_image": "https://graph.facebook.com/1254711027890268/picture?type=large", "display_name": "Andreas Moldskred", "link": "https://stackoverflow.com/users/6008171/andreas-moldskred"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1534407718, "creation_date": 1534371474, "last_edit_date": 1534407718, "question_id": 51867208, "link": "https://stackoverflow.com/questions/51867208/listen-for-web-worker-creation", "title": "Listen for Web Worker creation?", "body": "<p>I am trying to handle <code>WebAssembly</code> workers and filter out by URL which ones that I should terminate. However, after reading through the web worker API docs I can figure out any events that are called in the browser when created. </p>\n\n<p>I tried looking at mutation observers in the DOM, but I can't figure any way to listen for the creation. </p>\n\n<p>Does anyone have a solution for this?</p>\n\n<p>EDIT: \nI do not know the workers. I am making a chrome extension, in which I need to scan all pages for workers and their locations (url)</p>\n"}, {"tags": ["javascript", "methods", "console", "undefined", "object-literal"], "comments": [{"owner": {"reputation": 1716, "user_id": 1354244, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/nCKWY.png?s=128&g=1", "display_name": "SuperPrograman", "link": "https://stackoverflow.com/users/1354244/superprograman"}, "edited": false, "score": 0, "creation_date": 1534371554, "post_id": 51867200, "comment_id": 90686375, "body": "<a href=\"https://stackoverflow.com/questions/14633968/chrome-firefox-console-log-always-appends-a-line-saying-undefined\">This perhaps?</a>"}, {"owner": {"reputation": 492, "user_id": 8773858, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-neWH_DwCy6U/AAAAAAAAAAI/AAAAAAAABWs/EJIBPUBRFr0/photo.jpg?sz=128", "display_name": "Quintessa Anderson", "link": "https://stackoverflow.com/users/8773858/quintessa-anderson"}, "reply_to_user": {"reputation": 1716, "user_id": 1354244, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/nCKWY.png?s=128&g=1", "display_name": "SuperPrograman", "link": "https://stackoverflow.com/users/1354244/superprograman"}, "edited": false, "score": 0, "creation_date": 1534372348, "post_id": 51867200, "comment_id": 90686561, "body": "Thanks, I read the post just now and I see I&#39;m actually running this code from a js file which would mean undefined should not append if I&#39;m understanding correctly.  Perhaps it&#39;s b/c javascript is a dynamically typed programming language as another user suggested?"}], "answers": [{"comments": [{"owner": {"reputation": 492, "user_id": 8773858, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-neWH_DwCy6U/AAAAAAAAAAI/AAAAAAAABWs/EJIBPUBRFr0/photo.jpg?sz=128", "display_name": "Quintessa Anderson", "link": "https://stackoverflow.com/users/8773858/quintessa-anderson"}, "edited": false, "score": 0, "creation_date": 1534372980, "post_id": 51867321, "comment_id": 90686705, "body": "That did it!  By changing it to car.start() instead of console.log(car.start()); it works like I want.  Totally makes sense, Thanks!"}], "tags": [], "owner": {"reputation": 141, "user_id": 5823463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5wZO3.jpg?s=128&g=1", "display_name": "Brett Peters", "link": "https://stackoverflow.com/users/5823463/brett-peters"}, "is_accepted": false, "score": 1, "last_activity_date": 1534372210, "creation_date": 1534372210, "answer_id": 51867321, "question_id": 51867200, "link": "https://stackoverflow.com/questions/51867200/method-in-object-literal-notation-logs-to-console-but-also-logs-undefined/51867321#51867321", "title": "Method in Object Literal Notation Logs to Console but also Logs Undefined", "body": "<p>By passing <code>car.start()</code> to <code>console.log</code> you are logging the return value of <code>car.start</code>, which is implicitly <code>undefined</code>. To fix, just change your code to just call the methods on the object, which are already logging to the console.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/return\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/return</a></p>\n"}, {"comments": [{"owner": {"reputation": 492, "user_id": 8773858, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-neWH_DwCy6U/AAAAAAAAAAI/AAAAAAAABWs/EJIBPUBRFr0/photo.jpg?sz=128", "display_name": "Quintessa Anderson", "link": "https://stackoverflow.com/users/8773858/quintessa-anderson"}, "edited": false, "score": 0, "creation_date": 1534373795, "post_id": 51867358, "comment_id": 90686892, "body": "Thanks!  That&#39;s exactly how I have mine now and it works."}, {"owner": {"reputation": 811, "user_id": 6551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6111b4012d1401ca83fdcea6b1d71237?s=128&d=identicon&r=PG", "display_name": "Antonio Cangiano", "link": "https://stackoverflow.com/users/6551/antonio-cangiano"}, "reply_to_user": {"reputation": 492, "user_id": 8773858, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-neWH_DwCy6U/AAAAAAAAAAI/AAAAAAAABWs/EJIBPUBRFr0/photo.jpg?sz=128", "display_name": "Quintessa Anderson", "link": "https://stackoverflow.com/users/8773858/quintessa-anderson"}, "edited": false, "score": 0, "creation_date": 1534374207, "post_id": 51867358, "comment_id": 90686978, "body": "Great. :) A couple of cool tips: 1) In ES6 you can replace <code>start: function()</code> with the more concise <code>start()</code> if you wish; 2) Try <code>console.table(car)</code> to see a neat presentation of your object&#39;s properties and values."}, {"owner": {"reputation": 492, "user_id": 8773858, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-neWH_DwCy6U/AAAAAAAAAAI/AAAAAAAABWs/EJIBPUBRFr0/photo.jpg?sz=128", "display_name": "Quintessa Anderson", "link": "https://stackoverflow.com/users/8773858/quintessa-anderson"}, "edited": false, "score": 1, "creation_date": 1534390868, "post_id": 51867358, "comment_id": 90690176, "body": "Wow, thanks for the tips!  I must admit, I&#39;m excited to use the new ES6 feature and the console.table(car) method is actually really nice - very neat and easy to read. Thanks!"}], "tags": [], "owner": {"reputation": 811, "user_id": 6551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6111b4012d1401ca83fdcea6b1d71237?s=128&d=identicon&r=PG", "display_name": "Antonio Cangiano", "link": "https://stackoverflow.com/users/6551/antonio-cangiano"}, "is_accepted": false, "score": 1, "last_activity_date": 1534372446, "creation_date": 1534372446, "answer_id": 51867358, "question_id": 51867200, "link": "https://stackoverflow.com/questions/51867200/method-in-object-literal-notation-logs-to-console-but-also-logs-undefined/51867358#51867358", "title": "Method in Object Literal Notation Logs to Console but also Logs Undefined", "body": "<p>When you execute <code>car.start()</code> it will print your string to the console and <code>console.log()</code> will return <code>undefined</code>. When you wrap it in another <code>console.log()</code> call, it will print the string and the returned value (e.g., <code>undefined</code>).</p>\n\n<p>You can simply call the methods directly like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>console.log(car);\r\ncar.start();\r\ncar.off();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 492, "user_id": 8773858, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-neWH_DwCy6U/AAAAAAAAAAI/AAAAAAAABWs/EJIBPUBRFr0/photo.jpg?sz=128", "display_name": "Quintessa Anderson", "link": "https://stackoverflow.com/users/8773858/quintessa-anderson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1534372446, "creation_date": 1534371424, "question_id": 51867200, "link": "https://stackoverflow.com/questions/51867200/method-in-object-literal-notation-logs-to-console-but-also-logs-undefined", "title": "Method in Object Literal Notation Logs to Console but also Logs Undefined", "body": "<p>I've created an object using object literal notation and in it I have a couple of methods that I've logged to the console to make sure they are working.  Each method shows in my console.  But right after each method is logged, 'undefined' is returned and I cannot figure out why.  </p>\n\n<p>I have searched questions related to object literal notation but have not seen anything that pertains to this specific issue.</p>\n\n<p>I've even gone through the MDN for working with objects. Something tells me it's probably a simple mistake. Does anyone have any suggestions? </p>\n\n<p>Here is the code I'm using:</p>\n\n<pre><code>var car = {\n    name: 'Magic',\n    make: 'Nissan',\n    model: 'Sentra',\n    mileage: 79000,\n    year: 2002,\n    owned: true,\n    start: function() {\n        console.log('Car is turned on!');\n\n    },\n    off: function() {\n        console.log('This car has not been turned on. Do you have the key?');\n    }\n\n};\n\nconsole.log(car);\nconsole.log(car.start());\nconsole.log(car.off());\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "jestjs", "enzyme"], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 7116651, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ww3c8dv68sg/AAAAAAAAAAI/AAAAAAAAALI/q6ASKNu63PM/photo.jpg?sz=128", "display_name": "Makan Azarshahy", "link": "https://stackoverflow.com/users/7116651/makan-azarshahy"}, "edited": false, "score": 0, "creation_date": 1534376505, "post_id": 51867280, "comment_id": 90687465, "body": "I gave it a try, but I ended up getting an error on Enzyme. It&#39;s saying its an unexpected identifier. I&#39;ll update the post with the error screen, God willing."}, {"owner": {"reputation": 83, "user_id": 7116651, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ww3c8dv68sg/AAAAAAAAAAI/AAAAAAAAALI/q6ASKNu63PM/photo.jpg?sz=128", "display_name": "Makan Azarshahy", "link": "https://stackoverflow.com/users/7116651/makan-azarshahy"}, "edited": false, "score": 0, "creation_date": 1534377266, "post_id": 51867280, "comment_id": 90687621, "body": "I just updated the post. It&#39;s SyntaxError: Unexpected Identifier, and it points to Enzyme on one machine, or import on the other"}, {"owner": {"reputation": 83, "user_id": 7116651, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ww3c8dv68sg/AAAAAAAAAAI/AAAAAAAAALI/q6ASKNu63PM/photo.jpg?sz=128", "display_name": "Makan Azarshahy", "link": "https://stackoverflow.com/users/7116651/makan-azarshahy"}, "edited": false, "score": 0, "creation_date": 1534548224, "post_id": 51867280, "comment_id": 90758752, "body": "Still trying some different things. It&#39;s looking to be a babel set-up issue, but not sure why it works for some machines and not others"}], "tags": [], "owner": {"reputation": 1237, "user_id": 2397717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DtsVA.jpg?s=128&g=1", "display_name": "Sookie Singh", "link": "https://stackoverflow.com/users/2397717/sookie-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1534371976, "creation_date": 1534371976, "answer_id": 51867280, "question_id": 51867183, "link": "https://stackoverflow.com/questions/51867183/jest-encountered-an-unexpected-token-syntaxerror-unexpected-token/51867280#51867280", "title": "Jest encountered an unexpected token: SyntaxError: Unexpected Token {", "body": "<p>Try it like this:</p>\n\n<pre><code>import Enzyme from 'enzyme';\nimport Adapter from 'enzyme-adapter-react-16';\n\nEnzyme.configure({ adapter: new Adapter() });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1023, "user_id": 6654410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fccc3c25078d1e0df665c95d55c17d1f?s=128&d=identicon&r=PG", "display_name": "krankuba", "link": "https://stackoverflow.com/users/6654410/krankuba"}, "is_accepted": false, "score": 1, "last_activity_date": 1543242948, "creation_date": 1543242948, "answer_id": 53483393, "question_id": 51867183, "link": "https://stackoverflow.com/questions/51867183/jest-encountered-an-unexpected-token-syntaxerror-unexpected-token/53483393#53483393", "title": "Jest encountered an unexpected token: SyntaxError: Unexpected Token {", "body": "<p>I had the same problem, it is being answered in similar questions. The way I got around it was to install two class babel plugins:</p>\n\n<pre><code>npm install --save babel-plugin-transform-class-properties\nnpm install --save babel-plugin-syntax-class-properties\n</code></pre>\n\n<p>and include them in your <strong>.babelrc</strong> file:</p>\n\n<pre><code>\"plugins\": [\n  \"transform-class-properties\",\n  \"syntax-class-properties\"\n ]\n</code></pre>\n\n<p>After restarting the tests, the error should be gone :) Good luck!</p>\n"}, {"tags": [], "owner": {"reputation": 751, "user_id": 9149776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jhN2y.jpg?s=128&g=1", "display_name": "dmraptis", "link": "https://stackoverflow.com/users/9149776/dmraptis"}, "is_accepted": false, "score": 0, "last_activity_date": 1546523424, "creation_date": 1546523424, "answer_id": 54023619, "question_id": 51867183, "link": "https://stackoverflow.com/questions/51867183/jest-encountered-an-unexpected-token-syntaxerror-unexpected-token/54023619#54023619", "title": "Jest encountered an unexpected token: SyntaxError: Unexpected Token {", "body": "<p>Try to add the following plugin to your <code>.babelrc</code> config file in order to fix the <code>import Enzyme</code> error: </p>\n\n<p><code>\"plugins\": [\"transform-es2015-modules-commonjs\"]</code></p>\n"}], "owner": {"reputation": 83, "user_id": 7116651, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ww3c8dv68sg/AAAAAAAAAAI/AAAAAAAAALI/q6ASKNu63PM/photo.jpg?sz=128", "display_name": "Makan Azarshahy", "link": "https://stackoverflow.com/users/7116651/makan-azarshahy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3460, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1600178136, "creation_date": 1534371328, "last_edit_date": 1534376884, "question_id": 51867183, "link": "https://stackoverflow.com/questions/51867183/jest-encountered-an-unexpected-token-syntaxerror-unexpected-token", "title": "Jest encountered an unexpected token: SyntaxError: Unexpected Token {", "body": "<h1>Issue:</h1>\n\n<p>I am running my tests with Jest and Enzyme when I came across this error when I was running my code on a different machine.</p>\n\n<p>When I run <code>npm test</code> which only runs <code>jest --coverage --verbose</code> it will get this error every time. However, this doesn't happen when I run it on my work lap top.</p>\n\n<p><a href=\"https://i.stack.imgur.com/hsdZG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hsdZG.png\" alt=\"Jest Error\"></a></p>\n\n<p>What I'm trying to figure out is why this is breaking over the \"{\" token when I run my testing script. I've seen some people suggest that using babel-jest would help, but I don't believe that is the cause of this issue, as it doesn't affect my work laptop. I've also read that babel-jest doesn't resolve this issue.</p>\n\n<p>Any assitance would be greatly appreciated.</p>\n\n<hr>\n\n<h1>Here is the setUp file that it's referring to:</h1>\n\n<p><strong>setUptests.js</strong></p>\n\n<pre><code>import { configure } from 'enzyme'; // eslint-disable-line import/no-extraneous-dependencies\n\nimport Adapter from 'enzyme-adapter-react-16'; // eslint-disable-line import/no-extraneous-dependencies\n\nconfigure({ adapter: new Adapter() });\n</code></pre>\n\n<p>My <strong>webpack.config.js</strong>:</p>\n\n<pre><code>const path = require('path');\n\nmodule.exports = {\n  entry: {\n    base: path.resolve(__dirname, './app/app.jsx'),\n    redux: path.resolve(__dirname, './app/reduxApp.jsx'),\n  },\n  output: {\n    path: path.resolve(__dirname, './public'),\n    filename: '[name].bundle.js',\n  },\n  module: {\n    rules: [\n      {\n        test: /\\.jsx?$/,\n        exclude: /node_modules/,\n        loader: 'babel-loader',\n        query: {\n          presets: ['env', 'react', 'stage-2'],\n        },\n      },\n    ],\n  },\n  resolve: {\n    extensions: ['.js', '.jsx'],\n  },\n};\n</code></pre>\n\n<p>My <strong>package.json</strong> has the <strong>configurations</strong> for my jest here:</p>\n\n<pre><code>\"jest\": {\n    \"testURL\": \"http://localhost/\",\n    \"setupTestFrameworkScriptFile\": \"./setUpTests.js\",\n    \"testEnvironment\": \"node\",\n    \"unmockedModulePathPatterns\": [\n      \"node_modules/react/\",\n      \"node_modules/enzyme/\"\n    ],\n    \"coverageThreshold\": {\n      \"global\": {\n        \"statements\": 98,\n        \"branches\": 91,\n        \"functions\": 98,\n        \"lines\": 98\n      }\n    }\n  }\n</code></pre>\n\n<p>and here are the list of <strong>dependencies</strong> that I'm using:</p>\n\n<pre><code>  \"dependencies\": {\n    \"express\": \"^4.16.3\",\n    \"prop-types\": \"^15.6.2\",\n    \"react\": \"^16.4.2\",\n    \"react-dom\": \"^16.4.2\",\n    \"react-redux\": \"^5.0.7\",\n    \"redux\": \"^4.0.0\"\n  },\n  \"devDependencies\": {\n    \"babel\": \"^6.23.0\",\n    \"babel-cli\": \"^6.26.0\",\n    \"babel-core\": \"^6.26.3\",\n    \"babel-loader\": \"^7.1.5\",\n    \"babel-preset-env\": \"^1.7.0\",\n    \"babel-preset-react\": \"^6.24.1\",\n    \"babel-preset-stage-2\": \"^6.24.1\",\n    \"enzyme\": \"^3.4.1\",\n    \"enzyme-adapter-react-16\": \"^1.2.0\",\n    \"eslint\": \"^4.19.1\",\n    \"eslint-config-airbnb\": \"^17.0.0\",\n    \"eslint-plugin-import\": \"^2.13.0\",\n    \"eslint-plugin-jsx-a11y\": \"^6.1.1\",\n    \"eslint-plugin-react\": \"^7.10.0\",\n    \"jest\": \"^23.4.2\",\n    \"jsdom\": \"^11.12.0\",\n    \"nodemon\": \"^1.18.3\",\n    \"react-test-renderer\": \"^16.4.2\",\n    \"webpack\": \"^4.16.5\",\n    \"webpack-cli\": \"^3.1.0\"\n  }\n</code></pre>\n\n<hr>\n\n<h2>UPDATE:</h2>\n\n<p>Attempted to switch the code from:\n<code>import { configure } from 'enzyme';</code>\nto:\n<code>import Enzyme from 'enzyme';</code></p>\n\n<p>I'm assuming its an import issue at the moment. Will continue to research to see what will fix this.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ivE4Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ivE4Q.png\" alt=\"Removed destructuring and declared with Enzyme\"></a></p>\n"}, {"tags": ["javascript", "arrays", "json", "node.js"], "answers": [{"tags": [], "owner": {"reputation": 3899, "user_id": 2464706, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ufYGl.jpg?s=128&g=1", "display_name": "musicnothing", "link": "https://stackoverflow.com/users/2464706/musicnothing"}, "is_accepted": true, "score": 1, "last_activity_date": 1534371379, "creation_date": 1534371379, "answer_id": 51867191, "question_id": 51867168, "link": "https://stackoverflow.com/questions/51867168/retrieving-a-string-value-stored-in-an-array-thats-stored-in-a-json-returns-onl/51867191#51867191", "title": "Retrieving a string value stored in an array that&#39;s stored in a JSON returns only the first character of the string", "body": "<p>You're close. Try this:</p>\n\n<pre><code>console.log(arr[val][0]);\n</code></pre>\n\n<p><code>arr</code> is a JSON object and <code>val</code> is actually the key, not the value. <code>arr[val]</code> will give you the array you want, and then you can get the first item by using <code>arr[val][0]</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 523, "user_id": 5821253, "user_type": "registered", "accept_rate": 11, "profile_image": "https://lh3.googleusercontent.com/-TYfpgdcN888/AAAAAAAAAAI/AAAAAAAAABk/-a99aPGkay4/photo.jpg?sz=128", "display_name": "Enthusiastic Developer", "link": "https://stackoverflow.com/users/5821253/enthusiastic-developer"}, "is_accepted": false, "score": 0, "last_activity_date": 1534372351, "creation_date": 1534372351, "answer_id": 51867344, "question_id": 51867168, "link": "https://stackoverflow.com/questions/51867168/retrieving-a-string-value-stored-in-an-array-thats-stored-in-a-json-returns-onl/51867344#51867344", "title": "Retrieving a string value stored in an array that&#39;s stored in a JSON returns only the first character of the string", "body": "<p>You can iterate through the values of the object, Look:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const sample = {\r\n    \"420431645041229834\": [\r\n        \"422658075720417290\",\r\n        \"KSEA\",\r\n        \"KLAX\"\r\n    ],\r\n    \"test\": [\r\n        \"this is a test\"\r\n    ]\r\n}\r\n\r\nObject.values(sample).forEach(value =&gt; {\r\n   const [firstElementOfArray] = value\r\n   console.log(firstElementOfArray)\r\n})</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 85, "user_id": 10231496, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bN47M.png?s=128&g=1", "display_name": "1230james", "link": "https://stackoverflow.com/users/10231496/1230james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 51867191, "answer_count": 2, "score": 1, "last_activity_date": 1534372351, "creation_date": 1534371219, "question_id": 51867168, "link": "https://stackoverflow.com/questions/51867168/retrieving-a-string-value-stored-in-an-array-thats-stored-in-a-json-returns-onl", "title": "Retrieving a string value stored in an array that&#39;s stored in a JSON returns only the first character of the string", "body": "<p>I have this code here:</p>\n\n<pre><code>const timer = nodeSchedule.scheduleJob(\"*/5 * * * * *\",function() {\n    let arr = require(\"./autometar.json\");\n    for (let val in arr) {\n        console.log(val);\n        console.log(val[0]);\n    }\n});\n</code></pre>\n\n<p><code>nodeSchedule</code> refers to an npm library called \"node-schedule\"; all it does in this context is run the function above every 5 seconds.</p>\n\n<p><code>autometar.json</code> is a file that current looks like this:</p>\n\n<pre><code>{\n    \"420431645041229834\": [\n        \"422658075720417290\",\n        \"KSEA\",\n        \"KLAX\"\n    ],\n    \"test\": [\n        \"this is a test\"\n    ]\n}\n</code></pre>\n\n<p>Currently, I'm trying to retrieve the first value stored in the arrays stored within <code>autometar.json</code>. For example, I want to be able to retrieve the string <code>\"this is a test\"</code> from the array labeled as <code>\"test\"</code> in the file.</p>\n\n<p>However, when running the function above with the given file, the console outputs the following:</p>\n\n<pre><code>420431645041229834\n4\ntest\nt\n</code></pre>\n\n<p>It appears to only be returning the first character of the strings stored, but I need the whole string.</p>\n\n<p>Just for your information, this is running through Node.js.</p>\n"}, {"tags": ["javascript", "error-handling", "fetch"], "comments": [{"owner": {"reputation": 1237, "user_id": 2397717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DtsVA.jpg?s=128&g=1", "display_name": "Sookie Singh", "link": "https://stackoverflow.com/users/2397717/sookie-singh"}, "edited": false, "score": 0, "creation_date": 1534371561, "post_id": 51867138, "comment_id": 90686378, "body": "Can you also provide the value of response?"}, {"owner": {"reputation": 1237, "user_id": 2397717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DtsVA.jpg?s=128&g=1", "display_name": "Sookie Singh", "link": "https://stackoverflow.com/users/2397717/sookie-singh"}, "edited": false, "score": 0, "creation_date": 1534372786, "post_id": 51867138, "comment_id": 90686653, "body": "Are you able to console <code>JSON.parse(response)</code>?"}, {"owner": {"reputation": 394, "user_id": 2465307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/153b302e7122e56490536469ab531c68?s=128&d=identicon&r=PG", "display_name": "kflaw", "link": "https://stackoverflow.com/users/2465307/kflaw"}, "reply_to_user": {"reputation": 1237, "user_id": 2397717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DtsVA.jpg?s=128&g=1", "display_name": "Sookie Singh", "link": "https://stackoverflow.com/users/2397717/sookie-singh"}, "edited": false, "score": 0, "creation_date": 1534372948, "post_id": 51867138, "comment_id": 90686697, "body": "@SookieSingh no I get similar error <code>qgis2web.js:432 Uncaught (in promise) SyntaxError: Unexpected token o in JSON at position 1</code> because it can&#39;t parse the response."}, {"owner": {"reputation": 1237, "user_id": 2397717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DtsVA.jpg?s=128&g=1", "display_name": "Sookie Singh", "link": "https://stackoverflow.com/users/2397717/sookie-singh"}, "edited": false, "score": 0, "creation_date": 1534373028, "post_id": 51867138, "comment_id": 90686714, "body": "It means it is already parsed. You don&#39;t have to parse."}], "answers": [{"comments": [{"owner": {"reputation": 394, "user_id": 2465307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/153b302e7122e56490536469ab531c68?s=128&d=identicon&r=PG", "display_name": "kflaw", "link": "https://stackoverflow.com/users/2465307/kflaw"}, "edited": false, "score": 0, "creation_date": 1534373818, "post_id": 51867443, "comment_id": 90686897, "body": "oh thank you I see that now, that is helpful and makes it easier for me to try and address the error, which is now on the var features line"}, {"owner": {"reputation": 1237, "user_id": 2397717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DtsVA.jpg?s=128&g=1", "display_name": "Sookie Singh", "link": "https://stackoverflow.com/users/2397717/sookie-singh"}, "reply_to_user": {"reputation": 394, "user_id": 2465307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/153b302e7122e56490536469ab531c68?s=128&d=identicon&r=PG", "display_name": "kflaw", "link": "https://stackoverflow.com/users/2465307/kflaw"}, "edited": false, "score": 0, "creation_date": 1534373989, "post_id": 51867443, "comment_id": 90686938, "body": "Glad to help! :)"}, {"owner": {"reputation": 394, "user_id": 2465307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/153b302e7122e56490536469ab531c68?s=128&d=identicon&r=PG", "display_name": "kflaw", "link": "https://stackoverflow.com/users/2465307/kflaw"}, "edited": false, "score": 0, "creation_date": 1534374007, "post_id": 51867443, "comment_id": 90686943, "body": "actually this causes issues with queries I know are correct when I made this change, will try to figure out why"}, {"owner": {"reputation": 1237, "user_id": 2397717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DtsVA.jpg?s=128&g=1", "display_name": "Sookie Singh", "link": "https://stackoverflow.com/users/2397717/sookie-singh"}, "reply_to_user": {"reputation": 394, "user_id": 2465307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/153b302e7122e56490536469ab531c68?s=128&d=identicon&r=PG", "display_name": "kflaw", "link": "https://stackoverflow.com/users/2465307/kflaw"}, "edited": false, "score": 0, "creation_date": 1534374990, "post_id": 51867443, "comment_id": 90687130, "body": "Well you can add an extra check for the same. First check if it is JSON or not and act accordingly."}], "tags": [], "owner": {"reputation": 1237, "user_id": 2397717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DtsVA.jpg?s=128&g=1", "display_name": "Sookie Singh", "link": "https://stackoverflow.com/users/2397717/sookie-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1534373110, "creation_date": 1534373110, "answer_id": 51867443, "question_id": 51867138, "link": "https://stackoverflow.com/questions/51867138/how-to-catch-the-error-in-fetch-response-conversion-to-json-and-do-something/51867443#51867443", "title": "how to catch the error in fetch response conversion to json and do something?", "body": "<p>The result you are getting is already JSON. You can use it like this:</p>\n\n<pre><code>fetch(url2, {\n    method: 'POST',\n    signal: signal,\n}).then(function(response) {\n    var features = new ol.format.GeoJSON().readFeatures(response);\n});\n</code></pre>\n"}], "owner": {"reputation": 394, "user_id": 2465307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/153b302e7122e56490536469ab531c68?s=128&d=identicon&r=PG", "display_name": "kflaw", "link": "https://stackoverflow.com/users/2465307/kflaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534373110, "creation_date": 1534371073, "last_edit_date": 1534371786, "question_id": 51867138, "link": "https://stackoverflow.com/questions/51867138/how-to-catch-the-error-in-fetch-response-conversion-to-json-and-do-something", "title": "how to catch the error in fetch response conversion to json and do something?", "body": "<p>I am using this fetch request, and there are times when the response is ok (200) but the response can't be converted to json. I'm unsure of how to catch this error, i have tried using try/catch but can't figure out exactly where those clauses should be placed. I am not a javascript expert, any advice would be appreciated!</p>\n\n<pre><code>fetch(url2, {\n        method: 'POST',\n        signal: signal,\n      }).then(function(response) {\n          console.log(response);\n          console.log(response.url);\n        return response.json();\n      }).then(function(json) {\n        var features = new ol.format.GeoJSON().readFeatures(json);\n }); \n</code></pre>\n\n<p>this is the response I get and the error:</p>\n\n<pre><code>Response\u00a0{type: \"basic\", url: \"http://localhost:8080/geoserver/wfs?service=WFS&amp;ve\u202627%20acres%3E%3D300&amp;outputFormat=application/json\", redirected: false, status: 200, ok: true,\u00a0\u2026}\nqgis2web.js:416 http://localhost:8080/geoserver/wfs?service=WFS&amp;version=1.1.0&amp;request=GetFeature&amp;typename=sde:parcels_slim_part_view&amp;maxFeatures=1000&amp;CQL_FILTER=county=%27Camden%27%20acres%3E%3D300&amp;outputFormat=application/json\n\nindex.html#:1 Uncaught (in promise) SyntaxError: Unexpected token &lt; in JSON at position 0\n</code></pre>\n\n<p>I know the problem is that the query in the URL is not structured properly and I want to create an alert when this happens.</p>\n"}, {"tags": ["javascript", "html", "bootstrap-4"], "comments": [{"owner": {"reputation": 16037, "user_id": 2410655, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/aBhdJ.jpg?s=128&g=1", "display_name": "David Liang", "link": "https://stackoverflow.com/users/2410655/david-liang"}, "edited": false, "score": 0, "creation_date": 1534371988, "post_id": 51867112, "comment_id": 90686472, "body": "Why do you have multiple versions of script files at the bottom of the body? For example you have <code>jquery</code> 3.2.1 and then you also include <code>jquery</code> 3.3.1. You have <code>bootstrap</code> 4.1.3 and then you later include <code>bootstrap</code> 4.0.0 again. WHY!"}, {"owner": {"reputation": 11, "user_id": 10231445, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TBDhYOnbRDI/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaP4qBFYP6duhwvhRq_Xdsh_1geTOg/mo/photo.jpg?sz=128", "display_name": "jorrai", "link": "https://stackoverflow.com/users/10231445/jorrai"}, "reply_to_user": {"reputation": 16037, "user_id": 2410655, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/aBhdJ.jpg?s=128&g=1", "display_name": "David Liang", "link": "https://stackoverflow.com/users/2410655/david-liang"}, "edited": false, "score": 0, "creation_date": 1534387298, "post_id": 51867112, "comment_id": 90689514, "body": "Just testing the different versions to see what was working. When I ran the file there was a single version of each. But the issue was resolved."}], "owner": {"reputation": 11, "user_id": 10231445, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TBDhYOnbRDI/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaP4qBFYP6duhwvhRq_Xdsh_1geTOg/mo/photo.jpg?sz=128", "display_name": "jorrai", "link": "https://stackoverflow.com/users/10231445/jorrai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 676, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1534377131, "creation_date": 1534370881, "last_edit_date": 1534377131, "question_id": 51867112, "link": "https://stackoverflow.com/questions/51867112/data-toggle-not-working-bootstrap", "title": "Data-Toggle not working bootstrap", "body": "<p>I'm trying to add data-toggle and data-target to a class but it's not working. I've made a html file that uses javascript, css, and bootstrap. \nThis is the code.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n\r\n&lt;head&gt;\r\n  &lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css\" integrity=\"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm\" crossorigin=\"anonymous\"&gt;\r\n  &lt;title&gt;Portfolio&lt;/title&gt;\r\n  &lt;meta charset=\"utf-8\"&gt;\r\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\r\n  &lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css\"&gt;\r\n  &lt;link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"&gt;\r\n  &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"css/style.css\"&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n  &lt;header&gt;\r\n    &lt;div class=\"container\"&gt;\r\n      &lt;div class=\"row no-gutters\"&gt;\r\n        &lt;div class=\"col-lg-4 col-md-4\"&gt;\r\n          &lt;img src=\"img/profile pic.png\"&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=\"col-lg-8 col-md-8\"&gt;\r\n          &lt;div class=\"d-flex flex-column\"&gt;\r\n            &lt;div class=\"p-5 bg-dark text-white\"&gt;\r\n              &lt;div class=\"d-flex flex-row justify-content-between align-items-center\"&gt;\r\n                &lt;h1 class=\"display-4\"&gt; Jordan Rai &lt;/h1&gt;\r\n                &lt;div&gt; &lt;i class=\"fa fa-github  fa-2x\"&gt;&lt;/i&gt; &lt;/div&gt;\r\n                &lt;div&gt; &lt;i class=\"fa fa-linkedin-square  fa-2x\"&gt;&lt;/i&gt; &lt;/div&gt;\r\n              &lt;/div&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=\"p-3 text-white bg-black\"&gt;\r\n              Student (Senior) at the Pennslyvania State University\r\n            &lt;/div&gt;\r\n            &lt;div class=\"d-flex flex-row text-center text-white align-items-start\"&gt;\r\n              &lt;div class=\"p-4 bg-success font-div\" data-toggle=\"collapse\" data-target=\"#home\"&gt;\r\n                &lt;i class=\"fa fa-home  fa-2x d-block\"&gt;&lt;/i&gt; Home\r\n              &lt;/div&gt;\r\n              &lt;div class=\"p-4 bg-danger font-div\"&gt;\r\n                &lt;i class=\"fa fa-graduation-cap  fa-2x d-block\"&gt;&lt;/i&gt; Resume\r\n              &lt;/div&gt;\r\n              &lt;div class=\"p-4 bg-primary font-div\"&gt;\r\n                &lt;i class=\"fa fa-folder  fa-2x d-block\"&gt;&lt;/i&gt; Projects\r\n              &lt;/div&gt;\r\n              &lt;div class=\"p-4 bg-warning font-div\"&gt;\r\n                &lt;i class=\"fa fa-envelope  fa-2x d-block\"&gt;&lt;/i&gt; Contact\r\n              &lt;/div&gt;\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/header&gt;\r\n  &lt;div class=\"container\"&gt;\r\n    &lt;div class=\"collapse id=\" id=\"home\"&gt;\r\n      &lt;div class=\"p-5 text-white bg-success\"&gt;\r\n        &lt;h2&gt;My Resume&lt;/h2&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=\"container \"&gt;\r\n    &lt;footer class=\"p-5 bg-dark text-center \"&gt;\r\n      &lt;button class=\"btn \"&gt;\r\n    \t\t&lt;i class=\"fa fa-download fa-2x d-block \"&gt;&lt;/i&gt; Download\r\n    \t&lt;/button&gt;\r\n    &lt;/footer&gt;\r\n  &lt;/div&gt;\r\n  &lt;script src=\"https://code.jquery.com/jquery-3.2.1.slim.min.js \" integrity=\"sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN \" crossorigin=\"anonymous \"&gt;&lt;/script&gt;\r\n\r\n  &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js \"&gt;&lt;/script&gt;\r\n  &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js \"&gt;&lt;/script&gt;\r\n  &lt;script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js \"&gt;&lt;/script&gt;\r\n  &lt;script src=\"https://code.jquery.com/jquery-3.2.1.slim.min.js \" integrity=\"sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN \" crossorigin=\"anonymous \"&gt;&lt;/script&gt;\r\n  &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js \" integrity=\"sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q \" crossorigin=\"anonymous \"&gt;&lt;/script&gt;\r\n  &lt;script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js \" integrity=\"sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl \" crossorigin=\"anonymous \"&gt;&lt;/script&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I'm not sure if this is an issue of the order of the dependencies and .js files in the code. But when I run the file \"home\" does not have a collapsible bar.</p>\n"}, {"tags": ["javascript", "html", "angular", "typescript", "slider"], "answers": [{"tags": [], "owner": {"reputation": 2552, "user_id": 5487673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tDPsf.jpg?s=128&g=1", "display_name": "Simon K", "link": "https://stackoverflow.com/users/5487673/simon-k"}, "is_accepted": false, "score": 1, "last_activity_date": 1534371904, "creation_date": 1534371904, "answer_id": 51867271, "question_id": 51867110, "link": "https://stackoverflow.com/questions/51867110/html-range-element-value-not-updating-with-angular6-function/51867271#51867271", "title": "HTML Range element value not updating with Angular6 function", "body": "<p>You problem is that <code>slider.getAttribute(\"value\")</code> reads the value of the attribute, not the value of the input, so it will always say <code>30</code>.</p>\n\n<p>What you need is:</p>\n\n<pre><code>update(i: number) {\n    const id = `shade${i}`;\n    const slider = document.getElementById(id) as HTMLInputElement;\n    console.log(slider.value);\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10231470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d35f93dd5da63f371ecd5856ff698e3e?s=128&d=identicon&r=PG&f=1", "display_name": "EJ McDonnell", "link": "https://stackoverflow.com/users/10231470/ej-mcdonnell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1534371904, "creation_date": 1534370874, "question_id": 51867110, "link": "https://stackoverflow.com/questions/51867110/html-range-element-value-not-updating-with-angular6-function", "title": "HTML Range element value not updating with Angular6 function", "body": "<p>I am trying to get access to the changing values of a series of HTML range sliders.  </p>\n\n<p>Here is how they're instantiated:</p>\n\n<pre><code>&lt;li *ngFor=\"let rgbVal of rgbVals; let i=index\"&gt;\n            {{i}}: {{rgbVal}} &lt;br&gt;\n            &lt;div class=\"color-box\" [style.backgroundColor]=\"rgbVal\"&gt;&lt;/div&gt;\n            &lt;div class=\"slideContainer\" &gt;\n                &lt;input type=\"range\" min=\"1\" max=\"100\" value=\"30\"  class=\"slider\" id=\"shade{{i}}\" step=\"1\" (change) = \"update(i)\"  &gt;\n\n            &lt;/div&gt;\n\n\n        &lt;/li&gt;\n</code></pre>\n\n<p>This is the Typescript function I have in my .ts function that should be able to access the value of the sliders:</p>\n\n<pre><code>update(i){\nvar id = \"shade\"+i;\nvar slider = document.getElementById(id);\nconsole.log(slider.getAttribute(\"value\"));}\n</code></pre>\n\n<p>The value once I move the slider stays constant &amp; unchanged, no matter which slider I move or how much I move it. </p>\n\n<p>Interestingly enough, if I run this code: </p>\n\n<pre><code> update(i){\nvar sliders = document.getElementsByClassName(\"slider\");\nconsole.log(sliders);}\n</code></pre>\n\n<p>And then in the console open up the HTML container and look at the value field of each slider, it is updated as I move it.  </p>\n\n<p>I also tried </p>\n\n<pre><code>slider = sliders[i];\nconsole.log(slider.getAttribute(\"value\");\n</code></pre>\n\n<p>And that stayed constant regardless of change, even though that slider when viewed as a part of the sliders object allowed the value to be updated. </p>\n\n<p>I am baffled by this one and can't find any similar errors online, so any help would be greatly appreciated.  </p>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "comments": [{"owner": {"reputation": 2152, "user_id": 1189882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4246442d37bb75f6c85ef6320620c6ba?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/1189882/mark"}, "edited": false, "score": 0, "creation_date": 1534372297, "post_id": 51867076, "comment_id": 90686549, "body": "Looks like you have left/right padding on the anchor."}, {"owner": {"reputation": 2152, "user_id": 1189882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4246442d37bb75f6c85ef6320620c6ba?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/1189882/mark"}, "reply_to_user": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "edited": false, "score": 0, "creation_date": 1534373342, "post_id": 51867076, "comment_id": 90686792, "body": "@KoshVery I was aware of that rule too, but I don&#39;t use flexbox much; when I inspect the <code>a</code> tags, in Chrome at least, they are receiving <code>display:block</code> because of the parent flexbox display property (Note: I had to use the computed styles in dev tools, as the normal list of styles showed flexbox as being inherited but grayed out - but computed shows block)."}, {"owner": {"reputation": 229718, "user_id": 82548, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/db5a61382c2ba7309071c323edb4013b?s=128&d=identicon&r=PG", "display_name": "David says reinstate Monica", "link": "https://stackoverflow.com/users/82548/david-says-reinstate-monica"}, "reply_to_user": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "edited": false, "score": 1, "creation_date": 1534374204, "post_id": 51867076, "comment_id": 90686976, "body": "@Kosh: an <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a\" rel=\"nofollow noreferrer\">anchor element</a> is \u2018transparent,\u2019 and can contain any element types (so long as the content html is itself valid) with the exception of interactive content."}, {"owner": {"reputation": 16793, "user_id": 4665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8f83c3e22eab30856c803b1d96e1a04f?s=128&d=identicon&r=PG", "display_name": "Jon P", "link": "https://stackoverflow.com/users/4665/jon-p"}, "reply_to_user": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "edited": false, "score": 0, "creation_date": 1534374453, "post_id": 51867076, "comment_id": 90687022, "body": "@KoshVery supporting David&#39;s comment : <a href=\"http://html5doctor.com/block-level-links-in-html-5/\" rel=\"nofollow noreferrer\">html5doctor.com/block-level-links-in-html-5</a>"}, {"owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "edited": false, "score": 0, "creation_date": 1534375970, "post_id": 51867076, "comment_id": 90687352, "body": "Yes guys, you are right. It is HTML5 valid though HTML5 is still a recommendation not a living standard."}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 9483152, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ipOsCGh_FB8/AAAAAAAAAAI/AAAAAAAADZA/ePlaXPHUCo0/photo.jpg?sz=128", "display_name": "Swapnil Iqbal", "link": "https://stackoverflow.com/users/9483152/swapnil-iqbal"}, "edited": false, "score": 0, "creation_date": 1534376290, "post_id": 51867389, "comment_id": 90687419, "body": "Yeah, this worked, though i didnt need to change it to 320px. Thank you"}], "tags": [], "owner": {"reputation": 2152, "user_id": 1189882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4246442d37bb75f6c85ef6320620c6ba?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/1189882/mark"}, "is_accepted": true, "score": 2, "last_activity_date": 1534372695, "creation_date": 1534372695, "answer_id": 51867389, "question_id": 51867076, "link": "https://stackoverflow.com/questions/51867076/div-within-an-anchor-tag-not-taking-up-entire-width-html-and-css/51867389#51867389", "title": "Div within an anchor tag not taking up entire width? HTML and CSS", "body": "<p>If you remove the left/right padding on the anchors, and extend the width of your <code>.project</code> elements to 320px, it should look how you want it - though I'm not sure if you have the padding there for some other purpose.</p>\n\n<pre><code>.project {\n    width: 320px;\n    height: 300px;\n    background-image: url('http://via.placeholder.com/300x300');\n    background-repeat: no-repeat;\n    background-size: cover;\n    border-radius: 20px;\n    margin: 20px 20px 0 20px;\n}\n\na {\n    text-decoration: none;\n    font-weight: bold;\n    font-family: 'Roboto', sans-serif;\n    color: white;\n    font-size: 30px;\n    padding: 0;\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/dtwLjqx4/\" rel=\"nofollow noreferrer\">http://jsfiddle.net/dtwLjqx4/</a></p>\n"}], "owner": {"reputation": 55, "user_id": 9483152, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ipOsCGh_FB8/AAAAAAAAAAI/AAAAAAAADZA/ePlaXPHUCo0/photo.jpg?sz=128", "display_name": "Swapnil Iqbal", "link": "https://stackoverflow.com/users/9483152/swapnil-iqbal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 717, "favorite_count": 0, "accepted_answer_id": 51867389, "answer_count": 1, "score": 0, "last_activity_date": 1534375460, "creation_date": 1534370665, "question_id": 51867076, "link": "https://stackoverflow.com/questions/51867076/div-within-an-anchor-tag-not-taking-up-entire-width-html-and-css", "title": "Div within an anchor tag not taking up entire width? HTML and CSS", "body": "<p>Okay, so I've got a <code>div</code> tag inside an <code>a</code> tag. The <code>a</code> tag, which has class \"project\" has a background image. I'm trying to make several little <code>300px by 300px</code>  boxes, in which there is an image, with text centered (vert and hor), so that you'd click the image and it'll take you to a link. </p>\n\n<p>I want to get a hover effect (on desktops) so that when you go over this <code>a</code> tag, which has the image as a <code>background image</code>, the image darkens, making the white text more visible. On mobile, this image is always darkened so the text is clearly visible.</p>\n\n<p><strong>Here's the problem:</strong> I have everything working fine, but the \"overlay\" <code>div</code> within the <code>a</code> tag is not taking up the entire width of the a tag (300px by 300px box). <em>Therefore,</em> when I hover over the <code>a</code> tag, and the \"overlay\" <code>div</code> turns dark, there's a little space on both sides that is not dark.</p>\n\n<p><strong>Here is some of the code:</strong></p>\n\n<p><strong>HTML for the projects section:</strong></p>\n\n<pre><code>&lt;!-- Projects Showcase Section --&gt;\n&lt;div class=\"projects-section\"&gt;\n\n    &lt;div class=\"wrapper\"&gt;\n\n        &lt;a href=\"link-to-project\" class=\"project\"&gt;\n            &lt;div class=\"overlay\"&gt;\n                &lt;h1&gt;Project Name&lt;/h1&gt;\n            &lt;/div&gt;\n        &lt;/a&gt;\n\n        &lt;a href=\"link-to-project\" class=\"project\"&gt;\n            &lt;div class=\"overlay\"&gt;\n                &lt;h1&gt;Project Name&lt;/h1&gt;\n            &lt;/div&gt;\n        &lt;/a&gt;\n\n        &lt;a href=\"link-to-project\" class=\"project\"&gt;\n            &lt;div class=\"overlay\"&gt;\n                &lt;h1&gt;Project Name&lt;/h1&gt;\n            &lt;/div&gt;\n        &lt;/a&gt;\n\n    &lt;/div&gt;\n&lt;/div&gt; \n</code></pre>\n\n<p><strong>CSS:</strong></p>\n\n<pre><code>.projects-section {\n    width: 90%;\n    margin: 0 auto;\n    text-align: center;\n}\n\n.wrapper {\n    margin-bottom: 50px;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    text-align: center;\n}\n\n.project {\n    width: 300px;\n    height: 300px;\n    background-image: url('../assets/img/p1-min.jpg');\n    background-repeat: no-repeat;\n    background-size: cover;\n    border-radius: 20px;\n    margin: 20px 20px 0 20px;\n}\n\n.project:nth-child(2) {\n    width: 300px;\n    height: 300px;\n    background-image: url('../assets/img/p2-min.jpg');\n    background-size: cover;\n    background-position: center;\n    background-repeat: no-repeat;\n    border-radius: 20px;\n}\n\n.project:nth-child(3) {\n    width: 300px;\n    height: 300px;\n    background-image: url('../assets/img/p3-min.jpg');\n    background-repeat: no-repeat;\n    background-size: cover;\n    background-position: center;\n    border-radius: 20px;\n}\n\na {\n    text-decoration: none;\n    font-weight: bold;\n    font-family: 'Roboto', sans-serif;\n    color: white;\n    font-size: 30px;\n    padding: 0 10px;\n}\n\n.project .overlay {\n    height: 100%;\n    width: 100%;\n    margin: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    transition: 0.4s all ease;\n    border-radius: 20px;\n}\n\n.overlay:hover {\n    background-color: rgba(0, 0, 0, 0.5);\n}\n</code></pre>\n\n<p><strong>Here's an image of what the problem looks like:</strong>\n<a href=\"https://i.stack.imgur.com/HlPln.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HlPln.png\" alt=\"The Problem\"></a></p>\n\n<p>As you can see, the left and right side of the \"overlay\" <code>div</code> are not fully expanded to fit inside the <code>a</code> tag, making it obvious there's a div there.</p>\n\n<p>Please help me fix it, thank you.</p>\n"}, {"tags": ["javascript", "this"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1534370686, "post_id": 51867061, "comment_id": 90686154, "body": "Because that&#39;s how <code>.map()</code> works. If you want to pass something else as <code>this</code> give it as the third argument to <code>.map()</code>. Oh, and it also depends on whether you&#39;re in &quot;strict&quot; mode."}, {"owner": {"reputation": 11660, "user_id": 2055998, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2Vx3A.jpg?s=128&g=1", "display_name": "PM 77-1", "link": "https://stackoverflow.com/users/2055998/pm-77-1"}, "edited": false, "score": 3, "creation_date": 1534370917, "post_id": 51867061, "comment_id": 90686219, "body": "You need to read one more sentence from the docs: &quot;<i>The <code>this</code> value ultimately observable by callback is determined according to the usual rules for determining the <code>this</code> seen by a function.</i>&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 9972257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e74f95420aa9c7491a6c8f5de79bfe2?s=128&d=identicon&r=PG&f=1", "display_name": "nombreinvicto", "link": "https://stackoverflow.com/users/9972257/nombreinvicto"}, "edited": false, "score": 0, "creation_date": 1534377353, "post_id": 51867636, "comment_id": 90687635, "body": "thank you so much for the answer and for showing the chain of events. This was the kind of answer I was looking for. Very difficult to understand whats going on without going into the internals. Appreciate your help."}], "tags": [], "owner": {"reputation": 3976, "user_id": 9410412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v7cIX.jpg?s=128&g=1", "display_name": "ibrahim tanyalcin", "link": "https://stackoverflow.com/users/9410412/ibrahim-tanyalcin"}, "is_accepted": true, "score": 1, "last_activity_date": 1534374705, "creation_date": 1534374705, "answer_id": 51867636, "question_id": 51867061, "link": "https://stackoverflow.com/questions/51867061/why-is-this-the-global-window-object-in-this-case/51867636#51867636", "title": "Why is &quot;this&quot; the global / window object in this case?", "body": "<p>In the browser, call any anonymous function:</p>\n\n<pre><code>(function(){\n    console.log(this === window); //true\n}())\n</code></pre>\n\n<p>So you know that by default, this points to the window object. UNLESS, you pass something else, via calling as a method, from prototype, <code>call</code>, <code>apply</code> etc. Now go look at the map polyfill:</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map</a></p>\n\n<p>Here the crux is this line:</p>\n\n<pre><code>callback.call(T, kValue, k, O);\n</code></pre>\n\n<p>Be careful, T is your thisArg if and only if <code>arguments.length &gt; 1</code>, otherwise it is left <code>undefined</code>. And guess what, from MDN <code>Function.prototype.call</code>:</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/call\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/call</a></p>\n\n<p><code>.call</code> method replaces undefined with <code>global</code> (window):</p>\n\n<pre><code>function.call(thisArg, arg1, arg2, ...)\n</code></pre>\n\n<blockquote>\n  <p><strong>thisArg</strong></p>\n  \n  <p>Optional. The value of this provided for the call to a function. Note that this may not be the actual value seen by the method: if the method is a function in non-strict mode , null and undefined will be replaced with the global object and primitive values will be converted to objects.</p>\n</blockquote>\n"}], "owner": {"reputation": 133, "user_id": 9972257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e74f95420aa9c7491a6c8f5de79bfe2?s=128&d=identicon&r=PG&f=1", "display_name": "nombreinvicto", "link": "https://stackoverflow.com/users/9972257/nombreinvicto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 1, "accepted_answer_id": 51867636, "answer_count": 1, "score": 2, "last_activity_date": 1534374705, "creation_date": 1534370553, "question_id": 51867061, "link": "https://stackoverflow.com/questions/51867061/why-is-this-the-global-window-object-in-this-case", "title": "Why is &quot;this&quot; the global / window object in this case?", "body": "<p>Relatively new to JavaScript here so any help / explanation would be appreciated.</p>\n\n<p>I have the following toy code example and am struggling to explain to myself why I am getting such an output.</p>\n\n<pre><code>const list = [1, 2];\nlet newlist = list.map(function (num){\n   console.log(this);     // logs the global / window object in the console\n   return num * 2;\n});\n</code></pre>\n\n<p>The console.log(this) statement inside the callback function logs the global or the window object in the console. I have gone through this <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\" rel=\"nofollow noreferrer\">doc</a> for the map() method of the Array prototype and it states that the map() method has a second argument, <strong><em>thisArg</em></strong>. It further say, <strong><em>\"If a thisArg parameter is provided to map, it will be used as callback's this value. Otherwise, the value undefined will be used as its this value\"</em></strong>.</p>\n\n<p>I have not provided any value for the <strong><em>thisArg</em></strong> parameter, so according to the doc, I was expecting the console.log() statement to print out an <strong><em>undefined</em></strong>. So the question is, why is the \"this\" pointing to the global object in the example code above?</p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 2438, "user_id": 496606, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6cdd9786d1b306a7a9da7f449f6181ba?s=128&d=identicon&r=PG", "display_name": "aaronofleonard", "link": "https://stackoverflow.com/users/496606/aaronofleonard"}, "edited": false, "score": 1, "creation_date": 1534370968, "post_id": 51867053, "comment_id": 90686228, "body": "Since there are so many Babel projects that you say could be culpabable, and nothing appears immediately wrong with the code you provided, maybe you could provide what the selected code snipped look like when transpiled."}], "answers": [{"tags": [], "owner": {"reputation": 16662, "user_id": 9119186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFjFW.png?s=128&g=1", "display_name": "Vencovsky", "link": "https://stackoverflow.com/users/9119186/vencovsky"}, "is_accepted": false, "score": 0, "last_activity_date": 1552671777, "creation_date": 1552671777, "answer_id": 55188122, "question_id": 51867053, "link": "https://stackoverflow.com/questions/51867053/react-component-onclick-method-not-evaluating-bracket-property-accessor/55188122#55188122", "title": "React Component onClick method not evaluating bracket property accessor", "body": "<p>This error <code>TypeError: props[myVariable] is not a function</code> can happen because the passed prop is not a function (obviously).  </p>\n\n<p>You need to give a real example, or all your babel configs, because this way, we can know if it's a problem with babel or you are passing the wrong props.</p>\n\n<p>Also, if you passe it like <code>onClick={props[myVariable]('some value')}</code>, on interpreting time, it will execute the function instantly. At that time <code>props[myVariable]</code> can be other thing or is undefined and that is way you are getting the error.    </p>\n\n<p>The right way to do that is pass it like <code>onClick={() =&gt; props[myVariable]('some value')}</code></p>\n"}], "owner": {"reputation": 103, "user_id": 8320189, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212948223158875/picture?type=large", "display_name": "Jeff B", "link": "https://stackoverflow.com/users/8320189/jeff-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1552671777, "creation_date": 1534370512, "last_edit_date": 1552671233, "question_id": 51867053, "link": "https://stackoverflow.com/questions/51867053/react-component-onclick-method-not-evaluating-bracket-property-accessor", "title": "React Component onClick method not evaluating bracket property accessor", "body": "<p>Working on a legacy React project (recently upgraded to v16) with a BUTTLOAD of babel packages, any one of which is likely responsible for this issue.</p>\n\n<p>Basically, I am trying to dynamically assign an <code>onClick</code> function to a button. But the object property accessor is not being evaluated. Instead, I just get an error, which you can see below. </p>\n\n<p>This is the minimum code necessary to understand the issue.</p>\n\n<pre><code>const myVariable = 'someFunction';\n\nconst MyComponent = props =&gt;\n  &lt;button\n    onClick={props[myVariable]('some value')}\n  /&gt;\n\n&lt;MyComponent\n  someFunction={value =&gt; () =&gt; console.log(value)}\n/&gt;\n</code></pre>\n\n<p><code>TypeError: props[myVariable] is not a function</code></p>\n\n<p>Like, why is the expression not even evaluated in the error??</p>\n"}, {"tags": ["javascript", "jquery", "ajax"], "comments": [{"owner": {"reputation": 2605, "user_id": 3043148, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b19f8540f22083d3cb0ca2afc2655cee?s=128&d=identicon&r=PG&f=1", "display_name": "nurdyguy", "link": "https://stackoverflow.com/users/3043148/nurdyguy"}, "edited": false, "score": 0, "creation_date": 1534370615, "post_id": 51867037, "comment_id": 90686130, "body": "Add an attribute to the form <code>data-form-id=&quot;form1&quot;</code> and then in the javascript <code>var formId = $(this).data(&#39;form-id&#39;);</code>"}], "answers": [{"tags": [], "owner": {"reputation": 32729, "user_id": 9513184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de818fcfdfb2bbaf9c67cf7f1d611db8?s=128&d=identicon&r=PG&f=1", "display_name": "iota", "link": "https://stackoverflow.com/users/9513184/iota"}, "is_accepted": true, "score": 1, "last_activity_date": 1534370662, "creation_date": 1534370662, "answer_id": 51867075, "question_id": 51867037, "link": "https://stackoverflow.com/questions/51867037/dynamically-pass-form-id-into-function/51867075#51867075", "title": "Dynamically Pass Form ID Into Function", "body": "<p>You can attach a <code>submit</code> event handler to each of the forms and pass <code>event</code> and <code>this.id</code> (the <code>id</code> of the form element) as arguments.</p>\n\n<p>Javascript:</p>\n\n<pre><code>function postData(event, id) {\n    event.preventDefault();\n    var elem = $('#'+id);\n    $.ajax({\n        type: elem.attr(\"method\"),\n        url: elem.attr(\"action\"),\n        data: elem.serialize(),\n        success: function (data) {\n            console.log(data);\n            $('#success__para').html(\"You data was saved\");\n        }\n    });\n}\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;form id=\"someid\" onsubmit=\"postData(event, this.id)\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 2525, "user_id": 3200391, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/dc8c798b0aaf54577e388f7bc177093c?s=128&d=identicon&r=PG", "display_name": "Charles Smith", "link": "https://stackoverflow.com/users/3200391/charles-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 51867075, "answer_count": 1, "score": 0, "last_activity_date": 1534370662, "creation_date": 1534370420, "question_id": 51867037, "link": "https://stackoverflow.com/questions/51867037/dynamically-pass-form-id-into-function", "title": "Dynamically Pass Form ID Into Function", "body": "<p>I have several forms on a page and i want to utilize the same ajax function.  It works great for one form since I am grabbing the id with <code>getElementById</code> and then passing it to my ajax function.  What I am trying to do is pass down the id of the form onSubmit dynamically.</p>\n\n<p><strong>form</strong></p>\n\n<pre><code>&lt;form id=\"postData\" name=\"business\" method=\"post\" action=\"{{ path('location_graph', {'location_id': location.getId }) }}\"\n      class=\"m-form m-form--fit m-form--label-align-right\"&gt;\n    &lt;div class=\"form-group m-form__group row\"&gt;\n        &lt;label class=\"col-2 col-form-label required\" for=\"description\"&gt;Business\n            Description&lt;/label&gt;\n        &lt;div class=\"col-7\"&gt;\n            &lt;input type=\"text\" class=\"form-control m-input\" id=\"description\"\n                   name=\"extra[description]\"&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    ...\n\n    &lt;div class=\"form-group m-form__group row\"&gt;\n        &lt;button type=\"submit\" class=\"btn m-btn--square btn-outline-primary\"&gt;\n            Submit\n        &lt;/button&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><strong>script</strong></p>\n\n<pre><code>document.getElementById('postData').addEventListener('submit', postData);\n\nfunction postData(event) {\n    event.preventDefault();\n\n    $.ajax({\n        type: $(this).attr(\"method\"),\n        url: $(this).attr(\"action\"),\n        data: $(this).serialize(),\n        success: function (data) {\n            console.log(data);\n            $('#success__para').html(\"You data was saved\");\n        }\n    });\n}\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "express", "header"], "comments": [{"owner": {"reputation": 7895, "user_id": 3801947, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/MzYMo.jpg?s=128&g=1", "display_name": "Mohit Bhardwaj", "link": "https://stackoverflow.com/users/3801947/mohit-bhardwaj"}, "edited": false, "score": 0, "creation_date": 1534390273, "post_id": 51867033, "comment_id": 90690079, "body": "This error occurs when you are sending back response more than once for a given request. Here you are sending it twice, first using <code>res.send</code> and then <code>res.write</code>."}], "answers": [{"tags": [], "owner": {"reputation": 20, "user_id": 1502597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68b2f56de35b47f06c30fe0150fc9497?s=128&d=identicon&r=PG", "display_name": "Bryan Ecker", "link": "https://stackoverflow.com/users/1502597/bryan-ecker"}, "is_accepted": false, "score": 0, "last_activity_date": 1534371972, "creation_date": 1534371972, "answer_id": 51867279, "question_id": 51867033, "link": "https://stackoverflow.com/questions/51867033/error-cant-set-headers-after-they-are-sent-express-js/51867279#51867279", "title": "Error: Can&#39;t set headers after they are sent. express js", "body": "<p>Try replacing this block in your get function:</p>\n\n<pre><code>fs.readFile('test.txt', (err, data) =&gt;\n{\n    res.set({\n        'Content-Type': 'text/html'\n    });\n    res.status(200).send(\"&lt;h1&gt;test complete&lt;/h1&gt;\" + data);\n});\n</code></pre>\n\n<p>That should duplicate the behavior you're looking for. The above will help you set headers if you need to, and explicitly set the status message, although, all you <strong>really</strong> need is this to do what you want:</p>\n\n<pre><code>res.send( \"&lt;h1&gt;test complete&lt;/h1&gt;\" + data ); \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 131, "user_id": 2596310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NjneR.jpg?s=128&g=1", "display_name": "Deepak", "link": "https://stackoverflow.com/users/2596310/deepak"}, "is_accepted": false, "score": 0, "last_activity_date": 1534374792, "creation_date": 1534374792, "answer_id": 51867652, "question_id": 51867033, "link": "https://stackoverflow.com/questions/51867033/error-cant-set-headers-after-they-are-sent-express-js/51867652#51867652", "title": "Error: Can&#39;t set headers after they are sent. express js", "body": "<pre><code>const fs = require('fs');\nconst filePath =  \"/path/to/file\" \napp.get('/', (req,res) =&gt; {\n fs.exists(filePath, function(exists){\n      if (exists) {     \n        res.writeHead(200, {\n          \"Content-Type\": \"application/octet-stream\",\n          \"Content-Disposition\": \"attachment; filename=\" + fileName\n        });\n        fs.createReadStream(filePath).pipe(res);\n      } else {\n        res.writeHead(400, {\"Content-Type\": \"text/plain\"});\n        res.end(\"ERROR File does not exist\");\n      }\n    });\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5917, "user_id": 375148, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/jZJi4.jpg?s=128&g=1", "display_name": "deerawan", "link": "https://stackoverflow.com/users/375148/deerawan"}, "is_accepted": false, "score": 0, "last_activity_date": 1534407787, "creation_date": 1534407787, "answer_id": 51872658, "question_id": 51867033, "link": "https://stackoverflow.com/questions/51867033/error-cant-set-headers-after-they-are-sent-express-js/51872658#51872658", "title": "Error: Can&#39;t set headers after they are sent. express js", "body": "<p>To set the content type, we can use <code>set</code> method as below. </p>\n\n<pre><code>app.get('/', (req,res) =&gt; \n{\n    //trying to write some basic content to the page   \n    fs.readFile('test.txt', (err, data) =&gt;\n    {        \n        res.set('Content-Type', 'text/html');\n        res.send(data);       \n    });\n});\n</code></pre>\n\n<p>Ref:\n<a href=\"http://expressjs.com/en/4x/api.html#res.set\" rel=\"nofollow noreferrer\">http://expressjs.com/en/4x/api.html#res.set</a></p>\n\n<p>Hope it helps</p>\n"}], "owner": {"reputation": 53, "user_id": 8365915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/565cacfaa74546887faf60081d74cc44?s=128&d=identicon&r=PG&f=1", "display_name": "shanemarvinmay", "link": "https://stackoverflow.com/users/8365915/shanemarvinmay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 144, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1534407787, "creation_date": 1534370407, "question_id": 51867033, "link": "https://stackoverflow.com/questions/51867033/error-cant-set-headers-after-they-are-sent-express-js", "title": "Error: Can&#39;t set headers after they are sent. express js", "body": "<p>Here I am trying to read a simple text file and put the content on my page. It's a very simply app but I am still having issues. Below is my code and I have also attached my github repo below.</p>\n\n<p><a href=\"https://github.com/shanemmay/ExpressJsProblem\" rel=\"nofollow noreferrer\">https://github.com/shanemmay/ExpressJsProblem</a></p>\n\n<pre><code>const express = require('express');\nconst fs = require('fs');\n\nconst app = express();\n\napp.get('/', (req,res) =&gt; \n{\n    //trying to write some basic content to the page   \n    fs.readFile('test.txt', (err, data) =&gt;\n    {\n        res.writeHead(200, {'Content-Type': 'text/html'});\n        res.send(\"&lt;h1&gt;test complete&lt;/h1&gt;\");\n        res.write(data);\n\n    });\n});\n\napp.post(\"/post\", (req,res) =&gt;\n{\n    //res.send(\"post\");\n});\n\napp.listen(8080, () =&gt; console.log(\"App launched\"));\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "nonblocking"], "comments": [{"owner": {"reputation": 5865, "user_id": 5298696, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_Lk3Kq_mN2c/AAAAAAAAAAI/AAAAAAAAAEQ/4UXPTXc6z6U/photo.jpg?sz=128", "display_name": "CollinD", "link": "https://stackoverflow.com/users/5298696/collind"}, "edited": false, "score": 1, "creation_date": 1534370265, "post_id": 51866996, "comment_id": 90686041, "body": "Make <code>addTask</code> make its HTTP requests asynchronously and use promises/callbacks most likely."}, {"owner": {"reputation": 3069, "user_id": 1265528, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ce6dbaecbb9ba6b561571e51e2b4a0a?s=128&d=identicon&r=PG", "display_name": "James", "link": "https://stackoverflow.com/users/1265528/james"}, "edited": false, "score": 1, "creation_date": 1534370695, "post_id": 51866996, "comment_id": 90686157, "body": "javascript is asynchronous and non-blocking by design, perhaps there is something taking place elsewhere in your code that is causing your app to render unfavorably?  Perhaps there is an expensive computation taking place in  <code>addTask</code> or <code>highlightActiveComponent</code>"}, {"owner": {"reputation": 27, "user_id": 10008816, "user_type": "registered", "profile_image": "https://graph.facebook.com/2177277552289445/picture?type=large", "display_name": "Rafay Shahid", "link": "https://stackoverflow.com/users/10008816/rafay-shahid"}, "reply_to_user": {"reputation": 3069, "user_id": 1265528, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ce6dbaecbb9ba6b561571e51e2b4a0a?s=128&d=identicon&r=PG", "display_name": "James", "link": "https://stackoverflow.com/users/1265528/james"}, "edited": false, "score": 0, "creation_date": 1534378762, "post_id": 51866996, "comment_id": 90687912, "body": "@james Yes the expensive computation is happening in add task which calls the api that takes some time to process. i am using isomorphic fetch and people have suggested me to use axios instead"}, {"owner": {"reputation": 3069, "user_id": 1265528, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ce6dbaecbb9ba6b561571e51e2b4a0a?s=128&d=identicon&r=PG", "display_name": "James", "link": "https://stackoverflow.com/users/1265528/james"}, "edited": false, "score": 0, "creation_date": 1534387256, "post_id": 51866996, "comment_id": 90689507, "body": "@RafayShahid it doesn&#39;t matter if you use fetch or axios or xhrhttp or whatever, all api calls in JS are asynchronous by default. There are only a hand full of synchronous operations in js and most of them have to do with file system operations."}, {"owner": {"reputation": 27, "user_id": 10008816, "user_type": "registered", "profile_image": "https://graph.facebook.com/2177277552289445/picture?type=large", "display_name": "Rafay Shahid", "link": "https://stackoverflow.com/users/10008816/rafay-shahid"}, "reply_to_user": {"reputation": 3069, "user_id": 1265528, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ce6dbaecbb9ba6b561571e51e2b4a0a?s=128&d=identicon&r=PG", "display_name": "James", "link": "https://stackoverflow.com/users/1265528/james"}, "edited": false, "score": 0, "creation_date": 1534414401, "post_id": 51866996, "comment_id": 90700614, "body": "@James ok so there is no way make this call non-blocking in js?"}, {"owner": {"reputation": 3069, "user_id": 1265528, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ce6dbaecbb9ba6b561571e51e2b4a0a?s=128&d=identicon&r=PG", "display_name": "James", "link": "https://stackoverflow.com/users/1265528/james"}, "edited": false, "score": 0, "creation_date": 1534429946, "post_id": 51866996, "comment_id": 90710514, "body": "it is already non-blocking - the lag you&#39;re experiencing is due to something else in your code, maybe a long for / while loop? maybe lets have a look at <code>updateTasks</code>  ? or <code>addTaskToTaskList</code> ? do you do any super long iterations or deep comparisons in either of those?"}, {"owner": {"reputation": 27, "user_id": 10008816, "user_type": "registered", "profile_image": "https://graph.facebook.com/2177277552289445/picture?type=large", "display_name": "Rafay Shahid", "link": "https://stackoverflow.com/users/10008816/rafay-shahid"}, "reply_to_user": {"reputation": 3069, "user_id": 1265528, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ce6dbaecbb9ba6b561571e51e2b4a0a?s=128&d=identicon&r=PG", "display_name": "James", "link": "https://stackoverflow.com/users/1265528/james"}, "edited": false, "score": 0, "creation_date": 1534507363, "post_id": 51866996, "comment_id": 90740551, "body": "@James yes you are right. there is a large forEach computation taking place in 2 functions updateTaskupLink/updateTaskDownlink. I have edited the page to demonstrate this. is there anyway to make this faster ?"}, {"owner": {"reputation": 3069, "user_id": 1265528, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ce6dbaecbb9ba6b561571e51e2b4a0a?s=128&d=identicon&r=PG", "display_name": "James", "link": "https://stackoverflow.com/users/1265528/james"}, "edited": false, "score": 0, "creation_date": 1534538927, "post_id": 51866996, "comment_id": 90756499, "body": "I edited my original answer below. To solve your actual problem, I think you need to change the data structure being used to store <code>tasks</code> in the first place."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 10008816, "user_type": "registered", "profile_image": "https://graph.facebook.com/2177277552289445/picture?type=large", "display_name": "Rafay Shahid", "link": "https://stackoverflow.com/users/10008816/rafay-shahid"}, "edited": false, "score": 0, "creation_date": 1534371779, "post_id": 51867069, "comment_id": 90686425, "body": "@Odle098 this is almost exactly what i am doing. in my  utility there is a fetch function which returns the reponse in a promise based manner. To my knowledge isomorphic-fetch should not create this issue but i am confused right now"}, {"owner": {"reputation": 27, "user_id": 10008816, "user_type": "registered", "profile_image": "https://graph.facebook.com/2177277552289445/picture?type=large", "display_name": "Rafay Shahid", "link": "https://stackoverflow.com/users/10008816/rafay-shahid"}, "reply_to_user": {"reputation": 1332, "user_id": 5721245, "user_type": "registered", "accept_rate": 36, "profile_image": "https://lh5.googleusercontent.com/-JtxBk5y__Z8/AAAAAAAAAAI/AAAAAAAAA6s/jBR2dop4AxU/photo.jpg?sz=128", "display_name": "Zeyad Etman", "link": "https://stackoverflow.com/users/5721245/zeyad-etman"}, "edited": false, "score": 0, "creation_date": 1534372359, "post_id": 51867069, "comment_id": 90686565, "body": "@ZeyadEtman i am using isomorphic-fetch which is also promise based and works similarly as axios"}, {"owner": {"reputation": 527, "user_id": 6752348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qplu9.jpg?s=128&g=1", "display_name": "lorenzo_campanile", "link": "https://stackoverflow.com/users/6752348/lorenzo-campanile"}, "reply_to_user": {"reputation": 27, "user_id": 10008816, "user_type": "registered", "profile_image": "https://graph.facebook.com/2177277552289445/picture?type=large", "display_name": "Rafay Shahid", "link": "https://stackoverflow.com/users/10008816/rafay-shahid"}, "edited": false, "score": 0, "creation_date": 1534372750, "post_id": 51867069, "comment_id": 90686645, "body": "@RafayShahid maybe you should pass a function to your &quot;addTask&quot; method, then call that function inside the fetch function. In this way your new &quot;addTask&quot; should not return something"}], "tags": [], "owner": {"reputation": 527, "user_id": 6752348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qplu9.jpg?s=128&g=1", "display_name": "lorenzo_campanile", "link": "https://stackoverflow.com/users/6752348/lorenzo-campanile"}, "is_accepted": false, "score": 1, "last_activity_date": 1534372339, "last_edit_date": 1534372339, "creation_date": 1534370598, "answer_id": 51867069, "question_id": 51866996, "link": "https://stackoverflow.com/questions/51866996/calling-an-api-as-a-non-blocking-call-javascript/51867069#51867069", "title": "Calling an API as a non-blocking call JavaScript", "body": "<p>You should use something like Fetch API for call the API in a non-blocking way:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>fetch(\"/api/v1/endpoint/5/\", {\r\n    method: \"get\",\r\n    credentials: \"same-origin\",\r\n    headers: {\r\n        \"Accept\": \"application/json\",\r\n        \"Content-Type\": \"application/json\"\r\n    }\r\n}).then(function(response) {\r\n    return response.json();\r\n}).then(function(data) {\r\n    console.log(\"Data is ok\", data);\r\n}).catch(function(ex) {\r\n    console.log(\"parsing failed\", ex);\r\n});\r\n\r\nconsole.log(\"Ciao!\");</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The code that shows data in the snippet will be executed only when some data is returned by the server.</p>\n\n<p>This means that in my example the log \"Ciao!\" will be showed before \"Data is ok: ...\"</p>\n\n<p>Hope this helps :)</p>\n\n<p>credits for the snippet: <a href=\"https://gist.github.com/marteinn/3785ff3c1a3745ae955c\" rel=\"nofollow noreferrer\">https://gist.github.com/marteinn/3785ff3c1a3745ae955c</a></p>\n"}, {"comments": [{"owner": {"reputation": 27, "user_id": 10008816, "user_type": "registered", "profile_image": "https://graph.facebook.com/2177277552289445/picture?type=large", "display_name": "Rafay Shahid", "link": "https://stackoverflow.com/users/10008816/rafay-shahid"}, "edited": false, "score": 1, "creation_date": 1535432279, "post_id": 51867077, "comment_id": 91050951, "body": "You have actually helped me solve a huge problem! I was told that the forEach speed may not be the factor for slow speeds and I ignored this fact completely but removing these 2 redundant forEach makes my Enter respond instantly. Thankyou very much!! :)"}], "tags": [], "owner": {"reputation": 3069, "user_id": 1265528, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ce6dbaecbb9ba6b561571e51e2b4a0a?s=128&d=identicon&r=PG", "display_name": "James", "link": "https://stackoverflow.com/users/1265528/james"}, "is_accepted": true, "score": 0, "last_activity_date": 1534539570, "last_edit_date": 1534539570, "creation_date": 1534370669, "answer_id": 51867077, "question_id": 51866996, "link": "https://stackoverflow.com/questions/51866996/calling-an-api-as-a-non-blocking-call-javascript/51867077#51867077", "title": "Calling an API as a non-blocking call JavaScript", "body": "<p>First of all <code>return JSON.parse(JSON.stringify(tasks))</code> is redundant, you can just <code>return tasks</code> right there, that will probably fix your speed problem alone. But incase it doesn't.</p>\n\n<p>Your code might be blocking due to this type of thing here</p>\n\n<pre><code>tasks.forEach(function(element, index) {\n  if(element.id == taskId) { element.upLink = upLink }\n});\n\nreturn tasks\n</code></pre>\n\n<p>You iterate over the <code>tasks</code> array for <code>updateTaskDownLink</code>, again for <code>updateTaskUpLink</code> and probably again for <code>getIndexOfTaskById</code>, this is a lot of needless iteration.</p>\n\n<p>Instead of searching through an array of tasks over and over, you should structure your tasks in a map</p>\n\n<pre><code>tasks = {\n  \"someTaskId\": {\n    id: \"someTaskId\",\n    upLink: \"uplink stuff\",\n    downLink: \"downlink stuff\"\n  }\n}\n</code></pre>\n\n<p>This way when you go to update the task its really simple and really fast</p>\n\n<p><code>tasks[taskId].upLink = upLink</code> or <code>tasks[taskId].downLink = downLink</code></p>\n\n<p>No iterating, no blocking, no problem.</p>\n\n<p>Also, this data structure will make <code>getIndexOfTaskById</code> obsolete! because you already have the key needed to access that task! Hooray!</p>\n\n<p>If you're wondering how to iterate over your <code>tasks</code> structured as a map like that <a href=\"https://stackoverflow.com/questions/684672/how-do-i-loop-through-or-enumerate-a-javascript-object\">see here</a></p>\n"}], "owner": {"reputation": 27, "user_id": 10008816, "user_type": "registered", "profile_image": "https://graph.facebook.com/2177277552289445/picture?type=large", "display_name": "Rafay Shahid", "link": "https://stackoverflow.com/users/10008816/rafay-shahid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 401, "favorite_count": 1, "accepted_answer_id": 51867077, "answer_count": 2, "score": 0, "last_activity_date": 1534539570, "creation_date": 1534370120, "last_edit_date": 1534507203, "question_id": 51866996, "link": "https://stackoverflow.com/questions/51866996/calling-an-api-as-a-non-blocking-call-javascript", "title": "Calling an API as a non-blocking call JavaScript", "body": "<p>I am building a todo-list like feature which adds a task when <em>Enter</em> is pressed on an input task field. The <em>Enter</em> calls an API (add Task) which takes approx 200ms to execute. Since this is blocking call it hinders my code to execute fully and affects the usability of my system. Here is a code example of what I am trying to achieve.</p>\n\n<p>handleChange (event) {</p>\n\n<pre><code>          if (e.key === 'Enter') {\n\n            targetTaskId = e.target.getAttribute(\"data-downlink\")   \n            this.props.addTask(this.props.currentProject.id, '', '', taskId, this.props.currentTasks) //this function calls an add Task API which halts my system momentarily\n\n            targetSelector  = targetTaskId\n            $('#' + targetSelector).focus()\n            this.setState({activeTask: targetSelector})\n            highlightActiveComponent(targetTaskId)\n\n   } \n</code></pre>\n\n<p>}</p>\n\n<p>//addTask</p>\n\n<pre><code>   export function addTask (project_id, taskName, taskNotes, upLink, taskList) {\n      console.log('Add Task API call', project_id, taskName, taskNotes, upLink)\n      return (dispatch) =&gt; {\n        callApi('tasks?projectId=' + project_id + '&amp;name=' + taskName + '&amp;notes=' + taskNotes + '&amp;upLink=' + upLink, 'post')\n          .then(res =&gt; {\n            console.log('Response new task ', res)\n            let newTask = {name: res.name, id: res.id, notes: res.notes, upLink: upLink, projectId: project_id, assignee: 0, completed: 0, tags: [], isLiked: false, stories: [], likes: [], downLink: res.downLink}\n            let newTaskList = addTaskToTaskList(taskList, upLink, newTask)\n            dispatch(updateTasks({currentTasks: newTaskList}))\n            dispatch({ type: 'SET_ACTIVE_TASK_ID', payload: res.id })\n\n          })\n      }\n   }\n</code></pre>\n\n<p>//Fetch</p>\n\n<pre><code>export const API_URL = 'https://clients.rohan.axcelmedia.ca/v1'\n\nexport default function callApi (endpoint, method = 'get', body) {\n  let headers = {\n    'Accept': 'application/json',\n    'Content-Type' : 'application/json'\n  }\n\n  if (auth.loggedIn()) {\n    headers = _.merge(headers, {\n      Authorization: `Bearer ${auth.getToken()}`\n    })\n  }\n  return fetch(`${API_URL}/${endpoint}`, {\n    headers,\n    method,\n    body: JSON.stringify(body)\n  }).then(response =&gt; {\n\n    return response\n  }).then(response =&gt; response.json().then(json =&gt; ({ json, response })))\n    .then(({ json, response }) =&gt; {\n      if (!response.ok) {\n        return Promise.reject(json)\n      }\n      return json\n    })\n    .then(\n      response =&gt; response,\n      error =&gt; error\n    )\n}\n</code></pre>\n\n<p>Add Task to tasklist</p>\n\n<pre><code>    export function addTaskToTaskList(tasks, upLink, newTask){\n        updateTaskDownLink(tasks, newTask.upLink, newTask.id)\n        updateTaskUpLink(tasks, newTask.downLink, newTask.id)\n        if(upLink == 0){\n            tasks.unshift(newTask)\n            // console.log(\"Added in the start\", tasks)\n            return JSON.parse(JSON.stringify(tasks))\n        }\n        let myIndex = getIndexOfTaskById(tasks, upLink)\n        console.log(\"Added the new task from helper\", myIndex)\n        if (myIndex) {\n          console.log(\"Added the new task\")\n          tasks.splice(myIndex + 1, 0, newTask);\n          // console.log(\"New Task List\", JSON.parse(JSON.stringify(tasks)))\n        }\n\n        return JSON.parse(JSON.stringify(tasks))\n    }\n\n  export function updateTaskUpLink(tasks, taskId, upLink){\n      tasks.forEach(function(element, index) {\n        if(element.id == taskId) { element.upLink = upLink }\n      });\n\n      return tasks\n    }\n\n    export function updateTaskDownLink(tasks, taskId, downLink){\n        tasks.forEach(function(element, index) {\n            if(element.id == taskId) { element.downLink = downLink }\n        });\n\n        return tasks\n    }\n</code></pre>\n\n<p>My question is, is there anyway to call this API in a non-blocking fashion so that my code continues to execute and when the response from the api is received my cursor moves to the new task in a seamless manner.\nAny help would be appreciated. Thankyou\n[EDIT] : Added fetch function to demonstrate the async calls</p>\n"}, {"tags": ["javascript", "web-scraping", "puppeteer"], "answers": [{"comments": [{"owner": {"reputation": 615, "user_id": 4016378, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/mWcvP.png?s=128&g=1", "display_name": "Silas", "link": "https://stackoverflow.com/users/4016378/silas"}, "edited": false, "score": 0, "creation_date": 1618598258, "post_id": 51921615, "comment_id": 118659632, "body": "Simple and elegant! Works for me, thanks :)"}], "tags": [], "owner": {"reputation": 2315, "user_id": 1598355, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/450da6230882311110253dc8b07e7f22?s=128&d=identicon&r=PG", "display_name": "boldnik", "link": "https://stackoverflow.com/users/1598355/boldnik"}, "is_accepted": true, "score": 3, "last_activity_date": 1534710711, "creation_date": 1534710711, "answer_id": 51921615, "question_id": 51866987, "link": "https://stackoverflow.com/questions/51866987/how-to-imitate-mouse-scroll-inside-div-in-popup-with-puppeteer/51921615#51921615", "title": "How to imitate mouse scroll inside div in popup with puppeteer?", "body": "<p>Actually the answer is very straightforward. I missed the simplest solution with <code>div.scrollTop = ...</code>.</p>\n\n<pre><code>try {\n  const res = await page.$eval(`div._weirdo`,\n    e =&gt; {\n      e.scrollTop = e.scrollTop + 200\n      return e\n    }\n  )\n}\ncatch (e) {\n  console.log(e)\n}\n</code></pre>\n"}], "owner": {"reputation": 2315, "user_id": 1598355, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/450da6230882311110253dc8b07e7f22?s=128&d=identicon&r=PG", "display_name": "boldnik", "link": "https://stackoverflow.com/users/1598355/boldnik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1960, "favorite_count": 0, "accepted_answer_id": 51921615, "answer_count": 1, "score": 2, "last_activity_date": 1534710711, "creation_date": 1534370080, "last_edit_date": 1534408247, "question_id": 51866987, "link": "https://stackoverflow.com/questions/51866987/how-to-imitate-mouse-scroll-inside-div-in-popup-with-puppeteer", "title": "How to imitate mouse scroll inside div in popup with puppeteer?", "body": "<p>Let's say you have a <code>&lt;div&gt;</code> element which appears on a mouse click. Inside of it one has a long list of items cropped by the fixed size of the wrapper. As I understand, setting the <code>.offsetTop</code> on the div element would solve this, but I'm trying to do that within puppeteer headless browser by using it's <code>page.evaluateHandle</code> method which returns a <code>JSHandle</code>. So I'm confused how exactly to achieve the result if I can't get the original element returned by this function. And setting the <code>offsetTop</code> inside the callback doesn't make difference, so I'm definitely doing something wrong.</p>\n\n<pre><code>  const divHandle = await page.evaluateHandle(() =&gt; {\n    let overflowDiv = document.querySelectorAll(\n      `some &gt; selector`\n    )[0];\n    overflowDiv.offsetTop = overflowDiv.offsetTop + 200\n    return overflowDiv.offsetTop;\n  });\n</code></pre>\n\n<p>BTW the <code>.asElement()</code> also behaves in some unexpected way, I do not completely get it how to try to find an element, get it's absolute position or simply set the parameter.</p>\n\n<p>Additional note: as API docs say regarding the <code>.evaluateHandle()</code>:</p>\n\n<blockquote>\n  <p>...Function to be evaluated in the page context</p>\n  \n  <p>...The only difference between page.evaluate and page.evaluateHandle is that page.evaluateHandle returns in-page object (JSHandle).</p>\n</blockquote>\n\n<p><strong>update</strong>\nSo, to get an element one has to return the JSHandle from <code>evaluateHandle</code> method and then pass it as second parameter to <code>evaluate</code> method as following:</p>\n\n<pre><code>await page.evaluate(e =&gt; e, jsHandle);\n</code></pre>\n\n<p>But the main question how to manipulate the attributes, specifically <code>offsetTop</code> to imitate scroll remains.</p>\n"}, {"tags": ["javascript"], "owner": {"reputation": 85, "user_id": 10156815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d10ebada378db70ae1bc927bd601768?s=128&d=identicon&r=PG&f=1", "display_name": "Phpnewb", "link": "https://stackoverflow.com/users/10156815/phpnewb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1534369912, "creation_date": 1534369912, "question_id": 51866952, "link": "https://stackoverflow.com/questions/51866952/javascript-popunder-but-different-pop-depending-on-country", "title": "javascript popunder, but different pop depending on country", "body": "<p>I got the following popunder script (it gets called on the pages i want it on)<br><br>\nWhich works 100% fine.<br><br>\nBut i wanted to ask if it is possible to add a rule that people from germany get popped a different window.</p>\n\n<p>My question above is my entire question, but it won't allow me to post my question. Because aparantly my code block is to large compared to my question size. So here i am filling up the space till it will say i have the correct ratio of code and text. This last block is entirely useless, but hey, i have to write it. I basicly dont know javascript, but found this working code online a while ago, and been using it since. hoping to make it more usefull for my cause with this addition. </p>\n\n<pre><code>function doMyStuff($) {\n  $(document).ready(function(){\n    var ran_yet = false;\n    $(\"a,body,input\").click(function() {\n      if (ran_yet) {\n        return;\n      }\n      ran_yet = true;\n      var cookiename = 'nopop';\n      var val = getCookie(cookiename);\n      if (!val) {\n        val = 1;\n      } else {\n        val = parseInt(val);\n      }\n      setCookie(cookiename, val + 1, 1);      \n      if (val != 1) {\n        return;\n      }\nwindow.name = \"parent\";\n      var windowprops = \"fullscreen=yes,location=yes,toolbar=yes,menubar=yes,status=yes,scrollbars=yes,resizable=yes\";\n      var myWin = window.open(\"http://www.mypopupurl.com/\", \"\", windowprops);\nvar goBack = window.open('', 'parent');\ngoBack.focus();\n    });\n  });\n}\n\nfunction setCookie(c_name,value,exdays,path)\n{\nvar exdate=new Date();\nexdate.setDate(exdate.getDate() + exdays);\nvar c_value=escape(value) + ((exdays==null) ? \"\" : \"; expires=\"+exdate.toUTCString());\ndocument.cookie=c_name + \"=\" + c_value + (\"; path=/\");\n}\n\nfunction getCookie(c_name)\n{\nvar i,x,y,ARRcookies=document.cookie.split(\";\");\nfor (i=0; i &lt; ARRcookies.length; i++)\n{\n  x=ARRcookies[i].substr(0,ARRcookies[i].indexOf(\"=\"));\n  y=ARRcookies[i].substr(ARRcookies[i].indexOf(\"=\")+1);\n  x=x.replace(/^\\s+|\\s+$/g,\"\");\n  if (x==c_name)\n    {\n    return unescape(y);\n    }\n  }\n}\n\n\nfunction check() {\nreturn window.jQuery &amp;&amp; jQuery.fn &amp;&amp; /^1\\.[3-9]/.test(jQuery.fn.jquery);\n  }\n\nif ( check() ) {\n\ndoMyStuff( jQuery );\n\n} else {\n\nvar script = document.createElement('script'),\n\ntimer = setInterval(function(){\n  if ( check() ) {\n    clearInterval(timer);\n      document.body.removeChild(script);\n      doMyStuff( jQuery.noConflict(true) );\n      }\n    }, 30);\n\nscript.src = 'https://ajax.googleapis.com/ajax/libs/jquery/1.6/jquery.min.js';\n\ndocument.body.insertBefore( script, document.body.firstChild );\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "leaflet", "listener"], "comments": [{"owner": {"reputation": 15533, "user_id": 4768502, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5bf027c5077bbd2dfd829313d2a3f738?s=128&d=identicon&r=PG", "display_name": "IvanSanchez", "link": "https://stackoverflow.com/users/4768502/ivansanchez"}, "edited": false, "score": 0, "creation_date": 1534403806, "post_id": 51866948, "comment_id": 90694410, "body": "See <a href=\"https://github.com/MazeMap/Leaflet.singleclick\" rel=\"nofollow noreferrer\">github.com/MazeMap/Leaflet.singleclick</a>"}, {"owner": {"reputation": 317, "user_id": 2870057, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/48d676399eebb24d49d046d7cb760580?s=128&d=identicon&r=PG&f=1", "display_name": "cpaitor", "link": "https://stackoverflow.com/users/2870057/cpaitor"}, "reply_to_user": {"reputation": 15533, "user_id": 4768502, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5bf027c5077bbd2dfd829313d2a3f738?s=128&d=identicon&r=PG", "display_name": "IvanSanchez", "link": "https://stackoverflow.com/users/4768502/ivansanchez"}, "edited": false, "score": 0, "creation_date": 1534406248, "post_id": 51866948, "comment_id": 90695815, "body": "@IvanSanchez, guess one could implement a new event type that ignores dblclick. However that doesn&#39;t really point out the error in the code above."}, {"owner": {"reputation": 15533, "user_id": 4768502, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5bf027c5077bbd2dfd829313d2a3f738?s=128&d=identicon&r=PG", "display_name": "IvanSanchez", "link": "https://stackoverflow.com/users/4768502/ivansanchez"}, "edited": false, "score": 1, "creation_date": 1534407220, "post_id": 51866948, "comment_id": 90696338, "body": "The way the question is worded, you&#39;re not looking for debug help, but rather for a way to listen to click-but-not-part-of-dblclick events; hence the link. The technique is pretty much the same though."}], "answers": [{"tags": [], "owner": {"reputation": 317, "user_id": 2870057, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/48d676399eebb24d49d046d7cb760580?s=128&d=identicon&r=PG&f=1", "display_name": "cpaitor", "link": "https://stackoverflow.com/users/2870057/cpaitor"}, "is_accepted": false, "score": 0, "last_activity_date": 1534404218, "creation_date": 1534404218, "answer_id": 51871679, "question_id": 51866948, "link": "https://stackoverflow.com/questions/51866948/howto-set-listener-to-leaflet-custom-control/51871679#51871679", "title": "Howto set listener to leaflet custom control", "body": "<p>The problem resides in how <code>setTimeout</code> is invoked. The first argument of <code>setTimeout</code> should be a function whose arguments if required can be as third (forth, fifth and so on) arguments to <code>setTimeout</code>. Thus changing the function <code>_click</code> to</p>\n\n<pre><code>           _click: function(e){\n              timeOutAc.push(\n                 setTimeout(function(e) {\n                    L.DomEvent.stop(e);\n                    alert(\"caught click\")\n                 },250,(e))\n              )\n           },\n</code></pre>\n\n<p>solves the problem</p>\n"}], "owner": {"reputation": 317, "user_id": 2870057, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/48d676399eebb24d49d046d7cb760580?s=128&d=identicon&r=PG&f=1", "display_name": "cpaitor", "link": "https://stackoverflow.com/users/2870057/cpaitor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 565, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534404218, "creation_date": 1534369888, "question_id": 51866948, "link": "https://stackoverflow.com/questions/51866948/howto-set-listener-to-leaflet-custom-control", "title": "Howto set listener to leaflet custom control", "body": "<p>Being new to Leaflet I struggle trying to figure out how to add a custom control to the map that listens to both <code>click</code> and <code>dblclick</code> events such that when <code>dblclick</code> fires <code>click</code> does not. Previously I've achieved this on a google map by use of <code>setTimeout()</code> inside the <code>click</code> listener, but this does not seem to work as the <code>setTimeout()</code> seems to be ignored. My code sofar is</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n        \"http://www.w3.org/TR/2000/REC-xhtml1-20000126/DTD/xhtml1-transitional.dtd\"&gt;\n\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" lang=\"en\"&gt;\n   &lt;head&gt;\n      &lt;meta http-equiv=\"content-type\" content=\"text/html; charset=iso-8859-1\"/&gt;\n      &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0\"/&gt;\n\n      &lt;link rel=\"stylesheet\" href=\"https://unpkg.com/leaflet@1.3.3/dist/leaflet.css\"\n            integrity=\"sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==\"\n            crossorigin=\"\"/&gt;\n      &lt;script src=\"https://unpkg.com/leaflet@1.3.3/dist/leaflet.js\"\n            integrity=\"sha512-tAGcCfR4Sc5ZP5ZoVz0quoZDYX5aCtEm/eu1KhSLj2c9eFrylXZknQYmxUssFaVJKvvc0dJQixhGjG2yXWiV9Q==\"\n            crossorigin=\"\"&gt; &lt;/script&gt;\n   &lt;/head&gt;\n   &lt;body onload=\"makeMap()\"&gt;\n      &lt;script type=\"text/javascript\"&gt;\n         function makeMap() {\n            var map = L.map('map').setView([37.8, -96], 4);\n            L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);\n\n            var timeOutAc = [];\n            var myMenu = L.Control.extend({\n               options: {position: 'topright'},\n               onAdd: function (map) {\n                     this._div = L.DomUtil.create('div');\n                     this._div.innerHTML = \"&lt;h2&gt;text&lt;/h2&gt;\" ;\n                     L.DomEvent.on(this._div, \"click\", this._click)\n                     L.DomEvent.on(this._div, \"dblclick\", this._dblclick )\n                     return this._div;          \n               },\n               _click: function(e){\n                  timeOutAc.push(\n                     setTimeout(function(e) {\n                        L.DomEvent.stop(e);\n                        alert(\"caught click\")\n                     }(e),1e4) // timeout set to 10s here...\n                  )\n               },\n               _dblclick: function(e){\n                  for(var i=timeOutAc.length-2; i&lt;timeOutAc.length; i++) clearTimeout(timeOutAc[i]); \n                  L.DomEvent.stop(e);\n                  alert(\"caught dblclick\")\n               },\n            });\n\n            map.addControl(new myMenu());\n        }\n      &lt;/script&gt;\n      &lt;table border=1 style=\"position: absolute; top: 0; bottom: 0; left: 0; right: 0; width: 100%; height: 100%;\"&gt;\n         &lt;tr style=\"height: 100%;\"&gt;\n            &lt;td&gt;\n               &lt;div id=\"map\" style=\"width: 100%; height: 100%;\"&gt;&lt;/div&gt;\n            &lt;/td&gt;\n         &lt;/tr&gt;\n      &lt;/table&gt;\n   &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Note that if <code>L.DomEvent.on(this._div, \"click\", this._click)</code> is commented out <code>dblclick</code> is properly caught. </p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1534369831, "post_id": 51866889, "comment_id": 90685906, "body": "Try <code>.catch(this.errHandler.bind(this))</code> or use an arrow function."}, {"owner": {"reputation": 2007, "user_id": 3066142, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/7Ci81.jpg?s=128&g=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3066142/omar"}, "reply_to_user": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1534369937, "post_id": 51866889, "comment_id": 90685938, "body": "@connorsFan make that an answer so i can upvote"}, {"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 1, "creation_date": 1534370022, "post_id": 51866889, "comment_id": 90685960, "body": "I suggest confirming that the question is a duplicate. This question is asked every day on the Angular forum. :-)"}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 0, "last_activity_date": 1534369792, "creation_date": 1534369792, "answer_id": 51866931, "question_id": 51866889, "link": "https://stackoverflow.com/questions/51866889/angular-6-access-this-in-catch-errhandler/51866931#51866931", "title": "Angular 6: access &quot;this&quot; in catch =&gt; errHandler", "body": "<p>When you pass <code>errHandler</code> to <code>catch</code> you are only passing the function not its associated <code>this</code>. <code>this</code> will be decided by the caller (in this case the observable). This is the way functions behave in Javascript, even class methods are not tied to a specific object instance.</p>\n\n<p>The simplest solution is to transform <code>errHandler</code> to an arrow function ( <code>=&gt;</code>) which captures <code>this</code> from the declaration context: </p>\n\n<pre><code>@Injectable()\nexport class ConfigsService {\n\n    constructor( public notice: SnotifyService )  {}\n\n    addProductModifier(data) {\n        this.notice.warning(show); // works finf\n        return this.http.get&lt;any&gt;( api_url + '/addProductModifier', {params: data} ).catch(this.errHandler);\n    }\n\n    errHandler = (error: HttpErrorResponse) =&gt; {\n        let show = error.error.formatted || error.statusText;\n        _log(show, 'e');\n        this.notice.warning(show); // Cannot read property 'warning' of undefined\n        return Observable.throw(error.error || \"unknown error\");\n    }\n\n}\n</code></pre>\n\n<p>You could also use <code>bind</code> when you pass the function to <code>catch</code></p>\n\n<pre><code>addProductModifier(data) {\n    this.notice.warning(show); // works finf\n    return this.http.get&lt;any&gt;( api_url + '/addProductModifier', {params: data} ).catch(this.errHandler.bind(this));\n}\n</code></pre>\n"}], "owner": {"reputation": 2007, "user_id": 3066142, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/7Ci81.jpg?s=128&g=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3066142/omar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "closed_date": 1534370046, "answer_count": 1, "score": 0, "last_activity_date": 1534369792, "creation_date": 1534369556, "question_id": 51866889, "link": "https://stackoverflow.com/questions/51866889/angular-6-access-this-in-catch-errhandler", "closed_reason": "Duplicate", "title": "Angular 6: access &quot;this&quot; in catch =&gt; errHandler", "body": "<h2>My Service</h2>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { _log, notice, SnotifyService } from '../utils';\n\n\n@Injectable()\nexport class ConfigsService {\n\n    constructor( public notice: SnotifyService )  {}\n\n    addProductModifier(data) {\n        this.notice.warning(show); // works finf\n        return this.http.get&lt;any&gt;( api_url + '/addProductModifier', {params: data} ).catch(this.errHandler);\n    }\n\n    errHandler(error: HttpErrorResponse) {\n        let show = error.error.formatted || error.statusText;\n        _log(show, 'e');\n        this.notice.warning(show); // Cannot read property 'warning' of undefined\n        return Observable.throw(error.error || \"unknown error\");\n    }\n\n}\n</code></pre>\n\n<h2>Question</h2>\n\n<p>In the above code you can see that <code>this</code> is not available in the errHandler function. What am i doing wrong?</p>\n"}, {"tags": ["javascript", "html", "vue.js", "web-applications"], "answers": [{"comments": [{"owner": {"reputation": 354, "user_id": 3672868, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gjT09.jpg?s=128&g=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/3672868/patrick"}, "edited": false, "score": 0, "creation_date": 1534370168, "post_id": 51866989, "comment_id": 90685996, "body": "Wow, that simple. Let me try this out. I was seriously overthinking this."}, {"owner": {"reputation": 66, "user_id": 10230904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebef40322fd477b5310c2f0479f78200?s=128&d=identicon&r=PG&f=1", "display_name": "fricardi", "link": "https://stackoverflow.com/users/10230904/fricardi"}, "reply_to_user": {"reputation": 354, "user_id": 3672868, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gjT09.jpg?s=128&g=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/3672868/patrick"}, "edited": false, "score": 1, "creation_date": 1534370305, "post_id": 51866989, "comment_id": 90686051, "body": "If you&#39;re using vue, you can add models (v-models) to the inputs and do the binding inside the divs  &lt;input v-model=&quot;variable&quot; class=&quot;form-control&quot; id=&quot;input_id&quot; name=&quot;input_name&quot; type=&quot;text&quot;&gt;  &lt;div class=&quot;name&quot;&gt;{{variable}}&lt;/div&gt;  If you use this, it will output in real time.  Hope it helps you!!"}], "tags": [], "owner": {"reputation": 66, "user_id": 10230904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebef40322fd477b5310c2f0479f78200?s=128&d=identicon&r=PG&f=1", "display_name": "fricardi", "link": "https://stackoverflow.com/users/10230904/fricardi"}, "is_accepted": true, "score": 1, "last_activity_date": 1534370091, "creation_date": 1534370091, "answer_id": 51866989, "question_id": 51866883, "link": "https://stackoverflow.com/questions/51866883/using-form-data-and-generating-html-based-on-it/51866989#51866989", "title": "Using form data and generating HTML based on it", "body": "<p>If you already handled the form submit, you can change the content of your divs with js selectors, like this:</p>\n\n<pre><code>document.getElementsByClassName(\"name\")[0].innerHTML = nameFromFormInput;\n</code></pre>\n"}], "owner": {"reputation": 354, "user_id": 3672868, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gjT09.jpg?s=128&g=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/3672868/patrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 51866989, "answer_count": 1, "score": -1, "last_activity_date": 1534370091, "creation_date": 1534369531, "last_edit_date": 1534369818, "question_id": 51866883, "link": "https://stackoverflow.com/questions/51866883/using-form-data-and-generating-html-based-on-it", "title": "Using form data and generating HTML based on it", "body": "<p>Looking for something to take data from a form like this one:</p>\n\n<pre><code>&lt;form id=\"rendered-form\" name=\"rendered-form\"&gt;\n  &lt;div class=\"rendered-form\"&gt;\n    &lt;div class=\"fb-text form-group field-text-1534368808722\"&gt;\n      &lt;label class=\"fb-text-label\" for=\"text-1534368808722\"&gt;Name&lt;/label&gt;&lt;input class=\"form-control\" id=\"text-1534368808722\" name=\"text-1534368808722\" type=\"text\"&gt;\n    &lt;/div&gt;\n    &lt;div class=\"fb-text form-group field-text-1534368811041\"&gt;\n      &lt;label class=\"fb-text-label\" for=\"text-1534368811041\"&gt;Email&lt;/label&gt;&lt;input class=\"form-control\" id=\"text-1534368811041\" name=\"text-1534368811041\" type=\"text\"&gt;\n    &lt;/div&gt;\n    &lt;div class=\"fb-text form-group field-text-1534368811041\"&gt;\n      &lt;label class=\"fb-text-label\" for=\"text-1534368811041\"&gt;Link&lt;/label&gt;&lt;input class=\"form-control\" id=\"text-1534368811041\" name=\"text-1534368811042\" type=\"text\"&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>And insert the data into a HTML template. For example:</p>\n\n<pre><code>&lt;div class=\"name\"&gt;FORM TEXT HERE&lt;/div&gt;\n&lt;div class=\"email\"&gt;FORM TEXT HERE&lt;/div&gt;\n&lt;a href=\"FORM TEXT HERE\"&gt;link&lt;/a&gt;\n</code></pre>\n\n<p>I would love to use Vue.js for this if at all possible, I've been playing around with it and this seems like something it would be capable of.</p>\n\n<p>I'm trying to use this to quickly make AMP pages (I know I could do it programmatically, but due to restrictions I cannot at this time). I don't want to have a database, it doesn't need to store this. I just want to be able to insert my data, press a button, and have it spit out HTML or an HTML file based on the template and provided data and be done.</p>\n"}, {"tags": ["javascript", "c#", "hex", "buffer"], "comments": [{"owner": {"reputation": 36762, "user_id": 869621, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d7ab9817b53b7e7b0e735528bc9c2372?s=128&d=identicon&r=PG", "display_name": "Kevin Gosse", "link": "https://stackoverflow.com/users/869621/kevin-gosse"}, "edited": false, "score": 0, "creation_date": 1534369876, "post_id": 51866880, "comment_id": 90685918, "body": "If that an empty buffer? What is the MD5 you&#39;re getting from the Javascript and what is the MD5 you were expecting?"}, {"owner": {"reputation": 1144, "user_id": 4927236, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7IKWp.jpg?s=128&g=1", "display_name": "TJBlackman", "link": "https://stackoverflow.com/users/4927236/tjblackman"}, "reply_to_user": {"reputation": 36762, "user_id": 869621, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d7ab9817b53b7e7b0e735528bc9c2372?s=128&d=identicon&r=PG", "display_name": "Kevin Gosse", "link": "https://stackoverflow.com/users/869621/kevin-gosse"}, "edited": false, "score": 0, "creation_date": 1534370207, "post_id": 51866880, "comment_id": 90686021, "body": "I updated the question to show the result of the <code>md5()</code> function, which is a STRING. The package has 850K+ downloads per week, so I&#39;m sure it is reliable. The issue is using the md5 hash to generate a hexadecimal pairs, as shown in the C# documentation: <a href=\"https://msdn.microsoft.com/en-us/library/3a733s97(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/3a733s97(v=vs.110).aspx</a>"}], "owner": {"reputation": 1144, "user_id": 4927236, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7IKWp.jpg?s=128&g=1", "display_name": "TJBlackman", "link": "https://stackoverflow.com/users/4927236/tjblackman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "closed_date": 1534370237, "answer_count": 0, "score": 0, "last_activity_date": 1534431785, "creation_date": 1534369519, "last_edit_date": 1534431785, "question_id": 51866880, "link": "https://stackoverflow.com/questions/51866880/given-an-arraybuffer-of-known-size-get-string-of-hexadecimal-pairs", "closed_reason": "Duplicate", "title": "Given an ArrayBuffer of known size, get string of hexadecimal pairs", "body": "<p>I'm attempting to re-create this bit of C# code, but in Javascript, but the results are not coming out the same at all. The goal is to take a buffer of a known size, get an MD5 hash of it, then convert the MD5 hash to a string of <a href=\"https://msdn.microsoft.com/en-us/library/3a733s97(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><strong>hexadecimal pairs separated by hyphens</strong></a>, where each pair represents the corresponding element in value, then remove all the <code>-</code>'s in the string. But... do it in Javascript. </p>\n\n<p><strong>C# Code</strong></p>\n\n<pre><code>internal static string ComputeHash(byte[] buffer)\n{\n    HashAlgorithm MD5 = new MD5CryptoServiceProvider();\n    return BitConverter.ToString(MD5.ComputeHash(buffer)).Replace(\"-\", string.Empty);\n}\n</code></pre>\n\n<p><strong>My Javascript</strong></p>\n\n<pre><code>const buffer    = new ArrayBuffer(1024); \nconst md5       = require('md5'); // https://www.npmjs.com/package/md5\nconst hash      = md5(buffer); // 441018525208457705bf09a8ee3c1093\nconst hexString = hash.toString('hex');\n\nconsole.log(hexString); // not correct\n</code></pre>\n\n<p>I appreciate any and all pointers and tips, even minor suggestions on how to improve the actual question itself. Thanks for looking! </p>\n\n<p><strong>SOLVED:</strong> This package did it correctly for me... Sorry for the (semi)-duplicate answer.\n<a href=\"https://www.npmjs.com/package/md5-hex\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/md5-hex</a></p>\n"}, {"tags": ["javascript", "jquery", "html", "json", "stringify"], "comments": [{"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 3, "creation_date": 1534369476, "post_id": 51866869, "comment_id": 90685779, "body": "If title is already a string, there is no reason to stringify it in the first place.  Just use it.  The same goes for the count if it is already a number."}, {"owner": {"reputation": 34640, "user_id": 1573683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b85473a8af7f1b76c9c08fb55a52f654?s=128&d=identicon&r=PG", "display_name": "bipen", "link": "https://stackoverflow.com/users/1573683/bipen"}, "edited": false, "score": 0, "creation_date": 1534369541, "post_id": 51866869, "comment_id": 90685804, "body": "Simple don&#39;t stringify... :) .. just use <code>.append(data.query.results.channel.title)</code>"}, {"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 0, "creation_date": 1534369586, "post_id": 51866869, "comment_id": 90685824, "body": "Thanks, I&#39;ll tell you what happens!"}, {"owner": {"reputation": 34640, "user_id": 1573683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b85473a8af7f1b76c9c08fb55a52f654?s=128&d=identicon&r=PG", "display_name": "bipen", "link": "https://stackoverflow.com/users/1573683/bipen"}, "edited": false, "score": 0, "creation_date": 1534369782, "post_id": 51866869, "comment_id": 90685888, "body": ":).. well you don&#39;t have to ask for upvote. Make sure your question is clear and specific. You will get upvotes. Ok and I am not the one to downvote you BTW"}], "answers": [{"tags": [], "owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "is_accepted": true, "score": 3, "last_activity_date": 1534369887, "last_edit_date": 1534369887, "creation_date": 1534369614, "answer_id": 51866898, "question_id": 51866869, "link": "https://stackoverflow.com/questions/51866869/stringified-json-has-unwanted-double-quotes/51866898#51866898", "title": "Stringified JSON has unwanted double quotes", "body": "<p>Don't stringify things that are not objects.  Just use them.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$.get(\"https://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20weather.forecast%20where%20woeid%20in%20(select%20woeid%20from%20geo.places(1)%20where%20text%3D%22canberra%22)&amp;format=json&amp;env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys\",\r\nfunction(data) {\r\n  $(document.body).append(\"Count: \" + data.query.count); \r\n  $(\"#heading\").append(data.query.results.channel.title);\r\n}, \"json\");</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html lang=\"en\"&gt;\r\n  &lt;head&gt;\r\n    &lt;title&gt;Yahoo Weather for Canberra&lt;/title&gt;\r\n    &lt;meta charset=\"utf-8\"&gt;\r\n    &lt;script src=\"https://code.jquery.com/jquery-3.3.1.js\"&gt;&lt;/script&gt;\r\n  &lt;/head&gt;\r\n  &lt;body&gt;\r\n    &lt;h1 id=\"heading\"&gt;&lt;/h1&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 175, "user_id": 2629361, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PavG3.jpg?s=128&g=1", "display_name": "CoolestUsername", "link": "https://stackoverflow.com/users/2629361/coolestusername"}, "is_accepted": false, "score": 0, "last_activity_date": 1534369786, "creation_date": 1534369786, "answer_id": 51866929, "question_id": 51866869, "link": "https://stackoverflow.com/questions/51866869/stringified-json-has-unwanted-double-quotes/51866929#51866929", "title": "Stringified JSON has unwanted double quotes", "body": "<p>change</p>\n\n<p><code>.append(JSON.stringify(data.query.results.channel.title));</code></p>\n\n<p>to</p>\n\n<p><code>.append(data.query.results.channel.title);</code></p>\n\n<p>because data.query.results.channel.title is already a string.</p>\n\n<p><code>console.log(typeof data.query.results.channel.title);</code> // string</p>\n"}, {"tags": [], "owner": {"reputation": 1793, "user_id": 494907, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/37cdb67ab83545520e98af41d9e653ac?s=128&d=identicon&r=PG", "display_name": "Ketan Yekale", "link": "https://stackoverflow.com/users/494907/ketan-yekale"}, "is_accepted": false, "score": 0, "last_activity_date": 1534370329, "last_edit_date": 1534370329, "creation_date": 1534369846, "answer_id": 51866941, "question_id": 51866869, "link": "https://stackoverflow.com/questions/51866869/stringified-json-has-unwanted-double-quotes/51866941#51866941", "title": "Stringified JSON has unwanted double quotes", "body": "<p>JSON.stringify provides the string representation of a JSON object.</p>\n\n<p>You don't need to stringify the values with  primitive datatypes.</p>\n\n<p>So the code you should be using is:</p>\n\n<pre><code>$.get(\"https://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20weather.forecast%20where%20woeid%20in%20(select%20woeid%20from%20geo.places(1)%20where%20text%3D%22canberra%22)&amp;format=json&amp;env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys\", function(data) {\n     $(\"body\").append(\"Count: \" + data.query.count); //  2pm\n     $(\"#heading\").append( data.query.results.channel.title);\n}, \"json\");\n</code></pre>\n"}], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 919, "favorite_count": 0, "accepted_answer_id": 51866898, "answer_count": 3, "score": 2, "last_activity_date": 1534370329, "creation_date": 1534369417, "last_edit_date": 1534369800, "question_id": 51866869, "link": "https://stackoverflow.com/questions/51866869/stringified-json-has-unwanted-double-quotes", "title": "Stringified JSON has unwanted double quotes", "body": "<p>I am making a weather forecasting website, and querying the API returns a pure JSON response. However, when I stringify the data and append it to an element, to put it on the webpage, it has double quotes, see here:</p>\n\n<p><img src=\"https://i.stack.imgur.com/ai5Eg.png\" alt=\"see here\"></p>\n\n<p>How would I be able to remove the double quotes from the stringified JSON text in order for it to display like a normal webpage? My code is below:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$.get(\"https://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20weather.forecast%20where%20woeid%20in%20(select%20woeid%20from%20geo.places(1)%20where%20text%3D%22canberra%22)&amp;format=json&amp;env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys\",\r\n  function(data) {\r\n    $(\"body\")\r\n      .append(\"Count: \" + JSON.stringify(data.query.count)); \r\n    $(\"#heading\") \t\r\n      .append(JSON.stringify(data.query.results.channel.title));\r\n  },\r\n\"json\");</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html lang=\"en\"&gt;\r\n  &lt;head&gt;\r\n    &lt;title&gt;Yahoo Weather for Canberra&lt;/title&gt;\r\n    &lt;meta charset=\"utf-8\"&gt;\r\n    &lt;script src=\"https://code.jquery.com/jquery-3.3.1.js\"&gt;&lt;/script&gt;\r\n  &lt;/head&gt;\r\n  &lt;body&gt;\r\n    &lt;h1 id=\"heading\"&gt;&lt;/h1&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>All help would be appreciated. Thanks.</p>\n"}, {"tags": ["javascript", "d3.js"], "comments": [{"owner": {"reputation": 11834, "user_id": 9938317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b72fceef5630b6b962624fed6ac9c82?s=128&d=identicon&r=PG&f=1", "display_name": "rioV8", "link": "https://stackoverflow.com/users/9938317/riov8"}, "edited": false, "score": 1, "creation_date": 1534370350, "post_id": 51866805, "comment_id": 90686062, "body": "why do you use the bitwise OR <code>|</code> instead of the logical OR <code>||</code>? if you change the <code>r</code> on construction does it have effect? If so it is very strange that it does not work in the <code>connectedNodes</code>. How does it look in the DevTools? Can you change the <code>r</code> of a circle there?"}, {"owner": {"reputation": 2201, "user_id": 677163, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a1d8465997bf40a21eca3975f984fc72?s=128&d=identicon&r=PG", "display_name": "philippe", "link": "https://stackoverflow.com/users/677163/philippe"}, "reply_to_user": {"reputation": 11834, "user_id": 9938317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b72fceef5630b6b962624fed6ac9c82?s=128&d=identicon&r=PG&f=1", "display_name": "rioV8", "link": "https://stackoverflow.com/users/9938317/riov8"}, "edited": false, "score": 0, "creation_date": 1534450104, "post_id": 51866805, "comment_id": 90720777, "body": "Many thanks for answering! I have edited my question with links of the complete code on pastebin. I have changed <code>|</code> for <code>||</code> which seems more appropriate. Changing r on construction actually changes it on graph. I can also change r on DevTools (didn&#39;t know this feature, thanks ;)"}, {"owner": {"reputation": 11834, "user_id": 9938317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b72fceef5630b6b962624fed6ac9c82?s=128&d=identicon&r=PG&f=1", "display_name": "rioV8", "link": "https://stackoverflow.com/users/9938317/riov8"}, "edited": false, "score": 1, "creation_date": 1534453769, "post_id": 51866805, "comment_id": 90722236, "body": "what is the value for <code>r</code> or <code>opacity</code> of the nodes after you click using DevTools?"}, {"owner": {"reputation": 2201, "user_id": 677163, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a1d8465997bf40a21eca3975f984fc72?s=128&d=identicon&r=PG", "display_name": "philippe", "link": "https://stackoverflow.com/users/677163/philippe"}, "reply_to_user": {"reputation": 11834, "user_id": 9938317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b72fceef5630b6b962624fed6ac9c82?s=128&d=identicon&r=PG&f=1", "display_name": "rioV8", "link": "https://stackoverflow.com/users/9938317/riov8"}, "edited": false, "score": 0, "creation_date": 1534454261, "post_id": 51866805, "comment_id": 90722419, "body": "<code>opacity</code> is changing as expected, but <code>r</code> does not"}, {"owner": {"reputation": 11834, "user_id": 9938317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b72fceef5630b6b962624fed6ac9c82?s=128&d=identicon&r=PG&f=1", "display_name": "rioV8", "link": "https://stackoverflow.com/users/9938317/riov8"}, "edited": false, "score": 1, "creation_date": 1534454452, "post_id": 51866805, "comment_id": 90722492, "body": "what if you hard code a different r (40) in the click  handler?"}, {"owner": {"reputation": 2201, "user_id": 677163, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a1d8465997bf40a21eca3975f984fc72?s=128&d=identicon&r=PG", "display_name": "philippe", "link": "https://stackoverflow.com/users/677163/philippe"}, "reply_to_user": {"reputation": 11834, "user_id": 9938317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b72fceef5630b6b962624fed6ac9c82?s=128&d=identicon&r=PG&f=1", "display_name": "rioV8", "link": "https://stackoverflow.com/users/9938317/riov8"}, "edited": false, "score": 0, "creation_date": 1534454636, "post_id": 51866805, "comment_id": 90722564, "body": "same, no change. I have edited my question to present the changed line of my code. are you experiencing the same if you load my code from pastebin?"}, {"owner": {"reputation": 2201, "user_id": 677163, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a1d8465997bf40a21eca3975f984fc72?s=128&d=identicon&r=PG", "display_name": "philippe", "link": "https://stackoverflow.com/users/677163/philippe"}, "reply_to_user": {"reputation": 11834, "user_id": 9938317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b72fceef5630b6b962624fed6ac9c82?s=128&d=identicon&r=PG&f=1", "display_name": "rioV8", "link": "https://stackoverflow.com/users/9938317/riov8"}, "edited": false, "score": 0, "creation_date": 1534455047, "post_id": 51866805, "comment_id": 90722688, "body": "<code>node.attr(&#39;r&#39;, 40);</code> in the click handler produces the same :/ maybe i should try to change circle property instead of node property, but i don&#39;t know how to do it, <code>console.log(node.circle)</code> returns <code>undefined</code>. I don&#39;t know how to get a handle on the circle (opacity seems to be node property, whereas radius circle property)"}], "answers": [{"comments": [{"owner": {"reputation": 2201, "user_id": 677163, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a1d8465997bf40a21eca3975f984fc72?s=128&d=identicon&r=PG", "display_name": "philippe", "link": "https://stackoverflow.com/users/677163/philippe"}, "edited": false, "score": 0, "creation_date": 1534491797, "post_id": 51886129, "comment_id": 90732133, "body": "Many thanks! This is working perfectly. js is totally new for me, and d3js might not be the easiest way to dive in. You helped me a lot having a better understanding of how this should work!"}], "tags": [], "owner": {"reputation": 11834, "user_id": 9938317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b72fceef5630b6b962624fed6ac9c82?s=128&d=identicon&r=PG&f=1", "display_name": "rioV8", "link": "https://stackoverflow.com/users/9938317/riov8"}, "is_accepted": true, "score": 1, "last_activity_date": 1534458530, "creation_date": 1534458530, "answer_id": 51886129, "question_id": 51866805, "link": "https://stackoverflow.com/questions/51866805/d3js-switching-to-version-4-cant-change-node-and-node-neighbors-radius-on-cli/51886129#51886129", "title": "d3js switching to version 4 : can&#39;t change node and node neighbors radius on click anymore", "body": "<p>I wonder if you have ever been able to run the paste bin you show.</p>\n\n<p>There are so many problems with <code>{}</code> and <code>()</code> that my browser refuses to run it.</p>\n\n<ul>\n<li>you have nothing beneath the <code>g</code> nodes so you replace them with the circles. <code>title</code> works as a child of <code>circle</code>, <code>text</code> isn't.</li>\n<li>what is an <code>div</code> with <code>weight:800px</code>?</li>\n<li>update the <code>cx</code> and <code>cy</code> of the circles, <code>transform</code> also works but this is neater.</li>\n<li><p>reset all the <code>node</code> <code>r</code> attributes for <code>toggle==1</code></p>\n\n<pre><code>  var width = 800, height = 600;\n  var color = d3.scaleOrdinal(d3.schemeCategory10);\n\n  var simulation = d3.forceSimulation()\n     .force('link', d3.forceLink().id(function (d) { return d.id;}).distance(100).strength(1))\n     .force('charge', d3.forceManyBody())\n     .force('center', d3.forceCenter(width/2, height/2));\n\n  var svg = d3.select('#canvas').select('svg');\n  if (svg.empty()) {\n     svg = d3.select('#canvas').append('svg')\n        .attr('width', width)\n        .attr('height', height);\n  }\n\n  d3.json('graph.json', function(error, graph) {\n     if (error) throw error;\n     var links = graph.links, nodes = graph.nodes;\n     var link = svg.selectAll('.link')\n        .data(graph.links)\n        .enter().append('line')\n        .attr('class', 'link');\n\n     var node = svg.selectAll('.node')\n        .data(nodes)\n        .enter().append('circle')\n        .attr('class', 'node')\n        .attr('r', 15)\n        .style('fill', function(d) { return color(d.degree); })\n        .call(d3.drag()\n           .on('start', dragstarted)\n           .on('drag',  dragged)\n           .on('end',  dragended)\n        )\n        .on('click', connectedNodes);\n\n  simulation\n     .nodes(nodes)\n     .on('tick', ticked);\n\n  simulation.force('link').links(links);\n\n   function ticked() {\n    link\n        .attr(\"x1\", function (d) {return d.source.x;})\n        .attr(\"y1\", function (d) {return d.source.y;})\n        .attr(\"x2\", function (d) {return d.target.x;})\n        .attr(\"y2\", function (d) {return d.target.y;});\n\n    node\n        .attr(\"cx\", function (d) {return d.x;})\n        .attr(\"cy\", function (d) {return d.y;})\n    }\n\n     function dragstarted(d) {\n        if (!d3.event.active) simulation.alphaTarget(0.3).restart();\n        d.fx = d.x;\n        d.fy = d.y;\n     }\n\n     function dragged(d) {\n        d.fx = d3.event.x;\n        d.fy = d3.event.y;\n     }\n\n     function dragended(d) {\n        if (!d3.event.active) simulation.alphaTarget(0);\n        d.fx = null;\n        d.fy = null;\n     }\n\n     node.append('title')\n        .text(function(d) {\n           return \"Node: \" + d.id + \"\\n\" + \"Degree: \" + d.degree + \"\\n\" + \"Katz: \" + d.katz;\n        });\n\n     var toggle = 0;\n     var linkedByIndex = {};\n     for (var i = 0; i &lt; graph.nodes.length; i++) {\n        linkedByIndex[i + \",\" + i] = 1;\n     }\n     graph.links.forEach(function(d) {\n        linkedByIndex[d.source.index + \",\" + d.target.index] = 1;\n     });\n\n     function neighboring(a, b) {\n        return linkedByIndex[a.index + \",\" + b.index];\n     }\n\n     function connectedNodes() {\n        if (toggle == 0) {\n           var d = d3.select(this).node().__data__;\n           node.style(\"opacity\", function(o) {\n              return neighboring(d, o) || neighboring(o, d) ? 1 : 0.3;\n           })\n               .attr('r', function(o) {\n              return neighboring(d, o) || neighboring(o, d) ? 20 : 15;\n           });\n           link.style(\"opacity\", function(o) {\n              return d.index == o.source.index || d.index == o.target.index ? 1 : 0.8;\n           })\n               .style('stroke-width', function(o) {\n              return d.index == o.source.index || d.index == o.target.index ? 3 : 0.8;\n           });\n           toggle = 1;\n        } else {\n           node.style('opacity', 1)\n               .attr('r', 15);\n           link.style('opacity', 1)\n               .style('stroke-width', 1);\n           toggle = 0;\n        }\n     }\n  }\n);\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 2201, "user_id": 677163, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a1d8465997bf40a21eca3975f984fc72?s=128&d=identicon&r=PG", "display_name": "philippe", "link": "https://stackoverflow.com/users/677163/philippe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 1, "accepted_answer_id": 51886129, "answer_count": 1, "score": -2, "last_activity_date": 1534458530, "creation_date": 1534369040, "last_edit_date": 1534454725, "question_id": 51866805, "link": "https://stackoverflow.com/questions/51866805/d3js-switching-to-version-4-cant-change-node-and-node-neighbors-radius-on-cli", "title": "d3js switching to version 4 : can&#39;t change node and node neighbors radius on click anymore", "body": "<p>I want to switch some code from d3js version 3 to version 4.\nThe graph gave the possibility to change node and connected nodes opacity and radius on click. However, as node'circle are not defined the same way on version 4, radius are not to be changed the same way. Here is the changes performed:</p>\n\n<pre><code> var node = svg.selectAll('.node')\n        .data(nodes)\n        .enter().append('g')\n        .attr('class', 'node')\n        //.attr('r', 15) \n        //.style('fill', function(d) {\n        //   return color(d.degree);\n        //})\n        .call(d3.drag()\n           .on('start', dragstarted)\n           .on('drag',  dragged)\n        )\n        .on('click', connectedNodes);\n\n  node.append('circle')\n     .attr('r', 15) \n     .style('fill', function(d) {\n        return color(d.degree);\n     });\n</code></pre>\n\n<p>and here is the function used to change node and its neighbors on click:</p>\n\n<pre><code>function connectedNodes() {\n        if (toggle == 0) {\n           var d = d3.select(this).node().__data__;\n           node.style(\"opacity\", function(o) {\n              return neighboring(d, o) | neighboring(o, d) ? 1 : 0.3;\n           });\n           node.attr('r', function(o) {\n              return neighboring(d, o) | neighboring(o, d) ? 20 : 15;\n           });\n           link.style(\"opacity\", function(o) {\n              return d.index == o.source.index | d.index == o.target.index ? 1 : 0.8;\n           });\n           link.style('stroke-width', function(o) {\n              return d.index == o.source.index | d.index == o.target.index ? 3 : 0.8;\n           });\n           toggle = 1;\n      }\n }\n</code></pre>\n\n<p>the block <code>node.attr('r', function(o)</code> does not work anymore (as opposite as <code>node.style('opacity, function(o)</code>) as the circles are not defined the same way.</p>\n\n<p>How can I still update node and connected nodes radius on click ? I have seen some examples on how to do this but none applied as I want not only clicked node to be bigger, but also connected ones, and I don't know how to retrieve circle property from node attributes.</p>\n\n<p><a href=\"https://pastebin.com/xzHJmD4Z\" rel=\"nofollow noreferrer\">here</a> is the complete html (javascript embedded), and <a href=\"https://pastebin.com/kySzR6K0\" rel=\"nofollow noreferrer\">here</a> is the graph.json which is used by the script. Both on the same folder, and <code>python -m SimpleHTTPServer 8080</code> to serve these files.</p>\n\n<p>Many thanks!</p>\n\n<p>I have tried to hardcode a higher value, regardless of neighboring, still no change, value not taken into account.</p>\n\n<pre><code>node.attr('r', function(o) {\n   //   return neighboring(d, o) || neighboring(o, d) ? 20 : 15;\n   return 25;\n});\n</code></pre>\n"}, {"tags": ["javascript", "undefined", "undefined-index"], "comments": [{"owner": {"reputation": 1064, "user_id": 2317487, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/S9GeT.jpg?s=128&g=1", "display_name": "Aus", "link": "https://stackoverflow.com/users/2317487/aus"}, "edited": false, "score": 1, "creation_date": 1534370379, "post_id": 51866792, "comment_id": 90686072, "body": "You are assuming that &quot;openedCards&quot; is an array, it is not. At the beginnging you define it as an array but then in OnClick event you override it with &quot;this&quot;; an element."}, {"owner": {"reputation": 1064, "user_id": 2317487, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/S9GeT.jpg?s=128&g=1", "display_name": "Aus", "link": "https://stackoverflow.com/users/2317487/aus"}, "edited": false, "score": 0, "creation_date": 1534370725, "post_id": 51866792, "comment_id": 90686165, "body": "Start with replacing line 88, see modified codepen <a href=\"https://codepen.io/anon/pen/RBmOda?editors=0010#0\" rel=\"nofollow noreferrer\">codepen.io/anon/pen/RBmOda?editors=0010#0</a>"}, {"owner": {"reputation": 71, "user_id": 9277981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d585812d0815047c120abd937101cc3?s=128&d=identicon&r=PG&f=1", "display_name": "JaseyJS", "link": "https://stackoverflow.com/users/9277981/jaseyjs"}, "reply_to_user": {"reputation": 1064, "user_id": 2317487, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/S9GeT.jpg?s=128&g=1", "display_name": "Aus", "link": "https://stackoverflow.com/users/2317487/aus"}, "edited": false, "score": 0, "creation_date": 1534371817, "post_id": 51866792, "comment_id": 90686430, "body": "cool.....progress.  So openedCards=this; changes array ! into what ? Many Thanks"}, {"owner": {"reputation": 1064, "user_id": 2317487, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/S9GeT.jpg?s=128&g=1", "display_name": "Aus", "link": "https://stackoverflow.com/users/2317487/aus"}, "edited": false, "score": 0, "creation_date": 1534373939, "post_id": 51866792, "comment_id": 90686924, "body": "&#39;this&#39; is the single clicked object/card (not array), you want to &#39;push&#39; it into openedCards or whatever, but you shouldn&#39;t assign it to openedCards. That should cover the scope of your original question."}], "owner": {"reputation": 71, "user_id": 9277981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d585812d0815047c120abd937101cc3?s=128&d=identicon&r=PG&f=1", "display_name": "JaseyJS", "link": "https://stackoverflow.com/users/9277981/jaseyjs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 203, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1534369060, "creation_date": 1534368963, "last_edit_date": 1592644375, "question_id": 51866792, "link": "https://stackoverflow.com/questions/51866792/unable-to-add-classlist-property-to-an-arrays-index", "title": "Unable to add classList property to an array&#39;s index", "body": "<p>Need bit of help to make memory-game, as I am trying to click element to show and open, compare inner html and if equal add the class match to keep two elements opened BUT when i click (element) card it throws error of &quot;<strong>uncaught TypeError: cannot read property classList of undefined at HTMLLIElement .cardClick</strong>&quot; which i dont know how to rectify, any help will be appreciated. Thanks.\nComplete code at\n<a href=\"https://codepen.io/ma-halepoto/pen/OwEqNr\" rel=\"nofollow noreferrer\">https://codepen.io/ma-halepoto/pen/OwEqNr</a></p>\n<pre><code>window.onload = function () {\n        let openedCards  =  [];\n            matchedCards =  [];\n            //currentCard  =    [];\n            //previouseCard= 0 ;\n            moveCount = 0 ;\n            restart = document.getElementsByClassName ('restart');\n            modal = document.getElementById('myModal');\n            span = document.getElementsByClassName('close')[0];\n            displayCards = [];\n            openedCardsLength=null;\n\n            // console.log (restart); just to see if restart works\n            restart[0].addEventListener ('click', function (){\n                location.reload();\n\n            })\n        // console.log(&quot;It's loaded!&quot;) to check if this works\n        const cards = ['fa-diamond','fa-diamond', 'fa-paper-plane-o','fa-paper-plane-o', 'fa-anchor', 'fa-anchor', 'fa-bolt', 'fa-bolt', 'fa-cube', 'fa-cube', 'fa-leaf', 'fa-leaf', 'fa-bicycle', 'fa-bicycle',\n         'fa-bomb','fa-bomb' ]; \n        let shuffleCards = shuffle (cards);\n        // console.log (shuffleCards); to check if this works\n        let cardElements = document.getElementsByClassName('symbols');\n        // console.log (cardElements); to check if this works\n        for (i=0; i &lt; cardElements.length; i++ ) {\n            cardElements[i].className = shuffleCards[i]+ ' fa symbols';\n        \n        }\n\n        // initialising popup \n\n        function popup() {\n                        modal.style.display = &quot;flex&quot;;\n                        document.getElementById('p1').innerHTML = 'You did it in '+ moveCount+ ' moves'  + ' and ' + seconds+ ' seconds.';\n        }\n\n        // Closing popup by clicking x\n        span.onclick = function closeX () {\n                            modal.style.display = &quot;none&quot;;\n                        }\n\n        // function close popup by clicking any where\n        window.onclick = function(event) {\n                            if (event.target == modal) {\n                                modal.style.display = &quot;none&quot;;\n                            }\n                        }\n\n        // Stopwatch initialisation\n        let stopWatch = document.getElementById ('timer');\n            time = 0;\n            seconds=0\n        \n        // start time\n        function startTime () {\n            time = setInterval ( function (){\n                seconds++;\n                stopWatch.innerHTML = seconds + ' s';\n            }, 1000); \n        }\n\n        // stop the time function\n        function stopTime ()    {\n            clearInterval (time);\n        }\n        \n        displayCards = document.getElementsByClassName ('card');       \n            console.log(displayCards);\n\n        // Click Event\n        function cardClick () {\n            openedCards = this;\n            openedCards.removeEventListener ('click', cardClick);\n            console.log (openedCards);\n            // openedCards[1].removeEventListener ('click', cardClick); \n            \n\n            // updating move counts\n            let countMoves = document.getElementById ('moves');\n\n            moveCount++ ;\n            countMoves.innerHTML= moveCount;\n            console.log(countMoves);\n\n            // star ranking;\n            if ( moveCount === 20) {\n                let removeStar = document.getElementById('star3');\n                removeStar.style.display = 'none';\n            } else if (moveCount ===30) {\n                let removeStarTwo = document.getElementById ('star2');\n                removeStarTwo.style.display = 'none';\n                }   \n\n            // start  stopwatch at the first click.\n            if ( moveCount ===1) {\n                startTime ();\n            }\n\n                //function clickedCards () {\n                    //openedCards.push(this);   \n                    openedCardsLength = openedCards.length;\n                    \n</code></pre>\n<p>Error here</p>\n<blockquote>\n<p>openedCards[0].classList.add('open','show');</p>\n<p>openedCards[1].classList.add('open', 'show');</p>\n</blockquote>\n<pre><code>                    console.log (openedCards[0]);\n                    console.log (openedCards[1]);\n                    console.log (openedCardsLength);\n\n                    if (openedCardsLength ===2) {\n        \n                        \n                        if (openedCards[0].type === openedCards[1].type){\n                            openedCards[0].classList.add('match');\n                            openedCards[1].classList.add('match');\n                        } else {\n                            openedCards[0].classList.remove('open','show');\n                            openedCards[1].classList.remove('open','show');\n                            openedCards[0].addEventListener ('click', cardClick);\n                            openedCards[1].addEventListener ('click', cardClick);\n\n                        }\n\n                    }\n                    \n        } \n            \n            // event listener function \n        for (i=0; i &lt; displayCards.length; i++) {\n            displayCards[i].addEventListener('click', cardClick);\n\n        }\n        \n     }`\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-material"], "comments": [{"owner": {"reputation": 891, "user_id": 7502260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35497e7438df0be043f03357cb53e5d?s=128&d=identicon&r=PG", "display_name": "abdullahkady", "link": "https://stackoverflow.com/users/7502260/abdullahkady"}, "edited": false, "score": 0, "creation_date": 1534370063, "post_id": 51866788, "comment_id": 90685970, "body": "I know nothing about that specific table tbh. But maybe you should pass your data as DATA.products, to be of the same type"}], "answers": [{"tags": [], "owner": {"reputation": 2696, "user_id": 596367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a64fd57e3e8b4b929b8ac2fa89b07bf?s=128&d=identicon&r=PG", "display_name": "PeS", "link": "https://stackoverflow.com/users/596367/pes"}, "is_accepted": false, "score": 0, "last_activity_date": 1534370731, "creation_date": 1534370731, "answer_id": 51867086, "question_id": 51866788, "link": "https://stackoverflow.com/questions/51866788/cant-interpolate-data-correctly-angular-material-table-angular2/51867086#51867086", "title": "Can&#39;t interpolate data correctly - Angular material table - Angular2+", "body": "<p>It is not quite clear as you did not supply code for creating <code>dataSource</code> but my guess is that you are passing <code>Object</code> instead of <code>Array</code> there. Try creating the <code>dataSource</code> with <code>DATA.products</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 667, "user_id": 5523146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t1oMu.jpg?s=128&g=1", "display_name": "Brad Axe", "link": "https://stackoverflow.com/users/5523146/brad-axe"}, "is_accepted": true, "score": 0, "last_activity_date": 1534377288, "last_edit_date": 1534377288, "creation_date": 1534371229, "answer_id": 51867170, "question_id": 51866788, "link": "https://stackoverflow.com/questions/51866788/cant-interpolate-data-correctly-angular-material-table-angular2/51867170#51867170", "title": "Can&#39;t interpolate data correctly - Angular material table - Angular2+", "body": "<p>You are currently pointing the data source at an object, when it needs an array.  So, simple implementation might be (in .component.ts):</p>\n\n<p><code>dataSource = DATA[\"products\"]</code></p>\n"}, {"tags": [], "owner": {"reputation": 1048, "user_id": 3558573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2ca616b8dfd29e78c294afb275ab878?s=128&d=identicon&r=PG&f=1", "display_name": "wFitz", "link": "https://stackoverflow.com/users/3558573/wfitz"}, "is_accepted": false, "score": 0, "last_activity_date": 1534371344, "creation_date": 1534371344, "answer_id": 51867187, "question_id": 51866788, "link": "https://stackoverflow.com/questions/51866788/cant-interpolate-data-correctly-angular-material-table-angular2/51867187#51867187", "title": "Can&#39;t interpolate data correctly - Angular material table - Angular2+", "body": "<p>Try using this, it worked for me</p>\n\n<pre><code>import { MatTableDataSource } from '@angular/material';\n</code></pre>\n\n<p>Then add to ngOniInit() the following</p>\n\n<pre><code>ngOnInit() {\n   this.dataSource = new MatTableDataSource(DATA);\n}\n</code></pre>\n"}], "owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 0, "accepted_answer_id": 51867170, "answer_count": 3, "score": 0, "last_activity_date": 1534377288, "creation_date": 1534368949, "question_id": 51866788, "link": "https://stackoverflow.com/questions/51866788/cant-interpolate-data-correctly-angular-material-table-angular2", "title": "Can&#39;t interpolate data correctly - Angular material table - Angular2+", "body": "<p>I cannot figure out how to modify the example material data table such that I can use my own data within it...</p>\n\n<p>my data appear in this format:</p>\n\n<pre><code>export const DATA: any = {\n  'products': [\n    {\n      'id': 1,\n      'name': 'SOLID BB T-SHIRT',\n      'price': '28.00',\n      ...\n    },\n...\n]\n</code></pre>\n\n<p>From the example that Material.angular.io gives, their data is in the format:</p>\n\n<pre><code>export const DATA = [\n  {\n    \"id\": 1,\n    \"name\": \"Leanne Graham\",\n    \"username\": \"Bret\",\n    ...\n  },\n  ...\n]\n</code></pre>\n\n<p>However, I cannot seem to get my data format to fit the interpolation for use in the HTML as so:</p>\n\n<pre><code>&lt;table mat-table [dataSource]=\"dataSource\" class=\"mat-elevation-z8\"&gt;\n   &lt;ng-container matColumnDef=\"id\"&gt;\n    &lt;th mat-header-cell *matHeaderCellDef&gt; id &lt;/th&gt;\n    &lt;td mat-cell *matCellDef=\"let element\"&gt; {{element.id}} &lt;/td&gt;\n  &lt;/ng-container&gt;\n</code></pre>\n\n<p>Is there something I am missing?</p>\n"}, {"tags": ["javascript", "node.js", "discord.js"], "comments": [{"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1534368806, "post_id": 51866753, "comment_id": 90685559, "body": "Also <code>Math.random()</code> is a method.  You&#39;re missing the <code>()</code> to invoke it"}, {"owner": {"reputation": 2485, "user_id": 3639630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rPscq.jpg?s=128&g=1", "display_name": "Wesgur", "link": "https://stackoverflow.com/users/3639630/wesgur"}, "edited": false, "score": 0, "creation_date": 1534369126, "post_id": 51866753, "comment_id": 90685658, "body": "If you want a number between 0 and 10, don&#39;t use Math.pow() just multiply 10 on the random number generated. Math.random() * 10. Also wrong use of toString. Math.floor(Math.random() * 10).toString()"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1534369160, "post_id": 51866753, "comment_id": 90685671, "body": "<code>toString</code> is not a function (unless you wrote it) ...<code>Math.pow</code> will raise some number to the power another number, (10 in your case), <code>Math.random</code> is a function that returns a value between 0 and 1, and any number between 0 and 1 raised to the power of 10 will become a smaller number between 0 and 1, so <code>Math.floor</code>, once you fix the <code>Math.random</code> thing, will always end up 0"}, {"owner": {"reputation": 3696, "user_id": 6195472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BLZ5i.png?s=128&g=1", "display_name": "Andr&#233;", "link": "https://stackoverflow.com/users/6195472/andr%c3%a9"}, "edited": false, "score": 0, "creation_date": 1534413010, "post_id": 51866753, "comment_id": 90699760, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/4959975/generate-random-number-between-two-numbers-in-javascript\">Generate random number between two numbers in JavaScript</a>"}], "answers": [{"comments": [{"owner": {"reputation": 16720, "user_id": 209591, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0ff9c3a23e73d87375f89ab6ccf62e31?s=128&d=identicon&r=PG", "display_name": "Geert-Jan", "link": "https://stackoverflow.com/users/209591/geert-jan"}, "edited": false, "score": 0, "creation_date": 1534371712, "post_id": 51866876, "comment_id": 90686404, "body": "If OP wants integers in range <code>[0, 10]</code> inclusive the above is not correct, since 0 is never returned. Assuming integer values and an even distribution <code>Math.floor(Math.random() * 11)</code>  works. Note: Math.random() returns a float in <code>[0,1)</code> so the above will never result in <code>11</code>"}, {"owner": {"reputation": 196, "user_id": 10193340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/irvFY.jpg?s=128&g=1", "display_name": "JKimbrough", "link": "https://stackoverflow.com/users/10193340/jkimbrough"}, "reply_to_user": {"reputation": 16720, "user_id": 209591, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0ff9c3a23e73d87375f89ab6ccf62e31?s=128&d=identicon&r=PG", "display_name": "Geert-Jan", "link": "https://stackoverflow.com/users/209591/geert-jan"}, "edited": false, "score": 0, "creation_date": 1534371934, "post_id": 51866876, "comment_id": 90686460, "body": "I&#39;m not following your comment?  Are you making a suggestion to my code?  Sounds like you are just explaining that my code will return integers 0-10 randomly? Help me understand..."}, {"owner": {"reputation": 16720, "user_id": 209591, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0ff9c3a23e73d87375f89ab6ccf62e31?s=128&d=identicon&r=PG", "display_name": "Geert-Jan", "link": "https://stackoverflow.com/users/209591/geert-jan"}, "edited": false, "score": 1, "creation_date": 1534372197, "post_id": 51866876, "comment_id": 90686523, "body": "Your code returns integers in range [1,10] randomly. I supplied code to return integers in range [0,10] randomly. Not entirely sure what OP wants though."}, {"owner": {"reputation": 196, "user_id": 10193340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/irvFY.jpg?s=128&g=1", "display_name": "JKimbrough", "link": "https://stackoverflow.com/users/10193340/jkimbrough"}, "reply_to_user": {"reputation": 16720, "user_id": 209591, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0ff9c3a23e73d87375f89ab6ccf62e31?s=128&d=identicon&r=PG", "display_name": "Geert-Jan", "link": "https://stackoverflow.com/users/209591/geert-jan"}, "edited": false, "score": 1, "creation_date": 1534372375, "post_id": 51866876, "comment_id": 90686570, "body": "Oh wow - very careless mistake on my part - good catch.  I will make the edit for OP."}], "tags": [], "owner": {"reputation": 196, "user_id": 10193340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/irvFY.jpg?s=128&g=1", "display_name": "JKimbrough", "link": "https://stackoverflow.com/users/10193340/jkimbrough"}, "is_accepted": true, "score": 0, "last_activity_date": 1534372398, "last_edit_date": 1534372398, "creation_date": 1534369473, "answer_id": 51866876, "question_id": 51866753, "link": "https://stackoverflow.com/questions/51866753/trouble-generating-a-random-number-between-0-and-10/51866876#51866876", "title": "Trouble generating a random number between 0 and 10", "body": "<p>You need to incorporate the following code (considering you want round integers returned):</p>\n\n<pre><code>Math.floor(Math.random()*11) \n</code></pre>\n\n<p>Ditch the <code>Math.pow()</code> method.</p>\n\n<p><em>edit made from suggestion by @Geert-Jan</em></p>\n"}], "owner": {"reputation": 15, "user_id": 10231380, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YKXxUFyWJWM/AAAAAAAAAAI/AAAAAAAAAPs/Aj36THoKrwU/photo.jpg?sz=128", "display_name": "InutiLuke", "link": "https://stackoverflow.com/users/10231380/inutiluke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 51866876, "answer_count": 1, "score": 1, "last_activity_date": 1534372398, "creation_date": 1534368748, "last_edit_date": 1534369048, "question_id": 51866753, "link": "https://stackoverflow.com/questions/51866753/trouble-generating-a-random-number-between-0-and-10", "title": "Trouble generating a random number between 0 and 10", "body": "<p>I'm working in a discord bot, specifically in a rate command, which is supposed to return:</p>\n\n<hr>\n\n<p>\"I would rate (thing to be rated) (random number)/10.\"</p>\n\n<hr>\n\n<p>But it returns: </p>\n\n<hr>\n\n<p>\"I would rate (thing to be rated) [object Undefined]/10.\"</p>\n\n<pre><code>client.on('message', message =&gt; {\n  if(message.content.startsWith (prefix + \"rate\")) {\n    if(message.content.slice(prefix.length + 4) === \"\"){\n      message.channel.send(\"Give me something to rate\");\n    }\n    else\n      message.channel.send(\"I would rate\" + \"**\" + \n        message.content.slice(prefix.length + 4) + \"**\" + \" \" + \n        toString(Math.floor(Math.pow(Math.random, 10))) + \"/10\");\n  }\n</code></pre>\n\n<p>What can possibly be wrong?</p>\n"}, {"tags": ["javascript", "html", "reactjs", "web"], "comments": [{"owner": {"reputation": 1332, "user_id": 5721245, "user_type": "registered", "accept_rate": 36, "profile_image": "https://lh5.googleusercontent.com/-JtxBk5y__Z8/AAAAAAAAAAI/AAAAAAAAA6s/jBR2dop4AxU/photo.jpg?sz=128", "display_name": "Zeyad Etman", "link": "https://stackoverflow.com/users/5721245/zeyad-etman"}, "edited": false, "score": 1, "creation_date": 1534368798, "post_id": 51866729, "comment_id": 90685558, "body": "Try to use <code>npm start</code> in your cmd/terminal."}, {"owner": {"reputation": 3947, "user_id": 741657, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZrMdb.jpg?s=128&g=1", "display_name": "Kev", "link": "https://stackoverflow.com/users/741657/kev"}, "edited": false, "score": 1, "creation_date": 1534369059, "post_id": 51866729, "comment_id": 90685633, "body": "If you are new to React and JS, I&#39;d recommend you to start with <a href=\"https://github.com/facebook/create-react-app\" rel=\"nofollow noreferrer\">github.com/facebook/create-react-app</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3284, "user_id": 3518108, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZuQVh.jpg?s=128&g=1", "display_name": "Sam H.", "link": "https://stackoverflow.com/users/3518108/sam-h"}, "is_accepted": false, "score": 0, "last_activity_date": 1534374559, "creation_date": 1534374559, "answer_id": 51867618, "question_id": 51866729, "link": "https://stackoverflow.com/questions/51866729/encountering-an-error-importing-react-on-index-html-file/51867618#51867618", "title": "Encountering an error importing React on index.html file", "body": "<p>Import syntax isn\u2019t supported. You should be compiling the JSX before referencing it in an HTML file. As a commented suggested, you should start with create-react-app. </p>\n"}], "owner": {"reputation": 11, "user_id": 6220408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48e1dbc80d03e7c2c3f6d06c14f1e42f?s=128&d=identicon&r=PG&f=1", "display_name": "Ignited19", "link": "https://stackoverflow.com/users/6220408/ignited19"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 21, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534374559, "creation_date": 1534368607, "question_id": 51866729, "link": "https://stackoverflow.com/questions/51866729/encountering-an-error-importing-react-on-index-html-file", "title": "Encountering an error importing React on index.html file", "body": "<p>I am currently learning React. I am running into an issue though. Whenever I try to open the index.html that it creates, the JS portion of the file doesn't load. Under console I am receiving an error with the first line:</p>\n\n<pre><code>import React, { Component } from 'react';\n</code></pre>\n\n<p>The error it produces is \"Uncaught SyntaxError: Unexpected identifier\"</p>\n\n<p>I am fairly new with React so if there is anymore information needed, please let me know.</p>\n\n<p>Thank you</p>\n"}, {"tags": ["javascript", "jquery", "arrays"], "comments": [{"owner": {"reputation": 133386, "user_id": 295783, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/da548667c834109a7059b51060e53dff?s=128&d=identicon&r=PG", "display_name": "mplungjan", "link": "https://stackoverflow.com/users/295783/mplungjan"}, "edited": false, "score": 1, "creation_date": 1534368674, "post_id": 51866705, "comment_id": 90685523, "body": "Please shorten your code to just a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - there is far too much code where 3 entries would be enough to show the issue"}, {"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 3, "creation_date": 1534368907, "post_id": 51866705, "comment_id": 90685590, "body": "A little trick for you, as long as everything else is valid JSON types, undefined is not a valid JSON type, so if you stringify and then parse, it will automatically remove all undefined..  eg.. <code>JSON.parse(JSON.stringify({removeme:undefined, keepme: true}))</code> will just return <code>{keepme:true}</code>.."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1534369111, "post_id": 51866705, "comment_id": 90685655, "body": "Why are you using an array of objects, each with just one different key? Why not a single object like <code>{&quot;Yes&quot;: 66, &quot;No&quot;: 7, &quot;Not sure&quot;: 28, &quot;Total&quot;: 101}</code>?"}, {"owner": {"reputation": 145, "user_id": 9487853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30b67ea32902f7581e75dc4c5e9b3e7d?s=128&d=identicon&r=PG&f=1", "display_name": "EtherealBug", "link": "https://stackoverflow.com/users/9487853/etherealbug"}, "edited": false, "score": 0, "creation_date": 1534370269, "post_id": 51866705, "comment_id": 90686042, "body": "I definitely prefer <code>JSON.parse</code> and <code>stringify</code> methods, but the rest of the data file (not included in the above sample) is not entirely valid JSON. I didn&#39;t get to work on the data file, but for anyone starting from scratch, making sure it&#39;s all valid JSON types is infinitely better and easier."}], "answers": [{"comments": [{"owner": {"reputation": 133386, "user_id": 295783, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/da548667c834109a7059b51060e53dff?s=128&d=identicon&r=PG", "display_name": "mplungjan", "link": "https://stackoverflow.com/users/295783/mplungjan"}, "edited": false, "score": 1, "creation_date": 1534369514, "post_id": 51866836, "comment_id": 90685796, "body": "What did you change/add?"}, {"owner": {"reputation": 1332, "user_id": 5721245, "user_type": "registered", "accept_rate": 36, "profile_image": "https://lh5.googleusercontent.com/-JtxBk5y__Z8/AAAAAAAAAAI/AAAAAAAAA6s/jBR2dop4AxU/photo.jpg?sz=128", "display_name": "Zeyad Etman", "link": "https://stackoverflow.com/users/5721245/zeyad-etman"}, "reply_to_user": {"reputation": 133386, "user_id": 295783, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/da548667c834109a7059b51060e53dff?s=128&d=identicon&r=PG", "display_name": "mplungjan", "link": "https://stackoverflow.com/users/295783/mplungjan"}, "edited": false, "score": 0, "creation_date": 1534369627, "post_id": 51866836, "comment_id": 90685840, "body": "Just modify this line <code>return e.Yes;</code> by this <code>return e.Yes !== undefined; </code> @mplungjan"}], "tags": [], "owner": {"reputation": 1332, "user_id": 5721245, "user_type": "registered", "accept_rate": 36, "profile_image": "https://lh5.googleusercontent.com/-JtxBk5y__Z8/AAAAAAAAAAI/AAAAAAAAA6s/jBR2dop4AxU/photo.jpg?sz=128", "display_name": "Zeyad Etman", "link": "https://stackoverflow.com/users/5721245/zeyad-etman"}, "is_accepted": false, "score": 1, "last_activity_date": 1534392899, "last_edit_date": 1534392899, "creation_date": 1534369200, "answer_id": 51866836, "question_id": 51866705, "link": "https://stackoverflow.com/questions/51866705/removing-undefined-elements-from-new-array-mapped-from-nested-array-using-map/51866836#51866836", "title": "Removing undefined elements from new array mapped from nested array using map() and filter()", "body": "<p>I think you missed this:</p>\n\n<pre><code>return e.Yes !== undefined;\n</code></pre>\n\n<p>in this code:</p>\n\n<pre><code>var q5_yes = data.reg_pk_xp.map(function(e) {\n  return e.Question_5.map(function(e) {\n    return e.Yes;\n  });\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data = {\r\n  \"cert_stat\": [{\r\n      Month: \"Nov-2015\",\r\n      loOP_Percent_Cert: 87.1,\r\n      loOP_Percent_Exp: 9.7,\r\n      loOP_Percent_None: 3.2,\r\n      doW_R_Percent_Cert: 62.7,\r\n      doW_R_Percent_Exp: 20.2,\r\n      doW_R_Percent_None: 17.3\r\n    },\r\n    {\r\n      Month: \"Feb-2016\",\r\n      loOP_Percent_Cert: 83.9,\r\n      loOP_Percent_Exp: 19.9,\r\n      loOP_Percent_None: 3.2,\r\n      doW_R_Percent_Cert: 61.1,\r\n      doW_R_Percent_Exp: 22.2,\r\n      doW_R_Percent_None: 16.7\r\n    },\r\n    {\r\n      Month: \"May-2016\",\r\n      loOP_Percent_Cert: 95.2,\r\n      loOP_Percent_Exp: 4.8,\r\n      loOP_Percent_None: 0,\r\n      doW_R_Percent_Cert: 80.9,\r\n      doW_R_Percent_Exp: 14.7,\r\n      doW_R_Percent_None: 4.4\r\n    },\r\n    {\r\n      Month: \"Aug-2016\",\r\n      loOP_Percent_Cert: 95.2,\r\n      loOP_Percent_Exp: 4.8,\r\n      loOP_Percent_None: 0,\r\n      doW_R_Percent_Cert: 83.6,\r\n      doW_R_Percent_Exp: 11.9,\r\n      doW_R_Percent_None: 4.5\r\n    },\r\n    {\r\n      Month: \"Nov-2016\",\r\n      loOP_Percent_Cert: 91.9,\r\n      loOP_Percent_Exp: 8.1,\r\n      loOP_Percent_None: 0,\r\n      doW_R_Percent_Cert: 89.2,\r\n      doW_R_Percent_Exp: 9.2,\r\n      doW_R_Percent_None: 1.5\r\n    },\r\n    {\r\n      Month: \"Feb-2017\",\r\n      loOP_Percent_Cert: 95.2,\r\n      loOP_Percent_Exp: 4.8,\r\n      loOP_Percent_None: 0,\r\n      doW_R_Percent_Cert: 90.2,\r\n      doW_R_Percent_Exp: 7.8,\r\n      doW_R_Percent_None: 1.5\r\n    },\r\n    {\r\n      Month: \"May-2017\",\r\n      loOP_Percent_Cert: 95.2,\r\n      loOP_Percent_Exp: 4.8,\r\n      loOP_Percent_None: 0,\r\n      doW_R_Percent_Cert: 90.2,\r\n      doW_R_Percent_Exp: 7.8,\r\n      doW_R_Percent_None: 1.5\r\n    },\r\n    {\r\n      Month: \"Aug-2017\",\r\n      loOP_Percent_Cert: 93.4,\r\n      loOP_Percent_Exp: 6.6,\r\n      loOP_Percent_None: 0,\r\n      doW_R_Percent_Cert: 80.7,\r\n      doW_R_Percent_Exp: 17.5,\r\n      doW_R_Percent_None: 1.8\r\n    },\r\n    {\r\n      Month: \"Nov-2017\",\r\n      loOP_Percent_Cert: 96.7,\r\n      loOP_Percent_Exp: 3.3,\r\n      loOP_Percent_None: 0,\r\n      doW_R_Percent_Cert: 80.7,\r\n      doW_R_Percent_Exp: 17.5,\r\n      doW_R_Percent_None: 1.8\r\n    },\r\n    {\r\n      Month: \"Feb-2018\",\r\n      loOP_Percent_Cert: 97.0,\r\n      loOP_Percent_Exp: 3.0,\r\n      loOP_Percent_None: 0,\r\n      doW_R_Percent_Cert: 81.0,\r\n      doW_R_Percent_Exp: 17.0,\r\n      doW_R_Percent_None: 2.0\r\n    },\r\n    {\r\n      Month: \"May-2018\",\r\n      loOP_Percent_Cert: 96.8,\r\n      loOP_Percent_Exp: 3.2,\r\n      loOP_Percent_None: 0,\r\n      doW_R_Percent_Cert: 72.9,\r\n      doW_R_Percent_Exp: 25.4,\r\n      doW_R_Percent_None: 1.7\r\n    }\r\n  ],\r\n  \"reg_multi\": [{\r\n    \"Networks\": [\"loOP\", \"NGH\", \"doW_R\", \"RES\", \"MTG\", \"ERGO\", \"Other\"], //DO NOT CHANGE ORDER\r\n    \"Labels\": [\"None\", \"1-5\", \"6-10\", \"11-25\", \"More than 25\"],\r\n    \"None\": [846, 1442, 647, 1554, 1589, 1618, 1338],\r\n    \"1-5\": [487, 231, 697, 126, 101, 69, 229],\r\n    \"6-10\": [182, 17, 248, 10, 0, 3, 69],\r\n    \"11-25\": [96, 1, 73, 1, 0, 0, 38],\r\n    \"More than 25\": [80, 0, 26, 0, 1, 1, 17]\r\n  }],\r\n  \"reg_pk_xp\": [{\r\n      \"Quarter\": \"Y1Q1\",\r\n      \"Question_5\": [{\r\n          \"Yes\": 66\r\n        },\r\n        {\r\n          \"No\": 7\r\n        },\r\n        {\r\n          \"Not Sure\": 28\r\n        },\r\n        {\r\n          \"Total\": 101\r\n        }\r\n      ],\r\n      \"Question_6\": [{\r\n          \"Yes\": 66\r\n        },\r\n        {\r\n          \"No\": 7\r\n        },\r\n        {\r\n          \"Not Sure\": 28\r\n        },\r\n        {\r\n          \"Total\": 101\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      \"Quarter\": \"Y1Q2\",\r\n      \"Question_5\": [{\r\n        \"Yes\": 30\r\n      }, {\r\n        \"No\": 5\r\n      }, {\r\n        \"Not Sure\": 13\r\n      }, {\r\n        \"Total\": 48\r\n      }],\r\n      \"Question_6\": [{\r\n        \"Yes\": 30\r\n      }, {\r\n        \"No\": 5\r\n      }, {\r\n        \"Not Sure\": 13\r\n      }, {\r\n        \"Total\": 48\r\n      }]\r\n    },\r\n    {\r\n      \"Quarter\": \"Y1Q3\",\r\n      \"Question_5\": [{\r\n        \"Yes\": 32\r\n      }, {\r\n        \"No\": 1\r\n      }, {\r\n        \"Not Sure\": 20\r\n      }, {\r\n        \"Total\": 53\r\n      }],\r\n      \"Question_6\": [{\r\n        \"Yes\": 21\r\n      }, {\r\n        \"No\": 9\r\n      }, {\r\n        \"Not Sure\": 23\r\n      }, {\r\n        \"Total\": 53\r\n      }]\r\n    },\r\n    {\r\n      \"Quarter\": \"Y1Q4\",\r\n      \"Question_5\": [{\r\n        \"Yes\": 79\r\n      }, {\r\n        \"No\": 7\r\n      }, {\r\n        \"Not Sure\": 12\r\n      }, {\r\n        \"Total\": 98\r\n      }],\r\n      \"Question_6\": [{\r\n        \"Yes\": 71\r\n      }, {\r\n        \"No\": 13\r\n      }, {\r\n        \"Not Sure\": 14\r\n      }, {\r\n        \"Total\": 98\r\n      }]\r\n    },\r\n    {\r\n      \"Quarter\": \"Y2Q1\",\r\n      \"Question_5\": [{\r\n        \"Yes\": 88\r\n      }, {\r\n        \"No\": 5\r\n      }, {\r\n        \"Not Sure\": 17\r\n      }, {\r\n        \"Total\": 110\r\n      }],\r\n      \"Question_6\": [{\r\n        \"Yes\": 60\r\n      }, {\r\n        \"No\": 33\r\n      }, {\r\n        \"Not Sure\": 17\r\n      }, {\r\n        \"Total\": 110\r\n      }]\r\n    },\r\n    {\r\n      \"Quarter\": \"Y2Q2\",\r\n      \"Question_5\": [{\r\n        \"Yes\": 94\r\n      }, {\r\n        \"No\": 9\r\n      }, {\r\n        \"Not Sure\": 14\r\n      }, {\r\n        \"Total\": 117\r\n      }],\r\n      \"Question_6\": [{\r\n        \"Yes\": 76\r\n      }, {\r\n        \"No\": 26\r\n      }, {\r\n        \"Not Sure\": 15\r\n      }, {\r\n        \"Total\": 117\r\n      }]\r\n    },\r\n    {\r\n      \"Quarter\": \"Y2Q3\",\r\n      \"Question_5\": [{\r\n        \"Yes\": 38\r\n      }, {\r\n        \"No\": 5\r\n      }, {\r\n        \"Not Sure\": 14\r\n      }, {\r\n        \"Total\": 57\r\n      }],\r\n      \"Question_6\": [{\r\n        \"Yes\": 23\r\n      }, {\r\n        \"No\": 23\r\n      }, {\r\n        \"Not Sure\": 11\r\n      }, {\r\n        \"Total\": 57\r\n      }]\r\n    },\r\n    {\r\n      \"Quarter\": \"Y2Q4\",\r\n      \"Question_5\": [{\r\n        \"Yes\": 48\r\n      }, {\r\n        \"No\": 2\r\n      }, {\r\n        \"Not Sure\": 12\r\n      }, {\r\n        \"Total\": 62\r\n      }],\r\n      \"Question_6\": [{\r\n        \"Yes\": 36\r\n      }, {\r\n        \"No\": 12\r\n      }, {\r\n        \"Not Sure\": 14\r\n      }, {\r\n        \"Total\": 62\r\n      }]\r\n    },\r\n    {\r\n      \"Quarter\": \"Y3Q1\",\r\n      \"Question_5\": [{\r\n        \"Yes\": 90\r\n      }, {\r\n        \"No\": 2\r\n      }, {\r\n        \"Not Sure\": 19\r\n      }, {\r\n        \"Total\": 111\r\n      }],\r\n      \"Question_6\": [{\r\n        \"Yes\": 62\r\n      }, {\r\n        \"No\": 32\r\n      }, {\r\n        \"Not Sure\": 17\r\n      }, {\r\n        \"Total\": 111\r\n      }]\r\n    },\r\n    {\r\n      \"Quarter\": \"Y3Q2\",\r\n      \"Question_5\": [{\r\n        \"Yes\": 55\r\n      }, {\r\n        \"No\": 3\r\n      }, {\r\n        \"Not Sure\": 19\r\n      }, {\r\n        \"Total\": 77\r\n      }],\r\n      \"Question_6\": [{\r\n        \"Yes\": 41\r\n      }, {\r\n        \"No\": 27\r\n      }, {\r\n        \"Not Sure\": 9\r\n      }, {\r\n        \"Total\": 77\r\n      }]\r\n    },\r\n    {\r\n      \"Quarter\": \"Y3Q3\",\r\n      \"Question_5\": [{\r\n        \"Yes\": 43\r\n      }, {\r\n        \"No\": 2\r\n      }, {\r\n        \"Not Sure\": 12\r\n      }, {\r\n        \"Total\": 57\r\n      }],\r\n      \"Question_6\": [{\r\n        \"Yes\": 29\r\n      }, {\r\n        \"No\": 12\r\n      }, {\r\n        \"Not Sure\": 16\r\n      }, {\r\n        \"Total\": 57\r\n      }]\r\n    },\r\n    {\r\n      \"Quarter\": \"Y3Q4\",\r\n      \"Question_5\": [{\r\n        \"Yes\": 40\r\n      }, {\r\n        \"No\": 5\r\n      }, {\r\n        \"Not Sure\": 18\r\n      }, {\r\n        \"Total\": 63\r\n      }],\r\n      \"Question_6\": [{\r\n        \"Yes\": 27\r\n      }, {\r\n        \"No\": 15\r\n      }, {\r\n        \"Not Sure\": 21\r\n      }, {\r\n        \"Total\": 63\r\n      }]\r\n    },\r\n    {\r\n      \"Quarter\": \"Y4Q1\",\r\n      \"Question_5\": [{\r\n        \"Yes\": 77\r\n      }, {\r\n        \"No\": 8\r\n      }, {\r\n        \"Not Sure\": 32\r\n      }, {\r\n        \"Total\": 117\r\n      }],\r\n      \"Question_6\": [{\r\n        \"Yes\": 51\r\n      }, {\r\n        \"No\": 41\r\n      }, {\r\n        \"Not Sure\": 25\r\n      }, {\r\n        \"Total\": 117\r\n      }]\r\n    },\r\n    {\r\n      \"Quarter\": \"Current contract to present\", // Present: Y4Q1, 8/13/18\r\n      \"Question_5\": [{\r\n        \"Yes\": 780\r\n      }, {\r\n        \"No\": 61\r\n      }, {\r\n        \"Not Sure\": 230\r\n      }, {\r\n        \"Total\": 1071\r\n      }],\r\n      \"Question_6\": [{\r\n        \"Yes\": 562\r\n      }, {\r\n        \"No\": 290\r\n      }, {\r\n        \"Not Sure\": 219\r\n      }, {\r\n        \"Total\": 1071\r\n      }]\r\n    },\r\n    {\r\n      \"Quarter\": \"Lifetime data to present\", // Present: Y4Q1, 8/13/18\r\n      \"Question_5\": [{\r\n        \"Yes\": 2409\r\n      }, {\r\n        \"No\": 297\r\n      }, {\r\n        \"Not Sure\": 658\r\n      }, {\r\n        \"Total\": 3364\r\n      }],\r\n      \"Question_6\": [{\r\n        \"Yes\": 1743\r\n      }, {\r\n        \"No\": 1047\r\n      }, {\r\n        \"Not Sure\": 574\r\n      }, {\r\n        \"Total\": 3364\r\n      }]\r\n    }\r\n  ]\r\n};\r\n\r\nvar q5_yes = data.reg_pk_xp.map(function(e) {\r\n  return e.Question_5.filter(function(e) {\r\n    return e.Yes !== undefined;\r\n  });\r\n});\r\nconsole.log(\"Question_5 YES with UNDEF entries\", q5_yes);\r\n\r\n\r\nvar q5_yes_filtered = q5_yes.filter(function(val) {\r\n  return val !== undefined;\r\n});\r\nconsole.log(\"Question_5 YES only\", q5_yes_filtered);\r\n\r\n/*    IGNORE, PREVIOUS TEST \r\ndocument.getElementById(\"test\").innerHTML = data.reg_pk_xp.map(function(e) {\r\n  return e.Question_5.map(function(e) {\r\n    return e.Yes;\r\n  });\r\n});\r\n      /PREVIOUS TESTS           */\r\n\r\n\r\nq5_yes = q5_yes.filter(function(e) {\r\n  return e !== undefined;\r\n});\r\ndocument.getElementById(\"test\").innerHTML = q5_yes;</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n\r\n&lt;head&gt;\r\n  &lt;meta charset=\"UTF-8\"&gt;\r\n  &lt;title&gt;TEST FILE&lt;/title&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n  &lt;div id=\"test\"&gt;TEST&lt;/div&gt;\r\n  &lt;script src=\"https://code.jquery.com/jquery-3.3.1.js\" integrity=\"sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\r\n  &lt;script src=\"data.js\"&gt;&lt;/script&gt;\r\n  &lt;!--data.js file is normally a seperate, but local file--&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 1, "last_activity_date": 1534369516, "creation_date": 1534369516, "answer_id": 51866878, "question_id": 51866705, "link": "https://stackoverflow.com/questions/51866705/removing-undefined-elements-from-new-array-mapped-from-nested-array-using-map/51866878#51866878", "title": "Removing undefined elements from new array mapped from nested array using map() and filter()", "body": "<p>The filter isn't working because <code>q5_yes</code> is a 2-dimensional array, and the <code>undefined</code> elements are in the nested arrays. But you're filtering the top-level array.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data = {\r\n  \"reg_pk_xp\": [{\r\n      \"Quarter\": \"Y1Q1\",\r\n      \"Question_5\": [{\r\n          \"Yes\": 66\r\n        },\r\n        {\r\n          \"No\": 7\r\n        },\r\n        {\r\n          \"Not Sure\": 28\r\n        },\r\n        {\r\n          \"Total\": 101\r\n        }\r\n      ],\r\n      \"Question_6\": [{\r\n          \"Yes\": 66\r\n        },\r\n        {\r\n          \"No\": 7\r\n        },\r\n        {\r\n          \"Not Sure\": 28\r\n        },\r\n        {\r\n          \"Total\": 101\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      \"Quarter\": \"Y1Q2\",\r\n      \"Question_5\": [{\r\n        \"Yes\": 30\r\n      }, {\r\n        \"No\": 5\r\n      }, {\r\n        \"Not Sure\": 13\r\n      }, {\r\n        \"Total\": 48\r\n      }],\r\n      \"Question_6\": [{\r\n        \"Yes\": 30\r\n      }, {\r\n        \"No\": 5\r\n      }, {\r\n        \"Not Sure\": 13\r\n      }, {\r\n        \"Total\": 48\r\n      }]\r\n    },\r\n    {\r\n      \"Quarter\": \"Y1Q3\",\r\n      \"Question_5\": [{\r\n        \"Yes\": 32\r\n      }, {\r\n        \"No\": 1\r\n      }, {\r\n        \"Not Sure\": 20\r\n      }, {\r\n        \"Total\": 53\r\n      }],\r\n      \"Question_6\": [{\r\n        \"Yes\": 21\r\n      }, {\r\n        \"No\": 9\r\n      }, {\r\n        \"Not Sure\": 23\r\n      }, {\r\n        \"Total\": 53\r\n      }]\r\n    },\r\n    {\r\n      \"Quarter\": \"Y1Q4\",\r\n      \"Question_5\": [{\r\n        \"Yes\": 79\r\n      }, {\r\n        \"No\": 7\r\n      }, {\r\n        \"Not Sure\": 12\r\n      }, {\r\n        \"Total\": 98\r\n      }],\r\n      \"Question_6\": [{\r\n        \"Yes\": 71\r\n      }, {\r\n        \"No\": 13\r\n      }, {\r\n        \"Not Sure\": 14\r\n      }, {\r\n        \"Total\": 98\r\n      }]\r\n    },\r\n    {\r\n      \"Quarter\": \"Y2Q1\",\r\n      \"Question_5\": [{\r\n        \"Yes\": 88\r\n      }, {\r\n        \"No\": 5\r\n      }, {\r\n        \"Not Sure\": 17\r\n      }, {\r\n        \"Total\": 110\r\n      }],\r\n      \"Question_6\": [{\r\n        \"Yes\": 60\r\n      }, {\r\n        \"No\": 33\r\n      }, {\r\n        \"Not Sure\": 17\r\n      }, {\r\n        \"Total\": 110\r\n      }]\r\n    },\r\n    {\r\n      \"Quarter\": \"Y2Q2\",\r\n      \"Question_5\": [{\r\n        \"Yes\": 94\r\n      }, {\r\n        \"No\": 9\r\n      }, {\r\n        \"Not Sure\": 14\r\n      }, {\r\n        \"Total\": 117\r\n      }],\r\n      \"Question_6\": [{\r\n        \"Yes\": 76\r\n      }, {\r\n        \"No\": 26\r\n      }, {\r\n        \"Not Sure\": 15\r\n      }, {\r\n        \"Total\": 117\r\n      }]\r\n    },\r\n    {\r\n      \"Quarter\": \"Y2Q3\",\r\n      \"Question_5\": [{\r\n        \"Yes\": 38\r\n      }, {\r\n        \"No\": 5\r\n      }, {\r\n        \"Not Sure\": 14\r\n      }, {\r\n        \"Total\": 57\r\n      }],\r\n      \"Question_6\": [{\r\n        \"Yes\": 23\r\n      }, {\r\n        \"No\": 23\r\n      }, {\r\n        \"Not Sure\": 11\r\n      }, {\r\n        \"Total\": 57\r\n      }]\r\n    },\r\n    {\r\n      \"Quarter\": \"Y2Q4\",\r\n      \"Question_5\": [{\r\n        \"Yes\": 48\r\n      }, {\r\n        \"No\": 2\r\n      }, {\r\n        \"Not Sure\": 12\r\n      }, {\r\n        \"Total\": 62\r\n      }],\r\n      \"Question_6\": [{\r\n        \"Yes\": 36\r\n      }, {\r\n        \"No\": 12\r\n      }, {\r\n        \"Not Sure\": 14\r\n      }, {\r\n        \"Total\": 62\r\n      }]\r\n    },\r\n    {\r\n      \"Quarter\": \"Y3Q1\",\r\n      \"Question_5\": [{\r\n        \"Yes\": 90\r\n      }, {\r\n        \"No\": 2\r\n      }, {\r\n        \"Not Sure\": 19\r\n      }, {\r\n        \"Total\": 111\r\n      }],\r\n      \"Question_6\": [{\r\n        \"Yes\": 62\r\n      }, {\r\n        \"No\": 32\r\n      }, {\r\n        \"Not Sure\": 17\r\n      }, {\r\n        \"Total\": 111\r\n      }]\r\n    },\r\n    {\r\n      \"Quarter\": \"Y3Q2\",\r\n      \"Question_5\": [{\r\n        \"Yes\": 55\r\n      }, {\r\n        \"No\": 3\r\n      }, {\r\n        \"Not Sure\": 19\r\n      }, {\r\n        \"Total\": 77\r\n      }],\r\n      \"Question_6\": [{\r\n        \"Yes\": 41\r\n      }, {\r\n        \"No\": 27\r\n      }, {\r\n        \"Not Sure\": 9\r\n      }, {\r\n        \"Total\": 77\r\n      }]\r\n    },\r\n    {\r\n      \"Quarter\": \"Y3Q3\",\r\n      \"Question_5\": [{\r\n        \"Yes\": 43\r\n      }, {\r\n        \"No\": 2\r\n      }, {\r\n        \"Not Sure\": 12\r\n      }, {\r\n        \"Total\": 57\r\n      }],\r\n      \"Question_6\": [{\r\n        \"Yes\": 29\r\n      }, {\r\n        \"No\": 12\r\n      }, {\r\n        \"Not Sure\": 16\r\n      }, {\r\n        \"Total\": 57\r\n      }]\r\n    },\r\n    {\r\n      \"Quarter\": \"Y3Q4\",\r\n      \"Question_5\": [{\r\n        \"Yes\": 40\r\n      }, {\r\n        \"No\": 5\r\n      }, {\r\n        \"Not Sure\": 18\r\n      }, {\r\n        \"Total\": 63\r\n      }],\r\n      \"Question_6\": [{\r\n        \"Yes\": 27\r\n      }, {\r\n        \"No\": 15\r\n      }, {\r\n        \"Not Sure\": 21\r\n      }, {\r\n        \"Total\": 63\r\n      }]\r\n    },\r\n    {\r\n      \"Quarter\": \"Y4Q1\",\r\n      \"Question_5\": [{\r\n        \"Yes\": 77\r\n      }, {\r\n        \"No\": 8\r\n      }, {\r\n        \"Not Sure\": 32\r\n      }, {\r\n        \"Total\": 117\r\n      }],\r\n      \"Question_6\": [{\r\n        \"Yes\": 51\r\n      }, {\r\n        \"No\": 41\r\n      }, {\r\n        \"Not Sure\": 25\r\n      }, {\r\n        \"Total\": 117\r\n      }]\r\n    },\r\n    {\r\n      \"Quarter\": \"Current contract to present\", // Present: Y4Q1, 8/13/18\r\n      \"Question_5\": [{\r\n        \"Yes\": 780\r\n      }, {\r\n        \"No\": 61\r\n      }, {\r\n        \"Not Sure\": 230\r\n      }, {\r\n        \"Total\": 1071\r\n      }],\r\n      \"Question_6\": [{\r\n        \"Yes\": 562\r\n      }, {\r\n        \"No\": 290\r\n      }, {\r\n        \"Not Sure\": 219\r\n      }, {\r\n        \"Total\": 1071\r\n      }]\r\n    },\r\n    {\r\n      \"Quarter\": \"Lifetime data to present\", // Present: Y4Q1, 8/13/18\r\n      \"Question_5\": [{\r\n        \"Yes\": 2409\r\n      }, {\r\n        \"No\": 297\r\n      }, {\r\n        \"Not Sure\": 658\r\n      }, {\r\n        \"Total\": 3364\r\n      }],\r\n      \"Question_6\": [{\r\n        \"Yes\": 1743\r\n      }, {\r\n        \"No\": 1047\r\n      }, {\r\n        \"Not Sure\": 574\r\n      }, {\r\n        \"Total\": 3364\r\n      }]\r\n    }\r\n  ]\r\n};\r\n\r\nvar q5_yes = data.reg_pk_xp.map(function(e) {\r\n  return e.Question_5.map(function(e) {\r\n    return e.Yes;\r\n  });\r\n});\r\n\r\nvar q5_yes_filtered = q5_yes.map(function(subarray) {\r\n  return subarray.filter(function(val) {\r\n    return val !== undefined;\r\n  });\r\n});\r\nconsole.log(\"Question_5 YES only\", q5_yes_filtered);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 145, "user_id": 9487853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30b67ea32902f7581e75dc4c5e9b3e7d?s=128&d=identicon&r=PG&f=1", "display_name": "EtherealBug", "link": "https://stackoverflow.com/users/9487853/etherealbug"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 51866878, "answer_count": 2, "score": -1, "last_activity_date": 1534392899, "creation_date": 1534368516, "last_edit_date": 1534369690, "question_id": 51866705, "link": "https://stackoverflow.com/questions/51866705/removing-undefined-elements-from-new-array-mapped-from-nested-array-using-map", "title": "Removing undefined elements from new array mapped from nested array using map() and filter()", "body": "<p>I'm trying to build several variables to be used later, each representing a specific array from within a series of nested arrays (basically a data array being used for several projects).</p>\n\n<p>When I get to the selection of the array I need using <code>map()</code>, I get the new array containing <code>undefined</code> in each of the other parts of the array I wasn't mapping. This makes sense of course because the array still had the space indexed, the specific values there just weren't mapped. Where I'm struggling though is cleaning up that new array to remove those <code>undefined</code> entries. I'm trying to use <code>filter()</code>, but I'm open to alternative methods. Regardless of which method, I cannot eliminate all falsy values as some of these will need to be included. I only need to remove <code>undefined</code> entries.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data = {\r\n  \"cert_stat\": [{\r\n      Month: \"Nov-2015\",\r\n      loOP_Percent_Cert: 87.1,\r\n      loOP_Percent_Exp: 9.7,\r\n      loOP_Percent_None: 3.2,\r\n      doW_R_Percent_Cert: 62.7,\r\n      doW_R_Percent_Exp: 20.2,\r\n      doW_R_Percent_None: 17.3\r\n    },\r\n    {\r\n      Month: \"Feb-2016\",\r\n      loOP_Percent_Cert: 83.9,\r\n      loOP_Percent_Exp: 19.9,\r\n      loOP_Percent_None: 3.2,\r\n      doW_R_Percent_Cert: 61.1,\r\n      doW_R_Percent_Exp: 22.2,\r\n      doW_R_Percent_None: 16.7\r\n    }\r\n  ],\r\n  \"reg_pk_xp\": [{\r\n      \"Quarter\": \"Y1Q1\",\r\n      \"Question_5\": [{\r\n          \"Yes\": 66\r\n        },\r\n        {\r\n          \"No\": 7\r\n        },\r\n        {\r\n          \"Not Sure\": 28\r\n        },\r\n        {\r\n          \"Total\": 101\r\n        }\r\n      ],\r\n      \"Question_6\": [{\r\n          \"Yes\": 66\r\n        },\r\n        {\r\n          \"No\": 7\r\n        },\r\n        {\r\n          \"Not Sure\": 28\r\n        },\r\n        {\r\n          \"Total\": 101\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      \"Quarter\": \"Y1Q2\",\r\n      \"Question_5\": [{\r\n        \"Yes\": 30\r\n      }, {\r\n        \"No\": 5\r\n      }, {\r\n        \"Not Sure\": 13\r\n      }, {\r\n        \"Total\": 48\r\n      }],\r\n      \"Question_6\": [{\r\n        \"Yes\": 30\r\n      }, {\r\n        \"No\": 5\r\n      }, {\r\n        \"Not Sure\": 13\r\n      }, {\r\n        \"Total\": 48\r\n      }]\r\n    }\r\n  ]\r\n};\r\n\r\nvar q5_yes = data.reg_pk_xp.map(function(e) {\r\n  return e.Question_5.map(function(e) {\r\n    return e.Yes;\r\n  });\r\n});\r\nconsole.log(\"Question_5 YES with UNDEF entries\", q5_yes);\r\n\r\n\r\nvar q5_yes_filtered = q5_yes.filter(function(val) {\r\n  return val !== undefined;\r\n});\r\nconsole.log(\"Question_5 YES only\", q5_yes_filtered);\r\n\r\n/*    IGNORE, PREVIOUS TEST \r\ndocument.getElementById(\"test\").innerHTML = data.reg_pk_xp.map(function(e) {\r\n  return e.Question_5.map(function(e) {\r\n    return e.Yes;\r\n  });\r\n});\r\n      /PREVIOUS TESTS           */\r\n\r\n\r\nq5_yes = q5_yes.filter(function(e) {\r\n  return e !== undefined;\r\n});\r\ndocument.getElementById(\"test\").innerHTML = q5_yes;</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n\r\n&lt;head&gt;\r\n  &lt;meta charset=\"UTF-8\"&gt;\r\n  &lt;title&gt;TEST FILE&lt;/title&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n  &lt;div id=\"test\"&gt;TEST&lt;/div&gt;\r\n  &lt;script src=\"https://code.jquery.com/jquery-3.3.1.js\" integrity=\"sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\r\n  &lt;script src=\"data.js\"&gt;&lt;/script&gt;\r\n  &lt;!--data.js file is normally a seperate, but local file--&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I'm thinking that the <code>filter()</code> method isn't acting where I think it is (on the <code>q5_yes</code> array), but I can't figure it out.</p>\n"}, {"tags": ["javascript", "jquery", "html", "css", "highcharts"], "answers": [{"tags": [], "owner": {"reputation": 25325, "user_id": 8951377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2MYqI.jpg?s=128&g=1", "display_name": "ppotaczek", "link": "https://stackoverflow.com/users/8951377/ppotaczek"}, "is_accepted": true, "score": 0, "last_activity_date": 1534427994, "creation_date": 1534427994, "answer_id": 51878896, "question_id": 51866702, "link": "https://stackoverflow.com/questions/51866702/adding-labels-to-the-left-or-right-of-highcharts-funnel-visualization/51878896#51878896", "title": "Adding Labels to the Left or Right of Highcharts Funnel Visualization", "body": "<p>There isn not any option in Highcharts to handle more than one datalabels, but you can use <strong>text SVGRenderer</strong> to add additional text elements, for example: </p>\n\n<pre><code>        events: {\n            render: function() {\n                var chart = this;\n                Highcharts.each(chart.series[0].data, function(p, i) {\n                    var bBox = p.dataLabel.getBBox();\n                    p.dataLabel.attr({\n                        x: (chart.plotWidth - chart.plotLeft) / 2,\n                        'text-anchor': 'middle',\n                        y: p.labelPos.y - (bBox.height / 2)\n                    });\n\n                    if (p.dataLabel1) {\n                        p.dataLabel1.destroy();\n                        p.dataLabel2.destroy();\n                    }\n\n                    p.dataLabel1 = chart.renderer.text(p.name, p.dataLabel.x - 150, p.dataLabel.y + chart.plotTop - bBox.y).add();\n\n                    p.dataLabel2 = chart.renderer.text('some Text', p.dataLabel.x + 150, p.dataLabel.y + chart.plotTop - bBox.y).add();\n                });\n            }\n        }\n</code></pre>\n\n<p>Live demo: <a href=\"https://jsfiddle.net/BlackLabel/w2cs4ufe/1/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/BlackLabel/w2cs4ufe/1/</a></p>\n\n<p>API Reference: <a href=\"https://api.highcharts.com/class-reference/Highcharts.SVGRenderer#text\" rel=\"nofollow noreferrer\">https://api.highcharts.com/class-reference/Highcharts.SVGRenderer#text</a></p>\n"}], "owner": {"reputation": 143, "user_id": 8947312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb36c1c89a5e63b3503023bb4a7df2d6?s=128&d=identicon&r=PG&f=1", "display_name": "javacash", "link": "https://stackoverflow.com/users/8947312/javacash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 0, "accepted_answer_id": 51878896, "answer_count": 1, "score": 0, "last_activity_date": 1534427994, "creation_date": 1534368511, "question_id": 51866702, "link": "https://stackoverflow.com/questions/51866702/adding-labels-to-the-left-or-right-of-highcharts-funnel-visualization", "title": "Adding Labels to the Left or Right of Highcharts Funnel Visualization", "body": "<p>My current visualization is as follows:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(function() {\r\n  var dataEx = [\r\n      ['1 Visit', 352000],\r\n      ['2 Visits', 88000],\r\n      ['3+ Visits', 42000]\r\n    ],\r\n    len = dataEx.length,\r\n    sum = 0,\r\n    minHeight = 0.05,\r\n    data = [];\r\n    \r\n   //specify your percent of prior visit value manually here:\r\n   \r\n   var perc = [100, 25, 48];\r\n\r\n  for (var i = 0; i &lt; len; i++) {\r\n    sum += dataEx[i][1];\r\n  }\r\n\r\n  for (var i = 0; i &lt; len; i++) {\r\n    var t = dataEx[i],\r\n      r = t[1] / sum;\r\n    data[i] = {\r\n      name: t[0],\r\n      y: (r &gt; minHeight ? t[1] : sum * minHeight),\r\n      percent: perc[i],   // &lt;----- this here is manual input\r\n\t\t\t//percent: Math.round(r * 100),    &lt;--- this here is mathematical\r\n      label: t[1]\r\n    }\r\n  }\r\n  console.log(dataEx, data)\r\n  $('#container').highcharts({\r\n    chart: {\r\n      type: 'funnel',\r\n      marginRight: 100,\r\n\r\n\r\n      events: {\r\n        load: function() {\r\n          var chart = this;\r\n          Highcharts.each(chart.series[0].data, function(p, i) {\r\n          \tvar bBox = p.dataLabel.getBBox()\r\n            p.dataLabel.attr({\r\n              x: (chart.plotWidth - chart.plotLeft) / 2,\r\n              'text-anchor': 'middle',\r\n              y: p.labelPos.y - (bBox.height / 2)\r\n            })\r\n          })\r\n        },\r\n        redraw: function() {\r\n          var chart = this;\r\n          Highcharts.each(chart.series[0].data, function(p, i) {\r\n            p.dataLabel.attr({\r\n              x: (chart.plotWidth - chart.plotLeft) / 2,\r\n              'text-anchor': 'middle',\r\n              y: p.labelPos.y - (bBox.height / 2)\r\n            })\r\n          })\r\n        }\r\n      },\r\n    },\r\n\r\n    title: {\r\n      text: 'Guest Return Funnel',\r\n      x: -50\r\n    },\r\n    tooltip: {\r\n      //enabled: false\r\n      formatter: function() {\r\n        return '&lt;b&gt;' + this.key +\r\n          '&lt;/b&gt;&lt;br/&gt;Percent of Prior Visit: '+ this.point.percent + '%&lt;br/&gt;Guests: ' + Highcharts.numberFormat(this.point.label, 0);\r\n      }\r\n    },\r\n    plotOptions: {\r\n      series: {\r\n\r\n\r\n        allowPointSelect: true,\r\n        borderWidth: 12,\r\n\r\n        animation: {\r\n          duration: 400\r\n        },\r\n\r\n\r\n        dataLabels: {\r\n          enabled: true,\r\n\r\n          connectorWidth: 0,\r\n          distance: 0,\r\n\r\n          formatter: function() {\r\n            var point = this.point;\r\n            console.log(point);\r\n            return '&lt;b&gt;' + point.name + '&lt;/b&gt; (' + Highcharts.numberFormat(point.label, 0) + ')&lt;br/&gt;' + point.percent + '%';\r\n          },\r\n          minSize: '10%',\r\n          color: 'black',\r\n          softConnector: true\r\n        },\r\n\r\n        neckWidth: '30%',\r\n        neckHeight: '0%',\r\n        width: '50%',\r\n        height: '110%'\r\n\r\n\r\n        //old options are as follows:\r\n\r\n        //neckWidth: '50%',\r\n        //neckHeight: '50%',\r\n        //-- Other available options\r\n        //height: '200'\r\n        // width: pixels or percent\r\n      }\r\n    },\r\n    legend: {\r\n      enabled: false\r\n    },\r\n    series: [{\r\n      name: 'Unique users',\r\n      data: data\r\n    }]\r\n  });\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"http://code.highcharts.com/highcharts.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"http://code.highcharts.com/modules/funnel.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"http://code.highcharts.com/modules/exporting.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div id=\"container\" style=\"width: 500px; height: 400px; margin: 0 auto\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I would like to do the following (a photo that clarifies what I would like is <a href=\"https://i.stack.imgur.com/Rz2Qy.jpg\" rel=\"nofollow noreferrer\">HERE</a>): </p>\n\n<ol>\n<li><p>Put the category names \"1 Visit\", \"2 Visits\", \"3 Visits\" to the LEFT of\nthe funnel.</p></li>\n<li><p>Arrange the number of guest amount and percent for each category of the \nfunnel so that it appears like (INSIDE the funnel): </p>\n\n<p>352K   100% </p>\n\n<p>Right now I have the values as the full number like 352000 but I'm\nwondering if there's a way to make all numbers with 000 at the end into\na \"K\" at the end.</p>\n\n<p>It would be great if I could also add labels for those two values AT THE\nTOP of the funnel (\"Guests\" and \"Percent of Prior Visit\"). </p></li>\n<li><p>Add 2 more labels to the RIGHT of the funnel called \"Q1/17 TTM\" and \"Avg \nValue\" and have values be placed for each category of the funnel\nbelow the labels. The values for \"Q1/17 TTM\" should be red and the \nvalues for \"Avg Value\" should be gray.</p>\n\n<p>The values for \"Q1/17 TTM\" begin at the \"2 Visits\" and end at the very\nbottom (under the last category)</p>\n\n<p>Values for \"Avg Value\" begin at the first category and end at the last\ncategory.</p></li>\n<li><p>At the very bottom of the visualization, have a value. Don't worry about \nwhat this is (and this is the value $12.9M in the photo).</p></li>\n</ol>\n\n<p>And I want these changes to still make the data processing algorithm to visualize small values work. I would really appreciate the help! Thank you.</p>\n"}, {"tags": ["javascript", "function", "parameters", "arguments", "method-call"], "comments": [{"owner": {"reputation": 2205, "user_id": 5705462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c0821d8458f0143b6b37046fa2e58c9?s=128&d=identicon&r=PG", "display_name": "sliptype", "link": "https://stackoverflow.com/users/5705462/sliptype"}, "edited": false, "score": 3, "creation_date": 1534368512, "post_id": 51866685, "comment_id": 90685483, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/8356227/skipping-optional-function-parameters-in-javascript\">Skipping optional function parameters in JavaScript</a>"}, {"owner": {"reputation": 376, "user_id": 6761351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36246e188f71ad456c72c313c5928530?s=128&d=identicon&r=PG&f=1", "display_name": "Atul", "link": "https://stackoverflow.com/users/6761351/atul"}, "edited": false, "score": 0, "creation_date": 1534368641, "post_id": 51866685, "comment_id": 90685511, "body": "Design it in a better way,pass a object or array instead of this."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 8581550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6eeaa06cf391cc58af258b09a4210173?s=128&d=identicon&r=PG&f=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/8581550/simon"}, "is_accepted": false, "score": 0, "last_activity_date": 1534369350, "last_edit_date": 1534369350, "creation_date": 1534368960, "answer_id": 51866790, "question_id": 51866685, "link": "https://stackoverflow.com/questions/51866685/calling-functions-with-parameters-in-javascript/51866790#51866790", "title": "Calling functions with parameters in javascript", "body": "<p><em>Do we have to pass always the same number of parameters the function ?</em></p>\n\n<p>No, you don't have to pass all the parameters to a function, the arguments you don't set will be undefined</p>\n\n<pre><code>function cook(a, b, c) {\n  console.log(a, b, c)\n};\n\ncook('foo') // will console log 'foo undefined undefined'\n</code></pre>\n\n<p><em>What is the proper way if we want to pass the first and the third\nparameters?</em> </p>\n\n<p>You were right on this one, although you would generally give undefined or null value as a parameter here rather than an empty string. If you want to ignore param2 but give param3 for example</p>\n\n<pre><code>cook(param1, null, param3)\n</code></pre>\n\n<p>Then you could test if all the parameters are properly set or not in your function with a more standard null or undefined value</p>\n"}, {"tags": [], "owner": {"reputation": 178, "user_id": 9748360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/074c234e93f62926a548959a556d356d?s=128&d=identicon&r=PG&f=1", "display_name": "user9748360", "link": "https://stackoverflow.com/users/9748360/user9748360"}, "is_accepted": false, "score": 0, "last_activity_date": 1534369064, "creation_date": 1534369064, "answer_id": 51866808, "question_id": 51866685, "link": "https://stackoverflow.com/questions/51866685/calling-functions-with-parameters-in-javascript/51866808#51866808", "title": "Calling functions with parameters in javascript", "body": "<p>the best way as you describe your function would be using an object as a parameter</p>\n\n<pre><code>// function definition\nfunction cook(object) {\n    //do stuff\n    return object.a + \" \" + object.b + \" \" + object.c;\n}\n\n\nparameters1 = {a:\"paramA\", b:\"paramB\",c:\"paramC\"}\ncook(parameters1) // returns paramA paramB paramC\n</code></pre>\n\n<p>if you test those parameters in the function to handle cases where a, b or c might be null or undefined, you can then do </p>\n\n<p><code>cook({a:\"paramAonly\"})</code>\nor</p>\n\n<p><code>cook({a:\"paramA\", b:\"paramB\"})</code></p>\n"}, {"tags": [], "owner": {"reputation": 362, "user_id": 4500681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Kf38M.png?s=128&g=1", "display_name": "misterhtmlcss", "link": "https://stackoverflow.com/users/4500681/misterhtmlcss"}, "is_accepted": false, "score": 0, "last_activity_date": 1534369073, "creation_date": 1534369073, "answer_id": 51866811, "question_id": 51866685, "link": "https://stackoverflow.com/questions/51866685/calling-functions-with-parameters-in-javascript/51866811#51866811", "title": "Calling functions with parameters in javascript", "body": "<p>\"My question is how to call this function properly, if we want to pass\nonly two parameters, or even only one\"</p>\n\n<p>Ok. This question has multiple ways to interpret what you are asking, so I will give you one of those ways.</p>\n\n<p>If you want to have a function that takes a varying number of parameters then you should use es6 spread operator like this </p>\n\n<pre><code>function (...args) { // the ... is the spread operator\n  return args\n}\n</code></pre>\n\n<p>Now if you want to return always the first item in the parameters you do this: </p>\n\n<pre><code>function (...args) {\n     return args[0] \n}\n</code></pre>\n\n<p>Lastly if you want to do something that is more flexible then you can offer this method: </p>\n\n<pre><code>function (... args) {\n  if(args.length === 3) {\n     return // you get the point?\n   }\n}\n</code></pre>\n\n<p>Does this answer your question?</p>\n"}], "owner": {"reputation": 13, "user_id": 1086458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bc54d01153d450c9ae0ce1e6f65621b?s=128&d=identicon&r=PG", "display_name": "cicada", "link": "https://stackoverflow.com/users/1086458/cicada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1534373942, "creation_date": 1534368431, "last_edit_date": 1534373942, "question_id": 51866685, "link": "https://stackoverflow.com/questions/51866685/calling-functions-with-parameters-in-javascript", "title": "Calling functions with parameters in javascript", "body": "<p>In following example is a typical function which accepts three parameters:</p>\n\n<pre><code>function cook(a, b, c) {\n  // cooking stuff..\n  return[results];\n};\n</code></pre>\n\n<p>Or as a property function, like this:</p>\n\n<pre><code>var myApp = {\n  handler: function(a, b, c) {\n    // actions\n  }\n};\n</code></pre>\n\n<p>My question is how to call this function properly, if we want to pass<br>\nonly two parameters, or even only one:<br>\nLike this:</p>\n\n<pre><code>cook(param1, param2);  -  myApp.handler(param1, param2);\n</code></pre>\n\n<p>Or we have to pass always the same number of parameters the function<br>\naccepts, regardless if they have data or not, like this:</p>\n\n<pre><code>cook(param1, param2, \"\");  -  myApp.handler(param1, param2, \"\");\n</code></pre>\n\n<p>Also, what is the proper way if we want to pass the first and the third<br>\nparameters? Or only the second or the third parameter. I can't think<br>\nsomething other than this:</p>\n\n<pre><code>cook(param1, \"\", param3);  -  myApp.handler(param1, \"\", param3);\ncook(\"\", param2, \"\");\ncook(\"\", \"\", param3);\n</code></pre>\n\n<p>Is this correct and the only way to do it?</p>\n"}, {"tags": ["javascript", "foreach", "typeof"], "comments": [{"owner": {"reputation": 2682, "user_id": 4848801, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/700003af13fc16520eeff211d66e2c84?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Schaefer", "link": "https://stackoverflow.com/users/4848801/ryan-schaefer"}, "edited": false, "score": 1, "creation_date": 1534368912, "post_id": 51866667, "comment_id": 90685591, "body": "We are not a code writing service. You have to make an attempt before we can fix your problem."}, {"owner": {"reputation": 39, "user_id": 10231392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5127d3d7a12b4bb3bf5c599c4e03a31c?s=128&d=identicon&r=PG&f=1", "display_name": "6Ortiz", "link": "https://stackoverflow.com/users/10231392/6ortiz"}, "reply_to_user": {"reputation": 2682, "user_id": 4848801, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/700003af13fc16520eeff211d66e2c84?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Schaefer", "link": "https://stackoverflow.com/users/4848801/ryan-schaefer"}, "edited": false, "score": 0, "creation_date": 1534461208, "post_id": 51866667, "comment_id": 90724340, "body": "@RyanSchaefer this is not a helpful comment. I had made many attempts and still found myself stuck. That&#39;s why I came here for support and advice. I am new to this. everyone started somewhere."}], "answers": [{"tags": [], "owner": {"reputation": 49, "user_id": 6882703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/978d2523145041309deeab847f3a1a32?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Sh", "link": "https://stackoverflow.com/users/6882703/ben-sh"}, "is_accepted": false, "score": 0, "last_activity_date": 1534375088, "last_edit_date": 1534375088, "creation_date": 1534368463, "answer_id": 51866692, "question_id": 51866667, "link": "https://stackoverflow.com/questions/51866667/helping-using-typeof-in-a-foreach-loop-in-javascript/51866692#51866692", "title": "Helping using typeOf in a forEach loop in Javascript", "body": "<p>You can use the following method:</p>\n\n<pre><code>arr.forEach( item =&gt; console.log(typeof item) );\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 39, "user_id": 10231392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5127d3d7a12b4bb3bf5c599c4e03a31c?s=128&d=identicon&r=PG&f=1", "display_name": "6Ortiz", "link": "https://stackoverflow.com/users/10231392/6ortiz"}, "edited": false, "score": 0, "creation_date": 1534369447, "post_id": 51866693, "comment_id": 90685767, "body": "Thank you @wba0. Can you explain where the &quot;e&quot; came from? I&#39;m trying to understand the solution so I can remember it."}, {"owner": {"reputation": 67, "user_id": 3988642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3PvJX.png?s=128&g=1", "display_name": "znmto", "link": "https://stackoverflow.com/users/3988642/znmto"}, "reply_to_user": {"reputation": 39, "user_id": 10231392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5127d3d7a12b4bb3bf5c599c4e03a31c?s=128&d=identicon&r=PG&f=1", "display_name": "6Ortiz", "link": "https://stackoverflow.com/users/10231392/6ortiz"}, "edited": false, "score": 0, "creation_date": 1534369576, "post_id": 51866693, "comment_id": 90685822, "body": "e is simply each element being iterated over in the forEach loop, you can replace it with whatever you want, I just used e as shorthand for element. This also works: <code>arr.forEach(banana =&gt; console.log(typeof banana));</code>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 39, "user_id": 10231392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5127d3d7a12b4bb3bf5c599c4e03a31c?s=128&d=identicon&r=PG&f=1", "display_name": "6Ortiz", "link": "https://stackoverflow.com/users/10231392/6ortiz"}, "edited": false, "score": 1, "creation_date": 1534369670, "post_id": 51866693, "comment_id": 90685852, "body": "@D.Serra The function used in <code>forEach</code> receives the current element of the array as a parameter. <code>e</code> is the name of that parameter variable."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 39, "user_id": 10231392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5127d3d7a12b4bb3bf5c599c4e03a31c?s=128&d=identicon&r=PG&f=1", "display_name": "6Ortiz", "link": "https://stackoverflow.com/users/10231392/6ortiz"}, "edited": false, "score": 0, "creation_date": 1534369690, "post_id": 51866693, "comment_id": 90685860, "body": "@D.Serra It sounds like you need to read up on how functions work."}, {"owner": {"reputation": 39, "user_id": 10231392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5127d3d7a12b4bb3bf5c599c4e03a31c?s=128&d=identicon&r=PG&f=1", "display_name": "6Ortiz", "link": "https://stackoverflow.com/users/10231392/6ortiz"}, "edited": false, "score": 0, "creation_date": 1534461030, "post_id": 51866693, "comment_id": 90724307, "body": "@barmar- yes, I am learning about how functions work. I&#39;m only day 2 into learning JS (through a school) so there are many things we haven&#39;t covered yet. thanks for your help."}], "tags": [], "owner": {"reputation": 67, "user_id": 3988642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3PvJX.png?s=128&g=1", "display_name": "znmto", "link": "https://stackoverflow.com/users/3988642/znmto"}, "is_accepted": false, "score": 1, "last_activity_date": 1534368464, "creation_date": 1534368464, "answer_id": 51866693, "question_id": 51866667, "link": "https://stackoverflow.com/questions/51866667/helping-using-typeof-in-a-foreach-loop-in-javascript/51866693#51866693", "title": "Helping using typeOf in a forEach loop in Javascript", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var arr = [{name:'Pedrito'}, ['Banana'],false,34,'hello',null,undefined]\r\n\r\narr.forEach(e =&gt; console.log(typeof e));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 335, "user_id": 9717640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76c5a4554854a55a07fa982176f0a7e3?s=128&d=identicon&r=PG&f=1", "display_name": "chrisbot", "link": "https://stackoverflow.com/users/9717640/chrisbot"}, "is_accepted": false, "score": 0, "last_activity_date": 1534368480, "creation_date": 1534368480, "answer_id": 51866697, "question_id": 51866667, "link": "https://stackoverflow.com/questions/51866667/helping-using-typeof-in-a-foreach-loop-in-javascript/51866697#51866697", "title": "Helping using typeOf in a forEach loop in Javascript", "body": "<p>FYI <code>typeof</code> is all lowercase:</p>\n\n<pre><code>arr.forEach(element =&gt; console.log(typeof element))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 66, "user_id": 10230904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebef40322fd477b5310c2f0479f78200?s=128&d=identicon&r=PG&f=1", "display_name": "fricardi", "link": "https://stackoverflow.com/users/10230904/fricardi"}, "is_accepted": false, "score": 0, "last_activity_date": 1534375591, "last_edit_date": 1534375591, "creation_date": 1534368561, "answer_id": 51866715, "question_id": 51866667, "link": "https://stackoverflow.com/questions/51866667/helping-using-typeof-in-a-foreach-loop-in-javascript/51866715#51866715", "title": "Helping using typeOf in a forEach loop in Javascript", "body": "<p>You can use the following solution:</p>\n\n<pre><code>var arr = [{name:'Pedrito'}, ['Banana'],false,34,'hello',null,undefined]\n\narr.forEach(function(element){\n    console.log(typeof element)\n})\n</code></pre>\n\n<p>Logs:</p>\n\n<pre><code>object\nboolean\nnumber\nstring\nobject\nundefined\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 10231392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5127d3d7a12b4bb3bf5c599c4e03a31c?s=128&d=identicon&r=PG&f=1", "display_name": "6Ortiz", "link": "https://stackoverflow.com/users/10231392/6ortiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 647, "favorite_count": 0, "answer_count": 4, "score": -1, "last_activity_date": 1534375591, "creation_date": 1534368341, "last_edit_date": 1534369585, "question_id": 51866667, "link": "https://stackoverflow.com/questions/51866667/helping-using-typeof-in-a-foreach-loop-in-javascript", "title": "Helping using typeOf in a forEach loop in Javascript", "body": "<p>I have been stuck on this question for too long. Here is the question I am trying to answer: </p>\n\n<pre><code>//write a forEach loop that loops through this example array and prints out the type of each element\n\nvar arr = [{name:'Pedrito'}, ['Banana'],false,34,'hello',null,undefined]\n</code></pre>\n"}, {"tags": ["javascript", "jasmine", "titanium", "appcelerator"], "comments": [{"owner": {"reputation": 28635, "user_id": 10149510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qVO7k.jpg?s=128&g=1", "display_name": "Brian Adams", "link": "https://stackoverflow.com/users/10149510/brian-adams"}, "edited": false, "score": 0, "creation_date": 1534382706, "post_id": 51866653, "comment_id": 90688704, "body": "I&#39;m not familiar with the environment, is <code>String.format()</code> imported into the file where it is used?  Can you share the source code you are trying to test?"}, {"owner": {"reputation": 399, "user_id": 3289852, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zZm3H.png?s=128&g=1", "display_name": "Katana", "link": "https://stackoverflow.com/users/3289852/katana"}, "reply_to_user": {"reputation": 28635, "user_id": 10149510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qVO7k.jpg?s=128&g=1", "display_name": "Brian Adams", "link": "https://stackoverflow.com/users/10149510/brian-adams"}, "edited": false, "score": 0, "creation_date": 1534429587, "post_id": 51866653, "comment_id": 90710247, "body": "It&#39;s defined in the framework globally, it&#39;s not defined in any namespace that&#39;s why I am unable to figure out how to mock that. I have updated the question with an example. Here is the documentation: <a href=\"https://docs.appcelerator.com/platform/latest/#!/api/Global.String\" rel=\"nofollow noreferrer\">docs.appcelerator.com/platform/latest/#!/api/Global.String</a>"}], "answers": [{"comments": [{"owner": {"reputation": 399, "user_id": 3289852, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zZm3H.png?s=128&g=1", "display_name": "Katana", "link": "https://stackoverflow.com/users/3289852/katana"}, "edited": false, "score": 0, "creation_date": 1534434373, "post_id": 51880226, "comment_id": 90713215, "body": "The reason why I thought of mocking it is that when I run the test, I get an error from jasmine &quot;String.format()&quot; is not a function&quot; since it is not part of standard JS"}, {"owner": {"reputation": 74, "user_id": 3329401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012cf3b7b74f5266ab4c9b72d36a8ced?s=128&d=identicon&r=PG&f=1", "display_name": "cgdibble", "link": "https://stackoverflow.com/users/3329401/cgdibble"}, "reply_to_user": {"reputation": 399, "user_id": 3289852, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zZm3H.png?s=128&g=1", "display_name": "Katana", "link": "https://stackoverflow.com/users/3289852/katana"}, "edited": false, "score": 0, "creation_date": 1534436895, "post_id": 51880226, "comment_id": 90714595, "body": "Ah! I see, how silly of me. I see what you mean. Does it exist in any context in which you will be running this? To avoid using <code>String.format()</code> all together and use JS, you can do <code>_myProperty = </code>The value : ${_propertyValue}` (note the use of back-ticks not single quotes as you want string interpolation). I will update my post to reflect that."}], "tags": [], "owner": {"reputation": 74, "user_id": 3329401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012cf3b7b74f5266ab4c9b72d36a8ced?s=128&d=identicon&r=PG&f=1", "display_name": "cgdibble", "link": "https://stackoverflow.com/users/3329401/cgdibble"}, "is_accepted": true, "score": 1, "last_activity_date": 1534437344, "last_edit_date": 1534437344, "creation_date": 1534432028, "answer_id": 51880226, "question_id": 51866653, "link": "https://stackoverflow.com/questions/51866653/mock-string-format-in-jasmine/51880226#51880226", "title": "Mock string.Format in jasmine", "body": "<p>A way to get around this problem is to make this a <a href=\"https://en.wikipedia.org/wiki/Pure_function\" rel=\"nofollow noreferrer\">pure function</a>.</p>\n\n<p>Take this small change as an example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function MyMethod(_flag, _myProperty, _propertyValue, formatFunction) {\r\n  if(_flag) {\r\n    _myProperty = formatFunction('The value :', _propertyValue);\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Now <code>MyMethod</code> does not have a dependency on anything external to the function. This allows you to use whatever string formatter you want, and in your case a mocked one.</p>\n\n<p>In your test, you now have the ability to do something like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>it('should format the string', () =&gt; {\r\n  const mockFormatter = () =&gt; {/*do the mock operation of your choosing here*/}\r\n  const formattedString = MyMethod(yourFlag, yourProperty, yourPropertyValue, mockFormatter)\r\n  assert(formattedString, expectedOutput)\r\n})</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>What this allows is for you to not have to manipulate the global String object/prototypes, which can have implications elsewhere. Instead, you create a function that is agnostic to the formatter <em>and</em> are able to easily mock it.</p>\n\n<p>Lastly, now that I have hopefully helped provide a path forward on your original question, I'm curious why you are after mocking the formatter? This seems like something you would always want to validate, and would have no harm in doing so. To me, and this can lead to very in depth and often pedantic discussions on testing, this already suffices as a unit test. It is not \"pure\", but as far as side-effects go, there are none and you are testing some basic expectations around data manipulation without.</p>\n\n<p>I think mocking <code>String.format()</code> introduces unnecessary complexity to the test without any real gain in code-confidence. </p>\n\n<p>**Edit: I assumed <code>String.format()</code> was a JS function I had not heard of, but that does not appear to be the case. </p>\n\n<p>To achieve what you are after, and avoid the need to mock entirely, I think you should use string interpolation via string literals, or concatenation.</p>\n\n<p>See here: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function MyMethod(_flag, _myProperty, _propertyValue) {\r\n  if(_flag) {\r\n    _myProperty = `The value : ${_propertyValue}`; // option 1 uses interpolation\r\n    // _myProperty = 'The value : ' + _propertyValue; // option 2 uses concatenation\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 399, "user_id": 3289852, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zZm3H.png?s=128&g=1", "display_name": "Katana", "link": "https://stackoverflow.com/users/3289852/katana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 498, "favorite_count": 0, "accepted_answer_id": 51880226, "answer_count": 1, "score": 1, "last_activity_date": 1534437344, "creation_date": 1534368286, "last_edit_date": 1534429531, "question_id": 51866653, "link": "https://stackoverflow.com/questions/51866653/mock-string-format-in-jasmine", "title": "Mock string.Format in jasmine", "body": "<p>I am trying to write unit tests for a mobile app that has been developed in Appcelerator titanium. I am trying to unit test it with TiUnit and Jasmine.</p>\n\n<p>One of my methods uses <code>String.format()</code>. How do I unit test that method since <code>String.format()</code> is not defined in Javascript?</p>\n\n<pre><code>function MyMethod(_flag, _myProperty, _propertyValue) {\nif(_flag) {\n  _myProperty = String.format('The value :', _propertyValue);\n  }\n}\n</code></pre>\n\n<p>Is it possible to mock this? Or can I add format() to the prototype of jasmine's String so that whenever it encounters format() in .js to be tested, it executes the format() which I will define in the test suite?</p>\n"}, {"tags": ["javascript", "ecmascript-6"], "comments": [{"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 2, "creation_date": 1534368422, "post_id": 51866641, "comment_id": 90685454, "body": "you can write <code>from:from</code> and <code>text: text</code> - it&#39;s a stylistic choice. It&#39;s syntactic sugar, much like the fat arrow function (<code>=&gt;</code>)"}, {"owner": {"reputation": 178, "user_id": 9748360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/074c234e93f62926a548959a556d356d?s=128&d=identicon&r=PG&f=1", "display_name": "user9748360", "link": "https://stackoverflow.com/users/9748360/user9748360"}, "edited": false, "score": 2, "creation_date": 1534368439, "post_id": 51866641, "comment_id": 90685461, "body": "it is a short hand notation, if your variable is named from and the property is named form you can write <code>from</code> instead of  <code>from: from</code> it will have the same effect"}], "answers": [{"comments": [{"owner": {"reputation": 317, "user_id": 9597089, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "pi2018", "link": "https://stackoverflow.com/users/9597089/pi2018"}, "edited": false, "score": 0, "creation_date": 1534368682, "post_id": 51866696, "comment_id": 90685524, "body": "Thanks, I am new to JS and was confused by notation."}], "tags": [], "owner": {"reputation": 100, "user_id": 1364392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97a5ddecebc3a8f8c0d5932465d91b2e?s=128&d=identicon&r=PG", "display_name": "Mr.M", "link": "https://stackoverflow.com/users/1364392/mr-m"}, "is_accepted": true, "score": 5, "last_activity_date": 1534368471, "creation_date": 1534368471, "answer_id": 51866696, "question_id": 51866641, "link": "https://stackoverflow.com/questions/51866641/what-is-this-notation-in-js-can-someone-please-explain/51866696#51866696", "title": "What is this notation in JS, can someone please explain", "body": "<p>That's ECMAScript's 'shorthand''s property and notation:</p>\n\n<p><a href=\"http://es6-features.org/#PropertyShorthand\" rel=\"noreferrer\">http://es6-features.org/#PropertyShorthand</a></p>\n\n<p><a href=\"http://es6-features.org/#ObjectMatchingShorthandNotation\" rel=\"noreferrer\">http://es6-features.org/#ObjectMatchingShorthandNotation</a></p>\n\n<p>It's as the name suggests, a shorthand method of object definition.</p>\n"}], "owner": {"reputation": 317, "user_id": 9597089, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "pi2018", "link": "https://stackoverflow.com/users/9597089/pi2018"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "closed_date": 1534371499, "accepted_answer_id": 51866696, "answer_count": 1, "score": 2, "last_activity_date": 1534371504, "creation_date": 1534368264, "last_edit_date": 1534371504, "question_id": 51866641, "link": "https://stackoverflow.com/questions/51866641/what-is-this-notation-in-js-can-someone-please-explain", "closed_reason": "Duplicate", "title": "What is this notation in JS, can someone please explain", "body": "<p>I came across this function, called generateMessage which takes 2 parameters and returns and object. The function is as follows:</p>\n\n<pre><code>var generateMessage = (from, text)=&gt;{\n    return {\n        from,\n         text,\n        createdAt: new Date().getTime()\n    }\n};\n\nmodule.exports = {generateMessage};\n</code></pre>\n\n<p>This does <strong>NOT</strong> throw any errors, and attaches 3 properties to the returned object: '.from' , '.text' and '.createdAt', I am confused about the '.from' and '.text' properties. </p>\n\n<p>My question is why don't we write <code>from: from</code> , <code>text:text</code>, in this way the returned object will have a proto property of .from and .text, which will have their values as the <code>from</code> and <code>text</code> from the parameters. </p>\n\n<p>Why does just writing <code>from</code> and <code>text</code> for the returned object work in this case?</p>\n"}, {"tags": ["javascript", "promise"], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 7560993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3f971c6bd821089e2b47de1d3761a3e?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/7560993/john-doe"}, "edited": false, "score": 0, "creation_date": 1534369110, "post_id": 51866741, "comment_id": 90685653, "body": "So just checking if I&#39;m getting this right: by catching the error as I did in my example (intending to handle it, and not re-throwing it), I&#39;m basically telling my code that I have resolved the promise?  The higher piece of code receives loadData() as a resolved promise, causing .then() to be called?"}, {"owner": {"reputation": 17307, "user_id": 1814486, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/G0mb9.png?s=128&g=1", "display_name": "nicholaswmin", "link": "https://stackoverflow.com/users/1814486/nicholaswmin"}, "reply_to_user": {"reputation": 67, "user_id": 7560993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3f971c6bd821089e2b47de1d3761a3e?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/7560993/john-doe"}, "edited": false, "score": 1, "creation_date": 1534369368, "post_id": 51866741, "comment_id": 90685742, "body": "Yes but keep in mind that in the case you do handle the error in <code>catch</code>, you must return a result from your <code>catch</code>, which will then get picked up in the <code>then</code> of the promise chain it is part of. If you can&#39;t handle the error properly in your <code>catch</code> then you <b>must</b> <code>throw</code>, so that it triggers any chained <code>catch</code>."}, {"owner": {"reputation": 67, "user_id": 7560993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3f971c6bd821089e2b47de1d3761a3e?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/7560993/john-doe"}, "edited": false, "score": 0, "creation_date": 1534370202, "post_id": 51866741, "comment_id": 90686020, "body": "Thanks for your quick responses. I&#39;m finally understanding it thanks to your really clear input!"}], "tags": [], "owner": {"reputation": 17307, "user_id": 1814486, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/G0mb9.png?s=128&g=1", "display_name": "nicholaswmin", "link": "https://stackoverflow.com/users/1814486/nicholaswmin"}, "is_accepted": true, "score": 5, "last_activity_date": 1534942678, "last_edit_date": 1534942678, "creation_date": 1534368643, "answer_id": 51866741, "question_id": 51866635, "link": "https://stackoverflow.com/questions/51866635/why-does-a-catch-behave-like-a-resolve/51866741#51866741", "title": "Why does a catch behave like a resolve?", "body": "<p>You are catching the error, which indicates an <em>intent</em> to handle it. Since you don't \"re-throw\" it again, your code assumes that you handled it in the appropriate way and it's no longer an error.</p>\n\n<p>This is the exact same behaviour as <code>try..catch</code>. If you <code>catch</code> an error and don't re-throw it, code below it (or calling code) continues to run.</p>\n\n<p>If you remove the <code>catch</code> from your <code>loadData</code> Promise chain, it works as expected.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function doGoogleRequest(){\r\n    return new Promise(function(resolve, reject){\r\n        reject(\"Could not reach server.\");\r\n    });\r\n}\r\n\r\nfunction loadData(){\r\n    return doGoogleRequest()\r\n        .then(function(data){\r\n            return data;\r\n        });\r\n}\r\n\r\nloadData()\r\n  .then(function(){\r\n    console.log(\"Success: Data has been loaded.\");\r\n}).catch(function(err){\r\n    console.log(\"Error: could not load data\");\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 14783, "user_id": 2071697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a7d1ded508aa80214b01298b83562406?s=128&d=identicon&r=PG", "display_name": "skyboyer", "link": "https://stackoverflow.com/users/2071697/skyboyer"}, "is_accepted": false, "score": 0, "last_activity_date": 1534368665, "creation_date": 1534368665, "answer_id": 51866744, "question_id": 51866635, "link": "https://stackoverflow.com/questions/51866635/why-does-a-catch-behave-like-a-resolve/51866744#51866744", "title": "Why does a catch behave like a resolve?", "body": "<p>This is their natural behavior.\nWhy does it crucial? Because not every time having error means we should just stop there. The same way as <code>try ... catch ...</code> allows us to continue working instead of just halting completely.</p>\n\n<p>Do you need to pass error one level upper? Just rethrow error or throw brand new one.</p>\n\n<p>Once you have some workaround to handle an error without stopping everything - you are able doing that in <code>catch()</code> section.</p>\n"}], "owner": {"reputation": 67, "user_id": 7560993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3f971c6bd821089e2b47de1d3761a3e?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/7560993/john-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 51866741, "answer_count": 2, "score": 3, "last_activity_date": 1534942678, "creation_date": 1534368235, "last_edit_date": 1534375321, "question_id": 51866635, "link": "https://stackoverflow.com/questions/51866635/why-does-a-catch-behave-like-a-resolve", "title": "Why does a catch behave like a resolve?", "body": "<p>I can't wrap my head around why this code executes as:</p>\n\n<ol>\n<li>\"Could not reach server\"</li>\n<li>\"Success: Data has been loaded\"</li>\n</ol>\n\n<p>Why does the <code>loadData().then()</code> gets called when nowhere ever seems to occur a resolve?</p>\n\n<p>I realize I can \"fix\" the code by throwing the error in the first catch, so that the last/higher catch will see the error. But I'd like to know who or what is responsible for apparently resolving my code, causing to reach the .then() in this scenario.</p>\n\n<p>Is not re-throwing the error in the first catch considered a resolve(), as this piece of code implies it to be?</p>\n\n<p>Or what about the behavior of Promises am I missing here?</p>\n\n<pre><code>function doGoogleRequest(){\n    return new Promise(function(resolve, reject){\n        reject(\"Could not reach server.\");\n    });\n}\n\nfunction loadData(){\n    return doGoogleRequest()\n        .then(function(data){\n            return data;\n        }).catch(function(err){\n            console.error(err);\n        });\n}\n\nloadData()\n  .then(function(){\n    console.log(\"Success: Data has been loaded.\");\n}).catch(function(err){\n    console.log(\"Error: could not load data\");\n});\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "mongodb"], "comments": [{"owner": {"reputation": 9279, "user_id": 6440033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f070f5eb58ce80fa0b975a805e712362?s=128&d=identicon&r=PG&f=1", "display_name": "dnickless", "link": "https://stackoverflow.com/users/6440033/dnickless"}, "edited": false, "score": 0, "creation_date": 1534370418, "post_id": 51866615, "comment_id": 90686084, "body": "I would also vote for going with the ObjectId instead - it&#39;s a supreme concept with a lot of benefits. In order to help you with your problem, I would need to see the code that you use to write your objects to MongoDB."}, {"owner": {"reputation": 1100, "user_id": 6945866, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/989d4f4e0f949cc4cec0f9b395c42af8?s=128&d=identicon&r=PG&f=1", "display_name": "Patrickkx", "link": "https://stackoverflow.com/users/6945866/patrickkx"}, "reply_to_user": {"reputation": 9279, "user_id": 6440033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f070f5eb58ce80fa0b975a805e712362?s=128&d=identicon&r=PG&f=1", "display_name": "dnickless", "link": "https://stackoverflow.com/users/6440033/dnickless"}, "edited": false, "score": 0, "creation_date": 1534370774, "post_id": 51866615, "comment_id": 90686176, "body": "@dnickless Ive updated my post :)"}, {"owner": {"reputation": 9279, "user_id": 6440033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f070f5eb58ce80fa0b975a805e712362?s=128&d=identicon&r=PG&f=1", "display_name": "dnickless", "link": "https://stackoverflow.com/users/6440033/dnickless"}, "edited": false, "score": 0, "creation_date": 1534371518, "post_id": 51866615, "comment_id": 90686366, "body": "What is in <code>req.body</code>?"}, {"owner": {"reputation": 1100, "user_id": 6945866, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/989d4f4e0f949cc4cec0f9b395c42af8?s=128&d=identicon&r=PG&f=1", "display_name": "Patrickkx", "link": "https://stackoverflow.com/users/6945866/patrickkx"}, "reply_to_user": {"reputation": 9279, "user_id": 6440033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f070f5eb58ce80fa0b975a805e712362?s=128&d=identicon&r=PG&f=1", "display_name": "dnickless", "link": "https://stackoverflow.com/users/6440033/dnickless"}, "edited": false, "score": 0, "creation_date": 1534410076, "post_id": 51866615, "comment_id": 90698038, "body": "@dnickless User info (just a form values)"}, {"owner": {"reputation": 9279, "user_id": 6440033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f070f5eb58ce80fa0b975a805e712362?s=128&d=identicon&r=PG&f=1", "display_name": "dnickless", "link": "https://stackoverflow.com/users/6440033/dnickless"}, "edited": false, "score": 0, "creation_date": 1534412375, "post_id": 51866615, "comment_id": 90699402, "body": "I&#39;m just asking because the driver should not simply overwrite your &quot;_id&quot; field <i>if</i> you supply it correctly."}], "answers": [{"comments": [{"owner": {"reputation": 1100, "user_id": 6945866, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/989d4f4e0f949cc4cec0f9b395c42af8?s=128&d=identicon&r=PG&f=1", "display_name": "Patrickkx", "link": "https://stackoverflow.com/users/6945866/patrickkx"}, "edited": false, "score": 0, "creation_date": 1534370637, "post_id": 51866937, "comment_id": 90686140, "body": "But I dont want to use that long id in path. Im using a path: <code>&#47;user&#47;:id</code>. It will be ridiculous if I&#39;d use it and it would result in a link: <code>mydomain.com&#47;user&#47;13k4r3f329d3dk</code>. Looks weird, right? But if it would be something which increments from 0, would be <code>mydomain.com&#47;user&#47;1</code>. Looks better, right?"}, {"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "reply_to_user": {"reputation": 1100, "user_id": 6945866, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/989d4f4e0f949cc4cec0f9b395c42af8?s=128&d=identicon&r=PG&f=1", "display_name": "Patrickkx", "link": "https://stackoverflow.com/users/6945866/patrickkx"}, "edited": false, "score": 3, "creation_date": 1534371148, "post_id": 51866937, "comment_id": 90686274, "body": "@Patrickkx: &quot;looks better, right?&quot; - it&#39;s not like you&#39;ll be typing out these urls by hand (or memorizing them), so it&#39;s not clear why would you care too much about this? &#175;\\_(\u30c4)_/&#175; Some browsers won&#39;t even show that part of the address. Plus, mongodb has a very good reason to use ObjectId as default id type: it is very hard to maintain auto-incrementing sequence in a distributed db."}], "tags": [], "owner": {"reputation": 705, "user_id": 6542963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05ab26154f382d2a3a58c70b4b531641?s=128&d=identicon&r=PG&f=1", "display_name": "sbrass", "link": "https://stackoverflow.com/users/6542963/sbrass"}, "is_accepted": false, "score": 2, "last_activity_date": 1534371428, "last_edit_date": 1534371428, "creation_date": 1534369832, "answer_id": 51866937, "question_id": 51866615, "link": "https://stackoverflow.com/questions/51866615/incrementing-index-in-mongo-db/51866937#51866937", "title": "Incrementing index in mongo db", "body": "<p>MongoDB automatically makes unique ids for each object in the database, resulting in each entry having a unique _id field being an <a href=\"https://docs.mongodb.com/manual/reference/bson-types/#objectid\" rel=\"nofollow noreferrer\">ObjectId</a>. You don't really need to worry about specifying custom ids. </p>\n\n<p>You can sort by _id if you want objects roughly in the order they were created, or you could add a date field which is set on creation and sort by that.</p>\n\n<p>Other than that, I'm not sure what you'd gain by having auto incrementing ids</p>\n"}, {"tags": [], "owner": {"reputation": 2332, "user_id": 3518053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hTzZF.jpg?s=128&g=1", "display_name": "manuelbcd", "link": "https://stackoverflow.com/users/3518053/manuelbcd"}, "is_accepted": false, "score": 1, "last_activity_date": 1534371092, "creation_date": 1534371092, "answer_id": 51867141, "question_id": 51866615, "link": "https://stackoverflow.com/questions/51866615/incrementing-index-in-mongo-db/51867141#51867141", "title": "Incrementing index in mongo db", "body": "<p>There are multiple ways to implement an auto-increment index but it is not considered a good practice.</p>\n\n<p>Detailed information here: <a href=\"https://stackoverflow.com/questions/8384029/auto-increment-in-mongodb-to-store-sequence-of-unique-user-id\">Auto increment in MongoDB to store sequence of Unique User ID</a></p>\n\n<p>Check Rizwan Siddiquee answer about how to implement it with a stored javascript function.</p>\n\n<p>Another way would be to implement it on application layer using any kind of ODM but this is obviously dangerous and not so trustable for serious applications. </p>\n"}], "owner": {"reputation": 1100, "user_id": 6945866, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/989d4f4e0f949cc4cec0f9b395c42af8?s=128&d=identicon&r=PG&f=1", "display_name": "Patrickkx", "link": "https://stackoverflow.com/users/6945866/patrickkx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 311, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1534371428, "creation_date": 1534368101, "last_edit_date": 1534370755, "question_id": 51866615, "link": "https://stackoverflow.com/questions/51866615/incrementing-index-in-mongo-db", "title": "Incrementing index in mongo db", "body": "<p>When adding a field called <code>date</code> in mongo db, I can do just:</p>\n\n<pre><code>date: {\n    type: Date,\n    default: Date.now\n}\n</code></pre>\n\n<p>and it will automatically add <code>date</code> field to my new collection when it was created. Is there some way to add a self-incrementing index (<code>id</code>) to my collections? </p>\n\n<p><strong>Note</strong>: I tried to do it on client side, however with every time I push collection with (<code>id</code>) field, its being deleted from the collection and replaced with <code>_id</code> which is a long string with random characters. Way to long!</p>\n\n<p>Looking for every hints.</p>\n\n<p>Edit: code responsible for adding use to db</p>\n\n<pre><code>app.post(\"/users\", function (req, res) {\n    createUser(req.body, function (err, user) {\n        if (err) {\n            return res.json(err);\n        }\n        return res.json(user);\n    });\n});\n</code></pre>\n"}, {"tags": ["javascript", "google-apps-script", "gmail-addons"], "comments": [{"owner": {"reputation": 5684, "user_id": 1657610, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/kcTi0.png?s=128&g=1", "display_name": "Reg Edit", "link": "https://stackoverflow.com/users/1657610/reg-edit"}, "edited": false, "score": 0, "creation_date": 1534368645, "post_id": 51866613, "comment_id": 90685513, "body": "Where will the JavaScript be executed? If it&#39;s in a browser, the environment it can access will already be pretty restricted. And will be browser-dependent."}, {"owner": {"reputation": 789, "user_id": 1066393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6zNBn.jpg?s=128&g=1", "display_name": "ZaxLofful", "link": "https://stackoverflow.com/users/1066393/zaxlofful"}, "edited": false, "score": 0, "creation_date": 1534368987, "post_id": 51866613, "comment_id": 90685615, "body": "Is this going to be used in an app which accesses mail from multiple users or part of a deployment script?"}, {"owner": {"reputation": 30419, "user_id": 300224, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/PFB2V.jpg?s=128&g=1", "display_name": "William Entriken", "link": "https://stackoverflow.com/users/300224/william-entriken"}, "edited": false, "score": 0, "creation_date": 1534426111, "post_id": 51866613, "comment_id": 90707751, "body": "This code is run on Google&#39;s end, I&#39;m adding the &lt;kbd&gt;google-apps-script&lt;/kbd&gt; tag. This script is running on the users&#39; behalf by Google. But the &quot;response&quot; data is coming from a third-party untrusted server."}, {"owner": {"reputation": 8677, "user_id": 9337071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e52afdb783a619060eb2b0c0cb5766d3?s=128&d=identicon&r=PG&f=1", "display_name": "tehhowch", "link": "https://stackoverflow.com/users/9337071/tehhowch"}, "edited": false, "score": 0, "creation_date": 1534435433, "post_id": 51866613, "comment_id": 90713813, "body": "For an add-on you have to whitelist the URLs you access, so unless you&#39;re using your own server as a proxy and letting the add-on user specify their own endpoint to query through you, you&#39;ll have to know the endpoint already. If you are proxying through your servers, why not have your servers do the response eval in your own sandboxed manner?"}, {"owner": {"reputation": 789, "user_id": 1066393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6zNBn.jpg?s=128&g=1", "display_name": "ZaxLofful", "link": "https://stackoverflow.com/users/1066393/zaxlofful"}, "edited": false, "score": 0, "creation_date": 1534462182, "post_id": 51866613, "comment_id": 90724574, "body": "I second the idea, to ensure the data you are recieved is from a trust URL, Cert, DNSSEC and then execution risk is minimzed.Otherwise you are going to have to run something like a full *NIX OS in the browser to encapsulate just that command."}, {"owner": {"reputation": 30419, "user_id": 300224, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/PFB2V.jpg?s=128&g=1", "display_name": "William Entriken", "link": "https://stackoverflow.com/users/300224/william-entriken"}, "edited": false, "score": 0, "creation_date": 1534513509, "post_id": 51866613, "comment_id": 90744333, "body": "I return the entire card-building javascript from PHP on my server. But still it is best practice to isolate if possible. So that is what my question is here."}, {"owner": {"reputation": 789, "user_id": 1066393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6zNBn.jpg?s=128&g=1", "display_name": "ZaxLofful", "link": "https://stackoverflow.com/users/1066393/zaxlofful"}, "edited": false, "score": 0, "creation_date": 1534527455, "post_id": 51866613, "comment_id": 90751910, "body": "Sadly there are no features in Javascript that allow you create a jail/container inside of JavaScript. Every script is essentially in control of the JS process the browser creates (Modern browsers jail every tab). It would be up to the browser and the users&#39;s setting to determine what functions will be considered malicious(canvas). Your best bet would be to encapsulate the received code, but that will really only prevent the script from accessing other variables and functions of your script. Check this out: <a href=\"https://github.com/stevekwan/best-practices/blob/master/javascript/best-practices.md\" rel=\"nofollow noreferrer\">github.com/stevekwan/best-practices/blob/master/javascript/&hellip;</a>"}], "owner": {"reputation": 30419, "user_id": 300224, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/PFB2V.jpg?s=128&g=1", "display_name": "William Entriken", "link": "https://stackoverflow.com/users/300224/william-entriken"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1534435444, "creation_date": 1534368087, "last_edit_date": 1534435444, "question_id": 51866613, "link": "https://stackoverflow.com/questions/51866613/how-to-do-a-chroot-jail-for-javascript", "title": "How to do a &quot;chroot jail&quot; for Javascript?", "body": "<p>I need to run unsafe code and get a return value. Can I do this?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>function buildCards(e) {\n  const accessToken = e.messageMetadata.accessToken;\n  GmailApp.setCurrentMessageAccessToken(accessToken);    \n  const messageId = e.messageMetadata.messageId;\n  const mail = GmailApp.getMessageById(messageId);\n  const thread = mail.getThread();\n  var send_data = ...\n  var response = authenticateAndFetch(send_data);\n\n  const retval = function(){return eval(response)}()\n  return retval\n}\n</code></pre>\n\n<p>This will get <code>response</code> from the server and run it locally. I would like to minimize the environment that <code>response</code> has access to. Is this approach sufficient for isolating the execution of response?</p>\n"}, {"tags": ["javascript", "ajax", "google-chrome-extension", "mutation-observers"], "comments": [{"owner": {"reputation": 42546, "user_id": 3959875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJdGu.png?s=128&g=1", "display_name": "wOxxOm", "link": "https://stackoverflow.com/users/3959875/woxxom"}, "edited": false, "score": 0, "creation_date": 1534393509, "post_id": 51866591, "comment_id": 90690681, "body": "The usual approach is to <i>debounce</i> the processing function from within the observer callback."}, {"owner": {"reputation": 29, "user_id": 9893495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2ed97978480c144b83cc248f8118cc3?s=128&d=identicon&r=PG&f=1", "display_name": "Willerie", "link": "https://stackoverflow.com/users/9893495/willerie"}, "reply_to_user": {"reputation": 42546, "user_id": 3959875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJdGu.png?s=128&g=1", "display_name": "wOxxOm", "link": "https://stackoverflow.com/users/3959875/woxxom"}, "edited": false, "score": 0, "creation_date": 1534444525, "post_id": 51866591, "comment_id": 90718406, "body": "This is brilliant wOxxOm, thank you so much! Somehow I&#39;ve managed to miss debouncing in my research, but it&#39;s a fantastic solution. Cheers!"}], "owner": {"reputation": 29, "user_id": 9893495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2ed97978480c144b83cc248f8118cc3?s=128&d=identicon&r=PG&f=1", "display_name": "Willerie", "link": "https://stackoverflow.com/users/9893495/willerie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 171, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1534367988, "creation_date": 1534367988, "question_id": 51866591, "link": "https://stackoverflow.com/questions/51866591/how-to-detect-dom-update-completion-after-ajax-page-load-in-a-chrome-extension", "title": "How to detect DOM update completion after AJAX page load in a Chrome Extension?", "body": "<p>I'm trying to identify roughly when the DOM is finished updating after a page is loaded via AJAX on any arbitrary website.</p>\n\n<p>My current method first listens for the <code>chrome.webNavigation.onHistoryStateUpdated</code> event in a background script, then executes a content script in which a <code>MutationObserver</code> detects changes to the website's body. From there, unfortunately, it seems like it's a bit more finicky. If I just wait for the first mutation where nodes are added to the DOM, I wind up in many cases (YouTube, to give one example) where the page is still blank. Other more hacky approaches I've considered include things like just using setTimeout or waiting for the page to reach a certain length, but those seem clearly wide open to exception cases.</p>\n\n<p>Is there a more fool-proof way to detect that the DOM has roughly finished updating? It doesn't necessarily have to be perfectly precise, and erring on the side of triggering late in my use case is better than triggering early. Also it isn't important at all that resources like video and images be fully loaded, just that the text contents of the page are basically in place.</p>\n\n<p>Thanks for your help!</p>\n"}, {"tags": ["javascript", "chart.js"], "comments": [{"owner": {"reputation": 1193, "user_id": 2614805, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/100000416337806/picture?type=large", "display_name": "Marios Nikolaou", "link": "https://stackoverflow.com/users/2614805/marios-nikolaou"}, "edited": false, "score": 0, "creation_date": 1534368081, "post_id": 51866568, "comment_id": 90685344, "body": "<a href=\"https://www.chartjs.org/docs/latest/configuration/tooltip.html\" rel=\"nofollow noreferrer\">chartjs.org/docs/latest/configuration/tooltip.html</a>"}, {"owner": {"reputation": 780, "user_id": 7525653, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--Qw4n4wl-qk/AAAAAAAAAAI/AAAAAAAAAfI/m12zYFS-bTs/photo.jpg?sz=128", "display_name": "agreis1", "link": "https://stackoverflow.com/users/7525653/agreis1"}, "reply_to_user": {"reputation": 1193, "user_id": 2614805, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/100000416337806/picture?type=large", "display_name": "Marios Nikolaou", "link": "https://stackoverflow.com/users/2614805/marios-nikolaou"}, "edited": false, "score": 0, "creation_date": 1534368457, "post_id": 51866568, "comment_id": 90685463, "body": "afaik there&#39;s nothing in the docs about activating tooltips programmatically (?)"}, {"owner": {"reputation": 1130, "user_id": 5011716, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207120599879152/picture?type=large", "display_name": "CaseyC", "link": "https://stackoverflow.com/users/5011716/caseyc"}, "edited": false, "score": 0, "creation_date": 1534369147, "post_id": 51866568, "comment_id": 90685667, "body": "This has already been answered (with a working example) in a previous SO post <a href=\"https://stackoverflow.com/questions/39283177/programmatically-open-and-close-chart-js-tooltip\" title=\"programmatically open and close chart js tooltip\">stackoverflow.com/questions/39283177/&hellip;</a>"}, {"owner": {"reputation": 1130, "user_id": 5011716, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207120599879152/picture?type=large", "display_name": "CaseyC", "link": "https://stackoverflow.com/users/5011716/caseyc"}, "edited": false, "score": 0, "creation_date": 1534369460, "post_id": 51866568, "comment_id": 90685774, "body": "It&#39;s also answered in this issue <a href=\"https://github.com/chartjs/Chart.js/issues/2850\" rel=\"nofollow noreferrer\">github.com/chartjs/Chart.js/issues/2850</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1193, "user_id": 2614805, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/100000416337806/picture?type=large", "display_name": "Marios Nikolaou", "link": "https://stackoverflow.com/users/2614805/marios-nikolaou"}, "edited": false, "score": 0, "creation_date": 1534372907, "post_id": 51867066, "comment_id": 90686685, "body": "Also, you can add a button enable tooltips and set the variable <code>tooltipActivated</code> to true.It&#39;s your choice"}], "tags": [], "owner": {"reputation": 1193, "user_id": 2614805, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/100000416337806/picture?type=large", "display_name": "Marios Nikolaou", "link": "https://stackoverflow.com/users/2614805/marios-nikolaou"}, "is_accepted": false, "score": 0, "last_activity_date": 1534371285, "last_edit_date": 1534371285, "creation_date": 1534370583, "answer_id": 51867066, "question_id": 51866568, "link": "https://stackoverflow.com/questions/51866568/manually-display-tooltip-chart-js/51867066#51867066", "title": "Manually display tooltip Chart.js", "body": "<p>Check this </p>\n\n<pre><code>$(document).ready(function(){\n    var tooltipActivated = undefined;\n    if (confirm('Enable tooltips?')) {\n        tooltipActivated = true;\n    } else {\n        tooltipActivated = false;\n    }\n\n    var data = {\n        labels: [\"JAN\", \"FEB\", \"MAR\", \"APR\", \"MAY\", \"JUN\", \"JUL\", \"AUG\", \"SEP\", \"OCT\", \"NOV\", \"DEC\"],\n        datasets: [{\n            data: [10, 20, 10, 10, 40, 50, 70, 70, 80, 90, 90, 90]\n        }]\n    };\n\n    var ctx = document.getElementById(\"LineWithLine\").getContext(\"2d\");\n    Chart.defaults.global.responsive = true;\n\n    Chart.defaults.global.showTooltips = tooltipActivated;\n\n    Chart.types.Line.extend({\n        name: \"LineWithLine\",\n        draw: function () {\n            Chart.types.Line.prototype.draw.apply(this, arguments);\n\n            var point = this.datasets[0].points[this.options.lineAtIndex]\n            var scale = this.scale\n\n            // draw line\n            this.chart.ctx.beginPath();\n            this.chart.ctx.moveTo(point.x, scale.startPoint + 24);\n            this.chart.ctx.strokeStyle = '#ff0000';\n            this.chart.ctx.setLineDash([1]);\n            this.chart.ctx.lineTo(point.x, scale.endPoint);\n            this.chart.ctx.stroke();\n\n            // write TODAY\n            this.chart.ctx.textAlign = 'center';\n            this.chart.ctx.font=\"12px Arial\";\n            this.chart.ctx.fillText(\"INTEGRATION\", point.x, scale.startPoint + 12);\n        }\n    });\n\n\n    new Chart(ctx).LineWithLine(data, {\n        datasetFill : false,\n        bezierCurve: false,\n        lineAtIndex: 3,\n        scaleOverride:true,\n        scaleSteps:10,\n        scaleStartValue:0,\n        scaleStepWidth:10,\n        scaleLabel: function (valuePayload) {\n            return Number(valuePayload.value).toFixed(0).replace('.',',') + '%';\n        }\n    });\n\n});\n</code></pre>\n\n<p>HTML </p>\n\n<pre><code>&lt;canvas id=\"LineWithLine\" width=\"400\" height=\"300\"&gt;&lt;/canvas&gt;\n</code></pre>\n"}], "owner": {"reputation": 780, "user_id": 7525653, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--Qw4n4wl-qk/AAAAAAAAAAI/AAAAAAAAAfI/m12zYFS-bTs/photo.jpg?sz=128", "display_name": "agreis1", "link": "https://stackoverflow.com/users/7525653/agreis1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 788, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1534371285, "creation_date": 1534367869, "question_id": 51866568, "link": "https://stackoverflow.com/questions/51866568/manually-display-tooltip-chart-js", "title": "Manually display tooltip Chart.js", "body": "<p>I'd like to be able to activate a chart.js tooltip manually through a function. I did some research, and I came across many ~2017 github questions pertaining to this functionality, like <a href=\"https://github.com/chartjs/Chart.js/issues/4129\" rel=\"nofollow noreferrer\">https://github.com/chartjs/Chart.js/issues/4129</a>. But I couldn't find a definitive answer anywhere, as it wasn't an officially implemented feature. A year later, how can I do this?</p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 1, "creation_date": 1534368640, "post_id": 51866534, "comment_id": 90685510, "body": "Spread won&#39;t make copies of nested objects/arrays. Would need a recursive deep copy approach for that"}, {"owner": {"reputation": 842, "user_id": 2446406, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/cwdNW.png?s=128&g=1", "display_name": "geochanto", "link": "https://stackoverflow.com/users/2446406/geochanto"}, "edited": false, "score": 0, "creation_date": 1534369298, "post_id": 51866534, "comment_id": 90685718, "body": "What is the reason you want to edit the state in the child, then send it to parent, then send it to other children? you should be able to just edit the state in the parent and then all children could use it."}, {"owner": {"reputation": 59, "user_id": 8791283, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MGa2Olu8uL4/AAAAAAAAAAI/AAAAAAAAAGI/A1QBZQXAcCg/photo.jpg?sz=128", "display_name": "Timothy Wilburn", "link": "https://stackoverflow.com/users/8791283/timothy-wilburn"}, "edited": false, "score": 0, "creation_date": 1534379950, "post_id": 51866534, "comment_id": 90688187, "body": "for a form. the parent holds and displays the state, and then you can open a form - which is the child - and view the state, but also edit it and view it real time without changing the parent state yet until you save it. then when saved, the parent displays it and then passes it to any other children."}, {"owner": {"reputation": 59, "user_id": 8791283, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MGa2Olu8uL4/AAAAAAAAAAI/AAAAAAAAAGI/A1QBZQXAcCg/photo.jpg?sz=128", "display_name": "Timothy Wilburn", "link": "https://stackoverflow.com/users/8791283/timothy-wilburn"}, "edited": false, "score": 0, "creation_date": 1534380096, "post_id": 51866534, "comment_id": 90688214, "body": "i don&#39;t want to edit the form and simultaneously have state updated everywhere throughout the application. i want to edit the form with new info, view it in the form as i&#39;m editing, and then onClick of a &#39;save&#39; button update state with the new info which THEN get&#39;s displayed throughout the rest of the app."}, {"owner": {"reputation": 59, "user_id": 8791283, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MGa2Olu8uL4/AAAAAAAAAAI/AAAAAAAAAGI/A1QBZQXAcCg/photo.jpg?sz=128", "display_name": "Timothy Wilburn", "link": "https://stackoverflow.com/users/8791283/timothy-wilburn"}, "edited": false, "score": 0, "creation_date": 1534387298, "post_id": 51866534, "comment_id": 90689515, "body": "i should mention, the form inputs are getting their value from state....is this a case for refs?"}, {"owner": {"reputation": 59, "user_id": 8791283, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MGa2Olu8uL4/AAAAAAAAAAI/AAAAAAAAAGI/A1QBZQXAcCg/photo.jpg?sz=128", "display_name": "Timothy Wilburn", "link": "https://stackoverflow.com/users/8791283/timothy-wilburn"}, "reply_to_user": {"reputation": 842, "user_id": 2446406, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/cwdNW.png?s=128&g=1", "display_name": "geochanto", "link": "https://stackoverflow.com/users/2446406/geochanto"}, "edited": false, "score": 0, "creation_date": 1534535118, "post_id": 51866534, "comment_id": 90755016, "body": "@GeorgeChanturidze"}, {"owner": {"reputation": 842, "user_id": 2446406, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/cwdNW.png?s=128&g=1", "display_name": "geochanto", "link": "https://stackoverflow.com/users/2446406/geochanto"}, "edited": false, "score": 1, "creation_date": 1534803456, "post_id": 51866534, "comment_id": 90828458, "body": "@TimothyWilburn I suppose in that case you could use refs. I&#39;ve done it before to pre-populate form fields for example. If you want to trigger setState inside a child, using the data you pass through props, and call the setState based on an event in the parent, then yes - you could use a ref. This is antipattern since you&#39;re going against unidirectional flow, but I guess it&#39;s sometimes necessary."}], "answers": [{"tags": [], "owner": {"reputation": 13611, "user_id": 7060441, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/kKetn.jpg?s=128&g=1", "display_name": "devserkan", "link": "https://stackoverflow.com/users/7060441/devserkan"}, "is_accepted": false, "score": 1, "last_activity_date": 1534369929, "last_edit_date": 1534369929, "creation_date": 1534369625, "answer_id": 51866902, "question_id": 51866534, "link": "https://stackoverflow.com/questions/51866534/make-a-copy-of-state-to-edit-it-indirectly-in-children/51866902#51866902", "title": "Make a copy of state to edit it indirectly in children", "body": "<p>Spread syntax creates shallow copies as told by @Timothy Wilburn. So, if you change copied object property directly then you will mutate the original one. You can search for \"deep copy\" or you can again use spread syntax in the child component.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class App extends React.Component {\r\n  state = {\r\n    dow: {\r\n      monday: { \r\n        shifts: [{ name: \"foo\" }, { name: \"bar\" }],\r\n      },\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n    &lt;div&gt;\r\n      In parent: {JSON.stringify(this.state.dow)}\r\n      &lt;Child dow={this.state.dow} /&gt;\r\n    &lt;/div&gt;\r\n    );\r\n  }\r\n}\r\n\r\nclass Child extends React.Component {\r\n  state = {\r\n    dowCopy: { ...this.props.dow }\r\n  }\r\n\r\n  addTempShift = (day) =&gt; {\r\n    const emptyShift = { name: \"baz\" };\r\n    this.setState( prevState =&gt; (\r\n        {\r\n            dowCopy: { ...prevState.dowCopy, [day]: { shifts: \r\n            [...prevState.dowCopy[day].shifts, emptyShift] } }\r\n        }\r\n    ))\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.addTempShift( \"monday\");\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      &lt;div&gt;In Child: { JSON.stringify(this.state.dowCopy)}&lt;/div&gt;\r\n    )\r\n  }\r\n}\r\n\r\nReactDOM.render(&lt;App /&gt;, document.getElementById(\"root\"));</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react-dom.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"root\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Oh, boy.</p>\n\n<p>But, I agree with @George Chanturidze, you are overdoing. Do not copy the state like that. If you want to show some changed data in the Child component, then change it using this state as its prop. Then, if you want to change the parent's state, gather this data and send back to the parent with a callback and set the state there.</p>\n"}], "owner": {"reputation": 59, "user_id": 8791283, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MGa2Olu8uL4/AAAAAAAAAAI/AAAAAAAAAGI/A1QBZQXAcCg/photo.jpg?sz=128", "display_name": "Timothy Wilburn", "link": "https://stackoverflow.com/users/8791283/timothy-wilburn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534369929, "creation_date": 1534367640, "question_id": 51866534, "link": "https://stackoverflow.com/questions/51866534/make-a-copy-of-state-to-edit-it-indirectly-in-children", "title": "Make a copy of state to edit it indirectly in children", "body": "<p>I'm setting state in the parent component, then passing it as props to a child component. In the child, I would like to make a copy of that state object (received through props) to edit without updating the original state object yet. I will then display that information in the current child component and send the updated state object back to the parent to update the original state object. The now updated parent state would then be used to display information in other child elements.</p>\n\n<p>In child component - where 'this.props.shifts' is the passed down state from the parent:</p>\n\n<pre><code>this.dowCopy = { ...this.props.dow };\nthis.state = {\n    dowCopy: this.dowCopy\n}\n\naddTempShift = (day) =&gt; {\n    const emptyShift = {arbitraryData};\n    const dowCopyCopy = {...this.state.dowCopy};\n    dowCopyCopy[day].shifts.push(emptyShift);\n    this.setState({ dowCopy: dowCopyCopy })\n}\n</code></pre>\n\n<p>Everything works as intended, but when I set state here in the child component, it's also updating state in the parent. It was my understanding that the spread operator took a copy of the state object. What am I missing?</p>\n"}, {"tags": ["javascript", "fetch-api"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1534370446, "post_id": 51866522, "comment_id": 90686090, "body": "The server sends as much of the response as it can, and the browser buffers it until the application reads it. What problem does this cause?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1534370549, "post_id": 51866522, "comment_id": 90686110, "body": "This is simply the way TCP works. It makes things more efficient, since readers rarely have to wait for data if they process it slower than the sender sends it."}, {"owner": {"reputation": 2214, "user_id": 2607571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/898b3ca6cbc371e33421d40a3ef20c49?s=128&d=identicon&r=PG", "display_name": "Simon Kirsten", "link": "https://stackoverflow.com/users/2607571/simon-kirsten"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1534371828, "post_id": 51866522, "comment_id": 90686434, "body": "@Barmar The TCP Window works as intended and is not the problem here: When I have a video consumer attached to a fetch (service-worker) and the video does not autoplay (it only reads the mp4 header) the video uses either chunked content encoding or HTTP/2&#39;s data streaming to stop the server from sending more data after the initial header. But after the fetch that it is going through this data streaming meta information is lost and the server keeps sending as many gigabytes of data as it wants with chrome storing the data for future use."}, {"owner": {"reputation": 2214, "user_id": 2607571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/898b3ca6cbc371e33421d40a3ef20c49?s=128&d=identicon&r=PG", "display_name": "Simon Kirsten", "link": "https://stackoverflow.com/users/2607571/simon-kirsten"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1534371924, "post_id": 51866522, "comment_id": 90686456, "body": "@Barmar But unfortunately after a seek this &quot;data for future use&quot; gets discarded because the stream gets canceled by the underlying transport system. Thus I&#39;m wasting large amounts of traffic which is especially fatal on mobile devices."}, {"owner": {"reputation": 2214, "user_id": 2607571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/898b3ca6cbc371e33421d40a3ef20c49?s=128&d=identicon&r=PG", "display_name": "Simon Kirsten", "link": "https://stackoverflow.com/users/2607571/simon-kirsten"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1534372050, "post_id": 51866522, "comment_id": 90686487, "body": "I have decided to use range requests for now as that will also help with partial caching."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1534373475, "post_id": 51866522, "comment_id": 90686822, "body": "I wasn&#39;t talking about the TCP window. If the application (web browser) reads the data from the network stack into its own buffers, the window never closes."}], "owner": {"reputation": 2214, "user_id": 2607571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/898b3ca6cbc371e33421d40a3ef20c49?s=128&d=identicon&r=PG", "display_name": "Simon Kirsten", "link": "https://stackoverflow.com/users/2607571/simon-kirsten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 280, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1534369398, "creation_date": 1534367588, "last_edit_date": 1534369398, "question_id": 51866522, "link": "https://stackoverflow.com/questions/51866522/javascript-fetch-readablestream-is-not-slowing-down-network-when-being-read-slow", "title": "Javascript fetch ReadableStream is not slowing down network when being read slowly", "body": "<p>The following example is a very simple fetch snippet that initiates a fetch to a large object and reads from it (in reality it is being transformed and passed to a <code>Response</code> object but that doesn't matter).</p>\n\n<p>The problem is that even though the stream only reads 2 chunks, when viewed in the Network DevTools it is obvious that the whole large object gets downloaded:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>fetch(\"http://ipv4.download.thinkbroadband.com/200MB.zip\").then(response =&gt; {\n    const networkreader = response.body.getReader();\n\n    networkreader.read().then(data =&gt; {\n        console.log(\"read\", data.value.length);\n    });\n\n    networkreader.read().then(data =&gt; {\n        console.log(\"read\", data.value.length);\n    });\n\n    // networkreader.cancel(); // can't do that\n});\n</code></pre>\n\n<p>As expected the read works and only returns 2 chunks of data but in the DevTools the full 200MB is being downloaded. Calling <code>cancel()</code> on the stream would stop the download but I can't do that as the stream is handed over to the <code>Response</code> object and it will consume data slowly, take a pause, etc. and cancel it maybe after minutes of inactivity.</p>\n\n<p>This happens in the real world when the resource is a video or other streamable data that is consumed via chunked encoding or HTTP/2.</p>\n\n<p>The only workaround I can imagine is using range requests and thus throttling the browser (Chrome in my case) from downloading so much data that will most likely not be used.</p>\n\n<p>If I did something wrong or this is a browser issue please let me know as the range request approach feels rather messy. Thank you.</p>\n"}, {"tags": ["javascript", "json", "google-chrome"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5405703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a595c5a35c3dc9e8bc567cb05435d70f?s=128&d=identicon&r=PG&f=1", "display_name": "RSimons", "link": "https://stackoverflow.com/users/5405703/rsimons"}, "edited": false, "score": 0, "creation_date": 1534384898, "post_id": 51866657, "comment_id": 90689110, "body": "Sorry it&#39;s still not working - I have used the second version - less is more right? - and I just can&#39;t seem to get it to run."}, {"owner": {"reputation": 3219, "user_id": 1366860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f8eb7b34f85f92868cb85acb27c0b12?s=128&d=identicon&r=PG&f=1", "display_name": "Erick Ruiz de Chavez", "link": "https://stackoverflow.com/users/1366860/erick-ruiz-de-chavez"}, "reply_to_user": {"reputation": 1, "user_id": 5405703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a595c5a35c3dc9e8bc567cb05435d70f?s=128&d=identicon&r=PG&f=1", "display_name": "RSimons", "link": "https://stackoverflow.com/users/5405703/rsimons"}, "edited": false, "score": 0, "creation_date": 1534454022, "post_id": 51866657, "comment_id": 90722328, "body": "@RSimons Which browser are you using? How are you running this file? You need to test this on a local server (that is your web browser url must start with <code>http:&#47;&#47;...</code> not with <code>file:&#47;&#47;&#47;...</code>). Are you getting any cross domain errors in the terminal?"}, {"owner": {"reputation": 1, "user_id": 5405703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a595c5a35c3dc9e8bc567cb05435d70f?s=128&d=identicon&r=PG&f=1", "display_name": "RSimons", "link": "https://stackoverflow.com/users/5405703/rsimons"}, "edited": false, "score": 0, "creation_date": 1534461139, "post_id": 51866657, "comment_id": 90724327, "body": "Thanks Erick, yes I am running this on Chrome as a server and I can get a JSON output if I use the link - <a href=\"http://test.fhir.org/r3/Patient?family=smith&amp;given=steven&amp;_format=JSON\" rel=\"nofollow noreferrer\">test.fhir.org/r3/&hellip;</a>  I just can&#39;t get it back into the window on the page... very frustrating."}, {"owner": {"reputation": 3219, "user_id": 1366860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f8eb7b34f85f92868cb85acb27c0b12?s=128&d=identicon&r=PG&f=1", "display_name": "Erick Ruiz de Chavez", "link": "https://stackoverflow.com/users/1366860/erick-ruiz-de-chavez"}, "reply_to_user": {"reputation": 1, "user_id": 5405703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a595c5a35c3dc9e8bc567cb05435d70f?s=128&d=identicon&r=PG&f=1", "display_name": "RSimons", "link": "https://stackoverflow.com/users/5405703/rsimons"}, "edited": false, "score": 0, "creation_date": 1534509612, "post_id": 51866657, "comment_id": 90741864, "body": "Are you getting any errors in the terminal? DevTools are usually very good to debug this kind of errors. Use break points to test if your code is entering where it is supposed to or if something else is breaking."}], "tags": [], "owner": {"reputation": 3219, "user_id": 1366860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f8eb7b34f85f92868cb85acb27c0b12?s=128&d=identicon&r=PG&f=1", "display_name": "Erick Ruiz de Chavez", "link": "https://stackoverflow.com/users/1366860/erick-ruiz-de-chavez"}, "is_accepted": false, "score": 0, "last_activity_date": 1534369128, "last_edit_date": 1534369128, "creation_date": 1534368295, "answer_id": 51866657, "question_id": 51866478, "link": "https://stackoverflow.com/questions/51866478/read-json-data-from-url-javascript/51866657#51866657", "title": "Read JSON Data from URL (JavaScript)", "body": "<p>In this example you are assuming jQuery is present by having bootstrap.js loaded. This is not the case and you either need to load jQuery before bootstrap OR move your script to the bottom of the page (right before the body is closed) and remove this <code>$(window).load(function(){})</code>.</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n\n&lt;head&gt;\n  &lt;meta http-equiv=\"content-type\" content=\"text/html; charset=UTF-8\"&gt;\n  &lt;title&gt;Playing with JSON&lt;/title&gt;\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n  &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css\"&gt;\n  &lt;style type=\"text/css\"&gt;\n    .row {\n      margin-top: 20px\n    }\n\n  &lt;/style&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n  &lt;div class=\"container\"&gt;\n    &lt;div class=\"row\"&gt;In Development&lt;/div&gt;\n    &lt;div class=\"row\"&gt;\n      &lt;button id=\"get-repos\"&gt;JSON download trial!!&lt;/button&gt;\n    &lt;/div&gt;\n    &lt;div class=\"row\"&gt;\n      &lt;pre id=\"response\"&gt;&lt;/pre&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n\n  &lt;script&gt;\n    if (window.parent &amp;&amp; window.parent.parent) {\n      window.parent.parent.postMessage([\"resultsFrame\", {\n        height: document.body.getBoundingClientRect().height,\n        slug: \"9f7sb409\"\n      }], \"*\")\n    }\n  &lt;/script&gt;\n\n  &lt;script&gt;\n    console.log('loading event handlers');\n    var $response = document.getElementById(\"response\");\n    var $getReposBtn = document.getElementById(\"get-repos\");\n    $getReposBtn.onclick = function () {\n      var xhr = new XMLHttpRequest();\n      xhr.timeout = 2000;\n      xhr.onreadystatechange = function (e) {\n        console.log(this);\n        if (xhr.readyState === 4) {\n          if (xhr.status === 200) {\n            // debugger;\n            // console.log(xhr.response);\n            $response.innerHTML = xhr.response;\n          } else {\n            console.error(\"XHR didn't work: \", xhr.status);\n          }\n        }\n      }\n      xhr.ontimeout = function () {\n        console.error(\"request timedout: \", xhr);\n      }\n      xhr.open(\"get\", \"http://test.fhir.org/r3/Patient?family=smith&amp;given=peggy&amp;_format=json\", /*async*/ true);\n      xhr.send();\n    }\n\n  &lt;/script&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>If you decide to use jQuery, your code can be simplified a lot:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n\n&lt;head&gt;\n  &lt;meta http-equiv=\"content-type\" content=\"text/html; charset=UTF-8\"&gt;\n  &lt;title&gt;Playing with JSON&lt;/title&gt;\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n\n  &lt;script src=\"https://code.jquery.com/jquery-3.3.1.min.js\" integrity=\"sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=\"\n    crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n  &lt;script type=\"text/javascript\" src=\"//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js\"&gt;&lt;/script&gt;\n  &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css\"&gt;\n  &lt;style type=\"text/css\"&gt;\n    .row {\n      margin-top: 20px\n    }\n\n  &lt;/style&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n  &lt;div class=\"container\"&gt;\n    &lt;div class=\"row\"&gt;In Development&lt;/div&gt;\n    &lt;div class=\"row\"&gt;\n      &lt;button id=\"get-repos\"&gt;JSON download trial!!&lt;/button&gt;\n    &lt;/div&gt;\n    &lt;div class=\"row\"&gt;\n      &lt;pre id=\"response\"&gt;&lt;/pre&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n\n  &lt;script&gt;\n    if (window.parent &amp;&amp; window.parent.parent) {\n      window.parent.parent.postMessage([\"resultsFrame\", {\n        height: document.body.getBoundingClientRect().height,\n        slug: \"9f7sb409\"\n      }], \"*\")\n    }\n  &lt;/script&gt;\n\n  &lt;script&gt;\n    $(function () {\n      console.log('loading event handlers');\n\n      $(\"#get-repos\").click(function onClick() {\n        var url = \"http://test.fhir.orgs/r3/Patient?family=smith&amp;given=peggy&amp;_format=json\";\n\n        $.getJSON(url, function onSuccess(response) {\n          $(\"#response\").text(JSON.stringify(response));\n        });\n      });\n    });\n  &lt;/script&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5405703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a595c5a35c3dc9e8bc567cb05435d70f?s=128&d=identicon&r=PG&f=1", "display_name": "RSimons", "link": "https://stackoverflow.com/users/5405703/rsimons"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 170, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534393759, "creation_date": 1534367373, "last_edit_date": 1534393759, "question_id": 51866478, "link": "https://stackoverflow.com/questions/51866478/read-json-data-from-url-javascript", "title": "Read JSON Data from URL (JavaScript)", "body": "<p>Attempt 2 to get my question right (please bear with me - I'm new).  </p>\n\n<p>I am trying to read data from a URL </p>\n\n<p><a href=\"http://test.fhir.org/r3/Patient?family=smith&amp;given=peggy&amp;_format=json\" rel=\"nofollow noreferrer\">http://test.fhir.org/r3/Patient?family=smith&amp;given=peggy&amp;_format=json</a> </p>\n\n<p>and want to use Javascript to reformat it to the screen as table but </p>\n\n<p>(1) I can't get it to read and </p>\n\n<p>(2) I can't format it to a table as in json2table.com</p>\n\n<p>Can anyone help?  Here is the code I am trying.</p>\n\n<pre><code>    &lt;!DOCTYPE html&gt;\n    &lt;html&gt;\n    &lt;head&gt;\n      &lt;meta http-equiv=\"content-type\" content=\"text/html; charset=UTF-8\"&gt;\n      &lt;title&gt;Playing with JSON&lt;/title&gt;\n      &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n\n      &lt;script type=\"text/javascript\" src=\"//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js\"&gt;&lt;/script&gt;\n      &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css\"&gt;\n\n      &lt;style type=\"text/css\"&gt;\n        .row{ margin-top: 20px}\n      &lt;/style&gt;\n\n      &lt;script type=\"text/javascript\"&gt;\n        $(window).load(function(){\n\n        console.log('loading event handlers');\n        var $response = document.getElementById(\"response\");\n        var $getReposBtn = document.getElementById(\"get-repos\");\n        $getReposBtn.onclick = function(){\n            var xhr = new XMLHttpRequest();\n            xhr.timeout = 2000;\n            xhr.onreadystatechange = function(e){\n                console.log(this);\n                if (xhr.readyState === 4){\n                    if (xhr.status === 200){\n                        // debugger;\n                        // console.log(xhr.response);\n                        $response.innerHTML = xhr.response;\n                    } else {\n                        console.error(\"XHR didn't work: \", xhr.status);\n                    }\n                }\n            }\n            xhr.ontimeout = function (){\n                console.error(\"request timedout: \", xhr);\n            }\n            xhr.open(\"get\", \"http://test.fhir.org/r3/Patient?family=smith&amp;given=peggy&amp;_format=json\", /*async*/ true);\n            xhr.send();\n        }\n        });\n    &lt;/script&gt;\n\n    &lt;/head&gt;\n    &lt;body&gt;\n      &lt;div class=\"container\"&gt;\n          &lt;div class=\"row\"&gt;In Development&lt;/div&gt;\n        &lt;div class=\"row\"&gt;\n            &lt;button id=\"get-repos\"&gt;JSON download trial!!&lt;/button&gt;\n        &lt;/div&gt;\n        &lt;div class=\"row\"&gt;\n            &lt;pre id=\"response\"&gt;&lt;/pre&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n      &lt;script&gt;\n        if (window.parent &amp;&amp; window.parent.parent){\n          window.parent.parent.postMessage([\"resultsFrame\", {\n            height: document.body.getBoundingClientRect().height,\n            slug: \"9f7sb409\"\n          }], \"*\")\n        }\n      &lt;/script&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n"}, {"tags": ["javascript", "php", "google-apps-script"], "answers": [{"comments": [{"owner": {"reputation": 8677, "user_id": 9337071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e52afdb783a619060eb2b0c0cb5766d3?s=128&d=identicon&r=PG&f=1", "display_name": "tehhowch", "link": "https://stackoverflow.com/users/9337071/tehhowch"}, "edited": false, "score": 0, "creation_date": 1534435717, "post_id": 51879067, "comment_id": 90713989, "body": "There is a web-safe base64 option as well in Apps Script - not sure if the differences are meaningful for your application however."}, {"owner": {"reputation": 30419, "user_id": 300224, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/PFB2V.jpg?s=128&g=1", "display_name": "William Entriken", "link": "https://stackoverflow.com/users/300224/william-entriken"}, "reply_to_user": {"reputation": 8677, "user_id": 9337071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e52afdb783a619060eb2b0c0cb5766d3?s=128&d=identicon&r=PG&f=1", "display_name": "tehhowch", "link": "https://stackoverflow.com/users/9337071/tehhowch"}, "edited": false, "score": 0, "creation_date": 1537287950, "post_id": 51879067, "comment_id": 91726866, "body": "Related news. If a GmailLabel has emoji in it then it will encode as ? if you Base64 encode and decode."}], "tags": [], "owner": {"reputation": 30419, "user_id": 300224, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/PFB2V.jpg?s=128&g=1", "display_name": "William Entriken", "link": "https://stackoverflow.com/users/300224/william-entriken"}, "is_accepted": false, "score": 0, "last_activity_date": 1534429014, "last_edit_date": 1534429014, "creation_date": 1534428538, "answer_id": 51879067, "question_id": 51866469, "link": "https://stackoverflow.com/questions/51866469/how-to-transport-data-from-javascript-to-php/51879067#51879067", "title": "How to transport data from Javascript to PHP?", "body": "<p>I never fixed the actual problem. And think minimizing the question will lead to a bug report on Google App Script or PHP. But here is a workaround that let's me keep moving, and it is highly inefficient:</p>\n\n<pre><code>function authenticateAndFetch(payload) {\n  const endpoint = PropertiesService.getScriptProperties().getProperty('WEBHOOK_URL');\n  const hmac_key = PropertiesService.getScriptProperties().getProperty('HMAC_SHA_256_KEY');\n  var send_data = JSON.stringify(payload);\n  send_data = Utilities.base64Encode(send_data); // https://stackoverflow.com/q/51866469/300224\n  const signature = Utilities.computeDigest(Utilities.DigestAlgorithm.MD5, send_data)\n    .map(function(chr){return (chr+256).toString(16).slice(-2)})\n    .join(''); // Golf https://stackoverflow.com/a/49759368/300224\n\n\n  const fetch_options = {\n    'method': 'post',\n    'payload': {'gmail_details': send_data, 'signature': signature},\n    'muteHttpExceptions': true\n  };\n  const response = UrlFetchApp.fetch(endpoint, fetch_options);\n  return response.getContentText();\n}\n</code></pre>\n\n<p>And PHP</p>\n\n<pre><code>$detailsString = $_POST['gmail_details'];\n$detailsString = base64_decode($_POST['gmail_details']);\n$correctSignature = md5($detailsString);\n</code></pre>\n\n<p>In summary, you can't reliably transfer non-ASCII from Javascript to PHP so just base64 encode everything.</p>\n"}], "owner": {"reputation": 30419, "user_id": 300224, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/PFB2V.jpg?s=128&g=1", "display_name": "William Entriken", "link": "https://stackoverflow.com/users/300224/william-entriken"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534429014, "creation_date": 1534367308, "question_id": 51866469, "link": "https://stackoverflow.com/questions/51866469/how-to-transport-data-from-javascript-to-php", "title": "How to transport data from Javascript to PHP?", "body": "<p>In Javascript I have:</p>\n\n<pre><code>function authenticateAndFetch(payload) {\n  const endpoint = PropertiesService.getScriptProperties().getProperty('WEBHOOK_URL');\n  const hmac_key = PropertiesService.getScriptProperties().getProperty('HMAC_SHA_256_KEY');\n  var send_data = JSON.stringify(payload)\n  const signature = Utilities.computeDigest(Utilities.DigestAlgorithm.MD5, send_data)\n    .map(function(chr){return (chr+256).toString(16).slice(-2)})\n    .join(''); // Golf https://stackoverflow.com/a/49759368/300224\n  const fetch_options = {\n    'method': 'post',\n    'payload': {'gmail_details': send_data, 'signature': signature},\n    'muteHttpExceptions': true\n  };\n  const response = UrlFetchApp.fetch(endpoint, fetch_options);\n  return response.getContentText();\n}\n</code></pre>\n\n<p>Then in PHP I validate this with:</p>\n\n<pre><code>$detailsString = $_POST['gmail_details'];\n$correctSignature = md5($detailsString);\n</code></pre>\n\n<p>After some logging, and a long day, I found out that Javascript and PHP will produce different md5 sums for a string including this data:</p>\n\n<pre><code>HEX: 65 20 c2 97 20 44                              \n</code></pre>\n\n<p>Is there some way to sanitize the inputs in Javascript before sending them to PHP, or is there some way to get matching strings in both environments?</p>\n"}, {"tags": ["javascript", "google-chrome", "console", "settings"], "comments": [{"owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "edited": false, "score": 0, "creation_date": 1534366603, "post_id": 51866262, "comment_id": 90684788, "body": "That should be the reason for it, and I can&#39;t reproduce the problem with various other caching methods. Have you tried checking <code>Preserve log</code> and unchecking it, and possibly restarting Chrome?"}, {"owner": {"reputation": 889, "user_id": 3082194, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/120ae713dfb64c00130e0c190a345d53?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/3082194/jay"}, "reply_to_user": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "edited": false, "score": 0, "creation_date": 1534366860, "post_id": 51866262, "comment_id": 90684887, "body": "Yeah @ObsidianAge, I&#39;ve actually had this issue for a super long time. I&#39;ve tried toggling this option here as well as toggling it in the full console settings from the dots in the upper right next to the x button-- nothing seems to disable this behavior!"}], "answers": [{"comments": [{"owner": {"reputation": 889, "user_id": 3082194, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/120ae713dfb64c00130e0c190a345d53?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/3082194/jay"}, "edited": false, "score": 0, "creation_date": 1534367374, "post_id": 51866424, "comment_id": 90685078, "body": "This fixed it. Thanks man! I didn&#39;t know there was a &quot;Reset&quot; button. Still have no idea why this worked, but \ud83e\udd37\u200d\u2642\ufe0f"}, {"owner": {"reputation": 889, "user_id": 3082194, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/120ae713dfb64c00130e0c190a345d53?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/3082194/jay"}, "edited": false, "score": 0, "creation_date": 1540132939, "post_id": 51866424, "comment_id": 92742832, "body": "Yeah sorry, my comment was ambiguous. Just resetting my settings to default worked for me as well!"}], "tags": [], "owner": {"reputation": 161, "user_id": 10227917, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2NIbe.jpg?s=128&g=1", "display_name": "Callanbr", "link": "https://stackoverflow.com/users/10227917/callanbr"}, "is_accepted": true, "score": 5, "last_activity_date": 1534367420, "last_edit_date": 1534367420, "creation_date": 1534367112, "answer_id": 51866424, "question_id": 51866262, "link": "https://stackoverflow.com/questions/51866262/how-to-turn-off-preserve-javascript-console-perseverance-in-google-chrome/51866424#51866424", "title": "How to turn off Preserve JavaScript console perseverance in Google Chrome", "body": "<p>This issue has been fixed for me by doing the following:</p>\n\n<ol>\n<li>While inspect is open press F1.</li>\n<li>Scroll to bottom and click\n<a href=\"https://i.stack.imgur.com/zboFq.png\" rel=\"nofollow noreferrer\">'Restore defaults and reload'</a>.</li>\n<li>Close Google Chrome.</li>\n<li>Reopen.</li>\n</ol>\n\n<p>Also, you may need to delete Google Chrome and reinstall.</p>\n"}], "owner": {"reputation": 889, "user_id": 3082194, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/120ae713dfb64c00130e0c190a345d53?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/3082194/jay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 51866424, "answer_count": 1, "score": 2, "last_activity_date": 1534367420, "creation_date": 1534366336, "question_id": 51866262, "link": "https://stackoverflow.com/questions/51866262/how-to-turn-off-preserve-javascript-console-perseverance-in-google-chrome", "title": "How to turn off Preserve JavaScript console perseverance in Google Chrome", "body": "<p>Currently in my Google Chrome JS console, all of my <code>console.log</code>s, network errors, etc. are preserved between page refreshes <strong>even though I have <code>Preserve logs</code> disabled</strong>. Does anyone know a fix to this? Here are my current settings for my console:</p>\n\n<p><a href=\"https://i.stack.imgur.com/jXlpx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jXlpx.png\" alt=\"javascript console settings screenshot\"></a></p>\n"}, {"tags": ["javascript", "reactjs", "jestjs"], "answers": [{"comments": [{"owner": {"reputation": 437, "user_id": 8705615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66869e45082f512dd5b112087797a726?s=128&d=identicon&r=PG&f=1", "display_name": "CSstudent", "link": "https://stackoverflow.com/users/8705615/csstudent"}, "edited": false, "score": 0, "creation_date": 1534376755, "post_id": 51866436, "comment_id": 90687510, "body": "The test now compiles, but jest says the test fails on &quot;&lt;&quot; on all my test where &quot;&lt;ReactPage /&gt;&quot; is used"}], "tags": [], "owner": {"reputation": 227, "user_id": 7016707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S659x.jpg?s=128&g=1", "display_name": "Sasha K.", "link": "https://stackoverflow.com/users/7016707/sasha-k"}, "is_accepted": true, "score": 1, "last_activity_date": 1534367165, "creation_date": 1534367165, "answer_id": 51866436, "question_id": 51866227, "link": "https://stackoverflow.com/questions/51866227/jest-unexpected-token-1529-on/51866436#51866436", "title": "jest Unexpected token (15:29) on &quot;&lt;&quot;", "body": "<p>You are missing a step to process the JSX. If you are using babel, add a <code>react</code> preset to your <code>.babelrc</code> file. More info can be found here: <a href=\"https://jestjs.io/docs/en/getting-started#additional-configuration\" rel=\"nofollow noreferrer\">https://jestjs.io/docs/en/getting-started#additional-configuration</a></p>\n"}], "owner": {"reputation": 437, "user_id": 8705615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66869e45082f512dd5b112087797a726?s=128&d=identicon&r=PG&f=1", "display_name": "CSstudent", "link": "https://stackoverflow.com/users/8705615/csstudent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 51866436, "answer_count": 1, "score": 0, "last_activity_date": 1534372678, "creation_date": 1534366196, "last_edit_date": 1534372678, "question_id": 51866227, "link": "https://stackoverflow.com/questions/51866227/jest-unexpected-token-1529-on", "title": "jest Unexpected token (15:29) on &quot;&lt;&quot;", "body": "<p>I got jest working on my react app and I'm trying to run tests, but I'm getting an error. When I run the test with <code>\"scripts\": {\"test\": \"react-scripts test --env=jsdom\"}</code> almost every test works. I had to change my tester to <code>\"test\":\"jest\"</code> to get the last test working, but now the test are crashing on compile because the &lt; in the multiple <code>shallow(&lt;ReactPage /&gt;)</code> is throwing an error. </p>\n\n<p>From my understanding of the code, my test should be fine. Should be some setting for jest that I have to make in the project.json file to fix this error?</p>\n\n<p>Test</p>\n\n<pre><code>import {shallow, mount, configure} from 'enzyme';\nimport Adapter from 'enzyme-adapter-react-16';\nimport ReactDOM from 'react-dom';\nimport jest from 'jest';\nimport ReactPage from './App';\n\nconfigure({ adapter: new Adapter() });\n\nit('renders ReactPage without crashing', () =&gt; {\n  const div = document.createElement('div');\n  ReactDOM.render( &lt;ReactPage /&gt; , div);\n  ReactDOM.unmountComponentAtNode(div);\n});\n</code></pre>\n\n<p><em>package.json</em></p>\n\n<pre><code>{\n  \"name\": \"client-charts\",\n  \"version\": \"0.1.0\",\n  \"private\": true,\n  \"dependencies\": {\n    \"async\": \"^2.6.1\",\n    \"moment\": \"^2.22.2\",\n    \"react\": \"^16.4.2\",\n    \"react-dom\": \"^16.4.1\",\n    \"react-scripts\": \"1.1.4\",\n    \"recharts\": \"^1.1.0\",\n    \"react-table\": \"^6.8.6\",\n    \"react-snapshot\": \"^1.3.0\"\n  },\n  \"scripts\": {\n    \"start\": \"react-scripts start\",\n    \"build\": \"react-scripts build &amp;&amp; react-snapshot\",\n    \"test\": \"jest\",\n    \"eject\": \"react-scripts eject\"\n  },\n  \"proxy\": \"http://localhost:5000\",\n  \"devDependencies\": {\n    \"enzyme\": \"^3.3.0\",\n    \"enzyme-adapter-react-16\": \"^1.1.1\",\n    \"jest\": \"^20.0.4\"\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "asp.net"], "comments": [{"owner": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "edited": false, "score": 0, "creation_date": 1534366397, "post_id": 51866214, "comment_id": 90684710, "body": "I don&#39;t see anything wrong.."}, {"owner": {"reputation": 33, "user_id": 9932106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32c0d2b9b1beb622587c8cb8e0ccfb37?s=128&d=identicon&r=PG&f=1", "display_name": "Stackofbugs", "link": "https://stackoverflow.com/users/9932106/stackofbugs"}, "reply_to_user": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "edited": false, "score": 0, "creation_date": 1534366760, "post_id": 51866214, "comment_id": 90684849, "body": "My thought&#39;s as well, nothing happens in Edge (not that it matters), Chrome or Firefox. Debug code just pops up on click.  I did remove the css style from the element thinking this caused in issue, but the same error happens."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 9932106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32c0d2b9b1beb622587c8cb8e0ccfb37?s=128&d=identicon&r=PG&f=1", "display_name": "Stackofbugs", "link": "https://stackoverflow.com/users/9932106/stackofbugs"}, "edited": false, "score": 0, "creation_date": 1534367601, "post_id": 51866423, "comment_id": 90685174, "body": "Good call sir. Totally slipped my mind and wasn&#39;t paying attention to that. Thanks!"}], "tags": [], "owner": {"reputation": 192, "user_id": 1442605, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/59da35e1df6d1681fa5f7b93dddf6e53?s=128&d=identicon&r=PG", "display_name": "user1442605", "link": "https://stackoverflow.com/users/1442605/user1442605"}, "is_accepted": true, "score": 0, "last_activity_date": 1534367107, "creation_date": 1534367107, "answer_id": 51866423, "question_id": 51866214, "link": "https://stackoverflow.com/questions/51866214/uncaught-typeerror-cannot-read-property-style-js-onclick-event/51866423#51866423", "title": "Uncaught TypeError: Cannot read property &#39;style&#39; (JS -- OnClick event)", "body": "<p>It is hard to be certain based on the snippet provided from the .aspx page, but it is probable that the ID of <code>divMenuOne</code> is changing by the time it is displayed in the browser, because of <code>runat=\"server\"</code>. Elements coming from the server may have their client-side IDs change, especially when they are inside another control such as a repeater or a user control.</p>\n\n<p>In this case I would recommend selecting the element by its class instead of its ID.</p>\n"}], "owner": {"reputation": 33, "user_id": 9932106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32c0d2b9b1beb622587c8cb8e0ccfb37?s=128&d=identicon&r=PG&f=1", "display_name": "Stackofbugs", "link": "https://stackoverflow.com/users/9932106/stackofbugs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 51866423, "answer_count": 1, "score": 0, "last_activity_date": 1534367107, "creation_date": 1534366145, "last_edit_date": 1534366304, "question_id": 51866214, "link": "https://stackoverflow.com/questions/51866214/uncaught-typeerror-cannot-read-property-style-js-onclick-event", "title": "Uncaught TypeError: Cannot read property &#39;style&#39; (JS -- OnClick event)", "body": "<p>There's a ton of questions titled the same and I can't find any that have the issue in the place I do.</p>\n\n<p>What I'm going for:\nDiv that's clicked, and changes another div. </p>\n\n<p>Code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function divOne_Click() {\n  var x = document.getElementById(\"divMenuOne\");\n  if (x.style.display == \"none\") {\n    x.style.display = \"block\";\n  } else {\n    x.style.display = \"none\";\n  }\n}\n</code></pre>\n\n\n\n<pre><code>            &lt;div class=\"MobileContentTitle\" onclick=\"divOne_Click()\"&gt;\n            &lt;p style=\"font-size: 18px; font-weight: bold; color: #FFFFFF;\"&gt;Box One Title&lt;/p&gt;\n        &lt;/div&gt;\n        &lt;div class=\"MobileContentMenu\" id=\"divMenuOne\" runat=\"server\"&gt;\n        &lt;asp:Repeater ID=\"rpt_menu_1\" runat=\"server\"&gt;\n            &lt;HeaderTemplate&gt;\n                &lt;table id=\"tbl_menu\" align=\"center\" &gt;\n                    &lt;tr class=\"MenuTR\"&gt;\n                        &lt;td&gt;&lt;asp:Label ID=\"lbl_menuItemDescHead\" runat=\"server\" Text=\"\"&gt;&lt;/asp:Label&gt;&lt;/td&gt;\n                        &lt;td&gt;&lt;asp:Label ID=\"lbl_menuPriceHead\" runat=\"server\" Text=\"\"&gt;&lt;/asp:Label&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n            &lt;/HeaderTemplate&gt;\n            &lt;ItemTemplate&gt;\n                    &lt;tr class=\"MenuTR\"&gt;\n                        &lt;td&gt;\n                            &lt;asp:Label ID=\"lbl_menuitem\" runat=\"server\" Text='&lt;%#Eval(\"MenuItemDesc\") %&gt;' CssClass=\"MenuDesc\"&gt;&lt;/asp:Label&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;asp:Label ID=\"lbl_menuprice\" runat=\"server\" Text='&lt;%#Eval(\"MenuItemPrice\", \"{0:C}\") %&gt;' CssClass=\"MenuPrice\"&gt;&lt;/asp:Label&gt;\n                        &lt;/td&gt;\n                    &lt;/tr&gt;\n            &lt;/ItemTemplate&gt;\n            &lt;FooterTemplate&gt;&lt;/table&gt;&lt;/FooterTemplate&gt;\n        &lt;/asp:Repeater&gt;\n     &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "recursion", "xml-parsing", "servicenow"], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 7056325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70e84088307df5ce8fe2a286891c764b?s=128&d=identicon&r=PG&f=1", "display_name": "777", "link": "https://stackoverflow.com/users/7056325/777"}, "edited": false, "score": 0, "creation_date": 1534404552, "post_id": 51866840, "comment_id": 90694857, "body": "Thanks! It&#39;s executing fine here but in ServiceNow, things like &gt; let, ActiveXObject, window.DOMParser, etc does not work. Any pointers on making this to a very basic version of JavaScript ?"}, {"owner": {"reputation": 1740, "user_id": 1870088, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e46a97cd24d86aef0fc31fcc10edc6e0?s=128&d=identicon&r=PG", "display_name": "Hiteshdua1", "link": "https://stackoverflow.com/users/1870088/hiteshdua1"}, "reply_to_user": {"reputation": 27, "user_id": 7056325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70e84088307df5ce8fe2a286891c764b?s=128&d=identicon&r=PG&f=1", "display_name": "777", "link": "https://stackoverflow.com/users/7056325/777"}, "edited": false, "score": 0, "creation_date": 1534442999, "post_id": 51866840, "comment_id": 90717636, "body": "Updated answer and Added an edit section in the answer to handle those errors.  Do accept and upvote if it works for you :)"}], "tags": [], "owner": {"reputation": 1740, "user_id": 1870088, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e46a97cd24d86aef0fc31fcc10edc6e0?s=128&d=identicon&r=PG", "display_name": "Hiteshdua1", "link": "https://stackoverflow.com/users/1870088/hiteshdua1"}, "is_accepted": true, "score": 0, "last_activity_date": 1534442991, "last_edit_date": 1534442991, "creation_date": 1534369213, "answer_id": 51866840, "question_id": 51866188, "link": "https://stackoverflow.com/questions/51866188/parse-a-highly-nested-xml-to-fetch-all-the-sys-ids-till-testbs4-for-each-chil/51866840#51866840", "title": "Parse a highly nested XML to fetch all the sys_id&#39;s till &#39;TestBS4&#39; for each child of `&lt;childrenOfCurrentCI&gt;` using recursion", "body": "<p>Just coded for the case </p>\n\n<blockquote>\n  <p>In this case, I need all the sys_id's till the 4th level (TestBS4) of\n  each child of  tag.</p>\n</blockquote>\n\n<p>Hope you get the idea.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var text = `\r\n&lt;xmlTree&gt;\r\n   &lt;sys_id&gt;e9c23f4adbf31300ae2af28239961974&lt;/sys_id&gt;\r\n   &lt;name&gt;Test CI One&lt;/name&gt;\r\n   &lt;relType&gt;SELF&lt;/relType&gt;\r\n   &lt;childrenOfCurrentCI&gt;\r\n      &lt;CI&gt;\r\n         &lt;sys_id&gt;68b1b746dbf31300ae2af2823996197a&lt;/sys_id&gt;\r\n         &lt;name&gt;TestBS1&lt;/name&gt;\r\n         &lt;relType&gt;Depends on::Used by&lt;/relType&gt;\r\n         &lt;children&gt;\r\n            &lt;CI&gt;\r\n               &lt;sys_id&gt;964477cedbf31300ae2af28239961913&lt;/sys_id&gt;\r\n               &lt;name&gt;TestBS2&lt;/name&gt;\r\n               &lt;relType&gt;Depends on::Used by&lt;/relType&gt;\r\n               &lt;children&gt;\r\n                  &lt;CI&gt;\r\n                     &lt;sys_id&gt;88643fcedbf31300ae2af2823996190b&lt;/sys_id&gt;\r\n                     &lt;name&gt;TestBS3&lt;/name&gt;\r\n                     &lt;relType&gt;Depends on::Used by&lt;/relType&gt;\r\n                     &lt;children&gt;\r\n                        &lt;CI&gt;\r\n                           &lt;sys_id&gt;0264f7cedbf31300ae2af28239961971&lt;/sys_id&gt;\r\n                           &lt;name&gt;TestBS4&lt;/name&gt;\r\n                           &lt;relType&gt;Depends on::Used by&lt;/relType&gt;\r\n                           &lt;children&gt;\r\n                              &lt;CI&gt;\r\n                                 &lt;sys_id&gt;fb64ffcedbf31300ae2af282399619e8&lt;/sys_id&gt;\r\n                                 &lt;name&gt;TestBS5&lt;/name&gt;\r\n                                 &lt;relType&gt;Depends on::Used by&lt;/relType&gt;\r\n                              &lt;/CI&gt;\r\n                           &lt;/children&gt;\r\n                        &lt;/CI&gt;\r\n                     &lt;/children&gt;\r\n                  &lt;/CI&gt;\r\n               &lt;/children&gt;\r\n            &lt;/CI&gt;\r\n         &lt;/children&gt;\r\n      &lt;/CI&gt;\r\n      &lt;CI&gt;\r\n         &lt;sys_id&gt;ae1ff02fdbfb1300ae2af2823996195d&lt;/sys_id&gt;\r\n         &lt;name&gt;Test Side Parent One&lt;/name&gt;\r\n         &lt;relType&gt;Depends on::Used by&lt;/relType&gt;\r\n      &lt;/CI&gt;\r\n   &lt;/childrenOfCurrentCI&gt;\r\n&lt;/xmlTree&gt;\r\n\r\n`;\r\n\r\nif (window.DOMParser)\r\n{\r\n    parser = new DOMParser();\r\n    xmlDoc = parser.parseFromString(text, \"text/xml\");\r\n}\r\nelse // Internet Explorer \r\n{\r\n    xmlDoc = new ActiveXObject(\"Microsoft.XMLDOM\");\r\n    xmlDoc.async = false;\r\n    xmlDoc.loadXML(text);\r\n}\r\nlet sysIds = xmlDoc.getElementsByTagName(\"childrenOfCurrentCI\")[0].getElementsByTagName(\"sys_id\");\r\nfunction getMeSysId(position) {\r\n  console.log(sysIds[position-1].textContent);\r\n}\r\nconsole.log(\"to get the 4th level sys_Id\");\r\ngetMeSysId(4);\r\nconsole.log(\"for all the sysid's inside childrenOfCurrentCI\");\r\nfor (let i=0; i&lt;sysIds.length;i++) {\r\n  console.log(sysIds[i].textContent);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Use <code>var</code> instead of <code>let</code>\nelse condition can be skipped ( required for IE versions )\nand try using serviceNow xml dom parser</p>\n\n<p>So updated code chunk is </p>\n\n<pre><code>    xmlDoc = new XMLDocument(text);\n\nvar sysIds = xmlDoc.getElementsByTagName(\"childrenOfCurrentCI\")[0].getElementsByTagName(\"sys_id\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 136, "user_id": 5834601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5abf0da6aa27b0e3c4199e374f96669?s=128&d=identicon&r=PG&f=1", "display_name": "BartDoe", "link": "https://stackoverflow.com/users/5834601/bartdoe"}, "is_accepted": false, "score": 0, "last_activity_date": 1534658218, "creation_date": 1534658218, "answer_id": 51914901, "question_id": 51866188, "link": "https://stackoverflow.com/questions/51866188/parse-a-highly-nested-xml-to-fetch-all-the-sys-ids-till-testbs4-for-each-chil/51914901#51914901", "title": "Parse a highly nested XML to fetch all the sys_id&#39;s till &#39;TestBS4&#39; for each child of `&lt;childrenOfCurrentCI&gt;` using recursion", "body": "<p>If you wish to retrieve sys_id of CI by its name from XML, I would suggest using XPath, which is ment for XML operaations. ServiceNow <code>XMLDocument2</code> object will help you parse your XML. Here is example code for your case</p>\n\n<pre><code>var xmlString = 'YOUR_XML';\nvar ciName = 'TestBS4';\nvar xPath = \"//CI/name[text() = '\" + ciName + \"']/../sys_id/text()\";\n\nvar xmlDoc = new XMLDocument2();\nxmlDoc.parseXML(xmlString);\n\nvar sysID = xmlDoc.getNode(xPath).toString();\ngs.log(sysID);\n</code></pre>\n\n<p>The XPath used in <code>getNode</code> method looks for <code>CI/name</code> node in XML that has value of <code>ciName</code> variable. Then goes one node up to retrieve value of <code>sys_id</code> node.</p>\n"}], "owner": {"reputation": 27, "user_id": 7056325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70e84088307df5ce8fe2a286891c764b?s=128&d=identicon&r=PG&f=1", "display_name": "777", "link": "https://stackoverflow.com/users/7056325/777"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 504, "favorite_count": 1, "accepted_answer_id": 51866840, "answer_count": 2, "score": 1, "last_activity_date": 1534658218, "creation_date": 1534365998, "last_edit_date": 1534401453, "question_id": 51866188, "link": "https://stackoverflow.com/questions/51866188/parse-a-highly-nested-xml-to-fetch-all-the-sys-ids-till-testbs4-for-each-chil", "title": "Parse a highly nested XML to fetch all the sys_id&#39;s till &#39;TestBS4&#39; for each child of `&lt;childrenOfCurrentCI&gt;` using recursion", "body": "<h2>Tool: ServiceNow. Language: JavaScript</h2>\n\n<p>My approach: I am iterating using a while loop at each level to reach the sys_id of '<strong>TestBS4</strong>', I have to put 4 while loops one inside the other once I have the first <code>&lt;CI&gt;...&lt;/CI&gt;</code> node inside <code>&lt;childrenOfCurrentCI&gt;</code> tag. I feel this can be done through recursion, but I am unable to. </p>\n\n<p>What if I have like 50 CI child one inside the other (not siblings), and I need the 45th one? I'd appreciate someone's help to achieve this using recursion.\nThe sys_id's can be put in an array for further processing. </p>\n\n<p><em>In this case, I need all the sys_id's till the 4th level (TestBS4) of each child of</em> <code>&lt;childrenOfCurrentCI&gt;</code> <em>tag.</em> </p>\n\n<hr>\n\n<p>Below is the sample XML.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;xmlTree&gt;\n   &lt;sys_id&gt;e9c23f4adbf31300ae2af28239961974&lt;/sys_id&gt;\n   &lt;name&gt;Test CI One&lt;/name&gt;\n   &lt;relType&gt;SELF&lt;/relType&gt;\n   &lt;childrenOfCurrentCI&gt;\n      &lt;CI&gt;\n         &lt;sys_id&gt;68b1b746dbf31300ae2af2823996197a&lt;/sys_id&gt;\n         &lt;name&gt;TestBS1&lt;/name&gt;\n         &lt;relType&gt;Depends on::Used by&lt;/relType&gt;\n         &lt;children&gt;\n            &lt;CI&gt;\n               &lt;sys_id&gt;964477cedbf31300ae2af28239961913&lt;/sys_id&gt;\n               &lt;name&gt;TestBS2&lt;/name&gt;\n               &lt;relType&gt;Depends on::Used by&lt;/relType&gt;\n               &lt;children&gt;\n                  &lt;CI&gt;\n                     &lt;sys_id&gt;88643fcedbf31300ae2af2823996190b&lt;/sys_id&gt;\n                     &lt;name&gt;TestBS3&lt;/name&gt;\n                     &lt;relType&gt;Depends on::Used by&lt;/relType&gt;\n                     &lt;children&gt;\n                        &lt;CI&gt;\n                           &lt;sys_id&gt;0264f7cedbf31300ae2af28239961971&lt;/sys_id&gt;\n                           &lt;name&gt;TestBS4&lt;/name&gt;\n                           &lt;relType&gt;Depends on::Used by&lt;/relType&gt;\n                           &lt;children&gt;\n                              &lt;CI&gt;\n                                 &lt;sys_id&gt;fb64ffcedbf31300ae2af282399619e8&lt;/sys_id&gt;\n                                 &lt;name&gt;TestBS5&lt;/name&gt;\n                                 &lt;relType&gt;Depends on::Used by&lt;/relType&gt;\n                              &lt;/CI&gt;\n                           &lt;/children&gt;\n                        &lt;/CI&gt;\n                     &lt;/children&gt;\n                  &lt;/CI&gt;\n               &lt;/children&gt;\n            &lt;/CI&gt;\n         &lt;/children&gt;\n      &lt;/CI&gt;\n      &lt;CI&gt;\n         &lt;sys_id&gt;ae1ff02fdbfb1300ae2af2823996195d&lt;/sys_id&gt;\n         &lt;name&gt;Test Side Parent One&lt;/name&gt;\n         &lt;relType&gt;Depends on::Used by&lt;/relType&gt;\n      &lt;/CI&gt;\n   &lt;/childrenOfCurrentCI&gt;\n&lt;/xmlTree&gt;\n</code></pre>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 148, "user_id": 4776897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7lol5.jpg?s=128&g=1", "display_name": "Jeevan MB", "link": "https://stackoverflow.com/users/4776897/jeevan-mb"}, "edited": false, "score": 0, "creation_date": 1534366105, "post_id": 51866178, "comment_id": 90684600, "body": "It would be great, if you can share a fiddle of your code. It will be easier to help you in that case"}, {"owner": {"reputation": 9, "user_id": 10231210, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-g42ezNDeORU/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNNgmYR-R-hFAcpt8QMRy6FH04Buw/mo/photo.jpg?sz=128", "display_name": "turtlebox1", "link": "https://stackoverflow.com/users/10231210/turtlebox1"}, "reply_to_user": {"reputation": 148, "user_id": 4776897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7lol5.jpg?s=128&g=1", "display_name": "Jeevan MB", "link": "https://stackoverflow.com/users/4776897/jeevan-mb"}, "edited": false, "score": 0, "creation_date": 1534366603, "post_id": 51866178, "comment_id": 90684787, "body": "@JeevanMB I did:)"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 10231210, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-g42ezNDeORU/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNNgmYR-R-hFAcpt8QMRy6FH04Buw/mo/photo.jpg?sz=128", "display_name": "turtlebox1", "link": "https://stackoverflow.com/users/10231210/turtlebox1"}, "edited": false, "score": 0, "creation_date": 1534367055, "post_id": 51866310, "comment_id": 90684963, "body": "how? I mean, I tried to implement that, but it caused more issues.. could I get an example?"}, {"owner": {"reputation": 9, "user_id": 10231210, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-g42ezNDeORU/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNNgmYR-R-hFAcpt8QMRy6FH04Buw/mo/photo.jpg?sz=128", "display_name": "turtlebox1", "link": "https://stackoverflow.com/users/10231210/turtlebox1"}, "edited": false, "score": 0, "creation_date": 1534367592, "post_id": 51866310, "comment_id": 90685170, "body": "that seems to make the first test on success wrong. (if i test it with &#39;99&#39; it displays in red when it should in green)"}, {"owner": {"reputation": 2494, "user_id": 8659598, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bZpWy.png?s=128&g=1", "display_name": "MichaelvE", "link": "https://stackoverflow.com/users/8659598/michaelve"}, "reply_to_user": {"reputation": 9, "user_id": 10231210, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-g42ezNDeORU/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNNgmYR-R-hFAcpt8QMRy6FH04Buw/mo/photo.jpg?sz=128", "display_name": "turtlebox1", "link": "https://stackoverflow.com/users/10231210/turtlebox1"}, "edited": false, "score": 0, "creation_date": 1534368486, "post_id": 51866310, "comment_id": 90685470, "body": "It was toggling the danger class as well, which was overriding success again. Try:           if(GPA &lt; 2.5) {             if (colorCheck != &quot;red&quot; || colorCheck == &quot;&quot;){                  $(color).removeClass(&quot;text-success&quot;);                  $(color).addClass(&quot;text-danger&quot;);                  colorCheck = &quot;red&quot;;             }           } else {               if (colorCheck != &quot;green&quot;) {                   $(color).removeClass(&quot;text-danger&quot;);                    $(color).addClass(&quot;text-success&quot;);                    colorCheck = &quot;green&quot;;               }                       }"}], "tags": [], "owner": {"reputation": 2494, "user_id": 8659598, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bZpWy.png?s=128&g=1", "display_name": "MichaelvE", "link": "https://stackoverflow.com/users/8659598/michaelve"}, "is_accepted": false, "score": 0, "last_activity_date": 1534366587, "creation_date": 1534366587, "answer_id": 51866310, "question_id": 51866178, "link": "https://stackoverflow.com/questions/51866178/text-color-changes-on-button-but-not-every-time/51866310#51866310", "title": "Text color changes on button, but not every time", "body": "<p>Your class has both text-danger and text-success. You must toggle text-danger to remove it as well.</p>\n\n<pre><code>        if(GPA &lt; 2.5)\n    //above a 2.5 is considered non-danger zone, to me.\n      {\n        console.log(\"danger\");\n          console.log(colorCheck);\n         if (colorCheck != \"red\")\n        { \n        color.classList.toggle(\"text-danger\"); \n        colorCheck = \"red\";\n            console.log(colorCheck);\n        }\n      }\n      else\n        {\n          console.log(\"success\");\n            console.log(colorCheck);\n          if (colorCheck != \"green\") {\n            color.classList.toggle(\"text-danger\"); \n            color.classList.toggle(\"text-success\"); \n          colorCheck = \"green\";\n              console.log(colorCheck);\n      }\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1322, "user_id": 8272877, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b32912d6c0ac118b3a76a01ddc436bfa?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Chubbuck", "link": "https://stackoverflow.com/users/8272877/adam-chubbuck"}, "is_accepted": false, "score": 0, "last_activity_date": 1534366697, "creation_date": 1534366697, "answer_id": 51866334, "question_id": 51866178, "link": "https://stackoverflow.com/questions/51866178/text-color-changes-on-button-but-not-every-time/51866334#51866334", "title": "Text color changes on button, but not every time", "body": "<p>You are not removing <code>text-danger</code>. Remove this or else it will overwrite <code>text-success</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 10231210, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-g42ezNDeORU/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNNgmYR-R-hFAcpt8QMRy6FH04Buw/mo/photo.jpg?sz=128", "display_name": "turtlebox1", "link": "https://stackoverflow.com/users/10231210/turtlebox1"}, "is_accepted": false, "score": 0, "last_activity_date": 1534368911, "creation_date": 1534368911, "answer_id": 51866781, "question_id": 51866178, "link": "https://stackoverflow.com/questions/51866178/text-color-changes-on-button-but-not-every-time/51866781#51866781", "title": "Text color changes on button, but not every time", "body": "<p>Thanks guys! I had to toggle <code>text-danger</code> off, and conditionally consider the variable of the color before changing it or toggling anything. Here is the changed piece of code: <br></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>if (!isNaN(GPA)) {\r\n          if(GPA &lt; 2.5)\r\n        //above a 2.5 is considered non-danger zone, to me.\r\n          {\r\n            console.log(\"danger\");\r\n              console.log(colorCheck);\r\n              \r\n             if (colorCheck != \"red\")\r\n            { \r\n                if (colorCheck != \"green\")\r\n                {\r\n                    color.classList.toggle(\"text-danger\"); \r\n                    colorCheck = \"red\";\r\n                    console.log(colorCheck + \"1\");\r\n                }\r\n                else {\r\n                    color.classList.toggle(\"text-success\");\r\n                    color.classList.toggle(\"text-danger\"); \r\n                    colorCheck = \"red\";\r\n                    console.log(colorCheck);\r\n                }\r\n            }\r\n          }\r\n          else\r\n            {\r\n              console.log(\"success\");\r\n                console.log(colorCheck);\r\n                \r\n              if (colorCheck != \"green\") \r\n              {\r\n                  if (colorCheck != \"red\")\r\n                  {\r\n                      color.classList.toggle(\"text-success\"); \r\n                       colorCheck = \"green\";\r\n                       console.log(colorCheck + \"1\");  \r\n                  }\r\n                  else {\r\n                  color.classList.toggle(\"text-danger\");\r\n                  color.classList.toggle(\"text-success\"); \r\n                  colorCheck = \"green\";\r\n                  console.log(colorCheck);\r\n                  }\r\n                  return colorCheck;\r\n              }\r\n              return colorCheck;\r\n          }\r\n              return colorCheck;\r\n          }\r\n        \r\n    });\r\n    </code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 9, "user_id": 10231210, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-g42ezNDeORU/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNNgmYR-R-hFAcpt8QMRy6FH04Buw/mo/photo.jpg?sz=128", "display_name": "turtlebox1", "link": "https://stackoverflow.com/users/10231210/turtlebox1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1534368911, "creation_date": 1534365960, "last_edit_date": 1534366558, "question_id": 51866178, "link": "https://stackoverflow.com/questions/51866178/text-color-changes-on-button-but-not-every-time", "title": "Text color changes on button, but not every time", "body": "<p>okay, so I'm new here and maybe I'm just tired from how long this has confused me, but here we go: <br/><br>\nOn a button click: <br>When the variable \"GPA\" is below 2.5, the text \"finalText\" should turn red. When it's 2.5 or above, it should turn green. I'm using bootstrap, and I've tried any number of solutions here. One thing that kept happening was that the color would change, but If I tried again, and the GPA was still in the same range, the color would cancel out. (i.e. if I entered 1 and GPA = 0.0, and then I entered 3 and the GPA was still 0.0, The text would change to red the first time, but change back to black the second time.) </p>\n\n<p>EDIT - okay i fixed the reverting to default, but if it changes to red it can't go back to green... any thoughts?</p>\n\n<p><a href=\"https://jsfiddle.net/turtlebox1/ze1c5uxr/#&amp;togetherjs=jR3i9EqGne\" rel=\"nofollow noreferrer\">https://jsfiddle.net/turtlebox1/ze1c5uxr/#&amp;togetherjs=jR3i9EqGne</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html lang=\"en\"&gt;\r\n&lt;head&gt;\r\n&lt;title&gt;BIT 116&lt;/title&gt;\r\n&lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\"&gt;\r\n&lt;script type=\"text/javascript\"\r\n  src=\"https://code.jquery.com/jquery-3.3.1.js\"\r\n  integrity=\"sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=\"\r\n  crossorigin=\"anonymous\"&gt;&lt;/script&gt;\r\n\r\n&lt;style&gt;\r\n.jumbotron {\r\n\t/* Permalink - use to edit and share this gradient: http://colorzilla.com/gradient-editor/#9ee8fa+0,d6f9ff+100 */\r\n\tbackground: rgb(158,232,250); /* Old browsers */\r\n\tbackground: -moz-linear-gradient(top,  rgba(158,232,250,1) 0%, rgba(214,249,255,1) 100%); /* FF3.6+ */\r\n\tbackground: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(158,232,250,1)), color-stop(100%,rgba(214,249,255,1))); /* Chrome,Safari4+ */\r\n\tbackground: -webkit-linear-gradient(top,  rgba(158,232,250,1) 0%,rgba(214,249,255,1) 100%); /* Chrome10+,Safari5.1+ */\r\n\tbackground: -o-linear-gradient(top,  rgba(158,232,250,1) 0%,rgba(214,249,255,1) 100%); /* Opera 11.10+ */\r\n\tbackground: -ms-linear-gradient(top,  rgba(158,232,250,1) 0%,rgba(214,249,255,1) 100%); /* IE10+ */\r\n\tbackground: linear-gradient(to bottom,  rgba(158,232,250,1) 0%,rgba(214,249,255,1) 100%); /* W3C */\r\n\tfilter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#9ee8fa', endColorstr='#d6f9ff',GradientType=0 ); /* IE6-9 */\r\n\r\n}\r\n&lt;/style&gt;\r\n&lt;meta charset=\"utf-8\"&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;!-- the 'fluid' container should span the width of the page --&gt;\r\n&lt;div class=\"container-fluid\" &gt;\r\n\r\n&lt;div class=\"page-header\"&gt;\r\n\r\n\t&lt;div class=\"jumbotron text-center\"&gt;\r\n\t\t&lt;h1&gt;Melia Taylor&lt;/h1&gt;&lt;/div&gt;\r\n&lt;!-- Horizontal list of menus across the top: --&gt;\r\n&lt;/div&gt;\r\n\r\n    &lt;h2 class=\"text-center\" id=\"greeting\"&gt;greeting&lt;/h2&gt;\r\n\t&lt;h3 class=\"text-center\"&gt;GPA Calculator&lt;/h3&gt;\r\n    &lt;br/&gt;\r\n    &lt;form&gt;\r\n    &lt;p&gt;Please Enter your grade (In the format \"93\" for 93%, etc.)&lt;/p&gt;\r\n    &lt;input type=\"text\" id=\"gradeInput\"&gt;\r\n    &lt;input type=\"button\" id=\"feedback\" value=\"Click Here To See Your GPA!\"&gt;\r\n    &lt;/form&gt;\r\n    \r\n    &lt;p id=\"finalText\"&gt;finaltext&lt;/p&gt;\r\n&lt;/div&gt; \r\n&lt;script type=\"text/javascript\"&gt;\r\n    var gradeV;\r\n    \r\n    var GPA;\r\n    \r\n    var colorCheck;\r\n    \r\n    var color;\r\n    \r\n    $(\"#greeting\").hide();\r\n    \r\n    $(\"#finalText\").hide();\r\n    \r\n    function midGrades(gradeV) {\r\n                    return (((gradeV-65) * .1 ) + 1);\r\n                console.log(midGrades(gradeV));\r\n                }\r\n    \r\n    $(document).ready(function() {\r\n        var nameString = prompt(\"What is your name?\", \"\");\r\n        \r\n        console.log(nameString);\r\n        \r\n            if(nameString == null || nameString === \"\")\r\n            {\r\n                console.log(\"Name is null or undefined\");\r\n            }\r\n            else {\r\n            document.getElementById(\"greeting\").innerHTML = (\"Welcome to TellMeMyGrade, \" + nameString + \"!\");\r\n            $(\"#greeting\").show();\r\n            alert(\"Welcome to TellMeMyGrade, \" + nameString + \"!\");\r\n            }\r\n    });\r\n    \r\n    color = document.getElementById(\"finalText\");  \r\n           $(\"#feedback\").click(function() {\r\n\r\n        var grade = ($(\"#gradeInput\").val());\r\n        \r\n          \r\n        gradeV = parseFloat(grade);\r\n          \r\n        console.log(gradeV);\r\n          \r\n            if(gradeV &lt;= 0 || isNaN(gradeV) || (Math.floor(gradeV) &lt;= 0))\r\n            {\r\n                alert(\"Please re-enter your grade in the correct format.\");\r\n            }\r\n          \r\n            if((gradeV &gt; 0) &amp;&amp; (gradeV &lt; 62))\r\n            {\r\n               $(\"#finalText\").hide(); document.getElementById(\"finalText\").innerHTML = (\"Your Grade for this class is a 0.0\");\r\n               GPA = 0.0;\r\n        $(\"#finalText\").show();\r\n            }\r\n          \r\n          \r\n          if((gradeV &gt;=62) &amp;&amp; (gradeV &lt;= 65))\r\n            {\r\n                 $(\"#finalText\").hide();\r\n                document.getElementById(\"finalText\").innerHTML = (\"Your Grade for this class is a 1.0\");\r\n               \r\n                GPA = 1.0;\r\n            $(\"#finalText\").show();\r\n            }\r\n            if((gradeV &gt; 65) &amp;&amp; (gradeV &lt; 95))\r\n            {\r\n                $(\"#finalText\").hide();\r\n                document.getElementById(\"finalText\").innerHTML = (\"Your Grade for this class is a \" + midGrades(gradeV).toFixed(1));\r\n                 \r\n               GPA = midGrades(gradeV);\r\n                $(\"#finalText\").show();\r\n            }\r\n             if(gradeV &gt;= 95) \r\n            {\r\n               $(\"#finalText\").hide(); document.getElementById(\"finalText\").innerHTML = (\"Your Grade for this class is a 4.0\");\r\n               \r\n                GPA = 4.0;\r\n                $(\"#finalText\").show();\r\n            }\r\n          \r\n                      \r\n             console.log(\"GPA: \" + GPA);\r\n          \r\n          if(GPA &lt; 2.5)\r\n        //above a 2.5 is considered non-danger zone, to me.\r\n          {\r\n            console.log(\"danger\");\r\n              console.log(colorCheck);\r\n             if (colorCheck != \"red\")\r\n            { \r\n            color.classList.toggle(\"text-danger\"); \r\n            colorCheck = \"red\";\r\n                console.log(colorCheck);\r\n            }\r\n          }\r\n          else\r\n            {\r\n              console.log(\"success\");\r\n                console.log(colorCheck);\r\n              if (colorCheck != \"green\") {\r\n              color.classList.toggle(\"text-success\"); \r\n              colorCheck = \"green\";\r\n                  console.log(colorCheck);\r\n          }\r\n            \r\n          }\r\n        \r\n    });\r\n    \r\n&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;                                \t\t                                \t\t</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "arrays", "node.js", "cheerio"], "comments": [{"owner": {"reputation": 663, "user_id": 734329, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/QUivd.jpg?s=128&g=1", "display_name": "Dennis Guse", "link": "https://stackoverflow.com/users/734329/dennis-guse"}, "edited": false, "score": 0, "creation_date": 1534366221, "post_id": 51866176, "comment_id": 90684647, "body": "Why don&#39;t you start the request sequentially? So, at the end of your request handler?"}, {"owner": {"reputation": 47898, "user_id": 966023, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/917fcb4327159076f752c0c3c3fddfbb?s=128&d=identicon&r=PG", "display_name": "pguardiario", "link": "https://stackoverflow.com/users/966023/pguardiario"}, "edited": false, "score": 0, "creation_date": 1534382209, "post_id": 51866176, "comment_id": 90688617, "body": "It&#39;s because y has changed by the time your callback runs. Try using <code>numbers.map(n =&gt; {})</code> instead, now n is the number you want."}], "answers": [{"tags": [], "owner": {"reputation": 148, "user_id": 4776897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7lol5.jpg?s=128&g=1", "display_name": "Jeevan MB", "link": "https://stackoverflow.com/users/4776897/jeevan-mb"}, "is_accepted": false, "score": 0, "last_activity_date": 1534367845, "creation_date": 1534367845, "answer_id": 51866565, "question_id": 51866176, "link": "https://stackoverflow.com/questions/51866176/array-element-undefined-timing-issue/51866565#51866565", "title": "Array element undefined timing issue?", "body": "<p>You are doing request() call, which is an async call. So, it will not be in order.\nHere is a simpler example which I will use to explain the alternatives.</p>\n\n<p>Using timeout to a different time interval to mimic the request call.</p>\n\n<pre><code>var numbers = [\"2202917\",\n\"2205112\",\n\"3514318\",\n\"3514561\",\n\"3585503\",\n\"3585704\",\n\"3610075\",\n\"5132753\",\n\"5247359\",\n\"5247360\"];\n\n/*\nfor (var y=0; y &lt; numbers.length; y++) {\n  setTimeout(function(error, response, html) {\n\n    // the problem here is that it is referring a closure variable. The value of y keeps changing outside, and is not the same as the one you called it with.\n    // In this particular case, the value of y = numbers.length, and hence the undefined output\n\n    console.log(numbers[y]);\n\n  }, y % 100);\n}\n*/\n\n// Alternative 1\n// A better way would be like this\nfor (var y=0; y &lt; numbers.length; y++) {\n  // doRequest(numbers[y]);\n}\n\nfunction doRequest(partNumber) {\n  setTimeout(function(error, response, html) {\n    console.log(partNumber);    \n  }, partNumber % 100); \n}\n\n// end: Alternative 1\n\n// Alternative 2\n// in case you want it to be in sync\nasync function doSomething() {\n  for (var y = 0; y &lt; numbers.length; y++) {\n    await doPromiseRequest(numbers[y]);\n  }\n}\n\nfunction doPromiseRequest(partNumber) {\n  return new Promise((resolve, reject) =&gt; {\n    setTimeout(function(error, response, html) {\n\n      console.log(partNumber);\n      resolve();\n\n    }, partNumber % 100); \n  });\n}\n\ndoSomething();\n\n// end Alternative 2\n\n/*\n\nanother alternative is not calling a separate function, but executing an anonymous function in the loop itself. It is not clean at all and not recommended.\n\nfor (var y = 0; y &lt; numbers.length; y++) {\n  (function (y) {\n    setTimeout(function(error, response, html) {\n\n      // the problem here is that it is referring a closure variable. The value of y keeps changing outside, and is not the same as the one you called it with\n      console.log(numbers[y]);\n\n    }, y % 100);\n  })(y);\n}\n\n*/\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 4149946, "user_type": "registered", "accept_rate": 42, "profile_image": "https://lh6.googleusercontent.com/-lTHwIlAPwvc/AAAAAAAAAAI/AAAAAAAAEAE/_Ba51jaDRoA/photo.jpg?sz=128", "display_name": "Garrett Penfield", "link": "https://stackoverflow.com/users/4149946/garrett-penfield"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "closed_date": 1534367970, "answer_count": 1, "score": -1, "last_activity_date": 1534367845, "creation_date": 1534365953, "last_edit_date": 1534366175, "question_id": 51866176, "link": "https://stackoverflow.com/questions/51866176/array-element-undefined-timing-issue", "closed_reason": "Duplicate", "title": "Array element undefined timing issue?", "body": "<p>So I've been playing around with web scraping, I have this mostly working but when I try outputing the array elements they are all undefined (see output at the bottom). I feel like it may be related to a timing issue, I say that because the prices are never in the same order like the requests take different amounts of time to be answered. IF that is the issue how do I get them in sync? Thanks!</p>\n\n<pre><code>const request = require('request');\nconst cheerio = require('cheerio');\nconst fs = require('fs');\nconst writeStream = fs.createWriteStream('post.csv');\n\nvar numbers = [\"2202917\",\n\"2205112\",\n\"3514318\",\n\"3514561\",\n\"3585503\",\n\"3585704\",\n\"3610075\",\n\"5132753\",\n\"5247359\",\n\"5247360\"];\n\nvar y =0;\nvar partNumber1 =\"\";\nvar price1 =\"\";\n\nwriteStream.write('PartNumber,Price \\n');\n\nfor (y=0; y &lt; numbers.length; y++){\n  request(url + numbers[y], function(error, response, html) {\n      if (!error &amp;&amp; response.statusCode == 200) {\n      const $ = cheerio.load(html);\n      price1 =$('.price').text().replace(/\\s\\s+/g,'');\n      partNumber1 =numbers[y];\n      console.log(partNumber1,' ',price1);\n      writeStream.write(`${partNumber1}, ${price1} \\n`);\n    }\n  });\n}\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>C:\\Program Files\\nodejs&gt;node mp2.js\nundefined ' ' '$8.99'\nundefined ' ' '$127.88'\nundefined ' ' '$43.22'\nundefined ' ' '$27.38'\nundefined ' ' '$21.41'\nundefined ' ' '$41.46'\nundefined ' ' '$21.57'\nundefined ' ' '$47.99'\nundefined ' ' '$1267.30'\nundefined ' ' '$22.04'\n\nC:\\Program Files\\nodejs&gt;\n</code></pre>\n"}, {"tags": ["javascript", "request", "async-await", "return"], "comments": [{"owner": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 0, "creation_date": 1534366070, "post_id": 51866134, "comment_id": 90684580, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/23667086/why-is-my-variable-unaltered-after-i-modify-it-inside-of-a-function-asynchron\">Why is my variable unaltered after I modify it inside of a function? - Asynchronous code reference</a>"}, {"owner": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "edited": false, "score": 1, "creation_date": 1534366618, "post_id": 51866134, "comment_id": 90684794, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call\">How do I return the response from an asynchronous call?</a>"}, {"owner": {"reputation": 11, "user_id": 10231216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e32162acd21d0c4ef72e93df35ecc45b?s=128&d=identicon&r=PG&f=1", "display_name": "anderscodes", "link": "https://stackoverflow.com/users/10231216/anderscodes"}, "edited": false, "score": 0, "creation_date": 1534373044, "post_id": 51866134, "comment_id": 90686716, "body": "Thanks- these are helpful but I&#39;m still unsure where I should put the callback. I&#39;ve edited the original post for more info"}], "owner": {"reputation": 11, "user_id": 10231216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e32162acd21d0c4ef72e93df35ecc45b?s=128&d=identicon&r=PG&f=1", "display_name": "anderscodes", "link": "https://stackoverflow.com/users/10231216/anderscodes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1534372990, "creation_date": 1534365783, "last_edit_date": 1534372990, "question_id": 51866134, "link": "https://stackoverflow.com/questions/51866134/returning-data-from-an-api-request-in-javascript", "title": "Returning data from an api request in Javascript", "body": "<p>I'm fairly new to JavaScript and api calls and I've been struggling to return an array of values from an api call. My code is as follows: </p>\n\n<pre><code>module.exports = function api() {\n\n  const array = []\n\n  function loop(result) {\n    const array2 = [];\n    for (let i = 0; i &lt; result.length; i++) {\n        array2.push(result[i].id);\n    }  \n     return array2;  \n  }\n\n  request(options, async (error, response, body) =&gt; {\n    if (error) throw new Error(error);\n    const result = body.results[0].results;\n    const loop2 = await loop(result);\n    array.push(loop2);\n    console.log(array)\n  });\n  return array\n};\n</code></pre>\n\n<p>So all I'm trying to do is return the array after the API request has pushed the results to the array. </p>\n\n<p>When I console.log the array within the request I can see the correct response but I can't work out how to return the array after the request has been completed.</p>\n\n<p>I have tried turning the module into an async function and awaiting \nthe request but that has the same effect. </p>\n\n<p>Edit -- after reading some of the comments I think I should be more specific about the issue. I'm not sure how to implement a callback with the request above. I've tried the following but it doesn't seem to work.</p>\n\n<pre><code>    module.exports = function api() {\n\n      function loop(result) {\n        const array2 = [];\n        for (let i = 0; i &lt; result.length; i++) {\n          array2.push(result[i].id);\n        }\n      return array2;\n      }\n\n     request(options, request1(error, response, body, requestResponse));\n\n     async function request1(error, response, body, callback){\n     if (error) throw new Error(error);\n     const result = body.results[0].results;\n     const loop2 = await loop(result);\n     callback();\n     }\n\n     function requestResponse() {\n     console.log(loop2)\n     }\n\n   };\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "twitter-bootstrap", "jquery-nestable"], "comments": [{"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1534367541, "post_id": 51866112, "comment_id": 90685151, "body": "<code>menutip</code> is <code>var</code> scoped to the method that processes the bs.tab event.  It&#39;s not a global variable.  So any change you make to it will not exist when you get to the <code>deleteFromMenu</code> function.  If you want it to be more global, take the var off of the variable, and declare it as a var at a higher scope that is shared by both methods."}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1534367626, "post_id": 51866112, "comment_id": 90685185, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/500431/what-is-the-scope-of-variables-in-javascript\">What is the scope of variables in JavaScript?</a>"}, {"owner": {"reputation": 11, "user_id": 10231247, "user_type": "registered", "profile_image": "https://graph.facebook.com/1497446183734514/picture?type=large", "display_name": "\u0130smail &#199;ilo\u011flu", "link": "https://stackoverflow.com/users/10231247/%c4%b0smail-%c3%87ilo%c4%9flu"}, "reply_to_user": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1534367632, "post_id": 51866112, "comment_id": 90685189, "body": "Taplar go to the live demo before &#252;st men&#252; click after alt men&#252;  click  last x (delete button) click show alert problem"}], "owner": {"reputation": 11, "user_id": 10231247, "user_type": "registered", "profile_image": "https://graph.facebook.com/1497446183734514/picture?type=large", "display_name": "\u0130smail &#199;ilo\u011flu", "link": "https://stackoverflow.com/users/10231247/%c4%b0smail-%c3%87ilo%c4%9flu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1534368069, "creation_date": 1534365679, "last_edit_date": 1534368069, "question_id": 51866112, "link": "https://stackoverflow.com/questions/51866112/bootstrap-tab-menu-switch-do-not-change-variable", "title": "Bootstrap tab menu switch do not change variable", "body": "<p>Hi I use Bootstrap tab menu and <a href=\"https://github.com/ShinDarth/Nestable\" rel=\"nofollow noreferrer\">ShinDarth's Nestable++ menu editor</a> \nMy problem <a href=\"http://davulgakoyu.com/menu/\" rel=\"nofollow noreferrer\">live demo</a> </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>$(\"a[data-toggle='tab']\").on(\"shown.bs.tab\", function(e) {\n  var hedef = $(e.target).attr(\"href\");\n  alert(hedef);\n  if (hedef == \"#footmenu\") {\n    var nestabad = \"#nestable2\";\n    var menutip = \"alt\";\n    var nestableList = $(\"#nestable2 &gt; .dd-list\");\n  } else if (hedef == \"#headmenu\") {\n    var nestabad = \"#nestable\";\n    var menutip = \"ust\";\n    var nestableList = $(\"#nestable &gt; .dd-list\");\n  }\n});\nvar deleteFromMenu = function () {\n  var targetId = $(this).data('owner-'+menutip+'-id');\n  alert(JSON.stringify($(this).data()));\n  var target = $('[data-'+menutip+'-id=\"' + targetId + '\"]');\n  alert(JSON.stringify(target));\n  var result = confirm(\"Delete \" + target.data('name') + \" and all its subitems ?\");\n\n  if (!result) {\n    return;\n  }\n\n  // Remove children (if any)\n  target.find(\"li\").each(function () {\n    deleteFromMenuHelper($(this));\n  });\n\n  // Remove parent\n  deleteFromMenuHelper(target);\n    target.data();\n  // update JSON\n  updateOutput($('#nestable2').data('output', $('#json-output2')));\n  updateOutput($('#nestable').data('output', $('#json-output')));\n};\n</code></pre>\n\n\n\n<p>always tabs menu change menutip variable defined.\nI delete menu link  before switch menu page menutip defined.\n<a href=\"https://i.hizliresim.com/OD8BW4.jpg\" rel=\"nofollow noreferrer\">TWO confirm</a>(1.undefined variable,2.defined variable) after menu link deleted </p>\n\n<p>Help me!</p>\n"}, {"tags": ["javascript", "html", "css", "flexbox", "bootstrap-4"], "comments": [{"owner": {"reputation": 3137, "user_id": 769780, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8d304533e14751ca81cce27f550db8a1?s=128&d=identicon&r=PG", "display_name": "worc", "link": "https://stackoverflow.com/users/769780/worc"}, "edited": false, "score": 0, "creation_date": 1534366398, "post_id": 51866100, "comment_id": 90684711, "body": "looks more like a row flex than a column. is there a particular reason it needs to be column?"}, {"owner": {"reputation": 2079, "user_id": 1020254, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/a9d9926b83e28654558bd1fdbf9c2804?s=128&d=identicon&r=PG", "display_name": "Sophie Rhodes", "link": "https://stackoverflow.com/users/1020254/sophie-rhodes"}, "reply_to_user": {"reputation": 3137, "user_id": 769780, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8d304533e14751ca81cce27f550db8a1?s=128&d=identicon&r=PG", "display_name": "worc", "link": "https://stackoverflow.com/users/769780/worc"}, "edited": false, "score": 0, "creation_date": 1534366517, "post_id": 51866100, "comment_id": 90684756, "body": "@worc it just needs to fit into two columns like the example shhown, is taht possible with row flex?"}, {"owner": {"reputation": 293125, "user_id": 171456, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/B1qTo.jpg?s=128&g=1", "display_name": "Zim", "link": "https://stackoverflow.com/users/171456/zim"}, "edited": false, "score": 1, "creation_date": 1534420393, "post_id": 51866100, "comment_id": 90704025, "body": "flexbox row would order left to right, but then the &quot;masonry&quot; effect of the columns won&#39;t work as flexbox rows are the same heigh"}], "owner": {"reputation": 2079, "user_id": 1020254, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/a9d9926b83e28654558bd1fdbf9c2804?s=128&d=identicon&r=PG", "display_name": "Sophie Rhodes", "link": "https://stackoverflow.com/users/1020254/sophie-rhodes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 385, "favorite_count": 0, "closed_date": 1534420089, "answer_count": 0, "score": 0, "last_activity_date": 1534420316, "creation_date": 1534365621, "last_edit_date": 1534366798, "question_id": 51866100, "link": "https://stackoverflow.com/questions/51866100/flex-box-two-columns-wrap", "closed_reason": "Duplicate", "title": "Flex box two columns wrap", "body": "<p>I am trying to convert utilise flexbox to provide a 2 column wrapped cards.</p>\n\n<p><strong>Example</strong>:</p>\n\n<pre><code>[1] [2]\n[3] [4]\n[5] [6]\n</code></pre>\n\n<p>At the moment, i don't think its possible with all of what i've read as currently i am able to create the following:</p>\n\n<pre><code>[1] [4]\n[2] [5]\n[3] [6]\n</code></pre>\n\n<p>I have attempted the below but unfortunately, i cant seem to get the side to side option working automatically.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.card-columns-extra {\r\n    column-count: 2;\r\n    column-gap: 1.25rem;\r\n    orphans: 1;\r\n    widows: 1;\r\n    flex-direction: column;\r\n    flex-wrap: wrap;\r\n    justify-content: flex-start;\r\n    align-content: space-between;\r\n    align-items: flex-start;\r\n}\r\n\r\n.card {\r\n    width: 100%;\r\n    position: relative;\r\n    display: flex;\r\n    flex-direction: column;\r\n    min-width: 0;\r\n    word-wrap: break-word;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css\" rel=\"stylesheet\"/&gt;\r\n&lt;div class=\"container\"&gt;\r\n  &lt;div class=\"card-columns-extra\"&gt;\r\n    &lt;div class=\"card\"&gt;\r\n      &lt;img class=\"card-img-top\" src=\"http://via.placeholder.com/1600x900/483D8B/ffffff?text=Card+1\" alt=\"Card image cap\"&gt;\r\n      &lt;div class=\"card-body\"&gt;\r\n        &lt;h5 class=\"card-title\"&gt;Card title that wraps to a new line&lt;/h5&gt;\r\n        &lt;p class=\"card-text\"&gt;This is a longer card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.&lt;/p&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"card p-3\"&gt;\r\n      &lt;blockquote class=\"blockquote mb-0 card-body\"&gt;\r\n        &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer posuere erat a ante.&lt;/p&gt;\r\n        &lt;footer class=\"blockquote-footer\"&gt;\r\n          &lt;small class=\"text-muted\"&gt;\r\n            Someone famous in &lt;cite title=\"Source Title\"&gt;Source Title&lt;/cite&gt;\r\n          &lt;/small&gt;\r\n        &lt;/footer&gt;\r\n      &lt;/blockquote&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"card\"&gt;\r\n      &lt;img class=\"card-img-top\" src=\"http://via.placeholder.com/1600x450/9400D3/ffffff?text=Card+2\" alt=\"Card image cap\"&gt;\r\n      &lt;div class=\"card-body\"&gt;\r\n        &lt;h5 class=\"card-title\"&gt;Card title&lt;/h5&gt;\r\n        &lt;p class=\"card-text\"&gt;This card has supporting text below as a natural lead-in to additional content.&lt;/p&gt;\r\n        &lt;p class=\"card-text\"&gt;&lt;small class=\"text-muted\"&gt;Last updated 3 mins ago&lt;/small&gt;&lt;/p&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"card bg-primary text-white text-center p-3\"&gt;\r\n      &lt;blockquote class=\"blockquote mb-0\"&gt;\r\n        &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer posuere erat.&lt;/p&gt;\r\n        &lt;footer class=\"blockquote-footer\"&gt;\r\n          &lt;small&gt;\r\n            Someone famous in &lt;cite title=\"Source Title\"&gt;Source Title&lt;/cite&gt;\r\n          &lt;/small&gt;\r\n        &lt;/footer&gt;\r\n      &lt;/blockquote&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"card text-center\"&gt;\r\n      &lt;div class=\"card-body\"&gt;\r\n        &lt;h5 class=\"card-title\"&gt;Card title&lt;/h5&gt;\r\n        &lt;p class=\"card-text\"&gt;This card has supporting text below as a natural lead-in to additional content.&lt;/p&gt;\r\n        &lt;p class=\"card-text\"&gt;&lt;small class=\"text-muted\"&gt;Last updated 3 mins ago&lt;/small&gt;&lt;/p&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"card\"&gt;\r\n      &lt;img class=\"card-img\" src=\"http://via.placeholder.com/1600x1600/FF1493/ffffff?text=Card+3\" alt=\"Card image\"&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"card p-3 text-right\"&gt;\r\n      &lt;blockquote class=\"blockquote mb-0\"&gt;\r\n        &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer posuere erat a ante.&lt;/p&gt;\r\n        &lt;footer class=\"blockquote-footer\"&gt;\r\n          &lt;small class=\"text-muted\"&gt;\r\n            Someone famous in &lt;cite title=\"Source Title\"&gt;Source Title&lt;/cite&gt;\r\n          &lt;/small&gt;\r\n        &lt;/footer&gt;\r\n      &lt;/blockquote&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"card\"&gt;\r\n      &lt;div class=\"card-body\"&gt;\r\n        &lt;h5 class=\"card-title\"&gt;Card title&lt;/h5&gt;\r\n        &lt;p class=\"card-text\"&gt;This is a wider card with supporting text below as a natural lead-in to additional content. This card has even longer content than the first to show that equal height action.&lt;/p&gt;\r\n        &lt;p class=\"card-text\"&gt;&lt;small class=\"text-muted\"&gt;Last updated 3 mins ago&lt;/small&gt;&lt;/p&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "performance"], "comments": [{"owner": {"reputation": 2497, "user_id": 4135063, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e7ad6fb5dc2f10279b43129570737497?s=128&d=identicon&r=PG", "display_name": "Pedro A", "link": "https://stackoverflow.com/users/4135063/pedro-a"}, "edited": false, "score": 2, "creation_date": 1534365609, "post_id": 51866062, "comment_id": 90684383, "body": "It depends. Are the ranges fixed? Will you be testing multiple numbers in the same ranges?"}, {"owner": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "edited": false, "score": 2, "creation_date": 1534365791, "post_id": 51866062, "comment_id": 90684443, "body": "Also define &quot;faster&quot;. Faster to code? Faster execution time?"}, {"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 0, "creation_date": 1534365798, "post_id": 51866062, "comment_id": 90684447, "body": "Okay so the distance of the ranges seem totally variable, and if it&#39;s in the range you just want them to return <code>true</code>?"}, {"owner": {"reputation": 77, "user_id": 6275297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/050a62ef298f4b93fdb4b52640af7dc0?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/6275297/john"}, "edited": false, "score": 0, "creation_date": 1534365803, "post_id": 51866062, "comment_id": 90684448, "body": "I forgot to clarify - the ranges are not fixed but variable. If a value is within the range, it must return true."}, {"owner": {"reputation": 14783, "user_id": 2071697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a7d1ded508aa80214b01298b83562406?s=128&d=identicon&r=PG", "display_name": "skyboyer", "link": "https://stackoverflow.com/users/2071697/skyboyer"}, "edited": false, "score": 1, "creation_date": 1534365877, "post_id": 51866062, "comment_id": 90684486, "body": "different ranges don&#39;t intersect with each other, is it correct assumption?"}, {"owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "edited": false, "score": 0, "creation_date": 1534365884, "post_id": 51866062, "comment_id": 90684490, "body": "You might do it in SQL"}, {"owner": {"reputation": 77, "user_id": 6275297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/050a62ef298f4b93fdb4b52640af7dc0?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/6275297/john"}, "reply_to_user": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "edited": false, "score": 0, "creation_date": 1534365904, "post_id": 51866062, "comment_id": 90684505, "body": "@mhodges at present I auto generate these conditional statements (too much to write) from the SQL database. Performance is the key metric."}, {"owner": {"reputation": 77, "user_id": 6275297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/050a62ef298f4b93fdb4b52640af7dc0?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/6275297/john"}, "reply_to_user": {"reputation": 14783, "user_id": 2071697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a7d1ded508aa80214b01298b83562406?s=128&d=identicon&r=PG", "display_name": "skyboyer", "link": "https://stackoverflow.com/users/2071697/skyboyer"}, "edited": false, "score": 0, "creation_date": 1534365931, "post_id": 51866062, "comment_id": 90684518, "body": "@skyboyer that is correct, there is no intersection."}, {"owner": {"reputation": 4233, "user_id": 6510523, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-d58ISqzIb4k/AAAAAAAAAAI/AAAAAAAADFo/4rh4L8K0zS0/photo.jpg?sz=128", "display_name": "Brett Beatty", "link": "https://stackoverflow.com/users/6510523/brett-beatty"}, "edited": false, "score": 0, "creation_date": 1534366018, "post_id": 51866062, "comment_id": 90684556, "body": "Since they don&#39;t intersect you may consider constructing a tree for the ranges if you&#39;re going to change the ranges significantly less than you&#39;ll check the condition."}, {"owner": {"reputation": 12486, "user_id": 5640649, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ab190da855988ffae29d287c7d55ebbe?s=128&d=identicon&r=PG", "display_name": "lealceldeiro", "link": "https://stackoverflow.com/users/5640649/lealceldeiro"}, "reply_to_user": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "edited": false, "score": 0, "creation_date": 1534366745, "post_id": 51866062, "comment_id": 90684842, "body": "@mhodges and I&#39;d add <i>&quot;faster to write&quot;?</i> :)"}], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 6275297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/050a62ef298f4b93fdb4b52640af7dc0?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/6275297/john"}, "edited": false, "score": 0, "creation_date": 1534366086, "post_id": 51866167, "comment_id": 90684589, "body": "Love how concise this is. I could probably speed this up by replacing .find with a for-loop too."}, {"owner": {"reputation": 101, "user_id": 4538603, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-S1yrkU2uGwU/AAAAAAAAAAI/AAAAAAAAAAA/8NdZxTJpk0o/photo.jpg?sz=128", "display_name": "Shaun H", "link": "https://stackoverflow.com/users/4538603/shaun-h"}, "reply_to_user": {"reputation": 77, "user_id": 6275297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/050a62ef298f4b93fdb4b52640af7dc0?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/6275297/john"}, "edited": false, "score": 0, "creation_date": 1534366285, "post_id": 51866167, "comment_id": 90684676, "body": "@John Find bails on first match, so you likely wouldn&#39;t see any improvement using a for loop."}, {"owner": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "reply_to_user": {"reputation": 101, "user_id": 4538603, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-S1yrkU2uGwU/AAAAAAAAAAI/AAAAAAAAAAA/8NdZxTJpk0o/photo.jpg?sz=128", "display_name": "Shaun H", "link": "https://stackoverflow.com/users/4538603/shaun-h"}, "edited": false, "score": 0, "creation_date": 1534366978, "post_id": 51866167, "comment_id": 90684932, "body": "@ShaunH Although I used a functional approach in my answer too, technically OP is right that functions produce stack overhead, so the for loop would be more efficient. That being said, if you are that concerned about performance, you either A: have tens/hundreds of millions of records, or B: probably should not be using JavaScript in the first place."}], "tags": [], "owner": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "is_accepted": false, "score": 3, "last_activity_date": 1534366124, "last_edit_date": 1534366124, "creation_date": 1534365907, "answer_id": 51866167, "question_id": 51866062, "link": "https://stackoverflow.com/questions/51866062/fastest-way-to-compare-a-number-to-a-list-of-numbers-in-a-range/51866167#51866167", "title": "Fastest way to compare a number to a list of numbers in a range?", "body": "<p>You could make an array of <code>[start, end]</code> arrays:</p>\n\n<pre><code>const ranges = [\n    [20, 31],\n    [45, 47],\n    [82, 86],\n    // \u2026\n    [1052, 1065],\n    [2400, 2500]\n  ];\n</code></pre>\n\n<p>Then use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find\" rel=\"nofollow noreferrer\"><code>Array.prototype.find</code></a> or <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some\" rel=\"nofollow noreferrer\"><code>Array.prototype.some</code></a> to find a range that a <code>value</code> is in (e.g. <code>let value = 2432;</code>):</p>\n\n<pre><code>ranges.find(([start, end]) =&gt; value &gt;= start &amp;&amp; value &lt;= end); // Returns `[2400, 2500]`, which is the range the value is in, or\n!!ranges.find(([start, end]) =&gt; value &gt;= start &amp;&amp; value &lt;= end); // Returns `true`, since the value is in a range, or\nranges.some(([start, end]) =&gt; value &gt;= start &amp;&amp; value &lt;= end); // Returns `true`, since the value is in a range, or\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14783, "user_id": 2071697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a7d1ded508aa80214b01298b83562406?s=128&d=identicon&r=PG", "display_name": "skyboyer", "link": "https://stackoverflow.com/users/2071697/skyboyer"}, "is_accepted": true, "score": 4, "last_activity_date": 1534366257, "creation_date": 1534366257, "answer_id": 51866244, "question_id": 51866062, "link": "https://stackoverflow.com/questions/51866062/fastest-way-to-compare-a-number-to-a-list-of-numbers-in-a-range/51866244#51866244", "title": "Fastest way to compare a number to a list of numbers in a range?", "body": "<p>So if ranges are unique and don't intersect with each other.\nThe fastest way to check I see to be next algo:</p>\n\n<ol>\n<li>make a list of pairs [start, end] or just use two separated lists for start points and end points.</li>\n<li>sort them(it could be done really easy on SQL side)</li>\n<li>using binary search find out first <code>start</code> value that is larger than your reference number</li>\n<li>previous item give your just single range you should check against your reference number.</li>\n</ol>\n\n<p>If sorting is done on DB side, then this algo will be O(logN) that is fast enough.</p>\n"}, {"tags": [], "owner": {"reputation": 105, "user_id": 6376513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/392eb14b9411c54d0611093019fb222e?s=128&d=identicon&r=PG&f=1", "display_name": "Stephen Flynn", "link": "https://stackoverflow.com/users/6376513/stephen-flynn"}, "is_accepted": false, "score": 0, "last_activity_date": 1534366858, "last_edit_date": 1534366858, "creation_date": 1534366483, "answer_id": 51866293, "question_id": 51866062, "link": "https://stackoverflow.com/questions/51866062/fastest-way-to-compare-a-number-to-a-list-of-numbers-in-a-range/51866293#51866293", "title": "Fastest way to compare a number to a list of numbers in a range?", "body": "<p>If you can do the query in sql and there is no intersection, then just have a table with all possible values between 1 and 65000 and have a bool column if the number is valid with indices.  You only really take a hit on an update performance wise.\nIn this case do:</p>\n\n<pre><code>Value isRange\n1     true\n</code></pre>\n\n<p>SELECT * FROM RangeTable where Value = @Value and isRange = true</p>\n\n<p>This optimizes for reading, however if you update frequently then this will not help.</p>\n\n<p>Are  you updating frequently?</p>\n"}, {"tags": [], "owner": {"reputation": 6857, "user_id": 464188, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/CWfXh.jpg?s=128&g=1", "display_name": "Bucket", "link": "https://stackoverflow.com/users/464188/bucket"}, "is_accepted": false, "score": 0, "last_activity_date": 1534366491, "creation_date": 1534366491, "answer_id": 51866294, "question_id": 51866062, "link": "https://stackoverflow.com/questions/51866062/fastest-way-to-compare-a-number-to-a-list-of-numbers-in-a-range/51866294#51866294", "title": "Fastest way to compare a number to a list of numbers in a range?", "body": "<p>You can certainly reduce the number of conditional statements you have to write. </p>\n\n<p>Assuming your \"from-to\" arrays arrive from the server in the form <code>[ [n1, n2], [n3, n4], ... ]</code>, you can loop over each of your ranges and <code>return</code> from the function once you have a match, or return false otherwise:</p>\n\n<pre><code>let ranges = [ [20, 31], [45, 47] ];\nlet valueInRange = 46;\nlet valueNotInRange = 33;\n\nfunction isValInRange(value, rangeArr) {\n    for(let i = 0; i &lt; rangeArr.length; i++) {\n        if(value &gt;= rangeArr[0] &amp;&amp; value &lt;= rangeArr[1]) {\n            return true;\n    }\n    return false;\n}\n\nconsole.log(isValInRange(valueInRange, ranges)); //true\nconsole.log(isValInRange(valueNotInRange, ranges)); //false\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4233, "user_id": 6510523, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-d58ISqzIb4k/AAAAAAAAAAI/AAAAAAAADFo/4rh4L8K0zS0/photo.jpg?sz=128", "display_name": "Brett Beatty", "link": "https://stackoverflow.com/users/6510523/brett-beatty"}, "is_accepted": false, "score": 0, "last_activity_date": 1534367136, "creation_date": 1534367136, "answer_id": 51866431, "question_id": 51866062, "link": "https://stackoverflow.com/questions/51866062/fastest-way-to-compare-a-number-to-a-list-of-numbers-in-a-range/51866431#51866431", "title": "Fastest way to compare a number to a list of numbers in a range?", "body": "<p>If you're going to be checking against these values significantly more than you'll update them, one option would be to construct a tree with the ranges and search it a little faster than iterating through all of the options. You will want to keep the tree balanced, though, or it won't do you much good.</p>\n\n<pre><code>/*\n  Construct this dynamically\n  min: range minimum\n  max: range maximum\n  lt: node for ranges less than this range\n  gt: node for ranges greater than this range\n  I'd probably make a class for this.\n*/\nconst ranges = {\n  min: 82,\n  max: 86,\n  lt: {\n    min: 45,\n    max: 47,\n    lt: {\n      min: 20,\n      max: 31\n    }\n  },\n  gt: {\n    min: 2400,\n    max: 2500,\n    lt: {\n      min: 1052,\n      max: 1065\n    }\n  }\n};\n\nfunction lookup(value) {\n  let current = ranges;\n  while (current) {\n    if (value &lt; current.min) {\n      current = current.lt;\n    } else if (value &gt; current.max) {\n      current = current.gt;\n    } else {\n      return true;\n    }\n  }\n  return false;\n}\n</code></pre>\n\n<p>This essentially does this for the value:</p>\n\n<ol>\n<li>Go to middle range.</li>\n<li>If current node is null, return false (value not in any range).</li>\n<li>If value is in current range, return true (value is in range).</li>\n<li>If value is less than current min, go to middle range less than current and go back to step 2.</li>\n<li>If value is greater than current max, go to middle range greater than current and go back to step 2.</li>\n</ol>\n"}], "owner": {"reputation": 77, "user_id": 6275297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/050a62ef298f4b93fdb4b52640af7dc0?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/6275297/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 661, "favorite_count": 0, "accepted_answer_id": 51866244, "answer_count": 5, "score": 4, "last_activity_date": 1534377200, "creation_date": 1534365462, "last_edit_date": 1534377200, "question_id": 51866062, "link": "https://stackoverflow.com/questions/51866062/fastest-way-to-compare-a-number-to-a-list-of-numbers-in-a-range", "title": "Fastest way to compare a number to a list of numbers in a range?", "body": "<p>Is there a method faster in performance than doing this:</p>\n\n<pre><code>var value = 2432; \n\nif (value &gt;= 20 &amp;&amp; value &lt;= 31) return true;\nelse if (value &gt;= 45 &amp;&amp; value &lt;= 47) return true;\nelse if (value &gt;= 82 &amp;&amp; value &lt;= 86) return true;\n...\nelse if (value &gt;= 1052 &amp;&amp; value &lt;= 1065) return true;\nelse if (value &gt;= 2400 &amp;&amp; value &lt;= 2500) return true;\n</code></pre>\n\n<p>The conditional statements contain numbers that aren't in a pattern. The numbers go up to 65,000. Also the ranges are variable and don't intersect each other. The range is stored in a SQL database:</p>\n\n<pre><code>columns: from, to\nrows: [21, 59], [92, 280], etc...\n</code></pre>\n\n<p>I was initially thinking of creating a lookup table containing all the numbers between the ranges (e.g., <code>[20, 21, 21, 23, ... 31, -&gt; 45, 46 47]</code>).</p>\n\n<p>Is there a better way?</p>\n"}, {"tags": ["javascript", "reactjs", "express", "pug", "create-react-app"], "comments": [{"owner": {"reputation": 3284, "user_id": 3518108, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZuQVh.jpg?s=128&g=1", "display_name": "Sam H.", "link": "https://stackoverflow.com/users/3518108/sam-h"}, "edited": false, "score": 0, "creation_date": 1534374224, "post_id": 51865975, "comment_id": 90686982, "body": "Sorry, to clarify, you are using a templating engine for most routes, but for one route you want to load a react app, and you want to use SSR (server side rendering)?"}, {"owner": {"reputation": 3284, "user_id": 3518108, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZuQVh.jpg?s=128&g=1", "display_name": "Sam H.", "link": "https://stackoverflow.com/users/3518108/sam-h"}, "edited": false, "score": 0, "creation_date": 1534374743, "post_id": 51865975, "comment_id": 90687072, "body": "Do you have it working when the React app is rendered on the client? I\u2019d shoot for that first, then work on SSR. This question is relevant <a href=\"https://stackoverflow.com/q/37895635/3518108\">stackoverflow.com/q/37895635/3518108</a>"}, {"owner": {"reputation": 3, "user_id": 6552614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ENIW3.png?s=128&g=1", "display_name": "J_P_", "link": "https://stackoverflow.com/users/6552614/j-p"}, "reply_to_user": {"reputation": 3284, "user_id": 3518108, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZuQVh.jpg?s=128&g=1", "display_name": "Sam H.", "link": "https://stackoverflow.com/users/3518108/sam-h"}, "edited": false, "score": 0, "creation_date": 1534379350, "post_id": 51865975, "comment_id": 90688042, "body": "Sam, thank you for questions. Yes it is working when React app is rendering on the client.  As for the clarification.  I want To do what works \ud83d\ude02. All of the static site routes are rendering server side using Pug as the view engine and the public directory to serve static assets. What I am Not clear on is two things. Firstly if I need To use SSR to achieve the desired functionality or not? Secondly and if not what is the best way to serve the React app in an Express router endpoint? I just Wish to have the React app render inside of the pug view as a block so as to maintain my templates."}, {"owner": {"reputation": 3, "user_id": 6552614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ENIW3.png?s=128&g=1", "display_name": "J_P_", "link": "https://stackoverflow.com/users/6552614/j-p"}, "reply_to_user": {"reputation": 3284, "user_id": 3518108, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZuQVh.jpg?s=128&g=1", "display_name": "Sam H.", "link": "https://stackoverflow.com/users/3518108/sam-h"}, "edited": false, "score": 0, "creation_date": 1534379610, "post_id": 51865975, "comment_id": 90688111, "body": "Does this clarify my question?"}, {"owner": {"reputation": 3, "user_id": 6552614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ENIW3.png?s=128&g=1", "display_name": "J_P_", "link": "https://stackoverflow.com/users/6552614/j-p"}, "reply_to_user": {"reputation": 3284, "user_id": 3518108, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZuQVh.jpg?s=128&g=1", "display_name": "Sam H.", "link": "https://stackoverflow.com/users/3518108/sam-h"}, "edited": false, "score": 0, "creation_date": 1534379635, "post_id": 51865975, "comment_id": 90688118, "body": "Also thanks for the link. I will Look into it"}, {"owner": {"reputation": 3284, "user_id": 3518108, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZuQVh.jpg?s=128&g=1", "display_name": "Sam H.", "link": "https://stackoverflow.com/users/3518108/sam-h"}, "edited": false, "score": 0, "creation_date": 1534380314, "post_id": 51865975, "comment_id": 90688260, "body": "Are you compiling your react? Since JSX isn&#39;t something the browser can read, one usually sets up Babel or Webpack or Gulp or something to transform it into regular Javascript. I don&#39;t see a directory called <code>build</code> or anything in your screenshot... so step one is to compile your JSX, then step two is to do something like <code>app.use(express.static(path.join(__dirname, &#39;..&#47;client&#47;build&#39;)));</code>"}, {"owner": {"reputation": 3, "user_id": 6552614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ENIW3.png?s=128&g=1", "display_name": "J_P_", "link": "https://stackoverflow.com/users/6552614/j-p"}, "reply_to_user": {"reputation": 3284, "user_id": 3518108, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZuQVh.jpg?s=128&g=1", "display_name": "Sam H.", "link": "https://stackoverflow.com/users/3518108/sam-h"}, "edited": false, "score": 0, "creation_date": 1534438732, "post_id": 51865975, "comment_id": 90715609, "body": "Sam - Does CRA not handle the build and bundling under the hood as long as the eject is not performed?"}, {"owner": {"reputation": 3284, "user_id": 3518108, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZuQVh.jpg?s=128&g=1", "display_name": "Sam H.", "link": "https://stackoverflow.com/users/3518108/sam-h"}, "edited": false, "score": 0, "creation_date": 1534446122, "post_id": 51865975, "comment_id": 90719167, "body": "Totally forgot you were using CRA. Have you run <code>npm run build</code>? that should make a <code>build</code> folder and put the compiled JS in there, which you can serve with express"}, {"owner": {"reputation": 3, "user_id": 6552614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ENIW3.png?s=128&g=1", "display_name": "J_P_", "link": "https://stackoverflow.com/users/6552614/j-p"}, "reply_to_user": {"reputation": 3284, "user_id": 3518108, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZuQVh.jpg?s=128&g=1", "display_name": "Sam H.", "link": "https://stackoverflow.com/users/3518108/sam-h"}, "edited": false, "score": 0, "creation_date": 1534450896, "post_id": 51865975, "comment_id": 90721072, "body": "So am I to understand that for that one component I would just Pinot the express route to the public resource. Or would an approach be to pull the component from the public folder into my pug template? Are either of these the right ideas?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6552614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ENIW3.png?s=128&g=1", "display_name": "J_P_", "link": "https://stackoverflow.com/users/6552614/j-p"}, "edited": false, "score": 1, "creation_date": 1534468115, "post_id": 51885083, "comment_id": 90725620, "body": "This clarifies things for me tremendously. Thank you so much for seeing me through. \ud83d\udc4d"}, {"owner": {"reputation": 3284, "user_id": 3518108, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZuQVh.jpg?s=128&g=1", "display_name": "Sam H.", "link": "https://stackoverflow.com/users/3518108/sam-h"}, "reply_to_user": {"reputation": 3, "user_id": 6552614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ENIW3.png?s=128&g=1", "display_name": "J_P_", "link": "https://stackoverflow.com/users/6552614/j-p"}, "edited": false, "score": 0, "creation_date": 1534778349, "post_id": 51885083, "comment_id": 90817722, "body": "No problem. This end up with the rest component being rendered on the client but the react runtime. A fun exercise would be to server side render this. To do that, I&#39;d look into Next.js which is a nice SSR framework for react"}, {"owner": {"reputation": 3, "user_id": 6552614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ENIW3.png?s=128&g=1", "display_name": "J_P_", "link": "https://stackoverflow.com/users/6552614/j-p"}, "edited": false, "score": 0, "creation_date": 1534792060, "post_id": 51885083, "comment_id": 90824118, "body": "I have actually already been digging into this over the past few days. I am at the moment using Redux. Managing server side is quite the challenge. I have not looked at next.js yet but I will for sure. Thank you again man!"}], "tags": [], "owner": {"reputation": 3284, "user_id": 3518108, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZuQVh.jpg?s=128&g=1", "display_name": "Sam H.", "link": "https://stackoverflow.com/users/3518108/sam-h"}, "is_accepted": true, "score": 0, "last_activity_date": 1534452281, "creation_date": 1534452281, "answer_id": 51885083, "question_id": 51865975, "link": "https://stackoverflow.com/questions/51865975/is-it-possible-to-serve-a-client-side-react-component-application-in-a-server/51885083#51885083", "title": "Is it Possible to serve a Client Side React Component / Application in a server side Express Route?", "body": "<p>So, your CRA looks something like</p>\n\n<pre><code>  import React from 'react';\n    import ReactDOM  from 'react-dom';\n\n    ReactDOM.render(\n\u00a0\u00a0\u00a0    \u00a0&lt;h1&gt;Hello, world!&lt;/h1&gt;,\n\u00a0\u00a0\u00a0    \u00a0document.getElementById('app')\n    );\n</code></pre>\n\n<p>So to expose this component, you should have a pug template that is like all your others, except also contains somewhere in it</p>\n\n<pre><code>&lt;div id=\"app\"&gt;&lt;/div&gt;\n&lt;script src=\"bundle.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Where the src of the script is the relative path to your built component. Then just serve that template with express when they hit that route. </p>\n"}], "owner": {"reputation": 3, "user_id": 6552614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ENIW3.png?s=128&g=1", "display_name": "J_P_", "link": "https://stackoverflow.com/users/6552614/j-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 631, "favorite_count": 0, "accepted_answer_id": 51885083, "answer_count": 1, "score": 0, "last_activity_date": 1534452281, "creation_date": 1534365003, "last_edit_date": 1534365278, "question_id": 51865975, "link": "https://stackoverflow.com/questions/51865975/is-it-possible-to-serve-a-client-side-react-component-application-in-a-server", "title": "Is it Possible to serve a Client Side React Component / Application in a server side Express Route?", "body": "<p>I have an Node/Express backend that is using Pug.js to render a number of server side routes. The application is static at the moment and is a simple site.</p>\n\n<p>I created an interactive \"builder\" component in React.js using CRA. It allows a site visitor to configure product interactively. \nThe end goal is this:</p>\n\n<p>when a site visitor hits the builder nav link, they would be taken to a page that would render my serverside templates to keep the look and feel of the site. However, In the content block I would want to render the react application that I have created.   </p>\n\n<p>I have looking for days and maybe am just not understanding what I am seeing.I am not sure if server side rendering, or proxying would make this work? i have tried the CRA proxy and have not gotten the result. </p>\n\n<p>Folder structure image: </p>\n\n<p><img src=\"https://i.imgur.com/qEvuE5t.png\" alt=\"Folder Structure\"></p>\n\n<p>If anyone needs more info or can point out a few resources it would be very helpful. </p>\n\n<p>I am still learning as well so I apologize if this breaks any SO guidelines.</p>\n\n<p>Thank you in advance</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 13442, "user_id": 3982562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a3c7aae1d762372cda697833c602ec8?s=128&d=identicon&r=PG", "display_name": "3limin4t0r", "link": "https://stackoverflow.com/users/3982562/3limin4t0r"}, "edited": false, "score": 0, "creation_date": 1534368318, "post_id": 51865972, "comment_id": 90685430, "body": "What is <code>numBlanks</code>? It doesn&#39;t come as a surprise that it&#39;s the number of blanks. However it is never updated in the provided code sample. Can I conclude that <code>numBlanks</code> is therefore always the size of the full word <code>selectedWord</code>? If not you might have a problem with your <i>for</i> loops."}, {"owner": {"reputation": 789, "user_id": 1066393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6zNBn.jpg?s=128&g=1", "display_name": "ZaxLofful", "link": "https://stackoverflow.com/users/1066393/zaxlofful"}, "edited": false, "score": 0, "creation_date": 1534368725, "post_id": 51865972, "comment_id": 90685540, "body": "I feel like there is move code that you have not included...Can we see the rest?"}, {"owner": {"reputation": 33, "user_id": 8935462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SGCNq.jpg?s=128&g=1", "display_name": "Desiree F.", "link": "https://stackoverflow.com/users/8935462/desiree-f"}, "edited": false, "score": 1, "creation_date": 1534368952, "post_id": 51865972, "comment_id": 90685605, "body": "I&#39;ll re-update.  I had left out the HTML updates since that wasn&#39;t causing an issue."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 8935462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SGCNq.jpg?s=128&g=1", "display_name": "Desiree F.", "link": "https://stackoverflow.com/users/8935462/desiree-f"}, "edited": false, "score": 0, "creation_date": 1534366918, "post_id": 51866012, "comment_id": 90684912, "body": "I&#39;m not having issues with it registering, though your code is shorter and more efficient than mine.  The problem is that, after a few wrong guesses, even when the correct letters are guessed, sometimes it will register the win and sometimes it just sits there and requires a refresh to play again."}], "tags": [], "owner": {"reputation": 32729, "user_id": 9513184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de818fcfdfb2bbaf9c67cf7f1d611db8?s=128&d=identicon&r=PG&f=1", "display_name": "iota", "link": "https://stackoverflow.com/users/9513184/iota"}, "is_accepted": false, "score": 1, "last_activity_date": 1534365175, "creation_date": 1534365175, "answer_id": 51866012, "question_id": 51865972, "link": "https://stackoverflow.com/questions/51865972/js-hangman-working-with-multi-word-answers-within-the-array/51866012#51866012", "title": "JS Hangman - Working with multi-word answers within the array", "body": "<p>You can just check if the event's keyCode is in the Array with by checking if its <code>index</code> in the Array is -1 (not in the Array).</p>\n\n<pre><code>document.onkeyup = function (event) {\n   var letterGuessed;\n  // captures keypress, eliminating repeat letters\n  if (event.keyCode &gt;= 65 &amp;&amp; event.keyCode &lt;= 90) {\n    letterGuessed = event.key;\n\n    if(wrongGuesses.indexOf(letterGuessed)!==-1){\n        alert(\"You already guessed that letter.\");\n        return;\n    }      \n\n  // Runs code to check for correct guesses\n  checkLetters(letterGuessed);\n\n  // Runs code that ends each round\n  roundComplete();\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 8935462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SGCNq.jpg?s=128&g=1", "display_name": "Desiree F.", "link": "https://stackoverflow.com/users/8935462/desiree-f"}, "edited": false, "score": 0, "creation_date": 1534457024, "post_id": 51884719, "comment_id": 90723315, "body": "I would really like to try your solution, but I&#39;m unclear as to where it belongs.  Can you give me a little more information?  I&#39;m still new to learning my logic and how to puzzle things out.  Thank you!"}, {"owner": {"reputation": 11071, "user_id": 358435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b6a07b64e50a331ba65e6d5b9b410199?s=128&d=identicon&r=PG&f=1", "display_name": "karthick", "link": "https://stackoverflow.com/users/358435/karthick"}, "reply_to_user": {"reputation": 33, "user_id": 8935462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SGCNq.jpg?s=128&g=1", "display_name": "Desiree F.", "link": "https://stackoverflow.com/users/8935462/desiree-f"}, "edited": false, "score": 0, "creation_date": 1534457111, "post_id": 51884719, "comment_id": 90723341, "body": "you have to replace your line no 191 with the if statement that I have sent &quot; if (lettersInWord.toString() === blanksAndSuccesses.toString().replace(&quot;*&quot;, &quot; &quot;)) { &quot;"}, {"owner": {"reputation": 11071, "user_id": 358435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b6a07b64e50a331ba65e6d5b9b410199?s=128&d=identicon&r=PG&f=1", "display_name": "karthick", "link": "https://stackoverflow.com/users/358435/karthick"}, "reply_to_user": {"reputation": 33, "user_id": 8935462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SGCNq.jpg?s=128&g=1", "display_name": "Desiree F.", "link": "https://stackoverflow.com/users/8935462/desiree-f"}, "edited": false, "score": 0, "creation_date": 1534457587, "post_id": 51884719, "comment_id": 90723473, "body": "@DesireeF. the first snippet is why its causing the issue. you dont have to replace that. the second one with the if condition is the fix"}, {"owner": {"reputation": 33, "user_id": 8935462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SGCNq.jpg?s=128&g=1", "display_name": "Desiree F.", "link": "https://stackoverflow.com/users/8935462/desiree-f"}, "edited": false, "score": 0, "creation_date": 1534523913, "post_id": 51884719, "comment_id": 90750400, "body": "Thank you!  I appreciate the help."}, {"owner": {"reputation": 11071, "user_id": 358435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b6a07b64e50a331ba65e6d5b9b410199?s=128&d=identicon&r=PG&f=1", "display_name": "karthick", "link": "https://stackoverflow.com/users/358435/karthick"}, "reply_to_user": {"reputation": 33, "user_id": 8935462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SGCNq.jpg?s=128&g=1", "display_name": "Desiree F.", "link": "https://stackoverflow.com/users/8935462/desiree-f"}, "edited": false, "score": 0, "creation_date": 1534524089, "post_id": 51884719, "comment_id": 90750498, "body": "@DesireeF. Did it fix the issue?"}, {"owner": {"reputation": 33, "user_id": 8935462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SGCNq.jpg?s=128&g=1", "display_name": "Desiree F.", "link": "https://stackoverflow.com/users/8935462/desiree-f"}, "edited": false, "score": 0, "creation_date": 1534526934, "post_id": 51884719, "comment_id": 90751703, "body": "It didn&#39;t.  I reposted my new question because the only solution to the original problem was to remove the spaces within the array answers - &quot;bon jovi&quot; being &quot;bonjovi&quot;, etc.  I&#39;ll probably just have to leave it that way.  I was making it a portfolio piece.  I truly appreciate your help!"}], "tags": [], "owner": {"reputation": 11071, "user_id": 358435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b6a07b64e50a331ba65e6d5b9b410199?s=128&d=identicon&r=PG&f=1", "display_name": "karthick", "link": "https://stackoverflow.com/users/358435/karthick"}, "is_accepted": false, "score": 0, "last_activity_date": 1534452855, "last_edit_date": 1534452855, "creation_date": 1534450574, "answer_id": 51884719, "question_id": 51865972, "link": "https://stackoverflow.com/questions/51865972/js-hangman-working-with-multi-word-answers-within-the-array/51884719#51884719", "title": "JS Hangman - Working with multi-word answers within the array", "body": "<p>You are having an issue in the place where you are inserting the asterisk, while you are inserting it to the blanksAndSuccess String, you are never removing it when you are comparing it with the random word. </p>\n\n<pre><code>for (var i = 0; i &lt; numBlanks; i++) {\n    if (lettersInWord[i] === \" \") {\n      blanksAndSuccesses.push(\"*\");\n    } else {\n      blanksAndSuccesses.push(\"_\");\n    }\n  }\n</code></pre>\n\n<p>Add this where you are doing the compare</p>\n\n<pre><code> if (lettersInWord.toString() === blanksAndSuccesses.toString().replace(\"*\", \" \")) {\n</code></pre>\n\n<p>This should help start the game properly.</p>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 8935462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SGCNq.jpg?s=128&g=1", "display_name": "Desiree F.", "link": "https://stackoverflow.com/users/8935462/desiree-f"}, "is_accepted": true, "score": 0, "last_activity_date": 1534608915, "creation_date": 1534608915, "answer_id": 51910484, "question_id": 51865972, "link": "https://stackoverflow.com/questions/51865972/js-hangman-working-with-multi-word-answers-within-the-array/51910484#51910484", "title": "JS Hangman - Working with multi-word answers within the array", "body": "<p>With a mix of my code and code from the website listed below, I have solved my issue.  Thank you to those who offered help.  I learned a lot!</p>\n\n<pre><code>&lt;a link='https://codepen.io/cathydutton/pen/ldazc?editors=1010'&gt;&lt;/a&gt;\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 8935462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SGCNq.jpg?s=128&g=1", "display_name": "Desiree F.", "link": "https://stackoverflow.com/users/8935462/desiree-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 736, "favorite_count": 0, "accepted_answer_id": 51910484, "answer_count": 3, "score": 3, "last_activity_date": 1534608915, "creation_date": 1534364995, "last_edit_date": 1534526787, "question_id": 51865972, "link": "https://stackoverflow.com/questions/51865972/js-hangman-working-with-multi-word-answers-within-the-array", "title": "JS Hangman - Working with multi-word answers within the array", "body": "<p>The only \"solution\" I've found is to remove spaces between names in the array, so \"bon jovi\" becomes \"bonjovi\", etc.  I cannot find any solutions to deal with spaces within the array, aside from displaying the \"*\".  I'm re-checking to see if anyone has solutions to deal with the code dealing successfully with multi-word answers within the array - or if there even is one.  Again, any help would be appreciated.</p>\n\n<p>Here is both HTML and JS:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n  &lt;meta charset=\"UTF-8\"&gt;\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n  &lt;title&gt;Hangman&lt;/title&gt;\n\n  &lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css\" integrity=\"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm\" crossorigin=\"anonymous\"&gt;\n\n  &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"assets/css/style.css\"&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n\n  &lt;header&gt;\n    &lt;img src=\"assets/images/background.png\" class=\"header-img\" alt=\"80's picture\"&gt;\n  &lt;/header&gt;\n\n  &lt;div class=\"container\"&gt;\n    &lt;h3&gt;Press any key to get started!&lt;/h3&gt;\n    &lt;div class=\"row\"&gt;        \n      &lt;div class=\"col-md-5\"&gt;\n        &lt;div class=\"game\"&gt;         \n          &lt;p&gt;&lt;span id=\"win-counter\"&gt;Wins: &lt;/span&gt;&lt;/p&gt;\n          &lt;p&gt;&lt;span id=\"loss-counter\"&gt;Losses: &lt;/span&gt;&lt;/p&gt;\n          &lt;p&gt;&lt;span id=\"wrong-guesses\"&gt;Wrong Guesses: &lt;/span&gt;&lt;/p&gt;\n          &lt;p&gt;&lt;span id=\"guesses-left\"&gt;Guesses Remaining: &lt;/span&gt;&lt;/p&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=\"col-md-5\"&gt;\n        &lt;div class=\"play\"&gt;\n          &lt;h3&gt;Guess the singer or band!&lt;/h3&gt;\n          &lt;h3&gt;&lt;span id=\"wordToGuess\"&gt;_ _ _ _ _ _ _&lt;/span&gt;&lt;/h3&gt;\n          &lt;br&gt;\n          &lt;p id=\"disclosure\"&gt;\" * \" denotes blank space(s)&lt;/p&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"row\"&gt;\n      &lt;div class=\"empty-div\"&gt;&lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;  \n\n\n &lt;script&gt;\n\n// GLOBAL VARIABLES\n// =======================================================\n\n// Array of word options\nvar bands = [\"bangles\", \"pat benatar\", \"bon jovi\", \"david bowie\", \"chicago\", \"phil collins\", \"culture club\", \"duran duran\", \"eurythmics\", \"fleetwood mac\", \"foreigner\", \"genesis\", \"heart\", \"whitney houston\", \"billy idol\", \"janet jackson\", \"michael jackson\", \"billy joel\", \"elton john\", \"journey\", \"cyndi lauper\", \"kenny loggins\", \"madonna\", \"richard marx\", \"george michael\", \"motley crue\", \"pet shop boys\", \"poison\", \"prince\", \"reo speedwagon\", \"lionel richie\", \"rod stewart\", \"styx\", \"tina turner\", \"thompson twins\", \"van halen\", \"wham\"]\n\n// Stores Computer-selected word\nvar selectedWord = \"\";\n\n// Array of individual letters to each word\nvar lettersInWord = [];\n\n// Number of blanks based on solution (selectedWord)\nvar numBlanks = 0;\n\n// Array to hold mix of blank and solved letters (ex: 'n, _ _, n, _').\nvar blanksAndSuccesses = [];\n\n// Stores all wrong guesses\nvar wrongGuesses = [];\n\n// Holds the letters guessed\nvar letterGuessed = \"\";\n\n// Game counters\nvar winCounter = 0;\nvar lossCounter = 0;\nvar numGuesses = 15;\n\n// FUNCTIONS\n// =======================================================\n\n// startGame() will start and restart game\nfunction startGame() {\n\n  // Reset guesses back to 15\n  numGuesses = 15;\n\n  // Reset the \"guess and success\" array at each round\n  blanksAndSuccesses = [];\n\n  // Reset wrong guesses from previous round\n  wrongGuesses = [];\n\n  // Solution chosen randomly from bands\n  selectedWord = bands[Math.floor(Math.random() * bands.length)];\n\n  // Breaks solution word into individual letters\n  lettersInWord = selectedWord.split(\"\");\n\n  // Counts the number of letters in the word\n  numBlanks = lettersInWord.length;\n\n  // Print solution in console (for testing)\n  console.log(selectedWord);\n\n  // Fill \"blanksAndSuccesses\" list with appropriate number of blanks, based on number of letters in solution word\n  for (var i = 0; i &lt; numBlanks; i++) {\n    if (lettersInWord[i] === \" \") {\n      blanksAndSuccesses.push(\"*\");\n    } else {\n      blanksAndSuccesses.push(\"_\");\n    }\n  }\n\n  // Print initial blanks in console\n  console.log(blanksAndSuccesses);\n\n  // Reprint the guessesLeft to 15\n  document.getElementById(\"guesses-left\").innerHTML = \"Number of Guesses: \" + numGuesses;\n\n  // Prints blanks at beginning of each round in HTML\n  document.getElementById(\"wordToGuess\").innerHTML = blanksAndSuccesses.join(\" \");\n\n  // Clears wrong guesses from previous round\n  document.getElementById(\"wrong-guesses\").innerHTML = \"Wrong Guesses: \" + wrongGuesses.join(\" \");\n}\n\n// checkLetters() function - holds all comparisons for matches\nfunction checkLetters(letter) {\n\n  // Boolean will be toggled based on if user's letter is found anywhere in the word\n  var letterInWord = false;\n\n  // Checks if letter exists inside the array at all\n  for (var i = 0; i &lt; numBlanks; i++) {\n\n    if (selectedWord[i] === letter) {\n\n      // If letter exists, then toggle boolean to true, used in next step\n      letterInWord = true;\n    }\n  }\n\n  // If letter exists somewhere in word, figure out exactly where (which indices)\n  if (letterInWord) {\n\n    // Loop through the word\n    for (var i = 0; i &lt; numBlanks; i++) {\n\n      // Populate blanksAndSuccesses with every instance of the letter\n      if (selectedWord[i] === letter) {\n\n        // Set specific blank space(s) to equal correct letter when there is a match\n        blanksAndSuccesses[i] = letter;\n      }\n    }\n\n    // Log current blanks and successes for testing\n    console.log(blanksAndSuccesses);\n  }\n\n  // If letter doesn't exist at all...\n  else {\n\n    // Add letter to list of wrong letters\n    wrongGuesses.push(letter);\n\n    // Also subtract one of the guesses\n    numGuesses--;\n\n  }\n\n}\n\n// roundComplete() function - will run necessary code after each guess is made\nfunction roundComplete() {\n\n  // Log initial status in console re: how many wins, losses, and guesses are left\n  console.log(\"Win Count: \" + winCounter + \" | Loss Count: \" + lossCounter + \" | Num Guesses: \" + numGuesses);\n\n  // HTML UPDATES\n  // ============\n\n  // Update HTML to reflect new number of guesses\n  document.getElementById(\"guesses-left\").innerHTML = \"Guesses Left: \" + numGuesses;\n\n  // Print array of guesses and blanks onto page\n  document.getElementById(\"wordToGuess\").innerHTML = blanksAndSuccesses.join(\" \");\n\n  // Print wrong guesses to page\n  document.getElementById(\"wrong-guesses\").innerHTML = \"Wrong Guesses: \" + wrongGuesses.join(\" \");\n\n  // If word guess string equals solution\n  if (lettersInWord.toString() === blanksAndSuccesses.toString()) {\n\n    // Add to the win counter\n    winCounter++;\n\n    // Give user \"win\" alert\n    alert(\"You Win!\");\n\n    // Update win counter in HTML\n    document.getElementById(\"win-counter\").innerHTML = \"Wins: \" + winCounter;\n\n    // Restart game\n    startGame();\n  }\n\n  // if user has run out of guesses\n  else if (numGuesses === 0) {\n    // Add to loss counter\n    lossCounter++;\n\n    // Give user \"lose\" alert\n    alert(\"You Lose!\");\n\n    // Update loss counter in HTML\n    document.getElementById(\"loss-counter\").innerHTML = \"Losses: \" + lossCounter;\n\n    // Restart game\n    startGame();\n\n  }\n\n}\n\n// MAIN PROCESS\n// =======================================================\n\n// Starts game\nstartGame();\n\n// Then initiates function for capturing key clicks\ndocument.onkeyup = function (event) {\n\n  // captures keypress, eliminating repeat letters\n  if (event.keyCode &gt;= 65 &amp;&amp; event.keyCode &lt;= 90) {\n    letterGuessed = event.key;\n\n    if (wrongGuesses.indexOf(letterGuessed) !== -1) {\n      alert(\"You already guessed that letter.\");\n      return;\n    }\n\n    // Runs code to check for correct guesses\n    checkLetters(letterGuessed);\n\n    // Runs code that ends each round\n    roundComplete();\n\n  }\n\n};\n\n&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "regex"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 3, "creation_date": 1534365200, "post_id": 51865967, "comment_id": 90684225, "body": "You want just <code>const myRegex = &#47;[^\\w\\d]&#47;;</code>"}, {"owner": {"reputation": 31, "user_id": 10102384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5701921a11fa246d78a99b28f9b21df2?s=128&d=identicon&r=PG&f=1", "display_name": "B00100100", "link": "https://stackoverflow.com/users/10102384/b00100100"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1534365849, "post_id": 51865967, "comment_id": 90684474, "body": "This actually solved my issue, But i also needed to add the global match      (/[^\\w\\d]/g) at the end for it to work properly.i haven&#39;t tried the other answers yet but each has its own variation is any one better than the other?"}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1534365950, "post_id": 51865967, "comment_id": 90684530, "body": "The btmorex answer is correct then: <code>&#47;\\W&#47;g</code>"}], "answers": [{"tags": [], "owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "is_accepted": false, "score": 1, "last_activity_date": 1534365541, "creation_date": 1534365541, "answer_id": 51866083, "question_id": 51865967, "link": "https://stackoverflow.com/questions/51865967/why-is-my-regexexp-not-working-properly/51866083#51866083", "title": "Why is my RegexExp not working properly?", "body": "<p>You need to use <code>/\\W/</code> which means: not a letter, digit or <code>_</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var StringArray = [\"ABCdef123\u00ae\",\"ABCdef/123\u00ae\",\"ABCde f123\u00ae\",\"ABCde/f123\u00ae\",\"AB Cde\\\\f123\u00ae\"];\r\nconst myRegex = new RegExp(/\\W/, 'g');\r\nvar NewString;\r\nvar counter = 0;\r\n\r\nStringArray.forEach(function(item){\r\n NewString = item.replace(myRegex,\"_\");\r\n console.log(\"Old String: \" + item);\r\n console.log(\"New String: \"+ NewString);\r\n counter++;\r\n})</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 10102384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5701921a11fa246d78a99b28f9b21df2?s=128&d=identicon&r=PG&f=1", "display_name": "B00100100", "link": "https://stackoverflow.com/users/10102384/b00100100"}, "edited": false, "score": 0, "creation_date": 1534366000, "post_id": 51866098, "comment_id": 90684548, "body": "i used this in the end. Thank you"}], "tags": [], "owner": {"reputation": 276, "user_id": 84238, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/05633a0959f2617318fc204a1cf469c4?s=128&d=identicon&r=PG", "display_name": "btmorex", "link": "https://stackoverflow.com/users/84238/btmorex"}, "is_accepted": true, "score": 1, "last_activity_date": 1534365620, "creation_date": 1534365620, "answer_id": 51866098, "question_id": 51865967, "link": "https://stackoverflow.com/questions/51865967/why-is-my-regexexp-not-working-properly/51866098#51866098", "title": "Why is my RegexExp not working properly?", "body": "<pre><code>const myRegex = /\\W/g;\n</code></pre>\n\n<p>works. You want the g to replace all occurrences. Your new Regexp syntax is wrong. It shouldn't include the slash.</p>\n"}, {"tags": [], "owner": {"reputation": 49, "user_id": 6882703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/978d2523145041309deeab847f3a1a32?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Sh", "link": "https://stackoverflow.com/users/6882703/ben-sh"}, "is_accepted": false, "score": 1, "last_activity_date": 1534365789, "creation_date": 1534365789, "answer_id": 51866137, "question_id": 51865967, "link": "https://stackoverflow.com/questions/51865967/why-is-my-regexexp-not-working-properly/51866137#51866137", "title": "Why is my RegexExp not working properly?", "body": "<p>There's actually a regex for non-letter-and-non-digits, it's <code>\\W</code>.</p>\n\n<pre><code>const myRegex = /\\W/g;\n</code></pre>\n\n<p>It's supposed to do the trick :)</p>\n"}], "owner": {"reputation": 31, "user_id": 10102384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5701921a11fa246d78a99b28f9b21df2?s=128&d=identicon&r=PG&f=1", "display_name": "B00100100", "link": "https://stackoverflow.com/users/10102384/b00100100"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "closed_date": 1534367510, "accepted_answer_id": 51866098, "answer_count": 3, "score": 0, "last_activity_date": 1534365789, "creation_date": 1534364971, "question_id": 51865967, "link": "https://stackoverflow.com/questions/51865967/why-is-my-regexexp-not-working-properly", "closed_reason": "Duplicate", "title": "Why is my RegexExp not working properly?", "body": "<p>i have an array of strings with that contain a number of different characters. i am looping through the array and using the .replace(RegExp,Replacement) method, But i cant seem to get it to work properly.The expression that i am using is \"/[^\\w\\d]\". I am trying to remove anything that is not a letter or number including Spaces and replace it with an \"_\"(to make it nice for a file name). Ive tested the regex above and it is supposed to be correct. But i am getting weird and unwanted results.The following code will reproduce my problem.</p>\n\n<pre><code>var StringArray = [\"ABCdef123\u00ae\",\"ABCdef/123\u00ae\",\"ABCde f123\u00ae\",\"ABCde/f123\u00ae\",\"AB Cde\\\\f123\u00ae\"];\nconst myRegex = new RegExp(\"/[^\\w\\d]\");\nvar NewString;\nvar counter = 0;\n\nStringArray.forEach(function(item){\n NewString = item.replace(myRegex,\"_\");\n console.log(\"Old String: \" + item);\n console.log(\"New String: \"+ NewString);\n counter++;\n})\n</code></pre>\n\n<p>The Output will look like this</p>\n\n<pre><code>Old String: ABCdef123\u00ae\nNew String: ABCdef123\u00ae\n\nOld String: ABCdef/123\u00ae\nNew String: ABCdef_23\u00ae\n\nOld String: ABCde f123\u00ae\nNew String: ABCde f123\u00ae\n\nOld String: AB Cde/f123\u00ae\nNew String: AB Cde_123\u00ae\n\nOld String: AB Cde\\f123\u00ae\nNew String: AB Cde\\f123\u00ae\n</code></pre>\n\n<p>it will not find backslashes or the \"\u00ae\" symbol. and when it does find something it is also removing the following character. what am i doing wrong here?</p>\n"}, {"tags": ["javascript", "promise", "async-await"], "comments": [{"owner": {"reputation": 376, "user_id": 6761351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36246e188f71ad456c72c313c5928530?s=128&d=identicon&r=PG&f=1", "display_name": "Atul", "link": "https://stackoverflow.com/users/6761351/atul"}, "edited": false, "score": 1, "creation_date": 1534365146, "post_id": 51865958, "comment_id": 90684209, "body": "Refer this <a href=\"https://stackoverflow.com/questions/51862338/how-to-use-async-await-with-react-componentdidmount-method/51862358?noredirect=1#comment90677059_51862358\" title=\"how to use async await with react componentdidmount method\">stackoverflow.com/questions/51862338/&hellip;</a>"}, {"owner": {"reputation": 3465, "user_id": 4661771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/772656d123cd3d69c5a70cf2d95d5b4f?s=128&d=identicon&r=PG", "display_name": "Batajus", "link": "https://stackoverflow.com/users/4661771/batajus"}, "edited": false, "score": 0, "creation_date": 1534365360, "post_id": 51865958, "comment_id": 90684289, "body": "What kind of error occurs?"}, {"owner": {"reputation": 1849, "user_id": 2535616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73eb9f75b3df33ca2649634a3d91e315?s=128&d=identicon&r=PG", "display_name": "lleon", "link": "https://stackoverflow.com/users/2535616/lleon"}, "edited": false, "score": 4, "creation_date": 1534365488, "post_id": 51865958, "comment_id": 90684331, "body": "<code>axios.get</code> is a already awaitable you do not need all that <code>new Promise</code> stuff"}, {"owner": {"reputation": 376, "user_id": 6761351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36246e188f71ad456c72c313c5928530?s=128&d=identicon&r=PG&f=1", "display_name": "Atul", "link": "https://stackoverflow.com/users/6761351/atul"}, "edited": false, "score": 0, "creation_date": 1534365499, "post_id": 51865958, "comment_id": 90684338, "body": "The error is due to syntax, there should be function inside promise"}, {"owner": {"reputation": 676, "user_id": 4582545, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-6vi4A4Rsfjk/AAAAAAAAAAI/AAAAAAAAAB4/IiKBbK21vN4/photo.jpg?sz=128", "display_name": "shakeel osmani", "link": "https://stackoverflow.com/users/4582545/shakeel-osmani"}, "edited": false, "score": 0, "creation_date": 1534365784, "post_id": 51865958, "comment_id": 90684440, "body": "Why do you need the new promise? Axios will take care"}, {"owner": {"reputation": 376, "user_id": 6761351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36246e188f71ad456c72c313c5928530?s=128&d=identicon&r=PG&f=1", "display_name": "Atul", "link": "https://stackoverflow.com/users/6761351/atul"}, "edited": false, "score": 0, "creation_date": 1534365867, "post_id": 51865958, "comment_id": 90684479, "body": "Thanks for the votes, @IIeon would like to know the issue with my answer?"}, {"owner": {"reputation": 376, "user_id": 6761351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36246e188f71ad456c72c313c5928530?s=128&d=identicon&r=PG&f=1", "display_name": "Atul", "link": "https://stackoverflow.com/users/6761351/atul"}, "edited": false, "score": 0, "creation_date": 1534366202, "post_id": 51865958, "comment_id": 90684641, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/51862338/how-to-use-async-await-with-react-componentdidmount-method\">How to use async await with React componentDidMount() method?</a>"}, {"owner": {"reputation": 245145, "user_id": 1348195, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f6dca2295546af21e1cde8e68f2d49bd?s=128&d=identicon&r=PG", "display_name": "Benjamin Gruenbaum", "link": "https://stackoverflow.com/users/1348195/benjamin-gruenbaum"}, "edited": false, "score": 0, "creation_date": 1534367948, "post_id": 51865958, "comment_id": 90685304, "body": "<a href=\"https://stackoverflow.com/questions/23803743/what-is-the-explicit-promise-construction-antipattern-and-how-do-i-avoid-it\" title=\"what is the explicit promise construction antipattern and how do i avoid it\">stackoverflow.com/questions/23803743/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 376, "user_id": 6761351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36246e188f71ad456c72c313c5928530?s=128&d=identicon&r=PG&f=1", "display_name": "Atul", "link": "https://stackoverflow.com/users/6761351/atul"}, "is_accepted": false, "score": 2, "last_activity_date": 1534374425, "last_edit_date": 1534374425, "creation_date": 1534365336, "answer_id": 51866043, "question_id": 51865958, "link": "https://stackoverflow.com/questions/51865958/converting-functions-to-async-await/51866043#51866043", "title": "converting functions to async await", "body": "<pre><code>async function getRequest(url, headers) {\n    const res = await axios.get(url, { headers })\n    return res;\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3425, "user_id": 2332159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WjBk5.jpg?s=128&g=1", "display_name": "planet_hunter", "link": "https://stackoverflow.com/users/2332159/planet-hunter"}, "is_accepted": false, "score": 0, "last_activity_date": 1534366259, "creation_date": 1534366259, "answer_id": 51866245, "question_id": 51865958, "link": "https://stackoverflow.com/questions/51865958/converting-functions-to-async-await/51866245#51866245", "title": "converting functions to async await", "body": "<p>First of all you have got a syntax error in declaring a promise.</p>\n\n<p>The <code>getRequest</code> function should look something like this - </p>\n\n<pre><code>async function getRequest(url, headers) {\n    return new Promise((resolve, reject) =&gt; {\n        try {\n            const res = await axios.get(url, { headers })\n            return resolve(res);\n        }\n        catch (err) {\n            return reject(err);\n        };\n    });\n};\n</code></pre>\n\n<p>Second, id <code>axios.get(url, { headers })</code> is waiatable, you do not need to return a promise from the parent funtion.\nYou can simply return await axios.get(url, { headers });</p>\n\n<pre><code>async function getRequest(url, headers) {\n    return await axios.get(url, { headers });\n};\n</code></pre>\n\n<blockquote>\n  <p>Example</p>\n</blockquote>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>async function parent() {\r\n    console.log(await child(true));\r\n}\r\n\r\n\r\nfunction child(data) {\r\n    return new Promise((resolve, reject) =&gt; {\r\n        if (!!data) {\r\n            resolve(\"resolved!\");\r\n        } else {\r\n            reject(\"rejected!\");\r\n        }\r\n    });\r\n}\r\n\r\nparent();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 2497, "user_id": 4135063, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e7ad6fb5dc2f10279b43129570737497?s=128&d=identicon&r=PG", "display_name": "Pedro A", "link": "https://stackoverflow.com/users/4135063/pedro-a"}, "reply_to_user": {"reputation": 18374, "user_id": 3478010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y4DTM.png?s=128&g=1", "display_name": "Roamer-1888", "link": "https://stackoverflow.com/users/3478010/roamer-1888"}, "edited": false, "score": 0, "creation_date": 1534367603, "post_id": 51866248, "comment_id": 90685176, "body": "@Roamer-1888 oops, you&#39;re right, of course, thanks for catching. Fixed. The anti-pattern is so bad that it twisted my mind :P"}], "tags": [], "owner": {"reputation": 2497, "user_id": 4135063, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e7ad6fb5dc2f10279b43129570737497?s=128&d=identicon&r=PG", "display_name": "Pedro A", "link": "https://stackoverflow.com/users/4135063/pedro-a"}, "is_accepted": false, "score": 3, "last_activity_date": 1534367541, "last_edit_date": 1534367541, "creation_date": 1534366283, "answer_id": 51866248, "question_id": 51865958, "link": "https://stackoverflow.com/questions/51865958/converting-functions-to-async-await/51866248#51866248", "title": "converting functions to async await", "body": "<p>First of all, your original code is badly indented, so let's fix that:</p>\n\n<pre><code>const getRequest = (url, headers) =&gt; {\n    return new Promise((resolve, reject) =&gt; {\n        axios.get(url, { headers })\n            .then((res) =&gt; {\n                return resolve(res);\n            })\n            .catch((err) =&gt; {\n                return reject(err);\n            });\n});\n</code></pre>\n\n<p>Secondly, your original code contains a whole lot of unnecessary code because <code>axios.get</code> is already a promise. This shows lack of understanding on how promises work, please read <a href=\"http://bluebirdjs.com/docs/anti-patterns.html\" rel=\"nofollow noreferrer\">this list of anti-patterns</a>. You should just return the promise directly. Fixing that:</p>\n\n<pre><code>const getRequest = (url, headers) =&gt; {\n    return axios.get(url, { headers });\n});\n</code></pre>\n\n<p>Thirdly, converting a function to <code>async</code>, when the function already returns a promise, means nothing more than simply adding the <code>async</code> keyword itself. You do not have to do anything to the function. Final result:</p>\n\n<pre><code>const getRequest = async (url, headers) =&gt; {\n    return axios.get(url, { headers });\n});\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 10054034, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Fg6zDM_f-0w/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rPxsw727D3MraWg_bMXAaRxigUJg/mo/photo.jpg?sz=128", "display_name": "skphi13", "link": "https://stackoverflow.com/users/10054034/skphi13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 237, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1534374425, "creation_date": 1534364932, "last_edit_date": 1534365227, "question_id": 51865958, "link": "https://stackoverflow.com/questions/51865958/converting-functions-to-async-await", "title": "converting functions to async await", "body": "<p>I'm in the process of converting some functions to async await and need help to solve an error. </p>\n\n<p>Before </p>\n\n<pre><code>const getRequest = (url, headers) =&gt; {\n    return new Promise((resolve, reject) =&gt; {\n        axios.get(url, { headers })\n            .then((res) =&gt; {\n                return resolve(res);\n            })\n            .catch((err) =&gt; {\n            return reject(err);\n        });\n});\n</code></pre>\n\n<p>After</p>\n\n<pre><code>async function getRequest(url, headers) {\n    return new Promise(resolve, reject) {\n        try {\n            const res = await axios.get(url, { headers })\n                return resolve(res);\n            }\n        catch(err){\n                return reject(err);\n            };\n    };\n};\n</code></pre>\n\n<p>I'm getting an error when running the new code, any help would be appreciated.</p>\n"}, {"tags": ["javascript", "jquery"], "answers": [{"tags": [], "owner": {"reputation": 178, "user_id": 9748360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/074c234e93f62926a548959a556d356d?s=128&d=identicon&r=PG&f=1", "display_name": "user9748360", "link": "https://stackoverflow.com/users/9748360/user9748360"}, "is_accepted": false, "score": 1, "last_activity_date": 1534367041, "creation_date": 1534367041, "answer_id": 51866415, "question_id": 51865930, "link": "https://stackoverflow.com/questions/51865930/issue-on-mouse-hover-between-two-elements/51866415#51866415", "title": "Issue on mouse hover between two elements", "body": "<p>if you add a <code>#container</code> around <code>#flip</code> and <code>#panel</code>\nyou can add a <code>.mouseleave()</code> event to it, so when you click on <code>#flip</code> the panel slides down (and expand the container), as long as you keep the mouse inside that container the panel stays open (you can hover on flip or panel). When the mouse leaves the container the panel slide back up.</p>\n\n<p>(I changed the event you had on flip to a click event as well as it says \"click to slide\")</p>\n\n<p>as a tip, you might want to refacor your code to use CSS classes instead of id, this would make your code reusable (you could have multiple sliding pannel in the same page)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n\r\n  $(\"#flip\").click(function() {\r\n    $(\"#panel\").slideDown(\"slow\");\r\n  });\r\n  $(\"#container\").mouseleave(function() {\r\n    $(\"#panel\").slideUp(\"slow\");\r\n  });\r\n  \r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n  padding-top: 20px;\r\n}\r\n\r\n#panel,\r\n#flip {\r\n  padding: 5px;\r\n  text-align: center;\r\n  background-color: #e5eecc;\r\n  border: solid 1px #c3c3c3;\r\n}\r\n\r\n#panel {\r\n  padding: 50px;\r\n  display: none;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"container\"&gt;\r\n  &lt;div id=\"flip\"&gt;Click to slide the panel down or up&lt;/div&gt;\r\n  &lt;div id=\"panel\"&gt;Hello world!&lt;/div&gt;\r\n&lt;/div&gt; </code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 39660, "user_id": 3880585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8pfp3.png?s=128&g=1", "display_name": "gaetanoM", "link": "https://stackoverflow.com/users/3880585/gaetanom"}, "is_accepted": true, "score": 1, "last_activity_date": 1534422422, "last_edit_date": 1534422422, "creation_date": 1534367774, "answer_id": 51866558, "question_id": 51865930, "link": "https://stackoverflow.com/questions/51865930/issue-on-mouse-hover-between-two-elements/51866558#51866558", "title": "Issue on mouse hover between two elements", "body": "<blockquote>\n  <p>And how slide up only when mouse is out of these two?</p>\n</blockquote>\n\n<p>In order to achieve this result you need to:</p>\n\n<ul>\n<li>show the panel (slideDown) when mouse enters the panel or the flip and the panel is hidden</li>\n<li>hide the panel (slideUp) when mouse leaves the panel or the flip and the panel is visible. Here, the selector should be :not(#flip, #panel)</li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(\"#flip, #panel\").on('mouseenter', function (e) {\r\n  if ($(\"#panel\").is(':hidden')) { // this test in order to reduce useless slideDown....\r\n      $(\"#panel\").slideDown(\"slow\");\r\n  }\r\n});\r\n$(\":not(#flip, #panel)\").on('mouseleave', function(e) {\r\n  if ($(\"#panel\").is(':visible')) { // this test in order to reduce useless slideUp....\r\n      $(\"#panel\").slideUp(\"slow\");\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n    padding-top: 20px;\r\n}\r\n\r\n#panel,\r\n#flip {\r\n    padding: 5px;\r\n    text-align: center;\r\n    background-color: #e5eecc;\r\n    border: solid 1px #c3c3c3;\r\n}\r\n\r\n#panel {\r\n    padding: 50px;\r\n    display: none;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div id=\"flip\"&gt;Click to slide the panel down or up&lt;/div&gt;\r\n&lt;div id=\"panel\"&gt;Hello world!&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 5710, "user_id": 2426488, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/srdPe.png?s=128&g=1", "display_name": "Mona Coder", "link": "https://stackoverflow.com/users/2426488/mona-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 51866558, "answer_count": 2, "score": 0, "last_activity_date": 1534422422, "creation_date": 1534364803, "last_edit_date": 1534367947, "question_id": 51865930, "link": "https://stackoverflow.com/questions/51865930/issue-on-mouse-hover-between-two-elements", "title": "Issue on mouse hover between two elements", "body": "<p>How can I keep the <code>#panel</code> slide down/open when mouse traveling/hovering between  <code>#flip</code> and <code>#panel</code>? And how slide up only when mouse is out of these two?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n\r\n  $(\"#flip\").hover(function() {\r\n    $(\"#panel\").slideDown(\"slow\");\r\n  }, function() {});\r\n  $(\"#panel\").hover(function() {\r\n\r\n  }, function() {\r\n    $(this).slideUp(\"slow\");\r\n  });\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n  padding-top: 20px;\r\n}\r\n\r\n#panel,\r\n#flip {\r\n  padding: 5px;\r\n  text-align: center;\r\n  background-color: #e5eecc;\r\n  border: solid 1px #c3c3c3;\r\n}\r\n\r\n#panel {\r\n  padding: 50px;\r\n  display: none;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"flip\"&gt;Click to slide the panel down or up&lt;/div&gt;\r\n&lt;div id=\"panel\"&gt;Hello world!&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"tags": [], "owner": {"reputation": 4750, "user_id": 1207539, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f1bcd61398d4d57c02d3dee4ed032909?s=128&d=identicon&r=PG", "display_name": "mkaatman", "link": "https://stackoverflow.com/users/1207539/mkaatman"}, "is_accepted": false, "score": 1, "last_activity_date": 1606317724, "creation_date": 1606317724, "answer_id": 65007635, "question_id": 51865904, "link": "https://stackoverflow.com/questions/51865904/how-can-i-conditionally-show-title-tooltip-if-css-ellipsis-is-active-within-a-re/65007635#65007635", "title": "How can I conditionally show title tooltip if CSS ellipsis is active within a React component", "body": "<p>Since a lot of people are still viewing this question. I did finally figure out how to do it. I'll try to rewrite this into a working example at some point but here's the gist.</p>\n<pre><code>// Setup a ref\nconst labelRef = useRef(null);\n\n// State for tracking if ellipsis is active\nconst [isEllipsisActive, setIsEllipsisActive] = useState(false);\n\n// Setup a use effect\nuseEffect(() =&gt; {\n    if(labelRef?.current?.offsetWidth &lt; labelRef?.current?.scrollWidth) {\n        setIsEllipsisActive(true);\n    }\n}, [labelRef?.current, value, isLoading]); // I was also tracking if the data was loading\n\n// Div you want to check if ellipsis is active\n&lt;div ref={labelRef}&gt;{value}&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 4750, "user_id": 1207539, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f1bcd61398d4d57c02d3dee4ed032909?s=128&d=identicon&r=PG", "display_name": "mkaatman", "link": "https://stackoverflow.com/users/1207539/mkaatman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1343, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1606317724, "creation_date": 1534364700, "question_id": 51865904, "link": "https://stackoverflow.com/questions/51865904/how-can-i-conditionally-show-title-tooltip-if-css-ellipsis-is-active-within-a-re", "title": "How can I conditionally show title tooltip if CSS ellipsis is active within a React component", "body": "<p><strong>Problem</strong>:</p>\n\n<p>I'm looking for a clean way to show a title tooltip on items that have a CSS ellipsis applied. (Within a React component)</p>\n\n<p><strong>What I've tried:</strong></p>\n\n<p>I setup a ref, but it doesn't exist until componentDidUpdate, so within componentDidUpdate I forceUpdate. (This needs some more rework to handle prop changes and such and I would probably use setState instead.) This kind of works but there are a lot of caveats that I feel are unacceptable.</p>\n\n<ol>\n<li>setState/forceUpdate - Maybe this is a necessary evil</li>\n<li>What if the browser size changes? Do I need to re-render with every resize? I suppose I'd need a debounce on that as well. Yuck.</li>\n</ol>\n\n<p><strong>Question:</strong></p>\n\n<p>Is there a more graceful way to accomplish this goal?</p>\n\n<p><strong>Semi-functional MCVE:</strong></p>\n\n<p><a href=\"https://codepen.io/anon/pen/mjYzMM\" rel=\"nofollow noreferrer\">https://codepen.io/anon/pen/mjYzMM</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class App extends React.Component {\r\n  render() {\r\n    return (\r\n      &lt;div&gt;\r\n        &lt;Test message=\"Overflow Ellipsis\" /&gt;\r\n        &lt;Test message=\"Fits\" /&gt;\r\n      &lt;/div&gt;\r\n    );\r\n  }\r\n}\r\n\r\nclass Test extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.element = React.createRef();\r\n  }\r\n  componentDidMount() {\r\n    this.forceUpdate();\r\n  }\r\n\r\n  doesTextFit = () =&gt; {\r\n    if (!this.element) return false;\r\n    if (!this.element.current) return false;\r\n    console.log(\r\n      \"***\",\r\n      \"offsetWidth: \",\r\n      this.element.current.offsetWidth,\r\n      \"scrollWidth:\",\r\n      this.element.current.scrollWidth,\r\n      \"doesTextFit?\",\r\n      this.element.current.scrollWidth &lt;= this.element.current.offsetWidth\r\n    );\r\n\r\n    return this.element.current.scrollWidth &lt;= this.element.current.offsetWidth;\r\n  };\r\n  render() {\r\n    return (\r\n      &lt;p\r\n        className=\"collapse\"\r\n        ref={this.element}\r\n        title={this.doesTextFit() ? \"it fits!\" : \"overflow\"}\r\n      &gt;\r\n        {this.props.message}\r\n      &lt;/p&gt;\r\n    );\r\n  }\r\n}\r\n\r\nReactDOM.render(&lt;App /&gt;, document.getElementById(\"container\"));</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.collapse {\r\n    width:60px;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script crossorigin src=\"https://unpkg.com/react@16/umd/react.production.min.js\"&gt;&lt;/script&gt;\r\n&lt;script crossorigin src=\"https://unpkg.com/react-dom@16/umd/react-dom.production.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"container\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "node.js", "mongodb", "express", "mongoose"], "comments": [{"owner": {"reputation": 9279, "user_id": 6440033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f070f5eb58ce80fa0b975a805e712362?s=128&d=identicon&r=PG&f=1", "display_name": "dnickless", "link": "https://stackoverflow.com/users/6440033/dnickless"}, "edited": false, "score": 0, "creation_date": 1534364505, "post_id": 51865856, "comment_id": 90683933, "body": "Which exact value is in your <code>link.user_id</code>variable?"}, {"owner": {"reputation": 1, "user_id": 5072593, "user_type": "registered", "profile_image": "https://graph.facebook.com/658622217606209/picture?type=large", "display_name": "Prakkmak", "link": "https://stackoverflow.com/users/5072593/prakkmak"}, "reply_to_user": {"reputation": 9279, "user_id": 6440033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f070f5eb58ce80fa0b975a805e712362?s=128&d=identicon&r=PG&f=1", "display_name": "dnickless", "link": "https://stackoverflow.com/users/6440033/dnickless"}, "edited": false, "score": 0, "creation_date": 1534364645, "post_id": 51865856, "comment_id": 90684005, "body": "Edited; I have miss this :          var link = {         user_id: req.body.user_id,         value: req.body.value     };"}, {"owner": {"reputation": 9279, "user_id": 6440033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f070f5eb58ce80fa0b975a805e712362?s=128&d=identicon&r=PG&f=1", "display_name": "dnickless", "link": "https://stackoverflow.com/users/6440033/dnickless"}, "edited": false, "score": 0, "creation_date": 1534364784, "post_id": 51865856, "comment_id": 90684058, "body": "You are probably missing a conversion here, I suppose. Something like this to convert your id into an <code>ObjectId</code>: <a href=\"https://stackoverflow.com/questions/6578178/node-js-mongoose-js-string-to-objectid-function\" title=\"node js mongoose js string to objectid function\">stackoverflow.com/questions/6578178/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 5072593, "user_type": "registered", "profile_image": "https://graph.facebook.com/658622217606209/picture?type=large", "display_name": "Prakkmak", "link": "https://stackoverflow.com/users/5072593/prakkmak"}, "reply_to_user": {"reputation": 9279, "user_id": 6440033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f070f5eb58ce80fa0b975a805e712362?s=128&d=identicon&r=PG&f=1", "display_name": "dnickless", "link": "https://stackoverflow.com/users/6440033/dnickless"}, "edited": false, "score": 0, "creation_date": 1534365119, "post_id": 51865856, "comment_id": 90684198, "body": "That&#39;s what I thought but it makes the same error: <code>user_id: require(&#39;mongoose&#39;).Types.ObjectId(req.body.user_id)</code>"}, {"owner": {"reputation": 9279, "user_id": 6440033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f070f5eb58ce80fa0b975a805e712362?s=128&d=identicon&r=PG&f=1", "display_name": "dnickless", "link": "https://stackoverflow.com/users/6440033/dnickless"}, "edited": false, "score": 0, "creation_date": 1534367382, "post_id": 51865856, "comment_id": 90685084, "body": "Try replacing <code>findByIdAndUpdate</code> with <code>findOneAndUpdate</code>."}, {"owner": {"reputation": 1, "user_id": 5072593, "user_type": "registered", "profile_image": "https://graph.facebook.com/658622217606209/picture?type=large", "display_name": "Prakkmak", "link": "https://stackoverflow.com/users/5072593/prakkmak"}, "reply_to_user": {"reputation": 9279, "user_id": 6440033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f070f5eb58ce80fa0b975a805e712362?s=128&d=identicon&r=PG&f=1", "display_name": "dnickless", "link": "https://stackoverflow.com/users/6440033/dnickless"}, "edited": false, "score": 0, "creation_date": 1534368055, "post_id": 51865856, "comment_id": 90685331, "body": "i got the same error"}, {"owner": {"reputation": 1, "user_id": 5072593, "user_type": "registered", "profile_image": "https://graph.facebook.com/658622217606209/picture?type=large", "display_name": "Prakkmak", "link": "https://stackoverflow.com/users/5072593/prakkmak"}, "reply_to_user": {"reputation": 9279, "user_id": 6440033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f070f5eb58ce80fa0b975a805e712362?s=128&d=identicon&r=PG&f=1", "display_name": "dnickless", "link": "https://stackoverflow.com/users/6440033/dnickless"}, "edited": false, "score": 0, "creation_date": 1534368310, "post_id": 51865856, "comment_id": 90685426, "body": "Ok news : The update work but the push seems to don&#39;t work.  The error happend when the relation don&#39;t exist."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 5072593, "user_type": "registered", "profile_image": "https://graph.facebook.com/658622217606209/picture?type=large", "display_name": "Prakkmak", "link": "https://stackoverflow.com/users/5072593/prakkmak"}, "is_accepted": false, "score": 0, "last_activity_date": 1534368893, "creation_date": 1534368893, "answer_id": 51866775, "question_id": 51865856, "link": "https://stackoverflow.com/questions/51865856/update-or-push-in-an-array-mongoose/51866775#51866775", "title": "Update or push in an array mongoose", "body": "<p>It's fixed:\n@dnickless gave me the solution I need:\nSwap to this code :</p>\n\n<pre><code>var link = {\n    user_id: require('mongoose').Types.ObjectId(req.body.user_id),\n    value: req.body.value\n};\nUser.findOneAndUpdate({_id: req.params.id, 'links.user_id': link.user_id}, {\n        $set: {\n            'links.$.value': link.value\n        }\n    },\n    (err, user) =&gt; {\n        if (err) throw err;\n        console.log(user);\n        if(!user){\n            User.findByIdAndUpdate(req.params.id,{\n                $push:{\n                    links:link\n                }\n            },\n            {safe: true, upsert: true},(err,user) =&gt; {\n                if (err) throw err;\n                res.send('Relations cr\u00e9\u00e9');\n            });\n        }\n        else{\n            res.send('Relations mise \u00e0 jour');\n        }\n    }\n);\n</code></pre>\n\n<p>Remove <code>{safe: true, upsert: true}</code>\nand replace <code>findByIdAndUpdate</code> with <code>findOneAndUpdate</code></p>\n"}], "owner": {"reputation": 1, "user_id": 5072593, "user_type": "registered", "profile_image": "https://graph.facebook.com/658622217606209/picture?type=large", "display_name": "Prakkmak", "link": "https://stackoverflow.com/users/5072593/prakkmak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534368893, "creation_date": 1534364397, "last_edit_date": 1534364633, "question_id": 51865856, "link": "https://stackoverflow.com/questions/51865856/update-or-push-in-an-array-mongoose", "title": "Update or push in an array mongoose", "body": "<p>Sorry for my bad english i'm french and I do my best for speak english !\nThis is my issue:\nI have a model <strong>User</strong> .</p>\n\n<pre><code>var userSchema = new Schema({\n    name: String,\n    username: {type: String, required: true, unique: true},\n    password: {type: String, required: true},\n    links: [{user_id: Schema.ObjectId,value: Number}],\n    created_at: Date,\n    updated_at: Date\n},{\n    strict: true\n});\n</code></pre>\n\n<p>I want to make links between users in my nodejs app. For this I want to search for a link : </p>\n\n<p>if it exist: update the value of this link</p>\n\n<p>if not: create a new link</p>\n\n<p><strong>My solution</strong></p>\n\n<pre><code>var link = {\n    user_id: req.body.user_id,\n    value: req.body.value\n};\nUser.findByIdAndUpdate({_id: req.params.id, 'links.user_id': link.user_id}, {\n            $set: {\n                'links.$.value': link.value\n            }\n        },\n        {safe: true, upsert: true},\n        (err, user) =&gt; {\n            if (err) throw err;\n            if(!user){\n                User.findByIdAndUpdate(req.params.id,{\n                    $push:{\n                        links:link\n                    }\n                },\n                {safe: true, upsert: true},(err,user) =&gt; {\n                    if (err) throw err;\n                    return res.send('relation cr\u00e9\u00e9')\n                })\n            }\n            res.send('Relation mise \u00e0 jour!');\n        }\n    );\n</code></pre>\n\n<p>My solution give me this <strong>error</strong>:</p>\n\n<pre><code>    F:\\Projets\\the_one_panel\\node_modules\\mongoose\\lib\\utils.js:461\n        throw err;\n        ^\nMongoError: The positional operator did not find the match needed from the query.\n    at F:\\Projets\\the_one_panel\\node_modules\\mongodb-core\\lib\\connection\\pool.js:580:63\n    at authenticateStragglers (F:\\Projets\\the_one_panel\\node_modules\\mongodb-core\\lib\\connection\\pool.js:503:16)\n    at Connection.messageHandler (F:\\Projets\\the_one_panel\\node_modules\\mongodb-core\\lib\\connection\\pool.js:539:5)\n    at emitMessageHandler (F:\\Projets\\the_one_panel\\node_modules\\mongodb-core\\lib\\connection\\connection.js:309:10)\n    at Socket.&lt;anonymous&gt; (F:\\Projets\\the_one_panel\\node_modules\\mongodb-core\\lib\\connection\\connection.js:452:17)\n    at emitOne (events.js:116:13)\n    at Socket.emit (events.js:211:7)\n    at addChunk (_stream_readable.js:263:12)\n    at readableAddChunk (_stream_readable.js:250:11)\n    at Socket.Readable.push (_stream_readable.js:208:10)\n    at TCP.onread (net.js:597:20)\n</code></pre>\n\n<p>How to do what I want to do ? Thank's in advance for anwers ! </p>\n"}, {"tags": ["javascript", "d3.js"], "comments": [{"owner": {"reputation": 11834, "user_id": 9938317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b72fceef5630b6b962624fed6ac9c82?s=128&d=identicon&r=PG&f=1", "display_name": "rioV8", "link": "https://stackoverflow.com/users/9938317/riov8"}, "edited": false, "score": 1, "creation_date": 1534365736, "post_id": 51865848, "comment_id": 90684423, "body": "the <code>&lt;center&gt;</code> tag has been deprecated for years. What has this to do with d3? You can add these elements with d3 but you do it the hard way."}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 9058421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85d441a1910c900034d9c4b7b893d7d4?s=128&d=identicon&r=PG&f=1", "display_name": "aimf212", "link": "https://stackoverflow.com/users/9058421/aimf212"}, "edited": false, "score": 0, "creation_date": 1534365220, "post_id": 51865977, "comment_id": 90684231, "body": "thanks! I added my html file, which may be the culprit"}, {"owner": {"reputation": 148, "user_id": 4776897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7lol5.jpg?s=128&g=1", "display_name": "Jeevan MB", "link": "https://stackoverflow.com/users/4776897/jeevan-mb"}, "reply_to_user": {"reputation": 39, "user_id": 9058421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85d441a1910c900034d9c4b7b893d7d4?s=128&d=identicon&r=PG&f=1", "display_name": "aimf212", "link": "https://stackoverflow.com/users/9058421/aimf212"}, "edited": false, "score": 0, "creation_date": 1534365547, "post_id": 51865977, "comment_id": 90684361, "body": "The HTML file is incorrectly formatted. check out this jsfiddle link. I corrected the HTML and it is adding the elements. <a href=\"http://jsfiddle.net/jforcode/xpvt214o/619471/\" rel=\"nofollow noreferrer\">jsfiddle.net/jforcode/xpvt214o/619471</a>"}], "tags": [], "owner": {"reputation": 148, "user_id": 4776897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7lol5.jpg?s=128&g=1", "display_name": "Jeevan MB", "link": "https://stackoverflow.com/users/4776897/jeevan-mb"}, "is_accepted": true, "score": 1, "last_activity_date": 1534365009, "creation_date": 1534365009, "answer_id": 51865977, "question_id": 51865848, "link": "https://stackoverflow.com/questions/51865848/dynamically-add-input-to-js-d3/51865977#51865977", "title": "dynamically add input to js d3", "body": "<p>Your code looks fine. I executed it in a jsfiddle, and it created the elements. There must be some other issue.</p>\n\n<p>I tried both cases where user-input element is a <code>&lt;div&gt;</code> as well as a <code>&lt;form&gt;</code>. It worked in both cases.</p>\n\n<p>While we are it, and you can ignore this - You can make some modifications to the code like this:</p>\n\n<pre><code>var elements = \"\";\n\nfor (i = 0; i &lt; 5; i++){\n  // this is what I assume what you were trying to do in the code\n  elements += \"&lt;input id='textfield_\" + i + \"'' type='text' value='text_\" + i + \"''&gt;\";\n\n  // this is cleaner way, but not supported in older browsers\n  elements += `&lt;input id='textfield_${i}' type='text' value='text_${i}'&gt;`;\n}\n\nvar div = document.getElementById('user-input');\ndiv.innerHTML += elements;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11834, "user_id": 9938317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b72fceef5630b6b962624fed6ac9c82?s=128&d=identicon&r=PG&f=1", "display_name": "rioV8", "link": "https://stackoverflow.com/users/9938317/riov8"}, "is_accepted": false, "score": 0, "last_activity_date": 1534367296, "creation_date": 1534367296, "answer_id": 51866463, "question_id": 51865848, "link": "https://stackoverflow.com/questions/51865848/dynamically-add-input-to-js-d3/51866463#51866463", "title": "dynamically add input to js d3", "body": "<p>In case you want to do it with d3 here is an example</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var numlines = 10;\r\nd3.select(\"#user-input\").selectAll(\".dummy\")\r\n  .data(d3.range(numlines))\r\n  .enter()\r\n  .append(\"input\")\r\n  .attr(\"id\", i =&gt; `textfield_${i}`)\r\n  .attr(\"type\", \"text\")\r\n  .attr(\"value\", i =&gt; `text_${i}`);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://d3js.org/d3.v5.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"passage\"&gt;&lt;/div&gt;\r\nFill out the below with the information in the above passage. To see an example, please click the button \"Show example\" above.\r\n&lt;div id=\"user-input\"&gt;\r\n    &lt;div class=\"col-xs-2\"&gt;\r\n        &lt;button type=\"button\" id=\"next\" value=\"next\" class=\"btn btn-primary btn-lg continue\"&gt;\r\n        Next &lt;span class=\"glyphicon glyphicon-arrow-right\"&gt;&lt;/span&gt;\r\n        &lt;/button&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 39, "user_id": 9058421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85d441a1910c900034d9c4b7b893d7d4?s=128&d=identicon&r=PG&f=1", "display_name": "aimf212", "link": "https://stackoverflow.com/users/9058421/aimf212"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 51865977, "answer_count": 2, "score": 0, "last_activity_date": 1534367296, "creation_date": 1534364372, "last_edit_date": 1534365194, "question_id": 51865848, "link": "https://stackoverflow.com/questions/51865848/dynamically-add-input-to-js-d3", "title": "dynamically add input to js d3", "body": "<p>I am new to d3 and am trying to create a function to dynamically add a certain number of text boxes to an html form, but have not been sucessful. Here is my code. What is the issue?</p>\n\n<pre><code>        for (i=0;i&lt;numLines;i++){\n        var div = document.getElementById('user-input');\n        div.innerHTML += '&lt;input id=\"textfield_\"+i type=\"text\" value=\"text_\"+i&gt;';\n    }\n</code></pre>\n\n<p>Here is the html code:</p>\n\n<pre><code>&lt;div id=\"container-exp\"&gt;\n&lt;div id=\"Stage 2\"&gt;\n    &lt;center&gt;\n            &lt;button type=\"button\" id=\"show-example\" value=\"show-example\" class=\"btn btn-primary btn-lg example\"\"&gt;\n            Show Example\n            &lt;/button&gt;        \n    &lt;/center&gt;&lt;br/&gt;&lt;br/&gt;\n    &lt;div class=\"col-xs-2\"&gt;\n\n    &lt;/div&gt;\n    &lt;div id=\"passage\"&gt;&lt;/div&gt;\n    Fill out the below with the information in the above passage. To see an example, please click the button \"Show example\" above.\n    &lt;/div id=\"user-input\"&gt;\n        &lt;div class=\"col-xs-2\"&gt;\n            &lt;button type=\"button\" id=\"next\" value=\"next\" class=\"btn btn-primary btn-lg continue\"&gt;\n            Next &lt;span class=\"glyphicon glyphicon-arrow-right\"&gt;&lt;/span&gt;\n            &lt;/button&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["javascript", "jquery", "html", "loops", "dynamic"], "comments": [{"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1534364596, "post_id": 51865810, "comment_id": 90683978, "body": "You are calling showDescription multiple times.  And you are doing a global selector on the <code>.unique-title</code>.  This is going to be creating duplicate bindings which is going to result in undesired behavior in your application.  Only bind once."}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1534364774, "post_id": 51865810, "comment_id": 90684052, "body": "You are appending a new <code>p</code> tag any time the title is clicked.  Is this intended, or should there be at most one description displayed at any given time?"}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 9517656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d59c005e58a392393eb17a588ccd289?s=128&d=identicon&r=PG&f=1", "display_name": "miranda", "link": "https://stackoverflow.com/users/9517656/miranda"}, "edited": false, "score": 0, "creation_date": 1534366950, "post_id": 51865943, "comment_id": 90684921, "body": "The logic to this solution definitely makes sense. I think a $(document).ready is needed to make the show/hide functions work, which I didn&#39;t have."}], "tags": [], "owner": {"reputation": 34640, "user_id": 1573683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b85473a8af7f1b76c9c08fb55a52f654?s=128&d=identicon&r=PG", "display_name": "bipen", "link": "https://stackoverflow.com/users/1573683/bipen"}, "is_accepted": false, "score": 1, "last_activity_date": 1534365210, "last_edit_date": 1534365210, "creation_date": 1534364883, "answer_id": 51865943, "question_id": 51865810, "link": "https://stackoverflow.com/questions/51865810/how-to-reveal-dynamic-data-on-click-with-jquery/51865943#51865943", "title": "How to reveal dynamic data on click with jquery", "body": "<p>So ok. From whatever I could understand (by looking at your code). You cannot register an event with simple <code>on</code> for dynamically added element. You have to use on delegate.</p>\n\n<p>Try this</p>\n\n<p>1) remove the function call (inside a loop)</p>\n\n<p>2) delete the entire function <code>showDescription</code> and add event as below:</p>\n\n<pre><code> $('#blog-posts').on('click', '.unique-title',function(){\n     alert('title clicked').\n });\n</code></pre>\n\n<p>3) As to display the description I think the best way will be to add the description in a div and hide it. Display it later once the title is clicked.</p>\n\n<pre><code> (inside the loop)\n $('&lt;div class = \"desc\" style=\"display:none\"&gt;' + description + '&lt;/div&gt;').appendTo(monthBlogPosts);\n</code></pre>\n\n<p>then on #2 above. Replace with this.</p>\n\n<pre><code>$('#blog-posts').on('click', '.unique-title',function(){\n    $(this).next('.desc').show(); //I am assuming desc will be next to the clicked title here. You can modify it as needed.\n});\n</code></pre>\n\n<p>Finally, this is just an overview of a code so might not work as expected but I am pretty sure this should give you an idea and get you started</p>\n"}, {"comments": [{"owner": {"reputation": 69, "user_id": 9517656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d59c005e58a392393eb17a588ccd289?s=128&d=identicon&r=PG&f=1", "display_name": "miranda", "link": "https://stackoverflow.com/users/9517656/miranda"}, "edited": false, "score": 0, "creation_date": 1534366833, "post_id": 51866053, "comment_id": 90684872, "body": "Thank you, this solution works. I had to make a minor edit from document.on to $(document).on"}, {"owner": {"reputation": 34640, "user_id": 1573683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b85473a8af7f1b76c9c08fb55a52f654?s=128&d=identicon&r=PG", "display_name": "bipen", "link": "https://stackoverflow.com/users/1573683/bipen"}, "reply_to_user": {"reputation": 69, "user_id": 9517656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d59c005e58a392393eb17a588ccd289?s=128&d=identicon&r=PG&f=1", "display_name": "miranda", "link": "https://stackoverflow.com/users/9517656/miranda"}, "edited": false, "score": 0, "creation_date": 1534367284, "post_id": 51866053, "comment_id": 90685048, "body": "@miranda Just a note. Instead of <code>$(document)</code> you can use closest available parent. With closest available parent,  browser doesn&#39;t have to traverse through all the dom elements to reach till document. I am guess <code>$(&#39;#blog-posts&#39;).on....</code> should work and should be faster."}, {"owner": {"reputation": 178, "user_id": 9748360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/074c234e93f62926a548959a556d356d?s=128&d=identicon&r=PG&f=1", "display_name": "user9748360", "link": "https://stackoverflow.com/users/9748360/user9748360"}, "edited": false, "score": 0, "creation_date": 1534367435, "post_id": 51866053, "comment_id": 90685106, "body": "corrected my mistake on $(document), and yes the event should be attached to a common parent, preferably not document"}], "tags": [], "owner": {"reputation": 178, "user_id": 9748360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/074c234e93f62926a548959a556d356d?s=128&d=identicon&r=PG&f=1", "display_name": "user9748360", "link": "https://stackoverflow.com/users/9748360/user9748360"}, "is_accepted": true, "score": 1, "last_activity_date": 1534367314, "last_edit_date": 1534367314, "creation_date": 1534365401, "answer_id": 51866053, "question_id": 51865810, "link": "https://stackoverflow.com/questions/51865810/how-to-reveal-dynamic-data-on-click-with-jquery/51866053#51866053", "title": "How to reveal dynamic data on click with jquery", "body": "<p>you should use event delegation to attach a click event to the document that will bubble up and trigger when <code>.title-list</code> is the event target.</p>\n\n<pre><code>$(document).on('click', '.title-list', function(event) { \n    showDescription(event.currentTarget) // pass the element being clicked (we will need it later)\n})\n</code></pre>\n\n<p>you would also need to modify the way you get the description.\nyou could store you description in a data attribute of <code>.title-list</code> like so:</p>\n\n<pre><code>$('&lt;div class = \"title-list\" data-description=\"'+ description  +'\"&gt;&lt;h3 class = \"unique-title\"&gt;' + title + '&lt;/h3&gt;&lt;/div&gt;').appendTo(monthBlogPosts)\n</code></pre>\n\n<p>so you can now modify <code>showDescription()</code> so it would get the data from the element we pass to the function </p>\n\n<pre><code>function showDescription(element){\n    var d = $(element).data('description')\n    $('&lt;p&gt;' + d + '&lt;/p&gt;').appendTo('body')\n    console.log(d)\n  })\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 9517656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d59c005e58a392393eb17a588ccd289?s=128&d=identicon&r=PG&f=1", "display_name": "miranda", "link": "https://stackoverflow.com/users/9517656/miranda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 51866053, "answer_count": 2, "score": 0, "last_activity_date": 1535430575, "creation_date": 1534364179, "last_edit_date": 1535430575, "question_id": 51865810, "link": "https://stackoverflow.com/questions/51865810/how-to-reveal-dynamic-data-on-click-with-jquery", "title": "How to reveal dynamic data on click with jquery", "body": "<p><strong>EDIT</strong>: <a href=\"https://stackoverflow.com/questions/52049075/how-to-dynamically-reveal-json-data-on-click-from-an-api/52049490?noredirect=1#comment91050233_52049490\"><strong>This</strong></a> is a more sound approach, since provided answer may have bugs when implementing <code>a</code> tags, or <code>img</code> tags. </p>\n\n<p>================================================================</p>\n\n<p>I am calling blog data from an API. (I've reformatted the data into an array by month). </p>\n\n<p>So far, the blog titles print to the web page. I'd like a user to be able to click a title and have its description revealed.</p>\n\n<p>Here is some of my code so far:</p>\n\n<pre><code>var blogPosts = $('#blog-posts');\n\n    $.each(byMonth, function(key, value) {\n      var outer = byMonth[key]\n\n      $.each(outer, function(k, v) {\n        var inner = outer[k]\n\n        var monthBlogPosts = $('&lt;div class = \"month\"&gt; &lt;/div&gt;').appendTo(blogPosts);\n\n        $.each(inner, function(i, obj) {\n\n          title = inner[i].Title\n          description = inner[i].Description\n          date = inner[i].DatePublished\n\n          $('&lt;div class = \"title-list\"&gt;&lt;h3 class = \"unique-title\"&gt;' + title + '&lt;/h3&gt;&lt;/div&gt;').appendTo(monthBlogPosts)\n\n          // if a title is clicked, show its Description\n          showDescription(description);\n\n        })\n      })\n    });\n\n    function showDescription(d){\n      $('.unique-title').on('click', function(){\n        $('&lt;p&gt;' + d + '&lt;/p&gt;').appendTo('body')\n        console.log(d)\n      })\n    }\n</code></pre>\n\n<p>When I click a title, all descriptions print instead of the matching description. I understand this is because I called the function in a nested loop, but I've also had trouble calling the description variable outside of it. </p>\n\n<p>I have also tried </p>\n\n<pre><code>showDescription(title, description)\n\n//...\n\nfunction showDescription(t, d){\n      $(title).on('click', function(){\n        $('&lt;p&gt;' + d + '&lt;/p&gt;').appendTo('body')\n        console.log(d)\n      })\n    }\n</code></pre>\n\n<p>but then nothing is printed to the html page.</p>\n\n<p>Essentially, I'd like to grab the title index, and print it's respective description when its clicked. </p>\n"}, {"tags": ["javascript", "node.js", "web-scraping", "puppeteer", "headless-browser"], "answers": [{"tags": [], "owner": {"reputation": 12797, "user_id": 6161265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d4cc9f4b0d916aec6e10fa7ee2c18e1?s=128&d=identicon&r=PG", "display_name": "Md. Abu Taher", "link": "https://stackoverflow.com/users/6161265/md-abu-taher"}, "is_accepted": false, "score": 0, "last_activity_date": 1534420309, "creation_date": 1534420309, "answer_id": 51876412, "question_id": 51865791, "link": "https://stackoverflow.com/questions/51865791/scraping-dynamic-pages-with-node-js-and-headless-browser/51876412#51876412", "title": "Scraping dynamic pages with node.js and headless browser", "body": "<p>You can use <code>waitForFunction</code> or <code>waitFor</code> and <code>evaluate</code> with <code>Promise.all</code>. No matter how dynamic the website is, you are waiting for something to be true at end and close the browser when that happens.</p>\n\n<p>Since I do not have access to your dynamic url, I am going to use some random variables and delays as example. It will resolve once the variable returns truthy.</p>\n\n<pre><code>await page.waitForFunction((()=&gt;!!someVariableThatShouldBeTrue);\n</code></pre>\n\n<p>If your dynamic page actually creates a selector somewhere after you evaluate the code? In that case,</p>\n\n<pre><code>await page.waitFor('someSelector')\n</code></pre>\n\n<p>Now back to your customCode, let me rename that for you a bit,</p>\n\n<pre><code>await page.evaluate(customCode)\n</code></pre>\n\n<p>Where customCode is something that will set a variable <code>someVariableThatShouldBeTrue</code> to true somewhere. Honestly it can be anything, a request, a string or anything. The possibilities are endless.</p>\n\n<p><strong>You can put a promise inside page.evaluate</strong>, recent chromium supports them very well. So the following will work too, resolve once you are loaded the function/data. Make sure the customCode is an async function or returns promise.</p>\n\n<pre><code>const pageContent = await page.evaluate(CustomCode);\n</code></pre>\n\n<p>Alright, now we have all required pieces. I modified the code a bit so it doesn't smell to me :D ,</p>\n\n<pre><code>module.exports = function buildClient(headlessBrowserClient) {\n  return {\n    getPageContent: async (url, CustomCode) =&gt; {\n      const state = {\n        req: { url },\n      };\n      // so that we can call them on \"finally\" block\n      let browser, page;\n      try {\n        // launch browser\n        browser = await headlessBrowserClient.launch()\n        page = await browser.newPage()\n        await page.goto(url)\n\n        // evaluate and wait for something to happen\n        // first element returns the pageContent, but whole will resolve if both ends truthy\n        const [pageContent] = await Promise.all([\n          await page.evaluate(CustomCode),\n          await page.waitForFunction((() =&gt; !!someVariableThatShouldBeTrue))\n        ])\n\n        // Or, You realize you can put a promise inside page.evaluate, recent chromium supports them very well\n        // const pageContent = await page.evaluate(CustomCode)\n\n        return pageContent;\n      } catch (error) {\n        throw new APIError(error, state)\n      } finally {\n        // NOTE: Maybe we can move them on a different function\n        await page.close()\n        await browser.close()\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>You can change and tweak it more as you wish. I did not test the final code (since I don't have APIError, evaluateCustomCode etc) but it should work. </p>\n\n<p>It doesn't have all those generators and stuff like that. <strong>Promises</strong>, That's how you can deal with dynamic pages :D .</p>\n\n<p>PS: IMO, Such questions are more befitting for <a href=\"https://codereview.stackexchange.com/\">the code review</a>.</p>\n"}], "owner": {"reputation": 523, "user_id": 5821253, "user_type": "registered", "accept_rate": 11, "profile_image": "https://lh3.googleusercontent.com/-TYfpgdcN888/AAAAAAAAAAI/AAAAAAAAABk/-a99aPGkay4/photo.jpg?sz=128", "display_name": "Enthusiastic Developer", "link": "https://stackoverflow.com/users/5821253/enthusiastic-developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 854, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1534420309, "creation_date": 1534364098, "question_id": 51865791, "link": "https://stackoverflow.com/questions/51865791/scraping-dynamic-pages-with-node-js-and-headless-browser", "title": "Scraping dynamic pages with node.js and headless browser", "body": "<p>I'm trying to scrap data from the page that is loading dynamically. For this I'm using headless browser <em>puppeteer</em></p>\n\n<blockquote>\n  <p><strong>Puppeteer</strong> can be seen as the <em>headlessBrowserClient</em> in the code.</p>\n</blockquote>\n\n<p>The main challenge is to gracefully close the browser as soon as needed data received. But if you close it earlier than evaluateCustomCode execution is finished - evaluateCustomCode progress would be lost. </p>\n\n<blockquote>\n  <p><strong>evaluateCustomCode</strong> is a function that can be called as if we run it in the Chrome Dev tools.</p>\n</blockquote>\n\n<p>To have control over the network requests and async flow of puppeteer API - I use async generator that encapsulates all the logic described above.</p>\n\n<p><strong>The problem is that I feel that the code smells, but I can't see any better solution.</strong></p>\n\n<p>Ideas ?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>module.exports = function buildClient (headlessBrowserClient) {\r\n  const getPageContent = async (pageUrl, evaluateCustomCode) =&gt; {\r\n    const request = sendRequest(pageUrl)\r\n    const { value: page } = await request.next()\r\n\r\n    if (page) {\r\n      const pageContent = await page.evaluate(evaluateCustomCode)\r\n      request.next()\r\n\r\n      return pageContent\r\n    }\r\n  }\r\n\r\n  async function * sendRequest (url) {\r\n    const browser = await headlessBrowserClient.launch()\r\n    const page = await browser.newPage()\r\n\r\n    const state = {\r\n      req: { url },\r\n    }\r\n\r\n    try {\r\n      await page.goto(url)\r\n      yield page\r\n    } catch (error) {\r\n      throw new APIError(error, state)\r\n    } finally {\r\n      yield browser.close()\r\n    }\r\n  }\r\n\r\n  return {\r\n    getPageContent,\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "edited": false, "score": 2, "creation_date": 1534363846, "post_id": 51865698, "comment_id": 90683634, "body": "What is <code>self</code>? Don\u2019t you mean <code>this</code>?"}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 1, "creation_date": 1534363891, "post_id": 51865698, "comment_id": 90683654, "body": "<code>self</code> is going to be <code>window</code> probably; you definitely want <code>this</code>"}, {"owner": {"reputation": 152, "user_id": 8232996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af0bf02871b0fa8769992ea5416d4452?s=128&d=identicon&r=PG&f=1", "display_name": "faizan", "link": "https://stackoverflow.com/users/8232996/faizan"}, "edited": false, "score": 0, "creation_date": 1534363991, "post_id": 51865698, "comment_id": 90683701, "body": "self refers to window object which results in having f1,f2,f3 point to same object, hence it is showing 300 as value of x property on window object"}, {"owner": {"reputation": 914, "user_id": 3673659, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/p5Avg.jpg?s=128&g=1", "display_name": "Tanckom", "link": "https://stackoverflow.com/users/3673659/tanckom"}, "edited": false, "score": 0, "creation_date": 1534364007, "post_id": 51865698, "comment_id": 90683710, "body": "Some people refer to var self = this; to have it globally."}], "answers": [{"tags": [], "owner": {"reputation": 3728, "user_id": 2398764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cobgX.jpg?s=128&g=1", "display_name": "Koushik Chatterjee", "link": "https://stackoverflow.com/users/2398764/koushik-chatterjee"}, "is_accepted": true, "score": 4, "last_activity_date": 1534365678, "last_edit_date": 1534365678, "creation_date": 1534363980, "answer_id": 51865764, "question_id": 51865698, "link": "https://stackoverflow.com/questions/51865698/array-push-alters-all-elements/51865764#51865764", "title": "Array push alters all elements", "body": "<p>Basically, Nothing to do with push. when you are doing <code>self.x = x</code> it is updating the global object (as, this in global scope) which is window, and you are returning window. your array contains <code>[window, window, window]</code> and each time you are overriding <code>x</code> and <code>y</code> in window. use <code>this</code> instead to create object of your prototype and you don't need to return if you are using <code>new</code>;</p>\n"}, {"comments": [{"owner": {"reputation": 3728, "user_id": 2398764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cobgX.jpg?s=128&g=1", "display_name": "Koushik Chatterjee", "link": "https://stackoverflow.com/users/2398764/koushik-chatterjee"}, "edited": false, "score": 0, "creation_date": 1534365785, "post_id": 51865988, "comment_id": 90684441, "body": "I guess, we can override <code>window.self</code>"}], "tags": [], "owner": {"reputation": 9517, "user_id": 3194372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f89cc5d5ba3695c96e02e9ffc9b61f59?s=128&d=identicon&r=PG", "display_name": "Jason Cust", "link": "https://stackoverflow.com/users/3194372/jason-cust"}, "is_accepted": false, "score": 2, "last_activity_date": 1534365056, "creation_date": 1534365056, "answer_id": 51865988, "question_id": 51865698, "link": "https://stackoverflow.com/questions/51865698/array-push-alters-all-elements/51865988#51865988", "title": "Array push alters all elements", "body": "<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/self\" rel=\"nofollow noreferrer\"><code>self</code></a>:</p>\n\n<blockquote>\n  <p>The Window.self read-only property returns the window itself, as a WindowProxy. It can be used with dot notation on a window object (that is, window.self) or standalone (self).</p>\n</blockquote>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this\" rel=\"nofollow noreferrer\"><code>this</code></a>:</p>\n\n<blockquote>\n  <p>In most cases, the value of <code>this</code> is determined by how a function is called. It can't be set by assignment during execution, and it may be different each time the function is called.</p>\n</blockquote>\n\n<p>You can notice the difference of <code>this</code> in your example by either using or not using the <code>new</code> keyword:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function foo() {\r\n  console.log({\r\n    isThisEqualToWindow: self === this,\r\n    self: self.toString(),\r\n    this: this.toString()\r\n  });\r\n}\r\n\r\nnew foo();\r\nfoo();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>While <code>self</code> always refers to the <code>window</code> object, <code>this</code> can refer to either the object created by <code>new</code> (using the function as a constructor) or the <code>window</code> object because of the context for the function invocation.</p>\n\n<p>In regards to your specific example, since you are using the <code>new</code> constructor then <code>this</code> would refer to the created object and would work as you expect:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var MyObject = function(x, y) {\r\n  this.x = x;\r\n  this.y = y;\r\n  return this;\r\n}\r\n\r\nvar myObjects = [];\r\n\r\n\r\nvar f1 = new MyObject(150, 200);\r\nvar f2 = new MyObject(250, 250);\r\nvar f3 = new MyObject(300, 500);\r\nmyObjects.push(f1);\r\nmyObjects.push(f2);\r\nmyObjects.push(f3);\r\n\r\nfor (var i = 0; i &lt; myObjects.length; i++) {\r\n  console.log(myObjects[i].x);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 676, "user_id": 6310938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9DdhN.jpg?s=128&g=1", "display_name": "Eldiyar Talantbek", "link": "https://stackoverflow.com/users/6310938/eldiyar-talantbek"}, "is_accepted": false, "score": 0, "last_activity_date": 1534533385, "last_edit_date": 1534533385, "creation_date": 1534367155, "answer_id": 51866435, "question_id": 51865698, "link": "https://stackoverflow.com/questions/51865698/array-push-alters-all-elements/51866435#51866435", "title": "Array push alters all elements", "body": "<p>You can also do var self = this;</p>\n"}], "owner": {"reputation": 485, "user_id": 5404251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ca2027ddbfb95aec818ebc21e7b3717?s=128&d=identicon&r=PG&f=1", "display_name": "Anil", "link": "https://stackoverflow.com/users/5404251/anil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "closed_date": 1534404099, "accepted_answer_id": 51865764, "answer_count": 3, "score": 1, "last_activity_date": 1534533385, "creation_date": 1534363632, "last_edit_date": 1534364209, "question_id": 51865698, "link": "https://stackoverflow.com/questions/51865698/array-push-alters-all-elements", "closed_reason": "Not suitable for this site", "title": "Array push alters all elements", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var MyObject = function(x, y) {\r\n  self.x = x;\r\n  self.y = y;\r\n  return self;\r\n}\r\n\r\nvar myObjects = [];\r\n\r\n\r\nvar f1 = new MyObject(150, 200);\r\nvar f2 = new MyObject(250, 250);\r\nvar f3 = new MyObject(300, 500);\r\nmyObjects.push(f1);\r\nmyObjects.push(f2);\r\nmyObjects.push(f3);\r\n\r\nfor (var i = 0; i &lt; myObjects.length; i++) {\r\n  console.log(myObjects[i].x);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The console logs as 3 times 300, which is the x of the last element. I couldn't figure out how this outcome happens?</p>\n"}, {"tags": ["javascript", "arrays"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1534363825, "post_id": 51865641, "comment_id": 90683625, "body": "Arrays are objects and the keys can be any string value. It&#39;s <i>usually</i> not a great idea to use non-numeric keys, but there&#39;s nothing fundamentally wrong with it. The numeric keys are in fact always interpreted as strings anyway."}], "answers": [{"tags": [], "owner": {"reputation": 3219, "user_id": 1366860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f8eb7b34f85f92868cb85acb27c0b12?s=128&d=identicon&r=PG&f=1", "display_name": "Erick Ruiz de Chavez", "link": "https://stackoverflow.com/users/1366860/erick-ruiz-de-chavez"}, "is_accepted": false, "score": 0, "last_activity_date": 1534363705, "creation_date": 1534363705, "answer_id": 51865715, "question_id": 51865641, "link": "https://stackoverflow.com/questions/51865641/when-can-a-javascript-array-store-elements-in-key-value-pairs-with-keys-having/51865715#51865715", "title": "When can a javascript array store elements in key: value pairs with keys having &#39;string&#39; values?", "body": "<p>From MDN</p>\n\n<blockquote>\n  <p>Arrays are list-like objects whose prototype has methods to perform traversal and mutation operations. Neither the length of a JavaScript array nor the types of its elements are fixed. Since an array's length can change at any time, and data can be stored at non-contiguous locations in the array, JavaScript arrays are not guaranteed to be dense; this depends on how the programmer chooses to use them. In general, these are convenient characteristics; but if these features are not desirable for your particular use, you might consider using typed arrays.</p>\n</blockquote>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array#Description\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array#Description</a></p>\n"}, {"comments": [{"owner": {"reputation": 1691, "user_id": 6352772, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/WnyOn.jpg?s=128&g=1", "display_name": "Kartik Chauhan", "link": "https://stackoverflow.com/users/6352772/kartik-chauhan"}, "edited": false, "score": 0, "creation_date": 1534363957, "post_id": 51865719, "comment_id": 90683685, "body": "I understood your answer but my question is How is &#39;purple&#39; a valid key for an array?"}, {"owner": {"reputation": 1691, "user_id": 6352772, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/WnyOn.jpg?s=128&g=1", "display_name": "Kartik Chauhan", "link": "https://stackoverflow.com/users/6352772/kartik-chauhan"}, "edited": false, "score": 0, "creation_date": 1534364621, "post_id": 51865719, "comment_id": 90683995, "body": "Looping through all the properties using &#39;for in&#39; loop will result in &#39;2 purple&#39;. The results are very unexpected."}, {"owner": {"reputation": 6780, "user_id": 423259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4094285fbb5d56c7765e2a0569880334?s=128&d=identicon&r=PG", "display_name": "js1568", "link": "https://stackoverflow.com/users/423259/js1568"}, "reply_to_user": {"reputation": 1691, "user_id": 6352772, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/WnyOn.jpg?s=128&g=1", "display_name": "Kartik Chauhan", "link": "https://stackoverflow.com/users/6352772/kartik-chauhan"}, "edited": false, "score": 1, "creation_date": 1534365007, "post_id": 51865719, "comment_id": 90684154, "body": "That&#39;s a whole new question. Which is answered on here already. <code>for ... in</code> iterates over properties names of an object. <code>Array.forEach</code> iterates over array elements. <code>for ... of</code> iterates over properties that are defined as <code>iterable</code>"}], "tags": [], "owner": {"reputation": 6780, "user_id": 423259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4094285fbb5d56c7765e2a0569880334?s=128&d=identicon&r=PG", "display_name": "js1568", "link": "https://stackoverflow.com/users/423259/js1568"}, "is_accepted": false, "score": 5, "last_activity_date": 1534364310, "last_edit_date": 1534364310, "creation_date": 1534363714, "answer_id": 51865719, "question_id": 51865641, "link": "https://stackoverflow.com/questions/51865641/when-can-a-javascript-array-store-elements-in-key-value-pairs-with-keys-having/51865719#51865719", "title": "When can a javascript array store elements in key: value pairs with keys having &#39;string&#39; values?", "body": "<p><code>color</code> is an array. All arrays extend objects. In this line you are doing two things (very unusual syntax, probably not what you intended):</p>\n\n<p><code>color[color['purple'] = 2] = 'green'</code></p>\n\n<p>1: <code>color.purple = 2</code> does not add an element to the array. It set a property of <code>purple</code> on the object <code>color</code>.</p>\n\n<p>2: <code>color[2] = green</code> The above assignment statement resolves to (returns) the value 2. That means that you are assigning <code>color[2]</code> in this case.</p>\n\n<p>3: Because the array has a value at index 2, it also has space allocated for index 0 and 1 (the two blanks)</p>\n\n<p>Integer properties are elements of the array. All other properties are general properties that are the same for all objects. If you look at <code>color.length</code> you will see that is 3 in this case: <code>[undefined, undefined, green]</code>. By adding additional properties to the array, you are basically extending the array interface to a custom Array-like object.</p>\n\n<p>Refer to this second paragraph <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array#Description\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<blockquote>\n  <p>Arrays cannot use strings as element indexes (as in an associative array) but must use integers. Setting or accessing via non-integers using bracket notation (or dot notation) will not set or retrieve an element from the array list itself, but will set or access a variable associated with that array's object property collection. The array's object properties and list of array elements are separate, and the array's traversal and mutation operations cannot be applied to these named properties.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 6780, "user_id": 423259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4094285fbb5d56c7765e2a0569880334?s=128&d=identicon&r=PG", "display_name": "js1568", "link": "https://stackoverflow.com/users/423259/js1568"}, "edited": false, "score": 1, "creation_date": 1534364703, "post_id": 51865759, "comment_id": 90684027, "body": "Technically, any value is valid for an object property, not an array element. Your key is not an array element. If you check <code>x.length === 0</code>, you will see you did not add anything to the array. See my reference from MDN."}, {"owner": {"reputation": 148, "user_id": 4776897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7lol5.jpg?s=128&g=1", "display_name": "Jeevan MB", "link": "https://stackoverflow.com/users/4776897/jeevan-mb"}, "reply_to_user": {"reputation": 6780, "user_id": 423259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4094285fbb5d56c7765e2a0569880334?s=128&d=identicon&r=PG", "display_name": "js1568", "link": "https://stackoverflow.com/users/423259/js1568"}, "edited": false, "score": 0, "creation_date": 1534365233, "post_id": 51865759, "comment_id": 90684238, "body": "Thanks a lot! I was actually not aware of the fact that it adds as a property and not a key. I just verified and you are correct."}], "tags": [], "owner": {"reputation": 148, "user_id": 4776897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7lol5.jpg?s=128&g=1", "display_name": "Jeevan MB", "link": "https://stackoverflow.com/users/4776897/jeevan-mb"}, "is_accepted": false, "score": 0, "last_activity_date": 1534364339, "last_edit_date": 1534364339, "creation_date": 1534363964, "answer_id": 51865759, "question_id": 51865641, "link": "https://stackoverflow.com/questions/51865641/when-can-a-javascript-array-store-elements-in-key-value-pairs-with-keys-having/51865759#51865759", "title": "When can a javascript array store elements in key: value pairs with keys having &#39;string&#39; values?", "body": "<p><code>color[color['purple'] = 2] = 'green';</code></p>\n\n<p>Let's break it down. First it does <code>color['purple'] = 2</code>. This results in color being: <code>[purple: 2]</code>. If you execute <code>var color = []; color['purple'] = 2;</code> in the console now, the output will be 2. </p>\n\n<p>So, after execution of inner statement, the equivalent statement is <code>color[2] = 'green'</code>. Since, this is a numerical assignment, it assigns value 'green' to 3rd element of array (position 2), and also creates two empty items at position 0 and position 1.</p>\n\n<p>Hence, the output: <code>[&lt;2 empty items&gt;, green, purple: 2]</code></p>\n\n<p>@js1568 Well written answer. Kudos.</p>\n\n<p>@Kartik Chauhan To answer your main question - How is 'purple' a valid key for an array?</p>\n\n<p>JS arrays are not just numerically accessible arrays. They are more like maps, where the key can be any object. You can try this code in the browser console.</p>\n\n<p><code>var x = []; x[{name: \"Kartik\"}] = 25; x[{name: \"Kartik\"}];</code></p>\n\n<p>and the output will be 25.</p>\n\n<p>Hence, value purple is a valid key for an array.</p>\n"}, {"tags": [], "owner": {"reputation": 1420, "user_id": 9167116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8QJfI.jpg?s=128&g=1", "display_name": "Madmadi", "link": "https://stackoverflow.com/users/9167116/madmadi"}, "is_accepted": false, "score": 0, "last_activity_date": 1534365918, "creation_date": 1534365918, "answer_id": 51866170, "question_id": 51865641, "link": "https://stackoverflow.com/questions/51865641/when-can-a-javascript-array-store-elements-in-key-value-pairs-with-keys-having/51866170#51866170", "title": "When can a javascript array store elements in key: value pairs with keys having &#39;string&#39; values?", "body": "<ol>\n<li>the sentence that said <code>\"everything in JavaScript is an Object\"</code> is totally wrong.</li>\n<li>in JavaScript arrays are a subtype of the object with special functionalities for ds management, so you can do everything with an array as an object and expect that still be an array.</li>\n<li>also <code>String</code>, <code>Number</code>, <code>Boolean</code>, <code>Function</code>, etc. are all a subtype of the object in JavaScript and they are not a primary type while <code>typeof</code> statement just returns the root primary type of a variable.</li>\n</ol>\n\n<p>according to the above principles your results that you get make sense.</p>\n\n<p>to ensure that variable really is an array I think <code>Array.isArray</code> function is the safe option that added in <code>ECMAScript 5</code>.</p>\n\n<p>and finally, I strongly suggest you read a piece of great <code>YDKJS book series</code> about Objects:</p>\n\n<p><a href=\"https://github.com/Mahdimeraji07/You-Dont-Know-JS/blob/master/this%20%26%20object%20prototypes/ch3.md\" rel=\"nofollow noreferrer\">https://github.com/Mahdimeraji07/You-Dont-Know-JS/blob/master/this%20%26%20object%20prototypes/ch3.md</a></p>\n"}], "owner": {"reputation": 1691, "user_id": 6352772, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/WnyOn.jpg?s=128&g=1", "display_name": "Kartik Chauhan", "link": "https://stackoverflow.com/users/6352772/kartik-chauhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 493, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1534365918, "creation_date": 1534363307, "last_edit_date": 1534363513, "question_id": 51865641, "link": "https://stackoverflow.com/questions/51865641/when-can-a-javascript-array-store-elements-in-key-value-pairs-with-keys-having", "title": "When can a javascript array store elements in key: value pairs with keys having &#39;string&#39; values?", "body": "<p>It's said that everything in javascript is an object. So, to understand the concept in detail I wrote the following code but got some unexpected results.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var color = [];\r\nconsole.log(color.constructor === Array);\r\ncolor[color['purple'] = 2] = 'green';\r\nconsole.log(color);\r\nconsole.log(color.constructor === Array);\r\nconsole.log(Array.isArray(color));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>According to my understanding, arrays can only hold values when their keys are number. To store key as a string we use objects. However, the above code resulted in this.</p>\n\n<pre><code>true\n[ &lt;2 empty items&gt;, 'green', purple: 2 ]\ntrue\ntrue\n</code></pre>\n\n<p><code>typeof color</code> will result in <code>object</code> but that's a generic case for all arrays. How is <code>purple: 2</code> a valid element inside the <code>color</code> variable? Shouldn't <code>color</code> be an object rather than an array? Or is there any other inbuilt method with which I can check a variable is an array or an object? </p>\n\n<p>These type of questions have been asked before but the scenarios were somewhat different. I looked for this specific case but didn't get any satisfying result.</p>\n"}]