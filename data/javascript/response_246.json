[{"tags": ["javascript", "node.js", "express", "sinon", "chai"], "answers": [{"tags": [], "owner": {"reputation": 15096, "user_id": 200987, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1cdd96f59bb81a26d81870ba244215bc?s=128&d=identicon&r=PG", "display_name": "oligofren", "link": "https://stackoverflow.com/users/200987/oligofren"}, "is_accepted": true, "score": 1, "last_activity_date": 1569924610, "creation_date": 1569924610, "answer_id": 58182583, "question_id": 58107900, "link": "https://stackoverflow.com/questions/58107900/how-to-test-expressjs-controller-nodejs/58182583#58182583", "title": "how to test expressJS controller- NodeJS", "body": "<p>First of all, when asking a StackOverflow question, it makes sense to post a fully runnable example and stating all dependencies. Basically, I used more than an hour trying to test this out because both were missing.</p>\n\n<p>This is the fully expanded example, just with dummy implementations of your two main objects.</p>\n\n<pre><code>var sinon = require(\"sinon\");\nvar sinonTest = require(\"sinon-test\");\nvar test = sinonTest(sinon);\n\nconst Vehicle = {\n  find() {}\n};\nconst Controller = {\n  index() {}\n};\n\ndescribe(\"index (get all)\", function() {\n  let expectedResult, res, req;\n\n  beforeEach(function() {\n    res = {\n      json: sinon.spy(),\n      status: sinon.stub().returns({ end: sinon.spy() })\n    };\n    expectedResult = [{}, {}, {}];\n  });\n\n  it(\n    \"should return array of vehicles or empty array\",\n    test(function() {\n      this.stub(Vehicle, \"find\").yields(null, expectedResult);\n      Controller.index(req, res);\n      sinon.assert.calledWith(Vehicle.find, {});\n      sinon.assert.calledWith(res.json, sinon.match.array);\n    })\n  );\n});\n</code></pre>\n\n<p>Now, to your question, which was why you were getting an error. The first thing to test is: does the bug appear when I update to the latest versions of the dependencies of the test? The answer is, <em>no, it does not appear</em>. So basically, this is about you using the <code>sinon-test</code> version 2.0, which had a compatibility bug with Sinon 3. This is from the <a href=\"https://github.com/sinonjs/sinon-test/blob/master/History.md\" rel=\"nofollow noreferrer\">changelog</a>:</p>\n\n<pre><code>2.1.0 / 2017-08-07\n==================\nFix compatibility with Sinon 3 (#77)\n\n\n2.0.0 / 2017-06-22\n==================\n\n  * Simplify configuration API (#74)\n</code></pre>\n\n<p>So, given that has been fixed, and the example below is being used, the test is fully runnable:</p>\n\n<pre><code>mocha mytest.js \n\n\n  index (get all)\n    1) should return array of vehicles or empty array\n\n\n  0 passing (6ms)\n  1 failing\n\n  1) index (get all)\n       should return array of vehicles or empty array:\n     AssertError: expected find to be called with arguments \n</code></pre>\n\n<p>The error here is of course not really an error, but simply a byproduct of me not having the full implementation of your controller and vehicle classes.</p>\n"}], "owner": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 58182583, "answer_count": 1, "score": 0, "last_activity_date": 1569924610, "creation_date": 1569455931, "question_id": 58107900, "link": "https://stackoverflow.com/questions/58107900/how-to-test-expressjs-controller-nodejs", "title": "how to test expressJS controller- NodeJS", "body": "<p>Trying to unit test my controller, but when I do so I'm getting the following error.</p>\n\n<p><strong>I'm open to answers with a different way of testing my controller.</strong></p>\n\n<p><strong>Error:</strong> </p>\n\n<blockquote>\n  <p>TypeError: expected sinon object</p>\n</blockquote>\n\n<pre><code> const test = require('sinon-test');\n\n\n\n describe('index (get all)', function() {\n    beforeEach(function() {\n      res = {\n        json: sinon.spy(),\n        status: sinon.stub().returns({ end: sinon.spy() })\n      };\n      expectedResult = [{}, {}, {}];\n    });\n    it(\n      'should return array of vehicles or empty array',\n      test(() =&gt; {\n        this.stub(Vehicle, 'find').yields(null, expectedResult);\n        Controller.index(req, res);\n        sinon.assert.calledWith(Vehicle.find, {});\n        sinon.assert.calledWith(res.json, sinon.match.array);\n      })\n    );\n  });\n</code></pre>\n"}, {"tags": ["javascript", "go", "gorilla", "polymer-3.x", "lit-element"], "comments": [{"owner": {"reputation": 5151, "user_id": 4466350, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd5606b873067472e30c5ef5bc2ac5bf?s=128&d=identicon&r=PG&f=1", "display_name": "mh-cbon", "link": "https://stackoverflow.com/users/4466350/mh-cbon"}, "edited": false, "score": 1, "creation_date": 1569486144, "post_id": 58107883, "comment_id": 102614730, "body": "something is wrong in your problem analysis. FileServer uses ServeContent internally, and ServeContent manages content type for you. <a href=\"https://golang.org/pkg/net/http/#ServeContent\" rel=\"nofollow noreferrer\">golang.org/pkg/net/http/#ServeContent</a> can you try to curl the js resource and share the result ?"}, {"owner": {"reputation": 1818, "user_id": 1626597, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/1400f25283ad32b0fc56999d051ae4ad?s=128&d=identicon&r=PG", "display_name": "NicolasR", "link": "https://stackoverflow.com/users/1626597/nicolasr"}, "reply_to_user": {"reputation": 5151, "user_id": 4466350, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd5606b873067472e30c5ef5bc2ac5bf?s=128&d=identicon&r=PG&f=1", "display_name": "mh-cbon", "link": "https://stackoverflow.com/users/4466350/mh-cbon"}, "edited": false, "score": 0, "creation_date": 1569498231, "post_id": 58107883, "comment_id": 102621219, "body": "Ok, see my update"}], "answers": [{"comments": [{"owner": {"reputation": 1818, "user_id": 1626597, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/1400f25283ad32b0fc56999d051ae4ad?s=128&d=identicon&r=PG", "display_name": "NicolasR", "link": "https://stackoverflow.com/users/1626597/nicolasr"}, "edited": false, "score": 1, "creation_date": 1569503000, "post_id": 58116636, "comment_id": 102623819, "body": "Thanks for that example! It&#39;s totally crazy: your code produces on my side Content-Type: text/plain; charset=utf-8. As soon as I change the extension to mjs it correctly reports Content-Type: application/javascript. I checked the source code of the current http and mime packages. There seem to be differences between Windows and Linux mime detection. And in my Windows registry I found the extension js mapped to text/plain!!! Other Windows systems don&#39;t seem to have that entry. I&#39;m going to investigate this closer tonight..."}, {"owner": {"reputation": 5151, "user_id": 4466350, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd5606b873067472e30c5ef5bc2ac5bf?s=128&d=identicon&r=PG&f=1", "display_name": "mh-cbon", "link": "https://stackoverflow.com/users/4466350/mh-cbon"}, "reply_to_user": {"reputation": 1818, "user_id": 1626597, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/1400f25283ad32b0fc56999d051ae4ad?s=128&d=identicon&r=PG", "display_name": "NicolasR", "link": "https://stackoverflow.com/users/1626597/nicolasr"}, "edited": false, "score": 0, "creation_date": 1569503411, "post_id": 58116636, "comment_id": 102624045, "body": "that s indeed very surprising. Looking at the go source code, ServeContent calls for mime.TypeByExtension (<a href=\"https://golang.org/src/net/http/fs.go#L196\" rel=\"nofollow noreferrer\">golang.org/src/net/http/fs.go#L196</a>). On windows (to keep this comment short) it relies on the registry, indeed, <a href=\"https://golang.org/src/mime/type_windows.go\" rel=\"nofollow noreferrer\">golang.org/src/mime/type_windows.go</a>"}, {"owner": {"reputation": 1818, "user_id": 1626597, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/1400f25283ad32b0fc56999d051ae4ad?s=128&d=identicon&r=PG", "display_name": "NicolasR", "link": "https://stackoverflow.com/users/1626597/nicolasr"}, "edited": false, "score": 1, "creation_date": 1569577074, "post_id": 58116636, "comment_id": 102650619, "body": "Ok, the registry setting was indeed the problem. I don&#39;t understand which software made this mapping and why this did not cause any problems before with other applications. Anyway, thanks for your time and I will accept your answer as it gave me an idea how to diagnose the problem."}], "tags": [], "owner": {"reputation": 5151, "user_id": 4466350, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd5606b873067472e30c5ef5bc2ac5bf?s=128&d=identicon&r=PG&f=1", "display_name": "mh-cbon", "link": "https://stackoverflow.com/users/4466350/mh-cbon"}, "is_accepted": true, "score": 1, "last_activity_date": 1569503552, "last_edit_date": 1569503552, "creation_date": 1569500202, "answer_id": 58116636, "question_id": 58107883, "link": "https://stackoverflow.com/questions/58107883/golang-and-javascript-modules/58116636#58116636", "title": "Golang and JavaScript modules", "body": "<p>Are you sure you hit the right end point ?</p>\n\n<p>See that small example (that you can try on your host to give a check)</p>\n\n<pre><code>$ tree\n.\n\u251c\u2500\u2500 main.go\n\u2514\u2500\u2500 wwwroot\n    \u2514\u2500\u2500 test.js\n\n1 directory, 2 files\n\n$ cat main.go \npackage main\n\nimport (\n    \"net/http\"\n\n    \"github.com/gorilla/mux\"\n)\n\nfunc main() {\n    mux := mux.NewRouter()\n    mux.PathPrefix(\"/\").Handler(http.FileServer(http.Dir(\"./wwwroot\")))\n\n    http.ListenAndServe(\":8080\", mux)\n}\n\n\n$  cat wwwroot/test.js\n\n$ go run main.go &amp;\n[1] 11841\n$ curl -v http://localhost:8080/test.js\n*   Trying ::1:8080...\n* TCP_NODELAY set\n* Connected to localhost (::1) port 8080 (#0)\n&gt; GET /test.js HTTP/1.1\n&gt; Host: localhost:8080\n&gt; User-Agent: curl/7.65.3\n&gt; Accept: */*\n&gt; \n* Mark bundle as not supporting multiuse\n&lt; HTTP/1.1 200 OK\n&lt; Accept-Ranges: bytes\n&lt; Content-Length: 0\n&lt; Content-Type: application/javascript\n&lt; Last-Modified: Thu, 26 Sep 2019 12:12:15 GMT\n&lt; Date: Thu, 26 Sep 2019 12:15:36 GMT\n&lt; \n* Connection #0 to host localhost left intact\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1818, "user_id": 1626597, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/1400f25283ad32b0fc56999d051ae4ad?s=128&d=identicon&r=PG", "display_name": "NicolasR", "link": "https://stackoverflow.com/users/1626597/nicolasr"}, "edited": false, "score": 0, "creation_date": 1611098265, "post_id": 65756658, "comment_id": 116340483, "body": "Unfortunately that doesn&#39;t work for me because I need at least es6. And, by the way, I don&#39;t use Typescript in this project."}], "tags": [], "owner": {"reputation": 1, "user_id": 15021736, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1bDnE.png?s=128&g=1", "display_name": "lovegolabs", "link": "https://stackoverflow.com/users/15021736/lovegolabs"}, "is_accepted": false, "score": 0, "last_activity_date": 1610858459, "last_edit_date": 1610858459, "creation_date": 1610849322, "answer_id": 65756658, "question_id": 58107883, "link": "https://stackoverflow.com/questions/58107883/golang-and-javascript-modules/65756658#65756658", "title": "Golang and JavaScript modules", "body": "<p>In my project, I had the same problem. Following is my solution:\nIn <code>tsconfig.json</code> file, make <code>&quot;target&quot;: &quot;es5&quot;</code></p>\n"}], "owner": {"reputation": 1818, "user_id": 1626597, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/1400f25283ad32b0fc56999d051ae4ad?s=128&d=identicon&r=PG", "display_name": "NicolasR", "link": "https://stackoverflow.com/users/1626597/nicolasr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 429, "favorite_count": 0, "accepted_answer_id": 58116636, "answer_count": 2, "score": 0, "last_activity_date": 1610858459, "creation_date": 1569455666, "last_edit_date": 1569498219, "question_id": 58107883, "link": "https://stackoverflow.com/questions/58107883/golang-and-javascript-modules", "title": "Golang and JavaScript modules", "body": "<p>I want to use Polymer LitElement with a Go backend.\nWith LitElement I implement the web components in JavaScript modules!\nFor routing on the server-side I use Gorilla Mux like this</p>\n\n<pre><code>mux := mux.NewRouter()\nmux.PathPrefix(\"/\").Handler(http.FileServer(http.Dir(\"./wwwroot\")))\n</code></pre>\n\n<p>This loads static html files correctly. When a html file references a <em>js</em> file that implements a web component I get the following error (in Chrome):</p>\n\n<p><em>Failed to load module script: The server responded with a non-JavaScript MIME type of \"text/plain\". Strict MIME type checking is enforced for module scripts per HTML spec.</em></p>\n\n<p>When I rename my component module to have the extension <em>mjs</em> the file loads correctly but then the module for LitElement fails to load with the same error. Since I have no influence on the file extensions of all third party JavaScript modules I don't know how to fix this. </p>\n\n<p>(I guess I would experience the same problems if I were using Polymer 3 instead of LitElement)</p>\n\n<p>Any ideas?</p>\n\n<p><strong>Update</strong></p>\n\n<p>Here is the output from requesting the lit-element.js JavaScript module with <code>curl</code></p>\n\n<pre><code>PS C:\\Test\\Polymer\\LitElement&gt; curl http://localhost:8082/node_modules/lit-element/lit-element.js\n\nStatusCode        : 200\nStatusDescription : OK\nContent           : /**\n                     * @license\n                     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n                     * This code may only be used under the BSD style license found at\n                     * http://polymer.github.io/LICENSE.txt\n                     * Th...\nRawContent        : HTTP/1.1 200 OK\n                    Accept-Ranges: bytes\n                    Content-Length: 8925\n                    Content-Type: text/plain; charset=utf-8\n                    Date: Thu, 26 Sep 2019 11:38:23 GMT\n                    Last-Modified: Sat, 26 Oct 1985 08:15:00 GMT\n\n                    /**\n                     * @licen...\nForms             : {}\nHeaders           : {[Accept-Ranges, bytes], [Content-Length, 8925], [Content-Type, text/plain; charset=utf-8], [Date,\n                    Thu, 26 Sep 2019 11:38:23 GMT]...}\nImages            : {}\nInputFields       : {}\nLinks             : {}\nParsedHtml        : mshtml.HTMLDocumentClass\nRawContentLength  : 8925\n</code></pre>\n\n<p>Notice the Content-Type!!!</p>\n"}, {"tags": ["javascript", "jquery"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9996041, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JTIRrbtWfdY/AAAAAAAAAAI/AAAAAAAAANs/BgAOb9466A8/photo.jpg?sz=128", "display_name": "Rediculously Soutrages", "link": "https://stackoverflow.com/users/9996041/rediculously-soutrages"}, "edited": false, "score": 0, "creation_date": 1569456435, "post_id": 58107902, "comment_id": 102606264, "body": "Aha. This seems like I am still just very new to the language. Thank you so much.  So .currentTarget is just for event handlers yes?"}, {"owner": {"reputation": 8603, "user_id": 3289660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cGFex.jpg?s=128&g=1", "display_name": "Nidhin Joseph", "link": "https://stackoverflow.com/users/3289660/nidhin-joseph"}, "reply_to_user": {"reputation": 1, "user_id": 9996041, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JTIRrbtWfdY/AAAAAAAAAAI/AAAAAAAAANs/BgAOb9466A8/photo.jpg?sz=128", "display_name": "Rediculously Soutrages", "link": "https://stackoverflow.com/users/9996041/rediculously-soutrages"}, "edited": false, "score": 0, "creation_date": 1569456490, "post_id": 58107902, "comment_id": 102606276, "body": "yes, but you don&#39;t need that as <code>each</code> is giving you the element."}], "tags": [], "owner": {"reputation": 8603, "user_id": 3289660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cGFex.jpg?s=128&g=1", "display_name": "Nidhin Joseph", "link": "https://stackoverflow.com/users/3289660/nidhin-joseph"}, "is_accepted": false, "score": 0, "last_activity_date": 1569455964, "creation_date": 1569455964, "answer_id": 58107902, "question_id": 58107878, "link": "https://stackoverflow.com/questions/58107878/how-to-get-html-of-element-with-arrow-function-with-jquery/58107902#58107902", "title": "How to get html of element with arrow function with jquery", "body": "<p>There is nothing wrong with the arrow function. </p>\n\n<p>You are just using the <a href=\"https://api.jquery.com/jQuery.each/\" rel=\"nofollow noreferrer\">each()</a> function the wrong way. You need to use the <code>value</code> to get the element. Normal function does not have this issue as you are using <code>this</code> and not the callback params.</p>\n\n<pre><code>$.each([ 52, 97 ], function( index, value ) {\n  alert( index + \": \" + value );\n});\n</code></pre>\n\n<p><strong>Corrected Snippet</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// find elements\r\nvar banner = $(\"#banner-message\")\r\nvar button = $(\"button\")\r\n\r\nvar i = 0;\r\n$(document).find(\"p\").each(function() {\r\n  $(this).html(i++);\r\n  //console.log($(this).html());\r\n});\r\n\r\nvar j = 10;\r\n$(document).find(\"p\").each((i, e) =&gt; {\r\n  $(e).html(j++);\r\n  //console.log($(e).html());\r\n});\r\n\r\n// handle click and add class\r\nbutton.on(\"click\", function() {\r\n  banner.addClass(\"alt\")\r\n  withArrow();\r\n})</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n  background: #20262E;\r\n  padding: 20px;\r\n  font-family: Helvetica;\r\n}\r\n\r\n#banner-message {\r\n  background: #fff;\r\n  border-radius: 4px;\r\n  padding: 20px;\r\n  font-size: 25px;\r\n  text-align: center;\r\n  transition: all 0.2s;\r\n  margin: 0 auto;\r\n  width: 300px;\r\n}\r\n\r\nbutton {\r\n  background: #0084ff;\r\n  border: none;\r\n  border-radius: 5px;\r\n  padding: 8px 14px;\r\n  font-size: 15px;\r\n  color: #fff;\r\n}\r\n\r\n#banner-message.alt {\r\n  background: #0084ff;\r\n  color: #fff;\r\n  margin-top: 40px;\r\n  width: 200px;\r\n}\r\n\r\n#banner-message.alt button {\r\n  background: #fff;\r\n  color: #000;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://code.jquery.com/jquery-3.4.1.min.js\" integrity=\"sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\r\n\r\n&lt;div id=\"banner-message\"&gt;\r\n  &lt;p&gt;TEST&lt;/p&gt;\r\n  &lt;p&gt;Hello World&lt;/p&gt;\r\n  &lt;p&gt;Hello World&lt;/p&gt;\r\n  &lt;p&gt;Hello World&lt;/p&gt;\r\n  &lt;p&gt;Hello World&lt;/p&gt;\r\n  &lt;p&gt;Hello World&lt;/p&gt;\r\n  &lt;button&gt;Change color&lt;/button&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 9996041, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JTIRrbtWfdY/AAAAAAAAAAI/AAAAAAAAANs/BgAOb9466A8/photo.jpg?sz=128", "display_name": "Rediculously Soutrages", "link": "https://stackoverflow.com/users/9996041/rediculously-soutrages"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569456622, "creation_date": 1569455643, "question_id": 58107878, "link": "https://stackoverflow.com/questions/58107878/how-to-get-html-of-element-with-arrow-function-with-jquery", "title": "How to get html of element with arrow function with jquery", "body": "<p>The syntax we are using requires the use of arrow functions. I'm still learning our software so I couldn't answer as to why. The issue is I do not know how to convert function() { }callbacks to (e) => callbacks and the solutions I have tried are not working. </p>\n\n<p>I have read all the documentation and other answers regarding .each(), .find(), .html(), and $(this) vs $(e.currentTarget)</p>\n\n<p>JsFiddle:<a href=\"https://jsfiddle.net/4gvowa18/2/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/4gvowa18/2/</a></p>\n\n<pre><code>var i = 0;\nvar withThis = $(document).find(\"p\").each(function(){\n  $(this).html(i++);\n  console.log($(this).html());\n});\n\nvar j = 10;\nvar withArrow = $(document).find(\"p\").each((e) =&gt;{\n    $(e.currentTarget).html(j++);\n    console.log($(e.currentTarget).html());\n});\n</code></pre>\n\n<p><code>withThis</code> runs as expected but <code>withArrow</code> does not</p>\n\n<p>Expected results: Both functions change the html of the <p> tags to the new content. When logging the html tag content both functions should print to the console.</p>\n\n<p>Actual: Only the first function changes the contents of the <p> tag. The first function prints the correct values to the console but the second function prints undefined.</p>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"tags": [], "owner": {"reputation": 12017, "user_id": 5005177, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/24654adb38f30006fb2d3bd07dd6242b?s=128&d=identicon&r=PG&f=1", "display_name": "trixn", "link": "https://stackoverflow.com/users/5005177/trixn"}, "is_accepted": false, "score": 0, "last_activity_date": 1569460885, "last_edit_date": 1569460885, "creation_date": 1569460507, "answer_id": 58108305, "question_id": 58107874, "link": "https://stackoverflow.com/questions/58107874/how-can-i-display-content-according-to-data-hooks/58108305#58108305", "title": "How can I display content according to data hooks?", "body": "<p>You are unnecessarily duplicating a lot of code. All that is different in your cases is the <code>className</code> prop of the <code>Input</code> component. You can easily construct it:</p>\n\n<pre><code>//in render\n\nconst {phoneTouched, phoneValid, phoneAlreadyUsed} = userVerification;\nlet className = 'form-control';\n\nif (phoneTouched) {\n    const valid = phoneValid &amp;&amp; !phoneAlreadyUsed;\n    className += valid ? 'is-valid' : 'is-invalid';\n}\n\nreturn (\n    &lt;FormGroup className=\"form-group\"&gt;\n        &lt;Label&gt;Phone *&lt;/Label&gt;\n        &lt;Input\n          type=\"text\"\n          name=\"phone\"\n          className={className}\n          value={user ? user.phone : ''}\n          placeholder={'Enter your phone number'}\n          onChange={handleChange}\n        /&gt;\n        {phoneAlreadyUsed &amp;&amp; (\n            &lt;div class=\"invalid-feedback\"&gt;\n                Sorry, this phone number's taken. Try another?\n            &lt;/div&gt;\n        )}\n    &lt;/FormGroup&gt;\n);\n</code></pre>\n"}], "owner": {"reputation": 365, "user_id": 11925221, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-DRUUurfJFBk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcB18J__qE20QG_8e0es5mFM06K0A/photo.jpg?sz=128", "display_name": "Malaury Boudon", "link": "https://stackoverflow.com/users/11925221/malaury-boudon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569460885, "creation_date": 1569455614, "last_edit_date": 1569456578, "question_id": 58107874, "link": "https://stackoverflow.com/questions/58107874/how-can-i-display-content-according-to-data-hooks", "title": "How can I display content according to data hooks?", "body": "<p>I do not understand why my code does not display the entry I want in my form.\nI want to display an invalid entry with a danger message when my user enters a phone number already in use.</p>\n\n<p>I check the user input and check the Boolean display cases.</p>\n\n<p>This is my booleans when I enter a phone number already used:</p>\n\n<pre><code>phoneAlreadyUsed: true\nphoneCharged: false\nphoneTouched: true\nphoneValid: true\n</code></pre>\n\n<p>My code has detected that it phone number is already in use, so the boolean \"phoneAlreadyUsed\" is true.</p>\n\n<p>This the code of my content:</p>\n\n<pre><code>    &lt;FormGroup className=\"form-group\"&gt;\n      &lt;Label&gt;Phone *&lt;/Label&gt;\n      {userVerification.phoneTouched === false &amp;&amp; userVerification.phoneAlreadyUsed === false &amp;&amp; (\n        &lt;Input\n          type=\"text\"\n          name=\"phone\"\n          className=\"form-control\"\n          value={user ? user.phone : ''}\n          placeholder={'Enter your phone number'}\n          onChange={handleChange}\n        /&gt;\n      )}\n      {userVerification.phoneValid === true &amp;&amp; userVerification.phoneAlreadyUsed === false &amp;&amp; (\n        &lt;Input\n          type=\"text\"\n          name=\"phone\"\n          className=\"form-control is-valid\"\n          value={user ? user.phone : ''}\n          placeholder={'Enter your phone number'}\n          onChange={handleChange}\n        /&gt;\n      )}\n      {((userVerification.phoneValid === false &amp;&amp; userVerification.phoneTouched === true) ||\n        userVerification.phoneAlreadyUsed === true) &amp;&amp; (\n        &lt;Input\n          type=\"text\"\n          name=\"phone\"\n          className=\"form-control is-invalid\"\n          value={user ? user.phone : ''}\n          placeholder={'Enter your phone number'}\n          onChange={handleChange}\n        /&gt;\n      )}\n      {userVerification.phoneAlreadyUsed === true &amp;&amp; (\n        &lt;div class=\"invalid-feedback\"&gt;Sorry, this phone number's taken. Try another?&lt;/div&gt;\n      )}\n    &lt;/FormGroup&gt;\n</code></pre>\n\n<p>My code display the second input (valid) without the message in \"invalid-feedback\". I don't understand why ...\nCould you help me please ?</p>\n"}, {"tags": ["javascript", "dialog", "html-5.2"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 1, "creation_date": 1569455618, "post_id": 58107855, "comment_id": 102606108, "body": "<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLDialogElement/showModal\" rel=\"nofollow noreferrer\">documentation</a> suggests <code>.close()</code> - read it and see if I&#39;m right"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1569455706, "post_id": 58107855, "comment_id": 102606123, "body": "The example on the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLDialogElement/showModal\" rel=\"nofollow noreferrer\"><code>showModal</code></a> page clearly shows using <code>.close()</code> to close it. What&#39;s the problem?"}, {"owner": {"reputation": 573, "user_id": 6349934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m7H5u.png?s=128&g=1", "display_name": "CloudBranch", "link": "https://stackoverflow.com/users/6349934/cloudbranch"}, "edited": false, "score": 0, "creation_date": 1569456053, "post_id": 58107855, "comment_id": 102606188, "body": "The downside to using those methods is the CSS pseudo-element ::backdrop won&#39;t work."}], "answers": [{"tags": [], "owner": {"reputation": 573, "user_id": 6349934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m7H5u.png?s=128&g=1", "display_name": "CloudBranch", "link": "https://stackoverflow.com/users/6349934/cloudbranch"}, "is_accepted": false, "score": 0, "last_activity_date": 1569456016, "creation_date": 1569456016, "answer_id": 58107905, "question_id": 58107855, "link": "https://stackoverflow.com/questions/58107855/what-is-the-opposite-of-htmldialogelement-showmodal/58107905#58107905", "title": "What is the opposite of HTMLDialogElement.showModal()?", "body": "<p>The dialog can be opened, and closed using the <code>open()</code> and <code>close()</code> methods. The downside to using these methods is the CSS pseudo-element <code>::backdrop</code> won't work.</p>\n\n<pre><code>&lt;button id=\"open\"&gt;Open Dialog&lt;/button&gt;\n&lt;button id=\"close\"&gt;Close Dialog&lt;/button&gt;\n\n&lt;dialog id=\"dialog\"&gt;\n  &lt;h2&gt;Dialog Title&lt;/h2&gt;\n  &lt;p&gt;Dialog content and other stuff will go here&lt;/p&gt;\n&lt;/dialog&gt;\n\n&lt;script&gt;\nconst dialog = document.getElementById(\"dialog\");\n\ndocument.getElementById(\"open\").addEventListener(\"click\", () =&gt; {\n  dialog.show();\n});\n\ndocument.getElementById(\"close\").addEventListener(\"click\", () =&gt; {\n  dialog.close();\n});\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 573, "user_id": 6349934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m7H5u.png?s=128&g=1", "display_name": "CloudBranch", "link": "https://stackoverflow.com/users/6349934/cloudbranch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569456016, "creation_date": 1569455364, "question_id": 58107855, "link": "https://stackoverflow.com/questions/58107855/what-is-the-opposite-of-htmldialogelement-showmodal", "title": "What is the opposite of HTMLDialogElement.showModal()?", "body": "<p>Using the HTML 5.2 native <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog\" rel=\"nofollow noreferrer\"><code>&lt;dialog&gt;</code></a> element I can open the dialog using Javascript.</p>\n\n<pre><code>document.addEventListener('DOMContentLoaded', () =&gt; {\n  const dialog = document.getElementsByTagName('dialog')[0];\n  dialog.showModal();\n});\n</code></pre>\n\n<p>How can I use Javascript to close the dialog?</p>\n"}, {"tags": ["javascript", "if-statement", "debugging", "google-apps-script"], "comments": [{"owner": {"reputation": 26870, "user_id": 2946873, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/pIQti.jpg?s=128&g=1", "display_name": "Alan Wells", "link": "https://stackoverflow.com/users/2946873/alan-wells"}, "edited": false, "score": 1, "creation_date": 1569456201, "post_id": 58107813, "comment_id": 102606219, "body": "Use <code>try{ &#47;&#47;Some code }catch(e) {&#47;&#47;Code to run only if there is an error}</code>  The letter <code>e</code> in the parenthesis is an &quot;exception object&quot; that contains a JavaScript error message, and the &quot;stack.&quot;  If the catch block runs code, then the execution failed.  You don&#39;t need to test for whether it failed or not.  To get the error message use <code>e.message</code> and to get the stack use <code>e.stack</code>."}], "answers": [{"tags": [], "owner": {"reputation": 26870, "user_id": 2946873, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/pIQti.jpg?s=128&g=1", "display_name": "Alan Wells", "link": "https://stackoverflow.com/users/2946873/alan-wells"}, "is_accepted": false, "score": 2, "last_activity_date": 1569504878, "creation_date": 1569504878, "answer_id": 58118041, "question_id": 58107813, "link": "https://stackoverflow.com/questions/58107813/code-to-check-for-execution-error-at-end-of-function/58118041#58118041", "title": "Code to check for execution error at end of function?", "body": "<p>Error handling in Apps Script can be handled by both JavaScript and Apps Script troubleshooting tools.</p>\n\n<pre><code>function myFunction() {\ntry{\n  //Some code \n}catch(e) {\n  //Code to run only if there is an error\n  console.error(\"Error: \" + e + \"Stack: \" + e.stack);//Send to StackDriver\n  myErrorHandlingFunction(e);\n} \n}\n</code></pre>\n\n<p>Error handling function:</p>\n\n<pre><code>function myErrorHandlingFunction(e) {\n  var body,errMsg, recipient,stack;\n\n  if (!e) {\n    return;\n  }\n\n  errMsg = e.message;\n  stack = e.stack;\n\n  recipient = Session.getEffectiveUser().getEmail();\n  subject = \"Error in Code\";\n\n  body = 'The error is: ' + errMsg + \"\\n\\nStack:\" + stack;\n  GmailApp.sendEmail(recipient, subject, body);\n}\n</code></pre>\n\n<p>The letter <code>e</code> in the parenthesis is an \"exception object\" that contains a JavaScript error message, and the \"stack.\" If the catch block runs code, then the execution failed. You don't need to test for whether it failed or not. To get the error message use <code>e.message</code> and to get the stack use <code>e.stack</code>.</p>\n\n<p>You may wish to send error information to Apps Script StackDriver service and/or handle the error through your own code.</p>\n"}], "owner": {"reputation": 31, "user_id": 11518626, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-B6m9hU3BcI8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcBFnsbYGFXRx-WEhWk5hI10Rb-xw/mo/photo.jpg?sz=128", "display_name": "Stefan Giannas", "link": "https://stackoverflow.com/users/11518626/stefan-giannas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1599180437, "creation_date": 1569454893, "last_edit_date": 1599180437, "question_id": 58107813, "link": "https://stackoverflow.com/questions/58107813/code-to-check-for-execution-error-at-end-of-function", "title": "Code to check for execution error at end of function?", "body": "<p>I've created a google app script that runs on a Google Sheets file.  Every day at ~9am a trigger runs on of my functions.</p>\n<p>Every few days (I don't know why) but I get an</p>\n<pre><code>Execution Error: Service invoked too many times for one day: urlfetch\n</code></pre>\n<p>I've given up trying to solve that issue, but it would be great if at the end of my function I could include some code to check if there was an execution error and if so run another function e.g.</p>\n<pre><code>myfunction_9am() {\n    &lt;try run some code&gt;\n    if (execution Status = &quot;Failed&quot;) {      &lt;&lt;this is the bit I don't know how to code\n        myfunction_error();\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "reactjs", "variables"], "comments": [{"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1569455530, "post_id": 58107807, "comment_id": 102606096, "body": "It looks like you&#39;re trying to do string interpolation not in a string. I&#39;m not entirely sure what you&#39;re trying to end up with, though."}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 1, "creation_date": 1569455546, "post_id": 58107807, "comment_id": 102606099, "body": "Do your work, then call <code>setState</code> <i>last</i>. Calling <code>setState</code> ten times in a row <i>overwrites</i> the scheduled state update nine times and only the last one will &quot;make it through&quot;. Also, you need to use <code>[]</code> if you want to set an object property name based on the value of some variable (e.g. <code>a = &#39;cow&#39;; b = { [a]: &#39;moo&#39; };</code>)"}, {"owner": {"reputation": 13, "user_id": 3827679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceb399eb26e6e8abf92b40124068f19b?s=128&d=identicon&r=PG&f=1", "display_name": "JSLifeform", "link": "https://stackoverflow.com/users/3827679/jslifeform"}, "reply_to_user": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1569456309, "post_id": 58107807, "comment_id": 102606242, "body": "@Mike&#39;Pomax&#39;Kamermans that got me halfway there, I&#39;m trying to setState and it&#39;s not showing the desired value under my dev tools. I&#39;m trying this.setState({ [playerName] : counter }) after counting for each player, I believe that&#39;s the correct syntax? I&#39;ll do some sleuthing from my end but if you see any obvious mistake I&#39;d love to know!"}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1569462291, "post_id": 58107807, "comment_id": 102607253, "body": "Don&#39;t call setState for each player. Create an aggregate object like <code>update = {}</code>, then in your <code>forEach</code> you update <i>that</i> and then after the loop you call <code>setState(update)</code>."}, {"owner": {"reputation": 13, "user_id": 3827679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceb399eb26e6e8abf92b40124068f19b?s=128&d=identicon&r=PG&f=1", "display_name": "JSLifeform", "link": "https://stackoverflow.com/users/3827679/jslifeform"}, "reply_to_user": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1569464407, "post_id": 58107807, "comment_id": 102607646, "body": "@Mike&#39;Pomax&#39;Kamermans I&#39;m trying it with an array setData = [] I&#39;m updating. tried hard coding the whole thing into a setState({ ezraWins: setData[0], adamWins: setData[1]}) and that didn&#39;t work either. Not sure why, but I&#39;m far enough off topic that I&#39;ll play with it and ask another question if I can&#39;t figure it out. One random question I&#39;m hoping you can answer, however:"}, {"owner": {"reputation": 13, "user_id": 3827679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceb399eb26e6e8abf92b40124068f19b?s=128&d=identicon&r=PG&f=1", "display_name": "JSLifeform", "link": "https://stackoverflow.com/users/3827679/jslifeform"}, "reply_to_user": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1569464538, "post_id": 58107807, "comment_id": 102607669, "body": "@Mike&#39;Pomax&#39;Kamermans  Whenever I was running setState is my forEach loop it wouldn&#39;t update as [playerName] : counter, but it would update as an array if I did setState({[playerName] : [counter]}), showing a single value array in the Chrome Dev Tools. Any idea why on Earth that happened?"}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1569511498, "post_id": 58107807, "comment_id": 102628949, "body": "As I already mentioned, use an object, not an array. <code>let update = {}; forEach(player =&gt; { ... update[player.name] = counter; ... }) this.setState(update);</code> - no need for fancy var-content-as-name syntax, etc. Just use boring old JS but use <i>an object</i> and set <i>its</i> properties in your loop, then once you&#39;re done with the loop, a single setState, with that object."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 3827679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceb399eb26e6e8abf92b40124068f19b?s=128&d=identicon&r=PG&f=1", "display_name": "JSLifeform", "link": "https://stackoverflow.com/users/3827679/jslifeform"}, "edited": false, "score": 0, "creation_date": 1569455583, "post_id": 58107860, "comment_id": 102606105, "body": "so to access the teams I&#39;d use ezra.teams, and the name, ezra.name right? Let me play with that and see what happens."}, {"owner": {"reputation": 13, "user_id": 3827679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceb399eb26e6e8abf92b40124068f19b?s=128&d=identicon&r=PG&f=1", "display_name": "JSLifeform", "link": "https://stackoverflow.com/users/3827679/jslifeform"}, "edited": false, "score": 0, "creation_date": 1569456585, "post_id": 58107860, "comment_id": 102606295, "body": "Got me part of the way there, still having an issue with setState but at least in the console I&#39;m logging the proper variable names and values. I was hoping to avoid using a JS object as an answer but that&#39;s probably the most concise method."}, {"owner": {"reputation": 21, "user_id": 2365081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3f3a6c144cd201bef4072c838c08757?s=128&d=identicon&r=PG", "display_name": "angelboxes", "link": "https://stackoverflow.com/users/2365081/angelboxes"}, "reply_to_user": {"reputation": 13, "user_id": 3827679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceb399eb26e6e8abf92b40124068f19b?s=128&d=identicon&r=PG&f=1", "display_name": "JSLifeform", "link": "https://stackoverflow.com/users/3827679/jslifeform"}, "edited": false, "score": 0, "creation_date": 1569602881, "post_id": 58107860, "comment_id": 102663611, "body": "Hi, great. Actually I didn&#39;t exactly knew what you were trying to achieve. But now I see that you were trying to use the ezra variable name as a value. As I see it there&#39;s no possible way this could be achieved in js that&#39;s why I suggest you to change your code. As for the code inside the forEach statement as  Mike &#39;Pomax&#39; Kamermans suggested you should use brackets {[playerWins] : counter} to use the value in playerWins for a new property, and call setState after finishing your loop as it would replace the state value for each iteration. Bye"}, {"owner": {"reputation": 13, "user_id": 3827679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceb399eb26e6e8abf92b40124068f19b?s=128&d=identicon&r=PG&f=1", "display_name": "JSLifeform", "link": "https://stackoverflow.com/users/3827679/jslifeform"}, "edited": false, "score": 0, "creation_date": 1569820923, "post_id": 58107860, "comment_id": 102705592, "body": "yeah it was partially an issue with me being new and not knowing how to ask the question properly. If I did, I probably could&#39;ve figured out a solution. A classic case of you don&#39;t know what you don&#39;t know I suppose. Thanks for the help in working me through a solution, your suggestion to turn my variables into JS objects over arrays was actually a pretty big contribution!"}], "tags": [], "owner": {"reputation": 21, "user_id": 2365081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3f3a6c144cd201bef4072c838c08757?s=128&d=identicon&r=PG", "display_name": "angelboxes", "link": "https://stackoverflow.com/users/2365081/angelboxes"}, "is_accepted": false, "score": 0, "last_activity_date": 1569455465, "creation_date": 1569455465, "answer_id": 58107860, "question_id": 58107807, "link": "https://stackoverflow.com/questions/58107807/using-name-of-variable-in-foreach-loop/58107860#58107860", "title": "Using name of variable in .forEach loop", "body": "<p>the problem here is that you are just using the player names only as the variable names.</p>\n\n<p>Try saving the player names like this:</p>\n\n<pre><code>const ezra = {name: \"ezra\", teams: [\"Patriots\", \"Bears\", \"Vikings\", \"Titans\", \"Jets\", \"Bengals\"]}\n</code></pre>\n\n<p>and assign playerWins and playerVariable like this: </p>\n\n<pre><code>const playerWins = `${player.name}Wins`\nconst playerVariable = `${player.name}`\n</code></pre>\n\n<p>I hope it helps.</p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 3827679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceb399eb26e6e8abf92b40124068f19b?s=128&d=identicon&r=PG&f=1", "display_name": "JSLifeform", "link": "https://stackoverflow.com/users/3827679/jslifeform"}, "is_accepted": true, "score": 0, "last_activity_date": 1569558090, "creation_date": 1569558090, "answer_id": 58127841, "question_id": 58107807, "link": "https://stackoverflow.com/questions/58107807/using-name-of-variable-in-foreach-loop/58127841#58127841", "title": "Using name of variable in .forEach loop", "body": "<p>It took a lot of retooling, but I found a better way to achieve the same result by putting all my data into the state. My final states looked like so:</p>\n\n<pre><code>          ezra: {name: \"ezra\", wins: 0, \n            teams: [\"Patriots\", \"Bears\", \"Vikings\", \"Titans\", \"Jets\", \"Bengals\"]},\n          adam: {name: \"adam\", wins: 0, \n            teams: [\"Chiefs\", \"Cowboys\", \"Packers\", \"Ravens\", \"Broncos\", \"Cardinals\"]}\n</code></pre>\n\n<p>Per the suggestion of Mike 'Pomax' Kamermans I made an entire copy of my this.state at the beginning of my function:</p>\n\n<pre><code>let updateState = Object.assign({}, this.state)\n</code></pre>\n\n<p>and copied my win totals into the updateState variable in a as so:</p>\n\n<pre><code>updateState[player.name].wins = counter\n</code></pre>\n\n<p>where player is a copy of the state object of each player, i.e this.state.adam. There might be a better way to refer to the particular state object than my convention, where I gave it a name prop that was the same as the name of the state variable. It was the best I know how to do right now, however.</p>\n\n<p>Finally, after I've looped through all the win totals and updated them to updateState, I updated the entire this.state with the following command:</p>\n\n<pre><code>this.setState(updateState)\n</code></pre>\n\n<p>Anyway, just wrote down how I solved this issue in case somebody stumbles upon this trying to accomplish a similar task I was. My solution deviated pretty far from my original question/code but I think it is a significantly better method.</p>\n"}], "owner": {"reputation": 13, "user_id": 3827679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceb399eb26e6e8abf92b40124068f19b?s=128&d=identicon&r=PG&f=1", "display_name": "JSLifeform", "link": "https://stackoverflow.com/users/3827679/jslifeform"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 58127841, "answer_count": 2, "score": -1, "last_activity_date": 1569558090, "creation_date": 1569454840, "last_edit_date": 1569455518, "question_id": 58107807, "link": "https://stackoverflow.com/questions/58107807/using-name-of-variable-in-foreach-loop", "title": "Using name of variable in .forEach loop", "body": "<p>I'm working with JS/React, I currently have arrays nested into an array. The structure is as so:</p>\n\n<pre><code>const ezra = [\"Patriots\", \"Bears\", \"Vikings\", \"Titans\", \"Jets\", \"Bengals\"]\nconst adam = [\"Chiefs\", \"Cowboys\", \"Packers\", \"Ravens\", \"Broncos\", \"Cardinals\"]\n\nconst playerList = [ezra, adam]\n</code></pre>\n\n<p>I also have React states defined as follows: </p>\n\n<pre><code>this.state{\n   ezraWins: 0\n   adamWins: 0\n}\n</code></pre>\n\n<p>I'm pulling data from React and using playerList.forEach to tally the total wins of the teams under each player. I'd like to find the total and .setState to change the value of${player}Wins to the total tallied. IE when I've totaled the wins by the teams of ezra I want:</p>\n\n<pre><code>this.setState({ezraWins: counter})\n\n</code></pre>\n\n<p>Here's a dumbed down example of how I thought it might work:</p>\n\n<pre><code> playerList.forEach((player) =&gt; {\n      const playerWins = `${player}Wins`\n      const playerVariable = `${player}`\n      //  use loop to tally total wins, add that to counter variable\n\n      this.setState({${playerWins} : counter}) \n</code></pre>\n\n<p>but when I console.log those variable I get:</p>\n\n<p>playerList = Patriots,Bears,Vikings,Titans,Jets,BengalsWins</p>\n\n<p>playerVariable = Patriots,Bears,Vikings,Titans,Jets,Bengals</p>\n\n<p>Is there any way for me to pull the name of each array in playerList and use it for the .setState command in my code? I tried mucking a little with window as well but received an error I didn't write down, probably because I didn't make playerList and each array in there global. Is that the way to go about it or is there a better method? My understanding is that global variables are a no-no.</p>\n"}, {"tags": ["javascript", "jquery", "wordpress"], "comments": [{"owner": {"reputation": 531, "user_id": 3479395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mY0M3.jpg?s=128&g=1", "display_name": "mulsun", "link": "https://stackoverflow.com/users/3479395/mulsun"}, "edited": false, "score": 0, "creation_date": 1569455399, "post_id": 58107797, "comment_id": 102606074, "body": "First of all, I don&#39;t think you need to register jquery again as it is globally registered. Secondly, see: <a href=\"https://stackoverflow.com/questions/3931529/is-not-a-function-jquery-error\" title=\"is not a function jquery error\">stackoverflow.com/questions/3931529/&hellip;</a>"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 1, "creation_date": 1569455448, "post_id": 58107797, "comment_id": 102606079, "body": "you need to load <code>jquery</code> and THEN <code>maskedinput</code> - not the other way around - e.g. <a href=\"https://pastebin.com/kNKZhUgS\" rel=\"nofollow noreferrer\">pastebin.com/kNKZhUgS</a>"}, {"owner": {"reputation": 1408, "user_id": 2962427, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/e328a04f3f7a0cd999d0ce2c8c6ab65c?s=128&d=identicon&r=PG&f=1", "display_name": "David Alsbright", "link": "https://stackoverflow.com/users/2962427/david-alsbright"}, "edited": false, "score": 0, "creation_date": 1569457153, "post_id": 58107797, "comment_id": 102606391, "body": "WordPress uses jQuery in safe mode, so instead of using <code>$</code> you should use <code>jQuery</code>. e.g <code>jQuery(&quot;#reg_billing_address_1&quot;).val(&quot;&quot;);</code>"}, {"owner": {"reputation": 531, "user_id": 3479395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mY0M3.jpg?s=128&g=1", "display_name": "mulsun", "link": "https://stackoverflow.com/users/3479395/mulsun"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1569459262, "post_id": 58107797, "comment_id": 102606743, "body": "@JaromandaX <a href=\"https://developer.wordpress.org/reference/functions/wp_register_script/#usage\" rel=\"nofollow noreferrer\">developer.wordpress.org/reference/functions/wp_register_scri&zwnj;&#8203;pt/&hellip;</a>"}], "owner": {"reputation": 1, "user_id": 6558322, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-blG-Fw-MNOA/AAAAAAAAAAI/AAAAAAAAGPk/3-KgUJpc79g/photo.jpg?sz=128", "display_name": "Felipe Mendes", "link": "https://stackoverflow.com/users/6558322/felipe-mendes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1569454743, "creation_date": 1569454743, "question_id": 58107797, "link": "https://stackoverflow.com/questions/58107797/run-multiple-js-scripts-in-wordpress", "title": "Run multiple js scripts in wordpress", "body": "<p>I am trying to run two scripts in wordpress function.php, one is for input masking and the other is for postcode search api.\nI managed to get each one of the scripts working separately but once I put them together it seems each script is annulling the other.</p>\n\n<p>the main idea is to mask the phone and postcode input and also validade the postcode through api and complete the address and city.</p>\n\n<p>Sorry if it is a repeated topic but I could not manage to get it working with the references I've found over the net.</p>\n\n<p>Bellow my scripts</p>\n\n<pre><code>function mascara_cadastro_cliente(){\n\n    if( is_page('cadastrar') ){\n        wp_register_script('masked-input', 'https://example.com/'.'/js/jquery.maskedinput.min.js', array('jquery'));\n        wp_enqueue_script ('masked-input');\n\n\n        wp_register_script('valida-cep', 'https://example.com/'.'/js/jquery.min.js', array('jquery'));\n        wp_enqueue_script ('valida-cep');\n    }\n}\nadd_action('wp_enqueue_scripts', 'mascara_cadastro_cliente');\n</code></pre>\n\n<pre><code>\nfunction activate_masked_input(){\n   if( is_page('cadastrar') ){\n?&gt;\n\n        &lt;script type=\"text/javascript\"&gt;\n\n                jQuery( function($){\n                    $(\"#reg_billing_postcode\").mask(\"99999-999\");\n                     $(\"#reg_billing_phone\").mask(\"(99) 99999-9999\");\n\n                });\n\n         &lt;/script&gt;\n\n&lt;?php \n    }\n}\nadd_action('wp_footer', 'activate_masked_input');\n\nfunction activate_valida_cep(){\n    if(is_page('cadastrar')){\n?&gt;      \n        &lt;script type=\"text/javascript\"&gt;            \n        $(document).ready(function() {\n\n            function limpa_formul\u00e1rio_cep() {\n                // Limpa valores do formul\u00e1rio de cep.\n                $(\"#reg_billing_address_1\").val(\"\");\n                $(\"#bairro\").val(\"\");\n                $(\"#reg_shipping_city\").val(\"\");\n                $(\"#uf\").val(\"\");\n                $(\"#ibge\").val(\"\");\n            }\n\n            //Quando o campo cep perde o foco.\n            $(\"#reg_billing_postcode\").blur(function() {\n\n                //Nova vari\u00e1vel \"cep\" somente com d\u00edgitos.\n                var cep = $(this).val().replace(/\\D/g, '');\n\n                //Verifica se campo cep possui valor informado.\n                if (cep != \"\") {\n\n                    //Express\u00e3o regular para validar o CEP.\n                    var validacep = /^[0-9]{8}$/;\n\n                    //Valida o formato do CEP.\n                    if(validacep.test(cep)) {\n\n                        //Preenche os campos com \"...\" enquanto consulta webservice.\n                        $(\"#reg_billing_address_1\").val(\"...\");\n                        $(\"#bairro\").val(\"...\");\n                        $(\"#reg_shipping_city\").val(\"...\");\n                        $(\"#uf\").val(\"...\");\n                        $(\"#ibge\").val(\"...\");\n\n                        //Consulta o webservice viacep.com.br/\n                        $.getJSON(\"https://viacep.com.br/ws/\"+ cep +\"/json/?callback=?\", function(dados) {\n\n                            if (!(\"erro\" in dados)) {\n                                //Atualiza os campos com os valores da consulta.\n                                $(\"#reg_billing_address_1\").val(dados.logradouro);\n                                $(\"#bairro\").val(dados.bairro);\n                                $(\"#reg_shipping_city\").val(dados.localidade);\n                                $(\"#uf\").val(dados.uf);\n                                $(\"#ibge\").val(dados.ibge);\n                            } //end if.\n                            else {\n                                //CEP pesquisado n\u00e3o foi encontrado.\n                                limpa_formul\u00e1rio_cep();\n                                alert(\"CEP n\u00e3o encontrado.\");\n                            }\n                        });\n                    } //end if.\n                    else {\n                        //cep \u00e9 inv\u00e1lido.\n                        limpa_formul\u00e1rio_cep();\n                        alert(\"Formato de CEP inv\u00e1lido.\");\n                    }\n                } //end if.\n                else {\n                    //cep sem valor, limpa formul\u00e1rio.\n                    limpa_formul\u00e1rio_cep();\n                }\n            });\n        });\n\n         &lt;/script&gt;\n</code></pre>\n\n<p>debbuging the page I receive the following exception</p>\n\n<pre><code>jquery.min.js?ver=5.2.3:2 jQuery.Deferred exception: $(...).live is not a function TypeError: $(...).live is not a function\n    at HTMLDocument.&lt;anonymous&gt; (https://example.com/js/main.js:177:28)\n    at e (https://example.com/js/jquery.min.js?ver=5.2.3:2:29453)\n    at t (https://example.com/js/jquery.min.js?ver=5.2.3:2:29755) undefined\nk.Deferred.exceptionHook @ jquery.min.js?ver=5.2.3:2\njquery.min.js?ver=5.2.3:2 jQuery.Deferred exception: $(...).mask is not a function TypeError: $(...).mask is not a function\n    at HTMLDocument.&lt;anonymous&gt; (https://example.com/cadastrar/:699:33)\n    at e (https://example.com/js/jquery.min.js?ver=5.2.3:2:29453)\n    at t (https://example.com/js/jquery.min.js?ver=5.2.3:2:29755) undefined\nk.Deferred.exceptionHook @ jquery.min.js?ver=5.2.3:2\njquery.min.js?ver=5.2.3:2 Uncaught TypeError: $(...).live is not a function\n    at HTMLDocument.&lt;anonymous&gt; (main.js:177)\n    at e (jquery.min.js?ver=5.2.3:2)\n    at t (jquery.min.js?ver=5.2.3:2)\njquery.min.js?ver=5.2.3:2 Uncaught TypeError: $(...).mask is not a function\n    at HTMLDocument.&lt;anonymous&gt; ((index):699)\n    at e (jquery.min.js?ver=5.2.3:2)\n    at t (jquery.min.js?ver=5.2.3:2)\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "asp.net", ".net", "asp.net-mvc"], "comments": [{"owner": {"reputation": 361, "user_id": 11303576, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wyROJTUYo2o/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdiUN4--rN8YlweWwETDcECbR6I0w/mo/photo.jpg?sz=128", "display_name": "\u738b\u4ec1\u5b8f", "link": "https://stackoverflow.com/users/11303576/%e7%8e%8b%e4%bb%81%e5%ae%8f"}, "edited": false, "score": 0, "creation_date": 1569456666, "post_id": 58107771, "comment_id": 102606311, "body": "did you install the service in IIS manager?"}, {"owner": {"reputation": 13, "user_id": 12121889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea9553e6206866fbc45043fe69580edd?s=128&d=identicon&r=PG&f=1", "display_name": "Livinglife", "link": "https://stackoverflow.com/users/12121889/livinglife"}, "reply_to_user": {"reputation": 361, "user_id": 11303576, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wyROJTUYo2o/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdiUN4--rN8YlweWwETDcECbR6I0w/mo/photo.jpg?sz=128", "display_name": "\u738b\u4ec1\u5b8f", "link": "https://stackoverflow.com/users/11303576/%e7%8e%8b%e4%bb%81%e5%ae%8f"}, "edited": false, "score": 0, "creation_date": 1569459778, "post_id": 58107771, "comment_id": 102606833, "body": "Yes, but the request never makes it to the server, which means the service is never involved in the bug. I should probably just remove that bit from the question"}], "answers": [{"tags": [], "owner": {"reputation": 96748, "user_id": 74757, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/10331bb0b4eb995500acc85fb0d16aea?s=128&d=identicon&r=PG", "display_name": "C\u1d0f\u0280\u028f", "link": "https://stackoverflow.com/users/74757/c%e1%b4%8f%ca%80%ca%8f"}, "is_accepted": true, "score": 2, "last_activity_date": 1569461989, "last_edit_date": 1569461989, "creation_date": 1569461038, "answer_id": 58108366, "question_id": 58107771, "link": "https://stackoverflow.com/questions/58107771/error-when-passing-large-files-to-server-via-ajax-post-request-iis-7-asp-net-m/58108366#58108366", "title": "Error When Passing Large Files to Server via AJAX POST Request (IIS 7, ASP.NET MVC 4)", "body": "<p>In general, you are not limited by the client on file sizes, rather it is almost always server-side. The defaults in IIS are rather low to prevent people from uploading files that run your server out of space. Think of the services that allow people to upload multi-gigabyte video files, for example; they wouldn't exist if browsers prevented those uploads to begin with.</p>\n\n<p>What you have shown above is a correct usage of <code>FormData</code> to do an AJAX-enabled file upload.</p>\n\n<p>For ASP.NET applications, you may also need to configure the <code>maxRequestLength</code> attribute of the <code>&lt;httpRuntime&gt;</code> node in your web.config. Note, this value is specified in <strong>kilobytes</strong> while the <code>maxAllowedContentLength</code> is specified in <strong>bytes</strong>.</p>\n\n<p>All together, to allow file uploads up to 20MB, you should have these settings in your <code>web.config</code> file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;configuration&gt;\n  &lt;system.web&gt;\n    &lt;!-- 20 MB specified in kilobytes --&gt;\n    &lt;httpRuntime maxRequestLength=\"20480\" /&gt;\n  &lt;/system.web&gt;\n  &lt;system.webServer&gt;\n    &lt;security&gt;\n      &lt;requestFiltering&gt;\n        &lt;!-- maxAllowedContentLength is in bytes (B)  --&gt;\n        &lt;requestLimits maxAllowedContentLength=\"20971520\"/&gt;\n        &lt;!-- 20MB --&gt;\n      &lt;/requestFiltering&gt;\n    &lt;/security&gt;\n  &lt;/system.webServer&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>To improve the user experience, you can check the size of the file before the upload begins by looking at the <code>file.size</code> property:</p>\n\n<pre><code>var file = $('#eval-attachment-modal-file')[0].files[0];\nif (file &amp;&amp; file.size &lt;= 20971520) {\n    // proceed with upload\n} else {\n    // file too large, show error\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 12121889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea9553e6206866fbc45043fe69580edd?s=128&d=identicon&r=PG&f=1", "display_name": "Livinglife", "link": "https://stackoverflow.com/users/12121889/livinglife"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1272, "favorite_count": 0, "accepted_answer_id": 58108366, "answer_count": 1, "score": 1, "last_activity_date": 1569461989, "creation_date": 1569454423, "last_edit_date": 1569459974, "question_id": 58107771, "link": "https://stackoverflow.com/questions/58107771/error-when-passing-large-files-to-server-via-ajax-post-request-iis-7-asp-net-m", "title": "Error When Passing Large Files to Server via AJAX POST Request (IIS 7, ASP.NET MVC 4)", "body": "<p>This is my first post on StackOverflow so I apologize in advance if my question is in an unconventional format. I have a form on an intranet site which allows the user to upload files by passing them to the server.The js function that passes the file to the server is below. This code works flawlessly on smaller files (tested up to 900kb), but a larger file (9mb) produces a 500 error <strong><em>without even reaching the server.</em></strong></p>\n\n<pre><code>function UploadDocument(customSectionId, evaluationSectionId) {\n    if ($('#eval-attachment-modal-file')[0].files != null) {\n        if (customSectionId != null &amp;&amp; customSectionId == -1) {\n            customSectionId = null;\n        }\n        if (evaluationSectionId != null &amp;&amp; evaluationSectionId == -1) {\n            evaluationSectionId = null;\n        }\n        var file = $('#eval-attachment-modal-file')[0].files[0];\n        if (file) {\n            var fd = new FormData();\n            fd.append(\"fileToUpload\", file);\n            fd.append(\"evalId\", EvalId);\n            fd.append(\"customSectionId\", customSectionId);\n            fd.append(\"evaluationSectionId\", evaluationSectionId);\n            fd.append(\"canUploadImages\", @(Model.CanUploadImages ? \"true\" : \"false\"));\n            fd.append(\"canUploadDocuments\", @(Model.CanUploadDocuments ? \"true\" : \"false\"));\n            $('#upload-file-button').hide();\n            $('#upload-file-spinner').show();\n            $.ajax({\n                url: '@Url.Action(\"UploadDocument\")',\n                type: 'POST',\n                datatype: 'json',\n                data: fd,\n                processData: false,\n                contentType: false,\n                success: function (response) {\n                    if (response != null &amp;&amp; response.success) {\n                        $('#evaluation-attachment-grid').trigger('reloadGrid');\n                        if (evaluationSectionId == @((int) EvaluationSection.ExecutiveSignature)) {\n                            var checkbox = $('#ExecutiveSignatureSignedOff');\n                            var dateFieldForCheckbox = $('#ExecutiveSignatureSignedOffDate');\n                            if (!checkbox.is(':checked')) {\n                                checkbox.prop('checked', 'true');\n                                dateFieldForCheckbox.val('@(DateTime.Now.ToShortDateString())');\n                                SaveEvaluation(function () { AlertSuccess('Executive signature successfully uploaded. Evaluation saved.'); });\n                            }\n                        }\n                    }\n                    else {\n                        if (response != null) {\n                            if (response.errorMessages != null) {\n                                for (var i = 0; i &lt; response.errorMessages.length; i++) {\n                                    AlertError(response.errorMessages[i]);\n                                }\n                            }\n                        }\n                        else {\n                            AlertError('Uploading Document Failed. Please contact your I.T. administrator.');\n                        }\n                    }\n                    $('#upload-file-spinner').hide();\n                    $('#upload-file-button').show();\n                },\n                async: true\n            });\n        }\n    }\n}\n</code></pre>\n\n<p>Upon debugging the browser states the error occurred in <em>jquery</em> when it tries to send the XMLHttpRequest (the xhr.send line is the one blowing up)</p>\n\n<pre><code>            try {\n\n                // Do send the request (this may raise an exception)\n                xhr.send( options.hasContent &amp;&amp; options.data || null );\n            } catch ( e ) {\n\n                // #14683: Only rethrow if this hasn't been notified as an error yet\n                if ( callback ) {\n                    throw e;\n                }\n            }\n</code></pre>\n\n<p>One of my coworkers stated that IIS can sometimes fight you when trying to pass large files to a server so I added this suggested code to my web config to no avail</p>\n\n<pre><code>&lt;system.webServer&gt;\n&lt;security&gt;\n  &lt;requestFiltering&gt;\n    &lt;!-- maxAllowedContentLength is in bytes (B)  --&gt;\n    &lt;requestLimits maxAllowedContentLength=\"20971520\"/&gt;\n    &lt;!-- 20MB --&gt;\n  &lt;/requestFiltering&gt;\n&lt;/security&gt;\n&lt;/system.webServer&gt;\n</code></pre>\n\n<p>I suspect it's IIS screwing with me but to be frank I'm out of ideas. Please advise SO Community</p>\n"}, {"tags": ["javascript", "html", "for-loop", "button", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 2823, "user_id": 1604072, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/Ol7j5.png?s=128&g=1", "display_name": "Dan Fein", "link": "https://stackoverflow.com/users/1604072/dan-fein"}, "edited": false, "score": 0, "creation_date": 1569456904, "post_id": 58107754, "comment_id": 102606351, "body": "Can you double check the code formatting remained intact? For example, It looks as though some of the data is aligned such that the for loop only prints 4 <code>console.log</code>s and then ends."}, {"owner": {"reputation": 13, "user_id": 12121936, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rpTjsWAKaLs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reHj9MV1fLyP7qZDQC6CMRBFLdmXA/photo.jpg?sz=128", "display_name": "Codex", "link": "https://stackoverflow.com/users/12121936/codex"}, "reply_to_user": {"reputation": 2823, "user_id": 1604072, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/Ol7j5.png?s=128&g=1", "display_name": "Dan Fein", "link": "https://stackoverflow.com/users/1604072/dan-fein"}, "edited": false, "score": 0, "creation_date": 1569460020, "post_id": 58107754, "comment_id": 102606871, "body": "Thanks for the response. The console.log was just there so I can make sure that it was pulling the values I needed. So the for loop takes the array called products that was returned ( [{name, price}, {name, price}] ) and then pulls the values from it and adds the values inside the html as it loops around  ${product.name} Price:$${product.price}."}], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 12121936, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rpTjsWAKaLs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reHj9MV1fLyP7qZDQC6CMRBFLdmXA/photo.jpg?sz=128", "display_name": "Codex", "link": "https://stackoverflow.com/users/12121936/codex"}, "is_accepted": true, "score": 0, "last_activity_date": 1571266600, "creation_date": 1571266600, "answer_id": 58422694, "question_id": 58107754, "link": "https://stackoverflow.com/questions/58107754/using-button-click-to-update-values-returned-from-firestore-in-for-loop/58422694#58422694", "title": "Using Button Click to Update Values Returned from Firestore in For Loop", "body": "<p>Thanks to everyone who assisted on this. I decided to redo my code from scratch using DOM elements to appendChild. Once done this made everything sooooo much easier. Decided to change it to give myself more flexibility with the code.</p>\n"}], "owner": {"reputation": 13, "user_id": 12121936, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rpTjsWAKaLs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reHj9MV1fLyP7qZDQC6CMRBFLdmXA/photo.jpg?sz=128", "display_name": "Codex", "link": "https://stackoverflow.com/users/12121936/codex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 58422694, "answer_count": 1, "score": 1, "last_activity_date": 1571266600, "creation_date": 1569454260, "last_edit_date": 1569459241, "question_id": 58107754, "link": "https://stackoverflow.com/questions/58107754/using-button-click-to-update-values-returned-from-firestore-in-for-loop", "title": "Using Button Click to Update Values Returned from Firestore in For Loop", "body": "<p>I currently have a basic CRUD site that I started working on recently to list a number of products and the associated prices. My skills aren't the best but I am fighting the good fight and would like some assistance/guidance with what I am trying to achieve.</p>\n\n<p>I have data stored in a Firestore database and I have it being pulled and shown in a list. In order to display it I have the values in my sub-collection being added to an array and then I am using a for loop to loop through and pull each value and display it using an html template string. I decided that since I have the create and display aspect of this to a decent point, I would like to add a button (or in my case an icon) that would allow me edit each value that is returned.</p>\n\n<pre><code>    const shelf = doc.data();\n    doc.ref.collection(\"products\").get().then((Snapshot) =&gt; {\n        const products = Snapshot.docs.map(doc =&gt; doc.data());\n\n\n        // start of for loop\n        for(let product of products){\n\n        // start of template string inside backticks\n        const li = `\n            &lt;p&gt;&lt;div&gt;${product.name} &lt;div class=\"right\"&gt;&lt;font class=pink-text&gt;Price:&lt;/font&gt; $${product.price}  &lt;a href=\"#\" class=\"grey-text modal-trigger\" data-target=\"modal-priceedit\"&gt;&lt;i class=\"material-icons\"&gt;create&lt;/i&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;/p&gt;\n        `;\n        // end of template string inside backticks  \n\n        html += li;                 \n\n\n        // start of edit price section\n        let price = product.price;                  \n\n        const priceeditForm = document.querySelector('#priceedit-form');\n        priceeditForm.addEventListener('submit', (e) =&gt; {\n          e.preventDefault();\n\n            console.log(\"Document with ID: \", doc.id);\n            doc.ref.collection(\"vendors\").doc(price)get().then((Snapshot) =&gt; {\n                const priceedit = Snapshot.docs.map(doc =&gt; doc.data());\n             price: priceeditForm['price'].value\n\n            }).then(() =&gt; {\n            // close the signup modal &amp; reset form\n            const modal = document.querySelector('#modal-priceedit');\n            M.Modal.getInstance(modal).close();\n            priceeditForm.reset();\n          }).catch(err =&gt; {\n            console.log(err.message);\n          });\n        });\n        //end of edit price section \n\n\n        }\n       // end of for loop           \n\n\n        productList.innerHTML = html;           \n        });\n</code></pre>\n\n<p>I would like that when the icon is clicked, that a model pops up with a single input fields for the price and I can enter the new price and submit it, hence updating the value in the database.</p>\n\n<p>I will be very grateful to anyone who can assist me with this. Thank you in advance.</p>\n\n<p><a href=\"https://i.stack.imgur.com/jX4W4.png\" rel=\"nofollow noreferrer\">Output Image</a></p>\n"}, {"tags": ["javascript", "html", "angular", "typescript", "angular-material"], "answers": [{"comments": [{"owner": {"reputation": 223, "user_id": 10859440, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-D_M6ALB8edY/AAAAAAAAAAI/AAAAAAAAHzQ/nPjLNXwphM8/photo.jpg?sz=128", "display_name": "Amarender Reddy", "link": "https://stackoverflow.com/users/10859440/amarender-reddy"}, "edited": false, "score": 0, "creation_date": 1569457011, "post_id": 58107784, "comment_id": 102606365, "body": "Awesome. That Worked. Thank you."}], "tags": [], "owner": {"reputation": 2940, "user_id": 1906361, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/yWuuo.jpg?s=128&g=1", "display_name": "Shumail", "link": "https://stackoverflow.com/users/1906361/shumail"}, "is_accepted": true, "score": 2, "last_activity_date": 1569454621, "creation_date": 1569454621, "answer_id": 58107784, "question_id": 58107743, "link": "https://stackoverflow.com/questions/58107743/pass-value-onclick-on-a-div-angular-7/58107784#58107784", "title": "Pass Value onclick on a div angular 7", "body": "<p>Change your <code>openDialog</code> function and pass the value in <code>data</code>:</p>\n\n<pre><code>openDialog(value): void {\n      const dialogRef = this.dialog.open(PopupDialog, {\n      data: { x: value },\n\n    });\n\n    dialogRef.afterClosed().subscribe(_result =&gt; {\n      console.log('The dialog was closed');\n    });\n}\n</code></pre>\n\n<p>Now in your PopupDialog component, you can inject <code>MAT_DIALOG_DATA</code> in constructor to access the passed value like this:</p>\n\n<pre><code>@Component({\n    selector: \"popup-dialog\",\n    templateUrl: \"./popupDialog.component.html\"\n})\nexport class PopupDialog {\n  x: any;\n\n  constructor(\n        public dialogRef: MatDialogRef&lt;PopupDialog&gt;,\n        @Inject(MAT_DIALOG_DATA) public data: any\n  ) {\n    // here the received value is being assigned to class variable `x`\n    this.x = data.x;\n  }\n\n    onNoClick(): void {\n        this.dialogRef.close();\n    }\n}\n</code></pre>\n\n<p>For more options &amp; detailed doc: <a href=\"https://material.angular.io/components/dialog/overview#sharing-data-with-the-dialog-component-\" rel=\"nofollow noreferrer\">https://material.angular.io/components/dialog/overview#sharing-data-with-the-dialog-component-</a></p>\n"}], "owner": {"reputation": 223, "user_id": 10859440, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-D_M6ALB8edY/AAAAAAAAAAI/AAAAAAAAHzQ/nPjLNXwphM8/photo.jpg?sz=128", "display_name": "Amarender Reddy", "link": "https://stackoverflow.com/users/10859440/amarender-reddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 866, "favorite_count": 0, "accepted_answer_id": 58107784, "answer_count": 1, "score": 1, "last_activity_date": 1569454621, "creation_date": 1569454162, "question_id": 58107743, "link": "https://stackoverflow.com/questions/58107743/pass-value-onclick-on-a-div-angular-7", "title": "Pass Value onclick on a div angular 7", "body": "<p>I have a div with click function. I want to pass a value to a material Dialog on click. I know how to do with ngModal on input. I don't know how to do this. Any ideas? Thanks.\nHTML:</p>\n\n<pre><code>&lt;div class=\"opportunitiesTiles\" (click)=\"openDialog('Designer')\"&gt;\n</code></pre>\n\n<p>Here is my Typescript:</p>\n\n<pre><code>export class OpportunitiesComponent implements OnInit {name: any;\nconstructor(public dialog: MatDialog) {}\n\n ngOnInit() {}\n\n openDialog(value): void {\n\nconst dialogRef = this.dialog.open(PopupDialog, {\n});\ndialogRef.afterClosed().subscribe(result =&gt; {\n  console.log(\"The dialog was closed\");\n});}}\n</code></pre>\n\n<p>This is my modal:</p>\n\n<pre><code>@Component({\nselector: \"popup-dialog\",\ntemplateUrl: \"./popupDialog.component.html\"\n})\nexport class PopupDialog {\nconstructor(public dialogRef: MatDialogRef&lt;PopupDialog&gt;) {}\n\n onNoClick(): void {\nthis.dialogRef.close();\n}}\n</code></pre>\n"}, {"tags": ["javascript", "ios", "video", "async-await", "html5-video"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 13339930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c892a268a0eb1f3bb40af6d5f3b660a?s=128&d=identicon&r=PG&f=1", "display_name": "Leonardo Collatto", "link": "https://stackoverflow.com/users/13339930/leonardo-collatto"}, "is_accepted": false, "score": 0, "last_activity_date": 1587132512, "creation_date": 1587132512, "answer_id": 61273623, "question_id": 58107742, "link": "https://stackoverflow.com/questions/58107742/ios-not-playing-html5-video-after-user-gesture-in-javascript-async-function/61273623#61273623", "title": "iOS not playing html5 video after user gesture in JavaScript async function", "body": "<p>As you probably know, video/audio requires users gestures to call their functions. But the problem here is that user gestures do not propagate with promises, settimeout, etc. This functionality was added in chrome 72 (<a href=\"https://developers.google.com/web/updates/2019/01/nic72?hl=ja#user-activation\" rel=\"nofollow noreferrer\">https://developers.google.com/web/updates/2019/01/nic72?hl=ja#user-activation</a>) but in safari/IOS is not supported yet.</p>\n"}], "owner": {"reputation": 236, "user_id": 10017823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd26c0f02e76cdbaa682f92527e86b16?s=128&d=identicon&r=PG&f=1", "display_name": "Heng Ye", "link": "https://stackoverflow.com/users/10017823/heng-ye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 300, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1587132512, "creation_date": 1569454124, "question_id": 58107742, "link": "https://stackoverflow.com/questions/58107742/ios-not-playing-html5-video-after-user-gesture-in-javascript-async-function", "title": "iOS not playing html5 video after user gesture in JavaScript async function", "body": "<p>I would like to play a HTML5 video in an async function, as a handler for the <code>click</code> event, but iOS returns a <code>NotAllowedError - The request is not allowed by the user agent or the platform in the current context, possibly because the user denied permission.</code>. All other browsers and operating systems play the video without error.</p>\n\n<p>The video is visible on the page and works when the URL is directly entered. The <code>playsinline</code> option is added. I would not like to mute the video. The iOS environment is Safari on iOS 12, and the problem can also be reproduced on Safari iOS 11.</p>\n\n<p>Here is my JavaScript code:</p>\n\n<pre><code>async function StartButton_Click() {\n    await doSomething();\n    document.querySelector(\"#myvideo\").play();\n}\ndocument.getElementById(\"startbutton\").onclick = StartButton_Click;\n</code></pre>\n\n<p>The <code>await</code> statement is included because I want <code>doSomething()</code> to complete before the video starts.</p>\n\n<p><code>#myvideo</code> and <code>#startbutton</code> are all defined in the HTML. Specifically, <code>#myvideo</code> is as follows:</p>\n\n<pre><code>&lt;video id=\"myvideo\" preload=\"auto\" src=\"video.mp4\" playsinline&gt;&lt;/video&gt;\n</code></pre>\n\n<p>I expect the video to play when the <code>#startbutton</code> is clicked, because iOS policy states that the video can play on user gesture. However, the error stated above is indicated in the console. Even though the handler is an <code>async</code> function, the video should still play because it still is a direct result of a user gesture.</p>\n\n<p>How shall I modify this code for it to play on iOS Safari?</p>\n"}, {"tags": ["javascript", "getter-setter", "assignment-operator", "es6-class"], "comments": [{"owner": {"reputation": 3199, "user_id": 6692606, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3653dbd72e2fd66e0a741b97aa322e1?s=128&d=identicon&r=PG&f=1", "display_name": "ASDFGerte", "link": "https://stackoverflow.com/users/6692606/asdfgerte"}, "edited": false, "score": 1, "creation_date": 1569453924, "post_id": 58107707, "comment_id": 102605826, "body": "as per your logic, &quot;005&quot; + 5 turns to &quot;0055&quot;, which as number is 55, which is smaller than 100, gets prepended with &quot;0&quot;, and turns to &quot;00055&quot;. String conversion is your issue."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 2, "creation_date": 1569454173, "post_id": 58107707, "comment_id": 102605877, "body": "No, there&#39;s no way to avoid this but to have a numeric <code>.id</code> property and a <i>separate</i> <code>paddedId</code> string getter."}], "answers": [{"tags": [], "owner": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "is_accepted": true, "score": 1, "last_activity_date": 1569454719, "creation_date": 1569454719, "answer_id": 58107794, "question_id": 58107707, "link": "https://stackoverflow.com/questions/58107707/is-there-a-way-of-having-arithmetic-operators-use-getters-and-setters-in-javascr/58107794#58107794", "title": "Is there a way of having arithmetic operators use getters and setters in Javascript ES6?", "body": "<p>Well, <em>theoretically</em> you could make 'id' an object and provide a hook to convert it to a number by default: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class ID {\r\n    constructor(value) {\r\n        this.value = value;\r\n    }\r\n\r\n    [Symbol.toPrimitive](hint) {\r\n        if (hint === 'number' || hint === 'default')\r\n            return Number(this.value)\r\n        return String(this.value);\r\n    }\r\n}\r\n\r\nclass Test {\r\n    constructor() {\r\n        this.id = new ID('000');\r\n    }\r\n\r\n    set id(num) {\r\n        let s;\r\n        if (num &lt; 10) {\r\n            s = '00' + num;\r\n        } else if (num &lt; 100) {\r\n            s = '0' + num;\r\n        } else {\r\n            s = '' + num;\r\n        }\r\n        this._id = new ID(s);\r\n\r\n    }\r\n\r\n    get id() {\r\n        return this._id;\r\n    }\r\n}\r\n\r\n\r\nconst test = new Test();\r\ntest.id = 5;\r\nconsole.log(`ID is: ${test.id}`); // ID is: 005\r\n\r\ntest.id += 5;\r\nconsole.log(`ID is: ${test.id}`); // ID is: 010</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/toPrimitive\" rel=\"nofollow noreferrer\">Docs</a></p>\n\n<p>That said, a practical way would be to have two properties (number and a formatted string), as suggested above.</p>\n"}, {"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 1, "last_activity_date": 1569454916, "creation_date": 1569454916, "answer_id": 58107815, "question_id": 58107707, "link": "https://stackoverflow.com/questions/58107707/is-there-a-way-of-having-arithmetic-operators-use-getters-and-setters-in-javascr/58107815#58107815", "title": "Is there a way of having arithmetic operators use getters and setters in Javascript ES6?", "body": "<p>Your getter and setter <em>are</em> being used. Here's what's happening.</p>\n\n<pre><code>testid += 5;\n</code></pre>\n\n<p>is translated to</p>\n\n<pre><code>test.id = test.id + 5\n</code></pre>\n\n<p>This first calls the getter, which returns <code>\"005\"</code>. It then concatenates <code>5</code>, resulting in <code>\"0055\"</code>. So it's equivalent to:</p>\n\n<pre><code>test.id = \"0055\";\n</code></pre>\n\n<p>In the setter, it gets to this test:</p>\n\n<pre><code>if (num &lt; 100)\n</code></pre>\n\n<p>This is true because 55 is less than 100. So it does:</p>\n\n<pre><code>this._id = '0' + num;\n</code></pre>\n\n<p>This concatenates <code>0</code> to the front, so it assigns <code>\"00055\"</code>.</p>\n\n<p>You could solve this problem by having the getter first convert <code>num</code> to an integer.</p>\n\n<pre><code>  set id(num) {\n    num = parseInt(num);\n    if (num &lt; 10) {\n      this._id = '00' + num;\n    } else if (num &lt; 100) {\n      this._id = '0' + num;\n    } else {\n      this._id = '' + num;\n    }\n  }\n</code></pre>\n\n<p>But there's no way to make <code>+=</code> convert the string to a number before doing the increment. The getter doesn't know how you're going to use the value, it can't return something different when the property is part of an increment operation.</p>\n"}], "owner": {"reputation": 437, "user_id": 5299034, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10203272588494957/picture?type=large", "display_name": "BrainFRZ", "link": "https://stackoverflow.com/users/5299034/brainfrz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 347, "favorite_count": 0, "accepted_answer_id": 58107794, "answer_count": 2, "score": 1, "last_activity_date": 1569454916, "creation_date": 1569453699, "question_id": 58107707, "link": "https://stackoverflow.com/questions/58107707/is-there-a-way-of-having-arithmetic-operators-use-getters-and-setters-in-javascr", "title": "Is there a way of having arithmetic operators use getters and setters in Javascript ES6?", "body": "<p>I have a rudimentary ID system where a number is translated into a string and padded with zeros to be at least 3 digits. It works fine as long as I'm only using a regular assignment. Is there any way of having arithmetic operators work with the setter as well?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class Test {\n  constructor() {\n    this.id = 0;\n  }\n\n  /**\n   * @param {Number} num\n   */\n  set id(num) {\n    if (num &lt; 10) {\n      this._id = '00' + num;\n    } else if (num &lt; 100) {\n      this._id = '0' + num;\n    } else {\n      this._id = '' + num;\n    }\n  }\n\n  get id() {\n    return this._id;\n  }\n\n  incrementID(increment=1) {\n    const id = parseInt(this.id);\n    this.id = id + increment;\n  }\n}\n\nconst test = new Test();\ntest.id = 5;\nconsole.log(`ID is: ${test.id}`); // ID is: 005\n\ntest.id += 5;\nconsole.log(`ID is: ${test.id}`); // ID is: 00055 (How?!?)\n</code></pre>\n\n<p>I know I could have an <code>incrementID</code> method like the one I wrote, but that feels like it's against the philosophy that ES6 setters and getters have.</p>\n\n<p>As a side note, what is even happening with the addition assignment? I would've expected the result to be <code>0055</code> if anything weird, since it's a number being added to a string.</p>\n"}, {"tags": ["javascript", "openlayers"], "comments": [{"owner": {"reputation": 1751, "user_id": 2310938, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wHVyX.jpg?s=128&g=1", "display_name": "Svinjica", "link": "https://stackoverflow.com/users/2310938/svinjica"}, "edited": false, "score": 0, "creation_date": 1569495929, "post_id": 58107691, "comment_id": 102619975, "body": "Hi Adm, welcom to the SO :) Can u please show was example of a code so we can point you in the right direction or at least try :)"}, {"owner": {"reputation": 27, "user_id": 12121959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7796a4998b622df74724fee654631bd3?s=128&d=identicon&r=PG&f=1", "display_name": "Adm", "link": "https://stackoverflow.com/users/12121959/adm"}, "reply_to_user": {"reputation": 1751, "user_id": 2310938, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wHVyX.jpg?s=128&g=1", "display_name": "Svinjica", "link": "https://stackoverflow.com/users/2310938/svinjica"}, "edited": false, "score": 1, "creation_date": 1569501598, "post_id": 58107691, "comment_id": 102623043, "body": "just edited Svinjica, thanks for your help"}, {"owner": {"reputation": 1751, "user_id": 2310938, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wHVyX.jpg?s=128&g=1", "display_name": "Svinjica", "link": "https://stackoverflow.com/users/2310938/svinjica"}, "edited": false, "score": 0, "creation_date": 1569502403, "post_id": 58107691, "comment_id": 102623477, "body": "Try adding this to center property <code>center:fromLonLat([37.6178, 55.7517]);</code> And before that you have to import <code>import {fromLonLat} from &#39;ol&#47;proj.js&#39;;</code> Also, worth reading <a href=\"https://openlayers.org/en/latest/doc/faq.html\" rel=\"nofollow noreferrer\">openlayers.org/en/latest/doc/faq.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 398, "user_id": 10798812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0bbfee06c7f924f91fb8cd6655fec86?s=128&d=identicon&r=PG&f=1", "display_name": "Mahdi Mahmoodian", "link": "https://stackoverflow.com/users/10798812/mahdi-mahmoodian"}, "is_accepted": false, "score": 0, "last_activity_date": 1569928953, "creation_date": 1569928953, "answer_id": 58183783, "question_id": 58107691, "link": "https://stackoverflow.com/questions/58107691/openlayers-map-center-issue/58183783#58183783", "title": "openlayers map center issue", "body": "<p>Every GIS map has a coordinate system. GIS web applications are very similar to desktop GIS maps, so they have a coordinate system too. in OpenLayers known as projection.<br/></p>\n\n<p>In OpenLayers, every web app made up of a <code>Map()</code> class that needs a <code>view()</code> to show the map. By default, every <code>view()</code> use <code>Web Mercator projection</code> or <code>EPSG:3857</code> as its projection. so in your code, you should put the center in <code>EPSG:3857</code> coordinate system. If you want to use center coordinate in WGS 84 or lat-long numbers you should change the view projection to <code>EPSG:4326</code> like this:</p>\n\n<pre><code>view: new ol.View({\n    center: [0,0],\n    projection: 'EPSG:4326',\n    zoom: 0\n})\n</code></pre>\n\n<p>Projection is really important for further usages. If you have some data in a specific projection, Openlayers can't display them on a map with another projection. for example, if you have some data in WGS 84 you can't use them on the default view(cause it's Web Mercator).<br/>\nSo before choosing the view projection read about the limits. e.g. Basemaps are not available in every projection just like normal layers.<br/><br/>\nAlso, there is another option you can use. Projecting the whole layer on the fly(in client browser) needs a massive process but we always can project a point or a single feature and use them among our layers or base map. In your case, you can only project your center point and use the map in Web Mercator. for this option, you need to use <code>fromLonLat()</code> like this:</p>\n\n<pre><code>center: ol.proj.fromLonLat([0,0])\n</code></pre>\n\n<p>Hope to be clear.</p>\n"}, {"tags": [], "owner": {"reputation": 665, "user_id": 8221706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee9d3870933a96951e475d1a51a1e21?s=128&d=identicon&r=PG&f=1", "display_name": "PKP", "link": "https://stackoverflow.com/users/8221706/pkp"}, "is_accepted": true, "score": 0, "last_activity_date": 1570172775, "creation_date": 1570172775, "answer_id": 58231475, "question_id": 58107691, "link": "https://stackoverflow.com/questions/58107691/openlayers-map-center-issue/58231475#58231475", "title": "openlayers map center issue", "body": "<p>Try this one for your center:</p>\n\n<pre><code>center: ol.proj.fromLonLat([longitude,latitude])\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 12121959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7796a4998b622df74724fee654631bd3?s=128&d=identicon&r=PG&f=1", "display_name": "Adm", "link": "https://stackoverflow.com/users/12121959/adm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 226, "favorite_count": 0, "accepted_answer_id": 58231475, "answer_count": 2, "score": 1, "last_activity_date": 1570172775, "creation_date": 1569453512, "last_edit_date": 1569581049, "question_id": 58107691, "link": "https://stackoverflow.com/questions/58107691/openlayers-map-center-issue", "title": "openlayers map center issue", "body": "<p>I am very new to working with openlayers. The tutorial below teaches how to show a map and build local, but the problem is I can not change the center of the map. Even If I change the location, it shows aways the \"zero\" point of the map.</p>\n\n<p><a href=\"https://openlayers.org/en/latest/doc/tutorials/bundle.html\" rel=\"nofollow noreferrer\">https://openlayers.org/en/latest/doc/tutorials/bundle.html</a></p>\n\n<p>below are the .js example and .html, the problem is the center: I can't change the map center</p>\n\n<pre><code> import 'ol/ol.css';\n import {Map, View} from 'ol';\n import TileLayer from 'ol/layer/Tile';\n import OSM from 'ol/source/OSM';\n\n const map = new Map({\n   target: 'map',\n   layers: [\n     new TileLayer({\n       source: new OSM()\n     })\n  ],\n  view: new View({\n    center: [0, 0],\n    zoom: 0\n  })\n});\n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;title&gt;Using Parcel with OpenLayers&lt;/title&gt;\n    &lt;style&gt;\n      #map {\n        width: 400px;\n        height: 250px;\n      }\n    &lt;/style&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;div id=\"map\"&gt;&lt;/div&gt;\n    &lt;script src=\"./index.js\"&gt;&lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["javascript", "events", "onload"], "comments": [{"owner": {"reputation": 11162, "user_id": 11619647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0MnDA.jpg?s=128&g=1", "display_name": "Emiel Zuurbier", "link": "https://stackoverflow.com/users/11619647/emiel-zuurbier"}, "edited": false, "score": 0, "creation_date": 1569453937, "post_id": 58107674, "comment_id": 102605827, "body": "Could you explain as to <i>why</i> you would want to wait to listen for an event that has already passed? Does your code rely on being invoked when the page is in a specific state?"}, {"owner": {"reputation": 20905, "user_id": 3897775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/STmqq.jpg?s=128&g=1", "display_name": "Rounin", "link": "https://stackoverflow.com/users/3897775/rounin"}, "reply_to_user": {"reputation": 11162, "user_id": 11619647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0MnDA.jpg?s=128&g=1", "display_name": "Emiel Zuurbier", "link": "https://stackoverflow.com/users/11619647/emiel-zuurbier"}, "edited": false, "score": 0, "creation_date": 1569454169, "post_id": 58107674, "comment_id": 102605875, "body": "Yes, I can explain. <code>my-dynamic-script.js</code> is compiled from sanitised third-party input and I cannot rule out that it will not contain <code>window.onload</code> event listeners. I need to parse and replace."}, {"owner": {"reputation": 596, "user_id": 11963779, "user_type": "registered", "profile_image": "https://graph.facebook.com/10219965336827633/picture?type=large", "display_name": "Declan McKelvey-Hembree", "link": "https://stackoverflow.com/users/11963779/declan-mckelvey-hembree"}, "reply_to_user": {"reputation": 11162, "user_id": 11619647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0MnDA.jpg?s=128&g=1", "display_name": "Emiel Zuurbier", "link": "https://stackoverflow.com/users/11619647/emiel-zuurbier"}, "edited": false, "score": 0, "creation_date": 1569454184, "post_id": 58107674, "comment_id": 102605882, "body": "I second @EmielZuurbier. You&#39;re right that the onload event is a specific trigger and not an ongoing condition, but what you&#39;re doing seems to defy that understanding -- the fact that the dynamic script is executing is evidence that the window has loaded. If you really want to double-check, maybe wrap your invocation in a check for <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/readyState\" rel=\"nofollow noreferrer\">document.readyState</a> ?"}, {"owner": {"reputation": 596, "user_id": 11963779, "user_type": "registered", "profile_image": "https://graph.facebook.com/10219965336827633/picture?type=large", "display_name": "Declan McKelvey-Hembree", "link": "https://stackoverflow.com/users/11963779/declan-mckelvey-hembree"}, "edited": false, "score": 1, "creation_date": 1569454278, "post_id": 58107674, "comment_id": 102605908, "body": "Ah, I see. Maybe re-fire the onload event manually once the dynamic script loads by using <code>dispatchEvent(new Event(&#39;load&#39;));</code> ?"}, {"owner": {"reputation": 20905, "user_id": 3897775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/STmqq.jpg?s=128&g=1", "display_name": "Rounin", "link": "https://stackoverflow.com/users/3897775/rounin"}, "reply_to_user": {"reputation": 596, "user_id": 11963779, "user_type": "registered", "profile_image": "https://graph.facebook.com/10219965336827633/picture?type=large", "display_name": "Declan McKelvey-Hembree", "link": "https://stackoverflow.com/users/11963779/declan-mckelvey-hembree"}, "edited": false, "score": 0, "creation_date": 1569454725, "post_id": 58107674, "comment_id": 102605967, "body": "Thanks @Declan. As you and Emiel were writing your comments I also discovered <code>document.readyState === &#39;complete&#39;</code> over at <a href=\"https://javascript.info/onload-ondomcontentloaded\" rel=\"nofollow noreferrer\">javascript.info/onload-ondomcontentloaded</a> - you&#39;re right, that could be useful."}, {"owner": {"reputation": 20905, "user_id": 3897775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/STmqq.jpg?s=128&g=1", "display_name": "Rounin", "link": "https://stackoverflow.com/users/3897775/rounin"}, "reply_to_user": {"reputation": 323, "user_id": 7095512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9df95894542801ce147bfe794c089ed0?s=128&d=identicon&r=PG&f=1", "display_name": "Artur", "link": "https://stackoverflow.com/users/7095512/artur"}, "edited": false, "score": 0, "creation_date": 1569455465, "post_id": 58107674, "comment_id": 102606082, "body": "Thanks, @Artur - yes, CTS_AE&#39;s <b>Deeper Example</b> answer on the question you have referenced is the best solution I have seen."}, {"owner": {"reputation": 20905, "user_id": 3897775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/STmqq.jpg?s=128&g=1", "display_name": "Rounin", "link": "https://stackoverflow.com/users/3897775/rounin"}, "reply_to_user": {"reputation": 11162, "user_id": 11619647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0MnDA.jpg?s=128&g=1", "display_name": "Emiel Zuurbier", "link": "https://stackoverflow.com/users/11619647/emiel-zuurbier"}, "edited": false, "score": 0, "creation_date": 1569455757, "post_id": 58107674, "comment_id": 102606132, "body": "Thank you, @Emiel for your answer below. I didn&#39;t see it before re-classifying this question as a duplicate, else I would have commented underneath it. Your <code>window.dispatchEvent</code> is a good solution."}, {"owner": {"reputation": 11162, "user_id": 11619647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0MnDA.jpg?s=128&g=1", "display_name": "Emiel Zuurbier", "link": "https://stackoverflow.com/users/11619647/emiel-zuurbier"}, "reply_to_user": {"reputation": 596, "user_id": 11963779, "user_type": "registered", "profile_image": "https://graph.facebook.com/10219965336827633/picture?type=large", "display_name": "Declan McKelvey-Hembree", "link": "https://stackoverflow.com/users/11963779/declan-mckelvey-hembree"}, "edited": false, "score": 1, "creation_date": 1569456357, "post_id": 58107674, "comment_id": 102606250, "body": "You&#39;re welcome, but thank @declan-mckelvey-hembree for the idea. Have a nice day!"}, {"owner": {"reputation": 323, "user_id": 7095512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9df95894542801ce147bfe794c089ed0?s=128&d=identicon&r=PG&f=1", "display_name": "Artur", "link": "https://stackoverflow.com/users/7095512/artur"}, "edited": false, "score": 1, "creation_date": 1569456520, "post_id": 58107674, "comment_id": 102606284, "body": "Tis a pleasure."}, {"owner": {"reputation": 20905, "user_id": 3897775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/STmqq.jpg?s=128&g=1", "display_name": "Rounin", "link": "https://stackoverflow.com/users/3897775/rounin"}, "edited": false, "score": 0, "creation_date": 1569488719, "post_id": 58107674, "comment_id": 102616087, "body": "I&#39;ve put together a definitive solution for when <code>window.addEventListener(&#39;load&#39;, activateMyFunction);</code> &amp; <code>window.addEventListener(&#39;DOMContentLoaded&#39;, activateMyFunction);</code> don&#39;t work: it requires a single character substitution (eg. from <code>window.addEventListener(&#39;load&#39;, activateMyFunction);</code> to <code>window_addEventListener(&#39;load&#39;, activateMyFunction);</code>). The function <code>window_addEventListener</code> looks like this: <code>const window_addEventListener = (eventName, callback, useCapture = false) =&gt; {if ((document.readyState === &#39;interactive&#39;) || (document.readyState === &#39;complete&#39;)) {callback();}}</code>."}], "answers": [{"comments": [{"owner": {"reputation": 596, "user_id": 11963779, "user_type": "registered", "profile_image": "https://graph.facebook.com/10219965336827633/picture?type=large", "display_name": "Declan McKelvey-Hembree", "link": "https://stackoverflow.com/users/11963779/declan-mckelvey-hembree"}, "edited": false, "score": 1, "creation_date": 1569518841, "post_id": 58107859, "comment_id": 102632452, "body": "This is exactly the solution I was envisioning, thanks for writing it out!"}], "tags": [], "owner": {"reputation": 11162, "user_id": 11619647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0MnDA.jpg?s=128&g=1", "display_name": "Emiel Zuurbier", "link": "https://stackoverflow.com/users/11619647/emiel-zuurbier"}, "is_accepted": false, "score": 2, "last_activity_date": 1569455441, "creation_date": 1569455441, "answer_id": 58107859, "question_id": 58107674, "link": "https://stackoverflow.com/questions/58107674/window-onload-event-not-working-in-a-script-which-is-generated-at-window-onloa/58107859#58107859", "title": "window.onload event not working in a &lt;script&gt; which is generated at window.onload", "body": "<p>As @declan-mckelvey-hembree suggested manually dispatch the <code>load</code> event on the window object again. </p>\n\n<p>Add an event listener to the <code>script</code> tag to know when the file has been loaded. When it has use <code>window.dispatchEvent</code> to manually fire <code>load</code> on <code>window</code>.</p>\n\n<p>Be sure to add <code>{once: true}</code> as the third parameter on your <code>load</code> event listener that calls the <code>loadDynamicScript</code> function. Otherwise that function will be called as well when you dispatch the <code>load</code> event.</p>\n\n<pre><code>const loadDynamicScript = () =&gt; {\n  const dynamicScript = document.createElement('script');\n\n  // Wait for script to load.\n  script.addEventListener('load', () =&gt; { \n\n    // Dispatch 'load' event from window to trigger 'load' event\n    // listeners in '/my-dynamic-script.js' file.\n    const loadEvent = new Event('load');\n    window.dispatchEvent(loadEvent); \n  }\n\n  dynamicScript.src = '/my-dynamic-script.js';\n  document.body.appendChild(dynamicScript);\n}\n\n// Adding {once: true} prevents loadDynamicScript from firing again on load.\n// Otherwise the scripts would be added infinitely.\nwindow.addEventListener('load', loadDynamicScript, {once: true);\n</code></pre>\n"}], "owner": {"reputation": 20905, "user_id": 3897775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/STmqq.jpg?s=128&g=1", "display_name": "Rounin", "link": "https://stackoverflow.com/users/3897775/rounin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 291, "favorite_count": 0, "closed_date": 1569455563, "answer_count": 1, "score": 0, "last_activity_date": 1569455441, "creation_date": 1569453324, "question_id": 58107674, "link": "https://stackoverflow.com/questions/58107674/window-onload-event-not-working-in-a-script-which-is-generated-at-window-onloa", "closed_reason": "Duplicate", "title": "window.onload event not working in a &lt;script&gt; which is generated at window.onload", "body": "<p>I am dynamically creating and appending a new <code>&lt;script&gt;</code> to the DOM, after the window has loaded:</p>\n\n<pre><code>const loadDynamicScript = () =&gt; {\n\n  const dynamicScript = document.createElement('script');\n  dynamicScript.src = '/my-dynamic-script.js';\n  document.body.appendChild(dynamicScript);\n}\n\nwindow.addEventListener('load', loadDynamicScript);\n</code></pre>\n\n<blockquote>\n  <p><strong>N.B.</strong> I have tried <code>window.addEventListener('DOMContentLoaded', loadDynamicScript);</code> but this means <code>/my-dynamic-script.js</code> loads too soon.</p>\n</blockquote>\n\n<p>Unexpectedly, any <code>window.onload</code> event listener in <code>my-dynamic-script.js</code> doesn't work now.</p>\n\n<p>I am guessing this is because the event listener listens for the single specific moment at which the <code>window</code> loads and <em>any time after that</em> is too late. (This is different from what I anticipated - that once the window had loaded, the window would be in a state which would always positively trigger a <code>window.onload</code> event listener).</p>\n\n<p>So, inside <code>my-dynamic-script.js</code>... what can I use instead of:</p>\n\n<pre><code>window.addEventListener('load', activateMyFunction);\n</code></pre>\n\n<p>I have tried:</p>\n\n<ul>\n<li><code>self.addEventListener('load', activateMyFunction);</code></li>\n<li><code>window.addEventListener('DOMContentLoaded', activateMyFunction);</code></li>\n<li><code>window.addEventListener('pageshow', activateMyFunction);</code></li>\n<li><code>document.body.addEventListener(\"pageshow\", myFunction);</code></li>\n</ul>\n\n<p>So far no luck. I obviously need to be more creative.</p>\n\n<hr>\n\n<p>One solution that <strong><em>has</em></strong> worked is simply removing the function invocation from the event listener and declaring it without adornment:</p>\n\n<pre><code>myFunction();\n</code></pre>\n\n<p>But this isn't ideal. I'd really prefer to invoke any function within some kind of event listener (or similar).</p>\n"}, {"tags": ["javascript", "html", "reactjs", "react-native", "web-deployment-project"], "comments": [{"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 1, "creation_date": 1569453650, "post_id": 58107654, "comment_id": 102605773, "body": "You don&#39;t define a changeFormStatus function in RenderIcon, so it&#39;s not a function: it&#39;s undefined. It&#39;s also not clear why you&#39;re defining whenUserClicks for that class when you&#39;re also passing it in with props. What&#39;s your question?"}, {"owner": {"reputation": 531, "user_id": 3479395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mY0M3.jpg?s=128&g=1", "display_name": "mulsun", "link": "https://stackoverflow.com/users/3479395/mulsun"}, "edited": false, "score": 0, "creation_date": 1569453821, "post_id": 58107654, "comment_id": 102605806, "body": "See: <a href=\"https://stackoverflow.com/questions/26176519/reactjs-call-parent-method\" title=\"reactjs call parent method\">stackoverflow.com/questions/26176519/reactjs-call-parent-met&zwnj;&#8203;hod</a>"}], "answers": [{"tags": [], "owner": {"reputation": 765, "user_id": 8111610, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/d0a1b70f5507cdb7ff18c0c0c57200ae?s=128&d=identicon&r=PG", "display_name": "Maiya", "link": "https://stackoverflow.com/users/8111610/maiya"}, "is_accepted": true, "score": 0, "last_activity_date": 1569464743, "creation_date": 1569464743, "answer_id": 58108747, "question_id": 58107654, "link": "https://stackoverflow.com/questions/58107654/typeerror-this-props-changeformstatus-is-not-a-function-when-trying-to-pass-a/58108747#58108747", "title": "&quot;TypeError: this.props.changeFormStatus is not a function&quot; when trying to pass a function to a child component", "body": "<p>Look at the component that you are rendering and passing the function to. You wrote this:</p>\n\n<pre><code>&lt;RenderIcon iconName=\"plus\" whenUserClicks={this.changeFormStatus} iconMeaning=\"Add\"/&gt;\n</code></pre>\n\n<p>That means that inside of the RenderIcon component, the function is now named this.props.whenUserClicks</p>\n\n<p>In your outer component, the function is named this.changeFormStatus.  But in the inner component, it is named this.props.whenUserClicks. </p>\n\n<p>Also, you are not calling this.props.whenUserClicks.  You have made a new function inside of the child component called this.whenUserClicks</p>\n\n<p>Also, in your child component, you have this:</p>\n\n<pre><code>  &lt;div onClick={this.whenUserClicks()}&gt;&lt;/div&gt;\n</code></pre>\n\n<p>You want to change that to </p>\n\n<pre><code> onClick={(e)=&gt;{\n     this.whenUserClicks()\n }\n</code></pre>\n\n<p>or </p>\n\n<pre><code> onClick={this.whenUserClicks}\n</code></pre>\n\n<p>If you invoke the function like you did, then the function will just run immediately when the page is loaded, instead of waiting for when the div is clicked.</p>\n"}], "owner": {"reputation": 29, "user_id": 6530365, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/55354f68d8a076f883f12646536507be?s=128&d=identicon&r=PG&f=1", "display_name": "Akash21", "link": "https://stackoverflow.com/users/6530365/akash21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 919, "favorite_count": 0, "accepted_answer_id": 58108747, "answer_count": 1, "score": -2, "last_activity_date": 1569472478, "creation_date": 1569453208, "last_edit_date": 1569472478, "question_id": 58107654, "link": "https://stackoverflow.com/questions/58107654/typeerror-this-props-changeformstatus-is-not-a-function-when-trying-to-pass-a", "title": "&quot;TypeError: this.props.changeFormStatus is not a function&quot; when trying to pass a function to a child component", "body": "<p>I'm trying to pass a function to a child component that will trigger the logic that will display a simple text form on my webpage after a button has been pressed but I am getting the error message :  </p>\n\n<blockquote>\n  <p>TypeError: this.props.changeFormStatus is not a function</p>\n</blockquote>\n\n<p>Below is the code for the parent component:</p>\n\n<pre><code>import React from 'react';\nimport ReactDom from 'react-dom';\nimport RenderIcon from \"./RenderIcon\";\nimport RenderForm from \"./RenderForm\";\n\n\n\nclass RetroColumn extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {formStatus:false};\n        this.changeFormStatus = this.changeFormStatus.bind(this);\n    }\n\n    changeFormStatus() {\n        this.setState({formStatus:true});\n    }\n\n    render() {\n        return (\n            &lt;div className=\"column\"&gt;\n                &lt;div className=\"ui segment\"&gt;\n                    &lt;h1 className=\"ui header\"&gt;\n                        &lt;RenderIcon iconName=\"minus\" iconMeaning=\"Remove\"/&gt;\n                        {this.props.columnName}\n                        &lt;RenderIcon iconName=\"plus\" whenUserClicks={this.changeFormStatus} iconMeaning=\"Add\"/&gt;\n                    &lt;/h1&gt;\n                    &lt;RenderForm revealForm={this.state.formStatus}/&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        );\n    }\n\n\n};\n\nexport default RetroColumn;\n</code></pre>\n\n<p>And here's the code for the child component:</p>\n\n<pre><code>import React from 'react';\nimport ReactDom from 'react-dom';\n\nclass RenderIcon extends React.Component{\n    constructor(props){\n        super(props);\n    }\n\n    whenUserClicks() {\n        console.log(this.props);\n        this.props.changeFormStatus();\n    };\n\n    render() {\n        return (\n            &lt;div className=\"ui vertical animated button\" tabIndex=\"0\" onClick={this.whenUserClicks()}&gt;\n                &lt;div className=\"hidden content\"&gt;{this.props.iconMeaning}&lt;/div&gt;\n                &lt;div className=\"visible content\"&gt;\n                    &lt;i className={`${this.props.iconName} icon`}&gt;&lt;/i&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        );\n    }\n\n\n}\n\nexport default RenderIcon;\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "comments": [{"owner": {"reputation": 596, "user_id": 11963779, "user_type": "registered", "profile_image": "https://graph.facebook.com/10219965336827633/picture?type=large", "display_name": "Declan McKelvey-Hembree", "link": "https://stackoverflow.com/users/11963779/declan-mckelvey-hembree"}, "edited": false, "score": 1, "creation_date": 1569453383, "post_id": 58107649, "comment_id": 102605729, "body": "What condition do you want it to be readonly under? It seems like you already know how to make it readonly."}, {"owner": {"reputation": 851, "user_id": 7034540, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209364272256116/picture?type=large", "display_name": "aRtoo", "link": "https://stackoverflow.com/users/7034540/artoo"}, "reply_to_user": {"reputation": 596, "user_id": 11963779, "user_type": "registered", "profile_image": "https://graph.facebook.com/10219965336827633/picture?type=large", "display_name": "Declan McKelvey-Hembree", "link": "https://stackoverflow.com/users/11963779/declan-mckelvey-hembree"}, "edited": false, "score": 0, "creation_date": 1569507498, "post_id": 58107649, "comment_id": 102626600, "body": "@DeclanMcKelvey-Hembree wanted to make it readonly if user are not editing it. they can full control if they want to edit it. but my problem is onload it will be readOnly, if I click to edit and click the drop down to edit the date it will turn to readonly again. thats my problem. hope it makes sense"}, {"owner": {"reputation": 13181, "user_id": 17300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6913044c5e536029098ce2d5c9b841e?s=128&d=identicon&r=PG", "display_name": "Stephen P", "link": "https://stackoverflow.com/users/17300/stephen-p"}, "edited": false, "score": 0, "creation_date": 1569519510, "post_id": 58107649, "comment_id": 102632736, "body": "<i>&quot;but without using other buttons&quot;</i> \u2014 as Declan asks, rather than using a button, <i><b>how</b></i> (when, under what conditions) do you want it to change? Your current code does it, though Nidhin&#39;s answer is a better way to do it. But when should that code be run? You say you don&#39;t want it to run on a (button) click, so when <i>do</i> you want the readonly state to toggle? Without that information, it is unclear what you are asking."}, {"owner": {"reputation": 851, "user_id": 7034540, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209364272256116/picture?type=large", "display_name": "aRtoo", "link": "https://stackoverflow.com/users/7034540/artoo"}, "reply_to_user": {"reputation": 13181, "user_id": 17300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6913044c5e536029098ce2d5c9b841e?s=128&d=identicon&r=PG", "display_name": "Stephen P", "link": "https://stackoverflow.com/users/17300/stephen-p"}, "edited": false, "score": 0, "creation_date": 1569520412, "post_id": 58107649, "comment_id": 102633130, "body": "@StephenP so onload I can see the dates value, when I click the input field first time thats the moment I can edit it or removed the readOnly, so the condition is when the input field is on readOnly and user clicks, thats the moment the <code>readOnly</code> will be removed, since readOnly is removed they can edit the date, user can click the drop down and look for a date, after they picked a date then it will return to readOnly. after playing around I dont think this is doable. I need another button to toggle readonly. if they click the dropdown then it will return to readonly"}, {"owner": {"reputation": 13181, "user_id": 17300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6913044c5e536029098ce2d5c9b841e?s=128&d=identicon&r=PG", "display_name": "Stephen P", "link": "https://stackoverflow.com/users/17300/stephen-p"}, "edited": false, "score": 0, "creation_date": 1569523244, "post_id": 58107649, "comment_id": 102634408, "body": "So take off the toggle -- start as readonly <code>&lt;input id=&quot;date&quot; type=&quot;date&quot; value=&quot;2018-07-22&quot;  readonly&gt;</code> then, when the div is clicked, remove the readonly attribute using <code>date.removeAttribute(&#39;readonly&#39;)</code>as Nidhin shows. When a new date is picked (or typed or changed in any way) a <code>change</code> event if fired; attach a change listener <code>date.addEventListener(&#39;change&#39;, function(){...})</code> \u2014 in <i>that</i> listener (when the field is <i>changed</i>) then add the readonly attribute back <code>date.setAttribute(&#39;readonly&#39;,&#39;&#39;);</code>"}], "answers": [{"comments": [{"owner": {"reputation": 13181, "user_id": 17300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6913044c5e536029098ce2d5c9b841e?s=128&d=identicon&r=PG", "display_name": "Stephen P", "link": "https://stackoverflow.com/users/17300/stephen-p"}, "edited": false, "score": 0, "creation_date": 1569453685, "post_id": 58107681, "comment_id": 102605782, "body": "<code>disabled</code> and <code>readonly</code> are <a href=\"https://stackoverflow.com/a/7730719/17300\">not the same thing</a>."}, {"owner": {"reputation": 8603, "user_id": 3289660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cGFex.jpg?s=128&g=1", "display_name": "Nidhin Joseph", "link": "https://stackoverflow.com/users/3289660/nidhin-joseph"}, "reply_to_user": {"reputation": 13181, "user_id": 17300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6913044c5e536029098ce2d5c9b841e?s=128&d=identicon&r=PG", "display_name": "Stephen P", "link": "https://stackoverflow.com/users/17300/stephen-p"}, "edited": false, "score": 1, "creation_date": 1569453897, "post_id": 58107681, "comment_id": 102605822, "body": "@StephenP have changed."}, {"owner": {"reputation": 851, "user_id": 7034540, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209364272256116/picture?type=large", "display_name": "aRtoo", "link": "https://stackoverflow.com/users/7034540/artoo"}, "edited": false, "score": 0, "creation_date": 1569507346, "post_id": 58107681, "comment_id": 102626516, "body": "this is the same as mine. how would change the date? if you click the drop down button it will set to readonly"}], "tags": [], "owner": {"reputation": 8603, "user_id": 3289660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cGFex.jpg?s=128&g=1", "display_name": "Nidhin Joseph", "link": "https://stackoverflow.com/users/3289660/nidhin-joseph"}, "is_accepted": false, "score": 2, "last_activity_date": 1569453888, "last_edit_date": 1569453888, "creation_date": 1569453410, "answer_id": 58107681, "question_id": 58107649, "link": "https://stackoverflow.com/questions/58107649/make-input-tag-toggle-between-edit-and-readonly/58107681#58107681", "title": "make input tag toggle between edit and readOnly", "body": "<p>You can use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/setAttribute\" rel=\"nofollow noreferrer\">setAttribute</a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/removeAttribute\" rel=\"nofollow noreferrer\">removeAttribute</a> attribute functions to toggle disabled state.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const test = document.querySelector('#wasa');\r\nconst date = document.querySelector('#date');\r\ntest.addEventListener('click', function() {\r\n  if (date.hasAttribute('readonly')) {\r\n    date.removeAttribute('readonly')\r\n  } else {\r\n    date.setAttribute('readonly', 'readonly');\r\n  }\r\n})</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#wasa {\r\n  padding: 1em;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id='wasa'&gt;\r\n  &lt;input id=\"date\" type=\"date\" value=\"2018-07-22\"&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 851, "user_id": 7034540, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209364272256116/picture?type=large", "display_name": "aRtoo", "link": "https://stackoverflow.com/users/7034540/artoo"}, "edited": false, "score": 0, "creation_date": 1569507300, "post_id": 58108670, "comment_id": 102626487, "body": "but how would change the date though? if you try clicking on the drop down it will be set to readonly. same problem as mine."}, {"owner": {"reputation": 1783, "user_id": 3492285, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/0nNq1.jpg?s=128&g=1", "display_name": "Icewine", "link": "https://stackoverflow.com/users/3492285/icewine"}, "reply_to_user": {"reputation": 851, "user_id": 7034540, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209364272256116/picture?type=large", "display_name": "aRtoo", "link": "https://stackoverflow.com/users/7034540/artoo"}, "edited": false, "score": 1, "creation_date": 1569544347, "post_id": 58108670, "comment_id": 102640498, "body": "@aRtoo Sorry I thought that was what you wanted. I have edit the answer to have it where when you click on the input, it removes the readonly, and when you click away or lose focus, it will add the readonly attribute. Good Luck!"}, {"owner": {"reputation": 851, "user_id": 7034540, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209364272256116/picture?type=large", "display_name": "aRtoo", "link": "https://stackoverflow.com/users/7034540/artoo"}, "edited": false, "score": 0, "creation_date": 1569598216, "post_id": 58108670, "comment_id": 102661533, "body": "dont be sorry sir. this works. thank you so much. appreciate the answer. I will accept."}], "tags": [], "owner": {"reputation": 1783, "user_id": 3492285, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/0nNq1.jpg?s=128&g=1", "display_name": "Icewine", "link": "https://stackoverflow.com/users/3492285/icewine"}, "is_accepted": true, "score": 1, "last_activity_date": 1569544253, "last_edit_date": 1569544253, "creation_date": 1569463998, "answer_id": 58108670, "question_id": 58107649, "link": "https://stackoverflow.com/questions/58107649/make-input-tag-toggle-between-edit-and-readonly/58108670#58108670", "title": "make input tag toggle between edit and readOnly", "body": "<p>If you are interested in a jQuery answer this would be how I would do it.\nIt is a little more clean than a pure javascript answer and achieves the same thing.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// remove readonly when clicking on the input\r\n$(\"body\").on(\"click\", \"#wasa input\", function(){  \r\n  $(this).prop(\"readonly\", \"\");\r\n  \r\n  // EDIT: this was the prevoius answer\r\n  //$(this).prop(\"readonly\", !$(this).prop(\"readonly\"));// unlock by clicking on the input\r\n});\r\n\r\n/* NEW */\r\n// lock input when click/tab away\r\n$(\"body\").on(\"focusout\", \"#wasa input\", function(){  \r\n  $(this).prop(\"readonly\", \"readonly\");  \r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#wasa input:read-only {\r\n  background: crimson;\r\n  color: white;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div id='wasa'&gt;&lt;input id=\"date\" type=\"date\" value=\"2018-07-22\" readonly&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 851, "user_id": 7034540, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209364272256116/picture?type=large", "display_name": "aRtoo", "link": "https://stackoverflow.com/users/7034540/artoo"}, "edited": false, "score": 0, "creation_date": 1569598167, "post_id": 58123084, "comment_id": 102661516, "body": "thank you for this. this works yea I had to implement on blur. I have to accept the answer above because it&#39;s complete. thank you though for giving me an idea. :)"}], "tags": [], "owner": {"reputation": 13181, "user_id": 17300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6913044c5e536029098ce2d5c9b841e?s=128&d=identicon&r=PG", "display_name": "Stephen P", "link": "https://stackoverflow.com/users/17300/stephen-p"}, "is_accepted": false, "score": 1, "last_activity_date": 1569524050, "creation_date": 1569524050, "answer_id": 58123084, "question_id": 58107649, "link": "https://stackoverflow.com/questions/58107649/make-input-tag-toggle-between-edit-and-readonly/58123084#58123084", "title": "make input tag toggle between edit and readOnly", "body": "<p>You can use the <em>change</em> event to restore the <code>readonly</code> status of the field.</p>\n\n<p>From my comment...</p>\n\n<p>Take off the toggle \u2014 start as readonly by including the <code>readonly</code> attribute on the field</p>\n\n<pre><code>&lt;input type=\"date\" value=\"2018-07-22\" readonly&gt;\n</code></pre>\n\n<p>Then, when the div is clicked, remove the readonly attribute using <code>date.removeAttribute('readonly')</code> as Nidhin shows.</p>\n\n<p>When a new date is picked a change event is fired; attach a change listener to the date field. In that listener (when the field is changed) then add the readonly attribute back.</p>\n\n<p>Note that a <code>change</code> isn't always fired the moment a value changes, it may not be fired until you <em>leave</em> the field (blur), so you may want to further adapt the code below, but it <em>is</em> fired when you change the value via the datepicker.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const dateDiv = document.getElementById('wasa');\r\nconst date = document.querySelector('input[type=date]', dateDiv);\r\n\r\ndateDiv.addEventListener('click', function() {\r\n    date.removeAttribute('readonly');\r\n});\r\n\r\ndate.addEventListener('change', function() {\r\n    date.setAttribute('readonly','');\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#date  {\r\n  background: transparent;\r\n  border: none;\r\n}\r\n\r\n#date[readonly] {\r\n  background-color: lightblue;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id='wasa'&gt;\r\n  &lt;input id=\"date\" type=\"date\" value=\"2018-07-22\" readonly&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 851, "user_id": 7034540, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209364272256116/picture?type=large", "display_name": "aRtoo", "link": "https://stackoverflow.com/users/7034540/artoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 436, "favorite_count": 0, "accepted_answer_id": 58108670, "answer_count": 3, "score": 0, "last_activity_date": 1569544253, "creation_date": 1569453146, "last_edit_date": 1569462450, "question_id": 58107649, "link": "https://stackoverflow.com/questions/58107649/make-input-tag-toggle-between-edit-and-readonly", "title": "make input tag toggle between edit and readOnly", "body": "<p>I have a question, how do you toggle input tag from edit to readOnly but without using other buttons. I have here my <a href=\"https://codepen.io/artoo/pen/JjPzwzR?editors=1111\" rel=\"nofollow noreferrer\">codepen</a>. If you notice I added an event on a div. This one kinda dumb because when they want to edit they click the input and then the next click will disable it. There's something that I saw somewhere. They implemented this same thing. Any links that I could read? thank you.</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;div id='wasa'&gt;\n  &lt;input id=\"date\" type=\"date\" value=\"2018-07-22\" &gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>JS</strong></p>\n\n<pre><code>const test = document.querySelector('#wasa');\nconst date = document.querySelector('#date');\nlet foo = false; \ntest.addEventListener('click', function() {\n  foo = !foo\n  date.readOnly = foo;\n  console.log(foo)\n})\n</code></pre>\n"}, {"tags": ["javascript", "json", "url", "caching", "vega"], "comments": [{"owner": {"reputation": 30623, "user_id": 1762224, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/20969bd926bb6a29ee19a07a25f7fea8?s=128&d=identicon&r=PG", "display_name": "Mr. Polywhirl", "link": "https://stackoverflow.com/users/1762224/mr-polywhirl"}, "edited": false, "score": 0, "creation_date": 1569453054, "post_id": 58107560, "comment_id": 102605665, "body": "You could probably save it locally and run a repair on the data e.g. <code>data[0].url = &#39;custom-path&#39;</code>? Also, just because it calls out to an external source doesn&#39;t mean your browser wont cache it and use a local version next time."}, {"owner": {"reputation": 682, "user_id": 6302270, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GTMFq.jpg?s=128&g=1", "display_name": "alexfrize", "link": "https://stackoverflow.com/users/6302270/alexfrize"}, "reply_to_user": {"reputation": 30623, "user_id": 1762224, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/20969bd926bb6a29ee19a07a25f7fea8?s=128&d=identicon&r=PG", "display_name": "Mr. Polywhirl", "link": "https://stackoverflow.com/users/1762224/mr-polywhirl"}, "edited": false, "score": 0, "creation_date": 1569454253, "post_id": 58107560, "comment_id": 102605904, "body": "I tried.I saved it locally and changed URL. But browser doesn&#39;t cache it."}, {"owner": {"reputation": 682, "user_id": 6302270, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GTMFq.jpg?s=128&g=1", "display_name": "alexfrize", "link": "https://stackoverflow.com/users/6302270/alexfrize"}, "reply_to_user": {"reputation": 30623, "user_id": 1762224, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/20969bd926bb6a29ee19a07a25f7fea8?s=128&d=identicon&r=PG", "display_name": "Mr. Polywhirl", "link": "https://stackoverflow.com/users/1762224/mr-polywhirl"}, "edited": false, "score": 0, "creation_date": 1569454457, "post_id": 58107560, "comment_id": 102605925, "body": "&quot;run a repair on the data&quot; . - what exactly do you mean? Change url AFTER loading the spec?"}], "owner": {"reputation": 682, "user_id": 6302270, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GTMFq.jpg?s=128&g=1", "display_name": "alexfrize", "link": "https://stackoverflow.com/users/6302270/alexfrize"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1569452317, "creation_date": 1569452317, "question_id": 58107560, "link": "https://stackoverflow.com/questions/58107560/vega-how-to-include-topojson-instead-of-using-url-in-the-vega-spec", "title": "Vega: how to include topoJSON instead of using URL in the Vega spec", "body": "<p>I use Vega charting library. Every time I switch between tabs, the app render charts and one of charts has a spec with URL of topoJSON. The spec itself is in memory, but this URL is called every time on re-rendering charts.</p>\n\n<p>This example uses URL to load topoJSON of the world map: <a href=\"https://vega.github.io/vega/examples/zoomable-world-map/\" rel=\"nofollow noreferrer\">https://vega.github.io/vega/examples/zoomable-world-map/</a></p>\n\n<p>Is it possible include topoJSON to the spec instead of using URL?\nOr at least cache it somehow on local (can't use CDN).</p>\n\n<p><a href=\"https://i.stack.imgur.com/zeKcQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zeKcQ.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "node.js", "raspberry-pi3", "telegram", "shelljs"], "comments": [{"owner": {"reputation": 2589, "user_id": 3808452, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/iGXTD.jpg?s=128&g=1", "display_name": "Barthy", "link": "https://stackoverflow.com/users/3808452/barthy"}, "edited": false, "score": 0, "creation_date": 1569457716, "post_id": 58107533, "comment_id": 102606477, "body": "Have your tried using the <a href=\"https://github.com/shelljs/shelljs#execcommand--options--callback\" rel=\"nofollow noreferrer\"><code>callback</code> parameter</a>?"}, {"owner": {"reputation": 31, "user_id": 12121886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5NEAI.jpg?s=128&g=1", "display_name": "Rafa Roman", "link": "https://stackoverflow.com/users/12121886/rafa-roman"}, "reply_to_user": {"reputation": 2589, "user_id": 3808452, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/iGXTD.jpg?s=128&g=1", "display_name": "Barthy", "link": "https://stackoverflow.com/users/3808452/barthy"}, "edited": false, "score": 0, "creation_date": 1569486246, "post_id": 58107533, "comment_id": 102614769, "body": "Nope, I would give it a try!"}, {"owner": {"reputation": 2589, "user_id": 3808452, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/iGXTD.jpg?s=128&g=1", "display_name": "Barthy", "link": "https://stackoverflow.com/users/3808452/barthy"}, "edited": false, "score": 0, "creation_date": 1569531542, "post_id": 58107533, "comment_id": 102637799, "body": "Did that work out? Do you need any more help?"}, {"owner": {"reputation": 31, "user_id": 12121886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5NEAI.jpg?s=128&g=1", "display_name": "Rafa Roman", "link": "https://stackoverflow.com/users/12121886/rafa-roman"}, "reply_to_user": {"reputation": 2589, "user_id": 3808452, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/iGXTD.jpg?s=128&g=1", "display_name": "Barthy", "link": "https://stackoverflow.com/users/3808452/barthy"}, "edited": false, "score": 0, "creation_date": 1569680915, "post_id": 58107533, "comment_id": 102678953, "body": "I didn&#39;t even try... \ud83d\ude05 Because searching for info I decided to implement the problem by trying &quot;https&quot; in nodejs and make my program entirely by javascript and I will not use scripts anymore. So the shelljs and his asynchronouns functions are not a problem now. Btw, thx for your answer \ud83d\ude04"}], "owner": {"reputation": 31, "user_id": 12121886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5NEAI.jpg?s=128&g=1", "display_name": "Rafa Roman", "link": "https://stackoverflow.com/users/12121886/rafa-roman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1569452086, "creation_date": 1569452086, "question_id": 58107533, "link": "https://stackoverflow.com/questions/58107533/javascript-order-of-executing-lines-of-code", "title": "Javascript order of executing lines of code", "body": "<p>I am doing a Telegram Bot implemented in a Raspberry Pi 3. So my first idea is to use \"telegraf\" with Node.js and execute the code of the BOT there, but also with \"shell.js\" i would like to run some commands on Raspberry Terminal. The problem is that i would like the code from the BOT to wait until a file is downloaded and then the program continues...</p>\n\n<p>The problem here is that the program does some things not in order of appearance.</p>\n\n<pre><code>    var shell = require('shelljs')\n\n    const download = (ctx) =&gt; {\n            ctx.reply('Downloading...')\n\n            shell.exec('sudo bash script_Download.sh ' + ctx.command.args[0])\n            while(shell.exec('ps -ef | grep wget | grep -v grep')!=''){}\n            ctx.reply('Downloaded.')\n\n            ctx.reply('Uploading the file to Google Drive...')\n            shell.exec('mv ~/Super_Secret_File /mnt/gdrive/TRBDownloads')     \n    }\nmodule.exports = download\n</code></pre>\n\n<p>Here in this specific code, I would like to the program to write \"Downloading...\", after that start the \n <em>script_Download</em> begins and the program is paused until the command wget is finished (inside <em>script_Downlaod</em>) this part is done by this: <code>while(shell.exec('ps -ef | grep wget | grep -v grep')!=''){}</code>. But the return is something like \"File not found\" (this means that wget didnt finished) and after that, \"Downloading\" and \"Uploading the file to Google Drive...\" is written on Telegram chat.</p>\n\n<p>So, i would like to know how to make this part of code executing in order: <strong>First write Downloading, execute the script, waits until it finishs and then writes Uploading...</strong> (<em>Sorry, I don't know that much of Javascript so my knowledge right now is basic \ud83d\ude05</em>)</p>\n"}, {"tags": ["javascript", "virtual-machine", "virtualbox", "virtualization"], "comments": [{"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 2, "creation_date": 1569452015, "post_id": 58107511, "comment_id": 102605484, "body": "No. This is not possible."}, {"owner": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "edited": false, "score": 0, "creation_date": 1569452441, "post_id": 58107511, "comment_id": 102605552, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/8101364/javascript-to-get-running-processes\">Javascript to get running processes?</a>"}, {"owner": {"reputation": 2933, "user_id": 11204469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16b1be34bb82f28e14b12665d4b5df53?s=128&d=identicon&r=PG&f=1", "display_name": "Estradiaz", "link": "https://stackoverflow.com/users/11204469/estradiaz"}, "edited": false, "score": 1, "creation_date": 1569452469, "post_id": 58107511, "comment_id": 102605554, "body": "Yes! <code>window.confirm(&quot;are you running a VM?&quot;)</code> possibility proven. But usable - most likely not."}, {"owner": {"reputation": 9, "user_id": 5693376, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tBdeBJdK6_U/AAAAAAAAAAI/AAAAAAAAASY/iiTVRDlgay4/photo.jpg?sz=128", "display_name": "Juan Manuel", "link": "https://stackoverflow.com/users/5693376/juan-manuel"}, "edited": false, "score": 0, "creation_date": 1569452933, "post_id": 58107511, "comment_id": 102605645, "body": "That ALMOST gets it. While you can indeed detect the program running. It only shows the monitor itself (the window with the list of virtual machines the user have) it doesn&#39;t tell you if any of the VM&#39;s is running."}, {"owner": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "edited": false, "score": 1, "creation_date": 1569453186, "post_id": 58107511, "comment_id": 102605693, "body": "@JuanManuel You&#39;re not going to get that. Even just to get to the process list you have to have the user run a specific browser and reduce their security restrictions, and if you&#39;re counting on your users doing that for you then you may as well just ask them if they&#39;re running a VM."}], "owner": {"reputation": 9, "user_id": 5693376, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tBdeBJdK6_U/AAAAAAAAAAI/AAAAAAAAASY/iiTVRDlgay4/photo.jpg?sz=128", "display_name": "Juan Manuel", "link": "https://stackoverflow.com/users/5693376/juan-manuel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 399, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569451921, "creation_date": 1569451921, "question_id": 58107511, "link": "https://stackoverflow.com/questions/58107511/how-to-detect-through-javascript-if-virtualbox-is-open", "title": "How to detect. Through javascript if VirtualBox is open", "body": "<p>I would like to ask. Is it possible to make a web script that can detect if the user is running VirtualBox/Virt-Manager. Note that I am not asking to determine whether the OS is in a VM. I am talking about a situation when the OS is running on the host PC and the web master wants to take an action IF the user have one of those VM programs installed and open with VM's running.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 658, "user_id": 7699428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cyG9L.jpg?s=128&g=1", "display_name": "N. Djokic", "link": "https://stackoverflow.com/users/7699428/n-djokic"}, "edited": false, "score": 0, "creation_date": 1569452151, "post_id": 58107491, "comment_id": 102605504, "body": "What exactly you want to achieve? Which conditions should be met for splice to happen?"}, {"owner": {"reputation": 9, "user_id": 11378723, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HsFWm.jpg?s=128&g=1", "display_name": "Dipankar Dutta", "link": "https://stackoverflow.com/users/11378723/dipankar-dutta"}, "reply_to_user": {"reputation": 658, "user_id": 7699428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cyG9L.jpg?s=128&g=1", "display_name": "N. Djokic", "link": "https://stackoverflow.com/users/7699428/n-djokic"}, "edited": false, "score": 0, "creation_date": 1569452367, "post_id": 58107491, "comment_id": 102605539, "body": "element at that index should be less than k=13"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 11378723, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HsFWm.jpg?s=128&g=1", "display_name": "Dipankar Dutta", "link": "https://stackoverflow.com/users/11378723/dipankar-dutta"}, "edited": false, "score": 0, "creation_date": 1569452433, "post_id": 58107542, "comment_id": 102605551, "body": "may be. i will give it a try"}], "tags": [], "owner": {"reputation": 151, "user_id": 7907756, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XJ3OK_t_1D0/AAAAAAAAAAI/AAAAAAAAAhk/9FIFkbLRfhk/photo.jpg?sz=128", "display_name": "omkar keluskar", "link": "https://stackoverflow.com/users/7907756/omkar-keluskar"}, "is_accepted": false, "score": 2, "last_activity_date": 1569452557, "last_edit_date": 1569452557, "creation_date": 1569452149, "answer_id": 58107542, "question_id": 58107491, "link": "https://stackoverflow.com/questions/58107491/what-is-the-correct-way-to-splice-an-array-using-for-loop-having-nested-if-cond/58107542#58107542", "title": "what is the correct way to splice an array using for loop, having nested if conditions", "body": "<p>From what I can read, you want to <code>filter</code> out all elements lesser than 13.\nYou can do the same by using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\" rel=\"nofollow noreferrer\"><code>filter()</code></a> in javascript</p>\n\n<pre><code>const filterLimit = 13;\n\n// Here filteredList is the list of all elements lesser than filterLimit\nconst filteredList = m.filter(item =&gt; item &gt;= filterLimit);\n</code></pre>\n\n<p>Example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const filterLimit = 13;\r\nconst unFilteredList = [1, 13, 14, 2, 5, 33];\r\n\r\nconst filteredList = unFilteredList.filter(item =&gt; item &gt;= filterLimit);\r\n\r\nconsole.log(filteredList);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 658, "user_id": 7699428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cyG9L.jpg?s=128&g=1", "display_name": "N. Djokic", "link": "https://stackoverflow.com/users/7699428/n-djokic"}, "edited": false, "score": 0, "creation_date": 1569453432, "post_id": 58107617, "comment_id": 102605737, "body": "Great answer, can you explain why same approach with for loop is not correct?"}, {"owner": {"reputation": 9, "user_id": 11378723, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HsFWm.jpg?s=128&g=1", "display_name": "Dipankar Dutta", "link": "https://stackoverflow.com/users/11378723/dipankar-dutta"}, "edited": false, "score": 0, "creation_date": 1569453711, "post_id": 58107617, "comment_id": 102605790, "body": "Good ans. But is there a way with for loop?"}, {"owner": {"reputation": 161, "user_id": 12121905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cb6ed0c3be04a750911567fc0909b64?s=128&d=identicon&r=PG&f=1", "display_name": "Fawaz Ibrahim", "link": "https://stackoverflow.com/users/12121905/fawaz-ibrahim"}, "edited": false, "score": 0, "creation_date": 1569453715, "post_id": 58107617, "comment_id": 102605791, "body": "Because editing the index variable of the <b>for</b> loop (i) inside the loop will cause unwanted behavior, and this applies for <b>almost</b> all programming languages, and also the foor loop always increases the index, but if you delete an item that means the index should stay the same, that&#39;s why in the <b>while</b> loop i increased the index just in the <i>else</i> part"}], "tags": [], "owner": {"reputation": 161, "user_id": 12121905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cb6ed0c3be04a750911567fc0909b64?s=128&d=identicon&r=PG&f=1", "display_name": "Fawaz Ibrahim", "link": "https://stackoverflow.com/users/12121905/fawaz-ibrahim"}, "is_accepted": false, "score": 1, "last_activity_date": 1569453600, "last_edit_date": 1569453600, "creation_date": 1569452780, "answer_id": 58107617, "question_id": 58107491, "link": "https://stackoverflow.com/questions/58107491/what-is-the-correct-way-to-splice-an-array-using-for-loop-having-nested-if-cond/58107617#58107617", "title": "what is the correct way to splice an array using for loop, having nested if conditions", "body": "<p>There is an error in this approach and that's you must not change the parameter <code>(i)</code> of the loop inside the loop</p>\n\n<p>You can use <code>while</code> instead:</p>\n\n<pre><code>var k=13;\nvar i=0;\nwhile (i &lt; m.length){\n    if(m[i] &lt; k){\n        m.splice(i, 1);\n    }else{\n        i++;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 11378723, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HsFWm.jpg?s=128&g=1", "display_name": "Dipankar Dutta", "link": "https://stackoverflow.com/users/11378723/dipankar-dutta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1569453600, "creation_date": 1569451780, "question_id": 58107491, "link": "https://stackoverflow.com/questions/58107491/what-is-the-correct-way-to-splice-an-array-using-for-loop-having-nested-if-cond", "title": "what is the correct way to splice an array using for loop, having nested if conditions", "body": "<p>i am facing this issue of splicing an array.i checked out all the examples i could find but all in vein. the troubles are these nested if conditions inside the for loop .i am doing i-- but not able to go ahead. can anybody help me out and explain the approach.i am adding a snippet. the prob is that, whenever i don't do the i-- operation, and splice the array, alternate removal of elements happens but upon adding the i--, i am not able to proceed any further. i tried --i, but now i am confused as to what i am doing wrong! here m is an array of number from 1 to 20 serially. having length 20. </p>\n\n<pre><code>        var k=13;\n        for (var i = 0; i &lt; m.length; i++) {\n            if (m[i] &lt; k) {\n                if (i != 0 &amp;&amp; i != m.length) {\n                    m.splice(i, 1);\n                }\n                if (i == 0) {\n                    m.splice(i, 1);\n                }\n                i--;\n            }\n        }\n</code></pre>\n"}, {"tags": ["javascript", "math"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1569451869, "post_id": 58107474, "comment_id": 102605455, "body": "Is it a linear relationship? This seems like high school or college algebra."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1569451943, "post_id": 58107474, "comment_id": 102605470, "body": "Once you determine the formula from algebra, it should be simple to translate that into a JS function."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4151125"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1569452593, "post_id": 58107474, "comment_id": 102605585, "body": "Perhaps enlighten me, surely it is high school algebra, something mostly useless for 99.9% people. I just forgot how to do it. It doesn&#39;t look linear"}, {"owner": {"reputation": 30659, "user_id": 1210053, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8cee821e7bf4acaa7f0de12d603b9f1d?s=128&d=identicon&r=PG", "display_name": "Nico Schertler", "link": "https://stackoverflow.com/users/1210053/nico-schertler"}, "edited": false, "score": 0, "creation_date": 1569452743, "post_id": 58107474, "comment_id": 102605620, "body": "Without knowing anything about the relationship, there is no unique solution. Try to visualize the problem in a 2D coordinate system, where the horizontal axis is your <code>X</code> variable and the vertical axis is your <code>N</code> variable. You have two points at <code>(1, 98)</code> and <code>(98, 0.01)</code>. What can you say about the space between these points?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1569452867, "post_id": 58107474, "comment_id": 102605637, "body": "If it&#39;s linear, do you remember the formula for slope from geometry? If none of this is meaningful to you, you should be asking in <a href=\"https://math.stackexchange.com\">Mathematics</a>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4151125"}, "reply_to_user": {"reputation": 30659, "user_id": 1210053, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8cee821e7bf4acaa7f0de12d603b9f1d?s=128&d=identicon&r=PG", "display_name": "Nico Schertler", "link": "https://stackoverflow.com/users/1210053/nico-schertler"}, "edited": false, "score": 0, "creation_date": 1569453323, "post_id": 58107474, "comment_id": 102605716, "body": "@NicoSchertler Thanks, that was good idea. I can probe more points, I have assembled chart <a href=\"https://i.imgur.com/W6ZQoud.png\" rel=\"nofollow noreferrer\">i.imgur.com/W6ZQoud.png</a> However, I am still unsure how to figure out exact function and factor by which I can change angle of it."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4151125"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1569453369, "post_id": 58107474, "comment_id": 102605727, "body": "@Barmar I understand your point of view, this is first time since 15 years that my math knowledge was needed, after all I can research it now."}, {"owner": {"reputation": 30659, "user_id": 1210053, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8cee821e7bf4acaa7f0de12d603b9f1d?s=128&d=identicon&r=PG", "display_name": "Nico Schertler", "link": "https://stackoverflow.com/users/1210053/nico-schertler"}, "edited": false, "score": 1, "creation_date": 1569462623, "post_id": 58107474, "comment_id": 102607324, "body": "From the plot and the numbers it looks like you might be looking for <code>N = 98&#47;(X^2)</code>"}, {"owner": {"reputation": 3418, "user_id": 5924523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Uc9Gv.jpg?s=128&g=1", "display_name": "Akash Dathan", "link": "https://stackoverflow.com/users/5924523/akash-dathan"}, "edited": false, "score": 0, "creation_date": 1569465679, "post_id": 58107474, "comment_id": 102607864, "body": "the equations provided are two different lines which only intersects at 0. you can calculate N from X individually from each equation."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4151125"}, "edited": false, "score": 0, "creation_date": 1569496854, "post_id": 58107474, "comment_id": 102620472, "body": "Thank you @Presquevu. Completely agreed. Thanks all for help, I figured it out."}], "answers": [{"comments": [{"owner": {"reputation": 292363, "user_id": 37213, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/eeec80237213c91e5bab56b77ac5b8ca?s=128&d=identicon&r=PG", "display_name": "duffymo", "link": "https://stackoverflow.com/users/37213/duffymo"}, "reply_to_user": {"reputation": 39296, "user_id": 560299, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c38fe465734e8428048585e0acf6174f?s=128&d=identicon&r=PG", "display_name": "Ibu", "link": "https://stackoverflow.com/users/560299/ibu"}, "edited": false, "score": 0, "creation_date": 1569457589, "post_id": 58108016, "comment_id": 102606459, "body": "Yup, it&#39;s an educational site.  Lots of developers have poor math backgrounds.  Nothing wrong with helping them."}], "tags": [], "owner": {"reputation": 292363, "user_id": 37213, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/eeec80237213c91e5bab56b77ac5b8ca?s=128&d=identicon&r=PG", "display_name": "duffymo", "link": "https://stackoverflow.com/users/37213/duffymo"}, "is_accepted": false, "score": 2, "last_activity_date": 1569539980, "last_edit_date": 1569539980, "creation_date": 1569457171, "answer_id": 58108016, "question_id": 58107474, "link": "https://stackoverflow.com/questions/58107474/inverted-proportion/58108016#58108016", "title": "Inverted proportion", "body": "<p><strong>Update</strong>: Now that you've posted more <a href=\"https://i.imgur.com/W6ZQoud.png\" rel=\"nofollow noreferrer\">data</a>, I'll amend my answer to say that this function does a pretty good job of approximating the data you provided:</p>\n\n<pre><code>y = 100*exp(-x/3.5)\n</code></pre>\n\n<p>I guessed a form that uses the exponential function.  The value at zero is clear, as is the value when x becomes large.  I guessed a time constant that gave a good visual fit.</p>\n"}, {"tags": [], "owner": {"reputation": 25, "user_id": 11984940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd88ac851a2725d181acaa16774c4df8?s=128&d=identicon&r=PG&f=1", "display_name": "Batchguy", "link": "https://stackoverflow.com/users/11984940/batchguy"}, "is_accepted": false, "score": 0, "last_activity_date": 1569468330, "creation_date": 1569468330, "answer_id": 58109157, "question_id": 58107474, "link": "https://stackoverflow.com/questions/58107474/inverted-proportion/58109157#58109157", "title": "Inverted proportion", "body": "<p>You can think of it as a fractional function; \nResult = N/(X squared)</p>\n\n<p>Hopefully this is what you were looking for. But if you want N to be a function of X:</p>\n\n<p>N = 1/X, which <em>is</em> an inverse function.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4151125"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1569539980, "creation_date": 1569451696, "last_edit_date": 1569451841, "question_id": 58107474, "link": "https://stackoverflow.com/questions/58107474/inverted-proportion", "title": "Inverted proportion", "body": "<p>I have information that</p>\n\n<pre><code>1X = 98 N\n98X = 0.01020408163265306 N\n</code></pre>\n\n<p>How can I calculate number N based on number X from range 1 to 98, knowing that when number <code>X=1</code> is equal <code>N=98</code> and when <code>X=98</code> then <code>N=0.01020408163265306</code></p>\n\n<p>Maybe it is silly, but how to write function to calculate number N from X ? </p>\n"}, {"tags": ["javascript", "reactjs", "ecmascript-6"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 10248088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10ccb909b1e21d56313faf8f6cdeaefb?s=128&d=identicon&r=PG&f=1", "display_name": "user10248088", "link": "https://stackoverflow.com/users/10248088/user10248088"}, "edited": false, "score": 0, "creation_date": 1569470901, "post_id": 58107798, "comment_id": 102608809, "body": "thank you so much! This worked out really well. Just what I was looking for. Thank you also for providing the comments."}], "tags": [], "owner": {"reputation": 1174, "user_id": 11167962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e0Grs.jpg?s=128&g=1", "display_name": "harisu", "link": "https://stackoverflow.com/users/11167962/harisu"}, "is_accepted": true, "score": 1, "last_activity_date": 1569454761, "creation_date": 1569454761, "answer_id": 58107798, "question_id": 58107466, "link": "https://stackoverflow.com/questions/58107466/how-to-retrieve-an-array-of-object-property-in-fetch-and-then-pass-it-down-to-th/58107798#58107798", "title": "How to retrieve an array of object property in fetch and then pass it down to the second fetch call?", "body": "<p>Try out the following snippet it should do the trick.</p>\n\n<pre><code>fetch('/api/v1/organizationrelationship/organizationprograms', {\n  method: 'GET',\n  headers: {\n    'Content-Type': 'application/json',\n  }\n})\n.then(res =&gt; res.json())\n.then(res =&gt; {\n  if(res) {\n    // gets all the ids from the response and make them a set to remove duplicate\n    let ids = new Set(res.proprams.map( (program, index) =&gt; return program.programId));\n    // convert the set into and array and the use the toString function to make them comma seperated\n    let params = Array.from(ids).toString()\n      fetch(`/api/v1/program/programlist/${params}`, { // this is passing all 4 programId individually\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n        }\n      })\n      .then(res =&gt; res.json())\n      .then(res =&gt; {\n        if(res) {\n          //here you can now save the response to state\n          console.log(\"res: \", res)\n        }\n      })\n  }\n\n})\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 10248088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10ccb909b1e21d56313faf8f6cdeaefb?s=128&d=identicon&r=PG&f=1", "display_name": "user10248088", "link": "https://stackoverflow.com/users/10248088/user10248088"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 58107798, "answer_count": 1, "score": 0, "last_activity_date": 1569454761, "creation_date": 1569451648, "question_id": 58107466, "link": "https://stackoverflow.com/questions/58107466/how-to-retrieve-an-array-of-object-property-in-fetch-and-then-pass-it-down-to-th", "title": "How to retrieve an array of object property in fetch and then pass it down to the second fetch call?", "body": "<p>I have a component which is dependent on 2 endpoints to retrieve the desired program's name. I have 2 endpoints. The first endpoint returns the list of programs, which is an an array of objects. Currently, it only returns 4 programs (<strong>2 with program id \"13\" and the other two with program id \"14\"</strong>). The second endpoint is dependent on these program ids which I somehow need to pass it down to the second endpoint, avoid the duplicates, and separate it by comma. For example:</p>\n\n<p>First fetch call response:</p>\n\n<pre><code>{\n  \"programs\": [\n    { \"id\": 1, \"organization\": {\"organizationId\": 2000}, \"programId\": 13 },\n    { \"id\": 2, \"organization\": {\"organizationId\": 2001 }, \"programId\": 13 },\n    { \"id\": 22, \"organization\": {\"organizationId\": 2002 }, \"programId\": 14 },\n    { \"id\": 20, \"organization\": {\"organizationId\": 2000 }, \"programId\": 14 }\n  ]\n}\n</code></pre>\n\n<p>Second fetch call: <strong>api/v1/program/programlist/13,14</strong></p>\n\n<p>In the code, this is what I have done so far:</p>\n\n<pre><code>fetch('/api/v1/organizationrelationship/organizationprograms', {\n  method: 'GET',\n  headers: {\n    'Content-Type': 'application/json',\n  }\n})\n.then(res =&gt; res.json())\n.then(res =&gt; {\n  if(res) {\n    _.map(res.programs, (program, index) =&gt; {\n      fetch(`/api/v1/program/programlist/${program.programId}`, { // this is passing all 4 programId individually\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n        }\n      })\n      .then(res =&gt; res.json())\n      .then(res =&gt; {\n        if(res) {\n          console.log(\"res: \", res)\n        }\n      })\n    })\n  }\n})\n</code></pre>\n\n<p>Desired workflow that I am looking for:</p>\n\n<ol>\n<li>first fetch call is successfull</li>\n<li>then goes to the second fetch call</li>\n<li>and pass in the programIds in the url</li>\n<li><em>api/v1/program/programlist/13,14</em></li>\n<li>and then I save the response in the component's state</li>\n</ol>\n"}, {"tags": ["javascript", "jquery", "css", "css-animations"], "comments": [{"owner": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1569451637, "post_id": 58107444, "comment_id": 102605419, "body": "so you want to know which one end? you want to identify the animation?"}, {"owner": {"reputation": 675, "user_id": 9784568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f0ebd1f654d7afa0c4ec98dde0a4d2a?s=128&d=identicon&r=PG&f=1", "display_name": "coolpasta", "link": "https://stackoverflow.com/users/9784568/coolpasta"}, "reply_to_user": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1569451762, "post_id": 58107444, "comment_id": 102605441, "body": "@TemaniAfif I want to know if on the said element there are multiple animations queued. Knowing that an animation has ended and then waiting for N time to see if there&#39;s another one for you to proceed is bad. I want to know beforehand (or on an event, by event I mean at a given point in time) if there are multiple animations. A hook like <code>animationEndButReallyAllOfThem</code> :P"}, {"owner": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1569451863, "post_id": 58107444, "comment_id": 102605453, "body": "you have to read the value of animation and identify if there is two animation defined there then you will know how many animationEnd will get fired"}, {"owner": {"reputation": 675, "user_id": 9784568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f0ebd1f654d7afa0c4ec98dde0a4d2a?s=128&d=identicon&r=PG&f=1", "display_name": "coolpasta", "link": "https://stackoverflow.com/users/9784568/coolpasta"}, "reply_to_user": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1569451983, "post_id": 58107444, "comment_id": 102605479, "body": "@TemaniAfif Yes! How...do I do that?"}, {"owner": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1569452086, "post_id": 58107444, "comment_id": 102605497, "body": "use this: <a href=\"https://stackoverflow.com/a/6338234/8620333\">stackoverflow.com/a/6338234/8620333</a>"}, {"owner": {"reputation": 675, "user_id": 9784568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f0ebd1f654d7afa0c4ec98dde0a4d2a?s=128&d=identicon&r=PG&f=1", "display_name": "coolpasta", "link": "https://stackoverflow.com/users/9784568/coolpasta"}, "reply_to_user": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1569452541, "post_id": 58107444, "comment_id": 102605573, "body": "@TemaniAfif That doesn&#39;t work."}, {"owner": {"reputation": 675, "user_id": 9784568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f0ebd1f654d7afa0c4ec98dde0a4d2a?s=128&d=identicon&r=PG&f=1", "display_name": "coolpasta", "link": "https://stackoverflow.com/users/9784568/coolpasta"}, "reply_to_user": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1569454221, "post_id": 58107444, "comment_id": 102605892, "body": "@TemaniAfif Ok, I made it work but I think it&#39;s unreliable due to the <code>animationend</code> event. Any tips for my answer?"}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 1, "creation_date": 1569463809, "post_id": 58107444, "comment_id": 102607543, "body": "How broad a solution do you need? Are you sure you will always have only <code>finite</code> animations? What should be the behavior of your script wrt animations that are canceled before they <i>end</i>? What about first animation ends at t+3s and second animation <b>starts</b> at t+30s? Do you want to wait during the interruption? For  the exact case you shown, it&#39;s as easy as waiting only for the last one. If you wish to know if there is a currently running animation, then you can store every that caused an <code>animationstart</code> event, and remove it in its animationend, as long as the storage is not empty..."}, {"owner": {"reputation": 675, "user_id": 9784568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f0ebd1f654d7afa0c4ec98dde0a4d2a?s=128&d=identicon&r=PG&f=1", "display_name": "coolpasta", "link": "https://stackoverflow.com/users/9784568/coolpasta"}, "reply_to_user": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 0, "creation_date": 1569463868, "post_id": 58107444, "comment_id": 102607554, "body": "@Kaiido You&#39;re right. I&#39;m currently re-working B-Dawg&#39;s function as well as mine to handle these cases. If you could give more cases so I can work on or better yet, provide yet another answer that handles these cases, I&#39;d be grateful."}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 0, "creation_date": 1569464044, "post_id": 58107444, "comment_id": 102607591, "body": "There isn&#39;t a clear single way of doing this, you have to define the specs of your script, we can&#39;t do it for you. Note though that it smells like you are using animations where you should have used transitions."}, {"owner": {"reputation": 675, "user_id": 9784568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f0ebd1f654d7afa0c4ec98dde0a4d2a?s=128&d=identicon&r=PG&f=1", "display_name": "coolpasta", "link": "https://stackoverflow.com/users/9784568/coolpasta"}, "reply_to_user": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 0, "creation_date": 1569464232, "post_id": 58107444, "comment_id": 102607619, "body": "@Kaiido Check my updated answer, be as draconic as you want, I&#39;ll try to fix so everyone can benefit. Also, what difference does it make that I use transitions instead of animations? My current animation (I can upload it, it&#39;s really pretty) is not possible without <code>@keyframes</code>. <b>As for my current specifications: I just want, after a class was added to an element and it triggered animations (multiple), for my system to wait for it to finish so I could chain other things.</b>"}], "answers": [{"tags": [], "owner": {"reputation": 675, "user_id": 9784568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f0ebd1f654d7afa0c4ec98dde0a4d2a?s=128&d=identicon&r=PG&f=1", "display_name": "coolpasta", "link": "https://stackoverflow.com/users/9784568/coolpasta"}, "is_accepted": false, "score": 0, "last_activity_date": 1569464498, "last_edit_date": 1592644375, "creation_date": 1569454194, "answer_id": 58107747, "question_id": 58107444, "link": "https://stackoverflow.com/questions/58107444/can-i-wait-for-multiple-css-animations-using-js/58107747#58107747", "title": "Can I wait for multiple CSS animations using JS?", "body": "<h2>First technique:</h2>\n<p>Add a class to an element, then handle every animation and wait for them to end, no matter what. This is the common way to do things where you trigger animations by classes.</p>\n<p>As per Kaiido's comment and pointing out, this waits for every single animation, no matter how long to finish. This was the motivation behind all of this: create a nice animation and make JS aware of it (no matter how complex / long) finishing it so you could then chain other things.</p>\n<p>If you don't do this, you might have a nice animation running and suddenly being cut by something else and...that's bad.</p>\n<pre><code>const triggerAnimationWithClass = (classToAdd, toWhat) =&gt; {\n    const element = document.querySelector(toWhat);\n    /**\n     * Initialize the count with 1, because you'll always have at least one animation no matter what.\n     */\n    let animationCount = 1;\n    return new Promise((resolve, reject) =&gt; {\n        element.addEventListener('animationend', (event) =&gt; {\n            if((window.getComputedStyle(element).animationName).split(',').length - animationCount === 0) {\n                /**\n                 * Remove the current function being hooked once we're done. When a class gets added that contains any N number of animations,\n                 * we're running in a synchronous environment. There is virtually no way for another animation to happen at this point, so, we're\n                 * surgically looking at animations that only happen when our classToAdd gets applied then hooking off to not create conflicts.\n                 */\n                element.removeEventListener('animationend', this);\n\n                const animationsDonePackage = {\n                    'animatedWithClass': classToAdd,\n                    'animatedElement': toWhat,\n                    'animatedDoneTime': new Date().getTime()\n                };\n\n                resolve(animationsDonePackage);\n            } else {\n                animationCount++;\n            }\n        });\n        element.classList.add(classToAdd);\n    });\n}\n</code></pre>\n<p>This handles multiple classes being added. Let's assume that from the outside, someone adds yet another class at the same time (weird, but, let's say it happens) you've added yours. All the animations on that element are then treated as one and the function will wait for all of them to finish.</p>\n<h2>Second technique:</h2>\n<p>Based on @B-Dawg's answer. Handle a set of animations, based on name (CSS animation names), not class, please read the after-word:</p>\n<pre><code>const onAnimationsComplete = ({element, animationsToLookFor}) =&gt; {\n    const animationsMap = new WeakMap();\n\n    if(!animationsMap.has(element)) {\n        const animationsCompleted = {};\n\n        for(const animation of animationsToLookFor) {\n            animationsCompleted[animation] = false;\n        }\n\n        animationsMap.set(element, animationsCompleted);\n    }\n\n    return new Promise((resolve, reject) =&gt; {\n        // When any animation completes...\n        element.addEventListener('animationend', ({target, animationName, elapsedTime}) =&gt; {\n            const animationsCompleted = animationsMap.get(target);\n\n            animationsCompleted[animationName] = true;\n\n            // If every animation is now completed...\n            if(Object.values(animationsCompleted).every(isCompleted =&gt; isCompleted === true)) {\n                const animations = Object.keys(animationsCompleted);\n\n                // Reset for next time - set all animations to not complete (false)\n                animations.forEach(animation =&gt; animationsCompleted[animation] = false);\n\n                //Remove the listener once we're done.\n                element.removeEventListener('animationend', this);\n\n                resolve({\n                    'animationsDone': animationsToLookFor\n                });\n            }\n        });\n    });\n};\n</code></pre>\n<p>This has a bug. Assuming that a new animation comes from, say, maybe a new class, if it's not put in the <code>animationsToLookFor</code> list, this never resolves.</p>\n<p>Trying to fix it but if we're talking about a precise list of animations you're looking for, this is the go-to.</p>\n"}, {"comments": [{"owner": {"reputation": 675, "user_id": 9784568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f0ebd1f654d7afa0c4ec98dde0a4d2a?s=128&d=identicon&r=PG&f=1", "display_name": "coolpasta", "link": "https://stackoverflow.com/users/9784568/coolpasta"}, "edited": false, "score": 1, "creation_date": 1569459536, "post_id": 58108169, "comment_id": 102606798, "body": "This is incredible. Consider wrapping this inside a nice function and release it. There is a problem, however. The dependability on knowing the animations beforehand, <code>animateOpacity, animatePosition</code> is a very big pain point."}, {"owner": {"reputation": 675, "user_id": 9784568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f0ebd1f654d7afa0c4ec98dde0a4d2a?s=128&d=identicon&r=PG&f=1", "display_name": "coolpasta", "link": "https://stackoverflow.com/users/9784568/coolpasta"}, "edited": false, "score": 0, "creation_date": 1569462071, "post_id": 58108169, "comment_id": 102607210, "body": "Additionally, I don&#39;t understand exactly what the line <code>animations.forEach(animation =&gt; animationsCompleted[animation] = false)</code> is for. Why do I need a &quot;reset&quot; if I&#39;m done with the animations?"}, {"owner": {"reputation": 4087, "user_id": 757839, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wClzK.jpg?s=128&g=1", "display_name": "BCDeWitt", "link": "https://stackoverflow.com/users/757839/bcdewitt"}, "reply_to_user": {"reputation": 675, "user_id": 9784568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f0ebd1f654d7afa0c4ec98dde0a4d2a?s=128&d=identicon&r=PG&f=1", "display_name": "coolpasta", "link": "https://stackoverflow.com/users/9784568/coolpasta"}, "edited": false, "score": 1, "creation_date": 1569496142, "post_id": 58108169, "comment_id": 102620111, "body": "I tried to demonstrate a situation where you aren&#39;t actually done listening for these events in the snippet (click the boxes a few times). Removing and re-adding the <code>being-animated</code> class would not work correctly after the first run if you didn&#39;t reset. Your Promise-based re-write of this will have an issue being run more than once, too."}, {"owner": {"reputation": 4087, "user_id": 757839, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wClzK.jpg?s=128&g=1", "display_name": "BCDeWitt", "link": "https://stackoverflow.com/users/757839/bcdewitt"}, "reply_to_user": {"reputation": 675, "user_id": 9784568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f0ebd1f654d7afa0c4ec98dde0a4d2a?s=128&d=identicon&r=PG&f=1", "display_name": "coolpasta", "link": "https://stackoverflow.com/users/9784568/coolpasta"}, "edited": false, "score": 1, "creation_date": 1569508380, "post_id": 58108169, "comment_id": 102627211, "body": "@coolpasta Updated the answer to use events and made the animation list an optional feature"}, {"owner": {"reputation": 675, "user_id": 9784568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f0ebd1f654d7afa0c4ec98dde0a4d2a?s=128&d=identicon&r=PG&f=1", "display_name": "coolpasta", "link": "https://stackoverflow.com/users/9784568/coolpasta"}, "edited": false, "score": 0, "creation_date": 1569512003, "post_id": 58108169, "comment_id": 102629212, "body": "Thank you. This is very, very nice stuff. Again, consider putting this into a mini-library."}, {"owner": {"reputation": 4087, "user_id": 757839, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wClzK.jpg?s=128&g=1", "display_name": "BCDeWitt", "link": "https://stackoverflow.com/users/757839/bcdewitt"}, "reply_to_user": {"reputation": 675, "user_id": 9784568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f0ebd1f654d7afa0c4ec98dde0a4d2a?s=128&d=identicon&r=PG&f=1", "display_name": "coolpasta", "link": "https://stackoverflow.com/users/9784568/coolpasta"}, "edited": false, "score": 0, "creation_date": 1569512188, "post_id": 58108169, "comment_id": 102629316, "body": "Glad it helps! I&#39;ll certainly consider doing that"}], "tags": [], "owner": {"reputation": 4087, "user_id": 757839, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wClzK.jpg?s=128&g=1", "display_name": "BCDeWitt", "link": "https://stackoverflow.com/users/757839/bcdewitt"}, "is_accepted": true, "score": 2, "last_activity_date": 1569508337, "last_edit_date": 1569508337, "creation_date": 1569458736, "answer_id": 58108169, "question_id": 58107444, "link": "https://stackoverflow.com/questions/58107444/can-i-wait-for-multiple-css-animations-using-js/58108169#58108169", "title": "Can I wait for multiple CSS animations using JS?", "body": "<p><strong>Disclaimer</strong>: I don't think jQuery is important to answer this question and would hurt both load and runtime performance if others choose to rely on this code after seeing this answer. So, I will be answering with vanilla JavaScript to help as many people as I can with this, but if you want to use jQuery, you can still apply the same concepts.</p>\n\n<p><strong>Answer: There isn't an animation queue, but you could make your own.</strong></p>\n\n<p>For example, you could link data about animations to your target element using a closure, and/or a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\" rel=\"nofollow noreferrer\"><code>Map</code></a> (In the snippet below, I actually used a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap\" rel=\"nofollow noreferrer\"><code>WeakMap</code></a> in an attempt to help garbage collection). If you save animation states as <code>true</code> when they are completed, you could check and eventually fire a different callback when all are <code>true</code>, or dispatch a custom event of your own. I used the custom event approach, because it's more flexible (able to add multiple callbacks).</p>\n\n<p>The following code should additionally help you avoid waiting for ALL animations in those cases where you only actually care about a couple specific ones. It should also let you handle animation events multiple times and for multiple individual elements (try running the snippet and clicking the boxes a few times)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const addAnimationEndAllEvent = (() =&gt; {\r\n  const weakMap = new WeakMap()\r\n\r\n  const initAnimationsObject = (element, expectedAnimations, eventName) =&gt; {\r\n    const events = weakMap.get(element)\r\n    const animationsCompleted = {}\r\n    for (const animation of expectedAnimations) {\r\n      animationsCompleted[animation] = false\r\n    }\r\n    events[eventName] = animationsCompleted\r\n  }\r\n\r\n  return (element, expectedAnimations, eventName = 'animationendall') =&gt; {\r\n    if (!weakMap.has(element)) weakMap.set(element, {})\r\n\r\n    if (expectedAnimations) {\r\n      initAnimationsObject(element, expectedAnimations, eventName)\r\n    }\r\n\r\n    // When any animation completes...\r\n    element.addEventListener('animationend', ({ target, animationName }) =&gt; {\r\n      const events = weakMap.get(target)\r\n      \r\n      // Use all animations, if there were none provided earlier\r\n      if (!events[eventName]) {\r\n        initAnimationsObject(target, window.getComputedStyle(target).animationName.split(', '), eventName)\r\n      }\r\n      \r\n      const animationsCompleted = events[eventName]\r\n      \r\n      // Ensure this animation should be tracked\r\n      if (!(animationName in animationsCompleted)) return\r\n\r\n      // Mark the current animation as complete (true)\r\n      animationsCompleted[animationName] = true\r\n\r\n      // If every animation is now completed...\r\n      if (Object.values(animationsCompleted).every(\r\n        isCompleted =&gt; isCompleted === true\r\n      )) {\r\n        const animations = Object.keys(animationsCompleted)\r\n\r\n        // Fire the event\r\n        target.dispatchEvent(new CustomEvent(eventName, {\r\n          detail: { target, animations },\r\n        }))\r\n\r\n        // Reset for next time - set all animations to not complete (false)\r\n        initAnimationsObject(target, animations, eventName)\r\n      }\r\n    })\r\n  }\r\n})()\r\n\r\nconst toggleAnimation = ({ target }) =&gt; {\r\n  target.classList.toggle('being-animated')\r\n}\r\n\r\ndocument.querySelectorAll('.animatable').forEach(element =&gt; {\r\n  // Wait for all animations before firing the default event \"animationendall\"\r\n  addAnimationEndAllEvent(element)\r\n\r\n  // Wait for the provided animations before firing the event \"animationend2\"\r\n  addAnimationEndAllEvent(element, [\r\n    'animateOpacity',\r\n    'animatePosition'\r\n  ], 'animationend2')\r\n\r\n  // Listen for our added \"animationendall\" event\r\n  element.addEventListener('animationendall', ({detail: { target, animations }}) =&gt; {\r\n    console.log(`Animations: ${animations.join(', ')} - Complete`)\r\n  })\r\n\r\n  // Listen for our added \"animationend2\" event\r\n  element.addEventListener('animationend2', ({detail: { target, animations }}) =&gt; {\r\n    console.log(`Animations: ${animations.join(', ')} - Complete`)\r\n  })\r\n\r\n  // Just updated this to function on click, so we can test animation multiple times\r\n  element.addEventListener('click', toggleAnimation)\r\n})</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.animatable {\r\n  margin: 5px;\r\n  width: 100px;\r\n  height: 100px;\r\n  background: black;\r\n}\r\n\r\n@keyframes animateOpacity {\r\n  0% {\r\n    opacity: 1;\r\n  }\r\n  100% {\r\n    opacity: 0;\r\n  }\r\n}\r\n\r\n@keyframes animatePosition {\r\n  0% {\r\n    transform: translate3d(0, 0, 0);\r\n  }\r\n  100% {\r\n    transform: translate3d(0, 15px, 0);\r\n  }\r\n}\r\n\r\n@keyframes animateRotation {\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n\r\n.animatable.being-animated {\r\n  animation:\r\n    animateOpacity 1s ease 0s forwards,\r\n    animatePosition 1.5s ease 0s forwards,\r\n    animateRotation 2s ease 0s forwards;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"animatable\"&gt;&lt;/div&gt;\r\n&lt;div class=\"animatable\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 675, "user_id": 9784568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f0ebd1f654d7afa0c4ec98dde0a4d2a?s=128&d=identicon&r=PG&f=1", "display_name": "coolpasta", "link": "https://stackoverflow.com/users/9784568/coolpasta"}, "edited": false, "score": 0, "creation_date": 1569522072, "post_id": 58122325, "comment_id": 102633841, "body": "This is more or less my initial approach by looking at the computed style. This suffers from a problem, tho (not sure about your answer). What if the same class that triggered the animations gets added right after it was removed?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1971419"}, "reply_to_user": {"reputation": 675, "user_id": 9784568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f0ebd1f654d7afa0c4ec98dde0a4d2a?s=128&d=identicon&r=PG&f=1", "display_name": "coolpasta", "link": "https://stackoverflow.com/users/9784568/coolpasta"}, "edited": false, "score": 0, "creation_date": 1569523061, "post_id": 58122325, "comment_id": 102634328, "body": "This custom event will fire any time an animation happens.  So, if the class holding the animation property gets removed and then added again, the animation will happen a second time because of the CSS.  That will again trigger this event.  Is that the desired result?"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user1971419"}, "is_accepted": false, "score": 1, "last_activity_date": 1569520663, "creation_date": 1569520663, "answer_id": 58122325, "question_id": 58107444, "link": "https://stackoverflow.com/questions/58107444/can-i-wait-for-multiple-css-animations-using-js/58122325#58122325", "title": "Can I wait for multiple CSS animations using JS?", "body": "<p>@BDawg's awesome snippet is more flexible and thorough, it certainly deserves to be the accepted answer.  That said, I was inspired to see if a less verbose approach was feasible.  Here's what I came up with.</p>\n\n<p>It's pretty self-explanitory, but basically the concept is that all the animation properties' indexes correlate, and we can use that to find the name of the animation that finishes last.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const getFinalAnimationName = el =&gt; {\r\n  const style = window.getComputedStyle(el)\r\n  \r\n  // get the combined duration of all timing properties\r\n  const [durations, iterations, delays] = ['Duration', 'IterationCount', 'Delay']\r\n    .map(prop =&gt; style[`animation${prop}`].split(', ')\r\n      .map(val =&gt; Number(val.replace(/[^0-9\\.]/g, ''))))\r\n  const combinedDurations = durations.map((duration, idx) =&gt;\r\n    duration * iterations[idx] + delays[idx])\r\n  \r\n  // use the index of the longest duration to select the animation name\r\n  const finalAnimationIdx = combinedDurations\r\n    .findIndex(d =&gt; d === Math.max(...combinedDurations))\r\n  return style.animationName.split(', ')[finalAnimationIdx]\r\n}\r\n\r\n// pipe your element through this function to give it the ability to dispatch the 'animationendall' event\r\nconst addAnimationEndAllEvent = el =&gt; {\r\n  const animationendall = new CustomEvent('animationendall')\r\n  el.addEventListener('animationend', ({animationName}) =&gt;\r\n    animationName === getFinalAnimationName(el) &amp;&amp;\r\n      el.dispatchEvent(animationendall))\r\n  return el\r\n}\r\n\r\n// example usage\r\nconst animatable = document.querySelector('.animatable')\r\naddAnimationEndAllEvent(animatable)\r\n  .addEventListener('animationendall', () =&gt; console.log('All animations have finished'))</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.animatable {\r\n  width: 50px;\r\n  height: 50px;\r\n  background-color: red;\r\n  position: relative;\r\n  left: 0;\r\n  animation: 1.5s slidein, 1s fadein;\r\n}\r\n\r\n@keyframes slidein {\r\n  0% { left: 100vw; }\r\n  100% { left: 0; }\r\n}\r\n\r\n@keyframes fadein {\r\n  0% { opacity: 0; }\r\n  100% { opacity: 1; }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"animatable\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 675, "user_id": 9784568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f0ebd1f654d7afa0c4ec98dde0a4d2a?s=128&d=identicon&r=PG&f=1", "display_name": "coolpasta", "link": "https://stackoverflow.com/users/9784568/coolpasta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 330, "favorite_count": 1, "accepted_answer_id": 58108169, "answer_count": 3, "score": 1, "last_activity_date": 1569520663, "creation_date": 1569451469, "last_edit_date": 1569509760, "question_id": 58107444, "link": "https://stackoverflow.com/questions/58107444/can-i-wait-for-multiple-css-animations-using-js", "title": "Can I wait for multiple CSS animations using JS?", "body": "<p>We have a way to detect when an animation ends using JS:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const element = $('#animatable');\r\nelement.addClass('being-animated').on(\"animationend\", (event) =&gt; {\r\n  console.log('Animation ended!');\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>@keyframes animateOpacity {\r\n  0% {\r\n    opacity: 1;\r\n  }\r\n  100% {\r\n    opacity: 0;\r\n  }\r\n}\r\n\r\n@keyframes animatePosition {\r\n  0% {\r\n    transform: translate3d(0, 0, 0);\r\n  }\r\n  100% {\r\n    transform: translate3d(0, 15px, 0);\r\n  }\r\n}\r\n\r\n#animatable.being-animated {\r\n  animation: animateOpacity 1s ease 0s forwards, animatePosition 2s ease 0s forwards;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"animatable\"&gt;I'm probably being animated.&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And as you can see, JS, rightfully, because I'm hooked to the <code>animationend</code> event tells me \"yup, an animation is done\" but <strong>isn't aware of what's coming after and I'm missing the second one.</strong></p>\n\n<p>Isn't there an animation queue? Surely CSS has to register these things somewhere in the system before they're fired and I could peak inside.</p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 1395, "user_id": 756514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2MHda.jpg?s=128&g=1", "display_name": "Jon B", "link": "https://stackoverflow.com/users/756514/jon-b"}, "edited": false, "score": 0, "creation_date": 1569452407, "post_id": 58107428, "comment_id": 102605547, "body": "When you say crashes, what error are you getting?"}, {"owner": {"reputation": 57, "user_id": 12121810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0dcf3cd69840dacd68299ae31e665d0?s=128&d=identicon&r=PG&f=1", "display_name": "Marcus", "link": "https://stackoverflow.com/users/12121810/marcus"}, "reply_to_user": {"reputation": 1395, "user_id": 756514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2MHda.jpg?s=128&g=1", "display_name": "Jon B", "link": "https://stackoverflow.com/users/756514/jon-b"}, "edited": false, "score": 0, "creation_date": 1569452520, "post_id": 58107428, "comment_id": 102605567, "body": "Unhandled Rejection (TypeError): Cannot read property &#39;country&#39; of undefined"}, {"owner": {"reputation": 1395, "user_id": 756514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2MHda.jpg?s=128&g=1", "display_name": "Jon B", "link": "https://stackoverflow.com/users/756514/jon-b"}, "edited": false, "score": 0, "creation_date": 1569452673, "post_id": 58107428, "comment_id": 102605606, "body": "And you&#39;ve tried to console.log the event? Not sure what is in WeatherInput but usually with an input you would get the value from event.target.value"}, {"owner": {"reputation": 57, "user_id": 12121810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0dcf3cd69840dacd68299ae31e665d0?s=128&d=identicon&r=PG&f=1", "display_name": "Marcus", "link": "https://stackoverflow.com/users/12121810/marcus"}, "reply_to_user": {"reputation": 1395, "user_id": 756514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2MHda.jpg?s=128&g=1", "display_name": "Jon B", "link": "https://stackoverflow.com/users/756514/jon-b"}, "edited": false, "score": 0, "creation_date": 1569453257, "post_id": 58107428, "comment_id": 102605703, "body": "Everything working perfect but when I enter non-existent city and search, its crashing and error: Cannot read property &#39;country&#39; of undefined. But, I want, when I enter non-existent city display an error message Please enter existing city"}, {"owner": {"reputation": 1395, "user_id": 756514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2MHda.jpg?s=128&g=1", "display_name": "Jon B", "link": "https://stackoverflow.com/users/756514/jon-b"}, "edited": false, "score": 0, "creation_date": 1569453921, "post_id": 58107428, "comment_id": 102605825, "body": "So you are checking if City exsits but you are not checking if Country exists. Maybe add that to your check? <code>if (city &amp;&amp; country)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 12121810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0dcf3cd69840dacd68299ae31e665d0?s=128&d=identicon&r=PG&f=1", "display_name": "Marcus", "link": "https://stackoverflow.com/users/12121810/marcus"}, "edited": false, "score": 1, "creation_date": 1569454802, "post_id": 58107741, "comment_id": 102605979, "body": "Thank you for your help, Jon! I really appreciate it!"}], "tags": [], "owner": {"reputation": 1395, "user_id": 756514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2MHda.jpg?s=128&g=1", "display_name": "Jon B", "link": "https://stackoverflow.com/users/756514/jon-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1569454119, "creation_date": 1569454119, "answer_id": 58107741, "question_id": 58107428, "link": "https://stackoverflow.com/questions/58107428/displaying-an-error-message-for-non-existent-city/58107741#58107741", "title": "Displaying an error message for non-existent city?", "body": "<p>You mentioned that you are getting an error about <code>country</code> being undefined so you need more checking around this.</p>\n\n<p>For a start if country is undefined what do you want to do? If you want it to error in the same way as if <code>city</code> is undefined then add it to your if statement like this:</p>\n\n<p><code>if (city &amp;&amp; country)</code></p>\n\n<p>If you don't care that <code>country</code> is undefined and simply want to check city, set your country variable to an empty string if it is not already set:</p>\n\n<p><code>const country = event.value || ''</code></p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 12095509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JsFJ8.jpg?s=128&g=1", "display_name": "slye", "link": "https://stackoverflow.com/users/12095509/slye"}, "is_accepted": true, "score": 0, "last_activity_date": 1569454576, "creation_date": 1569454576, "answer_id": 58107782, "question_id": 58107428, "link": "https://stackoverflow.com/questions/58107428/displaying-an-error-message-for-non-existent-city/58107782#58107782", "title": "Displaying an error message for non-existent city?", "body": "<p>Currently your code </p>\n\n<pre><code>if (city) {\n</code></pre>\n\n<p>just checks if there is a value for const city. Which is always true, even if the user gave a non-existent city.</p>\n\n<p>It is the API that checks if the city exists. If it doesn't, it will return this:</p>\n\n<pre><code>{\n    \"cod\": \"404\",\n    \"message\": \"city not found\"\n}\n</code></pre>\n\n<p>So you need to use this info from the API. One way is to say, OK, if the city exists, the API returns a 'name' field; if not, there is no 'name' field:</p>\n\n<pre><code> const data = await api.json();\n\n    if (data.name) {\n      this.setState({\n        city: data.name,\n        country: data.sys.country,\n        temperature: data.main.temp,\n        main: data.weather[0].main,\n        description: data.weather[0].description,\n        error: \"\"\n      });\n    } else {\n      this.setState({\n        city: \"\",\n        country: \"\",\n        temperature: \"\",\n        main: \"\",\n        description: \"\",\n        error: \"Please enter the values.\"\n      });\n    }\n  };\n\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 12121810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0dcf3cd69840dacd68299ae31e665d0?s=128&d=identicon&r=PG&f=1", "display_name": "Marcus", "link": "https://stackoverflow.com/users/12121810/marcus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 58107782, "answer_count": 2, "score": 1, "last_activity_date": 1569454576, "creation_date": 1569451325, "question_id": 58107428, "link": "https://stackoverflow.com/questions/58107428/displaying-an-error-message-for-non-existent-city", "title": "Displaying an error message for non-existent city?", "body": "<p>I need help with displaying an error when a user inputs a non-existent city. The app currently crashes but it should display \"Please enter existing city\". \u0421an anyone help with this? </p>\n\n<p>\u041d\u0443\u0436\u043d\u043e \u043f\u043e\u043c\u043e\u0447\u044c \u0441 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435\u043c \u043e\u0448\u0438\u0431\u043a\u0438. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043a\u043e\u0433\u0434\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u0432\u0432\u043e\u0434\u044f\u0442 \u043d\u0435\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u0433\u043e\u0440\u043e\u0434, \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0435 \u043a\u0440\u0430\u0448\u0438\u0442\u0441\u044f, \u043d\u043e \u043e\u043d\u043e \u0434\u043e\u043b\u0436\u043d\u043e \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c: \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u0433\u043e\u0440\u043e\u0434. \u041c\u043e\u0436\u0435\u0442 \u043a\u0442\u043e-\u043d\u0438\u0431\u0443\u0434\u044c \u043f\u043e\u043c\u043e\u0447\u044c \u0441 \u044d\u0442\u0438\u043c?</p>\n\n<pre><code>import React, { Component } from \"react\";\nimport WeatherInput from \"./WeatherInput\";\n\nconst KEY = \"455137f97981800c10482bbc6539fba2\";\n\nclass Weather extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      city: \"\",\n      country: \"\",\n      temperature: \"\",\n      main: \"\",\n      description: \"\",\n      error: \"\"\n    };\n  }\n\n  getWeatherInfo = async event =&gt; {\n    event.preventDefault();\n    const city = event.target.elements.city.value;\n    const country = event.value;\n    const api = await fetch(\n      `http://api.openweathermap.org/data/2.5/weather?q=${city},${country},uk&amp;APPID=${KEY}`\n    );\n    const data = await api.json();\n    if (city) {\n      this.setState({\n        city: data.name,\n        country: data.sys.country,\n        temperature: data.main.temp,\n        main: data.weather[0].main,\n        description: data.weather[0].description,\n        error: \"\"\n      });\n    } else {\n      this.setState({\n        city: \"\",\n        country: \"\",\n        temperature: \"\",\n        main: \"\",\n        description: \"\",\n        error: \"Please enter the values.\"\n      });\n    }\n  };\n\n  render() {\n    const { city, country, temperature, main, description, error } = this.state;\n    return (\n      &lt;WeatherInput\n        getWeatherInfo={this.getWeatherInfo}\n        city={city}\n        country={country}\n        temperature={temperature}\n        main={main}\n        description={description}\n        error={error}\n      /&gt;\n    );\n  }\n}\n\nexport default Weather;\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "react-native", "framerjs", "framer-motion"], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 11979685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/851a7a815635422d14b761fcaa7cbc9d?s=128&d=identicon&r=PG&f=1", "display_name": "Bigboybob", "link": "https://stackoverflow.com/users/11979685/bigboybob"}, "edited": false, "score": 0, "creation_date": 1570197641, "post_id": 58204270, "comment_id": 102848575, "body": "Can confirm that this bug is resolved. If anyone else is reading this who is experiencing this bug, just make sure you fully uninstall framer-motion first before updating and it&#39;ll work like a charm!"}, {"owner": {"reputation": 449, "user_id": 1090204, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/O2dHL.png?s=128&g=1", "display_name": "ortonomy", "link": "https://stackoverflow.com/users/1090204/ortonomy"}, "edited": false, "score": 0, "creation_date": 1586942632, "post_id": 58204270, "comment_id": 108311583, "body": "This isn&#39;t fixed. -- I&#39;m still seeing this as of April 2020 with multiple click handlers inside the draggable"}], "tags": [], "owner": {"reputation": 3829, "user_id": 343045, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d42a2b818d426ab6f0f8f09ffe4e9179?s=128&d=identicon&r=PG", "display_name": "amann", "link": "https://stackoverflow.com/users/343045/amann"}, "is_accepted": true, "score": 2, "last_activity_date": 1570028809, "creation_date": 1570028809, "answer_id": 58204270, "question_id": 58107394, "link": "https://stackoverflow.com/questions/58107394/how-do-you-get-react-framer-motion-to-fire-onclick-events-for-mobiles-when-using/58204270#58204270", "title": "How do you get React Framer-motion to fire onClick events for mobiles when using the drag prop?", "body": "<p>This was a <a href=\"https://github.com/framer/motion/issues/322\" rel=\"nofollow noreferrer\">bug in the library</a>. It's <a href=\"https://github.com/framer/motion/pull/327\" rel=\"nofollow noreferrer\">fixed now</a> if you upgrade to <code>framer-motion@1.6.8</code>.</p>\n"}], "owner": {"reputation": 65, "user_id": 11979685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/851a7a815635422d14b761fcaa7cbc9d?s=128&d=identicon&r=PG&f=1", "display_name": "Bigboybob", "link": "https://stackoverflow.com/users/11979685/bigboybob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1527, "favorite_count": 0, "accepted_answer_id": 58204270, "answer_count": 1, "score": 1, "last_activity_date": 1570028809, "creation_date": 1569451108, "question_id": 58107394, "link": "https://stackoverflow.com/questions/58107394/how-do-you-get-react-framer-motion-to-fire-onclick-events-for-mobiles-when-using", "title": "How do you get React Framer-motion to fire onClick events for mobiles when using the drag prop?", "body": "<p>I'm currently using the React library Framer Motion to help animate some of the gestures I want in my App. I seem to be having an issue with the \"drag\" property for the \"motion.div\" tag.</p>\n\n<p>e.g. <code>&lt;motion.div drag&gt;\n        &lt;button onClick={this.eventHandler}&gt;Framer Motion Click me&lt;/button&gt;\n      &lt;/motion.div&gt;</code></p>\n\n<p>I've replicated the problem I'm having here: <a href=\"https://codesandbox.io/embed/frosty-frog-xr2jj\" rel=\"nofollow noreferrer\">https://codesandbox.io/embed/frosty-frog-xr2jj</a></p>\n\n<p>The onClick works perfectly fine on laptops/google dev tools, however when using a mobile/iOS device, the drag property for  seems to be preventing the onClick event.</p>\n\n<p>You can see this if you check out this sandbox. The button will work perfectly fine in the sand box on a laptop/desktop device but if you try it on your mobile, you'll run into the issue</p>\n\n<p>Is this just me doing something wrong or is anyone else experiencing this bug?</p>\n\n<p>Any help will be greatly appreciated!</p>\n"}, {"tags": ["javascript"], "answers": [{"comments": [{"owner": {"reputation": 12606, "user_id": 2415293, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/daMab.jpg?s=128&g=1", "display_name": "php_nub_qq", "link": "https://stackoverflow.com/users/2415293/php-nub-qq"}, "reply_to_user": {"reputation": 15, "user_id": 12061161, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-coo2yR8U2d0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfAEzeAV_S_TxV-z3LBnyTH9eL3xw/photo.jpg?sz=128", "display_name": "roi shamayev", "link": "https://stackoverflow.com/users/12061161/roi-shamayev"}, "edited": false, "score": 0, "creation_date": 1569451513, "post_id": 58107423, "comment_id": 102605395, "body": "@roishamayev use the console (F12), it&#39;s very handy"}, {"owner": {"reputation": 189597, "user_id": 616443, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/907798bf02efdaf6f9d07d3c0552868f?s=128&d=identicon&r=PG", "display_name": "j08691", "link": "https://stackoverflow.com/users/616443/j08691"}, "edited": false, "score": 0, "creation_date": 1569451573, "post_id": 58107423, "comment_id": 102605404, "body": "Instead of posting an answer, vote to close the question as off-topic due to a typo. The question has no value to anyone in the future."}, {"owner": {"reputation": 12606, "user_id": 2415293, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/daMab.jpg?s=128&g=1", "display_name": "php_nub_qq", "link": "https://stackoverflow.com/users/2415293/php-nub-qq"}, "reply_to_user": {"reputation": 189597, "user_id": 616443, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/907798bf02efdaf6f9d07d3c0552868f?s=128&d=identicon&r=PG", "display_name": "j08691", "link": "https://stackoverflow.com/users/616443/j08691"}, "edited": false, "score": 0, "creation_date": 1569451633, "post_id": 58107423, "comment_id": 102605417, "body": "@j08691 it is definitely not off-topic plus you never know."}], "tags": [], "owner": {"reputation": 12606, "user_id": 2415293, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/daMab.jpg?s=128&g=1", "display_name": "php_nub_qq", "link": "https://stackoverflow.com/users/2415293/php-nub-qq"}, "is_accepted": true, "score": 0, "last_activity_date": 1569451463, "last_edit_date": 1569451463, "creation_date": 1569451300, "answer_id": 58107423, "question_id": 58107388, "link": "https://stackoverflow.com/questions/58107388/basic-javascript-insertadjacenthtml/58107423#58107423", "title": "basic javascript- insertAdjacentHTML", "body": "<p>You have a typo in your form submission listener - case matters to computers, at least the better ones.</p>\n"}, {"comments": [{"owner": {"reputation": 189597, "user_id": 616443, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/907798bf02efdaf6f9d07d3c0552868f?s=128&d=identicon&r=PG", "display_name": "j08691", "link": "https://stackoverflow.com/users/616443/j08691"}, "edited": false, "score": 0, "creation_date": 1569451579, "post_id": 58107447, "comment_id": 102605406, "body": "Instead of posting an answer, vote to close the question as off-topic due to a typo. The question has no value to anyone in the future."}, {"owner": {"reputation": 189597, "user_id": 616443, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/907798bf02efdaf6f9d07d3c0552868f?s=128&d=identicon&r=PG", "display_name": "j08691", "link": "https://stackoverflow.com/users/616443/j08691"}, "edited": false, "score": 0, "creation_date": 1569451918, "post_id": 58107447, "comment_id": 102605464, "body": "Under the question&#39;s tags click the close link and you&#39;ll see the reasons."}], "tags": [], "owner": {"reputation": 66, "user_id": 12121347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc1d0ab58a3c293db3f42a9a7fb75137?s=128&d=identicon&r=PG", "display_name": "Call_in", "link": "https://stackoverflow.com/users/12121347/call-in"}, "is_accepted": false, "score": 1, "last_activity_date": 1569451492, "creation_date": 1569451492, "answer_id": 58107447, "question_id": 58107388, "link": "https://stackoverflow.com/questions/58107388/basic-javascript-insertadjacenthtml/58107447#58107447", "title": "basic javascript- insertAdjacentHTML", "body": "<p>Line 26 you have a typo :</p>\n\n<pre><code>ourForm.addEventListener(\"submit\", e =&gt; {\n        e.preventDefault();\nHERE =&gt; addItem(ourfield.value);\n});\n</code></pre>\n\n<p>Your variable is called \"ourField\" not \"ourfield\"</p>\n"}], "owner": {"reputation": 15, "user_id": 12061161, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-coo2yR8U2d0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfAEzeAV_S_TxV-z3LBnyTH9eL3xw/photo.jpg?sz=128", "display_name": "roi shamayev", "link": "https://stackoverflow.com/users/12061161/roi-shamayev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 58107423, "answer_count": 2, "score": 0, "last_activity_date": 1569451493, "creation_date": 1569451026, "last_edit_date": 1569451493, "question_id": 58107388, "link": "https://stackoverflow.com/questions/58107388/basic-javascript-insertadjacenthtml", "title": "basic javascript- insertAdjacentHTML", "body": "<p>I am a new learner of JavaScript and I am following a guide online. Basically I am creating a very simple to do list.\nI tried to follow the guide but it seems that I am doing something wrong. It doesn't add to-do items on the web page.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let ourForm = document.getElementById(\"ourForm\");\r\nlet ourField = document.getElementById(\"ourField\");\r\nlet ourList = document.getElementById(\"ourList\");\r\nourForm.addEventListener(\"submit\", e =&gt; {\r\n  e.preventDefault();\r\n  addItem(ourfield.value);\r\n});\r\n\r\nfunction addItem(x) {\r\n  let ouritem = `&lt;li&gt;${x}&lt;button&gt;delete&lt;/button&gt;&lt;/li&gt;`;\r\n  ourList.insertAdjacentHTML(\"beforeend\", ouritem);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;h1&gt;TO-DO app&lt;/h1&gt;\r\n&lt;form id=\"ourForm\"&gt;\r\n  &lt;input id=\"ourField\" type=\"text\" autocomplete=\"off\" /&gt;\r\n  &lt;button&gt;add item&lt;/button&gt;\r\n&lt;/form&gt;\r\n\r\n&lt;ul id=\"ourList\"&gt;\r\n  &lt;li&gt;hello&lt;button&gt;delete&lt;/button&gt;&lt;/li&gt;\r\n&lt;/ul&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "php"], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 10128689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7cdd54edcdb17fc8f0b444ee2bceb61?s=128&d=identicon&r=PG&f=1", "display_name": "ian", "link": "https://stackoverflow.com/users/10128689/ian"}, "edited": false, "score": 0, "creation_date": 1569462349, "post_id": 58107546, "comment_id": 102607265, "body": "Thanks nada that works! Only problem now is no matter what link I click the same id loads.."}, {"owner": {"reputation": 1289, "user_id": 7141340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dInt3.jpg?s=128&g=1", "display_name": "nada", "link": "https://stackoverflow.com/users/7141340/nada"}, "reply_to_user": {"reputation": 49, "user_id": 10128689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7cdd54edcdb17fc8f0b444ee2bceb61?s=128&d=identicon&r=PG&f=1", "display_name": "ian", "link": "https://stackoverflow.com/users/10128689/ian"}, "edited": false, "score": 0, "creation_date": 1569462762, "post_id": 58107546, "comment_id": 102607351, "body": "@ian  this is where now you have to look at the id you passed. Doing the ajax call via file.pho?id=someid means you are doing I believe a GET request so you&#39;ll get the value in PHP with something like $id = $_GET[&#39;id&#39;];"}], "tags": [], "owner": {"reputation": 1289, "user_id": 7141340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dInt3.jpg?s=128&g=1", "display_name": "nada", "link": "https://stackoverflow.com/users/7141340/nada"}, "is_accepted": true, "score": 0, "last_activity_date": 1569452176, "creation_date": 1569452176, "answer_id": 58107546, "question_id": 58107311, "link": "https://stackoverflow.com/questions/58107311/load-search-result-php-url-in-div-on-same-page/58107546#58107546", "title": "Load search result php url in div on same page", "body": "<p>You are going to have an onclick listeners on each <code>&lt;a&gt;</code> which will take your <code>file/file.php?id=</code> as input to an ajax call to fetch the contents at  file/file.php?id=. </p>\n\n<p>I am not sure how familiar you are with Javascript, if you know it very well then you'll undersntand what I said above, if you don't then please find documentation about <strong>AJAX</strong> <a href=\"https://www.w3schools.com/xml/ajax_xmlhttprequest_send.asp\" rel=\"nofollow noreferrer\">some ajax documentation</a></p>\n\n<p>You might also want to find documentation on stuff like <strong>innerHTML</strong> <a href=\"https://www.w3schools.com/jsref/prop_html_innerhtml.asp\" rel=\"nofollow noreferrer\">dom manipulation</a></p>\n"}], "owner": {"reputation": 49, "user_id": 10128689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7cdd54edcdb17fc8f0b444ee2bceb61?s=128&d=identicon&r=PG&f=1", "display_name": "ian", "link": "https://stackoverflow.com/users/10128689/ian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 58107546, "answer_count": 1, "score": -1, "last_activity_date": 1569452176, "creation_date": 1569450282, "question_id": 58107311, "link": "https://stackoverflow.com/questions/58107311/load-search-result-php-url-in-div-on-same-page", "title": "Load search result php url in div on same page", "body": "<p>I have search results and am displaying them in div on left of page. When user clicks on the a particular result (which is a link), it needs to open on the right of the page, without refreshing the page or moving to a new page. How does one do this? </p>\n\n<pre><code>    //get rows\n    $query = $db-&gt;query(\"SELECT * FROM posts ORDER BY id DESC LIMIT $limit\");\n\n    if($query-&gt;num_rows &gt; 0){ ?&gt;\n        &lt;div class=\"post_list\"&gt;\n        &lt;?php\n            while($row = $query-&gt;fetch_assoc()){ \n                $postID = $row['id'];\n        ?&gt;\n            &lt;div class=\"list_item\"&gt;&lt;a href=\"file/file.php?id=&lt;?php echo $row['id'] ?&gt;\"&gt;&lt;h2&gt;&lt;?php echo $row[\"title\"] ?&gt;&lt;/h2&gt;&lt;/a&gt;&lt;/div&gt;\n        &lt;?php } ?&gt;\n        &lt;/div&gt;\n        &lt;?php echo $pagination-&gt;createLinks(); ?&gt;\n    &lt;?php } ?&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1569450459, "post_id": 58107291, "comment_id": 102605158, "body": "Why do you have two <code>&lt;&#47;html&gt;</code>? And where is the <code>Rock</code> button?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1569450516, "post_id": 58107291, "comment_id": 102605170, "body": "The value you assign to <code>onclick</code> should be a function, not a string. What are you expecting <code>onclick = types[random];</code> to do?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1569450546, "post_id": 58107291, "comment_id": 102605182, "body": "You have an extra quote in <code>value=&quot;paper&quot;&quot;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 0, "last_activity_date": 1569451631, "creation_date": 1569451631, "answer_id": 58107464, "question_id": 58107291, "link": "https://stackoverflow.com/questions/58107291/rock-paper-scissors-how-do-i-make-a-user-select-an-option-and-then-use-a-go/58107464#58107464", "title": "Rock Paper Scissors - How do I Make a User Select an Option AND THEN use a &quot;GO&quot; button to execute the random choice?", "body": "<ol>\n<li>You need to give your radio buttons a name. Radio buttons are grouped by all having the same name. E.g.</li>\n</ol>\n\n<pre><code>&lt;input name=\"choice\" type=\"radio\" value=\"paper\"&gt;Paper\n</code></pre>\n\n<ol start=\"2\">\n<li><p>You're missing the Rock button.</p></li>\n<li><p>There's no need to assign anything to the <code>onclick</code> property of the radio buttons. Just set a variable to the random selection from the array to get the computer's choice:</p></li>\n</ol>\n\n<pre><code>computer_choice = types[ Math.floor(Math.random()*(types.length))];\n</code></pre>\n\n<p>You can get the value of the user's selection with:</p>\n\n<pre><code>var user_button = document.querySelector(\"input[name=choice]:checked\");\nif (user_button) {\n    var user_choice = user_button.value;\n} else {\n    alert(\"You have to choose Rock, Paper, or Scissoer first\");\n}\n</code></pre>\n\n<p>Then you can compare the user's choice to the computer's choice to determine the winner.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function play() {\r\n  var types = ['rock', 'paper', 'scissors'];\r\n  var computer_choice = types[Math.floor(Math.random() * (types.length))];\r\n  document.getElementById(\"choiceDisplay\").innerText = computer_choice;\r\n  var user_button = document.querySelector(\"input[name=choice]:checked\");\r\n  if (user_button) {\r\n    var user_choice = user_button.value;\r\n  } else {\r\n    alert(\"You have to choose Rock, Paper, or Scissoer first\");\r\n    return;\r\n  }\r\n  if (user_choice == computer_choice) {\r\n    document.getElementById(\"result\").textContent = \"Tie\";\r\n    return;\r\n  }\r\n  switch (computer_choice) {\r\n    case \"rock\":\r\n      if (user_choice == \"paper\") {\r\n        document.getElementById(\"result\").textContent = \"Paper covers rock, you win!\";\r\n      } else {\r\n        document.getElementById(\"result\").textContent = \"Rock breaks scissors, you lose!\";\r\n      }\r\n      break;\r\n    case \"paper\":\r\n      if (user_choice == \"scissors\") {\r\n        document.getElementById(\"result\").textContent = \"Scissors cut paper, you win!\";\r\n      } else {\r\n        document.getElementById(\"result\").textContent = \"Paper covers rock, you lose!\";\r\n      }\r\n      break;\r\n    case \"scissors\":\r\n      if (user_choice == \"rock\") {\r\n        document.getElementById(\"result\").textContent = \"Rock breaks scissors, you win!\";\r\n      } else {\r\n        document.getElementById(\"result\").textContent = \"Scissors cut paper, you lose!\";\r\n      }\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"stuff\"&gt;\r\n  &lt;h2&gt; Select one: &lt;/h2&gt;\r\n  &lt;div class=\"choices\"&gt;\r\n    &lt;p&gt;\r\n      &lt;form&gt;\r\n        &lt;input name=\"choice\" type=\"radio\" value=\"rock\"&gt;Rock\r\n        &lt;br&gt;\r\n        &lt;input name=\"choice\" type=\"radio\" value=\"paper\"&gt;Paper\r\n        &lt;br&gt;\r\n        &lt;input name=\"choice\" type=\"radio\" value=\"scissors\"&gt;Scissors\r\n      &lt;/form&gt;\r\n    &lt;/p&gt;\r\n  &lt;/div&gt;\r\n  &lt;p&gt;Computer plays: &lt;span id=\"choiceDisplay\"&gt;&lt;/span&gt;&lt;/p&gt;\r\n  &lt;p&gt;Result: &lt;span id=\"result\"&gt;&lt;/span&gt;&lt;/p&gt;\r\n  &lt;button onclick=\"play()\"&gt;GO!&lt;/button&gt;\r\n  &lt;script src=\"game.js\"&gt;&lt;/script&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 2734, "user_id": 3234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5440aff880867b4167e751edd90af9ee?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/3234/will"}, "is_accepted": false, "score": 0, "last_activity_date": 1569452015, "creation_date": 1569452015, "answer_id": 58107527, "question_id": 58107291, "link": "https://stackoverflow.com/questions/58107291/rock-paper-scissors-how-do-i-make-a-user-select-an-option-and-then-use-a-go/58107527#58107527", "title": "Rock Paper Scissors - How do I Make a User Select an Option AND THEN use a &quot;GO&quot; button to execute the random choice?", "body": "<p>Choosing a winner could probably be cleaned up, but this is a quick and dirty way to do it.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// get all the buttons\r\nconst buttons = document.querySelectorAll(\"button\");\r\n// add a click handler to each\r\nbuttons.forEach(\r\n    button =&gt; button.addEventListener('click', event =&gt; go(event))\r\n);\r\n\r\nfunction go(event) {\r\n  // get the human choice from the click event\r\n  const human = event.currentTarget.id;\r\n  // have the computer pick one at random\r\n  const computer = pickThrow();\r\n  // figure out the winner\r\n  const result = chooseWinner(human, computer);\r\n  // report the results\r\n  alert(`Human had ${human}. Computer had ${computer}. ${result}`);\r\n}\r\n\r\nfunction pickThrow() {\r\n  const items = [\"rock\", \"paper\", \"scissors\"];\r\n  return items[Math.floor(Math.random() * items.length)];\r\n}\r\n\r\nfunction chooseWinner(human, computer) {\r\n  let result;\r\n  if (human === computer) return \"Tie!\";\r\n  if (human === \"rock\") {\r\n    return computer === \"scissors\" ? \"Human Wins!\" : \"Computer Wins!\"\r\n  }\r\n  if (human === \"paper\") {\r\n    return computer === \"rock\" ? \"Human Wins!\" : \"Computer Wins!\";\r\n  }\r\n  if (human === \"scissors\") {\r\n    return computer === \"paper\" ? \"Human Wins!\" : \"Computer Wins!\";\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link href=\"https://cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.min.css\" rel=\"stylesheet\" /&gt;\r\n&lt;button id=\"rock\"&gt;Rock&lt;/button&gt;\r\n&lt;button id=\"paper\"&gt;Paper&lt;/button&gt;\r\n&lt;button id=\"scissors\"&gt;Scissors&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 623, "user_id": 6364829, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/3da1ffc950d9c22a8d53bab05ad78a88?s=128&d=identicon&r=PG&f=1", "display_name": "fiter", "link": "https://stackoverflow.com/users/6364829/fiter"}, "is_accepted": false, "score": 0, "last_activity_date": 1569452077, "creation_date": 1569452077, "answer_id": 58107532, "question_id": 58107291, "link": "https://stackoverflow.com/questions/58107291/rock-paper-scissors-how-do-i-make-a-user-select-an-option-and-then-use-a-go/58107532#58107532", "title": "Rock Paper Scissors - How do I Make a User Select an Option AND THEN use a &quot;GO&quot; button to execute the random choice?", "body": "<p>Here you go. Your game.js must be included </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// your game.js\r\nfunction play() {\r\n  var types = ['rock','paper','scissors']\r\n  var random = Math.floor(Math.random()*(types.length));\r\n  document.getElementById('choiceDisplay').innerHTML = types[random];\r\n}\r\n\r\n// Waiting untill the browser fully loaded HTML,\r\ndocument.addEventListener(\"DOMContentLoaded\", function() {\r\n  // Attach play function to the click event of the GO button\r\n  document.getElementById(\"play\").addEventListener( \"click\", play);\r\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;html&gt;\r\n&lt;head&gt;&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div class=\"stuff\"&gt;\r\n  &lt;h2&gt; Select one: &lt;/h2&gt;\r\n  &lt;div class=\"choices\"&gt;\r\n    &lt;form&gt;\r\n      &lt;label&gt;\r\n        &lt;input type=\"radio\" name=\"choice\" value=\"rock\"/&gt;Rock\r\n      &lt;/label&gt;\r\n      &lt;label&gt;\r\n        &lt;input type=\"radio\" name=\"choice\" value=\"scissors\"/&gt;Scissors\r\n      &lt;/label&gt;\r\n      &lt;label&gt;\r\n        &lt;input type=\"radio\" name=\"choice\" value=\"paper\"/&gt;Paper\r\n      &lt;/label&gt;\r\n    &lt;/form&gt;\r\n  &lt;/div&gt;\r\n  &lt;p id=\"choiceDisplay\"&gt;&lt;/p&gt;\r\n  &lt;button id=\"play\"&gt;GO!&lt;/button&gt;\r\n&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;script src=\"game.js\"&gt;&lt;/script&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 12120886, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-N8h8p9xnvZ0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc5lRtnqxRyunb0GbDjms1KL-Hyfw/photo.jpg?sz=128", "display_name": "Maria Manaog", "link": "https://stackoverflow.com/users/12120886/maria-manaog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 191, "favorite_count": 1, "answer_count": 3, "score": -1, "last_activity_date": 1569477002, "creation_date": 1569450188, "last_edit_date": 1569477002, "question_id": 58107291, "link": "https://stackoverflow.com/questions/58107291/rock-paper-scissors-how-do-i-make-a-user-select-an-option-and-then-use-a-go", "title": "Rock Paper Scissors - How do I Make a User Select an Option AND THEN use a &quot;GO&quot; button to execute the random choice?", "body": "<p>I need help in linking my javascript and HTML! I need to force the user to click one of the radio buttons (rock, paper, or scissors) to confirm their choice, AND THEN click a \"GO!\" button to execute the computer's randomizing function. In the end, it will display to the user whether they lost, won, or tied. I don't know how to connect the user's choice to the computer's randomized choice to determine their win/lose/tie... </p>\n\n<p>Basically: what functions in my JS should I add to do this, especially to compare the user's input to the computer-generated choice?</p>\n\n<p>Here's my snippet for the button form:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function play() {\r\n    var types = ['rock','paper','scissors']\r\n    var random = Math.floor(Math.random()*(types.length));\r\n    document.getElementById('choiceDisplay').onclick = types[random];\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;div class=\"stuff\"&gt;\r\n    &lt;h2&gt; Select one: &lt;/h2&gt;\r\n    &lt;div class=\"choices\"&gt;\r\n    &lt;p&gt; \r\n    &lt;form&gt;\r\n    &lt;br&gt;\r\n    &lt;input type=\"radio\" value=\"paper\"\"&gt;Paper\r\n    &lt;br&gt;\r\n    &lt;input type=\"radio\" value=\"scissors\"&gt;Scissors\r\n    &lt;/form&gt;\r\n    &lt;/p&gt;\r\n    &lt;/div&gt;\r\n    &lt;p id=\"choiceDisplay\"&gt;&lt;/p&gt;\r\n    &lt;button onclick=\"play()\"&gt;GO!&lt;/button&gt;\r\n    &lt;script src=\"game.js\"&gt;&lt;/script&gt;\r\n    &lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n&lt;html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "amazon-web-services", "url", "amazon-s3", "file-upload"], "answers": [{"comments": [{"owner": {"reputation": 4960, "user_id": 1850712, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cc0a5a588aafc7a1e42dcb9a5f9b975b?s=128&d=identicon&r=PG", "display_name": "Dora", "link": "https://stackoverflow.com/users/1850712/dora"}, "edited": false, "score": 0, "creation_date": 1569515946, "post_id": 58108512, "comment_id": 102631097, "body": "Ah, I didn&#39;t mention in my notes that I actually created the bucket somewhere in Aug or Sept 2019 but that&#39;s in oregon.  Since you mentioned the unreachable is only if created in <code>Middle East (Bahrain) and Asia Pacific (Hong Kong)</code> then I totally get it.  But then again, know if this would effect the future of the url <code>http:&#47;&#47;&lt;bucket&gt;.s3.amazonaws.com</code> s3 returned? As it does not have region in it but it seems like they are adding region to most of the s3 urls now"}, {"owner": {"reputation": 4865, "user_id": 2378643, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mt7f4.png?s=128&g=1", "display_name": "Anon Coward", "link": "https://stackoverflow.com/users/2378643/anon-coward"}, "reply_to_user": {"reputation": 4960, "user_id": 1850712, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cc0a5a588aafc7a1e42dcb9a5f9b975b?s=128&d=identicon&r=PG", "display_name": "Dora", "link": "https://stackoverflow.com/users/1850712/dora"}, "edited": false, "score": 0, "creation_date": 1569516799, "post_id": 58108512, "comment_id": 102631507, "body": "I can&#39;t speak towards AWS&#39;s future plans.  I doubt they&#39;ll remove the feature for any bucket any time soon, since that would require changing backwards compatibility, and inconvenience a great number of users.  At any rate, they tend to announce such large scale changes months, or even years, in advance, and as far as I&#39;m aware, they&#39;ve made no such announcements yet."}, {"owner": {"reputation": 4960, "user_id": 1850712, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cc0a5a588aafc7a1e42dcb9a5f9b975b?s=128&d=identicon&r=PG", "display_name": "Dora", "link": "https://stackoverflow.com/users/1850712/dora"}, "edited": false, "score": 0, "creation_date": 1569517480, "post_id": 58108512, "comment_id": 102631824, "body": "I do understand.  Thanks for updating me with the bucket created in those two regions only.  Let me wait for another day or two to see if anyone else know more detail else I will mark yours as correct answer.  But to your opinion, would you use the url (without region) returned by <code>aws sdk</code> or you would modify the url to include region?"}, {"owner": {"reputation": 4865, "user_id": 2378643, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mt7f4.png?s=128&g=1", "display_name": "Anon Coward", "link": "https://stackoverflow.com/users/2378643/anon-coward"}, "reply_to_user": {"reputation": 4960, "user_id": 1850712, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cc0a5a588aafc7a1e42dcb9a5f9b975b?s=128&d=identicon&r=PG", "display_name": "Dora", "link": "https://stackoverflow.com/users/1850712/dora"}, "edited": false, "score": 0, "creation_date": 1569517824, "post_id": 58108512, "comment_id": 102632005, "body": "I would (and, I do, actually) use the URL returned by the AWS CLI tool or the SDK.  I&#39;ve not run into a scenario where I need to modify the URL, and I very much doubt these URLs will stop working anytime soon.  That said, if it&#39;s a URL a user might see, I try to use <a href=\"https://aws.amazon.com/premiumsupport/knowledge-center/cloudfront-https-requests-s3/\" rel=\"nofollow noreferrer\">CloudFront with a custom domain name</a>.  Largely because I just feel it looks cleaner to the user."}], "tags": [], "owner": {"reputation": 4865, "user_id": 2378643, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mt7f4.png?s=128&g=1", "display_name": "Anon Coward", "link": "https://stackoverflow.com/users/2378643/anon-coward"}, "is_accepted": true, "score": 2, "last_activity_date": 1569462541, "creation_date": 1569462541, "answer_id": 58108512, "question_id": 58107282, "link": "https://stackoverflow.com/questions/58107282/accessing-a-bucket-virtual-hosted-style-url-deprecated-aws-s3/58108512#58108512", "title": "Accessing a Bucket virtual-hosted-style url deprecated? (aws s3)", "body": "<p>The <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingBucket.html#access-bucket-intro\" rel=\"nofollow noreferrer\">documentation you linked to</a> for <code>http://&lt;bucket&gt;.s3.amazonaws.com</code> style naming says this:</p>\n\n<blockquote>\n  <p><strong>Note</strong></p>\n  \n  <p>Buckets created in Regions launched after March 20, 2019 are not reachable via the <a href=\"https://bucket.s3.amazonaws.com\" rel=\"nofollow noreferrer\">https://bucket.s3.amazonaws.com</a> naming scheme.</p>\n</blockquote>\n\n<p>The wording there is important.  They're only talking about new <em>regions</em> brought online after March 20, 2019.</p>\n\n<p>To date, that's only buckets created in Middle East (Bahrain) and Asia Pacific (Hong Kong) regions.</p>\n"}], "owner": {"reputation": 4960, "user_id": 1850712, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cc0a5a588aafc7a1e42dcb9a5f9b975b?s=128&d=identicon&r=PG", "display_name": "Dora", "link": "https://stackoverflow.com/users/1850712/dora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 355, "favorite_count": 0, "accepted_answer_id": 58108512, "answer_count": 1, "score": 0, "last_activity_date": 1569462541, "creation_date": 1569450130, "last_edit_date": 1569454779, "question_id": 58107282, "link": "https://stackoverflow.com/questions/58107282/accessing-a-bucket-virtual-hosted-style-url-deprecated-aws-s3", "title": "Accessing a Bucket virtual-hosted-style url deprecated? (aws s3)", "body": "<p>Not sure if this is the best place to post this question, please redirect me if this isn't then I will remove the post and post it to the correct location.</p>\n\n<p>I know that recently <code>amazon s3</code> has changed their url while accessing files.\nIt used to be something like <code>http://s3.amazonaws.com/&lt;bucket&gt;</code> or <code>http://s3.&lt;region&gt;.amazonaws.com/&lt;bucket&gt;</code></p>\n\n<p>But there's been changes into <code>http://&lt;bucket&gt;.s3-&lt;aws-region&gt;.amazonaws.com</code> or <code>http://&lt;bucket&gt;.s3.amazonaws.com</code>, due to this documentation <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingBucket.html#access-bucket-intro\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingBucket.html#access-bucket-intro</a>\n<code>http://&lt;bucket&gt;.s3.amazonaws.com</code> would not be reachable after March 20, 2019, BUT when I use <code>aws-sdk</code> in <code>javascript</code> to do file upload with <code>skipper-better-s3</code> the url I get in return from aws is <code>http://&lt;bucket&gt;.s3.amazonaws.com/&lt;Key&gt;</code></p>\n\n<p>If that url is not suppose to be reachable why would aws return such url? (I can still access the file using the url)</p>\n\n<p>If that url is not suppose to be reachable in the near future, am I suppose to add in the <code>region</code> myself or modify the url myself instead of using the url returned by aws?</p>\n\n<p>Or it might my code's problem?\nBelow is my code for the upload</p>\n\n<pre><code>        const awsOptions = {  // these fields are different because this uses skipper\n            adapter: require('skipper-better-s3'),\n            key: aws_access_key,\n            secret: aws_secret_key,\n            saveAs: PATH,\n            bucket: BUCKET,\n            s3params: {\n                ACL: 'public-read'\n            },\n        }\n\n\n        const fieldName = req._fileparser.upstreams[0].fieldName;\n        req.file(fieldName).upload(awsOptions, (err, filesUploaded) =&gt; {\n            if (err) reject(err);\n            const filesUploadedF = filesUploaded[0]; // F = first file\n            const url = filesUploadedF.extra.Location; // image url -&gt; https://&lt;bucket&gt;.s3.amazonaws.com/&lt;Key&gt;\n            console.log(url, 'urlurlurl');\n        });\n</code></pre>\n\n<p><code>filesUploadedF</code> would return </p>\n\n<pre><code>UploadedFileMetadata {\n  fd: '&lt;Key&gt;',\n  size: 4337,\n  type: 'image/png',\n  filename: 'filename.png',\n  status: 'bufferingOrWriting',\n  field: 'image',\n  extra: \n   { ETag: '111111111111111111111',\n     Location: 'https://&lt;bucket&gt;.s3.amazonaws.com/&lt;Key&gt;',\n     key: '&lt;key&gt;',\n     Key: '&lt;Key&gt;',\n     Bucket: '&lt;Bucket&gt;',\n     md5: '32890jf32890jf0892j3f',\n     fd: '&lt;Key&gt;',\n     ContentType: 'image/png' }\n}\n</code></pre>\n"}, {"tags": ["javascript", "css", "blogger"], "answers": [{"tags": [], "owner": {"reputation": 249, "user_id": 3992860, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/65ywo.jpg?s=128&g=1", "display_name": "Osvaldo Correia", "link": "https://stackoverflow.com/users/3992860/osvaldo-correia"}, "is_accepted": true, "score": 0, "last_activity_date": 1569885689, "creation_date": 1569885689, "answer_id": 58176353, "question_id": 58107280, "link": "https://stackoverflow.com/questions/58107280/how-to-disable-alphabetically-sorting-of-labels-in-post-header-blogger/58176353#58176353", "title": "how to Disable Alphabetically Sorting of Labels in post header - blogger", "body": "<p>Maybe something like this:</p>\n\n<pre><code>.post-labels  {\n  display: flex;\n}\n\n.post-labels a:nth-of-type(1) {\n  order: 2;\n}\n\n.post-labels a:nth-of-type(2) {\n  order: 4;\n}\n\n.post-labels a:nth-of-type(3) {\n  order: 1;\n}\n\n.post-labels a:nth-of-type(4) {\n  order: 3;\n}\n</code></pre>\n\n<p>It's only CSS, wich it's always a good thing when we must change something in Blogger.</p>\n\n<p>Taken from <a href=\"https://stackoverflow.com/a/52944457/3992860\">https://stackoverflow.com/a/52944457/3992860</a></p>\n"}], "owner": {"reputation": 56, "user_id": 11302720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rqiiC.png?s=128&g=1", "display_name": "YUOP", "link": "https://stackoverflow.com/users/11302720/yuop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "accepted_answer_id": 58176353, "answer_count": 1, "score": -4, "last_activity_date": 1569885689, "creation_date": 1569450124, "question_id": 58107280, "link": "https://stackoverflow.com/questions/58107280/how-to-disable-alphabetically-sorting-of-labels-in-post-header-blogger", "title": "how to Disable Alphabetically Sorting of Labels in post header - blogger", "body": "<p>I want to control the order of Labels in post header<br>\n.\nSorting  Alphabetically is  Not practical In my case \n.\nNote :  I do not mean Labels gadget</p>\n"}, {"tags": ["javascript", "xmlhttprequest"], "comments": [{"owner": {"reputation": 8222, "user_id": 1291879, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Umr9q.png?s=128&g=1", "display_name": "Tigger", "link": "https://stackoverflow.com/users/1291879/tigger"}, "edited": false, "score": 0, "creation_date": 1569450445, "post_id": 58107279, "comment_id": 102605155, "body": "I believe <code>fileList[0] = blob;</code> should be <code>fileList.push(blob);</code>"}, {"owner": {"reputation": 658, "user_id": 7699428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cyG9L.jpg?s=128&g=1", "display_name": "N. Djokic", "link": "https://stackoverflow.com/users/7699428/n-djokic"}, "edited": false, "score": 0, "creation_date": 1569450457, "post_id": 58107279, "comment_id": 102605157, "body": "Take a look here:  <a href=\"https://stackoverflow.com/questions/6355382/javascript-array-not-returning-the-correct-length\" title=\"javascript array not returning the correct length\">stackoverflow.com/questions/6355382/&hellip;</a>  Simply said it calculate length before asynchronous call is finished."}, {"owner": {"reputation": 2272, "user_id": 2269829, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e6670d9f8269155edeb60d394c510006?s=128&d=identicon&r=PG", "display_name": "Alan A", "link": "https://stackoverflow.com/users/2269829/alan-a"}, "reply_to_user": {"reputation": 8222, "user_id": 1291879, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Umr9q.png?s=128&g=1", "display_name": "Tigger", "link": "https://stackoverflow.com/users/1291879/tigger"}, "edited": false, "score": 0, "creation_date": 1569450822, "post_id": 58107279, "comment_id": 102605248, "body": "@Tigger I had already tried push - propblem remains: length: 2 <b>proto</b>: Array(0)"}], "answers": [{"tags": [], "owner": {"reputation": 323, "user_id": 7095512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9df95894542801ce147bfe794c089ed0?s=128&d=identicon&r=PG&f=1", "display_name": "Artur", "link": "https://stackoverflow.com/users/7095512/artur"}, "is_accepted": false, "score": 0, "last_activity_date": 1569451116, "creation_date": 1569451116, "answer_id": 58107398, "question_id": 58107279, "link": "https://stackoverflow.com/questions/58107279/javascript-array-length-when-reading-a-file/58107398#58107398", "title": "Javascript array length when reading a file", "body": "<p>It is because your <code>console.log</code> happens at a different time from when you actually push the blob in your array.</p>\n\n<p>What I mean is that <code>console.log(fileList)</code> receives a reference to the array, which means it will show the <em>current value</em> of the array. So, the value is after you got the file.</p>\n\n<p>However, <code>console.log(fileList.length)</code> obtains the length of the array <em>before</em> you are done obtaining the file. It is not the current value and the one at the time of the <code>console.log</code>. I believe it is because the <code>Number</code> is passed by value and not by reference.</p>\n\n<h3>Edit:</h3>\n\n<p>For example, if you <code>log</code> your length after this line:\n<code>fileList[0] = blob;</code>\nit will show the current length.</p>\n"}, {"tags": [], "owner": {"reputation": 8222, "user_id": 1291879, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Umr9q.png?s=128&g=1", "display_name": "Tigger", "link": "https://stackoverflow.com/users/1291879/tigger"}, "is_accepted": true, "score": 0, "last_activity_date": 1569451739, "creation_date": 1569451739, "answer_id": 58107487, "question_id": 58107279, "link": "https://stackoverflow.com/questions/58107279/javascript-array-length-when-reading-a-file/58107487#58107487", "title": "Javascript array length when reading a file", "body": "<p>There are few little things happening.</p>\n\n<p>First, change this code:</p>\n\n<pre><code>xhr.onload = function() {\n    if (xhr.status != 200) { // analyze HTTP status of the response\n        alert(`Error ${xhr.status}: ${xhr.statusText}`); // e.g. 404: Not Found\n\n    } else {\n        var blob = new File([this.response], {type: 'image/png'}); \n        fileList[0] = blob; \n    }\n};\nconsole.log(fileList);\nconsole.log(fileList.length);\n</code></pre>\n\n<p>to </p>\n\n<pre><code>xhr.onload = function() {\n    if (xhr.status != 200) { // analyze HTTP status of the response\n        alert(`Error ${xhr.status}: ${xhr.statusText}`); // e.g. 404: Not Found\n\n    } else {\n        var blob = new File([this.response], {type: 'image/png'}); \n        // You wanted to add to the array.\n        // Using fileList[0] will overwrite the 0 element/object\n        fileList.push(blob);\n    }\n   //console.log(fileList);\n   console.log(fileList.length);\n};\n</code></pre>\n\n<p>And the reason why? </p>\n\n<p>Placing the <code>console.log</code> outside of the AJAX will not work as the AJAX will work on a different thread in the background but the <code>console.log</code> call will be run on main thread. See <a href=\"https://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call\"><em>How do I return the response from an asynchronous call?</em></a> for a lot more detail.</p>\n\n<p>The other thing you are doing is overwriting your <code>0</code> index element of <code>fileList</code> with the <code>fileList[0] = blob;</code>. You will need to change that to <code>fileList.push(blob);</code> to add the object to the array.</p>\n"}], "owner": {"reputation": 2272, "user_id": 2269829, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e6670d9f8269155edeb60d394c510006?s=128&d=identicon&r=PG", "display_name": "Alan A", "link": "https://stackoverflow.com/users/2269829/alan-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 58107487, "answer_count": 2, "score": 0, "last_activity_date": 1569473530, "creation_date": 1569450121, "last_edit_date": 1569473530, "question_id": 58107279, "link": "https://stackoverflow.com/questions/58107279/javascript-array-length-when-reading-a-file", "title": "Javascript array length when reading a file", "body": "<p>I am loading some files form my server via XMLHttpRequest. The loaded files should then be pushed onto an Array object so that I can process them. Here is my code:</p>\n\n<pre><code>var fileList = [];\n\nangular.forEach(images, function(image, key) {\n\nlet xhr = new XMLHttpRequest();\n\nxhr.open('GET', '/img/listings/' + image.dir + '/' + image.name, true);\nxhr.setRequestHeader('Content-type','application/x-www-form-urlencoded');\nxhr.responseType = 'blob';\n\nxhr.send();\n\nxhr.onload = function() {\n    if (xhr.status != 200) { // analyze HTTP status of the response\n        alert(`Error ${xhr.status}: ${xhr.statusText}`); // e.g. 404: Not Found\n\n    } else {\n        var blob = new File([this.response], {type: 'image/png'}); \n        fileList[0] = blob; \n    }\n\n};\n\nconsole.log(fileList);\nconsole.log(fileList.length);\n</code></pre>\n\n<p>The result of the console log is:</p>\n\n<pre><code>[]\n0: File {name: \"[object Object]\", lastModified: 1569449982337, lastModifiedDate: Wed Sep 25 2019 23:19:42 GMT+0100 (British Summer Time), webkitRelativePath: \"\", size: 77928, \u2026}\nlength: 1\n__proto__: Array(0)\n</code></pre>\n\n<p>But the length is 0. Why is the length 0 when it has content.</p>\n"}, {"tags": ["javascript", "while-loop"], "answers": [{"tags": [], "owner": {"reputation": 17285, "user_id": 3738171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2JdKH.jpg?s=128&g=1", "display_name": "Guerric P", "link": "https://stackoverflow.com/users/3738171/guerric-p"}, "is_accepted": false, "score": 1, "last_activity_date": 1569450594, "last_edit_date": 1569450594, "creation_date": 1569450189, "answer_id": 58107292, "question_id": 58107265, "link": "https://stackoverflow.com/questions/58107265/i-cant-understand-how-my-if-statements-are-being-seen-as-true/58107292#58107292", "title": "I can&#39;t understand how my If statements are being seen as true", "body": "<p>I guess you don't want this condition</p>\n\n<pre><code>askPlayer !== \"rock\" || askPlayer !== \"paper\" || askPlayer !== \"scissor\" || askPlayer !== \"Rock\" || askPlayer !== \"Paper\" || askPlayer !== \"Scissor\"\n</code></pre>\n\n<p>but this one</p>\n\n<pre><code>askPlayer !== \"rock\" &amp;&amp; askPlayer !== \"paper\" &amp;&amp; askPlayer !== \"scissor\" &amp;&amp; askPlayer !== \"Rock\" &amp;&amp; askPlayer !== \"Paper\" &amp;&amp; askPlayer !== \"Scissor\"\n</code></pre>\n\n<p>Just change all of the <code>||</code> to <code>&amp;&amp;</code></p>\n"}, {"tags": [], "owner": {"reputation": 5144, "user_id": 12115778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oC38b.jpg?s=128&g=1", "display_name": "richyen", "link": "https://stackoverflow.com/users/12115778/richyen"}, "is_accepted": false, "score": 4, "last_activity_date": 1569450732, "creation_date": 1569450732, "answer_id": 58107357, "question_id": 58107265, "link": "https://stackoverflow.com/questions/58107265/i-cant-understand-how-my-if-statements-are-being-seen-as-true/58107357#58107357", "title": "I can&#39;t understand how my If statements are being seen as true", "body": "<p>I think you might be getting your affirmatives v. negatives mixed up.  Your condition is saying \"If the player provides a value that fails match any one of these, then ask again\"</p>\n\n<p>A more human-friendly condition to write would be:</p>\n\n<pre><code>var valid_responses = [\"rock\",\"paper\",\"scissors\"];\nif (valid_responses.includes(askPlayer.toLowerCase())){\n  valid = true;\n} else {\n  askPlayer = prompt(\"Enter again. You seem to have entered an invalid value\");\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 12095509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JsFJ8.jpg?s=128&g=1", "display_name": "slye", "link": "https://stackoverflow.com/users/12095509/slye"}, "is_accepted": false, "score": 0, "last_activity_date": 1569450818, "creation_date": 1569450818, "answer_id": 58107368, "question_id": 58107265, "link": "https://stackoverflow.com/questions/58107265/i-cant-understand-how-my-if-statements-are-being-seen-as-true/58107368#58107368", "title": "I can&#39;t understand how my If statements are being seen as true", "body": "<p>Currently, your code is saying: 'if the input is not \"rock\" OR if the input is not \"scissor\" OR if the input is not \"paper\"... etc'.</p>\n\n<p>So if you type in 'rock', you will be rejected because the input is not 'scissor' and not 'paper'.</p>\n\n<p>You should be saying 'if the input is not \"rock\" AND if the input is not \"scissor\" AND if the input is not \"paper\"... etc'.</p>\n\n<p>So change all your || to &amp;&amp; :)</p>\n\n<p>You could also try do askPlayer.toLowerCase() before checking its validity, so you don't have to repeat yourself with 'Rock', 'Paper', 'Scissor'.</p>\n"}], "owner": {"reputation": 55, "user_id": 1488057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2542c7958a795c23c57a9acf113565e8?s=128&d=identicon&r=PG", "display_name": "P. Pan", "link": "https://stackoverflow.com/users/1488057/p-pan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1569450818, "creation_date": 1569450016, "question_id": 58107265, "link": "https://stackoverflow.com/questions/58107265/i-cant-understand-how-my-if-statements-are-being-seen-as-true", "title": "I can&#39;t understand how my If statements are being seen as true", "body": "<p>I'm doing a Rock, Paper, Scissors game and looking to add validation to the prompt method so that if users type any words typed that are not \"rock\", \"paper\" or \"scissor\" then we prompt again.</p>\n\n<p>I can't seem to understand why the code below is not working and even when I type \"rock\" it prompts me again to enter.</p>\n\n<pre><code>for (i = 0; i &lt; 5; i++) {\n        let valid = false;\n        let askPlayer = prompt(\"Rock, Paper or Scissor?\");\n        while(!valid) {\n            if (askPlayer !== \"rock\" || askPlayer !== \"paper\" || askPlayer !== \"scissor\" || askPlayer !== \"Rock\" || askPlayer !== \"Paper\" || askPlayer !== \"Scissor\") {\n                askPlayer = prompt(\"Enter again. You seem to have entered an invalid value\");\n\n            }\n            else { valid = true; }\n        }\n        play(askPlayer, computerPlay());\n    }\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "sockets", "flutter", "dart"], "owner": {"reputation": 97, "user_id": 7400695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/183962b4e8985407aacd29ac53c533b8?s=128&d=identicon&r=PG&f=1", "display_name": "Batuhan &#214;zkan", "link": "https://stackoverflow.com/users/7400695/batuhan-%c3%96zkan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 194, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1578145307, "creation_date": 1569449961, "last_edit_date": 1569453922, "question_id": 58107260, "link": "https://stackoverflow.com/questions/58107260/how-do-flutter-client-socket-connect-to-socket-server", "title": "How do flutter client socket connect to socket server?", "body": "<p>I want to connect my socket server through flutter mobile application, but it's not working.\n<br>\nMy server code (Node.js):</p>\n\n<pre><code>var app = require('express')();\nvar http = require('http').Server(app);\nvar io = require('socket.io')(http);\nvar port = process.env.PORT || 3000;\n\napp.get('/', function(req, res){\n  res.sendFile(__dirname + '/index.html');\n});\n\nio.on('connection', function(socket){\n  console.log(\"biri geld\u015fi\")\n  socket.on('chat message', function(msg){\n    console.log(msg)\n    io.emit('chat message', msg);\n  });\n});\n\nhttp.listen(port, function(){\n  console.log('listening on *:' + port);\n});\n</code></pre>\n\n<p>My Flutter application code:</p>\n\n<pre><code>  import 'package:socket_io_client/socket_io_client.dart' as IO;\n\n  main() {\n  IO.Socket socket = IO.io('http://192.168.1.102:3000');\n  socket.on('connection', (_) {\n    print('connect');\n    socket.emit('chat message', 'test');\n  });\n  socket.on('event', (data) =&gt; print(data));\n  socket.on('disconnect', (_) =&gt; print('disconnect'));\n  socket.on('fromServer', (_) =&gt; print(_));\n}\n</code></pre>\n"}, {"tags": ["javascript", "html", "css", "iframe"], "comments": [{"owner": {"reputation": 531, "user_id": 3479395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mY0M3.jpg?s=128&g=1", "display_name": "mulsun", "link": "https://stackoverflow.com/users/3479395/mulsun"}, "edited": false, "score": 0, "creation_date": 1569450955, "post_id": 58107244, "comment_id": 102605276, "body": "There are absolute positioned elements in your code (iframe), so it shows the total height of block level items when you inspect it."}, {"owner": {"reputation": 138, "user_id": 8520431, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154976164524077/picture?type=large", "display_name": "Adriaan De Bolle", "link": "https://stackoverflow.com/users/8520431/adriaan-de-bolle"}, "reply_to_user": {"reputation": 531, "user_id": 3479395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mY0M3.jpg?s=128&g=1", "display_name": "mulsun", "link": "https://stackoverflow.com/users/3479395/mulsun"}, "edited": false, "score": 0, "creation_date": 1569479084, "post_id": 58107244, "comment_id": 102611327, "body": "I added another picture to show the mismatch. Visually it is correctly positioned, but clicking a button only works when you click somewhere underneath..."}], "answers": [{"comments": [{"owner": {"reputation": 138, "user_id": 8520431, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154976164524077/picture?type=large", "display_name": "Adriaan De Bolle", "link": "https://stackoverflow.com/users/8520431/adriaan-de-bolle"}, "edited": false, "score": 0, "creation_date": 1569479243, "post_id": 58107393, "comment_id": 102611396, "body": "Yes, this scrolling issue is the same as the buttons. It is visually well positioned, but clicking a button only works when clicking somewhere underneath. I added a picture within the question."}], "tags": [], "owner": {"reputation": 361, "user_id": 6023103, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh6.googleusercontent.com/-NWqukzSvW-g/AAAAAAAAAAI/AAAAAAAABIQ/m9rOktdr_W4/photo.jpg?sz=128", "display_name": "Jason Owens", "link": "https://stackoverflow.com/users/6023103/jason-owens"}, "is_accepted": false, "score": 0, "last_activity_date": 1569451102, "creation_date": 1569451102, "answer_id": 58107393, "question_id": 58107244, "link": "https://stackoverflow.com/questions/58107244/iframe-not-properly-functional-on-small-devices/58107393#58107393", "title": "iframe not properly functional on small devices", "body": "<p>It appears fine to me in Chrome from the 1st pic.  Are you using firefox?  If so, maybe try chrome.<br>\n<a href=\"https://i.stack.imgur.com/PsSS2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PsSS2.png\" alt=\"pic2\"></a></p>\n\n<p>I think the issue is going to be the scroll feature on the right, you can change that to false, but it's likely you'll need it.</p>\n\n<p><a href=\"https://i.stack.imgur.com/WgT2Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WgT2Z.png\" alt=\"pic\"></a></p>\n"}], "owner": {"reputation": 138, "user_id": 8520431, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154976164524077/picture?type=large", "display_name": "Adriaan De Bolle", "link": "https://stackoverflow.com/users/8520431/adriaan-de-bolle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569478564, "creation_date": 1569449849, "last_edit_date": 1569478564, "question_id": 58107244, "link": "https://stackoverflow.com/questions/58107244/iframe-not-properly-functional-on-small-devices", "title": "iframe not properly functional on small devices", "body": "<p>Following link is publicly accessible and works in all cases fine:\n<a href=\"https://partner.unblnd.com/swipe/1?widget=true\" rel=\"nofollow noreferrer\">https://partner.unblnd.com/swipe/1?widget=true</a></p>\n\n<p>But when including the link within an iframe it does not work properly on small devices (developers console - iphone). Visually everything looks okay, but practically positioning is incorrect.</p>\n\n<p>It is included at page <a href=\"http://thewhiskyhouse.com/\" rel=\"nofollow noreferrer\">http://thewhiskyhouse.com/</a> as follows:</p>\n\n<p><code>&lt;iframe id=\"unblnd-iframe-stack1\" src=\"https://partner.unblnd.com/swipe/1?widget=true\" width=\"100%\" height=\"800px\" white=\"true\" scrolling=\"true\" frameborder=\"0\" allowtransparency=\"true\"&gt;&lt;/iframe&gt;</code></p>\n\n<p>There is no difference as it is the same link, but how does it come that the iframe does not position correctly and therefore doesn't work correctly mobile?</p>\n\n<p>The problem on small screens is shown below as nothing happens when you click a button, but click somewhere nearby underneath, which does not makes sense...\n<a href=\"https://i.stack.imgur.com/bjzVY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bjzVY.png\" alt=\"Visually differently positioned than click events\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/I7vk7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I7vk7.png\" alt=\"Wrong positioning on small devices\"></a></p>\n"}, {"tags": ["javascript", "jquery", "html", "url"], "comments": [{"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 1, "creation_date": 1569449985, "post_id": 58107234, "comment_id": 102605038, "body": "You could add an event listener for either load or unload of the window, that simply <code>window.location.hash = &#39;&#39;</code>"}, {"owner": {"reputation": 3580, "user_id": 10515503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/71X2K.png?s=128&g=1", "display_name": "Mr. Jo", "link": "https://stackoverflow.com/users/10515503/mr-jo"}, "reply_to_user": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1569450125, "post_id": 58107234, "comment_id": 102605069, "body": "But I need to be careful I found out trying this because there are also hashes used for tabbing. In this case the tab selection hashes are not working anymore. So do you think it works to check if it&#39;s a specific hash within the load listener?"}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1569450277, "post_id": 58107234, "comment_id": 102605111, "body": "You could check for the hash to be my-remodal before removing it, sure"}, {"owner": {"reputation": 3580, "user_id": 10515503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/71X2K.png?s=128&g=1", "display_name": "Mr. Jo", "link": "https://stackoverflow.com/users/10515503/mr-jo"}, "reply_to_user": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1569450899, "post_id": 58107234, "comment_id": 102605265, "body": "@Taplar So I figured it out - a bit. See my code above. It&#39;s removing it only after the first reload but in this case the hash is still there."}], "owner": {"reputation": 3580, "user_id": 10515503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/71X2K.png?s=128&g=1", "display_name": "Mr. Jo", "link": "https://stackoverflow.com/users/10515503/mr-jo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569450933, "creation_date": 1569449786, "last_edit_date": 1569450933, "question_id": 58107234, "link": "https://stackoverflow.com/questions/58107234/remove-specific-hash-from-url-on-page-reload", "title": "Remove specific hash from URL on page reload", "body": "<p>I've a bit of a problem. I'm using remodal which uses hashes in the URL to display a modal. In my case it's <code>http://www.test.com/#my-remodal</code>. When the modal is now open and I reload the page, the hash is still there and the modal opens after the reload which is not good in my case. </p>\n\n<p>So is there any option to remove the hash when the user reloads the page when the modal is open?</p>\n\n<p>This is my code:</p>\n\n<pre><code>jQuery( window ).load( function () {\n    if ( window.location.hash.indexOf( \"#my-remodal\" ) &gt; -1 ) {\n        window.location.hash = \"\";\n    }\n} );\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "redux", "react-redux", "state"], "comments": [{"owner": {"reputation": 2267, "user_id": 588521, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/IPOVj.jpg?s=128&g=1", "display_name": "bob", "link": "https://stackoverflow.com/users/588521/bob"}, "edited": false, "score": 0, "creation_date": 1569449899, "post_id": 58107213, "comment_id": 102605022, "body": "Welcome, good effort to make well-formed question!"}], "answers": [{"comments": [{"owner": {"reputation": 709, "user_id": 6281832, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RdBED.jpg?s=128&g=1", "display_name": "Rodrigo Amaral", "link": "https://stackoverflow.com/users/6281832/rodrigo-amaral"}, "edited": false, "score": 0, "creation_date": 1569464622, "post_id": 58108704, "comment_id": 102607680, "body": "BTW, if you want to debug your application, use a logging middleware like <a href=\"https://github.com/LogRocket/redux-logger\" rel=\"nofollow noreferrer\">redux-logger</a>"}], "tags": [], "owner": {"reputation": 709, "user_id": 6281832, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RdBED.jpg?s=128&g=1", "display_name": "Rodrigo Amaral", "link": "https://stackoverflow.com/users/6281832/rodrigo-amaral"}, "is_accepted": false, "score": 1, "last_activity_date": 1569464293, "creation_date": 1569464293, "answer_id": 58108704, "question_id": 58107213, "link": "https://stackoverflow.com/questions/58107213/how-to-update-redux-state-using-a-react-variable-passed-up-to-the-component-from/58108704#58108704", "title": "How to update redux state using a react variable passed up to the component from a child", "body": "<p>From your action creator file, it seems that you are using the <a href=\"https://github.com/reduxjs/redux-thunk\" rel=\"nofollow noreferrer\">redux-thunk middleware</a>, so make sure to import this library and apply it in the store. This <a href=\"https://codesandbox.io/s/epic-pine-3qro3\" rel=\"nofollow noreferrer\">codesandbox</a> shows a complete example based on yours.</p>\n\n<p>When using this <em>thunk</em>, make sure to always use the dispatch that it provides in order to send the action to the store. Don't return an object from the <em>bound action creator</em>:</p>\n\n<pre><code>export const getVideoComments = () =&gt; {\n  return (dispatch, getState) =&gt; {\n    const videoComments = getRandomComments();\n\n    dispatch({\n      type: \"GET_VIDEO_COMMENTS\",\n      payload: videoComments\n    });\n  };\n};\n</code></pre>\n\n<p>Also, it doesn't make sense to use <code>getState</code> here to get the video comments. You would simply update the store with the same state over and over again. <code>getState</code> is useful when you want to interact with a different part of the state, that is outside the reducer that captures your action type.</p>\n"}, {"comments": [{"owner": {"reputation": 405, "user_id": 12119984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d476b184cc7ccd38e9ea7b77702b344b?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/12119984/sean"}, "edited": false, "score": 0, "creation_date": 1569492135, "post_id": 58108898, "comment_id": 102617999, "body": "ah right. So you can pass normal JS objects you define yourself into action creators too?"}, {"owner": {"reputation": 405, "user_id": 12119984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d476b184cc7ccd38e9ea7b77702b344b?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/12119984/sean"}, "edited": false, "score": 0, "creation_date": 1569493184, "post_id": 58108898, "comment_id": 102618596, "body": "i am quite confused about what is going on here. The redux docs say that the only arguments <code>mapDispatchToProps</code> accepts is <code>dispatch</code> and <code>ownProps</code>. I&#39;m also unsure why you are dispatching an action creator inside <code>mapDispatchToProps</code> and not an action object? Finally, wouldn&#39;t this currently just replace my state with the newest comment, rather than adding it on to the others?"}, {"owner": {"reputation": 198, "user_id": 8652587, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SjxBoFaLkpo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfYnM48Ib3c3Mu1hu_50-F9ChZLpQ/photo.jpg?sz=128", "display_name": "fctmolina", "link": "https://stackoverflow.com/users/8652587/fctmolina"}, "reply_to_user": {"reputation": 405, "user_id": 12119984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d476b184cc7ccd38e9ea7b77702b344b?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/12119984/sean"}, "edited": false, "score": 0, "creation_date": 1569496367, "post_id": 58108898, "comment_id": 102620224, "body": "Action creator just returns an object so it&#39;s just like your passing an object to your dispatch.   <code>mapDispatchToProps = (state) =&gt; {    getVideoComments: (newComment) =&gt; dispatch(getVideoComments(newComment)), }</code>  <code>getVideoComments:</code> is the props. Then you tell it what action to dispatch hence <code>(newComment) =&gt; dispatch(getVideoComments(newComment))</code>"}, {"owner": {"reputation": 198, "user_id": 8652587, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SjxBoFaLkpo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfYnM48Ib3c3Mu1hu_50-F9ChZLpQ/photo.jpg?sz=128", "display_name": "fctmolina", "link": "https://stackoverflow.com/users/8652587/fctmolina"}, "reply_to_user": {"reputation": 405, "user_id": 12119984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d476b184cc7ccd38e9ea7b77702b344b?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/12119984/sean"}, "edited": false, "score": 0, "creation_date": 1569497116, "post_id": 58108898, "comment_id": 102620617, "body": "@Sean regarding replacing your current state in reducer, I edited my answer above to show how you can edit your reducer so that it won&#39;t replace your current state and just add the new comment."}, {"owner": {"reputation": 405, "user_id": 12119984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d476b184cc7ccd38e9ea7b77702b344b?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/12119984/sean"}, "edited": false, "score": 0, "creation_date": 1569497288, "post_id": 58108898, "comment_id": 102620731, "body": "thanks for the response. I already implemented that in my answer following your initial advice. I would mark yours as the solution but when i copied the mapDispatchToProps i got a few errors"}, {"owner": {"reputation": 198, "user_id": 8652587, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SjxBoFaLkpo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfYnM48Ib3c3Mu1hu_50-F9ChZLpQ/photo.jpg?sz=128", "display_name": "fctmolina", "link": "https://stackoverflow.com/users/8652587/fctmolina"}, "reply_to_user": {"reputation": 405, "user_id": 12119984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d476b184cc7ccd38e9ea7b77702b344b?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/12119984/sean"}, "edited": false, "score": 0, "creation_date": 1569497412, "post_id": 58108898, "comment_id": 102620806, "body": "@Sean what errors did you get? Maybe I experienced them and can help in debugging it.   Reference: <a href=\"https://react-redux.js.org/using-react-redux/connect-mapdispatch#arguments\" rel=\"nofollow noreferrer\">react-redux.js.org/using-react-redux/&hellip;</a>"}], "tags": [], "owner": {"reputation": 198, "user_id": 8652587, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SjxBoFaLkpo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfYnM48Ib3c3Mu1hu_50-F9ChZLpQ/photo.jpg?sz=128", "display_name": "fctmolina", "link": "https://stackoverflow.com/users/8652587/fctmolina"}, "is_accepted": false, "score": 1, "last_activity_date": 1569550956, "last_edit_date": 1569550956, "creation_date": 1569466027, "answer_id": 58108898, "question_id": 58107213, "link": "https://stackoverflow.com/questions/58107213/how-to-update-redux-state-using-a-react-variable-passed-up-to-the-component-from/58108898#58108898", "title": "How to update redux state using a react variable passed up to the component from a child", "body": "<p>Use mapDispatchToProps in your CommentSection.js and there's no need to use getState in your action creator.</p>\n\n<pre><code>Action Creator\n\nconst getVideoComments = (comments) =&gt; ({\n   type: 'GET_VIDEO_COMMENTS',\n   payload: comments,\n});\n\nCommentSection.js\n\n// handleCommentSubmit\nhandleCommentSubmit = (newComment) =&gt; {\n   this.props.getVideoComments(newComment); //pass comment to action then access newComment in reducer then add it to your state\n}\n\nmapDispatchToProps = (state) =&gt; {\n   getVideoComments: (newComment) =&gt; dispatch(getVideoComments(newComment)),\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CommentsSection);\n\n\nReducer.js\n\ncase 'GET_VIDEO_COMMENTS':\n   return [...state, action.payload];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 198, "user_id": 8652587, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SjxBoFaLkpo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfYnM48Ib3c3Mu1hu_50-F9ChZLpQ/photo.jpg?sz=128", "display_name": "fctmolina", "link": "https://stackoverflow.com/users/8652587/fctmolina"}, "edited": false, "score": 0, "creation_date": 1569551121, "post_id": 58115684, "comment_id": 102641618, "body": "No need for the return in your action cause javascript implents implicit return in arrow functions.  Reference: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions#Function_body\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}], "tags": [], "owner": {"reputation": 405, "user_id": 12119984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d476b184cc7ccd38e9ea7b77702b344b?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/12119984/sean"}, "is_accepted": true, "score": 0, "last_activity_date": 1569496768, "creation_date": 1569496768, "answer_id": 58115684, "question_id": 58107213, "link": "https://stackoverflow.com/questions/58107213/how-to-update-redux-state-using-a-react-variable-passed-up-to-the-component-from/58115684#58115684", "title": "How to update redux state using a react variable passed up to the component from a child", "body": "<p>Thought id post my solution as an answer as it combined parts of both answers, but needed bits of both to fully solve the issue.</p>\n\n<p>By combining parts of both the above answers I was able to fully solve the problem. I removed getState() as both fctmolina and Rodrigo Amaral suggested. I also simplified the action creator to returning a javascript object, rather than a function, and so no longer needed to include a <code>dispatch</code> function, or use <code>redux-thunk</code>. I passed the <code>newComment</code> variable into my action creator, and then combined it with my old state inside the reducer. The solution only required a simply definition of the <code>mapDispatchToProps</code> as a JS object containing the action creator <code>getVideoComments</code>, which made it available as a prop to <code>commentSection</code>, and resulted in the action creator being dispatched when the <code>this.props.getVideoComments()</code> function call was made. Here is the altered code:</p>\n\n<p>CommentSection.js</p>\n\n<pre><code>import React from 'react'\nimport CommentList from './CommentList'\nimport CommentForm from './CommentForm'\n\n\n//redux stuff\nimport {connect} from 'react-redux'\nimport {getVideoComments} from '../actions'\n\nclass CommentsSection extends React.Component{\n\n    constructor(props){\n        super(props)\n        //this.state={comments:[], loading:false}\n\n    }\n\n    componentDidMount(){\n        console.log(this.props.comments)\n    }\n\n\n    handleCommentSubmit = (newComment) =&gt;{\n        // call action creator to dist action to all reducers and update relevant states\n        this.props.getVideoComments(newComment)\n\n    }\n    //Comments are create in comment form, passed up then sent down through commentList to individual comment rendering inside comment.js\n// comment form oncommentsubmit running everytime it renders, not only on submital\n    render(){\n        const {comments} = this.props\n        console.log({comments})\n        return(\n            &lt;div&gt;\n                &lt;span&gt;&lt;h4&gt; Comments &lt;/h4&gt;&lt;/span&gt;\n                &lt;div className=\"ui grid\"&gt; \n\n\n                    &lt;div className = \"right floated eight wide column\" &gt;\n                        &lt;CommentList comments={comments}/&gt; \n                    &lt;/div&gt;\n                    &lt;div className=\"left floated eight wide column\"&gt;\n\n                        &lt;CommentForm onCommentSubmit={this.handleCommentSubmit}/&gt;\n\n                    &lt;/div&gt;\n                 &lt;/div&gt;\n             &lt;/div&gt;\n\n        )\n\n    }\n}\n\n//redux stuff\n//called following state update\nconst mapStateToProps = (state) =&gt; {\n\n    return {comments:state.videoComments}\n}\n\nexport default connect(mapStateToProps,{getVideoComments:getVideoComments})(CommentsSection)\n</code></pre>\n\n<p>videoCommentsReducer.js</p>\n\n<pre><code>import React from 'react'\n\n const videoCommentsReducer=function(state= [], action){ // reads in previous state\n    switch (action.type){\n        case 'GET_VIDEO_COMMENTS':\n            return [...state, action.payload] //reducer will update state to be payload.videoComments. Action only describes what happened\n                                         // reducer describes how what happened effects state. Could also use previous state and action to create new data\n        default: \n            return state\n    }\n}\n\nexport default videoCommentsReducer\n</code></pre>\n\n<p>index.js (for action creator)</p>\n\n<pre><code>import React from 'react'\n\nexport const getVideoComments = (newComment) =&gt; {\n    return({\n        type: 'GET_VIDEO_COMMENTS',\n        payload: newComment\n    })\n};\n\n</code></pre>\n"}], "owner": {"reputation": 405, "user_id": 12119984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d476b184cc7ccd38e9ea7b77702b344b?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/12119984/sean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3179, "favorite_count": 0, "accepted_answer_id": 58115684, "answer_count": 3, "score": 2, "last_activity_date": 1569550956, "creation_date": 1569449615, "question_id": 58107213, "link": "https://stackoverflow.com/questions/58107213/how-to-update-redux-state-using-a-react-variable-passed-up-to-the-component-from", "title": "How to update redux state using a react variable passed up to the component from a child", "body": "<p>Im trying to update my Redux state in a component using a variable passed up to that component from a child, following a form submital callback. The form submits a users comment, which i want to store in my redux state. I'm unsure how to send this variable into the redux chain so i can use it in my action creator. I want to pass the <code>newComment</code> variable inside <code>handleCommentSubmit</code> into the <code>this.props.getVideoComments()</code> action creator. Here is the code:</p>\n\n<p>CommentSection.js (where i want to update my state)</p>\n\n<pre><code> //redux stuff\nimport {connect} from 'react-redux'\nimport {getVideoComments} from '../actions'\n\nclass CommentsSection extends React.Component{\n\n    constructor(props){\n        super(props)\n        //this.state={comments:[], loading:false}\n\n    }\n\n    componentDidMount(){\n        this.props.getVideoComments()\n\n    }\n\n\n    handleCommentSubmit = (newComment) =&gt;{\n        // call action creator to dist action to all reducers and update relevant states\n        this.props.getVideoComments()\n        //this.setState({comments: [...this.state.comments, newComment]})\n        //this.setState({comments: newComments},console.log('The current state is now',this.state.comments));\n        //comment is object with author and message. Add new comment to old comments\n        //this.setState({comments:[...this.state.comments,newComment]},console.log(this.state, 'state updated'))\n\n    }\n    //Comments are create in comment form, passed up then sent down through commentList to individual comment rendering inside comment.js\n// comment form oncommentsubmit running everytime it renders, not only on submital\n    render(){\n        const {comments} = this.props\n        console.log({comments})\n        return(\n            &lt;div&gt;\n                &lt;span&gt;&lt;h4&gt; Comments &lt;/h4&gt;&lt;/span&gt;\n                &lt;div className=\"ui grid\"&gt; \n\n\n                    &lt;div className = \"right floated eight wide column\" &gt;\n                        &lt;CommentList comments={comments}/&gt; \n                    &lt;/div&gt;\n                    &lt;div className=\"left floated eight wide column\"&gt;\n\n                        &lt;CommentForm onCommentSubmit={this.handleCommentSubmit}/&gt;\n\n                    &lt;/div&gt;\n                 &lt;/div&gt;\n             &lt;/div&gt;\n\n        )\n\n    }\n}\n\n//redux stuff\n//called following state update\nconst mapStateToProps = (state) =&gt; {\n\n    return {comments:state.videoComments}\n}\nexport default connect(mapStateToProps,{getVideoComments:getVideoComments})(CommentsSection)\n</code></pre>\n\n<p>index.js (for action creators)</p>\n\n<pre><code>import React from 'react'\n\nexport const getVideoComments= ()=&gt; {\n\n    return (dispatch, getState)=&gt; {\n\n        const videoComments = getState().videoComments\n\n        return ({\n            type: 'GET_VIDEO_COMMENTS',\n            payload: videoComments\n        })\n    }\n}\n</code></pre>\n\n<p>videoCommentsReducer.js</p>\n\n<pre><code>import React from 'react'\n\n const videoCommentsReducer=function(state= [], action){ // reads in previous state\n    switch (action.type){\n        case 'GET_VIDEO_COMMENTS':\n            return action.payload //reducer will update state to be payload.videoComments. Action only describes what happened\n                                         // reducer describes how what happened effects state. Could also use previous state and action to create new data\n        default: \n            return state\n    }\n}\n\nexport default videoCommentsReducer\n</code></pre>\n\n<p>index.js (in reducer folder where they are combined)</p>\n\n<pre><code>import React from 'react'\nimport {combineReducers} from 'redux'\nimport videoCommentsReducer from './videoCommentsReducer'\n\nexport default combineReducers({\n    videoComments:videoCommentsReducer\n})\n</code></pre>\n"}, {"tags": ["javascript", "cropperjs"], "comments": [{"owner": {"reputation": 19848, "user_id": 1090206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BVW9D.jpg?s=128&g=1", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/1090206/chris-w"}, "edited": false, "score": 1, "creation_date": 1569867232, "post_id": 58107093, "comment_id": 102727127, "body": "There&#39;s literally <a href=\"https://fengyuanchen.github.io/cropperjs/examples/fixed-crop-box.html\" rel=\"nofollow noreferrer\">an example</a> of what you&#39;re describing right on the site bud."}, {"owner": {"reputation": 529, "user_id": 1170760, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6547b10fcf59e263b8ffd28956622389?s=128&d=identicon&r=PG", "display_name": "sairfan", "link": "https://stackoverflow.com/users/1170760/sairfan"}, "reply_to_user": {"reputation": 19848, "user_id": 1090206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BVW9D.jpg?s=128&g=1", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/1090206/chris-w"}, "edited": false, "score": 0, "creation_date": 1569940478, "post_id": 58107093, "comment_id": 102753895, "body": "Thanks for sharing, though in example i can move the image not cropping area but good to have this functionality, not sure why i could not find this example on site."}], "answers": [{"tags": [], "owner": {"reputation": 529, "user_id": 1170760, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6547b10fcf59e263b8ffd28956622389?s=128&d=identicon&r=PG", "display_name": "sairfan", "link": "https://stackoverflow.com/users/1170760/sairfan"}, "is_accepted": true, "score": 0, "last_activity_date": 1569942675, "creation_date": 1569942675, "answer_id": 58187788, "question_id": 58107093, "link": "https://stackoverflow.com/questions/58107093/cropperjs-disabling-clipping-ability/58187788#58187788", "title": "Cropperjs disabling clipping ability", "body": "<p>With reference to help by @Chris W. I was able to setup with fixed clipping area.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>        var image = document.getElementById('croppr');\r\n        var cropper = new Cropper(image, {\r\n            dragMode: 'move',\r\n            aspectRatio: 16 / 9,\r\n            autoCropArea: 0.65,\r\n            restore: false,\r\n            guides: false,\r\n            center: false,\r\n            highlight: false,\r\n            cropBoxMovable: true,\r\n            cropBoxResizable: false,\r\n            toggleDragModeOnDblclick: false,\r\n        });</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>    .img-container {\r\n        min-height: 497px;\r\n        max-width: 497px;\r\n        margin-bottom: 1rem;\r\n        background-color: white;\r\n        text-align: center;\r\n        width: 100%;\r\n    }\r\n\r\n    .img-container &gt; img {\r\n        max-width: 100%;\r\n    }\r\n\r\n    img {\r\n        vertical-align: middle;\r\n        border-style: none;\r\n    }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.5/cropper.js\"&gt;&lt;/script&gt;\r\n&lt;link href=\"https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.5/cropper.css\" rel=\"stylesheet\"/&gt;\r\n\r\n&lt;div class=\"img-container\"&gt;\r\n    &lt;img src=\"https://images.pexels.com/photos/266011/pexels-photo-266011.jpeg?auto=compress&amp;cs=tinysrgb&amp;dpr=3&amp;h=750&amp;w=1260\" id=\"croppr\" /&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 529, "user_id": 1170760, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6547b10fcf59e263b8ffd28956622389?s=128&d=identicon&r=PG", "display_name": "sairfan", "link": "https://stackoverflow.com/users/1170760/sairfan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 587, "favorite_count": 0, "accepted_answer_id": 58187788, "answer_count": 1, "score": -1, "last_activity_date": 1569942675, "creation_date": 1569448829, "last_edit_date": 1569867086, "question_id": 58107093, "link": "https://stackoverflow.com/questions/58107093/cropperjs-disabling-clipping-ability", "title": "Cropperjs disabling clipping ability", "body": "<p>I'm using cropper.js on MVC 5 Razor page where i do not want user to select cropping area with mouse, I want to initialize cropper object with predefined clipping (selected) area that user can't resize, but user can move clipping area on the picture to crop a part of picture.</p>\n\n<p>I was not able to find any option to disable clipping, i checked on their Git <a href=\"https://github.com/fengyuanchen/cropperjs\" rel=\"nofollow noreferrer\">page</a> and it looks like it does not have ability,  moreover i posted my request on Git <a href=\"https://github.com/fengyuanchen/cropperjs/issues/582\" rel=\"nofollow noreferrer\">page</a> but did not get any response. i need help how can i workaround to achieve this.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>        window.onload = function() {\r\n\r\n            var Cropper = window.Cropper;\r\n            var URL = window.URL || window.webkitURL;\r\n            var container = document.querySelector('.img-container');\r\n            var image = container.getElementsByTagName('img').item(0);\r\n            var download = ''; \r\n            var actions = document.getElementById('actions');\r\n            var dataX = 128; \r\n            var dataY = 72; \r\n            var dataHeight = 1024; \r\n            var dataWidth = 576; \r\n            var dataRotate = 0;  \r\n            var dataScaleX = -1; \r\n            var dataScaleY = 1;  \r\n            var options = {\r\n                aspectRatio: 16 / 9,\r\n                preview: '.img-preview',\r\n                ready: function (e) {\r\n                    console.log(e.type);\r\n                },\r\n                cropstart: function (e) {\r\n                    console.log(e.type, e.detail.action);\r\n                },\r\n                cropmove: function (e) {\r\n                    console.log(e.type, e.detail.action);\r\n                },\r\n                cropend: function (e) {\r\n                    console.log(e.type, e.detail.action);\r\n                },\r\n                crop: function (e) {\r\n                    var data = e.detail;\r\n\r\n                    console.log(e.type);\r\n                    dataX.value = Math.round(data.x);\r\n                    dataY.value = Math.round(data.y);\r\n                    dataHeight.value = Math.round(data.height);\r\n                    dataWidth.value = Math.round(data.width);\r\n                    dataRotate.value = typeof data.rotate !== 'undefined' ? data.rotate : '';\r\n                    dataScaleX.value = typeof data.scaleX !== 'undefined' ? data.scaleX : '';\r\n                    dataScaleY.value = typeof data.scaleY !== 'undefined' ? data.scaleY : '';\r\n                },\r\n                zoom: function (e) {\r\n                    console.log(e.type, e.detail.ratio);\r\n                }\r\n            };\r\n\r\n            var cropper = new Cropper(image, options);\r\n        }</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>    .img-container {\r\n        min-height: 497px;\r\n        max-width: 497px;\r\n        margin-bottom: 1rem;\r\n        background-color: white;\r\n        text-align: center;\r\n        width: 100%;\r\n    }\r\n\r\n    .img-container &gt; img {\r\n        max-width: 100%;\r\n    }\r\n\r\n    img {\r\n        vertical-align: middle;\r\n        border-style: none;\r\n    }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.5/cropper.js\"&gt;&lt;/script&gt;\r\n&lt;link href=\"https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.5/cropper.css\" rel=\"stylesheet\"/&gt;\r\n\r\n&lt;div class=\"img-container\"&gt;\r\n    &lt;img src=\"https://images.pexels.com/photos/266011/pexels-photo-266011.jpeg?auto=compress&amp;cs=tinysrgb&amp;dpr=3&amp;h=750&amp;w=1260\" id=\"croppr\" /&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "arrays", "angular", "rxjs"], "comments": [{"owner": {"reputation": 5884, "user_id": 4283738, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bcb938f3ad5a68706c055de350612b01?s=128&d=identicon&r=PG", "display_name": "joyBlanks", "link": "https://stackoverflow.com/users/4283738/joyblanks"}, "edited": false, "score": 0, "creation_date": 1569450292, "post_id": 58107063, "comment_id": 102605117, "body": "<code>of</code> is designed to emit multiple items looks like your use case could do with <code>from</code>"}, {"owner": {"reputation": 4779, "user_id": 8105437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CURix.jpg?s=128&g=1", "display_name": "dmcgrandle", "link": "https://stackoverflow.com/users/8105437/dmcgrandle"}, "edited": false, "score": 0, "creation_date": 1569451266, "post_id": 58107063, "comment_id": 102605346, "body": "How about the operator <code>toArray()</code>?  Docs <a href=\"https://rxjs.dev/api/operators/toArray\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 13, "user_id": 12121753, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XnQZOthca4w/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcoKvkIY_rWNgt26U_S70wIKrwR_Q/photo.jpg?sz=128", "display_name": "Andya A", "link": "https://stackoverflow.com/users/12121753/andya-a"}, "reply_to_user": {"reputation": 4779, "user_id": 8105437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CURix.jpg?s=128&g=1", "display_name": "dmcgrandle", "link": "https://stackoverflow.com/users/8105437/dmcgrandle"}, "edited": false, "score": 0, "creation_date": 1569451543, "post_id": 58107063, "comment_id": 102605399, "body": "toArray() works best! Vielen Dank! @dmcgrandle"}], "answers": [{"tags": [], "owner": {"reputation": 4779, "user_id": 8105437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CURix.jpg?s=128&g=1", "display_name": "dmcgrandle", "link": "https://stackoverflow.com/users/8105437/dmcgrandle"}, "is_accepted": true, "score": 0, "last_activity_date": 1569451902, "creation_date": 1569451902, "answer_id": 58107504, "question_id": 58107063, "link": "https://stackoverflow.com/questions/58107063/how-to-get-array-back-from-rxjs-fromarray/58107504#58107504", "title": "How to get array back from rxjs from(array)", "body": "<p><code>toArray()</code> is the operator you are looking for.  Also, you can split an array into individual emissions with the <code>concatAll()</code> operator.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const { of } = rxjs;\r\nconst { concatAll, tap, toArray } = rxjs.operators;\r\n\r\nof([1,2,3,4,5]).pipe(\r\n  concatAll(),\r\n  tap(item =&gt; console.log('item is ', item)),\r\n  toArray()\r\n).subscribe(\r\n  result =&gt; console.log('result is ', result)\r\n);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/rxjs/6.5.3/rxjs.umd.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 13, "user_id": 12121753, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XnQZOthca4w/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcoKvkIY_rWNgt26U_S70wIKrwR_Q/photo.jpg?sz=128", "display_name": "Andya A", "link": "https://stackoverflow.com/users/12121753/andya-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 58107504, "answer_count": 1, "score": 1, "last_activity_date": 1569451902, "creation_date": 1569448668, "question_id": 58107063, "link": "https://stackoverflow.com/questions/58107063/how-to-get-array-back-from-rxjs-fromarray", "title": "How to get array back from rxjs from(array)", "body": "<p>Im trying to study rxjs and have one question.\nI have for example <code>[1,2,3,4,5]</code> and do stream with <code>of([1,2,3,4,5])</code>\nAfter that i use </p>\n\n<pre><code>of([1,2,3,4,5])\n  .pipe(flatMap((array) =&gt; from(array))\n</code></pre>\n\n<p>to create iterable stream\nand know only 1 way to get array back:</p>\n\n<pre><code> .pipe(reduce(acc, data) =&gt; [...acc, data], [])) \n</code></pre>\n\n<p>(or scan() but it needs takeLast(1) after, so i prefer reduce here)</p>\n\n<p>so any another way to get array from iterable?</p>\n\n<pre><code>of([1,2,3,4,5])\n  .pipe(flatMap((array) =&gt; from(array)))\n  .pipe(reduce(acc, data) =&gt; [...acc, data], []))\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "react-native"], "comments": [{"owner": {"reputation": 1702, "user_id": 6301762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k37L5.png?s=128&g=1", "display_name": "JulienRioux", "link": "https://stackoverflow.com/users/6301762/julienrioux"}, "edited": false, "score": 0, "creation_date": 1569449520, "post_id": 58107023, "comment_id": 102604926, "body": "You should add a codesandbox to make it easier to help solve your issue ;)"}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 12121733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cca435f7e01f3f7c04ff9878345b4ef3?s=128&d=identicon&r=PG&f=1", "display_name": "rtlatelpa4", "link": "https://stackoverflow.com/users/12121733/rtlatelpa4"}, "edited": false, "score": 1, "creation_date": 1569513899, "post_id": 58107241, "comment_id": 102630124, "body": "Thanks I got it to work. I also changed the conditionals to a switch case because the if/else was too eh. You helped me realize what state really is!"}], "tags": [], "owner": {"reputation": 1580, "user_id": 8106018, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-novQgV5suIw/AAAAAAAAAAI/AAAAAAAAAKU/V-y-f6aAzFI/photo.jpg?sz=128", "display_name": "Ricardo Gonzalez", "link": "https://stackoverflow.com/users/8106018/ricardo-gonzalez"}, "is_accepted": false, "score": 0, "last_activity_date": 1569449823, "creation_date": 1569449823, "answer_id": 58107241, "question_id": 58107023, "link": "https://stackoverflow.com/questions/58107023/why-is-the-state-in-my-parent-component-a-step-behind/58107241#58107241", "title": "Why is the state in my parent component a step behind?", "body": "<p>i think i found your issue, it is related with the <strong>this.state.random</strong>. If you check your code in this part:</p>\n\n<pre><code> let ranIndex = this.props.list.indexOf(this.state.random);\n\n</code></pre>\n\n<p>you are comparing the <strong>randIndex</strong> with the previous random value from the state, i think that instead of taking the value of the state you should create a new random value: </p>\n\n<pre><code>let randIndex =  this.props.list[\n        Math.floor(Math.random() * this.props.list.length)\n      ];\n</code></pre>\n\n<p>and just update it after you finish your comparing as you are making in the set state:</p>\n\n<pre><code>this.setState({\n      user: event.target.value,\n      random: randIndex,\n      winner: hasWon\n    });\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 12121733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cca435f7e01f3f7c04ff9878345b4ef3?s=128&d=identicon&r=PG&f=1", "display_name": "rtlatelpa4", "link": "https://stackoverflow.com/users/12121733/rtlatelpa4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1569449823, "creation_date": 1569448384, "question_id": 58107023, "link": "https://stackoverflow.com/questions/58107023/why-is-the-state-in-my-parent-component-a-step-behind", "title": "Why is the state in my parent component a step behind?", "body": "<pre><code>import React, { Component } from \"react\";\nimport \"./Game.css\";\n\nclass Game extends Component {\n  static defaultProps = {\n    list: [\"rock\", \"paper\", \"scissors\"]\n  };\n  constructor(props) {\n    super(props);\n    this.state = {\n      play: false,\n      random: null,\n      user: null,\n      winner: false\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n  }\n  handleSubmit(event) {\n    event.preventDefault();\n    this.setState({\n      play: !this.state.play\n    });\n  }\n  handleClick(event) {\n    //paper beats Rock\n    //scissors beats Paper\n    // rock beats scissors\n    // 1 &gt; 0\n    // 2 &gt; 1\n    //0 &gt; 2\n    if (this.state.winner) {\n      return;\n    }\n    let hasWon;\n    let inputIndex = this.props.list.indexOf(event.target.value);\n    let ranIndex = this.props.list.indexOf(this.state.random);\n    if (\n      (inputIndex === 1 &amp;&amp; ranIndex === 0) ||\n      (ranIndex === 1 &amp;&amp; inputIndex === 0)\n    ) {\n      hasWon = true;\n      //  return this.props.list[1];\n    } else if (\n      (inputIndex === 2 &amp;&amp; ranIndex === 1) ||\n      (ranIndex === 2 &amp;&amp; inputIndex === 1)\n    ) {\n      hasWon = true;\n    } else if (\n      (inputIndex === 0 &amp;&amp; ranIndex === 2) ||\n      (ranIndex === 0 &amp;&amp; inputIndex === 2)\n    ) {\n      hasWon = true;\n    }\n\n    console.log(this.props.list.indexOf(this.state.random));\n    this.setState({\n      user: event.target.value,\n      random: this.props.list[\n        Math.floor(Math.random() * this.props.list.length)\n      ],\n      winner: hasWon\n    });\n  }\n  render() {\n    let game;\n\n    if (this.state.play) {\n      game = (\n        &lt;div className=\"Game-userButtons\"&gt;\n          &lt;button\n            onClick={this.handleClick}\n            name={this.state.user}\n            value=\"rock\"\n          &gt;\n            Rock\n          &lt;/button&gt;\n          &lt;button\n            onClick={this.handleClick}\n            name={this.state.user}\n            value=\"paper\"\n          &gt;\n            Paper\n          &lt;/button&gt;\n          &lt;button\n            onClick={this.handleClick}\n            name={this.state.user}\n            value=\"scissors\"\n          &gt;\n            Scissor\n          &lt;/button&gt;\n          &lt;button&gt;Play Again! &lt;/button&gt;\n        &lt;/div&gt;\n      );\n    } else {\n      game = (\n        &lt;div&gt;\n          &lt;form onSubmit={this.handleSubmit}&gt;\n            &lt;button&gt;Play &lt;/button&gt;\n          &lt;/form&gt;\n        &lt;/div&gt;\n      );\n    }\n    return (\n      &lt;div&gt;\n        &lt;h1&gt;Rock, paper, scissors &lt;/h1&gt;\n        &lt;div className=\"players\"&gt;\n          &lt;div className=\"user\"&gt;\n            &lt;i className={`fas fa-hand-${this.state.user}`}&gt;&lt;/i&gt;\n          &lt;/div&gt;\n          &lt;div className=\"robot\"&gt;\n            &lt;i className={`fas fa-hand-${this.state.random}`}&gt;&lt;/i&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n        {game}\n      &lt;/div&gt;\n    );\n  }\n}\n\nexport default Game;\n\n</code></pre>\n\n<p>I am trying to determine the winner of the rock, paper, scissors game by comparing indexes, of the user and the randomly generated one. In the handleClick() I wrote potential conditions to win the game and the indexes that translate to potential winnings. When I console.log the index of this.state.random, the state that renders seems to be one step behind to the state being consoled. So, the conditions are working, but the visual doesn't make any sense. How can I fix this? Thank you for your time!</p>\n"}, {"tags": ["javascript", "node.js", "reactjs"], "comments": [{"owner": {"reputation": 64, "user_id": 7954157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4a81cf15319eef08e72c405d3417499?s=128&d=identicon&r=PG&f=1", "display_name": "Aye_baybae", "link": "https://stackoverflow.com/users/7954157/aye-baybae"}, "edited": false, "score": 0, "creation_date": 1569448711, "post_id": 58107015, "comment_id": 102604712, "body": "I dont really get your question. If you update your state on click that should only re-render once. why is it rendering non stop. Do you change your on every render?"}, {"owner": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "edited": false, "score": 0, "creation_date": 1569448838, "post_id": 58107015, "comment_id": 102604749, "body": "What&#39;s your question? You can&#39;t call <code>setState</code> inside the render method, but you already seem to be aware of that, so what do you want to know?"}, {"owner": {"reputation": 64, "user_id": 7954157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4a81cf15319eef08e72c405d3417499?s=128&d=identicon&r=PG&f=1", "display_name": "Aye_baybae", "link": "https://stackoverflow.com/users/7954157/aye-baybae"}, "edited": false, "score": 1, "creation_date": 1569449108, "post_id": 58107015, "comment_id": 102604830, "body": "@Michael, why is your code thousands of line? You should consider classifying your code into sub components and js files."}, {"owner": {"reputation": 658, "user_id": 11852419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25d56aa57fc20376e457df7a50be0a54?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/11852419/michael"}, "reply_to_user": {"reputation": 64, "user_id": 7954157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4a81cf15319eef08e72c405d3417499?s=128&d=identicon&r=PG&f=1", "display_name": "Aye_baybae", "link": "https://stackoverflow.com/users/7954157/aye-baybae"}, "edited": false, "score": 0, "creation_date": 1569460387, "post_id": 58107015, "comment_id": 102606922, "body": "@Aye_baybae it isn&#39;t my code to begin with.  Just came into this job, and this is the code that I&#39;m given.  I agree that some things need to be changed, but I&#39;m trying to work with what I&#39;ve got atm."}, {"owner": {"reputation": 658, "user_id": 11852419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25d56aa57fc20376e457df7a50be0a54?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/11852419/michael"}, "reply_to_user": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "edited": false, "score": 0, "creation_date": 1569460477, "post_id": 58107015, "comment_id": 102606936, "body": "@Herohtar I want to know how I can get the info from within the RenderTable method into my react state so that I can use it elsewhere in my code."}], "answers": [{"tags": [], "owner": {"reputation": 686, "user_id": 11518214, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qrzo6.png?s=128&g=1", "display_name": "Celso Wellington", "link": "https://stackoverflow.com/users/11518214/celso-wellington"}, "is_accepted": false, "score": 0, "last_activity_date": 1569449204, "creation_date": 1569449204, "answer_id": 58107150, "question_id": 58107015, "link": "https://stackoverflow.com/questions/58107015/cant-set-state-inside-a-method-that-gets-called-in-render/58107150#58107150", "title": "Can&#39;t set state inside a method that gets called in render", "body": "<p>Don't do it on render(). Instead, you can do it using the hook componentDidMount() inside your class, like this:</p>\n\n<pre><code>componentDidMount() {\nif(this.state.StoreInfo.length === 0) {\n//set your state here\n}\n}\n</code></pre>\n\n<p>Inside your if statement, you can verify the length of some data to prevent it to enter in the render loop, don't need to be the length of some information array inside your state, but something that flags to your code that you already loaded up the information. You can also create a bool for this and set it to true (or false) when you load your data.</p>\n"}], "owner": {"reputation": 658, "user_id": 11852419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25d56aa57fc20376e457df7a50be0a54?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/11852419/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1569449204, "creation_date": 1569448341, "question_id": 58107015, "link": "https://stackoverflow.com/questions/58107015/cant-set-state-inside-a-method-that-gets-called-in-render", "title": "Can&#39;t set state inside a method that gets called in render", "body": "<p>I know there are a bunch of answers out there for this question, but I feel like none of them were quite what I was looking for.  My problem is that I have this application that gets a list of stores within a desired radius.  When I click submit, I populate an array with those stores information.  What I want to do is be able to store some of that information into an array in my react state.  My main issue is that I would like to set state when that information is populated, but this causes an infinite loop because setState calls the render method again.  Hopefully this explains my issue a little better, there is some code to go with this below as well.  Any help is appreciated, thanks!</p>\n\n<p>stores.js</p>\n\n<pre><code>Class stores extends React.Component{\n constructor(props){\n  this.state = {\n   StoreInfo: [],\n   Zip: \"\",\n   Radius: \"\"\n  }\n}\n\nRenderTable(zip, radius){\n\n.... some stuff to generate stores within this location\n\nstoreInfo = []\n\nfor(var i = 0; i &lt; storeArray.length; i++){\n  storeInfo.push(storeArray.info);\n}\n\nthis.setState({StoreInfo: storeInfo});\n\n\n... generate html to be rendered\n\n\n}\n\n\nrender(){\n\nvar renderPage = (\n\n&lt;div&gt;\n {this.RenderTable(this.state.Zip, this.state.Radius)}\n&lt;/div&gt;\n\n);\n\nreturn renderPage;\n\n}\n\n</code></pre>\n\n<p>This is obviously just an example of what my code does, and is not the exact file since the original is thousands of lines long.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 3, "creation_date": 1569448263, "post_id": 58106988, "comment_id": 102604597, "body": "The function doesn&#39;t return anything.  What are you expecting to be logged to the console in those last three lines?"}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 3, "creation_date": 1569448271, "post_id": 58106988, "comment_id": 102604599, "body": "<code>console.log()</code> <i>always</i> returns <code>undefined</code>, which in JavaScript just means it didn&#39;t return anything."}, {"owner": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "edited": false, "score": 2, "creation_date": 1569448445, "post_id": 58106988, "comment_id": 102604651, "body": "Either change the <code>console.log</code> inside the function to <code>return</code>, or just remove it from the function calls below."}, {"owner": {"reputation": 658, "user_id": 7699428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cyG9L.jpg?s=128&g=1", "display_name": "N. Djokic", "link": "https://stackoverflow.com/users/7699428/n-djokic"}, "edited": false, "score": 2, "creation_date": 1569448454, "post_id": 58106988, "comment_id": 102604653, "body": "You already have console.log in getWeather, do need to put getWeather in console.log again. So either return string from function and then console log it, or you console log inside function."}, {"owner": {"reputation": 29, "user_id": 8518557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mmyli.jpg?s=128&g=1", "display_name": "Kevin Archer", "link": "https://stackoverflow.com/users/8518557/kevin-archer"}, "reply_to_user": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 0, "creation_date": 1569448691, "post_id": 58106988, "comment_id": 102604708, "body": "@David Apologies, I probably shouldn&#39;t have used the word &#39;returned&#39;. The console logs &quot;The weather in Scotland is sunny&quot; followed by &#39;undefined&#39; after that, then the next log is &quot;The weather in Japan is beautiful&quot; and another &#39;undefined&#39; under this and so on."}, {"owner": {"reputation": 4439, "user_id": 522859, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4aihH.jpg?s=128&g=1", "display_name": "Chris Owens", "link": "https://stackoverflow.com/users/522859/chris-owens"}, "edited": false, "score": 3, "creation_date": 1569449081, "post_id": 58106988, "comment_id": 102604820, "body": "hey guys, this isn&#39;t a duplicate of <a href=\"https://stackoverflow.com/questions/14633968/chrome-firefox-console-log-always-appends-a-line-saying-undefined\" title=\"chrome firefox console log always appends a line saying undefined\">stackoverflow.com/questions/14633968/&hellip;</a>, he&#39;s calling console.log twice not questioning why console.log returns undefined."}, {"owner": {"reputation": 4469, "user_id": 479156, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/x9N3C.jpg?s=128&g=1", "display_name": "Ivar", "link": "https://stackoverflow.com/users/479156/ivar"}, "edited": false, "score": 0, "creation_date": 1610015946, "post_id": 58106988, "comment_id": 116001957, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/48362507/console-logmyfunction-returns-undefined\">console.log(myFunction()) returns undefined</a>"}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 8518557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mmyli.jpg?s=128&g=1", "display_name": "Kevin Archer", "link": "https://stackoverflow.com/users/8518557/kevin-archer"}, "edited": false, "score": 1, "creation_date": 1569448940, "post_id": 58107040, "comment_id": 102604782, "body": "Brilliant. This has worked. Thank you @Chris and all other commenters who also pointed out the same error. Much appreciated."}], "tags": [], "owner": {"reputation": 4439, "user_id": 522859, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4aihH.jpg?s=128&g=1", "display_name": "Chris Owens", "link": "https://stackoverflow.com/users/522859/chris-owens"}, "is_accepted": true, "score": 0, "last_activity_date": 1569449334, "last_edit_date": 1569449334, "creation_date": 1569448505, "answer_id": 58107040, "question_id": 58106988, "link": "https://stackoverflow.com/questions/58106988/why-does-console-log-return-undefined-after-correct-output/58107040#58107040", "title": "Why does console.log return undefined after correct output?", "body": "<p>Like the other commenters have said, console.log doesn't return anything so the result is <em>always</em> undefined. It looks like you actually want to return the generated string from your function and then log that. Try the following:</p>\n\n<pre><code>const getWeather = function(country, weatherType) {\n    return 'The weather in ' + country + ' is ' + weatherType + '.';\n}\n\nconsole.log(getWeather('Scotland', 'sunny')); // The weather in Scotland is sunny.\nconsole.log(getWeather('Japan', 'beautiful')); // The weather in Japan is beautiful.\nconsole.log(getWeather('Germany', 'frosty')); // The weather in Germany is frosty.\n</code></pre>\n\n<p>What happens in your original code is that you call your function and log the message inside of it. Your function doesn't return anything so when you attempt to log the output of that function you are logging <em>undefined</em>. </p>\n"}], "owner": {"reputation": 29, "user_id": 8518557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mmyli.jpg?s=128&g=1", "display_name": "Kevin Archer", "link": "https://stackoverflow.com/users/8518557/kevin-archer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 58107040, "answer_count": 1, "score": -2, "last_activity_date": 1569458432, "creation_date": 1569448187, "last_edit_date": 1569448298, "question_id": 58106988, "link": "https://stackoverflow.com/questions/58106988/why-does-console-log-return-undefined-after-correct-output", "title": "Why does console.log return undefined after correct output?", "body": "<p>I'm writing a very simple JS function and was wondering if the console returning 'undefined' after correctly logging every function call was normal or an error as a result of a badly written function.</p>\n\n<pre><code>const getWeather = function(country, weatherType) {\n    console.log('The weather in ' + country + ' is ' + weatherType + '.');\n}\n\nconsole.log(getWeather('Scotland', 'sunny'));\nconsole.log(getWeather('Japan', 'beautiful'));\nconsole.log(getWeather('Germany', 'frosty'));\n</code></pre>\n"}, {"tags": ["javascript", "chart.js"], "answers": [{"tags": [], "owner": {"reputation": 1493, "user_id": 11989020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49e9a8cb610ab1acc5564c4fe6520b7c?s=128&d=identicon&r=PG&f=1", "display_name": "HeadhunterKev", "link": "https://stackoverflow.com/users/11989020/headhunterkev"}, "is_accepted": true, "score": 2, "last_activity_date": 1569485574, "creation_date": 1569485574, "answer_id": 58112340, "question_id": 58106976, "link": "https://stackoverflow.com/questions/58106976/chart-js-undesired-tooltip-showing-up-for-legend/58112340#58112340", "title": "Chart.js Undesired Tooltip Showing Up for Legend", "body": "<p>For the tooltips position you can use <code>xAlign: 'right'</code> but then you have to be sure there's enough space on the left side of the chart because the tooltip will always be displayed on the left side of the point.</p>\n\n<p>\"Decrease the distance from the cursor to the item that displays the tooltip\" is not possible when you use <code>intersect: false</code> because it will always display a tooltip with this option. </p>\n\n<p>I would use <code>intersect: true</code> (or simply omit it because that's the default) combined with an increased hit radius for events like tooltip.</p>\n\n<pre><code>elements: {\n  point: {\n    hitRadius: 20\n  }\n},\n</code></pre>\n\n<p><a href=\"https://jsbin.com/zitusukefu/1/edit?html,js,output\" rel=\"nofollow noreferrer\">Here's a JSBin</a> to demonstrate these options.</p>\n"}], "owner": {"reputation": 843, "user_id": 10297365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/726a3323c7736d5b52a06a674d8fd648?s=128&d=identicon&r=PG&f=1", "display_name": "FamousAv8er", "link": "https://stackoverflow.com/users/10297365/famousav8er"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 58112340, "answer_count": 1, "score": 2, "last_activity_date": 1569485574, "creation_date": 1569448108, "question_id": 58106976, "link": "https://stackoverflow.com/questions/58106976/chart-js-undesired-tooltip-showing-up-for-legend", "title": "Chart.js Undesired Tooltip Showing Up for Legend", "body": "<p>I have a <code>tooltip</code> function that helps me display information from my chart in a different way than stock. So far it has worked great for me, however Its causing a tooltip to be displayed for the legend. I would like to keep that from being displayed while keeping the click functions for the different keys.</p>\n\n<p>Here is my <code>tooltips</code> found under <code>options</code></p>\n\n<pre><code>        tooltips: {\n            mode: 'index',\n            intersect: false,\n            callbacks: {\n                label: function(tooltipItem, data) {\n                    if((tooltipItem.yLabel) &gt;= 1000000){\n                        return data.datasets[tooltipItem.datasetIndex].label + \": $\" + money_round((tooltipItem.yLabel)/1000000)+\" M\";\n                    }else if((tooltipItem.yLabel) &gt;= 1000){\n                        return data.datasets[tooltipItem.datasetIndex].label + \": $\" + money_round((tooltipItem.yLabel)/1000)+\" K\";\n                    }else{\n                        return data.datasets[tooltipItem.datasetIndex].label + \": $\" + (tooltipItem.yLabel);\n                    }\n                }\n            }\n        },\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/4Zqdg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Zqdg.png\" alt=\"enter image description here\"></a></p>\n\n<p>Also I am looking for a way to have the <code>tooltips</code> displayed to the left of the hovered item AND/OR decrease the distance from the cursor to the item that displays the <code>tooltip</code> so as to prevent having a <code>tooltip</code> pop up when not desired.</p>\n"}, {"tags": ["javascript", "jquery"], "answers": [{"tags": [], "owner": {"reputation": 1458, "user_id": 10168933, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WMT_FFdAJmg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oD8KVD7f4EXwf9gn9mXuiXdPlziQ/mo/photo.jpg?sz=128", "display_name": "Murali Nepalli", "link": "https://stackoverflow.com/users/10168933/murali-nepalli"}, "is_accepted": true, "score": 1, "last_activity_date": 1569459290, "last_edit_date": 1569459290, "creation_date": 1569458363, "answer_id": 58108131, "question_id": 58106969, "link": "https://stackoverflow.com/questions/58106969/iterate-element-overlap-collision-function/58108131#58108131", "title": "Iterate element overlap/collision function", "body": "<p>Your code only checks the first \"dark\" element rather than looping through all the dark elements. So Change your method as below to make it work <a href=\"https://jsfiddle.net/x5fw2z3s/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/x5fw2z3s/</a>.\nI am sure you can further optimize it.</p>\n\n<pre><code> function isColliding() {\n // Div 1 data\n var indicator_offset = $('.indicator').offset();\n var indicator_height = $('.indicator').outerHeight(true);\n var indicator_width = $('.indicator').outerWidth(true);\n var indicator_distance_from_top = indicator_offset.top + indicator_height;\n var indicator_distance_from_left = indicator_offset.left + indicator_width;\n\n var isCollidingAtLeastOneDark = false;\n\n $( '.dark' ).each(function( index ) {       \n   var dark_row_offset = $(this).offset();\n   var dark_row_height = $(this).outerHeight(true);\n   var dark_row_width = $(this).outerWidth(true);\n   var dark_row_distance_from_top = dark_row_offset.top + dark_row_height;\n   var dark_row_distance_from_left = dark_row_offset.left + dark_row_width;\n\n   var not_colliding = (indicator_distance_from_top &lt; dark_row_offset.top || indicator_offset.top &gt; dark_row_distance_from_top || indicator_distance_from_left &lt; dark_row_offset.left || indicator_offset.left &gt; dark_row_distance_from_left);\n\n    if( !not_colliding) {\n       isCollidingAtLeastOneDark = true;\n       return false; //breakout from loop\n    }\n });\n  console.log(isCollidingAtLeastOneDark);\n  return isCollidingAtLeastOneDark;    \n };\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 6278057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ada6421a7d401b26149808d0be502460?s=128&d=identicon&r=PG&f=1", "display_name": "schrdr", "link": "https://stackoverflow.com/users/6278057/schrdr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 58108131, "answer_count": 1, "score": 0, "last_activity_date": 1569459290, "creation_date": 1569448091, "question_id": 58106969, "link": "https://stackoverflow.com/questions/58106969/iterate-element-overlap-collision-function", "title": "Iterate element overlap/collision function", "body": "<p>I have a working function that detects whether a square indicator is overlapping with a row that has a dark background. If it is overlapping, the indicator should become white, if it isn't, the indicator should be black.</p>\n\n<p>The part where I am stuck is that I have many rows with a dark background, and it is currently only working on the first dark background, because I am not iterating over all the dark backgrounds, just the first one.</p>\n\n<p>I have tried placing an each function in a number of places but cannot seem to get it to work. </p>\n\n<p><a href=\"https://jsfiddle.net/schrdr/8L6fjmyr/\" rel=\"nofollow noreferrer\">jsfiddle here</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function isColliding() {\r\n    // Div 1 data\r\n    var indicator_offset = $('.indicator').offset();\r\n    var indicator_height = $('.indicator').outerHeight(true);\r\n    var indicator_width = $('.indicator').outerWidth(true);\r\n    var indicator_distance_from_top = indicator_offset.top + indicator_height;\r\n    var indicator_distance_from_left = indicator_offset.left + indicator_width;\r\n\r\n    // Div 2 data\r\n    var dark_row_offset = $('.dark').offset();\r\n    var dark_row_height = $('.dark').outerHeight(true);\r\n    var dark_row_width = $('.dark').outerWidth(true);\r\n    var dark_row_distance_from_top = dark_row_offset.top + dark_row_height;\r\n    var dark_row_distance_from_left = dark_row_offset.left + dark_row_width;\r\n\r\n    var not_colliding = (indicator_distance_from_top &lt; dark_row_offset.top || indicator_offset.top &gt; dark_row_distance_from_top || indicator_distance_from_left &lt; dark_row_offset.left || indicator_offset.left &gt; dark_row_distance_from_left);\r\n\r\n    return !not_colliding;\r\n};\r\n\r\n$(window).on('scroll', function() {\r\n\tif (isColliding()) {\r\n  \t$('.indicator').removeClass('on-light').addClass('on-dark');\r\n  } else {\r\n    \t$('.indicator').removeClass('on-dark').addClass('on-light');\r\n  }\r\n})</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.row {\r\n  height: 200px;\r\n  width: 100%;\r\n}\r\n.row.light {\r\n  background-color: #eeeeee;\r\n}\r\n.row.dark {\r\n  background-color: black;\r\n}\r\n\r\n.indicator {\r\n  width: 30px;\r\n  height: 30px;\r\n  position: fixed;\r\n  top: 0px;\r\n  left: 50%;\r\n  transfrom: translateX(-50%);\r\n}\r\n.indicator.on-light {\r\n  background-color: black;\r\n}\r\n.indicator.on-dark {\r\n  background-color: white;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"indicator on-light\"&gt;\r\n\r\n&lt;/div&gt;\r\n\r\n&lt;div class=\"row light\"&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"row dark\"&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"row light\"&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"row dark\"&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"row light\"&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"row dark\"&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"row light\"&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"row dark\"&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"row light\"&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"row dark\"&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"row light\"&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"row dark\"&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"row light\"&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"row dark\"&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"row light\"&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"row dark\"&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"row light\"&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"row dark\"&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"row light\"&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"row dark\"&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"row light\"&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"row dark\"&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"row light\"&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"row dark\"&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"row light\"&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"row dark\"&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"row light\"&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"row dark\"&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"row light\"&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"row dark\"&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"row light\"&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"row dark\"&gt;\r\n\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript"], "answers": [{"tags": [], "owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "is_accepted": false, "score": 2, "last_activity_date": 1569448345, "last_edit_date": 1569448345, "creation_date": 1569447980, "answer_id": 58106951, "question_id": 58106868, "link": "https://stackoverflow.com/questions/58106868/one-button-active-of-5-buttons-by-data/58106951#58106951", "title": "one button active of 5 buttons by data", "body": "<p>Inside of your <code>onclick</code> function, you'll want to set each of the buttons to <code>inactive</code>. This can be done by creating a <em>second</em> loop, as can be seen in the following:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var header = document.getElementById(\"myDIV\");\r\nvar btns = header.getElementsByClassName(\"btn\");\r\nfor (var i = 0; i &lt; btns.length; i++) {\r\n  btns[i].onclick = function() {\r\n    for (var j = 0; j &lt; btns.length; j++) {\r\n      btns[j].dataset.active = \"inactive\";\r\n    }\r\n    if (this.dataset.active == \"active\") {\r\n      this.dataset.active = \"inactive\";\r\n    } else {\r\n      this.dataset.active = \"active\";\r\n    }\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>/* Style the buttons */\r\n.btn {\r\n  border: none;\r\n  outline: none;\r\n  padding: 10px 16px;\r\n  background-color: #f1f1f1;\r\n  cursor: pointer;\r\n  font-size: 18px;\r\n}\r\n\r\n\r\n/* Style the active class, and buttons on mouse-over */\r\n.btn[data-active=\"active\"],\r\n.btn:hover {\r\n  background-color: #666;\r\n  color: white;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;h1&gt;Active Button&lt;/h1&gt;\r\n&lt;p&gt;Highlight the active/current (pressed) button.&lt;/p&gt;\r\n&lt;div id=\"myDIV\"&gt;\r\n  &lt;button class=\"btn\"&gt;1&lt;/button&gt;\r\n  &lt;button class=\"btn\" data-active=\"active\"&gt;2&lt;/button&gt;\r\n  &lt;button class=\"btn\"&gt;3&lt;/button&gt;\r\n  &lt;button class=\"btn\"&gt;4&lt;/button&gt;\r\n  &lt;button class=\"btn\"&gt;5&lt;/button&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Note that you'll likely also want to make use of <code>addEventListener()</code> as opposed to <code>onclick</code>, so that your logic is separate from your presentation. This can be seen in the following:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var header = document.getElementById(\"myDIV\");\r\nvar btns = header.getElementsByClassName(\"btn\");\r\nfor (var i = 0; i &lt; btns.length; i++) {\r\n  btns[i].addEventListener(\"click\", function() {\r\n    for (var j = 0; j &lt; btns.length; j++) {\r\n      btns[j].dataset.active = \"inactive\";\r\n    }\r\n    if (this.dataset.active == \"active\") {\r\n      this.dataset.active = \"inactive\";\r\n    } else {\r\n      this.dataset.active = \"active\";\r\n    }\r\n  })\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>/* Style the buttons */\r\n.btn {\r\n  border: none;\r\n  outline: none;\r\n  padding: 10px 16px;\r\n  background-color: #f1f1f1;\r\n  cursor: pointer;\r\n  font-size: 18px;\r\n}\r\n\r\n\r\n/* Style the active class, and buttons on mouse-over */\r\n.btn[data-active=\"active\"],\r\n.btn:hover {\r\n  background-color: #666;\r\n  color: white;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;h1&gt;Active Button&lt;/h1&gt;\r\n&lt;p&gt;Highlight the active/current (pressed) button.&lt;/p&gt;\r\n&lt;div id=\"myDIV\"&gt;\r\n  &lt;button class=\"btn\"&gt;1&lt;/button&gt;\r\n  &lt;button class=\"btn\" data-active=\"active\"&gt;2&lt;/button&gt;\r\n  &lt;button class=\"btn\"&gt;3&lt;/button&gt;\r\n  &lt;button class=\"btn\"&gt;4&lt;/button&gt;\r\n  &lt;button class=\"btn\"&gt;5&lt;/button&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1569448822, "post_id": 58107051, "comment_id": 102604744, "body": "Given that only one should have the active attribute on it, the looping is a bit overkill.  Let me update this.  One sec. @JoeDoe"}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1569448954, "post_id": 58107051, "comment_id": 102604784, "body": "@JoeDoe There we go.  No looping necessary"}], "tags": [], "owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "is_accepted": true, "score": 1, "last_activity_date": 1569449217, "last_edit_date": 1569449217, "creation_date": 1569448570, "answer_id": 58107051, "question_id": 58106868, "link": "https://stackoverflow.com/questions/58106868/one-button-active-of-5-buttons-by-data/58107051#58107051", "title": "one button active of 5 buttons by data", "body": "<ul>\n<li>Created a click event handler on the parent element</li>\n<li>When an element is clicked, check to see if it is a button</li>\n<li>If it is, find the button that is active and if there is one, remove the active attribute</li>\n<li>Then for the one that was clicked, toggle the active data attribute</li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const header = document.querySelector(\"#myDIV\");\r\n\r\nheader.addEventListener('click', event =&gt; {\r\n  if (event.target.tagName === 'BUTTON') {\r\n    let activeButton = header.querySelector('.btn[data-active=\"active\"]');\r\n    const currentState = event.target.dataset.active;\r\n    \r\n    if (activeButton &amp;&amp; activeButton !== event.target ) {\r\n      activeButton.dataset.active = null;\r\n    }\r\n    \r\n    event.target.dataset.active = currentState === 'active' ? null : 'active';\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\r\n&lt;style&gt;\r\n/* Style the buttons */\r\n.btn {\r\n  border: none;\r\n  outline: none;\r\n  padding: 10px 16px;\r\n  background-color: #f1f1f1;\r\n  cursor: pointer;\r\n  font-size: 18px;\r\n}\r\n\r\n/* Style the active class, and buttons on mouse-over */\r\n.btn[data-active=\"active\"], .btn:hover {\r\n  background-color: #666;\r\n  color: white;\r\n}\r\n&lt;/style&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n&lt;h1&gt;Active Button&lt;/h1&gt;\r\n&lt;p&gt;Highlight the active/current (pressed) button.&lt;/p&gt;\r\n  \r\n&lt;div id=\"myDIV\"&gt;\r\n  &lt;button class=\"btn\"&gt;1&lt;/button&gt;\r\n  &lt;button class=\"btn\" data-active=\"active\"&gt;2&lt;/button&gt;\r\n  &lt;button class=\"btn\"&gt;3&lt;/button&gt;\r\n  &lt;button class=\"btn\"&gt;4&lt;/button&gt;\r\n  &lt;button class=\"btn\"&gt;5&lt;/button&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 521, "user_id": 11142047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d0a9d605ff50ac533b103a20828e6ae?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Doe", "link": "https://stackoverflow.com/users/11142047/joe-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 58107051, "answer_count": 2, "score": 1, "last_activity_date": 1569449217, "creation_date": 1569447459, "question_id": 58106868, "link": "https://stackoverflow.com/questions/58106868/one-button-active-of-5-buttons-by-data", "title": "one button active of 5 buttons by data", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var header = document.getElementById(\"myDIV\");\r\nvar btns = header.getElementsByClassName(\"btn\");\r\nfor (var i = 0; i &lt; btns.length; i++) {\r\n  btns[i].onclick = function(){\r\n    if (this.dataset.active == \"active\") {\r\n      this.dataset.active = \"inactive\";\r\n    } else {\r\n      this.dataset.active = \"active\";\r\n    }\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\r\n&lt;style&gt;\r\n/* Style the buttons */\r\n.btn {\r\n  border: none;\r\n  outline: none;\r\n  padding: 10px 16px;\r\n  background-color: #f1f1f1;\r\n  cursor: pointer;\r\n  font-size: 18px;\r\n}\r\n\r\n/* Style the active class, and buttons on mouse-over */\r\n.btn[data-active=\"active\"], .btn:hover {\r\n  background-color: #666;\r\n  color: white;\r\n}\r\n&lt;/style&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n&lt;h1&gt;Active Button&lt;/h1&gt;\r\n&lt;p&gt;Highlight the active/current (pressed) button.&lt;/p&gt;\r\n  \r\n&lt;div id=\"myDIV\"&gt;\r\n  &lt;button class=\"btn\"&gt;1&lt;/button&gt;\r\n  &lt;button class=\"btn\" data-active=\"active\"&gt;2&lt;/button&gt;\r\n  &lt;button class=\"btn\"&gt;3&lt;/button&gt;\r\n  &lt;button class=\"btn\"&gt;4&lt;/button&gt;\r\n  &lt;button class=\"btn\"&gt;5&lt;/button&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>i want only one button to be active at once having <strong>data-active = \"active\"</strong> and if changed to <strong>remove the active</strong> from it and be moved to the newly pressed button but my code now makes <strong>everything</strong> active if not and not active if active and i only want one button to be active</p>\n\n<p>like radio box</p>\n"}, {"tags": ["javascript", "jquery", "html", "ajax", "element"], "comments": [{"owner": {"reputation": 3757, "user_id": 7368985, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fYb4sP0Jt1I/AAAAAAAAAAI/AAAAAAAAEso/pV8UEu1dVHg/photo.jpg?sz=128", "display_name": "Ghassen Louhaichi", "link": "https://stackoverflow.com/users/7368985/ghassen-louhaichi"}, "edited": false, "score": 0, "creation_date": 1569448412, "post_id": 58106857, "comment_id": 102604643, "body": "Could you further detail the desired behavior here? Do you want to shuffle only two elements? You cannot shuffle only one, it has to take the place of another, so two is minimum. Also, where are the 100 elements in your HTML? And what are the <code>&lt;ins&gt;</code> tags for?"}, {"owner": {"reputation": 51, "user_id": 11858864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pL5zQp49JvE/AAAAAAAAAAI/AAAAAAAABGY/WLbLGOetw-w/photo.jpg?sz=128", "display_name": "NateVang", "link": "https://stackoverflow.com/users/11858864/natevang"}, "reply_to_user": {"reputation": 3757, "user_id": 7368985, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fYb4sP0Jt1I/AAAAAAAAAAI/AAAAAAAAEso/pV8UEu1dVHg/photo.jpg?sz=128", "display_name": "Ghassen Louhaichi", "link": "https://stackoverflow.com/users/7368985/ghassen-louhaichi"}, "edited": false, "score": 0, "creation_date": 1569448778, "post_id": 58106857, "comment_id": 102604733, "body": "I just want to shuffle 2 elements with values 1 and 2. I changed it so its simple. They do get shuffled because the script does work. But, I want one element to be hidden from the 2 shuffled elements. @GhassenLouhaichi"}, {"owner": {"reputation": 3757, "user_id": 7368985, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fYb4sP0Jt1I/AAAAAAAAAAI/AAAAAAAAEso/pV8UEu1dVHg/photo.jpg?sz=128", "display_name": "Ghassen Louhaichi", "link": "https://stackoverflow.com/users/7368985/ghassen-louhaichi"}, "edited": false, "score": 0, "creation_date": 1569449020, "post_id": 58106857, "comment_id": 102604804, "body": "So in your code, you only have two elements to shuffle, not 100 like the Fiddle. If that&#39;s true, which of the two you want to show and which one you want to hide? What&#39;s the criteria?"}, {"owner": {"reputation": 51, "user_id": 11858864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pL5zQp49JvE/AAAAAAAAAAI/AAAAAAAABGY/WLbLGOetw-w/photo.jpg?sz=128", "display_name": "NateVang", "link": "https://stackoverflow.com/users/11858864/natevang"}, "reply_to_user": {"reputation": 3757, "user_id": 7368985, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fYb4sP0Jt1I/AAAAAAAAAAI/AAAAAAAAEso/pV8UEu1dVHg/photo.jpg?sz=128", "display_name": "Ghassen Louhaichi", "link": "https://stackoverflow.com/users/7368985/ghassen-louhaichi"}, "edited": false, "score": 0, "creation_date": 1569449164, "post_id": 58106857, "comment_id": 102604851, "body": "Well, I want to hide the element with the value 2. And only show the element with value 1 but, I want it to shuffle aswell. So it changes to value 2 on refresh. And then back to 1. Like usual. I just dont want the element with value 2 to be shown maybe hidden."}, {"owner": {"reputation": 3757, "user_id": 7368985, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fYb4sP0Jt1I/AAAAAAAAAAI/AAAAAAAAEso/pV8UEu1dVHg/photo.jpg?sz=128", "display_name": "Ghassen Louhaichi", "link": "https://stackoverflow.com/users/7368985/ghassen-louhaichi"}, "edited": false, "score": 0, "creation_date": 1569449393, "post_id": 58106857, "comment_id": 102604902, "body": "Sounds like you always want your 2 div to be hidden if I understood correctly. If so, how about styling it as follows: <code>&lt;div style=&quot;visibility: hidden;&quot;&gt;2&lt;&#47;div&gt;</code>? Is that what you expected?"}, {"owner": {"reputation": 51, "user_id": 11858864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pL5zQp49JvE/AAAAAAAAAAI/AAAAAAAABGY/WLbLGOetw-w/photo.jpg?sz=128", "display_name": "NateVang", "link": "https://stackoverflow.com/users/11858864/natevang"}, "reply_to_user": {"reputation": 3757, "user_id": 7368985, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fYb4sP0Jt1I/AAAAAAAAAAI/AAAAAAAAEso/pV8UEu1dVHg/photo.jpg?sz=128", "display_name": "Ghassen Louhaichi", "link": "https://stackoverflow.com/users/7368985/ghassen-louhaichi"}, "edited": false, "score": 1, "creation_date": 1569449833, "post_id": 58106857, "comment_id": 102605008, "body": "I figured it out all, I had to do was hide one element behind the content hah, but thanks nevertheless."}], "owner": {"reputation": 51, "user_id": 11858864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pL5zQp49JvE/AAAAAAAAAAI/AAAAAAAABGY/WLbLGOetw-w/photo.jpg?sz=128", "display_name": "NateVang", "link": "https://stackoverflow.com/users/11858864/natevang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569448699, "creation_date": 1569447400, "last_edit_date": 1569448699, "question_id": 58106857, "link": "https://stackoverflow.com/questions/58106857/hide-1-element-from-scrambled-elements", "title": "Hide 1 Element From Scrambled Elements", "body": "<p>I have a simple problem to solve, I really have no idea how to. So, I am using this javascript element scrambler. <a href=\"https://jsfiddle.net/C6LPY/2/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/C6LPY/2/</a>. And the element scrambler scrambles random divs with seperate numbers. Only the elements inside <code>&lt;div id=\"shuffle\"&gt;</code> get scrambled. But the point is, I don't want all scrambled elements to show. I only want one scrambled element to show. Every time, I only want one element to get scrambled and others get hidden. Maybe assign style=\"display: none;\" to other elements and only show 1 scrambled element. Obviously that one element always gets scrambled on refresh and others get hidden. My version of the javascript:</p>\n\n<pre><code>$(function () {\n    var parent = $(\"#shuffle\");\n    var divs = parent.children();\n    while (divs.length) {\n        parent.append(divs.splice(Math.floor(Math.random() * divs.length), 1)[0]);\n    }\n}); \n</code></pre>\n\n<pre><code>&lt;div id=\"shuffle\"&gt;\n&lt;div&gt;1&lt;/div&gt;\n&lt;div&gt;2&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "sweetalert", "sweetalert2"], "comments": [{"owner": {"reputation": 12321, "user_id": 9958942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbfa5b660283a00f1c8b9a6ce8d67e1d?s=128&d=identicon&r=PG&f=1", "display_name": "benvc", "link": "https://stackoverflow.com/users/9958942/benvc"}, "edited": false, "score": 0, "creation_date": 1569447485, "post_id": 58106834, "comment_id": 102604372, "body": "Not sure I am following but you may be looking for <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals\" rel=\"nofollow noreferrer\">template literals</a>"}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 12121679, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCgxA4gDDN05R_8Vs5d-zT_odUMGKe8G7LcQiUlBA=k-s128", "display_name": "Wohaho", "link": "https://stackoverflow.com/users/12121679/wohaho"}, "edited": false, "score": 0, "creation_date": 1569448405, "post_id": 58106873, "comment_id": 102604639, "body": "Awesome ! it help me thanks alot for your quick help."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 27, "user_id": 12121679, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCgxA4gDDN05R_8Vs5d-zT_odUMGKe8G7LcQiUlBA=k-s128", "display_name": "Wohaho", "link": "https://stackoverflow.com/users/12121679/wohaho"}, "edited": false, "score": 0, "creation_date": 1569448476, "post_id": 58106873, "comment_id": 102604655, "body": "This is something even a beginning programmer should know how to do. What was your confusion?"}, {"owner": {"reputation": 27, "user_id": 12121679, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCgxA4gDDN05R_8Vs5d-zT_odUMGKe8G7LcQiUlBA=k-s128", "display_name": "Wohaho", "link": "https://stackoverflow.com/users/12121679/wohaho"}, "edited": false, "score": 0, "creation_date": 1569449400, "post_id": 58106873, "comment_id": 102604904, "body": "Well I just beginning  to do something like this and when I check the docs for information about it I did not find it  or I have miss it. So that mean I have to read and learning more.."}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 1, "last_activity_date": 1569447490, "creation_date": 1569447490, "answer_id": 58106873, "question_id": 58106834, "link": "https://stackoverflow.com/questions/58106834/how-i-can-use-result-with-another-text-with-javascript/58106873#58106873", "title": "How I can use result with another text with JavaScript", "body": "<p>Use string concatenation:</p>\n\n<pre><code>            text: \"Your coupon for \" + result + \" was successfully added!\",\n\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 12121679, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCgxA4gDDN05R_8Vs5d-zT_odUMGKe8G7LcQiUlBA=k-s128", "display_name": "Wohaho", "link": "https://stackoverflow.com/users/12121679/wohaho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 58106873, "answer_count": 1, "score": 1, "last_activity_date": 1569941552, "creation_date": 1569447329, "last_edit_date": 1569941552, "question_id": 58106834, "link": "https://stackoverflow.com/questions/58106834/how-i-can-use-result-with-another-text-with-javascript", "title": "How I can use result with another text with JavaScript", "body": "<p>I am setting coupons things in my store but I want to do something with my JavaScript alter and I have no idea how to do it.</p>\n\n<pre><code>success: function (result) {\n    Swal.fire({\n        position: 'center',\n        type: 'success',\n        title: \"Coupon check\",\n        text: (result),\n        showConfirmButton: false,\n        timer: 1500\n    })\n}\n</code></pre>\n\n<p>This is my script function with result and my question is how I can do like this:</p>\n\n<blockquote>\n  <p>Your coupon for <code>(result)</code> was successfully added!</p>\n</blockquote>\n\n<p>As I do not know how I can use <code>(result)</code> in <code>\"</code> or <code>'</code>.</p>\n"}, {"tags": ["javascript", "amazon-s3", "aws-sdk", "aws-sdk-js"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 7061583, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155351464757814/picture?type=large", "display_name": "Richard Wattie", "link": "https://stackoverflow.com/users/7061583/richard-wattie"}, "is_accepted": false, "score": 2, "last_activity_date": 1578476616, "last_edit_date": 1578476616, "creation_date": 1578476149, "answer_id": 59643036, "question_id": 58106792, "link": "https://stackoverflow.com/questions/58106792/aws-sdk-javascript-promise-with-callback-httpuploadprogress/59643036#59643036", "title": "AWS SDK JavaScript Promise with callback httpUploadProgress", "body": "<p>I had the same problem. I'm not sure on your implemenatation of it but I think this is what you might be looking for...</p>\n\n<pre><code>function async uploadFile(){\n  var bucket = new AWS.S3({params: {Bucket: BUCKET_NAME}});\n  var fileChooser = document.getElementById('file');\n  var file = fileChooser.files[0];\n\n  if (file) {\n    console.log();\n    var opts = {queueSize: 1, partSize: 1024 * 1024 * 5};\n    var params = {Key: file.name, ContentType: file.type, Body: file};\n\n    var upload = s3.upload(params,opts)\n        .on('httpUploadProgress', function(evt) {\n          console.log(\"Uploaded :: \" + parseInt((evt.loaded * 100) / evt.total)+'%');\n        })\n        .promise();\n\n    await upload.then(function(err, data) {\n      console.log(err);\n      alert(\"File uploaded successfully.\");\n    });\n  }\n\n  return false;\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4683908, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9bB_9vuH_bM/AAAAAAAAAAI/AAAAAAAAAEE/EuTEm_iJPk0/photo.jpg?sz=128", "display_name": "Prateek Kumar", "link": "https://stackoverflow.com/users/4683908/prateek-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1044, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1578476616, "creation_date": 1569447098, "question_id": 58106792, "link": "https://stackoverflow.com/questions/58106792/aws-sdk-javascript-promise-with-callback-httpuploadprogress", "title": "AWS SDK JavaScript Promise with callback httpUploadProgress", "body": "<p>I am trying to get the httpUploadProgress using AWS S3 SDK JavaScript.\nUsing this lines I am able to see the expected result with the upload progress, but how to get the same using Promise(), I am using this in browser as external JS resource.</p>\n\n<p>Working example:</p>\n\n<pre><code>    function uploadFile(){\n        var bucket = new AWS.S3({params: {Bucket: BUCKET_NAME}});\n        var fileChooser = document.getElementById('file');\n        var file = fileChooser.files[0];\n        if (file) {\n            console.log();\n            var opts = {queueSize: 1, partSize: 1024 * 1024 * 5};\n            var params = {Key: file.name, ContentType: file.type, Body: file};\n            s3.upload(params,opts).on('httpUploadProgress', function(evt) {\n            console.log(\"Uploaded :: \" + parseInt((evt.loaded * 100) / evt.total)+'%');\n            }).send(function(err, data) {\n                console.log(err);\n                alert(\"File uploaded successfully.\");\n            });\n        }\n        return false;\n    }\n</code></pre>\n\n<p>Same I want with the promises.</p>\n\n<pre><code>function uploadFile(){\n        var bucket = new AWS.S3({params: {Bucket: BUCKET_NAME}});\n        var fileChooser = document.getElementById('file');\n        var file = fileChooser.files[0];\n        if (file) {\n            console.log();\n            var opts = {queueSize: 1, partSize: 1024 * 1024 * 5};\n            var params = {Key: file.name, ContentType: file.type, Body: file};\n            var promise = s3.upload(params,opts).promise();\n            promise()\n               .then(function(data){}, function(error){})\n        }\n        return false;\n    }\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "function", "getelementbyid"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1569447330, "post_id": 58106791, "comment_id": 102604318, "body": "<code>smth</code> should be <code>smth.value</code>."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 12008895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4acd29a222f55865ac6cb354cfa59f07?s=128&d=identicon&r=PG&f=1", "display_name": "Dimarco", "link": "https://stackoverflow.com/users/12008895/dimarco"}, "edited": false, "score": 0, "creation_date": 1569508801, "post_id": 58106840, "comment_id": 102627490, "body": "sorry, not the way I want it to be soived"}, {"owner": {"reputation": 51813, "user_id": 860099, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/125k3.jpg?s=128&g=1", "display_name": "Kamil Kie\u0142czewski", "link": "https://stackoverflow.com/users/860099/kamil-kie%c5%82czewski"}, "reply_to_user": {"reputation": 35, "user_id": 12008895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4acd29a222f55865ac6cb354cfa59f07?s=128&d=identicon&r=PG&f=1", "display_name": "Dimarco", "link": "https://stackoverflow.com/users/12008895/dimarco"}, "edited": false, "score": 0, "creation_date": 1569508892, "post_id": 58106840, "comment_id": 102627542, "body": "@Dimarco can you describe what is the way you want it to be solved?"}, {"owner": {"reputation": 51813, "user_id": 860099, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/125k3.jpg?s=128&g=1", "display_name": "Kamil Kie\u0142czewski", "link": "https://stackoverflow.com/users/860099/kamil-kie%c5%82czewski"}, "reply_to_user": {"reputation": 35, "user_id": 12008895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4acd29a222f55865ac6cb354cfa59f07?s=128&d=identicon&r=PG&f=1", "display_name": "Dimarco", "link": "https://stackoverflow.com/users/12008895/dimarco"}, "edited": false, "score": 0, "creation_date": 1569510183, "post_id": 58106840, "comment_id": 102628297, "body": "@Dimarco in code in your question you call only <code>Fill1()</code> - how do you want to call <code>prfunc()</code> ? There are many ways of doing this - you also use strange notation in that second function <code>... = Fill1.fill(text1);</code> what do you mean by this?"}, {"owner": {"reputation": 35, "user_id": 12008895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4acd29a222f55865ac6cb354cfa59f07?s=128&d=identicon&r=PG&f=1", "display_name": "Dimarco", "link": "https://stackoverflow.com/users/12008895/dimarco"}, "edited": false, "score": 0, "creation_date": 1569510936, "post_id": 58106840, "comment_id": 102628683, "body": "In the assignment I am supposed to use two functions: one for filling the array with the input and the other one for printing the array on the screen.."}, {"owner": {"reputation": 51813, "user_id": 860099, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/125k3.jpg?s=128&g=1", "display_name": "Kamil Kie\u0142czewski", "link": "https://stackoverflow.com/users/860099/kamil-kie%c5%82czewski"}, "reply_to_user": {"reputation": 35, "user_id": 12008895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4acd29a222f55865ac6cb354cfa59f07?s=128&d=identicon&r=PG&f=1", "display_name": "Dimarco", "link": "https://stackoverflow.com/users/12008895/dimarco"}, "edited": false, "score": 0, "creation_date": 1569511421, "post_id": 58106840, "comment_id": 102628905, "body": "@Dimarco I update answer - now we have 2 functions - it is ok? (previous simpler version is <a href=\"https://stackoverflow.com/revisions/58106840/1\">here</a>)"}], "tags": [], "owner": {"reputation": 51813, "user_id": 860099, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/125k3.jpg?s=128&g=1", "display_name": "Kamil Kie\u0142czewski", "link": "https://stackoverflow.com/users/860099/kamil-kie%c5%82czewski"}, "is_accepted": false, "score": 0, "last_activity_date": 1569511377, "last_edit_date": 1569511377, "creation_date": 1569447339, "answer_id": 58106840, "question_id": 58106791, "link": "https://stackoverflow.com/questions/58106791/how-to-use-array-fill-in-javascript-showing-the-text-or-number-inputed-by-the-us/58106840#58106840", "title": "How to use array fill in javascript showing the text or number inputed by the user?", "body": "<p>Try</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let array = Array(10);\r\n\r\nfunction Fill1() {\r\n    array.fill(smth.value)\r\n    prfunc();\r\n}\r\n\r\nfunction prfunc() {\r\n    answer.innerText = array;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Type whatever you want: &lt;input type=\"smth\" id=\"smth\"&gt;&lt;br&gt;\r\n&lt;button onclick=\"Fill1()\"&gt;Fill&lt;/button&gt;&lt;br&gt;\r\n&lt;div id=\"answer\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 56, "user_id": 11705015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a12f0a8b27dbcda318d6b8cd9b97515b?s=128&d=identicon&r=PG&f=1", "display_name": "Count Spatula", "link": "https://stackoverflow.com/users/11705015/count-spatula"}, "is_accepted": true, "score": 0, "last_activity_date": 1569511935, "creation_date": 1569511935, "answer_id": 58120219, "question_id": 58106791, "link": "https://stackoverflow.com/questions/58106791/how-to-use-array-fill-in-javascript-showing-the-text-or-number-inputed-by-the-us/58120219#58120219", "title": "How to use array fill in javascript showing the text or number inputed by the user?", "body": "<p>Rando aside - I believe array.fill doesn't work in IE11, if you have any requirements around browser support.  Dunno about any other browsers, just ran into that last week on a project.</p>\n\n<p>Who uses IE11 nowadays?  Apparently a few thousand of our customers.</p>\n"}], "owner": {"reputation": 35, "user_id": 12008895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4acd29a222f55865ac6cb354cfa59f07?s=128&d=identicon&r=PG&f=1", "display_name": "Dimarco", "link": "https://stackoverflow.com/users/12008895/dimarco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 58120219, "answer_count": 2, "score": 1, "last_activity_date": 1569511935, "creation_date": 1569447098, "last_edit_date": 1569450094, "question_id": 58106791, "link": "https://stackoverflow.com/questions/58106791/how-to-use-array-fill-in-javascript-showing-the-text-or-number-inputed-by-the-us", "title": "How to use array fill in javascript showing the text or number inputed by the user?", "body": "<p>So one of my assignments is about that I should let the user type whatever he wants and then I have to fill the array with the input from the user, so it's basically could be number/s or text. I don't know if I should use getelementbyid.value or something else. </p>\n\n<p>SO here\u00b4s what I have so far: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Fill1();\r\n\r\nfunction Fill1() {\r\n  var text1 = document.getElementById(\"smth\").value;\r\n}\r\n\r\nfunction prfunc() {\r\n  document.getElementById(\"answer\").innerHTML = Fill1.fill(text1);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Type whatever you want: &lt;input type=\"smth\" id=\"smth\"&gt;&lt;br&gt;\r\n&lt;button onclick=\"Fill1()\"&gt;Fyll&lt;/button&gt;&lt;br&gt;\r\n&lt;div id=\"answer\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "constructor"], "comments": [{"owner": {"reputation": 181, "user_id": 11891458, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OQZrJ.jpg?s=128&g=1", "display_name": "GitPhilter", "link": "https://stackoverflow.com/users/11891458/gitphilter"}, "edited": false, "score": 0, "creation_date": 1569447208, "post_id": 58106780, "comment_id": 102604286, "body": "I dont know about javascript, but in plain java you can just add a default constructor, with no function parameters that assigns your default values to the classes / objects variables."}, {"owner": {"reputation": 3970, "user_id": 1499877, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/pzBP3.jpg?s=128&g=1", "display_name": "WOUNDEDStevenJones", "link": "https://stackoverflow.com/users/1499877/woundedstevenjones"}, "edited": false, "score": 0, "creation_date": 1569447383, "post_id": 58106780, "comment_id": 102604342, "body": "The most extensible way I&#39;ve seen of doing this is by passing in a single associative array, and then merging the passed in array with a &quot;default&quot; array you have defined in the constructor. That way you can pass in only the variables you want by only defining those in the object initialization and you don&#39;t need to worry about passing in <code>null</code>s also. Though I don&#39;t think that&#39;d work in JS where associative arrays aren&#39;t allowed."}, {"owner": {"reputation": 181, "user_id": 11891458, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OQZrJ.jpg?s=128&g=1", "display_name": "GitPhilter", "link": "https://stackoverflow.com/users/11891458/gitphilter"}, "edited": false, "score": 0, "creation_date": 1569447486, "post_id": 58106780, "comment_id": 102604373, "body": "The question was tagged with &quot;java&quot; and &quot;javascript&quot; and i was looking for questions concerning java. after my comment OP edited his question and removed the java tag, so...but you are right. should I delete my initial comment or leave it as it is? I am new here..."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 181, "user_id": 11891458, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OQZrJ.jpg?s=128&g=1", "display_name": "GitPhilter", "link": "https://stackoverflow.com/users/11891458/gitphilter"}, "edited": false, "score": 0, "creation_date": 1569447537, "post_id": 58106780, "comment_id": 102604384, "body": "@GitPhilter Oh, I didn&#39;t see that the tag had been removed. (Not by the OP himself, btw)"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1569447643, "post_id": 58106780, "comment_id": 102604421, "body": "Yes, this is totally okay and idiomatic. You just have to care about falsy values - passing <code>0</code> as a value for the <code>endHour</code> won&#39;t work, it would become <code>23</code>. Test explicitly <code>endHour == null ? 23 : endHour</code> or <code>typeof endHour == &quot;number&quot; ? endHour : 23</code> or something like that."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1569447696, "post_id": 58106780, "comment_id": 102604435, "body": "Also, the more modern approach is using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Default_parameters\" rel=\"nofollow noreferrer\">default initialisers for the parameters</a> - which don&#39;t work with <code>null</code> though, only with <code>undefined</code>."}, {"owner": {"reputation": 394, "user_id": 9565800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2626d4aa76c9862a91440837d4f4544?s=128&d=identicon&r=PG&f=1", "display_name": "Young Scooter", "link": "https://stackoverflow.com/users/9565800/young-scooter"}, "reply_to_user": {"reputation": 181, "user_id": 11891458, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OQZrJ.jpg?s=128&g=1", "display_name": "GitPhilter", "link": "https://stackoverflow.com/users/11891458/gitphilter"}, "edited": false, "score": 0, "creation_date": 1569447726, "post_id": 58106780, "comment_id": 102604444, "body": "@GitPhilter I didn&#39;t change it that was somebody else. I assume the default constructor is only ran if i define the object with no parameters such as new plotObj()?"}, {"owner": {"reputation": 394, "user_id": 9565800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2626d4aa76c9862a91440837d4f4544?s=128&d=identicon&r=PG&f=1", "display_name": "Young Scooter", "link": "https://stackoverflow.com/users/9565800/young-scooter"}, "reply_to_user": {"reputation": 3970, "user_id": 1499877, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/pzBP3.jpg?s=128&g=1", "display_name": "WOUNDEDStevenJones", "link": "https://stackoverflow.com/users/1499877/woundedstevenjones"}, "edited": false, "score": 0, "creation_date": 1569447754, "post_id": 58106780, "comment_id": 102604453, "body": "@WOUNDEDStevenJones this is a good idea, but seems like a bit more work. Is there anything wrong with what I did using the ORs?"}, {"owner": {"reputation": 181, "user_id": 11891458, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OQZrJ.jpg?s=128&g=1", "display_name": "GitPhilter", "link": "https://stackoverflow.com/users/11891458/gitphilter"}, "edited": false, "score": 0, "creation_date": 1569447958, "post_id": 58106780, "comment_id": 102604515, "body": "@Young Scooter I have never worked with JavaScript, but a quick research tought me that you cannot overload functions in JavaScript, so I can give you no help, sorry."}, {"owner": {"reputation": 3970, "user_id": 1499877, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/pzBP3.jpg?s=128&g=1", "display_name": "WOUNDEDStevenJones", "link": "https://stackoverflow.com/users/1499877/woundedstevenjones"}, "edited": false, "score": 0, "creation_date": 1569448042, "post_id": 58106780, "comment_id": 102604533, "body": "@YoungScooter <i>Wrong?</i> No - as long as you&#39;ve read the duplicate post talking about the pro/cons. And idk if this is possible in javascript, but <a href=\"https://www.grzegorowski.com/php-default-values-with-array_merge\" rel=\"nofollow noreferrer\">grzegorowski.com/php-default-values-with-array_merge</a> shows the example of what I was describing. The benefit of this approach is that you don&#39;t need to pass <code>null</code>s for unknown parameters. But realistically I&#39;m not sure if there&#39;s a difference between what you&#39;re doing and just defining defaults in the arguments anyway (if you set the defaults to be <code>null</code>). Either way you&#39;re having to pass in <code>null</code> for unknown values."}, {"owner": {"reputation": 394, "user_id": 9565800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2626d4aa76c9862a91440837d4f4544?s=128&d=identicon&r=PG&f=1", "display_name": "Young Scooter", "link": "https://stackoverflow.com/users/9565800/young-scooter"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1569448087, "post_id": 58106780, "comment_id": 102604542, "body": "@Bergi thank you! Both of your points are awesome. I do need to watch out for 0s, great point. And also the default initializers seem very useful for this exact case, thanks."}, {"owner": {"reputation": 394, "user_id": 9565800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2626d4aa76c9862a91440837d4f4544?s=128&d=identicon&r=PG&f=1", "display_name": "Young Scooter", "link": "https://stackoverflow.com/users/9565800/young-scooter"}, "reply_to_user": {"reputation": 3970, "user_id": 1499877, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/pzBP3.jpg?s=128&g=1", "display_name": "WOUNDEDStevenJones", "link": "https://stackoverflow.com/users/1499877/woundedstevenjones"}, "edited": false, "score": 0, "creation_date": 1569448231, "post_id": 58106780, "comment_id": 102604589, "body": "@WOUNDEDStevenJones thanks I get what you&#39;re saying"}], "owner": {"reputation": 394, "user_id": 9565800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2626d4aa76c9862a91440837d4f4544?s=128&d=identicon&r=PG&f=1", "display_name": "Young Scooter", "link": "https://stackoverflow.com/users/9565800/young-scooter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 21, "favorite_count": 0, "closed_date": 1569447483, "answer_count": 0, "score": 0, "last_activity_date": 1569447237, "creation_date": 1569447023, "last_edit_date": 1569447237, "question_id": 58106780, "link": "https://stackoverflow.com/questions/58106780/is-it-bad-to-set-backup-values-for-attributes-in-your-constructor-if-no-values-a", "closed_reason": "Duplicate", "title": "Is it bad to set backup values for attributes in your constructor if no values are passed in", "body": "<p>I am attempting to create a class in javascript to immitate the defined schema of a java object as opposed to a chaotic/schemaless JSON object. Is it okay to use OR (||) as I did to initialize values if they are missing in the initiation of an instance. For example,</p>\n\n<pre><code> class PlotObj {\n\n    constructor(startHour, startMin, endHour, endMin) {\n        this.startHour =startHour || 0;\n        this.startMin =startMin || 0;\n\n        this.endHour =endHour || 23;\n        this.endMin =endMin || 54;\n    }        \n}\n\nlet obj = new PlotObj(null, null, 5, 40)\n</code></pre>\n\n<p>Or is there a better way to acheive this. I know you can initialize them above the constructor in the class, but I want to be able to pass parameters from any of the positions, like the example shown, where I only pass the 3rd and 4th. I would also like to, of course, be able to send the 1st and 2nd, or 1st and 3rd, and so on, any combination. Thanks!</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1569447159, "post_id": 58106716, "comment_id": 102604272, "body": "Did you mean that file one actually imports file three, not file two? Please show the complete code, including the <code>require</code> statement in that file one, and also the export statements in the other modules."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1569447216, "post_id": 58106716, "comment_id": 102604290, "body": "Sounds like a typo. The parameter of your <code>sendUpdate</code> function is called <code>note</code>, but you are trying to pass a <code>user</code> variable to the <code>getUser</code> call."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1569449091, "post_id": 58106716, "comment_id": 102604825, "body": "The fact that they&#39;re from separate files shouldn&#39;t make a difference. Calling an <code>async</code> function with <code>await</code> should return what the function returns. Where do you set the variable <code>user</code> in file three?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1569449177, "post_id": 58106716, "comment_id": 102604856, "body": "@Bergi A note is probably not a username, so that doesn&#39;t seem likely. But passing an undefined <code>user</code> variable is probably the problem."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1569449270, "post_id": 58106716, "comment_id": 102604871, "body": "What is all this supposed to be doing? You&#39;re apparently trying to send a note to a user, but which user are you sending it to?"}, {"owner": {"reputation": 149, "user_id": 6077613, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b6d708b9e500e051a2c44255606ca035?s=128&d=identicon&r=PG&f=1", "display_name": "mtorn", "link": "https://stackoverflow.com/users/6077613/mtorn"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1569473412, "post_id": 58106716, "comment_id": 102609386, "body": "@Bergi file one requires file three yes (sorry for the typo). File three has sendUpdate in module.exports and is working."}, {"owner": {"reputation": 149, "user_id": 6077613, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b6d708b9e500e051a2c44255606ca035?s=128&d=identicon&r=PG&f=1", "display_name": "mtorn", "link": "https://stackoverflow.com/users/6077613/mtorn"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1569473991, "post_id": 58106716, "comment_id": 102609537, "body": "@Barmar exactly. The whole gist of it is that note is being sent in from different places depending on what the user is doing, logging in, updating password etc. Just a simple string. But I would like for the callback logic for getting the user (lets say user.id) in file three instead of passing it together in file one every time - because that would require some redundant code. The only thing that changes over time is &quot;note&quot;.  In file three I want them &quot;merged&quot;, simply put. But user is undefined."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1569487926, "post_id": 58106716, "comment_id": 102615643, "body": "@mtorn But where should it be getting the user from? Where is the &quot;current user&quot; (or whatever) stored, which entity knows about it?"}], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 6077613, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b6d708b9e500e051a2c44255606ca035?s=128&d=identicon&r=PG&f=1", "display_name": "mtorn", "link": "https://stackoverflow.com/users/6077613/mtorn"}, "edited": false, "score": 0, "creation_date": 1569474051, "post_id": 58107344, "comment_id": 102609558, "body": "Yes, Node. I am using exports and requiring them."}], "tags": [], "owner": {"reputation": 323, "user_id": 7095512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9df95894542801ce147bfe794c089ed0?s=128&d=identicon&r=PG&f=1", "display_name": "Artur", "link": "https://stackoverflow.com/users/7095512/artur"}, "is_accepted": false, "score": 0, "last_activity_date": 1569450606, "creation_date": 1569450606, "answer_id": 58107344, "question_id": 58106716, "link": "https://stackoverflow.com/questions/58106716/js-functions-with-different-parameters-communicating-results/58107344#58107344", "title": "JS functions with different parameters communicating results", "body": "<p>I suppose you are using Node? If that is that case you need to use <code>exports</code> to make them available via <code>require</code>. <a href=\"https://nodejs.org/api/modules.html\" rel=\"nofollow noreferrer\">Here's some doc</a></p>\n"}, {"comments": [{"owner": {"reputation": 149, "user_id": 6077613, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b6d708b9e500e051a2c44255606ca035?s=128&d=identicon&r=PG&f=1", "display_name": "mtorn", "link": "https://stackoverflow.com/users/6077613/mtorn"}, "edited": false, "score": 0, "creation_date": 1569475426, "post_id": 58109982, "comment_id": 102609988, "body": "First log (user) shows the id, correct. Second log (result) shows an array with information depending on parameter &quot;user&quot;.   Everything works from there. But in file three I can&#39;t seem to just access the result."}, {"owner": {"reputation": 23906, "user_id": 459233, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/23bfb69cb2c8a6a028d2376b12db4a73?s=128&d=identicon&r=PG", "display_name": "Tudor Constantin", "link": "https://stackoverflow.com/users/459233/tudor-constantin"}, "reply_to_user": {"reputation": 149, "user_id": 6077613, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b6d708b9e500e051a2c44255606ca035?s=128&d=identicon&r=PG&f=1", "display_name": "mtorn", "link": "https://stackoverflow.com/users/6077613/mtorn"}, "edited": false, "score": 0, "creation_date": 1569476036, "post_id": 58109982, "comment_id": 102610201, "body": "so you&#39;re saying that between the <code>return result;</code> in <code>getUser()</code> and <code>console.log(total)</code> in <code>sendUpdate()</code>, the returned value disappears somehow? are you sure you&#39;re looking at the correct log messages? add some differentiating extra strings to each <code>console.log()</code> so you&#39;re sure interpreting the right messages."}, {"owner": {"reputation": 149, "user_id": 6077613, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b6d708b9e500e051a2c44255606ca035?s=128&d=identicon&r=PG&f=1", "display_name": "mtorn", "link": "https://stackoverflow.com/users/6077613/mtorn"}, "edited": false, "score": 0, "creation_date": 1569476712, "post_id": 58109982, "comment_id": 102610469, "body": "Yes. I guess it might be because in file two param user has a value set to it when it runs, but in file three nothing is. So by calling two.getUser with param (user) it overrides the existing value and sets it to.. nothing. While running getUser(user) in file two (its original place) works like a charm."}, {"owner": {"reputation": 23906, "user_id": 459233, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/23bfb69cb2c8a6a028d2376b12db4a73?s=128&d=identicon&r=PG", "display_name": "Tudor Constantin", "link": "https://stackoverflow.com/users/459233/tudor-constantin"}, "reply_to_user": {"reputation": 149, "user_id": 6077613, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b6d708b9e500e051a2c44255606ca035?s=128&d=identicon&r=PG&f=1", "display_name": "mtorn", "link": "https://stackoverflow.com/users/6077613/mtorn"}, "edited": false, "score": 0, "creation_date": 1569482409, "post_id": 58109982, "comment_id": 102612896, "body": "I&#39;ve edited my answer in the light of your latest comment."}], "tags": [], "owner": {"reputation": 23906, "user_id": 459233, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/23bfb69cb2c8a6a028d2376b12db4a73?s=128&d=identicon&r=PG", "display_name": "Tudor Constantin", "link": "https://stackoverflow.com/users/459233/tudor-constantin"}, "is_accepted": false, "score": 0, "last_activity_date": 1569477161, "last_edit_date": 1569477161, "creation_date": 1569474994, "answer_id": 58109982, "question_id": 58106716, "link": "https://stackoverflow.com/questions/58106716/js-functions-with-different-parameters-communicating-results/58109982#58109982", "title": "JS functions with different parameters communicating results", "body": "<p>Modify <code>file two</code> to the following to add some debug messages, so you'll see what's wrong:</p>\n\n<pre><code>async function getUser(user) {\n  console.log(`====== executing getUser() in filetwo with param: `, user);\n  const result = await otherfileFarAway.otherFunctionFarAway(user);\n  console.log(`====== returning `, result);\n  return result;\n}\n\nmodule.exports = {\n    getUser\n}\n</code></pre>\n\n<p>Your questions seems to be <em>How would I actually just call getUser in file two from file three and get the value it is getting in file two?</em>. </p>\n\n<p>The answer is that you're already calling that <code>filetwo.getUser(...)</code> properly, because <strong>otherwise you'd get a syntax error</strong>. It's probably that you're not sending the right parameter to it, so <code>otherFunctionFarAway(...)</code> returns <code>nothing</code>/<code>undefined</code>/<code>null</code>.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>After your comment regarding overriding the <code>user</code> var in filetwo, a solution would be, something along the lines:</p>\n\n<ol>\n<li>create and export another function in filetwo which will export the <em>correct</em> user variable</li>\n<li>in <code>sendUpdate(...)</code>, before calling the present <code>getUser(note)</code> function, make another call to the above function</li>\n<li>call <code>getUser()</code> with the result from point 2.</li>\n</ol>\n"}], "owner": {"reputation": 149, "user_id": 6077613, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b6d708b9e500e051a2c44255606ca035?s=128&d=identicon&r=PG&f=1", "display_name": "mtorn", "link": "https://stackoverflow.com/users/6077613/mtorn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1569477161, "creation_date": 1569446670, "last_edit_date": 1569474372, "question_id": 58106716, "link": "https://stackoverflow.com/questions/58106716/js-functions-with-different-parameters-communicating-results", "title": "JS functions with different parameters communicating results", "body": "<p>I'm not sure if this is possible and can't wrap my head around it. I have a larger project where I want to combine a couple of callbacks in different files into one and simply get the data from the different functions. My issue is that I can't seem to fetch the last part which I'll demonstrate in the code.</p>\n\n<p>File one, importing file three and calling the sendUpdate function with 'note' as param.</p>\n\n<pre><code>const three = require(\"./three\")\nconst note = \"test\"\nthree.sendUpdate(note);\n</code></pre>\n\n<p>File two,</p>\n\n<pre><code>async function getUser(user) {\n  return await otherfileFarAway.otherFunctionFarAway(user);\n}\n\nmodule.exports = {\n    getUser\n}\n</code></pre>\n\n<p>File three, where I want to bundle these two up. I'm importing file two</p>\n\n<pre><code>const two = require(\"two\");\n\nasync function sendUpdate(note) {\n  const total = await two.getUser(user);\n  console.log(note); // Works\n  console.log(total); // Undefined, duuh\n\n  try {\n    const url\n      .concat(total)\n      .concat(\"/Notes\");\n    const result = await axios.post(\n      url,\n      {\n        Comment: note\n      },\n    );\n    return result.data;\n  } catch (error) {\n    logger.axiosError(error);\n    return null;\n  }\n}\n\n\nmodule.exports = {\n    sendUpdate\n}\n</code></pre>\n\n<p>How would I actually just call getUser in file two from file three and get the value it is getting in file two? Is that possible? If I call it without parameters I get nothing, if I send it with something I get undefined. If I define it beforehand with for example \"let user;\" I get nothing.</p>\n\n<p>What am I doing wrong or is it just simply not possible to get the returned value?</p>\n"}, {"tags": ["javascript"], "answers": [{"comments": [{"owner": {"reputation": 5245, "user_id": 2814241, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/9c8b17ae63b15f9342f91d072eff6e7f?s=128&d=identicon&r=PG&f=1", "display_name": "HappyCoder", "link": "https://stackoverflow.com/users/2814241/happycoder"}, "edited": false, "score": 1, "creation_date": 1569493531, "post_id": 58106842, "comment_id": 102618779, "body": "Thank you - this helped me solve the problem, I did not use this exactly but it lead me to the best solution for the method."}], "tags": [], "owner": {"reputation": 6198, "user_id": 2020002, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/t9iFY.jpg?s=128&g=1", "display_name": "Derek Pollard", "link": "https://stackoverflow.com/users/2020002/derek-pollard"}, "is_accepted": true, "score": 2, "last_activity_date": 1569447349, "creation_date": 1569447349, "answer_id": 58106842, "question_id": 58106711, "link": "https://stackoverflow.com/questions/58106711/how-to-pass-multiple-element-to-a-settimeout-function/58106842#58106842", "title": "How to pass multiple element to a setTimeOut function", "body": "<p>Javascript resolves the timeouts <strong>AFTER</strong> The loop has already ran. Knowing this, we'd want to bind the value <code>x</code> to the anonymous function and pass it through like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>for (z = 0; z &lt; 7; z++) {\r\n  x = Math.floor((Math.random() * 26));\r\n  //element.click();            \r\n  console.log('No timeout ', x);\r\n\r\n  setTimeout(function(x) {\r\n    console.log('timeout ', x);\r\n  }.bind(this, x), 200);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Hope this helps</p>\n"}, {"tags": [], "owner": {"reputation": 658, "user_id": 7699428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cyG9L.jpg?s=128&g=1", "display_name": "N. Djokic", "link": "https://stackoverflow.com/users/7699428/n-djokic"}, "is_accepted": false, "score": 2, "last_activity_date": 1569447766, "last_edit_date": 1569447766, "creation_date": 1569447421, "answer_id": 58106865, "question_id": 58106711, "link": "https://stackoverflow.com/questions/58106711/how-to-pass-multiple-element-to-a-settimeout-function/58106865#58106865", "title": "How to pass multiple element to a setTimeOut function", "body": "<p>setTimeout function is asynchronous, so basically what is happening that loop will iterate until the end before setTimeout is called, so it will set z to 7. \nYou will need something like this to achieve what you want: </p>\n\n<pre><code>(function loop(z, length) {\n  if (z&gt;= length) {\n    return;\n  }\n  setTimeout(function() {\n    console.log('timeout ', z);\n    element.click();\n  }, 200);\n })(1, 7);\n</code></pre>\n\n<p>That is called IIFE pattern, you can read more about it <a href=\"https://medium.com/javascript-in-plain-english/https-medium-com-javascript-in-plain-english-stop-feeling-iffy-about-using-an-iife-7b0292aba174\" rel=\"nofollow noreferrer\">HERE</a></p>\n\n<p>More detailed explanation about your particular problem you can find <a href=\"https://stackoverflow.com/questions/5226285/settimeout-in-for-loop-does-not-print-consecutive-values\">HERE</a></p>\n"}], "owner": {"reputation": 5245, "user_id": 2814241, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/9c8b17ae63b15f9342f91d072eff6e7f?s=128&d=identicon&r=PG&f=1", "display_name": "HappyCoder", "link": "https://stackoverflow.com/users/2814241/happycoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "closed_date": 1569473899, "accepted_answer_id": 58106842, "answer_count": 2, "score": 1, "last_activity_date": 1569473718, "creation_date": 1569446650, "last_edit_date": 1569473718, "question_id": 58106711, "link": "https://stackoverflow.com/questions/58106711/how-to-pass-multiple-element-to-a-settimeout-function", "closed_reason": "Duplicate", "title": "How to pass multiple element to a setTimeOut function", "body": "<p>I have the following code:</p>\n\n<pre><code>for (z=0;z&lt;7;z++) {\n  x = Math.floor((Math.random() * 7));\n  //I am pulling some class names from an array here\n  var element = document.querySelector(\".\" + map[x]);\n  //element.click();            \n  console.log('No timeout ', x);\n\n  setTimeout(function() {\n    console.log('timeout ', x);\n    element.click();\n  }, 200);\n}\n</code></pre>\n\n<p>Essentially, I am expecting to click a variety of random elements, however, when adding the click method in the setTimeOut function, I discovered that it clicked the same element. But when executed in the main code, it worked as expected, just a lot faster than I want!</p>\n\n<p>To test this, I added some logs. The <strong>No timeout</strong> log produces numbers: 1,2,3,4,5,6,7 while the <strong>timeout</strong> log produces numbers: 7,7,7,7,7,7,7 (the last number from the <strong>No timeout</strong> log...</p>\n\n<p>This explains why the same element is being clicked, I am not 100% sure why this is the case though?</p>\n"}, {"tags": ["javascript", "reactjs", "react-hooks"], "comments": [{"owner": {"reputation": 765, "user_id": 8111610, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/d0a1b70f5507cdb7ff18c0c0c57200ae?s=128&d=identicon&r=PG", "display_name": "Maiya", "link": "https://stackoverflow.com/users/8111610/maiya"}, "edited": false, "score": 1, "creation_date": 1569447696, "post_id": 58106664, "comment_id": 102604436, "body": "React will not know that just one key in the object (that is stored to the state) has changed.  You need to replace the entire object all together.  Do this by copying the object that is in the state (creating a new object), changing that object with the value you want to add.  Then, store this new object to the state.  In other words entirely replace the original object."}, {"owner": {"reputation": 765, "user_id": 8111610, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/d0a1b70f5507cdb7ff18c0c0c57200ae?s=128&d=identicon&r=PG", "display_name": "Maiya", "link": "https://stackoverflow.com/users/8111610/maiya"}, "edited": false, "score": 1, "creation_date": 1569447704, "post_id": 58106664, "comment_id": 102604440, "body": "<a href=\"https://stackoverflow.com/questions/43638938/updating-an-object-with-setstate-in-react\" title=\"updating an object with setstate in react\">stackoverflow.com/questions/43638938/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 509, "user_id": 7254473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fkwvm.jpg?s=128&g=1", "display_name": "Jonny B", "link": "https://stackoverflow.com/users/7254473/jonny-b"}, "edited": false, "score": 1, "creation_date": 1569522213, "post_id": 58106933, "comment_id": 102633901, "body": "Thank you for your answer!"}, {"owner": {"reputation": 178, "user_id": 4528334, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-hG-wwgWTjuE/AAAAAAAAAAI/AAAAAAAAAIM/FJcpr6XSCs0/photo.jpg?sz=128", "display_name": "Praveen Saboji", "link": "https://stackoverflow.com/users/4528334/praveen-saboji"}, "edited": false, "score": 0, "creation_date": 1591169504, "post_id": 58106933, "comment_id": 109949427, "body": "I tried this solution but it didn&#39;t work, by copying the object or array into new variable and call respective setfunction call, but still it didn&#39;t update children elements"}, {"owner": {"reputation": 765, "user_id": 8111610, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/d0a1b70f5507cdb7ff18c0c0c57200ae?s=128&d=identicon&r=PG", "display_name": "Maiya", "link": "https://stackoverflow.com/users/8111610/maiya"}, "edited": false, "score": 0, "creation_date": 1591441205, "post_id": 58106933, "comment_id": 110060025, "body": "It is not that you simply set it to a new variable, it is that you create a whole different object. If I have var A = data.  And then I say var B = data. Now, var B is pointing to the same object that var A is pointing to.  (Look up &quot;pass by reference&quot; vs. &quot;pass by value&quot; to understand why). Are you being sure to copy your original object or array as a totally new object or array?"}], "tags": [], "owner": {"reputation": 765, "user_id": 8111610, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/d0a1b70f5507cdb7ff18c0c0c57200ae?s=128&d=identicon&r=PG", "display_name": "Maiya", "link": "https://stackoverflow.com/users/8111610/maiya"}, "is_accepted": true, "score": 12, "last_activity_date": 1570561978, "last_edit_date": 1570561978, "creation_date": 1569447873, "answer_id": 58106933, "question_id": 58106664, "link": "https://stackoverflow.com/questions/58106664/react-usestate-hook-not-triggering-re-render-of-child-component/58106933#58106933", "title": "React useState hook not triggering re-render of child component", "body": "<p>In order for React to know that something has changed in the state, you need to replace the current object with an entirely new object.  Currently, react sees that it is the same object, so does nothing.  It does not search the object to see if any properties have changed in it.</p>\n\n<p>In your handleChange event handler, you have:</p>\n\n<pre><code>let d = data;\n</code></pre>\n\n<p>This is not copying the data object.  Instead, now the variable \"d\" is pointing to the same object (in memory) that the variable \"data\" points to.</p>\n\n<p>(For more info, read about \"pass by reference\" vs \"pass by value\").</p>\n\n<p>To fix that, see the destructuring/ copying below:</p>\n\n<pre><code>const [data, setData] = useState(props.data)\n\nconst handleChange = event =&gt; {\n        let newData = {...data} //copy the object\n        newData.assignCategory = event.target.value;\n        setData(newData);\n };\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1227, "user_id": 6791970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84ac3b1930260730595c60a984b323b1?s=128&d=identicon&r=PG", "display_name": "Dylan w", "link": "https://stackoverflow.com/users/6791970/dylan-w"}, "is_accepted": false, "score": 0, "last_activity_date": 1603252269, "creation_date": 1603252269, "answer_id": 64456421, "question_id": 58106664, "link": "https://stackoverflow.com/questions/58106664/react-usestate-hook-not-triggering-re-render-of-child-component/64456421#64456421", "title": "React useState hook not triggering re-render of child component", "body": "<p>For me I had this issue with HTML5 video not updating when the url updated by <code>setState</code>. I also was already doing the above as mentioned by Maiya.</p>\n<p>My fix was by adding a <code>key</code> to the element.</p>\n<p>e.g.</p>\n<p><code>&lt;video key={ item.videoUrl } /&gt;</code></p>\n"}], "owner": {"reputation": 509, "user_id": 7254473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fkwvm.jpg?s=128&g=1", "display_name": "Jonny B", "link": "https://stackoverflow.com/users/7254473/jonny-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7913, "favorite_count": 0, "accepted_answer_id": 58106933, "answer_count": 2, "score": 3, "last_activity_date": 1603252269, "creation_date": 1569446431, "question_id": 58106664, "link": "https://stackoverflow.com/questions/58106664/react-usestate-hook-not-triggering-re-render-of-child-component", "title": "React useState hook not triggering re-render of child component", "body": "<p>I have a parent functional component <code>&lt;EditCard/&gt;</code> that is a modal opened when the edit table row button is selected. This edit card contains a state variable called <code>data</code> which consists of the data from the table row being edited. I am setting/modifying state on <code>&lt;EditCard/&gt;</code> with the <code>useState</code> hook. </p>\n\n<p><code>&lt;EditCard/&gt;</code> has a child component <code>&lt;CategoryDropdown/&gt;</code> which is a dropdown that accepts a prop <code>data.assignCategory</code> as its selected value and a callback <code>handleChange()</code> which updates the state value <code>data</code> with the value selected from the dropdown.</p>\n\n<p>When I select a new value from the dropdown <code>handleChange()</code> is called and <code>setData()</code> is called and I see the state being updated but <code>&lt;CategoryDropdown/&gt;</code> is not re-rendered with the new selected value.</p>\n\n<p><strong>EditCard Component Code</strong></p>\n\n<pre><code>export default function EditCard(props) {\n    const [data, setData] = useState(props.data);\n\n    const handleChange = () =&gt; event =&gt; {\n        let d = data;\n        d.assignCategory = event.target.value;\n        setData(d);\n    };\n\n    let assignCategoryCol = data.assignCategory !== undefined ? &lt;AssignCategoryCol data={data} handleChange={handleChange}/&gt; : &lt;&gt;&lt;/&gt;;\n\n    return (\n        &lt;div&gt;\n            {assignCategoryCol}\n            &lt;Button&gt;Update&lt;/Button&gt;\n        &lt;/div&gt;\n    )\n}\n\n{props.data.bucketTotal}`} &lt;Lock/&gt;&lt;/Typography&gt;)\n};\n\nconst AssignCategoryCol = (props) =&gt; {\n    return (\n        &lt;CategoryDropdown id={props.data.id} assignedCategory={props.data.assignCategory} handleDropdownChange={props.handleChange}/&gt;)\n};\n\nconst useStyles = makeStyles(theme =&gt; ({}));\n</code></pre>\n\n<p><strong>CategoryDropdown Component</strong></p>\n\n<pre><code>class CategoryDropdown extends Component {\n    constructor(props) {\n        super(props);\n        //TODO Get Categories from DB and set default\n        this.state = {\n            categories: ['Select One', 'Category1', 'Category2', 'Category3'],\n        };\n    }\n\n    render() {\n        return (\n            &lt;div id={'categoryDropdown'}&gt;\n                &lt;Select onChange={this.props.handleDropdownChange(this.props.id)} value={this.props.assignedCategory}&gt;\n                    {this.state.categories.map((category) =&gt; {\n                        return &lt;MenuItem value={category}&gt;{category}&lt;/MenuItem&gt;\n                    })}\n                &lt;/Select&gt;\n            &lt;/div&gt;\n        )\n    }\n}\n\n\nconst styles = theme =&gt; ({});\n\nexport default withStyles(styles)(CategoryDropdown)\n</code></pre>\n"}, {"tags": ["javascript", "bots", "discord", "discord.js"], "comments": [{"owner": {"reputation": 182, "user_id": 11427881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/825a9e2930557d2ed2bf4555aca0846d?s=128&d=identicon&r=PG&f=1", "display_name": "Steam gamer", "link": "https://stackoverflow.com/users/11427881/steam-gamer"}, "edited": false, "score": 0, "creation_date": 1569565422, "post_id": 58106596, "comment_id": 102644946, "body": "Define &#39;does not work&#39;."}, {"owner": {"reputation": 23, "user_id": 12043623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fcc710f91a1a7da1165f98b01681dbf?s=128&d=identicon&r=PG&f=1", "display_name": "mHub-Coding", "link": "https://stackoverflow.com/users/12043623/mhub-coding"}, "reply_to_user": {"reputation": 182, "user_id": 11427881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/825a9e2930557d2ed2bf4555aca0846d?s=128&d=identicon&r=PG&f=1", "display_name": "Steam gamer", "link": "https://stackoverflow.com/users/11427881/steam-gamer"}, "edited": false, "score": 0, "creation_date": 1569616096, "post_id": 58106596, "comment_id": 102668157, "body": "It quite simply does nothing, no errors, no console message, nothing. It acts as if the code wasn&#39;t there. Everything else works, just not the part where it detects the reaction and sends the message with what the reaction is."}], "answers": [{"tags": [], "owner": {"reputation": 481, "user_id": 12095554, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDRWtvPTDj9zqS_ugeXDsoX_uWlDjiixCHqYjDcgw=k-s128", "display_name": "Thomas Reichmann", "link": "https://stackoverflow.com/users/12095554/thomas-reichmann"}, "is_accepted": false, "score": 0, "last_activity_date": 1569949628, "creation_date": 1569949628, "answer_id": 58189416, "question_id": 58106596, "link": "https://stackoverflow.com/questions/58106596/how-to-detect-a-reaction-on-an-embed-and-then-perform-an-action-depending-on-wh/58189416#58189416", "title": "How to detect a reaction on an embed, and then perform an action depending on what the reaction was?", "body": "<p>You need to call awaitReactions on the message, so in your code it would be \"m\", so the code should look something like this.</p>\n\n<pre><code>message.channel.send(embedOne)\n.then(m =&gt; {\n    m.react('\ud83d\udcb0')\n    .then(r =&gt; {\n        const reactFilter = (reaction, user) =&gt; reaction.emoji.name === '\ud83d\udcb0'\n        m.awaitReactions(reactFilter, { max: 1})\n        .then(collected =&gt; {\n            message.channel.send(`You reacted wtih ${reaction.emoji.name}`)\n            m.delete()\n    })\n    .catch(console.error)\n    })\n})\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 12043623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fcc710f91a1a7da1165f98b01681dbf?s=128&d=identicon&r=PG&f=1", "display_name": "mHub-Coding", "link": "https://stackoverflow.com/users/12043623/mhub-coding"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 303, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569949628, "creation_date": 1569445946, "last_edit_date": 1569446092, "question_id": 58106596, "link": "https://stackoverflow.com/questions/58106596/how-to-detect-a-reaction-on-an-embed-and-then-perform-an-action-depending-on-wh", "title": "How to detect a reaction on an embed, and then perform an action depending on what the reaction was?", "body": "<p>I have attempted to use several different types of a sort of reaction collector, and none of them seem to work, I will provide some code so that you can see what is the newest thing I have tried. </p>\n\n<p>To sum up my idea, I have the bot send an embed with text to a channel when a certain command is run, it sends the embed and then reacts with two different options, I want it to then await the user to choose one of those reactions (basically react again with one of the reactions the bot used) and then perform an action depending on which reaction the user chose, I want it to then delete the embed and then perform an action.</p>\n\n<pre><code>message.channel.send(embedOne)\n    .then(m =&gt; m.react('\ud83d\udcb0'))\n    .then(r =&gt; r.message.react('\ud83c\udf9f'))\n    .catch(m =&gt; {\n\n        console.error('Emoji failed to react.');\n    })\n    const reactFilter = (reaction, user) =&gt; reaction.emoji.name === '\ud83d\udcb0'\n        .then(embedOne =&gt; embedOne.awaitReactions(reactFilter, { max: 1}))\n        .then(collected =&gt; {\n\n            message.channel.send(`You reacted wtih ${reaction.emoji.name}`)\n            m.delete()\n        })\n        .catch(console.error)\n    }\n\n</code></pre>\n"}, {"tags": ["javascript", "math", "canvas"], "answers": [{"tags": [], "owner": {"reputation": 14452, "user_id": 917467, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a2ac78fe7434fd99ce7a484a47e7c337?s=128&d=identicon&r=PG&f=1", "display_name": "html_programmer", "link": "https://stackoverflow.com/users/917467/html-programmer"}, "is_accepted": false, "score": 0, "last_activity_date": 1569447443, "creation_date": 1569447443, "answer_id": 58106867, "question_id": 58106575, "link": "https://stackoverflow.com/questions/58106575/how-do-i-find-the-closest-rounded-values-according-to-a-specific-set-of-criteria/58106867#58106867", "title": "How do I find the closest rounded values according to a specific set of criteria", "body": "<p>I solved this with a simple function currently, probably there are better ways to fix this, but this should do for now.  </p>\n\n<pre><code>const buckets = [1, 2, 2.5, 5, 10, 25, 50, 100, 200, 250, 500, 1000];\n\nconst findPriceIntervalPerGridSquare = ({ minPrice, maxPrice, nrSquares }) =&gt; {\n  const priceRange = maxPrice - minPrice;\n\n  let idealBucket;\n  for(let bucket of buckets) {\n    if ((priceRange / nrSquares) &lt; bucket) {\n      idealBucket = bucket;\n      break;\n    }\n  }\n\n  return idealBucket;\n};\n</code></pre>\n\n<p>If you have something better, do let me know. </p>\n"}], "owner": {"reputation": 14452, "user_id": 917467, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a2ac78fe7434fd99ce7a484a47e7c337?s=128&d=identicon&r=PG&f=1", "display_name": "html_programmer", "link": "https://stackoverflow.com/users/917467/html-programmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569447443, "creation_date": 1569445830, "question_id": 58106575, "link": "https://stackoverflow.com/questions/58106575/how-do-i-find-the-closest-rounded-values-according-to-a-specific-set-of-criteria", "title": "How do I find the closest rounded values according to a specific set of criteria", "body": "<p>I am not well versed at math and deal with a particular problem drawing graphs on html5 canvas.  </p>\n\n<p>Given that I have: </p>\n\n<ul>\n<li>a price range between min and max price that I need to put on a Y axis </li>\n<li>A specific number of 'buckets' in which to divide this price range. </li>\n</ul>\n\n<p>For example, I could have historical Bitcoin prices: </p>\n\n<ul>\n<li>Min price of 2939,7 </li>\n<li>Max price of 4380 </li>\n<li>9 buckets to fill </li>\n</ul>\n\n<p>These prices however can be entirely different, so there is a certain order of magnitude: </p>\n\n<ul>\n<li>round by 500 </li>\n<li>round by 100  </li>\n<li>round by 50 </li>\n<li>round by 25 </li>\n<li>round by 10 </li>\n<li>round by 5 </li>\n<li>round by 2.5 or 2 </li>\n<li>round by 1 </li>\n<li>round by 0.5 </li>\n<li>round by 0.25 or 0.20 </li>\n<li>round by 0.10 </li>\n</ul>\n\n<p>If I were to zoom in on the map, the number of buckets wouldn't change, but the price levels would change.  </p>\n\n<p>A good example of what I want to achieve is something like TradingView: <a href=\"https://www.tradingview.com/chart/SsrQxrf0/\" rel=\"nofollow noreferrer\">https://www.tradingview.com/chart/SsrQxrf0/</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/la5CN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/la5CN.png\" alt=\"enter image description here\"></a></p>\n\n<p>But zoomed out: \n<a href=\"https://i.stack.imgur.com/O1wWa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O1wWa.png\" alt=\"enter image description here\"></a></p>\n\n<p>They have some way to even stretch these buckets dynamically.<br>\nI've been thinking about this, but it is really giving me brain tumor...<br>\nWhat is the right approach to start on this? </p>\n\n<p>I try to keep my basic strategy simple: </p>\n\n<ul>\n<li>Determine the number of pixels to use per bucket and calculate nr of buckets based on the canvas size; </li>\n<li>Find the total price range to be displayed and find out the price per bucket by simple division: price difference between min and max / nr of buckets; </li>\n<li>Now how to display these prices in nicely rounded buckets? </li>\n</ul>\n\n<p>In my example I would have a price range of about 113.7 per bucket.<br>\nBut I've got no idea how to use this information to get to the desired result, and that is to nicely round these buckets.  </p>\n\n<p>Any advice on strategies are welcome. </p>\n"}, {"tags": ["javascript", "html", "reactjs"], "comments": [{"owner": {"reputation": 5865, "user_id": 5298696, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_Lk3Kq_mN2c/AAAAAAAAAAI/AAAAAAAAAEQ/4UXPTXc6z6U/photo.jpg?sz=128", "display_name": "CollinD", "link": "https://stackoverflow.com/users/5298696/collind"}, "edited": false, "score": 3, "creation_date": 1569445524, "post_id": 58106485, "comment_id": 102603768, "body": "<a href=\"https://reactjs.org/docs/forms.html\" rel=\"nofollow noreferrer\">reactjs.org/docs/forms.html</a> Check out the &quot;handleChange&quot; function in the &quot;Controlled Components&quot; example"}, {"owner": {"reputation": 14231, "user_id": 1218980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75c6b54df38abce7b1c35f499a1d4a67?s=128&d=identicon&r=PG", "display_name": "Emile Bergeron", "link": "https://stackoverflow.com/users/1218980/emile-bergeron"}, "edited": false, "score": 0, "creation_date": 1569445848, "post_id": 58106485, "comment_id": 102603864, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/36683770/how-to-get-the-value-of-an-input-field-using-reactjs\">How to get the value of an input field using ReactJS?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1135, "user_id": 7537454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57a54dbe03841caee00dfe5dc2adf918?s=128&d=identicon&r=PG&f=1", "display_name": "Noob", "link": "https://stackoverflow.com/users/7537454/noob"}, "edited": false, "score": 1, "creation_date": 1569445772, "post_id": 58106539, "comment_id": 102603842, "body": "this answer is not entirely correct. Even though it solves the problem, he needs to understand about forms and state, and about &#39;single source of truth&#39; in React ."}], "tags": [], "owner": {"reputation": 9161, "user_id": 1300817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb3d737e1ebd4e4dec88267b5b930c2c?s=128&d=identicon&r=PG", "display_name": "Raul Rene", "link": "https://stackoverflow.com/users/1300817/raul-rene"}, "is_accepted": false, "score": 1, "last_activity_date": 1569445610, "creation_date": 1569445610, "answer_id": 58106539, "question_id": 58106485, "link": "https://stackoverflow.com/questions/58106485/reactjs-how-to-get-what-a-user-types-in-a-text-input-to-pass-to-a-callback-fun/58106539#58106539", "title": "ReactJS - How to get what a user types in a text input to pass to a callback function", "body": "<p>You have to capture the event in your callback and get the value from it</p>\n\n<pre><code>sendData = e =&gt; {\n    this.props.parentCallback(e.target.value)\n}\n</code></pre>\n\n<p>And change <code>onClick</code> to <code>onChange</code></p>\n"}, {"tags": [], "owner": {"reputation": 1580, "user_id": 8106018, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-novQgV5suIw/AAAAAAAAAAI/AAAAAAAAAKU/V-y-f6aAzFI/photo.jpg?sz=128", "display_name": "Ricardo Gonzalez", "link": "https://stackoverflow.com/users/8106018/ricardo-gonzalez"}, "is_accepted": false, "score": 0, "last_activity_date": 1569445623, "creation_date": 1569445623, "answer_id": 58106545, "question_id": 58106485, "link": "https://stackoverflow.com/questions/58106485/reactjs-how-to-get-what-a-user-types-in-a-text-input-to-pass-to-a-callback-fun/58106545#58106545", "title": "ReactJS - How to get what a user types in a text input to pass to a callback function", "body": "<p>You can add a onChange attribute to the input field , this will handle the typing as an event.</p>\n\n<pre><code>const handleChange = ( event ) =&gt; {\n console.log(event.target.value)\n}\n&lt;input onChange={handleChange} type=\"text\" name=\"name\" id=\"myTextInput\" /&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1163, "user_id": 11254516, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z244Y.jpg?s=128&g=1", "display_name": "syJSdev", "link": "https://stackoverflow.com/users/11254516/syjsdev"}, "is_accepted": false, "score": 0, "last_activity_date": 1569446455, "creation_date": 1569446455, "answer_id": 58106674, "question_id": 58106485, "link": "https://stackoverflow.com/questions/58106485/reactjs-how-to-get-what-a-user-types-in-a-text-input-to-pass-to-a-callback-fun/58106674#58106674", "title": "ReactJS - How to get what a user types in a text input to pass to a callback function", "body": "<p>you should make the <code>handleChange()</code> function in <code>ChangeState</code> class and get the value.</p>\n\n<p><strong><em>for example:</em></strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class ChangeState extends React.Component {\r\n\r\n    state = {value: ''};\r\n    \r\n    handleChange = (e) =&gt; {\r\n       this.setState({value: e.target.value});\r\n    }\r\n    \r\n    sendData = () =&gt; {\r\n        this.props.parentCallback(this.state.value);\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            &lt;div&gt;\r\n                &lt;input type=\"text\" value={this.state.value} onChange={this.handleChange} /&gt;\r\n                &lt;button onClick={this.sendData}&gt;\r\n                    Click to send data from child to parent component\r\n                &lt;/button&gt;\r\n            &lt;/div&gt;\r\n        );\r\n    }\r\n}\r\nclass Application extends React.Component {\r\n\r\n    state = {value: ''};\r\n    \r\n    handleClick = (value) =&gt; {\r\n       this.setState({value});\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            &lt;div&gt;\r\n                &lt;ChangeState parentCallback={this.handleClick} /&gt;\r\n                &lt;div style={{border: '1px solid red', width: '100%', height: 20}}&gt;{this.state.value}&lt;/div&gt;\r\n            &lt;/div&gt;\r\n        );\r\n    }\r\n}\r\nReact.render(&lt;Application /&gt;, document.getElementById('app'));</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/0.13.0/react.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"app\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 10149534, "user_type": "registered", "profile_image": "https://graph.facebook.com/10100580178470069/picture?type=large", "display_name": "Patrick Kirby", "link": "https://stackoverflow.com/users/10149534/patrick-kirby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1569446455, "creation_date": 1569445294, "last_edit_date": 1569445677, "question_id": 58106485, "link": "https://stackoverflow.com/questions/58106485/reactjs-how-to-get-what-a-user-types-in-a-text-input-to-pass-to-a-callback-fun", "title": "ReactJS - How to get what a user types in a text input to pass to a callback function", "body": "<p>I have a component that I would like to use to change its parent's state with a text input box. Right now, I have a callback function called <code>sendData</code> that I'm using to pass information back to the parent. It's working, but is currently just passing the hard-coded string \"hi\".  I would like to replace this string with whatever has been entered into the text input.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>class ChangeState extends Component {\n    sendData = () =&gt; {\n        this.props.parentCallback(\"hi\");\n    }\n\n    render() {\n        return (\n            &lt;div&gt;\n                &lt;input type=\"text\" name=\"name\" id=\"myTextInput\" /&gt;\n                &lt;button onClick={this.sendData}&gt;\n                    Click to send data from child to parent component\n                &lt;/button&gt;\n            &lt;/div&gt;\n        );\n    }\n}\n</code></pre>\n\n<p>How would I go about doing this? Thanks!</p>\n"}, {"tags": ["javascript", "flexbox"], "comments": [{"owner": {"reputation": 3686, "user_id": 8068675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s7U6t.jpg?s=128&g=1", "display_name": "Cl&#233;ment Baconnier", "link": "https://stackoverflow.com/users/8068675/cl%c3%a9ment-baconnier"}, "edited": false, "score": 1, "creation_date": 1569445790, "post_id": 58106476, "comment_id": 102603848, "body": "I think it&#39;s because <code>&#47;&#47; PROJECT STYLING </code> and <code>&#47;&#47; PROJECT CONTAINING FLEXBOX STYLING </code> are not valid comments"}, {"owner": {"reputation": 444, "user_id": 9036415, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/fb28b810da7b7a52d8402ea19918dc7e?s=128&d=identicon&r=PG", "display_name": "Niels Vanwingh", "link": "https://stackoverflow.com/users/9036415/niels-vanwingh"}, "reply_to_user": {"reputation": 3686, "user_id": 8068675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s7U6t.jpg?s=128&g=1", "display_name": "Cl&#233;ment Baconnier", "link": "https://stackoverflow.com/users/8068675/cl%c3%a9ment-baconnier"}, "edited": false, "score": 0, "creation_date": 1569446155, "post_id": 58106476, "comment_id": 102603961, "body": "You are right.. Difficult to explain, but thanks! :-)"}, {"owner": {"reputation": 3686, "user_id": 8068675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s7U6t.jpg?s=128&g=1", "display_name": "Cl&#233;ment Baconnier", "link": "https://stackoverflow.com/users/8068675/cl%c3%a9ment-baconnier"}, "edited": false, "score": 0, "creation_date": 1569446273, "post_id": 58106476, "comment_id": 102603996, "body": "I posted as answer so you can accept it and close the question, it would be appreciated :)"}], "answers": [{"tags": [], "owner": {"reputation": 3686, "user_id": 8068675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s7U6t.jpg?s=128&g=1", "display_name": "Cl&#233;ment Baconnier", "link": "https://stackoverflow.com/users/8068675/cl%c3%a9ment-baconnier"}, "is_accepted": true, "score": 1, "last_activity_date": 1569446246, "creation_date": 1569446246, "answer_id": 58106637, "question_id": 58106476, "link": "https://stackoverflow.com/questions/58106476/flexbox-javascript-dynamic-loading-from-cms/58106637#58106637", "title": "flexbox javascript dynamic loading from cms", "body": "<p>As I said in the comments</p>\n\n<blockquote>\n  <p>I think it's because // PROJECT STYLING and // PROJECT CONTAINING\n  FLEXBOX STYLING are not valid comments</p>\n</blockquote>\n\n<p>If you want to comment in CSS use <code>/* my comment */</code></p>\n"}], "owner": {"reputation": 444, "user_id": 9036415, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/fb28b810da7b7a52d8402ea19918dc7e?s=128&d=identicon&r=PG", "display_name": "Niels Vanwingh", "link": "https://stackoverflow.com/users/9036415/niels-vanwingh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 58106637, "answer_count": 1, "score": 1, "last_activity_date": 1569446246, "creation_date": 1569445267, "last_edit_date": 1569445979, "question_id": 58106476, "link": "https://stackoverflow.com/questions/58106476/flexbox-javascript-dynamic-loading-from-cms", "title": "flexbox javascript dynamic loading from cms", "body": "<p>I am trying to create a flexbox in Javascript to load a number of projects from my CMS.. \nThere should be 3 images that represent projects per row, hence I defined a flexbox with row wrap property.. </p>\n\n<p>The container element has a fixed width and height, and so I would expect the loop to run 4 times, create 4 items that are stacked in a row with the last one starting at the next row.. What I am getting in the code snippet is 4 items with full screen width. What I am getting on my screen with real pictures is 1 picture, that's it.. </p>\n\n<p>Can anyone explain why this is happening?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    var flexbox_projects = document.createElement(\"div\");\r\n    flexbox_projects.className = \"flex-container\";\r\n    flexbox_projects.id = \"flexbox_projects\";\r\n    document.getElementById(\"body\").appendChild(flexbox_projects);\r\n\r\n\r\n    for (i=0; i&lt;4; i++){\r\n\r\n      var container_project = document.createElement(\"div\");\r\n      container_project.className = \"container_project\";\r\n     document.getElementById(\"flexbox_projects\").appendChild(container_project);\r\n\r\n      var image_project = document.createElement(\"img\");\r\n      image_project.className = \"main_picture\";\r\n      image_project.src = \"img/trailrun.jpg\";\r\n      container_project.appendChild(image_project);\r\n\r\n    }</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.container_project{\r\n    width: 23vw;\r\n    height: 13vw;\r\n}\r\n\r\n.main_picture{\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 2;\r\n}\r\n\r\n\r\n.flex-container{\r\n\r\n    display: flex;\r\n    flex-flow: row wrap;\r\n\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;body id=\"body\"&gt;\r\n\r\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "string", "numbers"], "comments": [{"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 1, "creation_date": 1569445202, "post_id": 58106449, "comment_id": 102603668, "body": "why not? have you tried anything?"}, {"owner": {"reputation": 26112, "user_id": 8526705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buwQ5.jpg?s=128&g=1", "display_name": "Dacre Denny", "link": "https://stackoverflow.com/users/8526705/dacre-denny"}, "edited": false, "score": 0, "creation_date": 1569445261, "post_id": 58106449, "comment_id": 102603687, "body": "What is the reason for not converting? this arithmetic can be done without modifying your input strings, if thats the concern here"}, {"owner": {"reputation": 974, "user_id": 10719564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/389a0f44307d1c137d141f7d7025c009?s=128&d=identicon&r=PG&f=1", "display_name": "mph85", "link": "https://stackoverflow.com/users/10719564/mph85"}, "edited": false, "score": 0, "creation_date": 1569445451, "post_id": 58106449, "comment_id": 102603744, "body": "this might be what youre looking for <a href=\"https://stackoverflow.com/questions/8976627/how-to-add-two-strings-as-if-they-were-numbers\" title=\"how to add two strings as if they were numbers\">stackoverflow.com/questions/8976627/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2039981"}, "edited": false, "score": 0, "creation_date": 1569446875, "post_id": 58106449, "comment_id": 102604175, "body": "I think this is a very good question. Simply because this is very useful for large numbers. You would have to work with parsing out each digit and adding one by one with a carry as you would on paper."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 11170461, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-D5IvR6LNII0/AAAAAAAAAAI/AAAAAAAANFs/i7RXkkEvAN4/photo.jpg?sz=128", "display_name": "Gabriel Tetzlaf", "link": "https://stackoverflow.com/users/11170461/gabriel-tetzlaf"}, "is_accepted": false, "score": -1, "last_activity_date": 1569445356, "creation_date": 1569445356, "answer_id": 58106503, "question_id": 58106449, "link": "https://stackoverflow.com/questions/58106449/javascript-how-can-i-add-two-strings-without-converting-into-numbers/58106503#58106503", "title": "Javascript: How can I add two strings without converting into numbers?", "body": "<p>You can use the unary plus operator (+), but in the background it is converting the string into numbers anyway.<br>\n<br>Example:\n<code>+string1 + +string2</code></p>\n"}, {"comments": [{"owner": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "edited": false, "score": 0, "creation_date": 1569445867, "post_id": 58106554, "comment_id": 102603870, "body": "<code>typeof (num1 * 1 + num2 * 1)</code> is <code>number</code>"}, {"owner": {"reputation": 1214, "user_id": 1060646, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yqub2.jpg?s=128&g=1", "display_name": "HBlackorby", "link": "https://stackoverflow.com/users/1060646/hblackorby"}, "reply_to_user": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "edited": false, "score": 0, "creation_date": 1569445992, "post_id": 58106554, "comment_id": 102603906, "body": "@Olian04 no kidding. I&#39;m assuming he doesn&#39;t want to run through a conversion function, not that the output can&#39;t be a number. If he wants the output back as a string, he can:     console.log((num1 * 1 + num2 * 1)+&quot;&quot;);"}, {"owner": {"reputation": 1214, "user_id": 1060646, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yqub2.jpg?s=128&g=1", "display_name": "HBlackorby", "link": "https://stackoverflow.com/users/1060646/hblackorby"}, "reply_to_user": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "edited": false, "score": 0, "creation_date": 1569446332, "post_id": 58106554, "comment_id": 102604017, "body": "@Olian04 what&#39;s with the downvote? He did not say that the output couldn&#39;t be a number, only that he didn&#39;t want to use a conversion function."}], "tags": [], "owner": {"reputation": 1214, "user_id": 1060646, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yqub2.jpg?s=128&g=1", "display_name": "HBlackorby", "link": "https://stackoverflow.com/users/1060646/hblackorby"}, "is_accepted": false, "score": -1, "last_activity_date": 1569446122, "last_edit_date": 1569446122, "creation_date": 1569445684, "answer_id": 58106554, "question_id": 58106449, "link": "https://stackoverflow.com/questions/58106449/javascript-how-can-i-add-two-strings-without-converting-into-numbers/58106554#58106554", "title": "Javascript: How can I add two strings without converting into numbers?", "body": "<p>An old trick is to multiply by 1, as that forces numeric conversion. The * operator doesn't work on strings, so it forces a switch to numbers. It's an old trick though, as I said.</p>\n\n<p>The unary plus operator is a more modern.</p>\n\n<pre><code>var num1 = '20',\n    num2 = '30.5';\n\nconsole.log(num1 * 1 + num2 * 1); // = '50.5'\n</code></pre>\n\n<p>If you want the output to definitely be a string, you can also:</p>\n\n<pre><code>console.log((num1 * 1 + num2 * 1)+\"\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "is_accepted": false, "score": 0, "last_activity_date": 1569450004, "last_edit_date": 1569450004, "creation_date": 1569447935, "answer_id": 58106947, "question_id": 58106449, "link": "https://stackoverflow.com/questions/58106449/javascript-how-can-i-add-two-strings-without-converting-into-numbers/58106947#58106947", "title": "Javascript: How can I add two strings without converting into numbers?", "body": "<p><strong>Disclaimer:</strong> I am not recommending you actually do this. However, you could implement your own add method using a pre calculated lookup table and a rough implementation of a \"binary\" adder (converted into decimal). The code below work for your example, but i leave no guarantee that it will work for any general cases.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const lookupTable = Array(10).fill(0)\r\n  .map((_, i) =&gt; Array(10).fill(0)\r\n    .map((_, j) =&gt; [`${i},${j}`, i+j+'']))\r\n  .reduce((flatArr, innerArr) =&gt; [...flatArr, ...innerArr], [])\r\n  .reduce((lookupTable, [k, v]) =&gt; ({...lookupTable, [k]: v}), {})\r\n\r\nconst addDigits = (a, b) =&gt; {\r\n  const sum = lookupTable[`${a},${b}`];\r\n  if (sum.length === 2) return [sum[1], '1'];\r\n  else return [sum, '0'];\r\n}\r\n\r\nconst strAdd = (a, b) =&gt; {\r\n  const add = ([aH, ...aT], [bH, ...bT], carryBit='0') =&gt; {\r\n    if (aH === undefined &amp;&amp; aH === undefined) return '';\r\n    if (aH === undefined) return add([], bT, carryBit) + bH;\r\n    if (bH === undefined) return add(aT, [], carryBit) + aH;\r\n    if (aH === '.' || bH === '.') return add(aT, bT, carryBit) + '.';\r\n    const [partial_sum, partial_carryBit1] = addDigits(aH, bH);\r\n    const [sum, partial_carryBit2] = addDigits(partial_sum, carryBit);\r\n    const [newCarryBit] = addDigits(partial_carryBit1, partial_carryBit2);\r\n    return add(aT, bT, newCarryBit) + sum;\r\n  }\r\n  const [whole_a, decimal_a] = a.split('.');\r\n  const [whole_b, decimal_b] = b.split('.');\r\n  const wholeMaxLength = Math.max(whole_a.length, whole_b.length)+1;\r\n  const decimalMaxLength = Math.max((decimal_a || '0').length, (decimal_b || '0').length);\r\n  a = whole_a.padStart(wholeMaxLength, '0') + '.' + (decimal_a || '').padEnd(decimalMaxLength, '0');\r\n  b = whole_b.padStart(wholeMaxLength, '0') + '.' + (decimal_b || '').padEnd(decimalMaxLength, '0');\r\n  return add([...a].reverse(), [...b].reverse(), '0')\r\n    .replace(/^0+/, '') // remove leading 0\r\n    .replace(/0+$/, '') // remove trailing 0\r\n    .replace(/\\.$/, '') // remove trailing .\r\n}\r\n\r\nconst calc = (a, b, expected) =&gt; {\r\n  const result = strAdd(a, b);\r\n  console.log(result, result === expected);\r\n}\r\n\r\ncalc('10.23', '25.69', '35.92');\r\ncalc('1', '2', '3');\r\ncalc('10.3', '2', '12.3');\r\ncalc('99999', '1.01', '100000.01');</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 12121565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab8d414827764f09a8e17264f70dcfa5?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Riddle", "link": "https://stackoverflow.com/users/12121565/tom-riddle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 409, "favorite_count": 2, "answer_count": 3, "score": -1, "last_activity_date": 1569450004, "creation_date": 1569445124, "question_id": 58106449, "link": "https://stackoverflow.com/questions/58106449/javascript-how-can-i-add-two-strings-without-converting-into-numbers", "title": "Javascript: How can I add two strings without converting into numbers?", "body": "<p>Given two numbers in string format (eg. '10.23' and '25.69') how can I get their sum without converting the string into numbers? (eg '35.92')\nI <strong>do not</strong> want to convert the strings into numbers using things like parseInt, Number, parseFloat etc....</p>\n"}, {"tags": ["javascript", "autodesk-forge", "forge", "autodesk-model-derivative", "ifc"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 2194358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43dd7035fcca885c4e6edb2e7c3a3124?s=128&d=identicon&r=PG", "display_name": "user2194358", "link": "https://stackoverflow.com/users/2194358/user2194358"}, "edited": false, "score": 0, "creation_date": 1570442357, "post_id": 58266737, "comment_id": 102901846, "body": "What is the meaning of displayName === displayName? This is always true. Or have I misunderstood that?"}, {"owner": {"reputation": 3444, "user_id": 7745569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PiyFA.jpg?s=128&g=1", "display_name": "Eason Kang", "link": "https://stackoverflow.com/users/7745569/eason-kang"}, "reply_to_user": {"reputation": 1, "user_id": 2194358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43dd7035fcca885c4e6edb2e7c3a3124?s=128&d=identicon&r=PG", "display_name": "user2194358", "link": "https://stackoverflow.com/users/2194358/user2194358"}, "edited": false, "score": 0, "creation_date": 1570443563, "post_id": 58266737, "comment_id": 102902401, "body": "Oh, my apologies, it&#39;s <code>displayName === attrName </code>"}], "tags": [], "owner": {"reputation": 3444, "user_id": 7745569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PiyFA.jpg?s=128&g=1", "display_name": "Eason Kang", "link": "https://stackoverflow.com/users/7745569/eason-kang"}, "is_accepted": false, "score": 0, "last_activity_date": 1585276226, "last_edit_date": 1585276226, "creation_date": 1570440197, "answer_id": 58266737, "question_id": 58106407, "link": "https://stackoverflow.com/questions/58106407/converting-from-forge-externalid-into-ifcguid-model-derivative-api/58266737#58266737", "title": "Converting from Forge externalId into IfcGuid [model-derivative-api]", "body": "<p>Currently, the IFC model is processing by the Navisworks translation pipeline. Consequently, the external id is following the rule of the Navisworks. It's the node path of the selection tree, see my answer here for the detail: <a href=\"https://stackoverflow.com/a/56985615/7745569\">https://stackoverflow.com/a/56985615/7745569</a></p>\n\n<p>To search for items by <code>IfcGUIDs</code> in the Forge Viewer, you can execute a custom PropertyDb query:</p>\n\n<pre><code>// Assume there are two IFC Guids: 2cgXCjpDT0ZxBvxMSr3pfm, 0LKJKCHUL1kBtnlFXddz6a\n\nfunction userFunction( pdb, idVals ) {\n    const attrName = 'IfcGUID';\n\n    // Now iterate over all parts to find out which one is the largest.\n    const result = [];\n\n    pdb.enumObjects(( dbId ) =&gt; {\n        // For each part, iterate over their properties.\n        pdb.enumObjectProperties( dbId, ( attrId, valId ) =&gt; {\n            const def = pdb.getAttributeDef( attrId );\n\n            const propName = def.name;\n            const displayName = def.displayName;\n\n            if( propName === attrName || displayName === attrName ) {\n                const value = pdb.getAttrValue( attrId, valId );\n                if( idVals.includes( value ) ) {\n                    result.push( dbId );\n                    return true;\n                }\n            }\n        });\n    });\n\n    // Return results\n    return result;\n}\n\nNOP_VIEWER.model.getPropertyDb().executeUserFunction( userFunction, [ '2cgXCjpDT0ZxBvxMSr3pfm', '0LKJKCHUL1kBtnlFXddz6a' ] ).then( ( result ) =&gt; console.log( result ) ) \n</code></pre>\n\n<p><strong>Note.</strong> The IFC model must be processed by the <strong>Revit based IFC translation pipeline</strong>, so please check instruction here to switch loader: <a href=\"https://forge.autodesk.com/blog/model-derivative-ifc-pipeline-call-change\" rel=\"nofollow noreferrer\">https://forge.autodesk.com/blog/model-derivative-ifc-pipeline-call-change</a></p>\n\n<p>Hope it helps.</p>\n\n<p>Cheers,</p>\n"}], "owner": {"reputation": 1, "user_id": 2194358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43dd7035fcca885c4e6edb2e7c3a3124?s=128&d=identicon&r=PG", "display_name": "user2194358", "link": "https://stackoverflow.com/users/2194358/user2194358"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 320, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1585276226, "creation_date": 1569444937, "last_edit_date": 1570436713, "question_id": 58106407, "link": "https://stackoverflow.com/questions/58106407/converting-from-forge-externalid-into-ifcguid-model-derivative-api", "title": "Converting from Forge externalId into IfcGuid [model-derivative-api]", "body": "<p>References:</p>\n\n<p><a href=\"https://thebuildingcoder.typepad.com/blog/2009/02/uniqueid-dwf-and-ifc-guid.html\" rel=\"nofollow noreferrer\">https://thebuildingcoder.typepad.com/blog/2009/02/uniqueid-dwf-and-ifc-guid.html</a></p>\n\n<p><a href=\"https://github.com/Autodesk-Forge/bim360appstore-model.derivative-nodejs-xls.exporter\" rel=\"nofollow noreferrer\">https://github.com/Autodesk-Forge/bim360appstore-model.derivative-nodejs-xls.exporter</a></p>\n\n<p><a href=\"https://gist.github.com/jsdbroughton/8ead390ad03f9e26658a80f461276472\" rel=\"nofollow noreferrer\">https://gist.github.com/jsdbroughton/8ead390ad03f9e26658a80f461276472</a></p>\n\n<p>Following the sample \u201cbim360appstore-model.derivative-nodejs-xls.exporter\u201d I\u2019m able to export the metadata from a BIM360 model. Each forgeObject has a property \u201cexternalId\u201d in format 8-4-4-4-12-8. I need to convert this into the IfcGuid (22 characters long).</p>\n\n<p>When using Revit C# API I have to call</p>\n\n<pre><code> Guid elemGuid = ExportUtils.GetExportId(element.Document, element.Id);\n\n String ifcGuid = IfcGuid.ToIfcGuid(elemGuid);\n</code></pre>\n\n<p>to get the ifcGuid. How can I do the same using JavaScript in Forge environment?</p>\n\n<p>I tried it, using the JS code from J. Broughton from the references above, but the input data for function fromFullToCompressed() is a 8-4-4-4-12 value, and not the 8-4-4-4-12-8 externalId.</p>\n\n<p>So how to do the first step converting from externalId to elemGuid?</p>\n"}, {"tags": ["javascript", "arrays", "types", "concatenation"], "comments": [{"owner": {"reputation": 8980, "user_id": 1238344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d056886a1d11b43a887d3d565318823?s=128&d=identicon&r=PG", "display_name": "Emissary", "link": "https://stackoverflow.com/users/1238344/emissary"}, "edited": false, "score": 0, "creation_date": 1569445455, "post_id": 58106403, "comment_id": 102603746, "body": "When you call <code>Number.toFixed()</code> you&#39;re converting the type to <code>string</code> - best practice is to apply formatting <i>after</i> you&#39;ve finished performing any calculations."}, {"owner": {"reputation": 1, "user_id": 10829956, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OC4No9eEVkY/AAAAAAAAAAI/AAAAAAAAAEc/NS-OX1ZsorA/photo.jpg?sz=128", "display_name": "Randall B.", "link": "https://stackoverflow.com/users/10829956/randall-b"}, "reply_to_user": {"reputation": 8980, "user_id": 1238344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d056886a1d11b43a887d3d565318823?s=128&d=identicon&r=PG", "display_name": "Emissary", "link": "https://stackoverflow.com/users/1238344/emissary"}, "edited": false, "score": 0, "creation_date": 1569467199, "post_id": 58106403, "comment_id": 102608145, "body": "My hunch was that may have been the issue but wasn&#39;t sure how to create the effect of two decimal places without it. I&#39;ve since created a new array with the tips array and toFixed method and it worked. Thank you."}], "answers": [{"tags": [], "owner": {"reputation": 454, "user_id": 10186616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db645e128c69bec5487d8f54ec226daf?s=128&d=identicon&r=PG", "display_name": "James", "link": "https://stackoverflow.com/users/10186616/james"}, "is_accepted": false, "score": 0, "last_activity_date": 1569445495, "creation_date": 1569445495, "answer_id": 58106521, "question_id": 58106403, "link": "https://stackoverflow.com/questions/58106403/how-to-return-integers-from-an-array-that-are-concatenating-the-values/58106521#58106521", "title": "How to return integers from an array that are concatenating the values?", "body": "<p>Your <code>return tip.toFixed(2);</code> changes the number to a string, which is why the values are concatenated.</p>\n\n<p>You could just calculate the amounts first and then when you display the amounts then convert to two decimal places. Or you could use <code>parseFloat()</code> after using <code>toFixed(2);</code></p>\n"}, {"tags": [], "owner": {"reputation": 187, "user_id": 4502710, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1311557882/picture?type=large", "display_name": "Yehuda Menahem", "link": "https://stackoverflow.com/users/4502710/yehuda-menahem"}, "is_accepted": false, "score": 0, "last_activity_date": 1569595132, "last_edit_date": 1569595132, "creation_date": 1569445603, "answer_id": 58106537, "question_id": 58106403, "link": "https://stackoverflow.com/questions/58106403/how-to-return-integers-from-an-array-that-are-concatenating-the-values/58106537#58106537", "title": "How to return integers from an array that are concatenating the values?", "body": "<p>The numbers inserted as strings to the array, and it's fine if this is what you want, but you should do two things:\n 1. with the parseFloat you need to convert it first to decimals - so that the strings won't concat instead of sum together.\n 2. after, you can use the map method to use on each number you got the toFixed(2) method in order to get 142.60 and not 142.6 (on each of the numbers). after this, it will return to the array as strings like the tips array</p>\n\n<p>Hope this is helping ( :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var billAmounts = [\r\n    124,\r\n    48,\r\n    268\r\n];\r\n\r\nfunction tipCaluclator(bill) {\r\n    if (bill &lt; 50) {\r\n        percentage = (20/100);\r\n    } else if (bill &gt;= 50 &amp;&amp; bill &lt; 200) {\r\n        percentage = (15/100);\r\n    } else { \r\n        percentage = (10/100);\r\n    }\r\n    var tip = percentage * bill;\r\n    //return tip amount to 2 decimal places\r\n    return tip.toFixed(2);\r\n};\r\n\r\nvar tips = [\r\n    tipCaluclator(billAmounts[0]),\r\n    tipCaluclator(billAmounts[1]),\r\n    tipCaluclator(billAmounts[2])\r\n];\r\nconsole.log('These are the tip amounts: ', tips)\r\n\r\nvar finalAmounts = [\r\n    parseFloat(billAmounts[0]) + parseFloat(tips[0]),\r\n    parseFloat(billAmounts[1]) + parseFloat(tips[1]),\r\n    parseFloat(billAmounts[2]) + parseFloat(tips[2])\r\n];\r\n\r\nfinalAmounts = finalAmounts.map(function(elem){\r\n\treturn parseFloat(elem).toFixed(2)\r\n})\r\n\r\nconsole.log('These are the full amounts: ', finalAmounts);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 4087, "user_id": 757839, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wClzK.jpg?s=128&g=1", "display_name": "BCDeWitt", "link": "https://stackoverflow.com/users/757839/bcdewitt"}, "is_accepted": false, "score": 0, "last_activity_date": 1569445967, "creation_date": 1569445967, "answer_id": 58106598, "question_id": 58106403, "link": "https://stackoverflow.com/questions/58106403/how-to-return-integers-from-an-array-that-are-concatenating-the-values/58106598#58106598", "title": "How to return integers from an array that are concatenating the values?", "body": "<p>Two main tips:</p>\n\n<ol>\n<li>Remove <code>;=</code> after the <code>tipCaluclator</code> function.</li>\n<li>Avoid doing the <code>.toFixed(2)</code> calls until you go to output the values. These actually become strings - they are no longer numbers to use in your other calculations. With some other, more minor code updates, here's an example of working code (as far as I understand your task, at least):</li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const billAmounts = [\r\n  124,\r\n  48,\r\n  268,\r\n]\r\n\r\nconst numbersToCurrencyStrings = nums =&gt; nums.map(num =&gt; `$${num.toFixed(2)}`)\r\n\r\nconst tipCalculator = (bill) =&gt; {\r\n  if (bill &lt; 50) {\r\n    return bill * .2\r\n  } else if (bill &gt;= 50 &amp;&amp; bill &lt; 200) {\r\n    return bill * .15\r\n  }\r\n  return bill * .1\r\n}\r\n\r\n// Calculate tips\r\nconst tips = billAmounts.map(tipCalculator)\r\nconsole.log('These are the tip amounts: ', numbersToCurrencyStrings(tips))\r\n\r\n// Add matching tips to bills\r\nconst finalAmounts = billAmounts.map((bill, idx) =&gt; bill + tips[idx])\r\nconsole.log('These are the full amounts: ', numbersToCurrencyStrings(finalAmounts))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 10829956, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OC4No9eEVkY/AAAAAAAAAAI/AAAAAAAAAEc/NS-OX1ZsorA/photo.jpg?sz=128", "display_name": "Randall B.", "link": "https://stackoverflow.com/users/10829956/randall-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1569595132, "creation_date": 1569444918, "question_id": 58106403, "link": "https://stackoverflow.com/questions/58106403/how-to-return-integers-from-an-array-that-are-concatenating-the-values", "title": "How to return integers from an array that are concatenating the values?", "body": "<p>I've been given the simple task of creating a tip calculator as follows:</p>\n\n<p>John and his family went on a holiday and went to 3 different restaurants. The bills were $124, $48 and $268.</p>\n\n<p>To tip the waiter a fair amount, John created a simple tip calculator (as a function). He likes to tip 20% of the bill when the bill is less than $50, 15% when the bill is between $50 and $200, and 10% if the bill is more than $200.</p>\n\n<p>In the end, John would like to have 2 arrays:</p>\n\n<p>1) Containing all three tips (one for each bill)\n2) Containing all three final paid amounts (bill + tip).</p>\n\n<p>**The issue that I am having is that my finalAmounts array is returning the concatenated values instead of the desired sum of the billAmounts + tips to result in the following: **</p>\n\n<p>Total Amount Paid: 12418.6, 489.60, 26826.80</p>\n\n<p><em>My desired results would of course be: 142.6, 47.60, and 294.80</em></p>\n\n<p>Here is my code:</p>\n\n<pre><code>var billAmounts = [\n    124,\n    48,\n    268\n];\n\nfunction tipCaluclator(bill) {\n    if (bill &lt; 50) {\n        percentage = (20/100);\n    } else if (bill &gt;= 50 &amp;&amp; bill &lt; 200) {\n        percentage = (15/100);\n    } else { \n        percentage = (10/100);\n    }\n    var tip = percentage * bill;\n    //return tip amount to 2 decimal places\n    return tip.toFixed(2);\n};=\n\nvar tips = [\n    tipCaluclator(billAmounts[0]),\n    tipCaluclator(billAmounts[1]),\n    tipCaluclator(billAmounts[2])\n];\nconsole.log('These are the tip amounts: ', tips)\n\nvar finalAmounts = [\n    billAmounts[0] + tips[0],\n    billAmounts[1] + tips[1],\n    billAmounts[2] + tips[2]\n];\nconsole.log('These are the full amounts: ', finalAmounts);\n</code></pre>\n"}, {"tags": ["javascript", "list", "object", "split"], "comments": [{"owner": {"reputation": 3757, "user_id": 7368985, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fYb4sP0Jt1I/AAAAAAAAAAI/AAAAAAAAEso/pV8UEu1dVHg/photo.jpg?sz=128", "display_name": "Ghassen Louhaichi", "link": "https://stackoverflow.com/users/7368985/ghassen-louhaichi"}, "edited": false, "score": 0, "creation_date": 1569444952, "post_id": 58106376, "comment_id": 102603584, "body": "Please indicate if the structure of your object is always like that as well as what you have tried so far to make it work."}, {"owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 0, "creation_date": 1569445207, "post_id": 58106376, "comment_id": 102603671, "body": "Welcome to Stackoverflow, please read <a href=\"https://stackoverflow.com/help/how-to-ask\">How To Ask</a>. Pay special attention to <a href=\"https://stackoverflow.com/help/mcve\">How To Create MCVE</a>. Make sure you tag your question with proper labels (programming language, relevant technologies etc). The more effort you&#39;ll put into posting a good question: one which is easy to read, understand and which is <a href=\"https://stackoverflow.com/help/on-topic\">on topic</a> - the chances are higher that it will attract the relevant people and you&#39;ll get help even faster. Good luck!"}, {"owner": {"reputation": 185, "user_id": 11192758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9304494af5df5168f0a644c2f18dbc2a?s=128&d=identicon&r=PG&f=1", "display_name": "H. Manner", "link": "https://stackoverflow.com/users/11192758/h-manner"}, "reply_to_user": {"reputation": 3757, "user_id": 7368985, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fYb4sP0Jt1I/AAAAAAAAAAI/AAAAAAAAEso/pV8UEu1dVHg/photo.jpg?sz=128", "display_name": "Ghassen Louhaichi", "link": "https://stackoverflow.com/users/7368985/ghassen-louhaichi"}, "edited": false, "score": 0, "creation_date": 1569445644, "post_id": 58106376, "comment_id": 102603812, "body": "@GhassenLouhaichi edited what I tried. I thought about mapping through it but struggled to put the mapping back together"}, {"owner": {"reputation": 185, "user_id": 11192758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9304494af5df5168f0a644c2f18dbc2a?s=128&d=identicon&r=PG&f=1", "display_name": "H. Manner", "link": "https://stackoverflow.com/users/11192758/h-manner"}, "reply_to_user": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 0, "creation_date": 1569445766, "post_id": 58106376, "comment_id": 102603840, "body": "@alfasin I edited the question to add more detail, but do believe I added relevant tags and specific enough title. I do not know about the MCVE part since the object I gave is what I am using but I have not thought of a working solution to my problem"}, {"owner": {"reputation": 3757, "user_id": 7368985, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fYb4sP0Jt1I/AAAAAAAAAAI/AAAAAAAAEso/pV8UEu1dVHg/photo.jpg?sz=128", "display_name": "Ghassen Louhaichi", "link": "https://stackoverflow.com/users/7368985/ghassen-louhaichi"}, "edited": false, "score": 1, "creation_date": 1569446816, "post_id": 58106376, "comment_id": 102604155, "body": "Can there be other attributes in your source object than just <code>a</code> and <code>b</code>? Also, can there be more than one element in your source array?"}, {"owner": {"reputation": 185, "user_id": 11192758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9304494af5df5168f0a644c2f18dbc2a?s=128&d=identicon&r=PG&f=1", "display_name": "H. Manner", "link": "https://stackoverflow.com/users/11192758/h-manner"}, "reply_to_user": {"reputation": 3757, "user_id": 7368985, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fYb4sP0Jt1I/AAAAAAAAAAI/AAAAAAAAEso/pV8UEu1dVHg/photo.jpg?sz=128", "display_name": "Ghassen Louhaichi", "link": "https://stackoverflow.com/users/7368985/ghassen-louhaichi"}, "edited": false, "score": 1, "creation_date": 1569448630, "post_id": 58106376, "comment_id": 102604692, "body": "@GhassenLouhaichi there can be more elements in the source object, and there can more more elements in the source array. However, I would only want to split <code>b</code> if it has more than one element"}], "answers": [{"comments": [{"owner": {"reputation": 185, "user_id": 11192758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9304494af5df5168f0a644c2f18dbc2a?s=128&d=identicon&r=PG&f=1", "display_name": "H. Manner", "link": "https://stackoverflow.com/users/11192758/h-manner"}, "edited": false, "score": 1, "creation_date": 1569448992, "post_id": 58107069, "comment_id": 102604793, "body": "Thanks! The part of where to save the new object was driving me nuts!"}], "tags": [], "owner": {"reputation": 3757, "user_id": 7368985, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fYb4sP0Jt1I/AAAAAAAAAAI/AAAAAAAAEso/pV8UEu1dVHg/photo.jpg?sz=128", "display_name": "Ghassen Louhaichi", "link": "https://stackoverflow.com/users/7368985/ghassen-louhaichi"}, "is_accepted": true, "score": 2, "last_activity_date": 1569448687, "creation_date": 1569448687, "answer_id": 58107069, "question_id": 58106376, "link": "https://stackoverflow.com/questions/58106376/how-to-split-one-object-with-an-array-in-it-to-multiple-objects/58107069#58107069", "title": "How to split one object with an array in it to multiple objects", "body": "<p>You were on the right track according to the description in your post. You have to loop through your source object, and inside each iteration, loop through your <code>b</code> array to extract each element and push it with the source iteration element in a new object into a target array.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var source = [{\r\n    a: 1,\r\n    b: [{ c: 2 }, { d: 3 }],\r\n    e: 4\r\n}];\r\n\r\n// define target as an array\r\nvar target = [];\r\n\r\n// loop through source\r\nsource.forEach((srcElement) =&gt; {\r\n    // loop through `b` array attribute\r\n    srcElement.b.forEach((bElement) =&gt; {\r\n        // push object into target with source element attributes\r\n        // and current `b` element wrapped into an array\r\n        target.push({\r\n            ...srcElement,\r\n            b: [bElement]\r\n        });\r\n    });\r\n});\r\n\r\nconsole.log(target);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>NOTE: this solution assumes that on each iteration on your source object, the <code>b</code> attribute exists and is of type <code>Array</code>.</p>\n"}], "owner": {"reputation": 185, "user_id": 11192758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9304494af5df5168f0a644c2f18dbc2a?s=128&d=identicon&r=PG&f=1", "display_name": "H. Manner", "link": "https://stackoverflow.com/users/11192758/h-manner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 767, "favorite_count": 0, "accepted_answer_id": 58107069, "answer_count": 1, "score": 2, "last_activity_date": 1569448687, "creation_date": 1569444744, "last_edit_date": 1569448569, "question_id": 58106376, "link": "https://stackoverflow.com/questions/58106376/how-to-split-one-object-with-an-array-in-it-to-multiple-objects", "title": "How to split one object with an array in it to multiple objects", "body": "<p>I want to know if there is it is possible to split up an object into multiple objects. I have an array of objects that has another array in it and I was wondering if it is possible to split those objects for each object in the inner array. Something like:</p>\n\n<pre><code>obj1 = [{\n  a: 1,\n  b: [{c: 2},{d: 3}],\n  e: 4\n}]\n</code></pre>\n\n<p>to</p>\n\n<pre><code>obj2 =[\n  {\n    a: 1,\n    b: [{c: 2}],\n    e: 4\n  },\n  {\n    a: 1,\n    b: [{d: 3}],\n    e: 4\n  }\n]\n</code></pre>\n\n<p>The object is always in this form, whether it has one object or hundreds. While some objects may have more fields in them, there is only one field with an array. Currently, I am mapping across the original array and then mapping again inside the <code>b</code> array to get to each object in there. However, I do not know where to go from there as the return object from that map would just be the original array. I do not know how to split the <code>b</code> array and map it with the original one. I thought of  {...orig, b: map()} but I don't think it will work with every object</p>\n"}, {"tags": ["javascript", "firebase", "firebase-realtime-database", "google-cloud-functions"], "answers": [{"comments": [{"owner": {"reputation": 100, "user_id": 6216499, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jpgJkT7PUKs/AAAAAAAAAAI/AAAAAAAAAGo/OB3SX8te1Ok/photo.jpg?sz=128", "display_name": "Ryan", "link": "https://stackoverflow.com/users/6216499/ryan"}, "edited": false, "score": 0, "creation_date": 1569446639, "post_id": 58106470, "comment_id": 102604107, "body": "Thanks Doug, that makes sense! do you have any suggestions for how to detect duplicate invocations?"}], "tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": true, "score": 1, "last_activity_date": 1569445240, "creation_date": 1569445240, "answer_id": 58106470, "question_id": 58106367, "link": "https://stackoverflow.com/questions/58106367/can-firebase-transactions-ever-be-wrong/58106470#58106470", "title": "Can Firebase Transactions ever be wrong?", "body": "<p>With Cloud Functions, an event might be delivered multiple times if there is some unexpected failure in the system.  As such, your function should expect that that your function handle could be invoked more than once per database change. This is rare but possible.  It's up to you to (if you want) to detect these duplicate invocations and handle the appropriately.</p>\n"}], "owner": {"reputation": 100, "user_id": 6216499, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jpgJkT7PUKs/AAAAAAAAAAI/AAAAAAAAAGo/OB3SX8te1Ok/photo.jpg?sz=128", "display_name": "Ryan", "link": "https://stackoverflow.com/users/6216499/ryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 58106470, "answer_count": 1, "score": 0, "last_activity_date": 1569445256, "creation_date": 1569444686, "last_edit_date": 1569445256, "question_id": 58106367, "link": "https://stackoverflow.com/questions/58106367/can-firebase-transactions-ever-be-wrong", "title": "Can Firebase Transactions ever be wrong?", "body": "<p>I have an application that allows users to vote 5 times per day. Each vote is pushed to a <code>votes</code> node. I have an onCreate cloud function listening to <code>votes</code> that kicks off a number of transactions, each one just increments one of several nodes <code>tally/total</code>, <code>tally/users/{userId}</code>, etc.</p>\n\n<p>The voting function and onCreate are tested and working as expected.</p>\n\n<p>Yesterday we deployed to production and I ran a query on <code>tally/users</code> to see if any users found a way to vote more than 5 times in a day. And of course, two users got flagged as having voted 6 times on the first day. So I did a query on the actual <code>votes</code> node and found that those users had actually only submitted 5 votes. So... my transactions didn't work right for two out of over 5000 users.</p>\n\n<p>For our case, we don't really need these counters to be super accurate but, what's the deal? Am I missing something about firebase transactions or can they really not be counted on? (pun intended)</p>\n\n<p>Don't make fun of my poorly structured db...</p>\n\n<pre><code>exports.allVotesOnCreate = functions.database\n  .ref('/votes/all/{pushId}')\n  .onCreate(\n    (snapshot, context) =&gt; {\n      const vote = snapshot.val();\n      const { date, userId, uid } = vote;\n\n      return Promise.all([\n        // removed other transactions for brevity\n        ref(`tally/all/total`)\n          .transaction(value =&gt; \n            value ? value + 1 : 1\n        ),\n        ref(`tally/user/byDate/${userId}/${date}`)\n          .transaction(value =&gt;\n            value ? value + 1 : 1\n        ),\n      ]).catch(err =&gt; {\n        console.error(`Error tallying vote ${uid}`, err);\n      });\n    }\n  );\n</code></pre>\n\n<p>I expected that the number of votes in <code>votes</code> for a specific user on a specific date would match their tally in <code>tally/user/byDate/{userId}/{date}</code>, but there are a small number of incidents where the tally is 6 when the actual number of votes is 5.</p>\n\n<p>I could even expect that the tally could be less than the actual number of votes, if a transaction somehow failed, but more? how?</p>\n"}, {"tags": ["javascript", "reactjs", "react-native", "react-hooks"], "answers": [{"comments": [{"owner": {"reputation": 744, "user_id": 860233, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/4391f7ef50dfccf09fc68ae17368d9b8?s=128&d=identicon&r=PG", "display_name": "Glenncito", "link": "https://stackoverflow.com/users/860233/glenncito"}, "edited": false, "score": 0, "creation_date": 1569484048, "post_id": 58106457, "comment_id": 102613738, "body": "Thank you Sir @Rutherford Wonkington. I have two questions: 1) Can you please explain how I was treating it as an array as opposed to an object? 2) How is the solution storing the expenses array in its own separate piece of state as opposed to how it was being done before?"}, {"owner": {"reputation": 4078, "user_id": 10549165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Redsx.png?s=128&g=1", "display_name": "Chris B.", "link": "https://stackoverflow.com/users/10549165/chris-b"}, "reply_to_user": {"reputation": 744, "user_id": 860233, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/4391f7ef50dfccf09fc68ae17368d9b8?s=128&d=identicon&r=PG", "display_name": "Glenncito", "link": "https://stackoverflow.com/users/860233/glenncito"}, "edited": false, "score": 0, "creation_date": 1569502893, "post_id": 58106457, "comment_id": 102623766, "body": "<code>setData ([...data, expense])</code> is destructuring <code>data</code> as though it were an array, but data is equal to <code>{expenses:[]}</code> which is an object with one property that&#39;s set equal to an empty array, but is not an array itself.  By converting <code>data</code> to an array, you&#39;re removing the type mismatch, rather than using an object with an unnecessary <code>expenses</code> prop.  There&#39;s no need to keep an object with only a single key--you can just store that value directly."}], "tags": [], "owner": {"reputation": 4078, "user_id": 10549165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Redsx.png?s=128&g=1", "display_name": "Chris B.", "link": "https://stackoverflow.com/users/10549165/chris-b"}, "is_accepted": true, "score": 1, "last_activity_date": 1569445555, "last_edit_date": 1569445555, "creation_date": 1569445157, "answer_id": 58106457, "question_id": 58106346, "link": "https://stackoverflow.com/questions/58106346/how-do-i-store-an-array-of-objects-with-nested-objects-as-attributes-using-react/58106457#58106457", "title": "How do I store an array of objects with nested objects as attributes using react hook&#39;s useState?", "body": "<p>Disregard my previous response, this is because you're storing an <em>object</em> in your <code>data</code> variable, but you are treating it as an <em>array</em> when you try to spread it.</p>\n\n<p>I'd recommend storing the expenses array in its own separate piece of state, seeing as you currently have no other data there.</p>\n\n<pre><code>const [data, setData] = useState([]);\n</code></pre>\n\n<p>Should fix your problem. And then replace <code>data.expenses.map</code> with <code>data.map</code> and <code>writeData(result.data)</code> with <code>writeData(result.data.expenses)</code>.</p>\n\n<p>All together:</p>\n\n<pre><code>const [data, setData] = useState([]);\nconst Realm = require(\"realm\");\nuseEffect(() =&gt; {\n  const fetchData = async () =&gt; {\n    const result = await axios(\n        'http://localhost:3000/expenses?limit=10&amp;offset=0',\n    );\n    writeData(result.data.expenses)\n  };\n  fetchData();\n}, []);\n\nconst writeData = data =&gt;{\n  Realm.open({\n    schema: [ExpenseSchema, UserSchema, AmountSchema]\n  }).then(realm =&gt; {\n    realm.write(() =&gt; {\n      data.map((expense) =&gt; {\n        realm.create ('expense',expense)\n        setData ([...data, expense]);  //returns an error. same if i use Object.values(expense)\n        console.log (expense)\n      });\n    });\n  });\n} \n</code></pre>\n"}], "owner": {"reputation": 744, "user_id": 860233, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/4391f7ef50dfccf09fc68ae17368d9b8?s=128&d=identicon&r=PG", "display_name": "Glenncito", "link": "https://stackoverflow.com/users/860233/glenncito"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 0, "accepted_answer_id": 58106457, "answer_count": 1, "score": 0, "last_activity_date": 1569445555, "creation_date": 1569444571, "question_id": 58106346, "link": "https://stackoverflow.com/questions/58106346/how-do-i-store-an-array-of-objects-with-nested-objects-as-attributes-using-react", "title": "How do I store an array of objects with nested objects as attributes using react hook&#39;s useState?", "body": "<p>I am fetching an array of Expense objects that contains 2 objects with as attributes that contain their own set of objects as attributes. This is what it looks like: </p>\n\n<pre><code>{\n\"expenses\": [\n    {\n        \"id\": \"5b996064dfd5b783915112f5\",\n        \"amount\": {\n            \"value\": \"1854.99\",\n            \"currency\": \"EUR\"\n        },\n        \"date\": \"2018-09-10T02:11:29.184Z\",\n        \"merchant\": \"Burger King\",\n        \"receipts\": [],\n        \"comment\": \"\",\n        \"category\": \"\",\n        \"user\": {\n            \"first\": \"Vic\",\n            \"last\": \"Rob\",\n            \"email\": \"Vic@rob.com\"\n        },\n        \"index\": 0\n    },\n    {\n        \"id\": \"5b99606474ab17b7820b3922\",\n        \"amount\": {\n            \"value\": \"3222.88\",\n            \"currency\": \"GBP\"\n        },\n        \"date\": \"2018-08-13T07:11:01.680Z\",\n        \"merchant\": \"McD\",\n        \"receipts\": [],\n        \"comment\": \"\",\n        \"category\": \"\",\n        \"user\": {\n            \"first\": \"craig\",\n            \"last\": \"Michael\",\n            \"email\": \"craig@craig.com\"\n        },\n        \"index\": 1\n    },\n]\n</code></pre>\n\n<p>Now I want to iterate through the response array and add them my hook's data variable and have attempted to do accordingly: </p>\n\n<pre><code>  const [data, setData] = useState({expenses:[]});\n const Realm = require(\"realm\");\nuseEffect(() =&gt; {\nconst fetchData = async () =&gt; {\n  const result = await axios(\n   'http://localhost:3000/expenses?limit=10&amp;offset=0',\n  );\n  writeData(result.data)\n};\nfetchData();\n}, []);\n\nconst writeData = data =&gt;{\nRealm.open({\nschema: [ExpenseSchema, UserSchema, AmountSchema]\n}).then(realm =&gt; {\nrealm.write(() =&gt; {\n  data.expenses.map((expense) =&gt; {\n    realm.create ('expense',expense)\n   setData ([...data, expense]);  //returns an error. same if i use Object.values(expense)\n   console.log (expense)\n    });\n});\n});\n} \n</code></pre>\n\n<p>and lastly, here is what my schema looks like: </p>\n\n<pre><code>const AmountSchema = {\n name: \"amount\",\nproperties: {\nvalue: \"string\",\ncurrency: \"string\"\n}\n};\n\n    const UserSchema = {\n  name: \"user\",\n  properties: {\n    first: \"string\",\n    last: \"string\",\n    email: \"string\"\n  }\n};\nconst ExpenseSchema = {\n  name: \"expense\",\n  primaryKey: \"id\",\n  properties: {\n    id: \"string\",\n    amount: \"amount?\",\n    user: \"user?\",\n    date: \"date\",\n    merchant: \"string\",\n    receipt: \"data?\"\n  }\n};\n</code></pre>\n\n<p>When I run this, I get the following error: <em>Unhandled promise rejection: TypeError: Invalid attempt to spread non-iterable instance</em></p>\n\n<p>How do I get around this? </p>\n\n<p><strong>EDIT:</strong>  I know one options is the access the object attributes and store them in a stringified form, but I'd prefer not to hack my way around this. I was suggested to use useReducer but I am new to Hooks and havn't yet figured out how a reducer would solve this. If this is the way, an example would be greatly appreciated. </p>\n"}, {"tags": ["javascript", "arrays", "object", "filter"], "answers": [{"tags": [], "owner": {"reputation": 173187, "user_id": 128165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cdef5bd2099545a776ee86fb8049bdc6?s=128&d=identicon&r=PG", "display_name": "Gabriele Petrioli", "link": "https://stackoverflow.com/users/128165/gabriele-petrioli"}, "is_accepted": true, "score": 1, "last_activity_date": 1569445497, "creation_date": 1569445497, "answer_id": 58106523, "question_id": 58106339, "link": "https://stackoverflow.com/questions/58106339/filtering-an-object-array-with-filter-doesnt-work-for-some-reason/58106523#58106523", "title": "filtering an object-array with filter doesn&#39;t work for some reason", "body": "<p>Change </p>\n\n<pre><code>filteredTodo = todos.filter(function(todo){\n    return !filters.hideCompleted || !todo.completed;\n})\n</code></pre>\n\n<p>to </p>\n\n<pre><code>filteredTodo = filteredTodo.filter(function(todo){\n    return !filters.hideCompleted || !todo.completed;\n})\n</code></pre>\n\n<p>Otherwise you scrap the original filtering.</p>\n"}], "owner": {"reputation": 783, "user_id": 11558707, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Xp0YFC-Qx0s/AAAAAAAAAAI/AAAAAAAAAjA/TFDWmvA8gIM/photo.jpg?sz=128", "display_name": "Salah Eddine Makdour", "link": "https://stackoverflow.com/users/11558707/salah-eddine-makdour"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 58106523, "answer_count": 1, "score": 0, "last_activity_date": 1569445497, "creation_date": 1569444513, "question_id": 58106339, "link": "https://stackoverflow.com/questions/58106339/filtering-an-object-array-with-filter-doesnt-work-for-some-reason", "title": "filtering an object-array with filter doesn&#39;t work for some reason", "body": "<p>Hello guys i made a todo application that takes the inputs of the user and makes them todos, and i also added a filtering box but it doesn't seem to work for some reason (it used to work before splitting up the code into function calls and basic code so im gonna let the whole code down here and i hope you understand the code.\nedit: the filtering returns todos that includes the text in the filtering input box.</p>\n\n<p>The functions call part:</p>\n\n<pre><code>//Read and parse existing data in local storage\nconst getSavedTodos = function() {\n    const todoJSON = localStorage.getItem('todo');\n\n    if (todoJSON !== null) {\n    return JSON.parse(todoJSON)\n    } else {\n        return []\n    }\n}\n\n// save the todos in locale storage\nconst saveTodos = function(todos) {\n    localStorage.setItem('todo', JSON.stringify(todos))\n}\n\n// Render todos \nlet renderTodos = function(todo, filters) {\n    let filteredTodo = todo.filter(function(todo){\n        return todo.text.toLowerCase().includes(filters.text.toLowerCase());\n    })\n\n    filteredTodo = todos.filter(function(todo){\n        return !filters.hideCompleted || !todo.completed;\n    })\n\n    document.querySelector('#todo').innerHTML = '';\n\n    const incompleteTodos = filteredTodo.filter(function (todos) {\n        return !todos.completed\n    })\n\n\n    const summary = document.createElement('h2')\n    summary.textContent = `You have ${incompleteTodos.length} todos left`\n    document.querySelector('#todo').appendChild(summary)\n\n    filteredTodo.forEach(function(todo){\n        let p = document.createElement('p');\n        p.textContent = todo.text;\n        document.querySelector('#todo').appendChild(p);\n    })\n}\n</code></pre>\n\n<p>The basic code part:</p>\n\n<pre><code>let todos = getSavedTodos();\n\n\n\nlet filters = {\n    text: '',\n    hideCompleted: false\n}\n\nrenderTodos(todos, filters);\n\ndocument.querySelector('#filter').addEventListener('input', function(e){\n    filters.text = e.target.value.toLowerCase();\n    renderTodos(todos, filters);\n})\n\ndocument.querySelector('#form').addEventListener('submit', function(e){\n    e.preventDefault();\n    todos.push({\n        text: e.target.elements.firstName.value,\n        completed: false\n    })\n    saveTodos(todos);\n    renderTodos(todos, filters);\n    e.target.elements.firstName.value = '';\n})\n\ndocument.querySelector('#hide-completed').addEventListener('change', function(e){\n   filters.hideCompleted = e.target.checked;\n   renderTodos(todos, filters);\n})\n</code></pre>\n\n<p>The HTML part:</p>\n\n<pre><code>&lt;header class=\"header\"&gt;\n      &lt;h1&gt;Todos application&lt;/h1&gt;  \n    &lt;/header&gt;\n\n    &lt;input type=\"text\" id=\"filter\" placeholder=\"filter the todos\"&gt;\n    &lt;label class=\"checkbox\"&gt;\n            &lt;input type=\"checkbox\" id=\"hide-completed\"&gt;\n            &lt;span&gt;hide completed todos&lt;/span&gt;\n    &lt;/label&gt;\n    &lt;div id=\"todo\"&gt;&lt;/div&gt;\n    &lt;hr&gt;\n    &lt;form id=\"form\"&gt;\n        Add a new todo:\n        &lt;input type=\"text\" placeholder=\"Type your first name\" name=\"firstName\" class=\"inpt\"&gt;\n        &lt;input type=\"submit\" value=\"submit\" class=\"btn\"&gt;\n    &lt;/form&gt;\n\n    &lt;script src=\"refraction.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"todo-app.js\"&gt;&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "reactjs", "object"], "comments": [{"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 0, "creation_date": 1569445181, "post_id": 58106336, "comment_id": 102603663, "body": "Can you show where these structures are being created? There must be some aliasing going on."}, {"owner": {"reputation": 182, "user_id": 5012993, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4A5P9uFFytY/AAAAAAAAAAI/AAAAAAAAAy4/mD6H44i_1jg/photo.jpg?sz=128", "display_name": "Kyle Pendergast", "link": "https://stackoverflow.com/users/5012993/kyle-pendergast"}, "reply_to_user": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 0, "creation_date": 1569445927, "post_id": 58106336, "comment_id": 102603888, "body": "@ggorlen I added the code block where I initialize the matchStats object. Hopefully that helps!"}, {"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 0, "creation_date": 1569446407, "post_id": 58106336, "comment_id": 102604038, "body": "It helps a lot, thanks. <code>new Array(matchInfo.playersAllowedInGame).fill({</code> is likely the trouble. <code>.fill</code> just does one object for the whole shebang. Change it to something like <code>fill().map(e =&gt; {stats: statsWithKeys})...</code> and let me know if it works. Likely, you&#39;ll only ever want to pass primitives into <code>.fill()</code>."}, {"owner": {"reputation": 182, "user_id": 5012993, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4A5P9uFFytY/AAAAAAAAAAI/AAAAAAAAAy4/mD6H44i_1jg/photo.jpg?sz=128", "display_name": "Kyle Pendergast", "link": "https://stackoverflow.com/users/5012993/kyle-pendergast"}, "reply_to_user": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 0, "creation_date": 1569447055, "post_id": 58106336, "comment_id": 102604233, "body": "That didn&#39;t seem to work unfortunately. I changed it to the following:  ` const players = new Array(matchInfo.playersAllowedInGame).fill().map(p =&gt; {                 return {                     stats: statsWithKeys,                     dropdownOpen: false,                     id: Math.random().toString(36)                 }             }) `"}, {"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 0, "creation_date": 1569447470, "post_id": 58106336, "comment_id": 102604364, "body": "That should be <code>fill().map(e =&gt; ({stats: statsWithKeys}));</code> (note the extra parens). So did your change work? The problem is that <code>statsWithKeys</code> is still just one object as well, so that&#39;s a problem. You&#39;re going to have to initialize that object inside the <code>map</code> as well. Basically, any time there is just one object being created, it&#39;ll be aliased, so there are multiple aliasing problems to resolve."}, {"owner": {"reputation": 182, "user_id": 5012993, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4A5P9uFFytY/AAAAAAAAAAI/AAAAAAAAAy4/mD6H44i_1jg/photo.jpg?sz=128", "display_name": "Kyle Pendergast", "link": "https://stackoverflow.com/users/5012993/kyle-pendergast"}, "reply_to_user": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 0, "creation_date": 1569447734, "post_id": 58106336, "comment_id": 102604447, "body": "updated, but it didn&#39;t seem to work either.   <code>const players = new Array(matchInfo.playersAllowedInGame).fill().map(e =&gt; ({                     stats: statsWithKeys,                     dropdownOpen: false,                     id: Math.random().toString(36)             })) </code>"}, {"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "reply_to_user": {"reputation": 182, "user_id": 5012993, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4A5P9uFFytY/AAAAAAAAAAI/AAAAAAAAAy4/mD6H44i_1jg/photo.jpg?sz=128", "display_name": "Kyle Pendergast", "link": "https://stackoverflow.com/users/5012993/kyle-pendergast"}, "edited": false, "score": 0, "creation_date": 1569448335, "post_id": 58106336, "comment_id": 102604614, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/199981/discussion-between-ggorlen-and-kyle-pendergast\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "is_accepted": true, "score": 2, "last_activity_date": 1569448930, "last_edit_date": 1569448930, "creation_date": 1569448322, "answer_id": 58107007, "question_id": 58106336, "link": "https://stackoverflow.com/questions/58106336/why-does-my-onchange-event-for-input-change-multiple-state-values-in-an-object-a/58107007#58107007", "title": "Why does my onChange event for input change multiple state values in an object array?", "body": "<p>The first problem is the following line:</p>\n\n<pre><code>const players = new Array(matchInfo.playersAllowedInGame).fill({\n    stats: statsWithKeys\n}) // ... etc ...\n</code></pre>\n\n<p>By passing an object into <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/fill\" rel=\"nofollow noreferrer\"><code>Array#fill</code></a>, every element is populated with a reference to that one single object. The stack snippet shows this clearly in the following minimal reprex:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const arr = Array(4).fill({age: 11});\r\nconsole.log(JSON.stringify(arr));\r\narr[0].age = 42;\r\nconsole.log(JSON.stringify(arr));\r\nconsole.log(arr);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Change the line to </p>\n\n<pre><code>const players = new Array(matchInfo.playersAllowedInGame).fill().map(e =&gt; ({\n  stats: statsWithKeys\n})) // ... etc ...\n</code></pre>\n\n<p>that is, return a different object for each index in the array to refer to. Or, since you're chaining this with another <code>.map</code> call, you can combine them into one.</p>\n\n<p>Here's a fix to the above reprex:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const arr = Array(4).fill().map(e =&gt; ({age: 11}));\r\nconsole.log(JSON.stringify(arr));\r\narr[0].age = 42;\r\nconsole.log(JSON.stringify(arr));\r\nconsole.log(arr);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The second problem (similar to the first) is that there's an object <code>let statsWithKeys = {};</code> which is aliased for each <code>player</code> by the above <code>map</code> function. We need a different <code>statsWithKeys</code> instance for each <code>player</code>.</p>\n\n<p>Full re-write that moves initialization of <code>statsWithKeys</code> into the <code>map</code>. I used some dummy data to make it reproducible and eliminated unnecessary temporary variables:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const numGames = 3;\r\nconst matchInfo = {\r\n  circuitStats: [\"foo\", \"bar\"], \r\n  playersAllowedInGame: 4\r\n};\r\n\r\nconst matchStats = Array(numGames).fill().map((game, i) =&gt; {\r\n  return {\r\n    index: i + 1,\r\n    players: Array(matchInfo.playersAllowedInGame).fill().map(p =&gt; {\r\n      return {\r\n        stats: matchInfo.circuitStats.reduce((a, e) =&gt; {\r\n          a[e.toLowerCase()] = 0;\r\n          return a;\r\n        }, {}),\r\n        dropdownOpen: false,\r\n        id: Math.random().toString(36) // this is not actually safe! use a uuid\r\n      }\r\n    })\r\n  }\r\n});\r\n\r\nmatchStats[0].players[0].stats.foo = 42; // try setting something\r\nconsole.log(matchStats);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Another major problem, as indicated above, is that <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/random\" rel=\"nofollow noreferrer\"><code>Math#random</code></a> <a href=\"https://stackoverflow.com/questions/8012002/create-a-unique-number-with-javascript-time\">is not safe for generating unique ids</a>. If you have a lot of data (or even if you don't and the code is run often enough), you'll wind up with unintended behavior. See the links in this paragraph for the latest fixes.</p>\n"}, {"tags": [], "owner": {"reputation": 36, "user_id": 12116036, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDRs1_2gCtVi9NPzGIccNifSFqNKG_T3Kmj6gI_=k-s128", "display_name": "Michael Bugglin", "link": "https://stackoverflow.com/users/12116036/michael-bugglin"}, "is_accepted": false, "score": 1, "last_activity_date": 1569449687, "creation_date": 1569449687, "answer_id": 58107220, "question_id": 58106336, "link": "https://stackoverflow.com/questions/58106336/why-does-my-onchange-event-for-input-change-multiple-state-values-in-an-object-a/58107220#58107220", "title": "Why does my onChange event for input change multiple state values in an object array?", "body": "<p>Let's say you have a limit of 5 players. In this case, this:</p>\n\n<pre><code>         const players = new Array(matchInfo.playersAllowedInGame).fill().map(p =&gt; {\n                return {\n                   stats: statsWithKeys,\n                   dropdownOpen: false,\n                   id: Math.random().toString(36)\n                }\n            })\n</code></pre>\n\n<p>isn't creating 5 'statsWithKeys' as you'd expect, but rather 5 references to the same 'statsWithKeys'.</p>\n\n<p>The best way to fix this is to use a spread operator directly on the object itself:</p>\n\n<pre><code>         const players = new Array(matchInfo.playersAllowedInGame).fill().map(p =&gt; {\n                return {\n                   stats: { ...statsWithKeys },\n                   dropdownOpen: false,\n                   id: Math.random().toString(36)\n                }\n            });\n</code></pre>\n"}], "owner": {"reputation": 182, "user_id": 5012993, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4A5P9uFFytY/AAAAAAAAAAI/AAAAAAAAAy4/mD6H44i_1jg/photo.jpg?sz=128", "display_name": "Kyle Pendergast", "link": "https://stackoverflow.com/users/5012993/kyle-pendergast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "accepted_answer_id": 58107007, "answer_count": 2, "score": 1, "last_activity_date": 1569469991, "creation_date": 1569444497, "last_edit_date": 1569469991, "question_id": 58106336, "link": "https://stackoverflow.com/questions/58106336/why-does-my-onchange-event-for-input-change-multiple-state-values-in-an-object-a", "title": "Why does my onChange event for input change multiple state values in an object array?", "body": "<p>I am building a user flow to allow users to enter stats for a video game that they played. My react component renders an excel like table where they can manually type in the stats (like an excel spreadsheet where the y-axis is a column of players and the x-axis are the stats for each player.</p>\n\n<p>When I update a particular stat for a particular player, every player's stat value for that particular stat is also changed. For example, if I update Player A with 5 goals every other player on the team will also have 5 goals. This shouldn't happen.</p>\n\n<p>First, I initialize a matchStats object:</p>\n\n<pre><code>initializeMatchStats = (numGames) =&gt; {\n    const {matchInfo} = this.props;\n    const gameArray = new Array(numGames).fill('');\n\n    const matchStats = gameArray.map((game, i) =&gt; {\n        let statsWithKeys = {};\n        let gameInfo = {};\n\n        matchInfo.circuitStats.map(key =&gt; {\n            statsWithKeys[key.toLowerCase()] = 0\n        })\n\n            const players = new Array(matchInfo.playersAllowedInGame).fill({\n                stats: statsWithKeys\n            }).map(p =&gt; {\n                return {\n                    ...p,\n                    dropdownOpen: false,\n                    id: Math.random().toString(36)\n                }\n            })\n\n            gameInfo = {\n                players,\n                index: i + 1\n            }\n\n        return gameInfo\n    })\n    this.setState({matchStats, numGames, numGamesModalOpen: false, uploadManually: true}, () =&gt; console.log('matchStats: ', matchStats))\n}\n</code></pre>\n\n<p>Then, I update the matchStats object as it is changed by the user:</p>\n\n<pre><code>updateStatsManually = (val, player, game, header, e) =&gt; {\n\n        e.preventDefault();\n\n        const {matchStats} = this.state;\n        // matchStats is an array of games in each match. A game is made up of the players (and their respective stats) in the game.\n        const { matchInfo } = this.props;\n\n        const gameToUpdate = matchStats.find(g =&gt; g.index === game.index)\n\n        let playerToUpdate = gameToUpdate.players.find(p =&gt; p.id === player.id)\n\n        let newStats = playerToUpdate.stats;\n        newStats[header] = val;\n        playerToUpdate.stats = newStats;\n        gameToUpdate.players = [...gameToUpdate.players.filter(p =&gt; p.id !== player.id), playerToUpdate]\n\n        this.setState({\n            matchStats: [...matchStats.filter(g =&gt; g.index !== game.index), gameToUpdate]\n        })\n    }\n</code></pre>\n\n<p>Here is the react code block:</p>\n\n<pre><code>&lt;Section&gt;\n    {matchStats.find(g =&gt; g.index === game).players.map((player, i) =&gt; &lt;Row key={i}&gt;\n        {!uploadManually &amp;&amp; &lt;Column&gt;\n            &lt;Input disabled style={{textAlign: 'center'}} placeholder={player.name} /&gt;\n        &lt;/Column&gt;}\n        {circuitStats.map((header, i) =&gt; &lt;Column key={`${i}-${player.id}`}&gt;\n            &lt;Input id={`${i}-${player.id}-${header}`} value={player.stats[header.toLowerCase()]} disabled={!uploadManually} onChange={(e) =&gt; updateStatsManually(e.target.value, player, currentGame, header.toLowerCase())} /&gt;\n        &lt;/Column&gt;)}\n    &lt;/Row&gt;)}\n&lt;/Section&gt;\n</code></pre>\n\n<p>I would expect that when I change an input value for one stat for a given player, it only changes the stat value for that particular player. However, it changes it for every player.</p>\n\n<p>I've been messing with this for a while now and struggling to see what I'm doing wrong. I thought it might be related to how inputs are rendered in a .map function but I tried separating a test input and the result was the same. Any help is appreciated!</p>\n"}, {"tags": ["javascript", "angular", "typescript", "sorting", "ngx-datatable"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 6825921, "user_type": "registered", "profile_image": "https://graph.facebook.com/1281816551838118/picture?type=large", "display_name": "Ahmed Khairy", "link": "https://stackoverflow.com/users/6825921/ahmed-khairy"}, "is_accepted": false, "score": 1, "last_activity_date": 1588006730, "last_edit_date": 1588006730, "creation_date": 1588003183, "answer_id": 61463045, "question_id": 58106258, "link": "https://stackoverflow.com/questions/58106258/how-use-sorting-in-ngx-datatable-ngx-datatable-column-in-angular/61463045#61463045", "title": "How use sorting in ngx-datatable / ngx-datatable-column in Angular?", "body": "<p>there's an output for sort called <strong>sort</strong> you can use it and make your callback function</p>\n\n<p><code>(sort)=\"onSort($event)\"</code></p>\n"}], "owner": {"reputation": 11, "user_id": 12121498, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-icju1Md3HLE/AAAAAAAAAAI/AAAAAAAAABQ/3CvRElmnb60/photo.jpg?sz=128", "display_name": "joaocarlosJC15", "link": "https://stackoverflow.com/users/12121498/joaocarlosjc15"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1341, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1588006730, "creation_date": 1569444081, "last_edit_date": 1569450902, "question_id": 58106258, "link": "https://stackoverflow.com/questions/58106258/how-use-sorting-in-ngx-datatable-ngx-datatable-column-in-angular", "title": "How use sorting in ngx-datatable / ngx-datatable-column in Angular?", "body": "<p>I'm trying to use <code>ngx-datatable</code>'s sort feature to perform the action like this link: <a href=\"https://swimlane.github.io/ngx-datatable/\" rel=\"nofollow noreferrer\">https://swimlane.github.io/ngx-datatable/</a></p>\n\n<p>However, it does not work.</p>\n\n<p>I've tried without luck to use properties like:</p>\n\n<ul>\n<li><code>sortable=\"true\"</code></li>\n<li><code>[sortType]=\"'multi'\"</code></li>\n<li><code>[sorts]=\"[{prop: 'id_pessoa', dir: 'asc'}]\"</code></li>\n</ul>\n\n<p>Below is the code and version of <code>ngx-datatable</code>:</p>\n\n<pre><code>\"@swimlane/ngx-datatable\": \"^15.0.2\"\n\n&lt;section class=\"basic-elements\"&gt;\n&lt;!-- Breadcrumbs --&gt;\n&lt;nav&gt;\n    &lt;ol class=\"breadcrumb\"&gt;\n        &lt;li class=\"breadcrumb-item\"&gt;\n            &lt;a routerLink=\"/\"&gt;Home&lt;/a&gt;\n        &lt;/li&gt;\n        &lt;li class=\"breadcrumb-item active\"&gt;\n            Pessoas\n        &lt;/li&gt;\n    &lt;/ol&gt;\n&lt;/nav&gt;\n\n&lt;div id=\"mb-4\" class=\"row mb-4\"&gt;\n    &lt;div class=\"col-md\"&gt;\n        &lt;h1 class=\"h2\"&gt;Pessoas&lt;/h1&gt;\n    &lt;/div&gt;\n    &lt;div class=\"col-md\"&gt;\n        &lt;button routerLink=\"novo\" type=\"button\" class=\"btn btn-raised btn-raised btn-success btn-no-margin float-right btn-heigh2\"&gt;\n            + Nova Pessoa\n        &lt;/button&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div id=\"mb-4\" class=\"row mb-4\"&gt;\n        &lt;div class=\"col-md-11\"&gt;\n            &lt;input type=\"text\" class=\"form-control\" id=\"email\" &gt;\n        &lt;/div&gt;\n        &lt;div class=\"col-md-1\"&gt;\n            &lt;button [disabled]=\"submittingForm \" type=\"submit\" class=\"btn btn-raised btn-raised btn-no-margin btn-primary float-right btn-heigh button-margin-top\"&gt;\n                Buscar\n            &lt;/button&gt;\n        &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"row text-left\"&gt;\n    &lt;div class=\"col-md-12\"&gt;\n        &lt;div class=\"card\"&gt;\n            &lt;div class=\"card-content\"&gt;\n                &lt;ngx-datatable \n                    class=\"bootstrap\"\n                    [rows]=\"rows\"\n                    [columns]=\"columns\"\n                    [columnMode]=\"'force'\"\n                    [headerHeight]=\"10\"\n                    [footerHeight]=\"35\"\n                    [rowHeight]=\"35\"\n                    [externalPaging]=\"true\"\n                    [externalSorting]=\"true\"\n                    [scrollbarH]=\"true\"\n                    [count]=\"page.count\"\n                    [offset]=\"page.offset\"\n                    [limit]=\"page.limit\"\n                    [sortType]=\"'multi'\"\n                    [sorts]=\"[{prop: 'id_pessoa', dir: 'asc'}]\"\n                    (page)=\"pageCallback($event)\"&gt;\n\n                    &lt;ngx-datatable-column name=\"A\u00e7\u00f5es\" sortable=\"true\" prop=\"id_pessoa\" width=140&gt;\n                            &lt;ng-template let-row=\"data\" let-value=\"value\" ngx-datatable-cell-template&gt;                                  \n                                &lt;a class=\"btn btn-outline-primary mr-1\" [routerLink]=\"[value,'editar']\" href=\"javascript:void(0)\"&gt;\n                                    &lt;i class=\"fa fa-edit\" title=\"Editar\"&gt;&lt;/i&gt;\n                                &lt;/a&gt;\n                                &lt;a class=\"btn btn-outline-primary mr-1\" [routerLink]=\"[value,'subst']\" href=\"javascript:void(0)\"&gt;\n                                &lt;i class=\"fa fa-exchange\" title=\"Substituir\"&gt;&lt;/i&gt;\n                                &lt;/a&gt;\n                                &lt;a class=\"btn btn-outline-primary mr-1\" (click)=\"deletePessoa(value)\" href=\"javascript:void(0)\"&gt;\n                                    &lt;i class=\"fa fa-trash\" title=\"Remover\"&gt;&lt;/i&gt;\n                                &lt;/a&gt;                                    \n                            &lt;/ng-template&gt;\n                        &lt;/ngx-datatable-column&gt;                                             \n\n                    &lt;!--&lt;ngx-datatable-column name=\"Pr\u00e9-cad.\" prop=\"pre_cadastro\" width=75&gt;\n                        &lt;ng-template ngx-datatable-cell-template let-value=\"value\"&gt;\n                            &lt;span *ngIf=\"value\"&gt;\n                                &lt;i class=\"fa fa-check fa-2x\"&gt;&lt;/i&gt;\n                            &lt;/span&gt;\n                            &lt;span *ngIf=\"!value\"&gt;\n                                -\n                            &lt;/span&gt;\n                        &lt;/ng-template&gt;\n                    &lt;/ngx-datatable-column&gt;--&gt;\n\n                    &lt;ngx-datatable-column *ngFor=\"let col of columns\" [sortable]=\"true\" [name]=\"col.name\" [prop]=\"col.prop\" [width]=\"col.width\" [headerClass]=\"col.headerClass\" [cellClass]=\"col.cellClass\"&gt;\n                    &lt;/ngx-datatable-column&gt;\n                    &lt;ngx-datatable-column name=\"Inativo\" prop=\"inativo\" width=70&gt;\n                            &lt;ng-template ngx-datatable-cell-template let-value=\"value\"&gt;\n                                &lt;span *ngIf=\"value\"&gt;\n                                    &lt;i class=\"fa fa-check fa-2x\"&gt;&lt;/i&gt;\n                                &lt;/span&gt;\n                                &lt;span *ngIf=\"!value\"&gt;\n                                    -\n                                &lt;/span&gt;\n                            &lt;/ng-template&gt;\n                        &lt;/ngx-datatable-column&gt;\n\n\n                &lt;/ngx-datatable&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "edited": false, "score": 0, "creation_date": 1569444309, "post_id": 58106226, "comment_id": 102603366, "body": "Is the name of the file pre-determined and unique?"}, {"owner": {"reputation": 1036, "user_id": 1047387, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/dafc6fbb42c018adfcabeaf8d7c8103b?s=128&d=identicon&r=PG", "display_name": "Vyacheslav", "link": "https://stackoverflow.com/users/1047387/vyacheslav"}, "reply_to_user": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "edited": false, "score": 0, "creation_date": 1569444497, "post_id": 58106226, "comment_id": 102603426, "body": "which file? iframe.html and script.js are unique across all enviroments"}], "answers": [{"comments": [{"owner": {"reputation": 1214, "user_id": 1060646, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yqub2.jpg?s=128&g=1", "display_name": "HBlackorby", "link": "https://stackoverflow.com/users/1060646/hblackorby"}, "edited": false, "score": 1, "creation_date": 1569444946, "post_id": 58106383, "comment_id": 102603578, "body": "They could also add an ID to their SCRIPT tag, and just pull the path using the ID as a query selector. That would allow the file name not be set as a variable. Just an alternative solution."}, {"owner": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "reply_to_user": {"reputation": 1214, "user_id": 1060646, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yqub2.jpg?s=128&g=1", "display_name": "HBlackorby", "link": "https://stackoverflow.com/users/1060646/hblackorby"}, "edited": false, "score": 1, "creation_date": 1569445032, "post_id": 58106383, "comment_id": 102603617, "body": "@HBlackorby that assumes that OP is consuming the script. The consumer might be some other developer. In that case needing the script have an ID might be hard to convey."}, {"owner": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "reply_to_user": {"reputation": 1214, "user_id": 1060646, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yqub2.jpg?s=128&g=1", "display_name": "HBlackorby", "link": "https://stackoverflow.com/users/1060646/hblackorby"}, "edited": false, "score": 1, "creation_date": 1569445196, "post_id": 58106383, "comment_id": 102603664, "body": "@HBlackorby also, if you are to convince devs to add an ID to the script tag, then you might as well ask them to add a <code>data-origin</code> tag that tells the script where it was loaded from and bypass the issue entirely."}, {"owner": {"reputation": 1214, "user_id": 1060646, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yqub2.jpg?s=128&g=1", "display_name": "HBlackorby", "link": "https://stackoverflow.com/users/1060646/hblackorby"}, "edited": false, "score": 1, "creation_date": 1569445332, "post_id": 58106383, "comment_id": 102603707, "body": "He said it was his HTML page, so I assume he wrote/can update the HTML. If not, then your solution works great too."}, {"owner": {"reputation": 1036, "user_id": 1047387, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/dafc6fbb42c018adfcabeaf8d7c8103b?s=128&d=identicon&r=PG", "display_name": "Vyacheslav", "link": "https://stackoverflow.com/users/1047387/vyacheslav"}, "edited": false, "score": 0, "creation_date": 1569445883, "post_id": 58106383, "comment_id": 102603873, "body": "thanks guys, if that&#39;s the only solution (I was actually hoping for a more elegant one), then it&#39;s fine."}], "tags": [], "owner": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "is_accepted": true, "score": 1, "last_activity_date": 1569444791, "creation_date": 1569444791, "answer_id": 58106383, "question_id": 58106226, "link": "https://stackoverflow.com/questions/58106226/figuring-out-the-base-url-where-js-script-was-loaded-from-within-a-script/58106383#58106383", "title": "Figuring out the base URL where JS script was loaded from within a script", "body": "<blockquote>\n  <p>iframe.html and script.js are unique across all enviroments</p>\n</blockquote>\n\n<p>Assuming that the <code>script.js</code> file name is pre-determined and unique, we can search for a script tag that imports the given script. Then fetch the full source url from the script tag. </p>\n\n<p><strong>Note:</strong> In the example below I am using jquery simply because its available in the SO sandbox.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const fileName = 'jquery.min.js';\r\n\r\n// src$=\"foo\" is equivalent to \"where the value of the src field ends with 'foo' \"\r\nconst $script = document.querySelector(`script[src$=\"${fileName}\"]`);\r\nconst scriptSrc = $script.src;\r\n\r\nconsole.log(scriptSrc);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1036, "user_id": 1047387, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/dafc6fbb42c018adfcabeaf8d7c8103b?s=128&d=identicon&r=PG", "display_name": "Vyacheslav", "link": "https://stackoverflow.com/users/1047387/vyacheslav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 58106383, "answer_count": 1, "score": 0, "last_activity_date": 1569444791, "creation_date": 1569443933, "question_id": 58106226, "link": "https://stackoverflow.com/questions/58106226/figuring-out-the-base-url-where-js-script-was-loaded-from-within-a-script", "title": "Figuring out the base URL where JS script was loaded from within a script", "body": "<p>Assume that I have a JS script included into my HTML page <a href=\"http://app.example.com\" rel=\"nofollow noreferrer\">http://app.example.com</a>:</p>\n\n<pre><code>&lt;script src=\"http://app.foo.com/script.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>&lt;script src=\"http://app.bar.com/script.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>which is the same version of JS, but served from different domains.\nActually it's the same script that wants to know where it was loaded from.</p>\n\n<p>So basically I want script.js having the code:</p>\n\n<pre><code>// 'app.foo.com' or 'app.bar.com' returned depending where it was loaded from\nlet baseUrl = somehowGetTheBaseUrlWhereImHostedAt();\n</code></pre>\n\n<p>P.S. Actually the problem I'm trying to solve is that the JS script would load (insert into DOM) an iframe from app.foo.com/iframe.html if it comes from app.foo.com or app.bar.com/iframe.html if it comes from app.bar.com</p>\n"}, {"tags": ["javascript", "reactjs", "google-analytics"], "owner": {"reputation": 2800, "user_id": 7393155, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1051ac2ca2939fadb8b01fa691194a63?s=128&d=identicon&r=PG&f=1", "display_name": "Subhendu Kundu", "link": "https://stackoverflow.com/users/7393155/subhendu-kundu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 267, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1569482157, "creation_date": 1569443852, "last_edit_date": 1569482157, "question_id": 58106206, "link": "https://stackoverflow.com/questions/58106206/how-do-i-use-google-analytics-with-react-router-v5-and-staticrouter", "title": "How do I use Google Analytics with react-router v5 and StaticRouter?", "body": "<p>I am trying to add  Google Analytics with react-router v5 StaticRouter in my React SSR app\nas suggested in <a href=\"https://stackoverflow.com/questions/52724447/how-to-use-google-analytics-with-react\">How to use Google Analytics with React?</a>. I understand createBrowserHistory doesn't work so thought I will use createMemoryHistory. Seems the removed createMemoryHistory in v4? I would try to listen to route change in but couldn't figure out how to do that with SSR? Or I could write a HOC and fix it. But it seems this a bit cleaner and easier way to do it.</p>\n\n<p>Now to achieve something like this, how do I do it?</p>\n\n<pre><code>import ReactGA from 'react-ga';\nimport { createMemoryHistory } from 'history';\n\nReactGA.initialize('UA-*********-1');\n\n\nconst history = createMemoryHistory();\nhistory.listen(location =&gt; {\n  console.log('location', location);\n  ReactGA.set({ page: location.pathname });\n  ReactGA.pageview(location.pathname);\n});\n\nfunction NotFound() {\n  return &lt;h1&gt;Oops, nothing here!&lt;/h1&gt;;\n}\n\nfunction App() {\n  return (\n      &lt;Switch&gt;\n        {routes.map(({ path, component, isPublic, exact }) =&gt; (\n          isPublic ?\n            &lt;Route\n              key={path}\n              exact={exact}\n              path={path}\n              component={component}\n              history={history}\n            /&gt;\n            :\n            &lt;ProtectedRoute\n              isLoggedIn={user}\n              key={path}\n              path={path}\n              component={component}\n              exact={exact}\n              public={false}\n              history={history}\n            /&gt;\n        ))}\n        &lt;Route component={NotFound} /&gt;\n      &lt;/Switch&gt;)\n  );\n}\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 4, "creation_date": 1569443940, "post_id": 58106191, "comment_id": 102603238, "body": "Remove <code>element</code> from the function parameters and it will work. You are not passing anything to the function (because you are not calling the function). The function closes over the scope where <code>element</code> is defined (it&#39;s a closure). You are getting the error because the code that <i>actually</i> calls the function does not pass an argument to it."}], "answers": [{"tags": [], "owner": {"reputation": 448, "user_id": 10199179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rCoBS.png?s=128&g=1", "display_name": "Luis Barajas", "link": "https://stackoverflow.com/users/10199179/luis-barajas"}, "is_accepted": false, "score": 1, "last_activity_date": 1569444016, "creation_date": 1569444016, "answer_id": 58106245, "question_id": 58106191, "link": "https://stackoverflow.com/questions/58106191/how-to-pass-an-element-into-a-settimeout-function/58106245#58106245", "title": "How to pass an element into a setTimeOut function", "body": "<p>Inside the <code>setTimeout</code> function you're adding a param named <code>element</code>, so <code>element</code> inside that function is not the same as element declared before. \nRemove element as param like this</p>\n\n<pre><code>setTimeout(function() {\n    element.click();\n}, 200);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1699, "user_id": 8937209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bQ0HF.jpg?s=128&g=1", "display_name": "&#214;m&#252;rcan Cengiz", "link": "https://stackoverflow.com/users/8937209/%c3%96m%c3%bcrcan-cengiz"}, "is_accepted": true, "score": 1, "last_activity_date": 1569444109, "creation_date": 1569444109, "answer_id": 58106264, "question_id": 58106191, "link": "https://stackoverflow.com/questions/58106191/how-to-pass-an-element-into-a-settimeout-function/58106264#58106264", "title": "How to pass an element into a setTimeOut function", "body": "<p>Try this:</p>\n\n<pre><code>var element = document.querySelector(\".some-element\");\n\nsetTimeout(function() {\n     element.click();\n}, 200);\n</code></pre>\n\n<p>You are referring the element not the variable but the parameter.</p>\n"}], "owner": {"reputation": 5245, "user_id": 2814241, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/9c8b17ae63b15f9342f91d072eff6e7f?s=128&d=identicon&r=PG&f=1", "display_name": "HappyCoder", "link": "https://stackoverflow.com/users/2814241/happycoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 58106264, "answer_count": 2, "score": 0, "last_activity_date": 1569444109, "creation_date": 1569443799, "question_id": 58106191, "link": "https://stackoverflow.com/questions/58106191/how-to-pass-an-element-into-a-settimeout-function", "title": "How to pass an element into a setTimeOut function", "body": "<p>I am getting an <strong>element</strong> and I want to apply a click function to it with a delay. I am, however, unsure how to pass the element into the click function.</p>\n\n<p><strong>This is what I have:</strong>       </p>\n\n<pre><code>var element = document.querySelector(\".some-element\");\n\nsetTimeout(function(element) {\n    element.click();\n}, 200);\n</code></pre>\n\n<p>Error \"Uncaught TypeError: Cannot read property 'click' of undefined\"</p>\n\n<p>What is the correct way to do this?</p>\n\n<p>NOTE:\nThis works as expected without the setTimeout method.</p>\n"}, {"tags": ["javascript", "jquery", "dailymotion-api"], "answers": [{"comments": [{"owner": {"reputation": 320, "user_id": 4486780, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/hnzlh.jpg?s=128&g=1", "display_name": "Ahmed Elshorbagy", "link": "https://stackoverflow.com/users/4486780/ahmed-elshorbagy"}, "edited": false, "score": 0, "creation_date": 1570191087, "post_id": 58197868, "comment_id": 102845244, "body": "I load the SDK from this URL <a href=\"https://api.dmcdn.net/all.js\" rel=\"nofollow noreferrer\">api.dmcdn.net/all.js</a>, but I still have that error. I switched my code to use your iframe instead."}], "tags": [], "owner": {"reputation": 1416, "user_id": 3668925, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9bscI.png?s=128&g=1", "display_name": "dailymotion", "link": "https://stackoverflow.com/users/3668925/dailymotion"}, "is_accepted": false, "score": 1, "last_activity_date": 1570004814, "creation_date": 1570004814, "answer_id": 58197868, "question_id": 58106187, "link": "https://stackoverflow.com/questions/58106187/invalid-first-argument-sent-to-dm-player-this-element-is-already-a-player/58197868#58197868", "title": "Invalid first argument sent to DM.player(), this element is already a player", "body": "<p>We apology for the error you've encountered. This error is due to a regression we introduced in our SDK and fixed right after. You shouldn't have this error displayed again. Can you confirm this?</p>\n"}], "owner": {"reputation": 320, "user_id": 4486780, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/hnzlh.jpg?s=128&g=1", "display_name": "Ahmed Elshorbagy", "link": "https://stackoverflow.com/users/4486780/ahmed-elshorbagy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570004814, "creation_date": 1569443759, "question_id": 58106187, "link": "https://stackoverflow.com/questions/58106187/invalid-first-argument-sent-to-dm-player-this-element-is-already-a-player", "title": "Invalid first argument sent to DM.player(), this element is already a player", "body": "<p>I'm playing 3 videos from Dailymotion by JavaScript SDK. This is my code:</p>\n\n<pre><code>    var tag = document.createElement('script');\n\n    tag.src = \"https://api.dmcdn.net/all.js\";\n    var firstScriptTag = document.getElementsByTagName('script')[0];\n    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n\n    window.dmAsyncInit = function () {\n        var player = DM.player(\"divplayer\",\n            { video: VideoId, width: \"100%\", height: \"100%\", params: { \"endscreen-enable\": 0,\"ui-logo\":0 } });            \n    };        \n}\n</code></pre>\n\n<p>The first video is played with no problem but after that I get this Error:</p>\n\n<blockquote>\n  <p>Uncaught Error: Invalid first argument sent to DM.player(), this element is already a player: divplayer</p>\n</blockquote>\n\n<p>divplayer is a div element.</p>\n\n<p>I tried to empty the div content before calling my function but that did not work.</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["javascript", "firebase", "firebase-realtime-database"], "comments": [{"owner": {"reputation": 16607, "user_id": 829835, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/TteD0.jpg?s=128&g=1", "display_name": "rlemon", "link": "https://stackoverflow.com/users/829835/rlemon"}, "edited": false, "score": 0, "creation_date": 1569444150, "post_id": 58106185, "comment_id": 102603315, "body": "childSnapshot.val() must be returning an object. not a string."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1569444853, "post_id": 58106185, "comment_id": 102603551, "body": "<code>[object Object]</code> is what you get when you use an object where a string is required. So <code>childData[&#39;Accepted&#39;]</code> must be an object. What does <code>console.log(childData[&#39;Accepted&#39;])</code> show?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 16607, "user_id": 829835, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/TteD0.jpg?s=128&g=1", "display_name": "rlemon", "link": "https://stackoverflow.com/users/829835/rlemon"}, "edited": false, "score": 0, "creation_date": 1569444929, "post_id": 58106185, "comment_id": 102603570, "body": "@rlemon <code>childSnapthot.val()</code> has to be an object so you can use <code>childData[&#39;Accepted&#39;]</code>."}, {"owner": {"reputation": 16607, "user_id": 829835, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/TteD0.jpg?s=128&g=1", "display_name": "rlemon", "link": "https://stackoverflow.com/users/829835/rlemon"}, "edited": false, "score": 0, "creation_date": 1569445174, "post_id": 58106185, "comment_id": 102603661, "body": "yea duh. that was a brain fart comment on my part. I meant childData.Accepted must be an object. my bad"}, {"owner": {"reputation": 5, "user_id": 12067495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cd43d9c0054e5e9828da1874fd80bf2?s=128&d=identicon&r=PG&f=1", "display_name": "David Schober", "link": "https://stackoverflow.com/users/12067495/david-schober"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1569445446, "post_id": 58106185, "comment_id": 102603742, "body": "@Barmar  elm.innerHTML += console.log(childData[&#39;Accepted&#39;]);  elm.innerHTML + = console.log (childData [&#39;Accepted&#39;]); shows all entries, but instead of object object it shows undefined undefinedundefined ..."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1569445610, "post_id": 58106185, "comment_id": 102603800, "body": "Not <code>elm.innerHTML += console.log</code> just <code>console.log</code> by itself."}, {"owner": {"reputation": 5, "user_id": 12067495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cd43d9c0054e5e9828da1874fd80bf2?s=128&d=identicon&r=PG&f=1", "display_name": "David Schober", "link": "https://stackoverflow.com/users/12067495/david-schober"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1569445845, "post_id": 58106185, "comment_id": 102603863, "body": "@Barmar that shows nothing :/"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1569446827, "post_id": 58106185, "comment_id": 102604160, "body": "That&#39;s not possible. It should be the object that is being turned into <code>[object Object]</code>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1569446934, "post_id": 58106185, "comment_id": 102604194, "body": "As you can see from the screenshot, <code>childSnapshot.Accepted</code> is an object like <code>{LFd7aL...: &quot;lFd7aL...&quot;}</code>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1569447011, "post_id": 58106185, "comment_id": 102604223, "body": "Try using <code>elm.innerHTML += JSON.stringify(childData.Accepted)</code>"}, {"owner": {"reputation": 5, "user_id": 12067495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cd43d9c0054e5e9828da1874fd80bf2?s=128&d=identicon&r=PG&f=1", "display_name": "David Schober", "link": "https://stackoverflow.com/users/12067495/david-schober"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1569447346, "post_id": 58106185, "comment_id": 102604328, "body": "@Barma 1000 Thanks! That code works. I have been working on the problem for a very long time. I&#39;m really grateful for your help."}], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 1, "last_activity_date": 1569447404, "creation_date": 1569447404, "answer_id": 58106858, "question_id": 58106185, "link": "https://stackoverflow.com/questions/58106185/firebase-returning-object-object/58106858#58106858", "title": "Firebase returning [object Object]", "body": "<p><code>childData['Accepted'];</code> is an object, not a string. If you want to see a representation of it, use <code>JSON.stringify()</code>.</p>\n\n<pre><code>    elm.innerHTML += JSON.stringify(childData['Accepted']);\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 12067495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cd43d9c0054e5e9828da1874fd80bf2?s=128&d=identicon&r=PG&f=1", "display_name": "David Schober", "link": "https://stackoverflow.com/users/12067495/david-schober"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 315, "favorite_count": 0, "accepted_answer_id": 58106858, "answer_count": 1, "score": 0, "last_activity_date": 1569447404, "creation_date": 1569443758, "last_edit_date": 1569443979, "question_id": 58106185, "link": "https://stackoverflow.com/questions/58106185/firebase-returning-object-object", "title": "Firebase returning [object Object]", "body": "<p>I have the following problem. The code recognizes that there is something and shows all the entries, but not the content, but only displays [object object]. \nI really want to read everything that is in the category \"abgeschlosseneAuftraege\" and also all subcategories. But for now I try to read at least 1 entry.\nI would be very grateful for help.</p>\n\n<pre><code>firebase.database().ref(\"/abgeschlosseneAuftraege\").on('value', function(snapshot){\n  let elm = document.getElementById(\"data\");\n  elm.innerHTML = '';\n\n  snapshot.forEach(function(childSnapshot){\n    var childKey = childSnapshot.key;\n    var childData = childSnapshot.val();\n    elm.innerHTML += childData['Accepted'];\n  })\n})\n    getData();\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/8YA4R.jpg\" rel=\"nofollow noreferrer\">Firebase</a></p>\n"}, {"tags": ["javascript", "vue.js"], "answers": [{"tags": [], "owner": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "is_accepted": false, "score": 1, "last_activity_date": 1569446050, "last_edit_date": 1569446050, "creation_date": 1569445304, "answer_id": 58106490, "question_id": 58106182, "link": "https://stackoverflow.com/questions/58106182/vuejs-how-to-capture-the-value-inside-the-input-name/58106490#58106490", "title": "vuejs - how to capture the value inside the input name?", "body": "<p>Per the documentation for <a href=\"https://www.npmjs.com/package/vue-js-toggle-button#events\" rel=\"nofollow noreferrer\">vue-js-toggle-button events</a>, the event value emitted from a click will be an object containing two properties, <code>value</code> and <code>srcEvent</code>. <code>value</code> is the \"state of the object\" and <code>srcEvent</code> would be the \"source click event\". <code>srcEvent</code> is where you could access <code>target</code> if you need. Try the following:</p>\n\n<pre><code>&lt;toggle-button\n  color=\"rgba(9, 90, 6, 1)\"\n  @change=\"SaveConfigFinalSemana($event)\"\n  name=\"email\" ref='email'\n  :labels=\"{checked: 'Sim', unchecked: 'N\u00e3o'}\"\n/&gt;\n</code></pre>\n\n<p>Here is an example of method/handler SaveConfigFinalSemana logging out the <code>value</code> and <code>srcEvent</code> properties present on the emitted object:</p>\n\n<pre><code>SaveConfigFinalSemana: function($event) {\n  console.log($event.value);\n  console.log($event.srcEvent);\n}\n</code></pre>\n\n<p>If you need the DOM event <code>target</code> property and the <code>name</code> property of <code>target</code>, you could access it like:</p>\n\n<pre><code>SaveConfigFinalSemana: function($event) {\n  console.log($event.srcEvent.target);\n  console.log($event.srcEvent.target.name);\n}\n</code></pre>\n\n<p>Here is an <a href=\"https://stackblitz.com/edit/vue-aywdyc\" rel=\"nofollow noreferrer\">example</a> in action.</p>\n\n<p>Hopefully that helps!</p>\n"}], "owner": {"reputation": 1, "user_id": 12100059, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216973582884557/picture?type=large", "display_name": "Giulia Lage", "link": "https://stackoverflow.com/users/12100059/giulia-lage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569499387, "creation_date": 1569443743, "last_edit_date": 1569499387, "question_id": 58106182, "link": "https://stackoverflow.com/questions/58106182/vuejs-how-to-capture-the-value-inside-the-input-name", "title": "vuejs - how to capture the value inside the input name?", "body": "<p>I'm using <code>vue-js-toggle-button</code> library.</p>\n\n<p>I know I could access the value inside the name using $refs but I have 3 toggle buttons and I cant set Ref because I wanna to get the name value dynamically in \"payload\"...</p>\n\n<p>In others buttons I used <code>@click=\"Myfucntion($event.target)\"</code></p>\n\n<p>but <code>$event.target</code> doesn't work with @change in this library. </p>\n\n<pre><code>    &lt;toggle-button\n          color=\"rgba(9, 90, 6, 1)\"\n          @change=\"SaveConfigFinalSemana($event)\"\n          name=\"email\"\n          ref='email'\n          :labels=\"{checked: 'Sim', unchecked: 'N\u00e3o'}\"\n        /&gt;\n\n&lt;toggle-button\n          color=\"rgba(9, 90, 6, 1)\"\n          @change=\"SaveConfigFinalSemana($event)\"\n          name=\"sms\"\n          ref='sms'\n          :labels=\"{checked: 'Sim', unchecked: 'N\u00e3o'}\"\n        /&gt;\n\n&lt;toggle-button\n          color=\"rgba(9, 90, 6, 1)\"\n          @change=\"SaveConfigFinalSemana($event)\"\n          name=\"wpp\"\n          ref='wpp'\n          :labels=\"{checked: 'Sim', unchecked: 'N\u00e3o'}\"\n        /&gt;\n\n const payload = {\n        disparos_fds: elemento.value,\n        tipo_envio: this.$refs.wpp.name,\n        client_uuid: user.company_uuid\n      };\n</code></pre>\n"}, {"tags": ["javascript", "json", "transformation", "jsonata"], "answers": [{"comments": [{"owner": {"reputation": 1088, "user_id": 1605761, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bKwVf.jpg?s=128&g=1", "display_name": "doer_uvc", "link": "https://stackoverflow.com/users/1605761/doer-uvc"}, "edited": false, "score": 0, "creation_date": 1570785500, "post_id": 58310679, "comment_id": 103031986, "body": "This looks promising. Can you share your code for custom serializer. If possible , we can connect over email."}], "tags": [], "owner": {"reputation": 3327, "user_id": 151365, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/38192b1ecf3325b5255a6b837c75c16e?s=128&d=identicon&r=PG", "display_name": "logan", "link": "https://stackoverflow.com/users/151365/logan"}, "is_accepted": false, "score": 2, "last_activity_date": 1570647997, "creation_date": 1570647997, "answer_id": 58310679, "question_id": 58106179, "link": "https://stackoverflow.com/questions/58106179/merging-two-jsonata-expressions/58310679#58310679", "title": "Merging two JSONata expressions", "body": "<p>I think that your best bet might be to translate your expressions to the JSONata <a href=\"https://en.wikipedia.org/wiki/Abstract_syntax_tree\" rel=\"nofollow noreferrer\">AST</a> and then merge them into a new AST.</p>\n\n<p>Here's a super simple example:</p>\n\n<pre><code>const ast1 = jsonata(expr1).ast();\nconst ast2 = jsonata(expr1).ast();\n\nif (ast1.type !== \"unary\" || ast2.type!== \"unary\") throw Error(\"Only support unary expressions\")\n\nconst combinedAst = {\n  \"type\": \"unary\",\n  \"value\": \"{\",\n  \"lhs\": [...ast1.lhs, ast2.lhs]   \n }\n\n // TODO: Serialize the AST or inject it into jsonata() \n</code></pre>\n\n<p>The problem is what to do with your new AST. In my case I also wrote a custom serializer to turn the AST back into a JSONata string, and evaluate that.</p>\n\n<hr>\n\n<h2>ASTs in use</h2>\n\n<p><strong>AST for Expression 1</strong></p>\n\n<pre><code>{\n  \"type\": \"unary\",\n  \"value\": \"{\",\n  \"position\": 1,\n  \"lhs\": [\n    [\n      {\n        \"value\": \"source\",\n        \"type\": \"string\",\n        \"position\": 13\n      },\n      {\n        \"type\": \"path\",\n        \"steps\": [\n          {\n            \"value\": \"source\",\n            \"type\": \"name\",\n            \"position\": 22\n          }\n        ]\n      }\n    ]\n  ]\n}\n</code></pre>\n\n<p><strong>AST for Expression 2</strong></p>\n\n<pre><code>{\n  \"type\": \"unary\",\n  \"value\": \"{\",\n  \"position\": 1,\n  \"lhs\": [\n    [\n      {\n        \"value\": \"data\",\n        \"type\": \"string\",\n        \"position\": 10\n      },\n      {\n        \"type\": \"unary\",\n        \"value\": \"{\",\n        \"position\": 13,\n        \"lhs\": [\n          [\n            {\n              \"value\": \"email\",\n              \"type\": \"string\",\n              \"position\": 26\n            },\n            {\n              \"type\": \"path\",\n              \"steps\": [\n                {\n                  \"value\": \"data\",\n                  \"type\": \"name\",\n                  \"position\": 33\n                },\n                {\n                  \"value\": \"payload\",\n                  \"type\": \"name\",\n                  \"position\": 41\n                },\n                {\n                  \"value\": \"Email\",\n                  \"type\": \"name\",\n                  \"position\": 47\n                }\n              ]\n            }\n          ]\n        ]\n      }\n    ]\n  ]\n}\n</code></pre>\n\n<p><strong>Combined AST</strong></p>\n\n<pre><code>{\n  \"type\": \"unary\",\n  \"value\": \"{\",\n  \"position\": 1,\n  \"lhs\": [\n    [\n      {\n        \"value\": \"source\",\n        \"type\": \"string\",\n        \"position\": 12\n      },\n      {\n        \"type\": \"path\",\n        \"steps\": [\n          {\n            \"value\": \"source\",\n            \"type\": \"name\",\n            \"position\": 20\n          }\n        ]\n      }\n    ],\n    [\n      {\n        \"value\": \"data\",\n        \"type\": \"string\",\n        \"position\": 30\n      },\n      {\n        \"type\": \"unary\",\n        \"value\": \"{\",\n        \"position\": 33,\n        \"lhs\": [\n          [\n            {\n              \"value\": \"email\",\n              \"type\": \"string\",\n              \"position\": 46\n            },\n            {\n              \"type\": \"path\",\n              \"steps\": [\n                {\n                  \"value\": \"data\",\n                  \"type\": \"name\",\n                  \"position\": 53\n                },\n                {\n                  \"value\": \"payload\",\n                  \"type\": \"name\",\n                  \"position\": 61\n                },\n                {\n                  \"value\": \"Email\",\n                  \"type\": \"name\",\n                  \"position\": 67\n                }\n              ]\n            }\n          ]\n        ]\n      }\n    ]\n  ]\n}\n</code></pre>\n"}], "owner": {"reputation": 1088, "user_id": 1605761, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bKwVf.jpg?s=128&g=1", "display_name": "doer_uvc", "link": "https://stackoverflow.com/users/1605761/doer-uvc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 560, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1575367632, "creation_date": 1569443716, "last_edit_date": 1569444698, "question_id": 58106179, "link": "https://stackoverflow.com/questions/58106179/merging-two-jsonata-expressions", "title": "Merging two JSONata expressions", "body": "<p>I am using JSONata for performing JSON to JSON transformation.</p>\n\n<p>For some unique reasons, I want to merge two JSONata expressions :</p>\n\n<p>As an example : </p>\n\n<p><strong>Parent Expression:</strong></p>\n\n<pre><code>var script = `\n{\n      \"data\":\n      {\n          \"name\" : data.payload.Name.(FirstName &amp; ' ' &amp; LastName),    \n          \"alias\": data.payload.Name.(Salutation &amp; ' ' &amp; FirstName),\n          \"active\": data.payload.Status = 'New' ? true : false,\n          \"signature\": \"Have good day ,\" &amp; data.payload.Name.FirstName &amp; \"!\"\n       }       \n  }\n`;\n</code></pre>\n\n<p>Also I have few simple assignment kind of JSONata expression like :</p>\n\n<p><strong>Expression 1 :</strong></p>\n\n<pre><code>{\n   \"source\" : source\n}\n</code></pre>\n\n<p><strong>Expression 2 :</strong></p>\n\n<pre><code>{\n  \"data\": {\n     \"email\" : data.payload.Email\n   }\n}\n</code></pre>\n\n<p>I would like to add above two expressions to expressions defined using <code>script</code>.</p>\n\n<p>So after adding these two expressions, I should be able to get :</p>\n\n<pre><code>var script = `\n{\n      \"source\": source,\n      \"data\":\n      {\n          \"name\" : data.payload.Name.(FirstName &amp; ' ' &amp; LastName),    \n          \"alias\": data.payload.Name.(Salutation &amp; ' ' &amp; FirstName),\n          \"active\": data.payload.Status = 'New' ? true : false,\n          \"signature\": \"Have good day ,\" &amp; data.payload.Name.FirstName &amp; \"!\",\n          \"email\": data.payload.Email\n       }       \n  }\n`;\n</code></pre>\n\n<p>How do I do using javascript/JSONata ?</p>\n\n<p><strong>Background and constraints :</strong> </p>\n\n<ol>\n<li><p>Child Expressions (expression 1 and 2 in the example) (that is supposed to be added into Parent expression) will always be simple assignment like <code>\"a\" : x.y.z or \"b\" : x</code>.</p></li>\n<li><p>Child Expressions may already be present in parent expression. In that case, it replaces assignment.</p></li>\n<li><p>Also I want to delete some json paths from parent expression (ofcouse , if it is present) like If delete path <code>data.Email</code>.</p></li>\n</ol>\n\n<p><strong>What I have done ? :</strong></p>\n\n<ul>\n<li>I tried to convert JSONata script to JSON by putting values under double quotes and encoding value using escape() function. </li>\n<li><p>Once I have JSON, I look for path mentioned in child expression (like data.Email)</p>\n\n<ul>\n<li>If path exists : replace its value</li>\n<li>If path does not exist : create path and assign value</li>\n<li>If path is supposed to be deleted : simply delete it.</li>\n</ul></li>\n<li><p>Once I have done processing above JSON,\nI convert it to JSONata script by removing quotes using bunch of regex and then applying unescape() method for decoding.</p></li>\n<li><p>The problem with this approach is :</p>\n\n<ul>\n<li>It is not reliable (regex matching and replacement is not fullproof)</li>\n<li>I am not sure whether every JSONata (which does not declare any functions) can be converted to valid JSON always.</li>\n</ul></li>\n</ul>\n"}, {"tags": ["javascript", "firebase", "google-cloud-firestore", "firebase-admin"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1569443772, "post_id": 58106160, "comment_id": 102603179, "body": "Please edit the question to show exactly the documents in the collection that you expect to be returned by this query, along with the actual values for <code>firstDay</code> and all other variables.  Without seeing actual data, we have no idea if you&#39;re asking for documents that match the query.  Your question should illustrate that the query definitely does not match your expectation, for everyone to see."}, {"owner": {"reputation": 119, "user_id": 10413504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f7dbe83e4e37c95fd45b1228b2c133a?s=128&d=identicon&r=PG&f=1", "display_name": "J.D", "link": "https://stackoverflow.com/users/10413504/j-d"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1569444643, "post_id": 58106160, "comment_id": 102603472, "body": "@DougStevenson I added a picture of the database structure and a document with its field."}, {"owner": {"reputation": 64, "user_id": 7954157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4a81cf15319eef08e72c405d3417499?s=128&d=identicon&r=PG&f=1", "display_name": "Aye_baybae", "link": "https://stackoverflow.com/users/7954157/aye-baybae"}, "edited": false, "score": 0, "creation_date": 1569445102, "post_id": 58106160, "comment_id": 102603638, "body": "I think you might be comparing wrong types. you are comparing date with a timestamp. A timestamp value is getting compared with a date type. Here is some more info: <a href=\"https://stackoverflow.com/questions/19141030/difference-between-oracle-date-and-timestamp\" title=\"difference between oracle date and timestamp\">stackoverflow.com/questions/19141030/&hellip;</a>"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "reply_to_user": {"reputation": 64, "user_id": 7954157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4a81cf15319eef08e72c405d3417499?s=128&d=identicon&r=PG&f=1", "display_name": "Aye_baybae", "link": "https://stackoverflow.com/users/7954157/aye-baybae"}, "edited": false, "score": 0, "creation_date": 1569445405, "post_id": 58106160, "comment_id": 102603733, "body": "@Aye_baybae dates are comparable to timestamps.  That&#39;s not a problem.  The issue that still is unclear is the timezone of the date.  Which timezone is required for <code>2018-08-03</code>? Not everyone in the world is on the same day."}, {"owner": {"reputation": 119, "user_id": 10413504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f7dbe83e4e37c95fd45b1228b2c133a?s=128&d=identicon&r=PG&f=1", "display_name": "J.D", "link": "https://stackoverflow.com/users/10413504/j-d"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1569446127, "post_id": 58106160, "comment_id": 102603952, "body": "@DougStevenson I&#39;m ignoring the timezone, the thing that I don&#39;t understand i why using &#39;==&#39; is returning the document with that specific timestamp but using &#39;&gt;=&#39; or &#39;&lt;=&#39; is not working."}, {"owner": {"reputation": 1159, "user_id": 11765092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d90045980ae3429e306c75c5fe4b8688?s=128&d=identicon&r=PG&f=1", "display_name": "pessolato", "link": "https://stackoverflow.com/users/11765092/pessolato"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1569847238, "post_id": 58106160, "comment_id": 102717447, "body": "I just tested it with a new project and the behavior of the \u2018==\u2019 and the \u2018&gt;=\u2019 operators worked as expected for a timestamp field. I believe @DougStevenson is correct in this case. It would help a lot if you could share a log of the values from the query that does work, and also show us how you are declaring the value for the <code>firstDay</code> variable."}, {"owner": {"reputation": 119, "user_id": 10413504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f7dbe83e4e37c95fd45b1228b2c133a?s=128&d=identicon&r=PG&f=1", "display_name": "J.D", "link": "https://stackoverflow.com/users/10413504/j-d"}, "reply_to_user": {"reputation": 1159, "user_id": 11765092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d90045980ae3429e306c75c5fe4b8688?s=128&d=identicon&r=PG&f=1", "display_name": "pessolato", "link": "https://stackoverflow.com/users/11765092/pessolato"}, "edited": false, "score": 0, "creation_date": 1569926656, "post_id": 58106160, "comment_id": 102746011, "body": "@pessolato adde the logs and the firstDay variable line at the code section."}, {"owner": {"reputation": 1159, "user_id": 11765092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d90045980ae3429e306c75c5fe4b8688?s=128&d=identicon&r=PG&f=1", "display_name": "pessolato", "link": "https://stackoverflow.com/users/11765092/pessolato"}, "edited": false, "score": 0, "creation_date": 1570024655, "post_id": 58106160, "comment_id": 102784163, "body": "I apologise, what I meant in my previous comment was to log the results from the query with the <code>==</code> operator, the logs for the actual query object do not provide any useful information."}, {"owner": {"reputation": 119, "user_id": 10413504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f7dbe83e4e37c95fd45b1228b2c133a?s=128&d=identicon&r=PG&f=1", "display_name": "J.D", "link": "https://stackoverflow.com/users/10413504/j-d"}, "reply_to_user": {"reputation": 1159, "user_id": 11765092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d90045980ae3429e306c75c5fe4b8688?s=128&d=identicon&r=PG&f=1", "display_name": "pessolato", "link": "https://stackoverflow.com/users/11765092/pessolato"}, "edited": false, "score": 0, "creation_date": 1570054948, "post_id": 58106160, "comment_id": 102797662, "body": "@pessolato I added the query result as requested."}], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 10413504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f7dbe83e4e37c95fd45b1228b2c133a?s=128&d=identicon&r=PG&f=1", "display_name": "J.D", "link": "https://stackoverflow.com/users/10413504/j-d"}, "edited": false, "score": 0, "creation_date": 1569492358, "post_id": 58109870, "comment_id": 102618117, "body": "Yeah, but how am I supposed to use it on the where clause?"}, {"owner": {"reputation": 24, "user_id": 12093901, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4BiCnHcXmlM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdVQfld3XaXe1J3BwxkJ70K87AwFw/photo.jpg?sz=128", "display_name": "Karan Hotwani", "link": "https://stackoverflow.com/users/12093901/karan-hotwani"}, "reply_to_user": {"reputation": 119, "user_id": 10413504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f7dbe83e4e37c95fd45b1228b2c133a?s=128&d=identicon&r=PG&f=1", "display_name": "J.D", "link": "https://stackoverflow.com/users/10413504/j-d"}, "edited": false, "score": 0, "creation_date": 1569496800, "post_id": 58109870, "comment_id": 102620446, "body": "get all the data and store it in some data structure like array or object. Then traverse it and compare each of them and store valid data in another array &amp;then use it. There is no way to do the comparison of two different types of date directly using where clause. Also u don&#39;t have to  use then after using async await. Just write the code directly after await"}], "tags": [], "owner": {"reputation": 24, "user_id": 12093901, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4BiCnHcXmlM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdVQfld3XaXe1J3BwxkJ70K87AwFw/photo.jpg?sz=128", "display_name": "Karan Hotwani", "link": "https://stackoverflow.com/users/12093901/karan-hotwani"}, "is_accepted": false, "score": 0, "last_activity_date": 1569474299, "creation_date": 1569474299, "answer_id": 58109870, "question_id": 58106160, "link": "https://stackoverflow.com/questions/58106160/querying-data-in-firestore-by-timestamp/58109870#58109870", "title": "Querying data in firestore by timestamp", "body": "<p>Take your date and convert into javascript date object. Then do getTime() on converted date object it will return a number. Then get firestore timestamp and do getSeconds().Compare seconds value of firestore timestamp with the variable storing output of getTime(). </p>\n"}, {"tags": [], "owner": {"reputation": 1159, "user_id": 11765092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d90045980ae3429e306c75c5fe4b8688?s=128&d=identicon&r=PG&f=1", "display_name": "pessolato", "link": "https://stackoverflow.com/users/11765092/pessolato"}, "is_accepted": true, "score": 2, "last_activity_date": 1570110709, "creation_date": 1570110709, "answer_id": 58220624, "question_id": 58106160, "link": "https://stackoverflow.com/questions/58106160/querying-data-in-firestore-by-timestamp/58220624#58220624", "title": "Querying data in firestore by timestamp", "body": "<p>So I was testing it out, with what I believe to be a very similar set up to what you presented, and I was actually able to reproduce the same behaviour.</p>\n\n<p>After testing different possibilities, I found that the issue for me had nothing to do with the datatype of the fields, but with the <strong>configuration of the composite index</strong>.</p>\n\n<p>The composite index configuration required to make this query work was the following:</p>\n\n<p><a href=\"https://i.stack.imgur.com/itSm7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/itSm7.png\" alt=\"enter image description here\"></a></p>\n\n<p>According to the <a href=\"https://cloud.google.com/firestore/docs/concepts/index-overview#queries_supported_by_composite_indexes\" rel=\"nofollow noreferrer\">Queries supported by composite indexes</a> section of the documentation, the indexes for these kind of compound queries should have the equality filtered field first, this is not explicitly said, but it is how the docs present it in the examples.</p>\n\n<p>Let me know if this managed to resolve the issue for you.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14645804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0f174f5054051a8fd2e7ae011b93e18?s=128&d=identicon&r=PG&f=1", "display_name": "abbasaleid", "link": "https://stackoverflow.com/users/14645804/abbasaleid"}, "is_accepted": false, "score": 0, "last_activity_date": 1605501650, "creation_date": 1605501650, "answer_id": 64852777, "question_id": 58106160, "link": "https://stackoverflow.com/questions/58106160/querying-data-in-firestore-by-timestamp/64852777#64852777", "title": "Querying data in firestore by timestamp", "body": "<blockquote>\n<p>The query requires a COLLECTION_ASC index for collection transactions and field date. That index is not ready yet.</p>\n</blockquote>\n<p>Why not create the index as the error is suggesting? This might fundamentally solve your issue.</p>\n"}], "owner": {"reputation": 119, "user_id": 10413504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f7dbe83e4e37c95fd45b1228b2c133a?s=128&d=identicon&r=PG&f=1", "display_name": "J.D", "link": "https://stackoverflow.com/users/10413504/j-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1204, "favorite_count": 0, "accepted_answer_id": 58220624, "answer_count": 3, "score": 3, "last_activity_date": 1605501650, "creation_date": 1569443625, "last_edit_date": 1572211864, "question_id": 58106160, "link": "https://stackoverflow.com/questions/58106160/querying-data-in-firestore-by-timestamp", "title": "Querying data in firestore by timestamp", "body": "<p>I'm querying documents by timestamp and it is returning an empty array. However it works when I use <strong>\"==\"</strong> ex:<strong>.where('date', '==',timestamp)</strong>, and returns empty array when I use <strong>'>='</strong> or <strong>'&lt;='</strong>.</p>\n\n<p>I have tried to convert timestamp into date object and string also but no success.</p>\n\n<p><strong>Note</strong>: The <strong>date</strong> field in firestore is of type <strong>Timestamp</strong>.</p>\n\n<p>I'm querying documents with date greater than '2018-08-03' in the collection.</p>\n\n<p>Below is a picture of the collection of transactions (left) and the document(right) which should be part of the array of documents returned, because the date is greater than '2018-08-03'</p>\n\n<p><a href=\"https://i.stack.imgur.com/P0kxU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P0kxU.png\" alt=\"enter image description here\"></a></p>\n\n<p>Below is my code.</p>\n\n<pre><code>  const firstDay = new Date('2018-08-03');\n  const timestamp1 = admin.firestore.Timestamp.fromDate(firstDay);\n  const trans = [];\n  const docRef = db.collection('Users').doc(uid).collection('transactions').where('item_id', '==', item_id)\n    .where('date', '&gt;=', timestamp1);\n  await docRef.get()\n    .then((snapshot) =&gt; {\n      snapshot.forEach((doc) =&gt; {\n        trans.push({ transaction_id: doc.id, transaction: doc.data() });\n      });\n    })\n    .catch(err =&gt; new Error('cannot get the documents', err));\n</code></pre>\n\n<p><strong>Expected result</strong>: should be an array with transactions with date greater than specified above.</p>\n\n<p><strong>Actual result</strong>: empty array.</p>\n\n<p>Since its working for equality <strong>==</strong>, I assumed that <strong>>=</strong> and <strong>&lt;=</strong> would work. Anything I'm missing here?</p>\n\n<pre><code>Logs after trying \"&gt;\" (equal to timestamp1)\n\nFirestore (2.3.0) 2019-10-03T14:01:25.013Z AObRG [ClientPool.acquire]: Re-using existing client with 100 remaining operations\nFirestore (2.3.0) 2019-10-03T14:01:25.015Z AObRG [Firestore.readStream]: Sending request: {\"parent\":\"projects/valuemo-000/databases/(default)/documents/Users/Xmr3vKT19OSST02DSTDMt0jSq692\",\"structuredQuery\":{\"from\":[{\"collectionId\":\"transactions\"}],\"where\":{\"compositeFilter\":{\"op\":\"AND\",\"filters\":[{\"fieldFilter\":{\"field\":{\"fieldPath\":\"item_id\"},\"op\":\"EQUAL\",\"value\":{\"stringValue\":\"zGRkpP3QkzI89zKyDjZ7FPDrXd5G3Bco5ENlR\"}}},{\"fieldFilter\":{\"field\":{\"fieldPath\":\"date\"},\"op\":\"EQUAL\",\"value\":{\"timestampValue\":{\"seconds\":1533254400}}}}]}}}}\nFirestore (2.3.0) 2019-10-03T14:01:25.232Z AObRG [Firestore._initializeStream]: Received stream error: { Error: The query requires a COLLECTION_ASC index \nfor collection transactions and field date. That index is not ready yet. See its status here: https://console.firebase.google.com/project/valuemo-000/database/firestore/indexes/single_field?create_exemption=ClJwcm9qZWN0cy92YWx1ZW1vLTAwMC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvdHJhbnNhY3Rpb25zL2ZpZWxkcy9kYXRlEAEaCAoEZGF0ZRAB\n    at Http2CallStream.call.on (D:\\Projects\\Valuemo-firebase\\node_modules\\@grpc\\grpc-js\\build\\src\\call.js:68:41)\n    at Http2CallStream.emit (events.js:194:15)\n    at process.nextTick (D:\\Projects\\Valuemo-firebase\\node_modules\\@grpc\\grpc-js\\build\\src\\call-stream.js:71:22)\n    at process.internalTickCallback (internal/process/next_tick.js:70:11)\n  code: 9,\n  details:\n   'The query requires a COLLECTION_ASC index for collection transactions and field date. That index is not ready yet. See its status here: https://console.firebase.google.com/project/valuemo-000/database/firestore/indexes/single_field?create_exemption=ClJwcm9qZWN0cy92YWx1ZW1vLTAwMC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvdHJhbnNhY3Rpb25zL2ZpZWxkcy9kYXRlEAEaCAoEZGF0ZRAB',\n  metadata: Metadata { options: undefined, internalRepr: Map {} } }\nFirestore (2.3.0) 2019-10-03T14:01:25.256Z AObRG [Firestore._initializeStream]: Received initial error: { Error: The query requires a COLLECTION_ASC index for collection transactions and field date. That index is not ready yet. See its status here: https://console.firebase.google.com/project/valuemo-000/database/firestore/indexes/single_field?create_exemption=ClJwcm9qZWN0cy92YWx1ZW1vLTAwMC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvdHJhbnNhY3Rpb25zL2ZpZWxkcy9kYXRlEAEaCAoEZGF0ZRAB\n    at Http2CallStream.call.on (D:\\Projects\\Valuemo-firebase\\node_modules\\@grpc\\grpc-js\\build\\src\\call.js:68:41)\n    at Http2CallStream.emit (events.js:194:15)\n    at process.nextTick (D:\\Projects\\Valuemo-firebase\\node_modules\\@grpc\\grpc-js\\build\\src\\call-stream.js:71:22)\n    at process.internalTickCallback (internal/process/next_tick.js:70:11)\n  code: 9,\n  details:\n   'The query requires a COLLECTION_ASC index for collection transactions and field date. That index is not ready yet. See its status here: https://console.firebase.google.com/project/valuemo-000/database/firestore/indexes/single_field?create_exemption=ClJwcm9qZWN0cy92YWx1ZW1vLTAwMC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvdHJhbnNhY3Rpb25zL2ZpZWxkcy9kYXRlEAEaCAoEZGF0ZRAB',\n  metadata: Metadata { options: undefined, internalRepr: Map {} } }\nFirestore (2.3.0) 2019-10-03T14:01:25.260Z AObRG [Firestore._retry]: Request failed with unrecoverable error: { Error: The query requires a COLLECTION_ASC index for collection transactions and field date. That index is not ready yet. See its status here: https://console.firebase.google.com/project/valuemo-000/database/firestore/indexes/single_field?create_exemption=ClJwcm9qZWN0cy92YWx1ZW1vLTAwMC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvdHJhbnNhY3Rpb25zL2ZpZWxkcy9kYXRlEAEaCAoEZGF0ZRAB\n    at Http2CallStream.call.on (D:\\Projects\\Valuemo-firebase\\node_modules\\@grpc\\grpc-js\\build\\src\\call.js:68:41)\n    at Http2CallStream.emit (events.js:194:15)\n    at process.nextTick (D:\\Projects\\Valuemo-firebase\\node_modules\\@grpc\\grpc-js\\build\\src\\call-stream.js:71:22)\n    at process.internalTickCallback (internal/process/next_tick.js:70:11)\n  code: 9,\n  details:\n   'The query requires a COLLECTION_ASC index for collection transactions and field date. That index is not ready yet. See its status here: https://console.firebase.google.com/project/valuemo-000/database/firestore/indexes/single_field?create_exemption=ClJwcm9qZWN0cy92YWx1ZW1vLTAwMC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvdHJhbnNhY3Rpb25zL2ZpZWxkcy9kYXRlEAEaCAoEZGF0ZRAB',\n  metadata: Metadata { options: undefined, internalRepr: Map {} } }\n</code></pre>\n"}, {"tags": ["javascript", "http-headers"], "comments": [{"owner": {"reputation": 597, "user_id": 1511193, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/trodc.jpg?s=128&g=1", "display_name": "vmrvictor", "link": "https://stackoverflow.com/users/1511193/vmrvictor"}, "edited": false, "score": 0, "creation_date": 1569443783, "post_id": 58106132, "comment_id": 102603180, "body": "http header has a origin attribute"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1569444311, "post_id": 58106132, "comment_id": 102603367, "body": "What is the use case? Maybe there&#39;s another solution."}, {"owner": {"reputation": 1079, "user_id": 8606992, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rNyz3YV6Mlc/AAAAAAAAAAI/AAAAAAAAABw/-znmvkqZgOU/photo.jpg?sz=128", "display_name": "Toxnyc", "link": "https://stackoverflow.com/users/8606992/toxnyc"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1569445552, "post_id": 58106132, "comment_id": 102603777, "body": "@ChrisG Let&#39;s say I have a note-taking chrome extension app, I use the current URL as the key and attach notes to it as a way to determine the note is associated with this URL. Now, the site owner decides to upgrade his site and change the URL completely, and redirects all users to this new URL pattern. How do I retrieve my notes for both the new and old URL?"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1569448597, "post_id": 58106132, "comment_id": 102604685, "body": "A redirect only happens if the user first navigates to the original URL. Maybe you can catch that via <code>chrome.webNavigation.onCommited</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 1214, "user_id": 1060646, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yqub2.jpg?s=128&g=1", "display_name": "HBlackorby", "link": "https://stackoverflow.com/users/1060646/hblackorby"}, "edited": false, "score": 0, "creation_date": 1569443987, "post_id": 58106215, "comment_id": 102603256, "body": "Origin only gives you the server, it won&#39;t give you the full path to the page that might have redirected you there."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user11263277"}, "is_accepted": false, "score": 0, "last_activity_date": 1569443883, "creation_date": 1569443883, "answer_id": 58106215, "question_id": 58106132, "link": "https://stackoverflow.com/questions/58106132/how-do-you-detect-if-the-page-is-a-redirect-using-javascript-in-the-client-side/58106215#58106215", "title": "How do you detect if the page is a redirect using Javascript in the client side", "body": "<p>The HTTP Header will have a Origin Attribute check there.</p>\n"}, {"comments": [{"owner": {"reputation": 1079, "user_id": 8606992, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rNyz3YV6Mlc/AAAAAAAAAAI/AAAAAAAAABw/-znmvkqZgOU/photo.jpg?sz=128", "display_name": "Toxnyc", "link": "https://stackoverflow.com/users/8606992/toxnyc"}, "edited": false, "score": 0, "creation_date": 1569449829, "post_id": 58106286, "comment_id": 102605007, "body": "What if someone disabled referrer on his site? Is there a workaround for that?"}, {"owner": {"reputation": 1214, "user_id": 1060646, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yqub2.jpg?s=128&g=1", "display_name": "HBlackorby", "link": "https://stackoverflow.com/users/1060646/hblackorby"}, "reply_to_user": {"reputation": 1079, "user_id": 8606992, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rNyz3YV6Mlc/AAAAAAAAAAI/AAAAAAAAABw/-znmvkqZgOU/photo.jpg?sz=128", "display_name": "Toxnyc", "link": "https://stackoverflow.com/users/8606992/toxnyc"}, "edited": false, "score": 0, "creation_date": 1569512283, "post_id": 58106286, "comment_id": 102629380, "body": "putting the referrer in the HTTP headers is part of the browser specs, but as you note, a person can disable the referrer via various ways. Assuming the browser follows that request and doesn&#39;t send the referrer header, then there&#39;s nothing to be done to get it. As others mentioned, you can get the Origin, but that only tells you the server not the full URI."}], "tags": [], "owner": {"reputation": 1214, "user_id": 1060646, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yqub2.jpg?s=128&g=1", "display_name": "HBlackorby", "link": "https://stackoverflow.com/users/1060646/hblackorby"}, "is_accepted": false, "score": 0, "last_activity_date": 1569444219, "creation_date": 1569444219, "answer_id": 58106286, "question_id": 58106132, "link": "https://stackoverflow.com/questions/58106132/how-do-you-detect-if-the-page-is-a-redirect-using-javascript-in-the-client-side/58106286#58106286", "title": "How do you detect if the page is a redirect using Javascript in the client side", "body": "<p>Short answer, no, you cannot tell the type of redirect.</p>\n\n<p>You can look at the Referer header in JavaScript:</p>\n\n<p><a href=\"https://www.w3schools.com/jsref/prop_doc_referrer.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/jsref/prop_doc_referrer.asp</a></p>\n\n<pre><code>document.referrer\n</code></pre>\n\n<p>This will tell you what page the user was interacting with (generally) before they came to your page. It will not tell you if it was a redirect. You could make an AJAX HTTP request against that page to see if you get a 301 or 302 message back. But that won't 100% tell you if it was a redirect. If you are over HTTP and the referring page was HTTPS, then this header isn't set.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer</a></p>\n"}, {"tags": [], "owner": {"reputation": 134, "user_id": 11580377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d213cc6070698ac85bc43d85a6d4226f?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/11580377/patrick"}, "is_accepted": false, "score": 0, "last_activity_date": 1569444286, "creation_date": 1569444286, "answer_id": 58106296, "question_id": 58106132, "link": "https://stackoverflow.com/questions/58106132/how-do-you-detect-if-the-page-is-a-redirect-using-javascript-in-the-client-side/58106296#58106296", "title": "How do you detect if the page is a redirect using Javascript in the client side", "body": "<p>To get the url use document.referrer</p>\n\n<p>As far as I know there's not a good way to detect a 301 or 302, especially via javascript. You could look at the answers <a href=\"https://stackoverflow.com/questions/1963328/how-to-identify-if-referrer-is-a-301-redirect\">here</a> for ideas (but they use php). If you have knowledge of what urls the client will be coming from you can use the url taken from document.referrer to determine what action should be take.</p>\n"}, {"tags": [], "owner": {"reputation": 1636, "user_id": 621706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0da143ad9e25deab761c57b789385c9f?s=128&d=identicon&r=PG", "display_name": "fantastory", "link": "https://stackoverflow.com/users/621706/fantastory"}, "is_accepted": false, "score": 0, "last_activity_date": 1616749756, "creation_date": 1616749756, "answer_id": 66813920, "question_id": 58106132, "link": "https://stackoverflow.com/questions/58106132/how-do-you-detect-if-the-page-is-a-redirect-using-javascript-in-the-client-side/66813920#66813920", "title": "How do you detect if the page is a redirect using Javascript in the client side", "body": "<p>If you control the redirecting page, you can pass information by query string.</p>\n<p>redirect.php</p>\n<pre><code>&lt;?php\nheader('Location: target.html?referrer='.$_SERVER['HTTP_HOST'], true, 301);\n</code></pre>\n<p>target.html</p>\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n  &lt;title&gt;target of redirection&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;script&gt;\n    const urlParams = new URLSearchParams(window.location.search);\n    const referrer = urlParams.get('referrer');\n    console.warn('referrer &gt;'+referrer+'&lt;');\n  &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}], "owner": {"reputation": 1079, "user_id": 8606992, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rNyz3YV6Mlc/AAAAAAAAAAI/AAAAAAAAABw/-znmvkqZgOU/photo.jpg?sz=128", "display_name": "Toxnyc", "link": "https://stackoverflow.com/users/8606992/toxnyc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 637, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1616749756, "creation_date": 1569443446, "question_id": 58106132, "link": "https://stackoverflow.com/questions/58106132/how-do-you-detect-if-the-page-is-a-redirect-using-javascript-in-the-client-side", "title": "How do you detect if the page is a redirect using Javascript in the client side", "body": "<p>Is there a way for me to find out if the current page is a 301 or 302 redirect from another URL? How do you get the previous URL of the page?</p>\n"}, {"tags": ["javascript", "html", "reactjs", "redux", "router"], "answers": [{"tags": [], "owner": {"reputation": 577, "user_id": 8665051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jwvnz.png?s=128&g=1", "display_name": "Ibrahim Hasnat", "link": "https://stackoverflow.com/users/8665051/ibrahim-hasnat"}, "is_accepted": false, "score": 0, "last_activity_date": 1569443521, "creation_date": 1569443521, "answer_id": 58106141, "question_id": 58106122, "link": "https://stackoverflow.com/questions/58106122/routing-within-an-app-using-react-router-to-move-to-another-page/58106141#58106141", "title": "routing within an app using react router to move to another page", "body": "<p>Use <code>exact</code> as an attribute in your home route like the following code.</p>\n\n<pre><code>&lt;Router&gt;\n  &lt;Link to={\"/here\"}&gt; here&lt;/Link&gt;\n  &lt;Switch&gt;\n    &lt;Route exact path=\"/\" /&gt;\n    &lt;Route path=\"/auth\" /&gt;\n  &lt;/Switch&gt;\n&lt;/Router&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8696, "user_id": 10746224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/znUL5.jpg?s=128&g=1", "display_name": "Lord Elrond", "link": "https://stackoverflow.com/users/10746224/lord-elrond"}, "edited": false, "score": 0, "creation_date": 1569472093, "post_id": 58106177, "comment_id": 102609050, "body": "The provided answer was flagged for review as a Low Quality Post. Here are some guidelines for How do I write a good answer?. This provided answer may be correct, but it could benefit from an explanation. Code only answers are not considered &quot;good&quot; answers. From review."}], "tags": [], "owner": {"reputation": 64, "user_id": 7954157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4a81cf15319eef08e72c405d3417499?s=128&d=identicon&r=PG&f=1", "display_name": "Aye_baybae", "link": "https://stackoverflow.com/users/7954157/aye-baybae"}, "is_accepted": false, "score": 0, "last_activity_date": 1569479760, "last_edit_date": 1569479760, "creation_date": 1569443706, "answer_id": 58106177, "question_id": 58106122, "link": "https://stackoverflow.com/questions/58106122/routing-within-an-app-using-react-router-to-move-to-another-page/58106177#58106177", "title": "routing within an app using react router to move to another page", "body": "<p>You can try this:</p>\n\n<pre><code>import Stats from './containers/stats';\n&lt;Route\n   exact={true}\n   path=\"/\"\n   component={Stats}\n   key=\"Mykey\"\n /&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 3508075, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001994597680/picture?type=large", "display_name": "Vts", "link": "https://stackoverflow.com/users/3508075/vts"}, "is_accepted": false, "score": 0, "last_activity_date": 1569448416, "creation_date": 1569448416, "answer_id": 58107028, "question_id": 58106122, "link": "https://stackoverflow.com/questions/58106122/routing-within-an-app-using-react-router-to-move-to-another-page/58107028#58107028", "title": "routing within an app using react router to move to another page", "body": "<p>I checked your sandbox. Looks like a good start, but you messed some things up.</p>\n\n<p>Here is my fork of your sandbox: <a href=\"https://codesandbox.io/embed/staging-fast-rr5k9\" rel=\"nofollow noreferrer\">https://codesandbox.io/embed/staging-fast-rr5k9</a></p>\n\n<p>First, don't put react components in the containers, put them in the components folder and import them.</p>\n\n<p>What was going on was, that you had brand new <code>&lt;Router&gt;</code> for every page you had. So I pulled the Router out. Its also not imported correctly. It should be </p>\n\n<pre><code>import { BrowserRouter as Router } from \"react-router-dom\";\n</code></pre>\n\n<p>So you pretty much need something like this </p>\n\n<pre><code>      &lt;div&gt;\n        &lt;Link to={\"/bbc-news\"}&gt;BBC&lt;/Link&gt;\n      &lt;/div&gt;\n      &lt;div&gt;\n        &lt;Link to={\"/cnbc\"}&gt;CNBC&lt;/Link&gt;\n      &lt;/div&gt;\n\n      &lt;Switch&gt;\n        &lt;Route\n          key={\"fbbc-news\"}\n          path=\"/bbc-news\"\n          render={p =&gt; &lt;Channel channelName=\"BBC\" channelString=\"bbc-news\" /&gt;}\n        /&gt;\n        &lt;Route\n          key={\"cnbc\"}\n          path=\"/cnbc\"\n          render={p =&gt; &lt;Channel channelName=\"CNBC\" channelString=\"cnbc\" /&gt;}\n        /&gt;\n      &lt;/Switch&gt;\n    &lt;/Router&gt;\n</code></pre>\n\n<p>Where Channel component renders whats inside the channel. the <code>key</code> in Route is important, because it makes React properly trigger componentDidMount, which calls the thunk action which fetches (that one is perfect).\nThen to access the results from fetch, which you have placed in Redux =></p>\n\n<pre><code>const mapStateToProps = state =&gt; ({ json: state.json });\n</code></pre>\n\n<p>You don't need a lot of the things you had, so I have removed them, like the onClick, which was trying to do react routers job </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11937523"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1569479760, "creation_date": 1569443368, "question_id": 58106122, "link": "https://stackoverflow.com/questions/58106122/routing-within-an-app-using-react-router-to-move-to-another-page", "title": "routing within an app using react router to move to another page", "body": "<ul>\n<li>I am trying to use router in my app</li>\n<li>so I used react-router-dom, but I am facing issues,</li>\n<li><p>researched and found this link but still not helping me.\n<a href=\"https://stackoverflow.com/questions/55552147/invariant-failed-you-should-not-use-route-outside-a-router\">Invariant failed: You should not use &lt;Route&gt; outside a &lt;Router&gt;</a></p></li>\n<li><p>can you tell me how to use route and link</p></li>\n<li>i need to redirect to another page.</li>\n<li>providing my code snippet  and sandbox below.\n<a href=\"https://codesandbox.io/s/still-smoke-uf731\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/still-smoke-uf731</a></li>\n</ul>\n\n\n\n<pre class=\"lang-or-tag-here prettyprint-override\"><code>let Channel = ({ channelName, channelString, onClick, active }) =&gt; (\n  &lt;div onClick={onClick} className=\" col-lg-2 col-md-4 col-sm-6 \"&gt;\n    &lt;div&gt;router&lt;/div&gt;\n\n    &lt;Router&gt;\n      &lt;Link to={\"/here\"}&gt; here&lt;/Link&gt;\n      &lt;Switch&gt;\n        &lt;Route path=\"/auth\" /&gt;\n        &lt;Route path=\"/\" /&gt;\n      &lt;/Switch&gt;\n    &lt;/Router&gt;\n    &lt;div\n      className=\"channel-button\"\n      style={{\n        backgroundColor: active === channelString ? \"orange\" : \"\"\n      }}\n    &gt;\n      &lt;p&gt;{channelName}&lt;/p&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n);\n</code></pre>\n"}, {"tags": ["javascript", "html", "css", "reactjs"], "comments": [{"owner": {"reputation": 1580, "user_id": 8106018, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-novQgV5suIw/AAAAAAAAAAI/AAAAAAAAAKU/V-y-f6aAzFI/photo.jpg?sz=128", "display_name": "Ricardo Gonzalez", "link": "https://stackoverflow.com/users/8106018/ricardo-gonzalez"}, "edited": false, "score": 0, "creation_date": 1569443512, "post_id": 58106099, "comment_id": 102603088, "body": "Could you make a small repo in codesandbox or similar that reproduce your behavior?"}, {"owner": {"reputation": 1398, "user_id": 5937230, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Mxpko.png?s=128&g=1", "display_name": "rococo", "link": "https://stackoverflow.com/users/5937230/rococo"}, "reply_to_user": {"reputation": 1580, "user_id": 8106018, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-novQgV5suIw/AAAAAAAAAAI/AAAAAAAAAKU/V-y-f6aAzFI/photo.jpg?sz=128", "display_name": "Ricardo Gonzalez", "link": "https://stackoverflow.com/users/8106018/ricardo-gonzalez"}, "edited": false, "score": 0, "creation_date": 1569444074, "post_id": 58106099, "comment_id": 102603290, "body": "Been trying since you commented but haven&#39;t been able to reproduce. I think if I were able to reproduce it I would probably be able to fix it myself, I&#39;m sure it&#39;s just some small thing interfering with the click. Will keep trying for now as it&#39;s a good way to debug as well."}, {"owner": {"reputation": 1398, "user_id": 5937230, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Mxpko.png?s=128&g=1", "display_name": "rococo", "link": "https://stackoverflow.com/users/5937230/rococo"}, "reply_to_user": {"reputation": 1580, "user_id": 8106018, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-novQgV5suIw/AAAAAAAAAAI/AAAAAAAAAKU/V-y-f6aAzFI/photo.jpg?sz=128", "display_name": "Ricardo Gonzalez", "link": "https://stackoverflow.com/users/8106018/ricardo-gonzalez"}, "edited": false, "score": 0, "creation_date": 1569444503, "post_id": 58106099, "comment_id": 102603430, "body": "Still not reproduced, but I tested more and found that the first click is triggering <code>onMouseEnter</code> for some reason... (the later clicks that work don&#39;t trigger <code>onMouseEnter</code>)."}, {"owner": {"reputation": 1398, "user_id": 5937230, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Mxpko.png?s=128&g=1", "display_name": "rococo", "link": "https://stackoverflow.com/users/5937230/rococo"}, "reply_to_user": {"reputation": 1580, "user_id": 8106018, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-novQgV5suIw/AAAAAAAAAAI/AAAAAAAAAKU/V-y-f6aAzFI/photo.jpg?sz=128", "display_name": "Ricardo Gonzalez", "link": "https://stackoverflow.com/users/8106018/ricardo-gonzalez"}, "edited": false, "score": 0, "creation_date": 1569444736, "post_id": 58106099, "comment_id": 102603510, "body": "Another finding, <code>onMouseDown</code> is triggering properly. Guess I can switch to that if needed. Also, there is no usage of <code>event.stopPropagatiion()</code> in the entire codebase."}, {"owner": {"reputation": 1402, "user_id": 7338799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7N7eo.jpg?s=128&g=1", "display_name": "technicallynick", "link": "https://stackoverflow.com/users/7338799/technicallynick"}, "edited": false, "score": 2, "creation_date": 1569446535, "post_id": 58106099, "comment_id": 102604073, "body": "Without providing us with either a repro (which you&#39;ve stated you haven&#39;t been able to do as of yet) or the full code surrounding the referenced elements, we&#39;d only be speculating. My guess is that you&#39;ve got another listener somewhere that&#39;s intercepting the event the first time."}, {"owner": {"reputation": 1398, "user_id": 5937230, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Mxpko.png?s=128&g=1", "display_name": "rococo", "link": "https://stackoverflow.com/users/5937230/rococo"}, "edited": false, "score": 0, "creation_date": 1569452709, "post_id": 58106099, "comment_id": 102605612, "body": "Thanks, it was indeed a listener issue! Not exactly intercepting, but a setState() call in another (non-parent/child) div&#39;s onBlur event was preventing onClick from being called. Answered myself with more detail!"}], "answers": [{"tags": [], "owner": {"reputation": 1398, "user_id": 5937230, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Mxpko.png?s=128&g=1", "display_name": "rococo", "link": "https://stackoverflow.com/users/5937230/rococo"}, "is_accepted": true, "score": 8, "last_activity_date": 1569452642, "creation_date": 1569452642, "answer_id": 58107594, "question_id": 58106099, "link": "https://stackoverflow.com/questions/58106099/react-onclick-not-firing-on-first-click-second-click-behaves-as-expected-simpl/58107594#58107594", "title": "React onClick not firing on first click, second click behaves as expected (simple debug message doesn&#39;t appear until second click)", "body": "<p>Figured it out!</p>\n\n<p>In another adjacent div, I had an <code>onBlur</code> handler. In that handler, I called <code>setState()</code> on the component (hiding another <code>div</code> when that <code>div</code> is unfocused).</p>\n\n<p>To show the button that was having issues, I clicked in something in the <code>div</code> with the <code>onBlur</code>. This gave it focus. When I did a first click outside on the button that appeared, it triggered <code>blur</code>. </p>\n\n<p>Apparently, the <code>setState()</code> call interfered with the click in some way, including causing the weird behavior I described with <code>mouseEnter</code> being retriggered. Perhaps the <code>setState</code> caused a redraw, which then caused <code>mouseEnter</code> to be fired again? Maybe the quick redraw also stops the <code>onClick</code> from going through, even though <code>mouseDown</code> is fired? (something to do with event ordering?) I'm still not sure why exactly that happens. </p>\n\n<p>But after removing the <code>setState()</code> call, the first click on the button works as expected.</p>\n\n<p>And thus ends a couple hours of painful debugging.</p>\n"}, {"tags": [], "owner": {"reputation": 237, "user_id": 11092008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8ed4017f85aa2b3244965df3347a72e?s=128&d=identicon&r=PG&f=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/11092008/ali"}, "is_accepted": false, "score": 0, "last_activity_date": 1579357430, "creation_date": 1579357430, "answer_id": 59801499, "question_id": 58106099, "link": "https://stackoverflow.com/questions/58106099/react-onclick-not-firing-on-first-click-second-click-behaves-as-expected-simpl/59801499#59801499", "title": "React onClick not firing on first click, second click behaves as expected (simple debug message doesn&#39;t appear until second click)", "body": "<p>If you are using <code>Intellij</code> or <code>WebStorm</code> this happens when running <code>javascript debug</code> mode.</p>\n"}], "owner": {"reputation": 1398, "user_id": 5937230, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Mxpko.png?s=128&g=1", "display_name": "rococo", "link": "https://stackoverflow.com/users/5937230/rococo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3460, "favorite_count": 2, "accepted_answer_id": 58107594, "answer_count": 2, "score": 3, "last_activity_date": 1579357430, "creation_date": 1569443222, "last_edit_date": 1569444806, "question_id": 58106099, "link": "https://stackoverflow.com/questions/58106099/react-onclick-not-firing-on-first-click-second-click-behaves-as-expected-simpl", "title": "React onClick not firing on first click, second click behaves as expected (simple debug message doesn&#39;t appear until second click)", "body": "<p>I introduced a bug at some point (live version doesn't have this issue) but haven't been able to figure out what caused it.</p>\n\n<p>I have a button in React (it's just a <code>div</code> with an <code>onClick</code>).</p>\n\n<p>The button has an <code>onClick</code> and a <code>:hover</code> CSS effect.</p>\n\n<p>The button is loaded by clicking on another <code>div</code> (which works on the first click).</p>\n\n<p>After loading the button (and its wrapper content), the button doesn't do anything on the first click. Without doing anything else, clicking again let's it work fine.</p>\n\n<p>Currently I have a debug message in my <code>onClick</code>, so it looks something like this</p>\n\n<pre><code>                    onClick={(e) =&gt; {\n                        console.log(\"ONclicked! \" + this.props.alt);\n                        // e.stopPropagation();\n                        // various callbacks\n                    }}&gt;\n</code></pre>\n\n<p>I also have similar <code>console.log</code> debug messages on all of the button's parents, <em>all the way up to the root React element</em> (i.e. clicking anywhere on the page shoots out a message, except when clicking on this particular button the first time). Even the root element does not register anything on the first click..</p>\n\n<p>None of these messages appear on the first click.</p>\n\n<p>Again, <em>without doing anything else</em>, just clicking one more time in the same spot fires the <code>onClick</code> as expected.</p>\n\n<p>Other questions about \"first click not working\" I've seen are all about the state not updating on the first click. In my case I'm not even trying to update the state, I don't seem to be getting the <code>onClick</code> called at all.</p>\n\n<p>I've looked through all the commits for this version and still haven't been able to figure out the problem. Any ideas on what can cause this behavior? The weirdest part to me is that the second click works, while the first doesn't seem to do anything. But nothing about the state/DOM is changing between the first and second click (since the first click doesn't seem to be registered at all). I think this rules out things like a misconfigured <code>pointer-events</code> CSS rule?</p>\n\n<p>Edit: </p>\n\n<p>Upon further exploration, it seems that the first click actually triggers <code>onMouseEnter</code>, which seems totally nuts lol... But I added a <code>console.log</code> to <code>onMouseEnter</code> and it's definitely triggering exactly when I make the first click, and NOT on subsequent clicks.</p>\n\n<p>Edit 2:</p>\n\n<p>But this mouseEnter thing only happens in Firefox, not Chrome. But the first click not working bug is in both browsers.</p>\n\n<p>Edit 3:</p>\n\n<p><code>onMouseDown</code> is firing properly, but <code>onClick</code> still only happens on the second time the button is clicked (at which point <code>onMouseDown</code> has fired twice).</p>\n\n<p>Also, double checked and confirmed that I don't use <code>stopPropagation</code> anywhere which seems to be a common source of this problem.</p>\n"}, {"tags": ["javascript", "jquery", "html"], "comments": [{"owner": {"reputation": 20397, "user_id": 3965631, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/T7nII.png?s=128&g=1", "display_name": "Tim Lewis", "link": "https://stackoverflow.com/users/3965631/tim-lewis"}, "edited": false, "score": 5, "creation_date": 1569443223, "post_id": 58106080, "comment_id": 102602979, "body": "<code>$(&quot;.paginate_button&quot;).click(...)</code>? Unless you need to worry about scope, just targeting the class <code>paginate_button</code> should be fine, right?"}, {"owner": {"reputation": 726, "user_id": 7039895, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh3.googleusercontent.com/-EWqsjQII8d4/AAAAAAAAAAI/AAAAAAAABPY/thopeahyqW8/photo.jpg?sz=128", "display_name": "Jermaine Subia", "link": "https://stackoverflow.com/users/7039895/jermaine-subia"}, "edited": false, "score": 1, "creation_date": 1569443297, "post_id": 58106080, "comment_id": 102603006, "body": "Are you getting any error messages in your console? Do you have the jquery linked to your page?"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 1, "creation_date": 1569443353, "post_id": 58106080, "comment_id": 102603023, "body": "Potentially relevant: <a href=\"https://stackoverflow.com/questions/203198/event-binding-on-dynamically-created-elements\">Event binding on dynamically created elements?</a>"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 3, "creation_date": 1569443363, "post_id": 58106080, "comment_id": 102603029, "body": "is the span a child of <code>#table_id_paginate</code> or a descendant? if it&#39;s a decendant rather than a direct child then use <code>&quot;#table_id_paginate span &gt; a.paginate_button&quot;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 20397, "user_id": 3965631, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/T7nII.png?s=128&g=1", "display_name": "Tim Lewis", "link": "https://stackoverflow.com/users/3965631/tim-lewis"}, "edited": false, "score": 1, "creation_date": 1569444187, "post_id": 58106239, "comment_id": 102603326, "body": "Good explanation. The id <code>#table_id_paginate</code> makes me think it&#39;s a <code>&lt;table&gt;</code>, and <code>&lt;span&gt;</code> is not a valid child of <code>&lt;table&gt;</code> so even then... Hard to say without the whole markup eh?"}, {"owner": {"reputation": 117, "user_id": 9285290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LLZoQ.jpg?s=128&g=1", "display_name": "DeathInWhite", "link": "https://stackoverflow.com/users/9285290/deathinwhite"}, "edited": false, "score": 0, "creation_date": 1569499579, "post_id": 58106239, "comment_id": 102621989, "body": "Thanks! i complicated myself and it was that simple."}], "tags": [], "owner": {"reputation": 1675, "user_id": 7375929, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cCQPd.jpg?s=128&g=1", "display_name": "Tanner", "link": "https://stackoverflow.com/users/7375929/tanner"}, "is_accepted": true, "score": 2, "last_activity_date": 1569444004, "creation_date": 1569444004, "answer_id": 58106239, "question_id": 58106080, "link": "https://stackoverflow.com/questions/58106080/click-event-on-a-tag-inside-span-tag-in-jquery/58106239#58106239", "title": "Click event on &lt;a&gt; tag inside &lt;span&gt; tag in jquery", "body": "<p>The markup you provided does not have an element with the ID \"table_id_paginate\". So jQuery is selecting the links because it is looking for <code>a</code> elements with the class <code>paginate_button</code> who are direct descendants of a <code>span</code> that is a direct descendant of an element with that ID.</p>\n\n<p>So if you change your code to how Tim Lewis commented: <code>$(\".paginate_button\").click(...)</code> the code works.</p>\n"}, {"comments": [{"owner": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "edited": false, "score": 3, "creation_date": 1569462676, "post_id": 58108176, "comment_id": 102607335, "body": "The provided answer was flagged for review as a Low Quality Post. Here are some guidelines for <a href=\"https://stackoverflow.com/help/how-to-answer\">How do I write a good answer?</a>. This provided answer may be correct, but it could benefit from an explanation. Code only answers are not considered &quot;good&quot; answers. From <a href=\"https://stackoverflow.com/review\">review</a>."}], "tags": [], "owner": {"reputation": 21, "user_id": 7989289, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-j0Ixnq9oXY8/AAAAAAAAAAI/AAAAAAAAAC4/vziDnmLJdyw/photo.jpg?sz=128", "display_name": "Ombo Nation", "link": "https://stackoverflow.com/users/7989289/ombo-nation"}, "is_accepted": false, "score": -1, "last_activity_date": 1569458857, "creation_date": 1569458857, "answer_id": 58108176, "question_id": 58106080, "link": "https://stackoverflow.com/questions/58106080/click-event-on-a-tag-inside-span-tag-in-jquery/58108176#58108176", "title": "Click event on &lt;a&gt; tag inside &lt;span&gt; tag in jquery", "body": "<pre><code>$(\"a.paginate_button\").on(\"click\", function () {\n     //your code here\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 290, "user_id": 11894205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/837aff270d16e6c652676fc538c10769?s=128&d=identicon&r=PG&f=1", "display_name": "vS12", "link": "https://stackoverflow.com/users/11894205/vs12"}, "is_accepted": false, "score": 0, "last_activity_date": 1569459730, "last_edit_date": 1569459730, "creation_date": 1569459409, "answer_id": 58108220, "question_id": 58106080, "link": "https://stackoverflow.com/questions/58106080/click-event-on-a-tag-inside-span-tag-in-jquery/58108220#58108220", "title": "Click event on &lt;a&gt; tag inside &lt;span&gt; tag in jquery", "body": "<p>Just making this change will make it work, basically you want that any <code>&lt;a&gt;</code> tag with <code>.paginate_button</code> class should work on click.</p>\n\n<pre><code>&lt;script&gt;\n$(\"span &gt; a.paginate_button\").click(function() {\nalert(\"Handler for .click() called.\");});\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>Edit :</strong> \nHow to go about these :\nFigure out the target element, then keep going up towards the parent and \nthat becomes your target.</p>\n"}], "owner": {"reputation": 117, "user_id": 9285290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LLZoQ.jpg?s=128&g=1", "display_name": "DeathInWhite", "link": "https://stackoverflow.com/users/9285290/deathinwhite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 58106239, "answer_count": 3, "score": 0, "last_activity_date": 1569459730, "creation_date": 1569443147, "question_id": 58106080, "link": "https://stackoverflow.com/questions/58106080/click-event-on-a-tag-inside-span-tag-in-jquery", "title": "Click event on &lt;a&gt; tag inside &lt;span&gt; tag in jquery", "body": "<p>Im trying something simple, i am quite noob in jquery and i don\u00b4t know how to make an click event when you click in an a tag that is inside a span tag, this is my code.</p>\n\n<pre><code>&lt;span&gt;\n    &lt;a class=\"paginate_button current\" aria-controls=\"table_id\" data-dt-idx=\"1\" tabindex=\"0\"&gt;1&lt;/a&gt;\n    &lt;a class=\"paginate_button \" aria-controls=\"table_id\" data-dt-idx=\"2\" tabindex=\"0\"&gt;2&lt;/a&gt;\n    &lt;a class=\"paginate_button \" aria-controls=\"table_id\" data-dt-idx=\"3\" tabindex=\"0\"&gt;3&lt;/a&gt;\n    &lt;a class=\"paginate_button \" aria-controls=\"table_id\" data-dt-idx=\"4\" tabindex=\"0\"&gt;4&lt;/a&gt;\n&lt;/span&gt;\n</code></pre>\n\n<p>I tried this but it doesn't work</p>\n\n<pre><code>$(\"#table_id_paginate &gt; span &gt; a.paginate_button\").click(function() {\nalert(\"Handler for .click() called.\");});\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "json", "promise"], "comments": [{"owner": {"reputation": 16607, "user_id": 829835, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/TteD0.jpg?s=128&g=1", "display_name": "rlemon", "link": "https://stackoverflow.com/users/829835/rlemon"}, "edited": false, "score": 2, "creation_date": 1569443200, "post_id": 58106062, "comment_id": 102602972, "body": "all async functions return promises. you have to deal with the resulting promise outside of the call. <code>apiGetAll().then(data =&gt; console.log(data))</code>"}, {"owner": {"reputation": 16607, "user_id": 829835, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/TteD0.jpg?s=128&g=1", "display_name": "rlemon", "link": "https://stackoverflow.com/users/829835/rlemon"}, "edited": false, "score": 0, "creation_date": 1569443222, "post_id": 58106062, "comment_id": 102602978, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call\">How do I return the response from an asynchronous call?</a>"}, {"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1569443707, "post_id": 58106062, "comment_id": 102603153, "body": "Much like <code>fetch</code> and <code>resp.json()</code> must be awaited, so must <code>apiGetAll()</code>. You can do this as rlemon suggests, by chaining a <code>.then()</code> to it, or you can continue to use <code>await</code>. Note that with <code>await</code>, the line must be wrapped in an <code>async</code> function."}], "owner": {"reputation": 1, "user_id": 11782947, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-E6UUW1CWq6U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdtYNpIjk2NQ5S0275AA3grzj5q9w/photo.jpg?sz=128", "display_name": "Noemi Sevilla", "link": "https://stackoverflow.com/users/11782947/noemi-sevilla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569444551, "creation_date": 1569443075, "last_edit_date": 1569444551, "question_id": 58106062, "link": "https://stackoverflow.com/questions/58106062/need-information-under-promisepending-using-async-api", "title": "Need information under Promise{&lt;pending&gt;} using async api", "body": "<p>This is currently what my console.log looks like. I only want the \"trails\" information to show.</p>\n\n<p><img src=\"https://i.stack.imgur.com/oUEKh.jpg\" alt=\"\"></p>\n\n<p>How can word this so that I am able to print just the trails information?</p>\n\n<pre><code>async function apiGetAll () {\n  try {\n     var resp = await fetch(URL)\n     var data = await resp.json();\n     return data;\n  }\n  catch (error){\n      console.log(error);\n  }\n}\n\nconsole.log(apiGetAll());\n</code></pre>\n"}, {"tags": ["javascript", "angular", "angular-material"], "answers": [{"comments": [{"owner": {"reputation": 553, "user_id": 12113249, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2rKNvBNO4TI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3remIqQ-O5p3xp4rm-rjEhVhZxv8nw/photo.jpg?sz=128", "display_name": "TheDevGuy", "link": "https://stackoverflow.com/users/12113249/thedevguy"}, "edited": false, "score": 0, "creation_date": 1569491213, "post_id": 58112166, "comment_id": 102617537, "body": "And if my form is on another component  , how do I bind the dataSource ( on the parent component) and update it ?"}, {"owner": {"reputation": 75, "user_id": 10945268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbd002294e1742694cc9ab871f0dd427?s=128&d=identicon&r=PG&f=1", "display_name": "Marrds", "link": "https://stackoverflow.com/users/10945268/marrds"}, "reply_to_user": {"reputation": 553, "user_id": 12113249, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2rKNvBNO4TI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3remIqQ-O5p3xp4rm-rjEhVhZxv8nw/photo.jpg?sz=128", "display_name": "TheDevGuy", "link": "https://stackoverflow.com/users/12113249/thedevguy"}, "edited": false, "score": 0, "creation_date": 1569493540, "post_id": 58112166, "comment_id": 102618783, "body": "you pass the form as @Input from the parent to the child component (the form is passed by reference) so when you setValue to a formControl it is automatically updated in all child- parent components."}, {"owner": {"reputation": 553, "user_id": 12113249, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2rKNvBNO4TI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3remIqQ-O5p3xp4rm-rjEhVhZxv8nw/photo.jpg?sz=128", "display_name": "TheDevGuy", "link": "https://stackoverflow.com/users/12113249/thedevguy"}, "edited": false, "score": 0, "creation_date": 1569499561, "post_id": 58112166, "comment_id": 102621973, "body": "i don&#39;t understand exactly, can&#39;t you show me with code please ?"}, {"owner": {"reputation": 75, "user_id": 10945268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbd002294e1742694cc9ab871f0dd427?s=128&d=identicon&r=PG&f=1", "display_name": "Marrds", "link": "https://stackoverflow.com/users/10945268/marrds"}, "reply_to_user": {"reputation": 553, "user_id": 12113249, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2rKNvBNO4TI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3remIqQ-O5p3xp4rm-rjEhVhZxv8nw/photo.jpg?sz=128", "display_name": "TheDevGuy", "link": "https://stackoverflow.com/users/12113249/thedevguy"}, "edited": false, "score": 0, "creation_date": 1569501550, "post_id": 58112166, "comment_id": 102623017, "body": "//parent component html &lt;app-payment-order-other-expenses-component [formGroup]=&quot;formGroup&quot; &gt;       &lt;/app-form-editor-actions-component&gt;  //child component ts  @Input() form: FormGroup;"}], "tags": [], "owner": {"reputation": 75, "user_id": 10945268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbd002294e1742694cc9ab871f0dd427?s=128&d=identicon&r=PG&f=1", "display_name": "Marrds", "link": "https://stackoverflow.com/users/10945268/marrds"}, "is_accepted": false, "score": 0, "last_activity_date": 1569501725, "last_edit_date": 1569501725, "creation_date": 1569484927, "answer_id": 58112166, "question_id": 58106044, "link": "https://stackoverflow.com/questions/58106044/submit-a-form-with-angular-to-json-file/58112166#58112166", "title": "Submit a form with angular to Json file", "body": "<p><a href=\"https://i.stack.imgur.com/3LOZi.png%60\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3LOZi.png%60\" alt=\"enter image description here\"></a>i suggest  not to use onSubmit instead use a button binded with a function like this</p>\n\n<pre><code>`submitForm() {\n    dataToPost = this.form.value;\n     // data is the responce data from the backend when a  user created successfully\n     // data shall be the created user only the backend knows this info\n     this.hhtpClient.post(this.url, dataToPost).subscribe( data =&gt; { \n     this.form.get('m_name').setValue(data.m_name);\n     this.form.get('l_name').setValue(data.l_name);\n     this.form.get('email.).setValue(data.email);\n     // add all controls you want to update after http response\n    }\n}`\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Z9PDy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z9PDy.png\" alt=\"enter code here\"></a>`</p>\n"}, {"comments": [{"owner": {"reputation": 553, "user_id": 12113249, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2rKNvBNO4TI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3remIqQ-O5p3xp4rm-rjEhVhZxv8nw/photo.jpg?sz=128", "display_name": "TheDevGuy", "link": "https://stackoverflow.com/users/12113249/thedevguy"}, "edited": false, "score": 0, "creation_date": 1569490908, "post_id": 58112264, "comment_id": 102617361, "body": "I can\u2019t use ngmodel because I use Reactiveform"}], "tags": [], "owner": {"reputation": 190, "user_id": 11306474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe2b7fdeb8ecaa35a658c25f50dcb034?s=128&d=identicon&r=PG", "display_name": "maryrio7", "link": "https://stackoverflow.com/users/11306474/maryrio7"}, "is_accepted": false, "score": 0, "last_activity_date": 1569485304, "creation_date": 1569485304, "answer_id": 58112264, "question_id": 58106044, "link": "https://stackoverflow.com/questions/58106044/submit-a-form-with-angular-to-json-file/58112264#58112264", "title": "Submit a form with angular to Json file", "body": "<p>Bind your form-control with [(ngModel)] to an object that you declare in your ts.\nIn the onSubmit() method do whatever you have to do with that object (post request, insert to db...).</p>\n"}], "owner": {"reputation": 553, "user_id": 12113249, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2rKNvBNO4TI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3remIqQ-O5p3xp4rm-rjEhVhZxv8nw/photo.jpg?sz=128", "display_name": "TheDevGuy", "link": "https://stackoverflow.com/users/12113249/thedevguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 397, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1569501725, "creation_date": 1569442990, "question_id": 58106044, "link": "https://stackoverflow.com/questions/58106044/submit-a-form-with-angular-to-json-file", "title": "Submit a form with angular to Json file", "body": "<p>I want to submit my form and have a method to update my table with my new created user.</p>\n\n<p>i'm stuck since this morning.</p>\n\n<p>I have already a method to delete but miss creating method</p>\n\n<p>this is my html</p>\n\n<pre><code>&lt;div class=\"manage-content\"&gt;\n  &lt;div class=\"title\"&gt;\n    &lt;mat-icon class=\"user-icon\"&gt;how_to_reg&lt;/mat-icon&gt;\n    &lt;h3&gt;Create a user&lt;/h3&gt;\n  &lt;/div&gt;\n      &lt;form [formGroup]=\"form\" (ngSubmit)=\"onSubmit()\"&gt;\n        Value : {{form.value | json}}\n        &lt;div class=\"form\"&gt;\n        &lt;div class=\"leftSide\"&gt;\n        &lt;mat-form-field class=\"full-width-input\" appearance=\"outline\"&gt;\n          &lt;input id=\"firstName\" matInput placeholder=\"First name\" formControlName=\"f_name\" #f_name&gt;\n          &lt;mat-error *ngIf=\"isFieldInvalid('f_name')\"&gt;\n            The first name you've entered is malformed.\n          &lt;/mat-error&gt;\n        &lt;/mat-form-field&gt;\n        &lt;mat-form-field class=\"full-width-input\" appearance=\"outline\"&gt;\n          &lt;input id=\"middleName\" matInput placeholder=\"Middle name\" formControlName=\"m_name\" #m_name&gt;\n          &lt;mat-error *ngIf=\"isFieldInvalid('m_name')\"&gt;\n            The middle name you've entered is malformed.\n          &lt;/mat-error&gt;\n        &lt;/mat-form-field&gt;\n        &lt;mat-form-field class=\"full-width-input\" appearance=\"outline\"&gt;\n          &lt;input id=\"lastName\" matInput placeholder=\"Last name\" formControlName=\"l_name\" #l_name&gt;\n          &lt;mat-error *ngIf=\"isFieldInvalid('l_name')\"&gt;\n            The last name you've entered is malformed.\n          &lt;/mat-error&gt;\n        &lt;/mat-form-field&gt;\n        &lt;mat-form-field class=\"full-width-input\" appearance=\"outline\"&gt;\n          &lt;input id=\"email\" matInput placeholder=\"Email\" formControlName=\"email\" #email&gt;\n          &lt;mat-error *ngIf=\"isFieldInvalid('email')\"&gt;\n            The email you've entered is malformed.\n          &lt;/mat-error&gt;\n        &lt;/mat-form-field&gt;\n        &lt;mat-form-field class=\"full-width-input\" appearance=\"outline\"&gt;\n          &lt;div class=\"visibility\"&gt;\n        &lt;input id=\"password\" matInput type=\"password\" placeholder=\"Password\" formControlName=\"password\"&gt;\n            &lt;mat-icon class=\"eye\" *ngIf=\"isPasswordVisible\" (click)=showPassword()&gt;visibility&lt;/mat-icon&gt;\n            &lt;mat-icon class=\"eyeClosed\" *ngIf=\"!isPasswordVisible\" (click)=\"showPassword()\"&gt;visibility_off&lt;/mat-icon&gt;\n          &lt;/div&gt;\n                  &lt;mat-error *ngIf=\"isFieldInvalid('password')\"&gt;\n                    The password you've entered is malformed.\n                  &lt;/mat-error&gt;\n      &lt;/mat-form-field&gt;\n        &lt;/div&gt;\n        &lt;div class=\"cta-btn\"&gt;\n          &lt;button mat-raised-button class=\"createUserBtn\" color=\"primary\" type=\"submit\" (click)=\"onSubmit()\"&gt;Create user&lt;/button&gt;\n          &lt;button mat-raised-button class=\"createUserBtn\" color=\"warn\" type=\"submit\" (click)=\"click()\"&gt;Cancel&lt;/button&gt;\n        &lt;/div&gt;\n      &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>and this is my TS file\nit's just a part of my method( in progress)</p>\n\n<pre><code> onSubmit() {\n      if (this.form.valid) {\n        //TODO implement method to post data to API\n        this.dialogRef.close(this.form.value);\n        this.formSubmitAttempt = true;\n        const Toast = Swal.mixin({\n          toast: true,\n          position: 'top-end',\n          showConfirmButton: false,\n          timer: 3000\n        })\n        Toast.fire({\n          type: 'success',\n          title: 'User created'\n        })\n      }\n</code></pre>\n\n<p>Thanks a lot for your help</p>\n"}, {"tags": ["javascript", "angular", "google-data-studio"], "answers": [{"tags": [], "owner": {"reputation": 668, "user_id": 2187783, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9373b537548d00467361580d1367f21f?s=128&d=identicon&r=PG", "display_name": "diminishedprime", "link": "https://stackoverflow.com/users/2187783/diminishedprime"}, "is_accepted": false, "score": 1, "last_activity_date": 1569450721, "creation_date": 1569450721, "answer_id": 58107355, "question_id": 58106027, "link": "https://stackoverflow.com/questions/58106027/how-to-use-one-template-of-google-data-studio-for-multiple-accounts-dynamically/58107355#58107355", "title": "How to use one template of google data studio for multiple accounts dynamically?", "body": "<p>This can be achieved through <a href=\"https://developers.google.com/datastudio/connector/data-source-parameters#set_url_parameters\" rel=\"nofollow noreferrer\">Report URL parameters</a>. This will let you use one report, but change the configuration parameters through the url--effectively using your initial report as a template. </p>\n\n<p>Additionally, you might be interested in <a href=\"https://developers.google.com/datastudio/solution/row-level-filtering\" rel=\"nofollow noreferrer\">Row level filtering</a> which can be used to achive a similar goal. The current guide is set up to work with BigQuery, but will work with any other data source. </p>\n"}, {"tags": [], "owner": {"reputation": 4503, "user_id": 12892553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9aab67045fa891d26b9a14a215a512a?s=128&d=identicon&r=PG&f=1", "display_name": "Nimantha", "link": "https://stackoverflow.com/users/12892553/nimantha"}, "is_accepted": false, "score": 0, "last_activity_date": 1581663454, "creation_date": 1581663454, "answer_id": 60221445, "question_id": 58106027, "link": "https://stackoverflow.com/questions/58106027/how-to-use-one-template-of-google-data-studio-for-multiple-accounts-dynamically/60221445#60221445", "title": "How to use one template of google data studio for multiple accounts dynamically?", "body": "<p>What's the <a href=\"https://support.google.com/datastudio/answer/6300774\" rel=\"nofollow noreferrer\">Data Source</a>? One way it could be achieved is by email address:  </p>\n\n<p>Is it possible to add a column that links clients names / ID with an email address on each row, so that each row will have one email address? If an additional column could be added to your Data Set (e.g. if it's an SQL based Data Source then perhaps using a JOIN with a table that has the contact details of the client) that only lists the email address, then, at the Data Source, you could <a href=\"https://support.google.com/datastudio/answer/9713766\" rel=\"nofollow noreferrer\">filter by email address</a>.</p>\n"}], "owner": {"reputation": 1213, "user_id": 4229458, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6e748b74de15226b5f4406a011506c81?s=128&d=identicon&r=PG&f=1", "display_name": "Dyan", "link": "https://stackoverflow.com/users/4229458/dyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 306, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1581663454, "creation_date": 1569442898, "last_edit_date": 1581621683, "question_id": 58106027, "link": "https://stackoverflow.com/questions/58106027/how-to-use-one-template-of-google-data-studio-for-multiple-accounts-dynamically", "title": "How to use one template of google data studio for multiple accounts dynamically?", "body": "<p>I've been looking for a while how to do this:</p>\n\n<p>I have a datasource with the information o multiple clients, I want to create a template of Google Data Studio to show some reports. However, I want that template to be unique and some how show the information per client in the Datasource. Is this possible? Should I use another tool? </p>\n"}, {"tags": ["javascript", "node.js"], "comments": [{"owner": {"reputation": 789, "user_id": 5479593, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BKVms.png?s=128&g=1", "display_name": "Void Spirit", "link": "https://stackoverflow.com/users/5479593/void-spirit"}, "edited": false, "score": 1, "creation_date": 1569442983, "post_id": 58106008, "comment_id": 102602897, "body": "What should you get instead of <code>undefined</code> then?"}, {"owner": {"reputation": 39336, "user_id": 1377002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oDeF7.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/1377002/andy"}, "edited": false, "score": 1, "creation_date": 1569443217, "post_id": 58106008, "comment_id": 102602977, "body": "What does <code>orderidfirstuser</code> look like?"}, {"owner": {"reputation": 37, "user_id": 12108306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ec73890183c4e71c1740220ad23aca4?s=128&d=identicon&r=PG&f=1", "display_name": "NotBad", "link": "https://stackoverflow.com/users/12108306/notbad"}, "edited": false, "score": 0, "creation_date": 1569443547, "post_id": 58106008, "comment_id": 102603097, "body": "orderidfirstuser  looks like this <a href=\"https://pastebin.com/raw/e6BafBiW\" rel=\"nofollow noreferrer\">pastebin.com/raw/e6BafBiW</a>"}, {"owner": {"reputation": 430, "user_id": 10509886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jztmg.png?s=128&g=1", "display_name": "JDunken", "link": "https://stackoverflow.com/users/10509886/jdunken"}, "edited": false, "score": 0, "creation_date": 1569444061, "post_id": 58106008, "comment_id": 102603286, "body": "what do you get when you <code>console.log(orderidfirstuser.id)</code> ?"}, {"owner": {"reputation": 37, "user_id": 12108306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ec73890183c4e71c1740220ad23aca4?s=128&d=identicon&r=PG&f=1", "display_name": "NotBad", "link": "https://stackoverflow.com/users/12108306/notbad"}, "reply_to_user": {"reputation": 430, "user_id": 10509886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jztmg.png?s=128&g=1", "display_name": "JDunken", "link": "https://stackoverflow.com/users/10509886/jdunken"}, "edited": false, "score": 0, "creation_date": 1569444284, "post_id": 58106008, "comment_id": 102603359, "body": "@JDunken I get undefined"}, {"owner": {"reputation": 2687, "user_id": 1269732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BrHDr.png?s=128&g=1", "display_name": "Stock Overflaw", "link": "https://stackoverflow.com/users/1269732/stock-overflaw"}, "edited": false, "score": 0, "creation_date": 1569449111, "post_id": 58106008, "comment_id": 102604833, "body": "Just tried <a href=\"https://repl.it/repls/DelightfulScientificSubweb\" rel=\"nofollow noreferrer\">here</a> with your example JSON from PasteBin, it works as intended. I suppose there&#39;s an issue with the argument you pass to <code>fs.readFileSync</code>. As a side note, you can replace <code>fs.readFile</code> + <code>JSON.parse</code> with a single <code>require</code> call."}, {"owner": {"reputation": 830, "user_id": 7815403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H12Rh.jpg?s=128&g=1", "display_name": "sayalok", "link": "https://stackoverflow.com/users/7815403/sayalok"}, "edited": false, "score": 0, "creation_date": 1569477468, "post_id": 58106008, "comment_id": 102610721, "body": "i think u should use a callback func inside <code>readFileSync</code> and put ur codes inside there"}], "answers": [{"tags": [], "owner": {"reputation": 37, "user_id": 12108306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ec73890183c4e71c1740220ad23aca4?s=128&d=identicon&r=PG&f=1", "display_name": "NotBad", "link": "https://stackoverflow.com/users/12108306/notbad"}, "is_accepted": false, "score": 1, "last_activity_date": 1569481678, "last_edit_date": 1569481678, "creation_date": 1569477667, "answer_id": 58110443, "question_id": 58106008, "link": "https://stackoverflow.com/questions/58106008/nodejs-object-of-an-object-is-undefined/58110443#58110443", "title": "NodeJS - object of an object is undefined?", "body": "<p>It turns out that I was saving the unparsed object. That's why when I tried to read it caused this issue.</p>\n"}], "owner": {"reputation": 37, "user_id": 12108306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ec73890183c4e71c1740220ad23aca4?s=128&d=identicon&r=PG&f=1", "display_name": "NotBad", "link": "https://stackoverflow.com/users/12108306/notbad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1569481858, "creation_date": 1569442792, "last_edit_date": 1569481858, "question_id": 58106008, "link": "https://stackoverflow.com/questions/58106008/nodejs-object-of-an-object-is-undefined", "title": "NodeJS - object of an object is undefined?", "body": "<p>I'm trying to access a JSON object but I'm getting errors while accessing the object id. Could you please go through the code and let me know the mistake I'm making.</p>\n\n<p>When I try to <code>console.log(obj.id);</code>  it says <code>undefined</code></p>\n\n<p>Here is the code:</p>\n\n<pre><code>  var orderidfirstuser = fs.readFileSync(`orderids/${orderid}.json`,'utf-8');\n  var obj = JSON.parse(orderidfirstuser);\n  obj.id = (obj.id);\n  console.log(obj.id);\n  obj.delivered = (obj.delivered);\n  obj.title = (obj.title);\n  obj.is_replacement = (obj.is_replacement);\n  obj.paid_at = (obj.paid_at);\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "lua"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1569442394, "post_id": 58105883, "comment_id": 102602655, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/24908199/convert-json-string-to-lua-table\">Convert JSON String to Lua Table?</a>"}, {"owner": {"reputation": 504, "user_id": 9715392, "user_type": "registered", "profile_image": "https://graph.facebook.com/419193801875684/picture?type=large", "display_name": "Amelia Magee", "link": "https://stackoverflow.com/users/9715392/amelia-magee"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1569442901, "post_id": 58105883, "comment_id": 102602861, "body": "@VLAZ no i&#39;ve already read that one, i&#39;m looking to convert using JAVASCRIPT."}], "answers": [{"comments": [{"owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "edited": false, "score": 2, "creation_date": 1569443288, "post_id": 58106002, "comment_id": 102603001, "body": "What happens if the white space is in the middle of a string?&#39;"}, {"owner": {"reputation": 15224, "user_id": 7328218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69d338eadf83deb112f919f4c8a6052a?s=128&d=identicon&r=PG&f=1", "display_name": "Taki", "link": "https://stackoverflow.com/users/7328218/taki"}, "reply_to_user": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "edited": false, "score": 0, "creation_date": 1569443732, "post_id": 58106002, "comment_id": 102603160, "body": "@ScottSauyet oh, didn&#39;t see that, i removed them to make it easier to remove trailing commas, i&#39;ll rethink this"}, {"owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "edited": false, "score": 1, "creation_date": 1569444387, "post_id": 58106002, "comment_id": 102603393, "body": "I only noticed because I was working on a somewhat similar solution (now an answer) that has a different failure mode inside a string!"}, {"owner": {"reputation": 15224, "user_id": 7328218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69d338eadf83deb112f919f4c8a6052a?s=128&d=identicon&r=PG&f=1", "display_name": "Taki", "link": "https://stackoverflow.com/users/7328218/taki"}, "reply_to_user": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "edited": false, "score": 0, "creation_date": 1569444710, "post_id": 58106002, "comment_id": 102603500, "body": "@ScottSauyet i updated my answer, and yeah yours looks good but i guess there always will be tricky if the string had a value like <code>&quot;aaa&quot;, }</code> for some reason .."}, {"owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "edited": false, "score": 1, "creation_date": 1569455362, "post_id": 58106002, "comment_id": 102606065, "body": "Yes, I think any regex-based solution is going to have such issues.  This actually needs a proper parser.  I think mine has a less-likely failure mode than this answer, but nothing like this will solve the general case."}], "tags": [], "owner": {"reputation": 15224, "user_id": 7328218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69d338eadf83deb112f919f4c8a6052a?s=128&d=identicon&r=PG&f=1", "display_name": "Taki", "link": "https://stackoverflow.com/users/7328218/taki"}, "is_accepted": false, "score": 1, "last_activity_date": 1569444450, "last_edit_date": 1569444450, "creation_date": 1569442749, "answer_id": 58106002, "question_id": 58105883, "link": "https://stackoverflow.com/questions/58105883/does-there-exist-a-clean-way-to-convert-a-lua-table-as-a-string-to-a-javascrip/58106002#58106002", "title": "Does there exist a clean way to convert a lua table (as a string) to a javascript array? (and visa versa)", "body": "<p>You can to do it manually to make it a valid JSON then parse it :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const luaStr = `{\r\n    [\"glow\"] = true,\r\n    [\"xOffset\"] = -287.99981689453,\r\n    [\"yOffset\"] = -227.55575561523,\r\n    [\"anchorPoint\"] = \"CENTER\",\r\n    [\"cooldownSwipe\"] = true,\r\n    [\"customTextUpdate\"] = \"update\",\r\n    [\"cooldownEdge\"] = false,\r\n    [\"icon\"] = true,\r\n    [\"useglowColor\"] = false,\r\n    [\"internalVersion\"] = 24,\r\n    [\"keepAspectRatio\"] = false,\r\n    [\"animation\"] = {\r\n        [\"start\"] = {\r\n            [\"duration_type\"] = \"seconds\",\r\n            [\"type\"] = \"none\",\r\n        },\r\n        [\"main\"] = {\r\n            [\"duration_type\"] = \"seconds\",\r\n            [\"type\"] = \"none\",\r\n        },\r\n        [\"finish\"] = {\r\n            [\"duration_type\"] = \"seconds\",\r\n            [\"type\"] = \"none\",\r\n        },\r\n    }}`;\r\n\r\nconst result = luaStr  \r\n  .replace(/\\[|\\]/g, '') // remove the brackets\r\n  .replace(/=/g, ':') // replace the = with :\r\n  .replace(/(\\,)(?=\\s*})/g, ''); // remove trailing commas\r\n  \r\nconst parsed = JSON.parse(result);\r\n\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "is_accepted": false, "score": 0, "last_activity_date": 1569443992, "creation_date": 1569443992, "answer_id": 58106236, "question_id": 58105883, "link": "https://stackoverflow.com/questions/58105883/does-there-exist-a-clean-way-to-convert-a-lua-table-as-a-string-to-a-javascrip/58106236#58106236", "title": "Does there exist a clean way to convert a lua table (as a string) to a javascript array? (and visa versa)", "body": "<p>Here is something that you might not know, <code>{ [\"someString\"]: 2 }</code> is valid javascript and will evaluate to <code>{someString: 2}</code> which is valid json. The only issue is it needs to be evaluated, which means using <code>eval</code> (which you really never should, if you can avoid it).</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const luaStr = `{\r\n    [\"glow\"] = true,\r\n    [\"xOffset\"] = -287.99981689453,\r\n    [\"yOffset\"] = -227.55575561523,\r\n    [\"anchorPoint\"] = \"CENTER\",\r\n    [\"cooldownSwipe\"] = true,\r\n    [\"customTextUpdate\"] = \"update\",\r\n    [\"cooldownEdge\"] = false,\r\n    [\"icon\"] = true,\r\n    [\"useglowColor\"] = false,\r\n    [\"internalVersion\"] = 24,\r\n    [\"keepAspectRatio\"] = false,\r\n    [\"animation\"] = {\r\n        [\"start\"] = {\r\n            [\"duration_type\"] = \"seconds\",\r\n            [\"type\"] = \"none\",\r\n        },\r\n        [\"main\"] = {\r\n            [\"duration_type\"] = \"seconds\",\r\n            [\"type\"] = \"none\",\r\n        },\r\n        [\"finish\"] = {\r\n            [\"duration_type\"] = \"seconds\",\r\n            [\"type\"] = \"none\",\r\n        },\r\n    }}`;\r\n    \r\nconst jsonString = luaStr.replace(/\\] = /g, ']: ');\r\nconst jsonObj = eval(`(${jsonString})`);\r\n\r\nconsole.log(jsonObj);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 1635, "user_id": 5480147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7a4c467c7c34e0e9162535a801ae21a?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/5480147/tom"}, "edited": false, "score": 0, "creation_date": 1569519725, "post_id": 58106304, "comment_id": 102632826, "body": "Would not be better to include double quotes in regexp too ? Suppose it should be part of syntax and can give better reliability(?)"}, {"owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "reply_to_user": {"reputation": 1635, "user_id": 5480147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7a4c467c7c34e0e9162535a801ae21a?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/5480147/tom"}, "edited": false, "score": 0, "creation_date": 1569521513, "post_id": 58106304, "comment_id": 102633574, "body": "@Tom: Quite possibly.  The problem is that this technique is inherently fragile.  Any plain-regex based solution is almost certainly going to have failure modes, so the question is whether you want to use a full-fledged parser (I really recommend <a href=\"https://pegjs.org/\" rel=\"nofollow noreferrer\">Peg.js</a>) and if not, what compromises do you make.  Since it looks like the quotes are required syntax for Lua (is this true?), and I was only focused on interpreting a well-formed Lua table string, I didn&#39;t worry about it.  But that might help catch ill-formed input."}], "tags": [], "owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "is_accepted": false, "score": 1, "last_activity_date": 1569444332, "creation_date": 1569444332, "answer_id": 58106304, "question_id": 58105883, "link": "https://stackoverflow.com/questions/58105883/does-there-exist-a-clean-way-to-convert-a-lua-table-as-a-string-to-a-javascrip/58106304#58106304", "title": "Does there exist a clean way to convert a lua table (as a string) to a javascript array? (and visa versa)", "body": "<p>This is only a partial solution.  It could fail in some cases where the text inside a string matches the key syntax.  But that may not be a concern for you.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const lua = `\r\n{\r\n    [\"glow\"] = true,\r\n    [\"xOffset\"] = -287.99981689453,\r\n    [\"yOffset\"] = -227.55575561523,\r\n    [\"anchorPoint\"] = \"CENTER\",\r\n    [\"cooldownSwipe\"] = true,\r\n    [\"customTextUpdate\"] = \"update\",\r\n    [\"cooldownEdge\"] = false,\r\n    [\"icon\"] = true,\r\n    [\"useglowColor\"] = false,\r\n    [\"internalVersion\"] = 24,\r\n    [\"keepAspectRatio\"] = false,\r\n    [\"animation\"] = {\r\n        [\"start\"] = {\r\n            [\"duration_type\"] = \"seconds\",\r\n            [\"type\"] = \"none\",\r\n        },\r\n        [\"main\"] = {\r\n            [\"duration_type\"] = \"seconds\",\r\n            [\"type\"] = \"none\",\r\n        },\r\n        [\"finish\"] = {\r\n            [\"duration_type\"] = \"seconds\",\r\n            [\"type\"] = \"none\",\r\n        },\r\n    }\r\n}`\r\n\r\nconst lua2json = lua =&gt; \r\n  JSON .parse (lua .replace (\r\n    /\\[([^\\[\\]]+)\\]\\s*=/g, \r\n    (s, k) =&gt; `${k} :`\r\n  ) \r\n  .replace (/,(\\s*)\\}/gm, (s, k) =&gt; `${k}}`))\r\n\r\nconsole .log (\r\n  lua2json (lua)\r\n)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I didn't know if you were looking to create JSON or an object.  I chose the latter, but you could always remove the <code>JSON.parse</code> wrapper.</p>\n"}], "owner": {"reputation": 504, "user_id": 9715392, "user_type": "registered", "profile_image": "https://graph.facebook.com/419193801875684/picture?type=large", "display_name": "Amelia Magee", "link": "https://stackoverflow.com/users/9715392/amelia-magee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 601, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1569444450, "creation_date": 1569442050, "last_edit_date": 1569443022, "question_id": 58105883, "link": "https://stackoverflow.com/questions/58105883/does-there-exist-a-clean-way-to-convert-a-lua-table-as-a-string-to-a-javascrip", "title": "Does there exist a clean way to convert a lua table (as a string) to a javascript array? (and visa versa)", "body": "<p>EDIT: Take a lua table as a string, and use javascript to convert it to a javascript array. No programming in lua.</p>\n\n<p>So a lua table is just an associative array in a different format.</p>\n\n<pre class=\"lang-lua prettyprint-override\"><code>    --LUA TABLE EXAMPLE\n    {\n    [\"glow\"] = true,\n    [\"xOffset\"] = -287.99981689453,\n    [\"yOffset\"] = -227.55575561523,\n    [\"anchorPoint\"] = \"CENTER\",\n    [\"cooldownSwipe\"] = true,\n    [\"customTextUpdate\"] = \"update\",\n    [\"cooldownEdge\"] = false,\n    [\"icon\"] = true,\n    [\"useglowColor\"] = false,\n    [\"internalVersion\"] = 24,\n    [\"keepAspectRatio\"] = false,\n    [\"animation\"] = {\n        [\"start\"] = {\n            [\"duration_type\"] = \"seconds\",\n            [\"type\"] = \"none\",\n        },\n        [\"main\"] = {\n            [\"duration_type\"] = \"seconds\",\n            [\"type\"] = \"none\",\n        },\n        [\"finish\"] = {\n            [\"duration_type\"] = \"seconds\",\n            [\"type\"] = \"none\",\n        },\n    }\n</code></pre>\n\n<p>I've looked around for some javascript functions or libraries to do this though I've only come across some lua libraries to convert json to a lua table. The lua table will always be in a string. Does there exist a way of doing this?</p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 1, "creation_date": 1569442025, "post_id": 58105853, "comment_id": 102602507, "body": "Because <code>&quot;alert(&#39;test&#39;);&quot;</code> with quotation marks around it is not a function, it&#39;s just a string. You could do <code>var tofunction = function() { alert(&#39;test&#39;); }</code>. You now have a function named <code>tofunction</code> that will alert when called. If you want that to happen on input, try <code>input.oninput = tofunction</code>."}, {"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 0, "creation_date": 1569442027, "post_id": 58105853, "comment_id": 102602508, "body": "No. You don&#39;t want this. Trust me. But since you won&#39;t, <code>var oninput = new Function(tofunction)</code>."}, {"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "reply_to_user": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 1, "creation_date": 1569442174, "post_id": 58105853, "comment_id": 102602562, "body": "@JaredSmith ...maybe he would trust you if you explained in the slightest <i>why</i> you were saying that."}, {"owner": {"reputation": 189597, "user_id": 616443, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/907798bf02efdaf6f9d07d3c0552868f?s=128&d=identicon&r=PG", "display_name": "j08691", "link": "https://stackoverflow.com/users/616443/j08691"}, "edited": false, "score": 1, "creation_date": 1569442209, "post_id": 58105853, "comment_id": 102602575, "body": "There&#39;s always <code>eval()</code> but notice how close it is to <code>evil</code>..."}, {"owner": {"reputation": 3, "user_id": 8833029, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yBlNpjBM09Q/AAAAAAAAAAI/AAAAAAAAAoE/Bysj48gAotQ/photo.jpg?sz=128", "display_name": "Nathan Metzger", "link": "https://stackoverflow.com/users/8833029/nathan-metzger"}, "reply_to_user": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 0, "creation_date": 1569442367, "post_id": 58105853, "comment_id": 102602639, "body": "@JaredSmith &#39;s answer worked, Thanks!"}, {"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 1, "creation_date": 1569442469, "post_id": 58105853, "comment_id": 102602690, "body": "@NathanMetzger Note that Jared was trying to warn you to <b>not do that</b>. There is <b>rarely ever</b> a reason to turn strings into executable code. If that string is coming from a user, then you should <b>absolutely not do this</b>. Please consider expanding your question to explain <i>why</i> you want this before implementing it, for your own sake."}, {"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "reply_to_user": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 1, "creation_date": 1569443420, "post_id": 58105853, "comment_id": 102603054, "body": "@TylerRoper if I thought I could explain everything involved in that request in the space of a comment, I would. If I thought I could answer the question (explaining all of the various problems) in the space of an answer, I&#39;d do that too. You did the right thing to ask for more info to hopefully narrow it down."}, {"owner": {"reputation": 3, "user_id": 8833029, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yBlNpjBM09Q/AAAAAAAAAAI/AAAAAAAAAoE/Bysj48gAotQ/photo.jpg?sz=128", "display_name": "Nathan Metzger", "link": "https://stackoverflow.com/users/8833029/nathan-metzger"}, "reply_to_user": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1569467286, "post_id": 58105853, "comment_id": 102608158, "body": "@TylerRoper it&#39;s for personal use, I don&#39;t care about injection vulnerabilities, thanks for letting me know though"}], "owner": {"reputation": 3, "user_id": 8833029, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yBlNpjBM09Q/AAAAAAAAAAI/AAAAAAAAAoE/Bysj48gAotQ/photo.jpg?sz=128", "display_name": "Nathan Metzger", "link": "https://stackoverflow.com/users/8833029/nathan-metzger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 207, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569442324, "creation_date": 1569441903, "question_id": 58105853, "link": "https://stackoverflow.com/questions/58105853/change-elements-oninput-event-using-a-variable-in-javascript", "title": "Change element&#39;s oninput event using a variable in javascript?", "body": "<p>I want to change the oninput event for an input field to the input event specified in a variable. </p>\n\n<p>Right now, I have</p>\n\n<pre><code>var input = document.createElement('input');\nvar tofunction = \"alert('test');\";\ninput.oninput = function oninput(event) { tofunction };\ndocument.getElementById('div').append(input);\n</code></pre>\n\n<p>When inputting in the text box, nothing happens, but if I set it manually without a variable it performs the function defined. </p>\n\n<pre><code>var input = document.createElement('input');\ninput.oninput = function oninput(event) { alert('test'); };\ndocument.getElementById('div').append(input);\n</code></pre>\n"}, {"tags": ["javascript", "html", "google-chrome"], "answers": [{"tags": [], "owner": {"reputation": 3200, "user_id": 2680506, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TJIPV.jpg?s=128&g=1", "display_name": "Dave S", "link": "https://stackoverflow.com/users/2680506/dave-s"}, "is_accepted": true, "score": 2, "last_activity_date": 1569442270, "creation_date": 1569442270, "answer_id": 58105929, "question_id": 58105809, "link": "https://stackoverflow.com/questions/58105809/html-input-text-select-method-not-working-with-chrome/58105929#58105929", "title": "HTML Input Text select() method not working with Chrome", "body": "<p>createTextRange is not supported in Chrome </p>\n\n<p><a href=\"http://help.dottoro.com/ljouisvm.php\" rel=\"nofollow noreferrer\">http://help.dottoro.com/ljouisvm.php</a></p>\n\n<p>You'll need to detect the browser and use an alternative. </p>\n\n<p>This may work:\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/createRange\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Document/createRange</a></p>\n"}], "owner": {"reputation": 672, "user_id": 3968793, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/upTQO.jpg?s=128&g=1", "display_name": "ballBreaker", "link": "https://stackoverflow.com/users/3968793/ballbreaker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 58105929, "answer_count": 1, "score": 1, "last_activity_date": 1569477039, "creation_date": 1569441700, "last_edit_date": 1569477039, "question_id": 58105809, "link": "https://stackoverflow.com/questions/58105809/html-input-text-select-method-not-working-with-chrome", "title": "HTML Input Text select() method not working with Chrome", "body": "<p><strong>ISSUE:</strong></p>\n\n<p>I have legacy code that runs with IE that I am trying to make cross-browser compatible. One of the features I have been struggling to get working on  modern browsers (Chrome in particular) is the .select() function on Input Text. Currently users enter in a value into a field, and then hit the \"find on page\" button, and the relevant text will be highlighted in the table below.</p>\n\n<p>Internet Explorer: </p>\n\n<p><a href=\"https://i.stack.imgur.com/6fc81.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6fc81.png\" alt=\"Working select() functionality in IE\"></a></p>\n\n<p>Google Chrome:</p>\n\n<p><a href=\"https://i.stack.imgur.com/WvVQD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WvVQD.png\" alt=\"Broken select() in Chrome\"></a></p>\n\n<p>As you can see above, in Chrome, the text is not highlighted. Leading me to believe that the select() functionality is <strong>NOT</strong> supported in Chrome. However, according to <a href=\"https://www.w3schools.com/jsref/met_text_select.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/jsref/met_text_select.asp</a> this function is supported by Chrome. </p>\n\n<p><strong>RELEVANT CODE:</strong></p>\n\n<p>HTML Button for text selection:</p>\n\n<pre><code>&lt;td align=\"center\"&gt;&lt;input type=\"text\" name=\"textSearchInput\" onkeypress=\"if (event.keyCode == 13) {textSearch(textSearchInput.value); return false;}\" size=\"15\" maxlength=\"30\"&gt;&lt;button type=\"button\" id=\"formSubmit2\" onclick=\"textSearch(textSearchInput.value);\"&gt;&lt;bean:message key=\"fp.inventory.textSearch\"/&gt;&lt;/button&gt;&lt;/td&gt;\n</code></pre>\n\n<p>JavaScript for searching and highlighting that <strong>WORKS</strong> in Internet Explorer but <strong>DOES NOT</strong> work in Chrome:</p>\n\n<pre><code>      var oRange = null;\n\n      function textSearch(str)\n      {\n        if ((str == null) || (str == ''))\n          return;\n\n        if (oRange == null)\n        { // first entry, or wrap search from the end\n          oRange = document.body.createTextRange();\n        }\n        else\n        { // move caret forward\n          oRange.move('character', 1);\n        }\n        var found = oRange.findText(str);\n        if (found)\n        { // highlight and scroll to there\n          oRange.focus();\n          oRange.select();\n          oRange.scrollIntoView(false);\n        }\n        else\n        { // see if str exists at all by going backward\n          found = oRange.findText(str, -1);\n          if (found)\n          { // wrap search\n            oRange = null;\n            textSearch(str);\n          }\n        }\n</code></pre>\n\n<p>Is there anything else that I am missing from this? I am not the most well-versed in either HTML or JavaScript so I could be missing something basic..</p>\n"}, {"tags": ["javascript", "jquery", "html", "vue.js"], "comments": [{"owner": {"reputation": 44310, "user_id": 1206267, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bc673ce429f0eb6ae81d75691522c217?s=128&d=identicon&r=PG", "display_name": "Ohgodwhy", "link": "https://stackoverflow.com/users/1206267/ohgodwhy"}, "edited": false, "score": 0, "creation_date": 1569441663, "post_id": 58105792, "comment_id": 102602353, "body": "What does this have to do with Vuejs?"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 11214688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jbTSq.jpg?s=128&g=1", "display_name": "Loyd Stewart II", "link": "https://stackoverflow.com/users/11214688/loyd-stewart-ii"}, "edited": false, "score": 1, "creation_date": 1571544084, "post_id": 58105991, "comment_id": 103273870, "body": "I avoided mixing the two and solved my issues. Thanks! Sorry I took so long to accept the answer."}, {"owner": {"reputation": 6400, "user_id": 786593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02ca3156e5785370494410fc80f28a79?s=128&d=identicon&r=PG", "display_name": "wp-overwatch.com", "link": "https://stackoverflow.com/users/786593/wp-overwatch-com"}, "reply_to_user": {"reputation": 13, "user_id": 11214688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jbTSq.jpg?s=128&g=1", "display_name": "Loyd Stewart II", "link": "https://stackoverflow.com/users/11214688/loyd-stewart-ii"}, "edited": false, "score": 0, "creation_date": 1571544292, "post_id": 58105991, "comment_id": 103273893, "body": "Thank you for coming back and accepting my answer. I&#39;m glad you where able to get things working."}], "tags": [], "owner": {"reputation": 6400, "user_id": 786593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02ca3156e5785370494410fc80f28a79?s=128&d=identicon&r=PG", "display_name": "wp-overwatch.com", "link": "https://stackoverflow.com/users/786593/wp-overwatch-com"}, "is_accepted": true, "score": 0, "last_activity_date": 1569443160, "last_edit_date": 1569443160, "creation_date": 1569442681, "answer_id": 58105991, "question_id": 58105792, "link": "https://stackoverflow.com/questions/58105792/jquery-is-working-inside-a-function-but-only-for-one-of-the-calls-the-other-i-m/58105991#58105991", "title": "Jquery is working inside a function but only for one of the calls, the other I must manually execute in the Chrome console", "body": "<p>I wouldn't recommend mixing jQuery and Vue. Vue uses a virtual DOM while jQuery does not. What's probably happening is that when the tS function runs, it updates the DOM correctly, but then Vue overrides those changes based on the info it has in its virtual DOM. </p>\n\n<p>See <a href=\"https://vuejsdevelopers.com/2017/05/20/vue-js-safely-jquery-plugin/\" rel=\"nofollow noreferrer\">https://vuejsdevelopers.com/2017/05/20/vue-js-safely-jquery-plugin/</a> for instructions on how to get jQuery to work with Vue. You're going to have to wrap your jQuery functions in a Vue component which is fine if your needing some complicated functionality in a jQuery plugin, but for basic DOM manipulation like this, it's much easier to stick to doing this inside of Vue.</p>\n"}], "owner": {"reputation": 13, "user_id": 11214688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jbTSq.jpg?s=128&g=1", "display_name": "Loyd Stewart II", "link": "https://stackoverflow.com/users/11214688/loyd-stewart-ii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 58105991, "answer_count": 1, "score": 0, "last_activity_date": 1569443160, "creation_date": 1569441629, "question_id": 58105792, "link": "https://stackoverflow.com/questions/58105792/jquery-is-working-inside-a-function-but-only-for-one-of-the-calls-the-other-i-m", "title": "Jquery is working inside a function but only for one of the calls, the other I must manually execute in the Chrome console", "body": "<p>I am trying to reset the 'selected' item after the user makes a selection. This is calling to the Vue function below, tS(). The first call <code>$('#sel1').prop('selectedIndex',0);</code> only works if I execute it in the console however the second one  <code>$('#current-schedule-holder').text('Current : '+scheduleToTime(msg));</code> works fine, meaning that jquery is working. Also my <code>console.log($('#sel1'))</code> shows that the element from the first call, the one that is not working, is already in the DOM when the function executes.</p>\n\n<pre><code>tS: function(msg){\n   $('#sel1').prop('selectedIndex',0);\n   console.log($('#sel1'))\n   $('#current-schedule-holder').text('Current : '+scheduleToTime(msg));\n   toggleScheduler(this.query, msg);\n},\n</code></pre>\n"}, {"tags": ["javascript", "authentication", "token", "spotify"], "comments": [{"owner": {"reputation": 4302, "user_id": 61529, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/a2f1eca71fe932e872d57bd34d00b22e?s=128&d=identicon&r=PG", "display_name": "RoguePlanetoid", "link": "https://stackoverflow.com/users/61529/rogueplanetoid"}, "edited": false, "score": 0, "creation_date": 1569481070, "post_id": 58105772, "comment_id": 102612207, "body": "Try using the token with the Spotify Dashboard and see if the token itself is valid for that call, if it is then you might have an error in your code but can at least check if the Token is the issue first"}, {"owner": {"reputation": 9, "user_id": 12121126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a71f8f6fb8ed6dae10e25b05311de296?s=128&d=identicon&r=PG&f=1", "display_name": "slyzer", "link": "https://stackoverflow.com/users/12121126/slyzer"}, "reply_to_user": {"reputation": 4302, "user_id": 61529, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/a2f1eca71fe932e872d57bd34d00b22e?s=128&d=identicon&r=PG", "display_name": "RoguePlanetoid", "link": "https://stackoverflow.com/users/61529/rogueplanetoid"}, "edited": false, "score": 0, "creation_date": 1569514575, "post_id": 58105772, "comment_id": 102630430, "body": "Thank you for your reply. I don&#39;t exactly understand your suggestion. How/Where can I check the token with the Spotify Dashboard?"}, {"owner": {"reputation": 9, "user_id": 12121126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a71f8f6fb8ed6dae10e25b05311de296?s=128&d=identicon&r=PG&f=1", "display_name": "slyzer", "link": "https://stackoverflow.com/users/12121126/slyzer"}, "reply_to_user": {"reputation": 4302, "user_id": 61529, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/a2f1eca71fe932e872d57bd34d00b22e?s=128&d=identicon&r=PG", "display_name": "RoguePlanetoid", "link": "https://stackoverflow.com/users/61529/rogueplanetoid"}, "edited": false, "score": 0, "creation_date": 1569515113, "post_id": 58105772, "comment_id": 102630694, "body": "Never mind it&#39;s <b>working</b> now without changing anything."}, {"owner": {"reputation": 4302, "user_id": 61529, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/a2f1eca71fe932e872d57bd34d00b22e?s=128&d=identicon&r=PG", "display_name": "RoguePlanetoid", "link": "https://stackoverflow.com/users/61529/rogueplanetoid"}, "edited": false, "score": 0, "creation_date": 1569570810, "post_id": 58105772, "comment_id": 102647397, "body": "Sure, have posted an answer explaining how to check a token if useful in future or to anyone else!"}], "answers": [{"tags": [], "owner": {"reputation": 4302, "user_id": 61529, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/a2f1eca71fe932e872d57bd34d00b22e?s=128&d=identicon&r=PG", "display_name": "RoguePlanetoid", "link": "https://stackoverflow.com/users/61529/rogueplanetoid"}, "is_accepted": false, "score": 0, "last_activity_date": 1569570792, "creation_date": 1569570792, "answer_id": 58130172, "question_id": 58105772, "link": "https://stackoverflow.com/questions/58105772/cannot-authenticate-to-web-playback-api-with-authorization-code-flow/58130172#58130172", "title": "Cannot authenticate to Web Playback API with authorization code flow", "body": "<p>Handy way to check tokens are working is to go to  <a href=\"http://developer.spotify.com/\" rel=\"nofollow noreferrer\">developer.spotify.com</a> then <strong>Console</strong> and find any authenticated API call you need to try out then you can paste the token you have and if that works, you at least know a token is valid before spending time figuring out what's wrong!</p>\n"}], "owner": {"reputation": 9, "user_id": 12121126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a71f8f6fb8ed6dae10e25b05311de296?s=128&d=identicon&r=PG&f=1", "display_name": "slyzer", "link": "https://stackoverflow.com/users/12121126/slyzer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 291, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569570792, "creation_date": 1569441557, "question_id": 58105772, "link": "https://stackoverflow.com/questions/58105772/cannot-authenticate-to-web-playback-api-with-authorization-code-flow", "title": "Cannot authenticate to Web Playback API with authorization code flow", "body": "<p>I would like to use the authorization code flow to authenticate with the Web Playback API. Unfortunately the playback does not work properly. My browser plays a couple of seconds and then skips all the tracks.</p>\n\n<p>Using the temporary code <a href=\"https://developer.spotify.com/documentation/web-playback-sdk/quick-start/#authenticating-with-spotify\" rel=\"nofollow noreferrer\">from the docs</a> works fine though.</p>\n\n<p>I obtain the access_token via a server which connects to the Web API and redirect the callback to my client which should connect to the Web Playback API.</p>\n\n<p>I found this question: <a href=\"https://stackoverflow.com/questions/52880305/problem-playing-songs-via-the-spotify-web-api-and-javascript\">problem playing songs via the spotify web api and javascript</a> and the answerer suggested that an authorization code should work.</p>\n\n<p>This is the server code to connect with the Web API:\nindex.html</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;Example of the Authorization Code flow with Spotify&lt;/title&gt;\n    &lt;link rel=\"stylesheet\" href=\"//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css\"&gt;\n    &lt;style type=\"text/css\"&gt;\n      #login, #loggedin {\n        display: none;\n      }\n      .text-overflow {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        width: 500px;\n      }\n    &lt;/style&gt;\n  &lt;/head&gt;\n\n  &lt;body&gt;\n    &lt;div class=\"container\"&gt;\n      &lt;div id=\"login\"&gt;\n        &lt;h1&gt;This is an example of the Authorization Code flow&lt;/h1&gt;\n        &lt;a href=\"/login\" class=\"btn btn-primary\"&gt;Log in with Spotify&lt;/a&gt;\n      &lt;/div&gt;\n      &lt;div id=\"loggedin\"&gt;\n        &lt;div id=\"user-profile\"&gt;\n        &lt;/div&gt;\n        &lt;div id=\"oauth\"&gt;\n        &lt;/div&gt;\n        &lt;button class=\"btn btn-default\" id=\"obtain-new-token\"&gt;Obtain new token using the refresh token&lt;/button&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;script id=\"user-profile-template\" type=\"text/x-handlebars-template\"&gt;\n      &lt;h1&gt;Logged in as {{display_name}}&lt;/h1&gt;\n      &lt;div class=\"media\"&gt;\n        &lt;div class=\"pull-left\"&gt;\n          &lt;img class=\"media-object\" width=\"150\" src=\"{{images.0.url}}\" /&gt;\n        &lt;/div&gt;\n        &lt;div class=\"media-body\"&gt;\n          &lt;dl class=\"dl-horizontal\"&gt;\n            &lt;dt&gt;Display name&lt;/dt&gt;&lt;dd class=\"clearfix\"&gt;{{display_name}}&lt;/dd&gt;\n            &lt;dt&gt;Id&lt;/dt&gt;&lt;dd&gt;{{id}}&lt;/dd&gt;\n            &lt;dt&gt;Email&lt;/dt&gt;&lt;dd&gt;{{email}}&lt;/dd&gt;\n            &lt;dt&gt;Spotify URI&lt;/dt&gt;&lt;dd&gt;&lt;a href=\"{{external_urls.spotify}}\"&gt;{{external_urls.spotify}}&lt;/a&gt;&lt;/dd&gt;\n            &lt;dt&gt;Link&lt;/dt&gt;&lt;dd&gt;&lt;a href=\"{{href}}\"&gt;{{href}}&lt;/a&gt;&lt;/dd&gt;\n            &lt;dt&gt;Profile Image&lt;/dt&gt;&lt;dd class=\"clearfix\"&gt;&lt;a href=\"{{images.0.url}}\"&gt;{{images.0.url}}&lt;/a&gt;&lt;/dd&gt;\n            &lt;dt&gt;Country&lt;/dt&gt;&lt;dd&gt;{{country}}&lt;/dd&gt;\n          &lt;/dl&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/script&gt;\n\n    &lt;script id=\"oauth-template\" type=\"text/x-handlebars-template\"&gt;\n      &lt;h2&gt;oAuth info&lt;/h2&gt;\n      &lt;dl class=\"dl-horizontal\"&gt;\n        &lt;dt&gt;Access token&lt;/dt&gt;&lt;dd class=\"text-overflow\"&gt;{{access_token}}&lt;/dd&gt;\n        &lt;dt&gt;Refresh token&lt;/dt&gt;&lt;dd class=\"text-overflow\"&gt;{{refresh_token}}&lt;/dd&gt;\n      &lt;/dl&gt;\n    &lt;/script&gt;\n\n    &lt;script src=\"//cdnjs.cloudflare.com/ajax/libs/handlebars.js/2.0.0-alpha.1/handlebars.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"http://code.jquery.com/jquery-1.10.1.min.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n      (function() {\n\n        /**\n         * Obtains parameters from the hash of the URL\n         * @return Object\n         */\n        function getHashParams() {\n          var hashParams = {};\n          var e, r = /([^&amp;;=]+)=?([^&amp;;]*)/g,\n              q = window.location.hash.substring(1);\n          while ( e = r.exec(q)) {\n             hashParams[e[1]] = decodeURIComponent(e[2]);\n          }\n          return hashParams;\n        }\n\n        var userProfileSource = document.getElementById('user-profile-template').innerHTML,\n            userProfileTemplate = Handlebars.compile(userProfileSource),\n            userProfilePlaceholder = document.getElementById('user-profile');\n\n        var oauthSource = document.getElementById('oauth-template').innerHTML,\n            oauthTemplate = Handlebars.compile(oauthSource),\n            oauthPlaceholder = document.getElementById('oauth');\n\n        var params = getHashParams();\n\n        var access_token = params.access_token,\n            refresh_token = params.refresh_token,\n            error = params.error;\n\n        if (error) {\n          alert('There was an error during the authentication');\n        } else {\n          if (access_token) {\n            // render oauth info\n            oauthPlaceholder.innerHTML = oauthTemplate({\n              access_token: access_token,\n              refresh_token: refresh_token\n            });\n\n            $.ajax({\n                url: 'https://api.spotify.com/v1/me',\n                headers: {\n                  'Authorization': 'Bearer ' + access_token\n                },\n                success: function(response) {\n                  userProfilePlaceholder.innerHTML = userProfileTemplate(response);\n\n                  $('#login').hide();\n                  $('#loggedin').show();\n                }\n            });\n          } else {\n              // render initial screen\n              $('#login').show();\n              $('#loggedin').hide();\n          }\n\n          document.getElementById('obtain-new-token').addEventListener('click', function() {\n            $.ajax({\n              url: '/refresh_token',\n              data: {\n                'refresh_token': refresh_token\n              }\n            }).done(function(data) {\n              access_token = data.access_token;\n              oauthPlaceholder.innerHTML = oauthTemplate({\n                access_token: access_token,\n                refresh_token: refresh_token\n              });\n            });\n          }, false);\n        }\n      })();\n    &lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>app.js (via Node.js)</p>\n\n<pre><code>var express = require('express'); // Express web server framework\nvar request = require('request'); // \"Request\" library\nvar cors = require('cors');\nvar querystring = require('querystring');\nvar cookieParser = require('cookie-parser');\n\nvar client_id = 'MY_ID'; // Your client id\nvar client_secret = 'MY_SECRET'; // Your secret\nvar redirect_uri = 'http://localhost:8888/callback'; // Your redirect uri\n\n/**\n * Generates a random string containing numbers and letters\n * @param  {number} length The length of the string\n * @return {string} The generated string\n */\nvar generateRandomString = function(length) {\n  var text = '';\n  var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\n  for (var i = 0; i &lt; length; i++) {\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\n  }\n  return text;\n};\n\nvar stateKey = 'spotify_auth_state';\n\nvar app = express();\n\napp.use(express.static(__dirname + '/public'))\n   .use(cors())\n   .use(cookieParser());\n\napp.get('/login', function(req, res) {\n\n  var state = generateRandomString(16);\n  res.cookie(stateKey, state);\n\n  // your application requests authorization\n  var scope = 'streaming user-read-private user-read-email user-read-playback-state user-modify-playback-state';\n  res.redirect('https://accounts.spotify.com/authorize?' +\n    querystring.stringify({\n      response_type: 'code',\n      client_id: client_id,\n      scope: scope,\n      redirect_uri: redirect_uri,\n      state: state\n    }));\n});\n\napp.get('/callback', function(req, res) {\n\n  // your application requests refresh and access tokens\n  // after checking the state parameter\n\n  var code = req.query.code || null;\n  var state = req.query.state || null;\n  var storedState = req.cookies ? req.cookies[stateKey] : null;\n\n  if (state === null || state !== storedState) {\n    res.redirect('http://localhost:3000/#' +\n      querystring.stringify({\n        error: 'state_mismatch'\n      }));\n  } else {\n    res.clearCookie(stateKey);\n    var authOptions = {\n      url: 'https://accounts.spotify.com/api/token',\n      form: {\n        code: code,\n        redirect_uri: redirect_uri,\n        grant_type: 'authorization_code'\n      },\n      headers: {\n        'Authorization': 'Basic ' + (new Buffer(client_id + ':' + client_secret).toString('base64'))\n      },\n      json: true\n    };\n\n    request.post(authOptions, function(error, response, body) {\n      if (!error &amp;&amp; response.statusCode === 200) {\n\n        var access_token = body.access_token,\n            refresh_token = body.refresh_token;\n\n        var options = {\n          url: 'https://api.spotify.com/v1/me',\n          headers: { 'Authorization': 'Bearer ' + access_token },\n          json: true\n        };\n\n        // use the access token to access the Spotify Web API\n        request.get(options, function(error, response, body) {\n          console.log(body);\n        });\n\n        // we can also pass the token to the browser to make requests from there\n        res.redirect('http://localhost:3000/#' +\n          querystring.stringify({\n            access_token: access_token,\n            refresh_token: refresh_token\n          }));\n      } else {\n        res.redirect('/#' +\n          querystring.stringify({\n            error: 'invalid_token'\n          }));\n      }\n    });\n  }\n});\n\napp.get('/refresh_token', function(req, res) {\n\n  // requesting access token from refresh token\n  var refresh_token = req.query.refresh_token;\n  var authOptions = {\n    url: 'https://accounts.spotify.com/api/token',\n    headers: { 'Authorization': 'Basic ' + (new Buffer(client_id + ':' + client_secret).toString('base64')) },\n    form: {\n      grant_type: 'refresh_token',\n      refresh_token: refresh_token\n    },\n    json: true\n  };\n\n  request.post(authOptions, function(error, response, body) {\n    if (!error &amp;&amp; response.statusCode === 200) {\n      var access_token = body.access_token;\n      res.send({\n        'access_token': access_token\n      });\n    }\n  });\n});\n\nconsole.log('Listening on 8888');\napp.listen(8888);\n</code></pre>\n\n<p>This is the client code to connect with the Web Playback API:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n  &lt;head&gt;\n    &lt;meta charset=\"utf-8\" /&gt;\n    &lt;title&gt;Spotify listener&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;noscript&gt;You need to enable JavaScript to run this app.&lt;/noscript&gt;\n    &lt;div id=\"root\"&gt;&lt;/div&gt;\n\n\n    &lt;script src=\"http://code.jquery.com/jquery-1.10.1.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://sdk.scdn.co/spotify-player.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n      window.onSpotifyWebPlaybackSDKReady = () =&gt; {\n        console.log(\"The Web Playback SDK is ready. We have access to Spotify.Player\");\n        console.log(window.Spotify.Player);\n      };\n      async function getToken() {\n        /**\n         * Obtains parameters from the hash of the URL\n         * @return Object\n         */\n        function getHashParams() {\n          var hashParams = {};\n          var e, r = /([^&amp;;=]+)=?([^&amp;;]*)/g,\n                  q = window.location.hash.substring(1);\n          while ( e = r.exec(q)) {\n            hashParams[e[1]] = decodeURIComponent(e[2]);\n          }\n          return hashParams;\n        }\n        var params = getHashParams();\n        access_token = params.access_token;\n        refresh_token = params.refresh_token;\n        error = params.error;\n        if (error) {\n          alert('There was an error during the authentication');\n        } else {\n          if (access_token) {\n            // render oauth info\n            console.log(\"Success ac: \" + access_token)\n            return access_token;\n          }\n        }\n      }\n\n      async function waitForSpotifyWebPlaybackSDKToLoad () {\n        return new Promise(resolve =&gt; {\n          if (window.Spotify) {\n            resolve(window.Spotify);\n          } else {\n            window.onSpotifyWebPlaybackSDKReady = () =&gt; {\n              resolve(window.Spotify);\n            };\n          }\n        });\n      }\n\n      async function waitUntilUserHasSelectedPlayer (sdk) {\n        return new Promise(resolve =&gt; {\n          let interval = setInterval(async () =&gt; {\n            let state = await sdk.getCurrentState();\n            if (state !== null) {\n              resolve(state);\n              clearInterval(interval);\n            }\n          });\n        });\n      }\n\n      (async () =&gt; {\n        const { Player } = await waitForSpotifyWebPlaybackSDKToLoad();\n        const token = \"TEMPORARY_TOKEN\";   //working temporary token\n        //const token = await getToken();  //I get a token but it does not work\n        console.log(\"token: \" + token);    \n        const sdk = new Player({\n          name: \"Web Playback SDK\",\n          volume: 1.0,\n          getOAuthToken: callback =&gt; { callback(token); }\n        });  sdk.on(\"player_state_changed\", state =&gt; {\n          // Update UI with playback state changes\n        });  let connected = await sdk.connect();\n        if (connected) {\n          let state = await waitUntilUserHasSelectedPlayer(sdk);\n          await sdk.resume();\n          await sdk.setVolume(0.5);    let {\n            id,\n            uri: track_uri,\n            name: track_name,\n            duration_ms,\n            artists,\n            album: {\n              name: album_name,\n              uri: album_uri,\n              images: album_images\n            }\n          } = state.track_window.current_track;\n          console.log(`You're listening to ${track_name} by ${artists[0].name}!`);\n        }\n      })();\n    &lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>The debugger shows the error: \"TypeError: this._acmeTrack is null\"</p>\n\n<p>Any help, hints and of course your time is greatly appreciated!</p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 1, "creation_date": 1569441837, "post_id": 58105725, "comment_id": 102602428, "body": "Aside from writing a custom lookup, you can&#39;t do that out of the box. However, CSS selectors can sort of cover that, as long as your selection logic is not too complex. The boolean expression you have resolves in four branches, so you can just have four selectors."}, {"owner": {"reputation": 3, "user_id": 12121041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d50ed90995543460e9282887135fd60?s=128&d=identicon&r=PG&f=1", "display_name": "user12121041", "link": "https://stackoverflow.com/users/12121041/user12121041"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1569452644, "post_id": 58105725, "comment_id": 102605597, "body": "Thanks, Olian. I guess this makes the challenge building the proper selector string based on user checkbox input -- but if have trouble there it will be a new question. Appreciate the help!"}], "answers": [{"comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1569442102, "post_id": 58105828, "comment_id": 102602542, "body": "For more expressivity, you could also use <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/:is\" rel=\"nofollow noreferrer\"><code>:is(.A1, .A2):is(.B1, .B2)</code></a>"}, {"owner": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1569442315, "post_id": 58105828, "comment_id": 102602616, "body": "@Bergi that is true. However the <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/:is#Browser_compatibility\" rel=\"nofollow noreferrer\">browser compatibility for <code>:is</code></a> is a bit flaky."}], "tags": [], "owner": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "is_accepted": true, "score": 4, "last_activity_date": 1569442041, "last_edit_date": 1569442041, "creation_date": 1569441782, "answer_id": 58105828, "question_id": 58105725, "link": "https://stackoverflow.com/questions/58105725/is-there-a-way-in-javascript-to-select-elements-matching-a-boolean-expression-of/58105828#58105828", "title": "Is there a way in Javascript to select elements matching a boolean expression of multiple class names?", "body": "<p>You could use css selectors with the <code>querySelectorAll</code> function.</p>\n\n<p><code>(A1 OR A2) AND (B1 OR B2)</code> is the same as saying <code>(A1 AND B1) OR (A1 AND B2) OR (A2 AND B1) OR (A2 AND B2)</code> which we can express using css selectors like this <code>.A1.B1, .A1.B2, .A2.B1, .A2.B2</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// (A1 OR A2) AND (B1 OR B2)\r\nconst selector = '.A1.B1, .A1.B2, .A2.B1, .A2.B2';\r\n\r\nconst $elems = document.querySelectorAll(selector);\r\n\r\n$elems.forEach($el =&gt; console.log($el));</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"A1 A2 B1\"&gt;&lt;/div&gt;\r\n&lt;div class=\"A1 B1\"&gt;&lt;/div&gt;\r\n&lt;div class=\"A1 B2\"&gt;&lt;/div&gt;\r\n&lt;div class=\"A2 B1\"&gt;&lt;/div&gt;\r\n&lt;div class=\"A2 B2\"&gt;&lt;/div&gt;\r\n&lt;div class=\"A2 C3\"&gt;&lt;/div&gt;\r\n&lt;div class=\"B2 C3\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<ul>\n<li>More on CSS selectors: <a href=\"https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Selectors\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Selectors</a></li>\n<li>More on querySelectorAll: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll</a></li>\n</ul>\n"}], "owner": {"reputation": 3, "user_id": 12121041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d50ed90995543460e9282887135fd60?s=128&d=identicon&r=PG&f=1", "display_name": "user12121041", "link": "https://stackoverflow.com/users/12121041/user12121041"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 58105828, "answer_count": 1, "score": 0, "last_activity_date": 1569442041, "creation_date": 1569441356, "last_edit_date": 1569441636, "question_id": 58105725, "link": "https://stackoverflow.com/questions/58105725/is-there-a-way-in-javascript-to-select-elements-matching-a-boolean-expression-of", "title": "Is there a way in Javascript to select elements matching a boolean expression of multiple class names?", "body": "<p>Say I have multiple elements on a page and each element has one or more class names, e.g.:</p>\n\n<pre><code>&lt;div class=\"A1 A2 B1\"&gt;\u2026&lt;/div&gt;\n&lt;div class=\"A2 C3\"&gt;\u2026&lt;/div&gt;\n&lt;div class=\"B2 C3\"&gt;\u2026&lt;/div&gt;\netc.\n</code></pre>\n\n<p>Is there a way to select, for example, all elements that have </p>\n\n<pre><code>class = (A1 OR A2) AND (B1 OR B2) \n</code></pre>\n\n<p>?</p>\n"}, {"tags": ["javascript", "php", "html"], "comments": [{"owner": {"reputation": 5778, "user_id": 8698101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a32951f0068d47dfdc1dfc90ff44612b?s=128&d=identicon&r=PG&f=1", "display_name": "B. Fleming", "link": "https://stackoverflow.com/users/8698101/b-fleming"}, "edited": false, "score": 0, "creation_date": 1569441987, "post_id": 58105717, "comment_id": 102602490, "body": "What are you actually seeing in terms of results? What is the final JavaScript you&#39;re seeing on the webpage? Is this JavaScript located in a PHP file or in a JS file? There are too many unknowns here."}, {"owner": {"reputation": 2969, "user_id": 1367569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/620e460c7b7fb4a356745dbb1aaa168a?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/1367569/john"}, "edited": false, "score": 0, "creation_date": 1569443671, "post_id": 58105717, "comment_id": 102603141, "body": "When you right click web page and select view page source what do you see? Do you see var data = ;"}], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 7630987, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1468624936482387/picture?type=large", "display_name": "Sir Papilonius", "link": "https://stackoverflow.com/users/7630987/sir-papilonius"}, "edited": false, "score": 0, "creation_date": 1569524492, "post_id": 58106022, "comment_id": 102634915, "body": "The echo test was indeed working. I posted the solution I figured out below. Thanks!"}], "tags": [], "owner": {"reputation": 67, "user_id": 12043289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef742c927900ef696c000efee29f20f7?s=128&d=identicon&r=PG&f=1", "display_name": "Shane Weeks", "link": "https://stackoverflow.com/users/12043289/shane-weeks"}, "is_accepted": false, "score": 0, "last_activity_date": 1569442869, "creation_date": 1569442869, "answer_id": 58106022, "question_id": 58105717, "link": "https://stackoverflow.com/questions/58105717/having-trouble-parsing-php-variable-to-javascript-readable-variable/58106022#58106022", "title": "Having trouble parsing php variable to javascript readable variable", "body": "<p>In the PHP tags try echo 'test';\nDoes it show?\nIf yes, is $data2dArr populated as you expect?\nIf no, are you sure your server is setup to execute PHP within whatever file type you're trying</p>\n"}, {"comments": [{"owner": {"reputation": 113, "user_id": 7630987, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1468624936482387/picture?type=large", "display_name": "Sir Papilonius", "link": "https://stackoverflow.com/users/7630987/sir-papilonius"}, "edited": false, "score": 0, "creation_date": 1569524464, "post_id": 58107190, "comment_id": 102634906, "body": "Yeah, I know what the data is, but thank you for the tip."}], "tags": [], "owner": {"reputation": 53, "user_id": 264559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37cd745958467974c656239f37c09b1d?s=128&d=identicon&r=PG", "display_name": "pixelbath", "link": "https://stackoverflow.com/users/264559/pixelbath"}, "is_accepted": false, "score": 1, "last_activity_date": 1569449495, "creation_date": 1569449495, "answer_id": 58107190, "question_id": 58105717, "link": "https://stackoverflow.com/questions/58105717/having-trouble-parsing-php-variable-to-javascript-readable-variable/58107190#58107190", "title": "Having trouble parsing php variable to javascript readable variable", "body": "<p>Try:</p>\n\n<pre><code>&lt;?php var_dump($data2dArr); ?&gt;\n</code></pre>\n\n<p>This will dump the entire variable. If $data2dArr is undefined, PHP will output an error (if your configuration allows this). If it is defined, it should tell you not only the type, but the contents.</p>\n"}, {"tags": [], "owner": {"reputation": 113, "user_id": 7630987, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1468624936482387/picture?type=large", "display_name": "Sir Papilonius", "link": "https://stackoverflow.com/users/7630987/sir-papilonius"}, "is_accepted": false, "score": 0, "last_activity_date": 1569524432, "creation_date": 1569524432, "answer_id": 58123168, "question_id": 58105717, "link": "https://stackoverflow.com/questions/58105717/having-trouble-parsing-php-variable-to-javascript-readable-variable/58123168#58123168", "title": "Having trouble parsing php variable to javascript readable variable", "body": "<p>Okay, so I figured out what I was doing wrong. I had tried calling getElementbyID for value but I never tried innerHTML. Here is the working code.</p>\n\n<pre><code>    function editFunction(row, columnCount) {\n        // set the data for the boxes and make them visibile\n        for (column = 0; column &lt; columnCount; column++) {\n            document.getElementById(column).style.visibility = \"visible\";\n            document.getElementById(\"box\" + column).value = document.getElementById(\"row\" + row + \"column\" + column).innerHTML;\n        }\n    }\n</code></pre>\n\n<p>The php that sets the data:</p>\n\n<pre><code>&lt;!--- row number from table ---&gt;\n&lt;?php for ($j = 0; $j &lt;= count($data2dArr[0]); $j++) {\n    if ($j &lt; count($data2dArr[0])) {?&gt;\n        &lt;tr&gt;\n        &lt;!--- column number from table ---&gt;\n        &lt;?php for ($k = 0; $k &lt;= count($fields); $k++) { \n                if ($k &lt; count($fields)) { ?&gt;\n                        &lt;td style=\"width: 7em\" id=\"row&lt;?php echo $j ?&gt;column&lt;?php echo $k ?&gt;\" &gt;&lt;?php print $data2dArr[$k][$j]; ?&gt;&lt;/td&gt;\n                        &lt;?php }\n</code></pre>\n\n<p>And the onclick that calls the script:</p>\n\n<pre><code>&lt;button id=\"edit&lt;?php echo $j ?&gt;\" type=\"button\" class=\"btn btn-default btn-outline-dark\" \n                                        onclick=\"editFunction(&lt;?php echo $j ?&gt;, &lt;?php echo count($fields) ?&gt; )\"&gt;\n                                    &lt;span class=\"fa fa-edit\"&gt;&lt;/span&gt; Edit\n                                &lt;/button&gt;\n</code></pre>\n\n<p>I was initially, purposefully vague because I was not asking people to do my homework for me. I have found that asking the question of someone else usually helps me figure out the solution. I am posting the answer for future people that may come across the same issue. Thank you to everyone that responded. This is using PHP, HTML, SQL, and javascript in one PHP file.</p>\n"}], "owner": {"reputation": 113, "user_id": 7630987, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1468624936482387/picture?type=large", "display_name": "Sir Papilonius", "link": "https://stackoverflow.com/users/7630987/sir-papilonius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1569524432, "creation_date": 1569441338, "question_id": 58105717, "link": "https://stackoverflow.com/questions/58105717/having-trouble-parsing-php-variable-to-javascript-readable-variable", "title": "Having trouble parsing php variable to javascript readable variable", "body": "<p>This is my first project in database management and it's been awhile since I've coded any html, php, or javascript and I'm very new to sql in general. I know that ideally html, php, css, and javascript should be in separate files. However, my issue is trying to get a php variable into my script function. The function is below.\nThis is using Apache localhost server as it's not a live page, MySQL, and XAMPP Control Panel v3.2.1</p>\n\n<p>I have tried:\n<code>var data = \"&lt;?php echo $data2dArr[0][0]; ?&gt;\";</code> just as test code but cannot get a value to populate, it doesn't even execute the make visible code.\nI've also tried in the onclick function call this:\n<code>&lt;script&gt; var data = \"&lt;?php echo $data2dArr[0][0]; ?&gt;\";&lt;/script&gt;</code> as well as:</p>\n\n<pre><code>&lt;?php echo $data2dArr[0][0]; ?&gt;\n</code></pre>\n\n<p>as a function parameter.\nPlus about a half dozen other solutions I found on stack that don't work. I'm wondering if there is a setting I need to adjust in order to get the server to acknowledge the PHP code within the javascript.</p>\n\n<pre><code>function editFunction(row, columnCount) {\n// set the data for the boxes and make them visibile\n   for (column = 0; column &lt; columnCount; column++) {\n    document.getElementById(column).style.visibility = \"visible\";\n    var data = &lt;?php echo json_encode($data2dArr[column][row]); ?&gt;;\n    document.getElementById(\"box\" + column).value = data;\n   }\n}\n</code></pre>\n\n<p>Ideally, it should display the correct data from the column and row of the data so the user can change the data and send it back to the database to update the entry. (I don't need help with the sql statement, just getting the data from php.) Any help would be greatly appreciated.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 1, "creation_date": 1569441538, "post_id": 58105714, "comment_id": 102602300, "body": "<code>getElementsByClassName()</code> - note the <code>s</code> in element<b>s</b>. This method returns a <i>collection</i> of elements. You cannot call <code>.trigger()</code> or <code>.click()</code> on a collection; you must first target a specific element in the collection."}, {"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 2, "creation_date": 1569441683, "post_id": 58105714, "comment_id": 102602365, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/39059088/click-command-not-working-on-document-getelementsbyclassname\">click() command not working on document.getElementsByClassName()</a>"}, {"owner": {"reputation": 5245, "user_id": 2814241, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/9c8b17ae63b15f9342f91d072eff6e7f?s=128&d=identicon&r=PG&f=1", "display_name": "HappyCoder", "link": "https://stackoverflow.com/users/2814241/happycoder"}, "reply_to_user": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 1, "creation_date": 1569441740, "post_id": 58105714, "comment_id": 102602392, "body": "Ah, and since it is a class I am looking for, there could be multiple classes..."}, {"owner": {"reputation": 5245, "user_id": 2814241, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/9c8b17ae63b15f9342f91d072eff6e7f?s=128&d=identicon&r=PG&f=1", "display_name": "HappyCoder", "link": "https://stackoverflow.com/users/2814241/happycoder"}, "reply_to_user": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1569441963, "post_id": 58105714, "comment_id": 102602482, "body": "@TylerRoper That thread actually solved my problem. I changed getElementsByClassName with querySelector and it now works. Thanks!"}, {"owner": {"reputation": 16607, "user_id": 829835, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/TteD0.jpg?s=128&g=1", "display_name": "rlemon", "link": "https://stackoverflow.com/users/829835/rlemon"}, "edited": false, "score": 1, "creation_date": 1569442008, "post_id": 58105714, "comment_id": 102602501, "body": "querySelector/querySelectorAll is easier (and fun fact, has better browser support)"}], "answers": [{"comments": [{"owner": {"reputation": 5245, "user_id": 2814241, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/9c8b17ae63b15f9342f91d072eff6e7f?s=128&d=identicon&r=PG&f=1", "display_name": "HappyCoder", "link": "https://stackoverflow.com/users/2814241/happycoder"}, "edited": false, "score": 0, "creation_date": 1569441498, "post_id": 58105731, "comment_id": 102602284, "body": "Tried it, I get the following error: &quot;Uncaught TypeError: element.click is not a function&quot;"}, {"owner": {"reputation": 4087, "user_id": 757839, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wClzK.jpg?s=128&g=1", "display_name": "BCDeWitt", "link": "https://stackoverflow.com/users/757839/bcdewitt"}, "reply_to_user": {"reputation": 5245, "user_id": 2814241, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/9c8b17ae63b15f9342f91d072eff6e7f?s=128&d=identicon&r=PG&f=1", "display_name": "HappyCoder", "link": "https://stackoverflow.com/users/2814241/happycoder"}, "edited": false, "score": 0, "creation_date": 1569441525, "post_id": 58105731, "comment_id": 102602297, "body": "So, the JS you provided is actually the entirety of your JS code?"}, {"owner": {"reputation": 5245, "user_id": 2814241, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/9c8b17ae63b15f9342f91d072eff6e7f?s=128&d=identicon&r=PG&f=1", "display_name": "HappyCoder", "link": "https://stackoverflow.com/users/2814241/happycoder"}, "edited": false, "score": 0, "creation_date": 1569441908, "post_id": 58105731, "comment_id": 102602457, "body": "It is watered down a bit for brevity."}, {"owner": {"reputation": 4087, "user_id": 757839, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wClzK.jpg?s=128&g=1", "display_name": "BCDeWitt", "link": "https://stackoverflow.com/users/757839/bcdewitt"}, "reply_to_user": {"reputation": 5245, "user_id": 2814241, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/9c8b17ae63b15f9342f91d072eff6e7f?s=128&d=identicon&r=PG&f=1", "display_name": "HappyCoder", "link": "https://stackoverflow.com/users/2814241/happycoder"}, "edited": false, "score": 0, "creation_date": 1569441987, "post_id": 58105731, "comment_id": 102602491, "body": "Yeah, that was my bad, I assumed you were getting a single element in a hidden step, at first."}], "tags": [], "owner": {"reputation": 4087, "user_id": 757839, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wClzK.jpg?s=128&g=1", "display_name": "BCDeWitt", "link": "https://stackoverflow.com/users/757839/bcdewitt"}, "is_accepted": false, "score": 2, "last_activity_date": 1569442131, "last_edit_date": 1569442131, "creation_date": 1569441386, "answer_id": 58105731, "question_id": 58105714, "link": "https://stackoverflow.com/questions/58105714/how-to-trigger-a-click-on-an-element-in-javascript/58105731#58105731", "title": "How to trigger a click on an element in javascript", "body": "<p>Use <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/click\" rel=\"nofollow noreferrer\"><code>element.click();</code></a> instead of <code>element.trigger('click');</code> but also, you need to either get only a single element, or loop over the returned <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLCollection\" rel=\"nofollow noreferrer\">HTMLCollection</a> from <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/getElementsByClassName\" rel=\"nofollow noreferrer\"><code>.getElementsByClassName()</code></a>.</p>\n\n<p>For example, to loop:</p>\n\n<pre><code>var elements = document.getElementsByClassName(map[x])\nelements.forEach(element =&gt; element.click())\n</code></pre>\n\n<p>...Or, to get a single element (still using <code>getElementsByClassName</code>):</p>\n\n<pre><code>var element = document.getElementsByClassName(map[x])[0]\nelement.click()\n</code></pre>\n\n<p>Alternatively, you can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector\" rel=\"nofollow noreferrer\"><code>querySelector</code></a>:</p>\n\n<pre><code>var element = document.querySelector(`.${map[x]}`)\nelement.click()\n</code></pre>\n"}], "owner": {"reputation": 5245, "user_id": 2814241, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/9c8b17ae63b15f9342f91d072eff6e7f?s=128&d=identicon&r=PG&f=1", "display_name": "HappyCoder", "link": "https://stackoverflow.com/users/2814241/happycoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569442131, "creation_date": 1569441322, "question_id": 58105714, "link": "https://stackoverflow.com/questions/58105714/how-to-trigger-a-click-on-an-element-in-javascript", "title": "How to trigger a click on an element in javascript", "body": "<p>I have the following Html:</p>\n\n<pre><code>&lt;div class=\"box-row\"&gt;\n    &lt;div class=\"box c2-3\"&gt;\n        &lt;div class=\"box-overlay\"&gt;&lt;/div&gt;\n        &lt;div class=\"box-letter\"&gt;&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"box c2-4\"&gt;\n        &lt;div class=\"box-overlay\"&gt;&lt;/div&gt;\n        &lt;div class=\"box-letter\"&gt;&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"box c2-5\"&gt;\n         &lt;div class=\"box-overlay\"&gt;&lt;/div&gt;\n         &lt;div class=\"box-letter\"&gt;&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"box c2-6 trr\"&gt;\n         &lt;div class=\"box-overlay trr\"&gt;&lt;/div&gt;\n         &lt;div class=\"box-letter\"&gt;&lt;/div&gt;\n    &lt;/div&gt;\n &lt;/div&gt;\n</code></pre>\n\n<p>I want to randomly select one of the elements with class: c2-3, c2-4, c2-5, c2-6 and trigger a click.</p>\n\n<p>This is the code I have thus far:</p>\n\n<pre><code>    var map = [\n        'c2-3', 'c2-4', 'c2-5', 'c2-6',\n    ];\n\n    var x = Math.floor((Math.random() * 4));\n    var element = document.getElementsByClassName(map[x]);\n</code></pre>\n\n<p>At this point I want to trigger the click and am unsure how to do it:</p>\n\n<pre><code> element.trigger('click'); ??\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "css"], "comments": [{"owner": {"reputation": 1035, "user_id": 5471957, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9ab5dd64f5bb608b4a5c788135931350?s=128&d=identicon&r=PG&f=1", "display_name": "SpeedOfRound", "link": "https://stackoverflow.com/users/5471957/speedofround"}, "edited": false, "score": 1, "creation_date": 1569441592, "post_id": 58105711, "comment_id": 102602317, "body": "Well I can see you have included JQuery 5 times, so thats probably part of the issue.  Check your console and see what errors you are getting."}, {"owner": {"reputation": 19338, "user_id": 804867, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8810169ef7462910a465e3d45e6fea8c?s=128&d=identicon&r=PG&f=1", "display_name": "hungerstar", "link": "https://stackoverflow.com/users/804867/hungerstar"}, "edited": false, "score": 0, "creation_date": 1569441772, "post_id": 58105711, "comment_id": 102602405, "body": "Include your scripts at the bottom of your page. You shouldn&#39;t need to have <code>-1</code>, <code>-2</code>, etc files. You should be able to have one set of code run multiple instances with a small config for each instance."}], "owner": {"reputation": 1, "user_id": 12097182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/391281d8f5769a3084af6fa9eb5563b4?s=128&d=identicon&r=PG&f=1", "display_name": "Nicky31", "link": "https://stackoverflow.com/users/12097182/nicky31"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569444833, "creation_date": 1569441307, "last_edit_date": 1569444833, "question_id": 58105711, "link": "https://stackoverflow.com/questions/58105711/jquery-scrips-are-conflicting", "title": "jQuery scrips are conflicting", "body": "<p>The script consists of 3 \"blocks\" as I call it. Block 1 is the Menu part. Block 2, the slider and Block 3 the photos. I have tried to put these blocks in a different sequence. In all cases, the Menu block works ok.</p>\n\n<p>If I put the slider block above the photos, the slider is not working anymore. If I put the photos above the slider, then the photos are not working anymore.</p>\n\n<p>Here is the script I have. It is generated by 3 software programs generating the menu, slider, and photo blocks and I have put this in the head section of the webpage. How can I solve this?</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\"&gt;\n    &lt;meta http-equiv=\"Content-Style-Type\" content=\"text/css;\"&gt;\n\n    &lt;!-----menu block----&gt;\n\n    &lt;!-- Start css3menu.com HEAD section --&gt;\n    &lt;link rel=\"stylesheet\" href=\"CSS3 Menu.css3prj_files/css3menu1/style.css\" type=\"text/css\" /&gt;&lt;style type=\"text/css\"&gt;._css3m{display:none}&lt;/style&gt;\n    &lt;!-- End css3menu.com HEAD section --&gt;\n\n    &lt;!-----slider block----&gt;\n\n    &lt;!-- Insert to your webpage before the &lt;/head&gt; --&gt;\n    &lt;script src=\"sliderengine/jquery.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"sliderengine/amazingslider.js\"&gt;&lt;/script&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"sliderengine/amazingslider-1.css\"&gt;\n    &lt;script src=\"sliderengine/initslider-1.js\"&gt;&lt;/script&gt;\n    &lt;!-- End of head section HTML codes --&gt;\n\n    &lt;!-- Insert to your webpage before the &lt;/head&gt; --&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"sliderengine/amazingslider-2.css\"&gt;\n    &lt;script src=\"sliderengine/initslider-2.js\"&gt;&lt;/script&gt;\n    &lt;!-- End of head section HTML codes --&gt;\n\n\n    &lt;!-- Insert to your webpage before the &lt;/head&gt; --&gt;\n   &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"sliderengine/amazingslider-3.css\"&gt;\n    &lt;script src=\"sliderengine/initslider-3.js\"&gt;&lt;/script&gt;\n    &lt;!-- End of head section HTML codes --&gt;\n\n    &lt;!-- Insert to your webpage before the &lt;/head&gt; --&gt;\n    &lt;script src=\"sliderengine2/jquery.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"sliderengine2/amazingslider.js\"&gt;&lt;/script&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"sliderengine2/amazingslider-1.css\"&gt;\n    &lt;script src=\"sliderengine2/initslider-1.js\"&gt;&lt;/script&gt;\n    &lt;!-- End of head section HTML codes --&gt;\n\n    &lt;!-----pphoto block----&gt;\n\n    &lt;!-- algemeen--&gt;\n    &lt;meta http-equiv=\"content-type\" content=\"text/html;charset=utf-8\" /&gt;\n    &lt;meta name=\"keywords\" content=\"algemeen01, VisualLightBox, LightBox, Photo Gallery, jQuery Lightbox, Javascript Gallery\" /&gt;\n    &lt;meta name=\"description\" content=\"algemeen01 created with VisualLightBox, a free wizard program that helps you easily generate beautiful Lightbox-style web photo galleries\" /&gt;\n    &lt;link rel=\"shortcut icon\" href=\"favicon.ico\" /&gt;\n\n    &lt;!-- Start VisualLightBox.com HEAD section --&gt;\n    &lt;link rel=\"stylesheet\" href=\"index_algemeen_files/vlb_files3/vlightbox3.css\" type=\"text/css\" /&gt;\n    &lt;link rel=\"stylesheet\" href=\"index_algemeen_files/vlb_files3/visuallightbox.css\" type=\"text/css\" media=\"screen\" /&gt;\n    &lt;script src=\"index_algemeen_files/vlb_engine/jquery.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"index_algemeen_files/vlb_engine/visuallightbox.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;!-- End VisualLightBox.com HEAD section --&gt;\n\n    &lt;!-- kerst03--&gt;\n    &lt;meta http-equiv=\"content-type\" content=\"text/html;charset=utf-8\" /&gt;\n    &lt;meta name=\"keywords\" content=\"kerst03, VisualLightBox, LightBox, Photo Gallery, lightbox flash gallery, lightbox js web gallery generator\" /&gt;\n    &lt;meta name=\"description\" content=\"kerst03 created with VisualLightBox, a free wizard program that helps you easily generate beautiful Lightbox-style web photo galleries\" /&gt;\n            &lt;!-- Start VisualLightBox.com HEAD section --&gt;\n    &lt;link rel=\"stylesheet\" href=\"index_kerst_files/vlb_files1/vlightbox1.css\" type=\"text/css\" /&gt;\n    &lt;link rel=\"stylesheet\" href=\"index_kerst_files/vlb_files1/visuallightbox.css\" type=\"text/css\" media=\"screen\" /&gt;\n    &lt;script src=\"index_kerst_files/vlb_engine/jquery.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"index_kerst_files/vlb_engine/visuallightbox.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;!-- End VisualLightBox.com HEAD section --&gt;\n\n    &lt;!-- Start VisualLightBox.com HEAD section --&gt;\n    &lt;link rel=\"stylesheet\" href=\"index_herfst_files/vlb_files2/vlightbox2.css\" type=\"text/css\" /&gt;\n    &lt;link rel=\"stylesheet\" href=\"index_herfst_files/vlb_files2/visuallightbox.css\" type=\"text/css\" media=\"screen\" /&gt;\n    &lt;script src=\"index_herfst_files/vlb_engine/jquery.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"index_herfst_files/vlb_engine/visuallightbox.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;!-- End VisualLightBox.com HEAD section --&gt;\n\n\n\n    &lt;!-- Start VisualLightBox.com HEAD section --&gt;\n    &lt;link rel=\"stylesheet\" href=\"index_VP2017_files/vlb_files4/vlightbox4.css\" type=\"text/css\" /&gt;\n    &lt;link rel=\"stylesheet\" href=\"index_VP2017_files/vlb_files4/visuallightbox.css\" type=\"text/css\" media=\"screen\" /&gt;\n    &lt;script src=\"index_VP2017_files/vlb_engine/jquery.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"index_VP2017_files/vlb_engine/visuallightbox.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;!-- End VisualLightBox.com HEAD section --&gt;\n\n\n    &lt;meta http-equiv=\"Page-Enter\" content=\"RevealTrans( Duration=4,Transition=12 )\"&gt;\n    &lt;link rel=\"stylesheet\" href=\"index3000_g.css\" type=\"text/css\" media=\"screen,projection,print\"&gt;  &lt;!--// Document Style //--&gt;\n    &lt;link rel=\"stylesheet\" href=\"index_p.css\" type=\"text/css\" media=\"screen,projection,print\"&gt;  &lt;!--// Page Style //--&gt;\n    &lt;script src=\"index3000_g.js\" type=\"text/javascript\"&gt;&lt;/script&gt;       &lt;!--// Document Script //--&gt;\n&lt;/head&gt;\n</code></pre>\n"}, {"tags": ["javascript", "vue.js", "vuejs2", "components"], "comments": [{"owner": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "edited": false, "score": 0, "creation_date": 1569441444, "post_id": 58105675, "comment_id": 102602265, "body": "Is this object ever going to change? Do any of its properties come from the state or props of one of your components?"}], "answers": [{"comments": [{"owner": {"reputation": 311, "user_id": 4612939, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bqngz.jpg?s=128&g=1", "display_name": "Matthew McCord", "link": "https://stackoverflow.com/users/4612939/matthew-mccord"}, "edited": false, "score": 0, "creation_date": 1569521382, "post_id": 58105943, "comment_id": 102633519, "body": "This is along the lines of what I was thinking as well: &quot;every time you can reduce the complexity of an interface (in this case the props of a component), you&#39;re better off.&quot;"}], "tags": [], "owner": {"reputation": 59704, "user_id": 635981, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51763ff4e4c531c68326064bc13b84a6?s=128&d=identicon&r=PG", "display_name": "David Weldon", "link": "https://stackoverflow.com/users/635981/david-weldon"}, "is_accepted": false, "score": 1, "last_activity_date": 1569443342, "last_edit_date": 1569443342, "creation_date": 1569442366, "answer_id": 58105943, "question_id": 58105675, "link": "https://stackoverflow.com/questions/58105675/what-are-the-tradeoffs-of-passing-an-imported-object-from-parent-to-children-as/58105943#58105943", "title": "What are the tradeoffs of passing an imported object from parent to children as props vs importing that object in those children?", "body": "<p>This is an opinion-based answer, but in my experience every time you can reduce the complexity of an interface (in this case the props of a component), you're better off.</p>\n\n<p>Six months from now when you need to instantiate another widget component, you won't want to have to ask yourself: \"What does this thing take as a prop again? Wait, what's a <code>timeHelper</code>? Where else is this used... I'll just copy that.\"</p>\n\n<p>If the widget component imported the helper directly then that's one less prop you need to worry about.</p>\n\n<p>This isn't true if the component's helper actually <em>should</em> be configured. E.g. if <code>timeHelper</code>, was a date formatting function  and different instances needed different behaviors.</p>\n\n<p>Note that if the helper is needed in your templates you can create a <a href=\"https://vuejs.org/v2/guide/filters.html\" rel=\"nofollow noreferrer\">filter</a>. For example:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;span&gt;date shared: {{ createdAt | formatDate }}&lt;/span&gt;\n</code></pre>\n"}], "owner": {"reputation": 311, "user_id": 4612939, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bqngz.jpg?s=128&g=1", "display_name": "Matthew McCord", "link": "https://stackoverflow.com/users/4612939/matthew-mccord"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1569521317, "creation_date": 1569441144, "last_edit_date": 1569521317, "question_id": 58105675, "link": "https://stackoverflow.com/questions/58105675/what-are-the-tradeoffs-of-passing-an-imported-object-from-parent-to-children-as", "title": "What are the tradeoffs of passing an imported object from parent to children as props vs importing that object in those children?", "body": "<p>I have a helper object called TimeHelper (for time-related things). I need to do a lot with dates and times from a top-level parent component and in several of its children components.</p>\n\n<p>I'm wondering what the tradeoffs would be for importing TimeHelper a single time in the top-level parent, then passing it as props to the children VS. importing TimeHelper in every component that needs it?</p>\n\n<p>Edit: to answer Nicholas' questions below:</p>\n\n<p>Is this object ever going to change?\nMight get more methods added to it in the future, but won't be mutated after importing.</p>\n\n<p>Do any of its properties come from the state or props of one of your components?\nNope. Stand-alone Object with helper methods dealing with time and dates.</p>\n"}, {"tags": ["javascript", "css", "events", "onload"], "comments": [{"owner": {"reputation": 1439, "user_id": 5312245, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-L-HQevIUjls/AAAAAAAAAAI/AAAAAAAABXo/xP1oI4FHXzM/photo.jpg?sz=128", "display_name": "Abdullah Dibas", "link": "https://stackoverflow.com/users/5312245/abdullah-dibas"}, "edited": false, "score": 0, "creation_date": 1569442086, "post_id": 58105674, "comment_id": 102602534, "body": "I suggest to add a key-up event handler on each td and monitor the inner text of the td in the event handler and if it&#39;s Passed or Failed add a class to it that contains the required styles."}, {"owner": {"reputation": 85012, "user_id": 2442099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jtx0O.jpg?s=128&g=1", "display_name": "G-Cyrillus", "link": "https://stackoverflow.com/users/2442099/g-cyrillus"}, "edited": false, "score": 1, "creation_date": 1569443681, "post_id": 58105674, "comment_id": 102603144, "body": "what you might do instead is to also set a class on td according to the text inserted , so you do not have to deal with style via js nor make a loop everywhere. do that check a few steps earlier ;)"}, {"owner": {"reputation": 19338, "user_id": 804867, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8810169ef7462910a465e3d45e6fea8c?s=128&d=identicon&r=PG&f=1", "display_name": "hungerstar", "link": "https://stackoverflow.com/users/804867/hungerstar"}, "edited": false, "score": 1, "creation_date": 1569443811, "post_id": 58105674, "comment_id": 102603191, "body": "How many cells are you expecting? A few hundred? Don&#39;t worry about it. Tens of thousands? Maybe do some chunking, i.e. style a hundred at a time so the first few rows are styled right away instead. If you can do it on the backend I&#39;d do that first."}], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 11220661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8dfe3deceb280321ada4d57aff03586?s=128&d=identicon&r=PG&f=1", "display_name": "WalterM", "link": "https://stackoverflow.com/users/11220661/walterm"}, "edited": false, "score": 0, "creation_date": 1569507898, "post_id": 58106267, "comment_id": 102626868, "body": "I guess that <code>querySelectorAll</code> iterates overall elements and returns the ones that match, so your idea to search them is better compared with mine since I&#39;m iterating overall elements once to see if they are <code>td</code> and once more to see if they have the <code>innerText</code> value."}], "tags": [], "owner": {"reputation": 623, "user_id": 6364829, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/3da1ffc950d9c22a8d53bab05ad78a88?s=128&d=identicon&r=PG&f=1", "display_name": "fiter", "link": "https://stackoverflow.com/users/6364829/fiter"}, "is_accepted": false, "score": 1, "last_activity_date": 1569444125, "creation_date": 1569444125, "answer_id": 58106267, "question_id": 58105674, "link": "https://stackoverflow.com/questions/58105674/setting-color-of-elements-with-javascript-based-on-text/58106267#58106267", "title": "Setting color of elements with javascript based on text", "body": "<p>Your script could be changed to something like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function setColor(){\r\n    var elems = document.querySelectorAll(\"#myTable td:last-child\");\r\n    for (i = 0; i &lt; elems.length; i++) {\r\n      if (elems[i].innerText === \"Passed\") {\r\n          elems[i].style.backgroundColor = \"green\";\r\n      }\r\n      else if (elems[i].innerText === \"Failed\")\r\n      {\r\n          elems[i].style.backgroundColor = \"red\";\r\n      }\r\n    }\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", setColor);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;table id=\"myTable\"&gt;\r\n&lt;tr&gt;\r\n    &lt;th style=\"width:50%;\"&gt;SET&lt;/th&gt;\r\n    &lt;th style=\"width:50%;\"&gt;TEST STATUS&lt;/th&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n    &lt;td&gt;Set&lt;/td&gt;\r\n    &lt;td&gt;Passed&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n    &lt;td&gt;Set&lt;/td&gt;\r\n    &lt;td&gt;Passed&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>But it would be better to use CSS classes for coloring text: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>  if (elems[i].innerText === \"Passed\") {\n      elems[i].classList.add(\"passed\");\n  }\n  else if (elems[i].innerText === \"Failed\")\n  {\n      elems[i].classList.add(\"failed\");\n  }\n</code></pre>\n\n<p>In style.css: </p>\n\n<pre><code>.passed {\n  background-color: green;\n}\n.failed {\n  background-color: red;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 79, "user_id": 11220661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8dfe3deceb280321ada4d57aff03586?s=128&d=identicon&r=PG&f=1", "display_name": "WalterM", "link": "https://stackoverflow.com/users/11220661/walterm"}, "edited": false, "score": 0, "creation_date": 1569508784, "post_id": 58106351, "comment_id": 102627474, "body": "Thank you, Wolfetto,  In this case I don&#39;t expect a huge amount of rows, but since I&#39;m learning and I was going to ask anyway why not ask for a performant way of solving the issue :D I also noticed that by using <code>getElements</code> or by using <code>QuerySelectorAll</code> I&#39;ll have to iterate over all elements but in the second way I&#39;ll have a &quot;smaller&quot; second iteration which I think is better. But I&#39;m wondering are there other ways to gather all elements besides these? Having the classes added by backend as suggested in one comment above is not possible in my case at the moment."}], "tags": [], "owner": {"reputation": 870, "user_id": 5619193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20c27415dcf122b361e630eb9f87f91f?s=128&d=identicon&r=PG&f=1", "display_name": "Wolfetto", "link": "https://stackoverflow.com/users/5619193/wolfetto"}, "is_accepted": true, "score": 1, "last_activity_date": 1569444606, "creation_date": 1569444606, "answer_id": 58106351, "question_id": 58105674, "link": "https://stackoverflow.com/questions/58105674/setting-color-of-elements-with-javascript-based-on-text/58106351#58106351", "title": "Setting color of elements with javascript based on text", "body": "<p>I try answer to your questions:</p>\n\n<ul>\n<li>Your solution is stable and it works in all browsers. Another way to achieve it could be to render the <code>td</code> tags with a specific class and give to the class a css rule without using javascript. </li>\n</ul>\n\n<p>Something like:    </p>\n\n<pre><code>    &lt;style&gt;\n     .failed{\n       background-color: red; \n     }\n     .passed{\n      background-color: green;\n     }\n    &lt;/style&gt;\n\n    &lt;table&gt;\n    &lt;tr&gt;&lt;td class=\"failed\"&gt;failed &lt;/td&gt;&lt;/tr&gt; \n    &lt;tr&gt;&lt;td class=\"passed\"&gt;passed &lt;/td&gt;&lt;/tr&gt;\n    &lt;/table&gt;\n</code></pre>\n\n<ul>\n<li>Your solution is stable. Keep in mind that it could be slow if your table has thousands of rows.</li>\n<li><p>When you use  <code>elems[i].style.backgroundColor = \"red\";</code> you are setting the <code>background-color</code> of the element inside <code>elems</code> in position <code>i</code>. Inside <code>elems[i]</code> there is a specific <code>td</code>.\nAnother approach is adding a class to a <code>td</code> based on value of test (passed or failed). \nHowever, I suggest the following solution:</p>\n\n<p><code>&lt;table id=\"myTable\"&gt;\n  &lt;tr&gt;\n    &lt;th style=\"width:50%;\"&gt;SET&lt;/th&gt;\n    &lt;th style=\"width:50%;\"&gt;TEST STATUS&lt;/th&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td&gt;Set&lt;/td&gt;\n    &lt;td&gt;Passed&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td&gt;Set&lt;/td&gt;\n    &lt;td&gt;Passed&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;\n&lt;style&gt;\n.failed{\n  background-color: red; \n}\n.passed{\n background-color: green;\n}\n&lt;/style&gt;\n&lt;script&gt;\nwindow.onload = setColor();\nfunction setColor(){\n      var elems = document.getElementsByTagName(\"td\");\n      for (i = 0; i &lt; elems.length; i++) {\n        if (elems[i].innerText === \"Passed\") {\n          elems[i].classList.add(\"passed\");\n  }else if (elems[i].innerText === \"Failed\"){\n     elems[i].classList.add(\"failed\");\n  }\n }\n}\n&lt;/script&gt;</code></p></li>\n</ul>\n"}], "owner": {"reputation": 79, "user_id": 11220661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8dfe3deceb280321ada4d57aff03586?s=128&d=identicon&r=PG&f=1", "display_name": "WalterM", "link": "https://stackoverflow.com/users/11220661/walterm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 58106351, "answer_count": 2, "score": 2, "last_activity_date": 1569444606, "creation_date": 1569441132, "last_edit_date": 1569443342, "question_id": 58105674, "link": "https://stackoverflow.com/questions/58105674/setting-color-of-elements-with-javascript-based-on-text", "title": "Setting color of elements with javascript based on text", "body": "<p>I have a table with some values that I want to set the color based on the value they have. What I did was this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>window.onload = setColor();\r\n\r\nfunction setColor() {\r\n  var elems = document.getElementsByTagName(\"td\");\r\n  for (i = 0; i &lt; elems.length; i++) {\r\n    if (elems[i].innerText === \"Passed\") {\r\n      elems[i].style.backgroundColor = \"green\";\r\n    } else if (elems[i].innerText === \"Failed\") {\r\n      elems[i].style.backgroundColor = \"red\";\r\n    }\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;table id=\"myTable\"&gt;\r\n  &lt;tr&gt;\r\n    &lt;th style=\"width:50%;\"&gt;SET&lt;/th&gt;\r\n    &lt;th style=\"width:50%;\"&gt;TEST STATUS&lt;/th&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;Set&lt;/td&gt;\r\n    &lt;td&gt;Passed&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;Set&lt;/td&gt;\r\n    &lt;td&gt;Passed&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>But as you can see, I'm looping overall <code>td elements</code> to do that and I think that isn't good, is it?</p>\n\n<p>So I have some questions in mind:</p>\n\n<ul>\n<li>Is there a workaround to set up some kind of <code>onload events</code> for <code>elements</code> that do not support it so I could do something like <code>magicevent=setColor(this)</code>? I expect the table to be stable.</li>\n<li>Is what I asked in last question a good practice? If not, what would you recommend?</li>\n<li>How could I have achieved what I did in <code>CSS</code>? I don't understand the syntax of <code>CSS</code> within <code>js</code>.</li>\n</ul>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "user-interface", "angular6"], "answers": [{"tags": [], "owner": {"reputation": 246, "user_id": 6039859, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p6e3K.jpg?s=128&g=1", "display_name": "Gustav", "link": "https://stackoverflow.com/users/6039859/gustav"}, "is_accepted": false, "score": 0, "last_activity_date": 1569441972, "creation_date": 1569441972, "answer_id": 58105867, "question_id": 58105631, "link": "https://stackoverflow.com/questions/58105631/how-can-i-modify-this-validation-logic-to-be-able-to-allow-characters-and-some-s/58105867#58105867", "title": "How can I modify this validation logic to be able to allow characters and some special characters too to be entered?", "body": "<p>I believe the key here is the if-statement</p>\n\n<pre><code>if (typeof control.value !== 'string' || !/^[a-zA-Z\\s]+$/g.test(control.value))\n</code></pre>\n\n<p>This one says essentially \"if the control value is not a string OR does not match the regular expression <code>/^[a-zA-Z\\s]+$/</code>, return an error.</p>\n\n<p>So, to allow also special charachters, you need to adjust the regex to allow for those. For example, to allow hyphens, change the regex to <code>/^[a-zA-Z\\s-]+$/</code> (note the added <code>-</code> inside the brackets.</p>\n"}], "owner": {"reputation": 49, "user_id": 10199248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc41da129819f8a7cad85c6a50fd9cc3?s=128&d=identicon&r=PG&f=1", "display_name": "astar", "link": "https://stackoverflow.com/users/10199248/astar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569441972, "creation_date": 1569440975, "question_id": 58105631, "link": "https://stackoverflow.com/questions/58105631/how-can-i-modify-this-validation-logic-to-be-able-to-allow-characters-and-some-s", "title": "How can I modify this validation logic to be able to allow characters and some special characters too to be entered?", "body": "<p>Currently, only characters are allowed to be entered in field else it throws the error mentioned below in code. How can I modify this logic to be able to add letters as well as some special characters like hyphen, apostrophe etc.?</p>\n\n<pre><code>    function NameValidate(control: FormControl) {\n  if (typeof control.value !== 'string' || !/^[a-zA-Z\\s]+$/g.test(control.value)) {\n    return {\n      error: 'Only characters allowed'\n    };\n  } else {\n    return null;\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 4, "creation_date": 1569441323, "post_id": 58105629, "comment_id": 102602212, "body": "This looks like it may be the output of a transpiler like Babel or a minifier. You don&#39;t have the original code? It will have more meaningful variable names and more understandable control structures."}, {"owner": {"reputation": 12967, "user_id": 1168588, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/BxNie.jpg?s=128&g=1", "display_name": "PaulProgrammer", "link": "https://stackoverflow.com/users/1168588/paulprogrammer"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1569441432, "post_id": 58105629, "comment_id": 102602262, "body": "Either @Barmar is right and there&#39;s better code in a repo somewhere, or your consultant abused the copy/paste function, and deserves to be goneified."}, {"owner": {"reputation": 96, "user_id": 12070941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91f92147d3a8fc2f84b2f79a8b973faa?s=128&d=identicon&r=PG&f=1", "display_name": "cucaracho", "link": "https://stackoverflow.com/users/12070941/cucaracho"}, "edited": false, "score": 0, "creation_date": 1569441688, "post_id": 58105629, "comment_id": 102602368, "body": "to invoke a function <code>var foo = function(){};</code> you append parentheses to it&#39;s reference: <code>foo();</code>. So if you append parentheses right after the definition <code>(var foo = function(){})();</code>, it&#39;s invoked immediately after it is registered as an object. Hence it&#39;s called <code>Immediately invoked function</code>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1569441773, "post_id": 58105629, "comment_id": 102602406, "body": "What I think it&#39;s doing is performing an AJAX request to <code>&lt;some domain&gt;</code>, which is expected to return the URL of a JavaScript file, then it&#39;s loading that JS file. But I&#39;m not sure how <code>foobar.js</code> fits in."}, {"owner": {"reputation": 133, "user_id": 879390, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b508cc9b20bf98f14b60e340d06a8077?s=128&d=identicon&r=PG", "display_name": "AV8R", "link": "https://stackoverflow.com/users/879390/av8r"}, "reply_to_user": {"reputation": 96, "user_id": 12070941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91f92147d3a8fc2f84b2f79a8b973faa?s=128&d=identicon&r=PG&f=1", "display_name": "cucaracho", "link": "https://stackoverflow.com/users/12070941/cucaracho"}, "edited": false, "score": 0, "creation_date": 1569444051, "post_id": 58105629, "comment_id": 102603280, "body": "I thought this looked like some type of obfuscated code, thanks for the confirmation.  This is what is in github.  @cucaracho thanks for the explanation.  That makes total sense in context. (Sanitized for my protection)"}], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 0, "last_activity_date": 1569442802, "creation_date": 1569442802, "answer_id": 58106009, "question_id": 58105629, "link": "https://stackoverflow.com/questions/58105629/what-is-this-javascript-function-doing/58106009#58106009", "title": "What is this javascript function doing?", "body": "<p>Here's a translation of that function into more readable code:</p>\n\n<pre><code>loadPluginJsFn: function(cb) {\n  if (typeof cb == \"function\") {\n    cb(function(response) {\n      if (response) {\n        r = response;\n        // Load the script from foobar.js\n        var url = \"js/foobar.js\";\n        var t = document.createElement(\"script\");\n        t.type = \"text/javascript\";\n        t.src = url;\n        document.querySelector(\"head\").appendChild(t);\n      }\n    });\n  }\n}\n</code></pre>\n\n<p><code>cb</code> will be the function that performs the AJAX request to <code>&lt;some domain&gt;</code>. When the response is received, it then calls <code>function(response)</code>. This sets the plugin variable <code>r</code> to the response, then loads the <code>js/foobar.js</code> script.</p>\n\n<p><code>foobar.js</code> then executes code that makes use of the <code>MyPlugin</code> object (I assume you elided those details), and that code presumably uses <code>r</code>.</p>\n\n<p>Summarizing: this gets a value from <code>&lt;some domain&gt;</code> using AJAX, puts that into the <code>r</code> variable in <code>MyPlugin</code>, then runs code that uses the plugin.</p>\n"}, {"tags": [], "owner": {"reputation": 133, "user_id": 879390, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b508cc9b20bf98f14b60e340d06a8077?s=128&d=identicon&r=PG", "display_name": "AV8R", "link": "https://stackoverflow.com/users/879390/av8r"}, "is_accepted": false, "score": 0, "last_activity_date": 1569444501, "creation_date": 1569444501, "answer_id": 58106337, "question_id": 58105629, "link": "https://stackoverflow.com/questions/58105629/what-is-this-javascript-function-doing/58106337#58106337", "title": "What is this javascript function doing?", "body": "<p>Turns out it is much easier to remove code than add it.  Thanks to @cucaracho and @barmar for the critical insights.  Here's the solution I came up with.</p>\n\n<p>I don't need the AJAX call anymore - that is what I'm trying to remove.  Removing the callback from the loadPluginJsFn was proving to be the challenge.  I cleaned house and verified that it still functioned properly.</p>\n\n<pre><code>loadPluginJsFn(token) {\n      r = token,      \n      doc = document.createElement(\"script\");\n      doc.type = \"text/javascript\";\n      doc.src = \"js/foobar.js\";\n      document.querySelector(\"head\").appendChild(doc);\n}\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 879390, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b508cc9b20bf98f14b60e340d06a8077?s=128&d=identicon&r=PG", "display_name": "AV8R", "link": "https://stackoverflow.com/users/879390/av8r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1569444501, "creation_date": 1569440959, "question_id": 58105629, "link": "https://stackoverflow.com/questions/58105629/what-is-this-javascript-function-doing", "title": "What is this javascript function doing?", "body": "<p>This is an excerpt of code written by a former contractor that I need to modify.  I am lost in the ({function (e)}) and closures.  </p>\n\n<p>The code makes an http request to a validation server and returns a token that sets a member variable of the myPlugin object (r = e). The function then dynamically loads foobar.js into a new script tag appended to the head tag.  The code in foobar.js references the getter functions of the myPlugin object. </p>\n\n<p>I simply need to remove the http request and callback and pass a parameter to set the value of r and append the new script tag to the head tag.</p>\n\n<p>Every time I try to modify the loadPluginJsFn function I get errors.</p>\n\n<p>Can anyone explain what the loadPluginJsFn function is doing and what is the purpose of the \"(myPlugin);\" at the end of foobar.js and the () at the end of the myPlugin object?</p>\n\n<h2>HTML file</h2>\n\n<pre><code>var myPlugin = (function() {\n  var t, n, r, o_value ;\n  return {\n    set somevalue(e) {\n      o_value = e;\n    },\n    get somevalue() {\n      return o_value;\n    },\n    init(config){\n\n    },\n// This is where I don't understand what it happening\n    loadPluginJsFn: function(e) {\n      \"function\" == typeof e &amp;&amp;\n        e(function(e) {\n          e &amp;&amp;\n            ((r = e),\n            (function(e) {\n              var t = document.createElement(\"script\");\n              (t.type = \"text/javascript\"),\n                (t.src = e),\n                document.querySelector(\"head\").appendChild(t);\n            })(\n              \"js/foobar.js\"\n            ));\n        });\n    }\n  };\n})();\n\nmyPlugin.loadPluginJsFn(function(callback) {\n  var xhr = new XMLHttpRequest();\n  xhr.onreadystatechange = function() {\n    if (this.readyState == 4 &amp;&amp; this.status == 200) {\n      callback(xhr.responseText);\n    }\n  };\n  xhr.open(\"GET\", \"&lt;some domain&gt;\", true);\n});\n</code></pre>\n\n<h2>foobar.js</h2>\n\n<pre><code>(function (my_Plugin) {\n\n    const somevars = 'xxx';\n    var   someMoreVars = '123'\n\n  function somefunctions(useDefaults = false) {\n    return somethingImportant;\n  }\n\n})(myPlugin);\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "redux", "react-redux"], "comments": [{"owner": {"reputation": 29842, "user_id": 1641941, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Q8zet.png?s=128&g=1", "display_name": "HMR", "link": "https://stackoverflow.com/users/1641941/hmr"}, "edited": false, "score": 0, "creation_date": 1569441150, "post_id": 58105625, "comment_id": 102602131, "body": "Push mutates, you should not mutate. Also push doesn&#39;t return anything so I think you meant to use concat"}, {"owner": {"reputation": 1161, "user_id": 5019630, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155693746975506/picture?type=large", "display_name": "GBouffard", "link": "https://stackoverflow.com/users/5019630/gbouffard"}, "edited": false, "score": 0, "creation_date": 1569441268, "post_id": 58105625, "comment_id": 102602185, "body": "I was just about to say the above: try <code>results: state.results.concat([state.counter])</code> and let us know if it works."}, {"owner": {"reputation": 85, "user_id": 12106729, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3Hhi1gF6sNk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcT8m_GqgzZI2WvwR2hmaW5HuuYbA/photo.jpg?sz=128", "display_name": "lostcoder", "link": "https://stackoverflow.com/users/12106729/lostcoder"}, "edited": false, "score": 0, "creation_date": 1569441374, "post_id": 58105625, "comment_id": 102602236, "body": "concat perfectly workes but i want to know why push failed"}, {"owner": {"reputation": 15766, "user_id": 10106580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mCnek.jpg?s=128&g=1", "display_name": "Dupocas", "link": "https://stackoverflow.com/users/10106580/dupocas"}, "edited": false, "score": 0, "creation_date": 1569441392, "post_id": 58105625, "comment_id": 102602243, "body": "push doesn&#39;t return a new array. You&#39;re storing an <code>int</code> in <code>results</code>"}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 12106729, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3Hhi1gF6sNk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcT8m_GqgzZI2WvwR2hmaW5HuuYbA/photo.jpg?sz=128", "display_name": "lostcoder", "link": "https://stackoverflow.com/users/12106729/lostcoder"}, "edited": false, "score": 0, "creation_date": 1569441726, "post_id": 58105691, "comment_id": 102602381, "body": "ok  i am thinking my result is expecting an array but i am giving number so it is throwing the error (concat worked but thinking why push failed)  correct me if was wrong What do error means"}], "tags": [], "owner": {"reputation": 15224, "user_id": 7328218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69d338eadf83deb112f919f4c8a6052a?s=128&d=identicon&r=PG&f=1", "display_name": "Taki", "link": "https://stackoverflow.com/users/7328218/taki"}, "is_accepted": false, "score": 1, "last_activity_date": 1569441224, "creation_date": 1569441224, "answer_id": 58105691, "question_id": 58105625, "link": "https://stackoverflow.com/questions/58105625/working-of-push-in-react-while-using-redux-to-update-the-state/58105691#58105691", "title": "Working of push in react while using redux to update the state", "body": "<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/push#Return_value\" rel=\"nofollow noreferrer\">the return value</a> of <code>.push</code> is </p>\n\n<blockquote>\n  <p>The new length property of the object upon which the method was called.</p>\n</blockquote>\n\n<p>to add the value to <code>stae.results</code> use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/concat\" rel=\"nofollow noreferrer\">concat</a> or <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax\" rel=\"nofollow noreferrer\">spread syntax</a> :</p>\n\n<pre><code>case \"STORE_RESULT\": {\n  return {\n    ...state,\n    results: [...state.results, state.counter]\n  };\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1163, "user_id": 11254516, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z244Y.jpg?s=128&g=1", "display_name": "syJSdev", "link": "https://stackoverflow.com/users/11254516/syjsdev"}, "is_accepted": false, "score": 0, "last_activity_date": 1569441304, "creation_date": 1569441304, "answer_id": 58105709, "question_id": 58105625, "link": "https://stackoverflow.com/questions/58105625/working-of-push-in-react-while-using-redux-to-update-the-state/58105709#58105709", "title": "Working of push in react while using redux to update the state", "body": "<p>you should add default case in reducer switch.</p>\n\n<p>and use the <code>[...state.results, state.counter]</code> instead of <code>state.results.push(state.counter)</code>.</p>\n\n<p><strong><em>like this</em></strong></p>\n\n<pre><code>const intialState = {\n  counter: 0,\n  results: []\n};\n\nconst reducer = (state = intialState, action) =&gt; {\n  switch (action.type) {\n    case \"INCREMENT\":\n      return {\n        ...state,\n        counter: state.counter + 1\n      };\n\n    case \"STORE_RESULT\": {\n      return {\n        ...state,\n        results: [...state.results, state.counter] // here\n      };\n    default:\n      return state; // here\n    }\n  }\n};\n\nexport default reducer;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 85, "user_id": 12106729, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3Hhi1gF6sNk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcT8m_GqgzZI2WvwR2hmaW5HuuYbA/photo.jpg?sz=128", "display_name": "lostcoder", "link": "https://stackoverflow.com/users/12106729/lostcoder"}, "edited": false, "score": 0, "creation_date": 1569441585, "post_id": 58105722, "comment_id": 102602313, "body": "ok  i am thinking my result is expecting an array but i am giving number so it is throwing the error (concat worked but thinking why push failed)  correct me if was wrong"}, {"owner": {"reputation": 85, "user_id": 12106729, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3Hhi1gF6sNk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcT8m_GqgzZI2WvwR2hmaW5HuuYbA/photo.jpg?sz=128", "display_name": "lostcoder", "link": "https://stackoverflow.com/users/12106729/lostcoder"}, "edited": false, "score": 0, "creation_date": 1569441690, "post_id": 58105722, "comment_id": 102602369, "body": "what do error means state.results.push is not a function"}, {"owner": {"reputation": 15766, "user_id": 10106580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mCnek.jpg?s=128&g=1", "display_name": "Dupocas", "link": "https://stackoverflow.com/users/10106580/dupocas"}, "reply_to_user": {"reputation": 85, "user_id": 12106729, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3Hhi1gF6sNk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcT8m_GqgzZI2WvwR2hmaW5HuuYbA/photo.jpg?sz=128", "display_name": "lostcoder", "link": "https://stackoverflow.com/users/12106729/lostcoder"}, "edited": false, "score": 0, "creation_date": 1569441903, "post_id": 58105722, "comment_id": 102602455, "body": "Updated the answer"}, {"owner": {"reputation": 1420, "user_id": 4560509, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/720274774751988/picture?type=large", "display_name": "Michael Paccione", "link": "https://stackoverflow.com/users/4560509/michael-paccione"}, "edited": false, "score": 0, "creation_date": 1594836202, "post_id": 58105722, "comment_id": 111269594, "body": "Didnt know that push returns a length. Cool!"}], "tags": [], "owner": {"reputation": 15766, "user_id": 10106580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mCnek.jpg?s=128&g=1", "display_name": "Dupocas", "link": "https://stackoverflow.com/users/10106580/dupocas"}, "is_accepted": true, "score": 2, "last_activity_date": 1594842834, "last_edit_date": 1594842834, "creation_date": 1569441354, "answer_id": 58105722, "question_id": 58105625, "link": "https://stackoverflow.com/questions/58105625/working-of-push-in-react-while-using-redux-to-update-the-state/58105722#58105722", "title": "Working of push in react while using redux to update the state", "body": "<p><code>push</code> returns the new <code>length</code> of the mutated <code>array</code>. Use <code>concat</code> instead which returns a new array</p>\n<pre><code>results : state.results.concat(item)\n</code></pre>\n<p>Let's assume the following code</p>\n<pre><code>results : state.results.push('foo')\n</code></pre>\n<p>Assuming that  <code>results</code> has a <code>length</code> of <code>5</code>, the above code will assert to</p>\n<pre><code>results : 5\n</code></pre>\n<p>Next time you try to <code>push</code> <code>results</code> this is what will look like to your compiler</p>\n<pre><code>5.push('foo')\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 12106729, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3Hhi1gF6sNk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcT8m_GqgzZI2WvwR2hmaW5HuuYbA/photo.jpg?sz=128", "display_name": "lostcoder", "link": "https://stackoverflow.com/users/12106729/lostcoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 361, "favorite_count": 0, "accepted_answer_id": 58105722, "answer_count": 3, "score": 2, "last_activity_date": 1594842834, "creation_date": 1569440949, "last_edit_date": 1569440989, "question_id": 58105625, "link": "https://stackoverflow.com/questions/58105625/working-of-push-in-react-while-using-redux-to-update-the-state", "title": "Working of push in react while using redux to update the state", "body": "<p>The following code is the code for my reducer where i am calling these function in my container </p>\n\n<pre><code>const intialState = {\n  counter: 0,\n  results: []\n};\n\nconst reducer = (state = intialState, action) =&gt; {\n  switch (action.type) {\n    case \"INCREMENT\":\n      return {\n        ...state,\n        counter: state.counter + 1\n      };\n\n    case \"STORE_RESULT\": {\n      return {\n        ...state,\n        results: state.results.push(state.counter)\n      };\n    }\n  }\n  return state;\n};\n\nexport default reducer;\n</code></pre>\n\n<p>I am getting following error</p>\n\n<pre><code>TypeError: state.results.push is not a function\nreducer\n</code></pre>\n\n<p>1) I am using redux reducer in my project </p>\n\n<p>2) I am updating the state by passing the type from my dispatch in my container </p>\n\n<p>3) I am trying to update the array by pushing(i know it returns the length ) but i want to know why it is not working </p>\n\n<p>4) Following code i tryed in javascript everything worked fine</p>\n\n<pre><code>var a = {\nb:[]\n}\na.b.push(11)\n//output\n1\n</code></pre>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 771, "user_id": 7392562, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ba47bc61ecca7021c911a2fad65f3f9a?s=128&d=identicon&r=PG&f=1", "display_name": "uSeruSher", "link": "https://stackoverflow.com/users/7392562/userusher"}, "edited": false, "score": 0, "creation_date": 1569440972, "post_id": 58105596, "comment_id": 102602053, "body": "<a href=\"https://stackoverflow.com/questions/16368534/jquery-datepicker-set-mindate\" title=\"jquery datepicker set mindate\">stackoverflow.com/questions/16368534/&hellip;</a>"}, {"owner": {"reputation": 771, "user_id": 7392562, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ba47bc61ecca7021c911a2fad65f3f9a?s=128&d=identicon&r=PG&f=1", "display_name": "uSeruSher", "link": "https://stackoverflow.com/users/7392562/userusher"}, "edited": false, "score": 0, "creation_date": 1569440980, "post_id": 58105596, "comment_id": 102602058, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/16368534/jquery-datepicker-set-mindate\">jquery datepicker set mindate</a>"}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 7230580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60c808ed5118f196710df531f1dc697?s=128&d=identicon&r=PG&f=1", "display_name": "mandiatutti", "link": "https://stackoverflow.com/users/7230580/mandiatutti"}, "edited": false, "score": 0, "creation_date": 1569570339, "post_id": 58106269, "comment_id": 102647197, "body": "I&#39;m sorry, but I have this problem: if I run the code from the snippet here, everything is fine, but if I run it in my pc I can select a To date that is before the from date... The mininum date for the from date is working fine tho..."}, {"owner": {"reputation": 187, "user_id": 4502710, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1311557882/picture?type=large", "display_name": "Yehuda Menahem", "link": "https://stackoverflow.com/users/4502710/yehuda-menahem"}, "reply_to_user": {"reputation": 47, "user_id": 7230580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60c808ed5118f196710df531f1dc697?s=128&d=identicon&r=PG&f=1", "display_name": "mandiatutti", "link": "https://stackoverflow.com/users/7230580/mandiatutti"}, "edited": false, "score": 0, "creation_date": 1569594901, "post_id": 58106269, "comment_id": 102659850, "body": "Hey, On which client you open the page? (which client browser when you run it from the pc)"}, {"owner": {"reputation": 47, "user_id": 7230580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60c808ed5118f196710df531f1dc697?s=128&d=identicon&r=PG&f=1", "display_name": "mandiatutti", "link": "https://stackoverflow.com/users/7230580/mandiatutti"}, "edited": false, "score": 0, "creation_date": 1569594982, "post_id": 58106269, "comment_id": 102659891, "body": "I&#39;m using chrome"}, {"owner": {"reputation": 187, "user_id": 4502710, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1311557882/picture?type=large", "display_name": "Yehuda Menahem", "link": "https://stackoverflow.com/users/4502710/yehuda-menahem"}, "reply_to_user": {"reputation": 47, "user_id": 7230580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60c808ed5118f196710df531f1dc697?s=128&d=identicon&r=PG&f=1", "display_name": "mandiatutti", "link": "https://stackoverflow.com/users/7230580/mandiatutti"}, "edited": false, "score": 0, "creation_date": 1569663758, "post_id": 58106269, "comment_id": 102675293, "body": "Can you post your code here if there is something different in it? because I tested it in chrome and it works. first thing first, just open this page on your pc computer, if it works then you need to figure out what&#39;s different"}], "tags": [], "owner": {"reputation": 187, "user_id": 4502710, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1311557882/picture?type=large", "display_name": "Yehuda Menahem", "link": "https://stackoverflow.com/users/4502710/yehuda-menahem"}, "is_accepted": false, "score": 1, "last_activity_date": 1569444627, "last_edit_date": 1569444627, "creation_date": 1569444129, "answer_id": 58106269, "question_id": 58105596, "link": "https://stackoverflow.com/questions/58105596/set-minimum-datepicker-form-and-to-in-javascript/58106269#58106269", "title": "Set minimum datepicker &quot;form&quot; and &quot;to&quot; in javascript", "body": "<p>This is how it can be done. hope it helps ( :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//JavaScript:\r\nfunction setToDate(val){\r\n    document.getElementById(\"to\").setAttribute(\"min\", val);\r\n}\r\n\r\nvar today = new Date(),\r\n    day = today.getDate(),\r\n    month = today.getMonth()+1, //January is 0\r\n    year = today.getFullYear();\r\n    \r\n    if(day&lt;10){\r\n      day='0'+day\r\n    } \r\n    if(month&lt;10){\r\n      month='0'+month\r\n    }\r\n    today = year+'-'+month+'-'+day;\r\n\r\n    document.getElementById(\"from\").setAttribute(\"min\", today);\r\n    document.getElementById(\"to\").setAttribute(\"min\", today);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"form-group\"&gt;\r\n  &lt;form&gt;\r\n  &lt;label for=\"id_vehicle\"&gt;Request for: &lt;?php echo $vehicle-&gt;brand?&gt; &lt;?php echo $vehicle-&gt;model?&gt;&lt;/label&gt;\r\n  &lt;input type=\"hidden\" id=\"id_vehicle\" name=\"id_vehicle\" value = \"&lt;?php echo $vehicle-&gt;id_vehicle?&gt;\"&gt;\r\n  &lt;br&gt;\r\n  &lt;label for=\"from\"&gt;From&lt;/label&gt;\r\n  &lt;input type=\"date\" id=\"from\" name=\"from\" onchange=\"setToDate(this.value)\"&gt;\r\n  &lt;label for=\"to\"&gt;to&lt;/label&gt;\r\n  &lt;input type=\"date\" id=\"to\" name=\"to\"&gt;\r\n  &lt;div class=\"form-group\" style=\"padding-bottom: 1em;\"&gt;\r\n  &lt;input type=\"submit\" class=\"btn btn-primary col text-center\"  value=\"Request\"&gt;\r\n  &lt;/div&gt;\r\n  &lt;/form&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 47, "user_id": 7230580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60c808ed5118f196710df531f1dc697?s=128&d=identicon&r=PG&f=1", "display_name": "mandiatutti", "link": "https://stackoverflow.com/users/7230580/mandiatutti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1569444627, "creation_date": 1569440828, "last_edit_date": 1569441257, "question_id": 58105596, "link": "https://stackoverflow.com/questions/58105596/set-minimum-datepicker-form-and-to-in-javascript", "title": "Set minimum datepicker &quot;form&quot; and &quot;to&quot; in javascript", "body": "<p>I have the following form made for a date selection:</p>\n\n<pre><code>&lt;div class=\"form-group\"&gt;\n  &lt;label for=\"id_vehicle\"&gt;Request for: &lt;?php echo $vehicle-&gt;brand?&gt; &lt;?php echo $vehicle-&gt;model?&gt;&lt;/label&gt;\n  &lt;input type=\"hidden\" id=\"id_vehicle\" name=\"id_vehicle\" value = \"&lt;?php echo $vehicle-&gt;id_vehicle?&gt;\"&gt;\n  &lt;br&gt;\n  &lt;label for=\"from\"&gt;From&lt;/label&gt;\n  &lt;input type=\"date\" id=\"from\" name=\"from\"&gt;\n  &lt;label for=\"to\"&gt;to&lt;/label&gt;\n  &lt;input type=\"date\" id=\"to\" name=\"to\"&gt;\n  &lt;/div&gt;\n  &lt;div class=\"form-group\" style=\"padding-bottom: 1em;\"&gt;\n  &lt;input type=\"submit\" class=\"btn btn-primary col text-center\"  value=\"Request\"&gt;\n  &lt;/div&gt;\n  &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I need to have the <code>from</code> date minimum value as the today date and the <code>to</code> date >= of the <code>from</code> date. I'm trying to do so with datepicker, but I'm a newbie with javascript, so I was wondering if someone could help me. Thanks!</p>\n"}, {"tags": ["javascript", "facebook", "messenger"], "comments": [{"owner": {"reputation": 68155, "user_id": 757508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbdf0220a07252e7fa441ca414bc612?s=128&d=identicon&r=PG", "display_name": "luschn", "link": "https://stackoverflow.com/users/757508/luschn"}, "edited": false, "score": 0, "creation_date": 1569444672, "post_id": 58105573, "comment_id": 102603482, "body": "did you check out the browser console for warnings or errors? btw, be careful with parameters, it is &quot;minimized&quot;, not &quot;minimised&quot;. also, that parameter is outdated/deprecated according to the docs: <a href=\"https://developers.facebook.com/docs/messenger-platform/discovery/customer-chat-plugin/#customization\" rel=\"nofollow noreferrer\">developers.facebook.com/docs/messenger-platform/discovery/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 12121313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35890f3f2e4385716ff24e7e9e1576fd?s=128&d=identicon&r=PG&f=1", "display_name": "putiek", "link": "https://stackoverflow.com/users/12121313/putiek"}, "reply_to_user": {"reputation": 68155, "user_id": 757508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbdf0220a07252e7fa441ca414bc612?s=128&d=identicon&r=PG", "display_name": "luschn", "link": "https://stackoverflow.com/users/757508/luschn"}, "edited": false, "score": 0, "creation_date": 1569484606, "post_id": 58105573, "comment_id": 102614028, "body": "thanks for the info about param - i copied it from SO.  Yeah I checked console, there is no info about it :("}, {"owner": {"reputation": 68155, "user_id": 757508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbdf0220a07252e7fa441ca414bc612?s=128&d=identicon&r=PG", "display_name": "luschn", "link": "https://stackoverflow.com/users/757508/luschn"}, "edited": false, "score": 0, "creation_date": 1569486322, "post_id": 58105573, "comment_id": 102614811, "body": "do not copy code from SO, copy from the original source instead. anyway, what about the dynamic source? did you check out the chat div in the browser dev tools? a test link would be a lot easier for us to help."}, {"owner": {"reputation": 1, "user_id": 12121313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35890f3f2e4385716ff24e7e9e1576fd?s=128&d=identicon&r=PG&f=1", "display_name": "putiek", "link": "https://stackoverflow.com/users/12121313/putiek"}, "reply_to_user": {"reputation": 68155, "user_id": 757508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbdf0220a07252e7fa441ca414bc612?s=128&d=identicon&r=PG", "display_name": "luschn", "link": "https://stackoverflow.com/users/757508/luschn"}, "edited": false, "score": 0, "creation_date": 1569518841, "post_id": 58105573, "comment_id": 102632454, "body": "searching for the div with accurate ID made me think - as it appears I have some plugin FB to show liks, has same ID - when i turned it off chat started working just fine. Thanks for good suggestion and the help! :)"}, {"owner": {"reputation": 68155, "user_id": 757508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbdf0220a07252e7fa441ca414bc612?s=128&d=identicon&r=PG", "display_name": "luschn", "link": "https://stackoverflow.com/users/757508/luschn"}, "edited": false, "score": 0, "creation_date": 1569564479, "post_id": 58105573, "comment_id": 102644633, "body": "alright, please create an answer with this information and accept it, so others can easily find it later."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 12121313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35890f3f2e4385716ff24e7e9e1576fd?s=128&d=identicon&r=PG&f=1", "display_name": "putiek", "link": "https://stackoverflow.com/users/12121313/putiek"}, "is_accepted": true, "score": 0, "last_activity_date": 1569575053, "creation_date": 1569575053, "answer_id": 58131274, "question_id": 58105573, "link": "https://stackoverflow.com/questions/58105573/facebook-customer-chat-not-showing-on-joomla-page/58131274#58131274", "title": "Facebook customer Chat not showing on Joomla page", "body": "<p>searching for the div with accurate ID made me think - as it appears I had some plugin FB to show likes, that has same ID - when i turned it off chat started working just fine. </p>\n"}], "owner": {"reputation": 1, "user_id": 12121313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35890f3f2e4385716ff24e7e9e1576fd?s=128&d=identicon&r=PG&f=1", "display_name": "putiek", "link": "https://stackoverflow.com/users/12121313/putiek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 58131274, "answer_count": 1, "score": 0, "last_activity_date": 1569575053, "creation_date": 1569440785, "question_id": 58105573, "link": "https://stackoverflow.com/questions/58105573/facebook-customer-chat-not-showing-on-joomla-page", "title": "Facebook customer Chat not showing on Joomla page", "body": "<p>I have added code from messenger configurator to my page (just after opening body tag) - but the messenger window is not showing... - the code is visible when I inspect the page - I tried it in domain/test.html file and it worked just fine. Any ideas why that might happen? Already tried most of the common suggestions I could find on SO.</p>\n\n<pre><code>&lt;!-- Load Facebook SDK for JavaScript --&gt;\n      &lt;div id=\"fb-root\"&gt;&lt;/div&gt;\n      &lt;script&gt;\n        window.fbAsyncInit = function() {\n          FB.init({\n            xfbml            : true,\n            version          : 'v4.0'\n          });\n        };\n\n        (function(d, s, id) {\n        var js, fjs = d.getElementsByTagName(s)[0];\n        if (d.getElementById(id)) return;\n        js = d.createElement(s); js.id = id;\n        js.src = 'https://connect.facebook.net/pl_PL/sdk/xfbml.customerchat.js#xfbml=1&amp;version=v2.12';\n        fjs.parentNode.insertBefore(js, fjs);\n      }(document, 'script', 'facebook-jssdk'));&lt;/script&gt;\n\n      &lt;!-- Your customer chat code --&gt;\n      &lt;div class=\"fb-customerchat\"\n        attribution=setup_tool\n        page_id=\"189127827929149\"       minimised=\"false\"    theme_color=\"#8cc63f\"   logged_in_greeting=\"Witaj! Jak mo\u017cemy Ci pom\u00f3c?\"   logged_out_greeting=\"Witaj! Jak mo\u017cemy Ci pom\u00f3c?\"&gt;\n      &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 5518, "user_id": 923340, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/NZPwv.jpg?s=128&g=1", "display_name": "Lukasz &#39;Severiaan&#39; Grela", "link": "https://stackoverflow.com/users/923340/lukasz-severiaan-grela"}, "edited": false, "score": 0, "creation_date": 1569441061, "post_id": 58105562, "comment_id": 102602093, "body": "<code>content_array.reverse();</code>"}, {"owner": {"reputation": 759, "user_id": 11496645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ede149d9791b03c5abe833ba2f3131ca?s=128&d=identicon&r=PG&f=1", "display_name": "Lalas M", "link": "https://stackoverflow.com/users/11496645/lalas-m"}, "reply_to_user": {"reputation": 5518, "user_id": 923340, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/NZPwv.jpg?s=128&g=1", "display_name": "Lukasz &#39;Severiaan&#39; Grela", "link": "https://stackoverflow.com/users/923340/lukasz-severiaan-grela"}, "edited": false, "score": 0, "creation_date": 1569441330, "post_id": 58105562, "comment_id": 102602219, "body": "Thanks @Lukasz&#39;Severiaan&#39;Grela content_array can have more than two items and the order could be changed at any degree"}, {"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 0, "creation_date": 1569443232, "post_id": 58105562, "comment_id": 102602981, "body": "I think the only way to do this is <code>.sort()</code> with a comparator and hardcoded string names. A bit more detail about the overall use-case would be helpful. Do you have control over <code>content_array</code>, or is that coming from props? If it is coming through props, do you have control over the parent component and will the ordering be the only thing that changes, or will there be arbitrary content? Likely, the design can be improved to avoid a hacky solution."}, {"owner": {"reputation": 759, "user_id": 11496645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ede149d9791b03c5abe833ba2f3131ca?s=128&d=identicon&r=PG&f=1", "display_name": "Lalas M", "link": "https://stackoverflow.com/users/11496645/lalas-m"}, "reply_to_user": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 0, "creation_date": 1569443791, "post_id": 58105562, "comment_id": 102603182, "body": "Thanks @ggorlen Idont have control over the array .. array is coming as an object from an api. I made it as an array in order to simplify and generalize the question"}, {"owner": {"reputation": 273, "user_id": 7179418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U7Ecj.jpg?s=128&g=1", "display_name": "Maria", "link": "https://stackoverflow.com/users/7179418/maria"}, "edited": false, "score": 0, "creation_date": 1569444017, "post_id": 58105562, "comment_id": 102603264, "body": "I&#39;d try to use regex to check if <code>content_array[0]</code> is a URL and then display the <code>div</code> or <code>ReactPlayer</code> first accordingly."}, {"owner": {"reputation": 759, "user_id": 11496645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ede149d9791b03c5abe833ba2f3131ca?s=128&d=identicon&r=PG&f=1", "display_name": "Lalas M", "link": "https://stackoverflow.com/users/11496645/lalas-m"}, "reply_to_user": {"reputation": 273, "user_id": 7179418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U7Ecj.jpg?s=128&g=1", "display_name": "Maria", "link": "https://stackoverflow.com/users/7179418/maria"}, "edited": false, "score": 0, "creation_date": 1569444265, "post_id": 58105562, "comment_id": 102603350, "body": "@Maria that&#39;s one way to approach but in real world use of this component the object/array may be large and different type of data might be there. I simplified and generalized the question for better explanation."}, {"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 0, "creation_date": 1569444265, "post_id": 58105562, "comment_id": 102603351, "body": "So the contents (URL, etc) will change arbitrarily? If so, what grounds do you have to sort based on? Can you provide more examples of the <code>content</code> array? I think a lot is lost in the simplification here. I mean, you only show two child components that need to be sorting, so are you planning on dynamically generating <code>n</code> components? Feels a bit like an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">x-y problem</a>."}, {"owner": {"reputation": 273, "user_id": 7179418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U7Ecj.jpg?s=128&g=1", "display_name": "Maria", "link": "https://stackoverflow.com/users/7179418/maria"}, "edited": false, "score": 0, "creation_date": 1569444564, "post_id": 58105562, "comment_id": 102603444, "body": "@LalasM you can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\" rel=\"nofollow noreferrer\">array.map</a>, and then in the map function check what kind of data it is and return the appropriate html."}, {"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "reply_to_user": {"reputation": 273, "user_id": 7179418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U7Ecj.jpg?s=128&g=1", "display_name": "Maria", "link": "https://stackoverflow.com/users/7179418/maria"}, "edited": false, "score": 0, "creation_date": 1569444746, "post_id": 58105562, "comment_id": 102603515, "body": "@Maria the problem with that, though, is that the component needs to know something about the array ahead of time, like the specific strings, for example, which sounds impossible. We need some requirement like &quot;if the string at index <code>i</code> in the array matches a URL, it should be moved to the front&quot; or something along those lines. Without that, I don&#39;t see what can be done."}, {"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 0, "creation_date": 1569446815, "post_id": 58105562, "comment_id": 102604153, "body": "@LalasM in your update, you have an invalid <code>content</code> array that has key-values. What&#39;s going on here?"}, {"owner": {"reputation": 759, "user_id": 11496645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ede149d9791b03c5abe833ba2f3131ca?s=128&d=identicon&r=PG&f=1", "display_name": "Lalas M", "link": "https://stackoverflow.com/users/11496645/lalas-m"}, "reply_to_user": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 0, "creation_date": 1569447095, "post_id": 58105562, "comment_id": 102604247, "body": "@ggorlen that was a typo .. that content is an array of object"}], "answers": [{"comments": [{"owner": {"reputation": 759, "user_id": 11496645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ede149d9791b03c5abe833ba2f3131ca?s=128&d=identicon&r=PG&f=1", "display_name": "Lalas M", "link": "https://stackoverflow.com/users/11496645/lalas-m"}, "edited": false, "score": 0, "creation_date": 1569445713, "post_id": 58106423, "comment_id": 102603828, "body": "As per the instructions from comments and request for more clarification i have edited the question .. but still this is more likely answeres the query .. thanks @maria"}], "tags": [], "owner": {"reputation": 273, "user_id": 7179418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U7Ecj.jpg?s=128&g=1", "display_name": "Maria", "link": "https://stackoverflow.com/users/7179418/maria"}, "is_accepted": false, "score": 0, "last_activity_date": 1569445039, "creation_date": 1569445039, "answer_id": 58106423, "question_id": 58105562, "link": "https://stackoverflow.com/questions/58105562/how-to-change-the-order-of-html-elements-inside-reactjs-return-function-dynamica/58106423#58106423", "title": "How to change the order of html elements inside ReactJS return function dynamically?", "body": "<p>Here is a half coded half plain text example of how I think you could approach the problem.</p>\n\n<p>Using array.map would allow you to return the html for each array item in order though as you stated in the comments you will need to come up with some logic to test each string in the array in order to return the correct code. For URL's you could for sure do this with regex, I don't know what other options you need to support.</p>\n\n<pre><code>class MyComponent extends React.Component {\n    render() {\n        var content_array = an array filled with different types of strings?\n\n        return (\n            &lt;React.Fragment&gt;\n              {content_array.map(content =&gt; {\n                if(use regex to check if content is a url){\n                  return &lt;ReactPlayer url={content} playing controls /&gt;\n                } else if(some other condition to check its text){\n                  return &lt;div className=\"second\"&gt;{content}&lt;/div&gt;\n                } else if (whatever other conditions you have){\n                  return other stuff\n                }\n              });}\n\n\n            &lt;/React.Fragment&gt;\n        );\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 759, "user_id": 11496645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ede149d9791b03c5abe833ba2f3131ca?s=128&d=identicon&r=PG&f=1", "display_name": "Lalas M", "link": "https://stackoverflow.com/users/11496645/lalas-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569447043, "creation_date": 1569440724, "last_edit_date": 1569447043, "question_id": 58105562, "link": "https://stackoverflow.com/questions/58105562/how-to-change-the-order-of-html-elements-inside-reactjs-return-function-dynamica", "title": "How to change the order of html elements inside ReactJS return function dynamically?", "body": "<p>I have an object generated from an API and the values of the object are rendered inside the return function of ReactJS. I'm trying to render these items as per the order which it is appears inside the object. For example if I have an object that contains a video url, a title and a genre. As of now the return function renders the embed url first then the title and then the genre. I'm expecting this rendering order should change dynamically (Or conditionally) as the order of the array changes.</p>\n\n<pre><code>import React from 'react';\nimport ReactPlayer from 'react-player';\n\nclass MyComponent extends React.Component {\n    render() {\n        var content_obj = {\n                    \"content\": [\n                                {\n                                  \"url\":\"https://www.youtube.com/watch?v=7Glc2mHLPRM\",\n                                  \"type\":\"video\"\n                                }\n                               ]\n                    \"genre\":\"drama\", \n                    \"title\":\"My Video\"   \n                    };\n\n        return (\n            &lt;React.Fragment&gt;\n              &lt;ReactPlayer url={content_obj.content[0]['url']} playing controls /&gt;\n              &lt;div className=\"second\"&gt;{content_obj.title}&lt;/div&gt;\n              &lt;div className=\"third\"&gt;{content_obj.genre}&lt;/div&gt;\n            &lt;/React.Fragment&gt;\n        );\n    }\n}\n\nexport default MyComponent;\n</code></pre>\n\n<p>That means if I change(Or api changed) the <code>content_obj</code> order from above to</p>\n\n<pre><code>var content_obj = {\n                    \"content\": [\n                                {\n                                 \"url\":\"https://www.youtube.com/watch?v=7Glc2mHLPRM\",\n                                 \"type\":\"video\"\n                                }\n                               ], \n                    \"title\":\"My Video\",\n                    \"genre\":\"drama\"\n                    };\n</code></pre>\n\n<p>Then the html should be rendered as first embed url then title and then genre.</p>\n"}, {"tags": ["javascript", "asynchronous", "promise", "bluebird", "ecmascript-5"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1569440886, "post_id": 58105486, "comment_id": 102601986, "body": "Drop the pointless <code>.catch(function() {         throw error;     })</code>!"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1569440909, "post_id": 58105486, "comment_id": 102602001, "body": "What promise library are you using that still has a <code>.done()</code> method?"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1569440979, "post_id": 58105486, "comment_id": 102602057, "body": "What <code>doSomething</code> function are you talking about, do you mean <code>openEmployee</code>? And where does that call <code>load</code>?"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 597, "user_id": 1511193, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/trodc.jpg?s=128&g=1", "display_name": "vmrvictor", "link": "https://stackoverflow.com/users/1511193/vmrvictor"}, "edited": false, "score": 1, "creation_date": 1569441079, "post_id": 58105486, "comment_id": 102602099, "body": "Your <code>load</code> method needs to <code>return</code> the promise (and not call <code>.done()</code>), so that the caller of <code>load()</code> can chain onto it. @vmrvictor No, don&#39;t pass a callback."}, {"owner": {"reputation": 21, "user_id": 4981534, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3kwEs70K6Ew/AAAAAAAAAAI/AAAAAAAALzk/W6JSMmQfOts/photo.jpg?sz=128", "display_name": "LeDerp", "link": "https://stackoverflow.com/users/4981534/lederp"}, "edited": false, "score": 0, "creation_date": 1569441345, "post_id": 58105486, "comment_id": 102602224, "body": "The load function is used in other parts of the controller, so I cannot give doSomething as a callback to load as it has to be called only when openEmployee is called."}, {"owner": {"reputation": 21, "user_id": 4981534, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3kwEs70K6Ew/AAAAAAAAAAI/AAAAAAAALzk/W6JSMmQfOts/photo.jpg?sz=128", "display_name": "LeDerp", "link": "https://stackoverflow.com/users/4981534/lederp"}, "edited": false, "score": 0, "creation_date": 1569441690, "post_id": 58105486, "comment_id": 102602370, "body": "I cannot modify the load function as other part of the code is dependent on it"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1569441786, "post_id": 58105486, "comment_id": 102602411, "body": "Other parts of the code depend on that the <code>load</code> function returns <code>undefined</code>? Even so, then write a second function <code>loadPromise</code> which <code>doSomething</code> can call directly, and <code>load</code> will become just <code>function() { loadPromise().done(); }</code>."}, {"owner": {"reputation": 3293, "user_id": 3428668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e19999adf53b934a8dc2152969eccd81?s=128&d=identicon&r=PG", "display_name": "nextt1", "link": "https://stackoverflow.com/users/3428668/nextt1"}, "edited": false, "score": 0, "creation_date": 1569442445, "post_id": 58105486, "comment_id": 102602679, "body": "If you can&#39;t return a promise from the <code>load</code> method, try to use a global <code>flag</code> variable which will indicate the completion of the function call and use <code>setInterval</code> to check the status and call the <code>doSomething</code> method once you have the correct value of the <code>flag</code>."}, {"owner": {"reputation": 21, "user_id": 4981534, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3kwEs70K6Ew/AAAAAAAAAAI/AAAAAAAALzk/W6JSMmQfOts/photo.jpg?sz=128", "display_name": "LeDerp", "link": "https://stackoverflow.com/users/4981534/lederp"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1569442604, "post_id": 58105486, "comment_id": 102602740, "body": "@Bergi thanks for that. I think that should work."}, {"owner": {"reputation": 21, "user_id": 4981534, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3kwEs70K6Ew/AAAAAAAAAAI/AAAAAAAALzk/W6JSMmQfOts/photo.jpg?sz=128", "display_name": "LeDerp", "link": "https://stackoverflow.com/users/4981534/lederp"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1569443575, "post_id": 58105486, "comment_id": 102603107, "body": "@Bergi Thanks! It worked."}], "owner": {"reputation": 21, "user_id": 4981534, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3kwEs70K6Ew/AAAAAAAAAAI/AAAAAAAALzk/W6JSMmQfOts/photo.jpg?sz=128", "display_name": "LeDerp", "link": "https://stackoverflow.com/users/4981534/lederp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1569452649, "creation_date": 1569440397, "last_edit_date": 1569452649, "question_id": 58105486, "link": "https://stackoverflow.com/questions/58105486/how-to-call-a-function-after-javascript-async-function-with-promises", "title": "How to call a function after javascript async function with promises?", "body": "<p>So I have a function where I'm chaining promises to fetch different data which would be like this.</p>\n\n<pre><code>that = this;    \nthat.load = function load() {\ngetEmployeeDetails(id)\n    .then(function() {\n        return validateEmployeeDetails([name, age, address]);\n    })\n    .spread(function (nameData, ageData, addressData) {\n    that.name = \"Name: \" + nameData;\n    that.age = \"Age: \" + ageData;\n    that.address = \"Address: \" + addressData;\n    })\n    .then(function() {\n        return someService.getDesignation(id);\n    })\n    .then(function(desig) {\n        that.designation = desig;\n    })\n    .catch(function(err) {\n        throw error;\n    })\n    .done();\n};\n</code></pre>\n\n<p>I've another function where I have to call the load function</p>\n\n<pre><code>that.openEmployee = function openEmployee() {\n    getEmployeeSession()\n    .then(function getSessionData(res) {\n        if(res.status === 200) {\n            doSomething();\n        }\n    })\n    .catch(function() {\n        throw error;\n    })\n    .done();\n};\n</code></pre>\n\n<p>Now I have to call the load function before the doSomething function. I tried using promises and also using events. But the problem is, it executes the spread part of the load and then calls the doSomething and then goes on executing the then blocks in load function. Whereas, I want to call the doSomething method after the last then in the load function is executed.\nThanks in advance.</p>\n"}]