[{"tags": ["javascript", "html"], "answers": [{"tags": [], "owner": {"reputation": 69, "user_id": 6540319, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/10206462405425727/picture?type=large", "display_name": "Rishabh Anand", "link": "https://stackoverflow.com/users/6540319/rishabh-anand"}, "is_accepted": false, "score": 0, "last_activity_date": 1523492752, "creation_date": 1523492752, "answer_id": 49786204, "question_id": 49786025, "link": "https://stackoverflow.com/questions/49786025/javascript-toggle-class-off-when-other-element-is-selected/49786204#49786204", "title": "javascript toggle class off when other element is selected", "body": "<p>If you are using JQuery</p>\n\n<p><code>$(\"div:not(#id)\").css(\"display\", \"none\");\n$(\"#id\").css(\"display\", \"block\");\n</code></p>\n\n<p>or </p>\n\n<p>You are using pure JS</p>\n\n<p><code>document.querySelector(\"div:not(#id).style.display = none\")\ndocument.getElementById(#id).style.display = block\n</code></p>\n"}, {"comments": [{"owner": {"reputation": 605, "user_id": 8844309, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/cd28857ec0194e1a6e3fd1ad9ac02a03?s=128&d=identicon&r=PG&f=1", "display_name": "logos_164", "link": "https://stackoverflow.com/users/8844309/logos-164"}, "edited": false, "score": 0, "creation_date": 1523833480, "post_id": 49786523, "comment_id": 86710157, "body": "This was fantastic, thank you for such a highly organized answer. One question: how does the link know which div to display when you click on it? Like how does clicking on div 2 to only trigger div 2 to show?"}, {"owner": {"reputation": 666, "user_id": 5560399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZRMWk.jpg?s=128&g=1", "display_name": "Elharony", "link": "https://stackoverflow.com/users/5560399/elharony"}, "reply_to_user": {"reputation": 605, "user_id": 8844309, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/cd28857ec0194e1a6e3fd1ad9ac02a03?s=128&d=identicon&r=PG&f=1", "display_name": "logos_164", "link": "https://stackoverflow.com/users/8844309/logos-164"}, "edited": false, "score": 0, "creation_date": 1523837743, "post_id": 49786523, "comment_id": 86710943, "body": "Good question! Simply, by its index. I loop over all <code>links</code> then <code>addEventListener</code> to each link <code>toggleLinks[i]</code>, then I used that <code>i</code> index to <code>display</code> the desired div! . So, <code>const displayDiv = allDivs[i];</code> the <code>i</code> refers to the same index as the triggered <code>link</code>. Got it now? If not, please let me know!"}], "tags": [], "owner": {"reputation": 666, "user_id": 5560399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZRMWk.jpg?s=128&g=1", "display_name": "Elharony", "link": "https://stackoverflow.com/users/5560399/elharony"}, "is_accepted": true, "score": 2, "last_activity_date": 1523495552, "creation_date": 1523495552, "answer_id": 49786523, "question_id": 49786025, "link": "https://stackoverflow.com/questions/49786025/javascript-toggle-class-off-when-other-element-is-selected/49786523#49786523", "title": "javascript toggle class off when other element is selected", "body": "<p>First of all; I highly recommend keep digging with JavaScript, don't get disappointed, ask others, learn more about it and NEVER stop learning!</p>\n\n<p>I've come up with a solution, that allows you to show/hide divs as you wanted. Addition to that, it is 100% dynamically and you can add as many links/divs as you want without extra efforts!</p>\n\n<p>Here is a <a href=\"https://codepen.io/elharony/pen/MVRewy\" rel=\"nofollow noreferrer\">Live Preview Pen</a>.\n<em>I used the bootstrap grid to enhance the UI a little bit</em></p>\n\n<p>Anyways, here is the code without extras:</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;!-- Toggle Links --&gt;\n&lt;div&gt;\n  &lt;ul&gt;\n    &lt;li&gt;&lt;a href=\"#\" class=\"toggle\"&gt;Item #1&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a href=\"#\" class=\"toggle\"&gt;Item #2&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a href=\"#\" class=\"toggle\"&gt;Item #3&lt;/a&gt;&lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n\n&lt;!-- Show/Hide Divs --&gt;\n&lt;div&gt;\n  &lt;div class=\"item\"&gt;Item 1&lt;/div&gt;\n  &lt;div class=\"item\"&gt;Item 2&lt;/div&gt;\n  &lt;div class=\"item\"&gt;Item 3&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>CSS</strong></p>\n\n<pre><code>.item {\n  display: none;\n}\n</code></pre>\n\n<p><strong>Vanilla JS</strong></p>\n\n<pre><code>// Select All Links\nconst toggleLinks = document.querySelectorAll(\".toggle\");\n\n// Select All divs\nconst allDivs = document.querySelectorAll(\".item\");\n\n// Add a `click` event to each link\nfor(let i = 0; i &lt; toggleLinks.length; i++) {\n  toggleLinks[i].addEventListener(\"click\", function(e) {\n    e.preventDefault(); // To avoid reloading the page\n\n    // Make sure that ALL divs are hidden\n    for(let x = 0; x &lt; allDivs.length; x++) {\n      allDivs[x].style.display = \"none\"\n    }\n\n    // Show only ONE div based on the triggered link's index\n    const displayDiv = allDivs[i];\n    // You can display the div directly without `displayDiv` variable, but it is made for better readability only!\n    displayDiv.style.display = \"block\";\n    // Like this: allDivs[i].style.display = \"block\"\n\n  });\n}\n</code></pre>\n\n<p>The actual code is VERY short, but I tried to explain it with as many comments as I could.</p>\n\n<p>I hope you find it easy-to-read and start implementing this into your project!</p>\n\n<p><em>Feel free to ask any further questions about the code above, if you got any!</em> \ud83d\ude09</p>\n"}], "owner": {"reputation": 605, "user_id": 8844309, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/cd28857ec0194e1a6e3fd1ad9ac02a03?s=128&d=identicon&r=PG&f=1", "display_name": "logos_164", "link": "https://stackoverflow.com/users/8844309/logos-164"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 305, "favorite_count": 0, "accepted_answer_id": 49786523, "answer_count": 2, "score": 0, "last_activity_date": 1523508044, "creation_date": 1523491109, "last_edit_date": 1523508044, "question_id": 49786025, "link": "https://stackoverflow.com/questions/49786025/javascript-toggle-class-off-when-other-element-is-selected", "title": "javascript toggle class off when other element is selected", "body": "<p>I have 2 divs that are left and right of each other. On the left is a list of <code>&lt;li&gt;</code> items with <code>&lt;a&gt;</code> on the inside.</p>\n\n<p>On the right is a series of <code>&lt;div&gt;</code>'s with <code>display: none;</code> as their initial class. I wrote a function to make these <code>&lt;div&gt;</code>'s appear as their corresponding <code>&lt;li&gt;</code> items are selected on the left. The HTML for the list on the left is:</p>\n\n<pre><code>&lt;ul class=\"nav flex-column\"&gt;\n    &lt;li class=\"nav-item\"&gt;\n        &lt;a class=\"nav-link\" onclick=\"toggle_visibility('item1');\" href=\"javascript:void(0)\"&gt;Item 1&lt;/a&gt;\n    &lt;/li&gt; \n    &lt;li class=\"nav-item\"&gt;\n        &lt;a class=\"nav-link\" onclick=\"toggle_visibility('item2');\" href=\"javascript:void(0)\"&gt;Item 2&lt;/a&gt;\n    &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>And the HTML for the list on the right is:</p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n    &lt;div id=\"item1\"&gt;\n        &lt;h2 class=\"text-center\"&gt;Item 1&lt;/h2&gt;\n    &lt;/div&gt;\n    &lt;div id=\"item2\"&gt;\n        &lt;h2 class=\"text-center\"&gt;Item 2&lt;/h2&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>My javascript function is:</p>\n\n<pre><code>function toggle_visibility(id) {\n    var e = document.getElementById(id);\n    if(e.style.display == 'block')\n        e.style.display = 'none';\n    else\n        e.style.display = 'block';\n}\n</code></pre>\n\n<p>What happens is they toggle on and off just fine, but they stack on top of each other when clicked. What I want them to do is have the <code>&lt;div&gt;</code> that is selected take the place of whatever is displayed, and not have them displayed on top of each other.</p>\n\n<p>This is just a sample, I have about 8 of these links that I need to select and have a div appear as needed.</p>\n\n<p>I am very new to javascript, I have written while loops before and assume I will need to do that and loop through all of these as an array. But what am I checking for and how do I make the one item remove the display when the other one is selected?</p>\n\n<p>I am also completely open to the possibility that I am making this more complicated than what it should be.</p>\n\n<p>Thank you for your help in advance.</p>\n"}, {"tags": ["javascript", "html", "css", "shopify"], "comments": [{"owner": {"reputation": 668, "user_id": 1991523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df4637431d31929ee57cd1a980627b22?s=128&d=identicon&r=PG", "display_name": "xuhaib", "link": "https://stackoverflow.com/users/1991523/xuhaib"}, "edited": false, "score": 0, "creation_date": 1523492701, "post_id": 49785989, "comment_id": 86587793, "body": "Plz share the code that&#39;s handling <code>hover</code> event. Also, what are the results if you log <code>stocklevel</code> in console before and after <code>hover</code>?"}, {"owner": {"reputation": 671, "user_id": 2736028, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ed2c901c8401f629b4ea1cf156ca4275?s=128&d=identicon&r=PG&f=1", "display_name": "JeVic", "link": "https://stackoverflow.com/users/2736028/jevic"}, "reply_to_user": {"reputation": 668, "user_id": 1991523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df4637431d31929ee57cd1a980627b22?s=128&d=identicon&r=PG", "display_name": "xuhaib", "link": "https://stackoverflow.com/users/1991523/xuhaib"}, "edited": false, "score": 0, "creation_date": 1523492917, "post_id": 49785989, "comment_id": 86587834, "body": "im actually trying to override that since the code is hard to find"}, {"owner": {"reputation": 668, "user_id": 1991523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df4637431d31929ee57cd1a980627b22?s=128&d=identicon&r=PG", "display_name": "xuhaib", "link": "https://stackoverflow.com/users/1991523/xuhaib"}, "edited": false, "score": 0, "creation_date": 1523494777, "post_id": 49785989, "comment_id": 86588187, "body": "In that case, first override/control/change the <code>hover</code> event before testing your condition. You may also need to know what specific event is being handled currently i.e. <code>hover</code>,<code>mouseenter</code>,<code>mouseleave</code>, or <code>mouseover</code>. Do note that <code>hover</code> is shorthand for <code>mouseenter</code> and <code>mouseleave</code> both. May be able to help if you can share the current behavior on <code>hover</code> i.e. how does it affect  <code>inventoryQuantity</code> and does <code>inventoryQuantity</code> change back to previous value on <code>mouseleave</code>?"}, {"owner": {"reputation": 671, "user_id": 2736028, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ed2c901c8401f629b4ea1cf156ca4275?s=128&d=identicon&r=PG&f=1", "display_name": "JeVic", "link": "https://stackoverflow.com/users/2736028/jevic"}, "reply_to_user": {"reputation": 668, "user_id": 1991523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df4637431d31929ee57cd1a980627b22?s=128&d=identicon&r=PG", "display_name": "xuhaib", "link": "https://stackoverflow.com/users/1991523/xuhaib"}, "edited": false, "score": 0, "creation_date": 1523495052, "post_id": 49785989, "comment_id": 86588236, "body": "no the value does not change back on mousehover or mouseout"}, {"owner": {"reputation": 668, "user_id": 1991523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df4637431d31929ee57cd1a980627b22?s=128&d=identicon&r=PG", "display_name": "xuhaib", "link": "https://stackoverflow.com/users/1991523/xuhaib"}, "edited": false, "score": 0, "creation_date": 1523495523, "post_id": 49785989, "comment_id": 86588344, "body": "so basically, <code>mouseenter</code> on <code>inventoryQuantity</code> changes text from 1 to 2 (just and example) and on <code>mouseleave</code> the text stays at 2? is that right?"}, {"owner": {"reputation": 671, "user_id": 2736028, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ed2c901c8401f629b4ea1cf156ca4275?s=128&d=identicon&r=PG&f=1", "display_name": "JeVic", "link": "https://stackoverflow.com/users/2736028/jevic"}, "reply_to_user": {"reputation": 668, "user_id": 1991523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df4637431d31929ee57cd1a980627b22?s=128&d=identicon&r=PG", "display_name": "xuhaib", "link": "https://stackoverflow.com/users/1991523/xuhaib"}, "edited": false, "score": 0, "creation_date": 1523498651, "post_id": 49785989, "comment_id": 86589021, "body": "yes that is correct but if you hover to another one it will change value but not on mouseleave"}], "owner": {"reputation": 671, "user_id": 2736028, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ed2c901c8401f629b4ea1cf156ca4275?s=128&d=identicon&r=PG&f=1", "display_name": "JeVic", "link": "https://stackoverflow.com/users/2736028/jevic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523491356, "creation_date": 1523490773, "last_edit_date": 1523491356, "question_id": 49785989, "link": "https://stackoverflow.com/questions/49785989/hide-span-value-jquery-value-change-onhover", "title": "Hide Span Value Jquery Value Change OnHover", "body": "<p>I want to hide the value of the span if a condition is met however the span value changes on hover  </p>\n\n<pre><code>var stocklevel = parseInt($('#inventoryQuantity').text(variant.inventory_quantity));\n\nif(stocklevel &lt; 10)\n{\n    $('#inventoryQuantity').text(variant.inventory_quantity);\n}\nelse\n{\n\n    }\n</code></pre>\n\n<p>but the condition doesnt seem to work because when the value of span changes on mouse hover , it will still display the value higher than 10 </p>\n\n<pre><code>&lt;h4&gt; &lt;span id=\"inventoryQuantity\"&gt;{{current_variant.inventory_quantity }}&lt;/span&gt; available. &lt;/h4&gt;\n</code></pre>\n"}, {"tags": ["javascript", "android", "reactjs", "react-native", "android-intent"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 9633263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Kong", "link": "https://stackoverflow.com/users/9633263/kong"}, "edited": false, "score": 0, "creation_date": 1523527859, "post_id": 49788274, "comment_id": 86601913, "body": "so why does the documentation say it can open an app with extra data :/"}, {"owner": {"reputation": 23, "user_id": 9633263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Kong", "link": "https://stackoverflow.com/users/9633263/kong"}, "edited": false, "score": 0, "creation_date": 1523528647, "post_id": 49788274, "comment_id": 86602425, "body": "Thanks this seems to work perfect hopefully they merge it"}, {"owner": {"reputation": 1807, "user_id": 3542546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5cdc2fcfe1a258926d21c90bc956660?s=128&d=identicon&r=PG", "display_name": "Stackia", "link": "https://stackoverflow.com/users/3542546/stackia"}, "reply_to_user": {"reputation": 23, "user_id": 9633263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Kong", "link": "https://stackoverflow.com/users/9633263/kong"}, "edited": false, "score": 0, "creation_date": 1523534073, "post_id": 49788274, "comment_id": 86605947, "body": "<code>data</code> and <code>extras</code> are two different prop of intent. Currently openApp only set <code>extras</code>, not <code>data</code>."}], "tags": [], "owner": {"reputation": 1807, "user_id": 3542546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5cdc2fcfe1a258926d21c90bc956660?s=128&d=identicon&r=PG", "display_name": "Stackia", "link": "https://stackoverflow.com/users/3542546/stackia"}, "is_accepted": true, "score": 1, "last_activity_date": 1523508956, "creation_date": 1523508956, "answer_id": 49788274, "question_id": 49785966, "link": "https://stackoverflow.com/questions/49785966/react-native-opening-url-in-mx-video-player-with-intent/49788274#49788274", "title": "React-Native Opening Url in MX Video Player with Intent", "body": "<p><code>react-native-send-intent</code> currently doesn't support opening app with intent data. <a href=\"https://github.com/lucasferreira/react-native-send-intent/pull/60\" rel=\"nofollow noreferrer\">This PR</a> gives a solution and includes sample codes in README.md to open MX Player.</p>\n"}], "owner": {"reputation": 23, "user_id": 9633263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Kong", "link": "https://stackoverflow.com/users/9633263/kong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 804, "favorite_count": 0, "accepted_answer_id": 49788274, "answer_count": 1, "score": 2, "last_activity_date": 1523511610, "creation_date": 1523490613, "last_edit_date": 1523511610, "question_id": 49785966, "link": "https://stackoverflow.com/questions/49785966/react-native-opening-url-in-mx-video-player-with-intent", "title": "React-Native Opening Url in MX Video Player with Intent", "body": "<p>I am trying to open live stream from my webcams website in Mx Player via React-native I have found a good option:</p>\n\n<blockquote>\n  <p>react-native-send-intent</p>\n</blockquote>\n\n<p>In my code, I am using this: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  PlayStream (Stream) {\r\n    var SendIntentAndroid = require('react-native-send-intent');\r\n    SendIntentAndroid.openApp('com.mxtech.videoplayer.ad', {'com.mxtech.videoplayer.ad':Stream});\r\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>But this opens the Mx Video Player App without playing the stream. The intent documentation from MX PLAYER can be found here : <a href=\"https://sites.google.com/site/mxvpen/api\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n\n<p>I have tried changing the code to:</p>\n\n<pre><code>'data': Stream and 'videoUri': Stream\n</code></pre>\n\n<p>but none of these seem to work, has anyone tried to do this in react-native? \nI already have the rest of my app working fine apart from this intent to open the stream.</p>\n"}, {"tags": ["javascript", "ajax", "autocomplete"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1523490476, "post_id": 49785937, "comment_id": 86587279, "body": "Why don&#39;t you run that code after it exists?"}, {"owner": {"reputation": 1947, "user_id": 2848541, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/602602914/picture?type=large", "display_name": "Daniel Williams", "link": "https://stackoverflow.com/users/2848541/daniel-williams"}, "reply_to_user": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1523490525, "post_id": 49785937, "comment_id": 86587292, "body": "Yes that&#39;s what I&#39;m not sure how to do."}, {"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1523490577, "post_id": 49785937, "comment_id": 86587302, "body": "That depends on how you create it."}], "answers": [{"tags": [], "owner": {"reputation": 4443, "user_id": 1237135, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HXf7n.jpg?s=128&g=1", "display_name": "Jim W says reinstate Monica", "link": "https://stackoverflow.com/users/1237135/jim-w-says-reinstate-monica"}, "is_accepted": true, "score": 0, "last_activity_date": 1523492080, "creation_date": 1523492080, "answer_id": 49786122, "question_id": 49785937, "link": "https://stackoverflow.com/questions/49785937/running-google-auto-complete-on-ajax-content/49786122#49786122", "title": "Running Google auto-complete on AJAX content", "body": "<p>The initAutocomplete function is a callback specified in the Google Maps script URL (as a GET param)</p>\n\n<p>You can do this</p>\n\n<pre><code>function initAutocomplete() {\n  var el = document.getElementById('autocomplete');\n  if(el!=null){\n    autocomplete = new google.maps.places.Autocomplete(el,options);\n    autocomplete.addListener('place_changed', fillInAddress);\n  }\n}\n</code></pre>\n\n<p>That means it just won't do anything if the element hasn't been created yet, so you will then need to call initAutocomplete after your AJAX call that creates the element.</p>\n"}], "owner": {"reputation": 1947, "user_id": 2848541, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/602602914/picture?type=large", "display_name": "Daniel Williams", "link": "https://stackoverflow.com/users/2848541/daniel-williams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 49786122, "answer_count": 1, "score": 0, "last_activity_date": 1523492080, "creation_date": 1523490336, "question_id": 49785937, "link": "https://stackoverflow.com/questions/49785937/running-google-auto-complete-on-ajax-content", "title": "Running Google auto-complete on AJAX content", "body": "<p>My website loads all its content via AJAX, and that includes the address form I am using Google's auto-complete for. The problem is that Google's demo code initiates the listener on input field, even if it doesn't yet exist, which is the case with AJAX.</p>\n\n<p>What I can't figure out is how to transfer the listener event to the actual <code>autocomplete</code> form input with perhaps <code>onkeyup</code>.</p>\n\n<p>Excuse my crude AJAX substitute in my code example!</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var placeSearch, autocomplete;\r\n  \r\nvar componentForm = {\r\n  route: 'long_name'\r\n};\r\n      \r\nvar options = {\r\n  types: ['geocode'],\r\n  componentRestrictions: {country: \"us\"}\r\n};\r\n\r\nfunction initAutocomplete() {\r\n  autocomplete = new google.maps.places.Autocomplete((document.getElementById('autocomplete')),options);\r\n  autocomplete.addListener('place_changed', fillInAddress);\r\n}\r\n\r\nfunction fillInAddress() {\r\n  var place = autocomplete.getPlace();\r\n  for (var component in componentForm) {\r\n    document.getElementById(component).value = '';\r\n    document.getElementById(component).disabled = false;\r\n  }\r\n  for (var i = 0; i &lt; place.address_components.length; i++) {\r\n    var addressType = place.address_components[i].types[0];\r\n    if (componentForm[addressType]) {\r\n      var val = place.address_components[i][componentForm[addressType]];\r\n      document.getElementById(addressType).value = val;\r\n    }\r\n  }\r\n}\r\n\r\nfunction geolocate() {\r\n  if (navigator.geolocation) {\r\n    navigator.geolocation.getCurrentPosition(function(position) {\r\n      var geolocation = {\r\n        lat: position.coords.latitude,\r\n        lng: position.coords.longitude\r\n      };\r\n      var circle = new google.maps.Circle({\r\n        center: geolocation,\r\n        radius: position.coords.accuracy\r\n      });\r\n      autocomplete.setBounds(circle.getBounds());\r\n    });\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"ajax\"&gt;&lt;/div&gt;\r\n\r\n&lt;a href='#' onclick='document.getElementById(\"ajax\").innerHTML=\"&lt;input class=\\\"form-control\\\" id=\\\"autocomplete\\\" placeholder=\\\"Enter your address...\\\" onFocus=\\\"geolocate()\\\" type=\\\"text\\\"&gt;&lt;label for=\\\"route\\\"&gt;&lt;/label&gt;&lt;input type=\\\"text\\\" id=\\\"route\\\" disabled=\\\"true\\\"&gt;\";'&gt;click me&lt;/a&gt;\r\n\r\n&lt;script src=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyAUn3BBDhG1bXZckXyx6f2E2NSOhasl6FY&amp;libraries=places&amp;callback=initAutocomplete\" async defer&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "fetch-api"], "comments": [{"owner": {"reputation": 29842, "user_id": 1641941, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Q8zet.png?s=128&g=1", "display_name": "HMR", "link": "https://stackoverflow.com/users/1641941/hmr"}, "edited": false, "score": 0, "creation_date": 1523506734, "post_id": 49785911, "comment_id": 86590842, "body": "Maybe <code>.text()</code> cannot throw but <code>fetch(&#39;&#47;my-api-endpoint&#47;&#39;, options)</code> can and you&#39;re assuming in your catch that only <code>.text</code> throws. You put the catch after 2 promises: <code>fetch(...)</code> and <code>response.text()</code>"}, {"owner": {"reputation": 1172, "user_id": 195068, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/996060831457f788fe2deb57023064f7?s=128&d=identicon&r=PG", "display_name": "Dwight", "link": "https://stackoverflow.com/users/195068/dwight"}, "reply_to_user": {"reputation": 29842, "user_id": 1641941, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Q8zet.png?s=128&g=1", "display_name": "HMR", "link": "https://stackoverflow.com/users/1641941/hmr"}, "edited": false, "score": 0, "creation_date": 1523514530, "post_id": 49785911, "comment_id": 86593771, "body": "@HMR Thanks for responding. Yep, fetch can throw. That&#39;s why I put the comment &quot;Assume we get here and fetch didn&#39;t fail before this point&quot;. If we get to that point, then we know that fetch didn&#39;t throw. My codebase accounts for the fact that fetch can throw already, but this was a question about the text() function."}], "answers": [{"comments": [{"owner": {"reputation": 1172, "user_id": 195068, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/996060831457f788fe2deb57023064f7?s=128&d=identicon&r=PG", "display_name": "Dwight", "link": "https://stackoverflow.com/users/195068/dwight"}, "edited": false, "score": 0, "creation_date": 1523514422, "post_id": 49786130, "comment_id": 86593716, "body": "Thanks for the confirmation."}], "tags": [], "owner": {"reputation": 14002, "user_id": 248058, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d9c8aa0295aeb996aa89843ce513643d?s=128&d=identicon&r=PG", "display_name": "Knu", "link": "https://stackoverflow.com/users/248058/knu"}, "is_accepted": true, "score": 4, "last_activity_date": 1545519687, "last_edit_date": 1545519687, "creation_date": 1523492124, "answer_id": 49786130, "question_id": 49785911, "link": "https://stackoverflow.com/questions/49785911/is-it-possible-to-cause-a-fetchs-text-function-to-throw/49786130#49786130", "title": "Is it possible to cause a fetch&#39;s text() function to throw?", "body": "<blockquote>\n  <p>Is it possible to cause a fetch's text() function to throw?</p>\n</blockquote>\n\n<p><del>It's not possible because <code>text</code> runs a <a href=\"https://encoding.spec.whatwg.org/#replacement-decoder\" rel=\"nofollow noreferrer\">replacement mode decoder</a>; furthermore you cannot switch the <a href=\"https://encoding.spec.whatwg.org/#error-mode\" rel=\"nofollow noreferrer\">error mode</a> of the decoder to <code>fatal</code>.</del></p>\n\n<p><del><a href=\"https://github.com/whatwg/fetch/commits?author=yutakahirano\" rel=\"nofollow noreferrer\">yutakahirano</a> confirms it in <a href=\"https://github.com/w3c/ServiceWorker/issues/452#issuecomment-72635225\" rel=\"nofollow noreferrer\">this comment</a>.</del></p>\n\n<p><code>text</code> may throw</p>\n\n<ul>\n<li>if its request is aborted between the completion and the consumption</li>\n<li>if the Content-Encoding response header doesn't match the corresponding entity-body</li>\n</ul>\n"}], "owner": {"reputation": 1172, "user_id": 195068, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/996060831457f788fe2deb57023064f7?s=128&d=identicon&r=PG", "display_name": "Dwight", "link": "https://stackoverflow.com/users/195068/dwight"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 0, "accepted_answer_id": 49786130, "answer_count": 1, "score": 4, "last_activity_date": 1545519687, "creation_date": 1523490100, "last_edit_date": 1523490633, "question_id": 49785911, "link": "https://stackoverflow.com/questions/49785911/is-it-possible-to-cause-a-fetchs-text-function-to-throw", "title": "Is it possible to cause a fetch&#39;s text() function to throw?", "body": "<p>Using the fetch API in modern browsers (or a <a href=\"https://github.com/bitinn/node-fetch\" rel=\"nofollow noreferrer\">node polyfill</a>), is it possible to generate a scenario in which calling text() on the Response's body could throw?</p>\n\n<p>For the unfamiliar, calling fetch returns a Promise. That promise can then be operated on in sequential then() callbacks. Generally, one will convert the Response's body to either JSON or plain text using the .json() or .text() functions, respectively.</p>\n\n<p>The json() function can throw simply by returning something that cannot be parsed as JSON. Doing so will cause .json() to throw in the same way that JSON.parse() does. However, I've been unable to find a scenario in which .text() can throw.</p>\n\n<p>My cursory examination of the Fetch Spec didn't reveal a way to cause it to throw, though it also didn't mention that .json() could throw either.</p>\n\n<p>Here's some example code that would illustrate the scenario:</p>\n\n<pre><code>const options = {\n    method: 'GET',\n    credentials: 'same-origin',\n    headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n    }\n};\n\nfetch('/my-api-endpoint/', options)\n    .then((response) =&gt; {\n        // Assume we get here and fetch didn't fail before this point\n        return response.text();\n    })\n    .catch((e) =&gt; {\n        // How do we get here? Is it possible?\n        console.log('text() threw');\n        console.log(e);\n    }).then((text) =&gt; {\n        // We don't want to get here.\n        console.log(text);\n    });\n</code></pre>\n\n<p>Resources</p>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Body/text\" rel=\"nofollow noreferrer\">.text() on MDN</a></li>\n<li><a href=\"https://fetch.spec.whatwg.org/\" rel=\"nofollow noreferrer\">Fetch Spec</a></li>\n</ul>\n\n<p>Things that haven't worked:</p>\n\n<ul>\n<li>Sending back JSON as an object specifically - text() converts it to <code>'[object Object]'</code></li>\n<li>Sending back JSON normally - text() returns the JSON string as a string (same as with invalid JSON or non-JSON strings)</li>\n<li>Sending back null or undefined - text() returns empty string</li>\n<li>Constructing a Response artificially and specifying the body value to be null or undefined - text() returns empty string</li>\n</ul>\n"}, {"tags": ["javascript", "bots", "discord", "discord.js", "object-construction"], "comments": [{"owner": {"reputation": 1778, "user_id": 2880747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9vDLF.jpg?s=128&g=1", "display_name": "WilomGfx", "link": "https://stackoverflow.com/users/2880747/wilomgfx"}, "edited": false, "score": 0, "creation_date": 1523490879, "post_id": 49785907, "comment_id": 86587379, "body": "Not really sure what you are trying to do ? having the constructor being named what ever <code>msg.author.username</code> is ?"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 9633243, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XqICRrZBsks/AAAAAAAAAAI/AAAAAAAAAQ8/2jW9mLoAZBU/photo.jpg?sz=128", "display_name": "Logan Cook", "link": "https://stackoverflow.com/users/9633243/logan-cook"}, "edited": false, "score": 0, "creation_date": 1523495464, "post_id": 49786045, "comment_id": 86588332, "body": "I want it to store each new person separately, and it seems to just replace the last new person."}, {"owner": {"reputation": 23, "user_id": 9633243, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XqICRrZBsks/AAAAAAAAAAI/AAAAAAAAAQ8/2jW9mLoAZBU/photo.jpg?sz=128", "display_name": "Logan Cook", "link": "https://stackoverflow.com/users/9633243/logan-cook"}, "edited": false, "score": 0, "creation_date": 1523495808, "post_id": 49786045, "comment_id": 86588403, "body": "I prevented it from replacing the recently new student by getting rid of the <code>let storageArr = [];</code> and putting <code>let storageArr = require(&#39;json file&#39;)</code> in instead"}], "tags": [], "owner": {"reputation": 46, "user_id": 2795581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5400f34478e2bd9b3ef4f7981a9192e?s=128&d=identicon&r=PG&f=1", "display_name": "tehduder9", "link": "https://stackoverflow.com/users/2795581/tehduder9"}, "is_accepted": true, "score": 2, "last_activity_date": 1523491278, "creation_date": 1523491278, "answer_id": 49786045, "question_id": 49785907, "link": "https://stackoverflow.com/questions/49785907/how-do-i-name-an-object-inside-of-an-object-constructor-someones-discord-userna/49786045#49786045", "title": "How do I name an Object inside of an Object Constructor someone&#39;s Discord Username?", "body": "<p>You want the variable to be the username? Why? You should be creating a new object out of the person class/object. When you create an object the property will have the name of your user. You should just push the object to a storage data structure. The name of the variable is irrelevant after that point to the actual data.</p>\n\n<pre><code>let storageArr = [];\nlet new_person = new person(msg.author.username, 1, msg.member.highestRole.name);\nstorageArr.push(new_person);\n</code></pre>\n\n<p>It looks like you are new to js, you should read up more on how objects and such work.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/Object_prototypes\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/Object_prototypes</a></p>\n\n<p>And if you want to learn it from the top</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Learn/JavaScript/First_steps\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Learn/JavaScript/First_steps</a></p>\n"}], "owner": {"reputation": 23, "user_id": 9633243, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XqICRrZBsks/AAAAAAAAAAI/AAAAAAAAAQ8/2jW9mLoAZBU/photo.jpg?sz=128", "display_name": "Logan Cook", "link": "https://stackoverflow.com/users/9633243/logan-cook"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 49786045, "answer_count": 1, "score": 1, "last_activity_date": 1523491278, "creation_date": 1523490080, "question_id": 49785907, "link": "https://stackoverflow.com/questions/49785907/how-do-i-name-an-object-inside-of-an-object-constructor-someones-discord-userna", "title": "How do I name an Object inside of an Object Constructor someone&#39;s Discord Username?", "body": "<p>I am trying to create an object constructor in a JSON file for Discord. The large constructor is named \"person\" and I want the objects inside of that to be the Discord Message Author's name, but I can't name the variable \"msg.author.username\". What should I do?</p>\n\n<pre><code>function person(name, violations, role) {\n  this.name = name;\n  this.violations = violations;\n  this.highestRole = role;\n}\nvar (msg.author.username) = new person(msg.author.username, 1, \nmsg.member.highestRole.name)\n</code></pre>\n"}, {"tags": ["javascript", "html", "node.js", "express", "ejs"], "comments": [{"owner": {"reputation": 2586, "user_id": 3548468, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/U5OZO.png?s=128&g=1", "display_name": "kkesley", "link": "https://stackoverflow.com/users/3548468/kkesley"}, "edited": false, "score": 0, "creation_date": 1523490781, "post_id": 49785890, "comment_id": 86587359, "body": "where&#39;s your js file located? can you perhaps try <code>..&#47;public&#47;files&#47;CLPs&#47;minor_CLP.pdf</code> instead (assuming it&#39;s in app folder)?"}, {"owner": {"reputation": 103, "user_id": 8588796, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210454551536049/picture?type=large", "display_name": "Blake Lewis", "link": "https://stackoverflow.com/users/8588796/blake-lewis"}, "reply_to_user": {"reputation": 2586, "user_id": 3548468, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/U5OZO.png?s=128&g=1", "display_name": "kkesley", "link": "https://stackoverflow.com/users/3548468/kkesley"}, "edited": false, "score": 0, "creation_date": 1523491161, "post_id": 49785890, "comment_id": 86587451, "body": "@KendrickKesley Yes, my js file is located in the app folder. I get the same error when I try <code>..&#47;public&#47;files&#47;CLPs&#47;</code>"}, {"owner": {"reputation": 2586, "user_id": 3548468, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/U5OZO.png?s=128&g=1", "display_name": "kkesley", "link": "https://stackoverflow.com/users/3548468/kkesley"}, "edited": false, "score": 0, "creation_date": 1523492072, "post_id": 49785890, "comment_id": 86587666, "body": "What if you upload the files without any directory? Does it work? e.g. just minor_CLP.pdf"}, {"owner": {"reputation": 103, "user_id": 8588796, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210454551536049/picture?type=large", "display_name": "Blake Lewis", "link": "https://stackoverflow.com/users/8588796/blake-lewis"}, "reply_to_user": {"reputation": 2586, "user_id": 3548468, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/U5OZO.png?s=128&g=1", "display_name": "kkesley", "link": "https://stackoverflow.com/users/3548468/kkesley"}, "edited": false, "score": 0, "creation_date": 1523506778, "post_id": 49785890, "comment_id": 86590853, "body": "@KendrickKesley when I try <code>clpFile.mv(&#39;&#47;&#39; + clpName, function(err) </code> I get this error message: <code>Error: EACCES: permission denied, open &#39;&#47;minor_CLP.pdf&#39;</code>"}, {"owner": {"reputation": 2586, "user_id": 3548468, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/U5OZO.png?s=128&g=1", "display_name": "kkesley", "link": "https://stackoverflow.com/users/3548468/kkesley"}, "edited": false, "score": 0, "creation_date": 1523521652, "post_id": 49785890, "comment_id": 86597696, "body": "hmmm what if you omit the / ? so it will be in the same directory as your code"}, {"owner": {"reputation": 103, "user_id": 8588796, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210454551536049/picture?type=large", "display_name": "Blake Lewis", "link": "https://stackoverflow.com/users/8588796/blake-lewis"}, "reply_to_user": {"reputation": 2586, "user_id": 3548468, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/U5OZO.png?s=128&g=1", "display_name": "kkesley", "link": "https://stackoverflow.com/users/3548468/kkesley"}, "edited": false, "score": 0, "creation_date": 1523564525, "post_id": 49785890, "comment_id": 86625326, "body": "@KendrickKesley When I try <code>clpFile.mv(&#39;&#39; + clpName, function(err)</code>, it moves the file to the main directory of my project. So it is just in my main project folder. I also want to rename the file to something I can query later, which I thought I was doing that with clpName, but the file is just saved as whatever name it is uploaded as."}, {"owner": {"reputation": 2586, "user_id": 3548468, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/U5OZO.png?s=128&g=1", "display_name": "kkesley", "link": "https://stackoverflow.com/users/3548468/kkesley"}, "edited": false, "score": 0, "creation_date": 1523583130, "post_id": 49785890, "comment_id": 86630962, "body": "Hm... can you show me the location of your js code? preferably using the hierarchy picture as you&#39;ve shown the CLPs folder in your question"}, {"owner": {"reputation": 103, "user_id": 8588796, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210454551536049/picture?type=large", "display_name": "Blake Lewis", "link": "https://stackoverflow.com/users/8588796/blake-lewis"}, "reply_to_user": {"reputation": 2586, "user_id": 3548468, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/U5OZO.png?s=128&g=1", "display_name": "kkesley", "link": "https://stackoverflow.com/users/3548468/kkesley"}, "edited": false, "score": 0, "creation_date": 1523597164, "post_id": 49785890, "comment_id": 86634273, "body": "@KendrickKesley I edited the post to show an updated project directory. You can see where <code>tickets.pdf</code> was uploaded as well as the location of my routes.js file with all of my GET/POST functions. I also edited to add my code from my server.js file. I set an <code>express.static</code> directory for my images, so maybe this is affecting it?"}, {"owner": {"reputation": 2586, "user_id": 3548468, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/U5OZO.png?s=128&g=1", "display_name": "kkesley", "link": "https://stackoverflow.com/users/3548468/kkesley"}, "edited": false, "score": 1, "creation_date": 1523597959, "post_id": 49785890, "comment_id": 86634517, "body": "ah! your app is on the root folder! try using <code>clpFile.mv(&#39;public&#47;files&#47;CLPs&#47;&#39; + clpName, function(err)</code>"}, {"owner": {"reputation": 103, "user_id": 8588796, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210454551536049/picture?type=large", "display_name": "Blake Lewis", "link": "https://stackoverflow.com/users/8588796/blake-lewis"}, "reply_to_user": {"reputation": 2586, "user_id": 3548468, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/U5OZO.png?s=128&g=1", "display_name": "kkesley", "link": "https://stackoverflow.com/users/3548468/kkesley"}, "edited": false, "score": 0, "creation_date": 1523598946, "post_id": 49785890, "comment_id": 86634877, "body": "@KendrickKesley that worked perfectly! Thank you!"}, {"owner": {"reputation": 2586, "user_id": 3548468, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/U5OZO.png?s=128&g=1", "display_name": "kkesley", "link": "https://stackoverflow.com/users/3548468/kkesley"}, "edited": false, "score": 1, "creation_date": 1523599110, "post_id": 49785890, "comment_id": 86634936, "body": "not a problem! I provided the answer in case anyone has the same problem"}], "answers": [{"tags": [], "owner": {"reputation": 2586, "user_id": 3548468, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/U5OZO.png?s=128&g=1", "display_name": "kkesley", "link": "https://stackoverflow.com/users/3548468/kkesley"}, "is_accepted": true, "score": 2, "last_activity_date": 1523599068, "creation_date": 1523599068, "answer_id": 49810210, "question_id": 49785890, "link": "https://stackoverflow.com/questions/49785890/no-such-file-or-directory-error-when-uploading-a-file-using-express-fileupload/49810210#49810210", "title": "No such file or directory error when uploading a file using Express-fileupload - Node.js", "body": "<p>Because the path is using / in the beginning, it searches for the root path of that folder which is not the project's folder itself.</p>\n\n<p>because the script is in the root folder of the project, the correct path should be <code>'public/files/CLPs/'</code></p>\n"}], "owner": {"reputation": 103, "user_id": 8588796, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210454551536049/picture?type=large", "display_name": "Blake Lewis", "link": "https://stackoverflow.com/users/8588796/blake-lewis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1631, "favorite_count": 0, "accepted_answer_id": 49810210, "answer_count": 1, "score": 1, "last_activity_date": 1523599068, "creation_date": 1523489961, "last_edit_date": 1523597076, "question_id": 49785890, "link": "https://stackoverflow.com/questions/49785890/no-such-file-or-directory-error-when-uploading-a-file-using-express-fileupload", "title": "No such file or directory error when uploading a file using Express-fileupload - Node.js", "body": "<p>I am currently trying to upload a pdf file, store this file in my directory under a name I can query, and store this name in an SQL table. I am using Express-fileupload, and I am getting the file, but when I try to move the file using <code>.mv</code> I get an <code>Error: ENOENT: no such file or directory, open '/public/files/CLPs/minor_CLP.pdf'</code> error. Here is the code for my post function:</p>\n\n<pre><code>app.post('/uploadCLP', isLoggedIn, function(req, res) {\n    var communityID = req.user.communityID;\n\n    console.log(req.files);\n\n    var clpFile = req.files.clpFile;\n    var clpName = communityID + \"_CLP.pdf\";\n\n    clpFile.mv('/public/files/CLPs/' + clpName, function(err) {\n        if(err)\n            return console.log(err);\n    });\n\n    var updateQuery = (\"UPDATE Community SET clpFile = ? WHERE communityID = ?\");\n    connection.query(updateQuery, [clpName, communityID], function(err, rows) {\n        if(err) throw err;\n        res.redirect(302, '/proposal');\n    });\n});\n</code></pre>\n\n<p>And here is the form from my EJS file where the function is called:</p>\n\n<pre><code>&lt;div class=\"well\"&gt;\n    &lt;form action=\"/uploadCLP\" method=\"post\" enctype=\"multipart/form-data\"&gt;\n        &lt;div class=\"form-group\"&gt;\n            &lt;label&gt;Community Learning Plan&lt;/label&gt;\n            &lt;p&gt;Only upload Community Learning Plans in PDF format.&lt;/p&gt;\n            &lt;input type=\"file\" accept=\".pdf\" class=\"form-control\" name=\"clpFile\"&gt;\n        &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Edited to show my server.js file as well:</p>\n\n<pre><code>// server.js\n\n// get all the tools we need\nvar express  = require('express');\nvar session  = require('express-session');\nvar favicon = require('express-favicon');\nvar cookieParser = require('cookie-parser');\nvar bodyParser = require('body-parser');\nvar morgan = require('morgan');\n\nvar upload = require('express-fileupload');\nvar app      = express();\nvar port     = process.env.PORT || 1848;\n\nvar passport = require('passport');\nvar flash    = require('connect-flash');\n\n\nrequire('./config/passport')(passport); // pass passport for configuration\n\napp.use('/public', express.static('public'));\n\n// set up our express application\napp.use(morgan('dev')); // log every request to the console\napp.use(cookieParser()); // read cookies (needed for auth)\napp.use(bodyParser.urlencoded({\n    extended: true\n}));\napp.use(bodyParser.json());\n\napp.set('view engine', 'ejs'); // set up ejs for templating\napp.use(upload());\n\n// required for passport\napp.use(session({\n    secret: 'vidyapathaisalwaysrunning',\n    resave: true,\n    saveUninitialized: true\n } )); // session secret\n\napp.use(passport.initialize());\napp.use(passport.session()); // persistent login sessions\napp.use(flash()); // use connect-flash for flash messages stored in session\n\n\nrequire('./app/routes.js')(app, passport); \n\napp.listen(port);\nconsole.log('Server running on port ' + port);\n</code></pre>\n\n<p>Additionally, you can see my project directory here:</p>\n\n<p><a href=\"https://i.stack.imgur.com/BYVqQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BYVqQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm not sure if the problem is with how I'm setting the directory for the file to save in or if the problem is I'm trying to save the file under a different name. Any help or tips would be much appreciated! :)</p>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"comments": [{"owner": {"reputation": 12017, "user_id": 5005177, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/24654adb38f30006fb2d3bd07dd6242b?s=128&d=identicon&r=PG&f=1", "display_name": "trixn", "link": "https://stackoverflow.com/users/5005177/trixn"}, "edited": false, "score": 1, "creation_date": 1523490891, "post_id": 49785972, "comment_id": 86587383, "body": "This is the way to do it but maybe one addition: When rendering multiple siblings of the same type you should add a unique <code>key</code> prop to each element. Here this would be the <code>id</code>."}, {"owner": {"reputation": 7107, "user_id": 5496808, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/XXJOv.png?s=128&g=1", "display_name": "Jayce444", "link": "https://stackoverflow.com/users/5496808/jayce444"}, "reply_to_user": {"reputation": 12017, "user_id": 5005177, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/24654adb38f30006fb2d3bd07dd6242b?s=128&d=identicon&r=PG&f=1", "display_name": "trixn", "link": "https://stackoverflow.com/users/5005177/trixn"}, "edited": false, "score": 0, "creation_date": 1523490997, "post_id": 49785972, "comment_id": 86587407, "body": "Correct, added."}], "tags": [], "owner": {"reputation": 7107, "user_id": 5496808, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/XXJOv.png?s=128&g=1", "display_name": "Jayce444", "link": "https://stackoverflow.com/users/5496808/jayce444"}, "is_accepted": true, "score": 4, "last_activity_date": 1523491714, "last_edit_date": 1523491714, "creation_date": 1523490662, "answer_id": 49785972, "question_id": 49785883, "link": "https://stackoverflow.com/questions/49785883/remove-class-from-all-other-elements-when-adding-class/49785972#49785972", "title": "remove class from all other elements when adding class", "body": "<p>Might be easier to organise list elements into an object and build them dynamically. Then add class as a property. So in your constructor:</p>\n\n<pre><code>this.state = {\n    items: [\n        {id:\"discovery\", text:\"Discovery\"},\n        {id:\"financial\", text:\"Financials\"},\n        {id:\"sales_stuff\", text:\"Sales\"}\n    ]\n    ...\n}\n</code></pre>\n\n<p>Then in your render</p>\n\n<pre><code>...\n&lt;ul&gt;\n    {\n        this.state.items.map(item=&gt;(\n            &lt;li id={item.id} onClick={()=&gt;this.activateGroup(item.id)} key={item.id}\n              className={this.state.activeGroup == item.id &amp;&amp; \"active\"}&gt;\n                {item.text}\n            &lt;/li&gt;\n        ))\n    }\n&lt;/ul&gt;\n...\n</code></pre>\n\n<p>And then activate group can just be:</p>\n\n<pre><code>activateGroup(id) {\n    this.setState({activeGroup: id});\n    this.props.onNavChange(id);\n}\n</code></pre>\n\n<p>This way you aren't manually adding/removing stuff from elements, and adding new items is easier (just add entry to state object).</p>\n"}], "owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 316, "favorite_count": 0, "accepted_answer_id": 49785972, "answer_count": 1, "score": 0, "last_activity_date": 1523491714, "creation_date": 1523489907, "question_id": 49785883, "link": "https://stackoverflow.com/questions/49785883/remove-class-from-all-other-elements-when-adding-class", "title": "remove class from all other elements when adding class", "body": "<p>I have this component:</p>\n\n<pre><code>class NavTree extends React.Component {\n    // This is the left nav tree that opens each group for editing\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            activeGroup: null // use this value to highlight the nav item in the tree\n        };\n        this.activateGroup = this.activateGroup.bind(this);\n    }\n\n    activateGroup(event) {\n        this.setState({activeGroup: event.target.id});\n        this.props.onNavChange(event.target.id);\n        event.target.className = \"active\"; // this works\n    }\n\n    render() {\n        return (\n            &lt;React.Fragment&gt;\n                &lt;div id=\"nav\" className=\"col-2\"&gt;\n                    &lt;ul&gt;\n                        &lt;li id=\"discovery\" onClick={this.activateGroup}&gt;Discovery&lt;/li&gt;\n                        &lt;li id=\"financial\" onClick={this.activateGroup}&gt;Financials&lt;/li&gt;\n                        &lt;li id=\"sales_stuff\" onClick={this.activateGroup}&gt;Sales Stuff&lt;/li&gt;\n                    &lt;/ul&gt;\n                &lt;/div&gt;\n            &lt;/React.Fragment&gt;\n        );\n    }\n}\n</code></pre>\n\n<p>This code works: <code>event.target.className = \"active\";</code> ... but what is the proper way to remove the class from all other elements besides this one?</p>\n"}, {"tags": ["javascript", "adobe-brackets"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1523489991, "post_id": 49785849, "comment_id": 86587164, "body": "Where is the Javascript located relative to the HTML? If the JS is before the HTML, then the DOM element doesn&#39;t exist yet when you assign the variable."}, {"owner": {"reputation": 77, "user_id": 7139045, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/o2qEQ.png?s=128&g=1", "display_name": "Mustafa Haidari", "link": "https://stackoverflow.com/users/7139045/mustafa-haidari"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1523490439, "post_id": 49785849, "comment_id": 86587272, "body": "@Barmar Yeah thanks. That was the issue. I had the JS before the HTML."}], "owner": {"reputation": 77, "user_id": 7139045, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/o2qEQ.png?s=128&g=1", "display_name": "Mustafa Haidari", "link": "https://stackoverflow.com/users/7139045/mustafa-haidari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 11, "favorite_count": 0, "closed_date": 1523490006, "answer_count": 0, "score": 0, "last_activity_date": 1523489936, "creation_date": 1523489634, "last_edit_date": 1523489936, "question_id": 49785849, "link": "https://stackoverflow.com/questions/49785849/code-editor-error-cannot-read-property-addeventlistener-of-null", "closed_reason": "Duplicate", "title": "Code editor error: cannot read property &#39;addEventListener&#39; of null", "body": "<p>As you can check the following code is running fine in here but when I am running this on \"Brackets\" (code editor), it gives me this error:</p>\n\n<p>\"cannot read property 'addEventListener' of null...\"</p>\n\n<p>And as a result the code doesn't work.</p>\n\n<p>Is there something wrong in the syntax or is it something to do with the code editor?</p>\n\n<p>Thanks.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var dropBtn = document.getElementById('dropdown-btn');\r\n\r\ndropBtn.addEventListener('click',function() {\r\n    var dropContent = document.querySelector('.dropdown-content');\r\n    dropContent.classList.toggle('show');\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#dropdown-btn {\r\n  background-color:orange;\r\n  display:inline-block;\r\n  padding:5px;\r\n  color:white;\r\n  cursor:pointer;\r\n}\r\n.dropdown-content {\r\n  display:none;\r\n}\r\n.show {\r\n  display:block;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"dropdown-btn\"&gt;Button&lt;/div&gt;\r\n\r\n&lt;div class=\"dropdown-content\"&gt;\r\n  &lt;div&gt;link1&lt;/div&gt;\r\n  &lt;div&gt;link1&lt;/div&gt;\r\n  &lt;div&gt;link1&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "reactjs", "google-chrome", "firefox", "web-audio-api"], "comments": [{"owner": {"reputation": 12017, "user_id": 5005177, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/24654adb38f30006fb2d3bd07dd6242b?s=128&d=identicon&r=PG&f=1", "display_name": "trixn", "link": "https://stackoverflow.com/users/5005177/trixn"}, "edited": false, "score": 0, "creation_date": 1523490084, "post_id": 49785836, "comment_id": 86587188, "body": "<code>.&#47;somePath</code> is not a valid path in a browser context. The browser can not directly access the file system. A path relative to the current location would be  just <code>sampleaudio.mp3</code>. An absolute path would be <code>&#47;sampleaudio.mp3</code>."}, {"owner": {"reputation": 521, "user_id": 4001750, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/7f047641530040a6844326d7229ab16d?s=128&d=identicon&r=PG&f=1", "display_name": "Naseef Ummer", "link": "https://stackoverflow.com/users/4001750/naseef-ummer"}, "reply_to_user": {"reputation": 12017, "user_id": 5005177, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/24654adb38f30006fb2d3bd07dd6242b?s=128&d=identicon&r=PG&f=1", "display_name": "trixn", "link": "https://stackoverflow.com/users/5005177/trixn"}, "edited": false, "score": 0, "creation_date": 1523578476, "post_id": 49785836, "comment_id": 86629950, "body": "The problem still persists!"}, {"owner": {"reputation": 12017, "user_id": 5005177, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/24654adb38f30006fb2d3bd07dd6242b?s=128&d=identicon&r=PG&f=1", "display_name": "trixn", "link": "https://stackoverflow.com/users/5005177/trixn"}, "edited": false, "score": 0, "creation_date": 1523578601, "post_id": 49785836, "comment_id": 86629981, "body": "If you enter <code>localhost:3000&#47;sampleaudio.mp3</code> in your browser what do you get? Your server seems to serve a file that contains html. Your player of course can&#39;t handle html. Is it maybe a 404 page?"}, {"owner": {"reputation": 521, "user_id": 4001750, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/7f047641530040a6844326d7229ab16d?s=128&d=identicon&r=PG&f=1", "display_name": "Naseef Ummer", "link": "https://stackoverflow.com/users/4001750/naseef-ummer"}, "reply_to_user": {"reputation": 12017, "user_id": 5005177, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/24654adb38f30006fb2d3bd07dd6242b?s=128&d=identicon&r=PG&f=1", "display_name": "trixn", "link": "https://stackoverflow.com/users/5005177/trixn"}, "edited": false, "score": 0, "creation_date": 1523639575, "post_id": 49785836, "comment_id": 86659564, "body": "Lol.. I just noticed one thing.. I had kept this in a non-public folder in the project! When I shifted the file to public folder both the code and your method of localhost:3000/sampleaudio.mp3 started working! How do we store this in private folder where it is not accessible for the public and play it upon request?  And by the way both ways work: audio_file: &quot;./sampleaudio.mp3&quot; and audio_file: &quot;sampleaudio.mp3&quot;"}], "owner": {"reputation": 521, "user_id": 4001750, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/7f047641530040a6844326d7229ab16d?s=128&d=identicon&r=PG&f=1", "display_name": "Naseef Ummer", "link": "https://stackoverflow.com/users/4001750/naseef-ummer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523489503, "creation_date": 1523489503, "question_id": 49785836, "link": "https://stackoverflow.com/questions/49785836/web-audio-api-not-loading-in-firefox-59", "title": "Web Audio API not loading in Firefox 59", "body": "<p>I have written a code in ReactJS front end to play an audio file. It was working earlier but now I have hit some error and not able to troubleshoot it. I was hoping if somebody can give some advice.</p>\n\n<p>I am using Firefox 59. And below is the error</p>\n\n<p><a href=\"https://i.stack.imgur.com/N215N.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N215N.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>And this is the error I get in the console in Google Chrome 65.0</p>\n\n<p><a href=\"https://i.stack.imgur.com/Bxrpv.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Bxrpv.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Below is the code for playing the audio file with an onClick event.</p>\n\n<pre><code>    // Container component for Audio component\n\nimport AudioComponent from './audio';\nimport React from 'react';\n\nclass AudioPlayer extends React.Component {\n\n    constructor(props){\n        super(props);\n        this.TogglePlay = this.TogglePlay.bind(this);\n        this.state = {\n            playsong: false,\n            audio_file: \"./sampleaudio.mp3\"//this.props.src\n        }\n    }\n\n    audio = new Audio();\n\n    TogglePlay(){\n\n        this.setState((prevState, props)=&gt;({\n            \"playsong\": !prevState.playsong\n        }));\n\n        if (!this.state.playsong) {\n            this.audio.play();\n        }\n        else{\n            this.audio.pause();\n        }\n\n    }\n\n    componentDidMount(){\n\n        this.audio.src = this.state.audio_file;\n        this.audio.crossOrigin=\"anonymous\"\n\n        console.log('I am here 123456');\n        console.log(this.state.audio_file)\n\n\n    }\n\n    render (){\n\n        const props = {\n            onClick:this.TogglePlay\n        };\n\n        return (\n        &lt;div&gt;\n            &lt;AudioComponent {...props} /&gt;\n        &lt;/div&gt;\n        )\n\n    }\n\n}\n\nexport default AudioPlayer;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "ecmascript-6", "lodash"], "comments": [{"owner": {"reputation": 21295, "user_id": 5437671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZlWc.png?s=128&g=1", "display_name": "R. Richards", "link": "https://stackoverflow.com/users/5437671/r-richards"}, "edited": false, "score": 3, "creation_date": 1523489583, "post_id": 49785816, "comment_id": 86587090, "body": "Have you tried anything at all? If so, please share that."}, {"owner": {"reputation": 1805, "user_id": 5865712, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-Y5Rum91W6os/AAAAAAAAAAI/AAAAAAAAAGI/J3TK0_uwiHw/photo.jpg?sz=128", "display_name": "Chris Sharp", "link": "https://stackoverflow.com/users/5865712/chris-sharp"}, "edited": false, "score": 1, "creation_date": 1523490844, "post_id": 49785816, "comment_id": 86587372, "body": "This should help you.  <a href=\"https://stackoverflow.com/questions/921789/how-to-loop-through-plain-javascript-object-with-objects-as-members\" title=\"how to loop through plain javascript object with objects as members\">stackoverflow.com/questions/921789/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5970, "user_id": 8945135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mo1hF.png?s=128&g=1", "display_name": "ibenjelloun", "link": "https://stackoverflow.com/users/8945135/ibenjelloun"}, "is_accepted": false, "score": 0, "last_activity_date": 1523534264, "creation_date": 1523534264, "answer_id": 49795943, "question_id": 49785816, "link": "https://stackoverflow.com/questions/49785816/deep-conditional-merge-of-js-objects/49795943#49795943", "title": "deep, conditional merge of js objects", "body": "<p>Using the rxjs functions would help you in this kind of concerns.</p>\n\n<p>Here is code suggestion to get vehicules with detail using <a href=\"https://www.learnrxjs.io/operators/combination/combinelatest.html\" rel=\"nofollow noreferrer\">combineLatest</a> (code for demonstration, not tested) :</p>\n\n<pre><code>// The first observable pushed value would be\n// and array of the pushed values by the Observables\ncombineLatest(this.getVehiclesDetails(),this.getVehicles())\n.pipe(\n    // Using the returned values, you could transform them to what you want\n    map(([vehicules, details]) =&gt;\n        // Here we transform our vehicules array to vehiculesWithDetail array\n        vehicules.map(vehicule =&gt; {\n            // We get the detail for the processed vehicule\n            const detail = details.find(d =&gt; d.vdId == vehicule.vdId);\n            // We merge the two objects in one\n            return Object.Assign(vehicule, detail);\n        })\n    )\n)\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 7583451, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2n05jf1r760/AAAAAAAAAAI/AAAAAAAABWY/tGQWQ0IdFfY/photo.jpg?sz=128", "display_name": "rennyB", "link": "https://stackoverflow.com/users/7583451/rennyb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 200, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523534264, "creation_date": 1523489267, "last_edit_date": 1523503940, "question_id": 49785816, "link": "https://stackoverflow.com/questions/49785816/deep-conditional-merge-of-js-objects", "title": "deep, conditional merge of js objects", "body": "<p>I'm trying to conditionally merge data from two http request together into a single object. Please consider these objects.</p>\n\n<pre><code>vehicles: [\n{\n  vId: 1,\n  color: 'green',\n  passengers: [\n    {\n      name: 'Joe',\n      age: 22\n    },\n    {\n      name: 'Jack',\n      age: 32\n    }\n  ]\n}\nmore vehicles....]\n\n\n\npDetails: [\n  {\n    vId: 1,\n    detail: tall\n  },\n  {\n    vId: 1,\n    detail: 'fat'\n  },\n  { \n    vId 2,\n    detail: 'sad'\n  } more details.....\n]\n</code></pre>\n\n<p>Where the vIds match between two objects I want to push the pDetails object into a new array in the matching object in the vehicles array. I'm using Angular 5, TS and have added Lodash to my project. I'm getting hung up on how to iterate through nested arrays. I'm new to JS an not yet very familiar with the apis. Is there something in TS, ES6, Angular, or Lodash that might make this easier?</p>\n\n<p>Here's the closest I've gotten so far:</p>\n\n<pre><code>this.getVehicles().subscribe(\n      data =&gt; { v = data.result.objects },\n      err =&gt; console.error(err),\n      () =&gt; Object.keys(v).forEach(key =&gt; {\n      console.log(v[key]); //mapping logic here\n    })\n</code></pre>\n\n<p>This successfully iterates through the vehicles array but what I think I want to do is integrate though each v.passenger object and for each do a search on the pDetails array, copy matches, push to a temp array and then assign to v.passengers. I'm still having trouble figuring out how to iterate each vehicle's passenger array.</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 23816, "user_id": 870729, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/742ce6130a9b48676e57e2c38f8a2764?s=128&d=identicon&r=PG&f=1", "display_name": "random_user_name", "link": "https://stackoverflow.com/users/870729/random-user-name"}, "edited": false, "score": 1, "creation_date": 1523496749, "post_id": 49785800, "comment_id": 86588596, "body": "What is the problem you are experiencing? Do you get errors in your console? Can you build a fiddle / snippet we can use for testing?"}, {"owner": {"reputation": 323, "user_id": 4695798, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/c3f3876fddeeaec8d8376d75df431187?s=128&d=identicon&r=PG&f=1", "display_name": "The Dude man", "link": "https://stackoverflow.com/users/4695798/the-dude-man"}, "reply_to_user": {"reputation": 23816, "user_id": 870729, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/742ce6130a9b48676e57e2c38f8a2764?s=128&d=identicon&r=PG&f=1", "display_name": "random_user_name", "link": "https://stackoverflow.com/users/870729/random-user-name"}, "edited": false, "score": 0, "creation_date": 1523597290, "post_id": 49785800, "comment_id": 86634317, "body": "I appreciate the guidance. I will slow down and stick to one task at a time from now on, and of course, use the console to debug. Thank you cale_b."}], "answers": [{"tags": [], "owner": {"reputation": 23816, "user_id": 870729, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/742ce6130a9b48676e57e2c38f8a2764?s=128&d=identicon&r=PG&f=1", "display_name": "random_user_name", "link": "https://stackoverflow.com/users/870729/random-user-name"}, "is_accepted": true, "score": 2, "last_activity_date": 1523497334, "last_edit_date": 1523497334, "creation_date": 1523497024, "answer_id": 49786674, "question_id": 49785800, "link": "https://stackoverflow.com/questions/49785800/jquery-hide-button-when-scrolling-to-top-of-window/49786674#49786674", "title": "JQuery hide button when scrolling to top of window", "body": "<p>The reason you aren't getting it to work is due to <em>errors in your code</em>.</p>\n\n<p><strong>Tip:</strong> learn to use you're browser's developer console - it is an absolute necessity when developing in javascript.  You had an error - <code>scrollToTop</code> is not a function. (You wanted <code>scrollTop</code>).  That was the majority of the problem.</p>\n\n<p>To answer your questions:</p>\n\n<p>In jQuery, <code>$(this)</code> refers to the element that triggered the event.  Therefore, in your code, <code>$(this)</code> refers to <code>$(window)</code>, and therefore <code>$(this).scrollTop</code> is  measuring the <code>scrollTop</code> position of the window (the same as writing <code>$(window).scrollTop</code>).</p>\n\n<p>Since it's <em>not</em> referencing <code>#scrollToTop</code>, then no, you cannot use <code>$(this).fade</code> to hide the button.  You are doing it properly. </p>\n\n<p>No, you do not need to wrap it in a <code>div</code> and manipulate that.</p>\n\n<p>Additionally, I've added a <a href=\"http://api.jquery.com/trigger/\" rel=\"nofollow noreferrer\">trigger</a> call to ensure the button is hidden on initial load, if the page is within the range where it should be hidden.  (Trigger \"triggers\" the event you are watching - in this case <code>scroll</code> - immediately, so the callback runs, and the button will be hidden / displayed as appropriate).</p>\n\n<p>Here's a <a href=\"https://jsfiddle.net/cale_b/xpvt214o/103902/\" rel=\"nofollow noreferrer\">working jsFiddle</a>, and the relevant code below:</p>\n\n<pre><code>$(window).scroll(function() {\n    // scrollToTop is not a function - changed to scrollTop\n    if ($(this).scrollTop() &gt; 75) {\n        $('#scrollToTop').fadeIn();\n    } else {\n        $('#scrollToTop').fadeOut();\n    }\n}).trigger('scroll');\n</code></pre>\n"}], "owner": {"reputation": 323, "user_id": 4695798, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/c3f3876fddeeaec8d8376d75df431187?s=128&d=identicon&r=PG&f=1", "display_name": "The Dude man", "link": "https://stackoverflow.com/users/4695798/the-dude-man"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 386, "favorite_count": 0, "accepted_answer_id": 49786674, "answer_count": 1, "score": 0, "last_activity_date": 1523497398, "creation_date": 1523489117, "last_edit_date": 1523497398, "question_id": 49785800, "link": "https://stackoverflow.com/questions/49785800/jquery-hide-button-when-scrolling-to-top-of-window", "title": "JQuery hide button when scrolling to top of window", "body": "<p>Do I need to wrap the anchor in a <code>div</code>, and then use the <code>div</code> id for the fade? If <code>$(this)</code> is for <code>#scrollToTop</code> can I somehow use <code>this.fade</code>? I cannot seem to get this simple JQuery to take effect. I would like to hide <code>#scollToTop</code> until scrolled. Should I be wrapping this in a <code>div</code> and manipulating the div?</p>\n\n<pre><code>&lt;a href=\"#\" id=\"scrollToTop\"&gt;&lt;/a&gt;\n\n\n$(window).scroll(function() {\n    if ($(this).scrollToTop() &gt; 75) {\n        $('#scrollToTop').fadeIn();\n    } else {\n        $('#scrollToTop').fadeOut();\n    }\n});\u200b\n</code></pre>\n"}, {"tags": ["javascript", "html", "modularity", "object-literal"], "comments": [{"owner": {"reputation": 33954, "user_id": 49478, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6c42283aeb1521ae0e27bd41b7fdb227?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/49478/anthony"}, "edited": false, "score": 0, "creation_date": 1523489698, "post_id": 49785778, "comment_id": 86587116, "body": "<code>this</code> is a real bastard in JavaScript.  <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 16627, "user_id": 491845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/201b2504912a754150cedcbd2c21c4bc?s=128&d=identicon&r=PG", "display_name": "generalhenry", "link": "https://stackoverflow.com/users/491845/generalhenry"}, "edited": false, "score": 1, "creation_date": 1523490346, "post_id": 49785778, "comment_id": 86587248, "body": "You have access to both.  You assigned your app to a variable named <code>app</code> within your iife which means you can simply reference it as <code>app</code> from any of your functions such as  <code>app.init();</code> just as you use <code>app.main();</code>"}], "owner": {"reputation": 468, "user_id": 6105932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AIY7t.jpg?s=128&g=1", "display_name": "Rajkumar Purushothaman", "link": "https://stackoverflow.com/users/6105932/rajkumar-purushothaman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "closed_date": 1523490350, "answer_count": 0, "score": 2, "last_activity_date": 1523488957, "creation_date": 1523488957, "question_id": 49785778, "link": "https://stackoverflow.com/questions/49785778/modularity-issue-with-javascript", "closed_reason": "Duplicate", "title": "Modularity issue with JavaScript", "body": "<p>I am trying to write JavaScript in a modular way. I have written spagheeti code in the past to get things done. But I wanna do this correctly this time around.. I am trying to write a trivia application.. i am trying to use the object literal pattern.. So, i have list of events that i register.. when i trigger one of the events I need access to the element/button that triggered the click event..i also need access to the correctAnswer defined in the this context..</p>\n\n<p>So, if i bind this while calling validateChoice - \"this\" is giving me the correctAnswer.. if i dont use bind - \"this\" is giving me the button name that was clicked.. i need both of them. how can i do this? any help would be really appreciated..</p>\n\n<p><a href=\"https://codepen.io/rajdhandus/pen/WzWrqJ\" rel=\"nofollow noreferrer\">https://codepen.io/rajdhandus/pen/WzWrqJ</a></p>\n\n<p><strong><em>HTML</em></strong></p>\n\n<pre><code>&lt;body&gt;\n    &lt;div class=\"container\"&gt;\n        &lt;div class=\"row\"&gt;\n            &lt;div class=\"col-xs-12\"&gt;\n                &lt;h1 id=\"game-title\"&gt;Trivia Game&lt;/h1&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"row\"&gt;\n            &lt;div class=\"col-xs-12\"&gt;\n                &lt;h1 id=\"time-remaining\"&gt;Time Remaining: &lt;span id=\"timeInSeconds\"&gt;30&lt;/span&gt; Seconds&lt;/h1&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"row\"&gt;\n            &lt;div class=\"col-xs-12\"&gt;\n                &lt;h1 id=\"questions\"&gt;&lt;/h1&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"row\"&gt;\n            &lt;div class=\"col-xs-12\"&gt;\n                &lt;h1 id=\"choice-1\" class=\"options\"&gt;Option 1&lt;/h1&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"row\"&gt;\n            &lt;div class=\"col-xs-12\"&gt;\n                &lt;h1 id=\"choice-2\" class=\"options\"&gt;Option 2&lt;/h1&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"row\"&gt;\n            &lt;div class=\"col-xs-12\"&gt;\n                &lt;h1 id=\"choice-3\" class=\"options\"&gt;Option 3&lt;/h1&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"row\"&gt;\n            &lt;div class=\"col-xs-12\"&gt;\n                &lt;h1 id=\"choice-4\" class=\"options\"&gt;Option 4&lt;/h1&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"row\"&gt;\n            &lt;div class=\"col-xs-12 text-center\"&gt;\n                &lt;button id=\"nextQtnBtn\" class=\"btn btn-large btn-primary\"&gt;Next Question&lt;/button&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p><strong><em>JS</em></strong></p>\n\n<pre><code>(function(){\nvar app = {\n  questions: [\n    {\n      question: \"What is your favorite color?\",\n      choice1: \"red\",\n      choice2: \"blue\",\n      choice3: \"green\",\n      choice4: \"yello\",\n      correctAnswer: \"choice-1\"\n    }\n  ],\n\n  cacheDom : function() {\n      this.$question = $(\"#questions\");\n      this.$choice1 = $(\"#choice-1\");\n      this.$choice2 = $(\"#choice-2\");\n      this.$choice3 = $(\"#choice-3\");\n      this.$choice4 = $(\"#choice-4\");\n      this.$options = $(\".options\");\n      this.$nextQtnBtn = $(\"#nextQtnBtn\");\n  },\n\n  getRandomQA: function() {\n    var randNum = Math.floor(Math.random() * this.questions.length);\n    return this.questions[randNum];\n  },\n\n  render: function(obj) {\n    this.$question.text(obj.question);\n    this.$choice1.text(obj.choice1);\n    this.$choice2.text(obj.choice2);\n    this.$choice3.text(obj.choice3);\n    this.$choice4.text(obj.choice4);\n    this.correctAnswer =obj.correctAnswer;\n},\n\n  eventRegistry : function () {\n    this.$options.on(\"click\", this.validateChoice);\n    this.$nextQtnBtn.on(\"click\", this.init.bind(this));\n\n  },\n\n\n\n  validateChoice : function() {\n\n    console.log(this);\n\n  },\n\n  init : function(){\n    var qObj = this.getRandomQA();\n    this.render(qObj);\n  },\n\n  main: function() {\n      this.cacheDom();\n      this.init();\n      this.eventRegistry();\n  }\n};\n\napp.main();\n\n})();\n</code></pre>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 10010, "user_id": 1894021, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/JXt2j.jpg?s=128&g=1", "display_name": "Isaac", "link": "https://stackoverflow.com/users/1894021/isaac"}, "edited": false, "score": 0, "creation_date": 1523488983, "post_id": 49785754, "comment_id": 86586908, "body": "have you tried <code>e.preventDefault()</code>?"}, {"owner": {"reputation": 10010, "user_id": 1894021, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/JXt2j.jpg?s=128&g=1", "display_name": "Isaac", "link": "https://stackoverflow.com/users/1894021/isaac"}, "edited": false, "score": 0, "creation_date": 1523489045, "post_id": 49785754, "comment_id": 86586922, "body": "Also, look into <a href=\"http://api.jquery.com/on/\" rel=\"nofollow noreferrer\">api.jquery.com/on</a> for targeting multiple elements from one element"}, {"owner": {"reputation": 3292, "user_id": 4701022, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/CPejW.png?s=128&g=1", "display_name": "Arnold Zahrneinder", "link": "https://stackoverflow.com/users/4701022/arnold-zahrneinder"}, "reply_to_user": {"reputation": 10010, "user_id": 1894021, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/JXt2j.jpg?s=128&g=1", "display_name": "Isaac", "link": "https://stackoverflow.com/users/1894021/isaac"}, "edited": false, "score": 0, "creation_date": 1523489100, "post_id": 49785754, "comment_id": 86586942, "body": "@Isaac: Thanks, worked."}, {"owner": {"reputation": 10010, "user_id": 1894021, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/JXt2j.jpg?s=128&g=1", "display_name": "Isaac", "link": "https://stackoverflow.com/users/1894021/isaac"}, "edited": false, "score": 0, "creation_date": 1523489193, "post_id": 49785754, "comment_id": 86586969, "body": "I upgraded my comment to an answer"}], "answers": [{"tags": [], "owner": {"reputation": 10010, "user_id": 1894021, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/JXt2j.jpg?s=128&g=1", "display_name": "Isaac", "link": "https://stackoverflow.com/users/1894021/isaac"}, "is_accepted": true, "score": 1, "last_activity_date": 1523489174, "creation_date": 1523489174, "answer_id": 49785805, "question_id": 49785754, "link": "https://stackoverflow.com/questions/49785754/scope-mouse-wheel-to-a-particular-div/49785805#49785805", "title": "Scope mouse wheel to a particular div", "body": "<pre><code>$('#q').bind('mousewheel', function(e){\n    e.preventDefault(); // &lt;- stops the mouse wheel event from scrolling the page\n    if(e.originalEvent.wheelDelta/120 &gt; 0) {\n        console.log(\"Up\")\n    }\n    else{\n        console.log(\"Down\")\n    }\n});\n</code></pre>\n"}], "owner": {"reputation": 3292, "user_id": 4701022, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/CPejW.png?s=128&g=1", "display_name": "Arnold Zahrneinder", "link": "https://stackoverflow.com/users/4701022/arnold-zahrneinder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "accepted_answer_id": 49785805, "answer_count": 1, "score": 2, "last_activity_date": 1523494964, "creation_date": 1523488830, "question_id": 49785754, "link": "https://stackoverflow.com/questions/49785754/scope-mouse-wheel-to-a-particular-div", "title": "Scope mouse wheel to a particular div", "body": "<p>I have the following horizontal list, in which I populate many images:</p>\n\n<pre><code>&lt;ul id=\"q\" class=\"list-inline\" style=\"white-space:nowrap; overflow-x:scroll; padding:5px;\"&gt;\n    &lt;li v-for=\"index in (0,20)\" :key=\"index\" style=\"display:inline;\" class=\"list-inline-item\"&gt;&lt;img :src=\"`${$route.params.img}`\" style=\"width:100px; height:100px;\"/&gt;&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>for this list I have created a mouse wheel listener:</p>\n\n<pre><code>$('#q').bind('mousewheel', function(e){\n    if(e.originalEvent.wheelDelta/120 &gt; 0) {\n        console.log(\"Up\")\n    }\n    else{\n        console.log(\"Down\")\n    }\n});\n</code></pre>\n\n<p>How can I scope the mouse wheel to only this container only when the mouse pointer is over this <code>ul</code> element (preventing the actual window from going up and down due to to the mouse wheel behavior) while resuming the actual mouse wheel behavior when it leaves this particular container? </p>\n"}, {"tags": ["javascript", "canvas", "tree", "fractals"], "comments": [{"owner": {"reputation": 165, "user_id": 9464566, "user_type": "registered", "profile_image": "https://graph.facebook.com/1597399980367951/picture?type=large", "display_name": "Ninja", "link": "https://stackoverflow.com/users/9464566/ninja"}, "edited": false, "score": 1, "creation_date": 1523488945, "post_id": 49785734, "comment_id": 86586901, "body": "if you have watched videos from the nature of code (Daniel Shiffman) on forces and vectors, then i think that is the best resource."}], "answers": [{"tags": [], "owner": {"reputation": 41032, "user_id": 3877726, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/C7qq2.png?s=128&g=1", "display_name": "Blindman67", "link": "https://stackoverflow.com/users/3877726/blindman67"}, "is_accepted": true, "score": 2, "last_activity_date": 1523507587, "last_edit_date": 1592644375, "creation_date": 1523505308, "answer_id": 49787754, "question_id": 49785734, "link": "https://stackoverflow.com/questions/49785734/animating-a-fractal-tree-inside-a-javascript-canvas/49787754#49787754", "title": "Animating a fractal tree inside a Javascript Canvas", "body": "<h1>Tree in the wind.</h1>\n<p>The following are some short points re bending a branch in the wind. As the whole solution is complex you will have to get what you can from the code.</p>\n<p>The code includes a seeded random number functions. A random recursive tree renderer, a poor quality random wind generator, all drawn on canvas using an animation loop.</p>\n<h2>Wind</h2>\n<p>To apply wind you need to add a bending force to each branch that is proportional to the angle of the branch to the wind.</p>\n<p>So if you have a branch in direction <code>dir</code> and a wind in the direct <code>wDir</code> the amount of scaling the bending force needs is</p>\n<pre><code>var x = Math.cos(dir);    // get normalize vector for the branch\nvar y = Math.sin(dir);\n\nvar wx = Math.cos(wDir);  // get normalize vector for the wind\nvar wy = Math.sin(wDir);\n\nvar forceScale = x * wy - y * wx;\n</code></pre>\n<p>The length of the branch also effects the amount of force to include that you lengthen the vector of the branch to be proportional to its length</p>\n<pre><code>var x = Math.cos(dir) * length;    // get normalize vector for the branch\nvar y = Math.sin(dir) * length;\n\nvar wx = Math.cos(wDir);  // get normalize vector for the wind\nvar wy = Math.sin(wDir);\n\nvar forceScale = x * wy - y * wx;\n</code></pre>\n<p>Using this method ensures that the branches do not bend into the wind.</p>\n<p>There is also the thickness of the branch, this is a polynomial relationship related to the cross sectional area. This is unknown so is scaled to the max thickness of the tree (an approximation that assumes the tree base can not bend, but the end branches can bend a lot.)</p>\n<p>Then the elastic force of the bent branch will have a force that moves the branch back to its normal position. This acts like a spring and is very much the same as the wind force. As the computational and memory load would start to overwhelm the CPU we can cheat and use the wind to also recoil with a little bit of springiness.</p>\n<h2>And the tree.</h2>\n<p>The tree needs to be random, yet being fractal you don't want to store each branch. So you will also need a seeded random generator that can be reset at the start of each rendering pass. The tree is rendered randomly with each iteration but because the random numbers start at the same seed each time you get the same tree.</p>\n<h2>The example</h2>\n<p>Draws random tree and wind in gusts. Wind is random so tree may not move right away.</p>\n<p>Click tree image to reseed the random seed value for the tree.</p>\n<p>I did not watch the video, but these things are quite standard so the recursive function should not be to far removed from what you may have. I did see the youTube cover image and it looked like the tree had no randomness. To remove randomness set the <code>leng</code>, <code>ang</code>, <code>width</code> min, max to be the same. eg <code>angMin = angMax = 0.4;</code> will remove random branch angles.</p>\n<p>The wind strength will max out to cyclone strength (hurricane for those in the US) to see the max effect.</p>\n<p>There are a zillion magic numbers the most important are as constants with comments.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const ctx = canvas.getContext(\"2d\");\n\n// click function to reseed random tree\ncanvas.addEventListener(\"click\",()=&gt; {\n      treeSeed = Math.random() * 10000 | 0;\n      treeGrow = 0.1; // regrow tree\n});\n\n\n/* Seeded random functions\n   randSeed(int)  int is a seed value\n   randSI()  random integer 0 or 1\n   randSI(max) random integer from  0 &lt;= random &lt; max\n   randSI(min, max) random integer from min &lt;= random &lt; max\n   randS()  like Math.random\n   randS(max) random float 0 &lt;= random &lt; max\n   randS(min, max) random float min &lt;= random &lt; max\n   \n   */\nconst seededRandom = (() =&gt; {\n    var seed = 1;\n    return { max : 2576436549074795, reseed (s) { seed = s }, random ()  { return seed = ((8765432352450986 * seed) + 8507698654323524) % this.max }}\n})();\nconst randSeed = (seed) =&gt; seededRandom.reseed(seed|0);\nconst randSI = (min = 2, max = min + (min = 0)) =&gt; (seededRandom.random() % (max - min)) + min;\nconst randS  = (min = 1, max = min + (min = 0)) =&gt; (seededRandom.random() / seededRandom.max) * (max - min) + min;\n\n\n/* TREE CONSTANTS all angles in radians and lengths/widths are in pixels */\nconst angMin = 0.01;  // branching angle min and max\nconst angMax= 0.6;\nconst lengMin = 0.8;  // length reduction per branch min and max\nconst lengMax = 0.9;\nconst widthMin = 0.6; // width reduction per branch min max\nconst widthMax = 0.8;\nconst trunkMin = 6;  // trunk base width ,min and max\nconst trunkMax = 10;\nconst maxBranches = 200; // max number of branches\n\n\nconst windX = -1;   // wind direction vector\nconst windY = 0;\nconst bendability = 8; // greater than 1. The bigger this number the more the thin branches will bend first\n\n// the canvas height you are scaling up or down to a different sized canvas\nconst windStrength = 0.01 * bendability * ((200 ** 2) / (canvas.height ** 2));  // wind strength\n\n\n// The wind is used to simulate branch spring back the following\n// two number control that. Note that the sum on the two following should\n// be below 1 or the function will oscillate out of control\nconst windBendRectSpeed = 0.01;  // how fast the tree reacts to the wing\nconst windBranchSpring = 0.98;   // the amount and speed of the branch spring back\n\nconst gustProbability = 1/100; // how often there is a gust of wind\n\n// Values trying to have a gusty wind effect\nvar windCycle = 0;\nvar windCycleGust = 0;\nvar windCycleGustTime = 0;\nvar currentWind = 0;\nvar windFollow = 0;\nvar windActual = 0;\n\n\n// The seed value for the tree\nvar treeSeed = Math.random() * 10000 | 0;\n\n// Vars to build tree with\nvar branchCount = 0;\nvar maxTrunk = 0;\nvar treeGrow = 0.01; // this value should not be zero\n\n// Starts a new tree\nfunction drawTree(seed) {\n    branchCount = 0;\n    treeGrow += 0.02;\n    randSeed(seed);\n    maxTrunk = randSI(trunkMin, trunkMax);\n    drawBranch(canvas.width / 2, canvas.height, -Math.PI / 2, canvas.height / 5, maxTrunk);\n}\n\n// Recusive tree\nfunction drawBranch(x, y, dir, leng, width) {\n    branchCount ++;\n    const treeGrowVal = (treeGrow &gt; 1 ? 1 : treeGrow &lt; 0.1 ? 0.1 : treeGrow) ** 2 ;\n    \n    // get wind bending force and turn branch direction\n    const xx = Math.cos(dir) * leng * treeGrowVal;\n    const yy = Math.sin(dir) * leng * treeGrowVal;\n    const windSideWayForce = windX * yy - windY * xx;\n    \n    // change direction by addition based on the wind and scale to \n    // (windStrength * windActual) the wind force\n    // ((1 - width / maxTrunk) ** bendability)  the amount of bending due to branch thickness\n    // windSideWayForce the force depending on the branch angle to the wind\n    dir += (windStrength * windActual) * ((1 - width / maxTrunk) ** bendability) * windSideWayForce;\n    \n    // draw the branch\n    ctx.lineWidth = width;\n    ctx.beginPath();\n    ctx.lineTo(x, y);\n    x += Math.cos(dir) * leng * treeGrowVal;\n    y += Math.sin(dir) * leng * treeGrowVal;\n    ctx.lineTo(x, y);\n    ctx.stroke();\n    \n    \n    \n    // if not to thing, not to short and not to many\n    if (branchCount &lt; maxBranches &amp;&amp; leng &gt; 5 &amp;&amp; width &gt; 1) {\n        // to stop recusive bias (due to branch count limit)\n        // random select direction of first recusive bend\n        const rDir = randSI() ? -1 : 1;\n\n        treeGrow -= 0.2;\n        drawBranch(\n            x,y,\n            dir + randS(angMin, angMax) * rDir, \n            leng * randS(lengMin, lengMax), \n            width * randS(widthMin, widthMax)\n        );\n        // bend next branch the other way\n        drawBranch(\n            x,y,\n            dir + randS(angMin, angMax) * -rDir, \n            leng * randS(lengMin, lengMax), \n            width * randS(widthMin, widthMax)\n        );\n        treeGrow += 0.2;\n    }\n}\n\n// Dont ask this is a quick try at wind gusts \n// Wind needs a spacial component this sim does not include that.\n\nfunction updateWind() {\n    if (Math.random() &lt; gustProbability) {\n        windCycleGustTime = (Math.random() * 10 + 1) | 0;\n    }\n    if (windCycleGustTime &gt; 0) {\n        windCycleGustTime --;\n        windCycleGust += windCycleGustTime/20\n    } else {\n        windCycleGust *= 0.99;\n    }        \n    windCycle += windCycleGust;\n    currentWind = (Math.sin(windCycle/40) * 0.6 + 0.4) ** 2;\n    currentWind = currentWind &lt; 0 ? 0 : currentWind;\n    windFollow += (currentWind - windActual) * windBendRectSpeed;\n    windFollow *= windBranchSpring ;\n    windActual += windFollow;\n}\nrequestAnimationFrame(update);\nfunction update() {\n    ctx.clearRect(0,0,canvas.width,canvas.height);\n    updateWind();\n    drawTree(treeSeed);\n    requestAnimationFrame(update);\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\nfont-family : arial;\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id=\"canvas\" width=\"250\" heigth=\"200\"&gt;&lt;/canvas&gt;\nClick tree to reseed.</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>Update</strong></p>\n<p>I just noticed that the wind and branch length are absolute thus drawing the tree on a larger canvas will create a bending force too great and the branches will bend past the wind vector.</p>\n<p>To scale the sim up either do it via a global scale transform, or reduce the <code>windStrength</code> constant to some smaller value. You will have to play with the value as its a 2nd order polynomial relation. My guess is multiply it with <code>(200 ** 2) / (canvas.height ** 2)</code> where the 200 is the size of the example canvas and the <code>canvas.height</code> is the new canvas size.</p>\n<p>I have added the calculations to the example, but its not perfect so when you scale you will have to change the value <code>windStrength</code> (the first number) down or up if the bending is too far or not enough.</p>\n"}], "owner": {"reputation": 124, "user_id": 5913152, "user_type": "registered", "profile_image": "https://graph.facebook.com/965544953482258/picture?type=large", "display_name": "Markus Lindner", "link": "https://stackoverflow.com/users/5913152/markus-lindner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1027, "favorite_count": 0, "accepted_answer_id": 49787754, "answer_count": 1, "score": 1, "last_activity_date": 1523507587, "creation_date": 1523488660, "question_id": 49785734, "link": "https://stackoverflow.com/questions/49785734/animating-a-fractal-tree-inside-a-javascript-canvas", "title": "Animating a fractal tree inside a Javascript Canvas", "body": "<p>After I saw a video from the Coding Train on youtube about fractal trees, I tried to build one myself. Which worked great and I played with some variables to get different results.</p>\n\n<p>I would love to see the tree moving like it got hit by some wind. I tried different approaches like rotating the branches a little bit or some minor physics implementations but that failed miserably.</p>\n\n<p>So my question is: What would be the best approach to render a fractal tree and give it some sort of \"life\" like little shakes from wind.\nIs there some sort of good reference ?\nDo I need physics ? -> If so where do I have to look ?\nIf not -> How could I fake such an effect?</p>\n\n<p>I am glad about every help I can get.</p>\n\n<p>Source for the idea: <a href=\"https://www.youtube.com/watch?v=0jjeOYMjmDU\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=0jjeOYMjmDU</a></p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 7067, "user_id": 48317, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5d0eb871520d53fd3c49be356b84b0ea?s=128&d=identicon&r=PG", "display_name": "Dror", "link": "https://stackoverflow.com/users/48317/dror"}, "edited": false, "score": 0, "creation_date": 1523488943, "post_id": 49785731, "comment_id": 86586900, "body": "escape the single quote in the value section \\&#39;"}, {"owner": {"reputation": 2140, "user_id": 2068386, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/tEdBw.png?s=128&g=1", "display_name": "A. M. M&#233;rida", "link": "https://stackoverflow.com/users/2068386/a-m-m%c3%a9rida"}, "reply_to_user": {"reputation": 7067, "user_id": 48317, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5d0eb871520d53fd3c49be356b84b0ea?s=128&d=identicon&r=PG", "display_name": "Dror", "link": "https://stackoverflow.com/users/48317/dror"}, "edited": false, "score": 0, "creation_date": 1523489158, "post_id": 49785731, "comment_id": 86586961, "body": "I have created a function doing regex, and it does not work."}, {"owner": {"reputation": 7067, "user_id": 48317, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5d0eb871520d53fd3c49be356b84b0ea?s=128&d=identicon&r=PG", "display_name": "Dror", "link": "https://stackoverflow.com/users/48317/dror"}, "edited": false, "score": 0, "creation_date": 1523489603, "post_id": 49785731, "comment_id": 86587096, "body": "did you try infoCard.text.replace(/&#39;/g, &quot;\\\\&#39;&quot;)? please post your attempt and output from it"}, {"owner": {"reputation": 2140, "user_id": 2068386, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/tEdBw.png?s=128&g=1", "display_name": "A. M. M&#233;rida", "link": "https://stackoverflow.com/users/2068386/a-m-m%c3%a9rida"}, "reply_to_user": {"reputation": 7067, "user_id": 48317, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5d0eb871520d53fd3c49be356b84b0ea?s=128&d=identicon&r=PG", "display_name": "Dror", "link": "https://stackoverflow.com/users/48317/dror"}, "edited": false, "score": 0, "creation_date": 1523490238, "post_id": 49785731, "comment_id": 86587219, "body": "now... the problem is double quotation marks, dont work &quot;.replace()&quot;.  look this: strInputString = vlr.replace(/&#39;/g, &quot;\\\\&#39;&quot;).replace(/&quot;/g, &#39;\\\\&quot;&#39;);"}, {"owner": {"reputation": 2140, "user_id": 2068386, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/tEdBw.png?s=128&g=1", "display_name": "A. M. M&#233;rida", "link": "https://stackoverflow.com/users/2068386/a-m-m%c3%a9rida"}, "reply_to_user": {"reputation": 7067, "user_id": 48317, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5d0eb871520d53fd3c49be356b84b0ea?s=128&d=identicon&r=PG", "display_name": "Dror", "link": "https://stackoverflow.com/users/48317/dror"}, "edited": false, "score": 0, "creation_date": 1523491014, "post_id": 49785731, "comment_id": 86587412, "body": "my solution is this: strInputString = vlr.replace (/ &#39;/ g, &quot;\\\\&#39;&quot;). replace (/ &quot;/ g,&quot; \\ &#39;&quot;);  change double quotes by single quotes. This is good for me."}, {"owner": {"reputation": 12410, "user_id": 5217142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57daeb5f96b7a591e3447d41e59bbc94?s=128&d=identicon&r=PG&f=1", "display_name": "traktor", "link": "https://stackoverflow.com/users/5217142/traktor"}, "edited": false, "score": 1, "creation_date": 1523492257, "post_id": 49785731, "comment_id": 86587700, "body": "From review: I voted to leave this question open because it has two components covered separately in <a href=\"https://stackoverflow.com/questions/15087497/escaping-single-quotes-in-javascript-string-for-javascript-evaluation\">Escaping single quotes in JavaScript string for JavaScript evaluation</a> and <a href=\"https://stackoverflow.com/q/7753448/5217142\">How do I escape quotes in HTML attribute values</a>. @Barmar &#39;s jQuery answer to this question covers both."}], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 2, "last_activity_date": 1523491292, "creation_date": 1523491292, "answer_id": 49786046, "question_id": 49785731, "link": "https://stackoverflow.com/questions/49785731/input-value-formation-with-double-quotation-marks-and-single-quotes/49786046#49786046", "title": "input value formation with double quotation marks and single quotes", "body": "<p>I recommend using the object-based method, then you don't have to worry about special characters in HTML.</p>\n\n<pre><code>$(\"#printCard\").append($(\"&lt;input&gt;\", {\n    type: \"hidden\",\n    name: \"textCard\",\n    value: infoCard.text,\n    id: \"texting\"\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31533, "user_id": 2813224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/602e78d7da7bd6353c8ee51a17826037?s=128&d=identicon&r=PG", "display_name": "zer00ne", "link": "https://stackoverflow.com/users/2813224/zer00ne"}, "is_accepted": true, "score": 2, "last_activity_date": 1523493992, "last_edit_date": 1592644375, "creation_date": 1523492452, "answer_id": 49786171, "question_id": 49785731, "link": "https://stackoverflow.com/questions/49785731/input-value-formation-with-double-quotation-marks-and-single-quotes/49786171#49786171", "title": "input value formation with double quotation marks and single quotes", "body": "<p>If you don't need to support IE use <strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals\" rel=\"nofollow noreferrer\">template literals</a></strong>. <strong>TL</strong> are strings that have an easier syntax and extra properties. Here's a comparison between <strong>TL</strong> and <strong>SL</strong> (<strong>S</strong>tring <strong>L</strong>iteral):</p>\n<h1>Syntax</h1>\n<p><strong>SL:</strong> Wrap strings in double or single quotes. If the content of string has quotes as well, they should either be escaped by being prefixed with a backslash:</p>\n<pre><code>\\&quot; and \\'\n</code></pre>\n<p>OR use <strong><a href=\"https://www.freeformatter.com/html-entities.html\" rel=\"nofollow noreferrer\">HTML entities</a></strong>:</p>\n<ul>\n<li><p><code>&amp;lsquo;</code> or <code>&amp;#145;</code> (<strong>L</strong>eft <strong>S</strong>ingle <strong>QUO</strong>tation mark)</p>\n</li>\n<li><p><code>&amp;rsquo;</code> or <code>&amp;#146;</code> (<strong>R</strong>ight <strong>S</strong>ingle <strong>QUO</strong>tation mark)<sup>\ud83d\udfca</sup></p>\n</li>\n<li><p><code>&amp;ldquo;</code> or <code>&amp;#147;</code> (<strong>L</strong>eft <strong>D</strong>ouble <strong>QUO</strong>tation mark)</p>\n</li>\n<li><p><code>&amp;rdquo;</code> or <code>&amp;#148;</code> (<strong>R</strong>ight <strong>D</strong>ouble <strong>QUO</strong>tation mark)</p>\n</li>\n</ul>\n<p><strong>Note:</strong> These particular quotes represented by HTML entities are the curvy or <em>smart quotes</em> type and can only be used in plain text not code. The quotes used in code are straight, do not confuse them as universally accepted they are as different as a comma is to a period.</p>\n<p><em><strong><a href=\"https://www.unicode.org/versions/Unicode9.0.0/ch06.pdf\" rel=\"nofollow noreferrer\"><sup>\ud83d\udfca</sup> It's ok to use <code>&amp;rsquo;</code> as an apostrophe - Unicode9.0.0, ch06, pg. 276</a></strong></em></p>\n<p><strong>TL:</strong> Wrap strings in backticks, also called grave accent, On a QWERTY keyboard the key is located at the top left corner <kbd>`</kbd>.</p>\n<p><code>`template literal`</code></p>\n<hr>\n<h1>Concatenation vs. Interpolation</h1>\n<p><strong>SL:</strong> A mess of single quotes, double quotes, and pluses:</p>\n<pre><code>var str = '&lt;input id=&quot;'+ID+'&quot; class=&quot;form-control&quot;&gt;';\n</code></pre>\n<p><strong>TL:</strong> Wrap variables <em><strong>and expressions</strong></em> in: <code>${...}</code>:</p>\n<pre><code>var str = `&lt;input id=&quot;${ID}&quot; class=&quot;form-control&quot;&gt;`;\n</code></pre>\n<hr>\n<h1>Demo</h1>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var infoCard = {\n  text: \"that aren&amp;rsquo;t on the battlefield have flash.\"\n};\n\n$(\"#printCard0\").append(`&lt;input type='hidden' name='textCard' value='that aren&amp;rsquo;t on the battlefield have flash.' id='texting0'&gt;`);\n\n\n$(\"#printCard1\").append(`&lt;input type='hidden' name='textCard' value='${infoCard.text}' id='texting1'&gt;`);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;main id='core'&gt;\n\n  &lt;figure id='printCard0'&gt;&lt;/figure&gt;\n\n  &lt;figure id='printCard1'&gt;&lt;/figure&gt;\n\n&lt;/main&gt;\n\n\n\n\n\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 2140, "user_id": 2068386, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/tEdBw.png?s=128&g=1", "display_name": "A. M. M&#233;rida", "link": "https://stackoverflow.com/users/2068386/a-m-m%c3%a9rida"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1475, "favorite_count": 0, "closed_date": 1523520680, "accepted_answer_id": 49786171, "answer_count": 2, "score": 1, "last_activity_date": 1523493992, "creation_date": 1523488631, "last_edit_date": 1523490870, "question_id": 49785731, "link": "https://stackoverflow.com/questions/49785731/input-value-formation-with-double-quotation-marks-and-single-quotes", "closed_reason": "Duplicate", "title": "input value formation with double quotation marks and single quotes", "body": "<p>I have problem in the input \"value\".</p>\n\n<pre><code>$(\"#printCard\").append(\"&lt;input type='hidden' name='textCard' value='that aren't on the battlefield have flash. ' id='texting'&gt;\");\n</code></pre>\n\n<p>or JSON:</p>\n\n<pre><code>$(\"#demo\").append(\"&lt;input type='hidden' name='textCard' value='\"+ infoCard.text +\"' id='texting'&gt;\" );\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>&lt;input name=\"textCard\" value=\"that aren\" t=\"\" on=\"\" the=\"\" battlefield=\"\" have=\"\" flash.=\"\" '=\"\" id=\"texting\" type=\"hidden\"&gt;\n</code></pre>\n\n<p>The problem is double quotation marks and single quotes(<strong>aren't..</strong>).</p>\n\n<p>This example:\n</p>\n\n<pre><code>The two options I have to save, double quotation marks and single quotes.\n</code></pre>\n\n<p>thank you all </p>\n"}, {"tags": ["javascript", "css"], "answers": [{"tags": [], "owner": {"reputation": 387, "user_id": 9111239, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214917599986927/picture?type=large", "display_name": "tito.300", "link": "https://stackoverflow.com/users/9111239/tito-300"}, "is_accepted": false, "score": 1, "last_activity_date": 1523489652, "creation_date": 1523489652, "answer_id": 49785852, "question_id": 49785706, "link": "https://stackoverflow.com/questions/49785706/strange-transition-behavior-for-inline-elements-styles-in-certain-places/49785852#49785852", "title": "Strange transition behavior for inline elements styles in certain places", "body": "<p>I was able to solve my problem just now by applying a little hack. It seems that in some environments (localhost, jsfiddle) the javascript engine is adding the .open class faster than expected and the fact that it is working fine when debugging (slow process) indicated that to me. so I added a <code>setTimeout()</code> to the last piece of code delayed it by 20. this solved my problem and now it works fine on JSfiddle and on my computer. here is the new edited sample that works:</p>\n\n<p><a href=\"https://jsfiddle.net/Lhr0d6cw/14/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/Lhr0d6cw/14/</a></p>\n\n<pre><code>setTimeout(() =&gt; {\n    this.classList.add(\"open\");\n}, 20);\n</code></pre>\n\n<p>I would still like to know if there is a better way of doing this animation if someone would like to share!</p>\n"}], "owner": {"reputation": 387, "user_id": 9111239, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214917599986927/picture?type=large", "display_name": "tito.300", "link": "https://stackoverflow.com/users/9111239/tito-300"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1523489652, "creation_date": 1523488485, "last_edit_date": 1523488787, "question_id": 49785706, "link": "https://stackoverflow.com/questions/49785706/strange-transition-behavior-for-inline-elements-styles-in-certain-places", "title": "Strange transition behavior for inline elements styles in certain places", "body": "<p><strong>This is a jsfiddle example file that replicates the problem:</strong> <a href=\"https://jsfiddle.net/Lhr0d6cw/11/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/Lhr0d6cw/11/</a></p>\n\n<p>I wanted the element (when clicked) to expand for 6seconds from its original position but notice that when you click the red card (or any card), it doesn't start expanding from the originals position it used to be, but rather from the middle, I assume that its because <code>transition</code> of 6s to <code>top</code> and <code>left</code> is not being applied for some reason. </p>\n\n<p>Only places I was able to make it work properly so far are stackoverflow editor below or by inserting a debugger in the code and doing it manually but when using my localhost or jsfiddle it doesn't transition properly. </p>\n\n<p><strong>This is the same example on stackoverflow which works as desired:</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const productCards = document.querySelectorAll(\".products__card\");\r\n\r\nproductCards.forEach(c =&gt; {\r\n  // console.log(\"clicked1\");\r\n  c.addEventListener(\"click\", openCard)\r\n});\r\n\r\nfunction openCard(e) {\r\n\r\n  console.log(\"clicked\");\r\n  console.dir(this);\r\n  let top = this.getBoundingClientRect().top;\r\n  let left = this.getBoundingClientRect().left;\r\n  // this.style.transition = \"top 0.9s, left 0.9s\";\r\n  this.style.top = top + \"px\";\r\n  this.style.left = left + \"px\";\r\n  this.style.position = \"fixed\";\r\n  console.log(`top: ${top}, left: ${left}`);\r\n  // debugger;\r\n  this.classList.add(\"open\");\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.products {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  min-width: 1000px;\r\n  max-width: 1500px;\r\n  margin-bottom: 300px;\r\n}\r\n\r\n.products .products__card {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 150px;\r\n  height: 250px;\r\n  margin-bottom: 30px;\r\n  margin-right: 30px;\r\n  margin-left: 30px;\r\n  background-color: red;\r\n  transform: scale(1);\r\n  /* box-shadow: 3px 7px 55px -10px c(very-light); */\r\n  transition: width 0.9s, height 0.9s, z-index 0.9s, top 6s, left 6s;\r\n}\r\n\r\n.products .products__card.card-1 {\r\n  background-color: red;\r\n}\r\n\r\n.products .products__card.card-2 {\r\n  background-color: blue;\r\n}\r\n\r\n.products .products__card.card-3 {\r\n  background-color: green;\r\n}\r\n\r\n.products .products__card.card-4 {\r\n  background-color: yellow;\r\n}\r\n\r\n.products .products__card.card-5 {\r\n  background-color: pink;\r\n}\r\n\r\n.products .products__card.card-6 {\r\n  background-color: gray;\r\n}\r\n\r\n.products .products__card.open {\r\n  width: 550px;\r\n  height: 800px;\r\n  top: 50% !important;\r\n  left: 50% !important;\r\n  transform: translate(-50%, -50%) !important;\r\n  z-index: 120;\r\n  box-shadow: 0 0 1000px 1000px c(box-overlay);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"products\"&gt;\r\n\r\n  &lt;div class=\"products__card card-1\"&gt;\r\n\r\n  &lt;/div&gt;\r\n  &lt;div class=\"products__card card-2\"&gt;\r\n\r\n  &lt;/div&gt;\r\n  &lt;div class=\"products__card card-3\"&gt;\r\n\r\n  &lt;/div&gt;\r\n  &lt;div class=\"products__card card-4\"&gt;\r\n\r\n  &lt;/div&gt;\r\n  &lt;div class=\"products__card card-5\"&gt;\r\n\r\n  &lt;/div&gt;\r\n  &lt;div class=\"products__card card-6\"&gt;\r\n\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>works when debugging:</strong></p>\n\n<p>The strange thing as mentioned above is that my problem in the browser using localhost is also solved when I insert debugger in the code and manually skip through the last step of adding <code>.open</code> class. If you have the same problem in jsfiddle or your own editor, try adding <code>debugger;</code> before  <code>this.classList.add(\"open\");</code> and then open the console and then click the card and go over the last step manually in the console. you will notice that the card expanded from its original place as desired taking 6s to finish which means the transition was applied in this case. </p>\n\n<p><strong>My questions:</strong></p>\n\n<p>Why is <code>transition</code> for <code>top</code> and <code>left</code> only working in certain environments? is it a browser problem? I'm using the latest chrome. does someone know of a better way to achieve the same results?</p>\n\n<p><strong>code comments:</strong>\n-obviously, 6 seconds is not what I will be using in my code, its used here just to make the transition obvious.</p>\n\n<p>-In my source code, you can see that because I can't transition from <code>position static</code> to <code>position fixed</code> I had to use Javascript to add <code>position fixed</code> style inline to the element before the <code>.open</code> class is added, that way <code>transition</code> can take place properly when <code>.open</code> is added. </p>\n\n<p>-I also added <code>top</code> and <code>left</code> values inline to keep the card in its original place when <code>position: fixed</code> style is applied because as you might know fixed position takes the element out of its flow, so top and left keep it in place.</p>\n\n<p>-I added !important in css <code>.open</code> class because without it I can't override inline css as you might also know.  </p>\n\n<p>Thank you</p>\n"}, {"tags": ["javascript", "mapbox", "mapbox-gl"], "comments": [{"owner": {"reputation": 681, "user_id": 3108415, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DVDxC.jpg?s=128&g=1", "display_name": "geografa", "link": "https://stackoverflow.com/users/3108415/geografa"}, "edited": false, "score": 0, "creation_date": 1523488929, "post_id": 49785669, "comment_id": 86586897, "body": "Are you trying to request the JSON to push the coords into your GeoJSON linestring? Like <code>geojson.features[0].geometry.coordinates.push([x, y]);</code>"}, {"owner": {"reputation": 33, "user_id": 8165633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d07a551f7e7456581b60a8105559005?s=128&d=identicon&r=PG", "display_name": "Serban Lupea", "link": "https://stackoverflow.com/users/8165633/serban-lupea"}, "reply_to_user": {"reputation": 681, "user_id": 3108415, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DVDxC.jpg?s=128&g=1", "display_name": "geografa", "link": "https://stackoverflow.com/users/3108415/geografa"}, "edited": false, "score": 0, "creation_date": 1523490306, "post_id": 49785669, "comment_id": 86587237, "body": "I updated the post and as you see Im getting the JSON with XHR."}, {"owner": {"reputation": 33, "user_id": 8165633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d07a551f7e7456581b60a8105559005?s=128&d=identicon&r=PG", "display_name": "Serban Lupea", "link": "https://stackoverflow.com/users/8165633/serban-lupea"}, "reply_to_user": {"reputation": 681, "user_id": 3108415, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DVDxC.jpg?s=128&g=1", "display_name": "geografa", "link": "https://stackoverflow.com/users/3108415/geografa"}, "edited": false, "score": 0, "creation_date": 1523658071, "post_id": 49785669, "comment_id": 86667405, "body": "@geografa could you please give a little bit more info? Where does you re line of code fit?"}], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 8165633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d07a551f7e7456581b60a8105559005?s=128&d=identicon&r=PG", "display_name": "Serban Lupea", "link": "https://stackoverflow.com/users/8165633/serban-lupea"}, "is_accepted": false, "score": 0, "last_activity_date": 1524780818, "creation_date": 1524780818, "answer_id": 50052569, "question_id": 49785669, "link": "https://stackoverflow.com/questions/49785669/add-linestrings-to-mapobx-map-coordinates-in-a-json-file/50052569#50052569", "title": "Add linestrings to mapobx map, coordinates in a json file", "body": "<p>I solved it like this.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function getCoords () {\r\n  // wait for both map and data before drawing lines\r\n  if (!(map &amp;&amp; map.loaded() &amp;&amp; offpistes)) {\r\n    return;\r\n  }\r\n\r\n  for (var i = 0; i &lt; offpistes.length; i++) {\r\n    if (offpistes[i].the_geom !== null) {\r\n      var coordinates = [];\r\n      for (var j = 0; j &lt; offpistes[i].the_geom.coordinates.length; j++) {\r\n        for (var k = 0; k &lt; offpistes[i].the_geom.coordinates[j].length; k++) {\r\n          coordinates.push([offpistes[i].the_geom.coordinates[j][k][0], offpistes[i].the_geom.coordinates[j][k][1]]);\r\n        }\r\n      }\r\n      map.addLayer({\r\n        \"id\": \"offpistes_\" + i,\r\n        \"type\": \"line\",\r\n        \"source\": {\r\n          \"type\": \"geojson\",\r\n          \"data\": {\r\n            \"type\": \"Feature\",\r\n            \"properties\": {},\r\n            \"geometry\": {\r\n              \"type\": \"LineString\",\r\n              \"coordinates\": coordinates,\r\n            }\r\n          }\r\n        },\r\n        \"layout\": {\r\n          \"line-join\": \"round\",\r\n          \"line-cap\": \"round\"\r\n        },\r\n        \"paint\": {\r\n          \"line-color\": \"#678\",\r\n          \"line-width\": 4\r\n        }\r\n      });\r\n    }\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 33, "user_id": 8165633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d07a551f7e7456581b60a8105559005?s=128&d=identicon&r=PG", "display_name": "Serban Lupea", "link": "https://stackoverflow.com/users/8165633/serban-lupea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524780818, "creation_date": 1523488261, "last_edit_date": 1523491029, "question_id": 49785669, "link": "https://stackoverflow.com/questions/49785669/add-linestrings-to-mapobx-map-coordinates-in-a-json-file", "title": "Add linestrings to mapobx map, coordinates in a json file", "body": "<p>I wrote this function to get to the LONG and LAT. The reason is that \"the_geom\" field in JSON has elevation too, which I dont need. The console.log is just for verification purposes. I would replace it with return or save the output in variables. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function getCoords() {\r\n  for (var i = 0; i &lt; offpistes.length; i++) {\r\n    if (offpistes[i].the_geom !== null) {\r\n      for (var j = 0; j &lt; offpistes[i].the_geom.coordinates.length; j++) {\r\n        for (var k = 0; k &lt; offpistes[i].the_geom.coordinates[j].length; k++) {\r\n          console.log('long: ' + offpistes[i].the_geom.coordinates[j][k][0]);\r\n          console.log('lat: ' + offpistes[i].the_geom.coordinates[j][k][1]);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I found this piece of code at mapbox docs, but I can't figure out how to add the coordinates for each of my linestrings. Also, iterating the for loops take a very a long time. Whats a better way to do this?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function addLine() {\r\n  map.on('load', function() {\r\n    map.addLayer({\r\n      \"id\": \"route\",\r\n      \"type\": \"line\",\r\n      \"source\": {\r\n        \"type\": \"geojson\",\r\n        \"data\": {\r\n          \"type\": \"Feature\",\r\n          \"properties\": {},\r\n          \"geometry\": {\r\n            \"type\": \"LineString\",\r\n            \"coordinates\": [\r\n              [-122.48369693756104, 37.83381888486939],\r\n              [-122.48348236083984, 37.83317489144141],\r\n              [-122.48339653015138, 37.83270036637107],\r\n              [-122.48356819152832, 37.832056363179625],\r\n              [-122.48404026031496, 37.83114119107971],\r\n              [-122.48404026031496, 37.83049717427869],\r\n              [-122.48348236083984, 37.829920943955045],\r\n              [-122.48356819152832, 37.82954808664175],\r\n              [-122.48507022857666, 37.82944639795659],\r\n              [-122.48610019683838, 37.82880236636284],\r\n              [-122.48695850372314, 37.82931081282506],\r\n              [-122.48700141906738, 37.83080223556934],\r\n              [-122.48751640319824, 37.83168351665737],\r\n              [-122.48803138732912, 37.832158048267786],\r\n              [-122.48888969421387, 37.83297152392784],\r\n              [-122.48987674713133, 37.83263257682617],\r\n              [-122.49043464660643, 37.832937629287755],\r\n              [-122.49125003814696, 37.832429207817725],\r\n              [-122.49163627624512, 37.832564787218985],\r\n              [-122.49223709106445, 37.83337825839438],\r\n              [-122.49378204345702, 37.83368330777276]\r\n            ]\r\n          }\r\n        }\r\n      },\r\n      \"layout\": {\r\n        \"line-join\": \"round\",\r\n        \"line-cap\": \"round\"\r\n      },\r\n      \"paint\": {\r\n        \"line-color\": \"#888\",\r\n        \"line-width\": 8\r\n      }\r\n    });\r\n  });\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I have requested the JSON here:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function loadData() {\r\n  var xhttp = new XMLHttpRequest();\r\n  xhttp.onreadystatechange = function(response) {\r\n    if (this.readyState == 4 &amp;&amp; this.status == 200) {\r\n      offpistes = JSON.parse(xhttp.responseText);\r\n      render()\r\n      getCoords()\r\n    }\r\n  }\r\n  xhttp.open(\"GET\", \"offpistes.json\", true);\r\n  xhttp.send();\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If I have this code that outputs some info to the screen, can I write a similar function that adds the coordinate to the map.addLayer?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function render() {\r\n  var output = '';\r\n  for (var i = 0; i &lt; offpistes.length; i++) {\r\n    if (offpistes[i].the_geom !== null) {\r\n      output += '&lt;li class=\"names\"&gt;' + offpistes[i].name + '&lt;/li&gt;';\r\n      output += '&lt;li class=\"dif\" type=\"none\"&gt;' + 'Difficulty: ' + offpistes[i].ski_difficulty + '&lt;/li&gt;';\r\n      output += '&lt;li class=\"desc\" type=\"none\"&gt;' + offpistes[i].short_description + '&lt;/li&gt;';\r\n    }\r\n  }\r\n  document.getElementById('list').innerHTML = output;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "answers": [{"tags": [], "owner": {"reputation": 687, "user_id": 4102203, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/ae817865eb162a4faff6ebfe0c16cd41?s=128&d=identicon&r=PG&f=1", "display_name": "tomasantunes", "link": "https://stackoverflow.com/users/4102203/tomasantunes"}, "is_accepted": true, "score": 0, "last_activity_date": 1523488989, "creation_date": 1523488989, "answer_id": 49785783, "question_id": 49785636, "link": "https://stackoverflow.com/questions/49785636/rendering-images-from-an-api/49785783#49785783", "title": "Rendering images from an API", "body": "<p>try this for the image:</p>\n\n<pre><code>var img = new Image();\nimg.src = icon;\n$(\".pic\").append(img);\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 8686251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mKDjJ.jpg?s=128&g=1", "display_name": "GiaFil7", "link": "https://stackoverflow.com/users/8686251/giafil7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 49785783, "answer_count": 1, "score": -1, "last_activity_date": 1523655980, "creation_date": 1523488054, "last_edit_date": 1523655980, "question_id": 49785636, "link": "https://stackoverflow.com/questions/49785636/rendering-images-from-an-api", "title": "Rendering images from an API", "body": "<pre><code>&lt;div class=\"row box\"&gt;\n  &lt;div class=\"col-md-4 pic\"&gt;&lt;/div&gt;\n  &lt;div id=\"temperature\" class=\"col-md-4 change make_blue bigger_text\"&gt;\n    Placeholder\n  &lt;/div&gt;\n  &lt;div class=\"col-md-4\"&gt;\n    &lt;button id=\"getChange\" class=\"make_orange bigger_text\"&gt;Change units&lt;/button&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n$(document).ready(function() {\nnavigator.geolocation.getCurrentPosition(function(position) {\nvar url = \"https://fcc-weather-api.glitch.me/api/current?lat=\" + position.coords.latitude + \"&amp;lon=\" + position.coords.longitude;\n   $.ajax({\n     url:\"https://fcc-weather-api.glitch.me/api/current?lat=\" + position.coords.latitude + \"&amp;lon=\"+ position.coords.longitude,\n    success: function(data) {\n        var temp = data.main.temp;\n        var icon = data.weather[0].icon;\n        $(\".pic\").html(icon);\n        $(\".change\").html(temp);\n      $(\"#getChange\").on(\"click\", function() {\n        $(\".change\").html(temp);\n        $(\"#temperature\").html(changeTemp(temp));\n   });\n      }\n    });\n });\n});\n</code></pre>\n\n<p>I'm having trouble rendering the \"icon\" variable into the element with id=\"pic\". Any suggestions to make it work? Thanks in advance for your help.</p>\n"}, {"tags": ["javascript", "charts", "google-visualization", "geomap"], "comments": [{"owner": {"reputation": 2509, "user_id": 4046274, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/f4aeF.jpg?s=128&g=1", "display_name": "Pirate X", "link": "https://stackoverflow.com/users/4046274/pirate-x"}, "edited": false, "score": 1, "creation_date": 1523522908, "post_id": 49785625, "comment_id": 86598512, "body": "why is <code>Data1</code> and <code>Data2</code> type as <code>string</code>? Shouldn&#39;t it be <code>number</code>. See if this <a href=\"https://jsfiddle.net/4zk15abz/2/\" rel=\"nofollow noreferrer\">JSFIDDLE</a> helps you."}, {"owner": {"reputation": 434, "user_id": 8423413, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4f57b743cbaaa979c28461a929ffaf16?s=128&d=identicon&r=PG&f=1", "display_name": "manishk", "link": "https://stackoverflow.com/users/8423413/manishk"}, "reply_to_user": {"reputation": 2509, "user_id": 4046274, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/f4aeF.jpg?s=128&g=1", "display_name": "Pirate X", "link": "https://stackoverflow.com/users/4046274/pirate-x"}, "edited": false, "score": 0, "creation_date": 1523538580, "post_id": 49785625, "comment_id": 86609322, "body": "Data1, Data2 contain mostly zeros, so I get this if i set both to number and not string- Error: Type mismatch. Value 0 does not match type number in column index 1"}, {"owner": {"reputation": 434, "user_id": 8423413, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4f57b743cbaaa979c28461a929ffaf16?s=128&d=identicon&r=PG&f=1", "display_name": "manishk", "link": "https://stackoverflow.com/users/8423413/manishk"}, "reply_to_user": {"reputation": 2509, "user_id": 4046274, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/f4aeF.jpg?s=128&g=1", "display_name": "Pirate X", "link": "https://stackoverflow.com/users/4046274/pirate-x"}, "edited": false, "score": 0, "creation_date": 1523555112, "post_id": 49785625, "comment_id": 86620336, "body": "Hey I solved it, will post that an answer. Your solution was on point though, just that the data that i was getting was in the form of a string and I had to cast it to integer."}, {"owner": {"reputation": 2509, "user_id": 4046274, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/f4aeF.jpg?s=128&g=1", "display_name": "Pirate X", "link": "https://stackoverflow.com/users/4046274/pirate-x"}, "edited": false, "score": 0, "creation_date": 1523555170, "post_id": 49785625, "comment_id": 86620364, "body": "Good to know .!"}], "answers": [{"comments": [{"owner": {"reputation": 53495, "user_id": 5090771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2EOZG.png?s=128&g=1", "display_name": "WhiteHat", "link": "https://stackoverflow.com/users/5090771/whitehat"}, "edited": false, "score": 0, "creation_date": 1523555385, "post_id": 49803004, "comment_id": 86620476, "body": "hope this helps, keep in mind, the only format that allows for two numeric column is markers mode (color and size)..."}, {"owner": {"reputation": 434, "user_id": 8423413, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4f57b743cbaaa979c28461a929ffaf16?s=128&d=identicon&r=PG&f=1", "display_name": "manishk", "link": "https://stackoverflow.com/users/8423413/manishk"}, "edited": false, "score": 0, "creation_date": 1523555666, "post_id": 49803004, "comment_id": 86620630, "body": "Good knowledge. Thanks!"}], "tags": [], "owner": {"reputation": 53495, "user_id": 5090771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2EOZG.png?s=128&g=1", "display_name": "WhiteHat", "link": "https://stackoverflow.com/users/5090771/whitehat"}, "is_accepted": false, "score": 0, "last_activity_date": 1523555378, "creation_date": 1523555378, "answer_id": 49803004, "question_id": 49785625, "link": "https://stackoverflow.com/questions/49785625/googlechart-maps-visualization-error-while-joining-displaying-2-datasets/49803004#49803004", "title": "GoogleChart Maps [visualization] error while joining/displaying 2 datasets", "body": "<p>take a look at the <a href=\"https://developers.google.com/chart/interactive/docs/gallery/geochart#data-format\" rel=\"nofollow noreferrer\">Data Format</a> for <a href=\"https://developers.google.com/chart/interactive/docs/gallery/geochart\" rel=\"nofollow noreferrer\">GeoChart</a>,<br>\nthe data can be in one of three formats, according to the type of chart you want to display...  </p>\n\n<p><strong>1) Regions mode</strong>  </p>\n\n<p>the data table should have at least one <code>'string'</code> column for location,<br>\nand an optional <code>'number'</code> column for color  </p>\n\n<p><strong>2) Markers mode</strong>  </p>\n\n<p>the data table should have at least one <code>'string'</code> column for location,<br>\nOR two <code>'number'</code> columns for latitude &amp; longitude respectively,<br>\nfollowed by an optional <code>'number'</code> column for marker color,<br>\nand another <code>'number'</code> columns for marker size  </p>\n\n<p><strong>3) Text mode</strong>  </p>\n\n<p>the data table should have at least one <code>'string'</code> column for location,<br>\nand an optional <code>'number'</code> column for size of the text  </p>\n\n<hr>\n\n<p>none of the formats allow for more than one <code>'string'</code> column,<br>\nwhich is why you receive the following error...<br>\n<code>Table contains more columns than expected</code></p>\n\n<p>the error you receive when switching those columns to <code>'number'</code>,<br>\nis because the numbers you are loading are in <code>'string'</code> format  </p>\n\n<p>use <code>parseFloat</code> or <code>parseInt</code>...  </p>\n\n<pre><code>data1.addRows([[enterpriseArray[j], parseFloat(suspiciousCountArray[j])]]);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 434, "user_id": 8423413, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4f57b743cbaaa979c28461a929ffaf16?s=128&d=identicon&r=PG&f=1", "display_name": "manishk", "link": "https://stackoverflow.com/users/8423413/manishk"}, "is_accepted": false, "score": 0, "last_activity_date": 1523570674, "last_edit_date": 1523570674, "creation_date": 1523555485, "answer_id": 49803026, "question_id": 49785625, "link": "https://stackoverflow.com/questions/49785625/googlechart-maps-visualization-error-while-joining-displaying-2-datasets/49803026#49803026", "title": "GoogleChart Maps [visualization] error while joining/displaying 2 datasets", "body": "<p>The problem here was that I needed to cast string to an integer (from the dynamic data that I wanted to display; used parseInt for this), and then changed the type for Data1 and Data2 to 'number' as <strong>Pirate X</strong> pointed out in his comment.</p>\n"}], "owner": {"reputation": 434, "user_id": 8423413, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4f57b743cbaaa979c28461a929ffaf16?s=128&d=identicon&r=PG&f=1", "display_name": "manishk", "link": "https://stackoverflow.com/users/8423413/manishk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 275, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1523570674, "creation_date": 1523487967, "question_id": 49785625, "link": "https://stackoverflow.com/questions/49785625/googlechart-maps-visualization-error-while-joining-displaying-2-datasets", "title": "GoogleChart Maps [visualization] error while joining/displaying 2 datasets", "body": "<p>My Dataset 1 is like this- </p>\n\n<pre><code>var data1 = new google.visualization.DataTable();\n            data1.addColumn('string','Country');\n            data1.addColumn('string','Data1');\n            for(var j=0;j&lt;enterpriseArray.length;j++){\n                data1.addRows([[enterpriseArray[j], suspiciousCountArray[j]]]);\n            }\n</code></pre>\n\n<p>And Dataset 2 is pretty similar-</p>\n\n<pre><code>var data2 = new google.visualization.DataTable();\n            data2.addColumn('string','Country');\n            data2.addColumn('string','Data2');\n            for(var k=0;k&lt;enterpriseArray.length;k++){\n                data2.addRows([[enterpriseArray[k], malicousCountArray[k]]]);\n            }\n</code></pre>\n\n<p>And finally this-</p>\n\n<pre><code>var jointData = google.visualization.data.join(data1, data2, 'full', [[0, 0]], [1], [1]);\nvar chart = new google.visualization.GeoChart(document.getElementById('some-div'));\nchart.draw(jointData, options);\n</code></pre>\n\n<p>I get this error, not on the Console, but on the exact place where my chart is supposed to be displayed. </p>\n\n<pre><code>Error- Incompatible data table: Error: Table contains more columns than expected (Expecting 2 columns)\n</code></pre>\n\n<p>P.S.- If I use my dataset something like this (with hard-coded data, not dynamic)-</p>\n\n<pre><code>var data1 = google.visualization.arrayToDataTable([\n                ['Country', 'Activity'],\n                ['Germany', 100],\n                ['United States', 200],\n                ['India', 350],\n            ]);\nvar data2 = google.visualization.arrayToDataTable([\n                ['Country', 'Activity'],\n                ['Germany', 200],\n                ['United States', 300],\n                ['India', 50],\n            ]);\n</code></pre>\n\n<p>Then the chart/map is displayed correctly without any errors.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1523492024, "post_id": 49785602, "comment_id": 86587655, "body": "Why are you using <code>console.log()</code> for formatted output? It&#39;s meant for debugging. Create an HTML table."}, {"owner": {"reputation": 51, "user_id": 9633089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64af29fe9c45d37f404beb7954fe13c3?s=128&d=identicon&r=PG&f=1", "display_name": "B.Moe09", "link": "https://stackoverflow.com/users/9633089/b-moe09"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1523492453, "post_id": 49785602, "comment_id": 86587741, "body": "I have to use console.log() for my class. This is class is just an intro to JavaScript. We have not gotten into html."}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 9633089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64af29fe9c45d37f404beb7954fe13c3?s=128&d=identicon&r=PG&f=1", "display_name": "B.Moe09", "link": "https://stackoverflow.com/users/9633089/b-moe09"}, "edited": false, "score": 0, "creation_date": 1523494858, "post_id": 49786239, "comment_id": 86588205, "body": "When I run the program it fixed most of the alignment but there are certain spots when scrolling through that the output is misaligned."}, {"owner": {"reputation": 31533, "user_id": 2813224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/602e78d7da7bd6353c8ee51a17826037?s=128&d=identicon&r=PG", "display_name": "zer00ne", "link": "https://stackoverflow.com/users/2813224/zer00ne"}, "edited": false, "score": 0, "creation_date": 1523498124, "post_id": 49786239, "comment_id": 86588909, "body": "That&#39;s a format matter that wouldn&#39;t be a problem if you used a table instead of the console"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 51, "user_id": 9633089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64af29fe9c45d37f404beb7954fe13c3?s=128&d=identicon&r=PG&f=1", "display_name": "B.Moe09", "link": "https://stackoverflow.com/users/9633089/b-moe09"}, "edited": false, "score": 0, "creation_date": 1523558158, "post_id": 49786239, "comment_id": 86621925, "body": "@B.Moe09 That&#39;s because the space you put between the first two columns doesn&#39;t subtract the size of the year."}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 1, "last_activity_date": 1523493126, "creation_date": 1523493126, "answer_id": 49786239, "question_id": 49785602, "link": "https://stackoverflow.com/questions/49785602/output-from-table-printing-incorrectly-javascript/49786239#49786239", "title": "Output from table printing incorrectly JavaScript", "body": "<p>The problem is operator precedence. The <code>?:</code> conditional operator has lower precedence than <code>+</code>, so the <code>:</code> part contains all the concatenated strings, not just the <code>\"\"</code> string that should replace the year. So you display the year when <code>yearChange</code> is true, you display everything else only when <code>yearChange</code> is false.</p>\n\n<p>The solution is to wrap the conditional expression in parentheses.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function displayWelcome() {\r\n  console.log(\"Welcome! \\nThis program will determine the time to pay off a credit card and the interest paid based on the current balance, the interest rate, and the monthly payments made.\")\r\n}\r\n\r\nfunction calculateminimumPaymentment(balance, minimumPaymentRate) {\r\n  return Math.max(20, balance * minimumPaymentRate);\r\n}\r\n\r\nfunction displayPayments(balance, interest, minimumPayment) {\r\n\r\n  console.log(\"Balance on your credit card: $\" + balance.toFixed(2))\r\n  console.log(\"Interest Rate: \" + (interest * 100) + \"%\")\r\n  console.log(\"Assuming a minimum payment of 2% of the balance ($20 min)\")\r\n  console.log(\"Your minimum payment would be: $\" + minimumPayment)\r\n  console.log(\"\\nYear    Balance     Payment #     Interest Paid      Minimum Payment\")\r\n\r\n  var year = 1;\r\n  var payments = 1;\r\n  var interestPaid = 0;\r\n  var yearChange;\r\n\r\n  while (balance &gt; 0) {\r\n    yearChange = false;\r\n\r\n    if (payments % 12 == 0) {\r\n      year++\r\n      yearChange = true;\r\n    }\r\n    interestPaid += balance * interest / 12;\r\n    balance = Math.max(0, balance - (minimumPayment - balance * interest / 12));\r\n    minimumPayment = Math.max(20, balance * minimumPaymentRate);\r\n    console.log((yearChange ? year : \"\") + \"        \" + balance.toFixed(2) + \"      \" + payments + \"              \" + interestPaid.toFixed(2) + \"             \" + minimumPayment.toFixed(2));\r\n    payments++;\r\n  }\r\n}\r\n\r\nvar balance = 1500;\r\nvar minimumPaymentRate = 0.02;\r\nvar interest = 0.18;\r\n\r\ndisplayWelcome()\r\nvar minimumPayment = calculateminimumPaymentment(balance, minimumPaymentRate);\r\n\r\ndisplayPayments(balance, interest, minimumPayment);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 51, "user_id": 9633089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64af29fe9c45d37f404beb7954fe13c3?s=128&d=identicon&r=PG&f=1", "display_name": "B.Moe09", "link": "https://stackoverflow.com/users/9633089/b-moe09"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1523493126, "creation_date": 1523487791, "last_edit_date": 1523491958, "question_id": 49785602, "link": "https://stackoverflow.com/questions/49785602/output-from-table-printing-incorrectly-javascript", "title": "Output from table printing incorrectly JavaScript", "body": "<p>I am working on a project that will determine the time to pay off a credit card and the interest paid based on the current balance, the interest rate, and the monthly payments made. I have been able to get my code to give me the correct balance, interest, and minimum payments, all the way until the last few lines that are displayed. I have been having some trouble getting my table to perform the proper output. I have tried changing around a few things but it still seems to display improperly. I am very new to JavaScript so I am still trying to learn the basics and any input would be greatly appreciated. I will add in a code snippet and a picture of what my table is supposed to look like. Thanks! </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function displayWelcome() {\r\n  console.log(\"Welcome! \\nThis program will determine the time to pay off a credit card and the interest paid based on the current balance, the interest rate, and the monthly payments made.\")\r\n}\r\n\r\nfunction calculateminimumPaymentment(balance, minimumPaymentRate) {\r\n  return Math.max(20, balance * minimumPaymentRate);\r\n}\r\n\r\nfunction displayPayments(balance, interest, minimumPayment) {\r\n\r\n  console.log(\"Balance on your credit card: $\" + balance.toFixed(2))\r\n  console.log(\"Interest Rate: \" + (interest * 100) + \"%\")\r\n  console.log(\"Assuming a minimum payment of 2% of the balance ($20 min)\")\r\n  console.log(\"Your minimum payment would be: $\" + minimumPayment)\r\n  console.log(\"\\nYear    Balance     Payment #     Interest Paid      Minimum Payment\")\r\n\r\n  var year = 1;\r\n  var payments = 1;\r\n  var interestPaid = 0;\r\n  var yearChange;\r\n\r\n  while (balance &gt; 0) {\r\n    yearChange = false;\r\n\r\n    if (payments % 12 == 0) {\r\n      year++\r\n      yearChange = true;\r\n    }\r\n    interestPaid += balance * interest / 12;\r\n    balance = Math.max(0, balance - (minimumPayment - balance * interest / 12));\r\n    minimumPayment = Math.max(20, balance * minimumPaymentRate);\r\n    console.log(yearChange ? year : \"\" + \"        \" + balance.toFixed(2) + \"      \" + payments + \"              \" + interestPaid.toFixed(2) + \"             \" + minimumPayment.toFixed(2));\r\n    payments++;\r\n  }\r\n}\r\n\r\nvar balance = 1500;\r\nvar minimumPaymentRate = 0.02;\r\nvar interest = 0.18;\r\n\r\ndisplayWelcome()\r\nvar minimumPayment = calculateminimumPaymentment(balance, minimumPaymentRate);\r\n\r\ndisplayPayments(balance, interest, minimumPayment);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I have added two pictures below of what I am seeing when I run the program and what the program is supposed to look like in the two links below. </p>\n\n<p>This is the output I am receiving\n<a href=\"https://i.stack.imgur.com/ePg2L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ePg2L.png\" alt=\"\"></a></p>\n\n<p>This is how the table is supposed to look\n<a href=\"https://i.stack.imgur.com/gqwFZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gqwFZ.png\" alt=\"\"></a></p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "webpack", "postcss"], "comments": [{"owner": {"reputation": 5819, "user_id": 4385889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/V0hjo.png?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4385889/andrew"}, "edited": false, "score": 0, "creation_date": 1523487813, "post_id": 49785595, "comment_id": 86586628, "body": "Did you omit your <code>export</code> statement in your <code>App.tsx</code> file...?"}, {"owner": {"reputation": 1372, "user_id": 3183170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c61a5a5b406e6209d0e8b1f845830259?s=128&d=identicon&r=PG", "display_name": "adrice727", "link": "https://stackoverflow.com/users/3183170/adrice727"}, "reply_to_user": {"reputation": 5819, "user_id": 4385889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/V0hjo.png?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4385889/andrew"}, "edited": false, "score": 0, "creation_date": 1523487978, "post_id": 49785595, "comment_id": 86586671, "body": "@Andrew No, I just didn&#39;t include it in the code snippet.  I&#39;ll make an edit so it&#39;s not confusing."}], "answers": [{"comments": [{"owner": {"reputation": 5819, "user_id": 4385889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/V0hjo.png?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4385889/andrew"}, "edited": false, "score": 0, "creation_date": 1523488754, "post_id": 49785729, "comment_id": 86586862, "body": "Apologies, but upon closer inspection, I&#39;m very confused as to what is going where. This might be incorrect then."}, {"owner": {"reputation": 1372, "user_id": 3183170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c61a5a5b406e6209d0e8b1f845830259?s=128&d=identicon&r=PG", "display_name": "adrice727", "link": "https://stackoverflow.com/users/3183170/adrice727"}, "edited": false, "score": 0, "creation_date": 1523488940, "post_id": 49785729, "comment_id": 86586899, "body": "The duplicate <code>index.ts</code> files are a little confusing.  <code>src&#47;components&#47;Button&#47;index.ts</code> exports the <code>default</code> from <code>Button.tsx</code>.  <code>src&#47;index.ts</code> picks up that import and exports it."}], "tags": [], "owner": {"reputation": 5819, "user_id": 4385889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/V0hjo.png?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4385889/andrew"}, "is_accepted": false, "score": 1, "last_activity_date": 1523488627, "creation_date": 1523488627, "answer_id": 49785729, "question_id": 49785595, "link": "https://stackoverflow.com/questions/49785595/typescript-react-element-type-is-invalid-expected-a-string-for-built-in-com/49785729#49785729", "title": "TypeScript + React: Element type is invalid: expected a string (for built-in components)", "body": "<p>It looks like you made a small mistake importing in <code>index.ts</code>. Since it's a default export, no curly braces should be used.</p>\n\n<pre><code>import Button from './components/Button';\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1372, "user_id": 3183170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c61a5a5b406e6209d0e8b1f845830259?s=128&d=identicon&r=PG", "display_name": "adrice727", "link": "https://stackoverflow.com/users/3183170/adrice727"}, "is_accepted": true, "score": 5, "last_activity_date": 1523846197, "creation_date": 1523846197, "answer_id": 49848907, "question_id": 49785595, "link": "https://stackoverflow.com/questions/49785595/typescript-react-element-type-is-invalid-expected-a-string-for-built-in-com/49848907#49848907", "title": "TypeScript + React: Element type is invalid: expected a string (for built-in components)", "body": "<p>As it turns out, this was due to an issue with my <code>webpack</code> config.  Adding the following lines to <code>output</code> fixed the error:</p>\n\n<pre><code>  output: {\n    . . . \n    library: \"opentok-ux-components\",\n    libraryTarget: 'umd',\n    umdNamedDefine: true\n  },\n</code></pre>\n"}], "owner": {"reputation": 1372, "user_id": 3183170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c61a5a5b406e6209d0e8b1f845830259?s=128&d=identicon&r=PG", "display_name": "adrice727", "link": "https://stackoverflow.com/users/3183170/adrice727"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2001, "favorite_count": 0, "accepted_answer_id": 49848907, "answer_count": 2, "score": 2, "last_activity_date": 1523846197, "creation_date": 1523487722, "last_edit_date": 1523488088, "question_id": 49785595, "link": "https://stackoverflow.com/questions/49785595/typescript-react-element-type-is-invalid-expected-a-string-for-built-in-com", "title": "TypeScript + React: Element type is invalid: expected a string (for built-in components)", "body": "<p>I realize that there are several questions related to this error floating around, but as far as I can tell this is a unique situation and not related to an incorrect <code>import</code> statement.</p>\n\n<p>I'm building a <code>React</code> component library with <code>TypeScript</code> and <code>webpack</code>.  </p>\n\n<p>My directory structure:</p>\n\n<pre><code>- src\n  - index.ts\n  - components\n    - Button\n      - Button.tsx\n      - index.ts\n      - Button.css\n      - Button.d.css (generated by webpack plugin)\n- package.json\n- tsconfig.json\n- webpack.config.js\n- postcss.config.js\n</code></pre>\n\n<p>My <code>tsconfig.json</code>: </p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"allowSyntheticDefaultImports\": true,\n    \"module\": \"es2015\",\n    \"target\": \"es5\",\n    \"lib\": [\"es6\", \"dom\"],\n    \"sourceMap\": true,\n    \"allowJs\": false,\n    \"jsx\": \"react\",\n    \"moduleResolution\": \"node\",\n    \"rootDir\": \"src\",\n    \"outDir\": \"dist\",\n    \"noImplicitReturns\": true,\n    \"noImplicitThis\": true,\n    \"noImplicitAny\": true,\n    \"strictNullChecks\": true,\n    \"declaration\": true\n  },\n  \"include\": [\n    \"src/**/*\"\n  ],\n  \"exclude\": [\n    \"node_modules\",\n    \"build\",\n    \"dist\",\n    \"scripts\",\n    \"acceptance-tests\",\n    \"webpack\",\n    \"jest\",\n    \"src/setupTests.ts\",\n    \"**/*/*.test.ts\",\n    \"examples\"\n  ]\n}\n</code></pre>\n\n<p>My <code>webpack.config.js</code>:</p>\n\n<pre><code>const path = require(\"path\");\nconst ExtractTextPlugin = require(\"extract-text-webpack-plugin\");\nconst MiniCssExtractPlugin = require(\"mini-css-extract-plugin\");\n\nmodule.exports = {\n  entry: \"./src/index.ts\",\n  output: {\n    path: path.resolve(__dirname, \"dist\"),\n    filename: \"index.js\"\n  },\n  mode: \"development\",\n  module: {\n    rules: [\n      {\n        test: /\\.tsx?$/,\n        loader: \"awesome-typescript-loader\",\n      },\n      {\n        test: /\\.css$/,\n        use: [\n          MiniCssExtractPlugin.loader,\n          {\n            loader: 'typings-for-css-modules-loader',\n            options: {\n              modules: true,\n              namedExport: true,\n              banner: \"/* This file is generated during the webpack build. Please do not edit/remove. */\",\n              localIdentName: '[name]__[local]'\n            }\n          },\n          {\n            loader: 'postcss-loader',\n            options: {\n              config: {\n                path: './postcss.config.js'\n              }\n            }\n          }\n        ]\n      },\n      {\n        test: /\\.(jpg|png|gif|svg)$/,\n        use: [\n          {\n            loader: \"file-loader\",\n            options: {\n              name: \"[name].[ext]\"\n            }\n          }\n        ]\n      }\n    ]\n  },\n  plugins: [\n    new MiniCssExtractPlugin({\n      filename: \"[name].css\",\n      chunkFilename: \"[id].css\"\n    })\n  ],\n  devtool: \"source-map\",\n  resolve: {\n    extensions: [\".js\", \".ts\", \".tsx\", \".css\"]\n  }\n};\n</code></pre>\n\n<p>My <code>postcss.config.js</code>:</p>\n\n<pre><code>module.exports = {\n    modules: true,\n    plugins: [\n        require('precss'),\n        require('postcss-simple-vars'),\n        require('autoprefixer'),\n        require('postcss-nested'),\n    ]\n}\n</code></pre>\n\n<p><code>src/index.ts</code> is simply:</p>\n\n<pre><code>import { Button } from './components/Button';\n\nexport {\n  Button,\n};\n</code></pre>\n\n<p><code>src/components/Button/index.ts</code>:</p>\n\n<pre><code>import Button from './Button';\n\nexport { Button };\n</code></pre>\n\n<p>and <code>src/components/Button/Button.tsx</code>:</p>\n\n<pre><code>import * as React from 'react';\nimport { ReactNode } from 'react';\nimport { Link } from 'react-router-dom';\nimport * as styles from './Button.css';\n\nexport interface IButtonPropTypes {\n  onClick?: React.MouseEventHandler&lt;any&gt;;\n  label: string;\n  children?: ReactNode[] | string;\n  kind?: 'link' | 'action';\n  style?: { [key: string]: string };\n  href?: string;\n  target?: string;\n  className?: string;\n}\n\nexport default function Button({\n  onClick,\n  label,\n  children,\n  kind = 'action',\n  style = {},\n  href,\n  target,\n  className,\n}: IButtonPropTypes) {\n  const text = label || children;\n  const kindStyle = styles[kind] || '';\n  const classes = className || '';\n  if (href) {\n    return (\n      &lt;Link\n        className={`${style.btn} ${kindStyle} ${classes}`}\n        to={href}\n        target={target}\n        onClick={onClick}\n        style={style}\n      &gt;\n        &lt;span className={style.background} /&gt;\n        &lt;span&gt;{text}&lt;/span&gt;\n      &lt;/Link&gt;\n    );\n  }\n\n  return (\n    &lt;button className={`${style.btn} ${kindStyle}`} onClick={onClick} style={style}&gt;\n      &lt;div&gt;{text}&lt;/div&gt;\n    &lt;/button&gt;\n  );\n}\n</code></pre>\n\n<p>My <code>dist</code> folder after running <code>webpack</code> looks like:</p>\n\n<pre><code>- dist\n  - index.js\n  - index.js.map\n  - index.d.ts\n  - main.css\n  - main.css.map\n  - components\n    - Button\n      - Button.d.ts\n      - index.d.ts\n</code></pre>\n\n<p>and <a href=\"https://gist.github.com/adrice727/685ea1abb8ba1dcbe47ef5014f88e4d0\" rel=\"nofollow noreferrer\"><code>dist/index.js</code></a> seems to be compiled correctly by <code>webpack</code>.  In <code>package.json</code>, I have:</p>\n\n<pre><code>  \"main\": \"dist/index.js\",\n  \"types\": \"dist/index.d.ts\",\n  \"files\": [\"dist\"]\n</code></pre>\n\n<p>After running <code>yarn link</code>, I import and use my <code>Button</code> component in a standalone app like so:</p>\n\n<pre><code>import { Button } from 'my-components';\n\nclass App extends React.Component {\n  render() {\n    return (\n      &lt;div className=\"App\"&gt;\n        &lt;Button label=\"click me\" /&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n\nexport default App;\n</code></pre>\n\n<p>and receive the following error:</p>\n\n<blockquote>\n<pre><code>Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got:\n</code></pre>\n  \n  <p>undefined. You likely forgot to export your component from the file\n  it's defined in, or you might have mixed up default and named imports.</p>\n\n<pre><code>Check the render method of `App`.\n</code></pre>\n</blockquote>\n\n<p>If I remove the <code>Button</code> component, <code>App</code> renders without any errors.</p>\n\n<p><em>Testing by publishing a throwaway module to <code>npm</code> yields the same error.</em></p>\n\n<p>Additionally, if anyone has any suggestions as to better ways to bundle this library, I'd love to hear them as this is my first time using <code>postcss</code>.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 5819, "user_id": 4385889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/V0hjo.png?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4385889/andrew"}, "edited": false, "score": 1, "creation_date": 1523487709, "post_id": 49785571, "comment_id": 86586603, "body": "Just iterate over that array and place entries into a new object."}], "answers": [{"tags": [], "owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "is_accepted": false, "score": 2, "last_activity_date": 1523488781, "last_edit_date": 1523488781, "creation_date": 1523487773, "answer_id": 49785599, "question_id": 49785571, "link": "https://stackoverflow.com/questions/49785571/js-convert-arrays-into-object-then-replace-object-key-with-property-value/49785599#49785599", "title": "JS convert arrays into object then replace object key with property value", "body": "<p>You can use the function <strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce\" rel=\"nofollow noreferrer\"><code>Array.prototype.reduce</code></a></strong> to build the desired output.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var array = [  {    \"description\": \"red\",    \"type\": \"fruit\",    \"item\": \"apple\"  },  {    \"description\": \"yellow\",    \"type\":\"fruit\",    \"item\": \"banana\"  }],\r\n    result = array.reduce((a, {description, type, item}) =&gt; (Object.assign(a, {[item]: {description, type}})), {});\r\n\r\nconsole.log(result);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://codepen.io/synthet1c/pen/KyQQmL.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>Unrelated:</strong> Nice console plugin from <strong><a href=\"https://stackoverflow.com/users/1733478/synthet1c\">@synthet1c</a></strong></p>\n"}, {"comments": [{"owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 2, "creation_date": 1523488386, "post_id": 49785600, "comment_id": 86586776, "body": "Love that plugin!! <code>(:</code>"}, {"owner": {"reputation": 5488, "user_id": 1733478, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/82dc4bdd08f26a760d9df8aa736794bf?s=128&d=identicon&r=PG", "display_name": "synthet1c", "link": "https://stackoverflow.com/users/1733478/synthet1c"}, "reply_to_user": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 1, "creation_date": 1523488517, "post_id": 49785600, "comment_id": 86586817, "body": "@Ele cheers, I wasn&#39;t happy with the stackoverflow console so made a simple one to help with presenting the results."}, {"owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 0, "creation_date": 1523488908, "post_id": 49785600, "comment_id": 86586894, "body": "Some upvoted answers cuz you&#39;ve shared with us that plugin!!"}, {"owner": {"reputation": 5488, "user_id": 1733478, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/82dc4bdd08f26a760d9df8aa736794bf?s=128&d=identicon&r=PG", "display_name": "synthet1c", "link": "https://stackoverflow.com/users/1733478/synthet1c"}, "edited": false, "score": 0, "creation_date": 1523513468, "post_id": 49785600, "comment_id": 86593209, "body": "Cheers guys, feel free to use / fork it. it has an assertion library based on jasmine&#39;s api built in if you need it, there is examples at the bottom of the codepen, just remove the <code>.js</code> to see the pen."}], "tags": [], "owner": {"reputation": 5488, "user_id": 1733478, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/82dc4bdd08f26a760d9df8aa736794bf?s=128&d=identicon&r=PG", "display_name": "synthet1c", "link": "https://stackoverflow.com/users/1733478/synthet1c"}, "is_accepted": true, "score": 3, "last_activity_date": 1523487779, "creation_date": 1523487779, "answer_id": 49785600, "question_id": 49785571, "link": "https://stackoverflow.com/questions/49785571/js-convert-arrays-into-object-then-replace-object-key-with-property-value/49785600#49785600", "title": "JS convert arrays into object then replace object key with property value", "body": "<p>You can use <code>Array#reduce</code> to fold your array into an object. using destructuring you can pull out the values from the object and create a new object in your desired format for the output.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = [\r\n  {\r\n    \"description\": \"red\",\r\n    \"type\": \"fruit\",\r\n    \"item\": \"apple\"\r\n  },\r\n  {\r\n    \"description\": \"yellow\",\r\n    \"type\":\"fruit\",\r\n    \"item\": \"banana\"\r\n  }\r\n]\r\n\r\nconsole.log(\r\n  data.reduce((accumulator, { item, description, type }) =&gt; ({\r\n    ...accumulator,\r\n    [item]: { description, type }\r\n  }), {})\r\n)</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://codepen.io/synthet1c/pen/KyQQmL.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 235857, "user_id": 65387, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/c0377fc1b08293d3362611978913a32b?s=128&d=identicon&r=PG", "display_name": "mpen", "link": "https://stackoverflow.com/users/65387/mpen"}, "is_accepted": false, "score": 0, "last_activity_date": 1523487836, "creation_date": 1523487836, "answer_id": 49785607, "question_id": 49785571, "link": "https://stackoverflow.com/questions/49785571/js-convert-arrays-into-object-then-replace-object-key-with-property-value/49785607#49785607", "title": "JS convert arrays into object then replace object key with property value", "body": "<p>Can be done with a single call to <code>reduce</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = [{\r\n    \"description\": \"red\",\r\n    \"type\": \"fruit\",\r\n    \"item\": \"apple\"\r\n  },\r\n  {\r\n    \"description\": \"yellow\",\r\n    \"type\": \"fruit\",\r\n    \"item\": \"banana\"\r\n  }\r\n]\r\n\r\nconst regrouped = data.reduce((acc, {\r\n  description,\r\n  type,\r\n  item\r\n}) =&gt; {\r\n  acc[item] = {\r\n    description,\r\n    type\r\n  }\r\n  return acc\r\n}, {});\r\n\r\nconsole.log(regrouped)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 19688, "user_id": 3149020, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100001905387968/picture?type=large", "display_name": "Spencer Wieczorek", "link": "https://stackoverflow.com/users/3149020/spencer-wieczorek"}, "is_accepted": false, "score": 0, "last_activity_date": 1523487944, "creation_date": 1523487944, "answer_id": 49785621, "question_id": 49785571, "link": "https://stackoverflow.com/questions/49785571/js-convert-arrays-into-object-then-replace-object-key-with-property-value/49785621#49785621", "title": "JS convert arrays into object then replace object key with property value", "body": "<p>One way is using a <code>forEach</code> on the array and build an object based on the properties:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var arr = [{\"description\": \"red\", \"type\": \"fruit\", \"item\": \"apple\"},{\"description\":\"yellow\",\"type\":\"fruit\",\"item\": \"banana\"}]\r\n\r\nobj = {};\r\narr.forEach((o) =&gt; {\r\n    obj[o.item] = o;\r\n    delete o.item;\r\n});\r\n\r\nconsole.log(obj)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "is_accepted": false, "score": 0, "last_activity_date": 1523488119, "creation_date": 1523488119, "answer_id": 49785644, "question_id": 49785571, "link": "https://stackoverflow.com/questions/49785571/js-convert-arrays-into-object-then-replace-object-key-with-property-value/49785644#49785644", "title": "JS convert arrays into object then replace object key with property value", "body": "<p>Other answers have covered the vanilla JS solution quite well, but if you can use lodash, you can do this by combining the methods <code>keyBy</code>, <code>mapValues</code>, and <code>omit</code> to produce a nice one-liner:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const myArray = [{\r\n  \"description\": \"red\",\r\n  \"type\": \"fruit\",\r\n  \"item\": \"apple\"\r\n}, {\r\n  \"description\": \"yellow\",\r\n  \"type\": \"fruit\",\r\n  \"item\": \"banana\"\r\n}];\r\n\r\nconst result = _.mapValues(_.keyBy(myArray, o =&gt; o.item), o =&gt; _.omit(o, \"item\"));\r\nconsole.log(result);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdn.jsdelivr.net/npm/lodash@4.17.5/lodash.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 12928, "user_id": 1355249, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/XbT1a.jpg?s=128&g=1", "display_name": "sumit", "link": "https://stackoverflow.com/users/1355249/sumit"}, "is_accepted": false, "score": 0, "last_activity_date": 1523488209, "creation_date": 1523488209, "answer_id": 49785662, "question_id": 49785571, "link": "https://stackoverflow.com/questions/49785571/js-convert-arrays-into-object-then-replace-object-key-with-property-value/49785662#49785662", "title": "JS convert arrays into object then replace object key with property value", "body": "<p>You can use reduce</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let arr=[\r\n  {\r\n    \"description\": \"red\",\r\n    \"type\": \"fruit\",\r\n    \"item\": \"apple\"\r\n  },\r\n  {\r\n    \"description\": \"yellow\",\r\n    \"type\":\"fruit\",\r\n    \"item\": \"banana\"\r\n  }\r\n]\r\nconst convert_to_object = (myarray) =&gt;\r\n   myarray.reduce((o, i) =&gt; {\r\n     o[i.item] = {description:i.description,type:i.type}\r\n     return o\r\n   }, {})\r\nconst peopleObject = convert_to_object(arr)\r\nconsole.log(peopleObject)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1343, "user_id": 1615323, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/T8Jg7.jpg?s=128&g=1", "display_name": "Johnny Derp", "link": "https://stackoverflow.com/users/1615323/johnny-derp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 1, "accepted_answer_id": 49785600, "answer_count": 6, "score": 0, "last_activity_date": 1523488781, "creation_date": 1523487561, "question_id": 49785571, "link": "https://stackoverflow.com/questions/49785571/js-convert-arrays-into-object-then-replace-object-key-with-property-value", "title": "JS convert arrays into object then replace object key with property value", "body": "<p>I need to convert an array into objects and then need to move one of object property value as a object property key name:</p>\n\n<pre><code>[\n  {\n    \"description\": \"red\",\n    \"type\": \"fruit\",\n    \"item\": \"apple\"\n  },\n  {\n    \"description\": \"yellow\",\n    \"type\":\"fruit\",\n    \"item\": \"banana\"\n  }\n]\n</code></pre>\n\n<p>into</p>\n\n<pre><code>{\n  \"apple\": {\n    \"description\": \"red\",\n    \"type\": \"fruit\"\n  },\n  \"banana\": {\n    \"description\": \"yellow\",\n    \"type\": \"fruit\"\n  }\n}\n</code></pre>\n\n<p>using <code>Object.assign({}, ...arr)</code> populates object's names into index, i need to change that index, thanks!</p>\n"}, {"tags": ["javascript", "html", "angularjs", "mongodb", "ecmascript-6"], "comments": [{"owner": {"reputation": 8252, "user_id": 6634591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHVdG.jpg?s=128&g=1", "display_name": "Luca Kiebel", "link": "https://stackoverflow.com/users/6634591/luca-kiebel"}, "edited": false, "score": 0, "creation_date": 1523487829, "post_id": 49785567, "comment_id": 86586634, "body": "Is there anything in your Browsers Console?"}], "answers": [{"comments": [{"owner": {"reputation": 8252, "user_id": 6634591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHVdG.jpg?s=128&g=1", "display_name": "Luca Kiebel", "link": "https://stackoverflow.com/users/6634591/luca-kiebel"}, "edited": false, "score": 0, "creation_date": 1523488798, "post_id": 49785728, "comment_id": 86586874, "body": "The OP does have a backend... Also hhile this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference. Link-only answers can become invalid if the linked page changes."}], "tags": [], "owner": {"reputation": 33, "user_id": 8318780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79324bd250df59f0336180a8cb3d0082?s=128&d=identicon&r=PG&f=1", "display_name": "Kristina", "link": "https://stackoverflow.com/users/8318780/kristina"}, "is_accepted": false, "score": -1, "last_activity_date": 1523488624, "creation_date": 1523488624, "answer_id": 49785728, "question_id": 49785567, "link": "https://stackoverflow.com/questions/49785567/connecting-mongodb-with-angularjs/49785728#49785728", "title": "Connecting MongoDB with AngularJS", "body": "<p>I think your code needs to have server side code. I didn't find any back end except server/app.js maybe you need to watch [ <a href=\"https://www.youtube.com/playlist?list=PL3vQyqzqjZ637sWpKvniMCxdqZhnMJC1d\" rel=\"nofollow noreferrer\">https://www.youtube.com/playlist?list=PL3vQyqzqjZ637sWpKvniMCxdqZhnMJC1d</a> ] which covers all the detail needs to develop web in mean. </p>\n"}, {"comments": [{"owner": {"reputation": 16757, "user_id": 5654404, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/746f3e19ba3d2c092e951129a114391a?s=128&d=identicon&r=PG&f=1", "display_name": "Sravan", "link": "https://stackoverflow.com/users/5654404/sravan"}, "edited": false, "score": 0, "creation_date": 1523542598, "post_id": 49798319, "comment_id": 86612342, "body": "@Khalid Talakshi, any issue you are facing?"}, {"owner": {"reputation": 41, "user_id": 8865042, "user_type": "registered", "profile_image": "https://graph.facebook.com/2013764055510057/picture?type=large", "display_name": "Khalid Talakshi", "link": "https://stackoverflow.com/users/8865042/khalid-talakshi"}, "edited": false, "score": 0, "creation_date": 1523577420, "post_id": 49798319, "comment_id": 86629717, "body": "haven\u2019t tried it. I\u2019ll get back to you in a few hours"}, {"owner": {"reputation": 41, "user_id": 8865042, "user_type": "registered", "profile_image": "https://graph.facebook.com/2013764055510057/picture?type=large", "display_name": "Khalid Talakshi", "link": "https://stackoverflow.com/users/8865042/khalid-talakshi"}, "edited": false, "score": 0, "creation_date": 1523641368, "post_id": 49798319, "comment_id": 86660507, "body": "Tried it, didn&#39;t work, perhaps its something with my html?"}, {"owner": {"reputation": 16757, "user_id": 5654404, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/746f3e19ba3d2c092e951129a114391a?s=128&d=identicon&r=PG&f=1", "display_name": "Sravan", "link": "https://stackoverflow.com/users/5654404/sravan"}, "reply_to_user": {"reputation": 41, "user_id": 8865042, "user_type": "registered", "profile_image": "https://graph.facebook.com/2013764055510057/picture?type=large", "display_name": "Khalid Talakshi", "link": "https://stackoverflow.com/users/8865042/khalid-talakshi"}, "edited": false, "score": 0, "creation_date": 1523682489, "post_id": 49798319, "comment_id": 86671648, "body": "can you add the value of <code>console.log(response);</code>"}, {"owner": {"reputation": 16757, "user_id": 5654404, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/746f3e19ba3d2c092e951129a114391a?s=128&d=identicon&r=PG&f=1", "display_name": "Sravan", "link": "https://stackoverflow.com/users/5654404/sravan"}, "reply_to_user": {"reputation": 41, "user_id": 8865042, "user_type": "registered", "profile_image": "https://graph.facebook.com/2013764055510057/picture?type=large", "display_name": "Khalid Talakshi", "link": "https://stackoverflow.com/users/8865042/khalid-talakshi"}, "edited": false, "score": 0, "creation_date": 1523855845, "post_id": 49798319, "comment_id": 86714567, "body": "can you add <code>{{eventsCtrl.venues | json }}</code> in html and check what  it is rendering?"}], "tags": [], "owner": {"reputation": 16757, "user_id": 5654404, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/746f3e19ba3d2c092e951129a114391a?s=128&d=identicon&r=PG&f=1", "display_name": "Sravan", "link": "https://stackoverflow.com/users/5654404/sravan"}, "is_accepted": false, "score": 0, "last_activity_date": 1528523471, "last_edit_date": 1528523471, "creation_date": 1523540966, "answer_id": 49798319, "question_id": 49785567, "link": "https://stackoverflow.com/questions/49785567/connecting-mongodb-with-angularjs/49798319#49798319", "title": "Connecting MongoDB with AngularJS", "body": "<p>You are using <code>ControllerAs</code> syntax so you have to refer to <code>this</code> variable of controller</p>\n\n<p>Take <strong><code>var self = this;</code></strong> in controller</p>\n\n<pre><code>(function () {\n  var app = angular.module('inlineClient', []);\n\n  app.controller('eventsController', ['$http', function($http) {\n    var self = this;\n    self.venues = [];\n\n    $http.get('/events').then(function(response) {\n      console.log('Got events successfully');\n      console.log(response);\n      self.venues.push(response);\n      console.log(self.venues);\n    })\n    .catch(function(error){\n       console.log(error);\n     })\n\n  }]);\n\n  app.directive('events', function() {\n    return {\n      restirct: 'E',\n      templateUrl: './event.html'\n    };\n  });\n\n\n})();\n</code></pre>\n\n<p>Inside the response change,</p>\n\n<p><strong><code>self.venues.push(response);</code></strong></p>\n"}], "owner": {"reputation": 41, "user_id": 8865042, "user_type": "registered", "profile_image": "https://graph.facebook.com/2013764055510057/picture?type=large", "display_name": "Khalid Talakshi", "link": "https://stackoverflow.com/users/8865042/khalid-talakshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 518, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1528523471, "creation_date": 1523487554, "last_edit_date": 1523540507, "question_id": 49785567, "link": "https://stackoverflow.com/questions/49785567/connecting-mongodb-with-angularjs", "title": "Connecting MongoDB with AngularJS", "body": "<p>I am working on a project and I'm trying to connect mongodb with an angular application.</p>\n\n<p>Essentially I am getting the collection and running it through express to map it through an array, and then using that array to create a dynamic page. I've gotten it through each of the systems, but I can't figure out how to connect it to the array. Any help is appreciated.</p>\n\n<p>Full code can be found on github <a href=\"https://github.com/khalid-talakshi/inline\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p><strong>Client/index.html</strong></p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n\n&lt;html lang=\"en\" dir=\"ltr\"  ng-app=\"inlineClient\"&gt;\n &lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;title&gt;InLine Client&lt;/title&gt;\n    &lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css\" integrity=\"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm\" crossorigin=\"anonymous\"&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\"&gt;  \n  &lt;/head&gt;\n  &lt;body&gt;\n\n    &lt;div ng-controller=\"eventsController as eventsCtrl\"&gt;\n      &lt;div ng-repeat=\"event in eventsCtrl.venues\"&gt;\n        &lt;h1&gt;{{event.name}}&lt;/h1&gt;\n        &lt;h2&gt;{{event.time}}&lt;/h2&gt;\n        &lt;p&gt;{{event.description}}&lt;/p&gt;\n        &lt;!--&lt;event&gt;&lt;/event&gt;--&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"app.js\"&gt;&lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>Client/app.js</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>(function () {\n  var app = angular.module('inlineClient', []);\n\n  app.controller('eventsController', ['$http', function($http) {\n    var venues = [];\n\n    $http.get('/events').then(successCallback);\n    function successCallback(response){\n      console.log('Got events successfully');\n      console.log(response);\n      venues.push(response);\n    }\n    console.log(venues);\n\n    // $http.get('/events').success(function(data) {\n    //   console.log('Got events successfully');\n    //   console.log(data);\n    //   events.venues = data;\n    // });\n\n  }]);\n\n  app.directive('events', function() {\n    return {\n      restirct: 'E',\n      templateUrl: './event.html'\n    };\n  });\n\n//   var venues = [\n//     {\n//     name: 'Breakfast',\n//     time: '9:00 AM',\n//     description: 'Come on down to enjoy some good eats!'\n//     },\n//     {\n//       name: 'Lunch',\n//       time: '12:00 PM',\n//       description: 'Come on down to enjoy some good eats!'\n//     },\n//     {\n//       name: 'Contest Programming',\n//       time: '2:00 AM',\n//       description: 'Compete in some algorithm programming for some sweet prizes'\n//     },\n// ];\n\n})();\n</code></pre>\n\n<p><strong>Server/app.js</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\"use strict\";\n\nlet express = require('express');\nlet app = express();\n\nlet mongoUtil = require('./mongoUtil');\nmongoUtil.connect();\n\napp.use('/client', express.static(__dirname + \"/../client\"));\n\napp.get(\"/events\", (request, response) =&gt; {\n  let events = mongoUtil.events();\n  events.find().toArray((err, docs) =&gt; {\n    //console.log((docs));\n    let eventArr = docs.map(obj =&gt; ({ name: obj.name, time: obj.time, description: obj.description }));\n    console.log(eventArr);\n    response.json(eventArr);\n  });\n});\n\napp.listen(8000, function() {\n  console.log(\"listening on 8000\");\n});\n</code></pre>\n"}, {"tags": ["javascript", "math.js"], "comments": [{"owner": {"reputation": 2350, "user_id": 2227168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77294e1343dbf7edc9d308fd966d8d87?s=128&d=identicon&r=PG", "display_name": "pishpish", "link": "https://stackoverflow.com/users/2227168/pishpish"}, "edited": false, "score": 1, "creation_date": 1523487967, "post_id": 49785548, "comment_id": 86586667, "body": "<code>src=&quot;https:&#47;&#47;unpkg.com&#47;mathjs@4.1.1&#47;dist&#47;math.min.js&quot;</code>?"}, {"owner": {"reputation": 179, "user_id": 9307475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b6fd83f7fa5a4b7366c856c31bcf73a7?s=128&d=identicon&r=PG&f=1", "display_name": "leto", "link": "https://stackoverflow.com/users/9307475/leto"}, "reply_to_user": {"reputation": 2350, "user_id": 2227168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77294e1343dbf7edc9d308fd966d8d87?s=128&d=identicon&r=PG", "display_name": "pishpish", "link": "https://stackoverflow.com/users/2227168/pishpish"}, "edited": false, "score": 0, "creation_date": 1523489402, "post_id": 49785548, "comment_id": 86587040, "body": "It worked, but why and why not mine? Thanks anyway"}, {"owner": {"reputation": 2350, "user_id": 2227168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77294e1343dbf7edc9d308fd966d8d87?s=128&d=identicon&r=PG", "display_name": "pishpish", "link": "https://stackoverflow.com/users/2227168/pishpish"}, "edited": false, "score": 1, "creation_date": 1523526239, "post_id": 49785548, "comment_id": 86600777, "body": "You provided a path to a <i>directory</i>, not a (javascript) <i>file</i>. You&#39;re welcome."}], "owner": {"reputation": 179, "user_id": 9307475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b6fd83f7fa5a4b7366c856c31bcf73a7?s=128&d=identicon&r=PG&f=1", "display_name": "leto", "link": "https://stackoverflow.com/users/9307475/leto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523487418, "creation_date": 1523487418, "question_id": 49785548, "link": "https://stackoverflow.com/questions/49785548/add-math-js-to-text-editor", "title": "Add math.js to Text Editor", "body": "<p>I can't seem to add math.js to my editor using a CDN.</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" href=\"calc.css\"&gt;\n&lt;script type=\"text/javascript\" src=\"https://unpkg.com/mathjs@4.1.1/\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n</code></pre>\n\n<p>I keep getting a MIME error in Chrome. </p>\n\n<p>I also can't work out how to download it. When I click on the download link I just get a <a href=\"https://unpkg.com/mathjs@4.1.1/dist/math.min.js\" rel=\"nofollow noreferrer\">page</a> with all the code. Am I meant to copy this code over to a math.js file and save locally. Apologies this seems basic.</p>\n"}, {"tags": ["javascript", "json", "node.js", "mongodb", "express"], "comments": [{"owner": {"reputation": 8252, "user_id": 6634591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHVdG.jpg?s=128&g=1", "display_name": "Luca Kiebel", "link": "https://stackoverflow.com/users/6634591/luca-kiebel"}, "edited": false, "score": 1, "creation_date": 1523487531, "post_id": 49785527, "comment_id": 86586557, "body": "what exactly is your problem, what does not work and how should it work?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9632143, "user_type": "registered", "profile_image": "https://graph.facebook.com/200200360581205/picture?type=large", "display_name": "Eddie Rocha", "link": "https://stackoverflow.com/users/9632143/eddie-rocha"}, "edited": false, "score": 0, "creation_date": 1523550020, "post_id": 49785847, "comment_id": 86617638, "body": "Is that, but i don&#39;t know how can i &quot;//post to DB&quot;. I know how do this with my user send data from browser in a form, but not from my file .js"}, {"owner": {"reputation": 165, "user_id": 9464566, "user_type": "registered", "profile_image": "https://graph.facebook.com/1597399980367951/picture?type=large", "display_name": "Ninja", "link": "https://stackoverflow.com/users/9464566/ninja"}, "reply_to_user": {"reputation": 1, "user_id": 9632143, "user_type": "registered", "profile_image": "https://graph.facebook.com/200200360581205/picture?type=large", "display_name": "Eddie Rocha", "link": "https://stackoverflow.com/users/9632143/eddie-rocha"}, "edited": false, "score": 0, "creation_date": 1523550893, "post_id": 49785847, "comment_id": 86618080, "body": "Its a very broad question, and i guess you need to watch some tutorials. Plus we don&#39;t know want you want to add. Btw accept the answer if has given some idea about your question. Thanks"}], "tags": [], "owner": {"reputation": 165, "user_id": 9464566, "user_type": "registered", "profile_image": "https://graph.facebook.com/1597399980367951/picture?type=large", "display_name": "Ninja", "link": "https://stackoverflow.com/users/9464566/ninja"}, "is_accepted": false, "score": 0, "last_activity_date": 1523489613, "creation_date": 1523489613, "answer_id": 49785847, "question_id": 49785527, "link": "https://stackoverflow.com/questions/49785527/record-realtime-data-to-mongodb-using-nodejs/49785847#49785847", "title": "record realtime data to mongodb using nodejs", "body": "<p>Not sure what exactly you want to get to, but to do something after a known interval (in this case store to DB), use setInterval(60 * 1000) which comes in javascript by default, or use the Math Mod operation. e.g:</p>\n\n<pre><code>if (seconds_counter % 60 === 0) {\n    //Post to DB\n    //seconds_counter, would need to increment every second by 1\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9632143, "user_type": "registered", "profile_image": "https://graph.facebook.com/200200360581205/picture?type=large", "display_name": "Eddie Rocha", "link": "https://stackoverflow.com/users/9632143/eddie-rocha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523501240, "creation_date": 1523487324, "last_edit_date": 1523501240, "question_id": 49785527, "link": "https://stackoverflow.com/questions/49785527/record-realtime-data-to-mongodb-using-nodejs", "title": "record realtime data to mongodb using nodejs", "body": "<p>How I can pick <code>JSON.stringify</code> and post to my mongoDB Database?</p>\n\n<p>For Exemple:</p>\n\n<pre><code>import express from 'express';\n\nlet data_record = JSON.stringify({**any content**})\n</code></pre>\n\n<p>This code will automatically receive data every 60 seconds and I want post this data to my DB.</p>\n\n<p>I set the route like below:</p>\n\n<pre><code>app.post('/recording/ttn', (req, res) =&gt; {\n  res.send(data_record);\n});\n</code></pre>\n\n<p>Do you have any idea how I can solve this issue?</p>\n"}, {"tags": ["javascript", "html", "css", "d3.js"], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 9633099, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8Dsxl8AJqTE/AAAAAAAAAAI/AAAAAAAAACI/kPQXeE0k52E/photo.jpg?sz=128", "display_name": "RoastRabbit", "link": "https://stackoverflow.com/users/9633099/roastrabbit"}, "edited": false, "score": 0, "creation_date": 1523502652, "post_id": 49786148, "comment_id": 86589900, "body": "Thanks! It worked, can I ask what translate do here? why set y to 0?"}, {"owner": {"reputation": 90540, "user_id": 5768908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wf0PS.jpg?s=128&g=1", "display_name": "Gerardo Furtado", "link": "https://stackoverflow.com/users/5768908/gerardo-furtado"}, "reply_to_user": {"reputation": 49, "user_id": 9633099, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8Dsxl8AJqTE/AAAAAAAAAAI/AAAAAAAAACI/kPQXeE0k52E/photo.jpg?sz=128", "display_name": "RoastRabbit", "link": "https://stackoverflow.com/users/9633099/roastrabbit"}, "edited": false, "score": 0, "creation_date": 1523502999, "post_id": 49786148, "comment_id": 86589952, "body": "@junqiyang Actually you don&#39;t even need that, the tick function does all the work. Check the edited answer (sorry for the previous one, I was on my mobile...)."}, {"owner": {"reputation": 49, "user_id": 9633099, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8Dsxl8AJqTE/AAAAAAAAAAI/AAAAAAAAACI/kPQXeE0k52E/photo.jpg?sz=128", "display_name": "RoastRabbit", "link": "https://stackoverflow.com/users/9633099/roastrabbit"}, "edited": false, "score": 0, "creation_date": 1523567222, "post_id": 49786148, "comment_id": 86626508, "body": "If I want to add links for each object, what I should use in the ticked function?"}, {"owner": {"reputation": 90540, "user_id": 5768908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wf0PS.jpg?s=128&g=1", "display_name": "Gerardo Furtado", "link": "https://stackoverflow.com/users/5768908/gerardo-furtado"}, "reply_to_user": {"reputation": 49, "user_id": 9633099, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8Dsxl8AJqTE/AAAAAAAAAAI/AAAAAAAAACI/kPQXeE0k52E/photo.jpg?sz=128", "display_name": "RoastRabbit", "link": "https://stackoverflow.com/users/9633099/roastrabbit"}, "edited": false, "score": 0, "creation_date": 1523571081, "post_id": 49786148, "comment_id": 86628073, "body": "Please ask this as a new question, so more users can help you."}, {"owner": {"reputation": 49, "user_id": 9633099, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8Dsxl8AJqTE/AAAAAAAAAAI/AAAAAAAAACI/kPQXeE0k52E/photo.jpg?sz=128", "display_name": "RoastRabbit", "link": "https://stackoverflow.com/users/9633099/roastrabbit"}, "edited": false, "score": 0, "creation_date": 1523598188, "post_id": 49786148, "comment_id": 86634607, "body": "No problem! Thank you so much!"}], "tags": [], "owner": {"reputation": 90540, "user_id": 5768908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wf0PS.jpg?s=128&g=1", "display_name": "Gerardo Furtado", "link": "https://stackoverflow.com/users/5768908/gerardo-furtado"}, "is_accepted": true, "score": 3, "last_activity_date": 1523502959, "last_edit_date": 1523502959, "creation_date": 1523492238, "answer_id": 49786148, "question_id": 49785479, "link": "https://stackoverflow.com/questions/49785479/force-layout-dragging-objects-are-far-away-from-the-correct-position/49786148#49786148", "title": "Force layout dragging, objects are far away from the correct position", "body": "<p>In your first code you're applying the <code>x</code> position to the circles:</p>\n\n<pre><code>.attr(\"cx\", function(d) { \n    return x(d.date); \n})\n</code></pre>\n\n<p>Don't do that: the <code>tick</code> function deals with the <code>x</code> and <code>y</code> positions.</p>\n\n<p>Here is your code removing that line:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>data= [\r\n        {id: \"Object1\", date: \"2017-08-21\", name: \"Object1\", count: .4, subtopics: []},\r\n        {id: \"Object2\", date: \"2017-08-22\", name: \"Object2\", count: 1, subtopics: []},\r\n        {id: \"Object3\", date: \"2017-08-25\", name: \"Object3\", count: 2, subtopics: []},  \r\n        {id: \"Object4\", date: \"2017-08-25\", name: \"Object4\", count: 2, subtopics: []},\r\n        {id: \"Object5\", date: \"2017-08-27\", name: \"Object5\", count: 2, subtopics: []},\r\n        {id: \"Object6\", date: \"2017-08-30\", name: \"Object6\", count: 2, subtopics: []},\r\n]\r\n\r\n\r\nvar r = d3.scaleSqrt()\r\n        .domain([0, d3.max(data, function (d) {\r\n            return d.count;\r\n        })])\r\n        .range([0, 65]);\r\n\r\n\r\nvar margin = {top: 20, right: 20, bottom: 100, left: 50},\r\n    width = 960 - margin.left - margin.right,\r\n    height = 500 - margin.top - margin.bottom;\r\n\r\nvar parseTime = d3.timeParse(\"%Y-%m-%d\");\r\n    \r\ndata.forEach(function(d) {\r\n      d.date = parseTime(d.date);\r\n      d.close = +d.close;\r\n  });\r\n    \r\nvar simulation = d3.forceSimulation()\r\n            .force(\"charge\", d3.forceManyBody().strength(-700).distanceMin(100).distanceMax(1000)) \r\n            .force(\"link\", d3.forceLink().id(function(d) { return d.index })) \r\n            .force(\"center\", d3.forceCenter(width / 2, height / 2))\r\n            .force(\"y\", d3.forceY(0.001))\r\n            .force(\"x\", d3.forceX(0.001))\r\n    \r\n    \r\nvar svg = d3.select('body').append('svg')\r\n  .attr('width', width + margin.left + margin.right)\r\n  .attr('height', height + margin.top + margin.bottom),\r\ng = svg.append('g')\r\n    .attr('transform','translate(' + margin.left + ',' + margin.top + ')');\r\n\r\n\r\nvar formatNumber = d3.format('');\r\nvar x = d3.scaleTime()\r\n.range([0, width]);\r\nx.domain(d3.extent(data, function(d) { return d.date; }));\r\n\r\nsvg.append(\"g\")\r\n      .attr(\"class\", \"axis\")\r\n      .attr(\"transform\", \"translate(0,\" + height + \")\")\r\n      .call(d3.axisBottom(x)\r\n              .tickFormat(d3.timeFormat(\"%Y-%m-%d\")))\r\n\r\n\r\nvar node = g.selectAll('.node')\r\n  .data(data)\r\n  .enter().append('g')\r\n    .attr(\"class\", \"node\")\r\n    .call(d3.drag()\r\n        .on(\"start\", dragstarted)\r\n        .on(\"drag\", dragged)\r\n        .on(\"end\", dragended));\r\n\r\nnode.append('circle')\r\n    .attr('r', function(d) {return Math.max(16, r(d.count)); })\r\n    .style(\"stroke\", \"Pink\")\r\n    .style(\"fill\", \"transparent\");      \r\n        \r\nnode.append('text')\r\n    .text(function(d){return d.name})\r\n    .attr(\"text-anchor\", \"middle\")\r\n    .attr(\"pointer-events\", \"none\");\r\n       \r\n\r\nvar ticked = function() {\r\n    node.attr(\"transform\", function (d) {\r\n        return \"translate(\" + x(d.date) + \",\" + d.y + \")\";\r\n    });\r\n}         \r\n    \r\nsimulation\r\n    .nodes(data)\r\n    .on(\"tick\", ticked);\r\n\r\nfunction dragstarted(d) {\r\n    if (!d3.event.active) simulation.alphaTarget(0.3).restart();\r\n        d.fx = d.x;\r\n        d.fy = d.y;\r\n}\r\n        \r\nfunction dragged(d) {\r\n        d.fy = d3.event.y;\r\n}\r\n        \r\nfunction dragended(d) {\r\n    if (!d3.event.active) simulation.alphaTarget(0);\r\n        d.fx = null;\r\n        d.fy = null;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;meta charset=\"utf-8\"&gt;\r\n&lt;head&gt;\r\n\r\n   \r\n    \r\n&lt;/head&gt;\r\n\r\n&lt;body style=\"margin:10px 0\"&gt;\r\n\r\n&lt;/div&gt;\r\n\r\n&lt;script src=\"https://d3js.org/d3.v4.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"./scripts/main.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 49, "user_id": 9633099, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8Dsxl8AJqTE/AAAAAAAAAAI/AAAAAAAAACI/kPQXeE0k52E/photo.jpg?sz=128", "display_name": "RoastRabbit", "link": "https://stackoverflow.com/users/9633099/roastrabbit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 49786148, "answer_count": 1, "score": 2, "last_activity_date": 1523502959, "creation_date": 1523486974, "last_edit_date": 1523492264, "question_id": 49785479, "link": "https://stackoverflow.com/questions/49785479/force-layout-dragging-objects-are-far-away-from-the-correct-position", "title": "Force layout dragging, objects are far away from the correct position", "body": "<p>So I am working on one of the class projects, which I have several data points associated with time, and the user can be able to drag the points if they overlap with each other. </p>\n\n<p>So the X-axis should be fixed to the date, and Y can change by dragging.</p>\n\n<p>Then I modified one of the examples on the internet. And it seems somehow the circle and the text is not at the same position for the same object.</p>\n\n<p>I am pretty sure this is because of the tick function</p>\n\n<pre><code>var ticked = function() {    \n    node.attr(\"transform\", function (d) {\n    return \"translate(\" + x(d.date) + \",\" + d.y + \")\";\n});\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>data= [\r\n        {id: \"Object1\", date: \"2017-08-21\", name: \"Object1\", count: .4, subtopics: []},\r\n        {id: \"Object2\", date: \"2017-08-22\", name: \"Object2\", count: 1, subtopics: []},\r\n        {id: \"Object3\", date: \"2017-08-25\", name: \"Object3\", count: 2, subtopics: []},  \r\n        {id: \"Object4\", date: \"2017-08-25\", name: \"Object4\", count: 2, subtopics: []},\r\n        {id: \"Object5\", date: \"2017-08-27\", name: \"Object5\", count: 2, subtopics: []},\r\n        {id: \"Object6\", date: \"2017-08-30\", name: \"Object6\", count: 2, subtopics: []},\r\n]\r\n\r\n\r\nvar r = d3.scaleSqrt()\r\n        .domain([0, d3.max(data, function (d) {\r\n            return d.count;\r\n        })])\r\n        .range([0, 65]);\r\n\r\n\r\nvar margin = {top: 20, right: 20, bottom: 100, left: 50},\r\n    width = 960 - margin.left - margin.right,\r\n    height = 500 - margin.top - margin.bottom;\r\n\r\nvar parseTime = d3.timeParse(\"%Y-%m-%d\");\r\n    \r\ndata.forEach(function(d) {\r\n      d.date = parseTime(d.date);\r\n      d.close = +d.close;\r\n  });\r\n    \r\nvar simulation = d3.forceSimulation()\r\n            .force(\"charge\", d3.forceManyBody().strength(-700).distanceMin(100).distanceMax(1000)) \r\n            .force(\"link\", d3.forceLink().id(function(d) { return d.index })) \r\n            .force(\"center\", d3.forceCenter(width / 2, height / 2))\r\n            .force(\"y\", d3.forceY(0.001))\r\n            .force(\"x\", d3.forceX(0.001))\r\n    \r\n    \r\nvar svg = d3.select('body').append('svg')\r\n  .attr('width', width + margin.left + margin.right)\r\n  .attr('height', height + margin.top + margin.bottom),\r\ng = svg.append('g')\r\n    .attr('transform','translate(' + margin.left + ',' + margin.top + ')');\r\n\r\n\r\nvar formatNumber = d3.format('');\r\nvar x = d3.scaleTime()\r\n.range([0, width]);\r\nx.domain(d3.extent(data, function(d) { return d.date; }));\r\n\r\nsvg.append(\"g\")\r\n      .attr(\"class\", \"axis\")\r\n      .attr(\"transform\", \"translate(0,\" + height + \")\")\r\n      .call(d3.axisBottom(x)\r\n              .tickFormat(d3.timeFormat(\"%Y-%m-%d\")))\r\n\r\n\r\nvar node = g.selectAll('.node')\r\n  .data(data)\r\n  .enter().append('g')\r\n    .attr(\"class\", \"node\")\r\n    .call(d3.drag()\r\n        .on(\"start\", dragstarted)\r\n        .on(\"drag\", dragged)\r\n        .on(\"end\", dragended));\r\n\r\nnode.append('circle')\r\n    .attr('r', function(d) {return Math.max(16, r(d.count)); })\r\n    .attr(\"cx\", function(d) { \r\n        return x(d.date); })\r\n    .style(\"stroke\", \"Pink\")\r\n    .style(\"fill\", \"transparent\");      \r\n        \r\nnode.append('text')\r\n    .text(function(d){return d.name})\r\n    .attr(\"text-anchor\", \"middle\");\r\n        \r\n        \r\n\r\nvar ticked = function() {\r\n    node.attr(\"transform\", function (d) {\r\n        return \"translate(\" + x(d.date) + \",\" + d.y + \")\";\r\n    });\r\n}         \r\n    \r\nsimulation\r\n    .nodes(data)\r\n    .on(\"tick\", ticked);\r\n\r\nfunction dragstarted(d) {\r\n    if (!d3.event.active) simulation.alphaTarget(0.3).restart();\r\n        d.fx = d.x;\r\n        d.fy = d.y;\r\n}\r\n        \r\nfunction dragged(d) {\r\n        d.fy = d3.event.y;\r\n}\r\n        \r\nfunction dragended(d) {\r\n    if (!d3.event.active) simulation.alphaTarget(0);\r\n        d.fx = null;\r\n        d.fy = null;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;meta charset=\"utf-8\"&gt;\r\n&lt;head&gt;\r\n\r\n   \r\n    \r\n&lt;/head&gt;\r\n\r\n&lt;body style=\"margin:10px 0\"&gt;\r\n\r\n&lt;/div&gt;\r\n\r\n&lt;script src=\"https://d3js.org/d3.v4.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"./scripts/main.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>So I try to use a different tick function with a different setup. Like this, this time the circles are in the correct position, however, the text won't append to the Circle </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>data= [\r\n        {id: \"Object1\", date: \"2017-08-21\", name: \"Object1\", count: .4, subtopics: []},\r\n        {id: \"Object2\", date: \"2017-08-22\", name: \"Object2\", count: 1, subtopics: []},\r\n        {id: \"Object3\", date: \"2017-08-25\", name: \"Object3\", count: 2, subtopics: []},  \r\n        {id: \"Object4\", date: \"2017-08-25\", name: \"Object4\", count: 2, subtopics: []},\r\n        {id: \"Object5\", date: \"2017-08-27\", name: \"Object5\", count: 2, subtopics: []},\r\n        {id: \"Object6\", date: \"2017-08-30\", name: \"Object6\", count: 2, subtopics: []},\r\n]\r\n\r\n\r\nvar r = d3.scaleSqrt()\r\n        .domain([0, d3.max(data, function (d) {\r\n            return d.count;\r\n        })])\r\n        .range([0, 65]);\r\n\r\n\r\nvar margin = {top: 20, right: 20, bottom: 100, left: 50},\r\n    width = 960 - margin.left - margin.right,\r\n    height = 500 - margin.top - margin.bottom;\r\n\r\nvar parseTime = d3.timeParse(\"%Y-%m-%d\");\r\n    \r\ndata.forEach(function(d) {\r\n      d.date = parseTime(d.date);\r\n      d.close = +d.close;\r\n  });\r\n    \r\nvar simulation = d3.forceSimulation()\r\n            .force(\"charge\", d3.forceManyBody().strength(-700).distanceMin(100).distanceMax(1000)) \r\n            .force(\"link\", d3.forceLink().id(function(d) { return d.index })) \r\n            .force(\"center\", d3.forceCenter(width / 2, height / 2))\r\n            .force(\"y\", d3.forceY(0.001))\r\n            .force(\"x\", d3.forceX(0.001))\r\n    \r\n    \r\nvar svg = d3.select('body').append('svg')\r\n  .attr('width', width + margin.left + margin.right)\r\n  .attr('height', height + margin.top + margin.bottom),\r\ng = svg.append('g')\r\n    .attr('transform','translate(' + margin.left + ',' + margin.top + ')');\r\n\r\n\r\nvar formatNumber = d3.format('');\r\nvar x = d3.scaleTime()\r\n.range([0, width]);\r\nx.domain(d3.extent(data, function(d) { return d.date; }));\r\n\r\nsvg.append(\"g\")\r\n      .attr(\"class\", \"axis\")\r\n      .attr(\"transform\", \"translate(0,\" + height + \")\")\r\n      .call(d3.axisBottom(x)\r\n              .tickFormat(d3.timeFormat(\"%Y-%m-%d\")))\r\n\r\n\r\nvar node = g.selectAll('.node')\r\n  .data(data)\r\n  .enter().append('circle')\r\n    .attr(\"class\", \"node\")\r\n    .attr('r', function(d) {return Math.max(16, r(d.count)); })\r\n    .attr(\"cx\", function(d) { return x(d.date); })\r\n    .style(\"stroke\", \"Pink\")\r\n    .style(\"fill\", \"transparent\")\r\n    .call(d3.drag()\r\n        .on(\"start\", dragstarted)\r\n        .on(\"drag\", dragged)\r\n        .on(\"end\", dragended));\r\n      \r\n\r\nvar text = node.append(\"text\")\r\n    .text(function(d){return d.name})\r\n    .attr(\"x\", function(d) { return x(d.date); })\r\n    .attr(\"text-anchor\", \"middle\");\r\n\r\n        \r\n\r\nvar ticked = function() {\r\n            node\r\n                .attr(\"cx\", function(d) { return x(d.date); })\r\n                .attr(\"cy\", function(d) { return d.y; });\r\n}         \r\n    \r\nsimulation\r\n    .nodes(data)\r\n    .on(\"tick\", ticked);\r\n\r\nfunction dragstarted(d) {\r\n    if (!d3.event.active) simulation.alphaTarget(0.3).restart();\r\n        d.fy = d.y;\r\n}\r\n        \r\nfunction dragged(d) {\r\n        d.fy = d3.event.y;\r\n}\r\n        \r\nfunction dragended(d) {\r\n    if (!d3.event.active) simulation.alphaTarget(0);\r\n        d.fy = null;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;meta charset=\"utf-8\"&gt;\r\n\r\n\r\n&lt;body style=\"margin:10px 0\"&gt;\r\n\r\n&lt;/div&gt;\r\n\r\n&lt;script src=\"https://d3js.org/d3.v4.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"./scripts/main.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "ios", "react-native"], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 9631565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdcab49e8337cf76d3021ead3b09307e?s=128&d=identicon&r=PG&f=1", "display_name": "Native Coder", "link": "https://stackoverflow.com/users/9631565/native-coder"}, "edited": false, "score": 0, "creation_date": 1523489920, "post_id": 49785593, "comment_id": 86587151, "body": "I appreciate for your answer. Why would iOS not implement an API for this while Android does? Is there some kind of security concern? Thanks again."}, {"owner": {"reputation": 170455, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "reply_to_user": {"reputation": 47, "user_id": 9631565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdcab49e8337cf76d3021ead3b09307e?s=128&d=identicon&r=PG&f=1", "display_name": "Native Coder", "link": "https://stackoverflow.com/users/9631565/native-coder"}, "edited": false, "score": 1, "creation_date": 1523491163, "post_id": 49785593, "comment_id": 86587452, "body": "@NativeCoder Simple: it&#39;s not something that apps should need to do. It&#39;s also a potential privacy issue, as nearby SSIDs can often be used to estimate a user&#39;s location."}], "tags": [], "owner": {"reputation": 170455, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "is_accepted": true, "score": 1, "last_activity_date": 1523487712, "creation_date": 1523487712, "answer_id": 49785593, "question_id": 49785469, "link": "https://stackoverflow.com/questions/49785469/is-there-a-react-native-package-to-retrieve-nearby-wifi-ssids-for-ios/49785593#49785593", "title": "Is there a react native package to retrieve nearby Wifi SSIDs for iOS?", "body": "<p>No. This isn't even possible in a native application; the most you can do is get the SSID of the wireless network the user is currently connected to, using <a href=\"https://developer.apple.com/documentation/systemconfiguration/systemconfiguration_functions\" rel=\"nofollow noreferrer\">the CaptiveNetwork API</a>.</p>\n"}], "owner": {"reputation": 47, "user_id": 9631565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdcab49e8337cf76d3021ead3b09307e?s=128&d=identicon&r=PG&f=1", "display_name": "Native Coder", "link": "https://stackoverflow.com/users/9631565/native-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 879, "favorite_count": 0, "accepted_answer_id": 49785593, "answer_count": 1, "score": 2, "last_activity_date": 1523487712, "creation_date": 1523486908, "question_id": 49785469, "link": "https://stackoverflow.com/questions/49785469/is-there-a-react-native-package-to-retrieve-nearby-wifi-ssids-for-ios", "title": "Is there a react native package to retrieve nearby Wifi SSIDs for iOS?", "body": "<p>For android I use the package <strong>react-native-android-wifi</strong> to retrieve a list of nearby wifi SSIDs, and I was looking for a similar package in iOS but could not find one.</p>\n\n<p>Is there a package that exists to do this in iOS? If not, can someone please give me an explanation as to why not?</p>\n"}, {"tags": ["javascript", "global-variables"], "comments": [{"owner": {"reputation": 8252, "user_id": 6634591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHVdG.jpg?s=128&g=1", "display_name": "Luca Kiebel", "link": "https://stackoverflow.com/users/6634591/luca-kiebel"}, "edited": false, "score": 5, "creation_date": 1523487022, "post_id": 49785465, "comment_id": 86586417, "body": "the second console.log is executed before the async fetch function finishes, thus printing the empty string that url2 has been set to"}], "owner": {"reputation": 11, "user_id": 9633113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f85b4d2c831a46a7503236bf47910b30?s=128&d=identicon&r=PG&f=1", "display_name": "Morgan Wyoming", "link": "https://stackoverflow.com/users/9633113/morgan-wyoming"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "closed_date": 1523493290, "answer_count": 0, "score": 1, "last_activity_date": 1523487551, "creation_date": 1523486888, "last_edit_date": 1523487551, "question_id": 49785465, "link": "https://stackoverflow.com/questions/49785465/strange-problems-with-global-variables", "closed_reason": "Duplicate", "title": "Strange problems with global variables", "body": "<p>I have a global variable, url2 that is not being updated by a fetch function</p>\n\n<p>Here's my JS code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var url2 = \"\"; //Here I define url2, as a global variable\r\nfetch(\"https://deckofcardsapi.com/api/deck/new/shuffle/?deck_count=1\").then(\r\n    function response(response) {\r\n        return response.json();\r\n    }).then(\r\n    function printOut(myJSON) {\r\n        identification = myJSON[\"deck_id\"];\r\n        url2 = ((\"https://deckofcardsapi.com/api/deck/\" + identification + \"/draw/?count=1\").toString()); //Here, I change the global variable\r\n        console.log(\"URL2 in fetch block\",url2); //If I print out variable url2, here, it returns the correct response\r\n    }\r\n)\r\nconsole.log(\"URL2 after fetch block\",url2); //If I print out variable url2 here, however, it returns \"\" -- like it was previously defined to.</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I'm fairly new to JS, and I'm not sure why this happens.</p>\n"}, {"tags": ["javascript", "html", "reactjs", "meteor", "collections"], "comments": [{"owner": {"reputation": 12017, "user_id": 5005177, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/24654adb38f30006fb2d3bd07dd6242b?s=128&d=identicon&r=PG&f=1", "display_name": "trixn", "link": "https://stackoverflow.com/users/5005177/trixn"}, "edited": false, "score": 0, "creation_date": 1523487357, "post_id": 49785439, "comment_id": 86586508, "body": "The Auction component shouldn&#39;t need to know it&#39;s index. You could split your list of auctions into 3 separate lists in the parent and render them accordingly."}, {"owner": {"reputation": 159, "user_id": 6067873, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hotJlb1OSZg/AAAAAAAAAAI/AAAAAAAAACw/nAOzYxfNMKc/photo.jpg?sz=128", "display_name": "Alan Ortega", "link": "https://stackoverflow.com/users/6067873/alan-ortega"}, "reply_to_user": {"reputation": 12017, "user_id": 5005177, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/24654adb38f30006fb2d3bd07dd6242b?s=128&d=identicon&r=PG&f=1", "display_name": "trixn", "link": "https://stackoverflow.com/users/5005177/trixn"}, "edited": false, "score": 0, "creation_date": 1523490027, "post_id": 49785439, "comment_id": 86587175, "body": "You mean in the render function inside App class?? @trixn"}, {"owner": {"reputation": 4072, "user_id": 5532513, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/eeBcT.jpg?s=128&g=1", "display_name": "Yossi", "link": "https://stackoverflow.com/users/5532513/yossi"}, "edited": false, "score": 0, "creation_date": 1523560482, "post_id": 49785439, "comment_id": 86623136, "body": "Why are you writing &lt;/div&gt; just after return ?"}, {"owner": {"reputation": 159, "user_id": 6067873, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hotJlb1OSZg/AAAAAAAAAAI/AAAAAAAAACw/nAOzYxfNMKc/photo.jpg?sz=128", "display_name": "Alan Ortega", "link": "https://stackoverflow.com/users/6067873/alan-ortega"}, "reply_to_user": {"reputation": 4072, "user_id": 5532513, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/eeBcT.jpg?s=128&g=1", "display_name": "Yossi", "link": "https://stackoverflow.com/users/5532513/yossi"}, "edited": false, "score": 0, "creation_date": 1523565718, "post_id": 49785439, "comment_id": 86625863, "body": "To close the last &lt;div className=&quot;row&quot;&gt; @Rahamin"}], "answers": [{"tags": [], "owner": {"reputation": 7125, "user_id": 3975309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r5v7W.jpg?s=128&g=1", "display_name": "Mikkel", "link": "https://stackoverflow.com/users/3975309/mikkel"}, "is_accepted": true, "score": 1, "last_activity_date": 1523569135, "creation_date": 1523569135, "answer_id": 49806277, "question_id": 49785439, "link": "https://stackoverflow.com/questions/49785439/render-different-html-depending-on-index-of-object-in-react/49806277#49806277", "title": "Render different html depending on index of object in react", "body": "<p>Any time you return HTML from a render function it needs to be self contained and have balanced tags. That's the way React works, and why it's giving you an error. </p>\n\n<p>Instead of trying to group 3 auctions at a time, you could think of using flexbox instead. With flexbox you simply render all of your auctions, and it looks after the wrapping automatically for you. Users with wider screens will see more than 3 columns, and users on mobile will see probably one when in portrait mode. </p>\n\n<p>If you want to learn about flexbox, there is a cute tutorial here: <a href=\"https://flexboxfroggy.com/\" rel=\"nofollow noreferrer\">https://flexboxfroggy.com/</a> There are plenty of tutorials around if you don't like that one, such as this: <a href=\"https://scotch.io/tutorials/a-visual-guide-to-css3-flexbox-properties\" rel=\"nofollow noreferrer\">https://scotch.io/tutorials/a-visual-guide-to-css3-flexbox-properties</a></p>\n\n<p>I'll let you do the work from here</p>\n"}], "owner": {"reputation": 159, "user_id": 6067873, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hotJlb1OSZg/AAAAAAAAAAI/AAAAAAAAACw/nAOzYxfNMKc/photo.jpg?sz=128", "display_name": "Alan Ortega", "link": "https://stackoverflow.com/users/6067873/alan-ortega"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 49806277, "answer_count": 1, "score": 0, "last_activity_date": 1523569135, "creation_date": 1523486722, "question_id": 49785439, "link": "https://stackoverflow.com/questions/49785439/render-different-html-depending-on-index-of-object-in-react", "title": "Render different html depending on index of object in react", "body": "<p>In my meteor project I have a collection called auctions. Using react I wish to render 3 columns of this auctions with unlimited number of rows. To accomplish this I thought it would be possible to send the index of the object but I have no idea how to do this. Another problem is that it shows an error with the html code since I'm not closing the 'div' tag.</p>\n\n<p>This is my App.js:</p>\n\n<pre><code>            import React, { Component } from 'react';\n            import ReactDOM from 'react-dom';\n            import { withTracker } from 'meteor/react-meteor-data';\n\n            import { Auctions } from '../api/auctions.js';\n\n            import Auction from './Auction.js';\n\n            //App component - represents the whole app\n            class App extends Component {\n                renderAuctions() {\n                    return this.props.auctions.map((auction, index) =&gt; (\n                        &lt;Auction key={auction._id} auction={auction} index={index} /&gt;\n                    ));\n                }\n\n                render() {\n                    return (\n                        &lt;div className=\"container section\"&gt;\n                            &lt;div className=\"row\"&gt;\n                                {this.renderAuctions()}\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                    );\n                }\n            }\n\n            export default withTracker(() =&gt; {\n                return {\n                    auctions: Auctions.find({}).fetch(),\n                };\n            })(App);\n</code></pre>\n\n<p>And my Auction.js:</p>\n\n<pre><code>            import React, { Component } from 'react';\n\n            //Task component - resepresnts a single todo item\n\n            export default class Auction extends Component {\n                render() {\n                    if(index % 3 === 0) {\n                        return (\n                            &lt;/div&gt; /* Shows an erros here because of closing tag*/\n                            &lt;div className=\"row\"&gt;\n                                &lt;div className=\"col s4 \"&gt;\n                                    &lt;div className=\"card\"&gt;\n                                        &lt;div className=\"card-image\"&gt;\n                                            &lt;img src=\"images/logo.png\" /&gt;\n                                        &lt;/div&gt;\n                                        &lt;div className=\"card-content\"&gt;\n                                            &lt;span className=\"card-title\"&gt;\n                                                {this.props.auction.auctionName}\n                                            &lt;/span&gt;\n                                            &lt;p&gt;\n                                                I am a very simple card. I am good at containing small bits of information.\n                                                I am convenient because I require little markup to use effectively.\n                                            &lt;/p&gt;\n                                        &lt;/div&gt;\n                                        &lt;div className=\"card-action\"&gt;\n                                            &lt;a href=\"#\"&gt;This is a link&lt;/a&gt;\n                                        &lt;/div&gt;\n                                    &lt;/div&gt;\n                                &lt;/div&gt;\n                        );\n                    } else {\n                        &lt;div className=\"col s4\"&gt;\n                            &lt;h1&gt;Brincoooo&lt;/h1&gt;\n                            &lt;div className=\"card\"&gt;\n                                &lt;div className=\"card-image\"&gt;\n                                    &lt;img src=\"images/logo.png\" /&gt;\n                                &lt;/div&gt;\n                                &lt;div className=\"card-content\"&gt;\n                                    &lt;span className=\"card-title\"&gt;\n                                        {this.props.auction.auctionName}\n                                    &lt;/span&gt;\n                                    &lt;p&gt;\n                                        I am a very simple card. I am good at containing small bits of information.\n                                        I am convenient because I require little markup to use effectively.\n                                    &lt;/p&gt;\n                                &lt;/div&gt;\n                                &lt;div className=\"card-action\"&gt;\n                                    &lt;a href=\"#\"&gt;This is a link&lt;/a&gt;\n                                &lt;/div&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                    }\n\n                }\n            }\n</code></pre>\n"}, {"tags": ["javascript", "function", "object", "this", "self-executing-function"], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 5530187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/741c2e880aaa390154516bde3b4f093b?s=128&d=identicon&r=PG&f=1", "display_name": "sjensen", "link": "https://stackoverflow.com/users/5530187/sjensen"}, "is_accepted": false, "score": 0, "last_activity_date": 1523487162, "creation_date": 1523487162, "answer_id": 49785503, "question_id": 49785414, "link": "https://stackoverflow.com/questions/49785414/exception-when-calling-a-self-executing-function-in-an-object-literal/49785503#49785503", "title": "Exception when calling a self-executing function in an object literal", "body": "<p>I think your params were on the wrong side of the brace.</p>\n\n<pre><code>busdata: (function(){return this.fetchLocalStorage()}() ),\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 1, "last_activity_date": 1523487177, "creation_date": 1523487177, "answer_id": 49785506, "question_id": 49785414, "link": "https://stackoverflow.com/questions/49785414/exception-when-calling-a-self-executing-function-in-an-object-literal/49785506#49785506", "title": "Exception when calling a self-executing function in an object literal", "body": "<p><code>this</code> is only bound to the object when you call a method of the object, i.e. <code>app.someMethod()</code>. But you're trying to call <code>fetchLocalStorage()</code> when you're creating the object, not in a method of the object, so <code>this</code> is whatever the outer context is, which is likely the global <code>window</code> object.</p>\n\n<p>You can't refer to other properties of the object until after the object has been created. So just call the function normally after you create the object.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var app = {\r\n  fetchLocalStorage: function() {\r\n    //fetching\r\n    return \"fetching data...\";\r\n  }\r\n\r\n};\r\n\r\napp.busdata = app.fetchLocalStorage();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 429, "user_id": 5990950, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/405621189648793/picture?type=large", "display_name": "Mateusz Sowi\u0144ski", "link": "https://stackoverflow.com/users/5990950/mateusz-sowi%c5%84ski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 49785506, "answer_count": 2, "score": 1, "last_activity_date": 1523487177, "creation_date": 1523486549, "question_id": 49785414, "link": "https://stackoverflow.com/questions/49785414/exception-when-calling-a-self-executing-function-in-an-object-literal", "title": "Exception when calling a self-executing function in an object literal", "body": "<p>I'm trying to set a field's value to a function, then execute it. <code>this.fetchLocalStorage is not a function</code> is what I get from running it.</p>\n\n<pre><code>var app = {\n\n  busdata: (function(){return this.fetchLocalStorage()})(),\n\n  fetchLocalStorage: function() {\n    //fetching\n    return \"fetching data...\";\n  }\n\n};\nconsole.log(app.busdata);\n</code></pre>\n\n<p>Note that by not making it a self-executing function, it works, but then it would mean the function is called everytime when I only need to fetch the data one time.</p>\n\n<pre><code>busdata: function(){return this.fetchLocalStorage()}\n/* ... */\nconsole.log(app.busdata()); //this calls the function every time :(\n</code></pre>\n\n<p>Thought it might a context problem so I tried a couple things with <code>bind</code> and <code>call</code> but with no luck.\nAm I missing something?</p>\n"}, {"tags": ["javascript", "ecmascript-6", "redux"], "comments": [{"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 1, "creation_date": 1523497704, "post_id": 49785368, "comment_id": 86588817, "body": "You\u2019re saying <code>files: files</code> works? That would be extremely strange. What do they each compile to?"}, {"owner": {"reputation": 358, "user_id": 5626213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/3b560f197477a43289ff6f7bd44a9026?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Lee", "link": "https://stackoverflow.com/users/5626213/michael-lee"}, "reply_to_user": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1523498035, "post_id": 49785368, "comment_id": 86588884, "body": "I&#39;m actually mistaken, it only works sporadically when I do files: files.  How should this work?  For additional context, I&#39;m trying to upload a file using react-dropzone, and hold that file in my redux state store"}, {"owner": {"reputation": 1281, "user_id": 6367424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2w16e.jpg?s=128&g=1", "display_name": "timotgl", "link": "https://stackoverflow.com/users/6367424/timotgl"}, "edited": false, "score": 0, "creation_date": 1523519977, "post_id": 49785368, "comment_id": 86596790, "body": "@MichaelLee Whatever your file_upload_reducer is exporting is not a proper reducer apparently. Your syntax is fine otherwise. Btw an action that needs to reset multiple reducers is usually done differently. You&#39;d dispatch multiple actions from the place where logout/unauth is triggered. Each action resets one dedicated reducer. Then your appReducer would be your rootReducer. Note how the comment in it talks about &quot;top level reducers&quot;? They&#39;re not top-level if they aren&#39;t in the root reducer."}, {"owner": {"reputation": 358, "user_id": 5626213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/3b560f197477a43289ff6f7bd44a9026?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Lee", "link": "https://stackoverflow.com/users/5626213/michael-lee"}, "edited": false, "score": 0, "creation_date": 1523534397, "post_id": 49785368, "comment_id": 86606152, "body": "I think i found the issue, seems like a redux store is not the right place to put a file. See this:  <a href=\"https://github.com/reactjs/redux/issues/2276\" rel=\"nofollow noreferrer\">github.com/reactjs/redux/issues/2276</a>  Regarding your other comment, I&#39;m following this pattern to cleat a redux store on log out: <a href=\"https://stackoverflow.com/questions/35622588/how-to-reset-the-state-of-a-redux-store\" title=\"how to reset the state of a redux store\">stackoverflow.com/questions/35622588/&hellip;</a>"}], "owner": {"reputation": 358, "user_id": 5626213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/3b560f197477a43289ff6f7bd44a9026?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Lee", "link": "https://stackoverflow.com/users/5626213/michael-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 170, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1523497477, "creation_date": 1523486164, "last_edit_date": 1523497477, "question_id": 49785368, "link": "https://stackoverflow.com/questions/49785368/enhanced-object-literal-in-es6-with-react-not-working", "title": "Enhanced object literal in ES6 with react not working", "body": "<p>I am trying to use enhanced object literal syntax in my redux reducer, and some of them are working while others return empty objects.  Is there a reason why 'form', and 'auth' work fine in my example, but 'files' does not?  When I change 'files' to the traditional syntax, it works just fine.  When I execute the example below, it just returns an empty object</p>\n\n<pre><code>import { combineReducers } from 'redux';\nimport auth from './auth_reducer';\nimport userReducer from './user_reducer';\nimport propertyReducer from './property_reducer';\nimport files from './file_upload_reducer';\nimport { reducer as form } from 'redux-form';\n\n\nconst appReducer = combineReducers({\n  /* your app\u2019s top-level reducers */\n  form,\n  auth,\n  user: userReducer,\n  properties: propertyReducer,\n  files\n})\n\nconst rootReducer = (state, action) =&gt; {\n  if (action.type === 'UNAUTH_USER') {\n    state = undefined\n  }\n\n  return appReducer(state, action)\n}\n\nexport default rootReducer; \n</code></pre>\n"}, {"tags": ["javascript", "string"], "comments": [{"owner": {"reputation": 15197, "user_id": 1475228, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TgQ5O.png?s=128&g=1", "display_name": "Pritam Banerjee", "link": "https://stackoverflow.com/users/1475228/pritam-banerjee"}, "edited": false, "score": 1, "creation_date": 1523486487, "post_id": 49785364, "comment_id": 86586249, "body": "Should not the min be <code>str1.length, str2.length</code> in the first line?"}, {"owner": {"reputation": 3419, "user_id": 3715778, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ecfe74090d7f2a9ba912f65ae33f83be?s=128&d=identicon&r=PG&f=1", "display_name": "koryakinp", "link": "https://stackoverflow.com/users/3715778/koryakinp"}, "reply_to_user": {"reputation": 15197, "user_id": 1475228, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TgQ5O.png?s=128&g=1", "display_name": "Pritam Banerjee", "link": "https://stackoverflow.com/users/1475228/pritam-banerjee"}, "edited": false, "score": 0, "creation_date": 1523486621, "post_id": 49785364, "comment_id": 86586289, "body": "@Pritam Yes, it should. Thx, will edit the question."}, {"owner": {"reputation": 7325, "user_id": 2359687, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b567febb6032c881398226a28bedc09c?s=128&d=identicon&r=PG", "display_name": "devlin carnate", "link": "https://stackoverflow.com/users/2359687/devlin-carnate"}, "edited": false, "score": 4, "creation_date": 1523486741, "post_id": 49785364, "comment_id": 86586315, "body": "This should probably be moved to <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a> because there isn&#39;t an actual problem to fix.  OP is asking for improvement / recommendations."}, {"owner": {"reputation": 9809, "user_id": 2308005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/I8e1z.jpg?s=128&g=1", "display_name": "Medet Tleukabiluly", "link": "https://stackoverflow.com/users/2308005/medet-tleukabiluly"}, "edited": false, "score": 0, "creation_date": 1523488420, "post_id": 49785364, "comment_id": 86586790, "body": "<i>Start index from 1, because <code>str2.substr(0, 0)</code> is empty string</i>"}], "answers": [{"tags": [], "owner": {"reputation": 15224, "user_id": 7328218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69d338eadf83deb112f919f4c8a6052a?s=128&d=identicon&r=PG&f=1", "display_name": "Taki", "link": "https://stackoverflow.com/users/7328218/taki"}, "is_accepted": true, "score": 1, "last_activity_date": 1523504610, "creation_date": 1523504610, "answer_id": 49787646, "question_id": 49785364, "link": "https://stackoverflow.com/questions/49785364/join-string-based-on-startswith-and-endswith/49787646#49787646", "title": "Join string based on startsWith() and endsWith()", "body": "<p>i think it would be a good idea to add the function to the <code>String</code>'s <code>prototype</code> and using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\" rel=\"nofollow noreferrer\">startsWith()</a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Conditional_Operator\" rel=\"nofollow noreferrer\">Conditional (ternary) Operator</a>  this what i could come up with :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>String.prototype.merge = function(str) {\r\n  let match;\r\n  for (let i = this.length; i &gt;= 0; i--)\r\n    (str.startsWith(this.slice(i))) &amp;&amp; (match = this.slice(i));\r\n\r\n  return this.slice(0, this.indexOf(match)) + str.slice(str.indexOf(match), str.length)\r\n}\r\n\r\nlet merged = 'foobarbaz'.merge('bazfoo')\r\n\r\nconsole.log(merged);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>in terms of speed, both methods are identical ( tested execution time with <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Performance/now\" rel=\"nofollow noreferrer\">Performance.now()</a> ) </p>\n\n<p>but less lines and a <a href=\"https://medium.com/javascript-scene/master-the-javascript-interview-what-is-functional-programming-7f218c68b3a0\" rel=\"nofollow noreferrer\">declarative rather than imperative</a> code.</p>\n\n<p>feel free to choose betwee <code>slice</code> and <code>substring</code> ( <a href=\"https://jsperf.com/string-slice-vs-substring\" rel=\"nofollow noreferrer\">slice vs substring</a> )</p>\n"}], "owner": {"reputation": 3419, "user_id": 3715778, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ecfe74090d7f2a9ba912f65ae33f83be?s=128&d=identicon&r=PG&f=1", "display_name": "koryakinp", "link": "https://stackoverflow.com/users/3715778/koryakinp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "accepted_answer_id": 49787646, "answer_count": 1, "score": 2, "last_activity_date": 1523504610, "creation_date": 1523486133, "last_edit_date": 1523487289, "question_id": 49785364, "link": "https://stackoverflow.com/questions/49785364/join-string-based-on-startswith-and-endswith", "title": "Join string based on startsWith() and endsWith()", "body": "<p>I have string <code>var str1 = 'foobarbaz'</code> and <code>var str2 = 'bazfoo'</code></p>\n\n<p>I want to join them based on overlapping starting and ending characters. The result I am looking for is <code>'foobarbazfoo'</code>.</p>\n\n<p>I am currently doing it in a following way:</p>\n\n<pre><code>function merge(str1, str2) {\n    var size = Math.min(str1.length, str2.length);\n    index = 0;\n    for (var i = 0; i &lt; size; i++) {\n\n        var ends = str1.substr(str1.length - i);\n        var starts = str2.substr(0, i);\n\n        if (ends === starts) {\n            index = i;\n        }\n    }\n\n    if (index === 0) {\n        throw 'Strings do not overlap';\n    } else {\n        return str1 + str2.substr(index, str2.length);\n    }\n}\n</code></pre>\n\n<p>I wonder, if there is more elegant and efficient way of doing it ?</p>\n"}, {"tags": ["javascript", "reactjs", "dom", "jsx"], "comments": [{"owner": {"reputation": 3060, "user_id": 6516044, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/uL1tn.jpg?s=128&g=1", "display_name": "Yago Azedias", "link": "https://stackoverflow.com/users/6516044/yago-azedias"}, "edited": false, "score": 0, "creation_date": 1523486112, "post_id": 49785303, "comment_id": 86586145, "body": "<code>appendChild()</code> is a function for html tags, not for React components. Is it your first React contact?"}, {"owner": {"reputation": 221, "user_id": 3751549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u52C2.png?s=128&g=1", "display_name": "GrafWampula", "link": "https://stackoverflow.com/users/3751549/grafwampula"}, "edited": false, "score": 1, "creation_date": 1523486138, "post_id": 49785303, "comment_id": 86586150, "body": "It seems you have not yet understood the underlying concept of React. In React, you don&#39;t directly manipulate the DOM, but rather your components may dispatch actions, which affect data properties which are then redistributed top down throughout your component tree, resulting in the update of the components in order to reflect the new prop contents. I recommend you consult one of the many extensive tutorials available."}, {"owner": {"reputation": 3060, "user_id": 6516044, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/uL1tn.jpg?s=128&g=1", "display_name": "Yago Azedias", "link": "https://stackoverflow.com/users/6516044/yago-azedias"}, "edited": false, "score": 0, "creation_date": 1523486268, "post_id": 49785303, "comment_id": 86586183, "body": "The property <code>this.state.daemon</code> is a value of you component state, that receive <code>props.textContent</code> from its component&#39;s father."}, {"owner": {"reputation": 148, "user_id": 8980452, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-uYDGOIPesBs/AAAAAAAAAAI/AAAAAAAAAEk/ytw1bk7juSc/photo.jpg?sz=128", "display_name": "Fernando Bravo Diaz", "link": "https://stackoverflow.com/users/8980452/fernando-bravo-diaz"}, "reply_to_user": {"reputation": 3060, "user_id": 6516044, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/uL1tn.jpg?s=128&g=1", "display_name": "Yago Azedias", "link": "https://stackoverflow.com/users/6516044/yago-azedias"}, "edited": false, "score": 0, "creation_date": 1523486568, "post_id": 49785303, "comment_id": 86586272, "body": "To answer @YagoAzedias question, yes, this is my first contact with react. So i don&#39;t have any experience about how does jsx work or how is it that one can manipulate the elements of each component."}, {"owner": {"reputation": 3060, "user_id": 6516044, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/uL1tn.jpg?s=128&g=1", "display_name": "Yago Azedias", "link": "https://stackoverflow.com/users/6516044/yago-azedias"}, "edited": false, "score": 1, "creation_date": 1523486732, "post_id": 49785303, "comment_id": 86586312, "body": "I recommend you to read the react&#39;s tutorial: <a href=\"https://reactjs.org/tutorial/tutorial.html\" rel=\"nofollow noreferrer\">reactjs.org/tutorial/tutorial.html</a> There is lot of explanations about what is react, what is the JSX and how can you use the react environment correctly ."}, {"owner": {"reputation": 12017, "user_id": 5005177, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/24654adb38f30006fb2d3bd07dd6242b?s=128&d=identicon&r=PG&f=1", "display_name": "trixn", "link": "https://stackoverflow.com/users/5005177/trixn"}, "edited": false, "score": 0, "creation_date": 1523486745, "post_id": 49785303, "comment_id": 86586316, "body": "You should not manipulate DOM elements yourself. The react way is to alter the state of your data. Your component will reflect changes to the data by re-rendering."}, {"owner": {"reputation": 3060, "user_id": 6516044, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/uL1tn.jpg?s=128&g=1", "display_name": "Yago Azedias", "link": "https://stackoverflow.com/users/6516044/yago-azedias"}, "edited": false, "score": 0, "creation_date": 1523538609, "post_id": 49785303, "comment_id": 86609349, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/38093760/how-to-access-a-dom-element-in-react-what-is-the-equilvalent-of-document-getele\">How to access a DOM element in React? What is the equilvalent of document.getElementById() in React</a>"}, {"owner": {"reputation": 148, "user_id": 8980452, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-uYDGOIPesBs/AAAAAAAAAAI/AAAAAAAAAEk/ytw1bk7juSc/photo.jpg?sz=128", "display_name": "Fernando Bravo Diaz", "link": "https://stackoverflow.com/users/8980452/fernando-bravo-diaz"}, "reply_to_user": {"reputation": 3060, "user_id": 6516044, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/uL1tn.jpg?s=128&g=1", "display_name": "Yago Azedias", "link": "https://stackoverflow.com/users/6516044/yago-azedias"}, "edited": false, "score": 0, "creation_date": 1523651962, "post_id": 49785303, "comment_id": 86665424, "body": "Ok, after revising the react tutorial provided by @YagoAzedias i show some text after toggling a boolean value. Thanks everybody for your help."}], "owner": {"reputation": 148, "user_id": 8980452, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-uYDGOIPesBs/AAAAAAAAAAI/AAAAAAAAAEk/ytw1bk7juSc/photo.jpg?sz=128", "display_name": "Fernando Bravo Diaz", "link": "https://stackoverflow.com/users/8980452/fernando-bravo-diaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523485748, "creation_date": 1523485748, "question_id": 49785303, "link": "https://stackoverflow.com/questions/49785303/how-can-i-access-this-element-with-react", "title": "How can I access this element with react", "body": "<p>I have this js:</p>\n\n<pre><code>import React, {Component} from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nclass Titulo extends Component{\n    render(){\n        return (\n            &lt;h1&gt;Hola Mundo&lt;/h1&gt;\n        );\n    }\n}\n\nclass Contenido extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            element: props.myDiv\n        }\n    }\n\n    render(){\n         return (\n            &lt;div ref={this.state.element} className=\"contenido\"&gt;\n                &lt;p className=\"parrafo\"&gt;\n                Este es el contenido principal de la p\u00e1gina\n                &lt;/p&gt;\n            &lt;/div&gt;\n         );\n    }\n}\n\nclass LeftPanel extends Component{\n\nconstructor(props) {\n    super(props);\n    this.state = {\n        daemon: props.textContent,\n        showPopup: false,\n        elem: 0\n    };\n}\n\ntogglePopup() {\n    this.setState({\n    showPopup: !this.state.showPopup\n    });\n}\n\naddText(i){\n    var t = &lt;p id={i}&gt;Texto agregado&lt;/p&gt;\n    var a = this.state.daemon;\n    a.appendChild(t);\n    this.setState({\n        elem: i+1\n    });\n}\n\nremoveText(i){\n    var a = this.state.daemon;\n    a.removeChild(a.lastChild());\n    this.setState({\n        elem: i-1\n    });\n}\n\nrender(){\n    return (\n        &lt;div className=\"left\"&gt;\n            &lt;span className=\"spanLeft\" onClick={this.togglePopup.bind(this)}&gt;Popup&lt;/span&gt;&lt;br/&gt;\n            &lt;span className=\"spanLeft\" onClick={this.addText(this.state.elem)}&gt;Agregar text&lt;/span&gt;&lt;br/&gt;\n            &lt;span className=\"spanLeft\" onClick={this.removeText(this.state.elem)}&gt;Quitar texto&lt;/span&gt;&lt;br/&gt;\n            &lt;span className=\"spanLeft\" onClick=\"\"&gt;Elemento 4&lt;/span&gt;                    \n            {this.state.showPopup ? \n            &lt;MyPopUp\n                closePopup={this.togglePopup.bind(this)}\n            /&gt;\n            : null\n            }\n        &lt;/div&gt;\n    );\n}   \n}\n\nclass PiePagina extends Component{\nrender(){\n    return (\n        &lt;div className=\"pie\"&gt;\n            &lt;span&gt;Pie de p\u00e1gina&lt;/span&gt;\n        &lt;/div&gt;\n    );\n}\n}\n\n\nclass Cabecera extends Component{\nconstructor(props){\n    super(props);\n    this.mycontent = React.createRef();\n}\n\nrender(){\n    return (\n        &lt;div className=\"cuerpo\"&gt;\n            &lt;div className=\"cabecera\"&gt;\n                &lt;Titulo/&gt;\n            &lt;/div&gt;\n            &lt;div className=\"row\"&gt;\n                &lt;LeftPanel textContent={this.mycontent}/&gt;\n                &lt;Contenido myDiv={this.mycontent}/&gt;\n            &lt;/div&gt;\n            &lt;div&gt;\n                &lt;PiePagina/&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    );\n}\n}\n\nclass PopUpContent extends Component{\nrender(){\n    return(\n        &lt;div className=\"popupContent\"&gt;\n            &lt;div&gt;\n                &lt; span className=\"CloseButton\"\n                    onClick={this.props.closePopup} &gt;\n                    X\n                &lt;/span&gt;\n            &lt;/div&gt;\n            &lt;div &gt;\n                &lt;span className=\"pie\" &gt;\n                    Hola!Soy un popup     \n                &lt;/span&gt;\n            &lt;/div&gt; \n            &lt;div className=\"parrafo\" &gt;\n                &lt;p&gt;\n                Este es un mensaje m\u00e1s que est\u00e1 dentro del popup \n                &lt;/p&gt; \n            &lt;/div&gt;\n        &lt;/div&gt;\n    );\n}\n}\n\nclass MyPopUp extends Component{\nrender(){\n    return(\n        &lt;div className=\"popup\"&gt;\n            &lt;div className=\"popup_inner\"&gt;\n                &lt;PopUpContent\n                    closePopup={this.props.closePopup}\n                /&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    );\n}\n}\nReactDOM.render(&lt;Cabecera/&gt;,document.getElementById('root')); \n</code></pre>\n\n<p>Ok, so I wish to access the div on class \"Contenido\" so I can add some text and delete some text after clicking on some elements.</p>\n\n<p>But I get an error that says that a.appendChild() is not a method.</p>\n\n<p>I see that it isn't being recognised as a method because when trying to acces it with this.state.daemon it isn't returning an element</p>\n"}, {"tags": ["javascript", "node.js", "reactjs", "post", "cors"], "comments": [{"owner": {"reputation": 2700, "user_id": 1819684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rh5yA.png?s=128&g=1", "display_name": "gforce301", "link": "https://stackoverflow.com/users/1819684/gforce301"}, "edited": false, "score": 1, "creation_date": 1523485863, "post_id": 49785278, "comment_id": 86586070, "body": "Node is not a browser and therefore it is not subject to CORS."}, {"owner": {"reputation": 4930, "user_id": 1473968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vua08.jpg?s=128&g=1", "display_name": "colxi", "link": "https://stackoverflow.com/users/1473968/colxi"}, "edited": false, "score": 0, "creation_date": 1523486297, "post_id": 49785278, "comment_id": 86586191, "body": "Have you enabled CORS in the server side ? <a href=\"https://enable-cors.org/server.html\" rel=\"nofollow noreferrer\">enable-cors.org/server.html</a>"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1523487532, "post_id": 49785278, "comment_id": 86586558, "body": "don&#39;t send response headers in a request"}], "answers": [{"tags": [], "owner": {"reputation": 2721, "user_id": 1710444, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/23fb7b17ea705c9454dfc41d75f578a4?s=128&d=identicon&r=PG", "display_name": "Catalyst", "link": "https://stackoverflow.com/users/1710444/catalyst"}, "is_accepted": false, "score": 0, "last_activity_date": 1523492146, "creation_date": 1523492146, "answer_id": 49786135, "question_id": 49785278, "link": "https://stackoverflow.com/questions/49785278/whats-the-difference-between-a-post-request-run-with-node-and-a-request-sent-wi/49786135#49786135", "title": "What&#39;s the difference between a POST request run with Node and a request sent with React/Chrome?", "body": "<p>Browsers send a security-mandated OPTIONS request ahead of POST requests to find out if the server it is requesting to intends to receive requests from the domain the browser is presently at. The browser is refusing to send a request to a server which has not opted into the traffic by responding to the OPTIONS request with the appropriate <code>Access-Control*</code> headers.</p>\n\n<p>Running from the node repl has no such restriction.</p>\n\n<p>This question goes into better detail: <a href=\"https://stackoverflow.com/questions/27915191/how-does-the-chrome-browser-decide-when-to-send-options\">How does the Chrome browser decide when to send OPTIONS?</a></p>\n"}], "owner": {"reputation": 33, "user_id": 4543987, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-o40nOX2qmnI/AAAAAAAAAAI/AAAAAAAAAGw/wT_mtIdCrMk/photo.jpg?sz=128", "display_name": "insertmynamethere", "link": "https://stackoverflow.com/users/4543987/insertmynamethere"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523492146, "creation_date": 1523485597, "question_id": 49785278, "link": "https://stackoverflow.com/questions/49785278/whats-the-difference-between-a-post-request-run-with-node-and-a-request-sent-wi", "title": "What&#39;s the difference between a POST request run with Node and a request sent with React/Chrome?", "body": "<p>I am testing the Robinhood API and the first thing I need to do is login using the API. I am able to login with the following code when I run node login.js</p>\n\n<pre><code>var axios = require('axios')\naxios.post('https://api.robinhood.com/api-token-auth/', {\n      username: 'email@email.com',\n      password: '********'\n    }, {\n       headers: {'Access-Control-Allow-Origin': '*'}\n    }).then(function (response) {\n        console.log(response.data);\n    })\n</code></pre>\n\n<p>However, when I try the same code with React in a browser, I receive the <code>No 'Access-Control-Allow-Origin'</code> error. If I enable <code>Access-Control-Allow-Origin</code> in Chrome, the error does not occur and I can login.</p>\n\n<p>I have already included the <code>Access-Contrl-Allow-Origin</code> header. The problem seems to be a disparity between Node and React/Chrome?</p>\n\n<p>What's allowing the code to run with Node but not with React/Chrome?</p>\n"}, {"tags": ["javascript", "json", "audio"], "comments": [{"owner": {"reputation": 2093, "user_id": 5674976, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uLzW0.jpg?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/5674976/george"}, "edited": false, "score": 0, "creation_date": 1523485797, "post_id": 49785256, "comment_id": 86586054, "body": "please indent your code properly. You are using setTimeout incorrectly. see <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setTimeout\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/&hellip;</a> you need to pass a function first, then <code>5000</code> for your 5 second delay."}, {"owner": {"reputation": 148, "user_id": 1204493, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/bd569f87566eb4222ecc92ba6f08232c?s=128&d=identicon&r=PG", "display_name": "user1204493", "link": "https://stackoverflow.com/users/1204493/user1204493"}, "reply_to_user": {"reputation": 2093, "user_id": 5674976, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uLzW0.jpg?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/5674976/george"}, "edited": false, "score": 0, "creation_date": 1523486016, "post_id": 49785256, "comment_id": 86586115, "body": "I spent 90 minutes trying to get the question and code to display correctly. I guess it still didn&#39;t work. Wish there was a better place to ask these sorts of questions. Somewhere less professional and more for newer people. I try not to post here unless I simply can&#39;t get the answer alone. And...&quot;Yes&quot;, I&#39;ve read the mozilla docs a number of times and it doesn&#39;t make sense with how this is set up. Thanks."}, {"owner": {"reputation": 2093, "user_id": 5674976, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uLzW0.jpg?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/5674976/george"}, "edited": false, "score": 0, "creation_date": 1523486268, "post_id": 49785256, "comment_id": 86586182, "body": "I agree the code format tool which give 4 spaces for selected text is difficult to work with. As for setTimeout, you are passing in <code>5000</code> for the first parameter <code>setTimeout(5000)</code> which is invalid, because it expects a function first, and the delay duration second. Arguments are separated by <i>commas</i>. Here is an example: <code>setTimeout(function(){alert(&quot;5 seconds have passed!&quot;)}, 5000)</code>. the setTimeout itself returns an id (number) for the timeout. So timeOut probably contains <code>0</code>. You can use this id to stop the timeout if you want, with <code>clearTimeout(timeOut)</code>"}, {"owner": {"reputation": 148, "user_id": 1204493, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/bd569f87566eb4222ecc92ba6f08232c?s=128&d=identicon&r=PG", "display_name": "user1204493", "link": "https://stackoverflow.com/users/1204493/user1204493"}, "reply_to_user": {"reputation": 2093, "user_id": 5674976, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uLzW0.jpg?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/5674976/george"}, "edited": false, "score": 0, "creation_date": 1523499773, "post_id": 49785256, "comment_id": 86589221, "body": "@Noface Thank you for offering your help to me. I&#39;ve tried to get the setTimeOut() to work. It doesn&#39;t seem to work for me in this situation. I probably just can&#39;t get the proper syntax. I can get a delay between songs using a for loop. Is there any reason not to do this:  &quot;callbacks&quot;: { \t\t\t &#39;song_change&#39;: function(){  \t\t\t\t for(var count = 0; count &lt; 2900000000; count++); \t\t\t\t }  }"}, {"owner": {"reputation": 2093, "user_id": 5674976, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uLzW0.jpg?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/5674976/george"}, "edited": false, "score": 0, "creation_date": 1523500061, "post_id": 49785256, "comment_id": 86589290, "body": "that&#39;s delaying based on cpu speed, so will be different for different computers etc. just don&#39;t do that. what is your setTimeout code looking like now?"}, {"owner": {"reputation": 2093, "user_id": 5674976, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uLzW0.jpg?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/5674976/george"}, "edited": false, "score": 0, "creation_date": 1523500270, "post_id": 49785256, "comment_id": 86589343, "body": "does it automatically play the next song immediately on a song ending? in that case, does AmplitudeJs not have pause and resume functionality?"}], "answers": [{"comments": [{"owner": {"reputation": 148, "user_id": 1204493, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/bd569f87566eb4222ecc92ba6f08232c?s=128&d=identicon&r=PG", "display_name": "user1204493", "link": "https://stackoverflow.com/users/1204493/user1204493"}, "edited": false, "score": 0, "creation_date": 1530649465, "post_id": 51109077, "comment_id": 89308043, "body": "You made this so easy. I spent days trying to figure this out. I totally missed the pause. I&#39;ll try the fix as soon as I can get back to it."}, {"owner": {"reputation": 148, "user_id": 1204493, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/bd569f87566eb4222ecc92ba6f08232c?s=128&d=identicon&r=PG", "display_name": "user1204493", "link": "https://stackoverflow.com/users/1204493/user1204493"}, "edited": false, "score": 0, "creation_date": 1530906875, "post_id": 51109077, "comment_id": 89414896, "body": "Guess I&#39;m just never going to get this stuff. I tried your fix but it didn&#39;t work for me. Maybe because, after fighting for a week everyday with &quot;timeout()&quot;, I just went ahead and recorded my own delay in silence. I did notice that when I hit &quot;pause&quot; at the start of an audio, I would get the pause. I&#39;ll try recording without my own silence and see if that makes things different. Thanks again for trying to help. Even with no in delay, Amplitude helped me out a lot. -Rachel"}, {"owner": {"reputation": 148, "user_id": 1204493, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/bd569f87566eb4222ecc92ba6f08232c?s=128&d=identicon&r=PG", "display_name": "user1204493", "link": "https://stackoverflow.com/users/1204493/user1204493"}, "edited": false, "score": 0, "creation_date": 1532029138, "post_id": 51109077, "comment_id": 89832070, "body": "I&#39;ve tried everything and the above code isn&#39;t working. 1. Recorded without any silence pause at end using .m4a 2. Plugged my &quot;Callout&quot; into the Blue example. Only changed the url. 3. Recorded again using .mp3. 4. Copy and pasted the recommended code. There is no pause between callouts. I also tried using other callbacks. The only one that did anything was after_play and it simply stopped everything from progressing. Anymore ideas or help would be appreciated."}], "tags": [], "owner": {"reputation": 51, "user_id": 5830672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad148bc14cd955afaec492b49fa1def1?s=128&d=identicon&r=PG", "display_name": "Dan Pastori", "link": "https://stackoverflow.com/users/5830672/dan-pastori"}, "is_accepted": false, "score": 0, "last_activity_date": 1530304613, "creation_date": 1530304613, "answer_id": 51109077, "question_id": 49785256, "link": "https://stackoverflow.com/questions/49785256/amplitudejs-settimeout-with-json-callback/51109077#51109077", "title": "AmplitudeJS setTimeout() with JSON callback", "body": "<p>How I'd approach this would be to do a callback for after the song changes like this:</p>\n\n<pre><code>\"callbacks\": {\n  'song_change': function(){\n    Amplitude.pause();\n\n    setTimeout (function(){\n      Amplitude.play();\n    }, 5000);\n  }\n}\n</code></pre>\n\n<p>What this will do is when the song changes, pause the active song and set a time out. When the 5 seconds (5000 ms) is up, it will play the song which will continue to the next song.  This should provide a proper delay. Hope this helps!</p>\n"}], "owner": {"reputation": 148, "user_id": 1204493, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/bd569f87566eb4222ecc92ba6f08232c?s=128&d=identicon&r=PG", "display_name": "user1204493", "link": "https://stackoverflow.com/users/1204493/user1204493"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 164, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530304613, "creation_date": 1523485446, "question_id": 49785256, "link": "https://stackoverflow.com/questions/49785256/amplitudejs-settimeout-with-json-callback", "title": "AmplitudeJS setTimeout() with JSON callback", "body": "<p>I am trying unsuccessfully to understand how to set a time delay up between songs in AmplitudeJS.</p>\n\n<p>Amplitude uses a JSON file for defining the songs and callbacks. In my case, it is a local JSON file:</p>\n\n<p>From AmplitudeJS example:</p>\n\n<pre><code>var playCount = 0;\nAmplitude.init({\n\"songs\": [\n{\n\"name\": \"Song Name 1\",\n\"album\": \"Album Name\",\n\"url\": \"/song/url.mp3\",\n\"cover_art_url\": \"/cover/art/url.jpg\"\n},\n{\n\"name\": \"Song Name 2\",\n\"artist\": \"Artist Name\",\n\"album\": \"Album Name\",\n\"url\": \"/song/url.mp3\",\n\"cover_art_url\": \"/cover/art/url.jpg\"\n},\n{\n\"name\": \"Song Name 3\",\n\"artist\": \"Artist Name\",\n\"album\": \"Album Name\",\n\"url\": \"/song/url.mp3\",\n\"cover_art_url\": \"/cover/art/url.jpg\"\n}\n],\n//how the callback is setup in the example\n\"callbacks\": {\n'after_play': function(){\nplayCount++;\nalert( playCount );\n}\n}\n});\n</code></pre>\n\n<p>Here is a quote from the docs regarding the amplitudeJS callbacks:</p>\n\n<blockquote>\n  <h3>Callbacks There are a variety of callbacks that AmplitudeJS calls at certain times and the developer can bind to.</h3>\n  \n  <p>| Callback        | Description|</p>\n  \n  <p>| --------------- |------------|</p>\n  \n  <p>| before_play     | Occurs before the play method is called|</p>\n  \n  <p>| after_play      | Occurs after the play method is called|</p>\n  \n  <p>| before_stop       | Occurs before the stop method is called|</p>\n  \n  <p>| after_stop        | Occurs after the stop method is called|</p>\n  \n  <p>| time_update         | Occurs when the time has updated|</p>\n  \n  <p>| album_change        | Occurs when an album changes|</p>\n  \n  <p>| song_change         | Occurs when a song has been changed|</p>\n  \n  <p>To bind to a callback you add a function to your callbacks object with\n  the key of one of the callbacks listed above. That key will be a\n  function. When the callback is called, the function the user passes\n  will be run.</p>\n</blockquote>\n\n<p>I'm trying to add my setTimeout() method to the \"song_change\" callback. According to the way this works in AmplitudeJS, you add the callback at the end of the JSON file. Like this:</p>\n\n<pre><code>\"callbacks\": {\n'after_play': function(){\nplayCount++;\nalert( playCount );\n}\n}\n</code></pre>\n\n<p>One of the MANY things that I have tried is:\nVar = timeOut (This is set at the top of the JSON file as is exampled by Amplitude docs.</p>\n\n<pre><code>\"callbacks\": {\n'song_change': function(){\ntimeOut= setTimeout (5000);\n}\n}\n</code></pre>\n\n<p>I am just trying to set a delay between the songs.</p>\n\n<p>Nothing works. Does anyone have any helpful comments or solutions for this problem? I've looked at every setTimeOut thread on stack overflow and searched all kinds of documents, but I can't seem to understand how to put this together.</p>\n\n<p>I'm a designer at heart. I'm not a great shake as a coder. Please, be gentle, I don't know where else to post to find good help. I am trying. There is so little out there regarding AmplitudeJS. I can't find one forum devoted to it.</p>\n\n<p>TIA -Rachel</p>\n"}, {"tags": ["javascript", "php", "google-chrome-devtools"], "answers": [{"tags": [], "owner": {"reputation": 146, "user_id": 2568578, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/AEWcF.jpg?s=128&g=1", "display_name": "Yaakov Swissa", "link": "https://stackoverflow.com/users/2568578/yaakov-swissa"}, "is_accepted": false, "score": 0, "last_activity_date": 1523506369, "creation_date": 1523506369, "answer_id": 49787883, "question_id": 49785205, "link": "https://stackoverflow.com/questions/49785205/ajax-php-login-code-does-not-work/49787883#49787883", "title": "AJAX PHP Login code does not work", "body": "<p>if there is no javascript error in your console: </p>\n\n<ol>\n<li>check your console for \"xhr\" request for customer_login.php</li>\n<li>at the login.php file print the email and password to make sure that you got them right</li>\n<li>check your query for error</li>\n<li>check your session to see what you got</li>\n</ol>\n\n<p>I hope that these steps will help you find the problem</p>\n"}], "owner": {"reputation": 79, "user_id": 6047227, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9589b518a20f04ad98ff8f0cff968bd4?s=128&d=identicon&r=PG&f=1", "display_name": "CodingJunkie", "link": "https://stackoverflow.com/users/6047227/codingjunkie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523506369, "creation_date": 1523485116, "question_id": 49785205, "link": "https://stackoverflow.com/questions/49785205/ajax-php-login-code-does-not-work", "title": "AJAX PHP Login code does not work", "body": "<p>I am trying to put together an ajax login, After putting the code together yesterday the ajax login was functioning perfectly well. However, today a few issues have risen where the ajax would not login at all. </p>\n\n<p>The code has not been touched since.</p>\n\n<p>After looking at the console, i cannot seem to locate and debug the error.</p>\n\n<p>All help appreciated</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\"&gt;\n    &lt;title&gt;Juicy Juice | Buy a range of different juice&lt;/title&gt;\n&lt;/head&gt;\n    &lt;body&gt;\n\n        &lt;div id=\"container\"&gt;\n            &lt;div id=\"custLogin\"&gt;\n                &lt;a href=\"login.php\"&gt;Login&lt;/a&gt;\n                &lt;a href=\"register.php\"&gt;Register&lt;/a&gt;\n            &lt;/div&gt;\n\n            &lt;div id=\"logo\"&gt;LOGO HERE&lt;/div&gt;\n\n            &lt;!-- Navigation Bar Start--&gt;\n\n            &lt;div id=\"nav\"&gt;\n                &lt;a href=\"index.php\"&gt;HOME&lt;/a&gt;\n                &lt;a href=\"about.php\"&gt;ABOUT&lt;/a&gt;\n                &lt;a href=\"products.php\"&gt;PRODUCTS&lt;/a&gt;\n                &lt;a href=\"contact.php\"&gt;CONTACT&lt;/a&gt;\n                    &lt;div id=\"searchbox\"&gt;\n                        &lt;form action=\"results.php\" method=\"get\"&gt;\n                          &lt;input type=\"text\" placeholder=\"Search..\" name=\"name\" required&gt;\n                          &lt;input id=\"button\" type=\"submit\" value=\"GO\"&gt;&lt;/input&gt;\n                        &lt;/form&gt;\n                    &lt;/div&gt;\n            &lt;/div&gt;\n\n            &lt;!-- Navigation Bar End--&gt;              \n\n            &lt;!-- Login header --&gt;\n            &lt;h1&gt;Login&lt;/h1&gt;\n\n            &lt;!--Login Form --&gt;\n\n            &lt;div id=\"loginContainer\"&gt;\n                &lt;form&gt;\n                    &lt;label for=\"emailLogin\"&gt;Email Address&lt;/label&gt;\n                     &lt;input id=\"emailLogin\" type=\"text\" name=\"email\" placeholder=\"Enter Email\"&gt;\n\n                    &lt;label for=\"passLogin\"&gt;Password&lt;/label&gt;\n                      &lt;input id=\"passLogin\" type=\"password\" name=\"password\" placeholder=\"Enter Password\"&gt;         \n\n                    &lt;button onclick=\"login()\"&gt;Login&lt;/button&gt;\n                &lt;/form&gt;\n            &lt;/div&gt;\n        &lt;p style=\"color: red\" id=\"ErrorMessages\"&gt;&lt;/p&gt;\n\n\n        &lt;script&gt;\n        //Global variables \n        var loggedInStr = \"Logged in &lt;button onclick='logout()'&gt;Logout&lt;/button&gt;\";\n        var loginStr = document.getElementById(\"custLogin\").innerHTML;\n        var request = new XMLHttpRequest();\n\n        //Check login when page loads\n        window.onload = checkLogin;\n\n        //Checks whether user is logged in.\n        function checkLogin(){\n            //Create event handler that specifies what should happen when server responds\n            request.onload = function(){\n                if(request.responseText === \"ok\"){\n                    document.getElementById(\"custLogin\").innerHTML = loggedInStr;\n                }\n                else{\n                    console.log(request.responseText);\n                    document.getElementById(\"custLogin\").innerHTML  = loginStr;\n                }\n            };\n            //Set up and send request\n            request.open(\"GET\", \"check_login.php\");\n            request.send();\n        }\n\n        //Attempts to log in user to server\n        function login(){\n            //Create event handler that specifies what should happen when server responds\n            request.onload = function(){\n                //Check HTTP status code\n                if(request.status === 200){\n                    //Get data from server\n                    var responseData = request.responseText;\n\n                    //Add data to page\n                    if(responseData === \"ok\"){\n                        document.getElementById(\"custLogin\").innerHTML = loggedInStr;\n                        document.getElementById(\"ErrorMessages\").innerHTML = \"\";//Clear error messages\n                    }\n                    else\n                        document.getElementById(\"ErrorMessages\").innerHTML = request.responseText;\n                }\n                else\n                    document.getElementById(\"ErrorMessages\").innerHTML = \"Error communicating with server\";\n            };\n\n            //Extract login data\n            var usrEmail = document.getElementById(\"emailLogin\").value;\n            var usrPassword = document.getElementById(\"passLogin\").value;\n\n            //Set up and send request\n            request.open(\"POST\", \"customer_login.php\");\n            request.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n            request.send(\"email=\" + usrEmail + \"&amp;password=\" + usrPassword);\n        }\n\n        //Logs the user out.\n        function logout(){\n            //Create event handler that specifies what should happen when server responds\n            request.onload = function(){\n                checkLogin();\n            };\n            //Set up and send request\n            request.open(\"GET\", \"logout.php\");\n            request.send();\n        }\n\n    &lt;/script&gt;\n\n\n        &lt;!-- Footer Start--&gt;\n\n            &lt;div id=\"footer\"&gt;\n                &lt;div id=\"bottomNav\"&gt;\n                    &lt;a class=\"active\" href=\"index.html\"&gt;HOME&lt;/a&gt; |\n                    &lt;a href=\"about.html\"&gt;ABOUT&lt;/a&gt; |\n                    &lt;a href=\"products.html\"&gt;PRODUCTS&lt;/a&gt; |\n                    &lt;a href=\"contact.html\"&gt;CONTACT&lt;/a&gt;\n                &lt;/div&gt;\n                    Copyright \u00a9 2018 | Juicy Juice\n            &lt;/div&gt;\n\n\n        &lt;/div&gt;\n        &lt;!-- Footer End--&gt;\n    &lt;/body&gt;\n</code></pre>\n\n<p></p>\n\n<p>PHP code (3 separate files)</p>\n\n<pre><code>&lt;?php\n//Start session management\nsession_start();\n\nif( array_key_exists(\"loggedInUserEmail\", $_SESSION) ){\n}\nelse{\n    echo 'Not logged in.';\n}\n\n\n\n&lt;?php\n\n//Start session management\nsession_start();\n\n//Get name and address strings - need to filter input to reduce chances of SQL injection etc.\n$email= filter_input(INPUT_POST, 'email', FILTER_SANITIZE_STRING);\n$password = filter_input(INPUT_POST, 'password', FILTER_SANITIZE_STRING);    \n\n//Connect to MongoDB and select database\n$mongoClient = new MongoClient();\n$db = $mongoClient-&gt;juice;\n\n//Create a PHP array with our search criteria\n$findCriteria = [\n    \"email\" =&gt; $email\n ];\n\n//Find all of the customers that match  this criteria\n$cursor = $db-&gt;customers-&gt;find($findCriteria);\n\n//Check that there is exactly one customer\nif($cursor-&gt;count() == 0){\n    echo 'Email not recognized.';\n    return;\n}\nelse if($cursor-&gt;count() &gt; 1){\n    echo 'Database error: Multiple customers have same email address.';\n    return;\n}\n\n//Get customer\n$customer = $cursor-&gt;getNext();\n\n//Check password\nif($customer['password'] != $password){\n    echo 'Password incorrect.';\n    return;\n}\n\n//Start session for this user\n$_SESSION['loggedInUserEmail'] = $email;\n\n//Inform web page that login is successful\necho 'ok';  \n\n//Close the connection\n$mongoClient-&gt;close();\n\n\n&lt;?php\n//Start session management\nsession_start();\n\n//Remove all session variables\nsession_unset(); \n\n//Destroy the session \nsession_destroy(); \n\n//Echo result to user\necho 'ok';\n</code></pre>\n\n<p>Javascript (AJAX)</p>\n\n<pre><code>&lt;script&gt;\n        //Global variables \n        var loggedInStr = \"Logged in &lt;button onclick='logout()'&gt;Logout&lt;/button&gt;\";\n        var loginStr = document.getElementById(\"custLogin\").innerHTML;\n        var request = new XMLHttpRequest();\n\n        //Check login when page loads\n        window.onload = checkLogin;\n\n        //Checks whether user is logged in.\n        function checkLogin(){\n            //Create event handler that specifies what should happen when server responds\n            request.onload = function(){\n                if(request.responseText === \"ok\"){\n                    document.getElementById(\"custLogin\").innerHTML = loggedInStr;\n                }\n                else{\n                    console.log(request.responseText);\n                    document.getElementById(\"custLogin\").innerHTML  = loginStr;\n                }\n            };\n            //Set up and send request\n            request.open(\"GET\", \"check_login.php\");\n            request.send();\n        }\n\n        //Attempts to log in user to server\n        function login(){\n            //Create event handler that specifies what should happen when server responds\n            request.onload = function(){\n                //Check HTTP status code\n                if(request.status === 200){\n                    //Get data from server\n                    var responseData = request.responseText;\n\n                    //Add data to page\n                    if(responseData === \"ok\"){\n                        document.getElementById(\"custLogin\").innerHTML = loggedInStr;\n                        document.getElementById(\"ErrorMessages\").innerHTML = \"\";//Clear error messages\n                    }\n                    else\n                        document.getElementById(\"ErrorMessages\").innerHTML = request.responseText;\n                }\n                else\n                    document.getElementById(\"ErrorMessages\").innerHTML = \"Error communicating with server\";\n            };\n\n            //Extract login data\n            var usrEmail = document.getElementById(\"emailLogin\").value;\n            var usrPassword = document.getElementById(\"passLogin\").value;\n\n            //Set up and send request\n            request.open(\"POST\", \"customer_login.php\");\n            request.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n            request.send(\"email=\" + usrEmail + \"&amp;password=\" + usrPassword);\n        }\n\n        //Logs the user out.\n        function logout(){\n            //Create event handler that specifies what should happen when server responds\n            request.onload = function(){\n                checkLogin();\n            };\n            //Set up and send request\n            request.open(\"GET\", \"logout.php\");\n            request.send();\n        }\n\n    &lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript", "oop", "vue.js"], "comments": [{"owner": {"reputation": 113065, "user_id": 1850609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0C56.jpg?s=128&g=1", "display_name": "acdcjunior", "link": "https://stackoverflow.com/users/1850609/acdcjunior"}, "edited": false, "score": 0, "creation_date": 1523486240, "post_id": 49785200, "comment_id": 86586176, "body": "<i>I change an attribute of the child object.</i> How?"}, {"owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "edited": false, "score": 0, "creation_date": 1523488059, "post_id": 49785200, "comment_id": 86586700, "body": "Asking, then not responding."}, {"owner": {"reputation": 1433, "user_id": 7381430, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/8CZL8.jpg?s=128&g=1", "display_name": "Peter Matisko", "link": "https://stackoverflow.com/users/7381430/peter-matisko"}, "edited": false, "score": 0, "creation_date": 1523538460, "post_id": 49785200, "comment_id": 86609224, "body": "Sorry guys. parent.child.property = 1;."}], "answers": [{"tags": [], "owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "is_accepted": false, "score": 1, "last_activity_date": 1523485517, "creation_date": 1523485517, "answer_id": 49785266, "question_id": 49785200, "link": "https://stackoverflow.com/questions/49785200/vue-prop-is-object-change-detection-doesnt-work/49785266#49785266", "title": "Vue prop is object. Change detection doesn&#39;t work", "body": "<p>Change detection on objects and arrays can only work on a <strong>reference change</strong> basis. </p>\n\n<p>Do <code>parent.prop=\"whatever\"</code>, then <code>parent = {...parent}</code> which changes the reference and makes Vue pick up the change.</p>\n\n<blockquote>\n  <p><a href=\"https://vuejs.org/v2/guide/reactivity.html#Change-Detection-Caveats\" rel=\"nofollow noreferrer\">https://vuejs.org/v2/guide/reactivity.html#Change-Detection-Caveats</a> </p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 1433, "user_id": 7381430, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/8CZL8.jpg?s=128&g=1", "display_name": "Peter Matisko", "link": "https://stackoverflow.com/users/7381430/peter-matisko"}, "edited": false, "score": 0, "creation_date": 1523538618, "post_id": 49785511, "comment_id": 86609359, "body": "I think, this is what I needed. Thank you!"}], "tags": [], "owner": {"reputation": 37731, "user_id": 392102, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/A0L1n.jpg?s=128&g=1", "display_name": "Roy J", "link": "https://stackoverflow.com/users/392102/roy-j"}, "is_accepted": true, "score": 8, "last_activity_date": 1523487212, "creation_date": 1523487212, "answer_id": 49785511, "question_id": 49785200, "link": "https://stackoverflow.com/questions/49785200/vue-prop-is-object-change-detection-doesnt-work/49785511#49785511", "title": "Vue prop is object. Change detection doesn&#39;t work", "body": "<p>This works fine <em>if</em> the data item you are changing existed before it became Vue data. In other words, the only items that are reactive are the ones Vue knew about when it built the instance.</p>\n\n<p><a href=\"https://vuejs.org/v2/guide/reactivity.html#Change-Detection-Caveats\" rel=\"noreferrer\">Vue cannot detect property addition</a>. If you want to add a child or a member of a child, you will need to use <a href=\"https://vuejs.org/v2/api/#vm-set\" rel=\"noreferrer\"><code>$set</code></a> or make your change happen by assigning to an already-reactive element.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class Child {\r\n  constructor() {\r\n    this.a = 'one';\r\n  }\r\n}\r\n\r\nclass Parent {\r\n  constructor() {\r\n    this.child = new Child();\r\n  }\r\n}\r\n\r\nnew Vue({\r\n  el: '#app',\r\n  data: {\r\n    p: new Parent()\r\n  },\r\n  watch: {\r\n    p: {\r\n      handler(newVal) {\r\n        console.log('property updated', newVal);\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  mounted() {\r\n    setTimeout(() =&gt; {\r\n      this.p.child.a = 'two';\r\n    }, 500);\r\n    setTimeout(() =&gt; {\r\n      this.$set(this.p.child, 'b', 'something completely new');\r\n    }, 2500);\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://unpkg.com/vue@latest/dist/vue.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"app\"&gt;\r\n\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1433, "user_id": 7381430, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/8CZL8.jpg?s=128&g=1", "display_name": "Peter Matisko", "link": "https://stackoverflow.com/users/7381430/peter-matisko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4980, "favorite_count": 0, "accepted_answer_id": 49785511, "answer_count": 2, "score": 1, "last_activity_date": 1523542296, "creation_date": 1523485076, "question_id": 49785200, "link": "https://stackoverflow.com/questions/49785200/vue-prop-is-object-change-detection-doesnt-work", "title": "Vue prop is object. Change detection doesn&#39;t work", "body": "<p>I would like to ask for explanation of the following situation.</p>\n\n<p>I have an object, that contains other objects inside. I pass this object to a vue component as a prop. </p>\n\n<pre><code>classs parent {\n\n     constructor () {\n        this.child = new Child();\n     }\n\n}\n</code></pre>\n\n<p>Then, I change an attribute of the child object. However, the following vue code doesn't do anything and seems like the watch method is not even called.</p>\n\n<pre><code>    watch : {\n        property : {\n            handler (newVal) {\n                console.log('property updated');\n            },\n            deep: true\n        }\n\n    },\n</code></pre>\n\n<p>Because the vue prop is actually a reference to the Parent object, it is changed. Now, how do I detect changes of the Parent, if Child changes?</p>\n"}, {"tags": ["javascript", "html", "typescript", "vue.js", "vue-component"], "comments": [{"owner": {"reputation": 3060, "user_id": 6516044, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/uL1tn.jpg?s=128&g=1", "display_name": "Yago Azedias", "link": "https://stackoverflow.com/users/6516044/yago-azedias"}, "edited": false, "score": 0, "creation_date": 1523485396, "post_id": 49785185, "comment_id": 86585928, "body": "You should post a link for the code sample, instead of just a link for a code sample print."}, {"owner": {"reputation": 13, "user_id": 7164252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80360337ee0fbabe2306df46e40423e1?s=128&d=identicon&r=PG&f=1", "display_name": "Sindhu G", "link": "https://stackoverflow.com/users/7164252/sindhu-g"}, "reply_to_user": {"reputation": 3060, "user_id": 6516044, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/uL1tn.jpg?s=128&g=1", "display_name": "Yago Azedias", "link": "https://stackoverflow.com/users/6516044/yago-azedias"}, "edited": false, "score": 0, "creation_date": 1523485584, "post_id": 49785185, "comment_id": 86585982, "body": "Just posted the link. Kindly have a look and thanks for the feedback. @YagoAzedias"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7164252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80360337ee0fbabe2306df46e40423e1?s=128&d=identicon&r=PG&f=1", "display_name": "Sindhu G", "link": "https://stackoverflow.com/users/7164252/sindhu-g"}, "edited": false, "score": 0, "creation_date": 1523487399, "post_id": 49785352, "comment_id": 86586518, "body": "Yes that works in this example but in my condition each field has different values to be displayed - &lt;tbody&gt;   &lt;tr v-if=&quot;!isLoading&quot; v-for=&quot;(f, index) in formatted&quot;&gt;     &lt;td :class=&quot;c.ClassName&quot; v-for=&quot;(c, index) in columnsDisplay&quot; v-html=&quot;c.Description&quot;&gt;     &lt;/td&gt;   &lt;/tr&gt; &lt;/tbody&gt;  columnsDisplay.push(  { FieldName: &quot;StateCode&quot;, ClassName: &quot;tracking-state&quot;, Description: &quot;{{f.StateCode}}&quot; }, { FieldName: &quot;EnrollmentDate&quot;, ClassName: &quot;tracking-enrolled&quot;, Description: &quot;&lt;span&gt;{{f.EnrollmentDate}}&lt;/span&gt;&lt;span class=&#39;tracking-cell-subtitle&#39;&gt; {{ f.TimeSinceEnrollment }}&lt;/span&gt;&quot; });"}, {"owner": {"reputation": 1105, "user_id": 8273686, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mBqSF.png?s=128&g=1", "display_name": "Frish", "link": "https://stackoverflow.com/users/8273686/frish"}, "reply_to_user": {"reputation": 13, "user_id": 7164252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80360337ee0fbabe2306df46e40423e1?s=128&d=identicon&r=PG&f=1", "display_name": "Sindhu G", "link": "https://stackoverflow.com/users/7164252/sindhu-g"}, "edited": false, "score": 0, "creation_date": 1523489205, "post_id": 49785352, "comment_id": 86586974, "body": "@SindhuG Hmmm, I&#39;m not convinced it wouldn&#39;t work if you use computed methods instead of inserting the values into strings. ex: Description: {{ computedDescription }}. I haven&#39;t tried however so I can&#39;t prove it... have you? :)"}, {"owner": {"reputation": 1105, "user_id": 8273686, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mBqSF.png?s=128&g=1", "display_name": "Frish", "link": "https://stackoverflow.com/users/8273686/frish"}, "reply_to_user": {"reputation": 13, "user_id": 7164252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80360337ee0fbabe2306df46e40423e1?s=128&d=identicon&r=PG&f=1", "display_name": "Sindhu G", "link": "https://stackoverflow.com/users/7164252/sindhu-g"}, "edited": false, "score": 0, "creation_date": 1523489284, "post_id": 49785352, "comment_id": 86587007, "body": "Also, <i>disclaimer</i>: Not a Vue.js expert --&gt;"}], "tags": [], "owner": {"reputation": 1105, "user_id": 8273686, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mBqSF.png?s=128&g=1", "display_name": "Frish", "link": "https://stackoverflow.com/users/8273686/frish"}, "is_accepted": true, "score": 2, "last_activity_date": 1523486040, "creation_date": 1523486040, "answer_id": 49785352, "question_id": 49785185, "link": "https://stackoverflow.com/questions/49785185/rendering-elements-from-code-behind-to-v-html-in-vuejs/49785352#49785352", "title": "Rendering elements from code-behind to v-html in VueJs", "body": "<p>Consider a <a href=\"https://vuejs.org/v2/guide/computed.html#Computed-Properties\" rel=\"nofollow noreferrer\">computed property</a>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>new Vue({\r\n  el: '#app',\r\n  data: {\r\n    text: 'world'\r\n  },\r\n  computed: {\r\n  \thtml: function() {\r\n    \treturn `&lt;h1&gt;Hello ${ this.text }&lt;/h1&gt;`;\r\n    }\r\n  }\r\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://unpkg.com/vue\"&gt;&lt;/script&gt;\r\n\r\n&lt;div id=\"app\" v-html=\"html\"&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I couldn't find a source to indicate best practice, so perhaps you could also use <a href=\"https://vuejs.org/v2/guide/syntax.html\" rel=\"nofollow noreferrer\">templates</a>, or something else entirely!</p>\n"}], "owner": {"reputation": 13, "user_id": 7164252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80360337ee0fbabe2306df46e40423e1?s=128&d=identicon&r=PG&f=1", "display_name": "Sindhu G", "link": "https://stackoverflow.com/users/7164252/sindhu-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1089, "favorite_count": 1, "accepted_answer_id": 49785352, "answer_count": 1, "score": 0, "last_activity_date": 1523487686, "creation_date": 1523484968, "last_edit_date": 1523487686, "question_id": 49785185, "link": "https://stackoverflow.com/questions/49785185/rendering-elements-from-code-behind-to-v-html-in-vuejs", "title": "Rendering elements from code-behind to v-html in VueJs", "body": "<p>How is it possible to get both the value and html from the code-behind to display effectively?</p>\n\n<p>Example: </p>\n\n<pre><code>html: &lt;div id=\"app\" v-html=\"html\"&gt;&lt;/div&gt;\n\njs: new Vue({\n      el: '#app',\n      data: {\n      html: '&lt;h1&gt;Hello {{text}}&lt;/h1&gt;',\n      text: 'world'\n      }\n    })\n</code></pre>\n\n<p><a href=\"https://jsfiddle.net/Lct8uz4o/214/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/Lct8uz4o/214/</a></p>\n\n<p>Tried using v-text, v-html, {{..}}, {{{..}}}, but nothing worked. </p>\n\n<p>This is just an example, I have to display various div elements with different html syntax and each consist of a value(s) to be displayed. Can you help?</p>\n\n<p>Below is the piece of code from the real issue:</p>\n\n<pre><code>&lt;tbody&gt;\n  &lt;tr v-if=\"!isLoading\" v-for=\"(f, index) in formatted\"&gt;\n    &lt;td :class=\"c.ClassName\" v-for=\"(c, index) in columnsDisplay\" v-html=\"c.Description\"&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/tbody&gt;\n\ncolumnsDisplay.push( \n{\n   FieldName: \"StateCode\",\n   ClassName: \"tracking-state\",\n   Description: \"{{f.StateCode}}\"\n},\n{\n   FieldName: \"EnrollmentDate\",\n   ClassName: \"tracking-enrolled\",\n   Description: \"&lt;span&gt;{{f.EnrollmentDate}}&lt;/span&gt;&lt;span class='tracking-cell-subtitle'&gt; {{ f.TimeSinceEnrollment }}&lt;/span&gt;\"\n},\n{\n   FieldName: \"LastActivity\",\n   ClassName: \"tracking-activity\",\n   Description: \"&lt;span&gt;{{f.LastActivity}}&lt;/span&gt;&lt;span class='tracking-cell-subtitle'&gt;{{f.TimeSinceLastActivity}}&lt;/span&gt;&lt;/td&gt;\"\n});\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "mongodb", "async-await"], "comments": [{"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 1, "creation_date": 1523485357, "post_id": 49785159, "comment_id": 86585916, "body": "It&#39;s not at all clear what you are trying to do. <code>req.session.userId</code> is something that is on the <code>req</code> object not something in you DB. Additionally returning something from a callback does not necessarily become the return value from the original function."}, {"owner": {"reputation": 1503, "user_id": 9433929, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/47d3a32c764311bace7ef11f21181c77?s=128&d=identicon&r=PG&f=1", "display_name": "Max Wolfen", "link": "https://stackoverflow.com/users/9433929/max-wolfen"}, "reply_to_user": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 0, "creation_date": 1523485875, "post_id": 49785159, "comment_id": 86586072, "body": "Thank you for the help! I just start with mongo and express not so far ago. @Mark_M"}], "answers": [{"tags": [], "owner": {"reputation": 141, "user_id": 3181789, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000073722549/picture?type=large", "display_name": "Reethok", "link": "https://stackoverflow.com/users/3181789/reethok"}, "is_accepted": false, "score": 0, "last_activity_date": 1523499099, "creation_date": 1523499099, "answer_id": 49786920, "question_id": 49785159, "link": "https://stackoverflow.com/questions/49785159/nodejs-mongodb-async-await-returns-the-whole-array-of-data/49786920#49786920", "title": "NodeJS/MongoDB. Async/await returns the whole array of data", "body": "<p>You have to <code>await</code> the <code>userFind()</code> function. </p>\n\n<p>The way async functions work is that they return a promise. You are awaiting the DB accesses inside of userFind() but you are not awaiting userFind() itself.</p>\n\n<pre><code>.get(async (req, res) =&gt; {\n        let a = '';\n        async function userFind() {\n            const sess = await User.find((err, users) =&gt; {\n                if (req.session.userId !== undefined) {\n                    return req.session.userId; // return the all array ou Users, instead of just session value\n                } \n                else {\n                    return \"req.session.userId\"; // return the all array of Users, instead of just a string\n                }\n            });\n            console.log(sess);\n\n            const empl =  await EmployersSchemaDB.find((err, employers) =&gt; {\n                return employers; \n            });\n\n            return {\n                sess, \n                empl\n            }\n        }   \n        console.log(await userFind()); // gives two arrays of data above together, but not that I want...\n})\n</code></pre>\n"}], "owner": {"reputation": 1503, "user_id": 9433929, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/47d3a32c764311bace7ef11f21181c77?s=128&d=identicon&r=PG&f=1", "display_name": "Max Wolfen", "link": "https://stackoverflow.com/users/9433929/max-wolfen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 531, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523499743, "creation_date": 1523484807, "question_id": 49785159, "link": "https://stackoverflow.com/questions/49785159/nodejs-mongodb-async-await-returns-the-whole-array-of-data", "title": "NodeJS/MongoDB. Async/await returns the whole array of data", "body": "<p>So, I try to understand why the Async/await in case of MongoDB returns some strange result, instead of the nedded by the condidtion? </p>\n\n<p>For example: I try to get the <code>req.session.userId</code> from <code>await</code> <code>User.find()</code>, but always get the array of Users.</p>\n\n<p>My code:</p>\n\n<pre><code>.get((req, res) =&gt; {\n        let a = '';\n        async function userFind() {\n            const sess = await User.find((err, users) =&gt; {\n                if (req.session.userId !== undefined) {\n                    return req.session.userId; // return the all array ou Users, instead of just session value\n                } \n                else {\n                    return \"req.session.userId\"; // return the all array of Users, instead of just a string\n                }\n            });\n            console.log(sess);\n\n            const empl =  await EmployersSchemaDB.find((err, employers) =&gt; {\n                return employers; \n            });\n\n            return {\n                sess, \n                empl\n            }\n        }   \n        console.log(userFind()); // gives two arrays of data above together, but not that I want...\n})\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "native"], "comments": [{"owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 3, "creation_date": 1523484876, "post_id": 49785145, "comment_id": 86585744, "body": "An arrow function inherits the <code>this</code> context from wherever it is defined. But a function declared using <code>function</code> will have its own <code>this</code>. So the problem is that <code>this.setState</code> is undefined, which means you can&#39;t call it. See <a href=\"https://stackoverflow.com/questions/34361379/arrow-function-vs-function-declaration-expressions-are-they-equivalent-exch?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\">this question</a>"}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1523485002, "post_id": 49785145, "comment_id": 86585795, "body": "A specific workaround for your problem would be to capture <code>this</code> in an explicitly named variable outside the inner function (e.g. <code>const cmp = this;</code>), then refer to that inside the inner function where <code>this</code> is shadowed."}], "owner": {"reputation": 123, "user_id": 8729462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tg0mZ.jpg?s=128&g=1", "display_name": "Staxks", "link": "https://stackoverflow.com/users/8729462/staxks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "closed_date": 1523484927, "answer_count": 0, "score": 0, "last_activity_date": 1523484723, "creation_date": 1523484723, "question_id": 49785145, "link": "https://stackoverflow.com/questions/49785145/why-cant-i-replace-with-function", "closed_reason": "Duplicate", "title": "Why can&#39;t I replace () =&gt; {...} with function() {...}", "body": "<p>This works:</p>\n\n<pre><code>    // Toggle the state every second\n    setInterval(\n      () =&gt; {\n      this.setState(previousState =&gt; {\n        return { isShowingText: !previousState.isShowingText };\n      });\n    }, 1000);\n  }\n</code></pre>\n\n<p>This does not work:</p>\n\n<pre><code>    // Toggle the state every second\n    setInterval(\n      function() {\n      this.setState(previousState =&gt; {\n        return { isShowingText: !previousState.isShowingText };\n      });\n    }, 1000);\n  }\n</code></pre>\n\n<p>I am expecting that if i replace <code>() =&gt; {...}</code> with <code>function() {...}</code> the above code should still work, but instead, I am getting the error that \"undefined is not a function\". Isn't the arrow syntax just shorthand for writing the function keyword?</p>\n"}, {"tags": ["javascript", "reactjs", "react-native", "ecmascript-6"], "comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1523485523, "post_id": 49785130, "comment_id": 86585961, "body": "The question lacks <a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a> . You&#39;re not calling onSignIn anywhere, and it&#39;s unclear where _signIn is called."}, {"owner": {"reputation": 12017, "user_id": 5005177, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/24654adb38f30006fb2d3bd07dd6242b?s=128&d=identicon&r=PG&f=1", "display_name": "trixn", "link": "https://stackoverflow.com/users/5005177/trixn"}, "edited": false, "score": 1, "creation_date": 1523485755, "post_id": 49785130, "comment_id": 86586035, "body": "<a href=\"https://meta.stackexchange.com/a/233676/364724\">XY Problem</a>. To call a non-static function you first need an instance of that class on which you can call that function. Apart from that I don&#39;t believe that this is the correct approach. Could you provide a little more detail about the context?"}, {"owner": {"reputation": 2328, "user_id": 5019495, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4119454c3fbd409d57fb8b93c06f945a?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Hayner", "link": "https://stackoverflow.com/users/5019495/markus-hayner"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1523485765, "post_id": 49785130, "comment_id": 86586041, "body": "@estus _signIn is called in render under onPress={} but I need the values from _signIn to pass them inside onSignIn"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1523485967, "post_id": 49785130, "comment_id": 86586099, "body": "There&#39;s no onPress either. Please, make the code in the question reflect that. MCVE is a requirement in code-related questions."}, {"owner": {"reputation": 2328, "user_id": 5019495, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4119454c3fbd409d57fb8b93c06f945a?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Hayner", "link": "https://stackoverflow.com/users/5019495/markus-hayner"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1523486140, "post_id": 49785130, "comment_id": 86586151, "body": "@estus I&#39;ve added the code where is called _signIn"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 1, "creation_date": 1523486981, "post_id": 49785130, "comment_id": 86586406, "body": "I see. This is XY problem. You can&#39;t use onSignIn because there is no Login instance you could retrieve. Both TouchableOpacity and Login should have common parent component (e.g. Auth) that will hold <code>loading</code> state and provide methods to change it (by passing onLogin, onLogoout props to nested components, etc). This is design problem, I&#39;d suggest to check how simple third-party auth React components work."}], "answers": [{"comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 1, "creation_date": 1523486712, "post_id": 49785428, "comment_id": 86586306, "body": "This code won&#39;t do anything useful. React classes aren&#39;t supposed to be instantiated manually."}, {"owner": {"reputation": 18741, "user_id": 6606831, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x4G1i.jpg?s=128&g=1", "display_name": "Pritish Vaidya", "link": "https://stackoverflow.com/users/6606831/pritish-vaidya"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1523486790, "post_id": 49785428, "comment_id": 86586339, "body": "Yea , but thats what @Markus Hayner was asking for specifically, need more data, to get to the correct workaround."}, {"owner": {"reputation": 2328, "user_id": 5019495, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4119454c3fbd409d57fb8b93c06f945a?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Hayner", "link": "https://stackoverflow.com/users/5019495/markus-hayner"}, "edited": false, "score": 0, "creation_date": 1523487132, "post_id": 49785428, "comment_id": 86586441, "body": "This is actually what I would like. This returns this error <code>Cannot read property &#39;dispatch&#39; of undefined</code>"}, {"owner": {"reputation": 18741, "user_id": 6606831, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x4G1i.jpg?s=128&g=1", "display_name": "Pritish Vaidya", "link": "https://stackoverflow.com/users/6606831/pritish-vaidya"}, "edited": false, "score": 0, "creation_date": 1523487305, "post_id": 49785428, "comment_id": 86586489, "body": "That would be the error, in your dispatch flow , you might need to provide more insight to it."}], "tags": [], "owner": {"reputation": 18741, "user_id": 6606831, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x4G1i.jpg?s=128&g=1", "display_name": "Pritish Vaidya", "link": "https://stackoverflow.com/users/6606831/pritish-vaidya"}, "is_accepted": false, "score": 0, "last_activity_date": 1523486655, "creation_date": 1523486655, "answer_id": 49785428, "question_id": 49785130, "link": "https://stackoverflow.com/questions/49785130/is-possible-to-call-from-a-const-a-function-that-stay-in-a-class/49785428#49785428", "title": "Is possible to call from a const, a function that stay in a class?", "body": "<p>Since you want to call <code>onSignIn</code> in the <code>_signIn</code> const, then you need to make an instance of the class and call the function from that instance.</p>\n\n<p>For example</p>\n\n<pre><code>const _signIn = values =&gt; {\n  // ... Your Data\n  LoginInstance.onSignIn() // call your method here\n}\n\nconst Login = createReactClass({\n    // ... Your Data\n  }),\n\nconst LoginInstance = new Login()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2328, "user_id": 5019495, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4119454c3fbd409d57fb8b93c06f945a?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Hayner", "link": "https://stackoverflow.com/users/5019495/markus-hayner"}, "edited": false, "score": 0, "creation_date": 1523508933, "post_id": 49787606, "comment_id": 86591516, "body": "This method is giving me <code>values is not defined</code> inside onPress"}, {"owner": {"reputation": 1807, "user_id": 3542546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5cdc2fcfe1a258926d21c90bc956660?s=128&d=identicon&r=PG", "display_name": "Stackia", "link": "https://stackoverflow.com/users/3542546/stackia"}, "reply_to_user": {"reputation": 2328, "user_id": 5019495, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4119454c3fbd409d57fb8b93c06f945a?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Hayner", "link": "https://stackoverflow.com/users/5019495/markus-hayner"}, "edited": false, "score": 0, "creation_date": 1523509234, "post_id": 49787606, "comment_id": 86591589, "body": "you have to replace <code>values</code> with your username/password input value."}, {"owner": {"reputation": 2328, "user_id": 5019495, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4119454c3fbd409d57fb8b93c06f945a?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Hayner", "link": "https://stackoverflow.com/users/5019495/markus-hayner"}, "edited": false, "score": 0, "creation_date": 1523509391, "post_id": 49787606, "comment_id": 86591640, "body": "<code>values</code> is actually the input text. this is not a variable created by me."}, {"owner": {"reputation": 1807, "user_id": 3542546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5cdc2fcfe1a258926d21c90bc956660?s=128&d=identicon&r=PG", "display_name": "Stackia", "link": "https://stackoverflow.com/users/3542546/stackia"}, "reply_to_user": {"reputation": 2328, "user_id": 5019495, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4119454c3fbd409d57fb8b93c06f945a?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Hayner", "link": "https://stackoverflow.com/users/5019495/markus-hayner"}, "edited": false, "score": 0, "creation_date": 1523509560, "post_id": 49787606, "comment_id": 86591685, "body": "could you post your <code>handleSubmit</code>?"}, {"owner": {"reputation": 2328, "user_id": 5019495, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4119454c3fbd409d57fb8b93c06f945a?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Hayner", "link": "https://stackoverflow.com/users/5019495/markus-hayner"}, "edited": false, "score": 0, "creation_date": 1523509713, "post_id": 49787606, "comment_id": 86591739, "body": "<code>const { handleSubmit } = this.props;</code> inside render"}, {"owner": {"reputation": 2328, "user_id": 5019495, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4119454c3fbd409d57fb8b93c06f945a?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Hayner", "link": "https://stackoverflow.com/users/5019495/markus-hayner"}, "reply_to_user": {"reputation": 1807, "user_id": 3542546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5cdc2fcfe1a258926d21c90bc956660?s=128&d=identicon&r=PG", "display_name": "Stackia", "link": "https://stackoverflow.com/users/3542546/stackia"}, "edited": false, "score": 0, "creation_date": 1523509956, "post_id": 49787606, "comment_id": 86591811, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/168782/discussion-between-markus-hayner-and-stackia\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 1807, "user_id": 3542546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5cdc2fcfe1a258926d21c90bc956660?s=128&d=identicon&r=PG", "display_name": "Stackia", "link": "https://stackoverflow.com/users/3542546/stackia"}, "is_accepted": false, "score": 0, "last_activity_date": 1523504371, "creation_date": 1523504371, "answer_id": 49787606, "question_id": 49785130, "link": "https://stackoverflow.com/questions/49785130/is-possible-to-call-from-a-const-a-function-that-stay-in-a-class/49787606#49787606", "title": "Is possible to call from a const, a function that stay in a class?", "body": "<p>Define <code>_signIn</code> like this:</p>\n\n<pre><code>function _signIn (values, onSignIn) {\n  let email = values.email;\n  let password = values.password;\n  console.log(email + ' ' + ' ' + password);\n  onSignIn.call(this)\n  return {email, password};\n}\n</code></pre>\n\n<p>Change your render():</p>\n\n<pre><code>&lt;TouchableOpacity onPress={() =&gt; _signIn.call(this, values, this.onSignIn)} ...&gt;\n</code></pre>\n"}], "owner": {"reputation": 2328, "user_id": 5019495, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4119454c3fbd409d57fb8b93c06f945a?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Hayner", "link": "https://stackoverflow.com/users/5019495/markus-hayner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1523509934, "creation_date": 1523484658, "last_edit_date": 1523509934, "question_id": 49785130, "link": "https://stackoverflow.com/questions/49785130/is-possible-to-call-from-a-const-a-function-that-stay-in-a-class", "title": "Is possible to call from a const, a function that stay in a class?", "body": "<p>I would like to call the <code>onSignIn</code> function from <code>_signIn</code> const. I am wondering if that is possible somehow. I've tried to call it ad onSignIn() or Login.onSignIn() but nothing worked.</p>\n\n<pre><code>const _signIn = values =&gt; {\n  let email = values.email;\n  let password = values.password;\n  console.log(email + ' ' + ' ' + password);\n  return {email, password};\n}\n\nconst Login = createReactClass({\n  getInitialState: function() {\n    return {\n      loading: false\n    }\n  },\n  onSignIn: function() {\n    var {dispatch} = this.props;\n    this.setState({\n      loading: true\n    });\n    dispatch(loginUser(email, password)).then(() =&gt; {\n      this.setState({\n        loading: false\n      });\n    });\n  },\n</code></pre>\n\n<p>Here is calling <code>_signIn</code> const</p>\n\n<pre><code>return (\n        &lt;View style={{flex: 1, flexDirection: 'column', margin: 40, justifyContent: 'flex-start'}}&gt;\n          &lt;Field keyboardType='email-address' label='Email' component={renderField} name='email'/&gt; \n          &lt;Field keyboardType='default' label='Password' component={renderFieldPass} name='password'/&gt; \n          &lt;TouchableOpacity onPress={handleSubmit(_signIn)} style={{margin: 10, alignItems: 'center'}}&gt;\n            &lt;Text style={{\n              backgroundColor: 'steelblue', color: 'white', fontSize: 16,\n              height: 37, width: 200, textAlign: 'center', padding: 10\n            }}&gt;Login&lt;/Text&gt;\n          &lt;/TouchableOpacity&gt;\n        &lt;/View&gt;\n      );\n</code></pre>\n\n<p>App.js</p>\n\n<pre><code>var App = createReactClass({\n  getInitialState() {\n    return {}\n  },\n  render() {\n    var renderMainView = () =&gt; {\n      if (this.props.user_id) {\n        return (\n          &lt;Main /&gt;\n        );\n      } else {\n        return (\n          &lt;Login /&gt;\n        );\n      }\n    }\n    return (\n      &lt;View style={{flex: 1}}&gt;\n        &lt;StatusBar barStyle=\"light-content\"/&gt;\n        {renderMainView()}\n        &lt;AlertContainer/&gt;\n      &lt;/View&gt;\n    )\n  }\n});\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "socket.io"], "comments": [{"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1523484707, "post_id": 49785073, "comment_id": 86585708, "body": "The code in your question has me confused.  <code>let io = io(url);</code> is client-side code.  But, <code>io.of(&#39;&#47;webClient&#39;).on(&#39;connection&#39;, ...)</code> looks like server-side code.  Can you clear up what code is where?"}, {"owner": {"reputation": 502, "user_id": 1975301, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9c3b9a8422bd1c33bc90e11525073f14?s=128&d=identicon&r=PG", "display_name": "Kirk Sefchik", "link": "https://stackoverflow.com/users/1975301/kirk-sefchik"}, "reply_to_user": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1523486422, "post_id": 49785073, "comment_id": 86586225, "body": "@jfriend00 Thanks for pointing that out! I fixed up the creation line. :)"}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1523489158, "post_id": 49785073, "comment_id": 86586960, "body": "I cannot reproduce what you describe.  When I have a client that connects on a namespace and then I take the server down and bring the server back up, I see the client reconnect on the namespace just fine.  There must be something else going on here.  Also, what version of socket.io are you running?"}], "owner": {"reputation": 502, "user_id": 1975301, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9c3b9a8422bd1c33bc90e11525073f14?s=128&d=identicon&r=PG", "display_name": "Kirk Sefchik", "link": "https://stackoverflow.com/users/1975301/kirk-sefchik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523486394, "creation_date": 1523484277, "last_edit_date": 1523486394, "question_id": 49785073, "link": "https://stackoverflow.com/questions/49785073/sockets-wont-reconnect-to-namespaces-reregister-handlers-on-server", "title": "Sockets won&#39;t reconnect to namespaces/reregister handlers on server", "body": "<p>I am assigning sockets to namespaces on my server similar to this:</p>\n\n<pre><code>let io = require('socket.io')(port, options)\nio.of('/webClient').on('connection', socket =&gt; {\n  socket.on('someEvent', () =&gt; console.log('do things!'));\n});\n</code></pre>\n\n<p>However, when my clients reconnect for any reason, they are not getting to <code>'do things!'</code> For example, when I take down my socket server, my clients try to reconnect automatically. However, when they reconnect, they are being re-added to the namespace and proper rooms, however their handlers aren't being assigned because <code>'connection'</code> event isn't firing. </p>\n\n<p>Thinking that my clients were maintaining some sort of state that was stopping these events from being emitted, I tried manually reconnecting on the clients using <code>socket.close()</code>, but the same problem is still occurring on reconnection.</p>\n\n<p>Can anyone tell me what I'm doing wrong here? If my socket server goes down, I need these event handlers to be re-run on returning sockets so I can respond to events on them. But if I don't have a handle to them in the namespace, then how to I catch them and identify them?</p>\n"}, {"tags": ["javascript", "jquery", "html", "sweetalert2"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1523484400, "post_id": 49785005, "comment_id": 86585610, "body": "well it appears you never add the div to the document."}, {"owner": {"reputation": 2002, "user_id": 6455516, "user_type": "registered", "accept_rate": 52, "profile_image": "https://graph.facebook.com/10154051803880210/picture?type=large", "display_name": "Manspof", "link": "https://stackoverflow.com/users/6455516/manspof"}, "reply_to_user": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1523484622, "post_id": 49785005, "comment_id": 86585687, "body": "I checked and i added it but the jquery not run when it added dynamiclly"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1523484640, "post_id": 49785005, "comment_id": 86585693, "body": "Do you append the div to the page?"}, {"owner": {"reputation": 2002, "user_id": 6455516, "user_type": "registered", "accept_rate": 52, "profile_image": "https://graph.facebook.com/10154051803880210/picture?type=large", "display_name": "Manspof", "link": "https://stackoverflow.com/users/6455516/manspof"}, "reply_to_user": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1523484982, "post_id": 49785005, "comment_id": 86585786, "body": "yes.I checked when i see in debug mode then Elements and it added new div"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 1, "creation_date": 1523488466, "post_id": 49785005, "comment_id": 86586804, "body": "It would be nice if the code showed it and how things are called."}], "owner": {"reputation": 2002, "user_id": 6455516, "user_type": "registered", "accept_rate": 52, "profile_image": "https://graph.facebook.com/10154051803880210/picture?type=large", "display_name": "Manspof", "link": "https://stackoverflow.com/users/6455516/manspof"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 539, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523483797, "creation_date": 1523483797, "question_id": 49785005, "link": "https://stackoverflow.com/questions/49785005/sweetalert-js-add-content-with-id-and-run-jquery", "title": "sweetalert js add content with id and run jquery", "body": "<p>I build website with html, css, javascript and jquery.</p>\n\n<p>I added content to <a href=\"https://sweetalert.js.org/guides/\" rel=\"nofollow noreferrer\">sweet alert</a> and add element with id</p>\n\n<pre><code>   var share_friends = function(e){\nswal({\n  title: \"&lt;i&gt;Title&lt;/i&gt;\", \n  content: share_social,\n  button: \"V &lt;u&gt;redu&lt;/u&gt;\", \n});\n}\n\nvar share_social = document.createElement(\"div\");\nshare_social.id = 'share'\n</code></pre>\n\n<p>and I want to add piece of jquery code that when I open the alert it add dynamic content of <a href=\"http://js-socials.com/\" rel=\"nofollow noreferrer\">socials shares</a>\n so i added this piece of code</p>\n\n<pre><code>  $(\"#share\").jsSocials({\n        shares: [\"email\", \"twitter\", \"facebook\", \"googleplus\", \"linkedin\", \"pinterest\", \"stumbleupon\", \"whatsapp\"]\n    });\n</code></pre>\n\n<p>but it's not do nothing.</p>\n\n<p>but when I add into my html code (hard-code) the div with the id share it works fine.\ne.g</p>\n\n<pre><code>&lt;div id = \"share\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>How can I fix it?</p>\n"}, {"tags": ["javascript", "reactjs", "testing", "react-router", "create-react-app"], "answers": [{"tags": [], "owner": {"reputation": 95, "user_id": 7102316, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--4zIY_sWD_A/AAAAAAAAAAI/AAAAAAAAAaU/oATD2tuphbk/photo.jpg?sz=128", "display_name": "iggirex", "link": "https://stackoverflow.com/users/7102316/iggirex"}, "is_accepted": true, "score": 0, "last_activity_date": 1523566438, "last_edit_date": 1523566438, "creation_date": 1523562907, "answer_id": 49804860, "question_id": 49784990, "link": "https://stackoverflow.com/questions/49784990/why-does-react-router-break-create-react-app-tests-how-to-fix-this/49804860#49804860", "title": "Why does React Router break create-react-app tests? How to fix this?", "body": "<p>In case someone else runs into a similar issue, here is how I fixed this.</p>\n\n<p>First of all, a lot of people online are saying to go change your package.json npm test script to <code>\"test\": \"jest\"</code> and this is the wrong thing to do: <a href=\"https://github.com/facebook/jest/issues/5119#issuecomment-356120965\" rel=\"nofollow noreferrer\">https://github.com/facebook/jest/issues/5119#issuecomment-356120965</a></p>\n\n<p>Keep it as <code>\"test\": \"react-scripts test --env=jsdom\"</code> (how it comes out of the box from CRA). This is the correct script to use, but I was getting this error still:</p>\n\n<pre><code>2017-06-28 14:14 node[6612] (FSEvents.framework) FSEventStreamStart: register_with_server: ERROR: f2d_register_rpc() =&gt; (null) (-22)\nError: Error watching file for changes: EMFILE\nat exports._errnoException (util.js:1018:11)\nat FSEvent.FSWatcher._handle.onchange (fs.js:1420:11)\n</code></pre>\n\n<p>The problem here is with a package that CRA uses called \"watchman\". First, I'd suggest doing any software updates for your OS, as this can cause watchman issues. Second, if watchman was installed with npm, that's no bueno. Do this</p>\n\n<pre><code>npm uninstall -g watchman\nbrew install --HEAD watchman\nnpm start\n</code></pre>\n\n<p>Which leads me to my next problem: brew would throw errors when trying to install watchman. Turns out my brew environment had a bunch of broken links and permission errors. Using brew doctor I was able to fix these problems and successfully reinstall watchman, and get rid of that error.</p>\n\n<p>After figuring out this groundwork I just had to add <code>&lt;MemoryRouter&gt;</code> to the component I was testing to get CRA and React Router to play nice together. This post explains how to do this better than I can:<a href=\"https://stackoverflow.com/questions/43771517/using-jest-to-test-a-link-from-react-router-v4\">Using Jest to test a Link from react-router v4</a></p>\n\n<p>After all these steps Jest finally started working correctly.</p>\n"}], "owner": {"reputation": 95, "user_id": 7102316, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--4zIY_sWD_A/AAAAAAAAAAI/AAAAAAAAAaU/oATD2tuphbk/photo.jpg?sz=128", "display_name": "iggirex", "link": "https://stackoverflow.com/users/7102316/iggirex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 617, "favorite_count": 0, "accepted_answer_id": 49804860, "answer_count": 1, "score": 1, "last_activity_date": 1523566438, "creation_date": 1523483714, "last_edit_date": 1523566291, "question_id": 49784990, "link": "https://stackoverflow.com/questions/49784990/why-does-react-router-break-create-react-app-tests-how-to-fix-this", "title": "Why does React Router break create-react-app tests? How to fix this?", "body": "<p>I have seen the very similar post:\n<a href=\"https://stackoverflow.com/questions/43771517/using-jest-to-test-a-link-from-react-router-v4\">Using Jest to test a Link from react-router v4</a>\nbut I'm having different errors, and all kinds of them when trying to use CRA and React Router.</p>\n\n<p>If the test script is <code>\"test\": \"react-scripts test --env=jsdom\"</code>, I get this error preventing the tests from running:</p>\n\n<pre><code>2017-06-28 14:14 node[6612] (FSEvents.framework) FSEventStreamStart: register_with_server: ERROR: f2d_register_rpc() =&gt; (null) (-22)\nError: Error watching file for changes: EMFILE\nat exports._errnoException (util.js:1018:11)\nat FSEvent.FSWatcher._handle.onchange (fs.js:1420:11)\n</code></pre>\n\n<p>One solution I've found but I haven't been able to get it to work is to install/reinstall a library called watchman. (<a href=\"https://github.com/facebook/react-native/issues/10028\" rel=\"nofollow noreferrer\">https://github.com/facebook/react-native/issues/10028</a>) but trying to install watchman is throwing out errors as well.</p>\n\n<p>Another solution I found (<a href=\"https://github.com/jest-community/vscode-jest/issues/125\" rel=\"nofollow noreferrer\">https://github.com/jest-community/vscode-jest/issues/125</a>) was to change that test script to <code>\"test\": \"jest\"</code>, and then I get this error:</p>\n\n<pre><code>src/App.test.js: Unexpected token (7:18)\n         5 | it('renders without crashing', () =&gt; {\n         6 |   const div = document.createElement('div');\n      &gt;  7 |   ReactDOM.render(&lt;App /&gt;, div);\n           |                   ^\n         8 |   ReactDOM.unmountComponentAtNode(div);\n         9 | });\n        10 |\n\nTest Suites: 1 failed, 1 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1.646s\nRan all test suites.\nnpm ERR! Test failed.  See above for more details.\n</code></pre>\n\n<p>After going way back in my commit history to find where the test suite initially had problems, I found a different set of errors.\nThe first of the errors happens after installing react-router-dom and adding this one liner to App.js</p>\n\n<pre><code>&lt;Link to=\"/\"&gt;Scratch&lt;/Link&gt;\n</code></pre>\n\n<p>I get this error:</p>\n\n<pre><code>  console.error node_modules/fbjs/lib/warning.js:33\n    Warning: Failed context type: The context `router` is marked as required in`Link`, but its value is `undefined`.\n        in Link (at App.js:13)\n        in NavbarBrand (at App.js:12)\n        in div (created by NavbarHeader)\n        in NavbarHeader (at App.js:11)\n        in div (created by Grid)\n        in Grid (created by Navbar)\n        in nav (created by Navbar)\n        in Navbar (created by Uncontrolled(Navbar))\n        in Uncontrolled(Navbar) (at App.js:10)\n        in div (at App.js:9)\n        in App (at App.test.js:7)\n\n  console.error node_modules/react-dom/cjs/react-dom.development.js:9627\n    The above error occurred in the &lt;Link&gt; component:\n        in Link (at App.js:13)\n        in NavbarBrand (at App.js:12)\n        in div (created by NavbarHeader)\n        in NavbarHeader (at App.js:11)\n        in div (created by Grid)\n        in Grid (created by Navbar)\n        in nav (created by Navbar)\n        in Navbar (created by Uncontrolled(Navbar))\n        in Uncontrolled(Navbar) (at App.js:10)\n        in div (at App.js:9)\n        in App (at App.test.js:7)\n</code></pre>\n\n<p>Everything that I'm trying seems to be yielding different errors, I don't know the correct way to set this up, and since I'm still new to React I'm not very familiar with any of these messages, and the solutions I'm finding online don't seem to be working.</p>\n"}, {"tags": ["javascript", "svg"], "comments": [{"owner": {"reputation": 101196, "user_id": 1038015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d912dac5c74b47bbaff7164f5f8bb8?s=128&d=identicon&r=PG", "display_name": "Robert Longson", "link": "https://stackoverflow.com/users/1038015/robert-longson"}, "edited": false, "score": 0, "creation_date": 1523484462, "post_id": 49784913, "comment_id": 86585630, "body": "figure out what the zoom transform is and apply an inverse transform to that object. Or display the shape you don&#39;t want to zoom in an entirely different SVG."}, {"owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "edited": false, "score": 0, "creation_date": 1523500709, "post_id": 49784913, "comment_id": 86589454, "body": "Would be good to understand full context - hence can you share a snippet of working code and what you are trying to achieve? You could have 2 containers (&lt;g&gt;): one &quot;zoomable&quot; and another with no zoom. You could manage elements between these 2 (using dom manipulation if its OK) containers. Actual zoom could be done via transform in this case."}], "owner": {"reputation": 27, "user_id": 9632967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0af6aa84579448c46b16acea4c3050be?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg Zdanevich", "link": "https://stackoverflow.com/users/9632967/oleg-zdanevich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 245, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523483224, "creation_date": 1523483224, "question_id": 49784913, "link": "https://stackoverflow.com/questions/49784913/svg-pan-zoom-disable-zooming-and-draggging-for-one-element", "title": "svg-pan-zoom disable zooming and draggging for one element", "body": "<p>I have a map of objects in the svg, so I'm using svg-pan-zoom library to zoom this objects, but i have the single object that shouldn't zooming and dragging, maybe someone has some ideas how to disable this transformation with the single object?</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 7215, "user_id": 6831341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wPogL.png?s=128&g=1", "display_name": "Alexander Nied", "link": "https://stackoverflow.com/users/6831341/alexander-nied"}, "edited": false, "score": 1, "creation_date": 1523483190, "post_id": 49784892, "comment_id": 86585226, "body": "Your JS code is malformed-- looks like a missing bracket."}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 1, "creation_date": 1523483240, "post_id": 49784892, "comment_id": 86585241, "body": "If <code>callback</code> is expected to happen after the typeWriter has finished, that is not going to happen as you are trying to call the callback after the first iteration.  You probably want to do that as an else to your if (i &lt; txt.length) conditional"}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 3, "creation_date": 1523483295, "post_id": 49784892, "comment_id": 86585267, "body": "Also <code>typeWriter(fader());</code> should be <code>typeWriter(fader);</code> so you are not invoking the fader."}, {"owner": {"reputation": 49, "user_id": 9163257, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/eb9dcd4d07aed6824a81182fde78f0a0?s=128&d=identicon&r=PG&f=1", "display_name": "KyleMcCann", "link": "https://stackoverflow.com/users/9163257/kylemccann"}, "reply_to_user": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1523483639, "post_id": 49784892, "comment_id": 86585375, "body": "@Taplar just added that as an else and fixed the typeWriter. Still not working..."}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1523483660, "post_id": 49784892, "comment_id": 86585388, "body": "You didn&#39;t keep your check to make sure that the callback is a function.  It will not be defined for the on load."}, {"owner": {"reputation": 49, "user_id": 9163257, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/eb9dcd4d07aed6824a81182fde78f0a0?s=128&d=identicon&r=PG&f=1", "display_name": "KyleMcCann", "link": "https://stackoverflow.com/users/9163257/kylemccann"}, "reply_to_user": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1523483869, "post_id": 49784892, "comment_id": 86585460, "body": "@Taplar still nothing..."}, {"owner": {"reputation": 2093, "user_id": 5674976, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uLzW0.jpg?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/5674976/george"}, "edited": false, "score": 0, "creation_date": 1523483955, "post_id": 49784892, "comment_id": 86585491, "body": "<code>}else{             (typeof callback == &#39;function&#39;){</code> is malformed if else statement. maybe use <code>}else if(typeof callback == &#39;function&#39;){</code> you are also not passing the callback function through the setTimeout. use something like <code>setTimeout(function(){typeWriter(callback)}, speed);</code>"}, {"owner": {"reputation": 49, "user_id": 9163257, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/eb9dcd4d07aed6824a81182fde78f0a0?s=128&d=identicon&r=PG&f=1", "display_name": "KyleMcCann", "link": "https://stackoverflow.com/users/9163257/kylemccann"}, "edited": false, "score": 0, "creation_date": 1523484226, "post_id": 49784892, "comment_id": 86585555, "body": "<code>typeWriter(fader);</code> Is now undefined. I didnt think animating stuff was so difficult."}, {"owner": {"reputation": 2093, "user_id": 5674976, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uLzW0.jpg?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/5674976/george"}, "edited": false, "score": 0, "creation_date": 1523484288, "post_id": 49784892, "comment_id": 86585571, "body": "yes, use <code>callback</code> not <code>fader</code>"}, {"owner": {"reputation": 49, "user_id": 9163257, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/eb9dcd4d07aed6824a81182fde78f0a0?s=128&d=identicon&r=PG&f=1", "display_name": "KyleMcCann", "link": "https://stackoverflow.com/users/9163257/kylemccann"}, "edited": false, "score": 0, "creation_date": 1523484389, "post_id": 49784892, "comment_id": 86585605, "body": "Uncaught ReferenceError: typeWriter is not defined is the error I am getting for <code>typeWriter(callback);</code>"}], "answers": [{"tags": [], "owner": {"reputation": 2093, "user_id": 5674976, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uLzW0.jpg?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/5674976/george"}, "is_accepted": true, "score": 0, "last_activity_date": 1523484941, "last_edit_date": 1523484941, "creation_date": 1523484615, "answer_id": 49785122, "question_id": 49784892, "link": "https://stackoverflow.com/questions/49784892/why-wont-my-elements-fade-in/49785122#49785122", "title": "Why wont my elements fade in?", "body": "<p>After fixing the intial syntax errors, there were some issues to solve. The onload will fire and pass its own arguments, not the callback you want. So instead wrap it in a callback function and call the function with the chosen callback. Alternatively use <code>onload = typeWriter.bind(null, fader)</code> which passes fader as the callback function. Next you want to set the <code>#fade</code> element to <code>display: none</code> in your css so it starts hidden, and then move your txt <code>#type</code> outside the fade div, so it is visible and you can see the auto-typing animation you made.</p>\n\n<p>You can define the <code>typeWriter</code> as a function, and then call it in the <code>window.onload</code> event:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var i = 0;\r\nvar txt = 'Test';\r\nvar speed = 50;\r\nfunction typeWriter(callback){\r\n  if (i &lt; txt.length){\r\n    document.getElementById(\"type\").innerHTML += txt.charAt(i);\r\n    i++;\r\n    setTimeout(function(){typeWriter(callback)}, speed);\r\n  } else if(typeof callback == 'function'){\r\n    callback();\r\n  }\r\n}\r\nfunction fader(){\r\n  $(\"#fade\").fadeIn(\"slow\");\r\n}\r\nwindow.onload = function(){\r\n  typeWriter(fader);\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#fade {\r\n  display: none;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n  &lt;div class=\"subSection\"&gt;\r\n  &lt;h2 id=\"type\"&gt;&lt;/h2&gt;\r\n  &lt;div id=\"fade\"&gt;\r\n    &lt;img src=\"ring.jpg\" alt=\"rings\"&gt;\r\n    &lt;p&gt;Now comes in a range of different colours and sizes.&lt;br&gt;Pricing from \u20ac149.99&lt;/p&gt;\r\n    &lt;p&gt;&lt;a href=order.html class=\"button\"&gt;Buy Now&lt;/a&gt;&lt;/p&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 21838, "user_id": 1913729, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/dGDss.png?s=128&g=1", "display_name": "blex", "link": "https://stackoverflow.com/users/1913729/blex"}, "is_accepted": false, "score": 1, "last_activity_date": 1523485417, "creation_date": 1523485417, "answer_id": 49785250, "question_id": 49784892, "link": "https://stackoverflow.com/questions/49784892/why-wont-my-elements-fade-in/49785250#49785250", "title": "Why wont my elements fade in?", "body": "<p>@Noface was faster than me, but since my solution is different, I still feel like posting it. The major difference is that it does not expose global variables. That means that you can have multiple instances of it running on a page.</p>\n\n<p>Here you go:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function typeWriter(options) {\r\n  // Getting options or using default values\r\n  var settings = {\r\n    element: options.element,\r\n    text: options.text || \"Typewriter\",\r\n    speed: options.speed || 100,\r\n    complete: options.complete || function() {}\r\n  };\r\n\r\n  // Internal state\r\n  var state = {\r\n    i: 0,\r\n    len: settings.text.length\r\n  };\r\n  \r\n  (function writeLetter() {\r\n    if (state.i &gt;= state.len) return settings.complete();\r\n    settings.element.innerHTML += settings.text.charAt(state.i);\r\n    state.i++;\r\n    setTimeout(writeLetter, settings.speed);\r\n  })();\r\n}\r\n\r\nfunction fader() {\r\n  $(\"#fade\").fadeIn(\"slow\");\r\n}\r\n\r\nwindow.onload = function() {\r\n  // Call the function with options\r\n  typeWriter({\r\n    element: document.getElementById(\"type\"),\r\n    text: \"Hello world!\",\r\n    speed: 50,\r\n    complete: fader\r\n  });\r\n};</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;h2 id=\"type\"&gt;&lt;/h2&gt;\r\n&lt;div id=\"fade\" style=\"display: none\"&gt;I'm fading!&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 49, "user_id": 9163257, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/eb9dcd4d07aed6824a81182fde78f0a0?s=128&d=identicon&r=PG&f=1", "display_name": "KyleMcCann", "link": "https://stackoverflow.com/users/9163257/kylemccann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 49785122, "answer_count": 2, "score": 0, "last_activity_date": 1523485417, "creation_date": 1523483082, "last_edit_date": 1523484643, "question_id": 49784892, "link": "https://stackoverflow.com/questions/49784892/why-wont-my-elements-fade-in", "title": "Why wont my elements fade in?", "body": "<p>So far my website that I am doing only animates text that is specified in \"var txt\".</p>\n\n<p>My issue is trying to get the following elements(an image and some text) to fade in after the first function (typeWriter) is finished executing.</p>\n\n<pre><code>    &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\n\n    var i = 0;\n    var txt = 'Test';\n    var speed = 50;\n    window.onload = function typeWriter(callback){\n        if (i &lt; txt.length){\n        document.getElementById(\"type\").innerHTML += txt.charAt(i);\n        i++;\n        setTimeout(function(){typeWriter(callback)}, speed);\n        }else if(typeof callback == 'function'){\n         callback();\n        }\n    }\n    function fader(){\n        $(\"#fade\").fadeIn(\"slow\");\n    }\n\n    typeWriter(callback);\n\n&lt;!-- Html below --&gt;\n\n    &lt;div class=\"subSection\"&gt;\n    &lt;div id=\"fade\"&gt;\n        &lt;h2 id=\"type\"&gt;&lt;/h2&gt;\n        &lt;img src=\"ring.jpg\" alt=\"rings\"&gt;\n        &lt;p&gt;Now comes in a range of different colours and sizes.&lt;br&gt;Pricing from \u20ac149.99&lt;/p&gt;\n        &lt;p&gt;&lt;a href=order.html class=\"button\"&gt;Buy Now&lt;/a&gt;&lt;/p&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "iframe", "google-chrome-extension"], "comments": [{"owner": {"reputation": 6841, "user_id": 1146151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/373abc70d02ce7bac0eb6aae4bdea254?s=128&d=identicon&r=PG", "display_name": "rgthree", "link": "https://stackoverflow.com/users/1146151/rgthree"}, "edited": false, "score": 1, "creation_date": 1523483039, "post_id": 49784813, "comment_id": 86585173, "body": "You&#39;re adding it to the documentElement (usually the &lt;html&gt; tag), not the body"}, {"owner": {"reputation": 77, "user_id": 7520086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/316edcf4529ae5a37010a8217a907e0a?s=128&d=identicon&r=PG&f=1", "display_name": "\u0418\u043b\u044c\u044f \u041a\u043e\u043b\u0434\u0443\u043d\u043e\u0432", "link": "https://stackoverflow.com/users/7520086/%d0%98%d0%bb%d1%8c%d1%8f-%d0%9a%d0%be%d0%bb%d0%b4%d1%83%d0%bd%d0%be%d0%b2"}, "reply_to_user": {"reputation": 6841, "user_id": 1146151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/373abc70d02ce7bac0eb6aae4bdea254?s=128&d=identicon&r=PG", "display_name": "rgthree", "link": "https://stackoverflow.com/users/1146151/rgthree"}, "edited": false, "score": 0, "creation_date": 1523510013, "post_id": 49784813, "comment_id": 86591843, "body": "It doesn&#39;t metter what I am append. There are no body (when I&#39;m appending body with background color nothing happens too)."}], "answers": [{"tags": [], "owner": {"reputation": 77, "user_id": 7520086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/316edcf4529ae5a37010a8217a907e0a?s=128&d=identicon&r=PG&f=1", "display_name": "\u0418\u043b\u044c\u044f \u041a\u043e\u043b\u0434\u0443\u043d\u043e\u0432", "link": "https://stackoverflow.com/users/7520086/%d0%98%d0%bb%d1%8c%d1%8f-%d0%9a%d0%be%d0%bb%d0%b4%d1%83%d0%bd%d0%be%d0%b2"}, "is_accepted": true, "score": 0, "last_activity_date": 1523903040, "creation_date": 1523903040, "answer_id": 49863919, "question_id": 49784813, "link": "https://stackoverflow.com/questions/49784813/remake-page-while-loading/49863919#49863919", "title": "Remake page while loading", "body": "<p>Have got no idea why is it happen, but window.stop blocks the DOM from changes after calling. In order to reset this state I should do this:</p>\n\n<pre><code>document.documentElement.innerHTML = \"\";\n</code></pre>\n\n<p>And as a bonus head and body will be appended automatically)</p>\n"}], "owner": {"reputation": 77, "user_id": 7520086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/316edcf4529ae5a37010a8217a907e0a?s=128&d=identicon&r=PG&f=1", "display_name": "\u0418\u043b\u044c\u044f \u041a\u043e\u043b\u0434\u0443\u043d\u043e\u0432", "link": "https://stackoverflow.com/users/7520086/%d0%98%d0%bb%d1%8c%d1%8f-%d0%9a%d0%be%d0%bb%d0%b4%d1%83%d0%bd%d0%be%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 49863919, "answer_count": 1, "score": 0, "last_activity_date": 1523903040, "creation_date": 1523482597, "last_edit_date": 1523902843, "question_id": 49784813, "link": "https://stackoverflow.com/questions/49784813/remake-page-while-loading", "title": "Remake page while loading", "body": "<p>I'm writing an extension for chrome. The problem is I need to insert an iframe of loading page into DOM instead of loading itself.</p>\n\n<p>Here is a code of the content script which is not working:</p>\n\n<pre><code>window.stop();\nvar body = document.createElement(\"body\");\nbody.src = window.location.href;\ndocument.documentElement.appendChild(body);\n</code></pre>\n\n<p>Why browser generate body in DOM but don't show it on the page?</p>\n"}, {"tags": ["javascript", "angular"], "answers": [{"comments": [{"owner": {"reputation": 1826, "user_id": 8716287, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/79769dea065acc845cf650899a940f1d?s=128&d=identicon&r=PG&f=1", "display_name": "valik", "link": "https://stackoverflow.com/users/8716287/valik"}, "edited": false, "score": 1, "creation_date": 1523483807, "post_id": 49784939, "comment_id": 86585440, "body": "i did that now and in my console i still get truck.service.ts:95 server side  400, body was: IllegalStateException: such Truck already exits"}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "reply_to_user": {"reputation": 1826, "user_id": 8716287, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/79769dea065acc845cf650899a940f1d?s=128&d=identicon&r=PG&f=1", "display_name": "valik", "link": "https://stackoverflow.com/users/8716287/valik"}, "edited": false, "score": 1, "creation_date": 1523484248, "post_id": 49784939, "comment_id": 86585561, "body": "Wait! You use this code fragment with both subscriptions! Did you change both parts in your code? I mean <i>this.truckService.createTruck(truck).subscribe()</i> and <i>this.truckService.updateTruck(truck).subscribe()</i>"}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "reply_to_user": {"reputation": 1826, "user_id": 8716287, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/79769dea065acc845cf650899a940f1d?s=128&d=identicon&r=PG&f=1", "display_name": "valik", "link": "https://stackoverflow.com/users/8716287/valik"}, "edited": false, "score": 1, "creation_date": 1523484527, "post_id": 49784939, "comment_id": 86585650, "body": "I edited / updated my example. Now both subscriptions are covered."}, {"owner": {"reputation": 1826, "user_id": 8716287, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/79769dea065acc845cf650899a940f1d?s=128&d=identicon&r=PG&f=1", "display_name": "valik", "link": "https://stackoverflow.com/users/8716287/valik"}, "edited": false, "score": 1, "creation_date": 1523484833, "post_id": 49784939, "comment_id": 86585736, "body": "yes i actually still the same error   check my error handler and extractData its ok that i am return the body ?"}], "tags": [], "owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "is_accepted": false, "score": 1, "last_activity_date": 1523484490, "last_edit_date": 1523484490, "creation_date": 1523483394, "answer_id": 49784939, "question_id": 49784805, "link": "https://stackoverflow.com/questions/49784805/how-do-i-catch-status-code-with-httpclient-angular/49784939#49784939", "title": "How do i catch status code with httpClient angular", "body": "<p>You have to cast the error first to Response-object.\nThen you can access the error code.</p>\n\n<pre><code>import { Response } from '@angular/http';\n\nif (this.truck.truckId == undefined) {\n  let truck= new Truck(null, truckCode, date, description);\n\n  this.truckService.createTruck(truck).subscribe((truck) =&gt; {\n    console.log(truck);\n    this.router.navigate(['/trucks'])\n  },\n    (errorCode: Response) =&gt; { this.statusCode = errorCode.status });\n\n}else {\n  let truck= new Truck(this.truck.truckId, truckCode, date, description);\n\n  this.truckService.updateTrucks(truck).subscribe((truck) =&gt; {\n    console.log(truck);\n    this.router.navigate(['/trucks'])\n  }, \n     (errorCode: Response) =&gt; { this.statusCode = errorCode.status });\n\n}\n</code></pre>\n\n<p>This should do.</p>\n"}, {"tags": [], "owner": {"reputation": 580, "user_id": 4572652, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Lzhkx.png?s=128&g=1", "display_name": "spaceman", "link": "https://stackoverflow.com/users/4572652/spaceman"}, "is_accepted": false, "score": 1, "last_activity_date": 1523505165, "last_edit_date": 1523505165, "creation_date": 1523483705, "answer_id": 49784986, "question_id": 49784805, "link": "https://stackoverflow.com/questions/49784805/how-do-i-catch-status-code-with-httpclient-angular/49784986#49784986", "title": "How do i catch status code with httpClient angular", "body": "<p>I did that by simply:</p>\n\n<p>In your truckService:</p>\n\n<pre><code>import { map, tap, catchError } from 'rxjs/operators';\nimport { of } from 'rxjs/observable/of';\n\n...\n\n        createTruck(truck: Truck): Observable&lt;number&gt; {\n         return this.http.post(this.baseUrl, JSON.stringify(truck), {headers: this.headers})\n          .pipe(\n            map(this.extractData),\n            tap(data =&gt; console.log(JSON.stringify(data))),\n            catchError(this.handleError));\n      }\n</code></pre>\n\n<p>In your component:</p>\n\n<pre><code>processForm() {\n\n  this.processValidation = true;\n  if (this.truckForm.invalid) {\n    return; //Validation failed, exit from method.\n  }\n\n  // if we are here then all good\n   this.preProcessConfigurations()\n\n  let truckCode = this.truckForm.get('truckCode').value.trim();\n  let date = this.truckForm.get('date').value.trim();\n  let description = this.truckForm.get('description').value.trim();\n\n\n  if (this.truck.truckId == undefined) {\n    let truck= new Truck(null, truckCode, date, description);\n\n    this.truckService.createTruck(truck).subscribe((truck) =&gt; {\n\n      this.router.navigate(['/trucks']);\n    },\n    error =&gt; {\n      if(error){\n        this.statusCode=error;\n        console.log('error code'+ this.statusCode)\n      }\n    });\n\n  }else {\n    let truck= new Truck(this.truck.truckId, truckCode, date, description);\n\n    this.truckService.updateTrucks(truck).subscribe((truck) =&gt; {\n\n      this.router.navigate(['/trucks']);\n    },\n    error =&gt; {\n\n        if(error){\n          this.statusCode=error;\n          console.log('error code'+ this.statusCode)\n        }\n\n    });\n\n  }\n}\n</code></pre>\n\n<blockquote>\n  <p>Edit: Better approach that works. Get that in your <code>subscribe</code> and\n  assign it to the variable you want. Leaving error just for logging,\n  that way you can use data you retrieve. <code>error</code> is used for\n  errorHandling, not passing data. That you will do on <code>.subscribe</code>.</p>\n</blockquote>\n\n<p>You can see that this way you are receiving a full Response with everything you need, like headers, ok, status, statusText, type, url and _body.</p>\n\n<p>Hope it helps</p>\n"}, {"comments": [{"owner": {"reputation": 909, "user_id": 3090337, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/60b5c3149bb01219e29fe4b55ee57484?s=128&d=identicon&r=PG&f=1", "display_name": "cfl", "link": "https://stackoverflow.com/users/3090337/cfl"}, "edited": false, "score": 0, "creation_date": 1598249052, "post_id": 49803848, "comment_id": 112384914, "body": "Observable.throw is now deprecated"}], "tags": [], "owner": {"reputation": 1826, "user_id": 8716287, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/79769dea065acc845cf650899a940f1d?s=128&d=identicon&r=PG&f=1", "display_name": "valik", "link": "https://stackoverflow.com/users/8716287/valik"}, "is_accepted": false, "score": 1, "last_activity_date": 1523558674, "creation_date": 1523558674, "answer_id": 49803848, "question_id": 49784805, "link": "https://stackoverflow.com/questions/49784805/how-do-i-catch-status-code-with-httpclient-angular/49803848#49803848", "title": "How do i catch status code with httpClient angular", "body": "<p>So everything was ok except that this is angular 4 and in the static method throw doesnt come with the import of rxjs/Observable, this was the problem</p>\n\n<pre><code>private handleError(error: HttpErrorResponse| any) {\n    let errorMessage: string;\n\n    // A client-side or network error occurred.\n    if (error.error instanceof Error) {\n      errorMessage = `An error occurred: ${error.error.message}`;\n\n    } else {\n      errorMessage = `server side  ${error.status}, body was: ${error.error}`;\n    }\n\n    console.error(error.ok || error);\n    return Observable.throw(error.status);// observable throw is not a function \n  }\n</code></pre>\n\n<p>you to explicitly do import</p>\n\n<pre><code> import 'rxjs/add/observable/throw'; \n</code></pre>\n\n<p>with this it will now work</p>\n"}], "owner": {"reputation": 1826, "user_id": 8716287, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/79769dea065acc845cf650899a940f1d?s=128&d=identicon&r=PG&f=1", "display_name": "valik", "link": "https://stackoverflow.com/users/8716287/valik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1785, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1523558674, "creation_date": 1523482560, "last_edit_date": 1523486510, "question_id": 49784805, "link": "https://stackoverflow.com/questions/49784805/how-do-i-catch-status-code-with-httpclient-angular", "title": "How do i catch status code with httpClient angular", "body": "<p>I am working with http client i have a in my service </p>\n\n<pre><code>  private extractData(response: HttpResponse&lt;Truck&gt;) {\n    const body = response;\n    return body || {};\n  } \n\n  private handleError(err: HttpErrorResponse) {\n    let errorMessage: string;\n\n    // A client-side or network error occurred.\n    if (err.error instanceof Error) {\n      errorMessage = `An error occurred: ${err.error.message}`;\n    }\n  ,\n    else {\n      errorMessage = `server side  ${err.status}, body was: ${err.error}`;\n    }\n\n    console.error(errorMessage || err);\n    return Observable.throw(err.status);\n  }\n</code></pre>\n\n<p>and a create method post</p>\n\n<pre><code>createTruck(truck: Truck): Observable&lt;number&gt; {\n     return this.http.post(this.baseUrl, JSON.stringify(truck), {headers: this.headers})\n      .pipe(\n        map(this.extractData),\n        tap(data =&gt; console.log(JSON.stringify(data))),\n        catchError(this.handleError));\n  }\n</code></pre>\n\n<p>In my component im trying to get the status code ,the method succesfully posts but i have errors when i try a duplicate truckCode which i want to be returned as a message in the app.</p>\n\n<pre><code>processForm() {\n\n    this.processValidation = true;\n    if (this.truckForm.invalid) {\n      return; //Validation failed, exit from method.\n    }\n\n    // if we are here then all good\n     this.preProcessConfigurations()\n\n    let truckCode = this.truckForm.get('truckCode').value.trim();\n    let date = this.truckForm.get('date').value.trim();\n    let description = this.truckForm.get('description').value.trim();\n\n\n    if (this.truck.truckId == undefined) {\n      let truck= new Truck(null, truckCode, date, description);\n\n      this.truckService.createTruck(truck).subscribe((truck) =&gt; {\n        console.log(truck);\n        this.router.navigate(['/trucks'])\n      },\n        errorCode =&gt; this.statusCode = errorCode);\n\n    }else {\n      let truck= new Truck(this.truck.truckId, truckCode, date, description);\n\n      this.truckService.updateTrucks(truck).subscribe((truck) =&gt; {\n        console.log(truck);\n        this.router.navigate(['/trucks'])\n      }, errorCode =&gt; this.statusCode = errorCode);\n\n    }\n  }\n</code></pre>\n\n<p>so in my html i did this to get the status code but it doesnt work, i i think there is a problem with the service as it maps the body and not a status code what can i do ? here is my html part of it </p>\n\n<pre><code>           &lt;!--form end--&gt;\n            &lt;/form&gt;\n            &lt;br/&gt;\n            &lt;div *ngIf=\"statusCode; else processing\"&gt;\n\n              &lt;div *ngIf=\"statusCode === 201\" [ngClass] = \"'success'\"&gt;\n                Article added successfully.\n              &lt;/div&gt;\n              &lt;div *ngIf=\"statusCode === 409\" [ngClass] = \"'success'\"&gt;\n                Article already exists.\n              &lt;/div&gt;\n              &lt;div *ngIf=\"statusCode === 400\" [ngClass] = \"'success'\"&gt;\n                Article already exists.\n              &lt;/div&gt;\n              &lt;div *ngIf=\"statusCode === 200\" [ngClass] = \"'success'\"&gt;\n                Article updated successfully.\n              &lt;/div&gt;\n              &lt;div *ngIf=\"statusCode === 204\" [ngClass] = \"'success'\"&gt;\n                Article deleted successfully.\n              &lt;/div&gt;\n              &lt;div *ngIf=\"statusCode === 500\" [ngClass] = \"'error'\"&gt;\n                Internal Server Error.\n              &lt;/div&gt;\n            &lt;/div&gt;\n\n            &lt;ng-template #processing&gt;\n              &lt;img *ngIf=\"requestProcessing\" src=\"assets/images/loading.gif\"&gt;\n            &lt;/ng-template&gt;\n          &lt;/div&gt;\n</code></pre>\n\n<p>the #processing part works but status code doesnt any help please thank you.</p>\n\n<p>How it looks now , after i added it gave error status does not exist on type truck, what could it b</p>\n\n<pre><code>e\n\n  this.truckService.createTruck(truck).subscribe((truck) =&gt; {\n    console.log(truck['_body']);\n    this.router.navigate(['/trucks'])\n  }, this.statusCode = truck.status;\n    // (errorCode: Response) =&gt; { this.statusCode = errorCode.status})\n    // errorCode =&gt; this.statusCode = errorCode); \n  this.truckService.updateTrucks(truck).subscribe((truck) =&gt; {\n    console.log(truck['_body']);\n    this.router.navigate(['/trucks'])\n  },this.statusCode = truck.status;\n    // (errorCode: Response) =&gt; { this.statusCode = errorCode.status});\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "express", "websocket", "socket.io"], "answers": [{"tags": [], "owner": {"reputation": 18897, "user_id": 8059459, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9f0fc0fd607fc44a4597cacb7f034ba6?s=128&d=identicon&r=PG&f=1", "display_name": "Willem van der Veen", "link": "https://stackoverflow.com/users/8059459/willem-van-der-veen"}, "is_accepted": false, "score": 0, "last_activity_date": 1523699889, "last_edit_date": 1523699889, "creation_date": 1523566762, "answer_id": 49805771, "question_id": 49784798, "link": "https://stackoverflow.com/questions/49784798/amount-of-tcp-connections-socket-io-using-namespaces/49805771#49805771", "title": "Amount of TCP connections socket.io using namespaces", "body": "<p>For anyone who is interested. Different namespaces are sitting on one websocket connection (thus one TCP connection). </p>\n\n<p>You can see a websocket connection being made in the network tab (chrome devtools this example) like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/VMq0l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VMq0l.png\" alt=\"namespaces TCP connections socket.io \"></a></p>\n\n<p>We can see in the above illustration that one websocket connection is made because there is one Type <code>websocket</code>. </p>\n"}], "owner": {"reputation": 18897, "user_id": 8059459, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9f0fc0fd607fc44a4597cacb7f034ba6?s=128&d=identicon&r=PG&f=1", "display_name": "Willem van der Veen", "link": "https://stackoverflow.com/users/8059459/willem-van-der-veen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523699889, "creation_date": 1523482528, "question_id": 49784798, "link": "https://stackoverflow.com/questions/49784798/amount-of-tcp-connections-socket-io-using-namespaces", "title": "Amount of TCP connections socket.io using namespaces", "body": "<p>When I have the following express app (code snippet only shows code of interest):</p>\n\n<p><strong>Backend express server:</strong></p>\n\n<pre><code>io.on('connection', (socket) =&gt; {\n   ...logic...\n});\n\nconst nsp = io.of('/my-namespace');\nnsp.on('connection', (socket) =&gt; {\n  ...logic...\n});\n</code></pre>\n\n<p><strong>Front end</strong></p>\n\n<pre><code>const socket1 = io();\n\nconst socket2 = io('/my-namespace');\n</code></pre>\n\n<p>My current understanding is that this will create only one TCP connection. Does connecting to multiple namespaces create multiple TCP connections or does it use one TCP connection?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 1003, "user_id": 4568188, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5D86s.jpg?s=128&g=1", "display_name": "bwalshy", "link": "https://stackoverflow.com/users/4568188/bwalshy"}, "edited": false, "score": 0, "creation_date": 1523482636, "post_id": 49784789, "comment_id": 86585002, "body": "In the .indexOf call, you have to wrap ?pid=154 in single or double quotes"}, {"owner": {"reputation": 5292, "user_id": 5277925, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqXL9.jpg?s=128&g=1", "display_name": "Danny Fardy Jhonston Berm&#250;dez", "link": "https://stackoverflow.com/users/5277925/danny-fardy-jhonston-berm%c3%badez"}, "edited": false, "score": 0, "creation_date": 1523482816, "post_id": 49784789, "comment_id": 86585077, "body": "It&#39;s <code>my_w_loc.indexOf(&quot;?pid=154&quot;) &gt; -1</code>."}], "answers": [{"tags": [], "owner": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "is_accepted": false, "score": 0, "last_activity_date": 1523483282, "creation_date": 1523483282, "answer_id": 49784923, "question_id": 49784789, "link": "https://stackoverflow.com/questions/49784789/window-location-characters-remove-javascript/49784923#49784923", "title": "Window Location Characters Remove JavaScript", "body": "<p><code>replace</code> takes strings as arguments. You don't even need to check if your string contains the substring, you can do everything in one line with: </p>\n\n<p><code>let curl = window.location.href.replace('?pid=154', '')</code></p>\n"}], "owner": {"reputation": 39, "user_id": 5739190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f77160367c1d0a6f6383eeb26e5261e?s=128&d=identicon&r=PG&f=1", "display_name": "Icado", "link": "https://stackoverflow.com/users/5739190/icado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523483282, "creation_date": 1523482496, "question_id": 49784789, "link": "https://stackoverflow.com/questions/49784789/window-location-characters-remove-javascript", "title": "Window Location Characters Remove JavaScript", "body": "<p>I have several urls ended with \u201c?pid=154\u201d</p>\n\n<p>My urls are like</p>\n\n<p>mysitename/?pid=154<br>\nmysitename/abc.html?pid=154<br>\nmysitename/abc/abcd.html?pid=154<br>\nmysitename/abc/abcd/abcdef.html?pid=154<br></p>\n\n<p>I want to remove ?pid=154</p>\n\n<p>I need the below results\nmysitename<br>\nmysitename/abc.html<br>\nmysitename/abc/abcd.html<br>\nmysitename/abc/abcd/abcdef.html<br></p>\n\n<p>I tried with</p>\n\n<pre>\n\n    var my_w_loc = window.location.href;\n    if (my_w_loc.indexOf(?pid=154)) {\n        curl = my_w_loc.replace('?pid=154', '');\n    }\n\n</pre>\n"}, {"tags": ["javascript", "node.js", "handlebars.js", "express-handlebars"], "answers": [{"tags": [], "owner": {"reputation": 165, "user_id": 6761800, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CmFK35xZp18/AAAAAAAAAAI/AAAAAAAAAwI/vy29Z-VwQ7s/photo.jpg?sz=128", "display_name": "\u0412\u043b\u0430\u0434\u0438\u0441\u043b\u0430\u0432 \u0421\u0438\u0440\u043e\u0448\u0442\u0430\u043d", "link": "https://stackoverflow.com/users/6761800/%d0%92%d0%bb%d0%b0%d0%b4%d0%b8%d1%81%d0%bb%d0%b0%d0%b2-%d0%a1%d0%b8%d1%80%d0%be%d1%88%d1%82%d0%b0%d0%bd"}, "is_accepted": false, "score": 1, "last_activity_date": 1526914938, "creation_date": 1526914938, "answer_id": 50451579, "question_id": 49784766, "link": "https://stackoverflow.com/questions/49784766/handlebars-i18n-helper-inside-each-loop/50451579#50451579", "title": "handlebars i18n helper inside each loop", "body": "<p>It works for me:</p>\n\n<pre><code>{{#with ..}}{{i18n \"to-inspect\"}}{{/with}}\n</code></pre>\n\n<p>This moves the context upward</p>\n"}, {"tags": [], "owner": {"reputation": 1201, "user_id": 10861398, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vWqDAX0_3CU/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcb8uE71Fa7S1ue1ggOWwDVqykVLWw/mo/photo.jpg?sz=128", "display_name": "Laode Muhammad Al Fatih", "link": "https://stackoverflow.com/users/10861398/laode-muhammad-al-fatih"}, "is_accepted": false, "score": 1, "last_activity_date": 1583135188, "creation_date": 1583135188, "answer_id": 60484462, "question_id": 49784766, "link": "https://stackoverflow.com/questions/49784766/handlebars-i18n-helper-inside-each-loop/60484462#60484462", "title": "handlebars i18n helper inside each loop", "body": "<p>Easier and easier-to-read solutions are:</p>\n\n<pre><code>{{../i18n \"parameter\"}}\n</code></pre>\n\n<blockquote>\n  <p>The solution above also works for dynamic variables</p>\n</blockquote>\n"}], "owner": {"reputation": 747, "user_id": 6434577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b28fbfba56054df65dbc60c1189af7f9?s=128&d=identicon&r=PG", "display_name": "TOH19", "link": "https://stackoverflow.com/users/6434577/toh19"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 546, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1583135188, "creation_date": 1523482328, "last_edit_date": 1526934828, "question_id": 49784766, "link": "https://stackoverflow.com/questions/49784766/handlebars-i18n-helper-inside-each-loop", "title": "handlebars i18n helper inside each loop", "body": "<p>I am using express handlebars to generate my view but i am having a problem which is some of the content inside my view is not translated properly coz I am calling the I18n helper inside #each helper.</p>\n\n<p>Index.handlebars :</p>\n\n<pre><code>{{#if roomsList}}\n    {{#each roomsList}}        \n        &lt;section id=\"roomNumber-{{RoomNumber}}\"&gt;\n            &lt;div class=\"room-status\"&gt;              \n                &lt;div class=\"room-number\"&gt;\n                    &lt;p&gt;{{RoomNumber}}&lt;/p&gt;\n                &lt;/div&gt;\n                &lt;div class=\"room-description room-status-{{RoomStatus}}\"&gt;\n                    &lt;p class=\"clean\"&gt;{{i18n \"clean\"}}&lt;/p&gt;\n                    &lt;p class=\"dirty\"&gt;{{i18n \"dirty\"}}&lt;/p&gt;\n                    &lt;p class=\"in-progress\"&gt;{{i18n \"in-progress\"}}&lt;/p&gt;\n                    &lt;p class=\"to-inspect\"&gt;{{i18n \"to-inspect\"}}&lt;/p&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;span class=\"clearfix\"&gt;&lt;/span&gt;\n        &lt;/section&gt;        \n    {{/each}}\n{{/if}}\n</code></pre>\n\n<p>JS: </p>\n\n<pre><code>var Handlebars = require('Handlebars');\nvar i18n = require('i18n');\n\nmodule.exports = {\n    //Setup our default layout\n    defaultLayout: 'default',\n\n    //Register handlebars helpers\n    helpers: {\n    //Register your helpers\n        //Helper for multiple languages\n        i18n: function () {\n            return i18n.__.apply(this, arguments);\n        },\n        __n: function () {\n            return i18n.__n.apply(this, arguments);\n        },\n        section: function (name, options) {\n            if (!this._sections) this._sections = {};\n            this._sections[name] = options.fn(this);\n            return null;\n        }, \n        breaklines: function(text) {\n            text = Handlebars.Utils.escapeExpression(text);\n            text = text.replace(/(\\r\\n|\\n|\\r)/gm, '&lt;br&gt;');\n            return new Handlebars.SafeString(text);\n        }\n    }     \n}\n</code></pre>\n\n<p>How to resolve the issue?</p>\n"}, {"tags": ["javascript", "regex"], "comments": [{"owner": {"reputation": 163228, "user_id": 383904, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/qCWYU.jpg?s=128&g=1", "display_name": "Roko C. Buljan", "link": "https://stackoverflow.com/users/383904/roko-c-buljan"}, "edited": false, "score": 0, "creation_date": 1523482469, "post_id": 49784731, "comment_id": 86584930, "body": "Regular Expressions vary slightly from language to language. When asking for regex make sure to add the language tag aswell."}, {"owner": {"reputation": 163228, "user_id": 383904, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/qCWYU.jpg?s=128&g=1", "display_name": "Roko C. Buljan", "link": "https://stackoverflow.com/users/383904/roko-c-buljan"}, "edited": false, "score": 0, "creation_date": 1523482843, "post_id": 49784731, "comment_id": 86585094, "body": "Is this similar? <a href=\"https://stackoverflow.com/questions/15604140/replace-multiple-strings-with-multiple-other-strings\" title=\"replace multiple strings with multiple other strings\">stackoverflow.com/questions/15604140/&hellip;</a>"}, {"owner": {"reputation": 777, "user_id": 7707839, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/aC1Xe.png?s=128&g=1", "display_name": "MokiNex", "link": "https://stackoverflow.com/users/7707839/mokinex"}, "reply_to_user": {"reputation": 163228, "user_id": 383904, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/qCWYU.jpg?s=128&g=1", "display_name": "Roko C. Buljan", "link": "https://stackoverflow.com/users/383904/roko-c-buljan"}, "edited": false, "score": 0, "creation_date": 1523483528, "post_id": 49784731, "comment_id": 86585335, "body": "I&#39;m looking for a solution using $ to replace each word  with specific word"}], "answers": [{"comments": [{"owner": {"reputation": 777, "user_id": 7707839, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/aC1Xe.png?s=128&g=1", "display_name": "MokiNex", "link": "https://stackoverflow.com/users/7707839/mokinex"}, "edited": false, "score": 0, "creation_date": 1523483586, "post_id": 49784909, "comment_id": 86585360, "body": "thanks ! but I&#39;m looking for a solution using <code>$</code> to replace each word  with specific word"}], "tags": [], "owner": {"reputation": 6209, "user_id": 4059974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/915Ft.jpg?s=128&g=1", "display_name": "Johan Karlsson", "link": "https://stackoverflow.com/users/4059974/johan-karlsson"}, "is_accepted": false, "score": 1, "last_activity_date": 1523483208, "creation_date": 1523483208, "answer_id": 49784909, "question_id": 49784731, "link": "https://stackoverflow.com/questions/49784731/regex-for-replace-words-inside-text-by-another-words/49784909#49784909", "title": "regex for replace words inside text by another words", "body": "<p>You could do something like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var dict = {\r\n  \"Journal\": \"Publication Title\",\r\n  \"Page\":  \"Pagination\",\r\n  \"Year\":  \"Publication Date\",\r\n  \"DOI\": \"Digital Object Identifier\",\r\n  \"Roche-Link\":  \"Roche Link\"\r\n};\r\n\r\nvar regExp = new RegExp(\"\\\\b(\" + Object.keys(dict).join(\"|\") + \")\\\\b\", \"g\");\r\n\r\nvar translated = \"Journal Page Year DOI Roche-Link\".replace(regExp, function(match) {\r\n\t\treturn dict[match];\r\n});\r\n\r\nconsole.log(translated);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 777, "user_id": 7707839, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/aC1Xe.png?s=128&g=1", "display_name": "MokiNex", "link": "https://stackoverflow.com/users/7707839/mokinex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "closed_date": 1523483267, "answer_count": 1, "score": 1, "last_activity_date": 1523483208, "creation_date": 1523482136, "last_edit_date": 1523482500, "question_id": 49784731, "link": "https://stackoverflow.com/questions/49784731/regex-for-replace-words-inside-text-by-another-words", "closed_reason": "Duplicate", "title": "regex for replace words inside text by another words", "body": "<p>I have a text string i want to replace it by another text using regexp</p>\n\n<p>Means each word replaced with a specific word</p>\n\n<pre><code>input= Jounal Page Year DOI Roche-Link\n</code></pre>\n\n<p>my expected output</p>\n\n<pre><code>output = Publication Title Pagination Publication Date Digital Object Identifier Roche Link\n</code></pre>\n\n<p>Journal replace by Publication Title</p>\n\n<p>Page replace by Pagination</p>\n\n<p>Year replace by Publication Date</p>\n\n<p>DOI replace byDigital Object Identifier</p>\n\n<p>Roche-Link replace by Roche Link</p>\n\n<ul>\n<li>my regex=\\b(Journal|Year|Page|DOI|Roche-Link)\\b</li>\n</ul>\n\n<p>my regexp Detect all the specific words but I didn't find a solution using <code>$</code> to replace each word the with the specific word</p>\n\n<pre><code>output = input.replace(/\\b(Journal|Year|Page|DOI|Roche-Link)\\b/g, (Publication Title)+$1, (Pagination)+$2,(Publication Date)+$3,(Digital Object Identifier)+$4,(Roche Link)+$5)\n</code></pre>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1523482348, "post_id": 49784713, "comment_id": 86584893, "body": "<code>renderedStreamingLinks</code>, is async, meaning the <code>this.setState</code> will get fired before you have even got the result.  place your setState in your last <code>then</code> callback."}, {"owner": {"reputation": 134355, "user_id": 120955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3653360c9b96b1ae5e39067c9e18183c?s=128&d=identicon&r=PG", "display_name": "StriplingWarrior", "link": "https://stackoverflow.com/users/120955/striplingwarrior"}, "edited": false, "score": 0, "creation_date": 1523482542, "post_id": 49784713, "comment_id": 86584971, "body": "When you call <code>.map()</code>, you&#39;re supposed to return something. Instead of <code>streamingLink =&gt; {fetch...;}</code>, try <code>streamingLink =&gt; fetch</code> or <code>streamingLink =&gt; { return fetch...; }</code>"}], "answers": [{"tags": [], "owner": {"reputation": 49, "user_id": 8875343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77858c80b237bf4428493cb790cf9baf?s=128&d=identicon&r=PG&f=1", "display_name": "Arno Gau", "link": "https://stackoverflow.com/users/8875343/arno-gau"}, "is_accepted": false, "score": 0, "last_activity_date": 1523482885, "creation_date": 1523482885, "answer_id": 49784860, "question_id": 49784713, "link": "https://stackoverflow.com/questions/49784713/expected-to-return-a-value-in-arrow-function-array-callback-return/49784860#49784860", "title": "Expected to return a value in arrow function array-callback-return", "body": "<p>The resulting return of <code>.then()</code> is a promise. Ie, its a \"promise\" that something will happen or fail. Theres no \"real value\" being returned. How to manage promise callbacks is to do the assignment when and where the value is actually obtained, inside the callback. And, your hunch is right, there is an async problem going on.</p>\n\n<pre><code>componentDidMount() {\n    let renderedStreamingLinks = this.props.streamingLinks.map(streamingLink =&gt; {\n        fetch(streamingLink.relationships.streamer.links.related)\n        .then(data =&gt; data.json())\n        .then(data =&gt; {\n            const renderedStreamingLinks = (\n                &lt;div key={streamingLink.id}&gt;\n                    {data.data.attributes.siteName}\n                &lt;/div&gt;\n            );\n            this.setState({renderedStreamingLinks: renderedStreamingLinks})\n        })\n    })\n\n}\n\nrender() {\n    return (\n        &lt;div&gt;\n            {this.state.renderedStreamingLinks ? this.state.renderedStreamingLinks : \"\"}\n        &lt;/div&gt;\n    )\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9629333, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/9629333/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1710, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523482885, "creation_date": 1523482055, "question_id": 49784713, "link": "https://stackoverflow.com/questions/49784713/expected-to-return-a-value-in-arrow-function-array-callback-return", "title": "Expected to return a value in arrow function array-callback-return", "body": "<p>I am using React.js and I am fairly new to web development in general. I'm trying to have the divs rendered that are in the <code>componentDidMount</code> method but they aren't being rendered and I am getting the warning message \"Expected to return a value in arrow function array-callback-return\". Also, when I <code>console.log(this.state)</code> it's only showing an empty object and so <code>this.state.renderedStreamingLinks</code> is never being set. I even tried putting <code>this.setState</code> inside of <code>setTimeout</code> just to see if it's an asynchronous problem going on, but that didn't work either so I am not really sure how to go about solving this. Any help would be much appreciated.</p>\n\n<pre><code>componentDidMount() {\n    let renderedStreamingLinks = this.props.streamingLinks.map(streamingLink =&gt; {\n        fetch(streamingLink.relationships.streamer.links.related)\n        .then(data =&gt; data.json())\n        .then(data =&gt; {\n            return(\n                &lt;div key={streamingLink.id}&gt;\n                    {data.data.attributes.siteName}\n                &lt;/div&gt;\n            )\n        })\n    })\n    this.setState({renderedStreamingLinks: renderedStreamingLinks})\n}\n\nrender() {\n    return (\n        &lt;div&gt;\n            {this.state.renderedStreamingLinks ? this.state.renderedStreamingLinks : \"\"}\n        &lt;/div&gt;\n    )\n}\n</code></pre>\n"}, {"tags": ["javascript", "css", "reactjs", "css-transitions"], "answers": [{"comments": [{"owner": {"reputation": 17409, "user_id": 2387772, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/7qeew.jpg?s=128&g=1", "display_name": "yuvi", "link": "https://stackoverflow.com/users/2387772/yuvi"}, "edited": false, "score": 0, "creation_date": 1523482524, "post_id": 49784751, "comment_id": 86584959, "body": "@bigbitecode note that I accidentally wrote <code>list.length-1</code> instead of <code>list[list.length-1]</code> at first so refresh the fork before testing it."}, {"owner": {"reputation": 253, "user_id": 1388052, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/80178e1cdf6d4339d4ad794df6511da8?s=128&d=identicon&r=PG", "display_name": "bigbitecode", "link": "https://stackoverflow.com/users/1388052/bigbitecode"}, "edited": false, "score": 0, "creation_date": 1523482867, "post_id": 49784751, "comment_id": 86585104, "body": "hmm, I just tried your new example, but it seems to be essentially resulting in a functionally similar way as my prev code. However, I&#39;m not seeing the unshift help the animation transition smoothly like the <code>next</code> button."}, {"owner": {"reputation": 17409, "user_id": 2387772, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/7qeew.jpg?s=128&g=1", "display_name": "yuvi", "link": "https://stackoverflow.com/users/2387772/yuvi"}, "reply_to_user": {"reputation": 253, "user_id": 1388052, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/80178e1cdf6d4339d4ad794df6511da8?s=128&d=identicon&r=PG", "display_name": "bigbitecode", "link": "https://stackoverflow.com/users/1388052/bigbitecode"}, "edited": false, "score": 0, "creation_date": 1523483888, "post_id": 49784751, "comment_id": 86585470, "body": "@bigbitecode well, the animation works for me, though it throws the first part to the ending, which maybe isn&#39;t the way you want the animation to work? do you want it to drift from the right side?"}, {"owner": {"reputation": 253, "user_id": 1388052, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/80178e1cdf6d4339d4ad794df6511da8?s=128&d=identicon&r=PG", "display_name": "bigbitecode", "link": "https://stackoverflow.com/users/1388052/bigbitecode"}, "edited": false, "score": 0, "creation_date": 1523485727, "post_id": 49784751, "comment_id": 86586025, "body": "Hey Yuvi, after your comment, I tried to change/fork from my code and use the example you&#39;ve provided, but i&#39;m still seeing the letters immediately shift to the location they are to be at while the last letter drifts to the right. The last letter isn&#39;t too much of a concern for me, but it&#39;s the immediate shift of the letters that concerns me.  For what it&#39;s worth, the line you have the comment <code>&#47;&#47; &lt;-- right here</code> if you change it to: <code>newList.unshift(list.length-1);</code> the animation is correct, but the values are not.  example: <a href=\"https://stackblitz.com/edit/react-fi6u4i?file=index.js\" rel=\"nofollow noreferrer\">stackblitz.com/edit/react-fi6u4i?file=index.js</a>"}, {"owner": {"reputation": 17409, "user_id": 2387772, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/7qeew.jpg?s=128&g=1", "display_name": "yuvi", "link": "https://stackoverflow.com/users/2387772/yuvi"}, "reply_to_user": {"reputation": 253, "user_id": 1388052, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/80178e1cdf6d4339d4ad794df6511da8?s=128&d=identicon&r=PG", "display_name": "bigbitecode", "link": "https://stackoverflow.com/users/1388052/bigbitecode"}, "edited": false, "score": 1, "creation_date": 1523486126, "post_id": 49784751, "comment_id": 86586148, "body": "@bigbitecode that is so weird. I tried replacing the value manually (i.e. <code>newList.unshift(&quot;foo&quot;)</code>) and it seems that it works well with numbers, but not with strings. I&#39;m very confused about this"}, {"owner": {"reputation": 17409, "user_id": 2387772, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/7qeew.jpg?s=128&g=1", "display_name": "yuvi", "link": "https://stackoverflow.com/users/2387772/yuvi"}, "reply_to_user": {"reputation": 253, "user_id": 1388052, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/80178e1cdf6d4339d4ad794df6511da8?s=128&d=identicon&r=PG", "display_name": "bigbitecode", "link": "https://stackoverflow.com/users/1388052/bigbitecode"}, "edited": false, "score": 0, "creation_date": 1523486734, "post_id": 49784751, "comment_id": 86586314, "body": "@bigbitecode I&#39;d say it has to to with the css animation and not with react but I&#39;m not entirely sure why it would read strings different than numbers"}, {"owner": {"reputation": 253, "user_id": 1388052, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/80178e1cdf6d4339d4ad794df6511da8?s=128&d=identicon&r=PG", "display_name": "bigbitecode", "link": "https://stackoverflow.com/users/1388052/bigbitecode"}, "edited": false, "score": 1, "creation_date": 1523486842, "post_id": 49784751, "comment_id": 86586357, "body": "Yea, I came to a similar hunch as well. Really appreciate your insights, yuvi."}, {"owner": {"reputation": 17409, "user_id": 2387772, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/7qeew.jpg?s=128&g=1", "display_name": "yuvi", "link": "https://stackoverflow.com/users/2387772/yuvi"}, "reply_to_user": {"reputation": 253, "user_id": 1388052, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/80178e1cdf6d4339d4ad794df6511da8?s=128&d=identicon&r=PG", "display_name": "bigbitecode", "link": "https://stackoverflow.com/users/1388052/bigbitecode"}, "edited": false, "score": 0, "creation_date": 1523487004, "post_id": 49784751, "comment_id": 86586413, "body": "I tried playing with it some more but I really gotta leave it for now. My next step if I were you would be to google about css animations working only in one direction, or something like that, maybe you&#39;ll find some answers."}, {"owner": {"reputation": 17409, "user_id": 2387772, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/7qeew.jpg?s=128&g=1", "display_name": "yuvi", "link": "https://stackoverflow.com/users/2387772/yuvi"}, "reply_to_user": {"reputation": 253, "user_id": 1388052, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/80178e1cdf6d4339d4ad794df6511da8?s=128&d=identicon&r=PG", "display_name": "bigbitecode", "link": "https://stackoverflow.com/users/1388052/bigbitecode"}, "edited": false, "score": 0, "creation_date": 1523832369, "post_id": 49784751, "comment_id": 86709948, "body": "@bigbitecode I solved it (see edit), but I don&#39;t feel good about it"}, {"owner": {"reputation": 253, "user_id": 1388052, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/80178e1cdf6d4339d4ad794df6511da8?s=128&d=identicon&r=PG", "display_name": "bigbitecode", "link": "https://stackoverflow.com/users/1388052/bigbitecode"}, "edited": false, "score": 1, "creation_date": 1523897174, "post_id": 49784751, "comment_id": 86739819, "body": "Yea, the root of the issue was React&#39;s usage of keys. The shifting algorithm wasn&#39;t so much the problem as the value being passed to the component&#39;s key. Since we were simply providing the fixed alphabet as a key, React&#39;s rendering seems to have been affected by it. This was &quot;fixed&quot; by supplying a unique key to cycle the alphabet with a new key. Thanks for looking into this :)"}], "tags": [], "owner": {"reputation": 17409, "user_id": 2387772, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/7qeew.jpg?s=128&g=1", "display_name": "yuvi", "link": "https://stackoverflow.com/users/2387772/yuvi"}, "is_accepted": false, "score": 0, "last_activity_date": 1523832358, "last_edit_date": 1523832358, "creation_date": 1523482259, "answer_id": 49784751, "question_id": 49784688, "link": "https://stackoverflow.com/questions/49784688/css-transition-lost-when-array-changes/49784751#49784751", "title": "CSS transition lost when array changes", "body": "<p>Just use the <code>unshift</code> method:</p>\n\n<pre><code>clickLeftRightHandler = () =&gt; {\n\n    const { list } = this.state;\n    const newList = list.slice(0, -1);\n\n    newList.unshift(list[list.length-1]);   // &lt;-- right here \n    this.setState({list : newList});\n}\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/react-8m1bir?file=index.js\" rel=\"nofollow noreferrer\">working example</a></p>\n\n<p><strong>edit</strong></p>\n\n<p>I honsetly don't know why it works, but it seems like if the string is a bit longer, the animation works as you want it to, so this works:</p>\n\n<pre><code>newList.unshift(list[list.length-1]+' ');\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/react-vvprck?file=index.js\" rel=\"nofollow noreferrer\">example</a>. I don't know why's that happening, truly.</p>\n"}, {"tags": [], "owner": {"reputation": 253, "user_id": 1388052, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/80178e1cdf6d4339d4ad794df6511da8?s=128&d=identicon&r=PG", "display_name": "bigbitecode", "link": "https://stackoverflow.com/users/1388052/bigbitecode"}, "is_accepted": true, "score": 0, "last_activity_date": 1523896981, "creation_date": 1523896981, "answer_id": 49862311, "question_id": 49784688, "link": "https://stackoverflow.com/questions/49784688/css-transition-lost-when-array-changes/49862311#49862311", "title": "CSS transition lost when array changes", "body": "<p>It turns out that the reason the animation wasn't working properly was due to the <strong>key</strong> being supplied to the Alphabet Component. The solution adds an index state that makes sure the shifted key receives a new key that's different from the cycled key.</p>\n\n<p>It should also be noted that, @yuvi's updated example also implicitly fixes the issue with a new string that'll be passed to the key causing it to be uniquely set.</p>\n\n<p>See updated <a href=\"https://stackblitz.com/edit/react-esqvtw\" rel=\"nofollow noreferrer\">example</a></p>\n"}], "owner": {"reputation": 253, "user_id": 1388052, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/80178e1cdf6d4339d4ad794df6511da8?s=128&d=identicon&r=PG", "display_name": "bigbitecode", "link": "https://stackoverflow.com/users/1388052/bigbitecode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 1, "accepted_answer_id": 49862311, "answer_count": 2, "score": 0, "last_activity_date": 1523896981, "creation_date": 1523481859, "question_id": 49784688, "link": "https://stackoverflow.com/questions/49784688/css-transition-lost-when-array-changes", "title": "CSS transition lost when array changes", "body": "<p>I have a simple react app that shifts and unshifts an array of letters. The transition animation occurs when a user hits <code>next</code> and <code>back</code> button. Functionally, the array is properly changed, but the transition only works for <code>next</code>. I have a hunch that this may be an issue more basic than React, but I did make sure that the key is unique to prevent redraw.</p>\n\n<pre><code>// this is the issue.\nclickLeftRightHandler = () =&gt; {\n\n    const { list } = this.state;\n    // Does using slice or shifting the array cause a new redraw? Is it \nthe CSS?\n    const newList = [list[list.length-1], ...list.slice(0, -1)];\n\n    this.setState({list : newList});\n\n}\n</code></pre>\n\n<p>Code Link:\n<a href=\"https://stackblitz.com/edit/react-7nsrjg\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/react-7nsrjg</a></p>\n\n<p>Any help is appreciated! </p>\n"}, {"tags": ["javascript", "ecmascript-6"], "comments": [{"owner": {"reputation": 134258, "user_id": 785065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qAbxM.jpg?s=128&g=1", "display_name": "loganfsmyth", "link": "https://stackoverflow.com/users/785065/loganfsmyth"}, "edited": false, "score": 1, "creation_date": 1523481887, "post_id": 49784666, "comment_id": 86584728, "body": "&quot;but does not work&quot; What specifically did you try? Where do you want to trigger this disconnect in the logic you&#39;ve listed?"}, {"owner": {"reputation": 11, "user_id": 8901286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f170ac20f949586726246149984933d?s=128&d=identicon&r=PG&f=1", "display_name": "Eugenios", "link": "https://stackoverflow.com/users/8901286/eugenios"}, "reply_to_user": {"reputation": 134258, "user_id": 785065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qAbxM.jpg?s=128&g=1", "display_name": "loganfsmyth", "link": "https://stackoverflow.com/users/785065/loganfsmyth"}, "edited": false, "score": 0, "creation_date": 1523482049, "post_id": 49784666, "comment_id": 86584782, "body": "i have updated my question."}, {"owner": {"reputation": 134258, "user_id": 785065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qAbxM.jpg?s=128&g=1", "display_name": "loganfsmyth", "link": "https://stackoverflow.com/users/785065/loganfsmyth"}, "edited": false, "score": 1, "creation_date": 1523482715, "post_id": 49784666, "comment_id": 86585036, "body": "That would disconnect it right away, thus observing nothing? What is the goal of stopping observation in this case? Would you for instance want to put it next to <code>callback()</code>?"}, {"owner": {"reputation": 11, "user_id": 8901286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f170ac20f949586726246149984933d?s=128&d=identicon&r=PG&f=1", "display_name": "Eugenios", "link": "https://stackoverflow.com/users/8901286/eugenios"}, "reply_to_user": {"reputation": 134258, "user_id": 785065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qAbxM.jpg?s=128&g=1", "display_name": "loganfsmyth", "link": "https://stackoverflow.com/users/785065/loganfsmyth"}, "edited": false, "score": 0, "creation_date": 1523483466, "post_id": 49784666, "comment_id": 86585319, "body": "i need to stop it after document.querySelector(&#39;#todayfavtable&#39;).scrollIntoView();"}], "owner": {"reputation": 11, "user_id": 8901286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f170ac20f949586726246149984933d?s=128&d=identicon&r=PG&f=1", "display_name": "Eugenios", "link": "https://stackoverflow.com/users/8901286/eugenios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 181, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523482097, "creation_date": 1523481730, "last_edit_date": 1523482097, "question_id": 49784666, "link": "https://stackoverflow.com/questions/49784666/disconnect-an-observer-in-js", "title": "Disconnect an observer in JS", "body": "<p>I created this function through some online guides, basically it is an <code>observer</code>, it works perfectly but once activated it always remains in \"observation\". I've read the documentation and i found a function: <code>disonnect()</code> but does not work, does anyone have any ideas on how to stop the observer working at the job finish?  </p>\n\n<p>I have try to set <code>obs.disconnect()</code> after <code>obs.observe(obj, { childList: true, subtree: true });</code>;</p>\n\n<pre><code>const getFavTable = () =&gt; {\n  const observeDOM = (\n    (\n      () =&gt; {\n        const MutationObserver = window.MutationObserver || window.WebKitMutationObserver;\n        const eventListenerSupported = window.addEventListener;\n\n        return (obj, callback) =&gt; {\n          if (MutationObserver) {\n            // define a new observer\n            const obs = new MutationObserver((mutations, observer) =&gt; {\n              if (mutations[0].addedNodes.length || mutations[0].removedNodes.length) {\n                callback();\n              }\n            });\n\n            // have the observer observe foo for changes in children\n            obs.observe(obj, { childList: true, subtree: true });\n          } else if (eventListenerSupported) {\n            obj.addEventListener('DOMNodeInserted', callback, false);\n            obj.addEventListener('DOMNodeRemoved', callback, false);\n          }\n        };\n      }\n    )\n)();\n\n// Observe a specific DOM element:\nobserveDOM(document.querySelector('body'), () =&gt; {\n  console.log('dom changed');\n\n  if (document.querySelector('#todayfavtable') != null) {\n    document.querySelector('#todayfavtable').scrollIntoView();\n  } else {\n    window.scrollTo(0, 0);\n  }\n});\n</code></pre>\n"}, {"tags": ["javascript", "html", "google-chrome-extension"], "answers": [{"tags": [], "owner": {"reputation": 146, "user_id": 4908700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2339a308adc3952d76b1f4b3f17bac2e?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Anderson", "link": "https://stackoverflow.com/users/4908700/jason-anderson"}, "is_accepted": false, "score": 2, "last_activity_date": 1523484820, "creation_date": 1523484820, "answer_id": 49785163, "question_id": 49784665, "link": "https://stackoverflow.com/questions/49784665/chome-extension-prevents-select-elements-from-expanding/49785163#49785163", "title": "Chome extension prevents &lt;select&gt; elements from expanding", "body": "<p>At a guess I would say where you are replacing the contents of the documents HTML tag that you are possibly also replacing any associated JS/CSS references that were originally on that page as well. </p>\n\n<p>Maybe as a test instead of replacing the contents of the HTML tag, add a new DIV element or something to the page and target that instead. That should hopefully allow you see whether or not the select functionality still works.</p>\n"}], "owner": {"reputation": 1091, "user_id": 1291717, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/ChCZs.jpg?s=128&g=1", "display_name": "Sergey Slepov", "link": "https://stackoverflow.com/users/1291717/sergey-slepov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523484820, "creation_date": 1523481724, "question_id": 49784665, "link": "https://stackoverflow.com/questions/49784665/chome-extension-prevents-select-elements-from-expanding", "title": "Chome extension prevents &lt;select&gt; elements from expanding", "body": "<p>I have developed a very simple Chome extension that exposes a single toolbar button. When the button is clicked, the page content is POSTed to the server using <code>XMLHttpRequest</code> and then the <code>innerHtml</code> of the <strong>&lt;html&gt;</strong> element is replaced by the new content returned from the server.</p>\n\n<p>For some reason this prevents <strong>&lt;select&gt;</strong> elements from expanding. I have verified this by disabling the extension which makes then work again. </p>\n\n<p>Any ideas why this might be happening and how to fix it? The code is below for reference:</p>\n\n<pre><code>chrome.extension.onMessage.addListener(\nfunction (request, sender, sendResponse) {\n    if (request.msg == \"get_content\") {\n        xmlhttp = new XMLHttpRequest();\n        xmlhttp.onreadystatechange = function () {\n            if (xmlhttp.readyState == 4) {\n                if (xmlhttp.status == 200) {\n                    document.getElementsByTagName('html')[0].innerHTML =\n                       xmlhttp.responseText;\n                } else {\n                    alert('Cannot reach russiangram.com');\n                }\n            }\n        }\n        xmlhttp.open(\"POST\", \"https://russiangram.com/translate/Default.aspx\", true);\n        xmlhttp.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n        xmlhttp.send(document.getElementsByTagName('html')[0].innerHTML);\n        sendResponse({ data: 'success' });\n    }\n});\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "forms", "validation"], "answers": [{"comments": [{"owner": {"reputation": 282, "user_id": 1830674, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/602d9700accaec0b8f054eee9bc180a4?s=128&d=identicon&r=PG", "display_name": "Ionko Gueorguiev", "link": "https://stackoverflow.com/users/1830674/ionko-gueorguiev"}, "edited": false, "score": 0, "creation_date": 1523551041, "post_id": 49799908, "comment_id": 86618176, "body": "I fixed my original function by adding double quotes around &quot;true&quot;, but in hindsight I can see why reversing the logic would make sense. Thank you!"}, {"owner": {"reputation": 282, "user_id": 1830674, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/602d9700accaec0b8f054eee9bc180a4?s=128&d=identicon&r=PG", "display_name": "Ionko Gueorguiev", "link": "https://stackoverflow.com/users/1830674/ionko-gueorguiev"}, "edited": false, "score": 0, "creation_date": 1523551197, "post_id": 49799908, "comment_id": 86618265, "body": "Just to note, the form trigger is not a submit &lt;button&gt;, that&#39;s why I didn&#39;t need to prevent default behavior.  It triggers the  addNewDriver();  function which handles a few other things including an ajax POST or GET parameters."}, {"owner": {"reputation": 594, "user_id": 727717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uApbW.jpg?s=128&g=1", "display_name": "Ghostrydr", "link": "https://stackoverflow.com/users/727717/ghostrydr"}, "reply_to_user": {"reputation": 282, "user_id": 1830674, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/602d9700accaec0b8f054eee9bc180a4?s=128&d=identicon&r=PG", "display_name": "Ionko Gueorguiev", "link": "https://stackoverflow.com/users/1830674/ionko-gueorguiev"}, "edited": false, "score": 0, "creation_date": 1523551752, "post_id": 49799908, "comment_id": 86618608, "body": "Gotcha... I almost forgot I had made that change :D"}], "tags": [], "owner": {"reputation": 594, "user_id": 727717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uApbW.jpg?s=128&g=1", "display_name": "Ghostrydr", "link": "https://stackoverflow.com/users/727717/ghostrydr"}, "is_accepted": true, "score": 1, "last_activity_date": 1523545325, "creation_date": 1523545325, "answer_id": 49799908, "question_id": 49784639, "link": "https://stackoverflow.com/questions/49784639/jquery-form-validation-fails-only-on-a-specific-input/49799908#49799908", "title": "jQuery form validation fails only on a specific input", "body": "<p>Your validation logic is a little messed up. This is what's happening:</p>\n\n<ol>\n<li><code>#driver_first_name</code> is validated as invalid... <code>result</code> is set <code>false</code></li>\n<li><code>#driver_last_name</code> is validated as valid... <code>result</code> is set <code>true</code></li>\n<li><code>#driver_address_street</code> is validated as valid... <code>result</code> is set <code>true</code></li>\n</ol>\n\n<p>After all that the code thinks the form is valid. You're only preventing the form from being submitted if the last field as validated as not-valid.</p>\n\n<p>Change your logic to assume the form is valid from the beginning. Then set it to false if any of the fields are invalid. </p>\n\n<p>I also don't see anything in your code that actually prevents the form submition, so I also added <code>e.preventDefault()</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function validateForm(form, fields) { //add exit anbimation and reset the container state\r\n  $(\".form-input-error\").remove();\r\n  var result = true;\r\n  $.each(fields.rules, function(key, value) {\r\n    if (!$(\"#\" + key + \"\").val()) {\r\n      $(\"#\" + key + \"\").addClass(\"form-error\");\r\n      $(\"&lt;div class='form-input-error'&gt;\" + value.message + \"&lt;/div&gt;\").insertBefore(\"#\" + key + \"\");\r\n      result = false;\r\n      //console.log(this.val());\r\n    } else {\r\n      $(\"#\" + key + \"\").removeClass(\"form-error\");\r\n    }\r\n  });\r\n  return result;\r\n}\r\n\r\n$(\".app-canvas\").on('click', \".submitNewDriver\", function(e) { //list all drivers trigger\r\n  var checkInputs = {\r\n    rules: {\r\n      driver_first_name: {\r\n        message: \"First Name is Required\"\r\n      },\r\n      driver_last_name: {\r\n        message: \"Last Name is Required\"\r\n      },\r\n      driver_address_street: {\r\n        message: \"street is Required\"\r\n      }\r\n    }\r\n  };\r\n  if (validateForm($(\"#addDriverForm\"), checkInputs) == true) {\r\n    console.log(\"form submit\");\r\n  } else {\r\n    e.preventDefault();\r\n    console.log(\"form errors\");\r\n  }   \r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"app-canvas form-wrapper\"&gt;\r\n\r\n  &lt;form id=\"addDriverForm\" class=\"post-form\" action=\"\" method=\"post\"&gt;\r\n\r\n    &lt;div class=\"form-row\"&gt;\r\n      &lt;label for=\"driver_first_name\"&gt;First Name:&lt;/label&gt;\r\n      &lt;input id=\"driver_first_name\" placeholder=\"John\" type=\"text\" name=\"driver_first_name\"&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=\"form-row\"&gt;\r\n      &lt;label for=\"driver_last_name\"&gt;Last Name:&lt;/label&gt;\r\n      &lt;input id=\"driver_last_name\" placeholder=\"Smith\" type=\"text\" name=\"driver_last_name\"&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=\"form-row\"&gt;\r\n      &lt;label for=\"driver_address_street\"&gt;Street&lt;/label&gt;\r\n      &lt;input id=\"driver_address_street\" placeholder=\"123 Main St.\" type=\"text\" name=\"driver_address_street\"&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=\"form-row\"&gt;\r\n      &lt;label for=\"driver_address_city\"&gt;City&lt;/label&gt;\r\n      &lt;input id=\"driver_address_city\" placeholder=\"Chicago\" type=\"text\" name=\"driver_address_city\"&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=\"form-row\"&gt;\r\n      &lt;label for=\"driver_address_state\"&gt;State&lt;/label&gt;\r\n      &lt;input id=\"driver_address_state\" placeholder=\"IL\" type=\"text\" name=\"driver_address_state\"&gt;\r\n    &lt;/div&gt;\r\n\r\n\r\n    &lt;div class=\"form-row\"&gt;\r\n      &lt;label for=\"driver_address_zip\"&gt;Zip&lt;/label&gt;\r\n      &lt;input id=\"driver_address_zip\" placeholder=\"60164\" type=\"number\" name=\"driver_address_zip\"&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=\"form-row\"&gt;\r\n      &lt;label for=\"driver_telephone\"&gt;Zip&lt;/label&gt;\r\n      &lt;input id=\"driver_telephone\" placeholder=\"60164\" type=\"tel\" name=\"driver_telephone\"&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=\"form-row\"&gt;\r\n      &lt;label for=\"driver_email\"&gt;E-Mail&lt;/label&gt;\r\n      &lt;input id=\"driver_email\" placeholder=\"60164\" type=\"email\" name=\"driver_email\"&gt;\r\n    &lt;/div&gt;\r\n\r\n\r\n    &lt;div class=\"form-row\"&gt;&lt;label for=\"driver_payment_type\"&gt;Settlement Type&lt;/label&gt;\r\n      &lt;select id=\"driver_payment_type\" name=\"driver_payment_type\"&gt;\r\n      &lt;option value=\"flat\"&gt;Flat Rate&lt;/option&gt;\r\n      &lt;option value=\"percent\"&gt;Percent&lt;/option&gt;\r\n      &lt;option value=\"mile\"&gt;Per Mile&lt;/option&gt;\r\n    &lt;/select&gt;&lt;/div&gt;\r\n\r\n\r\n    &lt;div class=\"form-row\"&gt;\r\n      &lt;label for=\"driver_license_number\"&gt;Lisence #&lt;/label&gt;\r\n      &lt;input id=\"driver_license_number\" placeholder=\"ex:D400-7836-2633\" type=\"number\" name=\"driver_license_number\"&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=\"form-row\"&gt;\r\n      &lt;label for=\"driver_license_expiration\"&gt;Lisence Expiration Date&lt;/label&gt;\r\n      &lt;input id=\"driver_license_expiration\" type=\"date\" name=\"driver_license_expiration\"&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=\"form-row\"&gt;\r\n      &lt;label for=\"driver_licence_image\"&gt;Lisence Copy&lt;/label&gt;\r\n      &lt;input id=\"driver_licence_image\" type=\"file\" name=\"driver_licence_image\"&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=\"form-row\"&gt;\r\n      &lt;label for=\"driver_medical_certificate_expiration\"&gt;Medical Certificate Expiration&lt;/label&gt;\r\n      &lt;input id=\"driver_medical_certificate_expiration\" type=\"date\" name=\"driver_medical_certificate_expiration\"&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=\"form-row\"&gt;\r\n      &lt;label for=\"driver_medical_certificate_image\"&gt;Medical CXertificate Copy&lt;/label&gt;\r\n      &lt;input id=\"driver_medical_certificate_image\" type=\"file\" name=\"driver_medical_certificate_image\"&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=\"form-row\"&gt;\r\n      &lt;label class=\"driverCheckbox\" for=\"driver_access_mobile_app\"&gt;Allow Mobile Access&lt;/label&gt;\r\n      &lt;input id=\"driver_access_mobile_app\" checked value=\"1\" type=\"checkbox\" name=\"driver_access_mobile_app\"&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"form-row\"&gt;&lt;/div&gt;\r\n    &lt;div class=\"driver-access-copnditional\"&gt;\r\n      &lt;div class=\"form-row\"&gt;\r\n        &lt;label for=\"driver_username\"&gt;Username&lt;/label&gt;\r\n        &lt;input id=\"driver_username\" placeholder=\"JohSmi\" type=\"text\" name=\"driver_username\"&gt;\r\n      &lt;/div&gt;\r\n\r\n\r\n      &lt;div class=\"form-row\"&gt;\r\n        &lt;label for=\"driver_password\"&gt;Password&lt;/label&gt;\r\n        &lt;input id=\"driver_password\" placeholder=\"***\" type=\"password\" name=\"driver_password\"&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=\"clear\"&gt;&lt;/div&gt;\r\n    &lt;input type=\"submit\" class=\"submitNewDriver button green\" value=\"Submit\" /&gt;\r\n  &lt;/form&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 282, "user_id": 1830674, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/602d9700accaec0b8f054eee9bc180a4?s=128&d=identicon&r=PG", "display_name": "Ionko Gueorguiev", "link": "https://stackoverflow.com/users/1830674/ionko-gueorguiev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 49799908, "answer_count": 1, "score": 0, "last_activity_date": 1523545325, "creation_date": 1523481564, "last_edit_date": 1523485385, "question_id": 49784639, "link": "https://stackoverflow.com/questions/49784639/jquery-form-validation-fails-only-on-a-specific-input", "title": "jQuery form validation fails only on a specific input", "body": "<p>I have a fairly straightforward validation function that only checks if input is empty or not. I'm using it across a half dozen different forms and it seems to be working everywhere except one specific input <code>id=\"driver_first_name\"</code> . Can't figure out why it fails there. </p>\n\n<p>If I leave all fields empty I get errors on all of them, and is generally correct across any combination I have tried except <code>driver_first_name</code> In the case that I fill out everything except <code>driver_first_name</code> the form submits anyways. </p>\n\n<p>Any insight on what might be going on here? </p>\n\n<p>Thank you! </p>\n\n<p>My Validation function is this:</p>\n\n<pre><code>    function validateForm(form, fields) { //add exit anbimation and reset the container state\n    $(\".form-input-error\").remove();\n    var result=false;\n    $.each( fields.rules, function( key, value ) {\n        if(!$(\"#\"+key+\"\").val()){\n            $(\"#\"+key+\"\").addClass(\"form-error\");\n            $( \"&lt;div class='form-input-error'&gt;\"+value.message+\"&lt;/div&gt;\" ).insertBefore(\"#\"+key+\"\");\n             result = false;\n            //console.log(this.val());\n        }\n        else{\n            $(\"#\"+key+\"\").removeClass(\"form-error\");\n             result = true;\n        }   \n});\n     return result;\n}\n</code></pre>\n\n<p>I am calling my validation on my submit triggers, generally like this for fields that should not be empty:</p>\n\n<pre><code>$(\".app-canvas\").on('click', \".submitNewDriver\", function () {//list all drivers trigger\n            var checkInputs = {\n        rules: {\n            driver_first_name: {\n                message: \"First Name is Required\"\n            },\n            driver_last_name: {\n                message: \"Last Name is Required\"\n            },\n            driver_address_street: {\n                message: \"street is Required\"\n            }\n        }\n    };  \n    if(validateForm($(\"#addDriverForm\"),checkInputs) == true){\n    console.log(\"form submit\");\n        addNewDriver();\n    }\n    else{\n        console.log(\"form errors\");\n    }\n    });\n</code></pre>\n\n<p>My full form HTML is </p>\n\n<pre><code>   &lt;div class=\"form-wrapper\"&gt;\n\n     &lt;form id=\"addDriverForm\" class=\"post-form\" action=\"modules/add_driver.php\" method=\"post\"&gt; \n\n&lt;div class=\"form-row\"&gt;\n&lt;label for=\"driver_first_name\"&gt;First Name:&lt;/label&gt; \n&lt;input id=\"driver_first_name\" placeholder=\"John\" type=\"text\" name=\"driver_first_name\"&gt;\n&lt;/div&gt;\n\n&lt;div class=\"form-row\"&gt;\n&lt;label for=\"driver_last_name\"&gt;Last Name:&lt;/label&gt; \n&lt;input id=\"driver_last_name\" placeholder=\"Smith\" type=\"text\" name=\"driver_last_name\"&gt;\n&lt;/div&gt;\n\n&lt;div class=\"form-row\"&gt;\n&lt;label for=\"driver_address_street\"&gt;Street&lt;/label&gt; \n&lt;input id=\"driver_address_street\" placeholder=\"123 Main St.\" type=\"text\" name=\"driver_address_street\"&gt;\n&lt;/div&gt;\n\n&lt;div class=\"form-row\"&gt;\n&lt;label for=\"driver_address_city\"&gt;City&lt;/label&gt; \n&lt;input id=\"driver_address_city\" placeholder=\"Chicago\" type=\"text\" name=\"driver_address_city\"&gt;\n&lt;/div&gt;\n\n&lt;div class=\"form-row\"&gt;\n&lt;label for=\"driver_address_state\"&gt;State&lt;/label&gt; \n&lt;input id=\"driver_address_state\" placeholder=\"IL\" type=\"text\" name=\"driver_address_state\"&gt;\n&lt;/div&gt;\n\n\n&lt;div class=\"form-row\"&gt;\n&lt;label for=\"driver_address_zip\"&gt;Zip&lt;/label&gt; \n&lt;input id=\"driver_address_zip\" placeholder=\"60164\" type=\"number\" name=\"driver_address_zip\"&gt;\n&lt;/div&gt;\n\n&lt;div class=\"form-row\"&gt;\n&lt;label for=\"driver_telephone\"&gt;Zip&lt;/label&gt; \n&lt;input id=\"driver_telephone\" placeholder=\"60164\" type=\"tel\" name=\"driver_telephone\"&gt;\n&lt;/div&gt;\n\n&lt;div class=\"form-row\"&gt;\n&lt;label for=\"driver_email\"&gt;E-Mail&lt;/label&gt; \n&lt;input id=\"driver_email\" placeholder=\"60164\" type=\"email\" name=\"driver_email\"&gt;\n&lt;/div&gt;\n\n\n&lt;div class=\"form-row\"&gt;&lt;label for=\"driver_payment_type\"&gt;Settlement Type&lt;/label&gt;\n&lt;select id=\"driver_payment_type\" name=\"driver_payment_type\"&gt;\n  &lt;option value=\"flat\"&gt;Flat Rate&lt;/option&gt;\n  &lt;option value=\"percent\"&gt;Percent&lt;/option&gt;\n  &lt;option value=\"mile\"&gt;Per Mile&lt;/option&gt;\n&lt;/select&gt;&lt;/div&gt;\n\n\n&lt;div class=\"form-row\"&gt;\n    &lt;label for=\"driver_license_number\"&gt;Lisence #&lt;/label&gt;\n    &lt;input id=\"driver_license_number\" placeholder=\"ex:D400-7836-2633\" type=\"number\" name=\"driver_license_number\"&gt;\n&lt;/div&gt;\n\n&lt;div class=\"form-row\"&gt;\n    &lt;label for=\"driver_license_expiration\"&gt;Lisence Expiration Date&lt;/label&gt;\n    &lt;input id=\"driver_license_expiration\" type=\"date\" name=\"driver_license_expiration\"&gt;\n&lt;/div&gt;\n\n&lt;div class=\"form-row\"&gt;\n    &lt;label for=\"driver_licence_image\"&gt;Lisence Copy&lt;/label&gt;\n    &lt;input id=\"driver_licence_image\" type=\"file\" name=\"driver_licence_image\"&gt;\n&lt;/div&gt;\n\n&lt;div class=\"form-row\"&gt;\n    &lt;label for=\"driver_medical_certificate_expiration\"&gt;Medical Certificate Expiration&lt;/label&gt;\n    &lt;input id=\"driver_medical_certificate_expiration\" type=\"date\" name=\"driver_medical_certificate_expiration\"&gt;\n&lt;/div&gt;\n\n&lt;div class=\"form-row\"&gt;\n    &lt;label for=\"driver_medical_certificate_image\"&gt;Medical CXertificate Copy&lt;/label&gt;\n    &lt;input id=\"driver_medical_certificate_image\" type=\"file\" name=\"driver_medical_certificate_image\"&gt;\n&lt;/div&gt;\n\n&lt;div class=\"form-row\"&gt;\n    &lt;label class=\"driverCheckbox\" for=\"driver_access_mobile_app\"&gt;Allow Mobile Access&lt;/label&gt;\n    &lt;input id=\"driver_access_mobile_app\" checked value=\"1\" type=\"checkbox\" name=\"driver_access_mobile_app\"&gt;\n&lt;/div&gt;\n&lt;div class=\"form-row\"&gt;&lt;/div&gt;\n&lt;div class=\"driver-access-copnditional\"&gt;\n&lt;div class=\"form-row\"&gt;\n&lt;label for=\"driver_username\"&gt;Username&lt;/label&gt; \n&lt;input id=\"driver_username\" placeholder=\"JohSmi\" type=\"text\" name=\"driver_username\"&gt;\n&lt;/div&gt;\n\n\n&lt;div class=\"form-row\"&gt;\n&lt;label for=\"driver_password\"&gt;Password&lt;/label&gt; \n&lt;input id=\"driver_password\" placeholder=\"***\" type=\"password\" name=\"driver_password\"&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"clear\"&gt;&lt;/div&gt;\n&lt;div class=\"submitNewUnit button green\"&gt;&lt;i class=\"material-icons\"&gt;save&lt;/i&gt;Submit&lt;/div&gt;\n&lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html", "css", "google-chrome"], "answers": [{"comments": [{"owner": {"reputation": 10525, "user_id": 1186050, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1aeaf46e73772e9f9c7784bf0ee0705c?s=128&d=identicon&r=PG", "display_name": "user1186050", "link": "https://stackoverflow.com/users/1186050/user1186050"}, "edited": false, "score": 0, "creation_date": 1523482280, "post_id": 49784726, "comment_id": 86584869, "body": "it&#39;s not a question of the check reaching the line of code or not, it is! The code even disables the button, it just doesn&#39;t set the css color. So I&#39;m not sure if Chrome acts differently then IE when it comes to over riding elements css properties"}, {"owner": {"reputation": 416, "user_id": 8309730, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/8oBTK.jpg?s=128&g=1", "display_name": "pyrogrammer", "link": "https://stackoverflow.com/users/8309730/pyrogrammer"}, "reply_to_user": {"reputation": 10525, "user_id": 1186050, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1aeaf46e73772e9f9c7784bf0ee0705c?s=128&d=identicon&r=PG", "display_name": "user1186050", "link": "https://stackoverflow.com/users/1186050/user1186050"}, "edited": false, "score": 0, "creation_date": 1523482390, "post_id": 49784726, "comment_id": 86584901, "body": "remove !important from css  .btn-yb{  background-color: #008489; }"}, {"owner": {"reputation": 10525, "user_id": 1186050, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1aeaf46e73772e9f9c7784bf0ee0705c?s=128&d=identicon&r=PG", "display_name": "user1186050", "link": "https://stackoverflow.com/users/1186050/user1186050"}, "edited": false, "score": 0, "creation_date": 1523482483, "post_id": 49784726, "comment_id": 86584937, "body": "ya that&#39;s it. why doesn&#39;t Chrome allow this but IE does??"}, {"owner": {"reputation": 416, "user_id": 8309730, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/8oBTK.jpg?s=128&g=1", "display_name": "pyrogrammer", "link": "https://stackoverflow.com/users/8309730/pyrogrammer"}, "reply_to_user": {"reputation": 10525, "user_id": 1186050, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1aeaf46e73772e9f9c7784bf0ee0705c?s=128&d=identicon&r=PG", "display_name": "user1186050", "link": "https://stackoverflow.com/users/1186050/user1186050"}, "edited": false, "score": 0, "creation_date": 1523482667, "post_id": 49784726, "comment_id": 86585012, "body": "@user1186050 did you get any any error in your chrome&#39;s javascript console."}, {"owner": {"reputation": 10525, "user_id": 1186050, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1aeaf46e73772e9f9c7784bf0ee0705c?s=128&d=identicon&r=PG", "display_name": "user1186050", "link": "https://stackoverflow.com/users/1186050/user1186050"}, "edited": false, "score": 0, "creation_date": 1523482783, "post_id": 49784726, "comment_id": 86585063, "body": "No! I just tested it and looked in the console, nothing! Funny!"}], "tags": [], "owner": {"reputation": 416, "user_id": 8309730, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/8oBTK.jpg?s=128&g=1", "display_name": "pyrogrammer", "link": "https://stackoverflow.com/users/8309730/pyrogrammer"}, "is_accepted": true, "score": 3, "last_activity_date": 1523482986, "last_edit_date": 1523482986, "creation_date": 1523482093, "answer_id": 49784726, "question_id": 49784637, "link": "https://stackoverflow.com/questions/49784637/background-color-not-changing-in-chrome-when-setting-css-in-jquery/49784726#49784726", "title": "Background color not changing in Chrome when setting css in jquery", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Also change your javascript\r\n\r\n\r\n&lt;script&gt;\r\n  src = \"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\" &gt;\r\n    $(\"#registerEventTerms\").off('change').on('change', function() {\r\n      if ($(this).prop('checked', true);)\r\n        $(\"#eventRegister\").css('background-color', '').css('border-color', '').prop('disabled', false);\r\n      else\r\n        $(\"#eventRegister\").css('background-color', 'grey !important').css('border-color', 'grey !important').prop('disabled', true);\r\n    });\r\n&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>Change CSS</strong> </p>\n\n<pre><code>  .btn-yb {\n  background-color: #008489;\n  color: white !important;\n}\n\n.btn-yb:hover,\n.btn-yb:focus {\n  color: white !important;\n}\n\n.btn-yb.disabled,\n[disabled].btn-yb,\nfieldset[disabled] .btn-yb {\n  opacity: 1;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "is_accepted": false, "score": 0, "last_activity_date": 1523483390, "creation_date": 1523483390, "answer_id": 49784938, "question_id": 49784637, "link": "https://stackoverflow.com/questions/49784637/background-color-not-changing-in-chrome-when-setting-css-in-jquery/49784938#49784938", "title": "Background color not changing in Chrome when setting css in jquery", "body": "<p>Things are happening in the following order:</p>\n\n<ol>\n<li>First, your inline <code>style</code> is getting applied, and setting the button's <code>background-color</code> to <code>grey</code>.</li>\n<li>Next your stylsheet is setting the <code>background-color</code> to <code>#008489</code>.</li>\n<li>Finally, your jQuery is removing the <strong>inline</strong> style successfully.</li>\n</ol>\n\n<p>It's important to note that jQuery's <strong><a href=\"http://api.jquery.com/css/\" rel=\"nofollow noreferrer\"><code>css()</code> method</a></strong> attempts to modify the <strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style\" rel=\"nofollow noreferrer\"><code>style</code> property</a></strong>, and thus it can only update <strong>inline</strong> styles, <strong>not</strong> external stylesheets. Your inline style is removed, and your stylesheet rule is not. As such, you see the stylesheet's <code>#008489</code> <code>background-color</code>.</p>\n\n<p>Remember, inline styles have more specificity than stylesheet styles. This can <strong>only</strong> be overridden with <code>!important</code>. However, things get <strong>much</strong> more confusing with multiple <code>!important</code> declarations, as all your rules are essentially fighting for highest specificity. Avoid using <code>!important</code> whenever possible, opting for <strong><a href=\"https://css-tricks.com/specifics-on-css-specificity/\" rel=\"nofollow noreferrer\">more specific CSS selectors</a></strong> instead.</p>\n\n<p>The simplest solution to this is to just remove all of your <code>!important</code> declarations, as this will allow the specificity to be handled in the correct order:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(\"#registerEventTerms\").off('change').on('change', function() {\r\n  if (this.checked)\r\n    $(\"#eventRegister\").css('background-color', '').prop('disabled', false);\r\n  else\r\n    $(\"#eventRegister\").css('background-color', 'grey').prop('disabled', true);\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.btn-yb {\r\n  background-color: #008489;\r\n  color: white;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;button id=\"eventRegister\" type=\"button\" class=\"btn-yb\" style=\"background-color: grey\" disabled&gt;Register&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Alternatively, you can setup a new selector to target the <code>disabled</code> attribute, which would mean you don't need to worry about setting styles in <strong>either</strong> HTML or jQuery - all that needs to be handled is the <code>.prop()</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(\"#registerEventTerms\").off('change').on('change', function() {\r\n  if (this.checked)\r\n    $(\"#eventRegister\").prop('disabled', false);\r\n  else\r\n    $(\"#eventRegister\").prop('disabled', true);\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.btn-yb {\r\n  background-color: #008489;\r\n  color: white;\r\n}\r\n\r\n.btn-yb[disabled] {\r\n  background-color: grey;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;button id=\"eventRegister\" type=\"button\" class=\"btn-yb\" disabled&gt;Register&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>For a more comprehensive reasoning of exactly why the <code>css()</code> method can modify inline styles but not stylesheet styles, please see <strong><a href=\"https://stackoverflow.com/a/49745173/2341603\">this answer</a></strong> I wrote yesterday.</p>\n\n<p>As for why IE is behaving differently than Chrome, I assume it's based on the order of specificity of how multiple <code>!important</code> statements are handled.</p>\n"}], "owner": {"reputation": 10525, "user_id": 1186050, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1aeaf46e73772e9f9c7784bf0ee0705c?s=128&d=identicon&r=PG", "display_name": "user1186050", "link": "https://stackoverflow.com/users/1186050/user1186050"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 911, "favorite_count": 0, "accepted_answer_id": 49784726, "answer_count": 2, "score": 0, "last_activity_date": 1523483390, "creation_date": 1523481555, "last_edit_date": 1523482096, "question_id": 49784637, "link": "https://stackoverflow.com/questions/49784637/background-color-not-changing-in-chrome-when-setting-css-in-jquery", "title": "Background color not changing in Chrome when setting css in jquery", "body": "<p>In my JQuery/JS I'm doing a check and changing the background color and border color of a button, it works fine in IE but in Chrome, Chrome doesn't set the color back to grey. IE changes, just not Chrome. When I look in the debugger at the rendered html it doesn't add the coloring, it's just not there!!! Funny thing is it adds the disabled property in Chrome, so the line of Jquery code that sets the color back to grey is def being called!</p>\n\n<p>Here is my button, I initialize it with grey and being disabled</p>\n\n<pre><code>&lt;button id=\"eventRegister\" type=\"button\" class=\"btn btn-lg btn-yb footer-button\" style=\"background-color: grey !important; border-color: grey !important; display: none;\" disabled&gt;Register&lt;/button&gt;\n</code></pre>\n\n<p>Then with a checkbox on the page for 'terms and services' I enable it and remove the grey color. But if the user un checks the checkbox and resets the button back to grey, in Chrome, it doesn't change the color. IE is fine!</p>\n\n<pre><code>$(\"#registerEventTerms\").off('change').on('change', function () {\n        if (this.checked)\n            $(\"#eventRegister\").css('background-color', '').css('border-color', '').prop('disabled', false);\n        else\n            $(\"#eventRegister\").css('background-color', 'grey !important').css('border-color', 'grey !important').prop('disabled', true);\n    });\n</code></pre>\n\n<p>FYI - I'm thinking it has something to do with my class 'btn-yb' located in my site.css file, that has these properties, but not sure</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.btn-yb {\r\n  background-color: #008489 !important;\r\n  color: white !important;\r\n}\r\n\r\n.btn-yb:hover,\r\n.btn-yb:focus {\r\n  color: white !important;\r\n}\r\n\r\n.btn-yb.disabled,\r\n[disabled].btn-yb,\r\nfieldset[disabled] .btn-yb {\r\n  opacity: 1;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "vue.js", "vuejs2"], "comments": [{"owner": {"reputation": 37731, "user_id": 392102, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/A0L1n.jpg?s=128&g=1", "display_name": "Roy J", "link": "https://stackoverflow.com/users/392102/roy-j"}, "edited": false, "score": 0, "creation_date": 1523482086, "post_id": 49784620, "comment_id": 86584793, "body": "I would go with an <a href=\"https://www.w3schools.com/tags/att_input_pattern.asp\" rel=\"nofollow noreferrer\">input pattern attribute</a>. Yours will not catch stuff pasted in, for example."}, {"owner": {"reputation": 20575, "user_id": 5228806, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/q4IOe.jpg?s=128&g=1", "display_name": "ffxsam", "link": "https://stackoverflow.com/users/5228806/ffxsam"}, "reply_to_user": {"reputation": 37731, "user_id": 392102, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/A0L1n.jpg?s=128&g=1", "display_name": "Roy J", "link": "https://stackoverflow.com/users/392102/roy-j"}, "edited": false, "score": 0, "creation_date": 1523482294, "post_id": 49784620, "comment_id": 86584874, "body": "@RoyJ That won&#39;t work for my use case. <code>pattern</code> is only validated upon submit."}, {"owner": {"reputation": 44310, "user_id": 1206267, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bc673ce429f0eb6ae81d75691522c217?s=128&d=identicon&r=PG", "display_name": "Ohgodwhy", "link": "https://stackoverflow.com/users/1206267/ohgodwhy"}, "edited": false, "score": 0, "creation_date": 1523482561, "post_id": 49784620, "comment_id": 86584978, "body": "Can you tell us why you need to modify the vnode? I don&#39;t see any reason"}, {"owner": {"reputation": 20575, "user_id": 5228806, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/q4IOe.jpg?s=128&g=1", "display_name": "ffxsam", "link": "https://stackoverflow.com/users/5228806/ffxsam"}, "edited": false, "score": 0, "creation_date": 1523483942, "post_id": 49784620, "comment_id": 86585489, "body": "I&#39;d rather not modify the vnode. The end goal is simply to apply an input mask via a directive."}], "answers": [{"tags": [], "owner": {"reputation": 37731, "user_id": 392102, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/A0L1n.jpg?s=128&g=1", "display_name": "Roy J", "link": "https://stackoverflow.com/users/392102/roy-j"}, "is_accepted": false, "score": 0, "last_activity_date": 1523485562, "creation_date": 1523485562, "answer_id": 49785271, "question_id": 49784620, "link": "https://stackoverflow.com/questions/49784620/how-to-short-circuit-v-model-in-custom-directives/49785271#49785271", "title": "How to short-circuit v-model in custom directives?", "body": "<p>You could do it like this: your directive has an <code>input</code> handler that checks whether forbidden chars are included, and if so, strips them out and issues a new <code>input</code> Event so that everything updates.</p>\n\n<p>The usual issue of cursor moving to the end of the field when you rewrite its value applies.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Vue.directive('limiter', {\r\n  inserted(el, binding, vnode) {\r\n    el.addEventListener('input', event =&gt; {\r\n      const newValue = event.target.value;\r\n      const cleaned = newValue.replace(/[^A-Za-z]/g, '');\r\n      \r\n      if (newValue !== cleaned) {\r\n        event.target.value = cleaned;\r\n        event.target.dispatchEvent(new Event('input'));\r\n      }\r\n    });\r\n  }\r\n});\r\n\r\nnew Vue({\r\n  el: \"#app\",\r\n  data() {\r\n      return {\r\n      name: '',\r\n    };\r\n\t}\r\n})</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n  background: #20262E;\r\n  padding: 20px;\r\n  font-family: Helvetica;\r\n}\r\n\r\n#app {\r\n  background: #fff;\r\n  border-radius: 4px;\r\n  padding: 20px;\r\n  transition: all 0.2s;\r\n}\r\n\r\nli {\r\n  margin: 8px 0;\r\n}\r\n\r\nh2 {\r\n  font-weight: bold;\r\n  margin-bottom: 15px;\r\n}\r\n\r\ndel {\r\n  color: rgba(0, 0, 0, 0.3);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"//unpkg.com/vue@latest/dist/vue.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"app\"&gt;\r\n  &lt;input v-model=\"name\" v-limiter /&gt;\r\n  &lt;div&gt;\r\n    Your name is {{ name }}.\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 20575, "user_id": 5228806, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/q4IOe.jpg?s=128&g=1", "display_name": "ffxsam", "link": "https://stackoverflow.com/users/5228806/ffxsam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1523485562, "creation_date": 1523481481, "question_id": 49784620, "link": "https://stackoverflow.com/questions/49784620/how-to-short-circuit-v-model-in-custom-directives", "title": "How to short-circuit v-model in custom directives?", "body": "<p>I want to have a custom directive I can attach to any <code>&lt;input&gt;</code> which will limit it to alpha chars only. Here's what I have so far:</p>\n\n<p><a href=\"https://jsfiddle.net/m473tpfu/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/m473tpfu/</a></p>\n\n<p>It works, however, the Vue.js docs state:</p>\n\n<blockquote>\n  <p>Apart from <code>el</code>, you should treat these arguments as read-only and never modify them.</p>\n</blockquote>\n\n<p>So modifying <code>vnode</code> is a bad pattern. How can I achieve this differently?</p>\n"}, {"tags": ["javascript", "node.js", "express"], "comments": [{"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1523481318, "post_id": 49784509, "comment_id": 86584513, "body": "I think what you have done there is fine, what problem is it giving you?"}, {"owner": {"reputation": 2108, "user_id": 6293861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/e7iWN.jpg?s=128&g=1", "display_name": "David Scales", "link": "https://stackoverflow.com/users/6293861/david-scales"}, "reply_to_user": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1523481826, "post_id": 49784509, "comment_id": 86584704, "body": "No bug. Just not familiar with express &amp; seems like a single handler would be a better or more canonical pattern. I would think a server framework could parse different types of input in a single route but I didn&#39;t find any sample code for this situation. If it&#39;s legit then I&#39;m happy to accept that."}, {"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1523482143, "post_id": 49784509, "comment_id": 86584816, "body": "You could do in a single route, by creating instances of your <code>bodyParser</code> etc, and then attach onto it&#39;s next event.  eg.  <code>var bodyparser_text = bodyParser.text();</code> and then inside the route,.. <code>if (somecondition) bodyparser_text(req, res, function (req, res) { &#47;*rest of code*&#47;})</code>, or something like that.. not tested.."}, {"owner": {"reputation": 2108, "user_id": 6293861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/e7iWN.jpg?s=128&g=1", "display_name": "David Scales", "link": "https://stackoverflow.com/users/6293861/david-scales"}, "reply_to_user": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1523557870, "post_id": 49784509, "comment_id": 86621748, "body": "hmm. I tried what you suggested (at least my flawed interpretation of what you suggested) unsuccessfully. I don\u2019t think the <code>bodyParser</code> / etc API really supports that? looks like <code>bodyParser</code> only takes an <code>options</code> config object, and isn\u2019t used directly with callbacks inside of it and such. I think I figured out what I was going for tho - see my suggested answer"}, {"owner": {"reputation": 1239, "user_id": 2157548, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/e6c6a5bdbb55ae1a8ca7955c1b7b9778?s=128&d=identicon&r=PG", "display_name": "Paul Okeke", "link": "https://stackoverflow.com/users/2157548/paul-okeke"}, "edited": false, "score": 0, "creation_date": 1523640204, "post_id": 49784509, "comment_id": 86659893, "body": "First you should do <code>app.use(bodyParser.json());</code> then on your route <code>app.post(&#39;&#47;notes&#39;, multer.array(&quot;files&quot;, 5), (req, res)=&gt; {});</code>"}], "answers": [{"comments": [{"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1523563156, "post_id": 49803646, "comment_id": 86624588, "body": "In a way, that&#39;s how you would normally do things.  But with you attaching your parsers on the route, I was assuming you was doing it for performance reasons.  With express if you know a route does not need a middleware you can leave it out, and then include it in the other routes that do.  Here every request is now going to do a check, and then pass on to the next middleware until one handles it.  Not really sure why the suggestion of calling the middleware directly didn&#39;t work though.  All middlewares are just a function callback in the form <code>(req, res, next)</code>"}, {"owner": {"reputation": 2108, "user_id": 6293861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/e7iWN.jpg?s=128&g=1", "display_name": "David Scales", "link": "https://stackoverflow.com/users/6293861/david-scales"}, "reply_to_user": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1523638422, "post_id": 49803646, "comment_id": 86658954, "body": "ah i see, that is a good point. Idk how the parsers are implemented, but i would hope they&#39;re wrapped in a simple conditional check &amp; call <code>next()</code> if they shouldn&#39;t parse the request, so that only the correct parser actually does significant computation. Thanks for all your input! If its worth your effort to submit a second answer with more explicit code I&#39;d be glad to test &amp; accept your suggested implementation. But I can&#39;t get it working myself. No worries either way."}], "tags": [], "owner": {"reputation": 2108, "user_id": 6293861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/e7iWN.jpg?s=128&g=1", "display_name": "David Scales", "link": "https://stackoverflow.com/users/6293861/david-scales"}, "is_accepted": false, "score": 0, "last_activity_date": 1523638624, "last_edit_date": 1523638624, "creation_date": 1523557817, "answer_id": 49803646, "question_id": 49784509, "link": "https://stackoverflow.com/questions/49784509/handle-multipart-formdata-application-json-and-text-plain-in-single-express-ha/49803646#49803646", "title": "handle multipart/formdata, application/json, and text/plain in single express handler?", "body": "<p>I think I just misunderstood express concepts (this could potentially be a poor question). </p>\n\n<p>I assumed I had to use these body parsing functions (<code>multer</code> / <code>upload.fields</code>, <code>bodyParser</code>) as callbacks in my route, e.g.:</p>\n\n<pre><code>router.post('/', /* parsing callback */, function(req, res) {\n  // ..\n});\n</code></pre>\n\n<p>or that I could use the parsers inside a route, e.g.:</p>\n\n<pre><code>router.post('/', function(req, res) {\n  if (condition) {\n     /* parserA */\n  } else {\n     /* parserB */\n  }\n});\n</code></pre>\n\n<p>With the former, I wasn't sure how to use multiple parser for different content types in a single route, and with the latter, I couldn't actually find the API signature for using the parsers directly (which is still a little weird to me, maybe I didn't search well enough?). </p>\n\n<p>But in any case, I was able to condense my code into a single &amp; much cleaner route by using all the parsers outside the route(s). The final code looks more like:</p>\n\n<pre><code>const upload = multer();\napp.use(upload.fields([]));\napp.use(bodyParser.json());\napp.use(bodyParser.text());\n\napp.post('/', (req, res) =&gt; {\n\n  res.write(JSON.stringify(req.headers, null, 2))\n  res.write('\\n\\n')\n\n  const contentType = req.get('content-type');\n\n  if (contentType.includes('text/plain')) {\n    res.write(req.body)\n  }\n\n  if (contentType.includes('application/json') ||\n      contentType.includes('multipart/form-data')) {\n    res.write(JSON.stringify(req.body, null, 2))\n  }\n\n  res.end()\n\n});\n</code></pre>\n\n<p>Here I'm basically calling all three types of parsers (string, json, formdata) at the top of the app, for <em>every</em> request, and only the appropriate parser actually modifies the <code>req.body</code> property. So then in the route itself, I can just send data back based on the content type with the appropriate parsing already done. </p>\n\n<p><strong>Edit</strong>: @Keith pointed out that this implementation is likely less performant, since the parsers are called for each request, so it may not necessarily be a \"better\" solution.</p>\n"}, {"comments": [{"owner": {"reputation": 2108, "user_id": 6293861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/e7iWN.jpg?s=128&g=1", "display_name": "David Scales", "link": "https://stackoverflow.com/users/6293861/david-scales"}, "edited": false, "score": 0, "creation_date": 1524673756, "post_id": 49822526, "comment_id": 87070551, "body": "yeah that makes even more sense, especially in the case that I have other routes that don&#39;t need to access all three parsers. thanks"}], "tags": [], "owner": {"reputation": 1239, "user_id": 2157548, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/e6c6a5bdbb55ae1a8ca7955c1b7b9778?s=128&d=identicon&r=PG", "display_name": "Paul Okeke", "link": "https://stackoverflow.com/users/2157548/paul-okeke"}, "is_accepted": true, "score": 1, "last_activity_date": 1523641415, "creation_date": 1523641415, "answer_id": 49822526, "question_id": 49784509, "link": "https://stackoverflow.com/questions/49784509/handle-multipart-formdata-application-json-and-text-plain-in-single-express-ha/49822526#49822526", "title": "handle multipart/formdata, application/json, and text/plain in single express handler?", "body": "<p>A cleaner solution might be for you to pass the middle-wares as array to the specific route, it will eventually get parsed.</p>\n\n<pre><code>app.post('/notes', [urlencodedParser, multiPart.array(\"files\", 5)], (req, res)=&gt; {\n   //do what you want\n   console.log(req.files);// to get the files\n   console.log(req.body);// to get the body \n})\n</code></pre>\n\n<p>You can however use the <code>app.use(middleware:parser);</code> but note that with this, the middle ware function will be called for all routes handled by express within your application.</p>\n\n<p>so i think handling it on specific route that need this sort of dynamism is neater and probably of better performance.</p>\n"}], "owner": {"reputation": 2108, "user_id": 6293861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/e7iWN.jpg?s=128&g=1", "display_name": "David Scales", "link": "https://stackoverflow.com/users/6293861/david-scales"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2578, "favorite_count": 0, "accepted_answer_id": 49822526, "answer_count": 2, "score": 2, "last_activity_date": 1523641415, "creation_date": 1523480985, "question_id": 49784509, "link": "https://stackoverflow.com/questions/49784509/handle-multipart-formdata-application-json-and-text-plain-in-single-express-ha", "title": "handle multipart/formdata, application/json, and text/plain in single express handler?", "body": "<p>I have an express demo server that echoes back what the client POSTs to it. </p>\n\n<p>It's used in a learning activity where the client will POST with the fetch API, e.g.:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>fetch('http://localhost:5000/', {\n  method: 'POST',\n  body: JSON.stringify({ lab: 'fetch', status: 'fun' }),\n  headers: messageHeaders\n})\n</code></pre>\n\n<p>The <code>body</code> of the data will be a string, JSON, or <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/FormData\" rel=\"nofollow noreferrer\"><code>FormData</code></a>.</p>\n\n<p>I'm not super familiar with express, but I'd like to just have a single route that handles all three <code>body</code> types. Currently I'm not able to figure out how to do that. </p>\n\n<p>I started with <a href=\"https://stackoverflow.com/questions/23244174/serving-multiple-content-types\">this SO post</a>, but the solution not working for my case - I don't think the <a href=\"http://expressjs.com/en/4x/api.html#res.format\" rel=\"nofollow noreferrer\">res.format</a> API allows me to access the body of the request, nor does it seem to work with multi-part form data. </p>\n\n<p>Instead I've defaulted to using the <a href=\"https://www.npmjs.com/package/body-parser\" rel=\"nofollow noreferrer\"><code>body-parser</code></a> and <a href=\"https://github.com/expressjs/multer\" rel=\"nofollow noreferrer\"><code>multer</code></a> packages in a potential middle-ware-hack configuration:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// if client POST body is a string, parse as text\napp.post('/', bodyParser.text(), (req, res, next) =&gt; {\n  const contentType = req.get('content-type');\n  if (!contentType.includes('text/plain')) {\n    return next();\n  }\n  res.write(JSON.stringify(req.headers, null, 2))\n  res.write('\\n\\n')\n  res.write(req.body)\n  res.end()\n});\n\n// if client POST body is JSON, parse as JSON\napp.post('/', bodyParser.json(), (req, res, next) =&gt; {\n  const contentType = req.get('content-type');\n  if (!contentType.includes('application/json')) {\n    return next();\n  }\n  res.write(JSON.stringify(req.headers, null, 2))\n  res.write('\\n\\n')\n  res.write(JSON.stringify(req.body, null, 2))\n  res.end()\n});\n\n// if client POST body is FormData, parse as form-data\napp.post('/', upload.fields([]), (req, res, next) =&gt; {\n  const contentType = req.get('content-type');\n  if (!contentType.includes('multipart/form-data')) {\n    return next();\n  }\n  res.write(JSON.stringify(req.headers, null, 2))\n  res.write('\\n\\n')\n  res.write(JSON.stringify(req.body, null, 2))\n  res.end()\n});\n</code></pre>\n\n<p>is there a more standard or \"better\" pattern to achieve this functionality? Perhaps where I only need to write a single handler? </p>\n"}, {"tags": ["javascript", "angular", "angular-ui-router", "observable"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1523480918, "post_id": 49784467, "comment_id": 86584379, "body": "Could you expand on the <i>context</i> - what are you trying to achieve with this?"}, {"owner": {"reputation": 851, "user_id": 5995696, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b52f678fd65a2bbd1b73ad883f028db7?s=128&d=identicon&r=PG&f=1", "display_name": "John Glabb", "link": "https://stackoverflow.com/users/5995696/john-glabb"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1523481364, "post_id": 49784467, "comment_id": 86584531, "body": "I just want to catch some variables/state before user really leaves the page but just for certain cases, i.e. when he navigates to myApp/userPfofiles and ignore in all other cases so just navigate"}], "answers": [{"comments": [{"owner": {"reputation": 13005, "user_id": 5594389, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/pe2h9.jpg?s=128&g=1", "display_name": "Tomasz Kula", "link": "https://stackoverflow.com/users/5594389/tomasz-kula"}, "reply_to_user": {"reputation": 851, "user_id": 5995696, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b52f678fd65a2bbd1b73ad883f028db7?s=128&d=identicon&r=PG&f=1", "display_name": "John Glabb", "link": "https://stackoverflow.com/users/5995696/john-glabb"}, "edited": false, "score": 0, "creation_date": 1523485612, "post_id": 49785128, "comment_id": 86585988, "body": "Glad I could help :)"}], "tags": [], "owner": {"reputation": 13005, "user_id": 5594389, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/pe2h9.jpg?s=128&g=1", "display_name": "Tomasz Kula", "link": "https://stackoverflow.com/users/5594389/tomasz-kula"}, "is_accepted": true, "score": 0, "last_activity_date": 1523484655, "creation_date": 1523484655, "answer_id": 49785128, "question_id": 49784467, "link": "https://stackoverflow.com/questions/49784467/how-to-determine-new-route-after-call-router-navigate/49785128#49785128", "title": "How to determine new route after call router.navigate?", "body": "<p>As you can see in the <code>CanDeactivate</code> interface the fourth argument is the <code>nextState</code>. You can inspect it to find the next route's url.</p>\n\n<pre><code>interface CanDeactivate&lt;T&gt; { \n  canDeactivate(\n    component: T, \n    currentRoute: ActivatedRouteSnapshot, \n    currentState: RouterStateSnapshot, \n    nextState?: RouterStateSnapshot\n  ): Observable&lt;boolean&gt; | Promise&lt;boolean&gt; | boolean\n}\n</code></pre>\n\n<p>So in your case you can do something like this:</p>\n\n<pre><code>canDeactivate(\n  component: TeamComponent,\n  currentRoute: ActivatedRouteSnapshot,\n  currentState: RouterStateSnapshot,\n  nextState: RouterStateSnapshot\n): Observable&lt;boolean&gt;|Promise&lt;boolean&gt;|boolean {\n\n  if (nextState.url === '/interesting/path/') {\n    // do something\n  else {\n    return true;\n  }\n\n}\n</code></pre>\n\n\n"}], "owner": {"reputation": 851, "user_id": 5995696, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b52f678fd65a2bbd1b73ad883f028db7?s=128&d=identicon&r=PG&f=1", "display_name": "John Glabb", "link": "https://stackoverflow.com/users/5995696/john-glabb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 302, "favorite_count": 0, "accepted_answer_id": 49785128, "answer_count": 1, "score": 1, "last_activity_date": 1523484655, "creation_date": 1523480793, "question_id": 49784467, "link": "https://stackoverflow.com/questions/49784467/how-to-determine-new-route-after-call-router-navigate", "title": "How to determine new route after call router.navigate?", "body": "<p>I'm trying to intercept a route change by router guard. So when I call:</p>\n\n<pre><code>this.router.navigate([\u201cmyApp/userProfiles\u201d]);\n</code></pre>\n\n<p>So once called it goes through guard CanDeactivate interface. And the guard needs to determine where it's really going to redirect.\nSo is there a property something like:</p>\n\n<pre><code>this.router.newRoute ?? \n</code></pre>\n\n<p>Or should I use a global variable to set it before call navigate method?</p>\n"}, {"tags": ["javascript", "node.js", "socket.io", "disconnect"], "comments": [{"owner": {"reputation": 23607, "user_id": 407650, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/v5HaT.png?s=128&g=1", "display_name": "XCS", "link": "https://stackoverflow.com/users/407650/xcs"}, "edited": false, "score": 0, "creation_date": 1523480969, "post_id": 49784464, "comment_id": 86584402, "body": "What is the clean up? When are the objects that have to be cleaned up created?"}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1523482190, "post_id": 49784464, "comment_id": 86584838, "body": "Can you describe the real problem here?  What are you actually trying to do in the cleanup and then maybe we can help with the better overall idea for how to do that."}], "answers": [{"tags": [], "owner": {"reputation": 9245, "user_id": 25868, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/4LaN5.jpg?s=128&g=1", "display_name": "Ashley Davis", "link": "https://stackoverflow.com/users/25868/ashley-davis"}, "is_accepted": true, "score": 3, "last_activity_date": 1523506843, "last_edit_date": 1523506843, "creation_date": 1523484754, "answer_id": 49785151, "question_id": 49784464, "link": "https://stackoverflow.com/questions/49784464/socket-io-bad-connection-tolerance/49785151#49785151", "title": "socket.io bad connection tolerance", "body": "<blockquote>\n  <p>Is the disconnect event on the server side only called when the\n  Heartbeat times out, say after 25 seconds or whatever or does it fire\n  every time a client goes missing for a second?</p>\n</blockquote>\n\n<p>The disconnect event is fired for the following reasons:</p>\n\n<ul>\n<li>The client disconnects the socket.</li>\n<li>The client sends the DISCONNECT command.</li>\n<li>The client does not send a 'ping' for X milliseconds.</li>\n</ul>\n\n<p>The server must receive a ping from the client every X milliseconds otherwise it disconnects the socket.</p>\n\n<p>By default X = 5000 ms (5 seconds)</p>\n\n<p>So the server expects the client to send a 'ping' every 5 seconds. By default the client will send a 'ping' every 2000 ms (every 2 seconds).</p>\n\n<p>You can configure these values as follows:</p>\n\n<pre><code>var app = require('express')();\nvar http = require('http').Server(app);\n\nvar io = require('socket.io')(http, {\n    pingInterval: 2000, // How many ms before the client sends a new ping packet\n    pingTimeout': 5000, // How many ms without a pong packet to consider the connection closed.\n});\n</code></pre>\n\n<p>Comments are from the <a href=\"https://github.com/socketio/engine.io#methods-1\" rel=\"nofollow noreferrer\">docs</a>.</p>\n\n<blockquote>\n  <p>In the case it fires every single time a client goes missing I was\n  thinking of calling a setTimeout in the disconnect event handler that\n  does the clean up after it had made sure that the client has not\n  reconnected. Is that a good approach?</p>\n</blockquote>\n\n<p>The socket.io client has support for reconnection, so you should try this and see if works the way you want. Otherwise you can implement reconnection manually.</p>\n\n<p>Here's how you configure reconnection on the client-side</p>\n\n<pre><code>io.connect('http://localhost', {\n  reconnection: true, // Whether to reconnect automatically (default: true)\n  reconnectionDelay: 500, // Number of reconnection attempts before giving (default: Infinity)\n  reconnectionAttempts: 10, // How long to initially wait before attempting a new reconnection (default: 1000)\n\n});\n</code></pre>\n\n<p>Comments again taken from the <a href=\"https://socket.io/docs/client-api/\" rel=\"nofollow noreferrer\">docs</a>. You find a few more options listed in the documentation.</p>\n\n<p>Note that from the server's point of view a client reconnecting is a <em>new</em> client. I don't think it has any understanding that it is a disconnected client coming back. </p>\n\n<p>So I'd say the simple solution is to cleanup immediately (with no setTimeout) and let the system handle any reconnection as if it were a new socket.</p>\n\n<p>If the cleanup is somekind of cache, and it's very expensive to regenerate the cache, then maybe you do want to try and reuse the cache for a client that reconnects. In that case you might want to generate a GUID in your client that you pass to the server when client connects or reconnects so that your server can re-identify the reconnected socket and reattach it to it's cached data record. This is going to get messy, best to stick with the simple solution if you can.</p>\n\n<p>Another approach might be to garbage collect the cache every so often instead of doing the setTimeout. Keep a record (in the cache) of whenever it was last used by a client. Every 30 minutes (or whatever interval you choose) go over the cache and remove records for clients that haven't been seen for a while. You need to use the GUID approach in this case as well so that reconnecting clients can reattach to their cached records.</p>\n"}], "owner": {"reputation": 1474, "user_id": 3659011, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/8aLi8.jpg?s=128&g=1", "display_name": "Adam Zahran", "link": "https://stackoverflow.com/users/3659011/adam-zahran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 948, "favorite_count": 0, "accepted_answer_id": 49785151, "answer_count": 1, "score": 1, "last_activity_date": 1523506843, "creation_date": 1523480774, "question_id": 49784464, "link": "https://stackoverflow.com/questions/49784464/socket-io-bad-connection-tolerance", "title": "socket.io bad connection tolerance", "body": "<p>I need to implement a system that is tolerant to occasional disconnections between client and server.</p>\n\n<p>I understand that socket.io implements a HeartBeat ping pong thing that makes sure that a client is still alive and it times out after a certain amount of time.</p>\n\n<p>I have two questions:</p>\n\n<ul>\n<li><p>Is the disconnect event on the server side only called when the Heartbeat times out, say after 25 seconds or whatever or does it fire every time a client goes missing for a second?</p></li>\n<li><p>In the case it fires every single time a client goes missing I was thinking of calling a <code>setTimeout</code> in the <code>disconnect</code> event handler that does the clean up after it had made sure that the client has not reconnected. Is that a good approach?</p></li>\n</ul>\n\n<p>So in code it would be something like this:</p>\n\n<pre><code>socket.on('disconnect', function(){\n   setTimeout(cleanup, 8000);\n});\n\nfunction cleanup(){\n    if(socket.connected) return;\n    // clean up\n}\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "comments": [{"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1523480952, "post_id": 49784438, "comment_id": 86584391, "body": "<code>.continue</code> is a child of <code>.featured-summary</code>, which is a sibling of <code>.hidden</code>.  The click event will need to go up to the closest <code>.field-content</code> and then find the <code>.hidden</code>"}], "answers": [{"comments": [{"owner": {"reputation": 379, "user_id": 7823946, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8f5f4e77fe79a2a22e49b0bd1a406426?s=128&d=identicon&r=PG&f=1", "display_name": "Nick0989", "link": "https://stackoverflow.com/users/7823946/nick0989"}, "edited": false, "score": 0, "creation_date": 1523486845, "post_id": 49784557, "comment_id": 86586358, "body": "Thanks. I actually have to remove my hidden class on my site because there&#39;s interfering classes that&#39;s causing to not work. Thanks for this though helped me out."}], "tags": [], "owner": {"reputation": 594, "user_id": 727717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uApbW.jpg?s=128&g=1", "display_name": "Ghostrydr", "link": "https://stackoverflow.com/users/727717/ghostrydr"}, "is_accepted": true, "score": 1, "last_activity_date": 1523481182, "creation_date": 1523481182, "answer_id": 49784557, "question_id": 49784438, "link": "https://stackoverflow.com/questions/49784438/traverse-down-the-dom-to-select-only/49784557#49784557", "title": "Traverse down the DOM to select only", "body": "<p>Selects the common parent, find hidden in there, then toggles the class. Also, when using <code>toggleClass</code>, <code>addClass</code>, or <code>removeClass</code> you don't add leading the <code>.</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var slideBodyText = $('.featured-summary').append('&lt;button class=\"continue btn btn-success\"&gt;Continue&lt;/button&gt;');\r\n\r\nslideBodyText;\r\n$('.continue').on('click', function() {\r\n  $(this).closest('.field-content').find('div.hidden').toggleClass('hidden');\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.hidden {\r\n  display: none;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div&gt;\r\n  &lt;div class=\"field-content\"&gt;\r\n    &lt;div class=\"featured-summary\"&gt;\r\n      &lt;p&gt;show text initially, then hide on click of button&lt;/p&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"hidden\"&gt;\r\n      &lt;div&gt;\r\n        &lt;p&gt;hidden text until botton is pressed.&lt;/p&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n\r\n  &lt;div class=\"field-content\"&gt;\r\n    &lt;div class=\"featured-summary\"&gt;\r\n      &lt;p&gt;show text initially, then hide on click of button/p&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"hidden\"&gt;\r\n      &lt;div&gt;\r\n        &lt;p&gt;hidden text until botton is pressed.&lt;/p&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n\r\n  &lt;div class=\"field-content\"&gt;\r\n    &lt;div class=\"featured-summary\"&gt;\r\n      &lt;p&gt;show text initially, then hide on click of button&lt;/p&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"hidden\"&gt;\r\n      &lt;div&gt;\r\n        &lt;p&gt;hidden text until botton is pressed.&lt;/p&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 379, "user_id": 7823946, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8f5f4e77fe79a2a22e49b0bd1a406426?s=128&d=identicon&r=PG&f=1", "display_name": "Nick0989", "link": "https://stackoverflow.com/users/7823946/nick0989"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 49784557, "answer_count": 1, "score": 0, "last_activity_date": 1523481182, "creation_date": 1523480669, "question_id": 49784438, "link": "https://stackoverflow.com/questions/49784438/traverse-down-the-dom-to-select-only", "title": "Traverse down the DOM to select only", "body": "<p>I'm using Drupal 7 to generate content types to a single page. I have some jQuery set to append a button on each summary text. I have the body text hidden. When clicking the appended button, I'm trying to select only the nearest .hidden class and expand it upon clicking on the continue button. Ideally hiding the summary text on click as well. I have tried .find() .closest() without any luck. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var slideBodyText = $('.featured-summary').append('&lt;button class=\"continue btn btn-success\"&gt;Continue&lt;/button&gt;');\r\n\r\nslideBodyText;\r\n$('.continue').on('click',function(){\r\n  $('.hidden').find('div.hidden').toggleClass('.hidden');\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.hidden {\r\n  display: none;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div&gt;\r\n  &lt;div class=\"field-content\"&gt;\r\n    &lt;div class=\"featured-summary\"&gt;\r\n      &lt;p&gt;show text initially, then hide on click of button&lt;/p&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"hidden\"&gt;\r\n      &lt;div&gt;\r\n        &lt;p&gt;hidden text until botton is pressed.&lt;/p&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n\r\n  &lt;div class=\"field-content\"&gt;\r\n    &lt;div class=\"featured-summary\"&gt;\r\n      &lt;p&gt;show text initially, then hide on click of button/p&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"hidden\"&gt;\r\n      &lt;div&gt;\r\n        &lt;p&gt;hidden text until botton is pressed.&lt;/p&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n\r\n  &lt;div class=\"field-content\"&gt;\r\n    &lt;div class=\"featured-summary\"&gt;\r\n      &lt;p&gt;show text initially, then hide on click of button&lt;/p&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"hidden\"&gt;\r\n      &lt;div&gt;\r\n        &lt;p&gt;hidden text until botton is pressed.&lt;/p&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Any help would be great. Thank you. </p>\n"}, {"tags": ["javascript", "jquery", "code-injection"], "comments": [{"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 3, "creation_date": 1523868024, "post_id": 49784427, "comment_id": 86720359, "body": "Sure you did. But the Close Vote is for &quot;... must include the desired behavior, a specific problem or error and the shortest code necessary to reproduce it <b>in the question itself</b>.&quot; (bold emphasis included)."}], "answers": [{"comments": [{"owner": {"reputation": 738, "user_id": 5367133, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bb0740063ae0d7c8ef2d946bdbd1b5c7?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/5367133/patrick"}, "edited": false, "score": 0, "creation_date": 1523481102, "post_id": 49784526, "comment_id": 86584447, "body": "Not working for me, can u add an updated jsfiddle link? Thanks for your answer btw!"}, {"owner": {"reputation": 728, "user_id": 9356258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f49b8e88bbc8a0ae3e94036865786151?s=128&d=identicon&r=PG&f=1", "display_name": "NielsNet", "link": "https://stackoverflow.com/users/9356258/nielsnet"}, "reply_to_user": {"reputation": 738, "user_id": 5367133, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bb0740063ae0d7c8ef2d946bdbd1b5c7?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/5367133/patrick"}, "edited": false, "score": 0, "creation_date": 1524166485, "post_id": 49784526, "comment_id": 86873763, "body": "There was just a parenthesis missing. Fixed that:<a href=\"https://jsfiddle.net/nwop13L9/51/\" rel=\"nofollow noreferrer\">jsfiddle.net/nwop13L9/51</a>"}], "tags": [], "owner": {"reputation": 728, "user_id": 9356258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f49b8e88bbc8a0ae3e94036865786151?s=128&d=identicon&r=PG&f=1", "display_name": "NielsNet", "link": "https://stackoverflow.com/users/9356258/nielsnet"}, "is_accepted": false, "score": 0, "last_activity_date": 1524166453, "last_edit_date": 1524166453, "creation_date": 1523481049, "answer_id": 49784526, "question_id": 49784427, "link": "https://stackoverflow.com/questions/49784427/removing-html-with-jquery-and-removing-container-if-class-exists-in-any-elemen/49784526#49784526", "title": "Removing html with jquery &amp; and removing container if class exists in any element inside", "body": "<p>Try replacing your code with</p>\n\n<pre><code>$('.person').each(function(index, element) {\n    if($(element).find('.remove-friend').length) {\n        $(element).remove(); \n    }\n}); \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1523482034, "post_id": 49784673, "comment_id": 86584776, "body": "I would use <code>closest</code> in this case rather than <code>parents</code>.  But nice catch flipping the logic like that."}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "reply_to_user": {"reputation": 738, "user_id": 5367133, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bb0740063ae0d7c8ef2d946bdbd1b5c7?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/5367133/patrick"}, "edited": false, "score": 0, "creation_date": 1523482189, "post_id": 49784673, "comment_id": 86584836, "body": "<a href=\"https://jsfiddle.net/nwop13L9/44/\" rel=\"nofollow noreferrer\">jsfiddle.net/nwop13L9/44</a>   What do you mean? @Patrick"}, {"owner": {"reputation": 738, "user_id": 5367133, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bb0740063ae0d7c8ef2d946bdbd1b5c7?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/5367133/patrick"}, "edited": false, "score": 0, "creation_date": 1523482284, "post_id": 49784673, "comment_id": 86584872, "body": "Check this js fiddle. <a href=\"https://jsfiddle.net/9kLnvyqm/59/\" rel=\"nofollow noreferrer\">jsfiddle.net/9kLnvyqm/59</a> The other one i made was just for this example. But when i try to apply it here <a href=\"https://jsfiddle.net/9kLnvyqm/59/\" rel=\"nofollow noreferrer\">jsfiddle.net/9kLnvyqm/59</a>  &quot;which is essentially the same&quot; it doesnt work."}, {"owner": {"reputation": 364, "user_id": 9136781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfb57df979f261fb432a9f52a5e2ac69?s=128&d=identicon&r=PG&f=1", "display_name": "Gwen", "link": "https://stackoverflow.com/users/9136781/gwen"}, "edited": false, "score": 0, "creation_date": 1523482448, "post_id": 49784673, "comment_id": 86584923, "body": "Because all container have <code>FriendRequestOutgoing</code> class"}, {"owner": {"reputation": 738, "user_id": 5367133, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bb0740063ae0d7c8ef2d946bdbd1b5c7?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/5367133/patrick"}, "edited": false, "score": 0, "creation_date": 1523482510, "post_id": 49784673, "comment_id": 86584950, "body": "Yes as did all all containers having the &quot;.remove-friend&quot; class in the original example"}, {"owner": {"reputation": 364, "user_id": 9136781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfb57df979f261fb432a9f52a5e2ac69?s=128&d=identicon&r=PG&f=1", "display_name": "Gwen", "link": "https://stackoverflow.com/users/9136781/gwen"}, "edited": false, "score": 0, "creation_date": 1523482678, "post_id": 49784673, "comment_id": 86585018, "body": "Juste try : <code>$(&#39;.FriendRequestOutgoing:not(.hidden_elem)&#39;).parents(&#39;.clea&zwnj;&#8203;rfix._60rh._gse&#39;).re&zwnj;&#8203;move()</code> for example (+ a fiddle <a href=\"https://jsfiddle.net/9kLnvyqm/64/\" rel=\"nofollow noreferrer\">jsfiddle.net/9kLnvyqm/64</a>)"}, {"owner": {"reputation": 364, "user_id": 9136781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfb57df979f261fb432a9f52a5e2ac69?s=128&d=identicon&r=PG&f=1", "display_name": "Gwen", "link": "https://stackoverflow.com/users/9136781/gwen"}, "edited": false, "score": 0, "creation_date": 1523482855, "post_id": 49784673, "comment_id": 86585100, "body": "Oh yeah, you just confused hidden_elem and hidden-elem  <a href=\"https://jsfiddle.net/9kLnvyqm/68/\" rel=\"nofollow noreferrer\">jsfiddle.net/9kLnvyqm/68</a>"}], "tags": [], "owner": {"reputation": 364, "user_id": 9136781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfb57df979f261fb432a9f52a5e2ac69?s=128&d=identicon&r=PG&f=1", "display_name": "Gwen", "link": "https://stackoverflow.com/users/9136781/gwen"}, "is_accepted": true, "score": 1, "last_activity_date": 1523482925, "last_edit_date": 1523482925, "creation_date": 1523481775, "answer_id": 49784673, "question_id": 49784427, "link": "https://stackoverflow.com/questions/49784427/removing-html-with-jquery-and-removing-container-if-class-exists-in-any-elemen/49784673#49784673", "title": "Removing html with jquery &amp; and removing container if class exists in any element inside", "body": "<p>Just do : </p>\n\n<pre><code>$('.remove-friend').parents('.person').remove()\n</code></pre>\n\n<p>here's a fiddle <a href=\"https://jsfiddle.net/nwop13L9/40/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/nwop13L9/40/</a></p>\n\n<p>But as @CalvinNunes said -> juste do <code>$('.friend').remove();</code> </p>\n\n<p>even simpler</p>\n"}], "owner": {"reputation": 738, "user_id": 5367133, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bb0740063ae0d7c8ef2d946bdbd1b5c7?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/5367133/patrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "closed_date": 1524166674, "accepted_answer_id": 49784673, "answer_count": 2, "score": -2, "last_activity_date": 1524166453, "creation_date": 1523480599, "last_edit_date": 1523480976, "question_id": 49784427, "link": "https://stackoverflow.com/questions/49784427/removing-html-with-jquery-and-removing-container-if-class-exists-in-any-elemen", "closed_reason": "Not suitable for this site", "title": "Removing html with jquery &amp; and removing container if class exists in any element inside", "body": "<p>I am working with a list of people. <em>\"Friends\"</em> and <em>\"Not Friends\"</em></p>\n\n<p>Each container represents a person. If the person is my <em>friend</em> it will have a button that says <em>\"remove friend\"</em> if the person is <em>not a friend</em>; it will have a button that says <em>\"add friend\"</em></p>\n\n<p>Each person container contains both the \"Remove Friend\" and \"Add Friend\" <em>buttons</em>. If the person is a friend the <em>\"remove friend\"</em> button will have an addition class of <em>\"hidden-element\"</em> and if the person is not my friend the \"<em>add friend</em>\" button will have the same class of <em>\"hidden-element\"</em></p>\n\n<p><strong>Goal:</strong> Only show people who are not my friends.</p>\n\n<p><strong>Attempt:</strong> </p>\n\n<p>For the .hidden-element class I want to remove the html completely. (not just hide its display). To accomplish that i used <code>$('.hidden-element').remove();</code> which i think removes all buttons with the class of \".hidden-element\" from the html?</p>\n\n<p>To identify which person is a friend and which person is not a friend. I removed all elements with the class of \"<em>.hidden-element</em>\" Leaving only the visible button left in the \"<em>.person</em>\" container. To accomplish that i used <code>$('.hidden-element').remove();</code> which i think removes all buttons with the class of \".hidden-element\" from the html.</p>\n\n<p>Now i want to remove all elements with the class of \".person\" <strong>ONLY IF</strong> they contain <em>anywhere</em> inside them, an element with the class of \".remove-friend\" </p>\n\n<p>so i tried this:</p>\n\n<pre><code>if($('.person').find('.remove-friend').length) {\n            $( '.person' ).remove();\n}\n</code></pre>\n\n<p>Which just removed ALL elements with the class of \"<em>.person</em>\" which is not what I want. Because I want ONLY people who are NOT FRIENDS to show on the front-end</p>\n\n<hr>\n\n<p><a href=\"https://jsfiddle.net/nwop13L9/35/\" rel=\"nofollow noreferrer\"><h1>HERE IS A FULL JS FIDDLE</h1></a>\n<strong>Change the .remove to .show</strong> in the Jquery to see the html layout for a better understanding.</p>\n"}, {"tags": ["javascript", "jquery", "ajax"], "comments": [{"owner": {"reputation": 970, "user_id": 4770888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c24c9b16fef0f5b9bf359aea27466e00?s=128&d=identicon&r=PG", "display_name": "Tommy May", "link": "https://stackoverflow.com/users/4770888/tommy-may"}, "edited": false, "score": 0, "creation_date": 1523480687, "post_id": 49784387, "comment_id": 86584289, "body": "Is the username really <i>f7be829c-ae6d-47d8-b2bd-65a40ad45aa</i> ? That seems like a token of some sort."}, {"owner": {"reputation": 8818, "user_id": 1167890, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/074e6aa01640f2d5425f42e8d7dca51a?s=128&d=identicon&r=PG", "display_name": "Simon O&#39;Doherty", "link": "https://stackoverflow.com/users/1167890/simon-odoherty"}, "edited": false, "score": 0, "creation_date": 1523501767, "post_id": 49784387, "comment_id": 86589713, "body": "Should it be <code>&#39;Basic &#39;</code> ?"}, {"owner": {"reputation": 710, "user_id": 3393515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ded562a66b740f168b4f1b39b54e0e2?s=128&d=identicon&r=PG", "display_name": "M&#225;rcio Rossato", "link": "https://stackoverflow.com/users/3393515/m%c3%a1rcio-rossato"}, "edited": false, "score": 0, "creation_date": 1564951995, "post_id": 49784387, "comment_id": 101188043, "body": "are you try remove btoa ?"}], "owner": {"reputation": 23, "user_id": 8143141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9aec9d38cbc381bc07be2a549c232a?s=128&d=identicon&r=PG", "display_name": "Kamal", "link": "https://stackoverflow.com/users/8143141/kamal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 210, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523480406, "creation_date": 1523480406, "question_id": 49784387, "link": "https://stackoverflow.com/questions/49784387/401-unauthorized-ajax-call-error-to-watson-assistant-api", "title": "401 unauthorized ajax call error to Watson Assistant API", "body": "<p>I am trying to make ajax request to Watson Assistant API from client side only, so I had this code in php which is working fine but when I tried to make it in jQuery I got 401 unauthorized error.\n<br><strong>PHP:</strong></p>\n\n<pre><code>$data['input']['text'] = $_POST['message'];\nif(isset($_POST['context']) &amp;&amp; $_POST['context']){\n  $data['context'] = json_decode($_POST['context'], JSON_UNESCAPED_UNICODE);\n}\n$data['alternate_intents'] = false;\n$json = json_encode($data, JSON_UNESCAPED_UNICODE);\n\n// Post the json to the Watson API via cURL.\n$ch = curl_init();\ncurl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\ncurl_setopt($ch, CURLOPT_URL, 'https://watson-api-explorer.mybluemix.net/conversation/api/v1/workspaces/'.$workspace_id.'/message?version='.$release_date);\ncurl_setopt($ch, CURLOPT_USERPWD, $username.\":\".$password);\ncurl_setopt($ch, CURLOPT_POST, true );\ncurl_setopt($ch, CURLOPT_HTTPHEADER, array('Content-Type: application/json'));\ncurl_setopt($ch, CURLOPT_POSTFIELDS, $json);\n$result = trim( curl_exec( $ch ) );\ncurl_close($ch);\n\n// Responce the result.\necho json_encode($result, JSON_UNESCAPED_UNICODE);\n</code></pre>\n\n<p><strong>JS:</strong></p>\n\n<pre><code>$.ajax({\n  url: apiUrl,\n  type: 'POST',\n  dataType: 'json',\n  data: {\n    message: message,\n    context: context\n  },\n  headers:{\n    'Authorization' : 'Basic' + btoa('f7be829c-ae6d-47d8-b2bd-65a40ad45aa' +':'+ 'hJcToxQ23Zk'),\n  },\n  contentType: 'application/json',\n  timeout:10000\n})\n</code></pre>\n\n<p>Anything missing from the JS code?\n<br> Note: credentials mentioned are for example only.</p>\n"}, {"tags": ["javascript", "redux", "react-redux", "fetch-api", "redux-thunk"], "comments": [{"owner": {"reputation": 1828, "user_id": 5103858, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/861929827220724/picture?type=large", "display_name": "Usman I", "link": "https://stackoverflow.com/users/5103858/usman-i"}, "edited": false, "score": 0, "creation_date": 1580809956, "post_id": 49784371, "comment_id": 106211050, "body": "try this github.com/github/fetch/issues/203#issuecomment-143347675"}], "answers": [{"comments": [{"owner": {"reputation": 3315, "user_id": 240716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d3uA9.jpg?s=128&g=1", "display_name": "jpdelatorre", "link": "https://stackoverflow.com/users/240716/jpdelatorre"}, "reply_to_user": {"reputation": 2081, "user_id": 2548965, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/54be5d9bbd56448136d231a0bbb88783?s=128&d=identicon&r=PG", "display_name": "totalnoob", "link": "https://stackoverflow.com/users/2548965/totalnoob"}, "edited": false, "score": 0, "creation_date": 1523551574, "post_id": 49794801, "comment_id": 86618511, "body": "You can replace your handleError function with the first <code>then</code> on this answer and remove your <code>.then(res) =&gt; res.json()</code>"}, {"owner": {"reputation": 2081, "user_id": 2548965, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/54be5d9bbd56448136d231a0bbb88783?s=128&d=identicon&r=PG", "display_name": "totalnoob", "link": "https://stackoverflow.com/users/2548965/totalnoob"}, "edited": false, "score": 0, "creation_date": 1523603136, "post_id": 49794801, "comment_id": 86636815, "body": "can you explain to me how your code gets the actual response and not the generic one please?"}, {"owner": {"reputation": 3315, "user_id": 240716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d3uA9.jpg?s=128&g=1", "display_name": "jpdelatorre", "link": "https://stackoverflow.com/users/240716/jpdelatorre"}, "reply_to_user": {"reputation": 2081, "user_id": 2548965, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/54be5d9bbd56448136d231a0bbb88783?s=128&d=identicon&r=PG", "display_name": "totalnoob", "link": "https://stackoverflow.com/users/2548965/totalnoob"}, "edited": false, "score": 0, "creation_date": 1523702582, "post_id": 49794801, "comment_id": 86676213, "body": "Updated my answer to include some explanations. Hope that helps"}, {"owner": {"reputation": 3315, "user_id": 240716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d3uA9.jpg?s=128&g=1", "display_name": "jpdelatorre", "link": "https://stackoverflow.com/users/240716/jpdelatorre"}, "reply_to_user": {"reputation": 2081, "user_id": 2548965, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/54be5d9bbd56448136d231a0bbb88783?s=128&d=identicon&r=PG", "display_name": "totalnoob", "link": "https://stackoverflow.com/users/2548965/totalnoob"}, "edited": false, "score": 0, "creation_date": 1523800587, "post_id": 49794801, "comment_id": 86700046, "body": "@totalnoob let me know if there\u2019s anything unclear, otherwise please accept the answer"}, {"owner": {"reputation": 149, "user_id": 10691258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/350e32fbae15f4fa27309c6110b82ea0?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Starbright", "link": "https://stackoverflow.com/users/10691258/joe-starbright"}, "edited": false, "score": 0, "creation_date": 1618162425, "post_id": 49794801, "comment_id": 118513114, "body": "@jpdelatorre When I apply above, I get the error of  &quot;Uncaught (in promise) SyntaxError: Unexpected end of JSON input&quot;. How do I fix this"}], "tags": [], "owner": {"reputation": 3315, "user_id": 240716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d3uA9.jpg?s=128&g=1", "display_name": "jpdelatorre", "link": "https://stackoverflow.com/users/240716/jpdelatorre"}, "is_accepted": true, "score": 6, "last_activity_date": 1523702555, "last_edit_date": 1523702555, "creation_date": 1523530759, "answer_id": 49794801, "question_id": 49784371, "link": "https://stackoverflow.com/questions/49784371/fetch-api-get-error-messages-from-server-rather-than-generic-messages/49794801#49794801", "title": "fetch api get error messages from server rather than generic messages", "body": "<p>Not sure what\u2019s in your <code>handleError</code>. One approach to extract the error message would be something like this</p>\n\n<pre><code>fetch(url)\n  .then(res =&gt; {\n    // Check if response has errors\n    if (res.ok) {\n      // No errors\n      return res.json();\n    } else {\n       // Has errors, since res.json() returns a Promise, we\n       // chain a then here to get the value and return the err value\n       // as Promise rejection so that it will go to the \n       // catch handler\n       return res.json().then(err =&gt; Promise.reject(err));\n       // this could also be\n       // return res.json().then(err =&gt; throw Error(err));\n    }\n  })\n  .then(json =&gt; {\n    // dispatch success\n  })\n  .catch(err =&gt; {\n    // dispatch error\n  });\n</code></pre>\n"}], "owner": {"reputation": 2081, "user_id": 2548965, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/54be5d9bbd56448136d231a0bbb88783?s=128&d=identicon&r=PG", "display_name": "totalnoob", "link": "https://stackoverflow.com/users/2548965/totalnoob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1003, "favorite_count": 1, "accepted_answer_id": 49794801, "answer_count": 1, "score": 3, "last_activity_date": 1523702555, "creation_date": 1523480323, "last_edit_date": 1523540533, "question_id": 49784371, "link": "https://stackoverflow.com/questions/49784371/fetch-api-get-error-messages-from-server-rather-than-generic-messages", "title": "fetch api get error messages from server rather than generic messages", "body": "<p>I'm using redux thunk to fetch some data in an action</p>\n\n<pre><code>function handleErrors(response) {\n    console.log(response)\n    if (!response.ok) {\n        throw Error(response.statusText);\n    }\n    return response;\n}\n\nexport const something = (var) =&gt; dispatch =&gt; {\n    fetch(`${url}/something`, {credentials: 'include'})\n    .then(handleErrors)\n    .then(res =&gt; res.json())\n    .then(res =&gt;\n        dispatch({\n            type: SOMETHING,\n            payload: res\n        })\n    )\n    .catch(error =&gt; \n        dispatch({\n            type: ERROR,\n            payload: error\n        })\n    )\n</code></pre>\n\n<p>my express server on an error responds with 'some error'</p>\n\n<pre><code>return res.status(500).send({ message: 'some error' });\n</code></pre>\n\n<p>when it fetches and it's an error (500), its message is the generic \"Internal Server Error\".</p>\n\n<p>how do I get the 'some error' in fetch? </p>\n"}, {"tags": ["javascript", "arrays", "google-chrome-extension", "google-chrome-storage"], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 8566184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22d10f6ab6a32fcd470e308251fbed00?s=128&d=identicon&r=PG&f=1", "display_name": "ThanksForTheHelpAgain", "link": "https://stackoverflow.com/users/8566184/thanksforthehelpagain"}, "edited": false, "score": 1, "creation_date": 1523500276, "post_id": 49786697, "comment_id": 86589345, "body": "Your explanation makes a lot of sense. Once I changed &quot;arr.filter&quot; to &quot;theList.filter&quot; your solution worked perfectly. Thank you!"}], "tags": [], "owner": {"reputation": 2170, "user_id": 1560153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gUyy4.jpg?s=128&g=1", "display_name": "Sergii Rudenko", "link": "https://stackoverflow.com/users/1560153/sergii-rudenko"}, "is_accepted": true, "score": 2, "last_activity_date": 1523497174, "creation_date": 1523497174, "answer_id": 49786697, "question_id": 49784369, "link": "https://stackoverflow.com/questions/49784369/how-do-i-delete-one-item-from-an-array-with-chrome-storage-sync-remove/49786697#49786697", "title": "How do I delete one item from an array with chrome.storage.sync.remove?", "body": "<p>You cannot do it this way, because <code>chrome.storage</code> is a key-value storage.</p>\n\n<p>In your particular example, you are trying to remove from storage one element of the array, but storage contains only key with array.</p>\n\n<p>The best solution here will be just removing this value from the array and set the array to the <code>chrome.storage</code> again.</p>\n\n<pre><code>var theList = result['urlList'];\n\n// Checks if the url that will be deleted is in the array:\nif (theList.includes(theUrl)) {\n\n  // create a new array without url\n  var newUrlList = arr.filter(function(item) { \n    return item !== theUrl;\n  });\n\n  // set new url list to the storage\n  chrome.storage.sync.set({ 'urlList': newUrlList });\n  chrome.runtime.reload();\n}\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 8566184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22d10f6ab6a32fcd470e308251fbed00?s=128&d=identicon&r=PG&f=1", "display_name": "ThanksForTheHelpAgain", "link": "https://stackoverflow.com/users/8566184/thanksforthehelpagain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 472, "favorite_count": 1, "accepted_answer_id": 49786697, "answer_count": 1, "score": 0, "last_activity_date": 1523497174, "creation_date": 1523480311, "question_id": 49784369, "link": "https://stackoverflow.com/questions/49784369/how-do-i-delete-one-item-from-an-array-with-chrome-storage-sync-remove", "title": "How do I delete one item from an array with chrome.storage.sync.remove?", "body": "<p>I'm building a Chrome browser extension which includes a feature that lets users save urls. I used <code>chrome.storage.sync</code> to create this feature and didn't encounter any issues. </p>\n\n<p>However, I also need to let users delete urls they've already saved. I created a text input box where they can enter a single url they want to delete (i.e. \"www.url.com\"). I want to convert this input into a string and use it to remove a matching string from Chrome storage when the user presses a button.</p>\n\n<p>I thought the <a href=\"https://developer.chrome.com/extensions/storage\" rel=\"nofollow noreferrer\">chrome.storage documentation</a> specifies that <code>chrome.storage.sync.remove</code> can be used to remove a string from a stored array, but I can't get it to work. Here's my code:</p>\n\n<pre><code>function removeUrl() {\n    var theUrl = document.getElementById('url-input').value;\n    chrome.storage.sync.get(null, function(result, error) {\n\n        // Checks if the array (urlList) exists:\n        if ('urlList' in result) {\n            var theList = result['urlList'];\n\n            // Checks if the url that will be deleted is in the array:\n            if (theList.includes(theUrl)) {\n                chrome.storage.sync.remove(theUrl);\n                chrome.runtime.reload();\n            }\n        }\n        // Error handling goes here\n    });\n}\n</code></pre>\n\n<p>This code doesn't throw any errors, but it doesn't remove the url from the array either. </p>\n\n<p>Please note that I only want to delete 1 url at a time, there are no duplicate urls in the array, and I am not using any libraries like jQuery. What am I doing wrong?  </p>\n"}, {"tags": ["javascript", "angular", "angular-routing"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1523480375, "post_id": 49784350, "comment_id": 86584151, "body": "the same way you&#39;re using to navigate to any URL: using a link with routerLink, or using router.navigate[ByUrl]()."}, {"owner": {"reputation": 8483, "user_id": 6108211, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bZBT3.png?s=128&g=1", "display_name": "Dmitry Grinko", "link": "https://stackoverflow.com/users/6108211/dmitry-grinko"}, "edited": false, "score": 0, "creation_date": 1523482248, "post_id": 49784350, "comment_id": 86584858, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/45997369/how-to-get-param-from-url-in-angular-4\">How to get param from url in angular 4?</a>"}, {"owner": {"reputation": 13201, "user_id": 3486691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6dc01f3f85a630c36252819704ad397d?s=128&d=identicon&r=PG", "display_name": "ForestG", "link": "https://stackoverflow.com/users/3486691/forestg"}, "edited": false, "score": 0, "creation_date": 1523518729, "post_id": 49784350, "comment_id": 86596075, "body": "what do you mean by &quot;hange the unit parameter &quot;? Can&#39;t really understand the question."}, {"owner": {"reputation": 4739, "user_id": 264946, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/037534de70515727478cb707c28b6b5a?s=128&d=identicon&r=PG", "display_name": "Anshuman Jaiswal", "link": "https://stackoverflow.com/users/264946/anshuman-jaiswal"}, "edited": false, "score": 0, "creation_date": 1523519299, "post_id": 49784350, "comment_id": 86596422, "body": "is it link somewhere e.g. you are having <code>button</code>s? or it&#39;s based on condition in component? You can add some more code regarding same."}, {"owner": {"reputation": 716, "user_id": 2614418, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/0c513e578421946070ad7b3a75a9e9dc?s=128&d=identicon&r=PG", "display_name": "Rui Sebasti&#227;o", "link": "https://stackoverflow.com/users/2614418/rui-sebasti%c3%a3o"}, "edited": false, "score": 0, "creation_date": 1523519407, "post_id": 49784350, "comment_id": 86596470, "body": "i think  that seeing the routes configuration its pretty clear to see what means to change the serialnumber... i have a list of units with a specific serial number and i navigate through them changing the &#39;:serialnumber&#39; route parameter. my question was if it is possible to change only that parameter and keep the current childs route (../consumptions/daily for example)"}], "owner": {"reputation": 716, "user_id": 2614418, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/0c513e578421946070ad7b3a75a9e9dc?s=128&d=identicon&r=PG", "display_name": "Rui Sebasti&#227;o", "link": "https://stackoverflow.com/users/2614418/rui-sebasti%c3%a3o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 223, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1523519891, "creation_date": 1523480227, "last_edit_date": 1523519891, "question_id": 49784350, "link": "https://stackoverflow.com/questions/49784350/angular-routing-keep-child-parameters", "title": "Angular routing keep child parameters", "body": "<p>I have the following route configuration:</p>\n\n<pre><code>const routes: Routes = [\n  {\n    path: '',\n    component: HomeComponent,\n    canActivate: [AuthGuard],\n    children: [\n      {\n        component: DashboardComponent,\n        path: ''\n      },\n      {\n        component: UnitComponent,\n        path: 'unit/:serialnumber',\n        children: [\n                  { path: '', redirectTo: 'realtime', pathMatch: 'full'},\n          {\n            path: 'manager',\n            component: UnitManagerComponent,\n            canActivate: [SysAdminGuard]\n          },\n          { path: 'realtime', component: UnitRealtimeComponent },\n          { path: 'history', component: UnitHistoryComponent },\n          { path: 'consumption', component: UnitConsumptionComponent },\n          { path: 'consumption/:range', component: UnitConsumptionComponent },\n          { path: 'edit', component: UnitEditComponent }\n        ]\n      }\n    ]\n  }\n...\n</code></pre>\n\n<p>image that i am in current route state  </p>\n\n<p><a href=\"http://127.0.0.1:4200/#/unit/000000003/consumption/monthly\" rel=\"nofollow noreferrer\">http://127.0.0.1:4200/#/unit/000000003/consumption/monthly</a></p>\n\n<p>and i want to navigate to another unit with a different serialnumber: </p>\n\n<p><a href=\"http://127.0.0.1:4200/#/unit/000000001/consumption/monthly\" rel=\"nofollow noreferrer\">http://127.0.0.1:4200/#/unit/000000001/consumption/monthly</a></p>\n\n<p>if i make </p>\n\n<pre><code>this.router.navigate(['/unit','000000001'])\n</code></pre>\n\n<p>i will go to <a href=\"http://127.0.0.1:4200/#/unit/000000001/realtime\" rel=\"nofollow noreferrer\">http://127.0.0.1:4200/#/unit/000000001/realtime</a></p>\n\n<p>is there any way to change a specific parameter in the route and keep the childs route ?  </p>\n"}, {"tags": ["javascript", "jquery", "json", "geolocation", "getjson"], "answers": [{"tags": [], "owner": {"reputation": 49343, "user_id": 2082673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gmyMb.jpg?s=128&g=1", "display_name": "dave", "link": "https://stackoverflow.com/users/2082673/dave"}, "is_accepted": true, "score": 1, "last_activity_date": 1523480077, "creation_date": 1523480077, "answer_id": 49784308, "question_id": 49784266, "link": "https://stackoverflow.com/questions/49784266/script-not-working-when-trying-to-getjson-from-url-that-i-put-lat-long-data-in/49784308#49784308", "title": "Script not working when trying to getJSON from URL that I put lat &amp; long data into", "body": "<p>Your variables are going out of scope:</p>\n\n<pre><code>if (navigator.geolocation)\n{\n    navigator.geolocation.getCurrentPosition(function(position) {       \n        var latitude = position.coords.latitude\n        var longitude = position.coords.longitude\n    })\n}\n</code></pre>\n\n<p>You need to declare the variables outside of that inner function:</p>\n\n<pre><code>var latitude, longitude;\nif (navigator.geolocation)\n{\n    navigator.geolocation.getCurrentPosition(function(position) {       \n        latitude = position.coords.latitude\n        longitude = position.coords.longitude\n    })\n}\n</code></pre>\n\n<p>Oh, and you'll need to wait until you have gotten the coordinates, so you should wrap your <code>getJSON</code> call in a function, and then call it after you have the variables.</p>\n\n<pre><code>navigator.geolocation.getCurrentPosition(function(position) {       \n    latitude = position.coords.latitude\n    longitude = position.coords.longitude\n    doAjaxRequest();\n})\n</code></pre>\n"}], "owner": {"reputation": 162, "user_id": 7902116, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RFfE8aCa7d0/AAAAAAAAAAI/AAAAAAAAGvw/qHcjMGgCGsk/photo.jpg?sz=128", "display_name": "merkur0", "link": "https://stackoverflow.com/users/7902116/merkur0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 49784308, "answer_count": 1, "score": 0, "last_activity_date": 1523480077, "creation_date": 1523479906, "question_id": 49784266, "link": "https://stackoverflow.com/questions/49784266/script-not-working-when-trying-to-getjson-from-url-that-i-put-lat-long-data-in", "title": "Script not working when trying to getJSON from URL that I put lat &amp; long data into", "body": "<p>As you can see <a href=\"https://codepen.io/merkur0/full/bvZKMz/\" rel=\"nofollow noreferrer\">here</a>, my app doesn't work when I try to use the variables \"latitude\" and \"longitude\" (those variables should get the user's current latitude and longitude) in the URL that I am getting JSON from.</p>\n\n<p>Below is my code</p>\n\n<pre><code>if (navigator.geolocation)\n{\n    navigator.geolocation.getCurrentPosition(function(position) {       \n        var latitude = position.coords.latitude\n        var longitude = position.coords.longitude\n    })\n}\n\n$.getJSON(\"https://fcc-weather-api.glitch.me/api/current?lat=\" + latitude + \"&amp;lon=\" + longitude, function(json){\n  var temp = json.main.temp\n  var ftemp = (temp * 1.8) + 32\n  var celsius = true\n  var condition = json.weather[0].main\n  var video;\n  switch (condition)\n    {\n      case \"Clouds\":\n        video = \"\"\n        break;\n      case \"Rain\":\n        video = \"https://gcs-vimeo.akamaized.net/exp=1523487613~acl=%2A%2F401800757.mp4%2A~hmac=d66772ad9d6530ff1af68ac1dc01fcf17db42cce48ff72eebf97cc2b34ec0dab/vimeo-prod-skyfire-std-us/01/2146/5/135733055/401800757.mp4\"\n        break;\n      case \"Sunny\":\n        video = \"\"\n        break;        \n    }    \n  $(\"#myVideo\").html(\"&lt;source src='\" + video + \"' type='video/mp4'&gt;\")\n  $(\"#condition\").html(condition)\n    $(\"#number\").html(Math.round(temp) + \"\u00b0C\")\n    $(\"#button\").on(\"click\", function(event){\n    event.preventDefault()\n    celsius = !celsius;\n    if (celsius)\n      {\n        $(\"#number\").html(Math.round(temp) + \"\u00b0C\")\n        $(\"#button\").html(\"(Switch to \u00b0F)\")\n      }\n    else\n      {\n        $(\"#number\").html(Math.round(ftemp) + \"\u00b0F\")    \n        $(\"#button\").html(\"(Switch to \u00b0C)\")\n      }\n  })\n  })\n</code></pre>\n\n<p>But before I added the upper \"if portion\" and before I tried putting the variables into the URL, the app worked just fine, so the issue is somewhere in these few lines below.</p>\n\n<pre><code>if (navigator.geolocation)\n{\n    navigator.geolocation.getCurrentPosition(function(position) {       \n        var latitude = position.coords.latitude\n        var longitude = position.coords.longitude\n    })\n}\n\n$.getJSON(\"https://fcc-weather-api.glitch.me/api/current?lat=\" + latitude + \"&amp;lon=\" + longitude, function(json){\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "macos", "electron"], "answers": [{"comments": [{"owner": {"reputation": 399, "user_id": 8296716, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rKll5.gif?s=128&g=1", "display_name": "Cody", "link": "https://stackoverflow.com/users/8296716/cody"}, "edited": false, "score": 1, "creation_date": 1523718368, "post_id": 49794423, "comment_id": 86680937, "body": "Thanks so much! Yeah, it was an error with <b>electron-packager</b> after switching to <b>electron-builder</b> I was able to export it to mac with no issues :)"}], "tags": [], "owner": {"reputation": 363, "user_id": 6233893, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-Ndp1G7SxJ7s/AAAAAAAAAAI/AAAAAAAAA_8/zTdgE_NqlSw/photo.jpg?sz=128", "display_name": "Vaibhav Bhavsar", "link": "https://stackoverflow.com/users/6233893/vaibhav-bhavsar"}, "is_accepted": true, "score": 2, "last_activity_date": 1523529603, "creation_date": 1523529603, "answer_id": 49794423, "question_id": 49784259, "link": "https://stackoverflow.com/questions/49784259/exported-electron-app-doesnt-work-on-macos/49794423#49794423", "title": "Exported Electron APP doesn&#39;t work on MacOS", "body": "<p>If the source code is running properly with <code>npm start</code> on mac machine then it is an <strong>electron-packager</strong> issue. I would suggest you to try to make a build using <strong>electron-builder</strong>.</p>\n\n<p>Note: You will need a mac machine to make a .dmg build.</p>\n\n<p>See the configuration of <a href=\"https://github.com/zulip/zulip-electron/blob/f70432f4e3cdc86ae610bf3d77bfa2e784fabdf3/package.json#L39\" rel=\"nofollow noreferrer\">zulip/zulip-electron</a></p>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 5679471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91730c92de63a3420f16813e3fb5fbcd?s=128&d=identicon&r=PG&f=1", "display_name": "Keshav", "link": "https://stackoverflow.com/users/5679471/keshav"}, "is_accepted": false, "score": 1, "last_activity_date": 1579608310, "creation_date": 1579608310, "answer_id": 59840768, "question_id": 49784259, "link": "https://stackoverflow.com/questions/49784259/exported-electron-app-doesnt-work-on-macos/59840768#59840768", "title": "Exported Electron APP doesn&#39;t work on MacOS", "body": "<p>I was facing the crash issue repeatedly when launching an app on Mac . </p>\n\n<p>The reason for the crash turned out to be permissions issue on some of the Electron framework folders. \nThe folders had 744 permission and <code>root</code> as owner, because of which the logged in user was not able to execute the framework files . \nChanging the permission to 755 for the folder fixed the issue for me.</p>\n"}], "owner": {"reputation": 399, "user_id": 8296716, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rKll5.gif?s=128&g=1", "display_name": "Cody", "link": "https://stackoverflow.com/users/8296716/cody"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3025, "favorite_count": 1, "accepted_answer_id": 49794423, "answer_count": 2, "score": 1, "last_activity_date": 1579608310, "creation_date": 1523479873, "last_edit_date": 1523480812, "question_id": 49784259, "link": "https://stackoverflow.com/questions/49784259/exported-electron-app-doesnt-work-on-macos", "title": "Exported Electron APP doesn&#39;t work on MacOS", "body": "<p>I created my first Electron Application and I'm ready to publish it. I was able to export it for these two platforms with no errors:</p>\n\n<ul>\n<li>Linux Debian</li>\n<li>Windows</li>\n</ul>\n\n<p>But when I export it for MacOS, the <code>test.app</code> doesn't work.</p>\n\n<p>I'm using MacOS HighSierra and I tested everything I could think of, but couldn't get my app to work on MacOS.</p>\n\n<p>I'm not sure if I have to convert it to a <code>dmg</code> file before executing it, so I tested converting my app to <code>.dmg</code> using this guide:</p>\n\n<p><a href=\"https://kb.parallels.com/en/123895\" rel=\"nofollow noreferrer\">https://kb.parallels.com/en/123895</a></p>\n\n<p>But when I run the <code>dmg</code> and try to install the app, I get same errors again. I really tried everything but got no luck. I hope there is someone here that knows how to get it exported for MacOS.</p>\n\n<p>To export the app I used the <code>electron-packager</code> and this is my <code>package.json</code></p>\n\n<pre><code>   {\n  \"name\": \"test\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"app.js\",\n  \"scripts\": {\n    \"start\": \"electron .\",\n    \"package-mac\": \"electron-packager . --overwrite --platform=darwin --arch=x64 --icon=assets/icons/mac/icon.icns --prune=true --out=release-builds --app-copyright=\\\"test\",\n    \"package-win\": \"electron-packager . test --overwrite --asar=true --platform=win32 --arch=ia32 --icon=assets/icons/win/icon.ico --prune=true --out=release-builds --version-string.CompanyName=CE --version-string.FileDescription=CE --version-string.ProductName=\\\"test\\\" --app-copyright=\\\"test\\\"\",\n    \"package-linux\": \"electron-packager . test --overwrite --asar=true --platform=linux --arch=x64 --icon=assets/icons/png/icon.png --prune=true --out=release-builds --app-copyright=\\\"test\"\n  },\n  \"dependencies\": {},\n  \"devDependencies\": {\n    \"electron\": \"1.8.4\",\n    \"electron-packager\": \"^9.0.1\"\n  }\n}\n</code></pre>\n\n<p>And this is my Error Log when I try to run the <code>test.app</code> file on the Mac, that I had exported from Electron:</p>\n\n<pre><code>Process:               test [657]\nPath:                  /Volumes/*/test.app/Contents/MacOS/test\nIdentifier:            com.electron.test\nVersion:               1.1.1 (1.1.1)\nCode Type:             X86-64 (Native)\nParent Process:        ??? [1]\nResponsible:           test [657]\nUser ID:               501\n\nDate/Time:             2018-04-11 13:23:39.858 -0700\nOS Version:            Mac OS X 10.13 (17A291j)\nReport Version:        12\nAnonymous UUID:        0CF5BE48-84D7-4216-9DC6-58685E649DDD\n\n\nTime Awake Since Boot: 550 seconds\n\nSystem Integrity Protection: enabled\n\nCrashed Thread:        0\n\nException Type:        EXC_CRASH (SIGABRT)\nException Codes:       0x0000000000000000, 0x0000000000000000\nException Note:        EXC_CORPSE_NOTIFY\n\nTermination Reason:    DYLD, [0x1] Library missing\n\nApplication Specific Information:\ndyld: launch, loading dependent libraries\n\nDyld Error Message:\n  Library not loaded: @rpath/Electron Framework.framework/Electron Framework\n  Referenced from: /Volumes/*/test.app/Contents/MacOS/test\n  Reason: no suitable image found.  Did find:\n    /Volumes/VMware Shared Folders/dev/test.app/Contents/MacOS/../Frameworks/Electron Framework.framework/  Electron Framework: file too short\n    /Volumes/VMware Shared Folders/dev/app/release/test-darwin-x64/test.app/Contents/MacOS/../Frameworks/   Electron Framework.framework/Electron Framework: stat() failed with errno=1\n\nBinary Images:\n       0x103f99000 -        0x103f99ff7 +com.electron.test (1.1.1 - 1.1.1) &lt;    C11B8E11-EDD2-37B9-9AB5-5FE9E97FFFFB&gt; /Volumes/*/test.app/Contents/MacOS/test\n       0x10d97a000 -        0x10d9c237f  dyld (513.2) &lt;CEB3F2DA-93CF-3991-AD98-582FAF7023AB&gt; /usr/lib/dyld\n</code></pre>\n"}, {"tags": ["javascript", "angularjs", "karma-jasmine"], "answers": [{"comments": [{"owner": {"reputation": 1155, "user_id": 1222719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AOW8R.jpg?s=128&g=1", "display_name": "Ankit Prajapati", "link": "https://stackoverflow.com/users/1222719/ankit-prajapati"}, "edited": false, "score": 0, "creation_date": 1523480466, "post_id": 49784367, "comment_id": 86584202, "body": "I tried injecting the Service in various ways. And also tried creating SpyObj. But nothing is working. :("}, {"owner": {"reputation": 2600, "user_id": 2140747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CsujY.jpg?s=128&g=1", "display_name": "tehbeardedone", "link": "https://stackoverflow.com/users/2140747/tehbeardedone"}, "reply_to_user": {"reputation": 1155, "user_id": 1222719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AOW8R.jpg?s=128&g=1", "display_name": "Ankit Prajapati", "link": "https://stackoverflow.com/users/1222719/ankit-prajapati"}, "edited": false, "score": 0, "creation_date": 1523481501, "post_id": 49784367, "comment_id": 86584578, "body": "Ok. I updated my answer with a better example of injecting the mock service."}, {"owner": {"reputation": 1155, "user_id": 1222719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AOW8R.jpg?s=128&g=1", "display_name": "Ankit Prajapati", "link": "https://stackoverflow.com/users/1222719/ankit-prajapati"}, "edited": false, "score": 0, "creation_date": 1523482827, "post_id": 49784367, "comment_id": 86585087, "body": "If I paste the code &quot;$provide.service(&#39;textService&#39;).....&quot;, then the Unit Test is working no matter if you inject the textService in Controller or not.   Honestly speaking, I don&#39;t know what is happening, but the Test works.  Just one question: If my &quot;textService&quot; has 200 lines of code, do I need to include all that 200 lines of code in the Unit Test also?"}, {"owner": {"reputation": 8403, "user_id": 4019404, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Petr Averyanov", "link": "https://stackoverflow.com/users/4019404/petr-averyanov"}, "reply_to_user": {"reputation": 1155, "user_id": 1222719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AOW8R.jpg?s=128&g=1", "display_name": "Ankit Prajapati", "link": "https://stackoverflow.com/users/1222719/ankit-prajapati"}, "edited": false, "score": 1, "creation_date": 1523523931, "post_id": 49784367, "comment_id": 86599196, "body": "@AnkitPrajapati, this is up to you - you can test your controller or you can test your controller + your service. If service redirect call to $http - it ius worth to mock it. If service just stores some text constants - there is really no reason to mock it. Just add module with your service to test. beforeEach(angular.mock.module(&quot;app&quot;));"}], "tags": [], "owner": {"reputation": 2600, "user_id": 2140747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CsujY.jpg?s=128&g=1", "display_name": "tehbeardedone", "link": "https://stackoverflow.com/users/2140747/tehbeardedone"}, "is_accepted": true, "score": 1, "last_activity_date": 1523481897, "last_edit_date": 1523481897, "creation_date": 1523480294, "answer_id": 49784367, "question_id": 49784248, "link": "https://stackoverflow.com/questions/49784248/karma-jasmine-expected-undefined-to-be-defined-controller-service/49784367#49784367", "title": "Karma-Jasmine: Expected undefined to be defined + Controller + Service", "body": "<p>You are not injecting a mock <code>textService</code> into <code>LicensingController</code> in your <code>beforeEach</code>.  Add that and it should start working.</p>\n\n<pre><code>beforeEach(inject(function (_$controller_, _textService_) {    \n    LicensingController = _$controller_(\"LicensingController\", { textService: _textService_ });\n}));\n</code></pre>\n\n<p>You also need to remove the second <code>beforeEach</code> or at least provide a mock implementation of <code>textService</code> in there. </p>\n\n<pre><code>beforeEach(angular.mock.module(function($provide) { \n    $provide.service('textService', function () {\n        return {\n\n          //Object for Licensing Module\n          licensing: {\n            pageTitle: \"Page Title\",\n            controlLabels: {\n              accountName: \"Account Name\",\n              ticketNo: \"Ticket No\",\n              hostId: \"Host Id\",\n            }\n          }\n      };\n    });\n}));\n</code></pre>\n"}], "owner": {"reputation": 1155, "user_id": 1222719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AOW8R.jpg?s=128&g=1", "display_name": "Ankit Prajapati", "link": "https://stackoverflow.com/users/1222719/ankit-prajapati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1076, "favorite_count": 0, "accepted_answer_id": 49784367, "answer_count": 1, "score": 1, "last_activity_date": 1523481897, "creation_date": 1523479828, "question_id": 49784248, "link": "https://stackoverflow.com/questions/49784248/karma-jasmine-expected-undefined-to-be-defined-controller-service", "title": "Karma-Jasmine: Expected undefined to be defined + Controller + Service", "body": "<p>I am trying to run a Unit Test on a Controller, but I am facing the following Error:</p>\n\n<pre><code>Expected undefined to be defined.\n</code></pre>\n\n<p>I know what is undefined, but I don't know why it is undefined and how to fix that.\nLet me paste my code for better understanding.</p>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>angular\n    .module(\"app.licensing\", [])\n    .controller(\"LicensingController\", LicensingController)\n\n    LicensingController.$inject = [\"textService\"];\n\n    function LicensingController(textService) {\n        var vm = this;\n\n        vm.licForm = {\n            accountName: null,\n            ticketNo: null\n        };\n\n        vm.controlLabels = textService.licensing.controlLabels;\n    }\n</code></pre>\n\n<p><strong>textService</strong> Text Service basically just contain Object for Strings and returns an Object.</p>\n\n<pre><code>(function () {\n    \"use strict\";\n\n    angular\n        .module('app')\n        .factory(\"textService\", textService)\n\n    function textService() {\n        return {\n\n            //Object for Licensing Module\n            licensing: {\n                pageTitle: \"Page Title\",\n                controlLabels: {\n                    accountName: \"Account Name\",\n                    ticketNo: \"Ticket No\",\n                    hostId: \"Host Id\",\n                }\n            }\n        };\n    }\n})();\n</code></pre>\n\n<p><strong>Unit Test</strong></p>\n\n<pre><code>describe(\"-----&gt; LicensingController\", function () {\n\n    var LicensingController;\n    var textService;\n\n    beforeEach(angular.mock.module(\"app.licensing\"));\n\n    beforeEach(function () {\n\n        module(function ($provide) {\n            $provide.value(\"textService\", textService);\n        });\n    });\n\n    beforeEach(inject(function (_$controller_) {\n\n        LicensingController = _$controller_(\"LicensingController\", {\n        });\n    }));\n\n    describe(\"-----&gt; Licensing Form\", function () {\n\n        it(\"--&gt; License Controller should be Defined.\", function () {\n            expect(LicensingController).toBeDefined();\n        });\n\n        it(\"--&gt; 'licForm' Object must be Defined.\", function () {\n            expect(LicensingController.licForm).toBeDefined();\n        });\n\n        it(\"--&gt; 'controlLabels' Object must be Defined.\", function () {\n            expect(LicensingController.controlLabels).toBeDefined();\n        });\n    });\n});\n</code></pre>\n\n<ul>\n<li>In the Unit Test, the 3rd Test (controlLabels) is firing the error. Here, the controlLabels is undefined. Is it because the value is coming from textService?</li>\n<li>But why it is undefined and how to solve that.</li>\n<li>Any help will be greatly appreciated.</li>\n</ul>\n"}, {"tags": ["javascript", "jquery", "html", "popcornjs"], "comments": [{"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 1, "creation_date": 1523480279, "post_id": 49784247, "comment_id": 86584107, "body": "I&#39;m not sure where you are seeing that, but <code>value</code> would indeed be whatever <code>$(&#39;#value&#39;)</code> is because the returned value of <code>text(newValue)</code> is whatever elements it acted upon."}, {"owner": {"reputation": 1, "user_id": 9632779, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155586457522153/picture?type=large", "display_name": "Dan Sen", "link": "https://stackoverflow.com/users/9632779/dan-sen"}, "reply_to_user": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1523481532, "post_id": 49784247, "comment_id": 86584592, "body": "hmm, thanks. If I change value to $(&#39;#value&#39;), the footnote then displays [object Object]. And doing $(&#39;#value&#39;).get(0), it displayed undefined. So it seems like there must be a way to actually get the text."}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1523481585, "post_id": 49784247, "comment_id": 86584613, "body": "<code>$(&#39;#value&#39;).text()</code> will get the text.  <code>$(&#39;#value&#39;).text(newValue)</code> sets the text"}], "owner": {"reputation": 1, "user_id": 9632779, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155586457522153/picture?type=large", "display_name": "Dan Sen", "link": "https://stackoverflow.com/users/9632779/dan-sen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 694, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523481012, "creation_date": 1523479826, "last_edit_date": 1523481012, "question_id": 49784247, "link": "https://stackoverflow.com/questions/49784247/getting-object-htmlspanelement-instead-of-a-string", "title": "Getting [object HTMLSpanElement] instead of a string", "body": "<p>I am trying to display text in a popcornJS footnotes plugin on my main page by taking the text that was entered into a form on a bootstrap modal. I am getting [object HTMLSpanElement] where I am expecting the actual string to show up.</p>\n\n<p>This is the script I am running:</p>\n\n<pre><code>        &lt;script type=\"text/javascript\"&gt;\n        $('#save').on('click', function() {\n  var value = $('#value').text( $('#newGoal').val() );\n});\n    &lt;/script&gt;\n</code></pre>\n\n<p>This is my modal (the text displays correctly using the span in line 2):</p>\n\n<pre><code>    &lt;a class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#moneyModal\"&gt;\n    &lt;p&gt;Your Number: &lt;span id=\"value\"&gt;&lt;/span&gt;&lt;/p&gt;\n  &lt;span class=\"glyphicon glyphicon-money glyphicon-white\"&gt;&lt;/span&gt;Change&lt;/a&gt;\n&lt;div class=\"modal fade\" id=\"moneyModal\" role=\"dialog\"&gt;\n  &lt;div class=\"modal-dialog\"&gt;\n    &lt;form method=\"post\" action=\"change-goal\"&gt;\n      &lt;div class=\"modal-content\"&gt;\n        &lt;div class=\"modal-header\"&gt;\n          &lt;button type=\"button\" class=\"close\" data-dismiss=\"modal\"&gt;&amp;times;&lt;/button&gt;\n          &lt;h4 class=\"modal-title\"&gt;Change Goal&lt;/h4&gt;\n        &lt;/div&gt;\n        &lt;div class=\"modal-body\"&gt;\n          &lt;p&gt;Please enter a new number.&lt;/p&gt;\n        &lt;/div&gt;\n        &lt;div class=\"modal-body\"&gt;\n          &lt;input class=\"form-control\" name=\"newGoal\" id=\"newGoal\"&gt;\n        &lt;/div&gt;\n        &lt;div class=\"modal-footer\"&gt;\n          &lt;button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\"&gt;Close&lt;/button&gt;\n          &lt;button id=\"save\" type=\"button\" class=\"btn btn-primary\" data-dismiss=\"modal\"&gt;Save&lt;/button&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/form&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This is the popcornJS footnote plugin script (putting any normal strings work like the second footnote):</p>\n\n<pre><code>    &lt;script&gt;\n  document.addEventListener('DOMContentLoaded', function () {\n  var p = Popcorn( \"#video1\" )\n\n\n  .footnote({\n    start: 0,\n    end: 5,\n    text: value,\n    target: \"footnotediv\"\n  })\n  .footnote({\n    start: 1,\n    end: 45,\n    text: \"test\",\n    target: \"footnotediv\"\n  });\n}, false);\n</code></pre>\n\n<p></p>\n\n<p>It seems like there is some painfully simple thing I messed up, or this popcornJS plugin was not built to take anything except a string literal.</p>\n\n<p>Here's a <a href=\"https://i.stack.imgur.com/kCmCA.png\" rel=\"nofollow noreferrer\">screenshot</a> of what is happening. Notice the top left 'Your Number: 5', the '5' is text from the form and what should be displayed in the [object HTML...]</p>\n"}, {"tags": ["javascript", "html", "angular", "typescript", "angular-reactive-forms"], "comments": [{"owner": {"reputation": 13005, "user_id": 5594389, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/pe2h9.jpg?s=128&g=1", "display_name": "Tomasz Kula", "link": "https://stackoverflow.com/users/5594389/tomasz-kula"}, "edited": false, "score": 0, "creation_date": 1523484221, "post_id": 49784208, "comment_id": 86585554, "body": "I don&#39;t understand the downvotes. This is an interesting question. Unfortunately I am pretty sure that this kind of API does not exist."}], "answers": [{"tags": [], "owner": {"reputation": 768, "user_id": 8934481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cH0mZ.jpg?s=128&g=1", "display_name": "Nobady", "link": "https://stackoverflow.com/users/8934481/nobady"}, "is_accepted": false, "score": 1, "last_activity_date": 1523539880, "creation_date": 1523539880, "answer_id": 49797914, "question_id": 49784208, "link": "https://stackoverflow.com/questions/49784208/reactiveforms-valuechanges-in-dom-vs-component/49797914#49797914", "title": "ReactiveForms valueChanges in dom vs component", "body": "<p>with the control \".touched\"</p>\n\n<blockquote>\n  <p>EXAMPLE:\n  <strong>YourModelForm</strong>.get('<strong>YourField</strong>').touched</p>\n</blockquote>\n\n<p>the value becomes true when the user enters a value (first click on the field, enter the value, tab or click out of the field).</p>\n\n<p>I tried with a call rest and the value remains to false, try it if you can possibly it works for your situation. :-)</p>\n"}, {"tags": [], "owner": {"reputation": 5897, "user_id": 1359553, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4e487d9a7e2eff4a414f9e04368f9b9b?s=128&d=identicon&r=PG", "display_name": "jensengar", "link": "https://stackoverflow.com/users/1359553/jensengar"}, "is_accepted": true, "score": 1, "last_activity_date": 1523632432, "creation_date": 1523632432, "answer_id": 49820214, "question_id": 49784208, "link": "https://stackoverflow.com/questions/49784208/reactiveforms-valuechanges-in-dom-vs-component/49820214#49820214", "title": "ReactiveForms valueChanges in dom vs component", "body": "<p>Thanks to @Nobady, who inspired the idea. I found there's actually an option for <code>setValue</code> on the formControl called <code>emitEvent</code>. Using this, I can make it so if I update the value programmatically I can bypass the <code>valueChanges</code> getting called.</p>\n"}], "owner": {"reputation": 5897, "user_id": 1359553, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4e487d9a7e2eff4a414f9e04368f9b9b?s=128&d=identicon&r=PG", "display_name": "jensengar", "link": "https://stackoverflow.com/users/1359553/jensengar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 49820214, "answer_count": 2, "score": 2, "last_activity_date": 1523632432, "creation_date": 1523479631, "question_id": 49784208, "link": "https://stackoverflow.com/questions/49784208/reactiveforms-valuechanges-in-dom-vs-component", "title": "ReactiveForms valueChanges in dom vs component", "body": "<p>I'm wonder if there's a way to know the difference whether <code>valueChanges</code> on a <code>FormControl</code> was triggered from the dom or the component itself. My use case is I need to do <code>stuff()</code> when the user changes the value, but I don't want to do <code>stuff()</code> if the value changed as a result of something else. Any thoughts?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1523479807, "post_id": 49784198, "comment_id": 86583906, "body": "This is normal, and not weird.  Same thing will happen in C# etc,.  Some decimal number just cannot be expressed exactly using IEEE format."}], "answers": [{"tags": [], "owner": {"reputation": 1022, "user_id": 5863987, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z7wZz.png?s=128&g=1", "display_name": "NieDzejkob", "link": "https://stackoverflow.com/users/5863987/niedzejkob"}, "is_accepted": false, "score": 0, "last_activity_date": 1523479841, "creation_date": 1523479841, "answer_id": 49784251, "question_id": 49784198, "link": "https://stackoverflow.com/questions/49784198/weird-result-in-decimal-math-operation-in-javascript/49784251#49784251", "title": "Weird result in decimal math operation in Javascript", "body": "<p>Because of floating point inaccuracies, the result isn't exactly zero. JavaScript uses scientific notation to display numbers as small as this one. You might be interested in the <a href=\"https://www.w3schools.com/jsref/jsref_toprecision.asp\" rel=\"nofollow noreferrer\"><code>toPrecision()</code></a> method.</p>\n"}], "owner": {"reputation": 13, "user_id": 9580014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be334d0cce2ec77a4ed93152e01290a9?s=128&d=identicon&r=PG&f=1", "display_name": "ReekyBracelet", "link": "https://stackoverflow.com/users/9580014/reekybracelet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "closed_date": 1523479666, "answer_count": 1, "score": 0, "last_activity_date": 1523479841, "creation_date": 1523479559, "question_id": 49784198, "link": "https://stackoverflow.com/questions/49784198/weird-result-in-decimal-math-operation-in-javascript", "closed_reason": "Duplicate", "title": "Weird result in decimal math operation in Javascript", "body": "<p>Hi I am doing following operation in Javascript and I am getting weird results, can someone tell me what is going on. </p>\n\n<pre><code>5.62-6.18+0.56 = 4.440892098500626e-16\n</code></pre>\n"}, {"tags": ["javascript", "redux", "react-redux"], "answers": [{"comments": [{"owner": {"reputation": 1485, "user_id": 2272034, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d7f53af38b80673d3558db56c12102bf?s=128&d=identicon&r=PG&f=1", "display_name": "BluePython", "link": "https://stackoverflow.com/users/2272034/bluepython"}, "edited": false, "score": 0, "creation_date": 1523480383, "post_id": 49784231, "comment_id": 86584156, "body": "Thanks. So when an &quot;action&quot; happens then it triggers the entire thing.  what is the next &quot;object&quot; then doing when you give it the action? is the console message trying to display the action that is happening now ?"}, {"owner": {"reputation": 1485, "user_id": 2272034, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d7f53af38b80673d3558db56c12102bf?s=128&d=identicon&r=PG&f=1", "display_name": "BluePython", "link": "https://stackoverflow.com/users/2272034/bluepython"}, "edited": false, "score": 0, "creation_date": 1523480526, "post_id": 49784231, "comment_id": 86584230, "body": "is the reason to add the action =&gt; {..} function  is having the ability to do an asynchronous function? Since you could argue &quot;result = next (action)&quot; could be implemented in a function that accepts both the next &amp; action object. Not sure why the last function is necessary."}, {"owner": {"reputation": 156828, "user_id": 497418, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/248d820c4cc1b6eb7924c658c45443b5?s=128&d=identicon&r=PG", "display_name": "zzzzBov", "link": "https://stackoverflow.com/users/497418/zzzzbov"}, "reply_to_user": {"reputation": 1485, "user_id": 2272034, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d7f53af38b80673d3558db56c12102bf?s=128&d=identicon&r=PG&f=1", "display_name": "BluePython", "link": "https://stackoverflow.com/users/2272034/bluepython"}, "edited": false, "score": 0, "creation_date": 1523482559, "post_id": 49784231, "comment_id": 86584977, "body": "&quot;what is the next &#39;object&#39; then doing when you give it the action?&quot; <code>next</code> is a function. I don&#39;t know what it does. Feel free to look it up in the <code>applyMiddleware</code> API."}, {"owner": {"reputation": 156828, "user_id": 497418, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/248d820c4cc1b6eb7924c658c45443b5?s=128&d=identicon&r=PG", "display_name": "zzzzBov", "link": "https://stackoverflow.com/users/497418/zzzzbov"}, "reply_to_user": {"reputation": 1485, "user_id": 2272034, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d7f53af38b80673d3558db56c12102bf?s=128&d=identicon&r=PG&f=1", "display_name": "BluePython", "link": "https://stackoverflow.com/users/2272034/bluepython"}, "edited": false, "score": 0, "creation_date": 1523482762, "post_id": 49784231, "comment_id": 86585051, "body": "&quot;is the reason to add the action =&gt; {..} function is having the ability to do an asynchronous function?&quot; I don&#39;t exactly understand what you&#39;re trying to ask here. I think what you&#39;re not understanding is that the <code>applyMiddleware</code> function requires a parameter that behaves in a certain way. The reason for the behavior is entirely on the <code>applyMiddleware</code> function, so my recommendation is that you go review the source if you want to understand how it works."}], "tags": [], "owner": {"reputation": 156828, "user_id": 497418, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/248d820c4cc1b6eb7924c658c45443b5?s=128&d=identicon&r=PG", "display_name": "zzzzBov", "link": "https://stackoverflow.com/users/497418/zzzzbov"}, "is_accepted": true, "score": 2, "last_activity_date": 1523479759, "creation_date": 1523479759, "answer_id": 49784231, "question_id": 49784167, "link": "https://stackoverflow.com/questions/49784167/redux-middleware-infinite-loop/49784231#49784231", "title": "Redux Middleware Infinite loop?", "body": "<p><code>next</code> is not the name of one of <em>your</em> functions, it's the parameter name.</p>\n\n<p>Calling <code>next</code> doesn't call the <code>action =&gt; {...}</code> function.</p>\n\n<p>There isn't any recursion here.</p>\n\n<p>Rewriting the code may clarify things for you:</p>\n\n<pre><code>function consoleMessages(store) {\n  return function (next) {\n    return function (action) {\n      ...\n      let result = next(action)\n      ...\n    }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1485, "user_id": 2272034, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d7f53af38b80673d3558db56c12102bf?s=128&d=identicon&r=PG&f=1", "display_name": "BluePython", "link": "https://stackoverflow.com/users/2272034/bluepython"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 380, "favorite_count": 0, "accepted_answer_id": 49784231, "answer_count": 1, "score": 0, "last_activity_date": 1523479759, "creation_date": 1523479364, "last_edit_date": 1523479688, "question_id": 49784167, "link": "https://stackoverflow.com/questions/49784167/redux-middleware-infinite-loop", "title": "Redux Middleware Infinite loop?", "body": "<p>On the snippet of code below I am having a hard time understanding how <code>result = next(action)</code> doesn't end up being an infinite loop. Since the \"last function\" <code>action =&gt;</code> takes parameter <code>action</code> and calculates the <code>result</code> value based on the function that takes the <code>next</code> argument (<code>next =&gt; action =&gt;</code>) that then call the function that takes the <code>action</code> parameter (<code>next =&gt; action =&gt;</code>) AGAIN.</p>\n\n<p>Essentially the recursiveness of this code is hard to understand.</p>\n\n<pre><code>import C from '../constants'\nimport appReducer from './reducers'\nimport { createStore, applyMiddleware } from 'redux'\n\nconst consoleMessages = store =&gt; next =&gt; action =&gt; {\n\n    let result\n\n    console.groupCollapsed(`dispatching action =&gt; ${action.type}`)\n    console.log('ski days', store.getState().allSkiDays.length)\n    result = next(action)\n\n    let { allSkiDays, goal, errors, resortNames } = store.getState()\n\n    console.log(`\n\n        ski days: ${allSkiDays.length}\n        goal: ${goal}\n        fetching: ${resortNames.fetching}\n        suggestions: ${resortNames.suggestions}\n        errors: ${errors.length}\n\n    `)\n\n    console.groupEnd()\n\n    return result\n\n}\n\nexport default (initialState={}) =&gt; {\n    return applyMiddleware(consoleMessages)(createStore)(appReducer, initialState)\n</code></pre>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"tags": [], "owner": {"reputation": 3699, "user_id": 375399, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2ee1c857b767375e1fc848279f64584b?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/375399/nick"}, "is_accepted": true, "score": 11, "last_activity_date": 1523480760, "last_edit_date": 1523480760, "creation_date": 1523479638, "answer_id": 49784210, "question_id": 49784166, "link": "https://stackoverflow.com/questions/49784166/using-switch-statement-for-react-rendering/49784210#49784210", "title": "using switch statement for react rendering", "body": "<p><code>{}</code> is for a single statement. A cleaner way would be <code>switch</code>ing before the return statement:</p>\n\n<pre><code>render() {\n    let component = null;\n    switch(this.state.shownGroup) {\n      case 1:\n        component = &lt;DiscoveryGroup /&gt;;\n        break;\n      case 2:\n        component = &lt;FinancialGroup /&gt;;\n        break;\n      default:\n        component = &lt;SalesStuffGroup /&gt;;\n    }\n\n    return (\n        &lt;React.Fragment&gt;\n            &lt;div id=\"call_notes_app\" className=\"row\"&gt;\n                &lt;NavTree onNavChange={this.changeActiveGroup} /&gt;\n                {component}\n            &lt;/div&gt;\n        &lt;/React.Fragment&gt;\n    );\n}\n</code></pre>\n\n<p>If you eventually have many dynamic components, splitting things out to seperate methods cleans things up even more:</p>\n\n<pre><code>renderGroup(group) {\n    switch (group) {\n      case 1:\n        return &lt;DiscoveryGroup /&gt;;\n      case 2:\n        return &lt;FinancialGroup /&gt;;\n      default:\n        return &lt;SalesStuffGroup /&gt;;\n    }\n}\n\nrender() {\n    return (\n        &lt;React.Fragment&gt;\n            &lt;div id=\"call_notes_app\" className=\"row\"&gt;\n                &lt;NavTree onNavChange={this.changeActiveGroup} /&gt;\n                {this.renderGroup(this.state.shownGroup)}\n            &lt;/div&gt;\n        &lt;/React.Fragment&gt;\n    );\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3421, "user_id": 2805519, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a3bbbba9019a78dd811890d9a92f682f?s=128&d=identicon&r=PG", "display_name": "Serge Seredenko", "link": "https://stackoverflow.com/users/2805519/serge-seredenko"}, "edited": false, "score": 1, "creation_date": 1523481150, "post_id": 49784386, "comment_id": 86584463, "body": "The second method will run constructors of all the components but first, which is not cool. The first approach will create a new function on every render, which is cooler, but still unnecessary."}, {"owner": {"reputation": 1175, "user_id": 3341863, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100000106811779/picture?type=large", "display_name": "Mantas", "link": "https://stackoverflow.com/users/3341863/mantas"}, "edited": false, "score": 0, "creation_date": 1538346536, "post_id": 49784386, "comment_id": 92100353, "body": "Don&#39;t need breaks after return statement."}], "tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 1, "last_activity_date": 1523480404, "creation_date": 1523480404, "answer_id": 49784386, "question_id": 49784166, "link": "https://stackoverflow.com/questions/49784166/using-switch-statement-for-react-rendering/49784386#49784386", "title": "using switch statement for react rendering", "body": "<p>React requires expressions in the <code>{}</code> block, therefore you need to wrap the switch statement into an IIFE:</p>\n\n<pre><code> {(() =&gt; {\n   switch(this.state.shownGroup) {\n     case 1:\n         return &lt;DiscoveryGroup/&gt;\n         break;\n     case 2:\n         return &lt;FinancialGroup /&gt;\n         break;\n     default:\n         return &lt;SalesStuffGroup /&gt;\n   }\n })()}\n</code></pre>\n\n<p>But i personally would actually prefer an Immeadiately Accessed Array Literal (IAAL):</p>\n\n<pre><code> {[,&lt;DiscoveryGroup/&gt;, &lt;FinancialGroup /&gt;][this.state.showGroup] || &lt;SalesStuffGroup /&gt;}\n</code></pre>\n"}], "owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14405, "favorite_count": 0, "accepted_answer_id": 49784210, "answer_count": 2, "score": 3, "last_activity_date": 1523480760, "creation_date": 1523479359, "question_id": 49784166, "link": "https://stackoverflow.com/questions/49784166/using-switch-statement-for-react-rendering", "title": "using switch statement for react rendering", "body": "<p>I'm currently doing this to conditionally render certain Components:</p>\n\n<pre><code>render() {\n    return (\n        &lt;React.Fragment&gt;\n            &lt;div id=\"call_notes_app\" className=\"row\"&gt;\n                &lt;NavTree onNavChange={this.changeActiveGroup} /&gt;\n                {this.state.shownGroup == 1 &amp;&amp; &lt;DiscoveryGroup/&gt;}\n                {this.state.shownGroup == 2 &amp;&amp; &lt;FinancialGroup/&gt;}\n                {this.state.shownGroup == 3 &amp;&amp; &lt;SalesStuffGroup/&gt;}\n            &lt;/div&gt;\n        &lt;/React.Fragment&gt;\n    );\n}\n</code></pre>\n\n<p>When I try to use a <code>switch</code> statement, it doesn't work (I get ERROR ABORT in the console):</p>\n\n<pre><code>render() {\n    return (\n        &lt;React.Fragment&gt;\n            &lt;div id=\"call_notes_app\" className=\"row\"&gt;\n                &lt;NavTree onNavChange={this.changeActiveGroup} /&gt;\n\n                {\n                    switch(this.state.shownGroup) {\n                        case 1:\n                            &lt;DiscoveryGroup/&gt;\n                            break;\n                        case 2:\n                            &lt;FinancialGroup /&gt;\n                            break;\n                        default:\n                            &lt;SalesStuffGroup /&gt;\n                    }\n                }\n            &lt;/div&gt;\n        &lt;/React.Fragment&gt;\n    );\n}\n</code></pre>\n\n<p>Is there a way to do this using <code>switch</code>?</p>\n"}, {"tags": ["javascript", "html", "css"], "answers": [{"tags": [], "owner": {"reputation": 786, "user_id": 8037731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3nKbw.png?s=128&g=1", "display_name": "Redwolf Programs", "link": "https://stackoverflow.com/users/8037731/redwolf-programs"}, "is_accepted": true, "score": 1, "last_activity_date": 1523539381, "last_edit_date": 1523539381, "creation_date": 1523504793, "answer_id": 49787679, "question_id": 49784154, "link": "https://stackoverflow.com/questions/49784154/how-do-i-add-a-javascript-event-handler-so-that-when-the-user-moves-the-mouse-cu/49787679#49787679", "title": "How do I add a JavaScript event handler so that when the user moves the mouse cursor onto the content element a timeout timer starts?", "body": "<p>First:\nUse <code>&lt;div onmouseenter='setTimeout(doStuff, 3000)'&gt;</code> for a three second delay when the cursor enters the div</p>\n\n<p>In JS:\nAdd a function, <code>doStuff</code>, which has the following code:</p>\n\n<pre><code>document.getElementById('payWall').style.opacity = '1';\ndocument.getElementById('subscribe').onclick = function(){\n    alert(\"Subscribing now\");\n    vanishPayWall();\n}\n</code></pre>\n\n<p>One problem is that the <code>payWall</code> would just keep moving down the page. If you wanted it to disappear, you'd want to put <code>overflow-y: hidden</code> on the payWall, and shorten the paywall by 2px every time as well as setting the upper margin to 2px higher. Maybe something like</p>\n\n<pre><code>function vanishPayWall() {\n    var key = window.setInterval(function(){\n        var pw = document.getElementById('payWall');\n        pw.style.height = String(Number(pw.style.height.slice(-2)) - 2) + 'px';\n        pw.style.marginTop = String(Number(pw.style.height.slice(-2)) + 2) + 'px';\n    }, 25)\n    setTimeout(function(){\n        clearInterval(key)\n    }, Number(pw.style.height.slice(-2)) * 12.5)\n}\n</code></pre>\n\n<p>Not absolutely sure this will work, but it should help out a bit.</p>\n"}], "owner": {"reputation": 65, "user_id": 9627705, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-duEOc0wEUNg/AAAAAAAAAAI/AAAAAAAAAH4/Ji-CS4SYZVo/photo.jpg?sz=128", "display_name": "Jake Blazer", "link": "https://stackoverflow.com/users/9627705/jake-blazer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 49787679, "answer_count": 1, "score": 1, "last_activity_date": 1541388556, "creation_date": 1523479304, "last_edit_date": 1523483629, "question_id": 49784154, "link": "https://stackoverflow.com/questions/49784154/how-do-i-add-a-javascript-event-handler-so-that-when-the-user-moves-the-mouse-cu", "title": "How do I add a JavaScript event handler so that when the user moves the mouse cursor onto the content element a timeout timer starts?", "body": "<p>Here is what I am trying to do,\nI want to add a JavaScript event handler so that when the user moves the mouse cursor onto the content element, a timeout timer is started that will set the opacity of the payWall element to 1.0 \u2013 three second later. </p>\n\n<p>Then I want to dd another JavaScript event handler so that when the user clicks the subscribe button, an alert box appears with the message \u201cSubscribing now.\u201d \nWhen the alert is OK-ed, the payWall slides down the page and out of sight. I think I will need to set an interval timer so that the payWall moves down like 2 pixels every 30 milliseconds. </p>\n\n<p>I am not sure how to do it, I tried my best, but if someone can please help me, I would really appreciate it. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function init()\r\n{\r\n\t\r\n    document.getElementById(\"subscribe\").onclick = function()\r\n\t{\r\n\r\n\t}   \r\n}\r\n\r\nwindow.onload=init;</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>* {\r\n    margin: 0;\r\n\tbox-sizing: border-box;\r\n}\r\n\r\nbody {\r\n    font: 1em Verdana, sans-serif;\r\n    background-color: antiquewhite;\r\n}\r\nh2, h4 {\r\n    text-align: center;\r\n}\r\n\r\n#header {\r\n    border-bottom: 2px solid black;\r\n    font-size: 2.5em;\r\n    padding: 0.5em 0;\r\n    height: 100px;\r\n}\r\n#footer {\r\n    border-top: 2px solid black;\r\n    padding: 1em 0;\r\n}\r\n#header, #footer {\r\n    text-align: center;\r\n    background-color: #CCC;\r\n}\r\n#leftnav, #rightnav {\r\n    position: absolute;\r\n    width: 20%;\r\n    padding-top: 3em;\r\n}\r\n\r\n#rightnav{ \r\n    left: 80%;\r\n}\r\n#wrapper {\r\n    background-color: dodgerblue;\r\n    overflow: hidden;\r\n}\r\n#content div {\r\n    border: 1px solid black;\r\n    border-radius: 10px;\r\n    padding: 0.5em;\r\n    margin-bottom: 10px;\r\n    background-color: #ccc;\r\n}\r\n#content div:last-child {\r\n    margin-bottom: 0px;\r\n}\r\n    \r\n#content div:hover {\r\n    border-color: dodgerblue;\r\n    background-color: white;\r\n}\r\n    \r\n#content {\r\n    padding: 0.5em;\r\n    margin: 0 20%;\r\n\tborder-left: 2px solid black;\r\n    border-right: 2px solid black;\r\n    background-color: white;\r\n}\r\n\r\n/* ---------------------------------------------------------*/\r\n#payWall {\r\n\r\n    background-color : darkseagreen;\r\n    font-size: 2em;\r\n    opacity: 0.5;\r\n}\r\n </code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;body&gt;\r\n&lt;div id=\"header\"&gt;\r\n    The Header\r\n&lt;/div&gt;\r\n\r\n&lt;div id=\"wrapper\"&gt; &lt;!-- Can be used to apply bg colour --&gt;\r\n\r\n&lt;div id=\"leftnav\"&gt;\r\n    &lt;h4&gt; Left&lt;/h4&gt;\r\n&lt;/div&gt;\r\n&lt;div id=\"rightnav\"&gt;\r\n    &lt;h4&gt; Right&lt;/h4&gt;\r\n&lt;/div&gt; \r\n    \r\n&lt;div id=\"content\"&gt;\r\n    &lt;div&gt;\r\n        &lt;h2&gt; Article 1 &lt;/h2&gt;\r\n        &lt;p&gt;\r\n            Lorem ipsum dolor sit amet, consectetur adipiscing elit.\r\n            Suspendisse ultricies condimentum velit vel scelerisque.\r\n        &lt;/p&gt;\r\n    &lt;/div&gt;\r\n    &lt;div&gt;\r\n        &lt;h2&gt; Article 2 &lt;/h2&gt;\r\n        &lt;p&gt;\r\n            Mauris sagittis aliquam odio vitae pulvinar.\r\n            Suspendisse id dolor nibh, sed consectetur sem.\r\n            Phasellus lacinia laoreet sem, ac ultrices libero lobortis quis.\r\n            Morbi accumsan tempus neque, sed varius lectus molestie imperdiet.\r\n            Vivamus porttitor facilisis nunc, sed feugiat quam adipiscing ac.\r\n        &lt;/p&gt;\r\n    &lt;/div&gt;\r\n    &lt;div&gt;\r\n        &lt;h2&gt; Article 3 &lt;/h2&gt;\r\n        &lt;p&gt;\r\n            Proin ultrices lectus vel orci lacinia a iaculis nibh hendrerit.\r\n            Mauris sagittis aliquam odio vitae pulvinar.\r\n            Suspendisse id dolor nibh, sed consectetur sem.\r\n            Phasellus lacinia laoreet sem, ac ultrices libero lobortis quis.\r\n            Morbi accumsan tempus neque, sed varius lectus molestie imperdiet.\r\n            Vivamus porttitor facilisis nunc, sed feugiat quam adipiscing ac.\r\n        &lt;/p&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt; &lt;!-- end of content --&gt;\r\n    \r\n&lt;/div&gt; &lt;!-- end of wrapper --&gt;\r\n    \r\n&lt;div id=\"footer\"&gt;\r\n&lt;h3&gt;\r\n    The End\r\n&lt;/h3&gt;\r\n&lt;div id=\"payWall\"&gt;\r\n    For further access please subscribe here. &lt;br&gt;\r\n    &lt;button id=\"subscribe\"&gt; Subscribe&lt;/button&gt;\r\n&lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><a href=\"https://i.stack.imgur.com/SfiTi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SfiTi.png\" alt=\"Example!!\"></a></p>\n"}, {"tags": ["javascript", "arrays", "reactjs", "events", "event-handling"], "answers": [{"tags": [], "owner": {"reputation": 3699, "user_id": 375399, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2ee1c857b767375e1fc848279f64584b?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/375399/nick"}, "is_accepted": true, "score": 1, "last_activity_date": 1523480516, "last_edit_date": 1523480516, "creation_date": 1523480146, "answer_id": 49784325, "question_id": 49784145, "link": "https://stackoverflow.com/questions/49784145/react-event-handler-button-click-not-working-on-first-click/49784325#49784325", "title": "React Event Handler Button Click Not Working on First Click", "body": "<p>First, you aren't updating the state when you think you are. You also aren't waiting for the updated state, after you call <code>setState</code>. I'm not sure about all that you're trying to achieve in this method, but a start is:</p>\n\n<pre><code>handleSubmit() {\n  let splitUserInput = this.state.ingredients.split(',');\n  let newArray = this.state.ingredientsArr.concat(splitUserInput.map(a =&gt; a.trim()));\n\n  this.setState({ingredientsArr: newArray});\n\n  let recipeObject = {\n    recipeName: this.state.recipe,\n    ingredientList: newArray,\n    idNumber: Math.floor((Math.random() * 100000000) + 1)\n  }\n  this.props.addRecipe(recipeObject);\n}\n</code></pre>\n\n<p>That's \"cheating\" using what we know the state will be updated to. You can also use a callback for <code>setState</code> to be more unidirectional.</p>\n\n<pre><code>handleSubmit() {\n  let splitUserInput = this.state.ingredients.split(',');\n  let newArray = this.state.ingredientsArr.concat(splitUserInput.map(a =&gt; a.trim()));\n\n  this.setState({ingredientsArr: newArray}, () =&gt; {\n    let recipeObject = {\n      recipeName: this.state.recipe,\n      ingredientList: newArray,\n      idNumber: Math.floor((Math.random() * 100000000) + 1)\n    }\n    this.props.addRecipe(recipeObject);\n  });\n}\n</code></pre>\n\n<p>Same difference, IMO.</p>\n"}], "owner": {"reputation": 79, "user_id": 9604965, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Esteban Trevino", "link": "https://stackoverflow.com/users/9604965/esteban-trevino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3701, "favorite_count": 0, "accepted_answer_id": 49784325, "answer_count": 1, "score": 2, "last_activity_date": 1523480516, "creation_date": 1523479260, "last_edit_date": 1523479875, "question_id": 49784145, "link": "https://stackoverflow.com/questions/49784145/react-event-handler-button-click-not-working-on-first-click", "title": "React Event Handler Button Click Not Working on First Click", "body": "<p>I am making the Recipe Box project from Free Code Camp. I have an event handler that is supposed to send an object that contains an array property made up of ingredients up to a parent component which will display the items in the array. The problem is, when I first click the button that fires the handler, it sends an empty array even though there are ingredients entered by the user, and the second time I click it, it sends the ingredients from the previous button click, and it goes on like this every time the button is clicked. How can I fix this?</p>\n\n<p>Method in question: </p>\n\n<pre><code>  handleSubmit() {\n    let ingredientsArrayUpdater = (ingredient) =&gt; {\n      this.setState(prevState =&gt; ({\n        ingredientsArr: [\n          ...prevState.ingredientsArr,\n          ingredient\n        ]\n      }))\n    }\n\n    let splitUserInput = this.state.ingredients.split(',');\n\n    splitUserInput.map(ingredient =&gt; {\n      return(\n      ingredientsArrayUpdater(ingredient.trim())\n    )\n    });\n\n    let recipeObject = {\n      recipeName: this.state.recipe,\n      ingredientList: this.state.ingredientsArr,\n      idNumber: Math.floor((Math.random() * 100000000) + 1)\n    }\n    this.props.addRecipe(recipeObject);\n  }\n</code></pre>\n\n<p>Code for button that triggers event handler:</p>\n\n<pre><code> &lt;button onClick={e =&gt; {this.handleSubmit()}}\n               className=\"btn btn-outline-success btn-sm\"&gt;\n               Add Recipe\n              &lt;i className=\"fas fa-plus\"&gt;&lt;/i&gt;\n &lt;/button&gt;\n</code></pre>\n\n<p>Here is the github repository to see all the components. Index.js is the parent component.</p>\n\n<p><a href=\"https://github.com/EsTrevino/recipe-box-project/tree/master/src\" rel=\"nofollow noreferrer\">https://github.com/EsTrevino/recipe-box-project/tree/master/src</a></p>\n"}, {"tags": ["javascript", "mongodb", "mongoose"], "owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1523480226, "creation_date": 1523479253, "last_edit_date": 1523480226, "question_id": 49784142, "link": "https://stackoverflow.com/questions/49784142/returning-only-distinct-mongo-object-ids-in-mongo-view", "title": "Returning Only Distinct Mongo Object IDs in Mongo View", "body": "<p>I am trying to use mongo/mongoose to return a filtered list of values based on distinct mongo object \"_id\" values in my Mongo view. Right now the same client will return several times. What I want, when I don't pass a specific category, is a list of all clients, but for each one to show up just once per unique mongo object <code>_id</code>. This is what my code looks like:</p>\n\n<pre><code>if (category === '') {\n    db.collection('view_clients_datagrid').distinct(\"_id\");\n}\n</code></pre>\n\n<p>At present this doesn't seem to be having any effect. I don't get an error, but neither does the data filter as expected. Does this syntax look correct for returning distinct values from the generated mongo view titled <code>'view_clients_datagrid'</code>? Is this an operation you can run on a view?</p>\n\n<p>Each document from my generated mongo view looks like this:</p>\n\n<pre><code>    {\n        \"_id\": \"3dz26954121g3813be096f8d\",\n        \"initDate\": \"2010-01-13T00:00:00.000Z\",\n        \"agencyLink\": \"73h645365f0613be08092d\",\n        \"name\": {\n            \"first\": \"John\",\n            \"last\": \"Smith\"\n        },\n        \"birthDate\": \"1982-07-04T05:00:00.000Z\"\n    },\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "jasmine", "jasmine-matchers"], "answers": [{"comments": [{"owner": {"reputation": 713, "user_id": 7509513, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f88aecc7cacbd0182d1259a8e0feeeb3?s=128&d=identicon&r=PG&f=1", "display_name": "zelda", "link": "https://stackoverflow.com/users/7509513/zelda"}, "edited": false, "score": 0, "creation_date": 1523481315, "post_id": 49784419, "comment_id": 86584512, "body": "Sweet. But What if the <code>x</code> and <code>y</code> are not the properties of the object and they are <code>a</code> and <code>b</code>. How can I implement it generically which wouldn&#39;t rely on the hardcoded properties as implemented in this case?"}, {"owner": {"reputation": 371, "user_id": 8897209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7baccb23c8c6256404bd073d8bb5a301?s=128&d=identicon&r=PG&f=1", "display_name": "Murad Khan", "link": "https://stackoverflow.com/users/8897209/murad-khan"}, "reply_to_user": {"reputation": 713, "user_id": 7509513, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f88aecc7cacbd0182d1259a8e0feeeb3?s=128&d=identicon&r=PG&f=1", "display_name": "zelda", "link": "https://stackoverflow.com/users/7509513/zelda"}, "edited": false, "score": 0, "creation_date": 1523481535, "post_id": 49784419, "comment_id": 86584593, "body": "I just edited my answer to account for that situation. You can use Object.keys to get an array of the property names in the object, but this assumes there will be only two keys in objExpected."}, {"owner": {"reputation": 713, "user_id": 7509513, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f88aecc7cacbd0182d1259a8e0feeeb3?s=128&d=identicon&r=PG&f=1", "display_name": "zelda", "link": "https://stackoverflow.com/users/7509513/zelda"}, "edited": false, "score": 0, "creation_date": 1523484941, "post_id": 49784419, "comment_id": 86585771, "body": "Thanks a lot for the awesome answer :)"}], "tags": [], "owner": {"reputation": 371, "user_id": 8897209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7baccb23c8c6256404bd073d8bb5a301?s=128&d=identicon&r=PG&f=1", "display_name": "Murad Khan", "link": "https://stackoverflow.com/users/8897209/murad-khan"}, "is_accepted": true, "score": 4, "last_activity_date": 1523481485, "last_edit_date": 1523481485, "creation_date": 1523480536, "answer_id": 49784419, "question_id": 49784121, "link": "https://stackoverflow.com/questions/49784121/how-to-write-a-custom-matcher-for-jasmine-to-find-if-the-object-properties-lie-w/49784419#49784419", "title": "How to write a custom matcher for jasmine to find if the object properties lie within a range of object property values?", "body": "<p>It looks like you're on the right track with your <code>liesWithin</code> function, you just need to account for the situation where the <code>expected</code> object may not come back ordered how you expect. This code should cover those situations as well:</p>\n\n<pre><code>// Helper to reduce repeated code\nfunction isWithinRange(val, a, b) {\n    return (val &gt; a &amp;&amp; val &lt; b) || (val &gt; b &amp;&amp; val &lt; a);\n}\n\nfunction liesWithin&lt;T&gt;(objActual: T, objExpected: T[]): boolean {\n    if (objExpected) {\n        let props = Object.keys(objActual);\n        // Splitting X and Y checks into two for readability\n        let isInYRange = isWithinRange( objActual[ props[0] ], objExpected[0][ props[0] ], objExpected[1][ props[0] ] );\n        let isInXRange = isWithinRange( objActual[ props[1] ], objExpected[0][ props[1] ], objExpected[1][ props[1] ] );\n        return isInXRange &amp;&amp; isInYRange;\n    }\n    return;\n}\n</code></pre>\n"}], "owner": {"reputation": 713, "user_id": 7509513, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f88aecc7cacbd0182d1259a8e0feeeb3?s=128&d=identicon&r=PG&f=1", "display_name": "zelda", "link": "https://stackoverflow.com/users/7509513/zelda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 49784419, "answer_count": 1, "score": 4, "last_activity_date": 1523485003, "creation_date": 1523479156, "last_edit_date": 1523485003, "question_id": 49784121, "link": "https://stackoverflow.com/questions/49784121/how-to-write-a-custom-matcher-for-jasmine-to-find-if-the-object-properties-lie-w", "title": "How to write a custom matcher for jasmine to find if the object properties lie within a range of object property values?", "body": "<p>I am trying to implement a custom matcher for Jasmine where I would like to check if the given object property values lie within the range of the other two object property values.</p>\n\n<p>Here is what I got so far:</p>\n\n<pre><code>let matcher = {\n            toLieWithin: function (util: jasmine.MatchersUtil, customEqualityTesters: Array&lt;jasmine.CustomEqualityTester&gt;): jasmine.CustomMatcher {\n                return {\n                    compare: function (actual: any, expected: any): jasmine.CustomMatcherResult {\n                        let result: jasmine.CustomMatcherResult = {\n                            pass: false,\n                            message: ''\n                        };\n\n                        result.pass = liesWithin(actual, expected);\n\n                        return result;\n                    }\n                }\n            }\n        }; \n\nfunction liesWithin&lt;T&gt;(objActual: T, objExpected: T[]): boolean {\n        let output: boolean;\n        if(objExpected) {\n          output = objActual.x &gt; objExpected[0].x &amp;&amp; objActual.x &lt; objExpected[1].x &amp;&amp; objActual.y &gt; objExpected[0].y &amp;&amp; objExpected[1].y;\n        }\nreturn output;    \n}\n</code></pre>\n\n<p>Here, I am assuming, the actual has two properties <code>x</code> and <code>y</code>. And the expected is an array of two objects which also has two properties each <code>x</code> and <code>y</code>.</p>\n\n<pre><code>actual = {x: -5, y: -10}; expected = [{x: -10, y: -17},{x: 0, y: 0}];\n</code></pre>\n\n<p>Now, this scenario works I believe for the above given simple example. But when I am trying to implement it as a generic, how do I find what properties does the object have? And is my approach correct? Could anyone give me some ideas how can I implement such a method.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["javascript", "box2dweb"], "comments": [{"owner": {"reputation": 130, "user_id": 11299516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b79b2bb1e9263a848ede4b57934e1f38?s=128&d=identicon&r=PG&f=1", "display_name": "JustStarted", "link": "https://stackoverflow.com/users/11299516/juststarted"}, "edited": false, "score": 0, "creation_date": 1578758818, "post_id": 49784101, "comment_id": 105547124, "body": "check this link. <a href=\"https://discourse.threejs.org/t/strange-behaviour-on-adding-a-physics-library-box2d-js/12018\" rel=\"nofollow noreferrer\">discourse.threejs.org/t/&hellip;</a>. This may help others."}], "owner": {"reputation": 93, "user_id": 2911901, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/542590061/picture?type=large", "display_name": "Rhys Lloyd Thomas", "link": "https://stackoverflow.com/users/2911901/rhys-lloyd-thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 235, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1523482917, "creation_date": 1523479031, "last_edit_date": 1523482917, "question_id": 49784101, "link": "https://stackoverflow.com/questions/49784101/javascript-games-threejs-and-box2d-conflicts", "title": "javascript games ThreeJS and Box2D conflicts?", "body": "<p>I've been trying to experiment with box2d and threejs.</p>\n\n<p>So box2d has a series of js iterations, I've been successful at using them so far in projects as well as threejs in others, but I'm finding when including the latest instance of threejs and box2dweb, threejs seems to be mis-performing when just close to box2dweb but maybe I'm missing something really simple, like a better way to load them in together, or section them off from one another?</p>\n\n<p>I've tried a few iterations of the box2d js code now and I always seemed to run into the same problem with later versions of threejs and box2d together! - currently version 91 threejs.</p>\n\n<p>The problem I'm seeing is very weird.</p>\n\n<p>I'm really hoping someone from either the box2d camp or threejs camp can help me out with this one, please?</p>\n\n<p>Below is a very simple example where I don't initialize anything to do with box2d, but just by having the library included theres problems and you can test by removing that resource, then it behaves like it should.</p>\n\n<p>The below demo uses threejs 91 and box2dweb. It is supposed to every couple of seconds create a box or a simple sphere each with a random colour. Very simple demo, you will see the mesh type never changes and the colour seems to propagate across all mesh instances. However if you remove the box2dweb resource from the left tab then it functions absolutely fine, very odd :/\n<a href=\"https://i.stack.imgur.com/gcSc2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gcSc2.png\" alt=\"inclusion demo\"></a></p>\n\n<p><a href=\"http://jsfiddle.net/polygonprophecy/qg71rjbv/\" rel=\"nofollow noreferrer\"> jsfiddle link here</a></p>\n\n<pre><code>                class Main {\n                constructor(){\n                    this._container = null;\n                    this._scene = null;\n                    this._camera = null;\n                    this._renderer = null;\n\n                    console.log('| Main |');\n\n                    this.init();\n                }\n\n                init(){\n\n                    this.initScene();\n\n                    this.addBox(0, 0, 0);\n\n                    this.animate();\n                }\n\n                initScene() {\n                    this._container = document.getElementById('viewport');\n\n                    this._scene = new THREE.Scene();\n                    this._camera = new THREE.PerspectiveCamera(75, 600 / 400, 0.1, 1000);\n                    this._camera.position.z = 15;\n                    this._camera.position.y = -100;\n                    this._camera.lookAt(new THREE.Vector3());\n\n                    this._renderer = new THREE.WebGLRenderer({antialias:true});\n                    this._renderer.setPixelRatio( 1 );\n                    this._renderer.setSize( 600, 400 );\n                    this._renderer.setClearColor( 0x000000, 1 );\n                    this._container.appendChild( this._renderer.domElement );\n                }\n\n                addBox(x,y,z) {\n                    var boxGeom = new THREE.BoxGeometry(5,5,5);\n                    var sphereGeom = new THREE.SphereGeometry(2, 5, 5);\n                    var colour = parseInt(Math.random()*999999);\n                    var boxMat = new THREE.MeshBasicMaterial({color:colour});\n                    var rand = parseInt(Math.random()*2);\n                    var mesh = null;\n                    if(rand == 1) {\n                        mesh = new THREE.Mesh(boxGeom, boxMat);\n                    }\n                    else {\n                        mesh = new THREE.Mesh(sphereGeom, boxMat);\n                    }\n                    this._scene.add(mesh);\n                    mesh.position.x = x;\n                    mesh.position.y = y;\n                    mesh.position.z = z;\n                }\n\n                animate() {\n                    requestAnimationFrame( this.animate.bind(this) );\n                    this._renderer.render( this._scene, this._camera );\n                }\n            }\n\n            var main = new Main();\n\n            window.onload = main.init;\n\n            //add either a box or a sphere with a random colour every now and again\n            setInterval(function() {\n                main.addBox(((Math.random()*100)-50), ((Math.random()*100)-50), ((Math.random()*100)-50));\n            }.bind(this), 4000);\n</code></pre>\n\n<p>so the way im including the library locally is just a simple...</p>\n\n<pre><code>&lt;script src=\"js/vendor/box2dweb.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>So just by including the box2d library threejs starts to act weird, I have tested this across multiple computers too and multiple version of both box2d (mainly box2dweb) and threejs.</p>\n\n<p>So with later versions of threejs it seems to have some comflicts with box2d.</p>\n\n<p>I found from research that most of the box2d conversions to js are sort of marked as not safe for thread conflicts.</p>\n\n<p>Im not sure if this could be the cause.</p>\n\n<p>I also found examples where people have successfully used box2d with threejs but the threejs is always quite an old version, however you can see exactly the same problems occurring in my example, when I update them.</p>\n\n<p>So below is a demo I found and I wish I could credit the author, but here is a copy of the fiddle using threejs 49\n<a href=\"https://i.stack.imgur.com/XqD8F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XqD8F.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"http://jsfiddle.net/polygonprophecy/Lh6vtk7p/\" rel=\"nofollow noreferrer\">jsfiddle here</a></p>\n\n<p>.....and then below just swapping the resource of threejs from 49 to 91</p>\n\n<p><a href=\"https://i.stack.imgur.com/PU5cx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PU5cx.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"http://jsfiddle.net/polygonprophecy/ggtvduz5/\" rel=\"nofollow noreferrer\">jsfiddle here</a></p>\n\n<p>its quite an odd one and maybe the two libraries just don't play together anymore but would be great if someone can help or has a working example of them working together on latest threejs version.</p>\n\n<p>I have tried a lot of different box2d versions but always found the same problem, could this be a problem with conflicting libraries or unsafe threads?</p>\n\n<p>but also tried linking to the resource include in the fiddles provided.</p>\n\n<p>Any help really appreciated!!</p>\n"}, {"tags": ["javascript", "regex", "google-chrome", "firefox"], "comments": [{"owner": {"reputation": 1143, "user_id": 8759952, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7d8e784fa5cd3e5a2dfe13b405fc1de1?s=128&d=identicon&r=PG&f=1", "display_name": "Liora Haydont", "link": "https://stackoverflow.com/users/8759952/liora-haydont"}, "edited": false, "score": 0, "creation_date": 1523479056, "post_id": 49784100, "comment_id": 86583564, "body": "Can you show us some code?"}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 2, "creation_date": 1523479062, "post_id": 49784100, "comment_id": 86583570, "body": "Lookbehinds only work in Chrome 62+ right now. You&#39;re going to have to use a capture group instead <code>{{(\\w+)}}</code>"}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 1, "creation_date": 1523479550, "post_id": 49784100, "comment_id": 86583788, "body": "This question is already asked <a href=\"https://stackoverflow.com/questions/48618345/regexp-works-in-chrome-but-not-in-firefox-or-ie11\">RegExp works in Chrome but not in Firefox or IE11</a>"}, {"owner": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "edited": false, "score": 0, "creation_date": 1523479937, "post_id": 49784100, "comment_id": 86583954, "body": "By the way, you can use a <a href=\"https://regexr.com/\" rel=\"nofollow noreferrer\">tool like this</a> to test your regular expressions. In this case it would have told you: <i>ERROR: The &quot;positive lookbehind&quot; feature is not supported in this flavor of RegEx.</i>"}], "answers": [{"tags": [], "owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "is_accepted": true, "score": 2, "last_activity_date": 1523479593, "creation_date": 1523479593, "answer_id": 49784204, "question_id": 49784100, "link": "https://stackoverflow.com/questions/49784100/regular-expression-doesnt-work-in-firefox/49784204#49784204", "title": "Regular Expression doesn&#39;t work in Firefox", "body": "<p>The reason your regex <code>(?&lt;=\\{\\{)[a-zA-Z0-9_]+(?=\\}\\})</code> doesn't work in Firefox is due to the use of a lookbehind <code>(?&lt;=\\{\\{)</code>. At the moment, the <a href=\"https://github.com/tc39/proposal-regexp-lookbehind\" rel=\"nofollow noreferrer\">ECMA TC39 proposal</a> that includes the RegExp Lookbehind Assertions has only been implemented in one major browser (Chrome 62+). Until it's implemented in another major web browser, it is not considered mandatory for all major browsers to support (as per my understanding, although I haven't been able to find definitive proof of this behaviour). It's currently Stage 4 (Enquiry Stage).</p>\n\n<p>A workaround for this? For your usage, you can simply use a capture group as the following shows:</p>\n\n<pre><code>{{(\\w+)}}\n</code></pre>\n"}], "owner": {"reputation": 591, "user_id": 4475632, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/100001404830215/picture?type=large", "display_name": "Przemys\u0142aw Zamorski", "link": "https://stackoverflow.com/users/4475632/przemys%c5%82aw-zamorski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2549, "favorite_count": 0, "closed_date": 1523479953, "accepted_answer_id": 49784204, "answer_count": 1, "score": -2, "last_activity_date": 1523479593, "creation_date": 1523479018, "last_edit_date": 1523479422, "question_id": 49784100, "link": "https://stackoverflow.com/questions/49784100/regular-expression-doesnt-work-in-firefox", "closed_reason": "Duplicate", "title": "Regular Expression doesn&#39;t work in Firefox", "body": "<p>A regular expression which works correctly in Chrome fails with this error message in Firefox: </p>\n\n<blockquote>\n  <p>SyntaxError: invalid regexp group</p>\n</blockquote>\n\n<p>The regexp looks like this: <code>/(?&lt;=\\{\\{)[a-zA-Z0-9_]+(?=\\}\\})/g</code></p>\n\n<p>I want to get all chars between {{ }}.</p>\n\n<p>Why doesn't this work in Firefox?</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 51399, "user_id": 1553888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01ac05cf8db6f338aef3c2f65e348f5d?s=128&d=identicon&r=PG", "display_name": "u_mulder", "link": "https://stackoverflow.com/users/1553888/u-mulder"}, "edited": false, "score": 0, "creation_date": 1523479122, "post_id": 49784084, "comment_id": 86583601, "body": "What do you mean by <code>random column</code>?"}, {"owner": {"reputation": 1143, "user_id": 8759952, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7d8e784fa5cd3e5a2dfe13b405fc1de1?s=128&d=identicon&r=PG&f=1", "display_name": "Liora Haydont", "link": "https://stackoverflow.com/users/8759952/liora-haydont"}, "edited": false, "score": 0, "creation_date": 1523479144, "post_id": 49784084, "comment_id": 86583609, "body": "what do you mean by <code>select</code> ?"}, {"owner": {"reputation": 268, "user_id": 8869152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d97ad16636d392b7feabd14d84efe4ec?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Raps", "link": "https://stackoverflow.com/users/8869152/dan-raps"}, "edited": false, "score": 0, "creation_date": 1523479236, "post_id": 49784084, "comment_id": 86583649, "body": "I would advise adding a unique ID to each location on the board. Will make it much easier for you to target specific locations later on."}, {"owner": {"reputation": 377, "user_id": 8863711, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6fsOa.jpg?s=128&g=1", "display_name": "Jaxon Crosmas", "link": "https://stackoverflow.com/users/8863711/jaxon-crosmas"}, "edited": false, "score": 0, "creation_date": 1523479383, "post_id": 49784084, "comment_id": 86583723, "body": "How about using <code>Math.random()</code> to generate a random number between 1 and the total number of columns?"}], "answers": [{"tags": [], "owner": {"reputation": 613, "user_id": 7469492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jhRWQ.jpg?s=128&g=1", "display_name": "Anouar khaldi", "link": "https://stackoverflow.com/users/7469492/anouar-khaldi"}, "is_accepted": false, "score": 0, "last_activity_date": 1523480133, "last_edit_date": 1523480133, "creation_date": 1523479728, "answer_id": 49784227, "question_id": 49784084, "link": "https://stackoverflow.com/questions/49784084/how-can-i-use-jquery-to-randomly-select-one-column-from-each-row/49784227#49784227", "title": "How can I use jQuery to randomly select one column from each row?", "body": "<p>you can use <code>foreach</code> and <code>random</code> ,\n<strong>try</strong> : </p>\n\n<pre><code>    var j = 0;\n    $(\"row\").each(function(){\n        random_col = Math.floor(Math.random() * 10);\n        var i = 0;\n        $(\"li\").each(function(){\n            if(random_col == i)\n             /* $(this) =  your random col */\n                alert(\"the random col is a number \"+i+\" for col number \"+j);\n          i++;\n        });\n        j++;\n    });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 268, "user_id": 8869152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d97ad16636d392b7feabd14d84efe4ec?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Raps", "link": "https://stackoverflow.com/users/8869152/dan-raps"}, "is_accepted": false, "score": 0, "last_activity_date": 1523479913, "creation_date": 1523479913, "answer_id": 49784268, "question_id": 49784084, "link": "https://stackoverflow.com/questions/49784084/how-can-i-use-jquery-to-randomly-select-one-column-from-each-row/49784268#49784268", "title": "How can I use jQuery to randomly select one column from each row?", "body": "<p>I see that you're asking for a random column for each row, but if you'd like just a random position on the game board, you could do something like this:</p>\n\n<pre><code>$(document).ready(function(){\n var canva = $(\"#board\");\n var gameHolder = \"&lt;div class='gHolder'&gt;\";\n\n var rows = 7;\n var cols = 10;\n\n    function boardSetUp(){\n                 for(var i = 0; i &lt; rows; i++){\n\n                    var row = \"&lt;div class='row'&gt;\";\n\n                    for(var j = 0; j &lt; cols; j++){\n                        var col = \"&lt;li class='col' id='\" + i + \"-\" + j + \"'&gt;\";\n                        col += \"&lt;/li&gt;\";\n                        row += col;\n                    }\n\n                    row += \"&lt;/div&gt;\";\n\n                    gameHolder += row;\n                 }\n\n                 gameHolder += \"&lt;/div&gt;\";\n\n                 canva.html(gameHolder);\n        }\n    boardSetUp();\n    function selectRandomLocation(){\n        var pos = $('#' + Math.floor(Math.random() * rows) + '-' + Math.floor(Math.random() * cols));\n        return pos;\n    }\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1256, "user_id": 6001936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f8ebed2bd83a65a3c26f7ffc734db05?s=128&d=identicon&r=PG&f=1", "display_name": "wayneOS", "link": "https://stackoverflow.com/users/6001936/wayneos"}, "is_accepted": true, "score": 0, "last_activity_date": 1523481257, "creation_date": 1523481257, "answer_id": 49784575, "question_id": 49784084, "link": "https://stackoverflow.com/questions/49784084/how-can-i-use-jquery-to-randomly-select-one-column-from-each-row/49784575#49784575", "title": "How can I use jQuery to randomly select one column from each row?", "body": "<p>You can use a comibnation of <a href=\"https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Math/floor\" rel=\"nofollow noreferrer\">Math.floor()</a> and <a href=\"https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Math/math.random\" rel=\"nofollow noreferrer\">Math.random()</a> to get an integer between 1 and the amount of columns (x) per row.</p>\n\n<p><code>Math.floor (Math.random () * x) + 1</code></p>\n\n<p>I simplified your given example and added a funtion to select one random column per row. For this example I dynamically add a class for each selected column.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready (function () {\r\n  var rows        = 7;\r\n  var cols        = 10;\r\n  var gameHolder  = '';\r\n\r\n  for (var i = 0; i &lt; rows; i++) {\r\n    gameHolder += '&lt;div class=\"row\"&gt;';\r\n\r\n    for(var j = 0; j &lt; cols; j++)\r\n       gameHolder += '&lt;div class=\"col\"&gt;&lt;/div&gt;';\r\n\r\n    gameHolder += '&lt;/div&gt;';\r\n  }\r\n\r\n  $(\"#board\").html(gameHolder);\r\n})\r\n\r\nfunction select_cols () {\r\n  var canvas = $(\"#board\");\r\n  \r\n  //reset all columns\r\n  $('.col').removeClass ('selected');\r\n  \r\n  //loop through every row\r\n  canvas.find ('.row').each (function (i) {\r\n     //count columns and select random one\r\n     var count    = $(this).find ('.col').size (); // $(this) is the current row\r\n     var selected = Math.floor (Math.random () * count) + 1;\r\n     \r\n     //get your selected column-element\r\n     var column = $(this).find ('.col:nth-child(' + selected + ')') // :nth-child(x) is a css-selector\r\n     \r\n     //do something with it. for example add a class\r\n     column.addClass ('selected');\r\n  });\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#board {\r\n  border: 1px solid #999;\r\n}\r\n\r\n.row {\r\n  display: flex;\r\n}\r\n\r\n.col {\r\n  flex-grow: 1;\r\n  height: 10px;\r\n  border: 1px solid #999;\r\n}\r\n\r\n.selected {\r\n background-color: #958;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div id=\"board\"&gt;&lt;/div&gt;\r\n&lt;br&gt;\r\n&lt;button onclick=\"select_cols ();\"&gt;select random columns&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 13, "user_id": 9632759, "user_type": "registered", "profile_image": "https://graph.facebook.com/156159928548777/picture?type=large", "display_name": "Princewill moto Fabi", "link": "https://stackoverflow.com/users/9632759/princewill-moto-fabi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 49784575, "answer_count": 3, "score": 1, "last_activity_date": 1523481257, "creation_date": 1523478958, "last_edit_date": 1523479030, "question_id": 49784084, "link": "https://stackoverflow.com/questions/49784084/how-can-i-use-jquery-to-randomly-select-one-column-from-each-row", "title": "How can I use jQuery to randomly select one column from each row?", "body": "<p>I have dynamically created rows and columns with jQuery. Can anyone help me on how to select a random column from each row? So far here is how my code looks like;</p>\n\n<pre><code>$(document).ready(function(){\n     var canva = $(\"#board\");\n     var gameHolder = \"&lt;div class='gHolder'&gt;\";\n\n     var rows = 7;\n     var cols = 10;\n\n        function boardSetUp(){\n                     for(var i = 0; i &lt; rows; i++){\n\n                        var row = \"&lt;div class='row'&gt;\";\n\n                        for(var j = 0; j &lt; cols; j++){\n                            var col = \"&lt;li class='col'&gt;\";\n                            col += \"&lt;/li&gt;\";\n                            row += col;\n                        }\n\n                        row += \"&lt;/div&gt;\";\n\n                        gameHolder += row;\n                     }\n\n                     gameHolder += \"&lt;/div&gt;\";\n\n                     canva.html(gameHolder);\n            }\n        boardSetUp();\n})\n</code></pre>\n"}, {"tags": ["javascript"], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 9632618, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "JGeorgeJ", "link": "https://stackoverflow.com/users/9632618/jgeorgej"}, "edited": false, "score": 0, "creation_date": 1523479109, "post_id": 49784087, "comment_id": 86583598, "body": "Thank very much. It works. I can accept answer in 8 minutes."}], "tags": [], "owner": {"reputation": 345, "user_id": 61824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9c168e6e69c085d5d0bf42561f7a782?s=128&d=identicon&r=PG", "display_name": "Naoric", "link": "https://stackoverflow.com/users/61824/naoric"}, "is_accepted": true, "score": 1, "last_activity_date": 1523479172, "last_edit_date": 1523479172, "creation_date": 1523478973, "answer_id": 49784087, "question_id": 49784041, "link": "https://stackoverflow.com/questions/49784041/insert-canvas-inside-div-with-js/49784087#49784087", "title": "Insert canvas inside div with js", "body": "<p><code>canvas</code> is an element and not a string. You should use the proper API to append it as a child:\n<code>firstblock.appendChild(canvas)</code></p>\n\n<pre><code>document.addEventListener('DOMContentLoaded', () =&gt; {\n  var canvas = document.createElement('canvas')\n\n  var container = document.querySelector('.ip_first_block')\n\n  container.appendChild(canvas)\n\n})\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 9632618, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "JGeorgeJ", "link": "https://stackoverflow.com/users/9632618/jgeorgej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1159, "favorite_count": 0, "accepted_answer_id": 49784087, "answer_count": 1, "score": 2, "last_activity_date": 1523479172, "creation_date": 1523478735, "question_id": 49784041, "link": "https://stackoverflow.com/questions/49784041/insert-canvas-inside-div-with-js", "title": "Insert canvas inside div with js", "body": "<p>I have this part of code</p>\n\n<pre><code>const canvas = document.createElement('canvas');\nconst context = canvas.getContext('2d');\nlet windowWidth = canvas.width = window.innerWidth;\nlet windowHeight = canvas.height = window.innerHeight;\ncanvas.id = 'canvas';\ndocument.body.insertBefore(canvas, document.body.firstChild);\n</code></pre>\n\n<p>problem is that i am unable to add it inside a div for example <code>&lt;div class=\"ip_first_block\"&gt;CANVAS SHOULD BE HERE&lt;/div&gt;</code>\nI am really on beginning of my js path so i am mostly putting togehter parts and editing them.</p>\n\n<p>This is the part a need to change but i cant find the right way</p>\n\n<pre><code>document.body.insertBefore(canvas, document.body.firstChild);\n</code></pre>\n\n<p>This is one of my tries...</p>\n\n<pre><code>var canvas = document.createElement('canvas');\nvar firstblock = document.getElementsById('ifb');\nvar context = canvas.getContext('2d');\nvar windowWidth = canvas.width = window.innerWidth;\nvar windowHeight = canvas.height = window.innerHeight;\ncanvas.id = 'canvas';\nfirstblock.innerHTML += canvas;\n</code></pre>\n"}, {"tags": ["javascript", "react-native"], "comments": [{"owner": {"reputation": 2911, "user_id": 8566007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L59jN.jpg?s=128&g=1", "display_name": "soutot", "link": "https://stackoverflow.com/users/8566007/soutot"}, "edited": false, "score": 0, "creation_date": 1523488544, "post_id": 49784029, "comment_id": 86586822, "body": "Let me check if I understood: you have 10 screens and a progress bar with 10 positions. When the user is on a specific screen, you want the corresponding position on the progress bar to display an image, the previous positions display another and the further positions a different one. Is that correct?"}, {"owner": {"reputation": 145, "user_id": 6278057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ada6421a7d401b26149808d0be502460?s=128&d=identicon&r=PG&f=1", "display_name": "schrdr", "link": "https://stackoverflow.com/users/6278057/schrdr"}, "reply_to_user": {"reputation": 2911, "user_id": 8566007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L59jN.jpg?s=128&g=1", "display_name": "soutot", "link": "https://stackoverflow.com/users/8566007/soutot"}, "edited": false, "score": 0, "creation_date": 1523551398, "post_id": 49784029, "comment_id": 86618384, "body": "@soutot yes, that is correct."}], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 6278057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ada6421a7d401b26149808d0be502460?s=128&d=identicon&r=PG&f=1", "display_name": "schrdr", "link": "https://stackoverflow.com/users/6278057/schrdr"}, "edited": false, "score": 0, "creation_date": 1526922398, "post_id": 49786062, "comment_id": 87920237, "body": "this got me pointed in the right direction and I was able to use this method in my project. Thanks for your help here!"}], "tags": [], "owner": {"reputation": 668, "user_id": 1991523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df4637431d31929ee57cd1a980627b22?s=128&d=identicon&r=PG", "display_name": "xuhaib", "link": "https://stackoverflow.com/users/1991523/xuhaib"}, "is_accepted": true, "score": 0, "last_activity_date": 1523492093, "last_edit_date": 1523492093, "creation_date": 1523491449, "answer_id": 49786062, "question_id": 49784029, "link": "https://stackoverflow.com/questions/49784029/how-to-use-a-for-loop-to-display-an-image-depending-on-a-position-in-an-index/49786062#49786062", "title": "How to use a for loop to display an image depending on a position in an index?", "body": "<p>In your class/component:</p>\n\n<pre><code>  state = {\n    indexNum: 4, // arbitrary value\n  }\n\n  displayStatus(item) {\n    if(item.id &gt; this.state.indexNum){ // Incomplete\n      return &lt;View style={styles.progressPoint}&gt;&lt;Text&gt;I&lt;/Text&gt;&lt;/View&gt;;\n    }\n    else if(item.id == this.state.indexNum){ // Active\n      return &lt;View style={styles.progressPoint}&gt;&lt;Text&gt;A&lt;/Text&gt;&lt;/View&gt;;\n    }\n    else if(item.id &lt; this.state.indexNum){ // Complete : you can use only 'else' here\n      return &lt;View style={styles.progressPoint}&gt;&lt;Text&gt;C&lt;/Text&gt;&lt;/View&gt;;\n    }\n\n  }\n</code></pre>\n\n<p>In <code>render()</code> of your class/component:</p>\n\n<pre><code>    // Positions/Pages - these will serve as basis for .map - you can add more than 'id'\n    const positions  = [{\"id\": 1},{\"id\": 2},{\"id\": 3},{\"id\": 4},{\"id\": 5},\n                       {\"id\": 6},{\"id\": 7},{\"id\": 8},{\"id\": 9},{\"id\": 10}];\n    return (\n       &lt;View style={styles.container}&gt;\n          {positions.map((item) =&gt; (\n             this.displayStatus(item)\n          ))}\n       &lt;/View&gt;\n    );\n</code></pre>\n\n<p>Here's an <a href=\"https://snack.expo.io/BkdA1m2iz\" rel=\"nofollow noreferrer\">Expo Snack</a> of the above (based on the scope of your question) to get you started. </p>\n\n<p>You can store the index number of the page in state and update this state at completion of each progress position. Note: if you are not using redux, you may need to pass/handle state (index number) on each page individually (depending on your navigation or components structure).  </p>\n"}], "owner": {"reputation": 145, "user_id": 6278057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ada6421a7d401b26149808d0be502460?s=128&d=identicon&r=PG&f=1", "display_name": "schrdr", "link": "https://stackoverflow.com/users/6278057/schrdr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 49786062, "answer_count": 1, "score": 0, "last_activity_date": 1523492093, "creation_date": 1523478702, "question_id": 49784029, "link": "https://stackoverflow.com/questions/49784029/how-to-use-a-for-loop-to-display-an-image-depending-on-a-position-in-an-index", "title": "How to use a for loop to display an image depending on a position in an index?", "body": "<p><em>This is inside a react-native project:</em></p>\n\n<p>I have a progress bar that has 10 positions, and each position as a possibility of three states - incomplete, active, complete. There is an image that corresponds to each of those states. I was thinking I could use a for loop that would look for the index number of the page, which I'll store in an object, and depending on the relationship between the position in the loop and and the index number, that would determine which image gets displayed. Something like this:</p>\n\n<pre><code>if the position in the loop &gt; index number, display the incomplete image\n\nif the position in the loop = index number, display the active image\n\nif the position in the loop &lt; index number, display the complete image\n</code></pre>\n\n<p>Beyond this, I'm not even sure on where to start.</p>\n"}, {"tags": ["javascript", "regex", "string", "if-statement"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9425681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37668f9a8c2ce7171edcc44b9f172f3b?s=128&d=identicon&r=PG&f=1", "display_name": "user9425681", "link": "https://stackoverflow.com/users/9425681/user9425681"}, "edited": false, "score": 0, "creation_date": 1523478965, "post_id": 49784043, "comment_id": 86583526, "body": "Thank you! Can you please explain why this is the case?"}], "tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 1, "last_activity_date": 1523479187, "last_edit_date": 1523479187, "creation_date": 1523478739, "answer_id": 49784043, "question_id": 49784025, "link": "https://stackoverflow.com/questions/49784025/i-need-to-take-an-inputted-string-take-the-non-numeric-characters-out-and-then/49784043#49784043", "title": "I need to take an inputted string, take the non-numeric characters out, and then if the string begins with a 1, remove the 1", "body": "<p>You need to use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/slice\" rel=\"nofollow noreferrer\"><code>String#slice</code></a> starting from index <code>1</code>, because you want to omit the first character at index <code>0</code>.</p>\n\n<pre><code>phoneNumber.slice(0)\n</code></pre>\n\n<p>returns a copy of the string, as an assignment of the variable, but</p>\n\n<pre><code>phoneNumber.slice(1)\n</code></pre>\n\n<p>returns the string from index 1 and all following characters.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function changeNumber(e) {\r\n    var phoneNumber = e.replace(/\\D/g, '');\r\n    return phoneNumber.startsWith(\"1\")\r\n        ? phoneNumber.slice(1)\r\n        : phoneNumber;\r\n}\r\n\r\nconsole.log(changeNumber(\"+1 (234)-567.8995\"));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 4291, "user_id": 5122581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lx09Q.png?s=128&g=1", "display_name": "Phillip", "link": "https://stackoverflow.com/users/5122581/phillip"}, "is_accepted": true, "score": 0, "last_activity_date": 1523478998, "creation_date": 1523478998, "answer_id": 49784096, "question_id": 49784025, "link": "https://stackoverflow.com/questions/49784025/i-need-to-take-an-inputted-string-take-the-non-numeric-characters-out-and-then/49784096#49784096", "title": "I need to take an inputted string, take the non-numeric characters out, and then if the string begins with a 1, remove the 1", "body": "<p>Made a more concise function without conditionals</p>\n\n<ul>\n<li><code>\\D</code> matches all <strong>non-digit</strong> characters.</li>\n<li><code>^1</code> matches 1 if it is the first character in the string.</li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function changeNumber(e) {\r\n  return e.replace(/\\D/g, '').replace(/^1/g, '');\r\n};\r\nconsole.log(changeNumber(\"+1 (234)-567.8995\"));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 3, "user_id": 9425681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37668f9a8c2ce7171edcc44b9f172f3b?s=128&d=identicon&r=PG&f=1", "display_name": "user9425681", "link": "https://stackoverflow.com/users/9425681/user9425681"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19, "favorite_count": 0, "accepted_answer_id": 49784096, "answer_count": 2, "score": 0, "last_activity_date": 1523479187, "creation_date": 1523478668, "question_id": 49784025, "link": "https://stackoverflow.com/questions/49784025/i-need-to-take-an-inputted-string-take-the-non-numeric-characters-out-and-then", "title": "I need to take an inputted string, take the non-numeric characters out, and then if the string begins with a 1, remove the 1", "body": "<pre><code>function changeNumber(e) {\n  var phoneNumber = e.replace(/\\D/g, '');\n  if (phoneNumber.startsWith(\"1\")) {\n    var finalNumber = phoneNumber.slice(0);\n    return finalNumber;\n  } else {\n    return phoneNumber;\n  };\n};\nconsole.log(changeNumber(\"+1 (234)-567.8995\"));\n</code></pre>\n\n<p>Desired result should be: 2345678995 but I am getting 12345678995. It's like it's not running through the if statement.</p>\n"}, {"tags": ["javascript", "google-apps-script", "google-sheets"], "comments": [{"owner": {"reputation": 8010, "user_id": 1329498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bmA6I.png?s=128&g=1", "display_name": "Diego", "link": "https://stackoverflow.com/users/1329498/diego"}, "edited": false, "score": 0, "creation_date": 1523505927, "post_id": 49783971, "comment_id": 86590628, "body": "You should be using an &quot;on form submit&quot; trigger and use the <a href=\"https://developers.google.com/apps-script/guides/triggers/events\" rel=\"nofollow noreferrer\">event object</a>. See <a href=\"https://stackoverflow.com/questions/49773518/send-email-based-on-the-sum-of-cells-from-a-form-submission-in-google-sheets/49774861#49774861\">this answer</a> as an example."}, {"owner": {"reputation": 25, "user_id": 9058870, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kvefYq9TcSk/AAAAAAAAAAI/AAAAAAAAAAs/cgQU2jprar0/photo.jpg?sz=128", "display_name": "Juan Pablo Marroquin Ocampo", "link": "https://stackoverflow.com/users/9058870/juan-pablo-marroquin-ocampo"}, "reply_to_user": {"reputation": 8010, "user_id": 1329498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bmA6I.png?s=128&g=1", "display_name": "Diego", "link": "https://stackoverflow.com/users/1329498/diego"}, "edited": false, "score": 0, "creation_date": 1523548512, "post_id": 49783971, "comment_id": 86616721, "body": "As i stated, I already used &quot;On form submit&quot; and nothing happened (I don&#39;t know if it is because the sheet is not the form recipient one, but still is on the same spreadsheet)"}, {"owner": {"reputation": 8010, "user_id": 1329498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bmA6I.png?s=128&g=1", "display_name": "Diego", "link": "https://stackoverflow.com/users/1329498/diego"}, "edited": false, "score": 0, "creation_date": 1523548638, "post_id": 49783971, "comment_id": 86616806, "body": "Did you install the &quot;on form submit&quot; trigger? Did you see that it wasn&#39;t running? Or did you only see that you weren&#39;t getting the desired output?"}, {"owner": {"reputation": 25, "user_id": 9058870, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kvefYq9TcSk/AAAAAAAAAAI/AAAAAAAAAAs/cgQU2jprar0/photo.jpg?sz=128", "display_name": "Juan Pablo Marroquin Ocampo", "link": "https://stackoverflow.com/users/9058870/juan-pablo-marroquin-ocampo"}, "reply_to_user": {"reputation": 8010, "user_id": 1329498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bmA6I.png?s=128&g=1", "display_name": "Diego", "link": "https://stackoverflow.com/users/1329498/diego"}, "edited": false, "score": 0, "creation_date": 1523551884, "post_id": 49783971, "comment_id": 86618690, "body": "Yes I did (no the script you have but the Trigger shows:  Run: SendEmail  Event: From spreadsheet - On form submit (also used On edit and On change)"}, {"owner": {"reputation": 8010, "user_id": 1329498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bmA6I.png?s=128&g=1", "display_name": "Diego", "link": "https://stackoverflow.com/users/1329498/diego"}, "edited": false, "score": 0, "creation_date": 1523552060, "post_id": 49783971, "comment_id": 86618795, "body": "Did the trigger work? Specifically, I&#39;m asking if it &quot;triggered&quot;, not asking if your function worked."}, {"owner": {"reputation": 25, "user_id": 9058870, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kvefYq9TcSk/AAAAAAAAAAI/AAAAAAAAAAs/cgQU2jprar0/photo.jpg?sz=128", "display_name": "Juan Pablo Marroquin Ocampo", "link": "https://stackoverflow.com/users/9058870/juan-pablo-marroquin-ocampo"}, "reply_to_user": {"reputation": 8010, "user_id": 1329498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bmA6I.png?s=128&g=1", "display_name": "Diego", "link": "https://stackoverflow.com/users/1329498/diego"}, "edited": false, "score": 0, "creation_date": 1523553129, "post_id": 49783971, "comment_id": 86619339, "body": "I reseted the trigger and now it works... My only problem is that it sends the last email on each form submission... :facepalm:"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 9058870, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kvefYq9TcSk/AAAAAAAAAAI/AAAAAAAAAAs/cgQU2jprar0/photo.jpg?sz=128", "display_name": "Juan Pablo Marroquin Ocampo", "link": "https://stackoverflow.com/users/9058870/juan-pablo-marroquin-ocampo"}, "edited": false, "score": 0, "creation_date": 1523667974, "post_id": 49807659, "comment_id": 86669405, "body": "But with this it will get it from the Form Response sheet and what Im doing is that of 15 people that enter data in there, I need to the the data just of 2 and send an email to verify the information that they submited...  So in the next tab of the FormResponses I collect only the data of this 2 guys and with a VLOOKUP I search for the email address to mail the verification."}], "tags": [], "owner": {"reputation": 8010, "user_id": 1329498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bmA6I.png?s=128&g=1", "display_name": "Diego", "link": "https://stackoverflow.com/users/1329498/diego"}, "is_accepted": false, "score": 1, "last_activity_date": 1523579690, "creation_date": 1523579690, "answer_id": 49807659, "question_id": 49783971, "link": "https://stackoverflow.com/questions/49783971/send-email-correct-trigger-setup/49807659#49807659", "title": "Send email correct trigger setup", "body": "<p>You should be using an \"on form response\" trigger, and then use the <a href=\"https://developers.google.com/apps-script/guides/triggers/events#form-submit\" rel=\"nofollow noreferrer\">event object</a> provided by that trigger. The event object provides all of the form response data that you need. If you need to access information that was not submitted in the form, but is on the same row as the form data, then you can use <code>formResponse.range.getRow()</code> to get the row number. </p>\n\n<p>This is what your code might look like with proper usage of the event object:</p>\n\n<pre><code>function SendEmail(formResponse) {\n  var email = formResponse.values[24];\n  Logger.log(email);\n  var subject = \"Summary Of Your Coaching Session\";\n  var session = formResponse.values[14];\n  var kpi = formResponse.values[9];\n  var exception = formResponse.values[5];\n  var casenum = formResponse.values[7];\n  var wins = formResponse.values[9];\n  var coachwins = formResponse.values[10];\n  var timeframe = formResponse.values[13];\n  var smartplan = formResponse.values[17];\n  var nickname = formResponse.values[26];\n  var evenbetter = formResponse.values[15];\n  var type = formResponse.values[25];\n  Logger.log(type);\n  if (type == 'Win'){\n    var body = ('Hello '+ nickname +','+'&lt;br&gt;&lt;br&gt;Here is the summary of your '+ session +\n                ':'+'&lt;br&gt;&lt;br&gt;Your coaching was based on &lt;b&gt;'+ kpi +'&lt;/b&gt; and case number '+\n                casenum +' and we identified the following wins '+ wins +', '+ coachwins +\n                ' and we are committed to '+ smartplan +' that we will be following on ' +\n                timeframe +'.&lt;br&gt;&lt;br&gt;');\n  } else if (type == \"Full\") {\n    var body = ('Hello '+ nickname +','+'&lt;br&gt;&lt;br&gt;Here is the summary of your '+ session +\n                ':'+'&lt;br&gt;&lt;br&gt;Your coaching was based on &lt;b&gt;'+ kpi +'&lt;/b&gt;, from case number '+\n                casenum +' and the skill that we are focusing on mastering is '+ evenbetter +\n                '. We are committing to \"'+ smartplan +'\" that we will be following on ' +\n                timeframe +'.&lt;br&gt;&lt;br&gt;');\n  } else if (type == \"Exception\"){\n    var body = ('Hello '+ nickname +','+'&lt;br&gt;&lt;br&gt; A Coaching for Excellence exception has been submitted due to &lt;b&gt;'+\n                exception +'&lt;/b&gt;, so we will meet next week. Your development is highly important for us, we encourage '+\n                'you to keep on working on your previous action plan. &lt;br&gt;&lt;br&gt; If you have any questions regarding your '+\n                'previous action plan contact me.&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;');\n  }\n  MailApp.sendEmail(email, Subject, body, {htmlBody : body, noReply : true})\n}\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 9058870, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kvefYq9TcSk/AAAAAAAAAAI/AAAAAAAAAAs/cgQU2jprar0/photo.jpg?sz=128", "display_name": "Juan Pablo Marroquin Ocampo", "link": "https://stackoverflow.com/users/9058870/juan-pablo-marroquin-ocampo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523595032, "creation_date": 1523478455, "last_edit_date": 1523595032, "question_id": 49783971, "link": "https://stackoverflow.com/questions/49783971/send-email-correct-trigger-setup", "title": "Send email correct trigger setup", "body": "<p>I would like some help setting up a trigger... I got a a sheet connected to a form that gets a survey, but in a different tab I pull the data just from 2 specific users and I tried to set up a trigger that sends an email when this 2 users submit the form.</p>\n\n<p>I already tried: From spreadsheet (On change, On Edit and On form submit) but nothing...  I don't want to setup Time-Driven or from calendar because or they are going to receive the same email a lot of times or if they submit one after the other only the last will receive the email.</p>\n\n<p>The script is the following:</p>\n\n<pre><code>function SendEmail() {\n  var Spreadsheet = SpreadsheetApp.getActive();\n  var Sheet = Spreadsheet.getSheetByName(\"Email test\");\n  var counter = Sheet.getRange(\"AB1\").getValue();\n  var email = \"\"+ Sheet.getRange(counter, 25).getValue();\n  Logger.log(email);\n  var Subject = \"Summary Of Your Coaching Session\";\n  var Session = Sheet.getRange(counter, 15).getValue();\n  var KPI = Sheet.getRange(counter, 9).getValue();\n  var exception = Sheet.getRange(counter, 6).getValue();\n  var casenum = Sheet.getRange(counter, 8).getValue();\n  var wins = Sheet.getRange(counter, 10).getValue();\n  var coachwins = Sheet.getRange(counter, 11).getValue();\n  var timeframe = Sheet.getRange(counter, 14).getValue();\n  var smartplan = Sheet.getRange(counter, 18).getValue();\n  var nickname = Sheet.getRange(counter, 27).getValue();\n  var evenbetter = Sheet.getRange(counter, 16).getValue();\n\n  var type = Sheet.getRange(counter, 26).getValue();\n  Logger.log(type);\n\n  if (type == 'Win'){\n\n    var body = ('Hello '+ nickname +','+'&lt;br&gt;&lt;br&gt;Here is the summary of your '+ Session +':'+'&lt;br&gt;&lt;br&gt;Your coaching was based on &lt;b&gt;'+ KPI +'&lt;/b&gt; and case number '+ casenum +' and we identified the following wins '+ wins +', '+ coachwins +' and we are committed to '+ smartplan +' that we will be following on ' + timeframe +'.&lt;br&gt;&lt;br&gt;');\n\n  } else if (type == \"Full\"){\n\n    var body = ('Hello '+ nickname +','+'&lt;br&gt;&lt;br&gt;Here is the summary of your '+ Session +':'+'&lt;br&gt;&lt;br&gt;Your coaching was based on &lt;b&gt;'+ KPI +'&lt;/b&gt;, from case number '+ casenum +' and the skill that we are focusing on mastering is '+ evenbetter +'. We are committing to \"'+ smartplan +'\" that we will be following on ' + timeframe +'.&lt;br&gt;&lt;br&gt;');\n\n  } else if (type == \"Exception\"){\n\n    var body = ('Hello '+ nickname +','+'&lt;br&gt;&lt;br&gt; A Coaching for Excellence exception has been submitted due to &lt;b&gt;'+ exception +'&lt;/b&gt;, so we will meet next week. Your development is highly important for us, we encourage you to keep on working on your previous action plan. &lt;br&gt;&lt;br&gt; If you have any questions regarding your previous action plan contact me.&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;');\n\n  }\n\n  MailApp.sendEmail(email, Subject, body, {htmlBody : body, noReply : true})\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "settimeout", "cleartimeout"], "comments": [{"owner": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "edited": false, "score": 0, "creation_date": 1523478580, "post_id": 49783936, "comment_id": 86583354, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/3015319/settimeout-cleartimeout-problems\">setTimeout / clearTimeout problems</a>"}], "answers": [{"tags": [], "owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "is_accepted": false, "score": 14, "last_activity_date": 1562088847, "last_edit_date": 1562088847, "creation_date": 1523478601, "answer_id": 49784009, "question_id": 49783936, "link": "https://stackoverflow.com/questions/49783936/how-to-clear-a-settimeout-in-react/49784009#49784009", "title": "How to clear a settimeout in react", "body": "<p>When you use <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setTimeout\" rel=\"noreferrer\"><code>setTimeout()</code></a> it returns a <code>timeoutID</code>, which you use to <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/clearTimeout\" rel=\"noreferrer\">clear</a> the timeout.</p>\n\n<p>To use it in your component, you need to store the <code>timeoutID</code> that was returned from the <code>timer</code> method:</p>\n\n<pre><code>class Questions extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      error: false,\n      position: null,\n      redirect: false\n    }\n    this.error = this.error.bind(this);\n    this.errorFalse = this.errorFalse.bind(this);\n    // this.timer = this.timer.bind(this); // don't bind an arrow function\n  }\n  timer = () =&gt; setTimeout(() =&gt; { // return the timeoutID\n    console.log('this ran')\n    this.setState({\n      redirect: true\n    })\n\n  }, 5000);\n  componentWillMount() {\n    this.setState({\n      error: false\n    })\n    this.timeoutID = this.timer(); // cache the timeoutID\n  }\n  componentDidUpdate(prevProps, prevState, snapshot, timer) {\n    console.log('updated')\n    clearTimeout(this.timeoutID); // clear the timeoutID\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 8608597, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155638340441506/picture?type=large", "display_name": "Milan Vukovic", "link": "https://stackoverflow.com/users/8608597/milan-vukovic"}, "is_accepted": false, "score": 7, "last_activity_date": 1585003472, "creation_date": 1585003472, "answer_id": 60822568, "question_id": 49783936, "link": "https://stackoverflow.com/questions/49783936/how-to-clear-a-settimeout-in-react/60822568#60822568", "title": "How to clear a settimeout in react", "body": "<p>React Hooks</p>\n\n<pre><code>useEffect(() =&gt; {\n    const timer = () =&gt; setTimeout(() =&gt; ...some work ... , 2000);\n    const timerId = timer();\n    return () =&gt; {\n      clearTimeout(timerId);\n    };\n  });\n</code></pre>\n"}], "owner": {"reputation": 377, "user_id": 8076132, "user_type": "registered", "accept_rate": 5, "profile_image": "https://www.gravatar.com/avatar/3d1ca0dd757a47cbddb2ab6dcd9fa957?s=128&d=identicon&r=PG&f=1", "display_name": "jdip88", "link": "https://stackoverflow.com/users/8076132/jdip88"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13542, "favorite_count": 3, "answer_count": 2, "score": 7, "last_activity_date": 1585003472, "creation_date": 1523478304, "question_id": 49783936, "link": "https://stackoverflow.com/questions/49783936/how-to-clear-a-settimeout-in-react", "title": "How to clear a settimeout in react", "body": "<p>On each question component, I am trying to clear the time out. So on <code>componentWillMount()</code> I will start the timer and then on <code>componentDidUpdate()</code> I will clear the timeout. The timer does not seem to be working.After the timer expires I will push the user back to the home page. Any idea why the using <code>clearTimeout()</code> isnt working?</p>\n\n<pre><code>class Questions extends Component { \n    constructor(props){\n        super(props);\n        this.state ={\n            error: false,\n            position: null,\n            redirect: false\n        } \n        this.error = this.error.bind(this);   \n        this.errorFalse = this.errorFalse.bind(this); \n        this.timer = this.timer.bind(this); \n    }\n    timer=()=&gt;{\n        setTimeout(() =&gt; { \n            console.log('this ran') \n            this.setState({\n                redirect: true\n            })\n\n    }, 5000)\n    }\n    componentWillMount(){\n        this.setState({\n            error: false\n        })\n        this.timer();\n\n    }\n    componentDidUpdate(prevProps, prevState, snapshot, timer){\n        console.log('updated')\n        clearTimeout(this.timer);\n    }\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 4717, "user_id": 9253414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9EWVl.png?s=128&g=1", "display_name": "D. Pardal", "link": "https://stackoverflow.com/users/9253414/d-pardal"}, "edited": false, "score": 0, "creation_date": 1523478711, "post_id": 49783889, "comment_id": 86583421, "body": "Oh, and also, I&#39;ve posted a similar question. This one is different, as I just want to know <b>why</b> this happens."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1523480271, "post_id": 49783889, "comment_id": 86584103, "body": "You are &quot;calling&quot; a getter: <code>.baseURI</code>. And you&#39;re calling it on <code>b</code>, which is not a DOM element, unlike <code>a</code>."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1523480610, "post_id": 49783889, "comment_id": 86584268, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/q/48920586/1048572\">put HTML element in prototype chain?</a>"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1523533206, "post_id": 49783889, "comment_id": 86605351, "body": "No, <code>Object.create</code> does not copy anything. It just make the properties accessible through inheritance."}, {"owner": {"reputation": 4717, "user_id": 9253414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9EWVl.png?s=128&g=1", "display_name": "D. Pardal", "link": "https://stackoverflow.com/users/9253414/d-pardal"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1523534937, "post_id": 49783889, "comment_id": 86606528, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/168830/discussion-between-d-pardal-and-bergi\">continue this discussion in chat</a>."}, {"owner": {"reputation": 4421, "user_id": 5896426, "user_type": "registered", "profile_image": "https://graph.facebook.com/1666450823627269/picture?type=large", "display_name": "Bekim Bacaj", "link": "https://stackoverflow.com/users/5896426/bekim-bacaj"}, "edited": false, "score": 0, "creation_date": 1594459352, "post_id": 49783889, "comment_id": 111137881, "body": "You don&#39;t seem to understand the diference between the DOM and JavaScript. You&#39;ve illegally used a JavaScript object creation method <code>Object.create( a );</code> to create\\clone a desired DOM element! The error is correct that&#39;s a wrong object Type."}, {"owner": {"reputation": 4717, "user_id": 9253414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9EWVl.png?s=128&g=1", "display_name": "D. Pardal", "link": "https://stackoverflow.com/users/9253414/d-pardal"}, "reply_to_user": {"reputation": 4421, "user_id": 5896426, "user_type": "registered", "profile_image": "https://graph.facebook.com/1666450823627269/picture?type=large", "display_name": "Bekim Bacaj", "link": "https://stackoverflow.com/users/5896426/bekim-bacaj"}, "edited": false, "score": 0, "creation_date": 1594463037, "post_id": 49783889, "comment_id": 111138784, "body": "@BekimBacaj This is an old question. Now that I&#39;ve I realized the problem, that some answers didn&#39;t explain: DOM objects are also JavaScript objects. The properties on DOM objects have getters, that are invoked with the <code>this</code> context object set to the object they are invoked in, but because <code>this</code> is not a DOM object, they fail."}], "answers": [{"comments": [{"owner": {"reputation": 1473, "user_id": 9541310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ux53p.png?s=128&g=1", "display_name": "terry.qiao", "link": "https://stackoverflow.com/users/9541310/terry-qiao"}, "edited": false, "score": 1, "creation_date": 1523500041, "post_id": 49784309, "comment_id": 86589286, "body": "It&#39;s no reason. This can not explain why <code>Object.getPrototypeOf(b, &quot;baseURI&quot;)</code> works?"}, {"owner": {"reputation": 4717, "user_id": 9253414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9EWVl.png?s=128&g=1", "display_name": "D. Pardal", "link": "https://stackoverflow.com/users/9253414/d-pardal"}, "edited": false, "score": 0, "creation_date": 1523520739, "post_id": 49784309, "comment_id": 86597202, "body": "@terry.quiao is right. This doesn&#39;t fully explain why prototypes are so messed up. I&#39;m going to edit the post around 7:00 GMT (I hope) and add a thing that I&#39;ve forgot to mention."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 1473, "user_id": 9541310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ux53p.png?s=128&g=1", "display_name": "terry.qiao", "link": "https://stackoverflow.com/users/9541310/terry-qiao"}, "edited": false, "score": 1, "creation_date": 1523521363, "post_id": 49784309, "comment_id": 86597534, "body": "@terry.qiao What&#39;s that? <code>Object.getPrototypeOf</code> takes only a single parameter."}, {"owner": {"reputation": 1473, "user_id": 9541310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ux53p.png?s=128&g=1", "display_name": "terry.qiao", "link": "https://stackoverflow.com/users/9541310/terry-qiao"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1523522703, "post_id": 49784309, "comment_id": 86598360, "body": "@Bergi You are correct. It should be <code>Object.getPrototypeOf(b.baseURI)</code> and I find it does not work on my Chrome. (So, OP was wrong?)"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 1473, "user_id": 9541310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ux53p.png?s=128&g=1", "display_name": "terry.qiao", "link": "https://stackoverflow.com/users/9541310/terry-qiao"}, "edited": false, "score": 1, "creation_date": 1523524231, "post_id": 49784309, "comment_id": 86599413, "body": "@terry.qiao Maybe <code>Object.getPrototypeOf(b).baseURI</code>?"}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 0, "last_activity_date": 1523480080, "creation_date": 1523480080, "answer_id": 49784309, "question_id": 49783889, "link": "https://stackoverflow.com/questions/49783889/javascript-typeerror-illegal-invocation-but-im-not-calling-any-function/49784309#49784309", "title": "JavaScript: &quot;TypeError: Illegal invocation&quot; but I&#39;m not calling any function", "body": "<p>DOM objects are implemented very specially in browsers. When you copy one of them using a generic function like <code>Object.create()</code>, the result isn't linked into the DOM the same way as the original. Many of the properties need to access the DOM, so you get an error when you try to access these properties in the copy.</p>\n"}, {"comments": [{"owner": {"reputation": 4421, "user_id": 5896426, "user_type": "registered", "profile_image": "https://graph.facebook.com/1666450823627269/picture?type=large", "display_name": "Bekim Bacaj", "link": "https://stackoverflow.com/users/5896426/bekim-bacaj"}, "edited": false, "score": 0, "creation_date": 1594459535, "post_id": 51272743, "comment_id": 111137934, "body": "or simply put you cannot use JavaScript object creation methods to create DOM Elements.  Becasue DOM objects, are not only of a different type, but also of a completely different kind."}, {"owner": {"reputation": 11024, "user_id": 596816, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dfcffa6d61323027cb75ee36d1fbb508?s=128&d=identicon&r=PG", "display_name": "EECOLOR", "link": "https://stackoverflow.com/users/596816/eecolor"}, "reply_to_user": {"reputation": 4421, "user_id": 5896426, "user_type": "registered", "profile_image": "https://graph.facebook.com/1666450823627269/picture?type=large", "display_name": "Bekim Bacaj", "link": "https://stackoverflow.com/users/5896426/bekim-bacaj"}, "edited": false, "score": 0, "creation_date": 1606944838, "post_id": 51272743, "comment_id": 115120702, "body": "@BekimBacaj could you explain what you mean with &#39;different type&#39; and &#39;different kind&#39;? I think I don&#39;t know what &#39;kind&#39; means."}, {"owner": {"reputation": 4421, "user_id": 5896426, "user_type": "registered", "profile_image": "https://graph.facebook.com/1666450823627269/picture?type=large", "display_name": "Bekim Bacaj", "link": "https://stackoverflow.com/users/5896426/bekim-bacaj"}, "edited": false, "score": 1, "creation_date": 1607024834, "post_id": 51272743, "comment_id": 115150098, "body": "It means that the typeof  <code>div</code> is not a JS Object but a HTMLDivElement and also of a different kind because DOM is not JavaScript."}], "tags": [], "owner": {"reputation": 11024, "user_id": 596816, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dfcffa6d61323027cb75ee36d1fbb508?s=128&d=identicon&r=PG", "display_name": "EECOLOR", "link": "https://stackoverflow.com/users/596816/eecolor"}, "is_accepted": true, "score": 2, "last_activity_date": 1531250851, "creation_date": 1531250851, "answer_id": 51272743, "question_id": 49783889, "link": "https://stackoverflow.com/questions/49783889/javascript-typeerror-illegal-invocation-but-im-not-calling-any-function/51272743#51272743", "title": "JavaScript: &quot;TypeError: Illegal invocation&quot; but I&#39;m not calling any function", "body": "<p>This behavior is caused by the implementation of the <a href=\"https://heycam.github.io/webidl/#dfn-attribute-getter\" rel=\"nofollow noreferrer\">specification</a>. These DOM nodes are so-called 'platform objects' and the way they implement getters is slightly different from 'normal' javascript.</p>\n\n<p>In short: they can not be extended without extra work.</p>\n\n<pre><code>var a = document.getElementById(\"something\");\nvar b = Object.create(a);\n</code></pre>\n\n<p>When the <code>baseURI</code> of <code>b</code> is accessed, its <code>this</code> points to <code>b</code> which is not a valid 'platform object'. This causes the <code>Illegal invocation</code> error. Accessing it through the <code>prototype</code> does work because then its <code>this</code> points to the <code>prototype</code> which is a valid 'platform object'.</p>\n\n<p>This comment on an issue of Chrome explains it in more detail and also supplies a workaround if you really need it: <a href=\"https://bugs.chromium.org/p/chromium/issues/detail?id=495437#c7\" rel=\"nofollow noreferrer\">https://bugs.chromium.org/p/chromium/issues/detail?id=495437#c7</a></p>\n"}], "owner": {"reputation": 4717, "user_id": 9253414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9EWVl.png?s=128&g=1", "display_name": "D. Pardal", "link": "https://stackoverflow.com/users/9253414/d-pardal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1047, "favorite_count": 4, "accepted_answer_id": 51272743, "answer_count": 2, "score": 7, "last_activity_date": 1531250851, "creation_date": 1523478111, "last_edit_date": 1523537090, "question_id": 49783889, "link": "https://stackoverflow.com/questions/49783889/javascript-typeerror-illegal-invocation-but-im-not-calling-any-function", "title": "JavaScript: &quot;TypeError: Illegal invocation&quot; but I&#39;m not calling any function", "body": "<p><strong>Note:</strong> I've searched for this error, but everything I've found was about calling functions. I'm not calling any function. I'm just trying to access a property.</p>\n\n<hr />\n\n<p>I get the error when I execute this simple code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var a = document.getElementById(\"something\");\r\nvar b = Object.create(a);\r\nconsole.log(b.baseURI) //Throws error with any property of a</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;p id=\"something\"&gt;Hi! I exist just for demo purposes. This error can occur with any element.&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I have no idea of why this happens. The code works fine if I try to get the property from the prototype of <code>b</code>...</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var a = document.getElementById(\"something\");\nvar b = Object.create(a);\nconsole.log( Object.getPrototypeOf(b.baseURI) ) //Works\n</code></pre>\n\n<p>... and also using a normal object.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var a = {foo: \"Foo!\"};\nvar b = Object.create(a);\nconsole.log(b.foo) //Works\n</code></pre>\n\n<p>Why does this happen? It makes no sense to me. <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Inheritance_and_the_prototype_chain#Inheritance_with_the_prototype_chain\" rel=\"nofollow noreferrer\">MDN</a> says:</p>\n\n<blockquote>\n  <p>When trying to access a property of an object, the property will not only be sought on the object but on the prototype of the object, the prototype of the prototype, and so on until either a property with a matching name is found or the end of the prototype chain is reached.</p>\n</blockquote>\n\n<p>The prototype chain of <code>b</code> (in the first example) is:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>HTMLParagraphElement --&gt; HTMLParagraphElement (the actual element object) --&gt; HTMLParagraphElement --&gt; HTMLElement --&gt; Element --&gt; Node --&gt; EventTarget --&gt; Object --&gt; null\n</code></pre>\n\n<p>(<a href=\"https://i.stack.imgur.com/gEBnH.png\" rel=\"nofollow noreferrer\">Proof</a>)</p>\n\n<p><strong>EDIT:</strong> Note how the 1<sup>st</sup> object in the proto chain is a <code>HTMLParagraphElement</code>. This is normal, so that's not the problem. (<a href=\"https://i.stack.imgur.com/tZDib.png\" rel=\"nofollow noreferrer\">Image</a>)</p>\n\n<p>The problem (i think) is that the proprieties get kinda copied to the main <code>b</code> object and not just to <code>b</code>'s prototype. This means that the browser founds a matching name right in the first object and tries to access it, but it throws an error. (<a href=\"https://i.stack.imgur.com/yUpxV.png\" rel=\"nofollow noreferrer\">Image</a>; clicking the <code>(...)</code> results in error).</p>\n\n<p>However, I still don't understand why this happens nor why the error is thrown.</p>\n"}, {"tags": ["javascript", "php", "jquery", "html", "ajax"], "comments": [{"owner": {"reputation": 51399, "user_id": 1553888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01ac05cf8db6f338aef3c2f65e348f5d?s=128&d=identicon&r=PG", "display_name": "u_mulder", "link": "https://stackoverflow.com/users/1553888/u-mulder"}, "edited": false, "score": 6, "creation_date": 1523478132, "post_id": 49783866, "comment_id": 86583114, "body": "Open developers console, check errors."}], "answers": [{"comments": [{"owner": {"reputation": 32630, "user_id": 1011527, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/950d56c466691980bba71859798bfe65?s=128&d=identicon&r=PG", "display_name": "Jay Blanchard", "link": "https://stackoverflow.com/users/1011527/jay-blanchard"}, "edited": false, "score": 0, "creation_date": 1523622433, "post_id": 49784572, "comment_id": 86648346, "body": "Do or do not, there is no &quot;try&quot;. A <b><i>good answer</i></b> will always have an explanation of what was done and why it was done in such a manner, not only for the OP but for future visitors to SO."}], "tags": [], "owner": {"reputation": 39, "user_id": 4419371, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-q_R4PW7qfbs/AAAAAAAAAAI/AAAAAAAAACU/WBkA2KfT6Yk/photo.jpg?sz=128", "display_name": "ron wizzle", "link": "https://stackoverflow.com/users/4419371/ron-wizzle"}, "is_accepted": false, "score": -1, "last_activity_date": 1523733872, "last_edit_date": 1523733872, "creation_date": 1523481242, "answer_id": 49784572, "question_id": 49783866, "link": "https://stackoverflow.com/questions/49783866/jquery-ajax-loop-on-form-submit/49784572#49784572", "title": "jQuery Ajax loop on form submit", "body": "<p>try:</p>\n\n<pre><code>    var header =  {\n        'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8;'\n    };\n\n    var request = $.ajax({\n        url:   '/lib/login.php'\n        ,data: $(this).serialize(),\n        ,headers: header\n    });\n\n\n    request.done(function(response) {\n      alert(\"WORKED \"+response);\n    });\n</code></pre>\n\n<p>Edit: </p>\n\n<p>The thing is, some/most API's will require you to explicitly specify the content type, before they return the \"standard\" HTTP response that your Javascript will read.  </p>\n\n<p>Resources: </p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type</a></p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Complete_list_of_MIME_types\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Complete_list_of_MIME_types</a></p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST</a></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 6200756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/axAZq.png?s=128&g=1", "display_name": "0st14H4ck", "link": "https://stackoverflow.com/users/6200756/0st14h4ck"}, "is_accepted": false, "score": -1, "last_activity_date": 1523481316, "creation_date": 1523481316, "answer_id": 49784589, "question_id": 49783866, "link": "https://stackoverflow.com/questions/49783866/jquery-ajax-loop-on-form-submit/49784589#49784589", "title": "jQuery Ajax loop on form submit", "body": "<p>First of all, which jQuery version are you using?</p>\n\n<p>Your code is working fine with <strong>jQuery 3.3.1</strong></p>\n\n<p>Always keep in mind this good practices:</p>\n\n<ol>\n<li>Disable the cache on your browser while you develop\n\n<ul>\n<li>Each time you wanna check your site, open the browser console and then press F5</li>\n</ul></li>\n<li>Javascript code always needs to stay at bottom inside <strong>body</strong> tag (just before <strong>&lt;<em>/body</em>></strong>)\n\n<ul>\n<li>This also apply in the case you put it on a separated file (recommended)</li>\n</ul></li>\n<li>Set the <strong>action</strong> parameter on your form, this can prevent unexpected errors\n\n<ul>\n<li>Even if you are gonna call the same file or url</li>\n</ul></li>\n</ol>\n"}], "owner": {"reputation": 81, "user_id": 9260039, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-2OhE2M3IMIY/AAAAAAAAAAI/AAAAAAAAAB4/oDHRyxEiSNU/photo.jpg?sz=128", "display_name": "Jordan Farris", "link": "https://stackoverflow.com/users/9260039/jordan-farris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 306, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1523733872, "creation_date": 1523478005, "last_edit_date": 1523492691, "question_id": 49783866, "link": "https://stackoverflow.com/questions/49783866/jquery-ajax-loop-on-form-submit", "title": "jQuery Ajax loop on form submit", "body": "<p>New to Ajax, however, I can't figure out what is wrong, and I assume its the Javascript. My php page is working just fine, however, with this code my login Html simply refreshes over and over with the end of the url changing to <em>?username=whatIenter&amp;password=whatIenter</em></p>\n\n<p><strong>JAVASCRIPT</strong></p>\n\n<pre><code> &lt;script type=\"text/javascript\"&gt;\n\n      $(document).ready(function() {\n        $('#login_form').submit(function(e) {\n          e.preventDefault();\n          $.ajax({\n             type: \"POST\",\n             url: '/lib/login.php',\n             data: $(this).serialize(),\n             success: function(data)\n             {\n              alert(\"WORKED\");\n             }\n         });\n       });\n      });\n\n  &lt;/script&gt;\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;form id=\"login_form\" action=\"\" method=\"POST\"&gt;\n      &lt;input type=\"text\" id=\"user\" name=\"username\"&gt;\n\n      &lt;input type=\"password\" id=\"pass\" name=\"password\"&gt;\n\n      &lt;button id=\"loginButton\" class=\"login_submit\" type=\"submit\" &gt;Login&lt;/button&gt;\n  &lt;/form&gt;\n</code></pre>\n"}, {"tags": ["javascript", "html", "facebook", "share", "addthis"], "comments": [{"owner": {"reputation": 4782, "user_id": 101130, "user_type": "registered", "profile_image": "https://graph.facebook.com/690267162/picture?type=large", "display_name": "WizKid", "link": "https://stackoverflow.com/users/101130/wizkid"}, "edited": false, "score": 0, "creation_date": 1523478333, "post_id": 49783832, "comment_id": 86583214, "body": "Put og:image tag on the URL that you are sharing."}, {"owner": {"reputation": 3905, "user_id": 3784238, "user_type": "registered", "accept_rate": 26, "profile_image": "https://lh3.googleusercontent.com/-5TiQ_Wr94Kg/AAAAAAAAAAI/AAAAAAAAAUg/N0Pp2l_1mdM/photo.jpg?sz=128", "display_name": "Erica Stockwell-Alpert", "link": "https://stackoverflow.com/users/3784238/erica-stockwell-alpert"}, "reply_to_user": {"reputation": 4782, "user_id": 101130, "user_type": "registered", "profile_image": "https://graph.facebook.com/690267162/picture?type=large", "display_name": "WizKid", "link": "https://stackoverflow.com/users/101130/wizkid"}, "edited": false, "score": 0, "creation_date": 1523478763, "post_id": 49783832, "comment_id": 86583446, "body": "I added <code>&lt;meta property=&quot;og:image&quot; content=&quot;http:&#47;&#47;i.imgur.com&#47;sI5mrZP.png&quot;&gt;</code> to the page but it&#39;s still not sharing that image"}, {"owner": {"reputation": 4782, "user_id": 101130, "user_type": "registered", "profile_image": "https://graph.facebook.com/690267162/picture?type=large", "display_name": "WizKid", "link": "https://stackoverflow.com/users/101130/wizkid"}, "edited": false, "score": 0, "creation_date": 1523479270, "post_id": 49783832, "comment_id": 86583665, "body": "Then use Facebook debugger <a href=\"https://developers.facebook.com/tools/debug/\" rel=\"nofollow noreferrer\">developers.facebook.com/tools/debug</a> ."}], "owner": {"reputation": 3905, "user_id": 3784238, "user_type": "registered", "accept_rate": 26, "profile_image": "https://lh3.googleusercontent.com/-5TiQ_Wr94Kg/AAAAAAAAAAI/AAAAAAAAAUg/N0Pp2l_1mdM/photo.jpg?sz=128", "display_name": "Erica Stockwell-Alpert", "link": "https://stackoverflow.com/users/3784238/erica-stockwell-alpert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523605082, "creation_date": 1523477885, "last_edit_date": 1523605082, "question_id": 49783832, "link": "https://stackoverflow.com/questions/49783832/add-this-share-to-facebook-not-sharing-image", "title": "add this share to Facebook not sharing image", "body": "<p>I'm using the addthis toolbox to share pages on my site to social media. This is my entire addthis section:</p>\n\n<pre><code>&lt;div class=\"print_share\"&gt;\n    &lt;ul&gt;\n        &lt;li&gt;\n            &lt;!-- addthis print button begin --&gt;\n            &lt;div class=\"addthis_toolbox addthis_default_style\"&gt;\n                &lt;a class=\"addthis_button_print\"&gt;&lt;svg class=\"icon icon--print\"&gt;&lt;use xmlns:xlink=\"https://www.w3.org/1999/xlink\" xlink:href=\"/images/icons/svg-sprite.svg#icon-print\"&gt;&lt;/use&gt;&lt;/svg&gt; Print&lt;/a&gt;\n            &lt;/div&gt;\n            &lt;!-- addthis print button end--&gt;            \n        &lt;/li&gt;\n        &lt;li&gt;\n            &lt;!-- addthis email button begin --&gt;\n            &lt;div class=\"addthis_toolbox addthis_default_style\"&gt;\n                &lt;a class=\"addthis_button_email\"&gt;&lt;svg class=\"icon icon--email\"&gt;&lt;use xmlns:xlink=\"https://www.w3.org/1999/xlink\" xlink:href=\"/images/icons/svg-sprite.svg#icon-email\"&gt;&lt;/use&gt;&lt;/svg&gt; Email&lt;/a&gt;\n            &lt;/div&gt;\n            &lt;!-- addthis email button end--&gt;            \n        &lt;/li&gt;\n        &lt;li&gt;\n            &lt;!-- addthis menu button begin --&gt;\n            &lt;div class=\"addthis_toolbox addthis_default_style\" data-media=\"http://i.imgur.com/sI5mrZP.png\"&gt;\n                &lt;div class=\"share_interstitial\" style=\"display: none\"&gt;\n                    &lt;span class=\"at16nc at300bs at15nc at15t_compact at16t_compact\"&gt;&lt;span class=\"at_a11y\"&gt;More Sharing Services&lt;/span&gt;&lt;/span&gt;\n                    &lt;a&gt;Share&lt;/a&gt;\n                    &lt;div class=\"share_loading\" style=\"display: none\"&gt;&lt;img height=\"50\" src=\"/images/loading.gif\"/&gt;&lt;span&gt;Generating thumbnail image...&lt;/span&gt;&lt;/div&gt;\n                &lt;/div&gt;\n                &lt;a class=\"addthis_button_compact\"&gt;&lt;svg class=\"icon icon--share\"&gt;&lt;use xmlns:xlink=\"https://www.w3.org/1999/xlink\" xlink:href=\"/images/icons/svg-sprite.svg#icon-share\"&gt;&lt;/use&gt;&lt;/svg&gt; Share&lt;/a&gt;\n            &lt;/div&gt;\n            &lt;!-- addthis menu button end--&gt;\n        &lt;/li&gt;\n        &lt;li&gt;&lt;span&gt;Hello&lt;/span&gt;&lt;/li&gt;\n\n    &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I also have this script, which I added the <code>$(document).ready()</code> method to:</p>\n\n<pre><code>&lt;script language=\"javascript\" type=\"text/javascript\"&gt;\n    var addthis_share = {\n        url_transforms: {\n            shorten: {\n                twitter: 'bitly'\n            }\n        },\n        shorteners: {\n            bitly: {}\n        },\n        media: \"http://i.imgur.com/sI5mrZP.png\"\n    };\n\n    var addthis_config = {\n        ui_click: true,\n        services_compact: 'facebook,twitter,more',\n        services_exclude: 'gmail,email,print,printfriendly,favorites,blogger,w3validator'\n\n    };\n\n    $(document).ready(function() {\n        console.log(addthis);\n        if (typeof addthis !== 'undefined') {\n            addthis.update('share', 'image', \"http://i.imgur.com/sI5mrZP.png\");\n            if (addthis_share.passthrough) {\n                addthis_share.passthrough.pinterest_share.media = \"http://i.imgur.com/sI5mrZP.png\";\n            }\n            addthis.toolbox('.addthis_toolbox', addthis_config, addthis_share);\n        }\n    });\n\n&lt;/script&gt;\n</code></pre>\n\n<p>but the image is never getting included. Why is it not sharing the image when I have the property <code>data-media</code> set on the <code>addthis_toolbox</code> element?</p>\n"}, {"tags": ["javascript", "opencv", "orb", "opencv-features2d"], "comments": [{"owner": {"reputation": 1, "user_id": 15322645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nt3ql.jpg?s=128&g=1", "display_name": "Giriraj Alagirisamy", "link": "https://stackoverflow.com/users/15322645/giriraj-alagirisamy"}, "edited": false, "score": 0, "creation_date": 1617186743, "post_id": 49783815, "comment_id": 118675568, "body": "You can include the modules you need by creating custom build of opencv.js, refer <a href=\"https://docs.opencv.org/master/d4/da1/tutorial_js_setup.html\" rel=\"nofollow noreferrer\">here</a> for the set of software&#39;s that needs to be installed and the commands to execute. Another alternative way of creating a custom opencv.js build is by using Docker container which is also explained <a href=\"https://docs.opencv.org/master/d4/da1/tutorial_js_setup.html\" rel=\"nofollow noreferrer\">here</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3468, "user_id": 1254714, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/O9eQB.png?s=128&g=1", "display_name": "Alejandro Silvestri", "link": "https://stackoverflow.com/users/1254714/alejandro-silvestri"}, "is_accepted": false, "score": 1, "last_activity_date": 1617316333, "last_edit_date": 1617316333, "creation_date": 1531927300, "answer_id": 51405684, "question_id": 49783815, "link": "https://stackoverflow.com/questions/49783815/opencv-js-build-with-orb-and-features2d/51405684#51405684", "title": "OpenCV.js, build with ORB and features2d", "body": "<p>Right now (Jul 2018) opencv.js has a very minimal implementation, they didn't port the entire opencv library to js.  You don't have ORB.</p>\n<p>As Apr 2021, opencv.js has ORB, FAST, and many more.  <a href=\"https://github.com/opencv/opencv/blob/master/platforms/js/opencv_js.config.py\" rel=\"nofollow noreferrer\">opencv_js.config.py</a> has a list of available functions.</p>\n<p>And there are instructions to build your own taylor opencv version with contrib module:\n<a href=\"https://docs.opencv.org/3.4/d4/da1/tutorial_js_setup.html\" rel=\"nofollow noreferrer\">https://docs.opencv.org/3.4/d4/da1/tutorial_js_setup.html</a></p>\n"}], "owner": {"reputation": 172, "user_id": 5093646, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d2c055e6a966cfb9f815431f4a5a42ee?s=128&d=identicon&r=PG&f=1", "display_name": "Dev_IL", "link": "https://stackoverflow.com/users/5093646/dev-il"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 696, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1618530232, "creation_date": 1523477808, "last_edit_date": 1618530232, "question_id": 49783815, "link": "https://stackoverflow.com/questions/49783815/opencv-js-build-with-orb-and-features2d", "title": "OpenCV.js, build with ORB and features2d", "body": "<p>I am trying to build a simple web/js app that would detect image on camera. I have already done this on iOS and Android using OpenCV so my obvious choice was to use OpenCV.js (latest release).</p>\n<p>I built opencv.js as in tutorial <a href=\"https://docs.opencv.org/3.4.1/d4/da1/tutorial_js_setup.html\" rel=\"nofollow noreferrer\">https://docs.opencv.org/3.4.1/d4/da1/tutorial_js_setup.html</a> and created simple app that changes colorspace from camera to grayscale and shows it on canvas.</p>\n<p>However I don't know how to use ORB or it is just not included in opencv.js build. When I try to do as follows: <code>let orb = new cv.ORB()</code> I got</p>\n<blockquote>\n<p>cv.ORB is not a constructor</p>\n</blockquote>\n<p>I also tried to use it in different way like in python <code>cv.ORB_create</code> but with the same result. There is no tutorial on docs.opencv with this. I am not sure whether it should be allocated in different way or it is missing in build.</p>\n<p>I enabled these options in opencv/platforms/js/build_js.py:</p>\n<pre><code>&quot;-DBUILD_opencv_calib3d=On&quot;,&quot;-DBUILD_opencv_dnn=ON&quot;,&quot;-DBUILD_opencv_features2d=ON&quot;,&quot;-DBUILD_opencv_flann=On&quot;,&quot;-DBUILD_opencv_ml=On&quot;,\n</code></pre>\n<p>But with no effect. When I analyzed logs from building I did not find logs from features2d like</p>\n<blockquote>\n<p>[ 33%] Building CXX object modules/core/CMakeFiles/****</p>\n</blockquote>\n<p>and maybe this is the issues. But I have enabled all required options - could anyone tell me what else could I do wrong?</p>\n"}, {"tags": ["javascript", "jquery", "html", "css", "frontend"], "comments": [{"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 1, "creation_date": 1523477950, "post_id": 49783810, "comment_id": 86583011, "body": "You can attach an <code>input</code> event handler to the text fields to generate the url.  <code>input</code> happens any time the value of an input changes, in contrast to <code>change</code> which happens once the element has lost focus"}, {"owner": {"reputation": 6142, "user_id": 8732818, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WopVT.jpg?s=128&g=1", "display_name": "Calvin Nunes", "link": "https://stackoverflow.com/users/8732818/calvin-nunes"}, "edited": false, "score": 0, "creation_date": 1523477955, "post_id": 49783810, "comment_id": 86583018, "body": "add an <code>onkeypress</code> or <code>oninput</code> listener to your <code>input</code>, that way, every char typed will call the function"}], "answers": [{"tags": [], "owner": {"reputation": 15224, "user_id": 7328218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69d338eadf83deb112f919f4c8a6052a?s=128&d=identicon&r=PG&f=1", "display_name": "Taki", "link": "https://stackoverflow.com/users/7328218/taki"}, "is_accepted": true, "score": 1, "last_activity_date": 1523486490, "creation_date": 1523486490, "answer_id": 49785407, "question_id": 49783810, "link": "https://stackoverflow.com/questions/49783810/javascript-input-field-should-append-in-div-whille-typing/49785407#49785407", "title": "Javascript input field should append in div whille Typing", "body": "<p>attach an eventListener to your <code>input</code> and listen for the <code>input</code> event </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let myText = document.querySelector('#myText');\r\ndocument.querySelector('#myInput').addEventListener('input', function(){\r\n  myText.innerText = this.value;\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>span{\r\n  display : block;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"text\" id=\"myInput\" /&gt;\r\n\r\n&lt;span id=\"myText\"&gt;&lt;/span&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 25, "user_id": 9306553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/789538fb88431dc9cf1c348398fe5710?s=128&d=identicon&r=PG&f=1", "display_name": "VodkaFree", "link": "https://stackoverflow.com/users/9306553/vodkafree"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 49785407, "answer_count": 1, "score": 1, "last_activity_date": 1523486490, "creation_date": 1523477797, "question_id": 49783810, "link": "https://stackoverflow.com/questions/49783810/javascript-input-field-should-append-in-div-whille-typing", "title": "Javascript input field should append in div whille Typing", "body": "<p>I am building an Url-Generator for google analytics. Currently, the Url is appending if I press the submit button. But I want the URL to append while typing in the input. How can I do that with Javascript to get rid of the submit button?</p>\n\n<p>PS: I also want that if I make changes for example in the third input field that the sequence isn't changing (that the content of the third input field isn't appending at last, after I have changed the input value).</p>\n\n<p>HERE'S MY CURRENT CODE THAT LET'S THE URL APPEND AFTER PRESSING THE SUBMIT BUTTON:</p>\n\n<pre><code>//create URL\nsubmit.addEventListener(\"click\", function() {\n    outputField.value = \"\";\n    output = \"\";\n    //lowercases all field inputs\n    if(input01.value !== \"\" &amp;&amp; input02.value !== \"\") {\n        output += input01.value + \"?utm_source=\" + input02.value;\n        if(createClicked === false) {\n            $(\"#outputWrapper\").slideToggle(550);\n            createClicked = true;\n        }\n    } else {\n        alert(\"Website Url and Campaign Source can't be empty\");\n    }\n    if(input03.value !== \"\") {\n        output += \"&amp;utm_medium=\" + input03.value;\n    }\n    if(input04.value !== \"\") {\n        output += \"&amp;utm_campaign=\" + input04.value;\n    }\n    if(input05.value !== \"\") {\n        output += \"&amp;utm_term=\" + input05.value;\n    }\n    if(input06.value !== \"\") {\n        output += \"&amp;utm_content=\" + input06.value;\n    }\n    //output.toLowerCase();\n    //removes space through %20 in output\n    output = output.replace(/\\s/g,'%20');\n\n    outputField.textContent = output;\n})\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "mocha.js", "sinon"], "comments": [{"owner": {"reputation": 60, "user_id": 6939753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a0cd38c84f2cda64ccab182a2bcde7b?s=128&d=identicon&r=PG&f=1", "display_name": "Robert C", "link": "https://stackoverflow.com/users/6939753/robert-c"}, "edited": false, "score": 0, "creation_date": 1523630920, "post_id": 49783797, "comment_id": 86654267, "body": "It turns out that I am not able to spy or stub the functions that are directly linked to app.get. But I can spy or stub any sub functions that are called from there."}, {"owner": {"reputation": 15096, "user_id": 200987, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1cdd96f59bb81a26d81870ba244215bc?s=128&d=identicon&r=PG", "display_name": "oligofren", "link": "https://stackoverflow.com/users/200987/oligofren"}, "edited": false, "score": 0, "creation_date": 1524044247, "post_id": 49783797, "comment_id": 86807743, "body": "Yes, you can. I showed one way of doing so in my answer. You might need to expand on your question to make it clearer what is or what isn&#39;t working through some actual code."}], "answers": [{"tags": [], "owner": {"reputation": 15096, "user_id": 200987, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1cdd96f59bb81a26d81870ba244215bc?s=128&d=identicon&r=PG", "display_name": "oligofren", "link": "https://stackoverflow.com/users/200987/oligofren"}, "is_accepted": false, "score": 1, "last_activity_date": 1523544094, "last_edit_date": 1523544094, "creation_date": 1523543276, "answer_id": 49799161, "question_id": 49783797, "link": "https://stackoverflow.com/questions/49783797/sinon-spy-and-stub-function-through-actual-http-request/49799161#49799161", "title": "Sinon Spy and Stub function through actual http request", "body": "<p>You need to be able to start your application from the tests, and you should structure you application in a way that you can inject the dependencies that you want to control.</p>\n\n<p>In the code below I have tried showing how you can use link seams (using proxyquire) to control the dependencies, but you could also use direct dependency injection to your app (say, pass it in to the <code>start()</code> method) as an alternative.</p>\n\n<p>The code below is instructive, not necessarily working, so it skips setting up http listeners properly, etc. That is left as an exercise for the reader ;)</p>\n\n<p>app.js</p>\n\n<pre><code>const myModule = require('./my-module');\n\nif (require.main === module) {\n    /// starting from the cli\n    start({});\n}\n\nmodule.exports = { \n    start(){\n        app.get(`/`, (req, res) =&gt; {\n            myModule.foo(req.data).then(res.send).catch(res.send);\n        });\n    });\n    stop(){ \n        app.stop(); // somehow kill the http listener and shutdown \n    }\n}\n</code></pre>\n\n<p>test.js</p>\n\n<pre><code>const stub = sinon.stub();\nconst myApp = proxyquire('../app.js',{'./my-module': {foo: stub } });\n\nbefore(()=&gt; {\n   myApp.start();\n});\n\nit('should call a sinon stub', (done) =&gt; {\n   request('localhost:3000/')\n     .then( result = &gt; expect(stub.called).to.equal(true) )\n     .then(done, done);  \n});\n</code></pre>\n"}], "owner": {"reputation": 60, "user_id": 6939753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a0cd38c84f2cda64ccab182a2bcde7b?s=128&d=identicon&r=PG&f=1", "display_name": "Robert C", "link": "https://stackoverflow.com/users/6939753/robert-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523544094, "creation_date": 1523477756, "question_id": 49783797, "link": "https://stackoverflow.com/questions/49783797/sinon-spy-and-stub-function-through-actual-http-request", "title": "Sinon Spy and Stub function through actual http request", "body": "<p>I have a function which is called from an API. I can stub it using sinon if I directly call it in my test for example foo.bar(); But if I call it through a test that makes an http request to that function it doesn't get stubbed. Any ideas?</p>\n"}, {"tags": ["javascript", "progressive-web-apps"], "comments": [{"owner": {"reputation": 6256, "user_id": 9507270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHaNG.jpg?s=128&g=1", "display_name": "Sebastian Speitel", "link": "https://stackoverflow.com/users/9507270/sebastian-speitel"}, "edited": false, "score": 1, "creation_date": 1523478483, "post_id": 49783752, "comment_id": 86583306, "body": "Did you try to clear your browser data? Because the prompt only pops up on the second visit and never again"}, {"owner": {"reputation": 308, "user_id": 4705439, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/0zf2A.jpg?s=128&g=1", "display_name": "Michael Collins", "link": "https://stackoverflow.com/users/4705439/michael-collins"}, "reply_to_user": {"reputation": 6256, "user_id": 9507270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHaNG.jpg?s=128&g=1", "display_name": "Sebastian Speitel", "link": "https://stackoverflow.com/users/9507270/sebastian-speitel"}, "edited": false, "score": 0, "creation_date": 1523478830, "post_id": 49783752, "comment_id": 86583465, "body": "yes, very many times."}, {"owner": {"reputation": 6256, "user_id": 9507270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHaNG.jpg?s=128&g=1", "display_name": "Sebastian Speitel", "link": "https://stackoverflow.com/users/9507270/sebastian-speitel"}, "edited": false, "score": 1, "creation_date": 1523479003, "post_id": 49783752, "comment_id": 86583541, "body": "Do you get the correct homescreen app, when you add to homescreen manually?"}, {"owner": {"reputation": 308, "user_id": 4705439, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/0zf2A.jpg?s=128&g=1", "display_name": "Michael Collins", "link": "https://stackoverflow.com/users/4705439/michael-collins"}, "reply_to_user": {"reputation": 6256, "user_id": 9507270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHaNG.jpg?s=128&g=1", "display_name": "Sebastian Speitel", "link": "https://stackoverflow.com/users/9507270/sebastian-speitel"}, "edited": false, "score": 0, "creation_date": 1523479079, "post_id": 49783752, "comment_id": 86583580, "body": "yes. I do. Fetch results will fail on localhost:3000/__webpack_hmr though"}, {"owner": {"reputation": 308, "user_id": 4705439, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/0zf2A.jpg?s=128&g=1", "display_name": "Michael Collins", "link": "https://stackoverflow.com/users/4705439/michael-collins"}, "reply_to_user": {"reputation": 6256, "user_id": 9507270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHaNG.jpg?s=128&g=1", "display_name": "Sebastian Speitel", "link": "https://stackoverflow.com/users/9507270/sebastian-speitel"}, "edited": false, "score": 0, "creation_date": 1523479091, "post_id": 49783752, "comment_id": 86583586, "body": "I don&#39;t even know if that&#39;s relevant though."}, {"owner": {"reputation": 6256, "user_id": 9507270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHaNG.jpg?s=128&g=1", "display_name": "Sebastian Speitel", "link": "https://stackoverflow.com/users/9507270/sebastian-speitel"}, "edited": false, "score": 1, "creation_date": 1523479163, "post_id": 49783752, "comment_id": 86583618, "body": "So it could be that it works fine, but your browser already locked it. The only other thing to test would be on another phone or browser"}, {"owner": {"reputation": 308, "user_id": 4705439, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/0zf2A.jpg?s=128&g=1", "display_name": "Michael Collins", "link": "https://stackoverflow.com/users/4705439/michael-collins"}, "reply_to_user": {"reputation": 6256, "user_id": 9507270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHaNG.jpg?s=128&g=1", "display_name": "Sebastian Speitel", "link": "https://stackoverflow.com/users/9507270/sebastian-speitel"}, "edited": false, "score": 0, "creation_date": 1523479432, "post_id": 49783752, "comment_id": 86583740, "body": "I have tried from multiple and get the same result. I don&#39;t know what&#39;s happening with those fetch events though."}, {"owner": {"reputation": 308, "user_id": 4705439, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/0zf2A.jpg?s=128&g=1", "display_name": "Michael Collins", "link": "https://stackoverflow.com/users/4705439/michael-collins"}, "reply_to_user": {"reputation": 6256, "user_id": 9507270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHaNG.jpg?s=128&g=1", "display_name": "Sebastian Speitel", "link": "https://stackoverflow.com/users/9507270/sebastian-speitel"}, "edited": false, "score": 0, "creation_date": 1523480094, "post_id": 49783752, "comment_id": 86584024, "body": "@SebastianSpeitel do you mean a device that has never been to the website even before PWA&#39;s were implemented?"}, {"owner": {"reputation": 308, "user_id": 4705439, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/0zf2A.jpg?s=128&g=1", "display_name": "Michael Collins", "link": "https://stackoverflow.com/users/4705439/michael-collins"}, "reply_to_user": {"reputation": 6256, "user_id": 9507270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHaNG.jpg?s=128&g=1", "display_name": "Sebastian Speitel", "link": "https://stackoverflow.com/users/9507270/sebastian-speitel"}, "edited": false, "score": 0, "creation_date": 1523480197, "post_id": 49783752, "comment_id": 86584067, "body": "Im also running on localhost and access through my computers IP"}, {"owner": {"reputation": 6256, "user_id": 9507270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHaNG.jpg?s=128&g=1", "display_name": "Sebastian Speitel", "link": "https://stackoverflow.com/users/9507270/sebastian-speitel"}, "edited": false, "score": 1, "creation_date": 1523480240, "post_id": 49783752, "comment_id": 86584086, "body": "Would be good, just to be sure"}, {"owner": {"reputation": 308, "user_id": 4705439, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/0zf2A.jpg?s=128&g=1", "display_name": "Michael Collins", "link": "https://stackoverflow.com/users/4705439/michael-collins"}, "reply_to_user": {"reputation": 6256, "user_id": 9507270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHaNG.jpg?s=128&g=1", "display_name": "Sebastian Speitel", "link": "https://stackoverflow.com/users/9507270/sebastian-speitel"}, "edited": false, "score": 0, "creation_date": 1523480283, "post_id": 49783752, "comment_id": 86584112, "body": "Yeah that&#39;s not the problem I just ran from a fresh android device with no luck on the second refresh."}, {"owner": {"reputation": 308, "user_id": 4705439, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/0zf2A.jpg?s=128&g=1", "display_name": "Michael Collins", "link": "https://stackoverflow.com/users/4705439/michael-collins"}, "reply_to_user": {"reputation": 6256, "user_id": 9507270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHaNG.jpg?s=128&g=1", "display_name": "Sebastian Speitel", "link": "https://stackoverflow.com/users/9507270/sebastian-speitel"}, "edited": false, "score": 0, "creation_date": 1523552179, "post_id": 49783752, "comment_id": 86618842, "body": "I updated my code.... idk if the fetch for the webpack hmr is important but it was throwing an error in the console so I caught it with an if statement and returned... Now there are no error messages in my console but there is still no pop up banner on any device I try to connect by ip to my PC&#39;s local host"}], "answers": [{"comments": [{"owner": {"reputation": 308, "user_id": 4705439, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/0zf2A.jpg?s=128&g=1", "display_name": "Michael Collins", "link": "https://stackoverflow.com/users/4705439/michael-collins"}, "edited": false, "score": 0, "creation_date": 1523625999, "post_id": 49810368, "comment_id": 86650702, "body": "Yeah well when the site user goes to the root site they are redirected to their companies extensions i.e. www.site.com redirects to www.site.com/company does it load for every page?"}, {"owner": {"reputation": 308, "user_id": 4705439, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/0zf2A.jpg?s=128&g=1", "display_name": "Michael Collins", "link": "https://stackoverflow.com/users/4705439/michael-collins"}, "edited": false, "score": 0, "creation_date": 1523626417, "post_id": 49810368, "comment_id": 86650987, "body": "It would be nice to make the start url in the manifest dynamic and dependent on the global variable for the companies name."}, {"owner": {"reputation": 8301, "user_id": 1057093, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/k4I0G.jpg?s=128&g=1", "display_name": "Anand", "link": "https://stackoverflow.com/users/1057093/anand"}, "reply_to_user": {"reputation": 308, "user_id": 4705439, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/0zf2A.jpg?s=128&g=1", "display_name": "Michael Collins", "link": "https://stackoverflow.com/users/4705439/michael-collins"}, "edited": false, "score": 0, "creation_date": 1523630727, "post_id": 49810368, "comment_id": 86654148, "body": "@MichaelCollins I don&#39;t get what kind of global variable you are referring to and how you want to use that for making the URL dynamic. To my knowledge, we cannot make anything in manifest.json as its a plain meta file, unlike Service worker file which is JS and there you can get params form server to configure things like push notifications."}, {"owner": {"reputation": 8301, "user_id": 1057093, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/k4I0G.jpg?s=128&g=1", "display_name": "Anand", "link": "https://stackoverflow.com/users/1057093/anand"}, "reply_to_user": {"reputation": 308, "user_id": 4705439, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/0zf2A.jpg?s=128&g=1", "display_name": "Michael Collins", "link": "https://stackoverflow.com/users/4705439/michael-collins"}, "edited": false, "score": 0, "creation_date": 1523630794, "post_id": 49810368, "comment_id": 86654192, "body": "@MichaelCollins If you simply wants to decide your home page URL itself dynamic, you can have a routing service as your home page and that decides the actual home page. Caching becomes tricky with that."}], "tags": [], "owner": {"reputation": 8301, "user_id": 1057093, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/k4I0G.jpg?s=128&g=1", "display_name": "Anand", "link": "https://stackoverflow.com/users/1057093/anand"}, "is_accepted": false, "score": 1, "last_activity_date": 1523599923, "creation_date": 1523599923, "answer_id": 49810368, "question_id": 49783752, "link": "https://stackoverflow.com/questions/49783752/progressive-web-app-passes-light-house-test-but-wont-promp-user-to-add-to-home/49810368#49810368", "title": "Progressive Web App: Passes light house test but won&#39;t promp user to add to home screen", "body": "<p>Based on lighthouse result, only possibility is first alert is missed/dismissed by the user/you or it came for a very brief period and gone on cases like reload.</p>\n\n<p>If you test your URL in a new android phone which you have never used to load your page and if the site still doesn't prompt, it should be the below 4th criteria not met. </p>\n\n<p>\"Meets a site engagement heuristic defined by Chrome (this is regularly being changed).\"</p>\n\n<p><a href=\"https://infrequently.org/2016/09/what-exactly-makes-something-a-progressive-web-app/\" rel=\"nofollow noreferrer\">Here</a> and <a href=\"https://developers.google.com/web/fundamentals/app-install-banners/\" rel=\"nofollow noreferrer\">here</a> are some official criteria info from Google on install banners.</p>\n"}], "owner": {"reputation": 308, "user_id": 4705439, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/0zf2A.jpg?s=128&g=1", "display_name": "Michael Collins", "link": "https://stackoverflow.com/users/4705439/michael-collins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523599923, "creation_date": 1523477573, "last_edit_date": 1523551988, "question_id": 49783752, "link": "https://stackoverflow.com/questions/49783752/progressive-web-app-passes-light-house-test-but-wont-promp-user-to-add-to-home", "title": "Progressive Web App: Passes light house test but won&#39;t promp user to add to home screen", "body": "<p>Hey I am trying to set up Progressive Web App services on my application so that users will automatically be prompted to download the website to the hompage. As you can see it says that my service workers are set up to prompt the user but when I navigate to the site from a iphone or android it does not prompt me to download the page to the homescreen. </p>\n\n<p><a href=\"https://i.stack.imgur.com/vB0Rj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vB0Rj.png\" alt=\"Lighthouse Test\"></a></p>\n\n<p>src/content/js/app/<strong>App.js</strong>:</p>\n\n<pre><code>_registerServiceWorker() {\n    if ('serviceWorker' in navigator) {\n\n        window.addEventListener('load', function () {\n            navigator.serviceWorker.register(\"../../content/js/app/service-worker.js\", { scope: \"/\" }).then(function (registration) {\n                console.log('Service worker registration succeeded:', registration);\n            }).catch(function (error) {\n                console.log('Service worker registration failed:', error);\n            });;\n        });\n    }\n}\n</code></pre>\n\n<p>src/content/js/app/<strong>Service-Worker.js</strong>:</p>\n\n<pre><code>/*\n *  In order for Service-Worker.js and Cache Api to work Javascript \n     Debugging must be disabled! \n */\n\n /* Called when the app is being registered */\nself.addEventListener('install', e =&gt; {\n    let timeStamp = Date.now();\n    e.waitUntil(\n        caches.open(\"Intra\").then(cache =&gt; {\n            if (cache != undefined) {\n                return cache.addAll([\n                    \"/\"\n                ]);\n                cache.delete('/__webpack_hmr');\n            }\n            else {\n                throw (\"src/content/js/app/service-worker.js: you must disable javascript debugging in Debug/Options, service workers do not work with visual studio debugger.\");\n            }\n        }).then(() =&gt; self.skipWaiting())\n    );\n});\n\n/* Called after the app has been registered */\nself.addEventListener('activate', event =&gt; {\n    event.waitUntil(self.clients.claim());\n});\n\n/* Fetch API */\nself.addEventListener('fetch', event =&gt; {\n\n    //Ignore unauthorized requests\n    if (event.request.cache === 'only-if-cached' &amp;&amp; event.request.mode !== 'same-origin') return;\n\n    //Possible Problem\n    if (event.request.url.includes('__webpack_hmr')) return;\n\n    event.respondWith(\n        caches.match(event.request).then(response =&gt; {\n            return response || fetch(event.request).catch(error =&gt; {\n                console.log(error, event);\n            });;\n        })\n    );\n});\n\n/*addEventListener('message', messageEvent =&gt; {\n    if (messageEvent.data === 'skipWaiting') return skipWaiting();\n});*/ \n</code></pre>\n\n<p>src/Views/shared/<strong>_Layout.cshtml</strong>:</p>\n\n<pre><code>&lt;head&gt;\n&lt;meta charset=\"utf-8\" /&gt;\n\n&lt;link rel=\"manifest\" href=\"@Url.Content(\"~/content/pwa/manifest.json\")\" /&gt;\n&lt;meta name=\"viewport\"\n      content=\"width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0\"&gt;\n&lt;meta name=\"mobile-web-app-capable\" content=\"yes\"&gt;\n&lt;meta name=\"apple-mobile-web-app-capable\" content=\"yes\"&gt;\n&lt;meta name=\"application-name\" content=\"Intra\"&gt;\n&lt;meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black\"&gt;\n&lt;meta name=\"apple-mobile-web-app-title\" content=\"Intra\"&gt;\n&lt;link rel=\"icon\" sizes=\"144x144\" href=\"../../content/pwa/icons/favicon-144x144.png\" /&gt;\n&lt;link rel=\"apple-touch-icon\" href=\"../../content/pwa/icons/favicon-144x144.png\" /&gt;\n&lt;link rel=\"msapplication-TileImage\" href=\"../../content/pwa/icons/favicon-144x144.png\" /&gt;\n&lt;link rel=\"msapplication-TileColor\" href=\"#fff\" /&gt;\n&lt;meta name=\"theme-color\" content=\"#fff\"&gt;\n&lt;meta name=\"og:title\" content=\"Intra\"&gt;\n&lt;meta name=\"og:type\" content=\"website\"&gt;\n&lt;meta name=\"og:image\" content=\"../../content/pwa/favicon-144x144.png\"&gt;\n&lt;meta name=\"og:url\" content=\"/\"&gt;\n&lt;meta name=\"og:description\" content=\" \"&gt;\n\n&lt;title&gt;@ViewBag.Title&lt;/title&gt;\n@Html.RenderCssBundle(\"app-stripped.css\", BundleOptions.BuildConfigDependent)\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"@current.GetCustomUIUrl()\" /&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"@current.GetHomeDesignerThemesUrl()\" /&gt;\n&lt;link href=\"https://fonts.googleapis.com/css?family=Open+Sans\" rel=\"stylesheet\"&gt;\n&lt;link href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" rel=\"stylesheet\"&gt;\n\n@if (!Html.IsDebug())\n{\n    @Instrumentation.InstrumentationScript()\n}\n</code></pre>\n\n<p></p>\n\n<p><strong>Web.Config</strong>:</p>\n\n<pre><code>&lt;httpProtocol&gt;\n  &lt;customHeaders&gt;\n    &lt;remove name=\"X-Frame-Options\" /&gt;\n    &lt;remove name=\"X-XSS-Protection\" /&gt;\n    &lt;remove name=\"X-Content-Type-Options\" /&gt;\n    &lt;remove name=\"Strict-Transport-Security\" /&gt;\n    &lt;add name=\"X-Frame-Options\" value=\"SAMEORIGIN\" /&gt;\n    &lt;add name=\"X-XSS-Protection\" value=\"1; mode=block\" /&gt;\n    &lt;add name=\"X-Content-Type-Options\" value=\"nosniff\" /&gt;\n    &lt;add name=\"Strict-Transport-Security\" value=\"max-age=31536000; includeSubDomains\" /&gt;\n    &lt;add name=\"X-UA-Compatible\" value=\"IE=8; IE=9; IE=EDGE\" /&gt;\n    &lt;add name=\"Service-Worker-Allowed\" value=\"/\" /&gt;\n    &lt;add name=\"Access-Control-Allow-Origin\" value=\"/\" /&gt;\n    &lt;add name=\"Access-Control-Allow-Methods\" value=\"GET,PUT,POST,DELETE,PATCH,OPTIONS\" /&gt;\n  &lt;/customHeaders&gt;\n&lt;/httpProtocol&gt;\n</code></pre>\n\n<p><strong>Console</strong>: \n<a href=\"https://i.stack.imgur.com/irtoE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/irtoE.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have been banging my head on this the past couple of days</p>\n"}, {"tags": ["javascript", "html", "selenium", "selenium-webdriver", "phantomjs"], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 6146965, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a659a827c79ba609d05f13f1c1a94582?s=128&d=identicon&r=PG", "display_name": "hello", "link": "https://stackoverflow.com/users/6146965/hello"}, "edited": false, "score": 0, "creation_date": 1523559110, "post_id": 49787991, "comment_id": 86622432, "body": "the input ID changes every time I access the URL"}, {"owner": {"reputation": 31, "user_id": 2705416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/869cc0f2220f0bddb44e4f740ec37b1f?s=128&d=identicon&r=PG&f=1", "display_name": "aksud", "link": "https://stackoverflow.com/users/2705416/aksud"}, "reply_to_user": {"reputation": 47, "user_id": 6146965, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a659a827c79ba609d05f13f1c1a94582?s=128&d=identicon&r=PG", "display_name": "hello", "link": "https://stackoverflow.com/users/6146965/hello"}, "edited": false, "score": 0, "creation_date": 1523566087, "post_id": 49787991, "comment_id": 86626034, "body": "ah in that case maybe try using type, like this -&gt;    input[type=&quot;date&quot;]"}, {"owner": {"reputation": 47, "user_id": 6146965, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a659a827c79ba609d05f13f1c1a94582?s=128&d=identicon&r=PG", "display_name": "hello", "link": "https://stackoverflow.com/users/6146965/hello"}, "edited": false, "score": 0, "creation_date": 1523629947, "post_id": 49787991, "comment_id": 86653613, "body": "thanks i&#39;m close, it sets the value like that however I am unable to click on the element itself using that."}], "tags": [], "owner": {"reputation": 31, "user_id": 2705416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/869cc0f2220f0bddb44e4f740ec37b1f?s=128&d=identicon&r=PG&f=1", "display_name": "aksud", "link": "https://stackoverflow.com/users/2705416/aksud"}, "is_accepted": false, "score": 0, "last_activity_date": 1523507191, "creation_date": 1523507191, "answer_id": 49787991, "question_id": 49783741, "link": "https://stackoverflow.com/questions/49783741/date-entry-in-selenium-using-phantomjs/49787991#49787991", "title": "Date entry in selenium using PhantomJS", "body": "<p>Can you try using this as a selector input[id=\"fe49fe96-c81e-452e-b7ae-9a32ab4e5702\"] ? </p>\n\n<p>I was able to access the element via jQuery </p>\n"}], "owner": {"reputation": 47, "user_id": 6146965, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a659a827c79ba609d05f13f1c1a94582?s=128&d=identicon&r=PG", "display_name": "hello", "link": "https://stackoverflow.com/users/6146965/hello"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1523507191, "creation_date": 1523477522, "question_id": 49783741, "link": "https://stackoverflow.com/questions/49783741/date-entry-in-selenium-using-phantomjs", "title": "Date entry in selenium using PhantomJS", "body": "<p>I am finding it difficult to enter date into a date field box. I am using selenium with PhantomJS. </p>\n\n<p>This is what I've tried so far:</p>\n\n<pre><code>def dobInfo(driver,dob):\n    dobentry = driver.find_element_by_xpath(\"/html[1]/body[1]/div[3]/div[1]/div[3]/div[1]/div[1]/div[1]/div[1]/div[1]/div[2]/div[1]/div[1]/div[3]/div[1]/div[1]/div[1]/form[1]/div[5]/label[1]\")\n    Actions(driver).move_to_element(dobentry).wait(0.3).click().perform()\n    driver.save_screenshot(\"clickedonDOB.png\")\n\n    elem = driver.find_element_by_xpath(\"/html[1]/body[1]/div[3]/div[1]/div[3]/div[1]/div[1]/div[1]/div[1]/div[1]/div[2]/div[1]/div[1]/div[3]/div[1]/div[1]/div[1]/form[1]/div[5]/input[1]\")\n    driver.save_screenshot(\"clickedonDOB2.png\")\n    elem.send_keys(dob)\n</code></pre>\n\n<p>I have been saving screenshots, and what I can see is that the field is not being selected to show DD/MM/YYYY replacing the Date of Birth Label, when trying to click on element dobentry to then enter dob in 'dd/mm/yyyy' format. I've tried clicking on input and on label, and both do not seem to click but return no error. </p>\n\n<p>xPath\n /html[1]/body[1]/div[3]/div[1]/div[3]/div[1]/div[1]/div[1]/div[1]/div[1]/div[2]/div[1]/div[1]/div[3]/div[1]/div[1]/div[1]/form[1]/div[5]/input[1]\"</p>\n\n<p>returns:   </p>\n\n<pre><code>&lt; input id=\"b11eba51-2d36-4fd4-8f73-0bf2bbca3b12\" type=\"date\" placeholder=\"Date of Birth\" value=\"\" name=\"dateOfBirth\" data-componentname=\"dateOfBirth\" autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" data-ddlabel=\"dd\" data-mmlabel=\"mm\" data-yyyylabel=\"yyyy\" xpath=\"1\"&gt;\n</code></pre>\n\n<p>The url is <a href=\"https://www.nike.com/gb/launch/\" rel=\"nofollow noreferrer\">https://www.nike.com/gb/launch/</a> (Have to click on 'join/log' in then 'join now' to get form)</p>\n\n<p>Thanks :) </p>\n"}, {"tags": ["javascript", "debugging"], "comments": [{"owner": {"reputation": 2050, "user_id": 2618490, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d6558299760f2a5d12e198ac3ff38584?s=128&d=identicon&r=PG", "display_name": "Skwal", "link": "https://stackoverflow.com/users/2618490/skwal"}, "edited": false, "score": 0, "creation_date": 1523479077, "post_id": 49783736, "comment_id": 86583579, "body": "I&#39;d suggest the debugger in the Chrome DevTools (or equivalents). You can set breakpoints at the beginning of your javascript, and go step by step until you find the culprit. If this is triggered early, it shouldn&#39;t take too long to find."}, {"owner": {"reputation": 16122, "user_id": 1642231, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KIFfC.jpg?s=128&g=1", "display_name": "Patoshi \u30d1\u30c8\u30b7", "link": "https://stackoverflow.com/users/1642231/patoshi-%e3%83%91%e3%83%88%e3%82%b7"}, "reply_to_user": {"reputation": 2050, "user_id": 2618490, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d6558299760f2a5d12e198ac3ff38584?s=128&d=identicon&r=PG", "display_name": "Skwal", "link": "https://stackoverflow.com/users/2618490/skwal"}, "edited": false, "score": 0, "creation_date": 1523480256, "post_id": 49783736, "comment_id": 86584094, "body": "i did set a breakpoint. it didnt work."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1523480970, "post_id": 49783736, "comment_id": 86584404, "body": "Set a breakpoint in the first script, assert that the element doesn&#39;t yet have the attribute, then install a DOM change breakpoint"}, {"owner": {"reputation": 16122, "user_id": 1642231, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KIFfC.jpg?s=128&g=1", "display_name": "Patoshi \u30d1\u30c8\u30b7", "link": "https://stackoverflow.com/users/1642231/patoshi-%e3%83%91%e3%83%88%e3%82%b7"}, "edited": false, "score": 0, "creation_date": 1523505736, "post_id": 49783736, "comment_id": 86590566, "body": "where is this dom change breakpoint"}], "owner": {"reputation": 16122, "user_id": 1642231, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KIFfC.jpg?s=128&g=1", "display_name": "Patoshi \u30d1\u30c8\u30b7", "link": "https://stackoverflow.com/users/1642231/patoshi-%e3%83%91%e3%83%88%e3%82%b7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525478737, "creation_date": 1523477496, "last_edit_date": 1525478737, "question_id": 49783736, "link": "https://stackoverflow.com/questions/49783736/find-source-of-javascript-modifcation-of-an-element-in-chrome-before-page-is-ful", "title": "Find source of javascript modifcation of an element in chrome before page is fully loaded", "body": "<p>When my page is fully loaded, the body tag is set to display block, but by default its display none. How does one debug and find where in the javascript files that is making this body display block after the page is fully loaded? And no, the display block is not in the html. It's somehwere in one of the js files. I'm not sure how to look for this.</p>\n\n<p><a href=\"https://i.stack.imgur.com/eLszc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eLszc.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "redirect"], "comments": [{"owner": {"reputation": 15799, "user_id": 1195273, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/392b9a49e8a308036d37c9d07e9c7d9b?s=128&d=identicon&r=PG", "display_name": "crush", "link": "https://stackoverflow.com/users/1195273/crush"}, "edited": false, "score": 0, "creation_date": 1523477999, "post_id": 49783729, "comment_id": 86583040, "body": "This seems too arbitrary. What if the url is something like <code>http:&#47;&#47;mysub.domain.com</code>? Should that be changed into <code>https:&#47;&#47;secure.domain.com</code> or <code>https:&#47;&#47;secure.mysub.domain.com</code>? The rules here don&#39;t seem well defined on when to replace a subdomain with <code>secure</code> vs when to append <code>secure</code> to the original domain."}], "answers": [{"comments": [{"owner": {"reputation": 4443, "user_id": 1237135, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HXf7n.jpg?s=128&g=1", "display_name": "Jim W says reinstate Monica", "link": "https://stackoverflow.com/users/1237135/jim-w-says-reinstate-monica"}, "reply_to_user": {"reputation": 4977, "user_id": 4106374, "user_type": "registered", "accept_rate": 77, "profile_image": "https://graph.facebook.com/100000190092179/picture?type=large", "display_name": "David Brierton", "link": "https://stackoverflow.com/users/4106374/david-brierton"}, "edited": false, "score": 0, "creation_date": 1523477830, "post_id": 49783788, "comment_id": 86582951, "body": "Ok, I&#39;ll change the answer"}, {"owner": {"reputation": 4977, "user_id": 4106374, "user_type": "registered", "accept_rate": 77, "profile_image": "https://graph.facebook.com/100000190092179/picture?type=large", "display_name": "David Brierton", "link": "https://stackoverflow.com/users/4106374/david-brierton"}, "edited": false, "score": 0, "creation_date": 1523477851, "post_id": 49783788, "comment_id": 86582963, "body": "www.example.com/app and example.com/app needs to turn into secure.example.com/app"}, {"owner": {"reputation": 4443, "user_id": 1237135, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HXf7n.jpg?s=128&g=1", "display_name": "Jim W says reinstate Monica", "link": "https://stackoverflow.com/users/1237135/jim-w-says-reinstate-monica"}, "reply_to_user": {"reputation": 4977, "user_id": 4106374, "user_type": "registered", "accept_rate": 77, "profile_image": "https://graph.facebook.com/100000190092179/picture?type=large", "display_name": "David Brierton", "link": "https://stackoverflow.com/users/4106374/david-brierton"}, "edited": false, "score": 0, "creation_date": 1523477968, "post_id": 49783788, "comment_id": 86583024, "body": "There you go, you could have done it with a regex but this is more straightforward."}, {"owner": {"reputation": 4977, "user_id": 4106374, "user_type": "registered", "accept_rate": 77, "profile_image": "https://graph.facebook.com/100000190092179/picture?type=large", "display_name": "David Brierton", "link": "https://stackoverflow.com/users/4106374/david-brierton"}, "edited": false, "score": 0, "creation_date": 1523478641, "post_id": 49783788, "comment_id": 86583382, "body": "how would you do it with a regex? If youre bored hahaha"}, {"owner": {"reputation": 4443, "user_id": 1237135, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HXf7n.jpg?s=128&g=1", "display_name": "Jim W says reinstate Monica", "link": "https://stackoverflow.com/users/1237135/jim-w-says-reinstate-monica"}, "reply_to_user": {"reputation": 4977, "user_id": 4106374, "user_type": "registered", "accept_rate": 77, "profile_image": "https://graph.facebook.com/100000190092179/picture?type=large", "display_name": "David Brierton", "link": "https://stackoverflow.com/users/4106374/david-brierton"}, "edited": false, "score": 0, "creation_date": 1523492441, "post_id": 49783788, "comment_id": 86587739, "body": "@DavidBrierton you would use a pattern like <code>http:\\&#47;\\&#47;(www\\.){0,1}(example\\.com)</code> if it matches then you need to change to https and you use the second &#39;group&#39; in your replace like <code>https:&#47;&#47;secure.\\2</code>"}], "tags": [], "owner": {"reputation": 4443, "user_id": 1237135, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HXf7n.jpg?s=128&g=1", "display_name": "Jim W says reinstate Monica", "link": "https://stackoverflow.com/users/1237135/jim-w-says-reinstate-monica"}, "is_accepted": true, "score": 1, "last_activity_date": 1523478398, "last_edit_date": 1523478398, "creation_date": 1523477725, "answer_id": 49783788, "question_id": 49783729, "link": "https://stackoverflow.com/questions/49783729/http-redirect-to-specific-https-link/49783788#49783788", "title": "http redirect to specific https link", "body": "<pre><code>&lt;script language=\"JavaScript\"&gt;\n  var loc = window.location.href+'';\n    if (loc.indexOf('http://www.')==0){\n         window.location.href = loc.replace('http://www.','https://secure.');\n    }\n    else if (loc.indexOf('http://')==0) {\n        window.location.href = loc.replace('http://','https://secure.');\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>It was doing what you describe because you were replacing <code>http://</code> with <code>https://secure.example.com/app</code> so of course everything that was after <code>http://</code> will still be there afterwards.</p>\n"}, {"tags": [], "owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "is_accepted": false, "score": 1, "last_activity_date": 1523477851, "creation_date": 1523477851, "answer_id": 49783825, "question_id": 49783729, "link": "https://stackoverflow.com/questions/49783729/http-redirect-to-specific-https-link/49783825#49783825", "title": "http redirect to specific https link", "body": "<p>I would recommend simply replacing <code>http://</code> with <code>https://secure.</code> when there's no <code>www</code>.<br />\nTo additionally cover cases where there <strong>is</strong> a <code>www</code>, you can simply replace <code>www.</code> with nothing:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//var loc = window.location.href;\r\nvar loc = 'http://www.example.com/app';\r\nconsole.log(loc);\r\nloc = loc.replace('www.', '');\r\nloc = loc.replace('http://', 'https://secure.');\r\nconsole.log(loc);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 4977, "user_id": 4106374, "user_type": "registered", "accept_rate": 77, "profile_image": "https://graph.facebook.com/100000190092179/picture?type=large", "display_name": "David Brierton", "link": "https://stackoverflow.com/users/4106374/david-brierton"}, "edited": false, "score": 0, "creation_date": 1523477950, "post_id": 49783829, "comment_id": 86583010, "body": "but its only one page"}], "tags": [], "owner": {"reputation": 596, "user_id": 6550599, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fd4b758d7ca9e4e5f8a519af6f175e7a?s=128&d=identicon&r=PG&f=1", "display_name": "karthik006", "link": "https://stackoverflow.com/users/6550599/karthik006"}, "is_accepted": false, "score": 1, "last_activity_date": 1523478522, "last_edit_date": 1523478522, "creation_date": 1523477879, "answer_id": 49783829, "question_id": 49783729, "link": "https://stackoverflow.com/questions/49783729/http-redirect-to-specific-https-link/49783829#49783829", "title": "http redirect to specific https link", "body": "<p>Add this to your server configuration file instead of doing it in html </p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{HTTPS} off\nRewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]\n</code></pre>\n\n<p>301 REDIRECT should be the better way to do it</p>\n\n<p>for an javascript approach(es6). not the recommended way because browser redirect is not always reliable</p>\n\n<pre><code> return location.protocol != 'https:' ? location.protocol = \"https:\" \n: {do nothing logic}\n</code></pre>\n"}], "owner": {"reputation": 4977, "user_id": 4106374, "user_type": "registered", "accept_rate": 77, "profile_image": "https://graph.facebook.com/100000190092179/picture?type=large", "display_name": "David Brierton", "link": "https://stackoverflow.com/users/4106374/david-brierton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "accepted_answer_id": 49783788, "answer_count": 3, "score": 0, "last_activity_date": 1523478522, "creation_date": 1523477468, "question_id": 49783729, "link": "https://stackoverflow.com/questions/49783729/http-redirect-to-specific-https-link", "title": "http redirect to specific https link", "body": "<p>I have a webpage that I would like to redirect to a specific link if the user is coming from http://</p>\n\n<pre><code>&lt;script language=\"JavaScript\"&gt;\n  var loc = window.location.href+'';\n    if (loc.indexOf('http://')==0){\n      window.location.href = loc.replace('http://','https://secure.example.com/app');\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>If the user comes from <a href=\"http://example.com/app\" rel=\"nofollow noreferrer\">http://example.com/app</a> or any http:// I would like to redirect it to that exact link. </p>\n\n<p>When I run this JavaScript it is taking <a href=\"https://secure.example.com/app\" rel=\"nofollow noreferrer\">https://secure.example.com/app</a> and adding domain.com/app like below</p>\n\n<blockquote>\n  <p><a href=\"https://secure.example.com/appexample.com/app\" rel=\"nofollow noreferrer\">https://secure.example.com/appexample.com/app</a></p>\n</blockquote>\n\n<p>Any help with this would be greatly appreciated.</p>\n\n<p>I also tried the meta tag thing \n<code>&lt;meta http-equiv=\"refresh\" content=\"2;url=https://secure.example.com/app\" /&gt;</code></p>\n\n<p>But its just keeps refreshing and doesnt feel right with the hesitation page change.</p>\n"}, {"tags": ["javascript", "arrays", "canvas"], "comments": [{"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 1, "creation_date": 1523477633, "post_id": 49783692, "comment_id": 86582853, "body": "It doesn&#39;t work because you&#39;re <i>actually</i> creating an array of arrays that are return values of arbitrary JavaScript expression statements. Maybe if you want to save the directions like a &quot;recipe for a shape&quot;, wrap them in a function and assign them to the <code>objects</code> indices? but then it should probably be <code>functions</code>"}, {"owner": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "edited": false, "score": 1, "creation_date": 1523477645, "post_id": 49783692, "comment_id": 86582856, "body": "Well, you can\u2019t store lines of code in an array. <code>c.arc(600, 200, 50, 0, Math.PI * 2, false)</code> will execute that method, then return <code>undefined</code>. The array stores the result <code>undefined</code>."}, {"owner": {"reputation": 113, "user_id": 8558678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6d5cda11167c311093b4020ab9fdcc3?s=128&d=identicon&r=PG&f=1", "display_name": "Don199", "link": "https://stackoverflow.com/users/8558678/don199"}, "edited": false, "score": 0, "creation_date": 1523479365, "post_id": 49783692, "comment_id": 86583714, "body": "On to functions it is. Thank you."}], "answers": [{"comments": [{"owner": {"reputation": 106013, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "edited": false, "score": 0, "creation_date": 1523481217, "post_id": 49784169, "comment_id": 86584490, "body": "While this works, unfortunately it doesn&#39;t make sense as a program"}, {"owner": {"reputation": 1423, "user_id": 5026438, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OzS01.jpg?s=128&g=1", "display_name": "Chase Ingebritson", "link": "https://stackoverflow.com/users/5026438/chase-ingebritson"}, "reply_to_user": {"reputation": 106013, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "edited": false, "score": 0, "creation_date": 1523481465, "post_id": 49784169, "comment_id": 86584565, "body": "Ya, I focused more on the &quot;array of canvas objects&quot; than I did actually implementing this code so it would be production ready. +1 to your answer!"}, {"owner": {"reputation": 113, "user_id": 8558678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6d5cda11167c311093b4020ab9fdcc3?s=128&d=identicon&r=PG&f=1", "display_name": "Don199", "link": "https://stackoverflow.com/users/8558678/don199"}, "edited": false, "score": 0, "creation_date": 1523618821, "post_id": 49784169, "comment_id": 86646000, "body": "Thank you, gentlemen. I am a bit confused, though. I look at Chase&#39;s answer and it appears to be right where I want to be...An array of objects has been created. From there I was wanting to use Math.random() to randomly display an index from the array. (And eventually, have all objects displayed and left with an empty array). But, it is mentioned that this doesn&#39;t make the most sense. What I can&#39;t figure out is, as to why? Do you not have to use an array to accomplish what I am wanting to do? If I can&#39;t iterate through an array, how can each individual element be displayed at random?"}], "tags": [], "owner": {"reputation": 1423, "user_id": 5026438, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OzS01.jpg?s=128&g=1", "display_name": "Chase Ingebritson", "link": "https://stackoverflow.com/users/5026438/chase-ingebritson"}, "is_accepted": false, "score": 0, "last_activity_date": 1523479369, "creation_date": 1523479369, "answer_id": 49784169, "question_id": 49783692, "link": "https://stackoverflow.com/questions/49783692/creating-an-array-of-canvas-objects/49784169#49784169", "title": "Creating an array of canvas objects", "body": "<p>One option you have is to store each \"canvas\" in a function, which are then all stored in an array. This will end up having close to the same format that you had previously, but via a different method. <a href=\"https://stackoverflow.com/users/1541563/patrick-roberts\">@Patrick Roberts</a> mentioned a similar method in his comment.</p>\n\n<pre><code>var objects = [\n  function() { \n    var canvas = document.getElementById(\"canvas-1\");\n    var c = canvas.getContext(\"2d\");\n    c.beginPath();\n    c.lineWidth = 5;\n    c.strokeStyle = 'red';\n    c.arc(95,50,40,0,2*Math.PI);\n    c.stroke();\n  },\n  function() {\n    var canvas = document.getElementById(\"canvas-2\");\n    var c = canvas.getContext(\"2d\");\n    c.beginPath();\n    c.lineWidth = 5;\n    c.strokeStyle = 'dimgray';\n    c.arc(95,50,40,0,2*Math.PI);\n    c.stroke();\n  },\n  function() {\n    var canvas = document.getElementById(\"canvas-3\");\n    var c = canvas.getContext(\"2d\");\n    c.beginPath();\n    c.lineWidth = 5;\n    c.strokeStyle = 'purple';\n    c.arc(95,50,40,0,2*Math.PI);\n    c.stroke();\n  }\n];\n\nobjects[0]();\nobjects[2]();\nobjects[1]();\n</code></pre>\n\n<p><a href=\"https://codepen.io/ChaseIngebritson/pen/NYmqxB?editors=0010\" rel=\"nofollow noreferrer\">Here</a> is a Codepen demonstrating this implementation.</p>\n\n<p>As to why it doesn't work, <a href=\"https://stackoverflow.com/users/4642212/xufox\">@Xofox</a> explained it very well in his comment:</p>\n\n<blockquote>\n  <p>[...] you can\u2019t store lines of code in an array. c.arc(600, 200, 50, 0, Math.PI * 2, false) will execute that method, then return undefined. The array stores the result undefined.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 106013, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "is_accepted": true, "score": 3, "last_activity_date": 1523481996, "last_edit_date": 1523481996, "creation_date": 1523480165, "answer_id": 49784330, "question_id": 49783692, "link": "https://stackoverflow.com/questions/49783692/creating-an-array-of-canvas-objects/49784330#49784330", "title": "Creating an array of canvas objects", "body": "<p>You should make a function <code>drawCircle</code> which takes a <code>canvas</code> and a <code>color</code> as arguments</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const drawCircle = (canvas, color = \"red\") =&gt;\r\n{\r\n  canvas.beginPath ()\r\n  canvas.lineWidth = 5\r\n  canvas.strokeStyle = color\r\n  canvas.arc (95, 50, 40, 0, 2 * Math.PI)\r\n  canvas.stroke ()\r\n}\r\n\r\nconst getCanvas = (id) =&gt;\r\n  document.getElementById(id).getContext(\"2d\")\r\n\r\ndrawCircle (getCanvas('canvas-1')) // default \"red\"\r\ndrawCircle (getCanvas('canvas-2'), 'dimgray')\r\ndrawCircle (getCanvas('canvas-3'), 'purple')</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id=\"canvas-1\"&gt;&lt;/canvas&gt;\r\n&lt;canvas id=\"canvas-2\"&gt;&lt;/canvas&gt;\r\n&lt;canvas id=\"canvas-3\"&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>We could add additional parameters for <em>position</em>, <em>radius</em>, and <em>line width</em>, but then how would we know which order to pass them in? A better option would be to pass a descriptor object with default values. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const drawCircle = (canvas, descriptor = {}) =&gt;\r\n{\r\n  const { x = 95\r\n        , y = 50\r\n        , radius = 40\r\n        , lineWidth = 5\r\n        , color = \"red\"\r\n        } = descriptor\r\n\r\n  canvas.beginPath ()\r\n  canvas.lineWidth = lineWidth\r\n  canvas.strokeStyle = color\r\n  canvas.arc (x, y, radius, 0, 2 * Math.PI)\r\n  canvas.stroke ()\r\n}\r\n\r\nconst getCanvas = (id) =&gt;\r\n  document.getElementById(id).getContext(\"2d\")\r\n\r\ndrawCircle (getCanvas('canvas-1')) // default styles\r\ndrawCircle (getCanvas('canvas-2'), { color: 'dimgray' })\r\ndrawCircle (getCanvas('canvas-3'), { color: 'purple', radius: 10 })</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id=\"canvas-1\"&gt;&lt;/canvas&gt;\r\n&lt;canvas id=\"canvas-2\"&gt;&lt;/canvas&gt;\r\n&lt;canvas id=\"canvas-3\"&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Above, we use a named parameter <code>descriptor</code> but we could also could've inlined it. Because the descriptor contains so many properties, the readability suffers a bit and makes the previous version of our function a little nicer.</p>\n\n<pre><code>const drawCircle = (canvas, { x=95, y=50, radius=40, lineWidth=5, color=\"red\" } = {}) =&gt; {\n  canvas.beginPath ()\n  canvas.lineWidth = lineWidth\n  canvas.strokeStyle = color\n  canvas.arc (x, y, radius, 0, 2 * Math.PI)\n  canvas.stroke ()\n}\n</code></pre>\n\n<p>Now, using <code>drawCircle</code> you could create presets, like</p>\n\n<pre><code>const FatPurpleCircle = canvas =&gt;\n  drawCircle (canvas, { color: \"purple\", lineWidth: 10 })\n\nconst SmallBlueCircle = canvas =&gt;\n  drawCircle (canvas, { color: \"blue\", radius: 5 })\n</code></pre>\n\n<p>And you could have an array of these presets called <code>circles</code>. Given a function <code>sample</code> that returns a random element of an array, we can select a random circle function, and use it to draw its contents on a supplied canvas</p>\n\n<pre><code>const circles =\n  [ FatPurpleCircle, SmallBlueCircle, ... ]\n\nconst sample = (arr = []) =&gt; {\n  const size = arr.length\n  const rand = Math.floor (Math.random () * size)\n  return arr[rand]\n}\n\nconst drawRandomCircle =\n  sample (circles)\n\ndrawRandomCircle (getCanvas('canvas-1'))\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 8558678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6d5cda11167c311093b4020ab9fdcc3?s=128&d=identicon&r=PG&f=1", "display_name": "Don199", "link": "https://stackoverflow.com/users/8558678/don199"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2108, "favorite_count": 0, "accepted_answer_id": 49784330, "answer_count": 2, "score": 2, "last_activity_date": 1523481996, "creation_date": 1523477347, "question_id": 49783692, "link": "https://stackoverflow.com/questions/49783692/creating-an-array-of-canvas-objects", "title": "Creating an array of canvas objects", "body": "<p>I have read that you can make an array of <em>anything.</em> In my efforts to go forth in my studies of javaScript/canvas, I set out to create an array of shapes. The idea is to have an array of three circles. Math.floor will be used to grab one element/circle and display it on the canvas. I put together code that, well, makes sense to me... I've created an array, I have filled the array, I am grabbing a random element from the array... I have not yet reached the point of having to display it on the canvas, because not matter my approach, all three circles are always on the canvas. It would be so cool to grasp this concept. Can you tell me why this code doesn't work? Thank you in advance. </p>\n\n<pre><code> &lt;script&gt;\n        var canvas = document.getElementById(\"canvas\");\n        var c = canvas.getContext(\"2d\");\n\n        var objects = [];\n        objects[0] = \n            [c.beginPath(),\n            c.lineWidth = 5,\n            c.strokeStyle = 'red',\n            c.arc(200, 200, 50, 0, Math.PI * 2, false),\n            c.stroke()];\n\n        objects[1] = \n            [c.beginPath(),\n            c.lineWidth = 5,\n            c.strokeStyle = 'dimgray',\n            c.arc(600, 200, 50, 0, Math.PI * 2, false),\n            c.stroke()];\n\n        objects[2] = \n            [c.beginPath(),\n            c.lineWidth = 5,\n            c.strokeStyle = 'purple',\n            c.arc(1000, 200, 50, 0, Math.PI * 2, false),\n            c.stroke()];\n\n        for (var i = 0; i &lt; objects.length; i++) {\n            objects[i] = Math.floor(Math.random() * 3);}    \n\n&lt;/script&gt;\n</code></pre>\n"}]