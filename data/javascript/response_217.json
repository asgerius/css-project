[{"tags": ["javascript", "leaflet", "maps", "mapbox", "geojson"], "answers": [{"tags": [], "owner": {"reputation": 228, "user_id": 3055263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be850aa043c7b952ac0d8b653493630c?s=128&d=identicon&r=PG&f=1", "display_name": "gkelly", "link": "https://stackoverflow.com/users/3055263/gkelly"}, "is_accepted": false, "score": 1, "last_activity_date": 1551918024, "last_edit_date": 1551918024, "creation_date": 1551917687, "answer_id": 55034177, "question_id": 55034032, "link": "https://stackoverflow.com/questions/55034032/create-a-polygon-around-each-point-in-geojson-from-geojson/55034177#55034177", "title": "Create a polygon around each point in geojson from geojson", "body": "<p>Here are some things to consider:</p>\n\n<ul>\n<li><p>creating polygon from a point is simple enough.  For example you use the <strong>point</strong> as the center of a regular polygon and devide 2PI by the number of sides and step through the points to create the polygon.  But, what is the radius?  That depends on the projection you are using.  I happen to use <a href=\"https://openlayers.org/\" rel=\"nofollow noreferrer\">OpenLayers</a> and really like this map control.  It's default projection it EPSG:3857.  So, the coordinates are already in <strong>meters</strong> - so easy.  But if your points are in long/lat then you have to do some math.  it may be easier to transform to a different projection temporarily.  An opensource library that is really nice for gis calculations if you need one is <a href=\"http://turfjs.org/\" rel=\"nofollow noreferrer\">Turf</a>.</p></li>\n<li><p>You mentioned also about having non-overlapping polygons?  Well, in this case you will have a lot of gaps if you use regular polygons.  To have non-overlapping polygons with, as you put it <strong>no distance between them</strong> is an interesting constraint.  Now you are dealing with different shaped polygons.  And an algorithm for handling that is pretty intense.  I know that MapInfo GIS has a feature for adjusting polygons to be non-overlapping.  But, in a JavaScript environment with GeoJSON, you are probably talking about server side logic for this.</p></li>\n<li><p>That map you are looking at looks like it is using <a href=\"https://leafletjs.com/\" rel=\"nofollow noreferrer\">Leaflet</a> with <a href=\"https://github.com/teralytics/Leaflet.D3SvgOverlay\" rel=\"nofollow noreferrer\">svg overlays</a>.</p></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 11162631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55001f5fcecbc615041705b4d1a1aff6?s=128&d=identicon&r=PG&f=1", "display_name": "sdoedos", "link": "https://stackoverflow.com/users/11162631/sdoedos"}, "edited": false, "score": 0, "creation_date": 1551920759, "post_id": 55034262, "comment_id": 96821468, "body": "thank you for the answer, i&#39;m trying it out as we speak. I will give you notice in a few hours"}, {"owner": {"reputation": 43, "user_id": 11162631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55001f5fcecbc615041705b4d1a1aff6?s=128&d=identicon&r=PG&f=1", "display_name": "sdoedos", "link": "https://stackoverflow.com/users/11162631/sdoedos"}, "edited": false, "score": 0, "creation_date": 1551926422, "post_id": 55034262, "comment_id": 96822741, "body": "I keep getting an error &quot; turf.voronoi is not a function     at Object&quot;   do you have any idea what I&#39;m doing wrong?<a href=\"https://jsfiddle.net/jw3vx4eg/1/\" rel=\"nofollow noreferrer\">jsfiddle.net/jw3vx4eg/1</a> Kind regards"}, {"owner": {"reputation": 69, "user_id": 874877, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9c726c7bbd7a27a38e853abc85e9105b?s=128&d=identicon&r=PG", "display_name": "adkalkan", "link": "https://stackoverflow.com/users/874877/adkalkan"}, "edited": false, "score": 0, "creation_date": 1584031531, "post_id": 55034262, "comment_id": 107318472, "body": "thanks so much for your detailed answer. Turf documentation lacks that kind of explanations. For example that note was all money in the world: <i>Voronoi tessellation created over a regular grid of points will result in a regular grid of polygons.</i>"}], "tags": [], "owner": {"reputation": 15533, "user_id": 4768502, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5bf027c5077bbd2dfd829313d2a3f738?s=128&d=identicon&r=PG", "display_name": "IvanSanchez", "link": "https://stackoverflow.com/users/4768502/ivansanchez"}, "is_accepted": true, "score": 4, "last_activity_date": 1551918826, "last_edit_date": 1551918826, "creation_date": 1551918431, "answer_id": 55034262, "question_id": 55034032, "link": "https://stackoverflow.com/questions/55034032/create-a-polygon-around-each-point-in-geojson-from-geojson/55034262#55034262", "title": "Create a polygon around each point in geojson from geojson", "body": "<blockquote>\n  <p>I want to create polygons around each [point] and make sure there is no distance between them.</p>\n</blockquote>\n\n<p>What you're describing here is a <a href=\"https://en.wikipedia.org/wiki/Tessellation\" rel=\"noreferrer\">tessellation</a>. Depending on your data, you might opt for a regular tessellation (i.e. creating a grid of squares or hexagons, paying a modicum of attention to the units of your coordinate system) or the well-known-among-GIS-people <a href=\"https://en.wikipedia.org/wiki/Voronoi_diagram\" rel=\"noreferrer\">Voronoi tessellation</a>. Note that a Voronoi tessellation created over a regular grid of points will result in a regular grid of polygons.</p>\n\n<p>There are plenty of tools for Voronoi tessellations. For javascript and GeoJSON, my tool of choice would be <a href=\"http://turfjs.org/docs/#voronoi\" rel=\"noreferrer\">turf.js's voronoi module</a>.</p>\n"}], "owner": {"reputation": 43, "user_id": 11162631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55001f5fcecbc615041705b4d1a1aff6?s=128&d=identicon&r=PG&f=1", "display_name": "sdoedos", "link": "https://stackoverflow.com/users/11162631/sdoedos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 796, "favorite_count": 0, "accepted_answer_id": 55034262, "answer_count": 2, "score": 2, "last_activity_date": 1554719040, "creation_date": 1551916611, "last_edit_date": 1554719040, "question_id": 55034032, "link": "https://stackoverflow.com/questions/55034032/create-a-polygon-around-each-point-in-geojson-from-geojson", "title": "Create a polygon around each point in geojson from geojson", "body": "<p>Creating a map similar to the one found here:\n<a href=\"https://www.plantmaps.com/interactive-california-2012-usda-plant-zone-hardiness-map.php\" rel=\"nofollow noreferrer\">https://www.plantmaps.com/interactive-california-2012-usda-plant-zone-hardiness-map.php</a></p>\n\n<p>Have all the data needed.\nCreate polygons around each one without distance inbetween. No overlapping or similar.</p>\n\n<p>Drawing it all by hand on geojson.io, seems impossible.</p>\n"}, {"tags": ["javascript", "node.js", "npm", "gulp"], "answers": [{"tags": [], "owner": {"reputation": 603, "user_id": 2951257, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/02d13badfd6c4f66173613ebd2338722?s=128&d=identicon&r=PG&f=1", "display_name": "usernameabc", "link": "https://stackoverflow.com/users/2951257/usernameabc"}, "is_accepted": true, "score": 0, "last_activity_date": 1551981763, "last_edit_date": 1551981763, "creation_date": 1551921981, "answer_id": 55034670, "question_id": 55033904, "link": "https://stackoverflow.com/questions/55033904/forward-reference-tasks-not-defined-before-use/55034670#55034670", "title": "Forward reference tasks not defined before use", "body": "<p>To resolve the issue, I had to do the following. </p>\n\n<ul>\n<li>Use the <a href=\"https://www.npmjs.com/package/require-dir\" rel=\"nofollow noreferrer\">require-dir</a> package to include all files within the <code>./tasks/</code> directory.</li>\n<li>convert tasks that were designed for <code>gulp@3.9.1</code> into functions for <code>gulp@4</code></li>\n<li>use <code>gulp.series</code> to set the functions to run in the particular order we needed</li>\n</ul>\n\n<p><strong>gulpfile.js</strong></p>\n\n<pre><code>'use strict';\n\nvar gulp = require('gulp'),\n    requireDir = require('require-dir');\nrequireDir('./tasks/');    \n\nvar watchers = function(done) {\n  gulp.watch('src/*.js', gulp.parallel('clean-minify-js'));\n  done();\n}\n\ngulp.task('watch', gulp.series(watchers));\n</code></pre>\n\n<p><strong>./tasks/scripts.js</strong></p>\n\n<pre><code>'use strict';\n\nvar gulp = require('gulp'),\n    clean = require('gulp-clean'),\n    uglify = require('gulp-uglify');\n\nfunction cleanScripts() {\n  return gulp.src(dest.js)\n             .pipe(clean({read:false, force: true});\n}\n\nfunction minJs() {\n  return gulp.src(src.js)\n       .pipe(uglify())\n       .pipe(gulp.dest(dest.js));\n}\n\ngulp.task('clean-minify-js', gulp.series(cleanScripts, minJs));\n</code></pre>\n"}], "owner": {"reputation": 603, "user_id": 2951257, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/02d13badfd6c4f66173613ebd2338722?s=128&d=identicon&r=PG&f=1", "display_name": "usernameabc", "link": "https://stackoverflow.com/users/2951257/usernameabc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 746, "favorite_count": 0, "accepted_answer_id": 55034670, "answer_count": 1, "score": 1, "last_activity_date": 1551981763, "creation_date": 1551915615, "question_id": 55033904, "link": "https://stackoverflow.com/questions/55033904/forward-reference-tasks-not-defined-before-use", "title": "Forward reference tasks not defined before use", "body": "<p>I am using multiple files with <code>gulp@4</code> where the main <code>gulpfile.js</code> includes all other files within the <code>./tasks/</code> directory. We are using the <a href=\"https://www.npmjs.com/package/gulp-hub\" rel=\"nofollow noreferrer\">npm gulp-hub</a> package to include multiple <code>gulpfiles</code> with the <code>./tasks/</code> directory. However we are getting the following error message when calling the <code>tasks</code>. </p>\n\n<blockquote>\n  <p>Forward referenced tasks 'clean-minify-js` not defined before use</p>\n</blockquote>\n\n<p><strong>How can we include multiple <code>gulpfiles</code> within the main <code>gulpfile.js</code> so that we can call <code>tasks</code>?</strong></p>\n\n<p>Current <code>gulpfile.js</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>'use strict';\r\n\r\nvar gulp = require('gulp'),\r\n    HubRegistry = require('gulp-hub');\r\n    \r\nvar genericHub = new HubRegistry('./tasks/scripts.js');\r\ngulp.registry(genericHub);\r\n\r\nvar watchers = function(done) {\r\n  gulp.watch('src/*.js', gulp.parallel('clean-minify-js'));\r\n  done();\r\n}\r\n\r\ngulp.task('watch', gulp.series(watchers));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Current <code>./tasks/scripts.js</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>'use strict';\r\n\r\nvar gulp = require('gulp'),\r\n    clean = require('gulp-clean'),\r\n    uglify = require('gulp-uglify');\r\n    \r\ngulp.task('clean-scripts', function() {\r\n  return gulp.src(dest.js)\r\n             .pipe(clean({read:false, force: true});\r\n});\r\n\r\ngulp.task('minify-js', gulp.series('clean-scripts', function() {\r\n   gulp.src(src.js)\r\n       .pipe(uglify())\r\n       .pipe(gulp.dest(dest.js));\r\n}));\r\n\r\ngulp.task('clean-minify-js', gulp.series('minify-js'));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Folder structure:</p>\n\n<ul>\n<li><code>some/path/gulpfile.js</code></li>\n<li><code>some/path/tasks/scripts.js</code></li>\n</ul>\n"}, {"tags": ["javascript", "html", "regex", "validation"], "comments": [{"owner": {"reputation": 11660, "user_id": 2055998, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2Vx3A.jpg?s=128&g=1", "display_name": "PM 77-1", "link": "https://stackoverflow.com/users/2055998/pm-77-1"}, "edited": false, "score": 0, "creation_date": 1551916085, "post_id": 55033881, "comment_id": 96820397, "body": "So in your RegEx you need to match 1 or more digits followed by an optional decimal symbol and 5?"}], "answers": [{"tags": [], "owner": {"reputation": 1406, "user_id": 516531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/biv15.png?s=128&g=1", "display_name": "musicinmyhead", "link": "https://stackoverflow.com/users/516531/musicinmyhead"}, "is_accepted": false, "score": 0, "last_activity_date": 1551916897, "creation_date": 1551916897, "answer_id": 55034071, "question_id": 55033881, "link": "https://stackoverflow.com/questions/55033881/numeric-input-field-javascript-custom-validation/55034071#55034071", "title": "Numeric input field JavaScript custom validation", "body": "<p>Sounds like you could benefit from using a \"number\" input type and just specifying the min, max, and step properties instead of using a RegEx for validity. For example:</p>\n\n<pre><code>&lt;input type=\"number\" name=\"myNumber\" id=\"myNumber\" min=\"0\" max=\"24\" step=\"0.5\"&gt;\n</code></pre>\n\n<p>Then you can just check the validity with the standard methods available:</p>\n\n<pre><code>let myNumberInput = document.getElementById(\"myNumber\");\nlet myNumberIsValid = myNumberInput.checkValidity();\n</code></pre>\n\n<p>The MDN web docs also has some useful information on their <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Constraint_validation\" rel=\"nofollow noreferrer\">Constraint validation API</a> page.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 0, "last_activity_date": 1551919958, "creation_date": 1551919958, "answer_id": 55034438, "question_id": 55033881, "link": "https://stackoverflow.com/questions/55033881/numeric-input-field-javascript-custom-validation/55034438#55034438", "title": "Numeric input field JavaScript custom validation", "body": "<p>This regex covers all cases:  </p>\n\n<pre><code>/^(?:(?:\\d|1\\d|2[0-3])(?:\\.[05])?|24(?:\\.0)?)$/\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/KZeVKa/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/KZeVKa/1</a></p>\n\n<p>Expanded:  </p>\n\n<pre><code> ^                    # BOS\n (?:\n      (?:                  #    0 - 23.5\n           \\d \n        |  1 \\d \n        |  2 [0-3] \n      )\n      (?: \\. [05] )?\n   |                     # or,\n      24                   #    24.0\n      (?: \\. 0 )?\n )\n $                    # EOS\n</code></pre>\n"}], "owner": {"reputation": 9698, "user_id": 534218, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/05708634a76195e829ce6dd077e45039?s=128&d=identicon&r=PG", "display_name": "Safari", "link": "https://stackoverflow.com/users/534218/safari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551926477, "creation_date": 1551915433, "last_edit_date": 1551926477, "question_id": 55033881, "link": "https://stackoverflow.com/questions/55033881/numeric-input-field-javascript-custom-validation", "title": "Numeric input field JavaScript custom validation", "body": "<p>I have an input numeric field where I registered all changed events:</p>\n\n<ul>\n<li><em>onchange</em></li>\n<li><em>onkeydown</em></li>\n<li><em>onkeyup</em></li>\n<li><em>onmousedown</em></li>\n<li><em>onmouseup</em></li>\n</ul>\n\n<p>I need to permit inserting only numeric values with these rules:</p>\n\n<ul>\n<li>Values between 0 and 24</li>\n<li>It is  possible to have decimal values.</li>\n<li>Decimal value must be have only 1 decimal digit.</li>\n<li>Decimal section must be a multiple of 0.5.</li>\n</ul>\n\n<p>I need to immediately replace the old value if the current value is invalid.</p>\n\n<p>So I have to accept, for example, values like these:</p>\n\n<ul>\n<li>0</li>\n<li>0.5</li>\n<li>12</li>\n<li>23.5</li>\n<li>24</li>\n</ul>\n\n<p>I can't accept values like these:</p>\n\n<ul>\n<li>Hello</li>\n<li>-0,</li>\n<li>-1</li>\n<li>.</li>\n<li>,,</li>\n<li>.5</li>\n<li>25</li>\n<li>--2</li>\n<li>...</li>\n<li>e</li>\n</ul>\n\n<p>I tried to use this code, but it does not cover all cases:</p>\n\n<pre><code>function customValidation(value) {\n    return /^\\d*[.,]?]*[5]{0,1}$/.test(value) &amp;&amp; (value === \"\" || (parseFloat(value) &lt;= 24 &amp;&amp; parseFloat(value) &gt;= 0));\n}\n\nfunction eventListner(el) {\n    if (customValidation(el.value)) {\n        el.oldValue = el.value;\n    } else if (el.hasOwnProperty(\"oldValue\")) {\n        el.value = el.oldValue;\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "regex"], "comments": [{"owner": {"reputation": 1989, "user_id": 878906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fe27d918fc8b4704b57e79db6bd75e2e?s=128&d=identicon&r=PG", "display_name": "Doug Coburn", "link": "https://stackoverflow.com/users/878906/doug-coburn"}, "edited": false, "score": 2, "creation_date": 1551915402, "post_id": 55033849, "comment_id": 96820249, "body": "I&#39;ll upvote just because I am curious to see the answer.  I think it actually belongs in a codegolf challange: <a href=\"https://codegolf.stackexchange.com/\">codegolf.stackexchange.com</a>"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "reply_to_user": {"reputation": 1989, "user_id": 878906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fe27d918fc8b4704b57e79db6bd75e2e?s=128&d=identicon&r=PG", "display_name": "Doug Coburn", "link": "https://stackoverflow.com/users/878906/doug-coburn"}, "edited": false, "score": 0, "creation_date": 1551915479, "post_id": 55033849, "comment_id": 96820268, "body": "@DougCoburn How could this possibly be a code golf? I don&#39;t see any kind of rationale behind such comment"}, {"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 0, "creation_date": 1551915561, "post_id": 55033849, "comment_id": 96820284, "body": "Have you tried just using <code>Date.Parse</code>?  If it succeeds, it&#39;s valid, if not, no."}, {"owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "reply_to_user": {"reputation": 1989, "user_id": 878906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fe27d918fc8b4704b57e79db6bd75e2e?s=128&d=identicon&r=PG", "display_name": "Doug Coburn", "link": "https://stackoverflow.com/users/878906/doug-coburn"}, "edited": false, "score": 1, "creation_date": 1551915563, "post_id": 55033849, "comment_id": 96820285, "body": "@DougCoburn - That&#39;s what the star is for; it marks it as a favourite so you can find the question easily later on."}, {"owner": {"reputation": 1989, "user_id": 878906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fe27d918fc8b4704b57e79db6bd75e2e?s=128&d=identicon&r=PG", "display_name": "Doug Coburn", "link": "https://stackoverflow.com/users/878906/doug-coburn"}, "reply_to_user": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 1, "creation_date": 1551915717, "post_id": 55033849, "comment_id": 96820309, "body": "Because using regex to validate MM/DD/YYY but only if it really is a valid date seems more like a puzzle than the best practical approach.  I agree with @Flydog57 use Date.Parse or a library to validate the date, not regex."}, {"owner": {"reputation": 1989, "user_id": 878906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fe27d918fc8b4704b57e79db6bd75e2e?s=128&d=identicon&r=PG", "display_name": "Doug Coburn", "link": "https://stackoverflow.com/users/878906/doug-coburn"}, "edited": false, "score": 1, "creation_date": 1551915878, "post_id": 55033849, "comment_id": 96820342, "body": "ha!  There actually already is one (similar) on codegolf: <a href=\"https://codegolf.stackexchange.com/questions/54555/validate-iso-8601-by-rx\" title=\"validate iso 8601 by rx\">codegolf.stackexchange.com/questions/54555/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1551921063, "post_id": 55033849, "comment_id": 96821541, "body": "This is all the Leap Years between 0000 - 9999 <code>(?:[0-9](?:[0-9](?:0[48]|[13579][26]|[2468][048]))|(?:(?:[02&zwnj;&#8203;468][048]|[13579][26&zwnj;&#8203;])00))</code> Given a span of years, a program spits out leap years for that range. This should get you started on that <i>February</i> thing."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1551922380, "post_id": 55033849, "comment_id": 96821819, "body": "You should not try to make separate regex for each circumstances. Make a single regex <code>MM&#47;DD&#47;YYYY</code> that is valid for all the dates. This would cover all Feb 1-28&#39;s. Then, just add an alternation at the end for <code>Feb 29</code> that is just for the Leap Years. Like I said, there is free software that can generate leap years for a given range of years. Or, just tell me the range of years, and I&#39;ll post the leap year regex for you. Note that to be consistent, you have to use the same range of years for every thing (example 1600-2999)."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1551922539, "post_id": 55033849, "comment_id": 96821865, "body": "Leap Year Regex for 1600-2999: <code>(?:1(?:[6-9](?:0[48]|[13579][26]|[2468][048]))|2(?:[0-9](?:0&zwnj;&#8203;[48]|[13579][26]|[24&zwnj;&#8203;68][048]))|(?:(?:16|&zwnj;&#8203;2[048])00))</code>"}, {"owner": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "edited": false, "score": 0, "creation_date": 1551932463, "post_id": 55033849, "comment_id": 96824062, "body": "Take more care in spelling <i>JavaScript</i>. <a href=\"http://javascriptisnotjava.com\" rel=\"nofollow noreferrer\">javascriptisnotjava.com</a>"}], "owner": {"reputation": 9, "user_id": 10610861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d4f712dd2b37c6a66a2140a0a7b27fd?s=128&d=identicon&r=PG&f=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/10610861/developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1551932419, "creation_date": 1551915200, "last_edit_date": 1551932419, "question_id": 55033849, "link": "https://stackoverflow.com/questions/55033849/javascript-date-field-validation", "title": "JavaScript Date field validation", "body": "<p>I'm using below Regex to validate date fields. I need to validate <code>MM/DD/YYYY</code> and also need to validate leap year. In all cases the below Regex is working fine except that when I enter <code>YY</code>, If I give <code>MM/DD/YY</code> it takes it as valid date and saving in DB as 4 digits of year as 0000. If I enter <code>MM/DD/Y</code> it is  returns the validation message just as if I enter <code>MM/DD/YYY</code>. It only <code>MM/DD/YY</code> case it fails. Can someone help me on this how to validate not enter 2 digits for year?</p>\n\n<pre><code>Dt_RegEx = /^(?:(?:(?:0?[13578]|1[02])(\\/|-|\\.)31)\\1|(?:(?:0?[1,3-9]|1[0-2])(\\/|-|\\.)(?:29|30)\\2))(?:(?:1[6-9]|[2-9]\\d)?\\d{2})$|^(?:0?2(\\/|-|\\.)29\\3(?:(?:(?:1[6-9]|[2-9]\\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:(?:0?[1-9])|(?:1[0-2]))(\\/|-|\\.)(?:0?[1-9]|1\\d|2[0-8])\\4(?:(?:1[6-9]|[2-9]\\d)?\\d{2})$/;\n</code></pre>\n"}, {"tags": ["javascript", "html", "dom", "autocomplete"], "comments": [{"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1551915191, "post_id": 55033836, "comment_id": 96820201, "body": "<code>the value of the DOM Node is not getting set</code> Wait, is the value being changed via Javascript, or not? Title implies it is, but that line there implies that it&#39;s not?"}, {"owner": {"reputation": 2908, "user_id": 1220243, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/A8tm4.jpg?s=128&g=1", "display_name": "zero_cool", "link": "https://stackoverflow.com/users/1220243/zero-cool"}, "reply_to_user": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1551915265, "post_id": 55033836, "comment_id": 96820221, "body": "Make no mistake - the value of the input does change - I believe via Google - but the value attribute does not update unless an event is fired. For example, if onBlur or onClick is fired - the value attribute updates but when the results are changed via google autoComplete - it does not."}, {"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1551915341, "post_id": 55033836, "comment_id": 96820239, "body": "The value <i>attribute</i> shouldn&#39;t change, though the value <i>property</i> should. How are you determining that it doesn&#39;t update, are you just listening for an event and not seeing one that triggers the listener? A live snippet (or a link) that illustrates the behavior would probably clear things up significantly"}, {"owner": {"reputation": 2908, "user_id": 1220243, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/A8tm4.jpg?s=128&g=1", "display_name": "zero_cool", "link": "https://stackoverflow.com/users/1220243/zero-cool"}, "reply_to_user": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1551915465, "post_id": 55033836, "comment_id": 96820265, "body": "Potato? Potawto? What do you mean by property? The DOM Node of the input has a value attribute. When I&#39;m watching the DOM using the browser inspector the value does not change unless an event is fired."}], "answers": [{"comments": [{"owner": {"reputation": 2908, "user_id": 1220243, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/A8tm4.jpg?s=128&g=1", "display_name": "zero_cool", "link": "https://stackoverflow.com/users/1220243/zero-cool"}, "edited": false, "score": 0, "creation_date": 1551916080, "post_id": 55033939, "comment_id": 96820396, "body": "this looks promising. I will give this a shot :)"}, {"owner": {"reputation": 2908, "user_id": 1220243, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/A8tm4.jpg?s=128&g=1", "display_name": "zero_cool", "link": "https://stackoverflow.com/users/1220243/zero-cool"}, "edited": false, "score": 0, "creation_date": 1552423591, "post_id": 55033939, "comment_id": 97002345, "body": "Unfortunately, it did not :/"}, {"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "reply_to_user": {"reputation": 2908, "user_id": 1220243, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/A8tm4.jpg?s=128&g=1", "display_name": "zero_cool", "link": "https://stackoverflow.com/users/1220243/zero-cool"}, "edited": false, "score": 0, "creation_date": 1552423736, "post_id": 55033939, "comment_id": 97002415, "body": "Can you post the code you&#39;re using so there&#39;s a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to debug? As you can see from the live snippets (just press &quot;Run code snippet&quot;), the Javascript-initiated changes to the <code>.value</code> of the inputs look to be intercepted and observed as desired."}], "tags": [], "owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": false, "score": 4, "last_activity_date": 1551915872, "creation_date": 1551915872, "answer_id": 55033939, "question_id": 55033836, "link": "https://stackoverflow.com/questions/55033836/how-do-you-listen-detect-changes-to-an-input-value-when-the-input-value-is-c/55033939#55033939", "title": "How do you listen / detect changes to an input value - when the input value is changed via javascript?", "body": "<p>The <code>.value</code> <em>attribute</em> will only change if the script-writer has called <code>setAttribute('value'</code> to set the new value, which is quite an odd thing to do. In almost all situations, I would expect the value to be set by assigning to the <code>value</code> property directly, eg:</p>\n\n<pre><code>input.value = 'foo';\n</code></pre>\n\n<p>Calling <code>setAttribute</code> will indeed show a change in the inspected DOM <em>attribute</em>, eg:</p>\n\n<pre><code>&lt;input value=\"somevalue\"&gt;\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const input = document.querySelector('input');\r\ninput.setAttribute('value', 'foo');\r\nconsole.log(input.outerHTML);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>But just assigning to the <code>.value</code> <em>property</em> of the element will not result in such a change:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const input = document.querySelector('input');\r\ninput.value = 'foo';\r\nconsole.log(input.outerHTML);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Assigning to the <code>.value</code> actually invokes a <em>setter function</em> on <code>HTMLInputElement.prototype</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>console.log(HTMLInputElement.prototype.hasOwnProperty('value'));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You can <em>shadow</em> this by putting a getter/setter for <code>value</code> directly on the element itself, with the setter invoking your own function, allowing you to listen for changes:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const { get, set } = Object.getOwnPropertyDescriptor(HTMLInputElement.prototype, 'value');\r\nconst input = document.querySelector('input');\r\nObject.defineProperty(input, 'value', {\r\n  get() {\r\n    return get.call(this);\r\n  },\r\n  set(newVal) {\r\n    console.log('New value assigned to input: ' + newVal);\r\n    return set.call(this, newVal);\r\n  }\r\n});\r\n\r\n\r\n// example of autocomplete trying to change the input value:\r\ninput.value = 'foo';</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1747, "user_id": 7176485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VqTtv.jpg?s=128&g=1", "display_name": "Alexandros", "link": "https://stackoverflow.com/users/7176485/alexandros"}, "is_accepted": false, "score": 2, "last_activity_date": 1594400594, "creation_date": 1594400594, "answer_id": 62839103, "question_id": 55033836, "link": "https://stackoverflow.com/questions/55033836/how-do-you-listen-detect-changes-to-an-input-value-when-the-input-value-is-c/62839103#62839103", "title": "How do you listen / detect changes to an input value - when the input value is changed via javascript?", "body": "<p>Consider creating and triggering input events</p>\n<pre><code>var event = new Event('input', {\n    bubbles: true,\n    cancelable: true,\n});\n</code></pre>\n<p>then</p>\n<pre><code>myelement.dispatchEvent(event);\n</code></pre>\n<p><strong><a href=\"https://stackoverflow.com/questions/35659430/how-do-i-programmatically-trigger-an-input-event-without-jquery\">more info</a></strong></p>\n"}], "owner": {"reputation": 2908, "user_id": 1220243, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/A8tm4.jpg?s=128&g=1", "display_name": "zero_cool", "link": "https://stackoverflow.com/users/1220243/zero-cool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1321, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1594400594, "creation_date": 1551915123, "question_id": 55033836, "link": "https://stackoverflow.com/questions/55033836/how-do-you-listen-detect-changes-to-an-input-value-when-the-input-value-is-c", "title": "How do you listen / detect changes to an input value - when the input value is changed via javascript?", "body": "<p>I've got an <code>input</code> with <code>google autoComplete</code> connected. </p>\n\n<p>When the user moves up and down through the <code>seachResults</code>the value of the input is changed dynamically via JavaScript.</p>\n\n<p>I'd like to capture the value that is in the input at any given time. </p>\n\n<p>I've tried <code>onChange</code> and <code>onInput</code> but since no event is getting fired, and the <code>value</code> of the <code>DOM Node</code> is not getting set - there are no updates. </p>\n\n<p><strong>How do you detect changes to the <code>input</code> that are dynamically updated via <code>JavaScript</code></strong>?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1551915224, "post_id": 55033819, "comment_id": 96820211, "body": "Your first <code>forEach</code> loop won&#39;t work correctly. Use <code>arr.filter</code> instead."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1551915255, "post_id": 55033819, "comment_id": 96820218, "body": "Or just ignore spaces in the second <code>forEach</code> loop."}, {"owner": {"reputation": 11660, "user_id": 2055998, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2Vx3A.jpg?s=128&g=1", "display_name": "PM 77-1", "link": "https://stackoverflow.com/users/2055998/pm-77-1"}, "edited": false, "score": 0, "creation_date": 1551915451, "post_id": 55033819, "comment_id": 96820261, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/31611680/count-appearance-of-each-character\">Count appearance of each character</a>"}], "answers": [{"comments": [{"owner": {"reputation": 163228, "user_id": 383904, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/qCWYU.jpg?s=128&g=1", "display_name": "Roko C. Buljan", "link": "https://stackoverflow.com/users/383904/roko-c-buljan"}, "edited": false, "score": 0, "creation_date": 1551919624, "post_id": 55033897, "comment_id": 96821243, "body": "instead of looping twice (<code>filter</code> and than <code>forEach</code>) just to remove whitespaces, a simple <code>delete obj[&#39; &#39;]</code> would do the job"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 163228, "user_id": 383904, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/qCWYU.jpg?s=128&g=1", "display_name": "Roko C. Buljan", "link": "https://stackoverflow.com/users/383904/roko-c-buljan"}, "edited": false, "score": 0, "creation_date": 1551919665, "post_id": 55033897, "comment_id": 96821251, "body": "Yeah, or just <code>if (e != &quot; &quot;)</code> in the second loop. Lots of ways to skin the cat."}, {"owner": {"reputation": 163228, "user_id": 383904, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/qCWYU.jpg?s=128&g=1", "display_name": "Roko C. Buljan", "link": "https://stackoverflow.com/users/383904/roko-c-buljan"}, "edited": false, "score": 0, "creation_date": 1551920433, "post_id": 55033897, "comment_id": 96821403, "body": "Also, I know <code>e</code> represents a single character - not present in an Object prototype, but it&#39;s too easy for a beginner to remember this tricky <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/in\" rel=\"nofollow noreferrer\"><code>in</code> operator</a> and get used to it, and one day stumble upon <code>&quot;valueOf&quot; in {} === true</code>. It&#39;s longer but definitely good to know <code>Object.prototype.hasOwnProperty.call(obj, &quot;prop&quot;)</code>"}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 3, "last_activity_date": 1551919694, "last_edit_date": 1551919694, "creation_date": 1551915534, "answer_id": 55033897, "question_id": 55033819, "link": "https://stackoverflow.com/questions/55033819/set-values-to-dinamically-created-object-using-a-loop/55033897#55033897", "title": "Set values to dinamically created object using a loop", "body": "<p>You need to increment the counter for each letter, not just set it to <code>1</code>.</p>\n\n<p>There's no need for the <code>for</code> loop at the end, or the <code>counter</code> variable. <code>obj</code> contains the counts that you want.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var str =\r\n  \"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Illo commodi sint fuga autem nobis atque possimus\";\r\n\r\nvar arr = str.split(\"\");\r\n\r\narr = arr.filter(e =&gt; e != \" \");\r\n\r\nvar obj = {};\r\n\r\narr.forEach(function(e) {\r\n  if (e in obj) {\r\n    obj[e]++;\r\n  } else {\r\n    obj[e] = 1;\r\n  }\r\n  // Could also be obj[e] = (obj[e] || 0) + 1\r\n});\r\n\r\nconsole.log(obj);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 163228, "user_id": 383904, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/qCWYU.jpg?s=128&g=1", "display_name": "Roko C. Buljan", "link": "https://stackoverflow.com/users/383904/roko-c-buljan"}, "edited": false, "score": 0, "creation_date": 1551955955, "post_id": 55033974, "comment_id": 96834835, "body": "You can use <code>\\W</code> instead of <code>[^\\w]</code>... but why use <code>W</code> at all, it&#39;s the same as <code>[^a-zA-Z0-9_]</code> which in this multilingual UTF-8 world is something you should avoid even suggesting, unless you&#39;re not regexing phrases but some strict properties or data names."}, {"owner": {"reputation": 6624, "user_id": 4896493, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/197888927236621/picture?type=large", "display_name": "Sergey Mell", "link": "https://stackoverflow.com/users/4896493/sergey-mell"}, "reply_to_user": {"reputation": 163228, "user_id": 383904, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/qCWYU.jpg?s=128&g=1", "display_name": "Roko C. Buljan", "link": "https://stackoverflow.com/users/383904/roko-c-buljan"}, "edited": false, "score": 0, "creation_date": 1551958455, "post_id": 55033974, "comment_id": 96836359, "body": "Thank you for the recommendation, I appreciate"}], "tags": [], "owner": {"reputation": 6624, "user_id": 4896493, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/197888927236621/picture?type=large", "display_name": "Sergey Mell", "link": "https://stackoverflow.com/users/4896493/sergey-mell"}, "is_accepted": false, "score": 0, "last_activity_date": 1551917564, "last_edit_date": 1551917564, "creation_date": 1551916110, "answer_id": 55033974, "question_id": 55033819, "link": "https://stackoverflow.com/questions/55033819/set-values-to-dinamically-created-object-using-a-loop/55033974#55033974", "title": "Set values to dinamically created object using a loop", "body": "<p>As a fan of regex I'd propose a more short solution:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const str = 'Lorem, ipsum dolor sit amet consectetur adipisicing elit. Illo commodi sint fuga autem nobis atque possimus';\r\n\r\nconst result = {};\r\n\r\nArray.prototype.forEach.call(str.replace(/[^\\w]/g, ''), letter =&gt; {\r\n    if (letter in result) return;\r\n    result[letter] = str.match(new RegExp(letter, 'g')).length;\r\n});\r\n\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You can change regex <code>i</code> flag in order to turn on/off case sensitivity.</p>\n"}, {"tags": [], "owner": {"reputation": 163228, "user_id": 383904, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/qCWYU.jpg?s=128&g=1", "display_name": "Roko C. Buljan", "link": "https://stackoverflow.com/users/383904/roko-c-buljan"}, "is_accepted": false, "score": 0, "last_activity_date": 1551919577, "last_edit_date": 1551919577, "creation_date": 1551916752, "answer_id": 55034049, "question_id": 55033819, "link": "https://stackoverflow.com/questions/55033819/set-values-to-dinamically-created-object-using-a-loop/55034049#55034049", "title": "Set values to dinamically created object using a loop", "body": "<p>Using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from\" rel=\"nofollow noreferrer\">Array.from() <sup><sub><em>MDN</em></sub></sup></a> and  <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\" rel=\"nofollow noreferrer\">Array.prototype.reduce <sup><sub><em>MDN</em></sub></sup></a> :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const str = \"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Illo commodi sint fuga autem nobis atque possimus\";\r\n\r\nconst obj = Array.from(str).reduce((ob, c) =&gt; {\r\n  ob[c] = ++ob[c] || 1;\r\n  return ob;\r\n}, {});\r\n\r\ndelete obj[' ']; // If needed remove data for whitespaces\r\nconsole.log( obj )</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<ul>\n<li><em>Array.from(String)</em> will convert a String to Array.  </li>\n<li>No need to remove whitespaces, you can do that later using Object <code>delete</code>  </li>\n<li><code>reduce</code> will iterate over the array \"reducing\" it to an Object <code>{}</code></li>\n<li>The inner logic <code>ob[c] = ++ob[c] || 1;</code> just instantiates the property with the value <code>1</code>, otherwise it increments it. </li>\n</ul>\n"}], "owner": {"reputation": 321, "user_id": 10881538, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154707946888915/picture?type=large", "display_name": "Julio Rodr&#237;guez", "link": "https://stackoverflow.com/users/10881538/julio-rodr%c3%adguez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 55033897, "answer_count": 3, "score": 0, "last_activity_date": 1551956065, "creation_date": 1551914963, "last_edit_date": 1551956065, "question_id": 55033819, "link": "https://stackoverflow.com/questions/55033819/set-values-to-dinamically-created-object-using-a-loop", "title": "Set values to dinamically created object using a loop", "body": "<p>I created an array from letters of a large string. Now I want to create an object which says how many times that letter is repeated in the array, but I can`t find a solution, please help me out a little.</p>\n\n<p>This is what I done so far: </p>\n\n<pre><code>var str = \"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Illo commodi sint fuga autem nobis atque possimus\";\nvar arr = str.split(\"\");\n\narr.forEach(function(e, i) {\n  if (e === \" \") {\n    //var index = arr.indexOf(e);\n    arr.splice(i, 1);\n  }\n});\n\nvar obj = {};\nvar counter = 0;\n\narr.forEach(function(e, i) {\n  obj[e] = 1;\n});\n\narr2 = Object.keys(obj);\nvar counter = 0;\n\nfor (let c = 0; c &lt; arr.length; c++) {\n  for (let b = 0; b &lt; arr2.length; b++) {\n    if (arr2[b] == arr[c]) { // to find coincidences\n      count++;\n      // I'm lost here ..\n    }\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "typescript"], "comments": [{"owner": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 0, "creation_date": 1551916074, "post_id": 55033707, "comment_id": 96820394, "body": "It would be worth your while to review this post: <a href=\"https://stackoverflow.com/questions/103598/why-was-the-arguments-callee-caller-property-deprecated-in-javascript\" title=\"why was the arguments callee caller property deprecated in javascript\">stackoverflow.com/questions/103598/&hellip;</a>"}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "reply_to_user": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 0, "creation_date": 1551916436, "post_id": 55033707, "comment_id": 96820489, "body": "Already did ..."}, {"owner": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 0, "creation_date": 1551916631, "post_id": 55033707, "comment_id": 96820541, "body": "well, you already answered your own question; remove strict mode."}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "reply_to_user": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 0, "creation_date": 1551916903, "post_id": 55033707, "comment_id": 96820608, "body": "As I noted in the question, strict mode is removed."}, {"owner": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 0, "creation_date": 1551916995, "post_id": 55033707, "comment_id": 96820632, "body": "try this: <a href=\"https://stackoverflow.com/questions/38269478/prevent-use-strict-in-typescript\" title=\"prevent use strict in typescript\">stackoverflow.com/questions/38269478/&hellip;</a>"}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "reply_to_user": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 1, "creation_date": 1551918077, "post_id": 55033707, "comment_id": 96820902, "body": "Bullseye!!  Nice - Thanks!  My eye brow was starting to twitch over this one.  Please answer the question and I&#39;ll check it off."}], "answers": [{"tags": [], "owner": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "is_accepted": true, "score": 2, "last_activity_date": 1551918434, "last_edit_date": 1551918434, "creation_date": 1551918304, "answer_id": 55034252, "question_id": 55033707, "link": "https://stackoverflow.com/questions/55033707/accessing-callee-on-typescript-strict-mode-functions/55034252#55034252", "title": "Accessing callee on Typescript strict mode functions?", "body": "<p>In addition to <code>\"strict\": false</code> also add <code>\"noImplicitUseStrict\": true</code>.</p>\n\n<p>TypeScript will add strict mode in on it's own, and this needs to be disabled. </p>\n\n<p>How to do this has been answered already here: <a href=\"https://stackoverflow.com/questions/38269478/prevent-use-strict-in-typescript\">prevent-use-strict-in-typescript</a></p>\n\n<blockquote>\n  <p>You can do that by compiling with the --noImplicitUseStrict compiler option\u2014add \"noImplicitUseStrict\": true to \"compilerOptions\" in tsconfig.json. Doing so will prevent the compiler from emitting \"use strict\".</p>\n</blockquote>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1243, "favorite_count": 0, "closed_date": 1552003402, "accepted_answer_id": 55034252, "answer_count": 1, "score": 0, "last_activity_date": 1551918434, "creation_date": 1551914209, "last_edit_date": 1551916938, "question_id": 55033707, "link": "https://stackoverflow.com/questions/55033707/accessing-callee-on-typescript-strict-mode-functions", "closed_reason": "Duplicate", "title": "Accessing callee on Typescript strict mode functions?", "body": "<p>I'm adding functions to <a href=\"https://www.npmjs.com/package/@fireflysemantics/is\" rel=\"nofollow noreferrer\">this library</a> that access<code>arugments.callee</code>.  Within the project's <code>tsconfig.json</code> I set <code>\"strict\": false</code>, causing this mini test to work:</p>\n\n<pre><code>    function check() {\n        console.log(arguments.callee.name);\n    }\n</code></pre>\n\n<p>That works.  Now if I import the part of the library that I want to run tests on like this:</p>\n\n<pre><code>    import {isNumberInRange} from './is';\n\n    function check() {\n        console.log(arguments.callee.name);\n    //    isNumberInRange(1,0,1);\n    }\n    check();\n</code></pre>\n\n<p>Even if I don't actually run the <code>isNumberInRange</code> function typescript still logs this:</p>\n\n<blockquote>\n  <p>TypeError: 'caller', 'callee', and 'arguments' properties may not be accessed on strict mode functions or the arguments objects for calls to them\n      at check (/home/ole/Github/is/src/test.ts:4:27)</p>\n</blockquote>\n\n<p>What else do I need to do to enable calling <code>arguments.callee.name</code>?</p>\n"}, {"tags": ["javascript", "google-chrome", "browser", "electron"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1551914514, "post_id": 55033691, "comment_id": 96820004, "body": "Use multiple BrowserViews, and show/hide them."}, {"owner": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1551914843, "post_id": 55033691, "comment_id": 96820099, "body": "@ChrisG: Electron 4 can&#39;t have multiple BrowserViews AFAIK, it requires Electron 5 (still beta), is that right?"}, {"owner": {"reputation": 3611, "user_id": 2742189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa2038e19735e13bf3e2be52a12eea8c?s=128&d=identicon&r=PG&f=1", "display_name": "OJ Kwon", "link": "https://stackoverflow.com/users/2742189/oj-kwon"}, "edited": false, "score": 0, "creation_date": 1551918624, "post_id": 55033691, "comment_id": 96821001, "body": "you can have multiple instance of browserview, only can&#39;t display them at once, You can attach / detach desired instance when you need to display specific one."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1551972382, "post_id": 55033691, "comment_id": 96844889, "body": "@Basj I haven&#39;t tested it, but I imagine something like this: <code>var bw1 = new BrowserView(...); var bw2 = new BrowserView(...);</code> Then <code>browserWindow.setBrowserView(bw1);</code> to show the first, and <code>browserWindow.setBrowserView(bw2);</code> to show the second?"}], "answers": [{"tags": [], "owner": {"reputation": 833, "user_id": 11102884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ec32ca5283f5d3d78b9618413b63144?s=128&d=identicon&r=PG&f=1", "display_name": "Atchutha rama reddy Karri", "link": "https://stackoverflow.com/users/11102884/atchutha-rama-reddy-karri"}, "is_accepted": false, "score": 0, "last_activity_date": 1552001861, "last_edit_date": 1552001861, "creation_date": 1551935840, "answer_id": 55036554, "question_id": 55033691, "link": "https://stackoverflow.com/questions/55033691/how-to-switch-website-for-a-browserview-without-waiting-for-page-reload/55036554#55036554", "title": "How to switch website for a BrowserView without waiting for page reload?", "body": "<p>Try this for button click:   </p>\n\n<pre><code> onClick(){\n        const shell = require('electron').shell;\n        event.preventDefault();\n        shell.openExternal('https://www.twitter.com');\n      }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "edited": false, "score": 1, "creation_date": 1552048969, "post_id": 55062272, "comment_id": 96874849, "body": "Thank you very much @ChrisG! Here is a linked question (how to have the different <code>BrowserView</code>s &quot;isolated&quot; in terms of cookies/accounts connected), in case you have an idea: <a href=\"https://stackoverflow.com/q/55061908\">stackoverflow.com/q/55061908</a>"}], "tags": [], "owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "is_accepted": true, "score": 1, "last_activity_date": 1552044363, "creation_date": 1552044363, "answer_id": 55062272, "question_id": 55033691, "link": "https://stackoverflow.com/questions/55033691/how-to-switch-website-for-a-browserview-without-waiting-for-page-reload/55062272#55062272", "title": "How to switch website for a BrowserView without waiting for page reload?", "body": "<p>The solution is to have multiple BrowserViews and switch between them. That way each will remember its history.</p>\n\n<pre><code>var browserViews = [];\nvar activeBW;\n\nfunction addAndSwitchToTab() {\n  activeBW = browserViews.length;\n  browserViews[activeBW] = new BrowserView();\n  browserWindow.setBrowserView(activeBW);\n}\n</code></pre>\n\n<p>Start with the first one:</p>\n\n<pre><code>addAndSwitchToTab();\n</code></pre>\n\n<p>When the user opens a new tab, just call the function again.</p>\n"}], "owner": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 443, "favorite_count": 1, "accepted_answer_id": 55062272, "answer_count": 2, "score": 1, "last_activity_date": 1552044363, "creation_date": 1551914100, "last_edit_date": 1551914416, "question_id": 55033691, "link": "https://stackoverflow.com/questions/55033691/how-to-switch-website-for-a-browserview-without-waiting-for-page-reload", "title": "How to switch website for a BrowserView without waiting for page reload?", "body": "<p>Let's say I have a <code>BrowserView</code> inside a <code>BrowserWindow</code>:</p>\n\n<pre><code>browserWindow = new BrowserWindow({ width: 1200, height: 600 });\nbrowserWindow.webContents.loadURL('file://' + __dirname + '/top_toolbar.html');\n\nlet browserView1 = new BrowserView({ webPreferences: { nodeIntegration: false }});\nbrowserWindow.setBrowserView(browserView1);\nbrowserView1.setBounds({ x: 0, y: 50, width: 600, height: 600 }); // y=50 to keep top toolbar\nbrowserView1.webContents.loadURL('https://www.twitter.com');\n</code></pre>\n\n<p>When I click on a UI button (another \"tab\", like in a browser), I'd like to change the URL to another website (such as <a href=\"https://www.gmail.com\" rel=\"nofollow noreferrer\">https://www.gmail.com</a>).</p>\n\n<p>When I'll click back to the first \"tab\", I'd like that the <code>BrowserView</code> recovers the previous website (Twitter) and all its browsing history. Obviously, using:</p>\n\n<pre><code>browserView1.webContents.loadURL('https://www.twitter.com');\n</code></pre>\n\n<p>again wouldn't be a good solution because there would be a page loading waiting time.</p>\n\n<p>Instead I'd like to restore the previous state of the <code>BrowserView</code> <strong>instantly</strong> (i.e. &lt; 50 ms), exactly like when you click on a tab in a browser like Chrome or Firefox: if the website in the tab has already been loaded before, clicking on the tab just re-displays it.</p>\n\n<p><strong>Question: how to store and then restore instantly a <code>BrowserView</code> state?</strong> i.e. without requiring to reload the page?</p>\n\n<p><a href=\"https://i.stack.imgur.com/IbWzL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IbWzL.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "ios", "swift", "multithreading", "wkwebview"], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 4790171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db0856c0e7e912a69f879eb605d3f294?s=128&d=identicon&r=PG&f=1", "display_name": "Donadon", "link": "https://stackoverflow.com/users/4790171/donadon"}, "edited": false, "score": 0, "creation_date": 1551917076, "post_id": 55033722, "comment_id": 96820651, "body": "I did what you said @xius but still giving the same error. It says I can not modify the UI on another thread"}, {"owner": {"reputation": 589, "user_id": 600649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4507f9ad71c37e80c27d092f1a1574b4?s=128&d=identicon&r=PG", "display_name": "xius", "link": "https://stackoverflow.com/users/600649/xius"}, "reply_to_user": {"reputation": 101, "user_id": 4790171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db0856c0e7e912a69f879eb605d3f294?s=128&d=identicon&r=PG&f=1", "display_name": "Donadon", "link": "https://stackoverflow.com/users/4790171/donadon"}, "edited": false, "score": 0, "creation_date": 1551951953, "post_id": 55033722, "comment_id": 96832208, "body": "Not sure whether you did it correctly. self.getData is asynchronous, so putting evaluateJavascript outside of it would not work."}, {"owner": {"reputation": 589, "user_id": 600649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4507f9ad71c37e80c27d092f1a1574b4?s=128&d=identicon&r=PG", "display_name": "xius", "link": "https://stackoverflow.com/users/600649/xius"}, "reply_to_user": {"reputation": 101, "user_id": 4790171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db0856c0e7e912a69f879eb605d3f294?s=128&d=identicon&r=PG&f=1", "display_name": "Donadon", "link": "https://stackoverflow.com/users/4790171/donadon"}, "edited": false, "score": 1, "creation_date": 1551952005, "post_id": 55033722, "comment_id": 96832246, "body": "To clarify: you did wrap the evaluateJavascript in the main.async as it is in the original implementation. There is no error about the UI on background thread, yet nothing is happening?"}, {"owner": {"reputation": 101, "user_id": 4790171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db0856c0e7e912a69f879eb605d3f294?s=128&d=identicon&r=PG&f=1", "display_name": "Donadon", "link": "https://stackoverflow.com/users/4790171/donadon"}, "edited": false, "score": 0, "creation_date": 1552055911, "post_id": 55033722, "comment_id": 96878547, "body": "Hey @xius In the original implementation (before the edit) it gives the error that I mentioned. It says that it can not make change in the UI in background, but in the main thread. After the edit I removed the evaluateJavascript from getData and put after self.getData. He gives no error but nothing happens!"}, {"owner": {"reputation": 589, "user_id": 600649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4507f9ad71c37e80c27d092f1a1574b4?s=128&d=identicon&r=PG", "display_name": "xius", "link": "https://stackoverflow.com/users/600649/xius"}, "reply_to_user": {"reputation": 101, "user_id": 4790171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db0856c0e7e912a69f879eb605d3f294?s=128&d=identicon&r=PG&f=1", "display_name": "Donadon", "link": "https://stackoverflow.com/users/4790171/donadon"}, "edited": false, "score": 0, "creation_date": 1552067036, "post_id": 55033722, "comment_id": 96884224, "body": "@Donadon At that time you don&#39;t have textJson ready, that might be an issue. See my updated answer."}, {"owner": {"reputation": 589, "user_id": 600649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4507f9ad71c37e80c27d092f1a1574b4?s=128&d=identicon&r=PG", "display_name": "xius", "link": "https://stackoverflow.com/users/600649/xius"}, "reply_to_user": {"reputation": 101, "user_id": 4790171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db0856c0e7e912a69f879eb605d3f294?s=128&d=identicon&r=PG&f=1", "display_name": "Donadon", "link": "https://stackoverflow.com/users/4790171/donadon"}, "edited": false, "score": 1, "creation_date": 1552081903, "post_id": 55033722, "comment_id": 96890586, "body": "@Donadon Yes. It&#39;s happening after textJson is retrieved. Does it work?"}], "tags": [], "owner": {"reputation": 589, "user_id": 600649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4507f9ad71c37e80c27d092f1a1574b4?s=128&d=identicon&r=PG", "display_name": "xius", "link": "https://stackoverflow.com/users/600649/xius"}, "is_accepted": true, "score": 2, "last_activity_date": 1552066991, "last_edit_date": 1552066991, "creation_date": 1551914315, "answer_id": 55033722, "question_id": 55033652, "link": "https://stackoverflow.com/questions/55033652/update-wkwebview-content-by-swift-failed-in-background-thread/55033722#55033722", "title": "Update WKWebView content by Swift failed in background thread", "body": "<p><code>URLSession.shared.dataTask</code> completion block does not run on the main thread. Just call <code>evaluateJavaScript</code> on the main thread to fix it:</p>\n\n<pre><code>func getData( id: Int ) {\n    let url = URL( string: \"http://192.168.1.11/inter/app/api/varModel/event.php?categ=\" + String(id) )\n\n    _ = URLSession.shared.dataTask(with: url!) { (data, req, error) in\n        if req != nil {  }\n\n        if let data = data {\n            do {\n                let json = try JSONSerialization.jsonObject(with: data, options: []) as! [[String: Any]]\n\n                var textJson = json...\n                print( text )\n\n                DispatchQueue.main.async { // call evaluateJavascript on the main thread\n                    self.wk.evaluateJavaScript(\"mountCateg( '\\(textJson)' );\", completionHandler: nil)\n                }\n            } catch {\n                print( erro as Any )\n            }\n        }\n    }.resume()\n}\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 4790171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db0856c0e7e912a69f879eb605d3f294?s=128&d=identicon&r=PG&f=1", "display_name": "Donadon", "link": "https://stackoverflow.com/users/4790171/donadon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1007, "favorite_count": 1, "accepted_answer_id": 55033722, "answer_count": 1, "score": 1, "last_activity_date": 1552066991, "creation_date": 1551913892, "last_edit_date": 1551920555, "question_id": 55033652, "link": "https://stackoverflow.com/questions/55033652/update-wkwebview-content-by-swift-failed-in-background-thread", "title": "Update WKWebView content by Swift failed in background thread", "body": "<p>I want to do the following:</p>\n\n<ul>\n<li>I click on a div element in WKWebView and send message to swift. - <strong><em>OK</em></strong></li>\n<li>Swift does the processing by http request to receive a json. - <strong><em>OK</em></strong></li>\n<li>Swift sends this json to javascript or swift changes the WKWebView DOM - <strong><em>FAILED</em></strong></li>\n</ul>\n\n<p>My javascript function for send a message to Swift:</p>\n\n<pre><code>function clicar( id, categ ) {\n    window.webkit.messageHandlers.jsHandler.postMessage( \"{ 'id' : \"+id+\", 'categ' : '\" + categ + \"' }\" );\n}\n</code></pre>\n\n<p>My Swift receive message and process http request: </p>\n\n<pre><code>extension FirstViewController: WKScriptMessageHandler {\n    func userContentController(_ userContentController: WKUserContentController, didReceive message: WKScriptMessage) {\n        if message.name == \"jsHandler\" {\n             if let messageBody = message.body as? [String: Any], let id = messageBody[\"id\"] as? Int {\n                 self.getData( id )\n             }\n        }\n}\n\nfunc getData( id: Int ) {\n    let url = URL( string: \"http://192.168.1.11/inter/app/api/varModel/event.php?categ=\" + String(id) )\n\n\n    _ = URLSession.shared.dataTask(with: url!) { (data, req, error) in\n        if req != nil {  }\n\n        if let data = data {\n            do {\n                let json = try JSONSerialization.jsonObject(with: data, options: []) as! [[String: Any]]\n\n                var textJson = json...\n                print( text )\n                // until here OK\n\n                // FAILED HERE\n                self.wk.evaluateJavaScript(\"mountCateg( '\\(textJson)' );\", completionHandler: nil)\n                } catch {\n                print( erro as Any )\n            }\n        }\n    }.resume()\n}  \n</code></pre>\n\n<p>Javascript manipulate DOM:</p>\n\n<pre><code>function mountCateg( data ) {\n    let text = \"\";\n    for ( let i = 0; i &lt; data.length; i++ ) {\n        text += \"&lt;div class='itemCateg' i='\"+data[i].id+\"' o='\"+data[i].idOrganizer+\"'&gt;\";\n        text +=     \"&lt;img class='imgEvento' src='http://192.168.1.11/inter/site/imgEvents/\"+data[i].imagem+\"'&gt;\";\n        text +=     \"&lt;p class='diaEvento'&gt;\"+data[i].dataHora+\"&lt;/p&gt;\";\n        text +=     \"&lt;p class='nomeEvento'&gt;\"+data[i].nome+\"&lt;/p&gt;\";\n        text +=     \"&lt;p class='localEvento'&gt;\"+data[i].cidade+\"/\"+data[i].uf+\"&lt;/p&gt;\";\n        text += \"&lt;/div&gt;\";\n    }\n\n    $('#listaEventos').html( text );\n}\n</code></pre>\n\n<p>It give me this error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/m7nSR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m7nSR.png\" alt=\"enter image description here\"></a></p>\n\n<p>How do I process DOM change by swift?</p>\n\n<p><strong><em>----- EDIT -----</em></strong></p>\n\n<p>I tried but the error persists.</p>\n\n<pre><code>DispatchQueue.main.async {\n    self.wk.evaluateJavaScript(\"mountCateg( '\\(textJson)' );\", completionHandler: nil)\n}\n</code></pre>\n\n<p>I tried too:</p>\n\n<pre><code>extension FirstViewController: WKScriptMessageHandler {\n    func userContentController(_ userContentController: WKUserContentController, didReceive message: WKScriptMessage) {\n        if message.name == \"jsHandler\" {\n             if let messageBody = message.body as? [String: Any], let id = messageBody[\"id\"] as? Int {\n                 self.getData( id )\n                 DispatchQueue.main.async {\n                     self.wk.evaluateJavaScript(\"mountCateg( '\\(textJson)' );\", completionHandler: nil)\n             }\n        }\n}\n</code></pre>\n\n<p>There was no error, but nothing happened either! Did not work</p>\n"}, {"tags": ["javascript", "dom", "addeventlistener", "event-listener"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1551914095, "post_id": 55033647, "comment_id": 96819872, "body": "An image without a <code>src</code> and without dimensions is 0x0 pixels. You can&#39;t click it. Edit: it works if you set dimensions, for instance with CSS: <a href=\"https://jsfiddle.net/khrismuc/opusy19b/\" rel=\"nofollow noreferrer\">jsfiddle.net/khrismuc/opusy19b</a>"}, {"owner": {"reputation": 79, "user_id": 10959670, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ld3AwPBqqr4/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNIwuD8xwJI1-HmoSnercbi-IcroQ/mo/photo.jpg?sz=128", "display_name": "Ben Muller", "link": "https://stackoverflow.com/users/10959670/ben-muller"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1551914174, "post_id": 55033647, "comment_id": 96819901, "body": "no, the browser does not lock up. This is all the code I have, so it must be enough!"}, {"owner": {"reputation": 79, "user_id": 10959670, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ld3AwPBqqr4/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNIwuD8xwJI1-HmoSnercbi-IcroQ/mo/photo.jpg?sz=128", "display_name": "Ben Muller", "link": "https://stackoverflow.com/users/10959670/ben-muller"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1551914563, "post_id": 55033647, "comment_id": 96820018, "body": "thanks @ChrisG, that was the solution!"}], "owner": {"reputation": 79, "user_id": 10959670, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ld3AwPBqqr4/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNIwuD8xwJI1-HmoSnercbi-IcroQ/mo/photo.jpg?sz=128", "display_name": "Ben Muller", "link": "https://stackoverflow.com/users/10959670/ben-muller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551913864, "creation_date": 1551913864, "question_id": 55033647, "link": "https://stackoverflow.com/questions/55033647/set-an-image-in-the-dom-and-change-it", "title": "Set an image in the DOM and change it", "body": "<p>this is probably really simple, but I just can not get it to work.</p>\n\n<p>I am trying to make a Tic Tac Toe game with html, Javascript and CSS.</p>\n\n<p>my js is connected to my html just fine, I am attmepting to add some event listeners on my board so that when a player clicks the square they are clicking goes from blank to a cross.</p>\n\n<p>I have a cross image saved at \"images/cross.png\"</p>\n\n<p>the html of my table looks like this:</p>\n\n<pre><code>  &lt;table&gt;\n      &lt;tr&gt;\n        &lt;td id=\"1\"&gt;&lt;/td&gt;\n        &lt;td id=\"2\"&gt;&lt;/td&gt;\n        &lt;td id=\"3\"&gt;&lt;/td&gt;\n      &lt;/tr&gt;\n      &lt;tr&gt;\n        &lt;td id=\"4\"&gt;&lt;/td&gt;\n        &lt;td id=\"5\"&gt;&lt;/td&gt;\n        &lt;td id=\"6\"&gt;&lt;/td&gt;\n      &lt;/tr&gt;\n      &lt;tr&gt;\n        &lt;td id=\"7\"&gt;&lt;/td&gt;\n        &lt;td id=\"8\"&gt;&lt;/td&gt;\n        &lt;td id=\"9\"&gt;&lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/table&gt;\n</code></pre>\n\n<p>My logic is as follows:</p>\n\n<ul>\n<li>run a for loop and create an empty image element in each td element of the board:</li>\n<li>add an event listener to each td element also</li>\n<li>When this td element is clicked set the src of the image to the image located at images/cross.png</li>\n</ul>\n\n<p>here is the code to start the board:</p>\n\n<pre><code>for (let x = 1; x &lt;= 9; x++){\n    let cross = document.createElement(\"img\");\n    cross.addEventListener(\"click\", click);\n    document.getElementById(x).appendChild(cross);\n  }\n};\n</code></pre>\n\n<p>and then my event listener function is:</p>\n\n<pre><code>function click() {\n  console.log(\"this is working\")\n  this.setAttribute(\"src\",\"images/cross.png\")\n};\n</code></pre>\n\n<p>and I obviously run my initial function to initialize the js:</p>\n\n<pre><code>testMarker();\n</code></pre>\n\n<p>my board is unresponsive after this.</p>\n"}, {"tags": ["javascript", "node.js", "cryptography", "hmacsha1"], "comments": [{"owner": {"reputation": 5736, "user_id": 283181, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/8cda855dadc64aa1e2a984c0ddd1f381?s=128&d=identicon&r=PG", "display_name": "Pierre", "link": "https://stackoverflow.com/users/283181/pierre"}, "edited": false, "score": 0, "creation_date": 1551931645, "post_id": 55033643, "comment_id": 96823911, "body": "Could you provide a simple XML example, with the expected result?"}], "answers": [{"tags": [], "owner": {"reputation": 262, "user_id": 5065447, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/10155678902350364/picture?type=large", "display_name": "Anton Rand", "link": "https://stackoverflow.com/users/5065447/anton-rand"}, "is_accepted": true, "score": 0, "last_activity_date": 1551997300, "creation_date": 1551997300, "answer_id": 55053741, "question_id": 55033643, "link": "https://stackoverflow.com/questions/55033643/node-hmacsha1-seed/55053741#55053741", "title": "Node HmacSHA1 Seed", "body": "<p>I managed to get there in the end, there's an NPM module called <code>psha1</code> (<a href=\"https://www.npmjs.com/package/psha1\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/psha1</a>).</p>\n\n<p>Using that library I created the following a generateSignature module which looks as follows:</p>\n\n<pre><code>const crypto = require('crypto');\nconst psha1 = require('psha1');\n\nexport const generateSignatureValue = ({\n  clientSecret,\n  serverSecret,\n  messageToSign,\n}) =&gt; {\n\n  const secretKey =\n    psha1(clientSecret, serverSecret, 256);\n\n  const hash =\n    crypto\n      .createHmac('sha1', Buffer.from(secretKey, 'base64'))\n      .update(messageToSign)\n      .digest('binary');\n\n  return Buffer\n    .from(hash, 'binary')\n    .toString('base64');\n};\n\nexport default generateSignatureValue;\n</code></pre>\n\n<p>This gives me the desired output :)</p>\n"}], "owner": {"reputation": 262, "user_id": 5065447, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/10155678902350364/picture?type=large", "display_name": "Anton Rand", "link": "https://stackoverflow.com/users/5065447/anton-rand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "accepted_answer_id": 55053741, "answer_count": 1, "score": 0, "last_activity_date": 1551997300, "creation_date": 1551913860, "question_id": 55033643, "link": "https://stackoverflow.com/questions/55033643/node-hmacsha1-seed", "title": "Node HmacSHA1 Seed", "body": "<p>I'm trying to send a SOAP request via Node, talking to a service which is secured with WSS.</p>\n\n<p>I need to sign the XML response with a <code>SignedInfo</code> element which requires me combining a Nonce Binary secret I generated, with a Nonce binary secret returned from the initial token request - PSHA1 format.</p>\n\n<p>I've been able to validate this using Java, by utilising the following class (Where the secret is my client nonce and the seed is the server nonce):</p>\n\n<p><a href=\"https://github.com/apache/wss4j/blob/trunk/ws-security-common/src/main/java/org/apache/wss4j/common/derivedKey/P_SHA1.java#L57\" rel=\"nofollow noreferrer\">https://github.com/apache/wss4j/blob/trunk/ws-security-common/src/main/java/org/apache/wss4j/common/derivedKey/P_SHA1.java#L57</a></p>\n\n<p>With the following Java code:</p>\n\n<pre><code>Mac mac = Mac.getInstance(\"HmacSHA1\");\nSecretKeySpec key = new SecretKeySpec(getSharedKey(), \"HmacSHA1\");\nmac.init(key);\n\nString bytesToSign = \"&lt;XML_TO_SIGN_GOES_HERE&gt;\";\n\nString signature = Base64.encodeBytes(mac.doFinal(bytesToSign.getBytes())); \n</code></pre>\n\n<p>I need to do this in a Node project though, I've looked at the Crypto API and numerous plugins but I'm unable to generate the same signature.</p>\n\n<p>How do I specify a seed for a HmacSHA1 using node?</p>\n"}, {"tags": ["javascript", "jquery", "jquery-select2"], "answers": [{"tags": [], "owner": {"reputation": 568, "user_id": 1202275, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/D1IND.png?s=128&g=1", "display_name": "Darth Veyda", "link": "https://stackoverflow.com/users/1202275/darth-veyda"}, "is_accepted": false, "score": 0, "last_activity_date": 1551931643, "creation_date": 1551931643, "answer_id": 55035896, "question_id": 55033611, "link": "https://stackoverflow.com/questions/55033611/why-select2-from-jquery-shows-me-a-disabled-options-when-i-paste-in-the-search-i/55035896#55035896", "title": "Why Select2 from Jquery shows me a disabled options when I paste in the search input?", "body": "<p>Here's a working <a href=\"https://codepen.io/DarthVeyda/pen/wOJwvZ\" rel=\"nofollow noreferrer\">codepen</a> based on your example (and <a href=\"https://codepen.io/leenawat/pen/RGwXaX/\" rel=\"nofollow noreferrer\">another codepen</a>):</p>\n\n<pre><code>$( \".select2\" ).select2({        \n  ajax: {\n    url: \"&lt;url&gt;\",\n    dataType: 'json',\n    delay: 1000,\n    //type: \"POST\", \n    tags: [],\n    data: function (params) {\n      return {\n        q: params.term // search term\n      };\n    },\n    processResults: function (data) {\n                var res = data.map(function (item) {\n                    return { id: item.id, text: item.text };\n                });\n                return {\n                    results: res\n                };\n    },\n  },\n  minimumInputLength: 1\n});\n</code></pre>\n\n<p>The only difference is that I removed the request type - I'm pretty sure that you are getting the data here, not posting it :) And if you try to put it back, the filter stops working, albeit in a different way (it returns the full list no matter what you put in the filter), so it might be the source of your problem here.</p>\n\n<p>There is one more thing to consider - are you sure that there is no other code affecting your selectbox? Like something that applies to the <code>.js-data-example-ajax</code>, or any <code>&lt;span&gt;</code> with a single child (that's what a Select2 dropdown part is) etc.</p>\n"}], "owner": {"reputation": 1243, "user_id": 788375, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Q4bzP.jpg?s=128&g=1", "display_name": "Guillermo Oramas R.", "link": "https://stackoverflow.com/users/788375/guillermo-oramas-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551931643, "creation_date": 1551913566, "question_id": 55033611, "link": "https://stackoverflow.com/questions/55033611/why-select2-from-jquery-shows-me-a-disabled-options-when-i-paste-in-the-search-i", "title": "Why Select2 from Jquery shows me a disabled options when I paste in the search input?", "body": "<p>I'm using <code>Select2 4.0.6-rc.0</code> from Jquery, the thing is that when I copy and paste a value to be searched and there is only one option, that option is disabled and I can select it nor click it. </p>\n\n<p>In this image I'm expecting only one results cause <code>SF190</code> belongs to only one user. \n<a href=\"https://i.stack.imgur.com/c5xmB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c5xmB.png\" alt=\"See this image for better understanding\"></a></p>\n\n<p>But if the search brings more than one result everything is ok, like in this image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/HpHmF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HpHmF.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is the piece of code I'm using to initialize the Select2:</p>\n\n<pre><code>$('.js-data-example-ajax').select2({\n        width: '100%',\n        minimumInputLength: 1,\n        tags: [],\n        ajax: {\n            url: '&lt;URL of my action&gt;',\n            type: \"POST\",\n            dataType: \"json\",\n            delay: 1000,\n            data: function (term) {\n                return {\n                    query: term.term\n                };\n            },\n            processResults: function (data) {\n                var res = data.map(function (item) {\n                    return { id: item.Id, text: item.Id + ' ' + item.Name };\n                });\n                return {\n                    results: res\n                };\n            }\n        }\n    });\n</code></pre>\n\n<p>I really don't know whats going on and I can't find any related solutions. </p>\n"}, {"tags": ["javascript", "node.js", "node.js-addon", "node-addon-api"], "comments": [{"owner": {"reputation": 4200, "user_id": 2288754, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CJP6m.png?s=128&g=1", "display_name": "bmacnaughton", "link": "https://stackoverflow.com/users/2288754/bmacnaughton"}, "edited": false, "score": 0, "creation_date": 1551983558, "post_id": 55033575, "comment_id": 96851124, "body": "there is not enough information here to understand the problem. it&#39;s not at all clear that there is any need for a C++ addon to fill in portions of HTML, try providing some background and maybe some code too."}, {"owner": {"reputation": 1, "user_id": 6058178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6e1fe5ed371e8b2f64bae5a9a03dce0?s=128&d=identicon&r=PG&f=1", "display_name": "Yang Lu", "link": "https://stackoverflow.com/users/6058178/yang-lu"}, "reply_to_user": {"reputation": 4200, "user_id": 2288754, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CJP6m.png?s=128&g=1", "display_name": "bmacnaughton", "link": "https://stackoverflow.com/users/2288754/bmacnaughton"}, "edited": false, "score": 0, "creation_date": 1551992670, "post_id": 55033575, "comment_id": 96855369, "body": "Can&#39;t provide any code because I&#39;m not even sure of how to approach this. I need the addon to fill it in because the addon accesses system resources (addon is for an Electron app) to fill in the selection at runtime."}, {"owner": {"reputation": 4200, "user_id": 2288754, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CJP6m.png?s=128&g=1", "display_name": "bmacnaughton", "link": "https://stackoverflow.com/users/2288754/bmacnaughton"}, "edited": false, "score": 0, "creation_date": 1551993361, "post_id": 55033575, "comment_id": 96855647, "body": "Is there an HTML template that must be filled in? What must be filled in? Why is it not possible for the addon to return the system resources-derived information and let JavaScript fill in the tags? You don&#39;t provide an example of anything that allows anyone to formulate an answer."}], "owner": {"reputation": 1, "user_id": 6058178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6e1fe5ed371e8b2f64bae5a9a03dce0?s=128&d=identicon&r=PG&f=1", "display_name": "Yang Lu", "link": "https://stackoverflow.com/users/6058178/yang-lu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551913681, "creation_date": 1551913300, "last_edit_date": 1551913681, "question_id": 55033575, "link": "https://stackoverflow.com/questions/55033575/filling-in-html-select-tag-from-c-addon-function-call", "title": "Filling in HTML select tag from C++ addon function call", "body": "<p>I'm just not sure how to approach this. I have a blank select tag in my HTML with JS handling click events. I then have a addon built that builds some objects from other sources each containing an unique identifying string.</p>\n\n<p>How would I go about filling in the select tag from the data in the addon?</p>\n\n<p>I can't find a way to fill it in the C++ addon, but I also can't think of a clean way to have the Javascript call a single function to fill it in completely.</p>\n"}, {"tags": ["javascript", "css", "image", "overlay"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 1, "creation_date": 1551913464, "post_id": 55033553, "comment_id": 96819654, "body": "Why do people use switch statements with conditionals?"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1551914405, "post_id": 55033553, "comment_id": 96819963, "body": "inspecting the element I am seeing <code>slide s9 s2 s3 s4</code> as the classNames so looks like the code is not fully removing classes."}], "owner": {"reputation": 21, "user_id": 9151119, "user_type": "registered", "profile_image": "https://graph.facebook.com/10213192797487833/picture?type=large", "display_name": "Angeline Slayton", "link": "https://stackoverflow.com/users/9151119/angeline-slayton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551913864, "creation_date": 1551913164, "last_edit_date": 1551913864, "question_id": 55033553, "link": "https://stackoverflow.com/questions/55033553/how-to-change-multi-color-overlay-on-image", "title": "how to change multi-color overlay on image?", "body": "<p>I am trying to change this so that the colors change multiple times when hovering over the image.  I can't get the color to respond to opacity in the css and my image isn't showing.  I set the opacity to 0.9 and the colors are still showing bold. Eventually i'd like to change it to just the clouds changing color and not the entire photo. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var nopics = 12;\r\n    var partitionsMultiplier = new Array();\r\n    var partitionsWidth = new Array();\r\n        for (var i = 0; i &lt; nopics; i++) {\r\n\r\n            if (i == 0) partitionsMultiplier[i] = 1 / nopics;\r\n            else partitionsMultiplier[i] = partitionsMultiplier[i-1] + (1 / nopics);\r\n            partitionsWidth[i] = (partitionsMultiplier[i]) * (document.getElementById('dd1').offsetWidth);\r\n        }\r\n    \r\n    $('body').mousemove(function (e) {\r\n        var left1 = e.pageX - $('#dd1').offset().left;\r\n        var top1 = e.pageY - $('#dd1').offset().top;\r\n\r\n        var str = $('#dd1').attr(\"class\").toString().split(\" \");\r\n        \r\n        \r\n        \r\n       switch(true)\r\n       {\r\n           case (left1 &lt; partitionsWidth[0]): $('#dd1').switchClass(str[1], \"s1\"); break;\r\n           case (left1 &lt; partitionsWidth[1]): $('#dd1').switchClass(str[1], \"s2\"); break;\r\n           case (left1 &lt; partitionsWidth[2]): $('#dd1').switchClass(str[1], \"s3\"); break;\r\n           case (left1 &lt; partitionsWidth[3]): $('#dd1').switchClass(str[1], \"s4\"); break;\r\n           case (left1 &lt; partitionsWidth[4]): $('#dd1').switchClass(str[1], \"s5\"); break;\r\n           case (left1 &lt; partitionsWidth[5]): $('#dd1').switchClass(str[1], \"s6\"); break;\r\n           case (left1 &lt; partitionsWidth[6]): $('#dd1').switchClass(str[1], \"s7\"); break;\r\n           case (left1 &lt; partitionsWidth[7]): $('#dd1').switchClass(str[1], \"s8\"); break;\r\n           case (left1 &lt; partitionsWidth[8]): $('#dd1').switchClass(str[1], \"s9\"); break;\r\n           case (left1 &lt; partitionsWidth[9]): $('#dd1').switchClass(str[1], \"s10\"); break;\r\n           case (left1 &lt; partitionsWidth[10]): $('#dd1').switchClass(str[1], \"s11\"); break;\r\n           case (left1 &lt; partitionsWidth[11]): $('#dd1').switchClass(str[1], \"s12\"); break;\r\n       default:break;\r\n       }\r\n  \r\n    });</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.container {\r\n  width: 100%;\r\nheight: 500px;\r\n}\r\n\r\n.slide {\r\n  width: 100%;\r\nheight: 100%;\r\n  display: block;\r\n\r\n  background-image:url('https://vgy.me/0fBkdy.jpg');\r\n\r\n  padding: 80px 0;\r\n\r\n}\r\n\r\n\r\n.s1 {\r\n  background: #FFC0CB;\r\n  opacity:0.9;\r\n  z-index:-1;\r\n}\r\n.s2 {\r\n  background: #FFB6C1;\r\n  opacity:0.9;\r\n  z-index:-1;\r\n}\r\n.s3 {\r\n  background: #FF69B4;\r\n  opacity:0.9;\r\n  z-index:-1;\r\n}\r\n.s4 {\r\n  background: #FF1493;\r\n  opacity:0.9;\r\n  z-index:-1;\r\n}\r\n.s5 {\r\n  background: #DB7093;\r\n  opacity:0.9;\r\n  z-index:-1;\r\n}\r\n.s6 {\r\n  background: #C71585;\r\n  opacity:0.9;\r\n  z-index:-1;\r\n}\r\n.s7 {\r\n  background: #8B008B;\r\n  opacity:0.9;\r\n  z-index:-1;\r\n}\r\n.s8 {\r\n  background: #9932CC;\r\n  opacity:0.9;\r\n  z-index:-1;\r\n}\r\n.s9 {\r\n  background: #8B008B;\r\n  opacity:0.9;\r\n  z-index:-1;\r\n}\r\n.s10 {\r\n  background: #9370DB;\r\n  opacity:0.9;\r\n  z-index:-1;\r\n}\r\n.s11 {\r\n  background: #FF00FF;\r\n  opacity:0.9;\r\n  z-index:-1;\r\n}\r\n.s12 {\r\n  background: #EE82EE;\r\n  opacity:0.9;\r\n  z-index:-1;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;script\r\n\t\t\t  src=\"http://code.jquery.com/ui/1.12.1/jquery-ui.min.js\"\r\n\t\t\t  integrity=\"sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=\"\r\n\t\t\t  crossorigin=\"anonymous\"&gt;&lt;/script&gt;\r\n&lt;div class=\"container\"&gt;\r\n  &lt;div id=\"dd1\" class=\"slide s1\"&gt;&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "asynchronous", "promise"], "comments": [{"owner": {"reputation": 3727, "user_id": 4084574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/cgyc0.jpg?s=128&g=1", "display_name": "mhatch", "link": "https://stackoverflow.com/users/4084574/mhatch"}, "edited": false, "score": 0, "creation_date": 1551913210, "post_id": 55033536, "comment_id": 96819574, "body": "Check out <code>Promise.all()</code> <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/all\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1551918649, "post_id": 55033536, "comment_id": 96821007, "body": "You have four separate asynchronous operations in that function.  If you&#39;re trying to coordinate when all of them are done, we&#39;ll need to see the actual code from the <code>onmessage()</code> handlers to help you more specifically."}, {"owner": {"reputation": 517, "user_id": 2062086, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/40ff6f2fdfe8798397c0040c541a4473?s=128&d=identicon&r=PG", "display_name": "Wanderer", "link": "https://stackoverflow.com/users/2062086/wanderer"}, "reply_to_user": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1551923234, "post_id": 55033536, "comment_id": 96822022, "body": "@jfriend00 added code to show what could happen during an on message.  Wouldn&#39;t it be 6 asynchronous processes because the workers and the resp.json() are asynchronous as well?"}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1551929774, "post_id": 55033536, "comment_id": 96823517, "body": "What result are you trying to achieve with <code>getProcessedData()</code>?  What does the caller want back from that?"}], "answers": [{"comments": [{"owner": {"reputation": 31273, "user_id": 3928341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oc0hd.jpg?s=128&g=1", "display_name": "nem035", "link": "https://stackoverflow.com/users/3928341/nem035"}, "edited": false, "score": 0, "creation_date": 1551931421, "post_id": 55035847, "comment_id": 96823859, "body": "Out of curiosity, attaching <code>worker.onmessage</code> for every Promise seems like a perf bottleneck and a potential memory leak (assuming the handlers don&#39;t get cleaned up). Do you know if this a correct assumption?"}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "reply_to_user": {"reputation": 31273, "user_id": 3928341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oc0hd.jpg?s=128&g=1", "display_name": "nem035", "link": "https://stackoverflow.com/users/3928341/nem035"}, "edited": false, "score": 0, "creation_date": 1551931548, "post_id": 55035847, "comment_id": 96823894, "body": "@nem035 - In this code, each time <code>getWorkerMessage()</code> is called it&#39;s a new and different worker.  There&#39;s no accumulation of <code>onmessage</code> handlers here.  You will notice that I mentioned a potential loose end with the code in that the workers are never cleaned up in any way.  I didn&#39;t know what worker library you are using so had no idea exactly how they work and/or what cleanup should be done."}], "tags": [], "owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "is_accepted": true, "score": 2, "last_activity_date": 1551931181, "creation_date": 1551931181, "answer_id": 55035847, "question_id": 55033536, "link": "https://stackoverflow.com/questions/55033536/process-multiple-promises-with-multiple-steps/55035847#55035847", "title": "Process Multiple Promises with Multiple steps", "body": "<p>Well, here's a different way to approach it:</p>\n\n<pre><code>function multiplyAndSum(a1, a2){\n  let ret = 0;\n  for(let i = 0, l = a1.length; i &lt; l; i++){\n    ret += a1[i]*a2[i];\n  }\n  return ret;\n}\n\nfunction getWorkerMessage(worker) {\n    return new Promise((resolve, reject) =&gt; {\n        worker.onmessage(event =&gt; {\n            resolve(event);\n        });\n    });\n}\n\nfunction getProcessedData(){\n    const worker1 = new Worker('recordProcessor.js');\n    const worker2 = new Worker('recordprocessor.js');\n\n    let p = Promise.all([\n        getWorkerMessage(worker1),\n        getWorkerMessage(worker2)\n    ]).then([a1, a2] =&gt; {\n        return multiplyAndSum(a1.results, a2.results);\n    });\n\n    // start off both workers by sending them their data\n    fetch('./dataSet1.json')\n      .then(rep=&gt;resp.json())\n      .then(d=&gt;worker1.postMessage({'set': 1,'data': d}));\n    fetch('./dataSet2.json')\n      .then(rep=&gt;resp.json())\n      .then(d=&gt;worker2.postMessage({'set': 1,'data': d}));\n\n    return p;\n}\n\n// usage\ngetProcessedData().then(result =&gt; {\n    console.log(result);\n}).catch(err =&gt; {\n    console.log(err);\n});\n</code></pre>\n\n<p>Here's my understanding of what you're attempting to do.</p>\n\n<ol>\n<li>Create two workers</li>\n<li>Fetch two sets of data and pass one set of data to each worker</li>\n<li>When you have the processed data from both workers, multiply the two resulting arrays together and sum the products to create a single, final value</li>\n<li>The caller then wants that final value</li>\n</ol>\n\n<p>So, my suggested code uses turns the worker message into an operation that returns a promise that resolves to the result from that work when it's done.  I then use <code>Promise.all()</code> to know when both workers are done.  At that point, you have two arrays of data which can be multiplied and summed to get the final result.</p>\n\n<p>Potentially loose end: Do you have to clean up the two workers when you're done with them?</p>\n"}], "owner": {"reputation": 517, "user_id": 2062086, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/40ff6f2fdfe8798397c0040c541a4473?s=128&d=identicon&r=PG", "display_name": "Wanderer", "link": "https://stackoverflow.com/users/2062086/wanderer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 1, "accepted_answer_id": 55035847, "answer_count": 1, "score": 0, "last_activity_date": 1551931181, "creation_date": 1551913064, "last_edit_date": 1551923026, "question_id": 55033536, "link": "https://stackoverflow.com/questions/55033536/process-multiple-promises-with-multiple-steps", "title": "Process Multiple Promises with Multiple steps", "body": "<p>I want to fetch data from multiple sources.  When each data set has been retrieved I want I want to send it to another asynchronous processor like a worker thread. Then once all processes have completed aggregate the data and return it.</p>\n\n<p>For example:</p>\n\n<pre><code>function multiplyAndSum(a1, a2){\n  ret = 0;\n  for(var i = 0, l = a1.length; i &lt; l; i++){\n    ret += a1[i]*a2[i];\n  }\n  return ret;\n}\n\nfunction getProcessedData(){\n  var worker1 = new Worker('recordProcessor.js');\n  var worker2 = new Worker('recordprocessor.js');\n  var results = null;\n  worker1.onmessage(event=&gt;{\n    results=(!results)?event.results:\n      multiplyAndSum(event.results, results);\n  });\n  worker2.onmessage(event=&gt;{\n    results=(!results)?event.results:\n      multiplyAndSum(event.results, results);\n  });\n  var ds1 = fetch('./dataSet1.json')\n    .then(rep=&gt;resp.json())\n    .then(d=&gt;worker1.postMessage({\n      'set': 1,\n      'data': d\n    }));\n  var ds2 = fetch('./dataSet2.json')\n    .then(rep=&gt;resp.json())\n    .then(d=&gt;worker2.postMessage({\n      'set': 1,\n      'data': d\n    }));\n  // Once results is populated return results\n}\n</code></pre>\n\n<p>I think I need to wrap all this in another Promise But I'm not quite sure how to do that.</p>\n"}, {"tags": ["javascript", "reactjs", "if-statement", "fetch-api", "stateful"], "comments": [{"owner": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 7, "creation_date": 1551913194, "post_id": 55033531, "comment_id": 96819571, "body": "instead of testing <code>!== []</code>, test the length <code>this.state.instrumentSections.length &gt; 0</code> the reason being that a new instance of <code>[]</code> is not === an existing instance of <code>[]</code>. <code>[] === []</code> is <code>false</code>"}, {"owner": {"reputation": 3905, "user_id": 9602863, "user_type": "registered", "profile_image": "https://graph.facebook.com/1743384949051322/picture?type=large", "display_name": "UjinT34", "link": "https://stackoverflow.com/users/9602863/ujint34"}, "edited": false, "score": 0, "creation_date": 1551913262, "post_id": 55033531, "comment_id": 96819591, "body": "<a href=\"https://reactjs.org/docs/conditional-rendering.html#inline-if-else-with-conditional-operator\" rel=\"nofollow noreferrer\">reactjs.org/docs/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 4670, "user_id": 1204312, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/27761f40eab7ee7ee015ccd60ad2ab88?s=128&d=identicon&r=PG", "display_name": "shriek", "link": "https://stackoverflow.com/users/1204312/shriek"}, "edited": false, "score": 1, "creation_date": 1551920045, "post_id": 55034368, "comment_id": 96821318, "body": "I think it&#39;s a little incomplete to claim <code>if</code> in <code>js</code> are dangerous w/o giving proper explanation to why. If you&#39;re referring to type coercion then can you mention that or any other reason you think of as such?"}, {"owner": {"reputation": 11, "user_id": 10868705, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216403960274961/picture?type=large", "display_name": "Adam J", "link": "https://stackoverflow.com/users/10868705/adam-j"}, "edited": false, "score": 0, "creation_date": 1552419027, "post_id": 55034368, "comment_id": 97000267, "body": "I&#39;ve tried implementing the collective suggestions, CocoHot, but I can&#39;t quite get it to work.  I&#39;ve updated the original post with progress and additional relevant info."}], "tags": [], "owner": {"reputation": 1190, "user_id": 2745345, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0ac95b6fae8a5d39351d321dbe4c2e5b?s=128&d=identicon&r=PG&f=1", "display_name": "CocoHot", "link": "https://stackoverflow.com/users/2745345/cocohot"}, "is_accepted": false, "score": 0, "last_activity_date": 1552975515, "last_edit_date": 1552975515, "creation_date": 1551919244, "answer_id": 55034368, "question_id": 55033531, "link": "https://stackoverflow.com/questions/55033531/reactjs-using-if-else-in-render/55034368#55034368", "title": "reactjs: using `if else` in render", "body": "<p>EDIT: Edit author's code to the proper way. Didn't test the code but should be able to get a big picture. </p>\n\n<p>As Steven Stark mentioned in the comment, the right way to determine if a list is empty you should use <code>this.state.instrumentSections.length &gt; 0</code> instead of <code>!== []</code>. \nKeep in mind that javascript's <code>if</code> compare is very dangerous.</p>\n\n<p>You can use conditional operator to make your code simpler:</p>\n\n<pre><code>render() {\n  const { student, instrumentSections } = this.state;\n  return (\n      &lt;div className=\"text-center student-show\"&gt;\n        &lt;h1&gt;{student.first_name} {student.last_name}&lt;/h1&gt;\n        &lt;h3&gt;Your section(s):&lt;/h3&gt;\n          {instrumentList.length === 0 ? (\n             &lt;span&gt;You are not part of a band yet...something more...&lt;/span&gt;\n          ) : (\n             &lt;ul&gt;\n               {instrumentSections.map((instrument) =&gt; {\n                 return (&lt;li&gt;{instrument}&lt;/li&gt;)\n               })}\n             &lt;/ul&gt;\n          )};\n\n      &lt;/div&gt;\n    )\n  }\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10868705, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216403960274961/picture?type=large", "display_name": "Adam J", "link": "https://stackoverflow.com/users/10868705/adam-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1552975515, "creation_date": 1551913037, "last_edit_date": 1552420911, "question_id": 55033531, "link": "https://stackoverflow.com/questions/55033531/reactjs-using-if-else-in-render", "title": "reactjs: using `if else` in render", "body": "<p>I'm having trouble with this (simple?) goal.</p>\n\n<p>On the react show page, I would like under the \"Instrument Section(s)\" heading an unordered list of the student's instrument sections, which is easy enough.  The async setting of state works, and in the render I use: </p>\n\n<pre><code>let instrumentList = this.state.instrumentSections.map((instrument)=&gt;{\n  return &lt;li&gt;{instrument}&lt;/li&gt;;\n});\n</code></pre>\n\n<p>and in the relevant part of the return I use:</p>\n\n<pre><code>&lt;h3&gt;Your section(s):&lt;/h3&gt;\n          &lt;ul&gt;{instrumentList}&lt;/ul&gt;\n</code></pre>\n\n<p>The trouble comes when the student is not assigned to any instrument section yet (so the state is set to <code>[]</code>).  I would like to display \"Instrument Section(s)\" and then \"You are not yet part of a band.\" instead of \"Instrument Section(s)\" and then nothing, which is what happens with the above code.</p>\n\n<p>I've tried using <code>if then</code> in several ways (one shown below, slight variations attempted to the same effect), but no matter what I try, the information displays correctly for a student with assigned instrument sections but continues to display \"Instrument Section(s)\" and then nothing.  If I <code>console.log(instrumentList)</code> in this case, it returns <code>[]</code>.</p>\n\n<p>if then in render:</p>\n\n<pre><code>let instrumentList;\n    const noBand = \"You are not part of a band yet.  Please make sure that your instructor adds you to the right band through Ensemble.\";\n    if (this.state.instrumentSections !== [] ) {\n      instrumentList = this.state.instrumentSections.map((instrument)=&gt;{\n        return &lt;li&gt;{instrument}&lt;/li&gt;;\n      });\n    } else {\n      instrumentList = noBand;\n    }\n</code></pre>\n\n<p>Do I need to try working this <code>if then</code> magic in a <code>.then</code> of the async fetch?  Other ideas?  </p>\n\n<p><strong>Update Edit 3/12:</strong></p>\n\n<p>I'm playing around with everyone's suggestion.  I see what the inline conditional operator's supposed to do, but I haven't been able to adapt it to my code the way CocoHot has refactored it due to (I think) the placement of <code>return</code>.</p>\n\n<p>So here's the refactoring included with the <code>return</code> for the whole <code>class</code>:</p>\n\n<pre><code>render(){\n  const noBand = \"You are not part of a band yet.  Please make sure that       your instructor adds you to the right band through Ensemble.\";\n  const instrumentList = this.state.instrumentSections.map((instrument)=&gt;{\n    &lt;li&gt;{instrument}&lt;/li&gt;;\n  });\n  return instrumentList.length &gt; 0 ? instrumentList : noBand;\n\n  return (\n      &lt;div className=\"text-center student-show\"&gt;\n        &lt;h1&gt;{this.state.student.first_name} {this.state.student.last_name}&lt;/h1&gt;\n        &lt;h3&gt;Your section(s):&lt;/h3&gt;\n          &lt;ul&gt;{instrumentList}&lt;/ul&gt;\n      &lt;/div&gt;\n    )\n  }\n</code></pre>\n\n<p>I'm rather sure the main problem in the above is that the <code>render</code> can't have more than one return, which I think means that I have to work the conditional operator line into the second <code>return</code> and get rid of the first <code>return</code>.  I've been trying to do so without success thusfar, so I've also tried working the operator line into the <code>const instrumentList =</code> block with no success.</p>\n\n<p>Any more suggestions?  I know the solution is close, and thank you all for your help so far.</p>\n\n<p><strong>Edit 2:</strong> While trying to refactor into the vanilla <code>if else</code> format to see if things would work that way, I noticed the code wasn't returning <code>true</code> on the length check because it was set to <code>&gt; 0</code> (so the empty array evaluated false).  I changed the operator to <code>== 0</code> and now it seems to trip correctly, at least in the vanilla format.  Still no luck on getting <code>noBand</code> to display.</p>\n"}, {"tags": ["javascript", "reactjs", "react-native"], "comments": [{"owner": {"reputation": 2062, "user_id": 7065839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4gknK.jpg?s=128&g=1", "display_name": "Kai", "link": "https://stackoverflow.com/users/7065839/kai"}, "edited": false, "score": 0, "creation_date": 1551912763, "post_id": 55033438, "comment_id": 96819394, "body": "Just to clarify, you&#39;re looking for <i>all</i> items with duplicate IDs, not just items matching a specific ID?"}, {"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1551913904, "post_id": 55033438, "comment_id": 96819811, "body": "I don&#39;t see anything named id,..  what property is meant to be the id?"}, {"owner": {"reputation": 11, "user_id": 6226968, "user_type": "registered", "profile_image": "https://graph.facebook.com/1012764818804404/picture?type=large", "display_name": "Taiuan Pagini", "link": "https://stackoverflow.com/users/6226968/taiuan-pagini"}, "edited": false, "score": 0, "creation_date": 1552001629, "post_id": 55033438, "comment_id": 96858469, "body": "exactly, I want to join all items with the same id, and also show how many times each was repeated, the field to use with id is the co90Alun."}], "answers": [{"tags": [], "owner": {"reputation": 115, "user_id": 7517072, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/28d396cd1121fefe2fde71ef5da23655?s=128&d=identicon&r=PG&f=1", "display_name": "Morten Twellmann", "link": "https://stackoverflow.com/users/7517072/morten-twellmann"}, "is_accepted": false, "score": 1, "last_activity_date": 1551914160, "creation_date": 1551914160, "answer_id": 55033699, "question_id": 55033438, "link": "https://stackoverflow.com/questions/55033438/filter-objects-with-same-id-not-javascript-filter/55033699#55033699", "title": "filter objects with same id not javascript .filter ()", "body": "<p>To count the number of times some property is the same, you could loop through the array and do something like this:</p>\n\n<pre><code>let arr = [\n    {\n        id: 1,\n        name: \"Joe\"\n    },\n    {\n        id: 1,\n        name: \"Joe\"\n    },\n    {\n        id: 2,\n        name: \"Mary\"\n    }\n];\n\nlet idCounts = {};\nconst propertyToCount = 'id';\nfor (let i = 0; i &lt; arr.length; i++) {\n    const elem = arr[i];\n\n    if(typeof idCounts[elem[propertyToCount]] === 'undefined') {\n        idCounts[elem[propertyToCount]] = 1;\n    }\n    else {\n        idCounts[elem[propertyToCount]] = idCounts[elem[propertyToCount]] + 1;\n    }\n}\n</code></pre>\n\n<p>I hope I understood the question correctly.</p>\n"}], "owner": {"reputation": 11, "user_id": 6226968, "user_type": "registered", "profile_image": "https://graph.facebook.com/1012764818804404/picture?type=large", "display_name": "Taiuan Pagini", "link": "https://stackoverflow.com/users/6226968/taiuan-pagini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1551914160, "creation_date": 1551912545, "question_id": 55033438, "link": "https://stackoverflow.com/questions/55033438/filter-objects-with-same-id-not-javascript-filter", "title": "filter objects with same id not javascript .filter ()", "body": "<p>I need to make a filter in an array, also need to have a counter to know how many records it has as the same id. I tried to do with the filter but I did not get it because I did not know what to compare it with. it is a list of students, it has only 3 different ones, and it repeats itself several times, because it is a list of medicines that are repeated for students.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var arr = [\r\n    {\r\n        \"gl90Tabl\": null,\r\n        \"linkRece\": \"\",\r\n        \"co01Apme\": 5359,\r\n        \"co90Alun\": 921,\r\n        \"co00Apme\": 281,\r\n        \"dataApme\": \"2019-03-06\",\r\n        \"horaApme\": \"10:00\",\r\n        \"nomeApme\": \"Tylenol\",\r\n        \"dosaApme\": \"10 gotas\",\r\n        \"viadApme\": \"Oral\",\r\n        \"obsApme\": \"Aplicar mesmo que chore.\",\r\n        \"situApme\": \"PEND\",\r\n        \"dhapApme\": null\r\n    },\r\n    {\r\n        \"gl90Tabl\": null,\r\n        \"linkRece\": \"\",\r\n        \"co01Apme\": 5360,\r\n        \"co90Alun\": 921,\r\n        \"co00Apme\": 281,\r\n        \"dataApme\": \"2019-03-06\",\r\n        \"horaApme\": \"11:00\",\r\n        \"nomeApme\": \"Tylenol\",\r\n        \"dosaApme\": \"10 gotas\",\r\n        \"viadApme\": \"Oral\",\r\n        \"obsApme\": \"Aplicar mesmo que chore.\",\r\n        \"situApme\": \"PEND\",\r\n        \"dhapApme\": null\r\n    },\r\n    {\r\n        \"gl90Tabl\": null,\r\n        \"linkRece\": \"\",\r\n        \"co01Apme\": 5361,\r\n        \"co90Alun\": 921,\r\n        \"co00Apme\": 281,\r\n        \"dataApme\": \"2019-03-06\",\r\n        \"horaApme\": \"12:00\",\r\n        \"nomeApme\": \"Tylenol\",\r\n        \"dosaApme\": \"10 gotas\",\r\n        \"viadApme\": \"Oral\",\r\n        \"obsApme\": \"Aplicar mesmo que chore.\",\r\n        \"situApme\": \"PEND\",\r\n        \"dhapApme\": null\r\n    },\r\n    {\r\n        \"gl90Tabl\": null,\r\n        \"linkRece\": \"\",\r\n        \"co01Apme\": 5362,\r\n        \"co90Alun\": 921,\r\n        \"co00Apme\": 281,\r\n        \"dataApme\": \"2019-03-06\",\r\n        \"horaApme\": \"14:00\",\r\n        \"nomeApme\": \"Tylenol\",\r\n        \"dosaApme\": \"10 gotas\",\r\n        \"viadApme\": \"Oral\",\r\n        \"obsApme\": \"Aplicar mesmo que chore.\",\r\n        \"situApme\": \"PEND\",\r\n        \"dhapApme\": null\r\n    },\r\n    {\r\n        \"gl90Tabl\": null,\r\n        \"linkRece\": \"\",\r\n        \"co01Apme\": 5363,\r\n        \"co90Alun\": 921,\r\n        \"co00Apme\": 281,\r\n        \"dataApme\": \"2019-03-06\",\r\n        \"horaApme\": \"16:00\",\r\n        \"nomeApme\": \"Tylenol\",\r\n        \"dosaApme\": \"10 gotas\",\r\n        \"viadApme\": \"Oral\",\r\n        \"obsApme\": \"Aplicar mesmo que chore.\",\r\n        \"situApme\": \"PEND\",\r\n        \"dhapApme\": null\r\n    },\r\n    {\r\n        \"gl90Tabl\": null,\r\n        \"linkRece\": \"\",\r\n        \"co01Apme\": 5340,\r\n        \"co90Alun\": 2601,\r\n        \"co00Apme\": 279,\r\n        \"dataApme\": \"2019-03-06\",\r\n        \"horaApme\": \"16:00\",\r\n        \"nomeApme\": \"Aspirina\",\r\n        \"dosaApme\": \"10 Gotas\",\r\n        \"viadApme\": \"Oral\",\r\n        \"obsApme\": \"Aplicar mesmo que chore\",\r\n        \"situApme\": \"PEND\",\r\n        \"dhapApme\": null\r\n    },\r\n    {\r\n        \"gl90Tabl\": null,\r\n        \"linkRece\": \"\",\r\n        \"co01Apme\": 5357,\r\n        \"co90Alun\": 455,\r\n        \"co00Apme\": 280,\r\n        \"dataApme\": \"2019-03-06\",\r\n        \"horaApme\": \"22:00\",\r\n        \"nomeApme\": \"Dipirona\",\r\n        \"dosaApme\": \"10ml\",\r\n        \"viadApme\": \"Oral\",\r\n        \"obsApme\": \"\",\r\n        \"situApme\": \"PEND\",\r\n        \"dhapApme\": null\r\n    },\r\n    {\r\n        \"gl90Tabl\": null,\r\n        \"linkRece\": \"\",\r\n        \"co01Apme\": 5358,\r\n        \"co90Alun\": 455,\r\n        \"co00Apme\": 280,\r\n        \"dataApme\": \"2019-03-06\",\r\n        \"horaApme\": \"23:00\",\r\n        \"nomeApme\": \"Dipirona\",\r\n        \"dosaApme\": \"10ml\",\r\n        \"viadApme\": \"Oral\",\r\n        \"obsApme\": \"\",\r\n        \"situApme\": \"PEND\",\r\n        \"dhapApme\": null\r\n    }\r\n]\r\n\r\nconsole.log(arr)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "css", "highcharts"], "answers": [{"tags": [], "owner": {"reputation": 6757, "user_id": 10077925, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dLnp6.jpg?s=128&g=1", "display_name": "Wojciech Chmiel", "link": "https://stackoverflow.com/users/10077925/wojciech-chmiel"}, "is_accepted": true, "score": 0, "last_activity_date": 1551949403, "creation_date": 1551949403, "answer_id": 55039800, "question_id": 55033404, "link": "https://stackoverflow.com/questions/55033404/add-label-in-into-square-highcharts-gant/55039800#55039800", "title": "Add label in into square Highcharts Gant", "body": "<p>You can achieve it by enabling <strong>dataLabels</strong> and use <code>dataLabels.formatter</code> or <code>dataLabels.format</code> to set what would be presented.</p>\n\n<p><strong>Code:</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Highcharts.createElement('link', {\r\n  href: 'https://fonts.googleapis.com/css?family=Unica+One',\r\n  rel: 'stylesheet',\r\n  type: 'text/css'\r\n}, null, document.getElementsByTagName('head')[0]);\r\n\r\nHighcharts.theme = {\r\n  chart: {\r\n    backgroundColor: {\r\n      linearGradient: {\r\n        x1: 0,\r\n        y1: 0,\r\n        x2: 1,\r\n        y2: 1\r\n      },\r\n      stops: [\r\n        [0, '#FAFAFA'],\r\n        [1, '#FAFAFA']\r\n      ]\r\n    },\r\n    style: {\r\n      fontFamily: '\\'Unica One\\', sans-serif'\r\n    }\r\n  }\r\n};\r\n\r\n// Apply the theme\r\nHighcharts.setOptions(Highcharts.theme);\r\nvar today = new Date('2018-02-02');\r\nvar day = 1000 * 60 * 60 * 24;\r\nvar map = Highcharts.map;\r\nvar dateFormat = Highcharts.dateFormat;\r\nvar series;\r\nvar cars;\r\n\r\ntoday.setUTCHours(0);\r\ntoday.setUTCMinutes(0);\r\ntoday.setUTCSeconds(0);\r\ntoday.setUTCMilliseconds(0);\r\ntoday = today.getTime();\r\n\r\nfunction formatear(dato) {\r\n\r\n  var fecha = new Date(dato);\r\n  fecha.setUTCHours(0);\r\n  fecha.setUTCMinutes(0);\r\n  fecha.setUTCSeconds(0);\r\n  fecha.setUTCMilliseconds(0);\r\n  fecha = fecha.getTime();\r\n\r\n  return fecha;\r\n}\r\nvar js = [{\r\n  assigns: '39982-Constanza',\r\n  current: 0,\r\n  pendings: 0,\r\n  finalized: 35,\r\n  asigned: 35,\r\n  deals: [{\r\n    pending: '15',\r\n    from: formatear('2018-02-19') - 1 * day,\r\n    to: formatear('2018-02-19') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-20') - 1 * day,\r\n    to: formatear('2018-02-20') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-21') - 1 * day,\r\n    to: formatear('2018-02-21') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-23') - 1 * day,\r\n    to: formatear('2018-02-23') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-26') - 1 * day,\r\n    to: formatear('2018-02-26') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-27') - 1 * day,\r\n    to: formatear('2018-02-27') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-28') - 1 * day,\r\n    to: formatear('2018-02-28') + 0 * day,\r\n    assign: 1\r\n  }, ]\r\n}, {\r\n  assigns: '52270-Jhon',\r\n  current: 0,\r\n  pendings: 0,\r\n  finalized: 76,\r\n  asigned: 76,\r\n  deals: [{\r\n    pending: '15',\r\n    from: formatear('2018-02-07') - 1 * day,\r\n    to: formatear('2018-02-07') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-16') - 1 * day,\r\n    to: formatear('2018-02-16') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-19') - 1 * day,\r\n    to: formatear('2018-02-19') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-21') - 1 * day,\r\n    to: formatear('2018-02-21') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-22') - 1 * day,\r\n    to: formatear('2018-02-22') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-26') - 1 * day,\r\n    to: formatear('2018-02-26') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-27') - 1 * day,\r\n    to: formatear('2018-02-27') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-28') - 1 * day,\r\n    to: formatear('2018-02-28') + 0 * day,\r\n    assign: 1\r\n  }, ]\r\n}, {\r\n  assigns: '54243-Jane',\r\n  current: 0,\r\n  pendings: 0,\r\n  finalized: 39,\r\n  asigned: 39,\r\n  deals: [{\r\n    pending: '15',\r\n    from: formatear('2018-02-06') - 1 * day,\r\n    to: formatear('2018-02-06') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-09') - 1 * day,\r\n    to: formatear('2018-02-09') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-13') - 1 * day,\r\n    to: formatear('2018-02-13') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-16') - 1 * day,\r\n    to: formatear('2018-02-16') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-19') - 1 * day,\r\n    to: formatear('2018-02-19') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-22') - 1 * day,\r\n    to: formatear('2018-02-22') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-27') - 1 * day,\r\n    to: formatear('2018-02-27') + 0 * day,\r\n    assign: 1\r\n  }, ]\r\n}, {\r\n  assigns: '55011-Juan',\r\n  current: 0,\r\n  pendings: 0,\r\n  finalized: 66,\r\n  asigned: 66,\r\n  deals: [{\r\n    pending: '15',\r\n    from: formatear('2018-02-05') - 1 * day,\r\n    to: formatear('2018-02-05') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-06') - 1 * day,\r\n    to: formatear('2018-02-06') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-07') - 1 * day,\r\n    to: formatear('2018-02-07') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-09') - 1 * day,\r\n    to: formatear('2018-02-09') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-11') - 1 * day,\r\n    to: formatear('2018-02-11') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-14') - 1 * day,\r\n    to: formatear('2018-02-14') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-16') - 1 * day,\r\n    to: formatear('2018-02-16') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-22') - 1 * day,\r\n    to: formatear('2018-02-22') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-26') - 1 * day,\r\n    to: formatear('2018-02-26') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-27') - 1 * day,\r\n    to: formatear('2018-02-27') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-28') - 1 * day,\r\n    to: formatear('2018-02-28') + 0 * day,\r\n    assign: 1\r\n  }, ]\r\n}, ];\r\n\r\ngrafica(js);\r\n\r\n\r\n\r\n\r\nfunction grafica(script) {\r\n  //console.log(script);\r\n\r\n\r\n  var json = script;\r\n\r\n  series = json.map(function(item, i) {\r\n    var data = item.deals.map(function(deal) {\r\n      return {\r\n        id: 'deal-' + i,\r\n        pending: deal.pending,\r\n        start: deal.from,\r\n        end: deal.to,\r\n        assign: deal.assign,\r\n        y: i\r\n      };\r\n    });\r\n    return {\r\n      name: item.assigns,\r\n      data: data,\r\n      current: item.deals[item.current],\r\n      pendings: item.pendings,\r\n      finalized: item.finalized,\r\n      asigned: item.asigned\r\n    };\r\n  });\r\n\r\n  Highcharts.ganttChart('container', {\r\n    series: series,\r\n    plotOptions: {\r\n    \tgantt: {\r\n      \tdataLabels: {\r\n        \tenabled: true,\r\n          formatter: function() {\r\n          \tconsole.log(this);\r\n            return this.y;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    title: {\r\n      text: 'Resume'\r\n    },\r\n    tooltip: {\r\n      pointFormat: '&lt;span&gt;Pendings: {point.pending}&lt;/span&gt;&lt;br/&gt;&lt;span&gt;From: {point.start:%e. %b}&lt;/span&gt;&lt;br/&gt;&lt;span&gt;To: {point.end:%e. %b}&lt;/span&gt;'\r\n    },\r\n    xAxis: {\r\n      currentDateIndicator: true\r\n    },\r\n    yAxis: {\r\n      type: 'category',\r\n      grid: {\r\n        columns: [{\r\n            title: {\r\n              text: 'Person'\r\n            },\r\n            categories: map(series, function(s) {\r\n              return s.name;\r\n            })\r\n          }, {\r\n            title: {\r\n              text: 'Assigns'\r\n            },\r\n            categories: map(series, function(s) {\r\n              return s.asigned;\r\n            })\r\n          }, {\r\n            title: {\r\n              text: 'Ends'\r\n            },\r\n            categories: map(series, function(s) {\r\n              return s.finalized;\r\n            })\r\n          }, {\r\n            title: {\r\n              text: 'From'\r\n            },\r\n            categories: map(series, function(s) {\r\n              return dateFormat('%e. %b', s.current.from);\r\n            })\r\n          }, {\r\n            title: {\r\n              text: 'To'\r\n            },\r\n            categories: map(series, function(s) {\r\n              return dateFormat('%e. %b', s.current.to);\r\n            })\r\n          },\r\n          {\r\n            title: {\r\n              text: 'Pendings'\r\n            },\r\n            categories: map(series, function(s) {\r\n              return s.pendings;\r\n            })\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  });\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#container {\r\n  max-width: 1200px;\r\n  min-width: 800px;\r\n  height: 400px;\r\n  margin: 1em auto;\r\n}\r\n\r\n.scrolling-container {\r\n  overflow-x: auto;\r\n  -webkit-overflow-scrolling: touch;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/1.2.3/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://code.highcharts.com/gantt/highcharts-gantt.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://code.highcharts.com/gantt/modules/exporting.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div class=\"scrolling-container\"&gt;\r\n  &lt;div id=\"container\"&gt;&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>Demo:</strong></p>\n\n<ul>\n<li>formatter: <a href=\"https://jsfiddle.net/BlackLabel/o7a32fk4\" rel=\"nofollow noreferrer\">https://jsfiddle.net/BlackLabel/o7a32fk4</a></li>\n<li>format: <a href=\"https://jsfiddle.net/BlackLabel/kb85v490/1/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/BlackLabel/kb85v490/1/</a></li>\n</ul>\n"}], "owner": {"reputation": 49, "user_id": 10491146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/800ccb1316d713544f2700084213e3ef?s=128&d=identicon&r=PG&f=1", "display_name": "elun", "link": "https://stackoverflow.com/users/10491146/elun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 1, "accepted_answer_id": 55039800, "answer_count": 1, "score": 0, "last_activity_date": 1551949403, "creation_date": 1551912393, "question_id": 55033404, "link": "https://stackoverflow.com/questions/55033404/add-label-in-into-square-highcharts-gant", "title": "Add label in into square Highcharts Gant", "body": "<p>I'm trying to add a label in each box in Gant Diagram Highcharts, but I can not do it. How can I show some value in each frame? </p>\n\n<p>The label must appear in the center of each box. All the data I generate dynamically</p>\n\n<p>Below I leave the example of what I have advanced.</p>\n\n<p>If you can help me, thank you very much...</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Highcharts.createElement('link', {\r\n  href: 'https://fonts.googleapis.com/css?family=Unica+One',\r\n  rel: 'stylesheet',\r\n  type: 'text/css'\r\n}, null, document.getElementsByTagName('head')[0]);\r\n\r\nHighcharts.theme = {\r\n  chart: {\r\n    backgroundColor: {\r\n      linearGradient: {\r\n        x1: 0,\r\n        y1: 0,\r\n        x2: 1,\r\n        y2: 1\r\n      },\r\n      stops: [\r\n        [0, '#FAFAFA'],\r\n        [1, '#FAFAFA']\r\n      ]\r\n    },\r\n    style: {\r\n      fontFamily: '\\'Unica One\\', sans-serif'\r\n    }\r\n  }\r\n};\r\n\r\n// Apply the theme\r\nHighcharts.setOptions(Highcharts.theme);\r\nvar today = new Date('2018-02-02');\r\nvar day = 1000 * 60 * 60 * 24;\r\nvar map = Highcharts.map;\r\nvar dateFormat = Highcharts.dateFormat;\r\nvar series;\r\nvar cars;\r\n\r\ntoday.setUTCHours(0);\r\ntoday.setUTCMinutes(0);\r\ntoday.setUTCSeconds(0);\r\ntoday.setUTCMilliseconds(0);\r\ntoday = today.getTime();\r\n\r\nfunction formatear(dato) {\r\n\r\n  var fecha = new Date(dato);\r\n  fecha.setUTCHours(0);\r\n  fecha.setUTCMinutes(0);\r\n  fecha.setUTCSeconds(0);\r\n  fecha.setUTCMilliseconds(0);\r\n  fecha = fecha.getTime();\r\n\r\n  return fecha;\r\n}\r\nvar js = [{\r\n  assigns: '39982-Constanza',\r\n  current: 0,\r\n  pendings: 0,\r\n  finalized: 35,\r\n  asigned: 35,\r\n  deals: [{\r\n    pending: '15',\r\n    from: formatear('2018-02-19') - 1 * day,\r\n    to: formatear('2018-02-19') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-20') - 1 * day,\r\n    to: formatear('2018-02-20') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-21') - 1 * day,\r\n    to: formatear('2018-02-21') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-23') - 1 * day,\r\n    to: formatear('2018-02-23') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-26') - 1 * day,\r\n    to: formatear('2018-02-26') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-27') - 1 * day,\r\n    to: formatear('2018-02-27') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-28') - 1 * day,\r\n    to: formatear('2018-02-28') + 0 * day,\r\n    assign: 1\r\n  }, ]\r\n}, {\r\n  assigns: '52270-Jhon',\r\n  current: 0,\r\n  pendings: 0,\r\n  finalized: 76,\r\n  asigned: 76,\r\n  deals: [{\r\n    pending: '15',\r\n    from: formatear('2018-02-07') - 1 * day,\r\n    to: formatear('2018-02-07') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-16') - 1 * day,\r\n    to: formatear('2018-02-16') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-19') - 1 * day,\r\n    to: formatear('2018-02-19') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-21') - 1 * day,\r\n    to: formatear('2018-02-21') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-22') - 1 * day,\r\n    to: formatear('2018-02-22') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-26') - 1 * day,\r\n    to: formatear('2018-02-26') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-27') - 1 * day,\r\n    to: formatear('2018-02-27') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-28') - 1 * day,\r\n    to: formatear('2018-02-28') + 0 * day,\r\n    assign: 1\r\n  }, ]\r\n}, {\r\n  assigns: '54243-Jane',\r\n  current: 0,\r\n  pendings: 0,\r\n  finalized: 39,\r\n  asigned: 39,\r\n  deals: [{\r\n    pending: '15',\r\n    from: formatear('2018-02-06') - 1 * day,\r\n    to: formatear('2018-02-06') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-09') - 1 * day,\r\n    to: formatear('2018-02-09') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-13') - 1 * day,\r\n    to: formatear('2018-02-13') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-16') - 1 * day,\r\n    to: formatear('2018-02-16') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-19') - 1 * day,\r\n    to: formatear('2018-02-19') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-22') - 1 * day,\r\n    to: formatear('2018-02-22') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-27') - 1 * day,\r\n    to: formatear('2018-02-27') + 0 * day,\r\n    assign: 1\r\n  }, ]\r\n}, {\r\n  assigns: '55011-Juan',\r\n  current: 0,\r\n  pendings: 0,\r\n  finalized: 66,\r\n  asigned: 66,\r\n  deals: [{\r\n    pending: '15',\r\n    from: formatear('2018-02-05') - 1 * day,\r\n    to: formatear('2018-02-05') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-06') - 1 * day,\r\n    to: formatear('2018-02-06') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-07') - 1 * day,\r\n    to: formatear('2018-02-07') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-09') - 1 * day,\r\n    to: formatear('2018-02-09') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-11') - 1 * day,\r\n    to: formatear('2018-02-11') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-14') - 1 * day,\r\n    to: formatear('2018-02-14') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-16') - 1 * day,\r\n    to: formatear('2018-02-16') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-22') - 1 * day,\r\n    to: formatear('2018-02-22') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-26') - 1 * day,\r\n    to: formatear('2018-02-26') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-27') - 1 * day,\r\n    to: formatear('2018-02-27') + 0 * day,\r\n    assign: 1\r\n  }, {\r\n    pending: '15',\r\n    from: formatear('2018-02-28') - 1 * day,\r\n    to: formatear('2018-02-28') + 0 * day,\r\n    assign: 1\r\n  }, ]\r\n}, ];\r\n\r\ngrafica(js);\r\n\r\n\r\n\r\n\r\nfunction grafica(script) {\r\n  //console.log(script);\r\n\r\n\r\n  var json = script;\r\n\r\n  series = json.map(function(item, i) {\r\n    var data = item.deals.map(function(deal) {\r\n      return {\r\n        id: 'deal-' + i,\r\n        pending: deal.pending,\r\n        start: deal.from,\r\n        end: deal.to,\r\n        assign: deal.assign,\r\n        y: i\r\n      };\r\n    });\r\n    return {\r\n      name: item.assigns,\r\n      data: data,\r\n      current: item.deals[item.current],\r\n      pendings: item.pendings,\r\n      finalized: item.finalized,\r\n      asigned: item.asigned\r\n    };\r\n  });\r\n\r\n  Highcharts.ganttChart('container', {\r\n    series: series,\r\n    title: {\r\n      text: 'Resume'\r\n    },\r\n    tooltip: {\r\n      pointFormat: '&lt;span&gt;Pendings: {point.pending}&lt;/span&gt;&lt;br/&gt;&lt;span&gt;From: {point.start:%e. %b}&lt;/span&gt;&lt;br/&gt;&lt;span&gt;To: {point.end:%e. %b}&lt;/span&gt;'\r\n    },\r\n    xAxis: {\r\n      currentDateIndicator: true\r\n    },\r\n    yAxis: {\r\n      type: 'category',\r\n      grid: {\r\n        columns: [{\r\n            title: {\r\n              text: 'Person'\r\n            },\r\n            categories: map(series, function(s) {\r\n              return s.name;\r\n            })\r\n          }, {\r\n            title: {\r\n              text: 'Assigns'\r\n            },\r\n            categories: map(series, function(s) {\r\n              return s.asigned;\r\n            })\r\n          }, {\r\n            title: {\r\n              text: 'Ends'\r\n            },\r\n            categories: map(series, function(s) {\r\n              return s.finalized;\r\n            })\r\n          }, {\r\n            title: {\r\n              text: 'From'\r\n            },\r\n            categories: map(series, function(s) {\r\n              return dateFormat('%e. %b', s.current.from);\r\n            })\r\n          }, {\r\n            title: {\r\n              text: 'To'\r\n            },\r\n            categories: map(series, function(s) {\r\n              return dateFormat('%e. %b', s.current.to);\r\n            })\r\n          },\r\n          {\r\n            title: {\r\n              text: 'Pendings'\r\n            },\r\n            categories: map(series, function(s) {\r\n              return s.pendings;\r\n            })\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  });\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#container {\r\n  max-width: 1200px;\r\n  min-width: 800px;\r\n  height: 400px;\r\n  margin: 1em auto;\r\n}\r\n\r\n.scrolling-container {\r\n  overflow-x: auto;\r\n  -webkit-overflow-scrolling: touch;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/1.2.3/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://code.highcharts.com/gantt/highcharts-gantt.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://code.highcharts.com/gantt/modules/exporting.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div class=\"scrolling-container\"&gt;\r\n  &lt;div id=\"container\"&gt;&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "arrays"], "comments": [{"owner": {"reputation": 25271, "user_id": 4989460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/627504df176d3faaec81c45c963235f4?s=128&d=identicon&r=PG&f=1", "display_name": "stdob--", "link": "https://stackoverflow.com/users/4989460/stdob"}, "edited": false, "score": 1, "creation_date": 1551912624, "post_id": 55033400, "comment_id": 96819335, "body": "What is your attempt?"}, {"owner": {"reputation": 3, "user_id": 9551659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35d504cb0668c36664f7309be1c3b455?s=128&d=identicon&r=PG", "display_name": "Nick The Dev", "link": "https://stackoverflow.com/users/9551659/nick-the-dev"}, "reply_to_user": {"reputation": 25271, "user_id": 4989460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/627504df176d3faaec81c45c963235f4?s=128&d=identicon&r=PG&f=1", "display_name": "stdob--", "link": "https://stackoverflow.com/users/4989460/stdob"}, "edited": false, "score": 0, "creation_date": 1551913256, "post_id": 55033400, "comment_id": 96819587, "body": "I was struggling to come up with one. The version of Javascript that im using doesnt use ES6. So im actually at a loss where to start."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9551659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35d504cb0668c36664f7309be1c3b455?s=128&d=identicon&r=PG", "display_name": "Nick The Dev", "link": "https://stackoverflow.com/users/9551659/nick-the-dev"}, "edited": false, "score": 0, "creation_date": 1551913346, "post_id": 55033543, "comment_id": 96819617, "body": "This is correct. But after further research ive discovered the version of JavaScript that im using does not support ES6. So functions like map and Array.from cant be used. I&#39;ve updated the question with this information."}, {"owner": {"reputation": 62191, "user_id": 3993662, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/20ce5cf17ddc888ba9d7b5e639f040b2?s=128&d=identicon&r=PG&f=1", "display_name": "baao", "link": "https://stackoverflow.com/users/3993662/baao"}, "reply_to_user": {"reputation": 3, "user_id": 9551659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35d504cb0668c36664f7309be1c3b455?s=128&d=identicon&r=PG", "display_name": "Nick The Dev", "link": "https://stackoverflow.com/users/9551659/nick-the-dev"}, "edited": false, "score": 0, "creation_date": 1551913989, "post_id": 55033543, "comment_id": 96819835, "body": "Added a version that doesn&#39;t use es6. Please make sure to include all necessary information into your question the next time @NickTheDev"}], "tags": [], "owner": {"reputation": 62191, "user_id": 3993662, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/20ce5cf17ddc888ba9d7b5e639f040b2?s=128&d=identicon&r=PG&f=1", "display_name": "baao", "link": "https://stackoverflow.com/users/3993662/baao"}, "is_accepted": true, "score": 0, "last_activity_date": 1551913934, "last_edit_date": 1551913934, "creation_date": 1551913103, "answer_id": 55033543, "question_id": 55033400, "link": "https://stackoverflow.com/questions/55033400/javascript-merge-two-lists-into-json-object-and-append-same-key-values-together/55033543#55033543", "title": "JavaScript: Merge Two Lists into JSON object and append same key values together without ES6", "body": "<p>You can combine them using map, then group them and convert that to an array of objects then</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const codes = [\"12345\", \"12345\",\"67890\", \"67890\", \"67890\",\"67890\",\"12092\", \"12092\"];\r\nconst errors = [\"12345 error 1\",\"12345 error 2\",\"67890 error 1\",\"67890 error 2\",\"67890 error 3\",\"67890 error 4\",\"12092 error 1\", \"12092 error 2\"];\r\n\r\nconst res = Array.from(\r\n    codes.map((e, i) =&gt; ({code: e, errors: errors[i]}))\r\n        .reduce((a, b) =&gt; a.set(b.code, (a.get(b.code) || []).concat(b.errors)), new Map))\r\n    .map(([k, v]) =&gt; ({code:k, errors: v}));\r\nconsole.log(res);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If you really want the errors to be a single string, add .join() </p>\n\n<pre><code>.map(([k, v]) =&gt; ({code:k, errors: v.join()}));\n</code></pre>\n\n<hr>\n\n<p>Pre ES6 Version</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var codes = [\"12345\", \"12345\", \"67890\", \"67890\", \"67890\", \"67890\", \"12092\", \"12092\"];\r\nvar errors = [\"12345 error 1\", \"12345 error 2\", \"67890 error 1\", \"67890 error 2\", \"67890 error 3\", \"67890 error 4\", \"12092 error 1\", \"12092 error 2\"];\r\n\r\nvar grouped =\r\n  codes.map(function(e, i) {\r\n    return {\r\n      code: e,\r\n      errors: errors[i]\r\n    };\r\n  })\r\n  .reduce(function(a, b) {\r\n    a[b.code] = (a[b.code] || []).concat(b.errors);\r\n    return a;\r\n  }, {});\r\n\r\nvar res = Object.keys(grouped).map(function(e) {\r\n  return {\r\n    code: e,\r\n    errors: grouped[e]\r\n  }\r\n});\r\n\r\nconsole.log(res);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 3, "user_id": 9551659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35d504cb0668c36664f7309be1c3b455?s=128&d=identicon&r=PG", "display_name": "Nick The Dev", "link": "https://stackoverflow.com/users/9551659/nick-the-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 55033543, "answer_count": 1, "score": -3, "last_activity_date": 1551913934, "creation_date": 1551912368, "last_edit_date": 1551913277, "question_id": 55033400, "link": "https://stackoverflow.com/questions/55033400/javascript-merge-two-lists-into-json-object-and-append-same-key-values-together", "title": "JavaScript: Merge Two Lists into JSON object and append same key values together without ES6", "body": "<p>A quick javascript question. Given two arrays and assuming that they are the same length. I would like to combine the two arrays into an array of json objects. ALSO if the code is already present in the array then append the error to the existing .error element. If anyone could provide a solution that uses vanilla javascript and NOT ES6 it would be appreciated.</p>\n\n<pre><code>var codes = [\"12345\", \"12345\",\"67890\", \"67890\", \"67890\",\"67890\",\"12092\", \"12092\"];\n\nvar errors = [\"12345 error 1\",\"12345 error 2\",\"67890 error 1\",\"67890 error 2\",\"67890 error 3\",\"67890 error 4\",\"12092 error 1\",\"12092 error 2\"];\n</code></pre>\n\n<p>Should be transformed to</p>\n\n<pre><code>{\n    \"code\": \"12345\",\n    \"error\": \"12345 error 1, 12345 error 2\"\n},\n{\n    \"code\": \"67890\",\n    \"error\": \"67890 error 1, 67890 error 2, 67890 error 3, 67890 error 4, 67890 error 5\"\n},\n{\n    \"code\": \"12092\",\n    \"error\": \"12092 error 1 , 12092 error 2\"\n}\n</code></pre>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 1, "creation_date": 1551912597, "post_id": 55033388, "comment_id": 96819317, "body": "Use a <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Template_literals\" rel=\"nofollow noreferrer\">template literal</a> instead: <code>`a[href$=${userID}]`</code>"}, {"owner": {"reputation": 3727, "user_id": 4084574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/cgyc0.jpg?s=128&g=1", "display_name": "mhatch", "link": "https://stackoverflow.com/users/4084574/mhatch"}, "edited": false, "score": 0, "creation_date": 1551912675, "post_id": 55033388, "comment_id": 96819355, "body": "Try <code>$(`a[href$=${userID}]`).css(&#39;color&#39;,&#39;blue&#39;);</code>"}, {"owner": {"reputation": 3727, "user_id": 4084574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/cgyc0.jpg?s=128&g=1", "display_name": "mhatch", "link": "https://stackoverflow.com/users/4084574/mhatch"}, "reply_to_user": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1551912768, "post_id": 55033388, "comment_id": 96819395, "body": "@GetOffMyLawn I thought the same... how did you get the backticks to show correctly in the comment code format? backtick-example-backtick"}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 1, "creation_date": 1551912804, "post_id": 55033388, "comment_id": 96819409, "body": "I used a &quot;\\&quot; to escape them"}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 1, "creation_date": 1551912903, "post_id": 55033388, "comment_id": 96819459, "body": "Or string concatenation if you need browser support that doesn&#39;t allow template literals"}], "answers": [{"tags": [], "owner": {"reputation": 2868, "user_id": 1079731, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/739a623415f9f77afd78a7cd1a490907?s=128&d=identicon&r=PG", "display_name": "Joshua Robinson", "link": "https://stackoverflow.com/users/1079731/joshua-robinson"}, "is_accepted": true, "score": 0, "last_activity_date": 1551913679, "creation_date": 1551913679, "answer_id": 55033624, "question_id": 55033388, "link": "https://stackoverflow.com/questions/55033388/how-to-find-href-to-match-with-the-url/55033624#55033624", "title": "How to find href to match with the URL", "body": "<p>User id is missing from the selector and needs to have wrapping parenthesis around the value. Working example below:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Anchor elements implement Location object, makes for a good mock\r\nconst mockLocation = document.createElement('a');\r\nmockLocation.href = 'http://www.foobar.com/admin/123/user/123/';\r\n\r\nconst pathnameParts = mockLocation.pathname.split('/');\r\n\r\nconst adminId = pathnameParts[2];\r\nconst userId = pathnameParts[4];\r\n\r\nif (adminId === userId){\r\n  $(`a[href=\"/user/${userId}\"]`).css('color','purple');             \r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;a href=\"/user/123\"&gt;User 123&lt;/a&gt;\r\n&lt;a href=\"/user/129\"&gt;User 129&lt;/a&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 13, "user_id": 11162363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ec816ff497e5732db066d3d3f08f86b?s=128&d=identicon&r=PG&f=1", "display_name": "mitinca", "link": "https://stackoverflow.com/users/11162363/mitinca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 55033624, "answer_count": 1, "score": 1, "last_activity_date": 1551913679, "creation_date": 1551912314, "last_edit_date": 1551912421, "question_id": 55033388, "link": "https://stackoverflow.com/questions/55033388/how-to-find-href-to-match-with-the-url", "title": "How to find href to match with the URL", "body": "<p>How to select the <code>&lt;a&gt;</code> that its ending href matches with the userID and adminID that are both arrays extracted from the URL? I am trying the following, but it is not working.</p>\n\n<pre><code>if (userID == adminID){\n    $(\"a[href$=userID]\").css('color','blue');                           \n}\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "wordpress"], "comments": [{"owner": {"reputation": 236, "user_id": 11082920, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SKbK4tGksAc/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOD2qoSuhd_aMx7RgcjYqEsfyftTA/mo/photo.jpg?sz=128", "display_name": "Artur Leinweber", "link": "https://stackoverflow.com/users/11082920/artur-leinweber"}, "edited": false, "score": 0, "creation_date": 1551912487, "post_id": 55033379, "comment_id": 96819267, "body": "have you tried jQuery(&quot;selector&quot;) instead?"}, {"owner": {"reputation": 8596, "user_id": 1172189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VKq9g.jpg?s=128&g=1", "display_name": "disinfor", "link": "https://stackoverflow.com/users/1172189/disinfor"}, "edited": false, "score": 0, "creation_date": 1551912520, "post_id": 55033379, "comment_id": 96819287, "body": "Show us a function that &quot;doesn&#39;t work&quot;"}, {"owner": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 0, "creation_date": 1551912578, "post_id": 55033379, "comment_id": 96819309, "body": "<code>window.$ = $</code> inside the UMD code you provided, but that breaks your wordpress compatability and wouldn&#39;t be available until after that code is executed."}, {"owner": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 0, "creation_date": 1551912586, "post_id": 55033379, "comment_id": 96819311, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/5775512/how-do-you-install-jquery-in-wordpress\">How do you install jQuery in Wordpress?</a>"}, {"owner": {"reputation": 76, "user_id": 4004526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8wAV.png?s=128&g=1", "display_name": "Richard Uie", "link": "https://stackoverflow.com/users/4004526/richard-uie"}, "edited": false, "score": 0, "creation_date": 1551912665, "post_id": 55033379, "comment_id": 96819351, "body": "Take a look at previous, related discussion at: <a href=\"https://stackoverflow.com/questions/2212602/versus-jquery\">stackoverflow.com/questions/2212602/versus-jquery</a>"}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 1, "creation_date": 1551912994, "post_id": 55033379, "comment_id": 96819495, "body": "The first snippet is called an <i>Immediately Invoked Functional Expression</i> or <i>IIFE</i> for short."}, {"owner": {"reputation": 626, "user_id": 308685, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/98881146d96ee6f00cf2ae1120335740?s=128&d=identicon&r=PG", "display_name": "StrattonL", "link": "https://stackoverflow.com/users/308685/strattonl"}, "edited": false, "score": 0, "creation_date": 1551913094, "post_id": 55033379, "comment_id": 96819538, "body": "I have updated the question to provide context."}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 1, "creation_date": 1551913128, "post_id": 55033379, "comment_id": 96819548, "body": "<code>initMap</code> is defined inside the IIFE, as such it will only exist inside that scope.  Anything in the global scope, outside of that IIFE, will not be able to access it."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1551913145, "post_id": 55033379, "comment_id": 96819559, "body": "<code>function initMap() { (function ($) { ... })(jQuery); }</code>"}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1551913240, "post_id": 55033379, "comment_id": 96819580, "body": "Personally if you are thinking of doing what ChrisG has ^^^, I&#39;d argue for just doing <code>var $ = jQuery</code> in the method and do without the IIFE."}], "answers": [{"tags": [], "owner": {"reputation": 21640, "user_id": 807787, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/65inB.jpg?s=128&g=1", "display_name": "Jeremy J Starcher", "link": "https://stackoverflow.com/users/807787/jeremy-j-starcher"}, "is_accepted": false, "score": 0, "last_activity_date": 1551912636, "creation_date": 1551912636, "answer_id": 55033457, "question_id": 55033379, "link": "https://stackoverflow.com/questions/55033379/jquery-functions-inside-function-code-jquery/55033457#55033457", "title": "jQuery - functions inside (function ($) { //code }(jQuery));", "body": "<p>Every time you use the <code>function</code> keyword, you are creating a new scope.  This applies if you are using a function expression or a function statement.</p>\n\n<p>You will need to either use that function in a scope that can see it, or you'll have to <em>export</em> that function to something more public.</p>\n\n<p>I don't know enough about wordpress to discuss how to do that.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function scope1() {\r\n  // This scope is private\r\n  function private() {\r\n  }\r\n}\r\n\r\nfunction scope2() {\r\n  // This is a whole different scope that cannot\r\n  // see anything inside of scope 1.\r\n  function private() {\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 626, "user_id": 308685, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/98881146d96ee6f00cf2ae1120335740?s=128&d=identicon&r=PG", "display_name": "StrattonL", "link": "https://stackoverflow.com/users/308685/strattonl"}, "edited": false, "score": 0, "creation_date": 1599934774, "post_id": 55033608, "comment_id": 112931903, "body": "Thanks, the second option worked for me. Apologies for not marking the answer sooner!"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "reply_to_user": {"reputation": 626, "user_id": 308685, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/98881146d96ee6f00cf2ae1120335740?s=128&d=identicon&r=PG", "display_name": "StrattonL", "link": "https://stackoverflow.com/users/308685/strattonl"}, "edited": false, "score": 0, "creation_date": 1599993415, "post_id": 55033608, "comment_id": 112942341, "body": "All three should work though, the important thing is that the <code>initMap</code> function is visible from outside."}], "tags": [], "owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "is_accepted": true, "score": 0, "last_activity_date": 1551913523, "creation_date": 1551913523, "answer_id": 55033608, "question_id": 55033379, "link": "https://stackoverflow.com/questions/55033379/jquery-functions-inside-function-code-jquery/55033608#55033608", "title": "jQuery - functions inside (function ($) { //code }(jQuery));", "body": "<p>Here's three ways to do this:</p>\n\n<pre><code>function initMap() {\n  (function($) {\n    /*...*/\n  })(jQuery);\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>function initMap() {\n  const $ = jQuery;\n  /*...*/\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>function init($) {\n  /*...*/\n}\n\nfunction initMap() {\n  init(jQuery);\n}\n</code></pre>\n"}], "owner": {"reputation": 626, "user_id": 308685, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/98881146d96ee6f00cf2ae1120335740?s=128&d=identicon&r=PG", "display_name": "StrattonL", "link": "https://stackoverflow.com/users/308685/strattonl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 55033608, "answer_count": 2, "score": 1, "last_activity_date": 1551913523, "creation_date": 1551912274, "last_edit_date": 1551913149, "question_id": 55033379, "link": "https://stackoverflow.com/questions/55033379/jquery-functions-inside-function-code-jquery", "title": "jQuery - functions inside (function ($) { //code }(jQuery));", "body": "<p>I have a function to create a Google Map along with some other logic to create markers, infowindows and enable some user interaction to control the map.</p>\n\n<p>When using jQuery and WordPress, by default, the $ function is disabled for compatibility.</p>\n\n<p>To overcome this, I have encapsulated all my JavaScript code inside the following block:</p>\n\n<pre><code>(function ($) {\n\nfunction initMap() {\nconsole.log(\"Initmap start\");\nmap = new google.maps.Map(document.getElementById(\"dealer-map\"), {\n    center: new google.maps.LatLng(54.583408, -4.125605),\n    zoom: 5\n});\nsetMarkers(map);\n}\n\n//...other code\n\n}(jQuery));\n</code></pre>\n\n<p><em>(Sorry, I'm not sure what the above would be known as, hence the title)</em></p>\n\n<p>There is then a function callback within the Google Maps API code which calls the <code>initMap();</code> function once the API has loaded, however this does not work. I attempt to call this manually via the Chrome developer console, but a receive:</p>\n\n<blockquote>\n  <p>ReferenceError: initMap is not defined</p>\n</blockquote>\n\n<p>Is there any way around this? Or would it be easier to just enable the $ function?</p>\n"}, {"tags": ["javascript", "jquery", "hash", "toggle", "anchor"], "comments": [{"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 3, "creation_date": 1551912028, "post_id": 55033328, "comment_id": 96819084, "body": "<code>window.location.hash.slice(1)</code> will get you the hash without the #"}], "answers": [{"comments": [{"owner": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "edited": false, "score": 0, "creation_date": 1551912515, "post_id": 55033413, "comment_id": 96819282, "body": "Please add a usage example :)"}, {"owner": {"reputation": 151, "user_id": 2297039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef7898017c1ccc20fc5c67e21370d7ca?s=128&d=identicon&r=PG", "display_name": "bobzIlla", "link": "https://stackoverflow.com/users/2297039/bobzilla"}, "edited": false, "score": 0, "creation_date": 1551926175, "post_id": 55033413, "comment_id": 96822691, "body": "Thank you, I need to work with this a while to translate it"}], "tags": [], "owner": {"reputation": 322, "user_id": 5818452, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PvHLlOLEwng/AAAAAAAAAAI/AAAAAAAAAPA/8yO0-EhsBxk/photo.jpg?sz=128", "display_name": "Thomas Prince", "link": "https://stackoverflow.com/users/5818452/thomas-prince"}, "is_accepted": false, "score": 1, "last_activity_date": 1551913086, "last_edit_date": 1551913086, "creation_date": 1551912432, "answer_id": 55033413, "question_id": 55033328, "link": "https://stackoverflow.com/questions/55033328/show-select-divs-when-hashed-anchors-are-in-url/55033413#55033413", "title": "Show select DIVs when hashed anchors are in URL", "body": "<p>You can certainly use this method that Taplar suggested, or you can scrap this and use css only with the :target pseudo selector <a href=\"https://css-tricks.com/almanac/selectors/t/target/\" rel=\"nofollow noreferrer\">See css tricks here</a></p>\n\n<p>Essentially you will hide your sections like you're already doing and then add a class with display:block like this</p>\n\n<pre><code>#contact:target {\n    display: block;\n}\n</code></pre>\n\n<p>Admittedly, showing default content is a little trickier. You could test that a value exists in the hash and show default content if it doesn't. I'll look into this and get back to you</p>\n\n<p><strong>Edit:</strong> Check out <a href=\"https://stackoverflow.com/questions/6867095/css-selector-when-target-empty\">this question</a>'s accepted answer using pseudo selectors</p>\n\n<p><a href=\"http://jsbin.com/emahek/2/edit?html,css,js,output\" rel=\"nofollow noreferrer\">Here's a link to that question</a></p>\n\n<p>You could maybe do something similar to this:\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>/* based onhttps://stackoverflow.com/questions/6867095/css-selector-when-target-empty */\r\n.section-wrapper&gt;.dynamic-content:target~#default-content,\r\n.section-wrapper&gt;.dynamic-content {\r\n  display: none;\r\n}\r\n\r\n.dynamic-content&gt;#default-content,\r\n.dynamic-content&gt;.dynamic-content:target {\r\n  display: block;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"section-wrapper\"&gt;\r\n  &lt;div id=\"default-content\" class=\"dynamic-content\"&gt;\r\n    This is the default content\r\n  &lt;/div&gt;\r\n  &lt;!-- Dynamic Section 1 --&gt;\r\n  &lt;div id=\"contact\" class=\"dynamic-content\"&gt;\r\n    Contact content\r\n  &lt;/div&gt;\r\n  &lt;!-- Dynamic Section 2 --&gt;\r\n  &lt;div id=\"expertise\" class=\"dynamic-content\"&gt;\r\n    Expertise content\r\n  &lt;/div&gt;\r\n  &lt;!-- Dynamic Section 3 --&gt;\r\n  &lt;div id=\"about\" class=\"dynamic-content\"&gt;\r\n    About content\r\n  &lt;/div&gt;\r\n  &lt;!-- Dynamic Section 3 --&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Ran out of time, so didn't have a chance to test, but something like this should work</p>\n"}, {"comments": [{"owner": {"reputation": 151, "user_id": 2297039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef7898017c1ccc20fc5c67e21370d7ca?s=128&d=identicon&r=PG", "display_name": "bobzIlla", "link": "https://stackoverflow.com/users/2297039/bobzilla"}, "edited": false, "score": 0, "creation_date": 1551913898, "post_id": 55033427, "comment_id": 96819803, "body": "Thanks! I could only get #default-content to display"}], "tags": [], "owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "is_accepted": false, "score": 1, "last_activity_date": 1551912504, "creation_date": 1551912504, "answer_id": 55033427, "question_id": 55033328, "link": "https://stackoverflow.com/questions/55033328/show-select-divs-when-hashed-anchors-are-in-url/55033427#55033427", "title": "Show select DIVs when hashed anchors are in URL", "body": "<p>You can reduce your logic.  You can make a map of valid hashes to the selectors for the sections to show them.  Look the selector up, defaulting if it is not found, and show the section.</p>\n\n<pre><code>$(document).ready(function() {\n  var contentByHash = {\n    about: '#about'\n    , expertise: '#expertise'\n    , contact: '#contact'\n  };\n  var hash = window.location.hash.slice(1);\n\n  $(contentByHash[hash] || '#default-content').show();\n});\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 2297039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef7898017c1ccc20fc5c67e21370d7ca?s=128&d=identicon&r=PG", "display_name": "bobzIlla", "link": "https://stackoverflow.com/users/2297039/bobzilla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551915004, "creation_date": 1551911976, "last_edit_date": 1551915004, "question_id": 55033328, "link": "https://stackoverflow.com/questions/55033328/show-select-divs-when-hashed-anchors-are-in-url", "title": "Show select DIVs when hashed anchors are in URL", "body": "<p>I'd like to conditionally show a div when only a specific anchor link (myurl.com/#about) is displayed. I have .dynamic-content set to display: none in my css. #default-content shows, so I know I'm close, but I'm new to this level of scripting. What's the best way to get this to work? Thanks!</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>(function($) {\r\n  // Parse the URL parameter\r\n  function getParameterByName(name, url) {\r\n    if (!url) {\r\n      url = location.href.split(\"#\").slice(-1)[0];\r\n    }\r\n\r\n    return url;\r\n\r\n  }\r\n  // Give the parameter a variable name\r\n  var dynamicContent = getParameterByName('#');\r\n\r\n  $(document).ready(function() {\r\n\r\n    // Check if the URL parameter is about\r\n    if (dynamicContent == 'about') {\r\n      $('#about').show();\r\n    }\r\n    // Check if the URL parameter is expertise\r\n    else if (dynamicContent == 'expertise') {\r\n      $('#expertise').show();\r\n    }\r\n    // Check if the URL parameter is contact\r\n    else if (dynamicContent == 'contact') {\r\n      $('#contact').show();\r\n    }\r\n    // Check if the URL parmeter is empty or not defined, display default content\r\n    else {\r\n      $('#default-content').show();\r\n    }\r\n  });\r\n})(jQuery);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>  &lt;div id=\"default-content\" class=\"dynamic-content\"&gt;\r\n    This is the default content\r\n  &lt;/div&gt;\r\n  &lt;!-- Dynamic Section 1 --&gt;\r\n  &lt;div id=\"contact\" class=\"dynamic-content\"&gt;\r\n    Contact content\r\n  &lt;/div&gt;\r\n  &lt;!-- Dynamic Section 2 --&gt;\r\n  &lt;div id=\"expertise\" class=\"dynamic-content\"&gt;\r\n    Expertise content\r\n  &lt;/div&gt;\r\n  &lt;!-- Dynamic Section 3 --&gt;\r\n  &lt;div id=\"about\" class=\"dynamic-content\"&gt;\r\n    About content\r\n  &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "parquet"], "owner": {"reputation": 8627, "user_id": 5285068, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8967c033e617a2fb6f7d8fd7b5a12eb5?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/5285068/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 264, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1551912202, "creation_date": 1551911853, "last_edit_date": 1551912202, "question_id": 55033306, "link": "https://stackoverflow.com/questions/55033306/nodejs-parquet-reader-how-to-read-from-a-variable-instead-of-file", "title": "NodeJS parquet-reader - how to read from a variable instead of file?", "body": "<p>I started using <code>node-parquet</code> (<a href=\"https://www.npmjs.com/package/node-parquet\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/node-parquet</a>) (src: <a href=\"https://github.com/mvertes/node-parquet\" rel=\"nofollow noreferrer\">https://github.com/mvertes/node-parquet</a>) and it is explained how we can read parquet data from a file:</p>\n\n<pre><code>var reader = new np.ParquetReader('myfile.parquet');\n</code></pre>\n\n<p>How to read parquet from a text variable instead of a file (text variable contains actual parquet data). </p>\n\n<p>Right now I am forced to save that text/parquet variable to into a file and then read it with above code..</p>\n"}, {"tags": ["javascript", "php", "jquery", "html", "ajax"], "comments": [{"owner": {"reputation": 3967, "user_id": 934966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qYv6e.jpg?s=128&g=1", "display_name": "Jonnix", "link": "https://stackoverflow.com/users/934966/jonnix"}, "edited": false, "score": 2, "creation_date": 1551911876, "post_id": 55033266, "comment_id": 96819027, "body": "1) I don&#39;t believe <code>var Purchase Order</code> is valid, 2) you test for <code>$description0</code>, but your variable is <code>description</code>, your other vars in the <code>if</code> aren&#39;t right either, none of them should have a <code>$</code> looking at the code."}, {"owner": {"reputation": 4326, "user_id": 3281014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIpXo.jpg?s=128&g=1", "display_name": "Nawed Khan", "link": "https://stackoverflow.com/users/3281014/nawed-khan"}, "edited": false, "score": 1, "creation_date": 1551911905, "post_id": 55033266, "comment_id": 96819039, "body": "What is not working? Is the form is validating? or you are always getting &quot;Please Fill All Fields&quot;? You have a var Purchase Order which is wrong."}, {"owner": {"reputation": 1, "user_id": 11162408, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fBGqsFN98V0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reRXJn8QC2MUepqxLj_PdRJnOjPMQ/mo/photo.jpg?sz=128", "display_name": "Singh", "link": "https://stackoverflow.com/users/11162408/singh"}, "reply_to_user": {"reputation": 4326, "user_id": 3281014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIpXo.jpg?s=128&g=1", "display_name": "Nawed Khan", "link": "https://stackoverflow.com/users/3281014/nawed-khan"}, "edited": false, "score": 0, "creation_date": 1551912152, "post_id": 55033266, "comment_id": 96819120, "body": "@NawedKhan form is not validating."}, {"owner": {"reputation": 3722, "user_id": 5696502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/COpFB.png?s=128&g=1", "display_name": "ArSeN", "link": "https://stackoverflow.com/users/5696502/arsen"}, "edited": false, "score": 1, "creation_date": 1551912166, "post_id": 55033266, "comment_id": 96819123, "body": "Assuming you are running the JS part in a browser, did you have a look at the developer console to see what errors are thrown?"}, {"owner": {"reputation": 4326, "user_id": 3281014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIpXo.jpg?s=128&g=1", "display_name": "Nawed Khan", "link": "https://stackoverflow.com/users/3281014/nawed-khan"}, "edited": false, "score": 3, "creation_date": 1551912676, "post_id": 55033266, "comment_id": 96819356, "body": "the whole IF condition is malformed. What is empty() ? why there are $ marks? variable names don&#39;t match. else block has no opening { bracket."}, {"owner": {"reputation": 1387, "user_id": 9645594, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NXfaz.png?s=128&g=1", "display_name": "Second2None", "link": "https://stackoverflow.com/users/9645594/second2none"}, "edited": false, "score": 0, "creation_date": 1551913063, "post_id": 55033266, "comment_id": 96819528, "body": "Besides all the other issues people have mentioned you also haven&#39;t assigned anything to <code>dataString</code> which you are using in your ajax"}], "owner": {"reputation": 1, "user_id": 11162408, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fBGqsFN98V0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reRXJn8QC2MUepqxLj_PdRJnOjPMQ/mo/photo.jpg?sz=128", "display_name": "Singh", "link": "https://stackoverflow.com/users/11162408/singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1552527259, "creation_date": 1551911597, "last_edit_date": 1552527259, "question_id": 55033266, "link": "https://stackoverflow.com/questions/55033266/button-click-wont-display-contents", "title": "Button Click Won&#39;t display contents", "body": "<p>On button click. code suppose to submit the contents and display the contents. can't figure out where I am going wrong.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> \r\n\r\n  var currentDate = new Date()\r\n\tvar day = currentDate.getDate()\r\n\tvar month = currentDate.getMonth() + 1\r\n\tvar year = currentDate.getFullYear()\r\n\tdocument.getElementById('date').innerHTML =(\"&lt;b&gt;\" + day + \"/\" + month + \"/\" + year + \"&lt;/b&gt;\");\r\n\r\n$(document).ready(function(){\r\n\t$('#btn_submit').click(function(){\r\n\t\tvar descriptionO =$('#descriptionO').val();\r\n\t\tvar PurchaseO = $('#PurchaseO').val;\r\n\t\tvar total = $('#total');\r\n\t\tvar notes = $('#notes');\r\n\t$.post('ajaxjs.php'),{postdescriptionO:descriptionO,postPurchaseO:PurchaseO,posttotal:total,postnotes:notes},\r\n\r\n\t$.ajax({\r\n\ttype:'Post',\r\n\turl: 'index.php',\r\n\tdata: $(this).serialize(),\r\n\tcache: false,\r\n\tsuccess: function(result){\r\n\t\t$(\"display\").html(result);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>$descriptionO=$_POST['descriptionO'];\r\n$PurchaseO=$_POST['PurchaseO'];\r\n$total=$_POST['total'];\r\n$notes=$_POST['notes'];</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>When I click the button nothing happens. I have inspected the page and it is not throwing any error. When I click the button I suppose to receive content displayed on the same page.I am a beginner</p>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 11024, "user_id": 419705, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/cvuY8.png?s=128&g=1", "display_name": "Roddy of the Frozen Peas", "link": "https://stackoverflow.com/users/419705/roddy-of-the-frozen-peas"}, "edited": false, "score": 0, "creation_date": 1551911725, "post_id": 55033229, "comment_id": 96818969, "body": "I&#39;m kind of stumped why you&#39;re doing it this way instead of just setting the background image and shifting it as needed. Or using sprites. Or both."}, {"owner": {"reputation": 16793, "user_id": 4665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8f83c3e22eab30856c803b1d96e1a04f?s=128&d=identicon&r=PG", "display_name": "Jon P", "link": "https://stackoverflow.com/users/4665/jon-p"}, "edited": false, "score": 0, "creation_date": 1551911741, "post_id": 55033229, "comment_id": 96818979, "body": "Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. What is <code>imgData</code>?"}, {"owner": {"reputation": 15, "user_id": 5240494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mMnzM.png?s=128&g=1", "display_name": "Giancarllo Rojas", "link": "https://stackoverflow.com/users/5240494/giancarllo-rojas"}, "reply_to_user": {"reputation": 11024, "user_id": 419705, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/cvuY8.png?s=128&g=1", "display_name": "Roddy of the Frozen Peas", "link": "https://stackoverflow.com/users/419705/roddy-of-the-frozen-peas"}, "edited": false, "score": 0, "creation_date": 1551914753, "post_id": 55033229, "comment_id": 96820070, "body": "@RoddyoftheFrozenPeas The images are very large, so I want to make sure they&#39;re preloaded before rendering them in background-image"}, {"owner": {"reputation": 11024, "user_id": 419705, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/cvuY8.png?s=128&g=1", "display_name": "Roddy of the Frozen Peas", "link": "https://stackoverflow.com/users/419705/roddy-of-the-frozen-peas"}, "edited": false, "score": 0, "creation_date": 1551914917, "post_id": 55033229, "comment_id": 96820119, "body": "Yes, that&#39;s why one usually preloads them in the background-url with a no-repeat and a huge offset so they don&#39;t show, and then once they&#39;ve loaded (or whatever other trigger) remove the offset."}, {"owner": {"reputation": 25691, "user_id": 1675954, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zZXdA.jpg?s=128&g=1", "display_name": "Rachel Gallen", "link": "https://stackoverflow.com/users/1675954/rachel-gallen"}, "edited": false, "score": 0, "creation_date": 1551918085, "post_id": 55033229, "comment_id": 96820903, "body": "@GiancarlloRojas Is there a reason why you start your for loop var at 1 instead of 0? Common practice would be to start at 0?"}], "answers": [{"tags": [], "owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "is_accepted": false, "score": 0, "last_activity_date": 1551926377, "creation_date": 1551926377, "answer_id": 55035211, "question_id": 55033229, "link": "https://stackoverflow.com/questions/55033229/brower-loads-the-same-image-2-times/55035211#55035211", "title": "Brower loads the same Image 2 times", "body": "<p>I am guessing that you have got the path wrong, hover your mouse over both of the image file names in the network tab and make sure that the full path matches.</p>\n\n<p>Either that or your server is setting a no cache header but I am not sure if that would cause multiple loads of the same image on a single page or not.</p>\n"}, {"comments": [{"owner": {"reputation": 1893, "user_id": 3816881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d54434c93ddb64341138b488f769335e?s=128&d=identicon&r=PG&f=1", "display_name": "Mathyn", "link": "https://stackoverflow.com/users/3816881/mathyn"}, "edited": false, "score": 0, "creation_date": 1551961016, "post_id": 55043498, "comment_id": 96837892, "body": "Maybe http-server passes along a no-cache flag making any manual preloading worthless as your browser will just decide to load them again."}], "tags": [], "owner": {"reputation": 15, "user_id": 5240494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mMnzM.png?s=128&g=1", "display_name": "Giancarllo Rojas", "link": "https://stackoverflow.com/users/5240494/giancarllo-rojas"}, "is_accepted": true, "score": 0, "last_activity_date": 1551960724, "creation_date": 1551960724, "answer_id": 55043498, "question_id": 55033229, "link": "https://stackoverflow.com/questions/55033229/brower-loads-the-same-image-2-times/55043498#55043498", "title": "Brower loads the same Image 2 times", "body": "<p>Well, turns out that the problem was not related to the code, I was doing a full working snippet for this post and, well, It was working just fine on the snippet, so I went deeper and found that the culprit was actually http-server(NodeJS simple http server), the dev server I was using.</p>\n\n<p>For some reason when my code ran on the http-server the browser could not preload the Images.</p>\n"}], "owner": {"reputation": 15, "user_id": 5240494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mMnzM.png?s=128&g=1", "display_name": "Giancarllo Rojas", "link": "https://stackoverflow.com/users/5240494/giancarllo-rojas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 55043498, "answer_count": 2, "score": 0, "last_activity_date": 1551960724, "creation_date": 1551911426, "last_edit_date": 1551914768, "question_id": 55033229, "link": "https://stackoverflow.com/questions/55033229/brower-loads-the-same-image-2-times", "title": "Brower loads the same Image 2 times", "body": "<p>I'm trying to preload Images and use it with css background-image, but I'm having troubles making the browser(only tested with Chrome at the moment) preload the Images.</p>\n\n<p>I'm loading the Images with this code:</p>\n\n<pre><code>for(var i = 1; i &lt;= options.imageCount; i++){\n    let img = new Image()\n    var src = options.imagePath + i + \".\" + quality + \".\" + options.imageFormat\n\n    img.onload = () =&gt; {\n        completeCount += 1\n\n        if(completeCount == options.imageCount){\n            callback(true)\n        }\n    }\n\n    img.src = src\n}\n</code></pre>\n\n<p>If I try to append the Images object into a container it works fine.</p>\n\n<p><code>DOMImgContainer.appendChild(img);</code></p>\n\n<p>But if I try to use the Image with the css background-image property</p>\n\n<p><code>DOMZoom.style.backgroundImage = \"url('\" + img.src + \"')\";</code></p>\n\n<p>the browser loads the image another time, instead of using the already preload. </p>\n\n<p><a href=\"https://i.stack.imgur.com/hWaMa.png\" rel=\"nofollow noreferrer\">Network in DevTools</a></p>\n\n<p>In the image above the first item is the image loaded with the preload code, the second one is the same image loaded again once a clicked on a button and added the image in the background-image property of a container. Thanks in advance!</p>\n"}, {"tags": ["javascript", "node.js", "typescript"], "comments": [{"owner": {"reputation": 21922, "user_id": 4855306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a6aabb85641845de100ab0b0b87463a?s=128&d=identicon&r=PG&f=1", "display_name": "bryan60", "link": "https://stackoverflow.com/users/4855306/bryan60"}, "edited": false, "score": 1, "creation_date": 1551911553, "post_id": 55033224, "comment_id": 96818904, "body": "typescript is transpiled into javascript, so no."}, {"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 1, "creation_date": 1551911674, "post_id": 55033224, "comment_id": 96818949, "body": "Plugging my own answer from a several years ago: <a href=\"https://stackoverflow.com/a/29572569/1715579\">yeah it&#39;s possible, but ugly</a> and not entirely reliable -- I recommend against using it in prod."}], "answers": [{"comments": [{"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1551913839, "post_id": 55033318, "comment_id": 96819788, "body": "Thanks @LeroyStav.  I&#39;m creating a custom Error and want to include the method name that threw the exception, and instead of writing it myself, I figured javascript could just grab it for me ... but apparently it&#39;s tricky :)"}, {"owner": {"reputation": 3130, "user_id": 2064808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d819efdb2d3f9983a1437f3c1b9f710?s=128&d=identicon&r=PG", "display_name": "David Knipe", "link": "https://stackoverflow.com/users/2064808/david-knipe"}, "edited": false, "score": 0, "creation_date": 1551914156, "post_id": 55033318, "comment_id": 96819893, "body": "If you just want to debug your code, why don&#39;t you print a stacktrace?"}, {"owner": {"reputation": 682, "user_id": 1442432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d03b9d49431da72c96a55db920a229c4?s=128&d=identicon&r=PG", "display_name": "Leroy Stav", "link": "https://stackoverflow.com/users/1442432/leroy-stav"}, "edited": false, "score": 0, "creation_date": 1551918740, "post_id": 55033318, "comment_id": 96821030, "body": "Actually, thats pretty much what p.s.w.g describes in his comment&#39;s link... you can parse the stack trace from the Error object that is thrown.  put a breakpoint there and see what properties are available and figure out what works for you"}], "tags": [], "owner": {"reputation": 682, "user_id": 1442432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d03b9d49431da72c96a55db920a229c4?s=128&d=identicon&r=PG", "display_name": "Leroy Stav", "link": "https://stackoverflow.com/users/1442432/leroy-stav"}, "is_accepted": true, "score": 2, "last_activity_date": 1551911895, "creation_date": 1551911895, "answer_id": 55033318, "question_id": 55033224, "link": "https://stackoverflow.com/questions/55033224/typescript-allowing-for-arguments-callee-name/55033318#55033318", "title": "Typescript allowing for arguments.callee.name?", "body": "<p>Sorry, buddy... either you want to be strict, or not.  arguments.callee was deprecated a decade ago.  What is the problem you are trying to solve?  Except for very specific circumstances there are better ways to deal with that...</p>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 324, "favorite_count": 0, "accepted_answer_id": 55033318, "answer_count": 1, "score": 0, "last_activity_date": 1551911895, "creation_date": 1551911391, "last_edit_date": 1551911781, "question_id": 55033224, "link": "https://stackoverflow.com/questions/55033224/typescript-allowing-for-arguments-callee-name", "title": "Typescript allowing for arguments.callee.name?", "body": "<p>If we <code>\"strict\": false</code> in <code>tsconfig.json</code>, then we can access <code>arguments.callee.name</code>. </p>\n\n<p>Is there some other setting that we can switch on, while keeping <code>\"strict\": true</code> to get the same effect?</p>\n\n<p>I'd like to be as strict as possible, and no stricter.</p>\n"}, {"tags": ["javascript", "reactjs", "ecmascript-6"], "comments": [{"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1551911874, "post_id": 55033222, "comment_id": 96819026, "body": "Not the issue, but either use <code>.bind</code> in the constructor or use class properties with arrow functions, but not both."}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 1, "creation_date": 1551911917, "post_id": 55033222, "comment_id": 96819046, "body": "Which of the two <code>toLowerCase</code> calls triggers the error?"}], "answers": [{"tags": [], "owner": {"reputation": 153, "user_id": 11066242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/191e1b45376c47436934bc4ec53f8b97?s=128&d=identicon&r=PG&f=1", "display_name": "user11066242", "link": "https://stackoverflow.com/users/11066242/user11066242"}, "is_accepted": false, "score": 0, "last_activity_date": 1551912158, "creation_date": 1551912158, "answer_id": 55033364, "question_id": 55033222, "link": "https://stackoverflow.com/questions/55033222/typeerror-cannot-read-property-tolowercase-of-undefined-in-react/55033364#55033364", "title": "TypeError: Cannot read property &#39;toLowerCase&#39; of undefined in react", "body": "<p><strong>Solved</strong>\nI didn't pass searchText to the table that's why it was giving an error</p>\n\n<pre><code>&lt;Table\n       list={list}\n       onDismiss={this.onDismiss}\n       searchText={searchText}/&gt;\n</code></pre>\n"}], "owner": {"reputation": 153, "user_id": 11066242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/191e1b45376c47436934bc4ec53f8b97?s=128&d=identicon&r=PG&f=1", "display_name": "user11066242", "link": "https://stackoverflow.com/users/11066242/user11066242"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2382, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1551912158, "creation_date": 1551911385, "question_id": 55033222, "link": "https://stackoverflow.com/questions/55033222/typeerror-cannot-read-property-tolowercase-of-undefined-in-react", "title": "TypeError: Cannot read property &#39;toLowerCase&#39; of undefined in react", "body": "<p>I am writing a program where items are printing in a table component and a search bar is given. Initially I had written all the components into a single component(App.js).\nBut now I am trying to split it into App, Table and Search\nWhile printing the values through props into Table I am getting an error:</p>\n\n<pre><code>TypeError: Cannot read property 'toLowerCase' of undefined\n</code></pre>\n\n<p>Code:</p>\n\n<p>App.js</p>\n\n<pre><code>import React, { Component } from 'react';\nimport './App.css';\nimport Table from './components/Table';\nimport Search from './components/Search';\n\nconst list = [\n  {\n  title: 'React',\n  url: 'https://facebook.github.io/react/',\n  author: 'Jordan Walke',\n  num_comments: 3,\n  points: 4,\n  objectID: 0,\n  },\n  {\n  title: 'Redux',\n  url: 'https://github.com/reactjs/redux',\n  author: 'Dan Abramov, Andrew Clark',\n  num_comments: 2,\n  points: 5,\n  objectID: 1,\n  },\n  {\n    title: 'Redux',\n    url: 'https://github.com/reactjs/redux',\n    author: 'Dan Abramov, Andrew Clark',\n    num_comments: 2,\n    points: 5,\n    objectID: 2,\n    },\n    {\n      title: 'Redux',\n      url: 'https://github.com/reactjs/redux',\n      author: 'Dan Abramov, Andrew Clark',\n      num_comments: 2,\n      points: 5,\n      objectID: 3,\n      },\n  ];\n\n  //will print the above data through map function\n  //iteratre through item object and will print each property\n  //will print out \nclass App extends Component {\n  constructor(){\n    super();\n    this.state={\n      list,\n      searchText:''\n    }\n    this.onDismiss=this.onDismiss.bind(this);\n    this.onSearchChange=this.onSearchChange.bind(this);\n    //this.isSearched=this.isSearched.bind(this);\n  }\n\n  //to add a delete button\n  onDismiss=(id)=&gt;{\n    //filter out item array and return results with no matched id\n    const deleteList=this.state.list.filter(item=&gt;item.objectID!==id);\n    //setting state of list to lastest deleteList\n    this.setState({\n      list:deleteList\n    })  \n  }\n  //to add a search bar\n  onSearchChange=(e)=&gt;{\n    //set state to value in search bar\n    this.setState({\n      [e.target.name]:e.target.value\n    })\n  }\n\n\n  render() {\n    const {list,searchText}=this.state;\n    return(\n      &lt;div&gt;\n       &lt;Table\n       list={list}\n       onDismiss={this.onDismiss}/&gt;\n       &lt;Search\n       searchText={searchText}\n       onSearchChange={this.onSearchChange}/&gt;\n      &lt;/div&gt;\n    )\n\n  }\n}\n</code></pre>\n\n<p>export default App;</p>\n\n<p>Table.js</p>\n\n<pre><code>import React, { Component } from 'react';\n\nclass Table extends Component {\n\n\n  render() {\n    const {list,searchText}=this.props;\n    return(\n        &lt;div&gt;\n\n       {/*Filter out item title and search title and give away results from item array */}\n        {list.filter((item)=&gt;{\n          {/*The includes() method determines whether an array includes a certain value among its entries\n          , returning true or false as appropriate. */}\n          return item.title.toLowerCase().includes(searchText.toLowerCase());}).map((item)=&gt;{\n\n            return(\n\n            &lt;div key={item.objectID}&gt;\n                  {item.objectID}\n                  {item.title}\n                  &lt;span&gt;{item.author}&lt;/span&gt;\n                  &lt;span&gt;{item.num_comments}&lt;/span&gt;\n                  &lt;span&gt;{item.points}&lt;/span&gt;\n                &lt;button onClick={()=&gt;this.onDismiss(item.objectID)}&gt;delete&lt;/button&gt;\n            &lt;/div&gt;\n\n          )})}\n      &lt;/div&gt;\n    )\n\n  }\n}\n\nexport default Table;\n</code></pre>\n\n<p>Search.js</p>\n\n<pre><code>import React, { Component } from 'react';\n\nclass Search extends Component {\n\n\n  render() {\n    const {searchText,onSearchChange}=this.props;\n    return(\n      &lt;div&gt;\n          &lt;input name=\"searchText\" value={searchText}onChange={onSearchChange} type=\"text\"&gt;&lt;/input&gt;\n      &lt;/div&gt;\n    )\n\n  }\n}\n\nexport default Search;\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 5133, "user_id": 154762, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d07d8564c1726ca28a6b99e560f0ec7?s=128&d=identicon&r=PG", "display_name": "solarc", "link": "https://stackoverflow.com/users/154762/solarc"}, "edited": false, "score": 0, "creation_date": 1551911993, "post_id": 55033143, "comment_id": 96819069, "body": "It seems to expect your data to comeback as an array of objects. If all you return is an array of strings, you might want to transform the data before calling callback: <code>data = data.map(x =&gt; ({&#39;key&#39;: x}))</code> and then use the same key for both the value and the label: <code>callback(data, &#39;key&#39;, &#39;key&#39;)</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2643810"}, "reply_to_user": {"reputation": 5133, "user_id": 154762, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d07d8564c1726ca28a6b99e560f0ec7?s=128&d=identicon&r=PG", "display_name": "solarc", "link": "https://stackoverflow.com/users/154762/solarc"}, "edited": false, "score": 0, "creation_date": 1551913630, "post_id": 55033143, "comment_id": 96819714, "body": "I tried your idea, but i get an error: <code>Cannot read property &#39;value&#39; of undefined</code> .. i have updated the post.. any ideas what could be?"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2643810"}, "edited": false, "score": 0, "creation_date": 1551912115, "post_id": 55033261, "comment_id": 96819111, "body": "I tried faking the data to be an object with that structure like: <code>response.json().then(function(data) {           debugger           data.genres = { value: &#39;val&#39;, label: &#39;lab&#39;}           callback(data.genres, &#39;data.genres.value&#39;, &#39;data.genres.label&#39;);         });</code> but i got an error:  <code>Cannot read property &#39;genres&#39; of undefined</code>"}], "tags": [], "owner": {"reputation": 322, "user_id": 5818452, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PvHLlOLEwng/AAAAAAAAAAI/AAAAAAAAAPA/8yO0-EhsBxk/photo.jpg?sz=128", "display_name": "Thomas Prince", "link": "https://stackoverflow.com/users/5818452/thomas-prince"}, "is_accepted": false, "score": 0, "last_activity_date": 1551911582, "creation_date": 1551911582, "answer_id": 55033261, "question_id": 55033143, "link": "https://stackoverflow.com/questions/55033143/how-to-use-choicesjs-ajax/55033261#55033261", "title": "How to use Choicesjs ajax?", "body": "<blockquote>\n  <p>Should my genres instead of being an array should be an object with a key value, a key label, and then data, would be that object?</p>\n</blockquote>\n\n<p>Seems like yes. In the example further up where it shows how to statically define choices it has that structure:</p>\n\n<pre><code>const example = new Choices(element, {\n choices: [\n   {value: 'One', label: 'Label One'},\n   {value: 'Two', label: 'Label Two', disabled: true},\n   {value: 'Three', label: 'Label Three'},\n  ],\n });\n</code></pre>\n\n<p>Seems to me the string arguments provide the keys to each of these fields</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2643810"}, "is_accepted": true, "score": 0, "last_activity_date": 1551978269, "creation_date": 1551978269, "answer_id": 55049272, "question_id": 55033143, "link": "https://stackoverflow.com/questions/55033143/how-to-use-choicesjs-ajax/55049272#55049272", "title": "How to use Choicesjs ajax?", "body": "<p>I fixed my problem which was setting the values of the input with the values from the db...</p>\n\n<p>Instead of using their ajax helper.. which was confusing and did not work for me... i used the <code>setValue</code> method on the choices obj:</p>\n\n<pre><code>async function getUserData() {\n  let loggedInUser\n  try {\n    await axios\n      .get(`/api/user_data`)\n      .then(res =&gt; {\n        if (res.data) {\n          loggedInUser = res.data\n          return\n        }\n        // tell them nothing came back\n        console.error('no users on the res to make ajax and populate choicesjs')\n      })\n      .catch(err =&gt; {\n        console.error('no users found', err);\n      });\n  } catch (e) {\n    console.error(e);\n  }\n  genresMultiOptions.setValue(loggedInUser.username.genres);\n}\ngetUserData()\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2643810"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 574, "favorite_count": 0, "accepted_answer_id": 55049272, "answer_count": 2, "score": 0, "last_activity_date": 1551978269, "creation_date": 1551911092, "last_edit_date": 1551913996, "question_id": 55033143, "link": "https://stackoverflow.com/questions/55033143/how-to-use-choicesjs-ajax", "title": "How to use Choicesjs ajax?", "body": "<p>I am using Choicesjs:</p>\n\n<p>In their documentation they say that in order to pre-fill the input with values, we have to use their ajax function: </p>\n\n<p><a href=\"https://github.com/jshjohnson/Choices#ajaxfn\" rel=\"nofollow noreferrer\">https://github.com/jshjohnson/Choices#ajaxfn</a></p>\n\n<pre><code>var example = new Choices(element);\n\nexample.ajax(function(callback) {\n  fetch(url)\n    .then(function(response) {\n      response.json().then(function(data) {\n        callback(data, 'value', 'label');\n      });\n    })\n    .catch(function(error) {\n      console.log(error);\n    });\n});\n</code></pre>\n\n<p>But i dont understand, in this line: `response.json().then(function(data)``</p>\n\n<p>How should the data be? In my database the genres, which is the data in this case, is just an array of srings like: <code>['rock','pop','rap']</code></p>\n\n<p>But the callback say: <code>callback(data, 'value', 'label');</code></p>\n\n<p>how im i supposed to use this callback?</p>\n\n<p>Should my genres instead of being an array should be an object with a key value, a key label, and then data, would be that object?</p>\n\n<p>UPDATE</p>\n\n<p>I have tried changing the callback to be an array of objects.. but now d\noesnt throw an error.. but it also does not populate the field with the data...</p>\n\n<p>code: </p>\n\n<pre><code>  await genresMultiOptions.ajax(function(callback) {\n    fetch(`/api/users/${loggedInUser.username.slug}`)\n      .then(function(response) {\n        response.json().then(function(data) {\n          const d = data.genres.map(x =&gt; ({'value': x, 'label': x}))\n          console.log(d)\n          callback(d, 'value', 'label');\n        });\n      })\n      .catch(function(error) {\n        console.log(error);\n      });\n  });\n</code></pre>\n\n<p>Any idea.. on how to get this working, i mean , pre populate the filed with data from the backend?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1551911067, "post_id": 55033100, "comment_id": 96818739, "body": "So, I&#39;ve started you off on a <a href=\"https://meta.stackoverflow.com/q/358992/215552\">Stack Snippet</a>; please <a href=\"https://stackoverflow.com/posts/55033100/edit\">edit</a> your question, click &quot;edit this snippet&quot; and add the corresponding HTML. Then we can run the code and help you easier."}, {"owner": {"reputation": 49, "user_id": 11092619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cd9bc1c89db7c6f115366447887291b?s=128&d=identicon&r=PG&f=1", "display_name": "ledinos1", "link": "https://stackoverflow.com/users/11092619/ledinos1"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1551911545, "post_id": 55033100, "comment_id": 96818902, "body": "@HereticMonkey Done. I had to multiply my answer as I could not edit the post due to &quot;more code than details&quot;"}, {"owner": {"reputation": 6095, "user_id": 1274820, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/620aa435151f022b9c4070eae088d788?s=128&d=identicon&r=PG", "display_name": "user1274820", "link": "https://stackoverflow.com/users/1274820/user1274820"}, "edited": false, "score": 0, "creation_date": 1551911567, "post_id": 55033100, "comment_id": 96818913, "body": "It looks like you have <code>atempt++</code> instead of <code>attempt++</code> as I posted in my answer. This is pretty obvious from the console error: <code>message&quot;: &quot;Uncaught ReferenceError: atempt is not defined&quot;,</code>"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1551911739, "post_id": 55033100, "comment_id": 96818978, "body": "Instead of duplicating the existing text, perhaps you can expand the text you have by telling us what the code should do that it&#39;s not &amp;c. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> for more hints on what to put into the question."}], "answers": [{"tags": [], "owner": {"reputation": 6095, "user_id": 1274820, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/620aa435151f022b9c4070eae088d788?s=128&d=identicon&r=PG", "display_name": "user1274820", "link": "https://stackoverflow.com/users/1274820/user1274820"}, "is_accepted": true, "score": 1, "last_activity_date": 1551918861, "last_edit_date": 1551918861, "creation_date": 1551911518, "answer_id": 55033249, "question_id": 55033100, "link": "https://stackoverflow.com/questions/55033100/js-lotto-simulator-how-to-display-the-established-amount-of-numbers/55033249#55033249", "title": "JS lotto simulator - how to display the established amount of numbers", "body": "<p><a href=\"https://jsfiddle.net/b2er8w9j/\" rel=\"nofollow noreferrer\">Here's a JSFiddle</a> - I just sort of guessed at what you're doing.</p>\n\n<p>You had a typo: <code>atempt++</code>.</p>\n\n<p>It seems to work after fixing that.</p>\n\n<pre><code>var attempt = 0;\n\nfunction losowanie1() {\nvar available = 6;\nvar guessed = new Array();\n\nr = new Array(available);\n\nvar xd0 = document.getElementById(\"pole1\").value\nvar xd1 = document.getElementById(\"pole2\").value\nvar xd2 = document.getElementById(\"pole3\").value\nvar xd3 = document.getElementById(\"pole4\").value\nvar xd4 = document.getElementById(\"pole5\").value\nvar xd5 = document.getElementById(\"pole6\").value\n\ny = new Array(6)\ny[0] = xd0\ny[1] = xd1\ny[2] = xd2\ny[3] = xd3\ny[4] = xd4\ny[5] = xd5\n\nz = new Array(6)\n\n\n\nfor (var i = 0; i &lt;= available - 1; i++) {\n  r[i] = Math.floor((Math.random() * (49 - 1)) + 1);\n  if ((y[i] == r[0]) || (y[i] == r[1]) || (y[i] == r[2]) || (y[i] == r[3]) || (y[i] == r[4]) || (y[i] == r[5])) {\n    guessed.push(y[i]);\n  }\n\n\n\n}\n\nattempt++\ndocument.getElementById(\"wysw\").innerHTML = r;\ndocument.getElementById(\"zatw\").innerHTML = guessed;\ndocument.getElementById(\"zatw2\").innerHTML = attempt;\n}\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 11092619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cd9bc1c89db7c6f115366447887291b?s=128&d=identicon&r=PG&f=1", "display_name": "ledinos1", "link": "https://stackoverflow.com/users/11092619/ledinos1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "closed_date": 1551964771, "accepted_answer_id": 55033249, "answer_count": 1, "score": 1, "last_activity_date": 1551918861, "creation_date": 1551910841, "last_edit_date": 1551911649, "question_id": 55033100, "link": "https://stackoverflow.com/questions/55033100/js-lotto-simulator-how-to-display-the-established-amount-of-numbers", "closed_reason": "Duplicate", "title": "JS lotto simulator - how to display the established amount of numbers", "body": "<p>I've created simple lotto simulator and I want to set it to display numbers only when particular conditions are made. Let's say, to display numbers at least two or more must be covered (chosen and rolled) I'm the beginner so apologizes for any obvious mistakes, I'm still learning.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var attempt = 0;\r\n\r\nfunction losowanie1() {\r\n  var available = 6;\r\n  var guessed = new Array();\r\n\r\n  r = new Array(available);\r\n\r\n  var xd0 = document.getElementById(\"pole1\").value\r\n  var xd1 = document.getElementById(\"pole2\").value\r\n  var xd2 = document.getElementById(\"pole3\").value\r\n  var xd3 = document.getElementById(\"pole4\").value\r\n  var xd4 = document.getElementById(\"pole5\").value\r\n  var xd5 = document.getElementById(\"pole6\").value\r\n\r\n  y = new Array(6)\r\n  y[0] = xd0\r\n  y[1] = xd1\r\n  y[2] = xd2\r\n  y[3] = xd3\r\n  y[4] = xd4\r\n  y[5] = xd5\r\n\r\n  z = new Array(6)\r\n\r\n\r\n\r\n  for (var i = 0; i &lt;= available - 1; i++) {\r\n    r[i] = Math.floor((Math.random() * (49 - 1)) + 1);\r\n    if ((y[i] == r[0]) || (y[i] == r[1]) || (y[i] == r[2]) || (y[i] == r[3]) || (y[i] == r[4]) || (y[i] == r[5])) {\r\n      guessed.push(y[i]);\r\n    }\r\n\r\n\r\n\r\n  }\r\n\r\n  atempt++\r\n  document.getElementById(\"wysw\").innerHTML = r;\r\n  document.getElementById(\"zatw\").innerHTML = guessed;\r\n  document.getElementById(\"zatw2\").innerHTML = attempt;\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#wysw {\r\n  color: yellow;\r\n  background-color: black;\r\n  height: 200px;\r\n  text-align: center;\r\n  font-size: 40px;\r\n}\r\n\r\n\r\n}\r\n#zatw {\r\n  margin-top: 40px;\r\n  height: 200px;\r\n  background-color: pink;\r\n  text-align: center;\r\n}\r\n#dupa {\r\n  height: 200px;\r\n  background-color: brown;\r\n  text-align: center\r\n}\r\n#tak {\r\n  width: 200px;\r\n  height: 100px;\r\n  text-align: center;\r\n  margin-left: 850px;\r\n}\r\n#zatw2 {\r\n  margin-top: 40px;\r\n  height: 200px;\r\n  background-color: orange;\r\n  text-align: center;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;main&gt;\r\n  &lt;div id=\"main\"&gt;\r\n    &lt;h1&gt;Totolotek&lt;/h1&gt;\r\n    &lt;div id=\"blokada\"&gt;\r\n      &lt;br&gt;\r\n      &lt;div id=\"wysw\"&gt;&lt;/div&gt;\r\n      &lt;div id=\"dupa\"&gt;\r\n        &lt;input type=\"text\" id=\"pole1\" /&gt;&lt;input type=\"text\" id=\"pole2\" /&gt;&lt;input type=\"text\" id=\"pole3\" /&gt;&lt;input type=\"text\" id=\"pole4\" /&gt;&lt;input type=\"text\" id=\"pole5\" /&gt;&lt;input type=\"text\" id=\"pole6\" /&gt;\r\n        &lt;input type=\"reset\" id=\"tak\" value=\"zatwierdz\" onclick=\"losowanie1();\" /&gt;\r\n        &lt;div id=\"zatw\"&gt;&lt;/div&gt;\r\n        &lt;div id=\"zatw2\"&gt;&lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/main&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "html", "ios", "css", "cross-browser"], "comments": [{"owner": {"reputation": 154038, "user_id": 462627, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f0285ad1973e938e2d2f40254c247f6f?s=128&d=identicon&r=PG", "display_name": "Praveen Kumar Purushothaman", "link": "https://stackoverflow.com/users/462627/praveen-kumar-purushothaman"}, "edited": false, "score": 1, "creation_date": 1551910829, "post_id": 55033083, "comment_id": 96818663, "body": "Please add the code here to repro the issue. Having a link to code will be frowned upon."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11162189, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yEvd9CPUiJU/AAAAAAAAAAI/AAAAAAAAPb4/xr3ZE_Lwu0c/photo.jpg?sz=128", "display_name": "Sylwia W", "link": "https://stackoverflow.com/users/11162189/sylwia-w"}, "edited": false, "score": 0, "creation_date": 1551913401, "post_id": 55033129, "comment_id": 96819634, "body": "Praveen Kumar Purushothaman thank you for your answer!  When I remove overflow-y:hidden the content of menu becomes visible I want the menu content to be visible only when I click on menu button. The similar effect happens when I set width and height."}, {"owner": {"reputation": 154038, "user_id": 462627, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f0285ad1973e938e2d2f40254c247f6f?s=128&d=identicon&r=PG", "display_name": "Praveen Kumar Purushothaman", "link": "https://stackoverflow.com/users/462627/praveen-kumar-purushothaman"}, "reply_to_user": {"reputation": 1, "user_id": 11162189, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yEvd9CPUiJU/AAAAAAAAAAI/AAAAAAAAPb4/xr3ZE_Lwu0c/photo.jpg?sz=128", "display_name": "Sylwia W", "link": "https://stackoverflow.com/users/11162189/sylwia-w"}, "edited": false, "score": 0, "creation_date": 1551913829, "post_id": 55033129, "comment_id": 96819785, "body": "@SylwiaW Oh... \ud83d\ude14"}], "tags": [], "owner": {"reputation": 154038, "user_id": 462627, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f0285ad1973e938e2d2f40254c247f6f?s=128&d=identicon&r=PG", "display_name": "Praveen Kumar Purushothaman", "link": "https://stackoverflow.com/users/462627/praveen-kumar-purushothaman"}, "is_accepted": false, "score": 1, "last_activity_date": 1551910994, "creation_date": 1551910994, "answer_id": 55033129, "question_id": 55033083, "link": "https://stackoverflow.com/questions/55033083/hamburger-menu-is-not-visible-on-safari-mobile/55033129#55033129", "title": "Hamburger menu is not visible on safari mobile", "body": "<p>It is because of the <code>overflow-y: hidden</code> in <a href=\"https://sylwiavv.github.io/blood-donation-landing-page-starter-master/css/styles.css\" rel=\"nofollow noreferrer\"><code>style.css</code></a> (<a href=\"https://github.com/sylwiavv/blood-donation-landing-page-starter-master/blob/master/css/styles.css#L177\" rel=\"nofollow noreferrer\">Repo</a>) line 169.</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>  .overlay{\n    height:100%;\n    width:0;\n    position:fixed;\n    z-index:1;\n    top:0;\n    left:0;\n    background-color:#f995c2;\n    /* overflow-y:hidden;          /* Remove this line */\n    transition:0.6s;\n  }\n</code></pre>\n\n<p>Removing it works! Even setting the rule with appropriate <code>width</code> and <code>height</code> like this way works:</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>.overlay{\n  height:75px;\n  width:100%;\n  position:fixed;\n  z-index:1;\n  top:0;\n  left:0;\n  background-color:#f995c2;\n  overflow-y:hidden;\n  transition:0.6s;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11162189, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yEvd9CPUiJU/AAAAAAAAAAI/AAAAAAAAPb4/xr3ZE_Lwu0c/photo.jpg?sz=128", "display_name": "Sylwia W", "link": "https://stackoverflow.com/users/11162189/sylwia-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 700, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551913860, "creation_date": 1551910760, "last_edit_date": 1551913860, "question_id": 55033083, "link": "https://stackoverflow.com/questions/55033083/hamburger-menu-is-not-visible-on-safari-mobile", "title": "Hamburger menu is not visible on safari mobile", "body": "<p>I have a problem with my site displaying on Safari on iPhone.</p>\n\n<p>It works fine on Chrome and Firefox on mobile screens. \nOn Safari the div with menu hamburger disappears.</p>\n\n<p>Look at the screenshots below:</p>\n\n<p>The site on Chrome/Firefox:</p>\n\n<p><a href=\"https://i.stack.imgur.com/DRl9O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DRl9O.png\" alt=\"enter image description here\"></a></p>\n\n<p>The site on Safari:</p>\n\n<p><a href=\"https://i.stack.imgur.com/mELEX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mELEX.png\" alt=\"enter image description here\"></a></p>\n\n<p>Do you have any idea why it breaks on Safari? I would be very grateful for any tips.</p>\n\n<p>Here is the link to the site: <a href=\"https://sylwiavv.github.io/blood-donation-landing-page-starter-master\" rel=\"nofollow noreferrer\">https://sylwiavv.github.io/blood-donation-landing-page-starter-master</a></p>\n\n<p>Here is the link to the source code: <a href=\"https://github.com/sylwiavv/blood-donation-landing-page-starter-master\" rel=\"nofollow noreferrer\">https://github.com/sylwiavv/blood-donation-landing-page-starter-master</a></p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "google-chrome", "google-chrome-extension"], "comments": [{"owner": {"reputation": 42546, "user_id": 3959875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJdGu.png?s=128&g=1", "display_name": "wOxxOm", "link": "https://stackoverflow.com/users/3959875/woxxom"}, "edited": false, "score": 0, "creation_date": 1551933155, "post_id": 55033073, "comment_id": 96824220, "body": "You can probably add a dummy domain in your <code>hosts</code> file that points to 127.0.0.1 and then use that domain name in externally_connectable. Try searching for an existing answer if you need more details."}, {"owner": {"reputation": 31, "user_id": 7590394, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YfxTei6udsc/AAAAAAAAAAI/AAAAAAAAAh4/iIjmOHu8RtI/photo.jpg?sz=128", "display_name": "Pavel Grekovich", "link": "https://stackoverflow.com/users/7590394/pavel-grekovich"}, "reply_to_user": {"reputation": 42546, "user_id": 3959875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJdGu.png?s=128&g=1", "display_name": "wOxxOm", "link": "https://stackoverflow.com/users/3959875/woxxom"}, "edited": false, "score": 0, "creation_date": 1551947236, "post_id": 55033073, "comment_id": 96829339, "body": "@wOxxOm it&#39;s doesn&#39;t work, i tried a lot of combinations"}, {"owner": {"reputation": 42546, "user_id": 3959875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJdGu.png?s=128&g=1", "display_name": "wOxxOm", "link": "https://stackoverflow.com/users/3959875/woxxom"}, "edited": false, "score": 0, "creation_date": 1551950007, "post_id": 55033073, "comment_id": 96830946, "body": "&quot;It&quot; is a vague description. Here&#39;s <a href=\"https://stackoverflow.com/a/24838438\">one example</a> of what I meant, you can look for more detailed ones."}, {"owner": {"reputation": 31, "user_id": 7590394, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YfxTei6udsc/AAAAAAAAAAI/AAAAAAAAAh4/iIjmOHu8RtI/photo.jpg?sz=128", "display_name": "Pavel Grekovich", "link": "https://stackoverflow.com/users/7590394/pavel-grekovich"}, "reply_to_user": {"reputation": 42546, "user_id": 3959875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJdGu.png?s=128&g=1", "display_name": "wOxxOm", "link": "https://stackoverflow.com/users/3959875/woxxom"}, "edited": false, "score": 0, "creation_date": 1551974542, "post_id": 55033073, "comment_id": 96846256, "body": "@wOxxOm thx! now It is working!"}], "answers": [{"tags": [], "owner": {"reputation": 130, "user_id": 650892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9392c4665851a8ee1e9c3c120767fc86?s=128&d=identicon&r=PG", "display_name": "balduran", "link": "https://stackoverflow.com/users/650892/balduran"}, "is_accepted": false, "score": 0, "last_activity_date": 1551932007, "creation_date": 1551932007, "answer_id": 55035955, "question_id": 55033073, "link": "https://stackoverflow.com/questions/55033073/send-data-from-page-to-chrome-extension/55035955#55035955", "title": "Send data from page to chrome extension", "body": "<blockquote>\n  <p>This will expose the messaging API to any page which matches the URL patterns you specify. The URL pattern must contain at least a second-level domain - that is, hostname patterns like \"<em>\", \"</em>.com\", \"<em>.co.uk\", and \"</em>.appspot.com\" are prohibited. From the web page, use the runtime.sendMessage or runtime.connect APIs to send a message to a specific app or extension</p>\n</blockquote>\n\n<p>ref: <a href=\"https://developer.chrome.com/extensions/messaging#external-webpage\" rel=\"nofollow noreferrer\">https://developer.chrome.com/extensions/messaging#external-webpage</a></p>\n\n<p>Maybe it's because of your <a href=\"http://localhost/\" rel=\"nofollow noreferrer\">http://localhost/</a>*</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 7590394, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YfxTei6udsc/AAAAAAAAAAI/AAAAAAAAAh4/iIjmOHu8RtI/photo.jpg?sz=128", "display_name": "Pavel Grekovich", "link": "https://stackoverflow.com/users/7590394/pavel-grekovich"}, "is_accepted": true, "score": 2, "last_activity_date": 1551974779, "creation_date": 1551974779, "answer_id": 55048161, "question_id": 55033073, "link": "https://stackoverflow.com/questions/55033073/send-data-from-page-to-chrome-extension/55048161#55048161", "title": "Send data from page to chrome extension", "body": "<p>Problem was been in <code>the externally_connectable</code> configuration. It's dosen't work with <code>localhost</code>. For work with it on the <code>localhost</code> I added in my host file this lines:</p>\n\n<pre><code>127.0.0.1 my.localhost\n</code></pre>\n\n<p>Then changed manifest to:</p>\n\n<pre><code> \"externally_connectable\": {\n    \"ids\": [\"*\"],\n    \"matches\": [\n      \"http://my.localhost/*\",\n    ]\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 7590394, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YfxTei6udsc/AAAAAAAAAAI/AAAAAAAAAh4/iIjmOHu8RtI/photo.jpg?sz=128", "display_name": "Pavel Grekovich", "link": "https://stackoverflow.com/users/7590394/pavel-grekovich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1255, "favorite_count": 0, "accepted_answer_id": 55048161, "answer_count": 2, "score": 1, "last_activity_date": 1551974779, "creation_date": 1551910707, "question_id": 55033073, "link": "https://stackoverflow.com/questions/55033073/send-data-from-page-to-chrome-extension", "title": "Send data from page to chrome extension", "body": "<p>I trying send some data from my web application to my chrome extension (like it described in the <a href=\"https://developer.chrome.com/extensions/messaging#external-webpage\" rel=\"nofollow noreferrer\">google documentation</a>), but I have an error: <code>Unchecked runtime.lastError: Could not establish connection. Receiving end does not exist.</code></p>\n\n<p>My content script:</p>\n\n<pre><code>chrome.runtime.onMessageExternal.addListener(\n  function(request, sender, sendResponse) {\n    if (sender.url == blocklistedWebsite)\n      return;  // don't allow this web page access\n    if (request.openUrlInEditor)\n      openUrl(request.openUrlInEditor);\n  });\n</code></pre>\n\n<p>And it's my manifest:</p>\n\n<pre><code>{\n  \"name\": \"test-extension\",\n  \"version\": \"0.0.1\",\n  \"manifest_version\": 2,\n  \"background\": {\n    \"scripts\": [\"src/bg/background.js\"],\n    \"persistent\": false\n  },\n  \"content_scripts\": [\n    {\n      \"matches\": [\"http://localhost/*\"],\n      \"js\": [\"src/inject/inject.js\"]\n    }\n  ],\n  \"externally_connectable\": {\n    \"ids\": [\"abcdefghijklmnoabcdefhijklmnoabc\"],\n    \"matches\": [\"http://localhost/*\"],\n    \"accepts_tls_channel_id\": false\n  }\n}\n</code></pre>\n\n<p>And test page, where I'm trying to send data:</p>\n\n<pre><code>&lt;body&gt;\n    &lt;button onclick=\"processData()\"&gt;Send data to extension&lt;/button&gt;\n  &lt;/body&gt;\n  &lt;script&gt;\n    function processData() {\n      /* ... */\n      // The ID of the extension we want to talk to.\n      var editorExtensionId = \"abcdefghijklmnoabcdefhijklmnoabc\";\n\n      // Make a simple request:\n      chrome.runtime.sendMessage(\n        editorExtensionId,\n        { openUrlInEditor: 'https://google.com' },\n        function(response) {\n          if (!response.success) handleError(url);\n        }\n      );\n    }\n  &lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript", "cypress"], "answers": [{"comments": [{"owner": {"reputation": 1015, "user_id": 3072086, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6d168c883f5f108bf23b949ae34eb171?s=128&d=identicon&r=PG&f=1", "display_name": "TestRaptor", "link": "https://stackoverflow.com/users/3072086/testraptor"}, "edited": false, "score": 0, "creation_date": 1551968521, "post_id": 55041798, "comment_id": 96842406, "body": "Removing those will result in the same error. I think the root of the problem is that Cypress doesn&#39;t like me calling out to the mail api, and then running a cypress command. I&#39;m unsure how to get around this. I would think this is a pretty common test that needs to be automated, so Cypress should have some type of solution."}], "tags": [], "owner": {"reputation": 1898, "user_id": 11079356, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Wsta7T1ME30/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNNha-cLoNgU-cv5aMI5g8K1zZVzQ/mo/photo.jpg?sz=128", "display_name": "Mr. J.", "link": "https://stackoverflow.com/users/11079356/mr-j"}, "is_accepted": false, "score": 0, "last_activity_date": 1551955271, "creation_date": 1551955271, "answer_id": 55041798, "question_id": 55033061, "link": "https://stackoverflow.com/questions/55033061/cypress-visit-a-url-obtained-from-a-3rd-partyemail/55041798#55041798", "title": "Cypress - Visit a URL obtained from a 3rd party(email)", "body": "<p>Isn't it just as simple as removing all the quotes and plusses from the cy.request? That is how we use a stored url and that works. But that stored url doesn't come from an email but from an element on the page</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9167409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50958f52cfa78ab0a1478482767bd62c?s=128&d=identicon&r=PG&f=1", "display_name": "sergiomap", "link": "https://stackoverflow.com/users/9167409/sergiomap"}, "is_accepted": false, "score": 0, "last_activity_date": 1559312818, "creation_date": 1559312818, "answer_id": 56396936, "question_id": 55033061, "link": "https://stackoverflow.com/questions/55033061/cypress-visit-a-url-obtained-from-a-3rd-partyemail/56396936#56396936", "title": "Cypress - Visit a URL obtained from a 3rd party(email)", "body": "<p>I also tried like you but Cypress doens't allowed.\nYou have to do it via cy.request() to Mailosaur API.</p>\n\n<p>Try something like this:</p>\n\n<pre><code>cy.request({\n  method: 'POST',\n  url: 'https://mailosaur.com/api/messages/search',\n  auth: {\n    username: 'API_key',\n  },\n  body: {\n    sentTo: 'yourEmail',\n  },\n  qs: {\n    server: 'yourServer',\n    page: 0,\n    itemsPerPage: 50,\n  },\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 76, "user_id": 13156776, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GgI_4H3CH5oQshnSJW1GIez8ao8o6rAJsW7E1SY=k-s128", "display_name": "Juan Pablo C&#225;ceres", "link": "https://stackoverflow.com/users/13156776/juan-pablo-c%c3%a1ceres"}, "is_accepted": false, "score": 1, "last_activity_date": 1590773793, "creation_date": 1590773793, "answer_id": 62091664, "question_id": 55033061, "link": "https://stackoverflow.com/questions/55033061/cypress-visit-a-url-obtained-from-a-3rd-partyemail/62091664#62091664", "title": "Cypress - Visit a URL obtained from a 3rd party(email)", "body": "<p>I have to face this today.\nIf you are getting a raw body response (string) you have to get the link in this way:</p>\n\n<pre><code>            const links = body.split(\"href=http://my.url.com\");\n            var activation_link = links[0].match(/\\bhttp?:\\/\\/\\S+/);\n            activation_link= activation_link[0].replace('\"','')\n            cy.visit(activation_link)\n</code></pre>\n"}], "owner": {"reputation": 1015, "user_id": 3072086, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6d168c883f5f108bf23b949ae34eb171?s=128&d=identicon&r=PG&f=1", "display_name": "TestRaptor", "link": "https://stackoverflow.com/users/3072086/testraptor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 328, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1590773793, "creation_date": 1551910660, "question_id": 55033061, "link": "https://stackoverflow.com/questions/55033061/cypress-visit-a-url-obtained-from-a-3rd-partyemail", "title": "Cypress - Visit a URL obtained from a 3rd party(email)", "body": "<p>In my test, I want to visit a URL that is sent in an email. I can successfully save the URL in a variable, but am unable to get cypress to go to that URL. I keep getting the below error. I don't fully understand cypress being \"promise-like\", so I'm not sure how to resolve the issue</p>\n\n<blockquote>\n  <p>Uncaught (in promise) CypressError: Cypress detected that you returned\n  a promise from a command while also invoking one or more cy commands\n  in that promise.</p>\n  \n  <p>The command that returned the promise was:</p>\n  \n  <blockquote>\n    <p>cy.get()</p>\n  </blockquote>\n  \n  <p>The cy command you invoked inside the promise was:</p>\n  \n  <blockquote>\n    <p>cy.request()</p>\n  </blockquote>\n  \n  <p>Because Cypress commands are already promise-like, you don't need to\n  wrap them or return your own promise.</p>\n  \n  <p>Cypress will resolve your command with whatever the final Cypress\n  command yields.</p>\n</blockquote>\n\n<pre><code>Cypress.Commands.add(\"clickForgotPwdLink\", (emailaddress) =&gt; {\n    const MailosaurClient = require('mailosaur');\n    const client = new MailosaurClient('1234');\n    let latestEmail;\n    var emailLower = emailaddress.toLowerCase();\n    client.messages.search('abc', {\n        sentTo: emailLower\n    }).then((results) =&gt; {\n        latestEmail = results.items[0];\n        let email = latestEmail.id;\n        client.messages.get(email)\n            .then((newlink) =&gt; {\n                var forgotpwd = newlink.html.links[0].href;\n                console.log(forgotpwd)\n                cy.request(''+forgotpwd+'');\n            })\n    })\n});\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "json", "express"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1551910904, "post_id": 55033059, "comment_id": 96818688, "body": "Your <code>res</code> commands are working just fine, the problem is that your <code>XHR</code> does nothing with the response. Try something like <code>XHR.onload = function (res) { alert(res); };</code> (you are using AJAX, which runs in the background; the browser doesn&#39;t navigate to the reply like when you submit a form the regular way)"}, {"owner": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 0, "creation_date": 1551910932, "post_id": 55033059, "comment_id": 96818695, "body": "You might want to try using bodyparser instead of <code>express.json()</code>. see: <a href=\"https://scotch.io/tutorials/use-expressjs-to-get-url-and-post-parameters\" rel=\"nofollow noreferrer\">scotch.io/tutorials/&hellip;</a>"}, {"owner": {"reputation": 15, "user_id": 9535951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbcd691ae74d26de86c1629ed8f9388a?s=128&d=identicon&r=PG&f=1", "display_name": "Walid M.", "link": "https://stackoverflow.com/users/9535951/walid-m"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1552189416, "post_id": 55033059, "comment_id": 96913970, "body": "Hello, Thanks @ChrisG, I understood now, and it works good ! I am able to reach my JSON,to use it in my server and send it again to my client !  I wasn&#39;t understanding that my server can&#39;t process Ajax as if it was a simple HTML request !   It should be the good answer, but i can&#39;t mark is as an answer as it is a comment.."}, {"owner": {"reputation": 15, "user_id": 9535951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbcd691ae74d26de86c1629ed8f9388a?s=128&d=identicon&r=PG&f=1", "display_name": "Walid M.", "link": "https://stackoverflow.com/users/9535951/walid-m"}, "reply_to_user": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 1, "creation_date": 1552189429, "post_id": 55033059, "comment_id": 96913971, "body": "For the bodyparser, i was using it @StevenStark, but i saw on the net that Express 4.16 now bundle it, and is obselete to use bodyparser now."}, {"owner": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 0, "creation_date": 1552189969, "post_id": 55033059, "comment_id": 96914040, "body": "@WalidM. good to know, thank you"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 9535951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbcd691ae74d26de86c1629ed8f9388a?s=128&d=identicon&r=PG&f=1", "display_name": "Walid M.", "link": "https://stackoverflow.com/users/9535951/walid-m"}, "edited": false, "score": 0, "creation_date": 1552061997, "post_id": 55033676, "comment_id": 96881724, "body": "Yep i can see my console.log in my client and in my server (data is received), and i see that the xhr is good (status 200 and sent)."}], "tags": [], "owner": {"reputation": 46, "user_id": 3314984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/996bad5b78225dca18688bffc1c4ee44?s=128&d=identicon&r=PG", "display_name": "Juan Carlos P&#233;rez", "link": "https://stackoverflow.com/users/3314984/juan-carlos-p%c3%a9rez"}, "is_accepted": true, "score": 0, "last_activity_date": 1551914010, "creation_date": 1551914010, "answer_id": 55033676, "question_id": 55033059, "link": "https://stackoverflow.com/questions/55033059/res-not-working-after-receiving-json-from-client/55033676#55033676", "title": "Res not working after receiving JSON from client", "body": "<p>You are not processing the response from the server in <code>XHR.send(dataToSend)</code>, but you should be able to see the response in the network tab on the Chrome Devtools (or its equivalent in a different browser).</p>\n"}], "owner": {"reputation": 15, "user_id": 9535951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbcd691ae74d26de86c1629ed8f9388a?s=128&d=identicon&r=PG&f=1", "display_name": "Walid M.", "link": "https://stackoverflow.com/users/9535951/walid-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 55033676, "answer_count": 1, "score": -1, "last_activity_date": 1551914010, "creation_date": 1551910650, "question_id": 55033059, "link": "https://stackoverflow.com/questions/55033059/res-not-working-after-receiving-json-from-client", "title": "Res not working after receiving JSON from client", "body": "<p>I am trying to make a simple code works, but i have a little problem that i can't understand.</p>\n\n<p>So, i am trying to send to server (Express 4.16), a form in JSON, with POST method. My server receive it (i can see it with console log req.body), but none of res methods are working (it just pass through it, res.send, res.json, res.redirect... and witout any errors..).</p>\n\n<p>There is my code :</p>\n\n<p>app.js\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const express = require('express')\r\nconst path = require('path')\r\n\r\nconst app = express()\r\n\r\napp.use(express.urlencoded({extended: false}))\r\napp.use(express.json())\r\napp.use('/public', express.static(path.join(__dirname, 'static')))\r\n\r\napp.get('/', (req,res) =&gt; {\r\n\tres.sendFile(path.join(__dirname, 'static', 'index.html'))\r\n})\r\n\r\napp.post('/', (req,res) =&gt; {\r\n\tconsole.log(req.body)\r\n\tres.send(`You did it ${req.body.name} !! `)\r\n})\r\n\r\napp.listen('8080')</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>main.js\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>window.addEventListener(\"load\", function () {\r\n\tlet form = document.getElementById(\"id-form\")\r\n\r\n\tfunction sendData() {\r\n\t\tlet XHR = new XMLHttpRequest()\r\n\t\tlet data = {}\r\n\t\t\r\n\t\tfor (const input of form.getElementsByTagName('input')) {\r\n\t\t\tdata[input.name] = input.value\r\n\t\t}\r\n\r\n\t\tXHR.open('POST', '/')\r\n\t\tXHR.setRequestHeader('Content-Type', 'application/json')\r\n\t\tlet dataToSend = JSON.stringify(data)\r\n\t\tXHR.send(dataToSend)\r\n\t\t\r\n \t}\r\n\r\n  \tform.addEventListener(\"submit\", function (event) {\r\n    \tevent.preventDefault()\r\n\r\n    \tsendData()\r\n\t})\r\n})</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Thanks for your help !</p>\n"}, {"tags": ["javascript", "highcharts"], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 10736989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89101ca291da3aface548986425fb4dd?s=128&d=identicon&r=PG&f=1", "display_name": "Caesar Tex", "link": "https://stackoverflow.com/users/10736989/caesar-tex"}, "edited": false, "score": 0, "creation_date": 1551971011, "post_id": 55038553, "comment_id": 96844025, "body": "Hey check the update in my post. It works but I had to comment out that piece of code otherwise it doesn&#39;t work. I need that code since I need to close the table too."}, {"owner": {"reputation": 25325, "user_id": 8951377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2MYqI.jpg?s=128&g=1", "display_name": "ppotaczek", "link": "https://stackoverflow.com/users/8951377/ppotaczek"}, "reply_to_user": {"reputation": 131, "user_id": 10736989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89101ca291da3aface548986425fb4dd?s=128&d=identicon&r=PG&f=1", "display_name": "Caesar Tex", "link": "https://stackoverflow.com/users/10736989/caesar-tex"}, "edited": false, "score": 0, "creation_date": 1552010971, "post_id": 55038553, "comment_id": 96860624, "body": "Hi @Caesar Tex, You can add some argument to the function, for example: <a href=\"https://jsfiddle.net/BlackLabel/gLsuvb5m/\" rel=\"nofollow noreferrer\">jsfiddle.net/BlackLabel/gLsuvb5m</a>"}, {"owner": {"reputation": 573, "user_id": 7495578, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/275f1b994524ed2dd67fcf16652d33ce?s=128&d=identicon&r=PG&f=1", "display_name": "RA19", "link": "https://stackoverflow.com/users/7495578/ra19"}, "edited": false, "score": 0, "creation_date": 1602104574, "post_id": 55038553, "comment_id": 113618525, "body": "I have a similar issue just followed the Live Demo in the answer but I cant see it working for me. Has the code been updated since? I cant refresh the data table. chart.viewData(); doesnt seem to be working"}, {"owner": {"reputation": 25325, "user_id": 8951377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2MYqI.jpg?s=128&g=1", "display_name": "ppotaczek", "link": "https://stackoverflow.com/users/8951377/ppotaczek"}, "reply_to_user": {"reputation": 573, "user_id": 7495578, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/275f1b994524ed2dd67fcf16652d33ce?s=128&d=identicon&r=PG&f=1", "display_name": "RA19", "link": "https://stackoverflow.com/users/7495578/ra19"}, "edited": false, "score": 1, "creation_date": 1602168158, "post_id": 55038553, "comment_id": 113640525, "body": "Hi @RA19, Could you provide an example? The jsfiddle from the above answer seems to work correctly."}, {"owner": {"reputation": 573, "user_id": 7495578, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/275f1b994524ed2dd67fcf16652d33ce?s=128&d=identicon&r=PG&f=1", "display_name": "RA19", "link": "https://stackoverflow.com/users/7495578/ra19"}, "edited": false, "score": 1, "creation_date": 1602168512, "post_id": 55038553, "comment_id": 113640726, "body": "Weird its working now! - dont know why it wasnt before"}], "tags": [], "owner": {"reputation": 25325, "user_id": 8951377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2MYqI.jpg?s=128&g=1", "display_name": "ppotaczek", "link": "https://stackoverflow.com/users/8951377/ppotaczek"}, "is_accepted": true, "score": 2, "last_activity_date": 1551944840, "creation_date": 1551944840, "answer_id": 55038553, "question_id": 55033058, "link": "https://stackoverflow.com/questions/55033058/how-to-update-data-table-on-data-change-highcharts/55038553#55038553", "title": "How to update data table on data change highcharts", "body": "<p>You need to call <code>viewData</code> internal method to refresh the data table:</p>\n\n<pre><code>$('#update').on('click', function() {\n    var data1 = [...];\n\n    chart.series[0].setData(data1);\n    chart.viewData();\n});\n</code></pre>\n\n<p>Live demo: <a href=\"https://jsfiddle.net/BlackLabel/ahowu9tm/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/BlackLabel/ahowu9tm/</a></p>\n"}], "owner": {"reputation": 131, "user_id": 10736989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89101ca291da3aface548986425fb4dd?s=128&d=identicon&r=PG&f=1", "display_name": "Caesar Tex", "link": "https://stackoverflow.com/users/10736989/caesar-tex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 692, "favorite_count": 0, "accepted_answer_id": 55038553, "answer_count": 1, "score": 0, "last_activity_date": 1551970967, "creation_date": 1551910641, "last_edit_date": 1551970967, "question_id": 55033058, "link": "https://stackoverflow.com/questions/55033058/how-to-update-data-table-on-data-change-highcharts", "title": "How to update data table on data change highcharts", "body": "<p>I have a pie chart that I'm updating dynamically on button click using the code below.</p>\n\n<p>On Button click</p>\n\n<pre><code>   $(\"#myChart\").highcharts().series[0].setData($.extend(true, [], data1)) \n</code></pre>\n\n<p>I'm using keys to populate the data table.</p>\n\n<pre><code> keys: ['Count','Value'],\n</code></pre>\n\n<p>This works fine and updates the chart but I also have export data table enabled in export menu but that data table doesn't update. It remains the same on all successive button clicks.</p>\n\n<p>How can I update the data table with button click to show data for new data.</p>\n\n<p>here is a fiddle but it doesn't really use buttons but just to give you an idea of my chart : <a href=\"https://jsfiddle.net/mewohraz/1/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/mewohraz/1/</a></p>\n\n<p>Update: The solution below works but I had to comment out this piece of code that I'm using to toggle the viewData table. It allows me to close the table if you click on viewData again. How do I get to work it with chart.viewData()?</p>\n\n<pre><code>Highcharts.Chart.prototype.viewData = function () {\n    if (!this.insertedTable) {\n        var div = document.createElement('div');\n        div.className = 'highcharts-data-table';\n        // Insert after the chart container\n        this.renderTo.parentNode.insertBefore(div, this.renderTo.nextSibling);\n        div.innerHTML = this.getTable();\n        this.insertedTable = true;\n        div.id = this.container.id + '-data-table';\n    }\n    else {\n        $('#' + this.container.id + '-data-table').toggle();\n    }\n};\n</code></pre>\n"}, {"tags": ["javascript", "angular", "dropdown", "ngrx"], "comments": [{"owner": {"reputation": 1139, "user_id": 8687597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f1e0f5be5e0daafeeafc5c1f22dd71f?s=128&d=identicon&r=PG&f=1", "display_name": "displayName", "link": "https://stackoverflow.com/users/8687597/displayname"}, "edited": false, "score": 0, "creation_date": 1551910512, "post_id": 55032989, "comment_id": 96818564, "body": "can you post <code>selectedValue</code> type and when it gets updated?"}], "answers": [{"tags": [], "owner": {"reputation": 1799, "user_id": 606104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1Ngej.jpg?s=128&g=1", "display_name": "jahller", "link": "https://stackoverflow.com/users/606104/jahller"}, "is_accepted": false, "score": 1, "last_activity_date": 1551912641, "creation_date": 1551912641, "answer_id": 55033460, "question_id": 55032989, "link": "https://stackoverflow.com/questions/55032989/invalidpipeargument-object-object-for-pipe-asyncpipe-cannot-modify-html/55033460#55033460", "title": "InvalidPipeArgument: &#39;[object Object]&#39; for pipe &#39;AsyncPipe&#39;, cannot modify HTML", "body": "<p>the <code>async</code> pipe expects an Observable and not an Object. it would be interesting to see how exactly <code>selectedValue</code> is populated and why it's used with the <code>async</code> pipe.</p>\n\n<p>here is an example on the difference in stackblitz <a href=\"https://stackblitz.com/edit/angular-vv7pzs\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-vv7pzs</a></p>\n"}, {"comments": [{"owner": {"reputation": 197, "user_id": 4683761, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5c582cb52437e7fee3eb9c8a0c9fd1d7?s=128&d=identicon&r=PG&f=1", "display_name": "tb517", "link": "https://stackoverflow.com/users/4683761/tb517"}, "edited": false, "score": 0, "creation_date": 1552062323, "post_id": 55033472, "comment_id": 96881902, "body": "This is the correct answer, as I removed &#39;| async&#39; from the dropdown and the InvalidPipeArgument errors disappeared. Unfortunately I cannot remove that piece of code as many other components in the app use it.  Right now I&#39;m grabbing the data for the dropdown from the store, and just setting it to a variable so I can use it. Can I set this variable as an Observable? For example: public weekDropdownOptions: Observable&lt;any&gt; ? How would I then use this variable when I set it equal to the dateOptions?"}], "tags": [], "owner": {"reputation": 683, "user_id": 9177410, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GBr-BHj4Ycs/AAAAAAAAAAI/AAAAAAAAAEE/cMNOjhV0XM4/photo.jpg?sz=128", "display_name": "Javier Rojano", "link": "https://stackoverflow.com/users/9177410/javier-rojano"}, "is_accepted": false, "score": 1, "last_activity_date": 1551912722, "creation_date": 1551912722, "answer_id": 55033472, "question_id": 55032989, "link": "https://stackoverflow.com/questions/55032989/invalidpipeargument-object-object-for-pipe-asyncpipe-cannot-modify-html/55033472#55033472", "title": "InvalidPipeArgument: &#39;[object Object]&#39; for pipe &#39;AsyncPipe&#39;, cannot modify HTML", "body": "<p>The async pipe subscribes to an <strong>Observable or Promise</strong> and returns the latest value it has emitted. </p>\n\n<p>According to the error, selectedValue is an object so you can not use the async pipe.</p>\n"}], "owner": {"reputation": 197, "user_id": 4683761, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5c582cb52437e7fee3eb9c8a0c9fd1d7?s=128&d=identicon&r=PG&f=1", "display_name": "tb517", "link": "https://stackoverflow.com/users/4683761/tb517"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 226, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1551912722, "creation_date": 1551910264, "last_edit_date": 1551910720, "question_id": 55032989, "link": "https://stackoverflow.com/questions/55032989/invalidpipeargument-object-object-for-pipe-asyncpipe-cannot-modify-html", "title": "InvalidPipeArgument: &#39;[object Object]&#39; for pipe &#39;AsyncPipe&#39;, cannot modify HTML", "body": "<p>I am working to populate a dropdown on an application using Angular and ngrx. The app uses a dropdown component which is used across the entire application for dropdowns, so I cannot modify it.</p>\n\n<p>The HTML from that component which is most important for my question is as follows:</p>\n\n<pre><code>&lt;option *ngFor=\"let option of options\" [value]=\"stringifyOption(option.value)\" [selected]=\"option.value === (selectedValue | async)\"&gt;\n   {{option.text}}\n&lt;/option&gt;\n</code></pre>\n\n<p>I am getting my dropdown options, which is an array of objects (dateOptions), from the store. Each object has a property value (week) which I am getting and setting as the options for the dropdown.</p>\n\n<pre><code>this.weekDropdownOptions = dateOptions.map(weekObj =&gt; weekObj.week);\n</code></pre>\n\n<p>Logging weekDropdownOptions in the console returns an array of the options like I was expecting, like this:</p>\n\n<pre><code>[\"04/01 - 04/07\", \"04/08 - 04/14\"]\n</code></pre>\n\n<p>My HTML has the selector for the dropdown and sets <code>[options]=\"weekDropdownOptions\"</code></p>\n\n<p>I can't seem to get past this error:</p>\n\n<blockquote>\n  <p>InvalidPipeArgument: '[object Object]' for pipe 'AsyncPipe'.</p>\n</blockquote>\n\n<p>It is pointing towards the dropdown component, however I can't modify the HTML. What can I do in my code to make this work?</p>\n"}, {"tags": ["javascript", "ios", "swift", "xcode", "react-native"], "comments": [{"owner": {"reputation": 45596, "user_id": 1741671, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/QQX5Z.png?s=128&g=1", "display_name": "Ajay S", "link": "https://stackoverflow.com/users/1741671/ajay-s"}, "edited": false, "score": 0, "creation_date": 1571946773, "post_id": 55032981, "comment_id": 103417498, "body": "how you import RCTLinkingManager in swift ?"}], "answers": [{"comments": [{"owner": {"reputation": 2122, "user_id": 7215553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vRRBO.png?s=128&g=1", "display_name": "Hurobaki", "link": "https://stackoverflow.com/users/7215553/hurobaki"}, "edited": false, "score": 0, "creation_date": 1551966507, "post_id": 55044452, "comment_id": 96841171, "body": "Thank you this is exaclty what I was looking for ! It works like a charm ;)"}, {"owner": {"reputation": 45596, "user_id": 1741671, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/QQX5Z.png?s=128&g=1", "display_name": "Ajay S", "link": "https://stackoverflow.com/users/1741671/ajay-s"}, "edited": false, "score": 0, "creation_date": 1571945925, "post_id": 55044452, "comment_id": 103417147, "body": "how to import <code>RCTLinkingManager</code> in swift"}, {"owner": {"reputation": 2122, "user_id": 7215553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vRRBO.png?s=128&g=1", "display_name": "Hurobaki", "link": "https://stackoverflow.com/users/7215553/hurobaki"}, "edited": false, "score": 1, "creation_date": 1571947395, "post_id": 55044452, "comment_id": 103417745, "body": "Just by importing React"}, {"owner": {"reputation": 45596, "user_id": 1741671, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/QQX5Z.png?s=128&g=1", "display_name": "Ajay S", "link": "https://stackoverflow.com/users/1741671/ajay-s"}, "reply_to_user": {"reputation": 2122, "user_id": 7215553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vRRBO.png?s=128&g=1", "display_name": "Hurobaki", "link": "https://stackoverflow.com/users/7215553/hurobaki"}, "edited": false, "score": 0, "creation_date": 1571950153, "post_id": 55044452, "comment_id": 103418824, "body": "@Hurobaki you mean this import React ? can you share your swift file code here ?"}, {"owner": {"reputation": 2122, "user_id": 7215553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vRRBO.png?s=128&g=1", "display_name": "Hurobaki", "link": "https://stackoverflow.com/users/7215553/hurobaki"}, "edited": false, "score": 4, "creation_date": 1571950519, "post_id": 55044452, "comment_id": 103418962, "body": "I mean you should already have React package imported <code>import React</code> at your top file. And don\u2019t forget your import inside your Bridging-Header.h `#import &#171; React/RCTLinkingManager.h &#187;."}, {"owner": {"reputation": 45596, "user_id": 1741671, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/QQX5Z.png?s=128&g=1", "display_name": "Ajay S", "link": "https://stackoverflow.com/users/1741671/ajay-s"}, "edited": false, "score": 0, "creation_date": 1571950830, "post_id": 55044452, "comment_id": 103419084, "body": "Thanks I gotcha now :)"}], "tags": [], "owner": {"reputation": 344, "user_id": 6035317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c51167f603147b89c142067496a1b55?s=128&d=identicon&r=PG&f=1", "display_name": "Ro22e0", "link": "https://stackoverflow.com/users/6035317/ro22e0"}, "is_accepted": true, "score": 4, "last_activity_date": 1551963755, "creation_date": 1551963755, "answer_id": 55044452, "question_id": 55032981, "link": "https://stackoverflow.com/questions/55032981/handle-url-scheme-react-native-and-swift/55044452#55044452", "title": "Handle URL scheme react-native and Swift", "body": "<p>Regarding your AppDelegate method, the swift version should be :</p>\n\n<pre><code>public func application(_ app: UIApplication, open url: URL, options: [UIApplicationOpenURLOptionsKey : Any] = [:]) -&gt; Bool {\n    return RCTLinkingManager.application(app, open: url, options: options)\n}\n</code></pre>\n"}], "owner": {"reputation": 2122, "user_id": 7215553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vRRBO.png?s=128&g=1", "display_name": "Hurobaki", "link": "https://stackoverflow.com/users/7215553/hurobaki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 722, "favorite_count": 0, "accepted_answer_id": 55044452, "answer_count": 1, "score": 5, "last_activity_date": 1551963755, "creation_date": 1551910223, "last_edit_date": 1551910747, "question_id": 55032981, "link": "https://stackoverflow.com/questions/55032981/handle-url-scheme-react-native-and-swift", "title": "Handle URL scheme react-native and Swift", "body": "<p>I would like to handle custom URL scheme in my react-native application. Thus I first added an eventListener in my JS code inside my root component like that : </p>\n\n<pre><code>componentDidMount() {\n    Linking.addEventListener('url', this.handleOpenURL);\n}\n\ncomponentWillUnmount() {\n    Linking.removeEventListener('url', this.handleOpenURL);\n}\n\nhandleOpenURL = event =&gt; {\n    console.log('event', event);\n};\n</code></pre>\n\n<p>In my Xcode application, I added a custom URL scheme \"com.myScheme\".</p>\n\n<p>My problem has appeared when I tried to add the function in my AppDelegate.swift to handle deep linking. </p>\n\n<p>Here's my function : </p>\n\n<pre><code>func application(_ app: UIApplication, open url: URL, options: [UIApplication.OpenURLOptionsKey: Any] = [:]) -&gt; Bool {\n    print(url)\n    return true\n}\n</code></pre>\n\n<p>It seems that return true is not enough to trigger my listener inside my application ... </p>\n\n<p>I know there's an Objective-C method in the react-native documentation :</p>\n\n<pre><code>#import &lt;React/RCTLinkingManager.h&gt;\n\n- (BOOL)application:(UIApplication *)application\n   openURL:(NSURL *)url\n   options:(NSDictionary&lt;UIApplicationOpenURLOptionsKey,id&gt; *)options\n{\n  return [RCTLinkingManager application:application openURL:url options:options];\n}\n</code></pre>\n\n<p>But I would like to deal only with Swift for my project in order to improve my skills in this language. The problem is I can't find any example of this function implemented using Swift.</p>\n\n<p>That's why I'm asking some help to implement this method and then trigger my event inside my RN application.</p>\n\n<p>Thank you for your understanding :)</p>\n"}, {"tags": ["javascript", "iframe", "printing"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 1, "creation_date": 1551910306, "post_id": 55032948, "comment_id": 96818498, "body": "<code>pageContent</code> is a text node ... therefore adding it using <code>appendChild</code> will add the exact text in that variable .. try <code>body.innerHTML = pageContent</code> instead"}, {"owner": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 0, "creation_date": 1551910329, "post_id": 55032948, "comment_id": 96818509, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2255291/print-the-contents-of-a-div\">Print the contents of a DIV</a>"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1551911084, "post_id": 55032948, "comment_id": 96818746, "body": "Oh, you&#39;ll also need to just <code>let pageContent = createPrintableText(criteria);</code> - i.e. you don&#39;t want to create a text element, just the text is fine"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6322273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8311b26fb079b3115b1be364c09504e9?s=128&d=identicon&r=PG&f=1", "display_name": "Justin MacCreery", "link": "https://stackoverflow.com/users/6322273/justin-maccreery"}, "edited": false, "score": 0, "creation_date": 1551964940, "post_id": 55033197, "comment_id": 96840231, "body": "Ah-ha, that&#39;s why it&#39;s working now as the new code is over-writing the text node created earlier! Thanks for explaining what&#39;s causing my original error."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "reply_to_user": {"reputation": 1, "user_id": 6322273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8311b26fb079b3115b1be364c09504e9?s=128&d=identicon&r=PG&f=1", "display_name": "Justin MacCreery", "link": "https://stackoverflow.com/users/6322273/justin-maccreery"}, "edited": false, "score": 0, "creation_date": 1552088465, "post_id": 55033197, "comment_id": 96892647, "body": "@JustinMacCreery - no, not at all, there is no text node created earlier, and there is no overwriting of anything - you&#39;re confusing your own answer with mine"}], "tags": [], "owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "is_accepted": false, "score": 0, "last_activity_date": 1551911306, "creation_date": 1551911306, "answer_id": 55033197, "question_id": 55032948, "link": "https://stackoverflow.com/questions/55032948/document-getelementbyidprintf-contentwindow-print-is-including-the-html-ta/55033197#55033197", "title": "document.getElementById(&#39;printf&#39;).contentWindow.print() is including the html tag elements in the printout", "body": "<p>Your issue is as follows</p>\n\n<p>Firstly, you are creating a text node in</p>\n\n<pre><code>let pageContent = document.createTextNode(createPrintableText(criteria)); \n</code></pre>\n\n<p>Then you take this text node and add it to the body of the iframe</p>\n\n<pre><code>body.appendChild(pageContent);\n</code></pre>\n\n<p>That is why the \"html\" returned by <code>createPrintableText</code> is shown as is, because you've said \"I want the content to be this text exactly as it is\"</p>\n\n<p>What you want to do is take the HTML as a string, and add it to the <code>body.innerHTML</code> as follows - the two lines marked <code>****</code> are the only required changes</p>\n\n<pre><code>let iframe = document.createElement(\"iframe\"); \niframe.setAttribute('id', 'printerIFrame'); \niframe.setAttribute('name', 'printerIFrame'); \niframe.setAttribute('style', ' z-index: 1000;'); \niframe.setAttribute('media', 'print'); \n\n// **** assuming createPrintableText(criteria) returns the HTML you need\nlet pageContent = createPrintableText(criteria); \n\n// ADD iFrame to document \ndocument.body.appendChild(iframe); \n\n// POPULATE iFrame with print material \niframe = document.getElementById(\"printerIFrame\"); \nbody = iframe.contentWindow.document.getElementsByTagName('body')[0];\n\n// **** add the HTML to body innerHTML - that way it's treated as HTML\nbody.innerHTML = pageContent;\n\n// GET iFrame `window`\nvar x = document.getElementById(\"printerIFrame\").contentWindow;\n\n// IF NOT IE or Edge \nx.document.close(); \nx.focus(); \nx.print(); \n\niframe.parentNode.removeChild(iframe); \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6322273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8311b26fb079b3115b1be364c09504e9?s=128&d=identicon&r=PG&f=1", "display_name": "Justin MacCreery", "link": "https://stackoverflow.com/users/6322273/justin-maccreery"}, "is_accepted": false, "score": 0, "last_activity_date": 1551963392, "creation_date": 1551963392, "answer_id": 55044342, "question_id": 55032948, "link": "https://stackoverflow.com/questions/55032948/document-getelementbyidprintf-contentwindow-print-is-including-the-html-ta/55044342#55044342", "title": "document.getElementById(&#39;printf&#39;).contentWindow.print() is including the html tag elements in the printout", "body": "<p>Fixed it using slightly different code to send the iframe to the printer: </p>\n\n<pre><code>// CREATE iFrame \nlet iframe = document.createElement(\"iframe\"); \niframe.setAttribute('id', 'printerIFrame'); \niframe.setAttribute('name', 'printerIFrame'); \niframe.setAttribute('style', 'display: hidden;'); // z-index: 1000;\n// iframe.setAttribute('media', 'print'); \n\nlet pageContent = document.createTextNode(createPrintableText(criteria)); \n\n// ADD iFrame to document \ndocument.body.appendChild(iframe); \n\n// POPULATE iFrame with print material \niframe = document.getElementById(\"printerIFrame\"); \nbody = iframe.contentWindow.document.getElementsByTagName('body')[0];\nbody.appendChild(pageContent)\n\n// GET iFrame `window`\nvar x = document.getElementById(\"printerIFrame\").contentWindow;\n\n// CREATE new `window` using iFrame \nvar newWin = window.frames[\"printerIFrame\"];\nnewWin.document.write('&lt;body&gt;' + createPrintableFilters(criteria) + '&lt;/body&gt;');\nnewWin.document.close();\n\n// SET delay\nsetTimeout(function(){\n    // REMOVE iFrame \n    iframe.parentNode.removeChild(iframe)\n}, 100); \n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6322273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8311b26fb079b3115b1be364c09504e9?s=128&d=identicon&r=PG&f=1", "display_name": "Justin MacCreery", "link": "https://stackoverflow.com/users/6322273/justin-maccreery"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1432, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1551963392, "creation_date": 1551910114, "question_id": 55032948, "link": "https://stackoverflow.com/questions/55032948/document-getelementbyidprintf-contentwindow-print-is-including-the-html-ta", "title": "document.getElementById(&#39;printf&#39;).contentWindow.print() is including the html tag elements in the printout", "body": "<p>I have been attempting to print a dynamically created iFrame, then print it: </p>\n\n<pre><code>// CREATE iFrame \nlet iframe = document.createElement(\"iframe\"); \niframe.setAttribute('id', 'printerIFrame'); \niframe.setAttribute('name', 'printerIFrame'); \niframe.setAttribute('style', ' z-index: 1000;'); \niframe.setAttribute('media', 'print'); \n\nlet pageContent = document.createTextNode(createPrintableText(criteria)); \n\n// ADD iFrame to document \ndocument.body.appendChild(iframe); \n\n// POPULATE iFrame with print material \niframe = document.getElementById(\"printerIFrame\"); \nbody = iframe.contentWindow.document.getElementsByTagName('body')[0];\nbody.appendChild(pageContent)\n\n// GET iFrame `window`\nvar x = document.getElementById(\"printerIFrame\").contentWindow;\n\n// IF NOT IE or Edge \nx.document.close(); \nx.focus(); \nx.print(); \n\niframe.parentNode.removeChild(iframe); \n</code></pre>\n\n<p>And this works... sort of. The problem is, when the print preview arrives, contained in the text are all the &lt;[HTML]> tags that are on the iframe. And they're ignored. Instead of getting this: </p>\n\n<p>Start Date: 01/01/2019<br>\nEnd Date: 01/31/2019<br></p>\n\n<p>I'm getting something like this: \nStart Date: 01/01/2019&lt;[br tag]>End Date: 01/31/2019&lt;[br tag]></p>\n\n<p>Any ideas how to get this to work? </p>\n"}, {"tags": ["javascript", "ibm-mobilefirst", "maximo", "maximo-anywhere"], "owner": {"reputation": 11, "user_id": 11162140, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-d0qriV3h4Vw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rftHOLjvQjp3fGZKLMTSwsQoKCT3A/mo/photo.jpg?sz=128", "display_name": "Louis-Alexandre Munger", "link": "https://stackoverflow.com/users/11162140/louis-alexandre-munger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1551971464, "creation_date": 1551910033, "last_edit_date": 1551971464, "question_id": 55032932, "link": "https://stackoverflow.com/questions/55032932/managing-resources-in-lookup-filter", "title": "Managing resources in lookup filter", "body": "<p>My client wants to be able to filter jobplans with the selected asset. To be able to do that, I have developped a function that filters the results based on the custom resource jpassetsplink:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>filterJobPlansForLookup: function(eventContext){\r\n\t\t\tvar workOrderSet = CommonHandler._getAdditionalResource(eventContext,\"workOrder\");\r\n\t\t\tvar jobPlanSet = CommonHandler._getAdditionalResource(eventContext,\"jobPlanResource\");\r\n\t\t\tjobPlanSet._lookupFilter = null;\r\n\t\t\tvar assetSet = null;\r\n\t\t\tvar assetnum = null;\r\n\t\t\tvar itemnum = null;\r\n\t\t\tvar jpAssetSpLinkSet = null;\r\n\r\n\t\t\t//CommonHandler._clearFilterForResource(this,jobPlanSet);\t\r\n\t\t\t\r\n\t\t\tvar siteid = workOrderSet.getCurrentRecord().get(\"siteid\");\r\n\t\t\tif(siteid == null){\r\n\t\t\t\tsiteid = UserManager.getInfo(\"defsite\");\r\n\t\t\t}\r\n\r\n\t\t\tif(workOrderSet.getCurrentRecord() != null){\r\n\t\t\t\tassetnum = workOrderSet.getCurrentRecord().get(\"asset\");\r\n\t\t\t\tassetSet = CommonHandler._getAdditionalResource(eventContext,\"additionalasset\");\r\n\t\t\t\tCommonHandler._clearFilterForResource(eventContext, assetSet);\r\n\t\t\t\tassetSet = assetSet.clearFilterAndSort().filter('siteid == $1', siteid)\r\n\t\t\t\tif (assetnum != null){\r\n\t\t\t\t\tvar asset = assetSet.find('assetnum == $1', assetnum);\r\n\t\t\t\t\tif (asset &amp;&amp; asset.length&gt;0){\r\n\t\t\t\t\t\titemnum = asset[0].get('itemnum');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar filter = [{siteid: siteid, status: \"ACTIF\"}];\r\n\t\t\tif (assetnum != null){\r\n\t\t\t\tjpAssetSpLinkSet = CommonHandler._getAdditionalResource(eventContext,\"jpassetsplinkResource\");\r\n\t\t\t\tjpAssetSpLinkSet._lookupFilter = null;\r\n\t\t\t\tCommonHandler._clearFilterForResource(eventContext, jpAssetSpLinkSet);\r\n\t\t\t\t\r\n\t\t\t\tvar filteredJpAssets = null;\r\n\t\t\t\tif (itemnum == null){\r\n\t\t\t\t\tfilteredJpAssets = jpAssetSpLinkSet.clearFilterAndSort().filter('assetnum == $1', assetnum);\t\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfilteredJpAssets = jpAssetSpLinkSet.clearFilterAndSort().filter('itemnum == $1', itemnum);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tLogger.trace(\"[WODetailExtensionHandler] Found \" + filteredJpAssets.data.length + \" links out of \" + jpAssetSpLinkSet.count() );\r\n\t\t\t\tif(filteredJpAssets &amp;&amp; filteredJpAssets.data.length&gt;0){\r\n\t\t\t\t\tfilter = [];\r\n\t\t\t\t\tfilteredJpAssets.data.forEach(function(jpAsset){\r\n\t\t\t\t\t\tfilter.push({jpnum: jpAsset.get(\"jpnum\"), siteid: siteid, status: \"ACTIF\"});\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tjobPlanSet.lookupFilter = filter;\r\n\t\t}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>With the right circumstances this code works. There are multiple problems with it though:</p>\n\n<p>1- When searching for an asset, the resulting filter is applied to the resource and cannot seem to be removed. If I search an asset in the asset lookup, when the execution gets to this function, the resource data is still filtered and calls to CommonHandler._clearFilterForResource, assetSet.clearFilterAndSort() or directly changing the _lookupFilter property does not work. This sometimes results in the impossibility to find the selected asset in the asset resource, thus the filtering ends up failing.</p>\n\n<p>2- Not searching and directly inputing the desired asset leads to another problem. Since there is no filter on the resource, only the number of entries specified by pageSize is loaded. In my case, pageSize is set at 2000 for the asset resource. That means if the selected asset is not in the 2000 first entries, it is not found by the function, thus the filtering fails.</p>\n\n<p>3- If the filter manages to work, it seems to block further filtering by jpnum or description in the jobplan lookup.</p>\n\n<p>To conclude, here's my question: Is there a way to manage resources so that these problems do not occur ? Any tip is appreciated.</p>\n\n<p>Thanks,</p>\n"}, {"tags": ["javascript", "node.js", "mongoose", "mongoose-schema"], "comments": [{"owner": {"reputation": 1532, "user_id": 4686454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MM3Ef.jpg?s=128&g=1", "display_name": "jakemingolla", "link": "https://stackoverflow.com/users/4686454/jakemingolla"}, "edited": false, "score": 0, "creation_date": 1551910151, "post_id": 55032930, "comment_id": 96818445, "body": "where are you assigning the <code>ip</code> variable? My guess is that it isn&#39;t the number but an object containing an <code>ip</code> property"}, {"owner": {"reputation": 5674, "user_id": 9817602, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vELqK.jpg?s=128&g=1", "display_name": "Webwoman", "link": "https://stackoverflow.com/users/9817602/webwoman"}, "reply_to_user": {"reputation": 1532, "user_id": 4686454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MM3Ef.jpg?s=128&g=1", "display_name": "jakemingolla", "link": "https://stackoverflow.com/users/4686454/jakemingolla"}, "edited": false, "score": 0, "creation_date": 1551910329, "post_id": 55032930, "comment_id": 96818508, "body": "yes it&#39;s an object containing the ip property as following : <code>{ip: value}</code>, the object is emited from client to the &quot;join&quot; event in my socket, then the processing that I have reproduced on my post occurs. So that it and I expect that when I pass my ip object to my mongoose schema it should so assign automatically to the field <code>ip</code> with the value <code>ip.ip</code> ? hence the <code>ip</code> passed directly in the fields&#39;s space like reproduced: <code>new Chat({ip, message:[&quot;empty_chat&quot;]})</code>"}, {"owner": {"reputation": 1532, "user_id": 4686454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MM3Ef.jpg?s=128&g=1", "display_name": "jakemingolla", "link": "https://stackoverflow.com/users/4686454/jakemingolla"}, "edited": false, "score": 0, "creation_date": 1551911181, "post_id": 55032930, "comment_id": 96818773, "body": "What happens if you create the new chat with <code>new Chat({ ip: ip.ip, ... })</code> directly? I&#39;m not sure the schema will pull out the fields as you&#39;re implying"}, {"owner": {"reputation": 5674, "user_id": 9817602, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vELqK.jpg?s=128&g=1", "display_name": "Webwoman", "link": "https://stackoverflow.com/users/9817602/webwoman"}, "reply_to_user": {"reputation": 1532, "user_id": 4686454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MM3Ef.jpg?s=128&g=1", "display_name": "jakemingolla", "link": "https://stackoverflow.com/users/4686454/jakemingolla"}, "edited": false, "score": 0, "creation_date": 1551911605, "post_id": 55032930, "comment_id": 96818928, "body": "yes I have tried your appreciable idea and it returns: <code>Cannot destructure property </code>ip` of &#39;undefined&#39; or &#39;null&#39;`, I&#39;m trying to understand why currently"}, {"owner": {"reputation": 5674, "user_id": 9817602, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vELqK.jpg?s=128&g=1", "display_name": "Webwoman", "link": "https://stackoverflow.com/users/9817602/webwoman"}, "reply_to_user": {"reputation": 1532, "user_id": 4686454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MM3Ef.jpg?s=128&g=1", "display_name": "jakemingolla", "link": "https://stackoverflow.com/users/4686454/jakemingolla"}, "edited": false, "score": 0, "creation_date": 1551911945, "post_id": 55032930, "comment_id": 96819055, "body": "I think it&#39;s a codeflow problem"}, {"owner": {"reputation": 5674, "user_id": 9817602, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vELqK.jpg?s=128&g=1", "display_name": "Webwoman", "link": "https://stackoverflow.com/users/9817602/webwoman"}, "reply_to_user": {"reputation": 1532, "user_id": 4686454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MM3Ef.jpg?s=128&g=1", "display_name": "jakemingolla", "link": "https://stackoverflow.com/users/4686454/jakemingolla"}, "edited": false, "score": 0, "creation_date": 1551912590, "post_id": 55032930, "comment_id": 96819315, "body": "that was effectively a coding&#39;s flow problem and to precise <code>ip.ip</code> had supported the process, work well now."}], "owner": {"reputation": 5674, "user_id": 9817602, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vELqK.jpg?s=128&g=1", "display_name": "Webwoman", "link": "https://stackoverflow.com/users/9817602/webwoman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551910011, "creation_date": 1551910011, "question_id": 55032930, "link": "https://stackoverflow.com/questions/55032930/mongoose-cast-to-number-failed-for-value-ip-78-at-path-ip", "title": "Mongoose Cast to Number failed for value &quot;{ ip: 78 }&quot; at path &quot;ip&quot;?", "body": "<p>I have created a schema to saved an ip adress. When saving my model mongoose returns me: </p>\n\n<blockquote>\n  <p>ip: Cast to Number failed for value \"{ ip: 78 }\" at path \"ip\"</p>\n</blockquote>\n\n<p>But my number is an integer, so it should work well.</p>\n\n<p>Here my schema: </p>\n\n<pre><code>const mongoose = require(\"mongoose\");\nconst Schema= mongoose.Schema;\n\nvar ChatSchema = new Schema({    \n    // _id:ObjectId,\n    ip:{required:true, type: Number},\n    message: {required:true, type: Array},\n    room: String\n});\n\nmodule.exports = mongoose.model(\"Chat\", ChatSchema) \n</code></pre>\n\n<p>Here my socketEmit snippet:</p>\n\n<pre><code>this.socket.emit(\"join\", {\n    ip: Math.round(Math.random() *100)\n}\n</code></pre>\n\n<p>Here my server.js to save my data on mongoose:</p>\n\n<pre><code> if(ChatScanValue === undefined){ \n        console.log(\"!Chat.find(ip)\")\n        var prospectChat= new Chat({ip, message:[\"empty_chat\"]})\n        console.log(\"prospectChat: \", prospectChat)\n        prospectChat.save((err, chatData) =&gt; { \n            if(err) throw err; \n            console.log(\"chat object created.\")\n })\n</code></pre>\n\n<p>Why it fails? I can't figure it out, I have tried to play a few with  the object passed in Chat, change the value of <code>ip</code>, change  the schemaType in my mongoose's model. I'm stilling seeking for the reason of the bugg.</p>\n\n<p>Any hint would be great,\nthanks</p>\n"}, {"tags": ["javascript", "html", "css", "node.js", "electron"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1551911262, "post_id": 55032891, "comment_id": 96818798, "body": "<code>iframe</code> is the way to go. The error is going to happen no matter what you use, since that&#39;s a network error and has nothing to do with code. You could try <code>embed</code> or <code>object</code> but those have the same issues as <code>iframe</code> and are harder to use."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 8771051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2e9d6da7fe29227e86f42e844600131?s=128&d=identicon&r=PG&f=1", "display_name": "Jonah", "link": "https://stackoverflow.com/users/8771051/jonah"}, "edited": false, "score": 0, "creation_date": 1551910619, "post_id": 55033005, "comment_id": 96818595, "body": "The problem with this, is there is no way to pull the style tag from the document.  I could use RegEx but the problem is I can&#39;t be 100% that it will get the style for every email."}], "tags": [], "owner": {"reputation": 398, "user_id": 7159312, "user_type": "registered", "profile_image": "https://graph.facebook.com/1301014699923676/picture?type=large", "display_name": "Michel Calheiros", "link": "https://stackoverflow.com/users/7159312/michel-calheiros"}, "is_accepted": false, "score": 0, "last_activity_date": 1551910333, "creation_date": 1551910333, "answer_id": 55033005, "question_id": 55032891, "link": "https://stackoverflow.com/questions/55032891/how-to-load-html-file-with-style-without-affecting-the-rest-of-the-page-styles/55033005#55033005", "title": "How to load HTML file with style without affecting the rest of the page styles?", "body": "<p>Well, what about using a  tag within your HTML?\nIt would still being HTML and if you specify it to style just one tag it will work.</p>\n\n<pre><code>&lt;div id=\"emailDisplay\"&gt;&lt;/div&gt;\n&lt;style&gt;\n    #emailDisplay {\n        background-color: red;\n    }\n&lt;/style&gt;\n</code></pre>\n\n<p>Another way of resolving this problem is by creating encapsulated javascript components (maybe with Vue or React)</p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 8771051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2e9d6da7fe29227e86f42e844600131?s=128&d=identicon&r=PG&f=1", "display_name": "Jonah", "link": "https://stackoverflow.com/users/8771051/jonah"}, "edited": false, "score": 0, "creation_date": 1551910945, "post_id": 55033098, "comment_id": 96818700, "body": "Yes, I understand this but <i>my</i> JavaScript isn&#39;t loaded when the get request for my image isn&#39;t loaded."}, {"owner": {"reputation": 2868, "user_id": 1079731, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/739a623415f9f77afd78a7cd1a490907?s=128&d=identicon&r=PG", "display_name": "Joshua Robinson", "link": "https://stackoverflow.com/users/1079731/joshua-robinson"}, "reply_to_user": {"reputation": 21, "user_id": 8771051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2e9d6da7fe29227e86f42e844600131?s=128&d=identicon&r=PG&f=1", "display_name": "Jonah", "link": "https://stackoverflow.com/users/8771051/jonah"}, "edited": false, "score": 0, "creation_date": 1551911059, "post_id": 55033098, "comment_id": 96818736, "body": "Saying you need your code to run before your image is loaded? Move the code above the image, load JavaScript in the head of the document"}, {"owner": {"reputation": 21, "user_id": 8771051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2e9d6da7fe29227e86f42e844600131?s=128&d=identicon&r=PG&f=1", "display_name": "Jonah", "link": "https://stackoverflow.com/users/8771051/jonah"}, "edited": false, "score": 0, "creation_date": 1551911460, "post_id": 55033098, "comment_id": 96818873, "body": "The JavaScript is in the head."}, {"owner": {"reputation": 2868, "user_id": 1079731, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/739a623415f9f77afd78a7cd1a490907?s=128&d=identicon&r=PG", "display_name": "Joshua Robinson", "link": "https://stackoverflow.com/users/1079731/joshua-robinson"}, "reply_to_user": {"reputation": 21, "user_id": 8771051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2e9d6da7fe29227e86f42e844600131?s=128&d=identicon&r=PG&f=1", "display_name": "Jonah", "link": "https://stackoverflow.com/users/8771051/jonah"}, "edited": false, "score": 0, "creation_date": 1551911655, "post_id": 55033098, "comment_id": 96818941, "body": "Can simplified relevant code be added to the question? More than happy to help, confused about the part where an image failing to load throws a JavaScript error, unless there is an onLoad handler attached that\u2019s has some buggy code"}, {"owner": {"reputation": 21, "user_id": 8771051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2e9d6da7fe29227e86f42e844600131?s=128&d=identicon&r=PG&f=1", "display_name": "Jonah", "link": "https://stackoverflow.com/users/8771051/jonah"}, "edited": false, "score": 0, "creation_date": 1551915378, "post_id": 55033098, "comment_id": 96820246, "body": "So I figured it out but I can&#39;t leave you hanging right because you&#39;ll go mad trying to understand.  Basically, I had added a <code>window.onload</code> event at one point in my code and all my JavaScript was inside of this.  So, while the image was waiting for the GET response, the JavaScript basically was unusable.  So, I moved my JavaScript out of this window.onload and now it works perfectly because of this.  Thank for being willing to help and if you wish to discuss this further, you can add me on discord Jonah#5945."}, {"owner": {"reputation": 2868, "user_id": 1079731, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/739a623415f9f77afd78a7cd1a490907?s=128&d=identicon&r=PG", "display_name": "Joshua Robinson", "link": "https://stackoverflow.com/users/1079731/joshua-robinson"}, "reply_to_user": {"reputation": 21, "user_id": 8771051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2e9d6da7fe29227e86f42e844600131?s=128&d=identicon&r=PG&f=1", "display_name": "Jonah", "link": "https://stackoverflow.com/users/8771051/jonah"}, "edited": false, "score": 0, "creation_date": 1551915464, "post_id": 55033098, "comment_id": 96820264, "body": "Great! Glad this is working for you now, figured had to be some onload code! Cheers"}], "tags": [], "owner": {"reputation": 2868, "user_id": 1079731, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/739a623415f9f77afd78a7cd1a490907?s=128&d=identicon&r=PG", "display_name": "Joshua Robinson", "link": "https://stackoverflow.com/users/1079731/joshua-robinson"}, "is_accepted": false, "score": 0, "last_activity_date": 1551910833, "creation_date": 1551910833, "answer_id": 55033098, "question_id": 55032891, "link": "https://stackoverflow.com/questions/55032891/how-to-load-html-file-with-style-without-affecting-the-rest-of-the-page-styles/55033098#55033098", "title": "How to load HTML file with style without affecting the rest of the page styles?", "body": "<p>Only ancient email clients support running JavaScript, to do so opens so many security vulnerabilities, not advised. Iframe creates another browser context. Each browser context is a complete document environment, is not possible for the iframe CSS to affect the parent CSS.</p>\n"}], "owner": {"reputation": 21, "user_id": 8771051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2e9d6da7fe29227e86f42e844600131?s=128&d=identicon&r=PG&f=1", "display_name": "Jonah", "link": "https://stackoverflow.com/users/8771051/jonah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 207, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551910833, "creation_date": 1551909849, "question_id": 55032891, "link": "https://stackoverflow.com/questions/55032891/how-to-load-html-file-with-style-without-affecting-the-rest-of-the-page-styles", "title": "How to load HTML file with style without affecting the rest of the page styles?", "body": "<p>I am creating a basic email client for myself in electron.  When I load an email, that email data needs to be displayed inside a div element that looks like this <code>&lt;div id=\"emailDisplay\"&gt;&lt;/div&gt;</code>.  The only problem is that this html can contain embedded stylesheets which then affect the rest of the page.  I tried using an iframe but when one of the elements failed to load (such as an image), it caused an exception and my other needed JavaScript is never executed.  The exact error is <code>net::ERR_CONNECTION_TIMED_OUT</code>.  So what I'm asking is how can I display this HTML without it affecting the rest of the document's styles or how can I catch and ignore the iframe error?  Thanks in advance.</p>\n"}, {"tags": ["javascript", "css", "d3.js", "svg"], "comments": [{"owner": {"reputation": 1768, "user_id": 3902128, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ADDli.jpg?s=128&g=1", "display_name": "ee2Dev", "link": "https://stackoverflow.com/users/3902128/ee2dev"}, "edited": false, "score": 0, "creation_date": 1551914434, "post_id": 55032873, "comment_id": 96819977, "body": "You can get the bounding box of the g element with element.getBBox() to get the center and then set the x attribute to the center with text-align: middle. See also related SO question <a href=\"https://stackoverflow.com/questions/13922862/getting-text-area-using-getbbox\" title=\"getting text area using getbbox\">stackoverflow.com/questions/13922862/&hellip;</a>"}, {"owner": {"reputation": 90540, "user_id": 5768908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wf0PS.jpg?s=128&g=1", "display_name": "Gerardo Furtado", "link": "https://stackoverflow.com/users/5768908/gerardo-furtado"}, "reply_to_user": {"reputation": 1768, "user_id": 3902128, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ADDli.jpg?s=128&g=1", "display_name": "ee2Dev", "link": "https://stackoverflow.com/users/3902128/ee2dev"}, "edited": false, "score": 1, "creation_date": 1551915022, "post_id": 55032873, "comment_id": 96820153, "body": "@ee2Dev <code>getBBox()</code> is a computer-intensive solution, which is not needed anyway because the treemap generator populates the boxes&#39; values (<code>x0</code>, <code>x1</code>, <code>y0</code> and <code>y1</code>)."}], "answers": [{"comments": [{"owner": {"reputation": 690, "user_id": 2294089, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/aaf02a93a0a9c83f679580da0acfbe7a?s=128&d=identicon&r=PG", "display_name": "Arman Feyzi", "link": "https://stackoverflow.com/users/2294089/arman-feyzi"}, "edited": false, "score": 0, "creation_date": 1551946599, "post_id": 55033805, "comment_id": 96829054, "body": "It&#39;s work correctly for LTR languages but when change value of <code>name</code> child in JSON object to unicode character like Persian text also alignment is damaged!"}, {"owner": {"reputation": 690, "user_id": 2294089, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/aaf02a93a0a9c83f679580da0acfbe7a?s=128&d=identicon&r=PG", "display_name": "Arman Feyzi", "link": "https://stackoverflow.com/users/2294089/arman-feyzi"}, "edited": false, "score": 0, "creation_date": 1551946999, "post_id": 55033805, "comment_id": 96829232, "body": "I edit your code snippet for the show this problem. Thanks, @gerado-furtado and excuse me for my bad English writing"}, {"owner": {"reputation": 690, "user_id": 2294089, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/aaf02a93a0a9c83f679580da0acfbe7a?s=128&d=identicon&r=PG", "display_name": "Arman Feyzi", "link": "https://stackoverflow.com/users/2294089/arman-feyzi"}, "edited": false, "score": 0, "creation_date": 1551947193, "post_id": 55033805, "comment_id": 96829317, "body": "In fact, when the text is on the RTL, the written lines mingle with each other :/"}, {"owner": {"reputation": 90540, "user_id": 5768908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wf0PS.jpg?s=128&g=1", "display_name": "Gerardo Furtado", "link": "https://stackoverflow.com/users/5768908/gerardo-furtado"}, "reply_to_user": {"reputation": 690, "user_id": 2294089, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/aaf02a93a0a9c83f679580da0acfbe7a?s=128&d=identicon&r=PG", "display_name": "Arman Feyzi", "link": "https://stackoverflow.com/users/2294089/arman-feyzi"}, "edited": false, "score": 0, "creation_date": 1551950263, "post_id": 55033805, "comment_id": 96831116, "body": "@ArmanFeyzi That&#39;s a <b>different</b> problem. Therefore, please ask a new question, with the relevant details."}], "tags": [], "owner": {"reputation": 90540, "user_id": 5768908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wf0PS.jpg?s=128&g=1", "display_name": "Gerardo Furtado", "link": "https://stackoverflow.com/users/5768908/gerardo-furtado"}, "is_accepted": true, "score": 3, "last_activity_date": 1551914824, "creation_date": 1551914824, "answer_id": 55033805, "question_id": 55032873, "link": "https://stackoverflow.com/questions/55032873/align-text-element-to-middle-in-treemap/55033805#55033805", "title": "Align text element to middle in treemap", "body": "<p>SVG elements have none of those HTML properties you're using in your code.</p>\n\n<p>The simple solution here is setting the <code>x</code> property to the middle of the rectangle, by using the <code>x0</code> and <code>x1</code> properties created by the treemap generator, combined with <code>text-anchor: middle</code>. However, due to the strange data bound to the <code>&lt;tspan&gt;</code> elements, we have to bend over backwards to get the datum from the parents:</p>\n\n<pre><code>.attr(\"x\", function() {\n    const parentData = d3.select(this.parentNode).datum();\n    return (parentData.x1 - parentData.x0) / 2;\n});\n</code></pre>\n\n<p>Here is your code with that change only:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let data = {\r\n  \"name\": \"topLevel element\",\r\n  \"children\": [{\r\n      \"name\": \"group 1\",\r\n      \"children\": [{\r\n          \"name\": \"first child\",\r\n          \"volume\": 567.2,\r\n          \"value\": 1250,\r\n          \"price\": 1201,\r\n          \"pc\": 1\r\n        },\r\n        {\r\n          \"name\": \"secondary\",\r\n          \"volume\": 7809.1,\r\n          \"value\": 12450,\r\n          \"price\": 13201,\r\n          \"pc\": 2\r\n        },\r\n        {\r\n          \"name\": \"another\",\r\n          \"volume\": 2163.7,\r\n          \"value\": 12450,\r\n          \"price\": 13201,\r\n          \"pc\": 3\r\n        },\r\n        {\r\n          \"name\": \"like svg\",\r\n          \"volume\": 1756.5,\r\n          \"value\": 12450,\r\n          \"price\": 13201,\r\n          \"pc\": 4\r\n        },\r\n        {\r\n          \"name\": \"abc\",\r\n          \"volume\": 1201.7,\r\n          \"value\": 12450,\r\n          \"price\": 13201,\r\n          \"pc\": 5\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      \"name\": \"Group 2\",\r\n      \"children\": [{\r\n          \"name\": \"tripppp\",\r\n          \"volume\": 2999.3,\r\n          \"value\": 12450,\r\n          \"price\": 13201,\r\n          \"pc\": 6\r\n        },\r\n        {\r\n          \"name\": \"pardon\",\r\n          \"volume\": 10398.3,\r\n          \"value\": 12450,\r\n          \"price\": 13201,\r\n          \"pc\": 7\r\n        },\r\n        {\r\n          \"name\": \"world d3\",\r\n          \"volume\": 10150.5,\r\n          \"value\": 12450,\r\n          \"price\": 13201,\r\n          \"pc\": 8\r\n        },\r\n        {\r\n          \"name\": \"other bit\",\r\n          \"volume\": 2652.6,\r\n          \"value\": 12450,\r\n          \"price\": 13201,\r\n          \"pc\": 7\r\n        },\r\n        {\r\n          \"name\": \"rest train\",\r\n          \"volume\": 2894,\r\n          \"value\": 12450,\r\n          \"price\": 13201,\r\n          \"pc\": 4\r\n        },\r\n        {\r\n          \"name\": \"big data\",\r\n          \"volume\": 6281.2,\r\n          \"value\": 12450,\r\n          \"price\": 13201,\r\n          \"pc\": 3\r\n        },\r\n        {\r\n          \"name\": \"relase note\",\r\n          \"volume\": 2431.3,\r\n          \"value\": 12450,\r\n          \"price\": 13201,\r\n          \"pc\": 3\r\n        },\r\n        {\r\n          \"name\": \"seventeen\",\r\n          \"volume\": 2373.5,\r\n          \"value\": 12450,\r\n          \"price\": 13201,\r\n          \"pc\": 2\r\n        },\r\n        {\r\n          \"name\": \"fourth\",\r\n          \"volume\": 1377.1,\r\n          \"value\": 12450,\r\n          \"price\": 13201,\r\n          \"pc\": 1\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n};\r\n\r\nlet chartDiv = document.getElementById(\"chart\");\r\nlet svg = d3.select(chartDiv).append(\"svg\");\r\n\r\nvar width = chartDiv.clientWidth;\r\nvar height = chartDiv.clientHeight;\r\n\r\nlet chart = () =&gt; {\r\n  const root = treemap(filteredData);\r\n\r\n  const svg = d3.select(\"svg\");\r\n\r\n  svg\r\n    .attr(\"width\", width)\r\n    .attr(\"height\", height)\r\n    .classed(\"svg-content-responsive\", true)\r\n    .attr(\"preserveAspectRatio\", \"xMinYMin meet\")\r\n    .attr(\"viewBox\", `0 0 ${width} ${height}`);\r\n\r\n  const leaf = svg.selectAll(\"g\")\r\n    .data(root.leaves())\r\n    .enter().append(\"g\")\r\n    .attr(\"transform\", d =&gt; `translate(${d.x0},${d.y0})`);\r\n\r\n  leaf.append(\"title\")\r\n    .text(d =&gt; `${d.ancestors().reverse().map(d =&gt; d.data.name).join(\"/\")}\\n${format(d.value)}`);\r\n\r\n  leaf.append(\"rect\")\r\n    .attr(\"fill\", \"green\")\r\n    .attr(\"fill-opacity\", 1.0)\r\n    // .attr(\"text-anchor\", \"start\")\r\n    // .attr(\"dominant-baseline\", \"central\")\r\n    .attr(\"width\", d =&gt; d.x1 - d.x0)\r\n    .attr(\"height\", d =&gt; d.y1 - d.y0)\r\n    .attr(\"class\", function(d) {\r\n      return \"node level-\" + d.depth;\r\n    });\r\n  // .on(\"mouseover\", (d) =&gt; {\t\t\r\n  //   d3.select(this)\r\n  //     .style(\"stroke\", \"yellow\")\r\n  //     .style(\"opacity\", 1)\r\n  //  });\r\n\r\n  // leaf.append(\"clipPath\")\r\n  //     .attr(\"id\", d =&gt; (d.clipUid = (\"#clip\")).id)\r\n  //     .append(\"use\")\r\n  //     .attr(\"xlink:href\", d =&gt; d.leafUid.href);\r\n\r\n  leaf.append(\"text\")\r\n    .attr(\"fill\", \"#fff\")\r\n    //.style(\"text-anchor\", \"end\")\r\n    // .attr(\"clip-path\", d =&gt; d.clipUid)\r\n    .attr(\"text-anchor\", \"middle\")\r\n    .attr(\"width\", d =&gt; d.x1 - d.x0)\r\n    .attr(\"height\", d =&gt; d.y1 - d.y0)\r\n    // .attr(\"y\", 0)\r\n    // .attr(\"x\", 0)\r\n    // .attr(\"dy\", 0)\r\n    .attr(\"font-size\", d =&gt; Math.min(d.x1 - d.x0, d.y1 - d.y0) / 6)\r\n    .selectAll(\"tspan\")\r\n    .data(d =&gt; d.data.name.split(/(?=[A-Z][^A-Z])/g).concat(format(d.data.volume)).concat(format(d.data.pc)))\r\n    .enter().append(\"tspan\")\r\n    // .style(\"width\", d =&gt; d.x1 - d.x0)\r\n    // .style(\"height\", d =&gt; d.y1 - d.y0)\r\n    // .attr(\"lengthAdjust\" ,\"spacingAndGlyphs\")\r\n    // .attr(\"transform\", \"(250 250 250 250)\")\r\n    //.style(\"text-anchor\", \"middle\")\r\n    // .attr(\"dominant-baseline\", \"central\")\r\n    .attr(\"dy\", \"1.1em\")\r\n    .attr(\"x\", function() {\r\n      const parentData = d3.select(this.parentNode).datum();\r\n      return (parentData.x1 - parentData.x0) / 2;\r\n    })\r\n    // .attr(\"dx\", 0)\r\n    // .attr(\"y\", 18)\r\n    // .attr(\"y\", (d, i, nodes) =&gt; `${(i === nodes.length ) * 1.3 + 1.2 + i * 1.9}em`)\r\n    .attr(\"font-weight\", (d, i, nodes) =&gt; i === nodes.length - 1 ? \"200\" : \"700\")\r\n    // .attr(\"font-family\", \"Vazir\")\r\n    .attr(\"font-size\", (d) =&gt; d.value)\r\n    .text(d =&gt; d);\r\n\r\n  return svg.node();\r\n}\r\nlet filteredData = d3.hierarchy(data)\r\n  .sum(d =&gt; d.volume)\r\n  .sort((a, b) =&gt; b.height - a.height || b.value - a.value);\r\n\r\n\r\nlet treemap = d3.treemap()\r\n  .size([width, height])\r\n  .padding(1)\r\n  .paddingRight(3)\r\n  .round(true);\r\n\r\nlet format = d3.format(\",d\");\r\n\r\n\r\nchart();</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>* {\r\n  font-family: 'Vazir', sans-serif;\r\n}\r\n\r\n/* Make the chart container fill the page using CSS. */\r\n\r\n#chart {\r\n  background: #212121;\r\n  position: fixed;\r\n  left: 0px;\r\n  right: 0px;\r\n  top: 0px;\r\n  bottom: 0px;\r\n  font-family: 'Vazir', sans-serif;\r\n}\r\n\r\ng text {\r\n  text-shadow: 1px 2px 0 #555;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.min.js\"&gt;&lt;/script&gt;\r\n&lt;link href=\"https://cdn.rawgit.com/rastikerdar/vazir-font/v19.2.0/dist/font-face.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\r\n\r\n&lt;div id=\"chart\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>PS: I wrote <em>\"with that change only\"</em> because your code has several evident issues, such as assigning a <code>width</code> and a <code>margin</code> to a text element, which I left untouched. </p>\n"}], "owner": {"reputation": 690, "user_id": 2294089, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/aaf02a93a0a9c83f679580da0acfbe7a?s=128&d=identicon&r=PG", "display_name": "Arman Feyzi", "link": "https://stackoverflow.com/users/2294089/arman-feyzi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 442, "favorite_count": 0, "accepted_answer_id": 55033805, "answer_count": 1, "score": 1, "last_activity_date": 1551915403, "creation_date": 1551909764, "last_edit_date": 1551915403, "question_id": 55032873, "link": "https://stackoverflow.com/questions/55032873/align-text-element-to-middle-in-treemap", "title": "Align text element to middle in treemap", "body": "<p>How I can set a text-align of <code>text</code> element to the center of SVG <code>g</code> element (parent box)?</p>\n\n<p>like <code>text-align: center</code> on html div element.</p>\n\n<p>I try to build treemap by D3.js </p>\n\n<p><a href=\"https://jsfiddle.net/armanfeyzi/w8snog2e/3/\" rel=\"nofollow noreferrer\">JSFiddle Demo</a></p>\n\n<p>Here is a code that I try :</p>\n\n<pre><code>leaf.append(\"text\")\n            .attr(\"fill\", \"#fff\")\n            //.style(\"text-anchor\", \"end\")\n            .attr(\"width\", d =&gt; d.x1 - d.x0)\n            .attr(\"height\", d =&gt; d.y1 - d.y0)\n            // .attr(\"y\", 0)\n            // .attr(\"x\", 0)\n            // .attr(\"dy\", 0)\n            .attr(\"font-size\", d =&gt; Math.min(d.x1 - d.x0, d.y1 - d.y0) / 6)\n            .selectAll(\"tspan\")\n            .data(d =&gt; d.data.name.split(/(?=[A-Z][^A-Z])/g).concat(format(d.data.volume)).concat(format(d.data.pc)))\n            .enter().append(\"tspan\")\n            // .style(\"width\", d =&gt; d.x1 - d.x0)\n            // .style(\"height\", d =&gt; d.y1 - d.y0)\n             //.style(\"text-anchor\", \"middle\")\n            .attr(\"dy\", \"1.1em\")\n            .attr(\"x\", \"5\")\n            .attr(\"font-weight\", (d, i, nodes) =&gt; i === nodes.length - 1 ? \"200\" : \"700\")\n            .attr(\"font-size\", (d) =&gt; d.value)\n            .text(d =&gt; d);\n</code></pre>\n\n<p>Please view the sample code on JSFiddle</p>\n"}, {"tags": ["javascript", "d3.js", "svg", "text"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 10868873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36656276f7e8edd7556b827bb3fc8d29?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/10868873/kevin"}, "edited": false, "score": 0, "creation_date": 1551960608, "post_id": 55035774, "comment_id": 96837650, "body": "Thank you so much! I just added the class attribute to the group.  I need it to drag together, because actually both elements are inside a rectangle of an svg group.  Really appreciate it!"}], "tags": [], "owner": {"reputation": 30153, "user_id": 7106086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V7fFc.png?s=128&g=1", "display_name": "Andrew Reid", "link": "https://stackoverflow.com/users/7106086/andrew-reid"}, "is_accepted": true, "score": 0, "last_activity_date": 1551931057, "last_edit_date": 1551931057, "creation_date": 1551930745, "answer_id": 55035774, "question_id": 55032806, "link": "https://stackoverflow.com/questions/55032806/d3-drag-multiple-text-elements-inside-a-group-svg/55035774#55035774", "title": "d3 drag multiple text elements inside a group SVG", "body": "<p>If you want to select the second label, but don't want to use <code>selectAll</code> as it selects both, you can give the labels classes when appending and select those when dragging:</p>\n\n<pre><code>d3.select(this).select(\".bigLabel\")\n .attr(\"x\", d.labelX = d3.event.x + 10)\n .attr(\"y\", d.labelY = d3.event.y + 20);\n\nd3.select(this).select(\".smallLabel\")\n .attr(\"x\", d.labelX2 = d3.event.x + 10)\n .attr(\"y\", d.labelY2 = d3.event.y + 20);\n</code></pre>\n\n<p>Though of course this will set the same coordinate for both labels unless you specify an offset, as below:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data = [\r\n { x: 100, x2: 100, y: 100, y2: 120, label: \"label1\", value: \"17%\" },\r\n { x: 300, x2: 300, y: 200, y2: 220, label: \"label2\", value: \"83%\" },\r\n { x: 100, x2: 100, y: 200, y2: 220, label: \"label3\", value: \"11%\" },\r\n { x: 300, x2: 300, y: 100, y2: 120, label: \"label4\", value: \"96%\" }\r\n];\r\n\r\nvar svg = d3.select(\"svg\");\r\n\r\nvar labels = svg.selectAll(\"g\")\r\n  .data(data)\r\n  .enter()\r\n  .append(\"g\")\r\n  .call(d3.drag()\r\n  .on(\"drag\",drag));\r\n    \r\nlabels.append(\"text\")\r\n  .attr(\"font-size\", \"1em\")\r\n  .attr(\"x\", function(d) { return d.x;})\r\n  .attr(\"y\", function(d) { return d.y;})\r\n  .text(function(d) { return d.label; })\r\n  .attr(\"class\",\"label1\");\r\n     \r\nlabels.append(\"text\")\r\n  .attr(\"font-size\", \".75em\")\r\n  .attr(\"x\", function(d) { return d.x2;})\r\n  .attr(\"y\", function(d) { return d.y2;})  \r\n  .text(function(d) { return d.value; })\r\n  .attr(\"class\",\"label2\");\r\n\r\nfunction drag(d) {\r\n  var x = d3.event.x;\r\n  var y = d3.event.y;\r\n  d3.select(this)\r\n    .select(\".label1\")\r\n    .attr(\"x\", function(d) { return d.x = x; })\r\n    .attr(\"y\", function(d) { return d.y = y; })\r\n  d3.select(this)\r\n    .select(\".label2\")\r\n    .attr(\"x\", function(d) { return d.x2 = x; })\r\n    .attr(\"y\", function(d) { return d.y2 = y + 20; })    \r\n    \r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>text {\r\n  text-anchor:middle;\r\n  cursor:pointer;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.min.js\"&gt;&lt;/script&gt;\r\n&lt;svg width=\"500\" height=\"400\"&gt;&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I won't dive into the alternative in too much depth, but it applies the drag to the <code>g</code>, positioning both text labels at the same time. This can handle irregular spacing between sibling labels easier than the above: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data = [\r\n { x: 100, y: 100, label: \"label1\", value: \"17%\" },\r\n { x: 300, y: 200, label: \"label2\", value: \"83%\" },\r\n { x: 100, y: 200, label: \"label3\", value: \"11%\" },\r\n { x: 300, y: 100, label: \"label4\", value: \"96%\" }\r\n];\r\n\r\nvar svg = d3.select(\"svg\");\r\n\r\nvar labels = svg.selectAll(\"g\")\r\n  .data(data)\r\n  .enter()\r\n  .append(\"g\")\r\n  .attr(\"transform\",function(d) { \r\n    return \"translate(\"+[d.x,d.y]+\")\"; \r\n  })\r\n  .call(d3.drag().on(\"drag\", drag));\r\n    \r\nlabels.append(\"text\")\r\n  .attr(\"font-size\", \"1em\")\r\n  .text(function(d) { return d.label; });\r\n     \r\nlabels.append(\"text\")\r\n  .attr(\"font-size\", \".75em\")\r\n  .text(function(d) { return d.value; })\r\n  .attr(\"dy\", \"1em\")\r\n  \r\nfunction drag(d) {\r\n  d3.select(this)\r\n    .attr(\"transform\",\"translate(\"+[d.x=d3.event.x,d.y=d3.event.y]+\")\"); \r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>text {\r\n  text-anchor: middle;\r\n  cursor: pointer;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.min.js\"&gt;&lt;/script&gt;\r\n&lt;svg width=\"500\" height=\"400\"&gt;&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><em>Also, there is no need to use <code>append(\"text\").data(data)</code>, this is not doing anything - your datum is already bound to the newly appended element</em></p>\n\n<p><em>Lastly, you can make this work with selectAll() if you set attributes using the second parameter of any provided function when setting attributes: <code>(d,i)=&gt;...</code> i is the index of the element, so if your sibling labels are regularly spaced, you can use something like:</em></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data = [\r\n { x: 100, y: 100, label: \"label1\", value: \"17%\" },\r\n { x: 300, y: 200, label: \"label2\", value: \"83%\" },\r\n { x: 100, y: 200, label: \"label3\", value: \"11%\" },\r\n { x: 300, y: 100, label: \"label4\", value: \"96%\" }\r\n];\r\n\r\nvar svg = d3.select(\"svg\");\r\n\r\nvar labels = svg.selectAll(\"g\")\r\n  .data(data)\r\n  .enter()\r\n  .append(\"g\")\r\n  .call(d3.drag()\r\n  .on(\"drag\",drag));\r\n    \r\nlabels.append(\"text\")\r\n  .attr(\"font-size\", \"1em\")\r\n  .attr(\"x\", function(d) { return d.x;})\r\n  .attr(\"y\", function(d) { return d.y;})\r\n  .text(function(d) { return d.label; })\r\n     \r\nlabels.append(\"text\")\r\n  .attr(\"font-size\", \".75em\")\r\n  .attr(\"x\", function(d) { return d.x;})\r\n  .attr(\"y\", function(d) { return d.y + 20;})  \r\n  .text(function(d) { return d.value; })\r\n\r\nfunction drag(d) {\r\n  var x = d3.event.x;\r\n  var y = d3.event.y;\r\n  d3.select(this)\r\n    .selectAll(\"text\")\r\n    .attr(\"x\", function(d) { return d.x = x; })\r\n    .attr(\"y\", function(d,i) { d.y = y;\r\n      return d.y + i * 20;\r\n    })\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>text {\r\n  text-anchor:middle;\r\n  cursor:pointer;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.min.js\"&gt;&lt;/script&gt;\r\n&lt;svg width=\"500\" height=\"400\"&gt;&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 15, "user_id": 10868873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36656276f7e8edd7556b827bb3fc8d29?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/10868873/kevin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "accepted_answer_id": 55035774, "answer_count": 1, "score": 1, "last_activity_date": 1551931057, "creation_date": 1551909452, "question_id": 55032806, "link": "https://stackoverflow.com/questions/55032806/d3-drag-multiple-text-elements-inside-a-group-svg", "title": "d3 drag multiple text elements inside a group SVG", "body": "<p>I am new to using d3.js.  I am trying to append multiple text elements in a svg group.  With that, I want to be able to drag the group of multiple text.<br>\nSo for an example:</p>\n\n<pre><code>    export function testNode (config = {}) {\n    let { svg, rectX, rectY, text1, text2 } = config\n    var data = [{ x: rectX, y:rectY, label: text1, label2: text2, labelX: rectX + 100, labelY: rectY + 200, labelX2: rectX + 300, labelY2: rectY + 300 }]\n        var group = svg.append(\"g\")\n                .selectAll(\"g\")\n        .data(data)\n        .enter()\n                .append(\"g\")\n                .attr(\"transform\",\n                    \"translate(\" + 0 + \",\" + 0 + \")\")\n                .call(d3.drag()\n                    .on(\"start\", dragstarted)\n                    .on(\"drag\", dragged)\n                    .on(\"end\", dragended));\n\n        group.append(\"text\")\n                .data(data)\n                .attr(\"x\", (d) =&gt; { return d.labelX })\n                .attr(\"y\", (d) =&gt; { return d.labelY })\n                .attr(\"font-size\", \"1em\")\n                .attr(\"color\", \"black\")\n                .text((d) =&gt; { return d.label });\n\n            group.append(\"text\")\n                .data(data)\n                .attr(\"x\", (d) =&gt; { return d.labelX2 })\n                .attr(\"y\", (d) =&gt; { return d.labelY2 })\n                .attr(\"font-size\", \".75em\")\n                .attr(\"color\", \"black\")\n                .attr(\"class\", \"label\")\n                .text((d) =&gt; { return d.metricValue_01 });\n\nfunction dragStarted() { \n d3.select(this).raise().classed(\"active\", true);\n}\n\nfunction dragged(d) {\nd3.select(this).select(\"text\")\n .attr(\"x\", d.labelX = d3.event.x + 10)\n .attr(\"y\", d.labelY = d3.event.y + 20);\n\nd3.select(this).select(\"text\")\n .attr(\"x\", d.labelX2 = d3.event.x + 10)\n .attr(\"y\", d.labelY2 = d3.event.y + 20);\n\nfunction dragended() {\n    d3.select(this).classed(\"active\", false);\n}\n</code></pre>\n\n<p>If I use the selectAll method, the text gets clumped together. Therefore, I was wondering if I can drag the text group in their proper position based on the coordinate I give it (while being dragged).  Anyways please let me know if I need to provide any further information.  Thank you</p>\n"}, {"tags": ["javascript", "jquery", "alert", "tampermonkey"], "comments": [{"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1551909689, "post_id": 55032771, "comment_id": 96818262, "body": "Are you able to run code <i>before</i> the alert script runs (such as with <code>@run-at document-start</code>)? If not, it may not be possible with a Tampermonkey userscript. (<i>might</i> be possible with an <a href=\"https://stackoverflow.com/questions/2963677/can-i-prevent-an-alert-with-a-google-chrome-extension\">extension</a> instead, but I&#39;m not sure how soon an extension code can run)"}, {"owner": {"reputation": 27648, "user_id": 2159528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jgc0E.png?s=128&g=1", "display_name": "Louys Patrice Bessette", "link": "https://stackoverflow.com/users/2159528/louys-patrice-bessette"}, "edited": false, "score": 0, "creation_date": 1551909711, "post_id": 55032771, "comment_id": 96818270, "body": "<code>window.alert = function() { &#47;* NOTHING *&#47; }</code> was a good approach... But if it does not work, I guess it simply executes before the user script is loaded."}, {"owner": {"reputation": 27648, "user_id": 2159528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jgc0E.png?s=128&g=1", "display_name": "Louys Patrice Bessette", "link": "https://stackoverflow.com/users/2159528/louys-patrice-bessette"}, "edited": false, "score": 0, "creation_date": 1551910431, "post_id": 55032771, "comment_id": 96818543, "body": "Look <a href=\"https://groups.google.com/d/msg/chromium-discuss/ExF_VjrqBuY/Ww3-144KsJsJ\" rel=\"nofollow noreferrer\">here</a> and see if it works for you ;)"}], "owner": {"reputation": 23, "user_id": 11162268, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-z616hpioZAA/AAAAAAAAAAI/AAAAAAABzeQ/KwbJOC-H8_g/photo.jpg?sz=128", "display_name": "Sluimerstand", "link": "https://stackoverflow.com/users/11162268/sluimerstand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 137, "favorite_count": 0, "closed_date": 1551911766, "answer_count": 0, "score": 1, "last_activity_date": 1551911785, "creation_date": 1551909264, "question_id": 55032771, "link": "https://stackoverflow.com/questions/55032771/blocking-alert-via-userscript", "closed_reason": "Duplicate", "title": "Blocking alert via userscript", "body": "<p>I'm looking to block an alert on a website via a userscript loaded in via Tampermonkey (or a similar extension/plugin).</p>\n\n<p>The code for said alert is triggered on <code>if(window.parent==window){alert()}</code> and is contained in a .js file that the HTML page loads in via <code>&lt;script&gt;</code>, so that complicates matters further.</p>\n\n<p>I've tried a simple <code>window.alert = function() { /* NOTHING */ };</code> as well as <code>if(window.parent==window){};</code> but to no avail. (I'd read that you 'replace' the original code by adding another statement, but I'm guessing that doesn't apply to userscripts in relation to the webpages they're loaded into.)</p>\n\n<p>I'm guessing that a more practical solution would be to fake a parent window as not to trigger the alert, but I couldn't manage to get that to work either.</p>\n\n<p>How would I go about doing this, if this is possible at all?</p>\n"}, {"tags": ["javascript", "selenium", "xpath"], "comments": [{"owner": {"reputation": 2574, "user_id": 11262373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/168c8af27935ff2587e1a3e9804b5958?s=128&d=identicon&r=PG&f=1", "display_name": "BT101", "link": "https://stackoverflow.com/users/11262373/bt101"}, "reply_to_user": {"reputation": 23944, "user_id": 1305969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wlo8z.png?s=128&g=1", "display_name": "zx485", "link": "https://stackoverflow.com/users/1305969/zx485"}, "edited": false, "score": 0, "creation_date": 1551910642, "post_id": 55032769, "comment_id": 96818609, "body": "I can not change it now"}, {"owner": {"reputation": 2574, "user_id": 11262373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/168c8af27935ff2587e1a3e9804b5958?s=128&d=identicon&r=PG&f=1", "display_name": "BT101", "link": "https://stackoverflow.com/users/11262373/bt101"}, "reply_to_user": {"reputation": 23944, "user_id": 1305969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wlo8z.png?s=128&g=1", "display_name": "zx485", "link": "https://stackoverflow.com/users/1305969/zx485"}, "edited": false, "score": 0, "creation_date": 1551910874, "post_id": 55032769, "comment_id": 96818676, "body": "Is there some work around so I can get this elements? It&#39;s necessary"}], "answers": [{"comments": [{"owner": {"reputation": 11632, "user_id": 8582353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa2e22a564c1d0e098316210a2ec4fb1?s=128&d=identicon&r=PG&f=1", "display_name": "yong", "link": "https://stackoverflow.com/users/8582353/yong"}, "edited": false, "score": 1, "creation_date": 1551923391, "post_id": 55032841, "comment_id": 96822061, "body": "Joe&#39;s given code has small issue, I corrected it. Please try again.  I verified the xpath <code>&#47;&#47;div[contains(@tip,&#39;Kobold \u0142ucznik&#39;)]</code> worked fine on my local"}, {"owner": {"reputation": 2574, "user_id": 11262373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/168c8af27935ff2587e1a3e9804b5958?s=128&d=identicon&r=PG&f=1", "display_name": "BT101", "link": "https://stackoverflow.com/users/11262373/bt101"}, "edited": false, "score": 0, "creation_date": 1551925712, "post_id": 55032841, "comment_id": 96822587, "body": "Actually now it worked. I wonder why @zx485 in comment section below question said that it&#39;s not gonna work and I can&#39;t use xpath to achieve my goal."}, {"owner": {"reputation": 2574, "user_id": 11262373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/168c8af27935ff2587e1a3e9804b5958?s=128&d=identicon&r=PG&f=1", "display_name": "BT101", "link": "https://stackoverflow.com/users/11262373/bt101"}, "edited": false, "score": 0, "creation_date": 1551927095, "post_id": 55032841, "comment_id": 96822892, "body": "But for some reason now I can not convert first from webElements to string with this: <code>webElements[0].getAttribute(&#39;innerHTML&#39;)</code>. I mean I can but string is empty."}, {"owner": {"reputation": 457, "user_id": 10256397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2056f15cbd60df361b728724e5afbaf5?s=128&d=identicon&r=PG&f=1", "display_name": "BugCatcherJoe", "link": "https://stackoverflow.com/users/10256397/bugcatcherjoe"}, "edited": false, "score": 0, "creation_date": 1551933227, "post_id": 55032841, "comment_id": 96824246, "body": "Is there any html inside those div tags you retrieved? or are you trying to retrieve the value inside tip attribute?"}, {"owner": {"reputation": 2574, "user_id": 11262373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/168c8af27935ff2587e1a3e9804b5958?s=128&d=identicon&r=PG&f=1", "display_name": "BT101", "link": "https://stackoverflow.com/users/11262373/bt101"}, "edited": false, "score": 0, "creation_date": 1551988849, "post_id": 55032841, "comment_id": 96853677, "body": "Sorry I was trying to get outerHTML, my bad."}], "tags": [], "owner": {"reputation": 457, "user_id": 10256397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2056f15cbd60df361b728724e5afbaf5?s=128&d=identicon&r=PG&f=1", "display_name": "BugCatcherJoe", "link": "https://stackoverflow.com/users/10256397/bugcatcherjoe"}, "is_accepted": true, "score": 2, "last_activity_date": 1551923536, "last_edit_date": 1551923536, "creation_date": 1551909620, "answer_id": 55032841, "question_id": 55032769, "link": "https://stackoverflow.com/questions/55032769/grab-elements-which-custom-attribute-value-contains-string-xpath-selenium/55032841#55032841", "title": "Grab elements which custom attribute value contains string - xpath selenium", "body": "<p>I think this should work </p>\n\n<pre><code>driver.findElements(By.xpath(\"//div[contains(@tip,'Kobold \u0142ucznik')]\")\n</code></pre>\n\n<p>or use css selector which fast and compatible with more browser</p>\n\n<pre><code>driver.findElements(By.css(\"div[tip*='Kobold \u0142ucznik']\"))\n</code></pre>\n"}], "owner": {"reputation": 2574, "user_id": 11262373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/168c8af27935ff2587e1a3e9804b5958?s=128&d=identicon&r=PG&f=1", "display_name": "BT101", "link": "https://stackoverflow.com/users/11262373/bt101"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 372, "favorite_count": 0, "accepted_answer_id": 55032841, "answer_count": 1, "score": 0, "last_activity_date": 1551923536, "creation_date": 1551909255, "last_edit_date": 1551919820, "question_id": 55032769, "link": "https://stackoverflow.com/questions/55032769/grab-elements-which-custom-attribute-value-contains-string-xpath-selenium", "title": "Grab elements which custom attribute value contains string - xpath selenium", "body": "<p>In some application there are div's with custom tip attribute:</p>\n\n<pre><code>&lt;div tip=\"&lt;b&gt;Kobold \u0142ucznik&lt;/b&gt;\" style=\"left: 450px; top: 220px;\"&gt;...&lt;/div&gt;\n&lt;div tip=\"&lt;b&gt;Kobold \u0142ucznik&lt;/b&gt;\" style=\"left: 320px; top: 320px;\"&gt;...&lt;/div&gt;\n</code></pre>\n\n<p>I'm using nodeJs selenium webdriver to pull some data from this application. I found info that I can use xpath to grab elements which attribute is equal to something. </p>\n\n<p>What I want to achieve is find all elements which value of custom attribute tip contain string: <code>'Kobold \u0142ucznik'</code>. I want to do that to be able to collect x and y from <code>left: x px</code> and <code>top: y px</code> and push it to some array of objects later on. </p>\n\n<p>But the first step is to find all this elements.</p>\n\n<p>I tried like this:</p>\n\n<pre><code>driver.findElements(webdriver.By.xpath('//@*[contains('Kobold \u0142ucznik','tip')]/..'))\n</code></pre>\n\n<p>But with no luck.</p>\n\n<hr>\n\n<p>As @zx485 said in comment section the issue here is that <code>tip</code> attribute value has <code>&lt;</code> in it. Unfortunately I can not change the <code>tip</code> value. The key for my app to work correctly is to grab those elements and I can not get the job done without doing it.</p>\n"}, {"tags": ["javascript", "php", "vue.js"], "owner": {"reputation": 33, "user_id": 4667081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f117a71d76cacf271940f3b2b38e042b?s=128&d=identicon&r=PG&f=1", "display_name": "fakenso", "link": "https://stackoverflow.com/users/4667081/fakenso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 651, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1551909933, "creation_date": 1551909161, "last_edit_date": 1551909573, "question_id": 55032752, "link": "https://stackoverflow.com/questions/55032752/vue-js-axios-post-sending-null-value", "title": "Vue.js Axios post sending null value", "body": "<p>I am struggling with a problem using axios.</p>\n\n<p><strong>Vue file:</strong>   </p>\n\n<pre><code>&lt;script&gt;\nexport default {\n  name: 'npcs-list',\n  data () {\n    return {\n      data: '',\n      index: '',\n      dialogues: '',\n      input: {\n        npc_name: '',\n      },\n      npc_id: '',\n      npc_name: '',\n      npc_start_dialogues:'',\n      dialogues: [],\n      fields: [{\n        name: 'id',\n        callback: 'stringToInt'\n      },\n      {\n        name: 'name'\n      },\n      {\n        name: 'start_dialog'\n      },\n      {\n        name: 'actions', // &lt;----\n        title: 'Akcje',\n        titleClass: 'center aligned',\n        dataClass: 'center aligned'\n\n      }\n      ],\n      css: {\n        pagination: {\n          wrapperClass: 'pagination pull-right',\n          activeClass: 'btn-primary',\n          disabledClass: 'disabled',\n          pageClass: 'btn btn-border',\n          linkClass: 'btn btn-border',\n          icons: {\n            first: '',\n            prev: '',\n            next: '',\n            last: ''\n\n          }\n\n        }\n      }\n    }\n  },\n  components: {\n    Vuetable,\n    VuetablePagination,\n    VuetablePaginationInfo\n  },\n  methods: {\n    insertNPC () {\n      const data = this\n      if (this.input.npc_name != '' &amp;&amp; this.npc_start_dialogues != '') {\n        axios.post('http://localhost/test/Quests/endpoints/insert.npc.php', {\n          npc_name: 'dupa',\n          npc_startdialog: 'dupa2'\n        })\n          .then((response) =&gt; {\n            data.status = response.data\n          })\n          .catch(function (error) {\n            console.log(error)\n          })\n        if (data.status == '1') {\n          alert('Dzia\u0142a!')\n        } else {\n          alert('Taki tag ju\u017c istnieje!')\n        }\n      } else {\n        alert('Brak wystarczaj\u0105cej ilo\u015bci danych')\n      }\n    },\n    showModal(data) {\n      this.$refs.myModalRef.show()\n      this.data = data,\n      this.npc_id = data.id,\n      this.npc_name = data.name,\n      this.npc_start_dialogues = data.start_dialog.split(\";\")\n    },\n    hideModal () {\n      this.$refs.myModalRef.hide()\n    },\n    onHidden (evt){\n      this.npc_id = '',\n      this.npc_name = '',\n      this.npc_start_dialogues = ''\n    },\n    log (data) {\n      console.log(data)\n    },\n    editDialogue (data) {\n      this.$router.push({\n        name: 'editDialogues',\n        params: {\n          id: data\n        }\n      })\n    },\n    editOption (data) {\n      this.$router.push({\n        name: 'editOptions',\n        params: {\n          id: data\n        }\n      })\n    },\n}\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>PHP endpoint:</strong></p>\n\n<pre><code>&lt;?php\n\nheader('Content-Type:  text/html');\n\ninclude_once '../Checkers/CheckIfNPCExists.php';\ninclude_once '../Inserts/InsertNPC.php';\n\n$requestBody = file_get_contents('php://input');\n$data = json_decode($requestBody);\n$status = new CheckIfNPCExists();\n\nvar_dump($data);\n\n$result = $status-&gt;uniqueTest($data-&gt;npc_name);\nif($result == '0'){\n  $npc_class = new InsertNPC();\n  $npc_result = $npc_class-&gt;createNew($data-&gt;npc_name,$data-&gt;npc_startdialog);\n  echo $npc_result;\n}\n</code></pre>\n\n<p>$result is giving me an error about getting non-object property of 'npc_name'.</p>\n\n<p>var_dump of $data shows in Chrome Preview:</p>\n\n<pre><code>object(stdClass)[1]\n  public 'npc_name' \n</code></pre>\n\n<p>but in Response slightly more (xdebug log):</p>\n\n<pre><code>&lt;pre class='xdebug-var-dump' dir='ltr'&gt;\n&lt;small&gt;C:\\xampp\\htdocs\\test\\Quests\\endpoints\\insert.npc.php:12:&lt;/small&gt;\n&lt;b&gt;object&lt;/b&gt;(&lt;i&gt;stdClass&lt;/i&gt;)[&lt;i&gt;1&lt;/i&gt;]\n  &lt;i&gt;public&lt;/i&gt; 'npc_name' &lt;font color='#888a85'&gt;=&amp;gt;&lt;/font&gt; &lt;small&gt;string&lt;/small&gt; &lt;font color='#cc0000'&gt;'dupa'&lt;/font&gt; &lt;i&gt;(length=4)&lt;/i&gt;\n  &lt;i&gt;public&lt;/i&gt; 'npc_startdialog' &lt;font color='#888a85'&gt;=&amp;gt;&lt;/font&gt; &lt;small&gt;string&lt;/small&gt; &lt;font color='#cc0000'&gt;'dupa2'&lt;/font&gt; &lt;i&gt;(length=5)&lt;/i&gt;\n&lt;/pre&gt;\n</code></pre>\n\n<p>I would appreciate any help, any tips are welcome as well. The text limit is so unhandy.</p>\n"}, {"tags": ["javascript", "redux", "mocha.js", "enzyme", "chai"], "answers": [{"tags": [], "owner": {"reputation": 501, "user_id": 10559113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dFWUU.png?s=128&g=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/10559113/nathan"}, "is_accepted": false, "score": 0, "last_activity_date": 1551933273, "creation_date": 1551933273, "answer_id": 55036160, "question_id": 55032748, "link": "https://stackoverflow.com/questions/55032748/how-to-unit-test-the-state-of-props-using-mocha-chai-and-enzyme/55036160#55036160", "title": "How to unit test the state of props using mocha chai and enzyme?", "body": "<p>You are creating a shallow render of <code>&lt;CreateTemplateResults /&gt;</code>, but never passing <code>actualComponent.setState(nextState)</code>. Therefore, when you are trying to access the state on your last line, it is throwing an error because state is <code>null</code>/<code>undefined</code>.</p>\n\n<p><a href=\"https://airbnb.io/enzyme/docs/api/ShallowWrapper/setState.html\" rel=\"nofollow noreferrer\">shallow().setState</a></p>\n"}], "owner": {"reputation": 45, "user_id": 11018298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df49ea81f1040315b1a4e47e36541e58?s=128&d=identicon&r=PG&f=1", "display_name": "lshawa", "link": "https://stackoverflow.com/users/11018298/lshawa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551933273, "creation_date": 1551909140, "last_edit_date": 1551925209, "question_id": 55032748, "link": "https://stackoverflow.com/questions/55032748/how-to-unit-test-the-state-of-props-using-mocha-chai-and-enzyme", "title": "How to unit test the state of props using mocha chai and enzyme?", "body": "<p>I'm trying to unit test onClick the state of the props in my component clear. </p>\n\n<p>I tried doing it this way: </p>\n\n<pre><code>props = {\n    attributeTableData: data,\n    clearMessage: onClickMethod,\n    reset: () =&gt; { },\n    resetAttributeTable: () =&gt; { },\n    statusMessage: {\n        messageType: 'message-success',\n        userMessage: 'Template has been saved successfully. Please wait \u2026see your results display with the latest'\n    },\n    submitTemplateCreationStatus: () =&gt; { },\n    templateAttributeFormData: () =&gt; { },\n    templateFormSubmission: true,\n    templateAttributeFormSubmission: true,\n    templateFormData: () =&gt; { },\n    userRoles: new Set(['admin'])\n};\nlet emptyStatusMessage = {};\nactualComponent = shallow(&lt;CreateTemplateResults { ...props } /&gt;);\nactualComponent.instance().resetForms();\nexpect(onClickMethod.called).to.be.true;\nexpect(actualComponent.state('statusMessage')).to.eql(emptyStatusMessage)\n</code></pre>\n\n<p>But I get: </p>\n\n<blockquote>\n  <p>\"     TypeError: ShallowWrapper::state(\"statusMessage\") requires that\n  <code>state</code> not be <code>null</code> or <code>undefined</code>\"</p>\n</blockquote>\n"}, {"tags": ["javascript", "jquery", "css", "html", "jquery-ui"], "comments": [{"owner": {"reputation": 1677, "user_id": 525690, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/1l6Nj.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/525690/steve"}, "edited": false, "score": 0, "creation_date": 1551917896, "post_id": 55032746, "comment_id": 96820866, "body": "The FontAwesome icon&#39;s not showing are because of a 403 error. As you&#39;re using the pro URL you&#39;ll need to log into your FA account and tweak the settings for allowed domains and IP addresses."}, {"owner": {"reputation": 1677, "user_id": 525690, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/1l6Nj.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/525690/steve"}, "edited": false, "score": 0, "creation_date": 1551918465, "post_id": 55032746, "comment_id": 96820972, "body": "Plus the icon div is really small, you have this coming from the jquery UI: .ui-resizable-handle {position: absolute; font-size: 0.1px;...}. That font-size is making the icons too small to see."}], "answers": [{"comments": [{"owner": {"reputation": 3694, "user_id": 728065, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/b07e3e9fd1f878301aca209be0ccf4b0?s=128&d=identicon&r=PG", "display_name": "ProfNimrod", "link": "https://stackoverflow.com/users/728065/profnimrod"}, "edited": false, "score": 0, "creation_date": 1551996058, "post_id": 55036089, "comment_id": 96856657, "body": "This was helpful - thank you.  The golden nugget was the note about &#39;left&#39; also being adjusted.  I revised my demo taken this into accout (and a few other things):  <a href=\"https://jsfiddle.net/profnimrod/2Le1vbus/29/\" rel=\"nofollow noreferrer\">jsfiddle.net/profnimrod/2Le1vbus/29</a>  This has the custom handles I need, and I can resize any of the regions."}, {"owner": {"reputation": 23103, "user_id": 463319, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PV2Te.jpg?s=128&g=1", "display_name": "Twisty", "link": "https://stackoverflow.com/users/463319/twisty"}, "reply_to_user": {"reputation": 3694, "user_id": 728065, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/b07e3e9fd1f878301aca209be0ccf4b0?s=128&d=identicon&r=PG", "display_name": "ProfNimrod", "link": "https://stackoverflow.com/users/728065/profnimrod"}, "edited": false, "score": 0, "creation_date": 1551997535, "post_id": 55036089, "comment_id": 96857176, "body": "@ProfNimrod Glad to hear it."}], "tags": [], "owner": {"reputation": 23103, "user_id": 463319, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PV2Te.jpg?s=128&g=1", "display_name": "Twisty", "link": "https://stackoverflow.com/users/463319/twisty"}, "is_accepted": false, "score": 0, "last_activity_date": 1551936178, "last_edit_date": 1551936178, "creation_date": 1551932739, "answer_id": 55036089, "question_id": 55032746, "link": "https://stackoverflow.com/questions/55032746/how-to-make-row-of-divs-resizable-with-jquery/55036089#55036089", "title": "How to make row of DIVs resizable with jQuery", "body": "<p>Consider the following Fiddle: <a href=\"https://jsfiddle.net/Twisty/0r8v47yL/29/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/Twisty/0r8v47yL/29/</a></p>\n\n<p><strong>JavaScript</strong></p>\n\n<pre><code>$(function() {\n  $(\".re-size\").resizable({\n    grid: 50,\n    handles: \"w\",\n    maxHeight: 50,\n    minHeight: 50,\n    containment: \"#container\",\n    resize: function(e, ui) {\n      ui.position.top = 0;\n      ui.position.left = 0;\n      ui.size.height = 50;\n    }\n  });\n});\n</code></pre>\n\n<p>I added classes to your DIV elements to make it easier to assign. First thing to know about resizing on <code>w</code> is that both <code>left</code> and <code>width</code> of the element will be adjusted. For example if you have:</p>\n\n<pre><code>&lt;div id=\"resizable2\" class=\"ui-state-active re-size item\"&gt;\n  &lt;div class=\"ui-resizable-handle ui-resizable-w\"&gt;\n    &lt;span class=\"fas fa-cogs fa-fw\"&gt;&lt;/span&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This being set in CSS to 150px width and 50px height, when we drag the handle over, the <code>left</code> will be updated to say <code>45px</code> and width will be changed to <code>105px</code>. From a UI perspective this is what the user is expecting the action to do, the left hand side is moved. For your project, this does not work well.</p>\n\n<p>Another issue that this does not address is that widening the element becomes more difficult. You can look at the <code>event</code> and review mouse movement to see if the user is trying to move the mouse closer to the left edge. </p>\n\n<p>More complete example: <a href=\"https://jsfiddle.net/Twisty/0r8v47yL/61/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/Twisty/0r8v47yL/61/</a></p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;div class=\"scheduleWrapper\"&gt;\n  &lt;div id=\"canvasOverlay\" style=\"position:absolute; width:600px !important; display:block; z-index:9999\"&gt;\n    &lt;div id=\"container\" class=\"ui-widget-content\"&gt;\n      &lt;div id=\"resizable1\" class=\"ui-state-active no-re-size item\"&gt;\n      &lt;/div&gt;\n      &lt;div id=\"resizable2\" class=\"ui-state-active re-size item\"&gt;\n        &lt;div class=\"ui-resizable-handle ui-resizable-w\"&gt;\n          &lt;span class=\"fas fa-cogs fa-fw\"&gt;&lt;/span&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div id=\"resizable3\" class=\"ui-state-active re-size item\"&gt;\n        &lt;div class=\"ui-resizable-handle ui-resizable-w\"&gt;\n          &lt;span class=\"fas fa-cogs fa-fw\"&gt;&lt;/span&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div id=\"resizable4\" class=\"ui-state-active re-size item\"&gt;\n        &lt;div class=\"ui-resizable-handle ui-resizable-w\"&gt;\n          &lt;span class=\"fas fa-cogs fa-fw\"&gt;&lt;/span&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;canvas style=\"width: 600px; height: 300px;\"&gt;&lt;/canvas&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>JavaScript</strong></p>\n\n<pre><code>$(function() {\n  $(\".re-size\").resizable({\n    handles: \"w\",\n    containment: \"#container\",\n    resize: function(e, ui) {\n      //console.log(e);\n      var x = e.originalEvent.originalEvent.movementX;\n      ui.position.top = 0;\n      ui.position.left = 0;\n      ui.size.height = 50;\n      if (x &lt; 0) {\n        console.log(ui.size.width + Math.abs(x));\n        ui.element.width(ui.size.width + 50);\n      } else {\n        ui.size.width = ui.size.width - 50;\n      }\n    }\n  });\n});\n</code></pre>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 3694, "user_id": 728065, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/b07e3e9fd1f878301aca209be0ccf4b0?s=128&d=identicon&r=PG", "display_name": "ProfNimrod", "link": "https://stackoverflow.com/users/728065/profnimrod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 279, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551936178, "creation_date": 1551909138, "question_id": 55032746, "link": "https://stackoverflow.com/questions/55032746/how-to-make-row-of-divs-resizable-with-jquery", "title": "How to make row of DIVs resizable with jQuery", "body": "<p>I'm working on a scheduling widget concept.  The basic idea is to have a row of DIVs for each day of the week.  Each row has a fixed number of time periods represented by DIVs.  I want to be able to resize each DIV by dragging a handle on the left hand side.  The leftmost DIV cannot be dragged, but it resizes depending on the resizing of the DIV to its right.  This continues down the row, i.e., the DIV to the left is resized automatically when the DIV to the right is resized.  I'm using the Resizable widget in jQuery UI for the basic resize function.</p>\n\n<p>I have prepared an example fiddle at: <a href=\"https://jsfiddle.net/profnimrod/rpzyv0nd/4/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/profnimrod/rpzyv0nd/4/</a></p>\n\n<p>For some reason the draggable handle on the left hand side of each DIV (other than the first one) is not moving as I would expect.</p>\n\n<p>The Fontawesome icon inside each DIV (other than the first one), which I'd like to use as the resize handle is also not displaying.</p>\n\n<p>Any ideas on how to fix these two issues.</p>\n\n<p>Note that the there is a canvas element behind the DIV containing the row.  The intent here is that I will be adding graphical elements behind the rows at somepoint (the row DIVs will be transparent).</p>\n\n<p>The code I'm starting with (available at the Fiddle) is:</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n&lt;meta charset=\"utf-8\"&gt;\n&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n&lt;title&gt;Schedule test&lt;/title&gt;\n&lt;link rel=\"stylesheet\" href=\"https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css\"&gt;\n&lt;link rel=\"stylesheet\" href=\"https://pro.fontawesome.com/releases/v5.7.2/css/all.css\" integrity=\"sha384-6jHF7Z3XI3fF4XZixAuSu0gGKrXwoX/w3uFPxC56OtjChio7wtTGJWRW53Nhx6Ev\" crossorigin=\"anonymous\"&gt;\n&lt;style&gt;\n#container { width: 600px; height: 300px; }\n#resizable1 { width: 150px; height: 50px; display:inline; float:left;}\n#resizable2 { width: 150px; height: 50px; display:inline; float:left;}\n#resizable3 { width: 150px; height: 50px; display:inline; float:left;}\n#resizable4 { width: 142px; height: 50px; display:inline; float:left;}\n#resizable1, #resizable2, #resizable3, #resizable4, #container { padding: 0em; }\n&lt;/style&gt;\n&lt;script src=\"https://code.jquery.com/jquery-1.12.4.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://code.jquery.com/ui/1.12.1/jquery-ui.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n$( function() {\n  $( \"#resizable2\" ).resizable({\n    grid: 50,\n    handles: \"w\",\n    maxHeight: 50,\n    minHeight: 50,\n    containment: \"#container\",\n    resize: function(e, ui) {\n        //var change = ui.size.width - ui.originalSize.width;\n        if(ui.originalSize.width &gt; ui.size.width)\n        {\n            $(\"#resizable1\").width($(\"#resizable1\").width() + 50);\n        }\n        else {\n            $(\"#resizable1\").width($(\"#resizable1\").width() - 50);\n        }\n    }\n});\n  $( \"#resizable3\" ).resizable({\n    grid: 50,\n    handles: \"w\",\n    maxHeight: 50,\n    minHeight: 50,\n    containment: \"#container\",\n    resize: function(e, ui) {\n        //var change = ui.size.width - ui.originalSize.width;\n        if(ui.originalSize.width &gt; ui.size.width)\n        {\n            $(\"#resizable2\").width($(\"#resizable2\").width() + 50);\n        }\n        else {\n            $(\"#resizable2\").width($(\"#resizable2\").width() - 50);\n        }\n    }\n});   \n  $( \"#resizable4\" ).resizable({\n    grid: 50,\n    handles: \"w\",\n    maxHeight: 50,\n    minHeight: 50,\n    containment: \"#container\",\n    resize: function(e, ui) {\n        //var change = ui.size.width - ui.originalSize.width;\n        if(ui.originalSize.width &gt; ui.size.width)\n        {\n            $(\"#resizable3\").width($(\"#resizable3\").width() + 50);\n        }\n        else {\n            $(\"#resizable3\").width($(\"#resizable3\").width() - 50);\n        }\n    }\n});   \n});\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div class=\"scheduleWrapper\"&gt;\n    &lt;div id=\"canvasOverlay\" style=\"position:absolute; width:600px !important; display:block; z-index:9999\"&gt;\n        &lt;div id=\"container\" class=\"ui-widget-content\"&gt;\n            &lt;div id=\"resizable1\" class=\"ui-state-active\"&gt;\n            &lt;/div&gt;\n            &lt;div id=\"resizable2\" class=\"ui-state-active\"&gt;\n                &lt;div class=\"ui-resizable-handle ui-resizable-w\"&gt;\n                    &lt;span class=\"fa fa-cogs fa-fw\"&gt;&lt;/span&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div id=\"resizable3\" class=\"ui-state-active\"&gt;\n                &lt;div class=\"ui-resizable-handle ui-resizable-w\"&gt;\n                    &lt;span class=\"fa fa-cogs fa-fw\"&gt;&lt;/span&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div id=\"resizable4\" class=\"ui-state-active\"&gt;\n                &lt;div class=\"ui-resizable-handle ui-resizable-w\"&gt;\n                    &lt;span class=\"fa fa-cogs fa-fw\"&gt;&lt;/span&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;canvas style=\"width: 600px; height: 300px;\"&gt;&lt;/canvas&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["javascript", "checkbox"], "comments": [{"owner": {"reputation": 8696, "user_id": 10746224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/znUL5.jpg?s=128&g=1", "display_name": "Lord Elrond", "link": "https://stackoverflow.com/users/10746224/lord-elrond"}, "edited": false, "score": 0, "creation_date": 1551909299, "post_id": 55032741, "comment_id": 96818111, "body": "Can you post your code for the checkbox inputs please."}, {"owner": {"reputation": 3316, "user_id": 6525081, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/979326a08920928ba490fb2cc2180752?s=128&d=identicon&r=PG&f=1", "display_name": "A. Meshu", "link": "https://stackoverflow.com/users/6525081/a-meshu"}, "edited": false, "score": 0, "creation_date": 1551909507, "post_id": 55032741, "comment_id": 96818190, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/18862149/how-to-uncheck-a-checkbox-in-pure-javascript\">How to uncheck a checkbox in pure JavaScript?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2855, "user_id": 1240649, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/35a6f4ba2c16792398851d1db61fc9c9?s=128&d=identicon&r=PG", "display_name": "Wayneio", "link": "https://stackoverflow.com/users/1240649/wayneio"}, "is_accepted": false, "score": 0, "last_activity_date": 1551909931, "last_edit_date": 1551909931, "creation_date": 1551909505, "answer_id": 55032819, "question_id": 55032741, "link": "https://stackoverflow.com/questions/55032741/toggle-checkbox-with-javascript/55032819#55032819", "title": "toggle checkbox with javascript", "body": "<p>I've never seen it done with a string \"checked\" before. Try with a boolean like:</p>\n\n<pre><code>function change() {\n    if (document.getElementById(\"check\").checked !== true) {\n      document.getElementById(\"check\").checked = true;\n    } else {\n      document.getElementById(\"check\").checked = false;\n    }\n}\n</code></pre>\n\n<p>or easier</p>\n\n<pre><code>function change() {\n    document.getElementById(\"check\").checked = !document.getElementById(\"check\").checked\n}\n</code></pre>\n\n<p>Don't forget, <strong>switch</strong> is reserved, so use a different name, as I did with change()</p>\n"}, {"tags": [], "owner": {"reputation": 4306, "user_id": 884842, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/9ef566a4633ec9441e37b576282c33be?s=128&d=identicon&r=PG", "display_name": "Pete", "link": "https://stackoverflow.com/users/884842/pete"}, "is_accepted": false, "score": 2, "last_activity_date": 1551909591, "creation_date": 1551909591, "answer_id": 55032835, "question_id": 55032741, "link": "https://stackoverflow.com/questions/55032741/toggle-checkbox-with-javascript/55032835#55032835", "title": "toggle checkbox with javascript", "body": "<p>Treat \"checked\" as a boolean, not as a string.</p>\n\n<p>You can just invert it, as in </p>\n\n<pre><code>element = document.getElementById(\"check\")\nelement.checked = !element.checked\n</code></pre>\n\n<p>A more featured example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var $toggle = document.getElementById('toggle');\r\nvar $checkbox = document.getElementById('checkbox');\r\n\r\n\r\n\r\nvar toggle_checkbox = function() {\r\n   $checkbox.checked = !checkbox.checked;\r\n}\r\n\r\n$toggle.addEventListener('click',toggle_checkbox);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;label&gt;\r\n  Checkbox:\r\n  &lt;input id=\"checkbox\" type=\"checkbox\" checked /&gt;\r\n&lt;/label&gt;\r\n&lt;button id=\"toggle\"&gt;Toggle&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 398, "user_id": 7159312, "user_type": "registered", "profile_image": "https://graph.facebook.com/1301014699923676/picture?type=large", "display_name": "Michel Calheiros", "link": "https://stackoverflow.com/users/7159312/michel-calheiros"}, "is_accepted": false, "score": 1, "last_activity_date": 1551909606, "creation_date": 1551909606, "answer_id": 55032839, "question_id": 55032741, "link": "https://stackoverflow.com/questions/55032741/toggle-checkbox-with-javascript/55032839#55032839", "title": "toggle checkbox with javascript", "body": "<p>You need a boolean to do that.</p>\n\n<p>Take a look at this pen:</p>\n\n<p><a href=\"https://codepen.io/anon/pen/jJyXgO\" rel=\"nofollow noreferrer\">https://codepen.io/anon/pen/jJyXgO</a></p>\n\n<pre><code>let checkbox = document.querySelectorAll('#check')[0]\n\nsetInterval(function() {\n  checkbox.checked = !checkbox.checked\n}, 1000)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 47, "user_id": 5423459, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cfb9c78a6d362543690288ed3dddb200?s=128&d=identicon&r=PG&f=1", "display_name": "Stuart Durning", "link": "https://stackoverflow.com/users/5423459/stuart-durning"}, "edited": false, "score": 1, "creation_date": 1551910882, "post_id": 55032883, "comment_id": 96818679, "body": "switch wasn&#39;t the actual name. Tried this and works perfectly so thanks @taki"}], "tags": [], "owner": {"reputation": 15224, "user_id": 7328218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69d338eadf83deb112f919f4c8a6052a?s=128&d=identicon&r=PG&f=1", "display_name": "Taki", "link": "https://stackoverflow.com/users/7328218/taki"}, "is_accepted": false, "score": 4, "last_activity_date": 1551909811, "creation_date": 1551909811, "answer_id": 55032883, "question_id": 55032741, "link": "https://stackoverflow.com/questions/55032741/toggle-checkbox-with-javascript/55032883#55032883", "title": "toggle checkbox with javascript", "body": "<p><code>switch</code> is a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/switch\" rel=\"nofollow noreferrer\">reserved word</a>, use another one</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function switchIt() {\r\n  var box = document.getElementById(\"check\");\r\n  \r\n  if (box.checked) {\r\n    box.checked = false;\r\n  } else {\r\n    box.checked = true;\r\n  }\r\n}\r\n\r\nsetInterval(switchIt, 1000);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"checkbox\" id=\"check\" /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 47, "user_id": 5423459, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cfb9c78a6d362543690288ed3dddb200?s=128&d=identicon&r=PG&f=1", "display_name": "Stuart Durning", "link": "https://stackoverflow.com/users/5423459/stuart-durning"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5758, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1551910181, "creation_date": 1551909121, "last_edit_date": 1551910181, "question_id": 55032741, "link": "https://stackoverflow.com/questions/55032741/toggle-checkbox-with-javascript", "title": "toggle checkbox with javascript", "body": "<p>I want to uncheck a checkbox using javascript. I have one button which just unchecks the box and works fine:</p>\n\n<pre><code>function clear() {\ndocument.getElementById(\"check\").checked = \"\";\n}\n</code></pre>\n\n<p>I have another button that I want to check the box if not checked and uncheck if it is. Below doesn't uncheck the box. I can can switch the if statement and does works the opposite way. What's the problem?</p>\n\n<pre><code>function switchIt() {\nif (document.getElementById(\"check\").checked !== \"checked\") {\n  document.getElementById(\"check\").checked = \"checked\";\n} else {\n  document.getElementById(\"check\").checked = \"\";\n}\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "vue.js"], "comments": [{"owner": {"reputation": 2942, "user_id": 5312731, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qiT59.jpg?s=128&g=1", "display_name": "Lewis", "link": "https://stackoverflow.com/users/5312731/lewis"}, "edited": false, "score": 0, "creation_date": 1551909219, "post_id": 55032730, "comment_id": 96818068, "body": "This is because you are storing a single item object. Perhaps put these objects in an array and place the array on local storage instead. You\u2019ll need to retrieve the array if it already exists and push to it if it does."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "reply_to_user": {"reputation": 2942, "user_id": 5312731, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qiT59.jpg?s=128&g=1", "display_name": "Lewis", "link": "https://stackoverflow.com/users/5312731/lewis"}, "edited": false, "score": 1, "creation_date": 1551909403, "post_id": 55032730, "comment_id": 96818145, "body": "How does <code>this.items</code> get created? As @Lewis mentions, you&#39;ll probably want something like <code>this.items = JSON.parse(localStorage.getItem(STORAGE_KEY));</code> somewhere in there..."}], "answers": [{"tags": [], "owner": {"reputation": 20575, "user_id": 5228806, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/q4IOe.jpg?s=128&g=1", "display_name": "ffxsam", "link": "https://stackoverflow.com/users/5228806/ffxsam"}, "is_accepted": false, "score": 1, "last_activity_date": 1551916325, "creation_date": 1551916325, "answer_id": 55033994, "question_id": 55032730, "link": "https://stackoverflow.com/questions/55032730/javascript-prevent-overwriting-in-localstorage/55033994#55033994", "title": "JavaScript prevent Overwriting in localStorage", "body": "<pre><code>toBasket() {\n  const obj = {\n    s: this.ssize,\n    c: this.scolor,\n    n: this.link(this.links).name,\n    id: this.link(this.links).id,\n  };\n  this.items.push(obj);\n  const currentItems = localStorage.getItem(STORAGE_KEY) || '[]';\n\n  localStorage.setItem(\n    STORAGE_KEY,\n    JSON.stringify([...JSON.parse(currentItems), ...this.items])\n  );\n},\n</code></pre>\n\n<p>This should work. Though it feels a bit wrong. If we're storing basket items in localStorage, you probably want to load those into the cart as soon as the appropriate component is created.</p>\n\n<pre><code>created() {\n  const currentItems = localStorage.getItem(STORAGE_KEY) || '[]';\n  this.items = JSON.parse(currentItems);\n},\n</code></pre>\n\n<p>Now you can just do this for your <code>toBasket()</code> method, because you just sync'd the cart with the stored items in localStorage:</p>\n\n<pre><code>toBasket() {\n  const obj = {\n    s: this.ssize,\n    c: this.scolor,\n    n: this.link(this.links).name,\n    id: this.link(this.links).id,\n  };\n  this.items.push(obj);\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(this.items));\n},\n</code></pre>\n\n<h2>Bonus points:</h2>\n\n<p>Use Vuex to store your cart items, and the npm package <a href=\"https://www.npmjs.com/package/vuex-persistedstate\" rel=\"nofollow noreferrer\">vuex-persistesd-state</a> to automatically sync the Vuex cart module with localStorage.</p>\n"}], "owner": {"reputation": 134, "user_id": 9460851, "user_type": "registered", "profile_image": "https://graph.facebook.com/1994528150620887/picture?type=large", "display_name": "Jonas Tamo\u0161evi\u010dius", "link": "https://stackoverflow.com/users/9460851/jonas-tamo%c5%a1evi%c4%8dius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1551916325, "creation_date": 1551909052, "last_edit_date": 1551909300, "question_id": 55032730, "link": "https://stackoverflow.com/questions/55032730/javascript-prevent-overwriting-in-localstorage", "title": "JavaScript prevent Overwriting in localStorage", "body": "<p>I am working on a Vue project and I am creating shopping cart. When you press on the button the item details are passed to localStorage and from within it is displayed in the shopping cart.</p>\n\n<p>The problem is when I press on new product to put it in the cart - my key gets overwritten and because of that I can have only one item in the cart.</p>\n\n<p>Related code:</p>\n\n<pre><code>tobakset(){\n    var size = this.ssize;\n    var color = this.scolor;\n    let obj = {s : size, c : color, n : this.link(this.links).name, id : this.link(this.links).id}\n    this.items.push(obj)\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(this.items));\n}\n</code></pre>\n"}, {"tags": ["javascript", "three.js"], "answers": [{"tags": [], "owner": {"reputation": 16675, "user_id": 2608515, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/N7ZoP.jpg?s=128&g=1", "display_name": "Marquizzo", "link": "https://stackoverflow.com/users/2608515/marquizzo"}, "is_accepted": false, "score": -4, "last_activity_date": 1617698015, "last_edit_date": 1617698015, "creation_date": 1551915623, "answer_id": 55033905, "question_id": 55032720, "link": "https://stackoverflow.com/questions/55032720/three-js-update-mesh-colour-of-object3d/55033905#55033905", "title": "Three.js - update Mesh Colour of Object3D", "body": "<p>An <code>Object3D</code> can be a <code>Mesh</code> that's composed of a <code>Geometry</code> and a <code>Material</code>. If you want to update the color, simply select that material, and assign a new color to it:</p>\n<p><code>object.material.color.setHex(0xff9900); // Sets to orange</code></p>\n<p>In the docs, you can see that <a href=\"https://threejs.org/docs/#api/en/materials/MeshStandardMaterial.color\" rel=\"nofollow noreferrer\"><code>.color</code> is a property of <code>MeshStandardMaterial</code></a> and <a href=\"https://threejs.org/docs/#api/en/objects/Mesh.material\" rel=\"nofollow noreferrer\"><code>.material</code> is a property of <code>Mesh</code></a></p>\n"}, {"tags": [], "owner": {"reputation": 143, "user_id": 12472736, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CujaP.jpg?s=128&g=1", "display_name": "Melvynx", "link": "https://stackoverflow.com/users/12472736/melvynx"}, "is_accepted": false, "score": 0, "last_activity_date": 1618745585, "creation_date": 1618745585, "answer_id": 67148051, "question_id": 55032720, "link": "https://stackoverflow.com/questions/55032720/three-js-update-mesh-colour-of-object3d/67148051#67148051", "title": "Three.js - update Mesh Colour of Object3D", "body": "<p>I find a way to add <code>texture</code> into a <code>Object3D</code>.</p>\n<p>You can map <code>children</code> property to update material of meshes.</p>\n<pre class=\"lang-js prettyprint-override\"><code>    function onLoad(object) {\n      // `children` is an array of `Mesh` than contain 1 or more Meshes\n      object.children.map((mesh) =&gt; {\n        if (!mesh) return;\n        const material = mesh.material;\n\n        material.map = ghostColorTexture;\n        material.normalMap = ghostNormalTexture;\n      });\n    }\n\n    const objLoader = new OBJLoader();\n\n    objLoader.load(\n      '/models/ghost/model/ghost.obj',\n      onLoad,\n      undefined,\n      function (error) {\n        console.error('error', error);\n      }\n    );\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 8258427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2aeaf08edaa746d8ba56b0bb367e25ce?s=128&d=identicon&r=PG&f=1", "display_name": "JazzyGreen", "link": "https://stackoverflow.com/users/8258427/jazzygreen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 770, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1618745585, "creation_date": 1551908994, "question_id": 55032720, "link": "https://stackoverflow.com/questions/55032720/three-js-update-mesh-colour-of-object3d", "title": "Three.js - update Mesh Colour of Object3D", "body": "<p>I have a Three.js <code>Object3D</code> that I would like to update the colour of.</p>\n\n<p>I originally construct the Mesh using a <code>MeshStandardMaterial</code> and add it into the scene. Later, I look up this object by ID and retrieve an <code>Object3D</code> from the scene. How can I update the colour of the Mesh at this point - is it possible?</p>\n\n<p>If I have to delete the 3D object and add an entirely new one - is there a way to retrieve the geometry that was originally used to construct it from the <code>Object3D</code> itself? I would rather not store a mapping of the original geometry to an object's ID, as this would make the code messy. One option I can think of is to store the geometry on <code>Object3D.UserData</code>, but this is again suboptimal as currently the Meshes are constructed elsewhere - and then added to the scene (user data is available only once it has been added to the scene).</p>\n"}, {"tags": ["javascript", "selenium"], "comments": [{"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 2, "creation_date": 1551909040, "post_id": 55032714, "comment_id": 96817992, "body": "it is the first argument in a method <code>myMethod(&#39;a&#39;, 0, true)</code> then <code>arguments[0]</code> would reference the value <code>a</code>"}, {"owner": {"reputation": 457, "user_id": 10256397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2056f15cbd60df361b728724e5afbaf5?s=128&d=identicon&r=PG&f=1", "display_name": "BugCatcherJoe", "link": "https://stackoverflow.com/users/10256397/bugcatcherjoe"}, "edited": false, "score": 0, "creation_date": 1551909097, "post_id": 55032714, "comment_id": 96818011, "body": "In your case it&#39;s the webelement you are passing into it"}, {"owner": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 0, "creation_date": 1551909109, "post_id": 55032714, "comment_id": 96818015, "body": "see js arguments: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/arguments\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1551909619, "post_id": 55032714, "comment_id": 96818238, "body": "And the <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/JavascriptExecutor.html#executeScript-java.lang.String-java.lang.Object...-\" rel=\"nofollow noreferrer\">documentation for <code>JavascriptExecutor.executeScript</code></a>"}], "answers": [{"tags": [], "owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "is_accepted": false, "score": 1, "last_activity_date": 1551909749, "creation_date": 1551909749, "answer_id": 55032871, "question_id": 55032714, "link": "https://stackoverflow.com/questions/55032714/what-does-the-argument0-means-in-javascriptexecutor/55032871#55032871", "title": "What does the argument[0] means in JavascriptExecutor?", "body": "<p><code>arguments[x]</code> is a way to reference the parameters passed to a function/method.</p>\n\n<p>Since <code>arguments</code> is an object you can access the values via their key.</p>\n\n<p>Using this can be helpful when there are no parameters yet parameters have been passed in, for example: infinite arguments.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function myFunction() {\r\n  console.log('all', arguments)\r\n  console.log('first', arguments[0])\r\n  console.log('second', arguments[1])\r\n  console.log('third', arguments[2])\r\n}\r\n\r\nmyFunction('a', 0, true)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 21, "user_id": 10762322, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-KFQFvs96Nb0/AAAAAAAAAAI/AAAAAAAAAIY/-ei8a1n2JmE/photo.jpg?sz=128", "display_name": "Orfatt Chowdhury", "link": "https://stackoverflow.com/users/10762322/orfatt-chowdhury"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 345, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551909749, "creation_date": 1551908956, "last_edit_date": 1551909488, "question_id": 55032714, "link": "https://stackoverflow.com/questions/55032714/what-does-the-argument0-means-in-javascriptexecutor", "title": "What does the argument[0] means in JavascriptExecutor?", "body": "<p>So I just did the \"How to handle hidden web elements using the JavaScript executor method\".</p>\n\n<p>But I am still confused about the method</p>\n\n<pre><code>public static void selectDateByJS(WebDriver driver, WebElement element, String dateVal) {\n  JavascriptExecutor js = ((JavascriptExecutor) driver);\n  js.executeScript(\"arguments[0].setAttribute('value', '\" + dateVal + \"');\", element);\n}\n</code></pre>\n\n<p>What does the <code>argument[0]</code> represent? What does it mean?</p>\n"}, {"tags": ["javascript", "vue.js", "markdown"], "comments": [{"owner": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 0, "creation_date": 1551909225, "post_id": 55032703, "comment_id": 96818074, "body": "Reading the description of the <code>front-matter</code> package, it looks like it is for YAML, not markdown.  Asking for recommendations for packages is off-topic.  Pick a markdown parser, try to use it, and come back with attempt at that."}], "answers": [{"tags": [], "owner": {"reputation": 653, "user_id": 2244849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1e8834e40ef01f8902963f7ee5a1132?s=128&d=identicon&r=PG", "display_name": "jeffld", "link": "https://stackoverflow.com/users/2244849/jeffld"}, "is_accepted": true, "score": 1, "last_activity_date": 1551969983, "creation_date": 1551969983, "answer_id": 55046543, "question_id": 55032703, "link": "https://stackoverflow.com/questions/55032703/how-to-extract-only-text-from-markdown-files-in-javascript/55046543#55046543", "title": "How to extract only text from Markdown files in Javascript", "body": "<p>There is probably a more direct way, but here is something that seems to work.</p>\n\n<p><a href=\"https://github.com/showdownjs/showdown\" rel=\"nofollow noreferrer\">https://github.com/showdownjs/showdown</a></p>\n\n<p>Here is a markdown to HTML script that works, then use jQuery to extract text() from the hidden element.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function Markdown2HTML(sInput){\r\n   var  converter = new showdown.Converter();\r\n   var  html = converter.makeHtml(sInput);\r\n  return html ;\r\n}\r\n\r\nfunction fnProcess() {\r\n  \r\n  var sMarkDown = $(\"#myInput\").val();\r\n  \r\n  var sHTML = Markdown2HTML(sMarkDown);\r\n  \r\n  $(\"#resultTemp\").html(sHTML);\r\n\r\n  $(\"#resultArea\").html($(\"#resultTemp\").text());\r\n\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/showdown/1.9.0/showdown.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;button onclick=\"fnProcess()\"&gt;process&lt;/button&gt;\r\n\r\n&lt;input id=\"myInput\" style=\"width:500px;\" type=\"text\" value=\"![alt-text...](link-to-some-picture) Here is a [link](link-to-some-website) in my file.\" /&gt;\r\n&lt;div id=\"resultArea\" style=\"padding:10px;\"&gt;&lt;/div&gt;\r\n&lt;div id=\"resultTemp\" style=\"display:none\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 445, "user_id": 4231848, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lVdknOSepWQ/AAAAAAAAAAI/AAAAAAAAAJ4/a_82gZktd9M/photo.jpg?sz=128", "display_name": "Brett Fisher", "link": "https://stackoverflow.com/users/4231848/brett-fisher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2076, "favorite_count": 2, "accepted_answer_id": 55046543, "answer_count": 1, "score": 1, "last_activity_date": 1551969983, "creation_date": 1551908889, "question_id": 55032703, "link": "https://stackoverflow.com/questions/55032703/how-to-extract-only-text-from-markdown-files-in-javascript", "title": "How to extract only text from Markdown files in Javascript", "body": "<p>I'm creating a simple blogging platform using Vue that serves up Markdown (*.md) files for the posts. On the main page, I want to show a list of the published posts as well as a preview of the first 30 words in each post. This is the function I have so far to show the preview (<code>front-matter</code> just parses out some meta data I have at the top of of the file, and <code>postData</code> just contains the text from the Markdown file):</p>\n\n<pre><code>import fm from \"front-matter\";\n\nfunction postPreview() {\n  var fmData = fm(postData).body;\n  var words = fmData.split(\" \");\n  return words.slice(0, 30).join(\" \");\n}\n</code></pre>\n\n<p>The problem is, if the Markdown has image tags or link tags, then it displays those when I just want to display the raw text. For example, if this is my Markdown file: </p>\n\n<pre><code>![alt-text...](link-to-some-picture) Here is a [link](link-to-some-website) in my file.\n</code></pre>\n\n<p>Then the preview should just look like this:</p>\n\n<pre><code>Here is a link in my file.\n</code></pre>\n\n<p>Is there some library that will let me do this?</p>\n"}, {"tags": ["javascript", "reactjs", "lodash"], "comments": [{"owner": {"reputation": 1338, "user_id": 7944637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/451842b51536c9d8183ace43794cea1c?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/7944637/nick"}, "edited": false, "score": 0, "creation_date": 1551909030, "post_id": 55032698, "comment_id": 96817986, "body": "Where are you getting the data from? Do you have a hardcoded array in your program? Are you pulling from a database? API?"}, {"owner": {"reputation": 1313, "user_id": 8167494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tE1Ek.jpg?s=128&g=1", "display_name": "Isaac Vidrine", "link": "https://stackoverflow.com/users/8167494/isaac-vidrine"}, "edited": false, "score": 0, "creation_date": 1551909042, "post_id": 55032698, "comment_id": 96817993, "body": "You should never had to loop through markup in react, it should be data driven. Meaning you should loop through a data set to render markup."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 2, "creation_date": 1551909107, "post_id": 55032698, "comment_id": 96818014, "body": "I don&#39;t know React very well, but from what I know of, there&#39;s no global <code>forEach</code> function. You have to call it on your array, or your lodash imported variable."}, {"owner": {"reputation": 1338, "user_id": 7944637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/451842b51536c9d8183ace43794cea1c?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/7944637/nick"}, "edited": false, "score": 0, "creation_date": 1551909189, "post_id": 55032698, "comment_id": 96818057, "body": "I agree with Isaac. If you are pulling from a database or an API, you will likely need to convert from JSON to read it. If it is a hardcoded array, you can just loop directly over it. Then you can use <code>map</code> or <code>forEach</code> to create multiple copies of a component called <code>Provider</code> or something."}, {"owner": {"reputation": 1903, "user_id": 1226380, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/43507c6612adb0a1553611ea38f2b9f8?s=128&d=identicon&r=PG", "display_name": "FairyQueen", "link": "https://stackoverflow.com/users/1226380/fairyqueen"}, "edited": false, "score": 0, "creation_date": 1551966976, "post_id": 55032698, "comment_id": 96841463, "body": "It is a hard coded json file that we are using as fake data for the time being.  I am trying to loop through a data set to render the tr(s) and td(s) of the table.  I added an image to my question to show that it is logging the providers just fine.  It is able to loop through the data set with forEach and output the logs but its this error of &quot;Objects are not valid as a React child (found: object with keys&quot; that I don&#39;t understand."}], "answers": [{"comments": [{"owner": {"reputation": 1048, "user_id": 7200363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gElHo.jpg?s=128&g=1", "display_name": "Pavel Ye", "link": "https://stackoverflow.com/users/7200363/pavel-ye"}, "edited": false, "score": 1, "creation_date": 1551909488, "post_id": 55032779, "comment_id": 96818182, "body": "FWIW, indexes are discouraged as keys. And \u2018return\u2019 keyword is superfluous since you are wrapping the whole thing in curly braces (arrow functions retun implicitly)."}], "tags": [], "owner": {"reputation": 251, "user_id": 6158118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a58eeafa3935706dedbb1f6d060b4de?s=128&d=identicon&r=PG&f=1", "display_name": "Reda Meskali", "link": "https://stackoverflow.com/users/6158118/reda-meskali"}, "is_accepted": false, "score": -1, "last_activity_date": 1551909287, "creation_date": 1551909287, "answer_id": 55032779, "question_id": 55032698, "link": "https://stackoverflow.com/questions/55032698/how-to-loop-through-a-table-using-javascript/55032779#55032779", "title": "How to loop through a table using Javascript?", "body": "<p>Inside <code>tbody</code>:</p>\n\n<pre><code>    {\n              leadServiceProviderComparison.response.assignedServiceProviders.map((provider,index)=&gt;return(\n                 &lt;tr key={index} style={{height: '65px'}}&gt;\n                      &lt;th&gt;Gatlin Plumbing &amp;#38; Heatings&lt;/th&gt;\n                      &lt;th&gt;St. John Plumbing, Inc.&lt;/th&gt;\n                      &lt;th&gt;Budget Right Handyman&lt;/th&gt;\n                      &lt;th&gt;Plumbing Company&lt;/th&gt;\n                  &lt;/tr&gt;\n);)\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 115, "user_id": 7517072, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/28d396cd1121fefe2fde71ef5da23655?s=128&d=identicon&r=PG&f=1", "display_name": "Morten Twellmann", "link": "https://stackoverflow.com/users/7517072/morten-twellmann"}, "is_accepted": false, "score": 0, "last_activity_date": 1551915086, "creation_date": 1551915086, "answer_id": 55033832, "question_id": 55032698, "link": "https://stackoverflow.com/questions/55032698/how-to-loop-through-a-table-using-javascript/55033832#55033832", "title": "How to loop through a table using Javascript?", "body": "<p>You cannot use <code>forEach</code> like that.\nIf you want to loop through an array of stuff you got from your data API then try using <code>map</code>. </p>\n\n<p><code>Map</code> is supported on all arrays and you don't need Lodash for this.</p>\n\n<p>See <a href=\"https://reactjs.org/docs/lists-and-keys.html\" rel=\"nofollow noreferrer\">https://reactjs.org/docs/lists-and-keys.html</a> for examples.</p>\n"}], "owner": {"reputation": 1903, "user_id": 1226380, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/43507c6612adb0a1553611ea38f2b9f8?s=128&d=identicon&r=PG", "display_name": "FairyQueen", "link": "https://stackoverflow.com/users/1226380/fairyqueen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551966837, "creation_date": 1551908856, "last_edit_date": 1551966837, "question_id": 55032698, "link": "https://stackoverflow.com/questions/55032698/how-to-loop-through-a-table-using-javascript", "title": "How to loop through a table using Javascript?", "body": "<p>I have a table that I need to dynamically add data to and the amount of columns needed will depend on how many service providers there are.  I am wanting to loop through the tr and td of the table but for now I am just trying to add a forEach statement within the table but I get this error: Uncaught Invariant Violation: Objects are not valid as a React child (found: object with keys  </p>\n\n<p><a href=\"https://i.stack.imgur.com/iePKO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iePKO.png\" alt=\"enter image description here\"></a></p>\n\n<p>Does anyone know how to do this using React or Lodash?</p>\n\n<pre><code>          &lt;table className='table-body'&gt;\n            &lt;tbody&gt;\n              {\n                forEach(leadServiceProviderComparison.response.assignedServiceProviders, (provider) =&gt; {\n                  console.log('provider: ', provider);\n                })\n              }\n              &lt;tr style={{height: '65px'}}&gt;\n                  &lt;th&gt;Gatlin Plumbing &amp;#38; Heatings&lt;/th&gt;\n                  &lt;th&gt;St. John Plumbing, Inc.&lt;/th&gt;\n                  &lt;th&gt;Budget Right Handyman&lt;/th&gt;\n                  &lt;th&gt;Plumbing Company&lt;/th&gt;\n              &lt;/tr&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/hIotm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hIotm.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "canvas", "html5-canvas", "fabricjs"], "answers": [{"tags": [], "owner": {"reputation": 13379, "user_id": 3551786, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/iCAVo.png?s=128&g=1", "display_name": "Durga", "link": "https://stackoverflow.com/users/3551786/durga"}, "is_accepted": true, "score": 1, "last_activity_date": 1551967835, "creation_date": 1551967835, "answer_id": 55045808, "question_id": 55032693, "link": "https://stackoverflow.com/questions/55032693/fabric-js-offset-bounding-box-issue/55045808#55045808", "title": "Fabric.js offset bounding box issue", "body": "<p>Update group using <a href=\"http://fabricjs.com/docs/fabric.Group.html#addWithUpdate\" rel=\"nofollow noreferrer\">addWithUpdate</a> in <code>onComplete</code> event of <a href=\"http://fabricjs.com/docs/fabric.util.html#.animate\" rel=\"nofollow noreferrer\">animation</a>.</p>\n\n<p><strong><em>DEMO</em></strong>\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const canvas = new fabric.Canvas(\"canvas\");\r\ncanvas.setWidth(554);\r\ncanvas.setHeight(312);\r\n\r\nconst rect = new fabric.Rect({\r\n  width: 200,\r\n  height: 50\r\n})\r\n\r\nconst rect2 = new fabric.Rect({\r\n  top: 50,\r\n  width: 200,\r\n  height: 50,\r\n  fill: 'blue'\r\n})\r\n\r\nrect.animate({\r\n  width: 300\r\n}, {\r\n  duration: 300,\r\n  onChange: canvas.renderAll.bind(canvas),\r\n  onComplete: () =&gt; {\r\n    group.addWithUpdate();\r\n  }\r\n})\r\n\r\nrect2.animate({\r\n  width: 300\r\n}, {\r\n  duration: 200,\r\n  onChange: canvas.renderAll.bind(canvas),\r\n  onComplete: () =&gt; {\r\n    group.addWithUpdate();\r\n  }\r\n})\r\n\r\nconst group = new fabric.Group([rect, rect2], {\r\n  top: 70\r\n})\r\n\r\ncanvas.add(group)\r\ncanvas.setActiveObject(group)\r\ncanvas.renderAll()</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/fabric.js/2.6.0/fabric.js\"&gt;&lt;/script&gt;\r\n&lt;canvas id=\"canvas\" width=\"600\" height=\"500\" style=\"border:1px solid #ccc;z-index:99\"&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 665, "user_id": 8385019, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/80bf458d89705c5c454bf999fe121ccf?s=128&d=identicon&r=PG&f=1", "display_name": "fitzmode", "link": "https://stackoverflow.com/users/8385019/fitzmode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 249, "favorite_count": 0, "accepted_answer_id": 55045808, "answer_count": 1, "score": 0, "last_activity_date": 1551967835, "creation_date": 1551908843, "question_id": 55032693, "link": "https://stackoverflow.com/questions/55032693/fabric-js-offset-bounding-box-issue", "title": "Fabric.js offset bounding box issue", "body": "<p>I've created an animation with objects within a group with <code>fabric.js</code>. However when I add the group to the canvas, the position of the bounding box of the group is offset to the left. Any ideas on how I can solve this?</p>\n\n<p><a href=\"https://i.stack.imgur.com/NcOVV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NcOVV.png\" alt=\"enter image description here\"></a>\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var canvas = new fabric.Canvas(\"canvas\");\r\ncanvas.setWidth(554);\r\ncanvas.setHeight(312);\r\n\r\nconst rect = new fabric.Rect({\r\n  width: 200,\r\n  height: 50\r\n})\r\n\r\nconst rect2 = new fabric.Rect({\r\n  top: 50,\r\n  width: 200,\r\n  height: 50,\r\n  fill: 'blue'\r\n})\r\n\r\nrect.animate({width: 300\r\n             }, {\r\n  duration: 300,\r\n  onChange: canvas.renderAll.bind(canvas)\r\n})\r\n\r\nrect2.animate({width: 300}, {\r\n  duration: 200,\r\n  onChange: canvas.renderAll.bind(canvas)\r\n})\r\n\r\nconst group  = new fabric.Group([rect, rect2], {\r\n  top: 70,\r\n  width: 300,\r\n})\r\n\r\ncanvas.add(group)\r\ncanvas.setActiveObject(group)\r\ncanvas.renderAll()</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/fabric.js/1.5.0/fabric.min.js\"&gt;&lt;/script&gt;\r\n  &lt;canvas id=\"canvas\" width=\"600\" height=\"500\" style=\"border:1px solid #ccc;z-index:99\"&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "backtracking", "sudoku", "brute-force"], "comments": [{"owner": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 0, "creation_date": 1551908969, "post_id": 55032669, "comment_id": 96817962, "body": "You should look into a recursive function that is able to walk and process only a small subset of the board every tick, and use setTimout on the next iteration."}, {"owner": {"reputation": 9, "user_id": 11162178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b928b98e5993738232b2236c6761f05?s=128&d=identicon&r=PG&f=1", "display_name": "QCyrax", "link": "https://stackoverflow.com/users/11162178/qcyrax"}, "reply_to_user": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 0, "creation_date": 1551914101, "post_id": 55032669, "comment_id": 96819874, "body": "I&#39;m not sure what that means. Isn&#39;t recursiveness the same thing as backtracking? I&#39;m trying to understand: so, I need to tell the program to do only a certain part of the board, but not more than that, and for a limited amount of time? Is it because the code takes too much time and is actually stuck in a dead-end where there are so many possibilities that I should set a timer to end it for that part? What if the part that takes so much time is actually the right way and leads to a solution? Maybe what I said makes absolutely no sense, but I&#39;m just not sure if I understand your comment."}, {"owner": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 0, "creation_date": 1551914227, "post_id": 55032669, "comment_id": 96819912, "body": "I was referring to the part where you talk about long execution times. This wouldn&#39;t help if you hit a dead end, but it does get around limitations of JS on various systems. One system might halt while a different system works just fine."}, {"owner": {"reputation": 12410, "user_id": 5217142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57daeb5f96b7a591e3447d41e59bbc94?s=128&d=identicon&r=PG&f=1", "display_name": "traktor", "link": "https://stackoverflow.com/users/5217142/traktor"}, "edited": false, "score": 0, "creation_date": 1551915943, "post_id": 55032669, "comment_id": 96820359, "body": "Unable to reproduce. The problem appears to be the computer at university. I&#39;ve edited the code snippet so you can actually run it on your laptop or PC to see it work.  My 64 bit but slow laptop took 8 seconds to  run 100 million loop iterations that called out to a no-operation function - which would add up to at least 400 million instruction steps by my count"}, {"owner": {"reputation": 9, "user_id": 11162178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b928b98e5993738232b2236c6761f05?s=128&d=identicon&r=PG&f=1", "display_name": "QCyrax", "link": "https://stackoverflow.com/users/11162178/qcyrax"}, "edited": false, "score": 0, "creation_date": 1551916368, "post_id": 55032669, "comment_id": 96820468, "body": "Damn, the guy with the answer below says it took him about 10 seconds as well. The thing is, I&#39;m running the solve right now, and it says it&#39;s at slightly over 1 billion steps...are steps the same thing as loop iterations? I don&#39;t think so, &#39;cause when I run step by step, the step tick goes up by 1 every time the cursor moves in the code, so I&#39;m probably way below 100 million actual loop iterations. Also, the professor uses said server-based program to read the code, so I need to find a code that will run using that. You know what? Screw brute force. I&#39;ll try constrain propagation instead."}, {"owner": {"reputation": 9, "user_id": 11162178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b928b98e5993738232b2236c6761f05?s=128&d=identicon&r=PG&f=1", "display_name": "QCyrax", "link": "https://stackoverflow.com/users/11162178/qcyrax"}, "edited": false, "score": 0, "creation_date": 1551916398, "post_id": 55032669, "comment_id": 96820478, "body": "Time to start all over! XD"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 11162178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b928b98e5993738232b2236c6761f05?s=128&d=identicon&r=PG&f=1", "display_name": "QCyrax", "link": "https://stackoverflow.com/users/11162178/qcyrax"}, "edited": false, "score": 0, "creation_date": 1551913365, "post_id": 55032860, "comment_id": 96819622, "body": "Truly? You solved it in 10 seconds using my code? Just for fun, is it possible for you to tell me the number of &quot;steps&quot; the program has taken? We use a server-based JavaScript reader developed at our university, but the computers in the lab are probably quite slow compared to yours. When I load the program, it gets 100 million steps in about one minute. I don&#39;t know if that is excrutiatingly slow and if that&#39;s why I&#39;m unable to solve the sudoku. Do you think the computer performance has anything to do with it? Just to be clear, did you actually use my code to do it?"}, {"owner": {"reputation": 1139, "user_id": 8687597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f1e0f5be5e0daafeeafc5c1f22dd71f?s=128&d=identicon&r=PG&f=1", "display_name": "displayName", "link": "https://stackoverflow.com/users/8687597/displayname"}, "reply_to_user": {"reputation": 9, "user_id": 11162178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b928b98e5993738232b2236c6761f05?s=128&d=identicon&r=PG&f=1", "display_name": "QCyrax", "link": "https://stackoverflow.com/users/11162178/qcyrax"}, "edited": false, "score": 0, "creation_date": 1551942877, "post_id": 55032860, "comment_id": 96827285, "body": "yeah, i used your code. 866396 steps for the hard one."}, {"owner": {"reputation": 9, "user_id": 11162178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b928b98e5993738232b2236c6761f05?s=128&d=identicon&r=PG&f=1", "display_name": "QCyrax", "link": "https://stackoverflow.com/users/11162178/qcyrax"}, "edited": false, "score": 0, "creation_date": 1552014095, "post_id": 55032860, "comment_id": 96861254, "body": "What the actual ****? Why does my computer get to 1 billion steps then? XD  Is it about memory or something? Like, not just the processing power...I don&#39;t know if you understand what I mean...it should take me 866396 steps as well, just maybe a little bit more time. I&#39;m currently working on a constraint propagation/elimination process function to circumvent the problem, but if I could understand why my brute-force doesn&#39;t work for the second function, that&#39;d be great and it would mean I could use it! I&#39;m gonne use the updated code the guy above did."}, {"owner": {"reputation": 9, "user_id": 11162178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b928b98e5993738232b2236c6761f05?s=128&d=identicon&r=PG&f=1", "display_name": "QCyrax", "link": "https://stackoverflow.com/users/11162178/qcyrax"}, "edited": false, "score": 0, "creation_date": 1552014597, "post_id": 55032860, "comment_id": 96861366, "body": "Yeah, like the guy above said, it&#39;s probably &quot;the uni computer is simply not allowing brute force algorithms sufficient time to complete (or implements an instruction &quot;step&quot; limit in a custom JS engine it runs)&quot;. Bastards knew we&#39;d wanna do backtracking instead of constraint propagation. THEY KNOW OUR EVERY MOOOVE"}], "tags": [], "owner": {"reputation": 1139, "user_id": 8687597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f1e0f5be5e0daafeeafc5c1f22dd71f?s=128&d=identicon&r=PG&f=1", "display_name": "displayName", "link": "https://stackoverflow.com/users/8687597/displayname"}, "is_accepted": false, "score": 0, "last_activity_date": 1551909712, "creation_date": 1551909712, "answer_id": 55032860, "question_id": 55032669, "link": "https://stackoverflow.com/questions/55032669/javascript-sudoku-solver-is-stuck-in-infinite-loop-for-some-boards-doesnt-work/55032860#55032860", "title": "JavaScript sudoku solver is stuck in infinite loop for some boards/doesn&#39;t work for all boards", "body": "<p>The second one gets solved on my computer in ~ 10 seconds</p>\n\n<pre><code>[4, 9, 3, 6, 1, 7, 2, 8, 5]\n[2, 8, 5, 9, 3, 4, 6, 7, 1]\n[1, 6, 7, 8, 5, 2, 4, 9, 3]\n[9, 5, 8, 1, 6, 3, 7, 2, 4]\n[3, 7, 2, 4, 9, 8, 1, 5, 6]\n[6, 1, 4, 2, 7, 5, 9, 3, 8]\n[8, 4, 9, 5, 2, 6, 3, 1, 7]\n[5, 3, 1, 7, 4, 9, 8, 6, 2]\n[7, 2, 6, 3, 8, 1, 5, 4, 9]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9, "user_id": 11162178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b928b98e5993738232b2236c6761f05?s=128&d=identicon&r=PG&f=1", "display_name": "QCyrax", "link": "https://stackoverflow.com/users/11162178/qcyrax"}, "edited": false, "score": 0, "creation_date": 1552014533, "post_id": 55034515, "comment_id": 96861352, "body": "Yeah, something&#39;s up. I believe &quot;the uni computer is simply not allowing brute force algorithms sufficient time to complete (or implements an instruction &quot;step&quot; limit in a custom JS engine it runs)&quot;. It has to be on purpose. They know we&#39;d want to go the easy way and do brute force. ;) Anyway, thank you very much for your help, at least you tried and it probably saved me some valuable time in the end!"}], "tags": [], "owner": {"reputation": 12410, "user_id": 5217142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57daeb5f96b7a591e3447d41e59bbc94?s=128&d=identicon&r=PG&f=1", "display_name": "traktor", "link": "https://stackoverflow.com/users/5217142/traktor"}, "is_accepted": false, "score": 1, "last_activity_date": 1551920507, "creation_date": 1551920507, "answer_id": 55034515, "question_id": 55032669, "link": "https://stackoverflow.com/questions/55032669/javascript-sudoku-solver-is-stuck-in-infinite-loop-for-some-boards-doesnt-work/55034515#55034515", "title": "JavaScript sudoku solver is stuck in infinite loop for some boards/doesn&#39;t work for all boards", "body": "<p>Something is not right. The code you posted solved the \"hard\" board in 1800 <strong>milliseconds</strong>. After some optimization I got that down to around 300 <strong>milliseconds</strong> on the same Windows laptop used for testing.</p>\n\n<p>I'm providing the optimized version here to test if the uni computer can run it <em>if you wish to try</em>. I am quite wary of suggesting doing so if you are still working on a brute force solution, but it is certainly a version of your code!</p>\n\n<p>In the end you may be able to test if the uni computer is simply not allowing brute force algorithms sufficient time to complete (or implements an instruction \"step\" limit in a custom JS engine it runs).</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function emptyCells( board) {\r\n    var empty = [];\r\n    for (var i = 0; i &lt; 9; i++) {\r\n        for (var j = 0; j &lt; 9; j++) {\r\n            if (board[i][j] === 0) {\r\n                var boxRow = 3* Math.floor( i/3);\r\n                var boxCol = 3* Math.floor( j/3);\r\n                empty.push([i,j, boxRow, boxCol]);\r\n            }\r\n        }\r\n    }\r\n    return empty;\r\n}\r\n\r\nfunction isUnique( board, empty, value) {\r\n    var row, col;\r\n\r\n    // test row\r\n    row = board[empty[0]];\r\n    for( col = 0; col &lt; 9; ++ col) {\r\n        if( value == row[col]) {\r\n            return false;\r\n        }\r\n    }\r\n    // test col\r\n    col = empty[1];\r\n    for( var row = 0; row &lt; 9; ++row) {\r\n        if( value == board[ row][col]){\r\n            return false;\r\n        }\t\r\n    }\r\n    // test box\r\n    var boxRow = empty[2];\r\n    var boxCol = empty[3];\r\n    for( var i = 3; i--;) {\r\n        row = board[ boxRow++];\r\n        for( var j = 3; j--;) {\r\n            if( row[boxCol + j] == value) {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    return true;\r\n}\r\n\r\nvar solve = function (board) {\r\n    var empty = emptyCells( board);\r\n\r\n    nextEmpty:\r\n    for (var i = 0; i &lt; empty.length;) { // We check every possible value for all empty 1x1 squares.\r\n        var row = empty[i][0]; // Used for row and 3x3 square checks\r\n        var column = empty[i][1]; // Used for column and 3x3 square checks\r\n        var value = board[row][column] + 1; // We start at 1, because obviously 0 is not a Sudoku value.   \r\n        var cell = empty[i];\r\n\r\n        while (value &lt;= 9) { // test values up to 9.\r\n            if( isUnique( board, cell, value)) {\r\n                board[row][column] = value; // We assign said value to the corresponding board 1x1 square, for now.\r\n                i++; // Move on to the check next empty cell.\r\n                continue nextEmpty;\r\n            }\r\n            value++; // If the value is invalid, we simply try the next possible value.    \r\n        }\r\n\r\n        board[row][column] = 0;\r\n        if( i == 0) {  // board is not solvable\r\n            return null;\r\n        }\r\n        i--; // We go back to the previous 1x1 square to try a different value.\r\n    }\r\n    return board;\r\n};\r\nvar board = [\r\n    [4,0,0,6,0,7,0,8,5],\r\n    [0,0,0,0,0,0,6,0,0],\r\n    [0,0,7,0,0,0,0,0,0],\r\n    [0,5,0,0,0,3,0,0,4],\r\n    [3,7,0,0,0,8,0,0,0],\r\n    [6,0,0,2,0,0,0,0,0],\r\n    [8,0,0,0,0,0,3,1,0],\r\n    [0,3,1,0,4,9,0,0,0],\r\n    [0,0,0,0,0,0,0,0,9]\r\n];\r\nvar t0 = Date.now();\r\nsolve(board);\r\nvar t1 = Date.now();\r\nconsole.log( \" in \" + (t1-t0) + \"ms\");\r\nconsole.log( board.map( row=&gt; row.join(',')).join('\\n'));\r\nconsole.log( \"\\n solved in \" + (t1-t0) + \"ms\");</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 9, "user_id": 11162178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b928b98e5993738232b2236c6761f05?s=128&d=identicon&r=PG&f=1", "display_name": "QCyrax", "link": "https://stackoverflow.com/users/11162178/qcyrax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 571, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551920507, "creation_date": 1551908749, "last_edit_date": 1551915701, "question_id": 55032669, "link": "https://stackoverflow.com/questions/55032669/javascript-sudoku-solver-is-stuck-in-infinite-loop-for-some-boards-doesnt-work", "title": "JavaScript sudoku solver is stuck in infinite loop for some boards/doesn&#39;t work for all boards", "body": "<p>I am new to stackoverflow. I searched for related questions, but none seems to answer my questions. I am in my first semester of Computer Science and am currently taking the Programming 1 course. We only work with JavaScript for the whole course and so JavaScript is the only programming language I know, so far. Consequently, I have a fairly limited understanding, intuitive or otherwise, of programming at large. English is also not my first language, so forgive me for mistakes.</p>\n\n<p>Nonetheless, here's my problem: I need to program a sudoku solver. I have actually succeeded in coding a solver for a sudoku which is considered \"easy\". It takes a fraction of a second to do it, so I am fairly content with the results. The problem is: there are some sudokus which do not work, namely the ones who are considered \"hard\". Needless to say, the solver needs to work for all sudokus. Below are snippets of code for examples of both \"easy\" and \"hard\" sudoku boards, as well the code for my solver. I tried to annotate as best I could to describe the functioning, but there is clearly a problem since it will not solve the hard one. It is actually stuck in an infinite loop.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var easyBoard = [\r\n    [1,0,0,3,0,0,9,5,2],\r\n    [0,4,0,6,0,0,1,0,0],\r\n    [3,0,0,1,0,0,0,0,0],\r\n    [0,6,4,7,2,0,0,1,0],\r\n    [8,7,0,9,0,6,0,2,4],\r\n    [0,2,0,0,8,5,7,6,0],\r\n    [0,0,0,0,0,1,0,0,7],\r\n    [0,0,7,0,0,9,0,4,0],\r\n    [2,3,9,0,0,4,0,0,1]  \r\n];\r\n\r\nvar hardBoard = [\r\n    [4,0,0,6,0,7,0,8,5],\r\n    [0,0,0,0,0,0,6,0,0],\r\n    [0,0,7,0,0,0,0,0,0],\r\n    [0,5,0,0,0,3,0,0,4],\r\n    [3,7,0,0,0,8,0,0,0],\r\n    [6,0,0,2,0,0,0,0,0],\r\n    [8,0,0,0,0,0,3,1,0],\r\n    [0,3,1,0,4,9,0,0,0],\r\n    [0,0,0,0,0,0,0,0,9]\r\n];\r\n\r\n\r\nvar solve = function (board) {\r\n    var empty = []; // We create an array for the 1x1 squares with no value, so we can call upon them with ease later on.\r\n    for (var i = 0; i &lt; 9; i++) {\r\n        for (var j = 0; j &lt; 9; j++) {\r\n            if (board[i][j] === 0) {\r\n                empty.push([i,j]);\r\n            }\r\n        }\r\n    }\r\n    for (var i = 0; i &lt; empty.length;) { // We check every possible value for all empty 1x1 squares.\r\n        var row = empty[i][0]; // Used for row and 3x3 square checks\r\n        var column = empty[i][1]; // Used for column and 3x3 square checks\r\n        var value = board[row][column] + 1; // We start at 1, because obviously 0 is not a Sudoku value.\r\n        var found = false; // We assume the value is invalid, unless it passes all three tests.\r\n        while (!found &amp;&amp; value &lt;= 9) { // As long as the value is invalid, we increase by one until it reaches more than 9.\r\n            var equal = false; // We assume for now that the value is not equal to any other in its row, column or 3x3 square.\r\n            for (var y = 0; y &lt; 9; y++) {\r\n                if (board[row][y] === value) {\r\n                    equal = true;\r\n                }\r\n            }\r\n            for (var x = 0; x &lt; 9; x++) {\r\n                if (board[x][column] === value) {\r\n                    equal = true;\r\n                }\r\n            }\r\n            for (var x = 3*Math.floor(row/3); x &lt; 3*Math.floor(row/3)+3; x++) {\r\n                for (var y = 3*Math.floor(column/3); y &lt; 3*Math.floor(column/3)+3; y++) {\r\n                    if (board[x][y] === value) {\r\n                        equal = true;\r\n                    }\r\n                }\r\n            }\r\n            if (!equal) { // If the value is not equal to any other in its row, column or 3x3 square, it is valid.\r\n                found = true; // We have found a valid value, for now.\r\n                board[row][column] = value; // We assign said value to the corresponding board 1x1 square, for now.\r\n                i++; // We then move on to the next empty 1x1 square.\r\n            }\r\n            else {\r\n                value++; // If the value is invalid, we simply try the next possible value.\r\n            }\r\n        }\r\n        if (!found) { // If, from 1 to 9, the value is invalid, it means the one before is invalid.\r\n            board[row][column] = 0; // We then re-assign an empty value to the 1x1 square, before backtracking.\r\n            i--; // We go back to the previous 1x1 square to try a different value.\r\n        }\r\n    }\r\n};\r\n\r\n//   test routines\r\n\r\nvar clone2 = array =&gt; array.slice().map( row=&gt;row.slice());\r\n\r\nfunction easyTest() {\r\n    var board = clone2( easyBoard);\r\n    solve( board);\r\n    console.log( \"easy board solution:\");\r\n    console.log( board);\r\n}\r\n\r\nfunction hardTest() {\r\n    var board = clone2( hardBoard);\r\n    solve( board);\r\n    console.log( \"hard board solution:\");\r\n    console.log( board);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;button type=\"button\" onclick=\"easyTest()\"&gt;Easy Test&lt;/button&gt;\r\n&lt;button type=\"button\" onclick=\"hardTest()\"&gt;Hard Test&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n\n\n<p>The code works for the first one, but not the second. Is it because a backtracking/brute-force algorithm is not fast enough for the \"hard\" sudoku? Is it that it will just take several hours or is there an issue within my code which causes a problem with the first board, but not the second?</p>\n\n<p>I am sorry if something is not clear, and I swear I have tried understanding the answers to other similar questions, but all of them contained several notions or operators/objects or whatever which I have no knowledge of. If someone could point out the problems within my code, and tell me if it is possible to solve the second board with it or if I need another method altogether.</p>\n\n<p>Thank you so much in advance!</p>\n\n<p>P.S.: A lot of people talk about objects within JavaScript, or object-oriented programming. I don't know if it's relevant, but we haven't seen any of that yet.</p>\n"}, {"tags": ["javascript", "reactjs", "ecmascript-6", "styled-components"], "answers": [{"tags": [], "owner": {"reputation": 2815, "user_id": 3908193, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E3gVy.jpg?s=128&g=1", "display_name": "varoons", "link": "https://stackoverflow.com/users/3908193/varoons"}, "is_accepted": true, "score": 3, "last_activity_date": 1551908832, "creation_date": 1551908832, "answer_id": 55032689, "question_id": 55032611, "link": "https://stackoverflow.com/questions/55032611/styled-component-i-want-to-use-variable-in-styled-component/55032689#55032689", "title": "Styled-Component : I want to use Variable in Styled-Component", "body": "<p>You are missing a $ before the brackets.</p>\n\n<pre><code>color: ${text};\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 9357256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/611cabff58d7b6518c89076baec42335?s=128&d=identicon&r=PG&f=1", "display_name": "Suhas", "link": "https://stackoverflow.com/users/9357256/suhas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 450, "favorite_count": 0, "accepted_answer_id": 55032689, "answer_count": 1, "score": 3, "last_activity_date": 1551908832, "creation_date": 1551908474, "question_id": 55032611, "link": "https://stackoverflow.com/questions/55032611/styled-component-i-want-to-use-variable-in-styled-component", "title": "Styled-Component : I want to use Variable in Styled-Component", "body": "<p>I am working on app . Here I created separate file for style I used style-component for custom css but the problem is that I don't have access to use variable instead of HEX value . I put color value in variable but I am not able to use it in styled-component . </p>\n\n<pre><code>import styled from 'styled-components';\n\n// App Colors\nlet text ='#fff';\n\n// Top Header Component Main Style\nexport const HeaderContainer= styled.div `\n    margin-top: 67px;\n    margin-left: 220px;\n    margin-bottom: 30px;\n    color: {text};\n`\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "json", "express", "es6-promise"], "comments": [{"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1551908540, "post_id": 55032582, "comment_id": 96817760, "body": "What is the error? How are the JSON files generated?"}, {"owner": {"reputation": 2438, "user_id": 5096653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9914f480322b37883e3646e26da83c8?s=128&d=identicon&r=PG&f=1", "display_name": "Chase", "link": "https://stackoverflow.com/users/5096653/chase"}, "edited": false, "score": 1, "creation_date": 1551908712, "post_id": 55032582, "comment_id": 96817836, "body": "Just to point out, you&#39;re sending back JSON but setting the content type to text/plain. Any reason you&#39;re not using application/json?"}, {"owner": {"reputation": 92, "user_id": 7571574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05bbc823685f68ff983ea92f663a2348?s=128&d=identicon&r=PG&f=1", "display_name": "Souritra Das Gupta", "link": "https://stackoverflow.com/users/7571574/souritra-das-gupta"}, "edited": false, "score": 0, "creation_date": 1551908808, "post_id": 55032582, "comment_id": 96817888, "body": "Uncaught SyntaxError: Unexpected end of JSON input     at JSON.parse (&lt;anonymous&gt;) is the error. @ Felix Kling"}, {"owner": {"reputation": 92, "user_id": 7571574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05bbc823685f68ff983ea92f663a2348?s=128&d=identicon&r=PG&f=1", "display_name": "Souritra Das Gupta", "link": "https://stackoverflow.com/users/7571574/souritra-das-gupta"}, "reply_to_user": {"reputation": 2438, "user_id": 5096653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9914f480322b37883e3646e26da83c8?s=128&d=identicon&r=PG&f=1", "display_name": "Chase", "link": "https://stackoverflow.com/users/5096653/chase"}, "edited": false, "score": 0, "creation_date": 1551908861, "post_id": 55032582, "comment_id": 96817910, "body": "@Chase it was set to application/json before but a post on stack overflow suggested that text/plain may solve the issue"}, {"owner": {"reputation": 925, "user_id": 2250843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d38caecede5bede19b3f96bd23c336bc?s=128&d=identicon&r=PG", "display_name": "Antony Gibbs", "link": "https://stackoverflow.com/users/2250843/antony-gibbs"}, "edited": false, "score": 1, "creation_date": 1551908870, "post_id": 55032582, "comment_id": 96817914, "body": "and you might be using express... but json isn&#39;t generated by express... it&#39;s a simple static file you are sending.... and as mentioned in last comment, you should be using application/json And by the way... to be valid json there is no utf8 chars... only plain ASCI is valid (\\u1234 to encode accents...)"}, {"owner": {"reputation": 92, "user_id": 7571574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05bbc823685f68ff983ea92f663a2348?s=128&d=identicon&r=PG&f=1", "display_name": "Souritra Das Gupta", "link": "https://stackoverflow.com/users/7571574/souritra-das-gupta"}, "edited": false, "score": 0, "creation_date": 1551908992, "post_id": 55032582, "comment_id": 96817969, "body": "That makes sense. But when I check in the network tab in the browser, the response is data in correct JSON format. @Anthony Gibbs"}, {"owner": {"reputation": 925, "user_id": 2250843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d38caecede5bede19b3f96bd23c336bc?s=128&d=identicon&r=PG", "display_name": "Antony Gibbs", "link": "https://stackoverflow.com/users/2250843/antony-gibbs"}, "edited": false, "score": 0, "creation_date": 1551909044, "post_id": 55032582, "comment_id": 96817994, "body": "perhaps put somewhere (pastebin?) the output of <code>curl -i http:&#47;&#47;localhost:3000&#47;users</code>"}, {"owner": {"reputation": 9254, "user_id": 1203844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WRK6P.jpg?s=128&g=1", "display_name": "Aritra Chakraborty", "link": "https://stackoverflow.com/users/1203844/aritra-chakraborty"}, "edited": false, "score": 0, "creation_date": 1551909182, "post_id": 55032582, "comment_id": 96818052, "body": "or maybe use a small example JSON dataset because except for the headers and methods name discrepancies the code looks ok."}, {"owner": {"reputation": 2438, "user_id": 5096653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9914f480322b37883e3646e26da83c8?s=128&d=identicon&r=PG&f=1", "display_name": "Chase", "link": "https://stackoverflow.com/users/5096653/chase"}, "edited": false, "score": 1, "creation_date": 1551909342, "post_id": 55032582, "comment_id": 96818120, "body": "A couple things... Are you sure you&#39;re sending JSON from the server? It looks like you&#39;re just pulling string text from the file and sending that. I would .json() this first. Set content type to application/json - content type will get you every.single.time. They remove the JSON.parse from your front end - parse converts a string, but you&#39;ve now converted to pure JSON."}, {"owner": {"reputation": 92, "user_id": 7571574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05bbc823685f68ff983ea92f663a2348?s=128&d=identicon&r=PG&f=1", "display_name": "Souritra Das Gupta", "link": "https://stackoverflow.com/users/7571574/souritra-das-gupta"}, "edited": false, "score": 0, "creation_date": 1551909418, "post_id": 55032582, "comment_id": 96818155, "body": "Will implement the changes and check with curl -i and get back to you guys"}, {"owner": {"reputation": 92, "user_id": 7571574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05bbc823685f68ff983ea92f663a2348?s=128&d=identicon&r=PG&f=1", "display_name": "Souritra Das Gupta", "link": "https://stackoverflow.com/users/7571574/souritra-das-gupta"}, "edited": false, "score": 0, "creation_date": 1551975970, "post_id": 55032582, "comment_id": 96847163, "body": "I made the changes suggested but it didn&#39;t affect the syntax error."}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1551986920, "post_id": 55032582, "comment_id": 96852723, "body": "Have you tried with the sample json you are providing here? This is very likely a json formatting problem, and if you&#39;re not providing the json that has the problem... there&#39;s not much we&#39;ll be able to do"}, {"owner": {"reputation": 92, "user_id": 7571574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05bbc823685f68ff983ea92f663a2348?s=128&d=identicon&r=PG&f=1", "display_name": "Souritra Das Gupta", "link": "https://stackoverflow.com/users/7571574/souritra-das-gupta"}, "edited": false, "score": 0, "creation_date": 1551987458, "post_id": 55032582, "comment_id": 96852991, "body": "Yes I am currently using the sample JSON but the problem still persists. I am not going to use the actual JSON data until I fix the issue"}, {"owner": {"reputation": 92, "user_id": 7571574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05bbc823685f68ff983ea92f663a2348?s=128&d=identicon&r=PG&f=1", "display_name": "Souritra Das Gupta", "link": "https://stackoverflow.com/users/7571574/souritra-das-gupta"}, "edited": false, "score": 0, "creation_date": 1551987663, "post_id": 55032582, "comment_id": 96853086, "body": "I was really hoping that it would be a JSON formatting problem but the error occurs regardless of what JSON data I use. I even used a couple of JSON validators to make sure of this."}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1551988596, "post_id": 55032582, "comment_id": 96853547, "body": "Have you tried purposely causing an error? If changing the json isn&#39;t changing the error, focus on first making sure you can force a particular error. You may not be looking at the right section of code, maybe a different route is handling it or something else. Have you tried skipping the readfile part?"}], "answers": [{"tags": [], "owner": {"reputation": 92, "user_id": 7571574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05bbc823685f68ff983ea92f663a2348?s=128&d=identicon&r=PG&f=1", "display_name": "Souritra Das Gupta", "link": "https://stackoverflow.com/users/7571574/souritra-das-gupta"}, "is_accepted": false, "score": 0, "last_activity_date": 1551991309, "creation_date": 1551991309, "answer_id": 55052479, "question_id": 55032582, "link": "https://stackoverflow.com/questions/55032582/unable-to-identify-syntax-error-when-receiving-json-data-from-express-server/55052479#55052479", "title": "Unable to identify syntax error when receiving JSON data from Express Server", "body": "<p>Removing the check for <strong>httpresponse.readyState == 4</strong> is what introduced the issue. </p>\n\n<p>Upon un-commenting that part in my code, it works perfectly. In hindsight, I should have posted the code exactly as it was in my editor, instead of editing it on SO to avoid questions. The promises were resolving before the responses were complete and ready, so the JSON data had an unexpected end of input.</p>\n"}], "owner": {"reputation": 92, "user_id": 7571574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05bbc823685f68ff983ea92f663a2348?s=128&d=identicon&r=PG&f=1", "display_name": "Souritra Das Gupta", "link": "https://stackoverflow.com/users/7571574/souritra-das-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1551991309, "creation_date": 1551908369, "last_edit_date": 1551976435, "question_id": 55032582, "link": "https://stackoverflow.com/questions/55032582/unable-to-identify-syntax-error-when-receiving-json-data-from-express-server", "title": "Unable to identify syntax error when receiving JSON data from Express Server", "body": "<p>I have an express server running which serves JSON data. It serves up data from 3 files when requested from my javascript code. In tha javascript code, I have 3 functions to execute separate http get methods and have synchronized them with Promise.all. For each resolve, I pass the parsed JSON data and it throws the error mentioned in the title. However, the execution does continue and I am able to access the JSON data in the Promise.all block. I looked online and most people had missing braces, etc or incorrect content-type in server response. None of these affected my program at all. </p>\n\n<p>The error is Uncaught SyntaxError: Unexpected end of JSON input\n    at JSON.parse ()</p>\n\n<p>Any help would be greatly appreciated. Snippets of the source code is provided below:-</p>\n\n<p><strong>Javascript promise block</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function getposts() {\r\n  return new Promise(function(resolve, reject) {\r\n    var httpposts = new XMLHttpRequest();\r\n    httpposts.open(\"GET\", \"http://localhost:3000/users\");\r\n    httpposts.send();\r\n    httpposts.onreadystatechange=(e)=&gt;{\r\n      if(httpposts.readyState==4 &amp; httpposts.status==200){\r\n        resolve(JSON.parse(httpposts.responseText));\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nfunction getcomments() {\r\n  return new Promise(function(resolve, reject) {\r\n    var httpcomments = new XMLHttpRequest();\r\n    httpcomments.open(\"GET\", \"http://localhost:3000/comments\");\r\n    httpcomments.send();\r\n    httpcomments.onreadystatechange=(e)=&gt;{\r\n      //console.log(httpcomments);\r\n      if(httpcomments.readyState==4 &amp; httpcomments.status==200){\r\n        resolve(JSON.parse(httpcomments.responseText));\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nfunction getuser() {\r\n  return new Promise(function(resolve, reject) {\r\n    var httpuser = new XMLHttpRequest();\r\n    httpuser.open(\"GET\", \"http://localhost:3000/posts\");\r\n    httpuser.send();\r\n    httpuser.onreadystatechange=(e)=&gt;{\r\n      if(httpuser.readyState==4 &amp; httpuser.status==200){\r\n        resolve(JSON.parse(httpuser.responseText));\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nPromise.all([getposts(), getcomments(), getuser()]).then(function(data) {\r\n  console.log(data);\r\n  //alert(\"promise\");\r\n  if(window.localStorage.length == 0){\r\n  localStorage.setItem(\"users\", data[2]);\r\n  localStorage.setItem(\"comments\", data[1]);\r\n  localStorage.setItem(\"posts\", data[0]);\r\n}\r\n})</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>Express Server code</strong></p>\n\n<pre><code>const fs = require(\"fs\");\nconst express = require(\"express\");\nconst app = express();\nconst cors = require(\"cors\");\napp.use(cors());\n\napp.get(\"/users\", (req,resp) =&gt;{\nfs.readFile(\"users.json\", \"utf-8\", (err,data)=&gt;{\nif(!err) {\nresp.setHeader(\"Content-Type\",\"text/plain\");\nresp.status(200).send(data);\nconsole.log(\"users json data served\");\n}\n})\n});\n\napp.get(\"/comments\", (req,resp) =&gt;{\nfs.readFile(\"comments.json\", \"utf-8\", (err,data)=&gt;{\nif(!err) {\nresp.setHeader(\"Content-Type\",\"text/plain\");\nresp.status(200).send(data);\nconsole.log(\"comments json data served\");\n}\n})\n});\n\napp.get(\"/posts\", (req,resp) =&gt;{\nfs.readFile(\"posts.json\", \"utf-8\", (err,data)=&gt;{\nif(!err) {\nresp.setHeader(\"Content-Type\",\"text/plain\");\nresp.status(200).send(data);\nconsole.log(\"posts json data served\");\n}\n})\n});\n\napp.use((req,resp)=&gt;{\nresp.send(\"Invalid request.Try &lt;br /&gt; localhost:3000/users&lt;br /&gt;  localhost:3000/comments&lt;br /&gt; localhost:3000/posts\");\n});\n\napp.listen(3000, () =&gt; {\nconsole.log(\"server running at 3000\");\n});\n</code></pre>\n\n<p><strong>JSON Data Sample</strong>\n    [\n    {\n    \"user\":\"username\",\n    \"org\":\"hello\"\n    }\n    ]\nActual JSON data is much larger and impractical to post here. This is just a sample I used to test. Both sample and actual data are validated properly and it is not an issue with the data itself.</p>\n\n<p>I tried with setting content-type to \"application/json\" but the result is the same.\n<strong>Edit</strong>\nAs per suggestions in the comments, data read from the file was actually string. I parsed to JSON before sending it in response and removed the JSON.parse from the front-end but in that case, the error is removed but then data[] just has 3 empty strings.\ncurl -i <a href=\"http://localhost:3000\" rel=\"nofollow noreferrer\">http://localhost:3000</a> says:- </p>\n\n<pre><code>HTTP/1.1 200 OK\nContent-Type: application/json; charset=utf-8\nContent-Length: 35\nETag: W/\"23-kjXHKbaflCAUIVzhPs6BcPM2sOg\"\n[{\"user\":\"username\",\"org\":\"hello\"}]\n</code></pre>\n\n<p>Note: I removed some irrelevant fields from the output</p>\n"}, {"tags": ["javascript", "express", "vue.js", "flask", "nuxt.js"], "answers": [{"tags": [], "owner": {"reputation": 1740, "user_id": 6365534, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/B2d3m.png?s=128&g=1", "display_name": "qarthandso", "link": "https://stackoverflow.com/users/6365534/qarthandso"}, "is_accepted": true, "score": 0, "last_activity_date": 1551986267, "creation_date": 1551986267, "answer_id": 55051293, "question_id": 55032578, "link": "https://stackoverflow.com/questions/55032578/simple-file-upload-not-working-with-vue-js-flask-framework/55051293#55051293", "title": "Simple File Upload not working with Vue.js &amp; Flask framework", "body": "<p>For anyone that finds this looking for answers, it was resolved by running the localhost through <a href=\"https://ngrok.com/\" rel=\"nofollow noreferrer\">ngrok</a>.</p>\n\n<p>It seems there were headers missing, I believe an important one being <code>Connection: keep-alive</code>, when serving only via localhost.</p>\n"}], "owner": {"reputation": 1740, "user_id": 6365534, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/B2d3m.png?s=128&g=1", "display_name": "qarthandso", "link": "https://stackoverflow.com/users/6365534/qarthandso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1209, "favorite_count": 0, "accepted_answer_id": 55051293, "answer_count": 1, "score": 0, "last_activity_date": 1551986267, "creation_date": 1551908348, "question_id": 55032578, "link": "https://stackoverflow.com/questions/55032578/simple-file-upload-not-working-with-vue-js-flask-framework", "title": "Simple File Upload not working with Vue.js &amp; Flask framework", "body": "<p>I'm having issues uploading an image via <code>FormData</code> from Vue.js to my Python flask backend. I have a node.js server which handles Vue.js (Nuxt) so I can do SSR. The minimal stack setup:  </p>\n\n<pre><code>Vue.js (Nuxt) frontend --&gt; node.js proxy server ---&gt; Python flask backend\n</code></pre>\n\n<hr>\n\n<p><strong><code>HandleFile.vue</code></strong></p>\n\n<pre><code>const formData = new FormData()\nformData.append('image', file)\nformData.append('data', JSON.stringify(upcomingReq))\n\nconst resp = await this.$axios.post('/api/receive-file', formData, {\n  headers: {\n    'Content-Type': 'multipart/form-data'\n  }\n})\n</code></pre>\n\n<hr>\n\n<p><strong><code>server.js</code></strong> (just a snippet of the proxy function from the node.js server which serves the nuxt app)</p>\n\n<pre><code>app.use('/api', proxy({\n  target: API_URI,\n  changeOrigin: true,\n  // logLevel: 'debug',\n  onProxyReq(proxyReq, req, res) {\n    if (req.session.authToken) {\n      proxyReq.setHeader('Authorization', 'Bearer ' + req.session.authToken)\n    }\n  },\n}))\n</code></pre>\n\n<hr>\n\n<p><strong><code>app.py</code></strong> (the controller that receives the file)</p>\n\n<pre><code>@v1.route('/api/receive-file', methods=['GET', 'POST'])\n@auth_required\ndef receive_file():\n    print('in here')\n    return jsonify({'hi': 'ok'})\n</code></pre>\n\n<hr>\n\n<p>This is the error I'm getting:</p>\n\n<p><a href=\"https://i.stack.imgur.com/UdcHL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UdcHL.png\" alt=\"enter image description here\"></a>\n(<code>3000</code> is the Node server, <code>5000</code> is the flask server)</p>\n\n<p>Also, Flask is returning a <code>200</code> as if everything went ok. And upon inspecting the Flask <code>request</code>, the file is in there without a problem.</p>\n\n<p>I'm not sure why it seems the response is failing, or as the error says, the pipe becomes broken.</p>\n"}, {"tags": ["javascript", "node.js", "firebase", "express", "google-cloud-functions"], "comments": [{"owner": {"reputation": 1532, "user_id": 4686454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MM3Ef.jpg?s=128&g=1", "display_name": "jakemingolla", "link": "https://stackoverflow.com/users/4686454/jakemingolla"}, "edited": false, "score": 1, "creation_date": 1551909552, "post_id": 55032555, "comment_id": 96818209, "body": "Is the relative file <code>path</code> correct for where the <code>require()</code> call is? Also, could you provide more information than &quot;it just doesn&#39;t seem to work&quot; - error messages, undefined behavior, steps to reproduce, etc."}, {"owner": {"reputation": 11, "user_id": 9393345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43a0b7a908ae6a3b786dbb56a6a8cd7c?s=128&d=identicon&r=PG&f=1", "display_name": "Chad_R", "link": "https://stackoverflow.com/users/9393345/chad-r"}, "reply_to_user": {"reputation": 1532, "user_id": 4686454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MM3Ef.jpg?s=128&g=1", "display_name": "jakemingolla", "link": "https://stackoverflow.com/users/4686454/jakemingolla"}, "edited": false, "score": 0, "creation_date": 1551927023, "post_id": 55032555, "comment_id": 96822874, "body": "wow, not how I wished my first question would go.  Took awhile for me to figure out how to trouble shoot a deploy to firebase, but I had to adjust the slice to remove a leading &quot;.&quot; and remove a &quot;/&quot; from the path.  Should have done more before posting."}], "owner": {"reputation": 11, "user_id": 9393345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43a0b7a908ae6a3b786dbb56a6a8cd7c?s=128&d=identicon&r=PG&f=1", "display_name": "Chad_R", "link": "https://stackoverflow.com/users/9393345/chad-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551926915, "creation_date": 1551908252, "last_edit_date": 1551926915, "question_id": 55032555, "link": "https://stackoverflow.com/questions/55032555/node-programmatically-require-express-routes", "title": "node programmatically require express routes", "body": "<p>I am new to node which I am now using extensively with firebase functions.  I found this wonderful piece of code <a href=\"https://github.com/firebase/functions-samples/issues/170\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<pre><code>    const app = express();\n    const main = express();\n    main.use('/', app);\n    main.use(bodyParser.json());\n    main.use(bodyParser.urlencoded({\n      extended: false\n    }));\n    exports.webApi = functions.https.onRequest(main);\n    const glob = require(\"glob\");\n    const files = glob.sync('./**/*.function.js', {\n      cwd: __dirname,\n      ignore: './node_modules/**'\n    });\n    for (let f = 0, fl = files.length; f &lt; fl; f++) {\n      const file = files[f];\n      const functionName = file.split('/').pop().slice(0, -12); // Strip off '.function.js'\n      if (!process.env.FUNCTION_NAME || process.env.FUNCTION_NAME === functionName) {\n        exports[functionName] = require(file);\n      }\n    }\n\n</code></pre>\n\n<p>This combs through the file stack in functions/filename/etc.f.js and pulls out my export functions which all end in f.js.  Works great.  Now I have repurposed this to also try and pull in a similar file stack for api routes and it now looks like this</p>\n\n<pre><code>    const app = express();\n    const main = express();\n    main.use('/', app);\n    main.use(bodyParser.json());\n    main.use(bodyParser.urlencoded({\n      extended: false\n    }));\n    exports.webApi = functions.https.onRequest(main);\n    const glob = require(\"glob\");\n    const camelCase = require(\"camelcase\");\n    const files = glob.sync('./**/*.js', {\n      cwd: __dirname,\n      ignore: ['./node_modules/**', './index.js']\n    });\n    for (let f = 0, fl = files.length; f &lt; fl; f++) {\n      const file = files[f];\n      const pathCheck = file.slice(-6, -3);\n      if (pathCheck === 'api') {\n        const path = file.slice(1, -7); // Strip off '.api.js'\n        app.use(`${path}`, require(file));\n      } else {\n        const functionName = camelCase(file.slice(0, -5).split('/').join('_')); // Strip off '.f.js'\n        if (!process.env.FUNCTION_NAME || process.env.FUNCTION_NAME === functionName) {\n          exports[functionName] = require(file);\n        }\n      }\n    }\n</code></pre>\n\n<p>The file structure for my api stack as follows</p>\n\n<pre><code>    functions\n    ---api\n    ------v1\n    --------deposit.api.js\n    --------invoice.api.js\n    ------v2\n    --------deposit.api.js\n    --------deposit\n    ------------:depistId (file name)\n    -----------------transaction.api.js\n    ---db\n    ------deposit\n    ------------onCreate.f.js\n    ------------onUpdate.f.js\n\n</code></pre>\n\n<p>Expected paths would be</p>\n\n<pre><code>\n    /api/v1/deposit\n    /api/v1/invoice\n    /api/v2/deposit\n    /api/v2/deposit/:deposit/transaction\n\n</code></pre>\n\n<p>In each of my filename.api.js I have something to the affect of</p>\n\n<pre><code>    var express = require('express')\n    var router = express.Router()\n\n    // middleware that is specific to this router\n    router.use(function timeLog(req, res, next) {\n      console.log('Time: ', Date.now())\n      next()\n    });\n\n    router.delete('/:depositId', (req, res) =&gt; {\n      // firebaseHelper.firestore\n      //     .deleteDocument(db, contactsCollection, req.params.contactId);\n      return res.status(200).send('Deposit deleted');\n    });\n\n    module.exports = router\n</code></pre>\n\n<p>It just doesn't seem to work.  If I manually add the path and require the file in index.js, it works fine.  Wondering if there is something wrong with my code, or understanding of how node works, appreciate any help.</p>\n\n<p>Woohoo for first question!,</p>\n\n<p>Thanks in advance,</p>\n\n<p>Chad </p>\n"}, {"tags": ["javascript", "html", "node.js", "forms", "passport.js"], "comments": [{"owner": {"reputation": 8696, "user_id": 10746224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/znUL5.jpg?s=128&g=1", "display_name": "Lord Elrond", "link": "https://stackoverflow.com/users/10746224/lord-elrond"}, "edited": false, "score": 0, "creation_date": 1551909188, "post_id": 55032553, "comment_id": 96818054, "body": "Please update your question with your code for the app.js route for this page and all the form inputs."}, {"owner": {"reputation": 2438, "user_id": 5096653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9914f480322b37883e3646e26da83c8?s=128&d=identicon&r=PG&f=1", "display_name": "Chase", "link": "https://stackoverflow.com/users/5096653/chase"}, "edited": false, "score": 0, "creation_date": 1551910130, "post_id": 55032553, "comment_id": 96818434, "body": "You said it &quot;is executing an XHR request&quot; which means we need to see that code as well to see why the form action doesn&#39;t match up with what endpoint your request is hitting. And as you&#39;re using index.html inside dir names, I would also use the entire qualified URL in your form action for now. Depending on your server block settings, this could give you unintended results if you&#39;re not explicit in your paths."}, {"owner": {"reputation": 9033, "user_id": 5032692, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/euSIR.jpg?s=128&g=1", "display_name": "pspi", "link": "https://stackoverflow.com/users/5032692/pspi"}, "edited": false, "score": 0, "creation_date": 1551928365, "post_id": 55032553, "comment_id": 96823170, "body": "All your code looks correct. Is there any JavaScript logic on the page that we&#39;re not seeing? JavaScript attached to the form submit handler could prevent the default behavior and start sending XHR requests instead."}, {"owner": {"reputation": 11, "user_id": 3490820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbaa935e376bfd2416708148311839ce?s=128&d=identicon&r=PG&f=1", "display_name": "user3490820", "link": "https://stackoverflow.com/users/3490820/user3490820"}, "reply_to_user": {"reputation": 9033, "user_id": 5032692, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/euSIR.jpg?s=128&g=1", "display_name": "pspi", "link": "https://stackoverflow.com/users/5032692/pspi"}, "edited": false, "score": 0, "creation_date": 1551942421, "post_id": 55032553, "comment_id": 96827102, "body": "Thanks @pspi I disabled all the external JS and now it works so there is some external JS interfering with my form submission."}], "answers": [{"tags": [], "owner": {"reputation": 2670, "user_id": 1121827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85b55e2947ea2e426de6294a88c29c36?s=128&d=identicon&r=PG", "display_name": "djheru", "link": "https://stackoverflow.com/users/1121827/djheru"}, "is_accepted": false, "score": 0, "last_activity_date": 1551924229, "creation_date": 1551924229, "answer_id": 55034941, "question_id": 55032553, "link": "https://stackoverflow.com/questions/55032553/form-submit-not-following-redirect-node-js/55034941#55034941", "title": "Form submit not following redirect (Node.js)", "body": "<p>It looks like you need to update your form tag to use the POST method</p>\n\n<p><code>&lt;form action=\"api/login\" class=\"cozy\" method=\"POST\"&gt;</code></p>\n\n<p>Or, if you are using client-side javascript on your page, you can intercept the form submit event, call <code>event.preventDefault()</code> and then send the request to the server using fetch or jquery or whatever.</p>\n"}, {"tags": [], "owner": {"reputation": 97, "user_id": 6075434, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bhQzh.jpg?s=128&g=1", "display_name": "Rajesh Barik", "link": "https://stackoverflow.com/users/6075434/rajesh-barik"}, "is_accepted": false, "score": 0, "last_activity_date": 1551943109, "creation_date": 1551943109, "answer_id": 55038059, "question_id": 55032553, "link": "https://stackoverflow.com/questions/55032553/form-submit-not-following-redirect-node-js/55038059#55038059", "title": "Form submit not following redirect (Node.js)", "body": "<p>Please remove <code>.html</code> from your route. On passport authentication you should be redirecting the user to a route not some .html file. On <code>/app/index.html</code> route you are serving index.html file as a response. It shouldn't be like that.\nInstead try this.</p>\n\n<pre><code>app.post('/api/login', \n    passport.authenticate('local-login', {\n      successRedirect: '/app/index',\n      failureRedirect: '/login'\n  })\n);\n</code></pre>\n\n<p>And for the response</p>\n\n<pre><code>app.get('/app/index', ensureAuthenticated, function(req, res) {\n    return res.sendFile(path.join(__dirname + '/private/index.html'));\n});\n</code></pre>\n\n<p>Hope it helps.</p>\n"}], "owner": {"reputation": 11, "user_id": 3490820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbaa935e376bfd2416708148311839ce?s=128&d=identicon&r=PG&f=1", "display_name": "user3490820", "link": "https://stackoverflow.com/users/3490820/user3490820"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 483, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1551943109, "creation_date": 1551908244, "last_edit_date": 1551942338, "question_id": 55032553, "link": "https://stackoverflow.com/questions/55032553/form-submit-not-following-redirect-node-js", "title": "Form submit not following redirect (Node.js)", "body": "<p>I have a basic HTML site with a NodeJS backend.</p>\n\n<p>In my NodeJS backend, I have a passport based authentication flow that works correctly with an API endpoint <strong>/api/login</strong> to start the authentication.</p>\n\n<p>In my HTML, I have a basic form that submits the email/password of the user:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form action=\"api/login\" method=\"POST\" class=\"cozy\"&gt;\r\n  &lt;input type=\"text\" id=\"email\" name=\"email\" class=\"form-control form-control-rounded\" placeholder=\"Your registered email\" required&gt;\r\n  &lt;input type=\"password\" id=\"password\" name=\"password\" class=\"form-control form-control-rounded\" placeholder=\"Your password\" required&gt;\r\n  &lt;button type=\"submit\" class=\"btn btn-accent btn-rounded\"&gt;Login\r\n\t  &lt;i class=\"fas fa-long-arrow-alt-right ml-2\"&gt;&lt;/i&gt;\r\n\t&lt;/button&gt;\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If the authentication is successful, my NodeJS endpoint returns a <strong>302</strong> status with header <strong>Location: /app/index.html</strong> which is the \"dashboard\" page of my application that is only accessible after login.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>app.post('/api/login', \r\n\tpassport.authenticate('local-login', {\r\n\t\tsuccessRedirect: '/app/index.html',\r\n\t\tfailureRedirect: '/login.html'\r\n\t})\r\n);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>app.get('/app/index.html', ensureAuthenticated, function(req, res) {\r\n\treturn res.sendFile(path.join(__dirname + '/private/index.html'));\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Now instead of redirecting to this page, my browser is executing an XHR request on <strong>/app/index.html</strong> and my dashboard page is loaded as the response content of the XHR request instead of my user being redirected to it.</p>\n\n<p>Anyone has any idea of what I'm doing wrong?</p>\n"}, {"tags": ["javascript", "html", "json", "iframe"], "comments": [{"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 0, "creation_date": 1551908060, "post_id": 55032449, "comment_id": 96817556, "body": "Just escape doesn&#39;t <code>doesn\\&#39;t</code>"}, {"owner": {"reputation": 9, "user_id": 8333297, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-U-LqtuqZTpo/AAAAAAAAAAI/AAAAAAAAKso/-Ps4Yz1urQc/photo.jpg?sz=128", "display_name": "Navaneeth", "link": "https://stackoverflow.com/users/8333297/navaneeth"}, "reply_to_user": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 0, "creation_date": 1551908309, "post_id": 55032449, "comment_id": 96817673, "body": "I have no control over that string. It&#39;s returned by an api call in a JSON. But is there a way I could get into the string and escape it?"}, {"owner": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 0, "creation_date": 1551908410, "post_id": 55032449, "comment_id": 96817715, "body": "1) That is not JSON 2) don&#39;t use iframes. 3) select an element, make a local variable for said element, let&#39;s call it<code>ele</code>, then write it&#39;s <code>innerHTML</code> like <code>ele.innerHTML = Data;</code>"}, {"owner": {"reputation": 9, "user_id": 8333297, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-U-LqtuqZTpo/AAAAAAAAAAI/AAAAAAAAKso/-Ps4Yz1urQc/photo.jpg?sz=128", "display_name": "Navaneeth", "link": "https://stackoverflow.com/users/8333297/navaneeth"}, "reply_to_user": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 0, "creation_date": 1551911314, "post_id": 55032449, "comment_id": 96818816, "body": "@StevenStark I wish I didn\\&#39;t have to use iframe, but it&#39;s a school homework and the spec says I need to. It&#39;s actually JSON, I didn&#39;t paste the entire JSON file here and didn&#39;t paste the entire value of the tag either because it&#39;s too long."}, {"owner": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 0, "creation_date": 1551911862, "post_id": 55032449, "comment_id": 96819025, "body": "@Navaneeth Actually, no, that&#39;s a URLEncoded string of HTML content, there is no JSON there at all. You can verify what is valid JSON at: <a href=\"https://jsonlint.com/\" rel=\"nofollow noreferrer\">jsonlint.com</a>"}, {"owner": {"reputation": 9, "user_id": 8333297, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-U-LqtuqZTpo/AAAAAAAAAAI/AAAAAAAAKso/-Ps4Yz1urQc/photo.jpg?sz=128", "display_name": "Navaneeth", "link": "https://stackoverflow.com/users/8333297/navaneeth"}, "reply_to_user": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 0, "creation_date": 1551914145, "post_id": 55032449, "comment_id": 96819891, "body": "@StevenStark oh no, what I have posted does not contain any JSON, it&#39;s a value of a JSON file&#39;s key is what I meant."}, {"owner": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 0, "creation_date": 1551917233, "post_id": 55032449, "comment_id": 96820689, "body": "You likely need to use <code>decodeUriComponent</code> described here: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/decodeURIComponent\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>  so, assuming your code will work after this, <code>var html = &quot;&lt;iframe srcdoc = &#39;&quot;+decodeURIComponent( Data )+&quot;&#39;&gt;&lt;&#47;iframe&gt;&quot;;</code> .. that is, assuming that you can write html to the srcdoc attribute like that. I&#39;ve never tried."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 8333297, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-U-LqtuqZTpo/AAAAAAAAAAI/AAAAAAAAKso/-Ps4Yz1urQc/photo.jpg?sz=128", "display_name": "Navaneeth", "link": "https://stackoverflow.com/users/8333297/navaneeth"}, "edited": false, "score": 0, "creation_date": 1551911361, "post_id": 55032576, "comment_id": 96818834, "body": "Actually I wanna get the code executed as html and show the resulting page in the iframe."}, {"owner": {"reputation": 33, "user_id": 9608009, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-G18dcOAglxg/AAAAAAAAAAI/AAAAAAAAAl0/Cvi7dSDheU4/photo.jpg?sz=128", "display_name": "Marc Esp&#237;n", "link": "https://stackoverflow.com/users/9608009/marc-esp%c3%adn"}, "reply_to_user": {"reputation": 9, "user_id": 8333297, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-U-LqtuqZTpo/AAAAAAAAAAI/AAAAAAAAKso/-Ps4Yz1urQc/photo.jpg?sz=128", "display_name": "Navaneeth", "link": "https://stackoverflow.com/users/8333297/navaneeth"}, "edited": false, "score": 0, "creation_date": 1551952766, "post_id": 55032576, "comment_id": 96832730, "body": "@Navaneeth Why in a iframe? Have you tried on anotherr kind of element?"}, {"owner": {"reputation": 9, "user_id": 8333297, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-U-LqtuqZTpo/AAAAAAAAAAI/AAAAAAAAKso/-Ps4Yz1urQc/photo.jpg?sz=128", "display_name": "Navaneeth", "link": "https://stackoverflow.com/users/8333297/navaneeth"}, "edited": false, "score": 0, "creation_date": 1552004233, "post_id": 55032576, "comment_id": 96859186, "body": "It&#39;s a school homework and spec says that I need to use iframe. I would have used something else if I could."}], "tags": [], "owner": {"reputation": 33, "user_id": 9608009, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-G18dcOAglxg/AAAAAAAAAAI/AAAAAAAAAl0/Cvi7dSDheU4/photo.jpg?sz=128", "display_name": "Marc Esp&#237;n", "link": "https://stackoverflow.com/users/9608009/marc-esp%c3%adn"}, "is_accepted": false, "score": 0, "last_activity_date": 1551908668, "last_edit_date": 1551908668, "creation_date": 1551908341, "answer_id": 55032576, "question_id": 55032449, "link": "https://stackoverflow.com/questions/55032449/displaying-json-string-in-html-via-javascript/55032576#55032576", "title": "Displaying JSON string in HTML via javascript", "body": "<p>If you wanna show your code (which isn't JSON) on your display just do:</p>\n\n<pre><code>const json_to_display = \"&lt;font rwr=\\\"1\\\" size=\\\"4\\\" style=\\\"font-family:Arial\\\"&gt;&lt;font rwr=\\\"1\\\" size=\\\"4\\\" style=\\\"font-family:Arial\\\"&gt;&lt;font rwr=\\\"1\\\" size=\\\"4\\\" style=\\\"font-family:Arial\\\"&gt;&lt;font rwr=\\\"1\\\" size=\\\"4\\\" style=\\\"font-family:Arial\\\"&gt;&lt;font rwr=\\\"1\\\" style=\\\"font-family: Arial;\\\"&gt;&lt;font rwr=\\\"1\\\" style=\\\"font-family: Arial;\\\"&gt;&lt;div style=\\\"font-size: 14pt;\\\"&gt;&lt;br&gt;&lt;div style=\\\"font-size: 14pt;\\\"&gt;&lt;font face=\\\"Georgia\\\"&gt;&lt;b style=\\\"font-size: 14pt;\\\"&gt;A Grade 9/10&amp;nbsp;&lt;\\/b&gt;&lt;font size=\\\"4\\\"&gt;-&amp;nbsp;&lt;\\/font&gt;this is excellent condition, minor wear or light scratches.&lt;\\/font&gt;&lt;\\/div&gt;&lt;div style=\\\"font-size: 14pt;\\\"&gt;&lt;font face=\\\"Georgia\\\"&gt;&lt;b style=\\\"font-size: 14pt;\\\"&gt;B Grade 8/10&amp;nbsp;&lt;\\/b&gt;&lt;font size=\\\"4\\\"&gt;-&amp;nbsp;&lt;\\/font&gt;may come with minor discoloration / scratches / minor dings&lt;\\/font&gt;&lt;\\/div&gt;&lt;div style=\\\"font-size: 14pt;\\\"&gt;&lt;font face=\\\"Georgia\\\"&gt;&lt;b style=\\\"font-size: 14pt;\\\"&gt;C Grade 6/10&lt;\\/b&gt;&lt;font size=\\\"4\\\"&gt;&amp;nbsp;-&amp;nbsp;&lt;\\/font&gt;this is generally for people who'd want to save a lot of money and **doesn't**......\";\n\ndocument.getElementById(elementWhereToDisplay).innerHTML = json_to_display; //This will put your code on the element you want(elementWhereToDisplay);\n</code></pre>\n\n<p>Between, you can use `` or \" \" or ' ' to write strings, the first one will allow you to do it on multiline.</p>\n\n<p>I hope I understood it well and it's gonna work :D</p>\n"}], "owner": {"reputation": 9, "user_id": 8333297, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-U-LqtuqZTpo/AAAAAAAAAAI/AAAAAAAAKso/-Ps4Yz1urQc/photo.jpg?sz=128", "display_name": "Navaneeth", "link": "https://stackoverflow.com/users/8333297/navaneeth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 261, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551908668, "creation_date": 1551907791, "last_edit_date": 1551908265, "question_id": 55032449, "link": "https://stackoverflow.com/questions/55032449/displaying-json-string-in-html-via-javascript", "title": "Displaying JSON string in HTML via javascript", "body": "<p><strong>(Question at the very end)</strong> I'm making an api call to ebay and get a JSON file. One of the value fields of this JSON is html code written in plain text. I need to get this and embed it in an iframe . Now, this entire code is dynamically generated in javascript based on button clicks on the screen. My problem is that the code I write does not completely display the executed html raw text code.</p>\n\n<p>JSON string example</p>\n\n<pre><code>\"&lt;font rwr=\\\"1\\\" size=\\\"4\\\" style=\\\"font-family:Arial\\\"&gt;&lt;font rwr=\\\"1\\\" size=\\\"4\\\" style=\\\"font-family:Arial\\\"&gt;&lt;font rwr=\\\"1\\\" size=\\\"4\\\" style=\\\"font-family:Arial\\\"&gt;&lt;font rwr=\\\"1\\\" size=\\\"4\\\" style=\\\"font-family:Arial\\\"&gt;&lt;font rwr=\\\"1\\\" style=\\\"font-family: Arial;\\\"&gt;&lt;font rwr=\\\"1\\\" style=\\\"font-family: Arial;\\\"&gt;&lt;div style=\\\"font-size: 14pt;\\\"&gt;&lt;br&gt;&lt;div style=\\\"font-size: 14pt;\\\"&gt;&lt;font face=\\\"Georgia\\\"&gt;&lt;b style=\\\"font-size: 14pt;\\\"&gt;A Grade 9/10&amp;nbsp;&lt;\\/b&gt;&lt;font size=\\\"4\\\"&gt;-&amp;nbsp;&lt;\\/font&gt;this is excellent condition, minor wear or light scratches.&lt;\\/font&gt;&lt;\\/div&gt;&lt;div style=\\\"font-size: 14pt;\\\"&gt;&lt;font face=\\\"Georgia\\\"&gt;&lt;b style=\\\"font-size: 14pt;\\\"&gt;B Grade 8/10&amp;nbsp;&lt;\\/b&gt;&lt;font size=\\\"4\\\"&gt;-&amp;nbsp;&lt;\\/font&gt;may come with minor discoloration / scratches / minor dings&lt;\\/font&gt;&lt;\\/div&gt;&lt;div style=\\\"font-size: 14pt;\\\"&gt;&lt;font face=\\\"Georgia\\\"&gt;&lt;b style=\\\"font-size: 14pt;\\\"&gt;C Grade 6/10&lt;\\/b&gt;&lt;font size=\\\"4\\\"&gt;&amp;nbsp;-&amp;nbsp;&lt;\\/font&gt;this is generally for people who'd want to save a lot of money and **doesn't**......\n</code></pre>\n\n<p>My code:</p>\n\n<pre><code>var html = \"&lt;iframe srcdoc = '\"+Data+\"'&gt;&lt;/iframe&gt;\";\n</code></pre>\n\n<p>This terminates when it encounters (') in \"doesn't\"(marked in bold in the JSON string above). </p>\n\n<p>I also tried</p>\n\n<pre><code>var html = '&lt;iframe srcdoc = \\\"'+Data+\"\\'&gt;&lt;iframe&gt;';\n</code></pre>\n\n<p>which displays an empty iframe. Also when I logged \"Data\" and checked in the console log, none of the double quotes in the JSON string were escaped.</p>\n\n<p>How do I have this plain text html code from JSON file executed and displayed in an iframe writing in javascript? I hope this question make sense. Thank you. </p>\n"}, {"tags": ["javascript", "html", "arrays", "node.js", "ejs"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 7, "creation_date": 1551907737, "post_id": 55032416, "comment_id": 96817409, "body": "Please <a href=\"https://stackoverflow.com/posts/55032416/edit\">edit</a> your question to include the framework you&#39;re using. <code>&lt;%= %&gt;</code> is used by a number of them."}, {"owner": {"reputation": 29, "user_id": 7438092, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154598159702599/picture?type=large", "display_name": "user7438092", "link": "https://stackoverflow.com/users/7438092/user7438092"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1551907921, "post_id": 55032416, "comment_id": 96817485, "body": "Thanks Heretic Monkey, I have stated that I am using NodeJS.."}, {"owner": {"reputation": 1313, "user_id": 8167494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tE1Ek.jpg?s=128&g=1", "display_name": "Isaac Vidrine", "link": "https://stackoverflow.com/users/8167494/isaac-vidrine"}, "edited": false, "score": 1, "creation_date": 1551907922, "post_id": 55032416, "comment_id": 96817487, "body": "Okay but what templating engine are you using? NodeJS is the javascript runtime environment, not the library that is giving you the <code>&lt;%= %&gt;</code> syntax."}, {"owner": {"reputation": 29, "user_id": 7438092, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154598159702599/picture?type=large", "display_name": "user7438092", "link": "https://stackoverflow.com/users/7438092/user7438092"}, "edited": false, "score": 0, "creation_date": 1551907999, "post_id": 55032416, "comment_id": 96817533, "body": "I use ejs if you are asking that.."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1551908044, "post_id": 55032416, "comment_id": 96817549, "body": "See how I edited your question to include the <code>node.js</code> tag? You can do that with the name of the framework..."}, {"owner": {"reputation": 99450, "user_id": 1686485, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g3GW9.png?s=128&g=1", "display_name": "tymeJV", "link": "https://stackoverflow.com/users/1686485/tymejv"}, "edited": false, "score": 0, "creation_date": 1551908074, "post_id": 55032416, "comment_id": 96817561, "body": "You&#39;re already looping an array called <code>records</code> - is <code>record</code> actually an array? do you mean <code>records[i]</code>?"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1551908077, "post_id": 55032416, "comment_id": 96817562, "body": "It&#39;s not node related"}, {"owner": {"reputation": 1313, "user_id": 8167494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tE1Ek.jpg?s=128&g=1", "display_name": "Isaac Vidrine", "link": "https://stackoverflow.com/users/8167494/isaac-vidrine"}, "edited": false, "score": 0, "creation_date": 1551908150, "post_id": 55032416, "comment_id": 96817589, "body": "@user7438092 Yes, ejs is the library you are using for generating markup. As Aluan said, this is not related to NodeJS."}, {"owner": {"reputation": 1608, "user_id": 3630128, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/LYblt.jpg?s=128&g=1", "display_name": "Amir", "link": "https://stackoverflow.com/users/3630128/amir"}, "edited": false, "score": 0, "creation_date": 1551908216, "post_id": 55032416, "comment_id": 96817620, "body": "@user7438092 please replace <code>record[i]</code> with just <code>i</code> and tell us what the result was"}, {"owner": {"reputation": 29, "user_id": 7438092, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154598159702599/picture?type=large", "display_name": "user7438092", "link": "https://stackoverflow.com/users/7438092/user7438092"}, "edited": false, "score": 0, "creation_date": 1551908495, "post_id": 55032416, "comment_id": 96817748, "body": "Replying tymeJV: records[i] does not work, records is already an array of array. If I do so each cell includes [object object]..."}, {"owner": {"reputation": 29, "user_id": 7438092, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154598159702599/picture?type=large", "display_name": "user7438092", "link": "https://stackoverflow.com/users/7438092/user7438092"}, "edited": false, "score": 0, "creation_date": 1551908625, "post_id": 55032416, "comment_id": 96817801, "body": "Replying Amir: if I put i instead of record[i], cells show the value of i such as 1,2,3.. etc. if I write lets say record.column_name then all cells are filled with value of the column_name.. Shorty, this does not work as well.."}, {"owner": {"reputation": 1608, "user_id": 3630128, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/LYblt.jpg?s=128&g=1", "display_name": "Amir", "link": "https://stackoverflow.com/users/3630128/amir"}, "edited": false, "score": 0, "creation_date": 1551908788, "post_id": 55032416, "comment_id": 96817878, "body": "@user7438092 Then I assume <code>record</code> is not an array, or if it is, the indexes are not incremental numbers (i.e. 0, 1, 2, 3, 4, ...). (As you may know, in javascript indexes of arrays can be what ever you want)"}, {"owner": {"reputation": 8696, "user_id": 10746224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/znUL5.jpg?s=128&g=1", "display_name": "Lord Elrond", "link": "https://stackoverflow.com/users/10746224/lord-elrond"}, "edited": false, "score": 0, "creation_date": 1551908812, "post_id": 55032416, "comment_id": 96817891, "body": "@user7438092 can you show us the app.js route for this page and can you post the results of <code>console.log(records);</code> on your app.js please?"}, {"owner": {"reputation": 8696, "user_id": 10746224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/znUL5.jpg?s=128&g=1", "display_name": "Lord Elrond", "link": "https://stackoverflow.com/users/10746224/lord-elrond"}, "edited": false, "score": 0, "creation_date": 1551908869, "post_id": 55032416, "comment_id": 96817913, "body": "To answer your question we need to know what kind of data we are working with (ie what records looks like)"}, {"owner": {"reputation": 29, "user_id": 7438092, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154598159702599/picture?type=large", "display_name": "user7438092", "link": "https://stackoverflow.com/users/7438092/user7438092"}, "edited": false, "score": 0, "creation_date": 1551909077, "post_id": 55032416, "comment_id": 96818007, "body": "Amir, record is just a single record. If I was coding as &lt;td tabindex=&quot;0&quot;&gt;record.name&lt;/td&gt; eveything would be fine. But since I am trying to produce a generic HTML table I needed to use indexes instead of actual column_names.."}, {"owner": {"reputation": 1608, "user_id": 3630128, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/LYblt.jpg?s=128&g=1", "display_name": "Amir", "link": "https://stackoverflow.com/users/3630128/amir"}, "edited": false, "score": 0, "creation_date": 1551909262, "post_id": 55032416, "comment_id": 96818090, "body": "@user7438092, please post the result of <code>console.log(record);</code> If <code>record</code> has a <code>name</code> property, it is very likely not an array, or as I said it is an array with weird indexes. This is probably why you get <code>null</code> for <code>record[i]</code>"}, {"owner": {"reputation": 29, "user_id": 7438092, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154598159702599/picture?type=large", "display_name": "user7438092", "link": "https://stackoverflow.com/users/7438092/user7438092"}, "edited": false, "score": 0, "creation_date": 1551909774, "post_id": 55032416, "comment_id": 96818301, "body": "I have added the app.js block and the records array..."}, {"owner": {"reputation": 29, "user_id": 7438092, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154598159702599/picture?type=large", "display_name": "user7438092", "link": "https://stackoverflow.com/users/7438092/user7438092"}, "edited": false, "score": 0, "creation_date": 1552029874, "post_id": 55032416, "comment_id": 96865468, "body": "Just to let you know guys, Amir&#39;s recommendation using for(let prop in obj){     //access values with obj[prop] } solved my problem. Thanks a lot Amir..."}], "answers": [{"tags": [], "owner": {"reputation": 1608, "user_id": 3630128, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/LYblt.jpg?s=128&g=1", "display_name": "Amir", "link": "https://stackoverflow.com/users/3630128/amir"}, "is_accepted": true, "score": 1, "last_activity_date": 1551909908, "creation_date": 1551909908, "answer_id": 55032903, "question_id": 55032416, "link": "https://stackoverflow.com/questions/55032416/problem-on-accessing-array-elements-by-index/55032903#55032903", "title": "Problem on accessing array elements by index", "body": "<p>Items in <code>records</code> array are not array themselves (<code>RowDataPacket</code>). They are objects and hence you can't iterate through them with this kind of <code>for loop</code> as you did.\nYou can iterate over object keys using </p>\n\n<pre><code>for(let prop in obj){\n    //access values with obj[prop]\n}\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 7438092, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154598159702599/picture?type=large", "display_name": "user7438092", "link": "https://stackoverflow.com/users/7438092/user7438092"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 55032903, "answer_count": 1, "score": 0, "last_activity_date": 1551909908, "creation_date": 1551907651, "last_edit_date": 1551909711, "question_id": 55032416, "link": "https://stackoverflow.com/questions/55032416/problem-on-accessing-array-elements-by-index", "title": "Problem on accessing array elements by index", "body": "<p>I am trying to generate a generic HTML table in which the column names and the content changes depending on the selection.\nI was expecting to access array elements by id but apparently it is not working properly.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>&lt;% records.forEach(function(record){ %&gt;\n&lt;tr role=\"row\" class=\"odd\"&gt;\n    &lt;% for (var i = 0; i &lt; noOfCols; i++) { %&gt;\n        &lt;td tabindex=\"0\"&gt;&lt;%= record[i] %&gt;&lt;/td&gt;\n   &lt;% } %&gt;                                        \n        &lt;td nowrap=\"\"&gt;\n            &lt;span class=\"dropdown\"&gt;\n                &lt;a href=\"#\" class=\"btn m-btn m-btn--hover-brand m-btn--icon m-btn--icon-only m-btn--pill\" data-toggle=\"dropdown\" aria-expanded=\"true\"&gt;\n                  &lt;i class=\"la la-ellipsis-h\"&gt;&lt;/i&gt;\n                &lt;/a&gt;\n                &lt;div class=\"dropdown-menu dropdown-menu-right\"&gt;\n                    &lt;a class=\"dropdown-item\" href=\"#\"&gt;&lt;i class=\"la la-edit\"&gt;&lt;/i&gt; Edit Details&lt;/a&gt;\n                    &lt;a class=\"dropdown-item\" href=\"#\"&gt;&lt;i class=\"la la-leaf\"&gt;&lt;/i&gt; Update Status&lt;/a&gt;\n                    &lt;a class=\"dropdown-item\" href=\"#\"&gt;&lt;i class=\"la la-print\"&gt;&lt;/i&gt; Generate Report&lt;/a&gt;\n                &lt;/div&gt;\n            &lt;/span&gt;\n                &lt;a href=\"#\" class=\"m-portlet__nav-link btn m-btn m-btn--hover-brand m-btn--icon m-btn--icon-only m-btn--pill\" title=\"View\"&gt;\n                    &lt;i class=\"la la-edit\"&gt;&lt;/i&gt;\n                &lt;/a&gt;\n        &lt;/td&gt;\n&lt;/tr&gt; &lt;% }); %&gt;\n</code></pre>\n\n<p><code>&lt;%= record[i] %&gt;</code> is returning <code>null</code> unfortunately.</p>\n\n<p>Here is my app.js code block to route to the page:</p>\n\n<pre><code>app.get('/edit/:tblId', async function(req, res, next) {\nconsole.log(\"***************** Edit Table *******************\");\n\nconst allDatabases  = await dbInstance.genericQuery(dbQueries.allDbSQL);\nconst allTables     = await dbInstance.genericQuery(dbQueries.allTbSQL);\n\nconst singletable   = await dbInstance.genericQuery(dbQueries.singleTableSQL.replace('{tblId}', req.params.tblId));\nconst tableName     = await dbInstance.getTableName(req.params.tblId);\nconst columnNames   = await dbInstance.genericQuery(dbQueries.headersTbSQL.replace('{tblId}', req.params.tblId));\n\nconst records       = await dbInstance.getTableRecords(tableName);\nconst noOfCols      = await dbInstance.genericQuery(dbQueries.headersTbSQL.replace('col.column_name', 'count(1) colNo').replace('{tblId}', req.params.tblId));\n\nconsole.log('SQL: ' + dbQueries.headersTbSQL.replace('col.column_name', 'count(1) colNo').replace('{tblId}', req.params.tblId))\n\nconsole.log('noOfCols: ' + noOfCols[0].colNo);\nconsole.log(records);\nres.render('edit_table_new', {\n    parameters: arrayOpsInstance.getMatchDBWithTables(allDatabases, allTables),\n    tblName: tableName,\n    pagePathDatabase: 'EDIT DATA - ' + singletable[0].database_name.toUpperCase(),\n    pagePathSchema: singletable[0].schema_name.toUpperCase(),\n    tableDesc: singletable[0].table_desc,\n    headers: columnNames,\n    records: records,\n    noOfCols: Number(noOfCols[0].colNo)\n});\n</code></pre>\n\n<p>});</p>\n\n<p>And here is the records array:</p>\n\n<pre><code>[ RowDataPacket {\ndatabase_id: 1,\ndatabase_name: 'REFERA',\norganization_id: 1,\ndatabase_type_id: 3,\ndatabase_alias: 'Refera Repository',\ndatabase_desc: 'Holds Refera Repository Information',\nip_number: 'localhost',\nport_number: '3306',\nservice_name: 'refera',\nusername: 'uuu',\npassword: 'ppp' },\n</code></pre>\n\n<p>RowDataPacket {\n    database_id: 2,\n    database_name: 'MAKEIT Tables',\n    organization_id: 1,\n    database_type_id: 1,\n    database_alias: 'MAKEIT Temp Tables',\n    database_desc: 'Holds MAKEIT Temp Tables',\n    ip_number: 'localhost',\n    port_number: '1521',\n    service_name: 'XE',\n    username: 'uuu',\n    password: 'ppp' } ]</p>\n\n<p>I do appreciate if you can help (I am using NodeJS and prefer generate HTML phrases within HTML file rather than calculating in script).</p>\n"}, {"tags": ["javascript", "arrays"], "comments": [{"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1551907270, "post_id": 55032319, "comment_id": 96817221, "body": "please add the result of the above check."}, {"owner": {"reputation": 8252, "user_id": 6634591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHVdG.jpg?s=128&g=1", "display_name": "Luca Kiebel", "link": "https://stackoverflow.com/users/6634591/luca-kiebel"}, "edited": false, "score": 0, "creation_date": 1551907370, "post_id": 55032319, "comment_id": 96817260, "body": "In the first iteration of both loops, you are checking against <code>arr[i - 2][j]</code> with <code>i=0</code>, meaning you are trying to access <code>arr[-2][j]</code> which shouldn&#39;t work for normal arrays"}, {"owner": {"reputation": 1313, "user_id": 8167494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tE1Ek.jpg?s=128&g=1", "display_name": "Isaac Vidrine", "link": "https://stackoverflow.com/users/8167494/isaac-vidrine"}, "edited": false, "score": 0, "creation_date": 1551907469, "post_id": 55032319, "comment_id": 96817299, "body": "You said  <i>Here</i> <code>arr[0][0]</code>, <code>arr[0][1]</code> and <code>arr[0][2]</code> <i>are equal for the same index 0</i> but each of those element have different values. Not sure what you are asking. <code>arr[0][0]</code> and <code>arr[0][2]</code> are equal but not all three."}, {"owner": {"reputation": 1, "user_id": 9923539, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xkKOc-AJLDM/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3goOcg_FgxvGqXgBTyW9WvtKjIXQ/mo/photo.jpg?sz=128", "display_name": "Asad Ali", "link": "https://stackoverflow.com/users/9923539/asad-ali"}, "reply_to_user": {"reputation": 8252, "user_id": 6634591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHVdG.jpg?s=128&g=1", "display_name": "Luca Kiebel", "link": "https://stackoverflow.com/users/6634591/luca-kiebel"}, "edited": false, "score": 0, "creation_date": 1551907475, "post_id": 55032319, "comment_id": 96817300, "body": "@LucaKiebel I know that&#39;s the issue. Just can&#39;t get it to work."}, {"owner": {"reputation": 1, "user_id": 9923539, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xkKOc-AJLDM/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3goOcg_FgxvGqXgBTyW9WvtKjIXQ/mo/photo.jpg?sz=128", "display_name": "Asad Ali", "link": "https://stackoverflow.com/users/9923539/asad-ali"}, "reply_to_user": {"reputation": 1313, "user_id": 8167494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tE1Ek.jpg?s=128&g=1", "display_name": "Isaac Vidrine", "link": "https://stackoverflow.com/users/8167494/isaac-vidrine"}, "edited": false, "score": 0, "creation_date": 1551907935, "post_id": 55032319, "comment_id": 96817495, "body": "@IsaacVidrine Sorry for the mistake. I meant <code>arr[0][0]</code>,<code>arr[1][0]</code> and <code>arr[2][0]</code> are equal."}], "answers": [{"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 0, "last_activity_date": 1551908060, "creation_date": 1551908060, "answer_id": 55032516, "question_id": 55032319, "link": "https://stackoverflow.com/questions/55032319/check-if-elements-of-2d-array-have-equal-values-at-equal-indices/55032516#55032516", "title": "Check if elements of 2D array have equal values at equal indices", "body": "<p>You could take two nested loop and check if same rows or cols contains the same values.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var array = [[1, 0, 1], [1, 1, 1], [1, 1, 0]],\r\n    cols = array.map((a, i, outer) =&gt; a.every((v, j) =&gt; outer[0][j] === v)),\r\n    rows = array.map((a, i) =&gt; a.every((v, j, inner) =&gt; inner[0] === v));\r\n\r\n\r\narray.forEach(a =&gt; console.log(...a));\r\nconsole.log('cols', ...cols);\r\nconsole.log('rows', ...rows);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 9923539, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xkKOc-AJLDM/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3goOcg_FgxvGqXgBTyW9WvtKjIXQ/mo/photo.jpg?sz=128", "display_name": "Asad Ali", "link": "https://stackoverflow.com/users/9923539/asad-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 215, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551908060, "creation_date": 1551907200, "last_edit_date": 1551907829, "question_id": 55032319, "link": "https://stackoverflow.com/questions/55032319/check-if-elements-of-2d-array-have-equal-values-at-equal-indices", "title": "Check if elements of 2D array have equal values at equal indices", "body": "<p>I want to check if elements of a given 2D array has equal values at indices that have same subscript or index.</p>\n\n<p>For example, given an array;</p>\n\n<p><code>var arr = [[1,0,1],[1,1,1],[1,1,0]]</code></p>\n\n<p>Here <code>arr[0][0]</code>, <code>arr[1][0]</code> and <code>arr[2][0]</code> are equal for the same index <code>0</code>.</p>\n\n<p>Similarly, I want to check every other set of elements which have same \"row\" or same \"column\" (or both). How do I achieve that?</p>\n\n<p>I have tried looping through the array, checking three consecutive elements but it returns <code>TypeError</code> as succeeding or preceding elements don't exist for all the element under the loop.</p>\n\n<p>This is what I am doing, assuming a <code>3x3</code> array;</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> var arr = [[1,0,1],[1,1,1],[1,1,0]];\r\n    for (let i = 0; i &lt; 3; i++) {\r\n      for (let j = 0; j &lt; 3; j++) {\r\n        if ((arr[i][j] == arr[i - 1][j] == arr[i - 2][j]) == 1) {\r\n          //do something\r\n        }\r\n      }\r\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Output:</p>\n\n<pre><code>   \"message\": \"TypeError: arr[(i - 1)] is undefined\",\n   \"filename\": \"https://stacksnippets.net/js\",\n   \"lineno\": 16,\n   \"colno\": 9\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "ajax", "bootstrap-multiselect"], "comments": [{"owner": {"reputation": 39660, "user_id": 3880585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8pfp3.png?s=128&g=1", "display_name": "gaetanoM", "link": "https://stackoverflow.com/users/3880585/gaetanom"}, "edited": false, "score": 0, "creation_date": 1551907723, "post_id": 55032306, "comment_id": 96817402, "body": "may you add the value you get in ajax success: console.log(data)?"}, {"owner": {"reputation": 73, "user_id": 3003374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dfd36b3cc2fbf5183c7e8e0699f0b4?s=128&d=identicon&r=PG&f=1", "display_name": "user3003374", "link": "https://stackoverflow.com/users/3003374/user3003374"}, "reply_to_user": {"reputation": 39660, "user_id": 3880585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8pfp3.png?s=128&g=1", "display_name": "gaetanoM", "link": "https://stackoverflow.com/users/3880585/gaetanom"}, "edited": false, "score": 0, "creation_date": 1551907963, "post_id": 55032306, "comment_id": 96817512, "body": "Here is what I get (for the first two):     0: call_sign: &quot;KRBC-TV&quot; facility_id: &quot;306&quot; operator: &quot;Nexstar Media Group Inc&quot; owner: &quot;Mission Broadcasting Inc&quot; primary_programming: &quot;NBC&quot; <b>proto</b>: Object 1: call_sign: &quot;KTAB-TV&quot; facility_id: &quot;59988&quot; operator: &quot;Nexstar Media Group Inc&quot; owner: &quot;Nexstar Media Group Inc&quot; primary_programming: &quot;CBS&quot; <b>proto</b>: Object &quot;  As I said, I am able to successfully populate a single dropdown list, so may be something with the way multi-select works."}, {"owner": {"reputation": 39660, "user_id": 3880585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8pfp3.png?s=128&g=1", "display_name": "gaetanoM", "link": "https://stackoverflow.com/users/3880585/gaetanom"}, "edited": false, "score": 0, "creation_date": 1551908115, "post_id": 55032306, "comment_id": 96817575, "body": "Please, stringify:  console.log(JSON.stringify(data));"}, {"owner": {"reputation": 73, "user_id": 3003374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dfd36b3cc2fbf5183c7e8e0699f0b4?s=128&d=identicon&r=PG&f=1", "display_name": "user3003374", "link": "https://stackoverflow.com/users/3003374/user3003374"}, "reply_to_user": {"reputation": 39660, "user_id": 3880585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8pfp3.png?s=128&g=1", "display_name": "gaetanoM", "link": "https://stackoverflow.com/users/3880585/gaetanom"}, "edited": false, "score": 1, "creation_date": 1551908879, "post_id": 55032306, "comment_id": 96817918, "body": "Added to original question the json response"}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 3003374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dfd36b3cc2fbf5183c7e8e0699f0b4?s=128&d=identicon&r=PG&f=1", "display_name": "user3003374", "link": "https://stackoverflow.com/users/3003374/user3003374"}, "edited": false, "score": 0, "creation_date": 1551913824, "post_id": 55032986, "comment_id": 96819782, "body": "Thanks very much for taking the time to respond.  Unfortunately it still does not work even after inserting the two multiselect lines to the suggested locations.  What is stranger is that I copied your example code (with the button below) and even that was not working....even though when I run the snippet on this page it works great.  Any thoughts?"}, {"owner": {"reputation": 73, "user_id": 3003374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dfd36b3cc2fbf5183c7e8e0699f0b4?s=128&d=identicon&r=PG&f=1", "display_name": "user3003374", "link": "https://stackoverflow.com/users/3003374/user3003374"}, "edited": false, "score": 0, "creation_date": 1551914281, "post_id": 55032986, "comment_id": 96819929, "body": "What is also interesting is that my blank drop down list is not rendering the same way as yours.  It shows up as a blank box and the word &quot;None Selected&quot; does not appear.  Could it be related to other bootstrap files that I might have loaded on my server?"}, {"owner": {"reputation": 39660, "user_id": 3880585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8pfp3.png?s=128&g=1", "display_name": "gaetanoM", "link": "https://stackoverflow.com/users/3880585/gaetanom"}, "reply_to_user": {"reputation": 73, "user_id": 3003374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dfd36b3cc2fbf5183c7e8e0699f0b4?s=128&d=identicon&r=PG&f=1", "display_name": "user3003374", "link": "https://stackoverflow.com/users/3003374/user3003374"}, "edited": false, "score": 0, "creation_date": 1551914509, "post_id": 55032986, "comment_id": 96820003, "body": "Take a look to the libs i used in the snippet"}, {"owner": {"reputation": 73, "user_id": 3003374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dfd36b3cc2fbf5183c7e8e0699f0b4?s=128&d=identicon&r=PG&f=1", "display_name": "user3003374", "link": "https://stackoverflow.com/users/3003374/user3003374"}, "edited": false, "score": 0, "creation_date": 1551915750, "post_id": 55032986, "comment_id": 96820318, "body": "Figured it out.  First, on your code, I needed to move the javascript calling the button below the button itself.  In my code, after making your original changes (which solved my original problem), I also had to include the popper library and load that in before bootstrap.min.js.    Thank you very much for all your help."}], "tags": [], "owner": {"reputation": 39660, "user_id": 3880585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8pfp3.png?s=128&g=1", "display_name": "gaetanoM", "link": "https://stackoverflow.com/users/3880585/gaetanom"}, "is_accepted": false, "score": 1, "last_activity_date": 1551910733, "last_edit_date": 1551910733, "creation_date": 1551910241, "answer_id": 55032986, "question_id": 55032306, "link": "https://stackoverflow.com/questions/55032306/my-dropdown-list-using-bootstrap-multiselect-not-populating/55032986#55032986", "title": "My dropdown list using bootstrap multiselect not populating", "body": "<p>In your Participants function you have an ajax call. Because this is an asynchronous call you need to move the destroy and create <strong>multiselect</strong> inside the success fragment:</p>\n\n<pre><code>function Participants(sid){\n     console.log(sid);\n     $('#participants').empty()\n     $('#participants').append(\"&lt;option&gt;Loading......&lt;/option&gt;\");\n     $.ajax({\n         method:\"POST\",\n         url:\"participants_dropdown.php?sid=\"+sid,\n         contentType:\"application/json; charset=utf-8\",\n         dataType:\"json\",\n         success: function(data){\n             console.log('success')\n             $('#participants').multiselect('destroy');\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ HERE\n             $('#participants').empty();\n             $('#participants').append(\"&lt;option value='0'&gt;---Select Participants---&lt;/option&gt;\");\n             $.each(data, function(i, item){\n                 $('#participants').append('&lt;option value=\"'+data[i].facility_id+'\"&gt;Call-Sign: '+data[i].call_sign+' - Operator: '+data[i].operator+' - Primary Programming: '+data[i].primary_programming+'&lt;/option&gt;');\n          });\n             $('#participants').multiselect();\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ HERE\n         },\n         complete: function(){\n         }\n     });\n }\n</code></pre>\n\n<p>The snippet (the button simulates the ajax call): </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('#participants').empty()\r\n$('#participants').append(\"&lt;option&gt;Loading......&lt;/option&gt;\");\r\n$('#participants').multiselect();\r\n\r\n\r\n$('#btn').on('click', function(e) {\r\n    var data = [{\"operator\":\"Nexstar Media Group Inc\",\"owner\":\"Mission Broadcasting Inc\",\"call_sign\":\"KRBC-TV\",\"facility_id\":\"306\",\"primary_programming\":\"NBC\"},{\"operator\":\"Nexstar Media Group Inc\",\"owner\":\"Nexstar Media Group Inc\",\"call_sign\":\"KTAB-TV\",\"facility_id\":\"59988\",\"primary_programming\":\"CBS\"},{\"operator\":\"Prime Time Christian Broadcasting Incorporated\",\"owner\":\"Prime Time Christian Broadcasting Incorporated\",\"call_sign\":\"KPCB-DT\",\"facility_id\":\"77452\",\"primary_programming\":\"REL\"},{\"operator\":\"Sinclair Broadcast Group Inc\",\"owner\":\"Sinclair Broadcast Group Inc\",\"call_sign\":\"KTXS-TV\",\"facility_id\":\"308\",\"primary_programming\":\"ABC\"},{\"operator\":\"TEGNA Inc\",\"owner\":\"TEGNA Inc\",\"call_sign\":\"KXVA\",\"facility_id\":\"62293\",\"primary_programming\":\"FOX\"}];\r\n    $('#participants').multiselect('destroy');\r\n    $('#participants').empty();\r\n    $('#participants').append(\"&lt;option value='0'&gt;---Select Participants---&lt;/option&gt;\");\r\n    $.each(data, function(i, item){\r\n        $('#participants').append('&lt;option value=\"'+data[i].facility_id+'\"&gt;Call-Sign: '+data[i].call_sign+' - Operator: '+data[i].operator+' - Primary Programming: '+data[i].primary_programming+'&lt;/option&gt;');\r\n    });\r\n    $('#participants').multiselect();\r\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n  &lt;link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"&gt;\r\n  &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js\"&gt;&lt;/script&gt;\r\n  &lt;script src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js\"&gt;&lt;/script&gt;\r\n  &lt;link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/0.9.15/css/bootstrap-multiselect.css\"&gt;\r\n  &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/0.9.15/js/bootstrap-multiselect.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div class=\"col-md-4\"&gt;\r\n    &lt;h3&gt;&lt;span&gt;2) Select Market Participants&lt;/span&gt;&lt;/h3&gt;\r\n    &lt;select id=\"participants\" multiple class=\"form-control\"&gt;\r\n    &lt;/select&gt;\r\n    &lt;button id=\"btn\" class=\"btn btn-primary\"&gt;Click Me&lt;/button&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 73, "user_id": 3003374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dfd36b3cc2fbf5183c7e8e0699f0b4?s=128&d=identicon&r=PG&f=1", "display_name": "user3003374", "link": "https://stackoverflow.com/users/3003374/user3003374"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1141, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551910733, "creation_date": 1551907121, "last_edit_date": 1551908750, "question_id": 55032306, "link": "https://stackoverflow.com/questions/55032306/my-dropdown-list-using-bootstrap-multiselect-not-populating", "title": "My dropdown list using bootstrap multiselect not populating", "body": "<p>I am trying to create a multiselect dropdown list using the bootstrap javascript and css files.  Unfortunately, my dynamically created set of options (using AJAX) does not appear to be populating the list.</p>\n\n<p>I know it must be related to the multiselect feature because when I set it up as a single-select dropdown, it works great.</p>\n\n<p>I wonder if it is related to when this function is called.  The list is not called when the document is ready, but rather after the ajax call succeeds. </p>\n\n<p>Here is the code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function Participants(sid){\r\n    console.log(sid);\r\n    $('#participants').empty()\r\n     $('#participants').append(\"&lt;option&gt;Loading......&lt;/option&gt;\");\r\n    $.ajax({ \r\n           method:\"POST\",\r\n           url:\"participants_dropdown.php?sid=\"+sid,\r\n           contentType:\"application/json; charset=utf-8\",\r\n           dataType:\"json\",\r\n           success: function(data){\r\n           console.log('success')\r\n           $('#participants').empty();\r\n           $('#participants').append(\"&lt;option value='0'&gt;---Select Participants---&lt;/option&gt;\");\r\n           $.each(data, function(i, item){\r\n                  $('#participants').append('&lt;option value=\"'+data[i].facility_id+'\"&gt;Call-Sign: '+data[i].call_sign+' - Operator: '+data[i].operator+' - Primary Programming: '+data[i].primary_programming+'&lt;/option&gt;');\r\n                  });\r\n           },\r\n           complete: function(){\r\n           }\r\n           });\r\n    $('#participants').multiselect('destroy');\r\n    $('#participants').multiselect();\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/0.9.15/css/bootstrap-multiselect.css\"&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/0.9.15/js/bootstrap-multiselect.js\"&gt;&lt;/script&gt;\r\n\r\n\r\n\r\n\r\n\r\n&lt;div class=\"col-md-4\"&gt;\r\n&lt;h3&gt;&lt;span&gt;2) Select Market Participants&lt;/span&gt;&lt;/h3&gt;\r\n&lt;select id=\"participants\" multiple class=\"form-control\"&gt;\r\n&lt;/select&gt;\r\n&lt;/div&gt;\r\n\r\n\r\n&lt;!---sample JSON\r\n[{\"operator\":\"Nexstar Media Group Inc\",\"owner\":\"Mission Broadcasting Inc\",\"call_sign\":\"KRBC-TV\",\"facility_id\":\"306\",\"primary_programming\":\"NBC\"},{\"operator\":\"Nexstar Media Group Inc\",\"owner\":\"Nexstar Media Group Inc\",\"call_sign\":\"KTAB-TV\",\"facility_id\":\"59988\",\"primary_programming\":\"CBS\"},{\"operator\":\"Prime Time Christian Broadcasting Incorporated\",\"owner\":\"Prime Time Christian Broadcasting Incorporated\",\"call_sign\":\"KPCB-DT\",\"facility_id\":\"77452\",\"primary_programming\":\"REL\"},{\"operator\":\"Sinclair Broadcast Group Inc\",\"owner\":\"Sinclair Broadcast Group Inc\",\"call_sign\":\"KTXS-TV\",\"facility_id\":\"308\",\"primary_programming\":\"ABC\"},{\"operator\":\"TEGNA Inc\",\"owner\":\"TEGNA Inc\",\"call_sign\":\"KXVA\",\"facility_id\":\"62293\",\"primary_programming\":\"FOX\"}]---&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Any guidance would be appreciated.  I have tried various solutions suggested in similar posts but no luck.</p>\n"}, {"tags": ["javascript", "jquery", "html"], "comments": [{"owner": {"reputation": 724, "user_id": 1485436, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/096a71c02bf489b70eb1353cfaee9eee?s=128&d=identicon&r=PG", "display_name": "CognitiveDesire", "link": "https://stackoverflow.com/users/1485436/cognitivedesire"}, "edited": false, "score": 0, "creation_date": 1551907447, "post_id": 55032299, "comment_id": 96817289, "body": "can you make a fiddle"}, {"owner": {"reputation": 207, "user_id": 6733859, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2048fc721cb766aabe37391ea3c89eb1?s=128&d=identicon&r=PG&f=1", "display_name": "S. Sandeep", "link": "https://stackoverflow.com/users/6733859/s-sandeep"}, "reply_to_user": {"reputation": 724, "user_id": 1485436, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/096a71c02bf489b70eb1353cfaee9eee?s=128&d=identicon&r=PG", "display_name": "CognitiveDesire", "link": "https://stackoverflow.com/users/1485436/cognitivedesire"}, "edited": false, "score": 0, "creation_date": 1551907765, "post_id": 55032299, "comment_id": 96817423, "body": "@CognitiveDesire Here&#39;s fiddle for code 1 <a href=\"https://jsfiddle.net/Ldnjf0by/\" rel=\"nofollow noreferrer\">jsfiddle.net/Ldnjf0by</a>"}, {"owner": {"reputation": 207, "user_id": 6733859, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2048fc721cb766aabe37391ea3c89eb1?s=128&d=identicon&r=PG&f=1", "display_name": "S. Sandeep", "link": "https://stackoverflow.com/users/6733859/s-sandeep"}, "reply_to_user": {"reputation": 724, "user_id": 1485436, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/096a71c02bf489b70eb1353cfaee9eee?s=128&d=identicon&r=PG", "display_name": "CognitiveDesire", "link": "https://stackoverflow.com/users/1485436/cognitivedesire"}, "edited": false, "score": 0, "creation_date": 1551907825, "post_id": 55032299, "comment_id": 96817449, "body": "@CognitiveDesire Here&#39;s the fiddle for code 2 <a href=\"https://jsfiddle.net/Ldnjf0by/1/\" rel=\"nofollow noreferrer\">jsfiddle.net/Ldnjf0by/1</a>"}], "answers": [{"comments": [{"owner": {"reputation": 724, "user_id": 1485436, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/096a71c02bf489b70eb1353cfaee9eee?s=128&d=identicon&r=PG", "display_name": "CognitiveDesire", "link": "https://stackoverflow.com/users/1485436/cognitivedesire"}, "reply_to_user": {"reputation": 207, "user_id": 6733859, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2048fc721cb766aabe37391ea3c89eb1?s=128&d=identicon&r=PG&f=1", "display_name": "S. Sandeep", "link": "https://stackoverflow.com/users/6733859/s-sandeep"}, "edited": false, "score": 0, "creation_date": 1551909181, "post_id": 55032412, "comment_id": 96818051, "body": "@S.Sandeep added new fiddle"}], "tags": [], "owner": {"reputation": 724, "user_id": 1485436, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/096a71c02bf489b70eb1353cfaee9eee?s=128&d=identicon&r=PG", "display_name": "CognitiveDesire", "link": "https://stackoverflow.com/users/1485436/cognitivedesire"}, "is_accepted": false, "score": 0, "last_activity_date": 1551916024, "last_edit_date": 1551916024, "creation_date": 1551907634, "answer_id": 55032412, "question_id": 55032299, "link": "https://stackoverflow.com/questions/55032299/jquery-on-not-invoking-inside-different-div/55032412#55032412", "title": "jQuery.on not invoking inside different div", "body": "<p>remove the onClick from this line, as it is already being implemented in code</p>\n\n<pre><code>&lt;td&gt;&lt;button class='remItem' onclick='remove()'&gt;X&lt;/button&gt;&lt;/td&gt;\n</code></pre>\n\n<p>Also since the td are dynamically added, the event bubbling is not happening properly. Modified the click target to bubble down the event</p>\n\n<p>Fixed check this <a href=\"https://jsfiddle.net/ujf3e42r/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/ujf3e42r/</a></p>\n"}, {"tags": [], "owner": {"reputation": 22747, "user_id": 3385827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7r8VX.png?s=128&g=1", "display_name": "Mohamed-Yousef", "link": "https://stackoverflow.com/users/3385827/mohamed-yousef"}, "is_accepted": true, "score": 2, "last_activity_date": 1551910025, "last_edit_date": 1551910025, "creation_date": 1551909240, "answer_id": 55032765, "question_id": 55032299, "link": "https://stackoverflow.com/questions/55032299/jquery-on-not-invoking-inside-different-div/55032765#55032765", "title": "jQuery.on not invoking inside different div", "body": "<p>The problem in</p>\n\n<pre><code>$('#cart_items').click(function () {\n    return false;       // DO NOTHING WHEN CONTAINER IS CLICKED.\n});\n</code></pre>\n\n<p>This code will <code>return false</code> when the <code>#cart_items</code> clicked before delete button event and this will stop the delete event from trigger .. <sup><strong>[1]</strong></sup> remove the <code>return false</code></p>\n\n<p><sup><strong>[2]</strong></sup> Also instead of <code>$(this).parent().parent().remove();</code> use <code>$(this).closest('tr').remove()</code></p>\n\n<p><sup><strong>Note:</strong> With <code>.remove</code> you'll need a bit of work to check if there's just one item in the list to remove the total row as well</sup></p>\n\n<p><sup>See the</sup> <a href=\"https://jsfiddle.net/u4dbhasf/\" rel=\"nofollow noreferrer\"><strong>fiddle</strong></a></p>\n"}], "owner": {"reputation": 207, "user_id": 6733859, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2048fc721cb766aabe37391ea3c89eb1?s=128&d=identicon&r=PG&f=1", "display_name": "S. Sandeep", "link": "https://stackoverflow.com/users/6733859/s-sandeep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 55032765, "answer_count": 2, "score": 0, "last_activity_date": 1551916024, "creation_date": 1551907101, "last_edit_date": 1551907876, "question_id": 55032299, "link": "https://stackoverflow.com/questions/55032299/jquery-on-not-invoking-inside-different-div", "title": "jQuery.on not invoking inside different div", "body": "<p>When I place the <code>#myCart</code> table inside the body the items are added to the cart and the remove button works as well </p>\n\n<p><a href=\"http://jsfiddle.net/Ldnjf0by\" rel=\"nofollow noreferrer\">jsfiddle.net/Ldnjf0by</a></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"utf-8\"&gt;\n        &lt;title&gt;The Boutique&lt;/title&gt;\n        &lt;link rel=\"icon\" href=\"./img/favicon.png\"&gt;\n        &lt;link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\" integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\" crossorigin=\"anonymous\"&gt;\n        &lt;link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"&gt;\n        &lt;link rel=\"stylesheet\" href=\"./css/index.css\"&gt;\n        &lt;link rel=\"stylesheet\" href=\"./css/layout.css\"&gt;\n        &lt;script type=\"text/javascript\" src=\"./js/jquery-3.3.1.min.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js\" integrity=\"sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n        &lt;link href=\"https://fonts.googleapis.com/css?family=Laila\" rel=\"stylesheet\"&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div class=\"logoRow\"&gt;\n            &lt;div&gt;\n                &lt;img style=\"width: 80px\" src=\"./img/logo.png\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"topSideBar\"&gt;\n                &lt;div&gt;\n                    &lt;ul&gt;\n                        &lt;li&gt;Cart&lt;/li&gt;\n                        &lt;li id=\"cart_container\"&gt;\n                            &lt;div id=\"cart_counter\"&gt;0&lt;/div&gt;\n\n                            &lt;div id=\"cart_button\" class=\"image\"&gt;&lt;/div&gt;\n\n                            &lt;div id=\"cart_items\"&gt;\n                                &lt;h3&gt;Cart&lt;/h3&gt;\n                                &lt;div id=\"cart-container\" style=\"height:300px;\"&gt;\n\n                                &lt;/div&gt;\n                            &lt;/div&gt;\n                        &lt;/li&gt;\n                        &lt;li&gt;&lt;a href=\"#\"&gt;Womens&lt;/a&gt;&lt;/li&gt;\n                        &lt;li&gt;&lt;a href=\"#\"&gt;Mens&lt;/a&gt;&lt;/li&gt;\n                        &lt;li&gt;&lt;a href=\"#\"&gt;Boys&lt;/a&gt;&lt;/li&gt;\n                        &lt;li&gt;&lt;a href=\"#\"&gt;Girls&lt;/a&gt;&lt;/li&gt;\n                        &lt;li&gt;&lt;a href=\"#\"&gt;Sign in&lt;/a&gt;&lt;/li&gt;\n                        &lt;li&gt;&lt;a href=\"#\"&gt;Register&lt;/a&gt;&lt;/li&gt;\n                    &lt;/ul&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div id=\"main-container\"&gt;\n            &lt;div class=\"container\"&gt;\n                &lt;p class=\"item\"&gt;Soccer Ball&lt;/p&gt;\n                &lt;p class=\"price\"&gt;30&lt;/p&gt;\n                Qty &lt;input type=\"number\" class=\"qty\" value=\"1\" min=\"1\"&gt;\n                &lt;button class=\"add\"&gt;Add to cart&lt;/button&gt;\n            &lt;/div&gt;\n            &lt;div class=\"container\"&gt;\n                &lt;p class=\"item\"&gt;Soccer Shoes&lt;/p&gt;\n                &lt;p class=\"price\"&gt;80&lt;/p&gt;\n                Qty &lt;input type=\"number\" class=\"qty\" value=\"1\" min=\"1\"&gt;\n                &lt;button class=\"add\"&gt;Add to cart&lt;/button&gt;\n            &lt;/div&gt;\n            &lt;div class=\"container\"&gt;\n                &lt;p class=\"item\"&gt;Soccer Jersey&lt;/p&gt;\n                &lt;p class=\"price\"&gt;130&lt;/p&gt;\n                Qty &lt;input type=\"number\" class=\"qty\" value=\"1\" min=\"1\"&gt;\n                &lt;button class=\"add\"&gt;Add to cart&lt;/button&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n\n        &lt;table id=\"myCart\" border=\"1\"&gt;\n            &lt;tr&gt;\n                &lt;th&gt;Item Name&lt;/th&gt;\n                &lt;th&gt;Qty&lt;/th&gt;\n                &lt;th&gt;Price&lt;/th&gt;\n                &lt;th&gt;Total&lt;/th&gt;\n                &lt;th&gt;Remove&lt;/th&gt;\n            &lt;/tr&gt;\n            &lt;tr style=\"display: none; border-top: 2px solid black;\"&gt;\n                &lt;td colspan=\"3\"&gt;Subtotal&lt;/td&gt;\n                &lt;td class=\"right subtotal\"&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/table&gt;\n\n        &lt;div class=\"bottomNav\"&gt;\n            &lt;div class=\"bottomNavContents\"&gt;\n                &lt;div&gt;\n                    &lt;a href=\"/\"&gt;Home&lt;/a&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;\n                    &lt;a href=\"/about-kfc.php\"&gt;About KFC&lt;/a&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;\n                    &lt;a href=\"/contact-us.php\"&gt;Contact Us&lt;/a&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;\n                    &lt;a href=\"#\"&gt;Feedback&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;div class=\"socialMediaIcons\"&gt;\n                    &lt;a href=\"#\"&gt;&lt;img style=\"width: 30px; height: 30px;\" src=\"./img/fb-icon.jpg\" alt=\"\"&gt;&lt;/a&gt;\n                    &lt;a href=\"#\"&gt;&lt;img style=\"width: 30px; height: 30px;\" src=\"./img/instagram-icon.png\" alt=\"\"&gt;&lt;/a&gt;\n                    &lt;a href=\"#\"&gt;&lt;img style=\"width: 30px; height: 30px;\" src=\"./img/twitter-icon.png\" alt=\"\"&gt;&lt;/a&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n    &lt;script&gt;\n    $(document).ready(function () {\n\n        // ANIMATEDLY DISPLAY THE NOTIFICATION COUNTER.\n        $('#cart_counter').animate({ top: '-2px', opacity: 1 }, 500);\n\n        $('#cart_button').click(function () {\n\n            // TOGGLE (SHOW OR HIDE) NOTIFICATION WINDOW.\n            $('#cart_items').fadeToggle('fast', 'linear');\n\n            return false;\n        });\n\n        // HIDE cart_items WHEN CLICKED ANYWHERE ON THE PAGE.\n        $(document).click(function () {\n            $('#cart_items').hide();\n        });\n\n        $('#cart_items').click(function () {\n            return false;       // DO NOTHING WHEN CONTAINER IS CLICKED.\n        });\n\n        $('.add').click(function() {\n\n            var itemsNo = parseInt($('.itemsNo').text());\n            itemsNo = itemsNo + 1;\n\n            $('.itemsNo').text(itemsNo);\n\n            $('#myCart tr:last').show();\n\n            var item = $(this).siblings('.item').text();\n            var price = $(this).siblings('.price').text();\n            var qty = $(this).siblings('.qty').val();\n            var total = price * qty;\n\n            // to check if item exists in table\n            if($(\"td:contains('\" + item + \"')\").length &gt; 0) {\n                var lastQty = $(\"td:contains('\" + item + \"')\").next().text();\n\n                var accumQty = parseInt(lastQty) + parseInt(qty);\n\n                $(\"td:contains('\" + item + \"')\").siblings('.qty2').text(accumQty);\n\n                total = price * accumQty;\n\n                $(\"td:contains('\" + item + \"')\").siblings('.total').text(total);\n\n                var sum = 0;\n                $(\".total\").each(function() {\n                    var val = parseInt($(this).text());\n                    sum += val;\n                });\n\n                $(\".subtotal\").text(sum);\n            } else {\n                $(\"#myCart tr:last\").before(\n                        \"&lt;tr&gt;\" +\n                            \"&lt;td class='item_name'&gt;\" + item + \"&lt;/td&gt;\" +\n                            \"&lt;td class='qty2'&gt;\" + qty + \"&lt;/td&gt;\" +\n                            \"&lt;td class='right price2'&gt;&lt;span class='currency'&gt;$ &lt;/span&gt;\" + price + \"&lt;/td&gt;\" +\n                            \"&lt;td class='right total'&gt;\" + total + \"&lt;/td&gt;\" +\n                            \"&lt;td&gt;&lt;button class='remItem' onclick='remove()'&gt;X&lt;/button&gt;&lt;/td&gt;\" +\n                        \"&lt;/td&gt;\"\n                );\n\n                var sum = 0;\n                $(\".total\").each(function() {\n                    var val = parseInt($(this).text());\n                    sum += val;\n                });\n\n                $(\".subtotal\").text(sum);\n            }\n\n            $(this).siblings('.qty').val(1);\n        });\n\n        $(document).on(\"click\", \"button.remItem\" , function() {\n            var totalPrice = parseInt($('.subtotal').text()) - parseInt($(this).parent().siblings('.total').text());\n            $(\".subtotal\").text(totalPrice);\n            $(this).parent().parent().remove();\n        });\n    });\n&lt;/script&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>But when the #myCart table is placed in the #cart-container, the remove button doesn't work. But all add to cart works. What causes this behavior?</p>\n\n<p><a href=\"https://jsfiddle.net/Ldnjf0by/1/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/Ldnjf0by/1/</a></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"utf-8\"&gt;\n        &lt;title&gt;The Boutique&lt;/title&gt;\n        &lt;link rel=\"icon\" href=\"./img/favicon.png\"&gt;\n        &lt;link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\" integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\" crossorigin=\"anonymous\"&gt;\n        &lt;link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"&gt;\n        &lt;link rel=\"stylesheet\" href=\"./css/index.css\"&gt;\n        &lt;link rel=\"stylesheet\" href=\"./css/layout.css\"&gt;\n        &lt;script type=\"text/javascript\" src=\"./js/jquery-3.3.1.min.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js\" integrity=\"sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n        &lt;link href=\"https://fonts.googleapis.com/css?family=Laila\" rel=\"stylesheet\"&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div class=\"logoRow\"&gt;\n            &lt;div&gt;\n                &lt;img style=\"width: 80px\" src=\"./img/logo.png\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"topSideBar\"&gt;\n                &lt;div&gt;\n                    &lt;ul&gt;\n                        &lt;li&gt;Cart&lt;/li&gt;\n                        &lt;li id=\"cart_container\"&gt;\n                            &lt;div id=\"cart_counter\"&gt;0&lt;/div&gt;\n\n                            &lt;div id=\"cart_button\" class=\"image\"&gt;&lt;/div&gt;\n\n                            &lt;div id=\"cart_items\"&gt;\n                                &lt;h3&gt;Cart&lt;/h3&gt;\n                                &lt;div id=\"cart-container\" style=\"height:300px;\"&gt;\n                                    &lt;table id=\"myCart\" border=\"1\"&gt;\n                                        &lt;tr&gt;\n                                            &lt;th&gt;Item Name&lt;/th&gt;\n                                            &lt;th&gt;Qty&lt;/th&gt;\n                                            &lt;th&gt;Price&lt;/th&gt;\n                                            &lt;th&gt;Total&lt;/th&gt;\n                                            &lt;th&gt;Remove&lt;/th&gt;\n                                        &lt;/tr&gt;\n                                        &lt;tr style=\"display: none; border-top: 2px solid black;\"&gt;\n                                            &lt;td colspan=\"3\"&gt;Subtotal&lt;/td&gt;\n                                            &lt;td class=\"right subtotal\"&gt;&lt;/td&gt;\n                                        &lt;/tr&gt;\n                                    &lt;/table&gt;\n                                &lt;/div&gt;\n                            &lt;/div&gt;\n                        &lt;/li&gt;\n                        &lt;li&gt;&lt;a href=\"#\"&gt;Womens&lt;/a&gt;&lt;/li&gt;\n                        &lt;li&gt;&lt;a href=\"#\"&gt;Mens&lt;/a&gt;&lt;/li&gt;\n                        &lt;li&gt;&lt;a href=\"#\"&gt;Boys&lt;/a&gt;&lt;/li&gt;\n                        &lt;li&gt;&lt;a href=\"#\"&gt;Girls&lt;/a&gt;&lt;/li&gt;\n                        &lt;li&gt;&lt;a href=\"#\"&gt;Sign in&lt;/a&gt;&lt;/li&gt;\n                        &lt;li&gt;&lt;a href=\"#\"&gt;Register&lt;/a&gt;&lt;/li&gt;\n                    &lt;/ul&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div id=\"main-container\"&gt;\n            &lt;div class=\"container\"&gt;\n                &lt;p class=\"item\"&gt;Soccer Ball&lt;/p&gt;\n                &lt;p class=\"price\"&gt;30&lt;/p&gt;\n                Qty &lt;input type=\"number\" class=\"qty\" value=\"1\" min=\"1\"&gt;\n                &lt;button class=\"add\"&gt;Add to cart&lt;/button&gt;\n            &lt;/div&gt;\n            &lt;div class=\"container\"&gt;\n                &lt;p class=\"item\"&gt;Soccer Shoes&lt;/p&gt;\n                &lt;p class=\"price\"&gt;80&lt;/p&gt;\n                Qty &lt;input type=\"number\" class=\"qty\" value=\"1\" min=\"1\"&gt;\n                &lt;button class=\"add\"&gt;Add to cart&lt;/button&gt;\n            &lt;/div&gt;\n            &lt;div class=\"container\"&gt;\n                &lt;p class=\"item\"&gt;Soccer Jersey&lt;/p&gt;\n                &lt;p class=\"price\"&gt;130&lt;/p&gt;\n                Qty &lt;input type=\"number\" class=\"qty\" value=\"1\" min=\"1\"&gt;\n                &lt;button class=\"add\"&gt;Add to cart&lt;/button&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n\n\n\n        &lt;div class=\"bottomNav\"&gt;\n            &lt;div class=\"bottomNavContents\"&gt;\n                &lt;div&gt;\n                    &lt;a href=\"/\"&gt;Home&lt;/a&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;\n                    &lt;a href=\"/about-kfc.php\"&gt;About KFC&lt;/a&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;\n                    &lt;a href=\"/contact-us.php\"&gt;Contact Us&lt;/a&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;\n                    &lt;a href=\"#\"&gt;Feedback&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;div class=\"socialMediaIcons\"&gt;\n                    &lt;a href=\"#\"&gt;&lt;img style=\"width: 30px; height: 30px;\" src=\"./img/fb-icon.jpg\" alt=\"\"&gt;&lt;/a&gt;\n                    &lt;a href=\"#\"&gt;&lt;img style=\"width: 30px; height: 30px;\" src=\"./img/instagram-icon.png\" alt=\"\"&gt;&lt;/a&gt;\n                    &lt;a href=\"#\"&gt;&lt;img style=\"width: 30px; height: 30px;\" src=\"./img/twitter-icon.png\" alt=\"\"&gt;&lt;/a&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n    &lt;script&gt;\n    $(document).ready(function () {\n\n        // ANIMATEDLY DISPLAY THE NOTIFICATION COUNTER.\n        $('#cart_counter').animate({ top: '-2px', opacity: 1 }, 500);\n\n        $('#cart_button').click(function () {\n\n            // TOGGLE (SHOW OR HIDE) NOTIFICATION WINDOW.\n            $('#cart_items').fadeToggle('fast', 'linear');\n\n            return false;\n        });\n\n        // HIDE cart_items WHEN CLICKED ANYWHERE ON THE PAGE.\n        $(document).click(function () {\n            $('#cart_items').hide();\n        });\n\n        $('#cart_items').click(function () {\n            return false;       // DO NOTHING WHEN CONTAINER IS CLICKED.\n        });\n\n        $('.add').click(function() {\n\n            var itemsNo = parseInt($('.itemsNo').text());\n            itemsNo = itemsNo + 1;\n\n            $('.itemsNo').text(itemsNo);\n\n            $('#myCart tr:last').show();\n\n            var item = $(this).siblings('.item').text();\n            var price = $(this).siblings('.price').text();\n            var qty = $(this).siblings('.qty').val();\n            var total = price * qty;\n\n            // to check if item exists in table\n            if($(\"td:contains('\" + item + \"')\").length &gt; 0) {\n                var lastQty = $(\"td:contains('\" + item + \"')\").next().text();\n\n                var accumQty = parseInt(lastQty) + parseInt(qty);\n\n                $(\"td:contains('\" + item + \"')\").siblings('.qty2').text(accumQty);\n\n                total = price * accumQty;\n\n                $(\"td:contains('\" + item + \"')\").siblings('.total').text(total);\n\n                var sum = 0;\n                $(\".total\").each(function() {\n                    var val = parseInt($(this).text());\n                    sum += val;\n                });\n\n                $(\".subtotal\").text(sum);\n            } else {\n                $(\"#myCart tr:last\").before(\n                        \"&lt;tr&gt;\" +\n                            \"&lt;td class='item_name'&gt;\" + item + \"&lt;/td&gt;\" +\n                            \"&lt;td class='qty2'&gt;\" + qty + \"&lt;/td&gt;\" +\n                            \"&lt;td class='right price2'&gt;&lt;span class='currency'&gt;$ &lt;/span&gt;\" + price + \"&lt;/td&gt;\" +\n                            \"&lt;td class='right total'&gt;\" + total + \"&lt;/td&gt;\" +\n                            \"&lt;td&gt;&lt;button class='remItem' onclick='remove()'&gt;X&lt;/button&gt;&lt;/td&gt;\" +\n                        \"&lt;/td&gt;\"\n                );\n\n                var sum = 0;\n                $(\".total\").each(function() {\n                    var val = parseInt($(this).text());\n                    sum += val;\n                });\n\n                $(\".subtotal\").text(sum);\n            }\n\n            $(this).siblings('.qty').val(1);\n        });\n\n        $(document).on(\"click\", \"button.remItem\" , function() {\n            var totalPrice = parseInt($('.subtotal').text()) - parseInt($(this).parent().siblings('.total').text());\n            $(\".subtotal\").text(totalPrice);\n            $(this).parent().parent().remove();\n        });\n    });\n&lt;/script&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["javascript", "dom-events"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1551907637, "post_id": 55032297, "comment_id": 96817361, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/1369035/how-do-i-prevent-a-parents-onclick-event-from-firing-when-a-child-anchor-is-cli\">How do I prevent a parent&#39;s onclick event from firing when a child anchor is clicked?</a>"}, {"owner": {"reputation": 751, "user_id": 3502374, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1c6a2169ef6b4b7d9943dd7dd4c596d8?s=128&d=identicon&r=PG&f=1", "display_name": "user3502374", "link": "https://stackoverflow.com/users/3502374/user3502374"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1551922119, "post_id": 55032297, "comment_id": 96821765, "body": "I have clarified that this is a vanilla javascript question"}, {"owner": {"reputation": 751, "user_id": 3502374, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1c6a2169ef6b4b7d9943dd7dd4c596d8?s=128&d=identicon&r=PG&f=1", "display_name": "user3502374", "link": "https://stackoverflow.com/users/3502374/user3502374"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1551929060, "post_id": 55032297, "comment_id": 96823338, "body": "what happened to all that comments that I was reading?? it&#39;s all gone"}], "answers": [{"tags": [], "owner": {"reputation": 26112, "user_id": 8526705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buwQ5.jpg?s=128&g=1", "display_name": "Dacre Denny", "link": "https://stackoverflow.com/users/8526705/dacre-denny"}, "is_accepted": false, "score": 0, "last_activity_date": 1551907341, "creation_date": 1551907341, "answer_id": 55032345, "question_id": 55032297, "link": "https://stackoverflow.com/questions/55032297/how-to-not-fire-its-children-when-parent-is-clicked-vanilla-javascript/55032345#55032345", "title": "how to not fire its children when parent is clicked? (vanilla javascript)", "body": "<p>There are a few ways to achieve this - one approach would be to examine the <code>id</code> attribute of the <code>currentTarget</code> on the event object for the users click action:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const div1 = document.createElement('div');\r\ndiv1.className = 'foo';\r\n\r\nlet mainId = document.getElementById('main');\r\nlet parentId = document.getElementById('parent');\r\n\r\nparentId.addEventListener('click', function(e) {\r\n\r\n  /* Check the id of the currentTarget element to see if it's the \"parent\" */\r\n  if (e.currentTarget.id === 'parent') {\r\n\r\n    /* .. and if so, assing the \"red\" class */\r\n    e.target.className = \"red\";\r\n  } else {\r\n\r\n    /* ..otherwise, stop event propagation and behaviour */\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n  }\r\n\r\n}, false);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.red {\r\n  background: red;\r\n}\r\n\r\n#parent {\r\n  padding: 1rem;\r\n}\r\n\r\n#child1,\r\n#child2,\r\n#child3 {\r\n  background: yellow;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;body&gt;\r\n  &lt;div id=\"main\"&gt;MAIN\r\n    &lt;div id=\"parent\"&gt;parent\r\n      &lt;div id=\"child1\"&gt;child1&lt;/div&gt;\r\n      &lt;div id=\"child2\"&gt;child2&lt;/div&gt;\r\n      &lt;div id=\"child3\"&gt;child3&lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "reply_to_user": {"reputation": 751, "user_id": 3502374, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1c6a2169ef6b4b7d9943dd7dd4c596d8?s=128&d=identicon&r=PG&f=1", "display_name": "user3502374", "link": "https://stackoverflow.com/users/3502374/user3502374"}, "edited": false, "score": 1, "creation_date": 1551924030, "post_id": 55032350, "comment_id": 96822205, "body": "Sure it does: <a href=\"https://jsfiddle.net/9dwzus40/\" rel=\"nofollow noreferrer\">jsfiddle.net/9dwzus40</a> . Click on any child, color doesn&#39;t change. Click on parent, color changes. If that doesn&#39;t do what you want then you have to explain your problem better."}, {"owner": {"reputation": 751, "user_id": 3502374, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1c6a2169ef6b4b7d9943dd7dd4c596d8?s=128&d=identicon&r=PG&f=1", "display_name": "user3502374", "link": "https://stackoverflow.com/users/3502374/user3502374"}, "edited": false, "score": 0, "creation_date": 1551924315, "post_id": 55032350, "comment_id": 96822263, "body": "clarifying my questions now."}, {"owner": {"reputation": 751, "user_id": 3502374, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1c6a2169ef6b4b7d9943dd7dd4c596d8?s=128&d=identicon&r=PG&f=1", "display_name": "user3502374", "link": "https://stackoverflow.com/users/3502374/user3502374"}, "edited": false, "score": 0, "creation_date": 1551924616, "post_id": 55032350, "comment_id": 96822335, "body": "added to main section but here it is:   - when click on parent, only parent should get class &quot;red&quot;. (and not    it&#39;s children).  - When any child is clicked, no parent should be red nor    any other    none clicked child(which was already working)."}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "reply_to_user": {"reputation": 751, "user_id": 3502374, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1c6a2169ef6b4b7d9943dd7dd4c596d8?s=128&d=identicon&r=PG&f=1", "display_name": "user3502374", "link": "https://stackoverflow.com/users/3502374/user3502374"}, "edited": false, "score": 1, "creation_date": 1551924710, "post_id": 55032350, "comment_id": 96822352, "body": "The children are not getting the class (you can inspect the DOM). But e.g. text color applies to all text within an element. That\u2019s not a JavaScript but a CSS question then."}, {"owner": {"reputation": 751, "user_id": 3502374, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1c6a2169ef6b4b7d9943dd7dd4c596d8?s=128&d=identicon&r=PG&f=1", "display_name": "user3502374", "link": "https://stackoverflow.com/users/3502374/user3502374"}, "edited": false, "score": 0, "creation_date": 1551925111, "post_id": 55032350, "comment_id": 96822438, "body": "how can it be css?   my css contains this only  .green {     color: green; }  .red {     color: red; }  div {     font-size:100px; }"}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "reply_to_user": {"reputation": 751, "user_id": 3502374, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1c6a2169ef6b4b7d9943dd7dd4c596d8?s=128&d=identicon&r=PG&f=1", "display_name": "user3502374", "link": "https://stackoverflow.com/users/3502374/user3502374"}, "edited": false, "score": 0, "creation_date": 1551926479, "post_id": 55032350, "comment_id": 96822757, "body": "As I said, <code>color</code> applies to every text node inside an element, not just it child text nodes. It\u2019s how CSS works. Just add <code>class=red</code> manually to the parent element in your HTML and you\u2019ll see."}], "tags": [], "owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "is_accepted": false, "score": 0, "last_activity_date": 1551907376, "creation_date": 1551907376, "answer_id": 55032350, "question_id": 55032297, "link": "https://stackoverflow.com/questions/55032297/how-to-not-fire-its-children-when-parent-is-clicked-vanilla-javascript/55032350#55032350", "title": "how to not fire its children when parent is clicked? (vanilla javascript)", "body": "<p>You can check inside the handler whether the element that triggered the event (the <em>target</em>) is the element the handler is bound to (<code>this</code>):</p>\n\n<pre><code>parentId.addEventListener('click', function(e){\n  if (e.target === this) {\n    e.target.className = \"red\";\n  }\n}, false);\n</code></pre>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Event/target\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Event/target</a></p>\n"}, {"tags": [], "owner": {"reputation": 1139, "user_id": 8687597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f1e0f5be5e0daafeeafc5c1f22dd71f?s=128&d=identicon&r=PG&f=1", "display_name": "displayName", "link": "https://stackoverflow.com/users/8687597/displayname"}, "is_accepted": false, "score": 0, "last_activity_date": 1551907574, "creation_date": 1551907574, "answer_id": 55032394, "question_id": 55032297, "link": "https://stackoverflow.com/questions/55032297/how-to-not-fire-its-children-when-parent-is-clicked-vanilla-javascript/55032394#55032394", "title": "how to not fire its children when parent is clicked? (vanilla javascript)", "body": "<p>You need to stop propagation on children click</p>\n\n<pre><code>&lt;html&gt;\n\n  &lt;head&gt;&lt;/head&gt;\n\n  &lt;body&gt;\n    &lt;div id=\"main\"&gt;MAIN\n      &lt;div id=\"parent\"&gt;parent\n        &lt;div id=\"child1\"&gt;child1&lt;/div&gt;\n        &lt;div id=\"child2\"&gt;child2&lt;/div&gt;\n        &lt;div id=\"child3\"&gt;child3&lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;script&gt;\n      (function() {\n        let parent = document.getElementById('parent');\n        parent.addEventListener('click', function(e) {\n          console.log('parent clicked');\n        }, false);\n        const children = document.querySelectorAll('#parent&gt;div');\n        children.forEach(child =&gt; {\n          child.addEventListener('click', function(e) {\n            console.log('child clicked');\n            e.stopPropagation();\n          })\n        })\n      })()\n\n    &lt;/script&gt;\n  &lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p><a href=\"https://jsfiddle.net/1xnow7jz/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/1xnow7jz/</a></p>\n"}, {"comments": [{"owner": {"reputation": 751, "user_id": 3502374, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1c6a2169ef6b4b7d9943dd7dd4c596d8?s=128&d=identicon&r=PG&f=1", "display_name": "user3502374", "link": "https://stackoverflow.com/users/3502374/user3502374"}, "edited": false, "score": 0, "creation_date": 1551926159, "post_id": 55035136, "comment_id": 96822688, "body": "Ok, so I see your point.. however, when I do this through javascript, children still inherits."}, {"owner": {"reputation": 751, "user_id": 3502374, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1c6a2169ef6b4b7d9943dd7dd4c596d8?s=128&d=identicon&r=PG&f=1", "display_name": "user3502374", "link": "https://stackoverflow.com/users/3502374/user3502374"}, "edited": false, "score": 0, "creation_date": 1551927518, "post_id": 55035136, "comment_id": 96822965, "body": "I am learning so much here.. I continue to look at this right now guys.. thanks for the fantastic points that really points out my completely lack of understanding in css"}, {"owner": {"reputation": 751, "user_id": 3502374, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1c6a2169ef6b4b7d9943dd7dd4c596d8?s=128&d=identicon&r=PG&f=1", "display_name": "user3502374", "link": "https://stackoverflow.com/users/3502374/user3502374"}, "edited": false, "score": 0, "creation_date": 1551928306, "post_id": 55035136, "comment_id": 96823153, "body": "this edited post is what I needed:  when click on parent, only parent should get class &quot;red&quot;. (and not it&#39;s children). When any child is clicked, no parent should be red nor any other none clicked child(which was already working)."}], "tags": [], "owner": {"reputation": 82151, "user_id": 128511, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/KwGaJ.png?s=128&g=1", "display_name": "gman", "link": "https://stackoverflow.com/users/128511/gman"}, "is_accepted": false, "score": 1, "last_activity_date": 1551929097, "last_edit_date": 1551929097, "creation_date": 1551925776, "answer_id": 55035136, "question_id": 55032297, "link": "https://stackoverflow.com/questions/55032297/how-to-not-fire-its-children-when-parent-is-clicked-vanilla-javascript/55035136#55035136", "title": "how to not fire its children when parent is clicked? (vanilla javascript)", "body": "<blockquote>\n  <ul>\n  <li>when click on parent, only parent should get class \"red\". (and not it's children).</li>\n  </ul>\n</blockquote>\n\n<p>The issue here is your CSS style is applying to the children. CSS stands for <strong>Cascading</strong> Style Sheet where \"Cascading\" means \"applies to children\"</p>\n\n<p>After clicking parent you end up with this</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.red {\r\n  color: red;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"main\"&gt;MAIN\r\n    &lt;div id=\"parent\" class=\"red\"&gt;parent\r\n        &lt;div id=\"child1\"&gt;child1&lt;/div&gt;\r\n        &lt;div id=\"child2\"&gt;child2&lt;/div&gt;\r\n        &lt;div id=\"child3\"&gt;child3&lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The fact that the children changed to red has nothing to do with events. It's normal for children to change based on their parent's CSS</p>\n\n<p>If you want to children to not inherit the color of their parent you need to set their color explicitly</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.red {\r\n  color: red;\r\n}\r\n#parent&gt;* {  \r\n  color: black;\r\n}\r\n\r\n/* these would also work\r\n\r\n    div[id^=child]  \r\n    #child1, #child2, #child3\r\n    #parent&gt;div\r\n\r\n*/</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"main\"&gt;MAIN\r\n    &lt;div id=\"parent\" class=\"red\"&gt;parent\r\n        &lt;div id=\"child1\"&gt;child1&lt;/div&gt;\r\n        &lt;div id=\"child2\"&gt;child2&lt;/div&gt;\r\n        &lt;div id=\"child3\"&gt;child3&lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>;\r\n(function() {\r\n\r\n  const parentId = document.getElementById('parent');\r\n\r\n  parentId.addEventListener('click', function(e) {\r\n    e.target.className = \"red\";\r\n  }, false);\r\n})()</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.red {\r\n  color: red;\r\n}\r\n#parent&gt;* {\r\n  color: black;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"main\"&gt;MAIN\r\n  &lt;div id=\"parent\"&gt;parent\r\n    &lt;div id=\"child1\"&gt;child1&lt;/div&gt;\r\n    &lt;div id=\"child2\"&gt;child2&lt;/div&gt;\r\n    &lt;div id=\"child3\"&gt;child3&lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<blockquote>\n  <ul>\n  <li>When any child is clicked, no parent should be red nor any other none clicked child</li>\n  </ul>\n</blockquote>\n\n<p>This is a different issue. When you click any child the event listener will be triggered. <code>e.target</code> will be the element that was actually clicked on so if you clicked a child it will be that child</p>\n\n<p>One way to solve this would be to check the target is the parent.</p>\n\n<pre><code>      const parentId = document.getElementById('parent');\n\n      parentId.addEventListener('click', function(e) {\n        if (e.target === parentId) {\n          e.target.className = \"red\";\n        }\n      }, false);\n</code></pre>\n"}], "owner": {"reputation": 751, "user_id": 3502374, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1c6a2169ef6b4b7d9943dd7dd4c596d8?s=128&d=identicon&r=PG&f=1", "display_name": "user3502374", "link": "https://stackoverflow.com/users/3502374/user3502374"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1551935471, "creation_date": 1551907094, "last_edit_date": 1551935471, "question_id": 55032297, "link": "https://stackoverflow.com/questions/55032297/how-to-not-fire-its-children-when-parent-is-clicked-vanilla-javascript", "title": "how to not fire its children when parent is clicked? (vanilla javascript)", "body": "<p>[Final Edit: I feel compel to response as I learned a LOT from this post(mainly through you guys, and I spend more time understanding CSS.. but at the end, I really don't have any good idea how to make this work.. other than really destroying the basic structure of html.. which I didn't want to do. but I did... (for whatever reason #parent>* { color: black } would not work when I click on child)..</p>\n\n<p>Here's what i did but if you now know what I was trying to do.. please see if you can correct me w/ real answer as I feel like this can't be this hackery to get it going.</p>\n\n<p>CSS</p>\n\n<pre><code>.red {\n    color: red;\n}\n\ndiv[id*=\"child\"] {\n    color: black;\n}\n\ndiv [id*=\"alterChild\"]{\n    color: green;\n</code></pre>\n\n<p>JS</p>\n\n<pre><code>;(function(){\n\n    let parentId = document.getElementById('parent');\n\n    parentId.addEventListener('click', function(e){\n        if (e.target.id === 'parent') {\n            e.target.className = \"red\";\n        } else {\n            e.target.setAttribute(\"id\", \"alterChild\");\n        }\n    },false);\n})(\n</code></pre>\n\n<p>HTML</p>\n\n<pre><code>&lt;div id=\"main\"&gt;MAIN\n    &lt;div id=\"parent\"&gt;parent\n        &lt;div id=\"child1\"&gt;child1&lt;/div&gt;\n        &lt;div id=\"child2\"&gt;child2&lt;/div&gt;\n        &lt;div id=\"child3\"&gt;child3&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div\n</code></pre>\n\n<p>__________END OF FINAL EDIT___________</p>\n\n<p>So I want to fire only on parent when parent is clicked. Below code, it fires on parent + all its children. How can I prevent this? I try w/ stop/prevent both before and after to see if I have any luck.</p>\n\n<p>Please advise.</p>\n\n<ul>\n<li>when click on parent, only parent should get class \"red\". (and not\nit's children).</li>\n<li>When any child is clicked, no parent should be red nor    any other\nnone clicked child(which was already working).</li>\n</ul>\n\n<pre><code>        &lt;div id=\"main\"&gt;MAIN\n            &lt;div id=\"parent\"&gt;parent\n                &lt;div id=\"child1\"&gt;child1&lt;/div&gt;\n                &lt;div id=\"child2\"&gt;child2&lt;/div&gt;\n                &lt;div id=\"child3\"&gt;child3&lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n      ;(function(){\n\n        let parentId = document.getElementById('parent');\n\n        parentId.addEventListener('click', function(e){\n            e.stopPropagation();\n            e.preventDefault();\n            e.target.className = \"red\";\n            e.stopPropagation();\n            e.preventDefault();\n\n        },false);\n    })()\n\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "closures"], "comments": [{"owner": {"reputation": 5106, "user_id": 2430414, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/s2BPf.jpg?s=128&g=1", "display_name": "Blundering Philosopher", "link": "https://stackoverflow.com/users/2430414/blundering-philosopher"}, "edited": false, "score": 0, "creation_date": 1551907333, "post_id": 55032296, "comment_id": 96817246, "body": "How are you changing the prop <code>user</code>?"}, {"owner": {"reputation": 27, "user_id": 9933341, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "li zixiang", "link": "https://stackoverflow.com/users/9933341/li-zixiang"}, "reply_to_user": {"reputation": 5106, "user_id": 2430414, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/s2BPf.jpg?s=128&g=1", "display_name": "Blundering Philosopher", "link": "https://stackoverflow.com/users/2430414/blundering-philosopher"}, "edited": false, "score": 0, "creation_date": 1551933544, "post_id": 55032296, "comment_id": 96824341, "body": "@Blundering Philosopher, <code>user</code> is changed in the parent component, but I think it is not related to this question, so I leave it aside."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 9933341, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "li zixiang", "link": "https://stackoverflow.com/users/9933341/li-zixiang"}, "edited": false, "score": 0, "creation_date": 1551933324, "post_id": 55032882, "comment_id": 96824268, "body": "Hi, @estus, thanks for explanation. what confuses me is that <code>props</code> just a local valuable in a method, how React can make it immutable when <code>this.props</code> is mutable? And how can we simulate this in a plain js/ts program without React?"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 27, "user_id": 9933341, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "li zixiang", "link": "https://stackoverflow.com/users/9933341/li-zixiang"}, "edited": false, "score": 0, "creation_date": 1551952690, "post_id": 55032882, "comment_id": 96832685, "body": "<code>this.props</code> is not mutable. This is guaranteed with Object.freeze in development mode. Each time props are received, new props object is assigned, <code>componentInstance.props = Object.freeze({ ... })</code>. You kept a reference to old props object with <code>const props = this.props</code>. You can check that it was changed inside timeout callback, <code>console.log(props !== this.props)</code>."}, {"owner": {"reputation": 27, "user_id": 9933341, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "li zixiang", "link": "https://stackoverflow.com/users/9933341/li-zixiang"}, "edited": false, "score": 0, "creation_date": 1551967682, "post_id": 55032882, "comment_id": 96841878, "body": "Thanks, now I figure it out what&#39;s going on"}], "tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 0, "last_activity_date": 1551909804, "creation_date": 1551909804, "answer_id": 55032882, "question_id": 55032296, "link": "https://stackoverflow.com/questions/55032296/how-does-react-capture-the-props-with-const-props-this-props/55032882#55032882", "title": "How does React capture the props with `const props = this.props`", "body": "<p><code>props</code> object is immutable, <code>this.props</code> reference may change with time in case new props are received.</p>\n\n<p>It should be:</p>\n\n<pre><code>  handleClick = () =&gt; {\n    setTimeout(() =&gt; {\n      const { props } = this;\n      this.showMessage(props.user);\n    }, 3000);\n  };\n</code></pre>\n\n<p>Also, timeouts should be tracked to be cancelled at component unmount in order to prevent leaks and exceptions.</p>\n"}], "owner": {"reputation": 27, "user_id": 9933341, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "li zixiang", "link": "https://stackoverflow.com/users/9933341/li-zixiang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 166, "favorite_count": 0, "accepted_answer_id": 55032882, "answer_count": 1, "score": 0, "last_activity_date": 1551909804, "creation_date": 1551907092, "question_id": 55032296, "link": "https://stackoverflow.com/questions/55032296/how-does-react-capture-the-props-with-const-props-this-props", "title": "How does React capture the props with `const props = this.props`", "body": "<p>I read the <a href=\"https://overreacted.io/how-are-function-components-different-from-classes/\" rel=\"nofollow noreferrer\">article</a> written by Dan. In the example below</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class ProfilePage extends React.Component {\n  showMessage = (user) =&gt; {\n    alert('Followed ' + user);\n  };\n\n  handleClick = () =&gt; {\n    const props = this.props;\n    setTimeout(() =&gt; this.showMessage(props.user), 3000);\n  };\n\n  render() {\n    return &lt;button onClick={this.handleClick}&gt;Follow&lt;/button&gt;;\n  }\n}\n</code></pre>\n\n<p>Why <code>props</code> does not change when <code>this.props</code> changed, since both point to the same reference?</p>\n"}, {"tags": ["javascript", "angular", "highcharts"], "answers": [{"tags": [], "owner": {"reputation": 8390, "user_id": 1404049, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vkpuK.png?s=128&g=1", "display_name": "Fallenreaper", "link": "https://stackoverflow.com/users/1404049/fallenreaper"}, "is_accepted": true, "score": 0, "last_activity_date": 1551910282, "creation_date": 1551910282, "answer_id": 55032994, "question_id": 55032261, "link": "https://stackoverflow.com/questions/55032261/i-change-the-min-and-max-of-the-xaxis-but-how-to-i-change-the-navigator/55032994#55032994", "title": "I change the min and max of the xaxis, but how to i change the &#39;navigator&#39;?", "body": "<p>2 Fold answer.</p>\n\n<p>First of all, you need to use the setExtremes function and not explicitly set the min and max.  You should have a variable referencing highcharts.</p>\n\n<pre><code>highcharts = Highcharts;\n</code></pre>\n\n<p>for example in your component.  The next thing you need to is call:</p>\n\n<pre><code>this.highcharts.charts[0].xAxis[0].setExtremes(fromTime * 1000, toTime * 1000);\n</code></pre>\n\n<p>but there is also 1 other issue.  First of all, this is with the expectation that you are only rendering 1 chart at a time, as this monitors all charts in memory.  I have 5, so you need to make sure you have the right one.</p>\n\n<p>To do this, you need to assign a unique identifier to the chart.</p>\n\n<pre><code>private _guid: Guid\nchartOptions :any = {}\n\nconstructor(){ \n  this._guid = Guid.newGuid(); \n  this.chartOptions.guid = this._guid;\n}\n</code></pre>\n\n<p>Now, you may think, Guid isnt a thing. You are correct.  You would want to implement that.  I would search Stack overflow for a good implementation.</p>\n\n<p>Now that you have a guid for your chart.</p>\n\n<pre><code>getChart() =&gt; this.highcharts.filter( chart =&gt; chart[\"userOptions\"].guid == this._guid)[0];\n</code></pre>\n\n<p>and now you have the correct chart.</p>\n\n<p>You can then change your variables as needed.</p>\n\n<pre><code>getChart().xAxis[0].setExtremes(a,b);\n</code></pre>\n\n<p>It will all come together as such:</p>\n\n<pre><code>export class testComponnt implemented OnInit {\n  chartOptions = {};  //StockChart specific options.\n  private _guid: Guid;\n  highcharts = Highcharts;\n  getChart() =&gt; this.highcharts.charts.filter( chart =&gt; chart[\"userOptions\"].guid == this._guid)[0];\n  constructor(){\n    this._guid = Guid.newGuid();\n    this.chartOptions.guid = this._guid;\n  }\n\n  updateData() {\n    let chart = getChart();\n    if (!chart) return;\n    chart.xAxis[0].setExtremes( fromTime * 1000, toTime * 1000 );\n    this.chartOptions.series = [];\n    //  data manipulation here.\n    this.update = true;\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 8390, "user_id": 1404049, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vkpuK.png?s=128&g=1", "display_name": "Fallenreaper", "link": "https://stackoverflow.com/users/1404049/fallenreaper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 328, "favorite_count": 0, "accepted_answer_id": 55032994, "answer_count": 1, "score": 0, "last_activity_date": 1551910282, "creation_date": 1551906932, "last_edit_date": 1551908259, "question_id": 55032261, "link": "https://stackoverflow.com/questions/55032261/i-change-the-min-and-max-of-the-xaxis-but-how-to-i-change-the-navigator", "title": "I change the min and max of the xaxis, but how to i change the &#39;navigator&#39;?", "body": "<p>I am leveraging Highcharts' HighStock \"chart\" to display some information.\nI update a my series, and update the xAxis min and max value, but it seems that the scope remains for the navigator.</p>\n\n<p>I was looking through the documentation and didnt see a means in which to reset the slider to whatever the min-max are?</p>\n\n<pre><code>this.chartOptions.xAxis[0].min = fromTime * 1000;\nthis.chartOptions.xAxis[0].max = toTime * 1000;\nthis.chartOptions.series = [];\n/// ...\n/// gets data set.\n/// ...\nthis.update = true;\n</code></pre>\n\n<p>This sets the ranges, where fromtime and totime are datetimes, but to the second, so i needed to adjust accordingly.  I didnt see any other key properties which made immediately recognize the xAxis' slide bar scope/zoom.</p>\n\n<p>When i was looking up the navigator information, I was noticing that the default of it should be <code>adaptToUpdatedData: true</code>.  It seems that each time after the second will not update the navigator though. Not sure why it allows 1 resize to be correct, but subsequent are not resolved.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 39296, "user_id": 560299, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c38fe465734e8428048585e0acf6174f?s=128&d=identicon&r=PG", "display_name": "Ibu", "link": "https://stackoverflow.com/users/560299/ibu"}, "edited": false, "score": 0, "creation_date": 1551906840, "post_id": 55032165, "comment_id": 96817048, "body": "n1 is both a parameter and a declared variable."}], "answers": [{"tags": [], "owner": {"reputation": 56, "user_id": 9051607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f2c6dc9acaccfde0b0df2d2d8837444?s=128&d=identicon&r=PG&f=1", "display_name": "balzee", "link": "https://stackoverflow.com/users/9051607/balzee"}, "is_accepted": false, "score": 1, "last_activity_date": 1551906765, "creation_date": 1551906765, "answer_id": 55032226, "question_id": 55032165, "link": "https://stackoverflow.com/questions/55032165/trying-to-make-a-learning-to-multiply/55032226#55032226", "title": "Trying to make a learning to multiply", "body": "<p>Your call to the function does not pass any arguments</p>\n"}, {"tags": [], "owner": {"reputation": 10398, "user_id": 4398966, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Md0LP.jpg?s=128&g=1", "display_name": "DCR", "link": "https://stackoverflow.com/users/4398966/dcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1551906947, "creation_date": 1551906947, "answer_id": 55032266, "question_id": 55032165, "link": "https://stackoverflow.com/questions/55032165/trying-to-make-a-learning-to-multiply/55032266#55032266", "title": "Trying to make a learning to multiply", "body": "<p>your function fn1() takes no arguements</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    var firstArray = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\r\n    var secondArray = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\r\n\r\n    var first= firstArray[Math.floor(Math.random() * firstArray.length)];\r\n    var second= secondArray[Math.floor(Math.random() * secondArray.length)];\r\n\r\n    var sum = firstArray[first- 1] * secondArray[second - 1];\r\n\r\n    function fn1() {\r\n\r\n        var n1 = document.getElementById(\"n1\").value;\r\n        if (sum &lt; n1) {\r\n            document.getElementById(\"pp\").style.background = \"green\";\r\n        } else if (sum &gt; n1) {\r\n            document.getElementById(\"p\").style.background = \"red\";\r\n        } else {\r\n            document.getElementById(\"p\").style.background = \"blue\";\r\n            document.getElementById(\"pp\").style.background = \"blue\";\r\n        }\r\n    };\r\n\r\n    document.getElementById(\"p\").innerHTML = first;\r\n    document.getElementById(\"pp\").innerHTML = second;\r\n\r\n    document.getElementById(\"a\").innerHTML = first;\r\n    document.getElementById(\"b\").innerHTML = second;\r\n    document.getElementById(\"sum\").innerHTML = sum;</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;h1&gt;Learn to Multiply&lt;/h1&gt;\r\n\r\n&lt;h1&gt; &lt;a id=\"a\"&gt;&lt;/a&gt; * &lt;a id=\"b\"&gt;&lt;/a&gt; = &lt;input type=\"text\" id=\"n1\" name=\"txt\"&gt;&lt;/h1&gt;\r\n\r\n&lt;button onclick=\"fn1()\" id=\"btn1\"&gt;Clcik me&lt;/button&gt;\r\n\r\n&lt;p id=\"p\"&gt;&lt;/p&gt;\r\n&lt;p id=\"pp\"&gt;&lt;/p&gt;\r\n&lt;p id=\"sum\"&gt;&lt;/p&gt;\r\n&lt;p id=\"test\"&gt;&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 972, "user_id": 404018, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/83a867bce6d14526561a6fba1d365008?s=128&d=identicon&r=PG", "display_name": "Charles Cavalcante", "link": "https://stackoverflow.com/users/404018/charles-cavalcante"}, "is_accepted": false, "score": 0, "last_activity_date": 1551906972, "creation_date": 1551906972, "answer_id": 55032272, "question_id": 55032165, "link": "https://stackoverflow.com/questions/55032165/trying-to-make-a-learning-to-multiply/55032272#55032272", "title": "Trying to make a learning to multiply", "body": "<p>Change to this:</p>\n\n<pre><code>// first remove the parameters\nfunction fn1() { \n  var n1 = document.getElementById(\"n1\").value;\n  // I think you want green when is equal\n  if (sum == n1) {\n    document.getElementById(\"pp\").style.background = \"green\";\n  } else if (sum &gt; n1) {\n    document.getElementById(\"p\").style.background = \"red\";\n  } else {\n    document.getElementById(\"p\").style.background = \"blue\";\n    document.getElementById(\"pp\").style.background = \"blue\";\n  }\n};\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11162119, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5sc-SHQPjj0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdMP6hV6jU_z1Wl0dBWe-i-xSXx-w/mo/photo.jpg?sz=128", "display_name": "Vytautas Vasiliauskas", "link": "https://stackoverflow.com/users/11162119/vytautas-vasiliauskas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1551906972, "creation_date": 1551906513, "last_edit_date": 1551906696, "question_id": 55032165, "link": "https://stackoverflow.com/questions/55032165/trying-to-make-a-learning-to-multiply", "title": "Trying to make a learning to multiply", "body": "<p>The problem is that when I put in the correct answer the text does not change to green and when it is incorrect it does not change to red. I think there is a problem that I don't get the input value but can find the fix for it.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var firstArray = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\r\nvar secondArray = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\r\n\r\nvar first = firstArray[Math.floor(Math.random() * firstArray.length)];\r\nvar second = secondArray[Math.floor(Math.random() * secondArray.length)];\r\n\r\nvar sum = firstArray[first - 1] * secondArray[second - 1];\r\n\r\nfunction fn1(sum, n1) {\r\n\r\n  var n1 = document.getElementById(\"n1\").value;\r\n  if (sum &lt; n1) {\r\n    document.getElementById(\"pp\").style.background = \"green\";\r\n  } else if (sum &gt; n1) {\r\n    document.getElementById(\"p\").style.background = \"red\";\r\n  } else {\r\n    document.getElementById(\"p\").style.background = \"blue\";\r\n    document.getElementById(\"pp\").style.background = \"blue\";\r\n  }\r\n};\r\n\r\ndocument.getElementById(\"p\").innerHTML = first;\r\ndocument.getElementById(\"pp\").innerHTML = second;\r\n\r\ndocument.getElementById(\"a\").innerHTML = first;\r\ndocument.getElementById(\"b\").innerHTML = second;\r\ndocument.getElementById(\"sum\").innerHTML = sum;</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;h1&gt;\r\n  &lt;a id=\"a\"&gt;&lt;/a&gt; *\r\n  &lt;a id=\"b\"&gt;&lt;/a&gt; = &lt;input type=\"text\" id=\"n1\" name=\"txt\"&gt;&lt;/h1&gt;\r\n\r\n&lt;button onclick=\"fn1()\" id=\"btn1\"&gt;Clcik me&lt;/button&gt;\r\n\r\n&lt;p id=\"p\"&gt;&lt;/p&gt;\r\n&lt;p id=\"pp\"&gt;&lt;/p&gt;\r\n&lt;p id=\"sum\"&gt;&lt;/p&gt;\r\n&lt;p id=\"test\"&gt;&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "node.js", "writefile"], "comments": [{"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1551906636, "post_id": 55032161, "comment_id": 96816957, "body": "Can you give a concrete example of the <code>sample.html</code> and the expected output from it?"}, {"owner": {"reputation": 134, "user_id": 10650751, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bPqT8HvAYdM/AAAAAAAAAAI/AAAAAAAAAD0/g8syggHxiPM/photo.jpg?sz=128", "display_name": "Mohammed Salah", "link": "https://stackoverflow.com/users/10650751/mohammed-salah"}, "edited": false, "score": 0, "creation_date": 1551906733, "post_id": 55032161, "comment_id": 96816997, "body": "The problem here because you are overriding the result  Second line should be <b>result = result.replace</b>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11162092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74d3ecec6f9f6d204b59f51ac853fc32?s=128&d=identicon&r=PG&f=1", "display_name": "WForbis", "link": "https://stackoverflow.com/users/11162092/wforbis"}, "edited": false, "score": 0, "creation_date": 1551992037, "post_id": 55032264, "comment_id": 96855105, "body": "Awesome! So is this line: result = result.replace(/&lt;title&gt;(.*)&lt;\\/title&gt;/g, &#39;&lt;title&gt;&#39; + title1 + &#39;&lt;/title&gt;&#39;); basically saying &quot;set result to be the previously set contents (e.g. the replacement of the div tag) plus this new content (e.g. the replacement of the div tag)?"}, {"owner": {"reputation": 305, "user_id": 1404075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18bf929217b8f3fb8226d16fb5b8aa31?s=128&d=identicon&r=PG", "display_name": "Stefano Mozart", "link": "https://stackoverflow.com/users/1404075/stefano-mozart"}, "reply_to_user": {"reputation": 1, "user_id": 11162092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74d3ecec6f9f6d204b59f51ac853fc32?s=128&d=identicon&r=PG&f=1", "display_name": "WForbis", "link": "https://stackoverflow.com/users/11162092/wforbis"}, "edited": false, "score": 0, "creation_date": 1552329061, "post_id": 55032264, "comment_id": 96959377, "body": "@WForbis Yes. Exactly."}], "tags": [], "owner": {"reputation": 305, "user_id": 1404075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18bf929217b8f3fb8226d16fb5b8aa31?s=128&d=identicon&r=PG", "display_name": "Stefano Mozart", "link": "https://stackoverflow.com/users/1404075/stefano-mozart"}, "is_accepted": false, "score": 3, "last_activity_date": 1551906939, "creation_date": 1551906939, "answer_id": 55032264, "question_id": 55032161, "link": "https://stackoverflow.com/questions/55032161/using-node-js-to-replace-multiple-strings-in-a-html-file/55032264#55032264", "title": "Using node js to replace multiple strings in a html file", "body": "<p>You are \"creating\" variable <strong>result</strong> twice, and attributing the replacement over <strong>data</strong> twice. So, in the second attribution you loose the replacement done before. Try this:</p>\n\n<pre><code>fs.readFile('sample.html', 'utf8', function (err,data) {\n  if (err) {\n    return console.log(err);\n  }\n\n  var title1 = \"boogers\"\n  var text1 = \"ronald mcdonald\";\n\n  var result = data.replace(/&lt;div id=\"text1\"&gt;(.*)&lt;\\/div&gt;/g, '&lt;div id=\"text1\"&gt;' + text1 + '&lt;/div&gt;'); \n  result = result.replace(/&lt;title&gt;(.*)&lt;\\/title&gt;/g, '&lt;title&gt;' + title1 + '&lt;/title&gt;'); \n    fs.writeFile('sample.html', result, 'utf8', function (err) {\n     if (err) return console.log(err);\n  }); \n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 65, "user_id": 7761795, "user_type": "registered", "profile_image": "https://graph.facebook.com/1340339526055841/picture?type=large", "display_name": "ammasum", "link": "https://stackoverflow.com/users/7761795/ammasum"}, "is_accepted": false, "score": 0, "last_activity_date": 1551907352, "creation_date": 1551907352, "answer_id": 55032347, "question_id": 55032161, "link": "https://stackoverflow.com/questions/55032161/using-node-js-to-replace-multiple-strings-in-a-html-file/55032347#55032347", "title": "Using node js to replace multiple strings in a html file", "body": "<p>Simply use \"//g\" global method </p>\n\n<pre><code>var str = \"aaabbcccasbbbb\"; //main string\nvar repStr = \"ss\";  //replace string\nvar result = str.replace(/[ab]/g, repStr);  //result\nconsole.log(result);\n</code></pre>\n\n<p>Result will be: sssssssssscccsssssssssss</p>\n"}], "owner": {"reputation": 1, "user_id": 11162092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74d3ecec6f9f6d204b59f51ac853fc32?s=128&d=identicon&r=PG&f=1", "display_name": "WForbis", "link": "https://stackoverflow.com/users/11162092/wforbis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1191, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551907352, "creation_date": 1551906505, "question_id": 55032161, "link": "https://stackoverflow.com/questions/55032161/using-node-js-to-replace-multiple-strings-in-a-html-file", "title": "Using node js to replace multiple strings in a html file", "body": "<p>I'm trying to create a tool that will allow me to quickly update several text strings in an html file. I'm doing this by searching for the contents of tags with specific ids and then replacing their text content. I've got much of it working but I'm not sure how to enable this to write multiple replacements into the file. As it is, it's simply running only the last of my replacements.</p>\n\n<p>Here's what I have:</p>\n\n<pre><code>var fs = require('fs')\nfs.readFile('sample.html', 'utf8', function (err,data) {\n  if (err) {\n    return console.log(err);\n  }\n\n  var title1 = \"boogers\"\n  var text1 = \"ronald mcdonald\";\n\n  var result = data.replace(/&lt;div id=\"text1\"&gt;(.*)&lt;\\/div&gt;/g, '&lt;div id=\"text1\"&gt;' + text1 + '&lt;/div&gt;'); \n  var result = data.replace(/&lt;title&gt;(.*)&lt;\\/title&gt;/g, '&lt;title&gt;' + title1 + '&lt;/title&gt;'); \n    fs.writeFile('sample.html', result, 'utf8', function (err) {\n     if (err) return console.log(err);\n  }); \n});\n</code></pre>\n\n<p>In the code above, it will replace the title's content but not the div tag's. I imagine this is a pretty basic fix but I'm new to node js and javascript. Thanks for any help.</p>\n"}, {"tags": ["javascript", "css", "npm", "gulp"], "answers": [{"tags": [], "owner": {"reputation": 1040, "user_id": 1581171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/47dNW.jpg?s=128&g=1", "display_name": "abadalyan", "link": "https://stackoverflow.com/users/1581171/abadalyan"}, "is_accepted": true, "score": 2, "last_activity_date": 1551912548, "last_edit_date": 1551912548, "creation_date": 1551911182, "answer_id": 55033159, "question_id": 55032147, "link": "https://stackoverflow.com/questions/55032147/convert-gulp-watch-in-gulp3-9-1-to-gulp4/55033159#55033159", "title": "Convert gulp watch in gulp@3.9.1 to gulp@4", "body": "<p>I would recommend converting your <code>minify-js</code>, <code>minify-css</code>, <code>clean-scripts</code> and <code>clean-css</code> tasks to functions:</p>\n\n<pre><code>var dest = {\n  js: 'js/dest/some-dir/**/*.js',\n  css: 'css/dest/some-dir/**/*.css'\n};\n\nfunction cleanCss() {\n  return gulp.src(dest.css)\n             .pipe(clean({read:false, force: true});\n});\n\nfunction minifyCss() {\n  return gulp.src(src.css)\n             .pipe(cssmin())\n             .pipe(gulp.dest(dest.css));\n});\n\nfunction cleanScripts() {\n  return gulp.src(dest.js)\n             .pipe(clean({read:false, force: true});\n});\n\nfunction minifyJs() {\n   return gulp.src(src.js)\n       .pipe(uglify())\n       .pipe(gulp.dest(dest.js));\n});\n\nvar minifyJsAndClean = gulp.series(minifyJs, cleanScripts);\nvar minifyCssAndClean = gulp.series(minifyCss, cleanCss);\nvar watchers = function (done) {\n   gulp.watch(src.js, minifyJs);\n   gulp.watch(src.css, minifyCss);\n   done();\n}\n\ngulp.task('watch', gulp.series(minifyJsAndClean, minifyCssAndClean, watchers));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1903, "user_id": 1076613, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/733e941a3bd99276f95aa17d9c8bab28?s=128&d=identicon&r=PG", "display_name": "AndyWarren", "link": "https://stackoverflow.com/users/1076613/andywarren"}, "is_accepted": false, "score": 1, "last_activity_date": 1551911690, "creation_date": 1551911690, "answer_id": 55033283, "question_id": 55032147, "link": "https://stackoverflow.com/questions/55032147/convert-gulp-watch-in-gulp3-9-1-to-gulp4/55033283#55033283", "title": "Convert gulp watch in gulp@3.9.1 to gulp@4", "body": "<p>I just ran into this a couple days ago myself. What worked for me was to run each task in its own <code>gulp.watch()</code> with the <code>gulp.series()</code> on the watch task call instead of the watch task itself. For example:</p>\n\n<pre><code>gulp.task('watch', function() {\n  gulp.watch(src.js, gulp.series('minify-js'));\n  gulp.watch(src.css, gulp.series('minify-css'));\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 603, "user_id": 2951257, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/02d13badfd6c4f66173613ebd2338722?s=128&d=identicon&r=PG&f=1", "display_name": "usernameabc", "link": "https://stackoverflow.com/users/2951257/usernameabc"}, "edited": false, "score": 0, "creation_date": 1551921648, "post_id": 55033313, "comment_id": 96821667, "body": "moving to the <code>named function</code> implementation solved the issue."}], "tags": [], "owner": {"reputation": 60165, "user_id": 836330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47fd5f542a64b8b2dac00112a4829de8?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/836330/mark"}, "is_accepted": false, "score": 3, "last_activity_date": 1551912831, "last_edit_date": 1551912831, "creation_date": 1551911881, "answer_id": 55033313, "question_id": 55032147, "link": "https://stackoverflow.com/questions/55032147/convert-gulp-watch-in-gulp3-9-1-to-gulp4/55033313#55033313", "title": "Convert gulp watch in gulp@3.9.1 to gulp@4", "body": "<pre><code>gulp.task('minify-css', gulp.series('clean-css', function() {\n  return gulp.src(src.css)\n    .pipe(cssmin())\n    .pipe(gulp.dest(dest.css));\n}));\n\ngulp.task('minify-js', gulp.series('clean-scripts', function() {\n   return gulp.src(src.js)\n       .pipe(uglify())\n       .pipe(gulp.dest(dest.js));\n}));\n\ngulp.task('watch', gulp.series('minify-js', 'minify-css', function() {\n  gulp.watch(src.js, gulp.series('minify-js'));\n  gulp.watch(src.css, gulp.series('minify-css'));\n}));\n</code></pre>\n\n<p>As @Abdaylan suggested, I also advocate switching to functions.  Nevertheless, so you can see where your code was wrong, I have fixed it here.  Gulp 4 does <strong>not</strong> use this syntax:</p>\n\n<pre><code>gulp.task('someTask', ['task1', 'task2'], function () {});  // gulp 3\n</code></pre>\n\n<p>Gulp 4:</p>\n\n<pre><code>gulp.task('someTask', gulp.series('task1', 'task2', function () {}));  // gulp 4 with string tasks\n</code></pre>\n\n<p>or <code>gulp.parallel</code>.  So you can use your <code>gulp.task</code> syntax (rather than named functions) if you modify them to use the signatures that gulp 4 supports as I did in your modified code at the top of this answer.</p>\n\n<p>Gulp 4 with named functions:</p>\n\n<pre><code>gulp.task(someTask, gulp.series(task1, task2, function () {}));  // gulp 4 with named functions\n</code></pre>\n\n<p>So with named functions, the tasks are not referred to as strings.</p>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/50505275/gulp4-assertionerror-task-never-defined-when-calling-or-importing-tasks/54939126#54939126\">task never defined</a> for other potential problems when migrating from gulp3 to gulp4 with the same error message.</p>\n"}], "owner": {"reputation": 603, "user_id": 2951257, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/02d13badfd6c4f66173613ebd2338722?s=128&d=identicon&r=PG&f=1", "display_name": "usernameabc", "link": "https://stackoverflow.com/users/2951257/usernameabc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2119, "favorite_count": 3, "accepted_answer_id": 55033159, "answer_count": 3, "score": 1, "last_activity_date": 1551912831, "creation_date": 1551906437, "last_edit_date": 1551912007, "question_id": 55032147, "link": "https://stackoverflow.com/questions/55032147/convert-gulp-watch-in-gulp3-9-1-to-gulp4", "title": "Convert gulp watch in gulp@3.9.1 to gulp@4", "body": "<p>We are switching from <code>gulp@3.9.1</code> to <code>gulp@4</code> and are having trouble switching over. When we run <code>gulp watch</code>, we are getting the following errors and trying to figure out how to resolve it. </p>\n\n<p><strong>What is the proper way to convert the <code>gulp watch</code> task to work with <code>gulp@4</code>?</strong></p>\n\n<p><strong>Error message</strong></p>\n\n<blockquote>\n  <p>AssertionError [ERR_ASSERTION]: Task never defined: <code>minify-css</code></p>\n</blockquote>\n\n<p><strong>Command: <code>gulp watch</code></strong></p>\n\n<ul>\n<li>This should run <code>minify-js</code> then <code>minify-css</code> in order</li>\n<li><code>minify-js</code> should run after <code>clean-scripts</code> has completed successfully</li>\n<li><code>minify-css</code> should run after <code>clean-css</code> has completed successfully</li>\n</ul>\n\n<p><strong>Current tasks.</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var gulp = require('gulp'),\r\n    cssmin = require('gulp-clean-css'),\r\n    clean = require('gulp-clean'),\r\n    uglify = require('gulp-uglify');\r\n    \r\nvar src = {\r\n  js: 'js/some-dir/**/*.js',\r\n  css: 'css/some-dir/**/*.css'\r\n};\r\n\r\nvar dest = {\r\n  js: 'js/dest/some-dir/**/*.js',\r\n  css: 'css/dest/some-dir/**/*.css'\r\n};\r\n\r\ngulp.task('clean-css', function() {\r\n  return gulp.src(dest.css)\r\n             .pipe(clean({read:false, force: true});\r\n});\r\n\r\ngulp.task('minify-css', ['clean-css'], function() {\r\n  gulp.src(src.css)\r\n    .pipe(cssmin())\r\n    .pipe(gulp.dest(dest.css));\r\n});\r\n\r\ngulp.task('clean-scripts', function() {\r\n  return gulp.src(dest.js)\r\n             .pipe(clean({read:false, force: true});\r\n});\r\n\r\ngulp.task('minify-js', ['clean-scripts'], function() {\r\n   gulp.src(src.js)\r\n       .pipe(uglify())\r\n       .pipe(gulp.dest(dest.js));\r\n});\r\n\r\ngulp.task('watch', ['minify-js', 'minify-css'], function() {\r\n  gulp.watch(src.js, ['minify-js']);\r\n  gulp.watch(src.css, ['minify-css']);\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>We tried doing this, but it resulted in the error message</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>gulp.task('watch', gulp.series('minify-js', 'minify-css', function() {\r\n  gulp.watch(src.js, ['minify-js']);\r\n  gulp.watch(src.css, ['minify-css']);\r\n}));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "reactjs", "react-apollo", "apollo-client", "react-hooks"], "comments": [{"owner": {"reputation": 2815, "user_id": 3908193, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E3gVy.jpg?s=128&g=1", "display_name": "varoons", "link": "https://stackoverflow.com/users/3908193/varoons"}, "edited": false, "score": 0, "creation_date": 1551907988, "post_id": 55032136, "comment_id": 96817523, "body": "You could add a loading state where when you make the api call to fetch you toggle a loading flag/state."}, {"owner": {"reputation": 1040, "user_id": 1581171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/47dNW.jpg?s=128&g=1", "display_name": "abadalyan", "link": "https://stackoverflow.com/users/1581171/abadalyan"}, "edited": false, "score": 0, "creation_date": 1551908257, "post_id": 55032136, "comment_id": 96817645, "body": "Have you tried adding <code>key</code> prop to your <code>SongInfo</code> element? Something like, <code>&lt;SongInfo key={song.id} {...song} &#47;&gt;</code> (change id to whatever property uniquely identifies your song). Adding key prop to list items improves React performance."}, {"owner": {"reputation": 153, "user_id": 9584299, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EqKckMIa83Y/AAAAAAAAAAI/AAAAAAAAChw/7iX3qEliEDU/photo.jpg?sz=128", "display_name": "Travis S.", "link": "https://stackoverflow.com/users/9584299/travis-s"}, "reply_to_user": {"reputation": 2815, "user_id": 3908193, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E3gVy.jpg?s=128&g=1", "display_name": "varoons", "link": "https://stackoverflow.com/users/3908193/varoons"}, "edited": false, "score": 0, "creation_date": 1551908594, "post_id": 55032136, "comment_id": 96817786, "body": "@varoons The loading state happens so quickly that it actually makes the UI worse"}, {"owner": {"reputation": 153, "user_id": 9584299, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EqKckMIa83Y/AAAAAAAAAAI/AAAAAAAAChw/7iX3qEliEDU/photo.jpg?sz=128", "display_name": "Travis S.", "link": "https://stackoverflow.com/users/9584299/travis-s"}, "reply_to_user": {"reputation": 1040, "user_id": 1581171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/47dNW.jpg?s=128&g=1", "display_name": "abadalyan", "link": "https://stackoverflow.com/users/1581171/abadalyan"}, "edited": false, "score": 0, "creation_date": 1551908660, "post_id": 55032136, "comment_id": 96817813, "body": "@abadalyan I have a key in my actual code, I tried simplifying it for this question. I edited the &lt;SongInfo&gt; component to clarify"}, {"owner": {"reputation": 1040, "user_id": 1581171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/47dNW.jpg?s=128&g=1", "display_name": "abadalyan", "link": "https://stackoverflow.com/users/1581171/abadalyan"}, "edited": false, "score": 0, "creation_date": 1551909011, "post_id": 55032136, "comment_id": 96817976, "body": "If you replace SongInfo with simple &lt;div&gt;{song.name}&lt;/div&gt; does it flicker?"}, {"owner": {"reputation": 1048, "user_id": 7200363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gElHo.jpg?s=128&g=1", "display_name": "Pavel Ye", "link": "https://stackoverflow.com/users/7200363/pavel-ye"}, "edited": false, "score": 0, "creation_date": 1551909139, "post_id": 55032136, "comment_id": 96818035, "body": "Is there <code>useEffect</code> anywhere in your code?"}, {"owner": {"reputation": 153, "user_id": 9584299, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EqKckMIa83Y/AAAAAAAAAAI/AAAAAAAAChw/7iX3qEliEDU/photo.jpg?sz=128", "display_name": "Travis S.", "link": "https://stackoverflow.com/users/9584299/travis-s"}, "reply_to_user": {"reputation": 1048, "user_id": 7200363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gElHo.jpg?s=128&g=1", "display_name": "Pavel Ye", "link": "https://stackoverflow.com/users/7200363/pavel-ye"}, "edited": false, "score": 0, "creation_date": 1551910408, "post_id": 55032136, "comment_id": 96818536, "body": "@Powell_v2 There is not. I&#39;ve been reading guides on it all day but I don&#39;t understand how to use it in this scenario."}, {"owner": {"reputation": 153, "user_id": 9584299, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EqKckMIa83Y/AAAAAAAAAAI/AAAAAAAAChw/7iX3qEliEDU/photo.jpg?sz=128", "display_name": "Travis S.", "link": "https://stackoverflow.com/users/9584299/travis-s"}, "reply_to_user": {"reputation": 1040, "user_id": 1581171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/47dNW.jpg?s=128&g=1", "display_name": "abadalyan", "link": "https://stackoverflow.com/users/1581171/abadalyan"}, "edited": false, "score": 0, "creation_date": 1551911488, "post_id": 55032136, "comment_id": 96818884, "body": "@abadalyan It doesn&#39;t appear to flicker when it&#39;s just text"}], "answers": [{"comments": [{"owner": {"reputation": 153, "user_id": 9584299, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EqKckMIa83Y/AAAAAAAAAAI/AAAAAAAAChw/7iX3qEliEDU/photo.jpg?sz=128", "display_name": "Travis S.", "link": "https://stackoverflow.com/users/9584299/travis-s"}, "edited": false, "score": 0, "creation_date": 1551908837, "post_id": 55032532, "comment_id": 96817900, "body": "I&#39;m actually using a <a href=\"https://www.npmjs.com/package/react-debounce-input\" rel=\"nofollow noreferrer\">DebounceInput</a>. It did help but it still isn&#39;t ideal. I edited the question to clarify."}], "tags": [], "owner": {"reputation": 2815, "user_id": 3908193, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E3gVy.jpg?s=128&g=1", "display_name": "varoons", "link": "https://stackoverflow.com/users/3908193/varoons"}, "is_accepted": false, "score": 2, "last_activity_date": 1551908723, "last_edit_date": 1551908723, "creation_date": 1551908146, "answer_id": 55032532, "question_id": 55032136, "link": "https://stackoverflow.com/questions/55032136/react-ui-flickering-when-state-updated/55032532#55032532", "title": "React: UI Flickering When State Updated", "body": "<p>I think whats happening is that you are executing a search query on every key stroke which is causing the weird behavior.</p>\n\n<p>Use lodash debounce to avoid doing a search on every key stroke.\nThat should address the flickering. (Also, adding a loading state will help)</p>\n\n<p>Sample debounce component</p>\n\n<pre><code>import React, {Component} from 'react'\nimport { debounce } from 'lodash'\n\nclass TableSearch extends Component {\n\n  //********************************************/\n\n  constructor(props){\n    super(props)\n\n    this.state = {\n        value: props.value\n    }\n\n    this.changeSearch = debounce(this.props.changeSearch, 250)\n  }\n\n  //********************************************/\n\n  handleChange = (e) =&gt; {\n    const val = e.target.value\n\n    this.setState({ value: val }, () =&gt; {\n      this.changeSearch(val)\n    })\n  }\n\n  //********************************************/\n\n  render() {\n\n    return (\n        &lt;input\n            onChange = {this.handleChange}\n            value = {this.props.value}\n        /&gt;\n    )\n  }\n\n  //********************************************/\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 153, "user_id": 9584299, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EqKckMIa83Y/AAAAAAAAAAI/AAAAAAAAChw/7iX3qEliEDU/photo.jpg?sz=128", "display_name": "Travis S.", "link": "https://stackoverflow.com/users/9584299/travis-s"}, "edited": false, "score": 0, "creation_date": 1551913588, "post_id": 55033300, "comment_id": 96819699, "body": "You&#39;re right, it&#39;s definitely an issue with the &lt;img src={song.imageUrl}&gt; part of &lt;SongInfo&gt;. I set a default height and width and that seems to help but the image itself seems to be flickering as it&#39;s loading/rendering. I&#39;m looking into it now."}], "tags": [], "owner": {"reputation": 1040, "user_id": 1581171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/47dNW.jpg?s=128&g=1", "display_name": "abadalyan", "link": "https://stackoverflow.com/users/1581171/abadalyan"}, "is_accepted": true, "score": 2, "last_activity_date": 1551912244, "last_edit_date": 1551912244, "creation_date": 1551911787, "answer_id": 55033300, "question_id": 55032136, "link": "https://stackoverflow.com/questions/55032136/react-ui-flickering-when-state-updated/55033300#55033300", "title": "React: UI Flickering When State Updated", "body": "<p>Below are the frames that cause the flicker. What I think is happening is it takes some time for the images to load. While they are loading the items have reduced height. You should make sure <code>SongInfo</code> layout does not depend on whether the image has been loaded or not.</p>\n\n<p>Images not loaded - items are collapsed:</p>\n\n<p><a href=\"https://i.stack.imgur.com/N5Vgq.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N5Vgq.gif\" alt=\"enter image description here\"></a></p>\n\n<p>Images were loaded:</p>\n\n<p><a href=\"https://i.stack.imgur.com/l95yX.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l95yX.gif\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 153, "user_id": 9584299, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EqKckMIa83Y/AAAAAAAAAAI/AAAAAAAAChw/7iX3qEliEDU/photo.jpg?sz=128", "display_name": "Travis S.", "link": "https://stackoverflow.com/users/9584299/travis-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9292, "favorite_count": 1, "accepted_answer_id": 55033300, "answer_count": 2, "score": 7, "last_activity_date": 1551912244, "creation_date": 1551906399, "last_edit_date": 1551908536, "question_id": 55032136, "link": "https://stackoverflow.com/questions/55032136/react-ui-flickering-when-state-updated", "title": "React: UI Flickering When State Updated", "body": "<p>I have a component that displays search data returned from the Spotify API. However, every time I update the state the UI flickers:</p>\n\n<p><a href=\"https://i.stack.imgur.com/o7Mbz.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/o7Mbz.gif\" alt=\"enter image description here\"></a>\nInput:</p>\n\n<pre><code>            &lt;DebounceInput\n                debounceTimeout={300}\n                onChange={handleChange}\n            /&gt;\n</code></pre>\n\n<p>Hook:</p>\n\n<pre><code>const [searchResults, setSearchResults] = useState(null)\n</code></pre>\n\n<p>API call w/ Apollo:</p>\n\n<pre><code> const searchSpotify = async (query) =&gt; {\n    const result = await props.client.query({\n        query: SearchTracks,\n        variables: {\n            query\n        }\n    })\n    const tracks = result.data.searchedTracks\n    setSearchResults(tracks)\n}\n</code></pre>\n\n<p>Render:</p>\n\n<pre><code>        {searchResults &amp;&amp;\n            &lt;div className=\"search-results\"&gt;\n                    {searchResults.map((song) =&gt; (\n                            &lt;SongInfo key={song.id} {...song} /&gt;\n                    ))}\n            &lt;/div&gt;\n        }\n</code></pre>\n\n<p>I noticed it only happens on the first load. For example, if I were to type the query again it shows without flickering. Is there a better way to implement this so the UI doesn't flicker?</p>\n"}, {"tags": ["javascript", "jquery", "datatables"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3307073"}, "is_accepted": true, "score": 2, "last_activity_date": 1551952354, "last_edit_date": 1551952354, "creation_date": 1551950751, "answer_id": 55040231, "question_id": 55032119, "link": "https://stackoverflow.com/questions/55032119/append-element-to-datatable-header/55040231#55040231", "title": "Append element to Datatable header", "body": "<p>I believe, getting your radio button displayed you're half-way through, the really challenging part is to disable default search bar, since you're unlikely to override its default behavior (to search through the entire table).</p>\n\n<p>However, you may use your own, custom searchbar, like on the following <strong>DEMO</strong>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//define source data\r\nconst srcData = [\r\n  {id: 1, name: 'apple', category: 'fruit'},\r\n  {id: 2, name: 'raspberry', category: 'berry'},\r\n  {id: 3, name: 'carrot', category: 'vegie'}\r\n];\r\n//define dataTable object\r\nconst dataTable = $('#mytable').DataTable({\r\n  sDom: 't',\r\n  data: srcData,\r\n  columns: [\r\n    {data: 'id', title: 'id'},\r\n    {data: 'name', title: 'name'},\r\n    {data: 'category', title: 'category'}\r\n  ],\r\n  //modify header nodes, by appending radios\r\n  initComplete: function() {\r\n    const table = this.api();\r\n    [1,2].forEach(column =&gt; table.column(column).header().innerHTML += `&lt;input type=\"radio\" name=\"searchflag\" value=\"${column}\" class=\"searchflag\"&gt;&lt;/input&gt;`);\r\n  }\r\n});\r\n//prevent sorting change upon radio click\r\n$('input.searchflag').on('click', function(event) {\r\n  //clear search upon choosing the other radio\r\n  $('#searchfield').val('');\r\n  dataTable.search('').columns().search('').draw();\r\n  event.stopPropagation();\r\n});\r\n//searchbar keyup callback\r\n$('#searchfield').on('keyup', function() {\r\n  //grab checked radio button value or search the entire table by default\r\n  let targetColumn = null;\r\n  targetColumn = $('input.searchflag:checked').val();\r\n  if(!targetColumn){\r\n    dataTable.search($(this).val()).draw();\r\n  }\r\n  else {\r\n    dataTable.column(targetColumn).search($(this).val()).draw();\r\n  }\r\n})</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>input.searchflag {\r\n  float: left;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!doctype html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n  &lt;script type=\"application/javascript\" src=\"https://code.jquery.com/jquery-3.3.1.min.js\"&gt;&lt;/script&gt;\r\n  &lt;script type=\"application/javascript\" src=\"https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js\"&gt;&lt;/script&gt;\r\n  &lt;script type=\"text/javascript\" src=\"demo.js\"&gt;&lt;/script&gt;\r\n  &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css\"&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n  &lt;input id=\"searchfield\"&gt;&lt;/input&gt;\r\n  &lt;table id=\"mytable\"&gt;&lt;/table&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1214, "user_id": 3674263, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uYfWy.jpg?s=128&g=1", "display_name": "CodeSpent", "link": "https://stackoverflow.com/users/3674263/codespent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1576, "favorite_count": 0, "accepted_answer_id": 55040231, "answer_count": 1, "score": 0, "last_activity_date": 1551952354, "creation_date": 1551906326, "question_id": 55032119, "link": "https://stackoverflow.com/questions/55032119/append-element-to-datatable-header", "title": "Append element to Datatable header", "body": "<p>What I'd like to do is add a radio button next to the <strong>Search Bar</strong> on my datatable to allow searching by just one column, <strong>Store Number</strong>.</p>\n\n<p>I was referred to drawCallback but I don't believe this does what I expect it to do. All the answers I find seem to be appending elements to rows/cols in the datatable, but not the header itself.</p>\n\n<p>The selector for this header is <code>#store-table_wrapper</code>.</p>\n\n<pre><code>   $('#store-table').DataTable({\n        \"columnDefs\": [{\n            \"targets\": [7, 8],\n            \"visible\": false,\n            \"drawCallback\": function() {\n                $('&lt;input type=\"radio\" name=\"store-number-filter-selector\" /&gt;').appendTo('#store-table_wrapper');\n            }\n        }]\n    });\n</code></pre>\n"}, {"tags": ["javascript", "html", "html-table"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1551906619, "post_id": 55032110, "comment_id": 96816946, "body": "<code>let cells = array.protoype.slice.call(...</code> You want <code>Array</code> not <code>array</code>; JavaScript is case-sensitive. Or just use <code>Array.from(...)</code>. You should be getting an error on that in your console though..."}, {"owner": {"reputation": 9, "user_id": 10551693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/411b540e549c3d751dd81cbb972cce12?s=128&d=identicon&r=PG&f=1", "display_name": "Darragh.H", "link": "https://stackoverflow.com/users/10551693/darragh-h"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1551907123, "post_id": 55032110, "comment_id": 96817163, "body": "Thank you I fixed that, but oddly enough it wasn\u2019t preventing my insert_Row function from working"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1551907245, "post_id": 55032110, "comment_id": 96817216, "body": "I would highly suggest learning about the JavaScript debugger in your browser of choice. Then you can see exactly what&#39;s happening in each line of your code."}, {"owner": {"reputation": 2197, "user_id": 681070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KahEu.jpg?s=128&g=1", "display_name": "dgrogan", "link": "https://stackoverflow.com/users/681070/dgrogan"}, "edited": false, "score": 0, "creation_date": 1551923380, "post_id": 55032110, "comment_id": 96822056, "body": "+1, You have a lot of straight typos in the above code that would be immediately obvious in the errors that chrome devtools shows you."}], "owner": {"reputation": 9, "user_id": 10551693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/411b540e549c3d751dd81cbb972cce12?s=128&d=identicon&r=PG&f=1", "display_name": "Darragh.H", "link": "https://stackoverflow.com/users/10551693/darragh-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551906355, "creation_date": 1551906301, "last_edit_date": 1551906355, "question_id": 55032110, "link": "https://stackoverflow.com/questions/55032110/html-table-and-javascript-addrows-and-addcolumns-without-jquery", "title": "HTML Table and JavaScript addRows and addColumns without jQuery?", "body": "<p>I'm having a problem getting the buttons on my student grades table working, I have a button to calculate the average of the grades using a function called getAverage(), I have one to insert rows to the table using a function called insert_Rows, and finally one to add columns using a function called insert_Column().</p>\n\n<p>My problem is that none of them seem to be working and I can't see why the getAverage function was working until I added the other two buttons.</p>\n\n<p>This is for an assignment where I'm not allowed to use jQuery.</p>\n\n<p>Also, this is the brief for the two buttons:</p>\n\n<ol>\n<li><p>A CSS styled button that inserts a new table row suitable for recording new student data. You can insert after the last row of the table. Students should provide on button that saves the table in its current state i.e. if there are 5 rows and 6 cells, the cookie should reflect that.</p></li>\n<li><p>A CSS style button that inserts a new table column suitable for recording new Assignment grade data. This column requires a title. You can decide how you wish to accomplish the title allocation (automatic, content-edit, etc.). There should be another button that then retrieves that data and fills it back to the table in the state that it previously held. If extra rows or columns have been added, the table should revert back to its previous state when the cookie was saved (5 rows and 6 cells).</p></li>\n</ol>\n\n<p>Also, for extra credit, I have to use JavaScript and any method of my choosing to delete a data row selected by a user, and another on to delete an assignment column selected by the user, the function should ensure that the final grade column totals are updated following this deletion.</p>\n\n<pre><code>// get the average\nfunction getAverage()\n{\n    let table = document.getElementById(\"gradesTable\");  \n    //Loop over the rows array directly\n  let rows = Array.prtotype.slice.call(table.rows); //let is block scoped - can only be used in this block\n  rows.froEach(function(row)\n  {\n    let cells = array.protoype.slice.call(row.querySelectorAll(\".Assignment\")); // Get all the Assignment cells into an array\n\n    // declairing sum and gradeAverage with let and by defining them in the row loop keeps the values unique for each row\n    let sum = 0; \n    let gradeAverage = 0;\n\n    // Now just loop the cells Array\n    cells.forEach(function(cell,index){\n\n     //.textContent instead for strings that dont contain any values\n      var currentValue = parseInt(cell.textContent);\n      if(currentValue &gt;= 0 &amp;&amp; currentValue &lt;=100){\n          sum += currentValue;\n      }\n\n      // If the cell has \"-\" for content\n      if(cell.textContent === '\"-\"'){\n        // Apply a pre-made CSS class\n        cell.classList.add(\"noGrade\");\n      } else {\n        // Remove a pre-made CSS class\n        cell.classList.remove(\"noGrade\");\n      }\n\n      // If this is the last cell in the row\n      if(index === cells.length-1){\n        gradeAverage = sum/5;\n        cell.nextElementSibling.textContent = Math.round(gradeAverage) + \"%\";\n\n        // There is a grade, so check it for low\n        if(gradeAverage &gt;= 0 &amp;&amp; gradeAverage &lt; 40) {\n          cell.nextElementSibling.classList.add(\"lowGrade\");\n        } else {\n          cell.nextElementSibling.classList.remove(\"lowGrade\");\n        }\n      }\n\n    });\n  });\n\n}\n\n// add a row to the table\nfunction insert_Row() {\n  let table = document.getElementById(\"gradesTable\"); //assign table id to a variable\n  let tableRows = table.rows.length; // gives how many rows in the table\n  let row = table.insertRow(tableRows); //insert after the last row in the table\n  let cellsInTable = document.getElementById(\"gradesTable\").rows[0].cells \n  let columnTotal = cellsInTable.length; //assign the columnTotal the number of columns that the first row has\n\n  //loop through each column\n  for(let i = 0; i &lt; columnTotal; i++)\n  {\n    //add a new cell for each column\n    let cell = row.insertCell(i);\n\n    //assign each new cell the default value \"-\"\n    cell.innerHTML = \"-\";\n\n\n  }\n\n}\n\n// add a column to the HTML table\nfunction appendColumn() \n{\n    let table = document.getElementById(\"gradesTable\"); // table reference\n\n    // open loop for each row and append cell\n    for(let x = 0; x &lt; table.rows.length; x++)\n    {\n        createCell(tbale.rows[x].insertCell(table.rows[x].cells.lenght), x, \"col\");\n    }      \n}\n\n\nfunction insert_Column()\n{\n\n}\nfunction deleteColumn()\n{\n    let allRows = document.getElementById(\"gradesTable\").rows;\n    for (var i=0; i &lt; allRows.length; i++) \n  {\n        if (allRows[i].cells.length &gt; 1) \n    {\n            allRows[i].deleteCell(-1);\n        }\n    }\n}\n</code></pre>\n\n<p>Correction, the Insert row function seems to be working right, but the grades average function isn't and I don't know where to begin writing the other functions.</p>\n\n<p>If anyone can offer advice or best places to learn? Because my lecturer has just informed us to use W3Schools and he's not teaching us the language, I just feel out of my depth.</p>\n"}, {"tags": ["javascript", "openlayers"], "comments": [{"owner": {"reputation": 10351, "user_id": 10118270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4d02f5140e2c09fe0425854f39a6596?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/10118270/mike"}, "edited": false, "score": 1, "creation_date": 1551909889, "post_id": 55032105, "comment_id": 96818347, "body": "Styles appear to be set on features despite <code>extractStyle: false</code>  Here&#39;s a another case <a href=\"https://stackoverflow.com/questions/53017491/heatmap-in-openlayers-using-an-xml-kml-formatted-string-styling-is-incorrect\" title=\"heatmap in openlayers using an xml kml formatted string styling is incorrect\">stackoverflow.com/questions/53017491/&hellip;</a> To remove them use <code>features.forEach(function(feature){feature.setStye(undefined&zwnj;&#8203;)});</code> then your layer style will be used."}, {"owner": {"reputation": 309, "user_id": 2226984, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/8919351aebe1914394dd0eae698f8b06?s=128&d=identicon&r=PG", "display_name": "ericire", "link": "https://stackoverflow.com/users/2226984/ericire"}, "reply_to_user": {"reputation": 10351, "user_id": 10118270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4d02f5140e2c09fe0425854f39a6596?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/10118270/mike"}, "edited": false, "score": 0, "creation_date": 1551939464, "post_id": 55032105, "comment_id": 96826029, "body": "Hello yes I had thought of that, but I did not know how to cancel a style. it works flawlessly. thank you."}], "owner": {"reputation": 309, "user_id": 2226984, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/8919351aebe1914394dd0eae698f8b06?s=128&d=identicon&r=PG", "display_name": "ericire", "link": "https://stackoverflow.com/users/2226984/ericire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551906281, "creation_date": 1551906281, "question_id": 55032105, "link": "https://stackoverflow.com/questions/55032105/kml-style-on-draganddrop-and-ol-interactionselect", "title": "kml style on draganddrop and ol.interactionSelect", "body": "<p>With ol 4.4.2 kml style with drag and drop is very difficult and I can't set it by the layer style.\nI can style it through the feature, but when I do, it's the style of the select interaction that does not work anymore.\nThe extractStyle: false does not work anymore.\nIs there a bug ?\nHow can I do it ?</p>\n\n<pre><code>dragAndDropInteraction.on('addfeatures', function(e) {\n    var vectorSource = new ol.source.Vector({\n        opacity: 1,\n        features: new ol.Collection(),\n        format: new ol.format.KML({\n          extractStyles: false, defaultStyle: AnnotImportStyle \n        }),\n        visible: true\n    });\n    var features = e.features;\n\n    //features.forEach (function(s){s.setStyle(AnnotImportStyle)}); it works but put the style of select out\n    vectorSource.addFeatures(features);\n    var file_name = e.file.name;\n    var name = file_name.substr(0, file_name.lastIndexOf('.'));\n    var vector = new ol.layer.Vector({\n        title: name,\n        source: vectorSource,\n        style: AnnotImportStyle,\n        visible: true,\n    });\n    map.addLayer(vector);\n    map.getView().fit(vectorSource.getExtent());\n});\n</code></pre>\n"}, {"tags": ["javascript", "google-chrome", "webrtc", "getusermedia"], "comments": [{"owner": {"reputation": 148712, "user_id": 19750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13b41b2620da0b1e630715e0c91a0b03?s=128&d=identicon&r=PG", "display_name": "Josh Lee", "link": "https://stackoverflow.com/users/19750/josh-lee"}, "edited": false, "score": 0, "creation_date": 1551906753, "post_id": 55032062, "comment_id": 96817008, "body": "Use <code>localhost</code>."}, {"owner": {"reputation": 148712, "user_id": 19750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13b41b2620da0b1e630715e0c91a0b03?s=128&d=identicon&r=PG", "display_name": "Josh Lee", "link": "https://stackoverflow.com/users/19750/josh-lee"}, "edited": false, "score": 0, "creation_date": 1551906791, "post_id": 55032062, "comment_id": 96817025, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/33749854/getusermedia-is-not-working-in-chrome-version-48-0-2560-0-while-working-in-46-0\">getUserMedia is not working in chrome version 48.0.2560.0 while working in 46.0</a>"}, {"owner": {"reputation": 111, "user_id": 8355591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2128a79eed3d4392be9104b74164c891?s=128&d=identicon&r=PG&f=1", "display_name": "user8355591", "link": "https://stackoverflow.com/users/8355591/user8355591"}, "reply_to_user": {"reputation": 148712, "user_id": 19750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13b41b2620da0b1e630715e0c91a0b03?s=128&d=identicon&r=PG", "display_name": "Josh Lee", "link": "https://stackoverflow.com/users/19750/josh-lee"}, "edited": false, "score": 0, "creation_date": 1551906873, "post_id": 55032062, "comment_id": 96817062, "body": "@JoshLee thanks for replying, it&#39;s intended to not use localhost but a custom port"}], "answers": [{"tags": [], "owner": {"reputation": 14609, "user_id": 1694368, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/ce50876f1ca095cb2b4c3f2033f72ed0?s=128&d=identicon&r=PG", "display_name": "Koby Douek", "link": "https://stackoverflow.com/users/1694368/koby-douek"}, "is_accepted": false, "score": 1, "last_activity_date": 1551948067, "creation_date": 1551948067, "answer_id": 55039407, "question_id": 55032062, "link": "https://stackoverflow.com/questions/55032062/how-to-whitelist-custom-port-entry-so-chrome-offers-the-options-to-enable-camera/55039407#55039407", "title": "How to whitelist custom port entry so Chrome offers the options to enable Camera and Mic", "body": "<p>Short answer is no - you cannot bypass the saved word <code>localhost</code> with an IP address which represents it. The reason is that Google Chrome uses the actual word <code>localhost</code> to detect develper debugging and allow using <code>getUserMedia</code> via HTTP. All other addresses, regardless if they represent <code>localhost</code> or not, are only allowed to use <code>getUserMedia</code> via HTTPS or WSS.</p>\n"}, {"tags": [], "owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "is_accepted": false, "score": 2, "last_activity_date": 1551950144, "creation_date": 1551950144, "answer_id": 55040041, "question_id": 55032062, "link": "https://stackoverflow.com/questions/55032062/how-to-whitelist-custom-port-entry-so-chrome-offers-the-options-to-enable-camera/55040041#55040041", "title": "How to whitelist custom port entry so Chrome offers the options to enable Camera and Mic", "body": "<p>Right in the error message you must have had, there is a link to <a href=\"https://sites.google.com/a/chromium.org/dev/Home/chromium-security/deprecating-powerful-features-on-insecure-origins\" rel=\"nofollow noreferrer\">this page</a>, where there is a paragraph about <a href=\"https://sites.google.com/a/chromium.org/dev/Home/chromium-security/deprecating-powerful-features-on-insecure-origins#TOC-Testing-Powerful-Features\" rel=\"nofollow noreferrer\">Testing Powerful Features</a> which enumerates a few options, and among them, </p>\n\n<blockquote>\n  <ol start=\"3\">\n  <li>You can run chrome with the <code>--unsafely-treat-insecure-origin-as-secure=\"http://example.com\"</code> flag (replacing <code>\"example.com\"</code> with the origin you actually want to test), which will treat that origin as secure for this session. Note that on Android and ChromeOS this requires having a device with root access/dev mode. <sub>(This flag is broken in Chrome 63 but fixed in Chrome 64 and later. <a href=\"https://chromium.googlesource.com/chromium/src/+/55dab613843031ab360193116f5d80d0d23308fb\" rel=\"nofollow noreferrer\">Prior to Chrome 62</a>, you must also include the <code>--user-data-dir=/test/only/profile/dir</code> to create a fresh testing profile for the flag to work.)</sub> </li>\n  </ol>\n</blockquote>\n\n<p>So you just have to start Chrome from command lines with the flag <code>--unsafely-treat-insecure-origin-as-secure=\"http://testlocalhost.com\"</code></p>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 8355591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2128a79eed3d4392be9104b74164c891?s=128&d=identicon&r=PG&f=1", "display_name": "user8355591", "link": "https://stackoverflow.com/users/8355591/user8355591"}, "is_accepted": true, "score": 0, "last_activity_date": 1553626519, "creation_date": 1553626519, "answer_id": 55364434, "question_id": 55032062, "link": "https://stackoverflow.com/questions/55032062/how-to-whitelist-custom-port-entry-so-chrome-offers-the-options-to-enable-camera/55364434#55364434", "title": "How to whitelist custom port entry so Chrome offers the options to enable Camera and Mic", "body": "<p>Like above post answered, I can run chrome with flag by <code>chrome://flags/</code> in search bar, search flag: <code>insecure origins treated as secure</code>, enable it, and add your custom ports there, separate with <code>,</code></p>\n"}], "owner": {"reputation": 111, "user_id": 8355591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2128a79eed3d4392be9104b74164c891?s=128&d=identicon&r=PG&f=1", "display_name": "user8355591", "link": "https://stackoverflow.com/users/8355591/user8355591"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 657, "favorite_count": 0, "accepted_answer_id": 55364434, "answer_count": 3, "score": 2, "last_activity_date": 1553626519, "creation_date": 1551906081, "question_id": 55032062, "link": "https://stackoverflow.com/questions/55032062/how-to-whitelist-custom-port-entry-so-chrome-offers-the-options-to-enable-camera", "title": "How to whitelist custom port entry so Chrome offers the options to enable Camera and Mic", "body": "<p>I added a custom port in etc/hosts file</p>\n\n<pre><code>127.0.0.1    testlocalhost.com\n</code></pre>\n\n<p>When launch server(http not https) from this port, I noticed Chrome banned Camera and Mic permissions, and threw</p>\n\n<pre><code>getUserMedia() no longer works on insecure origins\n</code></pre>\n\n<p>When launch from <code>localhost</code> directly, I can change these 2 permissions although still seeing <code>Your connection to this site is not secure</code> warning.</p>\n\n<p>I was wondering if it's possible to whitelist the custom port.</p>\n\n<p>thanks!!!</p>\n\n<p>(When test in Firefox, it still gives me the options to change Camera and Mic permissions.)</p>\n"}, {"tags": ["javascript", "jquery", "webrtc"], "answers": [{"tags": [], "owner": {"reputation": 157, "user_id": 8165906, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fhv7mRQWNnU/AAAAAAAAAAI/AAAAAAAAEbE/yGtcNUd9Mio/photo.jpg?sz=128", "display_name": "Alfredo Izquierdo", "link": "https://stackoverflow.com/users/8165906/alfredo-izquierdo"}, "is_accepted": false, "score": 1, "last_activity_date": 1551908355, "last_edit_date": 1551908355, "creation_date": 1551907518, "answer_id": 55032384, "question_id": 55032033, "link": "https://stackoverflow.com/questions/55032033/webrtc-how-i-can-make-the-onicecandidate-work-on-my-code/55032384#55032384", "title": "Webrtc how I can make the onicecandidate work on my code", "body": "<p>well I see better some example my error was I call the <code>peerConnection.createOffer()</code> offsite from my video object  <code>navigator.mediaDevices.getUserMedia({ video: true }).then(stream =&gt; { // create offer here });</code> them My candidate start emited</p>\n"}], "owner": {"reputation": 157, "user_id": 8165906, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fhv7mRQWNnU/AAAAAAAAAAI/AAAAAAAAEbE/yGtcNUd9Mio/photo.jpg?sz=128", "display_name": "Alfredo Izquierdo", "link": "https://stackoverflow.com/users/8165906/alfredo-izquierdo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551908355, "creation_date": 1551905919, "question_id": 55032033, "link": "https://stackoverflow.com/questions/55032033/webrtc-how-i-can-make-the-onicecandidate-work-on-my-code", "title": "Webrtc how I can make the onicecandidate work on my code", "body": "<p>Hello guys I am very new in this webrtc and javascript I try get done a video stream but in my code the onicecandidate is never been call can some one help me where I make mistake </p>\n\n<pre><code> $('body #call').on('click', function () {\n            let receiverid = $(this).attr('data-ids');\n            const peerConnection = new RTCPeerConnection(configuration);\n            navigator.mediaDevices.getUserMedia({ video: true }).then(stream =&gt; {\n                localStream = stream;\n                localStream.getTracks().forEach((track) =&gt; {\n                    peerConnection.addTrack(track, localStream);\n                    localVideo.srcObject = localStream;\n                });\n\n            }).catch(err =&gt; console.log(err));\n            peerConnection.createOffer()\n                .then(sdp =&gt; peerConnection.setLocalDescription(sdp))\n                .then(function () {\n                    console.log('is emitedd offer');\n                    socket.emit('onOffer', { callerid: userid, receiverid, offer: peerConnection.localDescription });\n                });\n            peerConnection.ontrack  = event =&gt; handleRemoteStreamAdded(event.streams[0], userid);\n\n            peerConnection.onicecandidate = function(event) {\n                if (event.candidate) {\n                    console.log('emit candidate');\n                  socket.emit('candidate', id, event.candidate);\n                }\n              };\n        });\n    });\n</code></pre>\n\n<p>Thanks so mush</p>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"tags": [], "owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": true, "score": 0, "last_activity_date": 1551906279, "creation_date": 1551906279, "answer_id": 55032104, "question_id": 55032024, "link": "https://stackoverflow.com/questions/55032024/getting-expected-an-assignment-or-function-call-and-instead-saw-an-expression-no/55032104#55032104", "title": "Getting Expected an assignment or function call and instead saw an expression no-unused-expressions, when import a file in React", "body": "<p>Your <code>data.js</code> is not actually exporting anything at the moment, so the linter thinks that you've declared an array in that file which subsequently doesn't get used anywhere. Try exporting the array instead, so that it can be imported without linting problems:</p>\n\n<pre><code>export default [{\"id\":\"1122\",\"name\":\"foo\",\"price\":\"2.000\"}, {\"id\":\"1133\",\"name\":\"bar\",\"price\":\"7.000\"}];\n</code></pre>\n\n<p>If you don't want the file to contain Javascript syntax, then don't use the <code>.js</code> file extension, and parse the JSON after importing to transform into an array:</p>\n\n<pre><code>import Data from \"./data\";\nconst arr = JSON.parse(Data);\n</code></pre>\n\n<p><a href=\"https://codesandbox.io/s/4x3756pqk0\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/4x3756pqk0</a></p>\n"}], "owner": {"reputation": 39, "user_id": 8859296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6f188c47e240a1bc984ea14b1390714?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/8859296/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 0, "accepted_answer_id": 55032104, "answer_count": 1, "score": 1, "last_activity_date": 1551906279, "creation_date": 1551905886, "question_id": 55032024, "link": "https://stackoverflow.com/questions/55032024/getting-expected-an-assignment-or-function-call-and-instead-saw-an-expression-no", "title": "Getting Expected an assignment or function call and instead saw an expression no-unused-expressions, when import a file in React", "body": "<p>I have a file <strong>data.js</strong> that only contains an array of objects and nothing else, just like the following</p>\n\n<pre><code>[{\"id\":\"1122\",\"name\":\"foo\",\"price\":\"2.000\"}, {\"id\":\"1133\",\"name\":\"bar\",\"price\":\"7.000\"}]\n</code></pre>\n\n<p>The data.js file is located in same directory where my Main component is located. And I am importing it like the following:</p>\n\n<pre><code>import Data from \"./data\";\n</code></pre>\n\n<p>But I always get the following error:</p>\n\n<blockquote>\n  <p>./src/components/data.js   Line 1:  Expected an assignment or function\n  call and instead saw an expression  no-unused-expressions</p>\n</blockquote>\n\n<p>I think the problem is in the data.js file itself. because it is not a function nor a class. But I am not allowed to do any changes in the file.</p>\n"}, {"tags": ["javascript", "node.js", "ajax", "rest", "express"], "comments": [{"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1551905973, "post_id": 55032023, "comment_id": 96816668, "body": "fetch requests don&#39;t cause page reloads."}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 1, "creation_date": 1551906040, "post_id": 55032023, "comment_id": 96816698, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/50516791/click-event-refresh-my-page\">click event refresh my page</a>"}, {"owner": {"reputation": 1035, "user_id": 5471957, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9ab5dd64f5bb608b4a5c788135931350?s=128&d=identicon&r=PG&f=1", "display_name": "SpeedOfRound", "link": "https://stackoverflow.com/users/5471957/speedofround"}, "edited": false, "score": 1, "creation_date": 1551906183, "post_id": 55032023, "comment_id": 96816765, "body": "Yeah, pretty sure since the button is in a form, it&#39;s defaulting to a submission."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 11161869, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RgBQdClcDl0/AAAAAAAAAAI/AAAAAAAAABQ/mPWdDOUeZlc/photo.jpg?sz=128", "display_name": "Michael Sagnes", "link": "https://stackoverflow.com/users/11161869/michael-sagnes"}, "is_accepted": false, "score": -2, "last_activity_date": 1551906863, "creation_date": 1551906863, "answer_id": 55032245, "question_id": 55032023, "link": "https://stackoverflow.com/questions/55032023/fetch-request-makes-unwanted-page-reload/55032245#55032245", "title": "Fetch request makes unwanted page reload", "body": "<p>As commented by SpeedOfRound, he is quite right. I did not see this issue myself. Thank you for the help!</p>\n\n<p><strong>Solution:</strong>\nRemove redundant <code>&lt;form&gt;</code> tags in the <code>detailjs.ejs</code> file. These tags caused the page to refresh itself, even though I was using a fetch request. </p>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 11161869, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RgBQdClcDl0/AAAAAAAAAAI/AAAAAAAAABQ/mPWdDOUeZlc/photo.jpg?sz=128", "display_name": "Michael Sagnes", "link": "https://stackoverflow.com/users/11161869/michael-sagnes"}, "edited": false, "score": 1, "creation_date": 1551907124, "post_id": 55032247, "comment_id": 96817164, "body": "Thank you, Michel. I marked your answer as solution. It&#39;s a bit different approach then the other suggestion, but it did the trick as well."}, {"owner": {"reputation": 8157, "user_id": 500202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c0f8622f992b847d49c77cdbec81c95?s=128&d=identicon&r=PG", "display_name": "Izkata", "link": "https://stackoverflow.com/users/500202/izkata"}, "edited": false, "score": 1, "creation_date": 1578330108, "post_id": 55032247, "comment_id": 105395466, "body": "Jeez, why is this downvoted?  It&#39;s exactly correct."}, {"owner": {"reputation": 68, "user_id": 4432207, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kuTX2SzdWHQ/AAAAAAAAAAI/AAAAAAAAACE/DCqH20h_6Fs/photo.jpg?sz=128", "display_name": "Kriszti&#225;n Kis", "link": "https://stackoverflow.com/users/4432207/kriszti%c3%a1n-kis"}, "edited": false, "score": 0, "creation_date": 1583877303, "post_id": 55032247, "comment_id": 107259658, "body": "I&#39;ve faced the same issue and instead of preventing default, I would rather recommend to reevaluate if you need form at all.   I&#39;ve just replaces form with div in my case."}], "tags": [], "owner": {"reputation": 398, "user_id": 7159312, "user_type": "registered", "profile_image": "https://graph.facebook.com/1301014699923676/picture?type=large", "display_name": "Michel Calheiros", "link": "https://stackoverflow.com/users/7159312/michel-calheiros"}, "is_accepted": true, "score": 10, "last_activity_date": 1551906875, "creation_date": 1551906875, "answer_id": 55032247, "question_id": 55032023, "link": "https://stackoverflow.com/questions/55032023/fetch-request-makes-unwanted-page-reload/55032247#55032247", "title": "Fetch request makes unwanted page reload", "body": "<p>The problem is that when your button is clicked, the form is submitting and causing the page to reload.</p>\n\n<p>You can see the problem in action <a href=\"https://codepen.io/anon/pen/MxJzLz\" rel=\"noreferrer\">here</a>.</p>\n\n<pre><code>function btnclick(e) {\n  // comment and uncomment e.preventDefault to see the differences\n  e.preventDefault()\n}\n</code></pre>\n\n<p>Prevent the default event action and the problem will be solved.</p>\n"}], "owner": {"reputation": 31, "user_id": 11161869, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RgBQdClcDl0/AAAAAAAAAAI/AAAAAAAAABQ/mPWdDOUeZlc/photo.jpg?sz=128", "display_name": "Michael Sagnes", "link": "https://stackoverflow.com/users/11161869/michael-sagnes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4932, "favorite_count": 0, "accepted_answer_id": 55032247, "answer_count": 2, "score": 2, "last_activity_date": 1551906875, "creation_date": 1551905882, "last_edit_date": 1551906051, "question_id": 55032023, "link": "https://stackoverflow.com/questions/55032023/fetch-request-makes-unwanted-page-reload", "title": "Fetch request makes unwanted page reload", "body": "<p>I am running into an issue with a fetch request from my client side to the server.\nSomehow the fetch request is causing the page to reload, something I want to avoid. I have searched several places in order to figure this one out, but I have to turn to you guys for assistance.</p>\n\n<p>All data transactions between the database is working as expected. Apparently there is no errors in the functionality. Except the fact that I do not want the page to reload on triggering the fetch request.</p>\n\n<p>Note that I am using EJS as a template engine and Bootstrap 4 as a front-end library.</p>\n\n<p>Please have a look at my code below. Any tips in order to avoid the page reload, is much appreciated.</p>\n\n<p><strong>Front-end HTML:</strong></p>\n\n<pre><code>// detailjs.ejs\n\n&lt;div class=\"row\"&gt;\n    &lt;form&gt;\n        &lt;button class=\"btn btn-outline-primary\" onclick=\"UpdateArchiveStatus(this)\" id=\"btn-move-to-inbox\"&gt;&lt;i class=\"fas fa-inbox\"&gt;&lt;/i&gt; Flytt til innboks&lt;/button&gt;\n        &lt;button class=\"btn btn-outline-primary\" onclick=\"UpdateArchiveStatus(this)\" id=\"btn-move-to-archive\"&gt;&lt;i class=\"fas fa-archive\"&gt;&lt;/i&gt; Arkiver&lt;/button&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n\n&lt;div class=\"row\"&gt;\n    &lt;input type=\"hidden\" name=\"resolved-status\" id=\"resolved-status\" value=\"&lt;%= message.status.isResolved %&gt;\"&gt;\n    &lt;input type=\"hidden\" name=\"archive-status\" id=\"archive-status\" value=\"&lt;%= message.status.isArchived %&gt;\"&gt;\n&lt;/div&gt;\n\n&lt;!-- Script include --!&gt;\n&lt;script src=\"/assets/js/messages/message-admin.js\"&gt;\n</code></pre>\n\n<p><strong>Front-end JavaScript</strong></p>\n\n<pre><code>//message-admin.js\n\nconst UpdateArchiveStatus = btn =&gt; {\nvar messageId = $('#message-id').val();\nvar currentArchiveStatus = $('#archive-status').val();\nvar newArchiveStatus = null;\n\nif (currentArchiveStatus == 'true') {\n    newArchiveStatus = false;\n } else {\n   newArchiveStatus = true;\n }\n StoreArchiveStatus(messageId, newArchiveStatus);\n};\n\nfunction StoreArchiveStatus (messageId, archiveStatus) {\n    fetch(`/backoffice/api/messages/archive/${messageId}/${archiveStatus}`, \n    {\n        method: 'GET',\n    })\n    .then(result =&gt; {\n         return result.json();\n    })\n    .then(data =&gt; {\n        $('#archive-status').val(data.status);\n        CheckArchiveStatus();\n        console.log(data.message);\n    })\n    .catch(err =&gt; {\n        console.log(err);\n     });\n    };\n\nfunction ToggleArchivedInterface () {\n    var inboxButton   = $('#btn-move-to-inbox');\n    var archiveButton = $('#btn-move-to-archive');\n\n    inboxButton.removeClass('invisible');\n    archiveButton.addClass('invisible');\n};\n\nfunction ToggleInboxInterface () {\n    var inboxButton   = $('#btn-move-to-inbox');\n    var archiveButton = $('#btn-move-to-archive');\n\n    archiveButton.removeClass('invisible');\n    inboxButton.addClass('invisible');\n};\n\nasync function CheckArchiveStatus () {\n    var archiveStatus = $('#archive-status').val();\n    if (archiveStatus == 'true') {\n        ToggleArchivedInterface();\n    } else {\n        ToggleInboxInterface();\n    }\n};\n</code></pre>\n\n<p><strong>Back-end route:</strong></p>\n\n<pre><code>//routes/backoffice.js\n\nrouter.get('/api/messages/archive/:messageId/:archiveStatus', authenticate, backofficeController.apiUpdateMessageArchiveStatus);\n</code></pre>\n\n<p><strong>Back-end controller function:</strong></p>\n\n<pre><code>//controllers/backoffice.js\n\nexports.apiUpdateMessageResolvedStatus = (req, res, next) =&gt; {\n    var messageId      = req.params.messageId;\n    var resolvedStatus = req.params.resolvedStatus;\n\n    VisitorMessage.findOneAndUpdate(\n        { '_id' : messageId },\n        { $set: {\n            'status.isResolved': resolvedStatus\n        }\n    }).then((message) =&gt; {\n        res.status(200).json({message: `Message status was changed`, status: resolvedStatus})\n   }).catch((err) =&gt; {\n       console.log('The following error occured during update:\\n' + err);\n       res.status(500).json({message: 'An error occured during update.'});\n   })\n};\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1551906260, "post_id": 55032004, "comment_id": 96816799, "body": "Give all the newly added sets a class, then loop over all the elements with that and toggle their <code>display</code> styles."}, {"owner": {"reputation": 1, "user_id": 10104251, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8kU6nOIKhsQ/AAAAAAAAAAI/AAAAAAAAG0U/sM51sK2NEkg/photo.jpg?sz=128", "display_name": "Amaan", "link": "https://stackoverflow.com/users/10104251/amaan"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1551912458, "post_id": 55032004, "comment_id": 96819247, "body": "So should I create an empty array or how would I loop over the new elements?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1551912614, "post_id": 55032004, "comment_id": 96819328, "body": "<code>document.querySelectorAll(&quot;.classname&quot;).forEach(element =&gt; { code that does what you want to element });</code>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1551981610, "post_id": 55032004, "comment_id": 96850208, "body": "Post your new code in the question."}, {"owner": {"reputation": 1, "user_id": 10104251, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8kU6nOIKhsQ/AAAAAAAAAAI/AAAAAAAAG0U/sM51sK2NEkg/photo.jpg?sz=128", "display_name": "Amaan", "link": "https://stackoverflow.com/users/10104251/amaan"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1551982463, "post_id": 55032004, "comment_id": 96850595, "body": "I got it now, thank you for your help I really appreciate it! If there are any other issues I will post it here"}], "owner": {"reputation": 1, "user_id": 10104251, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8kU6nOIKhsQ/AAAAAAAAAAI/AAAAAAAAG0U/sM51sK2NEkg/photo.jpg?sz=128", "display_name": "Amaan", "link": "https://stackoverflow.com/users/10104251/amaan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551906037, "creation_date": 1551905825, "last_edit_date": 1551906037, "question_id": 55032004, "link": "https://stackoverflow.com/questions/55032004/how-do-i-hide-an-element-after-adding-it-through-javascript", "title": "How do I hide an element after adding it through Javascript?", "body": "<p>This is kind of a confusing question but I am basically trying to create a workout-table where I can add sets and then hide the newly created sets. Any idea how to do this? Here is my HTML and JS code so far: </p>\n\n<p><a href=\"https://i.stack.imgur.com/tN7Q3.png\" rel=\"nofollow noreferrer\">Javascript code</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/0TpNG.png\" rel=\"nofollow noreferrer\">HTML Code</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/leMaw.png\" rel=\"nofollow noreferrer\">Table I'm Creating</a></p>\n\n<p>So as you can see the add set button works fine but once I add the set I can't hide it. I can only hide the initial set which is currently set to hidden. Here's the code outside of the picture if this helps:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>document.querySelector('.add-set-btn').addEventListener('click', function() {\r\n  var html = '&lt;tr class=\"new-set\"&gt;&lt;td colspan=\"2\"&gt;&lt;/td&gt;&lt;td&gt;Warm-up&lt;/td&gt;&lt;td&gt;120lbs&lt;/td&gt;&lt;td&gt;12&lt;/td&gt;&lt;td&gt;90s&lt;/td&gt;&lt;/tr&gt;';\r\n  document.querySelector('.add-html').insertAdjacentHTML('beforebegin', html);\r\n});\r\n\r\n\r\n\r\ndocument.querySelector('.hide-row').style.display = 'none';\r\ndocument.querySelector('.toggle-view-btn').addEventListener('click',\r\n  function() {\r\n    if (document.querySelector('.hide-row').style.display === \"none\") {\r\n      document.querySelector('.hide-row').style.display = \"table-row\";\r\n    } else if (document.querySelector('.hide-row').style.display === \"table-row\") {\r\n      document.querySelector('.hide-row').style.display = \"none\";\r\n    }\r\n  })</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>html,\r\nbody {\r\n  background-color: #fff;\r\n  color: #cbcbcb;\r\n  font-family: 'Roboto', 'Arial', sans-serif;\r\n  font-weight: 300;\r\n  font-size: 20px;\r\n  text-rendering: optimizeLegibility;\r\n  background-color: #202d3a;\r\n}\r\n\r\n.icon {\r\n  cursor: pointer;\r\n}\r\n\r\n.add-set {\r\n  text-align: center;\r\n}\r\n\r\n.add-set-btn {\r\n  cursor: pointer;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;body&gt;\r\n  &lt;section class=\"workout-table\"&gt;\r\n    &lt;table class=\"table table-condensed table-dark\"&gt;\r\n      &lt;thead&gt;\r\n        &lt;tr&gt;\r\n          &lt;th&gt;&lt;/th&gt;\r\n          &lt;th&gt;Exercise&lt;/th&gt;\r\n          &lt;th&gt;Sets&lt;/th&gt;\r\n          &lt;th&gt;Weight&lt;/th&gt;\r\n          &lt;th&gt;Reps&lt;/th&gt;\r\n          &lt;th&gt;Rest&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n      &lt;/thead&gt;\r\n      &lt;tbody&gt;\r\n        &lt;tr&gt;\r\n          &lt;td&gt;&lt;button type=\"button\" class=\"btn-dark btn btn-sm toggle-view-btn\"&gt;&lt;i class=\"icon ion-md-add\"&gt;&lt;/i&gt;&lt;/button&gt;&lt;/td&gt;\r\n          &lt;td&gt;Bench Press&lt;/td&gt;\r\n          &lt;td&gt;4&lt;/td&gt;\r\n          &lt;td&gt;120lbs&lt;/td&gt;\r\n          &lt;td&gt;12&lt;/td&gt;\r\n          &lt;td&gt;90s&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n        &lt;tr class=\"hide-row\"&gt;\r\n          &lt;td colspan=\"2\"&gt;&lt;/td&gt;\r\n          &lt;td&gt;Warm-up&lt;/td&gt;\r\n          &lt;td&gt;120lbs&lt;/td&gt;\r\n          &lt;td&gt;12&lt;/td&gt;\r\n          &lt;td&gt;90s&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n\r\n        &lt;tr class=\"add-html\"&gt;\r\n          &lt;td class=\"add-set\" colspan=\"6\"&gt;&lt;button type=\"button\" class=\"btn btn-dark btn-sm add-set-btn\"&gt;&lt;i class=\"icon ion-md-add\"&gt;&lt;/i&gt; Add Set&lt;/button&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n      &lt;/tbody&gt;\r\n    &lt;/table&gt;\r\n\r\n  &lt;/section&gt;\r\n\r\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "ecmascript-6", "es6-promise", "next.js", "contentful"], "comments": [{"owner": {"reputation": 996, "user_id": 11153160, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qr9JL.png?s=128&g=1", "display_name": "ostrebler", "link": "https://stackoverflow.com/users/11153160/ostrebler"}, "edited": false, "score": 0, "creation_date": 1551905845, "post_id": 55031949, "comment_id": 96816605, "body": "Wouldn&#39;t you still have to use <code>this.props.someEntryAsProp</code> ?"}, {"owner": {"reputation": 19, "user_id": 11162036, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-AMrynfEd6Ho/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re41PUJUvs4fpqQKdWQBpQohs0kWg/mo/photo.jpg?sz=128", "display_name": "Mateenah M", "link": "https://stackoverflow.com/users/11162036/mateenah-m"}, "reply_to_user": {"reputation": 996, "user_id": 11153160, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qr9JL.png?s=128&g=1", "display_name": "ostrebler", "link": "https://stackoverflow.com/users/11153160/ostrebler"}, "edited": false, "score": 0, "creation_date": 1551947065, "post_id": 55031949, "comment_id": 96829266, "body": "I tried using that, but no luck. Adding .   <i>&lt;p&gt;{this.props.someEntryAsProp.fields.title}&lt;/p&gt;</i> gives another error *TypeError: Cannot read property &#39;props&#39; of undefined *"}], "answers": [{"tags": [], "owner": {"reputation": 4989, "user_id": 1358376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26786f4197918cb071d0475dc6a90335?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/1358376/rob"}, "is_accepted": false, "score": 0, "last_activity_date": 1551954531, "creation_date": 1551954531, "answer_id": 55041533, "question_id": 55031949, "link": "https://stackoverflow.com/questions/55031949/next-js-typeerror-cannot-read-property-xxx-of-undefined/55041533#55041533", "title": "Next Js TypeError: Cannot read property &#39;xxx&#39; of undefined", "body": "<p>You need to pass the props to your page-component as an argument:</p>\n\n<pre><code>const Index = ({someEntryAsProp}) =&gt; (...)\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 11162036, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-AMrynfEd6Ho/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re41PUJUvs4fpqQKdWQBpQohs0kWg/mo/photo.jpg?sz=128", "display_name": "Mateenah M", "link": "https://stackoverflow.com/users/11162036/mateenah-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2447, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1551954531, "creation_date": 1551905563, "last_edit_date": 1551905783, "question_id": 55031949, "link": "https://stackoverflow.com/questions/55031949/next-js-typeerror-cannot-read-property-xxx-of-undefined", "title": "Next Js TypeError: Cannot read property &#39;xxx&#39; of undefined", "body": "<p>I get the below error when I run \"next export\". My build is fine but the export fails. I have been following a lot of tutorials but couldn't find a solution. Have I defined my <code>someEntryAsProp</code> correctly?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import Layout from '../components/myLayout.js'\nimport Link from 'next/link'\nimport {createClient} from '../helpers/getcontent';\nimport { type } from 'os';\n\n\nfunction getPosts(){\n  return [\n    { id:'hello-nextjs' , title:'Hello Next.js' },\n    { id:'learn-nextjs' , title:'Learn Next.js is awesome' },\n    { id:'deploy-nextjs' , title:'Deploy apps with Zeit' },\n  ]\n}\nconst PostLink = ({ post }) =&gt; (\n  &lt;li&gt;\n    &lt;Link as={`/p/${post.id}`} href={`/post?title=${post.title}`}&gt;\n      &lt;a&gt;{post.title}&lt;/a&gt;\n    &lt;/Link&gt;\n  &lt;/li&gt;\n)\n\nconst Index = () =&gt; (\n\n  &lt;Layout&gt;\n    &lt;h1&gt;My Blog&lt;/h1&gt;\n    &lt;p&gt;{someEntryAsProp.fields.title}&lt;/p&gt;\n    &lt;ul&gt;\n    { getPosts().map((post) =&gt; (\n       &lt;PostLink key={post.id} post={post}/&gt;\n    ))}\n    &lt;/ul&gt;\n  &lt;/Layout&gt;\n  );\n\n  Index.getInitialProps = async () =&gt; {\n\n    console.log('&gt; Starting import',);\n   const client = createClient();\n     const entries = await client.getEntries({\n       // some query\n      content_type:type,\n       include:2\n     })\n\n   console.log(entries.items[0])\n     console.log('&gt; Content gotten and written for',)\n\n    return { someEntryAsProp: entries.items[0] };\n    //return {};\n  };\n\n  export default Index  \n</code></pre>\n\n<p>Error:</p>\n\n<blockquote>\n  <p>TypeError: Cannot read property 'someEntryAsProp' of undefined</p>\n</blockquote>\n\n<p>Can anyone please help me where I am doing wrong?</p>\n"}, {"tags": ["javascript", "jquery", "asp.net", "asp.net-mvc-4"], "answers": [{"tags": [], "owner": {"reputation": 4237, "user_id": 10787900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Z6j7Qhowx8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ighhCw1JxvK6l7ZVG0ZYElO2DSUA/mo/photo.jpg?sz=128", "display_name": "Bibberty", "link": "https://stackoverflow.com/users/10787900/bibberty"}, "is_accepted": false, "score": 1, "last_activity_date": 1551905277, "creation_date": 1551905277, "answer_id": 55031890, "question_id": 55031830, "link": "https://stackoverflow.com/questions/55031830/fetch-id-and-value-for-each-form-section/55031890#55031890", "title": "Fetch id and value for each form section", "body": "<p>Here this will build an object using the id/value. NOTE: I added set interval so you can type and see object being populated.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const buildItems = () =&gt; {\r\n  let items = {};\r\n  document.querySelectorAll('input').forEach(element =&gt; {\r\n    items[element.id] = element.value;\r\n  });\r\n  return items;\r\n};\r\n\r\n// check every 5secs (just to demo working)\r\nsetInterval(() =&gt; console.log(buildItems()), 5000);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"form-section\"&gt;\r\n    &lt;div class=\"section-header\"&gt;\r\n        &lt;span class=\"collapse-symbol\"&gt;&lt;i class=\"fas fa-angle-right\"&gt;&lt;/i&gt;&lt;/span&gt;\r\n        &lt;span class=\"section-title\"&gt;\r\n            Term\r\n        &lt;/span&gt;\r\n\r\n    &lt;/div&gt;\r\n    &lt;div class=\"content\" id=\"quote-edit-form\"&gt;\r\n\r\n&lt;div class=\"row-container\"&gt;\r\n\r\n    &lt;div class=\"row-child\"&gt;\r\n        &lt;label class=\"control-label\" for=\"StartDate\"&gt;StartDate Date&lt;/label&gt;\r\n\r\n        &lt;input class=\"form-control text-box single-line\" data-val=\"true\" data-val-date=\"The field Start Date must be a date.\" id=\"Start-date\" name=\"Terms.StartDate\" type=\"datetime\" value=\"\" /&gt;\r\n\r\n        &lt;label class=\"control-label\" for=\"Terms_Date\"&gt;Terms Date&lt;/label&gt;\r\n\r\n        &lt;input class=\"form-control text-box single-line\" data-val=\"true\" data-val-date=\"The field Terms Date must be a date.\" id=\"continuity-date\" name=\"Terms.ContinuityDate\" type=\"datetime\" value=\"\" /&gt;\r\n\r\n        &lt;label class=\"control-label\" for=\"Terms Period\"&gt;Extension Period&lt;/label&gt;\r\n\r\n        &lt;input class=\"form-control text-box single-line\" id=\"expiry-date\" name=\"Terms.ExtensionPeriod\" type=\"text\" value=\"\" /&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=\"row-child\"&gt;\r\n        &lt;label class=\"control-label\" for=\"Terms.Choice\"&gt;Choice&lt;/label&gt;\r\n\r\n        &lt;input class=\"form-control text-box single-line\" id=\"expiry-date\" name=\"Terms.Law\" type=\"text\" value=\"\" /&gt;\r\n\r\n        &lt;label class=\"control-label\" for=\"Terms_C\"&gt;C&lt;/label&gt;\r\n\r\n        &lt;input class=\"form-control text-box single-line\" data-val=\"true\" data-val-number=\"The field Commission must be a number.\" id=\"expiry-date\" name=\"Terms.C\" type=\"text\" value=\"\" /&gt;\r\n\r\n        &lt;label class=\"control-label\" for=\"Terms_P\"&gt;P&lt;/label&gt;\r\n\r\n        &lt;input class=\"form-control text-box single-line\" id=\"expiry-date\" name=\"Terms.P\" type=\"text\" value=\"\" /&gt;\r\n\r\n\r\n    &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 22747, "user_id": 3385827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7r8VX.png?s=128&g=1", "display_name": "Mohamed-Yousef", "link": "https://stackoverflow.com/users/3385827/mohamed-yousef"}, "is_accepted": true, "score": 0, "last_activity_date": 1551906552, "last_edit_date": 1551906552, "creation_date": 1551905316, "answer_id": 55031896, "question_id": 55031830, "link": "https://stackoverflow.com/questions/55031830/fetch-id-and-value-for-each-form-section/55031896#55031896", "title": "Fetch id and value for each form section", "body": "<ul>\n<li><p><code>$('.form-control text-box single-line')</code> should be <code>$('.form-control.text-box.single-line')</code></p></li>\n<li><p>To get id use <code>.attr('id')</code></p></li>\n<li>To get value use <code>$(this).val()</code></li>\n<li>To get data use <code>data('val')</code> or <code>.attr('data-val')</code> </li>\n<li><code>items = {};</code> should be <code>items = [];</code></li>\n<li>Id should be unique. So don't use same id for more than one element</li>\n</ul>\n\n<hr>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var items = [];\r\n$('.form-control.text-box.single-line').each(function () { \r\n    var obj = {\r\n        id: $(this).attr('id'),\r\n        dataVal : $(this).attr('data-val'),\r\n        value: $(this).val() \r\n    };\r\n    items.push(obj); \r\n});\r\nconsole.log(items);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;input class=\"form-control text-box single-line\" id=\"expiry-date1\" name=\"Terms.Law\" data-val=\"dataVal1\" type=\"text\" value=\"1\" /&gt;\r\n&lt;input class=\"form-control text-box single-line\" id=\"expiry-date2\" name=\"Terms.Law\" data-val=\"dataVal2\" type=\"text\" value=\"2\" /&gt;\r\n&lt;input class=\"form-control text-box single-line\" id=\"expiry-date3\" name=\"Terms.Law\" data-val=\"dataVal3\" type=\"text\" value=\"3\" /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>To add a key for each <code>obj</code> .. use <code>{ [key] : .... }</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var items = [];\r\n$('.form-control.text-box.single-line').each(function () { \r\n    var obj = { \r\n      [$(this).attr('data-val')] : {\r\n        id: $(this).attr('id'),\r\n        dataVal : $(this).attr('data-val'),\r\n        value: $(this).val() \r\n      }\r\n    }\r\n    items.push(obj); \r\n});\r\nconsole.log(items);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;input class=\"form-control text-box single-line\" id=\"expiry-date1\" name=\"Terms.Law\" data-val=\"dataVal1\" type=\"text\" value=\"1\" /&gt;\r\n&lt;input class=\"form-control text-box single-line\" id=\"expiry-date2\" name=\"Terms.Law\" data-val=\"dataVal2\" type=\"text\" value=\"2\" /&gt;\r\n&lt;input class=\"form-control text-box single-line\" id=\"expiry-date3\" name=\"Terms.Law\" data-val=\"dataVal3\" type=\"text\" value=\"3\" /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 387, "user_id": 1965995, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d8a76a6824dda912bd34885d660478a1?s=128&d=identicon&r=PG", "display_name": "Jois_Cool", "link": "https://stackoverflow.com/users/1965995/jois-cool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 55031896, "answer_count": 2, "score": 0, "last_activity_date": 1551906552, "creation_date": 1551904938, "question_id": 55031830, "link": "https://stackoverflow.com/questions/55031830/fetch-id-and-value-for-each-form-section", "title": "Fetch id and value for each form section", "body": "<p>I have the below form and trying to get the id and value and put the data in json to pass to my controller.Below is the code. I am unable to see what am I missing.This is first time into web development</p>\n\n<pre><code>&lt;div class=\"form-section\"&gt;\n    &lt;div class=\"section-header\"&gt;\n        &lt;span class=\"collapse-symbol\"&gt;&lt;i class=\"fas fa-angle-right\"&gt;&lt;/i&gt;&lt;/span&gt;\n        &lt;span class=\"section-title\"&gt;\n            Term\n        &lt;/span&gt;\n\n    &lt;/div&gt;\n    &lt;div class=\"content\" id=\"quote-edit-form\"&gt;\n\n&lt;div class=\"row-container\"&gt;\n\n    &lt;div class=\"row-child\"&gt;\n        &lt;label class=\"control-label\" for=\"StartDate\"&gt;StartDate Date&lt;/label&gt;\n\n        &lt;input class=\"form-control text-box single-line\" data-val=\"true\" data-val-date=\"The field Start Date must be a date.\" id=\"Start-date\" name=\"Terms.StartDate\" type=\"datetime\" value=\"\" /&gt;\n\n        &lt;label class=\"control-label\" for=\"Terms_Date\"&gt;Terms Date&lt;/label&gt;\n\n        &lt;input class=\"form-control text-box single-line\" data-val=\"true\" data-val-date=\"The field Terms Date must be a date.\" id=\"continuity-date\" name=\"Terms.ContinuityDate\" type=\"datetime\" value=\"\" /&gt;\n\n        &lt;label class=\"control-label\" for=\"Terms Period\"&gt;Extension Period&lt;/label&gt;\n\n        &lt;input class=\"form-control text-box single-line\" id=\"expiry-date\" name=\"Terms.ExtensionPeriod\" type=\"text\" value=\"\" /&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"row-child\"&gt;\n        &lt;label class=\"control-label\" for=\"Terms.Choice\"&gt;Choice&lt;/label&gt;\n\n        &lt;input class=\"form-control text-box single-line\" id=\"expiry-date\" name=\"Terms.Law\" type=\"text\" value=\"\" /&gt;\n\n        &lt;label class=\"control-label\" for=\"Terms_C\"&gt;C&lt;/label&gt;\n\n        &lt;input class=\"form-control text-box single-line\" data-val=\"true\" data-val-number=\"The field Commission must be a number.\" id=\"expiry-date\" name=\"Terms.C\" type=\"text\" value=\"\" /&gt;\n\n        &lt;label class=\"control-label\" for=\"Terms_P\"&gt;P&lt;/label&gt;\n\n        &lt;input class=\"form-control text-box single-line\" id=\"expiry-date\" name=\"Terms.P\" type=\"text\" value=\"\" /&gt;\n\n\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I have tried below way to capture the data from my html</p>\n\n<pre><code> var items = {};\n    $('.form-control text-box single-line').each(function () { \n        var obj = {\n            id: $(this).find('.id').val(), \n            value: $(this).find('.value').val() \n        };\n        o.items.push(obj); \n    });\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "reactjs", "puppeteer"], "comments": [{"owner": {"reputation": 12797, "user_id": 6161265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d4cc9f4b0d916aec6e10fa7ee2c18e1?s=128&d=identicon&r=PG", "display_name": "Md. Abu Taher", "link": "https://stackoverflow.com/users/6161265/md-abu-taher"}, "edited": false, "score": 1, "creation_date": 1551928644, "post_id": 55031823, "comment_id": 96823221, "body": "You will need a server. Please refer to <a href=\"https://stackoverflow.com/a/51750943/6161265\">stackoverflow.com/a/51750943/6161265</a>, <a href=\"https://stackoverflow.com/a/51732895/6161265\">stackoverflow.com/a/51732895/6161265</a> <a href=\"https://stackoverflow.com/a/54654516/6161265\">stackoverflow.com/a/54654516/6161265</a>"}, {"owner": {"reputation": 12797, "user_id": 6161265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d4cc9f4b0d916aec6e10fa7ee2c18e1?s=128&d=identicon&r=PG", "display_name": "Md. Abu Taher", "link": "https://stackoverflow.com/users/6161265/md-abu-taher"}, "edited": false, "score": 0, "creation_date": 1551928756, "post_id": 55031823, "comment_id": 96823249, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/54647694/how-to-run-puppeteer-code-in-any-web-browser\">How to run Puppeteer code in any web browser?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 289, "user_id": 9372558, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "NoobNewb", "link": "https://stackoverflow.com/users/9372558/noobnewb"}, "edited": false, "score": 0, "creation_date": 1551982309, "post_id": 55049611, "comment_id": 96850518, "body": "I went ahead and followed option 1. I got it working! Thank you! I didn&#39;t think something as easy as taking a screenshot of your browser requires a lot of steps. I also installed the cors library just to get past the cors error I was having."}, {"owner": {"reputation": 445, "user_id": 5057278, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/10103292689635645/picture?type=large", "display_name": "ihodonald", "link": "https://stackoverflow.com/users/5057278/ihodonald"}, "edited": false, "score": 0, "creation_date": 1575529527, "post_id": 55049611, "comment_id": 104599114, "body": "@Thomas Dondorf I tried Option 2 but I get an error saying that the Puppeteer package can&#39;t resolve the &#39;ws&#39; package. Here is a link to a similar Issue: <a href=\"https://github.com/puppeteer/puppeteer/issues/5219\" rel=\"nofollow noreferrer\">github.com/puppeteer/puppeteer/issues/5219</a>. Help?"}, {"owner": {"reputation": 636, "user_id": 3903902, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EgDxp.png?s=128&g=1", "display_name": "Hemant Sankhla", "link": "https://stackoverflow.com/users/3903902/hemant-sankhla"}, "edited": false, "score": 0, "creation_date": 1580981888, "post_id": 55049611, "comment_id": 106279340, "body": "This is what i was looking for, very easy and good explanation. Thanks @thomas"}, {"owner": {"reputation": 3188, "user_id": 1830549, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7440bf5809d10d36269da97edf037c69?s=128&d=identicon&r=PG", "display_name": "Trey Copeland", "link": "https://stackoverflow.com/users/1830549/trey-copeland"}, "edited": false, "score": 0, "creation_date": 1589403322, "post_id": 55049611, "comment_id": 109284754, "body": "@Thomas Dondorf how much traffic could the server.js handle?"}, {"owner": {"reputation": 348, "user_id": 8515675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fLto5.jpg?s=128&g=1", "display_name": "sajanthomas01", "link": "https://stackoverflow.com/users/8515675/sajanthomas01"}, "edited": false, "score": 0, "creation_date": 1596770297, "post_id": 55049611, "comment_id": 111923726, "body": "What if the case is like my react app runs inside a protected environment ( say only after login user can view the app) and I want to take a screenshot of specific area inside the react app( say styled text inside a rich text editor ). In this scenario I can&#39;t simply give the url to puppetteer , what can be the possible solution ? Tried html2canvas but it won&#39;t give exact output,"}, {"owner": {"reputation": 1242, "user_id": 2576379, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/lYk0P.jpg?s=128&g=1", "display_name": "Sunil Kumar", "link": "https://stackoverflow.com/users/2576379/sunil-kumar"}, "edited": false, "score": 0, "creation_date": 1618386526, "post_id": 55049611, "comment_id": 118582711, "body": "Just in case anyone needs the complete code working for react client and node server in action <a href=\"https://youtu.be/A8reJCYe1x8\" rel=\"nofollow noreferrer\">watch this tutorial for live website</a> and <a href=\"https://youtu.be/F8lM8pka5KE\" rel=\"nofollow noreferrer\">watch this tutorial for local file system</a>"}], "tags": [], "owner": {"reputation": 15319, "user_id": 5627599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/27jw3.jpg?s=128&g=1", "display_name": "Thomas Dondorf", "link": "https://stackoverflow.com/users/5627599/thomas-dondorf"}, "is_accepted": true, "score": 22, "last_activity_date": 1556702989, "last_edit_date": 1556702989, "creation_date": 1551979398, "answer_id": 55049611, "question_id": 55031823, "link": "https://stackoverflow.com/questions/55031823/how-to-make-puppeteer-work-with-a-reactjs-application-on-the-client-side/55049611#55049611", "title": "How to make Puppeteer work with a ReactJS application on the client-side", "body": "<p>Your React.js application runs on the client-side (in the browser). Puppeteer cannot run inside that environment as you cannot start a full browser inside the browser.</p>\n\n<p>What you need is a server which does that for you. You could ether offer a HTTP endpoint (option 1) or expose your puppeteer Websocket (option 2):</p>\n\n<h2>Option 1: Provide a HTTP endpoint</h2>\n\n<p>For this option, you setup a server which handles the incoming request and runs the task (making a screenshot) for you:</p>\n\n<p><strong>server.js</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const puppeteer = require('puppeteer');\nconst express = require('express');\n\nconst app = express();\n\napp.get('/screenshot', async (req, res) =&gt; {\n    const browser = await puppeteer.launch();\n    const page = await browser.newPage();\n    await page.goto(req.query.url); // URL is given by the \"user\" (your client-side application)\n    const screenshotBuffer = await page.screenshot();\n\n    // Respond with the image\n    res.writeHead(200, {\n        'Content-Type': 'image/png',\n        'Content-Length': screenshotBuffer.length\n    });\n    res.end(screenshotBuffer);\n\n    await browser.close();\n})\n\napp.listen(4000);\n</code></pre>\n\n<p>Start the application with <code>node server.js</code> and you can now pass the URL to your server and get a screenshot back from your server: <code>http://localhost:4000/screenshot?url=https://example.com/</code></p>\n\n<p>The response from the server could then be used as as the source of an image element in your application.</p>\n\n<h2>Option 2: Exposing the puppeteer Websocket to the client</h2>\n\n<p>You could also control the browser (which runs on the server) from the client-side by by exposing the Websocket.</p>\n\n<p>For that you need to expose the Websocket of your server like this: </p>\n\n<p><strong>server.js</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const puppeteer = require('puppeteer');\n\n(async () =&gt; {\n    const browser = await puppeteer.launch();\n    const browserWSEndpoint = browser.wsEndpoint();\n    browser.disconnect(); // Disconnect from the browser, but don't close it\n    console.log(browserWSEndpoint); // Communicate the Websocket URL to the client-side\n    // example output: ws://127.0.0.1:55620/devtools/browser/e62ec4c8-1f05-42a1-86ce-7b8dd3403f91\n})();\n</code></pre>\n\n<p>Now you can control the browser (running on the server) form the client-side with a <a href=\"https://github.com/GoogleChrome/puppeteer/tree/master/utils/browser\" rel=\"noreferrer\">puppeteer bundle</a> for the client. In this scenario you could now connect to the browser via <a href=\"https://github.com/GoogleChrome/puppeteer/blob/master/docs/api.md#puppeteerconnectoptions\" rel=\"noreferrer\">puppeteer.connect</a> and make a screenshot that way.</p>\n\n<p>I would strongly recommend using option 1, as in option 2 you are fully exposing your running browser to the client. Even with option 1, you still need to handle user input validation, timeouts, navigation errors, etc.</p>\n"}], "owner": {"reputation": 289, "user_id": 9372558, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "NoobNewb", "link": "https://stackoverflow.com/users/9372558/noobnewb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12758, "favorite_count": 3, "accepted_answer_id": 55049611, "answer_count": 1, "score": 9, "last_activity_date": 1556702989, "creation_date": 1551904911, "last_edit_date": 1554560498, "question_id": 55031823, "link": "https://stackoverflow.com/questions/55031823/how-to-make-puppeteer-work-with-a-reactjs-application-on-the-client-side", "title": "How to make Puppeteer work with a ReactJS application on the client-side", "body": "<p>I am fairly new to React and I am developing an app which will take actual screenshots of a web page and the app can draw and add doodles on top of the screenshot taken. I initially used html2canvas and domToImage to take client-side screenshots but it doesn't render the image exactly as it is shown in the web page.</p>\n\n<p>Reddit user /pamblam0 suggested I look into Google's Puppeteer. How it works is that it launches a headless chromium browser which goes to my react app on localhost then gets a screenshot of that whole page easily. My problem however, is that puppeteer doesn't play nice inside a react app. It gives me a ws error which, as explained on a google search can be fixed by simply installing ws (which doesn't work by the way).</p>\n\n<p>What happens now my puppeteer script works out my react app. From what I understand it doesn't work with client side app (I might be wrong). What I want to happen is that whenever I click the button from my react app, puppeteer should execute and return a base64 string which will then be passed to a component in my react app.</p>\n\n<p>Here is what I've done so far.</p>\n\n<p><strong>puppeteerApp.js</strong></p>\n\n<pre><code>const puppeteer = require('puppeteer');\n\nconst takeScreenshot = async () =&gt; {\n    puppeteer.launch().then(async browser =&gt; {\n        const page = await browser.newPage();\n        const options = {\n            path: 'saved_images/webshot.png',\n            encoding: 'base64'\n        }\n        await page.goto('http://localhost:3000/', { waitUntil: 'networkidle2' });\n        const elem = await page.$('iframe').then(async (iframe) =&gt; {\n            return await iframe.screenshot(options)\n        });\n\n        await browser.close()\n    });\n}\n\ntakeScreenshot();\n</code></pre>\n\n<p>Code from react app.\n<strong>App.js</strong></p>\n\n<pre><code>import React, { Component } from 'react';\nimport ScreenshotsContainer from './containers/ScreenshotsContainer/ScreenshotsContainer'\nimport ImageContainer from './containers/ImageContainer/ImageContainer';\nimport html2canvas from 'html2canvas';\nimport domtoimage from 'dom-to-image';\nimport Button from './components/UI/Button/Button'\nimport classes from './App.module.css';\nimport { CSSTransition } from 'react-transition-group'\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      imgURIArray: [],\n      img: null,\n      showImageContainer: false,\n      showScreenshotContainer: false,\n      selectedImageURI: null,\n      showSaveAnimation: false,\n      showNotify: false\n    }\n  }\n\n\n  storeImageToArrayHandler = (imgURI) =&gt; {\n    if (imgURI !== \"\") {\n      this.setState({ imgURIArray: [...this.state.imgURIArray, imgURI] }, () =&gt; {\n        this.setState({ showImageContainer: !this.state.showImageContainer })\n      })\n    }\n  }\n\n  getScreenshotHandler = () =&gt; {\n   //use puppeteer here!!!\n  }\n\n\n\n  getSelectedImageFromContainerHandler(selectedImageURI) {\n    this.setState({\n      selectedImageURI: selectedImageURI,\n      showImageContainer: !this.state.showImageContainer\n    })\n\n  }\n\n  showImageContainerHandler(showImageContainer) {\n    this.setState({ showImageContainer: showImageContainer })\n  }\n\n  showScreenshotContainerHandler = () =&gt; {\n    this.setState({ showScreenshotContainer: !this.state.showScreenshotContainer })\n  }\n  notify = (submitSuccessful, msg) =&gt; {\n    let message = msg ? msg : \"\"\n    submitSuccessful ?\n      toast.success(message, {\n        autoClose: 3000,\n        position: toast.POSITION.TOP_CENTER\n      })\n      :\n      toast.error(message, {\n        position: toast.POSITION.TOP_CENTER\n      });\n\n  }\n  render() {\n    let buttonOps = (\n      &lt;CSSTransition\n        in={!this.state.showScreenshotContainer}\n        appear={true}\n        timeout={300}\n        classNames=\"fade\"\n      &gt;\n        &lt;div className={classes.optionButtons}&gt;\n          &lt;Button icon={\"fas fa-camera\"} type={\"button-success\"} gridClass={\"\"} buttonName={\"\"} style={{ width: \"100%\", height: \"70px\" }} onClick={() =&gt; this.getScreenshotHandler} /&gt;\n          &lt;Button icon={\"fas fa-images\"} type={\"button-primary \"} gridClass={\"\"} buttonName={\"\"} style={{ width: \"100%\", height: \"70px\" }} onClick={() =&gt; this.showScreenshotContainerHandler} /&gt;\n        &lt;/div&gt;\n      &lt;/CSSTransition&gt;\n    )\n\n    return (\n      &lt;div&gt;\n        {\n          this.state.showImageContainer ?\n            &lt;div&gt;\n              &lt;ImageContainer\n                img={this.state.img}\n                showImageContainer={showImageContainer =&gt; this.showImageContainerHandler(showImageContainer)}\n                storeImageToArrayHandler={imgURI =&gt; this.storeImageToArrayHandler(imgURI)}\n                notify={(submitSuccessful, msg) =&gt; this.notify(submitSuccessful, msg)}\n              /&gt;\n            &lt;/div&gt;\n            : null\n        }\n        &lt;CSSTransition\n          in={this.state.showScreenshotContainer}\n          appear={true}\n          timeout={300}\n          classNames=\"slide\"\n          unmountOnExit\n          onExited={() =&gt; {\n            this.setState({ showScreenshotContainer: false })\n          }}\n        &gt;\n          &lt;ScreenshotsContainer\n            imgURIArray={this.state.imgURIArray}\n            getSelectedImageFromContainerHandler={imgURI =&gt; this.getSelectedImageFromContainerHandler(imgURI)}\n            showScreenshotContainerHandler={() =&gt; this.showScreenshotContainerHandler}\n            notify={(submitSuccessful, msg) =&gt; this.notify(submitSuccessful, msg)}\n          /&gt;\n\n        &lt;/CSSTransition&gt;\n        {this.state.showImageContainer ? null : buttonOps}\n        {/* &lt;button onClick={this.notify}&gt;Notify !&lt;/button&gt; */}\n        &lt;ToastContainer /&gt;\n\n      &lt;/div &gt;\n    );\n  }\n}\n\nexport default App;\n</code></pre>\n\n<p>Any help would be appreciated. Thanks!</p>\n"}, {"tags": ["javascript", "google-apps-script", "google-sheets", "conditional", "refresh"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9760786, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DbNnYy1Eit0/AAAAAAAAAAI/AAAAAAAAMgI/xQQzw2h1y0M/photo.jpg?sz=128", "display_name": "Gonzalo Lerner", "link": "https://stackoverflow.com/users/9760786/gonzalo-lerner"}, "edited": false, "score": 0, "creation_date": 1551914085, "post_id": 55033021, "comment_id": 96819869, "body": "Thank you! Exactly what I needed. I added the following lines to the beggining, after specifying the variables:  sheetTo.getRange(&quot;A2:Z100&quot;).clearContent();   sheetTo2.getRange(&quot;A2:Z100&quot;).clearContent();   sheetTo3.getRange(&quot;A2:Z100&quot;).clearContent();   sheetTo4.getRange(&quot;A2:Z100&quot;).clearContent();"}], "tags": [], "owner": {"reputation": 814, "user_id": 5063469, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206292909974171/picture?type=large", "display_name": "Mattias Martens", "link": "https://stackoverflow.com/users/5063469/mattias-martens"}, "is_accepted": true, "score": 0, "last_activity_date": 1551910416, "creation_date": 1551910416, "answer_id": 55033021, "question_id": 55031708, "link": "https://stackoverflow.com/questions/55031708/update-whole-sheet-when-another-sheet-changes-script/55033021#55033021", "title": "Update whole sheet when another sheet changes (script)", "body": "<p>I think you can see why the row is not disappearing, but it's because you're only overwriting the data up to the final row of your new input data, and are not doing anything to the rows after that.</p>\n\n<p>The docs shows that there is a function called <code>clear()</code> that will get rid of anything that was in there previously: <a href=\"https://developers.google.com/apps-script/reference/spreadsheet/sheet#clear\" rel=\"nofollow noreferrer\">https://developers.google.com/apps-script/reference/spreadsheet/sheet#clear</a></p>\n\n<p>Calling <code>sheetTo4.clear()</code> will clear all contents and formatting, while calling <code>sheetTo4.clear({contentsOnly: true})</code> will clear only the contents. You will of course have to rewrite the headers for the sheet.</p>\n"}], "owner": {"reputation": 3, "user_id": 9760786, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DbNnYy1Eit0/AAAAAAAAAAI/AAAAAAAAMgI/xQQzw2h1y0M/photo.jpg?sz=128", "display_name": "Gonzalo Lerner", "link": "https://stackoverflow.com/users/9760786/gonzalo-lerner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 55033021, "answer_count": 1, "score": 0, "last_activity_date": 1553447280, "creation_date": 1551904330, "last_edit_date": 1553447280, "question_id": 55031708, "link": "https://stackoverflow.com/questions/55031708/update-whole-sheet-when-another-sheet-changes-script", "title": "Update whole sheet when another sheet changes (script)", "body": "<p>I have a Google Spreadsheet that contains names of papers on the main sheet (called \"ABSTRACTS\"). One of the columns indicates if the paper has been discussed in the lab or not (\"si\",\"no\"). When the column says \"si\" (yes) the script copies the papers name and info to another sheet called \"Seminarios\" (seminars), if the column says \"no\" it copies the info to another sheet called \"DISCUTIR\" (to discuss). The script works fine (it copies the info to the appropriate sheet) but it has a little problem. When we discuss a paper and I change its status from \"no\" to \"yes\" it adds it to the SEMINARIO sheet but it doesn't remove it from the \"DISCUTIR\" one. Is there a way to make the script refresh the whole sheet? (If I delete the entire content of the \"DISCUTIR\" sheet it adds only the ones that I want it to, but I want to find a way of doing it automatically).</p>\n\n<p>Here I attach the code that I'm using. I'm sure its really untidy and inefficient since I have no idea of what I'm doing so I apologize for that. I have some programming experience in MATLAB but never used JavaScript and just managed to make it work by copying and pasting code.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function onEdit(e) {\n  var sheetFrom = SpreadsheetApp.getActiveSpreadsheet().getSheetByName(\"ABSTRACTS\");\n  var sheetTo = SpreadsheetApp.getActiveSpreadsheet().getSheetByName(\"SEMINARIOS\");\n  var sheetTo2 = SpreadsheetApp.getActiveSpreadsheet().getSheetByName(\"DESCARTADOS\");\n  var sheetTo3 = SpreadsheetApp.getActiveSpreadsheet().getSheetByName(\"DISCUTIR\");\n  var sheetTo4 = SpreadsheetApp.getActiveSpreadsheet().getSheetByName(\"CHEQUEAR\");\n\n  var data = sheetFrom.getDataRange().getValues();\n  var target = new Array(); // this is a new array to collect data\n  for (n = 0; n &lt; data.length; ++n) { // iterate in the array, row by row\n    if (data[n][8] == \"si\") { // if condition is true copy the whole row to target\n      target.push(data[n]); // copy the whole row\n    } //if\n  } //for\n\n  //Paste to another sheet from first cell onwards\n  sheetTo.getRange(2, 1, target.length, target[0].length).setValues(target);\n\n  var data = sheetFrom.getDataRange().getValues();\n  var target = new Array(); // this is a new array to collect data\n  for (n = 0; n &lt; data.length; ++n) { // iterate in the array, row by row\n    if (data[n][8] == \"descartado\") { // if condition is true copy the whole row to target\n      target.push(data[n]); // copy the whole row\n    } //if\n  } //for\n\n  //Paste to another sheet from first cell onwards\n  sheetTo2.getRange(2, 1, target.length, target[0].length).setValues(target);\n\n  var data = sheetFrom.getDataRange().getValues();\n  var target = new Array(); // this is a new array to collect data\n  for (n = 0; n &lt; data.length; ++n) { // iterate in the array, row by row\n    if (data[n][8] == \"no\") { // if condition is true copy the whole row to target\n      target.push(data[n]); // copy the whole row\n    } //if\n  } //for\n\n  //Paste to another sheet from first cell onwards\n  sheetTo3.getRange(2, 1, target.length, target[0].length).setValues(target);\n\n  var data = sheetFrom.getDataRange().getValues();\n  var target = new Array(); // this is a new array to collect data\n  for (n = 0; n &lt; data.length; ++n) { // iterate in the array, row by row\n    if (data[n][8] == \"chequear\") { // if condition is true copy the whole row to target\n      target.push(data[n]); // copy the whole row\n    } //if\n  } //for\n\n  //Paste to another sheet from first cell onwards\n  sheetTo4.getRange(2, 1, target.length, target[0].length).setValues(target);\n\n}\n</code></pre>\n\n\n"}, {"tags": ["javascript", "ecmascript-6"], "comments": [{"owner": {"reputation": 1182, "user_id": 3353505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/sEVBu.jpg?s=128&g=1", "display_name": "GifCo", "link": "https://stackoverflow.com/users/3353505/gifco"}, "edited": false, "score": 1, "creation_date": 1551904583, "post_id": 55031682, "comment_id": 96816106, "body": "What do you mean by you want them to work together? Also you have repeated yourself about 10 times in your question and you should tag this as jquery"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11022643"}, "reply_to_user": {"reputation": 1182, "user_id": 3353505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/sEVBu.jpg?s=128&g=1", "display_name": "GifCo", "link": "https://stackoverflow.com/users/3353505/gifco"}, "edited": false, "score": 1, "creation_date": 1551905218, "post_id": 55031682, "comment_id": 96816368, "body": "I have an item. And I want to filter this item with a few filters. Filters work individually (separately). But I want the filters to work together. (Filters do not work individually.)"}, {"owner": {"reputation": 1182, "user_id": 3353505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/sEVBu.jpg?s=128&g=1", "display_name": "GifCo", "link": "https://stackoverflow.com/users/3353505/gifco"}, "edited": false, "score": 1, "creation_date": 1551905349, "post_id": 55031682, "comment_id": 96816407, "body": "I can read, you have just repeated your question again with no actual information."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11022643"}, "reply_to_user": {"reputation": 1182, "user_id": 3353505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/sEVBu.jpg?s=128&g=1", "display_name": "GifCo", "link": "https://stackoverflow.com/users/3353505/gifco"}, "edited": false, "score": 1, "creation_date": 1551906486, "post_id": 55031682, "comment_id": 96816892, "body": "I have a few items. Each item has several sections. (Price and flight number and hours and .....). Each of these sections has a filter. I have defined three filters for these items. Each of them filters one section. I want when an item is equal to several filters or equal to one filter. Returns the item. And block all the items except the item you want."}], "owner": {"user_type": "does_not_exist", "display_name": "user11022643"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1551904576, "creation_date": 1551904234, "last_edit_date": 1551904576, "question_id": 55031682, "link": "https://stackoverflow.com/questions/55031682/multiple-filters-simultaneous", "title": "Multiple filters Simultaneous", "body": "<p>I have a few filters (checkbox and price filter and select option).\nI want these filters to work together. But there is a problem. Filters work individually. But I want these filters to work together.</p>\n\n<p>I have used this method. Group filters to work. But you can use your own method.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function rangeSlider() {\n  $(\".range-slider\").ionRangeSlider({\n    hide_min_max: true,\n    keyboard: true,\n    min: 0,\n    max: 150,\n    from: 0,\n    to: 140,\n    type: 'double',\n    step: 1,\n    prefix: \"$\",\n    grid: true,\n    onFinish: function(data) {\n      var _price = filters.findIndex(item =&gt; item.field === 'price');\n      if (_price != -1) filters[_price]['value'] = [data.from, data.to];\n      else addOrRemoveFilter('price', [data.from, data.to], true);\n      customFilter();\n      // console.log(addOrRemoveFilter('price', [data.from, data.to], true));\n\n    }\n  });\n}\n\nfunction customFilter() {\n  let filtered_list = [];\n  FlyList.filter(item =&gt; {\n    filters.forEach(function(el, i) {\n      let _field = el['field'];\n      let _value = el['value'];\n      // console.log(_value);\n\n\n\n      if (typeof(_value) === 'object' &amp;&amp; _value.length) {\n\n        if (parseInt(item[_field]) &gt;= (parseInt(_value[0] * 1000)) &amp;&amp; parseInt(item[_field]) &lt;= (parseInt(_value[1] * 1000))) {\n          filtered_list.push(item);\n        } else {\n          FlyList = [];\n        }\n\n      } else {\n        let isMulti = _value.split(',');\n\n        //RANGE PRICE SLIDER  \n        if (isMulti.length &gt; 1) {\n          let time = miliseconds(item[_field].split(':')[0], item[_field].split(':')[1])\n          let num1 = miliseconds(isMulti[0].split(':')[0], isMulti[0].split(':')[1]);\n          let num2 = miliseconds(isMulti[1].split(':')[0], isMulti[1].split(':')[1]);\n          if (time &gt;= num1 &amp;&amp; time &lt;= num2) filtered_list.push(item);\n        } else {\n          //end RANGE PRICE SLIDER  \n          item[_field] == _value ? filtered_list.push(item) : false;\n        }\n      }\n    })\n  });\n\n  function miliseconds(hrs, min) {\n    return ((hrs * 60 * 60 + min * 60) * 1000);\n  }\n\n  $('#flights').updateDom(filtered_list.length ? filtered_list : FlyList, {\n    animate: true,\n  });\n}\n\n\n\n\nlet filterCheckboxes = document.querySelectorAll('.filtersAll');\nfilterCheckboxes.forEach(checkbox =&gt; checkbox.addEventListener('change', (e) =&gt; {\n  e.preventDefault();\n  let filterTypeElement = findFilterTypeElement(e.target);\n  if (filterTypeElement) {\n\n    let field = filterTypeElement.getAttribute('data-field');\n    let val = e.target.value;\n\n    addOrRemoveFilter(field, val, e.target.checked);\n\n    customFilter();\n  }\n\n}));\n\n\ndocument.getElementById('optionAll').addEventListener('change', (e) =&gt; {\n  e.preventDefault();\n  let filterTypeElement = findFilterTypeElement(e.target);\n  if (filterTypeElement) {\n\n    let field = filterTypeElement.getAttribute('data-field');\n    let val = e.target.value;\n\n    addOrRemoveFilter(field, val, true);\n\n    for (var index = 0; index &lt; e.target.options.length; index++) {\n      addOrRemoveFilter(field, e.target.options[index].value, false);\n    }\n\n    addOrRemoveFilter(field, val, true);\n\n    customFilter();\n  }\n})\n\n\nfunction addOrRemoveFilter(f, v, add) {\n  if (add) {\n    filters.push({\n      field: f.toLowerCase(),\n      value: v\n    });\n  } else {\n    for (let i = 0; i &lt; filters.length; i++) {\n      if (filters[i].field === f.toLowerCase() &amp;&amp; filters[i].value === v) {\n        filters.splice(i, 1);\n      }\n    }\n  }\n  // console.log(filters);\n}\n\n\nfunction getParents(el, parentSelector /* optional */ ) {\n\n  // If no parentSelector defined will bubble up all the way to *document*\n  if (parentSelector === undefined) {\n    parentSelector = document;\n  }\n\n  var parents = [];\n  var p = el.parentNode;\n\n  while (p &amp;&amp; (p !== parentSelector || p.parentNode)) {\n    var o = p;\n    parents.push(o);\n    p = o.parentNode;\n  }\n  parents.push(parentSelector); // Push that parentSelector you wanted to stop at\n\n  return parents;\n}\n\nfunction findFilterTypeElement(el) {\n  var result = null;\n  var parents = getParents(el);\n\n  parents.forEach((item) =&gt; {\n    if (hasClass(item, 'filter_type') &amp;&amp; result == null) {\n      result = item;\n    }\n  });\n  return result;\n}\n\nfunction hasClass(element, className) {\n  return (' ' + element.className + ' ').indexOf(' ' + className + ' ') &gt; -1;\n}\n</code></pre>\n\n\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1551904406, "post_id": 55031676, "comment_id": 96816026, "body": "It seems like it&#39;s actually an issue with <code>fetchAll</code>. What&#39;s its signature?"}, {"owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "reply_to_user": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1551904862, "post_id": 55031676, "comment_id": 96816218, "body": "@p.s.w.g added it! Also found out if I added <code>?</code> to all the keys the error goes away, but I feel that is a hack?"}, {"owner": {"reputation": 21215, "user_id": 79677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fc1ca130deb434dfe5bcc19fbbebe48a?s=128&d=identicon&r=PG&f=1", "display_name": "CBarr", "link": "https://stackoverflow.com/users/79677/cbarr"}, "edited": false, "score": 0, "creation_date": 1551905381, "post_id": 55031676, "comment_id": 96816421, "body": "You probably don&#39;t want all parameters to be optional, that is most likely a non-deal hack/workaround for the actual issue here.  I agree, something is probably not right with <code>fetchAll</code>.  You have something returning an array of untyped objects, so that&#39;s all it can guess at here.  You need to add typedefs everywhere you can to avoid issues like these."}], "answers": [{"comments": [{"owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "edited": false, "score": 0, "creation_date": 1551906384, "post_id": 55032015, "comment_id": 96816853, "body": "Hmm thanks, trying to wrap my head about the <code>&lt;T&gt;</code> currently getting <code>Argument of type &#39;Promise&lt;any&gt;[]&#39; is not assignable to parameter of type &#39;IResponseConfig[]&#39;.   Type &#39;Promise&lt;any&gt;&#39; has no properties in common with type &#39;IResponseConfig&#39;</code> wondering if for the sake of another dev understanding context, <code>any</code> would suffice, since the arrays are strongly typed elsewhere."}, {"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "reply_to_user": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "edited": false, "score": 0, "creation_date": 1551909533, "post_id": 55032015, "comment_id": 96818197, "body": "@LeonGaban Ahh, I should have accounted for <code>Promise&lt;T&gt;</code> in the parameter type hint. See my updated answer. Hopefully this helps."}, {"owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "edited": false, "score": 0, "creation_date": 1551935944, "post_id": 55032015, "comment_id": 96824997, "body": "Sweet Yes that worked! :D I don&#39;t need to rely on <code>any</code> anymore. And great link which linked to generics: <a href=\"https://basarat.gitbooks.io/typescript/content/docs/types/generics.html\" rel=\"nofollow noreferrer\">basarat.gitbooks.io/typescript/content/docs/types/generics.h&zwnj;&#8203;tml</a>"}], "tags": [], "owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "is_accepted": true, "score": 1, "last_activity_date": 1551909373, "last_edit_date": 1551909373, "creation_date": 1551905864, "answer_id": 55032015, "question_id": 55031676, "link": "https://stackoverflow.com/questions/55031676/type-is-missing-the-following-properties-from-type-iresponseconfig/55032015#55032015", "title": "Type &#39;{}&#39; is missing the following properties from type &#39;IResponseConfig&#39;", "body": "<p>It looks like you need to define <code>fetchAll</code> as a generic function, like this:</p>\n\n<pre><code>export const fetchAll = &lt;T extends {}&gt;(array: (T | Promise&lt;T&gt;)[]) =&gt; Promise.all(array);\n</code></pre>\n\n<p><sup>NOTE: See <a href=\"https://stackoverflow.com/q/32308370/1715579\">this question</a> for a discussion on why <code>&lt;T&gt;(array T[]) =&gt; ...</code> fails to parse as you might expect.</sup></p>\n\n<p>Assuming, that <code>getPrices</code> and <code>getAvailableSupply</code> both return either a <code>IResponseConfig</code> or <code>Promise&lt;IResponseConfig&gt;</code>, the parameter <code>responses</code> will be inferred to be of type <code>IResponseConfig[]</code>.</p>\n\n<p>If this is not the case, you may have to add some additional conversions, type hints, or assertions to coerce them into a consistent interface.</p>\n"}], "owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3090, "favorite_count": 1, "accepted_answer_id": 55032015, "answer_count": 1, "score": 2, "last_activity_date": 1551909373, "creation_date": 1551904212, "last_edit_date": 1551904839, "question_id": 55031676, "link": "https://stackoverflow.com/questions/55031676/type-is-missing-the-following-properties-from-type-iresponseconfig", "title": "Type &#39;{}&#39; is missing the following properties from type &#39;IResponseConfig&#39;", "body": "<p>So running into another vague Typescript error.</p>\n\n<p>I have the following function <code>fetchAllAssets</code> which ends with dispatching an action and running the <code>responses</code> through a function called <code>formatAssets</code>.</p>\n\n<p>And the error is on the <code>responses</code> array.</p>\n\n<pre><code>export const fetchAllAssets = () =&gt; (dispatch: DispatchAllAssets) =&gt; {\n  dispatch(actionGetAllAssets());\n  return fetchAll([getPrices(), getAvailableSupply()]).then((responses) =&gt;\n    dispatch(actionSetAllAssets(formatAssets(responses))));\n}\n</code></pre>\n\n<p>The <strong>formatAssets</strong> function:</p>\n\n<pre><code>export const formatAssets = (responses: IResponseConfig[]) =&gt; {\n  let prices: any;\n  let availableSupplies: any;\n  console.log('responses', responses);\n  responses.forEach((response: IResponseConfig) =&gt; {\n    const { config } = response;\n    const { url } = config;\n    if (url.includes('prices')) {\n      prices = response.data;\n    } else if (url.includes('dashboard')) {\n      availableSupplies = cleanAssets(response.data);\n    }\n    return {\n      prices,\n      availableSupplies\n    };\n  });\n</code></pre>\n\n<p><strong>The Error</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/f58uh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f58uh.png\" alt=\"enter image description here\"></a></p>\n\n<blockquote>\n  <p>Argument of type '[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}]' is not assignable to parameter of type 'IResponseConfig[]'.\n    Type '{}' is missing the following properties from type 'IResponseConfig': config, data ts(2345)</p>\n</blockquote>\n\n<p>Here is what the interface for <strong>IResponseConfig</strong> looks like:</p>\n\n<pre><code>export interface IResponseConfig {\n  config: {\n    adapter: any;\n    baseUrl: string;\n    headers: {};\n    maxContentLength: number;\n    method: string;\n    params: {\n      key: string;\n    }\n    timeout: number;\n    transformRequest: {};\n    transformResponse: {};\n    url: string;\n    validateStatus: any;\n    xsrfCookieName: string;\n    xsrfHeaderName: string;\n  };\n  data: IAssetResponse[];\n  headers?: {};\n  request?: XMLHttpRequest;\n  upload?: XMLHttpRequestUpload;\n  status?: number;\n  statusText?: string;\n}\n</code></pre>\n\n<p>And here is what responses is:</p>\n\n<p><a href=\"https://i.stack.imgur.com/wD6O7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wD6O7.png\" alt=\"enter image description here\"></a></p>\n\n<p>What shape should <strong>IResponseConfig</strong> take in order for the error to go away?</p>\n\n<h2>Signature of fetchAll</h2>\n\n<pre><code>// @TODO Fix any type.\nexport const fetchAll = (array: any) =&gt; Promise.all(array);\n</code></pre>\n\n<h2>Also I was able to remove the error by making all keys optional (hack?)</h2>\n\n<pre><code>export interface IResponseConfig {\n  config?: any;\n  data?: IAssetResponse[];\n  headers?: any;\n  request?: XMLHttpRequest;\n  upload?: XMLHttpRequestUpload;\n  status?: number;\n  statusText?: string;\n}\n</code></pre>\n\n<p>What <code>IAssetResponse</code> looks like (the actual data I care about)</p>\n\n<pre><code>export interface IAssetResponse {\n  [key: string]: string | undefined;\n  currency: string;\n  price?: string;\n  availableSupply?: string;\n  maxSupply?: string;\n}\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "css", "css-grid"], "comments": [{"owner": {"reputation": 1605, "user_id": 10311733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b55940b818523e10afcf2890099b1f43?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr Wicijowski", "link": "https://stackoverflow.com/users/10311733/piotr-wicijowski"}, "edited": false, "score": 1, "creation_date": 1551904892, "post_id": 55031655, "comment_id": 96816230, "body": "If by &quot;apply an action&quot; you mean &quot;target a specific row with css selector&quot;, then unfortunately this is not possible, see <a href=\"https://stackoverflow.com/questions/46308048/how-to-target-a-specific-column-or-row-in-css-grid-layout\">this link</a>"}], "answers": [{"tags": [], "owner": {"reputation": 337, "user_id": 10740446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EXhiN.jpg?s=128&g=1", "display_name": "Bedir", "link": "https://stackoverflow.com/users/10740446/bedir"}, "is_accepted": false, "score": 0, "last_activity_date": 1551906675, "creation_date": 1551906675, "answer_id": 55032206, "question_id": 55031655, "link": "https://stackoverflow.com/questions/55031655/interacting-with-rows-from-a-grid-that-uses-repeat/55032206#55032206", "title": "Interacting with rows from a grid that uses repeat()", "body": "<p>You might be able to use the :nth-child() selector in css:</p>\n\n<pre><code>div.tp-grid div:nth-child(n+12):nth-child(-n+22){\n    display:none;\n}\n</code></pre>\n\n<p>Check out this link for more info on Mastering the :nth-child <a href=\"http://nthmaster.com/\" rel=\"nofollow noreferrer\">http://nthmaster.com/</a></p>\n"}], "owner": {"reputation": 509, "user_id": 920304, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/21427ce677632cd4370e0b3d8c89a4d5?s=128&d=identicon&r=PG", "display_name": "Kulahan", "link": "https://stackoverflow.com/users/920304/kulahan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1551906675, "creation_date": 1551904083, "question_id": 55031655, "link": "https://stackoverflow.com/questions/55031655/interacting-with-rows-from-a-grid-that-uses-repeat", "title": "Interacting with rows from a grid that uses repeat()", "body": "<p>I've got a grid which I currently generate using the following CSS:</p>\n\n<pre><code>.tp-grid {\ndisplay: grid;\ngrid-template-columns: repeat(11, 1fr);\ngrid-gap: 15px;\nalign-items: center;\n}\n</code></pre>\n\n<p>In the HTML, I generate something which might look like the following example:</p>\n\n<pre><code>&lt;div class=\"tp-grid\"&gt;\n    &lt;div&gt;Alex&lt;/div&gt;\n    &lt;div&gt;19&lt;/div&gt;\n    &lt;div&gt;Male&lt;/div&gt;\n    &lt;div&gt;Programmer&lt;/div&gt;\n    &lt;div&gt;Honda Civic&lt;/div&gt;\n    &lt;div&gt;American&lt;/div&gt;\n    &lt;div&gt;Brown Hair&lt;/div&gt;\n    &lt;div&gt;Blue Eyes&lt;/div&gt;\n    &lt;div&gt;$50k/yr&lt;/div&gt;\n    &lt;div&gt;Married&lt;/div&gt;\n    &lt;div&gt;3 kids&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Thanks to the CSS, all of this information is displayed in a single grid row. If I wanted two rows, however, the HTML might look something like this:</p>\n\n<pre><code>&lt;div class=\"tp-grid\"&gt;\n    &lt;div&gt;Alex&lt;/div&gt;\n    &lt;div&gt;19&lt;/div&gt;\n    &lt;div&gt;Male&lt;/div&gt;\n    &lt;div&gt;Programmer&lt;/div&gt;\n    &lt;div&gt;Honda Civic&lt;/div&gt;\n    &lt;div&gt;American&lt;/div&gt;\n    &lt;div&gt;Brown Hair&lt;/div&gt;\n    &lt;div&gt;Blue Eyes&lt;/div&gt;\n    &lt;div&gt;$50k/yr&lt;/div&gt;\n    &lt;div&gt;Married&lt;/div&gt;\n    &lt;div&gt;3 kids&lt;/div&gt;\n    &lt;div&gt;Ashley&lt;/div&gt;\n    &lt;div&gt;21&lt;/div&gt;\n    &lt;div&gt;Female&lt;/div&gt;\n    &lt;div&gt;DevOps&lt;/div&gt;\n    &lt;div&gt;Honda Accord&lt;/div&gt;\n    &lt;div&gt;Swedish&lt;/div&gt;\n    &lt;div&gt;Blonde Hair&lt;/div&gt;\n    &lt;div&gt;Gray Eyes&lt;/div&gt;\n    &lt;div&gt;$55k/yr&lt;/div&gt;\n    &lt;div&gt;Single&lt;/div&gt;\n    &lt;div&gt;0 kids&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Is it possible to apply an action to only a specific row when using repeat() in the CSS? Right now I'm looking to remove a single row, in case my question is too broad.</p>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1551904392, "post_id": 55031642, "comment_id": 96816020, "body": "Note that you can include all of the relevant code (including HTML and CSS) from your fiddle using <a href=\"https://meta.stackoverflow.com/q/358992/215552\">Stack Snippets</a>, so that people don&#39;t have to go to a different site to see a running example."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1551904418, "post_id": 55031642, "comment_id": 96816032, "body": "When I try running your jsfiddle I get lots of errors in the JavaScript console. Fix those problems first."}, {"owner": {"reputation": 23, "user_id": 11159691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfbd5275577adfdb20df7e718884d658?s=128&d=identicon&r=PG&f=1", "display_name": "Elvo1", "link": "https://stackoverflow.com/users/11159691/elvo1"}, "edited": false, "score": 0, "creation_date": 1551908142, "post_id": 55031642, "comment_id": 96817588, "body": "my apologies the add rows button was referencing an old function it is fixed now <a href=\"https://jsfiddle.net/elvo6969/51uLoa7b/2/\" rel=\"nofollow noreferrer\">jsfiddle.net/elvo6969/51uLoa7b/2</a>"}], "owner": {"reputation": 23, "user_id": 11159691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfbd5275577adfdb20df7e718884d658?s=128&d=identicon&r=PG&f=1", "display_name": "Elvo1", "link": "https://stackoverflow.com/users/11159691/elvo1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1551914525, "creation_date": 1551904032, "last_edit_date": 1551914525, "question_id": 55031642, "link": "https://stackoverflow.com/questions/55031642/adding-new-rows-columns-to-an-existing-table-keeping-functionality-of-table", "title": "Adding new rows &amp; columns to an existing table + keeping functionality of table", "body": "<p>Here is a link to my JS fiddle</p>\n\n<p>jsfiddle.net/elvo6969/51uLoa7b/2</p>\n\n<p>*new working link</p>\n\n<p>what I'm trying to do is add a new row to my table(that has empty cells which I can write in ) calculate the average of the new row and output it to the last cell in that row.(This is challenging because the first 3 rows should be ignored, as it has Student info  like name student number etc)</p>\n\n<p>At the moment when creating a new row it just creates a new single empty cell</p>\n\n<p>Can't seem to figure out how to add a column for the whole table aswell </p>\n\n<p>Any help is greatly appreciated, also almost completely new to JS please excuse any stupidness</p>\n\n<pre><code>function appendRow() {\n    var tbl = document.getElementById('my-table'), // table reference\n        row = tbl.insertRow(tbl.rows.length),      // append table row\n        i;\n    // insert table cells to the new row\n    for (i = 0; i &lt; tbl.rows[0].cells.length; i++) {\n        createCell(row.insertCell(i), i, 'row');\n    }\n}\n\nfunction createCell(cell, text, style) {\n    var div = document.createElement('div'), // create DIV element\n        txt = document.createTextNode(text); // create text node\n    div.appendChild(txt);                    // append text node to the DIV\n    div.setAttribute('class', style);        // set DIV class attribute\n    div.setAttribute('className', style);    // set DIV class attribute for IE \n    cell.appendChild(div);                   // append DIV to the table cell\n}\n\nfunction appendColumn() {\n    var tbl = document.getElementById('my-table'), // table reference\n        i;\n    // open loop for each row and append cell\n    for (i = 0; i &lt; tbl.rows.length; i++) {\n        createCell(tbl.rows[i].insertCell(tbl.rows[i].cells.length), i, 'col');\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "round-robin"], "owner": {"reputation": 1, "user_id": 10519602, "user_type": "registered", "profile_image": "https://graph.facebook.com/2091514904422553/picture?type=large", "display_name": "Thilina Shashimal Senarath", "link": "https://stackoverflow.com/users/10519602/thilina-shashimal-senarath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1882, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1552239030, "creation_date": 1551903848, "last_edit_date": 1552239030, "question_id": 55031601, "link": "https://stackoverflow.com/questions/55031601/round-robin-scheduling-algorithm-in-javascript", "title": "Round Robin Scheduling Algorithm in JavaScript", "body": "<p>i implemented RR scheduling algorithm with arrival time in javascript. but it have some issues. it is not give the right answer. process queue show correctly  </p>\n\n<pre><code>    function roundrobin(p,a,b,n){\n        var seq=[]\n        var res_b=[];\n        var res_a=[];\n        for (var x = 0; x &lt;b.length; x++) {\n                res_b[x] = b[x]; \n                res_a[x] = a[x]; \n            }    \n        var t=0;\n        var w=[];\n        var comp=[];\n        while(true){\n            var flag=true;\n            for(var i=0;i&lt;p.length;i++){\n                if (res_a[i]&lt;=t){\n                    if(res_a[i]&lt;=n){\n                        if(res_b[i]&gt;0){\n                            flag=false;\n                            if (res_b[i] &gt; n) { \n\n                                t = t + n; \n                                res_b[i] = res_b[i] - n; \n                                res_a[i] = res_a[i] + n; \n                                seq.push(p[i]); \n                            } \n                            else { \n                                t = t + res_b[i];  \n                                comp[i] = t - a[i];  \n                                w[i] = t - b[i] - a[i]; \n                                res_b[i] = 0; \n                                seq.push(p[i]);\n                            }\n                        }\n                    }\n                    else if (res_a[i] &gt; n) { \n                        for (var j = 0; j &lt; p.length; j++) { \n\n                            if (res_a[j] &lt; res_a[i]) { \n                                if (res_b[j] &gt; 0) { \n                                    flag = false; \n                                    if (res_b[j] &gt; n) { \n                                        t = t + n; \n                                        res_b[j] = res_b[j] - n; \n                                        res_a[j] = res_a[j] + n; \n                                        seq.push(p[j]); \n                                    } \n                                    else { \n                                        t = t + res_b[j]; \n                                        comp[j] = t - a[j]; \n                                        w[j] = t - b[j] - a[j]; \n                                        res_b[j] = 0; \n                                        seq.push(p[j]); \n                                    } \n                                } \n                            } \n                        } \n\n                        if (res_b[i] &gt; 0) { \n                            flag = false;  \n                            if (res_b[i] &gt; n) { \n                                t = t + n; \n                                res_b[i] = res_b[i] - n; \n                                res_a[i] = res_a[i] + n; \n                                seq.push(p[i]); \n                            } \n                            else { \n                                t = t + res_b[i]; \n                                comp[i] = t - a[i]; \n                                w[i] = t - b[i] - a[i]; \n                                res_b[i] = 0; \n                                seq.push(p[i]);\n                            } \n                        } \n                    } \n                }\n                else if (res_a[i] &gt; t) { \n                    t++; \n                    i--; \n\n\n            }\n        }\n        if (flag) { \n            break; \n        } \n\n        }\n        document.getElementById(\"demo1\").innerHTML = seq;\n        document.getElementById(\"demo2\").innerHTML = w;\n        document.getElementById(\"demo3\").innerHTML = comp;\n    }\n</code></pre>\n\n<p>give me some suggestion to the right implementation. (i worked on this code many days)\nRound robin  is the  scheduling algorithm used by the CPU during execution of the process . Round robin is designed specifically for time sharing systems . It is similar to first come first serve scheduling algorithm but the preemption  is the added functionality to switch between the processes </p>\n"}, {"tags": ["javascript", "reactjs", "react-native"], "comments": [{"owner": {"reputation": 10997, "user_id": 3358027, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/p6dc8.jpg?s=128&g=1", "display_name": "Buzinas", "link": "https://stackoverflow.com/users/3358027/buzinas"}, "edited": false, "score": 2, "creation_date": 1551903708, "post_id": 55031548, "comment_id": 96815728, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/48007326/what-is-the-correct-proptype-for-a-ref-in-react\">What is the correct proptype for a ref in React?</a>"}, {"owner": {"reputation": 398, "user_id": 5425908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9825dc9eedd70f7c26c08c83247c48d?s=128&d=identicon&r=PG&f=1", "display_name": "Ana", "link": "https://stackoverflow.com/users/5425908/ana"}, "reply_to_user": {"reputation": 10997, "user_id": 3358027, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/p6dc8.jpg?s=128&g=1", "display_name": "Buzinas", "link": "https://stackoverflow.com/users/3358027/buzinas"}, "edited": false, "score": 0, "creation_date": 1551904085, "post_id": 55031548, "comment_id": 96815884, "body": "Hi, I saw the links you provided, I thought it was different since this is in React Native, also I&#39;ve tried the solutions, but it gives me the warning &#39;Element&#39; is not defined. Should I just import it from &#39;react-native&#39; ? Thank you"}, {"owner": {"reputation": 1040, "user_id": 1581171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/47dNW.jpg?s=128&g=1", "display_name": "abadalyan", "link": "https://stackoverflow.com/users/1581171/abadalyan"}, "edited": false, "score": 0, "creation_date": 1551906820, "post_id": 55031548, "comment_id": 96817040, "body": "<code>Element</code> is not available in react native. Please see my answer."}], "answers": [{"tags": [], "owner": {"reputation": 1040, "user_id": 1581171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/47dNW.jpg?s=128&g=1", "display_name": "abadalyan", "link": "https://stackoverflow.com/users/1581171/abadalyan"}, "is_accepted": false, "score": 0, "last_activity_date": 1551906644, "creation_date": 1551906644, "answer_id": 55032198, "question_id": 55031548, "link": "https://stackoverflow.com/questions/55031548/correct-proptypes-type-when-passing-a-ref-in-react-native/55032198#55032198", "title": "Correct PropTypes type when passing a ref in React Native", "body": "<p>Try this:</p>\n\n<pre><code> MyComponent.propTypes = {\n    label: PropTypes.shape({ current: PropTypes.instanceOf(TextInput) }),\n    initValue: PropTypes.string.isRequired\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 398, "user_id": 7159312, "user_type": "registered", "profile_image": "https://graph.facebook.com/1301014699923676/picture?type=large", "display_name": "Michel Calheiros", "link": "https://stackoverflow.com/users/7159312/michel-calheiros"}, "is_accepted": false, "score": 0, "last_activity_date": 1551908783, "creation_date": 1551908783, "answer_id": 55032678, "question_id": 55031548, "link": "https://stackoverflow.com/questions/55031548/correct-proptypes-type-when-passing-a-ref-in-react-native/55032678#55032678", "title": "Correct PropTypes type when passing a ref in React Native", "body": "<p>Maybe this:</p>\n\n<pre><code>label: PropTypes.shape({component: PropTypes.instanceOf(React.Component)})\n</code></pre>\n\n<p>or like abadalyan answered, try this:</p>\n\n<pre><code>label: PropTypes.shape({ current: PropTypes.instanceOf(TextInput.__proto__)})\n</code></pre>\n\n<p>Just tried with a RNCamera ref, seeing if (this.camera instanceof React.Component) and it returned true.</p>\n"}], "owner": {"reputation": 398, "user_id": 5425908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9825dc9eedd70f7c26c08c83247c48d?s=128&d=identicon&r=PG&f=1", "display_name": "Ana", "link": "https://stackoverflow.com/users/5425908/ana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 813, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551908783, "creation_date": 1551903611, "last_edit_date": 1551908183, "question_id": 55031548, "link": "https://stackoverflow.com/questions/55031548/correct-proptypes-type-when-passing-a-ref-in-react-native", "title": "Correct PropTypes type when passing a ref in React Native", "body": "<p>What is the correct way to specify the <em>label</em> prop (a ref created with React.createRef() )?</p>\n\n<pre><code>const MyComponent = ({ label, initValue }) =&gt; (\n\n        &lt;TextInput\n          style={styles.textStyleNumber}\n          ref={label}  // &lt;-----------------------------\n          editable={false}\n          defaultValue={initValue}\n        /&gt;\n        ...\n)\n\nMyComponent.propTypes = {\n  // label: ? ,\n  initValue: PropTypes.string.isRequired,\n}\n</code></pre>\n"}, {"tags": ["javascript", "html", "binary-search"], "comments": [{"owner": {"reputation": 4783, "user_id": 278329, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/691cda48c764e569ef7886d4cbdb1133?s=128&d=identicon&r=PG", "display_name": "x4rf41", "link": "https://stackoverflow.com/users/278329/x4rf41"}, "edited": false, "score": 2, "creation_date": 1551904123, "post_id": 55031471, "comment_id": 96815905, "body": "The binarySearch is a good idea because of the O(log(n)) Complexity compared to the O(n) of the loop. It will behave much much better with alot of words. But your real problem will probably be <code>el.scrollHeight &gt; el.offsetHeight</code>. By changing the content and calling these properties, you will force a reflow (to calculate the size). See here: <a href=\"https://gist.github.com/paulirish/5d52fb081b3570c81e3a\" rel=\"nofollow noreferrer\">gist.github.com/paulirish/5d52fb081b3570c81e3a</a>  The best approach would probably be to make a test case and use the performance profiler of the browser to optimize it"}, {"owner": {"reputation": 501, "user_id": 2848941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EsfVC.jpg?s=128&g=1", "display_name": "Julix", "link": "https://stackoverflow.com/users/2848941/julix"}, "reply_to_user": {"reputation": 4783, "user_id": 278329, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/691cda48c764e569ef7886d4cbdb1133?s=128&d=identicon&r=PG", "display_name": "x4rf41", "link": "https://stackoverflow.com/users/278329/x4rf41"}, "edited": false, "score": 0, "creation_date": 1551905821, "post_id": 55031471, "comment_id": 96816598, "body": "looks like I was right about having an xy problem then... glad I included the full x :)   <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\" title=\"what is the xy problem\">meta.stackexchange.com/questions/66377/what-is-the-xy-proble&zwnj;&#8203;m</a>  However, it seems that by reducing the number of times the updates need to run the binary search approach still reduces the number of reflows as well."}, {"owner": {"reputation": 501, "user_id": 2848941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EsfVC.jpg?s=128&g=1", "display_name": "Julix", "link": "https://stackoverflow.com/users/2848941/julix"}, "reply_to_user": {"reputation": 4783, "user_id": 278329, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/691cda48c764e569ef7886d4cbdb1133?s=128&d=identicon&r=PG", "display_name": "x4rf41", "link": "https://stackoverflow.com/users/278329/x4rf41"}, "edited": false, "score": 0, "creation_date": 1551907307, "post_id": 55031471, "comment_id": 96817241, "body": "Can&#39;t find a better solution for the comparison, because both the width and height of the container fluctuate, so I need to have the JavaScript basically test after reflow &quot;what about now, does it fit?&quot; - unless I&#39;m missing something. Would a shadow DOM have height etc. calculated?"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 1, "creation_date": 1551907751, "post_id": 55031471, "comment_id": 96817419, "body": "@julix you could get the fonts line height, padding etc. and then estimate the number of words, this is however quite complicated and I&#39;m not sure if that is faster in the end"}, {"owner": {"reputation": 501, "user_id": 2848941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EsfVC.jpg?s=128&g=1", "display_name": "Julix", "link": "https://stackoverflow.com/users/2848941/julix"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1551908222, "post_id": 55031471, "comment_id": 96817623, "body": "@JonasWilms had considered that - figured I&#39;d likely get something wrong and do worse. How often do people resize anyway :D"}, {"owner": {"reputation": 4783, "user_id": 278329, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/691cda48c764e569ef7886d4cbdb1133?s=128&d=identicon&r=PG", "display_name": "x4rf41", "link": "https://stackoverflow.com/users/278329/x4rf41"}, "edited": false, "score": 1, "creation_date": 1551962182, "post_id": 55031471, "comment_id": 96838586, "body": "@Julix You can circumvent the reflow by using the measureText() function of the canvas <a href=\"https://developer.mozilla.org/de/docs/Web/API/CanvasRenderingContext2D/measureText\" rel=\"nofollow noreferrer\">developer.mozilla.org/de/docs/Web/API/CanvasRenderingContext&zwnj;&#8203;2D/&hellip;</a> .You would have to calculate line-breaks manually though (by checking how many words fit the given width). For that you could use the binary search approch again. Another general performance improvent would be caching. If the width does not change often, cache the calculated lines, etc. Recalculating the text size every animation frame call will probably never work fine with any method."}], "answers": [{"comments": [{"owner": {"reputation": 501, "user_id": 2848941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EsfVC.jpg?s=128&g=1", "display_name": "Julix", "link": "https://stackoverflow.com/users/2848941/julix"}, "edited": false, "score": 1, "creation_date": 1551906922, "post_id": 55031695, "comment_id": 96817077, "body": "This helps a lot! For an example of 50 words with 35 words fitting in the container, it takes it from 15 steps (all pop) to 8 (distance-end after each step: 25-25, 12-37, 6-31, 3-34, 1-35, 0-35). With more words (or less fitting) this would get even better."}, {"owner": {"reputation": 501, "user_id": 2848941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EsfVC.jpg?s=128&g=1", "display_name": "Julix", "link": "https://stackoverflow.com/users/2848941/julix"}, "edited": false, "score": 1, "creation_date": 1551908258, "post_id": 55031695, "comment_id": 96817648, "body": "Was wondering how this isn&#39;t destroying the wordArray, then I noticed it&#39;s slice not splice! Neat!"}, {"owner": {"reputation": 501, "user_id": 2848941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EsfVC.jpg?s=128&g=1", "display_name": "Julix", "link": "https://stackoverflow.com/users/2848941/julix"}, "edited": false, "score": 0, "creation_date": 1551909223, "post_id": 55031695, "comment_id": 96818071, "body": "I noticed that it doesn&#39;t seem to consider the <code>...</code> in it&#39;s calculations, so sometimes the <code>...</code> is on the next line! - I tested that again with my old code and didn&#39;t have the same issue. Any idea why?"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 501, "user_id": 2848941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EsfVC.jpg?s=128&g=1", "display_name": "Julix", "link": "https://stackoverflow.com/users/2848941/julix"}, "edited": false, "score": 1, "creation_date": 1551940186, "post_id": 55031695, "comment_id": 96826276, "body": "@julix Whoops, I guess ut should check the height after changing the content, not before."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 501, "user_id": 2848941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EsfVC.jpg?s=128&g=1", "display_name": "Julix", "link": "https://stackoverflow.com/users/2848941/julix"}, "edited": false, "score": 0, "creation_date": 1551940328, "post_id": 55031695, "comment_id": 96826331, "body": "Also there is not really an end condition which you usually have with binary search, therefore the result might by of by one"}, {"owner": {"reputation": 501, "user_id": 2848941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EsfVC.jpg?s=128&g=1", "display_name": "Julix", "link": "https://stackoverflow.com/users/2848941/julix"}, "edited": false, "score": 0, "creation_date": 1551988323, "post_id": 55031695, "comment_id": 96853413, "body": "This one is right less of the time than the last one was - and both have had off by one errors in either direction. I tried having a code that checks for overflow and then takes off one more word, but since the off by one can be in either direction that didn&#39;t consistently work."}, {"owner": {"reputation": 501, "user_id": 2848941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EsfVC.jpg?s=128&g=1", "display_name": "Julix", "link": "https://stackoverflow.com/users/2848941/julix"}, "edited": false, "score": 0, "creation_date": 1552074488, "post_id": 55031695, "comment_id": 96887620, "body": "How is there not an end condition? When it isn&#39;t over-flowing and adding any more would make it overflow, stop."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 501, "user_id": 2848941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EsfVC.jpg?s=128&g=1", "display_name": "Julix", "link": "https://stackoverflow.com/users/2848941/julix"}, "edited": false, "score": 1, "creation_date": 1552079167, "post_id": 55031695, "comment_id": 96889552, "body": "@julix yes, but usually you directly know when you found the element you were looking for, in this case however you won&#39;t know it directly."}], "tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 2, "last_activity_date": 1551940159, "last_edit_date": 1551940159, "creation_date": 1551904278, "answer_id": 55031695, "question_id": 55031471, "link": "https://stackoverflow.com/questions/55031471/adding-a-binary-search-optimization-to-a-multi-line-text-clamping-function/55031695#55031695", "title": "Adding a binary search optimization to a multi-line text clamping function", "body": "<p>You can easily let the loop use binary search:</p>\n\n<pre><code>let end = wordArray.length, distance = end;\n\nwhile(distance &gt; 0) {\n   distance = Math.floor(distance / 2);\n   el.innerHTML = wordArray.slice(0, end).join(' ') + '...';\n   end += el.scrollHeight &gt; el.offsetHeight ? -distance : distance;\n}\n</code></pre>\n"}], "owner": {"reputation": 501, "user_id": 2848941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EsfVC.jpg?s=128&g=1", "display_name": "Julix", "link": "https://stackoverflow.com/users/2848941/julix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1552080434, "creation_date": 1551903244, "last_edit_date": 1552080434, "question_id": 55031471, "link": "https://stackoverflow.com/questions/55031471/adding-a-binary-search-optimization-to-a-multi-line-text-clamping-function", "title": "Adding a binary search optimization to a multi-line text clamping function", "body": "<p>I need a solution to dynamically trim multi-line text in a container and have it end with ellipses instead.</p>\n\n<h3>CSS non-solution</h3>\n\n<p>Ideally <a href=\"https://css-tricks.com/almanac/properties/l/line-clamp/\" rel=\"nofollow noreferrer\">CSS</a> (line clamp) would handle this, but the Browser Support is just <a href=\"https://caniuse.com/#feat=css-line-clamp\" rel=\"nofollow noreferrer\">not there</a> (85.65%). - Also it's currently an \"extremely fragile [...] half-baked non-standardized propert[y]\" (<a href=\"https://css-tricks.com/line-clampin/\" rel=\"nofollow noreferrer\">source</a>).</p>\n\n<h3>JS: Pop until it fits (current solution)</h3>\n\n<p>I currently have a working JavaScript solution (measure &amp; pop, until it fits), but it scales poorly. It's affected by the difference between text length and clamped length as well as the number of clamped text elements.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var trimTextAddEllipses = function (targetElementClassName) {\r\n\tvar elArray = document.getElementsByClassName(targetElementClassName);\r\n\tArray.from(elArray).forEach(function (el) {\r\n\r\n\t\t// create a cache of full text in data-attribute to be non-destructive\r\n\t\tif (!el.hasAttribute('data-text-cache')) {\r\n\t\t\tel.setAttribute('data-text-cache',el.textContent);\r\n\t\t}\r\n\t\t// reset\r\n\t\tvar words = el.textContent = el.getAttribute('data-text-cache');\r\n\t\t// turn into array to pop off items until it fits.\r\n\t\tvar wordArray = words.split(' ');\r\n\t\twhile (el.scrollHeight &gt; el.offsetHeight) {\r\n\t\t\twordArray.pop();\r\n\t\t\tel.innerHTML = wordArray.join(' ') + ' \u2026';\r\n\t\t}\r\n\t});\r\n};</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>For resizes I call it as callback to a <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame\" rel=\"nofollow noreferrer\">requestAnimationFrame</a> call to limit the number of times the clamping is done.</p>\n\n<h2>JS: Binary search (goal)</h2>\n\n<p>The words are in order (i.e. sorted), so a binary search approach would work to make the code more effective.</p>\n\n<p>I found this <a href=\"https://stackoverflow.com/a/29018745/2848941\">this</a> binarySearch function but can't come up with a comparison function to make this work properly.</p>\n\n<p>I'd like help coming up with either a comparison function to use with the linked binary search function - or a different binary search solution that works for this problem.</p>\n\n<h2>Note</h2>\n\n<p>From the comments I'm aware that there's room for further optimization past binary search, but that it would require a lot of JS work (i.e. estimating rather than measuring, thus avoiding rendering this over and over) - but that seems too difficult.</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1551903397, "post_id": 55031432, "comment_id": 96815585, "body": "Instead of adding separate event handlers in the loop, use event delegation to all elements with the same class. Then use DOM navigation relative to <code>$(this)</code> to operate on the same card they clicked on."}, {"owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "edited": false, "score": 1, "creation_date": 1551903953, "post_id": 55031432, "comment_id": 96815828, "body": "You cannot have more than one element with any given <code>id</code> value. Use CSS classes instead."}, {"owner": {"reputation": 141, "user_id": 11052235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfb474d01a42efc6d21e6f6d9f74c326?s=128&d=identicon&r=PG&f=1", "display_name": "MCM", "link": "https://stackoverflow.com/users/11052235/mcm"}, "edited": false, "score": 0, "creation_date": 1551903990, "post_id": 55031432, "comment_id": 96815843, "body": "I tried doing it with $(this).fadeOut(&#39;slow&#39;) or $(this).addClass(&#39;toDelete&#39;) but it adds it to the wrong &lt;div&gt;. Do I need to add something else to the loop? (Sorry, I&#39;m still new working with &#39;$(this)&#39;"}, {"owner": {"reputation": 141, "user_id": 11052235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfb474d01a42efc6d21e6f6d9f74c326?s=128&d=identicon&r=PG&f=1", "display_name": "MCM", "link": "https://stackoverflow.com/users/11052235/mcm"}, "edited": false, "score": 0, "creation_date": 1551904243, "post_id": 55031432, "comment_id": 96815951, "body": "Good tip! I changed everything to classes but still it only works once. :("}, {"owner": {"reputation": 4326, "user_id": 3281014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIpXo.jpg?s=128&g=1", "display_name": "Nawed Khan", "link": "https://stackoverflow.com/users/3281014/nawed-khan"}, "edited": false, "score": 0, "creation_date": 1551904926, "post_id": 55031432, "comment_id": 96816246, "body": "What is i ?? are you looping through something and have all the above code inside the loop?"}, {"owner": {"reputation": 141, "user_id": 11052235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfb474d01a42efc6d21e6f6d9f74c326?s=128&d=identicon&r=PG&f=1", "display_name": "MCM", "link": "https://stackoverflow.com/users/11052235/mcm"}, "edited": false, "score": 0, "creation_date": 1551905132, "post_id": 55031432, "comment_id": 96816334, "body": "Yes, Im looping through information I have on my database, the &#39;i&#39; on &#39;.promo&#39; just gives you the number of promo. Ex: promo9, promo10.. etc.."}, {"owner": {"reputation": 726, "user_id": 9441878, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aKuUYnO7gMc/AAAAAAAAAAI/AAAAAAAAAAo/Qkt42IiWxQ4/photo.jpg?sz=128", "display_name": "Alex Yokisama", "link": "https://stackoverflow.com/users/9441878/alex-yokisama"}, "edited": false, "score": 0, "creation_date": 1551906020, "post_id": 55031432, "comment_id": 96816691, "body": "Missing closing tag for <code>p.promo-time</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 11052235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfb474d01a42efc6d21e6f6d9f74c326?s=128&d=identicon&r=PG&f=1", "display_name": "MCM", "link": "https://stackoverflow.com/users/11052235/mcm"}, "edited": false, "score": 0, "creation_date": 1551905606, "post_id": 55031848, "comment_id": 96816520, "body": "Thank you for the suggestion! But still, its only removing the first one :("}, {"owner": {"reputation": 726, "user_id": 9441878, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aKuUYnO7gMc/AAAAAAAAAAI/AAAAAAAAAAo/Qkt42IiWxQ4/photo.jpg?sz=128", "display_name": "Alex Yokisama", "link": "https://stackoverflow.com/users/9441878/alex-yokisama"}, "reply_to_user": {"reputation": 141, "user_id": 11052235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfb474d01a42efc6d21e6f6d9f74c326?s=128&d=identicon&r=PG&f=1", "display_name": "MCM", "link": "https://stackoverflow.com/users/11052235/mcm"}, "edited": false, "score": 0, "creation_date": 1551906167, "post_id": 55031848, "comment_id": 96816758, "body": "Try <code>$($(this).parents()[3]).addClass(&#39;toDelete&#39;)</code> inside handler. But be careful, this method hardly depends on your html-markup. Also, not sure about index."}], "tags": [], "owner": {"reputation": 726, "user_id": 9441878, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aKuUYnO7gMc/AAAAAAAAAAI/AAAAAAAAAAo/Qkt42IiWxQ4/photo.jpg?sz=128", "display_name": "Alex Yokisama", "link": "https://stackoverflow.com/users/9441878/alex-yokisama"}, "is_accepted": false, "score": 1, "last_activity_date": 1551905022, "creation_date": 1551905022, "answer_id": 55031848, "question_id": 55031432, "link": "https://stackoverflow.com/questions/55031432/jquery-click-event-removing-first-element/55031848#55031848", "title": "jQuery click event removing first element", "body": "<p>Try changing your handler to:</p>\n\n<pre><code>$('body').on('click', `#promotion-container .promo${i} .redddButt`, function(e){\n  //function stuff here\n}\n</code></pre>\n\n<p>The problem might be that elements are generated after the handler is attached. </p>\n"}, {"tags": [], "owner": {"reputation": 15, "user_id": 3906884, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9sBl3.jpg?s=128&g=1", "display_name": "KareimQ", "link": "https://stackoverflow.com/users/3906884/kareimq"}, "is_accepted": false, "score": 0, "last_activity_date": 1551910131, "creation_date": 1551910131, "answer_id": 55032953, "question_id": 55031432, "link": "https://stackoverflow.com/questions/55031432/jquery-click-event-removing-first-element/55032953#55032953", "title": "jQuery click event removing first element", "body": "<p>Your code is missing some few closing tags. Since the cards are dynamically generated, try using (not tested): </p>\n\n<pre><code>var buttonContext;\n\n$(document).on('click', '#promotion-container .promo .redddButt', function() {\n     buttonContext = $(this);\n    // Something \n});\n\n$('#deletePromoFromHome').click(function(){\n    buttonContext.closest('.promo').fadeOut(\"slow\");\n});\n</code></pre>\n\n<p>You can omit this line: <code>$(div.promo${i}).addClass('toDelete');</code></p>\n\n<p>The cards may have a single class (.promo) instead of (.promo#), unless may be you want to do further manipulation (say different styling etc).</p>\n\n<p>Check this for more details on <code>$(document)</code>: <a href=\"https://stackoverflow.com/a/32066793/3906884\">https://stackoverflow.com/a/32066793/3906884</a></p>\n"}], "owner": {"reputation": 141, "user_id": 11052235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfb474d01a42efc6d21e6f6d9f74c326?s=128&d=identicon&r=PG&f=1", "display_name": "MCM", "link": "https://stackoverflow.com/users/11052235/mcm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551910131, "creation_date": 1551903077, "last_edit_date": 1551903694, "question_id": 55031432, "link": "https://stackoverflow.com/questions/55031432/jquery-click-event-removing-first-element", "title": "jQuery click event removing first element", "body": "<p>Im working on a project and on my .ejs file I have a popup:</p>\n\n<pre><code>&lt;div id=\"just-claimed-popup2\" class=\"popup\"&gt;\n   &lt;h6&gt;You just claimed:&lt;/h6&gt;\n   &lt;h2 id=\"card-just-claimed\"&gt;&lt;/h2&gt;\n   &lt;p class=\"show-message\"&gt;Show this Screen!&lt;/p&gt;\n   &lt;button id=\"deletePromoFromHome\" class=\"close-button\"&gt;Close&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>On my javascript file I have a code that creates cards on a loop:</p>\n\n<pre><code>$('#promotion-container footer').before(`\n   &lt;div class=\"promo card promo${i}\"&gt;\n     &lt;div class=\"promo-wrapper\"&gt;\n         &lt;div class=\"promo-header\"&gt;\n            &lt;h2 class=\"promo-title\"&gt;${eventName}&lt;/h2&gt;\n            &lt;span class=\"close-promo-wrapper\"&gt;&lt;span class=\"close-promo\"&gt;&lt;/span&gt;&lt;/span&gt;\n         &lt;/div&gt;\n   &lt;div class=\"promo-info\"&gt;\n   &lt;span class=\"promo-details\"&gt;\n   &lt;p class=\"promo-detail promo-location\"&gt;${eventLocation}&lt;/p&gt;\n   &lt;p class=\"promo-detail promo-date\"&gt;${eventDate}&lt;/p&gt;\n   &lt;p class=\"promo-detail promo-time\"&gt;${eventTime}\n   &lt;span class=\"promo-description\"&gt;&lt;/span&gt;\n   &lt;span class=\"buttonRedemp${i}\"&gt;\n        &lt;button class=\"redddButt load-button2\" data=\"Reedem Card\"&gt;Reedem Card&lt;/button&gt;\n    &lt;/span&gt;\n   &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n      `)\n</code></pre>\n\n<p>I want the card to disappear when people click 'redddButt', this is my code:</p>\n\n<pre><code>$(`#promotion-container .promo${i} .redddButt`).on('click', function(e){\n    e.stopPropagation();\n    $(`div.promo${i}`).addClass('toDelete')\n\n    var esc = $.Event(\"keyup\", { keyCode: 27 });\n    $(document).trigger(esc);\n    $('#just-claimed-popup2').addClass('reveal');\n    $('#card-just-claimed').text(eventName);\n\n    $('#deletePromoFromHome').click(function(){\n        $('div.toDelete').fadeOut(\"slow\")\n    })\n})\n</code></pre>\n\n<p>PROBLEM: it always removes just the first card clicked and if you click the button in another one it stops working, so it only works once. If I console.log something the click event is happening, it's just not running the code inside of it.</p>\n"}, {"tags": ["javascript", "promise", "google-cloud-firestore", "google-cloud-functions"], "comments": [{"owner": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 0, "creation_date": 1551903076, "post_id": 55031370, "comment_id": 96815447, "body": "<code>Promise.all</code> expects an array or Promises, not data.  see: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/all\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 11, "user_id": 11121083, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dLUM7elFx0I/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcBjJ_h2vlZGIDwQqMrpXVyG_ia2A/mo/photo.jpg?sz=128", "display_name": "Mike Rees", "link": "https://stackoverflow.com/users/11121083/mike-rees"}, "reply_to_user": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 0, "creation_date": 1551903845, "post_id": 55031370, "comment_id": 96815781, "body": "This is something I am still trying to wrap my head around. I thought that .get() is a promise, and I&#39;m pushing these to the promise.all. Maybe I am not understanding your comment Steven. Are you saying that I&#39;m passing data and I shouldn&#39;t be?"}, {"owner": {"reputation": 18374, "user_id": 3478010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y4DTM.png?s=128&g=1", "display_name": "Roamer-1888", "link": "https://stackoverflow.com/users/3478010/roamer-1888"}, "edited": false, "score": 0, "creation_date": 1551999681, "post_id": 55031370, "comment_id": 96857867, "body": "@MikeRees, what makes the values/objects delivered by the promises into rows? Could you write some simple code with hard-coded data that successfully delivers rows to your model?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 11121083, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dLUM7elFx0I/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcBjJ_h2vlZGIDwQqMrpXVyG_ia2A/mo/photo.jpg?sz=128", "display_name": "Mike Rees", "link": "https://stackoverflow.com/users/11121083/mike-rees"}, "edited": false, "score": 0, "creation_date": 1551904470, "post_id": 55031678, "comment_id": 96816050, "body": "Sorry, I cannot get over the fact that I cannot press ENTER inside of this comment box. I will try your suggestion Steven. Thanks."}, {"owner": {"reputation": 11, "user_id": 11121083, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dLUM7elFx0I/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcBjJ_h2vlZGIDwQqMrpXVyG_ia2A/mo/photo.jpg?sz=128", "display_name": "Mike Rees", "link": "https://stackoverflow.com/users/11121083/mike-rees"}, "edited": false, "score": 0, "creation_date": 1551904989, "post_id": 55031678, "comment_id": 96816273, "body": "I do not understand how to implement this suggestion. I am assuming value[0] would be my &#39;p&#39; and value[1] would be my &#39;p2&#39;. This is assuming that all mentees have information and all mentors have information, such that each array would have the same elements. I cannot make that assumption. I&#39;m trying to explicitly retrieve the connected information once. It doesn&#39;t make sense to me to retrieve all mentee info, then retrieve all mentor info, and then try to connect these. Maybe I&#39;m just thinking about this the wrong way. Can you please offer some advice on implementing this suggestion?"}, {"owner": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "reply_to_user": {"reputation": 11, "user_id": 11121083, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dLUM7elFx0I/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcBjJ_h2vlZGIDwQqMrpXVyG_ia2A/mo/photo.jpg?sz=128", "display_name": "Mike Rees", "link": "https://stackoverflow.com/users/11121083/mike-rees"}, "edited": false, "score": 0, "creation_date": 1551908032, "post_id": 55031678, "comment_id": 96817547, "body": "I have updated my answer to include your code, modified."}, {"owner": {"reputation": 11, "user_id": 11121083, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dLUM7elFx0I/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcBjJ_h2vlZGIDwQqMrpXVyG_ia2A/mo/photo.jpg?sz=128", "display_name": "Mike Rees", "link": "https://stackoverflow.com/users/11121083/mike-rees"}, "edited": false, "score": 0, "creation_date": 1551909615, "post_id": 55031678, "comment_id": 96818235, "body": "Thanks Steve. I cannot tell if this runs correctly or not. I place a console.log entry in the .then which you added, and I am not seeing any console log entries as a result. It is not erroring out. The log has the two typical function execution sets (start/finished 204/200. I&#39;m referring to the two objects in &lt;template slot=&quot;mentorLastName&quot; slot-scope=&quot;row&quot;&gt;           {{row.item.mentor.lastName}}         &lt;/template&gt;         &lt;template slot=&quot;menteelastName&quot; slot-scope=&quot;row&quot;&gt;           {{row.item.mentee.lastName}}         &lt;/template&gt; and getting nothing displayed."}, {"owner": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "reply_to_user": {"reputation": 11, "user_id": 11121083, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dLUM7elFx0I/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcBjJ_h2vlZGIDwQqMrpXVyG_ia2A/mo/photo.jpg?sz=128", "display_name": "Mike Rees", "link": "https://stackoverflow.com/users/11121083/mike-rees"}, "edited": false, "score": 0, "creation_date": 1551910142, "post_id": 55031678, "comment_id": 96818440, "body": "@Mike Reese sorry but I can&#39;t quite follow your db logic, so I edited my response with another example.   I think you have issues with your loops. Connect to a debugger and step through the code, comparing to the simplified edit I just made, to find where the error is"}], "tags": [], "owner": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "is_accepted": false, "score": 0, "last_activity_date": 1551910031, "last_edit_date": 1551910031, "creation_date": 1551904222, "answer_id": 55031678, "question_id": 55031370, "link": "https://stackoverflow.com/questions/55031370/returning-cloud-firebase-data-from-multiple-promises-at-the-same-time/55031678#55031678", "title": "Returning cloud Firebase data from multiple promises at the same time", "body": "<p>Moved to an answer because it's too large for a comment: </p>\n\n<p>I've never come across any examples that use <code>Promise.all</code> in that way ( using an array of data ), but maybe that's an example from an earlier Promise library like <code>Bliebird</code>, which is not applicable anymore.</p>\n\n<p>here's a quick example for you:</p>\n\n<pre><code>Promis.all([ Promise.resolve('one'), Promise.reject(new Error('example failure') ])\n.then( ( values ) =&gt; {\n  //values[0] = data from promise 1; 'one'\n  //values[1] = data from promise 2\n})\n.catch( ( error ) =&gt; {\n  // note that an error from any promise provided will resolve this catch\n})\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>As requested, here is your code modified to use Promise.all:</p>\n\n<pre><code>exports.getMatchesNew = functions.https.onCall((data, context) =&gt; {\n  console.log(\"In On Call\", data);\n  return db.collection('matches').get()\n  .then(areaSnapshot =&gt; {\n      const promises = [];\n      areaSnapshot.forEach(doc =&gt; {\n        var area = doc.data();\n        // console.log(\"Area  is \", area.mentees);\n        // console.log(\"area ID is \", area.id);\n\n        // Loop through each mentee for a mentor\n        for (const city in area.mentees)\n        {\n          // console.log(\"City is \", area.mentees[city]);\n\n          // User Information for current mentee\n          const p = db.collection('users').doc(area.mentees[city]).get();\n\n          //User Information for current mentor\n          const p2 = db.collection('users').doc(doc.id).get();\n          //console.log(\"Doc \",p);\n          // would like to combine this together, which will end up on one row\n          // mentor name, mentee name\n          promises.push(p, p2);\n        }\n      })\n\n      return Promise.all(promises);\n      //response.send(data);\n  })\n  .then(citySnapshots =&gt; {\n\n    let mentee = citySnapshots[0];\n    let mentor = citySnapshots[1];\n    return {\n      mentee,\n      mentor\n    };\n\n  })\n  .catch(error =&gt; {\n    // Handle the error\n    console.log(error);\n    //response.status(500).send(error);\n  });\n});\n</code></pre>\n\n<p>another example without your db logic that I'm not quite following:</p>\n\n<pre><code>\nvar response1 = { \"foo\": \"bar\" }\nvar response2 = { \"biz\": \"baz\" }\n\n\n  return Promise.resolve( [ response1, response2 ] )\n  .then(areaSnapshot =&gt; {\n      const promises = [];\n      areaSnapshot.forEach(doc =&gt; {\n          promises.push(Promise.resolve( doc ));\n      })\n\n      return Promise.all(promises);\n      //response.send(data);\n  })\n  .then(citySnapshots =&gt; {\n\n    let mentee = citySnapshots[0];\n    let mentor = citySnapshots[1];\n    return {\n      mentee,\n      mentor\n    };\n\n  })\n  .catch(error =&gt; {\n    // Handle the error\n    console.log(error);\n    //response.status(500).send(error);\n  });\n\n\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 11121083, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dLUM7elFx0I/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcBjJ_h2vlZGIDwQqMrpXVyG_ia2A/mo/photo.jpg?sz=128", "display_name": "Mike Rees", "link": "https://stackoverflow.com/users/11121083/mike-rees"}, "edited": false, "score": 0, "creation_date": 1551908512, "post_id": 55032081, "comment_id": 96817752, "body": "This suggestion looks like it will work. However, there is some syntax error that I haven&#39;t solved yet. It looks like all the parens and squigglies match up, but clearly I&#39;m missing something. The error is : &quot;SyntaxError: missing ) after argument list&quot; Any idea?"}, {"owner": {"reputation": 18374, "user_id": 3478010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y4DTM.png?s=128&g=1", "display_name": "Roamer-1888", "link": "https://stackoverflow.com/users/3478010/roamer-1888"}, "reply_to_user": {"reputation": 11, "user_id": 11121083, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dLUM7elFx0I/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcBjJ_h2vlZGIDwQqMrpXVyG_ia2A/mo/photo.jpg?sz=128", "display_name": "Mike Rees", "link": "https://stackoverflow.com/users/11121083/mike-rees"}, "edited": false, "score": 0, "creation_date": 1551909832, "post_id": 55032081, "comment_id": 96818324, "body": "Can&#39;t spot it. Try commenting out lines (intelligently) until the syntax error disappears."}, {"owner": {"reputation": 11, "user_id": 11121083, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dLUM7elFx0I/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcBjJ_h2vlZGIDwQqMrpXVyG_ia2A/mo/photo.jpg?sz=128", "display_name": "Mike Rees", "link": "https://stackoverflow.com/users/11121083/mike-rees"}, "edited": false, "score": 0, "creation_date": 1551910305, "post_id": 55032081, "comment_id": 96818497, "body": "Solved the syntax error, and getting a slightly different result than Steven&#39;s suggested code changes. With Steven&#39;s nothing is ever returned (the page just keeps spinning. With yours, the page comes back with no rows. Maybe I&#39;m not referencing it properly in the .vue code. I&#39;m referencing it like other examples on this site that reference objects in the results: &lt;template slot=&quot;mentorLastName&quot; slot-scope=&quot;row&quot;&gt;           {{row.item.mentor.lastName}}         &lt;/template&gt;         &lt;template slot=&quot;menteelastName&quot; slot-scope=&quot;row&quot;&gt;           {{row.item.mentee.lastName}}         &lt;/template&gt;"}, {"owner": {"reputation": 18374, "user_id": 3478010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y4DTM.png?s=128&g=1", "display_name": "Roamer-1888", "link": "https://stackoverflow.com/users/3478010/roamer-1888"}, "reply_to_user": {"reputation": 11, "user_id": 11121083, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dLUM7elFx0I/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcBjJ_h2vlZGIDwQqMrpXVyG_ia2A/mo/photo.jpg?sz=128", "display_name": "Mike Rees", "link": "https://stackoverflow.com/users/11121083/mike-rees"}, "edited": false, "score": 0, "creation_date": 1551980921, "post_id": 55032081, "comment_id": 96849903, "body": "You will undoubtedly need to do something with the array of objects delivered by the promise returned by <code>onCall(data, context)</code>. I don&#39;t know enough about your code or vue to advise. It could be something within the function, or maybe in its caller."}], "tags": [], "owner": {"reputation": 18374, "user_id": 3478010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y4DTM.png?s=128&g=1", "display_name": "Roamer-1888", "link": "https://stackoverflow.com/users/3478010/roamer-1888"}, "is_accepted": false, "score": 0, "last_activity_date": 1551906516, "last_edit_date": 1551906516, "creation_date": 1551906192, "answer_id": 55032081, "question_id": 55031370, "link": "https://stackoverflow.com/questions/55031370/returning-cloud-firebase-data-from-multiple-promises-at-the-same-time/55032081#55032081", "title": "Returning cloud Firebase data from multiple promises at the same time", "body": "<p>Your approach could be made to work but is rather messy due to the formation of one <code>promises</code> array containing both <code>p</code>s and <code>p2</code>s. </p>\n\n<p>As far as I can tell, you want to bundle the required data for each doc into an object.</p>\n\n<p>There's a number of ways in which this could be done. Here's one using an inner <code>Promise.all()</code> to aggregate each <code>[p,p2]</code> pair of promises, then form the required object.</p>\n\n<pre><code>exports.getMatchesNew = functions.https.onCall((data, context) =&gt; {\n    return db.collection('matches').get()\n    .then(areaSnapshot =&gt; {\n        const promises = [];\n        areaSnapshot.forEach(doc =&gt; {\n            var area = doc.data();\n            for (let city in area.mentees) {\n                const p = db.collection('users').doc(area.mentees[city]).get();\n                const p2 = db.collection('users').doc(doc.id).get();\n                promises.push(\n                    Promise.all([p, p2]) // aggregate p and p2\n                    .then(([mentee, mentor]) =&gt; {\n                        // return a plain object with all the required data for this iteration's doc\n                        return {\n                            'area': area, // for good measure\n                            'city': city, // for good measure\n                            'mentee': mentee.data(), // ???\n                            'mentor': mentor.data() // ???\n                        };\n                    });\n                );\n            }\n        })\n        return Promise.all(promises);\n    })\n    .catch(error =&gt; {\n        console.log(error);\n        //response.status(500).send(error);\n    });\n});\n</code></pre>\n\n<p><em>All on the assumption that <code>.get()</code> is asynchronous and <code>.data()</code> is synchronous</em></p>\n\n<p>The returned promise's success path will deliver an array of <code>{area,mentee,mentor}</code> objects.</p>\n\n<p>May not be 100% correct because I don't fully understand the data. Shouldn't be too hard to adapt.</p>\n"}, {"comments": [{"owner": {"reputation": 18374, "user_id": 3478010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y4DTM.png?s=128&g=1", "display_name": "Roamer-1888", "link": "https://stackoverflow.com/users/3478010/roamer-1888"}, "edited": false, "score": 0, "creation_date": 1552406957, "post_id": 55051284, "comment_id": 96993592, "body": "The second <code>.then()</code> appears to do nothing asynchronous. If so then its <code>return Promise.all(results);</code> can be simplified to <code>return results;</code>. I still prefer my inner <code>.then()</code> for performing the required synchronous transform of the data. I&#39;m sure it&#39;s just a question of some simple debugging."}], "tags": [], "owner": {"reputation": 11, "user_id": 11121083, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dLUM7elFx0I/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcBjJ_h2vlZGIDwQqMrpXVyG_ia2A/mo/photo.jpg?sz=128", "display_name": "Mike Rees", "link": "https://stackoverflow.com/users/11121083/mike-rees"}, "is_accepted": true, "score": 0, "last_activity_date": 1551986237, "creation_date": 1551986237, "answer_id": 55051284, "question_id": 55031370, "link": "https://stackoverflow.com/questions/55031370/returning-cloud-firebase-data-from-multiple-promises-at-the-same-time/55051284#55051284", "title": "Returning cloud Firebase data from multiple promises at the same time", "body": "<p>This is the final working code. Thanks  to @Roamer-1888 and \"@Steven Stark\"</p>\n\n<p>The final code is a bit is a cross between both of their offered solutions. Much appreciated help. </p>\n\n<p>I am a little more comfortable with promises as a result. Hopefully I get to work with them a bit more to get more comfortable, and improve my chances of retaining it. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>exports.getMatchesNew = functions.https.onCall((data, context) =&gt; {\r\n  return db.collection('matches').get()\r\n  .then(areaSnapshot =&gt; {\r\n      const promises = [];\r\n      areaSnapshot.forEach(doc =&gt; {\r\n          var area = doc.data();\r\n          for (let city in area.mentees) {\r\n              const p = db.collection('users').doc(area.mentees[city]).get();\r\n              const p2 = db.collection('users').doc(doc.id).get();\r\n              if ( typeof p !== 'undefined' &amp;&amp; p &amp;&amp; typeof p2 !== 'undefined' &amp;&amp; p2)\r\n              {\r\n                promises.push(\r\n                    Promise.all([p, p2]) // aggregate p and p2\r\n                );\r\n              }\r\n          }\r\n      })\r\n      return Promise.all(promises);\r\n  })\r\n    .then(citySnapshots =&gt; {\r\n    const results = [];\r\n    citySnapshots.forEach(citySnap =&gt; {\r\n      var mentor = citySnap[1].data();\r\n      var mentee = citySnap[0].data();\r\n      \r\n      if ( typeof mentee !== 'undefined' &amp;&amp; mentee &amp;&amp; typeof mentor !== 'undefined' &amp;&amp; mentor)\r\n      {\r\n        var matchInfo = {\r\n          mentor: {},\r\n          mentee: {}\r\n        }\r\n        matchInfo.mentor = mentor;\r\n        matchInfo.mentee = mentee;\r\n\r\n        results.push(matchInfo);\r\n      }\r\n      else\r\n      {\r\n        console.log(\"Error missing mentor or mentee record, Need to research: \");\r\n      }\r\n    })\r\n    return Promise.all(results);\r\n  })\r\n  .catch(error =&gt; {\r\n      console.log(error);\r\n      //response.status(500).send(error);\r\n  });\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 11, "user_id": 11121083, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dLUM7elFx0I/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcBjJ_h2vlZGIDwQqMrpXVyG_ia2A/mo/photo.jpg?sz=128", "display_name": "Mike Rees", "link": "https://stackoverflow.com/users/11121083/mike-rees"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 617, "favorite_count": 0, "accepted_answer_id": 55051284, "answer_count": 3, "score": 0, "last_activity_date": 1551986237, "creation_date": 1551902860, "last_edit_date": 1551914188, "question_id": 55031370, "link": "https://stackoverflow.com/questions/55031370/returning-cloud-firebase-data-from-multiple-promises-at-the-same-time", "title": "Returning cloud Firebase data from multiple promises at the same time", "body": "<p>I am still working on a better understanding of promises. I started with some samples from Doug Stevenson's YouTube videos on promises and then modified it to use my collections. This code most closely resembles the sample using areas and cities.</p>\n\n<p>Here's the code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>exports.getMatchesNew = functions.https.onCall((data, context) =&gt; {\r\n  console.log(\"In On Call\", data);\r\n  return db.collection('matches').get()\r\n  .then(areaSnapshot =&gt; {\r\n      const promises = [];\r\n      areaSnapshot.forEach(doc =&gt; {\r\n        var area = doc.data();\r\n        // console.log(\"Area  is \", area.mentees);\r\n        // console.log(\"area ID is \", area.id);\r\n\r\n        // Loop through each mentee for a mentor\r\n        for (const city in area.mentees)\r\n        {\r\n          // console.log(\"City is \", area.mentees[city]);\r\n\r\n          // User Information for current mentee\r\n          const p = db.collection('users').doc(area.mentees[city]).get();\r\n\r\n          //User Information for current mentor\r\n          const p2 = db.collection('users').doc(doc.id).get();\r\n          //console.log(\"Doc \",p);\r\n          // would like to combine this together, which will end up on one row\r\n          // mentor name, mentee name\r\n          promises.push(p, p2);\r\n        }\r\n      })\r\n      \r\n      return Promise.all(promises);\r\n      //response.send(data);\r\n  })\r\n  .then(citySnapshots =&gt; {\r\n    const results = [];\r\n    citySnapshots.forEach(citySnap =&gt; {\r\n      const data = citySnap.data();\r\n      // this log entry is occuring once for each p and p2 from above.\r\n      // I tried an array reference like citySnap[0] for mentee info and citySnap[1] for mentor info, this did not work.\r\n      console.log(\"cSnap is: \", data);\r\n      results.push(data);\r\n\r\n    })\r\n    return Promise.all(results);\r\n  })\r\n  .catch(error =&gt; {\r\n    // Handle the error\r\n    console.log(error);\r\n    //response.status(500).send(error);\r\n  });\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The output is that I get the mentee first name and last name, then I get the output for the mentor first name and last name (on a separate row).</p>\n\n<p>In the Firestore, each doc in the matches collection is simply the mentor's id and an array of mentee IDs. All user info is stored in a 'users' collection. \nSo, I'm trying to loop through each matches doc, and produce one row of data for each mentor/mentee combination.</p>\n\n<p>I still need to add some handling when p and/or p2 are not available. </p>\n\n<p>My original intention for 'p' and 'p2' was to:</p>\n\n<ol>\n<li><p>return first name and last name for p, rename them menteeFirstName and menteeLastName</p></li>\n<li><p>return first name and last name for p2, rename them mentorFirstname and mentorLastName</p></li>\n<li><p>combine this info and return an array of mentorFirstName, mentorLastName, menteeFirstName, menteeLastName.</p></li>\n</ol>\n\n<p>However, I went down a rabbit hole with that. I decided to pare it back to working code, and post this. </p>\n\n<p>So, can I combine the data from 'p' and 'p2'? Or am I doing this the wrong way?</p>\n\n<p>I come from a relational db background, so the Firestore collections/documents concept with async calls is a new concept for me that I am becoming more familiar with (but not enough, yet).</p>\n\n<p>I have tried to understand the various examples out there, but I think my unfamiliarity with promises is a major hurdle right now. \nI have tried both Roamer, and Steven Sark's suggestions.\nRoamer's suggestion does not error out, but I believe it is dropping promises. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>exports.getMatchesNew = functions.https.onCall((data, context) =&gt; {\r\n  return db.collection('matches').get()\r\n  .then(areaSnapshot =&gt; {\r\n      const promises = [];\r\n      areaSnapshot.forEach(doc =&gt; {\r\n          var area = doc.data();\r\n          for (let city in area.mentees) {\r\n              const p = db.collection('users').doc(area.mentees[city]).get();\r\n              const p2 = db.collection('users').doc(doc.id).get();\r\n              promises.push(\r\n                  Promise.all([p, p2]) // aggregate p and p2\r\n                  .then(([mentee, mentor]) =&gt; {\r\n                    var mentorInfo = mentor.data();\r\n                    var menteeInfo = mentee.data();\r\n\r\n                      console.log(\"Mentor: \", mentorInfo.lastName);\r\n                      console.log(\"mentee: \", menteeInfo.lastName);\r\n                      // return a plain object with all the required data for this iteration's doc\r\n                      return {\r\n                          // 'area': area, // for good measure\r\n                          // 'city': city, // for good measure\r\n                          'mentee': menteeInfo, // ???\r\n                          'mentor': mentorInfo // ???\r\n                      };\r\n                  })\r\n              );\r\n          }\r\n      })\r\n      return Promise.all(promises);\r\n  })\r\n  .catch(error =&gt; {\r\n      console.log(error);\r\n      //response.status(500).send(error);\r\n  });\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I see the data in the logs, but there are no records returned (or I am referencing them incorrectly in the .vue page</p>\n\n<pre><code>&lt;template slot=\"mentorLastName\" slot-scope=\"row\"&gt;\n          {{row.item.mentor.lastName}}\n        &lt;/template&gt;\n        &lt;template slot=\"menteelastName\" slot-scope=\"row\"&gt;\n          {{row.item.mentee.lastName}}\n        &lt;/template&gt;\n</code></pre>\n\n<p>This works in other instances where the results contain these same objects.</p>\n\n<p>Steven Sark's code also runs, based on the log files, with no errors. The difference is that the vue page never returns (always showing as 'thinking'). In the past, this meant there was an error in the cloud function. There is no error in the cloud function logs, and the data is NOT showing in the console function logs (whereas it is in the Roamer version). So I cannot prove that is working. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>exports.getMatchesNew = functions.https.onCall((data, context) =&gt; {\r\n  console.log(\"In On Call\", data);\r\n  return db.collection('matches').get()\r\n  .then(areaSnapshot =&gt; {\r\n      const promises = [];\r\n      areaSnapshot.forEach(doc =&gt; {\r\n        var area = doc.data();\r\n        // console.log(\"Area  is \", area.mentees);\r\n        // console.log(\"area ID is \", area.id);\r\n\r\n        // Loop through each mentee for a mentor\r\n        for (const city in area.mentees)\r\n        {\r\n          // console.log(\"City is \", area.mentees[city]);\r\n\r\n          // User Information for current mentee\r\n          const p = db.collection('users').doc(area.mentees[city]).get();\r\n\r\n          //User Information for current mentor\r\n          const p2 = db.collection('users').doc(doc.id).get();\r\n          //console.log(\"Doc \",p);\r\n          // would like to combine this together, which will end up on one row\r\n          // mentor name, mentee name\r\n          promises.push(p, p2);\r\n        }\r\n      })\r\n\r\n      return Promise.all(promises);\r\n      //response.send(data);\r\n  })\r\n  .then(citySnapshots =&gt; {\r\n\r\n    let mentee = citySnapshots[0];\r\n    let mentor = citySnapshots[1];\r\n    console.log(\"Mentor: \", mentor.lastName);\r\n    return {\r\n      mentee,\r\n      mentor\r\n    };\r\n\r\n  })\r\n  .catch(error =&gt; {\r\n    // Handle the error\r\n    console.log(error);\r\n    //response.status(500).send(error);\r\n  });\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I look at both of these modified examples, and feel like I'm understanding it, and then I smack myself when I don't get the results. I feel like both of these are dropping promises based on the log entries, but I don't understand how. It looks to me like these are chained or connected. That none are by themselves.</p>\n"}, {"tags": ["javascript", "regex"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1551902926, "post_id": 55031352, "comment_id": 96815366, "body": "Number of <i>input</i> groups? Wouldn&#39;t that just be the number of the not-non-capturing groups in the regex? As in, the number of normal groups in it."}, {"owner": {"reputation": 714, "user_id": 9548334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d38d443db14d79a06637b26463b17736?s=128&d=identicon&r=PG&f=1", "display_name": "als9xd", "link": "https://stackoverflow.com/users/9548334/als9xd"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1551902983, "post_id": 55031352, "comment_id": 96815399, "body": "@VLAZ Yeah input groups is correct."}], "owner": {"reputation": 714, "user_id": 9548334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d38d443db14d79a06637b26463b17736?s=128&d=identicon&r=PG&f=1", "display_name": "als9xd", "link": "https://stackoverflow.com/users/9548334/als9xd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "closed_date": 1551902918, "answer_count": 0, "score": 0, "last_activity_date": 1551903179, "creation_date": 1551902787, "question_id": 55031352, "link": "https://stackoverflow.com/questions/55031352/predetermine-number-of-capture-groups", "closed_reason": "Duplicate", "title": "Predetermine number of capture groups", "body": "<p>I'm trying to dynamically determine the number of input groups for a regex string provided by an end user. For example user supplies the following string <code>(Hello) (World)</code> which should result in 2 capture groups.</p>\n\n<p>It would be nice if I could do something like </p>\n\n<p><code>const numGroups = ''.match(new RegExp('(Hello) (World)')).length;</code></p>\n"}, {"tags": ["javascript", "vue.js", "vue-component", "interaction"], "comments": [{"owner": {"reputation": 16872, "user_id": 3412322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6MPf7.jpg?s=128&g=1", "display_name": "Daniel Beck", "link": "https://stackoverflow.com/users/3412322/daniel-beck"}, "edited": false, "score": 0, "creation_date": 1551903116, "post_id": 55031317, "comment_id": 96815463, "body": "Can you clarify what you mean by &quot;Selected value participates in the search without having to manually select it from the form interface&quot;?  It&#39;s not clear to me what you intend by that."}, {"owner": {"reputation": 47, "user_id": 10923473, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157120927938885/picture?type=large", "display_name": "Morgan Janjua Crane", "link": "https://stackoverflow.com/users/10923473/morgan-janjua-crane"}, "edited": false, "score": 0, "creation_date": 1551903531, "post_id": 55031317, "comment_id": 96815643, "body": "The formatting was such an issue for the code snipped in my Chrome browser. I was trying to format it correctly for readability."}, {"owner": {"reputation": 21162, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1551903569, "post_id": 55031317, "comment_id": 96815659, "body": "<a href=\"https://stackoverflow.com/editing-help#comment-formatting\">stackoverflow.com/editing-help#comment-formatting</a>"}, {"owner": {"reputation": 47, "user_id": 10923473, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157120927938885/picture?type=large", "display_name": "Morgan Janjua Crane", "link": "https://stackoverflow.com/users/10923473/morgan-janjua-crane"}, "reply_to_user": {"reputation": 16872, "user_id": 3412322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6MPf7.jpg?s=128&g=1", "display_name": "Daniel Beck", "link": "https://stackoverflow.com/users/3412322/daniel-beck"}, "edited": false, "score": 0, "creation_date": 1551903582, "post_id": 55031317, "comment_id": 96815668, "body": "@DanielBeck, I added details on (2)"}, {"owner": {"reputation": 21162, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "reply_to_user": {"reputation": 16872, "user_id": 3412322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6MPf7.jpg?s=128&g=1", "display_name": "Daniel Beck", "link": "https://stackoverflow.com/users/3412322/daniel-beck"}, "edited": false, "score": 0, "creation_date": 1551903751, "post_id": 55031317, "comment_id": 96815741, "body": "@DanielBeck Thought so. It just took me several glances to notice."}, {"owner": {"reputation": 16872, "user_id": 3412322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6MPf7.jpg?s=128&g=1", "display_name": "Daniel Beck", "link": "https://stackoverflow.com/users/3412322/daniel-beck"}, "edited": false, "score": 0, "creation_date": 1551903932, "post_id": 55031317, "comment_id": 96815820, "body": "@MorganJanjuaCrane  You&#39;re doing a lot of direct DOM manipulation in the code above, which is very much not how Vue is designed to work; normally you would do this with a <code>v-model</code> on your select field, then changing its selected value is just a matter of changing the v-model data.  You haven&#39;t shown enough context for the above code for us to know why the search isn&#39;t working, but I would guess that it&#39;s running based on the component&#39;s internal data, so doesn&#39;t know about the DOM manipulation you did here."}, {"owner": {"reputation": 47, "user_id": 10923473, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157120927938885/picture?type=large", "display_name": "Morgan Janjua Crane", "link": "https://stackoverflow.com/users/10923473/morgan-janjua-crane"}, "reply_to_user": {"reputation": 16872, "user_id": 3412322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6MPf7.jpg?s=128&g=1", "display_name": "Daniel Beck", "link": "https://stackoverflow.com/users/3412322/daniel-beck"}, "edited": false, "score": 0, "creation_date": 1551904568, "post_id": 55031317, "comment_id": 96816095, "body": "@DanielBeck, the reason is that I am writing a workaround on top of someone&#39;s else wordpress theme code. I do not want to update the core theme code, and want to interact with this VUE bound dropdown field in a way that it align wit hthe underlying data model when submitted in ajax POST."}, {"owner": {"reputation": 16872, "user_id": 3412322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6MPf7.jpg?s=128&g=1", "display_name": "Daniel Beck", "link": "https://stackoverflow.com/users/3412322/daniel-beck"}, "edited": false, "score": 0, "creation_date": 1551905055, "post_id": 55031317, "comment_id": 96816297, "body": "Am I understanding correctly: the search form is done in Vue, but you&#39;re trying to write code outside of Vue which will change one of the Vue component&#39;s values?"}, {"owner": {"reputation": 47, "user_id": 10923473, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157120927938885/picture?type=large", "display_name": "Morgan Janjua Crane", "link": "https://stackoverflow.com/users/10923473/morgan-janjua-crane"}, "reply_to_user": {"reputation": 16872, "user_id": 3412322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6MPf7.jpg?s=128&g=1", "display_name": "Daniel Beck", "link": "https://stackoverflow.com/users/3412322/daniel-beck"}, "edited": false, "score": 0, "creation_date": 1551905623, "post_id": 55031317, "comment_id": 96816525, "body": "@DanielBeck correct. I have done it in a similar fashion on another form. Apparently the &quot;keyup&quot; event trigger and captured values to be submitted there. But, here, the same technique isnt working to capture and update the VUE model.  So, basically, im looking for a hack here."}, {"owner": {"reputation": 16872, "user_id": 3412322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6MPf7.jpg?s=128&g=1", "display_name": "Daniel Beck", "link": "https://stackoverflow.com/users/3412322/daniel-beck"}, "edited": false, "score": 0, "creation_date": 1551905695, "post_id": 55031317, "comment_id": 96816554, "body": "Gotcha, thanks for clarifying!"}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 10923473, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157120927938885/picture?type=large", "display_name": "Morgan Janjua Crane", "link": "https://stackoverflow.com/users/10923473/morgan-janjua-crane"}, "edited": false, "score": 0, "creation_date": 1552052242, "post_id": 55032005, "comment_id": 96876619, "body": "Thanks. Let me try this out."}], "tags": [], "owner": {"reputation": 16872, "user_id": 3412322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6MPf7.jpg?s=128&g=1", "display_name": "Daniel Beck", "link": "https://stackoverflow.com/users/3412322/daniel-beck"}, "is_accepted": false, "score": 0, "last_activity_date": 1551906627, "last_edit_date": 1551906627, "creation_date": 1551905826, "answer_id": 55032005, "question_id": 55031317, "link": "https://stackoverflow.com/questions/55031317/external-manipulation-of-vue-filelds/55032005#55032005", "title": "External manipulation of Vue filelds", "body": "<p>Modifying the DOM directly won't work, as you've discovered, because Vue doesn't know about those changes and is still working based on its internal state.  You need to modify Vue's underlying data model instead.</p>\n\n<p>Every Vue component's root DOM element will have a <code>__vue__</code> property attached, which you can use to access and modify the component's internal state from outside:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Set up a Vue component with some data in it:\r\nVue.component('child', {\r\n  data() {\r\n    return {\r\n      foo: 'Data from inside Vue'\r\n    }\r\n  },\r\n  template: '&lt;div id=\"component\"&gt;{{foo}}&lt;/div&gt;'\r\n})\r\n\r\nnew Vue({\r\n  el: '#app',\r\n});\r\n\r\n// now outside Vue:\r\ndocument.getElementById('component').__vue__.$data.foo = \"Updated value from outside vue\"</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://unpkg.com/vue@latest/dist/vue.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"app\"&gt;\r\n  &lt;child&gt;&lt;/child&gt;\r\n  \r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Use of the <code>__vue__</code> property isn't officially supported, as far as I know, but <a href=\"https://github.com/vuejs/vue/issues/5621\" rel=\"nofollow noreferrer\">Vue's author says it's safe to use</a>:</p>\n\n<blockquote>\n  <p>the official devtool relies on it too, so it's unlikely to change or break.</p>\n</blockquote>\n"}], "owner": {"reputation": 47, "user_id": 10923473, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157120927938885/picture?type=large", "display_name": "Morgan Janjua Crane", "link": "https://stackoverflow.com/users/10923473/morgan-janjua-crane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551906627, "creation_date": 1551902616, "last_edit_date": 1592644375, "question_id": 55031317, "link": "https://stackoverflow.com/questions/55031317/external-manipulation-of-vue-filelds", "title": "External manipulation of Vue filelds", "body": "<p>I am looking to use custom Javascript to interact with form fields tied with Vue framework. The form appears in a WordPress theme search page (<a href=\"https://wilcity.com/search-without-map/\" rel=\"nofollow noreferrer\">https://wilcity.com/search-without-map/</a>)</p>\n<ol>\n<li>Autoselect the region value (this I can perform using the JS below)</li>\n</ol>\n<pre><code>markerCityName = &quot;Atlanta&quot;;\nfor (i = 0; i &lt; document.getElementsByClassName(&quot;wilcity-select-2 select2-hidden-accessible&quot;)[0].options.length; i++) {\n\n  if (document.getElementsByClassName(&quot;wilcity-select-2 select2-hidden-accessible&quot;)[0].options[i].innerText == markerCityName) {\n    document.getElementsByClassName(&quot;wilcity-select-2 select2-hidden-accessible&quot;)[0].selectedIndex =\n      document.getElementsByClassName(&quot;wilcity-select-2 select2-hidden-accessible&quot;)[0].options[i].index;\n\n    triggerEvent(document.getElementsByClassName(&quot;select2-selection select2-selection--single&quot;)[0], 'focus');\n    triggerEvent(document.getElementsByClassName(&quot;select2-selection select2-selection--single&quot;)[0], 'keydown');\n    triggerEvent(document.getElementsByClassName(&quot;wilcity-select-2 select2-hidden-accessible&quot;)[0], 'change');\n\n  }\n}\n</code></pre>\n<ol start=\"2\">\n<li><p>Selected value participates in the search without having to manually select it from the form interface.</p>\n<p>(i) After the javascript runs and selects &quot;Atlanta&quot; in the region drop down.\n(ii) Select any other field in the form for search to be executed.\n(iii) you will notice this search did not take into account the pre-select region value &quot;Atlanta&quot;</p>\n</li>\n</ol>\n<p>I am unable to do (2). The autoselected value is not sent in post when form value changes, and the autoselected value is not picked up.</p>\n"}, {"tags": ["javascript", "json", "api", "parsing"], "comments": [{"owner": {"reputation": 8252, "user_id": 6634591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHVdG.jpg?s=128&g=1", "display_name": "Luca Kiebel", "link": "https://stackoverflow.com/users/6634591/luca-kiebel"}, "edited": false, "score": 0, "creation_date": 1551902376, "post_id": 55031261, "comment_id": 96815075, "body": "Just use good old bracket notation, <code>obj.features[0].properties[&quot;where:name&quot;]</code>"}, {"owner": {"reputation": 1, "user_id": 9890382, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PnGOR_Hnd18/AAAAAAAAAAI/AAAAAAAAAiE/ZSrUv38yKGQ/photo.jpg?sz=128", "display_name": "PierreM", "link": "https://stackoverflow.com/users/9890382/pierrem"}, "reply_to_user": {"reputation": 8252, "user_id": 6634591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHVdG.jpg?s=128&g=1", "display_name": "Luca Kiebel", "link": "https://stackoverflow.com/users/6634591/luca-kiebel"}, "edited": false, "score": 0, "creation_date": 1551902653, "post_id": 55031261, "comment_id": 96815214, "body": "oh ok. that simple. thanks ! :)"}], "owner": {"reputation": 1, "user_id": 9890382, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PnGOR_Hnd18/AAAAAAAAAAI/AAAAAAAAAiE/ZSrUv38yKGQ/photo.jpg?sz=128", "display_name": "PierreM", "link": "https://stackoverflow.com/users/9890382/pierrem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 15, "favorite_count": 0, "closed_date": 1551902350, "answer_count": 0, "score": 0, "last_activity_date": 1551910015, "creation_date": 1551902296, "last_edit_date": 1551910015, "question_id": 55031261, "link": "https://stackoverflow.com/questions/55031261/json-parse-when-name-of-the-property-include-two-points", "closed_reason": "Duplicate", "title": "Json parse when name of the property include two points", "body": "<p>I have an issue accessing data from a JSON :</p>\n\n<p>How to access a data when the name of it include <code>:</code>?</p>\n\n<pre><code>{\"count\": 1, \"features\": [{\"geometry\": {\"coordinates\": [2, 4], \"type\": \"Point\"}, \"properties\": {\"type\": \"scheduled\", \"where:name\": \"CITY NAME\"}, \"type\": \"Feature\"}], \"type\": \"FeatureCollection\"}\n</code></pre>\n\n<p>I am trying to access the <code>where:name</code> property like this :</p>\n\n<pre><code>obj = JSON.parse(json);\n\nconsole.log(obj.features[0].properties.where:name);\n</code></pre>\n\n<p>But of course, i have a error when i run it (due to the two points). Do you have any idea how to solve it?</p>\n"}, {"tags": ["javascript", "npm", "web3"], "answers": [{"comments": [{"owner": {"reputation": 3411, "user_id": 8223070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/134e13a8a7e72bfa0d5b7498c7b09722?s=128&d=identicon&r=PG&f=1", "display_name": "Cat", "link": "https://stackoverflow.com/users/8223070/cat"}, "edited": false, "score": 0, "creation_date": 1551907103, "post_id": 55031230, "comment_id": 96817154, "body": "Is there any chance this can be fixed by telling javascript (explicitly or implicitly) that we want our result to be of the built-in <code>Number</code> type rather than the no-decimals-for-you <code>BN</code> type?"}], "tags": [], "owner": {"reputation": 1590, "user_id": 1293709, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9e554f12328072592520e18fd07036dd?s=128&d=identicon&r=PG", "display_name": "Thomas Hirsch", "link": "https://stackoverflow.com/users/1293709/thomas-hirsch"}, "is_accepted": true, "score": 4, "last_activity_date": 1551902146, "creation_date": 1551902146, "answer_id": 55031230, "question_id": 55031164, "link": "https://stackoverflow.com/questions/55031164/is-there-a-way-to-get-more-precise-result-when-dividing-big-number/55031230#55031230", "title": "Is there a way to get more precise result when dividing Big Number?", "body": "<p>Not familiar with the library, but having a look at the <code>README.md</code> file, it says:</p>\n\n<blockquote>\n  <p>Note: decimals are not supported in this library.</p>\n</blockquote>\n\n<p>So, according to that, the answer would be no.</p>\n\n<p>See <a href=\"https://github.com/indutny/bn.js/#usage\" rel=\"nofollow noreferrer\">https://github.com/indutny/bn.js/#usage</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 3411, "user_id": 8223070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/134e13a8a7e72bfa0d5b7498c7b09722?s=128&d=identicon&r=PG&f=1", "display_name": "Cat", "link": "https://stackoverflow.com/users/8223070/cat"}, "edited": false, "score": 0, "creation_date": 1551907127, "post_id": 55031717, "comment_id": 96817165, "body": "@johnerfx A common workaround for this is to multiply your floating-point number (by 10^x where x is the number of digits after the decimal point), do the division, then divide (by 10^x) again to get your &quot;precise&quot; result."}], "tags": [], "owner": {"reputation": 228, "user_id": 3055263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be850aa043c7b952ac0d8b653493630c?s=128&d=identicon&r=PG&f=1", "display_name": "gkelly", "link": "https://stackoverflow.com/users/3055263/gkelly"}, "is_accepted": false, "score": 0, "last_activity_date": 1551904367, "creation_date": 1551904367, "answer_id": 55031717, "question_id": 55031164, "link": "https://stackoverflow.com/questions/55031164/is-there-a-way-to-get-more-precise-result-when-dividing-big-number/55031717#55031717", "title": "Is there a way to get more precise result when dividing Big Number?", "body": "<p>Precise is a funny word in computer science and JavaScript is not exception.</p>\n\n<p>Notice the <strong>input</strong> compared to the <strong>output</strong> of this: \n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>console.log( 11060622312717714974 )</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>you don't always get what you want.</p>\n\n<p>And there are situations like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>console.log( .1 + .2 );\r\nconsole.log(  (.1 + .2) === .3 );</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>So, probably not what you wanted to hear, but knowing this up front you can <strong>maybe</strong> work around it.</p>\n\n<p>Anyway, checkout <a href=\"https://github.com/MikeMcl/bignumber.js/\" rel=\"nofollow noreferrer\">https://github.com/MikeMcl/bignumber.js/</a></p>\n"}], "owner": {"reputation": 679, "user_id": 7038028, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/66f8e76f3a7c66e1913370716d106d69?s=128&d=identicon&r=PG&f=1", "display_name": "johnerfx", "link": "https://stackoverflow.com/users/7038028/johnerfx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 294, "favorite_count": 0, "accepted_answer_id": 55031230, "answer_count": 2, "score": 1, "last_activity_date": 1551904367, "creation_date": 1551901908, "last_edit_date": 1551901988, "question_id": 55031164, "link": "https://stackoverflow.com/questions/55031164/is-there-a-way-to-get-more-precise-result-when-dividing-big-number", "title": "Is there a way to get more precise result when dividing Big Number?", "body": "<p>I need to operate on Big Numbers but I need the results to be precise, like below:</p>\n\n<pre><code>const BN = require('bn.js');\nvar a = 11060622312717714974\nvar b = 1570481433500000000000;\nconsole.log(a/b); //0.0070428227146040415\n</code></pre>\n\n<p>When I use Big Number I get only <code>0</code>, no precision:</p>\n\n<pre><code>var aBN = new BN('11060622312717714974');\nvar bBN = new BN('1570481433500000000000');\nconsole.log(aBN.div(bBN).toString()); //0\n</code></pre>\n\n<p>Is it possible to get precise result with this library?</p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 821, "user_id": 3294012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9145075c1e0430d85432483ed032f6ae?s=128&d=identicon&r=PG&f=1", "display_name": "schu34", "link": "https://stackoverflow.com/users/3294012/schu34"}, "edited": false, "score": 1, "creation_date": 1551901936, "post_id": 55031122, "comment_id": 96814798, "body": "Instead of apologizing for messy code, maybe just clean it up :). It&#39;ll help you understand your own code better as well"}, {"owner": {"reputation": 3411, "user_id": 8223070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/134e13a8a7e72bfa0d5b7498c7b09722?s=128&d=identicon&r=PG&f=1", "display_name": "Cat", "link": "https://stackoverflow.com/users/8223070/cat"}, "edited": false, "score": 0, "creation_date": 1551902010, "post_id": 55031122, "comment_id": 96814838, "body": "<code>&lt;script&gt;function myFunction(){ document.getElementById(&quot;date_button&quot;).style.display = &quot;none&quot;; }&lt;&#47;script&gt;</code>"}, {"owner": {"reputation": 3411, "user_id": 8223070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/134e13a8a7e72bfa0d5b7498c7b09722?s=128&d=identicon&r=PG&f=1", "display_name": "Cat", "link": "https://stackoverflow.com/users/8223070/cat"}, "edited": false, "score": 0, "creation_date": 1551902227, "post_id": 55031122, "comment_id": 96814973, "body": "Most of what you need to teach yourself the answers to such questions can be found on MDN: <a href=\"https://developer.mozilla.org/en-US/docs/Learn\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Learn</a>"}, {"owner": {"reputation": 3411, "user_id": 8223070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/134e13a8a7e72bfa0d5b7498c7b09722?s=128&d=identicon&r=PG&f=1", "display_name": "Cat", "link": "https://stackoverflow.com/users/8223070/cat"}, "edited": false, "score": 1, "creation_date": 1551903631, "post_id": 55031122, "comment_id": 96815693, "body": "Your downvotes are probably coming from your question not demonstrating that, before asking, you 1) did adequate research on possible solutions and 2)  attempted to code a solution yourself (which you reasonably thought should work but didn&#39;t). Demonstrating such an attempt is best done by including what&#39;s referred to as a &quot;minimal, complete, verifiable example.&quot; See more info at <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11161827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/427RH.png?s=128&g=1", "display_name": "Nate0523", "link": "https://stackoverflow.com/users/11161827/nate0523"}, "edited": false, "score": 0, "creation_date": 1551902193, "post_id": 55031162, "comment_id": 96814949, "body": "Thanks! It worked, kinda. Now I can&#39;t press the button to show the date again unless I reload the page."}, {"owner": {"reputation": 425, "user_id": 8722054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a2e79fc908598b4dbff33561b1ea32f?s=128&d=identicon&r=PG&f=1", "display_name": "Sid Jonnala", "link": "https://stackoverflow.com/users/8722054/sid-jonnala"}, "edited": false, "score": 0, "creation_date": 1551902248, "post_id": 55031162, "comment_id": 96814990, "body": "You also want to set the display back to &#39;block&#39; when you press the Show button again.  <code>document.getElementById(&#39;date_button&#39;).style.display=&#39;block&#39;</code>"}], "tags": [], "owner": {"reputation": 11471, "user_id": 6766919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bxq3H.jpg?s=128&g=1", "display_name": "ellipsis", "link": "https://stackoverflow.com/users/6766919/ellipsis"}, "is_accepted": false, "score": 1, "last_activity_date": 1551901899, "creation_date": 1551901899, "answer_id": 55031162, "question_id": 55031122, "link": "https://stackoverflow.com/questions/55031122/how-do-i-hide-this-paragraph-tag/55031162#55031162", "title": "How do I hide this paragraph tag?", "body": "<p>You have to define the called function and using display:none hide the paragraph</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function myFuction() {\r\n  document.getElementById('date_button').style.display = 'none'\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;button type=\"button\" onclick=\"document.getElementById('date_button').innerHTML = Date();document.getElementById('date_button').style.display='block'\"&gt;\r\nClick this button to display the current time!&lt;/button&gt;&lt;br&gt;\r\n&lt;p id=\"date_button\"&gt;&lt;/p&gt;&lt;br&gt;&lt;br&gt;\r\n&lt;button onclick=\"myFuction()\"&gt;Click this to hide date.&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 11471, "user_id": 6766919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bxq3H.jpg?s=128&g=1", "display_name": "ellipsis", "link": "https://stackoverflow.com/users/6766919/ellipsis"}, "edited": false, "score": 2, "creation_date": 1551902010, "post_id": 55031189, "comment_id": 96814840, "body": "<b>onclick=&quot;myFuction()&quot;</b>"}, {"owner": {"reputation": 2335, "user_id": 2594250, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3ff0460733e711281d30021db7577032?s=128&d=identicon&r=PG", "display_name": "Tanmay", "link": "https://stackoverflow.com/users/2594250/tanmay"}, "reply_to_user": {"reputation": 11471, "user_id": 6766919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bxq3H.jpg?s=128&g=1", "display_name": "ellipsis", "link": "https://stackoverflow.com/users/6766919/ellipsis"}, "edited": false, "score": 0, "creation_date": 1551902120, "post_id": 55031189, "comment_id": 96814907, "body": "Good catch... :D"}], "tags": [], "owner": {"reputation": 2335, "user_id": 2594250, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3ff0460733e711281d30021db7577032?s=128&d=identicon&r=PG", "display_name": "Tanmay", "link": "https://stackoverflow.com/users/2594250/tanmay"}, "is_accepted": false, "score": 0, "last_activity_date": 1551915856, "last_edit_date": 1551915856, "creation_date": 1551901978, "answer_id": 55031189, "question_id": 55031122, "link": "https://stackoverflow.com/questions/55031122/how-do-i-hide-this-paragraph-tag/55031189#55031189", "title": "How do I hide this paragraph tag?", "body": "<p>Try this. I think this can help</p>\n\n<pre><code>function myFuction() {\n    document.getElementById('date_button').style.display = 'none';\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 425, "user_id": 8722054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a2e79fc908598b4dbff33561b1ea32f?s=128&d=identicon&r=PG&f=1", "display_name": "Sid Jonnala", "link": "https://stackoverflow.com/users/8722054/sid-jonnala"}, "edited": false, "score": 0, "creation_date": 1551902755, "post_id": 55031248, "comment_id": 96815270, "body": "You also could set the display back to &#39;block&#39; when you press the first button again.   <code>document.getElementById(&#39;date_button&#39;).style.display=&#39;block&#39;</code>"}, {"owner": {"reputation": 32611, "user_id": 9819146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ioXmnWNrB_w/AAAAAAAAAAI/AAAAAAAAADs/Q47JYDWDFyo/photo.jpg?sz=128", "display_name": "Maheer Ali", "link": "https://stackoverflow.com/users/9819146/maheer-ali"}, "reply_to_user": {"reputation": 425, "user_id": 8722054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a2e79fc908598b4dbff33561b1ea32f?s=128&d=identicon&r=PG&f=1", "display_name": "Sid Jonnala", "link": "https://stackoverflow.com/users/8722054/sid-jonnala"}, "edited": false, "score": 0, "creation_date": 1551903409, "post_id": 55031248, "comment_id": 96815590, "body": "@Sid Jonnala yes you can also use that but here my method is also working"}], "tags": [], "owner": {"reputation": 32611, "user_id": 9819146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ioXmnWNrB_w/AAAAAAAAAAI/AAAAAAAAADs/Q47JYDWDFyo/photo.jpg?sz=128", "display_name": "Maheer Ali", "link": "https://stackoverflow.com/users/9819146/maheer-ali"}, "is_accepted": false, "score": 0, "last_activity_date": 1551902231, "creation_date": 1551902231, "answer_id": 55031248, "question_id": 55031122, "link": "https://stackoverflow.com/questions/55031122/how-do-i-hide-this-paragraph-tag/55031248#55031248", "title": "How do I hide this paragraph tag?", "body": "<p>In your case you want to show it again so you need to set its <code>innerHTML</code> to <code>''</code>. In your case if you will do <code>style.display = 'none'</code>. It will not show <code>&lt;p&gt;</code> again</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function myFunction(){\r\n  document.getElementById('date_button').innerHTML = '';\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;button type=\"button\"\r\nonclick=\"document.getElementById('date_button').innerHTML = Date()\"&gt;\r\nClick this button to display the current time!&lt;/button&gt;&lt;br&gt;\r\n&lt;p id=\"date_button\"&gt;&lt;/p&gt;&lt;br&gt;&lt;br&gt;\r\n&lt;button onclick=\"myFunction()\"&gt;Click this to hide date.&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 11161827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/427RH.png?s=128&g=1", "display_name": "Nate0523", "link": "https://stackoverflow.com/users/11161827/nate0523"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1551915856, "creation_date": 1551901767, "last_edit_date": 1551902250, "question_id": 55031122, "link": "https://stackoverflow.com/questions/55031122/how-do-i-hide-this-paragraph-tag", "title": "How do I hide this paragraph tag?", "body": "<p>I'm quite new to all this but I learned quite quickly, as it's really easy in my opinion. I'm trying to make a button hide a <code>&lt;p&gt;</code> tag that another button spawned. How can make the button (At the bottom of code) make the <code>&lt;p&gt;</code> tag disappear?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;button type=\"button\"\r\nonclick=\"document.getElementById('date_button').innerHTML = Date()\"&gt;\r\nClick this button to display the current time!&lt;/button&gt;&lt;br&gt;\r\n&lt;p id=\"date_button\"&gt;&lt;/p&gt;&lt;br&gt;&lt;br&gt;\r\n&lt;button onclick=\"myFuction()\"&gt;Click this to hide date.&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "node.js", "csv"], "comments": [{"owner": {"reputation": 821, "user_id": 3294012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9145075c1e0430d85432483ed032f6ae?s=128&d=identicon&r=PG&f=1", "display_name": "schu34", "link": "https://stackoverflow.com/users/3294012/schu34"}, "edited": false, "score": 0, "creation_date": 1551902121, "post_id": 55031113, "comment_id": 96814908, "body": "do you have <code>const fs = require(&#39;fs&#39;)</code> or somthing similar in your js file?"}, {"owner": {"reputation": 99, "user_id": 8528282, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8rdSt.png?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/8528282/chris"}, "reply_to_user": {"reputation": 821, "user_id": 3294012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9145075c1e0430d85432483ed032f6ae?s=128&d=identicon&r=PG&f=1", "display_name": "schu34", "link": "https://stackoverflow.com/users/3294012/schu34"}, "edited": false, "score": 0, "creation_date": 1551902340, "post_id": 55031113, "comment_id": 96815054, "body": "yes i do.  is the csv file need to be in a specific folder?"}, {"owner": {"reputation": 821, "user_id": 3294012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9145075c1e0430d85432483ed032f6ae?s=128&d=identicon&r=PG&f=1", "display_name": "schu34", "link": "https://stackoverflow.com/users/3294012/schu34"}, "edited": false, "score": 0, "creation_date": 1551904595, "post_id": 55031113, "comment_id": 96816110, "body": "Yes, if you don&#39;t specify a path node will assume it&#39;s in the current directory, however that wouldn&#39;t be the cause of your error. if <code>fs.createReadStream</code> istn&#39; a function it seems like you haven&#39;t imported it correctly"}, {"owner": {"reputation": 821, "user_id": 3294012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9145075c1e0430d85432483ed032f6ae?s=128&d=identicon&r=PG&f=1", "display_name": "schu34", "link": "https://stackoverflow.com/users/3294012/schu34"}, "edited": false, "score": 0, "creation_date": 1551904638, "post_id": 55031113, "comment_id": 96816125, "body": "If the file was in the wrong place your error would be along the lines of <code>can&#39;t find &lt;file&gt;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 99, "user_id": 8528282, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8rdSt.png?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/8528282/chris"}, "is_accepted": true, "score": 1, "last_activity_date": 1551903199, "creation_date": 1551903199, "answer_id": 55031457, "question_id": 55031113, "link": "https://stackoverflow.com/questions/55031113/using-fast-csv-not-reading-csv-file/55031457#55031457", "title": "Using fast-csv not reading csv file", "body": "<p>I realized that i did not have the file inside my project, which is the reason it was not reading it, also, i changed my code to this. </p>\n\n<pre><code>const csv = require('csv-parser');\nconst fs = require('fs');\nconst fast = require('fast-csv');\n\n\n    fs.createReadStream('accounts.csv')\n        .pipe(csv())\n        .on('data', (row) =&gt; {\n            console.log(row);\n        })\n        .on('end', () =&gt; {\n            console.log('CSV file successfully processed');\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 8528282, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8rdSt.png?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/8528282/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1784, "favorite_count": 0, "accepted_answer_id": 55031457, "answer_count": 1, "score": 1, "last_activity_date": 1551903199, "creation_date": 1551901710, "last_edit_date": 1551902648, "question_id": 55031113, "link": "https://stackoverflow.com/questions/55031113/using-fast-csv-not-reading-csv-file", "title": "Using fast-csv not reading csv file", "body": "<p>I am trying to first read the CSV file, but I am getting an error saying:</p>\n\n<blockquote>\n  <p>TypeError: fs.createReadStream is not a function.</p>\n</blockquote>\n\n<p>Am I doing something wrong? Here is my code:</p>\n\n<pre><code>fs.createReadStream('accounts.csv')\n    .pipe(csv())\n    .on('data', function (data) {\n        console.log(data);\n    })\n    .on('end', function () {\n        console.log('Read finished');\n    });\n</code></pre>\n"}, {"tags": ["javascript", "timer"], "comments": [{"owner": {"reputation": 8252, "user_id": 6634591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHVdG.jpg?s=128&g=1", "display_name": "Luca Kiebel", "link": "https://stackoverflow.com/users/6634591/luca-kiebel"}, "edited": false, "score": 0, "creation_date": 1551901899, "post_id": 55031097, "comment_id": 96814780, "body": "Have you tried <code>document.addEventListener</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 3958, "user_id": 11081214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b53d0cefd959372f49e84b943a1187f?s=128&d=identicon&r=PG&f=1", "display_name": "Snow", "link": "https://stackoverflow.com/users/11081214/snow"}, "is_accepted": false, "score": 1, "last_activity_date": 1551901891, "creation_date": 1551901891, "answer_id": 55031157, "question_id": 55031097, "link": "https://stackoverflow.com/questions/55031097/how-do-i-start-a-timer-on-a-click/55031157#55031157", "title": "How do I start a timer on a click?", "body": "<p>Just add a click listener to <code>document</code> that calls the <code>setInterval</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let min = 0;\r\nlet sec = 0;\r\n\r\n\r\nfunction myTimer() {\r\n  timer.innerHTML = min + \" minutes \" + sec + \" seconds\";\r\n  sec++;\r\n  if (sec &gt;= 60) {\r\n    sec = 0;\r\n    min++;\r\n  }\r\n}\r\n\r\n\r\n//Start the timer\r\ndocument.addEventListener('click', () =&gt; {\r\n  setInterval(myTimer, 1000);\r\n}, { once: true });</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"timer\"&gt;click somewhere&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 4243, "user_id": 2401804, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/chtg9.jpg?s=128&g=1", "display_name": "r3wt", "link": "https://stackoverflow.com/users/2401804/r3wt"}, "is_accepted": false, "score": 0, "last_activity_date": 1551902156, "creation_date": 1551902156, "answer_id": 55031232, "question_id": 55031097, "link": "https://stackoverflow.com/questions/55031097/how-do-i-start-a-timer-on-a-click/55031232#55031232", "title": "How do I start a timer on a click?", "body": "<p>Given a button with id <code>button</code> as so:</p>\n\n<p><code>&lt;button id=\"button\"&gt;Click me&lt;/button&gt;</code></p>\n\n<p>the most basic way to add an event listener for that button to start the timer is by retrieving the element from dom (using <code>querySelector</code> or <code>getElementById</code>), then add a named event listener function to the element in the dom, such as <code>onclick</code>:</p>\n\n<pre><code>document.querySelector('#button').onclick = function(){\n  //your code to start timeer here\n};\n</code></pre>\n\n<p>but you can also do it using <code>addEventListener</code>:</p>\n\n<pre><code>document.querySelector('#button').addEventListener('click',function(){\n  //your code to start timeer here\n});\n</code></pre>\n\n<p>or with event delegation, you can add a global click handler to the document, check if the target element was the button, and if so you can then start the timer:</p>\n\n<pre><code>document.addEventListener('click',function(event){\n  if(event.target.id==='button'){\n    //your code to start timer here\n  }\n});\n</code></pre>\n\n<p>there are 900 ways to skin a cat in modern javascript, its up to you to decide which one is most appropriate, and sometimes its a matter of personal preference.</p>\n"}], "owner": {"reputation": 11, "user_id": 11161804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717595b2b055cc8d0a023c0e28e3118f?s=128&d=identicon&r=PG&f=1", "display_name": "Duble-D", "link": "https://stackoverflow.com/users/11161804/duble-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551902156, "creation_date": 1551901629, "last_edit_date": 1551901660, "question_id": 55031097, "link": "https://stackoverflow.com/questions/55031097/how-do-i-start-a-timer-on-a-click", "title": "How do I start a timer on a click?", "body": "<p>I'm trying to have a timer start when the user makes the first click on a page. Been doing a lot of research and for the life of me, can't figure it out. I think I should use a <code>document.addEventListener</code> but am not sure where it goes.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let min = 0;\nlet sec = 0;\n\n\nfunction myTimer() {\n  if (counting) {\n    timer.innerHTML = min + \" minutes \" + sec + \" seconds\";\n    sec++;\n    if (sec &gt;= 60) {\n      sec = 0;\n      min++;\n    }\n  }\n}\n\n\n//Start the timer\n\nlet startTimer = setInterval(function() {\n  myTimer();\n}, 1000);\n</code></pre>\n\n\n"}]