[{"tags": ["javascript", "html", "google-chrome"], "comments": [{"owner": {"reputation": 5720, "user_id": 3872976, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/bNNko.jpg?s=128&g=1", "display_name": "deathangel908", "link": "https://stackoverflow.com/users/3872976/deathangel908"}, "edited": false, "score": 0, "creation_date": 1565827307, "post_id": 57503402, "comment_id": 101475534, "body": "take a look at <a href=\"https://github.com/akoidan/pychat\" rel=\"nofollow noreferrer\">github.com/akoidan/pychat</a> and live demo <a href=\"https://pychat.org\" rel=\"nofollow noreferrer\">pychat.org</a> you can find some live examples there"}, {"owner": {"reputation": 972, "user_id": 2360118, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0cffb3bf19a4204c173e9c0ba5e808b7?s=128&d=identicon&r=PG", "display_name": "fyroc", "link": "https://stackoverflow.com/users/2360118/fyroc"}, "edited": false, "score": 0, "creation_date": 1565827535, "post_id": 57503402, "comment_id": 101475569, "body": "I&#39;m not understanding, why can&#39;t you use OBS?"}, {"owner": {"reputation": 2622, "user_id": 310455, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1ef9b98aef5167cdf5a75ad524d57b58?s=128&d=identicon&r=PG", "display_name": "Richard Taylor", "link": "https://stackoverflow.com/users/310455/richard-taylor"}, "reply_to_user": {"reputation": 5720, "user_id": 3872976, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/bNNko.jpg?s=128&g=1", "display_name": "deathangel908", "link": "https://stackoverflow.com/users/3872976/deathangel908"}, "edited": false, "score": 0, "creation_date": 1565827896, "post_id": 57503402, "comment_id": 101475624, "body": "Thanks @deathangel908 taking a look now"}, {"owner": {"reputation": 2622, "user_id": 310455, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1ef9b98aef5167cdf5a75ad524d57b58?s=128&d=identicon&r=PG", "display_name": "Richard Taylor", "link": "https://stackoverflow.com/users/310455/richard-taylor"}, "reply_to_user": {"reputation": 972, "user_id": 2360118, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0cffb3bf19a4204c173e9c0ba5e808b7?s=128&d=identicon&r=PG", "display_name": "fyroc", "link": "https://stackoverflow.com/users/2360118/fyroc"}, "edited": false, "score": 0, "creation_date": 1565827930, "post_id": 57503402, "comment_id": 101475634, "body": "@fyroc I&#39;m trying to build a way for users to push into our streaming infrastructure. Currently we use OBS, we want to enable them to stream directly from the browser"}, {"owner": {"reputation": 2622, "user_id": 310455, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1ef9b98aef5167cdf5a75ad524d57b58?s=128&d=identicon&r=PG", "display_name": "Richard Taylor", "link": "https://stackoverflow.com/users/310455/richard-taylor"}, "reply_to_user": {"reputation": 5720, "user_id": 3872976, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/bNNko.jpg?s=128&g=1", "display_name": "deathangel908", "link": "https://stackoverflow.com/users/3872976/deathangel908"}, "edited": false, "score": 0, "creation_date": 1565827971, "post_id": 57503402, "comment_id": 101475639, "body": "Oh sorry @deathangel908 - I&#39;m not looking for a server component here. I have a whole infrastructure set up for streams, I&#39;m just trying to find a way to get our users out of OBS and into the browser instead :)"}, {"owner": {"reputation": 972, "user_id": 2360118, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0cffb3bf19a4204c173e9c0ba5e808b7?s=128&d=identicon&r=PG", "display_name": "fyroc", "link": "https://stackoverflow.com/users/2360118/fyroc"}, "edited": false, "score": 0, "creation_date": 1565828147, "post_id": 57503402, "comment_id": 101475667, "body": "Look at chrome extensions similar to: <a href=\"https://studio.golightstream.com/welcome\" rel=\"nofollow noreferrer\">studio.golightstream.com/welcome</a>"}, {"owner": {"reputation": 2622, "user_id": 310455, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1ef9b98aef5167cdf5a75ad524d57b58?s=128&d=identicon&r=PG", "display_name": "Richard Taylor", "link": "https://stackoverflow.com/users/310455/richard-taylor"}, "edited": false, "score": 0, "creation_date": 1565828441, "post_id": 57503402, "comment_id": 101475716, "body": "Thank you but also not looking for any chrome extensions sorry!  Looking for a way to just bake this into our website, user comes in, click&#39;s go and they&#39;re live"}, {"owner": {"reputation": 972, "user_id": 2360118, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0cffb3bf19a4204c173e9c0ba5e808b7?s=128&d=identicon&r=PG", "display_name": "fyroc", "link": "https://stackoverflow.com/users/2360118/fyroc"}, "edited": false, "score": 0, "creation_date": 1565831572, "post_id": 57503402, "comment_id": 101476189, "body": "I don&#39;t think that&#39;s possible. The idea of lightstream is similar, but they needed to use a browser extension. You have to encode the video in order to pass it to the RTMP server and that&#39;s not really possible with what you&#39;re looking for."}, {"owner": {"reputation": 5720, "user_id": 3872976, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/bNNko.jpg?s=128&g=1", "display_name": "deathangel908", "link": "https://stackoverflow.com/users/3872976/deathangel908"}, "edited": false, "score": 0, "creation_date": 1565856007, "post_id": 57503402, "comment_id": 101481078, "body": "@RichardTaylor In my example, there&#39;s no server support for streaming, only the client one (browser with webrtc)"}], "owner": {"reputation": 2622, "user_id": 310455, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1ef9b98aef5167cdf5a75ad524d57b58?s=128&d=identicon&r=PG", "display_name": "Richard Taylor", "link": "https://stackoverflow.com/users/310455/richard-taylor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 212, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565827190, "creation_date": 1565827190, "question_id": 57503402, "link": "https://stackoverflow.com/questions/57503402/rtp-live-stream-from-browser", "title": "RTP live stream from browser", "body": "<p>I'm trying to record video/audio in a browser and push it to an RTP server.</p>\n\n<p>From what I understand, doing this with RTMP, which is how we do it using OBS, is not going to happen?</p>\n\n<p>From what I found, there's some degree of support for WebRTC (<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WebRTC_API\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/WebRTC_API</a>) and that it has <em>something</em> to do with RTP, but I'm not quite sure what?</p>\n\n<p>I haven't been able to find anything, really, which is making me think maybe this just isn't feasible?</p>\n"}, {"tags": ["javascript", "reactjs", "api"], "comments": [{"owner": {"reputation": 17725, "user_id": 2628879, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/763e4726ca8e0ffbacc058380483a016?s=128&d=identicon&r=PG", "display_name": "aris", "link": "https://stackoverflow.com/users/2628879/aris"}, "edited": false, "score": 0, "creation_date": 1565826759, "post_id": 57503331, "comment_id": 101475450, "body": "The third line doesn&#39;t look right"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 2, "creation_date": 1565827069, "post_id": 57503331, "comment_id": 101475506, "body": "<code>It just throw me different CORS errors</code> ... what are these CORS errors <i>specifically</i> - because there are different errors for different reasons"}, {"owner": {"reputation": 24020, "user_id": 264802, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/9d9b871f40b338b97bfb44bdafa14a87?s=128&d=identicon&r=PG", "display_name": "fulvio", "link": "https://stackoverflow.com/users/264802/fulvio"}, "edited": false, "score": 0, "creation_date": 1565833183, "post_id": 57503331, "comment_id": 101476465, "body": "See the How to Ask page for help clarifying this question. - <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11928857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75f22c2f82594988e291745b3c58095?s=128&d=identicon&r=PG&f=1", "display_name": "Wisord", "link": "https://stackoverflow.com/users/11928857/wisord"}, "edited": false, "score": 0, "creation_date": 1565965780, "post_id": 57503922, "comment_id": 101519285, "body": "Thank you. I&#39;ll try that for now &lt;3"}], "tags": [], "owner": {"reputation": 28, "user_id": 5184883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80a7cb40e3bd72445a5224bfbc338931?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.eggplant", "link": "https://stackoverflow.com/users/5184883/mr-eggplant"}, "is_accepted": true, "score": 0, "last_activity_date": 1565833216, "creation_date": 1565833216, "answer_id": 57503922, "question_id": 57503331, "link": "https://stackoverflow.com/questions/57503331/how-to-make-an-api-request-with-react/57503922#57503922", "title": "How to make an API request with React?", "body": "<p>Fastest way to resolve this type of CORS problem is to add an entry in your hosts file mapping localhost to some address and develop from there. Obviously, this is a quick and dirty solution (since it only fixes the problem on your local machine) but if you're developing a small project for your own learning then it's a not a bad way to do it. </p>\n\n<pre><code>127.0.0.1 your_custom_address\n</code></pre>\n\n<p>I did run your code and it worked fine.</p>\n"}], "owner": {"reputation": 3, "user_id": 11928857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75f22c2f82594988e291745b3c58095?s=128&d=identicon&r=PG&f=1", "display_name": "Wisord", "link": "https://stackoverflow.com/users/11928857/wisord"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "closed_date": 1565841285, "accepted_answer_id": 57503922, "answer_count": 1, "score": -5, "last_activity_date": 1565833216, "creation_date": 1565826447, "last_edit_date": 1565832713, "question_id": 57503331, "link": "https://stackoverflow.com/questions/57503331/how-to-make-an-api-request-with-react", "closed_reason": "Needs details or clarity", "title": "How to make an API request with React?", "body": "<p>I'm making an API request to USDA database but I can't get the right info with React. It just throw me different CORS errors that I can't solve.</p>\n\n<p>I tried the same API request with Javascript all alone and it worked perfectly but now in React I can't get it right.</p>\n\n<p>This is on Javascript</p>\n\n<pre><code>const BASE_API = `https://api.nal.usda.gov/fdc/v1/search?api_key=api_key`;\nasync function getData(url) {\n  const response = await fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify({\n          generalSearchInput: \"Cheddar cheese\"\n      }),\n      headers: {\n          \"Content-Type\": \"application/json\"\n      }\n  });\n  const data = await response.json();\n  return data;\n}\n</code></pre>\n\n<p>And this is in React</p>\n\n<pre><code>fetchFoodID = async () =&gt; {\n    const response = await fetch(\"https://api.nal.usda.gov/fdc/v1/search?api_key=api_key\",{\n        method: \"POST\",\n        body: JSON.stringify({\n            generalSearchInput: \"Cheddar\"\n        }),\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    });\n    const data = await response.json();\n    this.setState({\n        data: data\n    });\n};\n</code></pre>\n\n<p>With Javascript I can get the food list with the search terms but in React it just throw different cors problems.</p>\n"}, {"tags": ["javascript", "npm", "node-modules", "vuepress"], "comments": [{"owner": {"reputation": 1919, "user_id": 531194, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/9100485d7bc2ca31230335f6599aa821?s=128&d=identicon&r=PG", "display_name": "Dave Stewart", "link": "https://stackoverflow.com/users/531194/dave-stewart"}, "edited": false, "score": 0, "creation_date": 1613986656, "post_id": 57503330, "comment_id": 117235897, "body": "Did you ever solve this? I can&#39;t seem to require anything, even if I use an absolute path to the file."}], "owner": {"reputation": 41, "user_id": 8787059, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8lcpQK2p2JI/AAAAAAAAAAI/AAAAAAAAARo/-4Ie5bsKHPA/photo.jpg?sz=128", "display_name": "Ian Stanley", "link": "https://stackoverflow.com/users/8787059/ian-stanley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 596, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1565826447, "creation_date": 1565826447, "question_id": 57503330, "link": "https://stackoverflow.com/questions/57503330/trying-to-require-or-import-a-npm-installed-module-inside-a-vuepress-component", "title": "Trying to require or import a npm installed module inside a vuepress component", "body": "<p>I have 'npm install -S tabletop' into my vuepress site and I am struggling to either import or require the tabletop module.</p>\n\n<p>I know next to nothing  about webpack nor the internals of vuepress (this is nmy first vuepress project) </p>\n\n<p>Building a static website for a friend but planning to use a google spreadsheet to hold current work opportunities and suck the line entries using tabletop.js (<a href=\"https://www.npmjs.com/package/tabletop\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/tabletop</a>) into a JSON then filter and loop through to present in a vuepress loop</p>\n\n<p>However, I've failed at step one of this process ... using tabletop.js inside a vuepress container's  tag</p>\n\n<p>Hi all, I'm new to vuepress and webpack and I'm getting a headache over trying to use a javascript library. I'm familiar with javascript and writing my own scripts and also loading javascript libraries in raw html websites. But I've really got stuck trying to figure out where the relative path for a require statement should be</p>\n\n<p>I've tried both npm installing and also inserting into the config.js HEAD (which appears in devtools) options 1 and/or 2 below</p>\n\n<ol>\n<li>install tabletop.js with</li>\n</ol>\n\n<pre><code>npm install -S tabletop\n</code></pre>\n\n<p>2.add link to config.js' HEAD</p>\n\n<pre><code>module.exports = {\n\n    title: 'Starlife Company Services Ltd',\n    description: 'Cleaning and Security services across the South East',\n\n    head: [\n    ['link', { type: 'text/javscript', src: 'https://cdnjs.cloudflare.com/ajax/libs/tabletop.js/1.5.1/tabletop.min.js' }]\n  ]\n}\n</code></pre>\n\n<ol start=\"3\">\n<li>add a require in  tags in component</li>\n</ol>\n\n<pre><code>\n&lt;template&gt;\n....\n&lt;/template&gt;\n\n&lt;script&gt;\n\n    export default  {\n        name:  \"cleaning-cta\"\n    };\n\n\n    console.log(\"script started from inside joblist.vue\")\n\n\n    import as sheet from 'tabletop'\n\n    var recruitment = \"https://docs.google.com/spreadsheets/d/1M7glQxJb31B3lQyKNqum5o-0eDAgKI54VBPUAJomIFM/pubhtml\" ;\n\n    console.log(recruitment);\n\n    var tabletop = sheet.init({\n      key: '1M7glQxJb31B3lQyKNqum5o-0eDAgKI54VBPUAJomIFM',\n      callback: showInfo\n    })\n&lt;/script&gt;\n</code></pre>\n\n<p>I've tried various combinations of</p>\n\n<pre><code>import 'tabletop'\nTabletop.init(...)\n</code></pre>\n\n<p>-or-</p>\n\n<pre><code>require('tabletop')\n\nimport as from 'tabletop'\n</code></pre>\n\n<p>I've tried various relative pathways</p>\n\n<pre><code>'tabletop'\n'./tabletop'\n'../../tabletop'\n'../../node_modules/tabletop'\n</code></pre>\n\n<p>without no avail all with either a require or an import or a HEAD inserted sript tag</p>\n\n<p>without a path I get</p>\n\n<pre><code>vue.runtime.esm.js?4bfb:619 [Vue warn]: Failed to resolve async component: function () {\n  return Promise.all(/*! import() */[__webpack_require__.e(20), __webpack_require__.e(29)]).then(__webpack_require__.bind(null, /*! ./src/.vuepress/components/joblist */ \"./src/.vuepress/components/joblist.vue\"));\n}\nReason: ReferenceError: Tabletop is not defined\n</code></pre>\n\n<p>with a relative path I get ...</p>\n\n<pre><code>client?cae4:159 ./src/.vuepress/components/joblist.vue?vue&amp;type=script&amp;lang=js&amp; (./node_modules/cache-loader/dist/cjs.js??ref--3-0!/usr/local/lib/node_modules/vuepress/node_modules/babel-loader/lib??ref--3-1!./node_modules/cache-loader/dist/cjs.js??ref--0-0!/usr/local/lib/node_modules/vuepress/node_modules/vue-loader/lib??vue-loader-options!./src/.vuepress/components/joblist.vue?vue&amp;type=script&amp;lang=js&amp;)\nModule not found: Error: Can't resolve '../../tabletop' in '/home/pi/GitHub/starlife-website/src/.vuepress/components'\nerrors @ client?cae4:159\n(anonymous) @ socket.js?e29c:47\nsock.onmessage @ SockJSClient.js?0a33:58\nEventTarget.dispatchEvent @ sockjs.js?fb87:170\n(anonymous) @ sockjs.js?fb87:887\nSockJS._transportMessage @ sockjs.js?fb87:885\nEventEmitter.emit @ sockjs.js?fb87:86\nWebSocketTransport.ws.onmessage @ sockjs.js?fb87:2961\nvue.runtime.esm.js?4bfb:619 [Vue warn]: Failed to resolve async component: function () {\n  return __webpack_require__.e(/*! import() */ 20).then(__webpack_require__.bind(null, /*! ./src/.vuepress/components/joblist */ \"./src/.vuepress/components/joblist.vue\"));\n}\nReason: Error: Cannot find module '../../tabletop'\n</code></pre>\n\n<p>Every variation of the path both for import or require seems to end up in the same two errors:</p>\n\n<ol>\n<li>Error: Cannot find module '../../tabletop'</li>\n</ol>\n\n<p>-or-</p>\n\n<ol start=\"2\">\n<li>Reason: ReferenceError: Tabletop is not defined</li>\n</ol>\n\n<p>After several hours I'm lost ... spent hours googling for examples none of which are based within vuepress and none have been helpful </p>\n\n<p>With Insuffiicent knowledge to poke through webpack, and running out of alternatives my project has hit a wall and I cannot see my way around.</p>\n\n<p>Any ideas are much appreciated</p>\n\n<p>Current state of project can be found at \n<a href=\"https://github.com/kingdom-values-clients/starlife-website/tree/345d55eed65f110626a9e4d3bcadae1efcca0cbc\" rel=\"nofollow noreferrer\">https://github.com/kingdom-values-clients/starlife-website/tree/345d55eed65f110626a9e4d3bcadae1efcca0cbc</a></p>\n\n<p>See above and also in thes commit</p>\n\n<pre><code>https://github.com/kingdom-values-clients/starlife-website/tree/345d55eed65f110626a9e4d3bcadae1efcca0cbc\n</code></pre>\n\n<ol>\n<li>Error: Cannot find module '../../tabletop'</li>\n</ol>\n\n<p>-or-</p>\n\n<ol start=\"2\">\n<li>Reason: ReferenceError: Tabletop is not defined</li>\n</ol>\n\n<p>I know I'm probably doing something dumb here but cannot figure it out nor can I find any help for anything remotely like this inside a vuepress component.</p>\n"}, {"tags": ["javascript", "html", "css", "web"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1565826845, "post_id": 57503295, "comment_id": 101475462, "body": "You need another script tag to load jQuery, it must be before the one that loads your script."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 2829, "user_id": 6388552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJiGS.jpg?s=128&g=1", "display_name": "ths", "link": "https://stackoverflow.com/users/6388552/ths"}, "edited": false, "score": 0, "creation_date": 1565826908, "post_id": 57503295, "comment_id": 101475475, "body": "@ths I think his problem is that he&#39;s missing the <code>&lt;script&gt;</code> tag that loads jQuery. You fixed this in your edit, so it&#39;s not the same question any more."}, {"owner": {"reputation": 2829, "user_id": 6388552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJiGS.jpg?s=128&g=1", "display_name": "ths", "link": "https://stackoverflow.com/users/6388552/ths"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1565826979, "post_id": 57503295, "comment_id": 101475488, "body": "@Barmar if you see my edit changes the OP&#39;s intent in a way or another feel free to roll it back."}, {"owner": {"reputation": 3, "user_id": 11929601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/464bcfcbf113b643c17042b1bee2a0c7?s=128&d=identicon&r=PG&f=1", "display_name": "iph33r", "link": "https://stackoverflow.com/users/11929601/iph33r"}, "edited": false, "score": 0, "creation_date": 1565827534, "post_id": 57503295, "comment_id": 101475568, "body": "I was not aware I needed to call jQuery. I copied the code over and it still isn&#39;t showing up. Does it need to be in the head tag or in the body tag?"}], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 0, "last_activity_date": 1565827246, "creation_date": 1565827246, "answer_id": 57503407, "question_id": 57503295, "link": "https://stackoverflow.com/questions/57503295/simple-points-counter-javascript-is-not-showing-up/57503407#57503407", "title": "Simple Points Counter, Javascript is not showing up", "body": "<p>Since your script uses Jquery, you need to load that first.</p>\n\n<pre><code>&lt;head&gt;\n    &lt;link rel=\"stylesheet\" href=\"style.css\"&gt;\n    &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"/public_html/script.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11929601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/464bcfcbf113b643c17042b1bee2a0c7?s=128&d=identicon&r=PG&f=1", "display_name": "iph33r", "link": "https://stackoverflow.com/users/11929601/iph33r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 57503407, "answer_count": 1, "score": 0, "last_activity_date": 1565827689, "creation_date": 1565826103, "last_edit_date": 1565827689, "question_id": 57503295, "link": "https://stackoverflow.com/questions/57503295/simple-points-counter-javascript-is-not-showing-up", "title": "Simple Points Counter, Javascript is not showing up", "body": "<p>I am trying to build a very simple points counter on a website. The numbers and button press aren't showing up in the main HTML. I am somewhat familiar with javascript, but not how to implement it onto a website. Help?</p>\n\n<p>I've tried putting the javascript in a  tag in the header, but it still doesn't show up.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;link rel=\"stylesheet\" href=\"style.css\"&gt;\n    &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"/public_html/script.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n\n\n&lt;body&gt;\n\n  &lt;div id=\"main-container\"&gt;\n    &lt;div class=\"health-box\" id=\"opponent-health\"&gt;\n      &lt;img src=\"https://www.trzcacak.rs/myfile/full/208-2086167_runic-letter-othalan-rune-odal.png\"&gt;\n      &lt;div class=\"health-counter\" id=\"opponent-health-counter\"&gt;\n      &lt;/div&gt;\n      &lt;div class=\"health-adjust health-minus\" id=\"opponent-health-minus\"&gt;\n        &amp;#9660;\n      &lt;/div&gt;\n      &lt;div class=\"health-adjust health-plus\" id=\"opponent-health-plus\"&gt;\n        &amp;#9650;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"health-box\" id=\"your-health\"&gt;\n      &lt;p&gt; LP &lt;/p&gt;\n      &lt;div class=\"health-counter\" id=\"your-health-counter\"&gt;\n      &lt;/div&gt;\n      &lt;div class=\"health-adjust health-minus\" id=\"your-health-minus\"&gt;\n        &amp;#9660;\n      &lt;/div&gt;\n      &lt;div class=\"health-adjust health-plus\" id=\"your-health-plus\"&gt;\n        &amp;#9650;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n\n&lt;/body&gt; \n&lt;/html&gt;\n</code></pre>\n\n<pre><code>$(document).ready(function() {\n\n  //Variable set-up\n  var opponentHealth = 0;\n  var yourHealth = 10;\n\n  $(\"#opponent-health-counter\").html(opponentHealth);\n  $(\"#your-health-counter\").html(yourHealth);\n\n  //Health adjust code\n  $(\".health-adjust\").click(function() {\n    if (this.id == \"opponent-health-minus\" &amp;&amp; opponentHealth &gt; 0) {\n      opponentHealth -= 1;\n    }\n    else{\n      opponentHealth -= 0;\n    };\n    if (this.id == \"your-health-minus\") {\n      yourHealth -= 1;\n    };\n    if (this.id == \"opponent-health-plus\" &amp;&amp; opponentHealth &lt; yourHealth) {\n      opponentHealth += 1;\n    }\n    else{\n      opponentHealth += 0;\n    };\n    if (this.id == \"your-health-plus\") {\n      yourHealth += 1; \n    };\n    $(\"#opponent-health-counter\").html(opponentHealth);\n    $(\"#your-health-counter\").html(yourHealth);\n  });\n});\n</code></pre>\n\n<p>Here is a link to a Pen where the programming works as expected. <a href=\"https://codepen.io/iph33r/full/LYPpOJm\" rel=\"nofollow noreferrer\">https://codepen.io/iph33r/full/LYPpOJm</a></p>\n"}, {"tags": ["javascript", "json", "post", "axios"], "comments": [{"owner": {"reputation": 11449, "user_id": 6525724, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CZEkk.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/6525724/nick"}, "edited": false, "score": 1, "creation_date": 1565826208, "post_id": 57503283, "comment_id": 101475347, "body": "Just peeking at the docs, I think your 3rd argument may need to be <code>{ headers }</code> (see this example <a href=\"https://github.com/axios/axios/issues/858#issuecomment-302257238\" rel=\"nofollow noreferrer\">github.com/axios/axios/issues/858#issuecomment-302257238</a>)"}, {"owner": {"reputation": 21, "user_id": 11694446, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rLHX1N5jtlg/AAAAAAAAAAI/AAAAAAAAAJs/R1ETOK5mT38/photo.jpg?sz=128", "display_name": "Ruben Ortega", "link": "https://stackoverflow.com/users/11694446/ruben-ortega"}, "reply_to_user": {"reputation": 11449, "user_id": 6525724, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CZEkk.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/6525724/nick"}, "edited": false, "score": 0, "creation_date": 1565877648, "post_id": 57503283, "comment_id": 101489737, "body": "Thanks Nick, when I put the headers between braces like that {headers: state.headers}, the Content-Type in the request body is application/json now. But I have a problem with CORS policy. I&#39;m not sure if the problem with the cors is mine or the server. This is the message: has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: It does not have HTTP ok status. I&#39;ll keep looking, thank you again."}], "owner": {"reputation": 21, "user_id": 11694446, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rLHX1N5jtlg/AAAAAAAAAAI/AAAAAAAAAJs/R1ETOK5mT38/photo.jpg?sz=128", "display_name": "Ruben Ortega", "link": "https://stackoverflow.com/users/11694446/ruben-ortega"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 642, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565825958, "creation_date": 1565825958, "question_id": 57503283, "link": "https://stackoverflow.com/questions/57503283/post-request-with-axios-and-json-data", "title": "Post request with axios and json data", "body": "<p>I want to make a post request with axios and the data that I must send must be json. I have seen that the content type of my header must be application / json and this is done by default. but when I see the request my called the content type is Content-Type: application / x-www-form-urlencoded</p>\n\n<p>I have tried different ways to set it to change it but it always shows up in the request headers.</p>\n\n<p>The service does the insert but with empty data.</p>\n\n<p>Any idea? I've lost two days with this. Thanks!</p>\n\n<pre><code>const headers = {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*',\n        'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',\n        'Access-Control-Allow-Headers': 'Authorization'\n      }\n</code></pre>\n\n<hr>\n\n<pre><code>const dataJson = JSON.stringify(solicitudObj);\n\n  axios.post(state.basePath + 'Api/Solicitud/SaveSolicitud/',\n    dataJson,\n    headers\n  )\n    .then(response =&gt; {\n      console.log(response);\n    })\n    .catch(error =&gt; {\n      console.log(error);\n    })\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "react-native"], "answers": [{"tags": [], "owner": {"reputation": 16246, "user_id": 2875348, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZYAH1.jpg?s=128&g=1", "display_name": "ravibagul91", "link": "https://stackoverflow.com/users/2875348/ravibagul91"}, "is_accepted": true, "score": 2, "last_activity_date": 1565840154, "creation_date": 1565840154, "answer_id": 57504567, "question_id": 57503235, "link": "https://stackoverflow.com/questions/57503235/im-trying-to-add-a-font-to-my-react-native-app-but-im-getting-error-of-not-clos/57504567#57504567", "title": "I&#39;m trying to add a font to my react native app but im getting error of not closing a jsx tag but i closed all of them", "body": "<p>The error is because, you are returning multiple elements from your condition,</p>\n\n<pre><code>{this.state.fontLoaded == true ? ( ...\n</code></pre>\n\n<p>You need to wrap all your element with a wrapper element to create only 1 returning element.</p>\n\n<p>For this you can use <a href=\"https://reactjs.org/docs/fragments.html\" rel=\"nofollow noreferrer\"><code>Fragments</code></a>.</p>\n\n<p><strong>What is Fragments ?</strong></p>\n\n<blockquote>\n  <p>A common pattern in React is for a component to return multiple elements. Fragments let you group a list of children without adding extra nodes to the DOM.</p>\n</blockquote>\n\n<p>Here also you have multiple ways to write <code>Fragment</code>.</p>\n\n<pre><code>import React from 'react'\n\n{this.state.fontLoaded == true ? (\n  &lt;React.Fragment&gt;\n     &lt;view&gt;&lt;/view&gt;\n     ...\n     ...\n  &lt;/React.Fragment&gt;\n ) : (&lt;Text style={styles.inputText}&gt;Loading... &lt;/Text&gt;)\n}\n</code></pre>\n\n<p><strong>Or</strong></p>\n\n<pre><code>import React , { Fragment } from 'react'\n\n{this.state.fontLoaded == true ? (\n  &lt;Fragment&gt;\n     &lt;view&gt;&lt;/view&gt;\n     ...\n     ...\n  &lt;/Fragment&gt;\n ) : (&lt;Text style={styles.inputText}&gt;Loading... &lt;/Text&gt;)\n}\n</code></pre>\n\n<p><strong>Or</strong> even short syntax is <code>&lt;&gt; &lt;/&gt;</code> (empty tags),</p>\n\n<pre><code>import React from 'react'\n\n{this.state.fontLoaded == true ? (\n  &lt;&gt;\n     &lt;view&gt;&lt;/view&gt;\n     ...\n     ...\n  &lt;/&gt;\n ) : (&lt;Text style={styles.inputText}&gt;Loading... &lt;/Text&gt;)\n}\n</code></pre>\n"}], "owner": {"reputation": 135, "user_id": 4599345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/945a3eb4515df7be42c9fadcd9f0cd2b?s=128&d=identicon&r=PG&f=1", "display_name": "prog", "link": "https://stackoverflow.com/users/4599345/prog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 57504567, "answer_count": 1, "score": 0, "last_activity_date": 1565840154, "creation_date": 1565825424, "last_edit_date": 1565839520, "question_id": 57503235, "link": "https://stackoverflow.com/questions/57503235/im-trying-to-add-a-font-to-my-react-native-app-but-im-getting-error-of-not-clos", "title": "I&#39;m trying to add a font to my react native app but im getting error of not closing a jsx tag but i closed all of them", "body": "<p>Im trying to add fonts to my app but along the way I ran into this error </p>\n\n<blockquote>\n  <p>SyntaxError: C:\\Users\\arich\\Documents\\efees\\App.js: Adjacent JSX elements must be wrapped in an enclosing tag. Did you want a JSX fragment &lt;>...? (69:5)</p>\n</blockquote>\n\n<pre><code>constructor(props) {\n    super(props);\n      this.state = {\n      fontLoaded: false\n  };\n}\n\n    async componentDidMount() {\n      await Font.loadAsync({\n        'open-sans': require('./assets/fonts/OpenSans-Bold.ttf')\n      }).then(() =&gt; {\n        this.setState({ fontLoaded: true });\n      });\n    }\n\n  render() {\n    const finalValue = parseFloat(this.state.soldPrice || 0) +\n    parseFloat(this.state.shippingCharge || 0)\n    - parseFloat(this.state.soldPrice || 0) *\n    parseFloat(this.state.paypalFeePercentage || 0)\n    - parseFloat(this.state.paypalFee  || 0)\n    - parseFloat(this.state.soldPrice || 0) *\n    parseFloat(this.state.ebayFee || 0) - parseFloat(this.state.shippingCost || 0)\n    - parseFloat(this.state.itemCost || 0);\n\n    const inputStyle = this.state.inputStyleInactive;\n\n    const ebaytTotal = this.state.ebayFee * this.state.soldPrice;\n\n    const paypalTotal = this.state.paypalFeePercentage *\n     this.state.soldPrice + this.state.paypalFee;\n\n      EStyleSheet.build({ // always call EStyleSheet.build() even if you don't use global variables!\n\n      });\n   return (\n\n     &lt;View style={styles.container}&gt;\n</code></pre>\n\n<p>I tried to add/remove opening and closing tags but i think the main cause of this error is this opening parenthesis but just not sure how to fix it also would appreciate an explanation for why this error was caused it would definitely help me for the future being that i'm a beginner always looking to learn lessons out of these moments when i'm just stumped</p>\n\n<pre><code> {this.state.fontLoaded == true ? (\n         &lt;View style={styles.header}&gt;\n         &lt;Text style={styles.headerText}&gt;Efees&lt;/Text&gt;\n         &lt;/View&gt;\n</code></pre>\n\n<p>this view is the one getting the error</p>\n\n<pre><code>    &lt;View style={styles.blocks}&gt;\n\n     &lt;View style={styles.inputs} &gt;\n     &lt;Text style={styles.inputText}&gt;1. Sold Price&lt;/Text&gt;\n     &lt;NumberInput\n     onchange={(soldPrice) =&gt; this.setState({ soldPrice })}\n     /&gt;\n     &lt;/View&gt;\n\n     &lt;View style={styles.inputs}&gt;\n     &lt;Text style={styles.inputText}&gt;2. Shipping Charge&lt;/Text&gt;\n\n     &lt;NumberInput\n     onchange={(shippingCharge) =&gt; this.setState({ shippingCharge })}\n     /&gt;\n     &lt;/View&gt;\n\n     &lt;View style={styles.inputs}&gt;\n     &lt;Text style={styles.inputText}&gt;3. Shipping Cost&lt;/Text&gt;\n\n     &lt;NumberInput\n     onchange={(shippingCost) =&gt; this.setState({ shippingCost })}\n     /&gt;\n\n     &lt;/View&gt;\n\n     &lt;View style={styles.inputs}&gt;\n     &lt;Text style={styles.inputText}&gt;4. Item Cost&lt;/Text&gt;\n\n     &lt;NumberInput\n     onchange={(itemCost) =&gt; this.setState({ itemCost })}\n     /&gt;\n\n     &lt;/View&gt;\n\n     &lt;View style={styles.inputs}&gt;\n     &lt;Text style={styles.inputText}&gt;5. Ebay Store?&lt;/Text&gt;\n\n     &lt;/View&gt;\n\n     &lt;View style={styles.inputs}&gt;\n     &lt;Text style={styles.inputText}&gt;6. Top Rated Seller?&lt;/Text&gt;\n\n\n     &lt;/View&gt;\n     &lt;/View&gt;\n\n     &lt;View style={styles.results}&gt;\n      &lt;Text style={styles.resultText}&gt;eBay Fee:{ebaytTotal.toFixed(2)}&lt;/Text&gt;\n      &lt;Text style={styles.resultText}&gt;Paypal Fee:{paypalTotal.toFixed(2)}&lt;/Text&gt;\n      &lt;Text style={styles.resultText}&gt;Profit %{}&lt;/Text&gt;\n      &lt;Text style={styles.profitResult}&gt;TOTAL PROFIT:{finalValue.toFixed(2)}&lt;/Text&gt;\n      &lt;/View&gt;\n    ) : (&lt;Text style={styles.inputText}&gt;Loading... &lt;/Text&gt;)\n  }\n      &lt;/View&gt;\n\n );\n }\n}\n</code></pre>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1565827539, "post_id": 57503118, "comment_id": 101475570, "body": "<code>e.dataTransfer.setData</code> is called asynchronously once the fetch has received the response. so it could very well be possible that this hasn&#39;t happened yet when <code>onDrop</code> is called"}, {"owner": {"reputation": 1, "user_id": 11014591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nqkLe.jpg?s=128&g=1", "display_name": "bemisjo92", "link": "https://stackoverflow.com/users/11014591/bemisjo92"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1565878527, "post_id": 57503118, "comment_id": 101490211, "body": "@JaromandaX Okay that makes sense to me, is there any way I can still use fetch but also get the data when I need it?"}, {"owner": {"reputation": 1, "user_id": 11014591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nqkLe.jpg?s=128&g=1", "display_name": "bemisjo92", "link": "https://stackoverflow.com/users/11014591/bemisjo92"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1565882809, "post_id": 57503118, "comment_id": 101492364, "body": "@JaromandaX I figured out a workaround. Instead of passing the data that came back from the database in the dataTransfer, I simply transfered the values I needed to perform the fetch, and then performed the fetch in the onDrop() function"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1565909265, "post_id": 57503118, "comment_id": 101501958, "body": "That would make sense"}], "owner": {"reputation": 1, "user_id": 11014591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nqkLe.jpg?s=128&g=1", "display_name": "bemisjo92", "link": "https://stackoverflow.com/users/11014591/bemisjo92"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565824308, "creation_date": 1565824308, "question_id": 57503118, "link": "https://stackoverflow.com/questions/57503118/datatransfer-getdata-is-empty-even-after-datatransfer-setdata-is-called-does-it", "title": "dataTransfer.getData is empty even after dataTransfer.setData is called, does it have to do with fetch()?", "body": "<p>I need to get data from essentially an online excel spreadsheet. Previously, I was retrieving this data from the actual HTML DOM elements and their children, using .innerText or .value. I realized that this would be inconsistent, since the excel spreadsheet can have more or less rows depending on what the user wants. I changed up the way I get data by using querying the database that the spreadsheet is stored in. This way, it wouldn't matter how many columns this spreadsheet has, I can retrieve only the data I want from the columns in the database.</p>\n\n<p>I made sure that the data I am retrieving from the database is valid, the data presented to dataTransfer.setData() is the exact same as before when I was retrieving information from DOM elements, and the object I am trying to transfer is indeed a string. When I step through from onDragStart() to onDrop(), it seems like either dataTransfer.setData isn't actually setting the data, or dataTransfer.getData isn't actually getting the data, which seems very unlikely. The only thing I can think of is that I introduced a fetch statement, and am trying to set the data in the promise of the fetch, which might make things weird for some reason.</p>\n\n<p>BEFORE: </p>\n\n<pre><code>function onDragStart(e) {\n    let data = {\n        \"item\": e.target.children[2].children[0].value,\n        \"description\": e.target.children[3].textContent,\n        //etc...\n    };\n    let stringData = JSON.stringify(data);\n    e.dataTransfer.setData('text', stringData);\n}\n\nfunction onDrop(e) {\n    e.preventDefault();\n    let stringData = e.dataTransfer.getData('text');\n    let data = JSON.parse(stringData);\n    //do things with data...\n}\n</code></pre>\n\n<p>AFTER:</p>\n\n<pre><code>function onDragStart(e) {\n    fetch('&lt;my_url&gt;', {method: 'POST', body: JSON.stringify(data)})\n        .then(function(response) {\n            return response.text();\n        })\n        .then(function(result) {\n            let parsedResult = JSON.parse(result);\n            let transferData = {\n                'item': parsedResult.item,\n                'description': parsedResult.description,\n                //etc...\n            };\n            let stringData = JSON.stringify(transferData);\n            e.dataTransfer.setData('text', stringData);\n         });\n}\n\n//onDrop() did not change\n</code></pre>\n\n<p>The transferData object in the second onDragStart() is the exact same as the first data object in the first. When I step through the onDrop(), I noticed that stringData is empty, so an error is thrown when trying to JSON.parse(), \"unexpected end of JSON input.\"</p>\n"}, {"tags": ["javascript", "reactjs", "react-bootstrap"], "comments": [{"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1565824451, "post_id": 57503104, "comment_id": 101475042, "body": "It&#39;s time to go &quot;maybe I wrote the wrong code&quot;, so start without any children. Does <code>&lt;Nav&gt;</code> render correctly now? If not, it&#39;s not <i>infinitely easier</i> to debug your code in terms of where things might have gone wrong. Does it work? Cool: add a single child, and see what happens"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10497415, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155966971733786/picture?type=large", "display_name": "Arbi Starkiller Llaveshi", "link": "https://stackoverflow.com/users/10497415/arbi-starkiller-llaveshi"}, "edited": false, "score": 1, "creation_date": 1565875643, "post_id": 57503300, "comment_id": 101488653, "body": "Thank you! This was killing me."}], "tags": [], "owner": {"reputation": 793, "user_id": 3755425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wpwGb.png?s=128&g=1", "display_name": "Mohrn", "link": "https://stackoverflow.com/users/3755425/mohrn"}, "is_accepted": true, "score": 1, "last_activity_date": 1565826163, "creation_date": 1565826163, "answer_id": 57503300, "question_id": 57503104, "link": "https://stackoverflow.com/questions/57503104/react-recursive-function-to-render-components/57503300#57503300", "title": "React Recursive Function to Render Components", "body": "<p>You're not returning the result in this map <code>{navItem.content.map(item =&gt; {this.getNavItem(item)})}</code>. Should be <code>{navItem.content.map(item =&gt; this.getNavItem(item))}</code> or <code>{navItem.content.map(item =&gt; { return this.getNavItem(item)})}</code>. See below example (I replaced your components with divs but the structure is right):</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const navContent = [\r\n  {\r\n    type: \"link\",\r\n    target: \"/\",\r\n    content: \"Home\"\r\n  },\r\n  {\r\n    type: \"dropdown\",\r\n    title: \"CLICK ME\",\r\n    content: [\r\n      { type: \"item\", target: \"/\", content: \"home\" },\r\n      { type: \"item\", target: \"/\", content: \"home\" }\r\n    ]\r\n  },\r\n  {\r\n    type: \"form\",\r\n    formType: \"text\",\r\n    placeholder: \"search\",\r\n    className: \"\",\r\n    buttonType: \"submit\",\r\n    buttonContent: \"Submit\"\r\n  }\r\n];\r\n\r\nclass Navigation extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  getNavItem(navItem) {\r\n    const foo = () =&gt; 1;\r\n    switch (navItem.type) {\r\n      case \"link\":\r\n        return (\r\n          &lt;div className=\"Nav.Link\"&gt;\r\n            &lt;div className=\"Link\" to={navItem.target}&gt;\r\n              {navItem.content}\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n        );\r\n      case \"dropdown\":\r\n        return (\r\n          &lt;div\r\n            className=\"NavDropdown\"\r\n            id=\"basic-nav-dropdown\"\r\n            title={navItem.title}\r\n          &gt;\r\n            {navItem.content.map((item) =&gt; this.getNavItem(item))}\r\n          &lt;/div&gt;\r\n        );\r\n      case \"form\":\r\n        return (\r\n          &lt;div className=\"Form\" inline&gt;\r\n            {\" \"}\r\n            &lt;div\r\n              className=\"FormControl\"\r\n              type={navItem.formType}\r\n              placeholder={navItem.placeholder}\r\n              className={navItem.className}\r\n            /&gt;\r\n            &lt;div className=\"Button\" type={navItem.buttonType}&gt;\r\n              {navItem.buttonContent}\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n        );\r\n      case \"item\":\r\n        return (\r\n          &lt;div className=\"NavDropdown.Item\"&gt;\r\n            &lt;div className=\"Link\" to={navItem.target}&gt;\r\n              {navItem.content}\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n        );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      &lt;div className=\"Navbar\" bg=\"light\" expand=\"lg\"&gt;\r\n        &lt;div className=\"Link\" to=\"/\"&gt;\r\n          &lt;div className=\"Navbar.Brand\"&gt;Home Placeholder&lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;div className=\"Navbar.Toggle\" aria-controls=\"basic-navbar-nav\" /&gt;\r\n        &lt;div className=\"Navbar.Collapse\" id=\"basic-navbar-nav\"&gt;\r\n          &lt;div className=\"Navbar.Collapse mr-auto\"&gt;\r\n            {this.props.navContent.map(this.getNavItem.bind(this))}\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    );\r\n  }\r\n}\r\n\r\nReactDOM.render(\r\n  &lt;Navigation navContent={navContent} /&gt;,\r\n  document.getElementById(\"react\")\r\n);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/16.6.3/umd/react.production.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react-dom/16.6.3/umd/react-dom.production.min.js\"&gt;&lt;/script&gt;\r\n&lt;Navigation/&gt;\r\n&lt;div id=\"react\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 3, "user_id": 10497415, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155966971733786/picture?type=large", "display_name": "Arbi Starkiller Llaveshi", "link": "https://stackoverflow.com/users/10497415/arbi-starkiller-llaveshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 0, "accepted_answer_id": 57503300, "answer_count": 1, "score": 0, "last_activity_date": 1565826163, "creation_date": 1565824184, "question_id": 57503104, "link": "https://stackoverflow.com/questions/57503104/react-recursive-function-to-render-components", "title": "React Recursive Function to Render Components", "body": "<p>I've been attempting to render a react-bootstrap component within a custom navBar component in react. I have a recursive function set up which is supposed to run in react render and drill down until there are no nav Item components under the NavDropDown Components. Currently when any attempts at drilling down return as undefined and don't display in the nav bar. </p>\n\n<p>I've tried reformatting my react code in numerous ways, including/removing brackets, switching to plaintext, etc. </p>\n\n<p>code below:</p>\n\n<pre><code>navContent = {[\n\n                {\n                type : \"link\",\n                target: \"/\",\n                content: \"Home\"\n                },\n                {\n                type: \"dropdown\",\n                  title: \"CLICK ME\",\n                  content: [\n                    {type : \"item\",\n                    target: \"/\",\n                    content: \"home\"\n                  },\n                  {type : \"item\",\n                  target: \"/\",\n                  content: \"home\"\n                  }\n                  ]\n                },\n                {\n                type: \"form\",\n                formType: \"text\",\n                placeholder: \"search\",\n                className: \"\",\n                buttonType: \"submit\",\n                buttonContent: \"Submit\"\n                },\n\n              ]}\n\nexport default class Navigation extends React.Component {\n\n  constructor(props){\n    super(props);\n    this.state = {\n    }\n  }\n\n\n\n\n\ngetNavItem(navItem){\n  switch(navItem.type){\n    case 'link':\n      return &lt;Nav.Link&gt;&lt;Link to={navItem.target}&gt;{navItem.content}&lt;/Link&gt;&lt;/Nav.Link&gt;\n    case 'dropdown':\n      return &lt;NavDropdown id=\"basic-nav-dropdown\" title={navItem.title}&gt;\n                {navItem.content.map(item =&gt; {this.getNavItem(item)})}\n             &lt;/NavDropdown&gt;\n    case 'form':\n      return  &lt;Form inline&gt; &lt;FormControl type={navItem.formType} placeholder={navItem.placeholder} className={navItem.className}/&gt;&lt;Button type={navItem.buttonType}&gt;{navItem.buttonContent}&lt;/Button&gt;&lt;/Form&gt;\n    case 'item':\n      return &lt;NavDropdown.Item&gt;&lt;Link to={navItem.target}&gt;{navItem.content}&lt;/Link&gt;&lt;/NavDropdown.Item&gt;\n\n  }\n}\n\nrender(\n\n){\n  return(\n    &lt;Navbar bg=\"light\" expand=\"lg\"&gt;\n      &lt;Link to=\"/\"&gt;&lt;Navbar.Brand&gt;Home Placeholder&lt;/Navbar.Brand&gt;&lt;/Link&gt;\n      &lt;Navbar.Toggle aria-controls=\"basic-navbar-nav\" /&gt;\n      &lt;Navbar.Collapse id=\"basic-navbar-nav\"&gt;\n        &lt;Nav className=\"mr-auto\"&gt;\n          {this.props.navContent.map(navItem =&gt; this.getNavItem(navItem))}\n        &lt;/Nav&gt;\n      &lt;/Navbar.Collapse&gt;\n    &lt;/Navbar&gt;\n  )\n}\n}\n\n</code></pre>\n\n<p>Ideally when the case switch hits dropdown in the getNavItem function it should run the function again iterating down into the content key of the dropdown object and render both objects inside of it under the dropdown. Currently the dropdown content doesn't render.</p>\n"}, {"tags": ["javascript", "node.js", "sequelize.js", "node-modules", "sequelize-cli"], "comments": [{"owner": {"reputation": 5508, "user_id": 580487, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/6wn22.jpg?s=128&g=1", "display_name": "tommybananas", "link": "https://stackoverflow.com/users/580487/tommybananas"}, "edited": false, "score": 0, "creation_date": 1582085832, "post_id": 57503085, "comment_id": 106651285, "body": "can you mark answer if you find sufficient"}], "answers": [{"tags": [], "owner": {"reputation": 5508, "user_id": 580487, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/6wn22.jpg?s=128&g=1", "display_name": "tommybananas", "link": "https://stackoverflow.com/users/580487/tommybananas"}, "is_accepted": false, "score": 0, "last_activity_date": 1565846682, "creation_date": 1565846682, "answer_id": 57505184, "question_id": 57503085, "link": "https://stackoverflow.com/questions/57503085/how-to-connect-to-multiple-databases-through-sequelize/57505184#57505184", "title": "How to connect to multiple databases through Sequelize?", "body": "<p>Run that code twice with different db settings and keep two sets of the sequelize connection object and array of models.</p>\n\n<pre><code>const fs = require('fs');\nconst path = require('path');\nconst Sequelize = require('sequelize');\nconst configs = [require('../../config/database.js'), require('../../config/database2.js')];\n\nmodule.exports = configs.map(config =&gt; {\n\n  const db = {};\n  const sequelize = new Sequelize(config.producao);\n\n  // load stuff like normal\n\n  db.sequelize = sequelize;\n  db.Sequelize = Sequelize;\n\n  return db;\n\n});\n</code></pre>\n\n<p>Now you can access both:</p>\n\n<pre><code>const models = require('index');\n\nconst firstdb = models[0];\nconst seconddb = models[1];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 424, "user_id": 6089443, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6fXEaIQd7SA/AAAAAAAAAAI/AAAAAAAACZY/U2kKVXuJYeU/photo.jpg?sz=128", "display_name": "malik kurosaki", "link": "https://stackoverflow.com/users/6089443/malik-kurosaki"}, "is_accepted": false, "score": 0, "last_activity_date": 1609642645, "creation_date": 1609642645, "answer_id": 65546245, "question_id": 57503085, "link": "https://stackoverflow.com/questions/57503085/how-to-connect-to-multiple-databases-through-sequelize/65546245#65546245", "title": "How to connect to multiple databases through Sequelize?", "body": "<p>maybe this is not the right answer, but I use it and it works.</p>\n<p>first I use it for databases usually, the second for images</p>\n<p><strong>db.js</strong></p>\n<pre class=\"lang-js prettyprint-override\"><code>const {Sequelize} = require('sequelize')\nconst config = [\n    {\n        dialect: 'sqlite',\n        storage: './db.sqlite'\n    },\n    {\n        dialect: 'sqlite',\n        storage: './db_gambar.sqlite'\n    }\n]\n\nconst database = config.map( x =&gt; new Sequelize(x));\nmodule.exports = { database }\n\n</code></pre>\n<p><strong>./models/akun.js</strong></p>\n<pre class=\"lang-js prettyprint-override\"><code>const { DataTypes, Model } = require('sequelize');\nconst { database} = require('./../db');\nconst sequelize = database[0];\n\n\n// Tambahan is extend Model\nclass Akun extends Tambahan{}\nAkun.init({\n    name: {\n        type: DataTypes.STRING,\n        allowNull: false\n    },\n    email: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        unique: true\n    },\n    password: {\n        type: DataTypes.STRING,\n        allowNull: false,\n    }\n},{ sequelize, underscored: true})\n\n</code></pre>\n<p><em>./models/gambar.js</em></p>\n<pre class=\"lang-js prettyprint-override\"><code>const { DataTypes, Model } = require('sequelize');\nconst {  database } = require('./../db');\nconst sequelize = database[1];\n\n// Tambahan is extend Model\nclass Gambar extends Tambahan{}\n\nGambar.init({\n    name: {\n        type: DataTypes,\n        allowNull: false\n    },\n    user_id: {\n        type:DataTypes.INTEGER,\n        allowNull: false\n    },\n    data: {\n        type:DataTypes.BLOB,\n        allowNull: false\n    },\n    thumbnail: {\n        type: DataTypes.BLOB,\n        allowNull: false\n    }\n},{ sequelize , underscored: true})\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11929037, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wSIsYrPl194/AAAAAAAAAAI/AAAAAAAAJOc/W-uje4lp-n8/photo.jpg?sz=128", "display_name": "Caique Ribeiro de Oliveira", "link": "https://stackoverflow.com/users/11929037/caique-ribeiro-de-oliveira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 564, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1609642645, "creation_date": 1565823968, "question_id": 57503085, "link": "https://stackoverflow.com/questions/57503085/how-to-connect-to-multiple-databases-through-sequelize", "title": "How to connect to multiple databases through Sequelize?", "body": "<p>I need to connect to different databases depending on the Express route.</p>\n\n<p>For example:</p>\n\n<p>example.com/oneapp\nThis route must access a database called oneapp</p>\n\n<p>example.com/secondapp\nThis route must access a database called secondapp</p>\n\n<p>I have these settings in my Sequelize</p>\n\n<p>index.js:</p>\n\n<pre><code>const fs = require('fs');\nconst path = require('path');\nconst Sequelize = require('sequelize');\nconst config = require('../../config/database.js');\n\nconst db = {};\nconst sequelize = new Sequelize(config.producao);\n\nfs\n  .readdirSync(__dirname)\n  .filter(file =&gt; (file.indexOf('.') !== 0) &amp;&amp; (file !== path.basename(__filename)) &amp;&amp; (file.slice(-3) === '.js'))\n  .forEach((file) =&gt; {\n    const model = sequelize.import(path.join(__dirname, file));\n    db[model.name] = model;\n  });\n\n\n  console.log(db)\n\nObject.keys(db).forEach((modelName) =&gt; {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\n\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\n\nmodule.exports = db;\n</code></pre>\n\n<p>database.js</p>\n\n<pre><code>module.exports = {\n  \"producao\": {\n    username: 'sa',\n  password: 'mypass',\n  database: 'PRODUCAO',\n  host: 'SVRNAZ002',\n  dialect: 'mssql',\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "firebase", "firebase-realtime-database", "angularfire2"], "answers": [{"tags": [], "owner": {"reputation": 999, "user_id": 4638273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cI1TQ.jpg?s=128&g=1", "display_name": "igor_c", "link": "https://stackoverflow.com/users/4638273/igor-c"}, "is_accepted": true, "score": 0, "last_activity_date": 1565844492, "creation_date": 1565844492, "answer_id": 57504980, "question_id": 57503059, "link": "https://stackoverflow.com/questions/57503059/wait-end-of-two-subscribe-to-make-an-operation/57504980#57504980", "title": "Wait end of two subscribe to make an operation", "body": "<p>You can use the <code>combineLatest()</code> function.</p>\n\n<p>Example:</p>\n\n<pre><code>combineLatest(observable1$, observable2$)\n    .subscribe(([observable1, observable2]) =&gt; {\n        console.log(observable1, observable2);\n    });\n</code></pre>\n"}], "owner": {"reputation": 333, "user_id": 1377807, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/a5afd317c54b3df6c0246f68e5605fa6?s=128&d=identicon&r=PG", "display_name": "Yobogs", "link": "https://stackoverflow.com/users/1377807/yobogs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 57504980, "answer_count": 1, "score": 0, "last_activity_date": 1565844492, "creation_date": 1565823662, "last_edit_date": 1565828494, "question_id": 57503059, "link": "https://stackoverflow.com/questions/57503059/wait-end-of-two-subscribe-to-make-an-operation", "title": "Wait end of two subscribe to make an operation", "body": "<p>I have two subscribe like this :</p>\n\n<pre><code>this.birthdays = await this.birthdaySP.getBirthdays();\nthis.birthdays.subscribe(groups =&gt; {\n    const allBirthdayT = [];\n    groups.map(c =&gt; {\n      allBirthdayT.push({\n        key: c.payload.key, \n        ...c.payload.val()\n      })\n    })\n\n    console.log(allBirthdayT);\n});\n\nthis.birthdaysInGroups = await this.birthdaySP.getBirthdaysInGroups();\nthis.birthdaysInGroups.subscribe(groups =&gt; {\n    const allBirthdayB = [];\n    groups.map(c =&gt; {\n      c.birthdays.subscribe(d =&gt; {\n        d.map(e =&gt; {\n          allBirthdayB.push(e);\n        })\n      })\n    })\n\n    console.log(allBirthdayB);\n});\n</code></pre>\n\n<p>I would like to wait the end of this two subscribes to compare allBirthdayB and allBirthdayT arrays (i receive datas in two console.log).</p>\n\n<p><em>this.birthdaySP.getBirthdays()</em> and <em>this.birthdaySP.getBirthdaysInGroups()</em> are two observable that receive data from firebase.</p>\n\n<p>The first Observable is like that :</p>\n\n<pre><code>async getBirthdays() {\n   const user = await this.authSP.getUserInfo();\n   return this.angularFire.list('birthdays', ref =&gt; ref.orderByChild('creator_user_id').equalTo(user.uid)).snapshotChanges();\n}\n</code></pre>\n\n<p>I try with forkJoin but i don't know how i can use it to solve this problem</p>\n\n<p>Any tips?</p>\n"}, {"tags": ["javascript", "arrays", "angular", "sorting"], "answers": [{"comments": [{"owner": {"reputation": 13442, "user_id": 3982562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a3c7aae1d762372cda697833c602ec8?s=128&d=identicon&r=PG", "display_name": "3limin4t0r", "link": "https://stackoverflow.com/users/3982562/3limin4t0r"}, "edited": false, "score": 0, "creation_date": 1565826404, "post_id": 57503130, "comment_id": 101475382, "body": "While this doesn&#39;t throw an error due to the short-circuit nature. Keep in mind that <code>const aLikes = a.likes &amp;&amp; a.likes.length;</code> sets <code>aLikes</code> to <code>undefined</code> if <code>a</code> doesn&#39;t posses the <code>likes</code> attribute. The same for <code>b</code>. Resulting in a return value of <code>NaN</code> for anything compared to a post without likes."}, {"owner": {"reputation": 157, "user_id": 9191657, "user_type": "registered", "profile_image": "https://graph.facebook.com/1571610382934086/picture?type=large", "display_name": "AbdalRahman Farag", "link": "https://stackoverflow.com/users/9191657/abdalrahman-farag"}, "edited": false, "score": 0, "creation_date": 1565898664, "post_id": 57503130, "comment_id": 101498808, "body": "thanks buddy for your input...I am afraid this didn&#39;t work out in my repo"}], "tags": [], "owner": {"reputation": 11449, "user_id": 6525724, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CZEkk.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/6525724/nick"}, "is_accepted": false, "score": 0, "last_activity_date": 1565826695, "last_edit_date": 1565826695, "creation_date": 1565824416, "answer_id": 57503130, "question_id": 57503054, "link": "https://stackoverflow.com/questions/57503054/comparing-value-of-two-array-while-property-value-is-undefined/57503130#57503130", "title": "Comparing value of two array, while property value is undefined", "body": "<p>Yes, you just have to be explicit within your sort function as to how to handle those scenarios. Here's a simplified example that uses a short-circult expression to test whether <code>a.likes</code> and <code>b.likes</code> exist.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const posts = [{ likes: [1] }, { likes: [1, 2, 3]}, {}];\r\n\r\nposts.sort((a, b) =&gt; {\r\n  const aLikes = a.likes ? a.likes.length : 0;\r\n  const bLikes = b.likes ? b.likes.length : 0;\r\n  return bLikes - aLikes;\r\n});\r\n\r\nconsole.log(posts);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 157, "user_id": 9191657, "user_type": "registered", "profile_image": "https://graph.facebook.com/1571610382934086/picture?type=large", "display_name": "AbdalRahman Farag", "link": "https://stackoverflow.com/users/9191657/abdalrahman-farag"}, "edited": false, "score": 0, "creation_date": 1565898654, "post_id": 57503174, "comment_id": 101498800, "body": "thanks buddy for your input...I am afraid this didn&#39;t work out in my repo"}], "tags": [], "owner": {"reputation": 1949, "user_id": 6651984, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BM3Ui.jpg?s=128&g=1", "display_name": "Abel Valdez", "link": "https://stackoverflow.com/users/6651984/abel-valdez"}, "is_accepted": false, "score": 0, "last_activity_date": 1565824900, "creation_date": 1565824900, "answer_id": 57503174, "question_id": 57503054, "link": "https://stackoverflow.com/questions/57503054/comparing-value-of-two-array-while-property-value-is-undefined/57503174#57503174", "title": "Comparing value of two array, while property value is undefined", "body": "<p>I think just validating the object is not undefined and returning a min/max value when the condition be false.</p>\n\n<pre><code>posts.sort((a,b) =&gt; {\n   if(b.likes &amp;&amp; a.likes)\n     return (b.likes.length ) -(a.likes.length)\n   else\n     return -1;//min value or max value \n});\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>posts.sort((a,b) =&gt; {       \n     return (b.likes &amp;&amp; a.likes)?(b.likes.length ) -(a.likes.length):-1\n   }\n);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13442, "user_id": 3982562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a3c7aae1d762372cda697833c602ec8?s=128&d=identicon&r=PG", "display_name": "3limin4t0r", "link": "https://stackoverflow.com/users/3982562/3limin4t0r"}, "is_accepted": true, "score": 0, "last_activity_date": 1565825549, "creation_date": 1565825549, "answer_id": 57503251, "question_id": 57503054, "link": "https://stackoverflow.com/questions/57503054/comparing-value-of-two-array-while-property-value-is-undefined/57503251#57503251", "title": "Comparing value of two array, while property value is undefined", "body": "<p>You where almost there. You can simply default to an empty array if the attribute is not present (falsy to be exact).</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const posts = [\r\n  {id: \"1\", content: \"test\", likes: [{user_id: \"2\", user_name: \"test\"}]},\r\n  {id: \"2\", content: \"test\", likes: [{user_id: \"2\", user_name: \"test\"}, \r\n                                     {user_id: \"3\", user_name: \"tea\" }]},\r\n  {id: \"3\", content: \"test\"}\r\n];\r\n\r\nconsole.log(\r\n  posts.sort((a, b) =&gt; (b.likes || []).length - (a.likes || []).length)\r\n);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 157, "user_id": 9191657, "user_type": "registered", "profile_image": "https://graph.facebook.com/1571610382934086/picture?type=large", "display_name": "AbdalRahman Farag", "link": "https://stackoverflow.com/users/9191657/abdalrahman-farag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 57503251, "answer_count": 3, "score": 0, "last_activity_date": 1565826695, "creation_date": 1565823640, "question_id": 57503054, "link": "https://stackoverflow.com/questions/57503054/comparing-value-of-two-array-while-property-value-is-undefined", "title": "Comparing value of two array, while property value is undefined", "body": "<p>I am trying to sort an array of arrays. The sort is working function, unless when the property value is undefined.</p>\n\n<p>For example:</p>\n\n<p>posts array =</p>\n\n<p>{id: \"1\", content: \"test\", \"likes\":[{\"user_id\":\"2\",\"user_name\":\"test\"}] },</p>\n\n<p>{id: \"2\", content: \"test\", \"likes\":[{\"user_id\":\"2\",\"user_name\":\"test\"}, \n{\"user_id:\"3\", \"user_name\":\"tea\"}] },</p>\n\n<p>{id: \"3\", content: \"test\"}</p>\n\n<p>When I try to sort the array using below function:</p>\n\n<p>posts.sort((a,b) => {return (b.likes.length ) -(a.likes.length) })</p>\n\n<p>It is working fine, if there is no array with (likes.lenghth) as undefined.</p>\n\n<p>However, when the third array is included, I am getting the error (Cannot read property 'length' of undefined).</p>\n\n<p>Is there is a way to still sort the array in this way, while the parameter is still missing is some of the arrays?</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1565823776, "post_id": 57503053, "comment_id": 101474926, "body": "Ah, like <code>eval(&quot;x =&gt; &quot; + &quot;sin(x)&quot;)</code>?"}, {"owner": {"reputation": 120, "user_id": 10891757, "user_type": "registered", "profile_image": "https://graph.facebook.com/1049019491961688/picture?type=large", "display_name": "Mohammed Samir", "link": "https://stackoverflow.com/users/10891757/mohammed-samir"}, "reply_to_user": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1565823967, "post_id": 57503053, "comment_id": 101474962, "body": "Sorry, I didn&#39;t expressed it correctly,"}, {"owner": {"reputation": 120, "user_id": 10891757, "user_type": "registered", "profile_image": "https://graph.facebook.com/1049019491961688/picture?type=large", "display_name": "Mohammed Samir", "link": "https://stackoverflow.com/users/10891757/mohammed-samir"}, "reply_to_user": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1565823996, "post_id": 57503053, "comment_id": 101474968, "body": "See the edited question."}, {"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1565824013, "post_id": 57503053, "comment_id": 101474970, "body": "The edited question looks the same. <code>let expr = eval(&quot;x =&gt; &quot; + &quot;sin(x)&quot;); console.log(expr(PI));</code>"}, {"owner": {"reputation": 120, "user_id": 10891757, "user_type": "registered", "profile_image": "https://graph.facebook.com/1049019491961688/picture?type=large", "display_name": "Mohammed Samir", "link": "https://stackoverflow.com/users/10891757/mohammed-samir"}, "reply_to_user": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1565824413, "post_id": 57503053, "comment_id": 101475035, "body": "If I use eval, the argument should be  string, I can use <code>eval(&#39;sin(x)&#39;.replace(&#39;x&#39;,&lt;num&gt;) ;</code>, but it would be slow, if I use <code>let expr= x =&gt; sin(x) ;</code> the performance will speed up."}, {"owner": {"reputation": 120, "user_id": 10891757, "user_type": "registered", "profile_image": "https://graph.facebook.com/1049019491961688/picture?type=large", "display_name": "Mohammed Samir", "link": "https://stackoverflow.com/users/10891757/mohammed-samir"}, "reply_to_user": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1565824550, "post_id": 57503053, "comment_id": 101475062, "body": "I need a method to convert with the string &quot;x=&gt;sin(x) &quot; into a function <code>x=&gt;sin(x) </code>"}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 1, "creation_date": 1565824580, "post_id": 57503053, "comment_id": 101475067, "body": "Except never use <code>eval</code>, it&#39;s an insanely insecure function call. Instead, don&#39;t roll your own and simply pick one of several javascript &quot;string to mathematical function&quot; libraries already out there? E.g <a href=\"https://mathjs.org/docs/getting_started.html\" rel=\"nofollow noreferrer\">mathjs.org/docs/getting_started.html</a> etc or if you really need symbolic expressions, <a href=\"https://www.npmjs.com/package/expr-eval\" rel=\"nofollow noreferrer\">npmjs.com/package/expr-eval</a> etc"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1565824945, "post_id": 57503053, "comment_id": 101475129, "body": "Why do you think <code>eval()</code> will be slow? It does exactly what the JavaScript compiler does when it&#39;s loading your script."}, {"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1565825074, "post_id": 57503053, "comment_id": 101475150, "body": "That\u2019s why you don\u2019t use <code>eval(&#39;sin(x)&#39;.replace(&#39;x&#39;,&lt;num&gt;)</code>. You use <code>eval(&#39;x =&gt; &#39; + &#39;sin(x)&#39;)</code>, exactly like you asked for."}, {"owner": {"reputation": 120, "user_id": 10891757, "user_type": "registered", "profile_image": "https://graph.facebook.com/1049019491961688/picture?type=large", "display_name": "Mohammed Samir", "link": "https://stackoverflow.com/users/10891757/mohammed-samir"}, "edited": false, "score": 0, "creation_date": 1565826500, "post_id": 57503053, "comment_id": 101475398, "body": "@Barmer <code>eval</code>  is slow when using it in <code>for(let i = 0; i &lt; width; ++i)</code>, for all the function stored, if there is many functions to draw, it would be a nightmare,,, in the contrary, on making the variable <code>expr</code> a js funcrion that gets the value of x then returns the value of y, it is more fast,,,  I have tried both ways."}, {"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1565827067, "post_id": 57503053, "comment_id": 101475504, "body": "<code>eval(&#39;x =&gt; &#39; + &#39;sin(x)&#39;)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 120, "user_id": 10891757, "user_type": "registered", "profile_image": "https://graph.facebook.com/1049019491961688/picture?type=large", "display_name": "Mohammed Samir", "link": "https://stackoverflow.com/users/10891757/mohammed-samir"}, "edited": false, "score": 0, "creation_date": 1565828376, "post_id": 57503430, "comment_id": 101475700, "body": "Unfortunately, the <code>input.value</code> will be &quot;sin(x)&quot;"}, {"owner": {"reputation": 224, "user_id": 4839724, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Htek5axP53k/AAAAAAAAAAI/AAAAAAAARfs/kY9oFyG6pNM/photo.jpg?sz=128", "display_name": "Steve", "link": "https://stackoverflow.com/users/4839724/steve"}, "reply_to_user": {"reputation": 120, "user_id": 10891757, "user_type": "registered", "profile_image": "https://graph.facebook.com/1049019491961688/picture?type=large", "display_name": "Mohammed Samir", "link": "https://stackoverflow.com/users/10891757/mohammed-samir"}, "edited": false, "score": 0, "creation_date": 1565830067, "post_id": 57503430, "comment_id": 101475939, "body": "What is the value of x?"}], "tags": [], "owner": {"reputation": 224, "user_id": 4839724, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Htek5axP53k/AAAAAAAAAAI/AAAAAAAARfs/kY9oFyG6pNM/photo.jpg?sz=128", "display_name": "Steve", "link": "https://stackoverflow.com/users/4839724/steve"}, "is_accepted": false, "score": 0, "last_activity_date": 1565827501, "creation_date": 1565827501, "answer_id": 57503430, "question_id": 57503053, "link": "https://stackoverflow.com/questions/57503053/parsing-a-string-into-js-language-as-well-as-parsing-string-into-json-or-xml/57503430#57503430", "title": "Parsing a string into JS language as well as parsing string into json or xml", "body": "<p>would something like this be what you are looking for?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let expr = x =&gt; Math.sin(x);\r\n\r\nfunction btnSubmit(){\r\n  let input = parseFloat(document.querySelector('#text').value);\r\n  alert( expr(input) );\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>  Enter a number: &lt;input id=\"text\" type=\"number\" step=\"any\"&gt;\r\n  &lt;input type=\"submit\" onclick=\"btnSubmit()\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 120, "user_id": 10891757, "user_type": "registered", "profile_image": "https://graph.facebook.com/1049019491961688/picture?type=large", "display_name": "Mohammed Samir", "link": "https://stackoverflow.com/users/10891757/mohammed-samir"}, "is_accepted": true, "score": 0, "last_activity_date": 1586359653, "last_edit_date": 1586359653, "creation_date": 1565983722, "answer_id": 57530127, "question_id": 57503053, "link": "https://stackoverflow.com/questions/57503053/parsing-a-string-into-js-language-as-well-as-parsing-string-into-json-or-xml/57530127#57530127", "title": "Parsing a string into JS language as well as parsing string into json or xml", "body": "<p>Hopefully, I have solved this problem and I want to share knowledge with you.\nthis is the code to get a variable as a JS function:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var fucnsExprScript1 = document.createElement('script');\r\nfucnsExprScript1.appendChild(document.createTextNode(`let funcExpr = [(x =&gt; NaN)]`));\r\ndocument.body.appendChild(fucnsExprScript1);\r\nfunction generateJSfunction(text){\r\n  let func = `funcExpr.push(x =&gt; ${text});`;\r\n  let fucnsExprScript2 = document.createElement('script');\r\n  fucnsExprScript2.textContent = func;  \r\n  document.body.appendChild(fucnsExprScript2);\r\n  fucnsExprScript2.remove();\r\n  return funcExpr[funcExpr.length - 1];\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>By this you can convert any string you want into any supported programming lang you want while the web is live.</p>\n\n<p>You can also put a tea-area element and let users to type js code to handle by clicking a button.</p>\n\n<p>This is after reflecting deep.</p>\n\n<hr>\n\n<h2>Edition</h2>\n\n<p>the hereabove code is quite stupid, when I typed it I had not enough knowledge about the native function \"eval\", so the answer is:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function getJSfuntion(str){\r\n  return eval(\"x =&gt; \" + str);\r\n  // or \r\n  // return Function(\"x\", `return {str};`);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 120, "user_id": 10891757, "user_type": "registered", "profile_image": "https://graph.facebook.com/1049019491961688/picture?type=large", "display_name": "Mohammed Samir", "link": "https://stackoverflow.com/users/10891757/mohammed-samir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 57530127, "answer_count": 2, "score": -2, "last_activity_date": 1610827259, "creation_date": 1565823638, "last_edit_date": 1610827259, "question_id": 57503053, "link": "https://stackoverflow.com/questions/57503053/parsing-a-string-into-js-language-as-well-as-parsing-string-into-json-or-xml", "title": "Parsing a string into JS language as well as parsing string into json or xml", "body": "<p><em><strong>Update on 16 Jan 2021</strong></em></p>\n<p>I have looked at this question later, finding that it is a silly question, as we can evaluate js code using <code>eval</code>, or by constructing a function</p>\n<pre class=\"lang-js prettyprint-override\"><code>new Function(...paramsAsString, codeAsString)\n</code></pre>\n<p>BTW, here is a bud-version of the <a href=\"https://plotto.netlify.com\" rel=\"nofollow noreferrer\">app</a> I was working on.</p>\n<hr />\n<p>I want to create a simple graphing calculator, the user will put the\nmathematical expression into an input element, js will reach it using input.value :</p>\n<pre><code>let input = document.querySelector('#text');\n</code></pre>\n<p>while drawing the function I can use <code>eval(...);</code> but it is so slow,\nso I will be so grateful if you have any way to store some string looks like this\n(&quot;x =&gt; &quot; + &quot;sin(x)&quot;) into a variable that is a function,</p>\n<pre><code>let expr = parseJS(&quot;x =&gt; &quot; + &quot;sin(x)&quot;);\nconsole.log(expr(PI));\n// 1\n</code></pre>\n"}, {"tags": ["javascript", "tetris"], "answers": [{"tags": [], "owner": {"reputation": 159, "user_id": 11575990, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bk0dwd7DQmE/AAAAAAAAAAI/AAAAAAAAACE/XdZqoWFS_Uw/photo.jpg?sz=128", "display_name": "Julk", "link": "https://stackoverflow.com/users/11575990/julk"}, "is_accepted": false, "score": 0, "last_activity_date": 1565880152, "creation_date": 1565880152, "answer_id": 57511421, "question_id": 57503051, "link": "https://stackoverflow.com/questions/57503051/game-bug-tetris-pieces-being-disappearing-when-colliding/57511421#57511421", "title": "(Game bug) Tetris pieces being disappearing when colliding", "body": "<p>Never mind, I found the error. I forgot to give 7 colors to the pieces, so it was looping on colors it shouldn't have been. </p>\n"}], "owner": {"reputation": 159, "user_id": 11575990, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bk0dwd7DQmE/AAAAAAAAAAI/AAAAAAAAACE/XdZqoWFS_Uw/photo.jpg?sz=128", "display_name": "Julk", "link": "https://stackoverflow.com/users/11575990/julk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1565880152, "creation_date": 1565823630, "question_id": 57503051, "link": "https://stackoverflow.com/questions/57503051/game-bug-tetris-pieces-being-disappearing-when-colliding", "title": "(Game bug) Tetris pieces being disappearing when colliding", "body": "<p>I'm making a Tetris game with javascript, but there's a bug I haven't been able to fix yet. It only happens when pieces Z, S, and T collide with an object while going down. I thought the problem was with the 3rd row of 0s, but the other pieces draw fine when I add it to other pieces. I also can't remove the rows because I need them to rotate the pieces.</p>\n\n<p>If anyone can find the error I'd really appreciate it! Thank you. </p>\n\n<p>Here's the code on repl.it:\n<a href=\"https://repl.it/@julkothegu1/Oke-Oke\" rel=\"nofollow noreferrer\">https://repl.it/@julkothegu1/Oke-Oke</a></p>\n\n<p>Raw:</p>\n\n<pre><code>const canvas = document.getElementById('tetris');\nconst context = canvas.getContext('2d');\n\ncontext.scale(20, 20);\n\nfunction arena_sweep(){\n  let row_count = 1\n  outer: for (let y = arena.length -1; y &gt; 0; y--){\n    for (let x = 0; x &lt; arena[y].length; x++){\n      if (arena[y][x] == 0){\n        continue outer\n      }\n    }\n\n    const row = arena.splice(y, 1)[0].fill(0);\n    arena.unshift(row);\n    ++y;\n\n    player.score += row_count * 10\n    row_count *= 2\n  }\n}\n\nfunction draw(){\n  context.fillStyle = '#000';\n  context.fillRect(0, 0, canvas.width, canvas.height);\n  draw_matrix(arena, {x:0, y:0})\n  draw_matrix(player.matrix, player.pos)\n}\n\nfunction create_matrix(w, h){\n  const matrix = []\n  while (h--){\n    matrix.push(new Array(w).fill(0))\n  }\n  return matrix\n}\n\nfunction player_reset(){\n  const pieces = 'ILJOZST'\n  player.matrix = create_piece(pieces[pieces.length * Math.random() | 0])\n  player.pos.y = 0\n  player.pos,x = (arena[0].length / 2 | 0) - (player.matrix[0].length / 2 | 0)\n  if (collide(arena, player)){\n    arena.forEach(row =&gt; row.fill(0))\n    player.score = 0\n    update_score()\n  }\n}\n\nfunction create_piece(type)\n{\n    if (type === 'I') {\n        return [\n            [0, 1, 0, 0],\n            [0, 1, 0, 0],\n            [0, 1, 0, 0],\n            [0, 1, 0, 0],\n        ];\n    } else if (type === 'L') {\n        return [\n            [0, 2, 0],\n            [0, 2, 0],\n            [0, 2, 2],\n        ];\n    } else if (type === 'J') {\n        return [\n            [0, 3, 0],\n            [0, 3, 0],\n            [3, 3, 0],\n        ];\n    } else if (type === 'O') {\n        return [\n            [4, 4],\n            [4, 4],\n        ];\n    } else if (type === 'Z') {\n        return [\n            [5, 5, 0],\n            [0, 5, 5],\n            [0, 0, 0],\n        ];\n    } else if (type === 'S') {\n        return [\n            [0, 6, 6],\n            [6, 6, 0],\n            [0, 0, 0],\n        ];\n    } else if (type === 'T') {\n        return [\n            [0, 7, 0],\n            [7, 7, 7],\n            [0, 0, 0],\n        ];\n    }\n}\n\nfunction draw_matrix(matrix, offset){\n  matrix.forEach((row, y) =&gt; {\n    row.forEach((value, x) =&gt; {\n      if (value !== 0){\n        context.fillStyle = colors[value]\n        context.fillRect(x + offset.x, y + offset.y, 1, 1)\n      }\n    });\n  });\n}\n\nfunction merge(arena, player){\n  player.matrix.forEach((row, y) =&gt; {\n    row.forEach((value, x) =&gt; {\n      if (value !== 0){\n        arena[y + player.pos.y][x + player.pos.x] = value;\n      }\n    });\n  });\n}\n\nfunction collide(arena, player){\n  const m = player.matrix;\n  const o = player.pos;\n\n  for (let y = 0; y &lt; m.length; y++){\n    for (let x = 0; x &lt; m[y].length; x++){\n      if (m[y][x] != 0 &amp;&amp; (arena[y + o.y] &amp;&amp; arena[y + o.y][x + o.x]) != 0){\n        return true\n      }\n    }\n  }\n  return false\n}\n\nlet drop_counter = 0\nlet last_time = 0\nlet drop_interval = 400\n\nfunction update(time = 0){\n  const delta_time = time - last_time\n  drop_counter += delta_time\n\n  if (drop_counter &gt; drop_interval){\n    player_drop()\n  }\n\n  last_time = time\n  draw()\n  requestAnimationFrame(update)\n}\n\nfunction player_drop(){\n  player.pos.y++\n  if (collide(arena, player)){\n    player.pos.y--\n    merge(arena, player)\n    player_reset()\n    arena_sweep()\n    update_score()\n  }\n  drop_counter = 0\n}\n\nfunction player_move(dir){\n  player.pos.x += dir\n  if (collide(arena, player)){\n    player.pos.x -= dir\n  }\n}\n\nfunction player_rotate(dir){\n  const pos = player.pos.x\n  let offset = 1\n  rotate(player.matrix, dir)\n  while (collide(arena, player)){\n    player.pos.x += offset\n    offset = -(offset + (offset &gt; 0 ? 1 : -1))\n    if (offset &gt; player.matrix[0].length){\n      rotate(player.matrix, -dir)\n      player.pos.x = pos\n      return\n    }\n  }\n}\n\nfunction update_score(){\n  document.getElementById('score').innerText = player.score\n}\n\nfunction rotate(matrix, dir){\n  for (let y = 0; y &lt; matrix.length; y++){\n    for (let x = 0; x &lt; y; x++){\n      [\n        matrix[x][y],\n        matrix[y][x],\n      ] = [\n        matrix[y][x],\n        matrix[x][y],\n      ];\n    }\n  }\n  if (dir &gt; 0){\n    matrix.forEach(row =&gt; row.reverse());\n  } else {\n    matrix.reverse();\n  }\n}\n\nconst colors = [ \n  null,\n  'green',\n  'blue',\n  'violet',\n  'red',\n  'purple',\n];\n\nconst player = {\n  pos: {x: 0, y: 0},\n  matrix: null,\n  score: 0,\n}\n\nconst arena = create_matrix(12, 20)\n\ndocument.addEventListener('keydown', event =&gt; {\n  if (event.keyCode === 37){\n    player_move(-1);\n  }else if (event.keyCode == 39){\n    player_move(1);\n  }else if (event.keyCode == 40){\n    player_drop();\n  }else if (event.keyCode == 81){\n    player_rotate(-1)\n  }else if (event.keyCode == 87){\n    player_rotate(1)\n  }\n});\n\nupdate_score()\nplayer_reset()\nupdate()\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 2, "creation_date": 1565823729, "post_id": 57503047, "comment_id": 101474920, "body": "<code>.val()</code> returns strings ... <code>+</code> concatenates strings ... you want those strings to be numbers ... use unary + or parseInt or ParseFloat or Number"}, {"owner": {"reputation": 706, "user_id": 5536665, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tw6lx.jpg?s=128&g=1", "display_name": "Rens Tillmann", "link": "https://stackoverflow.com/users/5536665/rens-tillmann"}, "edited": false, "score": 1, "creation_date": 1565824324, "post_id": 57503047, "comment_id": 101475016, "body": "In order to understand why this is happening, you need to understand variable types. In short you are grabbing the value from a text field, which by default will be of type <code>string</code>. And you are trying to sum both of these, but that&#39;s not going to work, because they have to either be of type <code>int</code> or <code>number</code> or any other type that can be used for calculations. That&#39;s why you first need to convert <code>string</code> to <code>int</code> with for instance <code>parseInt()</code> function: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/parseInt\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a> . Also make sure to understand concept of <code>radix</code>."}], "answers": [{"comments": [{"owner": {"reputation": 7449, "user_id": 1193808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2c02a38397eaca6fa70fe1162f18f4b?s=128&d=identicon&r=PG", "display_name": "Subir Kumar Sao", "link": "https://stackoverflow.com/users/1193808/subir-kumar-sao"}, "edited": false, "score": 0, "creation_date": 1565824160, "post_id": 57503073, "comment_id": 101474993, "body": "looks fine to me."}, {"owner": {"reputation": 39, "user_id": 11547301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/490af0d51ddac911b8ca75066daa0437?s=128&d=identicon&r=PG&f=1", "display_name": "Bluevels", "link": "https://stackoverflow.com/users/11547301/bluevels"}, "edited": false, "score": 0, "creation_date": 1565824403, "post_id": 57503073, "comment_id": 101475034, "body": "It works fine. Thanks. my question here again is what is the figure 10 doing?"}, {"owner": {"reputation": 2715, "user_id": 2797765, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ea2a36fc95e198049bc9a3697de7c19a?s=128&d=identicon&r=PG&f=1", "display_name": "ATHER", "link": "https://stackoverflow.com/users/2797765/ather"}, "edited": false, "score": 0, "creation_date": 1565877253, "post_id": 57503073, "comment_id": 101489532, "body": "Thats an optional value, represents a number (from 2 to 36) that represents the numeral system to be used ( Decimal, Hex, Oct etc ).  <a href=\"https://www.w3schools.com/jsref/jsref_parseint.asp\" rel=\"nofollow noreferrer\">w3schools.com/jsref/jsref_parseint.asp</a>"}], "tags": [], "owner": {"reputation": 2715, "user_id": 2797765, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ea2a36fc95e198049bc9a3697de7c19a?s=128&d=identicon&r=PG&f=1", "display_name": "ATHER", "link": "https://stackoverflow.com/users/2797765/ather"}, "is_accepted": true, "score": -1, "last_activity_date": 1565823872, "creation_date": 1565823872, "answer_id": 57503073, "question_id": 57503047, "link": "https://stackoverflow.com/questions/57503047/how-to-use-in-javascript/57503073#57503073", "title": "How to use &quot;+&quot; in javascript", "body": "<p>use parseInt()</p>\n\n<p>Change the line to this</p>\n\n<pre><code>var totalweeksperyear = $(\"#totalweeksperyear\").val(parseInt(weeksinayear,10) + parseInt(leaveweeks,10));\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 11547301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/490af0d51ddac911b8ca75066daa0437?s=128&d=identicon&r=PG&f=1", "display_name": "Bluevels", "link": "https://stackoverflow.com/users/11547301/bluevels"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "closed_date": 1565824508, "accepted_answer_id": 57503073, "answer_count": 1, "score": 0, "last_activity_date": 1565823872, "creation_date": 1565823595, "last_edit_date": 1565823834, "question_id": 57503047, "link": "https://stackoverflow.com/questions/57503047/how-to-use-in-javascript", "closed_reason": "Duplicate", "title": "How to use &quot;+&quot; in javascript", "body": "<p>when i input 1 in #weeksinayear and 2 in #leaveweeks i get and answer of 12 which is wrong. Any help? Same applies when i enter maybe 30 at #weeksinayear and 10 at #leaveweeks i will get an answer of 3010. </p>\n\n<pre><code>&lt;input type='text' id='weeksinayear'/&gt;\n&lt;input type='text' id='leaveweeks'/&gt;\n&lt;input type='text' id='totalweeksperyear'/&gt;\n\n$(document).ready(function(){\n\n  $(\"#weeksinayear\").keyup(function(){\n\n        var weeksinayear = $(\"#weeksinayear\").val();\n        var leaveweeks = $(\"#leaveweeks\").val();\n\n      if(weeksinayear == \"\"){\n                  var totalweeksperyear = $(\"#totalweeksperyear\").val(\"\");\n\n      }else if(leaveweeks == \"\"){\n\n                  var totalweeksperyear = $(\"#totalweeksperyear\").val(\"\");\n\n      }else{\n\n          var cal =  (weeksinayear) + (leaveweeks);\n\n          var totalweeksperyear = $(\"#totalweeksperyear\").val(cal);\n\n      }\n\n\n});\n});\n</code></pre>\n"}, {"tags": ["javascript", "canvas"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user11777421"}, "edited": false, "score": 0, "creation_date": 1565825587, "post_id": 57503206, "comment_id": 101475246, "body": "Oh yeah, I forgot about that! Thanks!"}, {"owner": {"reputation": 579, "user_id": 3094783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13974587bd73a2e45f9b8c4040fa2639?s=128&d=identicon&r=PG", "display_name": "Synthetx", "link": "https://stackoverflow.com/users/3094783/synthetx"}, "reply_to_user": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 1, "creation_date": 1565903369, "post_id": 57503206, "comment_id": 101500424, "body": "Yes, @Kaiido you are indeed correct. My bad. Answer updated."}], "tags": [], "owner": {"reputation": 579, "user_id": 3094783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13974587bd73a2e45f9b8c4040fa2639?s=128&d=identicon&r=PG", "display_name": "Synthetx", "link": "https://stackoverflow.com/users/3094783/synthetx"}, "is_accepted": true, "score": 1, "last_activity_date": 1565903233, "last_edit_date": 1565903233, "creation_date": 1565825169, "answer_id": 57503206, "question_id": 57503041, "link": "https://stackoverflow.com/questions/57503041/filling-in-two-colors-while-using-the-rect-method/57503206#57503206", "title": "Filling in two colors while using the rect() method", "body": "<p>Whenever you add a shape to the canvas it becomes part of the current path. The current path remains open until you tell the canvas to start a new one with beginPath(). This means that when you add your second rect() it is combined with the first and filled with the same colour.</p>\n\n<p>The simplest fix would be to use the fillRect() function instead of rect which begins, closes and fills a path in one call.</p>\n\n<pre><code>var redPaddle = function(color) {\n  ctx.fillStyle = color;\n  ctx.fillRect(cH / 12, redPaddleY - paddleLength / 2, paddleWidth, paddleLength);\n};\n</code></pre>\n\n<p>If you still want to use rect() you should tell the canvas to begin a new path for each paddle. </p>\n\n<pre><code>var redPaddle = function(color) {\n  ctx.fillStyle = color;\n  ctx.beginPath();\n  ctx.rect(cH / 12, redPaddleY - paddleLength / 2, paddleWidth, paddleLength);\n  ctx.fill();\n};\n</code></pre>\n\n<p>I would also suggest moving the clearRect() outside of the drawing functions too. Clear once per frame and draw both paddles.</p>\n\n<pre><code>...    \nctx.clearRect(0, 0, cW, cH);\nredPaddle();\nbluePaddle();\n...\n</code></pre>\n\n<p>You should also investigate <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame\" rel=\"nofollow noreferrer\">requestAnimationFrame()</a> to do your animation loop as it provides many performance improvements over intervals.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11777421"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 57503206, "answer_count": 1, "score": 0, "last_activity_date": 1565903233, "creation_date": 1565823523, "question_id": 57503041, "link": "https://stackoverflow.com/questions/57503041/filling-in-two-colors-while-using-the-rect-method", "title": "Filling in two colors while using the rect() method", "body": "<p>I was trying to make two different shapes that are different colors but it isn't working. Both of the shapes are the same colors. Please help!(Please note that I am not the best coder in the world)</p>\n\n<p>I've looked for other examples on this website, but all of them use the lineTo() method and I would like to use the rect() method just to make things easier. </p>\n\n<pre><code>//make canvas and set it up\nvar canvas = document.createElement('canvas');\ndocument.body.appendChild(canvas);\nvar ctx = canvas.getContext('2d');\n\ncanvas.height = window.innerHeight;\ncanvas.width = window.innerWidth;\ncanvas.style.position = 'absolute';\ncanvas.style.left = '0px';\ncanvas.style.top = '0px';\ncanvas.style.backgroundColor = '#D0C6C6';\nvar cH = canvas.height;\nvar cW = canvas.width;\n\n//draw paddles\n\n//variables\nvar paddleLength = 120;\nvar redPaddleY = window.innerHeight / 2;\nvar bluePaddleY = window.innerHeight / 2;\nvar paddleWidth = 20;\n//drawing starts\nfunction drawPaddles() {\n    //RED PADDLE\n    var redPaddle = function(color) {\n    ctx.fillStyle = color;\n    ctx.clearRect(0, 0, cW, cH);\n    ctx.rect(cH / 12, redPaddleY - paddleLength / 2, paddleWidth, paddleLength);\n    ctx.fill();\n    };\n    //BLUE PADDLE\n    var bluePaddle = function(color) {\n    ctx.fillStyle = color;\n    ctx.clearRect(0, 0, cW, cH);\n    ctx.rect(cH / 12 * 14, bluePaddleY - paddleLength / 2, paddleWidth, paddleLength);\n    ctx.fill();\n    };\n    redPaddle('red');\n    bluePaddle('blue');\n};\nvar interval = setInterval(drawPaddles, 25);\n</code></pre>\n"}, {"tags": ["javascript", "python", "jquery", "flask", "jinja2"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1565823432, "post_id": 57503008, "comment_id": 101474865, "body": "Are there any errors in the console? Do you see the AJAX request being sent in the Network tab?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1565823513, "post_id": 57503008, "comment_id": 101474879, "body": "I can&#39;t think of any reason why <code>console.log()</code> would log a different URL from the one that <code>jQuery.get</code> uses. I suspect there are some extra whitespace characters that you didn&#39;t notice in the log."}, {"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1565823716, "post_id": 57503008, "comment_id": 101474917, "body": "If we can&#39;t compare them, we can only guess they are different."}, {"owner": {"reputation": 325, "user_id": 4403891, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c189bd08eff508fa0010e81a7f47cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "musca999", "link": "https://stackoverflow.com/users/4403891/musca999"}, "edited": false, "score": 0, "creation_date": 1565823978, "post_id": 57503008, "comment_id": 101474965, "body": "I wrapped the console.log output in brackets and don&#39;t see any spaces:      [/static/1565823591.563554/healthCheck.txt]  That is output from the browser console. And that is what I hardcode in the url portion of the $.get() and it works."}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 1, "creation_date": 1565824891, "post_id": 57503008, "comment_id": 101475121, "body": "But do you actually <i>serve</i> the js file this code is in through jinja&#39;s renderer with the appropriate context variable <code>fName</code> set? Because if you don&#39;t, that template variable isn&#39;t a template variable: it&#39;s just the literal string <code>{{ fName }}</code>."}, {"owner": {"reputation": 325, "user_id": 4403891, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c189bd08eff508fa0010e81a7f47cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "musca999", "link": "https://stackoverflow.com/users/4403891/musca999"}, "reply_to_user": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1565825566, "post_id": 57503008, "comment_id": 101475243, "body": "@Mike  I&#39;m calling the template from python as follows:      <code>def hcheck():         print(&quot;hckeck get&quot;)         baseName = &#39;&#47;static&#47;&#39; + str(time.time())         createDir(appDir + baseName)         return render_template(&quot;hcheck_form.html&quot;, fName = baseName+&#39;&#47;healthCheck.txt&#39;)</code>  The code is in the hcheck_form.html. Is that what you meant?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1565831984, "post_id": 57503008, "comment_id": 101476249, "body": "You still haven&#39;t said what you see in the Network tab. Is it sending the <code>GET</code> request? Is it being sent to the correct URL? Is a response being received?"}, {"owner": {"reputation": 325, "user_id": 4403891, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c189bd08eff508fa0010e81a7f47cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "musca999", "link": "https://stackoverflow.com/users/4403891/musca999"}, "edited": false, "score": 0, "creation_date": 1565839069, "post_id": 57503008, "comment_id": 101477403, "body": "Sorry...got sidetracked. Here is the content of the GET:  <code>Request URL: http:&#47;&#47;bla.bla.com:5000&#47;static&#47;1565824085.5153692&#47;healthChec&zwnj;&#8203;k.txt Request Method: GET Status Code: 200 OK Remote Address: x.x.x.x:5000 Referrer Policy: no-referrer-when-downgrade Accept-Ranges: bytes Cache-Control: public, max-age=43200 Content-Length: 1 Content-Type: text&#47;plain; charset=utf-8 Date: Wed, 14 Aug 2019 23:08:10 GMT ETag: &quot;1565824089.0187044-1-885397204&quot; Expires: Thu, 15 Aug 2019 11:08:10 GMT Accept: *&#47;* Referer: http:&#47;&#47;bla.bla.com:5000&#47;hcheck?radioId=hcheck X-Requested-With: XMLHttpRequest&#39;</code>"}, {"owner": {"reputation": 325, "user_id": 4403891, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c189bd08eff508fa0010e81a7f47cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "musca999", "link": "https://stackoverflow.com/users/4403891/musca999"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1565977037, "post_id": 57503008, "comment_id": 101523893, "body": "@Barmar Please see updates above."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1565980606, "post_id": 57503008, "comment_id": 101525218, "body": "I wouldn&#39;t worry about <code>Accept-ranges</code>, that just means that the Flask server is able to accept requests for partial data, see <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Ranges\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Ran&zwnj;&#8203;ges</a>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1565980713, "post_id": 57503008, "comment_id": 101525257, "body": "To disable caching, use <code>$.ajax</code> instead of <code>$.get</code>, and use the <code>cache: false</code> option. Or just add a cachebuster to the URL (that&#39;s what the option does)."}, {"owner": {"reputation": 325, "user_id": 4403891, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c189bd08eff508fa0010e81a7f47cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "musca999", "link": "https://stackoverflow.com/users/4403891/musca999"}, "edited": false, "score": 0, "creation_date": 1566078169, "post_id": 57503008, "comment_id": 101544431, "body": "@Barman That\u2019s what I ended up doing thanks. Tried answering my own question yesterday but was barred by the system due to my noob\u2019iness :)."}], "owner": {"reputation": 325, "user_id": 4403891, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c189bd08eff508fa0010e81a7f47cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "musca999", "link": "https://stackoverflow.com/users/4403891/musca999"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 200, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565987813, "creation_date": 1565823252, "last_edit_date": 1565987813, "question_id": 57503008, "link": "https://stackoverflow.com/questions/57503008/cant-use-jinja-variable-in-jquery-get", "title": "Can&#39;t use Jinja variable in jQuery.get()", "body": "<p>When I try to use a URL variable in jQuery.get, it doesn't work. But when I hardcode the contents, it works fine.</p>\n\n<p>javascript:</p>\n\n<pre><code>1 - function readFile() {\n2 -   var myurl = '{{ fName }}';         &lt;&lt;&lt; jinja variable containing filename\n3 -   console.log(myurl);                &lt;&lt;&lt; prints correct URL in console\n4 -   jQuery.get(myurl, function(data){\n5 -    console.log(data);                &lt;&lt;&lt; outputs a period (ie \".\")\n6 -    jQuery('#target').html(data);\n7 -  });\n8 - }\n</code></pre>\n\n<p>If I hardcode the output from line 3 into myurl in line 4, the function works and reads the file and displays its contents in the console.</p>\n\n<p>I tried putting single quotes, double quotes, you name it around myurl in line 4 and nothing works.</p>\n\n<p>@Mike</p>\n\n<p>I'm calling the template from python as follows:</p>\n\n<pre><code>def hcheck():\n    print(\"hckeck get\")\n    baseName = '/static/' + str(time.time())\n    createDir(appDir + baseName)\n    return render_template(\"hcheck_form.html\", fName = baseName+'/healthCheck.txt')\n</code></pre>\n\n<p>The js code is in the hcheck_form.html. Is that what you meant?</p>\n\n<p><strong>* UPDATE 1 *</strong>\nI compared the web.py Response Header (working) with the Flask Response Header, and I think that may be the root cause of my issue. Web.py returns the following:</p>\n\n<pre><code>Web.py\n======\nRequest URL:         \nhttps://&lt;url&gt;:8080/static/1565974246.91/healthCheck.txt\nRequest Method: GET\nStatus Code: 200 \nRemote Address: &lt;ip&gt;:8080\nReferrer Policy: no-referrer-when-downgrade\nContent-Length: 22\nContent-type: text/plain\nDate: Fri, 16 Aug 2019 16:50:54 GMT\nETag: \"1565974253.04\"\nLast-Modified: Fri, 16 Aug 2019 16:50:53 GMT\nServer: localhost\nProvisional headers are shown\nAccept: */*\nReferer: https://&lt;url&gt;:8080/\nSec-Fetch-Mode: cors\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 \n(KHTML, like Gecko) Chrome/76.0.3809.100 Safari/537.36\nX-Requested-With: XMLHttpRequest\n\nFlask\n=====\nRequest URL: \nhttp://&lt;url&gt;:5000/static/1565974312.1353812/healthCheck.txt\nRequest Method: GET\nStatus Code: 200 OK\nRemote Address: &lt;ip&gt;:5000\nReferrer Policy: no-referrer-when-downgrade\nAccept-Ranges: bytes\nCache-Control: public, max-age=43200\nContent-Length: 1\nContent-Type: text/plain; charset=utf-8\nDate: Fri, 16 Aug 2019 16:51:58 GMT\nETag: \"1565974317.914523-1-875239115\"\nExpires: Sat, 17 Aug 2019 04:51:58 GMT\nLast-Modified: Fri, 16 Aug 2019 16:51:57 GMT\nServer: Werkzeug/0.15.4 Python/3.7.1\nProvisional headers are shown\nAccept: */*\nReferer: http://&lt;url&gt;:5000/hcheck?radioId=hcheck\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36     \n(KHTML, like Gecko) Chrome/76.0.3809.100 Safari/537.36\nX-Requested-With: XMLHttpRequest\n</code></pre>\n\n<p>Not being a web expert, I have a feeling it has something to do with Accept-Ranges: bytes, which isn't in the web.py header. Not sure. Is there a way to modify the Flask header to make it match what web.py returns? Thx</p>\n\n<p><strong>* UPDATE 2 *</strong>\nWell this is embarrasing. Since I'm serving a static file, it is being cached and only shows original content, and not updated content as the function is updating it. If I manually clear the cache as the function is running, I can see the updates. No i just need to figure out how to turn off caching in Flask and I should be good to go. Thx</p>\n"}, {"tags": ["javascript", "node.js", "es6-promise", "cleartimeout"], "comments": [{"owner": {"reputation": 3019, "user_id": 10687857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7vYls.jpg?s=128&g=1", "display_name": "DanStarns", "link": "https://stackoverflow.com/users/10687857/danstarns"}, "edited": false, "score": 1, "creation_date": 1565823276, "post_id": 57503001, "comment_id": 101474833, "body": "are you sure that <code>promise</code> is the timer or is your variable called <code>timer</code> the timer, because in your code you are saying <code>clearTimeout(promise)</code>"}, {"owner": {"reputation": 11449, "user_id": 6525724, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CZEkk.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/6525724/nick"}, "edited": false, "score": 1, "creation_date": 1565823449, "post_id": 57503001, "comment_id": 101474868, "body": "Your <code>100</code> value is in the wrong place. (should be the second argument to <code>setTimeout</code>"}, {"owner": {"reputation": 13, "user_id": 3410504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a80599bff87476c9e402434b54371fb8?s=128&d=identicon&r=PG&f=1", "display_name": "user3410504", "link": "https://stackoverflow.com/users/3410504/user3410504"}, "edited": false, "score": 0, "creation_date": 1565823657, "post_id": 57503001, "comment_id": 101474909, "body": "Please forgive me! This is a missprint! Of course, I meant <code>clearTimeout (timer)</code>"}, {"owner": {"reputation": 13442, "user_id": 3982562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a3c7aae1d762372cda697833c602ec8?s=128&d=identicon&r=PG", "display_name": "3limin4t0r", "link": "https://stackoverflow.com/users/3982562/3limin4t0r"}, "edited": false, "score": 0, "creation_date": 1565824424, "post_id": 57503001, "comment_id": 101475039, "body": "@user3410504 Updates/edits based on comments should preferably be reflected in the question itself. This way other readers don&#39;t have to weed out the whole comment section. You find the <a href=\"https://stackoverflow.com/posts/57503001/edit\"><i>edit</i></a> option under the question."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 3410504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a80599bff87476c9e402434b54371fb8?s=128&d=identicon&r=PG&f=1", "display_name": "user3410504", "link": "https://stackoverflow.com/users/3410504/user3410504"}, "edited": false, "score": 0, "creation_date": 1565824606, "post_id": 57503100, "comment_id": 101475075, "body": "Thank you very much! Now everything is clear"}], "tags": [], "owner": {"reputation": 130214, "user_id": 772035, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/jAEqI.jpg?s=128&g=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/772035/paul"}, "is_accepted": true, "score": 1, "last_activity_date": 1565824454, "last_edit_date": 1565824454, "creation_date": 1565824144, "answer_id": 57503100, "question_id": 57503001, "link": "https://stackoverflow.com/questions/57503001/unhandledpromiserejectionwarning-after-cleartimeout/57503100#57503100", "title": "UnhandledPromiseRejectionWarning after clearTimeout", "body": "<p>If you call <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/finally\" rel=\"nofollow noreferrer\">Promise#finally</a> on a Promise that is rejected, the Promise returned by finally is also rejected:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>window.addEventListener('unhandledrejection', _ =&gt; console.error( 'Unhandled Rejection' ) );\r\n\r\nPromise.reject( )\r\n  .finally( _ =&gt; _ );</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If you might be calling finally on a rejected Promise, you still need to catch the error to prevent an unhandled rejection:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>window.addEventListener('unhandledrejection', _ =&gt; console.error( 'Unhandled Rejection' ) );\r\n\r\nPromise.reject( 'foobar' )\r\n  .finally( _ =&gt; _ )\r\n  .catch( e =&gt; console.log( 'Caught: ' + e ) );</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If you chain your finally after the <code>catch</code>, instead of calling it directly on your <code>promise</code>, you would not have an unhandled rejection, because catch returns a Promise that will be fulfilled (unless a new error is thrown or a rejected Promise is returned from the catch callback).</p>\n"}], "owner": {"reputation": 13, "user_id": 3410504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a80599bff87476c9e402434b54371fb8?s=128&d=identicon&r=PG&f=1", "display_name": "user3410504", "link": "https://stackoverflow.com/users/3410504/user3410504"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 257, "favorite_count": 1, "closed_date": 1565825777, "accepted_answer_id": 57503100, "answer_count": 1, "score": 1, "last_activity_date": 1565824454, "creation_date": 1565823125, "last_edit_date": 1565823919, "question_id": 57503001, "link": "https://stackoverflow.com/questions/57503001/unhandledpromiserejectionwarning-after-cleartimeout", "closed_reason": "Duplicate", "title": "UnhandledPromiseRejectionWarning after clearTimeout", "body": "<p>If I clear the timer after it has rejected the promise - I get a warning \"UnhandledPromiseRejectionWarning\" in stdout regardless of whether I intercept 'catch' on the promise or not</p>\n\n<p>checked on: node v10, node v12, google-chrome  76</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let timer;\r\nconst promise = new Promise((resolve, reject) =&gt; {\r\n    timer = setTimeout(() =&gt; {\r\n        console.log('!timeout');\r\n        reject('timeout error');\r\n    });\r\n}, 100);\r\n\r\npromise.then(result =&gt; {\r\n    console.log('SUCCESS:', result);\r\n}).catch(error =&gt; {\r\n    console.log('!onerror');\r\n    console.error('ERROR:', error);\r\n});\r\n\r\npromise.finally(() =&gt; {\r\n    console.log('!onfinnaly');\r\n    clearTimeout(timer);\r\n});\r\n\r\nconsole.log('!endcode');</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>console output in nodejs:</p>\n\n<pre><code>!endcode\n!timeout\n!onfinnaly\n!onerror\nERROR: timeout error\n(node:12697) UnhandledPromiseRejectionWarning: timeout error\n(node:12697) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 2)\n(node:12697) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\n</code></pre>\n\n<p>console output in google-chrome:</p>\n\n<pre><code>!endcode\n!timeout\n!onfinnaly\n!onerror\nERROR: timeout error\nPromise.catch (async)\nUncaught (in promise) timeout error\n</code></pre>\n"}, {"tags": ["javascript", "webpack"], "answers": [{"tags": [], "owner": {"reputation": 444, "user_id": 9996080, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FoRKR.jpg?s=128&g=1", "display_name": "James South", "link": "https://stackoverflow.com/users/9996080/james-south"}, "is_accepted": true, "score": 2, "last_activity_date": 1565826370, "creation_date": 1565826370, "answer_id": 57503322, "question_id": 57502997, "link": "https://stackoverflow.com/questions/57502997/adding-js-files-webpack-static-site-boilerplate/57503322#57503322", "title": "Adding JS Files - Webpack - Static Site Boilerplate", "body": "<p>anything you import in an entry point file will be bundled by webpack into your final bundle, so in your entry JS file you can just import or require your other JS modules.  you can even import your SCSS there and not have the SCSS entry point.  have you been through the guides?  <a href=\"https://webpack.js.org/guides/getting-started/\" rel=\"nofollow noreferrer\">https://webpack.js.org/guides/getting-started/</a></p>\n\n<p>for instance, in a JS entry point:</p>\n\n<pre><code>import '../css/main.scss'; // scss\nimport createAside from './createAside'; // JS function\nimport projects from './projects'; // JS data\nimport links from './links';\n</code></pre>\n\n<p>these will all be processed and bundled together in accordance with your config</p>\n"}], "owner": {"reputation": 323, "user_id": 11578207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q9POG.jpg?s=128&g=1", "display_name": "Perdixo", "link": "https://stackoverflow.com/users/11578207/perdixo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 0, "accepted_answer_id": 57503322, "answer_count": 1, "score": 0, "last_activity_date": 1565826370, "creation_date": 1565823098, "question_id": 57502997, "link": "https://stackoverflow.com/questions/57502997/adding-js-files-webpack-static-site-boilerplate", "title": "Adding JS Files - Webpack - Static Site Boilerplate", "body": "<p>I'm currently learning webpack to improve my static site building process. I'm using a boilerplate called <a href=\"http://staticsiteboilerplate.com/\" rel=\"nofollow noreferrer\">Static site boilerplate</a>.</p>\n\n<p>I have an issue with it since i'm not on point with webpack. At start, there is only one <code>.js</code> file in the <code>javascripts</code> folder called <code>scripts.js</code>. What i'd like to do is add multiple files in this <code>javascripts</code>folder and join them into one file only, the <code>scripts.js</code> (like in Sass).</p>\n\n<p>How can i do this?</p>\n\n<p>Here is the webpack.config.js file :</p>\n\n<pre><code>const path = require('path');\n\nconst config = require('./site.config');\nconst loaders = require('./webpack.loaders');\nconst plugins = require('./webpack.plugins');\n\nmodule.exports = {\n  context: path.join(config.root, config.paths.src),\n  entry: [\n    path.join(config.root, config.paths.src, 'javascripts/scripts.js'),\n    path.join(config.root, config.paths.src, 'stylesheets/styles.scss'),\n  ],\n  output: {\n    path: path.join(config.root, config.paths.dist),\n    filename: '[name].[hash].js',\n  },\n  mode: ['production', 'development'].includes(config.env) ? config.env : 'development',\n  devtool: config.env === 'production' ? 'hidden-source-map' : 'cheap-eval-source-map',\n  devServer: {\n    contentBase: path.join(config.root, config.paths.src),\n    watchContentBase: true,\n    hot: true,\n    open: true,\n    port: config.port,\n    host: config.dev_host,\n  },\n  module: {\n    rules: loaders,\n  },\n  plugins,\n};\n</code></pre>\n\n<p>And <a href=\"https://github.com/ericalli/static-site-boilerplate\" rel=\"nofollow noreferrer\">here is the github repo</a> to see the files</p>\n"}, {"tags": ["javascript", "reactjs", "es6-promise"], "comments": [{"owner": {"reputation": 73217, "user_id": 379235, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qSUBs.png?s=128&g=1", "display_name": "daydreamer", "link": "https://stackoverflow.com/users/379235/daydreamer"}, "edited": false, "score": 1, "creation_date": 1565822996, "post_id": 57502968, "comment_id": 101474790, "body": "how is <code>fileList</code> generated/created?"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1565823291, "post_id": 57502968, "comment_id": 101474840, "body": "what you describe is impossible - the same <code>fileList</code> is passed to <code>this.props.bar</code> and to <code>this.props.doSomething</code>"}, {"owner": {"reputation": 51, "user_id": 8749307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/304301e0be1d0d545e3af4cf05db2dcf?s=128&d=identicon&r=PG&f=1", "display_name": "sss", "link": "https://stackoverflow.com/users/8749307/sss"}, "edited": false, "score": 0, "creation_date": 1565823321, "post_id": 57502968, "comment_id": 101474844, "body": "It is being taken from an &lt;input type=&quot;file&quot;&gt;."}, {"owner": {"reputation": 51, "user_id": 8749307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/304301e0be1d0d545e3af4cf05db2dcf?s=128&d=identicon&r=PG&f=1", "display_name": "sss", "link": "https://stackoverflow.com/users/8749307/sss"}, "edited": false, "score": 0, "creation_date": 1565823365, "post_id": 57502968, "comment_id": 101474850, "body": "I agree I do not see why this would be happening."}, {"owner": {"reputation": 908, "user_id": 9636451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8127a214dc2987116550e00fb1dff09?s=128&d=identicon&r=PG&f=1", "display_name": "Joss Classey", "link": "https://stackoverflow.com/users/9636451/joss-classey"}, "edited": false, "score": 1, "creation_date": 1565824592, "post_id": 57502968, "comment_id": 101475070, "body": "Just want to point out that it should be <code>this.props.doSomething(res)</code>, not <code>this.props.doSomething({ fileList })</code> as you&#39;ve already returned <code>fileList</code> and turned it into a promise response."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "reply_to_user": {"reputation": 908, "user_id": 9636451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8127a214dc2987116550e00fb1dff09?s=128&d=identicon&r=PG&f=1", "display_name": "Joss Classey", "link": "https://stackoverflow.com/users/9636451/joss-classey"}, "edited": false, "score": 0, "creation_date": 1565824733, "post_id": 57502968, "comment_id": 101475092, "body": "@JossClassey - how do you know what it should be? <code>fileList</code> is <b>not</b> a &quot;promise response&quot;, whatever the heck that is"}, {"owner": {"reputation": 908, "user_id": 9636451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8127a214dc2987116550e00fb1dff09?s=128&d=identicon&r=PG&f=1", "display_name": "Joss Classey", "link": "https://stackoverflow.com/users/9636451/joss-classey"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1565825404, "post_id": 57502968, "comment_id": 101475211, "body": "@JaromandaX I was just saying that <i>if it was a promise</i>, then <code>res</code> would be the result of the resolved promise, not fileList. I wasn&#39;t commenting on anything other than that."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1565826995, "post_id": 57502968, "comment_id": 101475492, "body": "yes, but you said &quot;it should be  <code>this.props.doSomething(res)</code>&quot; - but there&#39;s no reason to suspect it SHOULD be that. <code>res</code> may not be what the OP want to pass to <code>doSomething</code> at all"}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 8749307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/304301e0be1d0d545e3af4cf05db2dcf?s=128&d=identicon&r=PG&f=1", "display_name": "sss", "link": "https://stackoverflow.com/users/8749307/sss"}, "is_accepted": false, "score": 0, "last_activity_date": 1565843054, "creation_date": 1565843054, "answer_id": 57504851, "question_id": 57502968, "link": "https://stackoverflow.com/questions/57502968/how-to-pass-filelist-through-promise/57504851#57504851", "title": "How to pass FileList through promise", "body": "<p>So I found out what was wrong. I wanted to thank everyone for helping.</p>\n\n<p>This foo was being called asynchronously. So, fileList contained one file for the first call to bar() but by the time doSomething() was called fileList was actually changed in the method that called foo() originally.</p>\n"}], "owner": {"reputation": 51, "user_id": 8749307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/304301e0be1d0d545e3af4cf05db2dcf?s=128&d=identicon&r=PG&f=1", "display_name": "sss", "link": "https://stackoverflow.com/users/8749307/sss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565843054, "creation_date": 1565822781, "question_id": 57502968, "link": "https://stackoverflow.com/questions/57502968/how-to-pass-filelist-through-promise", "title": "How to pass FileList through promise", "body": "<p>I have the following code. I use the fileList variable which is a FileList which contains only one file. Then I pass it </p>\n\n<pre><code>foo(fileList) {\n    this.props.bar({ fileList })\n        .then((res) =&gt; \n            this.props.doSomething({ fileList });\n        })\n}\n</code></pre>\n\n<p>Then in a different file</p>\n\n<pre><code>doSomething({ fileList }) {\n...\n}\n</code></pre>\n\n<p>My problem is that before bar() is entered fileList contains one file. Then inside of the .then fileList appears to be empty resulting in doSomething getting no files. Also, after the bar promise completes the fileList contains the file again.</p>\n\n<p>Is this a scope issue? How do I fix this?</p>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 10151940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb065f1f3555b2070cd53fb1e1683ed?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/10151940/john"}, "edited": false, "score": 0, "creation_date": 1565857543, "post_id": 57506040, "comment_id": 101481639, "body": "Thank you Akash! Is there a way to make it disappear and have it jump to i.e. 1 of 30 mathes&quot; click on the next button &quot;2 of 30 matches&quot;... and vise versa when the user clicks on the previous button"}, {"owner": {"reputation": 19, "user_id": 10151940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb065f1f3555b2070cd53fb1e1683ed?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/10151940/john"}, "edited": false, "score": 0, "creation_date": 1565872321, "post_id": 57506040, "comment_id": 101487059, "body": "Just tested it out. Works wonderfully! I also added the ability to scroll up and down the page."}], "tags": [], "owner": {"reputation": 26, "user_id": 11930355, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/5c2ee2592a32579363bc937523b6f1ce?s=128&d=identicon&r=PG", "display_name": "Akash", "link": "https://stackoverflow.com/users/11930355/akash"}, "is_accepted": false, "score": 0, "last_activity_date": 1565853131, "creation_date": 1565853131, "answer_id": 57506040, "question_id": 57502951, "link": "https://stackoverflow.com/questions/57502951/trouble-with-displaying-markjs-matches/57506040#57506040", "title": "Trouble with displaying MarkJS matches", "body": "<p>Here is your updated code.Need to change only input event</p>\n\n<pre><code>$input.on(\"input\", function() {\nvar searchVal = this.value;\n$content.unmark({\n  done: function(totalMatches) {\n    $content.mark(searchVal, {\n      separateWordSearch: false,\n      acrossElements: true,\n      done: function(totalMatches) {\n        $results = $content.find(\"mark\");\n        currentIndex = 0;\n        jumpTo();\n        //var tag = field.find('[data-tag=\"' + keyword.toLowerCase() + '\"]'),\n        //html = keyword;\n        //    tag.addClass('active');\n            if (totalMatches) {\n        //    html += '&lt;span class=\"kwt-count\"&gt;' + totalMatches + '&lt;/span&gt;';\n            $(\".kwt-count\").html(totalMatches+ \" of \" +totalMatches+\" Matches\");             \n\n          }\n        //tag.find('content').html(html);\n\n\n      }\n    });\n  }\n});\n</code></pre>\n\n<p>});    </p>\n\n<p>Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 26, "user_id": 11930355, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/5c2ee2592a32579363bc937523b6f1ce?s=128&d=identicon&r=PG", "display_name": "Akash", "link": "https://stackoverflow.com/users/11930355/akash"}, "is_accepted": true, "score": 0, "last_activity_date": 1565864385, "creation_date": 1565864385, "answer_id": 57508201, "question_id": 57502951, "link": "https://stackoverflow.com/questions/57502951/trouble-with-displaying-markjs-matches/57508201#57508201", "title": "Trouble with displaying MarkJS matches", "body": "<p>Here is the code for your comment:</p>\n\n<p>Declare 2 new below variables on top:-</p>\n\n<pre><code>var variableCounter=0;\nvar totalCount=0;    \n</code></pre>\n\n<p>Add below 2 events in document.ready function</p>\n\n<pre><code>$(\"[data-search=next]\").click(function(){\n\n   if(variableCounter&lt;totalCount)\n     variableCounter=variableCounter+1;\n   else\n    variableCounter=1;\n\n    $(\".kwt-count\").html(variableCounter+ \" of \" +totalCount+\" Matches\");\n})\n\n $(\"[data-search=prev]\").click(function(){\n\n   if(variableCounter&gt;1)\n     variableCounter=variableCounter-1;\n   else\n       variableCounter=totalCount;\n\n   $(\".kwt-count\").html(variableCounter+ \" of \" +totalCount+\" Matches\");\n})    \n</code></pre>\n\n<p>Update below existing events:- </p>\n\n<pre><code>$input.on(\"input\", function() {\nvar searchVal = this.value;\n$content.unmark({\n  done: function(totalMatches) {\n    $content.mark(searchVal, {\n      separateWordSearch: false,\n      acrossElements: true,\n      done: function(totalMatches) {\n        $results = $content.find(\"mark\");\n        currentIndex = 0;\n        jumpTo();\n        //var tag = field.find('[data-tag=\"' + keyword.toLowerCase() + '\"]'),\n        //html = keyword;\n            //tag.addClass('active');\n        totalCount=totalMatches;\n            if (totalMatches) {\n            //html += '&lt;span class=\"kwt-count\"&gt;' + totalMatches + '&lt;/span&gt;';\n\n          variableCounter=1;\n          $(\".kwt-count\").html(variableCounter+ \" of \" +totalMatches+\" Matches\");\n            }\n        else\n        {\n           $(\".kwt-count\").html(\" Matches\");\n        }\n    //tag.find('content').html(html);\n\n      }\n    });\n  }\n});\n</code></pre>\n\n<p>});      </p>\n\n<pre><code>$clearBtn.on(\"click\", function() {\n$content.unmark();\n$input.val(\"\").focus();\n\nvariableCounter=0;\ntotalCount=0;\n $(\".kwt-count\").html(\" Matches\");\n</code></pre>\n\n<p>});    </p>\n\n<p>Hope this helps</p>\n"}], "owner": {"reputation": 19, "user_id": 10151940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb065f1f3555b2070cd53fb1e1683ed?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/10151940/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "accepted_answer_id": 57508201, "answer_count": 2, "score": 0, "last_activity_date": 1565864385, "creation_date": 1565822669, "last_edit_date": 1565824583, "question_id": 57502951, "link": "https://stackoverflow.com/questions/57502951/trouble-with-displaying-markjs-matches", "title": "Trouble with displaying MarkJS matches", "body": "<p>I'm working on a jquery search (mark.js) that highlights words on a page based on user input. I'm able to highlight the results, but the results do not display i.e. \"1 of 1 matches\". The matches should appear in <code>&lt;span class=\"kwt-count\"&gt; matches&lt;/span&gt;</code>. I am not sure how to get it to work. Here is my JSFiddle: </p>\n\n<pre><code>&lt;div class=\"header\"&gt;\n  Search:\n  &lt;input type=\"search\" placeholder=\"Lorem\"&gt;\n  &lt;button data-search=\"next\"&gt;&amp;darr;&lt;/button&gt;\n  &lt;button data-search=\"prev\"&gt;&amp;uarr;&lt;/button&gt;\n  &lt;button data-search=\"clear\"&gt;\u2716&lt;/button&gt;\n  &lt;span class=\"kwt-count\"&gt; matches&lt;/span&gt;\n&lt;/div&gt;\n\n&lt;div class=\"content\"&gt;\n&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis eu ullamcorper orci, eget p&lt;/p&gt;\n&lt;/div&gt;\n\n\n&lt;script&gt;\nvar lstEl = null;\nvar cntr = -1;\n\n$(document).ready(function() {\n    $('#btnSearch').click(function() {\n        lstEl = null;\n        cntr = -1;\n        var vl = document.getElementById('searchTerm').value;\n        $(\"#bodyContainer\").removeHighlight();\n        $(\"#bodyContainer\").highlight(vl);\n    });\n\n    $('#btnNext').click(function() {\n        alert(cntr);\n        if (lstEl === null) {\n            lstEl = $('#bodyContainer').find('span.highlight');\n            if (!lstEl || lstEl.length === 0) {\n                lstEl = null;\n                return;\n            }\n        }\n        if (cntr &lt; lstEl.length - 1) {\n            cntr++;\n            if (cntr &gt; 0) {\n                $(lstEl[0]).removeClass('current');\n            }\n            var elm = lstEl[cntr];\n            $(elm).addClass('current');\n        } else\n            alert(\"End of search reached!\");\n    });\n\n    $('#btnPrev').click(function() {\n        alert(cntr);\n        if (lstEl === null) {\n            lstEl = $('#bodyContainer').find('span.highlight');\n            if (!lstEl || lstEl.length === 0) {\n                lstEl = null;\n                return;\n            }\n        }\n        if (cntr &gt; 0) {\n            cntr--;\n            if (cntr &lt; lstEl.length) {\n                $(lstEl[cntr + 1]).removeClass('current');\n            }\n            var elm = lstEl[cntr];\n            $(elm).addClass('current');\n        } else\n            alert(\"Begining of search!\");\n    });\n});\n\n$(function() {\n\n  // the input field\n  var $input = $(\"input[type='search']\"),\n    // clear button\n    $clearBtn = $(\"button[data-search='clear']\"),\n    // prev button\n    $prevBtn = $(\"button[data-search='prev']\"),\n    // next button\n    $nextBtn = $(\"button[data-search='next']\"),\n    // the context where to search\n    $content = $(\".content\"),\n    // jQuery object to save &lt;mark&gt; elements\n    $results,\n    // the class that will be appended to the current\n    // focused element\n    currentClass = \"current\",\n    // top offset for the jump (the search bar)\n    offsetTop = 50,\n    // the current index of the focused element\n    currentIndex = 0;\n\n  /**\n   * Jumps to the element matching the currentIndex\n   */\n  function jumpTo() {\n    if ($results.length) {\n      var position,\n        $current = $results.eq(currentIndex);\n      $results.removeClass(currentClass);\n      if ($current.length) {\n        $current.addClass(currentClass);\n        position = $current.offset().top - offsetTop;\n        window.scrollTo(0, position);\n      }\n    }\n  }\n\n/**\n   * Jumps to the element matching the currentIndex\n   */\n  function jumpTo() {\n    if ($results.length) {\n      var position,\n        $current = $results.eq(currentIndex);\n      $results.removeClass(currentClass);\n      if ($current.length) {\n        $current.addClass(currentClass);\n        position = $current.offset().top - offsetTop;\n        window.scrollTo(0, position);\n      }\n    }\n  }\n\n  /**\n   * Searches for the entered keyword in the\n   * specified context on input\n   */\n  $input.on(\"input\", function() {\n    var searchVal = this.value;\n    $content.unmark({\n      done: function(totalMatches) {\n        $content.mark(searchVal, {\n          separateWordSearch: false,\n          acrossElements: true,\n          done: function(totalMatches) {\n            $results = $content.find(\"mark\");\n            currentIndex = 0;\n            jumpTo();\n            var tag = field.find('[data-tag=\"' + keyword.toLowerCase() + '\"]'),\n            html = keyword;\n                tag.addClass('active');\n                if (totalMatches) {\n                html += '&lt;span class=\"kwt-count\"&gt;' + totalMatches + '&lt;/span&gt;';\n                }\n        tag.find('content').html(html);\n\n          }\n        });\n      }\n    });\n  });\n\n  /**\n   * Clears the search\n   */\n  $clearBtn.on(\"click\", function() {\n    $content.unmark();\n    $input.val(\"\").focus();\n  });\n\n  /**\n   * Next and previous search jump to\n   */\n  $nextBtn.add($prevBtn).on(\"click\", function() {\n    if ($results.length) {\n      currentIndex += $(this).is($prevBtn) ? -1 : 1;\n      if (currentIndex &lt; 0) {\n        currentIndex = $results.length - 1;\n      }\n      if (currentIndex &gt; $results.length - 1) {\n        currentIndex = 0;\n      }\n      jumpTo();\n    }\n  });\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>JSFiddle link: <a href=\"https://jsfiddle.net/dude12go8/zbf0g8e1/50/\" rel=\"nofollow noreferrer\">MarkJS Fiddle</a></p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 19712, "user_id": 1073758, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bdc24ed4fda8107a5b53f0126a56536b?s=128&d=identicon&r=PG", "display_name": "moonwave99", "link": "https://stackoverflow.com/users/1073758/moonwave99"}, "edited": false, "score": 0, "creation_date": 1565822753, "post_id": 57502919, "comment_id": 101474733, "body": "You can use <a href=\"https://learn.jquery.com/events/introduction-to-custom-events/\" rel=\"nofollow noreferrer\">custom events</a>, but you won&#39;t be able to send the manipulated data to server, unless you want to send it twice. Guess we need more context ^^"}], "answers": [{"comments": [{"owner": {"reputation": 20081, "user_id": 3862378, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/cH5IV.jpg?s=128&g=1", "display_name": "LP13", "link": "https://stackoverflow.com/users/3862378/lp13"}, "edited": false, "score": 0, "creation_date": 1565823195, "post_id": 57502989, "comment_id": 101474820, "body": "as i mention i cannot use specific element. Your codes triggering on specific element, in this case you are using <code>btn</code>. assume that the listener script does not know the <code>id</code> of the button or does now know anything about button"}, {"owner": {"reputation": 20081, "user_id": 3862378, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/cH5IV.jpg?s=128&g=1", "display_name": "LP13", "link": "https://stackoverflow.com/users/3862378/lp13"}, "edited": false, "score": 0, "creation_date": 1565823322, "post_id": 57502989, "comment_id": 101474846, "body": "may be i need to trigger on <code>document</code>"}], "tags": [], "owner": {"reputation": 862, "user_id": 4409834, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-G015Bz1NxeA/AAAAAAAAAAI/AAAAAAAAAEc/3QFP2KQPfyQ/photo.jpg?sz=128", "display_name": "Vishnu", "link": "https://stackoverflow.com/users/4409834/vishnu"}, "is_accepted": true, "score": 1, "last_activity_date": 1565823831, "last_edit_date": 1565823831, "creation_date": 1565823049, "answer_id": 57502989, "question_id": 57502919, "link": "https://stackoverflow.com/questions/57502919/raising-and-subscribing-event-in-javascript/57502989#57502989", "title": "Raising and Subscribing event in JavaScript", "body": "<p>You may do like :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(function(){\r\n  const btn = $('#btn');\r\n  btn.on('click',() =&gt;{\r\n    console.log('from one file');\r\n    $(window).trigger('custom');\r\n  })\r\n  \r\n});\r\n\r\n$(function(){\r\n  const btn = $('#btn');\r\n  $(window).on('custom',() =&gt;{\r\n    console.log('from second file')\r\n  })\r\n  \r\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;input type=\"button\" id=\"btn\" value=\"Click me\"/&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 20081, "user_id": 3862378, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/cH5IV.jpg?s=128&g=1", "display_name": "LP13", "link": "https://stackoverflow.com/users/3862378/lp13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 57502989, "answer_count": 1, "score": 0, "last_activity_date": 1565823831, "creation_date": 1565822364, "last_edit_date": 1565822783, "question_id": 57502919, "link": "https://stackoverflow.com/questions/57502919/raising-and-subscribing-event-in-javascript", "title": "Raising and Subscribing event in JavaScript", "body": "<p>I don't know if this is even possible. I have a javascript that simply serializes the form on a page and saves it to the server on button click</p>\n\n<pre><code>// dispatcher script\n$(function(){\n\n    $(\"#btn\").click(function(){\n\n    // how to raise event here before save that another script can subscribe\n\n    var data = $(\"#myform\").serialize();\n\n    //Save data here using jquery Ajax\n\n  })\n})\n</code></pre>\n\n<p>now on the same page there is one more javascript. and this javascript needs to do something before save.</p>\n\n<pre><code>// listener script\n$(function(){       \n\n\n  // in this script i want to subscribe to event and do something when event is raised\n\n})\n</code></pre>\n\n<p>Is there a way to raise event from one javascript and subscribe in other?</p>\n\n<p><em>Note: for valid reasons i cannot combine both scripts into one</em></p>\n\n<p>I looked at <a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Creating_and_triggering_events\" rel=\"nofollow noreferrer\">sample here</a> however in my case which element subscriber would be listening on? Assume Listener script does not know <code>btn</code>.</p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 15416, "user_id": 3509591, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Rshrf.jpg?s=128&g=1", "display_name": "Zze", "link": "https://stackoverflow.com/users/3509591/zze"}, "edited": false, "score": 1, "creation_date": 1565822522, "post_id": 57502891, "comment_id": 101474687, "body": "Why not just put all the code in the same function?"}], "answers": [{"tags": [], "owner": {"reputation": 3552, "user_id": 5862900, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5MA2G.jpg?s=128&g=1", "display_name": "goto1", "link": "https://stackoverflow.com/users/5862900/goto1"}, "is_accepted": true, "score": 3, "last_activity_date": 1565859973, "last_edit_date": 1565859973, "creation_date": 1565822675, "answer_id": 57502952, "question_id": 57502891, "link": "https://stackoverflow.com/questions/57502891/how-to-combine-two-init-function/57502952#57502952", "title": "How to combine two init function?", "body": "<p>So basically what it sounds like is that you'd like to be able to run multiple functions when the <code>window.onload</code> event gets triggered.</p>\n\n<p>You could create two separate functions, like so:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function runVideoScript() {\n  var vidDefer = document.getElementsByTagName('iframe')\n  // ...\n}\n\nfunction runImageScript() {\n  var imgDefer = document.getElementsByClassName('img-responsive')\n  // ...\n}\n</code></pre>\n\n<p>Then you can create an <code>init</code> function. This way, both functions will be called from the <code>init</code> function, and <code>init</code> will be called when <code>window.onload</code> gets triggered:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function init() {\n  runVideoScript()\n  runImageScript()\n}\n\nwindow.onload = init\n</code></pre>\n\n<hr>\n\n<p>In your current setup, the reason why only the last function gets called is because you're replacing <code>window.onload</code> with another function, and basically disregarding the first function.</p>\n"}, {"tags": [], "owner": {"reputation": 527, "user_id": 5731985, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c3128b38fe0e52a35a34c219187d1007?s=128&d=identicon&r=PG&f=1", "display_name": "panatoni", "link": "https://stackoverflow.com/users/5731985/panatoni"}, "is_accepted": false, "score": 0, "last_activity_date": 1565825719, "last_edit_date": 1565825719, "creation_date": 1565824913, "answer_id": 57503176, "question_id": 57502891, "link": "https://stackoverflow.com/questions/57502891/how-to-combine-two-init-function/57503176#57503176", "title": "How to combine two init function?", "body": "<p>Just make one init function which will be for example initVideo function and after it's executed run initImage. </p>\n\n<pre><code>function initVideo() {\n        var vidDefer = document.getElementsByTagName(\"iframe\");\n        for (var s = 0; s &lt; vidDefer.length; s++) {\n            if(vidDefer[s].getAttribute('data-src')) {\n                vidDefer[s].setAttribute('src',vidDefer[s].getAttribute('data-src'));\n            }\n        }\n        initImage();\n    }\n    function initImage() {\n        var imgDefer = document.getElementsByClassName(\"img-responsive\");\n        for (var i = 0; i &lt; imgDefer.length; i++) {\n            if (imgDefer[i].getAttribute('data-src')) {\n              imgDefer[i].setAttribute('src',imgDefer[i].getAttribute('data-src'));\n            }\n        }\n    }\n    window.onload = initVideo();\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 6443728, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3PxyXjfvNcI/AAAAAAAAAAI/AAAAAAAAAUA/-0LUvCbQZyk/photo.jpg?sz=128", "display_name": "Mark Andrew Tubog", "link": "https://stackoverflow.com/users/6443728/mark-andrew-tubog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 57502952, "answer_count": 2, "score": 0, "last_activity_date": 1565859973, "creation_date": 1565822125, "last_edit_date": 1565822863, "question_id": 57502891, "link": "https://stackoverflow.com/questions/57502891/how-to-combine-two-init-function", "title": "How to combine two init function?", "body": "<p>I've been working on speeding up my page loading speed. I have these two defers script to minimize loading time and improve performance. </p>\n\n<p>The problem is only the last function will work. ex. if 'imgDefer' is in the last, only image will load on the front page. The same as 'vidDefer' if in last, only video will load and the image will not</p>\n\n<p>I don't know how to combine these two init(). I'm not good at javascript.\nThese are the codes: (I place these codes in footer area)</p>\n\n<p><strong>video</strong></p>\n\n<pre><code>&lt;iframe src=\"\" frameborder=\"0\" allowfullscreen=\"allowfullscreen\" data-src=\"https://www.youtube.com/embed/xxxxxx\"&gt;&lt;/iframe&gt;\n</code></pre>\n\n<p><strong>image</strong></p>\n\n<pre><code>&lt;img class=\"img-responsive\" src=\"data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=\" data-src=\"imagesrource\" alt=\"\"&gt;\n</code></pre>\n\n<p><strong>Video script</strong></p>\n\n<pre><code>function init() {\n    var vidDefer = document.getElementsByTagName(\"iframe\");\n    for (var s = 0; s &lt; vidDefer.length; s++) {\n        if(vidDefer[s].getAttribute('data-src')) {\n            vidDefer[s].setAttribute('src',vidDefer[s].getAttribute('data-src'));\n        }\n    }\n}\nwindow.onload = init;\n</code></pre>\n\n<p><strong>Image Script</strong></p>\n\n<pre><code>function init() {\n    var imgDefer = document.getElementsByClassName(\"img-responsive\");\n    for (var i = 0; i &lt; imgDefer.length; i++) {\n        if (imgDefer[i].getAttribute('data-src')) {\n          imgDefer[i].setAttribute('src',imgDefer[i].getAttribute('data-src'));\n        }\n    }\n}\nwindow.onload = init;\n</code></pre>\n"}, {"tags": ["javascript", "css", "reactjs", "bootstrap-4", "react-bootstrap"], "owner": {"reputation": 1462, "user_id": 5062134, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/c2Ea0.jpg?s=128&g=1", "display_name": "medev21", "link": "https://stackoverflow.com/users/5062134/medev21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 445, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1565822582, "creation_date": 1565822118, "last_edit_date": 1565822582, "question_id": 57502890, "link": "https://stackoverflow.com/questions/57502890/dropdown-menu-on-last-table-cell-gets-cut-off-react-bootstrap", "title": "dropdown menu on last table cell gets cut off - React Bootstrap", "body": "<p>I have a react bootstrap table, the last cell on each row has a dropdown menu.  It's fine until the last row, the dropdown menu gets cut off due to <code>overflow:hidden</code> in the table element.  I would like to keep this, if I disable it then there will be a long highlight passing the table body height whenever I hover on a column header.  The <code>overflow hidden</code> keeps the highlight column relative to the table body.</p>\n\n<p>How can I overcome this issue?  I tried to build my own custom dropdown menu, something like this:</p>\n\n<p>table component: </p>\n\n<pre><code>&lt;tbody&gt;\n {this.state.apps.map((app)=&gt;{\n                      return &lt;AppRow /&gt;;  \n                    })}\n&lt;/tbody&gt;\n</code></pre>\n\n<p>Approw component:</p>\n\n<pre><code>&lt;tr&gt;\n &lt;td&gt;cell1&lt;/td&gt;\n &lt;td&gt;cell2&lt;/td&gt;\n &lt;td&gt;last cell&lt;/td&gt;\n &lt;div&gt;dropdown menu&lt;/div&gt;\n&lt;/tr&gt;\n</code></pre>\n\n<p>this setup is fine, it doesn't get cut off but the dropdown menu is alway at the top to the first row, it's supposed to be at top to the corresponding table row.  So if i click on the last row, the dropdown menu doesn't appear in the appropriate table row but to the top of the first table row.</p>\n\n<p>Has any one run into this issue? Your help will be appreciated!</p>\n"}, {"tags": ["javascript", "json", "reactjs"], "comments": [{"owner": {"reputation": 1495, "user_id": 1503554, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ada69b2a87f0732a5b051e769d07b13d?s=128&d=identicon&r=PG", "display_name": "ThisIsNoZaku", "link": "https://stackoverflow.com/users/1503554/thisisnozaku"}, "edited": false, "score": 3, "creation_date": 1565822205, "post_id": 57502874, "comment_id": 101474630, "body": "forEach doesn&#39;t return anything, I think you want to use map"}], "answers": [{"comments": [{"owner": {"reputation": 219, "user_id": 823676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb18194004b5a4c1bd635c1746db8793?s=128&d=identicon&r=PG", "display_name": "ryatkins", "link": "https://stackoverflow.com/users/823676/ryatkins"}, "edited": false, "score": 0, "creation_date": 1565823276, "post_id": 57502916, "comment_id": 101474832, "body": "That works!  My object is defined coming out of React Final Form so I&#39;m stuck with it.  Thanks for the answer."}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "reply_to_user": {"reputation": 219, "user_id": 823676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb18194004b5a4c1bd635c1746db8793?s=128&d=identicon&r=PG", "display_name": "ryatkins", "link": "https://stackoverflow.com/users/823676/ryatkins"}, "edited": false, "score": 0, "creation_date": 1565824833, "post_id": 57502916, "comment_id": 101475112, "body": "@ryatkins You&#39;re such with the object, but you&#39;re not stuck on how you choose to process that object."}, {"owner": {"reputation": 219, "user_id": 823676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb18194004b5a4c1bd635c1746db8793?s=128&d=identicon&r=PG", "display_name": "ryatkins", "link": "https://stackoverflow.com/users/823676/ryatkins"}, "edited": false, "score": 0, "creation_date": 1565827417, "post_id": 57502916, "comment_id": 101475550, "body": "I&#39;m open to suggestions on making this cleaner :)  I don&#39;t like how unreadable it is either."}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "reply_to_user": {"reputation": 219, "user_id": 823676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb18194004b5a4c1bd635c1746db8793?s=128&d=identicon&r=PG", "display_name": "ryatkins", "link": "https://stackoverflow.com/users/823676/ryatkins"}, "edited": false, "score": 0, "creation_date": 1565828497, "post_id": 57502916, "comment_id": 101475729, "body": "@ryatkins (<i>Very</i>) Roughly I&#39;d start moving towards something like what I appended to the answer. I&#39;d also probably use a polyfill or utility for mapping objects so you don&#39;t have to deal with <code>Object.keys</code>. Without knowing more that&#39;s about the best I can do for now."}, {"owner": {"reputation": 219, "user_id": 823676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb18194004b5a4c1bd635c1746db8793?s=128&d=identicon&r=PG", "display_name": "ryatkins", "link": "https://stackoverflow.com/users/823676/ryatkins"}, "edited": false, "score": 0, "creation_date": 1565835449, "post_id": 57502916, "comment_id": 101476842, "body": "Made an update to add cat={cat} as React didn&#39;t like passing a variable through key.  Also, Item now received both the key value pair at that level.  Thanks again Dave."}], "tags": [], "owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "is_accepted": true, "score": 2, "last_activity_date": 1565835652, "last_edit_date": 1565835652, "creation_date": 1565822350, "answer_id": 57502916, "question_id": 57502874, "link": "https://stackoverflow.com/questions/57502874/react-component-returns-empty-doing-foreach-on-json-object/57502916#57502916", "title": "React component returns empty doing foreach on JSON object", "body": "<p><code>forEach</code> doesn't collect the results. You want <code>map</code>:</p>\n\n<pre><code>Object.keys(obj[key]).map(value =&gt; (\n  &lt;div className=\"item\" key={value}&gt;{value}&lt;/div&gt;\n))\n</code></pre>\n\n<p>You'd be better off pulling out the inner component (at the very least), because as simple as this is, it's already pretty hard to read. I'd consider restructuring the object, plus you're at the mercy of object property ordering, so you may not always get the results you'd prefer.</p>\n\n<p>There's some refactoring and/or rethinking to be done.</p>\n\n<hr>\n\n<p>Without deviating much from your original code, and completely untested, I'd probably start thinking more along these lines:</p>\n\n<pre><code>const Item = ({ value, item }) =&gt; (\n  &lt;div className=\"item\"&gt;{value}: {item}&lt;/div&gt;\n)\n\nconst Category = ({ cat, obj }) =&gt; {\n  return (\n    &lt;div className=\"category\"&gt;\n      {key}\n\n      {Object.keys(obj).map(val =&gt; &lt;Item key={val} value={val} item={obj[val]} /&gt;)}\n    &lt;/div&gt;\n  )\n}\n\nconst Bom = obj =&gt; (\n  &lt;div className=\"outerContainer\"&gt;\n    {Object.keys(obj).map(cat =&gt; &lt;Category key={cat} cat={cat} obj={obj[cat]} /&gt;)}\n  &lt;/div&gt;\n)\n</code></pre>\n"}], "owner": {"reputation": 219, "user_id": 823676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb18194004b5a4c1bd635c1746db8793?s=128&d=identicon&r=PG", "display_name": "ryatkins", "link": "https://stackoverflow.com/users/823676/ryatkins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 57502916, "answer_count": 1, "score": 0, "last_activity_date": 1565835652, "creation_date": 1565821980, "question_id": 57502874, "link": "https://stackoverflow.com/questions/57502874/react-component-returns-empty-doing-foreach-on-json-object", "title": "React component returns empty doing foreach on JSON object", "body": "<p>I have a JSON object with multiple leves that I'm trying to iterate through to display like this, but I keep getting empty results. </p>\n\n<pre><code>&lt;div&gt;    \nOperation\n    **Speed: Slow\n    **Direction: Forward\n    **Status: Moving\n&lt;/div&gt;\n&lt;div&gt;\nDetail\n**Type: Electric\n**Drivetrain: AWD\n&lt;/div&gt;\n</code></pre>\n\n<p>JSON object</p>\n\n<pre><code>    \"operation\": {\n        \"speed\": \"slow\",\n        \"direction\": \"forward\",\n        \"status\": \"moving\"\n      },\n  \"detail\": {\n    \"type\": \"electric\",\n    \"drivetrain\": \"AWD\"\n  }\n</code></pre>\n\n<p>The following works, but difficult to wrap each level in a DIV</p>\n\n<pre><code>    const Bompush = (obj) =&gt; {\n        let output = []\n\n        Object.keys(obj).forEach(key =&gt; {\n            output.push(&lt;div key={key}&gt;{key}&lt;/div&gt;)\n\n            Object.keys(obj[key]).forEach (value =&gt; {\n                output.push(&lt;div key={value}&gt;{value}&lt;/div&gt;)\n\n            })\n        })\n\n        return output  \n}\n</code></pre>\n\n<p>This is the ideal way I'd like to do this but it returns empty</p>\n\n<pre><code>const Bom = (obj) =&gt; {\n return (\n    &lt;div className=\"outerContainer\"&gt;\n        {\n            Object.keys(obj).forEach((key, item) =&gt; { \n                return (\n                    &lt;div className=\"category\" key={key}&gt;{key}\n                        {                        \n                        Object.keys(obj[key]).forEach (value =&gt; { \n                            return (&lt;div className=\"item\" key={value}&gt;{value}&lt;/div&gt;); \n                        })\n                        }\n                    &lt;/div&gt;\n                );\n            })\n        }\n    &lt;/div&gt;\n  );  \n\n }\n</code></pre>\n\n<p>My React component</p>\n\n<pre><code>  export default class DiplayBom extends React.Component {\n\n    render() {\n\n        return (\n        Bom(this.props.myValues)\n        )\n    }\n\n\n  }\n</code></pre>\n"}, {"tags": ["javascript", "css", "vuetify.js"], "answers": [{"comments": [{"owner": {"reputation": 4424, "user_id": 5540863, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fe63b9c0ffe7aa8836dbc98c2dcf8e37?s=128&d=identicon&r=PG&f=1", "display_name": "Geoff", "link": "https://stackoverflow.com/users/5540863/geoff"}, "edited": false, "score": 0, "creation_date": 1565828843, "post_id": 57503304, "comment_id": 101475780, "body": "Transform works but it tends to push the text field away from the left, is there a way i can make this stay at the left side with the transform. From your shared codepen the text field should be closer to the title field"}], "tags": [], "owner": {"reputation": 2819, "user_id": 10756332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TPq0N.jpg?s=128&g=1", "display_name": "Abdelillah Aissani", "link": "https://stackoverflow.com/users/10756332/abdelillah-aissani"}, "is_accepted": false, "score": 1, "last_activity_date": 1565826175, "creation_date": 1565826175, "answer_id": 57503304, "question_id": 57502786, "link": "https://stackoverflow.com/questions/57502786/vuetifyjs-solo-text-field-styling-by-reducing-the-height-doesnt-work/57503304#57503304", "title": "Vuetifyjs solo text field styling by reducing the height doesnt work", "body": "<p>You can scale down the input slot since it doesn't go below a certain minimum height: </p>\n\n<pre class=\"lang-css prettyprint-override\"><code>.v-input__slot {\n transform : scale(.65)\n}\n</code></pre>\n\n\n\n<p><a href=\"https://codepen.io/Dadboz/pen/KKPzgaz\" rel=\"nofollow noreferrer\">codepen</a></p>\n"}, {"comments": [{"owner": {"reputation": 4424, "user_id": 5540863, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fe63b9c0ffe7aa8836dbc98c2dcf8e37?s=128&d=identicon&r=PG&f=1", "display_name": "Geoff", "link": "https://stackoverflow.com/users/5540863/geoff"}, "edited": false, "score": 1, "creation_date": 1565829877, "post_id": 57503479, "comment_id": 101475915, "body": "Great suggestion"}], "tags": [], "owner": {"reputation": 2841, "user_id": 7553693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XqelX.jpg?s=128&g=1", "display_name": "Adam Orlov", "link": "https://stackoverflow.com/users/7553693/adam-orlov"}, "is_accepted": false, "score": 1, "last_activity_date": 1565827960, "creation_date": 1565827960, "answer_id": 57503479, "question_id": 57502786, "link": "https://stackoverflow.com/questions/57502786/vuetifyjs-solo-text-field-styling-by-reducing-the-height-doesnt-work/57503479#57503479", "title": "Vuetifyjs solo text field styling by reducing the height doesnt work", "body": "<p>This is what couses your trouble:</p>\n\n<p><a href=\"https://i.stack.imgur.com/5HdJp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5HdJp.png\" alt=\"a min-height\"></a></p>\n\n<p>You can override it to <code>fit-content</code> like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/0ZR1V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0ZR1V.png\" alt=\"enter image description here\"></a></p>\n\n<p>Remember to give higher CSS specifity to make it work. Plus don't override Vuetify's default classes globaly.</p>\n"}, {"tags": [], "owner": {"reputation": 191, "user_id": 6785410, "user_type": "registered", "profile_image": "https://graph.facebook.com/1195409053830625/picture?type=large", "display_name": "Adarsh Srivastava", "link": "https://stackoverflow.com/users/6785410/adarsh-srivastava"}, "is_accepted": false, "score": 0, "last_activity_date": 1595075151, "creation_date": 1595075151, "answer_id": 62968545, "question_id": 57502786, "link": "https://stackoverflow.com/questions/57502786/vuetifyjs-solo-text-field-styling-by-reducing-the-height-doesnt-work/62968545#62968545", "title": "Vuetifyjs solo text field styling by reducing the height doesnt work", "body": "<p>The following code snippet worked for me -</p>\n<pre><code> &lt;v-app-bar color=&quot;black&quot; dark app clipped-left&gt;\n      &lt;v-toolbar-title&gt;Decrypt&lt;/v-toolbar-title&gt;\n\n      &lt;v-spacer&gt;&lt;/v-spacer&gt;\n\n      &lt;v-text-field solo dense hide-details label=&quot;Search&quot; prepend-inner-icon=&quot;mdi-magnify&quot;&gt;&lt;/v-text-field&gt;\n\n      &lt;v-spacer&gt;&lt;/v-spacer&gt;\n\n      &lt;v-btn icon&gt;\n        &lt;v-icon&gt;mdi-heart&lt;/v-icon&gt;\n      &lt;/v-btn&gt;\n\n      &lt;v-btn icon&gt;\n        &lt;v-icon&gt;mdi-magnify&lt;/v-icon&gt;\n      &lt;/v-btn&gt;\n    &lt;/v-app-bar&gt;\n</code></pre>\n"}], "owner": {"reputation": 4424, "user_id": 5540863, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fe63b9c0ffe7aa8836dbc98c2dcf8e37?s=128&d=identicon&r=PG&f=1", "display_name": "Geoff", "link": "https://stackoverflow.com/users/5540863/geoff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1151, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1595075151, "creation_date": 1565821354, "question_id": 57502786, "link": "https://stackoverflow.com/questions/57502786/vuetifyjs-solo-text-field-styling-by-reducing-the-height-doesnt-work", "title": "Vuetifyjs solo text field styling by reducing the height doesnt work", "body": "<p>I have added a solo text field in vuetify js and centered it in my toolbar but i want to reduce the height of the text field so that its neatly arranged on the toolbar</p>\n\n<p>So i have </p>\n\n<pre><code>    &lt;v-toolbar dense flat dark color=\"primary\"&gt;\n        &lt;v-app-bar-nav-icon&gt;&lt;/v-app-bar-nav-icon&gt;\n        &lt;v-toolbar-title&gt;Title&lt;/v-toolbar-title&gt;\n        &lt;v-text-field\n                class=\"minimize-height\"\n                hide-details\n                light\n                solo\n                      height=\"20px\"\n                placeholder=\"Search an item here\"\n        &gt;&lt;/v-text-field&gt;\n\n        &lt;v-spacer&gt;&lt;/v-spacer&gt;\n\n        &lt;v-divider inset\n                   vertical\n        &gt;&lt;/v-divider&gt;\n\n        &lt;v-btn text class=\"text-none\"&gt;\n            Action Menu\n        &lt;/v-btn&gt;\n\n    &lt;/v-toolbar&gt;\n</code></pre>\n\n<p>This produces \n<a href=\"https://i.stack.imgur.com/alehA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/alehA.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can i controll text field height since even by adding a height value doesnt work.</p>\n\n<p>I have also tried adding a css by adding a class like</p>\n\n<pre><code>.minimize-height{\n    height:10px!important //this still doesnt work\n }\n</code></pre>\n\n<p>I have also included <a href=\"https://codepen.io/geowan/pen/JjPXKLE\" rel=\"nofollow noreferrer\">this codepen</a> which shows the full code</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1565821114, "post_id": 57502738, "comment_id": 101474408, "body": "Change <code>||</code> to <code>&amp;&amp;</code>."}, {"owner": {"reputation": 7449, "user_id": 1193808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2c02a38397eaca6fa70fe1162f18f4b?s=128&d=identicon&r=PG", "display_name": "Subir Kumar Sao", "link": "https://stackoverflow.com/users/1193808/subir-kumar-sao"}, "edited": false, "score": 1, "creation_date": 1565821204, "post_id": 57502738, "comment_id": 101474428, "body": "+1 on Barmar... To add the <code>!a or !b</code> is making it kind of universal gate.It should be either <code>!(a or b)</code>  or  <code>!a and !b</code>"}, {"owner": {"reputation": 3019, "user_id": 10687857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7vYls.jpg?s=128&g=1", "display_name": "DanStarns", "link": "https://stackoverflow.com/users/10687857/danstarns"}, "edited": false, "score": 1, "creation_date": 1565821301, "post_id": 57502738, "comment_id": 101474451, "body": "use &amp;&amp; , oh and store that getAttribute in a variable, makes things much more readable."}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 11929485, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/51f63e6e9a0193c41afff5cad31f7b2f?s=128&d=identicon&r=PG", "display_name": "Baljinder Singh", "link": "https://stackoverflow.com/users/11929485/baljinder-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1565821221, "creation_date": 1565821221, "answer_id": 57502764, "question_id": 57502738, "link": "https://stackoverflow.com/questions/57502738/if-statement-on-btn-getattrid-with-always-returns-true/57502764#57502764", "title": "if statement on btn.getAttr(&#39;id&#39;) with | | always returns true", "body": "<p>Problem is OR operator. You should use AND Operator instead.\nSay when btn \"reset\" is clicked, the first condition returns false but second condition evaluates true and thus if statement executes.</p>\n"}], "owner": {"reputation": 43, "user_id": 11198823, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--J29ZW6Y2y8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdPVISVQU5YVGIeD6zt9BloR2sO5A/mo/photo.jpg?sz=128", "display_name": "Ethereal Unagi", "link": "https://stackoverflow.com/users/11198823/ethereal-unagi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "closed_date": 1565821104, "accepted_answer_id": 57502764, "answer_count": 1, "score": 0, "last_activity_date": 1565866986, "creation_date": 1565820962, "last_edit_date": 1565866986, "question_id": 57502738, "link": "https://stackoverflow.com/questions/57502738/if-statement-on-btn-getattrid-with-always-returns-true", "closed_reason": "Duplicate", "title": "if statement on btn.getAttr(&#39;id&#39;) with | | always returns true", "body": "<p>Through js, I have been retrieving the ids of buttons on an html page\nand passing them through a function that changes a string. The function contains an if statement that should cancel when certain buttons are clicked but the function never stops.</p>\n\n<p>This is my code:</p>\n\n<pre><code>let buttons = document.querySelectorAll(\"button\")\nbuttons.forEach(function(btn) {\n    btn.addEventListener('click', () =&gt; {\n        if (btn.getAttribute('id') != \"reset\" || btn.getAttribute('id') != \"equals\") {\n            //Do something\n        }\n    })\n})\n</code></pre>\n\n<p>The problem is, even when the id of the btn == \"#reset\" or \"#equals\" the function still goes through. I know the reception of the id is working because I tested what happened when I clicked by logging the button id in js.</p>\n\n<p>This code worked, but is repetitive and doesn't make use of the or operator:</p>\n\n<pre><code>let buttons = document.querySelectorAll(\"button\")\nbuttons.forEach(function(btn) {\n    btn.addEventListener('click', () =&gt; {\n        if (btn.getAttribute('id') != \"reset\") {\n            if (btn.getAttribute('id') != \"equals\") {\n            console.log(btn.getAttribute('id'))\n            document.getElementById(\"content\").textContent += btn.textContent\n    }\n}})\n})\n</code></pre>\n\n<p>I expect the function to not go through when the id has a value of reset or equals. I know the problem is somewhere in the if statement but I can't figure it out.</p>\n"}, {"tags": ["javascript", "canvasjs"], "comments": [{"owner": {"reputation": 192, "user_id": 8660891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZjikM.jpg?s=128&g=1", "display_name": "ariferol01", "link": "https://stackoverflow.com/users/8660891/ariferol01"}, "edited": false, "score": 0, "creation_date": 1565821539, "post_id": 57502725, "comment_id": 101474499, "body": "is chartNumber a string or integer ?"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 11929485, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/51f63e6e9a0193c41afff5cad31f7b2f?s=128&d=identicon&r=PG", "display_name": "Baljinder Singh", "link": "https://stackoverflow.com/users/11929485/baljinder-singh"}, "edited": false, "score": 0, "creation_date": 1565821723, "post_id": 57502817, "comment_id": 101474537, "body": "Perhaps this could be useful: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Node/appendChild\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/Node/appendChild</a>"}, {"owner": {"reputation": 313, "user_id": 10610593, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hLye74ZgaAU/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDhr7X4AzSH1kX_dl9CT6Ry0nyBtA/mo/photo.jpg?sz=128", "display_name": "Steven", "link": "https://stackoverflow.com/users/10610593/steven"}, "edited": false, "score": 0, "creation_date": 1565822658, "post_id": 57502817, "comment_id": 101474718, "body": "Through inspecting elements in the browser, I can see the div blocks with a unique ID is being created. The problem seems to be the variable &quot;chart&quot; is being overwritten? Stepping through the code, I can see that it creates chart 1, deletes it, and then creates chart 2..."}, {"owner": {"reputation": 313, "user_id": 10610593, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hLye74ZgaAU/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDhr7X4AzSH1kX_dl9CT6Ry0nyBtA/mo/photo.jpg?sz=128", "display_name": "Steven", "link": "https://stackoverflow.com/users/10610593/steven"}, "edited": false, "score": 0, "creation_date": 1565824484, "post_id": 57502817, "comment_id": 101475050, "body": "Actually, you were correct. I&#39;ve created a new element using document.createElement(&#39;div&#39;), set the uniqueID, set the CSS, and then called the appendChild() you mentioned. It was able to successfully display all charts!"}], "tags": [], "owner": {"reputation": 51, "user_id": 11929485, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/51f63e6e9a0193c41afff5cad31f7b2f?s=128&d=identicon&r=PG", "display_name": "Baljinder Singh", "link": "https://stackoverflow.com/users/11929485/baljinder-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1565821611, "creation_date": 1565821611, "answer_id": 57502817, "question_id": 57502725, "link": "https://stackoverflow.com/questions/57502725/canvasjs-multiple-charts-created-but-only-one-chart-is-rendered/57502817#57502817", "title": "CanvasJs multiple charts created but only one chart is rendered", "body": "<p>Using innerHTML replaces the contents of div element rather than appending child element. Try using append method.</p>\n"}], "owner": {"reputation": 313, "user_id": 10610593, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hLye74ZgaAU/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDhr7X4AzSH1kX_dl9CT6Ry0nyBtA/mo/photo.jpg?sz=128", "display_name": "Steven", "link": "https://stackoverflow.com/users/10610593/steven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 57502817, "answer_count": 1, "score": 0, "last_activity_date": 1565821611, "creation_date": 1565820897, "question_id": 57502725, "link": "https://stackoverflow.com/questions/57502725/canvasjs-multiple-charts-created-but-only-one-chart-is-rendered", "title": "CanvasJs multiple charts created but only one chart is rendered", "body": "<p>I want to dynamically create a CanvasJS chart depending on N amount of objects from a JSON array. If a JSON array has 3 objects, the web page should be able to display 3 charts.</p>\n\n<pre><code>&lt;div class=\"container-fluid\" id=\"spectraContainers\"&gt;\n &lt;/div&gt;\n</code></pre>\n\n<p>Through the id \"spectraContainers\", I have a javascript function that dynamically creates a new div with a unique id. In that same function, a new chart is created with its unique id. </p>\n\n<pre><code>document.getElementById(\"chartContainers\").innerHTML += '&lt;div class=\"row\"&gt; &lt;div id=\"chart_container_' + chartNumber + '\" style=\"width: 100 %; height: 500px; \"&gt;Container &lt;/div&gt;&lt;/div&gt;';\n\n...\n...\n...\n\nvar chartContainerID = \"chartcontainer_\" + chartNumber;\n        var chart = new CanvasJS.Chart(chartContainerID, {\n            animationEnabled: true,\n            zoomEnabled: true,\n            theme: \"light2\", \n            title: {\n                text: chartTitle,\n            },\n            axisX: {\n                title: \"x axis label\",\n                gridDashType: \"dash\",\n                gridThickness: 2\n            },\n            axisY: {\n                title: \"y axis label\",\n                gridDashType: \"dash\",\n                gridThickness: 2\n            },\n            dataPointMaxWidth: 20,\n            dataPointWidth: 10,\n            data: [{\n                type: \"column\",\n                dataPoints: points\n            }]\n        });\n        chart.render();\n</code></pre>\n\n<p>I've verified that all values are valid. It seems like only ONE canvasJS chart (the third object from the json array) can be rendered in a page within this function. If I were to specifically generate a chart for index 0 or 1 in the json array, the specified index for the chart will be rendered. </p>\n\n<p>I know it's possible to render multiple canvasJs charts by manually creating a new chart variable for each uniqueID. However, I would like to dynamically generate N-amount of charts. I am pretty new to javascript and would appreciate any advice!!</p>\n"}, {"tags": ["javascript", "html", "css", "svg", "canvas"], "answers": [{"tags": [], "owner": {"reputation": 37, "user_id": 11898886, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7Aoyi-Pz7-Y/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rec1-Nyxb5vC2Xxz9JzcqnTJInrRw/photo.jpg?sz=128", "display_name": "Jason T", "link": "https://stackoverflow.com/users/11898886/jason-t"}, "is_accepted": false, "score": 3, "last_activity_date": 1565839134, "last_edit_date": 1565839134, "creation_date": 1565823552, "answer_id": 57503044, "question_id": 57502704, "link": "https://stackoverflow.com/questions/57502704/how-to-draw-a-rectangle-on-svg-with-mouse-move/57503044#57503044", "title": "How to draw a rectangle on SVG with mouse move?", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const svg = document.querySelector('#svg');\r\nconst rect = document.querySelector('#rect');\r\n\r\nlet last_mousex = 0;\r\nlet last_mousey = 0;\r\nlet mousex = 0;\r\nlet mousey = 0;\r\nlet mousedown = false;\r\n\r\n//Mousedown\r\nsvg.onmousedown = ({\r\n  x,\r\n  y\r\n}) =&gt; {\r\n  last_mousex = x;\r\n  last_mousey = y;\r\n  mousedown = true;\r\n};\r\n\r\n//Mouseup\r\nsvg.onmouseup = () =&gt; mousedown = false;\r\n\r\n//Mousemove\r\nsvg.onmousemove = ({\r\n  x,\r\n  y\r\n}) =&gt; {\r\n  mousex = parseInt(x);\r\n  mousey = parseInt(y);\r\n  if (mousedown) {\r\n    const width = Math.abs(mousex - last_mousex);\r\n    const height = Math.abs(mousey - last_mousey);\r\n    rect.setAttribute('x', last_mousex);\r\n    rect.setAttribute('y', last_mousey);\r\n    rect.setAttribute('width', width);\r\n    rect.setAttribute('height', height);\r\n    rect.style.fill = \"none\";\r\n    rect.style.stroke = \"black\";\r\n    rect.style['stroke-width'] = 5;\r\n    svg.innerHTML = \"\";\r\n    svg.appendChild(rect);\r\n  }\r\n};</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>svg {\r\n  cursor: crosshair;\r\n  border: 1px solid #000000;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;svg id=\"svg\" width=\"800\" height=\"500\"&gt;\r\n  &lt;rect id=\"rect\"&gt;&lt;/rect&gt;\r\n&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "is_accepted": true, "score": 2, "last_activity_date": 1565881741, "last_edit_date": 1565881741, "creation_date": 1565828594, "answer_id": 57503541, "question_id": 57502704, "link": "https://stackoverflow.com/questions/57502704/how-to-draw-a-rectangle-on-svg-with-mouse-move/57503541#57503541", "title": "How to draw a rectangle on SVG with mouse move?", "body": "<p>Tweaked Jason's answer to create rect element on the fly</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const svg = document.querySelector('#svg');\r\nconst svgNS = svg.namespaceURI;\r\nconst rect = document.createElementNS(svgNS, 'rect');\r\n\r\nlet last_mousex = 0;\r\nlet last_mousey = 0;\r\nlet mousex = 0;\r\nlet mousey = 0;\r\nlet mousedown = false;\r\n\r\n//Mousedown\r\nsvg.onmousedown = ({\r\n  x,\r\n  y\r\n}) =&gt; {\r\n  last_mousex = x;\r\n  last_mousey = y;\r\n  mousedown = true;\r\n};\r\n\r\n//Mouseup\r\nsvg.onmouseup = () =&gt; mousedown = false;\r\n\r\n//Mousemove\r\nsvg.onmousemove = ({\r\n  x,\r\n  y\r\n}) =&gt; {\r\n  mousex = parseInt(x);\r\n  mousey = parseInt(y);\r\n  if (mousedown) {\r\n    const width = Math.abs(mousex - last_mousex);\r\n    const height = Math.abs(mousey - last_mousey);\r\n    rect.setAttributeNS(null, 'x', last_mousex);\r\n    rect.setAttributeNS(null, 'y', last_mousey);\r\n    rect.setAttributeNS(null, 'width', width);\r\n    rect.setAttributeNS(null, 'height', height);\r\n    rect.setAttributeNS(null, 'fill', \"none\");\r\n    rect.setAttributeNS(null, 'stroke', \"black\");\r\n    rect.setAttributeNS(null, 'stroke-width', 5);\r\n\r\n\r\n\r\n    // svg.innerHTML = \"\";\r\n    svg.appendChild(rect);\r\n  }\r\n};</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>svg {\r\n  cursor: crosshair;\r\n  border: 1px solid #000000;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;svg id=\"svg\" width=\"800\" height=\"500\"&gt;\r\n&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 197, "user_id": 10152097, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ewlsN02pK8w/AAAAAAAAAAI/AAAAAAAAAIU/MdjpSJQQwUk/photo.jpg?sz=128", "display_name": "Donnie Kerr", "link": "https://stackoverflow.com/users/10152097/donnie-kerr"}, "edited": false, "score": 0, "creation_date": 1590504996, "post_id": 59256713, "comment_id": 109701009, "body": "Thank you for sharing @benvc"}], "tags": [], "owner": {"reputation": 12321, "user_id": 9958942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbfa5b660283a00f1c8b9a6ce8d67e1d?s=128&d=identicon&r=PG&f=1", "display_name": "benvc", "link": "https://stackoverflow.com/users/9958942/benvc"}, "is_accepted": false, "score": 5, "last_activity_date": 1579896313, "last_edit_date": 1579896313, "creation_date": 1575926009, "answer_id": 59256713, "question_id": 57502704, "link": "https://stackoverflow.com/questions/57502704/how-to-draw-a-rectangle-on-svg-with-mouse-move/59256713#59256713", "title": "How to draw a rectangle on SVG with mouse move?", "body": "<p>In order to fully mimic the behavior of the <code>canvas</code> approach that enables you to draw a rectangle by clicking and dragging in any direction (i.e. lower right to top left or vice versa), you need to conditionally handle the x, y, width, and height values based on the position of the current mouse coordinates relative to the point of the initial <code>mousedown</code>. In addition, the snippet below includes a function that returns the correct coordinates if you are \"drawing\" on a transformed SVG element (or transformed child element).</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const svg = document.querySelector('#svg');\r\n\r\nconst svgPoint = (elem, x, y) =&gt; {\r\n  let p = svg.createSVGPoint();\r\n  p.x = x;\r\n  p.y = y;\r\n  return p.matrixTransform(elem.getScreenCTM().inverse());\r\n}\r\n\r\nsvg.addEventListener('mousedown', (event) =&gt; {\r\n  const rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\r\n  const start = svgPoint(svg, event.clientX, event.clientY);\r\n\r\n  const drawRect = (e) =&gt; {\r\n    let p = svgPoint(svg, e.clientX, e.clientY);\r\n    let w = Math.abs(p.x - start.x);\r\n    let h = Math.abs(p.y - start.y);\r\n    if (p.x &gt; start.x) {\r\n      p.x = start.x;\r\n    }\r\n\r\n    if (p.y &gt; start.y) {\r\n      p.y = start.y;\r\n    }\r\n\r\n    rect.setAttributeNS(null, 'x', p.x);\r\n    rect.setAttributeNS(null, 'y', p.y);\r\n    rect.setAttributeNS(null, 'width', w);\r\n    rect.setAttributeNS(null, 'height', h);\r\n    svg.appendChild(rect);\r\n  }\r\n\r\n  const endDraw = (e) =&gt; {\r\n    svg.removeEventListener('mousemove', drawRect);\r\n    svg.removeEventListener('mouseup', endDraw);\r\n  }\r\n  \r\n  svg.addEventListener('mousemove', drawRect);\r\n  svg.addEventListener('mouseup', endDraw);\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>svg {\r\n  cursor: crosshair;\r\n  border: 1px solid #000000;\r\n}\r\n\r\nrect {\r\n  fill: none;\r\n  stroke: #000000;\r\n  stroke-width: 10;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;svg id=\"svg\" width=\"800\" height=\"500\"&gt;&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2237, "favorite_count": 0, "accepted_answer_id": 57503541, "answer_count": 3, "score": 3, "last_activity_date": 1579896313, "creation_date": 1565820747, "last_edit_date": 1575926208, "question_id": 57502704, "link": "https://stackoverflow.com/questions/57502704/how-to-draw-a-rectangle-on-svg-with-mouse-move", "title": "How to draw a rectangle on SVG with mouse move?", "body": "<p>I found code on someone's <a href=\"https://jsfiddle.net/richardcwc/ukqhf54k/\" rel=\"nofollow noreferrer\">fiddle</a> to stroke on mouse move (click and move strokes). My requirement is to stroke rectangle on a SVG with mouse move in the same way. Is it possible, if yes, how?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//Canvas\r\nconst canvas = document.getElementById('canvas');\r\nconst ctx = canvas.getContext('2d');\r\n//Variables\r\nlet canvasx = canvas.offsetLeft;\r\nlet canvasy = canvas.offsetTop;\r\nlet last_mousex = 0;\r\nlet last_mousey = 0;\r\nlet mousex = 0;\r\nlet mousey = 0;\r\nlet mousedown = false;\r\n\r\n//Mousedown\r\ncanvas.onmousedown = ({\r\n  clientX,\r\n  clientY\r\n}) =&gt; {\r\n  last_mousex = parseInt(clientX - canvasx);\r\n  last_mousey = parseInt(clientY - canvasy);\r\n  mousedown = true;\r\n};\r\n\r\n//Mouseup\r\ncanvas.onmouseup = () =&gt; mousedown = false;\r\n\r\n\r\n//Mousemove\r\n\r\ncanvas.onmousemove = ({\r\n  clientX,\r\n  clientY\r\n}) =&gt; {\r\n  mousex = parseInt(clientX - canvasx);\r\n  mousey = parseInt(clientY - canvasy);\r\n  if (mousedown) {\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height); //clear canvas\r\n    ctx.beginPath();\r\n    const width = mousex - last_mousex;\r\n    const height = mousey - last_mousey;\r\n    ctx.rect(last_mousex, last_mousey, width, height);\r\n    ctx.strokeStyle = 'black';\r\n    ctx.lineWidth = 10;\r\n    ctx.stroke();\r\n  }\r\n};</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>canvas {\r\n  cursor: crosshair;\r\n  border: 1px solid #000000;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html lang=\"en\"&gt;\r\n\r\n&lt;head&gt;\r\n  &lt;meta charset=\"UTF-8\"&gt;\r\n  &lt;title&gt;Title&lt;/title&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n\r\n  &lt;canvas id=\"canvas\" width=\"800\" height=\"500\"&gt;&lt;/canvas&gt;\r\n\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<pre><code>Some Code// To prevent Stackoverflow error, please ignore\n</code></pre>\n"}, {"tags": ["javascript", "v8", "jit"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1565821214, "post_id": 57502689, "comment_id": 101474433, "body": "JavaScript compiles the entire script, it doesn&#39;t compile it sequentially."}, {"owner": {"reputation": 730, "user_id": 6949187, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/7KqAI.jpg?s=128&g=1", "display_name": "Murad Sofiyev", "link": "https://stackoverflow.com/users/6949187/murad-sofiyev"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1565821804, "post_id": 57502689, "comment_id": 101474556, "body": "@Barmar I understand not compile sequentially. But compiler can see &quot;semantic alansysis&quot; time this variable use before initilised and can stop compile return error. Like first code example"}, {"owner": {"reputation": 730, "user_id": 6949187, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/7KqAI.jpg?s=128&g=1", "display_name": "Murad Sofiyev", "link": "https://stackoverflow.com/users/6949187/murad-sofiyev"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1565822178, "post_id": 57502689, "comment_id": 101474623, "body": "No this is only happened we declare variable with VAR. If you want to access variable declared with LET before initialization this is return error. Uncaught ReferenceError: Cannot access &#39;variableName&#39; before initialization"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1565822192, "post_id": 57502689, "comment_id": 101474627, "body": "Syntax errors are detected during parsing, reference errors are detected while running."}, {"owner": {"reputation": 730, "user_id": 6949187, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/7KqAI.jpg?s=128&g=1", "display_name": "Murad Sofiyev", "link": "https://stackoverflow.com/users/6949187/murad-sofiyev"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1565822245, "post_id": 57502689, "comment_id": 101474637, "body": "But why first example return error? This is also semantic error."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1565822261, "post_id": 57502689, "comment_id": 101474643, "body": "It&#39;s a syntax error to have two <code>let</code> declarations for the same variable."}, {"owner": {"reputation": 730, "user_id": 6949187, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/7KqAI.jpg?s=128&g=1", "display_name": "Murad Sofiyev", "link": "https://stackoverflow.com/users/6949187/murad-sofiyev"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1565822459, "post_id": 57502689, "comment_id": 101474676, "body": "I don&#39;t think. For example we can declare two variable same name with VAR. But this is not syntax error."}, {"owner": {"reputation": 3019, "user_id": 10687857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7vYls.jpg?s=128&g=1", "display_name": "DanStarns", "link": "https://stackoverflow.com/users/10687857/danstarns"}, "edited": false, "score": 0, "creation_date": 1565822682, "post_id": 57502689, "comment_id": 101474723, "body": "<code>let</code> is not hoisted, if you used <code>var variableName</code> <code>console.log</code> would be &#39;undefined&#39;. When the js engine looks up scope it won&#39;t find <code>variableName</code> because its definition is not hoisted."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1565822688, "post_id": 57502689, "comment_id": 101474724, "body": "That&#39;s true. The new declarations in ES6 have different rules than the old <code>var</code> declaration."}, {"owner": {"reputation": 730, "user_id": 6949187, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/7KqAI.jpg?s=128&g=1", "display_name": "Murad Sofiyev", "link": "https://stackoverflow.com/users/6949187/murad-sofiyev"}, "reply_to_user": {"reputation": 3019, "user_id": 10687857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7vYls.jpg?s=128&g=1", "display_name": "DanStarns", "link": "https://stackoverflow.com/users/10687857/danstarns"}, "edited": false, "score": 0, "creation_date": 1565822884, "post_id": 57502689, "comment_id": 101474762, "body": "@DanStarns Yeah bro I know let not hoisted. But problem on there engine also know let not hoisted and engine can say &quot;Bro I can&#39;t compile this shitty code because let not hoisted this is not true semanticly&quot; like my first code snippet."}, {"owner": {"reputation": 3019, "user_id": 10687857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7vYls.jpg?s=128&g=1", "display_name": "DanStarns", "link": "https://stackoverflow.com/users/10687857/danstarns"}, "edited": false, "score": 0, "creation_date": 1565822951, "post_id": 57502689, "comment_id": 101474778, "body": "The code will compile because all the complier is doing... allocating space in memory for your variables &amp; creating an AST &#39;abstract syntax tree&#39; for &#39;scope&#39; but &#39;scope&#39; is only looked up at runtime so hence why you get a runtime error."}, {"owner": {"reputation": 730, "user_id": 6949187, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/7KqAI.jpg?s=128&g=1", "display_name": "Murad Sofiyev", "link": "https://stackoverflow.com/users/6949187/murad-sofiyev"}, "edited": false, "score": 0, "creation_date": 1565823622, "post_id": 57502689, "comment_id": 101474904, "body": "Okay compiler create AST(Abstract Syntax Tree) that&#39;s true. This is happened Syntax Analysis time. But Compiler also have Semantic Analysis and in there AST convert to Annotated Abstract Syntax Tree and in there compiler can see semantic problems. Like my first code example in there code not compile because this is not true semanticly"}], "answers": [{"comments": [{"owner": {"reputation": 730, "user_id": 6949187, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/7KqAI.jpg?s=128&g=1", "display_name": "Murad Sofiyev", "link": "https://stackoverflow.com/users/6949187/murad-sofiyev"}, "edited": false, "score": 0, "creation_date": 1565823403, "post_id": 57502979, "comment_id": 101474859, "body": "Thanks for answer. But actually I don&#39;t understand your first sentence. What is relationship between first code exmaple and global environment."}, {"owner": {"reputation": 3736, "user_id": 1396902, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/965ffa2b979b89fe0e2b946f1c9dff32?s=128&d=identicon&r=PG", "display_name": "Jon Jaques", "link": "https://stackoverflow.com/users/1396902/jon-jaques"}, "reply_to_user": {"reputation": 730, "user_id": 6949187, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/7KqAI.jpg?s=128&g=1", "display_name": "Murad Sofiyev", "link": "https://stackoverflow.com/users/6949187/murad-sofiyev"}, "edited": false, "score": 0, "creation_date": 1565823927, "post_id": 57502979, "comment_id": 101474951, "body": "@andreas-rossberg can probably answer more correctly than I, but you can think of every closure or function you write as it&#39;s own &quot;environment&quot;. Variables declared inside of that environment &quot;close over&quot; variables or bindings in higher environments. So when you write some javascript in a &lt;script&gt; tag, that JS is executing in the global environment as defined by the ^ host."}, {"owner": {"reputation": 3736, "user_id": 1396902, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/965ffa2b979b89fe0e2b946f1c9dff32?s=128&d=identicon&r=PG", "display_name": "Jon Jaques", "link": "https://stackoverflow.com/users/1396902/jon-jaques"}, "reply_to_user": {"reputation": 730, "user_id": 6949187, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/7KqAI.jpg?s=128&g=1", "display_name": "Murad Sofiyev", "link": "https://stackoverflow.com/users/6949187/murad-sofiyev"}, "edited": false, "score": 0, "creation_date": 1565824022, "post_id": 57502979, "comment_id": 101474972, "body": "So when you give the parser some random bit of JS as Andreas mentioned, it can easily detect a repeated variable declaration, but it does not have the knowledge to detect references to undefined variables, because the global environment can vary wildly."}, {"owner": {"reputation": 3736, "user_id": 1396902, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/965ffa2b979b89fe0e2b946f1c9dff32?s=128&d=identicon&r=PG", "display_name": "Jon Jaques", "link": "https://stackoverflow.com/users/1396902/jon-jaques"}, "reply_to_user": {"reputation": 730, "user_id": 6949187, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/7KqAI.jpg?s=128&g=1", "display_name": "Murad Sofiyev", "link": "https://stackoverflow.com/users/6949187/murad-sofiyev"}, "edited": false, "score": 0, "creation_date": 1565824453, "post_id": 57502979, "comment_id": 101475044, "body": "The above is a browser example. But node.js is very similar, instead when you write some code to a file and run <code>node code.js</code>. That code is executed inside of an environment that looks like this: <a href=\"https://blog.risingstack.com/node-js-at-scale-module-system-commonjs-require/#whatisthemodulesystem\" rel=\"nofollow noreferrer\">blog.risingstack.com/&hellip;</a> (third code snippet) One could reasonably make the argument that NodeJS <i>could</i> enable an option that would throw a syntax error if you reference undefined vars in the context of a module, but as mentioned it is harder than it sounds and could lead to unpredictable behavior."}, {"owner": {"reputation": 730, "user_id": 6949187, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/7KqAI.jpg?s=128&g=1", "display_name": "Murad Sofiyev", "link": "https://stackoverflow.com/users/6949187/murad-sofiyev"}, "edited": false, "score": 0, "creation_date": 1565824487, "post_id": 57502979, "comment_id": 101475051, "body": "Yeah I answer also @andreas-rossberg. Global environment can vary wildly but problem in there JavaScript can know variable declared with LET in scope and when we decalare variable with let this is create TDZ(Temproary Dead Zone) and compiler can see this is declaration create TDZ in this scope and variable can&#39;t use before initilasing. And we don&#39;t need worry about Global Scope"}, {"owner": {"reputation": 730, "user_id": 6949187, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/7KqAI.jpg?s=128&g=1", "display_name": "Murad Sofiyev", "link": "https://stackoverflow.com/users/6949187/murad-sofiyev"}, "edited": false, "score": 0, "creation_date": 1565824688, "post_id": 57502979, "comment_id": 101475088, "body": "Problem in there we don&#39;t need wory what happened Global Scope or variable declared with eval. In there problem AST(Abstract Syntax Tree) analysis time compiler can saw variable declared with LET and before using not acceptible. I think  V8 team can fix this very easy way"}, {"owner": {"reputation": 3736, "user_id": 1396902, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/965ffa2b979b89fe0e2b946f1c9dff32?s=128&d=identicon&r=PG", "display_name": "Jon Jaques", "link": "https://stackoverflow.com/users/1396902/jon-jaques"}, "reply_to_user": {"reputation": 730, "user_id": 6949187, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/7KqAI.jpg?s=128&g=1", "display_name": "Murad Sofiyev", "link": "https://stackoverflow.com/users/6949187/murad-sofiyev"}, "edited": false, "score": 1, "creation_date": 1565824774, "post_id": 57502979, "comment_id": 101475102, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/197973/discussion-between-jon-jaques-and-murad-sofiyev\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 3736, "user_id": 1396902, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/965ffa2b979b89fe0e2b946f1c9dff32?s=128&d=identicon&r=PG", "display_name": "Jon Jaques", "link": "https://stackoverflow.com/users/1396902/jon-jaques"}, "is_accepted": false, "score": 0, "last_activity_date": 1565823521, "last_edit_date": 1565823521, "creation_date": 1565822887, "answer_id": 57502979, "question_id": 57502689, "link": "https://stackoverflow.com/questions/57502689/why-javascript-engine-compile-let-variable-before-initialization/57502979#57502979", "title": "Why JavaScript Engine Compile LET variable before initialization?", "body": "<p>The reason is because JavaScript runs in a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/About_JavaScript#What_JavaScript_implementations_are_available\" rel=\"nofollow noreferrer\">host environment</a>. </p>\n\n<p>The V8 JavaScript compiler/interpreter, strictly-speaking, cannot know at <em>parsetime</em> that <code>variableName</code> does not already exist in the global environment. So while declaring a <code>const</code> or <code>let</code> twice within the same function scope (or environment) is a <code>SyntaxError</code>, the 2nd example you gave is a <em>runtime</em> <code>ReferenceError</code>, because it is not generated until the code is executed.</p>\n\n<p>TypeScript can detect these things however, because it has knowledge of the environment in which it runs (via configuration), so it will correctly complain and refuse to compile references to global variables it doesn't know about.</p>\n\n<p>Hope that makes sense.  </p>\n"}, {"comments": [{"owner": {"reputation": 730, "user_id": 6949187, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/7KqAI.jpg?s=128&g=1", "display_name": "Murad Sofiyev", "link": "https://stackoverflow.com/users/6949187/murad-sofiyev"}, "edited": false, "score": 0, "creation_date": 1565824157, "post_id": 57503016, "comment_id": 101474991, "body": "Okay it makes a little more sense. But I think we forget one thing. For example in your snippet that&#39;s true we don&#39;t need detect variable is used before initialisation. But JavaScript can see this variable declared with LET and in one scope you can&#39;t use variable before LET declaration. And I think this not problem check only TDZ(Temproary Dead Zone) in compile time."}, {"owner": {"reputation": 730, "user_id": 6949187, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/7KqAI.jpg?s=128&g=1", "display_name": "Murad Sofiyev", "link": "https://stackoverflow.com/users/6949187/murad-sofiyev"}, "edited": false, "score": 0, "creation_date": 1565830073, "post_id": 57503016, "comment_id": 101475942, "body": "And also I forget say V8 also check all variable is variable declared in current scope or not and if variable not declared in scope engine search variable parent scope if found it add in Closure object. This process happened on compile time. If you don&#39;t believe me I can show this via chrome developer tool"}, {"owner": {"reputation": 31189, "user_id": 1097780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8f01ad795c29c3d05ad26ee47ea6069?s=128&d=identicon&r=PG", "display_name": "Andreas Rossberg", "link": "https://stackoverflow.com/users/1097780/andreas-rossberg"}, "reply_to_user": {"reputation": 730, "user_id": 6949187, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/7KqAI.jpg?s=128&g=1", "display_name": "Murad Sofiyev", "link": "https://stackoverflow.com/users/6949187/murad-sofiyev"}, "edited": false, "score": 0, "creation_date": 1565850846, "post_id": 57503016, "comment_id": 101479449, "body": "As I said, the JS committee didn&#39;t want to introduce incoherent rules -- either something is always checked statically or never. Disclosure: I was on that committee. And I implemented <code>let</code> in V8, so I know what it does. ;)"}, {"owner": {"reputation": 730, "user_id": 6949187, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/7KqAI.jpg?s=128&g=1", "display_name": "Murad Sofiyev", "link": "https://stackoverflow.com/users/6949187/murad-sofiyev"}, "edited": false, "score": 0, "creation_date": 1565852313, "post_id": 57503016, "comment_id": 101479871, "body": "OMG So cool :)  But everywhere have static rules :d I think you must think about this. When we declare variable same name with let and Ecma International also say we can&#39;t do it I think this problem can solve on compiler time :)"}, {"owner": {"reputation": 730, "user_id": 6949187, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/7KqAI.jpg?s=128&g=1", "display_name": "Murad Sofiyev", "link": "https://stackoverflow.com/users/6949187/murad-sofiyev"}, "edited": false, "score": 0, "creation_date": 1565852355, "post_id": 57503016, "comment_id": 101479887, "body": "And my last question Why you don&#39;t implement for performance issue or another reason?"}, {"owner": {"reputation": 31189, "user_id": 1097780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8f01ad795c29c3d05ad26ee47ea6069?s=128&d=identicon&r=PG", "display_name": "Andreas Rossberg", "link": "https://stackoverflow.com/users/1097780/andreas-rossberg"}, "reply_to_user": {"reputation": 730, "user_id": 6949187, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/7KqAI.jpg?s=128&g=1", "display_name": "Murad Sofiyev", "link": "https://stackoverflow.com/users/6949187/murad-sofiyev"}, "edited": false, "score": 0, "creation_date": 1565860417, "post_id": 57503016, "comment_id": 101482673, "body": "Not sure I understand the question. V8 implements what the standard prescribes. There is no other choice."}], "tags": [], "owner": {"reputation": 31189, "user_id": 1097780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8f01ad795c29c3d05ad26ee47ea6069?s=128&d=identicon&r=PG", "display_name": "Andreas Rossberg", "link": "https://stackoverflow.com/users/1097780/andreas-rossberg"}, "is_accepted": false, "score": 0, "last_activity_date": 1565823330, "creation_date": 1565823330, "answer_id": 57503016, "question_id": 57502689, "link": "https://stackoverflow.com/questions/57502689/why-javascript-engine-compile-let-variable-before-initialization/57503016#57503016", "title": "Why JavaScript Engine Compile LET variable before initialization?", "body": "<p>Your example is easy, but here is a slightly more interesting one:</p>\n\n<pre><code>function f() { return g }\nlet h = f()\nif (b) h()\nlet a = 7\nfunction g() { return a }\n</code></pre>\n\n<p>In general, it is highly non-trivial (even undecidable) to detect in advance whether a variable is used before initialisation. So it was deemed too complicated and ultimately futile to try, and it would be inconsistent if it was only rejected in some cases.</p>\n\n<p>In contrast, detecting duplicate bindings is always trivial.</p>\n"}], "owner": {"reputation": 730, "user_id": 6949187, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/7KqAI.jpg?s=128&g=1", "display_name": "Murad Sofiyev", "link": "https://stackoverflow.com/users/6949187/murad-sofiyev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 292, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1565823521, "creation_date": 1565820667, "last_edit_date": 1565822154, "question_id": 57502689, "link": "https://stackoverflow.com/questions/57502689/why-javascript-engine-compile-let-variable-before-initialization", "title": "Why JavaScript Engine Compile LET variable before initialization?", "body": "<p>When we write code like bellow snippet JavaScript don't compile this code and return <em>Uncaught SyntaxError: Identifier 'variableName' has already been declared</em> and we don't see \"Hello World\" in console</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function functionName() {\r\n  console.log(\"Hello World\");\r\n}\r\n\r\nfunctionName();\r\nlet variableName = \"Murad\";\r\nlet variableName = \"Tofiq\";</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>But when we write code like bellow snippet, code is compiled but return error in execution time and we see \"Hello World\" in console.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function functionName() {\r\n  console.log(\"Hello World\");\r\n}\r\n\r\nfunctionName();\r\nconsole.log(variableName);\r\nlet variableName = \"Tofiq\";</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>My question is JavaScript compiler know semantic analysis time we declare variable with let this is create TDZ(temproary dead zone) and this code return error. But why this code compile? Is this bug?</p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 73217, "user_id": 379235, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qSUBs.png?s=128&g=1", "display_name": "daydreamer", "link": "https://stackoverflow.com/users/379235/daydreamer"}, "edited": false, "score": 1, "creation_date": 1565820751, "post_id": 57502596, "comment_id": 101474317, "body": "What is the current output? Also, can you reproduce this in Codesandbox for someone to play around?"}, {"owner": {"reputation": 945, "user_id": 775686, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qLvzX.jpg?s=128&g=1", "display_name": "gtzilla", "link": "https://stackoverflow.com/users/775686/gtzilla"}, "edited": false, "score": 0, "creation_date": 1565821051, "post_id": 57502596, "comment_id": 101474385, "body": "You could fix this a few ways. One option is to alter the randomAcidName.json to be <code>module.exports = [</code> instead of just <code>[</code>. thus exporting the array. Then, instead of import in your JS file, you could say <code>const RandomAcidName = require(&quot;..&#47;..&#47;..&#47;src&#47;randomAcidName.json&quot;);</code> instead of the <code>import RandomAcidName ...</code> line"}, {"owner": {"reputation": 57, "user_id": 11047471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d500ca5002dffdca5289991997ca3c8?s=128&d=identicon&r=PG&f=1", "display_name": "Rezpo", "link": "https://stackoverflow.com/users/11047471/rezpo"}, "reply_to_user": {"reputation": 73217, "user_id": 379235, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qSUBs.png?s=128&g=1", "display_name": "daydreamer", "link": "https://stackoverflow.com/users/379235/daydreamer"}, "edited": false, "score": 0, "creation_date": 1565886623, "post_id": 57502596, "comment_id": 101494063, "body": "@daydreamer <a href=\"https://repl.it/@rezpo/nameJuggler\" rel=\"nofollow noreferrer\">In this link</a> is a replica of my project..."}], "answers": [{"tags": [], "owner": {"reputation": 320, "user_id": 10893308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iPDNN.png?s=128&g=1", "display_name": "tytyf", "link": "https://stackoverflow.com/users/10893308/tytyf"}, "is_accepted": true, "score": 0, "last_activity_date": 1565889953, "creation_date": 1565889953, "answer_id": 57513682, "question_id": 57502596, "link": "https://stackoverflow.com/questions/57502596/how-to-change-state-every-x-seconds/57513682#57513682", "title": "How to change state every x seconds", "body": "<p>The problem is</p>\n\n<pre><code>let nameJuggler = [this.state.sudoNameId % RandomAcidName.length];\n</code></pre>\n\n<p>this.state.sudoNameId won't be unique because it's just a number set in the parent component and will be provided to all of the AvatarDisplays not dynamically changing.\nAn easy fix would just make the .map also have an index so you can add the index to the this.state.sudoNameId which will make each number unique.\nSee code below</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    return (\n      &lt;main className=\"container__grid\"&gt;\n        {this.state.acidos.map((item, index) =&gt; {\n            let nameJuggler =\n            RandomAcidName[(this.state.sudoNameId + index) % RandomAcidName.length];\n          return (\n          &lt;AvatarDisplay\n            photo={item.acidphoto}\n            name={nameJuggler}\n            birth={item.birthdate}\n            id={item.acidid}\n            cumple={\n              item.birthdate === fullTodayDate ? (\n                &lt;img\n                  src=\"https://via.placeholder.com/40x40\"\n                  alt=\"feliz cumplea\u00f1os\"\n                  className=\"container__position-absolute avatar__birth-date\"\n                /&gt;\n              ) : null\n            }\n          /&gt;\n        )\n        })}\n      &lt;/main&gt;\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 11047471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d500ca5002dffdca5289991997ca3c8?s=128&d=identicon&r=PG&f=1", "display_name": "Rezpo", "link": "https://stackoverflow.com/users/11047471/rezpo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 57513682, "answer_count": 1, "score": 0, "last_activity_date": 1565889953, "creation_date": 1565820006, "last_edit_date": 1565886569, "question_id": 57502596, "link": "https://stackoverflow.com/questions/57502596/how-to-change-state-every-x-seconds", "title": "How to change state every x seconds", "body": "<p>I need to change the name of every avatar every X seconds, I have follow this <a href=\"https://stackoverflow.com/questions/42094060/changing-shuffling-text-every-1-5-second-in-a-react-component/42096287\">solution</a> and it works fine but, right now its changing all the names to the same name from <strong>RandomAcidName</strong> array.</p>\n\n<p>I imagine that I need to iterate through this list also, so each name is passing just once to every avatar.</p>\n\n<p>Here is my code</p>\n\n<p><strong>nameJuggler</strong> is passing the name to each avatar</p>\n\n<pre><code>import React, { Component } from \"react\";\nimport \"./Avatar.scss\";\nimport AcidData from \"../Acidsdata/Acids-data.json\";\nimport RandomAcidName from \"../../../src/randomAcidName.json\";\n\nconst getDate = new Date();\nconst getDay = getDate.getDate();\nconst getMonth = getDate.getMonth() + 1;\nconst fullTodayDate = getDay + \"/\" + getMonth;\n\nconst AvatarDisplay = props =&gt; {\n  return (\n    &lt;div key={props.id} className=\"container__position-relative\"&gt;\n      &lt;img src={props.photo} alt={props.name} className=\"avatar__img\" /&gt;\n      &lt;div className=\"container__position-absolute avatar__name\"&gt;\n        &lt;span&gt;{props.name}&lt;/span&gt;\n      &lt;/div&gt;\n      {props.cumple}\n    &lt;/div&gt;\n  );\n};\n\nclass AcidPoblation extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sudoNameId: 0,\n      acidos: AcidData,\n      randomName: RandomAcidName\n    };\n  }\n\n  componentDidMount() {\n    this.changeName = setInterval(() =&gt; {\n      let currentSudoNameId = this.state.sudoNameId;\n\n      this.setState({\n        sudoNameId: currentSudoNameId + 1\n      });\n    }, 1500);\n  }\n\n  componentDidUnmount() {\n    clearInterval(this.changeName);\n  }\n\n  render() {\n    let nameJuggler =\n      RandomAcidName[this.state.sudoNameId % RandomAcidName.length];\n\n    return (\n      &lt;main className=\"container__grid\"&gt;\n        {this.state.acidos.map(item =&gt; (\n          &lt;AvatarDisplay\n            photo={item.acidphoto}\n            name={nameJuggler}\n            birth={item.birthdate}\n            id={item.acidid}\n            cumple={\n              item.birthdate === fullTodayDate ? (\n                &lt;img\n                  src=\"https://via.placeholder.com/40x40\"\n                  alt=\"feliz cumplea\u00f1os\"\n                  className=\"container__position-absolute avatar__birth-date\"\n                /&gt;\n              ) : null\n            }\n          /&gt;\n        ))}\n      &lt;/main&gt;\n    );\n  }\n}\n\nexport default AcidPoblation;\n\n</code></pre>\n\n<p>Here is the Json with the names</p>\n\n<pre><code>\n[\n\n  \"Anderson\",\n  \"Ashwoon\",\n  \"Aikin\",\n  \"Bateman\",\n  \"Bongard\",\n  \"Bowers\",\n  \"Boyd\",\n  \"Cannon\",\n  \"Cast\",\n  \"Deitz\",\n  \"Dewalt\",\n  \"Ebner\",\n  \"Frick\",\n  \"Hancock\",\n  \"Haworth\",\n  \"Hesch\",\n  \"Hoffman\",\n  \"Kassing\",\n  \"Knutson\",\n  \"Lawless\",\n  \"Lawicki\",\n  \"Mccord\",\n  \"McCormack\",\n  \"Miller\",\n  \"Myers\",\n  \"Nugent\",\n  \"Ortiz\",\n  \"Orwig\",\n  \"Ory\",\n  \"Paiser\",\n  \"Pak\",\n  \"Pettigrew\",\n  \"Quinn\",\n  \"Quizoz\",\n  \"Ramachandran\",\n  \"Resnick\",\n  \"Sagar\",\n  \"Schickowski\",\n  \"Schiebel\",\n  \"Sellon\",\n  \"Severson\",\n  \"Shaffer\",\n  \"Solberg\",\n  \"Soloman\",\n  \"Sonderling\",\n  \"Soukup\",\n  \"Soulis\",\n  \"Stahl\",\n  \"Sweeney\",\n  \"Tandy\",\n  \"Trebil\",\n  \"Trusela\",\n  \"Trussel\",\n  \"Turco\",\n  \"Uddin\",\n  \"Uflan\",\n  \"Ulrich\",\n  \"Upson\",\n  \"Vader\",\n  \"Vail\",\n  \"Valente\",\n  \"Van Zandt\",\n  \"Vanderpoel\",\n  \"Ventotla\",\n  \"Vogal\",\n  \"Wagle\",\n  \"Wagner\",\n  \"Wakefield\",\n  \"Weinstein\",\n  \"Weiss\",\n  \"Woo\",\n  \"Yang\",\n  \"Yates\",\n  \"Yocum\",\n  \"Zeaser\",\n  \"Zeller\",\n  \"Ziegler\",\n  \"Bauer\",\n  \"Baxster\",\n  \"Casal\",\n  \"Cataldi\",\n  \"Caswell\",\n  \"Celedon\",\n  \"Chambers\",\n  \"Chapman\",\n  \"Christensen\",\n  \"Darnell\",\n  \"Davidson\",\n  \"Davis\",\n  \"DeLorenzo\",\n  \"Dinkins\",\n  \"Doran\",\n  \"Dugelman\",\n  \"Dugan\",\n  \"Duffman\",\n  \"Eastman\",\n  \"Ferro\",\n  \"Ferry\",\n  \"Fletcher\",\n  \"Fietzer\",\n  \"Hylan\",\n  \"Hydinger\",\n  \"Illingsworth\",\n  \"Ingram\",\n  \"Irwin\",\n  \"Jagtap\",\n  \"Jenson\",\n  \"Johnson\",\n  \"Johnsen\",\n  \"Jones\",\n  \"Jurgenson\",\n  \"Kalleg\",\n  \"Kaskel\",\n  \"Keller\",\n  \"Leisinger\",\n  \"LePage\",\n  \"Lewis\",\n  \"Linde\",\n  \"Lulloff\",\n  \"Maki\",\n  \"Martin\",\n  \"McGinnis\",\n  \"Mills\",\n  \"Moody\",\n  \"Moore\",\n  \"Napier\",\n  \"Nelson\",\n  \"Norquist\",\n  \"Nuttle\",\n  \"Olson\",\n  \"Ostrander\",\n  \"Reamer\",\n  \"Reardon\",\n  \"Reyes\",\n  \"Rice\",\n  \"Ripka\",\n  \"Roberts\",\n  \"Rogers\",\n  \"Root\",\n  \"Sandstrom\",\n  \"Sawyer\",\n  \"Schlicht\",\n  \"Schmitt\",\n  \"Schwager\",\n  \"Schutz\",\n  \"Schuster\",\n  \"Tapia\",\n  \"Thompson\",\n  \"Tiernan\",\n  \"Tisler\"\n\n]\n\n\n</code></pre>\n\n<p>I need that every name is assing just once.</p>\n\n<p><a href=\"https://repl.it/@rezpo/nameJuggler\" rel=\"nofollow noreferrer\">In this link</a> is a replica of my project...</p>\n"}, {"tags": ["javascript", "return", "break"], "comments": [{"owner": {"reputation": 793, "user_id": 3755425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wpwGb.png?s=128&g=1", "display_name": "Mohrn", "link": "https://stackoverflow.com/users/3755425/mohrn"}, "edited": false, "score": 0, "creation_date": 1565822535, "post_id": 57502550, "comment_id": 101474693, "body": "You&#39;re not supposed to move the rover oncee for every obstacle, right?"}, {"owner": {"reputation": 1141, "user_id": 1088949, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/37111ce59d5298f8ddde0922ac8a26ad?s=128&d=identicon&r=PG", "display_name": "Kristina Bressler", "link": "https://stackoverflow.com/users/1088949/kristina-bressler"}, "reply_to_user": {"reputation": 793, "user_id": 3755425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wpwGb.png?s=128&g=1", "display_name": "Mohrn", "link": "https://stackoverflow.com/users/3755425/mohrn"}, "edited": false, "score": 0, "creation_date": 1565823503, "post_id": 57502550, "comment_id": 101474877, "body": "The instructions I read just said to stop the rover when it encounters the obstacles and say, &quot;Obstacle found!&quot;. It didn&#39;t say to program it to move around it and continue the commands"}, {"owner": {"reputation": 432, "user_id": 10554218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9050045d6b9fcd4c3038f2ae4c3cab2?s=128&d=identicon&r=PG&f=1", "display_name": "PHPNoob", "link": "https://stackoverflow.com/users/10554218/phpnoob"}, "edited": false, "score": 0, "creation_date": 1565836788, "post_id": 57502550, "comment_id": 101477088, "body": "If you want the loop to stop when a condition is met, then you should be using a while loop. it will break the loop when the condition is met."}], "answers": [{"comments": [{"owner": {"reputation": 1141, "user_id": 1088949, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/37111ce59d5298f8ddde0922ac8a26ad?s=128&d=identicon&r=PG", "display_name": "Kristina Bressler", "link": "https://stackoverflow.com/users/1088949/kristina-bressler"}, "edited": false, "score": 0, "creation_date": 1565820712, "post_id": 57502638, "comment_id": 101474302, "body": "Oh it works by stopping the loop when the rover encounters an obstacle! However, when I checked the console, it didn&#39;t show the <code>console.log(&quot;Obstacle was found!&quot;);</code> How do I fix that?"}, {"owner": {"reputation": 793, "user_id": 3755425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wpwGb.png?s=128&g=1", "display_name": "Mohrn", "link": "https://stackoverflow.com/users/3755425/mohrn"}, "reply_to_user": {"reputation": 1141, "user_id": 1088949, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/37111ce59d5298f8ddde0922ac8a26ad?s=128&d=identicon&r=PG", "display_name": "Kristina Bressler", "link": "https://stackoverflow.com/users/1088949/kristina-bressler"}, "edited": false, "score": 0, "creation_date": 1565823940, "post_id": 57502638, "comment_id": 101474957, "body": "I updated my answer with a correctly implemented <code>moveForward</code>."}, {"owner": {"reputation": 1141, "user_id": 1088949, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/37111ce59d5298f8ddde0922ac8a26ad?s=128&d=identicon&r=PG", "display_name": "Kristina Bressler", "link": "https://stackoverflow.com/users/1088949/kristina-bressler"}, "edited": false, "score": 0, "creation_date": 1565916934, "post_id": 57502638, "comment_id": 101503275, "body": "I tried to check out <code>obstacleList</code> in <code>console.log(obstaclesList);</code> but it didn&#39;t display any array?? How do I check it out?"}, {"owner": {"reputation": 793, "user_id": 3755425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wpwGb.png?s=128&g=1", "display_name": "Mohrn", "link": "https://stackoverflow.com/users/3755425/mohrn"}, "reply_to_user": {"reputation": 1141, "user_id": 1088949, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/37111ce59d5298f8ddde0922ac8a26ad?s=128&d=identicon&r=PG", "display_name": "Kristina Bressler", "link": "https://stackoverflow.com/users/1088949/kristina-bressler"}, "edited": false, "score": 0, "creation_date": 1566269760, "post_id": 57502638, "comment_id": 101593548, "body": "That&#39;s because you misspelled <code>obstacleList</code>. I added a <code>console.log</code>"}], "tags": [], "owner": {"reputation": 793, "user_id": 3755425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wpwGb.png?s=128&g=1", "display_name": "Mohrn", "link": "https://stackoverflow.com/users/3755425/mohrn"}, "is_accepted": false, "score": 0, "last_activity_date": 1566269721, "last_edit_date": 1566269721, "creation_date": 1565820238, "answer_id": 57502638, "question_id": 57502550, "link": "https://stackoverflow.com/questions/57502550/how-do-i-stop-this-loop-in-mars-rover-kata/57502638#57502638", "title": "How do I stop this loop in Mars Rover Kata?", "body": "<p>Name the loop and break from it</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function moveForward(rover) {\n  console.log(\"moveForward was called\");\n  obstacleListLoop: for (let k = 0; k &lt; obstaclesList.length; k++) {\n    switch (rover.direction) {\n      case \"N\":\n        if (rover.y &lt;= 0) {\n          console.log(\"You can't place the rover outside of the 10x10 grid!\");\n        } else if (rover.y === obstaclesList[k].j) {\n          console.log(\"Obstacle was found!\");\n          break obstacleListLoop;\n        } else {\n          rover.y--;\n          console.log(\n            \"Rover moved up. The position is now \" + rover.x + \", \" + rover.y\n          );\n        }\n        break;\n      case \"W\":\n        if (rover.x &lt;= 0) {\n          console.log(\"You can't place the rover outside of the 10x10 grid!\");\n        } else if (rover.x === obstaclesList[k].i) {\n          console.log(\"Obstacle was found!\");\n          break obstacleListLoop;\n        } else {\n          rover.x--;\n          console.log(\n            \"Rover moved left. The position is now \" + rover.x + \", \" + rover.y\n          );\n        }\n        break;\n      case \"S\":\n        if (rover.y &gt;= 10) {\n          console.log(\"You can't place the rover outside of the 10x10 grid!\");\n        } else if (rover.y === obstaclesList[k].j) {\n          console.log(\"Obstacle was found!\");\n          break obstacleListLoop;\n        } else {\n          rover.y++;\n          console.log(\n            \"Rover moved down. The position is now \" + rover.x + \", \" + rover.y\n          );\n        }\n        break;\n      case \"E\":\n        if (rover.x &gt;= 10) {\n          console.log(\"You can't place the rover outside of the 10x10 grid!\");\n        } else if (rover.x === obstaclesList[k].i) {\n          console.log(\"Obstacle was found!\");\n          break obstacleListLoop;\n        } else {\n          rover.x++;\n          console.log(\n            \"Rover moved right. The position is now \" + rover.x + \", \" + rover.y\n          );\n        }\n        break;\n    }\n  }\n  roverMars.travelLog.push(\"x:\" + rover.x + \" y:\" + rover.y);\n}\n</code></pre>\n\n<p>However, there's errors in your code (and there's some room for quality improvement). In <code>moveForward</code> you iterate over the obstacles and move once for each obstacle. Here's a version of <code>moveForward</code> that moves once and has better readability and closer is to idiomatic Javascript. Note that we no longer have the need to be able to break out of a nested loop. Also note that <code>Array.some</code> breaks the first time the method evaluates true for an element (i.e our first collision). I'd suggest you rewrite the other three <code>move</code> functions in the same style, or even better, consolidate them into one function. Good luck!</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const roverMars = {\r\n  direction: \"N\",\r\n  x: 1,\r\n  y: 2,\r\n  travelLog: [\"x:0 y:0\"]\r\n};\r\n\r\nconst testBoard = [\r\n  [null, \"Rock2\", null, null, null, null, null, null, null, null],\r\n  [null, null, null, null, null, null, null, null, null, null],\r\n  [null, null, null, null, null, null, \"Bottle\", null, null, null],\r\n  [null, null, null, null, null, null, null, null, null, null],\r\n  [null, null, null, null, null, null, null, null, null, null],\r\n  [null, null, null, \"Rock\", null, null, null, null, null, null],\r\n  [null, null, null, null, null, null, null, null, null, null],\r\n  [null, null, null, null, null, null, null, \"Statue\", null, null],\r\n  [null, null, null, null, null, null, null, null, null, null],\r\n  [null, null, null, null, null, null, null, null, null, null]\r\n];\r\n\r\nconst obstacleList = testBoard.reduce(\r\n  (acc, row, y) =&gt;\r\n    acc.concat(\r\n      row\r\n        .map((column, x) =&gt; (column === null ? null : x))\r\n        .filter(x =&gt; x !== null)\r\n        .map(x =&gt; ({ x, y }))\r\n    ),\r\n  []\r\n);\r\n\r\nconsole.log(`Obstacles: ${obstacleList.map(({ x, y }) =&gt; `x: ${x} y: ${y}`).join(', ')}`)\r\n\r\nfunction moveForward(rover) {\r\n  const crashedWithObstacle = ({ x: roverX, y: roverY }) =&gt; ({ x, y }) =&gt;\r\n    roverX === x &amp;&amp; roverY === y;\r\n  const newPosition = { x: rover.x, y: rover.y };\r\n\r\n  let moveDirection;\r\n  switch (rover.direction) {\r\n    case \"N\":\r\n      newPosition.y--;\r\n      moveDirection = \"up\";\r\n      break;\r\n    case \"E\":\r\n      newPosition.x++;\r\n      moveDirection = \"right\";\r\n      break;\r\n    case \"S\":\r\n      newPosition.y++;\r\n      moveDirection = \"down\";\r\n      break;\r\n    case \"W\":\r\n      newPosition.x--;\r\n      moveDirection = \"left\";\r\n      break;\r\n  }\r\n\r\n  if (\r\n    newPosition.x &lt; 0 ||\r\n    newPosition.x &gt; 9 ||\r\n    newPosition.y &lt; 0 ||\r\n    newPosition.y &gt; 9\r\n  ) {\r\n    console.log(\"You can't place the rover outside of the 10x10 grid!\");\r\n  } else if (obstacleList.some(crashedWithObstacle(newPosition))) {\r\n    console.log(\"Obstacle was found!\");\r\n  } else {\r\n    rover.x = newPosition.x;\r\n    rover.y = newPosition.y;\r\n    console.log(\r\n      `Rover moved ${moveDirection}. The position is now ${rover.x}, ${rover.y}`\r\n    );\r\n  }\r\n  roverMars.travelLog.push(`x:${rover.x} y:${rover.y}`);\r\n}\r\n\r\nmoveForward(roverMars);\r\nmoveForward(roverMars);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1141, "user_id": 1088949, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/37111ce59d5298f8ddde0922ac8a26ad?s=128&d=identicon&r=PG", "display_name": "Kristina Bressler", "link": "https://stackoverflow.com/users/1088949/kristina-bressler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 329, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566269721, "creation_date": 1565819738, "question_id": 57502550, "link": "https://stackoverflow.com/questions/57502550/how-do-i-stop-this-loop-in-mars-rover-kata", "title": "How do I stop this loop in Mars Rover Kata?", "body": "<p>In this loop, I'm trying to stop the loop from running once I meet a certain condition such as encountering an obstacle.</p>\n\n<p>Here's the code in question:</p>\n\n<pre><code>function moveForward(rover){\n  console.log(\"moveForward was called\");\n  for(let k = 0; k &lt; obstaclesList.length; k++){\n  switch(rover.direction) {\n    case \"N\": if(rover.y &lt;= 0) { \n      console.log(\"You can't place the rover outside of the 10x10 grid!\");\n      } else if(rover.y === obstaclesList[k].j) {\n      console.log(\"Obstacle was found!\");\n      return;\n      } else {\n      rover.y--;\n      console.log(\"Rover moved up. The position is now \" + rover.x + \", \" + rover.y);                           \n  }\n      break;\n    case \"W\": if(rover.x &lt;= 0) { \n      console.log(\"You can't place the rover outside of the 10x10 grid!\");\n      } else if(rover.x === obstaclesList[k].i) {\n      console.log(\"Obstacle was found!\");\n      return;\n      } else {\n      rover.x--;\n      console.log(\"Rover moved left. The position is now \" + rover.x + \", \" + rover.y);\n  }\n      break;\n    case \"S\": if(rover.y &gt;= 10) { \n      console.log(\"You can't place the rover outside of the 10x10 grid!\");\n      } else if(rover.y === obstaclesList[k].j) {\n      console.log(\"Obstacle was found!\");\n      return;\n      } else {\n      rover.y++;\n      console.log(\"Rover moved down. The position is now \" + rover.x + \", \" + rover.y);\n  }\n      break;\n    case \"E\": if(rover.x &gt;= 10) { \n      console.log(\"You can't place the rover outside of the 10x10 grid!\");\n      } else if(rover.x === obstaclesList[k].i) {\n      console.log(\"Obstacle was found!\");\n      return;\n      } else {\n      rover.x++;\n      console.log(\"Rover moved right. The position is now \" + rover.x + \", \" + rover.y);         \n  }\n      break;\n  }\n  }\n  roverMars.travelLog.push(\"x:\" + rover.x + \" y:\" + rover.y);\n}\n</code></pre>\n\n<p>I added a <code>return</code> in the <code>if-else</code> statement under <code>console.log(\"Obstacle was found!\");</code>. However it didn't work, it kept going through the commands I input. I tried <code>break</code> in place of <code>return</code> but it didn't work either. Help?</p>\n\n<p>Here's the rest of the code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Rover Object Goes Here\r\n// ======================\r\nlet roverMars = {\r\n  direction: \"N\",\r\n  x: 0,\r\n  y: 0,\r\n  travelLog: [\"x:0 y:0\"]\r\n};\r\n\r\nlet testBoard = [ \r\n  [null,\"Rock2\",null,null,null,null,null,null,null,null],\r\n  [null,null,null,null,null,null,null,null,null,null],\r\n  [null,null,null,null,null,null,\"Bottle\",null,null,null],\r\n  [null,null,null,null,null,null,null,null,null,null],\r\n  [null,null,null,null,null,null,null,null,null,null],\r\n  [null,null,null,\"Rock\",null,null,null,null,null,null],\r\n  [null,null,null,null,null,null,null,null,null,null],\r\n  [null,null,null,null,null,null,null,\"Statue\",null,null],\r\n  [null,null,null,null,null,null,null,null,null,null],\r\n  [null,null,null,null,null,null,null,null,null,null]\r\n];\r\nlet obstaclesList = [];\r\n\r\nfor(let i = 0; i &lt; testBoard.length; i++){\r\n  for(let j = 0; j &lt; testBoard[i].length; j++) {\r\n    if(testBoard[i][j] !== null) {\r\n      obstaclesList.push({i, j});\r\n    }\r\n  }\r\n}\r\n\r\n//console.log(obstaclesList[0].j);\r\n\r\n// ======================\r\nfunction turnLeft(rover){\r\n  console.log(\"turnLeft was called!\");\r\n  switch(rover.direction) {\r\n    case \"N\": rover.direction = \"W\";\r\n      console.log(\"Rover is now facing \" + rover.direction);\r\n      break;\r\n    case \"W\": rover.direction = \"S\";\r\n      console.log(\"Rover is now facing \" + rover.direction);\r\n      break;\r\n    case \"S\": rover.direction = \"E\";\r\n      console.log(\"Rover is now facing \" + rover.direction);\r\n      break;\r\n    case \"E\": rover.direction = \"N\";\r\n      console.log(\"Rover is now facing \" + rover.direction);\r\n      break;\r\n  }\r\n}\r\n\r\nfunction turnRight(rover){\r\n  console.log(\"turnRight was called!\");\r\n  switch(rover.direction) {\r\n    case \"N\": rover.direction = \"E\";\r\n      console.log(\"Rover is now facing \" + rover.direction);\r\n      break;\r\n    case \"W\": rover.direction = \"N\";\r\n      console.log(\"Rover is now facing \" + rover.direction);\r\n      break;\r\n    case \"S\": rover.direction = \"W\";\r\n      console.log(\"Rover is now facing \" + rover.direction);\r\n      break;\r\n    case \"E\": rover.direction = \"S\";\r\n      console.log(\"Rover is now facing \" + rover.direction);\r\n      break;\r\n  }\r\n}\r\n\r\nfunction moveForward(rover){\r\n  console.log(\"moveForward was called\");\r\n  for(let k = 0; k &lt; obstaclesList.length; k++){\r\n  switch(rover.direction) {\r\n    case \"N\": if(rover.y &lt;= 0) { \r\n      console.log(\"You can't place the rover outside of the 10x10 grid!\");\r\n      } else if(rover.y === obstaclesList[k].j) {\r\n      console.log(\"Obstacle was found!\");\r\n      return;\r\n      } else {\r\n      rover.y--;\r\n      console.log(\"Rover moved up. The position is now \" + rover.x + \", \" + rover.y);                           \r\n  }\r\n      break;\r\n    case \"W\": if(rover.x &lt;= 0) { \r\n      console.log(\"You can't place the rover outside of the 10x10 grid!\");\r\n      } else if(rover.x === obstaclesList[k].i) {\r\n      console.log(\"Obstacle was found!\");\r\n      return;\r\n      } else {\r\n      rover.x--;\r\n      console.log(\"Rover moved left. The position is now \" + rover.x + \", \" + rover.y);\r\n  }\r\n      break;\r\n    case \"S\": if(rover.y &gt;= 10) { \r\n      console.log(\"You can't place the rover outside of the 10x10 grid!\");\r\n      } else if(rover.y === obstaclesList[k].j) {\r\n      console.log(\"Obstacle was found!\");\r\n      return;\r\n      } else {\r\n      rover.y++;\r\n      console.log(\"Rover moved down. The position is now \" + rover.x + \", \" + rover.y);\r\n  }\r\n      break;\r\n    case \"E\": if(rover.x &gt;= 10) { \r\n      console.log(\"You can't place the rover outside of the 10x10 grid!\");\r\n      } else if(rover.x === obstaclesList[k].i) {\r\n      console.log(\"Obstacle was found!\");\r\n      return;\r\n      } else {\r\n      rover.x++;\r\n      console.log(\"Rover moved right. The position is now \" + rover.x + \", \" + rover.y);         \r\n  }\r\n      break;\r\n  }\r\n  }\r\n  roverMars.travelLog.push(\"x:\" + rover.x + \" y:\" + rover.y);\r\n}\r\n\r\nfunction moveBackward(rover){\r\n  console.log(\"moveBackward was called\");\r\n  \r\n  switch(rover.direction) {\r\n    case \"N\": if(rover.y &gt;= 10) { \r\n      console.log(\"You can't place the rover outside of the 10x10 grid!\");\r\n      } else {\r\n      rover.y++;\r\n      console.log(\"Rover moved down. The position is now \" + rover.x + \", \" + rover.y);                           \r\n  }\r\n      break;\r\n    case \"W\": if(rover.x &gt;= 10) { \r\n      console.log(\"You can't place the rover outside of the 10x10 grid!\");\r\n      } else {\r\n      rover.x++;\r\n      console.log(\"Rover moved right. The position is now \" + rover.x + \", \" + rover.y);\r\n  }\r\n      break;\r\n    case \"S\": if(rover.y &lt;= 0) { \r\n      console.log(\"You can't place the rover outside of the 10x10 grid!\");\r\n      } else {\r\n      rover.y--;\r\n      console.log(\"Rover moved up. The position is now \" + rover.x + \", \" + rover.y);\r\n  }\r\n      break;\r\n    case \"E\": if(rover.x &lt;= 0) { \r\n      console.log(\"You can't place the rover outside of the 10x10 grid!\");\r\n      } else {\r\n      rover.x--;\r\n      console.log(\"Rover moved left. The position is now \" + rover.x + \", \" + rover.y);         \r\n  }\r\n      break;\r\n  }\r\n  roverMars.travelLog.push(\"x:\" + rover.x + \" y:\" + rover.y);\r\n}\r\n\r\nfunction commandments(roverlist) {\r\n  let passRegex = /[lrfb]/g;\r\n  var passResult = roverlist.match(passRegex);\r\n  for(let i = 0; i &lt; passResult.length; i++) {\r\n    switch(roverlist[i]) {\r\n      case \"l\": turnLeft(roverMars);\r\n        break;\r\n      case \"r\": turnRight(roverMars);\r\n        break;\r\n      case \"f\": moveForward(roverMars);\r\n        break;\r\n      case \"b\": moveBackward(roverMars);\r\n        break;\r\n    }\r\n  }\r\n  //console.log(\"passResult: \" + passResult);\r\n}\r\ncommandments(\"rfffr\");\r\n//turnLeft(roverMars);\r\n//turnRight(roverMars);\r\n//moveForward(roverMars);\r\n//console.log(roverMars.travelLog);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Which is at this link: <a href=\"https://codepen.io/kikibres/pen/PMaoYO\" rel=\"nofollow noreferrer\">https://codepen.io/kikibres/pen/PMaoYO</a></p>\n"}, {"tags": ["javascript", "for-loop"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 1, "creation_date": 1565819727, "post_id": 57502541, "comment_id": 101474049, "body": "You clearly don&#39;t need the <code>if (i &lt; v)</code> because the loop body won&#39;t execute if that&#39;s not true."}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1565819790, "post_id": 57502541, "comment_id": 101474060, "body": "Also if you want it to open 5 times the loop limit should be 5, not 4."}, {"owner": {"reputation": 361, "user_id": 6023103, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh6.googleusercontent.com/-NWqukzSvW-g/AAAAAAAAAAI/AAAAAAAABIQ/m9rOktdr_W4/photo.jpg?sz=128", "display_name": "Jason Owens", "link": "https://stackoverflow.com/users/6023103/jason-owens"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1565819874, "post_id": 57502541, "comment_id": 101474088, "body": "Executing 4 or 5 times isn&#39;t important for my understanding.  Meaning the code I&#39;m working on is similar, and I just don&#39;t understand why it only opens the popup 1 time.  I&#39;m expecting 4-5 links.  5 if it&#39;s counting at 0."}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 5, "creation_date": 1565820025, "post_id": 57502541, "comment_id": 101474127, "body": "What does &quot;asynchronously&quot; have to do with this?"}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1565820122, "post_id": 57502541, "comment_id": 101474155, "body": "Your loop as written will run 4 times. 0, 1, 2, and 3 are all less than 4, it stops at 4 because 4 isn&#39;t less than 4."}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 5, "creation_date": 1565820188, "post_id": 57502541, "comment_id": 101474171, "body": "The window only opening once is likely a browser feature protecting the enduser from malicious/invasive code."}, {"owner": {"reputation": 361, "user_id": 6023103, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh6.googleusercontent.com/-NWqukzSvW-g/AAAAAAAAAAI/AAAAAAAABIQ/m9rOktdr_W4/photo.jpg?sz=128", "display_name": "Jason Owens", "link": "https://stackoverflow.com/users/6023103/jason-owens"}, "edited": false, "score": 0, "creation_date": 1565820213, "post_id": 57502541, "comment_id": 101474180, "body": "I understand that, but my question is why the webpage only opens once, I&#39;m expecting it to open 4 times?"}, {"owner": {"reputation": 361, "user_id": 6023103, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh6.googleusercontent.com/-NWqukzSvW-g/AAAAAAAAAAI/AAAAAAAABIQ/m9rOktdr_W4/photo.jpg?sz=128", "display_name": "Jason Owens", "link": "https://stackoverflow.com/users/6023103/jason-owens"}, "edited": false, "score": 0, "creation_date": 1565820454, "post_id": 57502541, "comment_id": 101474240, "body": "Ahh, Kevin, I don&#39;t know why I didn&#39;t think of that.  Basically I need my for loop to open the page, and I have a function that targets the open page by window.name, and retreive the DOM elements.  I think that would be the answer.  Not sure why I didn&#39;t think it could be Chrome preventing this.  I can solve this by doing it manually, I just wanted to pull all the elements at once from different pages.  Thank you all."}, {"owner": {"reputation": 2647, "user_id": 832009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/009fa7a90fa08dc24fee138fb8d04fa4?s=128&d=identicon&r=PG", "display_name": "QuentinUK", "link": "https://stackoverflow.com/users/832009/quentinuk"}, "edited": false, "score": 1, "creation_date": 1565820801, "post_id": 57502541, "comment_id": 101474329, "body": "You can try adding a parameter with different values (even if not needed) to see if this gets around the browser only opening one new window."}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1565821271, "post_id": 57502541, "comment_id": 101474448, "body": "@JasonOwens you cannot retrieve the contents of an opened page from a different domain."}, {"owner": {"reputation": 361, "user_id": 6023103, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh6.googleusercontent.com/-NWqukzSvW-g/AAAAAAAAAAI/AAAAAAAABIQ/m9rOktdr_W4/photo.jpg?sz=128", "display_name": "Jason Owens", "link": "https://stackoverflow.com/users/6023103/jason-owens"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1565821421, "post_id": 57502541, "comment_id": 101474476, "body": "@Pointy, thanks, yea I&#39;m just using that as an example."}, {"owner": {"reputation": 361, "user_id": 6023103, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh6.googleusercontent.com/-NWqukzSvW-g/AAAAAAAAAAI/AAAAAAAABIQ/m9rOktdr_W4/photo.jpg?sz=128", "display_name": "Jason Owens", "link": "https://stackoverflow.com/users/6023103/jason-owens"}, "reply_to_user": {"reputation": 2647, "user_id": 832009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/009fa7a90fa08dc24fee138fb8d04fa4?s=128&d=identicon&r=PG", "display_name": "QuentinUK", "link": "https://stackoverflow.com/users/832009/quentinuk"}, "edited": false, "score": 0, "creation_date": 1565821532, "post_id": 57502541, "comment_id": 101474496, "body": "@QuentinUK, actually, I just got it to work, but doing what you suggested, I used the &#39;i&#39; variable as a part of the target name, and viola!  Thanks!  That did work!!!  window.open(&#39;<a href=\"https://www.w3schools.com\" rel=\"nofollow noreferrer\">w3schools.com</a>&#39;, &#39;test&#39;+i,)"}], "owner": {"reputation": 361, "user_id": 6023103, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh6.googleusercontent.com/-NWqukzSvW-g/AAAAAAAAAAI/AAAAAAAABIQ/m9rOktdr_W4/photo.jpg?sz=128", "display_name": "Jason Owens", "link": "https://stackoverflow.com/users/6023103/jason-owens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565820007, "creation_date": 1565819637, "last_edit_date": 1565820007, "question_id": 57502541, "link": "https://stackoverflow.com/questions/57502541/how-to-correctly-run-for-loop-asynchronously", "title": "How to correctly run for loop, asynchronously?", "body": "<p>I can't seem to wrap my head around running async for loops.  Can someone please explain it in a simpler term so I can understand?</p>\n\n<p>The result I get is the link opening 1 time.</p>\n\n<p>(4) working</p>\n\n<p>undefined</p>\n\n<pre><code>var v = 4;\nfor(i=0;i&lt;v;i++){\n    if(i &lt; v){\n    window.open('https://www.w3schools.com', 'test')\n    console.log('working')\n    }\n    else\n    {\n    'done'\n    }\n}\n</code></pre>\n\n<p>I'm looking to get the page to open 5 times.</p>\n"}, {"tags": ["javascript", "node.js", "regex"], "comments": [{"owner": {"reputation": 700, "user_id": 1754995, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac46d00b23347967f26f86b932e5a1f?s=128&d=identicon&r=PG", "display_name": "Kody", "link": "https://stackoverflow.com/users/1754995/kody"}, "edited": false, "score": 0, "creation_date": 1565820034, "post_id": 57502485, "comment_id": 101474133, "body": "You could probably use named regex groups. I don&#39;t understand how your user input happens though... Are you saying that the user can type out the whole string as &quot;The dog went to the river with the cat.&quot; with no knowledge of what that sentence will look like?"}], "answers": [{"tags": [], "owner": {"reputation": 13442, "user_id": 3982562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a3c7aae1d762372cda697833c602ec8?s=128&d=identicon&r=PG", "display_name": "3limin4t0r", "link": "https://stackoverflow.com/users/3982562/3limin4t0r"}, "is_accepted": true, "score": 1, "last_activity_date": 1565823393, "creation_date": 1565823393, "answer_id": 57503025, "question_id": 57502485, "link": "https://stackoverflow.com/questions/57502485/regex-or-not-replace-all-matches-with-dynamic-variables/57503025#57503025", "title": "Regex (or not) replace all matches with dynamic variables", "body": "<p>You can replace them by using a function as second argument in <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace#Specifying_a_function_as_a_parameter\" rel=\"nofollow noreferrer\"><code>String.prototype.replace()</code></a>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const cache = { firstvar: \"dog\", secondvar: \"river\", thirdvar: \"cat\" },\r\n      text = \"The @@firstvar@@ went to the @@secondvar@@ with the @@thirdvar@@.\",\r\n      regex = /@@(.*?)@@/g;\r\n\r\nconsole.log( text.replace(regex, (_match, group1) =&gt; cache[group1]) );</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 188, "user_id": 8210779, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7e7bf04941dc23b314c9e6772dcc39b6?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/8210779/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 57503025, "answer_count": 1, "score": 0, "last_activity_date": 1565823767, "creation_date": 1565819296, "question_id": 57502485, "link": "https://stackoverflow.com/questions/57502485/regex-or-not-replace-all-matches-with-dynamic-variables", "title": "Regex (or not) replace all matches with dynamic variables", "body": "<p>Let's say that I have the following string taken from user input:</p>\n\n<pre><code>The @@firstvar@@ went to the @@secondvar@@ with the @@thirdvar@@.\n</code></pre>\n\n<p>Where the values \"firstvar\" \"secondvar\" and \"thirdvar\" all came from user input as well, so they aren't known before runtime. </p>\n\n<p>Is there a way to replace all the matches between sets of \"@@\" with a corresponding cached variable?</p>\n\n<p>Say for example I have these values cached:</p>\n\n<pre><code>cache[firstvar] = \"dog\"\ncache[secondvar] = \"river\"\ncache[thirdvar] = \"cat\"\n</code></pre>\n\n<p>I want the final output string to be:</p>\n\n<pre><code>The dog went to the river with the cat. \n</code></pre>\n\n<p>I've tried regex replace but can't figure it out when the replacements are dynamic like this. </p>\n"}, {"tags": ["javascript", "node.js", "typescript", "express", "http"], "comments": [{"owner": {"reputation": 490, "user_id": 8834477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94fc949746f6f386dbb0923ba1149498?s=128&d=identicon&r=PG&f=1", "display_name": "Japsz", "link": "https://stackoverflow.com/users/8834477/japsz"}, "edited": false, "score": 2, "creation_date": 1565820043, "post_id": 57502476, "comment_id": 101474135, "body": "checkout <a href=\"https://github.com/axios/axios\" rel=\"nofollow noreferrer\">axios</a>, is a promise-based javascript http client."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1565831487, "post_id": 57502476, "comment_id": 101476182, "body": "No node.js server should EVER do synchronous I/O in any real time request handler.  Never.  It would absolutely ruin the scalability of your server.  Instead, learn how to do asynchronous I/O properly.  For us to show you how to do this request to this other web service, you would have to show us the details of that request and then we could show you the specific detail for how to do it properly."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1565831597, "post_id": 57502476, "comment_id": 101476193, "body": "As it stands now, you&#39;re asking for something that node.js isn&#39;t built to do and should never be done from any node.js request handler.  So, the question needs to be rephrased to express the problem you&#39;re trying to solve, not the specific solution (synchronous I/O) that you seem to want.  That&#39;s not the right direction for a solution.  What you have posted is an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a> where you&#39;ve asked a question about your proposed solution direction rather than asking us to help you solve the actual problem."}, {"owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "reply_to_user": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1565839209, "post_id": 57502476, "comment_id": 101477423, "body": "@jfriend00 Maybe synchronous was the wrong word. What I mean is that I <i>need</i> the response from the other web service before I formulate the response from my web service.  I don&#39;t think I need to provide any details of the other request other than it&#39;s a standard http request with a json response that my web service needs to work.  It&#39;s not really clear why synchronous I/O is so terrible (considering lots of other frameworks and languages use synchronous I/O in their  web frameworks).  Even if the evaluation is technically &quot;asynchronous&quot; it still needs to block my response until it completes."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1565839545, "post_id": 57502476, "comment_id": 101477460, "body": "Well, you said &quot;synchronous&quot;.  That was apparently the wrong word because that&#39;s what I reacted to. You don&#39;t need anything to block. You just finish your response in the asynchronous callback.  There&#39;s no blocking of anything. There&#39;s no synchronous networking.  You just need to learn how to program with asynchronous I/O in node.js where you handle the response in a callback.  You can either use regular async callbacks or you can use a promise interface.  In both you&#39;re handling the response and any code that wants to use it in a callback.  That&#39;s what you need to learn in node.js/Javascript."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1565839681, "post_id": 57502476, "comment_id": 101477476, "body": "Keep in mind that the word &quot;synchronous&quot; has a very specific meaning in node.js - something that blocks the entire intrepreter such as <code>fs.readFileSync()</code>.  So, please don&#39;t use it if that specific meaning is not what you meant. Even when using <code>await</code> to &quot;wait&quot; for a promise which may appear to block, it actually causes your function to return immediately and lots of other code can then run.  There is no actual blocking of the interpreter.  With <code>await</code> your function execution is suspended until the promise you are awaiting resolves or rejects."}], "answers": [{"comments": [{"owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "edited": false, "score": 0, "creation_date": 1565839285, "post_id": 57502663, "comment_id": 101477433, "body": "Yes, this is what I needed.  I used axios, but the async/await syntax worked."}], "tags": [], "owner": {"reputation": 3019, "user_id": 10687857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7vYls.jpg?s=128&g=1", "display_name": "DanStarns", "link": "https://stackoverflow.com/users/10687857/danstarns"}, "is_accepted": true, "score": 2, "last_activity_date": 1565820392, "creation_date": 1565820392, "answer_id": 57502663, "question_id": 57502476, "link": "https://stackoverflow.com/questions/57502476/how-to-make-a-synchronous-http-request-on-a-node-server/57502663#57502663", "title": "How to make a synchronous http request on a node server?", "body": "<p>The reason why you are getting errors/warnings when trying to synchronously call an HTTP request is that from the get-go node.js was built with the core philosophy of callbacks &amp; the event loop. If you are trying to write asynchronous code in a synchronous way... May i point you in the direction of async/await. You could you use <code>npm install node-fetch</code> </p>\n\n<pre><code>const fetch = require('node-fetch');\n\napp.get('/my_api_endpoint', async function (req, res) {\n\n    // Need to get data from other webservice using data \n    // from this request.\n    data = await fetch(\"http://...\");\n\n    res.status(200);\n    res.send(\"This is the \" + data);\n    res.end();\n\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 92307, "user_id": 167735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5deb8de031f80c23f19e9b6d389e5afe?s=128&d=identicon&r=PG", "display_name": "slebetman", "link": "https://stackoverflow.com/users/167735/slebetman"}, "is_accepted": false, "score": 1, "last_activity_date": 1565849359, "last_edit_date": 1565849359, "creation_date": 1565831484, "answer_id": 57503769, "question_id": 57502476, "link": "https://stackoverflow.com/questions/57502476/how-to-make-a-synchronous-http-request-on-a-node-server/57503769#57503769", "title": "How to make a synchronous http request on a node server?", "body": "<p>In general all javascript libraries/frameworks are friendly to non-synchronous operations. Those that are not will be ignored by the community. Express already allow you to perform asynchronous operations.</p>\n\n<p>Have you ever wondered why express requires you to \"return\" responses by calling methods on <code>res</code> instead of simply returning?:</p>\n\n<pre><code>// frameworks in some other languages:\n\n@Path(\"/my_api_endpoint\")\nResponse myEndpoint() {\n    data = request_to_other_web_service(some_value);\n    return data; // Javascript frameworks don't use returns!!\n}\n</code></pre>\n\n<p>It is because all javascript web frameworks are async friendly. The reason you use a callback (a function that you call back at some later time) to return from a route is because you can call functions inside other functions. In Express you call <code>res.send()</code> <strong>after</strong> you've performed async operations. How you do it depends on the API you're using:</p>\n\n<p>API that accepts a callback:</p>\n\n<pre><code>app.get('/my_api_endpoint', function (req, res, next) {\n    request(req.params.some_value, function (error, data) {\n        if (!error) {\n            res.status(200);\n            res.send(\"This is the \" + data);\n        }\n        else {\n            next(error);\n        }\n    }\n});\n</code></pre>\n\n<p>API that returns a promise:</p>\n\n<pre><code>app.get('/my_api_endpoint', function (req, res, next) {\n    request(req.params.some_value)\n        .then(function (data) {\n            res.status(200);\n            res.send(\"This is the \" + data);\n        })\n        .catch(function (error) {\n            next(error);\n        });\n});\n</code></pre>\n\n<p>Using async/await with API that returns a promise:</p>\n\n<pre><code>app.get('/my_api_endpoint', async function (req, res, next) {\n    try {\n        let data = await request(req.params.some_value)\n        res.status(200);\n        res.send(\"This is the \" + data);\n    }\n    catch (error) {\n        next(error);\n    }\n});\n</code></pre>\n\n<p>Stream based API:</p>\n\n<pre><code>app.get('/my_api_endpoint', async function (req, res, next) {\n    let dataStream = request(req.params.some_value);\n    let buffer = \"\";\n\n    dataStream.on('data', function (data) {\n        buffer += data.toString('utf8');\n    });\n\n    dataStream.on('end', function () {\n        res.status(200);\n        res.send(\"This is the \" + buffer);\n    });\n\n    dataStream.on('error', function () {\n        next(\"Stream error\");\n    });\n\n});\n</code></pre>\n\n<p>Express can handle any asynchronous program flow.</p>\n"}], "owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 166, "favorite_count": 0, "accepted_answer_id": 57502663, "answer_count": 2, "score": -2, "last_activity_date": 1565849359, "creation_date": 1565819251, "question_id": 57502476, "link": "https://stackoverflow.com/questions/57502476/how-to-make-a-synchronous-http-request-on-a-node-server", "title": "How to make a synchronous http request on a node server?", "body": "<p>I have a node web server with several api endpoints. One of those endpoints needs to make a request to another server in order to assemble its own response. I've seen a few different answers with links to libraries that allow purely synchronous web requests, but they're all associated with warnings that say not to use them in production.  </p>\n\n<p>Here is an example of what my server request handler looks like:</p>\n\n<pre><code>app.get('/my_api_endpoint', function (req, res) {\n\n    // Need to get data from other webservice using data \n    // from this request.\n    data = request_to_other_web_service(req.params.some_value);\n\n    res.status(200);\n    res.send(\"This is the \" + data);\n    res.end();\n\n});\n</code></pre>\n\n<p>Is there a standard pattern for handling requests like this?</p>\n"}, {"tags": ["javascript", "html"], "answers": [{"tags": [], "owner": {"reputation": 168, "user_id": 3772772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8b7da329dc8f345c10043d243309cbf?s=128&d=identicon&r=PG&f=1", "display_name": "ISAE", "link": "https://stackoverflow.com/users/3772772/isae"}, "is_accepted": false, "score": 1, "last_activity_date": 1565820719, "last_edit_date": 1565820719, "creation_date": 1565819903, "answer_id": 57502574, "question_id": 57502470, "link": "https://stackoverflow.com/questions/57502470/how-to-fix-function-to-where-it-allows-the-next-function-to-correctly-compute/57502574#57502574", "title": "How to fix function to where it allows the next function to correctly compute?", "body": "<p>As explained in srk's answer above, you need to reset the display property each time.</p>\n\n<p>In addition, i would suggest that you create a general function like bellow:</p>\n\n<pre><code>function toggleColorDisplay(color){\nlet colors = ['red', 'orange', 'blue']; // you can add any color you want\ncolors.forEach(col =&gt; {\nlet elem = document.getElementById(color);\nif(col == color) elem.style.display = 'block' // or whatever the original display property is\nelse elem.style.display = 'none';\n})}\n</code></pre>\n\n<p>Then you call that function:</p>\n\n<pre><code>document.getElementById('blueButton').addEventListener(\"click\", function() {\ntoggleColorDisplay('blue');\n};\n</code></pre>\n\n<p>Repeat this call for each button, just change the argument to the appropriate color </p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 11929374, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SEb2b0mSCrU/AAAAAAAAAAI/AAAAAAAAAas/K25l8FdR3Kg/photo.jpg?sz=128", "display_name": "Smith Austin", "link": "https://stackoverflow.com/users/11929374/smith-austin"}, "edited": false, "score": 0, "creation_date": 1565821468, "post_id": 57502578, "comment_id": 101474482, "body": "really appreciate your answer, sorry for being a noob :)"}], "tags": [], "owner": {"reputation": 764, "user_id": 11838196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4de822c963ace03fc040584456265bea?s=128&d=identicon&r=PG&f=1", "display_name": "srk", "link": "https://stackoverflow.com/users/11838196/srk"}, "is_accepted": true, "score": 2, "last_activity_date": 1565871227, "last_edit_date": 1565871227, "creation_date": 1565819930, "answer_id": 57502578, "question_id": 57502470, "link": "https://stackoverflow.com/questions/57502470/how-to-fix-function-to-where-it-allows-the-next-function-to-correctly-compute/57502578#57502578", "title": "How to fix function to where it allows the next function to correctly compute?", "body": "<p>The problem is that you never reset the color that matches the button. So for example, when you click the Blue button, that correctly hides the Orange and Red text. Then if you click the Red button, again, it correctly hides the Orange and Blue text. But the Red text is still hidden from the first time you clicked the Blue button -- you never un-hide that text!</p>\n\n<p>Try adding code to each event listener to reset the color that matches the button clicked. For example:</p>\n\n<pre><code>function blueChange() {\n    var firstHidden = document.getElementById('orange');\n    firstHidden.style.display = \"none\";\n    var secondHidden = document.getElementById('red');\n    secondHidden.style.display = \"none\";\n\n    // reset blue.\n    var blueElement = document.getElementById('blue');\n    blueElement.style.display = \"block\";\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11929374, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SEb2b0mSCrU/AAAAAAAAAAI/AAAAAAAAAas/K25l8FdR3Kg/photo.jpg?sz=128", "display_name": "Smith Austin", "link": "https://stackoverflow.com/users/11929374/smith-austin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 57502578, "answer_count": 2, "score": 0, "last_activity_date": 1565871227, "creation_date": 1565819193, "last_edit_date": 1565832261, "question_id": 57502470, "link": "https://stackoverflow.com/questions/57502470/how-to-fix-function-to-where-it-allows-the-next-function-to-correctly-compute", "title": "How to fix function to where it allows the next function to correctly compute?", "body": "<p>hope everyone is doing well. I am new to JavaScript and trying to do a little exercise but having trouble. When I load the page, and click the Blue button, the orange text and red text disappear like I want to, but if I click the Red button after. All of it disappears. I am trying to create something where if I click on one of the colors, the colors that isn't clicked on disappear and only the colored text remains. I want to be able to do it endlessly.</p>\n\n<p>I've tried various websites but haven't been able to get the help I want. </p>\n\n<p>JavaScript</p>\n\n<pre><code>function blueChange() {\nvar firstHidden = document.getElementById('orange');\nfirstHidden.style.display = \"none\";\nvar secondHidden = document.getElementById('red');\nsecondHidden.style.display = \"none\";\n\n\n}\nfunction redChange() {\nvar thirdHidden = document.getElementById('blue');\nthirdHidden.style.display = \"none\";\nvar fourthHidden = document.getElementById('orange');\nfourthHidden.style.display = \"none\";\n}\n\n\n\ndocument.getElementById('blueButton').addEventListener(\"click\", \nblueChange);\ndocument.getElementById('redButton').addEventListener(\"click\", \nredChange);\n</code></pre>\n\n<p>HTML</p>\n\n<pre><code>&lt;section&gt;\n    &lt;button id=\"blueButton\"&gt;\n        Blue\n    &lt;/button&gt;\n    &lt;button id=\"orangeButton\"&gt;\n        Orange\n    &lt;/button&gt;\n    &lt;button id=\"redButton\"&gt;\n        Red\n    &lt;/button&gt;\n&lt;/section&gt;\n\n&lt;section id=\"allParagraphs\"&gt;\n    &lt;p style=\"color:orange\" id=\"orange\" class=\"colors\"&gt;\n        So far, authorities are still in the process of collecting\n        information, and details on exact numbers or the cause of the die off\n        have been scarce. Several turtle species live in the area\u2014hawksbills,\n        leatherbacks, olive ridleys, and green turtles.\n    &lt;/p&gt;\n    &lt;p style=\"color:red\" id=\"red\" class=\"colors\"&gt;\n        In both of these previous cases, red tide was found to be the\n        cause of the turtles' deaths. \"Red tide\" is a term that commonly refers\n        to when colonies of algal blooms grow out of control. Sometimes,\n        depending on the specific organisms and conditions, they can become toxic\n        for marine life. Flair ups can occur in fresh and salt water, and they\n        can be exacerbated by runoff from chemicals like pesticides or untreated\n        sewer water. For turtles, ingesting the toxic blooms can be deadly.\n    &lt;/p&gt;\n    &lt;p style=\"color:blue\" id=\"blue\" class=\"colors\"&gt;\n        Mike Liles has lived in El Salvador for the past decade working\n        on turtle conservation as the director of the country's branch of the\n        Eastern Pacific Hawksbill Initiative. From his sources on the ground,\n        Liles has learned that as many as 300 additional dead turtles may have\n        been found in an area called Isla Tasajara 30 miles west of Jiquilisco\n        Bay. El Salvador's environmental ministry has yet to confirm this.\n    &lt;/p&gt;\n</code></pre>\n"}, {"tags": ["javascript", "promise", "karma-runner", "web-component", "custom-element"], "owner": {"reputation": 2459, "user_id": 4148175, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5292692b48cc43a28b55d8fd6581bbed?s=128&d=identicon&r=PG&f=1", "display_name": "Jim C", "link": "https://stackoverflow.com/users/4148175/jim-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 188, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1565818737, "creation_date": 1565818737, "question_id": 57502410, "link": "https://stackoverflow.com/questions/57502410/window-customelements-whendefined-never-been-resolved-when-testing-with-karma", "title": "window.customElements.whenDefined never been resolved when testing with Karma", "body": "<p>In few words, I need to delay the test until certain element is avaible, For that I am realing in the promisse window.customElements.whenDefined but it is never been resolved.</p>\n\n<p>My Unit Test</p>\n\n<pre><code>import { html, fixture, expect } from '@open-wc/testing';\n\nimport '../src/skyscanner-flight-search/skyscanner-flight-search.js';\n\ndescribe('skyscanner flight search', () =&gt; {\n    it('show div', async() =&gt; {\n        const el = await fixture(html `\n      &lt;skyscanner-flight-search&gt;&lt;/skyscanner-flight-search&gt;\n    `);\n        console.debug('before promisse');\n        window.customElements.whenDefined('skyscanner-flight-search').then(() =&gt; {\n            el.shadowRoot.querySelector('#firstdiv2');\n            console.debug('after promisse');\n            expect(el).to.exist;\n\n        });\n    });\n});\n</code></pre>\n\n<p>Console:</p>\n\n<pre><code># npm run test\n\n&gt; skyscanner-openwc-graphql@0.0.0 test C:\\_d\\WSs\\rapidapi-vanilla-webcomponents\\skyscanner-openwc-graphql\n&gt; karma start\n\n\nSTART:\n14 08 2019 18:23:31.552:WARN [filelist]: Pattern \"C:/_d/WSs/rapidapi-vanilla-webcomponents/skyscanner-openwc-graphql/__snapshots__/**/*.md\" does not match any file.\n14 08 2019 18:23:31.578:INFO [karma-server]: Karma v4.2.0 server started at http://0.0.0.0:9876/\n14 08 2019 18:23:31.579:INFO [launcher]: Launching browsers ChromeHeadlessNoSandbox with concurrency unlimited\n14 08 2019 18:23:31.586:INFO [launcher]: Starting browser ChromeHeadless\n14 08 2019 18:23:32.908:INFO [HeadlessChrome 76.0.3809 (Windows 10.0.0)]: Connected on socket jC7mtfb4Iyvm14DFAAAA with id 22187366\nDEBUG: 'before promisse'\n  skyscanner flight search\n    \u221a show div\n\nFinished in 0.113 secs / 0.006 secs @ 18:23:36 GMT-0300 (GMT-03:00)\n\nSUMMARY:\n\u221a 1 test completed\n</code></pre>\n\n<p>Relevant piece from Package.json</p>\n\n<pre><code>\"devDependencies\": {\n    \"@open-wc/eslint-config\": \"^1.0.0\",\n    \"@open-wc/prettier-config\": \"^0.1.10\",\n    \"@open-wc/testing-karma\": \"^3.0.0\",\n    \"@open-wc/testing-karma-bs\": \"^1.0.0\",\n    \"@open-wc/testing\": \"^0.11.1\",\n    \"@open-wc/demoing-storybook\": \"^0.3.0\"\n},\n</code></pre>\n\n<p>In case it adds something, here is all the source code <a href=\"https://github.com/jimisdrpc/skyscanner-openwc-graphql.git\" rel=\"nofollow noreferrer\">https://github.com/jimisdrpc/skyscanner-openwc-graphql.git</a></p>\n"}, {"tags": ["javascript", "arrays", "json", "object"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 8061890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3443ad7787163781e41617457f057c8c?s=128&d=identicon&r=PG&f=1", "display_name": "klausz", "link": "https://stackoverflow.com/users/8061890/klausz"}, "edited": false, "score": 0, "creation_date": 1565856738, "post_id": 57502380, "comment_id": 101481344, "body": "It works. Thank you. (And I didn&#39;t make a complicated statement)."}, {"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "reply_to_user": {"reputation": 23, "user_id": 8061890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3443ad7787163781e41617457f057c8c?s=128&d=identicon&r=PG&f=1", "display_name": "klausz", "link": "https://stackoverflow.com/users/8061890/klausz"}, "edited": false, "score": 0, "creation_date": 1565856808, "post_id": 57502380, "comment_id": 101481374, "body": "No worries @klausz, always glad to help. If my answer fixed your problem, please mark it as accepted by clicking the grey tick mark to the left of my answer."}], "tags": [], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "is_accepted": true, "score": 1, "last_activity_date": 1565818516, "creation_date": 1565818516, "answer_id": 57502380, "question_id": 57502362, "link": "https://stackoverflow.com/questions/57502362/javascript-how-do-i-remove-a-covering-wrapper-object-from-an-array-of-object/57502380#57502380", "title": "Javascript - How do i remove a covering/wrapper object from an array of object", "body": "<p>This is quite simple with reassignment:</p>\n\n<pre><code>jsont = jsont.battdat;\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 8061890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3443ad7787163781e41617457f057c8c?s=128&d=identicon&r=PG&f=1", "display_name": "klausz", "link": "https://stackoverflow.com/users/8061890/klausz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 396, "favorite_count": 0, "accepted_answer_id": 57502380, "answer_count": 1, "score": 1, "last_activity_date": 1565872815, "creation_date": 1565818381, "last_edit_date": 1565872815, "question_id": 57502362, "link": "https://stackoverflow.com/questions/57502362/javascript-how-do-i-remove-a-covering-wrapper-object-from-an-array-of-object", "title": "Javascript - How do i remove a covering/wrapper object from an array of object", "body": "<p>Currently coded in a variable, I have an array of objects (see A where I address the id of the first battery cell in my array).</p>\n\n<p>When getting the data through json, the same array of objects is covered/wrapped though an (unwelcome) object. See attached screenshot. </p>\n\n<p>A: jsonv[0].id</p>\n\n<p>B: jsont.battdat[0].id</p>\n\n<p>What I would like to have is:</p>\n\n<p>Solution(C): jsont.battdat[0].id -> jsont[0].id </p>\n\n<p>To get this the surrounding object jsont has to be removed and the array battdat has to be renamed to jsont</p>\n\n<p>Finally then i can access the id of the first cell through jsont[0].id.</p>\n\n<p>As additional explanation see the attached screenshot: \n<a href=\"https://i.stack.imgur.com/LyfWO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LyfWO.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "comments": [{"owner": {"reputation": 65, "user_id": 11160619, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rQd5WmdEdjY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reqFAUw63zr1IbBnr1pyaz_LEoE7Q/mo/photo.jpg?sz=128", "display_name": "Tony", "link": "https://stackoverflow.com/users/11160619/tony"}, "edited": false, "score": 0, "creation_date": 1565820029, "post_id": 57502312, "comment_id": 101474130, "body": "Just to clarify, I&#39;m trying to implement a sticky fixed nav bar with parallax scrolling on the homepage, and the rest of the site without parallax, just the sticky fixed nav.  My limited coding skills don&#39;t permit me to figure out what the conflict is - the overall effect of parallax and sticky nav works on the homepage (although the nav bar still doesnt show up when you scroll), but on the pages that dont use the parallax effect, the sticky nav disappears altogether when I scroll down the page."}, {"owner": {"reputation": 2152, "user_id": 1189882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4246442d37bb75f6c85ef6320620c6ba?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/1189882/mark"}, "edited": false, "score": 1, "creation_date": 1565820082, "post_id": 57502312, "comment_id": 101474145, "body": "It looks like it&#39;s <code>transform: translateZ(0px)</code> on the body that causes it not to stay fixed on the non-parallax page. Edit: you&#39;re likely getting down-voted, not because you didn&#39;t explain the issue, but because you posted links instead of showing a minimal, complete and verifiable example of your code."}, {"owner": {"reputation": 65, "user_id": 11160619, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rQd5WmdEdjY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reqFAUw63zr1IbBnr1pyaz_LEoE7Q/mo/photo.jpg?sz=128", "display_name": "Tony", "link": "https://stackoverflow.com/users/11160619/tony"}, "reply_to_user": {"reputation": 2152, "user_id": 1189882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4246442d37bb75f6c85ef6320620c6ba?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/1189882/mark"}, "edited": false, "score": 0, "creation_date": 1565820259, "post_id": 57502312, "comment_id": 101474197, "body": "thanks for the answer mark.  I wonder if it may just be easier to separate the css into two files - one for the homepage, and one for the rest of the site..."}, {"owner": {"reputation": 2152, "user_id": 1189882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4246442d37bb75f6c85ef6320620c6ba?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/1189882/mark"}, "edited": false, "score": 0, "creation_date": 1565820374, "post_id": 57502312, "comment_id": 101474226, "body": "Or, if the <code>transform: translateZ(0px)</code> is only required by the home page, you could just embed that CSS rule on the  homepage and delete it from the linked CSS file."}, {"owner": {"reputation": 65, "user_id": 11160619, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rQd5WmdEdjY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reqFAUw63zr1IbBnr1pyaz_LEoE7Q/mo/photo.jpg?sz=128", "display_name": "Tony", "link": "https://stackoverflow.com/users/11160619/tony"}, "reply_to_user": {"reputation": 2152, "user_id": 1189882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4246442d37bb75f6c85ef6320620c6ba?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/1189882/mark"}, "edited": false, "score": 0, "creation_date": 1565820768, "post_id": 57502312, "comment_id": 101474321, "body": "that worked! well at least for desktops - not sure what it looks like on android or ios, but I&#39;ll check that later.  Thanks Mark!"}, {"owner": {"reputation": 2152, "user_id": 1189882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4246442d37bb75f6c85ef6320620c6ba?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/1189882/mark"}, "edited": false, "score": 0, "creation_date": 1565820964, "post_id": 57502312, "comment_id": 101474366, "body": "Np! Chrome&#39;s emulation option in Dev Tools has a few Android presets you could try. Not perfect, but it has served me well over the years."}, {"owner": {"reputation": 8777, "user_id": 1386703, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o6Jbm.png?s=128&g=1", "display_name": "skobaljic", "link": "https://stackoverflow.com/users/1386703/skobaljic"}, "edited": false, "score": 0, "creation_date": 1565821007, "post_id": 57502312, "comment_id": 101474375, "body": "Would be best to add some identifier/class to your body tag, such as <code>home-page</code>, <code>category-page</code>, <code>checkout-page</code>, etc, so later on you can easily apply various styles using same css. Also, those classes can help you choose which scripts you wanna run, too."}, {"owner": {"reputation": 65, "user_id": 11160619, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rQd5WmdEdjY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reqFAUw63zr1IbBnr1pyaz_LEoE7Q/mo/photo.jpg?sz=128", "display_name": "Tony", "link": "https://stackoverflow.com/users/11160619/tony"}, "edited": false, "score": 0, "creation_date": 1565821388, "post_id": 57502312, "comment_id": 101474469, "body": "thanks for the advice skobaljic - unfortunately i&#39;m not really a coder so don&#39;t know what you mean! :p"}, {"owner": {"reputation": 2152, "user_id": 1189882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4246442d37bb75f6c85ef6320620c6ba?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/1189882/mark"}, "reply_to_user": {"reputation": 8777, "user_id": 1386703, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o6Jbm.png?s=128&g=1", "display_name": "skobaljic", "link": "https://stackoverflow.com/users/1386703/skobaljic"}, "edited": false, "score": 0, "creation_date": 1565823393, "post_id": 57502312, "comment_id": 101474854, "body": "@skobaljic is saying something like <code>&lt;body class=&#39;home-page&#39;&gt;</code> for the home page and <code>&lt;body class=&#39;checkout-page&#39;&gt;</code> for the checkout page, etc. This would allow you to define <code>body.home-page { transform: translateZ(0px) }</code> so you can use that in your included CSS file - which prevents you from having to separate one CSS rule from the rest of the rules (so you know where to look for ALL CSS rules immediately); it also allows for easier use of the rule in the future. Ex. If the checkout page uses parallax too it could be <code>body.home-page, body.checkout-page { transform: translateZ(0px) }</code>."}, {"owner": {"reputation": 65, "user_id": 11160619, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rQd5WmdEdjY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reqFAUw63zr1IbBnr1pyaz_LEoE7Q/mo/photo.jpg?sz=128", "display_name": "Tony", "link": "https://stackoverflow.com/users/11160619/tony"}, "edited": false, "score": 0, "creation_date": 1565824422, "post_id": 57502312, "comment_id": 101475036, "body": "perfect - thank you very much!"}], "answers": [{"tags": [], "owner": {"reputation": 273, "user_id": 10850672, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4fGjnigIEvw/AAAAAAAAAAI/AAAAAAAAACo/mTOhQf_6GOQ/photo.jpg?sz=128", "display_name": "TanBir Developer", "link": "https://stackoverflow.com/users/10850672/tanbir-developer"}, "is_accepted": false, "score": 0, "last_activity_date": 1565837857, "creation_date": 1565837857, "answer_id": 57504375, "question_id": 57502312, "link": "https://stackoverflow.com/questions/57502312/parallax-and-fixed-nav/57504375#57504375", "title": "Parallax and fixed nav", "body": "<p>@tony you need to remove margin from <strong>full-wrapper</strong> element</p>\n\n<p>for example:\n<a href=\"https://i.stack.imgur.com/5Li9t.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5Li9t.jpg\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 65, "user_id": 11160619, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rQd5WmdEdjY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reqFAUw63zr1IbBnr1pyaz_LEoE7Q/mo/photo.jpg?sz=128", "display_name": "Tony", "link": "https://stackoverflow.com/users/11160619/tony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565837857, "creation_date": 1565818098, "last_edit_date": 1565829129, "question_id": 57502312, "link": "https://stackoverflow.com/questions/57502312/parallax-and-fixed-nav", "title": "Parallax and fixed nav", "body": "<p>I using a parallax effect on a home page with a fixed nav bar that works fine, however for the other pages that don't have the parallax effect, the fixed nav is broken.</p>\n\n<p>you can see the working parallax/fixed nav <a href=\"http://wearerain.co/test/s-index.html\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>and the broken fixed nav <a href=\"http://wearerain.co/test/ri-expert.html\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"tags": ["javascript", "html", "node.js", "browserify"], "comments": [{"owner": {"reputation": 7185, "user_id": 4949918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49ebe74084d2bf2feab20ec74c7b05ba?s=128&d=identicon&r=PG&f=1", "display_name": "Axnyff", "link": "https://stackoverflow.com/users/4949918/axnyff"}, "edited": false, "score": 1, "creation_date": 1565819349, "post_id": 57502311, "comment_id": 101473955, "body": "The library you are using are meant for node and don&#39;t seems to work in the brower. It seems to primary be an issue with Buffer in node. Maybe you could try importing this : <a href=\"https://github.com/feross/buffer\" rel=\"nofollow noreferrer\">github.com/feross/buffer</a> and assigning to the window but it&#39;s not sure at all it is going to work"}, {"owner": {"reputation": 7185, "user_id": 4949918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49ebe74084d2bf2feab20ec74c7b05ba?s=128&d=identicon&r=PG&f=1", "display_name": "Axnyff", "link": "https://stackoverflow.com/users/4949918/axnyff"}, "edited": false, "score": 1, "creation_date": 1565819506, "post_id": 57502311, "comment_id": 101473992, "body": "This is probably not going to work. You are using a library to load a headless version of Chrome, you can&#39;t do that in a browser. Also, due to security restriction ( look up CORS), you probable won&#39;t be able to send a request to any webpage from your browser."}], "owner": {"reputation": 1, "user_id": 11860814, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-VZe2m9Ruvbo/AAAAAAAAAAI/AAAAAAAAAyk/cYiZFlYKs4I/photo.jpg?sz=128", "display_name": "Al Shahriar Rokon", "link": "https://stackoverflow.com/users/11860814/al-shahriar-rokon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1565819560, "creation_date": 1565818092, "last_edit_date": 1565819560, "question_id": 57502311, "link": "https://stackoverflow.com/questions/57502311/how-to-bundle-up-chromy-with-browerserify-to-make-a-script-to-put-in-html", "title": "How to bundle up chromy with browerserify to make a script to put in HTML", "body": "<p>I am trying scrape to a dynamic website that loads element upon user scrolling. I am using nodejs modules chromy and browserify and cheerio. </p>\n\n<p>When I run the script on my computer its works perfectly and gives me the expected results. Since I want to use this scripts on an HTML I used browserify to bundle up all the node modules including cheerio and chromy. When the page loads it gives me an error.</p>\n\n<p>const cheerio = require('cheerio');\u2028const showResult = require('./showResult');\u2028const Chormy= require('chromy');\nwindow.scrape= function (){\n  let url= \u2018<a href=\"https://www.newegg.com/Laptops-Notebooks/Category/ID-223?Tpk=laptops\" rel=\"nofollow noreferrer\">https://www.newegg.com/Laptops-Notebooks/Category/ID-223?Tpk=laptops</a>\u2019;</p>\n\n<p>newwgg(url);</p>\n\n<p>function newegg(url) {\u2028\n    //const proxyUrl = '<a href=\"https://secret-ocean-49799.herokuapp.com/\" rel=\"nofollow noreferrer\">https://secret-ocean-49799.herokuapp.com/</a>';\u2028\u2028\n    //const result = fetch(<code>${url}</code>).then(response => response.text());\u2028\n    let chromy= new Chormy({visible: false});\u2028</p>\n\n<pre><code>chromy.chain()\u2028\n.goto(url)\u2028\n.evaluate(() =&gt;{\u2028\n  return document.body.innerHTML;\u2028\n})\u2028\n.result((body) =&gt; {\u2028\n  console.log(body);\u2028\n  const $= cheerio.load(body);\u2028\n  const items=$('.list-wrap').children().eq(3).children();\u2028\n  console.log(items.length);\u2028\u2028\n  for(var i = 0; i &lt; items.length * 2; i+= 2){\u2028\n    const itemLink = items.children().eq(i).attr('href');\u2028\n    var itemImage = items.children().eq(i).children().eq(1).attr('src');\u2028\n    var itemName = items.children().eq(i).children().eq(1).attr('title');\u2028\n    itemImage = itemImage.substring(2, itemImage.length);\u2028\n    itemName = itemName.substring(0, 60);\u2028\n    itemName = itemName.substring(0, Math.min(itemName.length, itemName.lastIndexOf(\" \")));\u2028\n    //console.log(itemLink)\u2028\n    //console.log(itemImage)\u2028\n    //console.log(itemName)\u2028\n    newEggSearchResult.push(itemImage + ' | ' + itemName + ' | ' + \"New\" + ' | ' + '$00.00' + ' | ' + itemLink + '\\n');\u2028\n  }\u2028\n  const items2=$('.list-wrap').children().eq(7).children();\u2028\n  console.log(items2.length);\u2028\n    for(var i = 0; i &lt; items2.length * 2; i+= 2){\u2028\n      const itemLink = items2.children().eq(i).attr('href');\u2028\n      var itemImage = items2.children().eq(i).children().eq(1).attr('src');\u2028\n      var itemName = items2.children().eq(i).children().eq(1).attr('title');\u2028\n      itemImage = itemImage.substring(2, itemImage.length);\u2028\n      itemName = itemName.substring(0, 60);\u2028\n      itemName = itemName.substring(0, Math.min(itemName.length, itemName.lastIndexOf(\" \")));\u2028\n      //console.log(itemLink)\u2028\n      //console.log(itemImage)\u2028\n\n      //console.log(itemName)\u2028\n      newEggSearchResult.push(itemImage + ' | ' + itemName + ' | ' + \"New\" + ' | ' + '$00.00' + ' | ' + itemLink + '\\n');\u2028\n    }\u2028\u2028\n    var allResult = '';\u2028\n    for (let i = 0; i &lt; newEggSearchResult.length; i++) {\u2028\n      allResult = allResult.concat(newEggSearchResult[i]);\u2028\n    }\u2028\u2028\n    //showResult.show(allResult, 'newegg');\u2028\u2028\u2028\n  })\u2028\n  .end()\u2028\n  .then(() =&gt;chromy.close());\u2028    }\n\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/MJjyi.jpg\" rel=\"nofollow noreferrer\">Error</a>\n<a href=\"https://i.stack.imgur.com/gWvgE.jpg\" rel=\"nofollow noreferrer\">Error2</a></p>\n"}, {"tags": ["javascript", "node.js", "testing", "nightwatch.js"], "answers": [{"tags": [], "owner": {"reputation": 972, "user_id": 3817795, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z2M6K.jpg?s=128&g=1", "display_name": "Swagin9", "link": "https://stackoverflow.com/users/3817795/swagin9"}, "is_accepted": true, "score": 2, "last_activity_date": 1565818061, "creation_date": 1565818061, "answer_id": 57502303, "question_id": 57502302, "link": "https://stackoverflow.com/questions/57502302/typeerror-err-unescaped-characters-when-running-nightwatchjs-test/57502303#57502303", "title": "TypeError [ERR_UNESCAPED_CHARACTERS] when running nightwatchjs test", "body": "<p>As part of the change from chrome version 74.x.x to 76.x.x, I ran into the switch that was made where ChromeDriver now runs in W3C standard compliant mode by default (chromeDriver version 75.0.3770.8 specifically).</p>\n\n<p>To get around this for my existing codebase, I had to add the w3c setting below to my configuration file:</p>\n\n<pre><code>desiredCapabilities: {\n        browserName: \"chrome\",\n        chromeOptions: {\n          w3c: false\n        }\n      }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 783, "user_id": 4627040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z3WkC.jpg?s=128&g=1", "display_name": "Saeed Hassanvand", "link": "https://stackoverflow.com/users/4627040/saeed-hassanvand"}, "edited": false, "score": 2, "creation_date": 1579515280, "post_id": 59820730, "comment_id": 105779259, "body": "Please add some description to your answer."}], "tags": [], "owner": {"reputation": 13, "user_id": 1481037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9894a07d60195c1d8e8070554d8b5293?s=128&d=identicon&r=PG", "display_name": "Harjinder Banga", "link": "https://stackoverflow.com/users/1481037/harjinder-banga"}, "is_accepted": false, "score": 0, "last_activity_date": 1579522149, "last_edit_date": 1579522149, "creation_date": 1579514068, "answer_id": 59820730, "question_id": 57502302, "link": "https://stackoverflow.com/questions/57502302/typeerror-err-unescaped-characters-when-running-nightwatchjs-test/59820730#59820730", "title": "TypeError [ERR_UNESCAPED_CHARACTERS] when running nightwatchjs test", "body": "<p>In the above commented code, the implementation is not correct so adding that</p>\n\n<pre><code>\"desiredCapabilities\": {\n            \"browserName\": \"chrome\",\n            \"javascriptEnabled\": true,\n            \"acceptSslCerts\": true,\n            \"chromeOptions\": {\n              \"w3c\": false,\n              \"args\": [\"--headlesffs\",  \"window-size=1280,800\"]\n\n            }\n          }\n</code></pre>\n"}], "owner": {"reputation": 972, "user_id": 3817795, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z2M6K.jpg?s=128&g=1", "display_name": "Swagin9", "link": "https://stackoverflow.com/users/3817795/swagin9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1132, "favorite_count": 0, "accepted_answer_id": 57502303, "answer_count": 2, "score": 1, "last_activity_date": 1579522149, "creation_date": 1565818061, "question_id": 57502302, "link": "https://stackoverflow.com/questions/57502302/typeerror-err-unescaped-characters-when-running-nightwatchjs-test", "title": "TypeError [ERR_UNESCAPED_CHARACTERS] when running nightwatchjs test", "body": "<p>I just updated my chromedriver from version 74.x.x to 76.x.x and received the following error:</p>\n\n<pre><code>Error while running .isElementDisplayed() protocol action: TypeError [ERR_UNESCAPED_CHARACTERS]: Error while trying to create HTTP request for \"/wd/hub/session/676ee244a59ce7cba8601d00582bbe13/element/[object Object]/displayed\": Request path contains unescaped characters\n    at new ClientRequest (_http_client.js:115:13)\n    at Object.request (http.js:42:10)\n    at HttpRequest.createHttpRequest (/Users/bradleystillwagon/Documents/dev/git/nightwatch_intellij/node_modules/nightwatch/lib/http/request.js:112:55)\n    at HttpRequest.send (/Users/bradleystillwagon/Documents/dev/git/nightwatch_intellij/node_modules/nightwatch/lib/http/request.js:191:29)\n    at Promise (/Users/bradleystillwagon/Documents/dev/git/nightwatch_intellij/node_modules/nightwatch/lib/transport/transport.js:189:15)\n    at new Promise (&lt;anonymous&gt;)\n    at Selenium2Protocol.sendProtocolAction (/Users/bradleystillwagon/Documents/dev/git/nightwatch_intellij/node_modules/nightwatch/lib/transport/transport.js:187:12)\n    at Selenium2Protocol.runProtocolAction (/Users/bradleystillwagon/Documents/dev/git/nightwatch_intellij/node_modules/nightwatch/lib/transport/jsonwire.js:61:17)\n    at Object.isElementDisplayed (/Users/bradleystillwagon/Documents/dev/git/nightwatch_intellij/node_modules/nightwatch/lib/transport/actions.js:54:10)\n    at Selenium2Protocol.executeProtocolAction (/Users/bradleystillwagon/Documents/dev/git/nightwatch_intellij/node_modules/nightwatch/lib/transport/transport.js:235:48)\n</code></pre>\n\n<p>I also update nightwatch from 1.1.13 to 1.2.1 in the process.</p>\n"}, {"tags": ["javascript", "node.js", "reactjs", "express", "socket.io"], "answers": [{"tags": [], "owner": {"reputation": 161, "user_id": 11929924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/081b1863c67015cf93d928f73c5be237?s=128&d=identicon&r=PG&f=1", "display_name": "deafening_roar", "link": "https://stackoverflow.com/users/11929924/deafening-roar"}, "is_accepted": true, "score": 1, "last_activity_date": 1565837639, "creation_date": 1565837639, "answer_id": 57504350, "question_id": 57502287, "link": "https://stackoverflow.com/questions/57502287/cant-connect-socket-io-node-server-to-react-frontend-post-http-localhost30/57504350#57504350", "title": "Can&#39;t connect socket.io node server to react frontend. &quot;POST http://localhost:3000/socket.io/?EIO=3&amp;transport=polling&amp;t=MoHNIJT 404 (Not Found)&quot;", "body": "<p>You need to use the <code>http</code> library instead of the <code>https</code> one.</p>\n\n<p><code>server.listen(3500)</code> does not support https. If for some reason you do need to use it, you can reference <a href=\"https://stackoverflow.com/a/47581486/11929924\">this answer</a>.</p>\n\n<p>Also, on your client you need to tell the socket library the URL of the host, otherwise it will default to <code>window.location</code> as mentioned <a href=\"https://socket.io/docs/client-api/\" rel=\"nofollow noreferrer\">here in the docs</a> which seems to be your case as you mentioned the requests are directed towards <code>localhost:3000</code> and your server is on <code>localhost:3500</code> so change this</p>\n\n<pre><code>import openSocket from \"socket.io-client\";\nconst hostURL = \"http://localhost:3500\";\nconst socket = openSocket()\n</code></pre>\n\n<p>to this</p>\n\n<pre><code>import openSocket from \"socket.io-client\";\nconst hostURL = \"http://localhost:3500\";\nconst socket = openSocket(hostURL)\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 11760002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BPkUT.jpg?s=128&g=1", "display_name": "Reuben McQueen", "link": "https://stackoverflow.com/users/11760002/reuben-mcqueen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 589, "favorite_count": 0, "accepted_answer_id": 57504350, "answer_count": 1, "score": 1, "last_activity_date": 1565837639, "creation_date": 1565818019, "last_edit_date": 1565826104, "question_id": 57502287, "link": "https://stackoverflow.com/questions/57502287/cant-connect-socket-io-node-server-to-react-frontend-post-http-localhost30", "title": "Can&#39;t connect socket.io node server to react frontend. &quot;POST http://localhost:3000/socket.io/?EIO=3&amp;transport=polling&amp;t=MoHNIJT 404 (Not Found)&quot;", "body": "<p>I have created a frontend in react and a backend in express nodejs, and I am using socket.io for the client and server to communicate.</p>\n\n<p>When I load the react page I get the following error every second:</p>\n\n<pre><code>Failed to load resource: the server responded with a status of 404 (Not Found)\n</code></pre>\n\n<p>I have set the frontend to run on port 3000 and the server to run on port 3500. The failed connect requests are being sent to the address: \n<a href=\"http://localhost:3000/socket.io/?EIO=3&amp;transport=polling&amp;t=MoHUt8D\" rel=\"nofollow noreferrer\">http://localhost:3000/socket.io/?EIO=3&amp;transport=polling&amp;t=MoHUt8D</a></p>\n\n<p>Below is the setup for the node backend:</p>\n\n<pre><code>const bodyParser = require('body-parser');\nconst https = require('https');\nconst fs = require('fs');\nconst express = require('express');\nconst app = express();\n\napp.use(bodyParser.json());\napp.use(function(req, res, next) {\n  res.header('Access-Control-Allow-Origin', \n'https://www.localhost:3000');\n  res.header('Access-Control-Allow-Headers', 'Content-Type, Authorization');\n  res.header('Access-Control-Allow-Methods', 'GET, POST, DELETE, PATCH, PUT');\n  res.header('Access-Control-Allow-Credentials', 'true');\n  next();\n});\n\nconst server = https.createServer(app);\nvar io = require('socket.io')(server);\n\nconsole.log('Server listening on port 3500.');\nserver.listen(3500);\n</code></pre>\n\n<p>And the client side connects as follows:</p>\n\n<pre><code>import openSocket from \"socket.io-client\";\nconst hostURL = \"http://localhost:3500\";\nconst socket = openSocket()\n</code></pre>\n\n<p>Any advice on how to stop the error and have the front and backend working with socket.io</p>\n"}, {"tags": ["javascript", "html", "geolocation"], "comments": [{"owner": {"reputation": 2131, "user_id": 7674358, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-C3MZIj8KGao/AAAAAAAAAAI/AAAAAAAACQA/EwJ93h-Abno/photo.jpg?sz=128", "display_name": "ajai Jothi", "link": "https://stackoverflow.com/users/7674358/ajai-jothi"}, "edited": false, "score": 0, "creation_date": 1565818136, "post_id": 57502271, "comment_id": 101473576, "body": "First, you need to check the DB if the location is already saved,IF Yes, use the saved location. ELSE, call <code>navigator.geolocation.getCurrentPosition(saveToDatabase)</code>"}, {"owner": {"reputation": 13259, "user_id": 1207049, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/445e3d8cb8ef7471a15bdeda0b573de6?s=128&d=identicon&r=PG", "display_name": "marekful", "link": "https://stackoverflow.com/users/1207049/marekful"}, "edited": false, "score": 0, "creation_date": 1565818450, "post_id": 57502271, "comment_id": 101473675, "body": "A number of ways. Have you had anything in mind? Have you tried anything? It depends on your system, too. What if you user changes location between visits? Does the application use a database? Does it support user sessions? What about setting a flag in a cookie or LocalStorage? The question is too broad in this form."}, {"owner": {"reputation": 79, "user_id": 5672726, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d01a16e4b30bd2afb952c516bb75698?s=128&d=identicon&r=PG", "display_name": "Carlos Gomez", "link": "https://stackoverflow.com/users/5672726/carlos-gomez"}, "edited": false, "score": 0, "creation_date": 1565872239, "post_id": 57502271, "comment_id": 101487019, "body": "There is no session because visitors are not logged in. I thought on compare the location to the database if it already exists but coordinates can change every time. Also store a cookie or use LocalStorage can be a solution, but if the user cleans this information I will be recording his location multiple times."}], "answers": [{"comments": [{"owner": {"reputation": 13259, "user_id": 1207049, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/445e3d8cb8ef7471a15bdeda0b573de6?s=128&d=identicon&r=PG", "display_name": "marekful", "link": "https://stackoverflow.com/users/1207049/marekful"}, "edited": false, "score": 0, "creation_date": 1565818257, "post_id": 57502320, "comment_id": 101473613, "body": "What if the page is reloaded?"}, {"owner": {"reputation": 25, "user_id": 11297982, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Gcwlazdn3UY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdcvvw1a7qpSOtiboMeHWDNMV4Z5Q/mo/photo.jpg?sz=128", "display_name": "yeet", "link": "https://stackoverflow.com/users/11297982/yeet"}, "reply_to_user": {"reputation": 13259, "user_id": 1207049, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/445e3d8cb8ef7471a15bdeda0b573de6?s=128&d=identicon&r=PG", "display_name": "marekful", "link": "https://stackoverflow.com/users/1207049/marekful"}, "edited": false, "score": 0, "creation_date": 1565818322, "post_id": 57502320, "comment_id": 101473630, "body": "You could store it in a cookie and check if cookie exists instead of checking if date is null"}, {"owner": {"reputation": 13259, "user_id": 1207049, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/445e3d8cb8ef7471a15bdeda0b573de6?s=128&d=identicon&r=PG", "display_name": "marekful", "link": "https://stackoverflow.com/users/1207049/marekful"}, "edited": false, "score": 0, "creation_date": 1565818532, "post_id": 57502320, "comment_id": 101473698, "body": "Indeed you could. Your answer doesn&#39;t indicate anything like that though and has no explanation whatsoever. Not a good answer."}, {"owner": {"reputation": 25, "user_id": 11297982, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Gcwlazdn3UY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdcvvw1a7qpSOtiboMeHWDNMV4Z5Q/mo/photo.jpg?sz=128", "display_name": "yeet", "link": "https://stackoverflow.com/users/11297982/yeet"}, "reply_to_user": {"reputation": 13259, "user_id": 1207049, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/445e3d8cb8ef7471a15bdeda0b573de6?s=128&d=identicon&r=PG", "display_name": "marekful", "link": "https://stackoverflow.com/users/1207049/marekful"}, "edited": false, "score": 0, "creation_date": 1565818648, "post_id": 57502320, "comment_id": 101473734, "body": "You didn&#39;t mention the page being reloaded in your question"}], "tags": [], "owner": {"reputation": 25, "user_id": 11297982, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Gcwlazdn3UY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdcvvw1a7qpSOtiboMeHWDNMV4Z5Q/mo/photo.jpg?sz=128", "display_name": "yeet", "link": "https://stackoverflow.com/users/11297982/yeet"}, "is_accepted": false, "score": 0, "last_activity_date": 1565818177, "creation_date": 1565818177, "answer_id": 57502320, "question_id": 57502271, "link": "https://stackoverflow.com/questions/57502271/capture-the-first-time-the-geolocation-is-requested-to-the-user/57502320#57502320", "title": "Capture the first time the geolocation is requested to the user", "body": "<pre><code> var date = null;\n\n if (navigator.geolocation) {\n   if (date != null) {\n       date = Date.now();\n   }\n   navigator.geolocation.getCurrentPosition(saveToDatabase);\n } else {\n   x.innerHTML = \"Geolocation is not supported by this browser.\";\n }\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 5672726, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d01a16e4b30bd2afb952c516bb75698?s=128&d=identicon&r=PG", "display_name": "Carlos Gomez", "link": "https://stackoverflow.com/users/5672726/carlos-gomez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565818177, "creation_date": 1565817944, "question_id": 57502271, "link": "https://stackoverflow.com/questions/57502271/capture-the-first-time-the-geolocation-is-requested-to-the-user", "title": "Capture the first time the geolocation is requested to the user", "body": "<p>I'm building a service to record website visitors geolocation using the HTML5 geolocation API. The problem is that I want to record only the first time the visitor give permission to the geolocation API. The API provides the following method to retrieve the location:</p>\n\n<pre><code>if (navigator.geolocation) {\n    navigator.geolocation.getCurrentPosition(saveToDatabase);\n} else {\n    x.innerHTML = \"Geolocation is not supported by this browser.\";\n}\n</code></pre>\n\n<p>But if I save the location inside the saveToDatabase function I'm going to record every time this is requested, not when the user give permission.</p>\n\n<p>I expect I can save the first geolocation requested to the user. Anyway I can accomplish this?</p>\n"}, {"tags": ["javascript", "html", "css", "svg", "canvas"], "comments": [{"owner": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1565817784, "post_id": 57502210, "comment_id": 101473482, "body": "<a href=\"https://stackoverflow.com/a/25095549/8620333\">stackoverflow.com/a/25095549/8620333</a> ?"}, {"owner": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "reply_to_user": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1565817862, "post_id": 57502210, "comment_id": 101473503, "body": "@TemaniAfif this is not an SVG I want to draw SVG so that On zoom it does not pixelate. this will pixelate on zoom"}, {"owner": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1565818029, "post_id": 57502210, "comment_id": 101473542, "body": "from what I know this not the pupose of canvas. SVG is made for scalable vector and canvas is made for bitmap and pixel by pixel rendring. (<a href=\"https://www.educba.com/svg-vs-canvas/\" rel=\"nofollow noreferrer\">educba.com/svg-vs-canvas</a>). Even if you draw the content of an SVG inside a canvas you will still have issue with zomming"}, {"owner": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1565818136, "post_id": 57502210, "comment_id": 101473575, "body": "from the link above : <i>SVG does not depend on the resolution, means it is resolution independent. If we enlarge the image, it will not lose its shape. Canvas is resolution dependent. If the image is enlarged, it will start reflecting the pixels of the image.</i>"}, {"owner": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "reply_to_user": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1565818576, "post_id": 57502210, "comment_id": 101473711, "body": "@TemaniAfif is there an alternative for that ? how can I make a scalable canvas like thing using javascript I need to pass x,y dynamically to it"}, {"owner": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1565818686, "post_id": 57502210, "comment_id": 101473744, "body": "You clearly don&#39;t need canvas. What you need is SVG. I guess you have to re-think your choices because you are trying to do things with the wrong tool."}, {"owner": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "reply_to_user": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1565818757, "post_id": 57502210, "comment_id": 101473768, "body": "Why i was using canvas was because you just pass x y and stroke multiple shapes is the same possible on svg too using javascript ?"}, {"owner": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1565818840, "post_id": 57502210, "comment_id": 101473790, "body": "Yes possible, simply take the time to read more about SVG because you can also place element using coordinates"}], "answers": [{"comments": [{"owner": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1565818180, "post_id": 57502284, "comment_id": 101473587, "body": "I see an empty canvas (using Chrome)"}, {"owner": {"reputation": 51813, "user_id": 860099, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/125k3.jpg?s=128&g=1", "display_name": "Kamil Kie\u0142czewski", "link": "https://stackoverflow.com/users/860099/kamil-kie%c5%82czewski"}, "reply_to_user": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1565818265, "post_id": 57502284, "comment_id": 101473614, "body": "try now (i use setTimeout to wait some time...)"}, {"owner": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1565818322, "post_id": 57502284, "comment_id": 101473631, "body": "still nothing .."}, {"owner": {"reputation": 51813, "user_id": 860099, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/125k3.jpg?s=128&g=1", "display_name": "Kamil Kie\u0142czewski", "link": "https://stackoverflow.com/users/860099/kamil-kie%c5%82czewski"}, "reply_to_user": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1565818388, "post_id": 57502284, "comment_id": 101473651, "body": "I add jsfiddle - in SO snippets doesnt works... strange"}, {"owner": {"reputation": 101196, "user_id": 1038015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d912dac5c74b47bbaff7164f5f8bb8?s=128&d=identicon&r=PG", "display_name": "Robert Longson", "link": "https://stackoverflow.com/users/1038015/robert-longson"}, "edited": false, "score": 2, "creation_date": 1565818594, "post_id": 57502284, "comment_id": 101473719, "body": "@KamilKie\u0142czewski you&#39;ve forgotten to wait for the image onload event. it&#39;s random whether it works or not"}, {"owner": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "edited": false, "score": 0, "creation_date": 1565818683, "post_id": 57502284, "comment_id": 101473742, "body": "Yes it works randomly and stops working randomly weird"}, {"owner": {"reputation": 51813, "user_id": 860099, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/125k3.jpg?s=128&g=1", "display_name": "Kamil Kie\u0142czewski", "link": "https://stackoverflow.com/users/860099/kamil-kie%c5%82czewski"}, "reply_to_user": {"reputation": 101196, "user_id": 1038015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d912dac5c74b47bbaff7164f5f8bb8?s=128&d=identicon&r=PG", "display_name": "Robert Longson", "link": "https://stackoverflow.com/users/1038015/robert-longson"}, "edited": false, "score": 0, "creation_date": 1565818717, "post_id": 57502284, "comment_id": 101473755, "body": "@RobertLongson yes - you are right - fixed"}, {"owner": {"reputation": 51813, "user_id": 860099, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/125k3.jpg?s=128&g=1", "display_name": "Kamil Kie\u0142czewski", "link": "https://stackoverflow.com/users/860099/kamil-kie%c5%82czewski"}, "reply_to_user": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "edited": false, "score": 1, "creation_date": 1565818920, "post_id": 57502284, "comment_id": 101473813, "body": "@dota2pro it convert binary string to ascii string - more info <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WindowBase64/Base64_encoding_and_decoding\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "edited": false, "score": 0, "creation_date": 1565819425, "post_id": 57502284, "comment_id": 101473972, "body": "Thanks for the answer but is it possible to draw SVG without using a HTML Dom element, I want to draw SVGs in for loop and having them already in DOM is not possible for me <code>let xml = new XMLSerializer().serializeToString(circSvg);</code>"}, {"owner": {"reputation": 51813, "user_id": 860099, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/125k3.jpg?s=128&g=1", "display_name": "Kamil Kie\u0142czewski", "link": "https://stackoverflow.com/users/860099/kamil-kie%c5%82czewski"}, "edited": false, "score": 0, "creation_date": 1565819518, "post_id": 57502284, "comment_id": 101473995, "body": "you can create xml-s for each svg (you can grab svg from DOM by proper querySelector) and draw them on single canvas"}, {"owner": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "edited": false, "score": 0, "creation_date": 1565819626, "post_id": 57502284, "comment_id": 101474026, "body": "in above case if there is no svg in HTML what do replace <code>circSvg</code> with in Javascript ? So without svg in DOM it isnt possible ?"}, {"owner": {"reputation": 51813, "user_id": 860099, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/125k3.jpg?s=128&g=1", "display_name": "Kamil Kie\u0142czewski", "link": "https://stackoverflow.com/users/860099/kamil-kie%c5%82czewski"}, "edited": false, "score": 1, "creation_date": 1565819733, "post_id": 57502284, "comment_id": 101474051, "body": "you can use <code>let svgArr = [...document.querySelector(&#39;svg&#39;)]</code> to grab array of svg-s and iterate over it - if you don&#39;t have svg in dom - then this array will be empty - so any loop iteration will be executed and your canvas will be empty"}], "tags": [], "owner": {"reputation": 51813, "user_id": 860099, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/125k3.jpg?s=128&g=1", "display_name": "Kamil Kie\u0142czewski", "link": "https://stackoverflow.com/users/860099/kamil-kie%c5%82czewski"}, "is_accepted": true, "score": 1, "last_activity_date": 1565819000, "last_edit_date": 1565819000, "creation_date": 1565818004, "answer_id": 57502284, "question_id": 57502210, "link": "https://stackoverflow.com/questions/57502210/how-to-draw-a-svg-on-canvas-using-javascript/57502284#57502284", "title": "How to draw a SVG on Canvas using Javascript?", "body": "<p>Try to use image to draw (so snippet not works - but when you edit it - it works)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let xml = new XMLSerializer().serializeToString(circSvg);   // get svg data\r\nlet svg64 = btoa(xml);                         // make it base64\r\nlet b64Start = 'data:image/svg+xml;base64,';\r\nlet image64 = b64Start + svg64;                // prepend a \"header\"\r\n\r\ncircImg.src = image64;                         // image source\r\ncircImg.onload = x=&gt; {\r\n  can.getContext('2d').drawImage(circImg, 0, 0); // draw\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>svg&lt;br&gt;\r\n&lt;svg id=\"circSvg\" width=\"100\" height=\"100\"&gt;\r\n   &lt;circle cx=\"50\" cy=\"50\" r=\"40\" stroke=\"green\" stroke-width=\"4\" fill=\"yellow\" /&gt;\r\n   Sorry, your browser does not support inline SVG.\r\n&lt;/svg&gt; \r\n\r\n&lt;br&gt;canvas&lt;br&gt; &lt;canvas id=\"can\"&gt;&lt;/canvas&gt;\r\n\r\n&lt;img id=\"circImg\" style=\"display:none\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 577, "favorite_count": 0, "closed_date": 1565825434, "accepted_answer_id": 57502284, "answer_count": 1, "score": 0, "last_activity_date": 1565819347, "creation_date": 1565817585, "last_edit_date": 1565819347, "question_id": 57502210, "link": "https://stackoverflow.com/questions/57502210/how-to-draw-a-svg-on-canvas-using-javascript", "closed_reason": "Duplicate", "title": "How to draw a SVG on Canvas using Javascript?", "body": "<p>How Can I draw this svg on a Canvas using Javascript (Without using Dom) ?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;svg width=\"100\" height=\"100\"&gt;\r\n   &lt;circle cx=\"50\" cy=\"50\" r=\"40\" stroke=\"green\" stroke-width=\"4\" fill=\"yellow\" /&gt;\r\n   Sorry, your browser does not support inline SVG.\r\n&lt;/svg&gt; </code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Note: Answers in post <a href=\"https://stackoverflow.com/questions/3768565/drawing-an-svg-file-on-a-html5-canvas\">this</a> and <a href=\"https://stackoverflow.com/questions/3768565/drawing-an-svg-file-on-a-html5-canvas?rq=1\">this</a> Only give a solution when you have an external SVG. My requirement is to draw multiple svgs on Canvas (or anything else) with variable x,y, radius and color</p>\n"}, {"tags": ["javascript", "vue.js"], "comments": [{"owner": {"reputation": 21818, "user_id": 8583563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U42av.png?s=128&g=1", "display_name": "skirtle", "link": "https://stackoverflow.com/users/8583563/skirtle"}, "edited": false, "score": 0, "creation_date": 1565820610, "post_id": 57502182, "comment_id": 101474280, "body": "The desired functionality isn&#39;t really clear. If <code>money_due</code> is 1000 and the user enters 100 for the <code>deposit</code> then presumably you&#39;d want <code>money_due</code> to drop to 900. What would happen if the user then changes that value from 900 to 1500 (with the 100 still in the other box)? What about if the user then changes the 100 to 200? Then 300? You&#39;re going to need to spell out precisely what the expectations are here when the user changes the numbers."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11866150"}, "reply_to_user": {"reputation": 21818, "user_id": 8583563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U42av.png?s=128&g=1", "display_name": "skirtle", "link": "https://stackoverflow.com/users/8583563/skirtle"}, "edited": false, "score": 0, "creation_date": 1565821531, "post_id": 57502182, "comment_id": 101474495, "body": "@skirtle If the user adds any amount into deposit (or if the default value is in deposit), it should add it onto the total for money_due. If the deposit is empty, it should not populate anything but the last_month and security_deposit."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user11866150"}, "edited": false, "score": 0, "creation_date": 1565890949, "post_id": 57505636, "comment_id": 101495810, "body": "That is exactly what I was looking for. Thanks!"}], "tags": [], "owner": {"reputation": 5657, "user_id": 2316540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f763842eb4cfb7e850fc3691e88083fe?s=128&d=identicon&r=PG", "display_name": "muka.gergely", "link": "https://stackoverflow.com/users/2316540/muka-gergely"}, "is_accepted": true, "score": 0, "last_activity_date": 1565850520, "creation_date": 1565850520, "answer_id": 57505636, "question_id": 57502182, "link": "https://stackoverflow.com/questions/57502182/need-the-value-subtraction-of-value-to-effect-the-value-of-another-input/57505636#57505636", "title": "Need the value (subtraction of value) to effect the value of another input", "body": "<p>Sorry, but it's a bit unclear what you want to achieve with your code.</p>\n\n<p>I created a snippet where I tried to model the <strong>deposit</strong> and the <strong>money_due</strong> relations.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>new Vue({\r\n  el: \"#app\",\r\n  data: {\r\n    listing: {\r\n      price: 10\r\n    },\r\n    document: {\r\n      last_month: -20,\r\n      security_deposit: 10,\r\n      deposit: 0,\r\n      money_due: 0\r\n    },\r\n  },\r\n  computed: {\r\n    hasDeposit() {\r\n      return Number(this.document.money_due) + Number(this.document.deposit)\r\n    }\r\n  },\r\n  mounted() {\r\n    this.document.deposit = this.listing.price;\r\n    this.document.money_due = this.document.last_month + this.document.security_deposit\r\n  }\r\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.17/vue.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div id=\"app\"&gt;\r\n  &lt;label&gt;Total Sum Due &lt;span class=\"note\"&gt;2&lt;/span&gt;\r\n  &lt;input type=\"text\" class=\"form-control\" v-model=\"hasDeposit\" placeholder=\"\"&gt;&lt;/label&gt;&lt;br /&gt;\r\n\r\n  &lt;label&gt;Deposit &lt;span class=\"note\"&gt;2&lt;/span&gt;\r\n  &lt;input type=\"text\" class=\"form-control\" v-model=\"document.deposit\" placeholder=\"\"&gt;&lt;/label&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<ol>\n<li><p>I mocked the data that's referenced in your code</p></li>\n<li><p>Moved <strong>hasDeposit()</strong> from being a <strong>method</strong> to <strong>computed</strong> (it only returns a calculated value)</p></li>\n<li><p>Changed what's in <strong>mounted</strong></p></li>\n</ol>\n\n<p>I hope this is what you were after.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11866150"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 57505636, "answer_count": 1, "score": 1, "last_activity_date": 1565850520, "creation_date": 1565817411, "last_edit_date": 1565819702, "question_id": 57502182, "link": "https://stackoverflow.com/questions/57502182/need-the-value-subtraction-of-value-to-effect-the-value-of-another-input", "title": "Need the value (subtraction of value) to effect the value of another input", "body": "<p>I'm trying to the value of money_due and have the value for deposit subtracted from it if the deposit input is holding a value. So far, it is adding it on just fine, but it is not removing it when I empty the value.</p>\n\n<pre><code>      &lt;div class=\"col-sm-12 col-md-6 col-lg-4\"&gt;\n        &lt;div class=\"form-group\"&gt;\n          &lt;label&gt;Total Sum Due &lt;span class=\"note\"&gt;2&lt;/span&gt;&lt;/label&gt;\n          &lt;input type=\"text\" class=\"form-control\" v-model=\"document.money_due\" placeholder=\"\"&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=\"col-sm-12 col-md-6 col-lg-4\"&gt;\n        &lt;div class=\"form-group\"&gt;\n          &lt;label&gt;Deposit &lt;span class=\"note\"&gt;2&lt;/span&gt;&lt;/label&gt;\n          &lt;input type=\"text\" class=\"form-control\" @change=\"hasDeposit\" v-model=\"document.deposit\" placeholder=\"\"&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n\n    data() {\n      return {\n        now: new Date().toISOString(),\n        document: {\n          deposit: '',\n          money_due: '',\n        }\n      }\n    },\n\nthis.document.deposit = this.listing.price;\nthis.document.money_due = this.document.last_month + this.document.security_deposit,\n\n    methods: {\n      hasDeposit() {\n        if(this.document.deposit == '') {\n          return this.document.money_due = this.document.money_due + this.document.deposit;\n         } else {\n           return this.document.money_due = this.document.money_due;\n        }\n      },\n\n    mounted() {\n      this.hasDeposit();\n    },\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "puppeteer", "webautomation"], "comments": [{"owner": {"reputation": 12868, "user_id": 2373249, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/byIOk.jpg?s=128&g=1", "display_name": "hardkoded", "link": "https://stackoverflow.com/users/2373249/hardkoded"}, "edited": false, "score": 0, "creation_date": 1565818054, "post_id": 57502152, "comment_id": 101473551, "body": "Are you attaching to that event before clicking the link?"}, {"owner": {"reputation": 271, "user_id": 3383534, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ac4110f5b551429d1c4930e983aa531?s=128&d=identicon&r=PG&f=1", "display_name": "ziad.ali", "link": "https://stackoverflow.com/users/3383534/ziad-ali"}, "reply_to_user": {"reputation": 12868, "user_id": 2373249, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/byIOk.jpg?s=128&g=1", "display_name": "hardkoded", "link": "https://stackoverflow.com/users/2373249/hardkoded"}, "edited": false, "score": 0, "creation_date": 1565958909, "post_id": 57502152, "comment_id": 101515910, "body": "Not sure I followed.. attaching how?"}, {"owner": {"reputation": 12868, "user_id": 2373249, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/byIOk.jpg?s=128&g=1", "display_name": "hardkoded", "link": "https://stackoverflow.com/users/2373249/hardkoded"}, "edited": false, "score": 0, "creation_date": 1565959455, "post_id": 57502152, "comment_id": 101516177, "body": "Are you calling <code>page.on</code> before clicking the link?"}, {"owner": {"reputation": 271, "user_id": 3383534, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ac4110f5b551429d1c4930e983aa531?s=128&d=identicon&r=PG&f=1", "display_name": "ziad.ali", "link": "https://stackoverflow.com/users/3383534/ziad-ali"}, "reply_to_user": {"reputation": 12868, "user_id": 2373249, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/byIOk.jpg?s=128&g=1", "display_name": "hardkoded", "link": "https://stackoverflow.com/users/2373249/hardkoded"}, "edited": false, "score": 1, "creation_date": 1565972096, "post_id": 57502152, "comment_id": 101522007, "body": "I wasn&#39;t, didn&#39;t know about that. It worked haha. You want to put this as an answer so i can accept? Thank you."}], "answers": [{"tags": [], "owner": {"reputation": 12868, "user_id": 2373249, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/byIOk.jpg?s=128&g=1", "display_name": "hardkoded", "link": "https://stackoverflow.com/users/2373249/hardkoded"}, "is_accepted": true, "score": 6, "last_activity_date": 1565973670, "creation_date": 1565973670, "answer_id": 57528278, "question_id": 57502152, "link": "https://stackoverflow.com/questions/57502152/how-to-confirm-alert-popup-with-puppeteer/57528278#57528278", "title": "How to confirm alert popup with puppeteer", "body": "<p>Make sure you start listening to the <code>dialog</code> event <strong>before</strong> clicking the link. Something like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>page.on('dialog', async dialog =&gt; {\n  console.log('here');\n  await dialog.accept();\n});\n\nawait page.click('a');\n</code></pre>\n"}], "owner": {"reputation": 271, "user_id": 3383534, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ac4110f5b551429d1c4930e983aa531?s=128&d=identicon&r=PG&f=1", "display_name": "ziad.ali", "link": "https://stackoverflow.com/users/3383534/ziad-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1471, "favorite_count": 1, "accepted_answer_id": 57528278, "answer_count": 1, "score": 2, "last_activity_date": 1608546268, "creation_date": 1565817259, "last_edit_date": 1608546268, "question_id": 57502152, "link": "https://stackoverflow.com/questions/57502152/how-to-confirm-alert-popup-with-puppeteer", "title": "How to confirm alert popup with puppeteer", "body": "<p>I'm clicking on a link that contains a confirm dialog but not being able to dismiss.</p>\n\n<p>I tried to press \"Enter\" and use puppeteer's method to dismiss &amp; accept the dialog but nothing happened.</p>\n\n<p>The link:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;a onclick=\"return confirm('Yes?');\" id=\"link\" href=\"google.com\"&gt;\n</code></pre>\n\n<p>I tried: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>page.on('dialog', async dialog =&gt; {\n    console.log('here'); //does not pass\n    await dialog.accept();\n    //await dialog.dismiss();\n});\n</code></pre>\n\n<p>and</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>await page.keyboard.press('Enter');\nawait page.keyboard.press(String.fromCharCode(13));\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 1253, "user_id": 657280, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e014b064025cddd89b9d836679f1ff9c?s=128&d=identicon&r=PG", "display_name": "isick", "link": "https://stackoverflow.com/users/657280/isick"}, "edited": false, "score": 1, "creation_date": 1565817288, "post_id": 57502122, "comment_id": 101473340, "body": "This looks to be JSON (JavaScript object notation) with some missing syntax, probably for readability. JSON is directly usable by JavaScript -- and most languages"}, {"owner": {"reputation": 14840, "user_id": 628699, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4db7defe750f581c78a607c4fab5a26d?s=128&d=identicon&r=PG", "display_name": "imjared", "link": "https://stackoverflow.com/users/628699/imjared"}, "edited": false, "score": 0, "creation_date": 1565817432, "post_id": 57502122, "comment_id": 101473380, "body": "<a href=\"https://www.copterlabs.com/json-what-it-is-how-it-works-how-to-use-it/\" rel=\"nofollow noreferrer\">copterlabs.com/json-what-it-is-how-it-works-how-to-use-it</a>"}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 1, "creation_date": 1565817676, "post_id": 57502122, "comment_id": 101473448, "body": "Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to illustrate how you get this data. Also be sure that the data you show here is exactly the same as the data you get in your response in your code. It appears that you are missing some <code>{}</code> around the data you show here."}], "answers": [{"tags": [], "owner": {"reputation": 25, "user_id": 11297982, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Gcwlazdn3UY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdcvvw1a7qpSOtiboMeHWDNMV4Z5Q/mo/photo.jpg?sz=128", "display_name": "yeet", "link": "https://stackoverflow.com/users/11297982/yeet"}, "is_accepted": false, "score": 0, "last_activity_date": 1565817498, "creation_date": 1565817498, "answer_id": 57502193, "question_id": 57502122, "link": "https://stackoverflow.com/questions/57502122/what-is-this-weird-code-i-get-from-apiary/57502193#57502193", "title": "What is this weird code I get from Apiary?", "body": "<pre><code>var Body = [\n{\n   \"programId\": 1234567890,\n   \"sku\": \"abc123\",\n   \"productName\": \"Playstation 4\",\n   \"productPrice\": 129.5,\n   \"etc...\": \"etc\"\n   }\n]\nconsole.log(Body);\nconsole.log(Body[0]);\nconsole.log(Body[0].productName)\n</code></pre>\n\n<p>This is how you deal with objects in javascript</p>\n"}], "owner": {"reputation": 3, "user_id": 8052409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32e519050f5726f038818b2e850da271?s=128&d=identicon&r=PG&f=1", "display_name": "Emil Holmsten", "link": "https://stackoverflow.com/users/8052409/emil-holmsten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1565867302, "creation_date": 1565817097, "last_edit_date": 1565861279, "question_id": 57502122, "link": "https://stackoverflow.com/questions/57502122/what-is-this-weird-code-i-get-from-apiary", "title": "What is this weird code I get from Apiary?", "body": "<p>I am trying to get data, preferably javascript, back from an API.\nThe code that gets returned is new to me, how do I use it?</p>\n\n<p>This is my js file:</p>\n\n<pre><code>var request = new XMLHttpRequest();\n\nrequest.open('POST', 'https://private-69579b-adtraction.apiary-mock.com/v1/affiliate/products');\n\nrequest.setRequestHeader('Content-Type', 'application/json');\nrequest.setRequestHeader('Accept', 'application/json');\nrequest.setRequestHeader('X-Token', '');\n\nrequest.onreadystatechange = function () {\n  if (this.readyState === 4) {\n    console.log('Status:', this.status);\n    console.log('Headers:', this.getAllResponseHeaders());\n    console.log('Body:', this.responseText);\n    console.log(apiProduct);\n    console.log(apiProduct[0]);\n    console.log(apiProduct[0].imageUrl)\n  }\n};\n\nlet apiProduct = {\n  'page': 1,\n  'pageSize': 20,\n  'channelId': 1234567890,\n  'programId': 1047411868,\n  'currency': 'SEK',\n  'minPrice': 200,\n  'orderProductsBy': 'priceDesc',\n  'inStock': true,\n  'market': 'DK',\n  'productKeyword': 'byggmax',\n  'setEpi': true\n};\n\nrequest.send(JSON.stringify(apiProduct));\n</code></pre>\n\n<p>And this is what gets returned in the console:</p>\n\n<pre><code>Status: 200\napiary.js:12 Headers: content-type: application/json\ncontent-length: 554\n\napiary.js:13 Body: [\n  {\n    \"programId\": 1234567890,\n    \"sku\": \"abc123\",\n    \"productName\": \"Playstation 4\",\n    \"productPrice\": 129.5,\n    \"productUrl\": \"http://www.example.com/store/product_acb\",\n    \"imageUrl\": \"http://www.example.com/store/product_acb.png\",\n    \"productDescription\": \"PlayStation 4 redefines rich and immersive gameplay with powerful graphics and speed.\",\n    \"ean\": \"0711719437215\",\n    \"currency\": \"SEK\",\n    \"manufacturerArticleNumber\": \"12345678\",\n    \"manufacturer\": \"Apple\",\n    \"productCategory\": \"Consoles\",\n    \"oldPrice\": 110,\n    \"shipping\": 100,\n    \"inStock\": false,\n    \"market\": \"DK\",\n    \"approvalStatus\": 1,\n    \"extraInfo\": {\n      \"array\": false,\n      \"null\": false,\n      \"number\": false,\n      \"int\": false,\n      \"valueNode\": false,\n      \"object\": false,\n      \"containerNode\": false,\n      \"missingNode\": false,\n      \"pojo\": false,\n      \"integralNumber\": false,\n      \"floatingPointNumber\": false,\n      \"short\": false,\n      \"long\": false,\n      \"double\": false,\n      \"bigDecimal\": false,\n      \"bigInteger\": false,\n      \"textual\": false,\n      \"boolean\": false,\n      \"binary\": false,\n      \"float\": false,\n      \"nodeType\": \"ARRAY\"\n    },\n    \"trackingUrl\": \"https://track.adtraction.ver/t/t?a=1036556668&amp;as=141&amp;t=2&amp;tk=1\"\n  }\n]\napiary.js:14 {page: 1, pageSize: 20, channelId: 1234567890, programId: 1047411868, currency: \"SEK\",\u00a0\u2026}channelId: 1234567890currency: \"SEK\"inStock: truemarket: \"DK\"minPrice: 200orderProductsBy: \"priceDesc\"page: 1pageSize: 20productKeyword: \"byggmax\"programId: 1047411868setEpi: true__proto__: Object\napiary.js:15 undefined\napiary.js:16 Uncaught TypeError: Cannot read property 'imageUrl' of undefined\n    at XMLHttpRequest.request.onreadystatechange (apiary.js:16)\nrequest.onreadystatechange @ apiary.js:16\nXMLHttpRequest.send (async)\n(anonymous) @ apiary.js:34\n</code></pre>\n\n<p>From your responses so far I have deduced that it is indeed JSON. I had actually tried doing this:</p>\n\n<pre><code>console.log(apiProduct[0].imageUrl)\n</code></pre>\n\n<p>before, but I got the same result then as now:</p>\n\n<pre><code>apiary.js:16 Uncaught TypeError: Cannot read property 'imageUrl' of undefined\n    at XMLHttpRequest.request.onreadystatechange (apiary.js:16)\nrequest.onreadystatechange @ apiary.js:16\nXMLHttpRequest.send (async)\n(anonymous) @ apiary.js:34\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html", "django"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 1, "creation_date": 1565817106, "post_id": 57502105, "comment_id": 101473289, "body": "<i>this html code was built automatically by jquery so I can&#39;t add id</i> \u2014 that does not make any sense. How <i>exactly</i> is the element created? Post that code."}], "answers": [{"comments": [{"owner": {"reputation": 8603, "user_id": 3289660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cGFex.jpg?s=128&g=1", "display_name": "Nidhin Joseph", "link": "https://stackoverflow.com/users/3289660/nidhin-joseph"}, "edited": false, "score": 0, "creation_date": 1565818618, "post_id": 57502136, "comment_id": 101473729, "body": "<code>this html code was built automatically by jquery so I can&#39;t add id or &quot;onlick&quot; event on this tag</code> -&gt; this is the issue what OP is facing and certainly your solution aligns with the issue."}], "tags": [], "owner": {"reputation": 25, "user_id": 11297982, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Gcwlazdn3UY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdcvvw1a7qpSOtiboMeHWDNMV4Z5Q/mo/photo.jpg?sz=128", "display_name": "yeet", "link": "https://stackoverflow.com/users/11297982/yeet"}, "is_accepted": false, "score": -2, "last_activity_date": 1565817201, "creation_date": 1565817201, "answer_id": 57502136, "question_id": 57502105, "link": "https://stackoverflow.com/questions/57502105/how-to-use-click-event-on-a-tag/57502136#57502136", "title": "How to use click event on &lt;a&gt; tag", "body": "<pre><code>&lt;a onclick=\"doStuff(this)\"&gt;Click Me&lt;/a&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "is_accepted": false, "score": 3, "last_activity_date": 1565817361, "creation_date": 1565817361, "answer_id": 57502174, "question_id": 57502105, "link": "https://stackoverflow.com/questions/57502105/how-to-use-click-event-on-a-tag/57502174#57502174", "title": "How to use click event on &lt;a&gt; tag", "body": "<blockquote>\n  <p>this html code was built automatically by jquery so I can't add id or \"onlick\" event on this tag</p>\n</blockquote>\n\n<p>If you can't control when that happens, you can still use event delegation to get involved in the click event:</p>\n\n<pre><code>$(document).on('click', '.fc-day-grid-event', function() {\n...//\n});\n</code></pre>\n\n<p>That works even if the code runs before the element exists. The code in your question only works if the element exists as of when your code runs. See <a href=\"https://api.jquery.com/on/#on-events-selector-data-handler\" rel=\"nofollow noreferrer\">the documentation</a> for details.</p>\n"}, {"tags": [], "owner": {"reputation": 864, "user_id": 314198, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6bb405dafe391c5d46711b631b5370e5?s=128&d=identicon&r=PG", "display_name": "Jonatan Cloutier", "link": "https://stackoverflow.com/users/314198/jonatan-cloutier"}, "is_accepted": false, "score": 0, "last_activity_date": 1565817387, "creation_date": 1565817387, "answer_id": 57502180, "question_id": 57502105, "link": "https://stackoverflow.com/questions/57502105/how-to-use-click-event-on-a-tag/57502180#57502180", "title": "How to use click event on &lt;a&gt; tag", "body": "<p>As the code is generated after the page rendering, you should use a delegated event handler:</p>\n\n<pre><code>$('body').on('click','.fc-day-grid-event', function() {\n    //...\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 9757640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2Mspu.jpg?s=128&g=1", "display_name": "Fish", "link": "https://stackoverflow.com/users/9757640/fish"}, "is_accepted": false, "score": 0, "last_activity_date": 1565853116, "last_edit_date": 1565853116, "creation_date": 1565818480, "answer_id": 57502374, "question_id": 57502105, "link": "https://stackoverflow.com/questions/57502105/how-to-use-click-event-on-a-tag/57502374#57502374", "title": "How to use click event on &lt;a&gt; tag", "body": "<p>The original code is missing apostrophes after the class name and after the 'click'.</p>\n\n<p>This should work:</p>\n\n<p><code>&gt; $('.fc-day-grid-event').on('click', function() {\n...//\n});</code></p>\n\n<p>However you might consider to check, if there are other dom elements with that class. An ID is much safer. A workaround could be to use multiple classes in the jQuery selection by selecting the element(s), that matches them all:</p>\n\n<pre><code>$('.fc-day-grid-event.fc-h-event.fc-event.fc-start.fc-end.fc-draggable.fc-resizable')\n</code></pre>\n\n<p>but this might still be not sufficient, because these framework-classes seem to be dynamically created and maybe deleted and the selection might be too wide or too narow. You could try to select the a tag with parent/child relations, where you know, that you are getting the right element and you could even use the innerHTML of the elements. Alternatively you could iterate through a JQuery-Selection and check for certain attributes.</p>\n\n<p>I'm not sure, if you want to change the target of the link or the target window of the link. Opening the target of a link in a new window works with standard html by using the target attribute</p>\n\n<p><code>&lt;a href='bla' target='_blank'&gt;bla ...</code> </p>\n\n<p>If you use Javascript for manipulating the target adress of a link outside of the href, the code might get hard to maintain in most contexts and the user might get confused, because he get's to page, he didn't expect. I would try to manipulate the Javascript, that is creating the a tag or if that's really impossible, i would manipulate the existing a tag according to my needs and change the attributes like this, if you want to use jQuery:</p>\n\n<p>For the target address of the link:</p>\n\n<pre><code>$('.fc-day-grid-event').attr(\"href\", \"www.newhrefvalue.com\")\n</code></pre>\n\n<p>Or for opening the link in a new tab:</p>\n\n<pre><code>$('.fc-day-grid-event').attr(\"target\", \"_blank\")\n</code></pre>\n\n<p>Then you don't need to prevent or emit events or create event listeners.</p>\n"}], "owner": {"reputation": 1, "user_id": 11040236, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zKSi3.jpg?s=128&g=1", "display_name": "Noname", "link": "https://stackoverflow.com/users/11040236/noname"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1565876040, "creation_date": 1565816999, "question_id": 57502105, "link": "https://stackoverflow.com/questions/57502105/how-to-use-click-event-on-a-tag", "title": "How to use click event on &lt;a&gt; tag", "body": "<p>How to use click event on  tag without id </p>\n\n<p>Hello everybody, I have a html tag bellow:</p>\n\n<pre><code>&lt;a class=\"fc-day-grid-event fc-h-event fc-event fc-start fc-end fc-draggable fc-resizable\" href=\"https://www.youtube.com/watch?v=XXXXX\"&gt;&lt;div class=\"fc-content\"&gt; &lt;span class=\"fc-title\"&gt;event&lt;/span&gt;&lt;/div&gt;&lt;div class=\"fc-resizer fc-end-resizer\"&gt;&lt;/div&gt;&lt;/a&gt;\n</code></pre>\n\n<p>this html code was built automatically by jquery so I can't add id or \"onlick\" event on this tag.</p>\n\n<p>What I want is when I click on this tag, it will open a new windows with href for me. I tried to use </p>\n\n<pre><code>$('.fc-day-grid-event).on('click, function() {\n...//\n});\n</code></pre>\n\n<p>But it's not working.</p>\n\n<p>How should I do for this case? Please help.</p>\n"}, {"tags": ["javascript", "firebase", "vue.js", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1565819765, "post_id": 57502101, "comment_id": 101474055, "body": "You can only write to a document once you know its completely path. So you&#39;ll have to read all documents, loop over them, and then update them one by one."}, {"owner": {"reputation": 11, "user_id": 8963662, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lMe4Bs748dA/AAAAAAAAAAI/AAAAAAAAAA0/QGhax1Ncog8/photo.jpg?sz=128", "display_name": "Emil Rotatew", "link": "https://stackoverflow.com/users/8963662/emil-rotatew"}, "reply_to_user": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1565823288, "post_id": 57502101, "comment_id": 101474838, "body": "@FrankvanPuffelen if i will  use this   chance: db.collection(&#39;users&#39;).doc(user.uid) how can i read the field?"}, {"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1565828385, "post_id": 57502101, "comment_id": 101475704, "body": "I&#39;m not sure I understand. Are you asking how to <a href=\"https://firebase.google.com/docs/firestore/query-data/get-data\" rel=\"nofollow noreferrer\">read data from Firestore</a>?"}], "owner": {"reputation": 11, "user_id": 8963662, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lMe4Bs748dA/AAAAAAAAAAI/AAAAAAAAAA0/QGhax1Ncog8/photo.jpg?sz=128", "display_name": "Emil Rotatew", "link": "https://stackoverflow.com/users/8963662/emil-rotatew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565822484, "creation_date": 1565816979, "last_edit_date": 1565822484, "question_id": 57502101, "link": "https://stackoverflow.com/questions/57502101/how-can-i-read-and-write-the-field-in-firestore-for-each-user", "title": "How can I read and write the field in firestore for each user?", "body": "<p>I need to read the field from firestore for each user. How can I do this? I'm using vuefire. I found this code, but how do I refer to the field in the document? Let's say a field called spin</p>\n\n<pre><code>firestore(){\n   return{\n   chance: db.collection('users').doc()\n}\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "stream", "fs", "ssh2-sftp"], "comments": [{"owner": {"reputation": 3580, "user_id": 3932234, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xjhvO.jpg?s=128&g=1", "display_name": "Stephen S", "link": "https://stackoverflow.com/users/3932234/stephen-s"}, "edited": false, "score": 0, "creation_date": 1566397320, "post_id": 57502052, "comment_id": 101645131, "body": "You can <code>pipe</code> the stream to the outFile stream"}], "answers": [{"tags": [], "owner": {"reputation": 3845, "user_id": 1714397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92b1629d68b1c8a78dfec02ab4a05662?s=128&d=identicon&r=PG", "display_name": "Tim X", "link": "https://stackoverflow.com/users/1714397/tim-x"}, "is_accepted": true, "score": 0, "last_activity_date": 1568712638, "creation_date": 1568712638, "answer_id": 57971337, "question_id": 57502052, "link": "https://stackoverflow.com/questions/57502052/how-can-i-read-and-download-a-file-from-a-readablestream-on-an-api-call-node-js/57971337#57971337", "title": "How can I read and download a file from a ReadableStream on an API call (Node.js)?", "body": "<p>First, don't use version 3.x. That version has been deprecated. The most recent version is v4.1.0 and has had significant cleanup work to fix a number of small bugs. </p>\n\n<p>If all you want to do is download the files, then use the fastGet() method. It takes 2 args, source path and destination path. It is a lot faster than plain get as it does the download in parallel. </p>\n\n<p>If you don't want to do that, then the get() method has a number of options. If you only pass in one arg (source) it will return a buffer. If you pass in 2 args, the second arg must be either a string (path to local file) or a writeable stream. If a writeable stream, the data will be piped into that stream.</p>\n"}], "owner": {"reputation": 91, "user_id": 8222938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7955c348a1cde860beafa9b237e4a26f?s=128&d=identicon&r=PG&f=1", "display_name": "BluLotus", "link": "https://stackoverflow.com/users/8222938/blulotus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "accepted_answer_id": 57971337, "answer_count": 1, "score": 0, "last_activity_date": 1568712638, "creation_date": 1565816729, "last_edit_date": 1565996444, "question_id": 57502052, "link": "https://stackoverflow.com/questions/57502052/how-can-i-read-and-download-a-file-from-a-readablestream-on-an-api-call-node-js", "title": "How can I read and download a file from a ReadableStream on an API call (Node.js)?", "body": "<p>I am using ssh2-sftp-client to get files from a remote server, I'm running into an issue reading and downloading these files once I get() them.</p>\n\n<p>At first, I was able to use the get() method to download the file when the API was hit - I could also return the whole file contents in a console.log statement then it started returning Buffer content. I updated with this: </p>\n\n<p>npm install ssh2-sftp-client@3.1.0</p>\n\n<p>And now I get a ReadbleStream. </p>\n\n<pre><code>function getFile(req,res) {\n    sftp.connect(config).then(() =&gt; {\n        return sftp.get(process.env.SFTP_PATH  + '/../...xml',true);\n    }).then((stream)=&gt;{\n        const outFile = fs.createWriteStream('...xml')\n        stream.on('data', (c) =&gt; {\n            console.log(`Received ${c.length} bytes of data.`);\n           outFile.write(c);  \n           res.send('ok')         \n          });\n         stream.on('close', function() {    \n        });\n    }).catch((err) =&gt; {\n        console.log(err, 'catch error');\n    });\n\n};\n\n</code></pre>\n\n<p>I have the above code that returns a stream but I'm not sure how to get the file - the write() method doesn't seem to work here. </p>\n\n<p>Any advice or suggestions on how I can use this library to read and download files would be greatly appreciated</p>\n"}, {"tags": ["javascript", "variables"], "comments": [{"owner": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "edited": false, "score": 2, "creation_date": 1565816820, "post_id": 57502035, "comment_id": 101473194, "body": "Just use string concatenation or template strings."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1565816852, "post_id": 57502035, "comment_id": 101473205, "body": "The same way you&#39;d include a variable inside any other JavaScript string."}], "answers": [{"tags": [], "owner": {"reputation": 793, "user_id": 3755425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wpwGb.png?s=128&g=1", "display_name": "Mohrn", "link": "https://stackoverflow.com/users/3755425/mohrn"}, "is_accepted": false, "score": 1, "last_activity_date": 1565817686, "last_edit_date": 1565817686, "creation_date": 1565817262, "answer_id": 57502153, "question_id": 57502035, "link": "https://stackoverflow.com/questions/57502035/reference-a-variable-within-an-element-assertion-using-javascript/57502153#57502153", "title": "Reference a variable within an element assertion using javascript", "body": "<p>I'm not quite sure how your two expressions fit together, so here I assume that dealerName comes from the array you're filtering. Use <code>querySelector</code>, <code>Array.filter</code>, and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals\" rel=\"nofollow noreferrer\">template literals</a> to get the <code>dealerNames</code> that fulfills your condition.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const sellerWebsiteAddressQueryPage = {\r\n  Website: [1, \"Alice\", undefined, \"Bob\"]\r\n};\r\nconst dealerNames = sellerWebsiteAddressQueryPage.Website.filter(\r\n  val =&gt; typeof val === \"string\"\r\n).filter(dealerName =&gt;\r\n  document.querySelector(`li.contact-seller__action a[href*=\"${dealerName}\"]`)\r\n);\r\n\r\nconsole.log(dealerNames);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;ul&gt;\r\n  &lt;li class=\"contact-seller__action\"&gt;\r\n    &lt;a href=\"site.com/dealers/Bob\"&gt;Bob&lt;/a&gt;\r\n  &lt;/li&gt;\r\n&lt;ul&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 9658099, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Darren Harley", "link": "https://stackoverflow.com/users/9658099/darren-harley"}, "edited": false, "score": 0, "creation_date": 1565902308, "post_id": 57502154, "comment_id": 101500108, "body": "Brilliant, this works. Many thanks @Kamil Kie\u0142czewski"}], "tags": [], "owner": {"reputation": 51813, "user_id": 860099, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/125k3.jpg?s=128&g=1", "display_name": "Kamil Kie\u0142czewski", "link": "https://stackoverflow.com/users/860099/kamil-kie%c5%82czewski"}, "is_accepted": true, "score": 1, "last_activity_date": 1565817266, "creation_date": 1565817266, "answer_id": 57502154, "question_id": 57502035, "link": "https://stackoverflow.com/questions/57502035/reference-a-variable-within-an-element-assertion-using-javascript/57502154#57502154", "title": "Reference a variable within an element assertion using javascript", "body": "<p>try</p>\n\n<pre><code>.assert.elementPresent(`li.contact-seller__action a[href*=\"${dealerName}\"]`);\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 9658099, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Darren Harley", "link": "https://stackoverflow.com/users/9658099/darren-harley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "closed_date": 1565817614, "accepted_answer_id": 57502154, "answer_count": 2, "score": 1, "last_activity_date": 1565817686, "creation_date": 1565816663, "last_edit_date": 1565817385, "question_id": 57502035, "link": "https://stackoverflow.com/questions/57502035/reference-a-variable-within-an-element-assertion-using-javascript", "closed_reason": "Duplicate", "title": "Reference a variable within an element assertion using javascript", "body": "<p>As part of my nightwatchjs test script, I have the following code</p>\n\n<pre><code>var dealerName = sellerWebsiteAddressQueryPage.Website.filter(val =&gt; typeof val === 'string')\n</code></pre>\n\n<p>and what I'd like to do is use this as part of an assertion, as below</p>\n\n<pre><code>.assert.elementPresent('li.contact-seller__action a[href*=\"dealerName\"]');\n</code></pre>\n\n<p>But I can't seem to find the correct way to include the variable <strong><em>dealerName</em></strong> within this assertion.</p>\n\n<p>Any help would be greatly appreciated.</p>\n"}, {"tags": ["javascript", "css", "reactjs"], "answers": [{"tags": [], "owner": {"reputation": 3179, "user_id": 3161811, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/66vhu.jpg?s=128&g=1", "display_name": "Shmili Breuer", "link": "https://stackoverflow.com/users/3161811/shmili-breuer"}, "is_accepted": false, "score": 0, "last_activity_date": 1565817048, "creation_date": 1565817048, "answer_id": 57502115, "question_id": 57502024, "link": "https://stackoverflow.com/questions/57502024/hovering-across-sub-nav-visibility/57502115#57502115", "title": "Hovering Across Sub-Nav Visibility", "body": "<p>There is no need for javascript to do that you can use a css :hover rule for that</p>\n\n<p>You can do it like this</p>\n\n<p>remove the <code>{isMenuOpen &amp;&amp; (</code> rule that hides the subnav element</p>\n\n<pre><code>.subnav-block {\n    display: none;\n}\n\n.nav:hover .subnav-block {\n    display: block;\n}\n</code></pre>\n\n<p>Not exactly what you asked for but does the job (in my opinion in a cleaner way)</p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 570, "user_id": 6809720, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-pJTiPcJyXh0/AAAAAAAAAAI/AAAAAAAAAkY/GQzq5_4t_S0/photo.jpg?sz=128", "display_name": "Eric Nguyen", "link": "https://stackoverflow.com/users/6809720/eric-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565817048, "creation_date": 1565816616, "question_id": 57502024, "link": "https://stackoverflow.com/questions/57502024/hovering-across-sub-nav-visibility", "title": "Hovering Across Sub-Nav Visibility", "body": "<p>I'm creating a mega-menu like dropdown navigation in my React project. Since it's a functional component, I'm using <code>useState</code> to toggle the state and showing and hiding sub-nav that way. </p>\n\n<p>The dropdown works, but the only issue is when the user hovers over the 'sub-menu', and tries to pan across to another 'sub-menu', it disappears. Any ideas on how I can keep 'sub-menu' visible as user pans across all sub-navs?</p>\n\n<p>Here's the <a href=\"https://codepen.io/ericnguyen23/pen/oNvxxwv\" rel=\"nofollow noreferrer\">codepen for reference</a></p>\n"}, {"tags": ["javascript", "express", "mongoose"], "comments": [{"owner": {"reputation": 1131, "user_id": 3267180, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WjMC1.jpg?s=128&g=1", "display_name": "dlane", "link": "https://stackoverflow.com/users/3267180/dlane"}, "edited": false, "score": 0, "creation_date": 1565816804, "post_id": 57501955, "comment_id": 101473191, "body": "Wouldn&#39;t <code>component</code> be an array of objects? You can also use <code>$set</code> instead of push."}, {"owner": {"reputation": 101, "user_id": 9358592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/935b32f088a3b0612246235a800a0bcd?s=128&d=identicon&r=PG&f=1", "display_name": "Danjuro", "link": "https://stackoverflow.com/users/9358592/danjuro"}, "reply_to_user": {"reputation": 1131, "user_id": 3267180, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WjMC1.jpg?s=128&g=1", "display_name": "dlane", "link": "https://stackoverflow.com/users/3267180/dlane"}, "edited": false, "score": 0, "creation_date": 1565817080, "post_id": 57501955, "comment_id": 101473282, "body": "Yeah, component consists of a text object, position object, and size object. I tried set but I still get the same message : &quot;{ ok: 0, n: 0, nModified: 0 }&quot; and no change to the database."}], "owner": {"reputation": 101, "user_id": 9358592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/935b32f088a3b0612246235a800a0bcd?s=128&d=identicon&r=PG&f=1", "display_name": "Danjuro", "link": "https://stackoverflow.com/users/9358592/danjuro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565816318, "creation_date": 1565816318, "question_id": 57501955, "link": "https://stackoverflow.com/questions/57501955/adding-object-onto-a-specific-field-using-an-id-in-mongoose", "title": "Adding object onto a specific field using an ID in Mongoose", "body": "<p>In my database, every user will have a pages object, in those pages will be individual pages with different components in them and I am trying to push an object onto the component field by identifying which page to push to with an id. </p>\n\n<p>Here is the code on my server side:</p>\n\n<pre><code>const { username, pageId, component } = req.body;\n\nPost.update({ 'pages.page.page_id': pageId }, { $push: { contents: { component } } },\n (err, result) =&gt; {\n   err ? console.log(err) : console.log(result);\n });\n</code></pre>\n\n<p>And here is what my database looks like:</p>\n\n<pre><code>\"page\": {\n    \"id\": \"5d4d930505b14fad02608242\"\n    \"date_created\": \"01/20/19\"\n    \"contents\": {\n        \"component\": {\n            \"text_content\": {\n                \"paragraph\": \"value here\",\n            }\n            \"position\": {\n                \"x\": 0,\n                \"y\": 0,\n            }\n            \"size\" : {\n                \"width\": 200,\n                \"height\": 200,\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I am expecting the object to be pushed into the contents field of my selected page.</p>\n"}, {"tags": ["javascript", "php", "stripe-payments"], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 1, "last_activity_date": 1565816702, "creation_date": 1565816702, "answer_id": 57502045, "question_id": 57501954, "link": "https://stackoverflow.com/questions/57501954/stripe-form-not-showing-when-billing-name-has-an-apostrophe/57502045#57502045", "title": "stripe form not showing when billing name has an apostrophe", "body": "<p>The apostrophe matches the single quote that starts the JavaScript string, and ends the string, causing unmatched quotes in the JavaScript.</p>\n\n<p>Use <code>json_encode()</code> to safely translate a PHP value into the equivalent JavaScript literal, rather than echoing the raw value inside quotes.</p>\n\n<pre><code>stripe.createToken(card,{\n    name: &lt;?php echo json_encode($order-&gt;customer['firstname'] . ' ' . $order-&gt;customer['lastname']); ?&gt;, \n    address_line1 : &lt;?php echo json_encode($order-&gt;customer['street_address']); ?&gt;,\n    address_city : &lt;?php echo json_encode($order-&gt;customer['city']); ?&gt;, \n    address_state : &lt;?php echo json_encode($order-&gt;customer['state']); ?&gt;, \n    address_country : &lt;?php echo json_encode($order-&gt;customer['country']['title']); ?&gt; \n}).then(function(result) {\n</code></pre>\n"}], "owner": {"reputation": 1704, "user_id": 675118, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b3694bcefd0553ee835238bf1edcdfb2?s=128&d=identicon&r=PG", "display_name": "Sackling", "link": "https://stackoverflow.com/users/675118/sackling"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 57502045, "answer_count": 1, "score": -1, "last_activity_date": 1565816702, "creation_date": 1565816312, "last_edit_date": 1565816579, "question_id": 57501954, "link": "https://stackoverflow.com/questions/57501954/stripe-form-not-showing-when-billing-name-has-an-apostrophe", "title": "stripe form not showing when billing name has an apostrophe", "body": "<p>I have the following stripe payment form on my page:</p>\n\n<pre><code>stripe.createToken(card,{name: '&lt;?php echo $order-&gt;customer['firstname'] . ' ' . $order-&gt;customer['lastname']; ?&gt;', address_line1 : '&lt;?php echo $order-&gt;customer['street_address']; ?&gt;', address_city : '&lt;?php echo $order-&gt;customer['city']; ?&gt;', address_state : '&lt;?php echo $order-&gt;customer['state']; ?&gt;', address_country : '&lt;?php echo $order-&gt;customer['country']['title']; ?&gt;' }).then(function(result) {\n        if (result.error) {\n            // Inform the user if there was an error\n            var errorElement = document.getElementById('card-errors');\n            errorElement.textContent = result.error.message;\n        } else {\n            // Send the token to your server\n            stripeTokenHandler(form, result.token);\n        }\n    });\n});\n</code></pre>\n\n<p>I recenetly found out that a customer with the last name o'brian was not being shown the portion of the form that allows them to enter the credit card info. It took a while to find out why they were having that issue. </p>\n\n<p>In any case, should I just be removing the apostrophe with a str_replace? That seems a bit strange to have to remove the apostrophe? Or is there something else I should be doing?</p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 14671, "user_id": 2317490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ypoen.png?s=128&g=1", "display_name": "dandavis", "link": "https://stackoverflow.com/users/2317490/dandavis"}, "edited": false, "score": 1, "creation_date": 1565816303, "post_id": 57501937, "comment_id": 101473054, "body": "yes, you can do that."}, {"owner": {"reputation": 1489, "user_id": 3954447, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/AVq0Y.jpg?s=128&g=1", "display_name": "Mathiasfc", "link": "https://stackoverflow.com/users/3954447/mathiasfc"}, "reply_to_user": {"reputation": 14671, "user_id": 2317490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ypoen.png?s=128&g=1", "display_name": "dandavis", "link": "https://stackoverflow.com/users/2317490/dandavis"}, "edited": false, "score": 0, "creation_date": 1565816438, "post_id": 57501937, "comment_id": 101473092, "body": "@dandavis can you show me how? :D"}, {"owner": {"reputation": 25361, "user_id": 924299, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a142d1ec6b8444c9baf3ec6176e1cf61?s=128&d=identicon&r=PG&f=1", "display_name": "showdev", "link": "https://stackoverflow.com/users/924299/showdev"}, "edited": false, "score": 0, "creation_date": 1565816491, "post_id": 57501937, "comment_id": 101473102, "body": "By setting its <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/volume\" rel=\"nofollow noreferrer\"><code>volume</code></a> property. Do you mean you want the volume to change automatically after starting playback?"}, {"owner": {"reputation": 1489, "user_id": 3954447, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/AVq0Y.jpg?s=128&g=1", "display_name": "Mathiasfc", "link": "https://stackoverflow.com/users/3954447/mathiasfc"}, "reply_to_user": {"reputation": 25361, "user_id": 924299, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a142d1ec6b8444c9baf3ec6176e1cf61?s=128&d=identicon&r=PG&f=1", "display_name": "showdev", "link": "https://stackoverflow.com/users/924299/showdev"}, "edited": false, "score": 0, "creation_date": 1565816660, "post_id": 57501937, "comment_id": 101473149, "body": "@showdev not necessarily automatically, assuming I change a slider like youtube / ubuntu for example (audio has already started)"}, {"owner": {"reputation": 25361, "user_id": 924299, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a142d1ec6b8444c9baf3ec6176e1cf61?s=128&d=identicon&r=PG&f=1", "display_name": "showdev", "link": "https://stackoverflow.com/users/924299/showdev"}, "edited": false, "score": 0, "creation_date": 1565817388, "post_id": 57501937, "comment_id": 101473365, "body": "<a href=\"https://stackoverflow.com/questions/31926221/video-volume-slider-in-html5-and-javascript\">Video Volume Slider in HTML5 and JavaScript</a> might be helpful."}], "owner": {"reputation": 1489, "user_id": 3954447, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/AVq0Y.jpg?s=128&g=1", "display_name": "Mathiasfc", "link": "https://stackoverflow.com/users/3954447/mathiasfc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565816185, "creation_date": 1565816185, "question_id": 57501937, "link": "https://stackoverflow.com/questions/57501937/can-i-change-the-audio-volume-after-play", "title": "Can I change the audio volume after play?", "body": "<p>I can create an audio element, change its volume and play it.</p>\n\n<p>As the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/volume\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<pre><code>var obj = document.createElement('audio');\nconsole.log(obj.volume); // 1\nobj.volume = 0.75;\n</code></pre>\n\n<p>Assuming I have a 10 second audio, <strong>after starting</strong> it, I would like to <strong>change its volume</strong>, is it possible?</p>\n"}, {"tags": ["javascript", "node.js", "express"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1565816147, "post_id": 57501863, "comment_id": 101473020, "body": "@GetOffMyLawn He wants to replace each comment with its length, there&#39;s nothing about a total here."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1565816196, "post_id": 57501863, "comment_id": 101473028, "body": "I can&#39;t see any reason why the code wouldn&#39;t work. You can also write <code>post.comments = post.comments.length;</code>"}, {"owner": {"reputation": 1, "user_id": 11929239, "user_type": "registered", "profile_image": "https://graph.facebook.com/3051131968249766/picture?type=large", "display_name": "Oscar Angel Cardenas", "link": "https://stackoverflow.com/users/11929239/oscar-angel-cardenas"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1566327316, "post_id": 57501863, "comment_id": 101619572, "body": "thanks, but is still not working..."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1566327757, "post_id": 57501863, "comment_id": 101619721, "body": "Your code works here: <a href=\"https://jsfiddle.net/barmar/0871amLd/3/\" rel=\"nofollow noreferrer\">jsfiddle.net/barmar/0871amLd/3</a>"}, {"owner": {"reputation": 1, "user_id": 11929239, "user_type": "registered", "profile_image": "https://graph.facebook.com/3051131968249766/picture?type=large", "display_name": "Oscar Angel Cardenas", "link": "https://stackoverflow.com/users/11929239/oscar-angel-cardenas"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1566335726, "post_id": 57501863, "comment_id": 101622661, "body": "yes, but in my code is not working, I tried using the foreach out of the find function but i&#39;m still the same result."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1566335850, "post_id": 57501863, "comment_id": 101622711, "body": "There must be something more to the problem that you&#39;re not showing. Don&#39;t forget that <code>.find()</code> is asynchronous, you can&#39;t access the result outside of the callback function."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1566335884, "post_id": 57501863, "comment_id": 101622720, "body": "But <code>res.json()</code> is in the proper place, the data being sent to the client should be correct."}, {"owner": {"reputation": 1, "user_id": 11929239, "user_type": "registered", "profile_image": "https://graph.facebook.com/3051131968249766/picture?type=large", "display_name": "Oscar Angel Cardenas", "link": "https://stackoverflow.com/users/11929239/oscar-angel-cardenas"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1566335955, "post_id": 57501863, "comment_id": 101622747, "body": "this is the new code: <code>router.get(&#39;&#47;&#39;,  async function(req, res, next) { &#47;&#47;get all posts   var p;     await postModel.find({}, function(err, posts){           if(err){         next(err)       }else{         p= posts;         &#47;&#47;res.json({ status: &#39;success&#39; ,message: &quot;Posts Encontrados!!&quot; , data : {posts: posts}});       }     });     p.forEach((post,i) =&gt; {       p[i].comments= post.comments.length;     });          res.json({ status: &#39;success&#39; ,message: &quot;Posts Encontrados!!&quot; , data : {posts: p}});      });</code>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1566335990, "post_id": 57501863, "comment_id": 101622761, "body": "Don&#39;t put code in comments, add an update to the question."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1566336033, "post_id": 57501863, "comment_id": 101622779, "body": "What&#39;s the difference other than the variable <code>p</code>?"}, {"owner": {"reputation": 1, "user_id": 11929239, "user_type": "registered", "profile_image": "https://graph.facebook.com/3051131968249766/picture?type=large", "display_name": "Oscar Angel Cardenas", "link": "https://stackoverflow.com/users/11929239/oscar-angel-cardenas"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1566336222, "post_id": 57501863, "comment_id": 101622841, "body": "could be a context problem but not is the same result. the P variable contents the posts. here the result <a href=\"https://gyazo.com/4183cd73dbb35819a8eaa222f52372f0\" rel=\"nofollow noreferrer\">gyazo.com/4183cd73dbb35819a8eaa222f52372f0</a>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1566336431, "post_id": 57501863, "comment_id": 101622905, "body": "The problem isn&#39;t variable scope. The problem is that <code>find()</code> is asynchronous. See <a href=\"https://stackoverflow.com/questions/23667086/why-is-my-variable-undefined-after-i-modify-it-inside-of-a-function-asynchron\" title=\"why is my variable undefined after i modify it inside of a function asynchron\">stackoverflow.com/questions/23667086/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 168, "user_id": 3772772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8b7da329dc8f345c10043d243309cbf?s=128&d=identicon&r=PG&f=1", "display_name": "ISAE", "link": "https://stackoverflow.com/users/3772772/isae"}, "is_accepted": false, "score": 1, "last_activity_date": 1565816768, "creation_date": 1565816768, "answer_id": 57502061, "question_id": 57501863, "link": "https://stackoverflow.com/questions/57501863/why-i-cant-modify-the-original-array/57502061#57502061", "title": "Why I cant modify the original array?", "body": "<p>From <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\" rel=\"nofollow noreferrer\">MDN</a>:</p>\n\n<p><code>forEach()</code> does not mutate the array on which it is called (although callback, if invoked, may do so).</p>\n\n<p>If you do need to change the original array, use either<code>.map()</code>.</p>\n\n<p>For example: </p>\n\n<pre><code>posts = posts.map(post =&gt; {\npost.comments = post.comments.length;\nreturn post\n}); \n</code></pre>\n\n<p>This will transform the original array and return your desired values.</p>\n"}], "owner": {"reputation": 1, "user_id": 11929239, "user_type": "registered", "profile_image": "https://graph.facebook.com/3051131968249766/picture?type=large", "display_name": "Oscar Angel Cardenas", "link": "https://stackoverflow.com/users/11929239/oscar-angel-cardenas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1566336128, "creation_date": 1565815736, "last_edit_date": 1566336128, "question_id": 57501863, "link": "https://stackoverflow.com/questions/57501863/why-i-cant-modify-the-original-array", "title": "Why I cant modify the original array?", "body": "<p>I'm trying to change the comments in each post by the number of comments, but The arrays keep the original data when I put in the answer of express.</p>\n\n<p>I tried use another Object and map instead foreach but nothing works.</p>\n\n<pre><code>router.get('/',  function(req, res, next) { \n\n    postModel.find({}, function(err, posts){\n      if(err){\n        next(err)\n      }else{\n        posts.forEach((post,i) =&gt; {\n          posts[i].comments= post.comments.length;\n        });\n        res.json({ status: 'success' ,message: \"Posts Encontrados!!\" , data : {posts: posts}});\n      }\n    });\n\n  });\n</code></pre>\n\n<p>New code:</p>\n\n<pre><code>router.get('/',  async function(req, res, next) { //get all posts\n</code></pre>\n\n<p>var p;</p>\n\n<pre><code>await postModel.find({}, function(err, posts){\n\n  if(err){\n    next(err)\n  }else{\n    p= posts;\n    //res.json({ status: 'success' ,message: \"Posts Encontrados!!\" , data : {posts: posts}});\n  }\n});\np.forEach((post,i) =&gt; {\n  p[i].comments= post.comments.length;\n});\n\nres.json({ status: 'success' ,message: \"Posts Encontrados!!\" , data : {posts: p}});\n</code></pre>\n\n<p>});</p>\n"}, {"tags": ["javascript", "string"], "comments": [{"owner": {"reputation": 5291, "user_id": 3917754, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/WBbll.jpg?s=128&g=1", "display_name": "demo", "link": "https://stackoverflow.com/users/3917754/demo"}, "edited": false, "score": 1, "creation_date": 1565815804, "post_id": 57501861, "comment_id": 101472925, "body": "use split function"}], "answers": [{"comments": [{"owner": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "edited": false, "score": 0, "creation_date": 1565816632, "post_id": 57501885, "comment_id": 101473141, "body": "Just use <code>.map(Number)</code>."}], "tags": [], "owner": {"reputation": 766, "user_id": 4838893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4becb137e77ce3b2675af0a1717c4e70?s=128&d=identicon&r=PG&f=1", "display_name": "Bill Cheng", "link": "https://stackoverflow.com/users/4838893/bill-cheng"}, "is_accepted": false, "score": 2, "last_activity_date": 1565815915, "creation_date": 1565815915, "answer_id": 57501885, "question_id": 57501861, "link": "https://stackoverflow.com/questions/57501861/js-string-1-2-5-to-array1-2-5/57501885#57501885", "title": "JS: String &quot;1, 2, 5&quot; to Array[1, 2, 5]?", "body": "<p>Try this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const convert = str =&gt; str.split(',').map(p=&gt;+p)\r\n\r\nconsole.log(convert(\"1, 4, 7\"))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "edited": false, "score": 1, "creation_date": 1565816609, "post_id": 57501888, "comment_id": 101473134, "body": "Just use <code>.map(Number)</code>."}], "tags": [], "owner": {"reputation": 1077, "user_id": 11193926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b41eea96add6cb6141b372485c58f21b?s=128&d=identicon&r=PG&f=1", "display_name": "JamieT", "link": "https://stackoverflow.com/users/11193926/jamiet"}, "is_accepted": false, "score": 0, "last_activity_date": 1565815933, "creation_date": 1565815933, "answer_id": 57501888, "question_id": 57501861, "link": "https://stackoverflow.com/questions/57501861/js-string-1-2-5-to-array1-2-5/57501888#57501888", "title": "JS: String &quot;1, 2, 5&quot; to Array[1, 2, 5]?", "body": "<pre><code> &gt;&gt; \"1, 4, 7\".split(\", \").map(num =&gt; +num)\n &gt;&gt; [1, 4, 7]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51813, "user_id": 860099, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/125k3.jpg?s=128&g=1", "display_name": "Kamil Kie\u0142czewski", "link": "https://stackoverflow.com/users/860099/kamil-kie%c5%82czewski"}, "is_accepted": false, "score": 0, "last_activity_date": 1565815972, "creation_date": 1565815972, "answer_id": 57501895, "question_id": 57501861, "link": "https://stackoverflow.com/questions/57501861/js-string-1-2-5-to-array1-2-5/57501895#57501895", "title": "JS: String &quot;1, 2, 5&quot; to Array[1, 2, 5]?", "body": "<p>Try</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let s = \"1, 4, 7\";\r\n\r\nlet a = JSON.parse(`[${s}]`);\r\n\r\nconsole.log(a);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 2852, "user_id": 2072594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08d66fbbf8c80cc7f1fc73e426c88aa3?s=128&d=identicon&r=PG", "display_name": "aequalsb", "link": "https://stackoverflow.com/users/2072594/aequalsb"}, "is_accepted": false, "score": 0, "last_activity_date": 1565816351, "last_edit_date": 1565816351, "creation_date": 1565815982, "answer_id": 57501897, "question_id": 57501861, "link": "https://stackoverflow.com/questions/57501861/js-string-1-2-5-to-array1-2-5/57501897#57501897", "title": "JS: String &quot;1, 2, 5&quot; to Array[1, 2, 5]?", "body": "<p><code>var str = '1, 2, 3';</code>\n<code>var = str.split(\", \");</code></p>\n\n<p>by splitting the string, it will be return as an array missing the delimiter... in this case \", \" (comma and space)</p>\n\n<p>this will not work as expected if <code>str = '1,2, 3';</code></p>\n\n<p>for that you will need a regular expression...\n<code>var = str.split(/, ?/);</code></p>\n"}], "owner": {"reputation": 7, "user_id": 7979240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba19b802f6bf66d60c5862e23c84d571?s=128&d=identicon&r=PG&f=1", "display_name": "DNS", "link": "https://stackoverflow.com/users/7979240/dns"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "closed_date": 1565816151, "answer_count": 4, "score": -2, "last_activity_date": 1565816351, "creation_date": 1565815729, "last_edit_date": 1565816259, "question_id": 57501861, "link": "https://stackoverflow.com/questions/57501861/js-string-1-2-5-to-array1-2-5", "closed_reason": "Duplicate", "title": "JS: String &quot;1, 2, 5&quot; to Array[1, 2, 5]?", "body": "<p>I'm a js beginner and want convert a string e.g. \"1, 4, 7\" to an array [1, 4, 7].</p>\n\n<p>I need something like the opposite of the function join</p>\n"}, {"tags": ["javascript", "node.js", "recurly"], "comments": [{"owner": {"reputation": 766, "user_id": 4838893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4becb137e77ce3b2675af0a1717c4e70?s=128&d=identicon&r=PG&f=1", "display_name": "Bill Cheng", "link": "https://stackoverflow.com/users/4838893/bill-cheng"}, "edited": false, "score": 1, "creation_date": 1565816413, "post_id": 57501843, "comment_id": 101473085, "body": "try to change <code>getAdjustmentsInfo(accountInfo)</code> -&gt; <code>return getAdjustmentsInfo(accountInfo)</code>"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 2, "creation_date": 1565818278, "post_id": 57501843, "comment_id": 101473616, "body": "That loop is not going to work, you are calling <code>resolve()</code> immediately after the loop without waiting for the callbacks to have run. Keep your first version of <code>getAdjustmentsInfo</code>. If you really need to do some looping, call that <code>getAdjustmentsInfo</code> multiple times and learn about <code>Promise.all</code>."}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 5935705, "user_type": "registered", "profile_image": "https://graph.facebook.com/1255508291132181/picture?type=large", "display_name": "Tian Qin", "link": "https://stackoverflow.com/users/5935705/tian-qin"}, "edited": false, "score": 0, "creation_date": 1565888562, "post_id": 57505229, "comment_id": 101494861, "body": "Hi, Thank you for answer my question, I tried these code, but it only return a list of promises....:     <code>getAccountInfo()     .then(response =&gt; {         accountInfo = response.data.accounts.account;         return Promise.all([response.data.accounts.account.map(a =&gt; getAdjustmentsInfo(a.account_code))]);      })     .then(adjustments =&gt; {         adjustmentsInfo = adjustments;         console.log(accountInfo);         console.log(adjustmentsInfo);     })     .catch(err =&gt; console.log(err));</code>"}, {"owner": {"reputation": 5508, "user_id": 580487, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/6wn22.jpg?s=128&g=1", "display_name": "tommybananas", "link": "https://stackoverflow.com/users/580487/tommybananas"}, "reply_to_user": {"reputation": 51, "user_id": 5935705, "user_type": "registered", "profile_image": "https://graph.facebook.com/1255508291132181/picture?type=large", "display_name": "Tian Qin", "link": "https://stackoverflow.com/users/5935705/tian-qin"}, "edited": false, "score": 0, "creation_date": 1565890142, "post_id": 57505229, "comment_id": 101495510, "body": "@TianQin you have to remove the bracket in here <code>Promise.all([response</code> to <code>Promise.all(response</code> . The map will return an array, you dont need to wrap it in another one"}], "tags": [], "owner": {"reputation": 5508, "user_id": 580487, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/6wn22.jpg?s=128&g=1", "display_name": "tommybananas", "link": "https://stackoverflow.com/users/580487/tommybananas"}, "is_accepted": false, "score": 1, "last_activity_date": 1565847173, "creation_date": 1565847173, "answer_id": 57505229, "question_id": 57501843, "link": "https://stackoverflow.com/questions/57501843/how-to-resolve-the-second-promise-if-it-required-the-first-promise-resolved-resu/57505229#57505229", "title": "How to resolve the second promise if it required the first promise resolved result&#39;s element?", "body": "<pre><code>getAccountInfo()\n.then(info =&gt; {\n  return Promise.all(info.accounts.map(a =&gt; getAdjustmentsInfo(a)));\n})\n.then(adjustments =&gt; {\n  // array of 10 adjustments\n})\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 5935705, "user_type": "registered", "profile_image": "https://graph.facebook.com/1255508291132181/picture?type=large", "display_name": "Tian Qin", "link": "https://stackoverflow.com/users/5935705/tian-qin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565847173, "creation_date": 1565815641, "question_id": 57501843, "link": "https://stackoverflow.com/questions/57501843/how-to-resolve-the-second-promise-if-it-required-the-first-promise-resolved-resu", "title": "How to resolve the second promise if it required the first promise resolved result&#39;s element?", "body": "<p>I have 2 function getAccountInfo() and getAdjustmentsInfo(accountInfo) they both return a new promise. The only different is that the second function needs the information returned from the first function.</p>\n\n<p>I tried to declare these 2 function first, and call them one by one using then(). It worked but the problem is, the second fuction needs the the result from the first promise.</p>\n\n<p>Not only that, the first promise returned an array, for example an array of 10 accounts infomation. But the second function only needs the attribute of the account information, for example account_code. </p>\n\n<p>So I think I need to run the second function 10 time..? I am not very sure how to do that.</p>\n\n<p>These are the functions, as you can see the second function needs account_code from the first accountInfo object: </p>\n\n<pre><code>function getAccountInfo() {\n    return new Promise((resolve, reject) =&gt; {\n        getAccountCallbackFunc((errResponse, response) =&gt; {\n            if (errResponse) {\n                return reject(errResponse);\n            }\n            resolve(response);\n        });\n    });\n}\n\nfunction getAdjustmentsInfo(accountInfo) {\n    return new Promise((resolve, reject) =&gt; {\n        getAdjustmentCallbackFunc(accountInfo[0].account_code, function (errResponse, response) {\n            if (errResponse) {\n                reject(errResponse);\n            }\n            if (response) {\n                resolve(response);\n            }\n        });\n    });\n}\n</code></pre>\n\n<p>This is the controller code to call the functions:</p>\n\n<pre><code>var accountInfo = {};\nvar adjustmentsInfo = {};\n\ngetAccountInfo()\n    .then(response =&gt; {\n        accountInfo = response.data.accounts.account;\n        getAdjustmentsInfo(accountInfo)\n    })\n    .then(response =&gt; {\n        adjustmentsInfo = response.data.adjustments;\n    })\n    .catch(err =&gt; console.log(err));\n</code></pre>\n\n<p>I changed the second function into somthing like this, below is the code I changed to, so it can loop:</p>\n\n<pre><code>function getAdjustmentsInfo(accountInfo) {\n    return new Promise((resolve, reject) =&gt; {\n        let result = {};\n        for(account of accountInfo){\n            getAdjustmentCallbackFunc(account.account_code, function (errResponse, response) {\n                if (errResponse) {\n                    reject(errResponse);\n                }\n                if (response) {\n                    result += response;\n                }\n            });\n        }\n        console.log(result);\n        resolve(result);\n\n    });\n}\n</code></pre>\n\n<p>So I run the getAccountInfo() function first and run the first then() to saved the account information to the external variable accountInfo. \nNext I run the second then() trying to pass the accountInfo to the second function, second function will loop and run the inner getAdjustmentCallbackFunc() multiple times to create and new result and resolve it. I dont't know why it is not working. Is that something I am missing? Please let me know.</p>\n"}, {"tags": ["javascript", "android", "sms", "google-chrome-devtools", "google-chrome-app"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10822291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1273257e3caaad683051955c93bf1de8?s=128&d=identicon&r=PG&f=1", "display_name": "sirscoobs", "link": "https://stackoverflow.com/users/10822291/sirscoobs"}, "edited": false, "score": 0, "creation_date": 1565885615, "post_id": 57503045, "comment_id": 101493628, "body": "I tried doing that but it never returned anything specific just undefined"}], "tags": [], "owner": {"reputation": 11, "user_id": 11900268, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gpyubEKyeLI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reNEiuftozfx7J6boi2bJheyedsUQ/photo.jpg?sz=128", "display_name": "Gabriel Gulbranson", "link": "https://stackoverflow.com/users/11900268/gabriel-gulbranson"}, "is_accepted": false, "score": 0, "last_activity_date": 1565823578, "creation_date": 1565823578, "answer_id": 57503045, "question_id": 57501808, "link": "https://stackoverflow.com/questions/57501808/how-can-i-limit-options-to-only-sms-texting-applications-via-webshare-api-navig/57503045#57503045", "title": "How can I limit options to only sms/texting applications via webshare API (navigator.share)", "body": "<p>Check and see if it returns some sort of data. using:\n<code>.then(( obj ) =&gt; console.log('Successful share' + JSON.Stringify(obj)))</code>\nbefore the .catch</p>\n"}], "owner": {"reputation": 1, "user_id": 10822291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1273257e3caaad683051955c93bf1de8?s=128&d=identicon&r=PG&f=1", "display_name": "sirscoobs", "link": "https://stackoverflow.com/users/10822291/sirscoobs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 197, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1565823578, "creation_date": 1565815488, "question_id": 57501808, "link": "https://stackoverflow.com/questions/57501808/how-can-i-limit-options-to-only-sms-texting-applications-via-webshare-api-navig", "title": "How can I limit options to only sms/texting applications via webshare API (navigator.share)", "body": "<p>When sending pre-filled SMS messages through Google's Web Share API, which lets users choose their app, there are a ton of options including Google Drive and Bluetooth. I want to limit these options to sms/ social media apps (Android Messages, Whatsapp, etc.) </p>\n\n<p>So far my research has been inconclusive so I haven't made any headway in trying this out, this is also my first time trying to use these tools so go figure. </p>\n\n<p>Here's the part of the function that contains the android sharing functionality;</p>\n\n<pre><code>    if (ver == undefined){ //not iOS\n        if (device.isAndroid){\n            if (navigator.share != undefined) //navigator.share pops up the app choice tray on device\n            {\n                navigator.share({\n                    text: shareSMSMsg\n                })\n                .catch(err =&gt; console.error(err));\n            }\n            else{\n                window.location.href = \"sms:?body=\"+ androidEncode(shareSMSMsg); //if shareWebAPI feature isnt ll just try and use the default sms service\n            }\n        }\n        else{\n            window.location.href = \"sms:?body=\"+ encode(shareSMSMsg);\n        }\n     }\n</code></pre>\n\n<p>Ideally it would limit the choices to just sms/messaging apps to make the experience a bit cleaner and open up less opportunity for user error.</p>\n"}, {"tags": ["javascript", "oop"], "comments": [{"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1565815577, "post_id": 57501801, "comment_id": 101472870, "body": "I would recommend updating your code to an <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes\" rel=\"nofollow noreferrer\">ES6 class</a>, what you have is the old way of making classes."}, {"owner": {"reputation": 17, "user_id": 6860886, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XMmhbX0MoUs/AAAAAAAAAAI/AAAAAAAAACA/XJ0JlQppQgQ/photo.jpg?sz=128", "display_name": "Elvin Jafali", "link": "https://stackoverflow.com/users/6860886/elvin-jafali"}, "reply_to_user": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1565815934, "post_id": 57501801, "comment_id": 101472960, "body": "I will try the ES6 way of OOP and see if the issue persists."}, {"owner": {"reputation": 17, "user_id": 6860886, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XMmhbX0MoUs/AAAAAAAAAAI/AAAAAAAAACA/XJ0JlQppQgQ/photo.jpg?sz=128", "display_name": "Elvin Jafali", "link": "https://stackoverflow.com/users/6860886/elvin-jafali"}, "reply_to_user": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1565816292, "post_id": 57501801, "comment_id": 101473051, "body": "The problem still persists..."}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1565816776, "post_id": 57501801, "comment_id": 101473183, "body": "I made a minimalistic class, and it works for me."}, {"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1565816780, "post_id": 57501801, "comment_id": 101473185, "body": "Can you rely on ES6 support? If so, please update the question to that attempt for simplicity. Anyway, <code>clearInterval(this.growAPlant)</code> isn\u2019t correct and the problem is with the corresponding <code>setInterval</code>."}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "reply_to_user": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1565817105, "post_id": 57501801, "comment_id": 101473288, "body": "@Ry- Just FYI, if you comment out the <code>clearInterval</code>, the error still persists."}, {"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "reply_to_user": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1565817321, "post_id": 57501801, "comment_id": 101473348, "body": "@GetOffMyLawn: There\u2019s no <code>setInterval</code>."}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "reply_to_user": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1565817360, "post_id": 57501801, "comment_id": 101473362, "body": "@Ry- sorry I meant <code>clearInterval</code>"}, {"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "reply_to_user": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 1, "creation_date": 1565817398, "post_id": 57501801, "comment_id": 101473369, "body": "@GetOffMyLawn: Because \u201cthe problem is with the corresponding <code>setInterval</code>\u201d."}, {"owner": {"reputation": 17, "user_id": 6860886, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XMmhbX0MoUs/AAAAAAAAAAI/AAAAAAAAACA/XJ0JlQppQgQ/photo.jpg?sz=128", "display_name": "Elvin Jafali", "link": "https://stackoverflow.com/users/6860886/elvin-jafali"}, "reply_to_user": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1565817925, "post_id": 57501801, "comment_id": 101473515, "body": "@Ry- Would it be possible if I post my other class where I call setInterval and still get some errors that I have no clue of why they appear to be there."}, {"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1565820911, "post_id": 57501801, "comment_id": 101474355, "body": "You don\u2019t have a function called <code>checkValidBunnyMove</code> here. Adding <code>.bind(\u2026)</code> to the end of that doesn\u2019t make sense either. <code>setInterval(this.simulation(), 1000)</code> is incorrect. Get things working individually before trying to change everything at once."}], "answers": [{"comments": [{"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1565816706, "post_id": 57502011, "comment_id": 101473163, "body": "The first part is incorrect. <code>this</code> rarely refers to a function."}], "tags": [], "owner": {"reputation": 789, "user_id": 5479593, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BKVms.png?s=128&g=1", "display_name": "Void Spirit", "link": "https://stackoverflow.com/users/5479593/void-spirit"}, "is_accepted": false, "score": -1, "last_activity_date": 1565816577, "last_edit_date": 1592644375, "creation_date": 1565816577, "answer_id": 57502011, "question_id": 57501801, "link": "https://stackoverflow.com/questions/57501801/this-functionname-is-not-a-function-error/57502011#57502011", "title": "this.functionName is not a function error", "body": "<h2>Explanation</h2>\n<p>First, <code>this</code> always refers to the first parent <code>function</code>. In your case it is:</p>\n<pre><code>this.growAPlant = function(timeRate){\n    //content\n    var that = this; // this is growAPlant\n}\n</code></pre>\n<p><strong>And</strong></p>\n<pre><code>this.checkElementExists = function(coordinates){ }\n</code></pre>\n<p>Is accessible with <code>Meadow</code> object. However, your <code>var that</code> is referring to <code>this.growAPlant = function(timeRate)</code> not <code>Meadow</code>.</p>\n<h2>Solution</h2>\n<p>Create <code>that</code> in the beginning</p>\n<pre><code>function Meadow(){\n   var that = this;\n\n   that.growAPlant = function(timeRate){\n   }\n   \n   that.checkElementExists = function(coordinates){\n       if(this.grid[coordinates[0]][coordinates[1]] != null){\n          return true;\n       }else{\n          return false;\n       }\n   }; \n\n   return that;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "is_accepted": false, "score": 0, "last_activity_date": 1565817303, "creation_date": 1565817303, "answer_id": 57502162, "question_id": 57501801, "link": "https://stackoverflow.com/questions/57501801/this-functionname-is-not-a-function-error/57502162#57502162", "title": "this.functionName is not a function error", "body": "<pre><code>clearInterval(this.growAPlant);\n</code></pre>\n\n<p>This <code>clearInterval</code> isn\u2019t correct, because you need pass the return value of <code>setInterval</code> to it, not a function. It does helpfully imply that you have a <code>setInterval(someMeadow.growAPlant, \u2026)</code> somewhere, though, and that\u2019s where the issue is. When you reference a function without calling it \u2013 like when you pass it to <code>setInterval</code> \u2013 the object it belonged to doesn\u2019t come with it. Then, when the timer fires, it calls the function without a <code>this</code> value.</p>\n\n<p>In JavaScript, the value of <code>this</code> inside a non-<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\" rel=\"nofollow noreferrer\">arrow</a> function is determined entirely by how the function is called, not where it\u2019s declared. You can read about how <code>this</code> works in various other questions and pieces of documentation. Fixing the problem involves giving <code>growAPlant</code> the correct <code>this</code> somehow, either by:</p>\n\n<ol>\n<li><p>placing a reference to it in a containing scope (i.e. moving your <code>var that = this</code> out one level and using <code>that</code> instead of <code>this</code> throughout)</p></li>\n<li><p>wrapping the function in one that\u2019ll preserve the correct value, as in</p>\n\n<pre><code>setInterval(someMeadow.growAPlant.bind(someMeadow), \u2026);\n</code></pre>\n\n<p>(<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_objects/Function/bind\" rel=\"nofollow noreferrer\"><code>Function.prototype.bind</code></a>) or</p>\n\n<pre><code>setInterval(function () {\n    someMeadow.growAPlant();\n}, \u2026);\n</code></pre>\n\n<p>(the <code>someMeadow.growAPlant</code> reference is now part of a call, so <code>someMeadow</code> becomes the <code>this</code> value for the call)</p></li>\n<li><p>changing it into an arrow function, which doesn\u2019t have its own <code>this</code> and uses the one from the containing scope</p></li>\n</ol>\n\n<p>Only (2) will work when you convert to the simplest form of an ES6 class, so it\u2019s the approach I recommend.</p>\n"}], "owner": {"reputation": 17, "user_id": 6860886, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XMmhbX0MoUs/AAAAAAAAAAI/AAAAAAAAACA/XJ0JlQppQgQ/photo.jpg?sz=128", "display_name": "Elvin Jafali", "link": "https://stackoverflow.com/users/6860886/elvin-jafali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 185, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1565818764, "creation_date": 1565815450, "last_edit_date": 1565818764, "question_id": 57501801, "link": "https://stackoverflow.com/questions/57501801/this-functionname-is-not-a-function-error", "title": "this.functionName is not a function error", "body": "<p>I am writing a simulation for bunny survival in a meadow and have to detect the minimal plant growth rate for the bunny to survive. I decided to go with OOP. Hence, tried to design my \"classes\" in js. I haven't done much OOP in JS, so I am stuck. I don't understand why I keep getting \"this.checkElementExists\" is not a function.</p>\n\n<p>I tried to follow OOP that was shown in Mozilla MDN for JS and here I am stuck. I updated to ES6 classes.</p>\n\n<pre><code>class Meadow{\n\n    constructor(){\n        this.grid = this.makeGrid();\n        //console.log(this.grid);\n    }\n\n    makeGrid(){\n        let grid = new Array(30);\n        for(var i=0; i &lt; 30; i++){\n            grid[i] = new Array(30).fill(null);\n        }\n\n        return grid;\n    }\n\n    checkElementExists(coordinates){\n        if(this.grid[coordinates[0]][coordinates[1]] != null){\n            return true;\n        }else{\n            return false;\n        }\n    }\n\n    growAPlant(timeRate){\n        if(timeRate == null){\n            clearInterval(this.growAPlant);\n        }\n        let plant = new Plant();\n        let coord = plant.generateCoordinateInMeadow();\n        //console.log(coord);\n        // add a plant to the 2d array, but check if the that spot is free\n        // otherwise use the generateCOordinate in the meadow function\n        //console.log(this.grid[coord[0]][coord[1]]);\n        //var that = this;\n        var ans = checkElementExists(coord).bind(this);\n        console.log(ans);\n        while(!checkElementExists(coord)){\n            coord = plant.generateCoordinateInMeadow();\n        }\n        //console.log(coord);\n        //console.log(this.grid[coord[0]] == undefined);\n        this.grid[coord[0]][coord[1]] = plant;\n        //console.log(this.grid);\n    }\n}\n\nclass Simulation{\n\nconstructor(){\n    this.passRateArray = []; // this array will be used to plot the data\n    this.failureRateArray = []; // array that will hold failure growth rates\n    this.timeToEnergyData = []; // an example would be [{0: 1000, 1: 999, 2: 998, ....., 10000: 0}]\n    this.rateToEnergyTimeData = {};\n    this.timeCounter = 100; // 10000\n    this.growthTimeRate = 1000; // 1 second\n    this.gap = 0.05;\n    this.meadow = new Meadow();\n    this.bunny = new Bunny();\n}\n\n\ntimeToEnergyDataPopulator(currTime, energy){\n    var relation = {currTime : energy};\n    this.timeToEnergyData.push(relation);\n}\n\nsimulation(){\n    // HERE I MAKE A CALL TO MEADOW.GROWAPLANT\n    setInterval(this.meadow.growAPlant.bind(this.meadow), this.growthTimeRate);\n    //meadow.growAPlant(this.growthTimeRate);\n    let bunnyMove = this.bunny.move();  \n\n    // not enough energy, bunny did not survive\n    if(bunnyMove == false){\n        this.timeToEnergyDataPopulator(this.timeCounter, bunny.getBunnyEnergy());\n\n        let rate = this.growthTimeRate / 1000;\n        this.rateToEnergyTimeData = {rate : this.timeToEnergyData};\n        // add the failure rate to the failureRateArray\n        this.failureRateArray.push(this.growthTimeRate);\n        //  increase the rate of plant growth\n        if(this.passRateArray.length &lt; 1){\n            this.growthTimeRate = this.growthTimeRate + this.growthTimeRate * 0.5;\n        }else{\n            let lastSurvivalRate = this.passRateArray[this.passRateArray.length - 1];\n            this.growthTimeRate = lastSurvivalRate - ((lastSurvivalRate - this.growthTimeRate)*0.5);\n        }\n\n        // stop the meadow from growing a plant\n        meadow.growAPlant(null);\n        // stop the simulation\n        clearInterval(this.simulation);\n    }\n    while(!this.meadow.checkValidBunnyMove(bunnyMove).bind(this.meadow)){\n        bunnyMove = bunny.move();\n    }\n    if(meadow.checkIfBunnyEats(bunnyMove)){\n        // since bunny made still a move, -1 energy\n        bunny.decreaseEnergyByOne();\n        // and since the meadow at that coordinate had food, we add +10 to energy via eatPlant method\n        bunny.eatPlant();\n        // track the time to energy data\n        this.timeToEnergyDataPopulator(this.timeCounter, bunny.getBunnyEnergy);\n    }else{\n        // no food, -1 energy\n        bunny.decreaseEnergyByOne();\n        // track the time to energy data\n        this.timeToEnergyDataPopulator(this.timeCounter, bunny.getBunnyEnergy);\n    }\n    // decrement the timeCounter\n    this.timeCounter -= 1;\n    if(this.timeCounter &lt;= 0){\n        this.timeToEnergyDataPopulator(this.timeCounter, bunny.getBunnyEnergy());\n\n        let rate = this.growthTimeRate / 1000;\n        this.rateToEnergyTimeData = {rate : this.timeToEnergyData};\n\n        this.passRateArray.push(this.growthTimeRate);\n\n        // bunny survived, adjust the growth rate\n        if(this.failureRateArray.length &lt; 1){\n            this.growthTimeRate = this.growthTimeRate - (this.growthTimeRate * 0.5);\n        }else{\n            let lastFailureRate = this.failureRateArray[this.failureRateArray.length - 1];\n            this.growthTimeRate = this.growthTimeRate - ((this.growthTimeRate - lastFailureRate) * 0.5);\n        }\n        clearInterval(this.simulation);\n    }\n}\n\nrunner(){\n    while(this.passRateArray[this.passRateArray.length - 1] - this.failureRateArray[this.failureRateArray.length - 1] &gt; this.gap || this.passRateArray.length == 0 || this.failureRateArray.length == 0){\n        setInterval(this.simulation(), 1000);  \n    }\n    console.log(\"The minimum plant regeneration rate required to sustain the bunny for 10000 units of time is \" + \n        this.growthTimeRate + \" regenerations/unit time\");\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Errors that I get:\n1) simulation.js:62 Uncaught TypeError: this.meadow.checkValidBunnyMove is not a function\n    at Simulation.simulation (simulation.js:62)\n    at Simulation.runner (simulation.js:101)\n    at (index):24\n2) meadow.js:1 Uncaught SyntaxError: Identifier 'Meadow' has already been declared\n    at VM16689 meadow.js:1\n3) VM16689 meadow.js:37 Uncaught ReferenceError: checkElementExists is not defined\n    at Meadow.growAPlant (VM16689 meadow.js:37)</p>\n\n<p>My question is why the number 1 and 3 errors persist?</p>\n"}, {"tags": ["javascript", "vue.js", "graphql", "nuxt.js", "apollo"], "answers": [{"comments": [{"owner": {"reputation": 3035, "user_id": 1121268, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/70e415e0db7419bc254241110f49c1eb?s=128&d=identicon&r=PG", "display_name": "Merc", "link": "https://stackoverflow.com/users/1121268/merc"}, "edited": false, "score": 0, "creation_date": 1579869716, "post_id": 57600046, "comment_id": 105920813, "body": "True that. I did find that solution as well, I just totally forgot about my question here."}], "tags": [], "owner": {"reputation": 3035, "user_id": 1121268, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/70e415e0db7419bc254241110f49c1eb?s=128&d=identicon&r=PG", "display_name": "Merc", "link": "https://stackoverflow.com/users/1121268/merc"}, "is_accepted": true, "score": 1, "last_activity_date": 1579289265, "last_edit_date": 1579289265, "creation_date": 1566427650, "answer_id": 57600046, "question_id": 57501758, "link": "https://stackoverflow.com/questions/57501758/possible-to-combine-apollo-queries-within-nuxt/57600046#57600046", "title": "Possible to combine apollo queries (within nuxt?)", "body": "<p>There is actually a solution to this problem.\nI found out that the <code>result</code> hook in vue-apollo solves this problem:</p>\n\n<p>Example code that works:</p>\n\n<pre><code>&lt;script&gt;\nimport gql from 'graphql-tag'\n\nconst query = gql`\n{\n    entries(section: [pages], slug: \"my-example-page-slug\") {\n        slug\n        title\n    }\n    seomatic(uri: \"/\") {\n        metaTitleContainer\n        metaTagContainer\n        metaLinkContainer\n        metaJsonLdContainer\n    }\n}\n`\n\nexport default {\n    data: () =&gt; {\n        return {\n            page: false,\n            seomatic: {}\n        }\n    },\n    apollo: {\n        entries: {\n            query,\n            prefetch: ({ route }) =&gt; ({ slug: route.params.slug }),\n            variables() {\n                return { slug: this.$route.params.slug }\n            }\n        },\n        result(result) {\n            this.entries = result.data.entries\n            this.seomatic = result.data.seomatic\n        }\n    }\n}\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 3035, "user_id": 1121268, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/70e415e0db7419bc254241110f49c1eb?s=128&d=identicon&r=PG", "display_name": "Merc", "link": "https://stackoverflow.com/users/1121268/merc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1469, "favorite_count": 1, "accepted_answer_id": 57600046, "answer_count": 1, "score": 2, "last_activity_date": 1579289265, "creation_date": 1565815198, "question_id": 57501758, "link": "https://stackoverflow.com/questions/57501758/possible-to-combine-apollo-queries-within-nuxt", "title": "Possible to combine apollo queries (within nuxt?)", "body": "<p>I am using nuxt and apollo together with: <a href=\"https://github.com/nuxt-community/apollo-module\" rel=\"nofollow noreferrer\">https://github.com/nuxt-community/apollo-module</a></p>\n\n<p>I have a working GraphQL query (tested in GraphiQL):\n(Because I want to fetch the info about my page and also some general SEO information)</p>\n\n<pre><code>{\n  entries(section: [pages], slug: \"my-page-slug\") {\n    slug\n    title\n  }\n  seomatic(uri: \"/\") {\n    metaTitleContainer\n    metaTagContainer\n    metaLinkContainer\n    metaScriptContainer\n    metaJsonLdContainer\n  }\n}\n</code></pre>\n\n<p>I want to fetch this data as well with apollo in nuxt:</p>\n\n<p>So I tried:</p>\n\n<pre><code>&lt;script&gt;\nimport page from '~/apollo/queries/page'\nimport seomatic from '~/apollo/queries/seomatic'\n\nexport default {\n  apollo: {\n    entries: {\n      query: page,\n      prefetch: ({ route }) =&gt; ({ slug: route.params.slug }),\n      variables() {\n        return { slug: this.$route.params.slug }\n      }\n    },\n    seomatic: {\n      query: seomatic,\n      prefetch: true\n    }\n  },\n\u2026\n</code></pre>\n\n<p>If I do that I will get an error message:</p>\n\n<pre><code>GraphQL error: Cannot query field \"seomatic\" on type \"Query\".\n</code></pre>\n\n<p>I then found this issue\n<a href=\"https://github.com/apollographql/apollo-tooling/issues/648\" rel=\"nofollow noreferrer\">https://github.com/apollographql/apollo-tooling/issues/648</a>\nand I would like to know if ths could be a problem of the apollo nuxt module.\nBecause following that fix indicated in the issue does not resolve anything.</p>\n\n<p>I further tried to combine the two calls into one:</p>\n\n<pre><code>fragment SeoMaticFragment on Root {\n  seomatic(uri: \"/\") {\n    metaTitleContainer\n    metaTagContainer\n    metaLinkContainer\n    metaScriptContainer\n    metaJsonLdContainer\n  }\n}\n\nquery myQuery($slug: String!) {\n  entries(section: [pages], slug: $slug) {\n    slug\n    title\n  }\n\n  SeoMaticFragment\n}\n</code></pre>\n\n<p><code>~/apollo/queries/page.gql</code></p>\n\n<p>But this would first throw an error</p>\n\n<blockquote>\n  <p>fragment Unknown type \"Root\"</p>\n</blockquote>\n\n<ol>\n<li>So what is the best way to combine?</li>\n<li>Why are the requests failing</li>\n<li>is there an option to activate batching like described here: <a href=\"https://blog.apollographql.com/query-batching-in-apollo-63acfd859862\" rel=\"nofollow noreferrer\">https://blog.apollographql.com/query-batching-in-apollo-63acfd859862</a></li>\n</ol>\n\n<p>-</p>\n\n<pre><code>const client = new ApolloClient({\n // ... other options ...\n shouldBatch: true,\n});\n</code></pre>\n\n<p>thank you so much in advance.\nCheers</p>\n"}, {"tags": ["javascript", "discord", "discord.js", "giphy", "giphy-api"], "comments": [{"owner": {"reputation": 473, "user_id": 11833112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gtwt79yKsxE/AAAAAAAAAAI/AAAAAAAAAIM/NsBmHErkSZQ/photo.jpg?sz=128", "display_name": "Kyle K", "link": "https://stackoverflow.com/users/11833112/kyle-k"}, "edited": false, "score": 0, "creation_date": 1565816753, "post_id": 57501711, "comment_id": 101473178, "body": "You should post the code that does the <code>console.log</code> and sends a message to chat."}, {"owner": {"reputation": 769, "user_id": 9739007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/18Kgd.png?s=128&g=1", "display_name": "McFloofenbork", "link": "https://stackoverflow.com/users/9739007/mcfloofenbork"}, "reply_to_user": {"reputation": 473, "user_id": 11833112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gtwt79yKsxE/AAAAAAAAAAI/AAAAAAAAAIM/NsBmHErkSZQ/photo.jpg?sz=128", "display_name": "Kyle K", "link": "https://stackoverflow.com/users/11833112/kyle-k"}, "edited": false, "score": 0, "creation_date": 1565817121, "post_id": 57501711, "comment_id": 101473295, "body": "Right, my bad! Editing it now..."}, {"owner": {"reputation": 575, "user_id": 11691682, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UVSuyLYceZE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd83aDbw8r3DEV88AThuN2Q-4oyNA/mo/photo.jpg?sz=128", "display_name": "DaCurse", "link": "https://stackoverflow.com/users/11691682/dacurse"}, "edited": false, "score": 1, "creation_date": 1565820721, "post_id": 57501711, "comment_id": 101474305, "body": "Can you send the code that calls the function and sends the message?"}, {"owner": {"reputation": 769, "user_id": 9739007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/18Kgd.png?s=128&g=1", "display_name": "McFloofenbork", "link": "https://stackoverflow.com/users/9739007/mcfloofenbork"}, "reply_to_user": {"reputation": 575, "user_id": 11691682, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UVSuyLYceZE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd83aDbw8r3DEV88AThuN2Q-4oyNA/mo/photo.jpg?sz=128", "display_name": "DaCurse", "link": "https://stackoverflow.com/users/11691682/dacurse"}, "edited": false, "score": 0, "creation_date": 1565902801, "post_id": 57501711, "comment_id": 101500253, "body": "@DaCurse Yup, lemme add it real quick!"}], "answers": [{"tags": [], "owner": {"reputation": 2424, "user_id": 6258290, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ezugX_8QRd4/AAAAAAAAAAI/AAAAAAAAACs/zXbXiIQOsj8/photo.jpg?sz=128", "display_name": "PLASMA chicken", "link": "https://stackoverflow.com/users/6258290/plasma-chicken"}, "is_accepted": false, "score": 0, "last_activity_date": 1566146882, "creation_date": 1566146882, "answer_id": 57546547, "question_id": 57501711, "link": "https://stackoverflow.com/questions/57501711/unable-to-show-giphy-gif-in-discord-chat-using-robot/57546547#57546547", "title": "Unable to show Giphy GIF in Discord chat using robot", "body": "<p><code>randomGiphy</code> is an async function so you need to await it like:</p>\n\n<pre><code>const gif_url = await randomGiphy();\nmessage.reply(gif_url);\n</code></pre>\n"}], "owner": {"reputation": 769, "user_id": 9739007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/18Kgd.png?s=128&g=1", "display_name": "McFloofenbork", "link": "https://stackoverflow.com/users/9739007/mcfloofenbork"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 676, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566146882, "creation_date": 1565814957, "last_edit_date": 1565902831, "question_id": 57501711, "link": "https://stackoverflow.com/questions/57501711/unable-to-show-giphy-gif-in-discord-chat-using-robot", "title": "Unable to show Giphy GIF in Discord chat using robot", "body": "<p>I am using Javascript for my Discord bot to make a call to the Giphy Random API Endpoint. But the problem is when I try to get the bot to show the gif in Discord chat, it doesn't show anything. It's just a blank, it doesn't even show the gif URL.</p>\n\n<p>I know it's getting the gif URL because it shows in the log:</p>\n\n<pre><code>GET URL BROOOOO: https://giphy.com/gifs/animated-top-icons-dAkW9Z1YuihG0\n</code></pre>\n\n<p>But it just doesn't render it in Discord, as shown <a href=\"https://gyazo.com/1999f42dbef6e4abcdb4140f3122a525\" rel=\"nofollow noreferrer\">here</a>. It's blank.</p>\n\n<p>I'm very confused because this is the same URL as the built-in Discord Giphy search capability. (If you type <code>/giphy &lt;search-terms-here&gt;</code> it will embed a gif of your choice that follows the same gif URL as the one I'm trying to use.</p>\n\n<p>I must be overlooking something small or doing an easy mistake. </p>\n\n<p>This is the function that makes a call to Giphy:</p>\n\n<pre><code>// Function that randomly gets a gif via Giphy Random API Endpoint\nconst randomGiphy = async () =&gt; {\n    try {\n        const response = await fetch(`https://api.giphy.com/v1/gifs/random?api_key=${process.env.GIPHY_API}&amp;tag=&amp;rating=G`,\n        {\n            method: 'GET',\n            headers: {\n              'Accept': 'application/json'\n            },\n        });\n        const myJson = await response.json();\n        console.log('json');\n        console.log(myJson);\n        console.log('data');\n        console.log(myJson['data']);\n        console.log('data url');\n        console.log(myJson['data']['url']);\n        console.log(`GET URL BROOOOO: ${myJson['data']['url']}`);\n        return myJson['data']['url']; // GIF URL OBTAINED HERE\n    }\n    catch {\n        console.log(\"couldnt fetch a gif bruh.\");\n    }\n}\n</code></pre>\n\n<p>The code that calls the Giphy API function: (It's the <code>!gif</code> command)</p>\n\n<pre><code>// Will recognize commands to generate various quotes\nclient.on('message', async message =&gt; {\n    if (message.content === 'ping') {\n        message.reply('pong');\n    }\n    else if (message.content === '!dadjoke') {\n        var dadJoke = await getDadJoke();\n        message.reply(dadJoke);\n    }\n    else if (message.content === '!happy') {\n        message.reply('');\n    }\n    else if (message.content === '!encourageme') {\n        message.reply(getProductivityQuote());\n    }\n    else if (message.content === '!love') {\n        message.reply('');\n        var request = \"https://webhook.site/836ecfe2-a79f-41df-b5a8-64850105850d\";\n        try {\n            const response = await fetch(request,\n            {\n                method: 'GET',\n                headers: {\n                  'Accept': 'application/json'\n                },\n            });\n            const myJson = await response.json();\n        }\n        catch {\n            console.log(\"couldnt make call to webhook\");\n        }\n    }\n    else if (message.content === '!gif') {\n        message.reply('getting gif...');\n        var gif_url = randomGiphy();\n        message.reply(randomGiphy());\n    }\n    else if (detectBadWords === true ) {\n        for (var i = 0; i &lt; forbiddenWords.length; i++) {\n            if (message.content.toLowerCase().includes(forbiddenWords[i])) {\n                if (message.author.id === client.user.id) return;\n                message.reply('Stop cursing or I\\'m going to suck your bootyflakes!');\n                // message.delete();\n                break;\n            }\n        }\n    }\n});\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "selected"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 9213706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae3ae5a427f72f9cca27ff8f5470da2b?s=128&d=identicon&r=PG&f=1", "display_name": "luckidtk", "link": "https://stackoverflow.com/users/9213706/luckidtk"}, "edited": false, "score": 0, "creation_date": 1565815713, "post_id": 57501736, "comment_id": 101472905, "body": "thank you it works. I will learn more about the information you provided and the code you edited"}], "tags": [], "owner": {"reputation": 304305, "user_id": 519413, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7839089cd91dc5cc5eb1e0cdbf3312ed?s=128&d=identicon&r=PG", "display_name": "Rory McCrossan", "link": "https://stackoverflow.com/users/519413/rory-mccrossan"}, "is_accepted": true, "score": 1, "last_activity_date": 1565815083, "creation_date": 1565815083, "answer_id": 57501736, "question_id": 57501673, "link": "https://stackoverflow.com/questions/57501673/replace-the-drop-down-select-into-the-class-selected-in-jquery/57501736#57501736", "title": "Replace the drop-down select into the class selected in jquery", "body": "<p>To achieve this you can set the text of the related <code>.selected</code> to match that of the clicked dropdown item.</p>\n\n<p>Also note that <code>parent</code> in your code is already a jQuery object so you don't need to wrap it again multiple times. Additionally, jQuery 1.9.1 is rather outdated. You should update to at least 1.12.4 if you still need to support IE9 and lower, ideally 3.x if not.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n  $('.dropdown-list .dropdown-item').click(function() {\r\n    var $item = $(this);\r\n    var tab_id = $item.data('id');\r\n    var $parent = $item.closest('.data-tab');\r\n\r\n    $parent.find('.dropdown-item').removeClass('hide');\r\n    $parent.find('.rank-list-wrap').addClass('show-origin');\r\n    $parent.find(\"#\" + tab_id).removeClass('show-origin');\r\n    $parent.find('.selected').text($item.text()); // set the selected text\r\n    $item.addClass('hide');\r\n  })\r\n})</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.rank-dropdown {\r\n  position: relative;\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n  background-color: #fff;\r\n  cursor: default;\r\n  padding: 0 7px;\r\n  height: 22px;\r\n  line-height: 22px;\r\n  border: 1px solid #ccd0d7;\r\n  border-radius: 4px;\r\n}\r\n\r\n.rank-dropdown:hover {\r\n  border-radius: 4px 4px 0 0;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, .16);\r\n}\r\n\r\n.rank-dropdown .selected {\r\n  display: inline-block;\r\n  vertical-align: top;\r\n}\r\n\r\n.rank-dropdown .dropdown-list .dropdown-item:hover {\r\n  background-color: #e5e9ef;\r\n}\r\n\r\n.rank-dropdown .dropdown-list {\r\n  position: absolute;\r\n  width: 100%;\r\n  background: #fff;\r\n  border: 1px solid #ccd0d7;\r\n  border-top: 0;\r\n  left: -1px;\r\n  top: 6px;\r\n  z-index: 10;\r\n  display: none;\r\n  border-radius: 0 0 4px 4px;\r\n  padding-inline-start: 0px;\r\n}\r\n\r\n.rank-dropdown:hover .dropdown-list {\r\n  display: block;\r\n}\r\n\r\n.rank-dropdown .dropdown-list .dropdown-item {\r\n  cursor: pointer;\r\n  margin: 0;\r\n  padding: 3px 7px;\r\n}\r\n\r\n.rank-list-wrap {\r\n  height: 500px;\r\n  display: none;\r\n}\r\n\r\n.rank-list-wrap.show-origin {\r\n  display: block;\r\n}\r\n\r\n.dropdown-item.hide {\r\n  display: none;\r\n}\r\n\r\nli {\r\n  list-style: none;\r\n}\r\n\r\na[href]:focus,\r\n*:focus {\r\n  outline: none;\r\n}\r\n\r\nol,\r\nul {\r\n  list-style: none;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;section class=\"data-tab\"&gt;\r\n  &lt;div class=\"rank-dropdown\" data-id=\"item\"&gt;\r\n    &lt;span class=\"selected\"&gt;Select 1&lt;/span&gt;\r\n    &lt;ul class=\"dropdown-list\"&gt;\r\n      &lt;li class=\"dropdown-item hide\" data-id=\"item\"&gt;Select 1&lt;/li&gt;\r\n      &lt;li class=\"dropdown-item\"&gt;Select 2&lt;/li&gt;\r\n    &lt;/ul&gt;\r\n  &lt;/div&gt;\r\n  &lt;div id=\"item\" class=\"rank-list-wrap\"&gt;\r\n    added class show-origin\r\n  &lt;/div&gt;\r\n&lt;/section&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 45, "user_id": 9213706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae3ae5a427f72f9cca27ff8f5470da2b?s=128&d=identicon&r=PG&f=1", "display_name": "luckidtk", "link": "https://stackoverflow.com/users/9213706/luckidtk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 57501736, "answer_count": 1, "score": 1, "last_activity_date": 1565815083, "creation_date": 1565814825, "question_id": 57501673, "link": "https://stackoverflow.com/questions/57501673/replace-the-drop-down-select-into-the-class-selected-in-jquery", "title": "Replace the drop-down select into the class selected in jquery", "body": "<p>How to replace the selection in the class=\"selected\"?</p>\n\n<p>For example, if I select \"Select 1\" from drop down, it will become:</p>\n\n<pre><code>&lt;span class=\"selected\"&gt;Select 1&lt;/span&gt;\n</code></pre>\n\n<p>and vice versa if select \"Select 2\" from drop down, it will become:</p>\n\n<pre><code>&lt;span class=\"selected\"&gt;Select 2&lt;/span&gt;\n</code></pre>\n\n<p>html</p>\n\n<pre><code>&lt;section class=\"data-tab\"&gt;\n  &lt;div class=\"rank-dropdown\" data-id=\"item\"&gt;\n   &lt;span class=\"selected\"&gt;Select 1&lt;/span&gt;\n    &lt;ul class=\"dropdown-list\"&gt;\n            &lt;li class=\"dropdown-item hide\" data-id=\"item\"&gt;Select 1&lt;/li&gt;\n            &lt;li class=\"dropdown-item\"&gt;Select 2&lt;/li&gt;\n        &lt;/ul&gt;\n  &lt;/div&gt;\n  &lt;div id=\"item\" class=\"rank-list-wrap\"&gt;\n  added class show-origin\n  &lt;/div&gt;\n&lt;/section&gt;\n</code></pre>\n\n<p>javascript</p>\n\n<pre><code>$(document).ready(function(){\n\n  $('.dropdown-list .dropdown-item').click(function(){  \n    var tab_id = $(this).attr('data-id');  \n    var parent = $(this).closest('.data-tab');\n\n    $(parent).find('.dropdown-item').removeClass('hide');\n    $(parent).find('.rank-list-wrap').addClass('show-origin');\n\n    $(this).addClass('hide');\n    $(parent).find(\"#\"+tab_id).removeClass('show-origin');\n\n  })\n\n})\n</code></pre>\n\n<p>jsfiddle: <a href=\"https://jsfiddle.net/e9nrzmfL/3/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/e9nrzmfL/3/</a></p>\n"}, {"tags": ["javascript", "html", "reactjs", "forms", "redux"], "answers": [{"comments": [{"owner": {"reputation": 466, "user_id": 2853450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/22cf211761f698a03de9135fe3ca1cd2?s=128&d=identicon&r=PG&f=1", "display_name": "Robert C", "link": "https://stackoverflow.com/users/2853450/robert-c"}, "edited": false, "score": 0, "creation_date": 1565815436, "post_id": 57501773, "comment_id": 101472821, "body": "This code gives me a failed to compile error. Inside the console is a parsing error: unexpected token on the closing &lt;/i&gt;. I tried writing it in manually then I tried copy pasting. Error both times."}, {"owner": {"reputation": 1673, "user_id": 3186314, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Pa8ID.png?s=128&g=1", "display_name": "Abk", "link": "https://stackoverflow.com/users/3186314/abk"}, "reply_to_user": {"reputation": 466, "user_id": 2853450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/22cf211761f698a03de9135fe3ca1cd2?s=128&d=identicon&r=PG&f=1", "display_name": "Robert C", "link": "https://stackoverflow.com/users/2853450/robert-c"}, "edited": false, "score": 0, "creation_date": 1565815612, "post_id": 57501773, "comment_id": 101472882, "body": "@RobertC What about this <code>&lt;i className=&quot;fas fa-times-circle&quot; onClick={event =&gt; event.target.parentElement.input; this.props.storeUserSearch(&#39;&#39;);}&gt; &lt;&#47;i&gt;</code>"}, {"owner": {"reputation": 466, "user_id": 2853450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/22cf211761f698a03de9135fe3ca1cd2?s=128&d=identicon&r=PG&f=1", "display_name": "Robert C", "link": "https://stackoverflow.com/users/2853450/robert-c"}, "reply_to_user": {"reputation": 1673, "user_id": 3186314, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Pa8ID.png?s=128&g=1", "display_name": "Abk", "link": "https://stackoverflow.com/users/3186314/abk"}, "edited": false, "score": 0, "creation_date": 1565815767, "post_id": 57501773, "comment_id": 101472916, "body": "@Abk That doesn&#39;t work  either. Gives me Parsing error: Unexpected token, expected &quot;}&quot; and cites the semicolon as the problem, in console."}], "tags": [], "owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "is_accepted": false, "score": 1, "last_activity_date": 1565815260, "creation_date": 1565815260, "answer_id": 57501773, "question_id": 57501648, "link": "https://stackoverflow.com/questions/57501648/delete-form-input-value-outside-of-input/57501773#57501773", "title": "Delete form input value outside of input", "body": "<p>You can't define two <code>onClick</code> props, one will overwrite the other. You can try something like</p>\n\n<pre><code>onClick={(event) =&gt; {event.target.parentElement.firstChild.value=''; this.props.storeUserSearch('')}}\n</code></pre>\n\n<p>note the semi-colon between the two individual statements</p>\n"}, {"comments": [{"owner": {"reputation": 466, "user_id": 2853450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/22cf211761f698a03de9135fe3ca1cd2?s=128&d=identicon&r=PG&f=1", "display_name": "Robert C", "link": "https://stackoverflow.com/users/2853450/robert-c"}, "edited": false, "score": 0, "creation_date": 1565815969, "post_id": 57501849, "comment_id": 101472971, "body": "Good point. Dunno why I didn&#39;t try this instead. Probably lack of sleep."}], "tags": [], "owner": {"reputation": 321, "user_id": 11490859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0c208539b5d304e7365a5fddb78b5ed?s=128&d=identicon&r=PG&f=1", "display_name": "Omer Khan", "link": "https://stackoverflow.com/users/11490859/omer-khan"}, "is_accepted": true, "score": 2, "last_activity_date": 1565815678, "creation_date": 1565815678, "answer_id": 57501849, "question_id": 57501648, "link": "https://stackoverflow.com/questions/57501648/delete-form-input-value-outside-of-input/57501849#57501849", "title": "Delete form input value outside of input", "body": "<p>why you're writing two onClick on same element? just pass a method on its click event and write all the logic there.\ni.e:</p>\n\n<pre><code>&lt;i className=\"fas fa-times-circle\" onClick={this.handleIconClick}&gt; &lt;/i&gt;\n// and in handleIconClick function write the logic.\nhandleIconClick = (e)=&gt;{\n  e.target.parentElement.firstChild.value='';\n  this.props.storeUserSearch('');\n}\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4813, "user_id": 1771994, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/92bb8a32559190ac0aa783c02c3c0299?s=128&d=identicon&r=PG&f=1", "display_name": "Tom O.", "link": "https://stackoverflow.com/users/1771994/tom-o"}, "is_accepted": false, "score": 0, "last_activity_date": 1565818241, "last_edit_date": 1565818241, "creation_date": 1565817573, "answer_id": 57502206, "question_id": 57501648, "link": "https://stackoverflow.com/questions/57501648/delete-form-input-value-outside-of-input/57502206#57502206", "title": "Delete form input value outside of input", "body": "<p>You can only have 1 <code>onClick</code> attribute per component, not multiple. I'm not sure exactly what <code>storeUserSearch</code> function is supposed to do since it's omitted from your code snippet, but based on what you've explained, I think you can achieve what you want to do similar to below:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class SearchForm extends React.Component {\r\n  constructor () {\r\n    super();\r\n    this.state = {\r\n      inputValue: ''\r\n    };\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n        &lt;div&gt;\r\n         &lt;input \r\n            type=\"text\"\r\n            value={ this.state.inputValue }\r\n            onChange={ \r\n              e =&gt; {\r\n               this.setState({inputValue: e.target.value}) \r\n              } \r\n            }\r\n          /&gt;\r\n            \r\n          &lt;input \r\n            type=\"button\" \r\n            value=\"Clear input\" \r\n            onClick={\r\n              () =&gt; { \r\n                this.setState({inputValue: ''}) \r\n              }\r\n            }/&gt;\r\n          \r\n          &lt;span style={{ display: 'block' }}&gt;Current textbox state: &lt;span style={{ color: 'blue' }}&gt;{this.state.inputValue}&lt;/span&gt;&lt;/span&gt;\r\n        &lt;/div&gt;\r\n    );\r\n  }\r\n}\r\n\r\nReactDOM.render(&lt;SearchForm&gt;&lt;/SearchForm&gt;, document.querySelector('#app'));</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/16.6.3/umd/react.production.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react-dom/16.6.3/umd/react-dom.production.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div id=\"app\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Basically we create a component that is made up of a 2 <code>input</code> elements (1 <code>text</code> and 1 <code>button</code>). The approach I took was to simply set the <code>value</code> attribute equal to our component's <code>state.inputValue</code>, which is updated each time a <code>change</code> event occurs on it.</p>\n\n<p>We just hardcode the <code>state.inputValue</code> property to <code>''</code> when the clear button is pressed. </p>\n"}], "owner": {"reputation": 466, "user_id": 2853450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/22cf211761f698a03de9135fe3ca1cd2?s=128&d=identicon&r=PG&f=1", "display_name": "Robert C", "link": "https://stackoverflow.com/users/2853450/robert-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 57501849, "answer_count": 3, "score": 0, "last_activity_date": 1565818241, "creation_date": 1565814722, "last_edit_date": 1565815198, "question_id": 57501648, "link": "https://stackoverflow.com/questions/57501648/delete-form-input-value-outside-of-input", "title": "Delete form input value outside of input", "body": "<p>So I have this form that updates the search in real time via storeUserSearch, which is why a value isn't set on input. I'm trying to implement an icon that deletes what's in the input field on click, and also runs the action storeUserSearch(''). </p>\n\n<p>The second onClick has no problems by itself. I'm simply trying to get the first onClick to work, and then have them both running at the same time so my click executes both.</p>\n\n<pre><code>&lt;form&gt;\n  &lt;input\n    className=\"searchBox fas fa-search\"\n    type=\"search\"\n    placeholder=\"Search\"\n    onChange={event =&gt; this.props.storeUserSearch(event.target.value) } /&gt;\n    &lt;i className=\"fas fa-times-circle\" onClick={event =&gt; event.target.parentElement.input} onClick={event =&gt; this.props.storeUserSearch('')}&gt; &lt;/i&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><strong>Edit:</strong> Figured out how to reset the value via</p>\n\n<pre><code>onClick={event =&gt; event.target.parentElement.firstChild.value=''}\n</code></pre>\n\n<p>Just need to figure out how to combine the onClicks now.</p>\n"}, {"tags": ["javascript", "bootbox"], "comments": [{"owner": {"reputation": 6142, "user_id": 8732818, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WopVT.jpg?s=128&g=1", "display_name": "Calvin Nunes", "link": "https://stackoverflow.com/users/8732818/calvin-nunes"}, "edited": false, "score": 0, "creation_date": 1565814872, "post_id": 57501609, "comment_id": 101472616, "body": "Are you sure you have included Bootstrap js and css on your project? Because bootbox only works with that. (copying your code and adding bootstrap, it worked for me, check: <a href=\"https://jsfiddle.net/nsL4oxev/\" rel=\"nofollow noreferrer\">jsfiddle.net/nsL4oxev</a>)"}, {"owner": {"reputation": 449, "user_id": 10739704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XmWze.jpg?s=128&g=1", "display_name": "nileshkumar", "link": "https://stackoverflow.com/users/10739704/nileshkumar"}, "edited": false, "score": 0, "creation_date": 1565814883, "post_id": 57501609, "comment_id": 101472622, "body": "can you paste code of the html file here as well?"}, {"owner": {"reputation": 61, "user_id": 10275790, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3sBCO1TYB1c/AAAAAAAAAAI/AAAAAAAAABU/PWg8Zl382Dk/photo.jpg?sz=128", "display_name": "raza abbas", "link": "https://stackoverflow.com/users/10275790/raza-abbas"}, "edited": false, "score": 0, "creation_date": 1565815403, "post_id": 57501609, "comment_id": 101472806, "body": "yes I have. I am using ASP .Net Mvc and I have included all the imports in my bundleconfig file @ClavinNunes"}, {"owner": {"reputation": 61, "user_id": 10275790, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3sBCO1TYB1c/AAAAAAAAAAI/AAAAAAAAABU/PWg8Zl382Dk/photo.jpg?sz=128", "display_name": "raza abbas", "link": "https://stackoverflow.com/users/10275790/raza-abbas"}, "reply_to_user": {"reputation": 449, "user_id": 10739704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XmWze.jpg?s=128&g=1", "display_name": "nileshkumar", "link": "https://stackoverflow.com/users/10739704/nileshkumar"}, "edited": false, "score": 0, "creation_date": 1565815453, "post_id": 57501609, "comment_id": 101472830, "body": "@nileshkumar I will post it wait a sec.."}], "owner": {"reputation": 61, "user_id": 10275790, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3sBCO1TYB1c/AAAAAAAAAAI/AAAAAAAAABU/PWg8Zl382Dk/photo.jpg?sz=128", "display_name": "raza abbas", "link": "https://stackoverflow.com/users/10275790/raza-abbas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 131, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1609131714, "creation_date": 1565814524, "last_edit_date": 1565815532, "question_id": 57501609, "link": "https://stackoverflow.com/questions/57501609/bootbox-confirm-dialog-box-is-not-showing-up", "title": "Bootbox.confirm() dialog box is not showing up", "body": "<p>I am trying to use bootbox.confirm() for a simple confirmation box but dialog box is not showing up on the page. There are no problems in the chrome's console (in fact there is nothing in there). However when I click my button , for which the dialog box is supposed to appear, the additional div of the box can be seen in the elements section of the chrome's developer tools but nothing can be seen on the page.\nhere is the javascript.</p>\n\n<pre><code>$(document).ready(function () {\n        $(\"#customers .js-delete\").on(\"click\", function () {\n            var button = $(this);\n            bootbox.confirm(\"Are you sure you want to delete this Customer?\", function (result) {\n                if (result==true) {\n                    $.ajax({\n                        url: \"/api/customers/\" + button.attr(\"data-customer-id\"),\n                        method: \"DELETE\",\n                        success: function () {\n                            button.parents(\"tr\").remove();\n                        }\n                    });\n                }\n            });\n        });\n    });\n</code></pre>\n\n<p>here is html of the page </p>\n\n<pre><code>&lt;table id=\"customers\" class=\"table table-bordered table-hover\"&gt;\n    &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th&gt;Customer&lt;/th&gt;\n            &lt;th&gt;Membership Type&lt;/th&gt;\n            &lt;th&gt;Delete&lt;/th&gt;\n        &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n        @foreach (var customer in Model)\n        {\n            &lt;tr&gt;\n                &lt;td&gt;@Html.ActionLink(customer.Name, \"Edit\", \"Customers\", new { id = customer.Id }, null)&lt;/td&gt;\n                &lt;td&gt;@customer.MembershipType.Name&lt;/td&gt;\n                &lt;td&gt;\n                    &lt;button data-customer-id=\"@customer.Id\" class=\"btn btn-link js-delete\"&gt;Delete&lt;/button&gt;\n                &lt;/td&gt;\n            &lt;/tr&gt;\n        }\n    &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n"}, {"tags": ["javascript"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 9283301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb5f752307e9d292665f9a799fc40ebb?s=128&d=identicon&r=PG&f=1", "display_name": "Skyest", "link": "https://stackoverflow.com/users/9283301/skyest"}, "edited": false, "score": 0, "creation_date": 1565854727, "post_id": 57501618, "comment_id": 101480627, "body": "Hello,  Thanks a lot for the solution.  I really appreciate it for you to help me with this problem."}], "tags": [], "owner": {"reputation": 34248, "user_id": 269970, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Breov.jpg?s=128&g=1", "display_name": "esqew", "link": "https://stackoverflow.com/users/269970/esqew"}, "is_accepted": false, "score": 2, "last_activity_date": 1565817889, "last_edit_date": 1565817889, "creation_date": 1565814554, "answer_id": 57501618, "question_id": 57501571, "link": "https://stackoverflow.com/questions/57501571/how-to-do-calculation-plus-and-minus-with-javascript/57501618#57501618", "title": "How to do calculation plus and minus with javascript", "body": "<p>A few points:</p>\n\n<ol>\n<li><p><code>document.getElementById(&lt;string id&gt;).value</code> returns a <code>string</code>. Using <code>+</code> on two <code>string</code> objects performs a concatenation of the two.</p></li>\n<li><p>You've forgotten to close your function declaration with a <code>}</code>.</p></li>\n<li><p>You've arbitrarily declared <code>p</code>, <code>b</code>, and <code>c</code> in two completely separate contexts.</p></li>\n<li><p>You have an <code>if</code> statement <code>if (p == \"pokok\") {}</code> that doesn't actually do anything.</p></li>\n</ol>\n\n<p>(Since you haven't included your relevant HTML, I've taken the liberty of creating some for demonstration purposes.)</p>\n\n<p>The solution specific to your question is to parse the <code>input</code>s' values as integers using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/parseInt\" rel=\"nofollow noreferrer\"><code>parseInt()</code></a> before attempting to add them:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function calc() {\r\n  var p = parseInt(document.getElementById(\"pokok\").value);\r\n  var b = parseInt(document.getElementById('bonus').value);\r\n  var c = parseInt(document.getElementById('cut').value);\r\n\r\n  total = p + b - c;\r\n\r\n  document.getElementById(\"total\").value = total;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"text\" id=\"pokok\" placeholder=\"pokok\" /&gt;\r\n&lt;input type=\"text\" id=\"bonus\" placeholder=\"bonus\" /&gt;\r\n&lt;input type=\"text\" id=\"cut\" placeholder=\"cut\" /&gt;\r\n&lt;button onclick=\"calc()\"&gt;Calculate&lt;/button&gt;\r\n\r\n&lt;input type=\"text\" id=\"total\" placeholder=\"total\" disabled=\"disabled\" /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 51813, "user_id": 860099, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/125k3.jpg?s=128&g=1", "display_name": "Kamil Kie\u0142czewski", "link": "https://stackoverflow.com/users/860099/kamil-kie%c5%82czewski"}, "is_accepted": false, "score": 0, "last_activity_date": 1565815281, "creation_date": 1565815281, "answer_id": 57501777, "question_id": 57501571, "link": "https://stackoverflow.com/questions/57501571/how-to-do-calculation-plus-and-minus-with-javascript/57501777#57501777", "title": "How to do calculation plus and minus with javascript", "body": "<p>Use '+' before each value to cast string to number</p>\n\n<pre><code>function calc() {\n  total.value = +pokok.value + +bonus.value - +cut.value\n}\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function calc() {\r\n  total.value = +pokok.value + +bonus.value - +cut.value\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"text\" id=\"pokok\" placeholder=\"pokok\" /&gt;\r\n&lt;input type=\"text\" id=\"bonus\" placeholder=\"bonus\" /&gt;\r\n&lt;input type=\"text\" id=\"cut\" placeholder=\"cut\" /&gt;\r\n&lt;button onclick=\"calc()\"&gt;Calculate&lt;/button&gt;\r\n\r\n&lt;input type=\"text\" id=\"total\" placeholder=\"total\" disabled=\"disabled\" /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 33, "user_id": 9283301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb5f752307e9d292665f9a799fc40ebb?s=128&d=identicon&r=PG&f=1", "display_name": "Skyest", "link": "https://stackoverflow.com/users/9283301/skyest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1361, "favorite_count": 0, "closed_date": 1565854813, "answer_count": 2, "score": -1, "last_activity_date": 1565817889, "creation_date": 1565814344, "last_edit_date": 1565815352, "question_id": 57501571, "link": "https://stackoverflow.com/questions/57501571/how-to-do-calculation-plus-and-minus-with-javascript", "closed_reason": "Duplicate", "title": "How to do calculation plus and minus with javascript", "body": "<p>I'm still new using Javascript I have some problem with calculation using javascript right now. \nThe problem is it won't count. </p>\n\n<p>Let me know which one I made mistake and how to solve it.\nI'm really sorry because this is my first time using javascript.</p>\n\n<pre><code>&lt;script text=\"javascript\"&gt;\n    var p = 0;\n    var b = 0;\n    var c = 0;\n    function calc() {\n      var p = document.getElementById(\"pokok\").value;\n      var b = document.getElementById('bonus').value;\n      var c = document.getElementById('cut').value;\n\n        if (p == 'pokok') { }\n        total = p + b - c;\n\n        document.getElementById(\"total\").value=total;\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>What I want to do from my code is </p>\n\n<p>P + B - C = total </p>\n\n<p>so basically \n10 + 10 - 5 = 15</p>\n"}, {"tags": ["javascript", "firebase", "google-cloud-functions", "nuxt.js"], "comments": [{"owner": {"reputation": 726, "user_id": 4173777, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Bs16Y.jpg?s=128&g=1", "display_name": "Jes&#250;s Fuentes", "link": "https://stackoverflow.com/users/4173777/jes%c3%bas-fuentes"}, "edited": false, "score": 0, "creation_date": 1565862682, "post_id": 57501556, "comment_id": 101483546, "body": "Are you trying to deploy yout Nuxt project as static content to Firebase Hosting?"}], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 3282291, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vV7AO.jpg?s=128&g=1", "display_name": "jlipstate", "link": "https://stackoverflow.com/users/3282291/jlipstate"}, "is_accepted": false, "score": 1, "last_activity_date": 1600223963, "last_edit_date": 1600223963, "creation_date": 1578880648, "answer_id": 59709759, "question_id": 57501556, "link": "https://stackoverflow.com/questions/57501556/nuxt-dynamic-routing-on-firebase/59709759#59709759", "title": "Nuxt Dynamic Routing on Firebase", "body": "<p>If using <code>nuxt generate</code>, then the explanation below should work. If using <code>nuxt build</code>, look at <a href=\"https://github.com/jon-lipstate/nuxt-firebase-ssr-template\" rel=\"nofollow noreferrer\">this</a> repo, it is a template i wrote for nuxt + firebase as ssr.</p>\n<p><a href=\"https://nuxtjs.org/api/configuration-generate/#routes\" rel=\"nofollow noreferrer\">Generate</a> says it skips over dynamic routes, unless you explicitly specify them, hence 404 errors. In your Nuxt config file, you want to specify those routes. Here is an example of fetching from the database during generation. Note that in my example below, the doc id is the slug for the page.</p>\n<p><strong>nuxt.config.js</strong></p>\n<pre><code>generate: {\n    async routes() {\n      const { db } = require('./services/fireInit');\n      const qs = await db.collection('recipes').get();\n      return qs.docs.map(x =&gt; `/recipes/${x.id}`);\n    }\n  },\n</code></pre>\n<p>The downside to this approach is as you add new items via a CMS, you will need to rebuild/deploy your site each time if you want to be able to use these new links without a 404. CMS without redeploy does work if you navigate to new content 'organically'...404 only occurs on a page refresh or on jumping directly to the page from a hyperlink.</p>\n"}], "owner": {"reputation": 10599, "user_id": 105514, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c94ec944a76e9fc31fcbd6d29285c153?s=128&d=identicon&r=PG", "display_name": "Daniel Cukier", "link": "https://stackoverflow.com/users/105514/daniel-cukier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 460, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1600223963, "creation_date": 1565814253, "question_id": 57501556, "link": "https://stackoverflow.com/questions/57501556/nuxt-dynamic-routing-on-firebase", "title": "Nuxt Dynamic Routing on Firebase", "body": "<p>My Nuxt.js App has this structure:</p>\n\n<pre><code>/pages/index.vue\n/pages/_slug/index.vue\n</code></pre>\n\n<p>When user gets <code>/{any_page}</code>, it will use the path to build the page content:</p>\n\n<p><strong>/pages/_slug/index.vue</strong></p>\n\n<pre><code>&lt;template&gt;\n  &lt;div&gt;\n    {{slug}}\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\nimport fetch from 'isomorphic-fetch';\nexport default {\n  async asyncData({ params }) {\n    return { slug: params.slug } \n  }\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>This works perfectly when running the Nuxt App directly via <code>yarn dev</code>.</p>\n\n<p>When I try to run this using firebase functions:</p>\n\n<pre><code>$ firebase serve --only functions,hosting\n</code></pre>\n\n<p>The static routes work perfectly, but the dynamic routes always render the default <code>/</code> page, instead of executing the dynamic one. How do I fix this? </p>\n"}, {"tags": ["javascript", "html", "iframe"], "answers": [{"tags": [], "owner": {"reputation": 341, "user_id": 1689274, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/6c01719249df0f3de5c27d3bfb222495?s=128&d=identicon&r=PG", "display_name": "user1689274", "link": "https://stackoverflow.com/users/1689274/user1689274"}, "is_accepted": false, "score": 0, "last_activity_date": 1572442494, "creation_date": 1572442494, "answer_id": 58626586, "question_id": 57501524, "link": "https://stackoverflow.com/questions/57501524/prevent-iframe-js-from-auto-scrolling-the-parent-page/58626586#58626586", "title": "Prevent iframe js from auto scrolling the parent page", "body": "<p>The 3rd party owner of the js within the iframe ended up providing a fix. There was no way we could do this without the screen scrolling back and forth.</p>\n"}], "owner": {"reputation": 341, "user_id": 1689274, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/6c01719249df0f3de5c27d3bfb222495?s=128&d=identicon&r=PG", "display_name": "user1689274", "link": "https://stackoverflow.com/users/1689274/user1689274"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1572442494, "creation_date": 1565814097, "last_edit_date": 1565815443, "question_id": 57501524, "link": "https://stackoverflow.com/questions/57501524/prevent-iframe-js-from-auto-scrolling-the-parent-page", "title": "Prevent iframe js from auto scrolling the parent page", "body": "<p>We have a page that has a video on it, embedded with an iframe.</p>\n\n<p>The iframe js code for the player has the following code in it:</p>\n\n<pre><code>m.default.focus(function (e) {\n          var t = e.playButton;\n          (0, y.focusElement) (t)\n        })\n</code></pre>\n\n<p>This basically makes the play button visible on the screen if it isn't already. Which is fine for stand alone videos, but not on a page where we have the video embedded.</p>\n\n<p>What it does framed in on our page is cause the entire page to scroll to that content.</p>\n\n<p>We'd like to prevent that if possible.</p>\n\n<p>Here is the iframe code:</p>\n\n<pre><code>&lt;div class=\"embed-responsive mb-5 embed-responsive-16by9\" id=\"myFrame\" style=\"height: auto;\"&gt;\n    &lt;iframe allowfullscreen=\"\" class=\"embed-responsive-item\" sandbox=\"allow-scripts allow-downloads-without-user-activation allow-same-origin\" src=\"https://sourcefile.onthesamedomain.com\" title=\"Video\"&gt;&lt;/iframe&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>We've tried the scroll to 0,0 on the parent but that didn't work.</p>\n\n<p>Apologies, but I forgot to add that this is only an issue in Firefox. The other browsers work with the attributes on the iframe.</p>\n\n<p>Any help would be appreciated. </p>\n"}, {"tags": ["javascript", "browser", "console"], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 8033240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1ff6afd42f8950fa909374444bba3d2?s=128&d=identicon&r=PG", "display_name": "CloneZero", "link": "https://stackoverflow.com/users/8033240/clonezero"}, "edited": false, "score": 0, "creation_date": 1565883142, "post_id": 57501661, "comment_id": 101492530, "body": "Thx IronFlare, your analysis, and description are correct.  I find it weird that the single window.location.reload() execution is held until all the javascript is done executing.  I also tested window.location.replace(location) and the same happens, as it should.  I will jump to JMeter and manipulated the browser from the outside."}], "tags": [], "owner": {"reputation": 2207, "user_id": 3988232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e47523b278f15afd925a473e2ac0b966?s=128&d=identicon&r=PG&f=1", "display_name": "IronFlare", "link": "https://stackoverflow.com/users/3988232/ironflare"}, "is_accepted": true, "score": 2, "last_activity_date": 1565880963, "last_edit_date": 1565880963, "creation_date": 1565814783, "answer_id": 57501661, "question_id": 57501487, "link": "https://stackoverflow.com/questions/57501487/in-chrome-why-does-a-javascript-loop-containing-window-loction-reloadtrue-fail/57501661#57501661", "title": "In Chrome why does a javascript loop containing window.loction.reload(true) fail to execute?", "body": "<p>Calling <code>window.location.reload()</code> is essentially equivalent to pressing the Refresh button in your browser. When it executes, it unloads the entire page, then loads it again (with the <code>true</code> argument it also ignores the browser cache, forcing it to request the page again from the server).</p>\n\n<p>Along with rendered HTML, CSS, and other assets, any JavaScript that is running (functions, loops, and variables) when a reload is initiated is discarded-- the browser starts completely from scratch with a blank environment.</p>\n\n<p>The whole point to refreshing is that it resets the page and retrieves everything over again, either from the server or the cache. This will also re-fetch any JavaScript on the page (and in the console), so it wouldn't make sense to preserve data from the potentially outdated version of a page or script.</p>\n\n<p>Apart from creating a Chrome extension yourself, there's likely no way to refresh a page in a loop, since all other script contexts are scoped to the current page. A hypothetical Chrome extension to do this could scan for a certain <code>tabId</code> and repeatedly refresh it based on your settings. It's possible that such a thing exists on the Chrome Web Store already, but I doubt it.</p>\n"}], "owner": {"reputation": 103, "user_id": 8033240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1ff6afd42f8950fa909374444bba3d2?s=128&d=identicon&r=PG", "display_name": "CloneZero", "link": "https://stackoverflow.com/users/8033240/clonezero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 57501661, "answer_count": 1, "score": 0, "last_activity_date": 1565880963, "creation_date": 1565813928, "last_edit_date": 1565814311, "question_id": 57501487, "link": "https://stackoverflow.com/questions/57501487/in-chrome-why-does-a-javascript-loop-containing-window-loction-reloadtrue-fail", "title": "In Chrome why does a javascript loop containing window.loction.reload(true) fail to execute?", "body": "<p>In Chrome's DevTools Console app I want to refresh the page a 100 time to catch an error that appears doing page load for an app I am working on. <br> The call <code>window.location.reload(true)</code> forces the page to refresh when executed from the console command line.  However, when I put it in a loop with a <code>wait()</code> function of my own devising, the refresh only executes once one everything is done, see code that follows.</p>\n\n<p>I have tried using other calls in its place it works, such as printing windows.location and windows.fullscreen.  I have been looking for a browser internal call that will tell me when the refresh is complete, but haven't found that yet.</p>\n\n<pre><code>function wait(ms){\n   var start = new Date().getTime();\n   var end = start;\n   while(end &lt; start + ms) {\n     end = new Date().getTime();\n    console.log(\"tick-tock\");\n  }\n};\n\nfor (var i = 0; i&lt;3; i++){  \n  console.log(\"start\");\n  window.location.reload(true);  //&lt;&lt;won't execute, but once\n  wait(5000);\n  console.log(\"stop\");\n};\n</code></pre>\n\n<p>I just want the browser to refresh a number of times.  I will capture the error in the logs.  I appreciate any help you can give me, thank you.</p>\n"}, {"tags": ["javascript", "html", "css"], "answers": [{"comments": [{"owner": {"reputation": 289, "user_id": 7600004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b742bce5cb01f68058e2d83b45e2934?s=128&d=identicon&r=PG&f=1", "display_name": "wassona", "link": "https://stackoverflow.com/users/7600004/wassona"}, "edited": false, "score": 0, "creation_date": 1565816599, "post_id": 57501876, "comment_id": 101473131, "body": "An additional note - symbols for the dropdown indicator are cool, but css triangles for dropdown indicators are really cool: <a href=\"https://css-tricks.com/snippets/css/css-triangle/\" rel=\"nofollow noreferrer\">css-tricks.com/snippets/css/css-triangle</a>"}], "tags": [], "owner": {"reputation": 289, "user_id": 7600004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b742bce5cb01f68058e2d83b45e2934?s=128&d=identicon&r=PG&f=1", "display_name": "wassona", "link": "https://stackoverflow.com/users/7600004/wassona"}, "is_accepted": true, "score": 1, "last_activity_date": 1565815852, "creation_date": 1565815852, "answer_id": 57501876, "question_id": 57501474, "link": "https://stackoverflow.com/questions/57501474/absolutely-position-n-children-in-a-relative-manner/57501876#57501876", "title": "Absolutely position n children in a relative manner?", "body": "<p>You were almost there - you basically just needed a wrapper around your <code>ul</code>.</p>\n\n<p>Some notes:<br/></p>\n\n<ul>\n<li><p>making a selection will always toggle the dropdown closed. You'll need to use <code>e.stopPropagation()</code> if you want to address that</p></li>\n<li><p>the dropdown can go off of the bottom of the page. Playing with the <code>ul</code>'s height and letting it scroll when open should help</p></li>\n<li><p>the dropdown is not accessible at all</p></li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function openDropDown(dropDownList) {\r\n\tdropDownList.classList.toggle(\"selecting\");\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>* {\r\n\ttransition: 0.3s all linear;\r\n}\r\nhtml,\r\nbody {\r\n\tmargin: 0;\r\n\theight: 100%;\r\n\tbackground-color: #319;\r\n\tbackground-image: linear-gradient(45deg, #b0a, #319);\r\n\tbackground-image: -webkit-linear-gradient(45deg, #b0a, #319);\r\n  overflow: hidden;\r\n}\r\n.primary-content {\r\n\theight: 100%;\r\n\ttext-align: center;\r\n\tpadding: 15px;\r\n\tcolor: #fff;\r\n\toverflow-y: auto;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n}\r\n\r\n/* DDL Specific Styles Start Here */\r\n.drop-down {\r\n  width: 300px;\r\n  height: 3em;\r\n}\r\n\r\n.drop-down-list {\r\n\tposition: relative;\r\n\tlist-style-type: none;\r\n\tpadding: 0;\r\n\tpadding-right: 5px;\r\n\tmin-width: 300px;\r\n\ttext-align: left;\r\n\t-webkit-user-select: none;\r\n\t-moz-user-select: none;\r\n\t-ms-user-select: none;\r\n\tuser-select: none;\r\n}\r\n.drop-down-list:after {\r\n\tcontent: \"\\21AC\";\r\n\tposition: absolute;\r\n\ttop: -5px;\r\n\tright: 5px;\r\n\tfont-size: 30px;\r\n\tcolor: #555;\r\n\t-webkit-transform: rotate(-90deg);\r\n\ttransform: rotate(-90deg);\r\n}\r\n.drop-down-list.selecting:after {\r\n\t-webkit-transform: scaleX(-1) rotate(90deg);\r\n\ttransform: scaleX(-1) rotate(90deg);\r\n}\r\n.drop-down-list.selecting {\r\n\tmax-height: 60%;\r\n\tposition: absolute;\r\n}\r\n.drop-down-list &gt; li {\r\n\tbackground-color: rgba(255, 255, 255, 0.95);\r\n\tcolor: #555;\r\n\tpadding: 2px;\r\n\tpadding-left: 10px;\r\n\tmargin-bottom: 5px;\r\n\tborder-radius: 5px;\r\n\tbox-shadow: 2px 2px 3px rgba(0, 0, 0, 0.25);\r\n\tcursor: pointer;\r\n}\r\n.drop-down-list &gt; li.selected {\r\n\tbackground-color: rgba(20, 200, 255, 0.95);\r\n\tcolor: #fff;\r\n}\r\n.drop-down-list:not(.selecting) &gt; li.selected {\r\n\tbackground-color: rgba(255, 255, 255, 0.95);\r\n\tcolor: #555;\r\n}\r\n.drop-down-list:not(.selecting) &gt; li.selected:hover {\r\n\tbackground-color: #fff;\r\n}\r\n.drop-down-list:not(.selecting) &gt; li:not(.selected) {\r\n\theight: 0;\r\n\tline-height: 0;\r\n\tfont-size: 0;\r\n\tpadding: 0;\r\n\tmargin: 0;\r\n\topacity: 0;\r\n}\r\n.drop-down-list &gt; li:hover {\r\n\tbackground-color: #fff;\r\n}\r\n.drop-down-list &gt; li.selected:hover {\r\n\tbackground-color: #3cf;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"primary-content\" class=\"primary-content\"&gt;\r\n  &lt;p class=\"lead\"&gt;Click the option to expand the children out.&lt;/p&gt;\r\n  &lt;div class=\"drop-down\"&gt;\r\n    &lt;ul class=\"drop-down-list\" onclick=\"openDropDown(this);\"&gt;\r\n      &lt;li&gt;Option 1&lt;/li&gt;\r\n      &lt;li&gt;Option 2&lt;/li&gt;\r\n      &lt;li&gt;Option 3&lt;/li&gt;\r\n      &lt;li class=\"selected\"&gt;Option 4&lt;/li&gt;\r\n      &lt;li&gt;Option 5&lt;/li&gt;\r\n      &lt;li&gt;Option 6&lt;/li&gt;\r\n      &lt;li&gt;Option 7&lt;/li&gt;\r\n      &lt;li&gt;Option 8&lt;/li&gt;\r\n      &lt;li&gt;Option 9&lt;/li&gt;\r\n      &lt;li&gt;Option 10&lt;/li&gt;\r\n      &lt;li&gt;Option 11&lt;/li&gt;\r\n      &lt;li&gt;Option 12&lt;/li&gt;\r\n      &lt;li&gt;Option 13&lt;/li&gt;\r\n    &lt;/ul&gt;\r\n   &lt;/div&gt;\r\n\t&lt;p class=\"lead\"&gt;This paragraph is to simulate content below the drop down to ensure that page content isn't pushed around when the control expands.&lt;/p&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 2334, "user_id": 9893154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5vkTj.jpg?s=128&g=1", "display_name": "\u30bf\u30b3\u30b9", "link": "https://stackoverflow.com/users/9893154/%e3%82%bf%e3%82%b3%e3%82%b9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 57501876, "answer_count": 1, "score": 0, "last_activity_date": 1565815852, "creation_date": 1565813862, "question_id": 57501474, "link": "https://stackoverflow.com/questions/57501474/absolutely-position-n-children-in-a-relative-manner", "title": "Absolutely position n children in a relative manner?", "body": "<p>I am currently working on a custom drop down list in which I want the parent to be relatively positioned inside the page. I then want all of the children of the drop down list (the list items), to be ignored by the rest of the page to simulate a <code>select</code> element. The first thought I had is to position the children with JavaScript via something similar to the following pseudo code:</p>\n\n<pre><code>function positionChildren() {\n    var ddl = document.getElementById(\"myDDL\");\n    var items = ddl.getElementsByTagName(\"LI\");\n    var bottom = 0;\n    for (var i = 0; i &lt; items.length; i++) {\n        items[i].style.top = bottom + 5 + \"px\";\n        bottom += items[i].height;\n    }\n}\n</code></pre>\n\n<p>Where the parent would have <code>position: relative</code> and each child would have <code>position: absolute</code> and thus would be ignored by the rest of the content there.</p>\n\n<p>However, I not only think that it's not that simple, but I also believe there is probably a way to do it with pure CSS, so I've come to the place where masters reside for help.</p>\n\n<p>Here is what I have so far for some clarity:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function openDropDown(dropDownList) {\r\n\tdropDownList.classList.toggle(\"selecting\");\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>* {\r\n\ttransition: 0.3s all linear;\r\n}\r\nhtml,\r\nbody {\r\n\tmargin: 0;\r\n\theight: 100%;\r\n\tbackground-color: #319;\r\n\tbackground-image: linear-gradient(45deg, #b0a, #319);\r\n\tbackground-image: -webkit-linear-gradient(45deg, #b0a, #319);\r\n  overflow: hidden;\r\n}\r\n.primary-content {\r\n\theight: 100%;\r\n\ttext-align: center;\r\n\tpadding: 15px;\r\n\tcolor: #fff;\r\n\toverflow-y: auto;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n}\r\n\r\n/* DDL Specific Styles Start Here */\r\n.drop-down-list {\r\n\tposition: relative;\r\n\tlist-style-type: none;\r\n\tpadding: 0;\r\n\tpadding-right: 5px;\r\n\tmin-width: 300px;\r\n\ttext-align: left;\r\n\t-webkit-user-select: none;\r\n\t-moz-user-select: none;\r\n\t-ms-user-select: none;\r\n\tuser-select: none;\r\n  overflow-y: auto;\r\n\toverflow-x: hidden;\r\n}\r\n.drop-down-list:after {\r\n\tcontent: \"\\21AC\";\r\n\tposition: absolute;\r\n\ttop: -5px;\r\n\tright: 5px;\r\n\tfont-size: 30px;\r\n\tcolor: #555;\r\n\t-webkit-transform: rotate(-90deg);\r\n\ttransform: rotate(-90deg);\r\n}\r\n.drop-down-list.selecting:after {\r\n\t-webkit-transform: scaleX(-1) rotate(90deg);\r\n\ttransform: scaleX(-1) rotate(90deg);\r\n}\r\n.drop-down-list.selecting {\r\n\tmax-height: 60%;\r\n\toverflow-y: auto;\r\n}\r\n.drop-down-list &gt; li {\r\n\tbackground-color: rgba(255, 255, 255, 0.95);\r\n\tcolor: #555;\r\n\tpadding: 2px;\r\n\tpadding-left: 10px;\r\n\tmargin-bottom: 5px;\r\n\tborder-radius: 5px;\r\n\tbox-shadow: 2px 2px 3px rgba(0, 0, 0, 0.25);\r\n\tcursor: pointer;\r\n}\r\n.drop-down-list &gt; li.selected {\r\n\tbackground-color: rgba(20, 200, 255, 0.95);\r\n\tcolor: #fff;\r\n}\r\n.drop-down-list:not(.selecting) &gt; li.selected {\r\n\tbackground-color: rgba(255, 255, 255, 0.95);\r\n\tcolor: #555;\r\n}\r\n.drop-down-list:not(.selecting) &gt; li.selected:hover {\r\n\tbackground-color: #fff;\r\n}\r\n.drop-down-list:not(.selecting) &gt; li:not(.selected) {\r\n\theight: 0;\r\n\tline-height: 0;\r\n\tfont-size: 0;\r\n\tpadding: 0;\r\n\tmargin: 0;\r\n\topacity: 0;\r\n}\r\n.drop-down-list &gt; li:hover {\r\n\tbackground-color: #fff;\r\n}\r\n.drop-down-list &gt; li.selected:hover {\r\n\tbackground-color: #3cf;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"primary-content\" class=\"primary-content\"&gt;\r\n  &lt;p class=\"lead\"&gt;Click the option to expand the children out.&lt;/p&gt;\r\n\t&lt;ul class=\"drop-down-list\" onclick=\"openDropDown(this);\"&gt;\r\n\t\t&lt;li&gt;Option 1&lt;/li&gt;\r\n\t\t&lt;li&gt;Option 2&lt;/li&gt;\r\n\t\t&lt;li&gt;Option 3&lt;/li&gt;\r\n\t\t&lt;li class=\"selected\"&gt;Option 4&lt;/li&gt;\r\n\t\t&lt;li&gt;Option 5&lt;/li&gt;\r\n\t\t&lt;li&gt;Option 6&lt;/li&gt;\r\n\t\t&lt;li&gt;Option 7&lt;/li&gt;\r\n\t\t&lt;li&gt;Option 8&lt;/li&gt;\r\n\t\t&lt;li&gt;Option 9&lt;/li&gt;\r\n\t\t&lt;li&gt;Option 10&lt;/li&gt;\r\n\t\t&lt;li&gt;Option 11&lt;/li&gt;\r\n\t\t&lt;li&gt;Option 12&lt;/li&gt;\r\n\t\t&lt;li&gt;Option 13&lt;/li&gt;\r\n\t&lt;/ul&gt;\r\n\t&lt;p class=\"lead\"&gt;This paragraph is to simulate content below the drop down to ensure that page content isn't pushed around when the control expands.&lt;/p&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>How can I position all of the children of my drop down list, relative to the parent, but where they are ignored by the rest of the page?</p>\n\n<ul>\n<li>The result must be cross browser compatible.\n\n<ul>\n<li>I support IE, Edge, Firefox, Chrome, and Safari.</li>\n<li>I can manually add support for browsers, but the accepted answer has to at least be capable of being expanded.</li>\n<li>For example, if a feature is in no way supported by any of my supported browsers (such as <code>position: sticky</code> not being supported by IE), then I cannot use that feature, and thus the answer shouldn't either.</li>\n</ul></li>\n<li>Pure CSS is preferred.\n\n<ul>\n<li>JavaScript will be accepted if no pure CSS solution is possible.</li>\n</ul></li>\n</ul>\n"}, {"tags": ["javascript", "html", "iframe"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1565814197, "post_id": 57501466, "comment_id": 101472365, "body": "Well, that wouldn&#39;t be terribly secure, now would it? Imagine someone getting wellsfarge.com and putting wellsfargo.com in a frame and logging everyone&#39;s password!"}, {"owner": {"reputation": 222, "user_id": 6713792, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e4197a56d186f6971d13308724f77ede?s=128&d=identicon&r=PG&f=1", "display_name": "hax", "link": "https://stackoverflow.com/users/6713792/hax"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1565814320, "post_id": 57501466, "comment_id": 101472411, "body": "@HereticMonkey, Agree, that&#39;s why pages have to set X-Frame Options if they don&#39;t want to be framed by an untrusted third-party. But my question is purely on the javascript capability to access keystrokes inside an iframe."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1565831422, "post_id": 57501466, "comment_id": 101476171, "body": "Well, you can&#39;t, for security reasons. See <a href=\"https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy\" rel=\"nofollow noreferrer\">the MDN article on the same-origin policy</a> The other domain would essentially have to broadcast the keystrokes it receives (via <code>postMessage</code>)."}, {"owner": {"reputation": 222, "user_id": 6713792, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e4197a56d186f6971d13308724f77ede?s=128&d=identicon&r=PG&f=1", "display_name": "hax", "link": "https://stackoverflow.com/users/6713792/hax"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1565832545, "post_id": 57501466, "comment_id": 101476342, "body": "Heretic Monkey, I don&#39;t think this has anything to do with SOP. In the first scenario at the very least. Both the content in frame as well as parent are from the same origin. I do take your point on something inside the iframe broadcasting events to a listener outside. However, I am looking for inputs on alternate ways to achieve it. An example would be IE 5 &amp; 6 bugs which allowed Cross Frame Scripting. However I wanted to be certain that this is possible only if there is a bug which allows that and no JavaScript technique can be leveraged to perform this."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1565836040, "post_id": 57501466, "comment_id": 101476945, "body": "Your second bullet seems to indicate you are asking about cross-origin API access. If that&#39;s not the case, I suggest <a href=\"https://stackoverflow.com/posts/57501466/edit\">edit</a>ing it to make that clearer.  You can detect keystrokes in an iframe by descending into the iframe&#39;s context from the parent via <code>iframe.contentWindow</code>, which gets you to the same relative place as <code>window</code> gets you in a normal browser context. But again, that&#39;s only in same-origin situations."}, {"owner": {"reputation": 222, "user_id": 6713792, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e4197a56d186f6971d13308724f77ede?s=128&d=identicon&r=PG&f=1", "display_name": "hax", "link": "https://stackoverflow.com/users/6713792/hax"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1565892493, "post_id": 57501466, "comment_id": 101496405, "body": "@HereticMonkey Appreciate the help. Your comment answers both the questions i had."}], "owner": {"reputation": 222, "user_id": 6713792, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e4197a56d186f6971d13308724f77ede?s=128&d=identicon&r=PG&f=1", "display_name": "hax", "link": "https://stackoverflow.com/users/6713792/hax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565813818, "creation_date": 1565813818, "question_id": 57501466, "link": "https://stackoverflow.com/questions/57501466/what-is-the-right-way-to-detect-keystrokes-within-an-iframe-from-the-parent-page", "title": "What is the right way to detect keystrokes within an iframe from the parent page?", "body": "<p>I have a web page which embeds content into an iframe. For the following scenarios, I need to know if there are ways to access key strokes which are entered inside the iframes without having to essentially modify the iframed  content. </p>\n\n<ol>\n<li>Parent page is www.testpage.com/framedwidgets.html and the framed content is www.testpage.com/widget1.html.</li>\n</ol>\n\n<p>Widget 1 has normal text input fields and no password fields. Both the widget and the parent are of same origin. Is there a way to detect keystrokes inside the input field in the iframe from a javascript running in the context of parent page? What is the ideal method to retrieve keystrokes?</p>\n\n<ol start=\"2\">\n<li>Parent page is www.testpage.com/framedwidgets.html and the framed content is www.anotherpage.com/widget2.html.</li>\n</ol>\n\n<p>Widget 2 is loaded cross-domain. Its content similar to widget 1. Is there a way to retrieve keystrokes within the iframe from a javascript running in the context of parent page?</p>\n"}, {"tags": ["javascript", "json"], "comments": [{"owner": {"reputation": 97299, "user_id": 41360, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7bd2e50770e937761cfc3811a332bccc?s=128&d=identicon&r=PG", "display_name": "Vilx-", "link": "https://stackoverflow.com/users/41360/vilx"}, "edited": false, "score": 1, "creation_date": 1565814853, "post_id": 57501455, "comment_id": 101472604, "body": "That&#39;s a weird requirement. Are you certain it&#39;s necessary?"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1565814878, "post_id": 57501455, "comment_id": 101472620, "body": "What exactly is your requirement that would have you call <code>toUpperCase()</code> on a JSON string? Why not call it on the individual values (and possibly property names) before stringifying the object?"}], "answers": [{"comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1565814838, "post_id": 57501563, "comment_id": 101472596, "body": "You&#39;ll want to initialise <code>b={}</code> outside of the loop though"}, {"owner": {"reputation": 2439, "user_id": 3764306, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/L71gY.jpg?s=128&g=1", "display_name": "Kamalakannan J", "link": "https://stackoverflow.com/users/3764306/kamalakannan-j"}, "edited": false, "score": 0, "creation_date": 1565818478, "post_id": 57501563, "comment_id": 101473686, "body": "@Vivek can you update your code to support nested structure ?"}], "tags": [], "owner": {"reputation": 515, "user_id": 11921126, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-r0hNvy_ER70/AAAAAAAAAAI/AAAAAAAAHmw/ILSJ1KV_z9U/photo.jpg?sz=128", "display_name": "Vivek Singh", "link": "https://stackoverflow.com/users/11921126/vivek-singh"}, "is_accepted": true, "score": 2, "last_activity_date": 1565850123, "last_edit_date": 1565850123, "creation_date": 1565814286, "answer_id": 57501563, "question_id": 57501455, "link": "https://stackoverflow.com/questions/57501455/json-stringify-tabs-in-objects-are-converted-to-t-causing-issue-while-upper-ca/57501563#57501563", "title": "JSON Stringify: Tabs in objects are converted to \\t causing issue while upper casing the result", "body": "<p>You may try using the for in loop to iterate it over the keys as follows</p>\n\n<pre><code>var b={};\nfor(let item in o){\n  b[item.toUpperCase()]=o[item].toUpperCase();\n  console.log(b);\n}\n</code></pre>\n\n<p>If you want to convert the nested object as well then use the following function and it will work fine.</p>\n\n<pre><code>function changeToUpperCase(obj) {\n  var newobj = {};\n  for (let item in obj) {\n    if (typeof obj[item] == 'object') {\n        newobj[item.toUpperCase()] = changeToUpperCase(obj[item]);\n    } else {\n        newobj[item.toUpperCase()] = obj[item].toUpperCase();\n    }\n  }\n  return newobj\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51813, "user_id": 860099, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/125k3.jpg?s=128&g=1", "display_name": "Kamil Kie\u0142czewski", "link": "https://stackoverflow.com/users/860099/kamil-kie%c5%82czewski"}, "is_accepted": false, "score": 2, "last_activity_date": 1565814655, "creation_date": 1565814655, "answer_id": 57501632, "question_id": 57501455, "link": "https://stackoverflow.com/questions/57501455/json-stringify-tabs-in-objects-are-converted-to-t-causing-issue-while-upper-ca/57501632#57501632", "title": "JSON Stringify: Tabs in objects are converted to \\t causing issue while upper casing the result", "body": "<p>If you not use double slash '\\\\' in your strings then you can try </p>\n\n<pre><code>replace('\\\\T','\\t')\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var o = {\r\n  \"comments\": \"\tnotes\" // it first 4 spaces is actually a tab(\\t)\r\n}\r\n\r\nlet j = JSON.stringify(o).toUpperCase().replace('\\\\T','\\t');\r\n\r\nconsole.log(j);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8819205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kzALs.jpg?s=128&g=1", "display_name": "ubits", "link": "https://stackoverflow.com/users/8819205/ubits"}, "is_accepted": false, "score": -2, "last_activity_date": 1565817518, "creation_date": 1565817518, "answer_id": 57502197, "question_id": 57501455, "link": "https://stackoverflow.com/questions/57501455/json-stringify-tabs-in-objects-are-converted-to-t-causing-issue-while-upper-ca/57502197#57502197", "title": "JSON Stringify: Tabs in objects are converted to \\t causing issue while upper casing the result", "body": "<p>For more information <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#The_replacer_parameter\" rel=\"nofollow noreferrer\">JSON.stringfy doc</a></p>\n\n<pre><code>var input= {\n   \"comment\": \"    notes\"\n};\n\nvar result = JSON.stringfy(input, function(kay,value){\n  if(value === \"string\"){\n     return value.toUpperCase().trim();\n  }\n });\nconsole.log(\"RESULT \",result);\n</code></pre>\n"}], "owner": {"reputation": 2439, "user_id": 3764306, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/L71gY.jpg?s=128&g=1", "display_name": "Kamalakannan J", "link": "https://stackoverflow.com/users/3764306/kamalakannan-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 303, "favorite_count": 0, "accepted_answer_id": 57501563, "answer_count": 3, "score": 1, "last_activity_date": 1565850123, "creation_date": 1565813762, "last_edit_date": 1565814822, "question_id": 57501455, "link": "https://stackoverflow.com/questions/57501455/json-stringify-tabs-in-objects-are-converted-to-t-causing-issue-while-upper-ca", "title": "JSON Stringify: Tabs in objects are converted to \\t causing issue while upper casing the result", "body": "<p>I have an Object,</p>\n\n<pre><code>var o = {\n  \"comments\": \"    notes\" // it first 4 spaces is actually a tab(\\t)\n}\n</code></pre>\n\n<p>When I stringify this object with <code>JSON.stringify(o)</code>, it returns <code>\"{\"comments\":\"\\t notes\"}\"</code></p>\n\n<p>If I parse that string back, it is giving back the original object, i.e <code>{\"comments\": \"    notes\"}</code></p>\n\n<p>But as per our requirement, we need to upper case the <code>JSON.stringify()</code> result. If we do <code>JSON.stringify(o).toUpperCase()</code>, it gives us <code>\"{\"COMMENTS\":\"\\T NOTES\"}\"</code></p>\n\n<p>Is there any way to retain <code>\"\\t\"</code> or the spaces in the stringified result ?</p>\n"}, {"tags": ["javascript", "css", "reactjs", "styled-components"], "comments": [{"owner": {"reputation": 509, "user_id": 10712525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cba3c95cb73029ba527ad13f732a00ce?s=128&d=identicon&r=PG", "display_name": "Lucas Vazquez", "link": "https://stackoverflow.com/users/10712525/lucas-vazquez"}, "edited": false, "score": 1, "creation_date": 1565813853, "post_id": 57501406, "comment_id": 101472228, "body": "change the title to a property one that describes your question"}], "answers": [{"comments": [{"owner": {"reputation": 675, "user_id": 1499626, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/90914e35706703f8fcc34272fb26ab60?s=128&d=identicon&r=PG", "display_name": "jonnie", "link": "https://stackoverflow.com/users/1499626/jonnie"}, "edited": false, "score": 0, "creation_date": 1565818069, "post_id": 57502172, "comment_id": 101473554, "body": "makes sense, but I am trying to target a specific component. for example, i have a header and body. i just want to print the body, without the header"}, {"owner": {"reputation": 936, "user_id": 1566294, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3ecf078321bac3346f613710ecd45577?s=128&d=identicon&r=PG", "display_name": "George Sofianos", "link": "https://stackoverflow.com/users/1566294/george-sofianos"}, "reply_to_user": {"reputation": 675, "user_id": 1499626, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/90914e35706703f8fcc34272fb26ab60?s=128&d=identicon&r=PG", "display_name": "jonnie", "link": "https://stackoverflow.com/users/1499626/jonnie"}, "edited": false, "score": 0, "creation_date": 1565820951, "post_id": 57502172, "comment_id": 101474363, "body": "Ok I updated my answer again. I&#39;m using media print with a class, You can&#39;t print a single component so you need to hide somehow the other elements. Above I&#39;m using display fixed for this reason."}, {"owner": {"reputation": 936, "user_id": 1566294, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3ecf078321bac3346f613710ecd45577?s=128&d=identicon&r=PG", "display_name": "George Sofianos", "link": "https://stackoverflow.com/users/1566294/george-sofianos"}, "reply_to_user": {"reputation": 675, "user_id": 1499626, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/90914e35706703f8fcc34272fb26ab60?s=128&d=identicon&r=PG", "display_name": "jonnie", "link": "https://stackoverflow.com/users/1499626/jonnie"}, "edited": false, "score": 1, "creation_date": 1565851913, "post_id": 57502172, "comment_id": 101479757, "body": "It was weird that media print wasn&#39;t working inside a styled component for me so I gave it a try today with a clean mind and it works. I updated my answer to be simple and clean. Furthermore you can read more about media print as a css rule. It will work the same way in styled components as it works in any css style."}, {"owner": {"reputation": 32248, "user_id": 1558171, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XPmqF.jpg?s=128&g=1", "display_name": "Dom", "link": "https://stackoverflow.com/users/1558171/dom"}, "edited": false, "score": 0, "creation_date": 1566534138, "post_id": 57502172, "comment_id": 101693934, "body": "Be cautious with <code>fixed</code>, it can prevent printing multiple pages."}], "tags": [], "owner": {"reputation": 936, "user_id": 1566294, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3ecf078321bac3346f613710ecd45577?s=128&d=identicon&r=PG", "display_name": "George Sofianos", "link": "https://stackoverflow.com/users/1566294/george-sofianos"}, "is_accepted": false, "score": 2, "last_activity_date": 1565852561, "last_edit_date": 1565852561, "creation_date": 1565817345, "answer_id": 57502172, "question_id": 57501406, "link": "https://stackoverflow.com/questions/57501406/how-to-use-styled-components-to-style-the-printing-of-a-component/57502172#57502172", "title": "how to use styled components to style the printing of a component?", "body": "<p>You can't target a single component to print.<br>\nYou need to hide the other elements in order your component to be the only one printed.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/@page\" rel=\"nofollow noreferrer\"><strong>@page</strong></a> works only for changing printing rules.<br>\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/@media#Examples\" rel=\"nofollow noreferrer\"><strong>@media print</strong></a> let you define other class styles as well just like @media screen.  </p>\n\n<p>You can use <strong>@media print</strong> inside a wrapper styled component, making it fullscreen, fixed with a white background.</p>\n\n<p>Example:</p>\n\n<pre><code>const PrintableBodyWrapper = styled.div`\n  @media print {\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background-color: white;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n`;\n\nfunction App() {\n  return (\n    &lt;div className=\"App\"&gt;\n        &lt;PrintableBodyWrapper&gt;\n          &lt;div style={{ width: 100, height: 100, background: \"grey\" }}&gt;\n            I will be printed\n          &lt;/div&gt;\n        &lt;/PrintableBodyWrapper&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>\n\n<p>To change print rules you need to add the @page into a <a href=\"https://www.styled-components.com/docs/api#createglobalstyle\" rel=\"nofollow noreferrer\">global style</a> and render the global style component.</p>\n\n<pre><code>import styled, { createGlobalStyle } from \"styled-components\";\n\nconst GlobalStyle = createGlobalStyle`\n  @page {\n    size: landscape;\n    margin: 5cm;\n`;\n\nconst PrintableBodyWrapper = styled.div`\n  @media print {\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background-color: black;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n`;\n\nfunction App() {\n  return (\n    &lt;div className=\"App\"&gt;\n        &lt;GlobalStyle /&gt;\n        &lt;PrintableBodyWrapper&gt;\n          &lt;div style={{ width: 100, height: 100, background: \"grey\" }}&gt;\n            I will be printed\n          &lt;/div&gt;\n        &lt;/PrintableBodyWrapper&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>\n"}], "owner": {"reputation": 675, "user_id": 1499626, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/90914e35706703f8fcc34272fb26ab60?s=128&d=identicon&r=PG", "display_name": "jonnie", "link": "https://stackoverflow.com/users/1499626/jonnie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1870, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1565852561, "creation_date": 1565813469, "last_edit_date": 1565814125, "question_id": 57501406, "link": "https://stackoverflow.com/questions/57501406/how-to-use-styled-components-to-style-the-printing-of-a-component", "title": "how to use styled components to style the printing of a component?", "body": "<p>I am trying to control the size/orientation when printing a component using styled-components. My question is: how can I use the @page CSS at-rule, or another method to style the printing component, with styled components?</p>\n\n<p>CSS @page documentation:</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/@page\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/CSS/@page</a></p>\n\n<p>I have tried:</p>\n\n<pre><code>const PrintSchedulesContainer = styled.div`\n  display: none;\n  @media print and (min-width: 480px) {\n    padding: none;\n    margin: none;\n  }\n`;\n</code></pre>\n\n<p>And:</p>\n\n<pre><code>const PrintSchedulesContainer = styled.div`\n  display: none;\n  @page {\n    size: landscape;\n  }\n`;\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html", "css", "arrays"], "comments": [{"owner": {"reputation": 2441, "user_id": 6816518, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MpJyjagijP8/AAAAAAAAAAI/AAAAAAAAAgM/JNeyZ_dDCTQ/photo.jpg?sz=128", "display_name": "alt255", "link": "https://stackoverflow.com/users/6816518/alt255"}, "edited": false, "score": 1, "creation_date": 1565813942, "post_id": 57501398, "comment_id": 101472268, "body": "what do you mean by selected name and age?"}], "answers": [{"tags": [], "owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "is_accepted": false, "score": 0, "last_activity_date": 1565814799, "last_edit_date": 1565814799, "creation_date": 1565814376, "answer_id": 57501579, "question_id": 57501398, "link": "https://stackoverflow.com/questions/57501398/how-to-get-specific-value-from-html-div-array/57501579#57501579", "title": "How to get specific value from html div array", "body": "<p>If the information that you need is this simple, I would then use <code>data-*</code> attributes. If it is more complex, the maybe <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/find\" rel=\"nofollow noreferrer\"><code>find</code></a> would be a better solution.</p>\n\n<p>Since your data is so simple I used the <code>data-*</code> approach. Basically we save the data to the root element, then when we click on the checkbox we check it's parent for the data. We could have placed the data on the checkbox if we would have rather done that.</p>\n\n<p>Next we use <a href=\"https://developer.mozilla.org/en/docs/Web/API/Element/getAttribute\" rel=\"nofollow noreferrer\"><code>getAttribute(key)</code></a> to the get attribute on the element.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var parentDiv = document.getElementById('accountsList');\r\n\r\nconst result = {\r\n  Accounts: [\r\n    {Name: 'Billy', Age: 10},\r\n    {Name: 'Bob', Age: 20},\r\n    {Name: 'Joe', Age: 30},\r\n  ]\r\n}\r\n\r\nvar htmlData = \"\";\r\nfor (var i = 0; i &lt; result.Accounts.length; i++) {\r\n  htmlData += `&lt;div class=\"row\" id=\"accountRow_${i}\" data-name=\"${result.Accounts[i].Name}\" data-age=\"${result.Accounts[i].Age}\"&gt;`;\r\n  htmlData += '&lt;div class=\"col-sm-4\"&gt; &lt;input type=\"checkbox\" onclick=\"calculateTotal(this)\"&gt;&lt;span&gt;Select&lt;/span&gt;&lt;/div&gt;';\r\n  htmlData += '&lt;div class=\"col-sm-4\"&gt; Name: ' + result.Accounts[i].Name +  '&lt;/div&gt;';\r\n  htmlData += '&lt;div class=\"col-sm-4\"&gt; Age: ' + result.Accounts[i].Age +  '&lt;/div&gt;';\r\n  htmlData += '&lt;/div&gt;&lt;hr&gt;'; \r\n}\r\nparentDiv.innerHTML += htmlData;\r\n\r\nfunction calculateTotal() {\r\n  console.clear();\r\n  [...document.querySelectorAll('[type=checkbox]:checked')].forEach(itm =&gt; {\r\n    let row = itm.closest('.row')\r\n    console.log('Name:', row.getAttribute('data-name'), 'Age:', row.getAttribute('data-age'))\r\n  })\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"accountsList\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1044, "user_id": 1361335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5kgvr.jpg?s=128&g=1", "display_name": "Alvaro", "link": "https://stackoverflow.com/users/1361335/alvaro"}, "is_accepted": false, "score": 0, "last_activity_date": 1565814443, "creation_date": 1565814443, "answer_id": 57501590, "question_id": 57501398, "link": "https://stackoverflow.com/questions/57501398/how-to-get-specific-value-from-html-div-array/57501590#57501590", "title": "How to get specific value from html div array", "body": "<p>One approach could be to use the index i to set the ids and then get the values of those ids. </p>\n\n<p>For example</p>\n\n<pre><code>var htmlData = \"\";\nfor (var i = 0; i &lt; result.Accounts.length; i++) {\n  htmlData += '&lt;div class=\"row\" id=\"accountRow\"&gt;';\n  htmlData += '&lt;div class=\"col-sm-4\"&gt; &lt;input type=\"checkbox\" onclick=\"calculateTotal(this, ' + i + ')\"&gt;&lt;span&gt;Select&lt;/span&gt;&lt;/div&gt;';\n  htmlData += '&lt;div class=\"col-sm-4\" id=\"name' + i + '\"&gt; Name ' + result.Accounts[i].Name +  '&lt;/div&gt;';\n  htmlData += '&lt;div class=\"col-sm-4\"  id=\"age' + i + '\"&gt; Age' + result.Accounts[i].Age+  '&lt;/div&gt;';\n  htmlData += '&lt;/div&gt;&lt;hr&gt;'; \n}\n</code></pre>\n\n<p>Then, when clicking on the checkbox, trigger to which <code>i</code> it belongs.</p>\n\n<pre><code>var calculateTotal = (element, indexId) =&gt; {\n\n    var name = $('#name' + indexId).value();\n    var age = $('#age' + indexId).value();\n\n... do your stuff here ...\n}\n</code></pre>\n\n<p>Hope it helps!</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8086802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a33b41b87df2085809123bf7050c39b9?s=128&d=identicon&r=PG&f=1", "display_name": "kiran", "link": "https://stackoverflow.com/users/8086802/kiran"}, "is_accepted": false, "score": 0, "last_activity_date": 1566229976, "creation_date": 1566229976, "answer_id": 57560170, "question_id": 57501398, "link": "https://stackoverflow.com/questions/57501398/how-to-get-specific-value-from-html-div-array/57560170#57560170", "title": "How to get specific value from html div array", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var parentDiv = document.getElementById('accountsList');\r\n\r\nconst result = {\r\n  Accounts: [\r\n    {Name: 'Billy', Age: 10},\r\n    {Name: 'Bob', Age: 20},\r\n    {Name: 'Joe', Age: 30},\r\n  ]\r\n}\r\n\r\nvar htmlData = \"\";\r\nfor (var i = 0; i &lt; result.Accounts.length; i++) {\r\n  htmlData += `&lt;div class=\"row\" id=\"accountRow_${i}\" data-name=\"${result.Accounts[i].Name}\" data-age=\"${result.Accounts[i].Age}\"&gt;`;\r\n  htmlData += '&lt;div class=\"col-sm-4\"&gt; &lt;input type=\"checkbox\" onclick=\"calculateTotal(this)\"&gt;&lt;span&gt;Select&lt;/span&gt;&lt;/div&gt;';\r\n  htmlData += '&lt;div class=\"col-sm-4\"&gt; Name: ' + result.Accounts[i].Name +  '&lt;/div&gt;';\r\n  htmlData += '&lt;div class=\"col-sm-4\"&gt; Age: ' + result.Accounts[i].Age +  '&lt;/div&gt;';\r\n  htmlData += '&lt;/div&gt;&lt;hr&gt;'; \r\n}\r\nparentDiv.innerHTML += htmlData;\r\n\r\nfunction calculateTotal() {\r\n  console.clear();\r\n  [...document.querySelectorAll('[type=checkbox]:checked')].forEach(itm =&gt; {\r\n    let row = itm.closest('.row')\r\n    console.log('Name:', row.getAttribute('data-name'), 'Age:', row.getAttribute('data-age'))\r\n  })\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"accountsList\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 8086802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a33b41b87df2085809123bf7050c39b9?s=128&d=identicon&r=PG&f=1", "display_name": "kiran", "link": "https://stackoverflow.com/users/8086802/kiran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1566229976, "creation_date": 1565813430, "last_edit_date": 1565813560, "question_id": 57501398, "link": "https://stackoverflow.com/questions/57501398/how-to-get-specific-value-from-html-div-array", "title": "How to get specific value from html div array", "body": "<p>My application calls a web api which returns an array. I am binding that to html div. This div contains checkbox, name, age. </p>\n\n<p>My requirement is to get values of name and age for the selected. </p>\n\n<p>I want to achieve this without using tables</p>\n\n<pre><code>var parentDiv = document.getElementById('accountsList');\n\nvar htmlData = \"\";\nfor (var i = 0; i &lt; result.Accounts.length; i++) {\n  htmlData += '&lt;div class=\"row\" id=\"accountRow\"&gt;';\n  htmlData += '&lt;div class=\"col-sm-4\"&gt; &lt;input type=\"checkbox\" onclick=\"calculateTotal(this)\"&gt;&lt;span&gt;Select&lt;/span&gt;&lt;/div&gt;';\n  htmlData += '&lt;div class=\"col-sm-4\"&gt; Name ' + result.Accounts[i].Name +  '&lt;/div&gt;';\n  htmlData += '&lt;div class=\"col-sm-4\"&gt; Age' + result.Accounts[i].Age+  '&lt;/div&gt;';\n  htmlData += '&lt;/div&gt;&lt;hr&gt;'; \n}\nparentDiv.innerHTML += htmlData;\n</code></pre>\n\n<p>My requirement is to get values of name and age for the selected.</p>\n"}, {"tags": ["javascript", "reactjs", "state"], "answers": [{"comments": [{"owner": {"reputation": 4243, "user_id": 2401804, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/chtg9.jpg?s=128&g=1", "display_name": "r3wt", "link": "https://stackoverflow.com/users/2401804/r3wt"}, "edited": false, "score": 0, "creation_date": 1565813131, "post_id": 57501328, "comment_id": 101471936, "body": "why even define <code>toggleNav</code> at all, and better yet why define it with <code>let</code>? this is incredibly wasteful programming. just <code>{e=&gt;setMenuOpen(!isMenuOpen)}</code> would be sufficient"}, {"owner": {"reputation": 15766, "user_id": 10106580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mCnek.jpg?s=128&g=1", "display_name": "Dupocas", "link": "https://stackoverflow.com/users/10106580/dupocas"}, "reply_to_user": {"reputation": 4243, "user_id": 2401804, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/chtg9.jpg?s=128&g=1", "display_name": "r3wt", "link": "https://stackoverflow.com/users/2401804/r3wt"}, "edited": false, "score": 1, "creation_date": 1565813162, "post_id": 57501328, "comment_id": 101471949, "body": "just modify his example. I wouldn&#39;t declare <code>toggleNav</code> either"}, {"owner": {"reputation": 570, "user_id": 6809720, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-pJTiPcJyXh0/AAAAAAAAAAI/AAAAAAAAAkY/GQzq5_4t_S0/photo.jpg?sz=128", "display_name": "Eric Nguyen", "link": "https://stackoverflow.com/users/6809720/eric-nguyen"}, "reply_to_user": {"reputation": 4243, "user_id": 2401804, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/chtg9.jpg?s=128&g=1", "display_name": "r3wt", "link": "https://stackoverflow.com/users/2401804/r3wt"}, "edited": false, "score": 0, "creation_date": 1565813456, "post_id": 57501328, "comment_id": 101472064, "body": "@r3wt is it considered wasteful because I only use it once? Therefor should use inline?"}, {"owner": {"reputation": 15766, "user_id": 10106580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mCnek.jpg?s=128&g=1", "display_name": "Dupocas", "link": "https://stackoverflow.com/users/10106580/dupocas"}, "edited": false, "score": 0, "creation_date": 1565813643, "post_id": 57501328, "comment_id": 101472151, "body": "I don&#39;t believe to be a performance issue. Just a lot of unecessary code"}, {"owner": {"reputation": 15766, "user_id": 10106580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mCnek.jpg?s=128&g=1", "display_name": "Dupocas", "link": "https://stackoverflow.com/users/10106580/dupocas"}, "edited": false, "score": 0, "creation_date": 1565813697, "post_id": 57501328, "comment_id": 101472169, "body": "The time expended declaring a variable is negligible in such a small component"}, {"owner": {"reputation": 570, "user_id": 6809720, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-pJTiPcJyXh0/AAAAAAAAAAI/AAAAAAAAAkY/GQzq5_4t_S0/photo.jpg?sz=128", "display_name": "Eric Nguyen", "link": "https://stackoverflow.com/users/6809720/eric-nguyen"}, "edited": false, "score": 0, "creation_date": 1565813832, "post_id": 57501328, "comment_id": 101472218, "body": "got it, thanks @Dupocas Biggest takeaway for me here is the setter element. ty!"}], "tags": [], "owner": {"reputation": 15766, "user_id": 10106580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mCnek.jpg?s=128&g=1", "display_name": "Dupocas", "link": "https://stackoverflow.com/users/10106580/dupocas"}, "is_accepted": true, "score": 5, "last_activity_date": 1565813260, "last_edit_date": 1565813260, "creation_date": 1565813061, "answer_id": 57501328, "question_id": 57501308, "link": "https://stackoverflow.com/questions/57501308/toggling-between-state-value-toggle-function/57501328#57501328", "title": "Toggling Between State Value - Toggle Function", "body": "<p>The second element returned by <code>useState</code> is a <code>setter</code>. You can't just mutate the state. Try this:</p>\n\n<pre><code>const navBar = () =&gt; {\n\n  //set initial state\n  const [isMenuOpen, setMenuOpen] = useState(false);\n\n  // toggle variable\n  let toggleNav = () =&gt; {\n    setMenuOpen(!isMenuOpen)\n  }\n\n  return (\n    &lt;button onClick={toggleNav}&gt;Toggle&lt;/button&gt;\n  )\n\n}\n</code></pre>\n\n<p>As pointed out in comments, <code>toggleNav</code> is unecessary:</p>\n\n<pre><code>const navBar = () =&gt; {\n\n  //set initial state\n  const [isMenuOpen, setMenuOpen] = useState(false);\n\n\n  return (\n    &lt;button onClick={() =&gt; setMenuOpen(!isMenuOpen)}&gt;Toggle&lt;/button&gt;\n  )\n\n}\n</code></pre>\n"}], "owner": {"reputation": 570, "user_id": 6809720, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-pJTiPcJyXh0/AAAAAAAAAAI/AAAAAAAAAkY/GQzq5_4t_S0/photo.jpg?sz=128", "display_name": "Eric Nguyen", "link": "https://stackoverflow.com/users/6809720/eric-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "accepted_answer_id": 57501328, "answer_count": 1, "score": 2, "last_activity_date": 1565813260, "creation_date": 1565812982, "question_id": 57501308, "link": "https://stackoverflow.com/questions/57501308/toggling-between-state-value-toggle-function", "title": "Toggling Between State Value - Toggle Function", "body": "<p>In my React App, I have a functional component and wanted to toggle between a state's value. My <code>toggleNav</code> function doesn't seem to working. I'm trying to set <code>isMenuOpen</code> to what <code>isMenuOpen</code> is not but my syntax seems to be incorrect. </p>\n\n<p>I have the following code:</p>\n\n<pre><code>const navBar = () =&gt; {\n\n  //set initial state\n  const [isMenuOpen] = useState(false);\n\n  // toggle variable\n  let toggleNav = () =&gt; {\n    isMenuOpen = !isMenuOpen;\n  }\n\n  return (\n    &lt;button onClick={toggleNav}&gt;Toggle&lt;/button&gt;\n  )\n\n}\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 6142, "user_id": 8732818, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WopVT.jpg?s=128&g=1", "display_name": "Calvin Nunes", "link": "https://stackoverflow.com/users/8732818/calvin-nunes"}, "edited": false, "score": 0, "creation_date": 1565813034, "post_id": 57501214, "comment_id": 101471897, "body": "You talk about &quot;function loops&quot; but your code doesn&#39;t show anything about it, there&#39;s function calls that don&#39;t need to be in the snippets (like background()).... Also, please, think about less text in your question, it will be better if you focus on what code you have and what is the expected result... And, there&#39;s many errors in the code (like incrementing an array <code>x += 1</code>"}, {"owner": {"reputation": 6142, "user_id": 8732818, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WopVT.jpg?s=128&g=1", "display_name": "Calvin Nunes", "link": "https://stackoverflow.com/users/8732818/calvin-nunes"}, "edited": false, "score": 0, "creation_date": 1565813068, "post_id": 57501214, "comment_id": 101471910, "body": "It will be easier to read the question and help you if you adjust those things in the question. a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would be great"}, {"owner": {"reputation": 780, "user_id": 8596503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bce9f7506e1936b2082dae6df806a6fd?s=128&d=identicon&r=PG", "display_name": "sanketd617", "link": "https://stackoverflow.com/users/8596503/sanketd617"}, "edited": false, "score": 0, "creation_date": 1565813102, "post_id": 57501214, "comment_id": 101471926, "body": "In the lines 8 to 12 from the end, your are incrementing <code>x</code> which is an array. Also you are checking if <code>x &gt; 400 || x &lt; 0</code>. Isn&#39;t that wrong?"}, {"owner": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1565813185, "post_id": 57501214, "comment_id": 101471958, "body": "Use a constructor or a class."}, {"owner": {"reputation": 4243, "user_id": 2401804, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/chtg9.jpg?s=128&g=1", "display_name": "r3wt", "link": "https://stackoverflow.com/users/2401804/r3wt"}, "edited": false, "score": 0, "creation_date": 1565813465, "post_id": 57501214, "comment_id": 101472071, "body": "I feel like this would be a great candidate for a generator function. you could do a loop to initialize <code>n</code> generator functions for <code>n</code> number of desired objects. just save the generators into an array and loop over it however you like. docs for generators: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function%2A\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 11928956, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-geYe1lddMuY/AAAAAAAAAAI/AAAAAAAAAMk/aIAu02HPwaQ/photo.jpg?sz=128", "display_name": "Dr. Slate", "link": "https://stackoverflow.com/users/11928956/dr-slate"}, "edited": false, "score": 0, "creation_date": 1565818401, "post_id": 57501214, "comment_id": 101473655, "body": "I added a link in my question to some code that shows my problem"}], "answers": [{"comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1565814318, "post_id": 57501323, "comment_id": 101472407, "body": "What difference does it make whether it uses <code>var</code> or <code>let</code>? Both of them create local variables, so it won&#39;t remember the value between calls."}, {"owner": {"reputation": 1, "user_id": 11928956, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-geYe1lddMuY/AAAAAAAAAAI/AAAAAAAAAMk/aIAu02HPwaQ/photo.jpg?sz=128", "display_name": "Dr. Slate", "link": "https://stackoverflow.com/users/11928956/dr-slate"}, "edited": false, "score": 0, "creation_date": 1565819151, "post_id": 57501323, "comment_id": 101473892, "body": "I tried that, it has the same problem. The object doesn&#39;t move."}], "tags": [], "owner": {"reputation": 1518, "user_id": 10816461, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6XNsrfhxp_c/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hhVp73I4eIN1MbnU6G4TmjkKpozA/mo/photo.jpg?sz=128", "display_name": "Alex Vovchuk", "link": "https://stackoverflow.com/users/10816461/alex-vovchuk"}, "is_accepted": false, "score": 0, "last_activity_date": 1565813040, "creation_date": 1565813040, "answer_id": 57501323, "question_id": 57501214, "link": "https://stackoverflow.com/questions/57501214/how-to-make-a-function-with-independently-changing-variables/57501323#57501323", "title": "How to make a function with independently changing variables?", "body": "<p>Simply set variable inside function by let (not var):</p>\n\n<pre><code>var exampleFunction = function(x){\n        let counter = x;\n\n        fill(0,0,0)\n        ellipse(counter, 200, 50, 50);\n        counter += 1;\n\n        if(counter &gt; 400 || counter &lt; 0) {\n            counter = 200;\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11928956, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-geYe1lddMuY/AAAAAAAAAAI/AAAAAAAAAMk/aIAu02HPwaQ/photo.jpg?sz=128", "display_name": "Dr. Slate", "link": "https://stackoverflow.com/users/11928956/dr-slate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565815549, "creation_date": 1565812556, "last_edit_date": 1565815549, "question_id": 57501214, "link": "https://stackoverflow.com/questions/57501214/how-to-make-a-function-with-independently-changing-variables", "title": "How to make a function with independently changing variables?", "body": "<p>I want to create a function make some objects move randomly around the screen. I would like to make each of them move independently of one another. However, I would like to not have to make a new global variable every time I call the function. But, if I define the variables within the function, I am unable to use += to increase the values because every time the function loops it just resets the variable. I can get around this by creating a new global variable for every time I want to call the function again, But that gets really messy. Is there any way to avoid this? Perhaps with a global array variable that's length is increased every time I call the function?</p>\n\n<pre><code>\n    //First Situation\n\n    var exampleFunction = function(x){\n\n        fill(0,0,0)\n        ellipse(x, 200, 50, 50);\n        x += 1;\n\n        if(x &gt; 400 || x &lt; 0) {\n            x = 200;\n        }\n\n    }\n\n    draw = function(){\n        background(255, 255, 255);\n        exampleFunction(200);\n        exampleFunction(300);\n    }\n\n    //this doesn't work because the value of \"x\" is reset every time the                 \n    //function loops and the value stays at x + 1, so the ellipses don't     \n    //move\n\n    //Second Situation\n                                               |\n    //i tried to make an global array variable like this  V\n\n    var x = [];\n\n    //Then I would add another value to this variable every time I called     \n    //the function. But the problem was that every time I called the \n    //function i need to define a new value in the variable. so I'd do \n    //something like this \n\n    var x = [];\n\n    var exampleFunction = function(num){\n\n        x[num] = 1;\n        x[num] += 1;\n\n        fill(0, 0, 0);\n        ellipse(x[num], 200, 50, 50);\n        x += 1;\n\n        if(x &gt; 400 || x &lt; 0) {\n            x = 200;\n        }\n    }\n\n    draw = function(){\n        background(255, 255, 255);\n        exampleFunction(1);\n        exampleFunction(2);\n    }\n</code></pre>\n\n<p>But this had the same problem of resetting every time I ran the function, so I needed some way to define the variable the first time I ran the function and then not again. But I couldn't figure out anyway to do this. I don't know if there is some command I'm missing, or if it's just not possible. Please help.</p>\n\n<p>question here, so please forgive me for any formatting errors ;) </p>\n\n<p>I don't know if I'm missing something obvious or what. The purpose of the function, originally, was to have some characters wander back and forth along the bottom of the screen which would change directions anytime they hit a wall. I wanted them to all behave independently of one another, but to call them all with one function. I couldn't figure out how. </p>\n\n<p>Also I'm just writing this code now to explain, so there might be syntax errors in it.</p>\n\n<p>Okay Heres a link to an example of what I mean: <a href=\"https://www.khanacademy.org/computer-programming/spin-off-of-project-shooting-star/6194034937331712\" rel=\"nofollow noreferrer\">https://www.khanacademy.org/computer-programming/spin-off-of-project-shooting-star/6194034937331712</a></p>\n\n<p>^\n|\nIf you look at this code, I have to make a global variable for everyone of the bubbles. Is there any way I can do this with just a function without the global extra variables.</p>\n"}, {"tags": ["javascript", "jquery", "html", "twitter-bootstrap", "bootstrap-modal"], "comments": [{"owner": {"reputation": 753, "user_id": 648252, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ueJWh.jpg?s=128&g=1", "display_name": "elke_wtf", "link": "https://stackoverflow.com/users/648252/elke-wtf"}, "edited": false, "score": 0, "creation_date": 1565874515, "post_id": 57501213, "comment_id": 101488085, "body": "What is your intent once you&#39;ve selected the text? Do you want to copy it?"}, {"owner": {"reputation": 4412, "user_id": 4872454, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh6.googleusercontent.com/-fPzmBm5i9b0/AAAAAAAAAAI/AAAAAAAAABs/ZEqW4BT6YNI/photo.jpg?sz=128", "display_name": "Vimalan Jaya Ganesh", "link": "https://stackoverflow.com/users/4872454/vimalan-jaya-ganesh"}, "reply_to_user": {"reputation": 753, "user_id": 648252, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ueJWh.jpg?s=128&g=1", "display_name": "elke_wtf", "link": "https://stackoverflow.com/users/648252/elke-wtf"}, "edited": false, "score": 0, "creation_date": 1565886718, "post_id": 57501213, "comment_id": 101494104, "body": "@plumwd, yes, i have a separate method for that."}], "answers": [{"comments": [{"owner": {"reputation": 39660, "user_id": 3880585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8pfp3.png?s=128&g=1", "display_name": "gaetanoM", "link": "https://stackoverflow.com/users/3880585/gaetanom"}, "edited": false, "score": 0, "creation_date": 1565893659, "post_id": 57514318, "comment_id": 101496894, "body": "no in IE 11 It does not work.  But if you run the original code from the browser console (i.e.: SelectText(&quot;DivModalText&quot;); ) it works!!!!!!"}, {"owner": {"reputation": 4412, "user_id": 4872454, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh6.googleusercontent.com/-fPzmBm5i9b0/AAAAAAAAAAI/AAAAAAAAABs/ZEqW4BT6YNI/photo.jpg?sz=128", "display_name": "Vimalan Jaya Ganesh", "link": "https://stackoverflow.com/users/4872454/vimalan-jaya-ganesh"}, "edited": false, "score": 0, "creation_date": 1565895182, "post_id": 57514318, "comment_id": 101497531, "body": "@plumwd, Still does not work in modal window in IE11. Am I missing anything?"}, {"owner": {"reputation": 753, "user_id": 648252, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ueJWh.jpg?s=128&g=1", "display_name": "elke_wtf", "link": "https://stackoverflow.com/users/648252/elke-wtf"}, "edited": false, "score": 0, "creation_date": 1565963629, "post_id": 57514318, "comment_id": 101518232, "body": "Edited my comment above."}], "tags": [], "owner": {"reputation": 753, "user_id": 648252, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ueJWh.jpg?s=128&g=1", "display_name": "elke_wtf", "link": "https://stackoverflow.com/users/648252/elke-wtf"}, "is_accepted": false, "score": 0, "last_activity_date": 1565963873, "last_edit_date": 1565963873, "creation_date": 1565893135, "answer_id": 57514318, "question_id": 57501213, "link": "https://stackoverflow.com/questions/57501213/selecting-text-using-javascript-in-bootstrap-modal-dialog-is-not-working-in-ie11/57514318#57514318", "title": "Selecting text using Javascript in bootstrap modal dialog is not working in IE11. But, works in Chrome", "body": "<p>This should work:</p>\n\n<p><a href=\"https://jsfiddle.net/plumwd/v0odtujb/47/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/plumwd/v0odtujb/47/</a></p>\n\n<pre><code>       $('#BtnSelect').on('click', function(){\n\n        SelectText(\"DivText\")\n   });\n\n    $('#BtnModalSelect').on('click', function(){\n\n   SelectText(\"modalTxt\");\n  })\n\n   function SelectText(elementId) {\n\n        let elementHtml = document.getElementById(elementId);\n\n        elementHtml.select();\n\n\n\n    }\n</code></pre>\n\n<p>Create an input inside your div and then select the input. This works cross browser. You can style the input to have no border so it looks like regular text.</p>\n"}], "owner": {"reputation": 4412, "user_id": 4872454, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh6.googleusercontent.com/-fPzmBm5i9b0/AAAAAAAAAAI/AAAAAAAAABs/ZEqW4BT6YNI/photo.jpg?sz=128", "display_name": "Vimalan Jaya Ganesh", "link": "https://stackoverflow.com/users/4872454/vimalan-jaya-ganesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 263, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565963873, "creation_date": 1565812544, "last_edit_date": 1565848786, "question_id": 57501213, "link": "https://stackoverflow.com/questions/57501213/selecting-text-using-javascript-in-bootstrap-modal-dialog-is-not-working-in-ie11", "title": "Selecting text using Javascript in bootstrap modal dialog is not working in IE11. But, works in Chrome", "body": "<p>I am working on a task where text in a div has been to selected on button click event. The select is not working if the div is in bootstrap modal dialog.</p>\n\n<p>The following code works in chrome but not in IE11.</p>\n\n<p>Fiddle: <a href=\"https://jsfiddle.net/b8thg39u/5/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/b8thg39u/5/</a></p>\n\n<p>Code:</p>\n\n<pre><code>$('#BtnSelect').on('click', function(){\n    SelectText(\"DivText\");\n });\n\n\n$('#BtnModalSelect').on('click', function(){\n    SelectText(\"DivModalText\"); \n  });\n\n  function SelectText(elementId) {\n    let elementHtml = document.getElementById(elementId);\n\n    let range = document.createRange();\n    range.selectNodeContents(elementHtml);\n\n    let selection = window.getSelection();\n    selection.removeAllRanges(); //remove any previous selection\n    selection.addRange(range); // add range to selection object to select it        \n}\n</code></pre>\n\n<p>Any suggestion will be appreciated.</p>\n"}, {"tags": ["javascript", "reactjs", "asynchronous", "eslint"], "comments": [{"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 1, "creation_date": 1565812542, "post_id": 57501183, "comment_id": 101471720, "body": "<code>emp.photo</code> is the promise, so <code>Promise.all([emp, emp, \u2026])</code> where <code>emp</code> isn\u2019t a promise doesn\u2019t make sense."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "reply_to_user": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 1, "creation_date": 1565812566, "post_id": 57501183, "comment_id": 101471725, "body": "<code>Promise.all()</code> expects an array of promises, not an array of objects with properties that are promises. To say what @Ry- said a little differently :)."}, {"owner": {"reputation": 11, "user_id": 11928925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631bfbd745121dae5a55704c8dc564fa?s=128&d=identicon&r=PG&f=1", "display_name": "jasonkylemorse", "link": "https://stackoverflow.com/users/11928925/jasonkylemorse"}, "edited": false, "score": 0, "creation_date": 1565813047, "post_id": 57501183, "comment_id": 101471900, "body": "Ah, thank you both! Now my question is - if I were to adjust to pull back only photos and use <code>Promise.all()</code> on that array, how can I maintain the connection between an employee and their specific photo? Since of course I wouldn&#39;t be able to trust the order in which they were fetched"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1565813337, "post_id": 57501183, "comment_id": 101472021, "body": "@jasonkylemorse Doesn&#39;t matter when the fetch responses arrive, you <a href=\"https://stackoverflow.com/a/28066825/1048572\">can trust the order of the <code>Promise.all</code> results</a>."}, {"owner": {"reputation": 11, "user_id": 11928925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631bfbd745121dae5a55704c8dc564fa?s=128&d=identicon&r=PG&f=1", "display_name": "jasonkylemorse", "link": "https://stackoverflow.com/users/11928925/jasonkylemorse"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1565814002, "post_id": 57501183, "comment_id": 101472298, "body": "@Bergi Perfect, thank you very much for the info!"}], "owner": {"reputation": 11, "user_id": 11928925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631bfbd745121dae5a55704c8dc564fa?s=128&d=identicon&r=PG&f=1", "display_name": "jasonkylemorse", "link": "https://stackoverflow.com/users/11928925/jasonkylemorse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565812388, "creation_date": 1565812388, "question_id": 57501183, "link": "https://stackoverflow.com/questions/57501183/issues-refactoring-async-function-call-on-each-object-in-array", "title": "Issues refactoring async function call on each object in array", "body": "<p>I need to fetch all direct reports for the logged in manager and then display a card component for each one. I have to make a separate async call <code>getPhoto(id)</code> for each report by iterating over the response array of employee objects. </p>\n\n<p>The following is my original attempt, which after running <code>eslint</code>, I realized is inefficient due to the sequential <code>await</code>'s inside the <code>for...of</code> loop. </p>\n\n<pre><code>async function getReports() {\n  const response = await fetch('/current_user_direct_reports')\n    .then(res =&gt; res.json())\n    .then(data =&gt; data.value)\n    .catch(error =&gt; console.log(error));\n\n  for (const report of response) {\n    report.photo = await getPhoto(report.userPrincipalName);\n  }\n\n  setReports(response)\n}\n\nuseEffect(() =&gt; {\n  getReports();\n}, []);\n</code></pre>\n\n<p>This works but is rather slow. I tried adjusting the code to collect a list of employee objects, each containing a photo <code>Promise</code>, in order to allow all requests to resolve simultaneously. </p>\n\n<pre><code>async function getReports() {\n  const response = await fetch('/current_user_direct_reports')\n    .then(res =&gt; res.json())\n    .then(data =&gt; data.value)\n    .catch(error =&gt; console.log(error));\n\n  const reportsAndPhotos = [];\n  for (const report of response) {\n    const emp = report;\n    emp.photo = getPhoto(report.userPrincipalName);\n    reportsAndPhotos.push(emp);\n  }\n\n  return (await Promise.all(reportsAndPhotos));\n}\n\nuseEffect(() =&gt; { \n  async function getEmployees() {\n    const reportsAndPhotos = await getReports();\n    setReports(reportsAndPhotos);\n    setLoaded(true);\n  }\n  getEmployees();\n}, []);\n</code></pre>\n\n<p>However, my response is repeatedly rendered empty and I cannot identify what I'm doing wrong. I thought <code>Promise.all()</code> would wait for everything to resolve before returning.</p>\n"}, {"tags": ["javascript", "angularjs"], "comments": [{"owner": {"reputation": 4243, "user_id": 2401804, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/chtg9.jpg?s=128&g=1", "display_name": "r3wt", "link": "https://stackoverflow.com/users/2401804/r3wt"}, "edited": false, "score": 2, "creation_date": 1565812420, "post_id": 57501156, "comment_id": 101471675, "body": "this is a common problem. the issue is that when you copy from a to b, you&#39;re actually just copying a reference from b and not the values. i&#39;m not exactly sure how to get around this problem, but you should start with cloning the properties from <code>data</code> and seeing if the problem persists. another solution maybe to <code>JSON.parse(JSON.stringify(data))</code> then add the result to <code>b</code> and see if it works"}, {"owner": {"reputation": 289, "user_id": 7106886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G7dax.png?s=128&g=1", "display_name": "rodrigo.rodriguez", "link": "https://stackoverflow.com/users/7106886/rodrigo-rodriguez"}, "reply_to_user": {"reputation": 4243, "user_id": 2401804, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/chtg9.jpg?s=128&g=1", "display_name": "r3wt", "link": "https://stackoverflow.com/users/2401804/r3wt"}, "edited": false, "score": 0, "creation_date": 1565813334, "post_id": 57501156, "comment_id": 101472018, "body": "@r3wt What do you think of the answer below?"}, {"owner": {"reputation": 4243, "user_id": 2401804, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/chtg9.jpg?s=128&g=1", "display_name": "r3wt", "link": "https://stackoverflow.com/users/2401804/r3wt"}, "edited": false, "score": 0, "creation_date": 1565813601, "post_id": 57501156, "comment_id": 101472134, "body": "try it and see if it works. both examples are cloning the object so in theory they should no longer be a shared reference. in practice sometimes it doesn&#39;t work and additional steps are required."}], "answers": [{"tags": [], "owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "is_accepted": false, "score": 3, "last_activity_date": 1565813006, "last_edit_date": 1565813006, "creation_date": 1565812560, "answer_id": 57501217, "question_id": 57501156, "link": "https://stackoverflow.com/questions/57501156/i-edit-a-selected-item-and-the-initial-collection-is-changed-automatically-chang/57501217#57501217", "title": "I edit a selected item and the initial collection is changed automatically changes and continues to add when I click", "body": "<p>When you push <code>data</code> to <code>List_Add</code>, items in both the arrays are referencing the same object. So, you could clone the data using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax\" rel=\"nofollow noreferrer\">spread syntax</a> or <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign#Polyfill\" rel=\"nofollow noreferrer\"><code>Object.assign()</code></a> before pushing to <code>List_Add</code></p>\n\n<pre><code>$scope.List_Add.push({ ...data })\n</code></pre>\n\n<p>or </p>\n\n<pre><code>$scope.List_Add.push(Object.assign({}, data))\n</code></pre>\n\n<p>Updated snippet:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var app = angular.module(\"RodoApp\", []);\r\n\r\napp.controller(\"RodoController\", function($scope, $http) {\r\n  $scope.data_List = [{Value: 100 }, {Value: 200}, {Value: 300},];\r\n  $scope.List_Add = [];\r\n  $scope.click_Add = function(data) {\r\n    if ($scope.List_Add.indexOf(data) == -1) {\r\n      $scope.List_Add.push({ ...data});\r\n    }\r\n  }\r\n\r\n  $scope.click_Update = function(data, newValue) {\r\n    data.Value = newValue;\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css\" rel=\"stylesheet\" /&gt;\r\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;body ng-app=\"RodoApp\" ng-controller=\"RodoController\"&gt;\r\n  &lt;table class=\"table table-hover table-striped\"&gt;\r\n    &lt;tr ng-repeat=\"data in data_List\"&gt;\r\n      &lt;td ng-click=\"click_Add(data)\"&gt;{{ data.Value }}&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/table&gt;\r\n  &lt;hr/&gt;\r\n  &lt;table class=\"table table-hover table-striped\"&gt;\r\n    &lt;tr ng-repeat=\"data in List_Add\"&gt;\r\n      &lt;td&gt;\r\n        &lt;a href=\"#\" ng-show=\"!show_Update\" ng-click=\"model_Value = data.Value; show_Update = true\"&gt;{{ data.Value }}&lt;/a&gt;\r\n        &lt;div ng-show=\"show_Update\"&gt;\r\n          &lt;input type=\"text\" ng-model=\"model_Value\"&gt;\r\n          &lt;input type=\"button\" value=\"Save\" ng-click=\"click_Update(data, model_Value); show_Update = false;\"&gt;\r\n        &lt;/div&gt;\r\n      &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/table&gt;\r\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Also, note that <code>indexOf</code> will not work anymore because of the cloning. You can add an <code>id</code> property to each object to uniquely identify an object. Then, use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some\" rel=\"nofollow noreferrer\"><code>some</code></a> to check if it is already added to <code>List_Add</code></p>\n\n<pre><code>if (!$scope.List_Add.some(o =&gt; o.id === data.id)) { }\n</code></pre>\n"}], "owner": {"reputation": 289, "user_id": 7106886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G7dax.png?s=128&g=1", "display_name": "rodrigo.rodriguez", "link": "https://stackoverflow.com/users/7106886/rodrigo-rodriguez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1565815140, "creation_date": 1565812266, "last_edit_date": 1565815140, "question_id": 57501156, "link": "https://stackoverflow.com/questions/57501156/i-edit-a-selected-item-and-the-initial-collection-is-changed-automatically-chang", "title": "I edit a selected item and the initial collection is changed automatically changes and continues to add when I click", "body": "<p><strong>I click on an item in my collection A and charge to collection B, the problem is that: when any modification in the Value of Collection B also changes the item of collection A.\nHow can I solve that detail.</strong></p>\n\n<p>the sum is exceeded by several clicks</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  var app = angular.module(\"RodoApp\", []);\r\n\r\n  app.controller(\"RodoController\", function ($scope, $http) {\r\n    $scope.data_List = [{Value: 100 },\r\n                        {Value: 200},\r\n                        {Value: 300},];\r\n    $scope.List_Add = [];\r\n    $scope.click_Add = function (data) {\r\n      if ($scope.List_Add.indexOf(data) == -1) {\r\n        $scope.List_Add.push(data);\r\n    $scope.Sum = () =&gt; $scope.List_Add.reduce((Value, b) =&gt; { return Value + b.Value; }, 0);  //Here SUM\r\n\r\n      }\r\n    }\r\n\r\n    $scope.click_Update = function (data, newValue) {\r\n      data.Value = newValue;\r\n    }\r\n  });</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css\" rel=\"stylesheet\" /&gt;\r\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;body ng-app=\"RodoApp\" ng-controller=\"RodoController\"&gt;\r\n  &lt;table class=\"table table-hover table-striped\"&gt;\r\n    &lt;tr ng-repeat=\"data in data_List\"&gt;\r\n      &lt;td ng-click=\"click_Add(data)\"&gt;{{ data.Value }}&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/table&gt;\r\n  &lt;hr/&gt;\r\n  &lt;table class=\"table table-hover table-striped\"&gt;\r\n    &lt;tr ng-repeat=\"data in List_Add\"&gt;\r\n      &lt;td&gt;\r\n        &lt;a href=\"#\" ng-show=\"!show_Update\" ng-click=\"model_Value = data.Value; show_Update = true\"&gt;{{ data.Value }}&lt;/a&gt;\r\n        &lt;div ng-show=\"show_Update\"&gt;\r\n          &lt;input type=\"text\" ng-model=\"model_Value\"&gt;\r\n          &lt;input type=\"button\" value=\"Save\" ng-click=\"click_Update(data, model_Value); show_Update = false;\"&gt;\r\n        &lt;/div&gt;\r\n      &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n&lt;tr&gt;\r\n  &lt;td&gt;Sum: {{Sum()}}&lt;/td&gt;\r\n&lt;/tr&gt;\r\n  &lt;/table&gt;\r\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>more details. <a href=\"https://codepen.io/roalroga/pen/BaBjwLR?editors=1000\" rel=\"nofollow noreferrer\">CodePen</a></p>\n\n<p>when I make several clicks to a collection item B the sum does not stop.</p>\n\n<p><a href=\"https://i.stack.imgur.com/MLCdK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MLCdK.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "node.js", "ecmascript-6", "reduce"], "comments": [{"owner": {"reputation": 130214, "user_id": 772035, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/jAEqI.jpg?s=128&g=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/772035/paul"}, "edited": false, "score": 1, "creation_date": 1565813181, "post_id": 57501130, "comment_id": 101471954, "body": "If you can use a Promise library, you can use bluebird&#39;s Promise.reduce for this. I.E. <code>const res = await Promise.reduce( resultOne, async (users ...</code>."}, {"owner": {"reputation": 194, "user_id": 10162545, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-u6hXAOVdptc/AAAAAAAAAAI/AAAAAAAAAI8/bZslLyh1e6s/photo.jpg?sz=128", "display_name": "Ruben Saucedo", "link": "https://stackoverflow.com/users/10162545/ruben-saucedo"}, "reply_to_user": {"reputation": 130214, "user_id": 772035, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/jAEqI.jpg?s=128&g=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/772035/paul"}, "edited": false, "score": 0, "creation_date": 1565820539, "post_id": 57501130, "comment_id": 101474259, "body": "@Paulpro thank you for your response, the thing is that i don&#39;t think that add another dependency is completely necessary for this case, this is something that I won&#39;t be repeating in the whole project."}], "answers": [{"comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1565813133, "post_id": 57501324, "comment_id": 101471940, "body": "<code>await</code>ing the <code>users</code> later (after <code>await</code>ing the <code>getNames()</code>) will cause unhandled rejection warnings if one of the promises fails, see <a href=\"https://stackoverflow.com/questions/46889290/waiting-for-more-than-one-concurrent-await-operation\" title=\"waiting for more than one concurrent await operation\">stackoverflow.com/questions/46889290/&hellip;</a> or <a href=\"https://stackoverflow.com/questions/45285129/any-difference-between-await-promise-all-and-multiple-await\" title=\"any difference between await promise all and multiple await\">stackoverflow.com/questions/45285129/&hellip;</a>"}, {"owner": {"reputation": 908, "user_id": 9636451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8127a214dc2987116550e00fb1dff09?s=128&d=identicon&r=PG&f=1", "display_name": "Joss Classey", "link": "https://stackoverflow.com/users/9636451/joss-classey"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 2, "creation_date": 1565813392, "post_id": 57501324, "comment_id": 101472041, "body": "@Bergi I just updated my answer. Would this prevent/fix what you&#39;re talking about?"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1565813468, "post_id": 57501324, "comment_id": 101472072, "body": "Yes, they would be executed sequentially now. Still I don&#39;t think it&#39;s a good solution, it&#39;s confusing and easy to mess up :-)"}, {"owner": {"reputation": 194, "user_id": 10162545, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-u6hXAOVdptc/AAAAAAAAAAI/AAAAAAAAAI8/bZslLyh1e6s/photo.jpg?sz=128", "display_name": "Ruben Saucedo", "link": "https://stackoverflow.com/users/10162545/ruben-saucedo"}, "edited": false, "score": 0, "creation_date": 1565820822, "post_id": 57501324, "comment_id": 101474335, "body": "Thank you @JossClassey for your response, I was following kind of this solution but I also agree that is not the more readable option."}], "tags": [], "owner": {"reputation": 908, "user_id": 9636451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8127a214dc2987116550e00fb1dff09?s=128&d=identicon&r=PG&f=1", "display_name": "Joss Classey", "link": "https://stackoverflow.com/users/9636451/joss-classey"}, "is_accepted": false, "score": 1, "last_activity_date": 1565813848, "last_edit_date": 1565813848, "creation_date": 1565813052, "answer_id": 57501324, "question_id": 57501130, "link": "https://stackoverflow.com/questions/57501130/async-reduce-returning-promises/57501324#57501324", "title": "Async reduce returning promises", "body": "<p>Because it's an async function, every time you return something it gets wrapped in a promise. To fix this you need to set the starting array as a promise and then await for the accumulator on each iteration.</p>\n\n<pre><code>const res = await resultOne.reduce(async (users, user, i) =&gt; {\n  try {\n    return [\n      ...await users,\n      { ...user, userName: await names.getNames(user.id.name) }\n    ]\n  } catch (error) {\n    console.log(error)\n  }\n}, Promise.resolve([]));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 194, "user_id": 10162545, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-u6hXAOVdptc/AAAAAAAAAAI/AAAAAAAAAI8/bZslLyh1e6s/photo.jpg?sz=128", "display_name": "Ruben Saucedo", "link": "https://stackoverflow.com/users/10162545/ruben-saucedo"}, "edited": false, "score": 0, "creation_date": 1565820870, "post_id": 57501330, "comment_id": 101474345, "body": "Thank you for your response @Bergi, I think the plain loop could work great and is even more readable, the number of users that will be passed through the loop are thousands. But I don&#39;t think that there is a way to avoid running all the loop to delete the user.id and add the user.name"}], "tags": [], "owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "is_accepted": true, "score": 4, "last_activity_date": 1565813062, "creation_date": 1565813062, "answer_id": 57501330, "question_id": 57501130, "link": "https://stackoverflow.com/questions/57501130/async-reduce-returning-promises/57501330#57501330", "title": "Async reduce returning promises", "body": "<p>Yes, <code>users</code> is a promise. Don't use <code>reduce</code> with <code>async</code> functions. You could do something like <code>await users</code> in the first line, but that would be pretty inefficient and unidiomatic.</p>\n\n<p>Use a plain loop:</p>\n\n<pre><code>const users = [];\nfor (const user of resultOne) {\n    const { name } = await names.getNames(user.id);\n    delete user.id;\n    users.push({ ...user, userName: user });\n}\n</code></pre>\n\n<p>or, in your case where you can do everything concurrently and create an array anyway, the <code>map</code> function together with <code>Promise.all</code>:</p>\n\n<pre><code>const users = await Promise.all(resultOne.map(async user =&gt; {\n    const { name } = await names.getNames(user.id);\n    delete user.id;\n    return { ...user, userName: user };\n}));\n</code></pre>\n"}], "owner": {"reputation": 194, "user_id": 10162545, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-u6hXAOVdptc/AAAAAAAAAAI/AAAAAAAAAI8/bZslLyh1e6s/photo.jpg?sz=128", "display_name": "Ruben Saucedo", "link": "https://stackoverflow.com/users/10162545/ruben-saucedo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 0, "accepted_answer_id": 57501330, "answer_count": 2, "score": 2, "last_activity_date": 1565814021, "creation_date": 1565812160, "last_edit_date": 1565814021, "question_id": 57501130, "link": "https://stackoverflow.com/questions/57501130/async-reduce-returning-promises", "title": "Async reduce returning promises", "body": "<p>I have an array of objects and I have to add one property on each of the objects coming from and async function</p>\n\n<p>I am doing an Array.reduce to iterate on each of the elements and return just one result: One array of objects with the new property.</p>\n\n<p>I have this</p>\n\n<pre><code>const res = await resultOne.reduce(async (users = [], user, i) =&gt; {\n          let userName;\n          try {\n            let { name } = await names.getNames(user.id);\n            userName = name;\n          } catch (error) {\n            throw error;\n          }\n          delete user.id;\n          users.push({ ...user, userName });\n          return users;\n      }, []);\n</code></pre>\n\n<p>But I get the message</p>\n\n<blockquote>\n  <p>Push is not a function of users</p>\n</blockquote>\n\n<p>And this is because I think is a promise.</p>\n\n<p>How can I handle async requests in a <code>reduce</code> or a <code>map</code></p>\n"}, {"tags": ["javascript", "var", "getelementsbytagname"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 1, "creation_date": 1565811751, "post_id": 57501026, "comment_id": 101471440, "body": "<code>.getElementsByTagName()</code> is not broken."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 5, "creation_date": 1565811805, "post_id": 57501026, "comment_id": 101471459, "body": "Well, look at what comes before <code>indexOf</code> in your code: <code>getAttribute(&quot;class&quot;)</code>. That is what is returning null, not <code>getElementsByTagName</code>. So you likely have a <code>div</code> somewhere in your document that does not have a class attribute."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1565811974, "post_id": 57501026, "comment_id": 101471508, "body": "A better way to test if it has a class is <code>possibleEntries[i].classList.contains(&quot;1980-1&quot;)</code>"}], "owner": {"reputation": 137, "user_id": 5264403, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10150652254479999/picture?type=large", "display_name": "Pete Hayman", "link": "https://stackoverflow.com/users/5264403/pete-hayman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565811615, "creation_date": 1565811615, "question_id": 57501026, "link": "https://stackoverflow.com/questions/57501026/using-getelementsbytagname-works-with-h4-and-tr-tags-but-not-with-div-tag", "title": "Using getElementsByTagName works with H4 and TR tags \u2013 but not with DIV tag?", "body": "<p>With a list of football results from several seasons, I'm using checkboxes to let users filter entries in a table dynamically populated by a MySQL query. </p>\n\n<p>To do this, I'm using the following script:</p>\n\n<pre><code>function updateDisplay() {\n    var s1Display = \"\";\n    if (!document.getElementById(\"8081\").checked) {\n        s1Display = \"none\";\n    }\n(...)\n    var s13Display = \"\";\n    if (!document.getElementById(\"9293\").checked) {\n        s13Display = \"none\";\n    }\n\n    var possibleEntries = document.getElementsByTagName(\"h4\");\n    for (var i = 0; i &lt; possibleEntries.length; i++) {\n         if (possibleEntries[i].getAttribute(\"class\").indexOf(\"1980-1\") == 0) {\n             possibleEntries[i].style.display = s1Display;\n        } \n(...) \n    else if (possibleEntries[i].getAttribute(\"class\").indexOf(\"1992-3\") == 0) {\n             possibleEntries[i].style.display = s13Display ;\n        }  \n    }\n}\n</code></pre>\n\n<p>I'm also using the following PHP code, with the various elements populated by the query involved:</p>\n\n<pre><code>echo \"&lt;h4 class='\".$compShortCode.\" result-date'&gt;\".$yearonly.\"&lt;/h4&gt;\";\necho \"&lt;div class='\".$compShortCode.\" result-info'&gt;\";\n    echo \"&lt;a href='/seasons/match/MATCHID/' class='result-data result-link'&gt;\";\n    echo \"&lt;span class='result-column sidebar-comp'&gt;COMP&lt;/span&gt;\";    \n    echo \"&lt;span class='result-column sidebar-venue'&gt;VENUE&lt;/span&gt;\";\n    echo \"&lt;span class='result-column sidebar-team'&gt;TEAM&lt;/span&gt;\";\n    echo \"&lt;span class='result-column sidebar-score'&gt;\";\n        echo \"&lt;span class='player-score-box'&gt;\";\n            echo \"&lt;span class='player-score-main'&gt;SCORE&lt;/span&gt;\";\n        echo \"&lt;/span&gt;\";\n    echo \"&lt;/span&gt;\"; \necho \"&lt;/a&gt;\";\necho \"&lt;/div&gt;\";\n</code></pre>\n\n<p>When a tickbox is checked, it shows the entry. When it's unchecked, it's designed to hide the entry. The way the code is currently configured, <code>document.getElementsByTagName(\"h4\")</code> shows/hides the <code>&lt;H4&gt;</code> tag using <code>$compShortCode</code> \u2013 but switching to <code>document.getElementsByTagName(\"div\")</code> won't do this. And I can't figure out why.</p>\n\n<p>The error message in Chrome's Developer Tools is not making it clearer for me:</p>\n\n<pre><code>Uncaught TypeError: Cannot read property 'indexOf' of null\n    at updateDisplay ((index):421)\n    at HTMLInputElement.onchange ((index):447)\n</code></pre>\n\n<p>I'm aiming to adapt the script so that it hides both the <code>&lt;h4&gt;</code> and <code>&lt;div&gt;</code> as the <code>$compShortCode</code> will be the same for both (using <code>document.querySelectorAll('div,h4')</code>?) \u2013 but first I'm looking to figure out why the <code>&lt;div&gt;</code> tag won't show/hide. I thought it was a straight swap from one tag to another or have I missed out a step?</p>\n\n<p>For more context, the live page can be found <a href=\"https://www.boroguide.co.uk/missing/\" rel=\"nofollow noreferrer\">here</a>. </p>\n"}, {"tags": ["javascript", "appendchild"], "comments": [{"owner": {"reputation": 8719, "user_id": 6951428, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/92fd81a6020da8e77fc9125e0c9ec512?s=128&d=identicon&r=PG&f=1", "display_name": "junvar", "link": "https://stackoverflow.com/users/6951428/junvar"}, "edited": false, "score": 0, "creation_date": 1565811140, "post_id": 57500900, "comment_id": 101471249, "body": "As you&#39;ve described the situation, it should work. Try adding a minimal reproducing example to your question."}, {"owner": {"reputation": 1013, "user_id": 11664469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e25ff15ab546620ddda37e3dcfa2d145?s=128&d=identicon&r=PG&f=1", "display_name": "Maksym Petrenko", "link": "https://stackoverflow.com/users/11664469/maksym-petrenko"}, "edited": false, "score": 0, "creation_date": 1565811162, "post_id": 57500900, "comment_id": 101471258, "body": "Does an elements with class name <code>sqs-gallery</code> isset?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 7, "creation_date": 1565811285, "post_id": 57500900, "comment_id": 101471291, "body": "Get rid of the parentheses here: <code>window.onload=createfn()</code>"}, {"owner": {"reputation": 1060, "user_id": 7080032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acc11eaa19b84176ef3b4c06136f5182?s=128&d=identicon&r=PG", "display_name": "Chris Chen", "link": "https://stackoverflow.com/users/7080032/chris-chen"}, "edited": false, "score": 0, "creation_date": 1565811607, "post_id": 57500900, "comment_id": 101471398, "body": "* What is the full error returned in console? * Have you tried to console.log your variables and what&#39;s the results?"}], "answers": [{"comments": [{"owner": {"reputation": 198, "user_id": 179137, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/67818e4ee86c6aaaa23c0e201e20e196?s=128&d=identicon&r=PG", "display_name": "jmarx34", "link": "https://stackoverflow.com/users/179137/jmarx34"}, "edited": false, "score": 0, "creation_date": 1565811714, "post_id": 57500999, "comment_id": 101471425, "body": "That did the trick! Figured it was a stupid mistake like that! Thanks for the quick responses."}], "tags": [], "owner": {"reputation": 1518, "user_id": 10816461, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6XNsrfhxp_c/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hhVp73I4eIN1MbnU6G4TmjkKpozA/mo/photo.jpg?sz=128", "display_name": "Alex Vovchuk", "link": "https://stackoverflow.com/users/10816461/alex-vovchuk"}, "is_accepted": false, "score": 5, "last_activity_date": 1565811479, "creation_date": 1565811479, "answer_id": 57500999, "question_id": 57500900, "link": "https://stackoverflow.com/questions/57500900/javascript-createelement-via-appendchild-returning-error/57500999#57500999", "title": "javascript createElement via appendChild returning error", "body": "<p>You perform\n<code>window.onload=createfn()</code>;</p>\n\n<p>it means that you assign result of <code>createfn()</code> to <code>onload</code> (not the function). \nAnd function \"<code>createfn</code>\" being executed immediately (does not wait for window loading).</p>\n\n<p>Just remove parentheses to assign handler instead of function value.</p>\n"}, {"tags": [], "owner": {"reputation": 97, "user_id": 7173917, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tI-hvMxMLoI/AAAAAAAAAAI/AAAAAAAAAEk/nQ6T2LZUxDE/photo.jpg?sz=128", "display_name": "Spearmint", "link": "https://stackoverflow.com/users/7173917/spearmint"}, "is_accepted": false, "score": 1, "last_activity_date": 1565864442, "last_edit_date": 1565864442, "creation_date": 1565811909, "answer_id": 57501074, "question_id": 57500900, "link": "https://stackoverflow.com/questions/57500900/javascript-createelement-via-appendchild-returning-error/57501074#57501074", "title": "javascript createElement via appendChild returning error", "body": "<p>If you leave the code as <code>window.onload=createfn()</code> (with the parenteheses) <code>createfn</code> will run directly as the code starts to run (even before the DOM has loaded) because the result needs to be assigned to <code>window.onload</code>. </p>\n\n<p>What you instead should be trying to do is assign the function, not the result: <code>window.onload=createfn</code>. This should work just fine.</p>\n"}], "owner": {"reputation": 198, "user_id": 179137, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/67818e4ee86c6aaaa23c0e201e20e196?s=128&d=identicon&r=PG", "display_name": "jmarx34", "link": "https://stackoverflow.com/users/179137/jmarx34"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1565864442, "creation_date": 1565810923, "last_edit_date": 1565811048, "question_id": 57500900, "link": "https://stackoverflow.com/questions/57500900/javascript-createelement-via-appendchild-returning-error", "title": "javascript createElement via appendChild returning error", "body": "<p>I'm trying to write a short javascript function to add buttons for prev/next to a css-slider I've put together. <br>I don't have access to the DOM, so figured I'd just insert the div's via javascript. Here is the function:</p>\n\n<pre><code>function createfn(){\n  var element = document.createElement(\"div\");\n  var prev = document.createTextNode(\"&lt;\");\n  element.appendChild(prev);\n  document.getElementsByClassName(\"sqs-gallery\")[0].appendChild(element);\n}\nwindow.onload=createfn();\n</code></pre>\n\n<p>I am getting an error: </p>\n\n<blockquote>\n  <p>\"Cannot read property 'appendChild' of undefined\"</p>\n</blockquote>\n\n<p>The <code>div</code> container with class <code>.sqs-gallery</code> is definitely appearing on the page. I was questioning whether this was somehow running before the DOM fully loaded, but I have the <code>window.onload</code> in there which (I believe) should wait until everything is loaded before running the function.</p>\n\n<p>Any and all thoughts and help is greatly appreciated!</p>\n"}, {"tags": ["javascript", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 2207, "user_id": 3988232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e47523b278f15afd925a473e2ac0b966?s=128&d=identicon&r=PG&f=1", "display_name": "IronFlare", "link": "https://stackoverflow.com/users/3988232/ironflare"}, "edited": false, "score": 0, "creation_date": 1565811157, "post_id": 57500897, "comment_id": 101471256, "body": "Could you please include the corresponding HTML that will allow us to run your code? Please include only what is <a href=\"https://stackoverflow.com/help/mcve\">needed to reproduce the problem</a>, and strip out unnecessary parts wherever possible."}, {"owner": {"reputation": 101, "user_id": 3993997, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0e90084dac9a691ba1291c7da69410c8?s=128&d=identicon&r=PG&f=1", "display_name": "Lucky", "link": "https://stackoverflow.com/users/3993997/lucky"}, "reply_to_user": {"reputation": 2207, "user_id": 3988232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e47523b278f15afd925a473e2ac0b966?s=128&d=identicon&r=PG&f=1", "display_name": "IronFlare", "link": "https://stackoverflow.com/users/3988232/ironflare"}, "edited": false, "score": 0, "creation_date": 1565841664, "post_id": 57500897, "comment_id": 101477758, "body": "Added the HTML code that will contain the details fetched from Firestore."}, {"owner": {"reputation": 2207, "user_id": 3988232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e47523b278f15afd925a473e2ac0b966?s=128&d=identicon&r=PG&f=1", "display_name": "IronFlare", "link": "https://stackoverflow.com/users/3988232/ironflare"}, "edited": false, "score": 0, "creation_date": 1565845072, "post_id": 57500897, "comment_id": 101478305, "body": "And what is not working about it? What is it doing when inside the loop that&#39;s different from when it&#39;s outside the loop? Add some <code>console.log</code> statements for every variable inside your loop and see how they change (or not) with each iteration."}, {"owner": {"reputation": 101, "user_id": 3993997, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0e90084dac9a691ba1291c7da69410c8?s=128&d=identicon&r=PG&f=1", "display_name": "Lucky", "link": "https://stackoverflow.com/users/3993997/lucky"}, "reply_to_user": {"reputation": 2207, "user_id": 3988232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e47523b278f15afd925a473e2ac0b966?s=128&d=identicon&r=PG&f=1", "display_name": "IronFlare", "link": "https://stackoverflow.com/users/3988232/ironflare"}, "edited": false, "score": 0, "creation_date": 1565849967, "post_id": 57500897, "comment_id": 101479226, "body": "<code>studentdriver</code> is having correct expected values in each iteration but just the <code>update</code> statement is not updating the firestore document. For a single selection select field in html, the code is working fine but for multiple selections, i stored all the selected values in an array and executed the update statement for each selected item but it is not working."}, {"owner": {"reputation": 2207, "user_id": 3988232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e47523b278f15afd925a473e2ac0b966?s=128&d=identicon&r=PG&f=1", "display_name": "IronFlare", "link": "https://stackoverflow.com/users/3988232/ironflare"}, "edited": false, "score": 0, "creation_date": 1565874098, "post_id": 57500897, "comment_id": 101487854, "body": "Are there synchronous versions of Firestore operations? If so, try using <code>async</code> and <code>await</code> to hold up the loop until the storage operation is complete. Alternatively, switch <code>var studentdriver</code> to <code>let studentdriver</code> to scope the object to the loop iteration."}], "owner": {"reputation": 101, "user_id": 3993997, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0e90084dac9a691ba1291c7da69410c8?s=128&d=identicon&r=PG&f=1", "display_name": "Lucky", "link": "https://stackoverflow.com/users/3993997/lucky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565841539, "creation_date": 1565810911, "last_edit_date": 1565841539, "question_id": 57500897, "link": "https://stackoverflow.com/questions/57500897/document-not-updating-inside-loop", "title": "Document not Updating inside loop", "body": "<p>The update function is not working inside loop containing array of selected options. Without loop it is working and i have checked that array contains correct values.</p>\n\n<p>Html Code:</p>\n\n<pre><code>&lt;div class=\"col-sm-4\"&gt;\n     &lt;select multiple class=\"form-control\" id=\"studentcontainer\"&gt;\n\n     &lt;/select&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>JAVASCRIPT:</p>\n\n<pre><code>    db.collection('Parent').get().then(snapshot =&gt; {\n\n        snapshot.forEach(doc =&gt; {\n\n            var data = '&lt;option value=\"' + doc.data().uid + '\"&gt;' + doc.data().student_name + \" - \" + doc.data().student_admno + '&lt;/option&gt;';\n            document.getElementById('studentcontainer').innerHTML += data;\n\n        });\n\n    });\n</code></pre>\n\n<p>`</p>\n\n<pre><code>function assignStudent() {\n        var e = document.getElementById(\"driverscontainer\");\n        var driverid = e.options[e.selectedIndex].value + \"\";\n        var selectedElement = document.getElementById('studentcontainer');\n        var selectedOptions = selectedElement.selectedOptions || [].filter.call(selectedElement.options, option =&gt; option.selected);\n        var selectedValues = [].map.call(selectedOptions, option =&gt; option.value);\n        for (index = 0; index &lt; selectedValues.length; index++) {\n            console.log(selectedValues[index]);\n            var studentdriver = {\n                did : driverid,\n                sid : selectedValues[index]\n            }\n            db.collection(\"AssignedStudents\").doc(driverid).set(studentdriver).then(function() {\n            alert(\"Student Assigned Successfully\");\n        });\n            var docRef = firebase.firestore().collection(\"Parent\").doc(selectedValues[index]).update({\n                isAssigned: true\n            });\n\n        }\n\n        alert(\"Students Assigned Successfully\");\n\n    }\n</code></pre>\n"}, {"tags": ["javascript", "es6-promise"], "comments": [{"owner": {"reputation": 14139, "user_id": 830247, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fb2e9e58089444c77b786eece683bad8?s=128&d=identicon&r=PG", "display_name": "Brian Glaz", "link": "https://stackoverflow.com/users/830247/brian-glaz"}, "edited": false, "score": 0, "creation_date": 1565811058, "post_id": 57500840, "comment_id": 101471216, "body": "possibly look into an async generator? <a href=\"https://jakearchibald.com/2017/async-iterators-and-generators/\" rel=\"nofollow noreferrer\">jakearchibald.com/2017/async-iterators-and-generators</a>"}, {"owner": {"reputation": 675, "user_id": 9784568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f0ebd1f654d7afa0c4ec98dde0a4d2a?s=128&d=identicon&r=PG&f=1", "display_name": "coolpasta", "link": "https://stackoverflow.com/users/9784568/coolpasta"}, "reply_to_user": {"reputation": 14139, "user_id": 830247, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fb2e9e58089444c77b786eece683bad8?s=128&d=identicon&r=PG", "display_name": "Brian Glaz", "link": "https://stackoverflow.com/users/830247/brian-glaz"}, "edited": false, "score": 0, "creation_date": 1565811174, "post_id": 57500840, "comment_id": 101471263, "body": "@BrianGlaz That looks neat and is part of the solution, but again, my issue is with actually doing these N calls over and over. This is the &quot;after&quot; problem you&#39;re talking about. I have no idea how to write the code to keep calling that fetch."}, {"owner": {"reputation": 14139, "user_id": 830247, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fb2e9e58089444c77b786eece683bad8?s=128&d=identicon&r=PG", "display_name": "Brian Glaz", "link": "https://stackoverflow.com/users/830247/brian-glaz"}, "edited": false, "score": 0, "creation_date": 1565880092, "post_id": 57500840, "comment_id": 101490967, "body": "that&#39;s what the generator does for you. Like in the example on that page you can do <code>for await(const promiseVal of promiseGenerator()) { if(promiseVal === &#39;finished_all_calls&#39;) { break; } else { &#47;&#47;do stuff } })</code>."}], "answers": [{"comments": [{"owner": {"reputation": 675, "user_id": 9784568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f0ebd1f654d7afa0c4ec98dde0a4d2a?s=128&d=identicon&r=PG&f=1", "display_name": "coolpasta", "link": "https://stackoverflow.com/users/9784568/coolpasta"}, "edited": false, "score": 0, "creation_date": 1565810876, "post_id": 57500876, "comment_id": 101471151, "body": "You again! Thanks for giving me hope in <code>async</code> again. I get that the <code>while</code> waits for my <code>somePromise()</code> to end its chain but, uh, that&#39;s exactly my problem. How do I create that chain as per my specs? I can use <code>await</code>, that&#39;s fine now since I had no issues with the polyfills but I don&#39;t know how to do the &quot;await recursion&quot;."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 675, "user_id": 9784568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f0ebd1f654d7afa0c4ec98dde0a4d2a?s=128&d=identicon&r=PG&f=1", "display_name": "coolpasta", "link": "https://stackoverflow.com/users/9784568/coolpasta"}, "edited": false, "score": 0, "creation_date": 1565811003, "post_id": 57500876, "comment_id": 101471195, "body": "Yeah, I&#39;m currently moving to another city and all my stuff is already there, that&#39;s why I&#39;m currently really bored and the only thing I can do on my phone is playing some games or answering on SO :)"}], "tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 4, "last_activity_date": 1565810881, "last_edit_date": 1565810881, "creation_date": 1565810778, "answer_id": 57500876, "question_id": 57500840, "link": "https://stackoverflow.com/questions/57500840/how-can-i-implement-a-repetitive-promise-call-chain/57500876#57500876", "title": "How can I implement a repetitive promise call chain?", "body": "<p><code>while</code> can be async inside an <code>async function</code>:</p>\n\n<pre><code>  async function pollStuff() {\n    while(!(\"keyword\" in await somePromise());\n  }\n</code></pre>\n\n<p>Without async / await recursion is your friend:</p>\n\n<pre><code> const pollStuff = () =&gt; \n   somePromise().then(result =&gt; \"keyword\" in result ? \"done\" : pollStuff())\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1565813532, "post_id": 57501305, "comment_id": 101472102, "body": "You know that there is <code>Symbol.asyncIterator</code> ?"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1565813645, "post_id": 57501305, "comment_id": 101472153, "body": "And why having that iterator at all, if it <code>yield</code>s only once? I also don&#39;t understand why you have to keep that array of functions?"}, {"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1565814126, "post_id": 57501305, "comment_id": 101472342, "body": "@JonasWilms I appreciate the input, this is admittedly a bit worse for wear. I&#39;ll adjust it to be a bit more compact - but no I wasn&#39;t aware of <code>asyncIterator</code>, or at least it&#39;s not on my mind as often as <code>iterator</code>. I can&#39;t imagine there&#39;s that much difference, but give me a few minutes."}], "tags": [], "owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "is_accepted": true, "score": 0, "last_activity_date": 1565822537, "last_edit_date": 1565822537, "creation_date": 1565812970, "answer_id": 57501305, "question_id": 57500840, "link": "https://stackoverflow.com/questions/57500840/how-can-i-implement-a-repetitive-promise-call-chain/57501305#57501305", "title": "How can I implement a repetitive promise call chain?", "body": "<h2>Answer:</h2>\n\n<p>For re-usability and maintenance you could create a constructor function that does this for you:</p>\n\n<pre><code>function PromiseUntil(promiseFn, conditional) {\nlet trace = (place) =&gt; e =&gt; console.log(`trace: ${place} :: ${e}`);\n  return {\n    [Symbol.asyncIterator]: async function*() {\n      let p;\n      while(p != conditional) {  p = await promiseFn().catch(trace(\"PromiseUntil[Symbol.asyncIterator]\")) }\n      yield p;\n    },\n    resolve: async function(cb = i =&gt; i, err = trace(\"PromiseUntil.resolve\")) {\n    this.resolve = false;\n      try {\n        for await (let p of this) {\n            this.resolved = true;\n            return cb(p);\n        }\n      } catch (e) {\n        err(e);\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>It simply takes a promise function and repeats it until the value returned by the resolved Promise matches the conditional. In the below it checks if it equals <code>\"awaited value\"</code>. Once it matches, it is returned, and the callback function ( in the example <code>console.log</code> ) is called with that value. </p>\n\n<hr>\n\n<h2>Example:</h2>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function PromiseUntil(promiseFn, conditional) {\r\nlet trace = (place) =&gt; e =&gt; console.log(`trace: ${place} :: ${e}`);\r\n  return {\r\n    [Symbol.asyncIterator]: async function*() {\r\n      let p;\r\n      while(p != conditional) {  p = await promiseFn().catch(trace(\"PromiseUntil[Symbol.asyncIterator]\")) }\r\n      yield p;\r\n    },\r\n    resolve: async function(cb = i =&gt; i, err = trace(\"PromiseUntil.resolve\")) {\r\n    this.resolve = false;\r\n      try {\r\n        for await (let p of this) {\r\n            this.resolved = true;\r\n            return cb(p);\r\n        }\r\n      } catch (e) {\r\n        err(e);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n\r\nlet a = () =&gt; new Promise(res =&gt; (Math.random() &gt;= 0.5) ? (console.log(\"no\"), res(\"not awaited value\")) : (console.log(\"yes\"), res(\"awaited value\")));\r\n\r\nlet waiter = PromiseUntil(a, \"awaited value\");\r\nwaiter.resolve(console.log);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<h2>Adjusted For Conditional Function:</h2>\n\n<p>After thinking over the above answer, it would probably be best if you could pass in a conditional <strong>function</strong> and not just a primitive value to match. That way you could check against an object property or whatever comparison you'd like, etc. </p>\n\n<p>This adjustment changes the parameter name from <code>conditional</code> to <code>conditionalFn</code> and adjusts the while loop from:</p>\n\n<pre><code>while(p != conditional)\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>while(p == undefined || !conditionalFn(p))\n</code></pre>\n\n<hr>\n\n<h2>Example:</h2>\n\n<p>In the below we have two constructed <code>PromiseUntil</code> Objects. </p>\n\n<ul>\n<li>The first is assigned a promise function that will resolve when the returned <code>string</code> includes <code>\"fin\"</code>. </li>\n<li>The second is assigned a promise function that will resolve when the returned <code>object</code> (<em>a user object in this case</em>) has an <code>id</code> property of <code>1</code></li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function PromiseUntil(promiseFn, conditionalFn) {\r\nlet trace = (place) =&gt; e =&gt; console.log(`trace: ${place} :: ${e}`);\r\n  return {\r\n    [Symbol.asyncIterator]: async function*() {\r\n      let p;\r\n      while(p == undefined || !conditionalFn(p)) {  \r\n        p = await promiseFn().catch(trace(\"PromiseUntil[Symbol.asyncIterator]\")) \r\n      }\r\n      yield p;\r\n    },\r\n    resolve: async function(cb = i =&gt; i, err = trace(\"PromiseUntil.resolve\")) {\r\n    this.resolve = false;\r\n      try {\r\n        for await (let p of this) {\r\n            this.resolved = true;\r\n            return cb(p);\r\n        }\r\n      } catch (e) {\r\n        err(e);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\nlet a = () =&gt; new Promise(res =&gt; (Math.random() &gt;= 0.5) ? (console.log(\"First Example: no\"), res(\"not awaited value\")) : (console.log(\"First Example: yes\"), res(\"First Example: finished\"))),\r\n\r\nb = () =&gt; new Promise(res =&gt; (Math.random() &gt;= 0.5) ? (console.log(\"Second Example: no\"), res({ id: 2 })) : (console.log(\"Second Example: yes\"), res({id: 1, name: \"John Smith\" })) );\r\n\r\nlet waiter = PromiseUntil(a, val =&gt; val.includes(\"fin\"));\r\nwaiter.resolve(console.log);\r\n\r\nlet waiter_two = PromiseUntil(b, user =&gt; user.id == 1);\r\nwaiter_two.resolve(user =&gt; console.log(`Second Example: Found User: ${user.id} , ${user.name}`));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<h2>Aside: Infinite looping</h2>\n\n<p>In the above code the PromiseUntil Objects will continue to try and resolve their Promise Functions indefinitely. If the conditional is never met this can cause infinite recursion. To avoid this you can set either a maximum duration to try and resolve for the condition, or a number of attempts. The below demonstrates how to do so:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function PromiseUntil( promiseFn, conditionalFn, {maxDuration, maxAttempts} = {} ) {\r\n  let trace = ( place ) =&gt; e =&gt; console.log( `trace: ${place} :: ${e}` ),\r\n    timeout = ( reason ) =&gt; trace( \"PromiseUntil Time Out\" )( Error( reason ) ),\r\n    limit = max =&gt; current =&gt; ( max &amp;&amp; max &lt;= current );\r\n\r\n  return {\r\n    promiseName: promiseFn.name,\r\n    [ Symbol.asyncIterator ]: async function*() {\r\n      const exceeds = {\r\n        duration: limit( Date.now() + maxDuration ),\r\n        attempts: limit( maxAttempts )\r\n      };\r\n      let attempts = 0;\r\n\r\n      let p;\r\n      while ( p == undefined || !conditionalFn( p ) ) {\r\n        if ( exceeds.duration( Date.now() ) ) throw timeout( `${this.promiseName} Max Duration Met` );\r\n        if ( exceeds.attempts( attempts++ ) ) throw timeout( `${this.promiseName} Max Resolution Attempts` );\r\n\r\n        p = await promiseFn().catch( trace( \"PromiseUntil[Symbol.asyncIterator]\" ) );\r\n      }\r\n      yield p;\r\n    },\r\n    resolve: async function( cb = i =&gt; i, err = trace( \"PromiseUntil.resolve\" ) ) {\r\n      this.resolve = false;\r\n      try {\r\n        for await ( let p of this ) {\r\n          this.resolved = true;\r\n          return cb( p );\r\n        }\r\n      }\r\n      catch ( e ) {\r\n        if ( e ) err( e );\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n\r\n// our promise functions\r\nlet delayedPromise = () =&gt; new Promise( res =&gt;\r\n    setTimeout( () =&gt; Math.random() &gt;= 0.5 ? res( \"not awaited value\" ) : res( \"delayedPromise Successful: finished\" ), 500 ) ),\r\n\t\r\n  attemptPromise = () =&gt; new Promise( res =&gt; \r\n\t\t\t\t\t\t\t\t\t Math.random() &gt;= 0.5 ? res( {id: 2} ) : res( {id: 1, name: \"John Smith\" } ) );\r\n\r\n\r\n// our PromiseUntil Objects\r\nlet wait_for_fin = PromiseUntil( delayedPromise, val =&gt; val.includes( \"fin\" ), {\r\n    maxDuration: 300\r\n  } ),\r\n\t\r\n  wait_for_user_one = PromiseUntil( attemptPromise, user =&gt; user.id == 1, {\r\n    maxAttempts: 2\r\n  } );\r\n\r\n// our Resolvers\r\nwait_for_fin.resolve( console.log );\r\nwait_for_user_one.resolve( user =&gt; console.log( `attemptPromise Successful: Found User: ${user.id} , ${user.name}` ) );</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 675, "user_id": 9784568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f0ebd1f654d7afa0c4ec98dde0a4d2a?s=128&d=identicon&r=PG&f=1", "display_name": "coolpasta", "link": "https://stackoverflow.com/users/9784568/coolpasta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 57501305, "answer_count": 2, "score": 0, "last_activity_date": 1565822537, "creation_date": 1565810633, "last_edit_date": 1565810791, "question_id": 57500840, "link": "https://stackoverflow.com/questions/57500840/how-can-i-implement-a-repetitive-promise-call-chain", "title": "How can I implement a repetitive promise call chain?", "body": "<p><em>Please know I'm not looking for the reduce pattern which assumes I already need to know the number of executions beforehand. Recursivity here is also overkill.</em></p>\n\n<p>I need to execute a call that returns a Promise (either resolved / rejected) in a row until, in that Promise's return data I find a certain keyword, pseudo-code:</p>\n\n<pre><code>let response_that_will_come_from_each_promise = null;\n\ndo {\n    response_that_will_come_from_each_promise = execute_my_call_that_is_a_promise();\n} while(!('finished_all_calls' in response_that_will_come_from_each_promise ));\n</code></pre>\n\n<p>Unfortunately, this won't work with the asynchronous nature of promises. A for loop won't also do because both <code>do</code> and <code>for</code> are synchronous.</p>\n\n<p>In short, how can I keep calling the same function that also happens to return a promise for N times until I detect that something is wrong?</p>\n"}, {"tags": ["javascript", "html", "angularjs", "datepicker"], "comments": [{"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 1, "creation_date": 1565810147, "post_id": 57500724, "comment_id": 101470878, "body": "set the <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/Input#The_placeholder_attribute\" rel=\"nofollow noreferrer\"><code>placeholder</code> attribute</a>?"}, {"owner": {"reputation": 1005, "user_id": 1806642, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/G6oSL.jpg?s=128&g=1", "display_name": "Sylens", "link": "https://stackoverflow.com/users/1806642/sylens"}, "edited": false, "score": 0, "creation_date": 1565810244, "post_id": 57500724, "comment_id": 101470911, "body": "you should use the html attribute called placeholder: <a href=\"https://www.w3schools.com/tags/att_input_placeholder.asp\" rel=\"nofollow noreferrer\">w3schools.com/tags/att_input_placeholder.asp</a>"}, {"owner": {"reputation": 3, "user_id": 11643153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u8aKv.jpg?s=128&g=1", "display_name": "Simi", "link": "https://stackoverflow.com/users/11643153/simi"}, "edited": false, "score": 0, "creation_date": 1565810308, "post_id": 57500724, "comment_id": 101470939, "body": "My HTML looks like this: &lt;td ng-if=&quot;product.isActive === true&quot;&gt;                                                 &lt;quick-datepicker type=&quot;date&quot; style=&quot;max-width: 175px&quot; placeholder=&quot;mm/dd/yyyy&quot; ng-model=&quot;product.EndDate&quot; disable-timepicker=&quot;true&quot; ng-change=&quot;saveChanges(product, true)&quot;&gt;&lt;/quick-datepicker&gt;                                             &lt;/td&gt;"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11643153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u8aKv.jpg?s=128&g=1", "display_name": "Simi", "link": "https://stackoverflow.com/users/11643153/simi"}, "edited": false, "score": 0, "creation_date": 1565811007, "post_id": 57500874, "comment_id": 101471199, "body": "It is receiving other dates as well in cases where the database entry is not null. In case the database entry is null, it returns 1/1/0001 and I want that to be replaced by blank date like &#39;mm/dd/yyyy&#39;"}, {"owner": {"reputation": 71, "user_id": 8793489, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D6e6l.png?s=128&g=1", "display_name": "Eli", "link": "https://stackoverflow.com/users/8793489/eli"}, "reply_to_user": {"reputation": 3, "user_id": 11643153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u8aKv.jpg?s=128&g=1", "display_name": "Simi", "link": "https://stackoverflow.com/users/11643153/simi"}, "edited": false, "score": 0, "creation_date": 1565811111, "post_id": 57500874, "comment_id": 101471236, "body": "are you saying that it&#39;s receiving the wrong date when the value is not null?"}, {"owner": {"reputation": 71, "user_id": 8793489, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D6e6l.png?s=128&g=1", "display_name": "Eli", "link": "https://stackoverflow.com/users/8793489/eli"}, "reply_to_user": {"reputation": 3, "user_id": 11643153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u8aKv.jpg?s=128&g=1", "display_name": "Simi", "link": "https://stackoverflow.com/users/11643153/simi"}, "edited": false, "score": 0, "creation_date": 1565811360, "post_id": 57500874, "comment_id": 101471309, "body": "Right. For example in C# you can set the type to <code>DateTime?</code> which allows it to be null when it is, and sets the correct value when not null."}, {"owner": {"reputation": 71, "user_id": 8793489, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D6e6l.png?s=128&g=1", "display_name": "Eli", "link": "https://stackoverflow.com/users/8793489/eli"}, "reply_to_user": {"reputation": 3, "user_id": 11643153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u8aKv.jpg?s=128&g=1", "display_name": "Simi", "link": "https://stackoverflow.com/users/11643153/simi"}, "edited": false, "score": 0, "creation_date": 1565811440, "post_id": 57500874, "comment_id": 101471342, "body": "Another option is to use a <code>string</code> instead of <code>DateTime</code>/<code>DateTime?</code>"}, {"owner": {"reputation": 3, "user_id": 11643153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u8aKv.jpg?s=128&g=1", "display_name": "Simi", "link": "https://stackoverflow.com/users/11643153/simi"}, "edited": false, "score": 0, "creation_date": 1565812608, "post_id": 57500874, "comment_id": 101471742, "body": "I want the datepicker to show the placeholder value if the database entry is null"}, {"owner": {"reputation": 71, "user_id": 8793489, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D6e6l.png?s=128&g=1", "display_name": "Eli", "link": "https://stackoverflow.com/users/8793489/eli"}, "reply_to_user": {"reputation": 3, "user_id": 11643153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u8aKv.jpg?s=128&g=1", "display_name": "Simi", "link": "https://stackoverflow.com/users/11643153/simi"}, "edited": false, "score": 0, "creation_date": 1565812968, "post_id": 57500874, "comment_id": 101471869, "body": "Did you verify that the value received in the JSON is actually null?"}], "tags": [], "owner": {"reputation": 71, "user_id": 8793489, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D6e6l.png?s=128&g=1", "display_name": "Eli", "link": "https://stackoverflow.com/users/8793489/eli"}, "is_accepted": false, "score": 0, "last_activity_date": 1565810777, "creation_date": 1565810777, "answer_id": 57500874, "question_id": 57500724, "link": "https://stackoverflow.com/questions/57500724/how-do-you-display-placeholder-which-is-set-as-mm-dd-yyyy-instead-of-1-1-0001/57500874#57500874", "title": "How do you display placeholder which is set as &#39;mm/dd/yyyy&#39; instead of \u201c1/1/0001\u201d in date input fields when date is null?", "body": "<p>I don't think your problem is the placeholder. I'd be willing to bet that the data your front end is receiving has <code>product.EndDate</code> set to 1/1/0001 because of the <code>DateTime</code> type setting that as the default when null.</p>\n\n<p>Depending on what your back end language is you can set the type to be <strong>nullable</strong> to fix this</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 11643153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u8aKv.jpg?s=128&g=1", "display_name": "Simi", "link": "https://stackoverflow.com/users/11643153/simi"}, "edited": false, "score": 0, "creation_date": 1565813031, "post_id": 57500978, "comment_id": 101471896, "body": "I am using ngQuickDate but it&#39;s still returning 1/1/0001 in the front-end form when date is null."}], "tags": [], "owner": {"reputation": 3, "user_id": 4761819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/25hOl.jpg?s=128&g=1", "display_name": "Hossein Kiarsy", "link": "https://stackoverflow.com/users/4761819/hossein-kiarsy"}, "is_accepted": false, "score": 0, "last_activity_date": 1565811348, "creation_date": 1565811348, "answer_id": 57500978, "question_id": 57500724, "link": "https://stackoverflow.com/questions/57500724/how-do-you-display-placeholder-which-is-set-as-mm-dd-yyyy-instead-of-1-1-0001/57500978#57500978", "title": "How do you display placeholder which is set as &#39;mm/dd/yyyy&#39; instead of \u201c1/1/0001\u201d in date input fields when date is null?", "body": "<p>If you used the nqQuickDate library you can easily use the placeHolder attribute to handle null values.\nBut double-check that your null value get from API is in the right format, sometimes null values came as string null ex: date:'null'</p>\n"}], "owner": {"reputation": 3, "user_id": 11643153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u8aKv.jpg?s=128&g=1", "display_name": "Simi", "link": "https://stackoverflow.com/users/11643153/simi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 240, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1565828785, "creation_date": 1565810011, "last_edit_date": 1565828785, "question_id": 57500724, "link": "https://stackoverflow.com/questions/57500724/how-do-you-display-placeholder-which-is-set-as-mm-dd-yyyy-instead-of-1-1-0001", "title": "How do you display placeholder which is set as &#39;mm/dd/yyyy&#39; instead of \u201c1/1/0001\u201d in date input fields when date is null?", "body": "<p>I have a column in my database, of type <code>datetime</code> which may or may not be null. The front-end form should display the date in database(if any) and if it is null it should display <code>mm/dd/yyyy</code> instead of <code>1/1/0001</code> which it does when there are null values in database. So basically if there's a date in the database, it should show the date and if it's null it should return the default datepicker with '<code>mm/dd/yyyy</code>' or 'Select Date'.</p>\n\n<p>My js file looks like:</p>\n\n<pre><code>    $scope.Changes = function (product, value) {    \n        var input =\n            {\n                ProductId: product.ProductId,\n                isActive: value,\n                graceEndDate: product.graceEndDate\n            }\n\n        AdService.updateProducts(input).then(function (response) {\n            if (response &amp;&amp; response.data &amp;&amp; response.data.isSuccessful === true) {\n                DealService.showSuccess('Update successful');\n            } else {\n                DealService.showError('error');\n            }\n            product.isUpdating = false;\n            $scope.loadProducts();\n        }, function (error) {\n            product.isUpdating = false;\n            $scope.loadProducts();\n            DealService.showError(error);\n        });    \n    }\n};\n</code></pre>\n\n<hr>\n\n<p>My HTML looks like this: </p>\n\n<pre><code>&lt;td ng-if=\"product.isActive === true\"&gt;\n  &lt;quick-datepicker type=\"date\" style=\"max-width: 175px\"\n                    placeholder=\"mm/dd/yyyy\" \n                    ng-model=\"product.EndDate\"\n                    disable-timepicker=\"true\"\n                    ng-change=\"saveChanges(product, true)\"&gt;\n  &lt;/quick-datepicker&gt; \n&lt;/td&gt;\n</code></pre>\n"}, {"tags": ["javascript", "regex", "filter"], "comments": [{"owner": {"reputation": 1143, "user_id": 3903479, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yVZsk.png?s=128&g=1", "display_name": "GammaGames", "link": "https://stackoverflow.com/users/3903479/gammagames"}, "edited": false, "score": 3, "creation_date": 1565810103, "post_id": 57500712, "comment_id": 101470866, "body": "Like this? <code>test1.filter(item =&gt; !&#47;q&#47;.test(item))</code>"}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 2, "creation_date": 1565810364, "post_id": 57500712, "comment_id": 101470964, "body": "no need for a regex, just use <code>!item.includes(`q`)</code>"}, {"owner": {"reputation": 4916, "user_id": 1507691, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/NRfxQ.jpg?s=128&g=1", "display_name": "Zak", "link": "https://stackoverflow.com/users/1507691/zak"}, "edited": false, "score": 0, "creation_date": 1565810663, "post_id": 57500712, "comment_id": 101471073, "body": "If you <i>really</i> wanted to use <code>regex</code> which isn&#39;t necessary in this case --  You could use --&gt; <code>\\b\\w*[Qq]\\w*\\b</code> --&gt; <a href=\"https://regex101.com/r/zoUVm8/1\" rel=\"nofollow noreferrer\">regex101.com/r/zoUVm8/1</a>"}, {"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "reply_to_user": {"reputation": 1143, "user_id": 3903479, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yVZsk.png?s=128&g=1", "display_name": "GammaGames", "link": "https://stackoverflow.com/users/3903479/gammagames"}, "edited": false, "score": 1, "creation_date": 1565810747, "post_id": 57500712, "comment_id": 101471105, "body": "As an aside to @GammaGames, if you want it to be case insensitive use <code>!&#47;q&#47;i.test(item)</code> - the <code>i</code> flag will make it so that it ignores case."}, {"owner": {"reputation": 21514, "user_id": 211627, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "JDB still remembers Monica", "link": "https://stackoverflow.com/users/211627/jdb-still-remembers-monica"}, "edited": false, "score": 0, "creation_date": 1565810832, "post_id": 57500712, "comment_id": 101471127, "body": "I love regex, but be very thoughtful before jumping to them. As the old saying goes, <i>&quot;Some people, when confronted with a problem, think &quot;I know, I&#39;ll use regular expressions.&quot; Now they have two problems.&quot;</i>"}, {"owner": {"reputation": 3, "user_id": 11928923, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215191056436457/picture?type=large", "display_name": "Chris", "link": "https://stackoverflow.com/users/11928923/chris"}, "edited": false, "score": 1, "creation_date": 1565811105, "post_id": 57500712, "comment_id": 101471234, "body": "Thank You.. I tried so long, and so many ways unsuccessfully.."}], "answers": [{"tags": [], "owner": {"reputation": 361, "user_id": 9471313, "user_type": "registered", "profile_image": "https://graph.facebook.com/361221027694489/picture?type=large", "display_name": "Andy", "link": "https://stackoverflow.com/users/9471313/andy"}, "is_accepted": true, "score": 4, "last_activity_date": 1565810270, "creation_date": 1565810270, "answer_id": 57500768, "question_id": 57500712, "link": "https://stackoverflow.com/questions/57500712/is-it-possible-to-take-out-a-word-with-regular-expressions-using-the-filter-meth/57500768#57500768", "title": "Is it possible to take out a word with regular expressions using the filter method in javascript?", "body": "<p>You can use @GammaGames way or do this:</p>\n\n<pre><code>test1.filter(item =&gt; !item.includes(\"q\"))\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11928923, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215191056436457/picture?type=large", "display_name": "Chris", "link": "https://stackoverflow.com/users/11928923/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 57500768, "answer_count": 1, "score": 0, "last_activity_date": 1565810270, "creation_date": 1565809978, "question_id": 57500712, "link": "https://stackoverflow.com/questions/57500712/is-it-possible-to-take-out-a-word-with-regular-expressions-using-the-filter-meth", "title": "Is it possible to take out a word with regular expressions using the filter method in javascript?", "body": "<p>My problem is that I can not use a loop for this problem. I'm trying to discard all words that have \"q\". I can only use filter, map or reduce for this problem. If I put quit in the filter, it does what I want it to do but I have to have it work for all words containing q. </p>\n\n<p>I tried replacing quit with a regex.I even tried the exact word quit in the regular expression.</p>\n\n<pre><code>test1 = [\"stop\", \"quit\", \"exit\"];\nfunction lengthOfNonQWords (test1) {\n    test = test1.filter(x =&gt; x != \"quit\");\n    str = test.toString();\n    strNoSpace = str.replace(/,/g, \"\");\n    console.log(strNoSpace.length);\n}\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 6142, "user_id": 8732818, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WopVT.jpg?s=128&g=1", "display_name": "Calvin Nunes", "link": "https://stackoverflow.com/users/8732818/calvin-nunes"}, "edited": false, "score": 3, "creation_date": 1565809979, "post_id": 57500675, "comment_id": 101470821, "body": "A little unclear what you need here... can you show an example value for <code>feature.properties</code> ? And based on the values you show on snippet for <code>param1</code>, <code>param2</code>, <code>param3</code>, what does the function should output?"}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 2039293, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d75a084fd9a2597c1b89a424aa960c28?s=128&d=identicon&r=PG", "display_name": "Matthieu", "link": "https://stackoverflow.com/users/2039293/matthieu"}, "edited": false, "score": 0, "creation_date": 1565810733, "post_id": 57500771, "comment_id": 101471096, "body": "Thank you very much that&#39;s exactly what I was looking for !"}], "tags": [], "owner": {"reputation": 4740, "user_id": 1233305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6svay.jpg?s=128&g=1", "display_name": "David784", "link": "https://stackoverflow.com/users/1233305/david784"}, "is_accepted": true, "score": 1, "last_activity_date": 1565810277, "creation_date": 1565810277, "answer_id": 57500771, "question_id": 57500675, "link": "https://stackoverflow.com/questions/57500675/return-a-different-code-depending-on-the-value-of-a-variable/57500771#57500771", "title": "Return a different code depending on the value of a variable", "body": "<p>If i understand the question correctly, you'd add a nested or, like this:</p>\n\n<pre><code>function(feature, param1, param2, param3){\n\n    return (\n        (param1==='-999' // bypass test1 if param1 is '-999'\n          || feature.properties.parameter1 == param1) &amp;&amp; // test 1\n        feature.properties.parameter2 == param2 &amp;&amp; // test 2\n        feature.properties.parameter3 == param3    // test 3\n    )   \n\n}\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 2039293, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d75a084fd9a2597c1b89a424aa960c28?s=128&d=identicon&r=PG", "display_name": "Matthieu", "link": "https://stackoverflow.com/users/2039293/matthieu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "closed_date": 1565810626, "accepted_answer_id": 57500771, "answer_count": 1, "score": 0, "last_activity_date": 1565810277, "creation_date": 1565809767, "question_id": 57500675, "link": "https://stackoverflow.com/questions/57500675/return-a-different-code-depending-on-the-value-of-a-variable", "closed_reason": "Needs details or clarity", "title": "Return a different code depending on the value of a variable", "body": "<p>In a function I want to return a different code depending on the value of a variable.</p>\n\n<p>How to do that if the value of param1 == '-999' we do not test condition 1 (test 1).\nI could do a test for each param but I have 12 that would be so (12 * 12 = 144 test).\nThis is for filter system, the value of param is equal to '-999' when the filter of this parameter is not checked. So we do not want to test this parameter.</p>\n\n<pre><code>var param1 = 'boy'; // value can be 'girl','-999'\nvar param2 = '12'; // value can be '20','-999'\nvar param3 = 'red'; // value can be 'blue','-999'\n\nfunction(feature, param1, param2, param3){\n\n    return (\n        feature.properties.parameter1 == param1 &amp;&amp; // test 1\n        feature.properties.parameter2 == param2 &amp;&amp; // test 2\n        feature.properties.parameter3 == param3    // test 3\n    )   \n\n}\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "intellij-idea", "webstorm", "live-templates"], "answers": [{"tags": [], "owner": {"reputation": 72396, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "is_accepted": false, "score": 4, "last_activity_date": 1565816687, "creation_date": 1565816687, "answer_id": 57502042, "question_id": 57500673, "link": "https://stackoverflow.com/questions/57500673/webstorm-live-templates-how-to-create-an-export-default-from-live-template/57502042#57502042", "title": "WebStorm live templates: how to create an &#39;export default from&#39; live template / How to get current folder name?", "body": "<p>The following expression should do the thing:</p>\n\n<pre><code>groovyScript(\"_editor.getVirtualFile().getParent().getName()\")\n</code></pre>\n\n<p>it works fine for me in Intellij IDEA, but not in Webstorm, because Groovy plugin is not bundled and can't be added to it:( \nPlease follow <a href=\"https://youtrack.jetbrains.com/issue/WEB-28139\" rel=\"nofollow noreferrer\">WEB-28139</a> for updates</p>\n"}], "owner": {"reputation": 547, "user_id": 10467064, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JcXmefj2Sb0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUGRm3o8ZXUvEfn7wawy7xzK3Ti3g/mo/photo.jpg?sz=128", "display_name": "Michal Kurz", "link": "https://stackoverflow.com/users/10467064/michal-kurz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 236, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1565816687, "creation_date": 1565809763, "last_edit_date": 1565810436, "question_id": 57500673, "link": "https://stackoverflow.com/questions/57500673/webstorm-live-templates-how-to-create-an-export-default-from-live-template", "title": "WebStorm live templates: how to create an &#39;export default from&#39; live template / How to get current folder name?", "body": "<p>I am working on React projects, where components have the following file structure:</p>\n\n<pre><code>ComponentName/\n\u251c\u2500\u2500 ComponentName.jsx\n\u251c\u2500\u2500 possiblySomeOtherFiles.js/jsx\n\u2514\u2500\u2500 index.js\n</code></pre>\n\n<p>and <em>index.js</em> reexports ComponentName.jsx like so:</p>\n\n<pre><code>import ComponentName from './ComponentName'\n\nexport default ComponentName\n</code></pre>\n\n<p>I want to create a <a href=\"https://www.jetbrains.com/help/phpstorm/using-live-templates.html\" rel=\"nofollow noreferrer\">live template</a> for this like so:</p>\n\n<pre><code>import $COMPONENT_NAME$ from './$COMPONENT_NAME$'\n\nexport default $COMPONENT_NAME$\n</code></pre>\n\n<p>How do I get the value of <code>$COMPONENT_NAME$</code>? I would like to get it from the name of the current directory, but can't figure out how to do that.</p>\n\n<p>I tried setting the variable to <code>groovyScript(\"_editor.getVirtualFile().getPath()\")</code> and <code>groovyScript(\"new File('.').absolutePath\")</code> as hinted <a href=\"https://stackoverflow.com/questions/38488564/current-file-path-in-live-template\">here</a>, but both return:</p>\n\n<pre><code>groovy\n\n/\nlang / GroovyShell\n</code></pre>\n\n<p>Is this even possible as of now?</p>\n"}, {"tags": ["javascript", "pug"], "comments": [{"owner": {"reputation": 1013, "user_id": 11664469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e25ff15ab546620ddda37e3dcfa2d145?s=128&d=identicon&r=PG&f=1", "display_name": "Maksym Petrenko", "link": "https://stackoverflow.com/users/11664469/maksym-petrenko"}, "edited": false, "score": 0, "creation_date": 1565809957, "post_id": 57500614, "comment_id": 101470810, "body": "<code>id</code> must be unique on the page"}, {"owner": {"reputation": 1013, "user_id": 11664469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e25ff15ab546620ddda37e3dcfa2d145?s=128&d=identicon&r=PG&f=1", "display_name": "Maksym Petrenko", "link": "https://stackoverflow.com/users/11664469/maksym-petrenko"}, "edited": false, "score": 0, "creation_date": 1565810027, "post_id": 57500614, "comment_id": 101470839, "body": "and <code>document.querySelector(&#39;#approve&#39;);</code> return only first element by this selector"}], "answers": [{"tags": [], "owner": {"reputation": 1149, "user_id": 912046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oo5pQ.png?s=128&g=1", "display_name": "el-teedee", "link": "https://stackoverflow.com/users/912046/el-teedee"}, "is_accepted": false, "score": 0, "last_activity_date": 1565810361, "creation_date": 1565810361, "answer_id": 57500795, "question_id": 57500614, "link": "https://stackoverflow.com/questions/57500614/unable-to-iterate-into-hidden-value-field/57500795#57500795", "title": "Unable to iterate into hidden value field", "body": "<p>Can you add the generated DOM?<br>\nMaybe a problem with having multiple forms, and input with same id (<code>#approve</code> and <code>#custId</code>). Then your JS may only initialized on first Form.</p>\n\n<p>Try with unique ids, then your JS has to define your <code>approveSellerTest</code> event handler to work with <strong>any</strong> forms. You can use CSS classes instead of ids.</p>\n\n<p>(not a pug user here)</p>\n"}, {"tags": [], "owner": {"reputation": 1013, "user_id": 11664469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e25ff15ab546620ddda37e3dcfa2d145?s=128&d=identicon&r=PG&f=1", "display_name": "Maksym Petrenko", "link": "https://stackoverflow.com/users/11664469/maksym-petrenko"}, "is_accepted": false, "score": 1, "last_activity_date": 1565810986, "last_edit_date": 1565810986, "creation_date": 1565810639, "answer_id": 57500838, "question_id": 57500614, "link": "https://stackoverflow.com/questions/57500614/unable-to-iterate-into-hidden-value-field/57500838#57500838", "title": "Unable to iterate into hidden value field", "body": "<p>I think two problems here:</p>\n\n<p>1) The value of each id attribute must be unique in a document.</p>\n\n<p>and better use a <code>submit</code> instead <code>button</code> in forms</p>\n\n<pre><code>td \n  form(data-id=\"approve\")\n    input(type=\"hidden\" id=\"custId-${user._id}\" name=\"custId\" value=`${user._id}`)       \n    submit.btn.btn-primary #{user._id}\n</code></pre>\n\n<p>2) <code>document.querySelector('#approve')</code> return only first element by this selector, need to use a <code>document.querySelectorAll</code>:</p>\n\n<pre><code>const approveForms = document.querySelectorAll('[data-id=\"approve\"]');\n\nif (approveForms &amp;&amp; approveForms.length) {\n  Array.prototype.forEach.call(approveBtns, function(form) {\n    form.addEventListener('submit', e =&gt; {\n        approveSellerTest();\n        e.preventDefault();\n    });\n  });\n};\n\n</code></pre>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll</a></p>\n\n<p>Here I answered why need to use <code>Array.prototype.forEach.call</code> for elements which we get from <code>querySelectorAll</code> method</p>\n\n<p><a href=\"https://stackoverflow.com/questions/57419277/array-prototype-filter-callforms-functionform-what-is-this-doing/57420594#57420594\">Array.prototype.filter.call(forms, function(form) What is this doing?</a></p>\n"}], "owner": {"reputation": 1, "user_id": 10542317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15546bd0daa2f7cd38154622173d3c7c?s=128&d=identicon&r=PG&f=1", "display_name": "Tay C. J.", "link": "https://stackoverflow.com/users/10542317/tay-c-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1565810986, "creation_date": 1565809462, "question_id": 57500614, "link": "https://stackoverflow.com/questions/57500614/unable-to-iterate-into-hidden-value-field", "title": "Unable to iterate into hidden value field", "body": "<p>I am using Pug templating engine and tried to iterate Users array into a form with hidden input value.\nWhen tried to retrieve the value via document.getElementById('custId').value - I can only console.log the first value successfully, the second and other values are not even appearing in the console.</p>\n\n<p>iteration is working fine with a tag. I can console.log all values.</p>\n\n<pre><code>a(href=`/approve-user/${user._id}`) by viewroute\n</code></pre>\n\n<p>but with hidden input </p>\n\n<pre><code>input(type=\"hidden\" id=\"custId\" name=\"custId\" value=`${user._id}`)       \nbutton.btn.btn-primary#approve-btn #{user._id}\n</code></pre>\n\n<p>I am only able to console.log the first hidden value of user._id.</p>\n\n<p>PUG file:</p>\n\n<pre><code>block content\n    .container\n        h1= title      \n        .content\n        table.table\n            thead.thead-light\n                tr\n                    th(scope=\"col\") Name\n                    th(scope=\"col\") Email\n                    th(scope=\"col\") Tier\n                    th(scope=\"col\") Approve via viewRoute\n                    th(scope=\"col\") Approve via Axios\n            tbody\n            each user in users\n                tr\n                    td= user.name\n                    td= user.email\n                    td= user._id       \n                    td \n                        a(href=`/approve-user/${user._id}`) by viewroute\n                    td \n                        form#approve\n                            input(type=\"hidden\" id=\"custId\" name=\"custId\" value=`${user._id}`)       \n                            button.btn.btn-primary#approve-btn #{user._id}\n                    tr\n\n        p.text-warning.text-center= msg      \n</code></pre>\n\n<p>JS file:</p>\n\n<pre><code>const approveSellerTest = () =&gt; {\n    let id = document.getElementById('custId').value;\n    console.log('From approveSellerTest, hidden value: ', id);     \n};\n\nconst approveBtn = document.querySelector('#approve');\nif (approveBtn) {\n\n    approveBtn.addEventListener('click', e =&gt; {\n        e.preventDefault();\n        approveSellerTest();\n    });\n};\n</code></pre>\n\n<p>Refer to attached output screen.</p>\n\n<p><a href=\"https://i.stack.imgur.com/zAOlT.png\" rel=\"nofollow noreferrer\">Screenshot of output</a></p>\n\n<p>If I click on the first blue button, console.log displays the first user._id on the console. However, if I click on the second or third blue button, the console doesn't display anything, not even undefined.</p>\n\n<p>Expected result:\nClicking on 2nd blue button should display in console the user._id of 5d544fa7578a7e23eb268b2b and click on 3rd blue button, should display in console the user._id of 5d5457eb27dff0257c016ace</p>\n"}, {"tags": ["javascript", "node.js", "express", "nginx", "socket.io"], "answers": [{"comments": [{"owner": {"reputation": 5235, "user_id": 7910454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/3Dlqb.jpg?s=128&g=1", "display_name": "leonheess", "link": "https://stackoverflow.com/users/7910454/leonheess"}, "edited": false, "score": 0, "creation_date": 1565814864, "post_id": 57501473, "comment_id": 101472610, "body": "I switched out 127.0.0.1 for the domain name as there are multiple server-blocks configured and it works now after hours of debugging. Thank you so much!"}, {"owner": {"reputation": 5235, "user_id": 7910454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/3Dlqb.jpg?s=128&g=1", "display_name": "leonheess", "link": "https://stackoverflow.com/users/7910454/leonheess"}, "edited": false, "score": 0, "creation_date": 1565853966, "post_id": 57501473, "comment_id": 101480407, "body": "You can copy your answer to <a href=\"https://serverfault.com/q/979298/476207\">here</a> and I will accept it as well"}], "tags": [], "owner": {"reputation": 556, "user_id": 11767509, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7kwFxrwmnig/AAAAAAAAAAI/AAAAAAAAAAo/adXOZvvSv5c/photo.jpg?sz=128", "display_name": "Edward", "link": "https://stackoverflow.com/users/11767509/edward"}, "is_accepted": true, "score": 1, "last_activity_date": 1565813858, "creation_date": 1565813858, "answer_id": 57501473, "question_id": 57500605, "link": "https://stackoverflow.com/questions/57500605/why-is-my-nginx-socket-io-express-setup-not-working-over-https/57501473#57501473", "title": "Why is my Nginx-Socket.io-Express-Setup not working over HTTPS?", "body": "<p>I assume you want to use https through your Nginx proxy.</p>\n\n<p>In that case you should be connecting directly to your Nginx server and <strong>not</strong> your Node instance.</p>\n\n<pre><code>var socket = require('socket.io-client');\nsocket.connect('https://127.0.0.1', { secure: true, rejectUnauthorized: true });\n</code></pre>\n\n<p>Replace \"127.0.0.1\" with your actual Nginx server if that's not the correct address. If your SSl certificates are invalid/self signed, set rejectUnauthorized to false.</p>\n"}], "owner": {"reputation": 5235, "user_id": 7910454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/3Dlqb.jpg?s=128&g=1", "display_name": "leonheess", "link": "https://stackoverflow.com/users/7910454/leonheess"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 1, "accepted_answer_id": 57501473, "answer_count": 1, "score": 0, "last_activity_date": 1565814442, "creation_date": 1565809421, "last_edit_date": 1565814442, "question_id": 57500605, "link": "https://stackoverflow.com/questions/57500605/why-is-my-nginx-socket-io-express-setup-not-working-over-https", "title": "Why is my Nginx-Socket.io-Express-Setup not working over HTTPS?", "body": "<p>Locally it is working perfectly but as soon as I put it behind the Nginx reverse-proxy I get this in the Chrome Developer Console:</p>\n\n<pre><code>GET https://127.0.0.1:8443/socket.io/?EIO=3&amp;transport=polling&amp;t=MoHVP61 net::ERR_SSL_PROTOCOL_ERROR\n</code></pre>\n\n<p><strong>Nginx configuration:</strong></p>\n\n<pre><code>upstream io_nodes {\n  ip_hash;\n  server 127.0.0.1:8443;\n}\n\nmap $sent_http_content_type $expires {\n    default                    off;\n    text/html                  epoch;\n    text/css                   max;\n    application/javascript     max;\n    ~image/                    max;\n}\n\nserver {\n    listen       80;\n    listen       [::]:80;\n    listen       443 ssl http2;\n    listen       [::]:443 ssl http2;\n    server_name  xxxxxxxxxx;\n    expires      $expires;\n\n    large_client_header_buffers 8 32k;\n\n    error_page   404              /404.html;\n    error_page   500 502 503 504  /50x.html;\n\n    location / {\n        proxy_pass http://io_nodes;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection \"upgrade\";\n        proxy_http_version 1.1;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header Host $host;\n    }\n\n    location /socket.io {\n        proxy_pass http://io_nodes;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection \"upgrade\";\n        proxy_http_version 1.1;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header Host $host;\n    }\n\n    location = /404.html {\n        root   /usr/share/nginx/html;\n    }   \n    location = /50x.html {\n        root   /usr/share/nginx/html;\n    }\n\n    ssl_certificate      /etc/letsencrypt/live/thewthr.app/fullchain.pem;\n    ssl_certificate_key  /etc/letsencrypt/live/thewthr.app/privkey.pem;\n    include              /etc/letsencrypt/options-ssl-nginx.conf;\n    ssl_dhparam          /etc/letsencrypt/ssl-dhparams.pem;\n\n    if ($scheme != \"https\") {\n        return 301 https://$host$request_uri;\n    }\n}\n</code></pre>\n\n<p><strong>Socket.io Backend:</strong></p>\n\n<pre><code>const express = require('express');\nconst app = express();\nconst server = require('http').Server(app);\nconst io = require('socket.io')(server);\n\nserver.listen(process.env.PORT, () =&gt; console.log(`Express running \u2192 PORT ${server.address().port}`));\n\nio.on('connection', () =&gt; console.log(`Socket.io running \u2192 PORT ${server.address().port}`));\n</code></pre>\n\n<p><strong>Socket.io Client:</strong></p>\n\n<pre><code>let socket = io.connect(`127.0.0.1:8443`);\n</code></pre>\n"}, {"tags": ["javascript", "angular"], "comments": [{"owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "edited": false, "score": 0, "creation_date": 1565809637, "post_id": 57500603, "comment_id": 101470701, "body": "Can you share the code of app-input-filed component?"}, {"owner": {"reputation": 939, "user_id": 6449592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb076a7006291c56553180c24da280f3?s=128&d=identicon&r=PG&f=1", "display_name": "sagat", "link": "https://stackoverflow.com/users/6449592/sagat"}, "edited": false, "score": 0, "creation_date": 1565809738, "post_id": 57500603, "comment_id": 101470736, "body": "The user shouldnt be able to submit the form if its not valid. Therefore u should disbale the submitbutton until the form ist valid. Also check in the component if the form is valid. And do this: <code>*ngIf=&quot;inputElement.errors &amp;&amp; (inputElement.touched || inputElement.dirty)&quot;</code>"}, {"owner": {"reputation": 23, "user_id": 4129633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6684505cd77420a21b36bd94706eba76?s=128&d=identicon&r=PG&f=1", "display_name": "cncDAni3", "link": "https://stackoverflow.com/users/4129633/cncdani3"}, "edited": false, "score": 0, "creation_date": 1565810013, "post_id": 57500603, "comment_id": 101470835, "body": "Sure, I can add this logic to the submit button, but disabling the submit is quite unfriendly. How should the user know what he missed? (&quot;Take a * to a required fields&quot; - sure.. but raise an error message in that case should be the best!)  &quot;Also check in the component if the form is valid&quot; &lt;-- that is what I want, but how can I do that? Is the &quot;dirty&quot; flag do this trick? :O"}, {"owner": {"reputation": 939, "user_id": 6449592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb076a7006291c56553180c24da280f3?s=128&d=identicon&r=PG&f=1", "display_name": "sagat", "link": "https://stackoverflow.com/users/6449592/sagat"}, "edited": false, "score": 0, "creation_date": 1565811309, "post_id": 57500603, "comment_id": 101471298, "body": "does the parent form show invalid if the input element in ur component is invalid? Or is this what u wanna do?"}, {"owner": {"reputation": 23, "user_id": 4129633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6684505cd77420a21b36bd94706eba76?s=128&d=identicon&r=PG&f=1", "display_name": "cncDAni3", "link": "https://stackoverflow.com/users/4129633/cncdani3"}, "edited": false, "score": 0, "creation_date": 1565811965, "post_id": 57500603, "comment_id": 101471504, "body": "My form knows that it contains invalid fields, yes. It has the loginForm.form.valid property which is false by default (since everything is empty). I want to tell the component, that I tried to submit my form, and it should now display the error message."}, {"owner": {"reputation": 939, "user_id": 6449592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb076a7006291c56553180c24da280f3?s=128&d=identicon&r=PG&f=1", "display_name": "sagat", "link": "https://stackoverflow.com/users/6449592/sagat"}, "edited": false, "score": 0, "creation_date": 1565812861, "post_id": 57500603, "comment_id": 101471834, "body": "I would definetly try to use reactive forms. With reactive forms this would be easier. Because u have full control of the form, including validation, change events and its easy accessible in the component."}, {"owner": {"reputation": 23, "user_id": 4129633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6684505cd77420a21b36bd94706eba76?s=128&d=identicon&r=PG&f=1", "display_name": "cncDAni3", "link": "https://stackoverflow.com/users/4129633/cncdani3"}, "edited": false, "score": 0, "creation_date": 1565884298, "post_id": 57500603, "comment_id": 101493044, "body": "I&#39;m new with Angular, not familiar with that yet, but I&#39;ll try reactive forms as well, thanks. I added a very simple example to show what I want: <a href=\"https://stackblitz.com/edit/angular-rwenca\" rel=\"nofollow noreferrer\">link</a> - So there, I passed the form, so I could just simply say &quot;form.submitted&quot;. But in this example, I passed the form to the component, what is seems unneccessary to do with every component I have. I want to somehow avoid that."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 4129633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6684505cd77420a21b36bd94706eba76?s=128&d=identicon&r=PG&f=1", "display_name": "cncDAni3", "link": "https://stackoverflow.com/users/4129633/cncdani3"}, "edited": false, "score": 0, "creation_date": 1565812069, "post_id": 57500875, "comment_id": 101471543, "body": "Sure. The question is, how can the component knows that information inside the form?"}], "tags": [], "owner": {"reputation": 1518, "user_id": 10816461, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6XNsrfhxp_c/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hhVp73I4eIN1MbnU6G4TmjkKpozA/mo/photo.jpg?sz=128", "display_name": "Alex Vovchuk", "link": "https://stackoverflow.com/users/10816461/alex-vovchuk"}, "is_accepted": false, "score": 0, "last_activity_date": 1565810778, "creation_date": 1565810778, "answer_id": 57500875, "question_id": 57500603, "link": "https://stackoverflow.com/questions/57500603/determinate-if-a-form-submitted-inside-a-component/57500875#57500875", "title": "Determinate if a form submitted, inside a component", "body": "<p>Angular form has property:</p>\n\n<pre><code>submitted: boolean\n</code></pre>\n\n<p>that returns whether the form submission has been triggered.</p>\n\n<p><a href=\"https://angular.io/api/forms/NgForm#properties\" rel=\"nofollow noreferrer\">https://angular.io/api/forms/NgForm#properties</a></p>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 4129633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6684505cd77420a21b36bd94706eba76?s=128&d=identicon&r=PG&f=1", "display_name": "cncDAni3", "link": "https://stackoverflow.com/users/4129633/cncdani3"}, "is_accepted": true, "score": 0, "last_activity_date": 1565946884, "last_edit_date": 1565946884, "creation_date": 1565945923, "answer_id": 57521704, "question_id": 57500603, "link": "https://stackoverflow.com/questions/57500603/determinate-if-a-form-submitted-inside-a-component/57521704#57521704", "title": "Determinate if a form submitted, inside a component", "body": "<p>Got my solution after all!</p>\n\n<p>You can inject the parent's form in your component's constructor:</p>\n\n<pre><code>myForm:NgForm;\n\nconstructor(@Host() parent:NgForm) {\n    this.myForm = parent;\n}\n</code></pre>\n\n<p>With this, you can make your condition in the component's HTML:</p>\n\n<pre><code>&lt;div *ngIf=\"inputElement.errors &amp;&amp; (inputElement.touched || myForm.submitted)\"&gt;\n    ...\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 4129633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6684505cd77420a21b36bd94706eba76?s=128&d=identicon&r=PG&f=1", "display_name": "cncDAni3", "link": "https://stackoverflow.com/users/4129633/cncdani3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 57521704, "answer_count": 2, "score": 0, "last_activity_date": 1565946884, "creation_date": 1565809417, "last_edit_date": 1565884559, "question_id": 57500603, "link": "https://stackoverflow.com/questions/57500603/determinate-if-a-form-submitted-inside-a-component", "title": "Determinate if a form submitted, inside a component", "body": "<p>I have a template-driven form, with a custom component inside what should handle a normal text input, and display error messages.</p>\n\n<pre><code>&lt;form name=\"loginForm\" #loginForm=\"ngForm\"&gt;\n</code></pre>\n\n<p>I know, my form has the name \"loginForm\". Inside I use my component:</p>\n\n<pre><code>&lt;app-input-field2\n    #loginPagePassField=\"ngModel\"\n    name=\"password\"\n    [(ngModel)]=\"user.password\"\n    required=\"true\"\n    type=\"password\"\n    placeholderKey=\"loginPage.input.password\"&gt;\n&lt;/app-input-field2&gt;\n</code></pre>\n\n<p>(ControlValueAccessor implemented if it's matter...)\nIt has the attribute \"required\", and inside, I display an error message when the user does not fill this field. But when should I display it? First, when user touched, but did not filled it, so inside a component, there is:</p>\n\n<pre><code>&lt;input\n    #inputElement=\"ngModel\"\n    [(ngModel)]=\"inputValue\"\n    ....\n&lt;div *ngIf=\"inputElement.errors &amp;&amp; inputElement.touched\"&gt;\n    ((display error))\n&lt;/div&gt;\n</code></pre>\n\n<p>It's works all fine! But... I should display this error even after the user tried to submit the form, but the field is untouched.\nWhat should I do to get the best, automatic version?\n...I can pass through the form's isSubmitted flag to a component, but this should be done in every occurrence.\n...Maybe I can assume that the form's template name is always something like \"myForm\", so I can make query about it, but it's quite ridiculous.\nCan I reach the parent form's state somehow  without knowing its template name?</p>\n\n<p>(I should use Angular5)</p>\n\n<p>A simple example: <a href=\"https://stackblitz.com/edit/angular-rwenca\" rel=\"nofollow noreferrer\">link</a> -  here, I passed the form, so I could just simply say \"form.submitted\".  this seems unneccessary to do with every component I have. I want to somehow avoid that.</p>\n"}, {"tags": ["javascript", "reactjs", "react-context", "react-portal"], "answers": [{"tags": [], "owner": {"reputation": 9382, "user_id": 1168661, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/AU4We.jpg?s=128&g=1", "display_name": "aug", "link": "https://stackoverflow.com/users/1168661/aug"}, "is_accepted": true, "score": 1, "last_activity_date": 1595362469, "last_edit_date": 1595362469, "creation_date": 1595362150, "answer_id": 63022320, "question_id": 57500580, "link": "https://stackoverflow.com/questions/57500580/how-do-react-portals-preserve-context-from-providers-in-a-different-subtree/63022320#63022320", "title": "How do React Portals preserve Context from Providers in a different subtree?", "body": "<p>I haven't received an answer for quite a while -- I was hoping to dig into React's code but haven't had a chance (hoping to update my answer one day), but in a nutshell, how this works is behind the scenes, React is maintaining it's own component tree (you may have heard to this referred to as the virtual DOM) and within that, the components that are created will still live in the Provider Subtree in the virtual DOM.</p>\n<p>This <a href=\"https://dev.to/mickmister/sharing-context-with-react-portals-4dki\" rel=\"nofollow noreferrer\">article</a> talks a little about it here</p>\n<blockquote>\n<p>Instead of making two calls to ReactDOM.render(), we create two portals and render both under our top-level Provider. ComponentA and ComponentB will be rendered in two different points in the DOM, but they share the same React tree, thanks to portals.</p>\n</blockquote>\n"}], "owner": {"reputation": 9382, "user_id": 1168661, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/AU4We.jpg?s=128&g=1", "display_name": "aug", "link": "https://stackoverflow.com/users/1168661/aug"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 611, "favorite_count": 0, "accepted_answer_id": 63022320, "answer_count": 1, "score": 3, "last_activity_date": 1595362469, "creation_date": 1565809293, "question_id": 57500580, "link": "https://stackoverflow.com/questions/57500580/how-do-react-portals-preserve-context-from-providers-in-a-different-subtree", "title": "How do React Portals preserve Context from Providers in a different subtree?", "body": "<p>So an interesting and amazing property that Portals solve is preserving Context from a Provider even if your component needs to be rendered somewhere else. If you wrap a component subtree with a ContextProvider, any component rendered in that subtree will have access to the context values. </p>\n\n<p>In turn, if you rendered something outside of the subtree, it wouldn't have access to that Context. React Portals solves this though so if that if you wanted to render something outside of the subtree, you can do it from within that same subtree. I think the <a href=\"https://reactjs.org/docs/portals.html#event-bubbling-through-portals\" rel=\"nofollow noreferrer\">React docs touch on this a little</a>:</p>\n\n<blockquote>\n  <p>Features like context work exactly the same regardless of whether the child is a portal, as the portal still exists in the React tree regardless of position in the DOM tree.</p>\n</blockquote>\n\n<p>I guess I'm not conceptualizing how this actually works. How is it that a a React Portal can have access to the Context without requiring to be rendered in the same subtree? It sounds like behind the scenes, Portals are part of the \"React Tree\"? So there must be some fancy \"pass information and then render the portal logic\"? To be clear about my question</p>\n\n<p>How exactly do Portals work in preserving access to context values? </p>\n"}, {"tags": ["javascript", "node.js", "http", "axios"], "comments": [{"owner": {"reputation": 13413, "user_id": 2184584, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/RQRat.jpg?s=128&g=1", "display_name": "Christopher Francisco", "link": "https://stackoverflow.com/users/2184584/christopher-francisco"}, "edited": false, "score": 0, "creation_date": 1565809495, "post_id": 57500572, "comment_id": 101470636, "body": "These errors are not from axios but rather a HTTP connection error. The best place to look at would be at Node&#39;s <a href=\"https://nodejs.org/api/http.html\" rel=\"nofollow noreferrer\">HTTP module</a>.  However, these errors are at the network layer, not application layer. Any particular reason why would you want to catch them?"}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1565809499, "post_id": 57500572, "comment_id": 101470637, "body": "these are not axios-specific, they&#39;re networking errors specific to Node.js (the errors themselves are pretty universal, but the error code and string is generated by Node.js). if you run into one of these, something has gone <i>properly</i> wrong, like your network device getting disabled."}, {"owner": {"reputation": 1673, "user_id": 3186314, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Pa8ID.png?s=128&g=1", "display_name": "Abk", "link": "https://stackoverflow.com/users/3186314/abk"}, "edited": false, "score": 0, "creation_date": 1565809946, "post_id": 57500572, "comment_id": 101470804, "body": "Why not just this: <code>catch(error =&gt; {if (error.response) {&#47;&#47;response error} else if (error.request) {&#47;&#47;request error} else {&#47;&#47;other error (error.message)}})</code>"}, {"owner": {"reputation": 51505, "user_id": 741099, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9a7101fe3ba50e621e91ee1edf9d27bb?s=128&d=identicon&r=PG", "display_name": "Nyxynyx", "link": "https://stackoverflow.com/users/741099/nyxynyx"}, "reply_to_user": {"reputation": 13413, "user_id": 2184584, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/RQRat.jpg?s=128&g=1", "display_name": "Christopher Francisco", "link": "https://stackoverflow.com/users/2184584/christopher-francisco"}, "edited": false, "score": 0, "creation_date": 1565810354, "post_id": 57500572, "comment_id": 101470958, "body": "@ChristopherFrancisco I want to show the user a relevant error message when there is problem connecting to an API endpoint, differentiating between API service being down, user having network connectivity problems, or an unauthorized API request. Instead of a generic <i>Unable to connect.</i> error."}, {"owner": {"reputation": 51505, "user_id": 741099, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9a7101fe3ba50e621e91ee1edf9d27bb?s=128&d=identicon&r=PG", "display_name": "Nyxynyx", "link": "https://stackoverflow.com/users/741099/nyxynyx"}, "reply_to_user": {"reputation": 1673, "user_id": 3186314, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Pa8ID.png?s=128&g=1", "display_name": "Abk", "link": "https://stackoverflow.com/users/3186314/abk"}, "edited": false, "score": 0, "creation_date": 1565810458, "post_id": 57500572, "comment_id": 101471000, "body": "@Abk I will like to show a more specific and human-friendly error message to the user so the problem can be easily identified. Hence I will like to catch the various network errors."}, {"owner": {"reputation": 2296, "user_id": 4209136, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000376796894/picture?type=large", "display_name": "bigless", "link": "https://stackoverflow.com/users/4209136/bigless"}, "edited": false, "score": 0, "creation_date": 1565840993, "post_id": 57500572, "comment_id": 101477667, "body": "There is also http status code. You can easily create status:message dictionary."}, {"owner": {"reputation": 51505, "user_id": 741099, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9a7101fe3ba50e621e91ee1edf9d27bb?s=128&d=identicon&r=PG", "display_name": "Nyxynyx", "link": "https://stackoverflow.com/users/741099/nyxynyx"}, "reply_to_user": {"reputation": 2296, "user_id": 4209136, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000376796894/picture?type=large", "display_name": "bigless", "link": "https://stackoverflow.com/users/4209136/bigless"}, "edited": false, "score": 0, "creation_date": 1565886622, "post_id": 57500572, "comment_id": 101494062, "body": "@bigless Can you elaborate on your suggested <i>status:message dictionary</i> ?"}, {"owner": {"reputation": 4545, "user_id": 4562204, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205865723100888/picture?type=large", "display_name": "Jake Holzinger", "link": "https://stackoverflow.com/users/4562204/jake-holzinger"}, "edited": false, "score": 0, "creation_date": 1565903012, "post_id": 57500572, "comment_id": 101500319, "body": "<a href=\"https://nodejs.org/api/errors.html#errors_common_system_errors\" rel=\"nofollow noreferrer\">nodejs.org/api/errors.html#errors_common_system_errors</a>"}, {"owner": {"reputation": 13413, "user_id": 2184584, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/RQRat.jpg?s=128&g=1", "display_name": "Christopher Francisco", "link": "https://stackoverflow.com/users/2184584/christopher-francisco"}, "edited": false, "score": 0, "creation_date": 1565968528, "post_id": 57500572, "comment_id": 101520557, "body": "I would recommend <b>against</b> showing the user an error message that is related to configuration. Errors like <code>ENOTFOUND</code> and <code>ECONNABORTED</code> are <b>not</b> HTTP status code, they are network errors. This is userful for the developer, but for the end user, they just need to see an error 500"}, {"owner": {"reputation": 13413, "user_id": 2184584, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/RQRat.jpg?s=128&g=1", "display_name": "Christopher Francisco", "link": "https://stackoverflow.com/users/2184584/christopher-francisco"}, "edited": false, "score": 0, "creation_date": 1565968635, "post_id": 57500572, "comment_id": 101520601, "body": "Another way of seeing this, is that this errors are not gonna happen if the API server is down or if a web page is not found. They are gonna happen if the developer/devops put the wrong api URL in the code, or the wrong Port. Or if the API server hostname can&#39;t be resolved cause of the DNS servers gone wrong or VPC is incorrectly configured."}], "answers": [{"tags": [], "owner": {"reputation": 2296, "user_id": 4209136, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000376796894/picture?type=large", "display_name": "bigless", "link": "https://stackoverflow.com/users/4209136/bigless"}, "is_accepted": false, "score": 1, "last_activity_date": 1565903527, "last_edit_date": 1565903527, "creation_date": 1565902020, "answer_id": 57516067, "question_id": 57500572, "link": "https://stackoverflow.com/questions/57500572/what-are-the-possible-network-errors-when-using-node-js-axios/57516067#57516067", "title": "What are the Possible Network Errors when using Node.js axios", "body": "<p>Example of custom http messages based on comments above. There is also <a href=\"https://github.com/axios/axios#interceptors\" rel=\"nofollow noreferrer\">sweet spot</a> for this handling.</p>\n\n<pre><code>const statusCodeMsgs = {\n 404: 'Not found',\n 408: 'Timeout',\n 500: 'Internal server error'\n //and so on\n}\n\nfunction rejectCb(error) {\n  let msg;\n  if (error.response) {\n    msg = statusCodeMsgs[error.response.status];\n  }\n  console.log(msg||error.code);\n}\n</code></pre>\n"}], "owner": {"reputation": 51505, "user_id": 741099, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9a7101fe3ba50e621e91ee1edf9d27bb?s=128&d=identicon&r=PG", "display_name": "Nyxynyx", "link": "https://stackoverflow.com/users/741099/nyxynyx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 399, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1565903527, "creation_date": 1565809277, "last_edit_date": 1565810520, "question_id": 57500572, "link": "https://stackoverflow.com/questions/57500572/what-are-the-possible-network-errors-when-using-node-js-axios", "title": "What are the Possible Network Errors when using Node.js axios", "body": "<p>While using the node.js <code>axios</code>, I have encountered 2 errors <code>ENOTFOUND</code> and <code>ECONNABORTED</code> that my code eventually is able to handle.</p>\n\n<p>Searched the <a href=\"https://github.com/axios/axios\" rel=\"nofollow noreferrer\">axios github repo</a> but was not able to find a list of possible errors. Additionally, searching the repo code for <code>ENOTFOUND</code> and <code>ECONNABORTED</code> returned zero result.</p>\n\n<p><strong>Motivation:</strong> I want to show the user a relevant and human-friendly error message when there is problem connecting to an API endpoint, differentiating between API service being down, user having network connectivity problems, or an unauthorized API request. Instead of a generic <em>Unable to connect.</em> or <em>Error encountered: 500</em> error messages.</p>\n\n<p><strong>Question:</strong> Is there a list of possible network error codes that may be thrown by <code>axios</code> and what they mean?</p>\n"}, {"tags": ["javascript", "html", "testing", "e2e-testing", "testcafe"], "comments": [{"owner": {"reputation": 1680, "user_id": 10684943, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5nZ4U.jpg?s=128&g=1", "display_name": "Dmitry Ostashev", "link": "https://stackoverflow.com/users/10684943/dmitry-ostashev"}, "edited": false, "score": 0, "creation_date": 1565878898, "post_id": 57500552, "comment_id": 101490393, "body": "The <a href=\"https://devexpress.github.io/testcafe/documentation/test-api/selecting-page-elements/selectors/functional-style-selectors.html#withtext\" rel=\"nofollow noreferrer\">withText</a> method filters elements, which <b>contain</b> the specified string. In your case, the space at the end of the cell text should not lead to the behavior you described.  Your code and html snippets work correctly on my side. Could you please clarify how you format the account number and whether the <code>&lt;td&gt;</code> element contains the <code>formatedAccount</code>?"}], "owner": {"reputation": 343, "user_id": 11232271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caf571869a2a17d8f9b8446bb9788ce5?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick Vibild", "link": "https://stackoverflow.com/users/11232271/patrick-vibild"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 148, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1576852821, "creation_date": 1565809207, "last_edit_date": 1576852821, "question_id": 57500552, "link": "https://stackoverflow.com/questions/57500552/testcafe-cant-find-a-td-element-if-the-text-contains-a-space", "title": "TestCafe cant find a &lt;td&gt; element if the text contains a space", "body": "<p>I have the next code that asserts if I can find a bank account in a cell. I found out that it's not working when the text in the cell contains a space after the text.</p>\n\n<pre><code>    this.bankAccounts = Selector('td[data-cy=\"listAccountNumber\"]');\n\nasync checkBankAccount(accountNumber, currencyCode, name){\n    const formatedAccount = formatBankAccount(accountNumber, currencyCode);\n    const bankCell = Selector(this.bankAccounts).withText(formatedAccount);\n\n    await t\n        .expect(bankCell.exists).ok(\"Should create: \" + name +\n            \" bank. Could not find bank: \" + formatedAccount);\n}\n</code></pre>\n\n<p>For example, the previous method won't find the next cell if given accountNumber \"CY25 7121 9716 3791 8645 3263 6242\"</p>\n\n<pre><code>&lt;td data-cy=\"listAccountNumber\"&gt;CY25 7121 9716 3791 8645 3263 6242 &lt;/td&gt;\n</code></pre>\n\n<p>But it will find it if my cell was like: </p>\n\n<pre><code>&lt;td data-cy=\"listAccountNumber\"&gt;CY25 7121 9716 3791 8645 3263 6242&lt;/td&gt;\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript", "axios"], "comments": [{"owner": {"reputation": 8719, "user_id": 6951428, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/92fd81a6020da8e77fc9125e0c9ec512?s=128&d=identicon&r=PG&f=1", "display_name": "junvar", "link": "https://stackoverflow.com/users/6951428/junvar"}, "edited": false, "score": 3, "creation_date": 1565809216, "post_id": 57500541, "comment_id": 101470534, "body": "You have a typo <code>const sendRecording = () =&gt; async dispatch =&gt; {</code> should say <code>const sendRecording = async dispatch =&gt; {</code>. Otherwise, <code>sendRecord</code> will return but not invoke the function which contains <code>console.log(&#39;3&#39;)</code>"}, {"owner": {"reputation": 4010, "user_id": 2825551, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/vCq8n.jpg?s=128&g=1", "display_name": "Jhecht", "link": "https://stackoverflow.com/users/2825551/jhecht"}, "edited": false, "score": 1, "creation_date": 1565809791, "post_id": 57500541, "comment_id": 101470753, "body": "To add a bit on what junvar said, your current setup of <code>() =&gt; async dispatch { ...</code> is literally assigning sendRecording to a function that returns an asynchronous function."}], "answers": [{"comments": [{"owner": {"reputation": 4010, "user_id": 2825551, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/vCq8n.jpg?s=128&g=1", "display_name": "Jhecht", "link": "https://stackoverflow.com/users/2825551/jhecht"}, "edited": false, "score": 1, "creation_date": 1565809692, "post_id": 57500651, "comment_id": 101470715, "body": "the <code>stopRecording</code> function would still need the <code>async</code> keyword."}], "tags": [], "owner": {"reputation": 361, "user_id": 9471313, "user_type": "registered", "profile_image": "https://graph.facebook.com/361221027694489/picture?type=large", "display_name": "Andy", "link": "https://stackoverflow.com/users/9471313/andy"}, "is_accepted": false, "score": 1, "last_activity_date": 1565809760, "last_edit_date": 1565809760, "creation_date": 1565809652, "answer_id": 57500651, "question_id": 57500541, "link": "https://stackoverflow.com/questions/57500541/why-is-the-function-never-reached/57500651#57500651", "title": "Why is the function never reached?", "body": "<p>why you sending in the dispatch params?\ntry removing it to :</p>\n\n<pre><code>const sendRecording = async () =&gt; {\n  console.log('3');\n  const config = {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  };\n  const body = JSON.stringify({});\n  try {\n    const res = await axios.post('/api/recording', body, config);\n  } catch (err) {\n    const errors = err.response.data.errors;\n  }\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1005, "user_id": 1806642, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/G6oSL.jpg?s=128&g=1", "display_name": "Sylens", "link": "https://stackoverflow.com/users/1806642/sylens"}, "is_accepted": true, "score": 1, "last_activity_date": 1565809788, "creation_date": 1565809788, "answer_id": 57500683, "question_id": 57500541, "link": "https://stackoverflow.com/questions/57500541/why-is-the-function-never-reached/57500683#57500683", "title": "Why is the function never reached?", "body": "<p>What you have done was a closure function, which is a function inside a function\nyou can find out more about that here: <a href=\"https://javascript.info/closure\" rel=\"nofollow noreferrer\">https://javascript.info/closure</a>.</p>\n\n<p>The way you have defined the function <code>sendRecording</code> is incorrect for this usage.</p>\n\n<p>It should be something like this:</p>\n\n<pre><code>const sendRecording = async (dispatch) =&gt; { \n...\n}\n</code></pre>\n\n<p>not sure why you have an argument called dispatch, especially since it's not used.\nyou can now execute this function by simply calling </p>\n\n<pre><code>sendRecording();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 37, "user_id": 11699611, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157042053931777/picture?type=large", "display_name": "Marc Monserrat", "link": "https://stackoverflow.com/users/11699611/marc-monserrat"}, "is_accepted": false, "score": 0, "last_activity_date": 1565869789, "creation_date": 1565869789, "answer_id": 57509205, "question_id": 57500541, "link": "https://stackoverflow.com/questions/57500541/why-is-the-function-never-reached/57509205#57509205", "title": "Why is the function never reached?", "body": "<p>Thank you very much to all of you!\nI don't know what I did there ^^\"</p>\n\n<p>The dispatch was there because I was using it but I removed some code before posting it here but forgot to remove the dispatch.</p>\n\n<p>It works perfectly anyway, thank you.</p>\n"}], "owner": {"reputation": 37, "user_id": 11699611, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157042053931777/picture?type=large", "display_name": "Marc Monserrat", "link": "https://stackoverflow.com/users/11699611/marc-monserrat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 57500683, "answer_count": 3, "score": 1, "last_activity_date": 1565869789, "creation_date": 1565809103, "question_id": 57500541, "link": "https://stackoverflow.com/questions/57500541/why-is-the-function-never-reached", "title": "Why is the function never reached?", "body": "<p>So this is probably quite simple but I can't find the solution or what is happening. I am trying to call the sendRecording from the event handler inside the handleRecorder function. But the sendRecording  is never reached:</p>\n\n<pre><code>import React from 'react';\nimport axios from 'axios';\n\ndeclare var MediaRecorder: any;\n\nconst sendRecording = () =&gt; async dispatch =&gt; {\n  console.log('3');\n  const config = {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  };\n  const body = JSON.stringify({});\n  try {\n    const res = await axios.post('/api/recording', body, config);\n  } catch (err) {\n    const errors = err.response.data.errors;\n  }\n};\n\nconst handleRecorder = () =&gt; {\n  console.log('1');\n  sendRecording();\n  navigator.mediaDevices.getUserMedia({ audio: true }).then(stream =&gt; {\n    const mediaRecorder = new MediaRecorder(stream);\n    mediaRecorder.start();\n\n    const audioChunks: any[] = [];\n    mediaRecorder.addEventListener('dataavailable', event =&gt; {\n      audioChunks.push(event.data);\n    });\n\n    mediaRecorder.addEventListener('stop', () =&gt; {\n      console.log('2');\n      sendRecording();\n    });\n\n    setTimeout(() =&gt; {\n      mediaRecorder.stop();\n    }, 3000);\n  });\n};\n\nconst Recorder = () =&gt; {\n  return (\n    &lt;div&gt;\n      &lt;button className='btn' onClick={handleRecorder}&gt;\n        &lt;i className='fa fa-microphone' title='Record' /&gt;\n      &lt;/button&gt;\n    &lt;/div&gt;\n  );\n};\n\nexport default Recorder;\n</code></pre>\n\n<p>When I click the button, the console prints:\n1\n2\nBut never the 3</p>\n\n<p>It actually happens the same when I call the sendRecording function from the beginning of the handleRecorder function. </p>\n\n<p>I'm still learning, it must be something simple that I have not understood, but it is taking me ages to solve this.</p>\n"}, {"tags": ["javascript", "python", "npm", "brain.js"], "comments": [{"owner": {"reputation": 3019, "user_id": 10687857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7vYls.jpg?s=128&g=1", "display_name": "DanStarns", "link": "https://stackoverflow.com/users/10687857/danstarns"}, "edited": false, "score": 1, "creation_date": 1565810247, "post_id": 57500514, "comment_id": 101470913, "body": "have you got python installed? <a href=\"https://www.python.org/downloads\" rel=\"nofollow noreferrer\">python</a>"}, {"owner": {"reputation": 183, "user_id": 10584567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebe4bff208fc8572ea4006c77b2da4b5?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael Shepard", "link": "https://stackoverflow.com/users/10584567/rafael-shepard"}, "reply_to_user": {"reputation": 3019, "user_id": 10687857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7vYls.jpg?s=128&g=1", "display_name": "DanStarns", "link": "https://stackoverflow.com/users/10687857/danstarns"}, "edited": false, "score": 0, "creation_date": 1565812723, "post_id": 57500514, "comment_id": 101471783, "body": "@DanStarns As soon as I saw the error after installation brain.js, I immediately installed the python of the latest version (3.7.4)"}, {"owner": {"reputation": 4583, "user_id": 2561714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/752d92663322e652223379492f83bbaa?s=128&d=identicon&r=PG", "display_name": "NickD", "link": "https://stackoverflow.com/users/2561714/nickd"}, "edited": false, "score": 0, "creation_date": 1565813253, "post_id": 57500514, "comment_id": 101471988, "body": "But the message says <code>gyp ERR! find Python You need to install the latest version of Python 2.7</code> - presumably gyp needs python 2.7, not python 3.7.4. There are incompatibilities between the two versions."}, {"owner": {"reputation": 3019, "user_id": 10687857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7vYls.jpg?s=128&g=1", "display_name": "DanStarns", "link": "https://stackoverflow.com/users/10687857/danstarns"}, "edited": false, "score": 1, "creation_date": 1565818574, "post_id": 57500514, "comment_id": 101473709, "body": "may I point you to the node gyp installation, making sure if you are running windows that you install the correct python version <a href=\"https://github.com/nodejs/node-gyp#installation\" rel=\"nofollow noreferrer\">node gyp</a>"}, {"owner": {"reputation": 183, "user_id": 10584567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebe4bff208fc8572ea4006c77b2da4b5?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael Shepard", "link": "https://stackoverflow.com/users/10584567/rafael-shepard"}, "reply_to_user": {"reputation": 3019, "user_id": 10687857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7vYls.jpg?s=128&g=1", "display_name": "DanStarns", "link": "https://stackoverflow.com/users/10687857/danstarns"}, "edited": false, "score": 1, "creation_date": 1566200292, "post_id": 57500514, "comment_id": 101566822, "body": "@DanStarns yes! You were right. Brain.js had nothing to do with it. It was necessary to install correctly node gyp."}], "answers": [{"comments": [{"owner": {"reputation": 183, "user_id": 10584567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebe4bff208fc8572ea4006c77b2da4b5?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael Shepard", "link": "https://stackoverflow.com/users/10584567/rafael-shepard"}, "edited": false, "score": 0, "creation_date": 1565857096, "post_id": 57501952, "comment_id": 101481480, "body": "installed python version 2.7, but the error remained. I\u2019ll continue the search for your link."}, {"owner": {"reputation": 183, "user_id": 10584567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebe4bff208fc8572ea4006c77b2da4b5?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael Shepard", "link": "https://stackoverflow.com/users/10584567/rafael-shepard"}, "edited": false, "score": 0, "creation_date": 1565977969, "post_id": 57501952, "comment_id": 101524255, "body": "please tell me how to make Path and Env for python. I have OS Windows."}, {"owner": {"reputation": 401, "user_id": 6172218, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-H28W1VVZj6c/AAAAAAAAAAI/AAAAAAAAAE0/bJSiEOXvjN8/photo.jpg?sz=128", "display_name": "Anjali Shyamsundar", "link": "https://stackoverflow.com/users/6172218/anjali-shyamsundar"}, "reply_to_user": {"reputation": 183, "user_id": 10584567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebe4bff208fc8572ea4006c77b2da4b5?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael Shepard", "link": "https://stackoverflow.com/users/10584567/rafael-shepard"}, "edited": false, "score": 0, "creation_date": 1566080481, "post_id": 57501952, "comment_id": 101544857, "body": "Based on the Windows version you have, You can refer to the steps here..<a href=\"https://superuser.com/questions/143119/how-do-i-add-python-to-the-windows-path\" title=\"how do i add python to the windows path\">superuser.com/questions/143119/&hellip;</a> Also, once set, you can verify the Python version by running the command  &quot;python -V&quot; or &#39;&#39;python --version&quot; in your command prompt."}, {"owner": {"reputation": 183, "user_id": 10584567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebe4bff208fc8572ea4006c77b2da4b5?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael Shepard", "link": "https://stackoverflow.com/users/10584567/rafael-shepard"}, "edited": false, "score": 1, "creation_date": 1566116187, "post_id": 57501952, "comment_id": 101549139, "body": "Thank you, This tool helped me: <a href=\"https://www.youtube.com/watch?v=Y2q_b4ugPWk\" rel=\"nofollow noreferrer\">youtube.com/watch?v=Y2q_b4ugPWk</a>"}, {"owner": {"reputation": 401, "user_id": 6172218, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-H28W1VVZj6c/AAAAAAAAAAI/AAAAAAAAAE0/bJSiEOXvjN8/photo.jpg?sz=128", "display_name": "Anjali Shyamsundar", "link": "https://stackoverflow.com/users/6172218/anjali-shyamsundar"}, "reply_to_user": {"reputation": 183, "user_id": 10584567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebe4bff208fc8572ea4006c77b2da4b5?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael Shepard", "link": "https://stackoverflow.com/users/10584567/rafael-shepard"}, "edited": false, "score": 0, "creation_date": 1566154843, "post_id": 57501952, "comment_id": 101558166, "body": "Great, Thanks for sharing!"}], "tags": [], "owner": {"reputation": 401, "user_id": 6172218, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-H28W1VVZj6c/AAAAAAAAAAI/AAAAAAAAAE0/bJSiEOXvjN8/photo.jpg?sz=128", "display_name": "Anjali Shyamsundar", "link": "https://stackoverflow.com/users/6172218/anjali-shyamsundar"}, "is_accepted": false, "score": 1, "last_activity_date": 1565816294, "creation_date": 1565816294, "answer_id": 57501952, "question_id": 57500514, "link": "https://stackoverflow.com/questions/57500514/strange-npm-error-when-running-npm-install-brain-js/57501952#57501952", "title": "Strange npm error when running npm install brain.js", "body": "<p>Make sure the Path and Env variables are set for the Python installed. Also, I found something similar <a href=\"https://github.com/nodejs/node-gyp/issues/1268\" rel=\"nofollow noreferrer\">here</a>.. hope it helps!!</p>\n"}], "owner": {"reputation": 183, "user_id": 10584567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebe4bff208fc8572ea4006c77b2da4b5?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael Shepard", "link": "https://stackoverflow.com/users/10584567/rafael-shepard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1726, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1566116486, "creation_date": 1565808948, "last_edit_date": 1566116486, "question_id": 57500514, "link": "https://stackoverflow.com/questions/57500514/strange-npm-error-when-running-npm-install-brain-js", "title": "Strange npm error when running npm install brain.js", "body": "<p>When trying to install <code>brain.js</code>, a strange error occurs and I can't understand what the problem is and where does the python come in since this is the installation of a library through <code>npm</code>. I didn't find similar situations in Google (I don\u2019t even understand <em>how</em> to google this).</p>\n\n<pre><code>G:\\firststep\\BR&gt;npm i brain.js\n\n&gt; gl@4.3.3 install G:\\firststep\\BR\\node_modules\\gl\n&gt; prebuild-install || node-gyp rebuild\n\nprebuild-install WARN install No prebuilt binaries found (target=10.14.2 runtime=node arch=x64 libc= platform=win32)\n\nG:\\firststep\\BR\\node_modules\\gl&gt;if not defined npm_config_node_gyp (node \"C:\\Users\\rafae\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\npm-lifecycle\\node-gyp-bin\\\\..\\..\\node_modules\\node-gyp\\bin\\node-gyp.js\" rebuild )  else (node \"C:\\Users\\rafae\\AppData\\Roaming\n\\npm\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js\" rebuild )\ngyp ERR! find Python\ngyp ERR! find Python Python is not set from command line or npm configuration\ngyp ERR! find Python Python is not set from environment variable PYTHON\ngyp ERR! find Python checking if \"python\" can be used\ngyp ERR! find Python - \"python\" is not in PATH or produced an error\ngyp ERR! find Python checking if \"python2\" can be used\ngyp ERR! find Python - \"python2\" is not in PATH or produced an error\ngyp ERR! find Python checking if the py launcher can be used to find Python 2\ngyp ERR! find Python - \"py.exe\" is not in PATH or produced an error\ngyp ERR! find Python checking if Python is C:\\Python27\\python.exe\ngyp ERR! find Python - \"C:\\Python27\\python.exe\" could not be run\ngyp ERR! find Python checking if Python is C:\\Python37\\python.exe\ngyp ERR! find Python - \"C:\\Python37\\python.exe\" could not be run\ngyp ERR! find Python\ngyp ERR! find Python **********************************************************\ngyp ERR! find Python You need to install the latest version of Python 2.7.\ngyp ERR! find Python Node-gyp should be able to find and use Python. If not,\ngyp ERR! find Python you can try one of the following options:\ngyp ERR! find Python - Use the switch --python=\"C:\\Path\\To\\python.exe\"\ngyp ERR! find Python   (accepted by both node-gyp and npm)\ngyp ERR! find Python - Set the environment variable PYTHON\ngyp ERR! find Python - Set the npm configuration variable python:\ngyp ERR! find Python   npm config set python \"C:\\Path\\To\\python.exe\"\ngyp ERR! find Python For more information consult the documentation at:\ngyp ERR! find Python https://github.com/nodejs/node-gyp#installation\ngyp ERR! find Python **********************************************************\ngyp ERR! find Python\ngyp ERR! configure error\ngyp ERR! stack Error: Could not find any Python installation to use\ngyp ERR! stack     at PythonFinder.fail (C:\\Users\\rafae\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\lib\\find-python.js:303:47)\ngyp ERR! stack     at PythonFinder.runChecks (C:\\Users\\rafae\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\lib\\find-python.js:132:21)\ngyp ERR! stack     at PythonFinder.&lt;anonymous&gt; (C:\\Users\\rafae\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\lib\\find-python.js:221:16)\ngyp ERR! stack     at PythonFinder.execFileCallback (C:\\Users\\rafae\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\lib\\find-python.js:267:16)\ngyp ERR! stack     at exithandler (child_process.js:301:5)\ngyp ERR! stack     at ChildProcess.errorhandler (child_process.js:313:5)\ngyp ERR! stack     at ChildProcess.emit (events.js:182:13)\ngyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:238:12)\ngyp ERR! stack     at onErrorNT (internal/child_process.js:407:16)\ngyp ERR! stack     at process._tickCallback (internal/process/next_tick.js:63:19)\ngyp ERR! System Windows_NT 10.0.17763\ngyp ERR! command \"C:\\\\Program Files\\\\nodejs\\\\node.exe\" \"C:\\\\Users\\\\rafae\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\npm\\\\node_modules\\\\node-gyp\\\\bin\\\\node-gyp.js\" \"rebuild\"\ngyp ERR! cwd G:\\firststep\\BR\\node_modules\\gl\ngyp ERR! node -v v10.14.2\ngyp ERR! node-gyp -v v5.0.3\ngyp ERR! not ok\nnpm WARN enoent ENOENT: no such file or directory, open 'G:\\firststep\\BR\\package.json'\nnpm WARN BR No description\nnpm WARN BR No repository field.\nnpm WARN BR No README data\nnpm WARN BR No license field.\n\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! gl@4.3.3 install: `prebuild-install || node-gyp rebuild`\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the gl@4.3.3 install script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     C:\\Users\\rafae\\AppData\\Roaming\\npm-cache\\_logs\\2019-08-14T18_48_29_640Z-debug.log\n\n</code></pre>\n\n<p>There is not a word about this problem in the documentation for <code>brain.js</code>. Everything is simple there - run <code>npm install brain.js</code> and that's it.</p>\n\n<h2>UPDATE 16.08.2019</h2>\n\n<p><strong>This instruction marked option 2 helped me</strong>\n<a href=\"https://github.com/nodejs/node-gyp#on-windows\" rel=\"nofollow noreferrer\">https://github.com/nodejs/node-gyp#on-windows</a></p>\n"}, {"tags": ["javascript", "reactjs", "webpack"], "comments": [{"owner": {"reputation": 69, "user_id": 9392397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bcc10b62d5db234c0d2b13e20cc4039?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon Powell", "link": "https://stackoverflow.com/users/9392397/brandon-powell"}, "edited": false, "score": 0, "creation_date": 1565813937, "post_id": 57500506, "comment_id": 101472264, "body": "If anyone runs into this issues don&#39;t forget to download an npm package called config --&gt; <a href=\"https://www.npmjs.com/package/config\" rel=\"nofollow noreferrer\">npmjs.com/package/config</a>"}], "owner": {"reputation": 69, "user_id": 9392397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bcc10b62d5db234c0d2b13e20cc4039?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon Powell", "link": "https://stackoverflow.com/users/9392397/brandon-powell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 156, "favorite_count": 2, "answer_count": 0, "score": 1, "last_activity_date": 1565808910, "creation_date": 1565808910, "question_id": 57500506, "link": "https://stackoverflow.com/questions/57500506/webpack-external-config-not-found", "title": "webpack external config not found", "body": "<p>I'm working React Project when I compile I get the following error</p>\n\n<blockquote>\n  <p>Module not found: Can't resolve 'config' in '/Users/mirasmith/Desktop/KPV1-Project-master/src/_services' </p>\n</blockquote>\n\n<p>but follow that tutorial from <a href=\"https://jasonwatmore.com/post/2017/09/16/react-redux-user-registration-and-login-tutorial-example\" rel=\"nofollow noreferrer\">Jason Watmore</a> </p>\n\n<p>I had followed the tutorial correctly but don't if I'm missing anything. I'm trying to create a User Registration and Login they.</p>\n\n<p>I don't know if they are talking about the webpack file that I have added to the development environment. I have created but nothing happens still the same results.</p>\n\n<p>user.service.js</p>\n\n<pre><code>import config from 'config';\nimport { authHeader } from '../_helpers';\n\nexport const userService = {\n    login,\n    logout,\n    register,\n    getAll,\n    getById,\n    update,\n    delete: _delete\n};\n\nfunction login(username, password) {\n    const requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ username, password })\n    };\n\n    return fetch(`${config.apiUrl}/users/authenticate`, requestOptions)\n        .then(handleResponse)\n        .then(user =&gt; {\n            // store user details and jwt token in local storage to keep user logged in between page refreshes\n            localStorage.setItem('user', JSON.stringify(user));\n\n            return user;\n        });\n}\n\nfunction logout() {\n    // remove user from local storage to log user out\n    localStorage.removeItem('user');\n}\n\nfunction getAll() {\n    const requestOptions = {\n        method: 'GET',\n        headers: authHeader()\n    };\n\n    return fetch(`${config.apiUrl}/users`, requestOptions).then(handleResponse);\n}\n\nfunction getById(id) {\n    const requestOptions = {\n        method: 'GET',\n        headers: authHeader()\n    };\n\n    return fetch(`${config.apiUrl}/users/${id}`, requestOptions).then(handleResponse);\n}\n\nfunction register(user) {\n    const requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(user)\n    };\n\n    return fetch(`${config.apiUrl}/users/register`, requestOptions).then(handleResponse);\n}\n\nfunction update(user) {\n    const requestOptions = {\n        method: 'PUT',\n        headers: { ...authHeader(), 'Content-Type': 'application/json' },\n        body: JSON.stringify(user)\n    };\n\n    return fetch(`${config.apiUrl}/users/${user.id}`, requestOptions).then(handleResponse);;\n}\n\n// prefixed function name with underscore because delete is a reserved word in javascript\nfunction _delete(id) {\n    const requestOptions = {\n        method: 'DELETE',\n        headers: authHeader()\n    };\n\n    return fetch(`${config.apiUrl}/users/${id}`, requestOptions).then(handleResponse);\n}\n\nfunction handleResponse(response) {\n    return response.text().then(text =&gt; {\n        const data = text &amp;&amp; JSON.parse(text);\n        if (!response.ok) {\n            if (response.status === 401) {\n                // auto logout if 401 response returned from api\n                logout();\n                window.location.reload(true);\n            }\n\n            const error = (data &amp;&amp; data.message) || response.statusText;\n            return Promise.reject(error);\n        }\n\n        return data;\n    });\n}\n</code></pre>\n\n<p>webpack.config.js</p>\n\n<pre><code>var HtmlWebpackPlugin = require('html-webpack-plugin');\n\nmodule.exports = {\n    mode: 'development',\n    resolve: {\n        extensions: ['.js', '.jsx']\n    },\n    module: {\n        rules: [\n            {\n                test: /\\.jsx?$/,\n                loader: 'babel-loader'\n            }\n        ]\n    },\n    plugins: [new HtmlWebpackPlugin({\n        template: './src/index.html'\n    })],\n    devServer: {\n        historyApiFallback: true\n    },\n    externals: {\n        // global app config object\n        config: JSON.stringify({\n            apiUrl: 'http://localhost:3000'\n        })\n    }\n}\n</code></pre>\n\n<p><a href=\"https://gyazo.com/3b45f2c867e3623900f35cd7c149a112\" rel=\"nofollow noreferrer\">https://gyazo.com/3b45f2c867e3623900f35cd7c149a112</a><a href=\"https://i.stack.imgur.com/mvqxi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mvqxi.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "jquery", "prestashop-1.7"], "comments": [{"owner": {"reputation": 2264, "user_id": 603142, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/XRadr.png?s=128&g=1", "display_name": "F.bernal", "link": "https://stackoverflow.com/users/603142/f-bernal"}, "edited": false, "score": 0, "creation_date": 1565809455, "post_id": 57500464, "comment_id": 101470617, "body": "are you sure your code is being executed? are you sure when your code is executed the html you are looking for exists?"}, {"owner": {"reputation": 304305, "user_id": 519413, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7839089cd91dc5cc5eb1e0cdbf3312ed?s=128&d=identicon&r=PG", "display_name": "Rory McCrossan", "link": "https://stackoverflow.com/users/519413/rory-mccrossan"}, "edited": false, "score": 0, "creation_date": 1565810486, "post_id": 57500464, "comment_id": 101471012, "body": "There is nothing in the code you have shown which would cause it to only work after refreshing. Normally that&#39;s a sign of a caching issue, but it only happens once not repeatedly. In either case, check the console for errors when the code doesn&#39;t work. Also, this isn&#39;t a JS issue, so changing libraries or file paths wouldn&#39;t make a difference"}, {"owner": {"reputation": 19230, "user_id": 1444609, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/bgWmu.jpg?s=128&g=1", "display_name": "I wrestled a bear once.", "link": "https://stackoverflow.com/users/1444609/i-wrestled-a-bear-once"}, "edited": false, "score": 0, "creation_date": 1565810763, "post_id": 57500464, "comment_id": 101471112, "body": "am i beating a dead horse if i say jquery <i>is</i> javascript?"}, {"owner": {"reputation": 6306, "user_id": 1408759, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/efFVd.gif?s=128&g=1", "display_name": "ndugger", "link": "https://stackoverflow.com/users/1408759/ndugger"}, "edited": false, "score": 0, "creation_date": 1565814079, "post_id": 57500464, "comment_id": 101472328, "body": "<a href=\"https://github.com/you-dont-need-x/you-dont-need-jquery\" rel=\"nofollow noreferrer\">github.com/you-dont-need-x/you-dont-need-jquery</a>"}], "answers": [{"tags": [], "owner": {"reputation": 29, "user_id": 3466775, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001905541893/picture?type=large", "display_name": "alexiscalingasan", "link": "https://stackoverflow.com/users/3466775/alexiscalingasan"}, "is_accepted": false, "score": -1, "last_activity_date": 1565811239, "creation_date": 1565811239, "answer_id": 57500959, "question_id": 57500464, "link": "https://stackoverflow.com/questions/57500464/fix-jquery-code-problem-or-convert-jquery-to-javascript/57500959#57500959", "title": "Fix jQuery code problem or convert jQuery to JavaScript", "body": "<p>Make sure that the target element of your script exists in your page. In your case it is the element that has a class \"hover_fly hover_fly_btn\". If you are sure that the target element exists, add console.log() to your function to help you debug the problem and to make sure that the code was executed.</p>\n"}], "owner": {"reputation": 1, "user_id": 11824678, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-aYActyx9VEc/AAAAAAAAAAI/AAAAAAAAAEw/goecWTC06gc/photo.jpg?sz=128", "display_name": "Soheila .M", "link": "https://stackoverflow.com/users/11824678/soheila-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1565811239, "creation_date": 1565808713, "last_edit_date": 1565810514, "question_id": 57500464, "link": "https://stackoverflow.com/questions/57500464/fix-jquery-code-problem-or-convert-jquery-to-javascript", "title": "Fix jQuery code problem or convert jQuery to JavaScript", "body": "<p>I am working with prestashop 1.7.I wrote jQuery code that affect on the category page. And I put it in the file path below:</p>\n\n<pre><code>public_html/themes/panda/assets/js/theme.js\n</code></pre>\n\n<p>But it will work only after refresh page. Is the code wrong? Is the file path wrong? Or should I introduce this jQuery code? Should I convert jQuery to Javascript? If so, how? Thanks         </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n  $(\".hover_fly .hover_fly_btn\").mouseover(function() {\r\n    $(this).parents('.pro_first_box').find('#overlayToOpen').css('display', 'block');\r\n  });\r\n\r\n  $(\".hover_fly .hover_fly_btn\").mouseout(function() {\r\n    $(this).parents('.pro_first_box').find('#overlayToOpen').css('display', 'none');\r\n  });\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.0/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"pro_first_box\"&gt;\r\n  &lt;div id=\"overlayToOpen\"&gt;every things&lt;/div&gt;\r\n  &lt;a href=\"\" class=\" product_img_link \"&gt;&lt;img src=\" \"&gt;&lt;/a&gt;\r\n  &lt;div class=\"hover_fly \"&gt;\r\n    &lt;a class=\"hover_fly_btn \" href=\"# \"&gt;\r\n      &lt;div class=\"hover_fly_btn_inner \"&gt;&lt;span&gt;More info&lt;/span&gt;&lt;/div&gt;\r\n    &lt;/a&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "react-native", "react-native-flatlist"], "comments": [{"owner": {"reputation": 20471, "user_id": 1552587, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ed783ecfe6b4babe78d4ae5b206ef431?s=128&d=identicon&r=PG", "display_name": "Titus", "link": "https://stackoverflow.com/users/1552587/titus"}, "edited": false, "score": 1, "creation_date": 1565808606, "post_id": 57500361, "comment_id": 101470315, "body": "Try: <code>styles[item.nama + &#39;Big&#39;]</code>."}, {"owner": {"reputation": 135, "user_id": 11551026, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-RaZk2oSRzLI/AAAAAAAAAAI/AAAAAAAAAAg/EAIzhSQTgZU/photo.jpg?sz=128", "display_name": "Khadam Ikhwanus", "link": "https://stackoverflow.com/users/11551026/khadam-ikhwanus"}, "reply_to_user": {"reputation": 20471, "user_id": 1552587, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ed783ecfe6b4babe78d4ae5b206ef431?s=128&d=identicon&r=PG", "display_name": "Titus", "link": "https://stackoverflow.com/users/1552587/titus"}, "edited": false, "score": 0, "creation_date": 1565825287, "post_id": 57500361, "comment_id": 101475191, "body": "Thanks you man , I&#39;ve struggling with this for 2 hours"}], "owner": {"reputation": 135, "user_id": 11551026, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-RaZk2oSRzLI/AAAAAAAAAAI/AAAAAAAAAAg/EAIzhSQTgZU/photo.jpg?sz=128", "display_name": "Khadam Ikhwanus", "link": "https://stackoverflow.com/users/11551026/khadam-ikhwanus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565808636, "creation_date": 1565808183, "last_edit_date": 1565808636, "question_id": 57500361, "link": "https://stackoverflow.com/questions/57500361/how-to-put-item-from-database-into-style-in-react-native", "title": "how to put item from database into style in react native", "body": "<p>i have an array from database like this</p>\n\n<pre><code>aa (3)\u00a0[{\u2026}, {\u2026}, {\u2026}]\n\n0: {id_button: 1, id_sound: 1, nama: \"wik\", nama_sound: \"wik.wav\"}\n1: {id_button: 2, id_sound: 2, nama: \"ihh\", nama_sound: \"ihh.wav\"}\n2: {id_button: 3, id_sound: 3, nama: \"ayy\", nama_sound: \"ayy.wav\"}\n\nlength: 3__proto__: Array(0)\n</code></pre>\n\n<p>i want to put them into style ,i've tried this but it doesnt work</p>\n\n<pre><code> stylebutton = {this.state.pattern == item.id_button ? styles.item.nama+Big : styles.item.nama }\n</code></pre>\n\n<p>i expected it becomes </p>\n\n<pre><code>stylebutton = {this.state.pattern == 1 ? styles.wikBig : styles.wik }\n</code></pre>\n\n<p>is there any other way to put them in ?</p>\n"}, {"tags": ["javascript", "jquery", "woocommerce"], "answers": [{"tags": [], "owner": {"reputation": 15695, "user_id": 636077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7567fa8bd8d37173c923c75d259f104?s=128&d=identicon&r=PG", "display_name": "ray hatfield", "link": "https://stackoverflow.com/users/636077/ray-hatfield"}, "is_accepted": true, "score": 4, "last_activity_date": 1569555347, "last_edit_date": 1569555347, "creation_date": 1569554987, "answer_id": 58127455, "question_id": 57500359, "link": "https://stackoverflow.com/questions/57500359/apply-a-table-class-to-a-woocommerce-table-after-ajax-call/58127455#58127455", "title": "Apply a &#39;table&#39;-class to a WooCommerce table after AJAX-call", "body": "<p>You could use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver\" rel=\"nofollow noreferrer\">Mutation Observer API</a> to listen for changes to a wrapper element's contents and re-apply the table classes.</p>\n\n<p>This example is lifted nearly verbatim from the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver#Example\" rel=\"nofollow noreferrer\">sample code on MDN</a>. Clicking the button replaces the contents of the div, which you can see from the console output fires the observer callback.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Select the node that will be observed for mutations\r\nconst targetNode = document.getElementById('some-id');\r\n\r\n// Options for the observer (which mutations to observe)\r\nconst config = {\r\n  childList: true,\r\n  subtree: true\r\n};\r\n\r\n// Callback function to execute when mutations are observed\r\nconst callback = function(mutationsList, observer) {\r\n  for (let mutation of mutationsList) {\r\n    if (mutation.type === 'childList') {\r\n      console.log('A child node has been added or removed.');\r\n    }\r\n  }\r\n};\r\n\r\n// Create an observer instance linked to the callback function\r\nconst observer = new MutationObserver(callback);\r\n\r\n// Start observing the target node for configured mutations\r\nobserver.observe(targetNode, config);\r\n\r\nfunction doUpdate() {\r\n  targetNode.innerText = Math.random();\r\n}\r\n\r\ndocument.querySelector('button').addEventListener('click', doUpdate);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"some-id\"&gt;(container)&lt;/div&gt;\r\n&lt;button&gt;change&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 1427, "user_id": 3768239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0RubE.jpg?s=128&g=1", "display_name": "angel.bonev", "link": "https://stackoverflow.com/users/3768239/angel-bonev"}, "edited": false, "score": 0, "creation_date": 1569932302, "post_id": 58180144, "comment_id": 102748825, "body": "<i>If $.ajax() or $.ajaxSetup() is called with the global option set to false, the .ajaxComplete() method will not fire.</i> this must be the case"}], "tags": [], "owner": {"reputation": 2638, "user_id": 3273700, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d8dd1259d7828b4bf619ee612325b462?s=128&d=identicon&r=PG&f=1", "display_name": "R.K.Saini", "link": "https://stackoverflow.com/users/3273700/r-k-saini"}, "is_accepted": false, "score": 0, "last_activity_date": 1569930261, "last_edit_date": 1569930261, "creation_date": 1569915701, "answer_id": 58180144, "question_id": 57500359, "link": "https://stackoverflow.com/questions/57500359/apply-a-table-class-to-a-woocommerce-table-after-ajax-call/58180144#58180144", "title": "Apply a &#39;table&#39;-class to a WooCommerce table after AJAX-call", "body": "<p>The ajaxComplete() function of jQuery can do what you expected,\nI don't know why it's not working for you.  </p>\n\n<p>I just open the link of cart page you gave above and paste add the below code in the developer console\n    and it works as expected after each update of the cart, the \"table\" class successfully appended to the table as per given selectors.</p>\n\n<pre><code>jQuery( document ).ajaxComplete(function( event, xhr, settings ) {\n    jQuery('.some-class table, .woocommerce-product-attributes, .woocommerce-cart-form &gt; table').addClass(\"table\");\n}); \n</code></pre>\n\n<p>It looks like you have not added the code in the proper place. Since ajaxComplete() function is dependent on jQuery you need to execute the above code after jQuery has been loaded successfully. To do that you can use <code>wp_add_inline_script()</code> function with <code>wp_script_is()</code></p>\n\n<p>Add the following code in your function.php file, It will add the below script to page after jQuery finish loading. </p>\n\n<pre><code>function my_custom_script() {\n   if ( ! wp_script_is( 'jquery', 'done' ) ) {\n     wp_enqueue_script( 'jquery' );\n   }\n   wp_add_inline_script( 'jquery-migrate', 'jQuery( document ).ajaxComplete(function( event, xhr, settings ) {\n        jQuery(\".some-class table, .woocommerce-product-attributes, .woocommerce-cart-form &gt; table\").addClass(\"table\");\n    });' );\n}\nadd_action( 'wp_enqueue_scripts', 'my_custom_script');\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1427, "user_id": 3768239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0RubE.jpg?s=128&g=1", "display_name": "angel.bonev", "link": "https://stackoverflow.com/users/3768239/angel-bonev"}, "is_accepted": false, "score": 0, "last_activity_date": 1569933058, "last_edit_date": 1569933058, "creation_date": 1569932656, "answer_id": 58184726, "question_id": 57500359, "link": "https://stackoverflow.com/questions/57500359/apply-a-table-class-to-a-woocommerce-table-after-ajax-call/58184726#58184726", "title": "Apply a &#39;table&#39;-class to a WooCommerce table after AJAX-call", "body": "<p>You can try to change the jquery ajax function </p>\n\n<pre><code>(function ($) {\n    var _oldAjax = $.ajax;\n    $.ajax = function (options) {\n        return _oldAjax(options).done(function (data) {\n            $('.some-class table, .woocommerce-product-attributes, .woocommerce-cart-form &gt; table').addClass(\"table\");\n            if (typeof (options.done) === \"function\")\n                options.done();\n        });\n    };\n})(jQuery);\n</code></pre>\n\n<blockquote>\n  <p>above code must be added before any ajax that is called</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 12153036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245057b8a861f544ae88e3a099a2c396?s=128&d=identicon&r=PG&f=1", "display_name": "thbglbwsk", "link": "https://stackoverflow.com/users/12153036/thbglbwsk"}, "is_accepted": false, "score": 0, "last_activity_date": 1570099013, "last_edit_date": 1570099013, "creation_date": 1570097944, "answer_id": 58217048, "question_id": 57500359, "link": "https://stackoverflow.com/questions/57500359/apply-a-table-class-to-a-woocommerce-table-after-ajax-call/58217048#58217048", "title": "Apply a &#39;table&#39;-class to a WooCommerce table after AJAX-call", "body": "<p>i've tested it on your site using the javascript console and actually </p>\n\n<pre><code>jQuery( document ).ajaxComplete(function( event, xhr, settings ) {\n  console.log( 'Test' );\n});\n</code></pre>\n\n<p>fire pretty well. \nmaybe you are adding that code on wrong place.. or maybe you have \"Group Similar\" flagged on javascript console settings and you didn't notice the log</p>\n\n<p>so you could just put your code together like this:</p>\n\n<pre><code>jQuery( document ).ajaxComplete(function( event, xhr, settings ) {\n  try{\n    let tableSelectors = [\n      '.some-class table',\n      '.woocommerce-product-attributes',\n      '.woocommerce-cart-form &gt; table'\n    ];\n    for( let t = 0; t &lt; tableSelectors.length; t++ ){\n      let tables = document.querySelectorAll( tableSelectors[t] );\n      if( tables ){\n        for( let i = 0; i &lt; tables.length; i++ ){\n          tables[i].classList.add( 'table' );\n        }\n      }\n    }\n    console.dir(\"ok\");\n  }catch(ex){console.dir(ex);}\n});\n</code></pre>\n\n<p>or use a jquery like solution like this:</p>\n\n<pre><code>jQuery( document ).ajaxComplete(function( event, xhr, settings ) {\n    jQuery('.some-class table, .woocommerce-product-attributes, .woocommerce-cart-form &gt; table').addClass(\"table\");\n});\n</code></pre>\n\n<p>i've tested both of them directly on your site and both solutions works pretty well</p>\n\n<p>and of course if you want make it works even at start  the same  script must be applied to jQuery( document ).ready() too:</p>\n\n<pre><code>jQuery( document ).ready(function() {\n    jQuery('.some-class table, .woocommerce-product-attributes, .woocommerce-cart-form &gt; table').addClass(\"table\");\n});\n</code></pre>\n"}], "owner": {"reputation": 1346, "user_id": 1766219, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0c581b7f41b55e26b58d30f090b0c550?s=128&d=identicon&r=PG", "display_name": "Zeth", "link": "https://stackoverflow.com/users/1766219/zeth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 376, "favorite_count": 0, "accepted_answer_id": 58127455, "answer_count": 4, "score": 6, "last_activity_date": 1570099013, "creation_date": 1565808168, "question_id": 57500359, "link": "https://stackoverflow.com/questions/57500359/apply-a-table-class-to-a-woocommerce-table-after-ajax-call", "title": "Apply a &#39;table&#39;-class to a WooCommerce table after AJAX-call", "body": "<p>WooCommerce-tables comes with classes like these, out of the box: <code>shop_table shop_table_responsive cart woocommerce-cart-form__contents</code>. So no <code>table</code>-class, which means no nifty Bootstrap-tables. </p>\n\n<p>Huh! </p>\n\n<p>And since overriding the WooCommerce-templates should only be done when absolutely necessary, then let's solve it with JavaScript!</p>\n\n<p>My entire site it encapsulated by a Vue-div, like so:</p>\n\n<pre><code>&lt;div id=\"app\"&gt;\n  ...\n  &lt;table class=\"shop_table shop_table_responsive cart woocommerce-cart-form__contents\"&gt;\n    ...\n    ...\n  &lt;/table&gt;\n  ... \n&lt;/div&gt;\n</code></pre>\n\n<p>So initially I wrote this code, to add the <code>table</code>-class to all tables:</p>\n\n<pre><code>let tableSelectors = [\n  '.some-class table',\n  '.woocommerce-product-attributes',\n  '.woocommerce-cart-form &gt; table'\n];\nfor( let t = 0; t &lt; tableSelectors.length; t++ ){\n  let tables = document.querySelectorAll( tableSelectors[t] );\n  if( tables ){\n    for( let i = 0; i &lt; tables.length; i++ ){\n      tables[i].classList.add( 'table' );\n    }\n  }\n}\n</code></pre>\n\n<p>... Putting that in the <code>mounted(){ ... }</code>-section. </p>\n\n<p>That worked! So far so good. </p>\n\n<p>But WooCommerce is using jQuery quite a lot. And on the cart page, if I change the quantity (and press 'Update'), then the table-contents are updated using AJAX. If you're curious how it works, then you can check it out <a href=\"https://themes.woocommerce.com/storefront/\" rel=\"noreferrer\">here</a>.</p>\n\n<p>And when that runs, I assume that WooCommerce grabs the initial cart-template and reloads that whole table; without the newly added <code>table</code>-class. Bah humbug! </p>\n\n<p>So how can I solve this? </p>\n\n<ol>\n<li><p>I can override the WooCommerce <code>./cart/cart.php</code>-template and add the \nclass to the template. Seems like quite the overkill for adding a class. </p></li>\n<li><p>I can scan the DOM for tables every second (or so) and apply the table class, if it's not there. Not cool... Regardless if it's done using jQuery or Vue.</p></li>\n</ol>\n\n<p>Since the whole table is being replaced in the DOM, then it doesn't work to monitor the current table (using watch(){...} in Vue) and apply the class if it changes, - since it never changes (it's replaced). </p>\n\n<p>I'm unable to find a Hook that I can use. </p>\n\n<p>I also tried using <code>ajaxComplete</code>, but I can see in the network-tab that the XHR-request is firing, but this code here is never doing anything (in the console):</p>\n\n<pre><code>jQuery( document ).ajaxComplete(function( event, xhr, settings ) {\n    console.log( 'Test' );\n});\n</code></pre>\n\n<p>Any other suggestions? </p>\n"}, {"tags": ["javascript", "jquery", "twitter-bootstrap", "twitter-bootstrap-3"], "comments": [{"owner": {"reputation": 1149, "user_id": 912046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oo5pQ.png?s=128&g=1", "display_name": "el-teedee", "link": "https://stackoverflow.com/users/912046/el-teedee"}, "edited": false, "score": 0, "creation_date": 1565809552, "post_id": 57500351, "comment_id": 101470656, "body": "what did you try that did not work? You can ave a look to <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to improve your question."}, {"owner": {"reputation": 357, "user_id": 11870700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/773be0ff892bcf4c407d66bb325711d0?s=128&d=identicon&r=PG&f=1", "display_name": "hisusu32", "link": "https://stackoverflow.com/users/11870700/hisusu32"}, "reply_to_user": {"reputation": 1149, "user_id": 912046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oo5pQ.png?s=128&g=1", "display_name": "el-teedee", "link": "https://stackoverflow.com/users/912046/el-teedee"}, "edited": false, "score": 0, "creation_date": 1565812795, "post_id": 57500351, "comment_id": 101471813, "body": "<code>$(this).parent().addClass(&quot;results&quot;);</code> adds the class results to all divs, I just want it for the divs that have the filtered value in it."}, {"owner": {"reputation": 1149, "user_id": 912046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oo5pQ.png?s=128&g=1", "display_name": "el-teedee", "link": "https://stackoverflow.com/users/912046/el-teedee"}, "edited": false, "score": 0, "creation_date": 1570217241, "post_id": 57500351, "comment_id": 102856567, "body": "then you should get the result of your filter statement, and loop over elements to add them the class you want."}], "owner": {"reputation": 357, "user_id": 11870700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/773be0ff892bcf4c407d66bb325711d0?s=128&d=identicon&r=PG&f=1", "display_name": "hisusu32", "link": "https://stackoverflow.com/users/11870700/hisusu32"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565816704, "creation_date": 1565808142, "last_edit_date": 1565816704, "question_id": 57500351, "link": "https://stackoverflow.com/questions/57500351/bootstrap-3-filter-add-class-to-parent-div-and-highlight-value", "title": "Bootstrap 3 Filter add class to parent div and highlight value", "body": "<pre><code>&lt;input class=\"form-control\" id=\"myInput\" type=\"text\" placeholder=\"Search..\"&gt;\n\n&lt;pre&gt;\n   &lt;div id=\"myDIV\"&gt;\n      &lt;h2&gt;Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean &lt;/h2&gt;&lt;br&gt;\n\n\n                     Nam quam nunc, blandit vel,\n\n\n      &lt;div&gt;\n      ----------------------------------------------------------------------\n         1. DATE: 03/02/19  \n      ----------------------------------------------------------------------\n            Title    Dummy Text Generator \n            Options : Many different Options here\n\n\n      Name:                                          Tony Starks\n\n      Category:\n         Super Heros                                  \n\n\n\n      &lt;/div&gt;\n      &lt;div&gt;\n      ----------------------------------------------------------------------\n         1. DATE: 05/12/19  \n      ----------------------------------------------------------------------\n            Title    Title for number 2   \n            Options : Anything here\n            Filler: Something Here\n\n      Name:                                          Superman\n\n      Category:\n         Testing test                                   Hello\n\n\n      &lt;/div&gt;\n      &lt;div&gt;\n      ----------------------------------------------------------------------\n         2. DATE: 07/24/17  \n      ----------------------------------------------------------------------\n            Title    Sports\n            Options : Baseball\n            Filler: More goodies here\n\n\n      Name:                                          Iron Man\n\n      Category:\n         Something Here                 \n\n      &lt;/div&gt;\n   &lt;/div&gt;\n&lt;/pre&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n   (function ($) {\n       $('#myInput').keyup(function() {\n           var value = $(this).val().toLowerCase();\n           console.log(value);\n           $(\"#myDIV *\").filter(function() {\n               $(this).toggle($(this).text().toLowerCase().indexOf(value) &gt; -1)\n           });\n           $(this).parent().closest('div').addClass(\"results\");\n       });\n   })(jQuery);   \n&lt;/script&gt;\n</code></pre>\n\n<p>The way this currently works is that when searching/filtering, it adds a display:none to all elements that don't contain the value inputted.</p>\n\n<p>I want to add a class called <code>results</code> to the parent div for the values that are found. Since right now it adds a <code>display:none</code> to all elements I have, all <code>&lt;br&gt;</code> tags inside of the filtered block are not being displayed, losing it's format (Check format in #myDiv).  </p>\n\n<pre><code>.results * {\n    display: block;\n}\n</code></pre>\n\n<p>I'm hoping by adding the above CSS, it should keep the elements inside the filtered block from losing it's format.</p>\n\n<p>Also, if I want to highlight the value word that the user selected, how would one recommend approaching this?</p>\n"}]